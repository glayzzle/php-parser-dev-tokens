[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","history",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","views",3],["T_NS_SEPARATOR","\\",3],["T_STRING","filter",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Cache",5],["T_NS_SEPARATOR","\\",5],["T_STRING","UncacheableDependencyTrait",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Form",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FormStateInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","views",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Plugin",7],["T_NS_SEPARATOR","\\",7],["T_STRING","views",7],["T_NS_SEPARATOR","\\",7],["T_STRING","filter",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FilterPluginBase",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Filter for new content.\n *\n * The handler is named history_user, because of compatibility reasons, the\n * table is history.\n *\n * @ingroup views_filter_handlers\n *\n * @ViewsFilter(\"history_user_timestamp\")\n *\/",9],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","HistoryUserTimestamp",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_STRING","FilterPluginBase",19],["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n\n  ",19],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","UncacheableDependencyTrait",21],";",["T_WHITESPACE","\n\n  ",21],["T_COMMENT","\/\/ Don't display empty space where the operator would be.\n",23],["T_WHITESPACE","  ",24],["T_PUBLIC","public",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$no_operator",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_STRING","TRUE",24],";",["T_WHITESPACE","\n\n  ",24],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",26],["T_WHITESPACE","\n  ",28],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","usesGroupBy",29],"(",")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n    ",29],["T_RETURN","return",30],["T_WHITESPACE"," ",30],["T_STRING","FALSE",30],";",["T_WHITESPACE","\n  ",30],"}",["T_WHITESPACE","\n\n  ",31],["T_PUBLIC","public",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","buildExposeForm",33],"(","&",["T_VARIABLE","$form",33],",",["T_WHITESPACE"," ",33],["T_STRING","FormStateInterface",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$form_state",33],")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n    ",33],["T_STRING","parent",34],["T_DOUBLE_COLON","::",34],["T_STRING","buildExposeForm",34],"(",["T_VARIABLE","$form",34],",",["T_WHITESPACE"," ",34],["T_VARIABLE","$form_state",34],")",";",["T_WHITESPACE","\n    ",34],["T_COMMENT","\/\/ @todo There are better ways of excluding required and multiple (object flags)\n",35],["T_WHITESPACE","    ",36],["T_UNSET","unset",36],"(",["T_VARIABLE","$form",36],"[",["T_CONSTANT_ENCAPSED_STRING","'expose'",36],"]","[",["T_CONSTANT_ENCAPSED_STRING","'required'",36],"]",")",";",["T_WHITESPACE","\n    ",36],["T_UNSET","unset",37],"(",["T_VARIABLE","$form",37],"[",["T_CONSTANT_ENCAPSED_STRING","'expose'",37],"]","[",["T_CONSTANT_ENCAPSED_STRING","'multiple'",37],"]",")",";",["T_WHITESPACE","\n    ",37],["T_UNSET","unset",38],"(",["T_VARIABLE","$form",38],"[",["T_CONSTANT_ENCAPSED_STRING","'expose'",38],"]","[",["T_CONSTANT_ENCAPSED_STRING","'remember'",38],"]",")",";",["T_WHITESPACE","\n  ",38],"}",["T_WHITESPACE","\n\n  ",39],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","valueForm",41],"(","&",["T_VARIABLE","$form",41],",",["T_WHITESPACE"," ",41],["T_STRING","FormStateInterface",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$form_state",41],")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n    ",41],["T_COMMENT","\/\/ Only present a checkbox for the exposed filter itself. There's no way\n",42],["T_WHITESPACE","    ",43],["T_COMMENT","\/\/ to tell the difference between not checked and the default value, so\n",43],["T_WHITESPACE","    ",44],["T_COMMENT","\/\/ specifying the default value via the views UI is meaningless.\n",44],["T_WHITESPACE","    ",45],["T_IF","if",45],["T_WHITESPACE"," ",45],"(",["T_VARIABLE","$form_state",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","get",45],"(",["T_CONSTANT_ENCAPSED_STRING","'exposed'",45],")",")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n      ",45],["T_IF","if",46],["T_WHITESPACE"," ",46],"(",["T_ISSET","isset",46],"(",["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","options",46],"[",["T_CONSTANT_ENCAPSED_STRING","'expose'",46],"]","[",["T_CONSTANT_ENCAPSED_STRING","'label'",46],"]",")",")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$label",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","options",47],"[",["T_CONSTANT_ENCAPSED_STRING","'expose'",47],"]","[",["T_CONSTANT_ENCAPSED_STRING","'label'",47],"]",";",["T_WHITESPACE","\n      ",47],"}",["T_WHITESPACE","\n      ",48],["T_ELSE","else",49],["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$label",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","t",50],"(",["T_CONSTANT_ENCAPSED_STRING","'Has new content'",50],")",";",["T_WHITESPACE","\n      ",50],"}",["T_WHITESPACE","\n      ",51],["T_VARIABLE","$form",52],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",52],"]",["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_ARRAY","array",52],"(",["T_WHITESPACE","\n        ",52],["T_CONSTANT_ENCAPSED_STRING","'#type'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'checkbox'",53],",",["T_WHITESPACE","\n        ",53],["T_CONSTANT_ENCAPSED_STRING","'#title'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$label",54],",",["T_WHITESPACE","\n        ",54],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","value",55],",",["T_WHITESPACE","\n      ",55],")",";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n  ",57],"}",["T_WHITESPACE","\n\n  ",58],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","query",60],"(",")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n    ",60],["T_COMMENT","\/\/ This can only work if we're authenticated in.\n",61],["T_WHITESPACE","    ",62],["T_IF","if",62],["T_WHITESPACE"," ",62],"(","!",["T_NS_SEPARATOR","\\",62],["T_STRING","Drupal",62],["T_DOUBLE_COLON","::",62],["T_STRING","currentUser",62],"(",")",["T_OBJECT_OPERATOR","->",62],["T_STRING","isAuthenticated",62],"(",")",")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n      ",62],["T_RETURN","return",63],";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_COMMENT","\/\/ Don't filter if we're exposed and the checkbox isn't selected.\n",66],["T_WHITESPACE","    ",67],["T_IF","if",67],["T_WHITESPACE"," ",67],"(","(","!",["T_EMPTY","empty",67],"(",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","options",67],"[",["T_CONSTANT_ENCAPSED_STRING","'exposed'",67],"]",")",")",["T_WHITESPACE"," ",67],["T_BOOLEAN_AND","&&",67],["T_WHITESPACE"," ",67],["T_EMPTY","empty",67],"(",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","value",67],")",")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n      ",67],["T_RETURN","return",68],";",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n\n    ",69],["T_COMMENT","\/\/ Hey, Drupal kills old history, so nodes that haven't been updated\n",71],["T_WHITESPACE","    ",72],["T_COMMENT","\/\/ since HISTORY_READ_LIMIT are bzzzzzzzt outta here!\n",72],["T_WHITESPACE","\n    ",73],["T_VARIABLE","$limit",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","REQUEST_TIME",74],["T_WHITESPACE"," ",74],"-",["T_WHITESPACE"," ",74],["T_STRING","HISTORY_READ_LIMIT",74],";",["T_WHITESPACE","\n\n    ",74],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","ensureMyTable",76],"(",")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$field",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],"\"",["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","tableAlias",77],["T_ENCAPSED_AND_WHITESPACE",".",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","realField",77],"\"",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$node",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","query",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","ensureTable",78],"(",["T_CONSTANT_ENCAPSED_STRING","'node_field_data'",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","relationship",78],")",";",["T_WHITESPACE","\n\n    ",78],["T_VARIABLE","$clause",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","''",80],";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$clause2",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","''",81],";",["T_WHITESPACE","\n    ",81],["T_IF","if",82],["T_WHITESPACE"," ",82],"(",["T_VARIABLE","$ces",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","query",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","ensureTable",82],"(",["T_CONSTANT_ENCAPSED_STRING","'comment_entity_statistics'",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","relationship",82],")",")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n      ",82],["T_VARIABLE","$clause",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],"(","\"",["T_ENCAPSED_AND_WHITESPACE","OR ",83],["T_VARIABLE","$ces",83],["T_ENCAPSED_AND_WHITESPACE",".last_comment_timestamp > (***CURRENT_TIME*** - ",83],["T_VARIABLE","$limit",83],["T_ENCAPSED_AND_WHITESPACE",")",83],"\"",")",";",["T_WHITESPACE","\n      ",83],["T_VARIABLE","$clause2",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],"\"",["T_ENCAPSED_AND_WHITESPACE","OR ",84],["T_VARIABLE","$field",84],["T_ENCAPSED_AND_WHITESPACE"," < ",84],["T_VARIABLE","$ces",84],["T_ENCAPSED_AND_WHITESPACE",".last_comment_timestamp",84],"\"",";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n\n    ",85],["T_COMMENT","\/\/ NULL means a history record doesn't exist. That's clearly new content.\n",87],["T_WHITESPACE","    ",88],["T_COMMENT","\/\/ Unless it's very very old content. Everything in the query is already\n",88],["T_WHITESPACE","    ",89],["T_COMMENT","\/\/ type safe cause none of it is coming from outside here.\n",89],["T_WHITESPACE","    ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","query",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","addWhereExpression",90],"(",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","options",90],"[",["T_CONSTANT_ENCAPSED_STRING","'group'",90],"]",",",["T_WHITESPACE"," ",90],"\"",["T_ENCAPSED_AND_WHITESPACE","(",90],["T_VARIABLE","$field",90],["T_ENCAPSED_AND_WHITESPACE"," IS NULL AND (",90],["T_VARIABLE","$node",90],["T_ENCAPSED_AND_WHITESPACE",".changed > (***CURRENT_TIME*** - ",90],["T_VARIABLE","$limit",90],["T_ENCAPSED_AND_WHITESPACE",") ",90],["T_VARIABLE","$clause",90],["T_ENCAPSED_AND_WHITESPACE",")) OR ",90],["T_VARIABLE","$field",90],["T_ENCAPSED_AND_WHITESPACE"," < ",90],["T_VARIABLE","$node",90],["T_ENCAPSED_AND_WHITESPACE",".changed ",90],["T_VARIABLE","$clause2",90],"\"",")",";",["T_WHITESPACE","\n  ",90],"}",["T_WHITESPACE","\n\n  ",91],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","adminSummary",93],"(",")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n    ",93],["T_IF","if",94],["T_WHITESPACE"," ",94],"(","!",["T_EMPTY","empty",94],"(",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","options",94],"[",["T_CONSTANT_ENCAPSED_STRING","'exposed'",94],"]",")",")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n      ",94],["T_RETURN","return",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","t",95],"(",["T_CONSTANT_ENCAPSED_STRING","'exposed'",95],")",";",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n  ",96],"}",["T_WHITESPACE","\n\n",97],"}",["T_WHITESPACE","\n",99]]