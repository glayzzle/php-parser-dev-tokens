[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","dblog",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Html",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Utility",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unicode",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Logger",7],["T_NS_SEPARATOR","\\",7],["T_STRING","RfcLogLevel",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Url",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","dblog",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Controller",9],["T_NS_SEPARATOR","\\",9],["T_STRING","DbLogController",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","simpletest",10],["T_NS_SEPARATOR","\\",10],["T_STRING","WebTestBase",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Generate events and verify dblog entries; verify user access to log reports\n * based on permissions.\n *\n * @group dblog\n *\/",12],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","DbLogTest",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_STRING","WebTestBase",18],["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n\n  ",18],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",20],["T_WHITESPACE","\n  ",24],["T_PUBLIC","public",25],["T_WHITESPACE"," ",25],["T_STATIC","static",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$modules",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_ARRAY","array",25],"(",["T_CONSTANT_ENCAPSED_STRING","'dblog'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'node'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'forum'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'help'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'block'",25],")",";",["T_WHITESPACE","\n\n  ",25],["T_DOC_COMMENT","\/**\n   * A user with some relevant administrative permissions.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",27],["T_WHITESPACE","\n  ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$adminUser",32],";",["T_WHITESPACE","\n\n  ",32],["T_DOC_COMMENT","\/**\n   * A user without any permissions.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",34],["T_WHITESPACE","\n  ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$webUser",39],";",["T_WHITESPACE","\n\n  ",39],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",41],["T_WHITESPACE","\n  ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","setUp",44],"(",")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n    ",44],["T_STRING","parent",45],["T_DOUBLE_COLON","::",45],["T_STRING","setUp",45],"(",")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","drupalPlaceBlock",46],"(",["T_CONSTANT_ENCAPSED_STRING","'system_breadcrumb_block'",46],")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","drupalPlaceBlock",47],"(",["T_CONSTANT_ENCAPSED_STRING","'page_title_block'",47],")",";",["T_WHITESPACE","\n\n    ",47],["T_COMMENT","\/\/ Create users with specific permissions.\n",49],["T_WHITESPACE","    ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","adminUser",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","drupalCreateUser",50],"(",["T_ARRAY","array",50],"(",["T_CONSTANT_ENCAPSED_STRING","'administer site configuration'",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'access administration pages'",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'access site reports'",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'administer users'",50],")",")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","webUser",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","drupalCreateUser",51],"(",["T_ARRAY","array",51],"(",")",")",";",["T_WHITESPACE","\n  ",51],"}",["T_WHITESPACE","\n\n  ",52],["T_DOC_COMMENT","\/**\n   * Tests Database Logging module functionality through interfaces.\n   *\n   * First logs in users, then creates database log events, and finally tests\n   * Database Logging module functionality through both the admin and user\n   * interfaces.\n   *\/",54],["T_WHITESPACE","\n  ",60],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","testDbLog",61],"(",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n    ",61],["T_COMMENT","\/\/ Log in the admin user.\n",62],["T_WHITESPACE","    ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","drupalLogin",63],"(",["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","adminUser",63],")",";",["T_WHITESPACE","\n\n    ",63],["T_VARIABLE","$row_limit",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_LNUMBER","100",65],";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","verifyRowLimit",66],"(",["T_VARIABLE","$row_limit",66],")",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","verifyCron",67],"(",["T_VARIABLE","$row_limit",67],")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","verifyEvents",68],"(",")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","verifyReports",69],"(",")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","verifyBreadcrumbs",70],"(",")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","verifyLinkEscaping",71],"(",")",";",["T_WHITESPACE","\n    ",71],["T_COMMENT","\/\/ Verify the overview table sorting.\n",72],["T_WHITESPACE","    ",73],["T_VARIABLE","$orders",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_ARRAY","array",73],"(",["T_CONSTANT_ENCAPSED_STRING","'Date'",73],",",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'Type'",73],",",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'User'",73],")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$sorts",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_ARRAY","array",74],"(",["T_CONSTANT_ENCAPSED_STRING","'asc'",74],",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'desc'",74],")",";",["T_WHITESPACE","\n    ",74],["T_FOREACH","foreach",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$orders",75],["T_WHITESPACE"," ",75],["T_AS","as",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$order",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n      ",75],["T_FOREACH","foreach",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$sorts",76],["T_WHITESPACE"," ",76],["T_AS","as",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$sort",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","verifySort",77],"(",["T_VARIABLE","$sort",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$order",77],")",";",["T_WHITESPACE","\n      ",77],"}",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_COMMENT","\/\/ Log in the regular user.\n",81],["T_WHITESPACE","    ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","drupalLogin",82],"(",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","webUser",82],")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","verifyReports",83],"(",["T_LNUMBER","403",83],")",";",["T_WHITESPACE","\n  ",83],"}",["T_WHITESPACE","\n\n  ",84],["T_DOC_COMMENT","\/**\n   * Test individual log event page.\n   *\/",86],["T_WHITESPACE","\n  ",88],["T_PUBLIC","public",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","testLogEventPage",89],"(",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n    ",89],["T_COMMENT","\/\/ Login the admin user.\n",90],["T_WHITESPACE","    ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","drupalLogin",91],"(",["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","adminUser",91],")",";",["T_WHITESPACE","\n\n    ",91],["T_COMMENT","\/\/ Since referrer and location links vary by how the tests are run, inject\n",93],["T_WHITESPACE","    ",94],["T_COMMENT","\/\/ fake log data to test these.\n",94],["T_WHITESPACE","    ",95],["T_VARIABLE","$context",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],"[",["T_WHITESPACE","\n      ",95],["T_CONSTANT_ENCAPSED_STRING","'request_uri'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com?dblog=1'",96],",",["T_WHITESPACE","\n      ",96],["T_CONSTANT_ENCAPSED_STRING","'referer'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.org?dblog=2'",97],",",["T_WHITESPACE","\n      ",97],["T_CONSTANT_ENCAPSED_STRING","'uid'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_LNUMBER","0",98],",",["T_WHITESPACE","\n      ",98],["T_CONSTANT_ENCAPSED_STRING","'channel'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'testing'",99],",",["T_WHITESPACE","\n      ",99],["T_CONSTANT_ENCAPSED_STRING","'link'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'foo\/bar'",100],",",["T_WHITESPACE","\n      ",100],["T_CONSTANT_ENCAPSED_STRING","'ip'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'0.0.1.0'",101],",",["T_WHITESPACE","\n      ",101],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_STRING","REQUEST_TIME",102],",",["T_WHITESPACE","\n    ",102],"]",";",["T_WHITESPACE","\n    ",103],["T_NS_SEPARATOR","\\",104],["T_STRING","Drupal",104],["T_DOUBLE_COLON","::",104],["T_STRING","service",104],"(",["T_CONSTANT_ENCAPSED_STRING","'logger.dblog'",104],")",["T_OBJECT_OPERATOR","->",104],["T_STRING","log",104],"(",["T_STRING","RfcLogLevel",104],["T_DOUBLE_COLON","::",104],["T_STRING","NOTICE",104],",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'Test message'",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$context",104],")",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$wid",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","db_query",105],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT MAX(wid) FROM {watchdog}'",105],")",["T_OBJECT_OPERATOR","->",105],["T_STRING","fetchField",105],"(",")",";",["T_WHITESPACE","\n\n    ",105],["T_COMMENT","\/\/ Verify the links appear correctly.\n",107],["T_WHITESPACE","    ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","drupalGet",108],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/dblog\/event\/'",108],["T_WHITESPACE"," ",108],".",["T_WHITESPACE"," ",108],["T_VARIABLE","$wid",108],")",";",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertLinkByHref",109],"(",["T_VARIABLE","$context",109],"[",["T_CONSTANT_ENCAPSED_STRING","'request_uri'",109],"]",")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertLinkByHref",110],"(",["T_VARIABLE","$context",110],"[",["T_CONSTANT_ENCAPSED_STRING","'referer'",110],"]",")",";",["T_WHITESPACE","\n\n    ",110],["T_COMMENT","\/\/ Verify hostname.\n",112],["T_WHITESPACE","    ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","assertRaw",113],"(",["T_VARIABLE","$context",113],"[",["T_CONSTANT_ENCAPSED_STRING","'ip'",113],"]",",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'Found hostname on the detail page.'",113],")",";",["T_WHITESPACE","\n\n    ",113],["T_COMMENT","\/\/ Verify severity.\n",115],["T_WHITESPACE","    ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","assertText",116],"(",["T_CONSTANT_ENCAPSED_STRING","'Notice'",116],",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'The severity was properly displayed on the detail page.'",116],")",";",["T_WHITESPACE","\n  ",116],"}",["T_WHITESPACE","\n\n  ",117],["T_DOC_COMMENT","\/**\n   * Verifies setting of the database log row limit.\n   *\n   * @param int $row_limit\n   *   The row limit.\n   *\/",119],["T_WHITESPACE","\n  ",124],["T_PRIVATE","private",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","verifyRowLimit",125],"(",["T_VARIABLE","$row_limit",125],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n    ",125],["T_COMMENT","\/\/ Change the database log row limit.\n",126],["T_WHITESPACE","    ",127],["T_VARIABLE","$edit",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_ARRAY","array",127],"(",")",";",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$edit",128],"[",["T_CONSTANT_ENCAPSED_STRING","'dblog_row_limit'",128],"]",["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$row_limit",128],";",["T_WHITESPACE","\n    ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","drupalPostForm",129],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/development\/logging'",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$edit",129],",",["T_WHITESPACE"," ",129],["T_STRING","t",129],"(",["T_CONSTANT_ENCAPSED_STRING","'Save configuration'",129],")",")",";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","assertResponse",130],"(",["T_LNUMBER","200",130],")",";",["T_WHITESPACE","\n\n    ",130],["T_COMMENT","\/\/ Check row limit variable.\n",132],["T_WHITESPACE","    ",133],["T_VARIABLE","$current_limit",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","config",133],"(",["T_CONSTANT_ENCAPSED_STRING","'dblog.settings'",133],")",["T_OBJECT_OPERATOR","->",133],["T_STRING","get",133],"(",["T_CONSTANT_ENCAPSED_STRING","'row_limit'",133],")",";",["T_WHITESPACE","\n    ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","assertTrue",134],"(",["T_VARIABLE","$current_limit",134],["T_WHITESPACE"," ",134],["T_IS_EQUAL","==",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$row_limit",134],",",["T_WHITESPACE"," ",134],["T_STRING","format_string",134],"(",["T_CONSTANT_ENCAPSED_STRING","'[Cache] Row limit variable of @count equals row limit of @limit'",134],",",["T_WHITESPACE"," ",134],["T_ARRAY","array",134],"(",["T_CONSTANT_ENCAPSED_STRING","'@count'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$current_limit",134],",",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'@limit'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$row_limit",134],")",")",")",";",["T_WHITESPACE","\n  ",134],"}",["T_WHITESPACE","\n\n  ",135],["T_DOC_COMMENT","\/**\n   * Verifies that cron correctly applies the database log row limit.\n   *\n   * @param int $row_limit\n   *   The row limit.\n   *\/",137],["T_WHITESPACE","\n  ",142],["T_PRIVATE","private",143],["T_WHITESPACE"," ",143],["T_FUNCTION","function",143],["T_WHITESPACE"," ",143],["T_STRING","verifyCron",143],"(",["T_VARIABLE","$row_limit",143],")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n    ",143],["T_COMMENT","\/\/ Generate additional log entries.\n",144],["T_WHITESPACE","    ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","generateLogEntries",145],"(",["T_VARIABLE","$row_limit",145],["T_WHITESPACE"," ",145],"+",["T_WHITESPACE"," ",145],["T_LNUMBER","10",145],")",";",["T_WHITESPACE","\n    ",145],["T_COMMENT","\/\/ Verify that the database log row count exceeds the row limit.\n",146],["T_WHITESPACE","    ",147],["T_VARIABLE","$count",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","db_query",147],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT COUNT(wid) FROM {watchdog}'",147],")",["T_OBJECT_OPERATOR","->",147],["T_STRING","fetchField",147],"(",")",";",["T_WHITESPACE","\n    ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","assertTrue",148],"(",["T_VARIABLE","$count",148],["T_WHITESPACE"," ",148],">",["T_WHITESPACE"," ",148],["T_VARIABLE","$row_limit",148],",",["T_WHITESPACE"," ",148],["T_STRING","format_string",148],"(",["T_CONSTANT_ENCAPSED_STRING","'Dblog row count of @count exceeds row limit of @limit'",148],",",["T_WHITESPACE"," ",148],["T_ARRAY","array",148],"(",["T_CONSTANT_ENCAPSED_STRING","'@count'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$count",148],",",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'@limit'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$row_limit",148],")",")",")",";",["T_WHITESPACE","\n\n    ",148],["T_COMMENT","\/\/ Get last ID to compare against; log entries get deleted, so we can't\n",150],["T_WHITESPACE","    ",151],["T_COMMENT","\/\/ reliably add the number of newly created log entries to the current count\n",151],["T_WHITESPACE","    ",152],["T_COMMENT","\/\/ to measure number of log entries created by cron.\n",152],["T_WHITESPACE","    ",153],["T_VARIABLE","$last_id",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_STRING","db_query",153],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT MAX(wid) FROM {watchdog}'",153],")",["T_OBJECT_OPERATOR","->",153],["T_STRING","fetchField",153],"(",")",";",["T_WHITESPACE","\n\n    ",153],["T_COMMENT","\/\/ Run a cron job.\n",155],["T_WHITESPACE","    ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","cronRun",156],"(",")",";",["T_WHITESPACE","\n\n    ",156],["T_COMMENT","\/\/ Get last ID after cron was run.\n",158],["T_WHITESPACE","    ",159],["T_VARIABLE","$current_id",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_STRING","db_query",159],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT MAX(wid) FROM {watchdog}'",159],")",["T_OBJECT_OPERATOR","->",159],["T_STRING","fetchField",159],"(",")",";",["T_WHITESPACE","\n\n    ",159],["T_COMMENT","\/\/ Get the number of enabled modules. Cron adds a log entry for each module.\n",161],["T_WHITESPACE","    ",162],["T_VARIABLE","$list",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_NS_SEPARATOR","\\",162],["T_STRING","Drupal",162],["T_DOUBLE_COLON","::",162],["T_STRING","moduleHandler",162],"(",")",["T_OBJECT_OPERATOR","->",162],["T_STRING","getImplementations",162],"(",["T_CONSTANT_ENCAPSED_STRING","'cron'",162],")",";",["T_WHITESPACE","\n    ",162],["T_VARIABLE","$module_count",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_STRING","count",163],"(",["T_VARIABLE","$list",163],")",";",["T_WHITESPACE","\n\n    ",163],["T_VARIABLE","$count",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$current_id",165],["T_WHITESPACE"," ",165],"-",["T_WHITESPACE"," ",165],["T_VARIABLE","$last_id",165],";",["T_WHITESPACE","\n    ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","assertTrue",166],"(","(",["T_VARIABLE","$current_id",166],["T_WHITESPACE"," ",166],"-",["T_WHITESPACE"," ",166],["T_VARIABLE","$last_id",166],")",["T_WHITESPACE"," ",166],["T_IS_EQUAL","==",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$module_count",166],["T_WHITESPACE"," ",166],"+",["T_WHITESPACE"," ",166],["T_LNUMBER","2",166],",",["T_WHITESPACE"," ",166],["T_STRING","format_string",166],"(",["T_CONSTANT_ENCAPSED_STRING","'Cron added @count of @expected new log entries'",166],",",["T_WHITESPACE"," ",166],["T_ARRAY","array",166],"(",["T_CONSTANT_ENCAPSED_STRING","'@count'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$count",166],",",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'@expected'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$module_count",166],["T_WHITESPACE"," ",166],"+",["T_WHITESPACE"," ",166],["T_LNUMBER","2",166],")",")",")",";",["T_WHITESPACE","\n  ",166],"}",["T_WHITESPACE","\n\n  ",167],["T_DOC_COMMENT","\/**\n   * Generates a number of random database log events.\n   *\n   * @param int $count\n   *   Number of watchdog entries to generate.\n   * @param array $options\n   *   These options are used to override the defaults for the test.\n   *   An associative array containing any of the following keys:\n   *   - 'channel': String identifying the log channel to be output to.\n   *     If the channel is not set, the default of 'custom' will be used.\n   *   - 'message': String containing a message to be output to the log.\n   *     A simple default message is used if not provided.\n   *   - 'variables': Array of variables that match the message string.\n   *   - 'severity': Log severity level as defined in logging_severity_levels.\n   *   - 'link': String linking to view the result of the event.\n   *   - 'user': String identifying the username.\n   *   - 'uid': Int identifying the user id for the user.\n   *   - 'request_uri': String identifying the location of the request.\n   *   - 'referer': String identifying the referring url.\n   *   - 'ip': String The ip address of the client machine triggering the log\n   *     entry.\n   *   - 'timestamp': Int unix timestamp.\n   *\/",169],["T_WHITESPACE","\n  ",191],["T_PRIVATE","private",192],["T_WHITESPACE"," ",192],["T_FUNCTION","function",192],["T_WHITESPACE"," ",192],["T_STRING","generateLogEntries",192],"(",["T_VARIABLE","$count",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$options",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_ARRAY","array",192],"(",")",")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n    ",192],["T_GLOBAL","global",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$base_root",193],";",["T_WHITESPACE","\n\n    ",193],["T_COMMENT","\/\/ This long URL makes it just a little bit harder to pass the link part of\n",195],["T_WHITESPACE","    ",196],["T_COMMENT","\/\/ the test with a mix of English words and a repeating series of random\n",196],["T_WHITESPACE","    ",197],["T_COMMENT","\/\/ percent-encoded Chinese characters.\n",197],["T_WHITESPACE","    ",198],["T_VARIABLE","$link",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_STRING","urldecode",198],"(",["T_CONSTANT_ENCAPSED_STRING","'\/content\/xo%E9%85%B1%E5%87%89%E6%8B%8C%E7%B4%A0%E9%B8%A1%E7%85%A7%E7%83%A7%E9%B8%A1%E9%BB%84%E7%8E%AB%E7%91%B0-%E7%A7%91%E5%B7%9E%E7%9A%84%E5%B0%8F%E4%B9%9D%E5%AF%A8%E6%B2%9F%E7%BB%9D%E7%BE%8E%E9%AB%98%E5%B1%B1%E6%B9%96%E6%B3%8A%E9%85%B1%E5%87%89%E6%8B%8C%E7%B4%A0%E9%B8%A1%E7%85%A7%E7%83%A7%E9%B8%A1%E9%BB%84%E7%8E%AB%E7%91%B0-%E7%A7%91%E5%B7%9E%E7%9A%84%E5%B0%8F%E4%B9%9D%E5%AF%A8%E6%B2%9F%E7%BB%9D%E7%BE%8E%E9%AB%98%E5%B1%B1%E6%B9%96%E6%B3%8A%E9%85%B1%E5%87%89%E6%8B%8C%E7%B4%A0%E9%B8%A1%E7%85%A7%E7%83%A7%E9%B8%A1%E9%BB%84%E7%8E%AB%E7%91%B0-%E7%A7%91%E5%B7%9E%E7%9A%84%E5%B0%8F%E4%B9%9D%E5%AF%A8%E6%B2%9F%E7%BB%9D%E7%BE%8E%E9%AB%98%E5%B1%B1%E6%B9%96%E6%B3%8A%E9%85%B1%E5%87%89%E6%8B%8C%E7%B4%A0%E9%B8%A1%E7%85%A7%E7%83%A7%E9%B8%A1%E9%BB%84%E7%8E%AB%E7%91%B0-%E7%A7%91%E5%B7%9E%E7%9A%84%E5%B0%8F%E4%B9%9D%E5%AF%A8%E6%B2%9F%E7%BB%9D%E7%BE%8E%E9%AB%98%E5%B1%B1%E6%B9%96%E6%B3%8A%E9%85%B1%E5%87%89%E6%8B%8C%E7%B4%A0%E9%B8%A1%E7%85%A7%E7%83%A7%E9%B8%A1%E9%BB%84%E7%8E%AB%E7%91%B0-%E7%A7%91%E5%B7%9E%E7%9A%84%E5%B0%8F%E4%B9%9D%E5%AF%A8%E6%B2%9F%E7%BB%9D%E7%BE%8E%E9%AB%98%E5%B1%B1%E6%B9%96%E6%B3%8A%E9%85%B1%E5%87%89%E6%8B%8C%E7%B4%A0%E9%B8%A1%E7%85%A7%E7%83%A7%E9%B8%A1%E9%BB%84%E7%8E%AB%E7%91%B0-%E7%A7%91%E5%B7%9E%E7%9A%84%E5%B0%8F%E4%B9%9D%E5%AF%A8%E6%B2%9F%E7%BB%9D%E7%BE%8E%E9%AB%98%E5%B1%B1%E6%B9%96%E6%B3%8A%E9%85%B1%E5%87%89%E6%8B%8C%E7%B4%A0%E9%B8%A1%E7%85%A7%E7%83%A7%E9%B8%A1%E9%BB%84%E7%8E%AB%E7%91%B0-%E7%A7%91%E5%B7%9E%E7%9A%84%E5%B0%8F%E4%B9%9D%E5%AF%A8%E6%B2%9F%E7%BB%9D%E7%BE%8E%E9%AB%98%E5%B1%B1%E6%B9%96%E6%B3%8A%E9%85%B1%E5%87%89%E6%8B%8C%E7%B4%A0%E9%B8%A1%E7%85%A7%E7%83%A7%E9%B8%A1%E9%BB%84%E7%8E%AB%E7%91%B0-%E7%A7%91%E5%B7%9E%E7%9A%84%E5%B0%8F%E4%B9%9D%E5%AF%A8%E6%B2%9F%E7%BB%9D%E7%BE%8E%E9%AB%98%E5%B1%B1%E6%B9%96%E6%B3%8A%E9%85%B1%E5%87%89%E6%8B%8C%E7%B4%A0%E9%B8%A1%E7%85%A7%E7%83%A7%E9%B8%A1%E9%BB%84%E7%8E%AB%E7%91%B0-%E7%A7%91%E5%B7%9E%E7%9A%84%E5%B0%8F%E4%B9%9D%E5%AF%A8%E6%B2%9F%E7%BB%9D%E7%BE%8E%E9%AB%98%E5%B1%B1%E6%B9%96%E6%B3%8A%E9%85%B1%E5%87%89%E6%8B%8C%E7%B4%A0%E9%B8%A1%E7%85%A7%E7%83%A7%E9%B8%A1%E9%BB%84%E7%8E%AB%E7%91%B0-%E7%A7%91%E5%B7%9E%E7%9A%84%E5%B0%8F%E4%B9%9D%E5%AF%A8%E6%B2%9F%E7%BB%9D%E7%BE%8E%E9%AB%98%E5%B1%B1%E6%B9%96%E6%B3%8A%E9%85%B1%E5%87%89%E6%8B%8C%E7%B4%A0%E9%B8%A1%E7%85%A7%E7%83%A7%E9%B8%A1%E9%BB%84%E7%8E%AB%E7%91%B0-%E7%A7%91%E5%B7%9E%E7%9A%84%E5%B0%8F%E4%B9%9D%E5%AF%A8%E6%B2%9F%E7%BB%9D%E7%BE%8E%E9%AB%98%E5%B1%B1%E6%B9%96%E6%B3%8A%E9%85%B1%E5%87%89%E6%8B%8C%E7%B4%A0%E9%B8%A1%E7%85%A7%E7%83%A7%E9%B8%A1%E9%BB%84%E7%8E%AB%E7%91%B0-%E7%A7%91%E5%B7%9E%E7%9A%84%E5%B0%8F%E4%B9%9D%E5%AF%A8%E6%B2%9F%E7%BB%9D%E7%BE%8E%E9%AB%98%E5%B1%B1%E6%B9%96%E6%B3%8A%E9%85%B1%E5%87%89%E6%8B%8C%E7%B4%A0%E9%B8%A1%E7%85%A7%E7%83%A7%E9%B8%A1%E9%BB%84%E7%8E%AB%E7%91%B0-%E7%A7%91%E5%B7%9E%E7%9A%84%E5%B0%8F%E4%B9%9D%E5%AF%A8%E6%B2%9F%E7%BB%9D%E7%BE%8E%E9%AB%98%E5%B1%B1%E6%B9%96%E6%B3%8A-lake-isabelle'",198],")",";",["T_WHITESPACE","\n\n    ",198],["T_COMMENT","\/\/ Prepare the fields to be logged\n",200],["T_WHITESPACE","    ",201],["T_VARIABLE","$log",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$options",201],["T_WHITESPACE"," ",201],"+",["T_WHITESPACE"," ",201],["T_ARRAY","array",201],"(",["T_WHITESPACE","\n      ",201],["T_CONSTANT_ENCAPSED_STRING","'channel'",202],["T_WHITESPACE","     ",202],["T_DOUBLE_ARROW","=>",202],["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'custom'",202],",",["T_WHITESPACE","\n      ",202],["T_CONSTANT_ENCAPSED_STRING","'message'",203],["T_WHITESPACE","     ",203],["T_DOUBLE_ARROW","=>",203],["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'Dblog test log message'",203],",",["T_WHITESPACE","\n      ",203],["T_CONSTANT_ENCAPSED_STRING","'variables'",204],["T_WHITESPACE","   ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],["T_ARRAY","array",204],"(",")",",",["T_WHITESPACE","\n      ",204],["T_CONSTANT_ENCAPSED_STRING","'severity'",205],["T_WHITESPACE","    ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_STRING","RfcLogLevel",205],["T_DOUBLE_COLON","::",205],["T_STRING","NOTICE",205],",",["T_WHITESPACE","\n      ",205],["T_CONSTANT_ENCAPSED_STRING","'link'",206],["T_WHITESPACE","        ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$link",206],",",["T_WHITESPACE","\n      ",206],["T_CONSTANT_ENCAPSED_STRING","'user'",207],["T_WHITESPACE","        ",207],["T_DOUBLE_ARROW","=>",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","adminUser",207],",",["T_WHITESPACE","\n      ",207],["T_CONSTANT_ENCAPSED_STRING","'uid'",208],["T_WHITESPACE","         ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","adminUser",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","id",208],"(",")",",",["T_WHITESPACE","\n      ",208],["T_CONSTANT_ENCAPSED_STRING","'request_uri'",209],["T_WHITESPACE"," ",209],["T_DOUBLE_ARROW","=>",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$base_root",209],["T_WHITESPACE"," ",209],".",["T_WHITESPACE"," ",209],["T_NS_SEPARATOR","\\",209],["T_STRING","Drupal",209],["T_DOUBLE_COLON","::",209],["T_STRING","request",209],"(",")",["T_OBJECT_OPERATOR","->",209],["T_STRING","getRequestUri",209],"(",")",",",["T_WHITESPACE","\n      ",209],["T_CONSTANT_ENCAPSED_STRING","'referer'",210],["T_WHITESPACE","     ",210],["T_DOUBLE_ARROW","=>",210],["T_WHITESPACE"," ",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Drupal",210],["T_DOUBLE_COLON","::",210],["T_STRING","request",210],"(",")",["T_OBJECT_OPERATOR","->",210],["T_STRING","server",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","get",210],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_REFERER'",210],")",",",["T_WHITESPACE","\n      ",210],["T_CONSTANT_ENCAPSED_STRING","'ip'",211],["T_WHITESPACE","          ",211],["T_DOUBLE_ARROW","=>",211],["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",211],",",["T_WHITESPACE","\n      ",211],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",212],["T_WHITESPACE","   ",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],["T_STRING","REQUEST_TIME",212],",",["T_WHITESPACE","\n    ",212],")",";",["T_WHITESPACE","\n\n    ",213],["T_VARIABLE","$logger",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","container",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","get",215],"(",["T_CONSTANT_ENCAPSED_STRING","'logger.dblog'",215],")",";",["T_WHITESPACE","\n    ",215],["T_VARIABLE","$message",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$log",216],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",216],"]",["T_WHITESPACE"," ",216],".",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","' Entry #'",216],";",["T_WHITESPACE","\n    ",216],["T_FOR","for",217],["T_WHITESPACE"," ",217],"(",["T_VARIABLE","$i",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_LNUMBER","0",217],";",["T_WHITESPACE"," ",217],["T_VARIABLE","$i",217],["T_WHITESPACE"," ",217],"<",["T_WHITESPACE"," ",217],["T_VARIABLE","$count",217],";",["T_WHITESPACE"," ",217],["T_VARIABLE","$i",217],["T_INC","++",217],")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n      ",217],["T_VARIABLE","$log",218],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",218],"]",["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$message",218],["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_VARIABLE","$i",218],";",["T_WHITESPACE","\n      ",218],["T_VARIABLE","$logger",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","log",219],"(",["T_VARIABLE","$log",219],"[",["T_CONSTANT_ENCAPSED_STRING","'severity'",219],"]",",",["T_WHITESPACE"," ",219],["T_VARIABLE","$log",219],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",219],"]",",",["T_WHITESPACE"," ",219],["T_VARIABLE","$log",219],")",";",["T_WHITESPACE","\n    ",219],"}",["T_WHITESPACE","\n  ",220],"}",["T_WHITESPACE","\n\n  ",221],["T_DOC_COMMENT","\/**\n   * Clear the entry logs by clicking on 'Clear log messages' button.\n   *\/",223],["T_WHITESPACE","\n  ",225],["T_PROTECTED","protected",226],["T_WHITESPACE"," ",226],["T_FUNCTION","function",226],["T_WHITESPACE"," ",226],["T_STRING","clearLogsEntries",226],"(",")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n    ",226],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","drupalGet",227],"(",["T_STRING","Url",227],["T_DOUBLE_COLON","::",227],["T_STRING","fromRoute",227],"(",["T_CONSTANT_ENCAPSED_STRING","'dblog.confirm'",227],")",")",";",["T_WHITESPACE","\n  ",227],"}",["T_WHITESPACE","\n\n  ",228],["T_DOC_COMMENT","\/**\n   * Filters the logs according to the specific severity and log entry type.\n   *\n   * @param string $type\n   *   (optional) The log entry type.\n   * @param string $severity\n   *   (optional) The log entry severity.\n  *\/",230],["T_WHITESPACE","\n  ",237],["T_PROTECTED","protected",238],["T_WHITESPACE"," ",238],["T_FUNCTION","function",238],["T_WHITESPACE"," ",238],["T_STRING","filterLogsEntries",238],"(",["T_VARIABLE","$type",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_STRING","NULL",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$severity",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_STRING","NULL",238],")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n    ",238],["T_VARIABLE","$edit",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_ARRAY","array",239],"(",")",";",["T_WHITESPACE","\n    ",239],["T_IF","if",240],["T_WHITESPACE"," ",240],"(","!",["T_STRING","is_null",240],"(",["T_VARIABLE","$type",240],")",")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n      ",240],["T_VARIABLE","$edit",241],"[",["T_CONSTANT_ENCAPSED_STRING","'type[]'",241],"]",["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_VARIABLE","$type",241],";",["T_WHITESPACE","\n    ",241],"}",["T_WHITESPACE","\n    ",242],["T_IF","if",243],["T_WHITESPACE"," ",243],"(","!",["T_STRING","is_null",243],"(",["T_VARIABLE","$severity",243],")",")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n      ",243],["T_VARIABLE","$edit",244],"[",["T_CONSTANT_ENCAPSED_STRING","'severity[]'",244],"]",["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_VARIABLE","$severity",244],";",["T_WHITESPACE","\n    ",244],"}",["T_WHITESPACE","\n    ",245],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","drupalPostForm",246],"(",["T_STRING","NULL",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$edit",246],",",["T_WHITESPACE"," ",246],["T_STRING","t",246],"(",["T_CONSTANT_ENCAPSED_STRING","'Filter'",246],")",")",";",["T_WHITESPACE","\n  ",246],"}",["T_WHITESPACE","\n\n  ",247],["T_DOC_COMMENT","\/**\n   * Confirms that database log reports are displayed at the correct paths.\n   *\n   * @param int $response\n   *   (optional) HTTP response code. Defaults to 200.\n   *\/",249],["T_WHITESPACE","\n  ",254],["T_PRIVATE","private",255],["T_WHITESPACE"," ",255],["T_FUNCTION","function",255],["T_WHITESPACE"," ",255],["T_STRING","verifyReports",255],"(",["T_VARIABLE","$response",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_LNUMBER","200",255],")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n    ",255],["T_COMMENT","\/\/ View the database log help page.\n",256],["T_WHITESPACE","    ",257],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","drupalGet",257],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/help\/dblog'",257],")",";",["T_WHITESPACE","\n    ",257],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","assertResponse",258],"(",["T_VARIABLE","$response",258],")",";",["T_WHITESPACE","\n    ",258],["T_IF","if",259],["T_WHITESPACE"," ",259],"(",["T_VARIABLE","$response",259],["T_WHITESPACE"," ",259],["T_IS_EQUAL","==",259],["T_WHITESPACE"," ",259],["T_LNUMBER","200",259],")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n      ",259],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","assertText",260],"(",["T_STRING","t",260],"(",["T_CONSTANT_ENCAPSED_STRING","'Database Logging'",260],")",",",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'DBLog help was displayed'",260],")",";",["T_WHITESPACE","\n    ",260],"}",["T_WHITESPACE","\n\n    ",261],["T_COMMENT","\/\/ View the database log report page.\n",263],["T_WHITESPACE","    ",264],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","drupalGet",264],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/dblog'",264],")",";",["T_WHITESPACE","\n    ",264],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","assertResponse",265],"(",["T_VARIABLE","$response",265],")",";",["T_WHITESPACE","\n    ",265],["T_IF","if",266],["T_WHITESPACE"," ",266],"(",["T_VARIABLE","$response",266],["T_WHITESPACE"," ",266],["T_IS_EQUAL","==",266],["T_WHITESPACE"," ",266],["T_LNUMBER","200",266],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n      ",266],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","assertText",267],"(",["T_STRING","t",267],"(",["T_CONSTANT_ENCAPSED_STRING","'Recent log messages'",267],")",",",["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","'DBLog report was displayed'",267],")",";",["T_WHITESPACE","\n    ",267],"}",["T_WHITESPACE","\n\n    ",268],["T_COMMENT","\/\/ View the database log page-not-found report page.\n",270],["T_WHITESPACE","    ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","drupalGet",271],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/page-not-found'",271],")",";",["T_WHITESPACE","\n    ",271],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","assertResponse",272],"(",["T_VARIABLE","$response",272],")",";",["T_WHITESPACE","\n    ",272],["T_IF","if",273],["T_WHITESPACE"," ",273],"(",["T_VARIABLE","$response",273],["T_WHITESPACE"," ",273],["T_IS_EQUAL","==",273],["T_WHITESPACE"," ",273],["T_LNUMBER","200",273],")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n      ",273],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","assertText",274],"(",["T_CONSTANT_ENCAPSED_STRING","\"Top 'page not found' errors\"",274],",",["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'DBLog page-not-found report was displayed'",274],")",";",["T_WHITESPACE","\n    ",274],"}",["T_WHITESPACE","\n\n    ",275],["T_COMMENT","\/\/ View the database log access-denied report page.\n",277],["T_WHITESPACE","    ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","drupalGet",278],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/access-denied'",278],")",";",["T_WHITESPACE","\n    ",278],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","assertResponse",279],"(",["T_VARIABLE","$response",279],")",";",["T_WHITESPACE","\n    ",279],["T_IF","if",280],["T_WHITESPACE"," ",280],"(",["T_VARIABLE","$response",280],["T_WHITESPACE"," ",280],["T_IS_EQUAL","==",280],["T_WHITESPACE"," ",280],["T_LNUMBER","200",280],")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n      ",280],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","assertText",281],"(",["T_CONSTANT_ENCAPSED_STRING","\"Top 'access denied' errors\"",281],",",["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","'DBLog access-denied report was displayed'",281],")",";",["T_WHITESPACE","\n    ",281],"}",["T_WHITESPACE","\n\n    ",282],["T_COMMENT","\/\/ View the database log event page.\n",284],["T_WHITESPACE","    ",285],["T_VARIABLE","$wid",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_STRING","db_query",285],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT MIN(wid) FROM {watchdog}'",285],")",["T_OBJECT_OPERATOR","->",285],["T_STRING","fetchField",285],"(",")",";",["T_WHITESPACE","\n    ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","drupalGet",286],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/dblog\/event\/'",286],["T_WHITESPACE"," ",286],".",["T_WHITESPACE"," ",286],["T_VARIABLE","$wid",286],")",";",["T_WHITESPACE","\n    ",286],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","assertResponse",287],"(",["T_VARIABLE","$response",287],")",";",["T_WHITESPACE","\n    ",287],["T_IF","if",288],["T_WHITESPACE"," ",288],"(",["T_VARIABLE","$response",288],["T_WHITESPACE"," ",288],["T_IS_EQUAL","==",288],["T_WHITESPACE"," ",288],["T_LNUMBER","200",288],")",["T_WHITESPACE"," ",288],"{",["T_WHITESPACE","\n      ",288],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","assertText",289],"(",["T_STRING","t",289],"(",["T_CONSTANT_ENCAPSED_STRING","'Details'",289],")",",",["T_WHITESPACE"," ",289],["T_CONSTANT_ENCAPSED_STRING","'DBLog event node was displayed'",289],")",";",["T_WHITESPACE","\n    ",289],"}",["T_WHITESPACE","\n  ",290],"}",["T_WHITESPACE","\n\n  ",291],["T_DOC_COMMENT","\/**\n   * Generates and then verifies breadcrumbs.\n   *\/",293],["T_WHITESPACE","\n  ",295],["T_PRIVATE","private",296],["T_WHITESPACE"," ",296],["T_FUNCTION","function",296],["T_WHITESPACE"," ",296],["T_STRING","verifyBreadcrumbs",296],"(",")",["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n    ",296],["T_COMMENT","\/\/ View the database log event page.\n",297],["T_WHITESPACE","    ",298],["T_VARIABLE","$wid",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_STRING","db_query",298],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT MIN(wid) FROM {watchdog}'",298],")",["T_OBJECT_OPERATOR","->",298],["T_STRING","fetchField",298],"(",")",";",["T_WHITESPACE","\n    ",298],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","drupalGet",299],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/dblog\/event\/'",299],["T_WHITESPACE"," ",299],".",["T_WHITESPACE"," ",299],["T_VARIABLE","$wid",299],")",";",["T_WHITESPACE","\n    ",299],["T_VARIABLE","$xpath",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","'\/\/nav[@class=\"breadcrumb\"]\/ol\/li[last()]\/a'",300],";",["T_WHITESPACE","\n    ",300],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","assertEqual",301],"(",["T_STRING","current",301],"(",["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","xpath",301],"(",["T_VARIABLE","$xpath",301],")",")",",",["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'Recent log messages'",301],",",["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'DBLogs link displayed at breadcrumb in event page.'",301],")",";",["T_WHITESPACE","\n  ",301],"}",["T_WHITESPACE","\n\n  ",302],["T_DOC_COMMENT","\/**\n   * Generates and then verifies various types of events.\n   *\/",304],["T_WHITESPACE","\n  ",306],["T_PRIVATE","private",307],["T_WHITESPACE"," ",307],["T_FUNCTION","function",307],["T_WHITESPACE"," ",307],["T_STRING","verifyEvents",307],"(",")",["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n    ",307],["T_COMMENT","\/\/ Invoke events.\n",308],["T_WHITESPACE","    ",309],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","doUser",309],"(",")",";",["T_WHITESPACE","\n    ",309],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","drupalCreateContentType",310],"(",["T_ARRAY","array",310],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",310],["T_WHITESPACE"," ",310],["T_DOUBLE_ARROW","=>",310],["T_WHITESPACE"," ",310],["T_CONSTANT_ENCAPSED_STRING","'article'",310],",",["T_WHITESPACE"," ",310],["T_CONSTANT_ENCAPSED_STRING","'name'",310],["T_WHITESPACE"," ",310],["T_DOUBLE_ARROW","=>",310],["T_WHITESPACE"," ",310],["T_STRING","t",310],"(",["T_CONSTANT_ENCAPSED_STRING","'Article'",310],")",")",")",";",["T_WHITESPACE","\n    ",310],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","drupalCreateContentType",311],"(",["T_ARRAY","array",311],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",311],["T_WHITESPACE"," ",311],["T_DOUBLE_ARROW","=>",311],["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","'page'",311],",",["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","'name'",311],["T_WHITESPACE"," ",311],["T_DOUBLE_ARROW","=>",311],["T_WHITESPACE"," ",311],["T_STRING","t",311],"(",["T_CONSTANT_ENCAPSED_STRING","'Basic page'",311],")",")",")",";",["T_WHITESPACE","\n    ",311],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","doNode",312],"(",["T_CONSTANT_ENCAPSED_STRING","'article'",312],")",";",["T_WHITESPACE","\n    ",312],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","doNode",313],"(",["T_CONSTANT_ENCAPSED_STRING","'page'",313],")",";",["T_WHITESPACE","\n    ",313],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","doNode",314],"(",["T_CONSTANT_ENCAPSED_STRING","'forum'",314],")",";",["T_WHITESPACE","\n\n    ",314],["T_COMMENT","\/\/ When a user account is canceled, any content they created remains but the\n",316],["T_WHITESPACE","    ",317],["T_COMMENT","\/\/ uid = 0. Records in the watchdog table related to that user have the uid\n",317],["T_WHITESPACE","    ",318],["T_COMMENT","\/\/ set to zero.\n",318],["T_WHITESPACE","  ",319],"}",["T_WHITESPACE","\n\n  ",319],["T_DOC_COMMENT","\/**\n   * Verifies the sorting functionality of the database logging reports table.\n   *\n   * @param string $sort\n   *   The sort direction.\n   * @param string $order\n   *   The order by which the table should be sorted.\n   *\/",321],["T_WHITESPACE","\n  ",328],["T_PUBLIC","public",329],["T_WHITESPACE"," ",329],["T_FUNCTION","function",329],["T_WHITESPACE"," ",329],["T_STRING","verifySort",329],"(",["T_VARIABLE","$sort",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'asc'",329],",",["T_WHITESPACE"," ",329],["T_VARIABLE","$order",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'Date'",329],")",["T_WHITESPACE"," ",329],"{",["T_WHITESPACE","\n    ",329],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","drupalGet",330],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/dblog'",330],",",["T_WHITESPACE"," ",330],["T_ARRAY","array",330],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",330],["T_WHITESPACE"," ",330],["T_DOUBLE_ARROW","=>",330],["T_WHITESPACE"," ",330],["T_ARRAY","array",330],"(",["T_CONSTANT_ENCAPSED_STRING","'sort'",330],["T_WHITESPACE"," ",330],["T_DOUBLE_ARROW","=>",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$sort",330],",",["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","'order'",330],["T_WHITESPACE"," ",330],["T_DOUBLE_ARROW","=>",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$order",330],")",")",")",";",["T_WHITESPACE","\n    ",330],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","assertResponse",331],"(",["T_LNUMBER","200",331],")",";",["T_WHITESPACE","\n    ",331],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","assertText",332],"(",["T_STRING","t",332],"(",["T_CONSTANT_ENCAPSED_STRING","'Recent log messages'",332],")",",",["T_WHITESPACE"," ",332],["T_CONSTANT_ENCAPSED_STRING","'DBLog report was displayed correctly and sorting went fine.'",332],")",";",["T_WHITESPACE","\n  ",332],"}",["T_WHITESPACE","\n\n  ",333],["T_DOC_COMMENT","\/**\n   * Tests the escaping of links in the operation row of a database log detail\n   * page.\n   *\/",335],["T_WHITESPACE","\n  ",338],["T_PRIVATE","private",339],["T_WHITESPACE"," ",339],["T_FUNCTION","function",339],["T_WHITESPACE"," ",339],["T_STRING","verifyLinkEscaping",339],"(",")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n    ",339],["T_VARIABLE","$link",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_NS_SEPARATOR","\\",340],["T_STRING","Drupal",340],["T_DOUBLE_COLON","::",340],["T_STRING","l",340],"(",["T_CONSTANT_ENCAPSED_STRING","'View'",340],",",["T_WHITESPACE"," ",340],["T_STRING","Url",340],["T_DOUBLE_COLON","::",340],["T_STRING","fromRoute",340],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.node.canonical'",340],",",["T_WHITESPACE"," ",340],["T_ARRAY","array",340],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",340],["T_WHITESPACE"," ",340],["T_DOUBLE_ARROW","=>",340],["T_WHITESPACE"," ",340],["T_LNUMBER","1",340],")",")",")",";",["T_WHITESPACE","\n    ",340],["T_VARIABLE","$message",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","'Log entry added to do the verifyLinkEscaping test.'",341],";",["T_WHITESPACE","\n    ",341],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","generateLogEntries",342],"(",["T_LNUMBER","1",342],",",["T_WHITESPACE"," ",342],["T_ARRAY","array",342],"(",["T_WHITESPACE","\n      ",342],["T_CONSTANT_ENCAPSED_STRING","'message'",343],["T_WHITESPACE"," ",343],["T_DOUBLE_ARROW","=>",343],["T_WHITESPACE"," ",343],["T_VARIABLE","$message",343],",",["T_WHITESPACE","\n      ",343],["T_CONSTANT_ENCAPSED_STRING","'link'",344],["T_WHITESPACE"," ",344],["T_DOUBLE_ARROW","=>",344],["T_WHITESPACE"," ",344],["T_VARIABLE","$link",344],",",["T_WHITESPACE","\n    ",344],")",")",";",["T_WHITESPACE","\n\n    ",345],["T_VARIABLE","$result",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_STRING","db_query_range",347],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT wid FROM {watchdog} ORDER BY wid DESC'",347],",",["T_WHITESPACE"," ",347],["T_LNUMBER","0",347],",",["T_WHITESPACE"," ",347],["T_LNUMBER","1",347],")",";",["T_WHITESPACE","\n    ",347],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","drupalGet",348],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/dblog\/event\/'",348],["T_WHITESPACE"," ",348],".",["T_WHITESPACE"," ",348],["T_VARIABLE","$result",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","fetchField",348],"(",")",")",";",["T_WHITESPACE","\n\n    ",348],["T_COMMENT","\/\/ Check if the link exists (unescaped).\n",350],["T_WHITESPACE","    ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","assertRaw",351],"(",["T_VARIABLE","$link",351],")",";",["T_WHITESPACE","\n  ",351],"}",["T_WHITESPACE","\n\n  ",352],["T_DOC_COMMENT","\/**\n   * Generates and then verifies some user events.\n   *\/",354],["T_WHITESPACE","\n  ",356],["T_PRIVATE","private",357],["T_WHITESPACE"," ",357],["T_FUNCTION","function",357],["T_WHITESPACE"," ",357],["T_STRING","doUser",357],"(",")",["T_WHITESPACE"," ",357],"{",["T_WHITESPACE","\n    ",357],["T_COMMENT","\/\/ Set user variables.\n",358],["T_WHITESPACE","    ",359],["T_VARIABLE","$name",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","randomMachineName",359],"(",")",";",["T_WHITESPACE","\n    ",359],["T_VARIABLE","$pass",360],["T_WHITESPACE"," ",360],"=",["T_WHITESPACE"," ",360],["T_STRING","user_password",360],"(",")",";",["T_WHITESPACE","\n    ",360],["T_COMMENT","\/\/ Add a user using the form to generate an add user event (which is not\n",361],["T_WHITESPACE","    ",362],["T_COMMENT","\/\/ triggered by drupalCreateUser).\n",362],["T_WHITESPACE","    ",363],["T_VARIABLE","$edit",363],["T_WHITESPACE"," ",363],"=",["T_WHITESPACE"," ",363],["T_ARRAY","array",363],"(",")",";",["T_WHITESPACE","\n    ",363],["T_VARIABLE","$edit",364],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",364],"]",["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_VARIABLE","$name",364],";",["T_WHITESPACE","\n    ",364],["T_VARIABLE","$edit",365],"[",["T_CONSTANT_ENCAPSED_STRING","'mail'",365],"]",["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],["T_VARIABLE","$name",365],["T_WHITESPACE"," ",365],".",["T_WHITESPACE"," ",365],["T_CONSTANT_ENCAPSED_STRING","'@example.com'",365],";",["T_WHITESPACE","\n    ",365],["T_VARIABLE","$edit",366],"[",["T_CONSTANT_ENCAPSED_STRING","'pass[pass1]'",366],"]",["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_VARIABLE","$pass",366],";",["T_WHITESPACE","\n    ",366],["T_VARIABLE","$edit",367],"[",["T_CONSTANT_ENCAPSED_STRING","'pass[pass2]'",367],"]",["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_VARIABLE","$pass",367],";",["T_WHITESPACE","\n    ",367],["T_VARIABLE","$edit",368],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",368],"]",["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],["T_LNUMBER","1",368],";",["T_WHITESPACE","\n    ",368],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","drupalPostForm",369],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/people\/create'",369],",",["T_WHITESPACE"," ",369],["T_VARIABLE","$edit",369],",",["T_WHITESPACE"," ",369],["T_STRING","t",369],"(",["T_CONSTANT_ENCAPSED_STRING","'Create new account'",369],")",")",";",["T_WHITESPACE","\n    ",369],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","assertResponse",370],"(",["T_LNUMBER","200",370],")",";",["T_WHITESPACE","\n    ",370],["T_COMMENT","\/\/ Retrieve the user object.\n",371],["T_WHITESPACE","    ",372],["T_VARIABLE","$user",372],["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_STRING","user_load_by_name",372],"(",["T_VARIABLE","$name",372],")",";",["T_WHITESPACE","\n    ",372],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","assertTrue",373],"(",["T_VARIABLE","$user",373],["T_WHITESPACE"," ",373],["T_IS_NOT_EQUAL","!=",373],["T_WHITESPACE"," ",373],["T_STRING","NULL",373],",",["T_WHITESPACE"," ",373],["T_STRING","format_string",373],"(",["T_CONSTANT_ENCAPSED_STRING","'User @name was loaded'",373],",",["T_WHITESPACE"," ",373],["T_ARRAY","array",373],"(",["T_CONSTANT_ENCAPSED_STRING","'@name'",373],["T_WHITESPACE"," ",373],["T_DOUBLE_ARROW","=>",373],["T_WHITESPACE"," ",373],["T_VARIABLE","$name",373],")",")",")",";",["T_WHITESPACE","\n    ",373],["T_COMMENT","\/\/ pass_raw property is needed by drupalLogin.\n",374],["T_WHITESPACE","    ",375],["T_VARIABLE","$user",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","pass_raw",375],["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_VARIABLE","$pass",375],";",["T_WHITESPACE","\n    ",375],["T_COMMENT","\/\/ Log in user.\n",376],["T_WHITESPACE","    ",377],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","drupalLogin",377],"(",["T_VARIABLE","$user",377],")",";",["T_WHITESPACE","\n    ",377],["T_COMMENT","\/\/ Log out user.\n",378],["T_WHITESPACE","    ",379],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","drupalLogout",379],"(",")",";",["T_WHITESPACE","\n    ",379],["T_COMMENT","\/\/ Fetch the row IDs in watchdog that relate to the user.\n",380],["T_WHITESPACE","    ",381],["T_VARIABLE","$result",381],["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],["T_STRING","db_query",381],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT wid FROM {watchdog} WHERE uid = :uid'",381],",",["T_WHITESPACE"," ",381],["T_ARRAY","array",381],"(",["T_CONSTANT_ENCAPSED_STRING","':uid'",381],["T_WHITESPACE"," ",381],["T_DOUBLE_ARROW","=>",381],["T_WHITESPACE"," ",381],["T_VARIABLE","$user",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","id",381],"(",")",")",")",";",["T_WHITESPACE","\n    ",381],["T_FOREACH","foreach",382],["T_WHITESPACE"," ",382],"(",["T_VARIABLE","$result",382],["T_WHITESPACE"," ",382],["T_AS","as",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$row",382],")",["T_WHITESPACE"," ",382],"{",["T_WHITESPACE","\n      ",382],["T_VARIABLE","$ids",383],"[","]",["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_VARIABLE","$row",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","wid",383],";",["T_WHITESPACE","\n    ",383],"}",["T_WHITESPACE","\n    ",384],["T_VARIABLE","$count_before",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],"(",["T_ISSET","isset",385],"(",["T_VARIABLE","$ids",385],")",")",["T_WHITESPACE"," ",385],"?",["T_WHITESPACE"," ",385],["T_STRING","count",385],"(",["T_VARIABLE","$ids",385],")",["T_WHITESPACE"," ",385],":",["T_WHITESPACE"," ",385],["T_LNUMBER","0",385],";",["T_WHITESPACE","\n    ",385],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","assertTrue",386],"(",["T_VARIABLE","$count_before",386],["T_WHITESPACE"," ",386],">",["T_WHITESPACE"," ",386],["T_LNUMBER","0",386],",",["T_WHITESPACE"," ",386],["T_STRING","format_string",386],"(",["T_CONSTANT_ENCAPSED_STRING","'DBLog contains @count records for @name'",386],",",["T_WHITESPACE"," ",386],["T_ARRAY","array",386],"(",["T_CONSTANT_ENCAPSED_STRING","'@count'",386],["T_WHITESPACE"," ",386],["T_DOUBLE_ARROW","=>",386],["T_WHITESPACE"," ",386],["T_VARIABLE","$count_before",386],",",["T_WHITESPACE"," ",386],["T_CONSTANT_ENCAPSED_STRING","'@name'",386],["T_WHITESPACE"," ",386],["T_DOUBLE_ARROW","=>",386],["T_WHITESPACE"," ",386],["T_VARIABLE","$user",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","getUsername",386],"(",")",")",")",")",";",["T_WHITESPACE","\n\n    ",386],["T_COMMENT","\/\/ Log in the admin user.\n",388],["T_WHITESPACE","    ",389],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","drupalLogin",389],"(",["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","adminUser",389],")",";",["T_WHITESPACE","\n    ",389],["T_COMMENT","\/\/ Delete the user created at the start of this test.\n",390],["T_WHITESPACE","    ",391],["T_COMMENT","\/\/ We need to POST here to invoke batch_process() in the internal browser.\n",391],["T_WHITESPACE","    ",392],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","drupalPostForm",392],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/'",392],["T_WHITESPACE"," ",392],".",["T_WHITESPACE"," ",392],["T_VARIABLE","$user",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","id",392],"(",")",["T_WHITESPACE"," ",392],".",["T_WHITESPACE"," ",392],["T_CONSTANT_ENCAPSED_STRING","'\/cancel'",392],",",["T_WHITESPACE"," ",392],["T_ARRAY","array",392],"(",["T_CONSTANT_ENCAPSED_STRING","'user_cancel_method'",392],["T_WHITESPACE"," ",392],["T_DOUBLE_ARROW","=>",392],["T_WHITESPACE"," ",392],["T_CONSTANT_ENCAPSED_STRING","'user_cancel_reassign'",392],")",",",["T_WHITESPACE"," ",392],["T_STRING","t",392],"(",["T_CONSTANT_ENCAPSED_STRING","'Cancel account'",392],")",")",";",["T_WHITESPACE","\n\n    ",392],["T_COMMENT","\/\/ View the database log report.\n",394],["T_WHITESPACE","    ",395],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","drupalGet",395],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/dblog'",395],")",";",["T_WHITESPACE","\n    ",395],["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","assertResponse",396],"(",["T_LNUMBER","200",396],")",";",["T_WHITESPACE","\n\n    ",396],["T_COMMENT","\/\/ Verify that the expected events were recorded.\n",398],["T_WHITESPACE","    ",399],["T_COMMENT","\/\/ Add user.\n",399],["T_WHITESPACE","    ",400],["T_COMMENT","\/\/ Default display includes name and email address; if too long, the email\n",400],["T_WHITESPACE","    ",401],["T_COMMENT","\/\/ address is replaced by three periods.\n",401],["T_WHITESPACE","    ",402],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","assertLogMessage",402],"(",["T_STRING","t",402],"(",["T_CONSTANT_ENCAPSED_STRING","'New user: %name %email.'",402],",",["T_WHITESPACE"," ",402],["T_ARRAY","array",402],"(",["T_CONSTANT_ENCAPSED_STRING","'%name'",402],["T_WHITESPACE"," ",402],["T_DOUBLE_ARROW","=>",402],["T_WHITESPACE"," ",402],["T_VARIABLE","$name",402],",",["T_WHITESPACE"," ",402],["T_CONSTANT_ENCAPSED_STRING","'%email'",402],["T_WHITESPACE"," ",402],["T_DOUBLE_ARROW","=>",402],["T_WHITESPACE"," ",402],["T_CONSTANT_ENCAPSED_STRING","'<'",402],["T_WHITESPACE"," ",402],".",["T_WHITESPACE"," ",402],["T_VARIABLE","$user",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","getEmail",402],"(",")",["T_WHITESPACE"," ",402],".",["T_WHITESPACE"," ",402],["T_CONSTANT_ENCAPSED_STRING","'>'",402],")",")",",",["T_WHITESPACE"," ",402],["T_CONSTANT_ENCAPSED_STRING","'DBLog event was recorded: [add user]'",402],")",";",["T_WHITESPACE","\n    ",402],["T_COMMENT","\/\/ Log in user.\n",403],["T_WHITESPACE","    ",404],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","assertLogMessage",404],"(",["T_STRING","t",404],"(",["T_CONSTANT_ENCAPSED_STRING","'Session opened for %name.'",404],",",["T_WHITESPACE"," ",404],["T_ARRAY","array",404],"(",["T_CONSTANT_ENCAPSED_STRING","'%name'",404],["T_WHITESPACE"," ",404],["T_DOUBLE_ARROW","=>",404],["T_WHITESPACE"," ",404],["T_VARIABLE","$name",404],")",")",",",["T_WHITESPACE"," ",404],["T_CONSTANT_ENCAPSED_STRING","'DBLog event was recorded: [login user]'",404],")",";",["T_WHITESPACE","\n    ",404],["T_COMMENT","\/\/ Log out user.\n",405],["T_WHITESPACE","    ",406],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","assertLogMessage",406],"(",["T_STRING","t",406],"(",["T_CONSTANT_ENCAPSED_STRING","'Session closed for %name.'",406],",",["T_WHITESPACE"," ",406],["T_ARRAY","array",406],"(",["T_CONSTANT_ENCAPSED_STRING","'%name'",406],["T_WHITESPACE"," ",406],["T_DOUBLE_ARROW","=>",406],["T_WHITESPACE"," ",406],["T_VARIABLE","$name",406],")",")",",",["T_WHITESPACE"," ",406],["T_CONSTANT_ENCAPSED_STRING","'DBLog event was recorded: [logout user]'",406],")",";",["T_WHITESPACE","\n    ",406],["T_COMMENT","\/\/ Delete user.\n",407],["T_WHITESPACE","    ",408],["T_VARIABLE","$message",408],["T_WHITESPACE"," ",408],"=",["T_WHITESPACE"," ",408],["T_STRING","t",408],"(",["T_CONSTANT_ENCAPSED_STRING","'Deleted user: %name %email.'",408],",",["T_WHITESPACE"," ",408],["T_ARRAY","array",408],"(",["T_CONSTANT_ENCAPSED_STRING","'%name'",408],["T_WHITESPACE"," ",408],["T_DOUBLE_ARROW","=>",408],["T_WHITESPACE"," ",408],["T_VARIABLE","$name",408],",",["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","'%email'",408],["T_WHITESPACE"," ",408],["T_DOUBLE_ARROW","=>",408],["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","'<'",408],["T_WHITESPACE"," ",408],".",["T_WHITESPACE"," ",408],["T_VARIABLE","$user",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","getEmail",408],"(",")",["T_WHITESPACE"," ",408],".",["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","'>'",408],")",")",";",["T_WHITESPACE","\n    ",408],["T_VARIABLE","$message_text",409],["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_STRING","Unicode",409],["T_DOUBLE_COLON","::",409],["T_STRING","truncate",409],"(",["T_STRING","Html",409],["T_DOUBLE_COLON","::",409],["T_STRING","decodeEntities",409],"(",["T_STRING","strip_tags",409],"(",["T_VARIABLE","$message",409],")",")",",",["T_WHITESPACE"," ",409],["T_LNUMBER","56",409],",",["T_WHITESPACE"," ",409],["T_STRING","TRUE",409],",",["T_WHITESPACE"," ",409],["T_STRING","TRUE",409],")",";",["T_WHITESPACE","\n    ",409],["T_COMMENT","\/\/ Verify that the full message displays on the details page.\n",410],["T_WHITESPACE","    ",411],["T_VARIABLE","$link",411],["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_STRING","FALSE",411],";",["T_WHITESPACE","\n    ",411],["T_IF","if",412],["T_WHITESPACE"," ",412],"(",["T_VARIABLE","$links",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","xpath",412],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/a[text()=\"'",412],["T_WHITESPACE"," ",412],".",["T_WHITESPACE"," ",412],["T_VARIABLE","$message_text",412],["T_WHITESPACE"," ",412],".",["T_WHITESPACE"," ",412],["T_CONSTANT_ENCAPSED_STRING","'\"]'",412],")",")",["T_WHITESPACE"," ",412],"{",["T_WHITESPACE","\n      ",412],["T_COMMENT","\/\/ Found link with the message text.\n",413],["T_WHITESPACE","      ",414],["T_VARIABLE","$links",414],["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_STRING","array_shift",414],"(",["T_VARIABLE","$links",414],")",";",["T_WHITESPACE","\n      ",414],["T_FOREACH","foreach",415],["T_WHITESPACE"," ",415],"(",["T_VARIABLE","$links",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","attributes",415],"(",")",["T_WHITESPACE"," ",415],["T_AS","as",415],["T_WHITESPACE"," ",415],["T_VARIABLE","$attr",415],["T_WHITESPACE"," ",415],["T_DOUBLE_ARROW","=>",415],["T_WHITESPACE"," ",415],["T_VARIABLE","$value",415],")",["T_WHITESPACE"," ",415],"{",["T_WHITESPACE","\n        ",415],["T_IF","if",416],["T_WHITESPACE"," ",416],"(",["T_VARIABLE","$attr",416],["T_WHITESPACE"," ",416],["T_IS_EQUAL","==",416],["T_WHITESPACE"," ",416],["T_CONSTANT_ENCAPSED_STRING","'href'",416],")",["T_WHITESPACE"," ",416],"{",["T_WHITESPACE","\n          ",416],["T_COMMENT","\/\/ Extract link to details page.\n",417],["T_WHITESPACE","          ",418],["T_VARIABLE","$link",418],["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],["T_STRING","Unicode",418],["T_DOUBLE_COLON","::",418],["T_STRING","substr",418],"(",["T_VARIABLE","$value",418],",",["T_WHITESPACE"," ",418],["T_STRING","strpos",418],"(",["T_VARIABLE","$value",418],",",["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/dblog\/event\/'",418],")",")",";",["T_WHITESPACE","\n          ",418],["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","drupalGet",419],"(",["T_VARIABLE","$link",419],")",";",["T_WHITESPACE","\n          ",419],["T_COMMENT","\/\/ Check for full message text on the details page.\n",420],["T_WHITESPACE","          ",421],["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","assertRaw",421],"(",["T_VARIABLE","$message",421],",",["T_WHITESPACE"," ",421],["T_CONSTANT_ENCAPSED_STRING","'DBLog event details was found: [delete user]'",421],")",";",["T_WHITESPACE","\n          ",421],["T_BREAK","break",422],";",["T_WHITESPACE","\n        ",422],"}",["T_WHITESPACE","\n      ",423],"}",["T_WHITESPACE","\n    ",424],"}",["T_WHITESPACE","\n    ",425],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","assertTrue",426],"(",["T_VARIABLE","$link",426],",",["T_WHITESPACE"," ",426],["T_CONSTANT_ENCAPSED_STRING","'DBLog event was recorded: [delete user]'",426],")",";",["T_WHITESPACE","\n    ",426],["T_COMMENT","\/\/ Visit random URL (to generate page not found event).\n",427],["T_WHITESPACE","    ",428],["T_VARIABLE","$not_found_url",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","randomMachineName",428],"(",["T_LNUMBER","60",428],")",";",["T_WHITESPACE","\n    ",428],["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","drupalGet",429],"(",["T_VARIABLE","$not_found_url",429],")",";",["T_WHITESPACE","\n    ",429],["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","assertResponse",430],"(",["T_LNUMBER","404",430],")",";",["T_WHITESPACE","\n    ",430],["T_COMMENT","\/\/ View the database log page-not-found report page.\n",431],["T_WHITESPACE","    ",432],["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","drupalGet",432],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/page-not-found'",432],")",";",["T_WHITESPACE","\n    ",432],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","assertResponse",433],"(",["T_LNUMBER","200",433],")",";",["T_WHITESPACE","\n    ",433],["T_COMMENT","\/\/ Check that full-length URL displayed.\n",434],["T_WHITESPACE","    ",435],["T_VARIABLE","$this",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","assertText",435],"(",["T_VARIABLE","$not_found_url",435],",",["T_WHITESPACE"," ",435],["T_CONSTANT_ENCAPSED_STRING","'DBLog event was recorded: [page not found]'",435],")",";",["T_WHITESPACE","\n  ",435],"}",["T_WHITESPACE","\n\n  ",436],["T_DOC_COMMENT","\/**\n   * Generates and then verifies some node events.\n   *\n   * @param string $type\n   *   A node type (e.g., 'article', 'page' or 'forum').\n   *\/",438],["T_WHITESPACE","\n  ",443],["T_PRIVATE","private",444],["T_WHITESPACE"," ",444],["T_FUNCTION","function",444],["T_WHITESPACE"," ",444],["T_STRING","doNode",444],"(",["T_VARIABLE","$type",444],")",["T_WHITESPACE"," ",444],"{",["T_WHITESPACE","\n    ",444],["T_COMMENT","\/\/ Create user.\n",445],["T_WHITESPACE","    ",446],["T_VARIABLE","$perm",446],["T_WHITESPACE"," ",446],"=",["T_WHITESPACE"," ",446],["T_ARRAY","array",446],"(",["T_CONSTANT_ENCAPSED_STRING","'create '",446],["T_WHITESPACE"," ",446],".",["T_WHITESPACE"," ",446],["T_VARIABLE","$type",446],["T_WHITESPACE"," ",446],".",["T_WHITESPACE"," ",446],["T_CONSTANT_ENCAPSED_STRING","' content'",446],",",["T_WHITESPACE"," ",446],["T_CONSTANT_ENCAPSED_STRING","'edit own '",446],["T_WHITESPACE"," ",446],".",["T_WHITESPACE"," ",446],["T_VARIABLE","$type",446],["T_WHITESPACE"," ",446],".",["T_WHITESPACE"," ",446],["T_CONSTANT_ENCAPSED_STRING","' content'",446],",",["T_WHITESPACE"," ",446],["T_CONSTANT_ENCAPSED_STRING","'delete own '",446],["T_WHITESPACE"," ",446],".",["T_WHITESPACE"," ",446],["T_VARIABLE","$type",446],["T_WHITESPACE"," ",446],".",["T_WHITESPACE"," ",446],["T_CONSTANT_ENCAPSED_STRING","' content'",446],")",";",["T_WHITESPACE","\n    ",446],["T_VARIABLE","$user",447],["T_WHITESPACE"," ",447],"=",["T_WHITESPACE"," ",447],["T_VARIABLE","$this",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","drupalCreateUser",447],"(",["T_VARIABLE","$perm",447],")",";",["T_WHITESPACE","\n    ",447],["T_COMMENT","\/\/ Log in user.\n",448],["T_WHITESPACE","    ",449],["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","drupalLogin",449],"(",["T_VARIABLE","$user",449],")",";",["T_WHITESPACE","\n\n    ",449],["T_COMMENT","\/\/ Create a node using the form in order to generate an add content event\n",451],["T_WHITESPACE","    ",452],["T_COMMENT","\/\/ (which is not triggered by drupalCreateNode).\n",452],["T_WHITESPACE","    ",453],["T_VARIABLE","$edit",453],["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","getContent",453],"(",["T_VARIABLE","$type",453],")",";",["T_WHITESPACE","\n    ",453],["T_VARIABLE","$title",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_VARIABLE","$edit",454],"[",["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",454],"]",";",["T_WHITESPACE","\n    ",454],["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","drupalPostForm",455],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/add\/'",455],["T_WHITESPACE"," ",455],".",["T_WHITESPACE"," ",455],["T_VARIABLE","$type",455],",",["T_WHITESPACE"," ",455],["T_VARIABLE","$edit",455],",",["T_WHITESPACE"," ",455],["T_STRING","t",455],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",455],")",")",";",["T_WHITESPACE","\n    ",455],["T_VARIABLE","$this",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","assertResponse",456],"(",["T_LNUMBER","200",456],")",";",["T_WHITESPACE","\n    ",456],["T_COMMENT","\/\/ Retrieve the node object.\n",457],["T_WHITESPACE","    ",458],["T_VARIABLE","$node",458],["T_WHITESPACE"," ",458],"=",["T_WHITESPACE"," ",458],["T_VARIABLE","$this",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","drupalGetNodeByTitle",458],"(",["T_VARIABLE","$title",458],")",";",["T_WHITESPACE","\n    ",458],["T_VARIABLE","$this",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","assertTrue",459],"(",["T_VARIABLE","$node",459],["T_WHITESPACE"," ",459],["T_IS_NOT_EQUAL","!=",459],["T_WHITESPACE"," ",459],["T_STRING","NULL",459],",",["T_WHITESPACE"," ",459],["T_STRING","format_string",459],"(",["T_CONSTANT_ENCAPSED_STRING","'Node @title was loaded'",459],",",["T_WHITESPACE"," ",459],["T_ARRAY","array",459],"(",["T_CONSTANT_ENCAPSED_STRING","'@title'",459],["T_WHITESPACE"," ",459],["T_DOUBLE_ARROW","=>",459],["T_WHITESPACE"," ",459],["T_VARIABLE","$title",459],")",")",")",";",["T_WHITESPACE","\n    ",459],["T_COMMENT","\/\/ Edit the node.\n",460],["T_WHITESPACE","    ",461],["T_VARIABLE","$edit",461],["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","getContentUpdate",461],"(",["T_VARIABLE","$type",461],")",";",["T_WHITESPACE","\n    ",461],["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","drupalPostForm",462],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",462],["T_WHITESPACE"," ",462],".",["T_WHITESPACE"," ",462],["T_VARIABLE","$node",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","id",462],"(",")",["T_WHITESPACE"," ",462],".",["T_WHITESPACE"," ",462],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",462],",",["T_WHITESPACE"," ",462],["T_VARIABLE","$edit",462],",",["T_WHITESPACE"," ",462],["T_STRING","t",462],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",462],")",")",";",["T_WHITESPACE","\n    ",462],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","assertResponse",463],"(",["T_LNUMBER","200",463],")",";",["T_WHITESPACE","\n    ",463],["T_COMMENT","\/\/ Delete the node.\n",464],["T_WHITESPACE","    ",465],["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","drupalPostForm",465],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",465],["T_WHITESPACE"," ",465],".",["T_WHITESPACE"," ",465],["T_VARIABLE","$node",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","id",465],"(",")",["T_WHITESPACE"," ",465],".",["T_WHITESPACE"," ",465],["T_CONSTANT_ENCAPSED_STRING","'\/delete'",465],",",["T_WHITESPACE"," ",465],["T_ARRAY","array",465],"(",")",",",["T_WHITESPACE"," ",465],["T_STRING","t",465],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",465],")",")",";",["T_WHITESPACE","\n    ",465],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","assertResponse",466],"(",["T_LNUMBER","200",466],")",";",["T_WHITESPACE","\n    ",466],["T_COMMENT","\/\/ View the node (to generate page not found event).\n",467],["T_WHITESPACE","    ",468],["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","drupalGet",468],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",468],["T_WHITESPACE"," ",468],".",["T_WHITESPACE"," ",468],["T_VARIABLE","$node",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","id",468],"(",")",")",";",["T_WHITESPACE","\n    ",468],["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","assertResponse",469],"(",["T_LNUMBER","404",469],")",";",["T_WHITESPACE","\n    ",469],["T_COMMENT","\/\/ View the database log report (to generate access denied event).\n",470],["T_WHITESPACE","    ",471],["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","drupalGet",471],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/dblog'",471],")",";",["T_WHITESPACE","\n    ",471],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","assertResponse",472],"(",["T_LNUMBER","403",472],")",";",["T_WHITESPACE","\n\n    ",472],["T_COMMENT","\/\/ Log in the admin user.\n",474],["T_WHITESPACE","    ",475],["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","drupalLogin",475],"(",["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","adminUser",475],")",";",["T_WHITESPACE","\n    ",475],["T_COMMENT","\/\/ View the database log report.\n",476],["T_WHITESPACE","    ",477],["T_VARIABLE","$this",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","drupalGet",477],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/dblog'",477],")",";",["T_WHITESPACE","\n    ",477],["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","assertResponse",478],"(",["T_LNUMBER","200",478],")",";",["T_WHITESPACE","\n\n    ",478],["T_COMMENT","\/\/ Verify that node events were recorded.\n",480],["T_WHITESPACE","    ",481],["T_COMMENT","\/\/ Was node content added?\n",481],["T_WHITESPACE","    ",482],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","assertLogMessage",482],"(",["T_STRING","t",482],"(",["T_CONSTANT_ENCAPSED_STRING","'@type: added %title.'",482],",",["T_WHITESPACE"," ",482],["T_ARRAY","array",482],"(",["T_CONSTANT_ENCAPSED_STRING","'@type'",482],["T_WHITESPACE"," ",482],["T_DOUBLE_ARROW","=>",482],["T_WHITESPACE"," ",482],["T_VARIABLE","$type",482],",",["T_WHITESPACE"," ",482],["T_CONSTANT_ENCAPSED_STRING","'%title'",482],["T_WHITESPACE"," ",482],["T_DOUBLE_ARROW","=>",482],["T_WHITESPACE"," ",482],["T_VARIABLE","$title",482],")",")",",",["T_WHITESPACE"," ",482],["T_CONSTANT_ENCAPSED_STRING","'DBLog event was recorded: [content added]'",482],")",";",["T_WHITESPACE","\n    ",482],["T_COMMENT","\/\/ Was node content updated?\n",483],["T_WHITESPACE","    ",484],["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","assertLogMessage",484],"(",["T_STRING","t",484],"(",["T_CONSTANT_ENCAPSED_STRING","'@type: updated %title.'",484],",",["T_WHITESPACE"," ",484],["T_ARRAY","array",484],"(",["T_CONSTANT_ENCAPSED_STRING","'@type'",484],["T_WHITESPACE"," ",484],["T_DOUBLE_ARROW","=>",484],["T_WHITESPACE"," ",484],["T_VARIABLE","$type",484],",",["T_WHITESPACE"," ",484],["T_CONSTANT_ENCAPSED_STRING","'%title'",484],["T_WHITESPACE"," ",484],["T_DOUBLE_ARROW","=>",484],["T_WHITESPACE"," ",484],["T_VARIABLE","$title",484],")",")",",",["T_WHITESPACE"," ",484],["T_CONSTANT_ENCAPSED_STRING","'DBLog event was recorded: [content updated]'",484],")",";",["T_WHITESPACE","\n    ",484],["T_COMMENT","\/\/ Was node content deleted?\n",485],["T_WHITESPACE","    ",486],["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","assertLogMessage",486],"(",["T_STRING","t",486],"(",["T_CONSTANT_ENCAPSED_STRING","'@type: deleted %title.'",486],",",["T_WHITESPACE"," ",486],["T_ARRAY","array",486],"(",["T_CONSTANT_ENCAPSED_STRING","'@type'",486],["T_WHITESPACE"," ",486],["T_DOUBLE_ARROW","=>",486],["T_WHITESPACE"," ",486],["T_VARIABLE","$type",486],",",["T_WHITESPACE"," ",486],["T_CONSTANT_ENCAPSED_STRING","'%title'",486],["T_WHITESPACE"," ",486],["T_DOUBLE_ARROW","=>",486],["T_WHITESPACE"," ",486],["T_VARIABLE","$title",486],")",")",",",["T_WHITESPACE"," ",486],["T_CONSTANT_ENCAPSED_STRING","'DBLog event was recorded: [content deleted]'",486],")",";",["T_WHITESPACE","\n\n    ",486],["T_COMMENT","\/\/ View the database log access-denied report page.\n",488],["T_WHITESPACE","    ",489],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","drupalGet",489],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/access-denied'",489],")",";",["T_WHITESPACE","\n    ",489],["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","assertResponse",490],"(",["T_LNUMBER","200",490],")",";",["T_WHITESPACE","\n    ",490],["T_COMMENT","\/\/ Verify that the 'access denied' event was recorded.\n",491],["T_WHITESPACE","    ",492],["T_VARIABLE","$this",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","assertText",492],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/dblog'",492],",",["T_WHITESPACE"," ",492],["T_CONSTANT_ENCAPSED_STRING","'DBLog event was recorded: [access denied]'",492],")",";",["T_WHITESPACE","\n\n    ",492],["T_COMMENT","\/\/ View the database log page-not-found report page.\n",494],["T_WHITESPACE","    ",495],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","drupalGet",495],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/page-not-found'",495],")",";",["T_WHITESPACE","\n    ",495],["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","assertResponse",496],"(",["T_LNUMBER","200",496],")",";",["T_WHITESPACE","\n    ",496],["T_COMMENT","\/\/ Verify that the 'page not found' event was recorded.\n",497],["T_WHITESPACE","    ",498],["T_VARIABLE","$this",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","assertText",498],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",498],["T_WHITESPACE"," ",498],".",["T_WHITESPACE"," ",498],["T_VARIABLE","$node",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","id",498],"(",")",",",["T_WHITESPACE"," ",498],["T_CONSTANT_ENCAPSED_STRING","'DBLog event was recorded: [page not found]'",498],")",";",["T_WHITESPACE","\n  ",498],"}",["T_WHITESPACE","\n\n  ",499],["T_DOC_COMMENT","\/**\n   * Creates random content based on node content type.\n   *\n   * @param string $type\n   *   Node content type (e.g., 'article').\n   *\n   * @return array\n   *   Random content needed by various node types.\n   *\/",501],["T_WHITESPACE","\n  ",509],["T_PRIVATE","private",510],["T_WHITESPACE"," ",510],["T_FUNCTION","function",510],["T_WHITESPACE"," ",510],["T_STRING","getContent",510],"(",["T_VARIABLE","$type",510],")",["T_WHITESPACE"," ",510],"{",["T_WHITESPACE","\n    ",510],["T_SWITCH","switch",511],["T_WHITESPACE"," ",511],"(",["T_VARIABLE","$type",511],")",["T_WHITESPACE"," ",511],"{",["T_WHITESPACE","\n      ",511],["T_CASE","case",512],["T_WHITESPACE"," ",512],["T_CONSTANT_ENCAPSED_STRING","'forum'",512],":",["T_WHITESPACE","\n        ",512],["T_VARIABLE","$content",513],["T_WHITESPACE"," ",513],"=",["T_WHITESPACE"," ",513],["T_ARRAY","array",513],"(",["T_WHITESPACE","\n          ",513],["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",514],["T_WHITESPACE"," ",514],["T_DOUBLE_ARROW","=>",514],["T_WHITESPACE"," ",514],["T_VARIABLE","$this",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","randomMachineName",514],"(",["T_LNUMBER","8",514],")",",",["T_WHITESPACE","\n          ",514],["T_CONSTANT_ENCAPSED_STRING","'taxonomy_forums'",515],["T_WHITESPACE"," ",515],["T_DOUBLE_ARROW","=>",515],["T_WHITESPACE"," ",515],["T_ARRAY","array",515],"(",["T_LNUMBER","1",515],")",",",["T_WHITESPACE","\n          ",515],["T_CONSTANT_ENCAPSED_STRING","'body[0][value]'",516],["T_WHITESPACE"," ",516],["T_DOUBLE_ARROW","=>",516],["T_WHITESPACE"," ",516],["T_VARIABLE","$this",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","randomMachineName",516],"(",["T_LNUMBER","32",516],")",",",["T_WHITESPACE","\n        ",516],")",";",["T_WHITESPACE","\n        ",517],["T_BREAK","break",518],";",["T_WHITESPACE","\n\n      ",518],["T_DEFAULT","default",520],":",["T_WHITESPACE","\n        ",520],["T_VARIABLE","$content",521],["T_WHITESPACE"," ",521],"=",["T_WHITESPACE"," ",521],["T_ARRAY","array",521],"(",["T_WHITESPACE","\n          ",521],["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",522],["T_WHITESPACE"," ",522],["T_DOUBLE_ARROW","=>",522],["T_WHITESPACE"," ",522],["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","randomMachineName",522],"(",["T_LNUMBER","8",522],")",",",["T_WHITESPACE","\n          ",522],["T_CONSTANT_ENCAPSED_STRING","'body[0][value]'",523],["T_WHITESPACE"," ",523],["T_DOUBLE_ARROW","=>",523],["T_WHITESPACE"," ",523],["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","randomMachineName",523],"(",["T_LNUMBER","32",523],")",",",["T_WHITESPACE","\n        ",523],")",";",["T_WHITESPACE","\n        ",524],["T_BREAK","break",525],";",["T_WHITESPACE","\n    ",525],"}",["T_WHITESPACE","\n    ",526],["T_RETURN","return",527],["T_WHITESPACE"," ",527],["T_VARIABLE","$content",527],";",["T_WHITESPACE","\n  ",527],"}",["T_WHITESPACE","\n\n  ",528],["T_DOC_COMMENT","\/**\n   * Creates random content as an update based on node content type.\n   *\n   * @param string $type\n   *   Node content type (e.g., 'article').\n   *\n   * @return array\n   *   Random content needed by various node types.\n   *\/",530],["T_WHITESPACE","\n  ",538],["T_PRIVATE","private",539],["T_WHITESPACE"," ",539],["T_FUNCTION","function",539],["T_WHITESPACE"," ",539],["T_STRING","getContentUpdate",539],"(",["T_VARIABLE","$type",539],")",["T_WHITESPACE"," ",539],"{",["T_WHITESPACE","\n    ",539],["T_VARIABLE","$content",540],["T_WHITESPACE"," ",540],"=",["T_WHITESPACE"," ",540],["T_ARRAY","array",540],"(",["T_WHITESPACE","\n      ",540],["T_CONSTANT_ENCAPSED_STRING","'body[0][value]'",541],["T_WHITESPACE"," ",541],["T_DOUBLE_ARROW","=>",541],["T_WHITESPACE"," ",541],["T_VARIABLE","$this",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","randomMachineName",541],"(",["T_LNUMBER","32",541],")",",",["T_WHITESPACE","\n    ",541],")",";",["T_WHITESPACE","\n    ",542],["T_RETURN","return",543],["T_WHITESPACE"," ",543],["T_VARIABLE","$content",543],";",["T_WHITESPACE","\n  ",543],"}",["T_WHITESPACE","\n\n  ",544],["T_DOC_COMMENT","\/**\n   * Tests the addition and clearing of log events through the admin interface.\n   *\n   * Logs in the admin user, creates a database log event, and tests the\n   * functionality of clearing the database log through the admin interface.\n   *\/",546],["T_WHITESPACE","\n  ",551],["T_PUBLIC","public",552],["T_WHITESPACE"," ",552],["T_FUNCTION","function",552],["T_WHITESPACE"," ",552],["T_STRING","testDBLogAddAndClear",552],"(",")",["T_WHITESPACE"," ",552],"{",["T_WHITESPACE","\n    ",552],["T_GLOBAL","global",553],["T_WHITESPACE"," ",553],["T_VARIABLE","$base_root",553],";",["T_WHITESPACE","\n    ",553],["T_COMMENT","\/\/ Get a count of how many watchdog entries already exist.\n",554],["T_WHITESPACE","    ",555],["T_VARIABLE","$count",555],["T_WHITESPACE"," ",555],"=",["T_WHITESPACE"," ",555],["T_STRING","db_query",555],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT COUNT(*) FROM {watchdog}'",555],")",["T_OBJECT_OPERATOR","->",555],["T_STRING","fetchField",555],"(",")",";",["T_WHITESPACE","\n    ",555],["T_VARIABLE","$log",556],["T_WHITESPACE"," ",556],"=",["T_WHITESPACE"," ",556],["T_ARRAY","array",556],"(",["T_WHITESPACE","\n      ",556],["T_CONSTANT_ENCAPSED_STRING","'channel'",557],["T_WHITESPACE","     ",557],["T_DOUBLE_ARROW","=>",557],["T_WHITESPACE"," ",557],["T_CONSTANT_ENCAPSED_STRING","'system'",557],",",["T_WHITESPACE","\n      ",557],["T_CONSTANT_ENCAPSED_STRING","'message'",558],["T_WHITESPACE","     ",558],["T_DOUBLE_ARROW","=>",558],["T_WHITESPACE"," ",558],["T_CONSTANT_ENCAPSED_STRING","'Log entry added to test the doClearTest clear down.'",558],",",["T_WHITESPACE","\n      ",558],["T_CONSTANT_ENCAPSED_STRING","'variables'",559],["T_WHITESPACE","   ",559],["T_DOUBLE_ARROW","=>",559],["T_WHITESPACE"," ",559],["T_ARRAY","array",559],"(",")",",",["T_WHITESPACE","\n      ",559],["T_CONSTANT_ENCAPSED_STRING","'severity'",560],["T_WHITESPACE","    ",560],["T_DOUBLE_ARROW","=>",560],["T_WHITESPACE"," ",560],["T_STRING","RfcLogLevel",560],["T_DOUBLE_COLON","::",560],["T_STRING","NOTICE",560],",",["T_WHITESPACE","\n      ",560],["T_CONSTANT_ENCAPSED_STRING","'link'",561],["T_WHITESPACE","        ",561],["T_DOUBLE_ARROW","=>",561],["T_WHITESPACE"," ",561],["T_STRING","NULL",561],",",["T_WHITESPACE","\n      ",561],["T_CONSTANT_ENCAPSED_STRING","'user'",562],["T_WHITESPACE","        ",562],["T_DOUBLE_ARROW","=>",562],["T_WHITESPACE"," ",562],["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","adminUser",562],",",["T_WHITESPACE","\n      ",562],["T_CONSTANT_ENCAPSED_STRING","'uid'",563],["T_WHITESPACE","         ",563],["T_DOUBLE_ARROW","=>",563],["T_WHITESPACE"," ",563],["T_VARIABLE","$this",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","adminUser",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","id",563],"(",")",",",["T_WHITESPACE","\n      ",563],["T_CONSTANT_ENCAPSED_STRING","'request_uri'",564],["T_WHITESPACE"," ",564],["T_DOUBLE_ARROW","=>",564],["T_WHITESPACE"," ",564],["T_VARIABLE","$base_root",564],["T_WHITESPACE"," ",564],".",["T_WHITESPACE"," ",564],["T_NS_SEPARATOR","\\",564],["T_STRING","Drupal",564],["T_DOUBLE_COLON","::",564],["T_STRING","request",564],"(",")",["T_OBJECT_OPERATOR","->",564],["T_STRING","getRequestUri",564],"(",")",",",["T_WHITESPACE","\n      ",564],["T_CONSTANT_ENCAPSED_STRING","'referer'",565],["T_WHITESPACE","     ",565],["T_DOUBLE_ARROW","=>",565],["T_WHITESPACE"," ",565],["T_NS_SEPARATOR","\\",565],["T_STRING","Drupal",565],["T_DOUBLE_COLON","::",565],["T_STRING","request",565],"(",")",["T_OBJECT_OPERATOR","->",565],["T_STRING","server",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","get",565],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_REFERER'",565],")",",",["T_WHITESPACE","\n      ",565],["T_CONSTANT_ENCAPSED_STRING","'ip'",566],["T_WHITESPACE","          ",566],["T_DOUBLE_ARROW","=>",566],["T_WHITESPACE"," ",566],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",566],",",["T_WHITESPACE","\n      ",566],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",567],["T_WHITESPACE","   ",567],["T_DOUBLE_ARROW","=>",567],["T_WHITESPACE"," ",567],["T_STRING","REQUEST_TIME",567],",",["T_WHITESPACE","\n    ",567],")",";",["T_WHITESPACE","\n    ",568],["T_COMMENT","\/\/ Add a watchdog entry.\n",569],["T_WHITESPACE","    ",570],["T_VARIABLE","$this",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","container",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","get",570],"(",["T_CONSTANT_ENCAPSED_STRING","'logger.dblog'",570],")",["T_OBJECT_OPERATOR","->",570],["T_STRING","log",570],"(",["T_VARIABLE","$log",570],"[",["T_CONSTANT_ENCAPSED_STRING","'severity'",570],"]",",",["T_WHITESPACE"," ",570],["T_VARIABLE","$log",570],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",570],"]",",",["T_WHITESPACE"," ",570],["T_VARIABLE","$log",570],")",";",["T_WHITESPACE","\n    ",570],["T_COMMENT","\/\/ Make sure the table count has actually been incremented.\n",571],["T_WHITESPACE","    ",572],["T_VARIABLE","$this",572],["T_OBJECT_OPERATOR","->",572],["T_STRING","assertEqual",572],"(",["T_VARIABLE","$count",572],["T_WHITESPACE"," ",572],"+",["T_WHITESPACE"," ",572],["T_LNUMBER","1",572],",",["T_WHITESPACE"," ",572],["T_STRING","db_query",572],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT COUNT(*) FROM {watchdog}'",572],")",["T_OBJECT_OPERATOR","->",572],["T_STRING","fetchField",572],"(",")",",",["T_WHITESPACE"," ",572],["T_STRING","format_string",572],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\dblog\\Logger\\DbLog->log() added an entry to the dblog :count'",572],",",["T_WHITESPACE"," ",572],["T_ARRAY","array",572],"(",["T_CONSTANT_ENCAPSED_STRING","':count'",572],["T_WHITESPACE"," ",572],["T_DOUBLE_ARROW","=>",572],["T_WHITESPACE"," ",572],["T_VARIABLE","$count",572],")",")",")",";",["T_WHITESPACE","\n    ",572],["T_COMMENT","\/\/ Log in the admin user.\n",573],["T_WHITESPACE","    ",574],["T_VARIABLE","$this",574],["T_OBJECT_OPERATOR","->",574],["T_STRING","drupalLogin",574],"(",["T_VARIABLE","$this",574],["T_OBJECT_OPERATOR","->",574],["T_STRING","adminUser",574],")",";",["T_WHITESPACE","\n    ",574],["T_COMMENT","\/\/ Post in order to clear the database table.\n",575],["T_WHITESPACE","    ",576],["T_VARIABLE","$this",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","clearLogsEntries",576],"(",")",";",["T_WHITESPACE","\n    ",576],["T_COMMENT","\/\/ Confirm that the logs should be cleared.\n",577],["T_WHITESPACE","    ",578],["T_VARIABLE","$this",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","drupalPostForm",578],"(",["T_STRING","NULL",578],",",["T_WHITESPACE"," ",578],["T_ARRAY","array",578],"(",")",",",["T_WHITESPACE"," ",578],["T_CONSTANT_ENCAPSED_STRING","'Confirm'",578],")",";",["T_WHITESPACE","\n    ",578],["T_COMMENT","\/\/ Count the rows in watchdog that previously related to the deleted user.\n",579],["T_WHITESPACE","    ",580],["T_VARIABLE","$count",580],["T_WHITESPACE"," ",580],"=",["T_WHITESPACE"," ",580],["T_STRING","db_query",580],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT COUNT(*) FROM {watchdog}'",580],")",["T_OBJECT_OPERATOR","->",580],["T_STRING","fetchField",580],"(",")",";",["T_WHITESPACE","\n    ",580],["T_VARIABLE","$this",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","assertEqual",581],"(",["T_VARIABLE","$count",581],",",["T_WHITESPACE"," ",581],["T_LNUMBER","0",581],",",["T_WHITESPACE"," ",581],["T_STRING","format_string",581],"(",["T_CONSTANT_ENCAPSED_STRING","'DBLog contains :count records after a clear.'",581],",",["T_WHITESPACE"," ",581],["T_ARRAY","array",581],"(",["T_CONSTANT_ENCAPSED_STRING","':count'",581],["T_WHITESPACE"," ",581],["T_DOUBLE_ARROW","=>",581],["T_WHITESPACE"," ",581],["T_VARIABLE","$count",581],")",")",")",";",["T_WHITESPACE","\n  ",581],"}",["T_WHITESPACE","\n\n  ",582],["T_DOC_COMMENT","\/**\n   * Tests the database log filter functionality at admin\/reports\/dblog.\n   *\/",584],["T_WHITESPACE","\n  ",586],["T_PUBLIC","public",587],["T_WHITESPACE"," ",587],["T_FUNCTION","function",587],["T_WHITESPACE"," ",587],["T_STRING","testFilter",587],"(",")",["T_WHITESPACE"," ",587],"{",["T_WHITESPACE","\n    ",587],["T_VARIABLE","$this",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","drupalLogin",588],"(",["T_VARIABLE","$this",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","adminUser",588],")",";",["T_WHITESPACE","\n\n    ",588],["T_COMMENT","\/\/ Clear the log to ensure that only generated entries will be found.\n",590],["T_WHITESPACE","    ",591],["T_STRING","db_delete",591],"(",["T_CONSTANT_ENCAPSED_STRING","'watchdog'",591],")",["T_OBJECT_OPERATOR","->",591],["T_STRING","execute",591],"(",")",";",["T_WHITESPACE","\n\n    ",591],["T_COMMENT","\/\/ Generate 9 random watchdog entries.\n",593],["T_WHITESPACE","    ",594],["T_VARIABLE","$type_names",594],["T_WHITESPACE"," ",594],"=",["T_WHITESPACE"," ",594],["T_ARRAY","array",594],"(",")",";",["T_WHITESPACE","\n    ",594],["T_VARIABLE","$types",595],["T_WHITESPACE"," ",595],"=",["T_WHITESPACE"," ",595],["T_ARRAY","array",595],"(",")",";",["T_WHITESPACE","\n    ",595],["T_FOR","for",596],["T_WHITESPACE"," ",596],"(",["T_VARIABLE","$i",596],["T_WHITESPACE"," ",596],"=",["T_WHITESPACE"," ",596],["T_LNUMBER","0",596],";",["T_WHITESPACE"," ",596],["T_VARIABLE","$i",596],["T_WHITESPACE"," ",596],"<",["T_WHITESPACE"," ",596],["T_LNUMBER","3",596],";",["T_WHITESPACE"," ",596],["T_VARIABLE","$i",596],["T_INC","++",596],")",["T_WHITESPACE"," ",596],"{",["T_WHITESPACE","\n      ",596],["T_VARIABLE","$type_names",597],"[","]",["T_WHITESPACE"," ",597],"=",["T_WHITESPACE"," ",597],["T_VARIABLE","$type_name",597],["T_WHITESPACE"," ",597],"=",["T_WHITESPACE"," ",597],["T_VARIABLE","$this",597],["T_OBJECT_OPERATOR","->",597],["T_STRING","randomMachineName",597],"(",")",";",["T_WHITESPACE","\n      ",597],["T_VARIABLE","$severity",598],["T_WHITESPACE"," ",598],"=",["T_WHITESPACE"," ",598],["T_STRING","RfcLogLevel",598],["T_DOUBLE_COLON","::",598],["T_STRING","EMERGENCY",598],";",["T_WHITESPACE","\n      ",598],["T_FOR","for",599],["T_WHITESPACE"," ",599],"(",["T_VARIABLE","$j",599],["T_WHITESPACE"," ",599],"=",["T_WHITESPACE"," ",599],["T_LNUMBER","0",599],";",["T_WHITESPACE"," ",599],["T_VARIABLE","$j",599],["T_WHITESPACE"," ",599],"<",["T_WHITESPACE"," ",599],["T_LNUMBER","3",599],";",["T_WHITESPACE"," ",599],["T_VARIABLE","$j",599],["T_INC","++",599],")",["T_WHITESPACE"," ",599],"{",["T_WHITESPACE","\n        ",599],["T_VARIABLE","$types",600],"[","]",["T_WHITESPACE"," ",600],"=",["T_WHITESPACE"," ",600],["T_VARIABLE","$type",600],["T_WHITESPACE"," ",600],"=",["T_WHITESPACE"," ",600],["T_ARRAY","array",600],"(",["T_WHITESPACE","\n          ",600],["T_CONSTANT_ENCAPSED_STRING","'count'",601],["T_WHITESPACE"," ",601],["T_DOUBLE_ARROW","=>",601],["T_WHITESPACE"," ",601],["T_VARIABLE","$j",601],["T_WHITESPACE"," ",601],"+",["T_WHITESPACE"," ",601],["T_LNUMBER","1",601],",",["T_WHITESPACE","\n          ",601],["T_CONSTANT_ENCAPSED_STRING","'type'",602],["T_WHITESPACE"," ",602],["T_DOUBLE_ARROW","=>",602],["T_WHITESPACE"," ",602],["T_VARIABLE","$type_name",602],",",["T_WHITESPACE","\n          ",602],["T_CONSTANT_ENCAPSED_STRING","'severity'",603],["T_WHITESPACE"," ",603],["T_DOUBLE_ARROW","=>",603],["T_WHITESPACE"," ",603],["T_VARIABLE","$severity",603],["T_INC","++",603],",",["T_WHITESPACE","\n        ",603],")",";",["T_WHITESPACE","\n        ",604],["T_VARIABLE","$this",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","generateLogEntries",605],"(",["T_VARIABLE","$type",605],"[",["T_CONSTANT_ENCAPSED_STRING","'count'",605],"]",",",["T_WHITESPACE"," ",605],["T_ARRAY","array",605],"(",["T_WHITESPACE","\n          ",605],["T_CONSTANT_ENCAPSED_STRING","'channel'",606],["T_WHITESPACE"," ",606],["T_DOUBLE_ARROW","=>",606],["T_WHITESPACE"," ",606],["T_VARIABLE","$type",606],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",606],"]",",",["T_WHITESPACE","\n          ",606],["T_CONSTANT_ENCAPSED_STRING","'severity'",607],["T_WHITESPACE"," ",607],["T_DOUBLE_ARROW","=>",607],["T_WHITESPACE"," ",607],["T_VARIABLE","$type",607],"[",["T_CONSTANT_ENCAPSED_STRING","'severity'",607],"]",",",["T_WHITESPACE","\n        ",607],")",")",";",["T_WHITESPACE","\n      ",608],"}",["T_WHITESPACE","\n    ",609],"}",["T_WHITESPACE","\n\n    ",610],["T_COMMENT","\/\/ View the database log page.\n",612],["T_WHITESPACE","    ",613],["T_VARIABLE","$this",613],["T_OBJECT_OPERATOR","->",613],["T_STRING","drupalGet",613],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/dblog'",613],")",";",["T_WHITESPACE","\n\n    ",613],["T_COMMENT","\/\/ Confirm that all the entries are displayed.\n",615],["T_WHITESPACE","    ",616],["T_VARIABLE","$count",616],["T_WHITESPACE"," ",616],"=",["T_WHITESPACE"," ",616],["T_VARIABLE","$this",616],["T_OBJECT_OPERATOR","->",616],["T_STRING","getTypeCount",616],"(",["T_VARIABLE","$types",616],")",";",["T_WHITESPACE","\n    ",616],["T_FOREACH","foreach",617],["T_WHITESPACE"," ",617],"(",["T_VARIABLE","$types",617],["T_WHITESPACE"," ",617],["T_AS","as",617],["T_WHITESPACE"," ",617],["T_VARIABLE","$key",617],["T_WHITESPACE"," ",617],["T_DOUBLE_ARROW","=>",617],["T_WHITESPACE"," ",617],["T_VARIABLE","$type",617],")",["T_WHITESPACE"," ",617],"{",["T_WHITESPACE","\n      ",617],["T_VARIABLE","$this",618],["T_OBJECT_OPERATOR","->",618],["T_STRING","assertEqual",618],"(",["T_VARIABLE","$count",618],"[",["T_VARIABLE","$key",618],"]",",",["T_WHITESPACE"," ",618],["T_VARIABLE","$type",618],"[",["T_CONSTANT_ENCAPSED_STRING","'count'",618],"]",",",["T_WHITESPACE"," ",618],["T_CONSTANT_ENCAPSED_STRING","'Count matched'",618],")",";",["T_WHITESPACE","\n    ",618],"}",["T_WHITESPACE","\n\n    ",619],["T_COMMENT","\/\/ Filter by each type and confirm that entries with various severities are\n",621],["T_WHITESPACE","    ",622],["T_COMMENT","\/\/ displayed.\n",622],["T_WHITESPACE","    ",623],["T_FOREACH","foreach",623],["T_WHITESPACE"," ",623],"(",["T_VARIABLE","$type_names",623],["T_WHITESPACE"," ",623],["T_AS","as",623],["T_WHITESPACE"," ",623],["T_VARIABLE","$type_name",623],")",["T_WHITESPACE"," ",623],"{",["T_WHITESPACE","\n      ",623],["T_VARIABLE","$this",624],["T_OBJECT_OPERATOR","->",624],["T_STRING","filterLogsEntries",624],"(",["T_VARIABLE","$type_name",624],")",";",["T_WHITESPACE","\n\n      ",624],["T_COMMENT","\/\/ Count the number of entries of this type.\n",626],["T_WHITESPACE","      ",627],["T_VARIABLE","$type_count",627],["T_WHITESPACE"," ",627],"=",["T_WHITESPACE"," ",627],["T_LNUMBER","0",627],";",["T_WHITESPACE","\n      ",627],["T_FOREACH","foreach",628],["T_WHITESPACE"," ",628],"(",["T_VARIABLE","$types",628],["T_WHITESPACE"," ",628],["T_AS","as",628],["T_WHITESPACE"," ",628],["T_VARIABLE","$type",628],")",["T_WHITESPACE"," ",628],"{",["T_WHITESPACE","\n        ",628],["T_IF","if",629],["T_WHITESPACE"," ",629],"(",["T_VARIABLE","$type",629],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",629],"]",["T_WHITESPACE"," ",629],["T_IS_EQUAL","==",629],["T_WHITESPACE"," ",629],["T_VARIABLE","$type_name",629],")",["T_WHITESPACE"," ",629],"{",["T_WHITESPACE","\n          ",629],["T_VARIABLE","$type_count",630],["T_WHITESPACE"," ",630],["T_PLUS_EQUAL","+=",630],["T_WHITESPACE"," ",630],["T_VARIABLE","$type",630],"[",["T_CONSTANT_ENCAPSED_STRING","'count'",630],"]",";",["T_WHITESPACE","\n        ",630],"}",["T_WHITESPACE","\n      ",631],"}",["T_WHITESPACE","\n\n      ",632],["T_VARIABLE","$count",634],["T_WHITESPACE"," ",634],"=",["T_WHITESPACE"," ",634],["T_VARIABLE","$this",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","getTypeCount",634],"(",["T_VARIABLE","$types",634],")",";",["T_WHITESPACE","\n      ",634],["T_VARIABLE","$this",635],["T_OBJECT_OPERATOR","->",635],["T_STRING","assertEqual",635],"(",["T_STRING","array_sum",635],"(",["T_VARIABLE","$count",635],")",",",["T_WHITESPACE"," ",635],["T_VARIABLE","$type_count",635],",",["T_WHITESPACE"," ",635],["T_CONSTANT_ENCAPSED_STRING","'Count matched'",635],")",";",["T_WHITESPACE","\n    ",635],"}",["T_WHITESPACE","\n\n    ",636],["T_COMMENT","\/\/ Set the filter to match each of the two filter-type attributes and\n",638],["T_WHITESPACE","    ",639],["T_COMMENT","\/\/ confirm the correct number of entries are displayed.\n",639],["T_WHITESPACE","    ",640],["T_FOREACH","foreach",640],["T_WHITESPACE"," ",640],"(",["T_VARIABLE","$types",640],["T_WHITESPACE"," ",640],["T_AS","as",640],["T_WHITESPACE"," ",640],["T_VARIABLE","$type",640],")",["T_WHITESPACE"," ",640],"{",["T_WHITESPACE","\n      ",640],["T_VARIABLE","$this",641],["T_OBJECT_OPERATOR","->",641],["T_STRING","filterLogsEntries",641],"(",["T_VARIABLE","$type",641],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",641],"]",",",["T_WHITESPACE"," ",641],["T_VARIABLE","$type",641],"[",["T_CONSTANT_ENCAPSED_STRING","'severity'",641],"]",")",";",["T_WHITESPACE","\n\n      ",641],["T_VARIABLE","$count",643],["T_WHITESPACE"," ",643],"=",["T_WHITESPACE"," ",643],["T_VARIABLE","$this",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","getTypeCount",643],"(",["T_VARIABLE","$types",643],")",";",["T_WHITESPACE","\n      ",643],["T_VARIABLE","$this",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","assertEqual",644],"(",["T_STRING","array_sum",644],"(",["T_VARIABLE","$count",644],")",",",["T_WHITESPACE"," ",644],["T_VARIABLE","$type",644],"[",["T_CONSTANT_ENCAPSED_STRING","'count'",644],"]",",",["T_WHITESPACE"," ",644],["T_CONSTANT_ENCAPSED_STRING","'Count matched'",644],")",";",["T_WHITESPACE","\n    ",644],"}",["T_WHITESPACE","\n\n    ",645],["T_VARIABLE","$this",647],["T_OBJECT_OPERATOR","->",647],["T_STRING","drupalGet",647],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/dblog'",647],",",["T_WHITESPACE"," ",647],["T_ARRAY","array",647],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",647],["T_WHITESPACE"," ",647],["T_DOUBLE_ARROW","=>",647],["T_WHITESPACE"," ",647],["T_ARRAY","array",647],"(",["T_CONSTANT_ENCAPSED_STRING","'order'",647],["T_WHITESPACE"," ",647],["T_DOUBLE_ARROW","=>",647],["T_WHITESPACE"," ",647],["T_CONSTANT_ENCAPSED_STRING","'Type'",647],")",")",")",";",["T_WHITESPACE","\n    ",647],["T_VARIABLE","$this",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","assertResponse",648],"(",["T_LNUMBER","200",648],")",";",["T_WHITESPACE","\n    ",648],["T_VARIABLE","$this",649],["T_OBJECT_OPERATOR","->",649],["T_STRING","assertText",649],"(",["T_STRING","t",649],"(",["T_CONSTANT_ENCAPSED_STRING","'Operations'",649],")",",",["T_WHITESPACE"," ",649],["T_CONSTANT_ENCAPSED_STRING","'Operations text found'",649],")",";",["T_WHITESPACE","\n\n    ",649],["T_COMMENT","\/\/ Clear all logs and make sure the confirmation message is found.\n",651],["T_WHITESPACE","    ",652],["T_VARIABLE","$this",652],["T_OBJECT_OPERATOR","->",652],["T_STRING","clearLogsEntries",652],"(",")",";",["T_WHITESPACE","\n    ",652],["T_COMMENT","\/\/ Confirm that the logs should be cleared.\n",653],["T_WHITESPACE","    ",654],["T_VARIABLE","$this",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","drupalPostForm",654],"(",["T_STRING","NULL",654],",",["T_WHITESPACE"," ",654],["T_ARRAY","array",654],"(",")",",",["T_WHITESPACE"," ",654],["T_CONSTANT_ENCAPSED_STRING","'Confirm'",654],")",";",["T_WHITESPACE","\n    ",654],["T_VARIABLE","$this",655],["T_OBJECT_OPERATOR","->",655],["T_STRING","assertText",655],"(",["T_STRING","t",655],"(",["T_CONSTANT_ENCAPSED_STRING","'Database log cleared.'",655],")",",",["T_WHITESPACE"," ",655],["T_CONSTANT_ENCAPSED_STRING","'Confirmation message found'",655],")",";",["T_WHITESPACE","\n  ",655],"}",["T_WHITESPACE","\n\n  ",656],["T_DOC_COMMENT","\/**\n   * Gets the database log event information from the browser page.\n   *\n   * @return array\n   *   List of log events where each event is an array with following keys:\n   *   - severity: (int) A database log severity constant.\n   *   - type: (string) The type of database log event.\n   *   - message: (string) The message for this database log event.\n   *   - user: (string) The user associated with this database log event.\n   *\/",658],["T_WHITESPACE","\n  ",667],["T_PROTECTED","protected",668],["T_WHITESPACE"," ",668],["T_FUNCTION","function",668],["T_WHITESPACE"," ",668],["T_STRING","getLogEntries",668],"(",")",["T_WHITESPACE"," ",668],"{",["T_WHITESPACE","\n    ",668],["T_VARIABLE","$entries",669],["T_WHITESPACE"," ",669],"=",["T_WHITESPACE"," ",669],["T_ARRAY","array",669],"(",")",";",["T_WHITESPACE","\n    ",669],["T_IF","if",670],["T_WHITESPACE"," ",670],"(",["T_VARIABLE","$table",670],["T_WHITESPACE"," ",670],"=",["T_WHITESPACE"," ",670],["T_VARIABLE","$this",670],["T_OBJECT_OPERATOR","->",670],["T_STRING","getLogsEntriesTable",670],"(",")",")",["T_WHITESPACE"," ",670],"{",["T_WHITESPACE","\n      ",670],["T_VARIABLE","$table",671],["T_WHITESPACE"," ",671],"=",["T_WHITESPACE"," ",671],["T_STRING","array_shift",671],"(",["T_VARIABLE","$table",671],")",";",["T_WHITESPACE","\n      ",671],["T_FOREACH","foreach",672],["T_WHITESPACE"," ",672],"(",["T_VARIABLE","$table",672],["T_OBJECT_OPERATOR","->",672],["T_STRING","tbody",672],["T_OBJECT_OPERATOR","->",672],["T_STRING","tr",672],["T_WHITESPACE"," ",672],["T_AS","as",672],["T_WHITESPACE"," ",672],["T_VARIABLE","$row",672],")",["T_WHITESPACE"," ",672],"{",["T_WHITESPACE","\n        ",672],["T_VARIABLE","$entries",673],"[","]",["T_WHITESPACE"," ",673],"=",["T_WHITESPACE"," ",673],["T_ARRAY","array",673],"(",["T_WHITESPACE","\n          ",673],["T_CONSTANT_ENCAPSED_STRING","'severity'",674],["T_WHITESPACE"," ",674],["T_DOUBLE_ARROW","=>",674],["T_WHITESPACE"," ",674],["T_VARIABLE","$this",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","getSeverityConstant",674],"(",["T_VARIABLE","$row",674],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",674],"]",")",",",["T_WHITESPACE","\n          ",674],["T_CONSTANT_ENCAPSED_STRING","'type'",675],["T_WHITESPACE"," ",675],["T_DOUBLE_ARROW","=>",675],["T_WHITESPACE"," ",675],["T_VARIABLE","$this",675],["T_OBJECT_OPERATOR","->",675],["T_STRING","asText",675],"(",["T_VARIABLE","$row",675],["T_OBJECT_OPERATOR","->",675],["T_STRING","td",675],"[",["T_LNUMBER","1",675],"]",")",",",["T_WHITESPACE","\n          ",675],["T_CONSTANT_ENCAPSED_STRING","'message'",676],["T_WHITESPACE"," ",676],["T_DOUBLE_ARROW","=>",676],["T_WHITESPACE"," ",676],["T_VARIABLE","$this",676],["T_OBJECT_OPERATOR","->",676],["T_STRING","asText",676],"(",["T_VARIABLE","$row",676],["T_OBJECT_OPERATOR","->",676],["T_STRING","td",676],"[",["T_LNUMBER","3",676],"]",")",",",["T_WHITESPACE","\n          ",676],["T_CONSTANT_ENCAPSED_STRING","'user'",677],["T_WHITESPACE"," ",677],["T_DOUBLE_ARROW","=>",677],["T_WHITESPACE"," ",677],["T_VARIABLE","$this",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","asText",677],"(",["T_VARIABLE","$row",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","td",677],"[",["T_LNUMBER","4",677],"]",")",",",["T_WHITESPACE","\n        ",677],")",";",["T_WHITESPACE","\n      ",678],"}",["T_WHITESPACE","\n    ",679],"}",["T_WHITESPACE","\n    ",680],["T_RETURN","return",681],["T_WHITESPACE"," ",681],["T_VARIABLE","$entries",681],";",["T_WHITESPACE","\n  ",681],"}",["T_WHITESPACE","\n\n  ",682],["T_DOC_COMMENT","\/**\n   * Find the Logs table in the DOM.\n   *\n   * @return \\SimpleXMLElement[]\n   *   The return value of a xpath search.\n   *\/",684],["T_WHITESPACE","\n  ",689],["T_PROTECTED","protected",690],["T_WHITESPACE"," ",690],["T_FUNCTION","function",690],["T_WHITESPACE"," ",690],["T_STRING","getLogsEntriesTable",690],"(",")",["T_WHITESPACE"," ",690],"{",["T_WHITESPACE","\n    ",690],["T_RETURN","return",691],["T_WHITESPACE"," ",691],["T_VARIABLE","$this",691],["T_OBJECT_OPERATOR","->",691],["T_STRING","xpath",691],"(",["T_CONSTANT_ENCAPSED_STRING","'.\/\/table[@id=\"admin-dblog\"]'",691],")",";",["T_WHITESPACE","\n  ",691],"}",["T_WHITESPACE","\n\n  ",692],["T_DOC_COMMENT","\/**\n   * Gets the count of database log entries by database log event type.\n   *\n   * @param array $types\n   *   The type information to compare against.\n   *\n   * @return array\n   *   The count of each type keyed by the key of the $types array.\n   *\/",694],["T_WHITESPACE","\n  ",702],["T_PROTECTED","protected",703],["T_WHITESPACE"," ",703],["T_FUNCTION","function",703],["T_WHITESPACE"," ",703],["T_STRING","getTypeCount",703],"(",["T_ARRAY","array",703],["T_WHITESPACE"," ",703],["T_VARIABLE","$types",703],")",["T_WHITESPACE"," ",703],"{",["T_WHITESPACE","\n    ",703],["T_VARIABLE","$entries",704],["T_WHITESPACE"," ",704],"=",["T_WHITESPACE"," ",704],["T_VARIABLE","$this",704],["T_OBJECT_OPERATOR","->",704],["T_STRING","getLogEntries",704],"(",")",";",["T_WHITESPACE","\n    ",704],["T_VARIABLE","$count",705],["T_WHITESPACE"," ",705],"=",["T_WHITESPACE"," ",705],["T_STRING","array_fill",705],"(",["T_LNUMBER","0",705],",",["T_WHITESPACE"," ",705],["T_STRING","count",705],"(",["T_VARIABLE","$types",705],")",",",["T_WHITESPACE"," ",705],["T_LNUMBER","0",705],")",";",["T_WHITESPACE","\n    ",705],["T_FOREACH","foreach",706],["T_WHITESPACE"," ",706],"(",["T_VARIABLE","$entries",706],["T_WHITESPACE"," ",706],["T_AS","as",706],["T_WHITESPACE"," ",706],["T_VARIABLE","$entry",706],")",["T_WHITESPACE"," ",706],"{",["T_WHITESPACE","\n      ",706],["T_FOREACH","foreach",707],["T_WHITESPACE"," ",707],"(",["T_VARIABLE","$types",707],["T_WHITESPACE"," ",707],["T_AS","as",707],["T_WHITESPACE"," ",707],["T_VARIABLE","$key",707],["T_WHITESPACE"," ",707],["T_DOUBLE_ARROW","=>",707],["T_WHITESPACE"," ",707],["T_VARIABLE","$type",707],")",["T_WHITESPACE"," ",707],"{",["T_WHITESPACE","\n        ",707],["T_IF","if",708],["T_WHITESPACE"," ",708],"(",["T_VARIABLE","$entry",708],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",708],"]",["T_WHITESPACE"," ",708],["T_IS_EQUAL","==",708],["T_WHITESPACE"," ",708],["T_VARIABLE","$type",708],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",708],"]",["T_WHITESPACE"," ",708],["T_BOOLEAN_AND","&&",708],["T_WHITESPACE"," ",708],["T_VARIABLE","$entry",708],"[",["T_CONSTANT_ENCAPSED_STRING","'severity'",708],"]",["T_WHITESPACE"," ",708],["T_IS_EQUAL","==",708],["T_WHITESPACE"," ",708],["T_VARIABLE","$type",708],"[",["T_CONSTANT_ENCAPSED_STRING","'severity'",708],"]",")",["T_WHITESPACE"," ",708],"{",["T_WHITESPACE","\n          ",708],["T_VARIABLE","$count",709],"[",["T_VARIABLE","$key",709],"]",["T_INC","++",709],";",["T_WHITESPACE","\n          ",709],["T_BREAK","break",710],";",["T_WHITESPACE","\n        ",710],"}",["T_WHITESPACE","\n      ",711],"}",["T_WHITESPACE","\n    ",712],"}",["T_WHITESPACE","\n    ",713],["T_RETURN","return",714],["T_WHITESPACE"," ",714],["T_VARIABLE","$count",714],";",["T_WHITESPACE","\n  ",714],"}",["T_WHITESPACE","\n\n  ",715],["T_DOC_COMMENT","\/**\n   * Gets the watchdog severity constant corresponding to the CSS class.\n   *\n   * @param string $class\n   *   CSS class attribute.\n   *\n   * @return int|null\n   *   The watchdog severity constant or NULL if not found.\n   *\/",717],["T_WHITESPACE","\n  ",725],["T_PROTECTED","protected",726],["T_WHITESPACE"," ",726],["T_FUNCTION","function",726],["T_WHITESPACE"," ",726],["T_STRING","getSeverityConstant",726],"(",["T_VARIABLE","$class",726],")",["T_WHITESPACE"," ",726],"{",["T_WHITESPACE","\n    ",726],["T_VARIABLE","$map",727],["T_WHITESPACE"," ",727],"=",["T_WHITESPACE"," ",727],["T_STRING","array_flip",727],"(",["T_STRING","DbLogController",727],["T_DOUBLE_COLON","::",727],["T_STRING","getLogLevelClassMap",727],"(",")",")",";",["T_WHITESPACE","\n\n    ",727],["T_COMMENT","\/\/ Find the class that contains the severity.\n",729],["T_WHITESPACE","    ",730],["T_VARIABLE","$classes",730],["T_WHITESPACE"," ",730],"=",["T_WHITESPACE"," ",730],["T_STRING","explode",730],"(",["T_CONSTANT_ENCAPSED_STRING","' '",730],",",["T_WHITESPACE"," ",730],["T_VARIABLE","$class",730],")",";",["T_WHITESPACE","\n    ",730],["T_FOREACH","foreach",731],["T_WHITESPACE"," ",731],"(",["T_VARIABLE","$classes",731],["T_WHITESPACE"," ",731],["T_AS","as",731],["T_WHITESPACE"," ",731],["T_VARIABLE","$class",731],")",["T_WHITESPACE"," ",731],"{",["T_WHITESPACE","\n      ",731],["T_IF","if",732],["T_WHITESPACE"," ",732],"(",["T_ISSET","isset",732],"(",["T_VARIABLE","$map",732],"[",["T_VARIABLE","$class",732],"]",")",")",["T_WHITESPACE"," ",732],"{",["T_WHITESPACE","\n        ",732],["T_RETURN","return",733],["T_WHITESPACE"," ",733],["T_VARIABLE","$map",733],"[",["T_VARIABLE","$class",733],"]",";",["T_WHITESPACE","\n      ",733],"}",["T_WHITESPACE","\n    ",734],"}",["T_WHITESPACE","\n    ",735],["T_RETURN","return",736],["T_WHITESPACE"," ",736],["T_STRING","NULL",736],";",["T_WHITESPACE","\n  ",736],"}",["T_WHITESPACE","\n\n  ",737],["T_DOC_COMMENT","\/**\n   * Extracts the text contained by the XHTML element.\n   *\n   * @param \\SimpleXMLElement $element\n   *   Element to extract text from.\n   *\n   * @return string\n   *   Extracted text.\n   *\/",739],["T_WHITESPACE","\n  ",747],["T_PROTECTED","protected",748],["T_WHITESPACE"," ",748],["T_FUNCTION","function",748],["T_WHITESPACE"," ",748],["T_STRING","asText",748],"(",["T_NS_SEPARATOR","\\",748],["T_STRING","SimpleXMLElement",748],["T_WHITESPACE"," ",748],["T_VARIABLE","$element",748],")",["T_WHITESPACE"," ",748],"{",["T_WHITESPACE","\n    ",748],["T_IF","if",749],["T_WHITESPACE"," ",749],"(","!",["T_STRING","is_object",749],"(",["T_VARIABLE","$element",749],")",")",["T_WHITESPACE"," ",749],"{",["T_WHITESPACE","\n      ",749],["T_RETURN","return",750],["T_WHITESPACE"," ",750],["T_VARIABLE","$this",750],["T_OBJECT_OPERATOR","->",750],["T_STRING","fail",750],"(",["T_CONSTANT_ENCAPSED_STRING","'The element is not an element.'",750],")",";",["T_WHITESPACE","\n    ",750],"}",["T_WHITESPACE","\n    ",751],["T_RETURN","return",752],["T_WHITESPACE"," ",752],["T_STRING","trim",752],"(",["T_STRING","html_entity_decode",752],"(",["T_STRING","strip_tags",752],"(",["T_VARIABLE","$element",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","asXML",752],"(",")",")",")",")",";",["T_WHITESPACE","\n  ",752],"}",["T_WHITESPACE","\n\n  ",753],["T_DOC_COMMENT","\/**\n   * Confirms that a log message appears on the database log overview screen.\n   *\n   * This function should only be used for the admin\/reports\/dblog page, because\n   * it checks for the message link text truncated to 56 characters. Other log\n   * pages have no detail links so they contain the full message text.\n   *\n   * @param string $log_message\n   *   The database log message to check.\n   * @param string $message\n   *   The message to pass to simpletest.\n   *\/",755],["T_WHITESPACE","\n  ",766],["T_PROTECTED","protected",767],["T_WHITESPACE"," ",767],["T_FUNCTION","function",767],["T_WHITESPACE"," ",767],["T_STRING","assertLogMessage",767],"(",["T_VARIABLE","$log_message",767],",",["T_WHITESPACE"," ",767],["T_VARIABLE","$message",767],")",["T_WHITESPACE"," ",767],"{",["T_WHITESPACE","\n    ",767],["T_VARIABLE","$message_text",768],["T_WHITESPACE"," ",768],"=",["T_WHITESPACE"," ",768],["T_STRING","Unicode",768],["T_DOUBLE_COLON","::",768],["T_STRING","truncate",768],"(",["T_STRING","Html",768],["T_DOUBLE_COLON","::",768],["T_STRING","decodeEntities",768],"(",["T_STRING","strip_tags",768],"(",["T_VARIABLE","$log_message",768],")",")",",",["T_WHITESPACE"," ",768],["T_LNUMBER","56",768],",",["T_WHITESPACE"," ",768],["T_STRING","TRUE",768],",",["T_WHITESPACE"," ",768],["T_STRING","TRUE",768],")",";",["T_WHITESPACE","\n    ",768],["T_VARIABLE","$this",769],["T_OBJECT_OPERATOR","->",769],["T_STRING","assertLink",769],"(",["T_VARIABLE","$message_text",769],",",["T_WHITESPACE"," ",769],["T_LNUMBER","0",769],",",["T_WHITESPACE"," ",769],["T_VARIABLE","$message",769],")",";",["T_WHITESPACE","\n  ",769],"}",["T_WHITESPACE","\n\n  ",770],["T_DOC_COMMENT","\/**\n   * Tests that the details page displays correctly for a temporary user.\n   *\/",772],["T_WHITESPACE","\n  ",774],["T_PUBLIC","public",775],["T_WHITESPACE"," ",775],["T_FUNCTION","function",775],["T_WHITESPACE"," ",775],["T_STRING","testTemporaryUser",775],"(",")",["T_WHITESPACE"," ",775],"{",["T_WHITESPACE","\n    ",775],["T_COMMENT","\/\/ Create a temporary user.\n",776],["T_WHITESPACE","    ",777],["T_VARIABLE","$tempuser",777],["T_WHITESPACE"," ",777],"=",["T_WHITESPACE"," ",777],["T_VARIABLE","$this",777],["T_OBJECT_OPERATOR","->",777],["T_STRING","drupalCreateUser",777],"(",")",";",["T_WHITESPACE","\n    ",777],["T_VARIABLE","$tempuser_uid",778],["T_WHITESPACE"," ",778],"=",["T_WHITESPACE"," ",778],["T_VARIABLE","$tempuser",778],["T_OBJECT_OPERATOR","->",778],["T_STRING","id",778],"(",")",";",["T_WHITESPACE","\n\n    ",778],["T_COMMENT","\/\/ Log in as the admin user.\n",780],["T_WHITESPACE","    ",781],["T_VARIABLE","$this",781],["T_OBJECT_OPERATOR","->",781],["T_STRING","drupalLogin",781],"(",["T_VARIABLE","$this",781],["T_OBJECT_OPERATOR","->",781],["T_STRING","adminUser",781],")",";",["T_WHITESPACE","\n\n    ",781],["T_COMMENT","\/\/ Generate a single watchdog entry.\n",783],["T_WHITESPACE","    ",784],["T_VARIABLE","$this",784],["T_OBJECT_OPERATOR","->",784],["T_STRING","generateLogEntries",784],"(",["T_LNUMBER","1",784],",",["T_WHITESPACE"," ",784],["T_ARRAY","array",784],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",784],["T_WHITESPACE"," ",784],["T_DOUBLE_ARROW","=>",784],["T_WHITESPACE"," ",784],["T_VARIABLE","$tempuser",784],",",["T_WHITESPACE"," ",784],["T_CONSTANT_ENCAPSED_STRING","'uid'",784],["T_WHITESPACE"," ",784],["T_DOUBLE_ARROW","=>",784],["T_WHITESPACE"," ",784],["T_VARIABLE","$tempuser_uid",784],")",")",";",["T_WHITESPACE","\n    ",784],["T_VARIABLE","$wid",785],["T_WHITESPACE"," ",785],"=",["T_WHITESPACE"," ",785],["T_STRING","db_query",785],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT MAX(wid) FROM {watchdog}'",785],")",["T_OBJECT_OPERATOR","->",785],["T_STRING","fetchField",785],"(",")",";",["T_WHITESPACE","\n\n    ",785],["T_COMMENT","\/\/ Check if the full message displays on the details page.\n",787],["T_WHITESPACE","    ",788],["T_VARIABLE","$this",788],["T_OBJECT_OPERATOR","->",788],["T_STRING","drupalGet",788],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/dblog\/event\/'",788],["T_WHITESPACE"," ",788],".",["T_WHITESPACE"," ",788],["T_VARIABLE","$wid",788],")",";",["T_WHITESPACE","\n    ",788],["T_VARIABLE","$this",789],["T_OBJECT_OPERATOR","->",789],["T_STRING","assertText",789],"(",["T_CONSTANT_ENCAPSED_STRING","'Dblog test log message'",789],")",";",["T_WHITESPACE","\n\n    ",789],["T_COMMENT","\/\/ Delete the user.\n",791],["T_WHITESPACE","    ",792],["T_STRING","user_delete",792],"(",["T_VARIABLE","$tempuser",792],["T_OBJECT_OPERATOR","->",792],["T_STRING","id",792],"(",")",")",";",["T_WHITESPACE","\n    ",792],["T_VARIABLE","$this",793],["T_OBJECT_OPERATOR","->",793],["T_STRING","drupalGet",793],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/'",793],["T_WHITESPACE"," ",793],".",["T_WHITESPACE"," ",793],["T_VARIABLE","$tempuser_uid",793],")",";",["T_WHITESPACE","\n    ",793],["T_VARIABLE","$this",794],["T_OBJECT_OPERATOR","->",794],["T_STRING","assertResponse",794],"(",["T_LNUMBER","404",794],")",";",["T_WHITESPACE","\n\n    ",794],["T_COMMENT","\/\/ Check if the full message displays on the details page.\n",796],["T_WHITESPACE","    ",797],["T_VARIABLE","$this",797],["T_OBJECT_OPERATOR","->",797],["T_STRING","drupalGet",797],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/dblog\/event\/'",797],["T_WHITESPACE"," ",797],".",["T_WHITESPACE"," ",797],["T_VARIABLE","$wid",797],")",";",["T_WHITESPACE","\n    ",797],["T_VARIABLE","$this",798],["T_OBJECT_OPERATOR","->",798],["T_STRING","assertText",798],"(",["T_CONSTANT_ENCAPSED_STRING","'Dblog test log message'",798],")",";",["T_WHITESPACE","\n  ",798],"}",["T_WHITESPACE","\n\n  ",799],["T_DOC_COMMENT","\/**\n   * Make sure HTML tags are filtered out in the log overview links.\n   *\/",801],["T_WHITESPACE","\n  ",803],["T_PUBLIC","public",804],["T_WHITESPACE"," ",804],["T_FUNCTION","function",804],["T_WHITESPACE"," ",804],["T_STRING","testOverviewLinks",804],"(",")",["T_WHITESPACE"," ",804],"{",["T_WHITESPACE","\n    ",804],["T_VARIABLE","$this",805],["T_OBJECT_OPERATOR","->",805],["T_STRING","drupalLogin",805],"(",["T_VARIABLE","$this",805],["T_OBJECT_OPERATOR","->",805],["T_STRING","adminUser",805],")",";",["T_WHITESPACE","\n    ",805],["T_VARIABLE","$this",806],["T_OBJECT_OPERATOR","->",806],["T_STRING","generateLogEntries",806],"(",["T_LNUMBER","1",806],",",["T_WHITESPACE"," ",806],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",806],["T_WHITESPACE"," ",806],["T_DOUBLE_ARROW","=>",806],["T_WHITESPACE"," ",806],["T_CONSTANT_ENCAPSED_STRING","\"&lt;script&gt;alert('foo');&lt;\/script&gt;<strong>Lorem<\/strong> ipsum dolor sit amet, consectetur adipiscing & elit.\"",806],"]",")",";",["T_WHITESPACE","\n    ",806],["T_VARIABLE","$this",807],["T_OBJECT_OPERATOR","->",807],["T_STRING","drupalGet",807],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/dblog'",807],")",";",["T_WHITESPACE","\n    ",807],["T_VARIABLE","$this",808],["T_OBJECT_OPERATOR","->",808],["T_STRING","assertResponse",808],"(",["T_LNUMBER","200",808],")",";",["T_WHITESPACE","\n    ",808],["T_COMMENT","\/\/ Make sure HTML tags are filtered out.\n",809],["T_WHITESPACE","    ",810],["T_VARIABLE","$this",810],["T_OBJECT_OPERATOR","->",810],["T_STRING","assertRaw",810],"(",["T_CONSTANT_ENCAPSED_STRING","'title=\"alert(&#039;foo&#039;);Lorem ipsum dolor sit amet, consectetur adipiscing &amp; elit. Entry #0\">&lt;script&gt;alert(&#039;foo&#039;);&lt;\/script&gt;Lorem ipsum dolor sit\u00e2\u0080\u00a6<\/a>'",810],")",";",["T_WHITESPACE","\n    ",810],["T_VARIABLE","$this",811],["T_OBJECT_OPERATOR","->",811],["T_STRING","assertNoRaw",811],"(",["T_CONSTANT_ENCAPSED_STRING","\"<script>alert('foo');<\/script>\"",811],")",";",["T_WHITESPACE","\n\n    ",811],["T_COMMENT","\/\/ Make sure HTML tags are filtered out in admin\/reports\/dblog\/event\/ too.\n",813],["T_WHITESPACE","    ",814],["T_VARIABLE","$this",814],["T_OBJECT_OPERATOR","->",814],["T_STRING","generateLogEntries",814],"(",["T_LNUMBER","1",814],",",["T_WHITESPACE"," ",814],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",814],["T_WHITESPACE"," ",814],["T_DOUBLE_ARROW","=>",814],["T_WHITESPACE"," ",814],["T_CONSTANT_ENCAPSED_STRING","\"<script>alert('foo');<\/script> <strong>Lorem ipsum<\/strong>\"",814],"]",")",";",["T_WHITESPACE","\n    ",814],["T_VARIABLE","$wid",815],["T_WHITESPACE"," ",815],"=",["T_WHITESPACE"," ",815],["T_STRING","db_query",815],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT MAX(wid) FROM {watchdog}'",815],")",["T_OBJECT_OPERATOR","->",815],["T_STRING","fetchField",815],"(",")",";",["T_WHITESPACE","\n    ",815],["T_VARIABLE","$this",816],["T_OBJECT_OPERATOR","->",816],["T_STRING","drupalGet",816],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/dblog\/event\/'",816],["T_WHITESPACE"," ",816],".",["T_WHITESPACE"," ",816],["T_VARIABLE","$wid",816],")",";",["T_WHITESPACE","\n    ",816],["T_VARIABLE","$this",817],["T_OBJECT_OPERATOR","->",817],["T_STRING","assertNoRaw",817],"(",["T_CONSTANT_ENCAPSED_STRING","\"<script>alert('foo');<\/script>\"",817],")",";",["T_WHITESPACE","\n    ",817],["T_VARIABLE","$this",818],["T_OBJECT_OPERATOR","->",818],["T_STRING","assertRaw",818],"(",["T_CONSTANT_ENCAPSED_STRING","\"alert('foo'); <strong>Lorem ipsum<\/strong>\"",818],")",";",["T_WHITESPACE","\n  ",818],"}",["T_WHITESPACE","\n\n",819],"}",["T_WHITESPACE","\n",821]]