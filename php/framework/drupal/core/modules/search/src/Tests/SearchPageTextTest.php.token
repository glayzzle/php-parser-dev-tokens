[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","search",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Html",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Utility",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unicode",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests the search help text and search page text.\n *\n * @group search\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","SearchPageTextTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","SearchTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n  ",13],["T_DOC_COMMENT","\/**\n   * A user with permission to use advanced search.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",14],["T_WHITESPACE","\n  ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$searchingUser",19],";",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var string[]\n   *\/",21],["T_WHITESPACE","\n  ",25],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_STATIC","static",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$modules",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],"[",["T_CONSTANT_ENCAPSED_STRING","'block'",26],"]",";",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",28],["T_WHITESPACE","\n  ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","setUp",31],"(",")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n    ",31],["T_STRING","parent",32],["T_DOUBLE_COLON","::",32],["T_STRING","setUp",32],"(",")",";",["T_WHITESPACE","\n\n    ",32],["T_COMMENT","\/\/ Create user.\n",34],["T_WHITESPACE","    ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","searchingUser",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","drupalCreateUser",35],"(",["T_ARRAY","array",35],"(",["T_CONSTANT_ENCAPSED_STRING","'search content'",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'access user profiles'",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'use advanced search'",35],")",")",";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","drupalPlaceBlock",36],"(",["T_CONSTANT_ENCAPSED_STRING","'local_tasks_block'",36],")",";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","drupalPlaceBlock",37],"(",["T_CONSTANT_ENCAPSED_STRING","'page_title_block'",37],")",";",["T_WHITESPACE","\n  ",37],"}",["T_WHITESPACE","\n\n  ",38],["T_DOC_COMMENT","\/**\n   * Tests for XSS in search module local task.\n   *\n   * This is a regression test for https:\/\/www.drupal.org\/node\/2338081\n   *\/",40],["T_WHITESPACE","\n  ",44],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","testSearchLabelXSS",45],"(",")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","drupalLogin",46],"(",["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","drupalCreateUser",46],"(",["T_ARRAY","array",46],"(",["T_CONSTANT_ENCAPSED_STRING","'administer search'",46],")",")",")",";",["T_WHITESPACE","\n\n    ",46],["T_VARIABLE","$keys",48],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",48],"]",["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'<script>alert(\"Dont Panic\");<\/script>'",48],";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","drupalPostForm",49],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/search\/pages\/manage\/node_search'",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$keys",49],",",["T_WHITESPACE"," ",49],["T_STRING","t",49],"(",["T_CONSTANT_ENCAPSED_STRING","'Save search page'",49],")",")",";",["T_WHITESPACE","\n\n    ",49],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","drupalLogin",51],"(",["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","searchingUser",51],")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","drupalGet",52],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/node'",52],")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","assertEscaped",53],"(",["T_VARIABLE","$keys",53],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",53],"]",")",";",["T_WHITESPACE","\n  ",53],"}",["T_WHITESPACE","\n\n  ",54],["T_DOC_COMMENT","\/**\n   * Tests the failed search text, and various other text on the search page.\n   *\/",56],["T_WHITESPACE","\n  ",58],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","testSearchText",59],"(",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","drupalLogin",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","searchingUser",60],")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","drupalGet",61],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/node'",61],")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertText",62],"(",["T_STRING","t",62],"(",["T_CONSTANT_ENCAPSED_STRING","'Enter your keywords'",62],")",")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","assertText",63],"(",["T_STRING","t",63],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",63],")",")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","assertTitle",64],"(",["T_STRING","t",64],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",64],")",["T_WHITESPACE"," ",64],".",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","' | Drupal'",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'Search page title is correct'",64],")",";",["T_WHITESPACE","\n\n    ",64],["T_VARIABLE","$edit",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_ARRAY","array",66],"(",")",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$search_terms",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'bike shed '",67],["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","randomMachineName",67],"(",")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$edit",68],"[",["T_CONSTANT_ENCAPSED_STRING","'keys'",68],"]",["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$search_terms",68],";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","drupalPostForm",69],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/node'",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$edit",69],",",["T_WHITESPACE"," ",69],["T_STRING","t",69],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",69],")",")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertText",70],"(",["T_CONSTANT_ENCAPSED_STRING","'search yielded no results'",70],")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertText",71],"(",["T_STRING","t",71],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",71],")",")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$title_source",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'Search for @keywords | Drupal'",72],";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertTitle",73],"(",["T_STRING","t",73],"(",["T_VARIABLE","$title_source",73],",",["T_WHITESPACE"," ",73],["T_ARRAY","array",73],"(",["T_CONSTANT_ENCAPSED_STRING","'@keywords'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_STRING","Unicode",73],["T_DOUBLE_COLON","::",73],["T_STRING","truncate",73],"(",["T_VARIABLE","$search_terms",73],",",["T_WHITESPACE"," ",73],["T_LNUMBER","60",73],",",["T_WHITESPACE"," ",73],["T_STRING","TRUE",73],",",["T_WHITESPACE"," ",73],["T_STRING","TRUE",73],")",")",")",",",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'Search page title is correct'",73],")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertNoText",74],"(",["T_CONSTANT_ENCAPSED_STRING","'Node'",74],",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'Erroneous tab and breadcrumb text is not present'",74],")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertNoText",75],"(",["T_STRING","t",75],"(",["T_CONSTANT_ENCAPSED_STRING","'Node'",75],")",",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'Erroneous translated tab and breadcrumb text is not present'",75],")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","assertText",76],"(",["T_STRING","t",76],"(",["T_CONSTANT_ENCAPSED_STRING","'Content'",76],")",",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'Tab and breadcrumb text is present'",76],")",";",["T_WHITESPACE","\n\n    ",76],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","clickLink",78],"(",["T_CONSTANT_ENCAPSED_STRING","'Search help'",78],")",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","assertText",79],"(",["T_CONSTANT_ENCAPSED_STRING","'Search help'",79],",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'Correct title is on search help page'",79],")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertText",80],"(",["T_CONSTANT_ENCAPSED_STRING","'Use upper-case OR to get more results'",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'Correct text is on content search help page'",80],")",";",["T_WHITESPACE","\n\n    ",80],["T_COMMENT","\/\/ Search for a longer text, and see that it is in the title, truncated.\n",82],["T_WHITESPACE","    ",83],["T_VARIABLE","$edit",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_ARRAY","array",83],"(",")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$search_terms",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'Every word is like an unnecessary stain on silence and nothingness.'",84],";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$edit",85],"[",["T_CONSTANT_ENCAPSED_STRING","'keys'",85],"]",["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$search_terms",85],";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","drupalPostForm",86],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/node'",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$edit",86],",",["T_WHITESPACE"," ",86],["T_STRING","t",86],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",86],")",")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertTitle",87],"(",["T_STRING","t",87],"(",["T_VARIABLE","$title_source",87],",",["T_WHITESPACE"," ",87],["T_ARRAY","array",87],"(",["T_CONSTANT_ENCAPSED_STRING","'@keywords'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'Every word is like an unnecessary stain on silence and\u00e2\u0080\u00a6'",87],")",")",",",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'Search page title is correct'",87],")",";",["T_WHITESPACE","\n\n    ",87],["T_COMMENT","\/\/ Search for a string with a lot of special characters.\n",89],["T_WHITESPACE","    ",90],["T_VARIABLE","$search_terms",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'Hear nothing > \"see nothing\" `feel'",90],["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","\" '1982.\"",90],";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$edit",91],"[",["T_CONSTANT_ENCAPSED_STRING","'keys'",91],"]",["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$search_terms",91],";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","drupalPostForm",92],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/node'",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$edit",92],",",["T_WHITESPACE"," ",92],["T_STRING","t",92],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",92],")",")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$actual_title",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING_CAST","(string)",93],["T_WHITESPACE"," ",93],["T_STRING","current",93],"(",["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","xpath",93],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/title'",93],")",")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertEqual",94],"(",["T_VARIABLE","$actual_title",94],",",["T_WHITESPACE"," ",94],["T_STRING","Html",94],["T_DOUBLE_COLON","::",94],["T_STRING","decodeEntities",94],"(",["T_STRING","t",94],"(",["T_VARIABLE","$title_source",94],",",["T_WHITESPACE"," ",94],["T_ARRAY","array",94],"(",["T_CONSTANT_ENCAPSED_STRING","'@keywords'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_STRING","Unicode",94],["T_DOUBLE_COLON","::",94],["T_STRING","truncate",94],"(",["T_VARIABLE","$search_terms",94],",",["T_WHITESPACE"," ",94],["T_LNUMBER","60",94],",",["T_WHITESPACE"," ",94],["T_STRING","TRUE",94],",",["T_WHITESPACE"," ",94],["T_STRING","TRUE",94],")",")",")",")",",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'Search page title is correct'",94],")",";",["T_WHITESPACE","\n\n    ",94],["T_VARIABLE","$edit",96],"[",["T_CONSTANT_ENCAPSED_STRING","'keys'",96],"]",["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","searchingUser",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getUsername",96],"(",")",";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","drupalPostForm",97],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/user'",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$edit",97],",",["T_WHITESPACE"," ",97],["T_STRING","t",97],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",97],")",")",";",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","assertText",98],"(",["T_STRING","t",98],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",98],")",")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","assertTitle",99],"(",["T_STRING","t",99],"(",["T_VARIABLE","$title_source",99],",",["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",["T_CONSTANT_ENCAPSED_STRING","'@keywords'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_STRING","Unicode",99],["T_DOUBLE_COLON","::",99],["T_STRING","truncate",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","searchingUser",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getUsername",99],"(",")",",",["T_WHITESPACE"," ",99],["T_LNUMBER","60",99],",",["T_WHITESPACE"," ",99],["T_STRING","TRUE",99],",",["T_WHITESPACE"," ",99],["T_STRING","TRUE",99],")",")",")",")",";",["T_WHITESPACE","\n\n    ",99],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","clickLink",101],"(",["T_CONSTANT_ENCAPSED_STRING","'Search help'",101],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","assertText",102],"(",["T_CONSTANT_ENCAPSED_STRING","'Search help'",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'Correct title is on search help page'",102],")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","assertText",103],"(",["T_CONSTANT_ENCAPSED_STRING","'user names and partial user names'",103],",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'Correct text is on user search help page'",103],")",";",["T_WHITESPACE","\n\n    ",103],["T_COMMENT","\/\/ Test that search keywords containing slashes are correctly loaded\n",105],["T_WHITESPACE","    ",106],["T_COMMENT","\/\/ from the GET params and displayed in the search form.\n",106],["T_WHITESPACE","    ",107],["T_VARIABLE","$arg",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","randomMachineName",107],"(",")",["T_WHITESPACE"," ",107],".",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'\/'",107],["T_WHITESPACE"," ",107],".",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","randomMachineName",107],"(",")",";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","drupalGet",108],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/node'",108],",",["T_WHITESPACE"," ",108],["T_ARRAY","array",108],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_ARRAY","array",108],"(",["T_CONSTANT_ENCAPSED_STRING","'keys'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$arg",108],")",")",")",";",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$input",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","xpath",109],"(","\"",["T_ENCAPSED_AND_WHITESPACE","\/\/input[@id='edit-keys' and @value='",109],["T_CURLY_OPEN","{",109],["T_VARIABLE","$arg",109],"}",["T_ENCAPSED_AND_WHITESPACE","']",109],"\"",")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertFalse",110],"(",["T_EMPTY","empty",110],"(",["T_VARIABLE","$input",110],")",",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'Search keys with a \/ are correctly set as the default value in the search box.'",110],")",";",["T_WHITESPACE","\n\n    ",110],["T_COMMENT","\/\/ Test a search input exceeding the limit of AND\/OR combinations to test\n",112],["T_WHITESPACE","    ",113],["T_COMMENT","\/\/ the Denial-of-Service protection.\n",113],["T_WHITESPACE","    ",114],["T_VARIABLE","$limit",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","config",114],"(",["T_CONSTANT_ENCAPSED_STRING","'search.settings'",114],")",["T_OBJECT_OPERATOR","->",114],["T_STRING","get",114],"(",["T_CONSTANT_ENCAPSED_STRING","'and_or_limit'",114],")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$keys",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_ARRAY","array",115],"(",")",";",["T_WHITESPACE","\n    ",115],["T_FOR","for",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$i",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_LNUMBER","0",116],";",["T_WHITESPACE"," ",116],["T_VARIABLE","$i",116],["T_WHITESPACE"," ",116],"<",["T_WHITESPACE"," ",116],["T_VARIABLE","$limit",116],["T_WHITESPACE"," ",116],"+",["T_WHITESPACE"," ",116],["T_LNUMBER","1",116],";",["T_WHITESPACE"," ",116],["T_VARIABLE","$i",116],["T_INC","++",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n      ",116],["T_COMMENT","\/\/ Use a key of 4 characters to ensure we never generate 'AND' or 'OR'.\n",117],["T_WHITESPACE","      ",118],["T_VARIABLE","$keys",118],"[","]",["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","randomMachineName",118],"(",["T_LNUMBER","4",118],")",";",["T_WHITESPACE","\n      ",118],["T_IF","if",119],["T_WHITESPACE"," ",119],"(",["T_VARIABLE","$i",119],["T_WHITESPACE"," ",119],"%",["T_WHITESPACE"," ",119],["T_LNUMBER","2",119],["T_WHITESPACE"," ",119],["T_IS_EQUAL","==",119],["T_WHITESPACE"," ",119],["T_LNUMBER","0",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$keys",120],"[","]",["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'OR'",120],";",["T_WHITESPACE","\n      ",120],"}",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$edit",123],"[",["T_CONSTANT_ENCAPSED_STRING","'keys'",123],"]",["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_STRING","implode",123],"(",["T_CONSTANT_ENCAPSED_STRING","' '",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$keys",123],")",";",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","drupalPostForm",124],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/node'",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$edit",124],",",["T_WHITESPACE"," ",124],["T_STRING","t",124],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",124],")",")",";",["T_WHITESPACE","\n    ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertRaw",125],"(",["T_STRING","t",125],"(",["T_CONSTANT_ENCAPSED_STRING","'Your search used too many AND\/OR expressions. Only the first @count terms were included in this search.'",125],",",["T_WHITESPACE"," ",125],["T_ARRAY","array",125],"(",["T_CONSTANT_ENCAPSED_STRING","'@count'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$limit",125],")",")",")",";",["T_WHITESPACE","\n\n    ",125],["T_COMMENT","\/\/ Test that a search on Node or User with no keywords entered generates\n",127],["T_WHITESPACE","    ",128],["T_COMMENT","\/\/ the \"Please enter some keywords\" message.\n",128],["T_WHITESPACE","    ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","drupalPostForm",129],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/node'",129],",",["T_WHITESPACE"," ",129],["T_ARRAY","array",129],"(",")",",",["T_WHITESPACE"," ",129],["T_STRING","t",129],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",129],")",")",";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","assertText",130],"(",["T_STRING","t",130],"(",["T_CONSTANT_ENCAPSED_STRING","'Please enter some keywords'",130],")",",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'With no keywords entered, message is displayed on node page'",130],")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","drupalPostForm",131],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/user'",131],",",["T_WHITESPACE"," ",131],["T_ARRAY","array",131],"(",")",",",["T_WHITESPACE"," ",131],["T_STRING","t",131],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",131],")",")",";",["T_WHITESPACE","\n    ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","assertText",132],"(",["T_STRING","t",132],"(",["T_CONSTANT_ENCAPSED_STRING","'Please enter some keywords'",132],")",",",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'With no keywords entered, message is displayed on user page'",132],")",";",["T_WHITESPACE","\n\n    ",132],["T_COMMENT","\/\/ Make sure the \"Please enter some keywords\" message is NOT displayed if\n",134],["T_WHITESPACE","    ",135],["T_COMMENT","\/\/ you use \"or\" words or phrases in Advanced Search.\n",135],["T_WHITESPACE","    ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","drupalPostForm",136],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/node'",136],",",["T_WHITESPACE"," ",136],["T_ARRAY","array",136],"(",["T_CONSTANT_ENCAPSED_STRING","'or'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","randomMachineName",136],"(",")",["T_WHITESPACE"," ",136],".",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","' '",136],["T_WHITESPACE"," ",136],".",["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","randomMachineName",136],"(",")",")",",",["T_WHITESPACE"," ",136],["T_STRING","t",136],"(",["T_CONSTANT_ENCAPSED_STRING","'Advanced search'",136],")",")",";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","assertNoText",137],"(",["T_STRING","t",137],"(",["T_CONSTANT_ENCAPSED_STRING","'Please enter some keywords'",137],")",",",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'With advanced OR keywords entered, no keywords message is not displayed on node page'",137],")",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","drupalPostForm",138],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/node'",138],",",["T_WHITESPACE"," ",138],["T_ARRAY","array",138],"(",["T_CONSTANT_ENCAPSED_STRING","'phrase'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'\"'",138],["T_WHITESPACE"," ",138],".",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","randomMachineName",138],"(",")",["T_WHITESPACE"," ",138],".",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'\" \"'",138],["T_WHITESPACE"," ",138],".",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","randomMachineName",138],"(",")",["T_WHITESPACE"," ",138],".",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'\"'",138],")",",",["T_WHITESPACE"," ",138],["T_STRING","t",138],"(",["T_CONSTANT_ENCAPSED_STRING","'Advanced search'",138],")",")",";",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","assertNoText",139],"(",["T_STRING","t",139],"(",["T_CONSTANT_ENCAPSED_STRING","'Please enter some keywords'",139],")",",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'With advanced phrase entered, no keywords message is not displayed on node page'",139],")",";",["T_WHITESPACE","\n\n    ",139],["T_COMMENT","\/\/ Verify that if you search for a too-short keyword, you get the right\n",141],["T_WHITESPACE","    ",142],["T_COMMENT","\/\/ message, and that if after that you search for a longer keyword, you\n",142],["T_WHITESPACE","    ",143],["T_COMMENT","\/\/ do not still see the message.\n",143],["T_WHITESPACE","    ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","drupalPostForm",144],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/node'",144],",",["T_WHITESPACE"," ",144],["T_ARRAY","array",144],"(",["T_CONSTANT_ENCAPSED_STRING","'keys'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","randomMachineName",144],"(",["T_LNUMBER","1",144],")",")",",",["T_WHITESPACE"," ",144],["T_STRING","t",144],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",144],")",")",";",["T_WHITESPACE","\n    ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","assertText",145],"(",["T_CONSTANT_ENCAPSED_STRING","'You must include at least one keyword'",145],",",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'Keyword message is displayed when searching for short word'",145],")",";",["T_WHITESPACE","\n    ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","assertNoText",146],"(",["T_STRING","t",146],"(",["T_CONSTANT_ENCAPSED_STRING","'Please enter some keywords'",146],")",",",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","'With short word entered, no keywords message is not displayed'",146],")",";",["T_WHITESPACE","\n    ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","drupalPostForm",147],"(",["T_STRING","NULL",147],",",["T_WHITESPACE"," ",147],["T_ARRAY","array",147],"(",["T_CONSTANT_ENCAPSED_STRING","'keys'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","randomMachineName",147],"(",")",")",",",["T_WHITESPACE"," ",147],["T_STRING","t",147],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",147],")",")",";",["T_WHITESPACE","\n    ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","assertNoText",148],"(",["T_CONSTANT_ENCAPSED_STRING","'You must include at least one keyword'",148],",",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'Keyword message is not displayed when searching for long word after short word search'",148],")",";",["T_WHITESPACE","\n\n    ",148],["T_COMMENT","\/\/ Test that if you search for a URL with .. in it, you still end up at\n",150],["T_WHITESPACE","    ",151],["T_COMMENT","\/\/ the search page. See issue https:\/\/www.drupal.org\/node\/890058.\n",151],["T_WHITESPACE","    ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","drupalPostForm",152],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/node'",152],",",["T_WHITESPACE"," ",152],["T_ARRAY","array",152],"(",["T_CONSTANT_ENCAPSED_STRING","'keys'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'..\/..\/admin'",152],")",",",["T_WHITESPACE"," ",152],["T_STRING","t",152],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",152],")",")",";",["T_WHITESPACE","\n    ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","assertResponse",153],"(",["T_LNUMBER","200",153],",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'Searching for ..\/..\/admin with non-admin user does not lead to a 403 error'",153],")",";",["T_WHITESPACE","\n    ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","assertText",154],"(",["T_CONSTANT_ENCAPSED_STRING","'no results'",154],",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'Searching for ..\/..\/admin with non-admin user gives you a no search results page'",154],")",";",["T_WHITESPACE","\n\n    ",154],["T_COMMENT","\/\/ Test that if you search for a URL starting with \".\/\", you still end up\n",156],["T_WHITESPACE","    ",157],["T_COMMENT","\/\/ at the search page. See issue https:\/\/www.drupal.org\/node\/1421560.\n",157],["T_WHITESPACE","    ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","drupalPostForm",158],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/node'",158],",",["T_WHITESPACE"," ",158],["T_ARRAY","array",158],"(",["T_CONSTANT_ENCAPSED_STRING","'keys'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'.something'",158],")",",",["T_WHITESPACE"," ",158],["T_STRING","t",158],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",158],")",")",";",["T_WHITESPACE","\n    ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","assertResponse",159],"(",["T_LNUMBER","200",159],",",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'Searching for .something does not lead to a 403 error'",159],")",";",["T_WHITESPACE","\n    ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","assertText",160],"(",["T_CONSTANT_ENCAPSED_STRING","'no results'",160],",",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'Searching for .something gives you a no search results page'",160],")",";",["T_WHITESPACE","\n  ",160],"}",["T_WHITESPACE","\n\n",161],"}",["T_WHITESPACE","\n",163]]