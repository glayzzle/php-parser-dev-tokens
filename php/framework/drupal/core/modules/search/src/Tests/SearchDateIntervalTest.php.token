[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","search",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","language",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ConfigurableLanguage",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests searching with date filters that exclude some translations.\n *\n * @group search\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","SearchDateIntervalTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","SearchTestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var string[]\n   *\/",14],["T_WHITESPACE","\n  ",18],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_STATIC","static",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$modules",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],"[",["T_CONSTANT_ENCAPSED_STRING","'language'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'search_date_query_alter'",19],"]",";",["T_WHITESPACE","\n\n  ",19],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_FUNCTION","function",21],["T_WHITESPACE"," ",21],["T_STRING","setUp",21],"(",")",["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n    ",21],["T_STRING","parent",22],["T_DOUBLE_COLON","::",22],["T_STRING","setUp",22],"(",")",";",["T_WHITESPACE","\n\n    ",22],["T_COMMENT","\/\/ Create and log in user.\n",24],["T_WHITESPACE","    ",25],["T_VARIABLE","$test_user",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","drupalCreateUser",25],"(","[",["T_CONSTANT_ENCAPSED_STRING","'access content'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'search content'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'use advanced search'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'administer nodes'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'administer languages'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'access administration pages'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'administer site configuration'",25],"]",")",";",["T_WHITESPACE","\n    ",25],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","drupalLogin",26],"(",["T_VARIABLE","$test_user",26],")",";",["T_WHITESPACE","\n\n    ",26],["T_COMMENT","\/\/ Add a new language.\n",28],["T_WHITESPACE","    ",29],["T_STRING","ConfigurableLanguage",29],["T_DOUBLE_COLON","::",29],["T_STRING","createFromLangcode",29],"(",["T_CONSTANT_ENCAPSED_STRING","'es'",29],")",["T_OBJECT_OPERATOR","->",29],["T_STRING","save",29],"(",")",";",["T_WHITESPACE","\n\n    ",29],["T_COMMENT","\/\/ Set up times to be applied to the English and Spanish translations of the\n",31],["T_WHITESPACE","    ",32],["T_COMMENT","\/\/ node create time, so that they are filtered in\/out in the\n",32],["T_WHITESPACE","    ",33],["T_COMMENT","\/\/ search_date_query_alter test module.\n",33],["T_WHITESPACE","    ",34],["T_VARIABLE","$created_time_en",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_NEW","new",34],["T_WHITESPACE"," ",34],["T_NS_SEPARATOR","\\",34],["T_STRING","DateTime",34],"(",["T_CONSTANT_ENCAPSED_STRING","'February 10 2016 10PM'",34],")",";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$created_time_es",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_NEW","new",35],["T_WHITESPACE"," ",35],["T_NS_SEPARATOR","\\",35],["T_STRING","DateTime",35],"(",["T_CONSTANT_ENCAPSED_STRING","'March 19 2016 10PM'",35],")",";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$default_format",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_STRING","filter_default_format",36],"(",")",";",["T_WHITESPACE","\n\n    ",36],["T_VARIABLE","$node",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","drupalCreateNode",38],"(","[",["T_WHITESPACE","\n      ",38],["T_CONSTANT_ENCAPSED_STRING","'title'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'Node EN'",39],",",["T_WHITESPACE","\n      ",39],["T_CONSTANT_ENCAPSED_STRING","'type'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'page'",40],",",["T_WHITESPACE","\n      ",40],["T_CONSTANT_ENCAPSED_STRING","'body'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],"[",["T_WHITESPACE","\n        ",41],["T_CONSTANT_ENCAPSED_STRING","'value'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","randomMachineName",42],"(",["T_LNUMBER","32",42],")",",",["T_WHITESPACE","\n        ",42],["T_CONSTANT_ENCAPSED_STRING","'format'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$default_format",43],",",["T_WHITESPACE","\n      ",43],"]",",",["T_WHITESPACE","\n      ",44],["T_CONSTANT_ENCAPSED_STRING","'langcode'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'en'",45],",",["T_WHITESPACE","\n      ",45],["T_CONSTANT_ENCAPSED_STRING","'created'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$created_time_en",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","format",46],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",46],")",",",["T_WHITESPACE","\n    ",46],"]",")",";",["T_WHITESPACE","\n\n    ",47],["T_COMMENT","\/\/ Add Spanish translation to the node.\n",49],["T_WHITESPACE","    ",50],["T_VARIABLE","$translation",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$node",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","addTranslation",50],"(",["T_CONSTANT_ENCAPSED_STRING","'es'",50],",",["T_WHITESPACE"," ",50],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'Node ES'",50],"]",")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$translation",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","body",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","value",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","randomMachineName",51],"(",["T_LNUMBER","32",51],")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$translation",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","created",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","value",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$created_time_es",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","format",52],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",52],")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$node",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","save",53],"(",")",";",["T_WHITESPACE","\n\n    ",53],["T_COMMENT","\/\/ Update the index.\n",55],["T_WHITESPACE","    ",56],["T_VARIABLE","$plugin",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","container",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","get",56],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.search'",56],")",["T_OBJECT_OPERATOR","->",56],["T_STRING","createInstance",56],"(",["T_CONSTANT_ENCAPSED_STRING","'node_search'",56],")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$plugin",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","updateIndex",57],"(",")",";",["T_WHITESPACE","\n    ",57],["T_STRING","search_update_totals",58],"(",")",";",["T_WHITESPACE","\n  ",58],"}",["T_WHITESPACE","\n\n  ",59],["T_DOC_COMMENT","\/**\n   * Tests searching with date filters that exclude some translations.\n   *\/",61],["T_WHITESPACE","\n  ",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","testDateIntervalQueryAlter",64],"(",")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n    ",64],["T_COMMENT","\/\/ Search for keyword node.\n",65],["T_WHITESPACE","    ",66],["T_VARIABLE","$edit",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],"[",["T_CONSTANT_ENCAPSED_STRING","'keys'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'node'",66],"]",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","drupalPostForm",67],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/node'",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$edit",67],",",["T_WHITESPACE"," ",67],["T_STRING","t",67],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",67],")",")",";",["T_WHITESPACE","\n\n    ",67],["T_COMMENT","\/\/ The nodes must have the same node ID but the created date is different.\n",69],["T_WHITESPACE","    ",70],["T_COMMENT","\/\/ So only the Spanish translation must appear.\n",70],["T_WHITESPACE","    ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertLink",71],"(",["T_CONSTANT_ENCAPSED_STRING","'Node ES'",71],",",["T_WHITESPACE"," ",71],["T_LNUMBER","0",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'Spanish translation found in search results'",71],")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertNoLink",72],"(",["T_CONSTANT_ENCAPSED_STRING","'Node EN'",72],",",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'Search results do not contain English node'",72],")",";",["T_WHITESPACE","\n  ",72],"}",["T_WHITESPACE","\n\n",73],"}",["T_WHITESPACE","\n",75]]