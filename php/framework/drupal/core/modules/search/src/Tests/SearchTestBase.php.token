[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","search",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","simpletest",5],["T_NS_SEPARATOR","\\",5],["T_STRING","WebTestBase",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Utility",6],["T_NS_SEPARATOR","\\",6],["T_STRING","SafeMarkup",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Defines the common search test code.\n *\/",8],["T_WHITESPACE","\n",10],["T_ABSTRACT","abstract",11],["T_WHITESPACE"," ",11],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","SearchTestBase",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_STRING","WebTestBase",11],["T_WHITESPACE"," ",11],"{",["T_WHITESPACE","\n\n  ",11],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",13],["T_WHITESPACE","\n  ",17],["T_PUBLIC","public",18],["T_WHITESPACE"," ",18],["T_STATIC","static",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$modules",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_ARRAY","array",18],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",18],",",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","'search'",18],",",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","'dblog'",18],")",";",["T_WHITESPACE","\n\n  ",18],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_FUNCTION","function",20],["T_WHITESPACE"," ",20],["T_STRING","setUp",20],"(",")",["T_WHITESPACE"," ",20],"{",["T_WHITESPACE","\n    ",20],["T_STRING","parent",21],["T_DOUBLE_COLON","::",21],["T_STRING","setUp",21],"(",")",";",["T_WHITESPACE","\n\n    ",21],["T_COMMENT","\/\/ Create Basic page and Article node types.\n",23],["T_WHITESPACE","    ",24],["T_IF","if",24],["T_WHITESPACE"," ",24],"(",["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","profile",24],["T_WHITESPACE"," ",24],["T_IS_NOT_EQUAL","!=",24],["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'standard'",24],")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n      ",24],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","drupalCreateContentType",25],"(",["T_ARRAY","array",25],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",25],["T_WHITESPACE"," ",25],["T_DOUBLE_ARROW","=>",25],["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'page'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'name'",25],["T_WHITESPACE"," ",25],["T_DOUBLE_ARROW","=>",25],["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'Basic page'",25],")",")",";",["T_WHITESPACE","\n      ",25],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","drupalCreateContentType",26],"(",["T_ARRAY","array",26],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",26],["T_WHITESPACE"," ",26],["T_DOUBLE_ARROW","=>",26],["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'article'",26],",",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'name'",26],["T_WHITESPACE"," ",26],["T_DOUBLE_ARROW","=>",26],["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'Article'",26],")",")",";",["T_WHITESPACE","\n    ",26],"}",["T_WHITESPACE","\n  ",27],"}",["T_WHITESPACE","\n\n  ",28],["T_DOC_COMMENT","\/**\n   * Simulates submission of a form using GET instead of POST.\n   *\n   * Forms that use the GET method cannot be submitted with\n   * WebTestBase::drupalPostForm(), which explicitly uses POST to submit the\n   * form. So this method finds the form, verifies that it has input fields and\n   * a submit button matching the inputs to this method, and then calls\n   * WebTestBase::drupalGet() to simulate the form submission to the 'action'\n   * URL of the form (if set, or the current URL if not).\n   *\n   * See WebTestBase::drupalPostForm() for more detailed documentation of the\n   * function parameters.\n   *\n   * @param string $path\n   *   Location of the form to be submitted: either a Drupal path, absolute\n   *   path, or NULL to use the current page.\n   * @param array $edit\n   *   Form field data to submit. Unlike drupalPostForm(), this does not support\n   *   file uploads.\n   * @param string $submit\n   *   Value of the submit button to submit clicking. Unlike drupalPostForm(),\n   *   this does not support AJAX.\n   * @param string $form_html_id\n   *   (optional) HTML ID of the form, to disambiguate.\n   *\/",30],["T_WHITESPACE","\n  ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","submitGetForm",55],"(",["T_VARIABLE","$path",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$edit",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$submit",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$form_html_id",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_STRING","NULL",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n    ",55],["T_IF","if",56],["T_WHITESPACE"," ",56],"(",["T_ISSET","isset",56],"(",["T_VARIABLE","$path",56],")",")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n      ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","drupalGet",57],"(",["T_VARIABLE","$path",57],")",";",["T_WHITESPACE","\n    ",57],"}",["T_WHITESPACE","\n\n    ",58],["T_IF","if",60],["T_WHITESPACE"," ",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","parse",60],"(",")",")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n      ",60],["T_COMMENT","\/\/ Iterate over forms to find one that matches $edit and $submit.\n",61],["T_WHITESPACE","      ",62],["T_VARIABLE","$edit_save",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$edit",62],";",["T_WHITESPACE","\n      ",62],["T_VARIABLE","$xpath",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'\/\/form'",63],";",["T_WHITESPACE","\n      ",63],["T_IF","if",64],["T_WHITESPACE"," ",64],"(","!",["T_EMPTY","empty",64],"(",["T_VARIABLE","$form_html_id",64],")",")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$xpath",65],["T_WHITESPACE"," ",65],["T_CONCAT_EQUAL",".=",65],["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","\"[@id='\"",65],["T_WHITESPACE"," ",65],".",["T_WHITESPACE"," ",65],["T_VARIABLE","$form_html_id",65],["T_WHITESPACE"," ",65],".",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","\"']\"",65],";",["T_WHITESPACE","\n      ",65],"}",["T_WHITESPACE","\n      ",66],["T_VARIABLE","$forms",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","xpath",67],"(",["T_VARIABLE","$xpath",67],")",";",["T_WHITESPACE","\n      ",67],["T_FOREACH","foreach",68],["T_WHITESPACE"," ",68],"(",["T_VARIABLE","$forms",68],["T_WHITESPACE"," ",68],["T_AS","as",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$form",68],")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n        ",68],["T_COMMENT","\/\/ Try to set the fields of this form as specified in $edit.\n",69],["T_WHITESPACE","        ",70],["T_VARIABLE","$edit",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$edit_save",70],";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$post",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_ARRAY","array",71],"(",")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$upload",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_ARRAY","array",72],"(",")",";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$submit_matches",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","handleForm",73],"(",["T_VARIABLE","$post",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$edit",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$upload",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$submit",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$form",73],")",";",["T_WHITESPACE","\n        ",73],["T_IF","if",74],["T_WHITESPACE"," ",74],"(","!",["T_VARIABLE","$edit",74],["T_WHITESPACE"," ",74],["T_BOOLEAN_AND","&&",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$submit_matches",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n          ",74],["T_COMMENT","\/\/ Everything matched, so \"submit\" the form.\n",75],["T_WHITESPACE","          ",76],["T_VARIABLE","$action",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_ISSET","isset",76],"(",["T_VARIABLE","$form",76],"[",["T_CONSTANT_ENCAPSED_STRING","'action'",76],"]",")",["T_WHITESPACE"," ",76],"?",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getAbsoluteUrl",76],"(",["T_STRING_CAST","(string)",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$form",76],"[",["T_CONSTANT_ENCAPSED_STRING","'action'",76],"]",")",["T_WHITESPACE"," ",76],":",["T_WHITESPACE"," ",76],["T_STRING","NULL",76],";",["T_WHITESPACE","\n          ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","drupalGet",77],"(",["T_VARIABLE","$action",77],",",["T_WHITESPACE"," ",77],["T_ARRAY","array",77],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$post",77],")",")",";",["T_WHITESPACE","\n          ",77],["T_RETURN","return",78],";",["T_WHITESPACE","\n        ",78],"}",["T_WHITESPACE","\n      ",79],"}",["T_WHITESPACE","\n\n      ",80],["T_COMMENT","\/\/ We have not found a form which contained all fields of $edit and\n",82],["T_WHITESPACE","      ",83],["T_COMMENT","\/\/ the submit button.\n",83],["T_WHITESPACE","      ",84],["T_FOREACH","foreach",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$edit",84],["T_WHITESPACE"," ",84],["T_AS","as",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$name",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$value",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","fail",85],"(",["T_STRING","SafeMarkup",85],["T_DOUBLE_COLON","::",85],["T_STRING","format",85],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to set field @name to @value'",85],",",["T_WHITESPACE"," ",85],["T_ARRAY","array",85],"(",["T_CONSTANT_ENCAPSED_STRING","'@name'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$name",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'@value'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$value",85],")",")",")",";",["T_WHITESPACE","\n      ",85],"}",["T_WHITESPACE","\n      ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertTrue",87],"(",["T_VARIABLE","$submit_matches",87],",",["T_WHITESPACE"," ",87],["T_STRING","format_string",87],"(",["T_CONSTANT_ENCAPSED_STRING","'Found the @submit button'",87],",",["T_WHITESPACE"," ",87],["T_ARRAY","array",87],"(",["T_CONSTANT_ENCAPSED_STRING","'@submit'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$submit",87],")",")",")",";",["T_WHITESPACE","\n      ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","fail",88],"(",["T_STRING","format_string",88],"(",["T_CONSTANT_ENCAPSED_STRING","'Found the requested form fields at @path'",88],",",["T_WHITESPACE"," ",88],["T_ARRAY","array",88],"(",["T_CONSTANT_ENCAPSED_STRING","'@path'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$path",88],")",")",")",";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n  ",89],"}",["T_WHITESPACE","\n\n",90],"}",["T_WHITESPACE","\n",92]]