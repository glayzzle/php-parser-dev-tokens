[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","search",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Tests search functionality with punctuation and HTML entities.\n *\n * @group search\n *\/",5],["T_WHITESPACE","\n",9],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","SearchNodePunctuationTest",10],["T_WHITESPACE"," ",10],["T_EXTENDS","extends",10],["T_WHITESPACE"," ",10],["T_STRING","SearchTestBase",10],["T_WHITESPACE"," ",10],"{",["T_WHITESPACE","\n\n  ",10],["T_DOC_COMMENT","\/**\n   * A user with permission to use advanced search.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",12],["T_WHITESPACE","\n  ",16],["T_PUBLIC","public",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$testUser",17],";",["T_WHITESPACE","\n\n  ",17],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_FUNCTION","function",19],["T_WHITESPACE"," ",19],["T_STRING","setUp",19],"(",")",["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n    ",19],["T_STRING","parent",20],["T_DOUBLE_COLON","::",20],["T_STRING","setUp",20],"(",")",";",["T_WHITESPACE","\n    ",20],["T_STRING","node_access_rebuild",21],"(",")",";",["T_WHITESPACE","\n\n    ",21],["T_COMMENT","\/\/ Create a test user and log in.\n",23],["T_WHITESPACE","    ",24],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","testUser",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","drupalCreateUser",24],"(",["T_ARRAY","array",24],"(",["T_CONSTANT_ENCAPSED_STRING","'access content'",24],",",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'search content'",24],",",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'use advanced search'",24],",",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'access user profiles'",24],")",")",";",["T_WHITESPACE","\n    ",24],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","drupalLogin",25],"(",["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","testUser",25],")",";",["T_WHITESPACE","\n  ",25],"}",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * Tests that search works with punctuation and HTML entities.\n   *\/",28],["T_WHITESPACE","\n  ",30],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","testPhraseSearchPunctuation",31],"(",")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$node",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","drupalCreateNode",32],"(",["T_ARRAY","array",32],"(",["T_CONSTANT_ENCAPSED_STRING","'body'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_ARRAY","array",32],"(",["T_ARRAY","array",32],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","\"The bunny's ears were fluffy.\"",32],")",")",")",")",";",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$node2",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","drupalCreateNode",33],"(",["T_ARRAY","array",33],"(",["T_CONSTANT_ENCAPSED_STRING","'body'",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_ARRAY","array",33],"(",["T_ARRAY","array",33],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'Dignissim Aliquam &amp; Quieligo meus natu quae quia te. Damnum&copy; erat&mdash; neo pneum. Facilisi feugiat ibidem ratis.'",33],")",")",")",")",";",["T_WHITESPACE","\n\n    ",33],["T_COMMENT","\/\/ Update the search index.\n",35],["T_WHITESPACE","    ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","container",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","get",36],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.search'",36],")",["T_OBJECT_OPERATOR","->",36],["T_STRING","createInstance",36],"(",["T_CONSTANT_ENCAPSED_STRING","'node_search'",36],")",["T_OBJECT_OPERATOR","->",36],["T_STRING","updateIndex",36],"(",")",";",["T_WHITESPACE","\n    ",36],["T_STRING","search_update_totals",37],"(",")",";",["T_WHITESPACE","\n\n    ",37],["T_COMMENT","\/\/ Refresh variables after the treatment.\n",39],["T_WHITESPACE","    ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","refreshVariables",40],"(",")",";",["T_WHITESPACE","\n\n    ",40],["T_COMMENT","\/\/ Submit a phrase wrapped in double quotes to include the punctuation.\n",42],["T_WHITESPACE","    ",43],["T_VARIABLE","$edit",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_ARRAY","array",43],"(",["T_CONSTANT_ENCAPSED_STRING","'keys'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'\"bunny\\'s\"'",43],")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","drupalPostForm",44],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/node'",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$edit",44],",",["T_WHITESPACE"," ",44],["T_STRING","t",44],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",44],")",")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","assertText",45],"(",["T_VARIABLE","$node",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","label",45],"(",")",")",";",["T_WHITESPACE","\n\n    ",45],["T_COMMENT","\/\/ Check if the author is linked correctly to the user profile page.\n",47],["T_WHITESPACE","    ",48],["T_VARIABLE","$username",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$node",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getOwner",48],"(",")",["T_OBJECT_OPERATOR","->",48],["T_STRING","getUsername",48],"(",")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertLink",49],"(",["T_VARIABLE","$username",49],")",";",["T_WHITESPACE","\n\n    ",49],["T_COMMENT","\/\/ Search for \"&\" and verify entities are not broken up in the output.\n",51],["T_WHITESPACE","    ",52],["T_VARIABLE","$edit",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_ARRAY","array",52],"(",["T_CONSTANT_ENCAPSED_STRING","'keys'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'&'",52],")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","drupalPostForm",53],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/node'",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$edit",53],",",["T_WHITESPACE"," ",53],["T_STRING","t",53],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",53],")",")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertNoRaw",54],"(",["T_CONSTANT_ENCAPSED_STRING","'<strong>&<\/strong>amp;'",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertText",55],"(",["T_CONSTANT_ENCAPSED_STRING","'You must include at least one keyword'",55],")",";",["T_WHITESPACE","\n\n    ",55],["T_VARIABLE","$edit",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_ARRAY","array",57],"(",["T_CONSTANT_ENCAPSED_STRING","'keys'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'&amp;'",57],")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","drupalPostForm",58],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/node'",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$edit",58],",",["T_WHITESPACE"," ",58],["T_STRING","t",58],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",58],")",")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","assertNoRaw",59],"(",["T_CONSTANT_ENCAPSED_STRING","'<strong>&<\/strong>amp;'",59],")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertText",60],"(",["T_CONSTANT_ENCAPSED_STRING","'You must include at least one keyword'",60],")",";",["T_WHITESPACE","\n  ",60],"}",["T_WHITESPACE","\n\n",61],"}",["T_WHITESPACE","\n",63]]