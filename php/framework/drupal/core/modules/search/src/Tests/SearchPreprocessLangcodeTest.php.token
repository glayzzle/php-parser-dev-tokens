[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","search",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Tests that the search preprocessing uses the correct language code.\n *\n * @group search\n *\/",5],["T_WHITESPACE","\n",9],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","SearchPreprocessLangcodeTest",10],["T_WHITESPACE"," ",10],["T_EXTENDS","extends",10],["T_WHITESPACE"," ",10],["T_STRING","SearchTestBase",10],["T_WHITESPACE"," ",10],"{",["T_WHITESPACE","\n\n  ",10],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",12],["T_WHITESPACE","\n  ",16],["T_PUBLIC","public",17],["T_WHITESPACE"," ",17],["T_STATIC","static",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$modules",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_ARRAY","array",17],"(",["T_CONSTANT_ENCAPSED_STRING","'search_langcode_test'",17],")",";",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * Test node for searching.\n   *\n   * @var \\Drupal\\node\\NodeInterface\n   *\/",19],["T_WHITESPACE","\n  ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$node",24],";",["T_WHITESPACE","\n\n  ",24],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","setUp",26],"(",")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n    ",26],["T_STRING","parent",27],["T_DOUBLE_COLON","::",27],["T_STRING","setUp",27],"(",")",";",["T_WHITESPACE","\n\n    ",27],["T_VARIABLE","$web_user",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","drupalCreateUser",29],"(",["T_ARRAY","array",29],"(",["T_WHITESPACE","\n      ",29],["T_CONSTANT_ENCAPSED_STRING","'create page content'",30],",",["T_WHITESPACE","\n      ",30],["T_CONSTANT_ENCAPSED_STRING","'edit own page content'",31],",",["T_WHITESPACE","\n      ",31],["T_CONSTANT_ENCAPSED_STRING","'search content'",32],",",["T_WHITESPACE","\n      ",32],["T_CONSTANT_ENCAPSED_STRING","'use advanced search'",33],",",["T_WHITESPACE","\n    ",33],")",")",";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","drupalLogin",35],"(",["T_VARIABLE","$web_user",35],")",";",["T_WHITESPACE","\n  ",35],"}",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * Tests that hook_search_preprocess() returns the correct langcode.\n   *\/",38],["T_WHITESPACE","\n  ",40],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","testPreprocessLangcode",41],"(",")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n    ",41],["T_COMMENT","\/\/ Create a node.\n",42],["T_WHITESPACE","    ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","node",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","drupalCreateNode",43],"(",["T_ARRAY","array",43],"(",["T_CONSTANT_ENCAPSED_STRING","'body'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_ARRAY","array",43],"(",["T_ARRAY","array",43],"(",")",")",",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'langcode'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'en'",43],")",")",";",["T_WHITESPACE","\n\n    ",43],["T_COMMENT","\/\/ First update the index. This does the initial processing.\n",45],["T_WHITESPACE","    ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","container",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","get",46],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.search'",46],")",["T_OBJECT_OPERATOR","->",46],["T_STRING","createInstance",46],"(",["T_CONSTANT_ENCAPSED_STRING","'node_search'",46],")",["T_OBJECT_OPERATOR","->",46],["T_STRING","updateIndex",46],"(",")",";",["T_WHITESPACE","\n\n    ",46],["T_COMMENT","\/\/ Then, run the shutdown function. Testing is a unique case where indexing\n",48],["T_WHITESPACE","    ",49],["T_COMMENT","\/\/ and searching has to happen in the same request, so running the shutdown\n",49],["T_WHITESPACE","    ",50],["T_COMMENT","\/\/ function manually is needed to finish the indexing process.\n",50],["T_WHITESPACE","    ",51],["T_STRING","search_update_totals",51],"(",")",";",["T_WHITESPACE","\n\n    ",51],["T_COMMENT","\/\/ Search for the additional text that is added by the preprocess\n",53],["T_WHITESPACE","    ",54],["T_COMMENT","\/\/ function. If you search for text that is in the node, preprocess is\n",54],["T_WHITESPACE","    ",55],["T_COMMENT","\/\/ not invoked on the node during the search excerpt generation.\n",55],["T_WHITESPACE","    ",56],["T_VARIABLE","$edit",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_ARRAY","array",56],"(",["T_CONSTANT_ENCAPSED_STRING","'or'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'Additional text'",56],")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","drupalPostForm",57],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/node'",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$edit",57],",",["T_WHITESPACE"," ",57],["T_STRING","t",57],"(",["T_CONSTANT_ENCAPSED_STRING","'Advanced search'",57],")",")",";",["T_WHITESPACE","\n\n    ",57],["T_COMMENT","\/\/ Checks if the langcode message has been set by hook_search_preprocess().\n",59],["T_WHITESPACE","    ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertText",60],"(",["T_CONSTANT_ENCAPSED_STRING","'Langcode Preprocess Test: en'",60],")",";",["T_WHITESPACE","\n  ",60],"}",["T_WHITESPACE","\n\n  ",61],["T_DOC_COMMENT","\/**\n   * Tests stemming for hook_search_preprocess().\n   *\/",63],["T_WHITESPACE","\n  ",65],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","testPreprocessStemming",66],"(",")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n    ",66],["T_COMMENT","\/\/ Create a node.\n",67],["T_WHITESPACE","    ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","node",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","drupalCreateNode",68],"(",["T_ARRAY","array",68],"(",["T_WHITESPACE","\n      ",68],["T_CONSTANT_ENCAPSED_STRING","'title'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'we are testing'",69],",",["T_WHITESPACE","\n      ",69],["T_CONSTANT_ENCAPSED_STRING","'body'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_ARRAY","array",70],"(",["T_ARRAY","array",70],"(",")",")",",",["T_WHITESPACE","\n      ",70],["T_CONSTANT_ENCAPSED_STRING","'langcode'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'en'",71],",",["T_WHITESPACE","\n    ",71],")",")",";",["T_WHITESPACE","\n\n    ",72],["T_COMMENT","\/\/ First update the index. This does the initial processing.\n",74],["T_WHITESPACE","    ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","container",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","get",75],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.search'",75],")",["T_OBJECT_OPERATOR","->",75],["T_STRING","createInstance",75],"(",["T_CONSTANT_ENCAPSED_STRING","'node_search'",75],")",["T_OBJECT_OPERATOR","->",75],["T_STRING","updateIndex",75],"(",")",";",["T_WHITESPACE","\n\n    ",75],["T_COMMENT","\/\/ Then, run the shutdown function. Testing is a unique case where indexing\n",77],["T_WHITESPACE","    ",78],["T_COMMENT","\/\/ and searching has to happen in the same request, so running the shutdown\n",78],["T_WHITESPACE","    ",79],["T_COMMENT","\/\/ function manually is needed to finish the indexing process.\n",79],["T_WHITESPACE","    ",80],["T_STRING","search_update_totals",80],"(",")",";",["T_WHITESPACE","\n\n    ",80],["T_COMMENT","\/\/ Search for the title of the node with a POST query.\n",82],["T_WHITESPACE","    ",83],["T_VARIABLE","$edit",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_ARRAY","array",83],"(",["T_CONSTANT_ENCAPSED_STRING","'or'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'testing'",83],")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","drupalPostForm",84],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/node'",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$edit",84],",",["T_WHITESPACE"," ",84],["T_STRING","t",84],"(",["T_CONSTANT_ENCAPSED_STRING","'Advanced search'",84],")",")",";",["T_WHITESPACE","\n\n    ",84],["T_COMMENT","\/\/ Check if the node has been found.\n",86],["T_WHITESPACE","    ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertText",87],"(",["T_CONSTANT_ENCAPSED_STRING","'Search results'",87],")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","assertText",88],"(",["T_CONSTANT_ENCAPSED_STRING","'we are testing'",88],")",";",["T_WHITESPACE","\n\n    ",88],["T_COMMENT","\/\/ Search for the same node using a different query.\n",90],["T_WHITESPACE","    ",91],["T_VARIABLE","$edit",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_ARRAY","array",91],"(",["T_CONSTANT_ENCAPSED_STRING","'or'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'test'",91],")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","drupalPostForm",92],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/node'",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$edit",92],",",["T_WHITESPACE"," ",92],["T_STRING","t",92],"(",["T_CONSTANT_ENCAPSED_STRING","'Advanced search'",92],")",")",";",["T_WHITESPACE","\n\n    ",92],["T_COMMENT","\/\/ Check if the node has been found.\n",94],["T_WHITESPACE","    ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertText",95],"(",["T_CONSTANT_ENCAPSED_STRING","'Search results'",95],")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","assertText",96],"(",["T_CONSTANT_ENCAPSED_STRING","'we are testing'",96],")",";",["T_WHITESPACE","\n  ",96],"}",["T_WHITESPACE","\n\n",97],"}",["T_WHITESPACE","\n",99]]