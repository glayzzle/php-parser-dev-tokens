[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","search",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","field",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FieldStorageConfig",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","language",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ConfigurableLanguage",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests entities with multilingual fields.\n *\n * @group search\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","SearchMultilingualEntityTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","SearchTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * List of searchable nodes.\n   *\n   * @var \\Drupal\\node\\NodeInterface[]\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$searchableNodes",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_ARRAY","array",20],"(",")",";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * Node search plugin.\n   *\n   * @var \\Drupal\\node\\Plugin\\Search\\NodeSearch\n   *\/",22],["T_WHITESPACE","\n  ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$plugin",27],";",["T_WHITESPACE","\n\n  ",27],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_STATIC","static",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$modules",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_ARRAY","array",29],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",29],",",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'locale'",29],",",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'comment'",29],")",";",["T_WHITESPACE","\n\n  ",29],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","setUp",31],"(",")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n    ",31],["T_STRING","parent",32],["T_DOUBLE_COLON","::",32],["T_STRING","setUp",32],"(",")",";",["T_WHITESPACE","\n\n    ",32],["T_COMMENT","\/\/ Create a user who can administer search, do searches, see the status\n",34],["T_WHITESPACE","    ",35],["T_COMMENT","\/\/ report, and administer cron. Log in.\n",35],["T_WHITESPACE","    ",36],["T_VARIABLE","$user",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","drupalCreateUser",36],"(",["T_ARRAY","array",36],"(",["T_CONSTANT_ENCAPSED_STRING","'administer search'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'search content'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'use advanced search'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'access content'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'access site reports'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'administer site configuration'",36],")",")",";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","drupalLogin",37],"(",["T_VARIABLE","$user",37],")",";",["T_WHITESPACE","\n\n    ",37],["T_COMMENT","\/\/ Set up the search plugin.\n",39],["T_WHITESPACE","    ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","plugin",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","container",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","get",40],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.search'",40],")",["T_OBJECT_OPERATOR","->",40],["T_STRING","createInstance",40],"(",["T_CONSTANT_ENCAPSED_STRING","'node_search'",40],")",";",["T_WHITESPACE","\n\n    ",40],["T_COMMENT","\/\/ Check indexing counts before adding any nodes.\n",42],["T_WHITESPACE","    ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","assertIndexCounts",43],"(",["T_LNUMBER","0",43],",",["T_WHITESPACE"," ",43],["T_LNUMBER","0",43],",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'before adding nodes'",43],")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","assertDatabaseCounts",44],"(",["T_LNUMBER","0",44],",",["T_WHITESPACE"," ",44],["T_LNUMBER","0",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'before adding nodes'",44],")",";",["T_WHITESPACE","\n\n    ",44],["T_COMMENT","\/\/ Add two new languages.\n",46],["T_WHITESPACE","    ",47],["T_STRING","ConfigurableLanguage",47],["T_DOUBLE_COLON","::",47],["T_STRING","createFromLangcode",47],"(",["T_CONSTANT_ENCAPSED_STRING","'hu'",47],")",["T_OBJECT_OPERATOR","->",47],["T_STRING","save",47],"(",")",";",["T_WHITESPACE","\n    ",47],["T_STRING","ConfigurableLanguage",48],["T_DOUBLE_COLON","::",48],["T_STRING","createFromLangcode",48],"(",["T_CONSTANT_ENCAPSED_STRING","'sv'",48],")",["T_OBJECT_OPERATOR","->",48],["T_STRING","save",48],"(",")",";",["T_WHITESPACE","\n\n    ",48],["T_COMMENT","\/\/ Make the body field translatable. The title is already translatable by\n",50],["T_WHITESPACE","    ",51],["T_COMMENT","\/\/ definition. The parent class has already created the article and page\n",51],["T_WHITESPACE","    ",52],["T_COMMENT","\/\/ content types.\n",52],["T_WHITESPACE","    ",53],["T_VARIABLE","$field_storage",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","FieldStorageConfig",53],["T_DOUBLE_COLON","::",53],["T_STRING","loadByName",53],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",53],",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'body'",53],")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$field_storage",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","setTranslatable",54],"(",["T_STRING","TRUE",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$field_storage",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","save",55],"(",")",";",["T_WHITESPACE","\n\n    ",55],["T_COMMENT","\/\/ Create a few page nodes with multilingual body values.\n",57],["T_WHITESPACE","    ",58],["T_VARIABLE","$default_format",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","filter_default_format",58],"(",")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$nodes",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_ARRAY","array",59],"(",["T_WHITESPACE","\n      ",59],["T_ARRAY","array",60],"(",["T_WHITESPACE","\n        ",60],["T_CONSTANT_ENCAPSED_STRING","'title'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'First node en'",61],",",["T_WHITESPACE","\n        ",61],["T_CONSTANT_ENCAPSED_STRING","'type'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'page'",62],",",["T_WHITESPACE","\n        ",62],["T_CONSTANT_ENCAPSED_STRING","'body'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_ARRAY","array",63],"(",["T_ARRAY","array",63],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","randomMachineName",63],"(",["T_LNUMBER","32",63],")",",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'format'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$default_format",63],")",")",",",["T_WHITESPACE","\n        ",63],["T_CONSTANT_ENCAPSED_STRING","'langcode'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'en'",64],",",["T_WHITESPACE","\n      ",64],")",",",["T_WHITESPACE","\n      ",65],["T_ARRAY","array",66],"(",["T_WHITESPACE","\n        ",66],["T_CONSTANT_ENCAPSED_STRING","'title'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'Second node this is the English title'",67],",",["T_WHITESPACE","\n        ",67],["T_CONSTANT_ENCAPSED_STRING","'type'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'page'",68],",",["T_WHITESPACE","\n        ",68],["T_CONSTANT_ENCAPSED_STRING","'body'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_ARRAY","array",69],"(",["T_ARRAY","array",69],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","randomMachineName",69],"(",["T_LNUMBER","32",69],")",",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'format'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$default_format",69],")",")",",",["T_WHITESPACE","\n        ",69],["T_CONSTANT_ENCAPSED_STRING","'langcode'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'en'",70],",",["T_WHITESPACE","\n      ",70],")",",",["T_WHITESPACE","\n      ",71],["T_ARRAY","array",72],"(",["T_WHITESPACE","\n        ",72],["T_CONSTANT_ENCAPSED_STRING","'title'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'Third node en'",73],",",["T_WHITESPACE","\n        ",73],["T_CONSTANT_ENCAPSED_STRING","'type'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'page'",74],",",["T_WHITESPACE","\n        ",74],["T_CONSTANT_ENCAPSED_STRING","'body'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_ARRAY","array",75],"(",["T_ARRAY","array",75],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","randomMachineName",75],"(",["T_LNUMBER","32",75],")",",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'format'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$default_format",75],")",")",",",["T_WHITESPACE","\n        ",75],["T_CONSTANT_ENCAPSED_STRING","'langcode'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'en'",76],",",["T_WHITESPACE","\n      ",76],")",",",["T_WHITESPACE","\n      ",77],["T_COMMENT","\/\/ After the third node, we don't care what the settings are. But we\n",78],["T_WHITESPACE","      ",79],["T_COMMENT","\/\/ need to have at least 5 to make sure the throttling is working\n",79],["T_WHITESPACE","      ",80],["T_COMMENT","\/\/ correctly. So, let's make 8 total.\n",80],["T_WHITESPACE","      ",81],["T_ARRAY","array",81],"(",["T_WHITESPACE","\n      ",81],")",",",["T_WHITESPACE","\n      ",82],["T_ARRAY","array",83],"(",["T_WHITESPACE","\n      ",83],")",",",["T_WHITESPACE","\n      ",84],["T_ARRAY","array",85],"(",["T_WHITESPACE","\n      ",85],")",",",["T_WHITESPACE","\n      ",86],["T_ARRAY","array",87],"(",["T_WHITESPACE","\n      ",87],")",",",["T_WHITESPACE","\n      ",88],["T_ARRAY","array",89],"(",["T_WHITESPACE","\n      ",89],")",",",["T_WHITESPACE","\n    ",90],")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","searchableNodes",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_ARRAY","array",92],"(",")",";",["T_WHITESPACE","\n    ",92],["T_FOREACH","foreach",93],["T_WHITESPACE"," ",93],"(",["T_VARIABLE","$nodes",93],["T_WHITESPACE"," ",93],["T_AS","as",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$setting",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n      ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","searchableNodes",94],"[","]",["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","drupalCreateNode",94],"(",["T_VARIABLE","$setting",94],")",";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_COMMENT","\/\/ Add a single translation to the second node.\n",97],["T_WHITESPACE","    ",98],["T_VARIABLE","$translation",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","searchableNodes",98],"[",["T_LNUMBER","1",98],"]",["T_OBJECT_OPERATOR","->",98],["T_STRING","addTranslation",98],"(",["T_CONSTANT_ENCAPSED_STRING","'hu'",98],",",["T_WHITESPACE"," ",98],["T_ARRAY","array",98],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'Second node hu'",98],")",")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$translation",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","body",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","value",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","randomMachineName",99],"(",["T_LNUMBER","32",99],")",";",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","searchableNodes",100],"[",["T_LNUMBER","1",100],"]",["T_OBJECT_OPERATOR","->",100],["T_STRING","save",100],"(",")",";",["T_WHITESPACE","\n\n    ",100],["T_COMMENT","\/\/ Add two translations to the third node.\n",102],["T_WHITESPACE","    ",103],["T_VARIABLE","$translation",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","searchableNodes",103],"[",["T_LNUMBER","2",103],"]",["T_OBJECT_OPERATOR","->",103],["T_STRING","addTranslation",103],"(",["T_CONSTANT_ENCAPSED_STRING","'hu'",103],",",["T_WHITESPACE"," ",103],["T_ARRAY","array",103],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'Third node this is the Hungarian title'",103],")",")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$translation",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","body",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","value",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","randomMachineName",104],"(",["T_LNUMBER","32",104],")",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$translation",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","searchableNodes",105],"[",["T_LNUMBER","2",105],"]",["T_OBJECT_OPERATOR","->",105],["T_STRING","addTranslation",105],"(",["T_CONSTANT_ENCAPSED_STRING","'sv'",105],",",["T_WHITESPACE"," ",105],["T_ARRAY","array",105],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'Third node sv'",105],")",")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$translation",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","body",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","value",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","randomMachineName",106],"(",["T_LNUMBER","32",106],")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","searchableNodes",107],"[",["T_LNUMBER","2",107],"]",["T_OBJECT_OPERATOR","->",107],["T_STRING","save",107],"(",")",";",["T_WHITESPACE","\n\n    ",107],["T_COMMENT","\/\/ Verify that we have 8 nodes left to do.\n",109],["T_WHITESPACE","    ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertIndexCounts",110],"(",["T_LNUMBER","8",110],",",["T_WHITESPACE"," ",110],["T_LNUMBER","8",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'before updating the search index'",110],")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertDatabaseCounts",111],"(",["T_LNUMBER","0",111],",",["T_WHITESPACE"," ",111],["T_LNUMBER","0",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'before updating the search index'",111],")",";",["T_WHITESPACE","\n  ",111],"}",["T_WHITESPACE","\n\n  ",112],["T_DOC_COMMENT","\/**\n   * Tests the indexing throttle and search results with multilingual nodes.\n   *\/",114],["T_WHITESPACE","\n  ",116],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","testMultilingualSearch",117],"(",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n    ",117],["T_COMMENT","\/\/ Index only 2 nodes per cron run. We cannot do this setting in the UI,\n",118],["T_WHITESPACE","    ",119],["T_COMMENT","\/\/ because it doesn't go this low.\n",119],["T_WHITESPACE","    ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","config",120],"(",["T_CONSTANT_ENCAPSED_STRING","'search.settings'",120],")",["T_OBJECT_OPERATOR","->",120],["T_STRING","set",120],"(",["T_CONSTANT_ENCAPSED_STRING","'index.cron_limit'",120],",",["T_WHITESPACE"," ",120],["T_LNUMBER","2",120],")",["T_OBJECT_OPERATOR","->",120],["T_STRING","save",120],"(",")",";",["T_WHITESPACE","\n    ",120],["T_COMMENT","\/\/ Get a new search plugin, to make sure it has this setting.\n",121],["T_WHITESPACE","    ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","plugin",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","container",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","get",122],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.search'",122],")",["T_OBJECT_OPERATOR","->",122],["T_STRING","createInstance",122],"(",["T_CONSTANT_ENCAPSED_STRING","'node_search'",122],")",";",["T_WHITESPACE","\n\n    ",122],["T_COMMENT","\/\/ Update the index. This does the initial processing.\n",124],["T_WHITESPACE","    ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","plugin",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","updateIndex",125],"(",")",";",["T_WHITESPACE","\n    ",125],["T_COMMENT","\/\/ Run the shutdown function. Testing is a unique case where indexing\n",126],["T_WHITESPACE","    ",127],["T_COMMENT","\/\/ and searching has to happen in the same request, so running the shutdown\n",127],["T_WHITESPACE","    ",128],["T_COMMENT","\/\/ function manually is needed to finish the indexing process.\n",128],["T_WHITESPACE","    ",129],["T_STRING","search_update_totals",129],"(",")",";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","assertIndexCounts",130],"(",["T_LNUMBER","6",130],",",["T_WHITESPACE"," ",130],["T_LNUMBER","8",130],",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'after updating partially'",130],")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","assertDatabaseCounts",131],"(",["T_LNUMBER","2",131],",",["T_WHITESPACE"," ",131],["T_LNUMBER","0",131],",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'after updating partially'",131],")",";",["T_WHITESPACE","\n\n    ",131],["T_COMMENT","\/\/ Now index the rest of the nodes.\n",133],["T_WHITESPACE","    ",134],["T_COMMENT","\/\/ Make sure index throttle is high enough, via the UI.\n",134],["T_WHITESPACE","    ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","drupalPostForm",135],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/search\/pages'",135],",",["T_WHITESPACE"," ",135],["T_ARRAY","array",135],"(",["T_CONSTANT_ENCAPSED_STRING","'cron_limit'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_LNUMBER","20",135],")",",",["T_WHITESPACE"," ",135],["T_STRING","t",135],"(",["T_CONSTANT_ENCAPSED_STRING","'Save configuration'",135],")",")",";",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","assertEqual",136],"(",["T_LNUMBER","20",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","config",136],"(",["T_CONSTANT_ENCAPSED_STRING","'search.settings'",136],")",["T_OBJECT_OPERATOR","->",136],["T_STRING","get",136],"(",["T_CONSTANT_ENCAPSED_STRING","'index.cron_limit'",136],",",["T_WHITESPACE"," ",136],["T_LNUMBER","100",136],")",",",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'Config setting was saved correctly'",136],")",";",["T_WHITESPACE","\n    ",136],["T_COMMENT","\/\/ Get a new search plugin, to make sure it has this setting.\n",137],["T_WHITESPACE","    ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","plugin",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","container",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","get",138],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.search'",138],")",["T_OBJECT_OPERATOR","->",138],["T_STRING","createInstance",138],"(",["T_CONSTANT_ENCAPSED_STRING","'node_search'",138],")",";",["T_WHITESPACE","\n\n    ",138],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","plugin",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","updateIndex",140],"(",")",";",["T_WHITESPACE","\n    ",140],["T_STRING","search_update_totals",141],"(",")",";",["T_WHITESPACE","\n    ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","assertIndexCounts",142],"(",["T_LNUMBER","0",142],",",["T_WHITESPACE"," ",142],["T_LNUMBER","8",142],",",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'after updating fully'",142],")",";",["T_WHITESPACE","\n    ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","assertDatabaseCounts",143],"(",["T_LNUMBER","8",143],",",["T_WHITESPACE"," ",143],["T_LNUMBER","0",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'after updating fully'",143],")",";",["T_WHITESPACE","\n\n    ",143],["T_COMMENT","\/\/ Click the reindex button on the admin page, verify counts, and reindex.\n",145],["T_WHITESPACE","    ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","drupalPostForm",146],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/search\/pages'",146],",",["T_WHITESPACE"," ",146],["T_ARRAY","array",146],"(",")",",",["T_WHITESPACE"," ",146],["T_STRING","t",146],"(",["T_CONSTANT_ENCAPSED_STRING","'Re-index site'",146],")",")",";",["T_WHITESPACE","\n    ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","drupalPostForm",147],"(",["T_STRING","NULL",147],",",["T_WHITESPACE"," ",147],["T_ARRAY","array",147],"(",")",",",["T_WHITESPACE"," ",147],["T_STRING","t",147],"(",["T_CONSTANT_ENCAPSED_STRING","'Re-index site'",147],")",")",";",["T_WHITESPACE","\n    ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","assertIndexCounts",148],"(",["T_LNUMBER","8",148],",",["T_WHITESPACE"," ",148],["T_LNUMBER","8",148],",",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'after reindex'",148],")",";",["T_WHITESPACE","\n    ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","assertDatabaseCounts",149],"(",["T_LNUMBER","8",149],",",["T_WHITESPACE"," ",149],["T_LNUMBER","0",149],",",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'after reindex'",149],")",";",["T_WHITESPACE","\n    ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","plugin",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","updateIndex",150],"(",")",";",["T_WHITESPACE","\n    ",150],["T_STRING","search_update_totals",151],"(",")",";",["T_WHITESPACE","\n\n    ",151],["T_COMMENT","\/\/ Test search results.\n",153],["T_WHITESPACE","\n    ",154],["T_COMMENT","\/\/ This should find two results for the second and third node.\n",155],["T_WHITESPACE","    ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","plugin",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","setSearch",156],"(",["T_CONSTANT_ENCAPSED_STRING","'English OR Hungarian'",156],",",["T_WHITESPACE"," ",156],["T_ARRAY","array",156],"(",")",",",["T_WHITESPACE"," ",156],["T_ARRAY","array",156],"(",")",")",";",["T_WHITESPACE","\n    ",156],["T_VARIABLE","$search_result",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","plugin",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","execute",157],"(",")",";",["T_WHITESPACE","\n    ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","assertEqual",158],"(",["T_STRING","count",158],"(",["T_VARIABLE","$search_result",158],")",",",["T_WHITESPACE"," ",158],["T_LNUMBER","2",158],",",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'Found two results.'",158],")",";",["T_WHITESPACE","\n    ",158],["T_COMMENT","\/\/ Nodes are saved directly after each other and have the same created time\n",159],["T_WHITESPACE","    ",160],["T_COMMENT","\/\/ so testing for the order is not possible.\n",160],["T_WHITESPACE","    ",161],["T_VARIABLE","$results",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_ARRAY","array",161],"(",["T_VARIABLE","$search_result",161],"[",["T_LNUMBER","0",161],"]","[",["T_CONSTANT_ENCAPSED_STRING","'title'",161],"]",",",["T_WHITESPACE"," ",161],["T_VARIABLE","$search_result",161],"[",["T_LNUMBER","1",161],"]","[",["T_CONSTANT_ENCAPSED_STRING","'title'",161],"]",")",";",["T_WHITESPACE","\n    ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","assertTrue",162],"(",["T_STRING","in_array",162],"(",["T_CONSTANT_ENCAPSED_STRING","'Third node this is the Hungarian title'",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$results",162],")",",",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'The search finds the correct Hungarian title.'",162],")",";",["T_WHITESPACE","\n    ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","assertTrue",163],"(",["T_STRING","in_array",163],"(",["T_CONSTANT_ENCAPSED_STRING","'Second node this is the English title'",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$results",163],")",",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'The search finds the correct English title.'",163],")",";",["T_WHITESPACE","\n\n    ",163],["T_COMMENT","\/\/ Now filter for Hungarian results only.\n",165],["T_WHITESPACE","    ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","plugin",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","setSearch",166],"(",["T_CONSTANT_ENCAPSED_STRING","'English OR Hungarian'",166],",",["T_WHITESPACE"," ",166],["T_ARRAY","array",166],"(",["T_CONSTANT_ENCAPSED_STRING","'f'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_ARRAY","array",166],"(",["T_CONSTANT_ENCAPSED_STRING","'language:hu'",166],")",")",",",["T_WHITESPACE"," ",166],["T_ARRAY","array",166],"(",")",")",";",["T_WHITESPACE","\n    ",166],["T_VARIABLE","$search_result",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","plugin",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","execute",167],"(",")",";",["T_WHITESPACE","\n\n    ",167],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","assertEqual",169],"(",["T_STRING","count",169],"(",["T_VARIABLE","$search_result",169],")",",",["T_WHITESPACE"," ",169],["T_LNUMBER","1",169],",",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'The search found only one result'",169],")",";",["T_WHITESPACE","\n    ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","assertEqual",170],"(",["T_VARIABLE","$search_result",170],"[",["T_LNUMBER","0",170],"]","[",["T_CONSTANT_ENCAPSED_STRING","'title'",170],"]",",",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'Third node this is the Hungarian title'",170],",",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'The search finds the correct Hungarian title.'",170],")",";",["T_WHITESPACE","\n\n    ",170],["T_COMMENT","\/\/ Test for search with common key word across multiple languages.\n",172],["T_WHITESPACE","    ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","plugin",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","setSearch",173],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",173],",",["T_WHITESPACE"," ",173],["T_ARRAY","array",173],"(",")",",",["T_WHITESPACE"," ",173],["T_ARRAY","array",173],"(",")",")",";",["T_WHITESPACE","\n    ",173],["T_VARIABLE","$search_result",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","plugin",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","execute",174],"(",")",";",["T_WHITESPACE","\n\n    ",174],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","assertEqual",176],"(",["T_STRING","count",176],"(",["T_VARIABLE","$search_result",176],")",",",["T_WHITESPACE"," ",176],["T_LNUMBER","6",176],",",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'The search found total six results'",176],")",";",["T_WHITESPACE","\n\n    ",176],["T_COMMENT","\/\/ Test with language filters and common key word.\n",178],["T_WHITESPACE","    ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","plugin",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","setSearch",179],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",179],",",["T_WHITESPACE"," ",179],["T_ARRAY","array",179],"(",["T_CONSTANT_ENCAPSED_STRING","'f'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_ARRAY","array",179],"(",["T_CONSTANT_ENCAPSED_STRING","'language:hu'",179],")",")",",",["T_WHITESPACE"," ",179],["T_ARRAY","array",179],"(",")",")",";",["T_WHITESPACE","\n    ",179],["T_VARIABLE","$search_result",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","plugin",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","execute",180],"(",")",";",["T_WHITESPACE","\n\n    ",180],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","assertEqual",182],"(",["T_STRING","count",182],"(",["T_VARIABLE","$search_result",182],")",",",["T_WHITESPACE"," ",182],["T_LNUMBER","2",182],",",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'The search found 2 results'",182],")",";",["T_WHITESPACE","\n\n    ",182],["T_COMMENT","\/\/ Test to check for the language of result items.\n",184],["T_WHITESPACE","    ",185],["T_FOREACH","foreach",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$search_result",185],["T_WHITESPACE"," ",185],["T_AS","as",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$result",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n      ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","assertEqual",186],"(",["T_VARIABLE","$result",186],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",186],"]",",",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'hu'",186],",",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'The search found the correct Hungarian result'",186],")",";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n\n    ",187],["T_COMMENT","\/\/ Mark one of the nodes for reindexing, using the API function, and\n",189],["T_WHITESPACE","    ",190],["T_COMMENT","\/\/ verify indexing status.\n",190],["T_WHITESPACE","    ",191],["T_STRING","search_mark_for_reindex",191],"(",["T_CONSTANT_ENCAPSED_STRING","'node_search'",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","searchableNodes",191],"[",["T_LNUMBER","0",191],"]",["T_OBJECT_OPERATOR","->",191],["T_STRING","id",191],"(",")",")",";",["T_WHITESPACE","\n    ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","assertIndexCounts",192],"(",["T_LNUMBER","1",192],",",["T_WHITESPACE"," ",192],["T_LNUMBER","8",192],",",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'after marking one node to reindex via API function'",192],")",";",["T_WHITESPACE","\n\n    ",192],["T_COMMENT","\/\/ Update the index and verify the totals again.\n",194],["T_WHITESPACE","    ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","plugin",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","container",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","get",195],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.search'",195],")",["T_OBJECT_OPERATOR","->",195],["T_STRING","createInstance",195],"(",["T_CONSTANT_ENCAPSED_STRING","'node_search'",195],")",";",["T_WHITESPACE","\n    ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","plugin",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","updateIndex",196],"(",")",";",["T_WHITESPACE","\n    ",196],["T_STRING","search_update_totals",197],"(",")",";",["T_WHITESPACE","\n    ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","assertIndexCounts",198],"(",["T_LNUMBER","0",198],",",["T_WHITESPACE"," ",198],["T_LNUMBER","8",198],",",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'after indexing again'",198],")",";",["T_WHITESPACE","\n\n    ",198],["T_COMMENT","\/\/ Mark one node for reindexing by saving it, and verify indexing status.\n",200],["T_WHITESPACE","    ",201],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","searchableNodes",201],"[",["T_LNUMBER","1",201],"]",["T_OBJECT_OPERATOR","->",201],["T_STRING","save",201],"(",")",";",["T_WHITESPACE","\n    ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","assertIndexCounts",202],"(",["T_LNUMBER","1",202],",",["T_WHITESPACE"," ",202],["T_LNUMBER","8",202],",",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'after marking one node to reindex via save'",202],")",";",["T_WHITESPACE","\n\n    ",202],["T_COMMENT","\/\/ The request time is always the same throughout test runs. Update the\n",204],["T_WHITESPACE","    ",205],["T_COMMENT","\/\/ request time to a previous time, to simulate it having been marked\n",205],["T_WHITESPACE","    ",206],["T_COMMENT","\/\/ previously.\n",206],["T_WHITESPACE","    ",207],["T_VARIABLE","$current",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_STRING","REQUEST_TIME",207],";",["T_WHITESPACE","\n    ",207],["T_VARIABLE","$old",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$current",208],["T_WHITESPACE"," ",208],"-",["T_WHITESPACE"," ",208],["T_LNUMBER","10",208],";",["T_WHITESPACE","\n    ",208],["T_STRING","db_update",209],"(",["T_CONSTANT_ENCAPSED_STRING","'search_dataset'",209],")",["T_WHITESPACE","\n      ",209],["T_OBJECT_OPERATOR","->",210],["T_STRING","fields",210],"(",["T_ARRAY","array",210],"(",["T_CONSTANT_ENCAPSED_STRING","'reindex'",210],["T_WHITESPACE"," ",210],["T_DOUBLE_ARROW","=>",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$old",210],")",")",["T_WHITESPACE","\n      ",210],["T_OBJECT_OPERATOR","->",211],["T_STRING","condition",211],"(",["T_CONSTANT_ENCAPSED_STRING","'reindex'",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$current",211],",",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'>='",211],")",["T_WHITESPACE","\n      ",211],["T_OBJECT_OPERATOR","->",212],["T_STRING","execute",212],"(",")",";",["T_WHITESPACE","\n\n    ",212],["T_COMMENT","\/\/ Save the node again. Verify that the request time on it is not updated.\n",214],["T_WHITESPACE","    ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","searchableNodes",215],"[",["T_LNUMBER","1",215],"]",["T_OBJECT_OPERATOR","->",215],["T_STRING","save",215],"(",")",";",["T_WHITESPACE","\n    ",215],["T_VARIABLE","$result",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_STRING","db_select",216],"(",["T_CONSTANT_ENCAPSED_STRING","'search_dataset'",216],",",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'d'",216],")",["T_WHITESPACE","\n      ",216],["T_OBJECT_OPERATOR","->",217],["T_STRING","fields",217],"(",["T_CONSTANT_ENCAPSED_STRING","'d'",217],",",["T_WHITESPACE"," ",217],["T_ARRAY","array",217],"(",["T_CONSTANT_ENCAPSED_STRING","'reindex'",217],")",")",["T_WHITESPACE","\n      ",217],["T_OBJECT_OPERATOR","->",218],["T_STRING","condition",218],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",218],",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'node_search'",218],")",["T_WHITESPACE","\n      ",218],["T_OBJECT_OPERATOR","->",219],["T_STRING","condition",219],"(",["T_CONSTANT_ENCAPSED_STRING","'sid'",219],",",["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","searchableNodes",219],"[",["T_LNUMBER","1",219],"]",["T_OBJECT_OPERATOR","->",219],["T_STRING","id",219],"(",")",")",["T_WHITESPACE","\n      ",219],["T_OBJECT_OPERATOR","->",220],["T_STRING","execute",220],"(",")",["T_WHITESPACE","\n      ",220],["T_OBJECT_OPERATOR","->",221],["T_STRING","fetchField",221],"(",")",";",["T_WHITESPACE","\n    ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","assertEqual",222],"(",["T_VARIABLE","$result",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$old",222],",",["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","'Reindex time was not updated if node was already marked'",222],")",";",["T_WHITESPACE","\n\n    ",222],["T_COMMENT","\/\/ Add a bogus entry to the search index table using a different search\n",224],["T_WHITESPACE","    ",225],["T_COMMENT","\/\/ type. This will not appear in the index status, because it is not\n",225],["T_WHITESPACE","    ",226],["T_COMMENT","\/\/ managed by a plugin.\n",226],["T_WHITESPACE","    ",227],["T_STRING","search_index",227],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","searchableNodes",227],"[",["T_LNUMBER","0",227],"]",["T_OBJECT_OPERATOR","->",227],["T_STRING","id",227],"(",")",",",["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","'en'",227],",",["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","'some text'",227],")",";",["T_WHITESPACE","\n    ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","assertIndexCounts",228],"(",["T_LNUMBER","1",228],",",["T_WHITESPACE"," ",228],["T_LNUMBER","8",228],",",["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","'after adding a different index item'",228],")",";",["T_WHITESPACE","\n\n    ",228],["T_COMMENT","\/\/ Mark just this \"foo\" index for reindexing.\n",230],["T_WHITESPACE","    ",231],["T_STRING","search_mark_for_reindex",231],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",231],")",";",["T_WHITESPACE","\n    ",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","assertIndexCounts",232],"(",["T_LNUMBER","1",232],",",["T_WHITESPACE"," ",232],["T_LNUMBER","8",232],",",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'after reindexing the other search type'",232],")",";",["T_WHITESPACE","\n\n    ",232],["T_COMMENT","\/\/ Mark everything for reindexing.\n",234],["T_WHITESPACE","    ",235],["T_STRING","search_mark_for_reindex",235],"(",")",";",["T_WHITESPACE","\n    ",235],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","assertIndexCounts",236],"(",["T_LNUMBER","8",236],",",["T_WHITESPACE"," ",236],["T_LNUMBER","8",236],",",["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","'after reindexing everything'",236],")",";",["T_WHITESPACE","\n\n    ",236],["T_COMMENT","\/\/ Clear one item from the index, but with wrong language.\n",238],["T_WHITESPACE","    ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","assertDatabaseCounts",239],"(",["T_LNUMBER","8",239],",",["T_WHITESPACE"," ",239],["T_LNUMBER","1",239],",",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'before clear'",239],")",";",["T_WHITESPACE","\n    ",239],["T_STRING","search_index_clear",240],"(",["T_CONSTANT_ENCAPSED_STRING","'node_search'",240],",",["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","searchableNodes",240],"[",["T_LNUMBER","0",240],"]",["T_OBJECT_OPERATOR","->",240],["T_STRING","id",240],"(",")",",",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'hu'",240],")",";",["T_WHITESPACE","\n    ",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","assertDatabaseCounts",241],"(",["T_LNUMBER","8",241],",",["T_WHITESPACE"," ",241],["T_LNUMBER","1",241],",",["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","'after clear with wrong language'",241],")",";",["T_WHITESPACE","\n    ",241],["T_COMMENT","\/\/ Clear using correct language.\n",242],["T_WHITESPACE","    ",243],["T_STRING","search_index_clear",243],"(",["T_CONSTANT_ENCAPSED_STRING","'node_search'",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","searchableNodes",243],"[",["T_LNUMBER","0",243],"]",["T_OBJECT_OPERATOR","->",243],["T_STRING","id",243],"(",")",",",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'en'",243],")",";",["T_WHITESPACE","\n    ",243],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","assertDatabaseCounts",244],"(",["T_LNUMBER","7",244],",",["T_WHITESPACE"," ",244],["T_LNUMBER","1",244],",",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'after clear with right language'",244],")",";",["T_WHITESPACE","\n    ",244],["T_COMMENT","\/\/ Don't specify language.\n",245],["T_WHITESPACE","    ",246],["T_STRING","search_index_clear",246],"(",["T_CONSTANT_ENCAPSED_STRING","'node_search'",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","searchableNodes",246],"[",["T_LNUMBER","1",246],"]",["T_OBJECT_OPERATOR","->",246],["T_STRING","id",246],"(",")",")",";",["T_WHITESPACE","\n    ",246],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","assertDatabaseCounts",247],"(",["T_LNUMBER","6",247],",",["T_WHITESPACE"," ",247],["T_LNUMBER","1",247],",",["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","'unspecified language clear'",247],")",";",["T_WHITESPACE","\n    ",247],["T_COMMENT","\/\/ Clear everything in 'foo'.\n",248],["T_WHITESPACE","    ",249],["T_STRING","search_index_clear",249],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",249],")",";",["T_WHITESPACE","\n    ",249],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","assertDatabaseCounts",250],"(",["T_LNUMBER","6",250],",",["T_WHITESPACE"," ",250],["T_LNUMBER","0",250],",",["T_WHITESPACE"," ",250],["T_CONSTANT_ENCAPSED_STRING","'other index clear'",250],")",";",["T_WHITESPACE","\n    ",250],["T_COMMENT","\/\/ Clear everything.\n",251],["T_WHITESPACE","    ",252],["T_STRING","search_index_clear",252],"(",")",";",["T_WHITESPACE","\n    ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","assertDatabaseCounts",253],"(",["T_LNUMBER","0",253],",",["T_WHITESPACE"," ",253],["T_LNUMBER","0",253],",",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'complete clear'",253],")",";",["T_WHITESPACE","\n  ",253],"}",["T_WHITESPACE","\n\n  ",254],["T_DOC_COMMENT","\/**\n   * Verifies the indexing status counts.\n   *\n   * @param int $remaining\n   *   Count of remaining items to verify.\n   * @param int $total\n   *   Count of total items to verify.\n   * @param string $message\n   *   Message to use, something like \"after updating the search index\".\n   *\/",256],["T_WHITESPACE","\n  ",265],["T_PROTECTED","protected",266],["T_WHITESPACE"," ",266],["T_FUNCTION","function",266],["T_WHITESPACE"," ",266],["T_STRING","assertIndexCounts",266],"(",["T_VARIABLE","$remaining",266],",",["T_WHITESPACE"," ",266],["T_VARIABLE","$total",266],",",["T_WHITESPACE"," ",266],["T_VARIABLE","$message",266],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n    ",266],["T_COMMENT","\/\/ Check status via plugin method call.\n",267],["T_WHITESPACE","    ",268],["T_VARIABLE","$status",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","plugin",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","indexStatus",268],"(",")",";",["T_WHITESPACE","\n    ",268],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","assertEqual",269],"(",["T_VARIABLE","$status",269],"[",["T_CONSTANT_ENCAPSED_STRING","'remaining'",269],"]",",",["T_WHITESPACE"," ",269],["T_VARIABLE","$remaining",269],",",["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","'Remaining items '",269],["T_WHITESPACE"," ",269],".",["T_WHITESPACE"," ",269],["T_VARIABLE","$message",269],["T_WHITESPACE"," ",269],".",["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","' is '",269],["T_WHITESPACE"," ",269],".",["T_WHITESPACE"," ",269],["T_VARIABLE","$remaining",269],")",";",["T_WHITESPACE","\n    ",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","assertEqual",270],"(",["T_VARIABLE","$status",270],"[",["T_CONSTANT_ENCAPSED_STRING","'total'",270],"]",",",["T_WHITESPACE"," ",270],["T_VARIABLE","$total",270],",",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'Total items '",270],["T_WHITESPACE"," ",270],".",["T_WHITESPACE"," ",270],["T_VARIABLE","$message",270],["T_WHITESPACE"," ",270],".",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","' is '",270],["T_WHITESPACE"," ",270],".",["T_WHITESPACE"," ",270],["T_VARIABLE","$total",270],")",";",["T_WHITESPACE","\n\n    ",270],["T_COMMENT","\/\/ Check text in progress section of Search settings page. Note that this\n",272],["T_WHITESPACE","    ",273],["T_COMMENT","\/\/ test avoids using\n",273],["T_WHITESPACE","    ",274],["T_COMMENT","\/\/ \\Drupal\\Core\\StringTranslation\\TranslationInterface::formatPlural(), so\n",274],["T_WHITESPACE","    ",275],["T_COMMENT","\/\/ it tests for fragments of text.\n",275],["T_WHITESPACE","    ",276],["T_VARIABLE","$indexed",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$total",276],["T_WHITESPACE"," ",276],"-",["T_WHITESPACE"," ",276],["T_VARIABLE","$remaining",276],";",["T_WHITESPACE","\n    ",276],["T_VARIABLE","$percent",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],"(",["T_VARIABLE","$total",277],["T_WHITESPACE"," ",277],">",["T_WHITESPACE"," ",277],["T_LNUMBER","0",277],")",["T_WHITESPACE"," ",277],"?",["T_WHITESPACE"," ",277],["T_STRING","floor",277],"(",["T_LNUMBER","100",277],["T_WHITESPACE"," ",277],"*",["T_WHITESPACE"," ",277],["T_VARIABLE","$indexed",277],["T_WHITESPACE"," ",277],"\/",["T_WHITESPACE"," ",277],["T_VARIABLE","$total",277],")",["T_WHITESPACE"," ",277],":",["T_WHITESPACE"," ",277],["T_LNUMBER","100",277],";",["T_WHITESPACE","\n    ",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","drupalGet",278],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/search\/pages'",278],")",";",["T_WHITESPACE","\n    ",278],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","assertText",279],"(",["T_VARIABLE","$percent",279],["T_WHITESPACE"," ",279],".",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'% of the site has been indexed.'",279],",",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'Progress percent text at top of Search settings page is correct at: '",279],["T_WHITESPACE"," ",279],".",["T_WHITESPACE"," ",279],["T_VARIABLE","$message",279],")",";",["T_WHITESPACE","\n    ",279],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","assertText",280],"(",["T_VARIABLE","$remaining",280],["T_WHITESPACE"," ",280],".",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","' item'",280],",",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'Remaining text at top of Search settings page is correct at: '",280],["T_WHITESPACE"," ",280],".",["T_WHITESPACE"," ",280],["T_VARIABLE","$message",280],")",";",["T_WHITESPACE","\n\n    ",280],["T_COMMENT","\/\/ Check text in pages section of Search settings page.\n",282],["T_WHITESPACE","    ",283],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","assertText",283],"(",["T_VARIABLE","$indexed",283],["T_WHITESPACE"," ",283],".",["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","' of '",283],["T_WHITESPACE"," ",283],".",["T_WHITESPACE"," ",283],["T_VARIABLE","$total",283],["T_WHITESPACE"," ",283],".",["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","' indexed'",283],",",["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","'Progress text in pages section of Search settings page is correct at: '",283],["T_WHITESPACE"," ",283],".",["T_WHITESPACE"," ",283],["T_VARIABLE","$message",283],")",";",["T_WHITESPACE","\n\n    ",283],["T_COMMENT","\/\/ Check text on status report page.\n",285],["T_WHITESPACE","    ",286],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","drupalGet",286],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/status'",286],")",";",["T_WHITESPACE","\n    ",286],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","assertText",287],"(",["T_CONSTANT_ENCAPSED_STRING","'Search index progress'",287],",",["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","'Search status section header is present on status report page'",287],")",";",["T_WHITESPACE","\n    ",287],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","assertText",288],"(",["T_VARIABLE","$percent",288],["T_WHITESPACE"," ",288],".",["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","'%'",288],",",["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","'Correct percentage is shown on status report page at: '",288],["T_WHITESPACE"," ",288],".",["T_WHITESPACE"," ",288],["T_VARIABLE","$message",288],")",";",["T_WHITESPACE","\n    ",288],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","assertText",289],"(",["T_CONSTANT_ENCAPSED_STRING","'('",289],["T_WHITESPACE"," ",289],".",["T_WHITESPACE"," ",289],["T_VARIABLE","$remaining",289],["T_WHITESPACE"," ",289],".",["T_WHITESPACE"," ",289],["T_CONSTANT_ENCAPSED_STRING","' remaining)'",289],",",["T_WHITESPACE"," ",289],["T_CONSTANT_ENCAPSED_STRING","'Correct remaining value is shown on status report page at: '",289],["T_WHITESPACE"," ",289],".",["T_WHITESPACE"," ",289],["T_VARIABLE","$message",289],")",";",["T_WHITESPACE","\n  ",289],"}",["T_WHITESPACE","\n\n  ",290],["T_DOC_COMMENT","\/**\n   * Checks actual database counts of items in the search index.\n   *\n   * @param int $count_node\n   *   Count of node items to assert.\n   * @param int $count_foo\n   *   Count of \"foo\" items to assert.\n   * @param string $message\n   *   Message suffix to use.\n   *\/",292],["T_WHITESPACE","\n  ",301],["T_PROTECTED","protected",302],["T_WHITESPACE"," ",302],["T_FUNCTION","function",302],["T_WHITESPACE"," ",302],["T_STRING","assertDatabaseCounts",302],"(",["T_VARIABLE","$count_node",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$count_foo",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$message",302],")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n    ",302],["T_COMMENT","\/\/ Count number of distinct nodes by ID.\n",303],["T_WHITESPACE","    ",304],["T_VARIABLE","$results",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_STRING","db_select",304],"(",["T_CONSTANT_ENCAPSED_STRING","'search_dataset'",304],",",["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","'i'",304],")",["T_WHITESPACE","\n      ",304],["T_OBJECT_OPERATOR","->",305],["T_STRING","fields",305],"(",["T_CONSTANT_ENCAPSED_STRING","'i'",305],",",["T_WHITESPACE"," ",305],["T_ARRAY","array",305],"(",["T_CONSTANT_ENCAPSED_STRING","'sid'",305],")",")",["T_WHITESPACE","\n      ",305],["T_OBJECT_OPERATOR","->",306],["T_STRING","condition",306],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",306],",",["T_WHITESPACE"," ",306],["T_CONSTANT_ENCAPSED_STRING","'node_search'",306],")",["T_WHITESPACE","\n      ",306],["T_OBJECT_OPERATOR","->",307],["T_STRING","groupBy",307],"(",["T_CONSTANT_ENCAPSED_STRING","'sid'",307],")",["T_WHITESPACE","\n      ",307],["T_OBJECT_OPERATOR","->",308],["T_STRING","execute",308],"(",")",["T_WHITESPACE","\n      ",308],["T_OBJECT_OPERATOR","->",309],["T_STRING","fetchCol",309],"(",")",";",["T_WHITESPACE","\n    ",309],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","assertEqual",310],"(",["T_VARIABLE","$count_node",310],",",["T_WHITESPACE"," ",310],["T_STRING","count",310],"(",["T_VARIABLE","$results",310],")",",",["T_WHITESPACE"," ",310],["T_CONSTANT_ENCAPSED_STRING","'Node count was '",310],["T_WHITESPACE"," ",310],".",["T_WHITESPACE"," ",310],["T_VARIABLE","$count_node",310],["T_WHITESPACE"," ",310],".",["T_WHITESPACE"," ",310],["T_CONSTANT_ENCAPSED_STRING","' for '",310],["T_WHITESPACE"," ",310],".",["T_WHITESPACE"," ",310],["T_VARIABLE","$message",310],")",";",["T_WHITESPACE","\n\n    ",310],["T_COMMENT","\/\/ Count number of \"foo\" records.\n",312],["T_WHITESPACE","    ",313],["T_VARIABLE","$results",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_STRING","db_select",313],"(",["T_CONSTANT_ENCAPSED_STRING","'search_dataset'",313],",",["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","'i'",313],")",["T_WHITESPACE","\n      ",313],["T_OBJECT_OPERATOR","->",314],["T_STRING","fields",314],"(",["T_CONSTANT_ENCAPSED_STRING","'i'",314],",",["T_WHITESPACE"," ",314],["T_ARRAY","array",314],"(",["T_CONSTANT_ENCAPSED_STRING","'sid'",314],")",")",["T_WHITESPACE","\n      ",314],["T_OBJECT_OPERATOR","->",315],["T_STRING","condition",315],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",315],",",["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","'foo'",315],")",["T_WHITESPACE","\n      ",315],["T_OBJECT_OPERATOR","->",316],["T_STRING","execute",316],"(",")",["T_WHITESPACE","\n      ",316],["T_OBJECT_OPERATOR","->",317],["T_STRING","fetchCol",317],"(",")",";",["T_WHITESPACE","\n    ",317],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","assertEqual",318],"(",["T_VARIABLE","$count_foo",318],",",["T_WHITESPACE"," ",318],["T_STRING","count",318],"(",["T_VARIABLE","$results",318],")",",",["T_WHITESPACE"," ",318],["T_CONSTANT_ENCAPSED_STRING","'Foo count was '",318],["T_WHITESPACE"," ",318],".",["T_WHITESPACE"," ",318],["T_VARIABLE","$count_foo",318],["T_WHITESPACE"," ",318],".",["T_WHITESPACE"," ",318],["T_CONSTANT_ENCAPSED_STRING","' for '",318],["T_WHITESPACE"," ",318],".",["T_WHITESPACE"," ",318],["T_VARIABLE","$message",318],")",";",["T_WHITESPACE","\n\n  ",318],"}",["T_WHITESPACE","\n\n",320],"}",["T_WHITESPACE","\n",322]]