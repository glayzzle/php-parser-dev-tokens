[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","search",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Language",5],["T_NS_SEPARATOR","\\",5],["T_STRING","LanguageInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","KernelTests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","KernelTestBase",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Indexes content and queries it.\n *\n * @group search\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","SearchMatchTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","KernelTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_COMMENT","\/\/ The search index can contain different types of content. Typically the type\n",15],["T_WHITESPACE","  ",16],["T_COMMENT","\/\/ is 'node'. Here we test with _test_ and _test2_ as the type.\n",16],["T_WHITESPACE","  ",17],["T_CONST","const",17],["T_WHITESPACE"," ",17],["T_STRING","SEARCH_TYPE",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_CONSTANT_ENCAPSED_STRING","'_test_'",17],";",["T_WHITESPACE","\n  ",17],["T_CONST","const",18],["T_WHITESPACE"," ",18],["T_STRING","SEARCH_TYPE_2",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","'_test2_'",18],";",["T_WHITESPACE","\n  ",18],["T_CONST","const",19],["T_WHITESPACE"," ",19],["T_STRING","SEARCH_TYPE_JPN",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'_test3_'",19],";",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",21],["T_WHITESPACE","\n  ",25],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_STATIC","static",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$modules",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],"[",["T_CONSTANT_ENCAPSED_STRING","'search'",26],"]",";",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",28],["T_WHITESPACE","\n  ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","setUp",31],"(",")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n    ",31],["T_STRING","parent",32],["T_DOUBLE_COLON","::",32],["T_STRING","setUp",32],"(",")",";",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","installSchema",33],"(",["T_CONSTANT_ENCAPSED_STRING","'search'",33],",",["T_WHITESPACE"," ",33],"[",["T_CONSTANT_ENCAPSED_STRING","'search_index'",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'search_dataset'",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'search_total'",33],"]",")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","installConfig",34],"(","[",["T_CONSTANT_ENCAPSED_STRING","'search'",34],"]",")",";",["T_WHITESPACE","\n  ",34],"}",["T_WHITESPACE","\n\n  ",35],["T_DOC_COMMENT","\/**\n   * Test search indexing.\n   *\/",37],["T_WHITESPACE","\n  ",39],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","testMatching",40],"(",")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","_setup",41],"(",")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","_testQueries",42],"(",")",";",["T_WHITESPACE","\n  ",42],"}",["T_WHITESPACE","\n\n  ",43],["T_DOC_COMMENT","\/**\n   * Set up a small index of items to test against.\n   *\/",45],["T_WHITESPACE","\n  ",47],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","_setup",48],"(",")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","config",49],"(",["T_CONSTANT_ENCAPSED_STRING","'search.settings'",49],")",["T_OBJECT_OPERATOR","->",49],["T_STRING","set",49],"(",["T_CONSTANT_ENCAPSED_STRING","'index.minimum_word_size'",49],",",["T_WHITESPACE"," ",49],["T_LNUMBER","3",49],")",["T_OBJECT_OPERATOR","->",49],["T_STRING","save",49],"(",")",";",["T_WHITESPACE","\n\n    ",49],["T_FOR","for",51],["T_WHITESPACE"," ",51],"(",["T_VARIABLE","$i",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_LNUMBER","1",51],";",["T_WHITESPACE"," ",51],["T_VARIABLE","$i",51],["T_WHITESPACE"," ",51],["T_IS_SMALLER_OR_EQUAL","<=",51],["T_WHITESPACE"," ",51],["T_LNUMBER","7",51],";",["T_WHITESPACE"," ",51],["T_INC","++",51],["T_VARIABLE","$i",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n      ",51],["T_STRING","search_index",52],"(",["T_STATIC","static",52],["T_DOUBLE_COLON","::",52],["T_STRING","SEARCH_TYPE",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$i",52],",",["T_WHITESPACE"," ",52],["T_STRING","LanguageInterface",52],["T_DOUBLE_COLON","::",52],["T_STRING","LANGCODE_NOT_SPECIFIED",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getText",52],"(",["T_VARIABLE","$i",52],")",")",";",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n    ",53],["T_FOR","for",54],["T_WHITESPACE"," ",54],"(",["T_VARIABLE","$i",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_LNUMBER","1",54],";",["T_WHITESPACE"," ",54],["T_VARIABLE","$i",54],["T_WHITESPACE"," ",54],["T_IS_SMALLER_OR_EQUAL","<=",54],["T_WHITESPACE"," ",54],["T_LNUMBER","5",54],";",["T_WHITESPACE"," ",54],["T_INC","++",54],["T_VARIABLE","$i",54],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n      ",54],["T_STRING","search_index",55],"(",["T_STATIC","static",55],["T_DOUBLE_COLON","::",55],["T_STRING","SEARCH_TYPE_2",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$i",55],["T_WHITESPACE"," ",55],"+",["T_WHITESPACE"," ",55],["T_LNUMBER","7",55],",",["T_WHITESPACE"," ",55],["T_STRING","LanguageInterface",55],["T_DOUBLE_COLON","::",55],["T_STRING","LANGCODE_NOT_SPECIFIED",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getText2",55],"(",["T_VARIABLE","$i",55],")",")",";",["T_WHITESPACE","\n    ",55],"}",["T_WHITESPACE","\n    ",56],["T_COMMENT","\/\/ No getText builder function for Japanese text; just a simple array.\n",57],["T_WHITESPACE","    ",58],["T_FOREACH","foreach",58],["T_WHITESPACE"," ",58],"(",["T_ARRAY","array",58],"(",["T_WHITESPACE","\n      ",58],["T_LNUMBER","13",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'\u00e4\u00bb\u00a5\u00e5\u0091\u0082\u00e6\u00b3\u00a2\u00e8\u0080\u00b3\u00e3\u0083\u00bb\u00e3\u0081\u00bb\u00e3\u0081\u00b8\u00e3\u0081\u00a8\u00e3\u0081\u00a1\u00e3\u0080\u0082\u00e3\u0083\u00aa\u00e3\u0083\u008c\u00e3\u0083\u00ab\u00e3\u0083\u00b2\u00e3\u0080\u0082'",59],",",["T_WHITESPACE","\n      ",59],["T_LNUMBER","14",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'\u00e3\u0083\u0089\u00e3\u0083\u00ab\u00e3\u0083\u00bc\u00e3\u0083\u0091\u00e3\u0083\u00ab\u00e3\u0081\u008c\u00e5\u00a4\u00a7\u00e5\u00a5\u00bd\u00e3\u0081\u008d\u00e3\u0082\u0088\u00ef\u00bc\u0081'",60],",",["T_WHITESPACE","\n      ",60],["T_LNUMBER","15",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'\u00e3\u0082\u00b3\u00e3\u0083\u00bc\u00e3\u0083\u0092\u00e3\u0083\u00bc\u00e3\u0081\u00a8\u00e3\u0082\u00b1\u00e3\u0083\u00bc\u00e3\u0082\u00ad'",61],",",["T_WHITESPACE","\n    ",61],")",["T_WHITESPACE"," ",62],["T_AS","as",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$i",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$jpn",62],")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n      ",62],["T_STRING","search_index",63],"(",["T_STATIC","static",63],["T_DOUBLE_COLON","::",63],["T_STRING","SEARCH_TYPE_JPN",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$i",63],",",["T_WHITESPACE"," ",63],["T_STRING","LanguageInterface",63],["T_DOUBLE_COLON","::",63],["T_STRING","LANGCODE_NOT_SPECIFIED",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$jpn",63],")",";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n    ",64],["T_STRING","search_update_totals",65],"(",")",";",["T_WHITESPACE","\n  ",65],"}",["T_WHITESPACE","\n\n  ",66],["T_DOC_COMMENT","\/**\n   * _test_: Helper method for generating snippets of content.\n   *\n   * Generated items to test against:\n   *   1  ipsum\n   *   2  dolore sit\n   *   3  sit am ut\n   *   4  am ut enim am\n   *   5  ut enim am minim veniam\n   *   6  enim am minim veniam es cillum\n   *   7  am minim veniam es cillum dolore eu\n   *\/",68],["T_WHITESPACE","\n  ",79],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","getText",80],"(",["T_VARIABLE","$n",80],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$words",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","explode",81],"(",["T_CONSTANT_ENCAPSED_STRING","' '",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","\"Ipsum dolore sit am. Ut enim am minim veniam. Es cillum dolore eu.\"",81],")",";",["T_WHITESPACE","\n    ",81],["T_RETURN","return",82],["T_WHITESPACE"," ",82],["T_STRING","implode",82],"(",["T_CONSTANT_ENCAPSED_STRING","' '",82],",",["T_WHITESPACE"," ",82],["T_STRING","array_slice",82],"(",["T_VARIABLE","$words",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$n",82],["T_WHITESPACE"," ",82],"-",["T_WHITESPACE"," ",82],["T_LNUMBER","1",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$n",82],")",")",";",["T_WHITESPACE","\n  ",82],"}",["T_WHITESPACE","\n\n  ",83],["T_DOC_COMMENT","\/**\n   * _test2_: Helper method for generating snippets of content.\n   *\n   * Generated items to test against:\n   *   8  dear\n   *   9  king philip\n   *   10 philip came over\n   *   11 came over from germany\n   *   12 over from germany swimming\n   *\/",85],["T_WHITESPACE","\n  ",94],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","getText2",95],"(",["T_VARIABLE","$n",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$words",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_STRING","explode",96],"(",["T_CONSTANT_ENCAPSED_STRING","' '",96],",",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","\"Dear King Philip came over from Germany swimming.\"",96],")",";",["T_WHITESPACE","\n    ",96],["T_RETURN","return",97],["T_WHITESPACE"," ",97],["T_STRING","implode",97],"(",["T_CONSTANT_ENCAPSED_STRING","' '",97],",",["T_WHITESPACE"," ",97],["T_STRING","array_slice",97],"(",["T_VARIABLE","$words",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$n",97],["T_WHITESPACE"," ",97],"-",["T_WHITESPACE"," ",97],["T_LNUMBER","1",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$n",97],")",")",";",["T_WHITESPACE","\n  ",97],"}",["T_WHITESPACE","\n\n  ",98],["T_DOC_COMMENT","\/**\n   * Run predefine queries looking for indexed terms.\n   *\/",100],["T_WHITESPACE","\n  ",102],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","_testQueries",103],"(",")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n    ",103],["T_COMMENT","\/\/ Note: OR queries that include short words in OR groups are only accepted\n",104],["T_WHITESPACE","    ",105],["T_COMMENT","\/\/ if the ORed terms are ANDed with at least one long word in the rest of\n",105],["T_WHITESPACE","    ",106],["T_COMMENT","\/\/ the query. Examples:\n",106],["T_WHITESPACE","    ",107],["T_COMMENT","\/\/   enim dolore OR ut = enim (dolore OR ut) = (enim dolor) OR (enim ut)\n",107],["T_WHITESPACE","    ",108],["T_COMMENT","\/\/ is good, and\n",108],["T_WHITESPACE","    ",109],["T_COMMENT","\/\/   dolore OR ut = (dolore) OR (ut)\n",109],["T_WHITESPACE","    ",110],["T_COMMENT","\/\/ is bad. This is a design limitation to avoid full table scans.\n",110],["T_WHITESPACE","    ",111],["T_VARIABLE","$queries",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_ARRAY","array",111],"(",["T_WHITESPACE","\n      ",111],["T_COMMENT","\/\/ Simple AND queries.\n",112],["T_WHITESPACE","      ",113],["T_CONSTANT_ENCAPSED_STRING","'ipsum'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_ARRAY","array",113],"(",["T_LNUMBER","1",113],")",",",["T_WHITESPACE","\n      ",113],["T_CONSTANT_ENCAPSED_STRING","'enim'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_ARRAY","array",114],"(",["T_LNUMBER","4",114],",",["T_WHITESPACE"," ",114],["T_LNUMBER","5",114],",",["T_WHITESPACE"," ",114],["T_LNUMBER","6",114],")",",",["T_WHITESPACE","\n      ",114],["T_CONSTANT_ENCAPSED_STRING","'xxxxx'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_ARRAY","array",115],"(",")",",",["T_WHITESPACE","\n      ",115],["T_CONSTANT_ENCAPSED_STRING","'enim minim'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_ARRAY","array",116],"(",["T_LNUMBER","5",116],",",["T_WHITESPACE"," ",116],["T_LNUMBER","6",116],")",",",["T_WHITESPACE","\n      ",116],["T_CONSTANT_ENCAPSED_STRING","'enim xxxxx'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_ARRAY","array",117],"(",")",",",["T_WHITESPACE","\n      ",117],["T_CONSTANT_ENCAPSED_STRING","'dolore eu'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_ARRAY","array",118],"(",["T_LNUMBER","7",118],")",",",["T_WHITESPACE","\n      ",118],["T_CONSTANT_ENCAPSED_STRING","'dolore xx'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",")",",",["T_WHITESPACE","\n      ",119],["T_CONSTANT_ENCAPSED_STRING","'ut minim'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_ARRAY","array",120],"(",["T_LNUMBER","5",120],")",",",["T_WHITESPACE","\n      ",120],["T_CONSTANT_ENCAPSED_STRING","'xx minim'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_ARRAY","array",121],"(",")",",",["T_WHITESPACE","\n      ",121],["T_CONSTANT_ENCAPSED_STRING","'enim veniam am minim ut'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_ARRAY","array",122],"(",["T_LNUMBER","5",122],")",",",["T_WHITESPACE","\n      ",122],["T_COMMENT","\/\/ Simple OR and AND\/OR queries.\n",123],["T_WHITESPACE","      ",124],["T_CONSTANT_ENCAPSED_STRING","'dolore OR ipsum'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_ARRAY","array",124],"(",["T_LNUMBER","1",124],",",["T_WHITESPACE"," ",124],["T_LNUMBER","2",124],",",["T_WHITESPACE"," ",124],["T_LNUMBER","7",124],")",",",["T_WHITESPACE","\n      ",124],["T_CONSTANT_ENCAPSED_STRING","'dolore OR xxxxx'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_ARRAY","array",125],"(",["T_LNUMBER","2",125],",",["T_WHITESPACE"," ",125],["T_LNUMBER","7",125],")",",",["T_WHITESPACE","\n      ",125],["T_CONSTANT_ENCAPSED_STRING","'dolore OR ipsum OR enim'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_ARRAY","array",126],"(",["T_LNUMBER","1",126],",",["T_WHITESPACE"," ",126],["T_LNUMBER","2",126],",",["T_WHITESPACE"," ",126],["T_LNUMBER","4",126],",",["T_WHITESPACE"," ",126],["T_LNUMBER","5",126],",",["T_WHITESPACE"," ",126],["T_LNUMBER","6",126],",",["T_WHITESPACE"," ",126],["T_LNUMBER","7",126],")",",",["T_WHITESPACE","\n      ",126],["T_CONSTANT_ENCAPSED_STRING","'ipsum OR dolore sit OR cillum'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_ARRAY","array",127],"(",["T_LNUMBER","2",127],",",["T_WHITESPACE"," ",127],["T_LNUMBER","7",127],")",",",["T_WHITESPACE","\n      ",127],["T_CONSTANT_ENCAPSED_STRING","'minim dolore OR ipsum'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_ARRAY","array",128],"(",["T_LNUMBER","7",128],")",",",["T_WHITESPACE","\n      ",128],["T_CONSTANT_ENCAPSED_STRING","'dolore OR ipsum veniam'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_ARRAY","array",129],"(",["T_LNUMBER","7",129],")",",",["T_WHITESPACE","\n      ",129],["T_CONSTANT_ENCAPSED_STRING","'minim dolore OR ipsum OR enim'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_ARRAY","array",130],"(",["T_LNUMBER","5",130],",",["T_WHITESPACE"," ",130],["T_LNUMBER","6",130],",",["T_WHITESPACE"," ",130],["T_LNUMBER","7",130],")",",",["T_WHITESPACE","\n      ",130],["T_CONSTANT_ENCAPSED_STRING","'dolore xx OR yy'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_ARRAY","array",131],"(",")",",",["T_WHITESPACE","\n      ",131],["T_CONSTANT_ENCAPSED_STRING","'xxxxx dolore OR ipsum'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_ARRAY","array",132],"(",")",",",["T_WHITESPACE","\n      ",132],["T_COMMENT","\/\/ Sequence of OR queries.\n",133],["T_WHITESPACE","      ",134],["T_CONSTANT_ENCAPSED_STRING","'minim'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_ARRAY","array",134],"(",["T_LNUMBER","5",134],",",["T_WHITESPACE"," ",134],["T_LNUMBER","6",134],",",["T_WHITESPACE"," ",134],["T_LNUMBER","7",134],")",",",["T_WHITESPACE","\n      ",134],["T_CONSTANT_ENCAPSED_STRING","'minim OR xxxx'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_ARRAY","array",135],"(",["T_LNUMBER","5",135],",",["T_WHITESPACE"," ",135],["T_LNUMBER","6",135],",",["T_WHITESPACE"," ",135],["T_LNUMBER","7",135],")",",",["T_WHITESPACE","\n      ",135],["T_CONSTANT_ENCAPSED_STRING","'minim OR xxxx OR minim'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_ARRAY","array",136],"(",["T_LNUMBER","5",136],",",["T_WHITESPACE"," ",136],["T_LNUMBER","6",136],",",["T_WHITESPACE"," ",136],["T_LNUMBER","7",136],")",",",["T_WHITESPACE","\n      ",136],["T_CONSTANT_ENCAPSED_STRING","'minim OR xxxx minim'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_ARRAY","array",137],"(",["T_LNUMBER","5",137],",",["T_WHITESPACE"," ",137],["T_LNUMBER","6",137],",",["T_WHITESPACE"," ",137],["T_LNUMBER","7",137],")",",",["T_WHITESPACE","\n      ",137],["T_CONSTANT_ENCAPSED_STRING","'minim OR xxxx minim OR yyyy'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_ARRAY","array",138],"(",["T_LNUMBER","5",138],",",["T_WHITESPACE"," ",138],["T_LNUMBER","6",138],",",["T_WHITESPACE"," ",138],["T_LNUMBER","7",138],")",",",["T_WHITESPACE","\n      ",138],["T_CONSTANT_ENCAPSED_STRING","'minim OR xxxx minim OR cillum'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_ARRAY","array",139],"(",["T_LNUMBER","6",139],",",["T_WHITESPACE"," ",139],["T_LNUMBER","7",139],",",["T_WHITESPACE"," ",139],["T_LNUMBER","5",139],")",",",["T_WHITESPACE","\n      ",139],["T_CONSTANT_ENCAPSED_STRING","'minim OR xxxx minim OR xxxx'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_ARRAY","array",140],"(",["T_LNUMBER","5",140],",",["T_WHITESPACE"," ",140],["T_LNUMBER","6",140],",",["T_WHITESPACE"," ",140],["T_LNUMBER","7",140],")",",",["T_WHITESPACE","\n      ",140],["T_COMMENT","\/\/ Negative queries.\n",141],["T_WHITESPACE","      ",142],["T_CONSTANT_ENCAPSED_STRING","'dolore -sit'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_ARRAY","array",142],"(",["T_LNUMBER","7",142],")",",",["T_WHITESPACE","\n      ",142],["T_CONSTANT_ENCAPSED_STRING","'dolore -eu'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_ARRAY","array",143],"(",["T_LNUMBER","2",143],")",",",["T_WHITESPACE","\n      ",143],["T_CONSTANT_ENCAPSED_STRING","'dolore -xxxxx'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_ARRAY","array",144],"(",["T_LNUMBER","2",144],",",["T_WHITESPACE"," ",144],["T_LNUMBER","7",144],")",",",["T_WHITESPACE","\n      ",144],["T_CONSTANT_ENCAPSED_STRING","'dolore -xx'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_ARRAY","array",145],"(",["T_LNUMBER","2",145],",",["T_WHITESPACE"," ",145],["T_LNUMBER","7",145],")",",",["T_WHITESPACE","\n      ",145],["T_COMMENT","\/\/ Phrase queries.\n",146],["T_WHITESPACE","      ",147],["T_CONSTANT_ENCAPSED_STRING","'\"dolore sit\"'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_ARRAY","array",147],"(",["T_LNUMBER","2",147],")",",",["T_WHITESPACE","\n      ",147],["T_CONSTANT_ENCAPSED_STRING","'\"sit dolore\"'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_ARRAY","array",148],"(",")",",",["T_WHITESPACE","\n      ",148],["T_CONSTANT_ENCAPSED_STRING","'\"am minim veniam es\"'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_ARRAY","array",149],"(",["T_LNUMBER","6",149],",",["T_WHITESPACE"," ",149],["T_LNUMBER","7",149],")",",",["T_WHITESPACE","\n      ",149],["T_CONSTANT_ENCAPSED_STRING","'\"minim am veniam es\"'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_ARRAY","array",150],"(",")",",",["T_WHITESPACE","\n      ",150],["T_COMMENT","\/\/ Mixed queries.\n",151],["T_WHITESPACE","      ",152],["T_CONSTANT_ENCAPSED_STRING","'\"am minim veniam es\" OR dolore'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_ARRAY","array",152],"(",["T_LNUMBER","2",152],",",["T_WHITESPACE"," ",152],["T_LNUMBER","6",152],",",["T_WHITESPACE"," ",152],["T_LNUMBER","7",152],")",",",["T_WHITESPACE","\n      ",152],["T_CONSTANT_ENCAPSED_STRING","'\"minim am veniam es\" OR \"dolore sit\"'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_ARRAY","array",153],"(",["T_LNUMBER","2",153],")",",",["T_WHITESPACE","\n      ",153],["T_CONSTANT_ENCAPSED_STRING","'\"minim am veniam es\" OR \"sit dolore\"'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_ARRAY","array",154],"(",")",",",["T_WHITESPACE","\n      ",154],["T_CONSTANT_ENCAPSED_STRING","'\"am minim veniam es\" -eu'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_ARRAY","array",155],"(",["T_LNUMBER","6",155],")",",",["T_WHITESPACE","\n      ",155],["T_CONSTANT_ENCAPSED_STRING","'\"am minim veniam\" -\"cillum dolore\"'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_ARRAY","array",156],"(",["T_LNUMBER","5",156],",",["T_WHITESPACE"," ",156],["T_LNUMBER","6",156],")",",",["T_WHITESPACE","\n      ",156],["T_CONSTANT_ENCAPSED_STRING","'\"am minim veniam\" -\"dolore cillum\"'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_ARRAY","array",157],"(",["T_LNUMBER","5",157],",",["T_WHITESPACE"," ",157],["T_LNUMBER","6",157],",",["T_WHITESPACE"," ",157],["T_LNUMBER","7",157],")",",",["T_WHITESPACE","\n      ",157],["T_CONSTANT_ENCAPSED_STRING","'xxxxx \"minim am veniam es\" OR dolore'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_ARRAY","array",158],"(",")",",",["T_WHITESPACE","\n      ",158],["T_CONSTANT_ENCAPSED_STRING","'xx \"minim am veniam es\" OR dolore'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_ARRAY","array",159],"(",")",["T_WHITESPACE","\n    ",159],")",";",["T_WHITESPACE","\n    ",160],["T_FOREACH","foreach",161],["T_WHITESPACE"," ",161],"(",["T_VARIABLE","$queries",161],["T_WHITESPACE"," ",161],["T_AS","as",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$query",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$results",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n      ",161],["T_VARIABLE","$result",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_STRING","db_select",162],"(",["T_CONSTANT_ENCAPSED_STRING","'search_index'",162],",",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'i'",162],")",["T_WHITESPACE","\n        ",162],["T_OBJECT_OPERATOR","->",163],["T_STRING","extend",163],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\search\\SearchQuery'",163],")",["T_WHITESPACE","\n        ",163],["T_OBJECT_OPERATOR","->",164],["T_STRING","searchExpression",164],"(",["T_VARIABLE","$query",164],",",["T_WHITESPACE"," ",164],["T_STATIC","static",164],["T_DOUBLE_COLON","::",164],["T_STRING","SEARCH_TYPE",164],")",["T_WHITESPACE","\n        ",164],["T_OBJECT_OPERATOR","->",165],["T_STRING","execute",165],"(",")",";",["T_WHITESPACE","\n\n      ",165],["T_VARIABLE","$set",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$result",167],["T_WHITESPACE"," ",167],"?",["T_WHITESPACE"," ",167],["T_VARIABLE","$result",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","fetchAll",167],"(",")",["T_WHITESPACE"," ",167],":",["T_WHITESPACE"," ",167],["T_ARRAY","array",167],"(",")",";",["T_WHITESPACE","\n      ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","_testQueryMatching",168],"(",["T_VARIABLE","$query",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$set",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$results",168],")",";",["T_WHITESPACE","\n      ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","_testQueryScores",169],"(",["T_VARIABLE","$query",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$set",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$results",169],")",";",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n\n    ",170],["T_COMMENT","\/\/ These queries are run against the second index type, SEARCH_TYPE_2.\n",172],["T_WHITESPACE","    ",173],["T_VARIABLE","$queries",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_ARRAY","array",173],"(",["T_WHITESPACE","\n      ",173],["T_COMMENT","\/\/ Simple AND queries.\n",174],["T_WHITESPACE","      ",175],["T_CONSTANT_ENCAPSED_STRING","'ipsum'",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_ARRAY","array",175],"(",")",",",["T_WHITESPACE","\n      ",175],["T_CONSTANT_ENCAPSED_STRING","'enim'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_ARRAY","array",176],"(",")",",",["T_WHITESPACE","\n      ",176],["T_CONSTANT_ENCAPSED_STRING","'enim minim'",177],["T_WHITESPACE"," ",177],["T_DOUBLE_ARROW","=>",177],["T_WHITESPACE"," ",177],["T_ARRAY","array",177],"(",")",",",["T_WHITESPACE","\n      ",177],["T_CONSTANT_ENCAPSED_STRING","'dear'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_ARRAY","array",178],"(",["T_LNUMBER","8",178],")",",",["T_WHITESPACE","\n      ",178],["T_CONSTANT_ENCAPSED_STRING","'germany'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_ARRAY","array",179],"(",["T_LNUMBER","11",179],",",["T_WHITESPACE"," ",179],["T_LNUMBER","12",179],")",",",["T_WHITESPACE","\n    ",179],")",";",["T_WHITESPACE","\n    ",180],["T_FOREACH","foreach",181],["T_WHITESPACE"," ",181],"(",["T_VARIABLE","$queries",181],["T_WHITESPACE"," ",181],["T_AS","as",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$query",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$results",181],")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n      ",181],["T_VARIABLE","$result",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_STRING","db_select",182],"(",["T_CONSTANT_ENCAPSED_STRING","'search_index'",182],",",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'i'",182],")",["T_WHITESPACE","\n        ",182],["T_OBJECT_OPERATOR","->",183],["T_STRING","extend",183],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\search\\SearchQuery'",183],")",["T_WHITESPACE","\n        ",183],["T_OBJECT_OPERATOR","->",184],["T_STRING","searchExpression",184],"(",["T_VARIABLE","$query",184],",",["T_WHITESPACE"," ",184],["T_STATIC","static",184],["T_DOUBLE_COLON","::",184],["T_STRING","SEARCH_TYPE_2",184],")",["T_WHITESPACE","\n        ",184],["T_OBJECT_OPERATOR","->",185],["T_STRING","execute",185],"(",")",";",["T_WHITESPACE","\n\n      ",185],["T_VARIABLE","$set",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$result",187],["T_WHITESPACE"," ",187],"?",["T_WHITESPACE"," ",187],["T_VARIABLE","$result",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","fetchAll",187],"(",")",["T_WHITESPACE"," ",187],":",["T_WHITESPACE"," ",187],["T_ARRAY","array",187],"(",")",";",["T_WHITESPACE","\n      ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_testQueryMatching",188],"(",["T_VARIABLE","$query",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$set",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$results",188],")",";",["T_WHITESPACE","\n      ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_testQueryScores",189],"(",["T_VARIABLE","$query",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$set",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$results",189],")",";",["T_WHITESPACE","\n    ",189],"}",["T_WHITESPACE","\n\n    ",190],["T_COMMENT","\/\/ These queries are run against the third index type, SEARCH_TYPE_JPN.\n",192],["T_WHITESPACE","    ",193],["T_VARIABLE","$queries",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_ARRAY","array",193],"(",["T_WHITESPACE","\n      ",193],["T_COMMENT","\/\/ Simple AND queries.\n",194],["T_WHITESPACE","      ",195],["T_CONSTANT_ENCAPSED_STRING","'\u00e5\u0091\u0082\u00e6\u00b3\u00a2\u00e8\u0080\u00b3'",195],["T_WHITESPACE"," ",195],["T_DOUBLE_ARROW","=>",195],["T_WHITESPACE"," ",195],["T_ARRAY","array",195],"(",["T_LNUMBER","13",195],")",",",["T_WHITESPACE","\n      ",195],["T_CONSTANT_ENCAPSED_STRING","'\u00e4\u00bb\u00a5\u00e5\u0091\u0082\u00e6\u00b3\u00a2\u00e8\u0080\u00b3'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_ARRAY","array",196],"(",["T_LNUMBER","13",196],")",",",["T_WHITESPACE","\n      ",196],["T_CONSTANT_ENCAPSED_STRING","'\u00e3\u0081\u00bb\u00e3\u0081\u00b8\u00e3\u0081\u00a8\u00e3\u0080\u0080\u00e3\u0083\u008c\u00e3\u0083\u00ab\u00e3\u0083\u00b2'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_ARRAY","array",197],"(",["T_LNUMBER","13",197],")",",",["T_WHITESPACE","\n      ",197],["T_CONSTANT_ENCAPSED_STRING","'\u00e3\u0081\u00a8\u00e3\u0081\u00a1\u00e3\u0083\u00aa'",198],["T_WHITESPACE"," ",198],["T_DOUBLE_ARROW","=>",198],["T_WHITESPACE"," ",198],["T_ARRAY","array",198],"(",")",",",["T_WHITESPACE","\n      ",198],["T_CONSTANT_ENCAPSED_STRING","'\u00e3\u0083\u0089\u00e3\u0083\u00ab\u00e3\u0083\u00bc\u00e3\u0083\u0091\u00e3\u0083\u00ab'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_ARRAY","array",199],"(",["T_LNUMBER","14",199],")",",",["T_WHITESPACE","\n      ",199],["T_CONSTANT_ENCAPSED_STRING","'\u00e3\u0083\u0091\u00e3\u0083\u00ab\u00e3\u0081\u008c\u00e5\u00a4\u00a7'",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_ARRAY","array",200],"(",["T_LNUMBER","14",200],")",",",["T_WHITESPACE","\n      ",200],["T_CONSTANT_ENCAPSED_STRING","'\u00e3\u0082\u00b3\u00e3\u0083\u00bc\u00e3\u0083\u0092\u00e3\u0083\u00bc'",201],["T_WHITESPACE"," ",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],["T_ARRAY","array",201],"(",["T_LNUMBER","15",201],")",",",["T_WHITESPACE","\n      ",201],["T_CONSTANT_ENCAPSED_STRING","'\u00e3\u0083\u0092\u00e3\u0083\u00bc\u00e3\u0082\u00ad'",202],["T_WHITESPACE"," ",202],["T_DOUBLE_ARROW","=>",202],["T_WHITESPACE"," ",202],["T_ARRAY","array",202],"(",")",",",["T_WHITESPACE","\n    ",202],")",";",["T_WHITESPACE","\n    ",203],["T_FOREACH","foreach",204],["T_WHITESPACE"," ",204],"(",["T_VARIABLE","$queries",204],["T_WHITESPACE"," ",204],["T_AS","as",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$query",204],["T_WHITESPACE"," ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$results",204],")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n      ",204],["T_VARIABLE","$result",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_STRING","db_select",205],"(",["T_CONSTANT_ENCAPSED_STRING","'search_index'",205],",",["T_WHITESPACE"," ",205],["T_CONSTANT_ENCAPSED_STRING","'i'",205],")",["T_WHITESPACE","\n        ",205],["T_OBJECT_OPERATOR","->",206],["T_STRING","extend",206],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\search\\SearchQuery'",206],")",["T_WHITESPACE","\n        ",206],["T_OBJECT_OPERATOR","->",207],["T_STRING","searchExpression",207],"(",["T_VARIABLE","$query",207],",",["T_WHITESPACE"," ",207],["T_STATIC","static",207],["T_DOUBLE_COLON","::",207],["T_STRING","SEARCH_TYPE_JPN",207],")",["T_WHITESPACE","\n        ",207],["T_OBJECT_OPERATOR","->",208],["T_STRING","execute",208],"(",")",";",["T_WHITESPACE","\n\n      ",208],["T_VARIABLE","$set",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$result",210],["T_WHITESPACE"," ",210],"?",["T_WHITESPACE"," ",210],["T_VARIABLE","$result",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","fetchAll",210],"(",")",["T_WHITESPACE"," ",210],":",["T_WHITESPACE"," ",210],["T_ARRAY","array",210],"(",")",";",["T_WHITESPACE","\n      ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_testQueryMatching",211],"(",["T_VARIABLE","$query",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$set",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$results",211],")",";",["T_WHITESPACE","\n      ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","_testQueryScores",212],"(",["T_VARIABLE","$query",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$set",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$results",212],")",";",["T_WHITESPACE","\n    ",212],"}",["T_WHITESPACE","\n  ",213],"}",["T_WHITESPACE","\n\n  ",214],["T_DOC_COMMENT","\/**\n   * Test the matching abilities of the engine.\n   *\n   * Verify if a query produces the correct results.\n   *\/",216],["T_WHITESPACE","\n  ",220],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],["T_STRING","_testQueryMatching",221],"(",["T_VARIABLE","$query",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$set",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$results",221],")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n    ",221],["T_COMMENT","\/\/ Get result IDs.\n",222],["T_WHITESPACE","    ",223],["T_VARIABLE","$found",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_ARRAY","array",223],"(",")",";",["T_WHITESPACE","\n    ",223],["T_FOREACH","foreach",224],["T_WHITESPACE"," ",224],"(",["T_VARIABLE","$set",224],["T_WHITESPACE"," ",224],["T_AS","as",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$item",224],")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n      ",224],["T_VARIABLE","$found",225],"[","]",["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$item",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","sid",225],";",["T_WHITESPACE","\n    ",225],"}",["T_WHITESPACE","\n\n    ",226],["T_COMMENT","\/\/ Compare $results and $found.\n",228],["T_WHITESPACE","    ",229],["T_STRING","sort",229],"(",["T_VARIABLE","$found",229],")",";",["T_WHITESPACE","\n    ",229],["T_STRING","sort",230],"(",["T_VARIABLE","$results",230],")",";",["T_WHITESPACE","\n    ",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","assertEqual",231],"(",["T_VARIABLE","$found",231],",",["T_WHITESPACE"," ",231],["T_VARIABLE","$results",231],",",["T_WHITESPACE"," ",231],"\"",["T_ENCAPSED_AND_WHITESPACE","Query matching '",231],["T_VARIABLE","$query",231],["T_ENCAPSED_AND_WHITESPACE","'",231],"\"",")",";",["T_WHITESPACE","\n  ",231],"}",["T_WHITESPACE","\n\n  ",232],["T_DOC_COMMENT","\/**\n   * Test the scoring abilities of the engine.\n   *\n   * Verify if a query produces normalized, monotonous scores.\n   *\/",234],["T_WHITESPACE","\n  ",238],["T_FUNCTION","function",239],["T_WHITESPACE"," ",239],["T_STRING","_testQueryScores",239],"(",["T_VARIABLE","$query",239],",",["T_WHITESPACE"," ",239],["T_VARIABLE","$set",239],",",["T_WHITESPACE"," ",239],["T_VARIABLE","$results",239],")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n    ",239],["T_COMMENT","\/\/ Get result scores.\n",240],["T_WHITESPACE","    ",241],["T_VARIABLE","$scores",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_ARRAY","array",241],"(",")",";",["T_WHITESPACE","\n    ",241],["T_FOREACH","foreach",242],["T_WHITESPACE"," ",242],"(",["T_VARIABLE","$set",242],["T_WHITESPACE"," ",242],["T_AS","as",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$item",242],")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n      ",242],["T_VARIABLE","$scores",243],"[","]",["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$item",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","calculated_score",243],";",["T_WHITESPACE","\n    ",243],"}",["T_WHITESPACE","\n\n    ",244],["T_COMMENT","\/\/ Check order.\n",246],["T_WHITESPACE","    ",247],["T_VARIABLE","$sorted",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$scores",247],";",["T_WHITESPACE","\n    ",247],["T_STRING","sort",248],"(",["T_VARIABLE","$sorted",248],")",";",["T_WHITESPACE","\n    ",248],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","assertEqual",249],"(",["T_VARIABLE","$scores",249],",",["T_WHITESPACE"," ",249],["T_STRING","array_reverse",249],"(",["T_VARIABLE","$sorted",249],")",",",["T_WHITESPACE"," ",249],"\"",["T_ENCAPSED_AND_WHITESPACE","Query order '",249],["T_VARIABLE","$query",249],["T_ENCAPSED_AND_WHITESPACE","'",249],"\"",")",";",["T_WHITESPACE","\n\n    ",249],["T_COMMENT","\/\/ Check range.\n",251],["T_WHITESPACE","    ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","assertEqual",252],"(","!",["T_STRING","count",252],"(",["T_VARIABLE","$scores",252],")",["T_WHITESPACE"," ",252],["T_BOOLEAN_OR","||",252],["T_WHITESPACE"," ",252],"(",["T_STRING","min",252],"(",["T_VARIABLE","$scores",252],")",["T_WHITESPACE"," ",252],">",["T_WHITESPACE"," ",252],["T_DNUMBER","0.0",252],["T_WHITESPACE"," ",252],["T_BOOLEAN_AND","&&",252],["T_WHITESPACE"," ",252],["T_STRING","max",252],"(",["T_VARIABLE","$scores",252],")",["T_WHITESPACE"," ",252],["T_IS_SMALLER_OR_EQUAL","<=",252],["T_WHITESPACE"," ",252],["T_DNUMBER","1.0001",252],")",",",["T_WHITESPACE"," ",252],["T_STRING","TRUE",252],",",["T_WHITESPACE"," ",252],"\"",["T_ENCAPSED_AND_WHITESPACE","Query scoring '",252],["T_VARIABLE","$query",252],["T_ENCAPSED_AND_WHITESPACE","'",252],"\"",")",";",["T_WHITESPACE","\n  ",252],"}",["T_WHITESPACE","\n\n",253],"}",["T_WHITESPACE","\n",255]]