[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","action",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Functional",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Tests",5],["T_NS_SEPARATOR","\\",5],["T_STRING","BrowserTestBase",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","views",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Views",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests the views bulk form test.\n *\n * @group action\n * @see \\Drupal\\action\\Plugin\\views\\field\\BulkForm\n *\/",8],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","BulkFormTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","BrowserTestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * Modules to install.\n   *\n   * @var array\n   *\/",16],["T_WHITESPACE","\n  ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_STATIC","static",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$modules",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_ARRAY","array",21],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'action_bulk_test'",21],")",";",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * Tests the bulk form.\n   *\/",23],["T_WHITESPACE","\n  ",25],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","testBulkForm",26],"(",")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n    ",26],["T_VARIABLE","$node_storage",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","container",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","get",27],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",27],")",["T_OBJECT_OPERATOR","->",27],["T_STRING","getStorage",27],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",27],")",";",["T_WHITESPACE","\n\n    ",27],["T_COMMENT","\/\/ First, test an empty bulk form with the default style plugin to make sure\n",29],["T_WHITESPACE","    ",30],["T_COMMENT","\/\/ the empty region is rendered correctly.\n",30],["T_WHITESPACE","    ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","drupalGet",31],"(",["T_CONSTANT_ENCAPSED_STRING","'test_bulk_form_empty'",31],")",";",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","assertText",32],"(",["T_STRING","t",32],"(",["T_CONSTANT_ENCAPSED_STRING","'This view is empty.'",32],")",",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'Empty text found on empty bulk form.'",32],")",";",["T_WHITESPACE","\n\n    ",32],["T_VARIABLE","$nodes",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",")",";",["T_WHITESPACE","\n    ",34],["T_FOR","for",35],["T_WHITESPACE"," ",35],"(",["T_VARIABLE","$i",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_LNUMBER","0",35],";",["T_WHITESPACE"," ",35],["T_VARIABLE","$i",35],["T_WHITESPACE"," ",35],"<",["T_WHITESPACE"," ",35],["T_LNUMBER","10",35],";",["T_WHITESPACE"," ",35],["T_VARIABLE","$i",35],["T_INC","++",35],")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n      ",35],["T_COMMENT","\/\/ Ensure nodes are sorted in the same order they are inserted in the\n",36],["T_WHITESPACE","      ",37],["T_COMMENT","\/\/ array.\n",37],["T_WHITESPACE","      ",38],["T_VARIABLE","$timestamp",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_STRING","REQUEST_TIME",38],["T_WHITESPACE"," ",38],"-",["T_WHITESPACE"," ",38],["T_VARIABLE","$i",38],";",["T_WHITESPACE","\n      ",38],["T_VARIABLE","$nodes",39],"[","]",["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","drupalCreateNode",39],"(",["T_ARRAY","array",39],"(",["T_WHITESPACE","\n        ",39],["T_CONSTANT_ENCAPSED_STRING","'sticky'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_STRING","FALSE",40],",",["T_WHITESPACE","\n        ",40],["T_CONSTANT_ENCAPSED_STRING","'created'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$timestamp",41],",",["T_WHITESPACE","\n        ",41],["T_CONSTANT_ENCAPSED_STRING","'changed'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$timestamp",42],",",["T_WHITESPACE","\n      ",42],")",")",";",["T_WHITESPACE","\n    ",43],"}",["T_WHITESPACE","\n\n    ",44],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","drupalGet",46],"(",["T_CONSTANT_ENCAPSED_STRING","'test_bulk_form'",46],")",";",["T_WHITESPACE","\n\n    ",46],["T_COMMENT","\/\/ Test that the views edit header appears first.\n",48],["T_WHITESPACE","    ",49],["T_VARIABLE","$first_form_element",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","xpath",49],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/form\/div[1][@id = :id]'",49],",",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",["T_CONSTANT_ENCAPSED_STRING","':id'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'edit-header'",49],")",")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","assertTrue",50],"(",["T_VARIABLE","$first_form_element",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'The views form edit header appears first.'",50],")",";",["T_WHITESPACE","\n\n    ",50],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","assertFieldById",52],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-action'",52],",",["T_WHITESPACE"," ",52],["T_STRING","NULL",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'The action select field appears.'",52],")",";",["T_WHITESPACE","\n\n    ",52],["T_COMMENT","\/\/ Make sure a checkbox appears on all rows.\n",54],["T_WHITESPACE","    ",55],["T_VARIABLE","$edit",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",")",";",["T_WHITESPACE","\n    ",55],["T_FOR","for",56],["T_WHITESPACE"," ",56],"(",["T_VARIABLE","$i",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_LNUMBER","0",56],";",["T_WHITESPACE"," ",56],["T_VARIABLE","$i",56],["T_WHITESPACE"," ",56],"<",["T_WHITESPACE"," ",56],["T_LNUMBER","10",56],";",["T_WHITESPACE"," ",56],["T_VARIABLE","$i",56],["T_INC","++",56],")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n      ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","assertFieldById",57],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-node-bulk-form-'",57],["T_WHITESPACE"," ",57],".",["T_WHITESPACE"," ",57],["T_VARIABLE","$i",57],",",["T_WHITESPACE"," ",57],["T_STRING","NULL",57],",",["T_WHITESPACE"," ",57],["T_STRING","format_string",57],"(",["T_CONSTANT_ENCAPSED_STRING","'The checkbox on row @row appears.'",57],",",["T_WHITESPACE"," ",57],["T_ARRAY","array",57],"(",["T_CONSTANT_ENCAPSED_STRING","'@row'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$i",57],")",")",")",";",["T_WHITESPACE","\n      ",57],["T_VARIABLE","$edit",58],"[","\"",["T_ENCAPSED_AND_WHITESPACE","node_bulk_form[",58],["T_VARIABLE","$i",58],["T_ENCAPSED_AND_WHITESPACE","]",58],"\"","]",["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","TRUE",58],";",["T_WHITESPACE","\n    ",58],"}",["T_WHITESPACE","\n\n    ",59],["T_COMMENT","\/\/ Log in as a user with 'administer nodes' permission to have access to the\n",61],["T_WHITESPACE","    ",62],["T_COMMENT","\/\/ bulk operation.\n",62],["T_WHITESPACE","    ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","drupalCreateContentType",63],"(","[",["T_CONSTANT_ENCAPSED_STRING","'type'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'page'",63],"]",")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$admin_user",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","drupalCreateUser",64],"(","[",["T_CONSTANT_ENCAPSED_STRING","'administer nodes'",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'edit any page content'",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'delete any page content'",64],"]",")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","drupalLogin",65],"(",["T_VARIABLE","$admin_user",65],")",";",["T_WHITESPACE","\n\n    ",65],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","drupalGet",67],"(",["T_CONSTANT_ENCAPSED_STRING","'test_bulk_form'",67],")",";",["T_WHITESPACE","\n\n    ",67],["T_COMMENT","\/\/ Set all nodes to sticky and check that.\n",69],["T_WHITESPACE","    ",70],["T_VARIABLE","$edit",70],["T_WHITESPACE"," ",70],["T_PLUS_EQUAL","+=",70],["T_WHITESPACE"," ",70],["T_ARRAY","array",70],"(",["T_CONSTANT_ENCAPSED_STRING","'action'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'node_make_sticky_action'",70],")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","drupalPostForm",71],"(",["T_STRING","NULL",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$edit",71],",",["T_WHITESPACE"," ",71],["T_STRING","t",71],"(",["T_CONSTANT_ENCAPSED_STRING","'Apply to selected items'",71],")",")",";",["T_WHITESPACE","\n\n    ",71],["T_FOREACH","foreach",73],["T_WHITESPACE"," ",73],"(",["T_VARIABLE","$nodes",73],["T_WHITESPACE"," ",73],["T_AS","as",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$node",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n      ",73],["T_VARIABLE","$changed_node",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$node_storage",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","load",74],"(",["T_VARIABLE","$node",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","id",74],"(",")",")",";",["T_WHITESPACE","\n      ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertTrue",75],"(",["T_VARIABLE","$changed_node",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","isSticky",75],"(",")",",",["T_WHITESPACE"," ",75],["T_STRING","format_string",75],"(",["T_CONSTANT_ENCAPSED_STRING","'Node @nid got marked as sticky.'",75],",",["T_WHITESPACE"," ",75],["T_ARRAY","array",75],"(",["T_CONSTANT_ENCAPSED_STRING","'@nid'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$node",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","id",75],"(",")",")",")",")",";",["T_WHITESPACE","\n    ",75],"}",["T_WHITESPACE","\n\n    ",76],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","assertText",78],"(",["T_CONSTANT_ENCAPSED_STRING","'Make content sticky was applied to 10 items.'",78],")",";",["T_WHITESPACE","\n\n    ",78],["T_COMMENT","\/\/ Unpublish just one node.\n",80],["T_WHITESPACE","    ",81],["T_VARIABLE","$node",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$node_storage",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","load",81],"(",["T_VARIABLE","$nodes",81],"[",["T_LNUMBER","0",81],"]",["T_OBJECT_OPERATOR","->",81],["T_STRING","id",81],"(",")",")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertTrue",82],"(",["T_VARIABLE","$node",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","isPublished",82],"(",")",",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'The node is published.'",82],")",";",["T_WHITESPACE","\n\n    ",82],["T_VARIABLE","$edit",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_ARRAY","array",84],"(",["T_CONSTANT_ENCAPSED_STRING","'node_bulk_form[0]'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_STRING","TRUE",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'action'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'node_unpublish_action'",84],")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","drupalPostForm",85],"(",["T_STRING","NULL",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$edit",85],",",["T_WHITESPACE"," ",85],["T_STRING","t",85],"(",["T_CONSTANT_ENCAPSED_STRING","'Apply to selected items'",85],")",")",";",["T_WHITESPACE","\n\n    ",85],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertText",87],"(",["T_CONSTANT_ENCAPSED_STRING","'Unpublish content was applied to 1 item.'",87],")",";",["T_WHITESPACE","\n\n    ",87],["T_COMMENT","\/\/ Load the node again.\n",89],["T_WHITESPACE","    ",90],["T_VARIABLE","$node_storage",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","resetCache",90],"(",["T_ARRAY","array",90],"(",["T_VARIABLE","$node",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","id",90],"(",")",")",")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$node",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$node_storage",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","load",91],"(",["T_VARIABLE","$node",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","id",91],"(",")",")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertFalse",92],"(",["T_VARIABLE","$node",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","isPublished",92],"(",")",",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'A single node has been unpublished.'",92],")",";",["T_WHITESPACE","\n\n    ",92],["T_COMMENT","\/\/ The second node should still be published.\n",94],["T_WHITESPACE","    ",95],["T_VARIABLE","$node_storage",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","resetCache",95],"(",["T_ARRAY","array",95],"(",["T_VARIABLE","$nodes",95],"[",["T_LNUMBER","1",95],"]",["T_OBJECT_OPERATOR","->",95],["T_STRING","id",95],"(",")",")",")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$node",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$node_storage",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","load",96],"(",["T_VARIABLE","$nodes",96],"[",["T_LNUMBER","1",96],"]",["T_OBJECT_OPERATOR","->",96],["T_STRING","id",96],"(",")",")",";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","assertTrue",97],"(",["T_VARIABLE","$node",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","isPublished",97],"(",")",",",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'An unchecked node is still published.'",97],")",";",["T_WHITESPACE","\n\n    ",97],["T_COMMENT","\/\/ Set up to include just the sticky actions.\n",99],["T_WHITESPACE","    ",100],["T_VARIABLE","$view",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_STRING","Views",100],["T_DOUBLE_COLON","::",100],["T_STRING","getView",100],"(",["T_CONSTANT_ENCAPSED_STRING","'test_bulk_form'",100],")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$display",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],"&",["T_VARIABLE","$view",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","storage",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getDisplay",101],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",101],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$display",102],"[",["T_CONSTANT_ENCAPSED_STRING","'display_options'",102],"]","[",["T_CONSTANT_ENCAPSED_STRING","'fields'",102],"]","[",["T_CONSTANT_ENCAPSED_STRING","'node_bulk_form'",102],"]","[",["T_CONSTANT_ENCAPSED_STRING","'include_exclude'",102],"]",["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'include'",102],";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$display",103],"[",["T_CONSTANT_ENCAPSED_STRING","'display_options'",103],"]","[",["T_CONSTANT_ENCAPSED_STRING","'fields'",103],"]","[",["T_CONSTANT_ENCAPSED_STRING","'node_bulk_form'",103],"]","[",["T_CONSTANT_ENCAPSED_STRING","'selected_actions'",103],"]","[",["T_CONSTANT_ENCAPSED_STRING","'node_make_sticky_action'",103],"]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'node_make_sticky_action'",103],";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$display",104],"[",["T_CONSTANT_ENCAPSED_STRING","'display_options'",104],"]","[",["T_CONSTANT_ENCAPSED_STRING","'fields'",104],"]","[",["T_CONSTANT_ENCAPSED_STRING","'node_bulk_form'",104],"]","[",["T_CONSTANT_ENCAPSED_STRING","'selected_actions'",104],"]","[",["T_CONSTANT_ENCAPSED_STRING","'node_make_unsticky_action'",104],"]",["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'node_make_unsticky_action'",104],";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$view",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","save",105],"(",")",";",["T_WHITESPACE","\n\n    ",105],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","drupalGet",107],"(",["T_CONSTANT_ENCAPSED_STRING","'test_bulk_form'",107],")",";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$options",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","xpath",108],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/select[@id=:id]\/option'",108],",",["T_WHITESPACE"," ",108],["T_ARRAY","array",108],"(",["T_CONSTANT_ENCAPSED_STRING","':id'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'edit-action'",108],")",")",";",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertEqual",109],"(",["T_STRING","count",109],"(",["T_VARIABLE","$options",109],")",",",["T_WHITESPACE"," ",109],["T_LNUMBER","2",109],")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertOption",110],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-action'",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'node_make_sticky_action'",110],")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertOption",111],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-action'",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'node_make_unsticky_action'",111],")",";",["T_WHITESPACE","\n\n    ",111],["T_COMMENT","\/\/ Set up to exclude the sticky actions.\n",113],["T_WHITESPACE","    ",114],["T_VARIABLE","$view",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_STRING","Views",114],["T_DOUBLE_COLON","::",114],["T_STRING","getView",114],"(",["T_CONSTANT_ENCAPSED_STRING","'test_bulk_form'",114],")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$display",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],"&",["T_VARIABLE","$view",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","storage",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getDisplay",115],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",115],")",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$display",116],"[",["T_CONSTANT_ENCAPSED_STRING","'display_options'",116],"]","[",["T_CONSTANT_ENCAPSED_STRING","'fields'",116],"]","[",["T_CONSTANT_ENCAPSED_STRING","'node_bulk_form'",116],"]","[",["T_CONSTANT_ENCAPSED_STRING","'include_exclude'",116],"]",["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'exclude'",116],";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$view",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","save",117],"(",")",";",["T_WHITESPACE","\n\n    ",117],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","drupalGet",119],"(",["T_CONSTANT_ENCAPSED_STRING","'test_bulk_form'",119],")",";",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","assertNoOption",120],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-action'",120],",",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'node_make_sticky_action'",120],")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","assertNoOption",121],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-action'",121],",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'node_make_unsticky_action'",121],")",";",["T_WHITESPACE","\n\n    ",121],["T_COMMENT","\/\/ Check the default title.\n",123],["T_WHITESPACE","    ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","drupalGet",124],"(",["T_CONSTANT_ENCAPSED_STRING","'test_bulk_form'",124],")",";",["T_WHITESPACE","\n    ",124],["T_VARIABLE","$result",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","xpath",125],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/label[@for=\"edit-action\"]'",125],")",";",["T_WHITESPACE","\n    ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","assertEqual",126],"(",["T_CONSTANT_ENCAPSED_STRING","'Action'",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$result",126],"[",["T_LNUMBER","0",126],"]",["T_OBJECT_OPERATOR","->",126],["T_STRING","getText",126],"(",")",")",";",["T_WHITESPACE","\n\n    ",126],["T_COMMENT","\/\/ Setup up a different bulk form title.\n",128],["T_WHITESPACE","    ",129],["T_VARIABLE","$view",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_STRING","Views",129],["T_DOUBLE_COLON","::",129],["T_STRING","getView",129],"(",["T_CONSTANT_ENCAPSED_STRING","'test_bulk_form'",129],")",";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$display",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],"&",["T_VARIABLE","$view",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","storage",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getDisplay",130],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",130],")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$display",131],"[",["T_CONSTANT_ENCAPSED_STRING","'display_options'",131],"]","[",["T_CONSTANT_ENCAPSED_STRING","'fields'",131],"]","[",["T_CONSTANT_ENCAPSED_STRING","'node_bulk_form'",131],"]","[",["T_CONSTANT_ENCAPSED_STRING","'action_title'",131],"]",["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'Test title'",131],";",["T_WHITESPACE","\n    ",131],["T_VARIABLE","$view",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","save",132],"(",")",";",["T_WHITESPACE","\n\n    ",132],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","drupalGet",134],"(",["T_CONSTANT_ENCAPSED_STRING","'test_bulk_form'",134],")",";",["T_WHITESPACE","\n    ",134],["T_VARIABLE","$result",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","xpath",135],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/label[@for=\"edit-action\"]'",135],")",";",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","assertEqual",136],"(",["T_CONSTANT_ENCAPSED_STRING","'Test title'",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$result",136],"[",["T_LNUMBER","0",136],"]",["T_OBJECT_OPERATOR","->",136],["T_STRING","getText",136],"(",")",")",";",["T_WHITESPACE","\n\n    ",136],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","drupalGet",138],"(",["T_CONSTANT_ENCAPSED_STRING","'test_bulk_form'",138],")",";",["T_WHITESPACE","\n    ",138],["T_COMMENT","\/\/ Call the node delete action.\n",139],["T_WHITESPACE","    ",140],["T_VARIABLE","$edit",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_ARRAY","array",140],"(",")",";",["T_WHITESPACE","\n    ",140],["T_FOR","for",141],["T_WHITESPACE"," ",141],"(",["T_VARIABLE","$i",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_LNUMBER","0",141],";",["T_WHITESPACE"," ",141],["T_VARIABLE","$i",141],["T_WHITESPACE"," ",141],"<",["T_WHITESPACE"," ",141],["T_LNUMBER","5",141],";",["T_WHITESPACE"," ",141],["T_VARIABLE","$i",141],["T_INC","++",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n      ",141],["T_VARIABLE","$edit",142],"[","\"",["T_ENCAPSED_AND_WHITESPACE","node_bulk_form[",142],["T_VARIABLE","$i",142],["T_ENCAPSED_AND_WHITESPACE","]",142],"\"","]",["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_STRING","TRUE",142],";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n    ",143],["T_VARIABLE","$edit",144],["T_WHITESPACE"," ",144],["T_PLUS_EQUAL","+=",144],["T_WHITESPACE"," ",144],["T_ARRAY","array",144],"(",["T_CONSTANT_ENCAPSED_STRING","'action'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'node_delete_action'",144],")",";",["T_WHITESPACE","\n    ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","drupalPostForm",145],"(",["T_STRING","NULL",145],",",["T_WHITESPACE"," ",145],["T_VARIABLE","$edit",145],",",["T_WHITESPACE"," ",145],["T_STRING","t",145],"(",["T_CONSTANT_ENCAPSED_STRING","'Apply to selected items'",145],")",")",";",["T_WHITESPACE","\n    ",145],["T_COMMENT","\/\/ Make sure we don't show an action message while we are still on the\n",146],["T_WHITESPACE","    ",147],["T_COMMENT","\/\/ confirmation page.\n",147],["T_WHITESPACE","    ",148],["T_VARIABLE","$errors",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","xpath",148],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/div[contains(@class, \"messages--status\")]'",148],")",";",["T_WHITESPACE","\n    ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","assertFalse",149],"(",["T_VARIABLE","$errors",149],",",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'No action message shown.'",149],")",";",["T_WHITESPACE","\n    ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","drupalPostForm",150],"(",["T_STRING","NULL",150],",",["T_WHITESPACE"," ",150],["T_ARRAY","array",150],"(",")",",",["T_WHITESPACE"," ",150],["T_STRING","t",150],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",150],")",")",";",["T_WHITESPACE","\n    ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","assertText",151],"(",["T_STRING","t",151],"(",["T_CONSTANT_ENCAPSED_STRING","'Deleted 5 posts.'",151],")",")",";",["T_WHITESPACE","\n    ",151],["T_COMMENT","\/\/ Check if we got redirected to the original page.\n",152],["T_WHITESPACE","    ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","assertUrl",153],"(",["T_CONSTANT_ENCAPSED_STRING","'test_bulk_form'",153],")",";",["T_WHITESPACE","\n  ",153],"}",["T_WHITESPACE","\n\n",154],"}",["T_WHITESPACE","\n",156]]