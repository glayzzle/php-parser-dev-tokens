[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","action",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Functional",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Crypt",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","system",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Action",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Tests",7],["T_NS_SEPARATOR","\\",7],["T_STRING","BrowserTestBase",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Tests complex actions configuration by adding, editing, and deleting a\n * complex action.\n *\n * @group action\n *\/",9],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","ConfigurationTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","BrowserTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * Modules to install.\n   *\n   * @var array\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_STATIC","static",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$modules",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_ARRAY","array",22],"(",["T_CONSTANT_ENCAPSED_STRING","'action'",22],")",";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * Tests configuration of advanced actions through administration interface.\n   *\/",24],["T_WHITESPACE","\n  ",26],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","testActionConfiguration",27],"(",")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n    ",27],["T_COMMENT","\/\/ Create a user with permission to view the actions administration pages.\n",28],["T_WHITESPACE","    ",29],["T_VARIABLE","$user",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","drupalCreateUser",29],"(",["T_ARRAY","array",29],"(",["T_CONSTANT_ENCAPSED_STRING","'administer actions'",29],")",")",";",["T_WHITESPACE","\n    ",29],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","drupalLogin",30],"(",["T_VARIABLE","$user",30],")",";",["T_WHITESPACE","\n\n    ",30],["T_COMMENT","\/\/ Make a POST request to admin\/config\/system\/actions.\n",32],["T_WHITESPACE","    ",33],["T_VARIABLE","$edit",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_ARRAY","array",33],"(",")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$edit",34],"[",["T_CONSTANT_ENCAPSED_STRING","'action'",34],"]",["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_STRING","Crypt",34],["T_DOUBLE_COLON","::",34],["T_STRING","hashBase64",34],"(",["T_CONSTANT_ENCAPSED_STRING","'action_goto_action'",34],")",";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","drupalPostForm",35],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/system\/actions'",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$edit",35],",",["T_WHITESPACE"," ",35],["T_STRING","t",35],"(",["T_CONSTANT_ENCAPSED_STRING","'Create'",35],")",")",";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","assertResponse",36],"(",["T_LNUMBER","200",36],")",";",["T_WHITESPACE","\n\n    ",36],["T_COMMENT","\/\/ Make a POST request to the individual action configuration page.\n",38],["T_WHITESPACE","    ",39],["T_VARIABLE","$edit",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_ARRAY","array",39],"(",")",";",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$action_label",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","randomMachineName",40],"(",")",";",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$edit",41],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",41],"]",["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$action_label",41],";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$edit",42],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",42],"]",["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_STRING","strtolower",42],"(",["T_VARIABLE","$action_label",42],")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$edit",43],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",43],"]",["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'admin'",43],";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","drupalPostForm",44],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/system\/actions\/add\/'",44],["T_WHITESPACE"," ",44],".",["T_WHITESPACE"," ",44],["T_STRING","Crypt",44],["T_DOUBLE_COLON","::",44],["T_STRING","hashBase64",44],"(",["T_CONSTANT_ENCAPSED_STRING","'action_goto_action'",44],")",",",["T_WHITESPACE"," ",44],["T_VARIABLE","$edit",44],",",["T_WHITESPACE"," ",44],["T_STRING","t",44],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",44],")",")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","assertResponse",45],"(",["T_LNUMBER","200",45],")",";",["T_WHITESPACE","\n\n    ",45],["T_COMMENT","\/\/ Make sure that the new complex action was saved properly.\n",47],["T_WHITESPACE","    ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","assertText",48],"(",["T_STRING","t",48],"(",["T_CONSTANT_ENCAPSED_STRING","'The action has been successfully saved.'",48],")",",",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","\"Make sure we get a confirmation that we've successfully saved the complex action.\"",48],")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertText",49],"(",["T_VARIABLE","$action_label",49],",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","\"Make sure the action label appears on the configuration page after we've saved the complex action.\"",49],")",";",["T_WHITESPACE","\n\n    ",49],["T_COMMENT","\/\/ Make another POST request to the action edit page.\n",51],["T_WHITESPACE","    ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","clickLink",52],"(",["T_STRING","t",52],"(",["T_CONSTANT_ENCAPSED_STRING","'Configure'",52],")",")",";",["T_WHITESPACE","\n    ",52],["T_STRING","preg_match",53],"(",["T_CONSTANT_ENCAPSED_STRING","'|admin\/config\/system\/actions\/configure\/(.+)|'",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getUrl",53],"(",")",",",["T_WHITESPACE"," ",53],["T_VARIABLE","$matches",53],")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$aid",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$matches",54],"[",["T_LNUMBER","1",54],"]",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$edit",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$new_action_label",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","randomMachineName",56],"(",")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$edit",57],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",57],"]",["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$new_action_label",57],";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$edit",58],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",58],"]",["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'admin'",58],";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","drupalPostForm",59],"(",["T_STRING","NULL",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$edit",59],",",["T_WHITESPACE"," ",59],["T_STRING","t",59],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",59],")",")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertResponse",60],"(",["T_LNUMBER","200",60],")",";",["T_WHITESPACE","\n\n    ",60],["T_COMMENT","\/\/ Make sure that the action updated properly.\n",62],["T_WHITESPACE","    ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","assertText",63],"(",["T_STRING","t",63],"(",["T_CONSTANT_ENCAPSED_STRING","'The action has been successfully saved.'",63],")",",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","\"Make sure we get a confirmation that we've successfully updated the complex action.\"",63],")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","assertNoText",64],"(",["T_VARIABLE","$action_label",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","\"Make sure the old action label does NOT appear on the configuration page after we've updated the complex action.\"",64],")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","assertText",65],"(",["T_VARIABLE","$new_action_label",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","\"Make sure the action label appears on the configuration page after we've updated the complex action.\"",65],")",";",["T_WHITESPACE","\n\n    ",65],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","clickLink",67],"(",["T_STRING","t",67],"(",["T_CONSTANT_ENCAPSED_STRING","'Configure'",67],")",")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$element",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","xpath",68],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/input[@type=\"text\" and @value=\"admin\"]'",68],")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertTrue",69],"(","!",["T_EMPTY","empty",69],"(",["T_VARIABLE","$element",69],")",",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'Make sure the URL appears when re-editing the action.'",69],")",";",["T_WHITESPACE","\n\n    ",69],["T_COMMENT","\/\/ Make sure that deletions work properly.\n",71],["T_WHITESPACE","    ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","drupalGet",72],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/system\/actions'",72],")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","clickLink",73],"(",["T_STRING","t",73],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",73],")",")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertResponse",74],"(",["T_LNUMBER","200",74],")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$edit",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_ARRAY","array",75],"(",")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","drupalPostForm",76],"(","\"",["T_ENCAPSED_AND_WHITESPACE","admin\/config\/system\/actions\/configure\/",76],["T_VARIABLE","$aid",76],["T_ENCAPSED_AND_WHITESPACE","\/delete",76],"\"",",",["T_WHITESPACE"," ",76],["T_VARIABLE","$edit",76],",",["T_WHITESPACE"," ",76],["T_STRING","t",76],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",76],")",")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assertResponse",77],"(",["T_LNUMBER","200",77],")",";",["T_WHITESPACE","\n\n    ",77],["T_COMMENT","\/\/ Make sure that the action was actually deleted.\n",79],["T_WHITESPACE","    ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertRaw",80],"(",["T_STRING","t",80],"(",["T_CONSTANT_ENCAPSED_STRING","'The action %action has been deleted.'",80],",",["T_WHITESPACE"," ",80],["T_ARRAY","array",80],"(",["T_CONSTANT_ENCAPSED_STRING","'%action'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$new_action_label",80],")",")",",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'Make sure that we get a delete confirmation message.'",80],")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","drupalGet",81],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/system\/actions'",81],")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertResponse",82],"(",["T_LNUMBER","200",82],")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertNoText",83],"(",["T_VARIABLE","$new_action_label",83],",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","\"Make sure the action label does not appear on the overview page after we've deleted the action.\"",83],")",";",["T_WHITESPACE","\n\n    ",83],["T_VARIABLE","$action",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","Action",85],["T_DOUBLE_COLON","::",85],["T_STRING","load",85],"(",["T_VARIABLE","$aid",85],")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertFalse",86],"(",["T_VARIABLE","$action",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'Make sure the action is gone after being deleted.'",86],")",";",["T_WHITESPACE","\n  ",86],"}",["T_WHITESPACE","\n\n",87],"}",["T_WHITESPACE","\n",89]]