[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","rdf",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","node",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Tests",5],["T_NS_SEPARATOR","\\",5],["T_STRING","NodeTestBase",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests the RDFa markup of Nodes.\n *\n * @group rdf\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","NodeAttributesTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","NodeTestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",14],["T_WHITESPACE","\n  ",18],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_STATIC","static",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$modules",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_ARRAY","array",19],"(",["T_CONSTANT_ENCAPSED_STRING","'rdf'",19],")",";",["T_WHITESPACE","\n\n  ",19],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_FUNCTION","function",21],["T_WHITESPACE"," ",21],["T_STRING","setUp",21],"(",")",["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n    ",21],["T_STRING","parent",22],["T_DOUBLE_COLON","::",22],["T_STRING","setUp",22],"(",")",";",["T_WHITESPACE","\n\n    ",22],["T_STRING","rdf_get_mapping",24],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",24],",",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'article'",24],")",["T_WHITESPACE","\n      ",24],["T_OBJECT_OPERATOR","->",25],["T_STRING","setBundleMapping",25],"(",["T_ARRAY","array",25],"(",["T_WHITESPACE","\n        ",25],["T_CONSTANT_ENCAPSED_STRING","'types'",26],["T_WHITESPACE"," ",26],["T_DOUBLE_ARROW","=>",26],["T_WHITESPACE"," ",26],["T_ARRAY","array",26],"(",["T_CONSTANT_ENCAPSED_STRING","'sioc:Item'",26],",",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'foaf:Document'",26],")",",",["T_WHITESPACE","\n      ",26],")",")",["T_WHITESPACE","\n      ",27],["T_OBJECT_OPERATOR","->",28],["T_STRING","setFieldMapping",28],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",28],",",["T_WHITESPACE"," ",28],["T_ARRAY","array",28],"(",["T_WHITESPACE","\n        ",28],["T_CONSTANT_ENCAPSED_STRING","'properties'",29],["T_WHITESPACE"," ",29],["T_DOUBLE_ARROW","=>",29],["T_WHITESPACE"," ",29],["T_ARRAY","array",29],"(",["T_CONSTANT_ENCAPSED_STRING","'dc:title'",29],")",",",["T_WHITESPACE","\n      ",29],")",")",["T_WHITESPACE","\n      ",30],["T_OBJECT_OPERATOR","->",31],["T_STRING","setFieldMapping",31],"(",["T_CONSTANT_ENCAPSED_STRING","'created'",31],",",["T_WHITESPACE"," ",31],["T_ARRAY","array",31],"(",["T_WHITESPACE","\n        ",31],["T_CONSTANT_ENCAPSED_STRING","'properties'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_ARRAY","array",32],"(",["T_CONSTANT_ENCAPSED_STRING","'dc:date'",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'dc:created'",32],")",",",["T_WHITESPACE","\n        ",32],["T_CONSTANT_ENCAPSED_STRING","'datatype'",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'xsd:dateTime'",33],",",["T_WHITESPACE","\n        ",33],["T_CONSTANT_ENCAPSED_STRING","'datatype_callback'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",["T_CONSTANT_ENCAPSED_STRING","'callable'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\rdf\\CommonDataConverter::dateIso8601Value'",34],")",",",["T_WHITESPACE","\n      ",34],")",")",["T_WHITESPACE","\n      ",35],["T_OBJECT_OPERATOR","->",36],["T_STRING","save",36],"(",")",";",["T_WHITESPACE","\n  ",36],"}",["T_WHITESPACE","\n\n  ",37],["T_DOC_COMMENT","\/**\n   * Creates a node of type article and tests its RDFa markup.\n   *\/",39],["T_WHITESPACE","\n  ",41],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","testNodeAttributes",42],"(",")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n    ",42],["T_COMMENT","\/\/ Create node with single quotation mark title to ensure it does not get\n",43],["T_WHITESPACE","    ",44],["T_COMMENT","\/\/ escaped more than once.\n",44],["T_WHITESPACE","    ",45],["T_VARIABLE","$node",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","drupalCreateNode",45],"(",["T_ARRAY","array",45],"(",["T_WHITESPACE","\n      ",45],["T_CONSTANT_ENCAPSED_STRING","'type'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'article'",46],",",["T_WHITESPACE","\n      ",46],["T_CONSTANT_ENCAPSED_STRING","'title'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","randomMachineName",47],"(",["T_LNUMBER","8",47],")",["T_WHITESPACE"," ",47],".",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","\"'\"",47],",",["T_WHITESPACE","\n    ",47],")",")",";",["T_WHITESPACE","\n\n    ",48],["T_VARIABLE","$node_uri",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$node",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","url",50],"(",["T_CONSTANT_ENCAPSED_STRING","'canonical'",50],",",["T_WHITESPACE"," ",50],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_STRING","TRUE",50],"]",")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$base_uri",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Drupal",51],["T_DOUBLE_COLON","::",51],["T_STRING","url",51],"(",["T_CONSTANT_ENCAPSED_STRING","'<front>'",51],",",["T_WHITESPACE"," ",51],"[","]",",",["T_WHITESPACE"," ",51],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_STRING","TRUE",51],"]",")",";",["T_WHITESPACE","\n\n    ",51],["T_COMMENT","\/\/ Parses front page where the node is displayed in its teaser form.\n",53],["T_WHITESPACE","    ",54],["T_VARIABLE","$parser",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_NEW","new",54],["T_WHITESPACE"," ",54],["T_NS_SEPARATOR","\\",54],["T_STRING","EasyRdf_Parser_Rdfa",54],"(",")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$graph",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_NEW","new",55],["T_WHITESPACE"," ",55],["T_NS_SEPARATOR","\\",55],["T_STRING","EasyRdf_Graph",55],"(",")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$parser",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","parse",56],"(",["T_VARIABLE","$graph",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","drupalGet",56],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",56],["T_WHITESPACE"," ",56],".",["T_WHITESPACE"," ",56],["T_VARIABLE","$node",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","id",56],"(",")",")",",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'rdfa'",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$base_uri",56],")",";",["T_WHITESPACE","\n\n    ",56],["T_COMMENT","\/\/ Inspects RDF graph output.\n",58],["T_WHITESPACE","    ",59],["T_COMMENT","\/\/ Node type.\n",59],["T_WHITESPACE","    ",60],["T_VARIABLE","$expected_value",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_ARRAY","array",60],"(",["T_WHITESPACE","\n      ",60],["T_CONSTANT_ENCAPSED_STRING","'type'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'uri'",61],",",["T_WHITESPACE","\n      ",61],["T_CONSTANT_ENCAPSED_STRING","'value'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/rdfs.org\/sioc\/ns#Item'",62],",",["T_WHITESPACE","\n    ",62],")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","assertTrue",64],"(",["T_VARIABLE","$graph",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","hasProperty",64],"(",["T_VARIABLE","$node_uri",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns#type'",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$expected_value",64],")",",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'Node type found in RDF output (sioc:Item).'",64],")",";",["T_WHITESPACE","\n    ",64],["T_COMMENT","\/\/ Node type.\n",65],["T_WHITESPACE","    ",66],["T_VARIABLE","$expected_value",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_ARRAY","array",66],"(",["T_WHITESPACE","\n      ",66],["T_CONSTANT_ENCAPSED_STRING","'type'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'uri'",67],",",["T_WHITESPACE","\n      ",67],["T_CONSTANT_ENCAPSED_STRING","'value'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/xmlns.com\/foaf\/0.1\/Document'",68],",",["T_WHITESPACE","\n    ",68],")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertTrue",70],"(",["T_VARIABLE","$graph",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","hasProperty",70],"(",["T_VARIABLE","$node_uri",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns#type'",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$expected_value",70],")",",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'Node type found in RDF output (foaf:Document).'",70],")",";",["T_WHITESPACE","\n    ",70],["T_COMMENT","\/\/ Node title.\n",71],["T_WHITESPACE","    ",72],["T_VARIABLE","$expected_value",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_ARRAY","array",72],"(",["T_WHITESPACE","\n      ",72],["T_CONSTANT_ENCAPSED_STRING","'type'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'literal'",73],",",["T_WHITESPACE","\n      ",73],["T_CONSTANT_ENCAPSED_STRING","'value'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$node",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getTitle",74],"(",")",",",["T_WHITESPACE","\n      ",74],["T_CONSTANT_ENCAPSED_STRING","'lang'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'en'",75],",",["T_WHITESPACE","\n    ",75],")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assertTrue",77],"(",["T_VARIABLE","$graph",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","hasProperty",77],"(",["T_VARIABLE","$node_uri",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/purl.org\/dc\/terms\/title'",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$expected_value",77],")",",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'Node title found in RDF output (dc:title).'",77],")",";",["T_WHITESPACE","\n    ",77],["T_COMMENT","\/\/ Node date (date format must be UTC).\n",78],["T_WHITESPACE","    ",79],["T_VARIABLE","$expected_value",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_ARRAY","array",79],"(",["T_WHITESPACE","\n      ",79],["T_CONSTANT_ENCAPSED_STRING","'type'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'literal'",80],",",["T_WHITESPACE","\n      ",80],["T_CONSTANT_ENCAPSED_STRING","'value'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Drupal",81],["T_DOUBLE_COLON","::",81],["T_STRING","service",81],"(",["T_CONSTANT_ENCAPSED_STRING","'date.formatter'",81],")",["T_OBJECT_OPERATOR","->",81],["T_STRING","format",81],"(",["T_VARIABLE","$node",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getCreatedTime",81],"(",")",",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'custom'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'c'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'UTC'",81],")",",",["T_WHITESPACE","\n      ",81],["T_CONSTANT_ENCAPSED_STRING","'datatype'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.w3.org\/2001\/XMLSchema#dateTime'",82],",",["T_WHITESPACE","\n    ",82],")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertTrue",84],"(",["T_VARIABLE","$graph",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","hasProperty",84],"(",["T_VARIABLE","$node_uri",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/purl.org\/dc\/terms\/date'",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$expected_value",84],")",",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'Node date found in RDF output (dc:date).'",84],")",";",["T_WHITESPACE","\n    ",84],["T_COMMENT","\/\/ Node date (date format must be UTC).\n",85],["T_WHITESPACE","    ",86],["T_VARIABLE","$expected_value",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_ARRAY","array",86],"(",["T_WHITESPACE","\n      ",86],["T_CONSTANT_ENCAPSED_STRING","'type'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'literal'",87],",",["T_WHITESPACE","\n      ",87],["T_CONSTANT_ENCAPSED_STRING","'value'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Drupal",88],["T_DOUBLE_COLON","::",88],["T_STRING","service",88],"(",["T_CONSTANT_ENCAPSED_STRING","'date.formatter'",88],")",["T_OBJECT_OPERATOR","->",88],["T_STRING","format",88],"(",["T_VARIABLE","$node",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getCreatedTime",88],"(",")",",",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'custom'",88],",",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'c'",88],",",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'UTC'",88],")",",",["T_WHITESPACE","\n      ",88],["T_CONSTANT_ENCAPSED_STRING","'datatype'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.w3.org\/2001\/XMLSchema#dateTime'",89],",",["T_WHITESPACE","\n    ",89],")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","assertTrue",91],"(",["T_VARIABLE","$graph",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","hasProperty",91],"(",["T_VARIABLE","$node_uri",91],",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/purl.org\/dc\/terms\/created'",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$expected_value",91],")",",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'Node date found in RDF output (dc:created).'",91],")",";",["T_WHITESPACE","\n  ",91],"}",["T_WHITESPACE","\n\n",92],"}",["T_WHITESPACE","\n",94]]