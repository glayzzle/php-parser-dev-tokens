[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","rdf",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","image",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ImageStyle",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","image",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Tests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ImageFieldTestBase",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","node",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Node",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","file",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","File",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Tests the RDFa markup of imagefields.\n *\n * @group rdf\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","ImageFieldAttributesTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","ImageFieldTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_STATIC","static",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$modules",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_ARRAY","array",22],"(",["T_CONSTANT_ENCAPSED_STRING","'rdf'",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'image'",22],")",";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * The name of the image field used in the test.\n   *\n   * @var string\n   *\/",24],["T_WHITESPACE","\n  ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$fieldName",29],";",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * The file object used in the test.\n   *\n   * @var \\Drupal\\file\\FileInterface\n   *\/",31],["T_WHITESPACE","\n  ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$file",36],";",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * The node object used in the test.\n   *\n   * @var \\Drupal\\node\\NodeInterface\n   *\/",38],["T_WHITESPACE","\n  ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$node",43],";",["T_WHITESPACE","\n\n  ",43],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","setUp",45],"(",")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n    ",45],["T_STRING","parent",46],["T_DOUBLE_COLON","::",46],["T_STRING","setUp",46],"(",")",";",["T_WHITESPACE","\n\n    ",46],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","fieldName",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'field_image'",48],";",["T_WHITESPACE","\n\n    ",48],["T_COMMENT","\/\/ Create the image field.\n",50],["T_WHITESPACE","    ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","createImageField",51],"(",["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","fieldName",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'article'",51],")",";",["T_WHITESPACE","\n\n    ",51],["T_COMMENT","\/\/ Set the RDF mapping for the new field.\n",53],["T_WHITESPACE","    ",54],["T_STRING","rdf_get_mapping",54],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",54],",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'article'",54],")",["T_WHITESPACE","\n      ",54],["T_OBJECT_OPERATOR","->",55],["T_STRING","setFieldMapping",55],"(",["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","fieldName",55],",",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",["T_WHITESPACE","\n        ",55],["T_CONSTANT_ENCAPSED_STRING","'properties'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_ARRAY","array",56],"(",["T_CONSTANT_ENCAPSED_STRING","'og:image'",56],")",",",["T_WHITESPACE","\n        ",56],["T_CONSTANT_ENCAPSED_STRING","'mapping_type'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'rel'",57],",",["T_WHITESPACE","\n      ",57],")",")",["T_WHITESPACE","\n      ",58],["T_OBJECT_OPERATOR","->",59],["T_STRING","setBundleMapping",59],"(",["T_ARRAY","array",59],"(",["T_CONSTANT_ENCAPSED_STRING","'types'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_ARRAY","array",59],"(",")",")",")",["T_WHITESPACE","\n      ",59],["T_OBJECT_OPERATOR","->",60],["T_STRING","save",60],"(",")",";",["T_WHITESPACE","\n\n    ",60],["T_COMMENT","\/\/ Get the test image that simpletest provides.\n",62],["T_WHITESPACE","    ",63],["T_VARIABLE","$image",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_STRING","current",63],"(",["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","drupalGetTestFiles",63],"(",["T_CONSTANT_ENCAPSED_STRING","'image'",63],")",")",";",["T_WHITESPACE","\n\n    ",63],["T_COMMENT","\/\/ Save a node with the image.\n",65],["T_WHITESPACE","    ",66],["T_VARIABLE","$nid",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","uploadNodeImage",66],"(",["T_VARIABLE","$image",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","fieldName",66],",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'article'",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","randomMachineName",66],"(",")",")",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","node",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","Node",67],["T_DOUBLE_COLON","::",67],["T_STRING","load",67],"(",["T_VARIABLE","$nid",67],")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","file",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","File",68],["T_DOUBLE_COLON","::",68],["T_STRING","load",68],"(",["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","node",68],["T_OBJECT_OPERATOR","->",68],"{",["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","fieldName",68],"}",["T_OBJECT_OPERATOR","->",68],["T_STRING","target_id",68],")",";",["T_WHITESPACE","\n  ",68],"}",["T_WHITESPACE","\n\n  ",69],["T_DOC_COMMENT","\/**\n   * Tests that image fields in teasers have correct resources.\n   *\/",71],["T_WHITESPACE","\n  ",73],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","testNodeTeaser",74],"(",")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n    ",74],["T_COMMENT","\/\/ Set the display options for the teaser.\n",75],["T_WHITESPACE","    ",76],["T_VARIABLE","$display_options",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_ARRAY","array",76],"(",["T_WHITESPACE","\n      ",76],["T_CONSTANT_ENCAPSED_STRING","'type'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'image'",77],",",["T_WHITESPACE","\n      ",77],["T_CONSTANT_ENCAPSED_STRING","'settings'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_ARRAY","array",78],"(",["T_CONSTANT_ENCAPSED_STRING","'image_style'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'medium'",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'image_link'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'content'",78],")",",",["T_WHITESPACE","\n    ",78],")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$display",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","entity_get_display",80],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'article'",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'teaser'",80],")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$display",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","setComponent",81],"(",["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","fieldName",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$display_options",81],")",["T_WHITESPACE","\n      ",81],["T_OBJECT_OPERATOR","->",82],["T_STRING","save",82],"(",")",";",["T_WHITESPACE","\n\n    ",82],["T_COMMENT","\/\/ Render the teaser.\n",84],["T_WHITESPACE","    ",85],["T_VARIABLE","$node_render_array",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","node_view",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","node",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'teaser'",85],")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$html",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Drupal",86],["T_DOUBLE_COLON","::",86],["T_STRING","service",86],"(",["T_CONSTANT_ENCAPSED_STRING","'renderer'",86],")",["T_OBJECT_OPERATOR","->",86],["T_STRING","renderRoot",86],"(",["T_VARIABLE","$node_render_array",86],")",";",["T_WHITESPACE","\n\n    ",86],["T_COMMENT","\/\/ Parse the teaser.\n",88],["T_WHITESPACE","    ",89],["T_VARIABLE","$parser",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_NEW","new",89],["T_WHITESPACE"," ",89],["T_NS_SEPARATOR","\\",89],["T_STRING","EasyRdf_Parser_Rdfa",89],"(",")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$graph",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_NEW","new",90],["T_WHITESPACE"," ",90],["T_NS_SEPARATOR","\\",90],["T_STRING","EasyRdf_Graph",90],"(",")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$base_uri",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Drupal",91],["T_DOUBLE_COLON","::",91],["T_STRING","url",91],"(",["T_CONSTANT_ENCAPSED_STRING","'<front>'",91],",",["T_WHITESPACE"," ",91],"[","]",",",["T_WHITESPACE"," ",91],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_STRING","TRUE",91],"]",")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$parser",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","parse",92],"(",["T_VARIABLE","$graph",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$html",92],",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'rdfa'",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$base_uri",92],")",";",["T_WHITESPACE","\n\n    ",92],["T_COMMENT","\/\/ Construct the node and image URIs for testing.\n",94],["T_WHITESPACE","    ",95],["T_VARIABLE","$node_uri",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","node",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","url",95],"(",["T_CONSTANT_ENCAPSED_STRING","'canonical'",95],",",["T_WHITESPACE"," ",95],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_STRING","TRUE",95],"]",")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$image_uri",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_STRING","ImageStyle",96],["T_DOUBLE_COLON","::",96],["T_STRING","load",96],"(",["T_CONSTANT_ENCAPSED_STRING","'medium'",96],")",["T_OBJECT_OPERATOR","->",96],["T_STRING","buildUrl",96],"(",["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","file",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getFileUri",96],"(",")",")",";",["T_WHITESPACE","\n\n    ",96],["T_COMMENT","\/\/ Test relations from node to image.\n",98],["T_WHITESPACE","    ",99],["T_VARIABLE","$expected_value",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",["T_WHITESPACE","\n      ",99],["T_CONSTANT_ENCAPSED_STRING","'type'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'uri'",100],",",["T_WHITESPACE","\n      ",100],["T_CONSTANT_ENCAPSED_STRING","'value'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$image_uri",101],",",["T_WHITESPACE","\n    ",101],")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","assertTrue",103],"(",["T_VARIABLE","$graph",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","hasProperty",103],"(",["T_VARIABLE","$node_uri",103],",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/ogp.me\/ns#image'",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$expected_value",103],")",",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'Node to file relation found in RDF output (og:image).'",103],")",";",["T_WHITESPACE","\n\n    ",103],["T_COMMENT","\/\/ Test image type.\n",105],["T_WHITESPACE","    ",106],["T_VARIABLE","$expected_value",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_ARRAY","array",106],"(",["T_WHITESPACE","\n      ",106],["T_CONSTANT_ENCAPSED_STRING","'type'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'uri'",107],",",["T_WHITESPACE","\n      ",107],["T_CONSTANT_ENCAPSED_STRING","'value'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/xmlns.com\/foaf\/0.1\/Image'",108],",",["T_WHITESPACE","\n    ",108],")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertTrue",110],"(",["T_VARIABLE","$graph",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","hasProperty",110],"(",["T_VARIABLE","$image_uri",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.w3.org\/1999\/02\/22-rdf-syntax-ns#type'",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$expected_value",110],")",",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'Image type found in RDF output (foaf:Image).'",110],")",";",["T_WHITESPACE","\n  ",110],"}",["T_WHITESPACE","\n\n",111],"}",["T_WHITESPACE","\n",113]]