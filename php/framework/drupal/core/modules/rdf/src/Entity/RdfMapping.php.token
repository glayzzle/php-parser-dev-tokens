[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","rdf",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Entity",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Config",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ConfigEntityBase",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","EntityStorageInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","rdf",7],["T_NS_SEPARATOR","\\",7],["T_STRING","RdfMappingInterface",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Config entity for working with RDF mappings.\n *\n * @ConfigEntityType(\n *   id = \"rdf_mapping\",\n *   label = @Translation(\"RDF mapping\"),\n *   config_prefix = \"mapping\",\n *   entity_keys = {\n *     \"id\" = \"id\"\n *   },\n *   config_export = {\n *     \"id\",\n *     \"targetEntityType\",\n *     \"bundle\",\n *     \"types\",\n *     \"fieldMappings\",\n *   }\n * )\n *\/",9],["T_WHITESPACE","\n",27],["T_CLASS","class",28],["T_WHITESPACE"," ",28],["T_STRING","RdfMapping",28],["T_WHITESPACE"," ",28],["T_EXTENDS","extends",28],["T_WHITESPACE"," ",28],["T_STRING","ConfigEntityBase",28],["T_WHITESPACE"," ",28],["T_IMPLEMENTS","implements",28],["T_WHITESPACE"," ",28],["T_STRING","RdfMappingInterface",28],["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n\n  ",28],["T_DOC_COMMENT","\/**\n   * Unique ID for the config entity.\n   *\n   * @var string\n   *\/",30],["T_WHITESPACE","\n  ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$id",35],";",["T_WHITESPACE","\n\n  ",35],["T_DOC_COMMENT","\/**\n   * Entity type to be mapped.\n   *\n   * @var string\n   *\/",37],["T_WHITESPACE","\n  ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$targetEntityType",42],";",["T_WHITESPACE","\n\n  ",42],["T_DOC_COMMENT","\/**\n   * Bundle to be mapped.\n   *\n   * @var string\n   *\/",44],["T_WHITESPACE","\n  ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$bundle",49],";",["T_WHITESPACE","\n\n  ",49],["T_DOC_COMMENT","\/**\n   * The RDF type mapping for this bundle.\n   *\n   * @var array\n   *\/",51],["T_WHITESPACE","\n  ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$types",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_ARRAY","array",56],"(",")",";",["T_WHITESPACE","\n\n  ",56],["T_DOC_COMMENT","\/**\n   * The mappings for fields on this bundle.\n   *\n   * @var array\n   *\/",58],["T_WHITESPACE","\n  ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$fieldMappings",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_ARRAY","array",63],"(",")",";",["T_WHITESPACE","\n\n  ",63],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",65],["T_WHITESPACE","\n  ",67],["T_PUBLIC","public",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","getPreparedBundleMapping",68],"(",")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n    ",68],["T_RETURN","return",69],["T_WHITESPACE"," ",69],["T_ARRAY","array",69],"(",["T_CONSTANT_ENCAPSED_STRING","'types'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","types",69],")",";",["T_WHITESPACE","\n  ",69],"}",["T_WHITESPACE","\n\n  ",70],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",72],["T_WHITESPACE","\n  ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","getBundleMapping",75],"(",")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n    ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(","!",["T_EMPTY","empty",76],"(",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","types",76],")",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n      ",76],["T_RETURN","return",77],["T_WHITESPACE"," ",77],["T_ARRAY","array",77],"(",["T_CONSTANT_ENCAPSED_STRING","'types'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","types",77],")",";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n    ",78],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_ARRAY","array",79],"(",")",";",["T_WHITESPACE","\n  ",79],"}",["T_WHITESPACE","\n\n  ",80],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",82],["T_WHITESPACE","\n  ",84],["T_PUBLIC","public",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","setBundleMapping",85],"(",["T_ARRAY","array",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$mapping",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n    ",85],["T_IF","if",86],["T_WHITESPACE"," ",86],"(",["T_ISSET","isset",86],"(",["T_VARIABLE","$mapping",86],"[",["T_CONSTANT_ENCAPSED_STRING","'types'",86],"]",")",")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n      ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","types",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$mapping",87],"[",["T_CONSTANT_ENCAPSED_STRING","'types'",87],"]",";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_RETURN","return",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],";",["T_WHITESPACE","\n  ",90],"}",["T_WHITESPACE","\n\n  ",91],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",93],["T_WHITESPACE","\n  ",95],["T_PUBLIC","public",96],["T_WHITESPACE"," ",96],["T_FUNCTION","function",96],["T_WHITESPACE"," ",96],["T_STRING","getPreparedFieldMapping",96],"(",["T_VARIABLE","$field_name",96],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$field_mapping",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_ARRAY","array",97],"(",["T_WHITESPACE","\n      ",97],["T_CONSTANT_ENCAPSED_STRING","'properties'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_STRING","NULL",98],",",["T_WHITESPACE","\n      ",98],["T_CONSTANT_ENCAPSED_STRING","'datatype'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_STRING","NULL",99],",",["T_WHITESPACE","\n      ",99],["T_CONSTANT_ENCAPSED_STRING","'datatype_callback'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_STRING","NULL",100],",",["T_WHITESPACE","\n      ",100],["T_CONSTANT_ENCAPSED_STRING","'mapping_type'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_STRING","NULL",101],",",["T_WHITESPACE","\n    ",101],")",";",["T_WHITESPACE","\n    ",102],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_ISSET","isset",103],"(",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","fieldMappings",103],"[",["T_VARIABLE","$field_name",103],"]",")",")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n      ",103],["T_VARIABLE","$field_mapping",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_STRING","array_merge",104],"(",["T_VARIABLE","$field_mapping",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","fieldMappings",104],"[",["T_VARIABLE","$field_name",104],"]",")",";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n    ",105],["T_RETURN","return",106],["T_WHITESPACE"," ",106],["T_EMPTY","empty",106],"(",["T_VARIABLE","$field_mapping",106],"[",["T_CONSTANT_ENCAPSED_STRING","'properties'",106],"]",")",["T_WHITESPACE"," ",106],"?",["T_WHITESPACE"," ",106],["T_ARRAY","array",106],"(",")",["T_WHITESPACE"," ",106],":",["T_WHITESPACE"," ",106],["T_VARIABLE","$field_mapping",106],";",["T_WHITESPACE","\n  ",106],"}",["T_WHITESPACE","\n\n  ",107],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",109],["T_WHITESPACE","\n  ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","getFieldMapping",112],"(",["T_VARIABLE","$field_name",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n    ",112],["T_IF","if",113],["T_WHITESPACE"," ",113],"(",["T_ISSET","isset",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","fieldMappings",113],"[",["T_VARIABLE","$field_name",113],"]",")",")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n      ",113],["T_RETURN","return",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","fieldMappings",114],"[",["T_VARIABLE","$field_name",114],"]",";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n    ",115],["T_RETURN","return",116],["T_WHITESPACE"," ",116],["T_ARRAY","array",116],"(",")",";",["T_WHITESPACE","\n  ",116],"}",["T_WHITESPACE","\n\n  ",117],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",119],["T_WHITESPACE","\n  ",121],["T_PUBLIC","public",122],["T_WHITESPACE"," ",122],["T_FUNCTION","function",122],["T_WHITESPACE"," ",122],["T_STRING","setFieldMapping",122],"(",["T_VARIABLE","$field_name",122],",",["T_WHITESPACE"," ",122],["T_ARRAY","array",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$mapping",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_ARRAY","array",122],"(",")",")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","fieldMappings",123],"[",["T_VARIABLE","$field_name",123],"]",["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$mapping",123],";",["T_WHITESPACE","\n    ",123],["T_RETURN","return",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],";",["T_WHITESPACE","\n  ",124],"}",["T_WHITESPACE","\n\n  ",125],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",127],["T_WHITESPACE","\n  ",129],["T_PUBLIC","public",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","id",130],"(",")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n    ",130],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","targetEntityType",131],["T_WHITESPACE"," ",131],".",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'.'",131],["T_WHITESPACE"," ",131],".",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","bundle",131],";",["T_WHITESPACE","\n  ",131],"}",["T_WHITESPACE","\n\n  ",132],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",134],["T_WHITESPACE","\n  ",136],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","calculateDependencies",137],"(",")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n    ",137],["T_STRING","parent",138],["T_DOUBLE_COLON","::",138],["T_STRING","calculateDependencies",138],"(",")",";",["T_WHITESPACE","\n\n    ",138],["T_COMMENT","\/\/ Create dependency on the bundle.\n",140],["T_WHITESPACE","    ",141],["T_VARIABLE","$entity_type",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Drupal",141],["T_DOUBLE_COLON","::",141],["T_STRING","entityManager",141],"(",")",["T_OBJECT_OPERATOR","->",141],["T_STRING","getDefinition",141],"(",["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","targetEntityType",141],")",";",["T_WHITESPACE","\n    ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","addDependency",142],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$entity_type",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getProvider",142],"(",")",")",";",["T_WHITESPACE","\n    ",142],["T_VARIABLE","$bundle_config_dependency",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$entity_type",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getBundleConfigDependency",143],"(",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","bundle",143],")",";",["T_WHITESPACE","\n    ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","addDependency",144],"(",["T_VARIABLE","$bundle_config_dependency",144],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",144],"]",",",["T_WHITESPACE"," ",144],["T_VARIABLE","$bundle_config_dependency",144],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",144],"]",")",";",["T_WHITESPACE","\n\n    ",144],["T_RETURN","return",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],";",["T_WHITESPACE","\n  ",146],"}",["T_WHITESPACE","\n\n  ",147],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",149],["T_WHITESPACE","\n  ",151],["T_PUBLIC","public",152],["T_WHITESPACE"," ",152],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","postSave",152],"(",["T_STRING","EntityStorageInterface",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$storage",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$update",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_STRING","TRUE",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n    ",152],["T_STRING","parent",153],["T_DOUBLE_COLON","::",153],["T_STRING","postSave",153],"(",["T_VARIABLE","$storage",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$update",153],")",";",["T_WHITESPACE","\n\n    ",153],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_NS_SEPARATOR","\\",155],["T_STRING","Drupal",155],["T_DOUBLE_COLON","::",155],["T_STRING","entityManager",155],"(",")",["T_OBJECT_OPERATOR","->",155],["T_STRING","hasHandler",155],"(",["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","targetEntityType",155],",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'view_builder'",155],")",")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n      ",155],["T_NS_SEPARATOR","\\",156],["T_STRING","Drupal",156],["T_DOUBLE_COLON","::",156],["T_STRING","entityManager",156],"(",")",["T_OBJECT_OPERATOR","->",156],["T_STRING","getViewBuilder",156],"(",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","targetEntityType",156],")",["T_OBJECT_OPERATOR","->",156],["T_STRING","resetCache",156],"(",")",";",["T_WHITESPACE","\n    ",156],"}",["T_WHITESPACE","\n  ",157],"}",["T_WHITESPACE","\n\n",158],"}",["T_WHITESPACE","\n",160]]