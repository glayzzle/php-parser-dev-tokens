[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","rdf",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Field",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","field",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FieldConfig",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Tests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","field",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Kernel",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FieldKernelTestBase",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","field",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FieldStorageConfig",7],";",["T_WHITESPACE","\n\n",7],["T_ABSTRACT","abstract",9],["T_WHITESPACE"," ",9],["T_CLASS","class",9],["T_WHITESPACE"," ",9],["T_STRING","FieldRdfaTestBase",9],["T_WHITESPACE"," ",9],["T_EXTENDS","extends",9],["T_WHITESPACE"," ",9],["T_STRING","FieldKernelTestBase",9],["T_WHITESPACE"," ",9],"{",["T_WHITESPACE","\n\n  ",9],["T_DOC_COMMENT","\/**\n   * The machine name of the field type to test.\n   *\n   * @var string\n   *\/",11],["T_WHITESPACE","\n  ",15],["T_PROTECTED","protected",16],["T_WHITESPACE"," ",16],["T_VARIABLE","$fieldType",16],";",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * The name of the field to create for testing.\n   *\n   * @var string\n   *\/",18],["T_WHITESPACE","\n  ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$fieldName",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'field_test'",23],";",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * The URI to identify the entity.\n   *\n   * @var string\n   *\/",25],["T_WHITESPACE","\n  ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$uri",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/ex.com'",30],";",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * The entity to render for testing.\n   *\n   * @var \\Drupal\\Core\\Entity\\ContentEntityBase\n   *\/",32],["T_WHITESPACE","\n  ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$entity",37],";",["T_WHITESPACE","\n\n  ",37],["T_DOC_COMMENT","\/**\n   * TRUE if verbose debugging is enabled.\n   *\n   * @var bool\n   *\/",39],["T_WHITESPACE","\n  ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$debug",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_STRING","FALSE",44],";",["T_WHITESPACE","\n\n  ",44],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",46],["T_WHITESPACE","\n  ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_STATIC","static",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$modules",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_ARRAY","array",51],"(",["T_CONSTANT_ENCAPSED_STRING","'rdf'",51],")",";",["T_WHITESPACE","\n\n  ",51],["T_DOC_COMMENT","\/**\n   * @var string\n   *\/",53],["T_WHITESPACE","\n  ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$testValue",56],";",["T_WHITESPACE","\n\n  ",56],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",58],["T_WHITESPACE","\n  ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","setUp",61],"(",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n    ",61],["T_STRING","parent",62],["T_DOUBLE_COLON","::",62],["T_STRING","setUp",62],"(",")",";",["T_WHITESPACE","\n\n    ",62],["T_NS_SEPARATOR","\\",64],["T_STRING","Drupal",64],["T_DOUBLE_COLON","::",64],["T_STRING","service",64],"(",["T_CONSTANT_ENCAPSED_STRING","'router.builder'",64],")",["T_OBJECT_OPERATOR","->",64],["T_STRING","rebuild",64],"(",")",";",["T_WHITESPACE","\n  ",64],"}",["T_WHITESPACE","\n\n  ",65],["T_DOC_COMMENT","\/**\n   * Helper function to test the formatter's RDFa.\n   *\n   * @param array $formatter\n   *   An associative array describing the formatter to test and its settings\n   *   containing:\n   *   - type: The machine name of the field formatter to test.\n   *   - settings: The settings of the field formatter to test.\n   * @param string $property\n   *   The property that should be found.\n   * @param array $expected_rdf_value\n   *   An associative array describing the expected value of the property\n   *   containing:\n   *   - value: The actual value of the string or URI.\n   *   - type: The type of RDF value, e.g. 'literal' for a string, or 'uri'.\n   *   Defaults to 'literal'.\n   *   - datatype: (optional) The datatype of the value (e.g. xsd:dateTime).\n   *\/",67],["T_WHITESPACE","\n  ",84],["T_PROTECTED","protected",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","assertFormatterRdfa",85],"(",["T_VARIABLE","$formatter",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$property",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$expected_rdf_value",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$expected_rdf_value",86],["T_WHITESPACE"," ",86],["T_PLUS_EQUAL","+=",86],["T_WHITESPACE"," ",86],["T_ARRAY","array",86],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'literal'",86],")",";",["T_WHITESPACE","\n\n    ",86],["T_COMMENT","\/\/ The field formatter will be rendered inside the entity. Set the field\n",88],["T_WHITESPACE","    ",89],["T_COMMENT","\/\/ formatter in the entity display options before rendering the entity.\n",89],["T_WHITESPACE","    ",90],["T_STRING","entity_get_display",90],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",90],",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",90],",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'default'",90],")",["T_WHITESPACE","\n      ",90],["T_OBJECT_OPERATOR","->",91],["T_STRING","setComponent",91],"(",["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","fieldName",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$formatter",91],")",["T_WHITESPACE","\n      ",91],["T_OBJECT_OPERATOR","->",92],["T_STRING","save",92],"(",")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$build",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","entity_view",93],"(",["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","entity",93],",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'default'",93],")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$output",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Drupal",94],["T_DOUBLE_COLON","::",94],["T_STRING","service",94],"(",["T_CONSTANT_ENCAPSED_STRING","'renderer'",94],")",["T_OBJECT_OPERATOR","->",94],["T_STRING","renderRoot",94],"(",["T_VARIABLE","$build",94],")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$graph",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_NEW","new",95],["T_WHITESPACE"," ",95],["T_NS_SEPARATOR","\\",95],["T_STRING","EasyRdf_Graph",95],"(",["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","uri",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$output",95],",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'rdfa'",95],")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","setRawContent",96],"(",["T_VARIABLE","$output",96],")",";",["T_WHITESPACE","\n\n    ",96],["T_COMMENT","\/\/ If verbose debugging is turned on, display the HTML and parsed RDF\n",98],["T_WHITESPACE","    ",99],["T_COMMENT","\/\/ in the results.\n",99],["T_WHITESPACE","    ",100],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","debug",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n      ",100],["T_STRING","print_r",101],"(",["T_VARIABLE","$output",101],")",";",["T_WHITESPACE","\n      ",101],["T_STRING","print_r",102],"(",["T_VARIABLE","$graph",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","toRdfPhp",102],"(",")",")",";",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertTrue",105],"(",["T_VARIABLE","$graph",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","hasProperty",105],"(",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","uri",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$property",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$expected_rdf_value",105],")",",",["T_WHITESPACE"," ",105],"\"",["T_ENCAPSED_AND_WHITESPACE","Formatter ",105],["T_CURLY_OPEN","{",105],["T_VARIABLE","$formatter",105],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",105],"]","}",["T_ENCAPSED_AND_WHITESPACE"," exposes data correctly for ",105],["T_CURLY_OPEN","{",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","fieldType",105],"}",["T_ENCAPSED_AND_WHITESPACE"," fields.",105],"\"",")",";",["T_WHITESPACE","\n  ",105],"}",["T_WHITESPACE","\n\n  ",106],["T_DOC_COMMENT","\/**\n   * Creates the field for testing.\n   *\n   * @param array $field_settings\n   *   (optional) An array of field settings.\n   *\/",108],["T_WHITESPACE","\n  ",113],["T_PROTECTED","protected",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","createTestField",114],"(",["T_VARIABLE","$field_settings",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_ARRAY","array",114],"(",")",")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n    ",114],["T_STRING","FieldStorageConfig",115],["T_DOUBLE_COLON","::",115],["T_STRING","create",115],"(",["T_ARRAY","array",115],"(",["T_WHITESPACE","\n      ",115],["T_CONSTANT_ENCAPSED_STRING","'field_name'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","fieldName",116],",",["T_WHITESPACE","\n      ",116],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",117],",",["T_WHITESPACE","\n      ",117],["T_CONSTANT_ENCAPSED_STRING","'type'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","fieldType",118],",",["T_WHITESPACE","\n    ",118],")",")",["T_OBJECT_OPERATOR","->",119],["T_STRING","save",119],"(",")",";",["T_WHITESPACE","\n    ",119],["T_STRING","FieldConfig",120],["T_DOUBLE_COLON","::",120],["T_STRING","create",120],"(","[",["T_WHITESPACE","\n      ",120],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",121],",",["T_WHITESPACE","\n      ",121],["T_CONSTANT_ENCAPSED_STRING","'field_name'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","fieldName",122],",",["T_WHITESPACE","\n      ",122],["T_CONSTANT_ENCAPSED_STRING","'bundle'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",123],",",["T_WHITESPACE","\n      ",123],["T_CONSTANT_ENCAPSED_STRING","'settings'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$field_settings",124],",",["T_WHITESPACE","\n    ",124],"]",")",["T_OBJECT_OPERATOR","->",125],["T_STRING","save",125],"(",")",";",["T_WHITESPACE","\n  ",125],"}",["T_WHITESPACE","\n\n  ",126],["T_DOC_COMMENT","\/**\n   * Gets the absolute URI of an entity.\n   *\n   * @param \\Drupal\\Core\\Entity\\ContentEntityBase $entity\n   *   The entity for which to generate the URI.\n   *\n   * @return string\n   *   The absolute URI.\n   *\/",128],["T_WHITESPACE","\n  ",136],["T_PROTECTED","protected",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","getAbsoluteUri",137],"(",["T_VARIABLE","$entity",137],")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n    ",137],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$entity",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","url",138],"(",["T_CONSTANT_ENCAPSED_STRING","'canonical'",138],",",["T_WHITESPACE"," ",138],["T_ARRAY","array",138],"(",["T_CONSTANT_ENCAPSED_STRING","'absolute'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_STRING","TRUE",138],")",")",";",["T_WHITESPACE","\n  ",138],"}",["T_WHITESPACE","\n\n  ",139],["T_DOC_COMMENT","\/**\n   * Parses a content and return the html element.\n   *\n   * @param string $content\n   *   The html to parse.\n   *\n   * @return array\n   *   An array containing simplexml objects.\n   *\/",141],["T_WHITESPACE","\n  ",149],["T_PROTECTED","protected",150],["T_WHITESPACE"," ",150],["T_FUNCTION","function",150],["T_WHITESPACE"," ",150],["T_STRING","parseContent",150],"(",["T_VARIABLE","$content",150],")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n    ",150],["T_VARIABLE","$htmlDom",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_NEW","new",151],["T_WHITESPACE"," ",151],["T_NS_SEPARATOR","\\",151],["T_STRING","DOMDocument",151],"(",")",";",["T_WHITESPACE","\n    ",151],"@",["T_VARIABLE","$htmlDom",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","loadHTML",152],"(",["T_CONSTANT_ENCAPSED_STRING","'<?xml encoding=\"UTF-8\">'",152],["T_WHITESPACE"," ",152],".",["T_WHITESPACE"," ",152],["T_VARIABLE","$content",152],")",";",["T_WHITESPACE","\n    ",152],["T_VARIABLE","$elements",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_STRING","simplexml_import_dom",153],"(",["T_VARIABLE","$htmlDom",153],")",";",["T_WHITESPACE","\n\n    ",153],["T_RETURN","return",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$elements",155],";",["T_WHITESPACE","\n  ",155],"}",["T_WHITESPACE","\n\n  ",156],["T_DOC_COMMENT","\/**\n   * Performs an xpath search on a certain content.\n   *\n   * The search is relative to the root element of the $content variable.\n   *\n   * @param string $content\n   *   The html to parse.\n   * @param string $xpath\n   *   The xpath string to use in the search.\n   * @param array $arguments\n   *   Some arguments for the xpath.\n   *\n   * @return array|false\n   *   The return value of the xpath search. For details on the xpath string\n   *   format and return values see the SimpleXML documentation,\n   *   http:\/\/php.net\/manual\/function.simplexml-element-xpath.php.\n   *\/",158],["T_WHITESPACE","\n  ",174],["T_PROTECTED","protected",175],["T_WHITESPACE"," ",175],["T_FUNCTION","function",175],["T_WHITESPACE"," ",175],["T_STRING","xpathContent",175],"(",["T_VARIABLE","$content",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$xpath",175],",",["T_WHITESPACE"," ",175],["T_ARRAY","array",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$arguments",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_ARRAY","array",175],"(",")",")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n    ",175],["T_IF","if",176],["T_WHITESPACE"," ",176],"(",["T_VARIABLE","$elements",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","parseContent",176],"(",["T_VARIABLE","$content",176],")",")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n      ",176],["T_VARIABLE","$xpath",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","buildXPathQuery",177],"(",["T_VARIABLE","$xpath",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$arguments",177],")",";",["T_WHITESPACE","\n      ",177],["T_VARIABLE","$result",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$elements",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","xpath",178],"(",["T_VARIABLE","$xpath",178],")",";",["T_WHITESPACE","\n      ",178],["T_COMMENT","\/\/ Some combinations of PHP \/ libxml versions return an empty array\n",179],["T_WHITESPACE","      ",180],["T_COMMENT","\/\/ instead of the documented FALSE. Forcefully convert any falsish values\n",180],["T_WHITESPACE","      ",181],["T_COMMENT","\/\/ to an empty array to allow foreach(...) constructions.\n",181],["T_WHITESPACE","      ",182],["T_RETURN","return",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$result",182],["T_WHITESPACE"," ",182],"?",["T_WHITESPACE"," ",182],["T_VARIABLE","$result",182],["T_WHITESPACE"," ",182],":",["T_WHITESPACE"," ",182],["T_ARRAY","array",182],"(",")",";",["T_WHITESPACE","\n    ",182],"}",["T_WHITESPACE","\n    ",183],["T_ELSE","else",184],["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n      ",184],["T_RETURN","return",185],["T_WHITESPACE"," ",185],["T_STRING","FALSE",185],";",["T_WHITESPACE","\n    ",185],"}",["T_WHITESPACE","\n  ",186],"}",["T_WHITESPACE","\n\n",187],"}",["T_WHITESPACE","\n",189]]