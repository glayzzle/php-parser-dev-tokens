[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","toolbar",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Language",5],["T_NS_SEPARATOR","\\",5],["T_STRING","LanguageInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Url",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","language",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","ConfigurableLanguage",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","simpletest",8],["T_NS_SEPARATOR","\\",8],["T_STRING","WebTestBase",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","user",9],["T_NS_SEPARATOR","\\",9],["T_STRING","RoleInterface",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Tests the caching of the admin menu subtree items.\n *\n * The cache of the admin menu subtree items will be invalidated if the\n * following hooks are invoked.\n *\n * toolbar_modules_enabled()\n * toolbar_modules_disabled()\n * toolbar_menu_link_update()\n * toolbar_user_update()\n * toolbar_user_role_update()\n *\n * Each hook invocation is simulated and then the previous hash of the admin\n * menu subtrees is compared to the new hash.\n *\n * @group toolbar\n *\/",11],["T_WHITESPACE","\n",27],["T_CLASS","class",28],["T_WHITESPACE"," ",28],["T_STRING","ToolbarAdminMenuTest",28],["T_WHITESPACE"," ",28],["T_EXTENDS","extends",28],["T_WHITESPACE"," ",28],["T_STRING","WebTestBase",28],["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n\n  ",28],["T_DOC_COMMENT","\/**\n   * A user with permission to access the administrative toolbar.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",30],["T_WHITESPACE","\n  ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$adminUser",35],";",["T_WHITESPACE","\n\n  ",35],["T_DOC_COMMENT","\/**\n   * A second user with permission to access the administrative toolbar.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",37],["T_WHITESPACE","\n  ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$adminUser2",42],";",["T_WHITESPACE","\n\n  ",42],["T_DOC_COMMENT","\/**\n   * The current admin menu subtrees hash for adminUser.\n   *\n   * @var string\n   *\/",44],["T_WHITESPACE","\n  ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$hash",49],";",["T_WHITESPACE","\n\n  ",49],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",51],["T_WHITESPACE","\n  ",55],["T_PUBLIC","public",56],["T_WHITESPACE"," ",56],["T_STATIC","static",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$modules",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_ARRAY","array",56],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'block'",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'menu_ui'",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'user'",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'taxonomy'",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'toolbar'",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'language'",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'test_page_test'",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'locale'",56],")",";",["T_WHITESPACE","\n\n  ",56],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","setUp",58],"(",")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n    ",58],["T_STRING","parent",59],["T_DOUBLE_COLON","::",59],["T_STRING","setUp",59],"(",")",";",["T_WHITESPACE","\n\n    ",59],["T_VARIABLE","$perms",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",["T_WHITESPACE","\n      ",61],["T_CONSTANT_ENCAPSED_STRING","'access toolbar'",62],",",["T_WHITESPACE","\n      ",62],["T_CONSTANT_ENCAPSED_STRING","'access administration pages'",63],",",["T_WHITESPACE","\n      ",63],["T_CONSTANT_ENCAPSED_STRING","'administer site configuration'",64],",",["T_WHITESPACE","\n      ",64],["T_CONSTANT_ENCAPSED_STRING","'bypass node access'",65],",",["T_WHITESPACE","\n      ",65],["T_CONSTANT_ENCAPSED_STRING","'administer themes'",66],",",["T_WHITESPACE","\n      ",66],["T_CONSTANT_ENCAPSED_STRING","'administer nodes'",67],",",["T_WHITESPACE","\n      ",67],["T_CONSTANT_ENCAPSED_STRING","'access content overview'",68],",",["T_WHITESPACE","\n      ",68],["T_CONSTANT_ENCAPSED_STRING","'administer blocks'",69],",",["T_WHITESPACE","\n      ",69],["T_CONSTANT_ENCAPSED_STRING","'administer menu'",70],",",["T_WHITESPACE","\n      ",70],["T_CONSTANT_ENCAPSED_STRING","'administer modules'",71],",",["T_WHITESPACE","\n      ",71],["T_CONSTANT_ENCAPSED_STRING","'administer permissions'",72],",",["T_WHITESPACE","\n      ",72],["T_CONSTANT_ENCAPSED_STRING","'administer users'",73],",",["T_WHITESPACE","\n      ",73],["T_CONSTANT_ENCAPSED_STRING","'access user profiles'",74],",",["T_WHITESPACE","\n      ",74],["T_CONSTANT_ENCAPSED_STRING","'administer taxonomy'",75],",",["T_WHITESPACE","\n      ",75],["T_CONSTANT_ENCAPSED_STRING","'administer languages'",76],",",["T_WHITESPACE","\n      ",76],["T_CONSTANT_ENCAPSED_STRING","'translate interface'",77],",",["T_WHITESPACE","\n    ",77],")",";",["T_WHITESPACE","\n\n    ",78],["T_COMMENT","\/\/ Create an administrative user and log it in.\n",80],["T_WHITESPACE","    ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","adminUser",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","drupalCreateUser",81],"(",["T_VARIABLE","$perms",81],")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","adminUser2",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","drupalCreateUser",82],"(",["T_VARIABLE","$perms",82],")",";",["T_WHITESPACE","\n\n    ",82],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","drupalLogin",84],"(",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","adminUser",84],")",";",["T_WHITESPACE","\n\n    ",84],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","drupalGet",86],"(",["T_CONSTANT_ENCAPSED_STRING","'test-page'",86],")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertResponse",87],"(",["T_LNUMBER","200",87],")",";",["T_WHITESPACE","\n\n    ",87],["T_COMMENT","\/\/ Assert that the toolbar is present in the HTML.\n",89],["T_WHITESPACE","    ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertRaw",90],"(",["T_CONSTANT_ENCAPSED_STRING","'id=\"toolbar-administration\"'",90],")",";",["T_WHITESPACE","\n\n    ",90],["T_COMMENT","\/\/ Store the adminUser admin menu subtrees hash for comparison later.\n",92],["T_WHITESPACE","    ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","hash",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getSubtreesHash",93],"(",")",";",["T_WHITESPACE","\n  ",93],"}",["T_WHITESPACE","\n\n  ",94],["T_DOC_COMMENT","\/**\n   * Tests the toolbar_modules_installed() and toolbar_modules_uninstalled() hook\n   * implementations.\n   *\/",96],["T_WHITESPACE","\n  ",99],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","testModuleStatusChangeSubtreesHashCacheClear",100],"(",")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n    ",100],["T_COMMENT","\/\/ Uninstall a module.\n",101],["T_WHITESPACE","    ",102],["T_VARIABLE","$edit",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_ARRAY","array",102],"(",")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$edit",103],"[",["T_CONSTANT_ENCAPSED_STRING","'uninstall[taxonomy]'",103],"]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","TRUE",103],";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","drupalPostForm",104],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/modules\/uninstall'",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$edit",104],",",["T_WHITESPACE"," ",104],["T_STRING","t",104],"(",["T_CONSTANT_ENCAPSED_STRING","'Uninstall'",104],")",")",";",["T_WHITESPACE","\n    ",104],["T_COMMENT","\/\/ Confirm the uninstall form.\n",105],["T_WHITESPACE","    ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","drupalPostForm",106],"(",["T_STRING","NULL",106],",",["T_WHITESPACE"," ",106],["T_ARRAY","array",106],"(",")",",",["T_WHITESPACE"," ",106],["T_STRING","t",106],"(",["T_CONSTANT_ENCAPSED_STRING","'Uninstall'",106],")",")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","rebuildContainer",107],"(",")",";",["T_WHITESPACE","\n\n    ",107],["T_COMMENT","\/\/ Assert that the subtrees hash has been altered because the subtrees\n",109],["T_WHITESPACE","    ",110],["T_COMMENT","\/\/ structure changed.\n",110],["T_WHITESPACE","    ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertDifferentHash",111],"(",")",";",["T_WHITESPACE","\n\n    ",111],["T_COMMENT","\/\/ Enable a module.\n",113],["T_WHITESPACE","    ",114],["T_VARIABLE","$edit",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_ARRAY","array",114],"(",")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$edit",115],"[",["T_CONSTANT_ENCAPSED_STRING","'modules[Core][taxonomy][enable]'",115],"]",["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_STRING","TRUE",115],";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","drupalPostForm",116],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/modules'",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$edit",116],",",["T_WHITESPACE"," ",116],["T_STRING","t",116],"(",["T_CONSTANT_ENCAPSED_STRING","'Install'",116],")",")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","rebuildContainer",117],"(",")",";",["T_WHITESPACE","\n\n    ",117],["T_COMMENT","\/\/ Assert that the subtrees hash has been altered because the subtrees\n",119],["T_WHITESPACE","    ",120],["T_COMMENT","\/\/ structure changed.\n",120],["T_WHITESPACE","    ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","assertDifferentHash",121],"(",")",";",["T_WHITESPACE","\n  ",121],"}",["T_WHITESPACE","\n\n  ",122],["T_DOC_COMMENT","\/**\n   * Tests toolbar cache tags implementation.\n   *\/",124],["T_WHITESPACE","\n  ",126],["T_FUNCTION","function",127],["T_WHITESPACE"," ",127],["T_STRING","testMenuLinkUpdateSubtreesHashCacheClear",127],"(",")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n    ",127],["T_COMMENT","\/\/ The ID of a (any) admin menu link.\n",128],["T_WHITESPACE","    ",129],["T_VARIABLE","$admin_menu_link_id",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'system.admin_config_development'",129],";",["T_WHITESPACE","\n\n    ",129],["T_COMMENT","\/\/ Disable the link.\n",131],["T_WHITESPACE","    ",132],["T_VARIABLE","$edit",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_ARRAY","array",132],"(",")",";",["T_WHITESPACE","\n    ",132],["T_VARIABLE","$edit",133],"[",["T_CONSTANT_ENCAPSED_STRING","'enabled'",133],"]",["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_STRING","FALSE",133],";",["T_WHITESPACE","\n    ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","drupalPostForm",134],"(",["T_CONSTANT_ENCAPSED_STRING","\"admin\/structure\/menu\/link\/\"",134],["T_WHITESPACE"," ",134],".",["T_WHITESPACE"," ",134],["T_VARIABLE","$admin_menu_link_id",134],["T_WHITESPACE"," ",134],".",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","\"\/edit\"",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$edit",134],",",["T_WHITESPACE"," ",134],["T_STRING","t",134],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",134],")",")",";",["T_WHITESPACE","\n    ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","assertResponse",135],"(",["T_LNUMBER","200",135],")",";",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","assertText",136],"(",["T_CONSTANT_ENCAPSED_STRING","'The menu link has been saved.'",136],")",";",["T_WHITESPACE","\n\n    ",136],["T_COMMENT","\/\/ Assert that the subtrees hash has been altered because the subtrees\n",138],["T_WHITESPACE","    ",139],["T_COMMENT","\/\/ structure changed.\n",139],["T_WHITESPACE","    ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","assertDifferentHash",140],"(",")",";",["T_WHITESPACE","\n  ",140],"}",["T_WHITESPACE","\n\n  ",141],["T_DOC_COMMENT","\/**\n   * Exercises the toolbar_user_role_update() and toolbar_user_update() hook\n   * implementations.\n   *\/",143],["T_WHITESPACE","\n  ",146],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","testUserRoleUpdateSubtreesHashCacheClear",147],"(",")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n    ",147],["T_COMMENT","\/\/ Find the new role ID.\n",148],["T_WHITESPACE","    ",149],["T_VARIABLE","$all_rids",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","adminUser",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getRoles",149],"(",")",";",["T_WHITESPACE","\n    ",149],["T_UNSET","unset",150],"(",["T_VARIABLE","$all_rids",150],"[",["T_STRING","array_search",150],"(",["T_STRING","RoleInterface",150],["T_DOUBLE_COLON","::",150],["T_STRING","AUTHENTICATED_ID",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$all_rids",150],")","]",")",";",["T_WHITESPACE","\n    ",150],["T_VARIABLE","$rid",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","reset",151],"(",["T_VARIABLE","$all_rids",151],")",";",["T_WHITESPACE","\n\n    ",151],["T_VARIABLE","$edit",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_ARRAY","array",153],"(",")",";",["T_WHITESPACE","\n    ",153],["T_VARIABLE","$edit",154],"[",["T_VARIABLE","$rid",154],["T_WHITESPACE"," ",154],".",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'[administer taxonomy]'",154],"]",["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","FALSE",154],";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","drupalPostForm",155],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/people\/permissions'",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$edit",155],",",["T_WHITESPACE"," ",155],["T_STRING","t",155],"(",["T_CONSTANT_ENCAPSED_STRING","'Save permissions'",155],")",")",";",["T_WHITESPACE","\n\n    ",155],["T_COMMENT","\/\/ Assert that the subtrees hash has been altered because the subtrees\n",157],["T_WHITESPACE","    ",158],["T_COMMENT","\/\/ structure changed.\n",158],["T_WHITESPACE","    ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","assertDifferentHash",159],"(",")",";",["T_WHITESPACE","\n\n    ",159],["T_COMMENT","\/\/ Test that assigning a user an extra role only affects that single user.\n",161],["T_WHITESPACE","    ",162],["T_COMMENT","\/\/ Get the hash for a second user.\n",162],["T_WHITESPACE","    ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","drupalLogin",163],"(",["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","adminUser2",163],")",";",["T_WHITESPACE","\n    ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","drupalGet",164],"(",["T_CONSTANT_ENCAPSED_STRING","'test-page'",164],")",";",["T_WHITESPACE","\n    ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","assertResponse",165],"(",["T_LNUMBER","200",165],")",";",["T_WHITESPACE","\n\n    ",165],["T_COMMENT","\/\/ Assert that the toolbar is present in the HTML.\n",167],["T_WHITESPACE","    ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","assertRaw",168],"(",["T_CONSTANT_ENCAPSED_STRING","'id=\"toolbar-administration\"'",168],")",";",["T_WHITESPACE","\n\n    ",168],["T_VARIABLE","$admin_user_2_hash",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getSubtreesHash",170],"(",")",";",["T_WHITESPACE","\n\n    ",170],["T_COMMENT","\/\/ Log in the first admin user again.\n",172],["T_WHITESPACE","    ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","drupalLogin",173],"(",["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","adminUser",173],")",";",["T_WHITESPACE","\n    ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","drupalGet",174],"(",["T_CONSTANT_ENCAPSED_STRING","'test-page'",174],")",";",["T_WHITESPACE","\n    ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","assertResponse",175],"(",["T_LNUMBER","200",175],")",";",["T_WHITESPACE","\n\n    ",175],["T_COMMENT","\/\/ Assert that the toolbar is present in the HTML.\n",177],["T_WHITESPACE","    ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","assertRaw",178],"(",["T_CONSTANT_ENCAPSED_STRING","'id=\"toolbar-administration\"'",178],")",";",["T_WHITESPACE","\n\n    ",178],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","hash",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getSubtreesHash",180],"(",")",";",["T_WHITESPACE","\n\n    ",180],["T_VARIABLE","$rid",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","drupalCreateRole",182],"(",["T_ARRAY","array",182],"(",["T_CONSTANT_ENCAPSED_STRING","'administer content types'",182],",",")",")",";",["T_WHITESPACE","\n\n    ",182],["T_COMMENT","\/\/ Assign the role to the user.\n",184],["T_WHITESPACE","    ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","drupalPostForm",185],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/'",185],["T_WHITESPACE"," ",185],".",["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","adminUser",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","id",185],"(",")",["T_WHITESPACE"," ",185],".",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",185],",",["T_WHITESPACE"," ",185],["T_ARRAY","array",185],"(","\"",["T_ENCAPSED_AND_WHITESPACE","roles[",185],["T_VARIABLE","$rid",185],["T_ENCAPSED_AND_WHITESPACE","]",185],"\"",["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$rid",185],")",",",["T_WHITESPACE"," ",185],["T_STRING","t",185],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",185],")",")",";",["T_WHITESPACE","\n    ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","assertText",186],"(",["T_STRING","t",186],"(",["T_CONSTANT_ENCAPSED_STRING","'The changes have been saved.'",186],")",")",";",["T_WHITESPACE","\n\n    ",186],["T_COMMENT","\/\/ Assert that the subtrees hash has been altered because the subtrees\n",188],["T_WHITESPACE","    ",189],["T_COMMENT","\/\/ structure changed.\n",189],["T_WHITESPACE","    ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","assertDifferentHash",190],"(",")",";",["T_WHITESPACE","\n\n    ",190],["T_COMMENT","\/\/ Log in the second user again and assert that their subtrees hash did not\n",192],["T_WHITESPACE","    ",193],["T_COMMENT","\/\/ change.\n",193],["T_WHITESPACE","    ",194],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","drupalLogin",194],"(",["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","adminUser2",194],")",";",["T_WHITESPACE","\n\n    ",194],["T_COMMENT","\/\/ Request a new page to refresh the drupalSettings object.\n",196],["T_WHITESPACE","    ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","drupalGet",197],"(",["T_CONSTANT_ENCAPSED_STRING","'test-page'",197],")",";",["T_WHITESPACE","\n    ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","assertResponse",198],"(",["T_LNUMBER","200",198],")",";",["T_WHITESPACE","\n    ",198],["T_VARIABLE","$new_subtree_hash",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getSubtreesHash",199],"(",")",";",["T_WHITESPACE","\n\n    ",199],["T_COMMENT","\/\/ Assert that the old admin menu subtree hash and the new admin menu\n",201],["T_WHITESPACE","    ",202],["T_COMMENT","\/\/ subtree hash are the same.\n",202],["T_WHITESPACE","    ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","assertTrue",203],"(",["T_VARIABLE","$new_subtree_hash",203],",",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'A valid hash value for the admin menu subtrees was created.'",203],")",";",["T_WHITESPACE","\n    ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","assertEqual",204],"(",["T_VARIABLE","$admin_user_2_hash",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$new_subtree_hash",204],",",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","'The user-specific subtree menu hash has not been updated.'",204],")",";",["T_WHITESPACE","\n  ",204],"}",["T_WHITESPACE","\n\n  ",205],["T_DOC_COMMENT","\/**\n   * Tests that changes to a user account by another user clears the changed\n   * account's toolbar cached, not the user's who took the action.\n   *\/",207],["T_WHITESPACE","\n  ",210],["T_FUNCTION","function",211],["T_WHITESPACE"," ",211],["T_STRING","testNonCurrentUserAccountUpdates",211],"(",")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n    ",211],["T_VARIABLE","$admin_user_id",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","adminUser",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","id",212],"(",")",";",["T_WHITESPACE","\n    ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","hash",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","getSubtreesHash",213],"(",")",";",["T_WHITESPACE","\n\n    ",213],["T_COMMENT","\/\/ adminUser2 will add a role to adminUser.\n",215],["T_WHITESPACE","    ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","drupalLogin",216],"(",["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","adminUser2",216],")",";",["T_WHITESPACE","\n    ",216],["T_VARIABLE","$rid",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","drupalCreateRole",217],"(",["T_ARRAY","array",217],"(",["T_CONSTANT_ENCAPSED_STRING","'administer content types'",217],",",")",")",";",["T_WHITESPACE","\n\n    ",217],["T_COMMENT","\/\/ Get the subtree hash for adminUser2 to check later that it has not\n",219],["T_WHITESPACE","    ",220],["T_COMMENT","\/\/ changed. Request a new page to refresh the drupalSettings object.\n",220],["T_WHITESPACE","    ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","drupalGet",221],"(",["T_CONSTANT_ENCAPSED_STRING","'test-page'",221],")",";",["T_WHITESPACE","\n    ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","assertResponse",222],"(",["T_LNUMBER","200",222],")",";",["T_WHITESPACE","\n    ",222],["T_VARIABLE","$admin_user_2_hash",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getSubtreesHash",223],"(",")",";",["T_WHITESPACE","\n\n    ",223],["T_COMMENT","\/\/ Assign the role to the user.\n",225],["T_WHITESPACE","    ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","drupalPostForm",226],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/'",226],["T_WHITESPACE"," ",226],".",["T_WHITESPACE"," ",226],["T_VARIABLE","$admin_user_id",226],["T_WHITESPACE"," ",226],".",["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",226],",",["T_WHITESPACE"," ",226],["T_ARRAY","array",226],"(","\"",["T_ENCAPSED_AND_WHITESPACE","roles[",226],["T_VARIABLE","$rid",226],["T_ENCAPSED_AND_WHITESPACE","]",226],"\"",["T_WHITESPACE"," ",226],["T_DOUBLE_ARROW","=>",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$rid",226],")",",",["T_WHITESPACE"," ",226],["T_STRING","t",226],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",226],")",")",";",["T_WHITESPACE","\n    ",226],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","assertText",227],"(",["T_STRING","t",227],"(",["T_CONSTANT_ENCAPSED_STRING","'The changes have been saved.'",227],")",")",";",["T_WHITESPACE","\n\n    ",227],["T_COMMENT","\/\/ Log in adminUser and assert that the subtrees hash has changed.\n",229],["T_WHITESPACE","    ",230],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","drupalLogin",230],"(",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","adminUser",230],")",";",["T_WHITESPACE","\n    ",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","assertDifferentHash",231],"(",")",";",["T_WHITESPACE","\n\n    ",231],["T_COMMENT","\/\/ Log in adminUser2 to check that its subtrees hash has not changed.\n",233],["T_WHITESPACE","    ",234],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","drupalLogin",234],"(",["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","adminUser2",234],")",";",["T_WHITESPACE","\n    ",234],["T_VARIABLE","$new_subtree_hash",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getSubtreesHash",235],"(",")",";",["T_WHITESPACE","\n\n    ",235],["T_COMMENT","\/\/ Assert that the old adminUser subtree hash and the new adminUser\n",237],["T_WHITESPACE","    ",238],["T_COMMENT","\/\/ subtree hash are the same.\n",238],["T_WHITESPACE","    ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","assertTrue",239],"(",["T_VARIABLE","$new_subtree_hash",239],",",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'A valid hash value for the admin menu subtrees was created.'",239],")",";",["T_WHITESPACE","\n    ",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","assertEqual",240],"(",["T_VARIABLE","$admin_user_2_hash",240],",",["T_WHITESPACE"," ",240],["T_VARIABLE","$new_subtree_hash",240],",",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'The user-specific subtree menu hash has not been updated.'",240],")",";",["T_WHITESPACE","\n  ",240],"}",["T_WHITESPACE","\n\n  ",241],["T_DOC_COMMENT","\/**\n   * Tests that toolbar cache is cleared when string translations are made.\n   *\/",243],["T_WHITESPACE","\n  ",245],["T_FUNCTION","function",246],["T_WHITESPACE"," ",246],["T_STRING","testLocaleTranslationSubtreesHashCacheClear",246],"(",")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n    ",246],["T_VARIABLE","$admin_user",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","adminUser",247],";",["T_WHITESPACE","\n    ",247],["T_COMMENT","\/\/ User to translate and delete string.\n",248],["T_WHITESPACE","    ",249],["T_VARIABLE","$translate_user",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","drupalCreateUser",249],"(",["T_ARRAY","array",249],"(",["T_CONSTANT_ENCAPSED_STRING","'translate interface'",249],",",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","'access administration pages'",249],")",")",";",["T_WHITESPACE","\n\n    ",249],["T_COMMENT","\/\/ Create a new language with the langcode 'xx'.\n",251],["T_WHITESPACE","    ",252],["T_VARIABLE","$langcode",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'xx'",252],";",["T_WHITESPACE","\n    ",252],["T_COMMENT","\/\/ The English name for the language. This will be translated.\n",253],["T_WHITESPACE","    ",254],["T_VARIABLE","$name",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","randomMachineName",254],"(",["T_LNUMBER","16",254],")",";",["T_WHITESPACE","\n    ",254],["T_COMMENT","\/\/ This will be the translation of $name.\n",255],["T_WHITESPACE","    ",256],["T_VARIABLE","$translation",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","randomMachineName",256],"(",["T_LNUMBER","16",256],")",";",["T_WHITESPACE","\n\n    ",256],["T_COMMENT","\/\/ Add custom language.\n",258],["T_WHITESPACE","    ",259],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","drupalLogin",259],"(",["T_VARIABLE","$admin_user",259],")",";",["T_WHITESPACE","\n    ",259],["T_VARIABLE","$edit",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_ARRAY","array",260],"(",["T_WHITESPACE","\n      ",260],["T_CONSTANT_ENCAPSED_STRING","'predefined_langcode'",261],["T_WHITESPACE"," ",261],["T_DOUBLE_ARROW","=>",261],["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","'custom'",261],",",["T_WHITESPACE","\n      ",261],["T_CONSTANT_ENCAPSED_STRING","'langcode'",262],["T_WHITESPACE"," ",262],["T_DOUBLE_ARROW","=>",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$langcode",262],",",["T_WHITESPACE","\n      ",262],["T_CONSTANT_ENCAPSED_STRING","'label'",263],["T_WHITESPACE"," ",263],["T_DOUBLE_ARROW","=>",263],["T_WHITESPACE"," ",263],["T_VARIABLE","$name",263],",",["T_WHITESPACE","\n      ",263],["T_CONSTANT_ENCAPSED_STRING","'direction'",264],["T_WHITESPACE"," ",264],["T_DOUBLE_ARROW","=>",264],["T_WHITESPACE"," ",264],["T_STRING","LanguageInterface",264],["T_DOUBLE_COLON","::",264],["T_STRING","DIRECTION_LTR",264],",",["T_WHITESPACE","\n    ",264],")",";",["T_WHITESPACE","\n    ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","drupalPostForm",266],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/language\/add'",266],",",["T_WHITESPACE"," ",266],["T_VARIABLE","$edit",266],",",["T_WHITESPACE"," ",266],["T_STRING","t",266],"(",["T_CONSTANT_ENCAPSED_STRING","'Add custom language'",266],")",")",";",["T_WHITESPACE","\n    ",266],["T_STRING","t",267],"(",["T_VARIABLE","$name",267],",",["T_WHITESPACE"," ",267],["T_ARRAY","array",267],"(",")",",",["T_WHITESPACE"," ",267],["T_ARRAY","array",267],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",267],["T_WHITESPACE"," ",267],["T_DOUBLE_ARROW","=>",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$langcode",267],")",")",";",["T_WHITESPACE","\n    ",267],["T_COMMENT","\/\/ Reset locale cache.\n",268],["T_WHITESPACE","    ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","container",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","get",269],"(",["T_CONSTANT_ENCAPSED_STRING","'string_translation'",269],")",["T_OBJECT_OPERATOR","->",269],["T_STRING","reset",269],"(",")",";",["T_WHITESPACE","\n    ",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","assertRaw",270],"(",["T_CONSTANT_ENCAPSED_STRING","'\"edit-languages-'",270],["T_WHITESPACE"," ",270],".",["T_WHITESPACE"," ",270],["T_VARIABLE","$langcode",270],["T_WHITESPACE"," ",270],".",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'-weight\"'",270],",",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'Language code found.'",270],")",";",["T_WHITESPACE","\n    ",270],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","assertText",271],"(",["T_STRING","t",271],"(",["T_VARIABLE","$name",271],")",",",["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","'Test language added.'",271],")",";",["T_WHITESPACE","\n\n    ",271],["T_COMMENT","\/\/ Have the adminUser request a page in the new language.\n",273],["T_WHITESPACE","    ",274],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","drupalGet",274],"(",["T_VARIABLE","$langcode",274],["T_WHITESPACE"," ",274],".",["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'\/test-page'",274],")",";",["T_WHITESPACE","\n    ",274],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","assertResponse",275],"(",["T_LNUMBER","200",275],")",";",["T_WHITESPACE","\n\n    ",275],["T_COMMENT","\/\/ Get a baseline hash for the admin menu subtrees before translating one\n",277],["T_WHITESPACE","    ",278],["T_COMMENT","\/\/ of the menu link items.\n",278],["T_WHITESPACE","    ",279],["T_VARIABLE","$original_subtree_hash",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","getSubtreesHash",279],"(",")",";",["T_WHITESPACE","\n    ",279],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","assertTrue",280],"(",["T_VARIABLE","$original_subtree_hash",280],",",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'A valid hash value for the admin menu subtrees was created.'",280],")",";",["T_WHITESPACE","\n    ",280],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","drupalLogout",281],"(",")",";",["T_WHITESPACE","\n\n    ",281],["T_COMMENT","\/\/ Translate the string 'Search and metadata' in the xx language. This\n",283],["T_WHITESPACE","    ",284],["T_COMMENT","\/\/ string appears in a link in the admin menu subtrees. Changing the string\n",284],["T_WHITESPACE","    ",285],["T_COMMENT","\/\/ should create a new menu hash if the toolbar subtrees cache is correctly\n",285],["T_WHITESPACE","    ",286],["T_COMMENT","\/\/ invalidated.\n",286],["T_WHITESPACE","    ",287],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","drupalLogin",287],"(",["T_VARIABLE","$translate_user",287],")",";",["T_WHITESPACE","\n    ",287],["T_VARIABLE","$search",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_ARRAY","array",288],"(",["T_WHITESPACE","\n      ",288],["T_CONSTANT_ENCAPSED_STRING","'string'",289],["T_WHITESPACE"," ",289],["T_DOUBLE_ARROW","=>",289],["T_WHITESPACE"," ",289],["T_CONSTANT_ENCAPSED_STRING","'Search and metadata'",289],",",["T_WHITESPACE","\n      ",289],["T_CONSTANT_ENCAPSED_STRING","'langcode'",290],["T_WHITESPACE"," ",290],["T_DOUBLE_ARROW","=>",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$langcode",290],",",["T_WHITESPACE","\n      ",290],["T_CONSTANT_ENCAPSED_STRING","'translation'",291],["T_WHITESPACE"," ",291],["T_DOUBLE_ARROW","=>",291],["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'untranslated'",291],",",["T_WHITESPACE","\n    ",291],")",";",["T_WHITESPACE","\n    ",292],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","drupalPostForm",293],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/translate'",293],",",["T_WHITESPACE"," ",293],["T_VARIABLE","$search",293],",",["T_WHITESPACE"," ",293],["T_STRING","t",293],"(",["T_CONSTANT_ENCAPSED_STRING","'Filter'",293],")",")",";",["T_WHITESPACE","\n    ",293],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","assertNoText",294],"(",["T_STRING","t",294],"(",["T_CONSTANT_ENCAPSED_STRING","'No strings available'",294],")",")",";",["T_WHITESPACE","\n    ",294],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","assertText",295],"(",["T_VARIABLE","$name",295],",",["T_WHITESPACE"," ",295],["T_CONSTANT_ENCAPSED_STRING","'Search found the string as untranslated.'",295],")",";",["T_WHITESPACE","\n\n    ",295],["T_COMMENT","\/\/ Assume this is the only result.\n",297],["T_WHITESPACE","    ",298],["T_COMMENT","\/\/ Translate the string to a random string.\n",298],["T_WHITESPACE","    ",299],["T_VARIABLE","$textarea",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_STRING","current",299],"(",["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","xpath",299],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/textarea'",299],")",")",";",["T_WHITESPACE","\n    ",299],["T_VARIABLE","$lid",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_STRING_CAST","(string)",300],["T_WHITESPACE"," ",300],["T_VARIABLE","$textarea",300],"[",["T_LNUMBER","0",300],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",300],"]",";",["T_WHITESPACE","\n    ",300],["T_VARIABLE","$edit",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_ARRAY","array",301],"(",["T_WHITESPACE","\n      ",301],["T_VARIABLE","$lid",302],["T_WHITESPACE"," ",302],["T_DOUBLE_ARROW","=>",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$translation",302],",",["T_WHITESPACE","\n    ",302],")",";",["T_WHITESPACE","\n    ",303],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","drupalPostForm",304],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/translate'",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$edit",304],",",["T_WHITESPACE"," ",304],["T_STRING","t",304],"(",["T_CONSTANT_ENCAPSED_STRING","'Save translations'",304],")",")",";",["T_WHITESPACE","\n    ",304],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","assertText",305],"(",["T_STRING","t",305],"(",["T_CONSTANT_ENCAPSED_STRING","'The strings have been saved.'",305],")",",",["T_WHITESPACE"," ",305],["T_CONSTANT_ENCAPSED_STRING","'The strings have been saved.'",305],")",";",["T_WHITESPACE","\n    ",305],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","assertUrl",306],"(",["T_NS_SEPARATOR","\\",306],["T_STRING","Drupal",306],["T_DOUBLE_COLON","::",306],["T_STRING","url",306],"(",["T_CONSTANT_ENCAPSED_STRING","'locale.translate_page'",306],",",["T_WHITESPACE"," ",306],"[","]",",",["T_WHITESPACE"," ",306],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",306],["T_WHITESPACE"," ",306],["T_DOUBLE_ARROW","=>",306],["T_WHITESPACE"," ",306],["T_STRING","TRUE",306],"]",")",",",["T_WHITESPACE"," ",306],"[","]",",",["T_WHITESPACE"," ",306],["T_CONSTANT_ENCAPSED_STRING","'Correct page redirection.'",306],")",";",["T_WHITESPACE","\n    ",306],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","drupalLogout",307],"(",")",";",["T_WHITESPACE","\n\n    ",307],["T_COMMENT","\/\/ Log in the adminUser. Check the admin menu subtrees hash now that one\n",309],["T_WHITESPACE","    ",310],["T_COMMENT","\/\/ of the link items in the Structure tree (Menus) has had its text\n",310],["T_WHITESPACE","    ",311],["T_COMMENT","\/\/ translated.\n",311],["T_WHITESPACE","    ",312],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","drupalLogin",312],"(",["T_VARIABLE","$admin_user",312],")",";",["T_WHITESPACE","\n    ",312],["T_COMMENT","\/\/ Have the adminUser request a page in the new language.\n",313],["T_WHITESPACE","    ",314],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","drupalGet",314],"(",["T_VARIABLE","$langcode",314],["T_WHITESPACE"," ",314],".",["T_WHITESPACE"," ",314],["T_CONSTANT_ENCAPSED_STRING","'\/test-page'",314],")",";",["T_WHITESPACE","\n    ",314],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","assertResponse",315],"(",["T_LNUMBER","200",315],")",";",["T_WHITESPACE","\n    ",315],["T_VARIABLE","$new_subtree_hash",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","getSubtreesHash",316],"(",")",";",["T_WHITESPACE","\n\n    ",316],["T_COMMENT","\/\/ Assert that the old admin menu subtrees hash and the new admin menu\n",318],["T_WHITESPACE","    ",319],["T_COMMENT","\/\/ subtrees hash are different.\n",319],["T_WHITESPACE","    ",320],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","assertTrue",320],"(",["T_VARIABLE","$new_subtree_hash",320],",",["T_WHITESPACE"," ",320],["T_CONSTANT_ENCAPSED_STRING","'A valid hash value for the admin menu subtrees was created.'",320],")",";",["T_WHITESPACE","\n    ",320],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","assertNotEqual",321],"(",["T_VARIABLE","$original_subtree_hash",321],",",["T_WHITESPACE"," ",321],["T_VARIABLE","$new_subtree_hash",321],",",["T_WHITESPACE"," ",321],["T_CONSTANT_ENCAPSED_STRING","'The user-specific subtree menu hash has been updated.'",321],")",";",["T_WHITESPACE","\n  ",321],"}",["T_WHITESPACE","\n\n  ",322],["T_DOC_COMMENT","\/**\n   * Tests that the 'toolbar\/subtrees\/{hash}' is reachable and correct.\n   *\/",324],["T_WHITESPACE","\n  ",326],["T_FUNCTION","function",327],["T_WHITESPACE"," ",327],["T_STRING","testSubtreesJsonRequest",327],"(",")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n    ",327],["T_VARIABLE","$admin_user",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","adminUser",328],";",["T_WHITESPACE","\n    ",328],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","drupalLogin",329],"(",["T_VARIABLE","$admin_user",329],")",";",["T_WHITESPACE","\n    ",329],["T_COMMENT","\/\/ Request a new page to refresh the drupalSettings object.\n",330],["T_WHITESPACE","    ",331],["T_VARIABLE","$subtrees_hash",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getSubtreesHash",331],"(",")",";",["T_WHITESPACE","\n\n    ",331],["T_VARIABLE","$ajax_result",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","drupalGetAjax",333],"(",["T_CONSTANT_ENCAPSED_STRING","'toolbar\/subtrees\/'",333],["T_WHITESPACE"," ",333],".",["T_WHITESPACE"," ",333],["T_VARIABLE","$subtrees_hash",333],")",";",["T_WHITESPACE","\n    ",333],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","assertResponse",334],"(",["T_CONSTANT_ENCAPSED_STRING","'200'",334],")",";",["T_WHITESPACE","\n    ",334],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","assertEqual",335],"(",["T_VARIABLE","$ajax_result",335],"[",["T_LNUMBER","0",335],"]","[",["T_CONSTANT_ENCAPSED_STRING","'command'",335],"]",",",["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'setToolbarSubtrees'",335],",",["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'Subtrees response uses the correct command.'",335],")",";",["T_WHITESPACE","\n    ",335],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","assertEqual",336],"(",["T_STRING","array_keys",336],"(",["T_VARIABLE","$ajax_result",336],"[",["T_LNUMBER","0",336],"]","[",["T_CONSTANT_ENCAPSED_STRING","'subtrees'",336],"]",")",",",["T_WHITESPACE"," ",336],"[",["T_CONSTANT_ENCAPSED_STRING","'system-admin_content'",336],",",["T_WHITESPACE"," ",336],["T_CONSTANT_ENCAPSED_STRING","'system-admin_structure'",336],",",["T_WHITESPACE"," ",336],["T_CONSTANT_ENCAPSED_STRING","'system-themes_page'",336],",",["T_WHITESPACE"," ",336],["T_CONSTANT_ENCAPSED_STRING","'system-modules_list'",336],",",["T_WHITESPACE"," ",336],["T_CONSTANT_ENCAPSED_STRING","'system-admin_config'",336],",",["T_WHITESPACE"," ",336],["T_CONSTANT_ENCAPSED_STRING","'entity-user-collection'",336],",",["T_WHITESPACE"," ",336],["T_CONSTANT_ENCAPSED_STRING","'front'",336],"]",",",["T_WHITESPACE"," ",336],["T_CONSTANT_ENCAPSED_STRING","'Correct subtrees returned.'",336],")",";",["T_WHITESPACE","\n  ",336],"}",["T_WHITESPACE","\n\n  ",337],["T_DOC_COMMENT","\/**\n   * Test that subtrees hashes vary by the language of the page.\n   *\/",339],["T_WHITESPACE","\n  ",341],["T_FUNCTION","function",342],["T_WHITESPACE"," ",342],["T_STRING","testLanguageSwitching",342],"(",")",["T_WHITESPACE"," ",342],"{",["T_WHITESPACE","\n    ",342],["T_COMMENT","\/\/ Create a new language with the langcode 'xx'.\n",343],["T_WHITESPACE","    ",344],["T_VARIABLE","$langcode",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_CONSTANT_ENCAPSED_STRING","'xx'",344],";",["T_WHITESPACE","\n    ",344],["T_VARIABLE","$language",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_STRING","ConfigurableLanguage",345],["T_DOUBLE_COLON","::",345],["T_STRING","createFromLangcode",345],"(",["T_VARIABLE","$langcode",345],")",";",["T_WHITESPACE","\n    ",345],["T_VARIABLE","$language",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","save",346],"(",")",";",["T_WHITESPACE","\n    ",346],["T_COMMENT","\/\/ The language path processor is just registered for more than one\n",347],["T_WHITESPACE","    ",348],["T_COMMENT","\/\/ configured language, so rebuild the container now that we are\n",348],["T_WHITESPACE","    ",349],["T_COMMENT","\/\/ multilingual.\n",349],["T_WHITESPACE","    ",350],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","rebuildContainer",350],"(",")",";",["T_WHITESPACE","\n\n    ",350],["T_COMMENT","\/\/ Get a page with the new language langcode in the URL.\n",352],["T_WHITESPACE","    ",353],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","drupalGet",353],"(",["T_CONSTANT_ENCAPSED_STRING","'test-page'",353],",",["T_WHITESPACE"," ",353],["T_ARRAY","array",353],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",353],["T_WHITESPACE"," ",353],["T_DOUBLE_ARROW","=>",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$language",353],")",")",";",["T_WHITESPACE","\n    ",353],["T_COMMENT","\/\/ Assert different hash.\n",354],["T_WHITESPACE","    ",355],["T_VARIABLE","$new_subtree_hash",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","getSubtreesHash",355],"(",")",";",["T_WHITESPACE","\n\n    ",355],["T_COMMENT","\/\/ Assert that the old admin menu subtree hash and the new admin menu\n",357],["T_WHITESPACE","    ",358],["T_COMMENT","\/\/ subtree hash are different.\n",358],["T_WHITESPACE","    ",359],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","assertTrue",359],"(",["T_VARIABLE","$new_subtree_hash",359],",",["T_WHITESPACE"," ",359],["T_CONSTANT_ENCAPSED_STRING","'A valid hash value for the admin menu subtrees was created.'",359],")",";",["T_WHITESPACE","\n    ",359],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","assertNotEqual",360],"(",["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","hash",360],",",["T_WHITESPACE"," ",360],["T_VARIABLE","$new_subtree_hash",360],",",["T_WHITESPACE"," ",360],["T_CONSTANT_ENCAPSED_STRING","'The user-specific subtree menu hash has been updated.'",360],")",";",["T_WHITESPACE","\n  ",360],"}",["T_WHITESPACE","\n\n  ",361],["T_DOC_COMMENT","\/**\n   * Test that back to site link exists on admin pages, not on content pages.\n   *\/",363],["T_WHITESPACE","\n  ",365],["T_PUBLIC","public",366],["T_WHITESPACE"," ",366],["T_FUNCTION","function",366],["T_WHITESPACE"," ",366],["T_STRING","testBackToSiteLink",366],"(",")",["T_WHITESPACE"," ",366],"{",["T_WHITESPACE","\n    ",366],["T_COMMENT","\/\/ Back to site link should exist in the markup.\n",367],["T_WHITESPACE","    ",368],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","drupalGet",368],"(",["T_CONSTANT_ENCAPSED_STRING","'test-page'",368],")",";",["T_WHITESPACE","\n    ",368],["T_VARIABLE","$back_link",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","cssSelect",369],"(",["T_CONSTANT_ENCAPSED_STRING","'.home-toolbar-tab'",369],")",";",["T_WHITESPACE","\n    ",369],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","assertTrue",370],"(",["T_VARIABLE","$back_link",370],")",";",["T_WHITESPACE","\n  ",370],"}",["T_WHITESPACE","\n\n  ",371],["T_DOC_COMMENT","\/**\n   * Tests that external links added to the menu appear in the toolbar.\n   *\/",373],["T_WHITESPACE","\n  ",375],["T_PUBLIC","public",376],["T_WHITESPACE"," ",376],["T_FUNCTION","function",376],["T_WHITESPACE"," ",376],["T_STRING","testExternalLink",376],"(",")",["T_WHITESPACE"," ",376],"{",["T_WHITESPACE","\n    ",376],["T_VARIABLE","$edit",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],"[",["T_WHITESPACE","\n      ",377],["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",378],["T_WHITESPACE"," ",378],["T_DOUBLE_ARROW","=>",378],["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","'External URL'",378],",",["T_WHITESPACE","\n      ",378],["T_CONSTANT_ENCAPSED_STRING","'link[0][uri]'",379],["T_WHITESPACE"," ",379],["T_DOUBLE_ARROW","=>",379],["T_WHITESPACE"," ",379],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.org'",379],",",["T_WHITESPACE","\n      ",379],["T_CONSTANT_ENCAPSED_STRING","'menu_parent'",380],["T_WHITESPACE"," ",380],["T_DOUBLE_ARROW","=>",380],["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","'admin:system.admin'",380],",",["T_WHITESPACE","\n      ",380],["T_CONSTANT_ENCAPSED_STRING","'description[0][value]'",381],["T_WHITESPACE"," ",381],["T_DOUBLE_ARROW","=>",381],["T_WHITESPACE"," ",381],["T_CONSTANT_ENCAPSED_STRING","'External URL & escaped'",381],",",["T_WHITESPACE","\n    ",381],"]",";",["T_WHITESPACE","\n    ",382],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","drupalPostForm",383],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/menu\/manage\/admin\/add'",383],",",["T_WHITESPACE"," ",383],["T_VARIABLE","$edit",383],",",["T_WHITESPACE"," ",383],["T_CONSTANT_ENCAPSED_STRING","'Save'",383],")",";",["T_WHITESPACE","\n\n    ",383],["T_COMMENT","\/\/ Assert that the new menu link is shown on the menu link listing.\n",385],["T_WHITESPACE","    ",386],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","drupalGet",386],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/menu\/manage\/admin'",386],")",";",["T_WHITESPACE","\n    ",386],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","assertText",387],"(",["T_CONSTANT_ENCAPSED_STRING","'External URL'",387],")",";",["T_WHITESPACE","\n\n    ",387],["T_COMMENT","\/\/ Assert that the new menu link is shown in the toolbar on a regular page.\n",389],["T_WHITESPACE","    ",390],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","drupalGet",390],"(",["T_STRING","Url",390],["T_DOUBLE_COLON","::",390],["T_STRING","fromRoute",390],"(",["T_CONSTANT_ENCAPSED_STRING","'<front>'",390],")",")",";",["T_WHITESPACE","\n    ",390],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","assertText",391],"(",["T_CONSTANT_ENCAPSED_STRING","'External URL'",391],")",";",["T_WHITESPACE","\n    ",391],["T_COMMENT","\/\/ Ensure the description is escaped as expected.\n",392],["T_WHITESPACE","    ",393],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","assertRaw",393],"(",["T_CONSTANT_ENCAPSED_STRING","'title=\"External URL &amp; escaped\"'",393],")",";",["T_WHITESPACE","\n  ",393],"}",["T_WHITESPACE","\n\n  ",394],["T_DOC_COMMENT","\/**\n   * Get the hash value from the admin menu subtrees route path.\n   *\n   * @return string\n   *   The hash value from the admin menu subtrees route path.\n   *\/",396],["T_WHITESPACE","\n  ",401],["T_PRIVATE","private",402],["T_WHITESPACE"," ",402],["T_FUNCTION","function",402],["T_WHITESPACE"," ",402],["T_STRING","getSubtreesHash",402],"(",")",["T_WHITESPACE"," ",402],"{",["T_WHITESPACE","\n    ",402],["T_VARIABLE","$settings",403],["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_VARIABLE","$this",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","getDrupalSettings",403],"(",")",";",["T_WHITESPACE","\n    ",403],["T_COMMENT","\/\/ The toolbar module defines a route '\/toolbar\/subtrees\/{hash}' that\n",404],["T_WHITESPACE","    ",405],["T_COMMENT","\/\/ returns JSON for the rendered subtrees. This hash is provided to the\n",405],["T_WHITESPACE","    ",406],["T_COMMENT","\/\/ client in drupalSettings.\n",406],["T_WHITESPACE","    ",407],["T_RETURN","return",407],["T_WHITESPACE"," ",407],["T_VARIABLE","$settings",407],"[",["T_CONSTANT_ENCAPSED_STRING","'toolbar'",407],"]","[",["T_CONSTANT_ENCAPSED_STRING","'subtreesHash'",407],"]",";",["T_WHITESPACE","\n  ",407],"}",["T_WHITESPACE","\n\n  ",408],["T_DOC_COMMENT","\/**\n   * Asserts the subtrees hash on a fresh page GET is different from the hash\n   * from the previous page GET.\n   *\/",410],["T_WHITESPACE","\n  ",413],["T_PRIVATE","private",414],["T_WHITESPACE"," ",414],["T_FUNCTION","function",414],["T_WHITESPACE"," ",414],["T_STRING","assertDifferentHash",414],"(",")",["T_WHITESPACE"," ",414],"{",["T_WHITESPACE","\n    ",414],["T_COMMENT","\/\/ Request a new page to refresh the drupalSettings object.\n",415],["T_WHITESPACE","    ",416],["T_VARIABLE","$this",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","drupalGet",416],"(",["T_CONSTANT_ENCAPSED_STRING","'test-page'",416],")",";",["T_WHITESPACE","\n    ",416],["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","assertResponse",417],"(",["T_LNUMBER","200",417],")",";",["T_WHITESPACE","\n    ",417],["T_VARIABLE","$new_subtree_hash",418],["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","getSubtreesHash",418],"(",")",";",["T_WHITESPACE","\n\n    ",418],["T_COMMENT","\/\/ Assert that the old admin menu subtree hash and the new admin menu\n",420],["T_WHITESPACE","    ",421],["T_COMMENT","\/\/ subtree hash are different.\n",421],["T_WHITESPACE","    ",422],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","assertTrue",422],"(",["T_VARIABLE","$new_subtree_hash",422],",",["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","'A valid hash value for the admin menu subtrees was created.'",422],")",";",["T_WHITESPACE","\n    ",422],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","assertNotEqual",423],"(",["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","hash",423],",",["T_WHITESPACE"," ",423],["T_VARIABLE","$new_subtree_hash",423],",",["T_WHITESPACE"," ",423],["T_CONSTANT_ENCAPSED_STRING","'The user-specific subtree menu hash has been updated.'",423],")",";",["T_WHITESPACE","\n\n    ",423],["T_COMMENT","\/\/ Save the new subtree hash as the original.\n",425],["T_WHITESPACE","    ",426],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","hash",426],["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_VARIABLE","$new_subtree_hash",426],";",["T_WHITESPACE","\n  ",426],"}",["T_WHITESPACE","\n\n",427],"}",["T_WHITESPACE","\n",429]]