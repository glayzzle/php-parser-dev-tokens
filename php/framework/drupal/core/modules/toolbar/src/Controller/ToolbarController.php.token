[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","toolbar",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Controller",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Crypt",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Access",6],["T_NS_SEPARATOR","\\",6],["T_STRING","AccessResult",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Ajax",7],["T_NS_SEPARATOR","\\",7],["T_STRING","AjaxResponse",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Controller",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ControllerBase",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","toolbar",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Ajax",9],["T_NS_SEPARATOR","\\",9],["T_STRING","SetSubtreesCommand",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Defines a controller for the toolbar module.\n *\/",11],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","ToolbarController",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","ControllerBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * Returns an AJAX response to render the toolbar subtrees.\n   *\n   * @return \\Drupal\\Core\\Ajax\\AjaxResponse\n   *\/",16],["T_WHITESPACE","\n  ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_FUNCTION","function",21],["T_WHITESPACE"," ",21],["T_STRING","subtreesAjax",21],"(",")",["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n    ",21],["T_LIST","list",22],"(",["T_VARIABLE","$subtrees",22],",",["T_WHITESPACE"," ",22],["T_VARIABLE","$cacheability",22],")",["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_STRING","toolbar_get_rendered_subtrees",22],"(",")",";",["T_WHITESPACE","\n    ",22],["T_VARIABLE","$response",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_NEW","new",23],["T_WHITESPACE"," ",23],["T_STRING","AjaxResponse",23],"(",")",";",["T_WHITESPACE","\n    ",23],["T_VARIABLE","$response",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","addCommand",24],"(",["T_NEW","new",24],["T_WHITESPACE"," ",24],["T_STRING","SetSubtreesCommand",24],"(",["T_VARIABLE","$subtrees",24],")",")",";",["T_WHITESPACE","\n\n    ",24],["T_COMMENT","\/\/ The Expires HTTP header is the heart of the client-side HTTP caching. The\n",26],["T_WHITESPACE","    ",27],["T_COMMENT","\/\/ additional server-side page cache only takes effect when the client\n",27],["T_WHITESPACE","    ",28],["T_COMMENT","\/\/ accesses the callback URL again (e.g., after clearing the browser cache\n",28],["T_WHITESPACE","    ",29],["T_COMMENT","\/\/ or when force-reloading a Drupal page).\n",29],["T_WHITESPACE","    ",30],["T_VARIABLE","$max_age",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_LNUMBER","365",30],["T_WHITESPACE"," ",30],"*",["T_WHITESPACE"," ",30],["T_LNUMBER","24",30],["T_WHITESPACE"," ",30],"*",["T_WHITESPACE"," ",30],["T_LNUMBER","60",30],["T_WHITESPACE"," ",30],"*",["T_WHITESPACE"," ",30],["T_LNUMBER","60",30],";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$response",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","setPrivate",31],"(",")",";",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$response",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","setMaxAge",32],"(",["T_VARIABLE","$max_age",32],")",";",["T_WHITESPACE","\n\n    ",32],["T_VARIABLE","$expires",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_NEW","new",34],["T_WHITESPACE"," ",34],["T_NS_SEPARATOR","\\",34],["T_STRING","DateTime",34],"(",")",";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$expires",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","setTimestamp",35],"(",["T_STRING","REQUEST_TIME",35],["T_WHITESPACE"," ",35],"+",["T_WHITESPACE"," ",35],["T_VARIABLE","$max_age",35],")",";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$response",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","setExpires",36],"(",["T_VARIABLE","$expires",36],")",";",["T_WHITESPACE","\n\n    ",36],["T_RETURN","return",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$response",38],";",["T_WHITESPACE","\n  ",38],"}",["T_WHITESPACE","\n\n  ",39],["T_DOC_COMMENT","\/**\n   * Checks access for the subtree controller.\n   *\n   * @param string $hash\n   *   The hash of the toolbar subtrees.\n   *\n   * @return \\Drupal\\Core\\Access\\AccessResultInterface\n   *   The access result.\n   *\/",41],["T_WHITESPACE","\n  ",49],["T_PUBLIC","public",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","checkSubTreeAccess",50],"(",["T_VARIABLE","$hash",50],")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$expected_hash",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_STRING","_toolbar_get_subtrees_hash",51],"(",")","[",["T_LNUMBER","0",51],"]",";",["T_WHITESPACE","\n    ",51],["T_RETURN","return",52],["T_WHITESPACE"," ",52],["T_STRING","AccessResult",52],["T_DOUBLE_COLON","::",52],["T_STRING","allowedIf",52],"(",["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","currentUser",52],"(",")",["T_OBJECT_OPERATOR","->",52],["T_STRING","hasPermission",52],"(",["T_CONSTANT_ENCAPSED_STRING","'access toolbar'",52],")",["T_WHITESPACE"," ",52],["T_BOOLEAN_AND","&&",52],["T_WHITESPACE"," ",52],["T_STRING","Crypt",52],["T_DOUBLE_COLON","::",52],["T_STRING","hashEquals",52],"(",["T_VARIABLE","$expected_hash",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$hash",52],")",")",["T_OBJECT_OPERATOR","->",52],["T_STRING","cachePerPermissions",52],"(",")",";",["T_WHITESPACE","\n  ",52],"}",["T_WHITESPACE","\n\n",53],"}",["T_WHITESPACE","\n",55]]