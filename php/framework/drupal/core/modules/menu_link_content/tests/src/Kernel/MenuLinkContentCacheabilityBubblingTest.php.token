[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","menu_link_content",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Cache",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Cache",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Language",6],["T_NS_SEPARATOR","\\",6],["T_STRING","LanguageInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Menu",7],["T_NS_SEPARATOR","\\",7],["T_STRING","MenuTreeParameters",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Render",8],["T_NS_SEPARATOR","\\",8],["T_STRING","BubbleableMetadata",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","menu_link_content",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","MenuLinkContent",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","KernelTests",10],["T_NS_SEPARATOR","\\",10],["T_STRING","KernelTestBase",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","user",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Entity",11],["T_NS_SEPARATOR","\\",11],["T_STRING","User",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Cmf",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Routing",12],["T_NS_SEPARATOR","\\",12],["T_STRING","RouteObjectInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Symfony",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Component",13],["T_NS_SEPARATOR","\\",13],["T_STRING","HttpFoundation",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Request",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Routing",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Route",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * Ensures that rendered menu links bubble the necessary bubbleable metadata\n * for outbound path\/route processing.\n *\n * @group menu_link_content\n *\/",16],["T_WHITESPACE","\n",21],["T_CLASS","class",22],["T_WHITESPACE"," ",22],["T_STRING","MenuLinkContentCacheabilityBubblingTest",22],["T_WHITESPACE"," ",22],["T_EXTENDS","extends",22],["T_WHITESPACE"," ",22],["T_STRING","KernelTestBase",22],["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",24],["T_WHITESPACE","\n  ",26],["T_PUBLIC","public",27],["T_WHITESPACE"," ",27],["T_STATIC","static",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$modules",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],"[",["T_CONSTANT_ENCAPSED_STRING","'menu_link_content'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'system'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'link'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'outbound_processing_test'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'url_alter_test'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'user'",27],"]",";",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",29],["T_WHITESPACE","\n  ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","setUp",32],"(",")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n    ",32],["T_STRING","parent",33],["T_DOUBLE_COLON","::",33],["T_STRING","setUp",33],"(",")",";",["T_WHITESPACE","\n\n    ",33],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","installEntitySchema",35],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_link_content'",35],")",";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","installEntitySchema",36],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",36],")",";",["T_WHITESPACE","\n\n    ",36],["T_COMMENT","\/\/ Ensure that the weight of module_link_content is higher than system.\n",38],["T_WHITESPACE","    ",39],["T_COMMENT","\/\/ @see menu_link_content_install()\n",39],["T_WHITESPACE","    ",40],["T_STRING","module_set_weight",40],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_link_content'",40],",",["T_WHITESPACE"," ",40],["T_LNUMBER","1",40],")",";",["T_WHITESPACE","\n  ",40],"}",["T_WHITESPACE","\n\n  ",41],["T_DOC_COMMENT","\/**\n   * Tests bubbleable metadata of menu links' outbound route\/path processing.\n   *\/",43],["T_WHITESPACE","\n  ",45],["T_PUBLIC","public",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","testOutboundPathAndRouteProcessing",46],"(",")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n    ",46],["T_NS_SEPARATOR","\\",47],["T_STRING","Drupal",47],["T_DOUBLE_COLON","::",47],["T_STRING","service",47],"(",["T_CONSTANT_ENCAPSED_STRING","'router.builder'",47],")",["T_OBJECT_OPERATOR","->",47],["T_STRING","rebuild",47],"(",")",";",["T_WHITESPACE","\n\n    ",47],["T_VARIABLE","$request_stack",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Drupal",49],["T_DOUBLE_COLON","::",49],["T_STRING","requestStack",49],"(",")",";",["T_WHITESPACE","\n    ",49],["T_DOC_COMMENT","\/** @var \\Symfony\\Component\\Routing\\RequestContext $request_context *\/",50],["T_WHITESPACE","\n    ",50],["T_VARIABLE","$request_context",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Drupal",51],["T_DOUBLE_COLON","::",51],["T_STRING","service",51],"(",["T_CONSTANT_ENCAPSED_STRING","'router.request_context'",51],")",";",["T_WHITESPACE","\n\n    ",51],["T_VARIABLE","$request",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","Request",53],["T_DOUBLE_COLON","::",53],["T_STRING","create",53],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",53],")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$request",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","attributes",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","set",54],"(",["T_STRING","RouteObjectInterface",54],["T_DOUBLE_COLON","::",54],["T_STRING","ROUTE_NAME",54],",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'<front>'",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$request",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","attributes",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","set",55],"(",["T_STRING","RouteObjectInterface",55],["T_DOUBLE_COLON","::",55],["T_STRING","ROUTE_OBJECT",55],",",["T_WHITESPACE"," ",55],["T_NEW","new",55],["T_WHITESPACE"," ",55],["T_STRING","Route",55],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",55],")",")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$request_stack",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","push",56],"(",["T_VARIABLE","$request",56],")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$request_context",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","fromRequest",57],"(",["T_VARIABLE","$request",57],")",";",["T_WHITESPACE","\n\n    ",57],["T_VARIABLE","$menu_tree",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Drupal",59],["T_DOUBLE_COLON","::",59],["T_STRING","menuTree",59],"(",")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$renderer",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Drupal",60],["T_DOUBLE_COLON","::",60],["T_STRING","service",60],"(",["T_CONSTANT_ENCAPSED_STRING","'renderer'",60],")",";",["T_WHITESPACE","\n\n\n    ",60],["T_VARIABLE","$default_menu_cacheability",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],"(",["T_NEW","new",63],["T_WHITESPACE"," ",63],["T_STRING","BubbleableMetadata",63],"(",")",")",["T_WHITESPACE","\n      ",63],["T_OBJECT_OPERATOR","->",64],["T_STRING","setCacheMaxAge",64],"(",["T_STRING","Cache",64],["T_DOUBLE_COLON","::",64],["T_STRING","PERMANENT",64],")",["T_WHITESPACE","\n      ",64],["T_OBJECT_OPERATOR","->",65],["T_STRING","setCacheTags",65],"(","[",["T_CONSTANT_ENCAPSED_STRING","'config:system.menu.tools'",65],"]",")",["T_WHITESPACE","\n      ",65],["T_OBJECT_OPERATOR","->",66],["T_STRING","setCacheContexts",66],"(","[",["T_CONSTANT_ENCAPSED_STRING","'languages:'",66],["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_STRING","LanguageInterface",66],["T_DOUBLE_COLON","::",66],["T_STRING","TYPE_INTERFACE",66],",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'theme'",66],",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'user.permissions'",66],"]",")",";",["T_WHITESPACE","\n\n    ",66],["T_STRING","User",68],["T_DOUBLE_COLON","::",68],["T_STRING","create",68],"(","[",["T_CONSTANT_ENCAPSED_STRING","'uid'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_LNUMBER","1",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'name'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","randomString",68],"(",")","]",")",["T_OBJECT_OPERATOR","->",68],["T_STRING","save",68],"(",")",";",["T_WHITESPACE","\n    ",68],["T_STRING","User",69],["T_DOUBLE_COLON","::",69],["T_STRING","create",69],"(","[",["T_CONSTANT_ENCAPSED_STRING","'uid'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_LNUMBER","2",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'name'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","randomString",69],"(",")","]",")",["T_OBJECT_OPERATOR","->",69],["T_STRING","save",69],"(",")",";",["T_WHITESPACE","\n\n    ",69],["T_COMMENT","\/\/ Five test cases, four asserting one outbound path\/route processor, and\n",71],["T_WHITESPACE","    ",72],["T_COMMENT","\/\/ together covering one of each:\n",72],["T_WHITESPACE","    ",73],["T_COMMENT","\/\/ - no cacheability metadata,\n",73],["T_WHITESPACE","    ",74],["T_COMMENT","\/\/ - a cache context,\n",74],["T_WHITESPACE","    ",75],["T_COMMENT","\/\/ - a cache tag,\n",75],["T_WHITESPACE","    ",76],["T_COMMENT","\/\/ - a cache max-age.\n",76],["T_WHITESPACE","    ",77],["T_COMMENT","\/\/ Plus an additional test case to verify that multiple links adding\n",77],["T_WHITESPACE","    ",78],["T_COMMENT","\/\/ cacheability metadata of the same type is working (two links with cache\n",78],["T_WHITESPACE","    ",79],["T_COMMENT","\/\/ tags).\n",79],["T_WHITESPACE","    ",80],["T_VARIABLE","$test_cases",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],"[",["T_WHITESPACE","\n      ",80],["T_COMMENT","\/\/ \\Drupal\\Core\\RouteProcessor\\RouteProcessorCurrent: 'route' cache context.\n",81],["T_WHITESPACE","      ",82],"[",["T_WHITESPACE","\n        ",82],["T_CONSTANT_ENCAPSED_STRING","'uri'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'route:<current>'",83],",",["T_WHITESPACE","\n        ",83],["T_CONSTANT_ENCAPSED_STRING","'cacheability'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],"(",["T_NEW","new",84],["T_WHITESPACE"," ",84],["T_STRING","BubbleableMetadata",84],"(",")",")",["T_OBJECT_OPERATOR","->",84],["T_STRING","setCacheContexts",84],"(","[",["T_CONSTANT_ENCAPSED_STRING","'route'",84],"]",")",",",["T_WHITESPACE","\n      ",84],"]",",",["T_WHITESPACE","\n      ",85],["T_COMMENT","\/\/ \\Drupal\\Core\\Access\\RouteProcessorCsrf: placeholder.\n",86],["T_WHITESPACE","      ",87],"[",["T_WHITESPACE","\n        ",87],["T_CONSTANT_ENCAPSED_STRING","'uri'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'route:outbound_processing_test.route.csrf'",88],",",["T_WHITESPACE","\n        ",88],["T_CONSTANT_ENCAPSED_STRING","'cacheability'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],"(",["T_NEW","new",89],["T_WHITESPACE"," ",89],["T_STRING","BubbleableMetadata",89],"(",")",")",["T_OBJECT_OPERATOR","->",89],["T_STRING","setCacheContexts",89],"(","[",["T_CONSTANT_ENCAPSED_STRING","'session'",89],"]",")",["T_OBJECT_OPERATOR","->",89],["T_STRING","setAttachments",89],"(","[",["T_CONSTANT_ENCAPSED_STRING","'placeholders'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],"[","]","]",")",",",["T_WHITESPACE","\n      ",89],"]",",",["T_WHITESPACE","\n      ",90],["T_COMMENT","\/\/ \\Drupal\\Core\\PathProcessor\\PathProcessorFront: permanently cacheable.\n",91],["T_WHITESPACE","      ",92],"[",["T_WHITESPACE","\n        ",92],["T_CONSTANT_ENCAPSED_STRING","'uri'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'internal:\/'",93],",",["T_WHITESPACE","\n        ",93],["T_CONSTANT_ENCAPSED_STRING","'cacheability'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],"(",["T_NEW","new",94],["T_WHITESPACE"," ",94],["T_STRING","BubbleableMetadata",94],"(",")",")",",",["T_WHITESPACE","\n      ",94],"]",",",["T_WHITESPACE","\n      ",95],["T_COMMENT","\/\/ \\Drupal\\url_alter_test\\PathProcessorTest: user entity's cache tags.\n",96],["T_WHITESPACE","      ",97],"[",["T_WHITESPACE","\n        ",97],["T_CONSTANT_ENCAPSED_STRING","'uri'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'internal:\/user\/1'",98],",",["T_WHITESPACE","\n        ",98],["T_CONSTANT_ENCAPSED_STRING","'cacheability'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],"(",["T_NEW","new",99],["T_WHITESPACE"," ",99],["T_STRING","BubbleableMetadata",99],"(",")",")",["T_OBJECT_OPERATOR","->",99],["T_STRING","setCacheTags",99],"(",["T_STRING","User",99],["T_DOUBLE_COLON","::",99],["T_STRING","load",99],"(",["T_LNUMBER","1",99],")",["T_OBJECT_OPERATOR","->",99],["T_STRING","getCacheTags",99],"(",")",")",",",["T_WHITESPACE","\n      ",99],"]",",",["T_WHITESPACE","\n      ",100],"[",["T_WHITESPACE","\n        ",101],["T_CONSTANT_ENCAPSED_STRING","'uri'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'internal:\/user\/2'",102],",",["T_WHITESPACE","\n        ",102],["T_CONSTANT_ENCAPSED_STRING","'cacheability'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],"(",["T_NEW","new",103],["T_WHITESPACE"," ",103],["T_STRING","BubbleableMetadata",103],"(",")",")",["T_OBJECT_OPERATOR","->",103],["T_STRING","setCacheTags",103],"(",["T_STRING","User",103],["T_DOUBLE_COLON","::",103],["T_STRING","load",103],"(",["T_LNUMBER","2",103],")",["T_OBJECT_OPERATOR","->",103],["T_STRING","getCacheTags",103],"(",")",")",",",["T_WHITESPACE","\n      ",103],"]",",",["T_WHITESPACE","\n    ",104],"]",";",["T_WHITESPACE","\n\n    ",105],["T_COMMENT","\/\/ Test each expectation individually.\n",107],["T_WHITESPACE","    ",108],["T_FOREACH","foreach",108],["T_WHITESPACE"," ",108],"(",["T_VARIABLE","$test_cases",108],["T_WHITESPACE"," ",108],["T_AS","as",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$expectation",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n      ",108],["T_VARIABLE","$menu_link_content",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_STRING","MenuLinkContent",109],["T_DOUBLE_COLON","::",109],["T_STRING","create",109],"(","[",["T_WHITESPACE","\n        ",109],["T_CONSTANT_ENCAPSED_STRING","'link'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],"[",["T_CONSTANT_ENCAPSED_STRING","'uri'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$expectation",110],"[",["T_CONSTANT_ENCAPSED_STRING","'uri'",110],"]","]",",",["T_WHITESPACE","\n        ",110],["T_CONSTANT_ENCAPSED_STRING","'menu_name'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'tools'",111],",",["T_WHITESPACE","\n      ",111],"]",")",";",["T_WHITESPACE","\n      ",112],["T_VARIABLE","$menu_link_content",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","save",113],"(",")",";",["T_WHITESPACE","\n      ",113],["T_VARIABLE","$tree",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$menu_tree",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","load",114],"(",["T_CONSTANT_ENCAPSED_STRING","'tools'",114],",",["T_WHITESPACE"," ",114],["T_NEW","new",114],["T_WHITESPACE"," ",114],["T_STRING","MenuTreeParameters",114],"(",")",")",";",["T_WHITESPACE","\n      ",114],["T_VARIABLE","$build",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$menu_tree",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","build",115],"(",["T_VARIABLE","$tree",115],")",";",["T_WHITESPACE","\n      ",115],["T_VARIABLE","$renderer",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","renderRoot",116],"(",["T_VARIABLE","$build",116],")",";",["T_WHITESPACE","\n\n      ",116],["T_VARIABLE","$expected_cacheability",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$default_menu_cacheability",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","merge",118],"(",["T_VARIABLE","$expectation",118],"[",["T_CONSTANT_ENCAPSED_STRING","'cacheability'",118],"]",")",";",["T_WHITESPACE","\n      ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertEqual",119],"(",["T_VARIABLE","$expected_cacheability",119],",",["T_WHITESPACE"," ",119],["T_STRING","BubbleableMetadata",119],["T_DOUBLE_COLON","::",119],["T_STRING","createFromRenderArray",119],"(",["T_VARIABLE","$build",119],")",")",";",["T_WHITESPACE","\n\n      ",119],["T_VARIABLE","$menu_link_content",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","delete",121],"(",")",";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n\n    ",122],["T_COMMENT","\/\/ Now test them all together in one menu: the rendered menu's cacheability\n",124],["T_WHITESPACE","    ",125],["T_COMMENT","\/\/ metadata should be the combination of the cacheability of all links, and\n",125],["T_WHITESPACE","    ",126],["T_COMMENT","\/\/ thus of all tested outbound path & route processors.\n",126],["T_WHITESPACE","    ",127],["T_VARIABLE","$expected_cacheability",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_NEW","new",127],["T_WHITESPACE"," ",127],["T_STRING","BubbleableMetadata",127],"(",")",";",["T_WHITESPACE","\n    ",127],["T_FOREACH","foreach",128],["T_WHITESPACE"," ",128],"(",["T_VARIABLE","$test_cases",128],["T_WHITESPACE"," ",128],["T_AS","as",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$expectation",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n      ",128],["T_VARIABLE","$menu_link_content",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_STRING","MenuLinkContent",129],["T_DOUBLE_COLON","::",129],["T_STRING","create",129],"(","[",["T_WHITESPACE","\n        ",129],["T_CONSTANT_ENCAPSED_STRING","'link'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],"[",["T_CONSTANT_ENCAPSED_STRING","'uri'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$expectation",130],"[",["T_CONSTANT_ENCAPSED_STRING","'uri'",130],"]","]",",",["T_WHITESPACE","\n        ",130],["T_CONSTANT_ENCAPSED_STRING","'menu_name'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'tools'",131],",",["T_WHITESPACE","\n      ",131],"]",")",";",["T_WHITESPACE","\n      ",132],["T_VARIABLE","$menu_link_content",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","save",133],"(",")",";",["T_WHITESPACE","\n      ",133],["T_VARIABLE","$expected_cacheability",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$expected_cacheability",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","merge",134],"(",["T_VARIABLE","$expectation",134],"[",["T_CONSTANT_ENCAPSED_STRING","'cacheability'",134],"]",")",";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$tree",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$menu_tree",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","load",136],"(",["T_CONSTANT_ENCAPSED_STRING","'tools'",136],",",["T_WHITESPACE"," ",136],["T_NEW","new",136],["T_WHITESPACE"," ",136],["T_STRING","MenuTreeParameters",136],"(",")",")",";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$build",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$menu_tree",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","build",137],"(",["T_VARIABLE","$tree",137],")",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$renderer",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","renderRoot",138],"(",["T_VARIABLE","$build",138],")",";",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$expected_cacheability",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$expected_cacheability",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","merge",139],"(",["T_VARIABLE","$default_menu_cacheability",139],")",";",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","assertEqual",140],"(",["T_VARIABLE","$expected_cacheability",140],",",["T_WHITESPACE"," ",140],["T_STRING","BubbleableMetadata",140],["T_DOUBLE_COLON","::",140],["T_STRING","createFromRenderArray",140],"(",["T_VARIABLE","$build",140],")",")",";",["T_WHITESPACE","\n  ",140],"}",["T_WHITESPACE","\n\n",141],"}",["T_WHITESPACE","\n",143]]