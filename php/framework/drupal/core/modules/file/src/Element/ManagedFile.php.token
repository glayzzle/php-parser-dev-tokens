[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","file",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Element",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Crypt",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Utility",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Html",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Component",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Utility",7],["T_NS_SEPARATOR","\\",7],["T_STRING","NestedArray",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Ajax",8],["T_NS_SEPARATOR","\\",8],["T_STRING","AjaxResponse",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Ajax",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ReplaceCommand",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Form",10],["T_NS_SEPARATOR","\\",10],["T_STRING","FormStateInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Render",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Element",11],["T_NS_SEPARATOR","\\",11],["T_STRING","FormElement",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Site",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Settings",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Core",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Url",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Drupal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","file",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Entity",14],["T_NS_SEPARATOR","\\",14],["T_STRING","File",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","HttpFoundation",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Request",15],";",["T_WHITESPACE","\n\n",15],["T_DOC_COMMENT","\/**\n * Provides an AJAX\/progress aware widget for uploading and saving a file.\n *\n * @FormElement(\"managed_file\")\n *\/",17],["T_WHITESPACE","\n",21],["T_CLASS","class",22],["T_WHITESPACE"," ",22],["T_STRING","ManagedFile",22],["T_WHITESPACE"," ",22],["T_EXTENDS","extends",22],["T_WHITESPACE"," ",22],["T_STRING","FormElement",22],["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",24],["T_WHITESPACE","\n  ",26],["T_PUBLIC","public",27],["T_WHITESPACE"," ",27],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","getInfo",27],"(",")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n    ",27],["T_VARIABLE","$class",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_STRING","get_class",28],"(",["T_VARIABLE","$this",28],")",";",["T_WHITESPACE","\n    ",28],["T_RETURN","return",29],["T_WHITESPACE"," ",29],"[",["T_WHITESPACE","\n      ",29],["T_CONSTANT_ENCAPSED_STRING","'#input'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_STRING","TRUE",30],",",["T_WHITESPACE","\n      ",30],["T_CONSTANT_ENCAPSED_STRING","'#process'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],"[",["T_WHITESPACE","\n        ",31],"[",["T_VARIABLE","$class",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'processManagedFile'",32],"]",",",["T_WHITESPACE","\n      ",32],"]",",",["T_WHITESPACE","\n      ",33],["T_CONSTANT_ENCAPSED_STRING","'#element_validate'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],"[",["T_WHITESPACE","\n        ",34],"[",["T_VARIABLE","$class",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'validateManagedFile'",35],"]",",",["T_WHITESPACE","\n      ",35],"]",",",["T_WHITESPACE","\n      ",36],["T_CONSTANT_ENCAPSED_STRING","'#pre_render'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],"[",["T_WHITESPACE","\n        ",37],"[",["T_VARIABLE","$class",38],",",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'preRenderManagedFile'",38],"]",",",["T_WHITESPACE","\n      ",38],"]",",",["T_WHITESPACE","\n      ",39],["T_CONSTANT_ENCAPSED_STRING","'#theme'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'file_managed_file'",40],",",["T_WHITESPACE","\n      ",40],["T_CONSTANT_ENCAPSED_STRING","'#theme_wrappers'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],"[",["T_CONSTANT_ENCAPSED_STRING","'form_element'",41],"]",",",["T_WHITESPACE","\n      ",41],["T_CONSTANT_ENCAPSED_STRING","'#progress_indicator'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'throbber'",42],",",["T_WHITESPACE","\n      ",42],["T_CONSTANT_ENCAPSED_STRING","'#progress_message'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_STRING","NULL",43],",",["T_WHITESPACE","\n      ",43],["T_CONSTANT_ENCAPSED_STRING","'#upload_validators'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],"[","]",",",["T_WHITESPACE","\n      ",44],["T_CONSTANT_ENCAPSED_STRING","'#upload_location'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_STRING","NULL",45],",",["T_WHITESPACE","\n      ",45],["T_CONSTANT_ENCAPSED_STRING","'#size'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_LNUMBER","22",46],",",["T_WHITESPACE","\n      ",46],["T_CONSTANT_ENCAPSED_STRING","'#multiple'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_STRING","FALSE",47],",",["T_WHITESPACE","\n      ",47],["T_CONSTANT_ENCAPSED_STRING","'#extended'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_STRING","FALSE",48],",",["T_WHITESPACE","\n      ",48],["T_CONSTANT_ENCAPSED_STRING","'#attached'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],"[",["T_WHITESPACE","\n        ",49],["T_CONSTANT_ENCAPSED_STRING","'library'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],"[",["T_CONSTANT_ENCAPSED_STRING","'file\/drupal.file'",50],"]",",",["T_WHITESPACE","\n      ",50],"]",",",["T_WHITESPACE","\n    ",51],"]",";",["T_WHITESPACE","\n  ",52],"}",["T_WHITESPACE","\n\n  ",53],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",55],["T_WHITESPACE","\n  ",57],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_STATIC","static",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","valueCallback",58],"(","&",["T_VARIABLE","$element",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$input",58],",",["T_WHITESPACE"," ",58],["T_STRING","FormStateInterface",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$form_state",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n    ",58],["T_COMMENT","\/\/ Find the current value of this field.\n",59],["T_WHITESPACE","    ",60],["T_VARIABLE","$fids",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],"!",["T_EMPTY","empty",60],"(",["T_VARIABLE","$input",60],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",60],"]",")",["T_WHITESPACE"," ",60],"?",["T_WHITESPACE"," ",60],["T_STRING","explode",60],"(",["T_CONSTANT_ENCAPSED_STRING","' '",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$input",60],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",60],"]",")",["T_WHITESPACE"," ",60],":",["T_WHITESPACE"," ",60],"[","]",";",["T_WHITESPACE","\n    ",60],["T_FOREACH","foreach",61],["T_WHITESPACE"," ",61],"(",["T_VARIABLE","$fids",61],["T_WHITESPACE"," ",61],["T_AS","as",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$key",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$fid",61],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n      ",61],["T_VARIABLE","$fids",62],"[",["T_VARIABLE","$key",62],"]",["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_INT_CAST","(int)",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$fid",62],";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$force_default",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","FALSE",64],";",["T_WHITESPACE","\n\n    ",64],["T_COMMENT","\/\/ Process any input and save new uploads.\n",66],["T_WHITESPACE","    ",67],["T_IF","if",67],["T_WHITESPACE"," ",67],"(",["T_VARIABLE","$input",67],["T_WHITESPACE"," ",67],["T_IS_NOT_IDENTICAL","!==",67],["T_WHITESPACE"," ",67],["T_STRING","FALSE",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n      ",67],["T_VARIABLE","$input",68],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",68],"]",["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$fids",68],";",["T_WHITESPACE","\n      ",68],["T_VARIABLE","$return",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$input",69],";",["T_WHITESPACE","\n\n      ",69],["T_COMMENT","\/\/ Uploads take priority over all other values.\n",71],["T_WHITESPACE","      ",72],["T_IF","if",72],["T_WHITESPACE"," ",72],"(",["T_VARIABLE","$files",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","file_managed_file_save_upload",72],"(",["T_VARIABLE","$element",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$form_state",72],")",")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n        ",72],["T_IF","if",73],["T_WHITESPACE"," ",73],"(",["T_VARIABLE","$element",73],"[",["T_CONSTANT_ENCAPSED_STRING","'#multiple'",73],"]",")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n          ",73],["T_VARIABLE","$fids",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","array_merge",74],"(",["T_VARIABLE","$fids",74],",",["T_WHITESPACE"," ",74],["T_STRING","array_keys",74],"(",["T_VARIABLE","$files",74],")",")",";",["T_WHITESPACE","\n        ",74],"}",["T_WHITESPACE","\n        ",75],["T_ELSE","else",76],["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n          ",76],["T_VARIABLE","$fids",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_STRING","array_keys",77],"(",["T_VARIABLE","$files",77],")",";",["T_WHITESPACE","\n        ",77],"}",["T_WHITESPACE","\n      ",78],"}",["T_WHITESPACE","\n      ",79],["T_ELSE","else",80],["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n        ",80],["T_COMMENT","\/\/ Check for #filefield_value_callback values.\n",81],["T_WHITESPACE","        ",82],["T_COMMENT","\/\/ Because FAPI does not allow multiple #value_callback values like it\n",82],["T_WHITESPACE","        ",83],["T_COMMENT","\/\/ does for #element_validate and #process, this fills the missing\n",83],["T_WHITESPACE","        ",84],["T_COMMENT","\/\/ functionality to allow File fields to be extended through FAPI.\n",84],["T_WHITESPACE","        ",85],["T_IF","if",85],["T_WHITESPACE"," ",85],"(",["T_ISSET","isset",85],"(",["T_VARIABLE","$element",85],"[",["T_CONSTANT_ENCAPSED_STRING","'#file_value_callbacks'",85],"]",")",")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n          ",85],["T_FOREACH","foreach",86],["T_WHITESPACE"," ",86],"(",["T_VARIABLE","$element",86],"[",["T_CONSTANT_ENCAPSED_STRING","'#file_value_callbacks'",86],"]",["T_WHITESPACE"," ",86],["T_AS","as",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$callback",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n            ",86],["T_VARIABLE","$callback",87],"(",["T_VARIABLE","$element",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$input",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$form_state",87],")",";",["T_WHITESPACE","\n          ",87],"}",["T_WHITESPACE","\n        ",88],"}",["T_WHITESPACE","\n\n        ",89],["T_COMMENT","\/\/ Load files if the FIDs have changed to confirm they exist.\n",91],["T_WHITESPACE","        ",92],["T_IF","if",92],["T_WHITESPACE"," ",92],"(","!",["T_EMPTY","empty",92],"(",["T_VARIABLE","$input",92],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",92],"]",")",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n          ",92],["T_VARIABLE","$fids",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],"[","]",";",["T_WHITESPACE","\n          ",93],["T_FOREACH","foreach",94],["T_WHITESPACE"," ",94],"(",["T_VARIABLE","$input",94],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",94],"]",["T_WHITESPACE"," ",94],["T_AS","as",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$fid",94],")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n            ",94],["T_IF","if",95],["T_WHITESPACE"," ",95],"(",["T_VARIABLE","$file",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_STRING","File",95],["T_DOUBLE_COLON","::",95],["T_STRING","load",95],"(",["T_VARIABLE","$fid",95],")",")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n              ",95],["T_VARIABLE","$fids",96],"[","]",["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$file",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","id",96],"(",")",";",["T_WHITESPACE","\n              ",96],["T_COMMENT","\/\/ Temporary files that belong to other users should never be\n",97],["T_WHITESPACE","              ",98],["T_COMMENT","\/\/ allowed.\n",98],["T_WHITESPACE","              ",99],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_VARIABLE","$file",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","isTemporary",99],"(",")",")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n                ",99],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$file",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getOwnerId",100],"(",")",["T_WHITESPACE"," ",100],["T_IS_NOT_EQUAL","!=",100],["T_WHITESPACE"," ",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Drupal",100],["T_DOUBLE_COLON","::",100],["T_STRING","currentUser",100],"(",")",["T_OBJECT_OPERATOR","->",100],["T_STRING","id",100],"(",")",")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n                  ",100],["T_VARIABLE","$force_default",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_STRING","TRUE",101],";",["T_WHITESPACE","\n                  ",101],["T_BREAK","break",102],";",["T_WHITESPACE","\n                ",102],"}",["T_WHITESPACE","\n                ",103],["T_COMMENT","\/\/ Since file ownership can't be determined for anonymous users,\n",104],["T_WHITESPACE","                ",105],["T_COMMENT","\/\/ they are not allowed to reuse temporary files at all. But\n",105],["T_WHITESPACE","                ",106],["T_COMMENT","\/\/ they do need to be able to reuse their own files from earlier\n",106],["T_WHITESPACE","                ",107],["T_COMMENT","\/\/ submissions of the same form, so to allow that, check for the\n",107],["T_WHITESPACE","                ",108],["T_COMMENT","\/\/ token added by $this->processManagedFile().\n",108],["T_WHITESPACE","                ",109],["T_ELSEIF","elseif",109],["T_WHITESPACE"," ",109],"(",["T_NS_SEPARATOR","\\",109],["T_STRING","Drupal",109],["T_DOUBLE_COLON","::",109],["T_STRING","currentUser",109],"(",")",["T_OBJECT_OPERATOR","->",109],["T_STRING","isAnonymous",109],"(",")",")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n                  ",109],["T_VARIABLE","$token",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_STRING","NestedArray",110],["T_DOUBLE_COLON","::",110],["T_STRING","getValue",110],"(",["T_VARIABLE","$form_state",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getUserInput",110],"(",")",",",["T_WHITESPACE"," ",110],["T_STRING","array_merge",110],"(",["T_VARIABLE","$element",110],"[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",110],"]",",",["T_WHITESPACE"," ",110],["T_ARRAY","array",110],"(",["T_CONSTANT_ENCAPSED_STRING","'file_'",110],["T_WHITESPACE"," ",110],".",["T_WHITESPACE"," ",110],["T_VARIABLE","$file",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","id",110],"(",")",",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'fid_token'",110],")",")",")",";",["T_WHITESPACE","\n                  ",110],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_VARIABLE","$token",111],["T_WHITESPACE"," ",111],["T_IS_NOT_IDENTICAL","!==",111],["T_WHITESPACE"," ",111],["T_STRING","Crypt",111],["T_DOUBLE_COLON","::",111],["T_STRING","hmacBase64",111],"(",["T_CONSTANT_ENCAPSED_STRING","'file-'",111],["T_WHITESPACE"," ",111],".",["T_WHITESPACE"," ",111],["T_VARIABLE","$file",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","id",111],"(",")",",",["T_WHITESPACE"," ",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Drupal",111],["T_DOUBLE_COLON","::",111],["T_STRING","service",111],"(",["T_CONSTANT_ENCAPSED_STRING","'private_key'",111],")",["T_OBJECT_OPERATOR","->",111],["T_STRING","get",111],"(",")",["T_WHITESPACE"," ",111],".",["T_WHITESPACE"," ",111],["T_STRING","Settings",111],["T_DOUBLE_COLON","::",111],["T_STRING","getHashSalt",111],"(",")",")",")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n                    ",111],["T_VARIABLE","$force_default",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","TRUE",112],";",["T_WHITESPACE","\n                    ",112],["T_BREAK","break",113],";",["T_WHITESPACE","\n                  ",113],"}",["T_WHITESPACE","\n                ",114],"}",["T_WHITESPACE","\n              ",115],"}",["T_WHITESPACE","\n            ",116],"}",["T_WHITESPACE","\n          ",117],"}",["T_WHITESPACE","\n          ",118],["T_IF","if",119],["T_WHITESPACE"," ",119],"(",["T_VARIABLE","$force_default",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$fids",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],"[","]",";",["T_WHITESPACE","\n          ",120],"}",["T_WHITESPACE","\n        ",121],"}",["T_WHITESPACE","\n      ",122],"}",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n\n    ",124],["T_COMMENT","\/\/ If there is no input or if the default value was requested above, use the\n",126],["T_WHITESPACE","    ",127],["T_COMMENT","\/\/ default value.\n",127],["T_WHITESPACE","    ",128],["T_IF","if",128],["T_WHITESPACE"," ",128],"(",["T_VARIABLE","$input",128],["T_WHITESPACE"," ",128],["T_IS_IDENTICAL","===",128],["T_WHITESPACE"," ",128],["T_STRING","FALSE",128],["T_WHITESPACE"," ",128],["T_BOOLEAN_OR","||",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$force_default",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n      ",128],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_VARIABLE","$element",129],"[",["T_CONSTANT_ENCAPSED_STRING","'#extended'",129],"]",")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$default_fids",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_ISSET","isset",130],"(",["T_VARIABLE","$element",130],"[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",130],"]","[",["T_CONSTANT_ENCAPSED_STRING","'fids'",130],"]",")",["T_WHITESPACE"," ",130],"?",["T_WHITESPACE"," ",130],["T_VARIABLE","$element",130],"[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",130],"]","[",["T_CONSTANT_ENCAPSED_STRING","'fids'",130],"]",["T_WHITESPACE"," ",130],":",["T_WHITESPACE"," ",130],"[","]",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$return",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_ISSET","isset",131],"(",["T_VARIABLE","$element",131],"[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",131],"]",")",["T_WHITESPACE"," ",131],"?",["T_WHITESPACE"," ",131],["T_VARIABLE","$element",131],"[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",131],"]",["T_WHITESPACE"," ",131],":",["T_WHITESPACE"," ",131],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],"[","]","]",";",["T_WHITESPACE","\n      ",131],"}",["T_WHITESPACE","\n      ",132],["T_ELSE","else",133],["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$default_fids",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_ISSET","isset",134],"(",["T_VARIABLE","$element",134],"[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",134],"]",")",["T_WHITESPACE"," ",134],"?",["T_WHITESPACE"," ",134],["T_VARIABLE","$element",134],"[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",134],"]",["T_WHITESPACE"," ",134],":",["T_WHITESPACE"," ",134],"[","]",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$return",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],"[","]","]",";",["T_WHITESPACE","\n      ",135],"}",["T_WHITESPACE","\n\n      ",136],["T_COMMENT","\/\/ Confirm that the file exists when used as a default value.\n",138],["T_WHITESPACE","      ",139],["T_IF","if",139],["T_WHITESPACE"," ",139],"(","!",["T_EMPTY","empty",139],"(",["T_VARIABLE","$default_fids",139],")",")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$fids",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],"[","]",";",["T_WHITESPACE","\n        ",140],["T_FOREACH","foreach",141],["T_WHITESPACE"," ",141],"(",["T_VARIABLE","$default_fids",141],["T_WHITESPACE"," ",141],["T_AS","as",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$fid",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n          ",141],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$file",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_STRING","File",142],["T_DOUBLE_COLON","::",142],["T_STRING","load",142],"(",["T_VARIABLE","$fid",142],")",")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$fids",143],"[","]",["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$file",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","id",143],"(",")",";",["T_WHITESPACE","\n          ",143],"}",["T_WHITESPACE","\n        ",144],"}",["T_WHITESPACE","\n      ",145],"}",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n\n    ",147],["T_VARIABLE","$return",149],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",149],"]",["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$fids",149],";",["T_WHITESPACE","\n    ",149],["T_RETURN","return",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$return",150],";",["T_WHITESPACE","\n  ",150],"}",["T_WHITESPACE","\n\n  ",151],["T_DOC_COMMENT","\/**\n   * #ajax callback for managed_file upload forms.\n   *\n   * This ajax callback takes care of the following things:\n   *   - Ensures that broken requests due to too big files are caught.\n   *   - Adds a class to the response to be able to highlight in the UI, that a\n   *     new file got uploaded.\n   *\n   * @param array $form\n   *   The build form.\n   * @param \\Drupal\\Core\\Form\\FormStateInterface $form_state\n   *   The form state.\n   * @param \\Symfony\\Component\\HttpFoundation\\Request $request\n   *   The current request.\n   *\n   * @return \\Drupal\\Core\\Ajax\\AjaxResponse\n   *   The ajax response of the ajax upload.\n   *\/",153],["T_WHITESPACE","\n  ",170],["T_PUBLIC","public",171],["T_WHITESPACE"," ",171],["T_STATIC","static",171],["T_WHITESPACE"," ",171],["T_FUNCTION","function",171],["T_WHITESPACE"," ",171],["T_STRING","uploadAjaxCallback",171],"(","&",["T_VARIABLE","$form",171],",",["T_WHITESPACE"," ",171],["T_STRING","FormStateInterface",171],["T_WHITESPACE"," ",171],"&",["T_VARIABLE","$form_state",171],",",["T_WHITESPACE"," ",171],["T_STRING","Request",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$request",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n    ",171],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Render\\RendererInterface $renderer *\/",172],["T_WHITESPACE","\n    ",172],["T_VARIABLE","$renderer",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Drupal",173],["T_DOUBLE_COLON","::",173],["T_STRING","service",173],"(",["T_CONSTANT_ENCAPSED_STRING","'renderer'",173],")",";",["T_WHITESPACE","\n\n    ",173],["T_VARIABLE","$form_parents",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_STRING","explode",175],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$request",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","query",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","get",175],"(",["T_CONSTANT_ENCAPSED_STRING","'element_parents'",175],")",")",";",["T_WHITESPACE","\n\n    ",175],["T_COMMENT","\/\/ Retrieve the element to be rendered.\n",177],["T_WHITESPACE","    ",178],["T_VARIABLE","$form",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_STRING","NestedArray",178],["T_DOUBLE_COLON","::",178],["T_STRING","getValue",178],"(",["T_VARIABLE","$form",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$form_parents",178],")",";",["T_WHITESPACE","\n\n    ",178],["T_COMMENT","\/\/ Add the special AJAX class if a new file was added.\n",180],["T_WHITESPACE","    ",181],["T_VARIABLE","$current_file_count",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$form_state",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","get",181],"(",["T_CONSTANT_ENCAPSED_STRING","'file_upload_delta_initial'",181],")",";",["T_WHITESPACE","\n    ",181],["T_IF","if",182],["T_WHITESPACE"," ",182],"(",["T_ISSET","isset",182],"(",["T_VARIABLE","$form",182],"[",["T_CONSTANT_ENCAPSED_STRING","'#file_upload_delta'",182],"]",")",["T_WHITESPACE"," ",182],["T_BOOLEAN_AND","&&",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$current_file_count",182],["T_WHITESPACE"," ",182],"<",["T_WHITESPACE"," ",182],["T_VARIABLE","$form",182],"[",["T_CONSTANT_ENCAPSED_STRING","'#file_upload_delta'",182],"]",")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n      ",182],["T_VARIABLE","$form",183],"[",["T_VARIABLE","$current_file_count",183],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",183],"]","[",["T_CONSTANT_ENCAPSED_STRING","'class'",183],"]","[","]",["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'ajax-new-content'",183],";",["T_WHITESPACE","\n    ",183],"}",["T_WHITESPACE","\n    ",184],["T_COMMENT","\/\/ Otherwise just add the new content class on a placeholder.\n",185],["T_WHITESPACE","    ",186],["T_ELSE","else",186],["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n      ",186],["T_VARIABLE","$form",187],"[",["T_CONSTANT_ENCAPSED_STRING","'#suffix'",187],"]",["T_WHITESPACE"," ",187],["T_CONCAT_EQUAL",".=",187],["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'<span class=\"ajax-new-content\"><\/span>'",187],";",["T_WHITESPACE","\n    ",187],"}",["T_WHITESPACE","\n\n    ",188],["T_VARIABLE","$status_messages",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],"[",["T_CONSTANT_ENCAPSED_STRING","'#type'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'status_messages'",190],"]",";",["T_WHITESPACE","\n    ",190],["T_VARIABLE","$form",191],"[",["T_CONSTANT_ENCAPSED_STRING","'#prefix'",191],"]",["T_WHITESPACE"," ",191],["T_CONCAT_EQUAL",".=",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$renderer",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","renderRoot",191],"(",["T_VARIABLE","$status_messages",191],")",";",["T_WHITESPACE","\n    ",191],["T_VARIABLE","$output",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$renderer",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","renderRoot",192],"(",["T_VARIABLE","$form",192],")",";",["T_WHITESPACE","\n\n    ",192],["T_VARIABLE","$response",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_NEW","new",194],["T_WHITESPACE"," ",194],["T_STRING","AjaxResponse",194],"(",")",";",["T_WHITESPACE","\n    ",194],["T_VARIABLE","$response",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","setAttachments",195],"(",["T_VARIABLE","$form",195],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",195],"]",")",";",["T_WHITESPACE","\n\n    ",195],["T_RETURN","return",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$response",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","addCommand",197],"(",["T_NEW","new",197],["T_WHITESPACE"," ",197],["T_STRING","ReplaceCommand",197],"(",["T_STRING","NULL",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$output",197],")",")",";",["T_WHITESPACE","\n  ",197],"}",["T_WHITESPACE","\n\n  ",198],["T_DOC_COMMENT","\/**\n   * Render API callback: Expands the managed_file element type.\n   *\n   * Expands the file type to include Upload and Remove buttons, as well as\n   * support for a default value.\n   *\/",200],["T_WHITESPACE","\n  ",205],["T_PUBLIC","public",206],["T_WHITESPACE"," ",206],["T_STATIC","static",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","processManagedFile",206],"(","&",["T_VARIABLE","$element",206],",",["T_WHITESPACE"," ",206],["T_STRING","FormStateInterface",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$form_state",206],",",["T_WHITESPACE"," ",206],"&",["T_VARIABLE","$complete_form",206],")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n\n    ",206],["T_COMMENT","\/\/ This is used sometimes so let's implode it just once.\n",208],["T_WHITESPACE","    ",209],["T_VARIABLE","$parents_prefix",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_STRING","implode",209],"(",["T_CONSTANT_ENCAPSED_STRING","'_'",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$element",209],"[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",209],"]",")",";",["T_WHITESPACE","\n\n    ",209],["T_VARIABLE","$fids",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_ISSET","isset",211],"(",["T_VARIABLE","$element",211],"[",["T_CONSTANT_ENCAPSED_STRING","'#value'",211],"]","[",["T_CONSTANT_ENCAPSED_STRING","'fids'",211],"]",")",["T_WHITESPACE"," ",211],"?",["T_WHITESPACE"," ",211],["T_VARIABLE","$element",211],"[",["T_CONSTANT_ENCAPSED_STRING","'#value'",211],"]","[",["T_CONSTANT_ENCAPSED_STRING","'fids'",211],"]",["T_WHITESPACE"," ",211],":",["T_WHITESPACE"," ",211],"[","]",";",["T_WHITESPACE","\n\n    ",211],["T_COMMENT","\/\/ Set some default element properties.\n",213],["T_WHITESPACE","    ",214],["T_VARIABLE","$element",214],"[",["T_CONSTANT_ENCAPSED_STRING","'#progress_indicator'",214],"]",["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_EMPTY","empty",214],"(",["T_VARIABLE","$element",214],"[",["T_CONSTANT_ENCAPSED_STRING","'#progress_indicator'",214],"]",")",["T_WHITESPACE"," ",214],"?",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'none'",214],["T_WHITESPACE"," ",214],":",["T_WHITESPACE"," ",214],["T_VARIABLE","$element",214],"[",["T_CONSTANT_ENCAPSED_STRING","'#progress_indicator'",214],"]",";",["T_WHITESPACE","\n    ",214],["T_VARIABLE","$element",215],"[",["T_CONSTANT_ENCAPSED_STRING","'#files'",215],"]",["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],"!",["T_EMPTY","empty",215],"(",["T_VARIABLE","$fids",215],")",["T_WHITESPACE"," ",215],"?",["T_WHITESPACE"," ",215],["T_STRING","File",215],["T_DOUBLE_COLON","::",215],["T_STRING","loadMultiple",215],"(",["T_VARIABLE","$fids",215],")",["T_WHITESPACE"," ",215],":",["T_WHITESPACE"," ",215],["T_STRING","FALSE",215],";",["T_WHITESPACE","\n    ",215],["T_VARIABLE","$element",216],"[",["T_CONSTANT_ENCAPSED_STRING","'#tree'",216],"]",["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_STRING","TRUE",216],";",["T_WHITESPACE","\n\n    ",216],["T_COMMENT","\/\/ Generate a unique wrapper HTML ID.\n",218],["T_WHITESPACE","    ",219],["T_VARIABLE","$ajax_wrapper_id",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_STRING","Html",219],["T_DOUBLE_COLON","::",219],["T_STRING","getUniqueId",219],"(",["T_CONSTANT_ENCAPSED_STRING","'ajax-wrapper'",219],")",";",["T_WHITESPACE","\n\n    ",219],["T_VARIABLE","$ajax_settings",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],"[",["T_WHITESPACE","\n      ",221],["T_CONSTANT_ENCAPSED_STRING","'callback'",222],["T_WHITESPACE"," ",222],["T_DOUBLE_ARROW","=>",222],["T_WHITESPACE"," ",222],"[",["T_STRING","get_called_class",222],"(",")",",",["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","'uploadAjaxCallback'",222],"]",",",["T_WHITESPACE","\n      ",222],["T_CONSTANT_ENCAPSED_STRING","'options'",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],"[",["T_WHITESPACE","\n        ",223],["T_CONSTANT_ENCAPSED_STRING","'query'",224],["T_WHITESPACE"," ",224],["T_DOUBLE_ARROW","=>",224],["T_WHITESPACE"," ",224],"[",["T_WHITESPACE","\n          ",224],["T_CONSTANT_ENCAPSED_STRING","'element_parents'",225],["T_WHITESPACE"," ",225],["T_DOUBLE_ARROW","=>",225],["T_WHITESPACE"," ",225],["T_STRING","implode",225],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$element",225],"[",["T_CONSTANT_ENCAPSED_STRING","'#array_parents'",225],"]",")",",",["T_WHITESPACE","\n        ",225],"]",",",["T_WHITESPACE","\n      ",226],"]",",",["T_WHITESPACE","\n      ",227],["T_CONSTANT_ENCAPSED_STRING","'wrapper'",228],["T_WHITESPACE"," ",228],["T_DOUBLE_ARROW","=>",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$ajax_wrapper_id",228],",",["T_WHITESPACE","\n      ",228],["T_CONSTANT_ENCAPSED_STRING","'effect'",229],["T_WHITESPACE"," ",229],["T_DOUBLE_ARROW","=>",229],["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'fade'",229],",",["T_WHITESPACE","\n      ",229],["T_CONSTANT_ENCAPSED_STRING","'progress'",230],["T_WHITESPACE"," ",230],["T_DOUBLE_ARROW","=>",230],["T_WHITESPACE"," ",230],"[",["T_WHITESPACE","\n        ",230],["T_CONSTANT_ENCAPSED_STRING","'type'",231],["T_WHITESPACE"," ",231],["T_DOUBLE_ARROW","=>",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$element",231],"[",["T_CONSTANT_ENCAPSED_STRING","'#progress_indicator'",231],"]",",",["T_WHITESPACE","\n        ",231],["T_CONSTANT_ENCAPSED_STRING","'message'",232],["T_WHITESPACE"," ",232],["T_DOUBLE_ARROW","=>",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$element",232],"[",["T_CONSTANT_ENCAPSED_STRING","'#progress_message'",232],"]",",",["T_WHITESPACE","\n      ",232],"]",",",["T_WHITESPACE","\n    ",233],"]",";",["T_WHITESPACE","\n\n    ",234],["T_COMMENT","\/\/ Set up the buttons first since we need to check if they were clicked.\n",236],["T_WHITESPACE","    ",237],["T_VARIABLE","$element",237],"[",["T_CONSTANT_ENCAPSED_STRING","'upload_button'",237],"]",["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],"[",["T_WHITESPACE","\n      ",237],["T_CONSTANT_ENCAPSED_STRING","'#name'",238],["T_WHITESPACE"," ",238],["T_DOUBLE_ARROW","=>",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$parents_prefix",238],["T_WHITESPACE"," ",238],".",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","'_upload_button'",238],",",["T_WHITESPACE","\n      ",238],["T_CONSTANT_ENCAPSED_STRING","'#type'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'submit'",239],",",["T_WHITESPACE","\n      ",239],["T_CONSTANT_ENCAPSED_STRING","'#value'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_STRING","t",240],"(",["T_CONSTANT_ENCAPSED_STRING","'Upload'",240],")",",",["T_WHITESPACE","\n      ",240],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",241],["T_WHITESPACE"," ",241],["T_DOUBLE_ARROW","=>",241],["T_WHITESPACE"," ",241],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",241],["T_WHITESPACE"," ",241],["T_DOUBLE_ARROW","=>",241],["T_WHITESPACE"," ",241],"[",["T_CONSTANT_ENCAPSED_STRING","'js-hide'",241],"]","]",",",["T_WHITESPACE","\n      ",241],["T_CONSTANT_ENCAPSED_STRING","'#validate'",242],["T_WHITESPACE"," ",242],["T_DOUBLE_ARROW","=>",242],["T_WHITESPACE"," ",242],"[","]",",",["T_WHITESPACE","\n      ",242],["T_CONSTANT_ENCAPSED_STRING","'#submit'",243],["T_WHITESPACE"," ",243],["T_DOUBLE_ARROW","=>",243],["T_WHITESPACE"," ",243],"[",["T_CONSTANT_ENCAPSED_STRING","'file_managed_file_submit'",243],"]",",",["T_WHITESPACE","\n      ",243],["T_CONSTANT_ENCAPSED_STRING","'#limit_validation_errors'",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],"[",["T_VARIABLE","$element",244],"[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",244],"]","]",",",["T_WHITESPACE","\n      ",244],["T_CONSTANT_ENCAPSED_STRING","'#ajax'",245],["T_WHITESPACE"," ",245],["T_DOUBLE_ARROW","=>",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$ajax_settings",245],",",["T_WHITESPACE","\n      ",245],["T_CONSTANT_ENCAPSED_STRING","'#weight'",246],["T_WHITESPACE"," ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],"-",["T_LNUMBER","5",246],",",["T_WHITESPACE","\n    ",246],"]",";",["T_WHITESPACE","\n\n    ",247],["T_COMMENT","\/\/ Force the progress indicator for the remove button to be either 'none' or\n",249],["T_WHITESPACE","    ",250],["T_COMMENT","\/\/ 'throbber', even if the upload button is using something else.\n",250],["T_WHITESPACE","    ",251],["T_VARIABLE","$ajax_settings",251],"[",["T_CONSTANT_ENCAPSED_STRING","'progress'",251],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",251],"]",["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],"(",["T_VARIABLE","$element",251],"[",["T_CONSTANT_ENCAPSED_STRING","'#progress_indicator'",251],"]",["T_WHITESPACE"," ",251],["T_IS_EQUAL","==",251],["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","'none'",251],")",["T_WHITESPACE"," ",251],"?",["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","'none'",251],["T_WHITESPACE"," ",251],":",["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","'throbber'",251],";",["T_WHITESPACE","\n    ",251],["T_VARIABLE","$ajax_settings",252],"[",["T_CONSTANT_ENCAPSED_STRING","'progress'",252],"]","[",["T_CONSTANT_ENCAPSED_STRING","'message'",252],"]",["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_STRING","NULL",252],";",["T_WHITESPACE","\n    ",252],["T_VARIABLE","$ajax_settings",253],"[",["T_CONSTANT_ENCAPSED_STRING","'effect'",253],"]",["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'none'",253],";",["T_WHITESPACE","\n    ",253],["T_VARIABLE","$element",254],"[",["T_CONSTANT_ENCAPSED_STRING","'remove_button'",254],"]",["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],"[",["T_WHITESPACE","\n      ",254],["T_CONSTANT_ENCAPSED_STRING","'#name'",255],["T_WHITESPACE"," ",255],["T_DOUBLE_ARROW","=>",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$parents_prefix",255],["T_WHITESPACE"," ",255],".",["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","'_remove_button'",255],",",["T_WHITESPACE","\n      ",255],["T_CONSTANT_ENCAPSED_STRING","'#type'",256],["T_WHITESPACE"," ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'submit'",256],",",["T_WHITESPACE","\n      ",256],["T_CONSTANT_ENCAPSED_STRING","'#value'",257],["T_WHITESPACE"," ",257],["T_DOUBLE_ARROW","=>",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$element",257],"[",["T_CONSTANT_ENCAPSED_STRING","'#multiple'",257],"]",["T_WHITESPACE"," ",257],"?",["T_WHITESPACE"," ",257],["T_STRING","t",257],"(",["T_CONSTANT_ENCAPSED_STRING","'Remove selected'",257],")",["T_WHITESPACE"," ",257],":",["T_WHITESPACE"," ",257],["T_STRING","t",257],"(",["T_CONSTANT_ENCAPSED_STRING","'Remove'",257],")",",",["T_WHITESPACE","\n      ",257],["T_CONSTANT_ENCAPSED_STRING","'#validate'",258],["T_WHITESPACE"," ",258],["T_DOUBLE_ARROW","=>",258],["T_WHITESPACE"," ",258],"[","]",",",["T_WHITESPACE","\n      ",258],["T_CONSTANT_ENCAPSED_STRING","'#submit'",259],["T_WHITESPACE"," ",259],["T_DOUBLE_ARROW","=>",259],["T_WHITESPACE"," ",259],"[",["T_CONSTANT_ENCAPSED_STRING","'file_managed_file_submit'",259],"]",",",["T_WHITESPACE","\n      ",259],["T_CONSTANT_ENCAPSED_STRING","'#limit_validation_errors'",260],["T_WHITESPACE"," ",260],["T_DOUBLE_ARROW","=>",260],["T_WHITESPACE"," ",260],"[",["T_VARIABLE","$element",260],"[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",260],"]","]",",",["T_WHITESPACE","\n      ",260],["T_CONSTANT_ENCAPSED_STRING","'#ajax'",261],["T_WHITESPACE"," ",261],["T_DOUBLE_ARROW","=>",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$ajax_settings",261],",",["T_WHITESPACE","\n      ",261],["T_CONSTANT_ENCAPSED_STRING","'#weight'",262],["T_WHITESPACE"," ",262],["T_DOUBLE_ARROW","=>",262],["T_WHITESPACE"," ",262],["T_LNUMBER","1",262],",",["T_WHITESPACE","\n    ",262],"]",";",["T_WHITESPACE","\n\n    ",263],["T_VARIABLE","$element",265],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",265],"]",["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],"[",["T_WHITESPACE","\n      ",265],["T_CONSTANT_ENCAPSED_STRING","'#type'",266],["T_WHITESPACE"," ",266],["T_DOUBLE_ARROW","=>",266],["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","'hidden'",266],",",["T_WHITESPACE","\n      ",266],["T_CONSTANT_ENCAPSED_STRING","'#value'",267],["T_WHITESPACE"," ",267],["T_DOUBLE_ARROW","=>",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$fids",267],",",["T_WHITESPACE","\n    ",267],"]",";",["T_WHITESPACE","\n\n    ",268],["T_COMMENT","\/\/ Add progress bar support to the upload if possible.\n",270],["T_WHITESPACE","    ",271],["T_IF","if",271],["T_WHITESPACE"," ",271],"(",["T_VARIABLE","$element",271],"[",["T_CONSTANT_ENCAPSED_STRING","'#progress_indicator'",271],"]",["T_WHITESPACE"," ",271],["T_IS_EQUAL","==",271],["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","'bar'",271],["T_WHITESPACE"," ",271],["T_BOOLEAN_AND","&&",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$implementation",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_STRING","file_progress_implementation",271],"(",")",")",["T_WHITESPACE"," ",271],"{",["T_WHITESPACE","\n      ",271],["T_VARIABLE","$upload_progress_key",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_STRING","mt_rand",272],"(",")",";",["T_WHITESPACE","\n\n      ",272],["T_IF","if",274],["T_WHITESPACE"," ",274],"(",["T_VARIABLE","$implementation",274],["T_WHITESPACE"," ",274],["T_IS_EQUAL","==",274],["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'uploadprogress'",274],")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n        ",274],["T_VARIABLE","$element",275],"[",["T_CONSTANT_ENCAPSED_STRING","'UPLOAD_IDENTIFIER'",275],"]",["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],"[",["T_WHITESPACE","\n          ",275],["T_CONSTANT_ENCAPSED_STRING","'#type'",276],["T_WHITESPACE"," ",276],["T_DOUBLE_ARROW","=>",276],["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'hidden'",276],",",["T_WHITESPACE","\n          ",276],["T_CONSTANT_ENCAPSED_STRING","'#value'",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$upload_progress_key",277],",",["T_WHITESPACE","\n          ",277],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],"[",["T_CONSTANT_ENCAPSED_STRING","'file-progress'",278],"]","]",",",["T_WHITESPACE","\n          ",278],["T_COMMENT","\/\/ Uploadprogress extension requires this field to be at the top of\n",279],["T_WHITESPACE","          ",280],["T_COMMENT","\/\/ the form.\n",280],["T_WHITESPACE","          ",281],["T_CONSTANT_ENCAPSED_STRING","'#weight'",281],["T_WHITESPACE"," ",281],["T_DOUBLE_ARROW","=>",281],["T_WHITESPACE"," ",281],"-",["T_LNUMBER","20",281],",",["T_WHITESPACE","\n        ",281],"]",";",["T_WHITESPACE","\n      ",282],"}",["T_WHITESPACE","\n      ",283],["T_ELSEIF","elseif",284],["T_WHITESPACE"," ",284],"(",["T_VARIABLE","$implementation",284],["T_WHITESPACE"," ",284],["T_IS_EQUAL","==",284],["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'apc'",284],")",["T_WHITESPACE"," ",284],"{",["T_WHITESPACE","\n        ",284],["T_VARIABLE","$element",285],"[",["T_CONSTANT_ENCAPSED_STRING","'APC_UPLOAD_PROGRESS'",285],"]",["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],"[",["T_WHITESPACE","\n          ",285],["T_CONSTANT_ENCAPSED_STRING","'#type'",286],["T_WHITESPACE"," ",286],["T_DOUBLE_ARROW","=>",286],["T_WHITESPACE"," ",286],["T_CONSTANT_ENCAPSED_STRING","'hidden'",286],",",["T_WHITESPACE","\n          ",286],["T_CONSTANT_ENCAPSED_STRING","'#value'",287],["T_WHITESPACE"," ",287],["T_DOUBLE_ARROW","=>",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$upload_progress_key",287],",",["T_WHITESPACE","\n          ",287],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",288],["T_WHITESPACE"," ",288],["T_DOUBLE_ARROW","=>",288],["T_WHITESPACE"," ",288],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",288],["T_WHITESPACE"," ",288],["T_DOUBLE_ARROW","=>",288],["T_WHITESPACE"," ",288],"[",["T_CONSTANT_ENCAPSED_STRING","'file-progress'",288],"]","]",",",["T_WHITESPACE","\n          ",288],["T_COMMENT","\/\/ Uploadprogress extension requires this field to be at the top of\n",289],["T_WHITESPACE","          ",290],["T_COMMENT","\/\/ the form.\n",290],["T_WHITESPACE","          ",291],["T_CONSTANT_ENCAPSED_STRING","'#weight'",291],["T_WHITESPACE"," ",291],["T_DOUBLE_ARROW","=>",291],["T_WHITESPACE"," ",291],"-",["T_LNUMBER","20",291],",",["T_WHITESPACE","\n        ",291],"]",";",["T_WHITESPACE","\n      ",292],"}",["T_WHITESPACE","\n\n      ",293],["T_COMMENT","\/\/ Add the upload progress callback.\n",295],["T_WHITESPACE","      ",296],["T_VARIABLE","$element",296],"[",["T_CONSTANT_ENCAPSED_STRING","'upload_button'",296],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#ajax'",296],"]","[",["T_CONSTANT_ENCAPSED_STRING","'progress'",296],"]","[",["T_CONSTANT_ENCAPSED_STRING","'url'",296],"]",["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_STRING","Url",296],["T_DOUBLE_COLON","::",296],["T_STRING","fromRoute",296],"(",["T_CONSTANT_ENCAPSED_STRING","'file.ajax_progress'",296],",",["T_WHITESPACE"," ",296],"[",["T_CONSTANT_ENCAPSED_STRING","'key'",296],["T_WHITESPACE"," ",296],["T_DOUBLE_ARROW","=>",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$upload_progress_key",296],"]",")",";",["T_WHITESPACE","\n    ",296],"}",["T_WHITESPACE","\n\n    ",297],["T_COMMENT","\/\/ The file upload field itself.\n",299],["T_WHITESPACE","    ",300],["T_VARIABLE","$element",300],"[",["T_CONSTANT_ENCAPSED_STRING","'upload'",300],"]",["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],"[",["T_WHITESPACE","\n      ",300],["T_CONSTANT_ENCAPSED_STRING","'#name'",301],["T_WHITESPACE"," ",301],["T_DOUBLE_ARROW","=>",301],["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'files['",301],["T_WHITESPACE"," ",301],".",["T_WHITESPACE"," ",301],["T_VARIABLE","$parents_prefix",301],["T_WHITESPACE"," ",301],".",["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","']'",301],",",["T_WHITESPACE","\n      ",301],["T_CONSTANT_ENCAPSED_STRING","'#type'",302],["T_WHITESPACE"," ",302],["T_DOUBLE_ARROW","=>",302],["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","'file'",302],",",["T_WHITESPACE","\n      ",302],["T_CONSTANT_ENCAPSED_STRING","'#title'",303],["T_WHITESPACE"," ",303],["T_DOUBLE_ARROW","=>",303],["T_WHITESPACE"," ",303],["T_STRING","t",303],"(",["T_CONSTANT_ENCAPSED_STRING","'Choose a file'",303],")",",",["T_WHITESPACE","\n      ",303],["T_CONSTANT_ENCAPSED_STRING","'#title_display'",304],["T_WHITESPACE"," ",304],["T_DOUBLE_ARROW","=>",304],["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","'invisible'",304],",",["T_WHITESPACE","\n      ",304],["T_CONSTANT_ENCAPSED_STRING","'#size'",305],["T_WHITESPACE"," ",305],["T_DOUBLE_ARROW","=>",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$element",305],"[",["T_CONSTANT_ENCAPSED_STRING","'#size'",305],"]",",",["T_WHITESPACE","\n      ",305],["T_CONSTANT_ENCAPSED_STRING","'#multiple'",306],["T_WHITESPACE"," ",306],["T_DOUBLE_ARROW","=>",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$element",306],"[",["T_CONSTANT_ENCAPSED_STRING","'#multiple'",306],"]",",",["T_WHITESPACE","\n      ",306],["T_CONSTANT_ENCAPSED_STRING","'#theme_wrappers'",307],["T_WHITESPACE"," ",307],["T_DOUBLE_ARROW","=>",307],["T_WHITESPACE"," ",307],"[","]",",",["T_WHITESPACE","\n      ",307],["T_CONSTANT_ENCAPSED_STRING","'#weight'",308],["T_WHITESPACE"," ",308],["T_DOUBLE_ARROW","=>",308],["T_WHITESPACE"," ",308],"-",["T_LNUMBER","10",308],",",["T_WHITESPACE","\n      ",308],["T_CONSTANT_ENCAPSED_STRING","'#error_no_message'",309],["T_WHITESPACE"," ",309],["T_DOUBLE_ARROW","=>",309],["T_WHITESPACE"," ",309],["T_STRING","TRUE",309],",",["T_WHITESPACE","\n    ",309],"]",";",["T_WHITESPACE","\n\n    ",310],["T_IF","if",312],["T_WHITESPACE"," ",312],"(","!",["T_EMPTY","empty",312],"(",["T_VARIABLE","$fids",312],")",["T_WHITESPACE"," ",312],["T_BOOLEAN_AND","&&",312],["T_WHITESPACE"," ",312],["T_VARIABLE","$element",312],"[",["T_CONSTANT_ENCAPSED_STRING","'#files'",312],"]",")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n      ",312],["T_FOREACH","foreach",313],["T_WHITESPACE"," ",313],"(",["T_VARIABLE","$element",313],"[",["T_CONSTANT_ENCAPSED_STRING","'#files'",313],"]",["T_WHITESPACE"," ",313],["T_AS","as",313],["T_WHITESPACE"," ",313],["T_VARIABLE","$delta",313],["T_WHITESPACE"," ",313],["T_DOUBLE_ARROW","=>",313],["T_WHITESPACE"," ",313],["T_VARIABLE","$file",313],")",["T_WHITESPACE"," ",313],"{",["T_WHITESPACE","\n        ",313],["T_VARIABLE","$file_link",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],"[",["T_WHITESPACE","\n          ",314],["T_CONSTANT_ENCAPSED_STRING","'#theme'",315],["T_WHITESPACE"," ",315],["T_DOUBLE_ARROW","=>",315],["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","'file_link'",315],",",["T_WHITESPACE","\n          ",315],["T_CONSTANT_ENCAPSED_STRING","'#file'",316],["T_WHITESPACE"," ",316],["T_DOUBLE_ARROW","=>",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$file",316],",",["T_WHITESPACE","\n        ",316],"]",";",["T_WHITESPACE","\n        ",317],["T_IF","if",318],["T_WHITESPACE"," ",318],"(",["T_VARIABLE","$element",318],"[",["T_CONSTANT_ENCAPSED_STRING","'#multiple'",318],"]",")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n          ",318],["T_VARIABLE","$element",319],"[",["T_CONSTANT_ENCAPSED_STRING","'file_'",319],["T_WHITESPACE"," ",319],".",["T_WHITESPACE"," ",319],["T_VARIABLE","$delta",319],"]","[",["T_CONSTANT_ENCAPSED_STRING","'selected'",319],"]",["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],"[",["T_WHITESPACE","\n            ",319],["T_CONSTANT_ENCAPSED_STRING","'#type'",320],["T_WHITESPACE"," ",320],["T_DOUBLE_ARROW","=>",320],["T_WHITESPACE"," ",320],["T_CONSTANT_ENCAPSED_STRING","'checkbox'",320],",",["T_WHITESPACE","\n            ",320],["T_CONSTANT_ENCAPSED_STRING","'#title'",321],["T_WHITESPACE"," ",321],["T_DOUBLE_ARROW","=>",321],["T_WHITESPACE"," ",321],["T_NS_SEPARATOR","\\",321],["T_STRING","Drupal",321],["T_DOUBLE_COLON","::",321],["T_STRING","service",321],"(",["T_CONSTANT_ENCAPSED_STRING","'renderer'",321],")",["T_OBJECT_OPERATOR","->",321],["T_STRING","renderPlain",321],"(",["T_VARIABLE","$file_link",321],")",",",["T_WHITESPACE","\n          ",321],"]",";",["T_WHITESPACE","\n        ",322],"}",["T_WHITESPACE","\n        ",323],["T_ELSE","else",324],["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n          ",324],["T_VARIABLE","$element",325],"[",["T_CONSTANT_ENCAPSED_STRING","'file_'",325],["T_WHITESPACE"," ",325],".",["T_WHITESPACE"," ",325],["T_VARIABLE","$delta",325],"]","[",["T_CONSTANT_ENCAPSED_STRING","'filename'",325],"]",["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_VARIABLE","$file_link",325],["T_WHITESPACE"," ",325],"+",["T_WHITESPACE"," ",325],"[",["T_CONSTANT_ENCAPSED_STRING","'#weight'",325],["T_WHITESPACE"," ",325],["T_DOUBLE_ARROW","=>",325],["T_WHITESPACE"," ",325],"-",["T_LNUMBER","10",325],"]",";",["T_WHITESPACE","\n        ",325],"}",["T_WHITESPACE","\n        ",326],["T_COMMENT","\/\/ Anonymous users who have uploaded a temporary file need a\n",327],["T_WHITESPACE","        ",328],["T_COMMENT","\/\/ non-session-based token added so $this->valueCallback() can check\n",328],["T_WHITESPACE","        ",329],["T_COMMENT","\/\/ that they have permission to use this file on subsequent submissions\n",329],["T_WHITESPACE","        ",330],["T_COMMENT","\/\/ of the same form (for example, after an Ajax upload or form\n",330],["T_WHITESPACE","        ",331],["T_COMMENT","\/\/ validation error).\n",331],["T_WHITESPACE","        ",332],["T_IF","if",332],["T_WHITESPACE"," ",332],"(",["T_VARIABLE","$file",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","isTemporary",332],"(",")",["T_WHITESPACE"," ",332],["T_BOOLEAN_AND","&&",332],["T_WHITESPACE"," ",332],["T_NS_SEPARATOR","\\",332],["T_STRING","Drupal",332],["T_DOUBLE_COLON","::",332],["T_STRING","currentUser",332],"(",")",["T_OBJECT_OPERATOR","->",332],["T_STRING","isAnonymous",332],"(",")",")",["T_WHITESPACE"," ",332],"{",["T_WHITESPACE","\n          ",332],["T_VARIABLE","$element",333],"[",["T_CONSTANT_ENCAPSED_STRING","'file_'",333],["T_WHITESPACE"," ",333],".",["T_WHITESPACE"," ",333],["T_VARIABLE","$delta",333],"]","[",["T_CONSTANT_ENCAPSED_STRING","'fid_token'",333],"]",["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],["T_ARRAY","array",333],"(",["T_WHITESPACE","\n            ",333],["T_CONSTANT_ENCAPSED_STRING","'#type'",334],["T_WHITESPACE"," ",334],["T_DOUBLE_ARROW","=>",334],["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","'hidden'",334],",",["T_WHITESPACE","\n            ",334],["T_CONSTANT_ENCAPSED_STRING","'#value'",335],["T_WHITESPACE"," ",335],["T_DOUBLE_ARROW","=>",335],["T_WHITESPACE"," ",335],["T_STRING","Crypt",335],["T_DOUBLE_COLON","::",335],["T_STRING","hmacBase64",335],"(",["T_CONSTANT_ENCAPSED_STRING","'file-'",335],["T_WHITESPACE"," ",335],".",["T_WHITESPACE"," ",335],["T_VARIABLE","$delta",335],",",["T_WHITESPACE"," ",335],["T_NS_SEPARATOR","\\",335],["T_STRING","Drupal",335],["T_DOUBLE_COLON","::",335],["T_STRING","service",335],"(",["T_CONSTANT_ENCAPSED_STRING","'private_key'",335],")",["T_OBJECT_OPERATOR","->",335],["T_STRING","get",335],"(",")",["T_WHITESPACE"," ",335],".",["T_WHITESPACE"," ",335],["T_STRING","Settings",335],["T_DOUBLE_COLON","::",335],["T_STRING","getHashSalt",335],"(",")",")",",",["T_WHITESPACE","\n          ",335],")",";",["T_WHITESPACE","\n        ",336],"}",["T_WHITESPACE","\n      ",337],"}",["T_WHITESPACE","\n    ",338],"}",["T_WHITESPACE","\n\n    ",339],["T_COMMENT","\/\/ Add the extension list to the page as JavaScript settings.\n",341],["T_WHITESPACE","    ",342],["T_IF","if",342],["T_WHITESPACE"," ",342],"(",["T_ISSET","isset",342],"(",["T_VARIABLE","$element",342],"[",["T_CONSTANT_ENCAPSED_STRING","'#upload_validators'",342],"]","[",["T_CONSTANT_ENCAPSED_STRING","'file_validate_extensions'",342],"]","[",["T_LNUMBER","0",342],"]",")",")",["T_WHITESPACE"," ",342],"{",["T_WHITESPACE","\n      ",342],["T_VARIABLE","$extension_list",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_STRING","implode",343],"(",["T_CONSTANT_ENCAPSED_STRING","','",343],",",["T_WHITESPACE"," ",343],["T_STRING","array_filter",343],"(",["T_STRING","explode",343],"(",["T_CONSTANT_ENCAPSED_STRING","' '",343],",",["T_WHITESPACE"," ",343],["T_VARIABLE","$element",343],"[",["T_CONSTANT_ENCAPSED_STRING","'#upload_validators'",343],"]","[",["T_CONSTANT_ENCAPSED_STRING","'file_validate_extensions'",343],"]","[",["T_LNUMBER","0",343],"]",")",")",")",";",["T_WHITESPACE","\n      ",343],["T_VARIABLE","$element",344],"[",["T_CONSTANT_ENCAPSED_STRING","'upload'",344],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",344],"]","[",["T_CONSTANT_ENCAPSED_STRING","'drupalSettings'",344],"]","[",["T_CONSTANT_ENCAPSED_STRING","'file'",344],"]","[",["T_CONSTANT_ENCAPSED_STRING","'elements'",344],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#'",344],["T_WHITESPACE"," ",344],".",["T_WHITESPACE"," ",344],["T_VARIABLE","$element",344],"[",["T_CONSTANT_ENCAPSED_STRING","'#id'",344],"]","]",["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_VARIABLE","$extension_list",344],";",["T_WHITESPACE","\n    ",344],"}",["T_WHITESPACE","\n\n    ",345],["T_COMMENT","\/\/ Let #id point to the file element, so the field label's 'for' corresponds\n",347],["T_WHITESPACE","    ",348],["T_COMMENT","\/\/ with it.\n",348],["T_WHITESPACE","    ",349],["T_VARIABLE","$element",349],"[",["T_CONSTANT_ENCAPSED_STRING","'#id'",349],"]",["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],"&",["T_VARIABLE","$element",349],"[",["T_CONSTANT_ENCAPSED_STRING","'upload'",349],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#id'",349],"]",";",["T_WHITESPACE","\n\n    ",349],["T_COMMENT","\/\/ Prefix and suffix used for Ajax replacement.\n",351],["T_WHITESPACE","    ",352],["T_VARIABLE","$element",352],"[",["T_CONSTANT_ENCAPSED_STRING","'#prefix'",352],"]",["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","'<div id=\"'",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_VARIABLE","$ajax_wrapper_id",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","'\">'",352],";",["T_WHITESPACE","\n    ",352],["T_VARIABLE","$element",353],"[",["T_CONSTANT_ENCAPSED_STRING","'#suffix'",353],"]",["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","'<\/div>'",353],";",["T_WHITESPACE","\n\n    ",353],["T_RETURN","return",355],["T_WHITESPACE"," ",355],["T_VARIABLE","$element",355],";",["T_WHITESPACE","\n  ",355],"}",["T_WHITESPACE","\n\n  ",356],["T_DOC_COMMENT","\/**\n   * Render API callback: Hides display of the upload or remove controls.\n   *\n   * Upload controls are hidden when a file is already uploaded. Remove controls\n   * are hidden when there is no file attached. Controls are hidden here instead\n   * of in \\Drupal\\file\\Element\\ManagedFile::processManagedFile(), because\n   * #access for these buttons depends on the managed_file element's #value. See\n   * the documentation of \\Drupal\\Core\\Form\\FormBuilderInterface::doBuildForm()\n   * for more detailed information about the relationship between #process,\n   * #value, and #access.\n   *\n   * Because #access is set here, it affects display only and does not prevent\n   * JavaScript or other untrusted code from submitting the form as though\n   * access were enabled. The form processing functions for these elements\n   * should not assume that the buttons can't be \"clicked\" just because they are\n   * not displayed.\n   *\n   * @see \\Drupal\\file\\Element\\ManagedFile::processManagedFile()\n   * @see \\Drupal\\Core\\Form\\FormBuilderInterface::doBuildForm()\n   *\/",358],["T_WHITESPACE","\n  ",377],["T_PUBLIC","public",378],["T_WHITESPACE"," ",378],["T_STATIC","static",378],["T_WHITESPACE"," ",378],["T_FUNCTION","function",378],["T_WHITESPACE"," ",378],["T_STRING","preRenderManagedFile",378],"(",["T_VARIABLE","$element",378],")",["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n    ",378],["T_COMMENT","\/\/ If we already have a file, we don't want to show the upload controls.\n",379],["T_WHITESPACE","    ",380],["T_IF","if",380],["T_WHITESPACE"," ",380],"(","!",["T_EMPTY","empty",380],"(",["T_VARIABLE","$element",380],"[",["T_CONSTANT_ENCAPSED_STRING","'#value'",380],"]","[",["T_CONSTANT_ENCAPSED_STRING","'fids'",380],"]",")",")",["T_WHITESPACE"," ",380],"{",["T_WHITESPACE","\n      ",380],["T_IF","if",381],["T_WHITESPACE"," ",381],"(","!",["T_VARIABLE","$element",381],"[",["T_CONSTANT_ENCAPSED_STRING","'#multiple'",381],"]",")",["T_WHITESPACE"," ",381],"{",["T_WHITESPACE","\n        ",381],["T_VARIABLE","$element",382],"[",["T_CONSTANT_ENCAPSED_STRING","'upload'",382],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#access'",382],"]",["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_STRING","FALSE",382],";",["T_WHITESPACE","\n        ",382],["T_VARIABLE","$element",383],"[",["T_CONSTANT_ENCAPSED_STRING","'upload_button'",383],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#access'",383],"]",["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_STRING","FALSE",383],";",["T_WHITESPACE","\n      ",383],"}",["T_WHITESPACE","\n    ",384],"}",["T_WHITESPACE","\n    ",385],["T_COMMENT","\/\/ If we don't already have a file, there is nothing to remove.\n",386],["T_WHITESPACE","    ",387],["T_ELSE","else",387],["T_WHITESPACE"," ",387],"{",["T_WHITESPACE","\n      ",387],["T_VARIABLE","$element",388],"[",["T_CONSTANT_ENCAPSED_STRING","'remove_button'",388],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#access'",388],"]",["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_STRING","FALSE",388],";",["T_WHITESPACE","\n    ",388],"}",["T_WHITESPACE","\n    ",389],["T_RETURN","return",390],["T_WHITESPACE"," ",390],["T_VARIABLE","$element",390],";",["T_WHITESPACE","\n  ",390],"}",["T_WHITESPACE","\n\n  ",391],["T_DOC_COMMENT","\/**\n   * Render API callback: Validates the managed_file element.\n   *\/",393],["T_WHITESPACE","\n  ",395],["T_PUBLIC","public",396],["T_WHITESPACE"," ",396],["T_STATIC","static",396],["T_WHITESPACE"," ",396],["T_FUNCTION","function",396],["T_WHITESPACE"," ",396],["T_STRING","validateManagedFile",396],"(","&",["T_VARIABLE","$element",396],",",["T_WHITESPACE"," ",396],["T_STRING","FormStateInterface",396],["T_WHITESPACE"," ",396],["T_VARIABLE","$form_state",396],",",["T_WHITESPACE"," ",396],"&",["T_VARIABLE","$complete_form",396],")",["T_WHITESPACE"," ",396],"{",["T_WHITESPACE","\n    ",396],["T_COMMENT","\/\/ If referencing an existing file, only allow if there are existing\n",397],["T_WHITESPACE","    ",398],["T_COMMENT","\/\/ references. This prevents unmanaged files from being deleted if this\n",398],["T_WHITESPACE","    ",399],["T_COMMENT","\/\/ item were to be deleted.\n",399],["T_WHITESPACE","    ",400],["T_VARIABLE","$clicked_button",400],["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],["T_STRING","end",400],"(",["T_VARIABLE","$form_state",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","getTriggeringElement",400],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",400],"]",")",";",["T_WHITESPACE","\n    ",400],["T_IF","if",401],["T_WHITESPACE"," ",401],"(",["T_VARIABLE","$clicked_button",401],["T_WHITESPACE"," ",401],["T_IS_NOT_EQUAL","!=",401],["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","'remove_button'",401],["T_WHITESPACE"," ",401],["T_BOOLEAN_AND","&&",401],["T_WHITESPACE"," ",401],"!",["T_EMPTY","empty",401],"(",["T_VARIABLE","$element",401],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",401],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#value'",401],"]",")",")",["T_WHITESPACE"," ",401],"{",["T_WHITESPACE","\n      ",401],["T_VARIABLE","$fids",402],["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],["T_VARIABLE","$element",402],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",402],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#value'",402],"]",";",["T_WHITESPACE","\n      ",402],["T_FOREACH","foreach",403],["T_WHITESPACE"," ",403],"(",["T_VARIABLE","$fids",403],["T_WHITESPACE"," ",403],["T_AS","as",403],["T_WHITESPACE"," ",403],["T_VARIABLE","$fid",403],")",["T_WHITESPACE"," ",403],"{",["T_WHITESPACE","\n        ",403],["T_IF","if",404],["T_WHITESPACE"," ",404],"(",["T_VARIABLE","$file",404],["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_STRING","File",404],["T_DOUBLE_COLON","::",404],["T_STRING","load",404],"(",["T_VARIABLE","$fid",404],")",")",["T_WHITESPACE"," ",404],"{",["T_WHITESPACE","\n          ",404],["T_IF","if",405],["T_WHITESPACE"," ",405],"(",["T_VARIABLE","$file",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","isPermanent",405],"(",")",")",["T_WHITESPACE"," ",405],"{",["T_WHITESPACE","\n            ",405],["T_VARIABLE","$references",406],["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_STATIC","static",406],["T_DOUBLE_COLON","::",406],["T_STRING","fileUsage",406],"(",")",["T_OBJECT_OPERATOR","->",406],["T_STRING","listUsage",406],"(",["T_VARIABLE","$file",406],")",";",["T_WHITESPACE","\n            ",406],["T_IF","if",407],["T_WHITESPACE"," ",407],"(",["T_EMPTY","empty",407],"(",["T_VARIABLE","$references",407],")",")",["T_WHITESPACE"," ",407],"{",["T_WHITESPACE","\n              ",407],["T_COMMENT","\/\/ We expect the field name placeholder value to be wrapped in t()\n",408],["T_WHITESPACE","              ",409],["T_COMMENT","\/\/ here, so it won't be escaped again as it's already marked safe.\n",409],["T_WHITESPACE","              ",410],["T_VARIABLE","$form_state",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","setError",410],"(",["T_VARIABLE","$element",410],",",["T_WHITESPACE"," ",410],["T_STRING","t",410],"(",["T_CONSTANT_ENCAPSED_STRING","'The file used in the @name field may not be referenced.'",410],",",["T_WHITESPACE"," ",410],"[",["T_CONSTANT_ENCAPSED_STRING","'@name'",410],["T_WHITESPACE"," ",410],["T_DOUBLE_ARROW","=>",410],["T_WHITESPACE"," ",410],["T_VARIABLE","$element",410],"[",["T_CONSTANT_ENCAPSED_STRING","'#title'",410],"]","]",")",")",";",["T_WHITESPACE","\n            ",410],"}",["T_WHITESPACE","\n          ",411],"}",["T_WHITESPACE","\n        ",412],"}",["T_WHITESPACE","\n        ",413],["T_ELSE","else",414],["T_WHITESPACE"," ",414],"{",["T_WHITESPACE","\n          ",414],["T_COMMENT","\/\/ We expect the field name placeholder value to be wrapped in t()\n",415],["T_WHITESPACE","          ",416],["T_COMMENT","\/\/ here, so it won't be escaped again as it's already marked safe.\n",416],["T_WHITESPACE","          ",417],["T_VARIABLE","$form_state",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","setError",417],"(",["T_VARIABLE","$element",417],",",["T_WHITESPACE"," ",417],["T_STRING","t",417],"(",["T_CONSTANT_ENCAPSED_STRING","'The file referenced by the @name field does not exist.'",417],",",["T_WHITESPACE"," ",417],"[",["T_CONSTANT_ENCAPSED_STRING","'@name'",417],["T_WHITESPACE"," ",417],["T_DOUBLE_ARROW","=>",417],["T_WHITESPACE"," ",417],["T_VARIABLE","$element",417],"[",["T_CONSTANT_ENCAPSED_STRING","'#title'",417],"]","]",")",")",";",["T_WHITESPACE","\n        ",417],"}",["T_WHITESPACE","\n      ",418],"}",["T_WHITESPACE","\n    ",419],"}",["T_WHITESPACE","\n\n    ",420],["T_COMMENT","\/\/ Check required property based on the FID.\n",422],["T_WHITESPACE","    ",423],["T_IF","if",423],["T_WHITESPACE"," ",423],"(",["T_VARIABLE","$element",423],"[",["T_CONSTANT_ENCAPSED_STRING","'#required'",423],"]",["T_WHITESPACE"," ",423],["T_BOOLEAN_AND","&&",423],["T_WHITESPACE"," ",423],["T_EMPTY","empty",423],"(",["T_VARIABLE","$element",423],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",423],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#value'",423],"]",")",["T_WHITESPACE"," ",423],["T_BOOLEAN_AND","&&",423],["T_WHITESPACE"," ",423],"!",["T_STRING","in_array",423],"(",["T_VARIABLE","$clicked_button",423],",",["T_WHITESPACE"," ",423],"[",["T_CONSTANT_ENCAPSED_STRING","'upload_button'",423],",",["T_WHITESPACE"," ",423],["T_CONSTANT_ENCAPSED_STRING","'remove_button'",423],"]",")",")",["T_WHITESPACE"," ",423],"{",["T_WHITESPACE","\n      ",423],["T_COMMENT","\/\/ We expect the field name placeholder value to be wrapped in t()\n",424],["T_WHITESPACE","      ",425],["T_COMMENT","\/\/ here, so it won't be escaped again as it's already marked safe.\n",425],["T_WHITESPACE","      ",426],["T_VARIABLE","$form_state",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","setError",426],"(",["T_VARIABLE","$element",426],",",["T_WHITESPACE"," ",426],["T_STRING","t",426],"(",["T_CONSTANT_ENCAPSED_STRING","'@name field is required.'",426],",",["T_WHITESPACE"," ",426],"[",["T_CONSTANT_ENCAPSED_STRING","'@name'",426],["T_WHITESPACE"," ",426],["T_DOUBLE_ARROW","=>",426],["T_WHITESPACE"," ",426],["T_VARIABLE","$element",426],"[",["T_CONSTANT_ENCAPSED_STRING","'#title'",426],"]","]",")",")",";",["T_WHITESPACE","\n    ",426],"}",["T_WHITESPACE","\n\n    ",427],["T_COMMENT","\/\/ Consolidate the array value of this field to array of FIDs.\n",429],["T_WHITESPACE","    ",430],["T_IF","if",430],["T_WHITESPACE"," ",430],"(","!",["T_VARIABLE","$element",430],"[",["T_CONSTANT_ENCAPSED_STRING","'#extended'",430],"]",")",["T_WHITESPACE"," ",430],"{",["T_WHITESPACE","\n      ",430],["T_VARIABLE","$form_state",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","setValueForElement",431],"(",["T_VARIABLE","$element",431],",",["T_WHITESPACE"," ",431],["T_VARIABLE","$element",431],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",431],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#value'",431],"]",")",";",["T_WHITESPACE","\n    ",431],"}",["T_WHITESPACE","\n  ",432],"}",["T_WHITESPACE","\n\n  ",433],["T_DOC_COMMENT","\/**\n   * Wraps the file usage service.\n   *\n   * @return \\Drupal\\file\\FileUsage\\FileUsageInterface\n   *\/",435],["T_WHITESPACE","\n  ",439],["T_PROTECTED","protected",440],["T_WHITESPACE"," ",440],["T_STATIC","static",440],["T_WHITESPACE"," ",440],["T_FUNCTION","function",440],["T_WHITESPACE"," ",440],["T_STRING","fileUsage",440],"(",")",["T_WHITESPACE"," ",440],"{",["T_WHITESPACE","\n    ",440],["T_RETURN","return",441],["T_WHITESPACE"," ",441],["T_NS_SEPARATOR","\\",441],["T_STRING","Drupal",441],["T_DOUBLE_COLON","::",441],["T_STRING","service",441],"(",["T_CONSTANT_ENCAPSED_STRING","'file.usage'",441],")",";",["T_WHITESPACE","\n  ",441],"}",["T_WHITESPACE","\n\n",442],"}",["T_WHITESPACE","\n",444]]