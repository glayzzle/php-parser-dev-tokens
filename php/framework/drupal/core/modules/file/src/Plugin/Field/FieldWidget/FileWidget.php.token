[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","file",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Field",3],["T_NS_SEPARATOR","\\",3],["T_STRING","FieldWidget",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","NestedArray",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Field",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FieldDefinitionInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Field",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FieldItemListInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Field",8],["T_NS_SEPARATOR","\\",8],["T_STRING","FieldStorageDefinitionInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Field",9],["T_NS_SEPARATOR","\\",9],["T_STRING","WidgetBase",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Form",10],["T_NS_SEPARATOR","\\",10],["T_STRING","FormStateInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Plugin",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ContainerFactoryPluginInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Render",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Element",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Core",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Render",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ElementInfoManagerInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Drupal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","file",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Element",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ManagedFile",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Drupal",15],["T_NS_SEPARATOR","\\",15],["T_STRING","file",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Entity",15],["T_NS_SEPARATOR","\\",15],["T_STRING","File",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","DependencyInjection",16],["T_NS_SEPARATOR","\\",16],["T_STRING","ContainerInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Validator",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ConstraintViolationListInterface",17],";",["T_WHITESPACE","\n\n",17],["T_DOC_COMMENT","\/**\n * Plugin implementation of the 'file_generic' widget.\n *\n * @FieldWidget(\n *   id = \"file_generic\",\n *   label = @Translation(\"File\"),\n *   field_types = {\n *     \"file\"\n *   }\n * )\n *\/",19],["T_WHITESPACE","\n",29],["T_CLASS","class",30],["T_WHITESPACE"," ",30],["T_STRING","FileWidget",30],["T_WHITESPACE"," ",30],["T_EXTENDS","extends",30],["T_WHITESPACE"," ",30],["T_STRING","WidgetBase",30],["T_WHITESPACE"," ",30],["T_IMPLEMENTS","implements",30],["T_WHITESPACE"," ",30],["T_STRING","ContainerFactoryPluginInterface",30],["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",32],["T_WHITESPACE","\n  ",34],["T_PUBLIC","public",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","__construct",35],"(",["T_VARIABLE","$plugin_id",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$plugin_definition",35],",",["T_WHITESPACE"," ",35],["T_STRING","FieldDefinitionInterface",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$field_definition",35],",",["T_WHITESPACE"," ",35],["T_ARRAY","array",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$settings",35],",",["T_WHITESPACE"," ",35],["T_ARRAY","array",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$third_party_settings",35],",",["T_WHITESPACE"," ",35],["T_STRING","ElementInfoManagerInterface",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$element_info",35],")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n    ",35],["T_STRING","parent",36],["T_DOUBLE_COLON","::",36],["T_STRING","__construct",36],"(",["T_VARIABLE","$plugin_id",36],",",["T_WHITESPACE"," ",36],["T_VARIABLE","$plugin_definition",36],",",["T_WHITESPACE"," ",36],["T_VARIABLE","$field_definition",36],",",["T_WHITESPACE"," ",36],["T_VARIABLE","$settings",36],",",["T_WHITESPACE"," ",36],["T_VARIABLE","$third_party_settings",36],")",";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","elementInfo",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$element_info",37],";",["T_WHITESPACE","\n  ",37],"}",["T_WHITESPACE","\n\n  ",38],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",40],["T_WHITESPACE","\n  ",42],["T_PUBLIC","public",43],["T_WHITESPACE"," ",43],["T_STATIC","static",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","create",43],"(",["T_STRING","ContainerInterface",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$container",43],",",["T_WHITESPACE"," ",43],["T_ARRAY","array",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$configuration",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$plugin_id",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$plugin_definition",43],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n    ",43],["T_RETURN","return",44],["T_WHITESPACE"," ",44],["T_NEW","new",44],["T_WHITESPACE"," ",44],["T_STATIC","static",44],"(",["T_VARIABLE","$plugin_id",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$plugin_definition",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$configuration",44],"[",["T_CONSTANT_ENCAPSED_STRING","'field_definition'",44],"]",",",["T_WHITESPACE"," ",44],["T_VARIABLE","$configuration",44],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",44],"]",",",["T_WHITESPACE"," ",44],["T_VARIABLE","$configuration",44],"[",["T_CONSTANT_ENCAPSED_STRING","'third_party_settings'",44],"]",",",["T_WHITESPACE"," ",44],["T_VARIABLE","$container",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","get",44],"(",["T_CONSTANT_ENCAPSED_STRING","'element_info'",44],")",")",";",["T_WHITESPACE","\n  ",44],"}",["T_WHITESPACE","\n\n  ",45],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",47],["T_WHITESPACE","\n  ",49],["T_PUBLIC","public",50],["T_WHITESPACE"," ",50],["T_STATIC","static",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","defaultSettings",50],"(",")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n    ",50],["T_RETURN","return",51],["T_WHITESPACE"," ",51],["T_ARRAY","array",51],"(",["T_WHITESPACE","\n      ",51],["T_CONSTANT_ENCAPSED_STRING","'progress_indicator'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'throbber'",52],",",["T_WHITESPACE","\n    ",52],")",["T_WHITESPACE"," ",53],"+",["T_WHITESPACE"," ",53],["T_STRING","parent",53],["T_DOUBLE_COLON","::",53],["T_STRING","defaultSettings",53],"(",")",";",["T_WHITESPACE","\n  ",53],"}",["T_WHITESPACE","\n\n  ",54],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",56],["T_WHITESPACE","\n  ",58],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","settingsForm",59],"(",["T_ARRAY","array",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$form",59],",",["T_WHITESPACE"," ",59],["T_STRING","FormStateInterface",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$form_state",59],")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$element",60],"[",["T_CONSTANT_ENCAPSED_STRING","'progress_indicator'",60],"]",["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_ARRAY","array",60],"(",["T_WHITESPACE","\n      ",60],["T_CONSTANT_ENCAPSED_STRING","'#type'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'radios'",61],",",["T_WHITESPACE","\n      ",61],["T_CONSTANT_ENCAPSED_STRING","'#title'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_STRING","t",62],"(",["T_CONSTANT_ENCAPSED_STRING","'Progress indicator'",62],")",",",["T_WHITESPACE","\n      ",62],["T_CONSTANT_ENCAPSED_STRING","'#options'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_ARRAY","array",63],"(",["T_WHITESPACE","\n        ",63],["T_CONSTANT_ENCAPSED_STRING","'throbber'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_STRING","t",64],"(",["T_CONSTANT_ENCAPSED_STRING","'Throbber'",64],")",",",["T_WHITESPACE","\n        ",64],["T_CONSTANT_ENCAPSED_STRING","'bar'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_STRING","t",65],"(",["T_CONSTANT_ENCAPSED_STRING","'Bar with progress meter'",65],")",",",["T_WHITESPACE","\n      ",65],")",",",["T_WHITESPACE","\n      ",66],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getSetting",67],"(",["T_CONSTANT_ENCAPSED_STRING","'progress_indicator'",67],")",",",["T_WHITESPACE","\n      ",67],["T_CONSTANT_ENCAPSED_STRING","'#description'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_STRING","t",68],"(",["T_CONSTANT_ENCAPSED_STRING","'The throbber display does not show the status of uploads but takes up less space. The progress bar is helpful for monitoring progress on large uploads.'",68],")",",",["T_WHITESPACE","\n      ",68],["T_CONSTANT_ENCAPSED_STRING","'#weight'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_LNUMBER","16",69],",",["T_WHITESPACE","\n      ",69],["T_CONSTANT_ENCAPSED_STRING","'#access'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_STRING","file_progress_implementation",70],"(",")",",",["T_WHITESPACE","\n    ",70],")",";",["T_WHITESPACE","\n    ",71],["T_RETURN","return",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$element",72],";",["T_WHITESPACE","\n  ",72],"}",["T_WHITESPACE","\n\n  ",73],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",75],["T_WHITESPACE","\n  ",77],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","settingsSummary",78],"(",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$summary",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_ARRAY","array",79],"(",")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$summary",80],"[","]",["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","t",80],"(",["T_CONSTANT_ENCAPSED_STRING","'Progress indicator: @progress_indicator'",80],",",["T_WHITESPACE"," ",80],["T_ARRAY","array",80],"(",["T_CONSTANT_ENCAPSED_STRING","'@progress_indicator'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getSetting",80],"(",["T_CONSTANT_ENCAPSED_STRING","'progress_indicator'",80],")",")",")",";",["T_WHITESPACE","\n    ",80],["T_RETURN","return",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$summary",81],";",["T_WHITESPACE","\n  ",81],"}",["T_WHITESPACE","\n\n  ",82],["T_DOC_COMMENT","\/**\n   * Overrides \\Drupal\\Core\\Field\\WidgetBase::formMultipleElements().\n   *\n   * Special handling for draggable multiple widgets and 'add more' button.\n   *\/",84],["T_WHITESPACE","\n  ",88],["T_PROTECTED","protected",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","formMultipleElements",89],"(",["T_STRING","FieldItemListInterface",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$items",89],",",["T_WHITESPACE"," ",89],["T_ARRAY","array",89],["T_WHITESPACE"," ",89],"&",["T_VARIABLE","$form",89],",",["T_WHITESPACE"," ",89],["T_STRING","FormStateInterface",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$form_state",89],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$field_name",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","fieldDefinition",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getName",90],"(",")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$parents",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$form",91],"[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",91],"]",";",["T_WHITESPACE","\n\n    ",91],["T_COMMENT","\/\/ Load the items for form rebuilds from the field state as they might not\n",93],["T_WHITESPACE","    ",94],["T_COMMENT","\/\/ be in $form_state->getValues() because of validation limitations. Also,\n",94],["T_WHITESPACE","    ",95],["T_COMMENT","\/\/ they are only passed in as $items when editing existing entities.\n",95],["T_WHITESPACE","    ",96],["T_VARIABLE","$field_state",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_STATIC","static",96],["T_DOUBLE_COLON","::",96],["T_STRING","getWidgetState",96],"(",["T_VARIABLE","$parents",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$field_name",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$form_state",96],")",";",["T_WHITESPACE","\n    ",96],["T_IF","if",97],["T_WHITESPACE"," ",97],"(",["T_ISSET","isset",97],"(",["T_VARIABLE","$field_state",97],"[",["T_CONSTANT_ENCAPSED_STRING","'items'",97],"]",")",")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n      ",97],["T_VARIABLE","$items",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","setValue",98],"(",["T_VARIABLE","$field_state",98],"[",["T_CONSTANT_ENCAPSED_STRING","'items'",98],"]",")",";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n\n    ",99],["T_COMMENT","\/\/ Determine the number of widgets to display.\n",101],["T_WHITESPACE","    ",102],["T_VARIABLE","$cardinality",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","fieldDefinition",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getFieldStorageDefinition",102],"(",")",["T_OBJECT_OPERATOR","->",102],["T_STRING","getCardinality",102],"(",")",";",["T_WHITESPACE","\n    ",102],["T_SWITCH","switch",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$cardinality",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n      ",103],["T_CASE","case",104],["T_WHITESPACE"," ",104],["T_STRING","FieldStorageDefinitionInterface",104],["T_DOUBLE_COLON","::",104],["T_STRING","CARDINALITY_UNLIMITED",104],":",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$max",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","count",105],"(",["T_VARIABLE","$items",105],")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$is_multiple",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","TRUE",106],";",["T_WHITESPACE","\n        ",106],["T_BREAK","break",107],";",["T_WHITESPACE","\n\n      ",107],["T_DEFAULT","default",109],":",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$max",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$cardinality",110],["T_WHITESPACE"," ",110],"-",["T_WHITESPACE"," ",110],["T_LNUMBER","1",110],";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$is_multiple",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],"(",["T_VARIABLE","$cardinality",111],["T_WHITESPACE"," ",111],">",["T_WHITESPACE"," ",111],["T_LNUMBER","1",111],")",";",["T_WHITESPACE","\n        ",111],["T_BREAK","break",112],";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_VARIABLE","$title",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","fieldDefinition",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getLabel",115],"(",")",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$description",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getFilteredDescription",116],"(",")",";",["T_WHITESPACE","\n\n    ",116],["T_VARIABLE","$elements",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_ARRAY","array",118],"(",")",";",["T_WHITESPACE","\n\n    ",118],["T_VARIABLE","$delta",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_LNUMBER","0",120],";",["T_WHITESPACE","\n    ",120],["T_COMMENT","\/\/ Add an element for every existing item.\n",121],["T_WHITESPACE","    ",122],["T_FOREACH","foreach",122],["T_WHITESPACE"," ",122],"(",["T_VARIABLE","$items",122],["T_WHITESPACE"," ",122],["T_AS","as",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$item",122],")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n      ",122],["T_VARIABLE","$element",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_ARRAY","array",123],"(",["T_WHITESPACE","\n        ",123],["T_CONSTANT_ENCAPSED_STRING","'#title'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$title",124],",",["T_WHITESPACE","\n        ",124],["T_CONSTANT_ENCAPSED_STRING","'#description'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$description",125],",",["T_WHITESPACE","\n      ",125],")",";",["T_WHITESPACE","\n      ",126],["T_VARIABLE","$element",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","formSingleElement",127],"(",["T_VARIABLE","$items",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$delta",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$element",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$form",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$form_state",127],")",";",["T_WHITESPACE","\n\n      ",127],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_VARIABLE","$element",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n        ",129],["T_COMMENT","\/\/ Input field for the delta (drag-n-drop reordering).\n",130],["T_WHITESPACE","        ",131],["T_IF","if",131],["T_WHITESPACE"," ",131],"(",["T_VARIABLE","$is_multiple",131],")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n          ",131],["T_COMMENT","\/\/ We name the element '_weight' to avoid clashing with elements\n",132],["T_WHITESPACE","          ",133],["T_COMMENT","\/\/ defined by widget.\n",133],["T_WHITESPACE","          ",134],["T_VARIABLE","$element",134],"[",["T_CONSTANT_ENCAPSED_STRING","'_weight'",134],"]",["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_ARRAY","array",134],"(",["T_WHITESPACE","\n            ",134],["T_CONSTANT_ENCAPSED_STRING","'#type'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'weight'",135],",",["T_WHITESPACE","\n            ",135],["T_CONSTANT_ENCAPSED_STRING","'#title'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_STRING","t",136],"(",["T_CONSTANT_ENCAPSED_STRING","'Weight for row @number'",136],",",["T_WHITESPACE"," ",136],["T_ARRAY","array",136],"(",["T_CONSTANT_ENCAPSED_STRING","'@number'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$delta",136],["T_WHITESPACE"," ",136],"+",["T_WHITESPACE"," ",136],["T_LNUMBER","1",136],")",")",",",["T_WHITESPACE","\n            ",136],["T_CONSTANT_ENCAPSED_STRING","'#title_display'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'invisible'",137],",",["T_WHITESPACE","\n            ",137],["T_COMMENT","\/\/ Note: this 'delta' is the FAPI #type 'weight' element's property.\n",138],["T_WHITESPACE","            ",139],["T_CONSTANT_ENCAPSED_STRING","'#delta'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$max",139],",",["T_WHITESPACE","\n            ",139],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$item",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_weight",140],["T_WHITESPACE"," ",140],"?",":",["T_WHITESPACE"," ",140],["T_VARIABLE","$delta",140],",",["T_WHITESPACE","\n            ",140],["T_CONSTANT_ENCAPSED_STRING","'#weight'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_LNUMBER","100",141],",",["T_WHITESPACE","\n          ",141],")",";",["T_WHITESPACE","\n        ",142],"}",["T_WHITESPACE","\n\n        ",143],["T_VARIABLE","$elements",145],"[",["T_VARIABLE","$delta",145],"]",["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$element",145],";",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$delta",146],["T_INC","++",146],";",["T_WHITESPACE","\n      ",146],"}",["T_WHITESPACE","\n    ",147],"}",["T_WHITESPACE","\n\n    ",148],["T_VARIABLE","$empty_single_allowed",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],"(",["T_VARIABLE","$cardinality",150],["T_WHITESPACE"," ",150],["T_IS_EQUAL","==",150],["T_WHITESPACE"," ",150],["T_LNUMBER","1",150],["T_WHITESPACE"," ",150],["T_BOOLEAN_AND","&&",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$delta",150],["T_WHITESPACE"," ",150],["T_IS_EQUAL","==",150],["T_WHITESPACE"," ",150],["T_LNUMBER","0",150],")",";",["T_WHITESPACE","\n    ",150],["T_VARIABLE","$empty_multiple_allowed",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$cardinality",151],["T_WHITESPACE"," ",151],["T_IS_EQUAL","==",151],["T_WHITESPACE"," ",151],["T_STRING","FieldStorageDefinitionInterface",151],["T_DOUBLE_COLON","::",151],["T_STRING","CARDINALITY_UNLIMITED",151],["T_WHITESPACE"," ",151],["T_BOOLEAN_OR","||",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$delta",151],["T_WHITESPACE"," ",151],"<",["T_WHITESPACE"," ",151],["T_VARIABLE","$cardinality",151],")",["T_WHITESPACE"," ",151],["T_BOOLEAN_AND","&&",151],["T_WHITESPACE"," ",151],"!",["T_VARIABLE","$form_state",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","isProgrammed",151],"(",")",";",["T_WHITESPACE","\n\n    ",151],["T_COMMENT","\/\/ Add one more empty row for new uploads except when this is a programmed\n",153],["T_WHITESPACE","    ",154],["T_COMMENT","\/\/ multiple form as it is not necessary.\n",154],["T_WHITESPACE","    ",155],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$empty_single_allowed",155],["T_WHITESPACE"," ",155],["T_BOOLEAN_OR","||",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$empty_multiple_allowed",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n      ",155],["T_COMMENT","\/\/ Create a new empty item.\n",156],["T_WHITESPACE","      ",157],["T_VARIABLE","$items",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","appendItem",157],"(",")",";",["T_WHITESPACE","\n      ",157],["T_VARIABLE","$element",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_ARRAY","array",158],"(",["T_WHITESPACE","\n        ",158],["T_CONSTANT_ENCAPSED_STRING","'#title'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$title",159],",",["T_WHITESPACE","\n        ",159],["T_CONSTANT_ENCAPSED_STRING","'#description'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$description",160],",",["T_WHITESPACE","\n      ",160],")",";",["T_WHITESPACE","\n      ",161],["T_VARIABLE","$element",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","formSingleElement",162],"(",["T_VARIABLE","$items",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$delta",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$element",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$form",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$form_state",162],")",";",["T_WHITESPACE","\n      ",162],["T_IF","if",163],["T_WHITESPACE"," ",163],"(",["T_VARIABLE","$element",163],")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$element",164],"[",["T_CONSTANT_ENCAPSED_STRING","'#required'",164],"]",["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],"(",["T_VARIABLE","$element",164],"[",["T_CONSTANT_ENCAPSED_STRING","'#required'",164],"]",["T_WHITESPACE"," ",164],["T_BOOLEAN_AND","&&",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$delta",164],["T_WHITESPACE"," ",164],["T_IS_EQUAL","==",164],["T_WHITESPACE"," ",164],["T_LNUMBER","0",164],")",";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$elements",165],"[",["T_VARIABLE","$delta",165],"]",["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$element",165],";",["T_WHITESPACE","\n      ",165],"}",["T_WHITESPACE","\n    ",166],"}",["T_WHITESPACE","\n\n    ",167],["T_IF","if",169],["T_WHITESPACE"," ",169],"(",["T_VARIABLE","$is_multiple",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n      ",169],["T_COMMENT","\/\/ The group of elements all-together need some extra functionality after\n",170],["T_WHITESPACE","      ",171],["T_COMMENT","\/\/ building up the full list (like draggable table rows).\n",171],["T_WHITESPACE","      ",172],["T_VARIABLE","$elements",172],"[",["T_CONSTANT_ENCAPSED_STRING","'#file_upload_delta'",172],"]",["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$delta",172],";",["T_WHITESPACE","\n      ",172],["T_VARIABLE","$elements",173],"[",["T_CONSTANT_ENCAPSED_STRING","'#type'",173],"]",["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'details'",173],";",["T_WHITESPACE","\n      ",173],["T_VARIABLE","$elements",174],"[",["T_CONSTANT_ENCAPSED_STRING","'#open'",174],"]",["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_STRING","TRUE",174],";",["T_WHITESPACE","\n      ",174],["T_VARIABLE","$elements",175],"[",["T_CONSTANT_ENCAPSED_STRING","'#theme'",175],"]",["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'file_widget_multiple'",175],";",["T_WHITESPACE","\n      ",175],["T_VARIABLE","$elements",176],"[",["T_CONSTANT_ENCAPSED_STRING","'#theme_wrappers'",176],"]",["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_ARRAY","array",176],"(",["T_CONSTANT_ENCAPSED_STRING","'details'",176],")",";",["T_WHITESPACE","\n      ",176],["T_VARIABLE","$elements",177],"[",["T_CONSTANT_ENCAPSED_STRING","'#process'",177],"]",["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_ARRAY","array",177],"(",["T_ARRAY","array",177],"(",["T_STRING","get_class",177],"(",["T_VARIABLE","$this",177],")",",",["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","'processMultiple'",177],")",")",";",["T_WHITESPACE","\n      ",177],["T_VARIABLE","$elements",178],"[",["T_CONSTANT_ENCAPSED_STRING","'#title'",178],"]",["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$title",178],";",["T_WHITESPACE","\n\n      ",178],["T_VARIABLE","$elements",180],"[",["T_CONSTANT_ENCAPSED_STRING","'#description'",180],"]",["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$description",180],";",["T_WHITESPACE","\n      ",180],["T_VARIABLE","$elements",181],"[",["T_CONSTANT_ENCAPSED_STRING","'#field_name'",181],"]",["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$field_name",181],";",["T_WHITESPACE","\n      ",181],["T_VARIABLE","$elements",182],"[",["T_CONSTANT_ENCAPSED_STRING","'#language'",182],"]",["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$items",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getLangcode",182],"(",")",";",["T_WHITESPACE","\n      ",182],["T_COMMENT","\/\/ The field settings include defaults for the field type. However, this\n",183],["T_WHITESPACE","      ",184],["T_COMMENT","\/\/ widget is a base class for other widgets (e.g., ImageWidget) that may\n",184],["T_WHITESPACE","      ",185],["T_COMMENT","\/\/ act on field types without these expected settings.\n",185],["T_WHITESPACE","      ",186],["T_VARIABLE","$field_settings",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getFieldSettings",186],"(",")",["T_WHITESPACE"," ",186],"+",["T_WHITESPACE"," ",186],["T_ARRAY","array",186],"(",["T_CONSTANT_ENCAPSED_STRING","'display_field'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_STRING","NULL",186],")",";",["T_WHITESPACE","\n      ",186],["T_VARIABLE","$elements",187],"[",["T_CONSTANT_ENCAPSED_STRING","'#display_field'",187],"]",["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_BOOL_CAST","(bool)",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$field_settings",187],"[",["T_CONSTANT_ENCAPSED_STRING","'display_field'",187],"]",";",["T_WHITESPACE","\n\n      ",187],["T_COMMENT","\/\/ Add some properties that will eventually be added to the file upload\n",189],["T_WHITESPACE","      ",190],["T_COMMENT","\/\/ field. These are added here so that they may be referenced easily\n",190],["T_WHITESPACE","      ",191],["T_COMMENT","\/\/ through a hook_form_alter().\n",191],["T_WHITESPACE","      ",192],["T_VARIABLE","$elements",192],"[",["T_CONSTANT_ENCAPSED_STRING","'#file_upload_title'",192],"]",["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_STRING","t",192],"(",["T_CONSTANT_ENCAPSED_STRING","'Add a new file'",192],")",";",["T_WHITESPACE","\n      ",192],["T_VARIABLE","$elements",193],"[",["T_CONSTANT_ENCAPSED_STRING","'#file_upload_description'",193],"]",["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_ARRAY","array",193],"(",["T_WHITESPACE","\n        ",193],["T_CONSTANT_ENCAPSED_STRING","'#theme'",194],["T_WHITESPACE"," ",194],["T_DOUBLE_ARROW","=>",194],["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'file_upload_help'",194],",",["T_WHITESPACE","\n        ",194],["T_CONSTANT_ENCAPSED_STRING","'#description'",195],["T_WHITESPACE"," ",195],["T_DOUBLE_ARROW","=>",195],["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","''",195],",",["T_WHITESPACE","\n        ",195],["T_CONSTANT_ENCAPSED_STRING","'#upload_validators'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$elements",196],"[",["T_LNUMBER","0",196],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#upload_validators'",196],"]",",",["T_WHITESPACE","\n        ",196],["T_CONSTANT_ENCAPSED_STRING","'#cardinality'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$cardinality",197],",",["T_WHITESPACE","\n      ",197],")",";",["T_WHITESPACE","\n    ",198],"}",["T_WHITESPACE","\n\n    ",199],["T_RETURN","return",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$elements",201],";",["T_WHITESPACE","\n  ",201],"}",["T_WHITESPACE","\n\n  ",202],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",204],["T_WHITESPACE","\n  ",206],["T_PUBLIC","public",207],["T_WHITESPACE"," ",207],["T_FUNCTION","function",207],["T_WHITESPACE"," ",207],["T_STRING","formElement",207],"(",["T_STRING","FieldItemListInterface",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$items",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$delta",207],",",["T_WHITESPACE"," ",207],["T_ARRAY","array",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$element",207],",",["T_WHITESPACE"," ",207],["T_ARRAY","array",207],["T_WHITESPACE"," ",207],"&",["T_VARIABLE","$form",207],",",["T_WHITESPACE"," ",207],["T_STRING","FormStateInterface",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$form_state",207],")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n    ",207],["T_VARIABLE","$field_settings",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getFieldSettings",208],"(",")",";",["T_WHITESPACE","\n\n    ",208],["T_COMMENT","\/\/ The field settings include defaults for the field type. However, this\n",210],["T_WHITESPACE","    ",211],["T_COMMENT","\/\/ widget is a base class for other widgets (e.g., ImageWidget) that may act\n",211],["T_WHITESPACE","    ",212],["T_COMMENT","\/\/ on field types without these expected settings.\n",212],["T_WHITESPACE","    ",213],["T_VARIABLE","$field_settings",213],["T_WHITESPACE"," ",213],["T_PLUS_EQUAL","+=",213],["T_WHITESPACE"," ",213],["T_ARRAY","array",213],"(",["T_WHITESPACE","\n      ",213],["T_CONSTANT_ENCAPSED_STRING","'display_default'",214],["T_WHITESPACE"," ",214],["T_DOUBLE_ARROW","=>",214],["T_WHITESPACE"," ",214],["T_STRING","NULL",214],",",["T_WHITESPACE","\n      ",214],["T_CONSTANT_ENCAPSED_STRING","'display_field'",215],["T_WHITESPACE"," ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_STRING","NULL",215],",",["T_WHITESPACE","\n      ",215],["T_CONSTANT_ENCAPSED_STRING","'description_field'",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],["T_STRING","NULL",216],",",["T_WHITESPACE","\n    ",216],")",";",["T_WHITESPACE","\n\n    ",217],["T_VARIABLE","$cardinality",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","fieldDefinition",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getFieldStorageDefinition",219],"(",")",["T_OBJECT_OPERATOR","->",219],["T_STRING","getCardinality",219],"(",")",";",["T_WHITESPACE","\n    ",219],["T_VARIABLE","$defaults",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_ARRAY","array",220],"(",["T_WHITESPACE","\n      ",220],["T_CONSTANT_ENCAPSED_STRING","'fids'",221],["T_WHITESPACE"," ",221],["T_DOUBLE_ARROW","=>",221],["T_WHITESPACE"," ",221],["T_ARRAY","array",221],"(",")",",",["T_WHITESPACE","\n      ",221],["T_CONSTANT_ENCAPSED_STRING","'display'",222],["T_WHITESPACE"," ",222],["T_DOUBLE_ARROW","=>",222],["T_WHITESPACE"," ",222],["T_BOOL_CAST","(bool)",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$field_settings",222],"[",["T_CONSTANT_ENCAPSED_STRING","'display_default'",222],"]",",",["T_WHITESPACE","\n      ",222],["T_CONSTANT_ENCAPSED_STRING","'description'",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","''",223],",",["T_WHITESPACE","\n    ",223],")",";",["T_WHITESPACE","\n\n    ",224],["T_COMMENT","\/\/ Essentially we use the managed_file type, extended with some\n",226],["T_WHITESPACE","    ",227],["T_COMMENT","\/\/ enhancements.\n",227],["T_WHITESPACE","    ",228],["T_VARIABLE","$element_info",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","elementInfo",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","getInfo",228],"(",["T_CONSTANT_ENCAPSED_STRING","'managed_file'",228],")",";",["T_WHITESPACE","\n    ",228],["T_VARIABLE","$element",229],["T_WHITESPACE"," ",229],["T_PLUS_EQUAL","+=",229],["T_WHITESPACE"," ",229],["T_ARRAY","array",229],"(",["T_WHITESPACE","\n      ",229],["T_CONSTANT_ENCAPSED_STRING","'#type'",230],["T_WHITESPACE"," ",230],["T_DOUBLE_ARROW","=>",230],["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","'managed_file'",230],",",["T_WHITESPACE","\n      ",230],["T_CONSTANT_ENCAPSED_STRING","'#upload_location'",231],["T_WHITESPACE"," ",231],["T_DOUBLE_ARROW","=>",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$items",231],"[",["T_VARIABLE","$delta",231],"]",["T_OBJECT_OPERATOR","->",231],["T_STRING","getUploadLocation",231],"(",")",",",["T_WHITESPACE","\n      ",231],["T_CONSTANT_ENCAPSED_STRING","'#upload_validators'",232],["T_WHITESPACE"," ",232],["T_DOUBLE_ARROW","=>",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$items",232],"[",["T_VARIABLE","$delta",232],"]",["T_OBJECT_OPERATOR","->",232],["T_STRING","getUploadValidators",232],"(",")",",",["T_WHITESPACE","\n      ",232],["T_CONSTANT_ENCAPSED_STRING","'#value_callback'",233],["T_WHITESPACE"," ",233],["T_DOUBLE_ARROW","=>",233],["T_WHITESPACE"," ",233],["T_ARRAY","array",233],"(",["T_STRING","get_class",233],"(",["T_VARIABLE","$this",233],")",",",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'value'",233],")",",",["T_WHITESPACE","\n      ",233],["T_CONSTANT_ENCAPSED_STRING","'#process'",234],["T_WHITESPACE"," ",234],["T_DOUBLE_ARROW","=>",234],["T_WHITESPACE"," ",234],["T_STRING","array_merge",234],"(",["T_VARIABLE","$element_info",234],"[",["T_CONSTANT_ENCAPSED_STRING","'#process'",234],"]",",",["T_WHITESPACE"," ",234],["T_ARRAY","array",234],"(",["T_ARRAY","array",234],"(",["T_STRING","get_class",234],"(",["T_VARIABLE","$this",234],")",",",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'process'",234],")",")",")",",",["T_WHITESPACE","\n      ",234],["T_CONSTANT_ENCAPSED_STRING","'#progress_indicator'",235],["T_WHITESPACE"," ",235],["T_DOUBLE_ARROW","=>",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getSetting",235],"(",["T_CONSTANT_ENCAPSED_STRING","'progress_indicator'",235],")",",",["T_WHITESPACE","\n      ",235],["T_COMMENT","\/\/ Allows this field to return an array instead of a single value.\n",236],["T_WHITESPACE","      ",237],["T_CONSTANT_ENCAPSED_STRING","'#extended'",237],["T_WHITESPACE"," ",237],["T_DOUBLE_ARROW","=>",237],["T_WHITESPACE"," ",237],["T_STRING","TRUE",237],",",["T_WHITESPACE","\n      ",237],["T_COMMENT","\/\/ Add properties needed by value() and process() methods.\n",238],["T_WHITESPACE","      ",239],["T_CONSTANT_ENCAPSED_STRING","'#field_name'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","fieldDefinition",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getName",239],"(",")",",",["T_WHITESPACE","\n      ",239],["T_CONSTANT_ENCAPSED_STRING","'#entity_type'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$items",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getEntity",240],"(",")",["T_OBJECT_OPERATOR","->",240],["T_STRING","getEntityTypeId",240],"(",")",",",["T_WHITESPACE","\n      ",240],["T_CONSTANT_ENCAPSED_STRING","'#display_field'",241],["T_WHITESPACE"," ",241],["T_DOUBLE_ARROW","=>",241],["T_WHITESPACE"," ",241],["T_BOOL_CAST","(bool)",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$field_settings",241],"[",["T_CONSTANT_ENCAPSED_STRING","'display_field'",241],"]",",",["T_WHITESPACE","\n      ",241],["T_CONSTANT_ENCAPSED_STRING","'#display_default'",242],["T_WHITESPACE"," ",242],["T_DOUBLE_ARROW","=>",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$field_settings",242],"[",["T_CONSTANT_ENCAPSED_STRING","'display_default'",242],"]",",",["T_WHITESPACE","\n      ",242],["T_CONSTANT_ENCAPSED_STRING","'#description_field'",243],["T_WHITESPACE"," ",243],["T_DOUBLE_ARROW","=>",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$field_settings",243],"[",["T_CONSTANT_ENCAPSED_STRING","'description_field'",243],"]",",",["T_WHITESPACE","\n      ",243],["T_CONSTANT_ENCAPSED_STRING","'#cardinality'",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$cardinality",244],",",["T_WHITESPACE","\n    ",244],")",";",["T_WHITESPACE","\n\n    ",245],["T_VARIABLE","$element",247],"[",["T_CONSTANT_ENCAPSED_STRING","'#weight'",247],"]",["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$delta",247],";",["T_WHITESPACE","\n\n    ",247],["T_COMMENT","\/\/ Field stores FID value in a single mode, so we need to transform it for\n",249],["T_WHITESPACE","    ",250],["T_COMMENT","\/\/ form element to recognize it correctly.\n",250],["T_WHITESPACE","    ",251],["T_IF","if",251],["T_WHITESPACE"," ",251],"(","!",["T_ISSET","isset",251],"(",["T_VARIABLE","$items",251],"[",["T_VARIABLE","$delta",251],"]",["T_OBJECT_OPERATOR","->",251],["T_STRING","fids",251],")",["T_WHITESPACE"," ",251],["T_BOOLEAN_AND","&&",251],["T_WHITESPACE"," ",251],["T_ISSET","isset",251],"(",["T_VARIABLE","$items",251],"[",["T_VARIABLE","$delta",251],"]",["T_OBJECT_OPERATOR","->",251],["T_STRING","target_id",251],")",")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n      ",251],["T_VARIABLE","$items",252],"[",["T_VARIABLE","$delta",252],"]",["T_OBJECT_OPERATOR","->",252],["T_STRING","fids",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_ARRAY","array",252],"(",["T_VARIABLE","$items",252],"[",["T_VARIABLE","$delta",252],"]",["T_OBJECT_OPERATOR","->",252],["T_STRING","target_id",252],")",";",["T_WHITESPACE","\n    ",252],"}",["T_WHITESPACE","\n    ",253],["T_VARIABLE","$element",254],"[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",254],"]",["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$items",254],"[",["T_VARIABLE","$delta",254],"]",["T_OBJECT_OPERATOR","->",254],["T_STRING","getValue",254],"(",")",["T_WHITESPACE"," ",254],"+",["T_WHITESPACE"," ",254],["T_VARIABLE","$defaults",254],";",["T_WHITESPACE","\n\n    ",254],["T_VARIABLE","$default_fids",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$element",256],"[",["T_CONSTANT_ENCAPSED_STRING","'#extended'",256],"]",["T_WHITESPACE"," ",256],"?",["T_WHITESPACE"," ",256],["T_VARIABLE","$element",256],"[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",256],"]","[",["T_CONSTANT_ENCAPSED_STRING","'fids'",256],"]",["T_WHITESPACE"," ",256],":",["T_WHITESPACE"," ",256],["T_VARIABLE","$element",256],"[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",256],"]",";",["T_WHITESPACE","\n    ",256],["T_IF","if",257],["T_WHITESPACE"," ",257],"(",["T_EMPTY","empty",257],"(",["T_VARIABLE","$default_fids",257],")",")",["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n      ",257],["T_VARIABLE","$file_upload_help",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_ARRAY","array",258],"(",["T_WHITESPACE","\n        ",258],["T_CONSTANT_ENCAPSED_STRING","'#theme'",259],["T_WHITESPACE"," ",259],["T_DOUBLE_ARROW","=>",259],["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'file_upload_help'",259],",",["T_WHITESPACE","\n        ",259],["T_CONSTANT_ENCAPSED_STRING","'#description'",260],["T_WHITESPACE"," ",260],["T_DOUBLE_ARROW","=>",260],["T_WHITESPACE"," ",260],["T_VARIABLE","$element",260],"[",["T_CONSTANT_ENCAPSED_STRING","'#description'",260],"]",",",["T_WHITESPACE","\n        ",260],["T_CONSTANT_ENCAPSED_STRING","'#upload_validators'",261],["T_WHITESPACE"," ",261],["T_DOUBLE_ARROW","=>",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$element",261],"[",["T_CONSTANT_ENCAPSED_STRING","'#upload_validators'",261],"]",",",["T_WHITESPACE","\n        ",261],["T_CONSTANT_ENCAPSED_STRING","'#cardinality'",262],["T_WHITESPACE"," ",262],["T_DOUBLE_ARROW","=>",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$cardinality",262],",",["T_WHITESPACE","\n      ",262],")",";",["T_WHITESPACE","\n      ",263],["T_VARIABLE","$element",264],"[",["T_CONSTANT_ENCAPSED_STRING","'#description'",264],"]",["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_NS_SEPARATOR","\\",264],["T_STRING","Drupal",264],["T_DOUBLE_COLON","::",264],["T_STRING","service",264],"(",["T_CONSTANT_ENCAPSED_STRING","'renderer'",264],")",["T_OBJECT_OPERATOR","->",264],["T_STRING","renderPlain",264],"(",["T_VARIABLE","$file_upload_help",264],")",";",["T_WHITESPACE","\n      ",264],["T_VARIABLE","$element",265],"[",["T_CONSTANT_ENCAPSED_STRING","'#multiple'",265],"]",["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_VARIABLE","$cardinality",265],["T_WHITESPACE"," ",265],["T_IS_NOT_EQUAL","!=",265],["T_WHITESPACE"," ",265],["T_LNUMBER","1",265],["T_WHITESPACE"," ",265],"?",["T_WHITESPACE"," ",265],["T_STRING","TRUE",265],["T_WHITESPACE"," ",265],":",["T_WHITESPACE"," ",265],["T_STRING","FALSE",265],";",["T_WHITESPACE","\n      ",265],["T_IF","if",266],["T_WHITESPACE"," ",266],"(",["T_VARIABLE","$cardinality",266],["T_WHITESPACE"," ",266],["T_IS_NOT_EQUAL","!=",266],["T_WHITESPACE"," ",266],["T_LNUMBER","1",266],["T_WHITESPACE"," ",266],["T_BOOLEAN_AND","&&",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$cardinality",266],["T_WHITESPACE"," ",266],["T_IS_NOT_EQUAL","!=",266],["T_WHITESPACE"," ",266],"-",["T_LNUMBER","1",266],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n        ",266],["T_VARIABLE","$element",267],"[",["T_CONSTANT_ENCAPSED_STRING","'#element_validate'",267],"]",["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_ARRAY","array",267],"(",["T_ARRAY","array",267],"(",["T_STRING","get_class",267],"(",["T_VARIABLE","$this",267],")",",",["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","'validateMultipleCount'",267],")",")",";",["T_WHITESPACE","\n      ",267],"}",["T_WHITESPACE","\n    ",268],"}",["T_WHITESPACE","\n\n    ",269],["T_RETURN","return",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$element",271],";",["T_WHITESPACE","\n  ",271],"}",["T_WHITESPACE","\n\n  ",272],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",274],["T_WHITESPACE","\n  ",276],["T_PUBLIC","public",277],["T_WHITESPACE"," ",277],["T_FUNCTION","function",277],["T_WHITESPACE"," ",277],["T_STRING","massageFormValues",277],"(",["T_ARRAY","array",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$values",277],",",["T_WHITESPACE"," ",277],["T_ARRAY","array",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$form",277],",",["T_WHITESPACE"," ",277],["T_STRING","FormStateInterface",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$form_state",277],")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n    ",277],["T_COMMENT","\/\/ Since file upload widget now supports uploads of more than one file at a\n",278],["T_WHITESPACE","    ",279],["T_COMMENT","\/\/ time it always returns an array of fids. We have to translate this to a\n",279],["T_WHITESPACE","    ",280],["T_COMMENT","\/\/ single fid, as field expects single value.\n",280],["T_WHITESPACE","    ",281],["T_VARIABLE","$new_values",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_ARRAY","array",281],"(",")",";",["T_WHITESPACE","\n    ",281],["T_FOREACH","foreach",282],["T_WHITESPACE"," ",282],"(",["T_VARIABLE","$values",282],["T_WHITESPACE"," ",282],["T_AS","as",282],["T_WHITESPACE"," ",282],"&",["T_VARIABLE","$value",282],")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n      ",282],["T_FOREACH","foreach",283],["T_WHITESPACE"," ",283],"(",["T_VARIABLE","$value",283],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",283],"]",["T_WHITESPACE"," ",283],["T_AS","as",283],["T_WHITESPACE"," ",283],["T_VARIABLE","$fid",283],")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n        ",283],["T_VARIABLE","$new_value",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_VARIABLE","$value",284],";",["T_WHITESPACE","\n        ",284],["T_VARIABLE","$new_value",285],"[",["T_CONSTANT_ENCAPSED_STRING","'target_id'",285],"]",["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_VARIABLE","$fid",285],";",["T_WHITESPACE","\n        ",285],["T_UNSET","unset",286],"(",["T_VARIABLE","$new_value",286],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",286],"]",")",";",["T_WHITESPACE","\n        ",286],["T_VARIABLE","$new_values",287],"[","]",["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_VARIABLE","$new_value",287],";",["T_WHITESPACE","\n      ",287],"}",["T_WHITESPACE","\n    ",288],"}",["T_WHITESPACE","\n\n    ",289],["T_RETURN","return",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$new_values",291],";",["T_WHITESPACE","\n  ",291],"}",["T_WHITESPACE","\n\n  ",292],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",294],["T_WHITESPACE","\n  ",296],["T_PUBLIC","public",297],["T_WHITESPACE"," ",297],["T_FUNCTION","function",297],["T_WHITESPACE"," ",297],["T_STRING","extractFormValues",297],"(",["T_STRING","FieldItemListInterface",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$items",297],",",["T_WHITESPACE"," ",297],["T_ARRAY","array",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$form",297],",",["T_WHITESPACE"," ",297],["T_STRING","FormStateInterface",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$form_state",297],")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n    ",297],["T_STRING","parent",298],["T_DOUBLE_COLON","::",298],["T_STRING","extractFormValues",298],"(",["T_VARIABLE","$items",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$form",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$form_state",298],")",";",["T_WHITESPACE","\n\n    ",298],["T_COMMENT","\/\/ Update reference to 'items' stored during upload to take into account\n",300],["T_WHITESPACE","    ",301],["T_COMMENT","\/\/ changes to values like 'alt' etc.\n",301],["T_WHITESPACE","    ",302],["T_COMMENT","\/\/ @see \\Drupal\\file\\Plugin\\Field\\FieldWidget\\FileWidget::submit()\n",302],["T_WHITESPACE","    ",303],["T_VARIABLE","$field_name",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","fieldDefinition",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","getName",303],"(",")",";",["T_WHITESPACE","\n    ",303],["T_VARIABLE","$field_state",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_STATIC","static",304],["T_DOUBLE_COLON","::",304],["T_STRING","getWidgetState",304],"(",["T_VARIABLE","$form",304],"[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",304],"]",",",["T_WHITESPACE"," ",304],["T_VARIABLE","$field_name",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$form_state",304],")",";",["T_WHITESPACE","\n    ",304],["T_VARIABLE","$field_state",305],"[",["T_CONSTANT_ENCAPSED_STRING","'items'",305],"]",["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_VARIABLE","$items",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","getValue",305],"(",")",";",["T_WHITESPACE","\n    ",305],["T_STATIC","static",306],["T_DOUBLE_COLON","::",306],["T_STRING","setWidgetState",306],"(",["T_VARIABLE","$form",306],"[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",306],"]",",",["T_WHITESPACE"," ",306],["T_VARIABLE","$field_name",306],",",["T_WHITESPACE"," ",306],["T_VARIABLE","$form_state",306],",",["T_WHITESPACE"," ",306],["T_VARIABLE","$field_state",306],")",";",["T_WHITESPACE","\n  ",306],"}",["T_WHITESPACE","\n\n  ",307],["T_DOC_COMMENT","\/**\n   * Form API callback. Retrieves the value for the file_generic field element.\n   *\n   * This method is assigned as a #value_callback in formElement() method.\n   *\/",309],["T_WHITESPACE","\n  ",313],["T_PUBLIC","public",314],["T_WHITESPACE"," ",314],["T_STATIC","static",314],["T_WHITESPACE"," ",314],["T_FUNCTION","function",314],["T_WHITESPACE"," ",314],["T_STRING","value",314],"(",["T_VARIABLE","$element",314],",",["T_WHITESPACE"," ",314],["T_VARIABLE","$input",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_STRING","FALSE",314],",",["T_WHITESPACE"," ",314],["T_STRING","FormStateInterface",314],["T_WHITESPACE"," ",314],["T_VARIABLE","$form_state",314],")",["T_WHITESPACE"," ",314],"{",["T_WHITESPACE","\n    ",314],["T_IF","if",315],["T_WHITESPACE"," ",315],"(",["T_VARIABLE","$input",315],")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n      ",315],["T_COMMENT","\/\/ Checkboxes lose their value when empty.\n",316],["T_WHITESPACE","      ",317],["T_COMMENT","\/\/ If the display field is present make sure its unchecked value is saved.\n",317],["T_WHITESPACE","      ",318],["T_IF","if",318],["T_WHITESPACE"," ",318],"(",["T_EMPTY","empty",318],"(",["T_VARIABLE","$input",318],"[",["T_CONSTANT_ENCAPSED_STRING","'display'",318],"]",")",")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n        ",318],["T_VARIABLE","$input",319],"[",["T_CONSTANT_ENCAPSED_STRING","'display'",319],"]",["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_VARIABLE","$element",319],"[",["T_CONSTANT_ENCAPSED_STRING","'#display_field'",319],"]",["T_WHITESPACE"," ",319],"?",["T_WHITESPACE"," ",319],["T_LNUMBER","0",319],["T_WHITESPACE"," ",319],":",["T_WHITESPACE"," ",319],["T_LNUMBER","1",319],";",["T_WHITESPACE","\n      ",319],"}",["T_WHITESPACE","\n    ",320],"}",["T_WHITESPACE","\n\n    ",321],["T_COMMENT","\/\/ We depend on the managed file element to handle uploads.\n",323],["T_WHITESPACE","    ",324],["T_VARIABLE","$return",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_STRING","ManagedFile",324],["T_DOUBLE_COLON","::",324],["T_STRING","valueCallback",324],"(",["T_VARIABLE","$element",324],",",["T_WHITESPACE"," ",324],["T_VARIABLE","$input",324],",",["T_WHITESPACE"," ",324],["T_VARIABLE","$form_state",324],")",";",["T_WHITESPACE","\n\n    ",324],["T_COMMENT","\/\/ Ensure that all the required properties are returned even if empty.\n",326],["T_WHITESPACE","    ",327],["T_VARIABLE","$return",327],["T_WHITESPACE"," ",327],["T_PLUS_EQUAL","+=",327],["T_WHITESPACE"," ",327],["T_ARRAY","array",327],"(",["T_WHITESPACE","\n      ",327],["T_CONSTANT_ENCAPSED_STRING","'fids'",328],["T_WHITESPACE"," ",328],["T_DOUBLE_ARROW","=>",328],["T_WHITESPACE"," ",328],["T_ARRAY","array",328],"(",")",",",["T_WHITESPACE","\n      ",328],["T_CONSTANT_ENCAPSED_STRING","'display'",329],["T_WHITESPACE"," ",329],["T_DOUBLE_ARROW","=>",329],["T_WHITESPACE"," ",329],["T_LNUMBER","1",329],",",["T_WHITESPACE","\n      ",329],["T_CONSTANT_ENCAPSED_STRING","'description'",330],["T_WHITESPACE"," ",330],["T_DOUBLE_ARROW","=>",330],["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","''",330],",",["T_WHITESPACE","\n    ",330],")",";",["T_WHITESPACE","\n\n    ",331],["T_RETURN","return",333],["T_WHITESPACE"," ",333],["T_VARIABLE","$return",333],";",["T_WHITESPACE","\n  ",333],"}",["T_WHITESPACE","\n\n  ",334],["T_DOC_COMMENT","\/**\n   * Form element validation callback for upload element on file widget. Checks\n   * if user has uploaded more files than allowed.\n   *\n   * This validator is used only when cardinality not set to 1 or unlimited.\n   *\/",336],["T_WHITESPACE","\n  ",341],["T_PUBLIC","public",342],["T_WHITESPACE"," ",342],["T_STATIC","static",342],["T_WHITESPACE"," ",342],["T_FUNCTION","function",342],["T_WHITESPACE"," ",342],["T_STRING","validateMultipleCount",342],"(",["T_VARIABLE","$element",342],",",["T_WHITESPACE"," ",342],["T_STRING","FormStateInterface",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$form_state",342],",",["T_WHITESPACE"," ",342],["T_VARIABLE","$form",342],")",["T_WHITESPACE"," ",342],"{",["T_WHITESPACE","\n    ",342],["T_VARIABLE","$values",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_STRING","NestedArray",343],["T_DOUBLE_COLON","::",343],["T_STRING","getValue",343],"(",["T_VARIABLE","$form_state",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","getValues",343],"(",")",",",["T_WHITESPACE"," ",343],["T_VARIABLE","$element",343],"[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",343],"]",")",";",["T_WHITESPACE","\n\n    ",343],["T_VARIABLE","$array_parents",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_VARIABLE","$element",345],"[",["T_CONSTANT_ENCAPSED_STRING","'#array_parents'",345],"]",";",["T_WHITESPACE","\n    ",345],["T_STRING","array_pop",346],"(",["T_VARIABLE","$array_parents",346],")",";",["T_WHITESPACE","\n    ",346],["T_VARIABLE","$previously_uploaded_count",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_STRING","count",347],"(",["T_STRING","Element",347],["T_DOUBLE_COLON","::",347],["T_STRING","children",347],"(",["T_STRING","NestedArray",347],["T_DOUBLE_COLON","::",347],["T_STRING","getValue",347],"(",["T_VARIABLE","$form",347],",",["T_WHITESPACE"," ",347],["T_VARIABLE","$array_parents",347],")",")",")",["T_WHITESPACE"," ",347],"-",["T_WHITESPACE"," ",347],["T_LNUMBER","1",347],";",["T_WHITESPACE","\n\n    ",347],["T_VARIABLE","$field_storage_definitions",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_NS_SEPARATOR","\\",349],["T_STRING","Drupal",349],["T_DOUBLE_COLON","::",349],["T_STRING","entityManager",349],"(",")",["T_OBJECT_OPERATOR","->",349],["T_STRING","getFieldStorageDefinitions",349],"(",["T_VARIABLE","$element",349],"[",["T_CONSTANT_ENCAPSED_STRING","'#entity_type'",349],"]",")",";",["T_WHITESPACE","\n    ",349],["T_VARIABLE","$field_storage",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_VARIABLE","$field_storage_definitions",350],"[",["T_VARIABLE","$element",350],"[",["T_CONSTANT_ENCAPSED_STRING","'#field_name'",350],"]","]",";",["T_WHITESPACE","\n    ",350],["T_VARIABLE","$newly_uploaded_count",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_STRING","count",351],"(",["T_VARIABLE","$values",351],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",351],"]",")",";",["T_WHITESPACE","\n    ",351],["T_VARIABLE","$total_uploaded_count",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_VARIABLE","$newly_uploaded_count",352],["T_WHITESPACE"," ",352],"+",["T_WHITESPACE"," ",352],["T_VARIABLE","$previously_uploaded_count",352],";",["T_WHITESPACE","\n    ",352],["T_IF","if",353],["T_WHITESPACE"," ",353],"(",["T_VARIABLE","$total_uploaded_count",353],["T_WHITESPACE"," ",353],">",["T_WHITESPACE"," ",353],["T_VARIABLE","$field_storage",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","getCardinality",353],"(",")",")",["T_WHITESPACE"," ",353],"{",["T_WHITESPACE","\n      ",353],["T_VARIABLE","$keep",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_VARIABLE","$newly_uploaded_count",354],["T_WHITESPACE"," ",354],"-",["T_WHITESPACE"," ",354],["T_VARIABLE","$total_uploaded_count",354],["T_WHITESPACE"," ",354],"+",["T_WHITESPACE"," ",354],["T_VARIABLE","$field_storage",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","getCardinality",354],"(",")",";",["T_WHITESPACE","\n      ",354],["T_VARIABLE","$removed_files",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_STRING","array_slice",355],"(",["T_VARIABLE","$values",355],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",355],"]",",",["T_WHITESPACE"," ",355],["T_VARIABLE","$keep",355],")",";",["T_WHITESPACE","\n      ",355],["T_VARIABLE","$removed_names",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_ARRAY","array",356],"(",")",";",["T_WHITESPACE","\n      ",356],["T_FOREACH","foreach",357],["T_WHITESPACE"," ",357],"(",["T_VARIABLE","$removed_files",357],["T_WHITESPACE"," ",357],["T_AS","as",357],["T_WHITESPACE"," ",357],["T_VARIABLE","$fid",357],")",["T_WHITESPACE"," ",357],"{",["T_WHITESPACE","\n        ",357],["T_VARIABLE","$file",358],["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_STRING","File",358],["T_DOUBLE_COLON","::",358],["T_STRING","load",358],"(",["T_VARIABLE","$fid",358],")",";",["T_WHITESPACE","\n        ",358],["T_VARIABLE","$removed_names",359],"[","]",["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_VARIABLE","$file",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","getFilename",359],"(",")",";",["T_WHITESPACE","\n      ",359],"}",["T_WHITESPACE","\n      ",360],["T_VARIABLE","$args",361],["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],"[",["T_WHITESPACE","\n        ",361],["T_CONSTANT_ENCAPSED_STRING","'%field'",362],["T_WHITESPACE"," ",362],["T_DOUBLE_ARROW","=>",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$field_storage",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","getName",362],"(",")",",",["T_WHITESPACE","\n        ",362],["T_CONSTANT_ENCAPSED_STRING","'@max'",363],["T_WHITESPACE"," ",363],["T_DOUBLE_ARROW","=>",363],["T_WHITESPACE"," ",363],["T_VARIABLE","$field_storage",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","getCardinality",363],"(",")",",",["T_WHITESPACE","\n        ",363],["T_CONSTANT_ENCAPSED_STRING","'@count'",364],["T_WHITESPACE"," ",364],["T_DOUBLE_ARROW","=>",364],["T_WHITESPACE"," ",364],["T_VARIABLE","$total_uploaded_count",364],",",["T_WHITESPACE","\n        ",364],["T_CONSTANT_ENCAPSED_STRING","'%list'",365],["T_WHITESPACE"," ",365],["T_DOUBLE_ARROW","=>",365],["T_WHITESPACE"," ",365],["T_STRING","implode",365],"(",["T_CONSTANT_ENCAPSED_STRING","', '",365],",",["T_WHITESPACE"," ",365],["T_VARIABLE","$removed_names",365],")",",",["T_WHITESPACE","\n      ",365],"]",";",["T_WHITESPACE","\n      ",366],["T_VARIABLE","$message",367],["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_STRING","t",367],"(",["T_CONSTANT_ENCAPSED_STRING","'Field %field can only hold @max values but there were @count uploaded. The following files have been omitted as a result: %list.'",367],",",["T_WHITESPACE"," ",367],["T_VARIABLE","$args",367],")",";",["T_WHITESPACE","\n      ",367],["T_STRING","drupal_set_message",368],"(",["T_VARIABLE","$message",368],",",["T_WHITESPACE"," ",368],["T_CONSTANT_ENCAPSED_STRING","'warning'",368],")",";",["T_WHITESPACE","\n      ",368],["T_VARIABLE","$values",369],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",369],"]",["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_STRING","array_slice",369],"(",["T_VARIABLE","$values",369],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",369],"]",",",["T_WHITESPACE"," ",369],["T_LNUMBER","0",369],",",["T_WHITESPACE"," ",369],["T_VARIABLE","$keep",369],")",";",["T_WHITESPACE","\n      ",369],["T_STRING","NestedArray",370],["T_DOUBLE_COLON","::",370],["T_STRING","setValue",370],"(",["T_VARIABLE","$form_state",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","getValues",370],"(",")",",",["T_WHITESPACE"," ",370],["T_VARIABLE","$element",370],"[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",370],"]",",",["T_WHITESPACE"," ",370],["T_VARIABLE","$values",370],")",";",["T_WHITESPACE","\n    ",370],"}",["T_WHITESPACE","\n  ",371],"}",["T_WHITESPACE","\n\n  ",372],["T_DOC_COMMENT","\/**\n   * Form API callback: Processes a file_generic field element.\n   *\n   * Expands the file_generic type to include the description and display\n   * fields.\n   *\n   * This method is assigned as a #process callback in formElement() method.\n   *\/",374],["T_WHITESPACE","\n  ",381],["T_PUBLIC","public",382],["T_WHITESPACE"," ",382],["T_STATIC","static",382],["T_WHITESPACE"," ",382],["T_FUNCTION","function",382],["T_WHITESPACE"," ",382],["T_STRING","process",382],"(",["T_VARIABLE","$element",382],",",["T_WHITESPACE"," ",382],["T_STRING","FormStateInterface",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$form_state",382],",",["T_WHITESPACE"," ",382],["T_VARIABLE","$form",382],")",["T_WHITESPACE"," ",382],"{",["T_WHITESPACE","\n    ",382],["T_VARIABLE","$item",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_VARIABLE","$element",383],"[",["T_CONSTANT_ENCAPSED_STRING","'#value'",383],"]",";",["T_WHITESPACE","\n    ",383],["T_VARIABLE","$item",384],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",384],"]",["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],["T_VARIABLE","$element",384],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",384],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#value'",384],"]",";",["T_WHITESPACE","\n\n    ",384],["T_COMMENT","\/\/ Add the display field if enabled.\n",386],["T_WHITESPACE","    ",387],["T_IF","if",387],["T_WHITESPACE"," ",387],"(",["T_VARIABLE","$element",387],"[",["T_CONSTANT_ENCAPSED_STRING","'#display_field'",387],"]",")",["T_WHITESPACE"," ",387],"{",["T_WHITESPACE","\n      ",387],["T_VARIABLE","$element",388],"[",["T_CONSTANT_ENCAPSED_STRING","'display'",388],"]",["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_ARRAY","array",388],"(",["T_WHITESPACE","\n        ",388],["T_CONSTANT_ENCAPSED_STRING","'#type'",389],["T_WHITESPACE"," ",389],["T_DOUBLE_ARROW","=>",389],["T_WHITESPACE"," ",389],["T_EMPTY","empty",389],"(",["T_VARIABLE","$item",389],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",389],"]",")",["T_WHITESPACE"," ",389],"?",["T_WHITESPACE"," ",389],["T_CONSTANT_ENCAPSED_STRING","'hidden'",389],["T_WHITESPACE"," ",389],":",["T_WHITESPACE"," ",389],["T_CONSTANT_ENCAPSED_STRING","'checkbox'",389],",",["T_WHITESPACE","\n        ",389],["T_CONSTANT_ENCAPSED_STRING","'#title'",390],["T_WHITESPACE"," ",390],["T_DOUBLE_ARROW","=>",390],["T_WHITESPACE"," ",390],["T_STRING","t",390],"(",["T_CONSTANT_ENCAPSED_STRING","'Include file in display'",390],")",",",["T_WHITESPACE","\n        ",390],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",391],["T_WHITESPACE"," ",391],["T_DOUBLE_ARROW","=>",391],["T_WHITESPACE"," ",391],["T_ARRAY","array",391],"(",["T_CONSTANT_ENCAPSED_STRING","'class'",391],["T_WHITESPACE"," ",391],["T_DOUBLE_ARROW","=>",391],["T_WHITESPACE"," ",391],["T_ARRAY","array",391],"(",["T_CONSTANT_ENCAPSED_STRING","'file-display'",391],")",")",",",["T_WHITESPACE","\n      ",391],")",";",["T_WHITESPACE","\n      ",392],["T_IF","if",393],["T_WHITESPACE"," ",393],"(",["T_ISSET","isset",393],"(",["T_VARIABLE","$item",393],"[",["T_CONSTANT_ENCAPSED_STRING","'display'",393],"]",")",")",["T_WHITESPACE"," ",393],"{",["T_WHITESPACE","\n        ",393],["T_VARIABLE","$element",394],"[",["T_CONSTANT_ENCAPSED_STRING","'display'",394],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#value'",394],"]",["T_WHITESPACE"," ",394],"=",["T_WHITESPACE"," ",394],["T_VARIABLE","$item",394],"[",["T_CONSTANT_ENCAPSED_STRING","'display'",394],"]",["T_WHITESPACE"," ",394],"?",["T_WHITESPACE"," ",394],["T_CONSTANT_ENCAPSED_STRING","'1'",394],["T_WHITESPACE"," ",394],":",["T_WHITESPACE"," ",394],["T_CONSTANT_ENCAPSED_STRING","''",394],";",["T_WHITESPACE","\n      ",394],"}",["T_WHITESPACE","\n      ",395],["T_ELSE","else",396],["T_WHITESPACE"," ",396],"{",["T_WHITESPACE","\n        ",396],["T_VARIABLE","$element",397],"[",["T_CONSTANT_ENCAPSED_STRING","'display'",397],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#value'",397],"]",["T_WHITESPACE"," ",397],"=",["T_WHITESPACE"," ",397],["T_VARIABLE","$element",397],"[",["T_CONSTANT_ENCAPSED_STRING","'#display_default'",397],"]",";",["T_WHITESPACE","\n      ",397],"}",["T_WHITESPACE","\n    ",398],"}",["T_WHITESPACE","\n    ",399],["T_ELSE","else",400],["T_WHITESPACE"," ",400],"{",["T_WHITESPACE","\n      ",400],["T_VARIABLE","$element",401],"[",["T_CONSTANT_ENCAPSED_STRING","'display'",401],"]",["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],["T_ARRAY","array",401],"(",["T_WHITESPACE","\n        ",401],["T_CONSTANT_ENCAPSED_STRING","'#type'",402],["T_WHITESPACE"," ",402],["T_DOUBLE_ARROW","=>",402],["T_WHITESPACE"," ",402],["T_CONSTANT_ENCAPSED_STRING","'hidden'",402],",",["T_WHITESPACE","\n        ",402],["T_CONSTANT_ENCAPSED_STRING","'#value'",403],["T_WHITESPACE"," ",403],["T_DOUBLE_ARROW","=>",403],["T_WHITESPACE"," ",403],["T_CONSTANT_ENCAPSED_STRING","'1'",403],",",["T_WHITESPACE","\n      ",403],")",";",["T_WHITESPACE","\n    ",404],"}",["T_WHITESPACE","\n\n    ",405],["T_COMMENT","\/\/ Add the description field if enabled.\n",407],["T_WHITESPACE","    ",408],["T_IF","if",408],["T_WHITESPACE"," ",408],"(",["T_VARIABLE","$element",408],"[",["T_CONSTANT_ENCAPSED_STRING","'#description_field'",408],"]",["T_WHITESPACE"," ",408],["T_BOOLEAN_AND","&&",408],["T_WHITESPACE"," ",408],["T_VARIABLE","$item",408],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",408],"]",")",["T_WHITESPACE"," ",408],"{",["T_WHITESPACE","\n      ",408],["T_VARIABLE","$config",409],["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_NS_SEPARATOR","\\",409],["T_STRING","Drupal",409],["T_DOUBLE_COLON","::",409],["T_STRING","config",409],"(",["T_CONSTANT_ENCAPSED_STRING","'file.settings'",409],")",";",["T_WHITESPACE","\n      ",409],["T_VARIABLE","$element",410],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",410],"]",["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_ARRAY","array",410],"(",["T_WHITESPACE","\n        ",410],["T_CONSTANT_ENCAPSED_STRING","'#type'",411],["T_WHITESPACE"," ",411],["T_DOUBLE_ARROW","=>",411],["T_WHITESPACE"," ",411],["T_VARIABLE","$config",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","get",411],"(",["T_CONSTANT_ENCAPSED_STRING","'description.type'",411],")",",",["T_WHITESPACE","\n        ",411],["T_CONSTANT_ENCAPSED_STRING","'#title'",412],["T_WHITESPACE"," ",412],["T_DOUBLE_ARROW","=>",412],["T_WHITESPACE"," ",412],["T_STRING","t",412],"(",["T_CONSTANT_ENCAPSED_STRING","'Description'",412],")",",",["T_WHITESPACE","\n        ",412],["T_CONSTANT_ENCAPSED_STRING","'#value'",413],["T_WHITESPACE"," ",413],["T_DOUBLE_ARROW","=>",413],["T_WHITESPACE"," ",413],["T_ISSET","isset",413],"(",["T_VARIABLE","$item",413],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",413],"]",")",["T_WHITESPACE"," ",413],"?",["T_WHITESPACE"," ",413],["T_VARIABLE","$item",413],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",413],"]",["T_WHITESPACE"," ",413],":",["T_WHITESPACE"," ",413],["T_CONSTANT_ENCAPSED_STRING","''",413],",",["T_WHITESPACE","\n        ",413],["T_CONSTANT_ENCAPSED_STRING","'#maxlength'",414],["T_WHITESPACE"," ",414],["T_DOUBLE_ARROW","=>",414],["T_WHITESPACE"," ",414],["T_VARIABLE","$config",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","get",414],"(",["T_CONSTANT_ENCAPSED_STRING","'description.length'",414],")",",",["T_WHITESPACE","\n        ",414],["T_CONSTANT_ENCAPSED_STRING","'#description'",415],["T_WHITESPACE"," ",415],["T_DOUBLE_ARROW","=>",415],["T_WHITESPACE"," ",415],["T_STRING","t",415],"(",["T_CONSTANT_ENCAPSED_STRING","'The description may be used as the label of the link to the file.'",415],")",",",["T_WHITESPACE","\n      ",415],")",";",["T_WHITESPACE","\n    ",416],"}",["T_WHITESPACE","\n\n    ",417],["T_COMMENT","\/\/ Adjust the Ajax settings so that on upload and remove of any individual\n",419],["T_WHITESPACE","    ",420],["T_COMMENT","\/\/ file, the entire group of file fields is updated together.\n",420],["T_WHITESPACE","    ",421],["T_IF","if",421],["T_WHITESPACE"," ",421],"(",["T_VARIABLE","$element",421],"[",["T_CONSTANT_ENCAPSED_STRING","'#cardinality'",421],"]",["T_WHITESPACE"," ",421],["T_IS_NOT_EQUAL","!=",421],["T_WHITESPACE"," ",421],["T_LNUMBER","1",421],")",["T_WHITESPACE"," ",421],"{",["T_WHITESPACE","\n      ",421],["T_VARIABLE","$parents",422],["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],["T_STRING","array_slice",422],"(",["T_VARIABLE","$element",422],"[",["T_CONSTANT_ENCAPSED_STRING","'#array_parents'",422],"]",",",["T_WHITESPACE"," ",422],["T_LNUMBER","0",422],",",["T_WHITESPACE"," ",422],"-",["T_LNUMBER","1",422],")",";",["T_WHITESPACE","\n      ",422],["T_VARIABLE","$new_options",423],["T_WHITESPACE"," ",423],"=",["T_WHITESPACE"," ",423],["T_ARRAY","array",423],"(",["T_WHITESPACE","\n        ",423],["T_CONSTANT_ENCAPSED_STRING","'query'",424],["T_WHITESPACE"," ",424],["T_DOUBLE_ARROW","=>",424],["T_WHITESPACE"," ",424],["T_ARRAY","array",424],"(",["T_WHITESPACE","\n          ",424],["T_CONSTANT_ENCAPSED_STRING","'element_parents'",425],["T_WHITESPACE"," ",425],["T_DOUBLE_ARROW","=>",425],["T_WHITESPACE"," ",425],["T_STRING","implode",425],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",425],",",["T_WHITESPACE"," ",425],["T_VARIABLE","$parents",425],")",",",["T_WHITESPACE","\n        ",425],")",",",["T_WHITESPACE","\n      ",426],")",";",["T_WHITESPACE","\n      ",427],["T_VARIABLE","$field_element",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_STRING","NestedArray",428],["T_DOUBLE_COLON","::",428],["T_STRING","getValue",428],"(",["T_VARIABLE","$form",428],",",["T_WHITESPACE"," ",428],["T_VARIABLE","$parents",428],")",";",["T_WHITESPACE","\n      ",428],["T_VARIABLE","$new_wrapper",429],["T_WHITESPACE"," ",429],"=",["T_WHITESPACE"," ",429],["T_VARIABLE","$field_element",429],"[",["T_CONSTANT_ENCAPSED_STRING","'#id'",429],"]",["T_WHITESPACE"," ",429],".",["T_WHITESPACE"," ",429],["T_CONSTANT_ENCAPSED_STRING","'-ajax-wrapper'",429],";",["T_WHITESPACE","\n      ",429],["T_FOREACH","foreach",430],["T_WHITESPACE"," ",430],"(",["T_STRING","Element",430],["T_DOUBLE_COLON","::",430],["T_STRING","children",430],"(",["T_VARIABLE","$element",430],")",["T_WHITESPACE"," ",430],["T_AS","as",430],["T_WHITESPACE"," ",430],["T_VARIABLE","$key",430],")",["T_WHITESPACE"," ",430],"{",["T_WHITESPACE","\n        ",430],["T_IF","if",431],["T_WHITESPACE"," ",431],"(",["T_ISSET","isset",431],"(",["T_VARIABLE","$element",431],"[",["T_VARIABLE","$key",431],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#ajax'",431],"]",")",")",["T_WHITESPACE"," ",431],"{",["T_WHITESPACE","\n          ",431],["T_VARIABLE","$element",432],"[",["T_VARIABLE","$key",432],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#ajax'",432],"]","[",["T_CONSTANT_ENCAPSED_STRING","'options'",432],"]",["T_WHITESPACE"," ",432],"=",["T_WHITESPACE"," ",432],["T_VARIABLE","$new_options",432],";",["T_WHITESPACE","\n          ",432],["T_VARIABLE","$element",433],"[",["T_VARIABLE","$key",433],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#ajax'",433],"]","[",["T_CONSTANT_ENCAPSED_STRING","'wrapper'",433],"]",["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_VARIABLE","$new_wrapper",433],";",["T_WHITESPACE","\n        ",433],"}",["T_WHITESPACE","\n      ",434],"}",["T_WHITESPACE","\n      ",435],["T_UNSET","unset",436],"(",["T_VARIABLE","$element",436],"[",["T_CONSTANT_ENCAPSED_STRING","'#prefix'",436],"]",",",["T_WHITESPACE"," ",436],["T_VARIABLE","$element",436],"[",["T_CONSTANT_ENCAPSED_STRING","'#suffix'",436],"]",")",";",["T_WHITESPACE","\n    ",436],"}",["T_WHITESPACE","\n\n    ",437],["T_COMMENT","\/\/ Add another submit handler to the upload and remove buttons, to implement\n",439],["T_WHITESPACE","    ",440],["T_COMMENT","\/\/ functionality needed by the field widget. This submit handler, along with\n",440],["T_WHITESPACE","    ",441],["T_COMMENT","\/\/ the rebuild logic in file_field_widget_form() requires the entire field,\n",441],["T_WHITESPACE","    ",442],["T_COMMENT","\/\/ not just the individual item, to be valid.\n",442],["T_WHITESPACE","    ",443],["T_FOREACH","foreach",443],["T_WHITESPACE"," ",443],"(",["T_ARRAY","array",443],"(",["T_CONSTANT_ENCAPSED_STRING","'upload_button'",443],",",["T_WHITESPACE"," ",443],["T_CONSTANT_ENCAPSED_STRING","'remove_button'",443],")",["T_WHITESPACE"," ",443],["T_AS","as",443],["T_WHITESPACE"," ",443],["T_VARIABLE","$key",443],")",["T_WHITESPACE"," ",443],"{",["T_WHITESPACE","\n      ",443],["T_VARIABLE","$element",444],"[",["T_VARIABLE","$key",444],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#submit'",444],"]","[","]",["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_ARRAY","array",444],"(",["T_STRING","get_called_class",444],"(",")",",",["T_WHITESPACE"," ",444],["T_CONSTANT_ENCAPSED_STRING","'submit'",444],")",";",["T_WHITESPACE","\n      ",444],["T_VARIABLE","$element",445],"[",["T_VARIABLE","$key",445],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#limit_validation_errors'",445],"]",["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_ARRAY","array",445],"(",["T_STRING","array_slice",445],"(",["T_VARIABLE","$element",445],"[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",445],"]",",",["T_WHITESPACE"," ",445],["T_LNUMBER","0",445],",",["T_WHITESPACE"," ",445],"-",["T_LNUMBER","1",445],")",")",";",["T_WHITESPACE","\n    ",445],"}",["T_WHITESPACE","\n\n    ",446],["T_RETURN","return",448],["T_WHITESPACE"," ",448],["T_VARIABLE","$element",448],";",["T_WHITESPACE","\n  ",448],"}",["T_WHITESPACE","\n\n  ",449],["T_DOC_COMMENT","\/**\n   * Form API callback: Processes a group of file_generic field elements.\n   *\n   * Adds the weight field to each row so it can be ordered and adds a new Ajax\n   * wrapper around the entire group so it can be replaced all at once.\n   *\n   * This method on is assigned as a #process callback in formMultipleElements()\n   * method.\n   *\/",451],["T_WHITESPACE","\n  ",459],["T_PUBLIC","public",460],["T_WHITESPACE"," ",460],["T_STATIC","static",460],["T_WHITESPACE"," ",460],["T_FUNCTION","function",460],["T_WHITESPACE"," ",460],["T_STRING","processMultiple",460],"(",["T_VARIABLE","$element",460],",",["T_WHITESPACE"," ",460],["T_STRING","FormStateInterface",460],["T_WHITESPACE"," ",460],["T_VARIABLE","$form_state",460],",",["T_WHITESPACE"," ",460],["T_VARIABLE","$form",460],")",["T_WHITESPACE"," ",460],"{",["T_WHITESPACE","\n    ",460],["T_VARIABLE","$element_children",461],["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_STRING","Element",461],["T_DOUBLE_COLON","::",461],["T_STRING","children",461],"(",["T_VARIABLE","$element",461],",",["T_WHITESPACE"," ",461],["T_STRING","TRUE",461],")",";",["T_WHITESPACE","\n    ",461],["T_VARIABLE","$count",462],["T_WHITESPACE"," ",462],"=",["T_WHITESPACE"," ",462],["T_STRING","count",462],"(",["T_VARIABLE","$element_children",462],")",";",["T_WHITESPACE","\n\n    ",462],["T_COMMENT","\/\/ Count the number of already uploaded files, in order to display new\n",464],["T_WHITESPACE","    ",465],["T_COMMENT","\/\/ items in \\Drupal\\file\\Element\\ManagedFile::uploadAjaxCallback().\n",465],["T_WHITESPACE","    ",466],["T_IF","if",466],["T_WHITESPACE"," ",466],"(","!",["T_VARIABLE","$form_state",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","isRebuilding",466],"(",")",")",["T_WHITESPACE"," ",466],"{",["T_WHITESPACE","\n      ",466],["T_VARIABLE","$count_items_before",467],["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_LNUMBER","0",467],";",["T_WHITESPACE","\n      ",467],["T_FOREACH","foreach",468],["T_WHITESPACE"," ",468],"(",["T_VARIABLE","$element_children",468],["T_WHITESPACE"," ",468],["T_AS","as",468],["T_WHITESPACE"," ",468],["T_VARIABLE","$children",468],")",["T_WHITESPACE"," ",468],"{",["T_WHITESPACE","\n        ",468],["T_IF","if",469],["T_WHITESPACE"," ",469],"(","!",["T_EMPTY","empty",469],"(",["T_VARIABLE","$element",469],"[",["T_VARIABLE","$children",469],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",469],"]","[",["T_CONSTANT_ENCAPSED_STRING","'fids'",469],"]",")",")",["T_WHITESPACE"," ",469],"{",["T_WHITESPACE","\n          ",469],["T_VARIABLE","$count_items_before",470],["T_INC","++",470],";",["T_WHITESPACE","\n        ",470],"}",["T_WHITESPACE","\n      ",471],"}",["T_WHITESPACE","\n\n      ",472],["T_VARIABLE","$form_state",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","set",474],"(",["T_CONSTANT_ENCAPSED_STRING","'file_upload_delta_initial'",474],",",["T_WHITESPACE"," ",474],["T_VARIABLE","$count_items_before",474],")",";",["T_WHITESPACE","\n    ",474],"}",["T_WHITESPACE","\n\n    ",475],["T_FOREACH","foreach",477],["T_WHITESPACE"," ",477],"(",["T_VARIABLE","$element_children",477],["T_WHITESPACE"," ",477],["T_AS","as",477],["T_WHITESPACE"," ",477],["T_VARIABLE","$delta",477],["T_WHITESPACE"," ",477],["T_DOUBLE_ARROW","=>",477],["T_WHITESPACE"," ",477],["T_VARIABLE","$key",477],")",["T_WHITESPACE"," ",477],"{",["T_WHITESPACE","\n      ",477],["T_IF","if",478],["T_WHITESPACE"," ",478],"(",["T_VARIABLE","$key",478],["T_WHITESPACE"," ",478],["T_IS_NOT_EQUAL","!=",478],["T_WHITESPACE"," ",478],["T_VARIABLE","$element",478],"[",["T_CONSTANT_ENCAPSED_STRING","'#file_upload_delta'",478],"]",")",["T_WHITESPACE"," ",478],"{",["T_WHITESPACE","\n        ",478],["T_VARIABLE","$description",479],["T_WHITESPACE"," ",479],"=",["T_WHITESPACE"," ",479],["T_STATIC","static",479],["T_DOUBLE_COLON","::",479],["T_STRING","getDescriptionFromElement",479],"(",["T_VARIABLE","$element",479],"[",["T_VARIABLE","$key",479],"]",")",";",["T_WHITESPACE","\n        ",479],["T_VARIABLE","$element",480],"[",["T_VARIABLE","$key",480],"]","[",["T_CONSTANT_ENCAPSED_STRING","'_weight'",480],"]",["T_WHITESPACE"," ",480],"=",["T_WHITESPACE"," ",480],["T_ARRAY","array",480],"(",["T_WHITESPACE","\n          ",480],["T_CONSTANT_ENCAPSED_STRING","'#type'",481],["T_WHITESPACE"," ",481],["T_DOUBLE_ARROW","=>",481],["T_WHITESPACE"," ",481],["T_CONSTANT_ENCAPSED_STRING","'weight'",481],",",["T_WHITESPACE","\n          ",481],["T_CONSTANT_ENCAPSED_STRING","'#title'",482],["T_WHITESPACE"," ",482],["T_DOUBLE_ARROW","=>",482],["T_WHITESPACE"," ",482],["T_VARIABLE","$description",482],["T_WHITESPACE"," ",482],"?",["T_WHITESPACE"," ",482],["T_STRING","t",482],"(",["T_CONSTANT_ENCAPSED_STRING","'Weight for @title'",482],",",["T_WHITESPACE"," ",482],["T_ARRAY","array",482],"(",["T_CONSTANT_ENCAPSED_STRING","'@title'",482],["T_WHITESPACE"," ",482],["T_DOUBLE_ARROW","=>",482],["T_WHITESPACE"," ",482],["T_VARIABLE","$description",482],")",")",["T_WHITESPACE"," ",482],":",["T_WHITESPACE"," ",482],["T_STRING","t",482],"(",["T_CONSTANT_ENCAPSED_STRING","'Weight for new file'",482],")",",",["T_WHITESPACE","\n          ",482],["T_CONSTANT_ENCAPSED_STRING","'#title_display'",483],["T_WHITESPACE"," ",483],["T_DOUBLE_ARROW","=>",483],["T_WHITESPACE"," ",483],["T_CONSTANT_ENCAPSED_STRING","'invisible'",483],",",["T_WHITESPACE","\n          ",483],["T_CONSTANT_ENCAPSED_STRING","'#delta'",484],["T_WHITESPACE"," ",484],["T_DOUBLE_ARROW","=>",484],["T_WHITESPACE"," ",484],["T_VARIABLE","$count",484],",",["T_WHITESPACE","\n          ",484],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",485],["T_WHITESPACE"," ",485],["T_DOUBLE_ARROW","=>",485],["T_WHITESPACE"," ",485],["T_VARIABLE","$delta",485],",",["T_WHITESPACE","\n        ",485],")",";",["T_WHITESPACE","\n      ",486],"}",["T_WHITESPACE","\n      ",487],["T_ELSE","else",488],["T_WHITESPACE"," ",488],"{",["T_WHITESPACE","\n        ",488],["T_COMMENT","\/\/ The title needs to be assigned to the upload field so that validation\n",489],["T_WHITESPACE","        ",490],["T_COMMENT","\/\/ errors include the correct widget label.\n",490],["T_WHITESPACE","        ",491],["T_VARIABLE","$element",491],"[",["T_VARIABLE","$key",491],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#title'",491],"]",["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],["T_VARIABLE","$element",491],"[",["T_CONSTANT_ENCAPSED_STRING","'#title'",491],"]",";",["T_WHITESPACE","\n        ",491],["T_VARIABLE","$element",492],"[",["T_VARIABLE","$key",492],"]","[",["T_CONSTANT_ENCAPSED_STRING","'_weight'",492],"]",["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_ARRAY","array",492],"(",["T_WHITESPACE","\n          ",492],["T_CONSTANT_ENCAPSED_STRING","'#type'",493],["T_WHITESPACE"," ",493],["T_DOUBLE_ARROW","=>",493],["T_WHITESPACE"," ",493],["T_CONSTANT_ENCAPSED_STRING","'hidden'",493],",",["T_WHITESPACE","\n          ",493],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",494],["T_WHITESPACE"," ",494],["T_DOUBLE_ARROW","=>",494],["T_WHITESPACE"," ",494],["T_VARIABLE","$delta",494],",",["T_WHITESPACE","\n        ",494],")",";",["T_WHITESPACE","\n      ",495],"}",["T_WHITESPACE","\n    ",496],"}",["T_WHITESPACE","\n\n    ",497],["T_COMMENT","\/\/ Add a new wrapper around all the elements for Ajax replacement.\n",499],["T_WHITESPACE","    ",500],["T_VARIABLE","$element",500],"[",["T_CONSTANT_ENCAPSED_STRING","'#prefix'",500],"]",["T_WHITESPACE"," ",500],"=",["T_WHITESPACE"," ",500],["T_CONSTANT_ENCAPSED_STRING","'<div id=\"'",500],["T_WHITESPACE"," ",500],".",["T_WHITESPACE"," ",500],["T_VARIABLE","$element",500],"[",["T_CONSTANT_ENCAPSED_STRING","'#id'",500],"]",["T_WHITESPACE"," ",500],".",["T_WHITESPACE"," ",500],["T_CONSTANT_ENCAPSED_STRING","'-ajax-wrapper\">'",500],";",["T_WHITESPACE","\n    ",500],["T_VARIABLE","$element",501],"[",["T_CONSTANT_ENCAPSED_STRING","'#suffix'",501],"]",["T_WHITESPACE"," ",501],"=",["T_WHITESPACE"," ",501],["T_CONSTANT_ENCAPSED_STRING","'<\/div>'",501],";",["T_WHITESPACE","\n\n    ",501],["T_RETURN","return",503],["T_WHITESPACE"," ",503],["T_VARIABLE","$element",503],";",["T_WHITESPACE","\n  ",503],"}",["T_WHITESPACE","\n\n  ",504],["T_DOC_COMMENT","\/**\n   * Retrieves the file description from a field field element.\n   *\n   * This helper static method is used by processMultiple() method.\n   *\n   * @param array $element\n   *   An associative array with the element being processed.\n   *\n   * @return array|false\n   *   A description of the file suitable for use in the administrative\n   *   interface.\n   *\/",506],["T_WHITESPACE","\n  ",517],["T_PROTECTED","protected",518],["T_WHITESPACE"," ",518],["T_STATIC","static",518],["T_WHITESPACE"," ",518],["T_FUNCTION","function",518],["T_WHITESPACE"," ",518],["T_STRING","getDescriptionFromElement",518],"(",["T_VARIABLE","$element",518],")",["T_WHITESPACE"," ",518],"{",["T_WHITESPACE","\n    ",518],["T_COMMENT","\/\/ Use the actual file description, if it's available.\n",519],["T_WHITESPACE","    ",520],["T_IF","if",520],["T_WHITESPACE"," ",520],"(","!",["T_EMPTY","empty",520],"(",["T_VARIABLE","$element",520],"[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",520],"]","[",["T_CONSTANT_ENCAPSED_STRING","'description'",520],"]",")",")",["T_WHITESPACE"," ",520],"{",["T_WHITESPACE","\n      ",520],["T_RETURN","return",521],["T_WHITESPACE"," ",521],["T_VARIABLE","$element",521],"[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",521],"]","[",["T_CONSTANT_ENCAPSED_STRING","'description'",521],"]",";",["T_WHITESPACE","\n    ",521],"}",["T_WHITESPACE","\n    ",522],["T_COMMENT","\/\/ Otherwise, fall back to the filename.\n",523],["T_WHITESPACE","    ",524],["T_IF","if",524],["T_WHITESPACE"," ",524],"(","!",["T_EMPTY","empty",524],"(",["T_VARIABLE","$element",524],"[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",524],"]","[",["T_CONSTANT_ENCAPSED_STRING","'filename'",524],"]",")",")",["T_WHITESPACE"," ",524],"{",["T_WHITESPACE","\n      ",524],["T_RETURN","return",525],["T_WHITESPACE"," ",525],["T_VARIABLE","$element",525],"[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",525],"]","[",["T_CONSTANT_ENCAPSED_STRING","'filename'",525],"]",";",["T_WHITESPACE","\n    ",525],"}",["T_WHITESPACE","\n    ",526],["T_COMMENT","\/\/ This is probably a newly uploaded file; no description is available.\n",527],["T_WHITESPACE","    ",528],["T_RETURN","return",528],["T_WHITESPACE"," ",528],["T_STRING","FALSE",528],";",["T_WHITESPACE","\n  ",528],"}",["T_WHITESPACE","\n\n  ",529],["T_DOC_COMMENT","\/**\n   * Form submission handler for upload\/remove button of formElement().\n   *\n   * This runs in addition to and after file_managed_file_submit().\n   *\n   * @see file_managed_file_submit()\n   *\/",531],["T_WHITESPACE","\n  ",537],["T_PUBLIC","public",538],["T_WHITESPACE"," ",538],["T_STATIC","static",538],["T_WHITESPACE"," ",538],["T_FUNCTION","function",538],["T_WHITESPACE"," ",538],["T_STRING","submit",538],"(",["T_VARIABLE","$form",538],",",["T_WHITESPACE"," ",538],["T_STRING","FormStateInterface",538],["T_WHITESPACE"," ",538],["T_VARIABLE","$form_state",538],")",["T_WHITESPACE"," ",538],"{",["T_WHITESPACE","\n    ",538],["T_COMMENT","\/\/ During the form rebuild, formElement() will create field item widget\n",539],["T_WHITESPACE","    ",540],["T_COMMENT","\/\/ elements using re-indexed deltas, so clear out FormState::$input to\n",540],["T_WHITESPACE","    ",541],["T_COMMENT","\/\/ avoid a mismatch between old and new deltas. The rebuilt elements will\n",541],["T_WHITESPACE","    ",542],["T_COMMENT","\/\/ have #default_value set appropriately for the current state of the field,\n",542],["T_WHITESPACE","    ",543],["T_COMMENT","\/\/ so nothing is lost in doing this.\n",543],["T_WHITESPACE","    ",544],["T_VARIABLE","$button",544],["T_WHITESPACE"," ",544],"=",["T_WHITESPACE"," ",544],["T_VARIABLE","$form_state",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","getTriggeringElement",544],"(",")",";",["T_WHITESPACE","\n    ",544],["T_VARIABLE","$parents",545],["T_WHITESPACE"," ",545],"=",["T_WHITESPACE"," ",545],["T_STRING","array_slice",545],"(",["T_VARIABLE","$button",545],"[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",545],"]",",",["T_WHITESPACE"," ",545],["T_LNUMBER","0",545],",",["T_WHITESPACE"," ",545],"-",["T_LNUMBER","2",545],")",";",["T_WHITESPACE","\n    ",545],["T_STRING","NestedArray",546],["T_DOUBLE_COLON","::",546],["T_STRING","setValue",546],"(",["T_VARIABLE","$form_state",546],["T_OBJECT_OPERATOR","->",546],["T_STRING","getUserInput",546],"(",")",",",["T_WHITESPACE"," ",546],["T_VARIABLE","$parents",546],",",["T_WHITESPACE"," ",546],["T_STRING","NULL",546],")",";",["T_WHITESPACE","\n\n    ",546],["T_COMMENT","\/\/ Go one level up in the form, to the widgets container.\n",548],["T_WHITESPACE","    ",549],["T_VARIABLE","$element",549],["T_WHITESPACE"," ",549],"=",["T_WHITESPACE"," ",549],["T_STRING","NestedArray",549],["T_DOUBLE_COLON","::",549],["T_STRING","getValue",549],"(",["T_VARIABLE","$form",549],",",["T_WHITESPACE"," ",549],["T_STRING","array_slice",549],"(",["T_VARIABLE","$button",549],"[",["T_CONSTANT_ENCAPSED_STRING","'#array_parents'",549],"]",",",["T_WHITESPACE"," ",549],["T_LNUMBER","0",549],",",["T_WHITESPACE"," ",549],"-",["T_LNUMBER","1",549],")",")",";",["T_WHITESPACE","\n    ",549],["T_VARIABLE","$field_name",550],["T_WHITESPACE"," ",550],"=",["T_WHITESPACE"," ",550],["T_VARIABLE","$element",550],"[",["T_CONSTANT_ENCAPSED_STRING","'#field_name'",550],"]",";",["T_WHITESPACE","\n    ",550],["T_VARIABLE","$parents",551],["T_WHITESPACE"," ",551],"=",["T_WHITESPACE"," ",551],["T_VARIABLE","$element",551],"[",["T_CONSTANT_ENCAPSED_STRING","'#field_parents'",551],"]",";",["T_WHITESPACE","\n\n    ",551],["T_VARIABLE","$submitted_values",553],["T_WHITESPACE"," ",553],"=",["T_WHITESPACE"," ",553],["T_STRING","NestedArray",553],["T_DOUBLE_COLON","::",553],["T_STRING","getValue",553],"(",["T_VARIABLE","$form_state",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","getValues",553],"(",")",",",["T_WHITESPACE"," ",553],["T_STRING","array_slice",553],"(",["T_VARIABLE","$button",553],"[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",553],"]",",",["T_WHITESPACE"," ",553],["T_LNUMBER","0",553],",",["T_WHITESPACE"," ",553],"-",["T_LNUMBER","2",553],")",")",";",["T_WHITESPACE","\n    ",553],["T_FOREACH","foreach",554],["T_WHITESPACE"," ",554],"(",["T_VARIABLE","$submitted_values",554],["T_WHITESPACE"," ",554],["T_AS","as",554],["T_WHITESPACE"," ",554],["T_VARIABLE","$delta",554],["T_WHITESPACE"," ",554],["T_DOUBLE_ARROW","=>",554],["T_WHITESPACE"," ",554],["T_VARIABLE","$submitted_value",554],")",["T_WHITESPACE"," ",554],"{",["T_WHITESPACE","\n      ",554],["T_IF","if",555],["T_WHITESPACE"," ",555],"(",["T_EMPTY","empty",555],"(",["T_VARIABLE","$submitted_value",555],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",555],"]",")",")",["T_WHITESPACE"," ",555],"{",["T_WHITESPACE","\n        ",555],["T_UNSET","unset",556],"(",["T_VARIABLE","$submitted_values",556],"[",["T_VARIABLE","$delta",556],"]",")",";",["T_WHITESPACE","\n      ",556],"}",["T_WHITESPACE","\n    ",557],"}",["T_WHITESPACE","\n\n    ",558],["T_COMMENT","\/\/ If there are more files uploaded via the same widget, we have to separate\n",560],["T_WHITESPACE","    ",561],["T_COMMENT","\/\/ them, as we display each file in its own widget.\n",561],["T_WHITESPACE","    ",562],["T_VARIABLE","$new_values",562],["T_WHITESPACE"," ",562],"=",["T_WHITESPACE"," ",562],["T_ARRAY","array",562],"(",")",";",["T_WHITESPACE","\n    ",562],["T_FOREACH","foreach",563],["T_WHITESPACE"," ",563],"(",["T_VARIABLE","$submitted_values",563],["T_WHITESPACE"," ",563],["T_AS","as",563],["T_WHITESPACE"," ",563],["T_VARIABLE","$delta",563],["T_WHITESPACE"," ",563],["T_DOUBLE_ARROW","=>",563],["T_WHITESPACE"," ",563],["T_VARIABLE","$submitted_value",563],")",["T_WHITESPACE"," ",563],"{",["T_WHITESPACE","\n      ",563],["T_IF","if",564],["T_WHITESPACE"," ",564],"(",["T_STRING","is_array",564],"(",["T_VARIABLE","$submitted_value",564],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",564],"]",")",")",["T_WHITESPACE"," ",564],"{",["T_WHITESPACE","\n        ",564],["T_FOREACH","foreach",565],["T_WHITESPACE"," ",565],"(",["T_VARIABLE","$submitted_value",565],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",565],"]",["T_WHITESPACE"," ",565],["T_AS","as",565],["T_WHITESPACE"," ",565],["T_VARIABLE","$fid",565],")",["T_WHITESPACE"," ",565],"{",["T_WHITESPACE","\n          ",565],["T_VARIABLE","$new_value",566],["T_WHITESPACE"," ",566],"=",["T_WHITESPACE"," ",566],["T_VARIABLE","$submitted_value",566],";",["T_WHITESPACE","\n          ",566],["T_VARIABLE","$new_value",567],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",567],"]",["T_WHITESPACE"," ",567],"=",["T_WHITESPACE"," ",567],["T_ARRAY","array",567],"(",["T_VARIABLE","$fid",567],")",";",["T_WHITESPACE","\n          ",567],["T_VARIABLE","$new_values",568],"[","]",["T_WHITESPACE"," ",568],"=",["T_WHITESPACE"," ",568],["T_VARIABLE","$new_value",568],";",["T_WHITESPACE","\n        ",568],"}",["T_WHITESPACE","\n      ",569],"}",["T_WHITESPACE","\n      ",570],["T_ELSE","else",571],["T_WHITESPACE"," ",571],"{",["T_WHITESPACE","\n        ",571],["T_VARIABLE","$new_value",572],["T_WHITESPACE"," ",572],"=",["T_WHITESPACE"," ",572],["T_VARIABLE","$submitted_value",572],";",["T_WHITESPACE","\n      ",572],"}",["T_WHITESPACE","\n    ",573],"}",["T_WHITESPACE","\n\n    ",574],["T_COMMENT","\/\/ Re-index deltas after removing empty items.\n",576],["T_WHITESPACE","    ",577],["T_VARIABLE","$submitted_values",577],["T_WHITESPACE"," ",577],"=",["T_WHITESPACE"," ",577],["T_STRING","array_values",577],"(",["T_VARIABLE","$new_values",577],")",";",["T_WHITESPACE","\n\n    ",577],["T_COMMENT","\/\/ Update form_state values.\n",579],["T_WHITESPACE","    ",580],["T_STRING","NestedArray",580],["T_DOUBLE_COLON","::",580],["T_STRING","setValue",580],"(",["T_VARIABLE","$form_state",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","getValues",580],"(",")",",",["T_WHITESPACE"," ",580],["T_STRING","array_slice",580],"(",["T_VARIABLE","$button",580],"[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",580],"]",",",["T_WHITESPACE"," ",580],["T_LNUMBER","0",580],",",["T_WHITESPACE"," ",580],"-",["T_LNUMBER","2",580],")",",",["T_WHITESPACE"," ",580],["T_VARIABLE","$submitted_values",580],")",";",["T_WHITESPACE","\n\n    ",580],["T_COMMENT","\/\/ Update items.\n",582],["T_WHITESPACE","    ",583],["T_VARIABLE","$field_state",583],["T_WHITESPACE"," ",583],"=",["T_WHITESPACE"," ",583],["T_STATIC","static",583],["T_DOUBLE_COLON","::",583],["T_STRING","getWidgetState",583],"(",["T_VARIABLE","$parents",583],",",["T_WHITESPACE"," ",583],["T_VARIABLE","$field_name",583],",",["T_WHITESPACE"," ",583],["T_VARIABLE","$form_state",583],")",";",["T_WHITESPACE","\n    ",583],["T_VARIABLE","$field_state",584],"[",["T_CONSTANT_ENCAPSED_STRING","'items'",584],"]",["T_WHITESPACE"," ",584],"=",["T_WHITESPACE"," ",584],["T_VARIABLE","$submitted_values",584],";",["T_WHITESPACE","\n    ",584],["T_STATIC","static",585],["T_DOUBLE_COLON","::",585],["T_STRING","setWidgetState",585],"(",["T_VARIABLE","$parents",585],",",["T_WHITESPACE"," ",585],["T_VARIABLE","$field_name",585],",",["T_WHITESPACE"," ",585],["T_VARIABLE","$form_state",585],",",["T_WHITESPACE"," ",585],["T_VARIABLE","$field_state",585],")",";",["T_WHITESPACE","\n  ",585],"}",["T_WHITESPACE","\n\n  ",586],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",588],["T_WHITESPACE","\n  ",590],["T_PUBLIC","public",591],["T_WHITESPACE"," ",591],["T_FUNCTION","function",591],["T_WHITESPACE"," ",591],["T_STRING","flagErrors",591],"(",["T_STRING","FieldItemListInterface",591],["T_WHITESPACE"," ",591],["T_VARIABLE","$items",591],",",["T_WHITESPACE"," ",591],["T_STRING","ConstraintViolationListInterface",591],["T_WHITESPACE"," ",591],["T_VARIABLE","$violations",591],",",["T_WHITESPACE"," ",591],["T_ARRAY","array",591],["T_WHITESPACE"," ",591],["T_VARIABLE","$form",591],",",["T_WHITESPACE"," ",591],["T_STRING","FormStateInterface",591],["T_WHITESPACE"," ",591],["T_VARIABLE","$form_state",591],")",["T_WHITESPACE"," ",591],"{",["T_WHITESPACE","\n    ",591],["T_COMMENT","\/\/ Never flag validation errors for the remove button.\n",592],["T_WHITESPACE","    ",593],["T_VARIABLE","$clicked_button",593],["T_WHITESPACE"," ",593],"=",["T_WHITESPACE"," ",593],["T_STRING","end",593],"(",["T_VARIABLE","$form_state",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","getTriggeringElement",593],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",593],"]",")",";",["T_WHITESPACE","\n    ",593],["T_IF","if",594],["T_WHITESPACE"," ",594],"(",["T_VARIABLE","$clicked_button",594],["T_WHITESPACE"," ",594],["T_IS_NOT_IDENTICAL","!==",594],["T_WHITESPACE"," ",594],["T_CONSTANT_ENCAPSED_STRING","'remove_button'",594],")",["T_WHITESPACE"," ",594],"{",["T_WHITESPACE","\n      ",594],["T_STRING","parent",595],["T_DOUBLE_COLON","::",595],["T_STRING","flagErrors",595],"(",["T_VARIABLE","$items",595],",",["T_WHITESPACE"," ",595],["T_VARIABLE","$violations",595],",",["T_WHITESPACE"," ",595],["T_VARIABLE","$form",595],",",["T_WHITESPACE"," ",595],["T_VARIABLE","$form_state",595],")",";",["T_WHITESPACE","\n    ",595],"}",["T_WHITESPACE","\n  ",596],"}",["T_WHITESPACE","\n\n",597],"}",["T_WHITESPACE","\n",599]]