[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","file",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Field",3],["T_NS_SEPARATOR","\\",3],["T_STRING","FieldFormatter",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Field",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FieldDefinitionInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Field",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FieldItemInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Field",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FieldItemListInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Field",8],["T_NS_SEPARATOR","\\",8],["T_STRING","FormatterBase",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Form",9],["T_NS_SEPARATOR","\\",9],["T_STRING","FormStateInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Url",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Base class for file formatters, which allow to link to the file download URL.\n *\/",12],["T_WHITESPACE","\n",14],["T_ABSTRACT","abstract",15],["T_WHITESPACE"," ",15],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","BaseFieldFileFormatterBase",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","FormatterBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",17],["T_WHITESPACE","\n  ",19],["T_PUBLIC","public",20],["T_WHITESPACE"," ",20],["T_STATIC","static",20],["T_WHITESPACE"," ",20],["T_FUNCTION","function",20],["T_WHITESPACE"," ",20],["T_STRING","defaultSettings",20],"(",")",["T_WHITESPACE"," ",20],"{",["T_WHITESPACE","\n    ",20],["T_VARIABLE","$settings",21],"[",["T_CONSTANT_ENCAPSED_STRING","'link_to_file'",21],"]",["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_STRING","FALSE",21],";",["T_WHITESPACE","\n\n    ",21],["T_RETURN","return",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$settings",23],";",["T_WHITESPACE","\n  ",23],"}",["T_WHITESPACE","\n\n  ",24],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",26],["T_WHITESPACE","\n  ",28],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","settingsForm",29],"(",["T_ARRAY","array",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$form",29],",",["T_WHITESPACE"," ",29],["T_STRING","FormStateInterface",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$form_state",29],")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n    ",29],["T_VARIABLE","$form",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_STRING","parent",30],["T_DOUBLE_COLON","::",30],["T_STRING","settingsForm",30],"(",["T_VARIABLE","$form",30],",",["T_WHITESPACE"," ",30],["T_VARIABLE","$form_state",30],")",";",["T_WHITESPACE","\n\n    ",30],["T_VARIABLE","$form",32],"[",["T_CONSTANT_ENCAPSED_STRING","'link_to_file'",32],"]",["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],"[",["T_WHITESPACE","\n      ",32],["T_CONSTANT_ENCAPSED_STRING","'#title'",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","t",33],"(",["T_CONSTANT_ENCAPSED_STRING","'Link this field to the file download URL'",33],")",",",["T_WHITESPACE","\n      ",33],["T_CONSTANT_ENCAPSED_STRING","'#type'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'checkbox'",34],",",["T_WHITESPACE","\n      ",34],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","getSetting",35],"(",["T_CONSTANT_ENCAPSED_STRING","'link_to_file'",35],")",",",["T_WHITESPACE","\n    ",35],"]",";",["T_WHITESPACE","\n\n    ",36],["T_RETURN","return",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$form",38],";",["T_WHITESPACE","\n  ",38],"}",["T_WHITESPACE","\n\n  ",39],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",41],["T_WHITESPACE","\n  ",43],["T_PUBLIC","public",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","viewElements",44],"(",["T_STRING","FieldItemListInterface",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$items",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$langcode",44],")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$elements",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],"[","]",";",["T_WHITESPACE","\n\n    ",45],["T_VARIABLE","$url",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_STRING","NULL",47],";",["T_WHITESPACE","\n    ",47],["T_COMMENT","\/\/ Add support to link to the entity itself.\n",48],["T_WHITESPACE","    ",49],["T_IF","if",49],["T_WHITESPACE"," ",49],"(",["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getSetting",49],"(",["T_CONSTANT_ENCAPSED_STRING","'link_to_file'",49],")",")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n      ",49],["T_COMMENT","\/\/ @todo Wrap in file_url_transform_relative(). This is currently\n",50],["T_WHITESPACE","      ",51],["T_COMMENT","\/\/ impossible. See below.\n",51],["T_WHITESPACE","      ",52],["T_VARIABLE","$url",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_STRING","file_create_url",52],"(",["T_VARIABLE","$items",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getEntity",52],"(",")",["T_OBJECT_OPERATOR","->",52],["T_STRING","uri",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","value",52],")",";",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n\n    ",53],["T_FOREACH","foreach",55],["T_WHITESPACE"," ",55],"(",["T_VARIABLE","$items",55],["T_WHITESPACE"," ",55],["T_AS","as",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$delta",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$item",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n      ",55],["T_VARIABLE","$view_value",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","viewValue",56],"(",["T_VARIABLE","$item",56],")",";",["T_WHITESPACE","\n\n      ",56],["T_IF","if",58],["T_WHITESPACE"," ",58],"(",["T_VARIABLE","$url",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$elements",59],"[",["T_VARIABLE","$delta",59],"]",["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],"[",["T_WHITESPACE","\n          ",59],["T_CONSTANT_ENCAPSED_STRING","'#type'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'link'",60],",",["T_WHITESPACE","\n          ",60],["T_CONSTANT_ENCAPSED_STRING","'#title'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$view_value",61],",",["T_WHITESPACE","\n          ",61],["T_CONSTANT_ENCAPSED_STRING","'#url'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_STRING","Url",62],["T_DOUBLE_COLON","::",62],["T_STRING","fromUri",62],"(",["T_VARIABLE","$url",62],")",",",["T_WHITESPACE","\n          ",62],["T_COMMENT","\/\/ @todo Remove the 'url.site' cache context by using a relative file\n",63],["T_WHITESPACE","          ",64],["T_COMMENT","\/\/ URL (file_url_transform_relative()). This is currently impossible\n",64],["T_WHITESPACE","          ",65],["T_COMMENT","\/\/ because #type => link requires a Url object, and Url objects do not\n",65],["T_WHITESPACE","          ",66],["T_COMMENT","\/\/ support relative URLs: they require fully qualified URLs. Fix in\n",66],["T_WHITESPACE","          ",67],["T_COMMENT","\/\/ https:\/\/www.drupal.org\/node\/2646744.\n",67],["T_WHITESPACE","          ",68],["T_CONSTANT_ENCAPSED_STRING","'#cache'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],"[",["T_WHITESPACE","\n            ",68],["T_CONSTANT_ENCAPSED_STRING","'contexts'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],"[",["T_WHITESPACE","\n              ",69],["T_CONSTANT_ENCAPSED_STRING","'url.site'",70],",",["T_WHITESPACE","\n            ",70],"]",",",["T_WHITESPACE","\n          ",71],"]",",",["T_WHITESPACE","\n        ",72],"]",";",["T_WHITESPACE","\n      ",73],"}",["T_WHITESPACE","\n      ",74],["T_ELSE","else",75],["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$elements",76],"[",["T_VARIABLE","$delta",76],"]",["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_STRING","is_array",76],"(",["T_VARIABLE","$view_value",76],")",["T_WHITESPACE"," ",76],"?",["T_WHITESPACE"," ",76],["T_VARIABLE","$view_value",76],["T_WHITESPACE"," ",76],":",["T_WHITESPACE"," ",76],"[",["T_CONSTANT_ENCAPSED_STRING","'#markup'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$view_value",76],"]",";",["T_WHITESPACE","\n      ",76],"}",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_RETURN","return",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$elements",80],";",["T_WHITESPACE","\n  ",80],"}",["T_WHITESPACE","\n\n  ",81],["T_DOC_COMMENT","\/**\n   * Generate the output appropriate for one field item.\n   *\n   * @param \\Drupal\\Core\\Field\\FieldItemInterface $item\n   *   One field item.\n   *\n   * @return mixed\n   *   The textual output generated.\n   *\/",83],["T_WHITESPACE","\n  ",91],["T_ABSTRACT","abstract",92],["T_WHITESPACE"," ",92],["T_PROTECTED","protected",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","viewValue",92],"(",["T_STRING","FieldItemInterface",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$item",92],")",";",["T_WHITESPACE","\n\n  ",92],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",94],["T_WHITESPACE","\n  ",96],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_STATIC","static",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","isApplicable",97],"(",["T_STRING","FieldDefinitionInterface",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$field_definition",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n    ",97],["T_RETURN","return",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$field_definition",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getTargetEntityTypeId",98],"(",")",["T_WHITESPACE"," ",98],["T_IS_IDENTICAL","===",98],["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'file'",98],";",["T_WHITESPACE","\n  ",98],"}",["T_WHITESPACE","\n\n",99],"}",["T_WHITESPACE","\n",101]]