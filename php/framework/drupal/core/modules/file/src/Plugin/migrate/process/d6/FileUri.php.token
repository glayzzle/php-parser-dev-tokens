[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","file",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","migrate",3],["T_NS_SEPARATOR","\\",3],["T_STRING","process",3],["T_NS_SEPARATOR","\\",3],["T_STRING","d6",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","migrate",5],["T_NS_SEPARATOR","\\",5],["T_STRING","MigrateExecutableInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","migrate",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ProcessPluginBase",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","migrate",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Row",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Process the file url into a D8 compatible URL.\n *\n * @MigrateProcessPlugin(\n *   id = \"file_uri\"\n * )\n *\/",9],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","FileUri",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","ProcessPluginBase",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",18],["T_WHITESPACE","\n  ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_FUNCTION","function",21],["T_WHITESPACE"," ",21],["T_STRING","transform",21],"(",["T_VARIABLE","$value",21],",",["T_WHITESPACE"," ",21],["T_STRING","MigrateExecutableInterface",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$migrate_executable",21],",",["T_WHITESPACE"," ",21],["T_STRING","Row",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$row",21],",",["T_WHITESPACE"," ",21],["T_VARIABLE","$destination_property",21],")",["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n    ",21],["T_COMMENT","\/\/ If we're stubbing a file entity, return a uri of NULL so it will get\n",22],["T_WHITESPACE","    ",23],["T_COMMENT","\/\/ stubbed by the general process.\n",23],["T_WHITESPACE","    ",24],["T_IF","if",24],["T_WHITESPACE"," ",24],"(",["T_VARIABLE","$row",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","isStub",24],"(",")",")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n      ",24],["T_RETURN","return",25],["T_WHITESPACE"," ",25],["T_STRING","NULL",25],";",["T_WHITESPACE","\n    ",25],"}",["T_WHITESPACE","\n    ",26],["T_LIST","list",27],"(",["T_VARIABLE","$filepath",27],",",["T_WHITESPACE"," ",27],["T_VARIABLE","$file_directory_path",27],",",["T_WHITESPACE"," ",27],["T_VARIABLE","$temp_directory_path",27],",",["T_WHITESPACE"," ",27],["T_VARIABLE","$is_public",27],")",["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$value",27],";",["T_WHITESPACE","\n\n    ",27],["T_COMMENT","\/\/ Specific handling using $temp_directory_path for temporary files.\n",29],["T_WHITESPACE","    ",30],["T_IF","if",30],["T_WHITESPACE"," ",30],"(",["T_STRING","substr",30],"(",["T_VARIABLE","$filepath",30],",",["T_WHITESPACE"," ",30],["T_LNUMBER","0",30],",",["T_WHITESPACE"," ",30],["T_STRING","strlen",30],"(",["T_VARIABLE","$temp_directory_path",30],")",")",["T_WHITESPACE"," ",30],["T_IS_IDENTICAL","===",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$temp_directory_path",30],")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n      ",30],["T_VARIABLE","$uri",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_STRING","preg_replace",31],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^'",31],["T_WHITESPACE"," ",31],".",["T_WHITESPACE"," ",31],["T_STRING","preg_quote",31],"(",["T_VARIABLE","$temp_directory_path",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'\/'",31],")",["T_WHITESPACE"," ",31],".",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'\/'",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","''",31],",",["T_WHITESPACE"," ",31],["T_VARIABLE","$filepath",31],")",";",["T_WHITESPACE","\n      ",31],["T_RETURN","return",32],["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'temporary:\/\/'",32],["T_WHITESPACE"," ",32],".",["T_WHITESPACE"," ",32],["T_STRING","ltrim",32],"(",["T_VARIABLE","$uri",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'\/'",32],")",";",["T_WHITESPACE","\n    ",32],"}",["T_WHITESPACE","\n\n    ",33],["T_COMMENT","\/\/ Strip the files path from the uri instead of using basename\n",35],["T_WHITESPACE","    ",36],["T_COMMENT","\/\/ so any additional folders in the path are preserved.\n",36],["T_WHITESPACE","    ",37],["T_VARIABLE","$uri",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_STRING","preg_replace",37],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^'",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_STRING","preg_quote",37],"(",["T_VARIABLE","$file_directory_path",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'\/'",37],")",["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'\/'",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","''",37],",",["T_WHITESPACE"," ",37],["T_VARIABLE","$filepath",37],")",";",["T_WHITESPACE","\n\n    ",37],["T_RETURN","return",39],["T_WHITESPACE"," ",39],"(",["T_VARIABLE","$is_public",39],["T_WHITESPACE"," ",39],"?",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'public'",39],["T_WHITESPACE"," ",39],":",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'private'",39],")",["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","':\/\/'",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_STRING","ltrim",39],"(",["T_VARIABLE","$uri",39],",",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'\/'",39],")",";",["T_WHITESPACE","\n  ",39],"}",["T_WHITESPACE","\n\n",40],"}",["T_WHITESPACE","\n",42]]