[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","file",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","file",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","File",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Uploads files to translated nodes.\n *\n * @group file\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","FileOnTranslatedEntityTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","FileFieldTestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",14],["T_WHITESPACE","\n  ",16],["T_PUBLIC","public",17],["T_WHITESPACE"," ",17],["T_STATIC","static",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$modules",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_ARRAY","array",17],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",17],",",["T_WHITESPACE"," ",17],["T_CONSTANT_ENCAPSED_STRING","'content_translation'",17],")",";",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * The name of the file field used in the test.\n   *\n   * @var string\n   *\/",19],["T_WHITESPACE","\n  ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$fieldName",24],";",["T_WHITESPACE","\n\n  ",24],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",26],["T_WHITESPACE","\n  ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","setUp",29],"(",")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n    ",29],["T_STRING","parent",30],["T_DOUBLE_COLON","::",30],["T_STRING","setUp",30],"(",")",";",["T_WHITESPACE","\n\n    ",30],["T_COMMENT","\/\/ Create the \"Basic page\" node type.\n",32],["T_WHITESPACE","    ",33],["T_COMMENT","\/\/ @todo Remove the disabling of new revision creation in\n",33],["T_WHITESPACE","    ",34],["T_COMMENT","\/\/   https:\/\/www.drupal.org\/node\/1239558.\n",34],["T_WHITESPACE","    ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","drupalCreateContentType",35],"(","[",["T_CONSTANT_ENCAPSED_STRING","'type'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'page'",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'name'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'Basic page'",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'new_revision'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_STRING","FALSE",35],"]",")",";",["T_WHITESPACE","\n\n    ",35],["T_COMMENT","\/\/ Create a file field on the \"Basic page\" node type.\n",37],["T_WHITESPACE","    ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","fieldName",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_STRING","strtolower",38],"(",["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","randomMachineName",38],"(",")",")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","createFileField",39],"(",["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","fieldName",39],",",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'node'",39],",",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'page'",39],")",";",["T_WHITESPACE","\n\n    ",39],["T_COMMENT","\/\/ Create and log in user.\n",41],["T_WHITESPACE","    ",42],["T_VARIABLE","$permissions",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_ARRAY","array",42],"(",["T_WHITESPACE","\n      ",42],["T_CONSTANT_ENCAPSED_STRING","'access administration pages'",43],",",["T_WHITESPACE","\n      ",43],["T_CONSTANT_ENCAPSED_STRING","'administer content translation'",44],",",["T_WHITESPACE","\n      ",44],["T_CONSTANT_ENCAPSED_STRING","'administer content types'",45],",",["T_WHITESPACE","\n      ",45],["T_CONSTANT_ENCAPSED_STRING","'administer languages'",46],",",["T_WHITESPACE","\n      ",46],["T_CONSTANT_ENCAPSED_STRING","'create content translations'",47],",",["T_WHITESPACE","\n      ",47],["T_CONSTANT_ENCAPSED_STRING","'create page content'",48],",",["T_WHITESPACE","\n      ",48],["T_CONSTANT_ENCAPSED_STRING","'edit any page content'",49],",",["T_WHITESPACE","\n      ",49],["T_CONSTANT_ENCAPSED_STRING","'translate any entity'",50],",",["T_WHITESPACE","\n      ",50],["T_CONSTANT_ENCAPSED_STRING","'delete any page content'",51],",",["T_WHITESPACE","\n    ",51],")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$admin_user",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","drupalCreateUser",53],"(",["T_VARIABLE","$permissions",53],")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","drupalLogin",54],"(",["T_VARIABLE","$admin_user",54],")",";",["T_WHITESPACE","\n\n    ",54],["T_COMMENT","\/\/ Add a second and third language.\n",56],["T_WHITESPACE","    ",57],["T_VARIABLE","$edit",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_ARRAY","array",57],"(",")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$edit",58],"[",["T_CONSTANT_ENCAPSED_STRING","'predefined_langcode'",58],"]",["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'fr'",58],";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","drupalPostForm",59],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/language\/add'",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$edit",59],",",["T_WHITESPACE"," ",59],["T_STRING","t",59],"(",["T_CONSTANT_ENCAPSED_STRING","'Add language'",59],")",")",";",["T_WHITESPACE","\n\n    ",59],["T_VARIABLE","$edit",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$edit",62],"[",["T_CONSTANT_ENCAPSED_STRING","'predefined_langcode'",62],"]",["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'nl'",62],";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","drupalPostForm",63],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/language\/add'",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$edit",63],",",["T_WHITESPACE"," ",63],["T_STRING","t",63],"(",["T_CONSTANT_ENCAPSED_STRING","'Add language'",63],")",")",";",["T_WHITESPACE","\n\n    ",63],["T_COMMENT","\/\/ Enable translation for \"Basic page\" nodes.\n",65],["T_WHITESPACE","    ",66],["T_VARIABLE","$edit",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_ARRAY","array",66],"(",["T_WHITESPACE","\n      ",66],["T_CONSTANT_ENCAPSED_STRING","'entity_types[node]'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_LNUMBER","1",67],",",["T_WHITESPACE","\n      ",67],["T_CONSTANT_ENCAPSED_STRING","'settings[node][page][translatable]'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_LNUMBER","1",68],",",["T_WHITESPACE","\n      ",68],"\"",["T_ENCAPSED_AND_WHITESPACE","settings[node][page][fields][",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","fieldName",69],["T_ENCAPSED_AND_WHITESPACE","]",69],"\"",["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_LNUMBER","1",69],",",["T_WHITESPACE","\n    ",69],")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","drupalPostForm",71],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/content-language'",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$edit",71],",",["T_WHITESPACE"," ",71],["T_STRING","t",71],"(",["T_CONSTANT_ENCAPSED_STRING","'Save configuration'",71],")",")",";",["T_WHITESPACE","\n    ",71],["T_NS_SEPARATOR","\\",72],["T_STRING","Drupal",72],["T_DOUBLE_COLON","::",72],["T_STRING","entityManager",72],"(",")",["T_OBJECT_OPERATOR","->",72],["T_STRING","clearCachedDefinitions",72],"(",")",";",["T_WHITESPACE","\n  ",72],"}",["T_WHITESPACE","\n\n  ",73],["T_DOC_COMMENT","\/**\n   * Tests synced file fields on translated nodes.\n   *\/",75],["T_WHITESPACE","\n  ",77],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","testSyncedFiles",78],"(",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n    ",78],["T_COMMENT","\/\/ Verify that the file field on the \"Basic page\" node type is translatable.\n",79],["T_WHITESPACE","    ",80],["T_VARIABLE","$definitions",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_NS_SEPARATOR","\\",80],["T_STRING","Drupal",80],["T_DOUBLE_COLON","::",80],["T_STRING","entityManager",80],"(",")",["T_OBJECT_OPERATOR","->",80],["T_STRING","getFieldDefinitions",80],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'page'",80],")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertTrue",81],"(",["T_VARIABLE","$definitions",81],"[",["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","fieldName",81],"]",["T_OBJECT_OPERATOR","->",81],["T_STRING","isTranslatable",81],"(",")",",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'Node file field is translatable.'",81],")",";",["T_WHITESPACE","\n\n    ",81],["T_COMMENT","\/\/ Create a default language node.\n",83],["T_WHITESPACE","    ",84],["T_VARIABLE","$default_language_node",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","drupalCreateNode",84],"(",["T_ARRAY","array",84],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'page'",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'title'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'Lost in translation'",84],")",")",";",["T_WHITESPACE","\n\n    ",84],["T_COMMENT","\/\/ Edit the node to upload a file.\n",86],["T_WHITESPACE","    ",87],["T_VARIABLE","$edit",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_ARRAY","array",87],"(",")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$name",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'files['",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","fieldName",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'_0]'",88],";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$edit",89],"[",["T_VARIABLE","$name",89],"]",["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_STRING","drupal_realpath",89],"(",["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","drupalGetTestFiles",89],"(",["T_CONSTANT_ENCAPSED_STRING","'text'",89],")","[",["T_LNUMBER","0",89],"]",["T_OBJECT_OPERATOR","->",89],["T_STRING","uri",89],")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","drupalPostForm",90],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",90],["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_VARIABLE","$default_language_node",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","id",90],"(",")",["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$edit",90],",",["T_WHITESPACE"," ",90],["T_STRING","t",90],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",90],")",")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$first_fid",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getLastFileId",91],"(",")",";",["T_WHITESPACE","\n\n    ",91],["T_COMMENT","\/\/ Translate the node into French: remove the existing file.\n",93],["T_WHITESPACE","    ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","drupalPostForm",94],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",94],["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_VARIABLE","$default_language_node",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","id",94],"(",")",["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'\/translations\/add\/en\/fr'",94],",",["T_WHITESPACE"," ",94],["T_ARRAY","array",94],"(",")",",",["T_WHITESPACE"," ",94],["T_STRING","t",94],"(",["T_CONSTANT_ENCAPSED_STRING","'Remove'",94],")",")",";",["T_WHITESPACE","\n\n    ",94],["T_COMMENT","\/\/ Upload a different file.\n",96],["T_WHITESPACE","    ",97],["T_VARIABLE","$edit",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_ARRAY","array",97],"(",")",";",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$edit",98],"[",["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",98],"]",["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'Bill Murray'",98],";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$name",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'files['",99],["T_WHITESPACE"," ",99],".",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","fieldName",99],["T_WHITESPACE"," ",99],".",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'_0]'",99],";",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$edit",100],"[",["T_VARIABLE","$name",100],"]",["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_STRING","drupal_realpath",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","drupalGetTestFiles",100],"(",["T_CONSTANT_ENCAPSED_STRING","'text'",100],")","[",["T_LNUMBER","1",100],"]",["T_OBJECT_OPERATOR","->",100],["T_STRING","uri",100],")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","drupalPostForm",101],"(",["T_STRING","NULL",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$edit",101],",",["T_WHITESPACE"," ",101],["T_STRING","t",101],"(",["T_CONSTANT_ENCAPSED_STRING","'Save (this translation)'",101],")",")",";",["T_WHITESPACE","\n    ",101],["T_COMMENT","\/\/ This inspects the HTML after the post of the translation, the file\n",102],["T_WHITESPACE","    ",103],["T_COMMENT","\/\/ should be displayed on the original node.\n",103],["T_WHITESPACE","    ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","assertRaw",104],"(",["T_CONSTANT_ENCAPSED_STRING","'file--mime-text-plain'",104],")",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$second_fid",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getLastFileId",105],"(",")",";",["T_WHITESPACE","\n\n    ",105],["T_NS_SEPARATOR","\\",107],["T_STRING","Drupal",107],["T_DOUBLE_COLON","::",107],["T_STRING","entityTypeManager",107],"(",")",["T_OBJECT_OPERATOR","->",107],["T_STRING","getStorage",107],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",107],")",["T_OBJECT_OPERATOR","->",107],["T_STRING","resetCache",107],"(",")",";",["T_WHITESPACE","\n\n    ",107],["T_COMMENT","\/* @var $file \\Drupal\\file\\FileInterface *\/",109],["T_WHITESPACE","\n\n    ",109],["T_COMMENT","\/\/ Ensure the file status of the first file permanent.\n",111],["T_WHITESPACE","    ",112],["T_VARIABLE","$file",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","File",112],["T_DOUBLE_COLON","::",112],["T_STRING","load",112],"(",["T_VARIABLE","$first_fid",112],")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","assertTrue",113],"(",["T_VARIABLE","$file",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","isPermanent",113],"(",")",")",";",["T_WHITESPACE","\n\n    ",113],["T_COMMENT","\/\/ Ensure the file status of the second file is permanent.\n",115],["T_WHITESPACE","    ",116],["T_VARIABLE","$file",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_STRING","File",116],["T_DOUBLE_COLON","::",116],["T_STRING","load",116],"(",["T_VARIABLE","$second_fid",116],")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","assertTrue",117],"(",["T_VARIABLE","$file",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","isPermanent",117],"(",")",")",";",["T_WHITESPACE","\n\n    ",117],["T_COMMENT","\/\/ Translate the node into dutch: remove the existing file.\n",119],["T_WHITESPACE","    ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","drupalPostForm",120],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",120],["T_WHITESPACE"," ",120],".",["T_WHITESPACE"," ",120],["T_VARIABLE","$default_language_node",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","id",120],"(",")",["T_WHITESPACE"," ",120],".",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'\/translations\/add\/en\/nl'",120],",",["T_WHITESPACE"," ",120],["T_ARRAY","array",120],"(",")",",",["T_WHITESPACE"," ",120],["T_STRING","t",120],"(",["T_CONSTANT_ENCAPSED_STRING","'Remove'",120],")",")",";",["T_WHITESPACE","\n\n    ",120],["T_COMMENT","\/\/ Upload a different file.\n",122],["T_WHITESPACE","    ",123],["T_VARIABLE","$edit",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_ARRAY","array",123],"(",")",";",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$edit",124],"[",["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",124],"]",["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'Scarlett Johansson'",124],";",["T_WHITESPACE","\n    ",124],["T_VARIABLE","$name",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'files['",125],["T_WHITESPACE"," ",125],".",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","fieldName",125],["T_WHITESPACE"," ",125],".",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'_0]'",125],";",["T_WHITESPACE","\n    ",125],["T_VARIABLE","$edit",126],"[",["T_VARIABLE","$name",126],"]",["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_STRING","drupal_realpath",126],"(",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","drupalGetTestFiles",126],"(",["T_CONSTANT_ENCAPSED_STRING","'text'",126],")","[",["T_LNUMBER","2",126],"]",["T_OBJECT_OPERATOR","->",126],["T_STRING","uri",126],")",";",["T_WHITESPACE","\n    ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","drupalPostForm",127],"(",["T_STRING","NULL",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$edit",127],",",["T_WHITESPACE"," ",127],["T_STRING","t",127],"(",["T_CONSTANT_ENCAPSED_STRING","'Save (this translation)'",127],")",")",";",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$third_fid",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getLastFileId",128],"(",")",";",["T_WHITESPACE","\n\n    ",128],["T_NS_SEPARATOR","\\",130],["T_STRING","Drupal",130],["T_DOUBLE_COLON","::",130],["T_STRING","entityTypeManager",130],"(",")",["T_OBJECT_OPERATOR","->",130],["T_STRING","getStorage",130],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",130],")",["T_OBJECT_OPERATOR","->",130],["T_STRING","resetCache",130],"(",")",";",["T_WHITESPACE","\n\n    ",130],["T_COMMENT","\/\/ Ensure the first file is untouched.\n",132],["T_WHITESPACE","    ",133],["T_VARIABLE","$file",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_STRING","File",133],["T_DOUBLE_COLON","::",133],["T_STRING","load",133],"(",["T_VARIABLE","$first_fid",133],")",";",["T_WHITESPACE","\n    ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","assertTrue",134],"(",["T_VARIABLE","$file",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","isPermanent",134],"(",")",",",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'First file still exists and is permanent.'",134],")",";",["T_WHITESPACE","\n    ",134],["T_COMMENT","\/\/ This inspects the HTML after the post of the translation, the file\n",135],["T_WHITESPACE","    ",136],["T_COMMENT","\/\/ should be displayed on the original node.\n",136],["T_WHITESPACE","    ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","assertRaw",137],"(",["T_CONSTANT_ENCAPSED_STRING","'file--mime-text-plain'",137],")",";",["T_WHITESPACE","\n\n    ",137],["T_COMMENT","\/\/ Ensure the file status of the second file is permanent.\n",139],["T_WHITESPACE","    ",140],["T_VARIABLE","$file",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_STRING","File",140],["T_DOUBLE_COLON","::",140],["T_STRING","load",140],"(",["T_VARIABLE","$second_fid",140],")",";",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","assertTrue",141],"(",["T_VARIABLE","$file",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","isPermanent",141],"(",")",")",";",["T_WHITESPACE","\n\n    ",141],["T_COMMENT","\/\/ Ensure the file status of the third file is permanent.\n",143],["T_WHITESPACE","    ",144],["T_VARIABLE","$file",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_STRING","File",144],["T_DOUBLE_COLON","::",144],["T_STRING","load",144],"(",["T_VARIABLE","$third_fid",144],")",";",["T_WHITESPACE","\n    ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","assertTrue",145],"(",["T_VARIABLE","$file",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","isPermanent",145],"(",")",")",";",["T_WHITESPACE","\n\n    ",145],["T_COMMENT","\/\/ Edit the second translation: remove the existing file.\n",147],["T_WHITESPACE","    ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","drupalPostForm",148],"(",["T_CONSTANT_ENCAPSED_STRING","'fr\/node\/'",148],["T_WHITESPACE"," ",148],".",["T_WHITESPACE"," ",148],["T_VARIABLE","$default_language_node",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","id",148],"(",")",["T_WHITESPACE"," ",148],".",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",148],",",["T_WHITESPACE"," ",148],["T_ARRAY","array",148],"(",")",",",["T_WHITESPACE"," ",148],["T_STRING","t",148],"(",["T_CONSTANT_ENCAPSED_STRING","'Remove'",148],")",")",";",["T_WHITESPACE","\n\n    ",148],["T_COMMENT","\/\/ Upload a different file.\n",150],["T_WHITESPACE","    ",151],["T_VARIABLE","$edit",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_ARRAY","array",151],"(",")",";",["T_WHITESPACE","\n    ",151],["T_VARIABLE","$edit",152],"[",["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",152],"]",["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'David Bowie'",152],";",["T_WHITESPACE","\n    ",152],["T_VARIABLE","$name",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'files['",153],["T_WHITESPACE"," ",153],".",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","fieldName",153],["T_WHITESPACE"," ",153],".",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'_0]'",153],";",["T_WHITESPACE","\n    ",153],["T_VARIABLE","$edit",154],"[",["T_VARIABLE","$name",154],"]",["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","drupal_realpath",154],"(",["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","drupalGetTestFiles",154],"(",["T_CONSTANT_ENCAPSED_STRING","'text'",154],")","[",["T_LNUMBER","3",154],"]",["T_OBJECT_OPERATOR","->",154],["T_STRING","uri",154],")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","drupalPostForm",155],"(",["T_STRING","NULL",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$edit",155],",",["T_WHITESPACE"," ",155],["T_STRING","t",155],"(",["T_CONSTANT_ENCAPSED_STRING","'Save (this translation)'",155],")",")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$replaced_second_fid",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getLastFileId",156],"(",")",";",["T_WHITESPACE","\n\n    ",156],["T_NS_SEPARATOR","\\",158],["T_STRING","Drupal",158],["T_DOUBLE_COLON","::",158],["T_STRING","entityTypeManager",158],"(",")",["T_OBJECT_OPERATOR","->",158],["T_STRING","getStorage",158],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",158],")",["T_OBJECT_OPERATOR","->",158],["T_STRING","resetCache",158],"(",")",";",["T_WHITESPACE","\n\n    ",158],["T_COMMENT","\/\/ Ensure the first and third files are untouched.\n",160],["T_WHITESPACE","    ",161],["T_VARIABLE","$file",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_STRING","File",161],["T_DOUBLE_COLON","::",161],["T_STRING","load",161],"(",["T_VARIABLE","$first_fid",161],")",";",["T_WHITESPACE","\n    ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","assertTrue",162],"(",["T_VARIABLE","$file",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","isPermanent",162],"(",")",",",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'First file still exists and is permanent.'",162],")",";",["T_WHITESPACE","\n\n    ",162],["T_VARIABLE","$file",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_STRING","File",164],["T_DOUBLE_COLON","::",164],["T_STRING","load",164],"(",["T_VARIABLE","$third_fid",164],")",";",["T_WHITESPACE","\n    ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","assertTrue",165],"(",["T_VARIABLE","$file",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","isPermanent",165],"(",")",")",";",["T_WHITESPACE","\n\n    ",165],["T_COMMENT","\/\/ Ensure the file status of the replaced second file is permanent.\n",167],["T_WHITESPACE","    ",168],["T_VARIABLE","$file",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_STRING","File",168],["T_DOUBLE_COLON","::",168],["T_STRING","load",168],"(",["T_VARIABLE","$replaced_second_fid",168],")",";",["T_WHITESPACE","\n    ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","assertTrue",169],"(",["T_VARIABLE","$file",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","isPermanent",169],"(",")",")",";",["T_WHITESPACE","\n\n    ",169],["T_COMMENT","\/\/ Delete the third translation.\n",171],["T_WHITESPACE","    ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","drupalPostForm",172],"(",["T_CONSTANT_ENCAPSED_STRING","'nl\/node\/'",172],["T_WHITESPACE"," ",172],".",["T_WHITESPACE"," ",172],["T_VARIABLE","$default_language_node",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","id",172],"(",")",["T_WHITESPACE"," ",172],".",["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'\/delete'",172],",",["T_WHITESPACE"," ",172],["T_ARRAY","array",172],"(",")",",",["T_WHITESPACE"," ",172],["T_STRING","t",172],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete Dutch translation'",172],")",")",";",["T_WHITESPACE","\n\n    ",172],["T_NS_SEPARATOR","\\",174],["T_STRING","Drupal",174],["T_DOUBLE_COLON","::",174],["T_STRING","entityTypeManager",174],"(",")",["T_OBJECT_OPERATOR","->",174],["T_STRING","getStorage",174],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",174],")",["T_OBJECT_OPERATOR","->",174],["T_STRING","resetCache",174],"(",")",";",["T_WHITESPACE","\n\n    ",174],["T_COMMENT","\/\/ Ensure the first and replaced second files are untouched.\n",176],["T_WHITESPACE","    ",177],["T_VARIABLE","$file",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_STRING","File",177],["T_DOUBLE_COLON","::",177],["T_STRING","load",177],"(",["T_VARIABLE","$first_fid",177],")",";",["T_WHITESPACE","\n    ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","assertTrue",178],"(",["T_VARIABLE","$file",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","isPermanent",178],"(",")",",",["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'First file still exists and is permanent.'",178],")",";",["T_WHITESPACE","\n\n    ",178],["T_VARIABLE","$file",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_STRING","File",180],["T_DOUBLE_COLON","::",180],["T_STRING","load",180],"(",["T_VARIABLE","$replaced_second_fid",180],")",";",["T_WHITESPACE","\n    ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","assertTrue",181],"(",["T_VARIABLE","$file",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","isPermanent",181],"(",")",")",";",["T_WHITESPACE","\n\n    ",181],["T_COMMENT","\/\/ Ensure the file status of the third file is now temporary.\n",183],["T_WHITESPACE","    ",184],["T_VARIABLE","$file",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_STRING","File",184],["T_DOUBLE_COLON","::",184],["T_STRING","load",184],"(",["T_VARIABLE","$third_fid",184],")",";",["T_WHITESPACE","\n    ",184],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","assertTrue",185],"(",["T_VARIABLE","$file",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","isTemporary",185],"(",")",")",";",["T_WHITESPACE","\n\n    ",185],["T_COMMENT","\/\/ Delete the all translations.\n",187],["T_WHITESPACE","    ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","drupalPostForm",188],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",188],["T_WHITESPACE"," ",188],".",["T_WHITESPACE"," ",188],["T_VARIABLE","$default_language_node",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","id",188],"(",")",["T_WHITESPACE"," ",188],".",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'\/delete'",188],",",["T_WHITESPACE"," ",188],["T_ARRAY","array",188],"(",")",",",["T_WHITESPACE"," ",188],["T_STRING","t",188],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete all translations'",188],")",")",";",["T_WHITESPACE","\n\n    ",188],["T_NS_SEPARATOR","\\",190],["T_STRING","Drupal",190],["T_DOUBLE_COLON","::",190],["T_STRING","entityTypeManager",190],"(",")",["T_OBJECT_OPERATOR","->",190],["T_STRING","getStorage",190],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",190],")",["T_OBJECT_OPERATOR","->",190],["T_STRING","resetCache",190],"(",")",";",["T_WHITESPACE","\n\n    ",190],["T_COMMENT","\/\/ Ensure the file status of the all files are now temporary.\n",192],["T_WHITESPACE","    ",193],["T_VARIABLE","$file",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_STRING","File",193],["T_DOUBLE_COLON","::",193],["T_STRING","load",193],"(",["T_VARIABLE","$first_fid",193],")",";",["T_WHITESPACE","\n    ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","assertTrue",194],"(",["T_VARIABLE","$file",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","isTemporary",194],"(",")",",",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'First file still exists and is temporary.'",194],")",";",["T_WHITESPACE","\n\n    ",194],["T_VARIABLE","$file",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_STRING","File",196],["T_DOUBLE_COLON","::",196],["T_STRING","load",196],"(",["T_VARIABLE","$replaced_second_fid",196],")",";",["T_WHITESPACE","\n    ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","assertTrue",197],"(",["T_VARIABLE","$file",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","isTemporary",197],"(",")",")",";",["T_WHITESPACE","\n  ",197],"}",["T_WHITESPACE","\n\n",198],"}",["T_WHITESPACE","\n",200]]