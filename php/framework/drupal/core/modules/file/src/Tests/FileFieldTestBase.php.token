[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","file",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","field",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FieldStorageConfig",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","field",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FieldConfig",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","file",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FileInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","simpletest",8],["T_NS_SEPARATOR","\\",8],["T_STRING","WebTestBase",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","file",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","File",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Provides methods specifically for testing File module's field handling.\n *\/",11],["T_WHITESPACE","\n",13],["T_ABSTRACT","abstract",14],["T_WHITESPACE"," ",14],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","FileFieldTestBase",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","WebTestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n  * Modules to enable.\n  *\n  * @var array\n  *\/",16],["T_WHITESPACE","\n  ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_STATIC","static",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$modules",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_ARRAY","array",21],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'file'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'file_module_test'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'field_ui'",21],")",";",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * An user with administration permissions.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",23],["T_WHITESPACE","\n  ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$adminUser",28],";",["T_WHITESPACE","\n\n  ",28],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","setUp",30],"(",")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n    ",30],["T_STRING","parent",31],["T_DOUBLE_COLON","::",31],["T_STRING","setUp",31],"(",")",";",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","adminUser",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","drupalCreateUser",32],"(",["T_ARRAY","array",32],"(",["T_CONSTANT_ENCAPSED_STRING","'access content'",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'access administration pages'",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'administer site configuration'",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'administer users'",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'administer permissions'",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'administer content types'",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'administer node fields'",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'administer node display'",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'administer nodes'",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'bypass node access'",32],")",")",";",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","drupalLogin",33],"(",["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","adminUser",33],")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","drupalCreateContentType",34],"(",["T_ARRAY","array",34],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'article'",34],",",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'name'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'Article'",34],")",")",";",["T_WHITESPACE","\n  ",34],"}",["T_WHITESPACE","\n\n  ",35],["T_DOC_COMMENT","\/**\n   * Retrieves a sample file of the specified type.\n   *\n   * @return \\Drupal\\file\\FileInterface\n   *\/",37],["T_WHITESPACE","\n  ",41],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","getTestFile",42],"(",["T_VARIABLE","$type_name",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$size",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_STRING","NULL",42],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n    ",42],["T_COMMENT","\/\/ Get a file to upload.\n",43],["T_WHITESPACE","    ",44],["T_VARIABLE","$file",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_STRING","current",44],"(",["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","drupalGetTestFiles",44],"(",["T_VARIABLE","$type_name",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$size",44],")",")",";",["T_WHITESPACE","\n\n    ",44],["T_COMMENT","\/\/ Add a filesize property to files as would be read by\n",46],["T_WHITESPACE","    ",47],["T_COMMENT","\/\/ \\Drupal\\file\\Entity\\File::load().\n",47],["T_WHITESPACE","    ",48],["T_VARIABLE","$file",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","filesize",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","filesize",48],"(",["T_VARIABLE","$file",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","uri",48],")",";",["T_WHITESPACE","\n\n    ",48],["T_RETURN","return",50],["T_WHITESPACE"," ",50],["T_STRING","File",50],["T_DOUBLE_COLON","::",50],["T_STRING","create",50],"(",["T_ARRAY_CAST","(array)",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$file",50],")",";",["T_WHITESPACE","\n  ",50],"}",["T_WHITESPACE","\n\n  ",51],["T_DOC_COMMENT","\/**\n   * Retrieves the fid of the last inserted file.\n   *\/",53],["T_WHITESPACE","\n  ",55],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],["T_STRING","getLastFileId",56],"(",")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n    ",56],["T_RETURN","return",57],["T_WHITESPACE"," ",57],["T_INT_CAST","(int)",57],["T_WHITESPACE"," ",57],["T_STRING","db_query",57],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT MAX(fid) FROM {file_managed}'",57],")",["T_OBJECT_OPERATOR","->",57],["T_STRING","fetchField",57],"(",")",";",["T_WHITESPACE","\n  ",57],"}",["T_WHITESPACE","\n\n  ",58],["T_DOC_COMMENT","\/**\n   * Creates a new file field.\n   *\n   * @param string $name\n   *   The name of the new field (all lowercase), exclude the \"field_\" prefix.\n   * @param string $entity_type\n   *   The entity type.\n   * @param string $bundle\n   *   The bundle that this field will be added to.\n   * @param array $storage_settings\n   *   A list of field storage settings that will be added to the defaults.\n   * @param array $field_settings\n   *   A list of instance settings that will be added to the instance defaults.\n   * @param array $widget_settings\n   *   A list of widget settings that will be added to the widget defaults.\n   *\/",60],["T_WHITESPACE","\n  ",75],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","createFileField",76],"(",["T_VARIABLE","$name",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$entity_type",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$bundle",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$storage_settings",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_ARRAY","array",76],"(",")",",",["T_WHITESPACE"," ",76],["T_VARIABLE","$field_settings",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_ARRAY","array",76],"(",")",",",["T_WHITESPACE"," ",76],["T_VARIABLE","$widget_settings",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_ARRAY","array",76],"(",")",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$field_storage",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_STRING","FieldStorageConfig",77],["T_DOUBLE_COLON","::",77],["T_STRING","create",77],"(",["T_ARRAY","array",77],"(",["T_WHITESPACE","\n      ",77],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$entity_type",78],",",["T_WHITESPACE","\n      ",78],["T_CONSTANT_ENCAPSED_STRING","'field_name'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$name",79],",",["T_WHITESPACE","\n      ",79],["T_CONSTANT_ENCAPSED_STRING","'type'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'file'",80],",",["T_WHITESPACE","\n      ",80],["T_CONSTANT_ENCAPSED_STRING","'settings'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$storage_settings",81],",",["T_WHITESPACE","\n      ",81],["T_CONSTANT_ENCAPSED_STRING","'cardinality'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],"!",["T_EMPTY","empty",82],"(",["T_VARIABLE","$storage_settings",82],"[",["T_CONSTANT_ENCAPSED_STRING","'cardinality'",82],"]",")",["T_WHITESPACE"," ",82],"?",["T_WHITESPACE"," ",82],["T_VARIABLE","$storage_settings",82],"[",["T_CONSTANT_ENCAPSED_STRING","'cardinality'",82],"]",["T_WHITESPACE"," ",82],":",["T_WHITESPACE"," ",82],["T_LNUMBER","1",82],",",["T_WHITESPACE","\n    ",82],")",")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$field_storage",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","save",84],"(",")",";",["T_WHITESPACE","\n\n    ",84],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","attachFileField",86],"(",["T_VARIABLE","$name",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$entity_type",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$bundle",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$field_settings",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$widget_settings",86],")",";",["T_WHITESPACE","\n    ",86],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$field_storage",87],";",["T_WHITESPACE","\n  ",87],"}",["T_WHITESPACE","\n\n  ",88],["T_DOC_COMMENT","\/**\n   * Attaches a file field to an entity.\n   *\n   * @param string $name\n   *   The name of the new field (all lowercase), exclude the \"field_\" prefix.\n   * @param string $entity_type\n   *   The entity type this field will be added to.\n   * @param string $bundle\n   *   The bundle this field will be added to.\n   * @param array $field_settings\n   *   A list of field settings that will be added to the defaults.\n   * @param array $widget_settings\n   *   A list of widget settings that will be added to the widget defaults.\n   *\/",90],["T_WHITESPACE","\n  ",103],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","attachFileField",104],"(",["T_VARIABLE","$name",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$entity_type",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$bundle",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$field_settings",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_ARRAY","array",104],"(",")",",",["T_WHITESPACE"," ",104],["T_VARIABLE","$widget_settings",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_ARRAY","array",104],"(",")",")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$field",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_ARRAY","array",105],"(",["T_WHITESPACE","\n      ",105],["T_CONSTANT_ENCAPSED_STRING","'field_name'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$name",106],",",["T_WHITESPACE","\n      ",106],["T_CONSTANT_ENCAPSED_STRING","'label'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$name",107],",",["T_WHITESPACE","\n      ",107],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$entity_type",108],",",["T_WHITESPACE","\n      ",108],["T_CONSTANT_ENCAPSED_STRING","'bundle'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$bundle",109],",",["T_WHITESPACE","\n      ",109],["T_CONSTANT_ENCAPSED_STRING","'required'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],"!",["T_EMPTY","empty",110],"(",["T_VARIABLE","$field_settings",110],"[",["T_CONSTANT_ENCAPSED_STRING","'required'",110],"]",")",",",["T_WHITESPACE","\n      ",110],["T_CONSTANT_ENCAPSED_STRING","'settings'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$field_settings",111],",",["T_WHITESPACE","\n    ",111],")",";",["T_WHITESPACE","\n    ",112],["T_STRING","FieldConfig",113],["T_DOUBLE_COLON","::",113],["T_STRING","create",113],"(",["T_VARIABLE","$field",113],")",["T_OBJECT_OPERATOR","->",113],["T_STRING","save",113],"(",")",";",["T_WHITESPACE","\n\n    ",113],["T_STRING","entity_get_form_display",115],"(",["T_VARIABLE","$entity_type",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$bundle",115],",",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'default'",115],")",["T_WHITESPACE","\n      ",115],["T_OBJECT_OPERATOR","->",116],["T_STRING","setComponent",116],"(",["T_VARIABLE","$name",116],",",["T_WHITESPACE"," ",116],["T_ARRAY","array",116],"(",["T_WHITESPACE","\n        ",116],["T_CONSTANT_ENCAPSED_STRING","'type'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'file_generic'",117],",",["T_WHITESPACE","\n        ",117],["T_CONSTANT_ENCAPSED_STRING","'settings'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$widget_settings",118],",",["T_WHITESPACE","\n      ",118],")",")",["T_WHITESPACE","\n      ",119],["T_OBJECT_OPERATOR","->",120],["T_STRING","save",120],"(",")",";",["T_WHITESPACE","\n    ",120],["T_COMMENT","\/\/ Assign display settings.\n",121],["T_WHITESPACE","    ",122],["T_STRING","entity_get_display",122],"(",["T_VARIABLE","$entity_type",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$bundle",122],",",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'default'",122],")",["T_WHITESPACE","\n      ",122],["T_OBJECT_OPERATOR","->",123],["T_STRING","setComponent",123],"(",["T_VARIABLE","$name",123],",",["T_WHITESPACE"," ",123],["T_ARRAY","array",123],"(",["T_WHITESPACE","\n        ",123],["T_CONSTANT_ENCAPSED_STRING","'label'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'hidden'",124],",",["T_WHITESPACE","\n        ",124],["T_CONSTANT_ENCAPSED_STRING","'type'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'file_default'",125],",",["T_WHITESPACE","\n      ",125],")",")",["T_WHITESPACE","\n      ",126],["T_OBJECT_OPERATOR","->",127],["T_STRING","save",127],"(",")",";",["T_WHITESPACE","\n  ",127],"}",["T_WHITESPACE","\n\n  ",128],["T_DOC_COMMENT","\/**\n   * Updates an existing file field with new settings.\n   *\/",130],["T_WHITESPACE","\n  ",132],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],["T_STRING","updateFileField",133],"(",["T_VARIABLE","$name",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$type_name",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$field_settings",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_ARRAY","array",133],"(",")",",",["T_WHITESPACE"," ",133],["T_VARIABLE","$widget_settings",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_ARRAY","array",133],"(",")",")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n    ",133],["T_VARIABLE","$field",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_STRING","FieldConfig",134],["T_DOUBLE_COLON","::",134],["T_STRING","loadByName",134],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$type_name",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$name",134],")",";",["T_WHITESPACE","\n    ",134],["T_VARIABLE","$field",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","setSettings",135],"(",["T_STRING","array_merge",135],"(",["T_VARIABLE","$field",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getSettings",135],"(",")",",",["T_WHITESPACE"," ",135],["T_VARIABLE","$field_settings",135],")",")",";",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$field",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","save",136],"(",")",";",["T_WHITESPACE","\n\n    ",136],["T_STRING","entity_get_form_display",138],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$type_name",138],",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'default'",138],")",["T_WHITESPACE","\n      ",138],["T_OBJECT_OPERATOR","->",139],["T_STRING","setComponent",139],"(",["T_VARIABLE","$name",139],",",["T_WHITESPACE"," ",139],["T_ARRAY","array",139],"(",["T_WHITESPACE","\n        ",139],["T_CONSTANT_ENCAPSED_STRING","'settings'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$widget_settings",140],",",["T_WHITESPACE","\n      ",140],")",")",["T_WHITESPACE","\n      ",141],["T_OBJECT_OPERATOR","->",142],["T_STRING","save",142],"(",")",";",["T_WHITESPACE","\n  ",142],"}",["T_WHITESPACE","\n\n  ",143],["T_DOC_COMMENT","\/**\n   * Uploads a file to a node.\n   *\n   * @param \\Drupal\\file\\FileInterface $file\n   *   The File to be uploaded.\n   * @param string $field_name\n   *   The name of the field on which the files should be saved.\n   * @param $nid_or_type\n   *   A numeric node id to upload files to an existing node, or a string\n   *   indicating the desired bundle for a new node.\n   * @param bool $new_revision\n   *   The revision number.\n   * @param array $extras\n   *   Additional values when a new node is created.\n   *\n   * @return int\n   *   The node id.\n   *\/",145],["T_WHITESPACE","\n  ",162],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","uploadNodeFile",163],"(",["T_STRING","FileInterface",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$file",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$field_name",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$nid_or_type",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$new_revision",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_STRING","TRUE",163],",",["T_WHITESPACE"," ",163],["T_ARRAY","array",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$extras",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_ARRAY","array",163],"(",")",")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n    ",163],["T_RETURN","return",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","uploadNodeFiles",164],"(","[",["T_VARIABLE","$file",164],"]",",",["T_WHITESPACE"," ",164],["T_VARIABLE","$field_name",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$nid_or_type",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$new_revision",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$extras",164],")",";",["T_WHITESPACE","\n  ",164],"}",["T_WHITESPACE","\n\n  ",165],["T_DOC_COMMENT","\/**\n   * Uploads multiple files to a node.\n   *\n   * @param \\Drupal\\file\\FileInterface[] $files\n   *   The files to be uploaded.\n   * @param string $field_name\n   *   The name of the field on which the files should be saved.\n   * @param $nid_or_type\n   *   A numeric node id to upload files to an existing node, or a string\n   *   indicating the desired bundle for a new node.\n   * @param bool $new_revision\n   *   The revision number.\n   * @param array $extras\n   *   Additional values when a new node is created.\n   *\n   * @return int\n   *   The node id.\n   *\/",167],["T_WHITESPACE","\n  ",184],["T_FUNCTION","function",185],["T_WHITESPACE"," ",185],["T_STRING","uploadNodeFiles",185],"(",["T_ARRAY","array",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$files",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$field_name",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$nid_or_type",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$new_revision",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_STRING","TRUE",185],",",["T_WHITESPACE"," ",185],["T_ARRAY","array",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$extras",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_ARRAY","array",185],"(",")",")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n    ",185],["T_VARIABLE","$edit",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_ARRAY","array",186],"(",["T_WHITESPACE","\n      ",186],["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","randomMachineName",187],"(",")",",",["T_WHITESPACE","\n      ",187],["T_CONSTANT_ENCAPSED_STRING","'revision'",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_STRING_CAST","(string)",188],["T_WHITESPACE"," ",188],["T_INT_CAST","(int)",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$new_revision",188],",",["T_WHITESPACE","\n    ",188],")",";",["T_WHITESPACE","\n\n    ",189],["T_VARIABLE","$node_storage",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","container",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","get",191],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",191],")",["T_OBJECT_OPERATOR","->",191],["T_STRING","getStorage",191],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",191],")",";",["T_WHITESPACE","\n    ",191],["T_IF","if",192],["T_WHITESPACE"," ",192],"(",["T_STRING","is_numeric",192],"(",["T_VARIABLE","$nid_or_type",192],")",")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n      ",192],["T_VARIABLE","$nid",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$nid_or_type",193],";",["T_WHITESPACE","\n      ",193],["T_VARIABLE","$node_storage",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","resetCache",194],"(",["T_ARRAY","array",194],"(",["T_VARIABLE","$nid",194],")",")",";",["T_WHITESPACE","\n      ",194],["T_VARIABLE","$node",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$node_storage",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","load",195],"(",["T_VARIABLE","$nid",195],")",";",["T_WHITESPACE","\n    ",195],"}",["T_WHITESPACE","\n    ",196],["T_ELSE","else",197],["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n      ",197],["T_COMMENT","\/\/ Add a new node.\n",198],["T_WHITESPACE","      ",199],["T_VARIABLE","$extras",199],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",199],"]",["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$nid_or_type",199],";",["T_WHITESPACE","\n      ",199],["T_VARIABLE","$node",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","drupalCreateNode",200],"(",["T_VARIABLE","$extras",200],")",";",["T_WHITESPACE","\n      ",200],["T_VARIABLE","$nid",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$node",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","id",201],"(",")",";",["T_WHITESPACE","\n      ",201],["T_COMMENT","\/\/ Save at least one revision to better simulate a real site.\n",202],["T_WHITESPACE","      ",203],["T_VARIABLE","$node",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","setNewRevision",203],"(",")",";",["T_WHITESPACE","\n      ",203],["T_VARIABLE","$node",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","save",204],"(",")",";",["T_WHITESPACE","\n      ",204],["T_VARIABLE","$node_storage",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","resetCache",205],"(",["T_ARRAY","array",205],"(",["T_VARIABLE","$nid",205],")",")",";",["T_WHITESPACE","\n      ",205],["T_VARIABLE","$node",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$node_storage",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","load",206],"(",["T_VARIABLE","$nid",206],")",";",["T_WHITESPACE","\n      ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","assertNotEqual",207],"(",["T_VARIABLE","$nid",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$node",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getRevisionId",207],"(",")",",",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'Node revision exists.'",207],")",";",["T_WHITESPACE","\n    ",207],"}",["T_WHITESPACE","\n\n    ",208],["T_COMMENT","\/\/ Attach files to the node.\n",210],["T_WHITESPACE","    ",211],["T_VARIABLE","$field_storage",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_STRING","FieldStorageConfig",211],["T_DOUBLE_COLON","::",211],["T_STRING","loadByName",211],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$field_name",211],")",";",["T_WHITESPACE","\n    ",211],["T_COMMENT","\/\/ File input name depends on number of files already uploaded.\n",212],["T_WHITESPACE","    ",213],["T_VARIABLE","$field_num",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_STRING","count",213],"(",["T_VARIABLE","$node",213],["T_OBJECT_OPERATOR","->",213],"{",["T_VARIABLE","$field_name",213],"}",")",";",["T_WHITESPACE","\n    ",213],["T_VARIABLE","$name",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'files['",214],["T_WHITESPACE"," ",214],".",["T_WHITESPACE"," ",214],["T_VARIABLE","$field_name",214],["T_WHITESPACE"," ",214],".",["T_WHITESPACE"," ",214],"\"",["T_ENCAPSED_AND_WHITESPACE","_",214],["T_VARIABLE","$field_num",214],["T_ENCAPSED_AND_WHITESPACE","]",214],"\"",";",["T_WHITESPACE","\n    ",214],["T_IF","if",215],["T_WHITESPACE"," ",215],"(",["T_VARIABLE","$field_storage",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getCardinality",215],"(",")",["T_WHITESPACE"," ",215],["T_IS_NOT_EQUAL","!=",215],["T_WHITESPACE"," ",215],["T_LNUMBER","1",215],")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n      ",215],["T_VARIABLE","$name",216],["T_WHITESPACE"," ",216],["T_CONCAT_EQUAL",".=",216],["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'[]'",216],";",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n    ",217],["T_FOREACH","foreach",218],["T_WHITESPACE"," ",218],"(",["T_VARIABLE","$files",218],["T_WHITESPACE"," ",218],["T_AS","as",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$file",218],")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n      ",218],["T_VARIABLE","$file_path",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","container",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","get",219],"(",["T_CONSTANT_ENCAPSED_STRING","'file_system'",219],")",["T_OBJECT_OPERATOR","->",219],["T_STRING","realpath",219],"(",["T_VARIABLE","$file",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getFileUri",219],"(",")",")",";",["T_WHITESPACE","\n      ",219],["T_IF","if",220],["T_WHITESPACE"," ",220],"(",["T_STRING","count",220],"(",["T_VARIABLE","$files",220],")",["T_WHITESPACE"," ",220],["T_IS_EQUAL","==",220],["T_WHITESPACE"," ",220],["T_LNUMBER","1",220],")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$edit",221],"[",["T_VARIABLE","$name",221],"]",["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_VARIABLE","$file_path",221],";",["T_WHITESPACE","\n      ",221],"}",["T_WHITESPACE","\n      ",222],["T_ELSE","else",223],["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$edit",224],"[",["T_VARIABLE","$name",224],"]","[","]",["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$file_path",224],";",["T_WHITESPACE","\n      ",224],"}",["T_WHITESPACE","\n    ",225],"}",["T_WHITESPACE","\n    ",226],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","drupalPostForm",227],"(","\"",["T_ENCAPSED_AND_WHITESPACE","node\/",227],["T_VARIABLE","$nid",227],["T_ENCAPSED_AND_WHITESPACE","\/edit",227],"\"",",",["T_WHITESPACE"," ",227],["T_VARIABLE","$edit",227],",",["T_WHITESPACE"," ",227],["T_STRING","t",227],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and keep published'",227],")",")",";",["T_WHITESPACE","\n\n    ",227],["T_RETURN","return",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$nid",229],";",["T_WHITESPACE","\n  ",229],"}",["T_WHITESPACE","\n\n  ",230],["T_DOC_COMMENT","\/**\n   * Removes a file from a node.\n   *\n   * Note that if replacing a file, it must first be removed then added again.\n   *\/",232],["T_WHITESPACE","\n  ",236],["T_FUNCTION","function",237],["T_WHITESPACE"," ",237],["T_STRING","removeNodeFile",237],"(",["T_VARIABLE","$nid",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$new_revision",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_STRING","TRUE",237],")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n    ",237],["T_VARIABLE","$edit",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_ARRAY","array",238],"(",["T_WHITESPACE","\n      ",238],["T_CONSTANT_ENCAPSED_STRING","'revision'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_STRING_CAST","(string)",239],["T_WHITESPACE"," ",239],["T_INT_CAST","(int)",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$new_revision",239],",",["T_WHITESPACE","\n    ",239],")",";",["T_WHITESPACE","\n\n    ",240],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","drupalPostForm",242],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",242],["T_WHITESPACE"," ",242],".",["T_WHITESPACE"," ",242],["T_VARIABLE","$nid",242],["T_WHITESPACE"," ",242],".",["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",242],",",["T_WHITESPACE"," ",242],["T_ARRAY","array",242],"(",")",",",["T_WHITESPACE"," ",242],["T_STRING","t",242],"(",["T_CONSTANT_ENCAPSED_STRING","'Remove'",242],")",")",";",["T_WHITESPACE","\n    ",242],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","drupalPostForm",243],"(",["T_STRING","NULL",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$edit",243],",",["T_WHITESPACE"," ",243],["T_STRING","t",243],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and keep published'",243],")",")",";",["T_WHITESPACE","\n  ",243],"}",["T_WHITESPACE","\n\n  ",244],["T_DOC_COMMENT","\/**\n   * Replaces a file within a node.\n   *\/",246],["T_WHITESPACE","\n  ",248],["T_FUNCTION","function",249],["T_WHITESPACE"," ",249],["T_STRING","replaceNodeFile",249],"(",["T_VARIABLE","$file",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$field_name",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$nid",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$new_revision",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_STRING","TRUE",249],")",["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n    ",249],["T_VARIABLE","$edit",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_ARRAY","array",250],"(",["T_WHITESPACE","\n      ",250],["T_CONSTANT_ENCAPSED_STRING","'files['",251],["T_WHITESPACE"," ",251],".",["T_WHITESPACE"," ",251],["T_VARIABLE","$field_name",251],["T_WHITESPACE"," ",251],".",["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","'_0]'",251],["T_WHITESPACE"," ",251],["T_DOUBLE_ARROW","=>",251],["T_WHITESPACE"," ",251],["T_STRING","drupal_realpath",251],"(",["T_VARIABLE","$file",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getFileUri",251],"(",")",")",",",["T_WHITESPACE","\n      ",251],["T_CONSTANT_ENCAPSED_STRING","'revision'",252],["T_WHITESPACE"," ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],["T_STRING_CAST","(string)",252],["T_WHITESPACE"," ",252],["T_INT_CAST","(int)",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$new_revision",252],",",["T_WHITESPACE","\n    ",252],")",";",["T_WHITESPACE","\n\n    ",253],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","drupalPostForm",255],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",255],["T_WHITESPACE"," ",255],".",["T_WHITESPACE"," ",255],["T_VARIABLE","$nid",255],["T_WHITESPACE"," ",255],".",["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",255],",",["T_WHITESPACE"," ",255],["T_ARRAY","array",255],"(",")",",",["T_WHITESPACE"," ",255],["T_STRING","t",255],"(",["T_CONSTANT_ENCAPSED_STRING","'Remove'",255],")",")",";",["T_WHITESPACE","\n    ",255],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","drupalPostForm",256],"(",["T_STRING","NULL",256],",",["T_WHITESPACE"," ",256],["T_VARIABLE","$edit",256],",",["T_WHITESPACE"," ",256],["T_STRING","t",256],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and keep published'",256],")",")",";",["T_WHITESPACE","\n  ",256],"}",["T_WHITESPACE","\n\n  ",257],["T_DOC_COMMENT","\/**\n   * Asserts that a file exists physically on disk.\n   *\/",259],["T_WHITESPACE","\n  ",261],["T_FUNCTION","function",262],["T_WHITESPACE"," ",262],["T_STRING","assertFileExists",262],"(",["T_VARIABLE","$file",262],",",["T_WHITESPACE"," ",262],["T_VARIABLE","$message",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_STRING","NULL",262],")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n    ",262],["T_VARIABLE","$message",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_ISSET","isset",263],"(",["T_VARIABLE","$message",263],")",["T_WHITESPACE"," ",263],"?",["T_WHITESPACE"," ",263],["T_VARIABLE","$message",263],["T_WHITESPACE"," ",263],":",["T_WHITESPACE"," ",263],["T_STRING","format_string",263],"(",["T_CONSTANT_ENCAPSED_STRING","'File %file exists on the disk.'",263],",",["T_WHITESPACE"," ",263],["T_ARRAY","array",263],"(",["T_CONSTANT_ENCAPSED_STRING","'%file'",263],["T_WHITESPACE"," ",263],["T_DOUBLE_ARROW","=>",263],["T_WHITESPACE"," ",263],["T_VARIABLE","$file",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","getFileUri",263],"(",")",")",")",";",["T_WHITESPACE","\n    ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","assertTrue",264],"(",["T_STRING","is_file",264],"(",["T_VARIABLE","$file",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","getFileUri",264],"(",")",")",",",["T_WHITESPACE"," ",264],["T_VARIABLE","$message",264],")",";",["T_WHITESPACE","\n  ",264],"}",["T_WHITESPACE","\n\n  ",265],["T_DOC_COMMENT","\/**\n   * Asserts that a file exists in the database.\n   *\/",267],["T_WHITESPACE","\n  ",269],["T_FUNCTION","function",270],["T_WHITESPACE"," ",270],["T_STRING","assertFileEntryExists",270],"(",["T_VARIABLE","$file",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$message",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_STRING","NULL",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n    ",270],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","container",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","get",271],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",271],")",["T_OBJECT_OPERATOR","->",271],["T_STRING","getStorage",271],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",271],")",["T_OBJECT_OPERATOR","->",271],["T_STRING","resetCache",271],"(",")",";",["T_WHITESPACE","\n    ",271],["T_VARIABLE","$db_file",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_STRING","File",272],["T_DOUBLE_COLON","::",272],["T_STRING","load",272],"(",["T_VARIABLE","$file",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","id",272],"(",")",")",";",["T_WHITESPACE","\n    ",272],["T_VARIABLE","$message",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_ISSET","isset",273],"(",["T_VARIABLE","$message",273],")",["T_WHITESPACE"," ",273],"?",["T_WHITESPACE"," ",273],["T_VARIABLE","$message",273],["T_WHITESPACE"," ",273],":",["T_WHITESPACE"," ",273],["T_STRING","format_string",273],"(",["T_CONSTANT_ENCAPSED_STRING","'File %file exists in database at the correct path.'",273],",",["T_WHITESPACE"," ",273],["T_ARRAY","array",273],"(",["T_CONSTANT_ENCAPSED_STRING","'%file'",273],["T_WHITESPACE"," ",273],["T_DOUBLE_ARROW","=>",273],["T_WHITESPACE"," ",273],["T_VARIABLE","$file",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getFileUri",273],"(",")",")",")",";",["T_WHITESPACE","\n    ",273],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","assertEqual",274],"(",["T_VARIABLE","$db_file",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","getFileUri",274],"(",")",",",["T_WHITESPACE"," ",274],["T_VARIABLE","$file",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","getFileUri",274],"(",")",",",["T_WHITESPACE"," ",274],["T_VARIABLE","$message",274],")",";",["T_WHITESPACE","\n  ",274],"}",["T_WHITESPACE","\n\n  ",275],["T_DOC_COMMENT","\/**\n   * Asserts that a file does not exist on disk.\n   *\/",277],["T_WHITESPACE","\n  ",279],["T_FUNCTION","function",280],["T_WHITESPACE"," ",280],["T_STRING","assertFileNotExists",280],"(",["T_VARIABLE","$file",280],",",["T_WHITESPACE"," ",280],["T_VARIABLE","$message",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_STRING","NULL",280],")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n    ",280],["T_VARIABLE","$message",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_ISSET","isset",281],"(",["T_VARIABLE","$message",281],")",["T_WHITESPACE"," ",281],"?",["T_WHITESPACE"," ",281],["T_VARIABLE","$message",281],["T_WHITESPACE"," ",281],":",["T_WHITESPACE"," ",281],["T_STRING","format_string",281],"(",["T_CONSTANT_ENCAPSED_STRING","'File %file exists on the disk.'",281],",",["T_WHITESPACE"," ",281],["T_ARRAY","array",281],"(",["T_CONSTANT_ENCAPSED_STRING","'%file'",281],["T_WHITESPACE"," ",281],["T_DOUBLE_ARROW","=>",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$file",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","getFileUri",281],"(",")",")",")",";",["T_WHITESPACE","\n    ",281],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","assertFalse",282],"(",["T_STRING","is_file",282],"(",["T_VARIABLE","$file",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","getFileUri",282],"(",")",")",",",["T_WHITESPACE"," ",282],["T_VARIABLE","$message",282],")",";",["T_WHITESPACE","\n  ",282],"}",["T_WHITESPACE","\n\n  ",283],["T_DOC_COMMENT","\/**\n   * Asserts that a file does not exist in the database.\n   *\/",285],["T_WHITESPACE","\n  ",287],["T_FUNCTION","function",288],["T_WHITESPACE"," ",288],["T_STRING","assertFileEntryNotExists",288],"(",["T_VARIABLE","$file",288],",",["T_WHITESPACE"," ",288],["T_VARIABLE","$message",288],")",["T_WHITESPACE"," ",288],"{",["T_WHITESPACE","\n    ",288],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","container",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","get",289],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",289],")",["T_OBJECT_OPERATOR","->",289],["T_STRING","getStorage",289],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",289],")",["T_OBJECT_OPERATOR","->",289],["T_STRING","resetCache",289],"(",")",";",["T_WHITESPACE","\n    ",289],["T_VARIABLE","$message",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_ISSET","isset",290],"(",["T_VARIABLE","$message",290],")",["T_WHITESPACE"," ",290],"?",["T_WHITESPACE"," ",290],["T_VARIABLE","$message",290],["T_WHITESPACE"," ",290],":",["T_WHITESPACE"," ",290],["T_STRING","format_string",290],"(",["T_CONSTANT_ENCAPSED_STRING","'File %file exists in database at the correct path.'",290],",",["T_WHITESPACE"," ",290],["T_ARRAY","array",290],"(",["T_CONSTANT_ENCAPSED_STRING","'%file'",290],["T_WHITESPACE"," ",290],["T_DOUBLE_ARROW","=>",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$file",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","getFileUri",290],"(",")",")",")",";",["T_WHITESPACE","\n    ",290],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","assertFalse",291],"(",["T_STRING","File",291],["T_DOUBLE_COLON","::",291],["T_STRING","load",291],"(",["T_VARIABLE","$file",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","id",291],"(",")",")",",",["T_WHITESPACE"," ",291],["T_VARIABLE","$message",291],")",";",["T_WHITESPACE","\n  ",291],"}",["T_WHITESPACE","\n\n  ",292],["T_DOC_COMMENT","\/**\n   * Asserts that a file's status is set to permanent in the database.\n   *\/",294],["T_WHITESPACE","\n  ",296],["T_FUNCTION","function",297],["T_WHITESPACE"," ",297],["T_STRING","assertFileIsPermanent",297],"(",["T_STRING","FileInterface",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$file",297],",",["T_WHITESPACE"," ",297],["T_VARIABLE","$message",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_STRING","NULL",297],")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n    ",297],["T_VARIABLE","$message",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_ISSET","isset",298],"(",["T_VARIABLE","$message",298],")",["T_WHITESPACE"," ",298],"?",["T_WHITESPACE"," ",298],["T_VARIABLE","$message",298],["T_WHITESPACE"," ",298],":",["T_WHITESPACE"," ",298],["T_STRING","format_string",298],"(",["T_CONSTANT_ENCAPSED_STRING","'File %file is permanent.'",298],",",["T_WHITESPACE"," ",298],["T_ARRAY","array",298],"(",["T_CONSTANT_ENCAPSED_STRING","'%file'",298],["T_WHITESPACE"," ",298],["T_DOUBLE_ARROW","=>",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$file",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","getFileUri",298],"(",")",")",")",";",["T_WHITESPACE","\n    ",298],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","assertTrue",299],"(",["T_VARIABLE","$file",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","isPermanent",299],"(",")",",",["T_WHITESPACE"," ",299],["T_VARIABLE","$message",299],")",";",["T_WHITESPACE","\n  ",299],"}",["T_WHITESPACE","\n\n",300],"}",["T_WHITESPACE","\n",302]]