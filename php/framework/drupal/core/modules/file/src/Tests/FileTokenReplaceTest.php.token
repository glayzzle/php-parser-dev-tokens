[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","file",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Html",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Render",6],["T_NS_SEPARATOR","\\",6],["T_STRING","BubbleableMetadata",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","file",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","File",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Generates text using placeholders for dummy content to check file token\n * replacement.\n *\n * @group file\n *\/",9],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","FileTokenReplaceTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","FileFieldTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n  ",15],["T_DOC_COMMENT","\/**\n   * Creates a file, then tests the tokens generated from it.\n   *\/",16],["T_WHITESPACE","\n  ",18],["T_FUNCTION","function",19],["T_WHITESPACE"," ",19],["T_STRING","testFileTokenReplacement",19],"(",")",["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n    ",19],["T_VARIABLE","$node_storage",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_VARIABLE","$this",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","container",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","get",20],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",20],")",["T_OBJECT_OPERATOR","->",20],["T_STRING","getStorage",20],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",20],")",";",["T_WHITESPACE","\n    ",20],["T_VARIABLE","$token_service",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Drupal",21],["T_DOUBLE_COLON","::",21],["T_STRING","token",21],"(",")",";",["T_WHITESPACE","\n    ",21],["T_VARIABLE","$language_interface",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Drupal",22],["T_DOUBLE_COLON","::",22],["T_STRING","languageManager",22],"(",")",["T_OBJECT_OPERATOR","->",22],["T_STRING","getCurrentLanguage",22],"(",")",";",["T_WHITESPACE","\n\n    ",22],["T_COMMENT","\/\/ Create file field.\n",24],["T_WHITESPACE","    ",25],["T_VARIABLE","$type_name",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'article'",25],";",["T_WHITESPACE","\n    ",25],["T_VARIABLE","$field_name",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'field_'",26],["T_WHITESPACE"," ",26],".",["T_WHITESPACE"," ",26],["T_STRING","strtolower",26],"(",["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","randomMachineName",26],"(",")",")",";",["T_WHITESPACE","\n    ",26],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","createFileField",27],"(",["T_VARIABLE","$field_name",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'node'",27],",",["T_WHITESPACE"," ",27],["T_VARIABLE","$type_name",27],")",";",["T_WHITESPACE","\n\n    ",27],["T_VARIABLE","$test_file",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","getTestFile",29],"(",["T_CONSTANT_ENCAPSED_STRING","'text'",29],")",";",["T_WHITESPACE","\n    ",29],["T_COMMENT","\/\/ Coping a file to test uploads with non-latin filenames.\n",30],["T_WHITESPACE","    ",31],["T_VARIABLE","$filename",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_STRING","drupal_dirname",31],"(",["T_VARIABLE","$test_file",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","getFileUri",31],"(",")",")",["T_WHITESPACE"," ",31],".",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'\/\u00d1\u0082\u00d0\u00b5\u00d0\u00ba\u00d1\u0081\u00d1\u0082\u00d0\u00be\u00d0\u00b2\u00d1\u008b\u00d0\u00b9 \u00d1\u0084\u00d0\u00b0\u00d0\u00b9\u00d0\u00bb.txt'",31],";",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$test_file",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_STRING","file_copy",32],"(",["T_VARIABLE","$test_file",32],",",["T_WHITESPACE"," ",32],["T_VARIABLE","$filename",32],")",";",["T_WHITESPACE","\n\n    ",32],["T_COMMENT","\/\/ Create a new node with the uploaded file.\n",34],["T_WHITESPACE","    ",35],["T_VARIABLE","$nid",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","uploadNodeFile",35],"(",["T_VARIABLE","$test_file",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$field_name",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$type_name",35],")",";",["T_WHITESPACE","\n\n    ",35],["T_COMMENT","\/\/ Load the node and the file.\n",37],["T_WHITESPACE","    ",38],["T_VARIABLE","$node_storage",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","resetCache",38],"(",["T_ARRAY","array",38],"(",["T_VARIABLE","$nid",38],")",")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$node",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$node_storage",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","load",39],"(",["T_VARIABLE","$nid",39],")",";",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$file",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_STRING","File",40],["T_DOUBLE_COLON","::",40],["T_STRING","load",40],"(",["T_VARIABLE","$node",40],["T_OBJECT_OPERATOR","->",40],"{",["T_VARIABLE","$field_name",40],"}",["T_OBJECT_OPERATOR","->",40],["T_STRING","target_id",40],")",";",["T_WHITESPACE","\n\n    ",40],["T_COMMENT","\/\/ Generate and test sanitized tokens.\n",42],["T_WHITESPACE","    ",43],["T_VARIABLE","$tests",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_ARRAY","array",43],"(",")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$tests",44],"[",["T_CONSTANT_ENCAPSED_STRING","'[file:fid]'",44],"]",["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$file",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","id",44],"(",")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$tests",45],"[",["T_CONSTANT_ENCAPSED_STRING","'[file:name]'",45],"]",["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","Html",45],["T_DOUBLE_COLON","::",45],["T_STRING","escape",45],"(",["T_VARIABLE","$file",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getFilename",45],"(",")",")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$tests",46],"[",["T_CONSTANT_ENCAPSED_STRING","'[file:path]'",46],"]",["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","Html",46],["T_DOUBLE_COLON","::",46],["T_STRING","escape",46],"(",["T_VARIABLE","$file",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getFileUri",46],"(",")",")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$tests",47],"[",["T_CONSTANT_ENCAPSED_STRING","'[file:mime]'",47],"]",["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_STRING","Html",47],["T_DOUBLE_COLON","::",47],["T_STRING","escape",47],"(",["T_VARIABLE","$file",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","getMimeType",47],"(",")",")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$tests",48],"[",["T_CONSTANT_ENCAPSED_STRING","'[file:size]'",48],"]",["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","format_size",48],"(",["T_VARIABLE","$file",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getSize",48],"(",")",")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$tests",49],"[",["T_CONSTANT_ENCAPSED_STRING","'[file:url]'",49],"]",["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","Html",49],["T_DOUBLE_COLON","::",49],["T_STRING","escape",49],"(",["T_STRING","file_create_url",49],"(",["T_VARIABLE","$file",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getFileUri",49],"(",")",")",")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$tests",50],"[",["T_CONSTANT_ENCAPSED_STRING","'[file:created]'",50],"]",["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","format_date",50],"(",["T_VARIABLE","$file",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getCreatedTime",50],"(",")",",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'medium'",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","''",50],",",["T_WHITESPACE"," ",50],["T_STRING","NULL",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$language_interface",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getId",50],"(",")",")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$tests",51],"[",["T_CONSTANT_ENCAPSED_STRING","'[file:created:short]'",51],"]",["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_STRING","format_date",51],"(",["T_VARIABLE","$file",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getCreatedTime",51],"(",")",",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'short'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","''",51],",",["T_WHITESPACE"," ",51],["T_STRING","NULL",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$language_interface",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getId",51],"(",")",")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$tests",52],"[",["T_CONSTANT_ENCAPSED_STRING","'[file:changed]'",52],"]",["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_STRING","format_date",52],"(",["T_VARIABLE","$file",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getChangedTime",52],"(",")",",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'medium'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","''",52],",",["T_WHITESPACE"," ",52],["T_STRING","NULL",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$language_interface",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getId",52],"(",")",")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$tests",53],"[",["T_CONSTANT_ENCAPSED_STRING","'[file:changed:short]'",53],"]",["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","format_date",53],"(",["T_VARIABLE","$file",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getChangedTime",53],"(",")",",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'short'",53],",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","''",53],",",["T_WHITESPACE"," ",53],["T_STRING","NULL",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$language_interface",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getId",53],"(",")",")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$tests",54],"[",["T_CONSTANT_ENCAPSED_STRING","'[file:owner]'",54],"]",["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","Html",54],["T_DOUBLE_COLON","::",54],["T_STRING","escape",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","adminUser",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getDisplayName",54],"(",")",")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$tests",55],"[",["T_CONSTANT_ENCAPSED_STRING","'[file:owner:uid]'",55],"]",["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$file",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getOwnerId",55],"(",")",";",["T_WHITESPACE","\n\n    ",55],["T_VARIABLE","$base_bubbleable_metadata",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","BubbleableMetadata",57],["T_DOUBLE_COLON","::",57],["T_STRING","createFromObject",57],"(",["T_VARIABLE","$file",57],")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$metadata_tests",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],"[","]",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$metadata_tests",59],"[",["T_CONSTANT_ENCAPSED_STRING","'[file:fid]'",59],"]",["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$base_bubbleable_metadata",59],";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$metadata_tests",60],"[",["T_CONSTANT_ENCAPSED_STRING","'[file:name]'",60],"]",["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$base_bubbleable_metadata",60],";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$metadata_tests",61],"[",["T_CONSTANT_ENCAPSED_STRING","'[file:path]'",61],"]",["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$base_bubbleable_metadata",61],";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$metadata_tests",62],"[",["T_CONSTANT_ENCAPSED_STRING","'[file:mime]'",62],"]",["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$base_bubbleable_metadata",62],";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$metadata_tests",63],"[",["T_CONSTANT_ENCAPSED_STRING","'[file:size]'",63],"]",["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$base_bubbleable_metadata",63],";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$bubbleable_metadata",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_CLONE","clone",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$base_bubbleable_metadata",64],";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$metadata_tests",65],"[",["T_CONSTANT_ENCAPSED_STRING","'[file:url]'",65],"]",["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$bubbleable_metadata",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","addCacheContexts",65],"(","[",["T_CONSTANT_ENCAPSED_STRING","'url.site'",65],"]",")",";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$bubbleable_metadata",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_CLONE","clone",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$base_bubbleable_metadata",66],";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$metadata_tests",67],"[",["T_CONSTANT_ENCAPSED_STRING","'[file:created]'",67],"]",["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$bubbleable_metadata",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","addCacheTags",67],"(","[",["T_CONSTANT_ENCAPSED_STRING","'rendered'",67],"]",")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$metadata_tests",68],"[",["T_CONSTANT_ENCAPSED_STRING","'[file:created:short]'",68],"]",["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$bubbleable_metadata",68],";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$metadata_tests",69],"[",["T_CONSTANT_ENCAPSED_STRING","'[file:changed]'",69],"]",["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$bubbleable_metadata",69],";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$metadata_tests",70],"[",["T_CONSTANT_ENCAPSED_STRING","'[file:changed:short]'",70],"]",["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$bubbleable_metadata",70],";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$bubbleable_metadata",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_CLONE","clone",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$base_bubbleable_metadata",71],";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$metadata_tests",72],"[",["T_CONSTANT_ENCAPSED_STRING","'[file:owner]'",72],"]",["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$bubbleable_metadata",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","addCacheTags",72],"(","[",["T_CONSTANT_ENCAPSED_STRING","'user:2'",72],"]",")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$metadata_tests",73],"[",["T_CONSTANT_ENCAPSED_STRING","'[file:owner:uid]'",73],"]",["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$bubbleable_metadata",73],";",["T_WHITESPACE","\n\n    ",73],["T_COMMENT","\/\/ Test to make sure that we generated something for each token.\n",75],["T_WHITESPACE","    ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","assertFalse",76],"(",["T_STRING","in_array",76],"(",["T_LNUMBER","0",76],",",["T_WHITESPACE"," ",76],["T_STRING","array_map",76],"(",["T_CONSTANT_ENCAPSED_STRING","'strlen'",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$tests",76],")",")",",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'No empty tokens generated.'",76],")",";",["T_WHITESPACE","\n\n    ",76],["T_FOREACH","foreach",78],["T_WHITESPACE"," ",78],"(",["T_VARIABLE","$tests",78],["T_WHITESPACE"," ",78],["T_AS","as",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$input",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$expected",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n      ",78],["T_VARIABLE","$bubbleable_metadata",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_NEW","new",79],["T_WHITESPACE"," ",79],["T_STRING","BubbleableMetadata",79],"(",")",";",["T_WHITESPACE","\n      ",79],["T_VARIABLE","$output",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$token_service",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","replace",80],"(",["T_VARIABLE","$input",80],",",["T_WHITESPACE"," ",80],["T_ARRAY","array",80],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$file",80],")",",",["T_WHITESPACE"," ",80],["T_ARRAY","array",80],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$language_interface",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getId",80],"(",")",")",",",["T_WHITESPACE"," ",80],["T_VARIABLE","$bubbleable_metadata",80],")",";",["T_WHITESPACE","\n      ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertEqual",81],"(",["T_VARIABLE","$output",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$expected",81],",",["T_WHITESPACE"," ",81],["T_STRING","format_string",81],"(",["T_CONSTANT_ENCAPSED_STRING","'Sanitized file token %token replaced.'",81],",",["T_WHITESPACE"," ",81],["T_ARRAY","array",81],"(",["T_CONSTANT_ENCAPSED_STRING","'%token'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$input",81],")",")",")",";",["T_WHITESPACE","\n      ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertEqual",82],"(",["T_VARIABLE","$bubbleable_metadata",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$metadata_tests",82],"[",["T_VARIABLE","$input",82],"]",")",";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_COMMENT","\/\/ Generate and test unsanitized tokens.\n",85],["T_WHITESPACE","    ",86],["T_VARIABLE","$tests",86],"[",["T_CONSTANT_ENCAPSED_STRING","'[file:name]'",86],"]",["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$file",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getFilename",86],"(",")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$tests",87],"[",["T_CONSTANT_ENCAPSED_STRING","'[file:path]'",87],"]",["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$file",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getFileUri",87],"(",")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$tests",88],"[",["T_CONSTANT_ENCAPSED_STRING","'[file:mime]'",88],"]",["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$file",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getMimeType",88],"(",")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$tests",89],"[",["T_CONSTANT_ENCAPSED_STRING","'[file:size]'",89],"]",["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_STRING","format_size",89],"(",["T_VARIABLE","$file",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getSize",89],"(",")",")",";",["T_WHITESPACE","\n\n    ",89],["T_FOREACH","foreach",91],["T_WHITESPACE"," ",91],"(",["T_VARIABLE","$tests",91],["T_WHITESPACE"," ",91],["T_AS","as",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$input",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$expected",91],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n      ",91],["T_VARIABLE","$output",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$token_service",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","replace",92],"(",["T_VARIABLE","$input",92],",",["T_WHITESPACE"," ",92],["T_ARRAY","array",92],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$file",92],")",",",["T_WHITESPACE"," ",92],["T_ARRAY","array",92],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$language_interface",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getId",92],"(",")",",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'sanitize'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_STRING","FALSE",92],")",")",";",["T_WHITESPACE","\n      ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertEqual",93],"(",["T_VARIABLE","$output",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$expected",93],",",["T_WHITESPACE"," ",93],["T_STRING","format_string",93],"(",["T_CONSTANT_ENCAPSED_STRING","'Unsanitized file token %token replaced.'",93],",",["T_WHITESPACE"," ",93],["T_ARRAY","array",93],"(",["T_CONSTANT_ENCAPSED_STRING","'%token'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$input",93],")",")",")",";",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE","\n  ",94],"}",["T_WHITESPACE","\n\n",95],"}",["T_WHITESPACE","\n",97]]