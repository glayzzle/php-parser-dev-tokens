[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","file",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","file",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","File",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","node",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Node",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Uploads private files to translated node and checks access.\n *\n * @group file\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","PrivateFileOnTranslatedEntityTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","FileFieldTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",15],["T_WHITESPACE","\n  ",17],["T_PUBLIC","public",18],["T_WHITESPACE"," ",18],["T_STATIC","static",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$modules",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_ARRAY","array",18],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",18],",",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","'content_translation'",18],")",";",["T_WHITESPACE","\n\n  ",18],["T_DOC_COMMENT","\/**\n   * The name of the file field used in the test.\n   *\n   * @var string\n   *\/",20],["T_WHITESPACE","\n  ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$fieldName",25],";",["T_WHITESPACE","\n\n  ",25],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",27],["T_WHITESPACE","\n  ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","setUp",30],"(",")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n    ",30],["T_STRING","parent",31],["T_DOUBLE_COLON","::",31],["T_STRING","setUp",31],"(",")",";",["T_WHITESPACE","\n\n    ",31],["T_COMMENT","\/\/ Create the \"Basic page\" node type.\n",33],["T_WHITESPACE","    ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","drupalCreateContentType",34],"(",["T_ARRAY","array",34],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'page'",34],",",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'name'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'Basic page'",34],")",")",";",["T_WHITESPACE","\n\n    ",34],["T_COMMENT","\/\/ Create a file field on the \"Basic page\" node type.\n",36],["T_WHITESPACE","    ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","fieldName",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_STRING","strtolower",37],"(",["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","randomMachineName",37],"(",")",")",";",["T_WHITESPACE","\n    ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","createFileField",38],"(",["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","fieldName",38],",",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'node'",38],",",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'page'",38],",",["T_WHITESPACE"," ",38],["T_ARRAY","array",38],"(",["T_CONSTANT_ENCAPSED_STRING","'uri_scheme'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'private'",38],")",")",";",["T_WHITESPACE","\n\n    ",38],["T_COMMENT","\/\/ Create and log in user.\n",40],["T_WHITESPACE","    ",41],["T_VARIABLE","$permissions",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_ARRAY","array",41],"(",["T_WHITESPACE","\n      ",41],["T_CONSTANT_ENCAPSED_STRING","'access administration pages'",42],",",["T_WHITESPACE","\n      ",42],["T_CONSTANT_ENCAPSED_STRING","'administer content translation'",43],",",["T_WHITESPACE","\n      ",43],["T_CONSTANT_ENCAPSED_STRING","'administer content types'",44],",",["T_WHITESPACE","\n      ",44],["T_CONSTANT_ENCAPSED_STRING","'administer languages'",45],",",["T_WHITESPACE","\n      ",45],["T_CONSTANT_ENCAPSED_STRING","'create content translations'",46],",",["T_WHITESPACE","\n      ",46],["T_CONSTANT_ENCAPSED_STRING","'create page content'",47],",",["T_WHITESPACE","\n      ",47],["T_CONSTANT_ENCAPSED_STRING","'edit any page content'",48],",",["T_WHITESPACE","\n      ",48],["T_CONSTANT_ENCAPSED_STRING","'translate any entity'",49],",",["T_WHITESPACE","\n    ",49],")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$admin_user",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","drupalCreateUser",51],"(",["T_VARIABLE","$permissions",51],")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","drupalLogin",52],"(",["T_VARIABLE","$admin_user",52],")",";",["T_WHITESPACE","\n\n    ",52],["T_COMMENT","\/\/ Add a second language.\n",54],["T_WHITESPACE","    ",55],["T_VARIABLE","$edit",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$edit",56],"[",["T_CONSTANT_ENCAPSED_STRING","'predefined_langcode'",56],"]",["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'fr'",56],";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","drupalPostForm",57],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/language\/add'",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$edit",57],",",["T_WHITESPACE"," ",57],["T_STRING","t",57],"(",["T_CONSTANT_ENCAPSED_STRING","'Add language'",57],")",")",";",["T_WHITESPACE","\n\n    ",57],["T_COMMENT","\/\/ Enable translation for \"Basic page\" nodes.\n",59],["T_WHITESPACE","    ",60],["T_VARIABLE","$edit",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_ARRAY","array",60],"(",["T_WHITESPACE","\n      ",60],["T_CONSTANT_ENCAPSED_STRING","'entity_types[node]'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_LNUMBER","1",61],",",["T_WHITESPACE","\n      ",61],["T_CONSTANT_ENCAPSED_STRING","'settings[node][page][translatable]'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_LNUMBER","1",62],",",["T_WHITESPACE","\n      ",62],"\"",["T_ENCAPSED_AND_WHITESPACE","settings[node][page][fields][",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","fieldName",63],["T_ENCAPSED_AND_WHITESPACE","]",63],"\"",["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_LNUMBER","1",63],",",["T_WHITESPACE","\n    ",63],")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","drupalPostForm",65],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/content-language'",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$edit",65],",",["T_WHITESPACE"," ",65],["T_STRING","t",65],"(",["T_CONSTANT_ENCAPSED_STRING","'Save configuration'",65],")",")",";",["T_WHITESPACE","\n    ",65],["T_NS_SEPARATOR","\\",66],["T_STRING","Drupal",66],["T_DOUBLE_COLON","::",66],["T_STRING","entityManager",66],"(",")",["T_OBJECT_OPERATOR","->",66],["T_STRING","clearCachedDefinitions",66],"(",")",";",["T_WHITESPACE","\n  ",66],"}",["T_WHITESPACE","\n\n  ",67],["T_DOC_COMMENT","\/**\n   * Tests private file fields on translated nodes.\n   *\/",69],["T_WHITESPACE","\n  ",71],["T_PUBLIC","public",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","testPrivateLanguageFile",72],"(",")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n    ",72],["T_COMMENT","\/\/ Verify that the file field on the \"Basic page\" node type is translatable.\n",73],["T_WHITESPACE","    ",74],["T_VARIABLE","$definitions",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Drupal",74],["T_DOUBLE_COLON","::",74],["T_STRING","entityManager",74],"(",")",["T_OBJECT_OPERATOR","->",74],["T_STRING","getFieldDefinitions",74],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",74],",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'page'",74],")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertTrue",75],"(",["T_VARIABLE","$definitions",75],"[",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","fieldName",75],"]",["T_OBJECT_OPERATOR","->",75],["T_STRING","isTranslatable",75],"(",")",",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'Node file field is translatable.'",75],")",";",["T_WHITESPACE","\n\n    ",75],["T_COMMENT","\/\/ Create a default language node.\n",77],["T_WHITESPACE","    ",78],["T_VARIABLE","$default_language_node",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","drupalCreateNode",78],"(",["T_ARRAY","array",78],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'page'",78],")",")",";",["T_WHITESPACE","\n\n    ",78],["T_COMMENT","\/\/ Edit the node to upload a file.\n",80],["T_WHITESPACE","    ",81],["T_VARIABLE","$edit",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_ARRAY","array",81],"(",")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$name",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'files['",82],["T_WHITESPACE"," ",82],".",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","fieldName",82],["T_WHITESPACE"," ",82],".",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'_0]'",82],";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$edit",83],"[",["T_VARIABLE","$name",83],"]",["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","drupal_realpath",83],"(",["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","drupalGetTestFiles",83],"(",["T_CONSTANT_ENCAPSED_STRING","'text'",83],")","[",["T_LNUMBER","0",83],"]",["T_OBJECT_OPERATOR","->",83],["T_STRING","uri",83],")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","drupalPostForm",84],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",84],["T_WHITESPACE"," ",84],".",["T_WHITESPACE"," ",84],["T_VARIABLE","$default_language_node",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","id",84],"(",")",["T_WHITESPACE"," ",84],".",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$edit",84],",",["T_WHITESPACE"," ",84],["T_STRING","t",84],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",84],")",")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$last_fid_prior",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getLastFileId",85],"(",")",";",["T_WHITESPACE","\n\n    ",85],["T_COMMENT","\/\/ Languages are cached on many levels, and we need to clear those caches.\n",87],["T_WHITESPACE","    ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","rebuildContainer",88],"(",")",";",["T_WHITESPACE","\n\n    ",88],["T_COMMENT","\/\/ Ensure the file can be downloaded.\n",90],["T_WHITESPACE","    ",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Drupal",91],["T_DOUBLE_COLON","::",91],["T_STRING","entityManager",91],"(",")",["T_OBJECT_OPERATOR","->",91],["T_STRING","getStorage",91],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",91],")",["T_OBJECT_OPERATOR","->",91],["T_STRING","resetCache",91],"(",["T_ARRAY","array",91],"(",["T_VARIABLE","$default_language_node",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","id",91],"(",")",")",")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$node",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_STRING","Node",92],["T_DOUBLE_COLON","::",92],["T_STRING","load",92],"(",["T_VARIABLE","$default_language_node",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","id",92],"(",")",")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$node_file",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","File",93],["T_DOUBLE_COLON","::",93],["T_STRING","load",93],"(",["T_VARIABLE","$node",93],["T_OBJECT_OPERATOR","->",93],"{",["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","fieldName",93],"}",["T_OBJECT_OPERATOR","->",93],["T_STRING","target_id",93],")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","drupalGet",94],"(",["T_STRING","file_create_url",94],"(",["T_VARIABLE","$node_file",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getFileUri",94],"(",")",")",")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertResponse",95],"(",["T_LNUMBER","200",95],",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'Confirmed that the file attached to the English node can be downloaded.'",95],")",";",["T_WHITESPACE","\n\n    ",95],["T_COMMENT","\/\/ Translate the node into French.\n",97],["T_WHITESPACE","    ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","drupalGet",98],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",98],["T_WHITESPACE"," ",98],".",["T_WHITESPACE"," ",98],["T_VARIABLE","$default_language_node",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","id",98],"(",")",["T_WHITESPACE"," ",98],".",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'\/translations'",98],")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","clickLink",99],"(",["T_STRING","t",99],"(",["T_CONSTANT_ENCAPSED_STRING","'Add'",99],")",")",";",["T_WHITESPACE","\n\n    ",99],["T_COMMENT","\/\/ Remove the existing file.\n",101],["T_WHITESPACE","    ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","drupalPostForm",102],"(",["T_STRING","NULL",102],",",["T_WHITESPACE"," ",102],["T_ARRAY","array",102],"(",")",",",["T_WHITESPACE"," ",102],["T_STRING","t",102],"(",["T_CONSTANT_ENCAPSED_STRING","'Remove'",102],")",")",";",["T_WHITESPACE","\n\n    ",102],["T_COMMENT","\/\/ Upload a different file.\n",104],["T_WHITESPACE","    ",105],["T_VARIABLE","$edit",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_ARRAY","array",105],"(",")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$edit",106],"[",["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",106],"]",["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","randomMachineName",106],"(",")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$name",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'files['",107],["T_WHITESPACE"," ",107],".",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","fieldName",107],["T_WHITESPACE"," ",107],".",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'_0]'",107],";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$edit",108],"[",["T_VARIABLE","$name",108],"]",["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_STRING","drupal_realpath",108],"(",["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","drupalGetTestFiles",108],"(",["T_CONSTANT_ENCAPSED_STRING","'text'",108],")","[",["T_LNUMBER","1",108],"]",["T_OBJECT_OPERATOR","->",108],["T_STRING","uri",108],")",";",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","drupalPostForm",109],"(",["T_STRING","NULL",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$edit",109],",",["T_WHITESPACE"," ",109],["T_STRING","t",109],"(",["T_CONSTANT_ENCAPSED_STRING","'Save (this translation)'",109],")",")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$last_fid",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getLastFileId",110],"(",")",";",["T_WHITESPACE","\n\n    ",110],["T_COMMENT","\/\/ Verify the translation was created.\n",112],["T_WHITESPACE","    ",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Drupal",113],["T_DOUBLE_COLON","::",113],["T_STRING","entityManager",113],"(",")",["T_OBJECT_OPERATOR","->",113],["T_STRING","getStorage",113],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",113],")",["T_OBJECT_OPERATOR","->",113],["T_STRING","resetCache",113],"(",["T_ARRAY","array",113],"(",["T_VARIABLE","$default_language_node",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","id",113],"(",")",")",")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$default_language_node",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_STRING","Node",114],["T_DOUBLE_COLON","::",114],["T_STRING","load",114],"(",["T_VARIABLE","$default_language_node",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","id",114],"(",")",")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","assertTrue",115],"(",["T_VARIABLE","$default_language_node",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","hasTranslation",115],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",115],")",",",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'Node found in database.'",115],")",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","assertTrue",116],"(",["T_VARIABLE","$last_fid",116],["T_WHITESPACE"," ",116],">",["T_WHITESPACE"," ",116],["T_VARIABLE","$last_fid_prior",116],",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'New file got saved.'",116],")",";",["T_WHITESPACE","\n\n    ",116],["T_COMMENT","\/\/ Ensure the file attached to the translated node can be downloaded.\n",118],["T_WHITESPACE","    ",119],["T_VARIABLE","$french_node",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$default_language_node",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getTranslation",119],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",119],")",";",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$node_file",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_STRING","File",120],["T_DOUBLE_COLON","::",120],["T_STRING","load",120],"(",["T_VARIABLE","$french_node",120],["T_OBJECT_OPERATOR","->",120],"{",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","fieldName",120],"}",["T_OBJECT_OPERATOR","->",120],["T_STRING","target_id",120],")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","drupalGet",121],"(",["T_STRING","file_create_url",121],"(",["T_VARIABLE","$node_file",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getFileUri",121],"(",")",")",")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertResponse",122],"(",["T_LNUMBER","200",122],",",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'Confirmed that the file attached to the French node can be downloaded.'",122],")",";",["T_WHITESPACE","\n  ",122],"}",["T_WHITESPACE","\n\n",123],"}",["T_WHITESPACE","\n",125]]