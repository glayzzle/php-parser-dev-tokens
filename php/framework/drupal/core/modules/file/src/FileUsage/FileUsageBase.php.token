[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","file",3],["T_NS_SEPARATOR","\\",3],["T_STRING","FileUsage",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","file",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FileInterface",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Defines the base class for database file usage backend.\n *\/",7],["T_WHITESPACE","\n",9],["T_ABSTRACT","abstract",10],["T_WHITESPACE"," ",10],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","FileUsageBase",10],["T_WHITESPACE"," ",10],["T_IMPLEMENTS","implements",10],["T_WHITESPACE"," ",10],["T_STRING","FileUsageInterface",10],["T_WHITESPACE"," ",10],"{",["T_WHITESPACE","\n\n  ",10],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",12],["T_WHITESPACE","\n  ",14],["T_PUBLIC","public",15],["T_WHITESPACE"," ",15],["T_FUNCTION","function",15],["T_WHITESPACE"," ",15],["T_STRING","add",15],"(",["T_STRING","FileInterface",15],["T_WHITESPACE"," ",15],["T_VARIABLE","$file",15],",",["T_WHITESPACE"," ",15],["T_VARIABLE","$module",15],",",["T_WHITESPACE"," ",15],["T_VARIABLE","$type",15],",",["T_WHITESPACE"," ",15],["T_VARIABLE","$id",15],",",["T_WHITESPACE"," ",15],["T_VARIABLE","$count",15],["T_WHITESPACE"," ",15],"=",["T_WHITESPACE"," ",15],["T_LNUMBER","1",15],")",["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n    ",15],["T_COMMENT","\/\/ Make sure that a used file is permanent.\n",16],["T_WHITESPACE","    ",17],["T_IF","if",17],["T_WHITESPACE"," ",17],"(","!",["T_VARIABLE","$file",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","isPermanent",17],"(",")",")",["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n      ",17],["T_VARIABLE","$file",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","setPermanent",18],"(",")",";",["T_WHITESPACE","\n      ",18],["T_VARIABLE","$file",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","save",19],"(",")",";",["T_WHITESPACE","\n    ",19],"}",["T_WHITESPACE","\n  ",20],"}",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",23],["T_WHITESPACE","\n  ",25],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","delete",26],"(",["T_STRING","FileInterface",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$file",26],",",["T_WHITESPACE"," ",26],["T_VARIABLE","$module",26],",",["T_WHITESPACE"," ",26],["T_VARIABLE","$type",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_STRING","NULL",26],",",["T_WHITESPACE"," ",26],["T_VARIABLE","$id",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_STRING","NULL",26],",",["T_WHITESPACE"," ",26],["T_VARIABLE","$count",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_LNUMBER","1",26],")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n    ",26],["T_COMMENT","\/\/ If there are no more remaining usages of this file, mark it as temporary,\n",27],["T_WHITESPACE","    ",28],["T_COMMENT","\/\/ which result in a delete through system_cron().\n",28],["T_WHITESPACE","    ",29],["T_VARIABLE","$usage",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Drupal",29],["T_DOUBLE_COLON","::",29],["T_STRING","service",29],"(",["T_CONSTANT_ENCAPSED_STRING","'file.usage'",29],")",["T_OBJECT_OPERATOR","->",29],["T_STRING","listUsage",29],"(",["T_VARIABLE","$file",29],")",";",["T_WHITESPACE","\n    ",29],["T_IF","if",30],["T_WHITESPACE"," ",30],"(",["T_EMPTY","empty",30],"(",["T_VARIABLE","$usage",30],")",")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n      ",30],["T_VARIABLE","$file",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","setTemporary",31],"(",")",";",["T_WHITESPACE","\n      ",31],["T_VARIABLE","$file",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","save",32],"(",")",";",["T_WHITESPACE","\n    ",32],"}",["T_WHITESPACE","\n  ",33],"}",["T_WHITESPACE","\n\n",34],"}",["T_WHITESPACE","\n",36]]