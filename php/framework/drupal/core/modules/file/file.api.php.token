[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_DOC_COMMENT","\/**\n * @file\n * Hooks for file module.\n *\/",3],["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * @addtogroup hooks\n * @{\n *\/",8],["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Check that files meet a given criteria.\n *\n * This hook lets modules perform additional validation on files. They're able\n * to report a failure by returning one or more error messages.\n *\n * @param \\Drupal\\file\\FileInterface $file\n *   The file entity being validated.\n * @return array\n *   An array of error messages. If there are no problems with the file return\n *   an empty array.\n *\n * @see file_validate()\n *\/",13],["T_WHITESPACE","\n",26],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","hook_file_validate",27],"(",["T_STRING","Drupal",27],["T_NS_SEPARATOR","\\",27],["T_STRING","file",27],["T_NS_SEPARATOR","\\",27],["T_STRING","FileInterface",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$file",27],")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n  ",27],["T_VARIABLE","$errors",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_ARRAY","array",28],"(",")",";",["T_WHITESPACE","\n\n  ",28],["T_IF","if",30],["T_WHITESPACE"," ",30],"(","!",["T_VARIABLE","$file",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","getFilename",30],"(",")",")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$errors",31],"[","]",["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_STRING","t",31],"(",["T_CONSTANT_ENCAPSED_STRING","\"The file's name is empty. Please give a name to the file.\"",31],")",";",["T_WHITESPACE","\n  ",31],"}",["T_WHITESPACE","\n  ",32],["T_IF","if",33],["T_WHITESPACE"," ",33],"(",["T_STRING","strlen",33],"(",["T_VARIABLE","$file",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","getFilename",33],"(",")",")",["T_WHITESPACE"," ",33],">",["T_WHITESPACE"," ",33],["T_LNUMBER","255",33],")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$errors",34],"[","]",["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_STRING","t",34],"(",["T_CONSTANT_ENCAPSED_STRING","\"The file's name exceeds the 255 characters limit. Please rename the file and try again.\"",34],")",";",["T_WHITESPACE","\n  ",34],"}",["T_WHITESPACE","\n\n  ",35],["T_RETURN","return",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$errors",37],";",["T_WHITESPACE","\n",37],"}",["T_WHITESPACE","\n\n",38],["T_DOC_COMMENT","\/**\n * Respond to a file that has been copied.\n *\n * @param \\Drupal\\file\\FileInterface $file\n *   The newly copied file entity.\n * @param \\Drupal\\file\\FileInterface $source\n *   The original file before the copy.\n *\n * @see file_copy()\n *\/",40],["T_WHITESPACE","\n",49],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","hook_file_copy",50],"(",["T_STRING","Drupal",50],["T_NS_SEPARATOR","\\",50],["T_STRING","file",50],["T_NS_SEPARATOR","\\",50],["T_STRING","FileInterface",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$file",50],",",["T_WHITESPACE"," ",50],["T_STRING","Drupal",50],["T_NS_SEPARATOR","\\",50],["T_STRING","file",50],["T_NS_SEPARATOR","\\",50],["T_STRING","FileInterface",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$source",50],")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n  ",50],["T_COMMENT","\/\/ Make sure that the file name starts with the owner's user name.\n",51],["T_WHITESPACE","  ",52],["T_IF","if",52],["T_WHITESPACE"," ",52],"(",["T_STRING","strpos",52],"(",["T_VARIABLE","$file",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getFilename",52],"(",")",",",["T_WHITESPACE"," ",52],["T_VARIABLE","$file",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getOwner",52],"(",")",["T_OBJECT_OPERATOR","->",52],["T_STRING","name",52],")",["T_WHITESPACE"," ",52],["T_IS_NOT_IDENTICAL","!==",52],["T_WHITESPACE"," ",52],["T_LNUMBER","0",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$file",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","setFilename",53],"(",["T_VARIABLE","$file",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getOwner",53],"(",")",["T_OBJECT_OPERATOR","->",53],["T_STRING","name",53],["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'_'",53],["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_VARIABLE","$file",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getFilename",53],"(",")",")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$file",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","save",54],"(",")",";",["T_WHITESPACE","\n\n    ",54],["T_NS_SEPARATOR","\\",56],["T_STRING","Drupal",56],["T_DOUBLE_COLON","::",56],["T_STRING","logger",56],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",56],")",["T_OBJECT_OPERATOR","->",56],["T_STRING","notice",56],"(",["T_CONSTANT_ENCAPSED_STRING","'Copied file %source has been renamed to %destination'",56],",",["T_WHITESPACE"," ",56],["T_ARRAY","array",56],"(",["T_CONSTANT_ENCAPSED_STRING","'%source'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$source",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","filename",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'%destination'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$file",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getFilename",56],"(",")",")",")",";",["T_WHITESPACE","\n  ",56],"}",["T_WHITESPACE","\n",57],"}",["T_WHITESPACE","\n\n",58],["T_DOC_COMMENT","\/**\n * Respond to a file that has been moved.\n *\n * @param \\Drupal\\file\\FileInterface $file\n *   The updated file entity after the move.\n * @param \\Drupal\\file\\FileInterface $source\n *   The original file entity before the move.\n *\n * @see file_move()\n *\/",60],["T_WHITESPACE","\n",69],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","hook_file_move",70],"(",["T_STRING","Drupal",70],["T_NS_SEPARATOR","\\",70],["T_STRING","file",70],["T_NS_SEPARATOR","\\",70],["T_STRING","FileInterface",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$file",70],",",["T_WHITESPACE"," ",70],["T_STRING","Drupal",70],["T_NS_SEPARATOR","\\",70],["T_STRING","file",70],["T_NS_SEPARATOR","\\",70],["T_STRING","FileInterface",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$source",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n  ",70],["T_COMMENT","\/\/ Make sure that the file name starts with the owner's user name.\n",71],["T_WHITESPACE","  ",72],["T_IF","if",72],["T_WHITESPACE"," ",72],"(",["T_STRING","strpos",72],"(",["T_VARIABLE","$file",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getFilename",72],"(",")",",",["T_WHITESPACE"," ",72],["T_VARIABLE","$file",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getOwner",72],"(",")",["T_OBJECT_OPERATOR","->",72],["T_STRING","name",72],")",["T_WHITESPACE"," ",72],["T_IS_NOT_IDENTICAL","!==",72],["T_WHITESPACE"," ",72],["T_LNUMBER","0",72],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$file",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","setFilename",73],"(",["T_VARIABLE","$file",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getOwner",73],"(",")",["T_OBJECT_OPERATOR","->",73],["T_STRING","name",73],["T_WHITESPACE"," ",73],".",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'_'",73],["T_WHITESPACE"," ",73],".",["T_WHITESPACE"," ",73],["T_VARIABLE","$file",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getFilename",73],"(",")",")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$file",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","save",74],"(",")",";",["T_WHITESPACE","\n\n    ",74],["T_NS_SEPARATOR","\\",76],["T_STRING","Drupal",76],["T_DOUBLE_COLON","::",76],["T_STRING","logger",76],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",76],")",["T_OBJECT_OPERATOR","->",76],["T_STRING","notice",76],"(",["T_CONSTANT_ENCAPSED_STRING","'Moved file %source has been renamed to %destination'",76],",",["T_WHITESPACE"," ",76],["T_ARRAY","array",76],"(",["T_CONSTANT_ENCAPSED_STRING","'%source'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$source",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","filename",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'%destination'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$file",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getFilename",76],"(",")",")",")",";",["T_WHITESPACE","\n  ",76],"}",["T_WHITESPACE","\n",77],"}",["T_WHITESPACE","\n\n",78],["T_DOC_COMMENT","\/**\n * @} End of \"addtogroup hooks\".\n *\/",80],["T_WHITESPACE","\n",82]]