[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","file",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","migrate",3],["T_NS_SEPARATOR","\\",3],["T_STRING","source",3],["T_NS_SEPARATOR","\\",3],["T_STRING","d7",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Tests",5],["T_NS_SEPARATOR","\\",5],["T_STRING","migrate",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Kernel",5],["T_NS_SEPARATOR","\\",5],["T_STRING","MigrateSqlSourceTestBase",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests D7 file source plugin.\n *\n * @covers \\Drupal\\file\\Plugin\\migrate\\source\\d7\\File\n * @group file\n *\/",7],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","FileTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","MigrateSqlSourceTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",15],["T_WHITESPACE","\n  ",17],["T_PUBLIC","public",18],["T_WHITESPACE"," ",18],["T_STATIC","static",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$modules",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",18],",",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","'migrate_drupal'",18],"]",";",["T_WHITESPACE","\n\n  ",18],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",20],["T_WHITESPACE","\n  ",22],["T_PUBLIC","public",23],["T_WHITESPACE"," ",23],["T_FUNCTION","function",23],["T_WHITESPACE"," ",23],["T_STRING","providerSource",23],"(",")",["T_WHITESPACE"," ",23],"{",["T_WHITESPACE","\n    ",23],["T_VARIABLE","$tests",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],"[","]",";",["T_WHITESPACE","\n\n    ",24],["T_VARIABLE","$tests",26],"[",["T_LNUMBER","0",26],"]","[",["T_CONSTANT_ENCAPSED_STRING","'source_data'",26],"]","[",["T_CONSTANT_ENCAPSED_STRING","'file_managed'",26],"]",["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],"[",["T_WHITESPACE","\n      ",26],["T_COMMENT","\/\/ A public file.\n",27],["T_WHITESPACE","      ",28],"[",["T_WHITESPACE","\n        ",28],["T_CONSTANT_ENCAPSED_STRING","'fid'",29],["T_WHITESPACE"," ",29],["T_DOUBLE_ARROW","=>",29],["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'1'",29],",",["T_WHITESPACE","\n        ",29],["T_CONSTANT_ENCAPSED_STRING","'uid'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'1'",30],",",["T_WHITESPACE","\n        ",30],["T_CONSTANT_ENCAPSED_STRING","'filename'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'cube.jpeg'",31],",",["T_WHITESPACE","\n        ",31],["T_CONSTANT_ENCAPSED_STRING","'uri'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'public:\/\/cube.jpeg'",32],",",["T_WHITESPACE","\n        ",32],["T_CONSTANT_ENCAPSED_STRING","'filemime'",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'image\/jpeg'",33],",",["T_WHITESPACE","\n        ",33],["T_CONSTANT_ENCAPSED_STRING","'filesize'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'3620'",34],",",["T_WHITESPACE","\n        ",34],["T_CONSTANT_ENCAPSED_STRING","'status'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'1'",35],",",["T_WHITESPACE","\n        ",35],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'1421727515'",36],",",["T_WHITESPACE","\n      ",36],"]",",",["T_WHITESPACE","\n      ",37],["T_COMMENT","\/\/ A private file.\n",38],["T_WHITESPACE","      ",39],"[",["T_WHITESPACE","\n        ",39],["T_CONSTANT_ENCAPSED_STRING","'fid'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'1'",40],",",["T_WHITESPACE","\n        ",40],["T_CONSTANT_ENCAPSED_STRING","'uid'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'1'",41],",",["T_WHITESPACE","\n        ",41],["T_CONSTANT_ENCAPSED_STRING","'filename'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'cube.jpeg'",42],",",["T_WHITESPACE","\n        ",42],["T_CONSTANT_ENCAPSED_STRING","'uri'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'private:\/\/cube.jpeg'",43],",",["T_WHITESPACE","\n        ",43],["T_CONSTANT_ENCAPSED_STRING","'filemime'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'image\/jpeg'",44],",",["T_WHITESPACE","\n        ",44],["T_CONSTANT_ENCAPSED_STRING","'filesize'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'3620'",45],",",["T_WHITESPACE","\n        ",45],["T_CONSTANT_ENCAPSED_STRING","'status'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'1'",46],",",["T_WHITESPACE","\n        ",46],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'1421727515'",47],",",["T_WHITESPACE","\n      ",47],"]",",",["T_WHITESPACE","\n      ",48],["T_COMMENT","\/\/ A temporary file.\n",49],["T_WHITESPACE","      ",50],"[",["T_WHITESPACE","\n        ",50],["T_CONSTANT_ENCAPSED_STRING","'fid'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'1'",51],",",["T_WHITESPACE","\n        ",51],["T_CONSTANT_ENCAPSED_STRING","'uid'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'1'",52],",",["T_WHITESPACE","\n        ",52],["T_CONSTANT_ENCAPSED_STRING","'filename'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'cube.jpeg'",53],",",["T_WHITESPACE","\n        ",53],["T_CONSTANT_ENCAPSED_STRING","'uri'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'temporary:\/\/cube.jpeg'",54],",",["T_WHITESPACE","\n        ",54],["T_CONSTANT_ENCAPSED_STRING","'filemime'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'image\/jpeg'",55],",",["T_WHITESPACE","\n        ",55],["T_CONSTANT_ENCAPSED_STRING","'filesize'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'3620'",56],",",["T_WHITESPACE","\n        ",56],["T_CONSTANT_ENCAPSED_STRING","'status'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'1'",57],",",["T_WHITESPACE","\n        ",57],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'1421727515'",58],",",["T_WHITESPACE","\n      ",58],"]",",",["T_WHITESPACE","\n      ",59],["T_COMMENT","\/\/ A file with a URI scheme that will be filtered out.\n",60],["T_WHITESPACE","      ",61],"[",["T_WHITESPACE","\n        ",61],["T_CONSTANT_ENCAPSED_STRING","'fid'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'1'",62],",",["T_WHITESPACE","\n        ",62],["T_CONSTANT_ENCAPSED_STRING","'uid'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'1'",63],",",["T_WHITESPACE","\n        ",63],["T_CONSTANT_ENCAPSED_STRING","'filename'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'cube.jpeg'",64],",",["T_WHITESPACE","\n        ",64],["T_CONSTANT_ENCAPSED_STRING","'uri'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'null:\/\/cube.jpeg'",65],",",["T_WHITESPACE","\n        ",65],["T_CONSTANT_ENCAPSED_STRING","'filemime'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'image\/jpeg'",66],",",["T_WHITESPACE","\n        ",66],["T_CONSTANT_ENCAPSED_STRING","'filesize'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'3620'",67],",",["T_WHITESPACE","\n        ",67],["T_CONSTANT_ENCAPSED_STRING","'status'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'1'",68],",",["T_WHITESPACE","\n        ",68],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'1421727515'",69],",",["T_WHITESPACE","\n      ",69],"]",",",["T_WHITESPACE","\n    ",70],"]",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$tests",72],"[",["T_LNUMBER","0",72],"]","[",["T_CONSTANT_ENCAPSED_STRING","'source_data'",72],"]","[",["T_CONSTANT_ENCAPSED_STRING","'variable'",72],"]",["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],"[",["T_WHITESPACE","\n      ",72],"[",["T_WHITESPACE","\n        ",73],["T_CONSTANT_ENCAPSED_STRING","'name'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'file_public_path'",74],",",["T_WHITESPACE","\n        ",74],["T_CONSTANT_ENCAPSED_STRING","'value'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_STRING","serialize",75],"(",["T_CONSTANT_ENCAPSED_STRING","'sites\/default\/files'",75],")",",",["T_WHITESPACE","\n      ",75],"]",",",["T_WHITESPACE","\n      ",76],"[",["T_WHITESPACE","\n        ",77],["T_CONSTANT_ENCAPSED_STRING","'name'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'file_private_path'",78],",",["T_WHITESPACE","\n        ",78],["T_CONSTANT_ENCAPSED_STRING","'value'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_STRING","serialize",79],"(",["T_CONSTANT_ENCAPSED_STRING","'\/path\/to\/private\/files'",79],")",",",["T_WHITESPACE","\n      ",79],"]",",",["T_WHITESPACE","\n      ",80],"[",["T_WHITESPACE","\n        ",81],["T_CONSTANT_ENCAPSED_STRING","'name'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'file_temporary_path'",82],",",["T_WHITESPACE","\n        ",82],["T_CONSTANT_ENCAPSED_STRING","'value'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_STRING","serialize",83],"(",["T_CONSTANT_ENCAPSED_STRING","'\/tmp'",83],")",",",["T_WHITESPACE","\n      ",83],"]",",",["T_WHITESPACE","\n    ",84],"]",";",["T_WHITESPACE","\n\n    ",85],["T_COMMENT","\/\/ The expected results will include only the first three files, since we\n",87],["T_WHITESPACE","    ",88],["T_COMMENT","\/\/ are configuring the plugin to filter out the file with the null URI\n",88],["T_WHITESPACE","    ",89],["T_COMMENT","\/\/ scheme.\n",89],["T_WHITESPACE","    ",90],["T_VARIABLE","$tests",90],"[",["T_LNUMBER","0",90],"]","[",["T_CONSTANT_ENCAPSED_STRING","'expected_data'",90],"]",["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_STRING","array_slice",90],"(",["T_VARIABLE","$tests",90],"[",["T_LNUMBER","0",90],"]","[",["T_CONSTANT_ENCAPSED_STRING","'source_data'",90],"]","[",["T_CONSTANT_ENCAPSED_STRING","'file_managed'",90],"]",",",["T_WHITESPACE"," ",90],["T_LNUMBER","0",90],",",["T_WHITESPACE"," ",90],["T_LNUMBER","3",90],")",";",["T_WHITESPACE","\n\n    ",90],["T_COMMENT","\/\/ The filepath property will vary by URI scheme.\n",92],["T_WHITESPACE","    ",93],["T_VARIABLE","$tests",93],"[",["T_LNUMBER","0",93],"]","[",["T_CONSTANT_ENCAPSED_STRING","'expected_data'",93],"]","[",["T_LNUMBER","0",93],"]","[",["T_CONSTANT_ENCAPSED_STRING","'filepath'",93],"]",["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'sites\/default\/files\/cube.jpeg'",93],";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$tests",94],"[",["T_LNUMBER","0",94],"]","[",["T_CONSTANT_ENCAPSED_STRING","'expected_data'",94],"]","[",["T_LNUMBER","1",94],"]","[",["T_CONSTANT_ENCAPSED_STRING","'filepath'",94],"]",["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'\/path\/to\/private\/files\/cube.jpeg'",94],";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$tests",95],"[",["T_LNUMBER","0",95],"]","[",["T_CONSTANT_ENCAPSED_STRING","'expected_data'",95],"]","[",["T_LNUMBER","2",95],"]","[",["T_CONSTANT_ENCAPSED_STRING","'filepath'",95],"]",["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'\/tmp\/cube.jpeg'",95],";",["T_WHITESPACE","\n\n    ",95],["T_COMMENT","\/\/ Do an automatic count.\n",97],["T_WHITESPACE","    ",98],["T_VARIABLE","$tests",98],"[",["T_LNUMBER","0",98],"]","[",["T_CONSTANT_ENCAPSED_STRING","'expected_count'",98],"]",["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","NULL",98],";",["T_WHITESPACE","\n\n    ",98],["T_COMMENT","\/\/ Set up plugin configuration.\n",100],["T_WHITESPACE","    ",101],["T_VARIABLE","$tests",101],"[",["T_LNUMBER","0",101],"]","[",["T_CONSTANT_ENCAPSED_STRING","'configuration'",101],"]",["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],"[",["T_WHITESPACE","\n      ",101],["T_CONSTANT_ENCAPSED_STRING","'constants'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],"[",["T_WHITESPACE","\n        ",102],["T_CONSTANT_ENCAPSED_STRING","'source_base_path'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'\/path\/to\/files'",103],",",["T_WHITESPACE","\n      ",103],"]",",",["T_WHITESPACE","\n      ",104],["T_COMMENT","\/\/ Only return files which use one of these URI schemes.\n",105],["T_WHITESPACE","      ",106],["T_CONSTANT_ENCAPSED_STRING","'scheme'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],"[",["T_CONSTANT_ENCAPSED_STRING","'public'",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'private'",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'temporary'",106],"]",",",["T_WHITESPACE","\n    ",106],"]",";",["T_WHITESPACE","\n\n    ",107],["T_RETURN","return",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$tests",109],";",["T_WHITESPACE","\n  ",109],"}",["T_WHITESPACE","\n\n",110],"}",["T_WHITESPACE","\n",112]]