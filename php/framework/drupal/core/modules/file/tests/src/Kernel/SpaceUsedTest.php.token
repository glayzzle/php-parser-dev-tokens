[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","file",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],";",["T_WHITESPACE","\n",3],["T_USE","use",4],["T_WHITESPACE"," ",4],["T_STRING","Drupal",4],["T_NS_SEPARATOR","\\",4],["T_STRING","file",4],["T_NS_SEPARATOR","\\",4],["T_STRING","Entity",4],["T_NS_SEPARATOR","\\",4],["T_STRING","File",4],";",["T_WHITESPACE","\n\n",4],["T_DOC_COMMENT","\/**\n * Tests the spaceUsed() function.\n *\n * @group file\n *\/",6],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","SpaceUsedTest",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_STRING","FileManagedUnitTestBase",11],["T_WHITESPACE"," ",11],"{",["T_WHITESPACE","\n  ",11],["T_PROTECTED","protected",12],["T_WHITESPACE"," ",12],["T_FUNCTION","function",12],["T_WHITESPACE"," ",12],["T_STRING","setUp",12],"(",")",["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n    ",12],["T_STRING","parent",13],["T_DOUBLE_COLON","::",13],["T_STRING","setUp",13],"(",")",";",["T_WHITESPACE","\n\n    ",13],["T_COMMENT","\/\/ Create records for a couple of users with different sizes.\n",15],["T_WHITESPACE","    ",16],["T_VARIABLE","$this",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","createFileWithSize",16],"(",["T_CONSTANT_ENCAPSED_STRING","'public:\/\/example1.txt'",16],",",["T_WHITESPACE"," ",16],["T_LNUMBER","50",16],",",["T_WHITESPACE"," ",16],["T_LNUMBER","2",16],")",";",["T_WHITESPACE","\n    ",16],["T_VARIABLE","$this",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","createFileWithSize",17],"(",["T_CONSTANT_ENCAPSED_STRING","'public:\/\/example2.txt'",17],",",["T_WHITESPACE"," ",17],["T_LNUMBER","20",17],",",["T_WHITESPACE"," ",17],["T_LNUMBER","2",17],")",";",["T_WHITESPACE","\n    ",17],["T_VARIABLE","$this",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","createFileWithSize",18],"(",["T_CONSTANT_ENCAPSED_STRING","'public:\/\/example3.txt'",18],",",["T_WHITESPACE"," ",18],["T_LNUMBER","100",18],",",["T_WHITESPACE"," ",18],["T_LNUMBER","3",18],")",";",["T_WHITESPACE","\n    ",18],["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","createFileWithSize",19],"(",["T_CONSTANT_ENCAPSED_STRING","'public:\/\/example4.txt'",19],",",["T_WHITESPACE"," ",19],["T_LNUMBER","200",19],",",["T_WHITESPACE"," ",19],["T_LNUMBER","3",19],")",";",["T_WHITESPACE","\n\n    ",19],["T_COMMENT","\/\/ Now create some non-permanent files.\n",21],["T_WHITESPACE","    ",22],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","createFileWithSize",22],"(",["T_CONSTANT_ENCAPSED_STRING","'public:\/\/example5.txt'",22],",",["T_WHITESPACE"," ",22],["T_LNUMBER","1",22],",",["T_WHITESPACE"," ",22],["T_LNUMBER","2",22],",",["T_WHITESPACE"," ",22],["T_LNUMBER","0",22],")",";",["T_WHITESPACE","\n    ",22],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","createFileWithSize",23],"(",["T_CONSTANT_ENCAPSED_STRING","'public:\/\/example6.txt'",23],",",["T_WHITESPACE"," ",23],["T_LNUMBER","3",23],",",["T_WHITESPACE"," ",23],["T_LNUMBER","3",23],",",["T_WHITESPACE"," ",23],["T_LNUMBER","0",23],")",";",["T_WHITESPACE","\n  ",23],"}",["T_WHITESPACE","\n\n  ",24],["T_DOC_COMMENT","\/**\n   * Creates a file with a given size.\n   *\n   * @param string $uri\n   *   URI of the file to create.\n   * @param int $size\n   *   Size of the file.\n   * @param int $uid\n   *   File owner ID.\n   * @param int $status\n   *   Whether the file should be permanent or temporary.\n   *\n   * @return \\Drupal\\Core\\Entity\\EntityInterface\n   *   The file entity.\n   *\/",26],["T_WHITESPACE","\n  ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","createFileWithSize",41],"(",["T_VARIABLE","$uri",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$size",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$uid",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$status",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_STRING","FILE_STATUS_PERMANENT",41],")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n    ",41],["T_STRING","file_put_contents",42],"(",["T_VARIABLE","$uri",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","randomMachineName",42],"(",["T_VARIABLE","$size",42],")",")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$file",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_STRING","File",43],["T_DOUBLE_COLON","::",43],["T_STRING","create",43],"(","[",["T_WHITESPACE","\n      ",43],["T_CONSTANT_ENCAPSED_STRING","'uri'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$uri",44],",",["T_WHITESPACE","\n      ",44],["T_CONSTANT_ENCAPSED_STRING","'uid'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$uid",45],",",["T_WHITESPACE","\n      ",45],["T_CONSTANT_ENCAPSED_STRING","'status'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$status",46],",",["T_WHITESPACE","\n    ",46],"]",")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$file",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","save",48],"(",")",";",["T_WHITESPACE","\n    ",48],["T_RETURN","return",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$file",49],";",["T_WHITESPACE","\n  ",49],"}",["T_WHITESPACE","\n\n  ",50],["T_DOC_COMMENT","\/**\n   * Test different users with the default status.\n   *\/",52],["T_WHITESPACE","\n  ",54],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","testFileSpaceUsed",55],"(",")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$file",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","container",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","get",56],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",56],")",["T_OBJECT_OPERATOR","->",56],["T_STRING","getStorage",56],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",56],")",";",["T_WHITESPACE","\n    ",56],["T_COMMENT","\/\/ Test different users with default status.\n",57],["T_WHITESPACE","    ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","assertEqual",58],"(",["T_VARIABLE","$file",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","spaceUsed",58],"(",["T_LNUMBER","2",58],")",",",["T_WHITESPACE"," ",58],["T_LNUMBER","70",58],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","assertEqual",59],"(",["T_VARIABLE","$file",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","spaceUsed",59],"(",["T_LNUMBER","3",59],")",",",["T_WHITESPACE"," ",59],["T_LNUMBER","300",59],")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertEqual",60],"(",["T_VARIABLE","$file",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","spaceUsed",60],"(",")",",",["T_WHITESPACE"," ",60],["T_LNUMBER","370",60],")",";",["T_WHITESPACE","\n\n    ",60],["T_COMMENT","\/\/ Test the status fields\n",62],["T_WHITESPACE","    ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","assertEqual",63],"(",["T_VARIABLE","$file",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","spaceUsed",63],"(",["T_STRING","NULL",63],",",["T_WHITESPACE"," ",63],["T_LNUMBER","0",63],")",",",["T_WHITESPACE"," ",63],["T_LNUMBER","4",63],")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","assertEqual",64],"(",["T_VARIABLE","$file",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","spaceUsed",64],"(",["T_STRING","NULL",64],",",["T_WHITESPACE"," ",64],["T_STRING","FILE_STATUS_PERMANENT",64],")",",",["T_WHITESPACE"," ",64],["T_LNUMBER","370",64],")",";",["T_WHITESPACE","\n\n    ",64],["T_COMMENT","\/\/ Test both the user and status.\n",66],["T_WHITESPACE","    ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","assertEqual",67],"(",["T_VARIABLE","$file",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","spaceUsed",67],"(",["T_LNUMBER","1",67],",",["T_WHITESPACE"," ",67],["T_LNUMBER","0",67],")",",",["T_WHITESPACE"," ",67],["T_LNUMBER","0",67],")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","assertEqual",68],"(",["T_VARIABLE","$file",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","spaceUsed",68],"(",["T_LNUMBER","1",68],",",["T_WHITESPACE"," ",68],["T_STRING","FILE_STATUS_PERMANENT",68],")",",",["T_WHITESPACE"," ",68],["T_LNUMBER","0",68],")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertEqual",69],"(",["T_VARIABLE","$file",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","spaceUsed",69],"(",["T_LNUMBER","2",69],",",["T_WHITESPACE"," ",69],["T_LNUMBER","0",69],")",",",["T_WHITESPACE"," ",69],["T_LNUMBER","1",69],")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertEqual",70],"(",["T_VARIABLE","$file",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","spaceUsed",70],"(",["T_LNUMBER","2",70],",",["T_WHITESPACE"," ",70],["T_STRING","FILE_STATUS_PERMANENT",70],")",",",["T_WHITESPACE"," ",70],["T_LNUMBER","70",70],")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertEqual",71],"(",["T_VARIABLE","$file",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","spaceUsed",71],"(",["T_LNUMBER","3",71],",",["T_WHITESPACE"," ",71],["T_LNUMBER","0",71],")",",",["T_WHITESPACE"," ",71],["T_LNUMBER","3",71],")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertEqual",72],"(",["T_VARIABLE","$file",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","spaceUsed",72],"(",["T_LNUMBER","3",72],",",["T_WHITESPACE"," ",72],["T_STRING","FILE_STATUS_PERMANENT",72],")",",",["T_WHITESPACE"," ",72],["T_LNUMBER","300",72],")",";",["T_WHITESPACE","\n  ",72],"}",["T_WHITESPACE","\n\n",73],"}",["T_WHITESPACE","\n",75]]