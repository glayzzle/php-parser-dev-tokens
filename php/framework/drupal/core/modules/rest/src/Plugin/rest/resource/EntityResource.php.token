[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","rest",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","rest",3],["T_NS_SEPARATOR","\\",3],["T_STRING","resource",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Plugin",5],["T_NS_SEPARATOR","\\",5],["T_STRING","DependentPluginInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Config",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ConfigEntityType",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","EntityTypeManagerInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","FieldableEntityInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Config",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ConfigFactoryInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Entity",10],["T_NS_SEPARATOR","\\",10],["T_STRING","EntityInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Entity",11],["T_NS_SEPARATOR","\\",11],["T_STRING","EntityStorageException",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","rest",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Plugin",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ResourceBase",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","rest",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ResourceResponse",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Psr",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Log",14],["T_NS_SEPARATOR","\\",14],["T_STRING","LoggerInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","DependencyInjection",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ContainerInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Drupal",16],["T_NS_SEPARATOR","\\",16],["T_STRING","rest",16],["T_NS_SEPARATOR","\\",16],["T_STRING","ModifiedResourceResponse",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","HttpKernel",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Exception",17],["T_NS_SEPARATOR","\\",17],["T_STRING","AccessDeniedHttpException",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","HttpKernel",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Exception",18],["T_NS_SEPARATOR","\\",18],["T_STRING","BadRequestHttpException",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Symfony",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Component",19],["T_NS_SEPARATOR","\\",19],["T_STRING","HttpKernel",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Exception",19],["T_NS_SEPARATOR","\\",19],["T_STRING","HttpException",19],";",["T_WHITESPACE","\n\n",19],["T_DOC_COMMENT","\/**\n * Represents entities as resources.\n *\n * @see \\Drupal\\rest\\Plugin\\Deriver\\EntityDeriver\n *\n * @RestResource(\n *   id = \"entity\",\n *   label = @Translation(\"Entity\"),\n *   serialization_class = \"Drupal\\Core\\Entity\\Entity\",\n *   deriver = \"Drupal\\rest\\Plugin\\Deriver\\EntityDeriver\",\n *   uri_paths = {\n *     \"canonical\" = \"\/entity\/{entity_type}\/{entity}\",\n *     \"https:\/\/www.drupal.org\/link-relations\/create\" = \"\/entity\/{entity_type}\"\n *   }\n * )\n *\/",21],["T_WHITESPACE","\n",36],["T_CLASS","class",37],["T_WHITESPACE"," ",37],["T_STRING","EntityResource",37],["T_WHITESPACE"," ",37],["T_EXTENDS","extends",37],["T_WHITESPACE"," ",37],["T_STRING","ResourceBase",37],["T_WHITESPACE"," ",37],["T_IMPLEMENTS","implements",37],["T_WHITESPACE"," ",37],["T_STRING","DependentPluginInterface",37],["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n\n  ",37],["T_DOC_COMMENT","\/**\n   * The entity type targeted by this resource.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityTypeInterface\n   *\/",39],["T_WHITESPACE","\n  ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$entityType",44],";",["T_WHITESPACE","\n\n  ",44],["T_DOC_COMMENT","\/**\n   * The config factory.\n   *\n   * @var \\Drupal\\Core\\Config\\ConfigFactoryInterface\n   *\/",46],["T_WHITESPACE","\n  ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$configFactory",51],";",["T_WHITESPACE","\n\n  ",51],["T_DOC_COMMENT","\/**\n   * Constructs a Drupal\\rest\\Plugin\\rest\\resource\\EntityResource object.\n   *\n   * @param array $configuration\n   *   A configuration array containing information about the plugin instance.\n   * @param string $plugin_id\n   *   The plugin_id for the plugin instance.\n   * @param mixed $plugin_definition\n   *   The plugin implementation definition.\n   * @param \\Drupal\\Core\\Entity\\EntityTypeManagerInterface $entity_type_manager\n   *   The entity type manager\n   * @param array $serializer_formats\n   *   The available serialization formats.\n   * @param \\Psr\\Log\\LoggerInterface $logger\n   *   A logger instance.\n   * @param \\Drupal\\Core\\Config\\ConfigFactoryInterface $config_factory\n   *   The config factory.\n   *\/",53],["T_WHITESPACE","\n  ",70],["T_PUBLIC","public",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","__construct",71],"(",["T_ARRAY","array",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$configuration",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$plugin_id",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$plugin_definition",71],",",["T_WHITESPACE"," ",71],["T_STRING","EntityTypeManagerInterface",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$entity_type_manager",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$serializer_formats",71],",",["T_WHITESPACE"," ",71],["T_STRING","LoggerInterface",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$logger",71],",",["T_WHITESPACE"," ",71],["T_STRING","ConfigFactoryInterface",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$config_factory",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n    ",71],["T_STRING","parent",72],["T_DOUBLE_COLON","::",72],["T_STRING","__construct",72],"(",["T_VARIABLE","$configuration",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$plugin_id",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$plugin_definition",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$serializer_formats",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$logger",72],")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","entityType",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$entity_type_manager",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getDefinition",73],"(",["T_VARIABLE","$plugin_definition",73],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_type'",73],"]",")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","configFactory",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$config_factory",74],";",["T_WHITESPACE","\n  ",74],"}",["T_WHITESPACE","\n\n  ",75],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",77],["T_WHITESPACE","\n  ",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_STATIC","static",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","create",80],"(",["T_STRING","ContainerInterface",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$container",80],",",["T_WHITESPACE"," ",80],["T_ARRAY","array",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$configuration",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$plugin_id",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$plugin_definition",80],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n    ",80],["T_RETURN","return",81],["T_WHITESPACE"," ",81],["T_NEW","new",81],["T_WHITESPACE"," ",81],["T_STATIC","static",81],"(",["T_WHITESPACE","\n      ",81],["T_VARIABLE","$configuration",82],",",["T_WHITESPACE","\n      ",82],["T_VARIABLE","$plugin_id",83],",",["T_WHITESPACE","\n      ",83],["T_VARIABLE","$plugin_definition",84],",",["T_WHITESPACE","\n      ",84],["T_VARIABLE","$container",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","get",85],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",85],")",",",["T_WHITESPACE","\n      ",85],["T_VARIABLE","$container",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getParameter",86],"(",["T_CONSTANT_ENCAPSED_STRING","'serializer.formats'",86],")",",",["T_WHITESPACE","\n      ",86],["T_VARIABLE","$container",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","get",87],"(",["T_CONSTANT_ENCAPSED_STRING","'logger.factory'",87],")",["T_OBJECT_OPERATOR","->",87],["T_STRING","get",87],"(",["T_CONSTANT_ENCAPSED_STRING","'rest'",87],")",",",["T_WHITESPACE","\n      ",87],["T_VARIABLE","$container",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","get",88],"(",["T_CONSTANT_ENCAPSED_STRING","'config.factory'",88],")",["T_WHITESPACE","\n    ",88],")",";",["T_WHITESPACE","\n  ",89],"}",["T_WHITESPACE","\n\n  ",90],["T_DOC_COMMENT","\/**\n   * Responds to entity GET requests.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityInterface $entity\n   *   The entity object.\n   *\n   * @return \\Drupal\\rest\\ResourceResponse\n   *   The response containing the entity with its accessible fields.\n   *\n   * @throws \\Symfony\\Component\\HttpKernel\\Exception\\HttpException\n   *\/",92],["T_WHITESPACE","\n  ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","get",103],"(",["T_STRING","EntityInterface",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$entity",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$entity_access",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$entity",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","access",104],"(",["T_CONSTANT_ENCAPSED_STRING","'view'",104],",",["T_WHITESPACE"," ",104],["T_STRING","NULL",104],",",["T_WHITESPACE"," ",104],["T_STRING","TRUE",104],")",";",["T_WHITESPACE","\n    ",104],["T_IF","if",105],["T_WHITESPACE"," ",105],"(","!",["T_VARIABLE","$entity_access",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","isAllowed",105],"(",")",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n      ",105],["T_THROW","throw",106],["T_WHITESPACE"," ",106],["T_NEW","new",106],["T_WHITESPACE"," ",106],["T_STRING","AccessDeniedHttpException",106],"(",")",";",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n\n    ",107],["T_VARIABLE","$response",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_NEW","new",109],["T_WHITESPACE"," ",109],["T_STRING","ResourceResponse",109],"(",["T_VARIABLE","$entity",109],",",["T_WHITESPACE"," ",109],["T_LNUMBER","200",109],")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$response",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","addCacheableDependency",110],"(",["T_VARIABLE","$entity",110],")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$response",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","addCacheableDependency",111],"(",["T_VARIABLE","$entity_access",111],")",";",["T_WHITESPACE","\n\n    ",111],["T_IF","if",113],["T_WHITESPACE"," ",113],"(",["T_VARIABLE","$entity",113],["T_WHITESPACE"," ",113],["T_INSTANCEOF","instanceof",113],["T_WHITESPACE"," ",113],["T_STRING","FieldableEntityInterface",113],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n      ",113],["T_FOREACH","foreach",114],["T_WHITESPACE"," ",114],"(",["T_VARIABLE","$entity",114],["T_WHITESPACE"," ",114],["T_AS","as",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$field_name",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$field",114],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n        ",114],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Field\\FieldItemListInterface $field *\/",115],["T_WHITESPACE","\n        ",115],["T_VARIABLE","$field_access",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$field",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","access",116],"(",["T_CONSTANT_ENCAPSED_STRING","'view'",116],",",["T_WHITESPACE"," ",116],["T_STRING","NULL",116],",",["T_WHITESPACE"," ",116],["T_STRING","TRUE",116],")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$response",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","addCacheableDependency",117],"(",["T_VARIABLE","$field_access",117],")",";",["T_WHITESPACE","\n\n        ",117],["T_IF","if",119],["T_WHITESPACE"," ",119],"(","!",["T_VARIABLE","$field_access",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","isAllowed",119],"(",")",")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n          ",119],["T_VARIABLE","$entity",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","set",120],"(",["T_VARIABLE","$field_name",120],",",["T_WHITESPACE"," ",120],["T_STRING","NULL",120],")",";",["T_WHITESPACE","\n        ",120],"}",["T_WHITESPACE","\n      ",121],"}",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n\n    ",123],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$response",125],";",["T_WHITESPACE","\n  ",125],"}",["T_WHITESPACE","\n\n  ",126],["T_DOC_COMMENT","\/**\n   * Responds to entity POST requests and saves the new entity.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityInterface $entity\n   *   The entity.\n   *\n   * @return \\Drupal\\rest\\ModifiedResourceResponse\n   *   The HTTP response object.\n   *\n   * @throws \\Symfony\\Component\\HttpKernel\\Exception\\HttpException\n   *\/",128],["T_WHITESPACE","\n  ",138],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","post",139],"(",["T_STRING","EntityInterface",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$entity",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","NULL",139],")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n    ",139],["T_IF","if",140],["T_WHITESPACE"," ",140],"(",["T_VARIABLE","$entity",140],["T_WHITESPACE"," ",140],["T_IS_EQUAL","==",140],["T_WHITESPACE"," ",140],["T_STRING","NULL",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n      ",140],["T_THROW","throw",141],["T_WHITESPACE"," ",141],["T_NEW","new",141],["T_WHITESPACE"," ",141],["T_STRING","BadRequestHttpException",141],"(",["T_CONSTANT_ENCAPSED_STRING","'No entity content received.'",141],")",";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_IF","if",144],["T_WHITESPACE"," ",144],"(","!",["T_VARIABLE","$entity",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","access",144],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",144],")",")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n      ",144],["T_THROW","throw",145],["T_WHITESPACE"," ",145],["T_NEW","new",145],["T_WHITESPACE"," ",145],["T_STRING","AccessDeniedHttpException",145],"(",")",";",["T_WHITESPACE","\n    ",145],"}",["T_WHITESPACE","\n    ",146],["T_VARIABLE","$definition",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getPluginDefinition",147],"(",")",";",["T_WHITESPACE","\n    ",147],["T_COMMENT","\/\/ Verify that the deserialized entity is of the type that we expect to\n",148],["T_WHITESPACE","    ",149],["T_COMMENT","\/\/ prevent security issues.\n",149],["T_WHITESPACE","    ",150],["T_IF","if",150],["T_WHITESPACE"," ",150],"(",["T_VARIABLE","$entity",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getEntityTypeId",150],"(",")",["T_WHITESPACE"," ",150],["T_IS_NOT_EQUAL","!=",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$definition",150],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_type'",150],"]",")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n      ",150],["T_THROW","throw",151],["T_WHITESPACE"," ",151],["T_NEW","new",151],["T_WHITESPACE"," ",151],["T_STRING","BadRequestHttpException",151],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid entity type'",151],")",";",["T_WHITESPACE","\n    ",151],"}",["T_WHITESPACE","\n    ",152],["T_COMMENT","\/\/ POSTed entities must not have an ID set, because we always want to create\n",153],["T_WHITESPACE","    ",154],["T_COMMENT","\/\/ new entities here.\n",154],["T_WHITESPACE","    ",155],["T_IF","if",155],["T_WHITESPACE"," ",155],"(","!",["T_VARIABLE","$entity",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","isNew",155],"(",")",")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n      ",155],["T_THROW","throw",156],["T_WHITESPACE"," ",156],["T_NEW","new",156],["T_WHITESPACE"," ",156],["T_STRING","BadRequestHttpException",156],"(",["T_CONSTANT_ENCAPSED_STRING","'Only new entities can be created'",156],")",";",["T_WHITESPACE","\n    ",156],"}",["T_WHITESPACE","\n\n    ",157],["T_COMMENT","\/\/ Only check 'edit' permissions for fields that were actually\n",159],["T_WHITESPACE","    ",160],["T_COMMENT","\/\/ submitted by the user. Field access makes no difference between 'create'\n",160],["T_WHITESPACE","    ",161],["T_COMMENT","\/\/ and 'update', so the 'edit' operation is used here.\n",161],["T_WHITESPACE","    ",162],["T_FOREACH","foreach",162],["T_WHITESPACE"," ",162],"(",["T_VARIABLE","$entity",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","_restSubmittedFields",162],["T_WHITESPACE"," ",162],["T_AS","as",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$key",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$field_name",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n      ",162],["T_IF","if",163],["T_WHITESPACE"," ",163],"(","!",["T_VARIABLE","$entity",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","get",163],"(",["T_VARIABLE","$field_name",163],")",["T_OBJECT_OPERATOR","->",163],["T_STRING","access",163],"(",["T_CONSTANT_ENCAPSED_STRING","'edit'",163],")",")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n        ",163],["T_THROW","throw",164],["T_WHITESPACE"," ",164],["T_NEW","new",164],["T_WHITESPACE"," ",164],["T_STRING","AccessDeniedHttpException",164],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Access denied on creating field '",164],["T_VARIABLE","$field_name",164],["T_ENCAPSED_AND_WHITESPACE","'",164],"\"",")",";",["T_WHITESPACE","\n      ",164],"}",["T_WHITESPACE","\n    ",165],"}",["T_WHITESPACE","\n\n    ",166],["T_COMMENT","\/\/ Validate the received data before saving.\n",168],["T_WHITESPACE","    ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","validate",169],"(",["T_VARIABLE","$entity",169],")",";",["T_WHITESPACE","\n    ",169],["T_TRY","try",170],["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n      ",170],["T_VARIABLE","$entity",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","save",171],"(",")",";",["T_WHITESPACE","\n      ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","logger",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","notice",172],"(",["T_CONSTANT_ENCAPSED_STRING","'Created entity %type with ID %id.'",172],",",["T_WHITESPACE"," ",172],["T_ARRAY","array",172],"(",["T_CONSTANT_ENCAPSED_STRING","'%type'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$entity",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getEntityTypeId",172],"(",")",",",["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'%id'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$entity",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","id",172],"(",")",")",")",";",["T_WHITESPACE","\n\n      ",172],["T_COMMENT","\/\/ 201 Created responses return the newly created entity in the response\n",174],["T_WHITESPACE","      ",175],["T_COMMENT","\/\/ body. These responses are not cacheable, so we add no cacheability\n",175],["T_WHITESPACE","      ",176],["T_COMMENT","\/\/ metadata here.\n",176],["T_WHITESPACE","      ",177],["T_VARIABLE","$url",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$entity",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","urlInfo",177],"(",["T_CONSTANT_ENCAPSED_STRING","'canonical'",177],",",["T_WHITESPACE"," ",177],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",177],["T_WHITESPACE"," ",177],["T_DOUBLE_ARROW","=>",177],["T_WHITESPACE"," ",177],["T_STRING","TRUE",177],"]",")",["T_OBJECT_OPERATOR","->",177],["T_STRING","toString",177],"(",["T_STRING","TRUE",177],")",";",["T_WHITESPACE","\n      ",177],["T_VARIABLE","$response",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_NEW","new",178],["T_WHITESPACE"," ",178],["T_STRING","ModifiedResourceResponse",178],"(",["T_VARIABLE","$entity",178],",",["T_WHITESPACE"," ",178],["T_LNUMBER","201",178],",",["T_WHITESPACE"," ",178],"[",["T_CONSTANT_ENCAPSED_STRING","'Location'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$url",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getGeneratedUrl",178],"(",")","]",")",";",["T_WHITESPACE","\n      ",178],["T_RETURN","return",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$response",179],";",["T_WHITESPACE","\n    ",179],"}",["T_WHITESPACE","\n    ",180],["T_CATCH","catch",181],["T_WHITESPACE"," ",181],"(",["T_STRING","EntityStorageException",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$e",181],")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n      ",181],["T_THROW","throw",182],["T_WHITESPACE"," ",182],["T_NEW","new",182],["T_WHITESPACE"," ",182],["T_STRING","HttpException",182],"(",["T_LNUMBER","500",182],",",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'Internal Server Error'",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$e",182],")",";",["T_WHITESPACE","\n    ",182],"}",["T_WHITESPACE","\n  ",183],"}",["T_WHITESPACE","\n\n  ",184],["T_DOC_COMMENT","\/**\n   * Responds to entity PATCH requests.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityInterface $original_entity\n   *   The original entity object.\n   * @param \\Drupal\\Core\\Entity\\EntityInterface $entity\n   *   The entity.\n   *\n   * @return \\Drupal\\rest\\ModifiedResourceResponse\n   *   The HTTP response object.\n   *\n   * @throws \\Symfony\\Component\\HttpKernel\\Exception\\HttpException\n   *\/",186],["T_WHITESPACE","\n  ",198],["T_PUBLIC","public",199],["T_WHITESPACE"," ",199],["T_FUNCTION","function",199],["T_WHITESPACE"," ",199],["T_STRING","patch",199],"(",["T_STRING","EntityInterface",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$original_entity",199],",",["T_WHITESPACE"," ",199],["T_STRING","EntityInterface",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$entity",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_STRING","NULL",199],")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n    ",199],["T_IF","if",200],["T_WHITESPACE"," ",200],"(",["T_VARIABLE","$entity",200],["T_WHITESPACE"," ",200],["T_IS_EQUAL","==",200],["T_WHITESPACE"," ",200],["T_STRING","NULL",200],")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n      ",200],["T_THROW","throw",201],["T_WHITESPACE"," ",201],["T_NEW","new",201],["T_WHITESPACE"," ",201],["T_STRING","BadRequestHttpException",201],"(",["T_CONSTANT_ENCAPSED_STRING","'No entity content received.'",201],")",";",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n    ",202],["T_VARIABLE","$definition",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getPluginDefinition",203],"(",")",";",["T_WHITESPACE","\n    ",203],["T_IF","if",204],["T_WHITESPACE"," ",204],"(",["T_VARIABLE","$entity",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","getEntityTypeId",204],"(",")",["T_WHITESPACE"," ",204],["T_IS_NOT_EQUAL","!=",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$definition",204],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_type'",204],"]",")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n      ",204],["T_THROW","throw",205],["T_WHITESPACE"," ",205],["T_NEW","new",205],["T_WHITESPACE"," ",205],["T_STRING","BadRequestHttpException",205],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid entity type'",205],")",";",["T_WHITESPACE","\n    ",205],"}",["T_WHITESPACE","\n    ",206],["T_IF","if",207],["T_WHITESPACE"," ",207],"(","!",["T_VARIABLE","$original_entity",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","access",207],"(",["T_CONSTANT_ENCAPSED_STRING","'update'",207],")",")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n      ",207],["T_THROW","throw",208],["T_WHITESPACE"," ",208],["T_NEW","new",208],["T_WHITESPACE"," ",208],["T_STRING","AccessDeniedHttpException",208],"(",")",";",["T_WHITESPACE","\n    ",208],"}",["T_WHITESPACE","\n\n    ",209],["T_COMMENT","\/\/ Overwrite the received properties.\n",211],["T_WHITESPACE","    ",212],["T_VARIABLE","$entity_keys",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$entity",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getEntityType",212],"(",")",["T_OBJECT_OPERATOR","->",212],["T_STRING","getKeys",212],"(",")",";",["T_WHITESPACE","\n    ",212],["T_FOREACH","foreach",213],["T_WHITESPACE"," ",213],"(",["T_VARIABLE","$entity",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","_restSubmittedFields",213],["T_WHITESPACE"," ",213],["T_AS","as",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$field_name",213],")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n      ",213],["T_VARIABLE","$field",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$entity",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","get",214],"(",["T_VARIABLE","$field_name",214],")",";",["T_WHITESPACE","\n\n      ",214],["T_COMMENT","\/\/ Entity key fields need special treatment: together they uniquely\n",216],["T_WHITESPACE","      ",217],["T_COMMENT","\/\/ identify the entity. Therefore it does not make sense to modify any of\n",217],["T_WHITESPACE","      ",218],["T_COMMENT","\/\/ them. However, rather than throwing an error, we just ignore them as\n",218],["T_WHITESPACE","      ",219],["T_COMMENT","\/\/ long as their specified values match their current values.\n",219],["T_WHITESPACE","      ",220],["T_IF","if",220],["T_WHITESPACE"," ",220],"(",["T_STRING","in_array",220],"(",["T_VARIABLE","$field_name",220],",",["T_WHITESPACE"," ",220],["T_VARIABLE","$entity_keys",220],",",["T_WHITESPACE"," ",220],["T_STRING","TRUE",220],")",")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n        ",220],["T_COMMENT","\/\/ Unchanged values for entity keys don't need access checking.\n",221],["T_WHITESPACE","        ",222],["T_IF","if",222],["T_WHITESPACE"," ",222],"(",["T_VARIABLE","$original_entity",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","get",222],"(",["T_VARIABLE","$field_name",222],")",["T_OBJECT_OPERATOR","->",222],["T_STRING","getValue",222],"(",")",["T_WHITESPACE"," ",222],["T_IS_IDENTICAL","===",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$entity",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","get",222],"(",["T_VARIABLE","$field_name",222],")",["T_OBJECT_OPERATOR","->",222],["T_STRING","getValue",222],"(",")",")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n          ",222],["T_CONTINUE","continue",223],";",["T_WHITESPACE","\n        ",223],"}",["T_WHITESPACE","\n        ",224],["T_COMMENT","\/\/ It is not possible to set the language to NULL as it is automatically\n",225],["T_WHITESPACE","        ",226],["T_COMMENT","\/\/ re-initialized. As it must not be empty, skip it if it is.\n",226],["T_WHITESPACE","        ",227],["T_ELSEIF","elseif",227],["T_WHITESPACE"," ",227],"(",["T_ISSET","isset",227],"(",["T_VARIABLE","$entity_keys",227],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",227],"]",")",["T_WHITESPACE"," ",227],["T_BOOLEAN_AND","&&",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$field_name",227],["T_WHITESPACE"," ",227],["T_IS_IDENTICAL","===",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$entity_keys",227],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",227],"]",["T_WHITESPACE"," ",227],["T_BOOLEAN_AND","&&",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$field",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","isEmpty",227],"(",")",")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n          ",227],["T_CONTINUE","continue",228],";",["T_WHITESPACE","\n        ",228],"}",["T_WHITESPACE","\n      ",229],"}",["T_WHITESPACE","\n\n      ",230],["T_IF","if",232],["T_WHITESPACE"," ",232],"(","!",["T_VARIABLE","$original_entity",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","get",232],"(",["T_VARIABLE","$field_name",232],")",["T_OBJECT_OPERATOR","->",232],["T_STRING","access",232],"(",["T_CONSTANT_ENCAPSED_STRING","'edit'",232],")",")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n        ",232],["T_THROW","throw",233],["T_WHITESPACE"," ",233],["T_NEW","new",233],["T_WHITESPACE"," ",233],["T_STRING","AccessDeniedHttpException",233],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Access denied on updating field '",233],["T_VARIABLE","$field_name",233],["T_ENCAPSED_AND_WHITESPACE","'.",233],"\"",")",";",["T_WHITESPACE","\n      ",233],"}",["T_WHITESPACE","\n      ",234],["T_VARIABLE","$original_entity",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","set",235],"(",["T_VARIABLE","$field_name",235],",",["T_WHITESPACE"," ",235],["T_VARIABLE","$field",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getValue",235],"(",")",")",";",["T_WHITESPACE","\n    ",235],"}",["T_WHITESPACE","\n\n    ",236],["T_COMMENT","\/\/ Validate the received data before saving.\n",238],["T_WHITESPACE","    ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","validate",239],"(",["T_VARIABLE","$original_entity",239],")",";",["T_WHITESPACE","\n    ",239],["T_TRY","try",240],["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n      ",240],["T_VARIABLE","$original_entity",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","save",241],"(",")",";",["T_WHITESPACE","\n      ",241],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","logger",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","notice",242],"(",["T_CONSTANT_ENCAPSED_STRING","'Updated entity %type with ID %id.'",242],",",["T_WHITESPACE"," ",242],["T_ARRAY","array",242],"(",["T_CONSTANT_ENCAPSED_STRING","'%type'",242],["T_WHITESPACE"," ",242],["T_DOUBLE_ARROW","=>",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$original_entity",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getEntityTypeId",242],"(",")",",",["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","'%id'",242],["T_WHITESPACE"," ",242],["T_DOUBLE_ARROW","=>",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$original_entity",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","id",242],"(",")",")",")",";",["T_WHITESPACE","\n\n      ",242],["T_COMMENT","\/\/ Return the updated entity in the response body.\n",244],["T_WHITESPACE","      ",245],["T_RETURN","return",245],["T_WHITESPACE"," ",245],["T_NEW","new",245],["T_WHITESPACE"," ",245],["T_STRING","ModifiedResourceResponse",245],"(",["T_VARIABLE","$original_entity",245],",",["T_WHITESPACE"," ",245],["T_LNUMBER","200",245],")",";",["T_WHITESPACE","\n    ",245],"}",["T_WHITESPACE","\n    ",246],["T_CATCH","catch",247],["T_WHITESPACE"," ",247],"(",["T_STRING","EntityStorageException",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$e",247],")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n      ",247],["T_THROW","throw",248],["T_WHITESPACE"," ",248],["T_NEW","new",248],["T_WHITESPACE"," ",248],["T_STRING","HttpException",248],"(",["T_LNUMBER","500",248],",",["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'Internal Server Error'",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$e",248],")",";",["T_WHITESPACE","\n    ",248],"}",["T_WHITESPACE","\n  ",249],"}",["T_WHITESPACE","\n\n  ",250],["T_DOC_COMMENT","\/**\n   * Responds to entity DELETE requests.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityInterface $entity\n   *   The entity object.\n   *\n   * @return \\Drupal\\rest\\ModifiedResourceResponse\n   *   The HTTP response object.\n   *\n   * @throws \\Symfony\\Component\\HttpKernel\\Exception\\HttpException\n   *\/",252],["T_WHITESPACE","\n  ",262],["T_PUBLIC","public",263],["T_WHITESPACE"," ",263],["T_FUNCTION","function",263],["T_WHITESPACE"," ",263],["T_STRING","delete",263],"(",["T_STRING","EntityInterface",263],["T_WHITESPACE"," ",263],["T_VARIABLE","$entity",263],")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n    ",263],["T_IF","if",264],["T_WHITESPACE"," ",264],"(","!",["T_VARIABLE","$entity",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","access",264],"(",["T_CONSTANT_ENCAPSED_STRING","'delete'",264],")",")",["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n      ",264],["T_THROW","throw",265],["T_WHITESPACE"," ",265],["T_NEW","new",265],["T_WHITESPACE"," ",265],["T_STRING","AccessDeniedHttpException",265],"(",")",";",["T_WHITESPACE","\n    ",265],"}",["T_WHITESPACE","\n    ",266],["T_TRY","try",267],["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n      ",267],["T_VARIABLE","$entity",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","delete",268],"(",")",";",["T_WHITESPACE","\n      ",268],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","logger",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","notice",269],"(",["T_CONSTANT_ENCAPSED_STRING","'Deleted entity %type with ID %id.'",269],",",["T_WHITESPACE"," ",269],["T_ARRAY","array",269],"(",["T_CONSTANT_ENCAPSED_STRING","'%type'",269],["T_WHITESPACE"," ",269],["T_DOUBLE_ARROW","=>",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$entity",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","getEntityTypeId",269],"(",")",",",["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","'%id'",269],["T_WHITESPACE"," ",269],["T_DOUBLE_ARROW","=>",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$entity",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","id",269],"(",")",")",")",";",["T_WHITESPACE","\n\n      ",269],["T_COMMENT","\/\/ DELETE responses have an empty body.\n",271],["T_WHITESPACE","      ",272],["T_RETURN","return",272],["T_WHITESPACE"," ",272],["T_NEW","new",272],["T_WHITESPACE"," ",272],["T_STRING","ModifiedResourceResponse",272],"(",["T_STRING","NULL",272],",",["T_WHITESPACE"," ",272],["T_LNUMBER","204",272],")",";",["T_WHITESPACE","\n    ",272],"}",["T_WHITESPACE","\n    ",273],["T_CATCH","catch",274],["T_WHITESPACE"," ",274],"(",["T_STRING","EntityStorageException",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$e",274],")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n      ",274],["T_THROW","throw",275],["T_WHITESPACE"," ",275],["T_NEW","new",275],["T_WHITESPACE"," ",275],["T_STRING","HttpException",275],"(",["T_LNUMBER","500",275],",",["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'Internal Server Error'",275],",",["T_WHITESPACE"," ",275],["T_VARIABLE","$e",275],")",";",["T_WHITESPACE","\n    ",275],"}",["T_WHITESPACE","\n  ",276],"}",["T_WHITESPACE","\n\n  ",277],["T_DOC_COMMENT","\/**\n   * Verifies that the whole entity does not violate any validation constraints.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityInterface $entity\n   *   The entity object.\n   *\n   * @throws \\Symfony\\Component\\HttpKernel\\Exception\\HttpException\n   *   If validation errors are found.\n   *\/",279],["T_WHITESPACE","\n  ",287],["T_PROTECTED","protected",288],["T_WHITESPACE"," ",288],["T_FUNCTION","function",288],["T_WHITESPACE"," ",288],["T_STRING","validate",288],"(",["T_STRING","EntityInterface",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$entity",288],")",["T_WHITESPACE"," ",288],"{",["T_WHITESPACE","\n    ",288],["T_COMMENT","\/\/ @todo Remove when https:\/\/www.drupal.org\/node\/2164373 is committed.\n",289],["T_WHITESPACE","    ",290],["T_IF","if",290],["T_WHITESPACE"," ",290],"(","!",["T_VARIABLE","$entity",290],["T_WHITESPACE"," ",290],["T_INSTANCEOF","instanceof",290],["T_WHITESPACE"," ",290],["T_STRING","FieldableEntityInterface",290],")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n      ",290],["T_RETURN","return",291],";",["T_WHITESPACE","\n    ",291],"}",["T_WHITESPACE","\n    ",292],["T_VARIABLE","$violations",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_VARIABLE","$entity",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","validate",293],"(",")",";",["T_WHITESPACE","\n\n    ",293],["T_COMMENT","\/\/ Remove violations of inaccessible fields as they cannot stem from our\n",295],["T_WHITESPACE","    ",296],["T_COMMENT","\/\/ changes.\n",296],["T_WHITESPACE","    ",297],["T_VARIABLE","$violations",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","filterByFieldAccess",297],"(",")",";",["T_WHITESPACE","\n\n    ",297],["T_IF","if",299],["T_WHITESPACE"," ",299],"(",["T_STRING","count",299],"(",["T_VARIABLE","$violations",299],")",["T_WHITESPACE"," ",299],">",["T_WHITESPACE"," ",299],["T_LNUMBER","0",299],")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n      ",299],["T_VARIABLE","$message",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","\"Unprocessable Entity: validation failed.\\n\"",300],";",["T_WHITESPACE","\n      ",300],["T_FOREACH","foreach",301],["T_WHITESPACE"," ",301],"(",["T_VARIABLE","$violations",301],["T_WHITESPACE"," ",301],["T_AS","as",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$violation",301],")",["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n        ",301],["T_VARIABLE","$message",302],["T_WHITESPACE"," ",302],["T_CONCAT_EQUAL",".=",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$violation",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","getPropertyPath",302],"(",")",["T_WHITESPACE"," ",302],".",["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","': '",302],["T_WHITESPACE"," ",302],".",["T_WHITESPACE"," ",302],["T_VARIABLE","$violation",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","getMessage",302],"(",")",["T_WHITESPACE"," ",302],".",["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",302],";",["T_WHITESPACE","\n      ",302],"}",["T_WHITESPACE","\n      ",303],["T_COMMENT","\/\/ Instead of returning a generic 400 response we use the more specific\n",304],["T_WHITESPACE","      ",305],["T_COMMENT","\/\/ 422 Unprocessable Entity code from RFC 4918. That way clients can\n",305],["T_WHITESPACE","      ",306],["T_COMMENT","\/\/ distinguish between general syntax errors in bad serializations (code\n",306],["T_WHITESPACE","      ",307],["T_COMMENT","\/\/ 400) and semantic errors in well-formed requests (code 422).\n",307],["T_WHITESPACE","      ",308],["T_THROW","throw",308],["T_WHITESPACE"," ",308],["T_NEW","new",308],["T_WHITESPACE"," ",308],["T_STRING","HttpException",308],"(",["T_LNUMBER","422",308],",",["T_WHITESPACE"," ",308],["T_VARIABLE","$message",308],")",";",["T_WHITESPACE","\n    ",308],"}",["T_WHITESPACE","\n  ",309],"}",["T_WHITESPACE","\n\n  ",310],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",312],["T_WHITESPACE","\n  ",314],["T_PUBLIC","public",315],["T_WHITESPACE"," ",315],["T_FUNCTION","function",315],["T_WHITESPACE"," ",315],["T_STRING","permissions",315],"(",")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n    ",315],["T_COMMENT","\/\/ @see https:\/\/www.drupal.org\/node\/2664780\n",316],["T_WHITESPACE","    ",317],["T_IF","if",317],["T_WHITESPACE"," ",317],"(",["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","configFactory",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","get",317],"(",["T_CONSTANT_ENCAPSED_STRING","'rest.settings'",317],")",["T_OBJECT_OPERATOR","->",317],["T_STRING","get",317],"(",["T_CONSTANT_ENCAPSED_STRING","'bc_entity_resource_permissions'",317],")",")",["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n      ",317],["T_COMMENT","\/\/ The default Drupal 8.0.x and 8.1.x behavior.\n",318],["T_WHITESPACE","      ",319],["T_RETURN","return",319],["T_WHITESPACE"," ",319],["T_STRING","parent",319],["T_DOUBLE_COLON","::",319],["T_STRING","permissions",319],"(",")",";",["T_WHITESPACE","\n    ",319],"}",["T_WHITESPACE","\n    ",320],["T_ELSE","else",321],["T_WHITESPACE"," ",321],"{",["T_WHITESPACE","\n      ",321],["T_COMMENT","\/\/ The default Drupal 8.2.x behavior.\n",322],["T_WHITESPACE","      ",323],["T_RETURN","return",323],["T_WHITESPACE"," ",323],"[","]",";",["T_WHITESPACE","\n    ",323],"}",["T_WHITESPACE","\n  ",324],"}",["T_WHITESPACE","\n\n  ",325],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",327],["T_WHITESPACE","\n  ",329],["T_PROTECTED","protected",330],["T_WHITESPACE"," ",330],["T_FUNCTION","function",330],["T_WHITESPACE"," ",330],["T_STRING","getBaseRoute",330],"(",["T_VARIABLE","$canonical_path",330],",",["T_WHITESPACE"," ",330],["T_VARIABLE","$method",330],")",["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n    ",330],["T_VARIABLE","$route",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_STRING","parent",331],["T_DOUBLE_COLON","::",331],["T_STRING","getBaseRoute",331],"(",["T_VARIABLE","$canonical_path",331],",",["T_WHITESPACE"," ",331],["T_VARIABLE","$method",331],")",";",["T_WHITESPACE","\n    ",331],["T_VARIABLE","$definition",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","getPluginDefinition",332],"(",")",";",["T_WHITESPACE","\n\n    ",332],["T_VARIABLE","$parameters",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_VARIABLE","$route",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","getOption",334],"(",["T_CONSTANT_ENCAPSED_STRING","'parameters'",334],")",["T_WHITESPACE"," ",334],"?",":",["T_WHITESPACE"," ",334],["T_ARRAY","array",334],"(",")",";",["T_WHITESPACE","\n    ",334],["T_VARIABLE","$parameters",335],"[",["T_VARIABLE","$definition",335],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_type'",335],"]","]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",335],"]",["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'entity:'",335],["T_WHITESPACE"," ",335],".",["T_WHITESPACE"," ",335],["T_VARIABLE","$definition",335],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_type'",335],"]",";",["T_WHITESPACE","\n    ",335],["T_VARIABLE","$route",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","setOption",336],"(",["T_CONSTANT_ENCAPSED_STRING","'parameters'",336],",",["T_WHITESPACE"," ",336],["T_VARIABLE","$parameters",336],")",";",["T_WHITESPACE","\n\n    ",336],["T_RETURN","return",338],["T_WHITESPACE"," ",338],["T_VARIABLE","$route",338],";",["T_WHITESPACE","\n  ",338],"}",["T_WHITESPACE","\n\n  ",339],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",341],["T_WHITESPACE","\n  ",343],["T_PUBLIC","public",344],["T_WHITESPACE"," ",344],["T_FUNCTION","function",344],["T_WHITESPACE"," ",344],["T_STRING","availableMethods",344],"(",")",["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n    ",344],["T_VARIABLE","$methods",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_STRING","parent",345],["T_DOUBLE_COLON","::",345],["T_STRING","availableMethods",345],"(",")",";",["T_WHITESPACE","\n    ",345],["T_IF","if",346],["T_WHITESPACE"," ",346],"(",["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","isConfigEntityResource",346],"(",")",")",["T_WHITESPACE"," ",346],"{",["T_WHITESPACE","\n      ",346],["T_COMMENT","\/\/ Currently only GET is supported for Config Entities.\n",347],["T_WHITESPACE","      ",348],["T_COMMENT","\/\/ @todo Remove when supported https:\/\/www.drupal.org\/node\/2300677\n",348],["T_WHITESPACE","      ",349],["T_VARIABLE","$unsupported_methods",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],"[",["T_CONSTANT_ENCAPSED_STRING","'POST'",349],",",["T_WHITESPACE"," ",349],["T_CONSTANT_ENCAPSED_STRING","'PUT'",349],",",["T_WHITESPACE"," ",349],["T_CONSTANT_ENCAPSED_STRING","'DELETE'",349],",",["T_WHITESPACE"," ",349],["T_CONSTANT_ENCAPSED_STRING","'PATCH'",349],"]",";",["T_WHITESPACE","\n      ",349],["T_VARIABLE","$methods",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_STRING","array_diff",350],"(",["T_VARIABLE","$methods",350],",",["T_WHITESPACE"," ",350],["T_VARIABLE","$unsupported_methods",350],")",";",["T_WHITESPACE","\n    ",350],"}",["T_WHITESPACE","\n    ",351],["T_RETURN","return",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$methods",352],";",["T_WHITESPACE","\n  ",352],"}",["T_WHITESPACE","\n\n  ",353],["T_DOC_COMMENT","\/**\n   * Checks if this resource is for a Config Entity.\n   *\n   * @return bool\n   *   TRUE if the entity is a Config Entity, FALSE otherwise.\n   *\/",355],["T_WHITESPACE","\n  ",360],["T_PROTECTED","protected",361],["T_WHITESPACE"," ",361],["T_FUNCTION","function",361],["T_WHITESPACE"," ",361],["T_STRING","isConfigEntityResource",361],"(",")",["T_WHITESPACE"," ",361],"{",["T_WHITESPACE","\n    ",361],["T_RETURN","return",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","entityType",362],["T_WHITESPACE"," ",362],["T_INSTANCEOF","instanceof",362],["T_WHITESPACE"," ",362],["T_STRING","ConfigEntityType",362],";",["T_WHITESPACE","\n  ",362],"}",["T_WHITESPACE","\n\n  ",363],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",365],["T_WHITESPACE","\n  ",367],["T_PUBLIC","public",368],["T_WHITESPACE"," ",368],["T_FUNCTION","function",368],["T_WHITESPACE"," ",368],["T_STRING","calculateDependencies",368],"(",")",["T_WHITESPACE"," ",368],"{",["T_WHITESPACE","\n    ",368],["T_IF","if",369],["T_WHITESPACE"," ",369],"(",["T_ISSET","isset",369],"(",["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","entityType",369],")",")",["T_WHITESPACE"," ",369],"{",["T_WHITESPACE","\n      ",369],["T_RETURN","return",370],["T_WHITESPACE"," ",370],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",370],["T_WHITESPACE"," ",370],["T_DOUBLE_ARROW","=>",370],["T_WHITESPACE"," ",370],"[",["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","entityType",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","getProvider",370],"(",")","]","]",";",["T_WHITESPACE","\n    ",370],"}",["T_WHITESPACE","\n  ",371],"}",["T_WHITESPACE","\n\n",372],"}",["T_WHITESPACE","\n",374]]