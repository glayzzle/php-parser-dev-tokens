[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","rest",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Update",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","rest",5],["T_NS_SEPARATOR","\\",5],["T_STRING","RestResourceConfigInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","system",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Tests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Update",6],["T_NS_SEPARATOR","\\",6],["T_STRING","UpdatePathTestBase",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests that rest.settings is converted to rest_resource_config entities.\n *\n * @see https:\/\/www.drupal.org\/node\/2308745\n * @see rest_update_8201()\n * @see rest_post_update_create_rest_resource_config_entities()\n *\n * @group rest\n *\/",8],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","RestConfigurationEntitiesUpdateTest",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_STRING","UpdatePathTestBase",17],["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",19],["T_WHITESPACE","\n  ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_STATIC","static",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$modules",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],"[",["T_CONSTANT_ENCAPSED_STRING","'rest'",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'serialization'",22],"]",";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",24],["T_WHITESPACE","\n  ",26],["T_PUBLIC","public",27],["T_WHITESPACE"," ",27],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","setDatabaseDumpFiles",27],"(",")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n    ",27],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","databaseDumpFiles",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],"[",["T_WHITESPACE","\n      ",28],["T_DIR","__DIR__",29],["T_WHITESPACE"," ",29],".",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'\/..\/..\/..\/..\/system\/tests\/fixtures\/update\/drupal-8.bare.standard.php.gz'",29],",",["T_WHITESPACE","\n      ",29],["T_DIR","__DIR__",30],["T_WHITESPACE"," ",30],".",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'\/..\/..\/..\/..\/rest\/tests\/fixtures\/update\/drupal-8.rest-rest_update_8201.php'",30],",",["T_WHITESPACE","\n    ",30],"]",";",["T_WHITESPACE","\n  ",31],"}",["T_WHITESPACE","\n\n  ",32],["T_DOC_COMMENT","\/**\n   * Tests rest_update_8201().\n   *\/",34],["T_WHITESPACE","\n  ",36],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","testResourcesConvertedToConfigEntities",37],"(",")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n    ",37],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Entity\\EntityStorageInterface $resource_config_storage *\/",38],["T_WHITESPACE","\n    ",38],["T_VARIABLE","$resource_config_storage",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","container",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","get",39],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",39],")",["T_OBJECT_OPERATOR","->",39],["T_STRING","getStorage",39],"(",["T_CONSTANT_ENCAPSED_STRING","'rest_resource_config'",39],")",";",["T_WHITESPACE","\n\n    ",39],["T_COMMENT","\/\/ Make sure we have the expected values before the update.\n",41],["T_WHITESPACE","    ",42],["T_VARIABLE","$rest_settings",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","config",42],"(",["T_CONSTANT_ENCAPSED_STRING","'rest.settings'",42],")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","assertTrue",43],"(",["T_STRING","array_key_exists",43],"(",["T_CONSTANT_ENCAPSED_STRING","'resources'",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$rest_settings",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","getRawData",43],"(",")",")",")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","assertTrue",44],"(",["T_STRING","array_key_exists",44],"(",["T_CONSTANT_ENCAPSED_STRING","'entity:node'",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$rest_settings",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","getRawData",44],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","'resources'",44],"]",")",")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$resource_config_entities",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$resource_config_storage",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","loadMultiple",45],"(",")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","assertIdentical",46],"(","[","]",",",["T_WHITESPACE"," ",46],["T_STRING","array_keys",46],"(",["T_VARIABLE","$resource_config_entities",46],")",")",";",["T_WHITESPACE","\n\n    ",46],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","runUpdates",48],"(",")",";",["T_WHITESPACE","\n\n    ",48],["T_COMMENT","\/\/ Make sure we have the expected values after the update.\n",50],["T_WHITESPACE","    ",51],["T_VARIABLE","$rest_settings",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","config",51],"(",["T_CONSTANT_ENCAPSED_STRING","'rest.settings'",51],")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","assertFalse",52],"(",["T_STRING","array_key_exists",52],"(",["T_CONSTANT_ENCAPSED_STRING","'resources'",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$rest_settings",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getRawData",52],"(",")",")",")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$resource_config_entities",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$resource_config_storage",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","loadMultiple",53],"(",")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertIdentical",54],"(","[",["T_CONSTANT_ENCAPSED_STRING","'entity.node'",54],"]",",",["T_WHITESPACE"," ",54],["T_STRING","array_keys",54],"(",["T_VARIABLE","$resource_config_entities",54],")",")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$node_resource_config_entity",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$resource_config_entities",55],"[",["T_CONSTANT_ENCAPSED_STRING","'entity.node'",55],"]",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","assertIdentical",56],"(",["T_STRING","RestResourceConfigInterface",56],["T_DOUBLE_COLON","::",56],["T_STRING","RESOURCE_GRANULARITY",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$node_resource_config_entity",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","get",56],"(",["T_CONSTANT_ENCAPSED_STRING","'granularity'",56],")",")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","assertIdentical",57],"(","[",["T_WHITESPACE","\n      ",57],["T_CONSTANT_ENCAPSED_STRING","'methods'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],"[",["T_CONSTANT_ENCAPSED_STRING","'GET'",58],"]",",",["T_WHITESPACE","\n      ",58],["T_CONSTANT_ENCAPSED_STRING","'formats'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],"[",["T_CONSTANT_ENCAPSED_STRING","'json'",59],"]",",",["T_WHITESPACE","\n      ",59],["T_CONSTANT_ENCAPSED_STRING","'authentication'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],"[",["T_CONSTANT_ENCAPSED_STRING","'basic_auth'",60],"]",",",["T_WHITESPACE","\n    ",60],"]",",",["T_WHITESPACE"," ",61],["T_VARIABLE","$node_resource_config_entity",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","get",61],"(",["T_CONSTANT_ENCAPSED_STRING","'configuration'",61],")",")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertIdentical",62],"(","[",["T_CONSTANT_ENCAPSED_STRING","'module'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],"[",["T_CONSTANT_ENCAPSED_STRING","'basic_auth'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'node'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'serialization'",62],"]","]",",",["T_WHITESPACE"," ",62],["T_VARIABLE","$node_resource_config_entity",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getDependencies",62],"(",")",")",";",["T_WHITESPACE","\n  ",62],"}",["T_WHITESPACE","\n\n",63],"}",["T_WHITESPACE","\n",65]]