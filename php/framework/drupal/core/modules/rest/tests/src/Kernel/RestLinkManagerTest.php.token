[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","rest",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Url",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","KernelTests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","KernelTestBase",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests that REST type and relation link managers work as expected\n * @group rest\n *\/",8],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","RestLinkManagerTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","KernelTestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",14],["T_WHITESPACE","\n  ",16],["T_PUBLIC","public",17],["T_WHITESPACE"," ",17],["T_STATIC","static",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$modules",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],"[",["T_CONSTANT_ENCAPSED_STRING","'serialization'",17],",",["T_WHITESPACE"," ",17],["T_CONSTANT_ENCAPSED_STRING","'rest'",17],",",["T_WHITESPACE"," ",17],["T_CONSTANT_ENCAPSED_STRING","'rest_test'",17],",",["T_WHITESPACE"," ",17],["T_CONSTANT_ENCAPSED_STRING","'system'",17],"]",";",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",19],["T_WHITESPACE","\n  ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_FUNCTION","function",22],["T_WHITESPACE"," ",22],["T_STRING","setUp",22],"(",")",["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n    ",22],["T_STRING","parent",23],["T_DOUBLE_COLON","::",23],["T_STRING","setUp",23],"(",")",";",["T_WHITESPACE","\n    ",23],["T_NS_SEPARATOR","\\",24],["T_STRING","Drupal",24],["T_DOUBLE_COLON","::",24],["T_STRING","service",24],"(",["T_CONSTANT_ENCAPSED_STRING","'router.builder'",24],")",["T_OBJECT_OPERATOR","->",24],["T_STRING","rebuild",24],"(",")",";",["T_WHITESPACE","\n  ",24],"}",["T_WHITESPACE","\n\n  ",25],["T_DOC_COMMENT","\/**\n   * Tests that type hooks work as expected.\n   *\/",27],["T_WHITESPACE","\n  ",29],["T_PUBLIC","public",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","testRestLinkManagers",30],"(",")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n    ",30],["T_NS_SEPARATOR","\\",31],["T_STRING","Drupal",31],["T_DOUBLE_COLON","::",31],["T_STRING","moduleHandler",31],"(",")",["T_OBJECT_OPERATOR","->",31],["T_STRING","invoke",31],"(",["T_CONSTANT_ENCAPSED_STRING","'rest'",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'install'",31],")",";",["T_WHITESPACE","\n    ",31],["T_COMMENT","\/* @var \\Drupal\\rest\\LinkManager\\TypeLinkManagerInterface $type_manager *\/",32],["T_WHITESPACE","\n    ",32],["T_VARIABLE","$type_manager",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Drupal",33],["T_DOUBLE_COLON","::",33],["T_STRING","service",33],"(",["T_CONSTANT_ENCAPSED_STRING","'rest.link_manager.type'",33],")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$base",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_STRING","Url",34],["T_DOUBLE_COLON","::",34],["T_STRING","fromRoute",34],"(",["T_CONSTANT_ENCAPSED_STRING","'<front>'",34],",",["T_WHITESPACE"," ",34],"[","]",",",["T_WHITESPACE"," ",34],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_STRING","TRUE",34],"]",")",["T_OBJECT_OPERATOR","->",34],["T_STRING","toString",34],"(",")",";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$link",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$type_manager",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","getTypeUri",35],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'page'",35],")",";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","assertEqual",36],"(",["T_VARIABLE","$link",36],",",["T_WHITESPACE"," ",36],["T_VARIABLE","$base",36],["T_WHITESPACE"," ",36],".",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'rest\/type\/node\/page'",36],")",";",["T_WHITESPACE","\n    ",36],["T_COMMENT","\/\/ Now with optional context.\n",37],["T_WHITESPACE","    ",38],["T_VARIABLE","$link",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$type_manager",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","getTypeUri",38],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",38],",",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'page'",38],",",["T_WHITESPACE"," ",38],"[",["T_CONSTANT_ENCAPSED_STRING","'rest_test'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_STRING","TRUE",38],"]",")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","assertEqual",39],"(",["T_VARIABLE","$link",39],",",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'rest_test_type'",39],")",";",["T_WHITESPACE","\n\n    ",39],["T_COMMENT","\/* @var \\Drupal\\rest\\LinkManager\\RelationLinkManagerInterface $relation_manager *\/",41],["T_WHITESPACE","\n    ",41],["T_VARIABLE","$relation_manager",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Drupal",42],["T_DOUBLE_COLON","::",42],["T_STRING","service",42],"(",["T_CONSTANT_ENCAPSED_STRING","'rest.link_manager.relation'",42],")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$link",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$relation_manager",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","getRelationUri",43],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",43],",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'page'",43],",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'field_ref'",43],")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","assertEqual",44],"(",["T_VARIABLE","$link",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$base",44],["T_WHITESPACE"," ",44],".",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'rest\/relation\/node\/page\/field_ref'",44],")",";",["T_WHITESPACE","\n    ",44],["T_COMMENT","\/\/ Now with optional context.\n",45],["T_WHITESPACE","    ",46],["T_VARIABLE","$link",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$relation_manager",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getRelationUri",46],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",46],",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'page'",46],",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'foobar'",46],",",["T_WHITESPACE"," ",46],"[",["T_CONSTANT_ENCAPSED_STRING","'rest_test'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_STRING","TRUE",46],"]",")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","assertEqual",47],"(",["T_VARIABLE","$link",47],",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'rest_test_relation'",47],")",";",["T_WHITESPACE","\n  ",47],"}",["T_WHITESPACE","\n\n  ",48],["T_DOC_COMMENT","\/**\n   * Tests that type hooks work as expected even without install hook.\n   *\/",50],["T_WHITESPACE","\n  ",52],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","testRestLinkManagersNoInstallHook",53],"(",")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n    ",53],["T_COMMENT","\/* @var \\Drupal\\rest\\LinkManager\\TypeLinkManagerInterface $type_manager *\/",54],["T_WHITESPACE","\n    ",54],["T_VARIABLE","$type_manager",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Drupal",55],["T_DOUBLE_COLON","::",55],["T_STRING","service",55],"(",["T_CONSTANT_ENCAPSED_STRING","'rest.link_manager.type'",55],")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$base",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","Url",56],["T_DOUBLE_COLON","::",56],["T_STRING","fromRoute",56],"(",["T_CONSTANT_ENCAPSED_STRING","'<front>'",56],",",["T_WHITESPACE"," ",56],"[","]",",",["T_WHITESPACE"," ",56],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_STRING","TRUE",56],"]",")",["T_OBJECT_OPERATOR","->",56],["T_STRING","toString",56],"(",")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$link",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$type_manager",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getTypeUri",57],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",57],",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'page'",57],")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","assertEqual",58],"(",["T_VARIABLE","$link",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$base",58],["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'rest\/type\/node\/page'",58],")",";",["T_WHITESPACE","\n    ",58],["T_COMMENT","\/\/ Now with optional context.\n",59],["T_WHITESPACE","    ",60],["T_VARIABLE","$link",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$type_manager",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getTypeUri",60],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'page'",60],",",["T_WHITESPACE"," ",60],"[",["T_CONSTANT_ENCAPSED_STRING","'rest_test'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_STRING","TRUE",60],"]",")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","assertEqual",61],"(",["T_VARIABLE","$link",61],",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'rest_test_type'",61],")",";",["T_WHITESPACE","\n\n    ",61],["T_COMMENT","\/* @var \\Drupal\\rest\\LinkManager\\RelationLinkManagerInterface $relation_manager *\/",63],["T_WHITESPACE","\n    ",63],["T_VARIABLE","$relation_manager",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Drupal",64],["T_DOUBLE_COLON","::",64],["T_STRING","service",64],"(",["T_CONSTANT_ENCAPSED_STRING","'rest.link_manager.relation'",64],")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$link",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$relation_manager",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getRelationUri",65],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'page'",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'field_ref'",65],")",";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","assertEqual",66],"(",["T_VARIABLE","$link",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$base",66],["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'rest\/relation\/node\/page\/field_ref'",66],")",";",["T_WHITESPACE","\n    ",66],["T_COMMENT","\/\/ Now with optional context.\n",67],["T_WHITESPACE","    ",68],["T_VARIABLE","$link",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$relation_manager",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getRelationUri",68],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'page'",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'foobar'",68],",",["T_WHITESPACE"," ",68],"[",["T_CONSTANT_ENCAPSED_STRING","'rest_test'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_STRING","TRUE",68],"]",")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertEqual",69],"(",["T_VARIABLE","$link",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'rest_test_relation'",69],")",";",["T_WHITESPACE","\n  ",69],"}",["T_WHITESPACE","\n\n  ",70],["T_DOC_COMMENT","\/**\n   * Tests \\Drupal\\rest\\LinkManager\\LinkManager::setLinkDomain().\n   *\/",72],["T_WHITESPACE","\n  ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","testRestLinkManagersSetLinkDomain",75],"(",")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n    ",75],["T_COMMENT","\/* @var \\Drupal\\rest\\LinkManager\\LinkManager $link_manager *\/",76],["T_WHITESPACE","\n    ",76],["T_VARIABLE","$link_manager",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Drupal",77],["T_DOUBLE_COLON","::",77],["T_STRING","service",77],"(",["T_CONSTANT_ENCAPSED_STRING","'rest.link_manager'",77],")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$link_manager",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","setLinkDomain",78],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/'",78],")",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$link",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$link_manager",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getTypeUri",79],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",79],",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'page'",79],")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertEqual",80],"(",["T_VARIABLE","$link",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/rest\/type\/node\/page'",80],")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$link",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$link_manager",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getRelationUri",81],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'page'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'field_ref'",81],")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertEqual",82],"(",["T_VARIABLE","$link",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/rest\/relation\/node\/page\/field_ref'",82],")",";",["T_WHITESPACE","\n  ",82],"}",["T_WHITESPACE","\n\n",83],"}",["T_WHITESPACE","\n",85]]