[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","path",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Unicode",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Cache",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Cache",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Database",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Database",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Add, edit, delete, and change alias and verify its consistency in the\n * database.\n *\n * @group path\n *\/",9],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","PathAliasTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","PathTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_STATIC","static",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$modules",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_ARRAY","array",22],"(",["T_CONSTANT_ENCAPSED_STRING","'path'",22],")",";",["T_WHITESPACE","\n\n  ",22],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_FUNCTION","function",24],["T_WHITESPACE"," ",24],["T_STRING","setUp",24],"(",")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n    ",24],["T_STRING","parent",25],["T_DOUBLE_COLON","::",25],["T_STRING","setUp",25],"(",")",";",["T_WHITESPACE","\n\n    ",25],["T_COMMENT","\/\/ Create test user and log in.\n",27],["T_WHITESPACE","    ",28],["T_VARIABLE","$web_user",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","drupalCreateUser",28],"(",["T_ARRAY","array",28],"(",["T_CONSTANT_ENCAPSED_STRING","'create page content'",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'edit own page content'",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'administer url aliases'",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'create url aliases'",28],")",")",";",["T_WHITESPACE","\n    ",28],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","drupalLogin",29],"(",["T_VARIABLE","$web_user",29],")",";",["T_WHITESPACE","\n  ",29],"}",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * Tests the path cache.\n   *\/",32],["T_WHITESPACE","\n  ",34],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","testPathCache",35],"(",")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n    ",35],["T_COMMENT","\/\/ Create test node.\n",36],["T_WHITESPACE","    ",37],["T_VARIABLE","$node1",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","drupalCreateNode",37],"(",")",";",["T_WHITESPACE","\n\n    ",37],["T_COMMENT","\/\/ Create alias.\n",39],["T_WHITESPACE","    ",40],["T_VARIABLE","$edit",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_ARRAY","array",40],"(",")",";",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$edit",41],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",41],"]",["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'\/node\/'",41],["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_VARIABLE","$node1",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","id",41],"(",")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$edit",42],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",42],"]",["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'\/'",42],["T_WHITESPACE"," ",42],".",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","randomMachineName",42],"(",["T_LNUMBER","8",42],")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","drupalPostForm",43],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/search\/path\/add'",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$edit",43],",",["T_WHITESPACE"," ",43],["T_STRING","t",43],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",43],")",")",";",["T_WHITESPACE","\n\n    ",43],["T_COMMENT","\/\/ Check the path alias whitelist cache.\n",45],["T_WHITESPACE","    ",46],["T_VARIABLE","$whitelist",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_NS_SEPARATOR","\\",46],["T_STRING","Drupal",46],["T_DOUBLE_COLON","::",46],["T_STRING","cache",46],"(",["T_CONSTANT_ENCAPSED_STRING","'bootstrap'",46],")",["T_OBJECT_OPERATOR","->",46],["T_STRING","get",46],"(",["T_CONSTANT_ENCAPSED_STRING","'path_alias_whitelist'",46],")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","assertTrue",47],"(",["T_VARIABLE","$whitelist",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","data",47],"[",["T_CONSTANT_ENCAPSED_STRING","'node'",47],"]",")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","assertFalse",48],"(",["T_VARIABLE","$whitelist",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","data",48],"[",["T_CONSTANT_ENCAPSED_STRING","'admin'",48],"]",")",";",["T_WHITESPACE","\n\n    ",48],["T_COMMENT","\/\/ Visit the system path for the node and confirm a cache entry is\n",50],["T_WHITESPACE","    ",51],["T_COMMENT","\/\/ created.\n",51],["T_WHITESPACE","    ",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Drupal",52],["T_DOUBLE_COLON","::",52],["T_STRING","cache",52],"(",["T_CONSTANT_ENCAPSED_STRING","'data'",52],")",["T_OBJECT_OPERATOR","->",52],["T_STRING","deleteAll",52],"(",")",";",["T_WHITESPACE","\n    ",52],["T_COMMENT","\/\/ Make sure the path is not converted to the alias.\n",53],["T_WHITESPACE","    ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","drupalGet",54],"(",["T_STRING","trim",54],"(",["T_VARIABLE","$edit",54],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",54],"]",",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'\/'",54],")",",",["T_WHITESPACE"," ",54],["T_ARRAY","array",54],"(",["T_CONSTANT_ENCAPSED_STRING","'alias'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_STRING","TRUE",54],")",")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertTrue",55],"(",["T_NS_SEPARATOR","\\",55],["T_STRING","Drupal",55],["T_DOUBLE_COLON","::",55],["T_STRING","cache",55],"(",["T_CONSTANT_ENCAPSED_STRING","'data'",55],")",["T_OBJECT_OPERATOR","->",55],["T_STRING","get",55],"(",["T_CONSTANT_ENCAPSED_STRING","'preload-paths:'",55],["T_WHITESPACE"," ",55],".",["T_WHITESPACE"," ",55],["T_VARIABLE","$edit",55],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",55],"]",")",",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'Cache entry was created.'",55],")",";",["T_WHITESPACE","\n\n    ",55],["T_COMMENT","\/\/ Visit the alias for the node and confirm a cache entry is created.\n",57],["T_WHITESPACE","    ",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Drupal",58],["T_DOUBLE_COLON","::",58],["T_STRING","cache",58],"(",["T_CONSTANT_ENCAPSED_STRING","'data'",58],")",["T_OBJECT_OPERATOR","->",58],["T_STRING","deleteAll",58],"(",")",";",["T_WHITESPACE","\n    ",58],["T_COMMENT","\/\/ @todo Remove this once https:\/\/www.drupal.org\/node\/2480077 lands.\n",59],["T_WHITESPACE","    ",60],["T_STRING","Cache",60],["T_DOUBLE_COLON","::",60],["T_STRING","invalidateTags",60],"(","[",["T_CONSTANT_ENCAPSED_STRING","'rendered'",60],"]",")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","drupalGet",61],"(",["T_STRING","trim",61],"(",["T_VARIABLE","$edit",61],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",61],"]",",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'\/'",61],")",")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertTrue",62],"(",["T_NS_SEPARATOR","\\",62],["T_STRING","Drupal",62],["T_DOUBLE_COLON","::",62],["T_STRING","cache",62],"(",["T_CONSTANT_ENCAPSED_STRING","'data'",62],")",["T_OBJECT_OPERATOR","->",62],["T_STRING","get",62],"(",["T_CONSTANT_ENCAPSED_STRING","'preload-paths:'",62],["T_WHITESPACE"," ",62],".",["T_WHITESPACE"," ",62],["T_VARIABLE","$edit",62],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",62],"]",")",",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'Cache entry was created.'",62],")",";",["T_WHITESPACE","\n  ",62],"}",["T_WHITESPACE","\n\n  ",63],["T_DOC_COMMENT","\/**\n   * Tests alias functionality through the admin interfaces.\n   *\/",65],["T_WHITESPACE","\n  ",67],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","testAdminAlias",68],"(",")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n    ",68],["T_COMMENT","\/\/ Create test node.\n",69],["T_WHITESPACE","    ",70],["T_VARIABLE","$node1",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","drupalCreateNode",70],"(",")",";",["T_WHITESPACE","\n\n    ",70],["T_COMMENT","\/\/ Create alias.\n",72],["T_WHITESPACE","    ",73],["T_VARIABLE","$edit",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_ARRAY","array",73],"(",")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$edit",74],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",74],"]",["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'\/node\/'",74],["T_WHITESPACE"," ",74],".",["T_WHITESPACE"," ",74],["T_VARIABLE","$node1",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","id",74],"(",")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$edit",75],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",75],"]",["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'\/'",75],["T_WHITESPACE"," ",75],".",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getRandomGenerator",75],"(",")",["T_OBJECT_OPERATOR","->",75],["T_STRING","word",75],"(",["T_LNUMBER","8",75],")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","drupalPostForm",76],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/search\/path\/add'",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$edit",76],",",["T_WHITESPACE"," ",76],["T_STRING","t",76],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",76],")",")",";",["T_WHITESPACE","\n\n    ",76],["T_COMMENT","\/\/ Confirm that the alias works.\n",78],["T_WHITESPACE","    ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","drupalGet",79],"(",["T_VARIABLE","$edit",79],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",79],"]",")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertText",80],"(",["T_VARIABLE","$node1",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","label",80],"(",")",",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'Alias works.'",80],")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertResponse",81],"(",["T_LNUMBER","200",81],")",";",["T_WHITESPACE","\n    ",81],["T_COMMENT","\/\/ Confirm that the alias works in a case-insensitive way.\n",82],["T_WHITESPACE","    ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertTrue",83],"(",["T_STRING","ctype_lower",83],"(",["T_STRING","ltrim",83],"(",["T_VARIABLE","$edit",83],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",83],"]",",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'\/'",83],")",")",")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","drupalGet",84],"(",["T_VARIABLE","$edit",84],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",84],"]",")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertText",85],"(",["T_VARIABLE","$node1",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","label",85],"(",")",",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'Alias works lower case.'",85],")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertResponse",86],"(",["T_LNUMBER","200",86],")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","drupalGet",87],"(",["T_STRING","Unicode",87],["T_DOUBLE_COLON","::",87],["T_STRING","strtoupper",87],"(",["T_VARIABLE","$edit",87],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",87],"]",")",")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","assertText",88],"(",["T_VARIABLE","$node1",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","label",88],"(",")",",",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'Alias works upper case.'",88],")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertResponse",89],"(",["T_LNUMBER","200",89],")",";",["T_WHITESPACE","\n\n    ",89],["T_COMMENT","\/\/ Change alias to one containing \"exotic\" characters.\n",91],["T_WHITESPACE","    ",92],["T_VARIABLE","$pid",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getPID",92],"(",["T_VARIABLE","$edit",92],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",92],"]",")",";",["T_WHITESPACE","\n\n    ",92],["T_VARIABLE","$previous",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$edit",94],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",94],"]",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$edit",95],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",95],"]",["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'\/alias'",95],["T_WHITESPACE"," ",95],".",["T_WHITESPACE"," ",95],["T_COMMENT","\/\/ Lower-case letters.\n",95],["T_WHITESPACE","      ",96],["T_COMMENT","\/\/ \"Special\" ASCII characters.\n",96],["T_WHITESPACE","      ",97],["T_CONSTANT_ENCAPSED_STRING","\"- ._~!$'\\\"()*@[]?&+%#,;=:\"",97],["T_WHITESPACE"," ",97],".",["T_WHITESPACE","\n      ",97],["T_COMMENT","\/\/ Characters that look like a percent-escaped string.\n",98],["T_WHITESPACE","      ",99],["T_CONSTANT_ENCAPSED_STRING","\"%23%25%26%2B%2F%3F\"",99],["T_WHITESPACE"," ",99],".",["T_WHITESPACE","\n      ",99],["T_COMMENT","\/\/ Characters from various non-ASCII alphabets.\n",100],["T_WHITESPACE","      ",101],["T_CONSTANT_ENCAPSED_STRING","\"\u00e4\u00b8\u00ad\u00e5\u009c\u008b\u00e6\u009b\u00b8\u00db\u009e\"",101],";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$connection",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","Database",102],["T_DOUBLE_COLON","::",102],["T_STRING","getConnection",102],"(",")",";",["T_WHITESPACE","\n    ",102],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$connection",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","databaseType",103],"(",")",["T_WHITESPACE"," ",103],["T_IS_NOT_EQUAL","!=",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'sqlite'",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n      ",103],["T_COMMENT","\/\/ When using LIKE for case-insensitivity, the SQLite driver is\n",104],["T_WHITESPACE","      ",105],["T_COMMENT","\/\/ currently unable to find the upper-case versions of non-ASCII\n",105],["T_WHITESPACE","      ",106],["T_COMMENT","\/\/ characters.\n",106],["T_WHITESPACE","      ",107],["T_COMMENT","\/\/ @todo fix this in https:\/\/www.drupal.org\/node\/2607432\n",107],["T_WHITESPACE","      ",108],["T_VARIABLE","$edit",108],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",108],"]",["T_WHITESPACE"," ",108],["T_CONCAT_EQUAL",".=",108],["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","\"\u00c3\u00af\u00d0\u00b2\u00ce\u00b2\u00c3\u00a9\u00c3\u00b8\"",108],";",["T_WHITESPACE","\n    ",108],"}",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","drupalPostForm",110],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/search\/path\/edit\/'",110],["T_WHITESPACE"," ",110],".",["T_WHITESPACE"," ",110],["T_VARIABLE","$pid",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$edit",110],",",["T_WHITESPACE"," ",110],["T_STRING","t",110],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",110],")",")",";",["T_WHITESPACE","\n\n    ",110],["T_COMMENT","\/\/ Confirm that the alias works.\n",112],["T_WHITESPACE","    ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","drupalGet",113],"(",["T_STRING","Unicode",113],["T_DOUBLE_COLON","::",113],["T_STRING","strtoupper",113],"(",["T_VARIABLE","$edit",113],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",113],"]",")",")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","assertText",114],"(",["T_VARIABLE","$node1",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","label",114],"(",")",",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'Changed alias works.'",114],")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","assertResponse",115],"(",["T_LNUMBER","200",115],")",";",["T_WHITESPACE","\n\n    ",115],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","container",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","get",117],"(",["T_CONSTANT_ENCAPSED_STRING","'path.alias_manager'",117],")",["T_OBJECT_OPERATOR","->",117],["T_STRING","cacheClear",117],"(",")",";",["T_WHITESPACE","\n    ",117],["T_COMMENT","\/\/ Confirm that previous alias no longer works.\n",118],["T_WHITESPACE","    ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","drupalGet",119],"(",["T_VARIABLE","$previous",119],")",";",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","assertNoText",120],"(",["T_VARIABLE","$node1",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","label",120],"(",")",",",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'Previous alias no longer works.'",120],")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","assertResponse",121],"(",["T_LNUMBER","404",121],")",";",["T_WHITESPACE","\n\n    ",121],["T_COMMENT","\/\/ Create second test node.\n",123],["T_WHITESPACE","    ",124],["T_VARIABLE","$node2",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","drupalCreateNode",124],"(",")",";",["T_WHITESPACE","\n\n    ",124],["T_COMMENT","\/\/ Set alias to second test node.\n",126],["T_WHITESPACE","    ",127],["T_VARIABLE","$edit",127],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",127],"]",["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'\/node\/'",127],["T_WHITESPACE"," ",127],".",["T_WHITESPACE"," ",127],["T_VARIABLE","$node2",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","id",127],"(",")",";",["T_WHITESPACE","\n    ",127],["T_COMMENT","\/\/ leave $edit['alias'] the same\n",128],["T_WHITESPACE","    ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","drupalPostForm",129],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/search\/path\/add'",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$edit",129],",",["T_WHITESPACE"," ",129],["T_STRING","t",129],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",129],")",")",";",["T_WHITESPACE","\n\n    ",129],["T_COMMENT","\/\/ Confirm no duplicate was created.\n",131],["T_WHITESPACE","    ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","assertRaw",132],"(",["T_STRING","t",132],"(",["T_CONSTANT_ENCAPSED_STRING","'The alias %alias is already in use in this language.'",132],",",["T_WHITESPACE"," ",132],["T_ARRAY","array",132],"(",["T_CONSTANT_ENCAPSED_STRING","'%alias'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$edit",132],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",132],"]",")",")",",",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'Attempt to move alias was rejected.'",132],")",";",["T_WHITESPACE","\n\n    ",132],["T_VARIABLE","$edit_upper",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$edit",134],";",["T_WHITESPACE","\n    ",134],["T_VARIABLE","$edit_upper",135],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",135],"]",["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_STRING","Unicode",135],["T_DOUBLE_COLON","::",135],["T_STRING","strtoupper",135],"(",["T_VARIABLE","$edit",135],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",135],"]",")",";",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","drupalPostForm",136],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/search\/path\/add'",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$edit_upper",136],",",["T_WHITESPACE"," ",136],["T_STRING","t",136],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",136],")",")",";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","assertRaw",137],"(",["T_STRING","t",137],"(",["T_CONSTANT_ENCAPSED_STRING","'The alias %alias could not be added because it is already in use in this language with different capitalization: %stored_alias.'",137],",",["T_WHITESPACE"," ",137],"[",["T_WHITESPACE","\n      ",137],["T_CONSTANT_ENCAPSED_STRING","'%alias'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$edit_upper",138],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",138],"]",",",["T_WHITESPACE","\n      ",138],["T_CONSTANT_ENCAPSED_STRING","'%stored_alias'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$edit",139],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",139],"]",",",["T_WHITESPACE","\n    ",139],"]",")",",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'Attempt to move upper-case alias was rejected.'",140],")",";",["T_WHITESPACE","\n\n    ",140],["T_COMMENT","\/\/ Delete alias.\n",142],["T_WHITESPACE","    ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","drupalGet",143],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/search\/path\/edit\/'",143],["T_WHITESPACE"," ",143],".",["T_WHITESPACE"," ",143],["T_VARIABLE","$pid",143],")",";",["T_WHITESPACE","\n    ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","clickLink",144],"(",["T_STRING","t",144],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",144],")",")",";",["T_WHITESPACE","\n    ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","assertRaw",145],"(",["T_STRING","t",145],"(",["T_CONSTANT_ENCAPSED_STRING","'Are you sure you want to delete path alias %name?'",145],",",["T_WHITESPACE"," ",145],["T_ARRAY","array",145],"(",["T_CONSTANT_ENCAPSED_STRING","'%name'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$edit",145],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",145],"]",")",")",")",";",["T_WHITESPACE","\n    ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","drupalPostForm",146],"(",["T_STRING","NULL",146],",",["T_WHITESPACE"," ",146],["T_ARRAY","array",146],"(",")",",",["T_WHITESPACE"," ",146],["T_STRING","t",146],"(",["T_CONSTANT_ENCAPSED_STRING","'Confirm'",146],")",")",";",["T_WHITESPACE","\n\n    ",146],["T_COMMENT","\/\/ Confirm that the alias no longer works.\n",148],["T_WHITESPACE","    ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","drupalGet",149],"(",["T_VARIABLE","$edit",149],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",149],"]",")",";",["T_WHITESPACE","\n    ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","assertNoText",150],"(",["T_VARIABLE","$node1",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","label",150],"(",")",",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'Alias was successfully deleted.'",150],")",";",["T_WHITESPACE","\n    ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","assertResponse",151],"(",["T_LNUMBER","404",151],")",";",["T_WHITESPACE","\n\n    ",151],["T_COMMENT","\/\/ Create a really long alias.\n",153],["T_WHITESPACE","    ",154],["T_VARIABLE","$edit",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_ARRAY","array",154],"(",")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$edit",155],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",155],"]",["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'\/node\/'",155],["T_WHITESPACE"," ",155],".",["T_WHITESPACE"," ",155],["T_VARIABLE","$node1",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","id",155],"(",")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$alias",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'\/'",156],["T_WHITESPACE"," ",156],".",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","randomMachineName",156],"(",["T_LNUMBER","128",156],")",";",["T_WHITESPACE","\n    ",156],["T_VARIABLE","$edit",157],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",157],"]",["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$alias",157],";",["T_WHITESPACE","\n    ",157],["T_COMMENT","\/\/ The alias is shortened to 50 characters counting the ellipsis.\n",158],["T_WHITESPACE","    ",159],["T_VARIABLE","$truncated_alias",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_STRING","substr",159],"(",["T_VARIABLE","$alias",159],",",["T_WHITESPACE"," ",159],["T_LNUMBER","0",159],",",["T_WHITESPACE"," ",159],["T_LNUMBER","47",159],")",";",["T_WHITESPACE","\n    ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","drupalPostForm",160],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/search\/path\/add'",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$edit",160],",",["T_WHITESPACE"," ",160],["T_STRING","t",160],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",160],")",")",";",["T_WHITESPACE","\n    ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","assertNoText",161],"(",["T_VARIABLE","$alias",161],",",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'The untruncated alias was not found.'",161],")",";",["T_WHITESPACE","\n    ",161],["T_COMMENT","\/\/ The 'truncated' alias will always be found.\n",162],["T_WHITESPACE","    ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","assertText",163],"(",["T_VARIABLE","$truncated_alias",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'The truncated alias was found.'",163],")",";",["T_WHITESPACE","\n\n    ",163],["T_COMMENT","\/\/ Create third test node.\n",165],["T_WHITESPACE","    ",166],["T_VARIABLE","$node3",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","drupalCreateNode",166],"(",")",";",["T_WHITESPACE","\n\n    ",166],["T_COMMENT","\/\/ Create absolute path alias.\n",168],["T_WHITESPACE","    ",169],["T_VARIABLE","$edit",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_ARRAY","array",169],"(",")",";",["T_WHITESPACE","\n    ",169],["T_VARIABLE","$edit",170],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",170],"]",["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'\/node\/'",170],["T_WHITESPACE"," ",170],".",["T_WHITESPACE"," ",170],["T_VARIABLE","$node3",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","id",170],"(",")",";",["T_WHITESPACE","\n    ",170],["T_VARIABLE","$node3_alias",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'\/'",171],["T_WHITESPACE"," ",171],".",["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","randomMachineName",171],"(",["T_LNUMBER","8",171],")",";",["T_WHITESPACE","\n    ",171],["T_VARIABLE","$edit",172],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",172],"]",["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$node3_alias",172],";",["T_WHITESPACE","\n    ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","drupalPostForm",173],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/search\/path\/add'",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$edit",173],",",["T_WHITESPACE"," ",173],["T_STRING","t",173],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",173],")",")",";",["T_WHITESPACE","\n\n    ",173],["T_COMMENT","\/\/ Create fourth test node.\n",175],["T_WHITESPACE","    ",176],["T_VARIABLE","$node4",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","drupalCreateNode",176],"(",")",";",["T_WHITESPACE","\n\n    ",176],["T_COMMENT","\/\/ Create alias with trailing slash.\n",178],["T_WHITESPACE","    ",179],["T_VARIABLE","$edit",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_ARRAY","array",179],"(",")",";",["T_WHITESPACE","\n    ",179],["T_VARIABLE","$edit",180],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",180],"]",["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'\/node\/'",180],["T_WHITESPACE"," ",180],".",["T_WHITESPACE"," ",180],["T_VARIABLE","$node4",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","id",180],"(",")",";",["T_WHITESPACE","\n    ",180],["T_VARIABLE","$node4_alias",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'\/'",181],["T_WHITESPACE"," ",181],".",["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","randomMachineName",181],"(",["T_LNUMBER","8",181],")",";",["T_WHITESPACE","\n    ",181],["T_VARIABLE","$edit",182],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",182],"]",["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$node4_alias",182],["T_WHITESPACE"," ",182],".",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'\/'",182],";",["T_WHITESPACE","\n    ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","drupalPostForm",183],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/search\/path\/add'",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$edit",183],",",["T_WHITESPACE"," ",183],["T_STRING","t",183],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",183],")",")",";",["T_WHITESPACE","\n\n    ",183],["T_COMMENT","\/\/ Confirm that the alias with trailing slash is not found.\n",185],["T_WHITESPACE","    ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","assertNoText",186],"(",["T_VARIABLE","$edit",186],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",186],"]",",",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'The absolute alias was not found.'",186],")",";",["T_WHITESPACE","\n    ",186],["T_COMMENT","\/\/ The alias without trailing flash is found.\n",187],["T_WHITESPACE","    ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","assertText",188],"(",["T_STRING","trim",188],"(",["T_VARIABLE","$edit",188],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",188],"]",",",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'\/'",188],")",",",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'The alias without trailing slash was found.'",188],")",";",["T_WHITESPACE","\n\n    ",188],["T_COMMENT","\/\/ Update an existing alias to point to a different source.\n",190],["T_WHITESPACE","    ",191],["T_VARIABLE","$pid",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getPID",191],"(",["T_VARIABLE","$node4_alias",191],")",";",["T_WHITESPACE","\n    ",191],["T_VARIABLE","$edit",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],"[","]",";",["T_WHITESPACE","\n    ",192],["T_VARIABLE","$edit",193],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",193],"]",["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$node4_alias",193],";",["T_WHITESPACE","\n    ",193],["T_VARIABLE","$edit",194],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",194],"]",["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'\/node\/'",194],["T_WHITESPACE"," ",194],".",["T_WHITESPACE"," ",194],["T_VARIABLE","$node2",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","id",194],"(",")",";",["T_WHITESPACE","\n    ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","drupalPostForm",195],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/search\/path\/edit\/'",195],["T_WHITESPACE"," ",195],".",["T_WHITESPACE"," ",195],["T_VARIABLE","$pid",195],",",["T_WHITESPACE"," ",195],["T_VARIABLE","$edit",195],",",["T_WHITESPACE"," ",195],["T_STRING","t",195],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",195],")",")",";",["T_WHITESPACE","\n    ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","assertText",196],"(",["T_CONSTANT_ENCAPSED_STRING","'The alias has been saved.'",196],")",";",["T_WHITESPACE","\n    ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","drupalGet",197],"(",["T_VARIABLE","$edit",197],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",197],"]",")",";",["T_WHITESPACE","\n    ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","assertNoText",198],"(",["T_VARIABLE","$node4",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","label",198],"(",")",",",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'Previous alias no longer works.'",198],")",";",["T_WHITESPACE","\n    ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","assertText",199],"(",["T_VARIABLE","$node2",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","label",199],"(",")",",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'Alias works.'",199],")",";",["T_WHITESPACE","\n    ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","assertResponse",200],"(",["T_LNUMBER","200",200],")",";",["T_WHITESPACE","\n\n    ",200],["T_COMMENT","\/\/ Update an existing alias to use a duplicate alias.\n",202],["T_WHITESPACE","    ",203],["T_VARIABLE","$pid",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getPID",203],"(",["T_VARIABLE","$node3_alias",203],")",";",["T_WHITESPACE","\n    ",203],["T_VARIABLE","$edit",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],"[","]",";",["T_WHITESPACE","\n    ",204],["T_VARIABLE","$edit",205],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",205],"]",["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$node4_alias",205],";",["T_WHITESPACE","\n    ",205],["T_VARIABLE","$edit",206],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",206],"]",["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'\/node\/'",206],["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_VARIABLE","$node3",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","id",206],"(",")",";",["T_WHITESPACE","\n    ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","drupalPostForm",207],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/search\/path\/edit\/'",207],["T_WHITESPACE"," ",207],".",["T_WHITESPACE"," ",207],["T_VARIABLE","$pid",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$edit",207],",",["T_WHITESPACE"," ",207],["T_STRING","t",207],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",207],")",")",";",["T_WHITESPACE","\n    ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","assertRaw",208],"(",["T_STRING","t",208],"(",["T_CONSTANT_ENCAPSED_STRING","'The alias %alias is already in use in this language.'",208],",",["T_WHITESPACE"," ",208],["T_ARRAY","array",208],"(",["T_CONSTANT_ENCAPSED_STRING","'%alias'",208],["T_WHITESPACE"," ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$edit",208],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",208],"]",")",")",")",";",["T_WHITESPACE","\n\n    ",208],["T_COMMENT","\/\/ Create an alias without a starting slash.\n",210],["T_WHITESPACE","    ",211],["T_VARIABLE","$node5",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","drupalCreateNode",211],"(",")",";",["T_WHITESPACE","\n\n    ",211],["T_VARIABLE","$edit",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_ARRAY","array",213],"(",")",";",["T_WHITESPACE","\n    ",213],["T_VARIABLE","$edit",214],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",214],"]",["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'node\/'",214],["T_WHITESPACE"," ",214],".",["T_WHITESPACE"," ",214],["T_VARIABLE","$node5",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","id",214],"(",")",";",["T_WHITESPACE","\n    ",214],["T_VARIABLE","$node5_alias",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","randomMachineName",215],"(",["T_LNUMBER","8",215],")",";",["T_WHITESPACE","\n    ",215],["T_VARIABLE","$edit",216],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",216],"]",["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$node5_alias",216],["T_WHITESPACE"," ",216],".",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'\/'",216],";",["T_WHITESPACE","\n    ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","drupalPostForm",217],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/search\/path\/add'",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$edit",217],",",["T_WHITESPACE"," ",217],["T_STRING","t",217],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",217],")",")",";",["T_WHITESPACE","\n\n    ",217],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","assertUrl",219],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/search\/path\/add'",219],")",";",["T_WHITESPACE","\n    ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","assertText",220],"(",["T_CONSTANT_ENCAPSED_STRING","'The source path has to start with a slash.'",220],")",";",["T_WHITESPACE","\n    ",220],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","assertText",221],"(",["T_CONSTANT_ENCAPSED_STRING","'The alias path has to start with a slash.'",221],")",";",["T_WHITESPACE","\n  ",221],"}",["T_WHITESPACE","\n\n  ",222],["T_DOC_COMMENT","\/**\n   * Tests alias functionality through the node interfaces.\n   *\/",224],["T_WHITESPACE","\n  ",226],["T_FUNCTION","function",227],["T_WHITESPACE"," ",227],["T_STRING","testNodeAlias",227],"(",")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n    ",227],["T_COMMENT","\/\/ Create test node.\n",228],["T_WHITESPACE","    ",229],["T_VARIABLE","$node1",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","drupalCreateNode",229],"(",")",";",["T_WHITESPACE","\n\n    ",229],["T_COMMENT","\/\/ Create alias.\n",231],["T_WHITESPACE","    ",232],["T_VARIABLE","$edit",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_ARRAY","array",232],"(",")",";",["T_WHITESPACE","\n    ",232],["T_VARIABLE","$edit",233],"[",["T_CONSTANT_ENCAPSED_STRING","'path[0][alias]'",233],"]",["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'\/'",233],["T_WHITESPACE"," ",233],".",["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","randomMachineName",233],"(",["T_LNUMBER","8",233],")",";",["T_WHITESPACE","\n    ",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","drupalPostForm",234],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",234],["T_WHITESPACE"," ",234],".",["T_WHITESPACE"," ",234],["T_VARIABLE","$node1",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","id",234],"(",")",["T_WHITESPACE"," ",234],".",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",234],",",["T_WHITESPACE"," ",234],["T_VARIABLE","$edit",234],",",["T_WHITESPACE"," ",234],["T_STRING","t",234],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",234],")",")",";",["T_WHITESPACE","\n\n    ",234],["T_COMMENT","\/\/ Confirm that the alias works.\n",236],["T_WHITESPACE","    ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","drupalGet",237],"(",["T_VARIABLE","$edit",237],"[",["T_CONSTANT_ENCAPSED_STRING","'path[0][alias]'",237],"]",")",";",["T_WHITESPACE","\n    ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","assertText",238],"(",["T_VARIABLE","$node1",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","label",238],"(",")",",",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","'Alias works.'",238],")",";",["T_WHITESPACE","\n    ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","assertResponse",239],"(",["T_LNUMBER","200",239],")",";",["T_WHITESPACE","\n\n    ",239],["T_COMMENT","\/\/ Confirm the 'canonical' and 'shortlink' URLs.\n",241],["T_WHITESPACE","    ",242],["T_VARIABLE","$elements",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","xpath",242],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/link[contains(@rel, 'canonical') and contains(@href, '\"",242],["T_WHITESPACE"," ",242],".",["T_WHITESPACE"," ",242],["T_VARIABLE","$edit",242],"[",["T_CONSTANT_ENCAPSED_STRING","'path[0][alias]'",242],"]",["T_WHITESPACE"," ",242],".",["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","\"')]\"",242],")",";",["T_WHITESPACE","\n    ",242],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","assertTrue",243],"(","!",["T_EMPTY","empty",243],"(",["T_VARIABLE","$elements",243],")",",",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'Page contains canonical link URL.'",243],")",";",["T_WHITESPACE","\n    ",243],["T_VARIABLE","$elements",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","xpath",244],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/link[contains(@rel, 'shortlink') and contains(@href, 'node\/\"",244],["T_WHITESPACE"," ",244],".",["T_WHITESPACE"," ",244],["T_VARIABLE","$node1",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","id",244],"(",")",["T_WHITESPACE"," ",244],".",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","\"')]\"",244],")",";",["T_WHITESPACE","\n    ",244],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","assertTrue",245],"(","!",["T_EMPTY","empty",245],"(",["T_VARIABLE","$elements",245],")",",",["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","'Page contains shortlink URL.'",245],")",";",["T_WHITESPACE","\n\n    ",245],["T_VARIABLE","$previous",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$edit",247],"[",["T_CONSTANT_ENCAPSED_STRING","'path[0][alias]'",247],"]",";",["T_WHITESPACE","\n    ",247],["T_COMMENT","\/\/ Change alias to one containing \"exotic\" characters.\n",248],["T_WHITESPACE","    ",249],["T_VARIABLE","$edit",249],"[",["T_CONSTANT_ENCAPSED_STRING","'path[0][alias]'",249],"]",["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","'\/alias'",249],["T_WHITESPACE"," ",249],".",["T_WHITESPACE"," ",249],["T_COMMENT","\/\/ Lower-case letters.\n",249],["T_WHITESPACE","      ",250],["T_COMMENT","\/\/ \"Special\" ASCII characters.\n",250],["T_WHITESPACE","      ",251],["T_CONSTANT_ENCAPSED_STRING","\"- ._~!$'\\\"()*@[]?&+%#,;=:\"",251],["T_WHITESPACE"," ",251],".",["T_WHITESPACE","\n      ",251],["T_COMMENT","\/\/ Characters that look like a percent-escaped string.\n",252],["T_WHITESPACE","      ",253],["T_CONSTANT_ENCAPSED_STRING","\"%23%25%26%2B%2F%3F\"",253],["T_WHITESPACE"," ",253],".",["T_WHITESPACE","\n      ",253],["T_COMMENT","\/\/ Characters from various non-ASCII alphabets.\n",254],["T_WHITESPACE","      ",255],["T_CONSTANT_ENCAPSED_STRING","\"\u00e4\u00b8\u00ad\u00e5\u009c\u008b\u00e6\u009b\u00b8\u00db\u009e\"",255],";",["T_WHITESPACE","\n    ",255],["T_VARIABLE","$connection",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_STRING","Database",256],["T_DOUBLE_COLON","::",256],["T_STRING","getConnection",256],"(",")",";",["T_WHITESPACE","\n    ",256],["T_IF","if",257],["T_WHITESPACE"," ",257],"(",["T_VARIABLE","$connection",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","databaseType",257],"(",")",["T_WHITESPACE"," ",257],["T_IS_NOT_EQUAL","!=",257],["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'sqlite'",257],")",["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n      ",257],["T_COMMENT","\/\/ When using LIKE for case-insensitivity, the SQLite driver is\n",258],["T_WHITESPACE","      ",259],["T_COMMENT","\/\/ currently unable to find the upper-case versions of non-ASCII\n",259],["T_WHITESPACE","      ",260],["T_COMMENT","\/\/ characters.\n",260],["T_WHITESPACE","      ",261],["T_COMMENT","\/\/ @todo fix this in https:\/\/www.drupal.org\/node\/2607432\n",261],["T_WHITESPACE","      ",262],["T_VARIABLE","$edit",262],"[",["T_CONSTANT_ENCAPSED_STRING","'path[0][alias]'",262],"]",["T_WHITESPACE"," ",262],["T_CONCAT_EQUAL",".=",262],["T_WHITESPACE"," ",262],["T_CONSTANT_ENCAPSED_STRING","\"\u00c3\u00af\u00d0\u00b2\u00ce\u00b2\u00c3\u00a9\u00c3\u00b8\"",262],";",["T_WHITESPACE","\n    ",262],"}",["T_WHITESPACE","\n    ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","drupalPostForm",264],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",264],["T_WHITESPACE"," ",264],".",["T_WHITESPACE"," ",264],["T_VARIABLE","$node1",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","id",264],"(",")",["T_WHITESPACE"," ",264],".",["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",264],",",["T_WHITESPACE"," ",264],["T_VARIABLE","$edit",264],",",["T_WHITESPACE"," ",264],["T_STRING","t",264],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",264],")",")",";",["T_WHITESPACE","\n\n    ",264],["T_COMMENT","\/\/ Confirm that the alias works.\n",266],["T_WHITESPACE","    ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","drupalGet",267],"(",["T_STRING","Unicode",267],["T_DOUBLE_COLON","::",267],["T_STRING","strtoupper",267],"(",["T_VARIABLE","$edit",267],"[",["T_CONSTANT_ENCAPSED_STRING","'path[0][alias]'",267],"]",")",")",";",["T_WHITESPACE","\n    ",267],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","assertText",268],"(",["T_VARIABLE","$node1",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","label",268],"(",")",",",["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","'Changed alias works.'",268],")",";",["T_WHITESPACE","\n    ",268],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","assertResponse",269],"(",["T_LNUMBER","200",269],")",";",["T_WHITESPACE","\n\n    ",269],["T_COMMENT","\/\/ Make sure that previous alias no longer works.\n",271],["T_WHITESPACE","    ",272],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","drupalGet",272],"(",["T_VARIABLE","$previous",272],")",";",["T_WHITESPACE","\n    ",272],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","assertNoText",273],"(",["T_VARIABLE","$node1",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","label",273],"(",")",",",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'Previous alias no longer works.'",273],")",";",["T_WHITESPACE","\n    ",273],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","assertResponse",274],"(",["T_LNUMBER","404",274],")",";",["T_WHITESPACE","\n\n    ",274],["T_COMMENT","\/\/ Create second test node.\n",276],["T_WHITESPACE","    ",277],["T_VARIABLE","$node2",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","drupalCreateNode",277],"(",")",";",["T_WHITESPACE","\n\n    ",277],["T_COMMENT","\/\/ Set alias to second test node.\n",279],["T_WHITESPACE","    ",280],["T_COMMENT","\/\/ Leave $edit['path[0][alias]'] the same.\n",280],["T_WHITESPACE","    ",281],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","drupalPostForm",281],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",281],["T_WHITESPACE"," ",281],".",["T_WHITESPACE"," ",281],["T_VARIABLE","$node2",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","id",281],"(",")",["T_WHITESPACE"," ",281],".",["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",281],",",["T_WHITESPACE"," ",281],["T_VARIABLE","$edit",281],",",["T_WHITESPACE"," ",281],["T_STRING","t",281],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",281],")",")",";",["T_WHITESPACE","\n\n    ",281],["T_COMMENT","\/\/ Confirm that the alias didn't make a duplicate.\n",283],["T_WHITESPACE","    ",284],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","assertText",284],"(",["T_STRING","t",284],"(",["T_CONSTANT_ENCAPSED_STRING","'The alias is already in use.'",284],")",",",["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'Attempt to moved alias was rejected.'",284],")",";",["T_WHITESPACE","\n\n    ",284],["T_COMMENT","\/\/ Delete alias.\n",286],["T_WHITESPACE","    ",287],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","drupalPostForm",287],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",287],["T_WHITESPACE"," ",287],".",["T_WHITESPACE"," ",287],["T_VARIABLE","$node1",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","id",287],"(",")",["T_WHITESPACE"," ",287],".",["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",287],",",["T_WHITESPACE"," ",287],["T_ARRAY","array",287],"(",["T_CONSTANT_ENCAPSED_STRING","'path[0][alias]'",287],["T_WHITESPACE"," ",287],["T_DOUBLE_ARROW","=>",287],["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","''",287],")",",",["T_WHITESPACE"," ",287],["T_STRING","t",287],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",287],")",")",";",["T_WHITESPACE","\n\n    ",287],["T_COMMENT","\/\/ Confirm that the alias no longer works.\n",289],["T_WHITESPACE","    ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","drupalGet",290],"(",["T_VARIABLE","$edit",290],"[",["T_CONSTANT_ENCAPSED_STRING","'path[0][alias]'",290],"]",")",";",["T_WHITESPACE","\n    ",290],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","assertNoText",291],"(",["T_VARIABLE","$node1",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","label",291],"(",")",",",["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'Alias was successfully deleted.'",291],")",";",["T_WHITESPACE","\n    ",291],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","assertResponse",292],"(",["T_LNUMBER","404",292],")",";",["T_WHITESPACE","\n\n    ",292],["T_COMMENT","\/\/ Create third test node.\n",294],["T_WHITESPACE","    ",295],["T_VARIABLE","$node3",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","drupalCreateNode",295],"(",")",";",["T_WHITESPACE","\n\n    ",295],["T_COMMENT","\/\/ Set its path alias to an absolute path.\n",297],["T_WHITESPACE","    ",298],["T_VARIABLE","$edit",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_ARRAY","array",298],"(",["T_CONSTANT_ENCAPSED_STRING","'path[0][alias]'",298],["T_WHITESPACE"," ",298],["T_DOUBLE_ARROW","=>",298],["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","'\/'",298],["T_WHITESPACE"," ",298],".",["T_WHITESPACE"," ",298],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","randomMachineName",298],"(",["T_LNUMBER","8",298],")",")",";",["T_WHITESPACE","\n    ",298],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","drupalPostForm",299],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",299],["T_WHITESPACE"," ",299],".",["T_WHITESPACE"," ",299],["T_VARIABLE","$node3",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","id",299],"(",")",["T_WHITESPACE"," ",299],".",["T_WHITESPACE"," ",299],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",299],",",["T_WHITESPACE"," ",299],["T_VARIABLE","$edit",299],",",["T_WHITESPACE"," ",299],["T_STRING","t",299],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",299],")",")",";",["T_WHITESPACE","\n\n    ",299],["T_COMMENT","\/\/ Confirm that the alias was converted to a relative path.\n",301],["T_WHITESPACE","    ",302],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","drupalGet",302],"(",["T_STRING","trim",302],"(",["T_VARIABLE","$edit",302],"[",["T_CONSTANT_ENCAPSED_STRING","'path[0][alias]'",302],"]",",",["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","'\/'",302],")",")",";",["T_WHITESPACE","\n    ",302],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","assertText",303],"(",["T_VARIABLE","$node3",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","label",303],"(",")",",",["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","'Alias became relative.'",303],")",";",["T_WHITESPACE","\n    ",303],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","assertResponse",304],"(",["T_LNUMBER","200",304],")",";",["T_WHITESPACE","\n\n    ",304],["T_COMMENT","\/\/ Create fourth test node.\n",306],["T_WHITESPACE","    ",307],["T_VARIABLE","$node4",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","drupalCreateNode",307],"(",")",";",["T_WHITESPACE","\n\n    ",307],["T_COMMENT","\/\/ Set its path alias to have a trailing slash.\n",309],["T_WHITESPACE","    ",310],["T_VARIABLE","$edit",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_ARRAY","array",310],"(",["T_CONSTANT_ENCAPSED_STRING","'path[0][alias]'",310],["T_WHITESPACE"," ",310],["T_DOUBLE_ARROW","=>",310],["T_WHITESPACE"," ",310],["T_CONSTANT_ENCAPSED_STRING","'\/'",310],["T_WHITESPACE"," ",310],".",["T_WHITESPACE"," ",310],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","randomMachineName",310],"(",["T_LNUMBER","8",310],")",["T_WHITESPACE"," ",310],".",["T_WHITESPACE"," ",310],["T_CONSTANT_ENCAPSED_STRING","'\/'",310],")",";",["T_WHITESPACE","\n    ",310],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","drupalPostForm",311],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",311],["T_WHITESPACE"," ",311],".",["T_WHITESPACE"," ",311],["T_VARIABLE","$node4",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","id",311],"(",")",["T_WHITESPACE"," ",311],".",["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",311],",",["T_WHITESPACE"," ",311],["T_VARIABLE","$edit",311],",",["T_WHITESPACE"," ",311],["T_STRING","t",311],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",311],")",")",";",["T_WHITESPACE","\n\n    ",311],["T_COMMENT","\/\/ Confirm that the alias was converted to a relative path.\n",313],["T_WHITESPACE","    ",314],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","drupalGet",314],"(",["T_STRING","trim",314],"(",["T_VARIABLE","$edit",314],"[",["T_CONSTANT_ENCAPSED_STRING","'path[0][alias]'",314],"]",",",["T_WHITESPACE"," ",314],["T_CONSTANT_ENCAPSED_STRING","'\/'",314],")",")",";",["T_WHITESPACE","\n    ",314],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","assertText",315],"(",["T_VARIABLE","$node4",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","label",315],"(",")",",",["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","'Alias trimmed trailing slash.'",315],")",";",["T_WHITESPACE","\n    ",315],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","assertResponse",316],"(",["T_LNUMBER","200",316],")",";",["T_WHITESPACE","\n\n    ",316],["T_COMMENT","\/\/ Create fifth test node.\n",318],["T_WHITESPACE","    ",319],["T_VARIABLE","$node5",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","drupalCreateNode",319],"(",")",";",["T_WHITESPACE","\n\n    ",319],["T_COMMENT","\/\/ Set a path alias.\n",321],["T_WHITESPACE","    ",322],["T_VARIABLE","$edit",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_ARRAY","array",322],"(",["T_CONSTANT_ENCAPSED_STRING","'path[0][alias]'",322],["T_WHITESPACE"," ",322],["T_DOUBLE_ARROW","=>",322],["T_WHITESPACE"," ",322],["T_CONSTANT_ENCAPSED_STRING","'\/'",322],["T_WHITESPACE"," ",322],".",["T_WHITESPACE"," ",322],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","randomMachineName",322],"(",["T_LNUMBER","8",322],")",")",";",["T_WHITESPACE","\n    ",322],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","drupalPostForm",323],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",323],["T_WHITESPACE"," ",323],".",["T_WHITESPACE"," ",323],["T_VARIABLE","$node5",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","id",323],"(",")",["T_WHITESPACE"," ",323],".",["T_WHITESPACE"," ",323],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",323],",",["T_WHITESPACE"," ",323],["T_VARIABLE","$edit",323],",",["T_WHITESPACE"," ",323],["T_STRING","t",323],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",323],")",")",";",["T_WHITESPACE","\n\n    ",323],["T_COMMENT","\/\/ Delete the node and check that the path alias is also deleted.\n",325],["T_WHITESPACE","    ",326],["T_VARIABLE","$node5",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","delete",326],"(",")",";",["T_WHITESPACE","\n    ",326],["T_VARIABLE","$path_alias",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_NS_SEPARATOR","\\",327],["T_STRING","Drupal",327],["T_DOUBLE_COLON","::",327],["T_STRING","service",327],"(",["T_CONSTANT_ENCAPSED_STRING","'path.alias_storage'",327],")",["T_OBJECT_OPERATOR","->",327],["T_STRING","lookupPathAlias",327],"(",["T_CONSTANT_ENCAPSED_STRING","'\/node\/'",327],["T_WHITESPACE"," ",327],".",["T_WHITESPACE"," ",327],["T_VARIABLE","$node5",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","id",327],"(",")",",",["T_WHITESPACE"," ",327],["T_VARIABLE","$node5",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","language",327],"(",")",["T_OBJECT_OPERATOR","->",327],["T_STRING","getId",327],"(",")",")",";",["T_WHITESPACE","\n    ",327],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","assertFalse",328],"(",["T_VARIABLE","$path_alias",328],",",["T_WHITESPACE"," ",328],["T_CONSTANT_ENCAPSED_STRING","'Alias was successfully deleted when the referenced node was deleted.'",328],")",";",["T_WHITESPACE","\n  ",328],"}",["T_WHITESPACE","\n\n  ",329],["T_DOC_COMMENT","\/**\n   * Returns the path ID.\n   *\n   * @param string $alias\n   *   A string containing an aliased path.\n   *\n   * @return int\n   *   Integer representing the path ID.\n   *\/",331],["T_WHITESPACE","\n  ",339],["T_FUNCTION","function",340],["T_WHITESPACE"," ",340],["T_STRING","getPID",340],"(",["T_VARIABLE","$alias",340],")",["T_WHITESPACE"," ",340],"{",["T_WHITESPACE","\n    ",340],["T_RETURN","return",341],["T_WHITESPACE"," ",341],["T_STRING","db_query",341],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT pid FROM {url_alias} WHERE alias = :alias\"",341],",",["T_WHITESPACE"," ",341],["T_ARRAY","array",341],"(",["T_CONSTANT_ENCAPSED_STRING","':alias'",341],["T_WHITESPACE"," ",341],["T_DOUBLE_ARROW","=>",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$alias",341],")",")",["T_OBJECT_OPERATOR","->",341],["T_STRING","fetchField",341],"(",")",";",["T_WHITESPACE","\n  ",341],"}",["T_WHITESPACE","\n\n  ",342],["T_DOC_COMMENT","\/**\n   * Tests that duplicate aliases fail validation.\n   *\/",344],["T_WHITESPACE","\n  ",346],["T_FUNCTION","function",347],["T_WHITESPACE"," ",347],["T_STRING","testDuplicateNodeAlias",347],"(",")",["T_WHITESPACE"," ",347],"{",["T_WHITESPACE","\n    ",347],["T_COMMENT","\/\/ Create one node with a random alias.\n",348],["T_WHITESPACE","    ",349],["T_VARIABLE","$node_one",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","drupalCreateNode",349],"(",")",";",["T_WHITESPACE","\n    ",349],["T_VARIABLE","$edit",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_ARRAY","array",350],"(",")",";",["T_WHITESPACE","\n    ",350],["T_VARIABLE","$edit",351],"[",["T_CONSTANT_ENCAPSED_STRING","'path[0][alias]'",351],"]",["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_CONSTANT_ENCAPSED_STRING","'\/'",351],["T_WHITESPACE"," ",351],".",["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","randomMachineName",351],"(",")",";",["T_WHITESPACE","\n    ",351],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","drupalPostForm",352],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_VARIABLE","$node_one",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","id",352],"(",")",["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",352],",",["T_WHITESPACE"," ",352],["T_VARIABLE","$edit",352],",",["T_WHITESPACE"," ",352],["T_STRING","t",352],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",352],")",")",";",["T_WHITESPACE","\n\n    ",352],["T_COMMENT","\/\/ Now create another node and try to set the same alias.\n",354],["T_WHITESPACE","    ",355],["T_VARIABLE","$node_two",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","drupalCreateNode",355],"(",")",";",["T_WHITESPACE","\n    ",355],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","drupalPostForm",356],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",356],["T_WHITESPACE"," ",356],".",["T_WHITESPACE"," ",356],["T_VARIABLE","$node_two",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","id",356],"(",")",["T_WHITESPACE"," ",356],".",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",356],",",["T_WHITESPACE"," ",356],["T_VARIABLE","$edit",356],",",["T_WHITESPACE"," ",356],["T_STRING","t",356],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",356],")",")",";",["T_WHITESPACE","\n    ",356],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","assertText",357],"(",["T_STRING","t",357],"(",["T_CONSTANT_ENCAPSED_STRING","'The alias is already in use.'",357],")",")",";",["T_WHITESPACE","\n    ",357],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","assertFieldByXPath",358],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/input[@name='path[0][alias]' and contains(@class, 'error')]\"",358],",",["T_WHITESPACE"," ",358],["T_VARIABLE","$edit",358],"[",["T_CONSTANT_ENCAPSED_STRING","'path[0][alias]'",358],"]",",",["T_WHITESPACE"," ",358],["T_CONSTANT_ENCAPSED_STRING","'Textfield exists and has the error class.'",358],")",";",["T_WHITESPACE","\n  ",358],"}",["T_WHITESPACE","\n\n",359],"}",["T_WHITESPACE","\n",361]]