[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","options",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Field",3],["T_NS_SEPARATOR","\\",3],["T_STRING","FieldType",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Field",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FieldStorageDefinitionInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","TypedData",6],["T_NS_SEPARATOR","\\",6],["T_STRING","DataDefinition",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Plugin implementation of the 'list_float' field type.\n *\n * @FieldType(\n *   id = \"list_float\",\n *   label = @Translation(\"List (float)\"),\n *   description = @Translation(\"This field stores float values from a list of allowed 'value => label' pairs, i.e. 'Fraction': 0 => 0, .25 => 1\/4, .75 => 3\/4, 1 => 1.\"),\n *   category = @Translation(\"Number\"),\n *   default_widget = \"options_select\",\n *   default_formatter = \"list_default\",\n * )\n *\/",8],["T_WHITESPACE","\n",19],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","ListFloatItem",20],["T_WHITESPACE"," ",20],["T_EXTENDS","extends",20],["T_WHITESPACE"," ",20],["T_STRING","ListItemBase",20],["T_WHITESPACE"," ",20],"{",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",22],["T_WHITESPACE","\n  ",24],["T_PUBLIC","public",25],["T_WHITESPACE"," ",25],["T_STATIC","static",25],["T_WHITESPACE"," ",25],["T_FUNCTION","function",25],["T_WHITESPACE"," ",25],["T_STRING","propertyDefinitions",25],"(",["T_STRING","FieldStorageDefinitionInterface",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$field_definition",25],")",["T_WHITESPACE"," ",25],"{",["T_WHITESPACE","\n    ",25],["T_VARIABLE","$properties",26],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",26],"]",["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_STRING","DataDefinition",26],["T_DOUBLE_COLON","::",26],["T_STRING","create",26],"(",["T_CONSTANT_ENCAPSED_STRING","'float'",26],")",["T_WHITESPACE","\n      ",26],["T_OBJECT_OPERATOR","->",27],["T_STRING","setLabel",27],"(",["T_STRING","t",27],"(",["T_CONSTANT_ENCAPSED_STRING","'Float value'",27],")",")",["T_WHITESPACE","\n      ",27],["T_OBJECT_OPERATOR","->",28],["T_STRING","setRequired",28],"(",["T_STRING","TRUE",28],")",";",["T_WHITESPACE","\n\n    ",28],["T_RETURN","return",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$properties",30],";",["T_WHITESPACE","\n  ",30],"}",["T_WHITESPACE","\n\n  ",31],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",33],["T_WHITESPACE","\n  ",35],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_STATIC","static",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","schema",36],"(",["T_STRING","FieldStorageDefinitionInterface",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$field_definition",36],")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n    ",36],["T_RETURN","return",37],["T_WHITESPACE"," ",37],["T_ARRAY","array",37],"(",["T_WHITESPACE","\n      ",37],["T_CONSTANT_ENCAPSED_STRING","'columns'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_ARRAY","array",38],"(",["T_WHITESPACE","\n        ",38],["T_CONSTANT_ENCAPSED_STRING","'value'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_ARRAY","array",39],"(",["T_WHITESPACE","\n          ",39],["T_CONSTANT_ENCAPSED_STRING","'type'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'float'",40],",",["T_WHITESPACE","\n        ",40],")",",",["T_WHITESPACE","\n      ",41],")",",",["T_WHITESPACE","\n      ",42],["T_CONSTANT_ENCAPSED_STRING","'indexes'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_ARRAY","array",43],"(",["T_WHITESPACE","\n        ",43],["T_CONSTANT_ENCAPSED_STRING","'value'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_ARRAY","array",44],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",44],")",",",["T_WHITESPACE","\n      ",44],")",",",["T_WHITESPACE","\n    ",45],")",";",["T_WHITESPACE","\n  ",46],"}",["T_WHITESPACE","\n\n  ",47],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",49],["T_WHITESPACE","\n  ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","allowedValuesDescription",52],"(",")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$description",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'<p>'",53],["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_STRING","t",53],"(",["T_CONSTANT_ENCAPSED_STRING","'The possible values this field can contain. Enter one value per line, in the format key|label.'",53],")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$description",54],["T_WHITESPACE"," ",54],["T_CONCAT_EQUAL",".=",54],["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'<br\/>'",54],["T_WHITESPACE"," ",54],".",["T_WHITESPACE"," ",54],["T_STRING","t",54],"(",["T_CONSTANT_ENCAPSED_STRING","'The key is the stored value, and must be numeric. The label will be used in displayed values and edit forms.'",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$description",55],["T_WHITESPACE"," ",55],["T_CONCAT_EQUAL",".=",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'<br\/>'",55],["T_WHITESPACE"," ",55],".",["T_WHITESPACE"," ",55],["T_STRING","t",55],"(",["T_CONSTANT_ENCAPSED_STRING","'The label is optional: if a line contains a single number, it will be used as key and label.'",55],")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$description",56],["T_WHITESPACE"," ",56],["T_CONCAT_EQUAL",".=",56],["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'<br\/>'",56],["T_WHITESPACE"," ",56],".",["T_WHITESPACE"," ",56],["T_STRING","t",56],"(",["T_CONSTANT_ENCAPSED_STRING","'Lists of labels are also accepted (one label per line), only if the field does not hold any values yet. Numeric keys will be automatically generated from the positions in the list.'",56],")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$description",57],["T_WHITESPACE"," ",57],["T_CONCAT_EQUAL",".=",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'<\/p>'",57],";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$description",58],["T_WHITESPACE"," ",58],["T_CONCAT_EQUAL",".=",58],["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'<p>'",58],["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_STRING","t",58],"(",["T_CONSTANT_ENCAPSED_STRING","'Allowed HTML tags in labels: @tags'",58],",",["T_WHITESPACE"," ",58],["T_ARRAY","array",58],"(",["T_CONSTANT_ENCAPSED_STRING","'@tags'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","displayAllowedTags",58],"(",")",")",")",["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'<\/p>'",58],";",["T_WHITESPACE","\n    ",58],["T_RETURN","return",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$description",59],";",["T_WHITESPACE","\n  ",59],"}",["T_WHITESPACE","\n\n  ",60],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",62],["T_WHITESPACE","\n  ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_STATIC","static",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","extractAllowedValues",65],"(",["T_VARIABLE","$string",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$has_data",65],")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$values",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_STRING","parent",66],["T_DOUBLE_COLON","::",66],["T_STRING","extractAllowedValues",66],"(",["T_VARIABLE","$string",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$has_data",66],")",";",["T_WHITESPACE","\n    ",66],["T_IF","if",67],["T_WHITESPACE"," ",67],"(",["T_VARIABLE","$values",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n      ",67],["T_VARIABLE","$keys",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","array_keys",68],"(",["T_VARIABLE","$values",68],")",";",["T_WHITESPACE","\n      ",68],["T_VARIABLE","$labels",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","array_values",69],"(",["T_VARIABLE","$values",69],")",";",["T_WHITESPACE","\n      ",69],["T_VARIABLE","$keys",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","array_map",70],"(",["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$key",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n        ",70],["T_COMMENT","\/\/ Float keys are represented as strings and need to be disambiguated\n",71],["T_WHITESPACE","        ",72],["T_COMMENT","\/\/ ('.5' is '0.5').\n",72],["T_WHITESPACE","        ",73],["T_RETURN","return",73],["T_WHITESPACE"," ",73],["T_STRING","is_numeric",73],"(",["T_VARIABLE","$key",73],")",["T_WHITESPACE"," ",73],"?",["T_WHITESPACE"," ",73],["T_STRING_CAST","(string)",73],["T_WHITESPACE"," ",73],["T_DOUBLE_CAST","(float)",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$key",73],["T_WHITESPACE"," ",73],":",["T_WHITESPACE"," ",73],["T_VARIABLE","$key",73],";",["T_WHITESPACE","\n      ",73],"}",",",["T_WHITESPACE"," ",74],["T_VARIABLE","$keys",74],")",";",["T_WHITESPACE","\n\n      ",74],["T_RETURN","return",76],["T_WHITESPACE"," ",76],["T_STRING","array_combine",76],"(",["T_VARIABLE","$keys",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$labels",76],")",";",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n  ",77],"}",["T_WHITESPACE","\n\n  ",78],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",80],["T_WHITESPACE","\n  ",82],["T_PROTECTED","protected",83],["T_WHITESPACE"," ",83],["T_STATIC","static",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","validateAllowedValue",83],"(",["T_VARIABLE","$option",83],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n    ",83],["T_IF","if",84],["T_WHITESPACE"," ",84],"(","!",["T_STRING","is_numeric",84],"(",["T_VARIABLE","$option",84],")",")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n      ",84],["T_RETURN","return",85],["T_WHITESPACE"," ",85],["T_STRING","t",85],"(",["T_CONSTANT_ENCAPSED_STRING","'Allowed values list: each key must be a valid integer or decimal.'",85],")",";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n  ",86],"}",["T_WHITESPACE","\n\n  ",87],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",89],["T_WHITESPACE","\n  ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_STATIC","static",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","simplifyAllowedValues",92],"(",["T_ARRAY","array",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$structured_values",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$values",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_ARRAY","array",93],"(",")",";",["T_WHITESPACE","\n    ",93],["T_FOREACH","foreach",94],["T_WHITESPACE"," ",94],"(",["T_VARIABLE","$structured_values",94],["T_WHITESPACE"," ",94],["T_AS","as",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$item",94],")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n      ",94],["T_COMMENT","\/\/ Nested elements are embedded in the label.\n",95],["T_WHITESPACE","      ",96],["T_IF","if",96],["T_WHITESPACE"," ",96],"(",["T_STRING","is_array",96],"(",["T_VARIABLE","$item",96],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",96],"]",")",")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$item",97],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",97],"]",["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_STATIC","static",97],["T_DOUBLE_COLON","::",97],["T_STRING","simplifyAllowedValues",97],"(",["T_VARIABLE","$item",97],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",97],"]",")",";",["T_WHITESPACE","\n      ",97],"}",["T_WHITESPACE","\n      ",98],["T_COMMENT","\/\/ Cast the value to a float first so that .5 and 0.5 are the same value\n",99],["T_WHITESPACE","      ",100],["T_COMMENT","\/\/ and then cast to a string so that values like 0.5 can be used as array\n",100],["T_WHITESPACE","      ",101],["T_COMMENT","\/\/ keys.\n",101],["T_WHITESPACE","      ",102],["T_COMMENT","\/\/ @see http:\/\/php.net\/manual\/language.types.array.php\n",102],["T_WHITESPACE","      ",103],["T_VARIABLE","$values",103],"[",["T_STRING_CAST","(string)",103],["T_WHITESPACE"," ",103],["T_DOUBLE_CAST","(float)",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$item",103],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",103],"]","]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$item",103],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",103],"]",";",["T_WHITESPACE","\n    ",103],"}",["T_WHITESPACE","\n    ",104],["T_RETURN","return",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$values",105],";",["T_WHITESPACE","\n  ",105],"}",["T_WHITESPACE","\n\n  ",106],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",108],["T_WHITESPACE","\n  ",110],["T_PROTECTED","protected",111],["T_WHITESPACE"," ",111],["T_STATIC","static",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","castAllowedValue",111],"(",["T_VARIABLE","$value",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n    ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_DOUBLE_CAST","(float)",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$value",112],";",["T_WHITESPACE","\n  ",112],"}",["T_WHITESPACE","\n\n",113],"}",["T_WHITESPACE","\n",115]]