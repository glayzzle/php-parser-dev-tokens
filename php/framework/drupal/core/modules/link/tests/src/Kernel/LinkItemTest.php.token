[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","link",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","UrlHelper",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Field",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FieldItemListInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Field",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FieldItemInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Url",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","entity_test",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","EntityTest",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","field",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Entity",10],["T_NS_SEPARATOR","\\",10],["T_STRING","FieldConfig",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","field",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Entity",11],["T_NS_SEPARATOR","\\",11],["T_STRING","FieldStorageConfig",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tests",12],["T_NS_SEPARATOR","\\",12],["T_STRING","field",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Kernel",12],["T_NS_SEPARATOR","\\",12],["T_STRING","FieldKernelTestBase",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","link",13],["T_NS_SEPARATOR","\\",13],["T_STRING","LinkItemInterface",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * Tests the new entity API for the link field type.\n *\n * @group link\n *\/",15],["T_WHITESPACE","\n",19],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","LinkItemTest",20],["T_WHITESPACE"," ",20],["T_EXTENDS","extends",20],["T_WHITESPACE"," ",20],["T_STRING","FieldKernelTestBase",20],["T_WHITESPACE"," ",20],"{",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",22],["T_WHITESPACE","\n  ",26],["T_PUBLIC","public",27],["T_WHITESPACE"," ",27],["T_STATIC","static",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$modules",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_ARRAY","array",27],"(",["T_CONSTANT_ENCAPSED_STRING","'link'",27],")",";",["T_WHITESPACE","\n\n  ",27],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","setUp",29],"(",")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n    ",29],["T_STRING","parent",30],["T_DOUBLE_COLON","::",30],["T_STRING","setUp",30],"(",")",";",["T_WHITESPACE","\n\n    ",30],["T_COMMENT","\/\/ Create a generic, external, and internal link fields for validation.\n",32],["T_WHITESPACE","    ",33],["T_STRING","FieldStorageConfig",33],["T_DOUBLE_COLON","::",33],["T_STRING","create",33],"(","[",["T_WHITESPACE","\n      ",33],["T_CONSTANT_ENCAPSED_STRING","'field_name'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'field_test'",34],",",["T_WHITESPACE","\n      ",34],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",35],",",["T_WHITESPACE","\n      ",35],["T_CONSTANT_ENCAPSED_STRING","'type'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'link'",36],",",["T_WHITESPACE","\n    ",36],"]",")",["T_OBJECT_OPERATOR","->",37],["T_STRING","save",37],"(",")",";",["T_WHITESPACE","\n    ",37],["T_STRING","FieldConfig",38],["T_DOUBLE_COLON","::",38],["T_STRING","create",38],"(","[",["T_WHITESPACE","\n      ",38],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",39],",",["T_WHITESPACE","\n      ",39],["T_CONSTANT_ENCAPSED_STRING","'field_name'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'field_test'",40],",",["T_WHITESPACE","\n      ",40],["T_CONSTANT_ENCAPSED_STRING","'bundle'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",41],",",["T_WHITESPACE","\n      ",41],["T_CONSTANT_ENCAPSED_STRING","'settings'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],"[",["T_CONSTANT_ENCAPSED_STRING","'link_type'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_STRING","LinkItemInterface",42],["T_DOUBLE_COLON","::",42],["T_STRING","LINK_GENERIC",42],"]",",",["T_WHITESPACE","\n    ",42],"]",")",["T_OBJECT_OPERATOR","->",43],["T_STRING","save",43],"(",")",";",["T_WHITESPACE","\n    ",43],["T_STRING","FieldStorageConfig",44],["T_DOUBLE_COLON","::",44],["T_STRING","create",44],"(","[",["T_WHITESPACE","\n      ",44],["T_CONSTANT_ENCAPSED_STRING","'field_name'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'field_test_external'",45],",",["T_WHITESPACE","\n      ",45],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",46],",",["T_WHITESPACE","\n      ",46],["T_CONSTANT_ENCAPSED_STRING","'type'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'link'",47],",",["T_WHITESPACE","\n    ",47],"]",")",["T_OBJECT_OPERATOR","->",48],["T_STRING","save",48],"(",")",";",["T_WHITESPACE","\n    ",48],["T_STRING","FieldConfig",49],["T_DOUBLE_COLON","::",49],["T_STRING","create",49],"(","[",["T_WHITESPACE","\n      ",49],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",50],",",["T_WHITESPACE","\n      ",50],["T_CONSTANT_ENCAPSED_STRING","'field_name'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'field_test_external'",51],",",["T_WHITESPACE","\n      ",51],["T_CONSTANT_ENCAPSED_STRING","'bundle'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",52],",",["T_WHITESPACE","\n      ",52],["T_CONSTANT_ENCAPSED_STRING","'settings'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],"[",["T_CONSTANT_ENCAPSED_STRING","'link_type'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_STRING","LinkItemInterface",53],["T_DOUBLE_COLON","::",53],["T_STRING","LINK_EXTERNAL",53],"]",",",["T_WHITESPACE","\n    ",53],"]",")",["T_OBJECT_OPERATOR","->",54],["T_STRING","save",54],"(",")",";",["T_WHITESPACE","\n    ",54],["T_STRING","FieldStorageConfig",55],["T_DOUBLE_COLON","::",55],["T_STRING","create",55],"(","[",["T_WHITESPACE","\n      ",55],["T_CONSTANT_ENCAPSED_STRING","'field_name'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'field_test_internal'",56],",",["T_WHITESPACE","\n      ",56],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",57],",",["T_WHITESPACE","\n      ",57],["T_CONSTANT_ENCAPSED_STRING","'type'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'link'",58],",",["T_WHITESPACE","\n    ",58],"]",")",["T_OBJECT_OPERATOR","->",59],["T_STRING","save",59],"(",")",";",["T_WHITESPACE","\n    ",59],["T_STRING","FieldConfig",60],["T_DOUBLE_COLON","::",60],["T_STRING","create",60],"(","[",["T_WHITESPACE","\n      ",60],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",61],",",["T_WHITESPACE","\n      ",61],["T_CONSTANT_ENCAPSED_STRING","'field_name'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'field_test_internal'",62],",",["T_WHITESPACE","\n      ",62],["T_CONSTANT_ENCAPSED_STRING","'bundle'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",63],",",["T_WHITESPACE","\n      ",63],["T_CONSTANT_ENCAPSED_STRING","'settings'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],"[",["T_CONSTANT_ENCAPSED_STRING","'link_type'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_STRING","LinkItemInterface",64],["T_DOUBLE_COLON","::",64],["T_STRING","LINK_INTERNAL",64],"]",",",["T_WHITESPACE","\n    ",64],"]",")",["T_OBJECT_OPERATOR","->",65],["T_STRING","save",65],"(",")",";",["T_WHITESPACE","\n  ",65],"}",["T_WHITESPACE","\n\n  ",66],["T_DOC_COMMENT","\/**\n   * Tests using entity fields of the link field type.\n   *\/",68],["T_WHITESPACE","\n  ",70],["T_PUBLIC","public",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","testLinkItem",71],"(",")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n    ",71],["T_COMMENT","\/\/ Create entity.\n",72],["T_WHITESPACE","    ",73],["T_VARIABLE","$entity",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_STRING","EntityTest",73],["T_DOUBLE_COLON","::",73],["T_STRING","create",73],"(",")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$url",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.drupal.org?test_param=test_value'",74],";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$parsed_url",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","UrlHelper",75],["T_DOUBLE_COLON","::",75],["T_STRING","parse",75],"(",["T_VARIABLE","$url",75],")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$title",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","randomMachineName",76],"(",")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$class",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","randomMachineName",77],"(",")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$entity",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","field_test",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","uri",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$parsed_url",78],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",78],"]",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$entity",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","field_test",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","title",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$title",79],";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$entity",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","field_test",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","first",80],"(",")",["T_OBJECT_OPERATOR","->",80],["T_STRING","get",80],"(",["T_CONSTANT_ENCAPSED_STRING","'options'",80],")",["T_OBJECT_OPERATOR","->",80],["T_STRING","set",80],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$parsed_url",80],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",80],"]",")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$entity",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","field_test",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","first",81],"(",")",["T_OBJECT_OPERATOR","->",81],["T_STRING","get",81],"(",["T_CONSTANT_ENCAPSED_STRING","'options'",81],")",["T_OBJECT_OPERATOR","->",81],["T_STRING","set",81],"(",["T_CONSTANT_ENCAPSED_STRING","'attributes'",81],",",["T_WHITESPACE"," ",81],["T_ARRAY","array",81],"(",["T_CONSTANT_ENCAPSED_STRING","'class'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$class",81],")",")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertEquals",82],"(","[",["T_WHITESPACE","\n      ",82],["T_CONSTANT_ENCAPSED_STRING","'query'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$parsed_url",83],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",83],"]",",",["T_WHITESPACE","\n      ",83],["T_CONSTANT_ENCAPSED_STRING","'attributes'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],"[",["T_WHITESPACE","\n        ",84],["T_CONSTANT_ENCAPSED_STRING","'class'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$class",85],",",["T_WHITESPACE","\n      ",85],"]",",",["T_WHITESPACE","\n      ",86],["T_CONSTANT_ENCAPSED_STRING","'external'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_STRING","TRUE",87],",",["T_WHITESPACE","\n    ",87],"]",",",["T_WHITESPACE"," ",88],["T_VARIABLE","$entity",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","field_test",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","first",88],"(",")",["T_OBJECT_OPERATOR","->",88],["T_STRING","getUrl",88],"(",")",["T_OBJECT_OPERATOR","->",88],["T_STRING","getOptions",88],"(",")",")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$entity",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","name",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","value",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","randomMachineName",89],"(",")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$entity",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","save",90],"(",")",";",["T_WHITESPACE","\n\n    ",90],["T_COMMENT","\/\/ Verify that the field value is changed.\n",92],["T_WHITESPACE","    ",93],["T_VARIABLE","$id",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$entity",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","id",93],"(",")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$entity",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_STRING","EntityTest",94],["T_DOUBLE_COLON","::",94],["T_STRING","load",94],"(",["T_VARIABLE","$id",94],")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertTrue",95],"(",["T_VARIABLE","$entity",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","field_test",95],["T_WHITESPACE"," ",95],["T_INSTANCEOF","instanceof",95],["T_WHITESPACE"," ",95],["T_STRING","FieldItemListInterface",95],",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'Field implements interface.'",95],")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","assertTrue",96],"(",["T_VARIABLE","$entity",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","field_test",96],"[",["T_LNUMBER","0",96],"]",["T_WHITESPACE"," ",96],["T_INSTANCEOF","instanceof",96],["T_WHITESPACE"," ",96],["T_STRING","FieldItemInterface",96],",",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'Field item implements interface.'",96],")",";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","assertEqual",97],"(",["T_VARIABLE","$entity",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","field_test",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","uri",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$parsed_url",97],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",97],"]",")",";",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","assertEqual",98],"(",["T_VARIABLE","$entity",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","field_test",98],"[",["T_LNUMBER","0",98],"]",["T_OBJECT_OPERATOR","->",98],["T_STRING","uri",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$parsed_url",98],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",98],"]",")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","assertEqual",99],"(",["T_VARIABLE","$entity",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","field_test",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","title",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$title",99],")",";",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertEqual",100],"(",["T_VARIABLE","$entity",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","field_test",100],"[",["T_LNUMBER","0",100],"]",["T_OBJECT_OPERATOR","->",100],["T_STRING","title",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$title",100],")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertEqual",101],"(",["T_VARIABLE","$entity",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","field_test",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","options",101],"[",["T_CONSTANT_ENCAPSED_STRING","'attributes'",101],"]","[",["T_CONSTANT_ENCAPSED_STRING","'class'",101],"]",",",["T_WHITESPACE"," ",101],["T_VARIABLE","$class",101],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","assertEqual",102],"(",["T_VARIABLE","$entity",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","field_test",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","options",102],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",102],"]",",",["T_WHITESPACE"," ",102],["T_VARIABLE","$parsed_url",102],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",102],"]",")",";",["T_WHITESPACE","\n\n    ",102],["T_COMMENT","\/\/ Update only the entity name property to check if the link field data will\n",104],["T_WHITESPACE","    ",105],["T_COMMENT","\/\/ remain intact.\n",105],["T_WHITESPACE","    ",106],["T_VARIABLE","$entity",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","name",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","value",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","randomMachineName",106],"(",")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$entity",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","save",107],"(",")",";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$id",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$entity",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","id",108],"(",")",";",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$entity",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_STRING","EntityTest",109],["T_DOUBLE_COLON","::",109],["T_STRING","load",109],"(",["T_VARIABLE","$id",109],")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertEqual",110],"(",["T_VARIABLE","$entity",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","field_test",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","uri",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$parsed_url",110],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",110],"]",")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertEqual",111],"(",["T_VARIABLE","$entity",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","field_test",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","options",111],"[",["T_CONSTANT_ENCAPSED_STRING","'attributes'",111],"]","[",["T_CONSTANT_ENCAPSED_STRING","'class'",111],"]",",",["T_WHITESPACE"," ",111],["T_VARIABLE","$class",111],")",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","assertEqual",112],"(",["T_VARIABLE","$entity",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","field_test",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","options",112],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",112],"]",",",["T_WHITESPACE"," ",112],["T_VARIABLE","$parsed_url",112],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",112],"]",")",";",["T_WHITESPACE","\n\n    ",112],["T_COMMENT","\/\/ Verify changing the field value.\n",114],["T_WHITESPACE","    ",115],["T_VARIABLE","$new_url",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.drupal.org'",115],";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$new_title",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","randomMachineName",116],"(",")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$new_class",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","randomMachineName",117],"(",")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$entity",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","field_test",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","uri",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$new_url",118],";",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$entity",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","field_test",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","title",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$new_title",119],";",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$entity",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","field_test",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","first",120],"(",")",["T_OBJECT_OPERATOR","->",120],["T_STRING","get",120],"(",["T_CONSTANT_ENCAPSED_STRING","'options'",120],")",["T_OBJECT_OPERATOR","->",120],["T_STRING","set",120],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",120],",",["T_WHITESPACE"," ",120],["T_STRING","NULL",120],")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$entity",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","field_test",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","first",121],"(",")",["T_OBJECT_OPERATOR","->",121],["T_STRING","get",121],"(",["T_CONSTANT_ENCAPSED_STRING","'options'",121],")",["T_OBJECT_OPERATOR","->",121],["T_STRING","set",121],"(",["T_CONSTANT_ENCAPSED_STRING","'attributes'",121],",",["T_WHITESPACE"," ",121],["T_ARRAY","array",121],"(",["T_CONSTANT_ENCAPSED_STRING","'class'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$new_class",121],")",")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertEqual",122],"(",["T_VARIABLE","$entity",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","field_test",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","uri",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$new_url",122],")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","assertEqual",123],"(",["T_VARIABLE","$entity",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","field_test",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","title",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$new_title",123],")",";",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","assertEqual",124],"(",["T_VARIABLE","$entity",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","field_test",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","options",124],"[",["T_CONSTANT_ENCAPSED_STRING","'attributes'",124],"]","[",["T_CONSTANT_ENCAPSED_STRING","'class'",124],"]",",",["T_WHITESPACE"," ",124],["T_VARIABLE","$new_class",124],")",";",["T_WHITESPACE","\n    ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertNull",125],"(",["T_VARIABLE","$entity",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","field_test",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","options",125],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",125],"]",")",";",["T_WHITESPACE","\n\n    ",125],["T_COMMENT","\/\/ Read changed entity and assert changed values.\n",127],["T_WHITESPACE","    ",128],["T_VARIABLE","$entity",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","save",128],"(",")",";",["T_WHITESPACE","\n    ",128],["T_VARIABLE","$entity",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_STRING","EntityTest",129],["T_DOUBLE_COLON","::",129],["T_STRING","load",129],"(",["T_VARIABLE","$id",129],")",";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","assertEqual",130],"(",["T_VARIABLE","$entity",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","field_test",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","uri",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$new_url",130],")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","assertEqual",131],"(",["T_VARIABLE","$entity",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","field_test",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","title",131],",",["T_WHITESPACE"," ",131],["T_VARIABLE","$new_title",131],")",";",["T_WHITESPACE","\n    ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","assertEqual",132],"(",["T_VARIABLE","$entity",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","field_test",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","options",132],"[",["T_CONSTANT_ENCAPSED_STRING","'attributes'",132],"]","[",["T_CONSTANT_ENCAPSED_STRING","'class'",132],"]",",",["T_WHITESPACE"," ",132],["T_VARIABLE","$new_class",132],")",";",["T_WHITESPACE","\n\n    ",132],["T_COMMENT","\/\/ Check that if we only set uri the default values for title and options\n",134],["T_WHITESPACE","    ",135],["T_COMMENT","\/\/ are also initialized.\n",135],["T_WHITESPACE","    ",136],["T_VARIABLE","$entity",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","field_test",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],"[",["T_CONSTANT_ENCAPSED_STRING","'uri'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'internal:\/node\/add'",136],"]",";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","assertEqual",137],"(",["T_VARIABLE","$entity",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","field_test",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","uri",137],",",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'internal:\/node\/add'",137],")",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","assertNull",138],"(",["T_VARIABLE","$entity",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","field_test",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","title",138],")",";",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","assertIdentical",139],"(",["T_VARIABLE","$entity",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","field_test",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","options",139],",",["T_WHITESPACE"," ",139],"[","]",")",";",["T_WHITESPACE","\n\n    ",139],["T_COMMENT","\/\/ Check that if set uri and serialize options then the default values are\n",141],["T_WHITESPACE","    ",142],["T_COMMENT","\/\/ properly initialized.\n",142],["T_WHITESPACE","    ",143],["T_VARIABLE","$entity",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","field_test",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],"[",["T_WHITESPACE","\n      ",143],["T_CONSTANT_ENCAPSED_STRING","'uri'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'internal:\/node\/add'",144],",",["T_WHITESPACE","\n      ",144],["T_CONSTANT_ENCAPSED_STRING","'options'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_STRING","serialize",145],"(","[",["T_CONSTANT_ENCAPSED_STRING","'query'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_STRING","NULL",145],"]",")",",",["T_WHITESPACE","\n    ",145],"]",";",["T_WHITESPACE","\n    ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","assertEqual",147],"(",["T_VARIABLE","$entity",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","field_test",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","uri",147],",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'internal:\/node\/add'",147],")",";",["T_WHITESPACE","\n    ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","assertNull",148],"(",["T_VARIABLE","$entity",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","field_test",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","title",148],")",";",["T_WHITESPACE","\n    ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","assertNull",149],"(",["T_VARIABLE","$entity",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","field_test",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","options",149],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",149],"]",")",";",["T_WHITESPACE","\n\n    ",149],["T_COMMENT","\/\/ Check that if we set the direct value of link field it correctly set the\n",151],["T_WHITESPACE","    ",152],["T_COMMENT","\/\/ uri and the default values of the field.\n",152],["T_WHITESPACE","    ",153],["T_VARIABLE","$entity",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","field_test",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'internal:\/node\/add'",153],";",["T_WHITESPACE","\n    ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","assertEqual",154],"(",["T_VARIABLE","$entity",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","field_test",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","uri",154],",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'internal:\/node\/add'",154],")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","assertNull",155],"(",["T_VARIABLE","$entity",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","field_test",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","title",155],")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","assertIdentical",156],"(",["T_VARIABLE","$entity",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","field_test",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","options",156],",",["T_WHITESPACE"," ",156],"[","]",")",";",["T_WHITESPACE","\n\n    ",156],["T_COMMENT","\/\/ Check that setting options to NULL does not trigger an error when\n",158],["T_WHITESPACE","    ",159],["T_COMMENT","\/\/ calling getUrl();\n",159],["T_WHITESPACE","    ",160],["T_VARIABLE","$entity",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","field_test",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","options",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_STRING","NULL",160],";",["T_WHITESPACE","\n    ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","assertInstanceOf",161],"(",["T_STRING","Url",161],["T_DOUBLE_COLON","::",161],["T_CLASS","class",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$entity",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","field_test",161],"[",["T_LNUMBER","0",161],"]",["T_OBJECT_OPERATOR","->",161],["T_STRING","getUrl",161],"(",")",")",";",["T_WHITESPACE","\n\n    ",161],["T_COMMENT","\/\/ Check that setting LinkItem value NULL doesn't generate any error or\n",163],["T_WHITESPACE","    ",164],["T_COMMENT","\/\/ warning.\n",164],["T_WHITESPACE","    ",165],["T_VARIABLE","$entity",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","field_test",165],"[",["T_LNUMBER","0",165],"]",["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_STRING","NULL",165],";",["T_WHITESPACE","\n    ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","assertNull",166],"(",["T_VARIABLE","$entity",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","field_test",166],"[",["T_LNUMBER","0",166],"]",["T_OBJECT_OPERATOR","->",166],["T_STRING","getValue",166],"(",")",")",";",["T_WHITESPACE","\n\n    ",166],["T_COMMENT","\/\/ Test the generateSampleValue() method for generic, external, and internal\n",168],["T_WHITESPACE","    ",169],["T_COMMENT","\/\/ link types.\n",169],["T_WHITESPACE","    ",170],["T_VARIABLE","$entity",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_STRING","EntityTest",170],["T_DOUBLE_COLON","::",170],["T_STRING","create",170],"(",")",";",["T_WHITESPACE","\n    ",170],["T_VARIABLE","$entity",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","field_test",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","generateSampleItems",171],"(",")",";",["T_WHITESPACE","\n    ",171],["T_VARIABLE","$entity",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","field_test_external",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","generateSampleItems",172],"(",")",";",["T_WHITESPACE","\n    ",172],["T_VARIABLE","$entity",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","field_test_internal",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","generateSampleItems",173],"(",")",";",["T_WHITESPACE","\n    ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","entityValidateAndSave",174],"(",["T_VARIABLE","$entity",174],")",";",["T_WHITESPACE","\n  ",174],"}",["T_WHITESPACE","\n\n",175],"}",["T_WHITESPACE","\n",177]]