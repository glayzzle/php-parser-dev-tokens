[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","link",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Unit",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Validation",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Constraint",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","UrlHelper",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Url",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","link",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Plugin",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Validation",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Constraint",7],["T_NS_SEPARATOR","\\",7],["T_STRING","LinkExternalProtocolsConstraint",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","link",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Plugin",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Validation",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Constraint",8],["T_NS_SEPARATOR","\\",8],["T_STRING","LinkExternalProtocolsConstraintValidator",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Tests",9],["T_NS_SEPARATOR","\\",9],["T_STRING","UnitTestCase",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * @coversDefaultClass \\Drupal\\link\\Plugin\\Validation\\Constraint\\LinkExternalProtocolsConstraintValidator\n * @group Link\n *\/",11],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","LinkExternalProtocolsConstraintValidatorTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","UnitTestCase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * @covers ::validate\n   * @dataProvider providerValidate\n   *\/",17],["T_WHITESPACE","\n  ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_FUNCTION","function",21],["T_WHITESPACE"," ",21],["T_STRING","testValidate",21],"(",["T_VARIABLE","$value",21],",",["T_WHITESPACE"," ",21],["T_VARIABLE","$valid",21],")",["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n    ",21],["T_VARIABLE","$context",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","getMock",22],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Validator\\ExecutionContextInterface'",22],")",";",["T_WHITESPACE","\n\n    ",22],["T_IF","if",24],["T_WHITESPACE"," ",24],"(",["T_VARIABLE","$valid",24],")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n      ",24],["T_VARIABLE","$context",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","expects",25],"(",["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","never",25],"(",")",")",["T_WHITESPACE","\n        ",25],["T_OBJECT_OPERATOR","->",26],["T_STRING","method",26],"(",["T_CONSTANT_ENCAPSED_STRING","'addViolation'",26],")",";",["T_WHITESPACE","\n    ",26],"}",["T_WHITESPACE","\n    ",27],["T_ELSE","else",28],["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n      ",28],["T_VARIABLE","$context",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","expects",29],"(",["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","once",29],"(",")",")",["T_WHITESPACE","\n        ",29],["T_OBJECT_OPERATOR","->",30],["T_STRING","method",30],"(",["T_CONSTANT_ENCAPSED_STRING","'addViolation'",30],")",";",["T_WHITESPACE","\n    ",30],"}",["T_WHITESPACE","\n\n    ",31],["T_COMMENT","\/\/ Setup some more allowed protocols.\n",33],["T_WHITESPACE","    ",34],["T_STRING","UrlHelper",34],["T_DOUBLE_COLON","::",34],["T_STRING","setAllowedProtocols",34],"(","[",["T_CONSTANT_ENCAPSED_STRING","'http'",34],",",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'https'",34],",",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'magnet'",34],"]",")",";",["T_WHITESPACE","\n\n    ",34],["T_VARIABLE","$constraint",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_NEW","new",36],["T_WHITESPACE"," ",36],["T_STRING","LinkExternalProtocolsConstraint",36],"(",")",";",["T_WHITESPACE","\n\n    ",36],["T_VARIABLE","$validator",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_NEW","new",38],["T_WHITESPACE"," ",38],["T_STRING","LinkExternalProtocolsConstraintValidator",38],"(",")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$validator",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","initialize",39],"(",["T_VARIABLE","$context",39],")",";",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$validator",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","validate",40],"(",["T_VARIABLE","$value",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$constraint",40],")",";",["T_WHITESPACE","\n  ",40],"}",["T_WHITESPACE","\n\n  ",41],["T_DOC_COMMENT","\/**\n   * Data provider for ::testValidate\n   *\/",43],["T_WHITESPACE","\n  ",45],["T_PUBLIC","public",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","providerValidate",46],"(",")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$data",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],"[","]",";",["T_WHITESPACE","\n\n    ",47],["T_COMMENT","\/\/ Test allowed protocols.\n",49],["T_WHITESPACE","    ",50],["T_VARIABLE","$data",50],"[","]",["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],"[",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.drupal.org'",50],",",["T_WHITESPACE"," ",50],["T_STRING","TRUE",50],"]",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$data",51],"[","]",["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],"[",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.drupal.org'",51],",",["T_WHITESPACE"," ",51],["T_STRING","TRUE",51],"]",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$data",52],"[","]",["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],"[",["T_CONSTANT_ENCAPSED_STRING","'magnet:?xt=urn:sha1:YNCKHTQCWBTRNJIV4WNAE52SJUQCZO5C'",52],",",["T_WHITESPACE"," ",52],["T_STRING","TRUE",52],"]",";",["T_WHITESPACE","\n\n    ",52],["T_COMMENT","\/\/ Invalid protocols.\n",54],["T_WHITESPACE","    ",55],["T_VARIABLE","$data",55],"[","]",["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp:\/\/ftp.funet.fi\/pub\/standards\/RFC\/rfc959.txt'",55],",",["T_WHITESPACE"," ",55],["T_STRING","FALSE",55],"]",";",["T_WHITESPACE","\n\n    ",55],["T_FOREACH","foreach",57],["T_WHITESPACE"," ",57],"(",["T_VARIABLE","$data",57],["T_WHITESPACE"," ",57],["T_AS","as",57],["T_WHITESPACE"," ",57],"&",["T_VARIABLE","$single_data",57],")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n      ",57],["T_VARIABLE","$url",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","Url",58],["T_DOUBLE_COLON","::",58],["T_STRING","fromUri",58],"(",["T_VARIABLE","$single_data",58],"[",["T_LNUMBER","0",58],"]",")",";",["T_WHITESPACE","\n      ",58],["T_VARIABLE","$link",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getMock",59],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\link\\LinkItemInterface'",59],")",";",["T_WHITESPACE","\n      ",59],["T_VARIABLE","$link",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","expects",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","any",60],"(",")",")",["T_WHITESPACE","\n        ",60],["T_OBJECT_OPERATOR","->",61],["T_STRING","method",61],"(",["T_CONSTANT_ENCAPSED_STRING","'getUrl'",61],")",["T_WHITESPACE","\n        ",61],["T_OBJECT_OPERATOR","->",62],["T_STRING","willReturn",62],"(",["T_VARIABLE","$url",62],")",";",["T_WHITESPACE","\n      ",62],["T_VARIABLE","$single_data",63],"[",["T_LNUMBER","0",63],"]",["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$link",63],";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_RETURN","return",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$data",66],";",["T_WHITESPACE","\n  ",66],"}",["T_WHITESPACE","\n\n  ",67],["T_DOC_COMMENT","\/**\n   * @covers ::validate\n   *\n   * @see \\Drupal\\Core\\Url::fromUri\n   *\/",69],["T_WHITESPACE","\n  ",73],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","testValidateWithMalformedUri",74],"(",")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$link",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getMock",75],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\link\\LinkItemInterface'",75],")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$link",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","expects",76],"(",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","any",76],"(",")",")",["T_WHITESPACE","\n      ",76],["T_OBJECT_OPERATOR","->",77],["T_STRING","method",77],"(",["T_CONSTANT_ENCAPSED_STRING","'getUrl'",77],")",["T_WHITESPACE","\n      ",77],["T_OBJECT_OPERATOR","->",78],["T_STRING","willThrowException",78],"(",["T_NEW","new",78],["T_WHITESPACE"," ",78],["T_NS_SEPARATOR","\\",78],["T_STRING","InvalidArgumentException",78],"(",")",")",";",["T_WHITESPACE","\n\n    ",78],["T_VARIABLE","$context",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getMock",80],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Validator\\ExecutionContextInterface'",80],")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$context",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","expects",81],"(",["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","never",81],"(",")",")",["T_WHITESPACE","\n      ",81],["T_OBJECT_OPERATOR","->",82],["T_STRING","method",82],"(",["T_CONSTANT_ENCAPSED_STRING","'addViolation'",82],")",";",["T_WHITESPACE","\n\n    ",82],["T_VARIABLE","$constraint",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_NEW","new",84],["T_WHITESPACE"," ",84],["T_STRING","LinkExternalProtocolsConstraint",84],"(",")",";",["T_WHITESPACE","\n\n    ",84],["T_VARIABLE","$validator",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_NEW","new",86],["T_WHITESPACE"," ",86],["T_STRING","LinkExternalProtocolsConstraintValidator",86],"(",")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$validator",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","initialize",87],"(",["T_VARIABLE","$context",87],")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$validator",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","validate",88],"(",["T_VARIABLE","$link",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$constraint",88],")",";",["T_WHITESPACE","\n  ",88],"}",["T_WHITESPACE","\n\n  ",89],["T_DOC_COMMENT","\/**\n   * @covers ::validate\n   *\/",91],["T_WHITESPACE","\n  ",93],["T_PUBLIC","public",94],["T_WHITESPACE"," ",94],["T_FUNCTION","function",94],["T_WHITESPACE"," ",94],["T_STRING","testValidateIgnoresInternalUrls",94],"(",")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$link",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getMock",95],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\link\\LinkItemInterface'",95],")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$link",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","expects",96],"(",["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","any",96],"(",")",")",["T_WHITESPACE","\n      ",96],["T_OBJECT_OPERATOR","->",97],["T_STRING","method",97],"(",["T_CONSTANT_ENCAPSED_STRING","'getUrl'",97],")",["T_WHITESPACE","\n      ",97],["T_OBJECT_OPERATOR","->",98],["T_STRING","willReturn",98],"(",["T_STRING","Url",98],["T_DOUBLE_COLON","::",98],["T_STRING","fromRoute",98],"(",["T_CONSTANT_ENCAPSED_STRING","'example.test'",98],")",")",";",["T_WHITESPACE","\n\n    ",98],["T_VARIABLE","$context",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getMock",100],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Validator\\ExecutionContextInterface'",100],")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$context",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","expects",101],"(",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","never",101],"(",")",")",["T_WHITESPACE","\n      ",101],["T_OBJECT_OPERATOR","->",102],["T_STRING","method",102],"(",["T_CONSTANT_ENCAPSED_STRING","'addViolation'",102],")",";",["T_WHITESPACE","\n\n    ",102],["T_VARIABLE","$constraint",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_NEW","new",104],["T_WHITESPACE"," ",104],["T_STRING","LinkExternalProtocolsConstraint",104],"(",")",";",["T_WHITESPACE","\n\n    ",104],["T_VARIABLE","$validator",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_NEW","new",106],["T_WHITESPACE"," ",106],["T_STRING","LinkExternalProtocolsConstraintValidator",106],"(",")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$validator",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","initialize",107],"(",["T_VARIABLE","$context",107],")",";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$validator",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","validate",108],"(",["T_VARIABLE","$link",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$constraint",108],")",";",["T_WHITESPACE","\n  ",108],"}",["T_WHITESPACE","\n\n",109],"}",["T_WHITESPACE","\n",111]]