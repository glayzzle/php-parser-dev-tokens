[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","views",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","views",3],["T_NS_SEPARATOR","\\",3],["T_STRING","join",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Plugin",5],["T_NS_SEPARATOR","\\",5],["T_STRING","PluginBase",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * @defgroup views_join_handlers Views join handler plugins\n * @{\n * Handler plugins for Views table joins.\n *\n * Handler plugins help build the view query object. Join handler plugins\n * handle table joins.\n *\n * Views join handlers extend \\Drupal\\views\\Plugin\\views\\join\\JoinPluginBase.\n * They must be annotated with \\Drupal\\views\\Annotation\\ViewsJoin annotation,\n * and they must be in namespace directory Plugin\\views\\join.\n *\n * Here are some examples of configuration for the join plugins.\n *\n * For this SQL:\n * @code\n * LEFT JOIN {two} ON one.field_a = two.field_b\n * @endcode\n * Use this configuration:\n * @code\n * $configuration = array(\n *   'table' => 'two',\n *   'field' => 'field_b',\n *   'left_table' => 'one',\n *   'left_field' => 'field_a',\n *   'operator' => '=',\n * );\n * $join = Views::pluginManager('join')->createInstance('standard', $configuration);\n * @endcode\n * Note that the default join type is a LEFT join when 'type' is not supplied in\n * the join plugin configuration.\n *\n * For this SQL:\n * @code\n * INNER JOIN {two} ON one.field_a = two.field_b AND one.field_c = 'some_val'\n * @endcode\n * Use this configuration:\n * @code\n * $configuration = array(\n *   'type' => 'INNER',\n *   'table' => 'two',\n *   'field' => 'field_b',\n *   'left_table' => 'one',\n *   'left_field' => 'field_a',\n *   'operator' => '=',\n *   'extra' => array(\n *     0 => array(\n *       'left_field' => 'field_c',\n *       'value' => 'some_val',\n *     ),\n *   ),\n * );\n * $join = Views::pluginManager('join')->createInstance('standard', $configuration);\n * @endcode\n *\n * For this SQL:\n * @code\n * INNER JOIN {two} ON one.field_a = two.field_b AND two.field_d = 'other_val'\n * @endcode\n * Use this configuration:\n * @code\n * $configuration = array(\n *   'type' => 'INNER',\n *   'table' => 'two',\n *   'field' => 'field_b',\n *   'left_table' => 'one',\n *   'left_field' => 'field_a',\n *   'operator' => '=',\n *   'extra' => array(\n *     0 => array(\n *       'field' => 'field_d',\n *       'value' => 'other_val',\n *     ),\n *   ),\n * );\n * $join = Views::pluginManager('join')->createInstance('standard', $configuration);\n * @endcode\n *\n * For this SQL:\n * @code\n * INNER JOIN {two} ON one.field_a = two.field_b AND one.field_c = two.field_d\n * @endcode\n * Use this configuration:\n * @code\n * $configuration = array(\n *   'type' => 'INNER',\n *   'table' => 'two',\n *   'field' => 'field_b',\n *   'left_table' => 'one',\n *   'left_field' => 'field_a',\n *   'operator' => '=',\n *   'extra' => array(\n *     0 => array(\n *       'left_field' => 'field_c',\n *       'field' => 'field_d',\n *     ),\n *   ),\n * );\n * $join = Views::pluginManager('join')->createInstance('standard', $configuration);\n * @endcode\n *\n * Here is an example of a more complex join:\n * @code\n * class JoinComplex extends JoinPluginBase {\n *   public function buildJoin($select_query, $table, $view_query) {\n *     \/\/ Add an additional hardcoded condition to the query.\n *     $this->extra = 'foo.bar = baz.boing';\n *     parent::buildJoin($select_query, $table, $view_query);\n *   }\n * }\n * @endcode\n *\n * @ingroup views_plugins\n * @see plugin_api\n *\/",7],["T_WHITESPACE","\n\n",121],["T_DOC_COMMENT","\/**\n * Represents a join and creates the SQL necessary to implement the join.\n *\n * Extensions of this class can be used to create more interesting joins.\n *\/",123],["T_WHITESPACE","\n",127],["T_CLASS","class",128],["T_WHITESPACE"," ",128],["T_STRING","JoinPluginBase",128],["T_WHITESPACE"," ",128],["T_EXTENDS","extends",128],["T_WHITESPACE"," ",128],["T_STRING","PluginBase",128],["T_WHITESPACE"," ",128],["T_IMPLEMENTS","implements",128],["T_WHITESPACE"," ",128],["T_STRING","JoinPluginInterface",128],["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n\n  ",128],["T_DOC_COMMENT","\/**\n   * The table to join (right table).\n   *\n   * @var string\n   *\/",130],["T_WHITESPACE","\n  ",134],["T_PUBLIC","public",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$table",135],";",["T_WHITESPACE","\n\n  ",135],["T_DOC_COMMENT","\/**\n   * The field to join on (right field).\n   *\n   * @var string\n   *\/",137],["T_WHITESPACE","\n  ",141],["T_PUBLIC","public",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$field",142],";",["T_WHITESPACE","\n\n  ",142],["T_DOC_COMMENT","\/**\n   * The table we join to.\n   *\n   * @var string\n   *\/",144],["T_WHITESPACE","\n  ",148],["T_PUBLIC","public",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$leftTable",149],";",["T_WHITESPACE","\n\n  ",149],["T_DOC_COMMENT","\/**\n   * The field we join to.\n   *\n   * @var string\n   *\/",151],["T_WHITESPACE","\n  ",155],["T_PUBLIC","public",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$leftField",156],";",["T_WHITESPACE","\n\n  ",156],["T_DOC_COMMENT","\/**\n   * An array of extra conditions on the join.\n   *\n   * Each condition is either a string that's directly added, or an array of\n   * items:\n   *   - table(optional): If not set, current table; if NULL, no table. If you\n   *     specify a table in cached configuration, Views will try to load from an\n   *     existing alias. If you use realtime joins, it works better.\n   *   - field(optional): Field or formula. In formulas we can reference the\n   *     right table by using %alias.\n   *   - left_field(optional): Field or formula. In formulas we can reference\n   *     the left table by using %alias.\n   *   - operator(optional): The operator used, Defaults to \"=\".\n   *   - value: Must be set. If an array, operator will be defaulted to IN.\n   *   - numeric: If true, the value will not be surrounded in quotes.\n   *\n   * @see SelectQueryInterface::addJoin()\n   *\n   * @var array\n   *\/",158],["T_WHITESPACE","\n  ",177],["T_PUBLIC","public",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$extra",178],";",["T_WHITESPACE","\n\n  ",178],["T_DOC_COMMENT","\/**\n   * The join type, so for example LEFT (default) or INNER.\n   *\n   * @var string\n   *\/",180],["T_WHITESPACE","\n  ",184],["T_PUBLIC","public",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$type",185],";",["T_WHITESPACE","\n\n  ",185],["T_DOC_COMMENT","\/**\n   * The configuration array passed by initJoin.\n   *\n   * @var array\n   *\n   * @see \\Drupal\\views\\Plugin\\views\\join\\JoinPluginBase::initJoin()\n   *\/",187],["T_WHITESPACE","\n  ",193],["T_PUBLIC","public",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$configuration",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_ARRAY","array",194],"(",")",";",["T_WHITESPACE","\n\n  ",194],["T_DOC_COMMENT","\/**\n   * How all the extras will be combined. Either AND or OR.\n   *\n   * @var string\n   *\/",196],["T_WHITESPACE","\n  ",200],["T_PUBLIC","public",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$extraOperator",201],";",["T_WHITESPACE","\n\n  ",201],["T_DOC_COMMENT","\/**\n   * Defines whether a join has been adjusted.\n   *\n   * Views updates the join object to set the table alias instead of the table\n   * name. Once views has changed the alias it sets the adjusted value so it\n   * does not have to be updated anymore. If you create your own join object\n   * you should set the adjusted in the definition array to TRUE if you already\n   * know the table alias.\n   *\n   * @var bool\n   *\n   * @see \\Drupal\\views\\Plugin\\HandlerBase::getTableJoin()\n   * @see \\Drupal\\views\\Plugin\\views\\query\\Sql::adjustJoin()\n   * @see \\Drupal\\views\\Plugin\\views\\relationship\\RelationshipPluginBase::query()\n   *\/",203],["T_WHITESPACE","\n  ",217],["T_PUBLIC","public",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$adjusted",218],";",["T_WHITESPACE","\n\n  ",218],["T_DOC_COMMENT","\/**\n   * Constructs a Drupal\\views\\Plugin\\views\\join\\JoinPluginBase object.\n   *\/",220],["T_WHITESPACE","\n  ",222],["T_PUBLIC","public",223],["T_WHITESPACE"," ",223],["T_FUNCTION","function",223],["T_WHITESPACE"," ",223],["T_STRING","__construct",223],"(",["T_ARRAY","array",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$configuration",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$plugin_id",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$plugin_definition",223],")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n    ",223],["T_STRING","parent",224],["T_DOUBLE_COLON","::",224],["T_STRING","__construct",224],"(",["T_VARIABLE","$configuration",224],",",["T_WHITESPACE"," ",224],["T_VARIABLE","$plugin_id",224],",",["T_WHITESPACE"," ",224],["T_VARIABLE","$plugin_definition",224],")",";",["T_WHITESPACE","\n    ",224],["T_COMMENT","\/\/ Merge in some default values.\n",225],["T_WHITESPACE","    ",226],["T_VARIABLE","$configuration",226],["T_WHITESPACE"," ",226],["T_PLUS_EQUAL","+=",226],["T_WHITESPACE"," ",226],["T_ARRAY","array",226],"(",["T_WHITESPACE","\n      ",226],["T_CONSTANT_ENCAPSED_STRING","'type'",227],["T_WHITESPACE"," ",227],["T_DOUBLE_ARROW","=>",227],["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","'LEFT'",227],",",["T_WHITESPACE","\n      ",227],["T_CONSTANT_ENCAPSED_STRING","'extra_operator'",228],["T_WHITESPACE"," ",228],["T_DOUBLE_ARROW","=>",228],["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","'AND'",228],["T_WHITESPACE","\n    ",228],")",";",["T_WHITESPACE","\n    ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","configuration",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_VARIABLE","$configuration",230],";",["T_WHITESPACE","\n\n    ",230],["T_IF","if",232],["T_WHITESPACE"," ",232],"(","!",["T_EMPTY","empty",232],"(",["T_VARIABLE","$configuration",232],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",232],"]",")",")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n      ",232],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","table",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_VARIABLE","$configuration",233],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",233],"]",";",["T_WHITESPACE","\n    ",233],"}",["T_WHITESPACE","\n\n    ",234],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","leftTable",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$configuration",236],"[",["T_CONSTANT_ENCAPSED_STRING","'left_table'",236],"]",";",["T_WHITESPACE","\n    ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","leftField",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$configuration",237],"[",["T_CONSTANT_ENCAPSED_STRING","'left_field'",237],"]",";",["T_WHITESPACE","\n    ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","field",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$configuration",238],"[",["T_CONSTANT_ENCAPSED_STRING","'field'",238],"]",";",["T_WHITESPACE","\n\n    ",238],["T_IF","if",240],["T_WHITESPACE"," ",240],"(","!",["T_EMPTY","empty",240],"(",["T_VARIABLE","$configuration",240],"[",["T_CONSTANT_ENCAPSED_STRING","'extra'",240],"]",")",")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n      ",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","extra",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_VARIABLE","$configuration",241],"[",["T_CONSTANT_ENCAPSED_STRING","'extra'",241],"]",";",["T_WHITESPACE","\n    ",241],"}",["T_WHITESPACE","\n\n    ",242],["T_IF","if",244],["T_WHITESPACE"," ",244],"(",["T_ISSET","isset",244],"(",["T_VARIABLE","$configuration",244],"[",["T_CONSTANT_ENCAPSED_STRING","'adjusted'",244],"]",")",")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n      ",244],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","adjusted",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$configuration",245],"[",["T_CONSTANT_ENCAPSED_STRING","'adjusted'",245],"]",";",["T_WHITESPACE","\n    ",245],"}",["T_WHITESPACE","\n\n    ",246],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","extraOperator",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_STRING","strtoupper",248],"(",["T_VARIABLE","$configuration",248],"[",["T_CONSTANT_ENCAPSED_STRING","'extra_operator'",248],"]",")",";",["T_WHITESPACE","\n    ",248],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","type",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$configuration",249],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",249],"]",";",["T_WHITESPACE","\n  ",249],"}",["T_WHITESPACE","\n\n  ",250],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",252],["T_WHITESPACE","\n  ",254],["T_PUBLIC","public",255],["T_WHITESPACE"," ",255],["T_FUNCTION","function",255],["T_WHITESPACE"," ",255],["T_STRING","buildJoin",255],"(",["T_VARIABLE","$select_query",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$table",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$view_query",255],")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n    ",255],["T_IF","if",256],["T_WHITESPACE"," ",256],"(",["T_EMPTY","empty",256],"(",["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","configuration",256],"[",["T_CONSTANT_ENCAPSED_STRING","'table formula'",256],"]",")",")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n      ",256],["T_VARIABLE","$right_table",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","table",257],";",["T_WHITESPACE","\n    ",257],"}",["T_WHITESPACE","\n    ",258],["T_ELSE","else",259],["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n      ",259],["T_VARIABLE","$right_table",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","configuration",260],"[",["T_CONSTANT_ENCAPSED_STRING","'table formula'",260],"]",";",["T_WHITESPACE","\n    ",260],"}",["T_WHITESPACE","\n\n    ",261],["T_IF","if",263],["T_WHITESPACE"," ",263],"(",["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","leftTable",263],")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n      ",263],["T_VARIABLE","$left",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_VARIABLE","$view_query",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","getTableInfo",264],"(",["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","leftTable",264],")",";",["T_WHITESPACE","\n      ",264],["T_VARIABLE","$left_field",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],"\"",["T_VARIABLE","$left",265],"[",["T_STRING","alias",265],"]",["T_ENCAPSED_AND_WHITESPACE",".",265],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","leftField",265],"\"",";",["T_WHITESPACE","\n    ",265],"}",["T_WHITESPACE","\n    ",266],["T_ELSE","else",267],["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n      ",267],["T_COMMENT","\/\/ This can be used if left_field is a formula or something. It should be used only *very* rarely.\n",268],["T_WHITESPACE","      ",269],["T_VARIABLE","$left_field",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","leftField",269],";",["T_WHITESPACE","\n    ",269],"}",["T_WHITESPACE","\n\n    ",270],["T_VARIABLE","$condition",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],"\"",["T_VARIABLE","$left_field",272],["T_ENCAPSED_AND_WHITESPACE"," = ",272],["T_VARIABLE","$table",272],"[",["T_STRING","alias",272],"]",["T_ENCAPSED_AND_WHITESPACE",".",272],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","field",272],"\"",";",["T_WHITESPACE","\n    ",272],["T_VARIABLE","$arguments",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_ARRAY","array",273],"(",")",";",["T_WHITESPACE","\n\n    ",273],["T_COMMENT","\/\/ Tack on the extra.\n",275],["T_WHITESPACE","    ",276],["T_IF","if",276],["T_WHITESPACE"," ",276],"(",["T_ISSET","isset",276],"(",["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","extra",276],")",")",["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n      ",276],["T_IF","if",277],["T_WHITESPACE"," ",277],"(",["T_STRING","is_array",277],"(",["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","extra",277],")",")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n        ",277],["T_VARIABLE","$extras",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_ARRAY","array",278],"(",")",";",["T_WHITESPACE","\n        ",278],["T_FOREACH","foreach",279],["T_WHITESPACE"," ",279],"(",["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","extra",279],["T_WHITESPACE"," ",279],["T_AS","as",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$info",279],")",["T_WHITESPACE"," ",279],"{",["T_WHITESPACE","\n          ",279],["T_COMMENT","\/\/ Do not require 'value' to be set; allow for field syntax instead.\n",280],["T_WHITESPACE","          ",281],["T_VARIABLE","$info",281],["T_WHITESPACE"," ",281],["T_PLUS_EQUAL","+=",281],["T_WHITESPACE"," ",281],["T_ARRAY","array",281],"(",["T_WHITESPACE","\n            ",281],["T_CONSTANT_ENCAPSED_STRING","'value'",282],["T_WHITESPACE"," ",282],["T_DOUBLE_ARROW","=>",282],["T_WHITESPACE"," ",282],["T_STRING","NULL",282],",",["T_WHITESPACE","\n          ",282],")",";",["T_WHITESPACE","\n          ",283],["T_COMMENT","\/\/ Figure out the table name. Remember, only use aliases provided\n",284],["T_WHITESPACE","          ",285],["T_COMMENT","\/\/ if at all possible.\n",285],["T_WHITESPACE","          ",286],["T_VARIABLE","$join_table",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_CONSTANT_ENCAPSED_STRING","''",286],";",["T_WHITESPACE","\n          ",286],["T_IF","if",287],["T_WHITESPACE"," ",287],"(","!",["T_STRING","array_key_exists",287],"(",["T_CONSTANT_ENCAPSED_STRING","'table'",287],",",["T_WHITESPACE"," ",287],["T_VARIABLE","$info",287],")",")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n            ",287],["T_VARIABLE","$join_table",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_VARIABLE","$table",288],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",288],"]",["T_WHITESPACE"," ",288],".",["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","'.'",288],";",["T_WHITESPACE","\n          ",288],"}",["T_WHITESPACE","\n          ",289],["T_ELSEIF","elseif",290],["T_WHITESPACE"," ",290],"(",["T_ISSET","isset",290],"(",["T_VARIABLE","$info",290],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",290],"]",")",")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n            ",290],["T_COMMENT","\/\/ If we're aware of a table alias for this table, use the table\n",291],["T_WHITESPACE","            ",292],["T_COMMENT","\/\/ alias instead of the table name.\n",292],["T_WHITESPACE","            ",293],["T_IF","if",293],["T_WHITESPACE"," ",293],"(",["T_ISSET","isset",293],"(",["T_VARIABLE","$left",293],")",["T_WHITESPACE"," ",293],["T_BOOLEAN_AND","&&",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$left",293],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",293],"]",["T_WHITESPACE"," ",293],["T_IS_EQUAL","==",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$info",293],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",293],"]",")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n              ",293],["T_VARIABLE","$join_table",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_VARIABLE","$left",294],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",294],"]",["T_WHITESPACE"," ",294],".",["T_WHITESPACE"," ",294],["T_CONSTANT_ENCAPSED_STRING","'.'",294],";",["T_WHITESPACE","\n            ",294],"}",["T_WHITESPACE","\n            ",295],["T_ELSE","else",296],["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n              ",296],["T_VARIABLE","$join_table",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_VARIABLE","$info",297],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",297],"]",["T_WHITESPACE"," ",297],".",["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","'.'",297],";",["T_WHITESPACE","\n            ",297],"}",["T_WHITESPACE","\n          ",298],"}",["T_WHITESPACE","\n\n          ",299],["T_COMMENT","\/\/ Convert a single-valued array of values to the single-value case,\n",301],["T_WHITESPACE","          ",302],["T_COMMENT","\/\/ and transform from IN() notation to = notation\n",302],["T_WHITESPACE","          ",303],["T_IF","if",303],["T_WHITESPACE"," ",303],"(",["T_STRING","is_array",303],"(",["T_VARIABLE","$info",303],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",303],"]",")",["T_WHITESPACE"," ",303],["T_BOOLEAN_AND","&&",303],["T_WHITESPACE"," ",303],["T_STRING","count",303],"(",["T_VARIABLE","$info",303],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",303],"]",")",["T_WHITESPACE"," ",303],["T_IS_EQUAL","==",303],["T_WHITESPACE"," ",303],["T_LNUMBER","1",303],")",["T_WHITESPACE"," ",303],"{",["T_WHITESPACE","\n            ",303],["T_VARIABLE","$info",304],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",304],"]",["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_STRING","array_shift",304],"(",["T_VARIABLE","$info",304],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",304],"]",")",";",["T_WHITESPACE","\n          ",304],"}",["T_WHITESPACE","\n          ",305],["T_IF","if",306],["T_WHITESPACE"," ",306],"(",["T_STRING","is_array",306],"(",["T_VARIABLE","$info",306],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",306],"]",")",")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n            ",306],["T_COMMENT","\/\/ We use an SA-CORE-2014-005 conformant placeholder for our array\n",307],["T_WHITESPACE","            ",308],["T_COMMENT","\/\/ of values. Also, note that the 'IN' operator is implicit.\n",308],["T_WHITESPACE","            ",309],["T_COMMENT","\/\/ @see https:\/\/www.drupal.org\/node\/2401615.\n",309],["T_WHITESPACE","            ",310],["T_VARIABLE","$operator",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],"!",["T_EMPTY","empty",310],"(",["T_VARIABLE","$info",310],"[",["T_CONSTANT_ENCAPSED_STRING","'operator'",310],"]",")",["T_WHITESPACE"," ",310],"?",["T_WHITESPACE"," ",310],["T_VARIABLE","$info",310],"[",["T_CONSTANT_ENCAPSED_STRING","'operator'",310],"]",["T_WHITESPACE"," ",310],":",["T_WHITESPACE"," ",310],["T_CONSTANT_ENCAPSED_STRING","'IN'",310],";",["T_WHITESPACE","\n            ",310],["T_VARIABLE","$placeholder",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","':views_join_condition_'",311],["T_WHITESPACE"," ",311],".",["T_WHITESPACE"," ",311],["T_VARIABLE","$select_query",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","nextPlaceholder",311],"(",")",["T_WHITESPACE"," ",311],".",["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","'[]'",311],";",["T_WHITESPACE","\n            ",311],["T_VARIABLE","$placeholder_sql",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],"\"",["T_ENCAPSED_AND_WHITESPACE","( ",312],["T_VARIABLE","$placeholder",312],["T_ENCAPSED_AND_WHITESPACE"," )",312],"\"",";",["T_WHITESPACE","\n          ",312],"}",["T_WHITESPACE","\n          ",313],["T_ELSE","else",314],["T_WHITESPACE"," ",314],"{",["T_WHITESPACE","\n            ",314],["T_COMMENT","\/\/ With a single value, the '=' operator is implicit.\n",315],["T_WHITESPACE","            ",316],["T_VARIABLE","$operator",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],"!",["T_EMPTY","empty",316],"(",["T_VARIABLE","$info",316],"[",["T_CONSTANT_ENCAPSED_STRING","'operator'",316],"]",")",["T_WHITESPACE"," ",316],"?",["T_WHITESPACE"," ",316],["T_VARIABLE","$info",316],"[",["T_CONSTANT_ENCAPSED_STRING","'operator'",316],"]",["T_WHITESPACE"," ",316],":",["T_WHITESPACE"," ",316],["T_CONSTANT_ENCAPSED_STRING","'='",316],";",["T_WHITESPACE","\n            ",316],["T_VARIABLE","$placeholder",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_VARIABLE","$placeholder_sql",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","':views_join_condition_'",317],["T_WHITESPACE"," ",317],".",["T_WHITESPACE"," ",317],["T_VARIABLE","$select_query",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","nextPlaceholder",317],"(",")",";",["T_WHITESPACE","\n          ",317],"}",["T_WHITESPACE","\n          ",318],["T_COMMENT","\/\/ Set 'field' as join table field if available or set 'left field' as\n",319],["T_WHITESPACE","          ",320],["T_COMMENT","\/\/ join table field is not set.\n",320],["T_WHITESPACE","          ",321],["T_IF","if",321],["T_WHITESPACE"," ",321],"(",["T_ISSET","isset",321],"(",["T_VARIABLE","$info",321],"[",["T_CONSTANT_ENCAPSED_STRING","'field'",321],"]",")",")",["T_WHITESPACE"," ",321],"{",["T_WHITESPACE","\n            ",321],["T_VARIABLE","$join_table_field",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],"\"",["T_VARIABLE","$join_table",322],["T_VARIABLE","$info",322],"[",["T_STRING","field",322],"]","\"",";",["T_WHITESPACE","\n            ",322],["T_COMMENT","\/\/ Allow the value to be set either with the 'value' element or\n",323],["T_WHITESPACE","            ",324],["T_COMMENT","\/\/ with 'left_field'.\n",324],["T_WHITESPACE","            ",325],["T_IF","if",325],["T_WHITESPACE"," ",325],"(",["T_ISSET","isset",325],"(",["T_VARIABLE","$info",325],"[",["T_CONSTANT_ENCAPSED_STRING","'left_field'",325],"]",")",")",["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n              ",325],["T_VARIABLE","$placeholder_sql",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],"\"",["T_VARIABLE","$left",326],"[",["T_STRING","alias",326],"]",["T_ENCAPSED_AND_WHITESPACE",".",326],["T_VARIABLE","$info",326],"[",["T_STRING","left_field",326],"]","\"",";",["T_WHITESPACE","\n            ",326],"}",["T_WHITESPACE","\n            ",327],["T_ELSE","else",328],["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n              ",328],["T_VARIABLE","$arguments",329],"[",["T_VARIABLE","$placeholder",329],"]",["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_VARIABLE","$info",329],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",329],"]",";",["T_WHITESPACE","\n            ",329],"}",["T_WHITESPACE","\n          ",330],"}",["T_WHITESPACE","\n          ",331],["T_COMMENT","\/\/ Set 'left field' as join table field is not set.\n",332],["T_WHITESPACE","          ",333],["T_ELSE","else",333],["T_WHITESPACE"," ",333],"{",["T_WHITESPACE","\n            ",333],["T_VARIABLE","$join_table_field",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],"\"",["T_VARIABLE","$left",334],"[",["T_STRING","alias",334],"]",["T_ENCAPSED_AND_WHITESPACE",".",334],["T_VARIABLE","$info",334],"[",["T_STRING","left_field",334],"]","\"",";",["T_WHITESPACE","\n            ",334],["T_VARIABLE","$arguments",335],"[",["T_VARIABLE","$placeholder",335],"]",["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_VARIABLE","$info",335],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",335],"]",";",["T_WHITESPACE","\n          ",335],"}",["T_WHITESPACE","\n          ",336],["T_COMMENT","\/\/ Render out the SQL fragment with parameters.\n",337],["T_WHITESPACE","          ",338],["T_VARIABLE","$extras",338],"[","]",["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],"\"",["T_VARIABLE","$join_table_field",338],["T_ENCAPSED_AND_WHITESPACE"," ",338],["T_VARIABLE","$operator",338],["T_ENCAPSED_AND_WHITESPACE"," ",338],["T_VARIABLE","$placeholder_sql",338],"\"",";",["T_WHITESPACE","\n        ",338],"}",["T_WHITESPACE","\n\n        ",339],["T_IF","if",341],["T_WHITESPACE"," ",341],"(",["T_VARIABLE","$extras",341],")",["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\n          ",341],["T_IF","if",342],["T_WHITESPACE"," ",342],"(",["T_STRING","count",342],"(",["T_VARIABLE","$extras",342],")",["T_WHITESPACE"," ",342],["T_IS_EQUAL","==",342],["T_WHITESPACE"," ",342],["T_LNUMBER","1",342],")",["T_WHITESPACE"," ",342],"{",["T_WHITESPACE","\n            ",342],["T_VARIABLE","$condition",343],["T_WHITESPACE"," ",343],["T_CONCAT_EQUAL",".=",343],["T_WHITESPACE"," ",343],["T_CONSTANT_ENCAPSED_STRING","' AND '",343],["T_WHITESPACE"," ",343],".",["T_WHITESPACE"," ",343],["T_STRING","array_shift",343],"(",["T_VARIABLE","$extras",343],")",";",["T_WHITESPACE","\n          ",343],"}",["T_WHITESPACE","\n          ",344],["T_ELSE","else",345],["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n            ",345],["T_VARIABLE","$condition",346],["T_WHITESPACE"," ",346],["T_CONCAT_EQUAL",".=",346],["T_WHITESPACE"," ",346],["T_CONSTANT_ENCAPSED_STRING","' AND ('",346],["T_WHITESPACE"," ",346],".",["T_WHITESPACE"," ",346],["T_STRING","implode",346],"(",["T_CONSTANT_ENCAPSED_STRING","' '",346],["T_WHITESPACE"," ",346],".",["T_WHITESPACE"," ",346],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","extraOperator",346],["T_WHITESPACE"," ",346],".",["T_WHITESPACE"," ",346],["T_CONSTANT_ENCAPSED_STRING","' '",346],",",["T_WHITESPACE"," ",346],["T_VARIABLE","$extras",346],")",["T_WHITESPACE"," ",346],".",["T_WHITESPACE"," ",346],["T_CONSTANT_ENCAPSED_STRING","')'",346],";",["T_WHITESPACE","\n          ",346],"}",["T_WHITESPACE","\n        ",347],"}",["T_WHITESPACE","\n      ",348],"}",["T_WHITESPACE","\n      ",349],["T_ELSEIF","elseif",350],["T_WHITESPACE"," ",350],"(",["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","extra",350],["T_WHITESPACE"," ",350],["T_BOOLEAN_AND","&&",350],["T_WHITESPACE"," ",350],["T_STRING","is_string",350],"(",["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","extra",350],")",")",["T_WHITESPACE"," ",350],"{",["T_WHITESPACE","\n        ",350],["T_VARIABLE","$condition",351],["T_WHITESPACE"," ",351],["T_CONCAT_EQUAL",".=",351],["T_WHITESPACE"," ",351],"\"",["T_ENCAPSED_AND_WHITESPACE"," AND (",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","extra",351],["T_ENCAPSED_AND_WHITESPACE",")",351],"\"",";",["T_WHITESPACE","\n      ",351],"}",["T_WHITESPACE","\n    ",352],"}",["T_WHITESPACE","\n\n    ",353],["T_VARIABLE","$select_query",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","addJoin",355],"(",["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","type",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$right_table",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$table",355],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",355],"]",",",["T_WHITESPACE"," ",355],["T_VARIABLE","$condition",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$arguments",355],")",";",["T_WHITESPACE","\n  ",355],"}",["T_WHITESPACE","\n\n",356],"}",["T_WHITESPACE","\n\n",358],["T_DOC_COMMENT","\/**\n * @}\n *\/",360],["T_WHITESPACE","\n",362]]