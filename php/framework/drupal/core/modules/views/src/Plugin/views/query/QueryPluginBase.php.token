[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","views",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","views",3],["T_NS_SEPARATOR","\\",3],["T_STRING","query",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Cache",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Cache",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Cache",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CacheableDependencyInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Form",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FormStateInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","views",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Plugin",8],["T_NS_SEPARATOR","\\",8],["T_STRING","views",8],["T_NS_SEPARATOR","\\",8],["T_STRING","PluginBase",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","views",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ViewExecutable",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","views",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Views",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * @defgroup views_query_plugins Views query plugins\n * @{\n * Plugins for views queries.\n *\n * Query plugins generate and execute a built query object against a\n * particular storage backend, converting the Views query object into an\n * actual query. Although query plugins need not necessarily use SQL, most\n * other handler plugins that affect the query (fields, filters, etc.)\n * implicitly assume that the query is using SQL.\n *\n * Query plugins extend \\Drupal\\views\\Plugin\\views\\query\\QueryPluginBase.\n * They must be annotated with \\Drupal\\views\\Annotation\\ViewsQuery\n * annotation, and they must be in namespace directory Plugin\\views\\query.\n *\n * @ingroup views_plugins\n * @see plugin_api\n *\/",12],["T_WHITESPACE","\n\n",29],["T_DOC_COMMENT","\/**\n * Base plugin class for Views queries.\n *\/",31],["T_WHITESPACE","\n",33],["T_ABSTRACT","abstract",34],["T_WHITESPACE"," ",34],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","QueryPluginBase",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","PluginBase",34],["T_WHITESPACE"," ",34],["T_IMPLEMENTS","implements",34],["T_WHITESPACE"," ",34],["T_STRING","CacheableDependencyInterface",34],["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n\n  ",34],["T_DOC_COMMENT","\/**\n   * A pager plugin that should be provided by the display.\n   *\n   * @var views_plugin_pager\n   *\/",36],["T_WHITESPACE","\n  ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$pager",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_STRING","NULL",41],";",["T_WHITESPACE","\n\n  ",41],["T_DOC_COMMENT","\/**\n   * Stores the limit of items that should be requested in the query.\n   *\n   * @var int\n   *\/",43],["T_WHITESPACE","\n  ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$limit",48],";",["T_WHITESPACE","\n\n  ",48],["T_DOC_COMMENT","\/**\n   * Generate a query and a countquery from all of the information supplied\n   * to the object.\n   *\n   * @param $get_count\n   *   Provide a countquery if this is true, otherwise provide a normal query.\n   *\/",50],["T_WHITESPACE","\n  ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","query",57],"(",["T_VARIABLE","$get_count",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","FALSE",57],")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE"," ",57],"}",["T_WHITESPACE","\n\n  ",57],["T_DOC_COMMENT","\/**\n   * Let modules modify the query just prior to finalizing it.\n   *\n   * @param view $view\n   *   The view which is executed.\n   *\/",59],["T_WHITESPACE","\n  ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","alter",65],"(",["T_STRING","ViewExecutable",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$view",65],")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","  ",65],"}",["T_WHITESPACE","\n\n  ",65],["T_DOC_COMMENT","\/**\n   * Builds the necessary info to execute the query.\n   *\n   * @param view $view\n   *   The view which is executed.\n   *\/",67],["T_WHITESPACE","\n  ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","build",73],"(",["T_STRING","ViewExecutable",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$view",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE"," ",73],"}",["T_WHITESPACE","\n\n  ",73],["T_DOC_COMMENT","\/**\n   * Executes the query and fills the associated view object with according\n   * values.\n   *\n   * Values to set: $view->result, $view->total_rows, $view->execute_time,\n   * $view->pager['current_page'].\n   *\n   * $view->result should contain an array of objects. The array must use a\n   * numeric index starting at 0.\n   *\n   * @param view $view\n   *   The view which is executed.\n   *\/",75],["T_WHITESPACE","\n  ",87],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","execute",88],"(",["T_STRING","ViewExecutable",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$view",88],")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","  ",88],"}",["T_WHITESPACE","\n\n  ",88],["T_DOC_COMMENT","\/**\n   * Add a signature to the query, if such a thing is feasible.\n   *\n   * This signature is something that can be used when perusing query logs to\n   * discern where particular queries might be coming from.\n   *\n   * @param view $view\n   *   The view which is executed.\n   *\/",90],["T_WHITESPACE","\n  ",98],["T_PUBLIC","public",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","addSignature",99],"(",["T_STRING","ViewExecutable",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$view",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE"," ",99],"}",["T_WHITESPACE","\n\n  ",99],["T_DOC_COMMENT","\/**\n   * Get aggregation info for group by queries.\n   *\n   * If NULL, aggregation is not allowed.\n   *\/",101],["T_WHITESPACE","\n  ",105],["T_PUBLIC","public",106],["T_WHITESPACE"," ",106],["T_FUNCTION","function",106],["T_WHITESPACE"," ",106],["T_STRING","getAggregationInfo",106],"(",")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE"," ",106],"}",["T_WHITESPACE","\n\n  ",106],["T_PUBLIC","public",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","validateOptionsForm",108],"(","&",["T_VARIABLE","$form",108],",",["T_WHITESPACE"," ",108],["T_STRING","FormStateInterface",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$form_state",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE"," ",108],"}",["T_WHITESPACE","\n\n  ",108],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","submitOptionsForm",110],"(","&",["T_VARIABLE","$form",110],",",["T_WHITESPACE"," ",110],["T_STRING","FormStateInterface",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$form_state",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE"," ",110],"}",["T_WHITESPACE","\n\n  ",110],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","summaryTitle",112],"(",")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n    ",112],["T_RETURN","return",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","t",113],"(",["T_CONSTANT_ENCAPSED_STRING","'Settings'",113],")",";",["T_WHITESPACE","\n  ",113],"}",["T_WHITESPACE","\n\n  ",114],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",116],["T_WHITESPACE","\n  ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","calculateDependencies",119],"(",")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$dependencies",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],"[","]",";",["T_WHITESPACE","\n\n    ",120],["T_FOREACH","foreach",122],["T_WHITESPACE"," ",122],"(",["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getEntityTableInfo",122],"(",")",["T_WHITESPACE"," ",122],["T_AS","as",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$entity_type",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$info",122],")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n      ",122],["T_IF","if",123],["T_WHITESPACE"," ",123],"(","!",["T_EMPTY","empty",123],"(",["T_VARIABLE","$info",123],"[",["T_CONSTANT_ENCAPSED_STRING","'provider'",123],"]",")",")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$dependencies",124],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",124],"]","[","]",["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$info",124],"[",["T_CONSTANT_ENCAPSED_STRING","'provider'",124],"]",";",["T_WHITESPACE","\n      ",124],"}",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n\n    ",126],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$dependencies",128],";",["T_WHITESPACE","\n  ",128],"}",["T_WHITESPACE","\n\n  ",129],["T_DOC_COMMENT","\/**\n   * Set a LIMIT on the query, specifying a maximum number of results.\n   *\/",131],["T_WHITESPACE","\n  ",133],["T_PUBLIC","public",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","setLimit",134],"(",["T_VARIABLE","$limit",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n    ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","limit",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$limit",135],";",["T_WHITESPACE","\n  ",135],"}",["T_WHITESPACE","\n\n  ",136],["T_DOC_COMMENT","\/**\n   * Set an OFFSET on the query, specifying a number of results to skip\n   *\/",138],["T_WHITESPACE","\n  ",140],["T_PUBLIC","public",141],["T_WHITESPACE"," ",141],["T_FUNCTION","function",141],["T_WHITESPACE"," ",141],["T_STRING","setOffset",141],"(",["T_VARIABLE","$offset",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n    ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","offset",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$offset",142],";",["T_WHITESPACE","\n  ",142],"}",["T_WHITESPACE","\n\n  ",143],["T_DOC_COMMENT","\/**\n   * Returns the limit of the query.\n   *\/",145],["T_WHITESPACE","\n  ",147],["T_PUBLIC","public",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","getLimit",148],"(",")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n    ",148],["T_RETURN","return",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","limit",149],";",["T_WHITESPACE","\n  ",149],"}",["T_WHITESPACE","\n\n  ",150],["T_DOC_COMMENT","\/**\n   * Create a new grouping for the WHERE or HAVING clause.\n   *\n   * @param $type\n   *   Either 'AND' or 'OR'. All items within this group will be added\n   *   to the WHERE clause with this logical operator.\n   * @param $group\n   *   An ID to use for this group. If unspecified, an ID will be generated.\n   * @param $where\n   *   'where' or 'having'.\n   *\n   * @return\n   *   The group ID generated.\n   *\/",152],["T_WHITESPACE","\n  ",165],["T_PUBLIC","public",166],["T_WHITESPACE"," ",166],["T_FUNCTION","function",166],["T_WHITESPACE"," ",166],["T_STRING","setWhereGroup",166],"(",["T_VARIABLE","$type",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'AND'",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$group",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_STRING","NULL",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$where",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'where'",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n    ",166],["T_COMMENT","\/\/ Set an alias.\n",167],["T_WHITESPACE","    ",168],["T_VARIABLE","$groups",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],"&",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_VARIABLE","$where",168],";",["T_WHITESPACE","\n\n    ",168],["T_IF","if",170],["T_WHITESPACE"," ",170],"(","!",["T_ISSET","isset",170],"(",["T_VARIABLE","$group",170],")",")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n      ",170],["T_VARIABLE","$group",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_EMPTY","empty",171],"(",["T_VARIABLE","$groups",171],")",["T_WHITESPACE"," ",171],"?",["T_WHITESPACE"," ",171],["T_LNUMBER","1",171],["T_WHITESPACE"," ",171],":",["T_WHITESPACE"," ",171],["T_STRING","max",171],"(",["T_STRING","array_keys",171],"(",["T_VARIABLE","$groups",171],")",")",["T_WHITESPACE"," ",171],"+",["T_WHITESPACE"," ",171],["T_LNUMBER","1",171],";",["T_WHITESPACE","\n    ",171],"}",["T_WHITESPACE","\n\n    ",172],["T_COMMENT","\/\/ Create an empty group\n",174],["T_WHITESPACE","    ",175],["T_IF","if",175],["T_WHITESPACE"," ",175],"(",["T_EMPTY","empty",175],"(",["T_VARIABLE","$groups",175],"[",["T_VARIABLE","$group",175],"]",")",")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n      ",175],["T_VARIABLE","$groups",176],"[",["T_VARIABLE","$group",176],"]",["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_ARRAY","array",176],"(",["T_CONSTANT_ENCAPSED_STRING","'conditions'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_ARRAY","array",176],"(",")",",",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'args'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_ARRAY","array",176],"(",")",")",";",["T_WHITESPACE","\n    ",176],"}",["T_WHITESPACE","\n\n    ",177],["T_VARIABLE","$groups",179],"[",["T_VARIABLE","$group",179],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",179],"]",["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_STRING","strtoupper",179],"(",["T_VARIABLE","$type",179],")",";",["T_WHITESPACE","\n    ",179],["T_RETURN","return",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$group",180],";",["T_WHITESPACE","\n  ",180],"}",["T_WHITESPACE","\n\n  ",181],["T_DOC_COMMENT","\/**\n   * Control how all WHERE and HAVING groups are put together.\n   *\n   * @param $type\n   *   Either 'AND' or 'OR'\n   *\/",183],["T_WHITESPACE","\n  ",188],["T_PUBLIC","public",189],["T_WHITESPACE"," ",189],["T_FUNCTION","function",189],["T_WHITESPACE"," ",189],["T_STRING","setGroupOperator",189],"(",["T_VARIABLE","$type",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'AND'",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n    ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","groupOperator",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_STRING","strtoupper",190],"(",["T_VARIABLE","$type",190],")",";",["T_WHITESPACE","\n  ",190],"}",["T_WHITESPACE","\n\n  ",191],["T_DOC_COMMENT","\/**\n   * Loads all entities contained in the passed-in $results.\n   *.\n   * If the entity belongs to the base table, then it gets stored in\n   * $result->_entity. Otherwise, it gets stored in\n   * $result->_relationship_entities[$relationship_id];\n   *\n   * Query plugins that don't support entities can leave the method empty.\n   *\/",193],["T_WHITESPACE","\n  ",201],["T_FUNCTION","function",202],["T_WHITESPACE"," ",202],["T_STRING","loadEntities",202],"(","&",["T_VARIABLE","$results",202],")",["T_WHITESPACE"," ",202],"{","}",["T_WHITESPACE","\n\n  ",202],["T_DOC_COMMENT","\/**\n   * Returns a Unix timestamp to database native timestamp expression.\n   *\n   * @param string $field\n   *   The query field that will be used in the expression.\n   *\n   * @return string\n   *   An expression representing a timestamp with time zone.\n   *\/",204],["T_WHITESPACE","\n  ",212],["T_PUBLIC","public",213],["T_WHITESPACE"," ",213],["T_FUNCTION","function",213],["T_WHITESPACE"," ",213],["T_STRING","getDateField",213],"(",["T_VARIABLE","$field",213],")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n    ",213],["T_RETURN","return",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$field",214],";",["T_WHITESPACE","\n  ",214],"}",["T_WHITESPACE","\n\n  ",215],["T_DOC_COMMENT","\/**\n   * Set the database to the current user timezone,\n   *\n   * @return string\n   *   The current timezone as returned by drupal_get_user_timezone().\n   *\/",217],["T_WHITESPACE","\n  ",222],["T_PUBLIC","public",223],["T_WHITESPACE"," ",223],["T_FUNCTION","function",223],["T_WHITESPACE"," ",223],["T_STRING","setupTimezone",223],"(",")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n    ",223],["T_RETURN","return",224],["T_WHITESPACE"," ",224],["T_STRING","drupal_get_user_timezone",224],"(",")",";",["T_WHITESPACE","\n  ",224],"}",["T_WHITESPACE","\n\n  ",225],["T_DOC_COMMENT","\/**\n   * Creates cross-database date formatting.\n   *\n   * @param string $field\n   *   An appropriate query expression pointing to the date field.\n   * @param string $format\n   *   A format string for the result, like 'Y-m-d H:i:s'.\n   * @param bool $string_date\n   *   For certain databases, date format functions vary depending on string or\n   *   numeric storage.\n   *\n   * @return string\n   *   A string representing the field formatted as a date in the format\n   *   specified by $format.\n   *\/",227],["T_WHITESPACE","\n  ",241],["T_PUBLIC","public",242],["T_WHITESPACE"," ",242],["T_FUNCTION","function",242],["T_WHITESPACE"," ",242],["T_STRING","getDateFormat",242],"(",["T_VARIABLE","$field",242],",",["T_WHITESPACE"," ",242],["T_VARIABLE","$format",242],",",["T_WHITESPACE"," ",242],["T_VARIABLE","$string_date",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_STRING","FALSE",242],")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n    ",242],["T_RETURN","return",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$field",243],";",["T_WHITESPACE","\n  ",243],"}",["T_WHITESPACE","\n\n  ",244],["T_DOC_COMMENT","\/**\n   * Returns an array of all tables from the query that map to an entity type.\n   *\n   * Includes the base table and all relationships, if eligible.\n   *\n   * Available keys for each table:\n   * - base: The actual base table (i.e. \"user\" for an author relationship).\n   * - relationship_id: The id of the relationship, or \"none\".\n   * - alias: The alias used for the relationship.\n   * - entity_type: The entity type matching the base table.\n   * - revision: A boolean that specifies whether the table is a base table or\n   *   a revision table of the entity type.\n   *\n   * @return array\n   *   An array of table information, keyed by table alias.\n   *\/",246],["T_WHITESPACE","\n  ",261],["T_PUBLIC","public",262],["T_WHITESPACE"," ",262],["T_FUNCTION","function",262],["T_WHITESPACE"," ",262],["T_STRING","getEntityTableInfo",262],"(",")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n    ",262],["T_COMMENT","\/\/ Start with the base table.\n",263],["T_WHITESPACE","    ",264],["T_VARIABLE","$entity_tables",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_ARRAY","array",264],"(",")",";",["T_WHITESPACE","\n    ",264],["T_VARIABLE","$views_data",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_STRING","Views",265],["T_DOUBLE_COLON","::",265],["T_STRING","viewsData",265],"(",")",";",["T_WHITESPACE","\n    ",265],["T_VARIABLE","$base_table",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","view",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","storage",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","get",266],"(",["T_CONSTANT_ENCAPSED_STRING","'base_table'",266],")",";",["T_WHITESPACE","\n    ",266],["T_VARIABLE","$base_table_data",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$views_data",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","get",267],"(",["T_VARIABLE","$base_table",267],")",";",["T_WHITESPACE","\n\n    ",267],["T_IF","if",269],["T_WHITESPACE"," ",269],"(",["T_ISSET","isset",269],"(",["T_VARIABLE","$base_table_data",269],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",269],"]","[",["T_CONSTANT_ENCAPSED_STRING","'entity type'",269],"]",")",")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n      ",269],["T_VARIABLE","$entity_tables",270],"[",["T_VARIABLE","$base_table_data",270],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",270],"]","[",["T_CONSTANT_ENCAPSED_STRING","'entity type'",270],"]","]",["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_ARRAY","array",270],"(",["T_WHITESPACE","\n        ",270],["T_CONSTANT_ENCAPSED_STRING","'base'",271],["T_WHITESPACE"," ",271],["T_DOUBLE_ARROW","=>",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$base_table",271],",",["T_WHITESPACE","\n        ",271],["T_CONSTANT_ENCAPSED_STRING","'alias'",272],["T_WHITESPACE"," ",272],["T_DOUBLE_ARROW","=>",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$base_table",272],",",["T_WHITESPACE","\n        ",272],["T_CONSTANT_ENCAPSED_STRING","'relationship_id'",273],["T_WHITESPACE"," ",273],["T_DOUBLE_ARROW","=>",273],["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'none'",273],",",["T_WHITESPACE","\n        ",273],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",274],["T_WHITESPACE"," ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$base_table_data",274],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",274],"]","[",["T_CONSTANT_ENCAPSED_STRING","'entity type'",274],"]",",",["T_WHITESPACE","\n        ",274],["T_CONSTANT_ENCAPSED_STRING","'revision'",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$base_table_data",275],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",275],"]","[",["T_CONSTANT_ENCAPSED_STRING","'entity revision'",275],"]",",",["T_WHITESPACE","\n      ",275],")",";",["T_WHITESPACE","\n\n      ",276],["T_COMMENT","\/\/ Include the entity provider.\n",278],["T_WHITESPACE","      ",279],["T_IF","if",279],["T_WHITESPACE"," ",279],"(","!",["T_EMPTY","empty",279],"(",["T_VARIABLE","$base_table_data",279],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",279],"]","[",["T_CONSTANT_ENCAPSED_STRING","'provider'",279],"]",")",")",["T_WHITESPACE"," ",279],"{",["T_WHITESPACE","\n        ",279],["T_VARIABLE","$entity_tables",280],"[",["T_VARIABLE","$base_table_data",280],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",280],"]","[",["T_CONSTANT_ENCAPSED_STRING","'entity type'",280],"]","]","[",["T_CONSTANT_ENCAPSED_STRING","'provider'",280],"]",["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$base_table_data",280],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",280],"]","[",["T_CONSTANT_ENCAPSED_STRING","'provider'",280],"]",";",["T_WHITESPACE","\n      ",280],"}",["T_WHITESPACE","\n    ",281],"}",["T_WHITESPACE","\n\n    ",282],["T_COMMENT","\/\/ Include all relationships.\n",284],["T_WHITESPACE","    ",285],["T_FOREACH","foreach",285],["T_WHITESPACE"," ",285],"(",["T_ARRAY_CAST","(array)",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","view",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","relationship",285],["T_WHITESPACE"," ",285],["T_AS","as",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$relationship_id",285],["T_WHITESPACE"," ",285],["T_DOUBLE_ARROW","=>",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$relationship",285],")",["T_WHITESPACE"," ",285],"{",["T_WHITESPACE","\n      ",285],["T_VARIABLE","$table_data",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_VARIABLE","$views_data",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","get",286],"(",["T_VARIABLE","$relationship",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","definition",286],"[",["T_CONSTANT_ENCAPSED_STRING","'base'",286],"]",")",";",["T_WHITESPACE","\n      ",286],["T_IF","if",287],["T_WHITESPACE"," ",287],"(",["T_ISSET","isset",287],"(",["T_VARIABLE","$table_data",287],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",287],"]","[",["T_CONSTANT_ENCAPSED_STRING","'entity type'",287],"]",")",")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n\n        ",287],["T_COMMENT","\/\/ If this is not one of the entity base tables, skip it.\n",289],["T_WHITESPACE","        ",290],["T_VARIABLE","$entity_type",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_NS_SEPARATOR","\\",290],["T_STRING","Drupal",290],["T_DOUBLE_COLON","::",290],["T_STRING","entityTypeManager",290],"(",")",["T_OBJECT_OPERATOR","->",290],["T_STRING","getDefinition",290],"(",["T_VARIABLE","$table_data",290],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",290],"]","[",["T_CONSTANT_ENCAPSED_STRING","'entity type'",290],"]",")",";",["T_WHITESPACE","\n        ",290],["T_VARIABLE","$entity_base_tables",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],"[",["T_VARIABLE","$entity_type",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","getBaseTable",291],"(",")",",",["T_WHITESPACE"," ",291],["T_VARIABLE","$entity_type",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","getDataTable",291],"(",")",",",["T_WHITESPACE"," ",291],["T_VARIABLE","$entity_type",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","getRevisionTable",291],"(",")",",",["T_WHITESPACE"," ",291],["T_VARIABLE","$entity_type",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","getRevisionDataTable",291],"(",")","]",";",["T_WHITESPACE","\n        ",291],["T_IF","if",292],["T_WHITESPACE"," ",292],"(","!",["T_STRING","in_array",292],"(",["T_VARIABLE","$relationship",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","definition",292],"[",["T_CONSTANT_ENCAPSED_STRING","'base'",292],"]",",",["T_WHITESPACE"," ",292],["T_VARIABLE","$entity_base_tables",292],")",")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n          ",292],["T_CONTINUE","continue",293],";",["T_WHITESPACE","\n        ",293],"}",["T_WHITESPACE","\n\n        ",294],["T_VARIABLE","$entity_tables",296],"[",["T_VARIABLE","$relationship_id",296],["T_WHITESPACE"," ",296],".",["T_WHITESPACE"," ",296],["T_CONSTANT_ENCAPSED_STRING","'__'",296],["T_WHITESPACE"," ",296],".",["T_WHITESPACE"," ",296],["T_VARIABLE","$relationship",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","tableAlias",296],"]",["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_ARRAY","array",296],"(",["T_WHITESPACE","\n          ",296],["T_CONSTANT_ENCAPSED_STRING","'base'",297],["T_WHITESPACE"," ",297],["T_DOUBLE_ARROW","=>",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$relationship",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","definition",297],"[",["T_CONSTANT_ENCAPSED_STRING","'base'",297],"]",",",["T_WHITESPACE","\n          ",297],["T_CONSTANT_ENCAPSED_STRING","'relationship_id'",298],["T_WHITESPACE"," ",298],["T_DOUBLE_ARROW","=>",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$relationship_id",298],",",["T_WHITESPACE","\n          ",298],["T_CONSTANT_ENCAPSED_STRING","'alias'",299],["T_WHITESPACE"," ",299],["T_DOUBLE_ARROW","=>",299],["T_WHITESPACE"," ",299],["T_VARIABLE","$relationship",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","alias",299],",",["T_WHITESPACE","\n          ",299],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",300],["T_WHITESPACE"," ",300],["T_DOUBLE_ARROW","=>",300],["T_WHITESPACE"," ",300],["T_VARIABLE","$table_data",300],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",300],"]","[",["T_CONSTANT_ENCAPSED_STRING","'entity type'",300],"]",",",["T_WHITESPACE","\n          ",300],["T_CONSTANT_ENCAPSED_STRING","'revision'",301],["T_WHITESPACE"," ",301],["T_DOUBLE_ARROW","=>",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$table_data",301],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",301],"]","[",["T_CONSTANT_ENCAPSED_STRING","'entity revision'",301],"]",",",["T_WHITESPACE","\n        ",301],")",";",["T_WHITESPACE","\n\n        ",302],["T_COMMENT","\/\/ Include the entity provider.\n",304],["T_WHITESPACE","        ",305],["T_IF","if",305],["T_WHITESPACE"," ",305],"(","!",["T_EMPTY","empty",305],"(",["T_VARIABLE","$table_data",305],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",305],"]","[",["T_CONSTANT_ENCAPSED_STRING","'provider'",305],"]",")",")",["T_WHITESPACE"," ",305],"{",["T_WHITESPACE","\n          ",305],["T_VARIABLE","$entity_tables",306],"[",["T_VARIABLE","$relationship_id",306],["T_WHITESPACE"," ",306],".",["T_WHITESPACE"," ",306],["T_CONSTANT_ENCAPSED_STRING","'__'",306],["T_WHITESPACE"," ",306],".",["T_WHITESPACE"," ",306],["T_VARIABLE","$relationship",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","tableAlias",306],"]","[",["T_CONSTANT_ENCAPSED_STRING","'provider'",306],"]",["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_VARIABLE","$table_data",306],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",306],"]","[",["T_CONSTANT_ENCAPSED_STRING","'provider'",306],"]",";",["T_WHITESPACE","\n        ",306],"}",["T_WHITESPACE","\n      ",307],"}",["T_WHITESPACE","\n    ",308],"}",["T_WHITESPACE","\n\n    ",309],["T_COMMENT","\/\/ Determine which of the tables are revision tables.\n",311],["T_WHITESPACE","    ",312],["T_FOREACH","foreach",312],["T_WHITESPACE"," ",312],"(",["T_VARIABLE","$entity_tables",312],["T_WHITESPACE"," ",312],["T_AS","as",312],["T_WHITESPACE"," ",312],["T_VARIABLE","$table_alias",312],["T_WHITESPACE"," ",312],["T_DOUBLE_ARROW","=>",312],["T_WHITESPACE"," ",312],["T_VARIABLE","$table",312],")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n      ",312],["T_VARIABLE","$entity_type",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_NS_SEPARATOR","\\",313],["T_STRING","Drupal",313],["T_DOUBLE_COLON","::",313],["T_STRING","entityManager",313],"(",")",["T_OBJECT_OPERATOR","->",313],["T_STRING","getDefinition",313],"(",["T_VARIABLE","$table",313],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_type'",313],"]",")",";",["T_WHITESPACE","\n      ",313],["T_IF","if",314],["T_WHITESPACE"," ",314],"(",["T_VARIABLE","$entity_type",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","getRevisionTable",314],"(",")",["T_WHITESPACE"," ",314],["T_IS_EQUAL","==",314],["T_WHITESPACE"," ",314],["T_VARIABLE","$table",314],"[",["T_CONSTANT_ENCAPSED_STRING","'base'",314],"]",")",["T_WHITESPACE"," ",314],"{",["T_WHITESPACE","\n        ",314],["T_VARIABLE","$entity_tables",315],"[",["T_VARIABLE","$table_alias",315],"]","[",["T_CONSTANT_ENCAPSED_STRING","'revision'",315],"]",["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_STRING","TRUE",315],";",["T_WHITESPACE","\n      ",315],"}",["T_WHITESPACE","\n    ",316],"}",["T_WHITESPACE","\n\n    ",317],["T_RETURN","return",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$entity_tables",319],";",["T_WHITESPACE","\n  ",319],"}",["T_WHITESPACE","\n\n  ",320],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",322],["T_WHITESPACE","\n  ",324],["T_PUBLIC","public",325],["T_WHITESPACE"," ",325],["T_FUNCTION","function",325],["T_WHITESPACE"," ",325],["T_STRING","getCacheMaxAge",325],"(",")",["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n    ",325],["T_RETURN","return",326],["T_WHITESPACE"," ",326],["T_STRING","Cache",326],["T_DOUBLE_COLON","::",326],["T_STRING","PERMANENT",326],";",["T_WHITESPACE","\n  ",326],"}",["T_WHITESPACE","\n\n  ",327],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",329],["T_WHITESPACE","\n  ",331],["T_PUBLIC","public",332],["T_WHITESPACE"," ",332],["T_FUNCTION","function",332],["T_WHITESPACE"," ",332],["T_STRING","getCacheContexts",332],"(",")",["T_WHITESPACE"," ",332],"{",["T_WHITESPACE","\n    ",332],["T_VARIABLE","$contexts",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],"[","]",";",["T_WHITESPACE","\n    ",333],["T_IF","if",334],["T_WHITESPACE"," ",334],"(","(",["T_VARIABLE","$views_data",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_STRING","Views",334],["T_DOUBLE_COLON","::",334],["T_STRING","viewsData",334],"(",")",["T_OBJECT_OPERATOR","->",334],["T_STRING","get",334],"(",["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","view",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","storage",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","get",334],"(",["T_CONSTANT_ENCAPSED_STRING","'base_table'",334],")",")",")",["T_WHITESPACE"," ",334],["T_BOOLEAN_AND","&&",334],["T_WHITESPACE"," ",334],"!",["T_EMPTY","empty",334],"(",["T_VARIABLE","$views_data",334],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",334],"]","[",["T_CONSTANT_ENCAPSED_STRING","'entity type'",334],"]",")",")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n      ",334],["T_VARIABLE","$entity_type_id",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_VARIABLE","$views_data",335],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",335],"]","[",["T_CONSTANT_ENCAPSED_STRING","'entity type'",335],"]",";",["T_WHITESPACE","\n      ",335],["T_VARIABLE","$entity_type",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_NS_SEPARATOR","\\",336],["T_STRING","Drupal",336],["T_DOUBLE_COLON","::",336],["T_STRING","entityManager",336],"(",")",["T_OBJECT_OPERATOR","->",336],["T_STRING","getDefinition",336],"(",["T_VARIABLE","$entity_type_id",336],")",";",["T_WHITESPACE","\n      ",336],["T_VARIABLE","$contexts",337],["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_VARIABLE","$entity_type",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","getListCacheContexts",337],"(",")",";",["T_WHITESPACE","\n    ",337],"}",["T_WHITESPACE","\n    ",338],["T_RETURN","return",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$contexts",339],";",["T_WHITESPACE","\n  ",339],"}",["T_WHITESPACE","\n\n  ",340],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",342],["T_WHITESPACE","\n  ",344],["T_PUBLIC","public",345],["T_WHITESPACE"," ",345],["T_FUNCTION","function",345],["T_WHITESPACE"," ",345],["T_STRING","getCacheTags",345],"(",")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n    ",345],["T_RETURN","return",346],["T_WHITESPACE"," ",346],"[","]",";",["T_WHITESPACE","\n  ",346],"}",["T_WHITESPACE","\n\n",347],"}",["T_WHITESPACE","\n\n",349],["T_DOC_COMMENT","\/**\n * @}\n *\/",351],["T_WHITESPACE","\n",353]]