[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","views",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","views",3],["T_NS_SEPARATOR","\\",3],["T_STRING","sort",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Form",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FormStateInterface",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Basic sort handler for dates.\n *\n * This handler enables granularity, which is the ability to make dates\n * equivalent based upon nearness.\n *\n * @ViewsSort(\"date\")\n *\/",7],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","Date",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","SortPluginBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_FUNCTION","function",17],["T_WHITESPACE"," ",17],["T_STRING","defineOptions",17],"(",")",["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n    ",17],["T_VARIABLE","$options",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_STRING","parent",18],["T_DOUBLE_COLON","::",18],["T_STRING","defineOptions",18],"(",")",";",["T_WHITESPACE","\n\n    ",18],["T_VARIABLE","$options",20],"[",["T_CONSTANT_ENCAPSED_STRING","'granularity'",20],"]",["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_ARRAY","array",20],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",20],["T_WHITESPACE"," ",20],["T_DOUBLE_ARROW","=>",20],["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'second'",20],")",";",["T_WHITESPACE","\n\n    ",20],["T_RETURN","return",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$options",22],";",["T_WHITESPACE","\n  ",22],"}",["T_WHITESPACE","\n\n  ",23],["T_PUBLIC","public",25],["T_WHITESPACE"," ",25],["T_FUNCTION","function",25],["T_WHITESPACE"," ",25],["T_STRING","buildOptionsForm",25],"(","&",["T_VARIABLE","$form",25],",",["T_WHITESPACE"," ",25],["T_STRING","FormStateInterface",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$form_state",25],")",["T_WHITESPACE"," ",25],"{",["T_WHITESPACE","\n    ",25],["T_STRING","parent",26],["T_DOUBLE_COLON","::",26],["T_STRING","buildOptionsForm",26],"(",["T_VARIABLE","$form",26],",",["T_WHITESPACE"," ",26],["T_VARIABLE","$form_state",26],")",";",["T_WHITESPACE","\n\n    ",26],["T_VARIABLE","$form",28],"[",["T_CONSTANT_ENCAPSED_STRING","'granularity'",28],"]",["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_ARRAY","array",28],"(",["T_WHITESPACE","\n      ",28],["T_CONSTANT_ENCAPSED_STRING","'#type'",29],["T_WHITESPACE"," ",29],["T_DOUBLE_ARROW","=>",29],["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'radios'",29],",",["T_WHITESPACE","\n      ",29],["T_CONSTANT_ENCAPSED_STRING","'#title'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","t",30],"(",["T_CONSTANT_ENCAPSED_STRING","'Granularity'",30],")",",",["T_WHITESPACE","\n      ",30],["T_CONSTANT_ENCAPSED_STRING","'#options'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_ARRAY","array",31],"(",["T_WHITESPACE","\n        ",31],["T_CONSTANT_ENCAPSED_STRING","'second'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","t",32],"(",["T_CONSTANT_ENCAPSED_STRING","'Second'",32],")",",",["T_WHITESPACE","\n        ",32],["T_CONSTANT_ENCAPSED_STRING","'minute'",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","t",33],"(",["T_CONSTANT_ENCAPSED_STRING","'Minute'",33],")",",",["T_WHITESPACE","\n        ",33],["T_CONSTANT_ENCAPSED_STRING","'hour'",34],["T_WHITESPACE","   ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","t",34],"(",["T_CONSTANT_ENCAPSED_STRING","'Hour'",34],")",",",["T_WHITESPACE","\n        ",34],["T_CONSTANT_ENCAPSED_STRING","'day'",35],["T_WHITESPACE","    ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","t",35],"(",["T_CONSTANT_ENCAPSED_STRING","'Day'",35],")",",",["T_WHITESPACE","\n        ",35],["T_CONSTANT_ENCAPSED_STRING","'month'",36],["T_WHITESPACE","  ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","t",36],"(",["T_CONSTANT_ENCAPSED_STRING","'Month'",36],")",",",["T_WHITESPACE","\n        ",36],["T_CONSTANT_ENCAPSED_STRING","'year'",37],["T_WHITESPACE","   ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","t",37],"(",["T_CONSTANT_ENCAPSED_STRING","'Year'",37],")",",",["T_WHITESPACE","\n      ",37],")",",",["T_WHITESPACE","\n      ",38],["T_CONSTANT_ENCAPSED_STRING","'#description'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","t",39],"(",["T_CONSTANT_ENCAPSED_STRING","'The granularity is the smallest unit to use when determining whether two dates are the same; for example, if the granularity is \"Year\" then all dates in 1999, regardless of when they fall in 1999, will be considered the same date.'",39],")",",",["T_WHITESPACE","\n      ",39],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","options",40],"[",["T_CONSTANT_ENCAPSED_STRING","'granularity'",40],"]",",",["T_WHITESPACE","\n    ",40],")",";",["T_WHITESPACE","\n  ",41],"}",["T_WHITESPACE","\n\n  ",42],["T_DOC_COMMENT","\/**\n   * Called to add the sort to a query.\n   *\/",44],["T_WHITESPACE","\n  ",46],["T_PUBLIC","public",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","query",47],"(",")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","ensureMyTable",48],"(",")",";",["T_WHITESPACE","\n    ",48],["T_SWITCH","switch",49],["T_WHITESPACE"," ",49],"(",["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","options",49],"[",["T_CONSTANT_ENCAPSED_STRING","'granularity'",49],"]",")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n      ",49],["T_CASE","case",50],["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'second'",50],":",["T_WHITESPACE","\n      ",50],["T_DEFAULT","default",51],":",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","query",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","addOrderBy",52],"(",["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","tableAlias",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","realField",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","options",52],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",52],"]",")",";",["T_WHITESPACE","\n        ",52],["T_RETURN","return",53],";",["T_WHITESPACE","\n      ",53],["T_CASE","case",54],["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'minute'",54],":",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$formula",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getDateFormat",55],"(",["T_CONSTANT_ENCAPSED_STRING","'YmdHi'",55],")",";",["T_WHITESPACE","\n        ",55],["T_BREAK","break",56],";",["T_WHITESPACE","\n      ",56],["T_CASE","case",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'hour'",57],":",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$formula",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getDateFormat",58],"(",["T_CONSTANT_ENCAPSED_STRING","'YmdH'",58],")",";",["T_WHITESPACE","\n        ",58],["T_BREAK","break",59],";",["T_WHITESPACE","\n      ",59],["T_CASE","case",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'day'",60],":",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$formula",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getDateFormat",61],"(",["T_CONSTANT_ENCAPSED_STRING","'Ymd'",61],")",";",["T_WHITESPACE","\n        ",61],["T_BREAK","break",62],";",["T_WHITESPACE","\n      ",62],["T_CASE","case",63],["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'month'",63],":",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$formula",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getDateFormat",64],"(",["T_CONSTANT_ENCAPSED_STRING","'Ym'",64],")",";",["T_WHITESPACE","\n        ",64],["T_BREAK","break",65],";",["T_WHITESPACE","\n      ",65],["T_CASE","case",66],["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'year'",66],":",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$formula",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getDateFormat",67],"(",["T_CONSTANT_ENCAPSED_STRING","'Y'",67],")",";",["T_WHITESPACE","\n        ",67],["T_BREAK","break",68],";",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n\n    ",69],["T_COMMENT","\/\/ Add the field.\n",71],["T_WHITESPACE","    ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","query",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","addOrderBy",72],"(",["T_STRING","NULL",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$formula",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","options",72],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",72],"]",",",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","tableAlias",72],["T_WHITESPACE"," ",72],".",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'_'",72],["T_WHITESPACE"," ",72],".",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","field",72],["T_WHITESPACE"," ",72],".",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'_'",72],["T_WHITESPACE"," ",72],".",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","options",72],"[",["T_CONSTANT_ENCAPSED_STRING","'granularity'",72],"]",")",";",["T_WHITESPACE","\n  ",72],"}",["T_WHITESPACE","\n\n",73],"}",["T_WHITESPACE","\n",75]]