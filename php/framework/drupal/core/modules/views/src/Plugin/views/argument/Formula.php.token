[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","views",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","views",3],["T_NS_SEPARATOR","\\",3],["T_STRING","argument",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","views",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Plugin",5],["T_NS_SEPARATOR","\\",5],["T_STRING","views",5],["T_NS_SEPARATOR","\\",5],["T_STRING","display",5],["T_NS_SEPARATOR","\\",5],["T_STRING","DisplayPluginBase",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","views",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ViewExecutable",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Argument handler for simple formulae.\n *\n * Child classes of this object should implement summaryArgument, at least.\n *\n * Definition terms:\n * - formula: The formula to use for this handler.\n *\n * @ingroup views_argument_handlers\n *\n * @ViewsArgument(\"formula\")\n *\/",8],["T_WHITESPACE","\n",19],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","Formula",20],["T_WHITESPACE"," ",20],["T_EXTENDS","extends",20],["T_WHITESPACE"," ",20],["T_STRING","ArgumentPluginBase",20],["T_WHITESPACE"," ",20],"{",["T_WHITESPACE","\n\n  ",20],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$formula",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_STRING","NULL",22],";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",24],["T_WHITESPACE","\n  ",26],["T_PUBLIC","public",27],["T_WHITESPACE"," ",27],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","init",27],"(",["T_STRING","ViewExecutable",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$view",27],",",["T_WHITESPACE"," ",27],["T_STRING","DisplayPluginBase",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$display",27],",",["T_WHITESPACE"," ",27],["T_ARRAY","array",27],["T_WHITESPACE"," ",27],"&",["T_VARIABLE","$options",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_STRING","NULL",27],")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n    ",27],["T_STRING","parent",28],["T_DOUBLE_COLON","::",28],["T_STRING","init",28],"(",["T_VARIABLE","$view",28],",",["T_WHITESPACE"," ",28],["T_VARIABLE","$display",28],",",["T_WHITESPACE"," ",28],["T_VARIABLE","$options",28],")",";",["T_WHITESPACE","\n\n    ",28],["T_IF","if",30],["T_WHITESPACE"," ",30],"(","!",["T_EMPTY","empty",30],"(",["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","definition",30],"[",["T_CONSTANT_ENCAPSED_STRING","'formula'",30],"]",")",")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n      ",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","formula",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","definition",31],"[",["T_CONSTANT_ENCAPSED_STRING","'formula'",31],"]",";",["T_WHITESPACE","\n    ",31],"}",["T_WHITESPACE","\n  ",32],"}",["T_WHITESPACE","\n\n  ",33],["T_PUBLIC","public",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","getFormula",35],"(",")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n    ",35],["T_RETURN","return",36],["T_WHITESPACE"," ",36],["T_STRING","str_replace",36],"(",["T_CONSTANT_ENCAPSED_STRING","'***table***'",36],",",["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","tableAlias",36],",",["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","formula",36],")",";",["T_WHITESPACE","\n  ",36],"}",["T_WHITESPACE","\n\n  ",37],["T_DOC_COMMENT","\/**\n   * Build the summary query based on a formula\n   *\/",39],["T_WHITESPACE","\n  ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","summaryQuery",42],"(",")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","ensureMyTable",43],"(",")",";",["T_WHITESPACE","\n    ",43],["T_COMMENT","\/\/ Now that our table is secure, get our formula.\n",44],["T_WHITESPACE","    ",45],["T_VARIABLE","$formula",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getFormula",45],"(",")",";",["T_WHITESPACE","\n\n    ",45],["T_COMMENT","\/\/ Add the field.\n",47],["T_WHITESPACE","    ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","base_alias",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","name_alias",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","query",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","addField",48],"(",["T_STRING","NULL",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$formula",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","field",48],")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","query",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","setCountField",49],"(",["T_STRING","NULL",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$formula",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","field",49],")",";",["T_WHITESPACE","\n\n    ",49],["T_RETURN","return",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","summaryBasics",51],"(",["T_STRING","FALSE",51],")",";",["T_WHITESPACE","\n  ",51],"}",["T_WHITESPACE","\n\n  ",52],["T_DOC_COMMENT","\/**\n   * Build the query based upon the formula\n   *\/",54],["T_WHITESPACE","\n  ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","query",57],"(",["T_VARIABLE","$group_by",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","FALSE",57],")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","ensureMyTable",58],"(",")",";",["T_WHITESPACE","\n    ",58],["T_COMMENT","\/\/ Now that our table is secure, get our formula.\n",59],["T_WHITESPACE","    ",60],["T_VARIABLE","$placeholder",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","placeholder",60],"(",")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$formula",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getFormula",61],"(",")",["T_WHITESPACE"," ",61],".",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","' = '",61],["T_WHITESPACE"," ",61],".",["T_WHITESPACE"," ",61],["T_VARIABLE","$placeholder",61],";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$placeholders",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_ARRAY","array",62],"(",["T_WHITESPACE","\n      ",62],["T_VARIABLE","$placeholder",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","argument",63],",",["T_WHITESPACE","\n    ",63],")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","query",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","addWhere",65],"(",["T_LNUMBER","0",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$formula",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$placeholders",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'formula'",65],")",";",["T_WHITESPACE","\n  ",65],"}",["T_WHITESPACE","\n\n",66],"}",["T_WHITESPACE","\n",68]]