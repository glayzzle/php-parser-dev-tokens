[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","views",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Wizard",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Tests the ability of the views wizard to create views with sorts.\n *\n * @group views\n *\/",5],["T_WHITESPACE","\n",9],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","SortingTest",10],["T_WHITESPACE"," ",10],["T_EXTENDS","extends",10],["T_WHITESPACE"," ",10],["T_STRING","WizardTestBase",10],["T_WHITESPACE"," ",10],"{",["T_WHITESPACE","\n\n  ",10],["T_PROTECTED","protected",12],["T_WHITESPACE"," ",12],["T_FUNCTION","function",12],["T_WHITESPACE"," ",12],["T_STRING","setUp",12],"(",")",["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n    ",12],["T_STRING","parent",13],["T_DOUBLE_COLON","::",13],["T_STRING","setUp",13],"(",")",";",["T_WHITESPACE","\n\n    ",13],["T_VARIABLE","$this",15],["T_OBJECT_OPERATOR","->",15],["T_STRING","drupalPlaceBlock",15],"(",["T_CONSTANT_ENCAPSED_STRING","'page_title_block'",15],")",";",["T_WHITESPACE","\n  ",15],"}",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * Tests the sorting functionality.\n   *\/",18],["T_WHITESPACE","\n  ",20],["T_FUNCTION","function",21],["T_WHITESPACE"," ",21],["T_STRING","testSorting",21],"(",")",["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n    ",21],["T_COMMENT","\/\/ Create nodes, each with a different creation time so that we can do a\n",22],["T_WHITESPACE","    ",23],["T_COMMENT","\/\/ meaningful sort.\n",23],["T_WHITESPACE","    ",24],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","drupalCreateContentType",24],"(",["T_ARRAY","array",24],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",24],["T_WHITESPACE"," ",24],["T_DOUBLE_ARROW","=>",24],["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'page'",24],")",")",";",["T_WHITESPACE","\n    ",24],["T_VARIABLE","$node1",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","drupalCreateNode",25],"(",["T_ARRAY","array",25],"(",["T_CONSTANT_ENCAPSED_STRING","'created'",25],["T_WHITESPACE"," ",25],["T_DOUBLE_ARROW","=>",25],["T_WHITESPACE"," ",25],["T_STRING","REQUEST_TIME",25],")",")",";",["T_WHITESPACE","\n    ",25],["T_VARIABLE","$node2",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","drupalCreateNode",26],"(",["T_ARRAY","array",26],"(",["T_CONSTANT_ENCAPSED_STRING","'created'",26],["T_WHITESPACE"," ",26],["T_DOUBLE_ARROW","=>",26],["T_WHITESPACE"," ",26],["T_STRING","REQUEST_TIME",26],["T_WHITESPACE"," ",26],"+",["T_WHITESPACE"," ",26],["T_LNUMBER","1",26],")",")",";",["T_WHITESPACE","\n    ",26],["T_VARIABLE","$node3",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","drupalCreateNode",27],"(",["T_ARRAY","array",27],"(",["T_CONSTANT_ENCAPSED_STRING","'created'",27],["T_WHITESPACE"," ",27],["T_DOUBLE_ARROW","=>",27],["T_WHITESPACE"," ",27],["T_STRING","REQUEST_TIME",27],["T_WHITESPACE"," ",27],"+",["T_WHITESPACE"," ",27],["T_LNUMBER","2",27],")",")",";",["T_WHITESPACE","\n\n    ",27],["T_COMMENT","\/\/ Create a view that sorts oldest first.\n",29],["T_WHITESPACE","    ",30],["T_VARIABLE","$view1",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_ARRAY","array",30],"(",")",";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$view1",31],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",31],"]",["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","randomMachineName",31],"(",["T_LNUMBER","16",31],")",";",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$view1",32],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",32],"]",["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_STRING","strtolower",32],"(",["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","randomMachineName",32],"(",["T_LNUMBER","16",32],")",")",";",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$view1",33],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",33],"]",["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","randomMachineName",33],"(",["T_LNUMBER","16",33],")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$view1",34],"[",["T_CONSTANT_ENCAPSED_STRING","'show[sort]'",34],"]",["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'node_field_data-created:ASC'",34],";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$view1",35],"[",["T_CONSTANT_ENCAPSED_STRING","'page[create]'",35],"]",["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_LNUMBER","1",35],";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$view1",36],"[",["T_CONSTANT_ENCAPSED_STRING","'page[title]'",36],"]",["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","randomMachineName",36],"(",["T_LNUMBER","16",36],")",";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$view1",37],"[",["T_CONSTANT_ENCAPSED_STRING","'page[path]'",37],"]",["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","randomMachineName",37],"(",["T_LNUMBER","16",37],")",";",["T_WHITESPACE","\n    ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","drupalPostForm",38],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/add'",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$view1",38],",",["T_WHITESPACE"," ",38],["T_STRING","t",38],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and edit'",38],")",")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","drupalGet",39],"(",["T_VARIABLE","$view1",39],"[",["T_CONSTANT_ENCAPSED_STRING","'page[path]'",39],"]",")",";",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","assertResponse",40],"(",["T_LNUMBER","200",40],")",";",["T_WHITESPACE","\n\n    ",40],["T_COMMENT","\/\/ Make sure the view shows the nodes in the expected order.\n",42],["T_WHITESPACE","    ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","assertUrl",43],"(",["T_VARIABLE","$view1",43],"[",["T_CONSTANT_ENCAPSED_STRING","'page[path]'",43],"]",")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","assertText",44],"(",["T_VARIABLE","$view1",44],"[",["T_CONSTANT_ENCAPSED_STRING","'page[title]'",44],"]",")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$content",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getRawContent",45],"(",")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","assertText",46],"(",["T_VARIABLE","$node1",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","label",46],"(",")",")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","assertText",47],"(",["T_VARIABLE","$node2",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","label",47],"(",")",")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","assertText",48],"(",["T_VARIABLE","$node3",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","label",48],"(",")",")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$pos1",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","strpos",49],"(",["T_VARIABLE","$content",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$node1",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","label",49],"(",")",")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$pos2",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","strpos",50],"(",["T_VARIABLE","$content",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$node2",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","label",50],"(",")",")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$pos3",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_STRING","strpos",51],"(",["T_VARIABLE","$content",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$node3",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","label",51],"(",")",")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","assertTrue",52],"(",["T_VARIABLE","$pos1",52],["T_WHITESPACE"," ",52],"<",["T_WHITESPACE"," ",52],["T_VARIABLE","$pos2",52],["T_WHITESPACE"," ",52],["T_BOOLEAN_AND","&&",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$pos2",52],["T_WHITESPACE"," ",52],"<",["T_WHITESPACE"," ",52],["T_VARIABLE","$pos3",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'The nodes appear in the expected order in a view that sorts by oldest first.'",52],")",";",["T_WHITESPACE","\n\n    ",52],["T_COMMENT","\/\/ Create a view that sorts newest first.\n",54],["T_WHITESPACE","    ",55],["T_VARIABLE","$view2",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$view2",56],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",56],"]",["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","randomMachineName",56],"(",["T_LNUMBER","16",56],")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$view2",57],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",57],"]",["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","strtolower",57],"(",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","randomMachineName",57],"(",["T_LNUMBER","16",57],")",")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$view2",58],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",58],"]",["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","randomMachineName",58],"(",["T_LNUMBER","16",58],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$view2",59],"[",["T_CONSTANT_ENCAPSED_STRING","'show[sort]'",59],"]",["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'node_field_data-created:DESC'",59],";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$view2",60],"[",["T_CONSTANT_ENCAPSED_STRING","'page[create]'",60],"]",["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_LNUMBER","1",60],";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$view2",61],"[",["T_CONSTANT_ENCAPSED_STRING","'page[title]'",61],"]",["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","randomMachineName",61],"(",["T_LNUMBER","16",61],")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$view2",62],"[",["T_CONSTANT_ENCAPSED_STRING","'page[path]'",62],"]",["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","randomMachineName",62],"(",["T_LNUMBER","16",62],")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","drupalPostForm",63],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/add'",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$view2",63],",",["T_WHITESPACE"," ",63],["T_STRING","t",63],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and edit'",63],")",")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","drupalGet",64],"(",["T_VARIABLE","$view2",64],"[",["T_CONSTANT_ENCAPSED_STRING","'page[path]'",64],"]",")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","assertResponse",65],"(",["T_LNUMBER","200",65],")",";",["T_WHITESPACE","\n\n    ",65],["T_COMMENT","\/\/ Make sure the view shows the nodes in the expected order.\n",67],["T_WHITESPACE","    ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","assertUrl",68],"(",["T_VARIABLE","$view2",68],"[",["T_CONSTANT_ENCAPSED_STRING","'page[path]'",68],"]",")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertText",69],"(",["T_VARIABLE","$view2",69],"[",["T_CONSTANT_ENCAPSED_STRING","'page[title]'",69],"]",")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$content",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getRawContent",70],"(",")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertText",71],"(",["T_VARIABLE","$node3",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","label",71],"(",")",")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertText",72],"(",["T_VARIABLE","$node2",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","label",72],"(",")",")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertText",73],"(",["T_VARIABLE","$node1",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","label",73],"(",")",")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$pos3",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","strpos",74],"(",["T_VARIABLE","$content",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$node3",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","label",74],"(",")",")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$pos2",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","strpos",75],"(",["T_VARIABLE","$content",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$node2",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","label",75],"(",")",")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$pos1",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_STRING","strpos",76],"(",["T_VARIABLE","$content",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$node1",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","label",76],"(",")",")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assertTrue",77],"(",["T_VARIABLE","$pos3",77],["T_WHITESPACE"," ",77],"<",["T_WHITESPACE"," ",77],["T_VARIABLE","$pos2",77],["T_WHITESPACE"," ",77],["T_BOOLEAN_AND","&&",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$pos2",77],["T_WHITESPACE"," ",77],"<",["T_WHITESPACE"," ",77],["T_VARIABLE","$pos1",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'The nodes appear in the expected order in a view that sorts by newest first.'",77],")",";",["T_WHITESPACE","\n  ",77],"}",["T_WHITESPACE","\n\n",78],"}",["T_WHITESPACE","\n",80]]