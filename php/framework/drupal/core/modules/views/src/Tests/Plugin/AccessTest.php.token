[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","views",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","views",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Tests",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ViewTestData",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","views",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Views",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests pluggable access for views.\n *\n * @group views\n * @todo It probably make sense to split the test up by one for role\/perm\/none\n *   and the two generic ones.\n *\/",8],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","AccessTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","PluginTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * Views used by this test.\n   *\n   * @var array\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_STATIC","static",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$testViews",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_ARRAY","array",22],"(",["T_CONSTANT_ENCAPSED_STRING","'test_access_none'",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'test_access_static'",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'test_access_dynamic'",22],")",";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @return array\n   *\/",24],["T_WHITESPACE","\n  ",28],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_STATIC","static",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$modules",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_ARRAY","array",29],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",29],")",";",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * Web user for testing.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",31],["T_WHITESPACE","\n  ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$webUser",36],";",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * Normal user for testing.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",38],["T_WHITESPACE","\n  ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$normalUser",43],";",["T_WHITESPACE","\n\n  ",43],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","setUp",45],"(",")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n    ",45],["T_STRING","parent",46],["T_DOUBLE_COLON","::",46],["T_STRING","setUp",46],"(",")",";",["T_WHITESPACE","\n\n    ",46],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","enableViewsTestModule",48],"(",")",";",["T_WHITESPACE","\n\n    ",48],["T_STRING","ViewTestData",50],["T_DOUBLE_COLON","::",50],["T_STRING","createTestViews",50],"(",["T_STRING","get_class",50],"(",["T_VARIABLE","$this",50],")",",",["T_WHITESPACE"," ",50],["T_ARRAY","array",50],"(",["T_CONSTANT_ENCAPSED_STRING","'views_test_data'",50],")",")",";",["T_WHITESPACE","\n\n    ",50],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","webUser",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","drupalCreateUser",52],"(",")",";",["T_WHITESPACE","\n\n    ",52],["T_VARIABLE","$normal_role",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","drupalCreateRole",54],"(",["T_ARRAY","array",54],"(",")",")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","normalUser",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","drupalCreateUser",55],"(",["T_ARRAY","array",55],"(",["T_CONSTANT_ENCAPSED_STRING","'views_test_data test permission'",55],")",")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","normalUser",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","addRole",56],"(",["T_VARIABLE","$normal_role",56],")",";",["T_WHITESPACE","\n    ",56],["T_COMMENT","\/\/ @todo when all the plugin information is cached make a reset function and\n",57],["T_WHITESPACE","    ",58],["T_COMMENT","\/\/ call it here.\n",58],["T_WHITESPACE","  ",59],"}",["T_WHITESPACE","\n\n  ",59],["T_DOC_COMMENT","\/**\n   * Tests none access plugin.\n   *\/",61],["T_WHITESPACE","\n  ",63],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","testAccessNone",64],"(",")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$view",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","Views",65],["T_DOUBLE_COLON","::",65],["T_STRING","getView",65],"(",["T_CONSTANT_ENCAPSED_STRING","'test_access_none'",65],")",";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$view",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","setDisplay",66],"(",")",";",["T_WHITESPACE","\n\n    ",66],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","assertTrue",68],"(",["T_VARIABLE","$view",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","display_handler",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","access",68],"(",["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","webUser",68],")",")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertTrue",69],"(",["T_VARIABLE","$view",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","display_handler",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","access",69],"(",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","normalUser",69],")",")",";",["T_WHITESPACE","\n  ",69],"}",["T_WHITESPACE","\n\n  ",70],["T_DOC_COMMENT","\/**\n   * @todo Test abstract access plugin.\n   *\/",72],["T_WHITESPACE","\n\n  ",74],["T_DOC_COMMENT","\/**\n   * Tests static access check.\n   *\n   * @see \\Drupal\\views_test\\Plugin\\views\\access\\StaticTest\n   *\/",76],["T_WHITESPACE","\n  ",80],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","testStaticAccessPlugin",81],"(",")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$view",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","Views",82],["T_DOUBLE_COLON","::",82],["T_STRING","getView",82],"(",["T_CONSTANT_ENCAPSED_STRING","'test_access_static'",82],")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$view",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","setDisplay",83],"(",")",";",["T_WHITESPACE","\n\n    ",83],["T_VARIABLE","$access_plugin",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$view",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","display_handler",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getPlugin",85],"(",["T_CONSTANT_ENCAPSED_STRING","'access'",85],")",";",["T_WHITESPACE","\n\n    ",85],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertFalse",87],"(",["T_VARIABLE","$access_plugin",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","access",87],"(",["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","normalUser",87],")",")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","drupalGet",88],"(",["T_CONSTANT_ENCAPSED_STRING","'test_access_static'",88],")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertResponse",89],"(",["T_LNUMBER","403",89],")",";",["T_WHITESPACE","\n\n    ",89],["T_VARIABLE","$display",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],"&",["T_VARIABLE","$view",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","storage",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getDisplay",91],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",91],")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$display",92],"[",["T_CONSTANT_ENCAPSED_STRING","'display_options'",92],"]","[",["T_CONSTANT_ENCAPSED_STRING","'access'",92],"]","[",["T_CONSTANT_ENCAPSED_STRING","'options'",92],"]","[",["T_CONSTANT_ENCAPSED_STRING","'access'",92],"]",["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_STRING","TRUE",92],";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$access_plugin",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","options",93],"[",["T_CONSTANT_ENCAPSED_STRING","'access'",93],"]",["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","TRUE",93],";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$view",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","save",94],"(",")",";",["T_WHITESPACE","\n    ",94],["T_COMMENT","\/\/ Saving a view will cause the router to be rebuilt when the kernel\n",95],["T_WHITESPACE","    ",96],["T_COMMENT","\/\/ termination event fires. Simulate that here.\n",96],["T_WHITESPACE","    ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","container",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","get",97],"(",["T_CONSTANT_ENCAPSED_STRING","'router.builder'",97],")",["T_OBJECT_OPERATOR","->",97],["T_STRING","rebuildIfNeeded",97],"(",")",";",["T_WHITESPACE","\n\n    ",97],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","assertTrue",99],"(",["T_VARIABLE","$access_plugin",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","access",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","normalUser",99],")",")",";",["T_WHITESPACE","\n\n    ",99],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","drupalGet",101],"(",["T_CONSTANT_ENCAPSED_STRING","'test_access_static'",101],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","assertResponse",102],"(",["T_LNUMBER","200",102],")",";",["T_WHITESPACE","\n  ",102],"}",["T_WHITESPACE","\n\n",103],"}",["T_WHITESPACE","\n",105]]