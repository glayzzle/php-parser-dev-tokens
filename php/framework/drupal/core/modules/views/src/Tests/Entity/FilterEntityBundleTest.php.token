[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","views",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Entity",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","node",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Node",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","views",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Tests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ViewTestBase",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","views",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Tests",7],["T_NS_SEPARATOR","\\",7],["T_STRING","ViewTestData",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","views",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Views",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Tests the generic entity bundle filter.\n *\n * @group views\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","FilterEntityBundleTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","ViewTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * Views used by this test.\n   *\n   * @var array\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_STATIC","static",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$testViews",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_ARRAY","array",22],"(",["T_CONSTANT_ENCAPSED_STRING","'test_entity_type_filter'",22],")",";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",24],["T_WHITESPACE","\n  ",28],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_STATIC","static",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$modules",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_ARRAY","array",29],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",29],")",";",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * Entity bundle data.\n   *\n   * @var array\n   *\/",31],["T_WHITESPACE","\n  ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$entityBundles",36],";",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * An array of entities.\n   *\n   * @var array\n   *\/",38],["T_WHITESPACE","\n  ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$entities",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_ARRAY","array",43],"(",")",";",["T_WHITESPACE","\n\n  ",43],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","setUp",45],"(",")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n    ",45],["T_STRING","parent",46],["T_DOUBLE_COLON","::",46],["T_STRING","setUp",46],"(",["T_STRING","FALSE",46],")",";",["T_WHITESPACE","\n\n    ",46],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","drupalCreateContentType",48],"(",["T_ARRAY","array",48],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'test_bundle'",48],")",")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","drupalCreateContentType",49],"(",["T_ARRAY","array",49],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'test_bundle_2'",49],")",")",";",["T_WHITESPACE","\n\n    ",49],["T_STRING","ViewTestData",51],["T_DOUBLE_COLON","::",51],["T_STRING","createTestViews",51],"(",["T_STRING","get_class",51],"(",["T_VARIABLE","$this",51],")",",",["T_WHITESPACE"," ",51],["T_ARRAY","array",51],"(",["T_CONSTANT_ENCAPSED_STRING","'views_test_config'",51],")",")",";",["T_WHITESPACE","\n\n    ",51],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","entityBundles",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","container",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","get",53],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.bundle.info'",53],")",["T_OBJECT_OPERATOR","->",53],["T_STRING","getBundleInfo",53],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",53],")",";",["T_WHITESPACE","\n\n    ",53],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","entities",55],"[",["T_CONSTANT_ENCAPSED_STRING","'count'",55],"]",["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_LNUMBER","0",55],";",["T_WHITESPACE","\n\n    ",55],["T_FOREACH","foreach",57],["T_WHITESPACE"," ",57],"(",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","entityBundles",57],["T_WHITESPACE"," ",57],["T_AS","as",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$key",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$info",57],")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n      ",57],["T_FOR","for",58],["T_WHITESPACE"," ",58],"(",["T_VARIABLE","$i",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_LNUMBER","0",58],";",["T_WHITESPACE"," ",58],["T_VARIABLE","$i",58],["T_WHITESPACE"," ",58],"<",["T_WHITESPACE"," ",58],["T_LNUMBER","5",58],";",["T_WHITESPACE"," ",58],["T_VARIABLE","$i",58],["T_INC","++",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$entity",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","Node",59],["T_DOUBLE_COLON","::",59],["T_STRING","create",59],"(","[",["T_WHITESPACE","\n          ",59],["T_CONSTANT_ENCAPSED_STRING","'title'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","randomString",60],"(",")",",",["T_WHITESPACE","\n          ",60],["T_CONSTANT_ENCAPSED_STRING","'uid'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_LNUMBER","1",61],",",["T_WHITESPACE","\n          ",61],["T_CONSTANT_ENCAPSED_STRING","'type'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$key",62],",",["T_WHITESPACE","\n        ",62],"]",")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$entity",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","save",64],"(",")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","entities",65],"[",["T_VARIABLE","$key",65],"]","[",["T_VARIABLE","$entity",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","id",65],"(",")","]",["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$entity",65],";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","entities",66],"[",["T_CONSTANT_ENCAPSED_STRING","'count'",66],"]",["T_INC","++",66],";",["T_WHITESPACE","\n      ",66],"}",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n  ",68],"}",["T_WHITESPACE","\n\n  ",69],["T_DOC_COMMENT","\/**\n   * Tests the generic bundle filter.\n   *\/",71],["T_WHITESPACE","\n  ",73],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","testFilterEntity",74],"(",")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$view",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","Views",75],["T_DOUBLE_COLON","::",75],["T_STRING","getView",75],"(",["T_CONSTANT_ENCAPSED_STRING","'test_entity_type_filter'",75],")",";",["T_WHITESPACE","\n\n    ",75],["T_COMMENT","\/\/ Tests \\Drupal\\views\\Plugin\\views\\filter\\Bundle::calculateDependencies().\n",77],["T_WHITESPACE","    ",78],["T_VARIABLE","$expected",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],"[",["T_WHITESPACE","\n      ",78],["T_CONSTANT_ENCAPSED_STRING","'config'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],"[",["T_WHITESPACE","\n        ",79],["T_CONSTANT_ENCAPSED_STRING","'node.type.test_bundle'",80],",",["T_WHITESPACE","\n        ",80],["T_CONSTANT_ENCAPSED_STRING","'node.type.test_bundle_2'",81],",",["T_WHITESPACE","\n      ",81],"]",",",["T_WHITESPACE","\n      ",82],["T_CONSTANT_ENCAPSED_STRING","'module'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],"[",["T_WHITESPACE","\n        ",83],["T_CONSTANT_ENCAPSED_STRING","'node'",84],["T_WHITESPACE","\n      ",84],"]",",",["T_WHITESPACE","\n    ",85],"]",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertIdentical",87],"(",["T_VARIABLE","$expected",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$view",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getDependencies",87],"(",")",")",";",["T_WHITESPACE","\n\n    ",87],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","executeView",89],"(",["T_VARIABLE","$view",89],")",";",["T_WHITESPACE","\n\n    ",89],["T_COMMENT","\/\/ Test we have all the results, with all types selected.\n",91],["T_WHITESPACE","    ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertEqual",92],"(",["T_STRING","count",92],"(",["T_VARIABLE","$view",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","result",92],")",",",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","entities",92],"[",["T_CONSTANT_ENCAPSED_STRING","'count'",92],"]",")",";",["T_WHITESPACE","\n\n    ",92],["T_COMMENT","\/\/ Test the valueOptions of the filter handler.\n",94],["T_WHITESPACE","    ",95],["T_VARIABLE","$expected",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_ARRAY","array",95],"(",")",";",["T_WHITESPACE","\n\n    ",95],["T_FOREACH","foreach",97],["T_WHITESPACE"," ",97],"(",["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","entityBundles",97],["T_WHITESPACE"," ",97],["T_AS","as",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$key",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$info",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n      ",97],["T_VARIABLE","$expected",98],"[",["T_VARIABLE","$key",98],"]",["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$info",98],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",98],"]",";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertIdentical",100],"(",["T_VARIABLE","$view",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","filter",100],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",100],"]",["T_OBJECT_OPERATOR","->",100],["T_STRING","getValueOptions",100],"(",")",",",["T_WHITESPACE"," ",100],["T_VARIABLE","$expected",100],")",";",["T_WHITESPACE","\n\n    ",100],["T_VARIABLE","$view",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","destroy",102],"(",")",";",["T_WHITESPACE","\n\n    ",102],["T_COMMENT","\/\/ Test each bundle type.\n",104],["T_WHITESPACE","    ",105],["T_FOREACH","foreach",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","entityBundles",105],["T_WHITESPACE"," ",105],["T_AS","as",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$key",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$info",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n      ",105],["T_COMMENT","\/\/ Test each bundle type.\n",106],["T_WHITESPACE","      ",107],["T_VARIABLE","$view",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","initDisplay",107],"(",")",";",["T_WHITESPACE","\n      ",107],["T_VARIABLE","$filters",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$view",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","display_handler",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getOption",108],"(",["T_CONSTANT_ENCAPSED_STRING","'filters'",108],")",";",["T_WHITESPACE","\n      ",108],["T_VARIABLE","$filters",109],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",109],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",109],"]",["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_ARRAY","array",109],"(",["T_VARIABLE","$key",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$key",109],")",";",["T_WHITESPACE","\n      ",109],["T_VARIABLE","$view",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","display_handler",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","setOption",110],"(",["T_CONSTANT_ENCAPSED_STRING","'filters'",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$filters",110],")",";",["T_WHITESPACE","\n      ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","executeView",111],"(",["T_VARIABLE","$view",111],")",";",["T_WHITESPACE","\n\n      ",111],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","assertEqual",113],"(",["T_STRING","count",113],"(",["T_VARIABLE","$view",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","result",113],")",",",["T_WHITESPACE"," ",113],["T_STRING","count",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","entities",113],"[",["T_VARIABLE","$key",113],"]",")",")",";",["T_WHITESPACE","\n\n      ",113],["T_VARIABLE","$view",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","destroy",115],"(",")",";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_COMMENT","\/\/ Test an invalid bundle type to make sure we have no results.\n",118],["T_WHITESPACE","    ",119],["T_VARIABLE","$view",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","initDisplay",119],"(",")",";",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$filters",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$view",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","display_handler",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getOption",120],"(",["T_CONSTANT_ENCAPSED_STRING","'filters'",120],")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$filters",121],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",121],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",121],"]",["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_ARRAY","array",121],"(",["T_CONSTANT_ENCAPSED_STRING","'type_3'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'type_3'",121],")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$view",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","display_handler",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","setOption",122],"(",["T_CONSTANT_ENCAPSED_STRING","'filters'",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$filters",122],")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","executeView",123],"(",["T_VARIABLE","$view",123],")",";",["T_WHITESPACE","\n\n    ",123],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertEqual",125],"(",["T_STRING","count",125],"(",["T_VARIABLE","$view",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","result",125],")",",",["T_WHITESPACE"," ",125],["T_LNUMBER","0",125],")",";",["T_WHITESPACE","\n  ",125],"}",["T_WHITESPACE","\n\n",126],"}",["T_WHITESPACE","\n",128]]