[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","views",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Database",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Query",5],["T_NS_SEPARATOR","\\",5],["T_STRING","SelectInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","simpletest",6],["T_NS_SEPARATOR","\\",6],["T_STRING","KernelTestBase",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Defines a base class for Views unit testing.\n *\n * Use this test class for unit tests of Views functionality. If a test\n * requires the full web test environment provided by WebTestBase, extend\n * ViewTestBase instead.\n *\n * @deprecated in Drupal 8.0.x, will be removed in Drupal 8.2.x. Use\n *   \\Drupal\\Tests\\views\\Kernel\\ViewsKernelTestBase instead.\n *\n * @see \\Drupal\\Tests\\views\\Kernel\\ViewsKernelTestBase\n *\/",8],["T_WHITESPACE","\n",19],["T_ABSTRACT","abstract",20],["T_WHITESPACE"," ",20],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","ViewKernelTestBase",20],["T_WHITESPACE"," ",20],["T_EXTENDS","extends",20],["T_WHITESPACE"," ",20],["T_STRING","KernelTestBase",20],["T_WHITESPACE"," ",20],"{",["T_WHITESPACE","\n\n  ",20],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","ViewResultAssertionTrait",22],";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",24],["T_WHITESPACE","\n  ",28],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_STATIC","static",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$modules",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_ARRAY","array",29],"(",["T_CONSTANT_ENCAPSED_STRING","'system'",29],",",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'views'",29],",",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'views_test_config'",29],",",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'views_test_data'",29],",",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'user'",29],")",";",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\n   * @param bool $import_test_views\n   *   Should the views specififed on the test class be imported. If you need\n   *   to setup some additional stuff, like fields, you need to call false and\n   *   then call createTestViews for your own.\n   *\/",31],["T_WHITESPACE","\n  ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","setUp",39],"(",["T_VARIABLE","$import_test_views",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","TRUE",39],")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n    ",39],["T_STRING","parent",40],["T_DOUBLE_COLON","::",40],["T_STRING","setUp",40],"(",")",";",["T_WHITESPACE","\n\n    ",40],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","installSchema",42],"(",["T_CONSTANT_ENCAPSED_STRING","'system'",42],",",["T_WHITESPACE"," ",42],["T_ARRAY","array",42],"(",["T_CONSTANT_ENCAPSED_STRING","'sequences'",42],")",")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","setUpFixtures",43],"(",")",";",["T_WHITESPACE","\n\n    ",43],["T_IF","if",45],["T_WHITESPACE"," ",45],"(",["T_VARIABLE","$import_test_views",45],")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n      ",45],["T_STRING","ViewTestData",46],["T_DOUBLE_COLON","::",46],["T_STRING","createTestViews",46],"(",["T_STRING","get_class",46],"(",["T_VARIABLE","$this",46],")",",",["T_WHITESPACE"," ",46],["T_ARRAY","array",46],"(",["T_CONSTANT_ENCAPSED_STRING","'views_test_config'",46],")",")",";",["T_WHITESPACE","\n    ",46],"}",["T_WHITESPACE","\n  ",47],"}",["T_WHITESPACE","\n\n  ",48],["T_DOC_COMMENT","\/**\n   * Sets up the configuration and schema of views and views_test_data modules.\n   *\n   * Because the schema of views_test_data.module is dependent on the test\n   * using it, it cannot be enabled normally.\n   *\/",50],["T_WHITESPACE","\n  ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],["T_STRING","setUpFixtures",56],"(",")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n    ",56],["T_COMMENT","\/\/ First install the system module. Many Views have Page displays have menu\n",57],["T_WHITESPACE","    ",58],["T_COMMENT","\/\/ links, and for those to work, the system menus must already be present.\n",58],["T_WHITESPACE","    ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","installConfig",59],"(",["T_ARRAY","array",59],"(",["T_CONSTANT_ENCAPSED_STRING","'system'",59],")",")",";",["T_WHITESPACE","\n\n    ",59],["T_COMMENT","\/\/ Define the schema and views data variable before enabling the test module.\n",61],["T_WHITESPACE","    ",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Drupal",62],["T_DOUBLE_COLON","::",62],["T_STRING","state",62],"(",")",["T_OBJECT_OPERATOR","->",62],["T_STRING","set",62],"(",["T_CONSTANT_ENCAPSED_STRING","'views_test_data_schema'",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","schemaDefinition",62],"(",")",")",";",["T_WHITESPACE","\n    ",62],["T_NS_SEPARATOR","\\",63],["T_STRING","Drupal",63],["T_DOUBLE_COLON","::",63],["T_STRING","state",63],"(",")",["T_OBJECT_OPERATOR","->",63],["T_STRING","set",63],"(",["T_CONSTANT_ENCAPSED_STRING","'views_test_data_views_data'",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","viewsData",63],"(",")",")",";",["T_WHITESPACE","\n\n    ",63],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","installConfig",65],"(",["T_ARRAY","array",65],"(",["T_CONSTANT_ENCAPSED_STRING","'views'",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'views_test_config'",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'views_test_data'",65],")",")",";",["T_WHITESPACE","\n    ",65],["T_FOREACH","foreach",66],["T_WHITESPACE"," ",66],"(",["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","schemaDefinition",66],"(",")",["T_WHITESPACE"," ",66],["T_AS","as",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$table",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$schema",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n      ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","installSchema",67],"(",["T_CONSTANT_ENCAPSED_STRING","'views_test_data'",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$table",67],")",";",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n\n    ",68],["T_NS_SEPARATOR","\\",70],["T_STRING","Drupal",70],["T_DOUBLE_COLON","::",70],["T_STRING","service",70],"(",["T_CONSTANT_ENCAPSED_STRING","'router.builder'",70],")",["T_OBJECT_OPERATOR","->",70],["T_STRING","rebuild",70],"(",")",";",["T_WHITESPACE","\n\n    ",70],["T_COMMENT","\/\/ Load the test dataset.\n",72],["T_WHITESPACE","    ",73],["T_VARIABLE","$data_set",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","dataSet",73],"(",")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$query",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","db_insert",74],"(",["T_CONSTANT_ENCAPSED_STRING","'views_test_data'",74],")",["T_WHITESPACE","\n      ",74],["T_OBJECT_OPERATOR","->",75],["T_STRING","fields",75],"(",["T_STRING","array_keys",75],"(",["T_VARIABLE","$data_set",75],"[",["T_LNUMBER","0",75],"]",")",")",";",["T_WHITESPACE","\n    ",75],["T_FOREACH","foreach",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$data_set",76],["T_WHITESPACE"," ",76],["T_AS","as",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$record",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n      ",76],["T_VARIABLE","$query",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","values",77],"(",["T_VARIABLE","$record",77],")",";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$query",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","execute",79],"(",")",";",["T_WHITESPACE","\n  ",79],"}",["T_WHITESPACE","\n\n  ",80],["T_DOC_COMMENT","\/**\n   * Orders a nested array containing a result set based on a given column.\n   *\n   * @param array $result_set\n   *   An array of rows from a result set, with each row as an associative\n   *   array keyed by column name.\n   * @param string $column\n   *   The column name by which to sort the result set.\n   * @param bool $reverse\n   *   (optional) Boolean indicating whether to sort the result set in reverse\n   *   order. Defaults to FALSE.\n   *\n   * @return array\n   *   The sorted result set.\n   *\/",82],["T_WHITESPACE","\n  ",96],["T_PROTECTED","protected",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","orderResultSet",97],"(",["T_VARIABLE","$result_set",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$column",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$reverse",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_STRING","FALSE",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$order",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$reverse",98],["T_WHITESPACE"," ",98],"?",["T_WHITESPACE"," ",98],"-",["T_LNUMBER","1",98],["T_WHITESPACE"," ",98],":",["T_WHITESPACE"," ",98],["T_LNUMBER","1",98],";",["T_WHITESPACE","\n    ",98],["T_STRING","usort",99],"(",["T_VARIABLE","$result_set",99],",",["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],"(",["T_VARIABLE","$a",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$b",99],")",["T_WHITESPACE"," ",99],["T_USE","use",99],["T_WHITESPACE"," ",99],"(",["T_VARIABLE","$column",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$order",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n      ",99],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$a",100],"[",["T_VARIABLE","$column",100],"]",["T_WHITESPACE"," ",100],["T_IS_EQUAL","==",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$b",100],"[",["T_VARIABLE","$column",100],"]",")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n        ",100],["T_RETURN","return",101],["T_WHITESPACE"," ",101],["T_LNUMBER","0",101],";",["T_WHITESPACE","\n      ",101],"}",["T_WHITESPACE","\n      ",102],["T_RETURN","return",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$order",103],["T_WHITESPACE"," ",103],"*",["T_WHITESPACE"," ",103],"(","(",["T_VARIABLE","$a",103],"[",["T_VARIABLE","$column",103],"]",["T_WHITESPACE"," ",103],"<",["T_WHITESPACE"," ",103],["T_VARIABLE","$b",103],"[",["T_VARIABLE","$column",103],"]",")",["T_WHITESPACE"," ",103],"?",["T_WHITESPACE"," ",103],"-",["T_LNUMBER","1",103],["T_WHITESPACE"," ",103],":",["T_WHITESPACE"," ",103],["T_LNUMBER","1",103],")",";",["T_WHITESPACE","\n    ",103],"}",")",";",["T_WHITESPACE","\n    ",104],["T_RETURN","return",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$result_set",105],";",["T_WHITESPACE","\n  ",105],"}",["T_WHITESPACE","\n\n  ",106],["T_DOC_COMMENT","\/**\n   * Executes a view with debugging.\n   *\n   * @param \\Drupal\\views\\ViewExecutable $view\n   *   The view object.\n   * @param array $args\n   *   (optional) An array of the view arguments to use for the view.\n   *\/",108],["T_WHITESPACE","\n  ",115],["T_PROTECTED","protected",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","executeView",116],"(",["T_VARIABLE","$view",116],",",["T_WHITESPACE"," ",116],["T_ARRAY","array",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$args",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_ARRAY","array",116],"(",")",")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$view",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","setDisplay",117],"(",")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$view",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","preExecute",118],"(",["T_VARIABLE","$args",118],")",";",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$view",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","execute",119],"(",")",";",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$verbose_message",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'<pre>Executed view: '",120],["T_WHITESPACE"," ",120],".",["T_WHITESPACE"," ",120],"(",["T_STRING_CAST","(string)",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$view",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","build_info",120],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",120],"]",")",["T_WHITESPACE"," ",120],".",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'<\/pre>'",120],";",["T_WHITESPACE","\n    ",120],["T_IF","if",121],["T_WHITESPACE"," ",121],"(",["T_VARIABLE","$view",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","build_info",121],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",121],"]",["T_WHITESPACE"," ",121],["T_INSTANCEOF","instanceof",121],["T_WHITESPACE"," ",121],["T_STRING","SelectInterface",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n      ",121],["T_VARIABLE","$verbose_message",122],["T_WHITESPACE"," ",122],["T_CONCAT_EQUAL",".=",122],["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'<pre>Arguments: '",122],["T_WHITESPACE"," ",122],".",["T_WHITESPACE"," ",122],["T_STRING","print_r",122],"(",["T_VARIABLE","$view",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","build_info",122],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",122],"]",["T_OBJECT_OPERATOR","->",122],["T_STRING","getArguments",122],"(",")",",",["T_WHITESPACE"," ",122],["T_STRING","TRUE",122],")",["T_WHITESPACE"," ",122],".",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'<\/pre>'",122],";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","verbose",124],"(",["T_VARIABLE","$verbose_message",124],")",";",["T_WHITESPACE","\n  ",124],"}",["T_WHITESPACE","\n\n  ",125],["T_DOC_COMMENT","\/**\n   * Returns the schema definition.\n   *\/",127],["T_WHITESPACE","\n  ",129],["T_PROTECTED","protected",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","schemaDefinition",130],"(",")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n    ",130],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_STRING","ViewTestData",131],["T_DOUBLE_COLON","::",131],["T_STRING","schemaDefinition",131],"(",")",";",["T_WHITESPACE","\n  ",131],"}",["T_WHITESPACE","\n\n  ",132],["T_DOC_COMMENT","\/**\n   * Returns the views data definition.\n   *\/",134],["T_WHITESPACE","\n  ",136],["T_PROTECTED","protected",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","viewsData",137],"(",")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n    ",137],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_STRING","ViewTestData",138],["T_DOUBLE_COLON","::",138],["T_STRING","viewsData",138],"(",")",";",["T_WHITESPACE","\n  ",138],"}",["T_WHITESPACE","\n\n  ",139],["T_DOC_COMMENT","\/**\n   * Returns a very simple test dataset.\n   *\/",141],["T_WHITESPACE","\n  ",143],["T_PROTECTED","protected",144],["T_WHITESPACE"," ",144],["T_FUNCTION","function",144],["T_WHITESPACE"," ",144],["T_STRING","dataSet",144],"(",")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n    ",144],["T_RETURN","return",145],["T_WHITESPACE"," ",145],["T_STRING","ViewTestData",145],["T_DOUBLE_COLON","::",145],["T_STRING","dataSet",145],"(",")",";",["T_WHITESPACE","\n  ",145],"}",["T_WHITESPACE","\n\n",146],"}",["T_WHITESPACE","\n",148]]