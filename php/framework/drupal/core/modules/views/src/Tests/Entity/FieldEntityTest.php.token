[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","views",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Entity",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","comment",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Tests",5],["T_NS_SEPARATOR","\\",5],["T_STRING","CommentTestTrait",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","node",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Node",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","user",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","User",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","views",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Tests",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ViewTestBase",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","views",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Tests",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ViewTestData",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","views",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Views",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","comment",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Entity",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Comment",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Tests the field plugin base integration with the entity system.\n *\n * @group views\n *\/",13],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","FieldEntityTest",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_STRING","ViewTestBase",18],["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n\n  ",18],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","CommentTestTrait",20],";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * Views used by this test.\n   *\n   * @var array\n   *\/",22],["T_WHITESPACE","\n  ",26],["T_PUBLIC","public",27],["T_WHITESPACE"," ",27],["T_STATIC","static",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$testViews",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_ARRAY","array",27],"(",["T_CONSTANT_ENCAPSED_STRING","'test_field_get_entity'",27],")",";",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",29],["T_WHITESPACE","\n  ",33],["T_PUBLIC","public",34],["T_WHITESPACE"," ",34],["T_STATIC","static",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$modules",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",34],",",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'comment'",34],")",";",["T_WHITESPACE","\n\n  ",34],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",36],["T_WHITESPACE","\n  ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","setUp",39],"(",["T_VARIABLE","$import_test_views",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","TRUE",39],")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n    ",39],["T_STRING","parent",40],["T_DOUBLE_COLON","::",40],["T_STRING","setUp",40],"(",["T_STRING","FALSE",40],")",";",["T_WHITESPACE","\n\n    ",40],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","drupalCreateContentType",42],"(",["T_ARRAY","array",42],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'page'",42],")",")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","addDefaultCommentField",43],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",43],",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'page'",43],")",";",["T_WHITESPACE","\n\n    ",43],["T_STRING","ViewTestData",45],["T_DOUBLE_COLON","::",45],["T_STRING","createTestViews",45],"(",["T_STRING","get_class",45],"(",["T_VARIABLE","$this",45],")",",",["T_WHITESPACE"," ",45],["T_ARRAY","array",45],"(",["T_CONSTANT_ENCAPSED_STRING","'views_test_config'",45],")",")",";",["T_WHITESPACE","\n  ",45],"}",["T_WHITESPACE","\n\n  ",46],["T_DOC_COMMENT","\/**\n   * Tests the getEntity method.\n   *\/",48],["T_WHITESPACE","\n  ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","testGetEntity",51],"(",")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n    ",51],["T_COMMENT","\/\/ The view is a view of comments, their nodes and their authors, so there\n",52],["T_WHITESPACE","    ",53],["T_COMMENT","\/\/ are three layers of entities.\n",53],["T_WHITESPACE","\n    ",54],["T_VARIABLE","$account",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_STRING","User",55],["T_DOUBLE_COLON","::",55],["T_STRING","create",55],"(","[",["T_CONSTANT_ENCAPSED_STRING","'name'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","randomMachineName",55],"(",")",",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'bundle'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'user'",55],"]",")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$account",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","save",56],"(",")",";",["T_WHITESPACE","\n\n    ",56],["T_VARIABLE","$node",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","Node",58],["T_DOUBLE_COLON","::",58],["T_STRING","create",58],"(","[",["T_WHITESPACE","\n      ",58],["T_CONSTANT_ENCAPSED_STRING","'uid'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$account",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","id",59],"(",")",",",["T_WHITESPACE","\n      ",59],["T_CONSTANT_ENCAPSED_STRING","'type'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'page'",60],",",["T_WHITESPACE","\n      ",60],["T_CONSTANT_ENCAPSED_STRING","'title'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","randomString",61],"(",")",",",["T_WHITESPACE","\n    ",61],"]",")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$node",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","save",63],"(",")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$comment",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","Comment",64],["T_DOUBLE_COLON","::",64],["T_STRING","create",64],"(",["T_ARRAY","array",64],"(",["T_WHITESPACE","\n      ",64],["T_CONSTANT_ENCAPSED_STRING","'uid'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$account",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","id",65],"(",")",",",["T_WHITESPACE","\n      ",65],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$node",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","id",66],"(",")",",",["T_WHITESPACE","\n      ",66],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'node'",67],",",["T_WHITESPACE","\n      ",67],["T_CONSTANT_ENCAPSED_STRING","'field_name'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'comment'",68],["T_WHITESPACE","\n    ",68],")",")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$comment",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","save",70],"(",")",";",["T_WHITESPACE","\n\n    ",70],["T_VARIABLE","$user",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","drupalCreateUser",72],"(","[",["T_CONSTANT_ENCAPSED_STRING","'access comments'",72],"]",")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","drupalLogin",73],"(",["T_VARIABLE","$user",73],")",";",["T_WHITESPACE","\n\n    ",73],["T_VARIABLE","$view",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","Views",75],["T_DOUBLE_COLON","::",75],["T_STRING","getView",75],"(",["T_CONSTANT_ENCAPSED_STRING","'test_field_get_entity'",75],")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","executeView",76],"(",["T_VARIABLE","$view",76],")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$row",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$view",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","result",77],"[",["T_LNUMBER","0",77],"]",";",["T_WHITESPACE","\n\n    ",77],["T_COMMENT","\/\/ Tests entities on the base level.\n",79],["T_WHITESPACE","    ",80],["T_VARIABLE","$entity",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$view",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","field",80],"[",["T_CONSTANT_ENCAPSED_STRING","'cid'",80],"]",["T_OBJECT_OPERATOR","->",80],["T_STRING","getEntity",80],"(",["T_VARIABLE","$row",80],")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertEqual",81],"(",["T_VARIABLE","$entity",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","id",81],"(",")",",",["T_WHITESPACE"," ",81],["T_VARIABLE","$comment",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","id",81],"(",")",",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'Make sure the right comment entity got loaded.'",81],")",";",["T_WHITESPACE","\n    ",81],["T_COMMENT","\/\/ Tests entities as relationship on first level.\n",82],["T_WHITESPACE","    ",83],["T_VARIABLE","$entity",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$view",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","field",83],"[",["T_CONSTANT_ENCAPSED_STRING","'nid'",83],"]",["T_OBJECT_OPERATOR","->",83],["T_STRING","getEntity",83],"(",["T_VARIABLE","$row",83],")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertEqual",84],"(",["T_VARIABLE","$entity",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","id",84],"(",")",",",["T_WHITESPACE"," ",84],["T_VARIABLE","$node",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","id",84],"(",")",",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'Make sure the right node entity got loaded.'",84],")",";",["T_WHITESPACE","\n    ",84],["T_COMMENT","\/\/ Tests entities as relationships on second level.\n",85],["T_WHITESPACE","    ",86],["T_VARIABLE","$entity",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$view",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","field",86],"[",["T_CONSTANT_ENCAPSED_STRING","'uid'",86],"]",["T_OBJECT_OPERATOR","->",86],["T_STRING","getEntity",86],"(",["T_VARIABLE","$row",86],")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertEqual",87],"(",["T_VARIABLE","$entity",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","id",87],"(",")",",",["T_WHITESPACE"," ",87],["T_VARIABLE","$account",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","id",87],"(",")",",",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'Make sure the right user entity got loaded.'",87],")",";",["T_WHITESPACE","\n  ",87],"}",["T_WHITESPACE","\n\n",88],"}",["T_WHITESPACE","\n",90]]