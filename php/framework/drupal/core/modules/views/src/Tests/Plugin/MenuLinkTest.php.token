[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","views",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","menu_link_content",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","MenuLinkContent",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","views",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Tests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ViewTestBase",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests the menu links created in views.\n *\n * @group views\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","MenuLinkTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","ViewTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * Views used by this test.\n   *\n   * @var array\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PUBLIC","public",20],["T_WHITESPACE"," ",20],["T_STATIC","static",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$testViews",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],"[",["T_CONSTANT_ENCAPSED_STRING","'test_menu_link'",20],"]",";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",22],["T_WHITESPACE","\n  ",26],["T_PUBLIC","public",27],["T_WHITESPACE"," ",27],["T_STATIC","static",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$modules",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],"[",["T_CONSTANT_ENCAPSED_STRING","'views'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'views_ui'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'user'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'node'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'menu_ui'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'block'",27],"]",";",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * A user with permission to administer views, menus and view content.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",29],["T_WHITESPACE","\n  ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$adminUser",34],";",["T_WHITESPACE","\n\n  ",34],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",36],["T_WHITESPACE","\n  ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","setUp",39],"(",")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n    ",39],["T_STRING","parent",40],["T_DOUBLE_COLON","::",40],["T_STRING","setUp",40],"(",")",";",["T_WHITESPACE","\n\n    ",40],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","enableViewsTestModule",42],"(",")",";",["T_WHITESPACE","\n\n    ",42],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","adminUser",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","drupalCreateUser",44],"(","[",["T_CONSTANT_ENCAPSED_STRING","'administer views'",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'administer menu'",44],"]",")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","drupalPlaceBlock",45],"(",["T_CONSTANT_ENCAPSED_STRING","'system_menu_block:main'",45],")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","drupalCreateContentType",46],"(","[",["T_CONSTANT_ENCAPSED_STRING","'type'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'page'",46],"]",")",";",["T_WHITESPACE","\n  ",46],"}",["T_WHITESPACE","\n\n  ",47],["T_DOC_COMMENT","\/**\n   * Test that menu links using menu_link_content as parent are visible.\n   *\/",49],["T_WHITESPACE","\n  ",51],["T_PUBLIC","public",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","testHierarchicalMenuLinkVisibility",52],"(",")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","drupalLogin",53],"(",["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","adminUser",53],")",";",["T_WHITESPACE","\n\n    ",53],["T_VARIABLE","$node",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","drupalCreateNode",55],"(","[",["T_CONSTANT_ENCAPSED_STRING","'type'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'page'",55],"]",")",";",["T_WHITESPACE","\n\n    ",55],["T_COMMENT","\/\/ Create a primary level menu link to the node.\n",57],["T_WHITESPACE","    ",58],["T_VARIABLE","$link",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","MenuLinkContent",58],["T_DOUBLE_COLON","::",58],["T_STRING","create",58],"(","[",["T_WHITESPACE","\n      ",58],["T_CONSTANT_ENCAPSED_STRING","'title'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'Primary level node'",59],",",["T_WHITESPACE","\n      ",59],["T_CONSTANT_ENCAPSED_STRING","'menu_name'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'main'",60],",",["T_WHITESPACE","\n      ",60],["T_CONSTANT_ENCAPSED_STRING","'bundle'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'menu_link_content'",61],",",["T_WHITESPACE","\n      ",61],["T_CONSTANT_ENCAPSED_STRING","'parent'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","''",62],",",["T_WHITESPACE","\n      ",62],["T_CONSTANT_ENCAPSED_STRING","'link'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],"[","[",["T_CONSTANT_ENCAPSED_STRING","'uri'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'entity:node\/'",63],["T_WHITESPACE"," ",63],".",["T_WHITESPACE"," ",63],["T_VARIABLE","$node",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","id",63],"(",")","]","]",",",["T_WHITESPACE","\n    ",63],"]",")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$link",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","save",65],"(",")",";",["T_WHITESPACE","\n\n    ",65],["T_VARIABLE","$parent_menu_value",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'main:menu_link_content:'",67],["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_VARIABLE","$link",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","uuid",67],"(",")",";",["T_WHITESPACE","\n\n    ",67],["T_COMMENT","\/\/ Alter the view's menu link in view page to use the menu link from the\n",69],["T_WHITESPACE","    ",70],["T_COMMENT","\/\/ node as parent.\n",70],["T_WHITESPACE","    ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","drupalPostForm",71],"(",["T_CONSTANT_ENCAPSED_STRING","\"admin\/structure\/views\/nojs\/display\/test_menu_link\/page_1\/menu\"",71],",",["T_WHITESPACE"," ",71],"[",["T_WHITESPACE","\n      ",71],["T_CONSTANT_ENCAPSED_STRING","'menu[type]'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'normal'",72],",",["T_WHITESPACE","\n      ",72],["T_CONSTANT_ENCAPSED_STRING","'menu[title]'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'Secondary level view page'",73],",",["T_WHITESPACE","\n      ",73],["T_CONSTANT_ENCAPSED_STRING","'menu[parent]'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$parent_menu_value",74],",",["T_WHITESPACE","\n    ",74],"]",",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'Apply'",75],")",";",["T_WHITESPACE","\n\n    ",75],["T_COMMENT","\/\/ Save view which has pending changes.\n",77],["T_WHITESPACE","    ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","drupalPostForm",78],"(",["T_STRING","NULL",78],",",["T_WHITESPACE"," ",78],"[","]",",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'Save'",78],")",";",["T_WHITESPACE","\n\n    ",78],["T_COMMENT","\/\/ Test if the node as parent menu item is selected in our views settings.\n",80],["T_WHITESPACE","    ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","drupalGet",81],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/views\/nojs\/display\/test_menu_link\/page_1\/menu'",81],")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertOptionSelected",82],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-menu-parent'",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$parent_menu_value",82],")",";",["T_WHITESPACE","\n\n    ",82],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","drupalGet",84],"(",["T_CONSTANT_ENCAPSED_STRING","''",84],")",";",["T_WHITESPACE","\n\n    ",84],["T_COMMENT","\/\/ Test if the primary menu item (node) is visible, and the secondary menu\n",86],["T_WHITESPACE","    ",87],["T_COMMENT","\/\/ item (view) is hidden.\n",87],["T_WHITESPACE","    ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","assertText",88],"(",["T_CONSTANT_ENCAPSED_STRING","'Primary level node'",88],")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertNoText",89],"(",["T_CONSTANT_ENCAPSED_STRING","'Secondary level view page'",89],")",";",["T_WHITESPACE","\n\n    ",89],["T_COMMENT","\/\/ Go to the node page and ensure that both the first and second level items\n",91],["T_WHITESPACE","    ",92],["T_COMMENT","\/\/ are visible.\n",92],["T_WHITESPACE","    ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","drupalGet",93],"(",["T_VARIABLE","$node",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","urlInfo",93],"(",")",")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertText",94],"(",["T_CONSTANT_ENCAPSED_STRING","'Primary level node'",94],")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertText",95],"(",["T_CONSTANT_ENCAPSED_STRING","'Secondary level view page'",95],")",";",["T_WHITESPACE","\n  ",95],"}",["T_WHITESPACE","\n\n",96],"}",["T_WHITESPACE","\n",98]]