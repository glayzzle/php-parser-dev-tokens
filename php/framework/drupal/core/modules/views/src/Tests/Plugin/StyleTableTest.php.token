[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","views",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","views",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","View",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests the table style views plugin.\n *\n * @group views\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","StyleTableTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","PluginTestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * Views used by this test.\n   *\n   * @var array\n   *\/",14],["T_WHITESPACE","\n  ",18],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_STATIC","static",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$testViews",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_ARRAY","array",19],"(",["T_CONSTANT_ENCAPSED_STRING","'test_table'",19],")",";",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",21],["T_WHITESPACE","\n  ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_FUNCTION","function",24],["T_WHITESPACE"," ",24],["T_STRING","setUp",24],"(",")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n    ",24],["T_STRING","parent",25],["T_DOUBLE_COLON","::",25],["T_STRING","setUp",25],"(",")",";",["T_WHITESPACE","\n\n    ",25],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","enableViewsTestModule",27],"(",")",";",["T_WHITESPACE","\n  ",27],"}",["T_WHITESPACE","\n\n  ",28],["T_DOC_COMMENT","\/**\n   * Test table caption\/summary\/description.\n   *\/",30],["T_WHITESPACE","\n  ",32],["T_PUBLIC","public",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","testAccessibilitySettings",33],"(",")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","drupalGet",34],"(",["T_CONSTANT_ENCAPSED_STRING","'test-table'",34],")",";",["T_WHITESPACE","\n\n    ",34],["T_VARIABLE","$result",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","xpath",36],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/caption'",36],")",";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","assertTrue",37],"(",["T_STRING","count",37],"(",["T_VARIABLE","$result",37],")",",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'The caption appears on the table.'",37],")",";",["T_WHITESPACE","\n    ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","assertEqual",38],"(",["T_STRING","trim",38],"(",["T_STRING_CAST","(string)",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$result",38],"[",["T_LNUMBER","0",38],"]",")",",",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'caption-text'",38],")",";",["T_WHITESPACE","\n\n    ",38],["T_VARIABLE","$result",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","xpath",40],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/summary'",40],")",";",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","assertTrue",41],"(",["T_STRING","count",41],"(",["T_VARIABLE","$result",41],")",",",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'The summary appears on the table.'",41],")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","assertEqual",42],"(",["T_STRING","trim",42],"(",["T_STRING_CAST","(string)",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$result",42],"[",["T_LNUMBER","0",42],"]",")",",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'summary-text'",42],")",";",["T_WHITESPACE","\n\n    ",42],["T_VARIABLE","$result",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","xpath",44],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/caption\/details'",44],")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","assertTrue",45],"(",["T_STRING","count",45],"(",["T_VARIABLE","$result",45],")",",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'The table description appears on the table.'",45],")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","assertEqual",46],"(",["T_STRING","trim",46],"(",["T_STRING_CAST","(string)",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$result",46],"[",["T_LNUMBER","0",46],"]",")",",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'description-text'",46],")",";",["T_WHITESPACE","\n\n    ",46],["T_COMMENT","\/\/ Remove the caption and ensure the caption is not displayed anymore.\n",48],["T_WHITESPACE","    ",49],["T_VARIABLE","$view",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","View",49],["T_DOUBLE_COLON","::",49],["T_STRING","load",49],"(",["T_CONSTANT_ENCAPSED_STRING","'test_table'",49],")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$display",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],"&",["T_VARIABLE","$view",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getDisplay",50],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",50],")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$display",51],"[",["T_CONSTANT_ENCAPSED_STRING","'display_options'",51],"]","[",["T_CONSTANT_ENCAPSED_STRING","'style'",51],"]","[",["T_CONSTANT_ENCAPSED_STRING","'options'",51],"]","[",["T_CONSTANT_ENCAPSED_STRING","'caption'",51],"]",["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","''",51],";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$view",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","save",52],"(",")",";",["T_WHITESPACE","\n\n    ",52],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","drupalGet",54],"(",["T_CONSTANT_ENCAPSED_STRING","'test-table'",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$result",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","xpath",55],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/caption'",55],")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","assertFalse",56],"(",["T_STRING","trim",56],"(",["T_STRING_CAST","(string)",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$result",56],"[",["T_LNUMBER","0",56],"]",")",",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'Ensure that the caption disappears.'",56],")",";",["T_WHITESPACE","\n\n    ",56],["T_COMMENT","\/\/ Remove the table summary.\n",58],["T_WHITESPACE","    ",59],["T_VARIABLE","$display",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],"&",["T_VARIABLE","$view",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getDisplay",59],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",59],")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$display",60],"[",["T_CONSTANT_ENCAPSED_STRING","'display_options'",60],"]","[",["T_CONSTANT_ENCAPSED_STRING","'style'",60],"]","[",["T_CONSTANT_ENCAPSED_STRING","'options'",60],"]","[",["T_CONSTANT_ENCAPSED_STRING","'summary'",60],"]",["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","''",60],";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$view",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","save",61],"(",")",";",["T_WHITESPACE","\n\n    ",61],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","drupalGet",63],"(",["T_CONSTANT_ENCAPSED_STRING","'test-table'",63],")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$result",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","xpath",64],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/summary'",64],")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","assertFalse",65],"(",["T_STRING","count",65],"(",["T_VARIABLE","$result",65],")",",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'Ensure that the summary disappears.'",65],")",";",["T_WHITESPACE","\n\n    ",65],["T_COMMENT","\/\/ Remove the table description.\n",67],["T_WHITESPACE","    ",68],["T_VARIABLE","$display",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],"&",["T_VARIABLE","$view",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getDisplay",68],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",68],")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$display",69],"[",["T_CONSTANT_ENCAPSED_STRING","'display_options'",69],"]","[",["T_CONSTANT_ENCAPSED_STRING","'style'",69],"]","[",["T_CONSTANT_ENCAPSED_STRING","'options'",69],"]","[",["T_CONSTANT_ENCAPSED_STRING","'description'",69],"]",["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","''",69],";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$view",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","save",70],"(",")",";",["T_WHITESPACE","\n\n    ",70],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","drupalGet",72],"(",["T_CONSTANT_ENCAPSED_STRING","'test-table'",72],")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$result",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","xpath",73],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/caption\/details'",73],")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertFalse",74],"(",["T_STRING","count",74],"(",["T_VARIABLE","$result",74],")",",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'Ensure that the description disappears.'",74],")",";",["T_WHITESPACE","\n  ",74],"}",["T_WHITESPACE","\n\n  ",75],["T_DOC_COMMENT","\/**\n   * Test table fields in columns.\n   *\/",77],["T_WHITESPACE","\n  ",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","testFieldInColumns",80],"(",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","drupalGet",81],"(",["T_CONSTANT_ENCAPSED_STRING","'test-table'",81],")",";",["T_WHITESPACE","\n\n    ",81],["T_COMMENT","\/\/ Ensure that both columns are in separate tds.\n",83],["T_WHITESPACE","    ",84],["T_COMMENT","\/\/ Check for class \" views-field-job \", because just \"views-field-job\" won't\n",84],["T_WHITESPACE","    ",85],["T_COMMENT","\/\/ do: \"views-field-job-1\" would also contain \"views-field-job\".\n",85],["T_WHITESPACE","    ",86],["T_COMMENT","\/\/ @see Drupal\\system\\Tests\\Form\\ElementTest::testButtonClasses().\n",86],["T_WHITESPACE","    ",87],["T_VARIABLE","$result",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","xpath",87],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/tbody\/tr\/td[contains(concat(\" \", @class, \" \"), \" views-field-job \")]'",87],")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","assertTrue",88],"(",["T_STRING","count",88],"(",["T_VARIABLE","$result",88],")",",",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'Ensure there is a td with the class views-field-job'",88],")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$result",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","xpath",89],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/tbody\/tr\/td[contains(concat(\" \", @class, \" \"), \" views-field-job-1 \")]'",89],")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertTrue",90],"(",["T_STRING","count",90],"(",["T_VARIABLE","$result",90],")",",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'Ensure there is a td with the class views-field-job-1'",90],")",";",["T_WHITESPACE","\n\n    ",90],["T_COMMENT","\/\/ Combine the second job-column with the first one, with ', ' as separator.\n",92],["T_WHITESPACE","    ",93],["T_VARIABLE","$view",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","View",93],["T_DOUBLE_COLON","::",93],["T_STRING","load",93],"(",["T_CONSTANT_ENCAPSED_STRING","'test_table'",93],")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$display",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],"&",["T_VARIABLE","$view",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getDisplay",94],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",94],")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$display",95],"[",["T_CONSTANT_ENCAPSED_STRING","'display_options'",95],"]","[",["T_CONSTANT_ENCAPSED_STRING","'style'",95],"]","[",["T_CONSTANT_ENCAPSED_STRING","'options'",95],"]","[",["T_CONSTANT_ENCAPSED_STRING","'columns'",95],"]","[",["T_CONSTANT_ENCAPSED_STRING","'job_1'",95],"]",["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'job'",95],";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$display",96],"[",["T_CONSTANT_ENCAPSED_STRING","'display_options'",96],"]","[",["T_CONSTANT_ENCAPSED_STRING","'style'",96],"]","[",["T_CONSTANT_ENCAPSED_STRING","'options'",96],"]","[",["T_CONSTANT_ENCAPSED_STRING","'info'",96],"]","[",["T_CONSTANT_ENCAPSED_STRING","'job'",96],"]","[",["T_CONSTANT_ENCAPSED_STRING","'separator'",96],"]",["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","', '",96],";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$view",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","save",97],"(",")",";",["T_WHITESPACE","\n\n    ",97],["T_COMMENT","\/\/ Ensure that both columns are properly combined.\n",99],["T_WHITESPACE","    ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","drupalGet",100],"(",["T_CONSTANT_ENCAPSED_STRING","'test-table'",100],")",";",["T_WHITESPACE","\n\n    ",100],["T_VARIABLE","$result",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","xpath",102],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/tbody\/tr\/td[contains(concat(\" \", @class, \" \"), \" views-field-job views-field-job-1 \")]'",102],")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","assertTrue",103],"(",["T_STRING","count",103],"(",["T_VARIABLE","$result",103],")",",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'Ensure that the job column class names are joined into a single column'",103],")",";",["T_WHITESPACE","\n\n    ",103],["T_VARIABLE","$result",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","xpath",105],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/tbody\/tr\/td[contains(., \"Drummer, Drummer\")]'",105],")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertTrue",106],"(",["T_STRING","count",106],"(",["T_VARIABLE","$result",106],")",",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'Ensure the job column values are joined into a single column'",106],")",";",["T_WHITESPACE","\n  ",106],"}",["T_WHITESPACE","\n\n  ",107],["T_DOC_COMMENT","\/**\n   * Test that a number with the value of \"0\" is displayed in the table.\n   *\/",109],["T_WHITESPACE","\n  ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","testNumericFieldVisible",112],"(",")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n    ",112],["T_COMMENT","\/\/ Adds a new datapoint in the views_test_data table to have a person with\n",113],["T_WHITESPACE","    ",114],["T_COMMENT","\/\/ an age of zero.\n",114],["T_WHITESPACE","    ",115],["T_VARIABLE","$data_set",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","dataSet",115],"(",")",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$query",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_STRING","db_insert",116],"(",["T_CONSTANT_ENCAPSED_STRING","'views_test_data'",116],")",["T_WHITESPACE","\n      ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","fields",117],"(",["T_STRING","array_keys",117],"(",["T_VARIABLE","$data_set",117],"[",["T_LNUMBER","0",117],"]",")",")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$query",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","values",118],"(",["T_ARRAY","array",118],"(",["T_WHITESPACE","\n      ",118],["T_CONSTANT_ENCAPSED_STRING","'name'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'James McCartney'",119],",",["T_WHITESPACE","\n      ",119],["T_CONSTANT_ENCAPSED_STRING","'age'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_LNUMBER","0",120],",",["T_WHITESPACE","\n      ",120],["T_CONSTANT_ENCAPSED_STRING","'job'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'Baby'",121],",",["T_WHITESPACE","\n      ",121],["T_CONSTANT_ENCAPSED_STRING","'created'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_STRING","gmmktime",122],"(",["T_LNUMBER","6",122],",",["T_WHITESPACE"," ",122],["T_LNUMBER","30",122],",",["T_WHITESPACE"," ",122],["T_LNUMBER","10",122],",",["T_WHITESPACE"," ",122],["T_LNUMBER","1",122],",",["T_WHITESPACE"," ",122],["T_LNUMBER","1",122],",",["T_WHITESPACE"," ",122],["T_LNUMBER","2000",122],")",",",["T_WHITESPACE","\n      ",122],["T_CONSTANT_ENCAPSED_STRING","'status'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_LNUMBER","1",123],",",["T_WHITESPACE","\n    ",123],")",")",";",["T_WHITESPACE","\n    ",124],["T_VARIABLE","$query",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","execute",125],"(",")",";",["T_WHITESPACE","\n\n    ",125],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","drupalGet",127],"(",["T_CONSTANT_ENCAPSED_STRING","'test-table'",127],")",";",["T_WHITESPACE","\n\n    ",127],["T_VARIABLE","$result",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","xpath",129],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/tbody\/tr\/td[contains(., \"Baby\")]'",129],")",";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","assertTrue",130],"(",["T_STRING","count",130],"(",["T_VARIABLE","$result",130],")",",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'Ensure that the baby is found.'",130],")",";",["T_WHITESPACE","\n\n    ",130],["T_VARIABLE","$result",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","xpath",132],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/tbody\/tr\/td[text()=0]'",132],")",";",["T_WHITESPACE","\n    ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","assertTrue",133],"(",["T_STRING","count",133],"(",["T_VARIABLE","$result",133],")",",",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'Ensure that the baby\\'s age is shown'",133],")",";",["T_WHITESPACE","\n  ",133],"}",["T_WHITESPACE","\n\n  ",134],["T_DOC_COMMENT","\/**\n   * Test that empty columns are hidden when empty_column is set.\n   *\/",136],["T_WHITESPACE","\n  ",138],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","testEmptyColumn",139],"(",")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n    ",139],["T_COMMENT","\/\/ Empty the 'job' data.\n",140],["T_WHITESPACE","    ",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Drupal",141],["T_DOUBLE_COLON","::",141],["T_STRING","database",141],"(",")",["T_OBJECT_OPERATOR","->",141],["T_STRING","update",141],"(",["T_CONSTANT_ENCAPSED_STRING","'views_test_data'",141],")",["T_WHITESPACE","\n      ",141],["T_OBJECT_OPERATOR","->",142],["T_STRING","fields",142],"(","[",["T_CONSTANT_ENCAPSED_STRING","'job'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","''",142],"]",")",["T_WHITESPACE","\n      ",142],["T_OBJECT_OPERATOR","->",143],["T_STRING","execute",143],"(",")",";",["T_WHITESPACE","\n\n    ",143],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","drupalGet",145],"(",["T_CONSTANT_ENCAPSED_STRING","'test-table'",145],")",";",["T_WHITESPACE","\n\n    ",145],["T_COMMENT","\/\/ Test that only one of the job columns still shows.\n",147],["T_WHITESPACE","    ",148],["T_VARIABLE","$result",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","xpath",148],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/thead\/tr\/th\/a[text()=\"Job\"]'",148],")",";",["T_WHITESPACE","\n    ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","assertEqual",149],"(",["T_STRING","count",149],"(",["T_VARIABLE","$result",149],")",",",["T_WHITESPACE"," ",149],["T_LNUMBER","1",149],",",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'Ensure that empty column header is hidden.'",149],")",";",["T_WHITESPACE","\n\n    ",149],["T_VARIABLE","$result",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","xpath",151],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/tbody\/tr\/td[contains(concat(\" \", @class, \" \"), \" views-field-job-1 \")]'",151],")",";",["T_WHITESPACE","\n    ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","assertEqual",152],"(",["T_STRING","count",152],"(",["T_VARIABLE","$result",152],")",",",["T_WHITESPACE"," ",152],["T_LNUMBER","0",152],",",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'Ensure the empty table cells are hidden.'",152],")",";",["T_WHITESPACE","\n  ",152],"}",["T_WHITESPACE","\n\n  ",153],["T_DOC_COMMENT","\/**\n   * Tests grouping by a field.\n   *\/",155],["T_WHITESPACE","\n  ",157],["T_PUBLIC","public",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","testGrouping",158],"(",")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n    ",158],["T_DOC_COMMENT","\/** @var \\Drupal\\views\\ViewEntityInterface $view *\/",159],["T_WHITESPACE","\n    ",159],["T_VARIABLE","$view",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_NS_SEPARATOR","\\",160],["T_STRING","Drupal",160],["T_DOUBLE_COLON","::",160],["T_STRING","entityTypeManager",160],"(",")",["T_OBJECT_OPERATOR","->",160],["T_STRING","getStorage",160],"(",["T_CONSTANT_ENCAPSED_STRING","'view'",160],")",["T_OBJECT_OPERATOR","->",160],["T_STRING","load",160],"(",["T_CONSTANT_ENCAPSED_STRING","'test_table'",160],")",";",["T_WHITESPACE","\n    ",160],["T_COMMENT","\/\/ Get a reference to the display configuration so we can alter some\n",161],["T_WHITESPACE","    ",162],["T_COMMENT","\/\/ specific style options.\n",162],["T_WHITESPACE","    ",163],["T_VARIABLE","$display",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],"&",["T_VARIABLE","$view",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getDisplay",163],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",163],")",";",["T_WHITESPACE","\n    ",163],["T_COMMENT","\/\/ Set job as the grouping field.\n",164],["T_WHITESPACE","    ",165],["T_VARIABLE","$display",165],"[",["T_CONSTANT_ENCAPSED_STRING","'display_options'",165],"]","[",["T_CONSTANT_ENCAPSED_STRING","'style'",165],"]","[",["T_CONSTANT_ENCAPSED_STRING","'options'",165],"]","[",["T_CONSTANT_ENCAPSED_STRING","'grouping'",165],"]","[",["T_LNUMBER","0",165],"]",["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_ARRAY","array",165],"(",["T_WHITESPACE","\n      ",165],["T_CONSTANT_ENCAPSED_STRING","'field'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'job'",166],",",["T_WHITESPACE","\n      ",166],["T_CONSTANT_ENCAPSED_STRING","'rendered'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_STRING","TRUE",167],",",["T_WHITESPACE","\n      ",167],["T_CONSTANT_ENCAPSED_STRING","'rendered_strip'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_STRING","FALSE",168],",",["T_WHITESPACE","\n    ",168],")",";",["T_WHITESPACE","\n    ",169],["T_COMMENT","\/\/ Clear the caption text, the rendered job field will be used as a caption.\n",170],["T_WHITESPACE","    ",171],["T_VARIABLE","$display",171],"[",["T_CONSTANT_ENCAPSED_STRING","'display_options'",171],"]","[",["T_CONSTANT_ENCAPSED_STRING","'style'",171],"]","[",["T_CONSTANT_ENCAPSED_STRING","'options'",171],"]","[",["T_CONSTANT_ENCAPSED_STRING","'caption'",171],"]",["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","''",171],";",["T_WHITESPACE","\n    ",171],["T_VARIABLE","$display",172],"[",["T_CONSTANT_ENCAPSED_STRING","'display_options'",172],"]","[",["T_CONSTANT_ENCAPSED_STRING","'style'",172],"]","[",["T_CONSTANT_ENCAPSED_STRING","'options'",172],"]","[",["T_CONSTANT_ENCAPSED_STRING","'summary'",172],"]",["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","''",172],";",["T_WHITESPACE","\n    ",172],["T_VARIABLE","$display",173],"[",["T_CONSTANT_ENCAPSED_STRING","'display_options'",173],"]","[",["T_CONSTANT_ENCAPSED_STRING","'style'",173],"]","[",["T_CONSTANT_ENCAPSED_STRING","'options'",173],"]","[",["T_CONSTANT_ENCAPSED_STRING","'description'",173],"]",["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","''",173],";",["T_WHITESPACE","\n    ",173],["T_VARIABLE","$view",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","save",174],"(",")",";",["T_WHITESPACE","\n\n    ",174],["T_COMMENT","\/\/ Add a record containing unsafe markup to be sure it's filtered out.\n",176],["T_WHITESPACE","    ",177],["T_VARIABLE","$unsafe_markup",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","'<script>alert(\"Rapper\");<\/script>'",177],";",["T_WHITESPACE","\n    ",177],["T_VARIABLE","$unsafe_markup_data",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_ARRAY","array",178],"(",["T_WHITESPACE","\n      ",178],["T_CONSTANT_ENCAPSED_STRING","'name'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'Marshall'",179],",",["T_WHITESPACE","\n      ",179],["T_CONSTANT_ENCAPSED_STRING","'age'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_LNUMBER","42",180],",",["T_WHITESPACE","\n      ",180],["T_CONSTANT_ENCAPSED_STRING","'job'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$unsafe_markup",181],",",["T_WHITESPACE","\n      ",181],["T_CONSTANT_ENCAPSED_STRING","'created'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_STRING","gmmktime",182],"(",["T_LNUMBER","0",182],",",["T_WHITESPACE"," ",182],["T_LNUMBER","0",182],",",["T_WHITESPACE"," ",182],["T_LNUMBER","0",182],",",["T_WHITESPACE"," ",182],["T_LNUMBER","2",182],",",["T_WHITESPACE"," ",182],["T_LNUMBER","15",182],",",["T_WHITESPACE"," ",182],["T_LNUMBER","2001",182],")",",",["T_WHITESPACE","\n      ",182],["T_CONSTANT_ENCAPSED_STRING","'status'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_LNUMBER","1",183],",",["T_WHITESPACE","\n    ",183],")",";",["T_WHITESPACE","\n    ",184],["T_VARIABLE","$database",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","container",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","get",185],"(",["T_CONSTANT_ENCAPSED_STRING","'database'",185],")",";",["T_WHITESPACE","\n    ",185],["T_VARIABLE","$database",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","insert",186],"(",["T_CONSTANT_ENCAPSED_STRING","'views_test_data'",186],")",["T_WHITESPACE","\n      ",186],["T_OBJECT_OPERATOR","->",187],["T_STRING","fields",187],"(",["T_STRING","array_keys",187],"(",["T_VARIABLE","$unsafe_markup_data",187],")",")",["T_WHITESPACE","\n      ",187],["T_OBJECT_OPERATOR","->",188],["T_STRING","values",188],"(",["T_VARIABLE","$unsafe_markup_data",188],")",["T_WHITESPACE","\n      ",188],["T_OBJECT_OPERATOR","->",189],["T_STRING","execute",189],"(",")",";",["T_WHITESPACE","\n\n    ",189],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","drupalGet",191],"(",["T_CONSTANT_ENCAPSED_STRING","'test-table'",191],")",";",["T_WHITESPACE","\n    ",191],["T_VARIABLE","$expected_captions",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_ARRAY","array",192],"(",["T_WHITESPACE","\n      ",192],["T_CONSTANT_ENCAPSED_STRING","'Job: Speaker'",193],",",["T_WHITESPACE","\n      ",193],["T_CONSTANT_ENCAPSED_STRING","'Job: Songwriter'",194],",",["T_WHITESPACE","\n      ",194],["T_CONSTANT_ENCAPSED_STRING","'Job: Drummer'",195],",",["T_WHITESPACE","\n      ",195],["T_CONSTANT_ENCAPSED_STRING","'Job: Singer'",196],",",["T_WHITESPACE","\n      ",196],["T_CONSTANT_ENCAPSED_STRING","'Job: '",197],["T_WHITESPACE"," ",197],".",["T_WHITESPACE"," ",197],["T_VARIABLE","$unsafe_markup",197],",",["T_WHITESPACE","\n    ",197],")",";",["T_WHITESPACE","\n\n    ",198],["T_COMMENT","\/\/ Ensure that we don't find the caption containing unsafe markup.\n",200],["T_WHITESPACE","    ",201],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","assertNoRaw",201],"(",["T_VARIABLE","$unsafe_markup",201],",",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","\"Didn't find caption containing unsafe markup.\"",201],")",";",["T_WHITESPACE","\n\n    ",201],["T_COMMENT","\/\/ Ensure that all expected captions are found.\n",203],["T_WHITESPACE","    ",204],["T_FOREACH","foreach",204],["T_WHITESPACE"," ",204],"(",["T_VARIABLE","$expected_captions",204],["T_WHITESPACE"," ",204],["T_AS","as",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$raw_caption",204],")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n      ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","assertEscaped",205],"(",["T_VARIABLE","$raw_caption",205],")",";",["T_WHITESPACE","\n    ",205],"}",["T_WHITESPACE","\n\n    ",206],["T_VARIABLE","$display",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],"&",["T_VARIABLE","$view",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getDisplay",208],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",208],")",";",["T_WHITESPACE","\n    ",208],["T_COMMENT","\/\/ Remove the label from the grouping field.\n",209],["T_WHITESPACE","    ",210],["T_VARIABLE","$display",210],"[",["T_CONSTANT_ENCAPSED_STRING","'display_options'",210],"]","[",["T_CONSTANT_ENCAPSED_STRING","'fields'",210],"]","[",["T_CONSTANT_ENCAPSED_STRING","'job'",210],"]","[",["T_CONSTANT_ENCAPSED_STRING","'label'",210],"]",["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","''",210],";",["T_WHITESPACE","\n    ",210],["T_VARIABLE","$view",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","save",211],"(",")",";",["T_WHITESPACE","\n\n    ",211],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","drupalGet",213],"(",["T_CONSTANT_ENCAPSED_STRING","'test-table'",213],")",";",["T_WHITESPACE","\n    ",213],["T_VARIABLE","$expected_captions",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_ARRAY","array",214],"(",["T_WHITESPACE","\n      ",214],["T_CONSTANT_ENCAPSED_STRING","'Speaker'",215],",",["T_WHITESPACE","\n      ",215],["T_CONSTANT_ENCAPSED_STRING","'Songwriter'",216],",",["T_WHITESPACE","\n      ",216],["T_CONSTANT_ENCAPSED_STRING","'Drummer'",217],",",["T_WHITESPACE","\n      ",217],["T_CONSTANT_ENCAPSED_STRING","'Singer'",218],",",["T_WHITESPACE","\n      ",218],["T_VARIABLE","$unsafe_markup",219],",",["T_WHITESPACE","\n    ",219],")",";",["T_WHITESPACE","\n\n    ",220],["T_COMMENT","\/\/ Ensure that we don't find the caption containing unsafe markup.\n",222],["T_WHITESPACE","    ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","assertNoRaw",223],"(",["T_VARIABLE","$unsafe_markup",223],",",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","\"Didn't find caption containing unsafe markup.\"",223],")",";",["T_WHITESPACE","\n\n    ",223],["T_COMMENT","\/\/ Ensure that all expected captions are found.\n",225],["T_WHITESPACE","    ",226],["T_FOREACH","foreach",226],["T_WHITESPACE"," ",226],"(",["T_VARIABLE","$expected_captions",226],["T_WHITESPACE"," ",226],["T_AS","as",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$raw_caption",226],")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n      ",226],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","assertEscaped",227],"(",["T_VARIABLE","$raw_caption",227],")",";",["T_WHITESPACE","\n    ",227],"}",["T_WHITESPACE","\n  ",228],"}",["T_WHITESPACE","\n\n",229],"}",["T_WHITESPACE","\n",231]]