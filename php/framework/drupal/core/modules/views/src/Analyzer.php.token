[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","views",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Extension",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ModuleHandlerInterface",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * This tool is a small plugin manager to perform analysis on a view and\n * report results to the user. This tool is meant to let modules that\n * provide data to Views also help users properly use that data by\n * detecting invalid configurations. Views itself comes with only a\n * small amount of analysis tools, but more could easily be added either\n * by modules or as patches to Views itself.\n *\/",7],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","Analyzer",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * A module handler that invokes the 'views_analyze' hook.\n   *\n   * @var \\Drupal\\Core\\Extension\\ModuleHandlerInterface\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$moduleHandler",22],";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * Constructs an Analyzer object.\n   *\n   * @param \\Drupal\\Core\\Extension\\ModuleHandlerInterface $module_handler\n   *   The module handler that invokes the 'views_analyze' hook.\n   *\/",24],["T_WHITESPACE","\n  ",29],["T_PUBLIC","public",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","__construct",30],"(",["T_STRING","ModuleHandlerInterface",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$module_handler",30],")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","moduleHandler",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$module_handler",31],";",["T_WHITESPACE","\n  ",31],"}",["T_WHITESPACE","\n\n\n  ",32],["T_DOC_COMMENT","\/**\n   * Analyzes a review and return the results.\n   *\n   * @param \\Drupal\\views\\ViewExecutable $view\n   *   The view to analyze.\n   *\n   * @return array\n   *   An array of analyze results organized into arrays keyed by 'ok',\n   *   'warning' and 'error'.\n   *\/",35],["T_WHITESPACE","\n  ",44],["T_PUBLIC","public",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","getMessages",45],"(",["T_STRING","ViewExecutable",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$view",45],")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$view",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","initDisplay",46],"(",")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$messages",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","moduleHandler",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","invokeAll",47],"(",["T_CONSTANT_ENCAPSED_STRING","'views_analyze'",47],",",["T_WHITESPACE"," ",47],["T_ARRAY","array",47],"(",["T_VARIABLE","$view",47],")",")",";",["T_WHITESPACE","\n\n    ",47],["T_RETURN","return",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$messages",49],";",["T_WHITESPACE","\n  ",49],"}",["T_WHITESPACE","\n\n  ",50],["T_DOC_COMMENT","\/**\n   * Formats the analyze result into a message string.\n   *\n   * This is based upon the format of drupal_set_message which uses separate\n   * boxes for \"ok\", \"warning\" and \"error\".\n   *\/",52],["T_WHITESPACE","\n  ",57],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","formatMessages",58],"(",["T_ARRAY","array",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$messages",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n    ",58],["T_IF","if",59],["T_WHITESPACE"," ",59],"(",["T_EMPTY","empty",59],"(",["T_VARIABLE","$messages",59],")",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n      ",59],["T_VARIABLE","$messages",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_ARRAY","array",60],"(",["T_STATIC","static",60],["T_DOUBLE_COLON","::",60],["T_STRING","formatMessage",60],"(",["T_STRING","t",60],"(",["T_CONSTANT_ENCAPSED_STRING","'View analysis can find nothing to report.'",60],")",",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'ok'",60],")",")",";",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n\n    ",61],["T_VARIABLE","$types",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_ARRAY","array",63],"(",["T_CONSTANT_ENCAPSED_STRING","'ok'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_ARRAY","array",63],"(",")",",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'warning'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_ARRAY","array",63],"(",")",",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'error'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_ARRAY","array",63],"(",")",")",";",["T_WHITESPACE","\n    ",63],["T_FOREACH","foreach",64],["T_WHITESPACE"," ",64],"(",["T_VARIABLE","$messages",64],["T_WHITESPACE"," ",64],["T_AS","as",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$message",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n      ",64],["T_IF","if",65],["T_WHITESPACE"," ",65],"(",["T_EMPTY","empty",65],"(",["T_VARIABLE","$types",65],"[",["T_VARIABLE","$message",65],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",65],"]","]",")",")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$types",66],"[",["T_VARIABLE","$message",66],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",66],"]","]",["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_ARRAY","array",66],"(",")",";",["T_WHITESPACE","\n      ",66],"}",["T_WHITESPACE","\n      ",67],["T_VARIABLE","$types",68],"[",["T_VARIABLE","$message",68],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",68],"]","]","[","]",["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$message",68],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",68],"]",";",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n\n    ",69],["T_VARIABLE","$output",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","''",71],";",["T_WHITESPACE","\n    ",71],["T_FOREACH","foreach",72],["T_WHITESPACE"," ",72],"(",["T_VARIABLE","$types",72],["T_WHITESPACE"," ",72],["T_AS","as",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$type",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$messages",72],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n      ",72],["T_VARIABLE","$type",73],["T_WHITESPACE"," ",73],["T_CONCAT_EQUAL",".=",73],["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","' messages'",73],";",["T_WHITESPACE","\n      ",73],["T_VARIABLE","$message",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","''",74],";",["T_WHITESPACE","\n      ",74],["T_IF","if",75],["T_WHITESPACE"," ",75],"(",["T_STRING","count",75],"(",["T_VARIABLE","$messages",75],")",["T_WHITESPACE"," ",75],">",["T_WHITESPACE"," ",75],["T_LNUMBER","1",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$item_list",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_ARRAY","array",76],"(",["T_WHITESPACE","\n          ",76],["T_CONSTANT_ENCAPSED_STRING","'#theme'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'item_list'",77],",",["T_WHITESPACE","\n          ",77],["T_CONSTANT_ENCAPSED_STRING","'#items'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$messages",78],",",["T_WHITESPACE","\n        ",78],")",";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$message",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","drupal_render",80],"(",["T_VARIABLE","$item_list",80],")",";",["T_WHITESPACE","\n      ",80],"}",["T_WHITESPACE","\n      ",81],["T_ELSEIF","elseif",82],["T_WHITESPACE"," ",82],"(",["T_VARIABLE","$messages",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$message",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","array_shift",83],"(",["T_VARIABLE","$messages",83],")",";",["T_WHITESPACE","\n      ",83],"}",["T_WHITESPACE","\n\n      ",84],["T_IF","if",86],["T_WHITESPACE"," ",86],"(",["T_VARIABLE","$message",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$output",87],["T_WHITESPACE"," ",87],["T_CONCAT_EQUAL",".=",87],["T_WHITESPACE"," ",87],"\"",["T_ENCAPSED_AND_WHITESPACE","<div class=\\\"",87],["T_VARIABLE","$type",87],["T_ENCAPSED_AND_WHITESPACE","\\\">",87],["T_VARIABLE","$message",87],["T_ENCAPSED_AND_WHITESPACE","<\/div>",87],"\"",";",["T_WHITESPACE","\n      ",87],"}",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n    ",89],["T_RETURN","return",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$output",91],";",["T_WHITESPACE","\n  ",91],"}",["T_WHITESPACE","\n\n  ",92],["T_DOC_COMMENT","\/**\n   * Formats an analysis message.\n   *\n   * This tool should be called by any module responding to the analyze hook\n   * to properly format the message. It is usually used in the form:\n   * @code\n   *   $ret[] = Analyzer::formatMessage(t('This is the message'), 'ok');\n   * @endcode\n   *\n   * The 'ok' status should be used to provide information about things\n   * that are acceptable. In general analysis isn't interested in 'ok'\n   * messages, but instead the 'warning', which is a category for items\n   * that may be broken unless the user knows what he or she is doing,\n   * and 'error' for items that are definitely broken are much more useful.\n   *\n   * @param string $message\n   * @param string $type\n   *   The type of message. This should be \"ok\", \"warning\" or \"error\". Other\n   *   values can be used but how they are treated by the output routine\n   *   is undefined.\n   *\n   * @return array\n   *   A single formatted message, consisting of a key message and a key type.\n   *\/",94],["T_WHITESPACE","\n  ",117],["T_STATIC","static",118],["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","formatMessage",118],"(",["T_VARIABLE","$message",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$type",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'error'",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n    ",118],["T_RETURN","return",119],["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",["T_CONSTANT_ENCAPSED_STRING","'message'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$message",119],",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'type'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$type",119],")",";",["T_WHITESPACE","\n  ",119],"}",["T_WHITESPACE","\n\n",120],"}",["T_WHITESPACE","\n",122]]