[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","views",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Unit",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Tests",5],["T_NS_SEPARATOR","\\",5],["T_STRING","UnitTestCase",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","views",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ViewsDataHelper",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","views",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Tests",7],["T_NS_SEPARATOR","\\",7],["T_STRING","ViewTestData",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * @coversDefaultClass \\Drupal\\views\\ViewsDataHelper\n * @group views\n *\/",9],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","ViewsDataHelperTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","UnitTestCase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * Returns the views data definition.\n   *\n   * @return array\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_FUNCTION","function",20],["T_WHITESPACE"," ",20],["T_STRING","viewsData",20],"(",")",["T_WHITESPACE"," ",20],"{",["T_WHITESPACE","\n    ",20],["T_VARIABLE","$data",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_STRING","ViewTestData",21],["T_DOUBLE_COLON","::",21],["T_STRING","viewsData",21],"(",")",";",["T_WHITESPACE","\n\n    ",21],["T_COMMENT","\/\/ Tweak the views data to have a base for testing\n",23],["T_WHITESPACE","    ",24],["T_COMMENT","\/\/ \\Drupal\\views\\ViewsDataHelper::fetchFields().\n",24],["T_WHITESPACE","    ",25],["T_UNSET","unset",25],"(",["T_VARIABLE","$data",25],"[",["T_CONSTANT_ENCAPSED_STRING","'views_test_data'",25],"]","[",["T_CONSTANT_ENCAPSED_STRING","'id'",25],"]","[",["T_CONSTANT_ENCAPSED_STRING","'field'",25],"]",")",";",["T_WHITESPACE","\n    ",25],["T_UNSET","unset",26],"(",["T_VARIABLE","$data",26],"[",["T_CONSTANT_ENCAPSED_STRING","'views_test_data'",26],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",26],"]","[",["T_CONSTANT_ENCAPSED_STRING","'argument'",26],"]",")",";",["T_WHITESPACE","\n    ",26],["T_UNSET","unset",27],"(",["T_VARIABLE","$data",27],"[",["T_CONSTANT_ENCAPSED_STRING","'views_test_data'",27],"]","[",["T_CONSTANT_ENCAPSED_STRING","'age'",27],"]","[",["T_CONSTANT_ENCAPSED_STRING","'filter'",27],"]",")",";",["T_WHITESPACE","\n    ",27],["T_UNSET","unset",28],"(",["T_VARIABLE","$data",28],"[",["T_CONSTANT_ENCAPSED_STRING","'views_test_data'",28],"]","[",["T_CONSTANT_ENCAPSED_STRING","'job'",28],"]","[",["T_CONSTANT_ENCAPSED_STRING","'sort'",28],"]",")",";",["T_WHITESPACE","\n    ",28],["T_VARIABLE","$data",29],"[",["T_CONSTANT_ENCAPSED_STRING","'views_test_data'",29],"]","[",["T_CONSTANT_ENCAPSED_STRING","'created'",29],"]","[",["T_CONSTANT_ENCAPSED_STRING","'area'",29],"]","[",["T_CONSTANT_ENCAPSED_STRING","'id'",29],"]",["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'text'",29],";",["T_WHITESPACE","\n    ",29],["T_VARIABLE","$data",30],"[",["T_CONSTANT_ENCAPSED_STRING","'views_test_data'",30],"]","[",["T_CONSTANT_ENCAPSED_STRING","'age'",30],"]","[",["T_CONSTANT_ENCAPSED_STRING","'area'",30],"]","[",["T_CONSTANT_ENCAPSED_STRING","'id'",30],"]",["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'text'",30],";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$data",31],"[",["T_CONSTANT_ENCAPSED_STRING","'views_test_data'",31],"]","[",["T_CONSTANT_ENCAPSED_STRING","'age'",31],"]","[",["T_CONSTANT_ENCAPSED_STRING","'area'",31],"]","[",["T_CONSTANT_ENCAPSED_STRING","'sub_type'",31],"]",["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'header'",31],";",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$data",32],"[",["T_CONSTANT_ENCAPSED_STRING","'views_test_data'",32],"]","[",["T_CONSTANT_ENCAPSED_STRING","'job'",32],"]","[",["T_CONSTANT_ENCAPSED_STRING","'area'",32],"]","[",["T_CONSTANT_ENCAPSED_STRING","'id'",32],"]",["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'text'",32],";",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$data",33],"[",["T_CONSTANT_ENCAPSED_STRING","'views_test_data'",33],"]","[",["T_CONSTANT_ENCAPSED_STRING","'job'",33],"]","[",["T_CONSTANT_ENCAPSED_STRING","'area'",33],"]","[",["T_CONSTANT_ENCAPSED_STRING","'sub_type'",33],"]",["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_ARRAY","array",33],"(",["T_CONSTANT_ENCAPSED_STRING","'header'",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'footer'",33],")",";",["T_WHITESPACE","\n\n    ",33],["T_RETURN","return",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$data",35],";",["T_WHITESPACE","\n  ",35],"}",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * Tests fetchFields.\n   *\/",38],["T_WHITESPACE","\n  ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","testFetchFields",41],"(",")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$views_data",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","getMockBuilder",42],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\views\\ViewsData'",42],")",["T_WHITESPACE","\n      ",42],["T_OBJECT_OPERATOR","->",43],["T_STRING","disableOriginalConstructor",43],"(",")",["T_WHITESPACE","\n      ",43],["T_OBJECT_OPERATOR","->",44],["T_STRING","getMock",44],"(",")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$views_data",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","expects",45],"(",["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","once",45],"(",")",")",["T_WHITESPACE","\n      ",45],["T_OBJECT_OPERATOR","->",46],["T_STRING","method",46],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",46],")",["T_WHITESPACE","\n      ",46],["T_OBJECT_OPERATOR","->",47],["T_STRING","will",47],"(",["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","returnValue",47],"(",["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","viewsData",47],"(",")",")",")",";",["T_WHITESPACE","\n\n    ",47],["T_VARIABLE","$data_helper",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_NEW","new",49],["T_WHITESPACE"," ",49],["T_STRING","ViewsDataHelper",49],"(",["T_VARIABLE","$views_data",49],")",";",["T_WHITESPACE","\n\n    ",49],["T_VARIABLE","$expected",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_ARRAY","array",51],"(",["T_WHITESPACE","\n      ",51],["T_CONSTANT_ENCAPSED_STRING","'field'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_ARRAY","array",52],"(",["T_WHITESPACE","\n        ",52],["T_CONSTANT_ENCAPSED_STRING","'age'",53],",",["T_WHITESPACE","\n        ",53],["T_CONSTANT_ENCAPSED_STRING","'created'",54],",",["T_WHITESPACE","\n        ",54],["T_CONSTANT_ENCAPSED_STRING","'job'",55],",",["T_WHITESPACE","\n        ",55],["T_CONSTANT_ENCAPSED_STRING","'name'",56],",",["T_WHITESPACE","\n        ",56],["T_CONSTANT_ENCAPSED_STRING","'status'",57],",",["T_WHITESPACE","\n      ",57],")",",",["T_WHITESPACE","\n      ",58],["T_CONSTANT_ENCAPSED_STRING","'argument'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_ARRAY","array",59],"(",["T_WHITESPACE","\n        ",59],["T_CONSTANT_ENCAPSED_STRING","'age'",60],",",["T_WHITESPACE","\n        ",60],["T_CONSTANT_ENCAPSED_STRING","'created'",61],",",["T_WHITESPACE","\n        ",61],["T_CONSTANT_ENCAPSED_STRING","'id'",62],",",["T_WHITESPACE","\n        ",62],["T_CONSTANT_ENCAPSED_STRING","'job'",63],",",["T_WHITESPACE","\n      ",63],")",",",["T_WHITESPACE","\n      ",64],["T_CONSTANT_ENCAPSED_STRING","'filter'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_ARRAY","array",65],"(",["T_WHITESPACE","\n        ",65],["T_CONSTANT_ENCAPSED_STRING","'created'",66],",",["T_WHITESPACE","\n        ",66],["T_CONSTANT_ENCAPSED_STRING","'id'",67],",",["T_WHITESPACE","\n        ",67],["T_CONSTANT_ENCAPSED_STRING","'job'",68],",",["T_WHITESPACE","\n        ",68],["T_CONSTANT_ENCAPSED_STRING","'name'",69],",",["T_WHITESPACE","\n        ",69],["T_CONSTANT_ENCAPSED_STRING","'status'",70],",",["T_WHITESPACE","\n      ",70],")",",",["T_WHITESPACE","\n      ",71],["T_CONSTANT_ENCAPSED_STRING","'sort'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_ARRAY","array",72],"(",["T_WHITESPACE","\n        ",72],["T_CONSTANT_ENCAPSED_STRING","'age'",73],",",["T_WHITESPACE","\n        ",73],["T_CONSTANT_ENCAPSED_STRING","'created'",74],",",["T_WHITESPACE","\n        ",74],["T_CONSTANT_ENCAPSED_STRING","'id'",75],",",["T_WHITESPACE","\n        ",75],["T_CONSTANT_ENCAPSED_STRING","'name'",76],",",["T_WHITESPACE","\n        ",76],["T_CONSTANT_ENCAPSED_STRING","'status'",77],",",["T_WHITESPACE","\n      ",77],")",",",["T_WHITESPACE","\n      ",78],["T_CONSTANT_ENCAPSED_STRING","'area'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_ARRAY","array",79],"(",["T_WHITESPACE","\n        ",79],["T_CONSTANT_ENCAPSED_STRING","'age'",80],",",["T_WHITESPACE","\n        ",80],["T_CONSTANT_ENCAPSED_STRING","'created'",81],",",["T_WHITESPACE","\n        ",81],["T_CONSTANT_ENCAPSED_STRING","'job'",82],",",["T_WHITESPACE","\n      ",82],")",",",["T_WHITESPACE","\n      ",83],["T_CONSTANT_ENCAPSED_STRING","'header'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_ARRAY","array",84],"(",["T_WHITESPACE","\n        ",84],["T_CONSTANT_ENCAPSED_STRING","'age'",85],",",["T_WHITESPACE","\n        ",85],["T_CONSTANT_ENCAPSED_STRING","'created'",86],",",["T_WHITESPACE","\n        ",86],["T_CONSTANT_ENCAPSED_STRING","'job'",87],",",["T_WHITESPACE","\n      ",87],")",",",["T_WHITESPACE","\n      ",88],["T_CONSTANT_ENCAPSED_STRING","'footer'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_ARRAY","array",89],"(",["T_WHITESPACE","\n        ",89],["T_CONSTANT_ENCAPSED_STRING","'age'",90],",",["T_WHITESPACE","\n        ",90],["T_CONSTANT_ENCAPSED_STRING","'created'",91],",",["T_WHITESPACE","\n        ",91],["T_CONSTANT_ENCAPSED_STRING","'job'",92],",",["T_WHITESPACE","\n      ",92],")",",",["T_WHITESPACE","\n    ",93],")",";",["T_WHITESPACE","\n\n    ",94],["T_VARIABLE","$handler_types",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_ARRAY","array",96],"(",["T_CONSTANT_ENCAPSED_STRING","'field'",96],",",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'argument'",96],",",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'filter'",96],",",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'sort'",96],",",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'area'",96],")",";",["T_WHITESPACE","\n    ",96],["T_FOREACH","foreach",97],["T_WHITESPACE"," ",97],"(",["T_VARIABLE","$handler_types",97],["T_WHITESPACE"," ",97],["T_AS","as",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$handler_type",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n      ",97],["T_VARIABLE","$fields",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$data_helper",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","fetchFields",98],"(",["T_CONSTANT_ENCAPSED_STRING","'views_test_data'",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$handler_type",98],")",";",["T_WHITESPACE","\n      ",98],["T_VARIABLE","$expected_keys",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$expected",99],"[",["T_VARIABLE","$handler_type",99],"]",";",["T_WHITESPACE","\n      ",99],["T_STRING","array_walk",100],"(",["T_VARIABLE","$expected_keys",100],",",["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],"(","&",["T_VARIABLE","$item",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$item",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],"\"",["T_ENCAPSED_AND_WHITESPACE","views_test_data.",101],["T_VARIABLE","$item",101],"\"",";",["T_WHITESPACE","\n      ",101],"}",")",";",["T_WHITESPACE","\n      ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","assertEquals",103],"(",["T_VARIABLE","$expected_keys",103],",",["T_WHITESPACE"," ",103],["T_STRING","array_keys",103],"(",["T_VARIABLE","$fields",103],")",",",["T_WHITESPACE"," ",103],"\"",["T_ENCAPSED_AND_WHITESPACE","Handlers of type ",103],["T_VARIABLE","$handler_type",103],["T_ENCAPSED_AND_WHITESPACE"," are not listed as expected",103],"\"",")",";",["T_WHITESPACE","\n    ",103],"}",["T_WHITESPACE","\n\n    ",104],["T_COMMENT","\/\/ Check for subtype filtering, so header and footer.\n",106],["T_WHITESPACE","    ",107],["T_FOREACH","foreach",107],["T_WHITESPACE"," ",107],"(",["T_ARRAY","array",107],"(",["T_CONSTANT_ENCAPSED_STRING","'header'",107],",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'footer'",107],")",["T_WHITESPACE"," ",107],["T_AS","as",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$sub_type",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n      ",107],["T_VARIABLE","$fields",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$data_helper",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","fetchFields",108],"(",["T_CONSTANT_ENCAPSED_STRING","'views_test_data'",108],",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'area'",108],",",["T_WHITESPACE"," ",108],["T_STRING","FALSE",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$sub_type",108],")",";",["T_WHITESPACE","\n\n      ",108],["T_VARIABLE","$expected_keys",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$expected",110],"[",["T_VARIABLE","$sub_type",110],"]",";",["T_WHITESPACE","\n      ",110],["T_STRING","array_walk",111],"(",["T_VARIABLE","$expected_keys",111],",",["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],"(","&",["T_VARIABLE","$item",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$item",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],"\"",["T_ENCAPSED_AND_WHITESPACE","views_test_data.",112],["T_VARIABLE","$item",112],"\"",";",["T_WHITESPACE","\n      ",112],"}",")",";",["T_WHITESPACE","\n      ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","assertEquals",114],"(",["T_VARIABLE","$expected_keys",114],",",["T_WHITESPACE"," ",114],["T_STRING","array_keys",114],"(",["T_VARIABLE","$fields",114],")",",",["T_WHITESPACE"," ",114],"\"",["T_ENCAPSED_AND_WHITESPACE","Sub_type ",114],["T_VARIABLE","$sub_type",114],["T_ENCAPSED_AND_WHITESPACE"," is not filtered as expected.",114],"\"",")",";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n  ",115],"}",["T_WHITESPACE","\n\n",116],"}",["T_WHITESPACE","\n",118]]