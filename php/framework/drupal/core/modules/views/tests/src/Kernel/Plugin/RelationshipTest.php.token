[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","views",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","simpletest",5],["T_NS_SEPARATOR","\\",5],["T_STRING","UserCreationTrait",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","views",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Views",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests the base relationship handler.\n *\n * @group views\n * @see \\Drupal\\views\\Plugin\\views\\relationship\\RelationshipPluginBase\n *\/",8],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","RelationshipTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","RelationshipJoinTestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n  ",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","UserCreationTrait",15],";",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * Views used by this test.\n   *\n   * @var array\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_STATIC","static",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$testViews",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_ARRAY","array",22],"(",["T_CONSTANT_ENCAPSED_STRING","'test_view'",22],")",";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * Maps between the key in the expected result and the query result.\n   *\n   * @var array\n   *\/",24],["T_WHITESPACE","\n  ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$columnMap",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_ARRAY","array",29],"(",["T_WHITESPACE","\n    ",29],["T_CONSTANT_ENCAPSED_STRING","'views_test_data_name'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'name'",30],",",["T_WHITESPACE","\n    ",30],["T_CONSTANT_ENCAPSED_STRING","'users_field_data_views_test_data_uid'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'uid'",31],",",["T_WHITESPACE","\n  ",31],")",";",["T_WHITESPACE","\n\n  ",32],["T_DOC_COMMENT","\/**\n   * Tests the query result of a view with a relationship.\n   *\/",34],["T_WHITESPACE","\n  ",36],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","testRelationshipQuery",37],"(",")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n    ",37],["T_COMMENT","\/\/ Set the first entry to have the admin as author.\n",38],["T_WHITESPACE","    ",39],["T_STRING","db_query",39],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE {views_test_data} SET uid = 1 WHERE id = 1\"",39],")",";",["T_WHITESPACE","\n    ",39],["T_STRING","db_query",40],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE {views_test_data} SET uid = 2 WHERE id <> 1\"",40],")",";",["T_WHITESPACE","\n\n    ",40],["T_VARIABLE","$view",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_STRING","Views",42],["T_DOUBLE_COLON","::",42],["T_STRING","getView",42],"(",["T_CONSTANT_ENCAPSED_STRING","'test_view'",42],")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$view",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","setDisplay",43],"(",")",";",["T_WHITESPACE","\n\n    ",43],["T_VARIABLE","$view",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","displayHandlers",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","get",45],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",45],")",["T_OBJECT_OPERATOR","->",45],["T_STRING","overrideOption",45],"(",["T_CONSTANT_ENCAPSED_STRING","'relationships'",45],",",["T_WHITESPACE"," ",45],["T_ARRAY","array",45],"(",["T_WHITESPACE","\n      ",45],["T_CONSTANT_ENCAPSED_STRING","'uid'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_ARRAY","array",46],"(",["T_WHITESPACE","\n        ",46],["T_CONSTANT_ENCAPSED_STRING","'id'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'uid'",47],",",["T_WHITESPACE","\n        ",47],["T_CONSTANT_ENCAPSED_STRING","'table'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'views_test_data'",48],",",["T_WHITESPACE","\n        ",48],["T_CONSTANT_ENCAPSED_STRING","'field'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'uid'",49],",",["T_WHITESPACE","\n      ",49],")",",",["T_WHITESPACE","\n    ",50],")",")",";",["T_WHITESPACE","\n\n    ",51],["T_VARIABLE","$view",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","displayHandlers",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","get",53],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",53],")",["T_OBJECT_OPERATOR","->",53],["T_STRING","overrideOption",53],"(",["T_CONSTANT_ENCAPSED_STRING","'filters'",53],",",["T_WHITESPACE"," ",53],["T_ARRAY","array",53],"(",["T_WHITESPACE","\n      ",53],["T_CONSTANT_ENCAPSED_STRING","'uid'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_ARRAY","array",54],"(",["T_WHITESPACE","\n        ",54],["T_CONSTANT_ENCAPSED_STRING","'id'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'uid'",55],",",["T_WHITESPACE","\n        ",55],["T_CONSTANT_ENCAPSED_STRING","'table'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'users_field_data'",56],",",["T_WHITESPACE","\n        ",56],["T_CONSTANT_ENCAPSED_STRING","'field'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'uid'",57],",",["T_WHITESPACE","\n        ",57],["T_CONSTANT_ENCAPSED_STRING","'relationship'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'uid'",58],",",["T_WHITESPACE","\n      ",58],")",",",["T_WHITESPACE","\n    ",59],")",")",";",["T_WHITESPACE","\n\n    ",60],["T_VARIABLE","$fields",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$view",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","displayHandlers",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","get",62],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",62],")",["T_OBJECT_OPERATOR","->",62],["T_STRING","getOption",62],"(",["T_CONSTANT_ENCAPSED_STRING","'fields'",62],")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$view",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","displayHandlers",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","get",63],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",63],")",["T_OBJECT_OPERATOR","->",63],["T_STRING","overrideOption",63],"(",["T_CONSTANT_ENCAPSED_STRING","'fields'",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$fields",63],["T_WHITESPACE"," ",63],"+",["T_WHITESPACE"," ",63],["T_ARRAY","array",63],"(",["T_WHITESPACE","\n      ",63],["T_CONSTANT_ENCAPSED_STRING","'uid'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_ARRAY","array",64],"(",["T_WHITESPACE","\n        ",64],["T_CONSTANT_ENCAPSED_STRING","'id'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'uid'",65],",",["T_WHITESPACE","\n        ",65],["T_CONSTANT_ENCAPSED_STRING","'table'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'users_field_data'",66],",",["T_WHITESPACE","\n        ",66],["T_CONSTANT_ENCAPSED_STRING","'field'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'uid'",67],",",["T_WHITESPACE","\n        ",67],["T_CONSTANT_ENCAPSED_STRING","'relationship'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'uid'",68],",",["T_WHITESPACE","\n      ",68],")",",",["T_WHITESPACE","\n    ",69],")",")",";",["T_WHITESPACE","\n\n    ",70],["T_VARIABLE","$view",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","initHandlers",72],"(",")",";",["T_WHITESPACE","\n\n    ",72],["T_COMMENT","\/\/ Check for all beatles created by admin.\n",74],["T_WHITESPACE","    ",75],["T_VARIABLE","$view",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","filter",75],"[",["T_CONSTANT_ENCAPSED_STRING","'uid'",75],"]",["T_OBJECT_OPERATOR","->",75],["T_STRING","value",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_ARRAY","array",75],"(",["T_LNUMBER","1",75],")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","executeView",76],"(",["T_VARIABLE","$view",76],")",";",["T_WHITESPACE","\n\n    ",76],["T_VARIABLE","$expected_result",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_ARRAY","array",78],"(",["T_WHITESPACE","\n      ",78],["T_ARRAY","array",79],"(",["T_WHITESPACE","\n        ",79],["T_CONSTANT_ENCAPSED_STRING","'name'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'John'",80],",",["T_WHITESPACE","\n        ",80],["T_CONSTANT_ENCAPSED_STRING","'uid'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_LNUMBER","1",81],["T_WHITESPACE","\n      ",81],")",["T_WHITESPACE","\n    ",82],")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertIdenticalResultset",84],"(",["T_VARIABLE","$view",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$expected_result",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","columnMap",84],")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$view",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","destroy",85],"(",")",";",["T_WHITESPACE","\n\n    ",85],["T_COMMENT","\/\/ Check for all beatles created by another user, which so doesn't exist.\n",87],["T_WHITESPACE","    ",88],["T_VARIABLE","$view",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","initHandlers",88],"(",")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$view",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","filter",89],"[",["T_CONSTANT_ENCAPSED_STRING","'uid'",89],"]",["T_OBJECT_OPERATOR","->",89],["T_STRING","value",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_ARRAY","array",89],"(",["T_LNUMBER","3",89],")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","executeView",90],"(",["T_VARIABLE","$view",90],")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$expected_result",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_ARRAY","array",91],"(",")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertIdenticalResultset",92],"(",["T_VARIABLE","$view",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$expected_result",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","columnMap",92],")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$view",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","destroy",93],"(",")",";",["T_WHITESPACE","\n\n    ",93],["T_COMMENT","\/\/ Set the relationship to required, so only results authored by the admin\n",95],["T_WHITESPACE","    ",96],["T_COMMENT","\/\/ should return.\n",96],["T_WHITESPACE","    ",97],["T_VARIABLE","$view",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","initHandlers",97],"(",")",";",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$view",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","relationship",98],"[",["T_CONSTANT_ENCAPSED_STRING","'uid'",98],"]",["T_OBJECT_OPERATOR","->",98],["T_STRING","options",98],"[",["T_CONSTANT_ENCAPSED_STRING","'required'",98],"]",["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","TRUE",98],";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","executeView",99],"(",["T_VARIABLE","$view",99],")",";",["T_WHITESPACE","\n\n    ",99],["T_VARIABLE","$expected_result",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_ARRAY","array",101],"(",["T_WHITESPACE","\n      ",101],["T_ARRAY","array",102],"(",["T_WHITESPACE","\n        ",102],["T_CONSTANT_ENCAPSED_STRING","'name'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'John'",103],",",["T_WHITESPACE","\n        ",103],["T_CONSTANT_ENCAPSED_STRING","'uid'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_LNUMBER","1",104],["T_WHITESPACE","\n      ",104],")",["T_WHITESPACE","\n    ",105],")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertIdenticalResultset",107],"(",["T_VARIABLE","$view",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$expected_result",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","columnMap",107],")",";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$view",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","destroy",108],"(",")",";",["T_WHITESPACE","\n\n    ",108],["T_COMMENT","\/\/ Set the relationship to optional should cause to return all beatles.\n",110],["T_WHITESPACE","    ",111],["T_VARIABLE","$view",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","initHandlers",111],"(",")",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$view",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","relationship",112],"[",["T_CONSTANT_ENCAPSED_STRING","'uid'",112],"]",["T_OBJECT_OPERATOR","->",112],["T_STRING","options",112],"[",["T_CONSTANT_ENCAPSED_STRING","'required'",112],"]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","FALSE",112],";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","executeView",113],"(",["T_VARIABLE","$view",113],")",";",["T_WHITESPACE","\n\n    ",113],["T_VARIABLE","$expected_result",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","dataSet",115],"(",")",";",["T_WHITESPACE","\n    ",115],["T_COMMENT","\/\/ Alter the expected result to contain the right uids.\n",116],["T_WHITESPACE","    ",117],["T_FOREACH","foreach",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$expected_result",117],["T_WHITESPACE"," ",117],["T_AS","as",117],["T_WHITESPACE"," ",117],"&",["T_VARIABLE","$row",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n      ",117],["T_COMMENT","\/\/ Only John has an existing author.\n",118],["T_WHITESPACE","      ",119],["T_IF","if",119],["T_WHITESPACE"," ",119],"(",["T_VARIABLE","$row",119],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",119],"]",["T_WHITESPACE"," ",119],["T_IS_EQUAL","==",119],["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'John'",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$row",120],"[",["T_CONSTANT_ENCAPSED_STRING","'uid'",120],"]",["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_LNUMBER","1",120],";",["T_WHITESPACE","\n      ",120],"}",["T_WHITESPACE","\n      ",121],["T_ELSE","else",122],["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n        ",122],["T_COMMENT","\/\/ The LEFT join should set an empty {users}.uid field.\n",123],["T_WHITESPACE","        ",124],["T_VARIABLE","$row",124],"[",["T_CONSTANT_ENCAPSED_STRING","'uid'",124],"]",["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","NULL",124],";",["T_WHITESPACE","\n      ",124],"}",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n\n    ",126],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","assertIdenticalResultset",128],"(",["T_VARIABLE","$view",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$expected_result",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","columnMap",128],")",";",["T_WHITESPACE","\n  ",128],"}",["T_WHITESPACE","\n\n  ",129],["T_DOC_COMMENT","\/**\n   * Tests rendering of a view with a relationship.\n   *\/",131],["T_WHITESPACE","\n  ",133],["T_PUBLIC","public",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","testRelationshipRender",134],"(",")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n    ",134],["T_VARIABLE","$author1",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","createUser",135],"(",")",";",["T_WHITESPACE","\n    ",135],["T_STRING","db_query",136],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE {views_test_data} SET uid = :uid WHERE id = 1\"",136],",",["T_WHITESPACE"," ",136],"[",["T_CONSTANT_ENCAPSED_STRING","':uid'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$author1",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","id",136],"(",")","]",")",";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$author2",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","createUser",137],"(",")",";",["T_WHITESPACE","\n    ",137],["T_STRING","db_query",138],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE {views_test_data} SET uid = :uid WHERE id = 2\"",138],",",["T_WHITESPACE"," ",138],"[",["T_CONSTANT_ENCAPSED_STRING","':uid'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$author2",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","id",138],"(",")","]",")",";",["T_WHITESPACE","\n    ",138],["T_COMMENT","\/\/ Set uid to non-existing author uid for row 3.\n",139],["T_WHITESPACE","    ",140],["T_STRING","db_query",140],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE {views_test_data} SET uid = :uid WHERE id = 3\"",140],",",["T_WHITESPACE"," ",140],"[",["T_CONSTANT_ENCAPSED_STRING","':uid'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$author2",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","id",140],"(",")",["T_WHITESPACE"," ",140],"+",["T_WHITESPACE"," ",140],["T_LNUMBER","123",140],"]",")",";",["T_WHITESPACE","\n\n    ",140],["T_VARIABLE","$view",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_STRING","Views",142],["T_DOUBLE_COLON","::",142],["T_STRING","getView",142],"(",["T_CONSTANT_ENCAPSED_STRING","'test_view'",142],")",";",["T_WHITESPACE","\n    ",142],["T_COMMENT","\/\/ Add a relationship for authors.\n",143],["T_WHITESPACE","    ",144],["T_VARIABLE","$view",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getDisplay",144],"(",")",["T_OBJECT_OPERATOR","->",144],["T_STRING","overrideOption",144],"(",["T_CONSTANT_ENCAPSED_STRING","'relationships'",144],",",["T_WHITESPACE"," ",144],"[",["T_WHITESPACE","\n      ",144],["T_CONSTANT_ENCAPSED_STRING","'uid'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],"[",["T_WHITESPACE","\n        ",145],["T_CONSTANT_ENCAPSED_STRING","'id'",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","'uid'",146],",",["T_WHITESPACE","\n        ",146],["T_CONSTANT_ENCAPSED_STRING","'table'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'views_test_data'",147],",",["T_WHITESPACE","\n        ",147],["T_CONSTANT_ENCAPSED_STRING","'field'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'uid'",148],",",["T_WHITESPACE","\n      ",148],"]",",",["T_WHITESPACE","\n    ",149],"]",")",";",["T_WHITESPACE","\n    ",150],["T_COMMENT","\/\/ Add fields for {views_test_data}.id and author name.\n",151],["T_WHITESPACE","    ",152],["T_VARIABLE","$view",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getDisplay",152],"(",")",["T_OBJECT_OPERATOR","->",152],["T_STRING","overrideOption",152],"(",["T_CONSTANT_ENCAPSED_STRING","'fields'",152],",",["T_WHITESPACE"," ",152],"[",["T_WHITESPACE","\n      ",152],["T_CONSTANT_ENCAPSED_STRING","'id'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],"[",["T_WHITESPACE","\n        ",153],["T_CONSTANT_ENCAPSED_STRING","'id'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'id'",154],",",["T_WHITESPACE","\n        ",154],["T_CONSTANT_ENCAPSED_STRING","'table'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'views_test_data'",155],",",["T_WHITESPACE","\n        ",155],["T_CONSTANT_ENCAPSED_STRING","'field'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'id'",156],",",["T_WHITESPACE","\n      ",156],"]",",",["T_WHITESPACE","\n      ",157],["T_CONSTANT_ENCAPSED_STRING","'author'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],"[",["T_WHITESPACE","\n        ",158],["T_CONSTANT_ENCAPSED_STRING","'id'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'author'",159],",",["T_WHITESPACE","\n        ",159],["T_CONSTANT_ENCAPSED_STRING","'table'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'users_field_data'",160],",",["T_WHITESPACE","\n        ",160],["T_CONSTANT_ENCAPSED_STRING","'field'",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'name'",161],",",["T_WHITESPACE","\n        ",161],["T_CONSTANT_ENCAPSED_STRING","'relationship'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'uid'",162],",",["T_WHITESPACE","\n      ",162],"]",",",["T_WHITESPACE","\n    ",163],"]",")",";",["T_WHITESPACE","\n\n    ",164],["T_COMMENT","\/\/ Render the view.\n",166],["T_WHITESPACE","    ",167],["T_VARIABLE","$output",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$view",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","preview",167],"(",")",";",["T_WHITESPACE","\n    ",167],["T_VARIABLE","$html",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","container",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","get",168],"(",["T_CONSTANT_ENCAPSED_STRING","'renderer'",168],")",["T_OBJECT_OPERATOR","->",168],["T_STRING","renderRoot",168],"(",["T_VARIABLE","$output",168],")",";",["T_WHITESPACE","\n    ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","setRawContent",169],"(",["T_VARIABLE","$html",169],")",";",["T_WHITESPACE","\n\n    ",169],["T_COMMENT","\/\/ Check that the output contains correct values.\n",171],["T_WHITESPACE","    ",172],["T_VARIABLE","$xpath",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'\/\/div[@class=\"views-row\" and div[@class=\"views-field views-field-id\"]=:id and div[@class=\"views-field views-field-author\"]=:author]'",172],";",["T_WHITESPACE","\n    ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","assertEqual",173],"(",["T_LNUMBER","1",173],",",["T_WHITESPACE"," ",173],["T_STRING","count",173],"(",["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","xpath",173],"(",["T_VARIABLE","$xpath",173],",",["T_WHITESPACE"," ",173],"[",["T_CONSTANT_ENCAPSED_STRING","':id'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_LNUMBER","1",173],",",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","':author'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$author1",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getUsername",173],"(",")","]",")",")",")",";",["T_WHITESPACE","\n    ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","assertEqual",174],"(",["T_LNUMBER","1",174],",",["T_WHITESPACE"," ",174],["T_STRING","count",174],"(",["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","xpath",174],"(",["T_VARIABLE","$xpath",174],",",["T_WHITESPACE"," ",174],"[",["T_CONSTANT_ENCAPSED_STRING","':id'",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_LNUMBER","2",174],",",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","':author'",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$author2",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getUsername",174],"(",")","]",")",")",")",";",["T_WHITESPACE","\n    ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","assertEqual",175],"(",["T_LNUMBER","1",175],",",["T_WHITESPACE"," ",175],["T_STRING","count",175],"(",["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","xpath",175],"(",["T_VARIABLE","$xpath",175],",",["T_WHITESPACE"," ",175],"[",["T_CONSTANT_ENCAPSED_STRING","':id'",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_LNUMBER","3",175],",",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","':author'",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","''",175],"]",")",")",")",";",["T_WHITESPACE","\n  ",175],"}",["T_WHITESPACE","\n\n",176],"}",["T_WHITESPACE","\n",178]]