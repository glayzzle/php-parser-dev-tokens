[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","views",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Unit",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","query",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","EntityInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","EntityStorageInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","EntityType",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","EntityTypeManagerInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Tests",9],["T_NS_SEPARATOR","\\",9],["T_STRING","UnitTestCase",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","views",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Plugin",10],["T_NS_SEPARATOR","\\",10],["T_STRING","views",10],["T_NS_SEPARATOR","\\",10],["T_STRING","query",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Sql",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","views",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Plugin",11],["T_NS_SEPARATOR","\\",11],["T_STRING","views",11],["T_NS_SEPARATOR","\\",11],["T_STRING","relationship",11],["T_NS_SEPARATOR","\\",11],["T_STRING","RelationshipPluginBase",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","views",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ResultRow",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","views",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ViewEntityInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Drupal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","views",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ViewExecutable",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Drupal",15],["T_NS_SEPARATOR","\\",15],["T_STRING","views",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ViewsData",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","DependencyInjection",16],["T_NS_SEPARATOR","\\",16],["T_STRING","ContainerBuilder",16],";",["T_WHITESPACE","\n\n",16],["T_DOC_COMMENT","\/**\n * @coversDefaultClass \\Drupal\\views\\Plugin\\views\\query\\Sql\n *\n * @group views\n *\/",18],["T_WHITESPACE","\n",22],["T_CLASS","class",23],["T_WHITESPACE"," ",23],["T_STRING","SqlTest",23],["T_WHITESPACE"," ",23],["T_EXTENDS","extends",23],["T_WHITESPACE"," ",23],["T_STRING","UnitTestCase",23],["T_WHITESPACE"," ",23],"{",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * @covers ::getCacheTags\n   * @covers ::getAllEntities\n   *\/",25],["T_WHITESPACE","\n  ",28],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","testGetCacheTags",29],"(",")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n    ",29],["T_VARIABLE","$view",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","prophesize",30],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\views\\ViewExecutable'",30],")",["T_OBJECT_OPERATOR","->",30],["T_STRING","reveal",30],"(",")",";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$entity_type_manager",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","prophesize",31],"(",["T_STRING","EntityTypeManagerInterface",31],["T_DOUBLE_COLON","::",31],["T_CLASS","class",31],")",";",["T_WHITESPACE","\n\n    ",31],["T_VARIABLE","$query",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_NEW","new",33],["T_WHITESPACE"," ",33],["T_STRING","Sql",33],"(","[","]",",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'sql'",33],",",["T_WHITESPACE"," ",33],"[","]",",",["T_WHITESPACE"," ",33],["T_VARIABLE","$entity_type_manager",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","reveal",33],"(",")",")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$query",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","view",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$view",34],";",["T_WHITESPACE","\n\n    ",34],["T_VARIABLE","$result",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],"[","]",";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$view",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","result",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$result",37],";",["T_WHITESPACE","\n\n    ",37],["T_COMMENT","\/\/ Add a row with an entity.\n",39],["T_WHITESPACE","    ",40],["T_VARIABLE","$row",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_NEW","new",40],["T_WHITESPACE"," ",40],["T_STRING","ResultRow",40],"(",")",";",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$prophecy",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","prophesize",41],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Entity\\EntityInterface'",41],")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$prophecy",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","getCacheTags",42],"(",")",["T_OBJECT_OPERATOR","->",42],["T_STRING","willReturn",42],"(","[",["T_CONSTANT_ENCAPSED_STRING","'entity_test:123'",42],"]",")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$entity",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$prophecy",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","reveal",43],"(",")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$row",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","_entity",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$entity",44],";",["T_WHITESPACE","\n\n    ",44],["T_VARIABLE","$result",46],"[","]",["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$row",46],";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$view",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","result",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$result",47],";",["T_WHITESPACE","\n\n    ",47],["T_COMMENT","\/\/ Add a row with an entity and a relationship entity.\n",49],["T_WHITESPACE","    ",50],["T_VARIABLE","$row",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_NEW","new",50],["T_WHITESPACE"," ",50],["T_STRING","ResultRow",50],"(",")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$prophecy",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","prophesize",51],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Entity\\EntityInterface'",51],")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$prophecy",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getCacheTags",52],"(",")",["T_OBJECT_OPERATOR","->",52],["T_STRING","willReturn",52],"(","[",["T_CONSTANT_ENCAPSED_STRING","'entity_test:124'",52],"]",")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$entity",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$prophecy",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","reveal",53],"(",")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$row",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","_entity",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$entity",54],";",["T_WHITESPACE","\n\n    ",54],["T_VARIABLE","$prophecy",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","prophesize",56],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Entity\\EntityInterface'",56],")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$prophecy",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getCacheTags",57],"(",")",["T_OBJECT_OPERATOR","->",57],["T_STRING","willReturn",57],"(","[",["T_CONSTANT_ENCAPSED_STRING","'entity_test:125'",57],"]",")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$entity",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$prophecy",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","reveal",58],"(",")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$row",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","_relationship_entities",59],"[","]",["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$entity",59],";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$prophecy",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","prophesize",60],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Entity\\EntityInterface'",60],")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$prophecy",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getCacheTags",61],"(",")",["T_OBJECT_OPERATOR","->",61],["T_STRING","willReturn",61],"(","[",["T_CONSTANT_ENCAPSED_STRING","'entity_test:126'",61],"]",")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$entity",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$prophecy",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","reveal",62],"(",")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$row",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","_relationship_entities",63],"[","]",["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$entity",63],";",["T_WHITESPACE","\n\n    ",63],["T_VARIABLE","$result",65],"[","]",["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$row",65],";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$view",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","result",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$result",66],";",["T_WHITESPACE","\n\n    ",66],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","assertEquals",68],"(","[",["T_CONSTANT_ENCAPSED_STRING","'entity_test:123'",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'entity_test:124'",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'entity_test:125'",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'entity_test:126'",68],"]",",",["T_WHITESPACE"," ",68],["T_VARIABLE","$query",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getCacheTags",68],"(",")",")",";",["T_WHITESPACE","\n  ",68],"}",["T_WHITESPACE","\n\n  ",69],["T_DOC_COMMENT","\/**\n   * @covers ::getCacheTags\n   * @covers ::getAllEntities\n   *\/",71],["T_WHITESPACE","\n  ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","testGetCacheMaxAge",75],"(",")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$view",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","prophesize",76],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\views\\ViewExecutable'",76],")",["T_OBJECT_OPERATOR","->",76],["T_STRING","reveal",76],"(",")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$entity_type_manager",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","prophesize",77],"(",["T_STRING","EntityTypeManagerInterface",77],["T_DOUBLE_COLON","::",77],["T_CLASS","class",77],")",";",["T_WHITESPACE","\n\n    ",77],["T_VARIABLE","$query",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_NEW","new",79],["T_WHITESPACE"," ",79],["T_STRING","Sql",79],"(","[","]",",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'sql'",79],",",["T_WHITESPACE"," ",79],"[","]",",",["T_WHITESPACE"," ",79],["T_VARIABLE","$entity_type_manager",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","reveal",79],"(",")",")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$query",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","view",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$view",80],";",["T_WHITESPACE","\n\n    ",80],["T_VARIABLE","$view",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","result",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],"[","]",";",["T_WHITESPACE","\n\n    ",82],["T_COMMENT","\/\/ Add a row with an entity.\n",84],["T_WHITESPACE","    ",85],["T_VARIABLE","$row",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_NEW","new",85],["T_WHITESPACE"," ",85],["T_STRING","ResultRow",85],"(",")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$prophecy",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","prophesize",86],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Entity\\EntityInterface'",86],")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$prophecy",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getCacheMaxAge",87],"(",")",["T_OBJECT_OPERATOR","->",87],["T_STRING","willReturn",87],"(",["T_LNUMBER","10",87],")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$entity",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$prophecy",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","reveal",88],"(",")",";",["T_WHITESPACE","\n\n    ",88],["T_VARIABLE","$row",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_entity",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$entity",90],";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$view",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","result",91],"[","]",["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$row",91],";",["T_WHITESPACE","\n\n    ",91],["T_COMMENT","\/\/ Add a row with an entity and a relationship entity.\n",93],["T_WHITESPACE","    ",94],["T_VARIABLE","$row",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_NEW","new",94],["T_WHITESPACE"," ",94],["T_STRING","ResultRow",94],"(",")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$prophecy",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","prophesize",95],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Entity\\EntityInterface'",95],")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$prophecy",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getCacheMaxAge",96],"(",")",["T_OBJECT_OPERATOR","->",96],["T_STRING","willReturn",96],"(",["T_LNUMBER","20",96],")",";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$entity",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$prophecy",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","reveal",97],"(",")",";",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$row",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_entity",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$entity",98],";",["T_WHITESPACE","\n\n    ",98],["T_VARIABLE","$prophecy",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","prophesize",100],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Entity\\EntityInterface'",100],")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$prophecy",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getCacheMaxAge",101],"(",")",["T_OBJECT_OPERATOR","->",101],["T_STRING","willReturn",101],"(",["T_LNUMBER","30",101],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$entity",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$prophecy",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","reveal",102],"(",")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$row",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","_relationship_entities",103],"[","]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$entity",103],";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$prophecy",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","prophesize",104],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Entity\\EntityInterface'",104],")",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$prophecy",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getCacheMaxAge",105],"(",")",["T_OBJECT_OPERATOR","->",105],["T_STRING","willReturn",105],"(",["T_LNUMBER","40",105],")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$entity",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$prophecy",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","reveal",106],"(",")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$row",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","_relationship_entities",107],"[","]",["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$entity",107],";",["T_WHITESPACE","\n\n    ",107],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertEquals",109],"(",["T_LNUMBER","10",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$query",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getCacheMaxAge",109],"(",")",")",";",["T_WHITESPACE","\n  ",109],"}",["T_WHITESPACE","\n\n  ",110],["T_DOC_COMMENT","\/**\n   * Sets up the views data in the container.\n   *\n   * @param \\Drupal\\views\\ViewsData $views_data\n   *   The views data.\n   *\/",112],["T_WHITESPACE","\n  ",117],["T_PROTECTED","protected",118],["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","setupViewsData",118],"(",["T_STRING","ViewsData",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$views_data",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$container",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Drupal",119],["T_DOUBLE_COLON","::",119],["T_STRING","hasContainer",119],"(",")",["T_WHITESPACE"," ",119],"?",["T_WHITESPACE"," ",119],["T_NS_SEPARATOR","\\",119],["T_STRING","Drupal",119],["T_DOUBLE_COLON","::",119],["T_STRING","getContainer",119],"(",")",["T_WHITESPACE"," ",119],":",["T_WHITESPACE"," ",119],["T_NEW","new",119],["T_WHITESPACE"," ",119],["T_STRING","ContainerBuilder",119],"(",")",";",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$container",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","set",120],"(",["T_CONSTANT_ENCAPSED_STRING","'views.views_data'",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$views_data",120],")",";",["T_WHITESPACE","\n    ",120],["T_NS_SEPARATOR","\\",121],["T_STRING","Drupal",121],["T_DOUBLE_COLON","::",121],["T_STRING","setContainer",121],"(",["T_VARIABLE","$container",121],")",";",["T_WHITESPACE","\n  ",121],"}",["T_WHITESPACE","\n\n  ",122],["T_DOC_COMMENT","\/**\n   * Sets up the entity type manager in the container.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityTypeManagerInterface $entity_type_manager\n   *   The entity type manager.\n   *\/",124],["T_WHITESPACE","\n  ",129],["T_PROTECTED","protected",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","setupEntityTypeManager",130],"(",["T_STRING","EntityTypeManagerInterface",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$entity_type_manager",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$container",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Drupal",131],["T_DOUBLE_COLON","::",131],["T_STRING","hasContainer",131],"(",")",["T_WHITESPACE"," ",131],"?",["T_WHITESPACE"," ",131],["T_NS_SEPARATOR","\\",131],["T_STRING","Drupal",131],["T_DOUBLE_COLON","::",131],["T_STRING","getContainer",131],"(",")",["T_WHITESPACE"," ",131],":",["T_WHITESPACE"," ",131],["T_NEW","new",131],["T_WHITESPACE"," ",131],["T_STRING","ContainerBuilder",131],"(",")",";",["T_WHITESPACE","\n    ",131],["T_VARIABLE","$container",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","set",132],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$entity_type_manager",132],")",";",["T_WHITESPACE","\n    ",132],["T_VARIABLE","$container",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","set",133],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$entity_type_manager",133],")",";",["T_WHITESPACE","\n    ",133],["T_NS_SEPARATOR","\\",134],["T_STRING","Drupal",134],["T_DOUBLE_COLON","::",134],["T_STRING","setContainer",134],"(",["T_VARIABLE","$container",134],")",";",["T_WHITESPACE","\n  ",134],"}",["T_WHITESPACE","\n\n  ",135],["T_DOC_COMMENT","\/**\n   * Sets up some test entity types and corresponding views data.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityInterface[][] $entities_by_type\n   *   Test entities keyed by entity type and entity ID.\n   * @param \\Drupal\\Core\\Entity\\EntityInterface[][] $entities_by_type\n   *   Test entities keyed by entity type and revision ID.\n   *\n   * @return \\Prophecy\\Prophecy\\ObjectProphecy\n   *\/",137],["T_WHITESPACE","\n  ",146],["T_PROTECTED","protected",147],["T_WHITESPACE"," ",147],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","setupEntityTypes",147],"(",["T_VARIABLE","$entities_by_type",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],"[","]",",",["T_WHITESPACE"," ",147],["T_VARIABLE","$entity_revisions_by_type",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],"[","]",")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n    ",147],["T_VARIABLE","$entity_type_manager",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","prophesize",148],"(",["T_STRING","EntityTypeManagerInterface",148],["T_DOUBLE_COLON","::",148],["T_CLASS","class",148],")",";",["T_WHITESPACE","\n    ",148],["T_VARIABLE","$entity_type0",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_NEW","new",149],["T_WHITESPACE"," ",149],["T_STRING","EntityType",149],"(","[",["T_WHITESPACE","\n      ",149],["T_CONSTANT_ENCAPSED_STRING","'label'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'First'",150],",",["T_WHITESPACE","\n      ",150],["T_CONSTANT_ENCAPSED_STRING","'id'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'first'",151],",",["T_WHITESPACE","\n      ",151],["T_CONSTANT_ENCAPSED_STRING","'base_table'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'entity_first'",152],",",["T_WHITESPACE","\n      ",152],["T_CONSTANT_ENCAPSED_STRING","'revision_table'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'entity_first__revision'",153],",",["T_WHITESPACE","\n      ",153],["T_CONSTANT_ENCAPSED_STRING","'entity_keys'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],"[",["T_WHITESPACE","\n        ",154],["T_CONSTANT_ENCAPSED_STRING","'id'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'id'",155],",",["T_WHITESPACE","\n        ",155],["T_CONSTANT_ENCAPSED_STRING","'revision'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'vid'",156],",",["T_WHITESPACE","\n      ",156],"]",",",["T_WHITESPACE","\n    ",157],"]",")",";",["T_WHITESPACE","\n    ",158],["T_VARIABLE","$entity_type1",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_NEW","new",159],["T_WHITESPACE"," ",159],["T_STRING","EntityType",159],"(","[",["T_WHITESPACE","\n      ",159],["T_CONSTANT_ENCAPSED_STRING","'label'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'second'",160],",",["T_WHITESPACE","\n      ",160],["T_CONSTANT_ENCAPSED_STRING","'id'",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'second'",161],",",["T_WHITESPACE","\n      ",161],["T_CONSTANT_ENCAPSED_STRING","'base_table'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'entity_second'",162],",",["T_WHITESPACE","\n      ",162],["T_CONSTANT_ENCAPSED_STRING","'revision_table'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'entity_second__revision'",163],",",["T_WHITESPACE","\n      ",163],["T_CONSTANT_ENCAPSED_STRING","'entity_keys'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],"[",["T_WHITESPACE","\n        ",164],["T_CONSTANT_ENCAPSED_STRING","'id'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'id'",165],",",["T_WHITESPACE","\n        ",165],["T_CONSTANT_ENCAPSED_STRING","'revision'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'vid'",166],",",["T_WHITESPACE","\n      ",166],"]",",",["T_WHITESPACE","\n    ",167],"]",")",";",["T_WHITESPACE","\n\n    ",168],["T_VARIABLE","$entity_type_manager",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getDefinitions",170],"(",")",["T_OBJECT_OPERATOR","->",170],["T_STRING","willReturn",170],"(","[",["T_WHITESPACE","\n      ",170],["T_CONSTANT_ENCAPSED_STRING","'first'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$entity_type0",171],",",["T_WHITESPACE","\n      ",171],["T_CONSTANT_ENCAPSED_STRING","'second'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$entity_type1",172],",",["T_WHITESPACE","\n      ",172],["T_CONSTANT_ENCAPSED_STRING","'base_table'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'entity_second'",173],",",["T_WHITESPACE","\n    ",173],"]",")",";",["T_WHITESPACE","\n\n    ",174],["T_VARIABLE","$entity_type_manager",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getDefinition",176],"(",["T_CONSTANT_ENCAPSED_STRING","'first'",176],")",["T_OBJECT_OPERATOR","->",176],["T_STRING","willReturn",176],"(",["T_VARIABLE","$entity_type0",176],")",";",["T_WHITESPACE","\n    ",176],["T_VARIABLE","$entity_type_manager",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getDefinition",177],"(",["T_CONSTANT_ENCAPSED_STRING","'second'",177],")",["T_OBJECT_OPERATOR","->",177],["T_STRING","willReturn",177],"(",["T_VARIABLE","$entity_type1",177],")",";",["T_WHITESPACE","\n\n    ",177],["T_COMMENT","\/\/ Setup the views data corresponding to the entity types.\n",179],["T_WHITESPACE","    ",180],["T_VARIABLE","$views_data",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","prophesize",180],"(",["T_STRING","ViewsData",180],["T_DOUBLE_COLON","::",180],["T_CLASS","class",180],")",";",["T_WHITESPACE","\n    ",180],["T_VARIABLE","$views_data",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","get",181],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_first'",181],")",["T_OBJECT_OPERATOR","->",181],["T_STRING","willReturn",181],"(","[",["T_WHITESPACE","\n      ",181],["T_CONSTANT_ENCAPSED_STRING","'table'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],"[",["T_WHITESPACE","\n        ",182],["T_CONSTANT_ENCAPSED_STRING","'entity type'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'first'",183],",",["T_WHITESPACE","\n        ",183],["T_CONSTANT_ENCAPSED_STRING","'entity revision'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_STRING","FALSE",184],",",["T_WHITESPACE","\n      ",184],"]",",",["T_WHITESPACE","\n    ",185],"]",")",";",["T_WHITESPACE","\n    ",186],["T_VARIABLE","$views_data",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","get",187],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_first__revision'",187],")",["T_OBJECT_OPERATOR","->",187],["T_STRING","willReturn",187],"(","[",["T_WHITESPACE","\n      ",187],["T_CONSTANT_ENCAPSED_STRING","'table'",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],"[",["T_WHITESPACE","\n        ",188],["T_CONSTANT_ENCAPSED_STRING","'entity type'",189],["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'first'",189],",",["T_WHITESPACE","\n        ",189],["T_CONSTANT_ENCAPSED_STRING","'entity revision'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_STRING","TRUE",190],",",["T_WHITESPACE","\n      ",190],"]",",",["T_WHITESPACE","\n    ",191],"]",")",";",["T_WHITESPACE","\n    ",192],["T_VARIABLE","$views_data",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","get",193],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_second'",193],")",["T_OBJECT_OPERATOR","->",193],["T_STRING","willReturn",193],"(","[",["T_WHITESPACE","\n      ",193],["T_CONSTANT_ENCAPSED_STRING","'table'",194],["T_WHITESPACE"," ",194],["T_DOUBLE_ARROW","=>",194],["T_WHITESPACE"," ",194],"[",["T_WHITESPACE","\n        ",194],["T_CONSTANT_ENCAPSED_STRING","'entity type'",195],["T_WHITESPACE"," ",195],["T_DOUBLE_ARROW","=>",195],["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","'second'",195],",",["T_WHITESPACE","\n        ",195],["T_CONSTANT_ENCAPSED_STRING","'entity revision'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_STRING","FALSE",196],",",["T_WHITESPACE","\n      ",196],"]",",",["T_WHITESPACE","\n    ",197],"]",")",";",["T_WHITESPACE","\n    ",198],["T_VARIABLE","$views_data",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","get",199],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_second__revision'",199],")",["T_OBJECT_OPERATOR","->",199],["T_STRING","willReturn",199],"(","[",["T_WHITESPACE","\n      ",199],["T_CONSTANT_ENCAPSED_STRING","'table'",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],"[",["T_WHITESPACE","\n        ",200],["T_CONSTANT_ENCAPSED_STRING","'entity type'",201],["T_WHITESPACE"," ",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'second'",201],",",["T_WHITESPACE","\n        ",201],["T_CONSTANT_ENCAPSED_STRING","'entity revision'",202],["T_WHITESPACE"," ",202],["T_DOUBLE_ARROW","=>",202],["T_WHITESPACE"," ",202],["T_STRING","TRUE",202],",",["T_WHITESPACE","\n      ",202],"]",",",["T_WHITESPACE","\n    ",203],"]",")",";",["T_WHITESPACE","\n    ",204],["T_VARIABLE","$views_data",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","get",205],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_first_field_data'",205],")",["T_OBJECT_OPERATOR","->",205],["T_STRING","willReturn",205],"(","[",["T_WHITESPACE","\n      ",205],["T_CONSTANT_ENCAPSED_STRING","'table'",206],["T_WHITESPACE"," ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],"[",["T_WHITESPACE","\n        ",206],["T_CONSTANT_ENCAPSED_STRING","'entity type'",207],["T_WHITESPACE"," ",207],["T_DOUBLE_ARROW","=>",207],["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'first'",207],",",["T_WHITESPACE","\n        ",207],["T_CONSTANT_ENCAPSED_STRING","'entity revision'",208],["T_WHITESPACE"," ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],["T_STRING","FALSE",208],",",["T_WHITESPACE","\n      ",208],"]",",",["T_WHITESPACE","\n    ",209],"]",")",";",["T_WHITESPACE","\n    ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","setupViewsData",211],"(",["T_VARIABLE","$views_data",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","reveal",211],"(",")",")",";",["T_WHITESPACE","\n\n    ",211],["T_COMMENT","\/\/ Setup the loading of entities and entity revisions.\n",213],["T_WHITESPACE","    ",214],["T_VARIABLE","$entity_storages",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],"[",["T_WHITESPACE","\n      ",214],["T_CONSTANT_ENCAPSED_STRING","'first'",215],["T_WHITESPACE"," ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","prophesize",215],"(",["T_STRING","EntityStorageInterface",215],["T_DOUBLE_COLON","::",215],["T_CLASS","class",215],")",",",["T_WHITESPACE","\n      ",215],["T_CONSTANT_ENCAPSED_STRING","'second'",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","prophesize",216],"(",["T_STRING","EntityStorageInterface",216],["T_DOUBLE_COLON","::",216],["T_CLASS","class",216],")",",",["T_WHITESPACE","\n    ",216],"]",";",["T_WHITESPACE","\n\n    ",217],["T_FOREACH","foreach",219],["T_WHITESPACE"," ",219],"(",["T_VARIABLE","$entities_by_type",219],["T_WHITESPACE"," ",219],["T_AS","as",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$entity_type_id",219],["T_WHITESPACE"," ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$entities",219],")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n      ",219],["T_FOREACH","foreach",220],["T_WHITESPACE"," ",220],"(",["T_VARIABLE","$entities",220],["T_WHITESPACE"," ",220],["T_AS","as",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$entity_id",220],["T_WHITESPACE"," ",220],["T_DOUBLE_ARROW","=>",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$entity",220],")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$entity_storages",221],"[",["T_VARIABLE","$entity_type_id",221],"]",["T_OBJECT_OPERATOR","->",221],["T_STRING","load",221],"(",["T_VARIABLE","$entity_id",221],")",["T_OBJECT_OPERATOR","->",221],["T_STRING","willReturn",221],"(",["T_VARIABLE","$entity",221],")",";",["T_WHITESPACE","\n      ",221],"}",["T_WHITESPACE","\n      ",222],["T_VARIABLE","$entity_storages",223],"[",["T_VARIABLE","$entity_type_id",223],"]",["T_OBJECT_OPERATOR","->",223],["T_STRING","loadMultiple",223],"(",["T_STRING","array_keys",223],"(",["T_VARIABLE","$entities",223],")",")",["T_OBJECT_OPERATOR","->",223],["T_STRING","willReturn",223],"(",["T_VARIABLE","$entities",223],")",";",["T_WHITESPACE","\n    ",223],"}",["T_WHITESPACE","\n\n    ",224],["T_FOREACH","foreach",226],["T_WHITESPACE"," ",226],"(",["T_VARIABLE","$entity_revisions_by_type",226],["T_WHITESPACE"," ",226],["T_AS","as",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$entity_type_id",226],["T_WHITESPACE"," ",226],["T_DOUBLE_ARROW","=>",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$entity_revisions",226],")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n      ",226],["T_FOREACH","foreach",227],["T_WHITESPACE"," ",227],"(",["T_VARIABLE","$entity_revisions",227],["T_WHITESPACE"," ",227],["T_AS","as",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$revision_id",227],["T_WHITESPACE"," ",227],["T_DOUBLE_ARROW","=>",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$revision",227],")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$entity_storages",228],"[",["T_VARIABLE","$entity_type_id",228],"]",["T_OBJECT_OPERATOR","->",228],["T_STRING","loadRevision",228],"(",["T_VARIABLE","$revision_id",228],")",["T_OBJECT_OPERATOR","->",228],["T_STRING","willReturn",228],"(",["T_VARIABLE","$revision",228],")",";",["T_WHITESPACE","\n      ",228],"}",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n\n    ",230],["T_VARIABLE","$entity_type_manager",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","getStorage",232],"(",["T_CONSTANT_ENCAPSED_STRING","'first'",232],")",["T_OBJECT_OPERATOR","->",232],["T_STRING","willReturn",232],"(",["T_VARIABLE","$entity_storages",232],"[",["T_CONSTANT_ENCAPSED_STRING","'first'",232],"]",")",";",["T_WHITESPACE","\n    ",232],["T_VARIABLE","$entity_type_manager",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getStorage",233],"(",["T_CONSTANT_ENCAPSED_STRING","'second'",233],")",["T_OBJECT_OPERATOR","->",233],["T_STRING","willReturn",233],"(",["T_VARIABLE","$entity_storages",233],"[",["T_CONSTANT_ENCAPSED_STRING","'second'",233],"]",")",";",["T_WHITESPACE","\n\n    ",233],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","setupEntityTypeManager",235],"(",["T_VARIABLE","$entity_type_manager",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","reveal",235],"(",")",")",";",["T_WHITESPACE","\n\n    ",235],["T_RETURN","return",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$entity_type_manager",237],";",["T_WHITESPACE","\n  ",237],"}",["T_WHITESPACE","\n\n  ",238],["T_DOC_COMMENT","\/**\n   * @covers ::loadEntities\n   * @covers ::assignEntitiesToResult\n   *\/",240],["T_WHITESPACE","\n  ",243],["T_PUBLIC","public",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","testLoadEntitiesWithEmptyResult",244],"(",")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n    ",244],["T_VARIABLE","$view",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","prophesize",245],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\views\\ViewExecutable'",245],")",["T_OBJECT_OPERATOR","->",245],["T_STRING","reveal",245],"(",")",";",["T_WHITESPACE","\n    ",245],["T_VARIABLE","$view_entity",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","prophesize",246],"(",["T_STRING","ViewEntityInterface",246],["T_DOUBLE_COLON","::",246],["T_CLASS","class",246],")",";",["T_WHITESPACE","\n    ",246],["T_VARIABLE","$view_entity",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","get",247],"(",["T_CONSTANT_ENCAPSED_STRING","'base_table'",247],")",["T_OBJECT_OPERATOR","->",247],["T_STRING","willReturn",247],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_first'",247],")",";",["T_WHITESPACE","\n    ",247],["T_VARIABLE","$view_entity",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","get",248],"(",["T_CONSTANT_ENCAPSED_STRING","'base_field'",248],")",["T_OBJECT_OPERATOR","->",248],["T_STRING","willReturn",248],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",248],")",";",["T_WHITESPACE","\n    ",248],["T_VARIABLE","$view",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","storage",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$view_entity",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","reveal",249],"(",")",";",["T_WHITESPACE","\n\n    ",249],["T_VARIABLE","$entity_type_manager",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","setupEntityTypes",251],"(",")",";",["T_WHITESPACE","\n\n    ",251],["T_VARIABLE","$query",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_NEW","new",253],["T_WHITESPACE"," ",253],["T_STRING","Sql",253],"(","[","]",",",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'sql'",253],",",["T_WHITESPACE"," ",253],"[","]",",",["T_WHITESPACE"," ",253],["T_VARIABLE","$entity_type_manager",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","reveal",253],"(",")",")",";",["T_WHITESPACE","\n    ",253],["T_VARIABLE","$query",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","view",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$view",254],";",["T_WHITESPACE","\n\n    ",254],["T_VARIABLE","$result",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],"[","]",";",["T_WHITESPACE","\n    ",256],["T_VARIABLE","$query",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","addField",257],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_first'",257],",",["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'id'",257],",",["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'id'",257],")",";",["T_WHITESPACE","\n    ",257],["T_VARIABLE","$query",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","loadEntities",258],"(",["T_VARIABLE","$result",258],")",";",["T_WHITESPACE","\n    ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","assertEmpty",259],"(",["T_VARIABLE","$result",259],")",";",["T_WHITESPACE","\n  ",259],"}",["T_WHITESPACE","\n\n  ",260],["T_DOC_COMMENT","\/**\n   * @covers ::loadEntities\n   * @covers ::assignEntitiesToResult\n   *\/",262],["T_WHITESPACE","\n  ",265],["T_PUBLIC","public",266],["T_WHITESPACE"," ",266],["T_FUNCTION","function",266],["T_WHITESPACE"," ",266],["T_STRING","testLoadEntitiesWithNoRelationshipAndNoRevision",266],"(",")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n    ",266],["T_VARIABLE","$view",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","prophesize",267],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\views\\ViewExecutable'",267],")",["T_OBJECT_OPERATOR","->",267],["T_STRING","reveal",267],"(",")",";",["T_WHITESPACE","\n    ",267],["T_VARIABLE","$view_entity",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","prophesize",268],"(",["T_STRING","ViewEntityInterface",268],["T_DOUBLE_COLON","::",268],["T_CLASS","class",268],")",";",["T_WHITESPACE","\n    ",268],["T_VARIABLE","$view_entity",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","get",269],"(",["T_CONSTANT_ENCAPSED_STRING","'base_table'",269],")",["T_OBJECT_OPERATOR","->",269],["T_STRING","willReturn",269],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_first'",269],")",";",["T_WHITESPACE","\n    ",269],["T_VARIABLE","$view_entity",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","get",270],"(",["T_CONSTANT_ENCAPSED_STRING","'base_field'",270],")",["T_OBJECT_OPERATOR","->",270],["T_STRING","willReturn",270],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",270],")",";",["T_WHITESPACE","\n    ",270],["T_VARIABLE","$view",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","storage",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$view_entity",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","reveal",271],"(",")",";",["T_WHITESPACE","\n\n    ",271],["T_VARIABLE","$entities",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],"[",["T_WHITESPACE","\n      ",273],["T_CONSTANT_ENCAPSED_STRING","'first'",274],["T_WHITESPACE"," ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],"[",["T_WHITESPACE","\n        ",274],["T_LNUMBER","1",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","prophesize",275],"(",["T_STRING","EntityInterface",275],["T_DOUBLE_COLON","::",275],["T_CLASS","class",275],")",["T_OBJECT_OPERATOR","->",275],["T_STRING","reveal",275],"(",")",",",["T_WHITESPACE","\n        ",275],["T_LNUMBER","2",276],["T_WHITESPACE"," ",276],["T_DOUBLE_ARROW","=>",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","prophesize",276],"(",["T_STRING","EntityInterface",276],["T_DOUBLE_COLON","::",276],["T_CLASS","class",276],")",["T_OBJECT_OPERATOR","->",276],["T_STRING","reveal",276],"(",")",",",["T_WHITESPACE","\n      ",276],"]",",",["T_WHITESPACE","\n    ",277],"]",";",["T_WHITESPACE","\n    ",278],["T_VARIABLE","$entity_type_manager",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","setupEntityTypes",279],"(",["T_VARIABLE","$entities",279],")",";",["T_WHITESPACE","\n\n    ",279],["T_VARIABLE","$query",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_NEW","new",281],["T_WHITESPACE"," ",281],["T_STRING","Sql",281],"(","[","]",",",["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","'sql'",281],",",["T_WHITESPACE"," ",281],"[","]",",",["T_WHITESPACE"," ",281],["T_VARIABLE","$entity_type_manager",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","reveal",281],"(",")",")",";",["T_WHITESPACE","\n    ",281],["T_VARIABLE","$query",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","view",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_VARIABLE","$view",282],";",["T_WHITESPACE","\n\n    ",282],["T_VARIABLE","$result",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],"[","]",";",["T_WHITESPACE","\n    ",284],["T_VARIABLE","$result",285],"[","]",["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_NEW","new",285],["T_WHITESPACE"," ",285],["T_STRING","ResultRow",285],"(","[",["T_WHITESPACE","\n      ",285],["T_CONSTANT_ENCAPSED_STRING","'id'",286],["T_WHITESPACE"," ",286],["T_DOUBLE_ARROW","=>",286],["T_WHITESPACE"," ",286],["T_LNUMBER","1",286],",",["T_WHITESPACE","\n    ",286],"]",")",";",["T_WHITESPACE","\n    ",287],["T_COMMENT","\/\/ Note: Let the same entity be returned multiple times, for example to\n",288],["T_WHITESPACE","    ",289],["T_COMMENT","\/\/ support the translation usecase.\n",289],["T_WHITESPACE","    ",290],["T_VARIABLE","$result",290],"[","]",["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_NEW","new",290],["T_WHITESPACE"," ",290],["T_STRING","ResultRow",290],"(","[",["T_WHITESPACE","\n      ",290],["T_CONSTANT_ENCAPSED_STRING","'id'",291],["T_WHITESPACE"," ",291],["T_DOUBLE_ARROW","=>",291],["T_WHITESPACE"," ",291],["T_LNUMBER","2",291],",",["T_WHITESPACE","\n    ",291],"]",")",";",["T_WHITESPACE","\n    ",292],["T_VARIABLE","$result",293],"[","]",["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_NEW","new",293],["T_WHITESPACE"," ",293],["T_STRING","ResultRow",293],"(","[",["T_WHITESPACE","\n      ",293],["T_CONSTANT_ENCAPSED_STRING","'id'",294],["T_WHITESPACE"," ",294],["T_DOUBLE_ARROW","=>",294],["T_WHITESPACE"," ",294],["T_LNUMBER","2",294],",",["T_WHITESPACE","\n    ",294],"]",")",";",["T_WHITESPACE","\n\n    ",295],["T_VARIABLE","$query",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","addField",297],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_first'",297],",",["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","'id'",297],",",["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","'id'",297],")",";",["T_WHITESPACE","\n    ",297],["T_VARIABLE","$query",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","loadEntities",298],"(",["T_VARIABLE","$result",298],")",";",["T_WHITESPACE","\n\n    ",298],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","assertSame",300],"(",["T_VARIABLE","$entities",300],"[",["T_CONSTANT_ENCAPSED_STRING","'first'",300],"]","[",["T_LNUMBER","1",300],"]",",",["T_WHITESPACE"," ",300],["T_VARIABLE","$result",300],"[",["T_LNUMBER","0",300],"]",["T_OBJECT_OPERATOR","->",300],["T_STRING","_entity",300],")",";",["T_WHITESPACE","\n    ",300],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","assertSame",301],"(",["T_VARIABLE","$entities",301],"[",["T_CONSTANT_ENCAPSED_STRING","'first'",301],"]","[",["T_LNUMBER","2",301],"]",",",["T_WHITESPACE"," ",301],["T_VARIABLE","$result",301],"[",["T_LNUMBER","1",301],"]",["T_OBJECT_OPERATOR","->",301],["T_STRING","_entity",301],")",";",["T_WHITESPACE","\n    ",301],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","assertSame",302],"(",["T_VARIABLE","$entities",302],"[",["T_CONSTANT_ENCAPSED_STRING","'first'",302],"]","[",["T_LNUMBER","2",302],"]",",",["T_WHITESPACE"," ",302],["T_VARIABLE","$result",302],"[",["T_LNUMBER","2",302],"]",["T_OBJECT_OPERATOR","->",302],["T_STRING","_entity",302],")",";",["T_WHITESPACE","\n  ",302],"}",["T_WHITESPACE","\n\n  ",303],["T_DOC_COMMENT","\/**\n   * Create a view with a relationship.\n   *\/",305],["T_WHITESPACE","\n  ",307],["T_PROTECTED","protected",308],["T_WHITESPACE"," ",308],["T_FUNCTION","function",308],["T_WHITESPACE"," ",308],["T_STRING","setupViewWithRelationships",308],"(",["T_STRING","ViewExecutable",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$view",308],",",["T_WHITESPACE"," ",308],["T_VARIABLE","$base",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","'entity_second'",308],")",["T_WHITESPACE"," ",308],"{",["T_WHITESPACE","\n    ",308],["T_COMMENT","\/\/ We don't use prophecy, because prophecy enforces methods.\n",309],["T_WHITESPACE","    ",310],["T_VARIABLE","$relationship",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","getMockBuilder",310],"(",["T_STRING","RelationshipPluginBase",310],["T_DOUBLE_COLON","::",310],["T_CLASS","class",310],")",["T_OBJECT_OPERATOR","->",310],["T_STRING","disableOriginalConstructor",310],"(",")",["T_OBJECT_OPERATOR","->",310],["T_STRING","getMock",310],"(",")",";",["T_WHITESPACE","\n    ",310],["T_VARIABLE","$relationship",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","definition",311],"[",["T_CONSTANT_ENCAPSED_STRING","'base'",311],"]",["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_VARIABLE","$base",311],";",["T_WHITESPACE","\n    ",311],["T_VARIABLE","$relationship",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","tableAlias",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_VARIABLE","$base",312],";",["T_WHITESPACE","\n    ",312],["T_VARIABLE","$relationship",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","alias",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_VARIABLE","$base",313],";",["T_WHITESPACE","\n\n    ",313],["T_VARIABLE","$view",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","relationship",315],"[",["T_VARIABLE","$base",315],"]",["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_VARIABLE","$relationship",315],";",["T_WHITESPACE","\n  ",315],"}",["T_WHITESPACE","\n\n  ",316],["T_DOC_COMMENT","\/**\n   * @covers ::loadEntities\n   * @covers ::assignEntitiesToResult\n   *\/",318],["T_WHITESPACE","\n  ",321],["T_PUBLIC","public",322],["T_WHITESPACE"," ",322],["T_FUNCTION","function",322],["T_WHITESPACE"," ",322],["T_STRING","testLoadEntitiesWithRelationship",322],"(",")",["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n    ",322],["T_COMMENT","\/\/ We don't use prophecy, because prophecy enforces methods.\n",323],["T_WHITESPACE","    ",324],["T_VARIABLE","$view",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","getMockBuilder",324],"(",["T_STRING","ViewExecutable",324],["T_DOUBLE_COLON","::",324],["T_CLASS","class",324],")",["T_OBJECT_OPERATOR","->",324],["T_STRING","disableOriginalConstructor",324],"(",")",["T_OBJECT_OPERATOR","->",324],["T_STRING","getMock",324],"(",")",";",["T_WHITESPACE","\n    ",324],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","setupViewWithRelationships",325],"(",["T_VARIABLE","$view",325],")",";",["T_WHITESPACE","\n\n    ",325],["T_VARIABLE","$view_entity",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","prophesize",327],"(",["T_STRING","ViewEntityInterface",327],["T_DOUBLE_COLON","::",327],["T_CLASS","class",327],")",";",["T_WHITESPACE","\n    ",327],["T_VARIABLE","$view_entity",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","get",328],"(",["T_CONSTANT_ENCAPSED_STRING","'base_table'",328],")",["T_OBJECT_OPERATOR","->",328],["T_STRING","willReturn",328],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_first'",328],")",";",["T_WHITESPACE","\n    ",328],["T_VARIABLE","$view_entity",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","get",329],"(",["T_CONSTANT_ENCAPSED_STRING","'base_field'",329],")",["T_OBJECT_OPERATOR","->",329],["T_STRING","willReturn",329],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",329],")",";",["T_WHITESPACE","\n    ",329],["T_VARIABLE","$view",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","storage",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_VARIABLE","$view_entity",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","reveal",330],"(",")",";",["T_WHITESPACE","\n\n    ",330],["T_VARIABLE","$entities",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],"[",["T_WHITESPACE","\n      ",332],["T_CONSTANT_ENCAPSED_STRING","'first'",333],["T_WHITESPACE"," ",333],["T_DOUBLE_ARROW","=>",333],["T_WHITESPACE"," ",333],"[",["T_WHITESPACE","\n        ",333],["T_LNUMBER","1",334],["T_WHITESPACE"," ",334],["T_DOUBLE_ARROW","=>",334],["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","prophesize",334],"(",["T_STRING","EntityInterface",334],["T_DOUBLE_COLON","::",334],["T_CLASS","class",334],")",["T_OBJECT_OPERATOR","->",334],["T_STRING","reveal",334],"(",")",",",["T_WHITESPACE","\n        ",334],["T_LNUMBER","2",335],["T_WHITESPACE"," ",335],["T_DOUBLE_ARROW","=>",335],["T_WHITESPACE"," ",335],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","prophesize",335],"(",["T_STRING","EntityInterface",335],["T_DOUBLE_COLON","::",335],["T_CLASS","class",335],")",["T_OBJECT_OPERATOR","->",335],["T_STRING","reveal",335],"(",")",",",["T_WHITESPACE","\n      ",335],"]",",",["T_WHITESPACE","\n      ",336],["T_CONSTANT_ENCAPSED_STRING","'second'",337],["T_WHITESPACE"," ",337],["T_DOUBLE_ARROW","=>",337],["T_WHITESPACE"," ",337],"[",["T_WHITESPACE","\n        ",337],["T_LNUMBER","11",338],["T_WHITESPACE"," ",338],["T_DOUBLE_ARROW","=>",338],["T_WHITESPACE"," ",338],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","prophesize",338],"(",["T_STRING","EntityInterface",338],["T_DOUBLE_COLON","::",338],["T_CLASS","class",338],")",["T_OBJECT_OPERATOR","->",338],["T_STRING","reveal",338],"(",")",",",["T_WHITESPACE","\n        ",338],["T_LNUMBER","12",339],["T_WHITESPACE"," ",339],["T_DOUBLE_ARROW","=>",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","prophesize",339],"(",["T_STRING","EntityInterface",339],["T_DOUBLE_COLON","::",339],["T_CLASS","class",339],")",["T_OBJECT_OPERATOR","->",339],["T_STRING","reveal",339],"(",")",",",["T_WHITESPACE","\n      ",339],"]",",",["T_WHITESPACE","\n    ",340],"]",";",["T_WHITESPACE","\n    ",341],["T_VARIABLE","$entity_type_manager",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","setupEntityTypes",342],"(",["T_VARIABLE","$entities",342],")",";",["T_WHITESPACE","\n\n    ",342],["T_VARIABLE","$query",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_NEW","new",344],["T_WHITESPACE"," ",344],["T_STRING","Sql",344],"(","[","]",",",["T_WHITESPACE"," ",344],["T_CONSTANT_ENCAPSED_STRING","'sql'",344],",",["T_WHITESPACE"," ",344],"[","]",",",["T_WHITESPACE"," ",344],["T_VARIABLE","$entity_type_manager",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","reveal",344],"(",")",")",";",["T_WHITESPACE","\n    ",344],["T_VARIABLE","$query",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","view",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_VARIABLE","$view",345],";",["T_WHITESPACE","\n\n    ",345],["T_VARIABLE","$result",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],"[","]",";",["T_WHITESPACE","\n    ",347],["T_VARIABLE","$result",348],"[","]",["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_NEW","new",348],["T_WHITESPACE"," ",348],["T_STRING","ResultRow",348],"(","[",["T_WHITESPACE","\n      ",348],["T_CONSTANT_ENCAPSED_STRING","'id'",349],["T_WHITESPACE"," ",349],["T_DOUBLE_ARROW","=>",349],["T_WHITESPACE"," ",349],["T_LNUMBER","1",349],",",["T_WHITESPACE","\n      ",349],["T_CONSTANT_ENCAPSED_STRING","'entity_second__id'",350],["T_WHITESPACE"," ",350],["T_DOUBLE_ARROW","=>",350],["T_WHITESPACE"," ",350],["T_LNUMBER","11",350],",",["T_WHITESPACE","\n    ",350],"]",")",";",["T_WHITESPACE","\n    ",351],["T_COMMENT","\/\/ Provide an explicit NULL value, to test the case of a non required\n",352],["T_WHITESPACE","    ",353],["T_COMMENT","\/\/ relationship.\n",353],["T_WHITESPACE","    ",354],["T_VARIABLE","$result",354],"[","]",["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_NEW","new",354],["T_WHITESPACE"," ",354],["T_STRING","ResultRow",354],"(","[",["T_WHITESPACE","\n      ",354],["T_CONSTANT_ENCAPSED_STRING","'id'",355],["T_WHITESPACE"," ",355],["T_DOUBLE_ARROW","=>",355],["T_WHITESPACE"," ",355],["T_LNUMBER","2",355],",",["T_WHITESPACE","\n      ",355],["T_CONSTANT_ENCAPSED_STRING","'entity_second__id'",356],["T_WHITESPACE"," ",356],["T_DOUBLE_ARROW","=>",356],["T_WHITESPACE"," ",356],["T_STRING","NULL",356],",",["T_WHITESPACE","\n    ",356],"]",")",";",["T_WHITESPACE","\n    ",357],["T_VARIABLE","$result",358],"[","]",["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_NEW","new",358],["T_WHITESPACE"," ",358],["T_STRING","ResultRow",358],"(","[",["T_WHITESPACE","\n      ",358],["T_CONSTANT_ENCAPSED_STRING","'id'",359],["T_WHITESPACE"," ",359],["T_DOUBLE_ARROW","=>",359],["T_WHITESPACE"," ",359],["T_LNUMBER","2",359],",",["T_WHITESPACE","\n      ",359],["T_CONSTANT_ENCAPSED_STRING","'entity_second__id'",360],["T_WHITESPACE"," ",360],["T_DOUBLE_ARROW","=>",360],["T_WHITESPACE"," ",360],["T_LNUMBER","12",360],",",["T_WHITESPACE","\n    ",360],"]",")",";",["T_WHITESPACE","\n\n    ",361],["T_VARIABLE","$query",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","addField",363],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_first'",363],",",["T_WHITESPACE"," ",363],["T_CONSTANT_ENCAPSED_STRING","'id'",363],",",["T_WHITESPACE"," ",363],["T_CONSTANT_ENCAPSED_STRING","'id'",363],")",";",["T_WHITESPACE","\n    ",363],["T_VARIABLE","$query",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","addField",364],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_second'",364],",",["T_WHITESPACE"," ",364],["T_CONSTANT_ENCAPSED_STRING","'id'",364],",",["T_WHITESPACE"," ",364],["T_CONSTANT_ENCAPSED_STRING","'entity_second__id'",364],")",";",["T_WHITESPACE","\n    ",364],["T_VARIABLE","$query",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","loadEntities",365],"(",["T_VARIABLE","$result",365],")",";",["T_WHITESPACE","\n\n    ",365],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","assertSame",367],"(",["T_VARIABLE","$entities",367],"[",["T_CONSTANT_ENCAPSED_STRING","'first'",367],"]","[",["T_LNUMBER","1",367],"]",",",["T_WHITESPACE"," ",367],["T_VARIABLE","$result",367],"[",["T_LNUMBER","0",367],"]",["T_OBJECT_OPERATOR","->",367],["T_STRING","_entity",367],")",";",["T_WHITESPACE","\n    ",367],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","assertSame",368],"(",["T_VARIABLE","$entities",368],"[",["T_CONSTANT_ENCAPSED_STRING","'first'",368],"]","[",["T_LNUMBER","2",368],"]",",",["T_WHITESPACE"," ",368],["T_VARIABLE","$result",368],"[",["T_LNUMBER","1",368],"]",["T_OBJECT_OPERATOR","->",368],["T_STRING","_entity",368],")",";",["T_WHITESPACE","\n    ",368],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","assertSame",369],"(",["T_VARIABLE","$entities",369],"[",["T_CONSTANT_ENCAPSED_STRING","'first'",369],"]","[",["T_LNUMBER","2",369],"]",",",["T_WHITESPACE"," ",369],["T_VARIABLE","$result",369],"[",["T_LNUMBER","2",369],"]",["T_OBJECT_OPERATOR","->",369],["T_STRING","_entity",369],")",";",["T_WHITESPACE","\n\n    ",369],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","assertSame",371],"(",["T_VARIABLE","$entities",371],"[",["T_CONSTANT_ENCAPSED_STRING","'second'",371],"]","[",["T_LNUMBER","11",371],"]",",",["T_WHITESPACE"," ",371],["T_VARIABLE","$result",371],"[",["T_LNUMBER","0",371],"]",["T_OBJECT_OPERATOR","->",371],["T_STRING","_relationship_entities",371],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_second'",371],"]",")",";",["T_WHITESPACE","\n    ",371],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","assertEquals",372],"(","[","]",",",["T_WHITESPACE"," ",372],["T_VARIABLE","$result",372],"[",["T_LNUMBER","1",372],"]",["T_OBJECT_OPERATOR","->",372],["T_STRING","_relationship_entities",372],")",";",["T_WHITESPACE","\n    ",372],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","assertSame",373],"(",["T_VARIABLE","$entities",373],"[",["T_CONSTANT_ENCAPSED_STRING","'second'",373],"]","[",["T_LNUMBER","12",373],"]",",",["T_WHITESPACE"," ",373],["T_VARIABLE","$result",373],"[",["T_LNUMBER","2",373],"]",["T_OBJECT_OPERATOR","->",373],["T_STRING","_relationship_entities",373],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_second'",373],"]",")",";",["T_WHITESPACE","\n  ",373],"}",["T_WHITESPACE","\n\n  ",374],["T_DOC_COMMENT","\/**\n   * @covers ::loadEntities\n   * @covers ::assignEntitiesToResult\n   *\/",376],["T_WHITESPACE","\n  ",379],["T_PUBLIC","public",380],["T_WHITESPACE"," ",380],["T_FUNCTION","function",380],["T_WHITESPACE"," ",380],["T_STRING","testLoadEntitiesWithNonEntityRelationship",380],"(",")",["T_WHITESPACE"," ",380],"{",["T_WHITESPACE","\n    ",380],["T_COMMENT","\/\/ We don't use prophecy, because prophecy enforces methods.\n",381],["T_WHITESPACE","    ",382],["T_VARIABLE","$view",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","getMockBuilder",382],"(",["T_STRING","ViewExecutable",382],["T_DOUBLE_COLON","::",382],["T_CLASS","class",382],")",["T_OBJECT_OPERATOR","->",382],["T_STRING","disableOriginalConstructor",382],"(",")",["T_OBJECT_OPERATOR","->",382],["T_STRING","getMock",382],"(",")",";",["T_WHITESPACE","\n    ",382],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","setupViewWithRelationships",383],"(",["T_VARIABLE","$view",383],",",["T_WHITESPACE"," ",383],["T_CONSTANT_ENCAPSED_STRING","'entity_first_field_data'",383],")",";",["T_WHITESPACE","\n\n    ",383],["T_VARIABLE","$view_entity",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","prophesize",385],"(",["T_STRING","ViewEntityInterface",385],["T_DOUBLE_COLON","::",385],["T_CLASS","class",385],")",";",["T_WHITESPACE","\n    ",385],["T_VARIABLE","$view_entity",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","get",386],"(",["T_CONSTANT_ENCAPSED_STRING","'base_table'",386],")",["T_OBJECT_OPERATOR","->",386],["T_STRING","willReturn",386],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_first'",386],")",";",["T_WHITESPACE","\n    ",386],["T_VARIABLE","$view_entity",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","get",387],"(",["T_CONSTANT_ENCAPSED_STRING","'base_field'",387],")",["T_OBJECT_OPERATOR","->",387],["T_STRING","willReturn",387],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",387],")",";",["T_WHITESPACE","\n    ",387],["T_VARIABLE","$view",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","storage",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_VARIABLE","$view_entity",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","reveal",388],"(",")",";",["T_WHITESPACE","\n\n    ",388],["T_VARIABLE","$entities",390],["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],"[",["T_WHITESPACE","\n      ",390],["T_CONSTANT_ENCAPSED_STRING","'first'",391],["T_WHITESPACE"," ",391],["T_DOUBLE_ARROW","=>",391],["T_WHITESPACE"," ",391],"[",["T_WHITESPACE","\n        ",391],["T_LNUMBER","1",392],["T_WHITESPACE"," ",392],["T_DOUBLE_ARROW","=>",392],["T_WHITESPACE"," ",392],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","prophesize",392],"(",["T_STRING","EntityInterface",392],["T_DOUBLE_COLON","::",392],["T_CLASS","class",392],")",["T_OBJECT_OPERATOR","->",392],["T_STRING","reveal",392],"(",")",",",["T_WHITESPACE","\n        ",392],["T_LNUMBER","2",393],["T_WHITESPACE"," ",393],["T_DOUBLE_ARROW","=>",393],["T_WHITESPACE"," ",393],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","prophesize",393],"(",["T_STRING","EntityInterface",393],["T_DOUBLE_COLON","::",393],["T_CLASS","class",393],")",["T_OBJECT_OPERATOR","->",393],["T_STRING","reveal",393],"(",")",",",["T_WHITESPACE","\n      ",393],"]",",",["T_WHITESPACE","\n    ",394],"]",";",["T_WHITESPACE","\n    ",395],["T_VARIABLE","$entity_type_manager",396],["T_WHITESPACE"," ",396],"=",["T_WHITESPACE"," ",396],["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","setupEntityTypes",396],"(",["T_VARIABLE","$entities",396],")",";",["T_WHITESPACE","\n\n    ",396],["T_VARIABLE","$query",398],["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],["T_NEW","new",398],["T_WHITESPACE"," ",398],["T_STRING","Sql",398],"(","[","]",",",["T_WHITESPACE"," ",398],["T_CONSTANT_ENCAPSED_STRING","'sql'",398],",",["T_WHITESPACE"," ",398],"[","]",",",["T_WHITESPACE"," ",398],["T_VARIABLE","$entity_type_manager",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","reveal",398],"(",")",")",";",["T_WHITESPACE","\n    ",398],["T_VARIABLE","$query",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","view",399],["T_WHITESPACE"," ",399],"=",["T_WHITESPACE"," ",399],["T_VARIABLE","$view",399],";",["T_WHITESPACE","\n\n    ",399],["T_VARIABLE","$result",401],["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],"[","]",";",["T_WHITESPACE","\n    ",401],["T_VARIABLE","$result",402],"[","]",["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],["T_NEW","new",402],["T_WHITESPACE"," ",402],["T_STRING","ResultRow",402],"(","[",["T_WHITESPACE","\n      ",402],["T_CONSTANT_ENCAPSED_STRING","'id'",403],["T_WHITESPACE"," ",403],["T_DOUBLE_ARROW","=>",403],["T_WHITESPACE"," ",403],["T_LNUMBER","1",403],",",["T_WHITESPACE","\n    ",403],"]",")",";",["T_WHITESPACE","\n    ",404],["T_VARIABLE","$result",405],"[","]",["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_NEW","new",405],["T_WHITESPACE"," ",405],["T_STRING","ResultRow",405],"(","[",["T_WHITESPACE","\n      ",405],["T_CONSTANT_ENCAPSED_STRING","'id'",406],["T_WHITESPACE"," ",406],["T_DOUBLE_ARROW","=>",406],["T_WHITESPACE"," ",406],["T_LNUMBER","2",406],",",["T_WHITESPACE","\n    ",406],"]",")",";",["T_WHITESPACE","\n\n    ",407],["T_VARIABLE","$query",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","addField",409],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_first'",409],",",["T_WHITESPACE"," ",409],["T_CONSTANT_ENCAPSED_STRING","'id'",409],",",["T_WHITESPACE"," ",409],["T_CONSTANT_ENCAPSED_STRING","'id'",409],")",";",["T_WHITESPACE","\n    ",409],["T_VARIABLE","$query",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","loadEntities",410],"(",["T_VARIABLE","$result",410],")",";",["T_WHITESPACE","\n    ",410],["T_VARIABLE","$entity_information",411],["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_VARIABLE","$query",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","getEntityTableInfo",411],"(",")",";",["T_WHITESPACE","\n\n    ",411],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","assertSame",413],"(",["T_VARIABLE","$entities",413],"[",["T_CONSTANT_ENCAPSED_STRING","'first'",413],"]","[",["T_LNUMBER","1",413],"]",",",["T_WHITESPACE"," ",413],["T_VARIABLE","$result",413],"[",["T_LNUMBER","0",413],"]",["T_OBJECT_OPERATOR","->",413],["T_STRING","_entity",413],")",";",["T_WHITESPACE","\n    ",413],["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","assertSame",414],"(",["T_VARIABLE","$entities",414],"[",["T_CONSTANT_ENCAPSED_STRING","'first'",414],"]","[",["T_LNUMBER","2",414],"]",",",["T_WHITESPACE"," ",414],["T_VARIABLE","$result",414],"[",["T_LNUMBER","1",414],"]",["T_OBJECT_OPERATOR","->",414],["T_STRING","_entity",414],")",";",["T_WHITESPACE","\n\n    ",414],["T_VARIABLE","$this",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","assertEquals",416],"(","[","]",",",["T_WHITESPACE"," ",416],["T_VARIABLE","$result",416],"[",["T_LNUMBER","0",416],"]",["T_OBJECT_OPERATOR","->",416],["T_STRING","_relationship_entities",416],")",";",["T_WHITESPACE","\n    ",416],["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","assertEquals",417],"(","[","]",",",["T_WHITESPACE"," ",417],["T_VARIABLE","$result",417],"[",["T_LNUMBER","1",417],"]",["T_OBJECT_OPERATOR","->",417],["T_STRING","_relationship_entities",417],")",";",["T_WHITESPACE","\n\n    ",417],["T_COMMENT","\/\/ This is an entity table and should be in $entity_information.\n",419],["T_WHITESPACE","    ",420],["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","assertContains",420],"(",["T_CONSTANT_ENCAPSED_STRING","'first'",420],",",["T_WHITESPACE"," ",420],["T_STRING","array_keys",420],"(",["T_VARIABLE","$entity_information",420],")",")",";",["T_WHITESPACE","\n    ",420],["T_COMMENT","\/\/ This is not an entity table and should not be in $entity_information.\n",421],["T_WHITESPACE","    ",422],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","assertNotContains",422],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_first_field_data__entity_first_field_data'",422],",",["T_WHITESPACE"," ",422],["T_STRING","array_keys",422],"(",["T_VARIABLE","$entity_information",422],")",")",";",["T_WHITESPACE","\n  ",422],"}",["T_WHITESPACE","\n\n  ",423],["T_DOC_COMMENT","\/**\n   * @covers ::loadEntities\n   * @covers ::assignEntitiesToResult\n   *\/",425],["T_WHITESPACE","\n  ",428],["T_PUBLIC","public",429],["T_WHITESPACE"," ",429],["T_FUNCTION","function",429],["T_WHITESPACE"," ",429],["T_STRING","testLoadEntitiesWithRevision",429],"(",")",["T_WHITESPACE"," ",429],"{",["T_WHITESPACE","\n    ",429],["T_COMMENT","\/\/ We don't use prophecy, because prophecy enforces methods.\n",430],["T_WHITESPACE","    ",431],["T_VARIABLE","$view",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_VARIABLE","$this",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","getMockBuilder",431],"(",["T_STRING","ViewExecutable",431],["T_DOUBLE_COLON","::",431],["T_CLASS","class",431],")",["T_WHITESPACE","\n      ",431],["T_OBJECT_OPERATOR","->",432],["T_STRING","disableOriginalConstructor",432],"(",")",["T_WHITESPACE","\n      ",432],["T_OBJECT_OPERATOR","->",433],["T_STRING","getMock",433],"(",")",";",["T_WHITESPACE","\n\n    ",433],["T_VARIABLE","$view_entity",435],["T_WHITESPACE"," ",435],"=",["T_WHITESPACE"," ",435],["T_VARIABLE","$this",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","prophesize",435],"(",["T_STRING","ViewEntityInterface",435],["T_DOUBLE_COLON","::",435],["T_CLASS","class",435],")",";",["T_WHITESPACE","\n    ",435],["T_VARIABLE","$view_entity",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","get",436],"(",["T_CONSTANT_ENCAPSED_STRING","'base_table'",436],")",["T_OBJECT_OPERATOR","->",436],["T_STRING","willReturn",436],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_first__revision'",436],")",";",["T_WHITESPACE","\n    ",436],["T_VARIABLE","$view_entity",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","get",437],"(",["T_CONSTANT_ENCAPSED_STRING","'base_field'",437],")",["T_OBJECT_OPERATOR","->",437],["T_STRING","willReturn",437],"(",["T_CONSTANT_ENCAPSED_STRING","'vid'",437],")",";",["T_WHITESPACE","\n    ",437],["T_VARIABLE","$view",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","storage",438],["T_WHITESPACE"," ",438],"=",["T_WHITESPACE"," ",438],["T_VARIABLE","$view_entity",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","reveal",438],"(",")",";",["T_WHITESPACE","\n\n    ",438],["T_VARIABLE","$entity_revisions",440],["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],"[",["T_WHITESPACE","\n      ",440],["T_CONSTANT_ENCAPSED_STRING","'first'",441],["T_WHITESPACE"," ",441],["T_DOUBLE_ARROW","=>",441],["T_WHITESPACE"," ",441],"[",["T_WHITESPACE","\n        ",441],["T_LNUMBER","1",442],["T_WHITESPACE"," ",442],["T_DOUBLE_ARROW","=>",442],["T_WHITESPACE"," ",442],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","prophesize",442],"(",["T_STRING","EntityInterface",442],["T_DOUBLE_COLON","::",442],["T_CLASS","class",442],")",["T_OBJECT_OPERATOR","->",442],["T_STRING","reveal",442],"(",")",",",["T_WHITESPACE","\n        ",442],["T_LNUMBER","3",443],["T_WHITESPACE"," ",443],["T_DOUBLE_ARROW","=>",443],["T_WHITESPACE"," ",443],["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","prophesize",443],"(",["T_STRING","EntityInterface",443],["T_DOUBLE_COLON","::",443],["T_CLASS","class",443],")",["T_OBJECT_OPERATOR","->",443],["T_STRING","reveal",443],"(",")",",",["T_WHITESPACE","\n      ",443],"]",",",["T_WHITESPACE","\n    ",444],"]",";",["T_WHITESPACE","\n    ",445],["T_VARIABLE","$entity_type_manager",446],["T_WHITESPACE"," ",446],"=",["T_WHITESPACE"," ",446],["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","setupEntityTypes",446],"(","[","]",",",["T_WHITESPACE"," ",446],["T_VARIABLE","$entity_revisions",446],")",";",["T_WHITESPACE","\n\n    ",446],["T_VARIABLE","$query",448],["T_WHITESPACE"," ",448],"=",["T_WHITESPACE"," ",448],["T_NEW","new",448],["T_WHITESPACE"," ",448],["T_STRING","Sql",448],"(","[","]",",",["T_WHITESPACE"," ",448],["T_CONSTANT_ENCAPSED_STRING","'sql'",448],",",["T_WHITESPACE"," ",448],"[","]",",",["T_WHITESPACE"," ",448],["T_VARIABLE","$entity_type_manager",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","reveal",448],"(",")",")",";",["T_WHITESPACE","\n    ",448],["T_VARIABLE","$query",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","view",449],["T_WHITESPACE"," ",449],"=",["T_WHITESPACE"," ",449],["T_VARIABLE","$view",449],";",["T_WHITESPACE","\n\n    ",449],["T_VARIABLE","$result",451],["T_WHITESPACE"," ",451],"=",["T_WHITESPACE"," ",451],"[","]",";",["T_WHITESPACE","\n    ",451],["T_VARIABLE","$result",452],"[","]",["T_WHITESPACE"," ",452],"=",["T_WHITESPACE"," ",452],["T_NEW","new",452],["T_WHITESPACE"," ",452],["T_STRING","ResultRow",452],"(","[",["T_WHITESPACE","\n      ",452],["T_CONSTANT_ENCAPSED_STRING","'vid'",453],["T_WHITESPACE"," ",453],["T_DOUBLE_ARROW","=>",453],["T_WHITESPACE"," ",453],["T_LNUMBER","1",453],",",["T_WHITESPACE","\n    ",453],"]",")",";",["T_WHITESPACE","\n    ",454],["T_VARIABLE","$result",455],"[","]",["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_NEW","new",455],["T_WHITESPACE"," ",455],["T_STRING","ResultRow",455],"(","[",["T_WHITESPACE","\n      ",455],["T_CONSTANT_ENCAPSED_STRING","'vid'",456],["T_WHITESPACE"," ",456],["T_DOUBLE_ARROW","=>",456],["T_WHITESPACE"," ",456],["T_LNUMBER","1",456],",",["T_WHITESPACE","\n    ",456],"]",")",";",["T_WHITESPACE","\n    ",457],["T_VARIABLE","$result",458],"[","]",["T_WHITESPACE"," ",458],"=",["T_WHITESPACE"," ",458],["T_NEW","new",458],["T_WHITESPACE"," ",458],["T_STRING","ResultRow",458],"(","[",["T_WHITESPACE","\n      ",458],["T_CONSTANT_ENCAPSED_STRING","'vid'",459],["T_WHITESPACE"," ",459],["T_DOUBLE_ARROW","=>",459],["T_WHITESPACE"," ",459],["T_LNUMBER","3",459],",",["T_WHITESPACE","\n    ",459],"]",")",";",["T_WHITESPACE","\n\n    ",460],["T_VARIABLE","$query",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","addField",462],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_first__revision'",462],",",["T_WHITESPACE"," ",462],["T_CONSTANT_ENCAPSED_STRING","'vid'",462],",",["T_WHITESPACE"," ",462],["T_CONSTANT_ENCAPSED_STRING","'vid'",462],")",";",["T_WHITESPACE","\n    ",462],["T_VARIABLE","$query",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","loadEntities",463],"(",["T_VARIABLE","$result",463],")",";",["T_WHITESPACE","\n\n    ",463],["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","assertSame",465],"(",["T_VARIABLE","$entity_revisions",465],"[",["T_CONSTANT_ENCAPSED_STRING","'first'",465],"]","[",["T_LNUMBER","1",465],"]",",",["T_WHITESPACE"," ",465],["T_VARIABLE","$result",465],"[",["T_LNUMBER","0",465],"]",["T_OBJECT_OPERATOR","->",465],["T_STRING","_entity",465],")",";",["T_WHITESPACE","\n    ",465],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","assertSame",466],"(",["T_VARIABLE","$entity_revisions",466],"[",["T_CONSTANT_ENCAPSED_STRING","'first'",466],"]","[",["T_LNUMBER","1",466],"]",",",["T_WHITESPACE"," ",466],["T_VARIABLE","$result",466],"[",["T_LNUMBER","1",466],"]",["T_OBJECT_OPERATOR","->",466],["T_STRING","_entity",466],")",";",["T_WHITESPACE","\n    ",466],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","assertSame",467],"(",["T_VARIABLE","$entity_revisions",467],"[",["T_CONSTANT_ENCAPSED_STRING","'first'",467],"]","[",["T_LNUMBER","3",467],"]",",",["T_WHITESPACE"," ",467],["T_VARIABLE","$result",467],"[",["T_LNUMBER","2",467],"]",["T_OBJECT_OPERATOR","->",467],["T_STRING","_entity",467],")",";",["T_WHITESPACE","\n  ",467],"}",["T_WHITESPACE","\n\n  ",468],["T_DOC_COMMENT","\/**\n   * @covers ::loadEntities\n   * @covers ::assignEntitiesToResult\n   *\/",470],["T_WHITESPACE","\n  ",473],["T_PUBLIC","public",474],["T_WHITESPACE"," ",474],["T_FUNCTION","function",474],["T_WHITESPACE"," ",474],["T_STRING","testLoadEntitiesWithRevisionOfSameEntityType",474],"(",")",["T_WHITESPACE"," ",474],"{",["T_WHITESPACE","\n    ",474],["T_COMMENT","\/\/ We don't use prophecy, because prophecy enforces methods.\n",475],["T_WHITESPACE","    ",476],["T_VARIABLE","$view",476],["T_WHITESPACE"," ",476],"=",["T_WHITESPACE"," ",476],["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","getMockBuilder",476],"(",["T_STRING","ViewExecutable",476],["T_DOUBLE_COLON","::",476],["T_CLASS","class",476],")",["T_WHITESPACE","\n      ",476],["T_OBJECT_OPERATOR","->",477],["T_STRING","disableOriginalConstructor",477],"(",")",["T_WHITESPACE","\n      ",477],["T_OBJECT_OPERATOR","->",478],["T_STRING","getMock",478],"(",")",";",["T_WHITESPACE","\n    ",478],["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","setupViewWithRelationships",479],"(",["T_VARIABLE","$view",479],",",["T_WHITESPACE"," ",479],["T_CONSTANT_ENCAPSED_STRING","'entity_first__revision'",479],")",";",["T_WHITESPACE","\n\n    ",479],["T_VARIABLE","$view_entity",481],["T_WHITESPACE"," ",481],"=",["T_WHITESPACE"," ",481],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","prophesize",481],"(",["T_STRING","ViewEntityInterface",481],["T_DOUBLE_COLON","::",481],["T_CLASS","class",481],")",";",["T_WHITESPACE","\n    ",481],["T_VARIABLE","$view_entity",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","get",482],"(",["T_CONSTANT_ENCAPSED_STRING","'base_table'",482],")",["T_OBJECT_OPERATOR","->",482],["T_STRING","willReturn",482],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_first'",482],")",";",["T_WHITESPACE","\n    ",482],["T_VARIABLE","$view_entity",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","get",483],"(",["T_CONSTANT_ENCAPSED_STRING","'base_field'",483],")",["T_OBJECT_OPERATOR","->",483],["T_STRING","willReturn",483],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",483],")",";",["T_WHITESPACE","\n    ",483],["T_VARIABLE","$view",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","storage",484],["T_WHITESPACE"," ",484],"=",["T_WHITESPACE"," ",484],["T_VARIABLE","$view_entity",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","reveal",484],"(",")",";",["T_WHITESPACE","\n\n    ",484],["T_VARIABLE","$entity",486],["T_WHITESPACE"," ",486],"=",["T_WHITESPACE"," ",486],"[",["T_WHITESPACE","\n      ",486],["T_CONSTANT_ENCAPSED_STRING","'first'",487],["T_WHITESPACE"," ",487],["T_DOUBLE_ARROW","=>",487],["T_WHITESPACE"," ",487],"[",["T_WHITESPACE","\n        ",487],["T_LNUMBER","1",488],["T_WHITESPACE"," ",488],["T_DOUBLE_ARROW","=>",488],["T_WHITESPACE"," ",488],["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","prophesize",488],"(",["T_STRING","EntityInterface",488],["T_DOUBLE_COLON","::",488],["T_CLASS","class",488],")",["T_OBJECT_OPERATOR","->",488],["T_STRING","reveal",488],"(",")",",",["T_WHITESPACE","\n        ",488],["T_LNUMBER","2",489],["T_WHITESPACE"," ",489],["T_DOUBLE_ARROW","=>",489],["T_WHITESPACE"," ",489],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","prophesize",489],"(",["T_STRING","EntityInterface",489],["T_DOUBLE_COLON","::",489],["T_CLASS","class",489],")",["T_OBJECT_OPERATOR","->",489],["T_STRING","reveal",489],"(",")",",",["T_WHITESPACE","\n      ",489],"]",",",["T_WHITESPACE","\n    ",490],"]",";",["T_WHITESPACE","\n    ",491],["T_VARIABLE","$entity_revisions",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],"[",["T_WHITESPACE","\n      ",492],["T_CONSTANT_ENCAPSED_STRING","'first'",493],["T_WHITESPACE"," ",493],["T_DOUBLE_ARROW","=>",493],["T_WHITESPACE"," ",493],"[",["T_WHITESPACE","\n        ",493],["T_LNUMBER","1",494],["T_WHITESPACE"," ",494],["T_DOUBLE_ARROW","=>",494],["T_WHITESPACE"," ",494],["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","prophesize",494],"(",["T_STRING","EntityInterface",494],["T_DOUBLE_COLON","::",494],["T_CLASS","class",494],")",["T_OBJECT_OPERATOR","->",494],["T_STRING","reveal",494],"(",")",",",["T_WHITESPACE","\n        ",494],["T_LNUMBER","2",495],["T_WHITESPACE"," ",495],["T_DOUBLE_ARROW","=>",495],["T_WHITESPACE"," ",495],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","prophesize",495],"(",["T_STRING","EntityInterface",495],["T_DOUBLE_COLON","::",495],["T_CLASS","class",495],")",["T_OBJECT_OPERATOR","->",495],["T_STRING","reveal",495],"(",")",",",["T_WHITESPACE","\n        ",495],["T_LNUMBER","3",496],["T_WHITESPACE"," ",496],["T_DOUBLE_ARROW","=>",496],["T_WHITESPACE"," ",496],["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","prophesize",496],"(",["T_STRING","EntityInterface",496],["T_DOUBLE_COLON","::",496],["T_CLASS","class",496],")",["T_OBJECT_OPERATOR","->",496],["T_STRING","reveal",496],"(",")",",",["T_WHITESPACE","\n      ",496],"]",",",["T_WHITESPACE","\n    ",497],"]",";",["T_WHITESPACE","\n    ",498],["T_VARIABLE","$entity_type_manager",499],["T_WHITESPACE"," ",499],"=",["T_WHITESPACE"," ",499],["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","setupEntityTypes",499],"(",["T_VARIABLE","$entity",499],",",["T_WHITESPACE"," ",499],["T_VARIABLE","$entity_revisions",499],")",";",["T_WHITESPACE","\n\n    ",499],["T_VARIABLE","$query",501],["T_WHITESPACE"," ",501],"=",["T_WHITESPACE"," ",501],["T_NEW","new",501],["T_WHITESPACE"," ",501],["T_STRING","Sql",501],"(","[","]",",",["T_WHITESPACE"," ",501],["T_CONSTANT_ENCAPSED_STRING","'sql'",501],",",["T_WHITESPACE"," ",501],"[","]",",",["T_WHITESPACE"," ",501],["T_VARIABLE","$entity_type_manager",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","reveal",501],"(",")",")",";",["T_WHITESPACE","\n    ",501],["T_VARIABLE","$query",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","view",502],["T_WHITESPACE"," ",502],"=",["T_WHITESPACE"," ",502],["T_VARIABLE","$view",502],";",["T_WHITESPACE","\n\n    ",502],["T_VARIABLE","$result",504],["T_WHITESPACE"," ",504],"=",["T_WHITESPACE"," ",504],"[","]",";",["T_WHITESPACE","\n    ",504],["T_VARIABLE","$result",505],"[","]",["T_WHITESPACE"," ",505],"=",["T_WHITESPACE"," ",505],["T_NEW","new",505],["T_WHITESPACE"," ",505],["T_STRING","ResultRow",505],"(","[",["T_WHITESPACE","\n      ",505],["T_CONSTANT_ENCAPSED_STRING","'id'",506],["T_WHITESPACE"," ",506],["T_DOUBLE_ARROW","=>",506],["T_WHITESPACE"," ",506],["T_LNUMBER","1",506],",",["T_WHITESPACE","\n      ",506],["T_CONSTANT_ENCAPSED_STRING","'entity_first__revision__vid'",507],["T_WHITESPACE"," ",507],["T_DOUBLE_ARROW","=>",507],["T_WHITESPACE"," ",507],["T_LNUMBER","1",507],",",["T_WHITESPACE","\n    ",507],"]",")",";",["T_WHITESPACE","\n    ",508],["T_VARIABLE","$result",509],"[","]",["T_WHITESPACE"," ",509],"=",["T_WHITESPACE"," ",509],["T_NEW","new",509],["T_WHITESPACE"," ",509],["T_STRING","ResultRow",509],"(","[",["T_WHITESPACE","\n      ",509],["T_CONSTANT_ENCAPSED_STRING","'id'",510],["T_WHITESPACE"," ",510],["T_DOUBLE_ARROW","=>",510],["T_WHITESPACE"," ",510],["T_LNUMBER","2",510],",",["T_WHITESPACE","\n      ",510],["T_CONSTANT_ENCAPSED_STRING","'entity_first__revision__vid'",511],["T_WHITESPACE"," ",511],["T_DOUBLE_ARROW","=>",511],["T_WHITESPACE"," ",511],["T_LNUMBER","2",511],",",["T_WHITESPACE","\n    ",511],"]",")",";",["T_WHITESPACE","\n    ",512],["T_VARIABLE","$result",513],"[","]",["T_WHITESPACE"," ",513],"=",["T_WHITESPACE"," ",513],["T_NEW","new",513],["T_WHITESPACE"," ",513],["T_STRING","ResultRow",513],"(","[",["T_WHITESPACE","\n      ",513],["T_CONSTANT_ENCAPSED_STRING","'id'",514],["T_WHITESPACE"," ",514],["T_DOUBLE_ARROW","=>",514],["T_WHITESPACE"," ",514],["T_LNUMBER","2",514],",",["T_WHITESPACE","\n      ",514],["T_CONSTANT_ENCAPSED_STRING","'entity_first__revision__vid'",515],["T_WHITESPACE"," ",515],["T_DOUBLE_ARROW","=>",515],["T_WHITESPACE"," ",515],["T_LNUMBER","3",515],",",["T_WHITESPACE","\n    ",515],"]",")",";",["T_WHITESPACE","\n\n    ",516],["T_VARIABLE","$query",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","addField",518],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_first'",518],",",["T_WHITESPACE"," ",518],["T_CONSTANT_ENCAPSED_STRING","'id'",518],",",["T_WHITESPACE"," ",518],["T_CONSTANT_ENCAPSED_STRING","'id'",518],")",";",["T_WHITESPACE","\n    ",518],["T_VARIABLE","$query",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","addField",519],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_first__revision'",519],",",["T_WHITESPACE"," ",519],["T_CONSTANT_ENCAPSED_STRING","'vid'",519],",",["T_WHITESPACE"," ",519],["T_CONSTANT_ENCAPSED_STRING","'entity_first__revision__vid'",519],")",";",["T_WHITESPACE","\n    ",519],["T_VARIABLE","$query",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","loadEntities",520],"(",["T_VARIABLE","$result",520],")",";",["T_WHITESPACE","\n\n    ",520],["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","assertSame",522],"(",["T_VARIABLE","$entity",522],"[",["T_CONSTANT_ENCAPSED_STRING","'first'",522],"]","[",["T_LNUMBER","1",522],"]",",",["T_WHITESPACE"," ",522],["T_VARIABLE","$result",522],"[",["T_LNUMBER","0",522],"]",["T_OBJECT_OPERATOR","->",522],["T_STRING","_entity",522],")",";",["T_WHITESPACE","\n    ",522],["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","assertSame",523],"(",["T_VARIABLE","$entity",523],"[",["T_CONSTANT_ENCAPSED_STRING","'first'",523],"]","[",["T_LNUMBER","2",523],"]",",",["T_WHITESPACE"," ",523],["T_VARIABLE","$result",523],"[",["T_LNUMBER","1",523],"]",["T_OBJECT_OPERATOR","->",523],["T_STRING","_entity",523],")",";",["T_WHITESPACE","\n    ",523],["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","assertSame",524],"(",["T_VARIABLE","$entity",524],"[",["T_CONSTANT_ENCAPSED_STRING","'first'",524],"]","[",["T_LNUMBER","2",524],"]",",",["T_WHITESPACE"," ",524],["T_VARIABLE","$result",524],"[",["T_LNUMBER","2",524],"]",["T_OBJECT_OPERATOR","->",524],["T_STRING","_entity",524],")",";",["T_WHITESPACE","\n    ",524],["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","assertSame",525],"(",["T_VARIABLE","$entity_revisions",525],"[",["T_CONSTANT_ENCAPSED_STRING","'first'",525],"]","[",["T_LNUMBER","1",525],"]",",",["T_WHITESPACE"," ",525],["T_VARIABLE","$result",525],"[",["T_LNUMBER","0",525],"]",["T_OBJECT_OPERATOR","->",525],["T_STRING","_relationship_entities",525],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_first__revision'",525],"]",")",";",["T_WHITESPACE","\n    ",525],["T_VARIABLE","$this",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","assertSame",526],"(",["T_VARIABLE","$entity_revisions",526],"[",["T_CONSTANT_ENCAPSED_STRING","'first'",526],"]","[",["T_LNUMBER","2",526],"]",",",["T_WHITESPACE"," ",526],["T_VARIABLE","$result",526],"[",["T_LNUMBER","1",526],"]",["T_OBJECT_OPERATOR","->",526],["T_STRING","_relationship_entities",526],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_first__revision'",526],"]",")",";",["T_WHITESPACE","\n    ",526],["T_VARIABLE","$this",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","assertSame",527],"(",["T_VARIABLE","$entity_revisions",527],"[",["T_CONSTANT_ENCAPSED_STRING","'first'",527],"]","[",["T_LNUMBER","3",527],"]",",",["T_WHITESPACE"," ",527],["T_VARIABLE","$result",527],"[",["T_LNUMBER","2",527],"]",["T_OBJECT_OPERATOR","->",527],["T_STRING","_relationship_entities",527],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_first__revision'",527],"]",")",";",["T_WHITESPACE","\n  ",527],"}",["T_WHITESPACE","\n\n  ",528],["T_DOC_COMMENT","\/**\n   * @covers ::loadEntities\n   * @covers ::assignEntitiesToResult\n   *\/",530],["T_WHITESPACE","\n  ",533],["T_PUBLIC","public",534],["T_WHITESPACE"," ",534],["T_FUNCTION","function",534],["T_WHITESPACE"," ",534],["T_STRING","testLoadEntitiesWithRelationshipAndRevision",534],"(",")",["T_WHITESPACE"," ",534],"{",["T_WHITESPACE","\n    ",534],["T_COMMENT","\/\/ We don't use prophecy, because prophecy enforces methods.\n",535],["T_WHITESPACE","    ",536],["T_VARIABLE","$view",536],["T_WHITESPACE"," ",536],"=",["T_WHITESPACE"," ",536],["T_VARIABLE","$this",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","getMockBuilder",536],"(",["T_STRING","ViewExecutable",536],["T_DOUBLE_COLON","::",536],["T_CLASS","class",536],")",["T_OBJECT_OPERATOR","->",536],["T_STRING","disableOriginalConstructor",536],"(",")",["T_OBJECT_OPERATOR","->",536],["T_STRING","getMock",536],"(",")",";",["T_WHITESPACE","\n    ",536],["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","setupViewWithRelationships",537],"(",["T_VARIABLE","$view",537],")",";",["T_WHITESPACE","\n\n    ",537],["T_VARIABLE","$view_entity",539],["T_WHITESPACE"," ",539],"=",["T_WHITESPACE"," ",539],["T_VARIABLE","$this",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","prophesize",539],"(",["T_STRING","ViewEntityInterface",539],["T_DOUBLE_COLON","::",539],["T_CLASS","class",539],")",";",["T_WHITESPACE","\n    ",539],["T_VARIABLE","$view_entity",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","get",540],"(",["T_CONSTANT_ENCAPSED_STRING","'base_table'",540],")",["T_OBJECT_OPERATOR","->",540],["T_STRING","willReturn",540],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_first__revision'",540],")",";",["T_WHITESPACE","\n    ",540],["T_VARIABLE","$view_entity",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","get",541],"(",["T_CONSTANT_ENCAPSED_STRING","'base_field'",541],")",["T_OBJECT_OPERATOR","->",541],["T_STRING","willReturn",541],"(",["T_CONSTANT_ENCAPSED_STRING","'vid'",541],")",";",["T_WHITESPACE","\n    ",541],["T_VARIABLE","$view",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","storage",542],["T_WHITESPACE"," ",542],"=",["T_WHITESPACE"," ",542],["T_VARIABLE","$view_entity",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","reveal",542],"(",")",";",["T_WHITESPACE","\n\n    ",542],["T_VARIABLE","$entities",544],["T_WHITESPACE"," ",544],"=",["T_WHITESPACE"," ",544],"[",["T_WHITESPACE","\n      ",544],["T_CONSTANT_ENCAPSED_STRING","'second'",545],["T_WHITESPACE"," ",545],["T_DOUBLE_ARROW","=>",545],["T_WHITESPACE"," ",545],"[",["T_WHITESPACE","\n        ",545],["T_LNUMBER","11",546],["T_WHITESPACE"," ",546],["T_DOUBLE_ARROW","=>",546],["T_WHITESPACE"," ",546],["T_VARIABLE","$this",546],["T_OBJECT_OPERATOR","->",546],["T_STRING","prophesize",546],"(",["T_STRING","EntityInterface",546],["T_DOUBLE_COLON","::",546],["T_CLASS","class",546],")",["T_OBJECT_OPERATOR","->",546],["T_STRING","reveal",546],"(",")",",",["T_WHITESPACE","\n        ",546],["T_LNUMBER","12",547],["T_WHITESPACE"," ",547],["T_DOUBLE_ARROW","=>",547],["T_WHITESPACE"," ",547],["T_VARIABLE","$this",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","prophesize",547],"(",["T_STRING","EntityInterface",547],["T_DOUBLE_COLON","::",547],["T_CLASS","class",547],")",["T_OBJECT_OPERATOR","->",547],["T_STRING","reveal",547],"(",")",",",["T_WHITESPACE","\n      ",547],"]",",",["T_WHITESPACE","\n    ",548],"]",";",["T_WHITESPACE","\n    ",549],["T_VARIABLE","$entity_revisions",550],["T_WHITESPACE"," ",550],"=",["T_WHITESPACE"," ",550],"[",["T_WHITESPACE","\n      ",550],["T_CONSTANT_ENCAPSED_STRING","'first'",551],["T_WHITESPACE"," ",551],["T_DOUBLE_ARROW","=>",551],["T_WHITESPACE"," ",551],"[",["T_WHITESPACE","\n        ",551],["T_LNUMBER","1",552],["T_WHITESPACE"," ",552],["T_DOUBLE_ARROW","=>",552],["T_WHITESPACE"," ",552],["T_VARIABLE","$this",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","prophesize",552],"(",["T_STRING","EntityInterface",552],["T_DOUBLE_COLON","::",552],["T_CLASS","class",552],")",["T_OBJECT_OPERATOR","->",552],["T_STRING","reveal",552],"(",")",",",["T_WHITESPACE","\n        ",552],["T_LNUMBER","3",553],["T_WHITESPACE"," ",553],["T_DOUBLE_ARROW","=>",553],["T_WHITESPACE"," ",553],["T_VARIABLE","$this",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","prophesize",553],"(",["T_STRING","EntityInterface",553],["T_DOUBLE_COLON","::",553],["T_CLASS","class",553],")",["T_OBJECT_OPERATOR","->",553],["T_STRING","reveal",553],"(",")",",",["T_WHITESPACE","\n      ",553],"]",",",["T_WHITESPACE","\n    ",554],"]",";",["T_WHITESPACE","\n    ",555],["T_VARIABLE","$entity_type_manager",556],["T_WHITESPACE"," ",556],"=",["T_WHITESPACE"," ",556],["T_VARIABLE","$this",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","setupEntityTypes",556],"(",["T_VARIABLE","$entities",556],",",["T_WHITESPACE"," ",556],["T_VARIABLE","$entity_revisions",556],")",";",["T_WHITESPACE","\n\n    ",556],["T_VARIABLE","$query",558],["T_WHITESPACE"," ",558],"=",["T_WHITESPACE"," ",558],["T_NEW","new",558],["T_WHITESPACE"," ",558],["T_STRING","Sql",558],"(","[","]",",",["T_WHITESPACE"," ",558],["T_CONSTANT_ENCAPSED_STRING","'sql'",558],",",["T_WHITESPACE"," ",558],"[","]",",",["T_WHITESPACE"," ",558],["T_VARIABLE","$entity_type_manager",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","reveal",558],"(",")",")",";",["T_WHITESPACE","\n    ",558],["T_VARIABLE","$query",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","view",559],["T_WHITESPACE"," ",559],"=",["T_WHITESPACE"," ",559],["T_VARIABLE","$view",559],";",["T_WHITESPACE","\n\n    ",559],["T_VARIABLE","$result",561],["T_WHITESPACE"," ",561],"=",["T_WHITESPACE"," ",561],"[","]",";",["T_WHITESPACE","\n    ",561],["T_VARIABLE","$result",562],"[","]",["T_WHITESPACE"," ",562],"=",["T_WHITESPACE"," ",562],["T_NEW","new",562],["T_WHITESPACE"," ",562],["T_STRING","ResultRow",562],"(","[",["T_WHITESPACE","\n      ",562],["T_CONSTANT_ENCAPSED_STRING","'vid'",563],["T_WHITESPACE"," ",563],["T_DOUBLE_ARROW","=>",563],["T_WHITESPACE"," ",563],["T_LNUMBER","1",563],",",["T_WHITESPACE","\n      ",563],["T_CONSTANT_ENCAPSED_STRING","'entity_second__id'",564],["T_WHITESPACE"," ",564],["T_DOUBLE_ARROW","=>",564],["T_WHITESPACE"," ",564],["T_LNUMBER","11",564],",",["T_WHITESPACE","\n    ",564],"]",")",";",["T_WHITESPACE","\n    ",565],["T_COMMENT","\/\/ Provide an explicit NULL value, to test the case of a non required\n",566],["T_WHITESPACE","    ",567],["T_COMMENT","\/\/ relationship.\n",567],["T_WHITESPACE","    ",568],["T_VARIABLE","$result",568],"[","]",["T_WHITESPACE"," ",568],"=",["T_WHITESPACE"," ",568],["T_NEW","new",568],["T_WHITESPACE"," ",568],["T_STRING","ResultRow",568],"(","[",["T_WHITESPACE","\n      ",568],["T_CONSTANT_ENCAPSED_STRING","'vid'",569],["T_WHITESPACE"," ",569],["T_DOUBLE_ARROW","=>",569],["T_WHITESPACE"," ",569],["T_LNUMBER","1",569],",",["T_WHITESPACE","\n      ",569],["T_CONSTANT_ENCAPSED_STRING","'entity_second__id'",570],["T_WHITESPACE"," ",570],["T_DOUBLE_ARROW","=>",570],["T_WHITESPACE"," ",570],["T_STRING","NULL",570],",",["T_WHITESPACE","\n    ",570],"]",")",";",["T_WHITESPACE","\n    ",571],["T_VARIABLE","$result",572],"[","]",["T_WHITESPACE"," ",572],"=",["T_WHITESPACE"," ",572],["T_NEW","new",572],["T_WHITESPACE"," ",572],["T_STRING","ResultRow",572],"(","[",["T_WHITESPACE","\n      ",572],["T_CONSTANT_ENCAPSED_STRING","'vid'",573],["T_WHITESPACE"," ",573],["T_DOUBLE_ARROW","=>",573],["T_WHITESPACE"," ",573],["T_LNUMBER","3",573],",",["T_WHITESPACE","\n      ",573],["T_CONSTANT_ENCAPSED_STRING","'entity_second__id'",574],["T_WHITESPACE"," ",574],["T_DOUBLE_ARROW","=>",574],["T_WHITESPACE"," ",574],["T_LNUMBER","12",574],",",["T_WHITESPACE","\n    ",574],"]",")",";",["T_WHITESPACE","\n\n    ",575],["T_VARIABLE","$query",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","addField",577],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_first__revision'",577],",",["T_WHITESPACE"," ",577],["T_CONSTANT_ENCAPSED_STRING","'vid'",577],",",["T_WHITESPACE"," ",577],["T_CONSTANT_ENCAPSED_STRING","'vid'",577],")",";",["T_WHITESPACE","\n    ",577],["T_VARIABLE","$query",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","addField",578],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_second'",578],",",["T_WHITESPACE"," ",578],["T_CONSTANT_ENCAPSED_STRING","'id'",578],",",["T_WHITESPACE"," ",578],["T_CONSTANT_ENCAPSED_STRING","'entity_second__id'",578],")",";",["T_WHITESPACE","\n    ",578],["T_VARIABLE","$query",579],["T_OBJECT_OPERATOR","->",579],["T_STRING","loadEntities",579],"(",["T_VARIABLE","$result",579],")",";",["T_WHITESPACE","\n\n    ",579],["T_VARIABLE","$this",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","assertSame",581],"(",["T_VARIABLE","$entity_revisions",581],"[",["T_CONSTANT_ENCAPSED_STRING","'first'",581],"]","[",["T_LNUMBER","1",581],"]",",",["T_WHITESPACE"," ",581],["T_VARIABLE","$result",581],"[",["T_LNUMBER","0",581],"]",["T_OBJECT_OPERATOR","->",581],["T_STRING","_entity",581],")",";",["T_WHITESPACE","\n    ",581],["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","assertSame",582],"(",["T_VARIABLE","$entity_revisions",582],"[",["T_CONSTANT_ENCAPSED_STRING","'first'",582],"]","[",["T_LNUMBER","1",582],"]",",",["T_WHITESPACE"," ",582],["T_VARIABLE","$result",582],"[",["T_LNUMBER","1",582],"]",["T_OBJECT_OPERATOR","->",582],["T_STRING","_entity",582],")",";",["T_WHITESPACE","\n    ",582],["T_VARIABLE","$this",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","assertSame",583],"(",["T_VARIABLE","$entity_revisions",583],"[",["T_CONSTANT_ENCAPSED_STRING","'first'",583],"]","[",["T_LNUMBER","3",583],"]",",",["T_WHITESPACE"," ",583],["T_VARIABLE","$result",583],"[",["T_LNUMBER","2",583],"]",["T_OBJECT_OPERATOR","->",583],["T_STRING","_entity",583],")",";",["T_WHITESPACE","\n\n    ",583],["T_VARIABLE","$this",585],["T_OBJECT_OPERATOR","->",585],["T_STRING","assertSame",585],"(",["T_VARIABLE","$entities",585],"[",["T_CONSTANT_ENCAPSED_STRING","'second'",585],"]","[",["T_LNUMBER","11",585],"]",",",["T_WHITESPACE"," ",585],["T_VARIABLE","$result",585],"[",["T_LNUMBER","0",585],"]",["T_OBJECT_OPERATOR","->",585],["T_STRING","_relationship_entities",585],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_second'",585],"]",")",";",["T_WHITESPACE","\n    ",585],["T_VARIABLE","$this",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","assertEquals",586],"(","[","]",",",["T_WHITESPACE"," ",586],["T_VARIABLE","$result",586],"[",["T_LNUMBER","1",586],"]",["T_OBJECT_OPERATOR","->",586],["T_STRING","_relationship_entities",586],")",";",["T_WHITESPACE","\n    ",586],["T_VARIABLE","$this",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","assertSame",587],"(",["T_VARIABLE","$entities",587],"[",["T_CONSTANT_ENCAPSED_STRING","'second'",587],"]","[",["T_LNUMBER","12",587],"]",",",["T_WHITESPACE"," ",587],["T_VARIABLE","$result",587],"[",["T_LNUMBER","2",587],"]",["T_OBJECT_OPERATOR","->",587],["T_STRING","_relationship_entities",587],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_second'",587],"]",")",";",["T_WHITESPACE","\n  ",587],"}",["T_WHITESPACE","\n\n",588],"}",["T_WHITESPACE","\n",590]]