[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","views",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","views",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Views",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests mapping style functionality.\n *\n * @group views\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","StyleMappingTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","StyleTestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_PUBLIC","public",14],["T_WHITESPACE"," ",14],["T_STATIC","static",14],["T_WHITESPACE"," ",14],["T_VARIABLE","$modules",14],["T_WHITESPACE"," ",14],"=",["T_WHITESPACE"," ",14],["T_ARRAY","array",14],"(",["T_CONSTANT_ENCAPSED_STRING","'system'",14],")",";",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * Views used by this test.\n   *\n   * @var array\n   *\/",16],["T_WHITESPACE","\n  ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_STATIC","static",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$testViews",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_ARRAY","array",21],"(",["T_CONSTANT_ENCAPSED_STRING","'test_style_mapping'",21],")",";",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * Verifies that the fields were mapped correctly.\n   *\/",23],["T_WHITESPACE","\n  ",25],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","testMappedOutput",26],"(",")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n    ",26],["T_VARIABLE","$view",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_STRING","Views",27],["T_DOUBLE_COLON","::",27],["T_STRING","getView",27],"(",["T_CONSTANT_ENCAPSED_STRING","'test_style_mapping'",27],")",";",["T_WHITESPACE","\n    ",27],["T_VARIABLE","$output",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","mappedOutputHelper",28],"(",["T_VARIABLE","$view",28],")",";",["T_WHITESPACE","\n    ",28],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","assertTrue",29],"(",["T_STRING","strpos",29],"(",["T_VARIABLE","$output",29],",",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'job'",29],")",["T_WHITESPACE"," ",29],["T_IS_IDENTICAL","===",29],["T_WHITESPACE"," ",29],["T_STRING","FALSE",29],",",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'The job field is added to the view but not in the mapping.'",29],")",";",["T_WHITESPACE","\n    ",29],["T_VARIABLE","$view",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","destroy",30],"(",")",";",["T_WHITESPACE","\n\n    ",30],["T_VARIABLE","$view",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","setDisplay",32],"(",")",";",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$view",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","displayHandlers",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","get",33],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",33],")",["T_OBJECT_OPERATOR","->",33],["T_STRING","options",33],"[",["T_CONSTANT_ENCAPSED_STRING","'style'",33],"]","[",["T_CONSTANT_ENCAPSED_STRING","'options'",33],"]","[",["T_CONSTANT_ENCAPSED_STRING","'mapping'",33],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name_field'",33],"]",["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'job'",33],";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$output",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","mappedOutputHelper",34],"(",["T_VARIABLE","$view",34],")",";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","assertTrue",35],"(",["T_STRING","strpos",35],"(",["T_VARIABLE","$output",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'job'",35],")",["T_WHITESPACE"," ",35],["T_IS_NOT_IDENTICAL","!==",35],["T_WHITESPACE"," ",35],["T_STRING","FALSE",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'The job field is added to the view and is in the mapping.'",35],")",";",["T_WHITESPACE","\n  ",35],"}",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * Tests the mapping of fields.\n   *\n   * @param \\Drupal\\views\\ViewExecutable $view\n   *   The view to test.\n   *\n   * @return string\n   *   The view rendered as HTML.\n   *\/",38],["T_WHITESPACE","\n  ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","mappedOutputHelper",47],"(",["T_VARIABLE","$view",47],")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$output",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$view",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","preview",48],"(",")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$rendered_output",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Drupal",49],["T_DOUBLE_COLON","::",49],["T_STRING","service",49],"(",["T_CONSTANT_ENCAPSED_STRING","'renderer'",49],")",["T_OBJECT_OPERATOR","->",49],["T_STRING","renderRoot",49],"(",["T_VARIABLE","$output",49],")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","storeViewPreview",50],"(",["T_VARIABLE","$rendered_output",50],")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$rows",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","elements",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","body",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","div",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","div",51],";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$data_set",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","dataSet",52],"(",")",";",["T_WHITESPACE","\n\n    ",52],["T_VARIABLE","$count",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_LNUMBER","0",54],";",["T_WHITESPACE","\n    ",54],["T_FOREACH","foreach",55],["T_WHITESPACE"," ",55],"(",["T_VARIABLE","$rows",55],["T_WHITESPACE"," ",55],["T_AS","as",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$row",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n      ",55],["T_VARIABLE","$attributes",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$row",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","attributes",56],"(",")",";",["T_WHITESPACE","\n      ",56],["T_VARIABLE","$class",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING_CAST","(string)",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$attributes",57],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",57],"]","[",["T_LNUMBER","0",57],"]",";",["T_WHITESPACE","\n      ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","assertTrue",58],"(",["T_STRING","strpos",58],"(",["T_VARIABLE","$class",58],",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'views-row-mapping-test'",58],")",["T_WHITESPACE"," ",58],["T_IS_NOT_IDENTICAL","!==",58],["T_WHITESPACE"," ",58],["T_STRING","FALSE",58],",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'Make sure that each row has the correct CSS class.'",58],")",";",["T_WHITESPACE","\n\n      ",58],["T_FOREACH","foreach",60],["T_WHITESPACE"," ",60],"(",["T_VARIABLE","$row",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","div",60],["T_WHITESPACE"," ",60],["T_AS","as",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$field",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n        ",60],["T_COMMENT","\/\/ Split up the field-level class, the first part is the mapping name\n",61],["T_WHITESPACE","        ",62],["T_COMMENT","\/\/ and the second is the field ID.\n",62],["T_WHITESPACE","        ",63],["T_VARIABLE","$field_attributes",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$field",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","attributes",63],"(",")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$name",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","strtok",64],"(",["T_STRING_CAST","(string)",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$field_attributes",64],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",64],"]","[",["T_LNUMBER","0",64],"]",",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'-'",64],")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$field_id",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","strtok",65],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",65],")",";",["T_WHITESPACE","\n\n        ",65],["T_COMMENT","\/\/ The expected result is the mapping name and the field value,\n",67],["T_WHITESPACE","        ",68],["T_COMMENT","\/\/ separated by ':'.\n",68],["T_WHITESPACE","        ",69],["T_VARIABLE","$expected_result",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$name",69],["T_WHITESPACE"," ",69],".",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","':'",69],["T_WHITESPACE"," ",69],".",["T_WHITESPACE"," ",69],["T_VARIABLE","$data_set",69],"[",["T_VARIABLE","$count",69],"]","[",["T_VARIABLE","$field_id",69],"]",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$actual_result",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING_CAST","(string)",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$field",70],";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertIdentical",71],"(",["T_VARIABLE","$expected_result",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$actual_result",71],",",["T_WHITESPACE"," ",71],["T_STRING","format_string",71],"(",["T_CONSTANT_ENCAPSED_STRING","'The fields were mapped successfully: %name => %field_id'",71],",",["T_WHITESPACE"," ",71],["T_ARRAY","array",71],"(",["T_CONSTANT_ENCAPSED_STRING","'%name'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$name",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'%field_id'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$field_id",71],")",")",")",";",["T_WHITESPACE","\n      ",71],"}",["T_WHITESPACE","\n\n      ",72],["T_VARIABLE","$count",74],["T_INC","++",74],";",["T_WHITESPACE","\n    ",74],"}",["T_WHITESPACE","\n\n    ",75],["T_RETURN","return",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$rendered_output",77],";",["T_WHITESPACE","\n  ",77],"}",["T_WHITESPACE","\n\n",78],"}",["T_WHITESPACE","\n",80]]