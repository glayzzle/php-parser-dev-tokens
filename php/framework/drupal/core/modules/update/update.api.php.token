[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_DOC_COMMENT","\/**\n * @file\n * Hooks provided by the Update Manager module.\n *\/",3],["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * @addtogroup hooks\n * @{\n *\/",8],["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Alter the list of projects before fetching data and comparing versions.\n *\n * Most modules will never need to implement this hook. It is for advanced\n * interaction with the Update Manager module. The primary use-case for this\n * hook is to add projects to the list; for example, to provide update status\n * data on disabled modules and themes. A contributed module might want to hide\n * projects from the list; for example, if there is a site-specific module that\n * doesn't have any official releases, that module could remove itself from this\n * list to avoid \"No available releases found\" warnings on the available updates\n * report. In rare cases, a module might want to alter the data associated with\n * a project already in the list.\n *\n * @param $projects\n *   Reference to an array of the projects installed on the system. This\n *   includes all the metadata documented in the comments below for each project\n *   (either module or theme) that is currently enabled. The array is initially\n *   populated inside \\Drupal\\Update\\UpdateManager::getProjects() with the help\n *   of \\Drupal\\Core\\Utility\\ProjectInfo->processInfoList(), so look there for\n *   examples of how to populate the array with real values.\n *\n * @see \\Drupal\\Update\\UpdateManager::getProjects()\n * @see \\Drupal\\Core\\Utility\\ProjectInfo::processInfoList()\n *\/",13],["T_WHITESPACE","\n",36],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","hook_update_projects_alter",37],"(","&",["T_VARIABLE","$projects",37],")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n  ",37],["T_COMMENT","\/\/ Hide a site-specific module from the list.\n",38],["T_WHITESPACE","  ",39],["T_UNSET","unset",39],"(",["T_VARIABLE","$projects",39],"[",["T_CONSTANT_ENCAPSED_STRING","'site_specific_module'",39],"]",")",";",["T_WHITESPACE","\n\n  ",39],["T_COMMENT","\/\/ Add a disabled module to the list.\n",41],["T_WHITESPACE","  ",42],["T_COMMENT","\/\/ The key for the array should be the machine-readable project \"short name\".\n",42],["T_WHITESPACE","  ",43],["T_VARIABLE","$projects",43],"[",["T_CONSTANT_ENCAPSED_STRING","'disabled_project_name'",43],"]",["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_ARRAY","array",43],"(",["T_WHITESPACE","\n    ",43],["T_COMMENT","\/\/ Machine-readable project short name (same as the array key above).\n",44],["T_WHITESPACE","    ",45],["T_CONSTANT_ENCAPSED_STRING","'name'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'disabled_project_name'",45],",",["T_WHITESPACE","\n    ",45],["T_COMMENT","\/\/ Array of values from the main .info.yml file for this project.\n",46],["T_WHITESPACE","    ",47],["T_CONSTANT_ENCAPSED_STRING","'info'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_ARRAY","array",47],"(",["T_WHITESPACE","\n      ",47],["T_CONSTANT_ENCAPSED_STRING","'name'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'Some disabled module'",48],",",["T_WHITESPACE","\n      ",48],["T_CONSTANT_ENCAPSED_STRING","'description'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'A module not enabled on the site that you want to see in the available updates report.'",49],",",["T_WHITESPACE","\n      ",49],["T_CONSTANT_ENCAPSED_STRING","'version'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'8.x-1.0'",50],",",["T_WHITESPACE","\n      ",50],["T_CONSTANT_ENCAPSED_STRING","'core'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'8.x'",51],",",["T_WHITESPACE","\n      ",51],["T_COMMENT","\/\/ The maximum file change time (the \"ctime\" returned by the filectime()\n",52],["T_WHITESPACE","      ",53],["T_COMMENT","\/\/ PHP method) for all of the .info.yml files included in this project.\n",53],["T_WHITESPACE","      ",54],["T_CONSTANT_ENCAPSED_STRING","'_info_file_ctime'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_LNUMBER","1243888165",54],",",["T_WHITESPACE","\n    ",54],")",",",["T_WHITESPACE","\n    ",55],["T_COMMENT","\/\/ The date stamp when the project was released, if known. If the disabled\n",56],["T_WHITESPACE","    ",57],["T_COMMENT","\/\/ project was an officially packaged release from drupal.org, this will\n",57],["T_WHITESPACE","    ",58],["T_COMMENT","\/\/ be included in the .info.yml file as the 'datestamp' field. This only\n",58],["T_WHITESPACE","    ",59],["T_COMMENT","\/\/ really matters for development snapshot releases that are regenerated,\n",59],["T_WHITESPACE","    ",60],["T_COMMENT","\/\/ so it can be left undefined or set to 0 in most cases.\n",60],["T_WHITESPACE","    ",61],["T_CONSTANT_ENCAPSED_STRING","'datestamp'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_LNUMBER","1243888185",61],",",["T_WHITESPACE","\n    ",61],["T_COMMENT","\/\/ Any modules (or themes) included in this project. Keyed by machine-\n",62],["T_WHITESPACE","    ",63],["T_COMMENT","\/\/ readable \"short name\", value is the human-readable project name printed\n",63],["T_WHITESPACE","    ",64],["T_COMMENT","\/\/ in the UI.\n",64],["T_WHITESPACE","    ",65],["T_CONSTANT_ENCAPSED_STRING","'includes'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_ARRAY","array",65],"(",["T_WHITESPACE","\n      ",65],["T_CONSTANT_ENCAPSED_STRING","'disabled_project'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'Disabled module'",66],",",["T_WHITESPACE","\n      ",66],["T_CONSTANT_ENCAPSED_STRING","'disabled_project_helper'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'Disabled module helper module'",67],",",["T_WHITESPACE","\n      ",67],["T_CONSTANT_ENCAPSED_STRING","'disabled_project_foo'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'Disabled module foo add-on module'",68],",",["T_WHITESPACE","\n    ",68],")",",",["T_WHITESPACE","\n    ",69],["T_COMMENT","\/\/ Does this project contain a 'module', 'theme', 'disabled-module', or\n",70],["T_WHITESPACE","    ",71],["T_COMMENT","\/\/ 'disabled-theme'?\n",71],["T_WHITESPACE","    ",72],["T_CONSTANT_ENCAPSED_STRING","'project_type'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'disabled-module'",72],",",["T_WHITESPACE","\n  ",72],")",";",["T_WHITESPACE","\n",73],"}",["T_WHITESPACE","\n\n",74],["T_DOC_COMMENT","\/**\n * Alter the information about available updates for projects.\n *\n * @param $projects\n *   Reference to an array of information about available updates to each\n *   project installed on the system.\n *\n * @see update_calculate_project_data()\n *\/",76],["T_WHITESPACE","\n",84],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","hook_update_status_alter",85],"(","&",["T_VARIABLE","$projects",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n  ",85],["T_VARIABLE","$settings",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Drupal",86],["T_DOUBLE_COLON","::",86],["T_STRING","config",86],"(",["T_CONSTANT_ENCAPSED_STRING","'update_advanced.settings'",86],")",["T_OBJECT_OPERATOR","->",86],["T_STRING","get",86],"(",["T_CONSTANT_ENCAPSED_STRING","'projects'",86],")",";",["T_WHITESPACE","\n  ",86],["T_FOREACH","foreach",87],["T_WHITESPACE"," ",87],"(",["T_VARIABLE","$projects",87],["T_WHITESPACE"," ",87],["T_AS","as",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$project",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$project_info",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n    ",87],["T_IF","if",88],["T_WHITESPACE"," ",88],"(",["T_ISSET","isset",88],"(",["T_VARIABLE","$settings",88],"[",["T_VARIABLE","$project",88],"]",")",["T_WHITESPACE"," ",88],["T_BOOLEAN_AND","&&",88],["T_WHITESPACE"," ",88],["T_ISSET","isset",88],"(",["T_VARIABLE","$settings",88],"[",["T_VARIABLE","$project",88],"]","[",["T_CONSTANT_ENCAPSED_STRING","'check'",88],"]",")",["T_WHITESPACE"," ",88],["T_BOOLEAN_AND","&&",88],["T_WHITESPACE","\n        ",88],"(",["T_VARIABLE","$settings",89],"[",["T_VARIABLE","$project",89],"]","[",["T_CONSTANT_ENCAPSED_STRING","'check'",89],"]",["T_WHITESPACE"," ",89],["T_IS_EQUAL","==",89],["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'never'",89],["T_WHITESPACE"," ",89],["T_BOOLEAN_OR","||",89],["T_WHITESPACE","\n          ",89],"(",["T_ISSET","isset",90],"(",["T_VARIABLE","$project_info",90],"[",["T_CONSTANT_ENCAPSED_STRING","'recommended'",90],"]",")",["T_WHITESPACE"," ",90],["T_BOOLEAN_AND","&&",90],["T_WHITESPACE","\n            ",90],["T_VARIABLE","$settings",91],"[",["T_VARIABLE","$project",91],"]","[",["T_CONSTANT_ENCAPSED_STRING","'check'",91],"]",["T_WHITESPACE"," ",91],["T_IS_IDENTICAL","===",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$project_info",91],"[",["T_CONSTANT_ENCAPSED_STRING","'recommended'",91],"]",")",")",")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n      ",91],["T_VARIABLE","$projects",92],"[",["T_VARIABLE","$project",92],"]","[",["T_CONSTANT_ENCAPSED_STRING","'status'",92],"]",["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_STRING","UPDATE_NOT_CHECKED",92],";",["T_WHITESPACE","\n      ",92],["T_VARIABLE","$projects",93],"[",["T_VARIABLE","$project",93],"]","[",["T_CONSTANT_ENCAPSED_STRING","'reason'",93],"]",["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","t",93],"(",["T_CONSTANT_ENCAPSED_STRING","'Ignored from settings'",93],")",";",["T_WHITESPACE","\n      ",93],["T_IF","if",94],["T_WHITESPACE"," ",94],"(","!",["T_EMPTY","empty",94],"(",["T_VARIABLE","$settings",94],"[",["T_VARIABLE","$project",94],"]","[",["T_CONSTANT_ENCAPSED_STRING","'notes'",94],"]",")",")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$projects",95],"[",["T_VARIABLE","$project",95],"]","[",["T_CONSTANT_ENCAPSED_STRING","'extra'",95],"]","[","]",["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_ARRAY","array",95],"(",["T_WHITESPACE","\n          ",95],["T_CONSTANT_ENCAPSED_STRING","'class'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_ARRAY","array",96],"(",["T_CONSTANT_ENCAPSED_STRING","'admin-note'",96],")",",",["T_WHITESPACE","\n          ",96],["T_CONSTANT_ENCAPSED_STRING","'label'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_STRING","t",97],"(",["T_CONSTANT_ENCAPSED_STRING","'Administrator note'",97],")",",",["T_WHITESPACE","\n          ",97],["T_CONSTANT_ENCAPSED_STRING","'data'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$settings",98],"[",["T_VARIABLE","$project",98],"]","[",["T_CONSTANT_ENCAPSED_STRING","'notes'",98],"]",",",["T_WHITESPACE","\n        ",98],")",";",["T_WHITESPACE","\n      ",99],"}",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n  ",101],"}",["T_WHITESPACE","\n",102],"}",["T_WHITESPACE","\n\n",103],["T_DOC_COMMENT","\/**\n * Verify an archive after it has been downloaded and extracted.\n *\n * @param string $project\n *   The short name of the project that has been downloaded.\n * @param string $archive_file\n *   The filename of the unextracted archive.\n * @param string $directory\n *   The directory that the archive was extracted into.\n *\n * @return\n *   If there are any problems, return an array of error messages. If there are\n *   no problems, return an empty array.\n *\n * @see update_manager_archive_verify()\n * @ingroup update_manager_file\n *\/",105],["T_WHITESPACE","\n",121],["T_FUNCTION","function",122],["T_WHITESPACE"," ",122],["T_STRING","hook_verify_update_archive",122],"(",["T_VARIABLE","$project",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$archive_file",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$directory",122],")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n  ",122],["T_VARIABLE","$errors",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_ARRAY","array",123],"(",")",";",["T_WHITESPACE","\n  ",123],["T_IF","if",124],["T_WHITESPACE"," ",124],"(","!",["T_STRING","file_exists",124],"(",["T_VARIABLE","$directory",124],")",")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n    ",124],["T_VARIABLE","$errors",125],"[","]",["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_STRING","t",125],"(",["T_CONSTANT_ENCAPSED_STRING","'The %directory does not exist.'",125],",",["T_WHITESPACE"," ",125],["T_ARRAY","array",125],"(",["T_CONSTANT_ENCAPSED_STRING","'%directory'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$directory",125],")",")",";",["T_WHITESPACE","\n  ",125],"}",["T_WHITESPACE","\n  ",126],["T_COMMENT","\/\/ Add other checks on the archive integrity here.\n",127],["T_WHITESPACE","  ",128],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$errors",128],";",["T_WHITESPACE","\n",128],"}",["T_WHITESPACE","\n\n",129],["T_DOC_COMMENT","\/**\n * @} End of \"addtogroup hooks\".\n *\/",131],["T_WHITESPACE","\n",133]]