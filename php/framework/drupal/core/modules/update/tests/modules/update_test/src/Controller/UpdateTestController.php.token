[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","update_test",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Controller",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Controller",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ControllerBase",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Symfony",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","HttpFoundation",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Response",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Symfony",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Component",7],["T_NS_SEPARATOR","\\",7],["T_STRING","HttpFoundation",7],["T_NS_SEPARATOR","\\",7],["T_STRING","BinaryFileResponse",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Provides different routes of the update_test module.\n *\/",9],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","UpdateTestController",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","ControllerBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * Displays an Error 503 (Service unavailable) page.\n   *\n   * @return \\Symfony\\Component\\HttpFoundation\\Response\n   *   Returns the response with a special header.\n   *\/",14],["T_WHITESPACE","\n  ",19],["T_PUBLIC","public",20],["T_WHITESPACE"," ",20],["T_FUNCTION","function",20],["T_WHITESPACE"," ",20],["T_STRING","updateError",20],"(",")",["T_WHITESPACE"," ",20],"{",["T_WHITESPACE","\n    ",20],["T_VARIABLE","$response",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_NEW","new",21],["T_WHITESPACE"," ",21],["T_STRING","Response",21],"(",")",";",["T_WHITESPACE","\n    ",21],["T_VARIABLE","$response",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","setStatusCode",22],"(",["T_LNUMBER","503",22],")",";",["T_WHITESPACE","\n    ",22],["T_VARIABLE","$response",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","headers",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","set",23],"(",["T_CONSTANT_ENCAPSED_STRING","'Status'",23],",",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'503 Service unavailable'",23],")",";",["T_WHITESPACE","\n\n    ",23],["T_RETURN","return",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$response",25],";",["T_WHITESPACE","\n  ",25],"}",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * Page callback: Prints mock XML for the Update Manager module.\n   *\n   * The specific XML file to print depends on two things: the project we're\n   * trying to fetch data for, and the desired \"availability scenario\" for that\n   * project which we're trying to test. Before attempting to fetch this data (by\n   * checking for updates on the available updates report), callers need to define\n   * the 'update_test_xml_map' variable as an array, keyed by project name,\n   * indicating which availability scenario to use for that project.\n   *\n   * @param string $project_name\n   *   The project short name the update manager is trying to fetch data for (the\n   *   fetch URLs are of the form: [base_url]\/[project_name]\/[core_version]).\n   * @param string $version\n   *   The version of Drupal core.\n   *\n   * @return BinaryFileResponse|Response\n   *   A BinaryFileResponse object containing the content of the XML release file\n   *   for the specified project if one is available; a Response object with no\n   *   content otherwise.\n   *\/",28],["T_WHITESPACE","\n  ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","updateTest",49],"(",["T_VARIABLE","$project_name",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$version",49],")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$xml_map",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","config",50],"(",["T_CONSTANT_ENCAPSED_STRING","'update_test.settings'",50],")",["T_OBJECT_OPERATOR","->",50],["T_STRING","get",50],"(",["T_CONSTANT_ENCAPSED_STRING","'xml_map'",50],")",";",["T_WHITESPACE","\n    ",50],["T_IF","if",51],["T_WHITESPACE"," ",51],"(",["T_ISSET","isset",51],"(",["T_VARIABLE","$xml_map",51],"[",["T_VARIABLE","$project_name",51],"]",")",")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n      ",51],["T_VARIABLE","$availability_scenario",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$xml_map",52],"[",["T_VARIABLE","$project_name",52],"]",";",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n    ",53],["T_ELSEIF","elseif",54],["T_WHITESPACE"," ",54],"(",["T_ISSET","isset",54],"(",["T_VARIABLE","$xml_map",54],"[",["T_CONSTANT_ENCAPSED_STRING","'#all'",54],"]",")",")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n      ",54],["T_VARIABLE","$availability_scenario",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$xml_map",55],"[",["T_CONSTANT_ENCAPSED_STRING","'#all'",55],"]",";",["T_WHITESPACE","\n    ",55],"}",["T_WHITESPACE","\n    ",56],["T_ELSE","else",57],["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n      ",57],["T_COMMENT","\/\/ The test didn't specify (for example, the webroot has other modules and\n",58],["T_WHITESPACE","      ",59],["T_COMMENT","\/\/ themes installed but they're disabled by the version of the site\n",59],["T_WHITESPACE","      ",60],["T_COMMENT","\/\/ running the test. So, we default to a file we know won't exist, so at\n",60],["T_WHITESPACE","      ",61],["T_COMMENT","\/\/ least we'll get an empty xml response instead of a bunch of Drupal page\n",61],["T_WHITESPACE","      ",62],["T_COMMENT","\/\/ output.\n",62],["T_WHITESPACE","      ",63],["T_VARIABLE","$availability_scenario",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'#broken#'",63],";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_VARIABLE","$file",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_DIR","__DIR__",66],["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],"\"",["T_ENCAPSED_AND_WHITESPACE","\/..\/..\/",66],["T_VARIABLE","$project_name",66],["T_ENCAPSED_AND_WHITESPACE",".",66],["T_VARIABLE","$availability_scenario",66],["T_ENCAPSED_AND_WHITESPACE",".xml",66],"\"",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$headers",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_ARRAY","array",67],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'text\/xml; charset=utf-8'",67],")",";",["T_WHITESPACE","\n    ",67],["T_IF","if",68],["T_WHITESPACE"," ",68],"(","!",["T_STRING","is_file",68],"(",["T_VARIABLE","$file",68],")",")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n      ",68],["T_COMMENT","\/\/ Return an empty response.\n",69],["T_WHITESPACE","      ",70],["T_RETURN","return",70],["T_WHITESPACE"," ",70],["T_NEW","new",70],["T_WHITESPACE"," ",70],["T_STRING","Response",70],"(",["T_CONSTANT_ENCAPSED_STRING","''",70],",",["T_WHITESPACE"," ",70],["T_LNUMBER","200",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$headers",70],")",";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n    ",71],["T_RETURN","return",72],["T_WHITESPACE"," ",72],["T_NEW","new",72],["T_WHITESPACE"," ",72],["T_STRING","BinaryFileResponse",72],"(",["T_VARIABLE","$file",72],",",["T_WHITESPACE"," ",72],["T_LNUMBER","200",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$headers",72],")",";",["T_WHITESPACE","\n  ",72],"}",["T_WHITESPACE","\n\n",73],"}",["T_WHITESPACE","\n",75]]