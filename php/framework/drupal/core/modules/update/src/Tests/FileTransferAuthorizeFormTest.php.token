[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","update",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Tests the Update Manager module upload via authorize.php functionality.\n *\n * @group update\n *\/",5],["T_WHITESPACE","\n",9],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","FileTransferAuthorizeFormTest",10],["T_WHITESPACE"," ",10],["T_EXTENDS","extends",10],["T_WHITESPACE"," ",10],["T_STRING","UpdateTestBase",10],["T_WHITESPACE"," ",10],"{",["T_WHITESPACE","\n\n  ",10],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",12],["T_WHITESPACE","\n  ",16],["T_PUBLIC","public",17],["T_WHITESPACE"," ",17],["T_STATIC","static",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$modules",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_ARRAY","array",17],"(",["T_CONSTANT_ENCAPSED_STRING","'update'",17],",",["T_WHITESPACE"," ",17],["T_CONSTANT_ENCAPSED_STRING","'update_test'",17],")",";",["T_WHITESPACE","\n\n  ",17],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_FUNCTION","function",19],["T_WHITESPACE"," ",19],["T_STRING","setUp",19],"(",")",["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n    ",19],["T_STRING","parent",20],["T_DOUBLE_COLON","::",20],["T_STRING","setUp",20],"(",")",";",["T_WHITESPACE","\n    ",20],["T_VARIABLE","$admin_user",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","drupalCreateUser",21],"(",["T_ARRAY","array",21],"(",["T_CONSTANT_ENCAPSED_STRING","'administer modules'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'administer software updates'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'administer site configuration'",21],")",")",";",["T_WHITESPACE","\n    ",21],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","drupalLogin",22],"(",["T_VARIABLE","$admin_user",22],")",";",["T_WHITESPACE","\n\n    ",22],["T_COMMENT","\/\/ Create a local cache so the module is not downloaded from drupal.org.\n",24],["T_WHITESPACE","    ",25],["T_VARIABLE","$cache_directory",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_STRING","_update_manager_cache_directory",25],"(",["T_STRING","TRUE",25],")",";",["T_WHITESPACE","\n    ",25],["T_VARIABLE","$validArchiveFile",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_DIR","__DIR__",26],["T_WHITESPACE"," ",26],".",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'\/..\/..\/tests\/update_test_new_module\/8.x-1.0\/update_test_new_module.tar.gz'",26],";",["T_WHITESPACE","\n    ",26],["T_STRING","copy",27],"(",["T_VARIABLE","$validArchiveFile",27],",",["T_WHITESPACE"," ",27],["T_VARIABLE","$cache_directory",27],["T_WHITESPACE"," ",27],".",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'\/update_test_new_module.tar.gz'",27],")",";",["T_WHITESPACE","\n  ",27],"}",["T_WHITESPACE","\n\n  ",28],["T_DOC_COMMENT","\/**\n   * Tests the Update Manager module upload via authorize.php functionality.\n   *\/",30],["T_WHITESPACE","\n  ",32],["T_PUBLIC","public",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","testViaAuthorize",33],"(",")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n    ",33],["T_COMMENT","\/\/ Ensure the that we can select which file transfer backend to use.\n",34],["T_WHITESPACE","    ",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Drupal",35],["T_DOUBLE_COLON","::",35],["T_STRING","state",35],"(",")",["T_OBJECT_OPERATOR","->",35],["T_STRING","set",35],"(",["T_CONSTANT_ENCAPSED_STRING","'test_uploaders_via_prompt'",35],",",["T_WHITESPACE"," ",35],["T_STRING","TRUE",35],")",";",["T_WHITESPACE","\n\n    ",35],["T_COMMENT","\/\/ Ensure the module does not already exist.\n",37],["T_WHITESPACE","    ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","drupalGet",38],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/modules'",38],")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","assertNoText",39],"(",["T_CONSTANT_ENCAPSED_STRING","'Update test new module'",39],")",";",["T_WHITESPACE","\n\n    ",39],["T_VARIABLE","$edit",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],"[",["T_WHITESPACE","\n      ",41],["T_COMMENT","\/\/ This project has been cached in the test's setUp() method.\n",42],["T_WHITESPACE","      ",43],["T_CONSTANT_ENCAPSED_STRING","'project_url'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/ftp.drupal.org\/files\/projects\/update_test_new_module.tar.gz'",43],",",["T_WHITESPACE","\n    ",43],"]",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","drupalPostForm",45],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/modules\/install'",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$edit",45],",",["T_WHITESPACE"," ",45],["T_STRING","t",45],"(",["T_CONSTANT_ENCAPSED_STRING","'Install'",45],")",")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$edit",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],"[",["T_WHITESPACE","\n      ",46],["T_CONSTANT_ENCAPSED_STRING","'connection_settings[authorize_filetransfer_default]'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'system_test'",47],",",["T_WHITESPACE","\n      ",47],["T_CONSTANT_ENCAPSED_STRING","'connection_settings[system_test][update_test_username]'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","randomMachineName",48],"(",")",",",["T_WHITESPACE","\n    ",48],"]",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","drupalPostForm",50],"(",["T_STRING","NULL",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$edit",50],",",["T_WHITESPACE"," ",50],["T_STRING","t",50],"(",["T_CONSTANT_ENCAPSED_STRING","'Continue'",50],")",")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertText",51],"(",["T_STRING","t",51],"(",["T_CONSTANT_ENCAPSED_STRING","'Installation was completed successfully.'",51],")",")",";",["T_WHITESPACE","\n\n    ",51],["T_COMMENT","\/\/ Ensure the module is available to install.\n",53],["T_WHITESPACE","    ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","drupalGet",54],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/modules'",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertText",55],"(",["T_CONSTANT_ENCAPSED_STRING","'Update test new module'",55],")",";",["T_WHITESPACE","\n  ",55],"}",["T_WHITESPACE","\n\n",56],"}",["T_WHITESPACE","\n",58]]