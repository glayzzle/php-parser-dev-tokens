[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","forum",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Controller",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Cache",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Cache",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Controller",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ControllerBase",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","EntityAccessControlHandlerInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","EntityStorageInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","EntityTypeInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Render",10],["T_NS_SEPARATOR","\\",10],["T_STRING","RendererInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Session",11],["T_NS_SEPARATOR","\\",11],["T_STRING","AccountInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Url",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","forum",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ForumManagerInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Drupal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","taxonomy",14],["T_NS_SEPARATOR","\\",14],["T_STRING","TermInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Drupal",15],["T_NS_SEPARATOR","\\",15],["T_STRING","taxonomy",15],["T_NS_SEPARATOR","\\",15],["T_STRING","TermStorageInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Drupal",16],["T_NS_SEPARATOR","\\",16],["T_STRING","taxonomy",16],["T_NS_SEPARATOR","\\",16],["T_STRING","VocabularyStorageInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","DependencyInjection",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ContainerInterface",17],";",["T_WHITESPACE","\n\n",17],["T_DOC_COMMENT","\/**\n * Controller routines for forum routes.\n *\/",19],["T_WHITESPACE","\n",21],["T_CLASS","class",22],["T_WHITESPACE"," ",22],["T_STRING","ForumController",22],["T_WHITESPACE"," ",22],["T_EXTENDS","extends",22],["T_WHITESPACE"," ",22],["T_STRING","ControllerBase",22],["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * Forum manager service.\n   *\n   * @var \\Drupal\\forum\\ForumManagerInterface\n   *\/",24],["T_WHITESPACE","\n  ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$forumManager",29],";",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * Vocabulary storage.\n   *\n   * @var \\Drupal\\taxonomy\\VocabularyStorageInterface\n   *\/",31],["T_WHITESPACE","\n  ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$vocabularyStorage",36],";",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * Term storage.\n   *\n   * @var \\Drupal\\taxonomy\\TermStorageInterface\n   *\/",38],["T_WHITESPACE","\n  ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$termStorage",43],";",["T_WHITESPACE","\n\n  ",43],["T_DOC_COMMENT","\/**\n   * Node access control handler.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityAccessControlHandlerInterface\n   *\/",45],["T_WHITESPACE","\n  ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$nodeAccess",50],";",["T_WHITESPACE","\n\n  ",50],["T_DOC_COMMENT","\/**\n   * Field map of existing fields on the site.\n   *\n   * @var array\n   *\/",52],["T_WHITESPACE","\n  ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$fieldMap",57],";",["T_WHITESPACE","\n\n  ",57],["T_DOC_COMMENT","\/**\n   * Node type storage handler.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityStorageInterface\n   *\/",59],["T_WHITESPACE","\n  ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$nodeTypeStorage",64],";",["T_WHITESPACE","\n\n  ",64],["T_DOC_COMMENT","\/**\n   * The renderer.\n   *\n   * @var \\Drupal\\Core\\Render\\RendererInterface\n   *\/",66],["T_WHITESPACE","\n  ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$renderer",71],";",["T_WHITESPACE","\n\n  ",71],["T_DOC_COMMENT","\/**\n   * Node entity type, we need to get cache tags from here.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityTypeInterface\n   *\/",73],["T_WHITESPACE","\n  ",77],["T_PROTECTED","protected",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$nodeEntityTypeDefinition",78],";",["T_WHITESPACE","\n\n  ",78],["T_DOC_COMMENT","\/**\n   * Comment entity type, we need to get cache tags from here.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityTypeInterface\n   *\/",80],["T_WHITESPACE","\n  ",84],["T_PROTECTED","protected",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$commentEntityTypeDefinition",85],";",["T_WHITESPACE","\n\n  ",85],["T_DOC_COMMENT","\/**\n   * Constructs a ForumController object.\n   *\n   * @param \\Drupal\\forum\\ForumManagerInterface $forum_manager\n   *   The forum manager service.\n   * @param \\Drupal\\taxonomy\\VocabularyStorageInterface $vocabulary_storage\n   *   Vocabulary storage.\n   * @param \\Drupal\\taxonomy\\TermStorageInterface $term_storage\n   *   Term storage.\n   * @param \\Drupal\\Core\\Session\\AccountInterface $current_user\n   *   The current logged in user.\n   * @param \\Drupal\\Core\\Entity\\EntityAccessControlHandlerInterface $node_access\n   *   Node access control handler.\n   * @param array $field_map\n   *   Array of active fields on the site.\n   * @param \\Drupal\\Core\\Entity\\EntityStorageInterface $node_type_storage\n   *   Node type storage handler.\n   * @param \\Drupal\\Core\\Render\\RendererInterface $renderer\n   *   The renderer.\n   * @param \\Drupal\\Core\\Entity\\EntityTypeInterface $node_entity_type_definition\n   *   Node entity type definition object\n   * @param \\Drupal\\Core\\Entity\\EntityTypeInterface $comment_entity_type_definition\n   *   Comment entity type definition object\n   *\/",87],["T_WHITESPACE","\n  ",110],["T_PUBLIC","public",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","__construct",111],"(",["T_STRING","ForumManagerInterface",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$forum_manager",111],",",["T_WHITESPACE"," ",111],["T_STRING","VocabularyStorageInterface",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$vocabulary_storage",111],",",["T_WHITESPACE"," ",111],["T_STRING","TermStorageInterface",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$term_storage",111],",",["T_WHITESPACE"," ",111],["T_STRING","AccountInterface",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$current_user",111],",",["T_WHITESPACE"," ",111],["T_STRING","EntityAccessControlHandlerInterface",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$node_access",111],",",["T_WHITESPACE"," ",111],["T_ARRAY","array",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$field_map",111],",",["T_WHITESPACE"," ",111],["T_STRING","EntityStorageInterface",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$node_type_storage",111],",",["T_WHITESPACE"," ",111],["T_STRING","RendererInterface",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$renderer",111],",",["T_WHITESPACE"," ",111],["T_STRING","EntityTypeInterface",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$node_entity_type_definition",111],",",["T_WHITESPACE"," ",111],["T_STRING","EntityTypeInterface",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$comment_entity_type_definition",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","forumManager",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$forum_manager",112],";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","vocabularyStorage",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$vocabulary_storage",113],";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","termStorage",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$term_storage",114],";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","currentUser",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$current_user",115],";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","nodeAccess",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$node_access",116],";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","fieldMap",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$field_map",117],";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","nodeTypeStorage",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$node_type_storage",118],";",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","renderer",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$renderer",119],";",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","nodeEntityTypeDefinition",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$node_entity_type_definition",120],";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","commentEntityTypeDefinition",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$comment_entity_type_definition",121],";",["T_WHITESPACE","\n  ",121],"}",["T_WHITESPACE","\n\n  ",122],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",124],["T_WHITESPACE","\n  ",126],["T_PUBLIC","public",127],["T_WHITESPACE"," ",127],["T_STATIC","static",127],["T_WHITESPACE"," ",127],["T_FUNCTION","function",127],["T_WHITESPACE"," ",127],["T_STRING","create",127],"(",["T_STRING","ContainerInterface",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$container",127],")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n    ",127],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Entity\\EntityManagerInterface $entity_manager *\/",128],["T_WHITESPACE","\n    ",128],["T_VARIABLE","$entity_manager",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$container",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","get",129],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",129],")",";",["T_WHITESPACE","\n\n    ",129],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_NEW","new",131],["T_WHITESPACE"," ",131],["T_STATIC","static",131],"(",["T_WHITESPACE","\n      ",131],["T_VARIABLE","$container",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","get",132],"(",["T_CONSTANT_ENCAPSED_STRING","'forum_manager'",132],")",",",["T_WHITESPACE","\n      ",132],["T_VARIABLE","$entity_manager",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getStorage",133],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_vocabulary'",133],")",",",["T_WHITESPACE","\n      ",133],["T_VARIABLE","$entity_manager",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getStorage",134],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term'",134],")",",",["T_WHITESPACE","\n      ",134],["T_VARIABLE","$container",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","get",135],"(",["T_CONSTANT_ENCAPSED_STRING","'current_user'",135],")",",",["T_WHITESPACE","\n      ",135],["T_VARIABLE","$entity_manager",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getAccessControlHandler",136],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",136],")",",",["T_WHITESPACE","\n      ",136],["T_VARIABLE","$entity_manager",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getFieldMap",137],"(",")",",",["T_WHITESPACE","\n      ",137],["T_VARIABLE","$entity_manager",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getStorage",138],"(",["T_CONSTANT_ENCAPSED_STRING","'node_type'",138],")",",",["T_WHITESPACE","\n      ",138],["T_VARIABLE","$container",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","get",139],"(",["T_CONSTANT_ENCAPSED_STRING","'renderer'",139],")",",",["T_WHITESPACE","\n      ",139],["T_VARIABLE","$entity_manager",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getDefinition",140],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",140],")",",",["T_WHITESPACE","\n      ",140],["T_VARIABLE","$entity_manager",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getDefinition",141],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",141],")",["T_WHITESPACE","\n    ",141],")",";",["T_WHITESPACE","\n  ",142],"}",["T_WHITESPACE","\n\n  ",143],["T_DOC_COMMENT","\/**\n   * Returns forum page for a given forum.\n   *\n   * @param \\Drupal\\taxonomy\\TermInterface $taxonomy_term\n   *   The forum to render the page for.\n   *\n   * @return array\n   *   A render array.\n   *\/",145],["T_WHITESPACE","\n  ",153],["T_PUBLIC","public",154],["T_WHITESPACE"," ",154],["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],["T_STRING","forumPage",154],"(",["T_STRING","TermInterface",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$taxonomy_term",154],")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n    ",154],["T_COMMENT","\/\/ Get forum details.\n",155],["T_WHITESPACE","    ",156],["T_VARIABLE","$taxonomy_term",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","forums",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","forumManager",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getChildren",156],"(",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","config",156],"(",["T_CONSTANT_ENCAPSED_STRING","'forum.settings'",156],")",["T_OBJECT_OPERATOR","->",156],["T_STRING","get",156],"(",["T_CONSTANT_ENCAPSED_STRING","'vocabulary'",156],")",",",["T_WHITESPACE"," ",156],["T_VARIABLE","$taxonomy_term",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","id",156],"(",")",")",";",["T_WHITESPACE","\n    ",156],["T_VARIABLE","$taxonomy_term",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","parents",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","forumManager",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getParents",157],"(",["T_VARIABLE","$taxonomy_term",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","id",157],"(",")",")",";",["T_WHITESPACE","\n\n    ",157],["T_IF","if",159],["T_WHITESPACE"," ",159],"(",["T_EMPTY","empty",159],"(",["T_VARIABLE","$taxonomy_term",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","forum_container",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","value",159],")",")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n      ",159],["T_VARIABLE","$build",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","forumManager",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getTopics",160],"(",["T_VARIABLE","$taxonomy_term",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","id",160],"(",")",",",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","currentUser",160],"(",")",")",";",["T_WHITESPACE","\n      ",160],["T_VARIABLE","$topics",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$build",161],"[",["T_CONSTANT_ENCAPSED_STRING","'topics'",161],"]",";",["T_WHITESPACE","\n      ",161],["T_VARIABLE","$header",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$build",162],"[",["T_CONSTANT_ENCAPSED_STRING","'header'",162],"]",";",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n    ",163],["T_ELSE","else",164],["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n      ",164],["T_VARIABLE","$topics",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],"[","]",";",["T_WHITESPACE","\n      ",165],["T_VARIABLE","$header",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],"[","]",";",["T_WHITESPACE","\n    ",166],"}",["T_WHITESPACE","\n    ",167],["T_RETURN","return",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","build",168],"(",["T_VARIABLE","$taxonomy_term",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","forums",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$taxonomy_term",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$topics",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$taxonomy_term",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","parents",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$header",168],")",";",["T_WHITESPACE","\n  ",168],"}",["T_WHITESPACE","\n\n  ",169],["T_DOC_COMMENT","\/**\n   * Returns forum index page.\n   *\n   * @return array\n   *   A render array.\n   *\/",171],["T_WHITESPACE","\n  ",176],["T_PUBLIC","public",177],["T_WHITESPACE"," ",177],["T_FUNCTION","function",177],["T_WHITESPACE"," ",177],["T_STRING","forumIndex",177],"(",")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n    ",177],["T_VARIABLE","$vocabulary",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","vocabularyStorage",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","load",178],"(",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","config",178],"(",["T_CONSTANT_ENCAPSED_STRING","'forum.settings'",178],")",["T_OBJECT_OPERATOR","->",178],["T_STRING","get",178],"(",["T_CONSTANT_ENCAPSED_STRING","'vocabulary'",178],")",")",";",["T_WHITESPACE","\n    ",178],["T_VARIABLE","$index",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","forumManager",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getIndex",179],"(",")",";",["T_WHITESPACE","\n    ",179],["T_VARIABLE","$build",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","build",180],"(",["T_VARIABLE","$index",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","forums",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$index",180],")",";",["T_WHITESPACE","\n    ",180],["T_IF","if",181],["T_WHITESPACE"," ",181],"(",["T_EMPTY","empty",181],"(",["T_VARIABLE","$index",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","forums",181],")",")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n      ",181],["T_COMMENT","\/\/ Root of empty forum.\n",182],["T_WHITESPACE","      ",183],["T_VARIABLE","$build",183],"[",["T_CONSTANT_ENCAPSED_STRING","'#title'",183],"]",["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","t",183],"(",["T_CONSTANT_ENCAPSED_STRING","'No forums defined'",183],")",";",["T_WHITESPACE","\n    ",183],"}",["T_WHITESPACE","\n    ",184],["T_ELSE","else",185],["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n      ",185],["T_COMMENT","\/\/ Set the page title to forum's vocabulary name.\n",186],["T_WHITESPACE","      ",187],["T_VARIABLE","$build",187],"[",["T_CONSTANT_ENCAPSED_STRING","'#title'",187],"]",["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$vocabulary",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","label",187],"(",")",";",["T_WHITESPACE","\n      ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","renderer",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","addCacheableDependency",188],"(",["T_VARIABLE","$build",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$vocabulary",188],")",";",["T_WHITESPACE","\n    ",188],"}",["T_WHITESPACE","\n    ",189],["T_RETURN","return",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$build",190],";",["T_WHITESPACE","\n  ",190],"}",["T_WHITESPACE","\n\n  ",191],["T_DOC_COMMENT","\/**\n   * Returns a renderable forum index page array.\n   *\n   * @param array $forums\n   *   A list of forums.\n   * @param \\Drupal\\taxonomy\\TermInterface $term\n   *   The taxonomy term of the forum.\n   * @param array $topics\n   *   The topics of this forum.\n   * @param array $parents\n   *   The parent forums in relation this forum.\n   * @param array $header\n   *   Array of header cells.\n   *\n   * @return array\n   *   A render array.\n   *\/",193],["T_WHITESPACE","\n  ",209],["T_PROTECTED","protected",210],["T_WHITESPACE"," ",210],["T_FUNCTION","function",210],["T_WHITESPACE"," ",210],["T_STRING","build",210],"(",["T_VARIABLE","$forums",210],",",["T_WHITESPACE"," ",210],["T_STRING","TermInterface",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$term",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$topics",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_ARRAY","array",210],"(",")",",",["T_WHITESPACE"," ",210],["T_VARIABLE","$parents",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_ARRAY","array",210],"(",")",",",["T_WHITESPACE"," ",210],["T_VARIABLE","$header",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_ARRAY","array",210],"(",")",")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n    ",210],["T_VARIABLE","$config",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","config",211],"(",["T_CONSTANT_ENCAPSED_STRING","'forum.settings'",211],")",";",["T_WHITESPACE","\n    ",211],["T_VARIABLE","$build",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_ARRAY","array",212],"(",["T_WHITESPACE","\n      ",212],["T_CONSTANT_ENCAPSED_STRING","'#theme'",213],["T_WHITESPACE"," ",213],["T_DOUBLE_ARROW","=>",213],["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'forums'",213],",",["T_WHITESPACE","\n      ",213],["T_CONSTANT_ENCAPSED_STRING","'#forums'",214],["T_WHITESPACE"," ",214],["T_DOUBLE_ARROW","=>",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$forums",214],",",["T_WHITESPACE","\n      ",214],["T_CONSTANT_ENCAPSED_STRING","'#topics'",215],["T_WHITESPACE"," ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$topics",215],",",["T_WHITESPACE","\n      ",215],["T_CONSTANT_ENCAPSED_STRING","'#parents'",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$parents",216],",",["T_WHITESPACE","\n      ",216],["T_CONSTANT_ENCAPSED_STRING","'#header'",217],["T_WHITESPACE"," ",217],["T_DOUBLE_ARROW","=>",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$header",217],",",["T_WHITESPACE","\n      ",217],["T_CONSTANT_ENCAPSED_STRING","'#term'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$term",218],",",["T_WHITESPACE","\n      ",218],["T_CONSTANT_ENCAPSED_STRING","'#sortby'",219],["T_WHITESPACE"," ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$config",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","get",219],"(",["T_CONSTANT_ENCAPSED_STRING","'topics.order'",219],")",",",["T_WHITESPACE","\n      ",219],["T_CONSTANT_ENCAPSED_STRING","'#forums_per_page'",220],["T_WHITESPACE"," ",220],["T_DOUBLE_ARROW","=>",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$config",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","get",220],"(",["T_CONSTANT_ENCAPSED_STRING","'topics.page_limit'",220],")",",",["T_WHITESPACE","\n    ",220],")",";",["T_WHITESPACE","\n    ",221],["T_IF","if",222],["T_WHITESPACE"," ",222],"(",["T_EMPTY","empty",222],"(",["T_VARIABLE","$term",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","forum_container",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","value",222],")",")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n      ",222],["T_VARIABLE","$build",223],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",223],"]","[",["T_CONSTANT_ENCAPSED_STRING","'feed'",223],"]","[","]",["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_ARRAY","array",223],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy\/term\/'",223],["T_WHITESPACE"," ",223],".",["T_WHITESPACE"," ",223],["T_VARIABLE","$term",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","id",223],"(",")",["T_WHITESPACE"," ",223],".",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'\/feed'",223],",",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'RSS - '",223],["T_WHITESPACE"," ",223],".",["T_WHITESPACE"," ",223],["T_VARIABLE","$term",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getName",223],"(",")",")",";",["T_WHITESPACE","\n    ",223],"}",["T_WHITESPACE","\n    ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","renderer",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","addCacheableDependency",225],"(",["T_VARIABLE","$build",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$config",225],")",";",["T_WHITESPACE","\n\n    ",225],["T_FOREACH","foreach",227],["T_WHITESPACE"," ",227],"(",["T_VARIABLE","$forums",227],["T_WHITESPACE"," ",227],["T_AS","as",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$forum",227],")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n      ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","renderer",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","addCacheableDependency",228],"(",["T_VARIABLE","$build",228],",",["T_WHITESPACE"," ",228],["T_VARIABLE","$forum",228],")",";",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n    ",229],["T_FOREACH","foreach",230],["T_WHITESPACE"," ",230],"(",["T_VARIABLE","$topics",230],["T_WHITESPACE"," ",230],["T_AS","as",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$topic",230],")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n      ",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","renderer",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","addCacheableDependency",231],"(",["T_VARIABLE","$build",231],",",["T_WHITESPACE"," ",231],["T_VARIABLE","$topic",231],")",";",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n    ",232],["T_FOREACH","foreach",233],["T_WHITESPACE"," ",233],"(",["T_VARIABLE","$parents",233],["T_WHITESPACE"," ",233],["T_AS","as",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$parent",233],")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n      ",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","renderer",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","addCacheableDependency",234],"(",["T_VARIABLE","$build",234],",",["T_WHITESPACE"," ",234],["T_VARIABLE","$parent",234],")",";",["T_WHITESPACE","\n    ",234],"}",["T_WHITESPACE","\n    ",235],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","renderer",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","addCacheableDependency",236],"(",["T_VARIABLE","$build",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$term",236],")",";",["T_WHITESPACE","\n\n    ",236],["T_RETURN","return",238],["T_WHITESPACE"," ",238],"[",["T_WHITESPACE","\n      ",238],["T_CONSTANT_ENCAPSED_STRING","'action'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","buildActionLinks",239],"(",["T_VARIABLE","$config",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","get",239],"(",["T_CONSTANT_ENCAPSED_STRING","'vocabulary'",239],")",",",["T_WHITESPACE"," ",239],["T_VARIABLE","$term",239],")",",",["T_WHITESPACE","\n      ",239],["T_CONSTANT_ENCAPSED_STRING","'forum'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$build",240],",",["T_WHITESPACE","\n      ",240],["T_CONSTANT_ENCAPSED_STRING","'#cache'",241],["T_WHITESPACE"," ",241],["T_DOUBLE_ARROW","=>",241],["T_WHITESPACE"," ",241],"[",["T_WHITESPACE","\n        ",241],["T_CONSTANT_ENCAPSED_STRING","'tags'",242],["T_WHITESPACE"," ",242],["T_DOUBLE_ARROW","=>",242],["T_WHITESPACE"," ",242],["T_STRING","Cache",242],["T_DOUBLE_COLON","::",242],["T_STRING","mergeTags",242],"(",["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","nodeEntityTypeDefinition",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getListCacheTags",242],"(",")",",",["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","commentEntityTypeDefinition",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getListCacheTags",242],"(",")",")",",",["T_WHITESPACE","\n      ",242],"]",",",["T_WHITESPACE","\n    ",243],"]",";",["T_WHITESPACE","\n  ",244],"}",["T_WHITESPACE","\n\n  ",245],["T_DOC_COMMENT","\/**\n   * Returns add forum entity form.\n   *\n   * @return array\n   *   Render array for the add form.\n   *\/",247],["T_WHITESPACE","\n  ",252],["T_PUBLIC","public",253],["T_WHITESPACE"," ",253],["T_FUNCTION","function",253],["T_WHITESPACE"," ",253],["T_STRING","addForum",253],"(",")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n    ",253],["T_VARIABLE","$vid",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","config",254],"(",["T_CONSTANT_ENCAPSED_STRING","'forum.settings'",254],")",["T_OBJECT_OPERATOR","->",254],["T_STRING","get",254],"(",["T_CONSTANT_ENCAPSED_STRING","'vocabulary'",254],")",";",["T_WHITESPACE","\n    ",254],["T_VARIABLE","$taxonomy_term",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","termStorage",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","create",255],"(",["T_ARRAY","array",255],"(",["T_WHITESPACE","\n      ",255],["T_CONSTANT_ENCAPSED_STRING","'vid'",256],["T_WHITESPACE"," ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$vid",256],",",["T_WHITESPACE","\n      ",256],["T_CONSTANT_ENCAPSED_STRING","'forum_controller'",257],["T_WHITESPACE"," ",257],["T_DOUBLE_ARROW","=>",257],["T_WHITESPACE"," ",257],["T_LNUMBER","0",257],",",["T_WHITESPACE","\n    ",257],")",")",";",["T_WHITESPACE","\n    ",258],["T_RETURN","return",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","entityFormBuilder",259],"(",")",["T_OBJECT_OPERATOR","->",259],["T_STRING","getForm",259],"(",["T_VARIABLE","$taxonomy_term",259],",",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'forum'",259],")",";",["T_WHITESPACE","\n  ",259],"}",["T_WHITESPACE","\n\n  ",260],["T_DOC_COMMENT","\/**\n   * Returns add container entity form.\n   *\n   * @return array\n   *   Render array for the add form.\n   *\/",262],["T_WHITESPACE","\n  ",267],["T_PUBLIC","public",268],["T_WHITESPACE"," ",268],["T_FUNCTION","function",268],["T_WHITESPACE"," ",268],["T_STRING","addContainer",268],"(",")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n    ",268],["T_VARIABLE","$vid",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","config",269],"(",["T_CONSTANT_ENCAPSED_STRING","'forum.settings'",269],")",["T_OBJECT_OPERATOR","->",269],["T_STRING","get",269],"(",["T_CONSTANT_ENCAPSED_STRING","'vocabulary'",269],")",";",["T_WHITESPACE","\n    ",269],["T_VARIABLE","$taxonomy_term",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","termStorage",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","create",270],"(",["T_ARRAY","array",270],"(",["T_WHITESPACE","\n      ",270],["T_CONSTANT_ENCAPSED_STRING","'vid'",271],["T_WHITESPACE"," ",271],["T_DOUBLE_ARROW","=>",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$vid",271],",",["T_WHITESPACE","\n      ",271],["T_CONSTANT_ENCAPSED_STRING","'forum_container'",272],["T_WHITESPACE"," ",272],["T_DOUBLE_ARROW","=>",272],["T_WHITESPACE"," ",272],["T_LNUMBER","1",272],",",["T_WHITESPACE","\n    ",272],")",")",";",["T_WHITESPACE","\n    ",273],["T_RETURN","return",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","entityFormBuilder",274],"(",")",["T_OBJECT_OPERATOR","->",274],["T_STRING","getForm",274],"(",["T_VARIABLE","$taxonomy_term",274],",",["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'container'",274],")",";",["T_WHITESPACE","\n  ",274],"}",["T_WHITESPACE","\n\n  ",275],["T_DOC_COMMENT","\/**\n   * Generates an action link to display at the top of the forum listing.\n   *\n   * @param string $vid\n   *   Vocabulary ID.\n   * @param \\Drupal\\taxonomy\\TermInterface $forum_term\n   *   The term for which the links are to be built.\n   *\n   * @return array\n   *   Render array containing the links.\n   *\/",277],["T_WHITESPACE","\n  ",287],["T_PROTECTED","protected",288],["T_WHITESPACE"," ",288],["T_FUNCTION","function",288],["T_WHITESPACE"," ",288],["T_STRING","buildActionLinks",288],"(",["T_VARIABLE","$vid",288],",",["T_WHITESPACE"," ",288],["T_STRING","TermInterface",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$forum_term",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_STRING","NULL",288],")",["T_WHITESPACE"," ",288],"{",["T_WHITESPACE","\n    ",288],["T_VARIABLE","$user",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","currentUser",289],"(",")",";",["T_WHITESPACE","\n\n    ",289],["T_VARIABLE","$links",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],"[","]",";",["T_WHITESPACE","\n    ",291],["T_COMMENT","\/\/ Loop through all bundles for forum taxonomy vocabulary field.\n",292],["T_WHITESPACE","    ",293],["T_FOREACH","foreach",293],["T_WHITESPACE"," ",293],"(",["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","fieldMap",293],"[",["T_CONSTANT_ENCAPSED_STRING","'node'",293],"]","[",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_forums'",293],"]","[",["T_CONSTANT_ENCAPSED_STRING","'bundles'",293],"]",["T_WHITESPACE"," ",293],["T_AS","as",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$type",293],")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n      ",293],["T_IF","if",294],["T_WHITESPACE"," ",294],"(",["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","nodeAccess",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","createAccess",294],"(",["T_VARIABLE","$type",294],")",")",["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n        ",294],["T_VARIABLE","$node_type",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","nodeTypeStorage",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","load",295],"(",["T_VARIABLE","$type",295],")",";",["T_WHITESPACE","\n        ",295],["T_VARIABLE","$links",296],"[",["T_VARIABLE","$type",296],"]",["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],"[",["T_WHITESPACE","\n          ",296],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",297],["T_WHITESPACE"," ",297],["T_DOUBLE_ARROW","=>",297],["T_WHITESPACE"," ",297],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",297],["T_WHITESPACE"," ",297],["T_DOUBLE_ARROW","=>",297],["T_WHITESPACE"," ",297],"[",["T_CONSTANT_ENCAPSED_STRING","'action-links'",297],"]","]",",",["T_WHITESPACE","\n          ",297],["T_CONSTANT_ENCAPSED_STRING","'#theme'",298],["T_WHITESPACE"," ",298],["T_DOUBLE_ARROW","=>",298],["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","'menu_local_action'",298],",",["T_WHITESPACE","\n          ",298],["T_CONSTANT_ENCAPSED_STRING","'#link'",299],["T_WHITESPACE"," ",299],["T_DOUBLE_ARROW","=>",299],["T_WHITESPACE"," ",299],"[",["T_WHITESPACE","\n            ",299],["T_CONSTANT_ENCAPSED_STRING","'title'",300],["T_WHITESPACE"," ",300],["T_DOUBLE_ARROW","=>",300],["T_WHITESPACE"," ",300],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","t",300],"(",["T_CONSTANT_ENCAPSED_STRING","'Add new @node_type'",300],",",["T_WHITESPACE"," ",300],"[",["T_WHITESPACE","\n              ",300],["T_CONSTANT_ENCAPSED_STRING","'@node_type'",301],["T_WHITESPACE"," ",301],["T_DOUBLE_ARROW","=>",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","nodeTypeStorage",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","load",301],"(",["T_VARIABLE","$type",301],")",["T_OBJECT_OPERATOR","->",301],["T_STRING","label",301],"(",")",",",["T_WHITESPACE","\n            ",301],"]",")",",",["T_WHITESPACE","\n            ",302],["T_CONSTANT_ENCAPSED_STRING","'url'",303],["T_WHITESPACE"," ",303],["T_DOUBLE_ARROW","=>",303],["T_WHITESPACE"," ",303],["T_STRING","Url",303],["T_DOUBLE_COLON","::",303],["T_STRING","fromRoute",303],"(",["T_CONSTANT_ENCAPSED_STRING","'node.add'",303],",",["T_WHITESPACE"," ",303],"[",["T_CONSTANT_ENCAPSED_STRING","'node_type'",303],["T_WHITESPACE"," ",303],["T_DOUBLE_ARROW","=>",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$type",303],"]",")",",",["T_WHITESPACE","\n          ",303],"]",",",["T_WHITESPACE","\n          ",304],["T_CONSTANT_ENCAPSED_STRING","'#cache'",305],["T_WHITESPACE"," ",305],["T_DOUBLE_ARROW","=>",305],["T_WHITESPACE"," ",305],"[",["T_WHITESPACE","\n            ",305],["T_CONSTANT_ENCAPSED_STRING","'tags'",306],["T_WHITESPACE"," ",306],["T_DOUBLE_ARROW","=>",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$node_type",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","getCacheTags",306],"(",")",",",["T_WHITESPACE","\n          ",306],"]",",",["T_WHITESPACE","\n        ",307],"]",";",["T_WHITESPACE","\n        ",308],["T_IF","if",309],["T_WHITESPACE"," ",309],"(",["T_VARIABLE","$forum_term",309],["T_WHITESPACE"," ",309],["T_BOOLEAN_AND","&&",309],["T_WHITESPACE"," ",309],["T_VARIABLE","$forum_term",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","bundle",309],"(",")",["T_WHITESPACE"," ",309],["T_IS_EQUAL","==",309],["T_WHITESPACE"," ",309],["T_VARIABLE","$vid",309],")",["T_WHITESPACE"," ",309],"{",["T_WHITESPACE","\n          ",309],["T_COMMENT","\/\/ We are viewing a forum term (specific forum), append the tid to\n",310],["T_WHITESPACE","          ",311],["T_COMMENT","\/\/ the url.\n",311],["T_WHITESPACE","          ",312],["T_VARIABLE","$links",312],"[",["T_VARIABLE","$type",312],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#link'",312],"]","[",["T_CONSTANT_ENCAPSED_STRING","'localized_options'",312],"]","[",["T_CONSTANT_ENCAPSED_STRING","'query'",312],"]","[",["T_CONSTANT_ENCAPSED_STRING","'forum_id'",312],"]",["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_VARIABLE","$forum_term",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","id",312],"(",")",";",["T_WHITESPACE","\n        ",312],"}",["T_WHITESPACE","\n      ",313],"}",["T_WHITESPACE","\n    ",314],"}",["T_WHITESPACE","\n    ",315],["T_IF","if",316],["T_WHITESPACE"," ",316],"(",["T_EMPTY","empty",316],"(",["T_VARIABLE","$links",316],")",")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n      ",316],["T_COMMENT","\/\/ Authenticated user does not have access to create new topics.\n",317],["T_WHITESPACE","      ",318],["T_IF","if",318],["T_WHITESPACE"," ",318],"(",["T_VARIABLE","$user",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","isAuthenticated",318],"(",")",")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n        ",318],["T_VARIABLE","$links",319],"[",["T_CONSTANT_ENCAPSED_STRING","'disallowed'",319],"]",["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],"[",["T_WHITESPACE","\n          ",319],["T_CONSTANT_ENCAPSED_STRING","'#markup'",320],["T_WHITESPACE"," ",320],["T_DOUBLE_ARROW","=>",320],["T_WHITESPACE"," ",320],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","t",320],"(",["T_CONSTANT_ENCAPSED_STRING","'You are not allowed to post new content in the forum.'",320],")",",",["T_WHITESPACE","\n        ",320],"]",";",["T_WHITESPACE","\n      ",321],"}",["T_WHITESPACE","\n      ",322],["T_COMMENT","\/\/ Anonymous user does not have access to create new topics.\n",323],["T_WHITESPACE","      ",324],["T_ELSE","else",324],["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n        ",324],["T_VARIABLE","$links",325],"[",["T_CONSTANT_ENCAPSED_STRING","'login'",325],"]",["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],"[",["T_WHITESPACE","\n          ",325],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",326],["T_WHITESPACE"," ",326],["T_DOUBLE_ARROW","=>",326],["T_WHITESPACE"," ",326],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",326],["T_WHITESPACE"," ",326],["T_DOUBLE_ARROW","=>",326],["T_WHITESPACE"," ",326],"[",["T_CONSTANT_ENCAPSED_STRING","'action-links'",326],"]","]",",",["T_WHITESPACE","\n          ",326],["T_CONSTANT_ENCAPSED_STRING","'#theme'",327],["T_WHITESPACE"," ",327],["T_DOUBLE_ARROW","=>",327],["T_WHITESPACE"," ",327],["T_CONSTANT_ENCAPSED_STRING","'menu_local_action'",327],",",["T_WHITESPACE","\n          ",327],["T_CONSTANT_ENCAPSED_STRING","'#link'",328],["T_WHITESPACE"," ",328],["T_DOUBLE_ARROW","=>",328],["T_WHITESPACE"," ",328],["T_ARRAY","array",328],"(",["T_WHITESPACE","\n            ",328],["T_CONSTANT_ENCAPSED_STRING","'title'",329],["T_WHITESPACE"," ",329],["T_DOUBLE_ARROW","=>",329],["T_WHITESPACE"," ",329],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","t",329],"(",["T_CONSTANT_ENCAPSED_STRING","'Log in to post new content in the forum.'",329],")",",",["T_WHITESPACE","\n            ",329],["T_CONSTANT_ENCAPSED_STRING","'url'",330],["T_WHITESPACE"," ",330],["T_DOUBLE_ARROW","=>",330],["T_WHITESPACE"," ",330],["T_STRING","Url",330],["T_DOUBLE_COLON","::",330],["T_STRING","fromRoute",330],"(",["T_CONSTANT_ENCAPSED_STRING","'user.login'",330],",",["T_WHITESPACE"," ",330],"[","]",",",["T_WHITESPACE"," ",330],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",330],["T_WHITESPACE"," ",330],["T_DOUBLE_ARROW","=>",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","getDestinationArray",330],"(",")","]",")",",",["T_WHITESPACE","\n          ",330],")",",",["T_WHITESPACE","\n        ",331],"]",";",["T_WHITESPACE","\n      ",332],"}",["T_WHITESPACE","\n    ",333],"}",["T_WHITESPACE","\n    ",334],["T_RETURN","return",335],["T_WHITESPACE"," ",335],["T_VARIABLE","$links",335],";",["T_WHITESPACE","\n  ",335],"}",["T_WHITESPACE","\n\n",336],"}",["T_WHITESPACE","\n",338]]