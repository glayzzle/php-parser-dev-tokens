[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","forum",3],";",["T_WHITESPACE","\n",3],["T_USE","use",4],["T_WHITESPACE"," ",4],["T_STRING","Drupal",4],["T_NS_SEPARATOR","\\",4],["T_STRING","comment",4],["T_NS_SEPARATOR","\\",4],["T_STRING","CommentInterface",4],";",["T_WHITESPACE","\n",4],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Database",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Connection",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","node",6],["T_NS_SEPARATOR","\\",6],["T_STRING","NodeInterface",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Handles CRUD operations to {forum_index} table.\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","ForumIndexStorage",11],["T_WHITESPACE"," ",11],["T_IMPLEMENTS","implements",11],["T_WHITESPACE"," ",11],["T_STRING","ForumIndexStorageInterface",11],["T_WHITESPACE"," ",11],"{",["T_WHITESPACE","\n\n  ",11],["T_DOC_COMMENT","\/**\n   * The active database connection.\n   *\n   * @var \\Drupal\\Core\\Database\\Connection\n   *\/",13],["T_WHITESPACE","\n  ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$database",18],";",["T_WHITESPACE","\n\n  ",18],["T_DOC_COMMENT","\/**\n   * Constructs a ForumIndexStorage object.\n   *\n   * @param \\Drupal\\Core\\Database\\Connection $database\n   *   The current database connection.\n   *\/",20],["T_WHITESPACE","\n  ",25],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","__construct",26],"(",["T_STRING","Connection",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$database",26],")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n    ",26],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","database",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$database",27],";",["T_WHITESPACE","\n  ",27],"}",["T_WHITESPACE","\n\n  ",28],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",30],["T_WHITESPACE","\n  ",32],["T_PUBLIC","public",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","getOriginalTermId",33],"(",["T_STRING","NodeInterface",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$node",33],")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n    ",33],["T_RETURN","return",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","database",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","queryRange",34],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT f.tid FROM {forum} f INNER JOIN {node} n ON f.vid = n.vid WHERE n.nid = :nid ORDER BY f.vid DESC\"",34],",",["T_WHITESPACE"," ",34],["T_LNUMBER","0",34],",",["T_WHITESPACE"," ",34],["T_LNUMBER","1",34],",",["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",["T_CONSTANT_ENCAPSED_STRING","':nid'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$node",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","id",34],"(",")",")",")",["T_OBJECT_OPERATOR","->",34],["T_STRING","fetchField",34],"(",")",";",["T_WHITESPACE","\n  ",34],"}",["T_WHITESPACE","\n\n  ",35],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",37],["T_WHITESPACE","\n  ",39],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","create",40],"(",["T_STRING","NodeInterface",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$node",40],")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","database",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","insert",41],"(",["T_CONSTANT_ENCAPSED_STRING","'forum'",41],")",["T_WHITESPACE","\n      ",41],["T_OBJECT_OPERATOR","->",42],["T_STRING","fields",42],"(",["T_ARRAY","array",42],"(",["T_WHITESPACE","\n        ",42],["T_CONSTANT_ENCAPSED_STRING","'tid'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$node",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","forum_tid",43],",",["T_WHITESPACE","\n        ",43],["T_CONSTANT_ENCAPSED_STRING","'vid'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$node",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","getRevisionId",44],"(",")",",",["T_WHITESPACE","\n        ",44],["T_CONSTANT_ENCAPSED_STRING","'nid'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$node",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","id",45],"(",")",",",["T_WHITESPACE","\n      ",45],")",")",["T_WHITESPACE","\n      ",46],["T_OBJECT_OPERATOR","->",47],["T_STRING","execute",47],"(",")",";",["T_WHITESPACE","\n  ",47],"}",["T_WHITESPACE","\n\n  ",48],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",50],["T_WHITESPACE","\n  ",52],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","read",53],"(",["T_ARRAY","array",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$vids",53],")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n    ",53],["T_RETURN","return",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","database",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","select",54],"(",["T_CONSTANT_ENCAPSED_STRING","'forum'",54],",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'f'",54],")",["T_WHITESPACE","\n      ",54],["T_OBJECT_OPERATOR","->",55],["T_STRING","fields",55],"(",["T_CONSTANT_ENCAPSED_STRING","'f'",55],",",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",55],",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'tid'",55],")",")",["T_WHITESPACE","\n      ",55],["T_OBJECT_OPERATOR","->",56],["T_STRING","condition",56],"(",["T_CONSTANT_ENCAPSED_STRING","'f.vid'",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$vids",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'IN'",56],")",["T_WHITESPACE","\n      ",56],["T_OBJECT_OPERATOR","->",57],["T_STRING","execute",57],"(",")",";",["T_WHITESPACE","\n  ",57],"}",["T_WHITESPACE","\n\n  ",58],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",60],["T_WHITESPACE","\n  ",62],["T_PUBLIC","public",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","delete",63],"(",["T_STRING","NodeInterface",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$node",63],")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","database",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","delete",64],"(",["T_CONSTANT_ENCAPSED_STRING","'forum'",64],")",["T_WHITESPACE","\n      ",64],["T_OBJECT_OPERATOR","->",65],["T_STRING","condition",65],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$node",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","id",65],"(",")",")",["T_WHITESPACE","\n      ",65],["T_OBJECT_OPERATOR","->",66],["T_STRING","execute",66],"(",")",";",["T_WHITESPACE","\n  ",66],"}",["T_WHITESPACE","\n\n  ",67],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",69],["T_WHITESPACE","\n  ",71],["T_PUBLIC","public",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","deleteRevision",72],"(",["T_STRING","NodeInterface",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$node",72],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","database",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","delete",73],"(",["T_CONSTANT_ENCAPSED_STRING","'forum'",73],")",["T_WHITESPACE","\n      ",73],["T_OBJECT_OPERATOR","->",74],["T_STRING","condition",74],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$node",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","id",74],"(",")",")",["T_WHITESPACE","\n      ",74],["T_OBJECT_OPERATOR","->",75],["T_STRING","condition",75],"(",["T_CONSTANT_ENCAPSED_STRING","'vid'",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$node",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getRevisionId",75],"(",")",")",["T_WHITESPACE","\n      ",75],["T_OBJECT_OPERATOR","->",76],["T_STRING","execute",76],"(",")",";",["T_WHITESPACE","\n  ",76],"}",["T_WHITESPACE","\n\n  ",77],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",79],["T_WHITESPACE","\n  ",81],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","update",82],"(",["T_STRING","NodeInterface",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$node",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","database",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","update",83],"(",["T_CONSTANT_ENCAPSED_STRING","'forum'",83],")",["T_WHITESPACE","\n      ",83],["T_OBJECT_OPERATOR","->",84],["T_STRING","fields",84],"(",["T_ARRAY","array",84],"(",["T_CONSTANT_ENCAPSED_STRING","'tid'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$node",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","forum_tid",84],")",")",["T_WHITESPACE","\n      ",84],["T_OBJECT_OPERATOR","->",85],["T_STRING","condition",85],"(",["T_CONSTANT_ENCAPSED_STRING","'vid'",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$node",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getRevisionId",85],"(",")",")",["T_WHITESPACE","\n      ",85],["T_OBJECT_OPERATOR","->",86],["T_STRING","execute",86],"(",")",";",["T_WHITESPACE","\n  ",86],"}",["T_WHITESPACE","\n\n  ",87],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",89],["T_WHITESPACE","\n  ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","updateIndex",92],"(",["T_STRING","NodeInterface",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$node",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$nid",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$node",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","id",93],"(",")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$count",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","database",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","query",94],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(cid) FROM {comment_field_data} c INNER JOIN {forum_index} i ON c.entity_id = i.nid WHERE c.entity_id = :nid AND c.field_name = 'comment_forum' AND c.entity_type = 'node' AND c.status = :status AND c.default_langcode = 1\"",94],",",["T_WHITESPACE"," ",94],["T_ARRAY","array",94],"(",["T_WHITESPACE","\n      ",94],["T_CONSTANT_ENCAPSED_STRING","':nid'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$nid",95],",",["T_WHITESPACE","\n      ",95],["T_CONSTANT_ENCAPSED_STRING","':status'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_STRING","CommentInterface",96],["T_DOUBLE_COLON","::",96],["T_STRING","PUBLISHED",96],",",["T_WHITESPACE","\n    ",96],")",")",["T_OBJECT_OPERATOR","->",97],["T_STRING","fetchField",97],"(",")",";",["T_WHITESPACE","\n\n    ",97],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_VARIABLE","$count",99],["T_WHITESPACE"," ",99],">",["T_WHITESPACE"," ",99],["T_LNUMBER","0",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n      ",99],["T_COMMENT","\/\/ Comments exist.\n",100],["T_WHITESPACE","      ",101],["T_VARIABLE","$last_reply",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","database",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","queryRange",101],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT cid, name, created, uid FROM {comment_field_data} WHERE entity_id = :nid AND field_name = 'comment_forum' AND entity_type = 'node' AND status = :status AND default_langcode = 1 ORDER BY cid DESC\"",101],",",["T_WHITESPACE"," ",101],["T_LNUMBER","0",101],",",["T_WHITESPACE"," ",101],["T_LNUMBER","1",101],",",["T_WHITESPACE"," ",101],["T_ARRAY","array",101],"(",["T_WHITESPACE","\n        ",101],["T_CONSTANT_ENCAPSED_STRING","':nid'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$nid",102],",",["T_WHITESPACE","\n        ",102],["T_CONSTANT_ENCAPSED_STRING","':status'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_STRING","CommentInterface",103],["T_DOUBLE_COLON","::",103],["T_STRING","PUBLISHED",103],",",["T_WHITESPACE","\n      ",103],")",")",["T_OBJECT_OPERATOR","->",104],["T_STRING","fetchObject",104],"(",")",";",["T_WHITESPACE","\n      ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","database",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","update",105],"(",["T_CONSTANT_ENCAPSED_STRING","'forum_index'",105],")",["T_WHITESPACE","\n        ",105],["T_OBJECT_OPERATOR","->",106],["T_STRING","fields",106],"(",["T_WHITESPACE"," ",106],["T_ARRAY","array",106],"(",["T_WHITESPACE","\n          ",106],["T_CONSTANT_ENCAPSED_STRING","'comment_count'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$count",107],",",["T_WHITESPACE","\n          ",107],["T_CONSTANT_ENCAPSED_STRING","'last_comment_timestamp'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$last_reply",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","created",108],",",["T_WHITESPACE","\n        ",108],")",")",["T_WHITESPACE","\n        ",109],["T_OBJECT_OPERATOR","->",110],["T_STRING","condition",110],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$nid",110],")",["T_WHITESPACE","\n        ",110],["T_OBJECT_OPERATOR","->",111],["T_STRING","execute",111],"(",")",";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n    ",112],["T_ELSE","else",113],["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n      ",113],["T_COMMENT","\/\/ Comments do not exist.\n",114],["T_WHITESPACE","      ",115],["T_COMMENT","\/\/ @todo This should be actually filtering on the desired node language\n",115],["T_WHITESPACE","      ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","database",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","update",116],"(",["T_CONSTANT_ENCAPSED_STRING","'forum_index'",116],")",["T_WHITESPACE","\n        ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","fields",117],"(",["T_WHITESPACE"," ",117],["T_ARRAY","array",117],"(",["T_WHITESPACE","\n          ",117],["T_CONSTANT_ENCAPSED_STRING","'comment_count'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_LNUMBER","0",118],",",["T_WHITESPACE","\n          ",118],["T_CONSTANT_ENCAPSED_STRING","'last_comment_timestamp'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$node",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getCreatedTime",119],"(",")",",",["T_WHITESPACE","\n        ",119],")",")",["T_WHITESPACE","\n        ",120],["T_OBJECT_OPERATOR","->",121],["T_STRING","condition",121],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$nid",121],")",["T_WHITESPACE","\n        ",121],["T_OBJECT_OPERATOR","->",122],["T_STRING","execute",122],"(",")",";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n  ",123],"}",["T_WHITESPACE","\n\n  ",124],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",126],["T_WHITESPACE","\n  ",128],["T_PUBLIC","public",129],["T_WHITESPACE"," ",129],["T_FUNCTION","function",129],["T_WHITESPACE"," ",129],["T_STRING","createIndex",129],"(",["T_STRING","NodeInterface",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$node",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$query",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","database",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","insert",130],"(",["T_CONSTANT_ENCAPSED_STRING","'forum_index'",130],")",["T_WHITESPACE","\n      ",130],["T_OBJECT_OPERATOR","->",131],["T_STRING","fields",131],"(",["T_ARRAY","array",131],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",131],",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'title'",131],",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'tid'",131],",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'sticky'",131],",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'created'",131],",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'comment_count'",131],",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'last_comment_timestamp'",131],")",")",";",["T_WHITESPACE","\n    ",131],["T_FOREACH","foreach",132],["T_WHITESPACE"," ",132],"(",["T_VARIABLE","$node",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getTranslationLanguages",132],"(",")",["T_WHITESPACE"," ",132],["T_AS","as",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$langcode",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$language",132],")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n      ",132],["T_VARIABLE","$translation",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$node",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getTranslation",133],"(",["T_VARIABLE","$langcode",133],")",";",["T_WHITESPACE","\n      ",133],["T_FOREACH","foreach",134],["T_WHITESPACE"," ",134],"(",["T_VARIABLE","$translation",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","taxonomy_forums",134],["T_WHITESPACE"," ",134],["T_AS","as",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$item",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$query",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","values",135],"(",["T_ARRAY","array",135],"(",["T_WHITESPACE","\n          ",135],["T_CONSTANT_ENCAPSED_STRING","'nid'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$node",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","id",136],"(",")",",",["T_WHITESPACE","\n          ",136],["T_CONSTANT_ENCAPSED_STRING","'title'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$translation",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","label",137],"(",")",",",["T_WHITESPACE","\n          ",137],["T_CONSTANT_ENCAPSED_STRING","'tid'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$item",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","target_id",138],",",["T_WHITESPACE","\n          ",138],["T_CONSTANT_ENCAPSED_STRING","'sticky'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_INT_CAST","(int)",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$node",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","isSticky",139],"(",")",",",["T_WHITESPACE","\n          ",139],["T_CONSTANT_ENCAPSED_STRING","'created'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$node",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getCreatedTime",140],"(",")",",",["T_WHITESPACE","\n          ",140],["T_CONSTANT_ENCAPSED_STRING","'comment_count'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_LNUMBER","0",141],",",["T_WHITESPACE","\n          ",141],["T_CONSTANT_ENCAPSED_STRING","'last_comment_timestamp'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$node",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getCreatedTime",142],"(",")",",",["T_WHITESPACE","\n        ",142],")",")",";",["T_WHITESPACE","\n      ",143],"}",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n    ",145],["T_VARIABLE","$query",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","execute",146],"(",")",";",["T_WHITESPACE","\n    ",146],["T_COMMENT","\/\/ The logic for determining last_comment_count is fairly complex, so\n",147],["T_WHITESPACE","    ",148],["T_COMMENT","\/\/ update the index too.\n",148],["T_WHITESPACE","    ",149],["T_IF","if",149],["T_WHITESPACE"," ",149],"(",["T_VARIABLE","$node",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","isNew",149],"(",")",")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n      ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","updateIndex",150],"(",["T_VARIABLE","$node",150],")",";",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n  ",151],"}",["T_WHITESPACE","\n\n  ",152],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",154],["T_WHITESPACE","\n  ",156],["T_PUBLIC","public",157],["T_WHITESPACE"," ",157],["T_FUNCTION","function",157],["T_WHITESPACE"," ",157],["T_STRING","deleteIndex",157],"(",["T_STRING","NodeInterface",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$node",157],")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n    ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","database",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","delete",158],"(",["T_CONSTANT_ENCAPSED_STRING","'forum_index'",158],")",["T_WHITESPACE","\n      ",158],["T_OBJECT_OPERATOR","->",159],["T_STRING","condition",159],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$node",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","id",159],"(",")",")",["T_WHITESPACE","\n      ",159],["T_OBJECT_OPERATOR","->",160],["T_STRING","execute",160],"(",")",";",["T_WHITESPACE","\n  ",160],"}",["T_WHITESPACE","\n\n",161],"}",["T_WHITESPACE","\n",163]]