[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","forum",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","simpletest",5],["T_NS_SEPARATOR","\\",5],["T_STRING","WebTestBase",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Datetime",6],["T_NS_SEPARATOR","\\",6],["T_STRING","DrupalDateTime",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","comment",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Comment",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Tests the forum blocks.\n *\n * @group forum\n *\/",9],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","ForumBlockTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","WebTestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",16],["T_WHITESPACE","\n  ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_STATIC","static",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$modules",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_ARRAY","array",21],"(",["T_CONSTANT_ENCAPSED_STRING","'forum'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'block'",21],")",";",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * A user with various administrative privileges.\n   *\/",23],["T_WHITESPACE","\n  ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$adminUser",26],";",["T_WHITESPACE","\n\n  ",26],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","setUp",28],"(",")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n    ",28],["T_STRING","parent",29],["T_DOUBLE_COLON","::",29],["T_STRING","setUp",29],"(",")",";",["T_WHITESPACE","\n\n    ",29],["T_COMMENT","\/\/ Create users.\n",31],["T_WHITESPACE","    ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","adminUser",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","drupalCreateUser",32],"(",["T_ARRAY","array",32],"(",["T_WHITESPACE","\n      ",32],["T_CONSTANT_ENCAPSED_STRING","'access administration pages'",33],",",["T_WHITESPACE","\n      ",33],["T_CONSTANT_ENCAPSED_STRING","'administer blocks'",34],",",["T_WHITESPACE","\n      ",34],["T_CONSTANT_ENCAPSED_STRING","'administer nodes'",35],",",["T_WHITESPACE","\n      ",35],["T_CONSTANT_ENCAPSED_STRING","'create forum content'",36],",",["T_WHITESPACE","\n      ",36],["T_CONSTANT_ENCAPSED_STRING","'post comments'",37],",",["T_WHITESPACE","\n      ",37],["T_CONSTANT_ENCAPSED_STRING","'skip comment approval'",38],",",["T_WHITESPACE","\n    ",38],")",")",";",["T_WHITESPACE","\n  ",39],"}",["T_WHITESPACE","\n\n  ",40],["T_DOC_COMMENT","\/**\n   * Tests the \"New forum topics\" block.\n   *\/",42],["T_WHITESPACE","\n  ",44],["T_PUBLIC","public",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","testNewForumTopicsBlock",45],"(",")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","drupalLogin",46],"(",["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","adminUser",46],")",";",["T_WHITESPACE","\n\n    ",46],["T_COMMENT","\/\/ Enable the new forum topics block.\n",48],["T_WHITESPACE","    ",49],["T_VARIABLE","$block",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","drupalPlaceBlock",49],"(",["T_CONSTANT_ENCAPSED_STRING","'forum_new_block'",49],")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","drupalGet",50],"(",["T_CONSTANT_ENCAPSED_STRING","''",50],")",";",["T_WHITESPACE","\n\n    ",50],["T_COMMENT","\/\/ Create 5 forum topics.\n",52],["T_WHITESPACE","    ",53],["T_VARIABLE","$topics",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","createForumTopics",53],"(",")",";",["T_WHITESPACE","\n\n\n    ",53],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","assertLink",56],"(",["T_STRING","t",56],"(",["T_CONSTANT_ENCAPSED_STRING","'More'",56],")",",",["T_WHITESPACE"," ",56],["T_LNUMBER","0",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'New forum topics block has a \"more\"-link.'",56],")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","assertLinkByHref",57],"(",["T_CONSTANT_ENCAPSED_STRING","'forum'",57],",",["T_WHITESPACE"," ",57],["T_LNUMBER","0",57],",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'New forum topics block has a \"more\"-link.'",57],")",";",["T_WHITESPACE","\n\n    ",57],["T_COMMENT","\/\/ We expect all 5 forum topics to appear in the \"New forum topics\" block.\n",59],["T_WHITESPACE","    ",60],["T_FOREACH","foreach",60],["T_WHITESPACE"," ",60],"(",["T_VARIABLE","$topics",60],["T_WHITESPACE"," ",60],["T_AS","as",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$topic",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n      ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","assertLink",61],"(",["T_VARIABLE","$topic",61],",",["T_WHITESPACE"," ",61],["T_LNUMBER","0",61],",",["T_WHITESPACE"," ",61],["T_STRING","format_string",61],"(",["T_CONSTANT_ENCAPSED_STRING","'Forum topic @topic found in the \"New forum topics\" block.'",61],",",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",["T_CONSTANT_ENCAPSED_STRING","'@topic'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$topic",61],")",")",")",";",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n\n    ",62],["T_COMMENT","\/\/ Configure the new forum topics block to only show 2 topics.\n",64],["T_WHITESPACE","    ",65],["T_VARIABLE","$block",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getPlugin",65],"(",")",["T_OBJECT_OPERATOR","->",65],["T_STRING","setConfigurationValue",65],"(",["T_CONSTANT_ENCAPSED_STRING","'block_count'",65],",",["T_WHITESPACE"," ",65],["T_LNUMBER","2",65],")",";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$block",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","save",66],"(",")",";",["T_WHITESPACE","\n\n    ",66],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","drupalGet",68],"(",["T_CONSTANT_ENCAPSED_STRING","''",68],")",";",["T_WHITESPACE","\n    ",68],["T_COMMENT","\/\/ We expect only the 2 most recent forum topics to appear in the \"New forum\n",69],["T_WHITESPACE","    ",70],["T_COMMENT","\/\/ topics\" block.\n",70],["T_WHITESPACE","    ",71],["T_FOR","for",71],["T_WHITESPACE"," ",71],"(",["T_VARIABLE","$index",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_LNUMBER","0",71],";",["T_WHITESPACE"," ",71],["T_VARIABLE","$index",71],["T_WHITESPACE"," ",71],"<",["T_WHITESPACE"," ",71],["T_LNUMBER","5",71],";",["T_WHITESPACE"," ",71],["T_VARIABLE","$index",71],["T_INC","++",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n      ",71],["T_IF","if",72],["T_WHITESPACE"," ",72],"(",["T_STRING","in_array",72],"(",["T_VARIABLE","$index",72],",",["T_WHITESPACE"," ",72],["T_ARRAY","array",72],"(",["T_LNUMBER","3",72],",",["T_WHITESPACE"," ",72],["T_LNUMBER","4",72],")",")",")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertLink",73],"(",["T_VARIABLE","$topics",73],"[",["T_VARIABLE","$index",73],"]",",",["T_WHITESPACE"," ",73],["T_LNUMBER","0",73],",",["T_WHITESPACE"," ",73],["T_STRING","format_string",73],"(",["T_CONSTANT_ENCAPSED_STRING","'Forum topic @topic found in the \"New forum topics\" block.'",73],",",["T_WHITESPACE"," ",73],["T_ARRAY","array",73],"(",["T_CONSTANT_ENCAPSED_STRING","'@topic'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$topics",73],"[",["T_VARIABLE","$index",73],"]",")",")",")",";",["T_WHITESPACE","\n      ",73],"}",["T_WHITESPACE","\n      ",74],["T_ELSE","else",75],["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","assertNoText",76],"(",["T_VARIABLE","$topics",76],"[",["T_VARIABLE","$index",76],"]",",",["T_WHITESPACE"," ",76],["T_STRING","format_string",76],"(",["T_CONSTANT_ENCAPSED_STRING","'Forum topic @topic not found in the \"New forum topics\" block.'",76],",",["T_WHITESPACE"," ",76],["T_ARRAY","array",76],"(",["T_CONSTANT_ENCAPSED_STRING","'@topic'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$topics",76],"[",["T_VARIABLE","$index",76],"]",")",")",")",";",["T_WHITESPACE","\n      ",76],"}",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n  ",78],"}",["T_WHITESPACE","\n\n  ",79],["T_DOC_COMMENT","\/**\n   * Tests the \"Active forum topics\" block.\n   *\/",81],["T_WHITESPACE","\n  ",83],["T_PUBLIC","public",84],["T_WHITESPACE"," ",84],["T_FUNCTION","function",84],["T_WHITESPACE"," ",84],["T_STRING","testActiveForumTopicsBlock",84],"(",")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","drupalLogin",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","adminUser",85],")",";",["T_WHITESPACE","\n\n    ",85],["T_COMMENT","\/\/ Create 10 forum topics.\n",87],["T_WHITESPACE","    ",88],["T_VARIABLE","$topics",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","createForumTopics",88],"(",["T_LNUMBER","10",88],")",";",["T_WHITESPACE","\n\n    ",88],["T_COMMENT","\/\/ Comment on the first 5 topics.\n",90],["T_WHITESPACE","    ",91],["T_VARIABLE","$date",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_NEW","new",91],["T_WHITESPACE"," ",91],["T_STRING","DrupalDateTime",91],"(",")",";",["T_WHITESPACE","\n    ",91],["T_FOR","for",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$index",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_LNUMBER","0",92],";",["T_WHITESPACE"," ",92],["T_VARIABLE","$index",92],["T_WHITESPACE"," ",92],"<",["T_WHITESPACE"," ",92],["T_LNUMBER","5",92],";",["T_WHITESPACE"," ",92],["T_VARIABLE","$index",92],["T_INC","++",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n      ",92],["T_COMMENT","\/\/ Get the node from the topic title.\n",93],["T_WHITESPACE","      ",94],["T_VARIABLE","$node",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","drupalGetNodeByTitle",94],"(",["T_VARIABLE","$topics",94],"[",["T_VARIABLE","$index",94],"]",")",";",["T_WHITESPACE","\n      ",94],["T_VARIABLE","$date",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","modify",95],"(",["T_CONSTANT_ENCAPSED_STRING","'+1 minute'",95],")",";",["T_WHITESPACE","\n      ",95],["T_VARIABLE","$comment",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_STRING","Comment",96],["T_DOUBLE_COLON","::",96],["T_STRING","create",96],"(",["T_ARRAY","array",96],"(",["T_WHITESPACE","\n        ",96],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$node",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","id",97],"(",")",",",["T_WHITESPACE","\n        ",97],["T_CONSTANT_ENCAPSED_STRING","'field_name'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'comment_forum'",98],",",["T_WHITESPACE","\n        ",98],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'node'",99],",",["T_WHITESPACE","\n        ",99],["T_CONSTANT_ENCAPSED_STRING","'node_type'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'node_type_'",100],["T_WHITESPACE"," ",100],".",["T_WHITESPACE"," ",100],["T_VARIABLE","$node",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","bundle",100],"(",")",",",["T_WHITESPACE","\n        ",100],["T_CONSTANT_ENCAPSED_STRING","'subject'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","randomString",101],"(",["T_LNUMBER","20",101],")",",",["T_WHITESPACE","\n        ",101],["T_CONSTANT_ENCAPSED_STRING","'comment_body'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","randomString",102],"(",["T_LNUMBER","256",102],")",",",["T_WHITESPACE","\n        ",102],["T_CONSTANT_ENCAPSED_STRING","'created'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$date",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getTimestamp",103],"(",")",",",["T_WHITESPACE","\n      ",103],")",")",";",["T_WHITESPACE","\n      ",104],["T_VARIABLE","$comment",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","save",105],"(",")",";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n\n    ",106],["T_COMMENT","\/\/ Enable the block.\n",108],["T_WHITESPACE","    ",109],["T_VARIABLE","$block",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","drupalPlaceBlock",109],"(",["T_CONSTANT_ENCAPSED_STRING","'forum_active_block'",109],")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","drupalGet",110],"(",["T_CONSTANT_ENCAPSED_STRING","''",110],")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertLink",111],"(",["T_STRING","t",111],"(",["T_CONSTANT_ENCAPSED_STRING","'More'",111],")",",",["T_WHITESPACE"," ",111],["T_LNUMBER","0",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'Active forum topics block has a \"more\"-link.'",111],")",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","assertLinkByHref",112],"(",["T_CONSTANT_ENCAPSED_STRING","'forum'",112],",",["T_WHITESPACE"," ",112],["T_LNUMBER","0",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'Active forum topics block has a \"more\"-link.'",112],")",";",["T_WHITESPACE","\n\n    ",112],["T_COMMENT","\/\/ We expect the first 5 forum topics to appear in the \"Active forum topics\"\n",114],["T_WHITESPACE","    ",115],["T_COMMENT","\/\/ block.\n",115],["T_WHITESPACE","    ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","drupalGet",116],"(",["T_CONSTANT_ENCAPSED_STRING","'<front>'",116],")",";",["T_WHITESPACE","\n    ",116],["T_FOR","for",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$index",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_LNUMBER","0",117],";",["T_WHITESPACE"," ",117],["T_VARIABLE","$index",117],["T_WHITESPACE"," ",117],"<",["T_WHITESPACE"," ",117],["T_LNUMBER","10",117],";",["T_WHITESPACE"," ",117],["T_VARIABLE","$index",117],["T_INC","++",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n      ",117],["T_IF","if",118],["T_WHITESPACE"," ",118],"(",["T_VARIABLE","$index",118],["T_WHITESPACE"," ",118],"<",["T_WHITESPACE"," ",118],["T_LNUMBER","5",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertLink",119],"(",["T_VARIABLE","$topics",119],"[",["T_VARIABLE","$index",119],"]",",",["T_WHITESPACE"," ",119],["T_LNUMBER","0",119],",",["T_WHITESPACE"," ",119],["T_STRING","format_string",119],"(",["T_CONSTANT_ENCAPSED_STRING","'Forum topic @topic found in the \"Active forum topics\" block.'",119],",",["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",["T_CONSTANT_ENCAPSED_STRING","'@topic'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$topics",119],"[",["T_VARIABLE","$index",119],"]",")",")",")",";",["T_WHITESPACE","\n      ",119],"}",["T_WHITESPACE","\n      ",120],["T_ELSE","else",121],["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertNoText",122],"(",["T_VARIABLE","$topics",122],"[",["T_VARIABLE","$index",122],"]",",",["T_WHITESPACE"," ",122],["T_STRING","format_string",122],"(",["T_CONSTANT_ENCAPSED_STRING","'Forum topic @topic not found in the \"Active forum topics\" block.'",122],",",["T_WHITESPACE"," ",122],["T_ARRAY","array",122],"(",["T_CONSTANT_ENCAPSED_STRING","'@topic'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$topics",122],"[",["T_VARIABLE","$index",122],"]",")",")",")",";",["T_WHITESPACE","\n      ",122],"}",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n\n    ",124],["T_COMMENT","\/\/ Configure the active forum block to only show 2 topics.\n",126],["T_WHITESPACE","    ",127],["T_VARIABLE","$block",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getPlugin",127],"(",")",["T_OBJECT_OPERATOR","->",127],["T_STRING","setConfigurationValue",127],"(",["T_CONSTANT_ENCAPSED_STRING","'block_count'",127],",",["T_WHITESPACE"," ",127],["T_LNUMBER","2",127],")",";",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$block",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","save",128],"(",")",";",["T_WHITESPACE","\n\n    ",128],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","drupalGet",130],"(",["T_CONSTANT_ENCAPSED_STRING","''",130],")",";",["T_WHITESPACE","\n\n    ",130],["T_COMMENT","\/\/ We expect only the 2 forum topics with most recent comments to appear in\n",132],["T_WHITESPACE","    ",133],["T_COMMENT","\/\/ the \"Active forum topics\" block.\n",133],["T_WHITESPACE","    ",134],["T_FOR","for",134],["T_WHITESPACE"," ",134],"(",["T_VARIABLE","$index",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_LNUMBER","0",134],";",["T_WHITESPACE"," ",134],["T_VARIABLE","$index",134],["T_WHITESPACE"," ",134],"<",["T_WHITESPACE"," ",134],["T_LNUMBER","10",134],";",["T_WHITESPACE"," ",134],["T_VARIABLE","$index",134],["T_INC","++",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n      ",134],["T_IF","if",135],["T_WHITESPACE"," ",135],"(",["T_STRING","in_array",135],"(",["T_VARIABLE","$index",135],",",["T_WHITESPACE"," ",135],["T_ARRAY","array",135],"(",["T_LNUMBER","3",135],",",["T_WHITESPACE"," ",135],["T_LNUMBER","4",135],")",")",")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","assertLink",136],"(",["T_VARIABLE","$topics",136],"[",["T_VARIABLE","$index",136],"]",",",["T_WHITESPACE"," ",136],["T_LNUMBER","0",136],",",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'Forum topic found in the \"Active forum topics\" block.'",136],")",";",["T_WHITESPACE","\n      ",136],"}",["T_WHITESPACE","\n      ",137],["T_ELSE","else",138],["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","assertNoText",139],"(",["T_VARIABLE","$topics",139],"[",["T_VARIABLE","$index",139],"]",",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'Forum topic not found in the \"Active forum topics\" block.'",139],")",";",["T_WHITESPACE","\n      ",139],"}",["T_WHITESPACE","\n    ",140],"}",["T_WHITESPACE","\n  ",141],"}",["T_WHITESPACE","\n\n  ",142],["T_DOC_COMMENT","\/**\n   * Creates a forum topic.\n   *\n   * @return string\n   *   The title of the newly generated topic.\n   *\/",144],["T_WHITESPACE","\n  ",149],["T_PROTECTED","protected",150],["T_WHITESPACE"," ",150],["T_FUNCTION","function",150],["T_WHITESPACE"," ",150],["T_STRING","createForumTopics",150],"(",["T_VARIABLE","$count",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_LNUMBER","5",150],")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n    ",150],["T_VARIABLE","$topics",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_ARRAY","array",151],"(",")",";",["T_WHITESPACE","\n    ",151],["T_VARIABLE","$date",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_NEW","new",152],["T_WHITESPACE"," ",152],["T_STRING","DrupalDateTime",152],"(",")",";",["T_WHITESPACE","\n    ",152],["T_VARIABLE","$date",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","modify",153],"(",["T_CONSTANT_ENCAPSED_STRING","'-24 hours'",153],")",";",["T_WHITESPACE","\n\n    ",153],["T_FOR","for",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$index",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_LNUMBER","0",155],";",["T_WHITESPACE"," ",155],["T_VARIABLE","$index",155],["T_WHITESPACE"," ",155],"<",["T_WHITESPACE"," ",155],["T_VARIABLE","$count",155],";",["T_WHITESPACE"," ",155],["T_VARIABLE","$index",155],["T_INC","++",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n      ",155],["T_COMMENT","\/\/ Generate a random subject\/body.\n",156],["T_WHITESPACE","      ",157],["T_VARIABLE","$title",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","randomMachineName",157],"(",["T_LNUMBER","20",157],")",";",["T_WHITESPACE","\n      ",157],["T_VARIABLE","$body",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","randomMachineName",158],"(",["T_LNUMBER","200",158],")",";",["T_WHITESPACE","\n      ",158],["T_COMMENT","\/\/ Forum posts are ordered by timestamp, so force a unique timestamp by\n",159],["T_WHITESPACE","      ",160],["T_COMMENT","\/\/ changing the date.\n",160],["T_WHITESPACE","      ",161],["T_VARIABLE","$date",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","modify",161],"(",["T_CONSTANT_ENCAPSED_STRING","'+1 minute'",161],")",";",["T_WHITESPACE","\n\n      ",161],["T_VARIABLE","$edit",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_ARRAY","array",163],"(",["T_WHITESPACE","\n        ",163],["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$title",164],",",["T_WHITESPACE","\n        ",164],["T_CONSTANT_ENCAPSED_STRING","'body[0][value]'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$body",165],",",["T_WHITESPACE","\n        ",165],["T_COMMENT","\/\/ Forum posts are ordered by timestamp, so force a unique timestamp by\n",166],["T_WHITESPACE","        ",167],["T_COMMENT","\/\/ adding the index.\n",167],["T_WHITESPACE","        ",168],["T_CONSTANT_ENCAPSED_STRING","'created[0][value][date]'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$date",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","format",168],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d'",168],")",",",["T_WHITESPACE","\n        ",168],["T_CONSTANT_ENCAPSED_STRING","'created[0][value][time]'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$date",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","format",169],"(",["T_CONSTANT_ENCAPSED_STRING","'H:i:s'",169],")",",",["T_WHITESPACE","\n      ",169],")",";",["T_WHITESPACE","\n\n      ",170],["T_COMMENT","\/\/ Create the forum topic, preselecting the forum ID via a URL parameter.\n",172],["T_WHITESPACE","      ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","drupalPostForm",173],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/add\/forum'",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$edit",173],",",["T_WHITESPACE"," ",173],["T_STRING","t",173],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and publish'",173],")",",",["T_WHITESPACE"," ",173],["T_ARRAY","array",173],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_ARRAY","array",173],"(",["T_CONSTANT_ENCAPSED_STRING","'forum_id'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_LNUMBER","1",173],")",")",")",";",["T_WHITESPACE","\n      ",173],["T_VARIABLE","$topics",174],"[","]",["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$title",174],";",["T_WHITESPACE","\n    ",174],"}",["T_WHITESPACE","\n\n    ",175],["T_RETURN","return",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$topics",177],";",["T_WHITESPACE","\n  ",177],"}",["T_WHITESPACE","\n\n",178],"}",["T_WHITESPACE","\n",180]]