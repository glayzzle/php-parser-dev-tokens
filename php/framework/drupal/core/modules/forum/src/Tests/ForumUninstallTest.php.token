[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","forum",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","comment",5],["T_NS_SEPARATOR","\\",5],["T_STRING","CommentInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","field",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FieldStorageConfig",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","node",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","NodeType",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","simpletest",8],["T_NS_SEPARATOR","\\",8],["T_STRING","WebTestBase",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","comment",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Comment",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","taxonomy",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Entity",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Term",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Tests forum module uninstallation.\n *\n * @group forum\n *\/",12],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","ForumUninstallTest",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_STRING","WebTestBase",17],["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",19],["T_WHITESPACE","\n  ",23],["T_PUBLIC","public",24],["T_WHITESPACE"," ",24],["T_STATIC","static",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$modules",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_ARRAY","array",24],"(",["T_CONSTANT_ENCAPSED_STRING","'forum'",24],")",";",["T_WHITESPACE","\n\n  ",24],["T_DOC_COMMENT","\/**\n   * Tests if forum module uninstallation properly deletes the field.\n   *\/",26],["T_WHITESPACE","\n  ",28],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","testForumUninstallWithField",29],"(",")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n    ",29],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","drupalLogin",30],"(",["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","drupalCreateUser",30],"(","[",["T_CONSTANT_ENCAPSED_STRING","'administer taxonomy'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'administer nodes'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'administer modules'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'delete any forum content'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'administer content types'",30],"]",")",")",";",["T_WHITESPACE","\n    ",30],["T_COMMENT","\/\/ Ensure that the field exists before uninstallation.\n",31],["T_WHITESPACE","    ",32],["T_VARIABLE","$field_storage",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_STRING","FieldStorageConfig",32],["T_DOUBLE_COLON","::",32],["T_STRING","loadByName",32],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'taxonomy_forums'",32],")",";",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","assertNotNull",33],"(",["T_VARIABLE","$field_storage",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'The taxonomy_forums field storage exists.'",33],")",";",["T_WHITESPACE","\n\n    ",33],["T_COMMENT","\/\/ Create a taxonomy term.\n",35],["T_WHITESPACE","    ",36],["T_VARIABLE","$term",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_STRING","Term",36],["T_DOUBLE_COLON","::",36],["T_STRING","create",36],"(","[",["T_WHITESPACE","\n      ",36],["T_CONSTANT_ENCAPSED_STRING","'name'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_STRING","t",37],"(",["T_CONSTANT_ENCAPSED_STRING","'A term'",37],")",",",["T_WHITESPACE","\n      ",37],["T_CONSTANT_ENCAPSED_STRING","'langcode'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Drupal",38],["T_DOUBLE_COLON","::",38],["T_STRING","languageManager",38],"(",")",["T_OBJECT_OPERATOR","->",38],["T_STRING","getDefaultLanguage",38],"(",")",["T_OBJECT_OPERATOR","->",38],["T_STRING","getId",38],"(",")",",",["T_WHITESPACE","\n      ",38],["T_CONSTANT_ENCAPSED_STRING","'description'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","''",39],",",["T_WHITESPACE","\n      ",39],["T_CONSTANT_ENCAPSED_STRING","'parent'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_ARRAY","array",40],"(",["T_LNUMBER","0",40],")",",",["T_WHITESPACE","\n      ",40],["T_CONSTANT_ENCAPSED_STRING","'vid'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'forums'",41],",",["T_WHITESPACE","\n      ",41],["T_CONSTANT_ENCAPSED_STRING","'forum_container'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_LNUMBER","0",42],",",["T_WHITESPACE","\n    ",42],"]",")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$term",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","save",44],"(",")",";",["T_WHITESPACE","\n\n    ",44],["T_COMMENT","\/\/ Create a forum node.\n",46],["T_WHITESPACE","    ",47],["T_VARIABLE","$node",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","drupalCreateNode",47],"(",["T_ARRAY","array",47],"(",["T_WHITESPACE","\n      ",47],["T_CONSTANT_ENCAPSED_STRING","'title'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'A forum post'",48],",",["T_WHITESPACE","\n      ",48],["T_CONSTANT_ENCAPSED_STRING","'type'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'forum'",49],",",["T_WHITESPACE","\n      ",49],["T_CONSTANT_ENCAPSED_STRING","'taxonomy_forums'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_ARRAY","array",50],"(",["T_ARRAY","array",50],"(",["T_CONSTANT_ENCAPSED_STRING","'target_id'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$term",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","id",50],"(",")",")",")",",",["T_WHITESPACE","\n    ",50],")",")",";",["T_WHITESPACE","\n\n    ",51],["T_COMMENT","\/\/ Create at least one comment against the forum node.\n",53],["T_WHITESPACE","    ",54],["T_VARIABLE","$comment",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","Comment",54],["T_DOUBLE_COLON","::",54],["T_STRING","create",54],"(",["T_ARRAY","array",54],"(",["T_WHITESPACE","\n      ",54],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$node",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","nid",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","value",55],",",["T_WHITESPACE","\n      ",55],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'node'",56],",",["T_WHITESPACE","\n      ",56],["T_CONSTANT_ENCAPSED_STRING","'field_name'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'comment_forum'",57],",",["T_WHITESPACE","\n      ",57],["T_CONSTANT_ENCAPSED_STRING","'pid'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_LNUMBER","0",58],",",["T_WHITESPACE","\n      ",58],["T_CONSTANT_ENCAPSED_STRING","'uid'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_LNUMBER","0",59],",",["T_WHITESPACE","\n      ",59],["T_CONSTANT_ENCAPSED_STRING","'status'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_STRING","CommentInterface",60],["T_DOUBLE_COLON","::",60],["T_STRING","PUBLISHED",60],",",["T_WHITESPACE","\n      ",60],["T_CONSTANT_ENCAPSED_STRING","'subject'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","randomMachineName",61],"(",")",",",["T_WHITESPACE","\n      ",61],["T_CONSTANT_ENCAPSED_STRING","'hostname'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",62],",",["T_WHITESPACE","\n    ",62],")",")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$comment",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","save",64],"(",")",";",["T_WHITESPACE","\n\n    ",64],["T_COMMENT","\/\/ Attempt to uninstall forum.\n",66],["T_WHITESPACE","    ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","drupalGet",67],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/modules\/uninstall'",67],")",";",["T_WHITESPACE","\n    ",67],["T_COMMENT","\/\/ Assert forum is required.\n",68],["T_WHITESPACE","    ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertNoFieldByName",69],"(",["T_CONSTANT_ENCAPSED_STRING","'uninstall[forum]'",69],")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertText",70],"(",["T_CONSTANT_ENCAPSED_STRING","'To uninstall Forum, first delete all Forum content'",70],")",";",["T_WHITESPACE","\n\n    ",70],["T_COMMENT","\/\/ Delete the node.\n",72],["T_WHITESPACE","    ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","drupalPostForm",73],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",73],["T_WHITESPACE"," ",73],".",["T_WHITESPACE"," ",73],["T_VARIABLE","$node",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","id",73],"(",")",["T_WHITESPACE"," ",73],".",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'\/delete'",73],",",["T_WHITESPACE"," ",73],["T_ARRAY","array",73],"(",")",",",["T_WHITESPACE"," ",73],["T_STRING","t",73],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",73],")",")",";",["T_WHITESPACE","\n\n    ",73],["T_COMMENT","\/\/ Attempt to uninstall forum.\n",75],["T_WHITESPACE","    ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","drupalGet",76],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/modules\/uninstall'",76],")",";",["T_WHITESPACE","\n    ",76],["T_COMMENT","\/\/ Assert forum is still required.\n",77],["T_WHITESPACE","    ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","assertNoFieldByName",78],"(",["T_CONSTANT_ENCAPSED_STRING","'uninstall[forum]'",78],")",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","assertText",79],"(",["T_CONSTANT_ENCAPSED_STRING","'To uninstall Forum, first delete all Forums terms'",79],")",";",["T_WHITESPACE","\n\n    ",79],["T_COMMENT","\/\/ Delete any forum terms.\n",81],["T_WHITESPACE","    ",82],["T_VARIABLE","$vid",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","config",82],"(",["T_CONSTANT_ENCAPSED_STRING","'forum.settings'",82],")",["T_OBJECT_OPERATOR","->",82],["T_STRING","get",82],"(",["T_CONSTANT_ENCAPSED_STRING","'vocabulary'",82],")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$terms",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","entity_load_multiple_by_properties",83],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term'",83],",",["T_WHITESPACE"," ",83],"[",["T_CONSTANT_ENCAPSED_STRING","'vid'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$vid",83],"]",")",";",["T_WHITESPACE","\n    ",83],["T_FOREACH","foreach",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$terms",84],["T_WHITESPACE"," ",84],["T_AS","as",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$term",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n      ",84],["T_VARIABLE","$term",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","delete",85],"(",")",";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_COMMENT","\/\/ Ensure that the forum node type can not be deleted.\n",88],["T_WHITESPACE","    ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","drupalGet",89],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/forum'",89],")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertNoLink",90],"(",["T_STRING","t",90],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",90],")",")",";",["T_WHITESPACE","\n\n    ",90],["T_COMMENT","\/\/ Now attempt to uninstall forum.\n",92],["T_WHITESPACE","    ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","drupalGet",93],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/modules\/uninstall'",93],")",";",["T_WHITESPACE","\n    ",93],["T_COMMENT","\/\/ Assert forum is no longer required.\n",94],["T_WHITESPACE","    ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertFieldByName",95],"(",["T_CONSTANT_ENCAPSED_STRING","'uninstall[forum]'",95],")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","drupalPostForm",96],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/modules\/uninstall'",96],",",["T_WHITESPACE"," ",96],["T_ARRAY","array",96],"(",["T_WHITESPACE","\n      ",96],["T_CONSTANT_ENCAPSED_STRING","'uninstall[forum]'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_LNUMBER","1",97],",",["T_WHITESPACE","\n    ",97],")",",",["T_WHITESPACE"," ",98],["T_STRING","t",98],"(",["T_CONSTANT_ENCAPSED_STRING","'Uninstall'",98],")",")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","drupalPostForm",99],"(",["T_STRING","NULL",99],",",["T_WHITESPACE"," ",99],"[","]",",",["T_WHITESPACE"," ",99],["T_STRING","t",99],"(",["T_CONSTANT_ENCAPSED_STRING","'Uninstall'",99],")",")",";",["T_WHITESPACE","\n\n    ",99],["T_COMMENT","\/\/ Check that the field is now deleted.\n",101],["T_WHITESPACE","    ",102],["T_VARIABLE","$field_storage",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","FieldStorageConfig",102],["T_DOUBLE_COLON","::",102],["T_STRING","loadByName",102],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'taxonomy_forums'",102],")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","assertNull",103],"(",["T_VARIABLE","$field_storage",103],",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'The taxonomy_forums field storage has been deleted.'",103],")",";",["T_WHITESPACE","\n\n    ",103],["T_COMMENT","\/\/ Check that a node type with a machine name of forum can be created after\n",105],["T_WHITESPACE","    ",106],["T_COMMENT","\/\/ uninstalling the forum module and the node type is not locked.\n",106],["T_WHITESPACE","    ",107],["T_VARIABLE","$edit",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_ARRAY","array",107],"(",["T_WHITESPACE","\n      ",107],["T_CONSTANT_ENCAPSED_STRING","'name'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'Forum'",108],",",["T_WHITESPACE","\n      ",108],["T_CONSTANT_ENCAPSED_STRING","'title_label'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'title for forum'",109],",",["T_WHITESPACE","\n      ",109],["T_CONSTANT_ENCAPSED_STRING","'type'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'forum'",110],",",["T_WHITESPACE","\n    ",110],")",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","drupalPostForm",112],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/add'",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$edit",112],",",["T_WHITESPACE"," ",112],["T_STRING","t",112],"(",["T_CONSTANT_ENCAPSED_STRING","'Save content type'",112],")",")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","assertTrue",113],"(",["T_BOOL_CAST","(bool)",113],["T_WHITESPACE"," ",113],["T_STRING","NodeType",113],["T_DOUBLE_COLON","::",113],["T_STRING","load",113],"(",["T_CONSTANT_ENCAPSED_STRING","'forum'",113],")",",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'Node type with machine forum created.'",113],")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","drupalGet",114],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/forum'",114],")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","clickLink",115],"(",["T_STRING","t",115],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",115],")",")",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","drupalPostForm",116],"(",["T_STRING","NULL",116],",",["T_WHITESPACE"," ",116],["T_ARRAY","array",116],"(",")",",",["T_WHITESPACE"," ",116],["T_STRING","t",116],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",116],")",")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","assertResponse",117],"(",["T_LNUMBER","200",117],")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","assertFalse",118],"(",["T_BOOL_CAST","(bool)",118],["T_WHITESPACE"," ",118],["T_STRING","NodeType",118],["T_DOUBLE_COLON","::",118],["T_STRING","load",118],"(",["T_CONSTANT_ENCAPSED_STRING","'forum'",118],")",",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'Node type with machine forum deleted.'",118],")",";",["T_WHITESPACE","\n\n    ",118],["T_COMMENT","\/\/ Double check everything by reinstalling the forum module again.\n",120],["T_WHITESPACE","    ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","drupalPostForm",121],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/modules'",121],",",["T_WHITESPACE"," ",121],"[",["T_CONSTANT_ENCAPSED_STRING","'modules[Core][forum][enable]'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_LNUMBER","1",121],"]",",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'Install'",121],")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertText",122],"(",["T_CONSTANT_ENCAPSED_STRING","'Module Forum has been enabled.'",122],")",";",["T_WHITESPACE","\n  ",122],"}",["T_WHITESPACE","\n\n  ",123],["T_DOC_COMMENT","\/**\n   * Tests uninstallation if the field storage has been deleted beforehand.\n   *\/",125],["T_WHITESPACE","\n  ",127],["T_PUBLIC","public",128],["T_WHITESPACE"," ",128],["T_FUNCTION","function",128],["T_WHITESPACE"," ",128],["T_STRING","testForumUninstallWithoutFieldStorage",128],"(",")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n    ",128],["T_COMMENT","\/\/ Manually delete the taxonomy_forums field before module uninstallation.\n",129],["T_WHITESPACE","    ",130],["T_VARIABLE","$field_storage",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_STRING","FieldStorageConfig",130],["T_DOUBLE_COLON","::",130],["T_STRING","loadByName",130],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",130],",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'taxonomy_forums'",130],")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","assertNotNull",131],"(",["T_VARIABLE","$field_storage",131],",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'The taxonomy_forums field storage exists.'",131],")",";",["T_WHITESPACE","\n    ",131],["T_VARIABLE","$field_storage",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","delete",132],"(",")",";",["T_WHITESPACE","\n\n    ",132],["T_COMMENT","\/\/ Check that the field is now deleted.\n",134],["T_WHITESPACE","    ",135],["T_VARIABLE","$field_storage",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_STRING","FieldStorageConfig",135],["T_DOUBLE_COLON","::",135],["T_STRING","loadByName",135],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",135],",",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'taxonomy_forums'",135],")",";",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","assertNull",136],"(",["T_VARIABLE","$field_storage",136],",",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'The taxonomy_forums field storage has been deleted.'",136],")",";",["T_WHITESPACE","\n\n    ",136],["T_COMMENT","\/\/ Delete all terms in the Forums vocabulary. Uninstalling the forum module\n",138],["T_WHITESPACE","    ",139],["T_COMMENT","\/\/ will fail unless this is done.\n",139],["T_WHITESPACE","    ",140],["T_VARIABLE","$terms",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_STRING","entity_load_multiple_by_properties",140],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term'",140],",",["T_WHITESPACE"," ",140],["T_ARRAY","array",140],"(",["T_CONSTANT_ENCAPSED_STRING","'vid'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'forums'",140],")",")",";",["T_WHITESPACE","\n    ",140],["T_FOREACH","foreach",141],["T_WHITESPACE"," ",141],"(",["T_VARIABLE","$terms",141],["T_WHITESPACE"," ",141],["T_AS","as",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$term",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n      ",141],["T_VARIABLE","$term",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","delete",142],"(",")",";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n\n    ",143],["T_COMMENT","\/\/ Ensure that uninstallation succeeds even if the field has already been\n",145],["T_WHITESPACE","    ",146],["T_COMMENT","\/\/ deleted manually beforehand.\n",146],["T_WHITESPACE","    ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","container",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","get",147],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",147],")",["T_OBJECT_OPERATOR","->",147],["T_STRING","uninstall",147],"(",["T_ARRAY","array",147],"(",["T_CONSTANT_ENCAPSED_STRING","'forum'",147],")",")",";",["T_WHITESPACE","\n  ",147],"}",["T_WHITESPACE","\n\n",148],"}",["T_WHITESPACE","\n",150]]