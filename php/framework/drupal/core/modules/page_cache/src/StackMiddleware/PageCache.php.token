[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","page_cache",3],["T_NS_SEPARATOR","\\",3],["T_STRING","StackMiddleware",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Cache",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Cache",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Cache",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CacheableResponseInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Cache",7],["T_NS_SEPARATOR","\\",7],["T_STRING","CacheBackendInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","PageCache",8],["T_NS_SEPARATOR","\\",8],["T_STRING","RequestPolicyInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","PageCache",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ResponsePolicyInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Site",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Settings",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Symfony",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Component",11],["T_NS_SEPARATOR","\\",11],["T_STRING","HttpFoundation",11],["T_NS_SEPARATOR","\\",11],["T_STRING","BinaryFileResponse",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","HttpFoundation",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Request",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Symfony",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Component",13],["T_NS_SEPARATOR","\\",13],["T_STRING","HttpFoundation",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Response",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","HttpFoundation",14],["T_NS_SEPARATOR","\\",14],["T_STRING","StreamedResponse",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","HttpKernel",15],["T_NS_SEPARATOR","\\",15],["T_STRING","HttpKernelInterface",15],";",["T_WHITESPACE","\n\n",15],["T_DOC_COMMENT","\/**\n * Executes the page caching before the main kernel takes over the request.\n *\/",17],["T_WHITESPACE","\n",19],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","PageCache",20],["T_WHITESPACE"," ",20],["T_IMPLEMENTS","implements",20],["T_WHITESPACE"," ",20],["T_STRING","HttpKernelInterface",20],["T_WHITESPACE"," ",20],"{",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * The wrapped HTTP kernel.\n   *\n   * @var \\Symfony\\Component\\HttpKernel\\HttpKernelInterface\n   *\/",22],["T_WHITESPACE","\n  ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$httpKernel",27],";",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * The cache bin.\n   *\n   * @var \\Drupal\\Core\\Cache\\CacheBackendInterface.\n   *\/",29],["T_WHITESPACE","\n  ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$cache",34],";",["T_WHITESPACE","\n\n  ",34],["T_DOC_COMMENT","\/**\n   * A policy rule determining the cacheability of a request.\n   *\n   * @var \\Drupal\\Core\\PageCache\\RequestPolicyInterface\n   *\/",36],["T_WHITESPACE","\n  ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$requestPolicy",41],";",["T_WHITESPACE","\n\n  ",41],["T_DOC_COMMENT","\/**\n   * A policy rule determining the cacheability of the response.\n   *\n   * @var \\Drupal\\Core\\PageCache\\ResponsePolicyInterface\n   *\/",43],["T_WHITESPACE","\n  ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$responsePolicy",48],";",["T_WHITESPACE","\n\n  ",48],["T_DOC_COMMENT","\/**\n   * Constructs a PageCache object.\n   *\n   * @param \\Symfony\\Component\\HttpKernel\\HttpKernelInterface $http_kernel\n   *   The decorated kernel.\n   * @param \\Drupal\\Core\\Cache\\CacheBackendInterface $cache\n   *   The cache bin.\n   * @param \\Drupal\\Core\\PageCache\\RequestPolicyInterface $request_policy\n   *   A policy rule determining the cacheability of a request.\n   * @param \\Drupal\\Core\\PageCache\\ResponsePolicyInterface $response_policy\n   *   A policy rule determining the cacheability of the response.\n   *\/",50],["T_WHITESPACE","\n  ",61],["T_PUBLIC","public",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","__construct",62],"(",["T_STRING","HttpKernelInterface",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$http_kernel",62],",",["T_WHITESPACE"," ",62],["T_STRING","CacheBackendInterface",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$cache",62],",",["T_WHITESPACE"," ",62],["T_STRING","RequestPolicyInterface",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$request_policy",62],",",["T_WHITESPACE"," ",62],["T_STRING","ResponsePolicyInterface",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$response_policy",62],")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","httpKernel",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$http_kernel",63],";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","cache",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$cache",64],";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","requestPolicy",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$request_policy",65],";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","responsePolicy",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$response_policy",66],";",["T_WHITESPACE","\n  ",66],"}",["T_WHITESPACE","\n\n  ",67],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",69],["T_WHITESPACE","\n  ",71],["T_PUBLIC","public",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","handle",72],"(",["T_STRING","Request",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$request",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$type",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","self",72],["T_DOUBLE_COLON","::",72],["T_STRING","MASTER_REQUEST",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$catch",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","TRUE",72],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n    ",72],["T_COMMENT","\/\/ Only allow page caching on master request.\n",73],["T_WHITESPACE","    ",74],["T_IF","if",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$type",74],["T_WHITESPACE"," ",74],["T_IS_IDENTICAL","===",74],["T_WHITESPACE"," ",74],["T_STATIC","static",74],["T_DOUBLE_COLON","::",74],["T_STRING","MASTER_REQUEST",74],["T_WHITESPACE"," ",74],["T_BOOLEAN_AND","&&",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","requestPolicy",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","check",74],"(",["T_VARIABLE","$request",74],")",["T_WHITESPACE"," ",74],["T_IS_IDENTICAL","===",74],["T_WHITESPACE"," ",74],["T_STRING","RequestPolicyInterface",74],["T_DOUBLE_COLON","::",74],["T_STRING","ALLOW",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n      ",74],["T_VARIABLE","$response",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","lookup",75],"(",["T_VARIABLE","$request",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$type",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$catch",75],")",";",["T_WHITESPACE","\n    ",75],"}",["T_WHITESPACE","\n    ",76],["T_ELSE","else",77],["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n      ",77],["T_VARIABLE","$response",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","pass",78],"(",["T_VARIABLE","$request",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$type",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$catch",78],")",";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_RETURN","return",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$response",81],";",["T_WHITESPACE","\n  ",81],"}",["T_WHITESPACE","\n\n  ",82],["T_DOC_COMMENT","\/**\n   * Sidesteps the page cache and directly forwards a request to the backend.\n   *\n   * @param \\Symfony\\Component\\HttpFoundation\\Request $request\n   *   A request object.\n   * @param int $type\n   *   The type of the request (one of HttpKernelInterface::MASTER_REQUEST or\n   *   HttpKernelInterface::SUB_REQUEST)\n   * @param bool $catch\n   *   Whether to catch exceptions or not\n   *\n   * @returns \\Symfony\\Component\\HttpFoundation\\Response $response\n   *   A response object.\n   *\/",84],["T_WHITESPACE","\n  ",97],["T_PROTECTED","protected",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","pass",98],"(",["T_STRING","Request",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$request",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$type",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","self",98],["T_DOUBLE_COLON","::",98],["T_STRING","MASTER_REQUEST",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$catch",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","TRUE",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n    ",98],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","httpKernel",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","handle",99],"(",["T_VARIABLE","$request",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$type",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$catch",99],")",";",["T_WHITESPACE","\n  ",99],"}",["T_WHITESPACE","\n\n  ",100],["T_DOC_COMMENT","\/**\n   * Retrieves a response from the cache or fetches it from the backend.\n   *\n   * @param \\Symfony\\Component\\HttpFoundation\\Request $request\n   *   A request object.\n   * @param int $type\n   *   The type of the request (one of HttpKernelInterface::MASTER_REQUEST or\n   *   HttpKernelInterface::SUB_REQUEST)\n   * @param bool $catch\n   *   Whether to catch exceptions or not\n   *\n   * @returns \\Symfony\\Component\\HttpFoundation\\Response $response\n   *   A response object.\n   *\/",102],["T_WHITESPACE","\n  ",115],["T_PROTECTED","protected",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","lookup",116],"(",["T_STRING","Request",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$request",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$type",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_STRING","self",116],["T_DOUBLE_COLON","::",116],["T_STRING","MASTER_REQUEST",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$catch",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_STRING","TRUE",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n    ",116],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$response",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","get",117],"(",["T_VARIABLE","$request",117],")",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n      ",117],["T_VARIABLE","$response",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","headers",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","set",118],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'HIT'",118],")",";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n    ",119],["T_ELSE","else",120],["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n      ",120],["T_VARIABLE","$response",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","fetch",121],"(",["T_VARIABLE","$request",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$type",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$catch",121],")",";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n\n    ",122],["T_COMMENT","\/\/ Only allow caching in the browser and prevent that the response is stored\n",124],["T_WHITESPACE","    ",125],["T_COMMENT","\/\/ by an external proxy server when the following conditions apply:\n",125],["T_WHITESPACE","    ",126],["T_COMMENT","\/\/ 1. There is a session cookie on the request.\n",126],["T_WHITESPACE","    ",127],["T_COMMENT","\/\/ 2. The Vary: Cookie header is on the response.\n",127],["T_WHITESPACE","    ",128],["T_COMMENT","\/\/ 3. The Cache-Control header does not contain the no-cache directive.\n",128],["T_WHITESPACE","    ",129],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_VARIABLE","$request",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","cookies",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","has",129],"(",["T_STRING","session_name",129],"(",")",")",["T_WHITESPACE"," ",129],["T_BOOLEAN_AND","&&",129],["T_WHITESPACE","\n      ",129],["T_STRING","in_array",130],"(",["T_CONSTANT_ENCAPSED_STRING","'Cookie'",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$response",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getVary",130],"(",")",")",["T_WHITESPACE"," ",130],["T_BOOLEAN_AND","&&",130],["T_WHITESPACE","\n      ",130],"!",["T_VARIABLE","$response",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","headers",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","hasCacheControlDirective",131],"(",["T_CONSTANT_ENCAPSED_STRING","'no-cache'",131],")",")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n\n      ",131],["T_VARIABLE","$response",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","setPrivate",133],"(",")",";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n\n    ",134],["T_COMMENT","\/\/ Negotiate whether to use compression.\n",136],["T_WHITESPACE","    ",137],["T_IF","if",137],["T_WHITESPACE"," ",137],"(",["T_STRING","extension_loaded",137],"(",["T_CONSTANT_ENCAPSED_STRING","'zlib'",137],")",["T_WHITESPACE"," ",137],["T_BOOLEAN_AND","&&",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$response",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","headers",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","get",137],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Encoding'",137],")",["T_WHITESPACE"," ",137],["T_IS_IDENTICAL","===",137],["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'gzip'",137],")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n      ",137],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_STRING","strpos",138],"(",["T_VARIABLE","$request",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","headers",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","get",138],"(",["T_CONSTANT_ENCAPSED_STRING","'Accept-Encoding'",138],")",",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'gzip'",138],")",["T_WHITESPACE"," ",138],["T_IS_NOT_IDENTICAL","!==",138],["T_WHITESPACE"," ",138],["T_STRING","FALSE",138],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n        ",138],["T_COMMENT","\/\/ The response content is already gzip'ed, so make sure\n",139],["T_WHITESPACE","        ",140],["T_COMMENT","\/\/ zlib.output_compression does not compress it once more.\n",140],["T_WHITESPACE","        ",141],["T_STRING","ini_set",141],"(",["T_CONSTANT_ENCAPSED_STRING","'zlib.output_compression'",141],",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'0'",141],")",";",["T_WHITESPACE","\n      ",141],"}",["T_WHITESPACE","\n      ",142],["T_ELSE","else",143],["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n        ",143],["T_COMMENT","\/\/ The client does not support compression. Decompress the content and\n",144],["T_WHITESPACE","        ",145],["T_COMMENT","\/\/ remove the Content-Encoding header.\n",145],["T_WHITESPACE","        ",146],["T_VARIABLE","$content",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$response",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getContent",146],"(",")",";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$content",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","gzinflate",147],"(",["T_STRING","substr",147],"(",["T_STRING","substr",147],"(",["T_VARIABLE","$content",147],",",["T_WHITESPACE"," ",147],["T_LNUMBER","10",147],")",",",["T_WHITESPACE"," ",147],["T_LNUMBER","0",147],",",["T_WHITESPACE"," ",147],"-",["T_LNUMBER","8",147],")",")",";",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$response",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","setContent",148],"(",["T_VARIABLE","$content",148],")",";",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$response",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","headers",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","remove",149],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Encoding'",149],")",";",["T_WHITESPACE","\n      ",149],"}",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n\n    ",151],["T_COMMENT","\/\/ Perform HTTP revalidation.\n",153],["T_WHITESPACE","    ",154],["T_COMMENT","\/\/ @todo Use Response::isNotModified() as\n",154],["T_WHITESPACE","    ",155],["T_COMMENT","\/\/   per https:\/\/www.drupal.org\/node\/2259489.\n",155],["T_WHITESPACE","    ",156],["T_VARIABLE","$last_modified",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$response",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getLastModified",156],"(",")",";",["T_WHITESPACE","\n    ",156],["T_IF","if",157],["T_WHITESPACE"," ",157],"(",["T_VARIABLE","$last_modified",157],")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n      ",157],["T_COMMENT","\/\/ See if the client has provided the required HTTP headers.\n",158],["T_WHITESPACE","      ",159],["T_VARIABLE","$if_modified_since",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$request",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","server",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","has",159],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_IF_MODIFIED_SINCE'",159],")",["T_WHITESPACE"," ",159],"?",["T_WHITESPACE"," ",159],["T_STRING","strtotime",159],"(",["T_VARIABLE","$request",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","server",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","get",159],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_IF_MODIFIED_SINCE'",159],")",")",["T_WHITESPACE"," ",159],":",["T_WHITESPACE"," ",159],["T_STRING","FALSE",159],";",["T_WHITESPACE","\n      ",159],["T_VARIABLE","$if_none_match",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$request",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","server",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","has",160],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_IF_NONE_MATCH'",160],")",["T_WHITESPACE"," ",160],"?",["T_WHITESPACE"," ",160],["T_STRING","stripslashes",160],"(",["T_VARIABLE","$request",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","server",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","get",160],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_IF_NONE_MATCH'",160],")",")",["T_WHITESPACE"," ",160],":",["T_WHITESPACE"," ",160],["T_STRING","FALSE",160],";",["T_WHITESPACE","\n\n      ",160],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_VARIABLE","$if_modified_since",162],["T_WHITESPACE"," ",162],["T_BOOLEAN_AND","&&",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$if_none_match",162],["T_WHITESPACE","\n        ",162],["T_BOOLEAN_AND","&&",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$if_none_match",163],["T_WHITESPACE"," ",163],["T_IS_EQUAL","==",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$response",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getEtag",163],"(",")",["T_WHITESPACE"," ",163],["T_COMMENT","\/\/ etag must match\n",163],["T_WHITESPACE","        ",164],["T_BOOLEAN_AND","&&",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$if_modified_since",164],["T_WHITESPACE"," ",164],["T_IS_EQUAL","==",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$last_modified",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getTimestamp",164],"(",")",")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","  ",164],["T_COMMENT","\/\/ if-modified-since must match\n",164],["T_WHITESPACE","        ",165],["T_VARIABLE","$response",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","setStatusCode",165],"(",["T_LNUMBER","304",165],")",";",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$response",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","setContent",166],"(",["T_STRING","NULL",166],")",";",["T_WHITESPACE","\n\n        ",166],["T_COMMENT","\/\/ In the case of a 304 response, certain headers must be sent, and the\n",168],["T_WHITESPACE","        ",169],["T_COMMENT","\/\/ remaining may not (see RFC 2616, section 10.3.5).\n",169],["T_WHITESPACE","        ",170],["T_FOREACH","foreach",170],["T_WHITESPACE"," ",170],"(",["T_STRING","array_keys",170],"(",["T_VARIABLE","$response",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","headers",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","all",170],"(",")",")",["T_WHITESPACE"," ",170],["T_AS","as",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$name",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n          ",170],["T_IF","if",171],["T_WHITESPACE"," ",171],"(","!",["T_STRING","in_array",171],"(",["T_VARIABLE","$name",171],",",["T_WHITESPACE"," ",171],["T_ARRAY","array",171],"(",["T_CONSTANT_ENCAPSED_STRING","'content-location'",171],",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'expires'",171],",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'cache-control'",171],",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'vary'",171],")",")",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n            ",171],["T_VARIABLE","$response",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","headers",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","remove",172],"(",["T_VARIABLE","$name",172],")",";",["T_WHITESPACE","\n          ",172],"}",["T_WHITESPACE","\n        ",173],"}",["T_WHITESPACE","\n      ",174],"}",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n\n    ",176],["T_RETURN","return",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$response",178],";",["T_WHITESPACE","\n  ",178],"}",["T_WHITESPACE","\n\n  ",179],["T_DOC_COMMENT","\/**\n   * Fetches a response from the backend and stores it in the cache.\n   *\n   * If page_compression is enabled, a gzipped version of the page is stored in\n   * the cache to avoid compressing the output on each request. The cache entry\n   * is unzipped in the relatively rare event that the page is requested by a\n   * client without gzip support.\n   *\n   * Page compression requires the PHP zlib extension\n   * (http:\/\/php.net\/manual\/ref.zlib.php).\n   *\n   * @see drupal_page_header()\n   *\n   * @param \\Symfony\\Component\\HttpFoundation\\Request $request\n   *   A request object.\n   * @param int $type\n   *   The type of the request (one of HttpKernelInterface::MASTER_REQUEST or\n   *   HttpKernelInterface::SUB_REQUEST)\n   * @param bool $catch\n   *   Whether to catch exceptions or not\n   *\n   * @returns \\Symfony\\Component\\HttpFoundation\\Response $response\n   *   A response object.\n   *\/",181],["T_WHITESPACE","\n  ",204],["T_PROTECTED","protected",205],["T_WHITESPACE"," ",205],["T_FUNCTION","function",205],["T_WHITESPACE"," ",205],["T_STRING","fetch",205],"(",["T_STRING","Request",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$request",205],",",["T_WHITESPACE"," ",205],["T_VARIABLE","$type",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_STRING","self",205],["T_DOUBLE_COLON","::",205],["T_STRING","MASTER_REQUEST",205],",",["T_WHITESPACE"," ",205],["T_VARIABLE","$catch",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_STRING","TRUE",205],")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n    ",205],["T_DOC_COMMENT","\/** @var \\Symfony\\Component\\HttpFoundation\\Response $response *\/",206],["T_WHITESPACE","\n    ",206],["T_VARIABLE","$response",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","httpKernel",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","handle",207],"(",["T_VARIABLE","$request",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$type",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$catch",207],")",";",["T_WHITESPACE","\n\n    ",207],["T_COMMENT","\/\/ Drupal's primary cache invalidation architecture is cache tags: any\n",209],["T_WHITESPACE","    ",210],["T_COMMENT","\/\/ response that varies by a configuration value or data in a content\n",210],["T_WHITESPACE","    ",211],["T_COMMENT","\/\/ entity should have cache tags, to allow for instant cache invalidation\n",211],["T_WHITESPACE","    ",212],["T_COMMENT","\/\/ when that data is updated. However, HTTP does not standardize how to\n",212],["T_WHITESPACE","    ",213],["T_COMMENT","\/\/ encode cache tags in a response. Different CDNs implement their own\n",213],["T_WHITESPACE","    ",214],["T_COMMENT","\/\/ approaches, and configurable reverse proxies (e.g., Varnish) allow for\n",214],["T_WHITESPACE","    ",215],["T_COMMENT","\/\/ custom implementations. To keep Drupal's internal page cache simple, we\n",215],["T_WHITESPACE","    ",216],["T_COMMENT","\/\/ only cache CacheableResponseInterface responses, since those provide a\n",216],["T_WHITESPACE","    ",217],["T_COMMENT","\/\/ defined API for retrieving cache tags. For responses that do not\n",217],["T_WHITESPACE","    ",218],["T_COMMENT","\/\/ implement CacheableResponseInterface, there's no easy way to distinguish\n",218],["T_WHITESPACE","    ",219],["T_COMMENT","\/\/ responses that truly don't depend on any site data from responses that\n",219],["T_WHITESPACE","    ",220],["T_COMMENT","\/\/ contain invalidation information customized to a particular proxy or\n",220],["T_WHITESPACE","    ",221],["T_COMMENT","\/\/ CDN.\n",221],["T_WHITESPACE","    ",222],["T_COMMENT","\/\/ - Drupal modules are encouraged to use CacheableResponseInterface\n",222],["T_WHITESPACE","    ",223],["T_COMMENT","\/\/   responses where possible and to leave the encoding of that information\n",223],["T_WHITESPACE","    ",224],["T_COMMENT","\/\/   into response headers to the corresponding proxy\/CDN integration\n",224],["T_WHITESPACE","    ",225],["T_COMMENT","\/\/   modules.\n",225],["T_WHITESPACE","    ",226],["T_COMMENT","\/\/ - Custom applications that wish to provide internal page cache support\n",226],["T_WHITESPACE","    ",227],["T_COMMENT","\/\/   for responses that do not implement CacheableResponseInterface may do\n",227],["T_WHITESPACE","    ",228],["T_COMMENT","\/\/   so by replacing\/extending this middleware service or adding another\n",228],["T_WHITESPACE","    ",229],["T_COMMENT","\/\/   one.\n",229],["T_WHITESPACE","    ",230],["T_IF","if",230],["T_WHITESPACE"," ",230],"(","!",["T_VARIABLE","$response",230],["T_WHITESPACE"," ",230],["T_INSTANCEOF","instanceof",230],["T_WHITESPACE"," ",230],["T_STRING","CacheableResponseInterface",230],")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n      ",230],["T_RETURN","return",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$response",231],";",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n\n    ",232],["T_COMMENT","\/\/ Currently it is not possible to cache binary file or streamed responses:\n",234],["T_WHITESPACE","    ",235],["T_COMMENT","\/\/ https:\/\/github.com\/symfony\/symfony\/issues\/9128#issuecomment-25088678.\n",235],["T_WHITESPACE","    ",236],["T_COMMENT","\/\/ Therefore exclude them, even for subclasses that implement\n",236],["T_WHITESPACE","    ",237],["T_COMMENT","\/\/ CacheableResponseInterface.\n",237],["T_WHITESPACE","    ",238],["T_IF","if",238],["T_WHITESPACE"," ",238],"(",["T_VARIABLE","$response",238],["T_WHITESPACE"," ",238],["T_INSTANCEOF","instanceof",238],["T_WHITESPACE"," ",238],["T_STRING","BinaryFileResponse",238],["T_WHITESPACE"," ",238],["T_BOOLEAN_OR","||",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$response",238],["T_WHITESPACE"," ",238],["T_INSTANCEOF","instanceof",238],["T_WHITESPACE"," ",238],["T_STRING","StreamedResponse",238],")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n      ",238],["T_RETURN","return",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$response",239],";",["T_WHITESPACE","\n    ",239],"}",["T_WHITESPACE","\n\n    ",240],["T_COMMENT","\/\/ Allow policy rules to further restrict which responses to cache.\n",242],["T_WHITESPACE","    ",243],["T_IF","if",243],["T_WHITESPACE"," ",243],"(",["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","responsePolicy",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","check",243],"(",["T_VARIABLE","$response",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$request",243],")",["T_WHITESPACE"," ",243],["T_IS_IDENTICAL","===",243],["T_WHITESPACE"," ",243],["T_STRING","ResponsePolicyInterface",243],["T_DOUBLE_COLON","::",243],["T_STRING","DENY",243],")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n      ",243],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$response",244],";",["T_WHITESPACE","\n    ",244],"}",["T_WHITESPACE","\n\n    ",245],["T_VARIABLE","$request_time",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$request",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","server",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","get",247],"(",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_TIME'",247],")",";",["T_WHITESPACE","\n    ",247],["T_COMMENT","\/\/ The response passes all of the above checks, so cache it. Page cache\n",248],["T_WHITESPACE","    ",249],["T_COMMENT","\/\/ entries default to Cache::PERMANENT since they will be expired via cache\n",249],["T_WHITESPACE","    ",250],["T_COMMENT","\/\/ tags locally. Because of this, page cache ignores max age.\n",250],["T_WHITESPACE","    ",251],["T_COMMENT","\/\/ - Get the tags from CacheableResponseInterface per the earlier comments.\n",251],["T_WHITESPACE","    ",252],["T_COMMENT","\/\/ - Get the time expiration from the Expires header, rather than the\n",252],["T_WHITESPACE","    ",253],["T_COMMENT","\/\/   interface, but see https:\/\/www.drupal.org\/node\/2352009 about possibly\n",253],["T_WHITESPACE","    ",254],["T_COMMENT","\/\/   changing that.\n",254],["T_WHITESPACE","    ",255],["T_VARIABLE","$expire",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_LNUMBER","0",255],";",["T_WHITESPACE","\n    ",255],["T_COMMENT","\/\/ 403 and 404 responses can fill non-LRU cache backends and generally are\n",256],["T_WHITESPACE","    ",257],["T_COMMENT","\/\/ likely to have a low cache hit rate. So do not cache them permanently.\n",257],["T_WHITESPACE","    ",258],["T_IF","if",258],["T_WHITESPACE"," ",258],"(",["T_VARIABLE","$response",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","isClientError",258],"(",")",")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n      ",258],["T_COMMENT","\/\/ Cache for an hour by default. If the 'cache_ttl_4xx' setting is\n",259],["T_WHITESPACE","      ",260],["T_COMMENT","\/\/ set to 0 then do not cache the response.\n",260],["T_WHITESPACE","      ",261],["T_VARIABLE","$cache_ttl_4xx",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_STRING","Settings",261],["T_DOUBLE_COLON","::",261],["T_STRING","get",261],"(",["T_CONSTANT_ENCAPSED_STRING","'cache_ttl_4xx'",261],",",["T_WHITESPACE"," ",261],["T_LNUMBER","3600",261],")",";",["T_WHITESPACE","\n      ",261],["T_IF","if",262],["T_WHITESPACE"," ",262],"(",["T_VARIABLE","$cache_ttl_4xx",262],["T_WHITESPACE"," ",262],">",["T_WHITESPACE"," ",262],["T_LNUMBER","0",262],")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$expire",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_VARIABLE","$request_time",263],["T_WHITESPACE"," ",263],"+",["T_WHITESPACE"," ",263],["T_VARIABLE","$cache_ttl_4xx",263],";",["T_WHITESPACE","\n      ",263],"}",["T_WHITESPACE","\n    ",264],"}",["T_WHITESPACE","\n    ",265],["T_ELSE","else",266],["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n      ",266],["T_VARIABLE","$date",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$response",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","getExpires",267],"(",")",["T_OBJECT_OPERATOR","->",267],["T_STRING","getTimestamp",267],"(",")",";",["T_WHITESPACE","\n      ",267],["T_VARIABLE","$expire",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],"(",["T_VARIABLE","$date",268],["T_WHITESPACE"," ",268],">",["T_WHITESPACE"," ",268],["T_VARIABLE","$request_time",268],")",["T_WHITESPACE"," ",268],"?",["T_WHITESPACE"," ",268],["T_VARIABLE","$date",268],["T_WHITESPACE"," ",268],":",["T_WHITESPACE"," ",268],["T_STRING","Cache",268],["T_DOUBLE_COLON","::",268],["T_STRING","PERMANENT",268],";",["T_WHITESPACE","\n    ",268],"}",["T_WHITESPACE","\n\n    ",269],["T_IF","if",271],["T_WHITESPACE"," ",271],"(",["T_VARIABLE","$expire",271],["T_WHITESPACE"," ",271],["T_IS_IDENTICAL","===",271],["T_WHITESPACE"," ",271],["T_STRING","Cache",271],["T_DOUBLE_COLON","::",271],["T_STRING","PERMANENT",271],["T_WHITESPACE"," ",271],["T_BOOLEAN_OR","||",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$expire",271],["T_WHITESPACE"," ",271],">",["T_WHITESPACE"," ",271],["T_VARIABLE","$request_time",271],")",["T_WHITESPACE"," ",271],"{",["T_WHITESPACE","\n      ",271],["T_VARIABLE","$tags",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_VARIABLE","$response",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","getCacheableMetadata",272],"(",")",["T_OBJECT_OPERATOR","->",272],["T_STRING","getCacheTags",272],"(",")",";",["T_WHITESPACE","\n      ",272],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","set",273],"(",["T_VARIABLE","$request",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$response",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$expire",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$tags",273],")",";",["T_WHITESPACE","\n    ",273],"}",["T_WHITESPACE","\n\n    ",274],["T_COMMENT","\/\/ Mark response as a cache miss.\n",276],["T_WHITESPACE","    ",277],["T_VARIABLE","$response",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","headers",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","set",277],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",277],",",["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'MISS'",277],")",";",["T_WHITESPACE","\n\n    ",277],["T_RETURN","return",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$response",279],";",["T_WHITESPACE","\n  ",279],"}",["T_WHITESPACE","\n\n  ",280],["T_DOC_COMMENT","\/**\n   * Returns a response object from the page cache.\n   *\n   * @param \\Symfony\\Component\\HttpFoundation\\Request $request\n   *   A request object.\n   * @param bool $allow_invalid\n   *   (optional) If TRUE, a cache item may be returned even if it is expired or\n   *   has been invalidated. Such items may sometimes be preferred, if the\n   *   alternative is recalculating the value stored in the cache, especially\n   *   if another concurrent request is already recalculating the same value.\n   *   The \"valid\" property of the returned object indicates whether the item is\n   *   valid or not. Defaults to FALSE.\n   *\n   * @return \\Symfony\\Component\\HttpFoundation\\Response|false\n   *   The cached response or FALSE on failure.\n   *\/",282],["T_WHITESPACE","\n  ",297],["T_PROTECTED","protected",298],["T_WHITESPACE"," ",298],["T_FUNCTION","function",298],["T_WHITESPACE"," ",298],["T_STRING","get",298],"(",["T_STRING","Request",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$request",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$allow_invalid",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_STRING","FALSE",298],")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n    ",298],["T_VARIABLE","$cid",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","getCacheId",299],"(",["T_VARIABLE","$request",299],")",";",["T_WHITESPACE","\n    ",299],["T_IF","if",300],["T_WHITESPACE"," ",300],"(",["T_VARIABLE","$cache",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","cache",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","get",300],"(",["T_VARIABLE","$cid",300],",",["T_WHITESPACE"," ",300],["T_VARIABLE","$allow_invalid",300],")",")",["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n      ",300],["T_RETURN","return",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$cache",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","data",301],";",["T_WHITESPACE","\n    ",301],"}",["T_WHITESPACE","\n    ",302],["T_RETURN","return",303],["T_WHITESPACE"," ",303],["T_STRING","FALSE",303],";",["T_WHITESPACE","\n  ",303],"}",["T_WHITESPACE","\n\n  ",304],["T_DOC_COMMENT","\/**\n   * Stores a response object in the page cache.\n   *\n   * @param \\Symfony\\Component\\HttpFoundation\\Request $request\n   *   A request object.\n   * @param \\Symfony\\Component\\HttpFoundation\\Response $response\n   *   The response to store in the cache.\n   * @param int $expire\n   *   One of the following values:\n   *   - CacheBackendInterface::CACHE_PERMANENT: Indicates that the item should\n   *     not be removed unless it is deleted explicitly.\n   *   - A Unix timestamp: Indicates that the item will be considered invalid\n   *     after this time, i.e. it will not be returned by get() unless\n   *     $allow_invalid has been set to TRUE. When the item has expired, it may\n   *     be permanently deleted by the garbage collector at any time.\n   * @param array $tags\n   *   An array of tags to be stored with the cache item. These should normally\n   *   identify objects used to build the cache item, which should trigger\n   *   cache invalidation when updated. For example if a cached item represents\n   *   a node, both the node ID and the author's user ID might be passed in as\n   *   tags. For example array('node' => array(123), 'user' => array(92)).\n   *\/",306],["T_WHITESPACE","\n  ",327],["T_PROTECTED","protected",328],["T_WHITESPACE"," ",328],["T_FUNCTION","function",328],["T_WHITESPACE"," ",328],["T_STRING","set",328],"(",["T_STRING","Request",328],["T_WHITESPACE"," ",328],["T_VARIABLE","$request",328],",",["T_WHITESPACE"," ",328],["T_STRING","Response",328],["T_WHITESPACE"," ",328],["T_VARIABLE","$response",328],",",["T_WHITESPACE"," ",328],["T_VARIABLE","$expire",328],",",["T_WHITESPACE"," ",328],["T_ARRAY","array",328],["T_WHITESPACE"," ",328],["T_VARIABLE","$tags",328],")",["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n    ",328],["T_VARIABLE","$cid",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","getCacheId",329],"(",["T_VARIABLE","$request",329],")",";",["T_WHITESPACE","\n    ",329],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","cache",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","set",330],"(",["T_VARIABLE","$cid",330],",",["T_WHITESPACE"," ",330],["T_VARIABLE","$response",330],",",["T_WHITESPACE"," ",330],["T_VARIABLE","$expire",330],",",["T_WHITESPACE"," ",330],["T_VARIABLE","$tags",330],")",";",["T_WHITESPACE","\n  ",330],"}",["T_WHITESPACE","\n\n  ",331],["T_DOC_COMMENT","\/**\n   * Gets the page cache ID for this request.\n   *\n   * @param \\Symfony\\Component\\HttpFoundation\\Request $request\n   *   A request object.\n   *\n   * @return string\n   *   The cache ID for this request.\n   *\/",333],["T_WHITESPACE","\n  ",341],["T_PROTECTED","protected",342],["T_WHITESPACE"," ",342],["T_FUNCTION","function",342],["T_WHITESPACE"," ",342],["T_STRING","getCacheId",342],"(",["T_STRING","Request",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$request",342],")",["T_WHITESPACE"," ",342],"{",["T_WHITESPACE","\n    ",342],["T_VARIABLE","$cid_parts",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_ARRAY","array",343],"(",["T_WHITESPACE","\n      ",343],["T_VARIABLE","$request",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","getUri",344],"(",")",",",["T_WHITESPACE","\n      ",344],["T_VARIABLE","$request",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","getRequestFormat",345],"(",")",",",["T_WHITESPACE","\n    ",345],")",";",["T_WHITESPACE","\n    ",346],["T_RETURN","return",347],["T_WHITESPACE"," ",347],["T_STRING","implode",347],"(",["T_CONSTANT_ENCAPSED_STRING","':'",347],",",["T_WHITESPACE"," ",347],["T_VARIABLE","$cid_parts",347],")",";",["T_WHITESPACE","\n  ",347],"}",["T_WHITESPACE","\n\n",348],"}",["T_WHITESPACE","\n",350]]