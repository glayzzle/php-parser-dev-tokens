[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","page_cache",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Datetime",5],["T_NS_SEPARATOR","\\",5],["T_STRING","DateTimePlus",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Site",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Settings",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Url",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","entity_test",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","EntityTest",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","simpletest",9],["T_NS_SEPARATOR","\\",9],["T_STRING","WebTestBase",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Cache",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Cache",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","user",11],["T_NS_SEPARATOR","\\",11],["T_STRING","RoleInterface",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Enables the page cache and tests it with various HTTP requests.\n *\n * @group page_cache\n *\/",13],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","PageCacheTest",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_STRING","WebTestBase",18],["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n\n  ",18],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$dumpHeaders",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_STRING","TRUE",20],";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",22],["T_WHITESPACE","\n  ",26],["T_PUBLIC","public",27],["T_WHITESPACE"," ",27],["T_STATIC","static",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$modules",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_ARRAY","array",27],"(",["T_CONSTANT_ENCAPSED_STRING","'test_page_test'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'system_test'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",27],")",";",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",29],["T_WHITESPACE","\n  ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","setUp",32],"(",")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n    ",32],["T_STRING","parent",33],["T_DOUBLE_COLON","::",33],["T_STRING","setUp",33],"(",")",";",["T_WHITESPACE","\n\n    ",33],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","config",35],"(",["T_CONSTANT_ENCAPSED_STRING","'system.site'",35],")",["T_WHITESPACE","\n      ",35],["T_OBJECT_OPERATOR","->",36],["T_STRING","set",36],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'Drupal'",36],")",["T_WHITESPACE","\n      ",36],["T_OBJECT_OPERATOR","->",37],["T_STRING","set",37],"(",["T_CONSTANT_ENCAPSED_STRING","'page.front'",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'\/test-page'",37],")",["T_WHITESPACE","\n      ",37],["T_OBJECT_OPERATOR","->",38],["T_STRING","save",38],"(",")",";",["T_WHITESPACE","\n  ",38],"}",["T_WHITESPACE","\n\n  ",39],["T_DOC_COMMENT","\/**\n   * Test that cache tags are properly persisted.\n   *\n   * Since tag based invalidation works, we know that our tag properly\n   * persisted.\n   *\/",41],["T_WHITESPACE","\n  ",46],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","testPageCacheTags",47],"(",")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$config",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","config",48],"(",["T_CONSTANT_ENCAPSED_STRING","'system.performance'",48],")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$config",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","set",49],"(",["T_CONSTANT_ENCAPSED_STRING","'cache.page.max_age'",49],",",["T_WHITESPACE"," ",49],["T_LNUMBER","300",49],")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$config",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","save",50],"(",")",";",["T_WHITESPACE","\n\n    ",50],["T_VARIABLE","$path",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'system-test\/cache_tags_page'",52],";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$tags",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_ARRAY","array",53],"(",["T_CONSTANT_ENCAPSED_STRING","'system_test_cache_tags_page'",53],")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","drupalGet",54],"(",["T_VARIABLE","$path",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertEqual",55],"(",["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","drupalGetHeader",55],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",55],")",",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'MISS'",55],")",";",["T_WHITESPACE","\n\n    ",55],["T_COMMENT","\/\/ Verify a cache hit, but also the presence of the correct cache tags.\n",57],["T_WHITESPACE","    ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","drupalGet",58],"(",["T_VARIABLE","$path",58],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","assertEqual",59],"(",["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","drupalGetHeader",59],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",59],")",",",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'HIT'",59],")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$cid_parts",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_ARRAY","array",60],"(",["T_NS_SEPARATOR","\\",60],["T_STRING","Drupal",60],["T_DOUBLE_COLON","::",60],["T_STRING","url",60],"(",["T_CONSTANT_ENCAPSED_STRING","'system_test.cache_tags_page'",60],",",["T_WHITESPACE"," ",60],["T_ARRAY","array",60],"(",")",",",["T_WHITESPACE"," ",60],["T_ARRAY","array",60],"(",["T_CONSTANT_ENCAPSED_STRING","'absolute'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_STRING","TRUE",60],")",")",",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'html'",60],")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$cid",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","implode",61],"(",["T_CONSTANT_ENCAPSED_STRING","':'",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$cid_parts",61],")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$cache_entry",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Drupal",62],["T_DOUBLE_COLON","::",62],["T_STRING","cache",62],"(",["T_CONSTANT_ENCAPSED_STRING","'render'",62],")",["T_OBJECT_OPERATOR","->",62],["T_STRING","get",62],"(",["T_VARIABLE","$cid",62],")",";",["T_WHITESPACE","\n    ",62],["T_STRING","sort",63],"(",["T_VARIABLE","$cache_entry",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","tags",63],")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$expected_tags",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_ARRAY","array",64],"(",["T_WHITESPACE","\n      ",64],["T_CONSTANT_ENCAPSED_STRING","'config:user.role.anonymous'",65],",",["T_WHITESPACE","\n      ",65],["T_CONSTANT_ENCAPSED_STRING","'pre_render'",66],",",["T_WHITESPACE","\n      ",66],["T_CONSTANT_ENCAPSED_STRING","'rendered'",67],",",["T_WHITESPACE","\n      ",67],["T_CONSTANT_ENCAPSED_STRING","'system_test_cache_tags_page'",68],",",["T_WHITESPACE","\n    ",68],")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertIdentical",70],"(",["T_VARIABLE","$cache_entry",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","tags",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$expected_tags",70],")",";",["T_WHITESPACE","\n\n    ",70],["T_STRING","Cache",72],["T_DOUBLE_COLON","::",72],["T_STRING","invalidateTags",72],"(",["T_VARIABLE","$tags",72],")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","drupalGet",73],"(",["T_VARIABLE","$path",73],")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertEqual",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","drupalGetHeader",74],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",74],")",",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'MISS'",74],")",";",["T_WHITESPACE","\n  ",74],"}",["T_WHITESPACE","\n\n  ",75],["T_DOC_COMMENT","\/**\n   * Test that the page cache doesn't depend on cacheability headers.\n   *\/",77],["T_WHITESPACE","\n  ",79],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","testPageCacheTagsIndependentFromCacheabilityHeaders",80],"(",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","setHttpResponseDebugCacheabilityHeaders",81],"(",["T_STRING","FALSE",81],")",";",["T_WHITESPACE","\n\n    ",81],["T_VARIABLE","$path",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'system-test\/cache_tags_page'",83],";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$tags",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_ARRAY","array",84],"(",["T_CONSTANT_ENCAPSED_STRING","'system_test_cache_tags_page'",84],")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","drupalGet",85],"(",["T_VARIABLE","$path",85],")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertEqual",86],"(",["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","drupalGetHeader",86],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",86],")",",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'MISS'",86],")",";",["T_WHITESPACE","\n\n    ",86],["T_COMMENT","\/\/ Verify a cache hit, but also the presence of the correct cache tags.\n",88],["T_WHITESPACE","    ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","drupalGet",89],"(",["T_VARIABLE","$path",89],")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertEqual",90],"(",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","drupalGetHeader",90],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",90],")",",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'HIT'",90],")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$cid_parts",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_ARRAY","array",91],"(",["T_NS_SEPARATOR","\\",91],["T_STRING","Drupal",91],["T_DOUBLE_COLON","::",91],["T_STRING","url",91],"(",["T_CONSTANT_ENCAPSED_STRING","'system_test.cache_tags_page'",91],",",["T_WHITESPACE"," ",91],["T_ARRAY","array",91],"(",")",",",["T_WHITESPACE"," ",91],["T_ARRAY","array",91],"(",["T_CONSTANT_ENCAPSED_STRING","'absolute'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_STRING","TRUE",91],")",")",",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'html'",91],")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$cid",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_STRING","implode",92],"(",["T_CONSTANT_ENCAPSED_STRING","':'",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$cid_parts",92],")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$cache_entry",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Drupal",93],["T_DOUBLE_COLON","::",93],["T_STRING","cache",93],"(",["T_CONSTANT_ENCAPSED_STRING","'render'",93],")",["T_OBJECT_OPERATOR","->",93],["T_STRING","get",93],"(",["T_VARIABLE","$cid",93],")",";",["T_WHITESPACE","\n    ",93],["T_STRING","sort",94],"(",["T_VARIABLE","$cache_entry",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","tags",94],")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$expected_tags",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_ARRAY","array",95],"(",["T_WHITESPACE","\n      ",95],["T_CONSTANT_ENCAPSED_STRING","'config:user.role.anonymous'",96],",",["T_WHITESPACE","\n      ",96],["T_CONSTANT_ENCAPSED_STRING","'pre_render'",97],",",["T_WHITESPACE","\n      ",97],["T_CONSTANT_ENCAPSED_STRING","'rendered'",98],",",["T_WHITESPACE","\n      ",98],["T_CONSTANT_ENCAPSED_STRING","'system_test_cache_tags_page'",99],",",["T_WHITESPACE","\n    ",99],")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertIdentical",101],"(",["T_VARIABLE","$cache_entry",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","tags",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$expected_tags",101],")",";",["T_WHITESPACE","\n\n    ",101],["T_STRING","Cache",103],["T_DOUBLE_COLON","::",103],["T_STRING","invalidateTags",103],"(",["T_VARIABLE","$tags",103],")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","drupalGet",104],"(",["T_VARIABLE","$path",104],")",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertEqual",105],"(",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","drupalGetHeader",105],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",105],")",",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'MISS'",105],")",";",["T_WHITESPACE","\n  ",105],"}",["T_WHITESPACE","\n\n  ",106],["T_DOC_COMMENT","\/**\n   * Tests support for different cache items with different request formats\n   * specified via a query parameter.\n   *\/",108],["T_WHITESPACE","\n  ",111],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","testQueryParameterFormatRequests",112],"(",")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$config",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","config",113],"(",["T_CONSTANT_ENCAPSED_STRING","'system.performance'",113],")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$config",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","set",114],"(",["T_CONSTANT_ENCAPSED_STRING","'cache.page.max_age'",114],",",["T_WHITESPACE"," ",114],["T_LNUMBER","300",114],")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$config",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","save",115],"(",")",";",["T_WHITESPACE","\n\n    ",115],["T_VARIABLE","$accept_header_cache_url",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_STRING","Url",117],["T_DOUBLE_COLON","::",117],["T_STRING","fromRoute",117],"(",["T_CONSTANT_ENCAPSED_STRING","'system_test.page_cache_accept_header'",117],")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$accept_header_cache_url_with_json",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","Url",118],["T_DOUBLE_COLON","::",118],["T_STRING","fromRoute",118],"(",["T_CONSTANT_ENCAPSED_STRING","'system_test.page_cache_accept_header'",118],",",["T_WHITESPACE"," ",118],"[",["T_CONSTANT_ENCAPSED_STRING","'_format'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'json'",118],"]",")",";",["T_WHITESPACE","\n\n    ",118],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","drupalGet",120],"(",["T_VARIABLE","$accept_header_cache_url",120],")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","assertEqual",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","drupalGetHeader",121],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",121],")",",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'MISS'",121],",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'HTML page was not yet cached.'",121],")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","drupalGet",122],"(",["T_VARIABLE","$accept_header_cache_url",122],")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","assertEqual",123],"(",["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","drupalGetHeader",123],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",123],")",",",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'HIT'",123],",",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'HTML page was cached.'",123],")",";",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","assertRaw",124],"(",["T_CONSTANT_ENCAPSED_STRING","'<p>oh hai this is html.<\/p>'",124],",",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'The correct HTML response was returned.'",124],")",";",["T_WHITESPACE","\n\n    ",124],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","drupalGet",126],"(",["T_VARIABLE","$accept_header_cache_url_with_json",126],")",";",["T_WHITESPACE","\n    ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","assertEqual",127],"(",["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","drupalGetHeader",127],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",127],")",",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'MISS'",127],",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'Json response was not yet cached.'",127],")",";",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","drupalGet",128],"(",["T_VARIABLE","$accept_header_cache_url_with_json",128],")",";",["T_WHITESPACE","\n    ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","assertEqual",129],"(",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","drupalGetHeader",129],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",129],")",",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'HIT'",129],",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'Json response was cached.'",129],")",";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","assertRaw",130],"(",["T_CONSTANT_ENCAPSED_STRING","'{\"content\":\"oh hai this is json\"}'",130],",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'The correct Json response was returned.'",130],")",";",["T_WHITESPACE","\n\n    ",130],["T_COMMENT","\/\/ Enable REST support for nodes and hal+json.\n",132],["T_WHITESPACE","    ",133],["T_NS_SEPARATOR","\\",133],["T_STRING","Drupal",133],["T_DOUBLE_COLON","::",133],["T_STRING","service",133],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",133],")",["T_OBJECT_OPERATOR","->",133],["T_STRING","install",133],"(","[",["T_CONSTANT_ENCAPSED_STRING","'node'",133],",",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'rest'",133],",",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'hal'",133],",",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'basic_auth'",133],"]",")",";",["T_WHITESPACE","\n    ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","drupalCreateContentType",134],"(","[",["T_CONSTANT_ENCAPSED_STRING","'type'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'article'",134],"]",")",";",["T_WHITESPACE","\n    ",134],["T_VARIABLE","$node",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","drupalCreateNode",135],"(","[",["T_CONSTANT_ENCAPSED_STRING","'type'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'article'",135],"]",")",";",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$node_uri",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$node",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","urlInfo",136],"(",")",";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$node_url_with_hal_json_format",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$node",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","urlInfo",137],"(",["T_CONSTANT_ENCAPSED_STRING","'canonical'",137],")",["T_OBJECT_OPERATOR","->",137],["T_STRING","setRouteParameter",137],"(",["T_CONSTANT_ENCAPSED_STRING","'_format'",137],",",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'hal_json'",137],")",";",["T_WHITESPACE","\n\n    ",137],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","drupalGet",139],"(",["T_VARIABLE","$node_uri",139],")",";",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","assertEqual",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","drupalGetHeader",140],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",140],")",",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'MISS'",140],")",";",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","assertEqual",141],"(",["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","drupalGetHeader",141],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",141],")",",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'text\/html; charset=UTF-8'",141],")",";",["T_WHITESPACE","\n    ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","drupalGet",142],"(",["T_VARIABLE","$node_uri",142],")",";",["T_WHITESPACE","\n    ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","assertEqual",143],"(",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","drupalGetHeader",143],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",143],")",",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'HIT'",143],")",";",["T_WHITESPACE","\n    ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","assertEqual",144],"(",["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","drupalGetHeader",144],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",144],")",",",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'text\/html; charset=UTF-8'",144],")",";",["T_WHITESPACE","\n\n    ",144],["T_COMMENT","\/\/ Now request a HAL page, we expect that the first request is a cache miss\n",146],["T_WHITESPACE","    ",147],["T_COMMENT","\/\/ and it serves HTML.\n",147],["T_WHITESPACE","    ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","drupalGet",148],"(",["T_VARIABLE","$node_url_with_hal_json_format",148],")",";",["T_WHITESPACE","\n    ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","assertEqual",149],"(",["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","drupalGetHeader",149],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",149],")",",",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'MISS'",149],")",";",["T_WHITESPACE","\n    ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","assertEqual",150],"(",["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","drupalGetHeader",150],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",150],")",",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'application\/hal+json'",150],")",";",["T_WHITESPACE","\n    ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","drupalGet",151],"(",["T_VARIABLE","$node_url_with_hal_json_format",151],")",";",["T_WHITESPACE","\n    ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","assertEqual",152],"(",["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","drupalGetHeader",152],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",152],")",",",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'HIT'",152],")",";",["T_WHITESPACE","\n    ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","assertEqual",153],"(",["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","drupalGetHeader",153],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",153],")",",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'application\/hal+json'",153],")",";",["T_WHITESPACE","\n\n    ",153],["T_COMMENT","\/\/ Clear the page cache. After that request a HAL request, followed by an\n",155],["T_WHITESPACE","    ",156],["T_COMMENT","\/\/ ordinary HTML one.\n",156],["T_WHITESPACE","    ",157],["T_NS_SEPARATOR","\\",157],["T_STRING","Drupal",157],["T_DOUBLE_COLON","::",157],["T_STRING","cache",157],"(",["T_CONSTANT_ENCAPSED_STRING","'render'",157],")",["T_OBJECT_OPERATOR","->",157],["T_STRING","deleteAll",157],"(",")",";",["T_WHITESPACE","\n    ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","drupalGet",158],"(",["T_VARIABLE","$node_url_with_hal_json_format",158],")",";",["T_WHITESPACE","\n    ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","assertEqual",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","drupalGetHeader",159],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",159],")",",",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'MISS'",159],")",";",["T_WHITESPACE","\n    ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","assertEqual",160],"(",["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","drupalGetHeader",160],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",160],")",",",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'application\/hal+json'",160],")",";",["T_WHITESPACE","\n    ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","drupalGet",161],"(",["T_VARIABLE","$node_url_with_hal_json_format",161],")",";",["T_WHITESPACE","\n    ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","assertEqual",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","drupalGetHeader",162],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",162],")",",",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'HIT'",162],")",";",["T_WHITESPACE","\n    ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","assertEqual",163],"(",["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","drupalGetHeader",163],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",163],")",",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'application\/hal+json'",163],")",";",["T_WHITESPACE","\n\n    ",163],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","drupalGet",165],"(",["T_VARIABLE","$node_uri",165],")",";",["T_WHITESPACE","\n    ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","assertEqual",166],"(",["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","drupalGetHeader",166],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",166],")",",",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'MISS'",166],")",";",["T_WHITESPACE","\n    ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","assertEqual",167],"(",["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","drupalGetHeader",167],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",167],")",",",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'text\/html; charset=UTF-8'",167],")",";",["T_WHITESPACE","\n    ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","drupalGet",168],"(",["T_VARIABLE","$node_uri",168],")",";",["T_WHITESPACE","\n    ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","assertEqual",169],"(",["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","drupalGetHeader",169],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",169],")",",",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'HIT'",169],")",";",["T_WHITESPACE","\n    ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","assertEqual",170],"(",["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","drupalGetHeader",170],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",170],")",",",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'text\/html; charset=UTF-8'",170],")",";",["T_WHITESPACE","\n  ",170],"}",["T_WHITESPACE","\n\n  ",171],["T_DOC_COMMENT","\/**\n   * Tests support of requests with If-Modified-Since and If-None-Match headers.\n   *\/",173],["T_WHITESPACE","\n  ",175],["T_FUNCTION","function",176],["T_WHITESPACE"," ",176],["T_STRING","testConditionalRequests",176],"(",")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n    ",176],["T_VARIABLE","$config",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","config",177],"(",["T_CONSTANT_ENCAPSED_STRING","'system.performance'",177],")",";",["T_WHITESPACE","\n    ",177],["T_VARIABLE","$config",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","set",178],"(",["T_CONSTANT_ENCAPSED_STRING","'cache.page.max_age'",178],",",["T_WHITESPACE"," ",178],["T_LNUMBER","300",178],")",";",["T_WHITESPACE","\n    ",178],["T_VARIABLE","$config",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","save",179],"(",")",";",["T_WHITESPACE","\n\n    ",179],["T_COMMENT","\/\/ Fill the cache.\n",181],["T_WHITESPACE","    ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","drupalGet",182],"(",["T_CONSTANT_ENCAPSED_STRING","''",182],")",";",["T_WHITESPACE","\n    ",182],["T_COMMENT","\/\/ Verify the page is not printed twice when the cache is cold.\n",183],["T_WHITESPACE","    ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","assertNoPattern",184],"(",["T_CONSTANT_ENCAPSED_STRING","'#<html.*<html#'",184],")",";",["T_WHITESPACE","\n\n    ",184],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","drupalHead",186],"(",["T_CONSTANT_ENCAPSED_STRING","''",186],")",";",["T_WHITESPACE","\n    ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","assertEqual",187],"(",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","drupalGetHeader",187],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",187],")",",",["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'HIT'",187],",",["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'Page was cached.'",187],")",";",["T_WHITESPACE","\n    ",187],["T_VARIABLE","$etag",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","drupalGetHeader",188],"(",["T_CONSTANT_ENCAPSED_STRING","'ETag'",188],")",";",["T_WHITESPACE","\n    ",188],["T_VARIABLE","$last_modified",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","drupalGetHeader",189],"(",["T_CONSTANT_ENCAPSED_STRING","'Last-Modified'",189],")",";",["T_WHITESPACE","\n\n    ",189],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","drupalGet",191],"(",["T_CONSTANT_ENCAPSED_STRING","''",191],",",["T_WHITESPACE"," ",191],["T_ARRAY","array",191],"(",")",",",["T_WHITESPACE"," ",191],["T_ARRAY","array",191],"(",["T_CONSTANT_ENCAPSED_STRING","'If-Modified-Since: '",191],["T_WHITESPACE"," ",191],".",["T_WHITESPACE"," ",191],["T_VARIABLE","$last_modified",191],",",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'If-None-Match: '",191],["T_WHITESPACE"," ",191],".",["T_WHITESPACE"," ",191],["T_VARIABLE","$etag",191],")",")",";",["T_WHITESPACE","\n    ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","assertResponse",192],"(",["T_LNUMBER","304",192],",",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'Conditional request returned 304 Not Modified.'",192],")",";",["T_WHITESPACE","\n\n    ",192],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","drupalGet",194],"(",["T_CONSTANT_ENCAPSED_STRING","''",194],",",["T_WHITESPACE"," ",194],["T_ARRAY","array",194],"(",")",",",["T_WHITESPACE"," ",194],["T_ARRAY","array",194],"(",["T_CONSTANT_ENCAPSED_STRING","'If-Modified-Since: '",194],["T_WHITESPACE"," ",194],".",["T_WHITESPACE"," ",194],["T_STRING","gmdate",194],"(",["T_STRING","DATE_RFC822",194],",",["T_WHITESPACE"," ",194],["T_STRING","strtotime",194],"(",["T_VARIABLE","$last_modified",194],")",")",",",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'If-None-Match: '",194],["T_WHITESPACE"," ",194],".",["T_WHITESPACE"," ",194],["T_VARIABLE","$etag",194],")",")",";",["T_WHITESPACE","\n    ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","assertResponse",195],"(",["T_LNUMBER","304",195],",",["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","'Conditional request with obsolete If-Modified-Since date returned 304 Not Modified.'",195],")",";",["T_WHITESPACE","\n\n    ",195],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","drupalGet",197],"(",["T_CONSTANT_ENCAPSED_STRING","''",197],",",["T_WHITESPACE"," ",197],["T_ARRAY","array",197],"(",")",",",["T_WHITESPACE"," ",197],["T_ARRAY","array",197],"(",["T_CONSTANT_ENCAPSED_STRING","'If-Modified-Since: '",197],["T_WHITESPACE"," ",197],".",["T_WHITESPACE"," ",197],["T_STRING","gmdate",197],"(",["T_STRING","DATE_RFC850",197],",",["T_WHITESPACE"," ",197],["T_STRING","strtotime",197],"(",["T_VARIABLE","$last_modified",197],")",")",",",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'If-None-Match: '",197],["T_WHITESPACE"," ",197],".",["T_WHITESPACE"," ",197],["T_VARIABLE","$etag",197],")",")",";",["T_WHITESPACE","\n    ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","assertResponse",198],"(",["T_LNUMBER","304",198],",",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'Conditional request with obsolete If-Modified-Since date returned 304 Not Modified.'",198],")",";",["T_WHITESPACE","\n\n    ",198],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","drupalGet",200],"(",["T_CONSTANT_ENCAPSED_STRING","''",200],",",["T_WHITESPACE"," ",200],["T_ARRAY","array",200],"(",")",",",["T_WHITESPACE"," ",200],["T_ARRAY","array",200],"(",["T_CONSTANT_ENCAPSED_STRING","'If-Modified-Since: '",200],["T_WHITESPACE"," ",200],".",["T_WHITESPACE"," ",200],["T_VARIABLE","$last_modified",200],")",")",";",["T_WHITESPACE","\n    ",200],["T_COMMENT","\/\/ Verify the page is not printed twice when the cache is warm.\n",201],["T_WHITESPACE","    ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","assertNoPattern",202],"(",["T_CONSTANT_ENCAPSED_STRING","'#<html.*<html#'",202],")",";",["T_WHITESPACE","\n    ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","assertResponse",203],"(",["T_LNUMBER","200",203],",",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'Conditional request without If-None-Match returned 200 OK.'",203],")",";",["T_WHITESPACE","\n    ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","assertEqual",204],"(",["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","drupalGetHeader",204],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",204],")",",",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","'HIT'",204],",",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","'Page was cached.'",204],")",";",["T_WHITESPACE","\n\n    ",204],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","drupalGet",206],"(",["T_CONSTANT_ENCAPSED_STRING","''",206],",",["T_WHITESPACE"," ",206],["T_ARRAY","array",206],"(",")",",",["T_WHITESPACE"," ",206],["T_ARRAY","array",206],"(",["T_CONSTANT_ENCAPSED_STRING","'If-Modified-Since: '",206],["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_STRING","gmdate",206],"(",["T_STRING","DateTimePlus",206],["T_DOUBLE_COLON","::",206],["T_STRING","RFC7231",206],",",["T_WHITESPACE"," ",206],["T_STRING","strtotime",206],"(",["T_VARIABLE","$last_modified",206],")",["T_WHITESPACE"," ",206],"+",["T_WHITESPACE"," ",206],["T_LNUMBER","1",206],")",",",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'If-None-Match: '",206],["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_VARIABLE","$etag",206],")",")",";",["T_WHITESPACE","\n    ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","assertResponse",207],"(",["T_LNUMBER","200",207],",",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'Conditional request with new a If-Modified-Since date newer than Last-Modified returned 200 OK.'",207],")",";",["T_WHITESPACE","\n    ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","assertEqual",208],"(",["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","drupalGetHeader",208],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",208],")",",",["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'HIT'",208],",",["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'Page was cached.'",208],")",";",["T_WHITESPACE","\n\n    ",208],["T_VARIABLE","$user",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","drupalCreateUser",210],"(",")",";",["T_WHITESPACE","\n    ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","drupalLogin",211],"(",["T_VARIABLE","$user",211],")",";",["T_WHITESPACE","\n    ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","drupalGet",212],"(",["T_CONSTANT_ENCAPSED_STRING","''",212],",",["T_WHITESPACE"," ",212],["T_ARRAY","array",212],"(",")",",",["T_WHITESPACE"," ",212],["T_ARRAY","array",212],"(",["T_CONSTANT_ENCAPSED_STRING","'If-Modified-Since: '",212],["T_WHITESPACE"," ",212],".",["T_WHITESPACE"," ",212],["T_VARIABLE","$last_modified",212],",",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'If-None-Match: '",212],["T_WHITESPACE"," ",212],".",["T_WHITESPACE"," ",212],["T_VARIABLE","$etag",212],")",")",";",["T_WHITESPACE","\n    ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","assertResponse",213],"(",["T_LNUMBER","200",213],",",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'Conditional request returned 200 OK for authenticated user.'",213],")",";",["T_WHITESPACE","\n    ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","assertFalse",214],"(",["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","drupalGetHeader",214],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",214],")",",",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'Absence of Page was not cached.'",214],")",";",["T_WHITESPACE","\n  ",214],"}",["T_WHITESPACE","\n\n  ",215],["T_DOC_COMMENT","\/**\n   * Tests cache headers.\n   *\/",217],["T_WHITESPACE","\n  ",219],["T_FUNCTION","function",220],["T_WHITESPACE"," ",220],["T_STRING","testPageCache",220],"(",")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n    ",220],["T_VARIABLE","$config",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","config",221],"(",["T_CONSTANT_ENCAPSED_STRING","'system.performance'",221],")",";",["T_WHITESPACE","\n    ",221],["T_VARIABLE","$config",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","set",222],"(",["T_CONSTANT_ENCAPSED_STRING","'cache.page.max_age'",222],",",["T_WHITESPACE"," ",222],["T_LNUMBER","300",222],")",";",["T_WHITESPACE","\n    ",222],["T_VARIABLE","$config",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","set",223],"(",["T_CONSTANT_ENCAPSED_STRING","'response.gzip'",223],",",["T_WHITESPACE"," ",223],["T_LNUMBER","1",223],")",";",["T_WHITESPACE","\n    ",223],["T_VARIABLE","$config",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","save",224],"(",")",";",["T_WHITESPACE","\n\n    ",224],["T_COMMENT","\/\/ Fill the cache.\n",226],["T_WHITESPACE","    ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","drupalGet",227],"(",["T_CONSTANT_ENCAPSED_STRING","'system-test\/set-header'",227],",",["T_WHITESPACE"," ",227],["T_ARRAY","array",227],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",227],["T_WHITESPACE"," ",227],["T_DOUBLE_ARROW","=>",227],["T_WHITESPACE"," ",227],["T_ARRAY","array",227],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",227],["T_WHITESPACE"," ",227],["T_DOUBLE_ARROW","=>",227],["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","'Foo'",227],",",["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","'value'",227],["T_WHITESPACE"," ",227],["T_DOUBLE_ARROW","=>",227],["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","'bar'",227],")",")",")",";",["T_WHITESPACE","\n    ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","assertEqual",228],"(",["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","drupalGetHeader",228],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",228],")",",",["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","'MISS'",228],",",["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","'Page was not cached.'",228],")",";",["T_WHITESPACE","\n    ",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","assertEqual",229],"(",["T_STRING","strtolower",229],"(",["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","drupalGetHeader",229],"(",["T_CONSTANT_ENCAPSED_STRING","'Vary'",229],")",")",",",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'cookie,accept-encoding'",229],",",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'Vary header was sent.'",229],")",";",["T_WHITESPACE","\n    ",229],["T_COMMENT","\/\/ Symfony's Response logic determines a specific order for the subvalues\n",230],["T_WHITESPACE","    ",231],["T_COMMENT","\/\/ of the Cache-Control header, even if they are explicitly passed in to\n",231],["T_WHITESPACE","    ",232],["T_COMMENT","\/\/ the response header bag in a different order.\n",232],["T_WHITESPACE","    ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","assertEqual",233],"(",["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","drupalGetHeader",233],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",233],")",",",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'max-age=300, public'",233],",",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'Cache-Control header was sent.'",233],")",";",["T_WHITESPACE","\n    ",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","assertEqual",234],"(",["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","drupalGetHeader",234],"(",["T_CONSTANT_ENCAPSED_STRING","'Expires'",234],")",",",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'Sun, 19 Nov 1978 05:00:00 GMT'",234],",",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'Expires header was sent.'",234],")",";",["T_WHITESPACE","\n    ",234],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","assertEqual",235],"(",["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","drupalGetHeader",235],"(",["T_CONSTANT_ENCAPSED_STRING","'Foo'",235],")",",",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'bar'",235],",",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'Custom header was sent.'",235],")",";",["T_WHITESPACE","\n\n    ",235],["T_COMMENT","\/\/ Check cache.\n",237],["T_WHITESPACE","    ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","drupalGet",238],"(",["T_CONSTANT_ENCAPSED_STRING","'system-test\/set-header'",238],",",["T_WHITESPACE"," ",238],["T_ARRAY","array",238],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",238],["T_WHITESPACE"," ",238],["T_DOUBLE_ARROW","=>",238],["T_WHITESPACE"," ",238],["T_ARRAY","array",238],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",238],["T_WHITESPACE"," ",238],["T_DOUBLE_ARROW","=>",238],["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","'Foo'",238],",",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","'value'",238],["T_WHITESPACE"," ",238],["T_DOUBLE_ARROW","=>",238],["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","'bar'",238],")",")",")",";",["T_WHITESPACE","\n    ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","assertEqual",239],"(",["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","drupalGetHeader",239],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",239],")",",",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'HIT'",239],",",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'Page was cached.'",239],")",";",["T_WHITESPACE","\n    ",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","assertEqual",240],"(",["T_STRING","strtolower",240],"(",["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","drupalGetHeader",240],"(",["T_CONSTANT_ENCAPSED_STRING","'Vary'",240],")",")",",",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'cookie,accept-encoding'",240],",",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'Vary: Cookie header was sent.'",240],")",";",["T_WHITESPACE","\n    ",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","assertEqual",241],"(",["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","drupalGetHeader",241],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",241],")",",",["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","'max-age=300, public'",241],",",["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","'Cache-Control header was sent.'",241],")",";",["T_WHITESPACE","\n    ",241],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","assertEqual",242],"(",["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","drupalGetHeader",242],"(",["T_CONSTANT_ENCAPSED_STRING","'Expires'",242],")",",",["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","'Sun, 19 Nov 1978 05:00:00 GMT'",242],",",["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","'Expires header was sent.'",242],")",";",["T_WHITESPACE","\n    ",242],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","assertEqual",243],"(",["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","drupalGetHeader",243],"(",["T_CONSTANT_ENCAPSED_STRING","'Foo'",243],")",",",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'bar'",243],",",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'Custom header was sent.'",243],")",";",["T_WHITESPACE","\n\n    ",243],["T_COMMENT","\/\/ Check replacing default headers.\n",245],["T_WHITESPACE","    ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","drupalGet",246],"(",["T_CONSTANT_ENCAPSED_STRING","'system-test\/set-header'",246],",",["T_WHITESPACE"," ",246],["T_ARRAY","array",246],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",246],["T_WHITESPACE"," ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],["T_ARRAY","array",246],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",246],["T_WHITESPACE"," ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'Expires'",246],",",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'value'",246],["T_WHITESPACE"," ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'Fri, 19 Nov 2008 05:00:00 GMT'",246],")",")",")",";",["T_WHITESPACE","\n    ",246],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","assertEqual",247],"(",["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","drupalGetHeader",247],"(",["T_CONSTANT_ENCAPSED_STRING","'Expires'",247],")",",",["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","'Fri, 19 Nov 2008 05:00:00 GMT'",247],",",["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","'Default header was replaced.'",247],")",";",["T_WHITESPACE","\n    ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","drupalGet",248],"(",["T_CONSTANT_ENCAPSED_STRING","'system-test\/set-header'",248],",",["T_WHITESPACE"," ",248],["T_ARRAY","array",248],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_ARRAY","array",248],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'Vary'",248],",",["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'value'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'User-Agent'",248],")",")",")",";",["T_WHITESPACE","\n    ",248],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","assertEqual",249],"(",["T_STRING","strtolower",249],"(",["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","drupalGetHeader",249],"(",["T_CONSTANT_ENCAPSED_STRING","'Vary'",249],")",")",",",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","'user-agent,accept-encoding'",249],",",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","'Default header was replaced.'",249],")",";",["T_WHITESPACE","\n\n    ",249],["T_COMMENT","\/\/ Check that authenticated users bypass the cache.\n",251],["T_WHITESPACE","    ",252],["T_VARIABLE","$user",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","drupalCreateUser",252],"(",")",";",["T_WHITESPACE","\n    ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","drupalLogin",253],"(",["T_VARIABLE","$user",253],")",";",["T_WHITESPACE","\n    ",253],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","drupalGet",254],"(",["T_CONSTANT_ENCAPSED_STRING","'system-test\/set-header'",254],",",["T_WHITESPACE"," ",254],["T_ARRAY","array",254],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",254],["T_WHITESPACE"," ",254],["T_DOUBLE_ARROW","=>",254],["T_WHITESPACE"," ",254],["T_ARRAY","array",254],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",254],["T_WHITESPACE"," ",254],["T_DOUBLE_ARROW","=>",254],["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'Foo'",254],",",["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'value'",254],["T_WHITESPACE"," ",254],["T_DOUBLE_ARROW","=>",254],["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'bar'",254],")",")",")",";",["T_WHITESPACE","\n    ",254],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","assertFalse",255],"(",["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","drupalGetHeader",255],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",255],")",",",["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","'Caching was bypassed.'",255],")",";",["T_WHITESPACE","\n    ",255],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","assertTrue",256],"(",["T_STRING","strpos",256],"(",["T_STRING","strtolower",256],"(",["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","drupalGetHeader",256],"(",["T_CONSTANT_ENCAPSED_STRING","'Vary'",256],")",")",",",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'cookie'",256],")",["T_WHITESPACE"," ",256],["T_IS_IDENTICAL","===",256],["T_WHITESPACE"," ",256],["T_STRING","FALSE",256],",",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'Vary: Cookie header was not sent.'",256],")",";",["T_WHITESPACE","\n    ",256],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","assertEqual",257],"(",["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","drupalGetHeader",257],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",257],")",",",["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'must-revalidate, no-cache, private'",257],",",["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'Cache-Control header was sent.'",257],")",";",["T_WHITESPACE","\n    ",257],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","assertEqual",258],"(",["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","drupalGetHeader",258],"(",["T_CONSTANT_ENCAPSED_STRING","'Expires'",258],")",",",["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","'Sun, 19 Nov 1978 05:00:00 GMT'",258],",",["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","'Expires header was sent.'",258],")",";",["T_WHITESPACE","\n    ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","assertEqual",259],"(",["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","drupalGetHeader",259],"(",["T_CONSTANT_ENCAPSED_STRING","'Foo'",259],")",",",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'bar'",259],",",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'Custom header was sent.'",259],")",";",["T_WHITESPACE","\n\n    ",259],["T_COMMENT","\/\/ Until bubbling of max-age up to the response is supported, verify that\n",261],["T_WHITESPACE","    ",262],["T_COMMENT","\/\/ a custom #cache max-age set on an element does not affect page max-age.\n",262],["T_WHITESPACE","    ",263],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","drupalLogout",263],"(",")",";",["T_WHITESPACE","\n    ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","drupalGet",264],"(",["T_CONSTANT_ENCAPSED_STRING","'system-test\/cache_maxage_page'",264],")",";",["T_WHITESPACE","\n    ",264],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","assertEqual",265],"(",["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","drupalGetHeader",265],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",265],")",",",["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","'max-age=300, public'",265],")",";",["T_WHITESPACE","\n  ",265],"}",["T_WHITESPACE","\n\n  ",266],["T_DOC_COMMENT","\/**\n   * Tests the automatic presence of the anonymous role's cache tag.\n   *\n   * The 'user.permissions' cache context ensures that if the permissions for a\n   * role are modified, users are not served stale render cache content. But,\n   * when entire responses are cached in reverse proxies, the value for the\n   * cache context is never calculated, causing the stale response to not be\n   * invalidated. Therefore, when varying by permissions and the current user is\n   * the anonymous user, the cache tag for the 'anonymous' role must be added.\n   *\n   * This test verifies that, and it verifies that it does not happen for other\n   * roles.\n   *\/",268],["T_WHITESPACE","\n  ",280],["T_PUBLIC","public",281],["T_WHITESPACE"," ",281],["T_FUNCTION","function",281],["T_WHITESPACE"," ",281],["T_STRING","testPageCacheAnonymousRolePermissions",281],"(",")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n    ",281],["T_VARIABLE","$config",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","config",282],"(",["T_CONSTANT_ENCAPSED_STRING","'system.performance'",282],")",";",["T_WHITESPACE","\n    ",282],["T_VARIABLE","$config",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","set",283],"(",["T_CONSTANT_ENCAPSED_STRING","'cache.page.max_age'",283],",",["T_WHITESPACE"," ",283],["T_LNUMBER","300",283],")",";",["T_WHITESPACE","\n    ",283],["T_VARIABLE","$config",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","save",284],"(",")",";",["T_WHITESPACE","\n\n    ",284],["T_VARIABLE","$content_url",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_STRING","Url",286],["T_DOUBLE_COLON","::",286],["T_STRING","fromRoute",286],"(",["T_CONSTANT_ENCAPSED_STRING","'system_test.permission_dependent_content'",286],")",";",["T_WHITESPACE","\n    ",286],["T_VARIABLE","$route_access_url",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_STRING","Url",287],["T_DOUBLE_COLON","::",287],["T_STRING","fromRoute",287],"(",["T_CONSTANT_ENCAPSED_STRING","'system_test.permission_dependent_route_access'",287],")",";",["T_WHITESPACE","\n\n    ",287],["T_COMMENT","\/\/ 1. anonymous user, without permission.\n",289],["T_WHITESPACE","    ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","drupalGet",290],"(",["T_VARIABLE","$content_url",290],")",";",["T_WHITESPACE","\n    ",290],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","assertText",291],"(",["T_CONSTANT_ENCAPSED_STRING","'Permission to pet llamas: no!'",291],")",";",["T_WHITESPACE","\n    ",291],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","assertCacheContext",292],"(",["T_CONSTANT_ENCAPSED_STRING","'user.permissions'",292],")",";",["T_WHITESPACE","\n    ",292],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","assertCacheTag",293],"(",["T_CONSTANT_ENCAPSED_STRING","'config:user.role.anonymous'",293],")",";",["T_WHITESPACE","\n    ",293],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","drupalGet",294],"(",["T_VARIABLE","$route_access_url",294],")",";",["T_WHITESPACE","\n    ",294],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","assertCacheContext",295],"(",["T_CONSTANT_ENCAPSED_STRING","'user.permissions'",295],")",";",["T_WHITESPACE","\n    ",295],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","assertCacheTag",296],"(",["T_CONSTANT_ENCAPSED_STRING","'config:user.role.anonymous'",296],")",";",["T_WHITESPACE","\n\n    ",296],["T_COMMENT","\/\/ 2. anonymous user, with permission.\n",298],["T_WHITESPACE","    ",299],["T_STRING","user_role_grant_permissions",299],"(",["T_STRING","RoleInterface",299],["T_DOUBLE_COLON","::",299],["T_STRING","ANONYMOUS_ID",299],",",["T_WHITESPACE"," ",299],"[",["T_CONSTANT_ENCAPSED_STRING","'pet llamas'",299],"]",")",";",["T_WHITESPACE","\n    ",299],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","drupalGet",300],"(",["T_VARIABLE","$content_url",300],")",";",["T_WHITESPACE","\n    ",300],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","assertText",301],"(",["T_CONSTANT_ENCAPSED_STRING","'Permission to pet llamas: yes!'",301],")",";",["T_WHITESPACE","\n    ",301],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","assertCacheContext",302],"(",["T_CONSTANT_ENCAPSED_STRING","'user.permissions'",302],")",";",["T_WHITESPACE","\n    ",302],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","assertCacheTag",303],"(",["T_CONSTANT_ENCAPSED_STRING","'config:user.role.anonymous'",303],")",";",["T_WHITESPACE","\n    ",303],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","drupalGet",304],"(",["T_VARIABLE","$route_access_url",304],")",";",["T_WHITESPACE","\n    ",304],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","assertCacheContext",305],"(",["T_CONSTANT_ENCAPSED_STRING","'user.permissions'",305],")",";",["T_WHITESPACE","\n    ",305],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","assertCacheTag",306],"(",["T_CONSTANT_ENCAPSED_STRING","'config:user.role.anonymous'",306],")",";",["T_WHITESPACE","\n\n    ",306],["T_COMMENT","\/\/ 3. authenticated user, without permission.\n",308],["T_WHITESPACE","    ",309],["T_VARIABLE","$auth_user",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","drupalCreateUser",309],"(",")",";",["T_WHITESPACE","\n    ",309],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","drupalLogin",310],"(",["T_VARIABLE","$auth_user",310],")",";",["T_WHITESPACE","\n    ",310],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","drupalGet",311],"(",["T_VARIABLE","$content_url",311],")",";",["T_WHITESPACE","\n    ",311],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","assertText",312],"(",["T_CONSTANT_ENCAPSED_STRING","'Permission to pet llamas: no!'",312],")",";",["T_WHITESPACE","\n    ",312],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","assertCacheContext",313],"(",["T_CONSTANT_ENCAPSED_STRING","'user.permissions'",313],")",";",["T_WHITESPACE","\n    ",313],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","assertNoCacheTag",314],"(",["T_CONSTANT_ENCAPSED_STRING","'config:user.role.authenticated'",314],")",";",["T_WHITESPACE","\n    ",314],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","drupalGet",315],"(",["T_VARIABLE","$route_access_url",315],")",";",["T_WHITESPACE","\n    ",315],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","assertCacheContext",316],"(",["T_CONSTANT_ENCAPSED_STRING","'user.permissions'",316],")",";",["T_WHITESPACE","\n    ",316],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","assertNoCacheTag",317],"(",["T_CONSTANT_ENCAPSED_STRING","'config:user.role.authenticated'",317],")",";",["T_WHITESPACE","\n\n    ",317],["T_COMMENT","\/\/ 4. authenticated user, with permission.\n",319],["T_WHITESPACE","    ",320],["T_STRING","user_role_grant_permissions",320],"(",["T_STRING","RoleInterface",320],["T_DOUBLE_COLON","::",320],["T_STRING","AUTHENTICATED_ID",320],",",["T_WHITESPACE"," ",320],"[",["T_CONSTANT_ENCAPSED_STRING","'pet llamas'",320],"]",")",";",["T_WHITESPACE","\n    ",320],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","drupalGet",321],"(",["T_VARIABLE","$content_url",321],")",";",["T_WHITESPACE","\n    ",321],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","assertText",322],"(",["T_CONSTANT_ENCAPSED_STRING","'Permission to pet llamas: yes!'",322],")",";",["T_WHITESPACE","\n    ",322],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","assertCacheContext",323],"(",["T_CONSTANT_ENCAPSED_STRING","'user.permissions'",323],")",";",["T_WHITESPACE","\n    ",323],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","assertNoCacheTag",324],"(",["T_CONSTANT_ENCAPSED_STRING","'config:user.role.authenticated'",324],")",";",["T_WHITESPACE","\n    ",324],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","drupalGet",325],"(",["T_VARIABLE","$route_access_url",325],")",";",["T_WHITESPACE","\n    ",325],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","assertCacheContext",326],"(",["T_CONSTANT_ENCAPSED_STRING","'user.permissions'",326],")",";",["T_WHITESPACE","\n    ",326],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","assertNoCacheTag",327],"(",["T_CONSTANT_ENCAPSED_STRING","'config:user.role.authenticated'",327],")",";",["T_WHITESPACE","\n  ",327],"}",["T_WHITESPACE","\n\n  ",328],["T_DOC_COMMENT","\/**\n   * Tests the 4xx-response cache tag is added and invalidated.\n   *\/",330],["T_WHITESPACE","\n  ",332],["T_FUNCTION","function",333],["T_WHITESPACE"," ",333],["T_STRING","testPageCacheAnonymous403404",333],"(",")",["T_WHITESPACE"," ",333],"{",["T_WHITESPACE","\n    ",333],["T_VARIABLE","$admin_url",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_STRING","Url",334],["T_DOUBLE_COLON","::",334],["T_STRING","fromRoute",334],"(",["T_CONSTANT_ENCAPSED_STRING","'system.admin'",334],")",";",["T_WHITESPACE","\n    ",334],["T_VARIABLE","$invalid_url",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'foo\/does_not_exist'",335],";",["T_WHITESPACE","\n    ",335],["T_VARIABLE","$tests",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],"[",["T_WHITESPACE","\n      ",336],["T_LNUMBER","403",337],["T_WHITESPACE"," ",337],["T_DOUBLE_ARROW","=>",337],["T_WHITESPACE"," ",337],["T_VARIABLE","$admin_url",337],",",["T_WHITESPACE","\n      ",337],["T_LNUMBER","404",338],["T_WHITESPACE"," ",338],["T_DOUBLE_ARROW","=>",338],["T_WHITESPACE"," ",338],["T_VARIABLE","$invalid_url",338],",",["T_WHITESPACE","\n    ",338],"]",";",["T_WHITESPACE","\n    ",339],["T_VARIABLE","$cache_ttl_4xx",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_STRING","Settings",340],["T_DOUBLE_COLON","::",340],["T_STRING","get",340],"(",["T_CONSTANT_ENCAPSED_STRING","'cache_ttl_4xx'",340],",",["T_WHITESPACE"," ",340],["T_LNUMBER","3600",340],")",";",["T_WHITESPACE","\n    ",340],["T_FOREACH","foreach",341],["T_WHITESPACE"," ",341],"(",["T_VARIABLE","$tests",341],["T_WHITESPACE"," ",341],["T_AS","as",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$code",341],["T_WHITESPACE"," ",341],["T_DOUBLE_ARROW","=>",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$content_url",341],")",["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\n      ",341],["T_COMMENT","\/\/ Anonymous user, without permissions.\n",342],["T_WHITESPACE","      ",343],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","drupalGet",343],"(",["T_VARIABLE","$content_url",343],")",";",["T_WHITESPACE","\n      ",343],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","assertResponse",344],"(",["T_VARIABLE","$code",344],")",";",["T_WHITESPACE","\n      ",344],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","assertEqual",345],"(",["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","drupalGetHeader",345],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",345],")",",",["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","'MISS'",345],")",";",["T_WHITESPACE","\n      ",345],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","assertCacheTag",346],"(",["T_CONSTANT_ENCAPSED_STRING","'4xx-response'",346],")",";",["T_WHITESPACE","\n      ",346],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","drupalGet",347],"(",["T_VARIABLE","$content_url",347],")",";",["T_WHITESPACE","\n      ",347],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","assertResponse",348],"(",["T_VARIABLE","$code",348],")",";",["T_WHITESPACE","\n      ",348],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","assertEqual",349],"(",["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","drupalGetHeader",349],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",349],")",",",["T_WHITESPACE"," ",349],["T_CONSTANT_ENCAPSED_STRING","'HIT'",349],")",";",["T_WHITESPACE","\n      ",349],["T_VARIABLE","$entity_values",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_ARRAY","array",350],"(",["T_WHITESPACE","\n        ",350],["T_CONSTANT_ENCAPSED_STRING","'name'",351],["T_WHITESPACE"," ",351],["T_DOUBLE_ARROW","=>",351],["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","randomMachineName",351],"(",")",",",["T_WHITESPACE","\n        ",351],["T_CONSTANT_ENCAPSED_STRING","'user_id'",352],["T_WHITESPACE"," ",352],["T_DOUBLE_ARROW","=>",352],["T_WHITESPACE"," ",352],["T_LNUMBER","1",352],",",["T_WHITESPACE","\n        ",352],["T_CONSTANT_ENCAPSED_STRING","'field_test_text'",353],["T_WHITESPACE"," ",353],["T_DOUBLE_ARROW","=>",353],["T_WHITESPACE"," ",353],["T_ARRAY","array",353],"(",["T_WHITESPACE","\n          ",353],["T_LNUMBER","0",354],["T_WHITESPACE"," ",354],["T_DOUBLE_ARROW","=>",354],["T_WHITESPACE"," ",354],["T_ARRAY","array",354],"(",["T_WHITESPACE","\n            ",354],["T_CONSTANT_ENCAPSED_STRING","'value'",355],["T_WHITESPACE"," ",355],["T_DOUBLE_ARROW","=>",355],["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","randomString",355],"(",")",",",["T_WHITESPACE","\n            ",355],["T_CONSTANT_ENCAPSED_STRING","'format'",356],["T_WHITESPACE"," ",356],["T_DOUBLE_ARROW","=>",356],["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'plain_text'",356],",",["T_WHITESPACE","\n          ",356],")",["T_WHITESPACE","\n        ",357],")",",",["T_WHITESPACE","\n      ",358],")",";",["T_WHITESPACE","\n      ",359],["T_VARIABLE","$entity",360],["T_WHITESPACE"," ",360],"=",["T_WHITESPACE"," ",360],["T_STRING","EntityTest",360],["T_DOUBLE_COLON","::",360],["T_STRING","create",360],"(",["T_VARIABLE","$entity_values",360],")",";",["T_WHITESPACE","\n      ",360],["T_VARIABLE","$entity",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","save",361],"(",")",";",["T_WHITESPACE","\n      ",361],["T_COMMENT","\/\/ Saving an entity clears 4xx cache tag.\n",362],["T_WHITESPACE","      ",363],["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","drupalGet",363],"(",["T_VARIABLE","$content_url",363],")",";",["T_WHITESPACE","\n      ",363],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","assertResponse",364],"(",["T_VARIABLE","$code",364],")",";",["T_WHITESPACE","\n      ",364],["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","assertEqual",365],"(",["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","drupalGetHeader",365],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",365],")",",",["T_WHITESPACE"," ",365],["T_CONSTANT_ENCAPSED_STRING","'MISS'",365],")",";",["T_WHITESPACE","\n      ",365],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","drupalGet",366],"(",["T_VARIABLE","$content_url",366],")",";",["T_WHITESPACE","\n      ",366],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","assertResponse",367],"(",["T_VARIABLE","$code",367],")",";",["T_WHITESPACE","\n      ",367],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","assertEqual",368],"(",["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","drupalGetHeader",368],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",368],")",",",["T_WHITESPACE"," ",368],["T_CONSTANT_ENCAPSED_STRING","'HIT'",368],")",";",["T_WHITESPACE","\n      ",368],["T_COMMENT","\/\/ Rebuilding the router should invalidate the 4xx cache tag.\n",369],["T_WHITESPACE","      ",370],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","container",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","get",370],"(",["T_CONSTANT_ENCAPSED_STRING","'router.builder'",370],")",["T_OBJECT_OPERATOR","->",370],["T_STRING","rebuild",370],"(",")",";",["T_WHITESPACE","\n      ",370],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","drupalGet",371],"(",["T_VARIABLE","$content_url",371],")",";",["T_WHITESPACE","\n      ",371],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","assertResponse",372],"(",["T_VARIABLE","$code",372],")",";",["T_WHITESPACE","\n      ",372],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","assertEqual",373],"(",["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","drupalGetHeader",373],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",373],")",",",["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","'MISS'",373],")",";",["T_WHITESPACE","\n\n      ",373],["T_COMMENT","\/\/ Ensure the 'expire' field on the cache entry uses cache_ttl_4xx.\n",375],["T_WHITESPACE","      ",376],["T_VARIABLE","$cache_item",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],["T_NS_SEPARATOR","\\",376],["T_STRING","Drupal",376],["T_DOUBLE_COLON","::",376],["T_STRING","service",376],"(",["T_CONSTANT_ENCAPSED_STRING","'cache.render'",376],")",["T_OBJECT_OPERATOR","->",376],["T_STRING","get",376],"(",["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","getUrl",376],"(",")",["T_WHITESPACE"," ",376],".",["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","':html'",376],")",";",["T_WHITESPACE","\n      ",376],["T_VARIABLE","$difference",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_VARIABLE","$cache_item",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","expire",377],["T_WHITESPACE"," ",377],"-",["T_WHITESPACE"," ",377],["T_INT_CAST","(int)",377],["T_WHITESPACE"," ",377],["T_VARIABLE","$cache_item",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","created",377],";",["T_WHITESPACE","\n      ",377],["T_COMMENT","\/\/ Given that a second might have passed we cannot be sure that\n",378],["T_WHITESPACE","      ",379],["T_COMMENT","\/\/ $difference will exactly equal the default cache_ttl_4xx setting.\n",379],["T_WHITESPACE","      ",380],["T_COMMENT","\/\/ Account for any timing difference or rounding errors by ensuring the\n",380],["T_WHITESPACE","      ",381],["T_COMMENT","\/\/ value is within 5 seconds.\n",381],["T_WHITESPACE","      ",382],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","assertTrue",382],"(",["T_WHITESPACE","\n        ",382],["T_VARIABLE","$difference",383],["T_WHITESPACE"," ",383],">",["T_WHITESPACE"," ",383],["T_VARIABLE","$cache_ttl_4xx",383],["T_WHITESPACE"," ",383],"-",["T_WHITESPACE"," ",383],["T_LNUMBER","5",383],["T_WHITESPACE"," ",383],["T_BOOLEAN_AND","&&",383],["T_WHITESPACE","\n        ",383],["T_VARIABLE","$difference",384],["T_WHITESPACE"," ",384],"<",["T_WHITESPACE"," ",384],["T_VARIABLE","$cache_ttl_4xx",384],["T_WHITESPACE"," ",384],"+",["T_WHITESPACE"," ",384],["T_LNUMBER","5",384],",",["T_WHITESPACE","\n        ",384],["T_CONSTANT_ENCAPSED_STRING","'The cache entry expiry time uses the cache_ttl_4xx setting.'",385],["T_WHITESPACE","\n      ",385],")",";",["T_WHITESPACE","\n    ",386],"}",["T_WHITESPACE","\n\n    ",387],["T_COMMENT","\/\/ Disable 403 and 404 caching.\n",389],["T_WHITESPACE","    ",390],["T_VARIABLE","$settings",390],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",390],"]","[",["T_CONSTANT_ENCAPSED_STRING","'cache_ttl_4xx'",390],"]",["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_OBJECT_CAST","(object)",390],["T_WHITESPACE"," ",390],["T_ARRAY","array",390],"(",["T_WHITESPACE","\n      ",390],["T_CONSTANT_ENCAPSED_STRING","'value'",391],["T_WHITESPACE"," ",391],["T_DOUBLE_ARROW","=>",391],["T_WHITESPACE"," ",391],["T_LNUMBER","0",391],",",["T_WHITESPACE","\n      ",391],["T_CONSTANT_ENCAPSED_STRING","'required'",392],["T_WHITESPACE"," ",392],["T_DOUBLE_ARROW","=>",392],["T_WHITESPACE"," ",392],["T_STRING","TRUE",392],",",["T_WHITESPACE","\n    ",392],")",";",["T_WHITESPACE","\n    ",393],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","writeSettings",394],"(",["T_VARIABLE","$settings",394],")",";",["T_WHITESPACE","\n    ",394],["T_NS_SEPARATOR","\\",395],["T_STRING","Drupal",395],["T_DOUBLE_COLON","::",395],["T_STRING","service",395],"(",["T_CONSTANT_ENCAPSED_STRING","'cache.render'",395],")",["T_OBJECT_OPERATOR","->",395],["T_STRING","deleteAll",395],"(",")",";",["T_WHITESPACE","\n\n    ",395],["T_FOREACH","foreach",397],["T_WHITESPACE"," ",397],"(",["T_VARIABLE","$tests",397],["T_WHITESPACE"," ",397],["T_AS","as",397],["T_WHITESPACE"," ",397],["T_VARIABLE","$code",397],["T_WHITESPACE"," ",397],["T_DOUBLE_ARROW","=>",397],["T_WHITESPACE"," ",397],["T_VARIABLE","$content_url",397],")",["T_WHITESPACE"," ",397],"{",["T_WHITESPACE","\n      ",397],["T_COMMENT","\/\/ Getting the 404 page twice should still result in a cache miss.\n",398],["T_WHITESPACE","      ",399],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","drupalGet",399],"(",["T_VARIABLE","$content_url",399],")",";",["T_WHITESPACE","\n      ",399],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","drupalGet",400],"(",["T_VARIABLE","$content_url",400],")",";",["T_WHITESPACE","\n      ",400],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","assertResponse",401],"(",["T_VARIABLE","$code",401],")",";",["T_WHITESPACE","\n      ",401],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","assertEqual",402],"(",["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","drupalGetHeader",402],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",402],")",",",["T_WHITESPACE"," ",402],["T_CONSTANT_ENCAPSED_STRING","'MISS'",402],")",";",["T_WHITESPACE","\n    ",402],"}",["T_WHITESPACE","\n  ",403],"}",["T_WHITESPACE","\n\n  ",404],["T_DOC_COMMENT","\/**\n   * Tests the omit_vary_cookie setting.\n   *\/",406],["T_WHITESPACE","\n  ",408],["T_PUBLIC","public",409],["T_WHITESPACE"," ",409],["T_FUNCTION","function",409],["T_WHITESPACE"," ",409],["T_STRING","testPageCacheWithoutVaryCookie",409],"(",")",["T_WHITESPACE"," ",409],"{",["T_WHITESPACE","\n    ",409],["T_VARIABLE","$config",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","config",410],"(",["T_CONSTANT_ENCAPSED_STRING","'system.performance'",410],")",";",["T_WHITESPACE","\n    ",410],["T_VARIABLE","$config",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","set",411],"(",["T_CONSTANT_ENCAPSED_STRING","'cache.page.max_age'",411],",",["T_WHITESPACE"," ",411],["T_LNUMBER","300",411],")",";",["T_WHITESPACE","\n    ",411],["T_VARIABLE","$config",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","save",412],"(",")",";",["T_WHITESPACE","\n\n    ",412],["T_VARIABLE","$settings",414],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",414],"]","[",["T_CONSTANT_ENCAPSED_STRING","'omit_vary_cookie'",414],"]",["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_OBJECT_CAST","(object)",414],["T_WHITESPACE"," ",414],["T_ARRAY","array",414],"(",["T_WHITESPACE","\n      ",414],["T_CONSTANT_ENCAPSED_STRING","'value'",415],["T_WHITESPACE"," ",415],["T_DOUBLE_ARROW","=>",415],["T_WHITESPACE"," ",415],["T_STRING","TRUE",415],",",["T_WHITESPACE","\n      ",415],["T_CONSTANT_ENCAPSED_STRING","'required'",416],["T_WHITESPACE"," ",416],["T_DOUBLE_ARROW","=>",416],["T_WHITESPACE"," ",416],["T_STRING","TRUE",416],",",["T_WHITESPACE","\n    ",416],")",";",["T_WHITESPACE","\n    ",417],["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","writeSettings",418],"(",["T_VARIABLE","$settings",418],")",";",["T_WHITESPACE","\n\n    ",418],["T_COMMENT","\/\/ Fill the cache.\n",420],["T_WHITESPACE","    ",421],["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","drupalGet",421],"(",["T_CONSTANT_ENCAPSED_STRING","''",421],")",";",["T_WHITESPACE","\n    ",421],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","assertEqual",422],"(",["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","drupalGetHeader",422],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",422],")",",",["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","'MISS'",422],",",["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","'Page was not cached.'",422],")",";",["T_WHITESPACE","\n    ",422],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","assertTrue",423],"(",["T_STRING","strpos",423],"(",["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","drupalGetHeader",423],"(",["T_CONSTANT_ENCAPSED_STRING","'Vary'",423],")",",",["T_WHITESPACE"," ",423],["T_CONSTANT_ENCAPSED_STRING","'Cookie'",423],")",["T_WHITESPACE"," ",423],["T_IS_IDENTICAL","===",423],["T_WHITESPACE"," ",423],["T_STRING","FALSE",423],",",["T_WHITESPACE"," ",423],["T_CONSTANT_ENCAPSED_STRING","'Vary: Cookie header was not sent.'",423],")",";",["T_WHITESPACE","\n    ",423],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","assertEqual",424],"(",["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","drupalGetHeader",424],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",424],")",",",["T_WHITESPACE"," ",424],["T_CONSTANT_ENCAPSED_STRING","'max-age=300, public'",424],",",["T_WHITESPACE"," ",424],["T_CONSTANT_ENCAPSED_STRING","'Cache-Control header was sent.'",424],")",";",["T_WHITESPACE","\n\n    ",424],["T_COMMENT","\/\/ Check cache.\n",426],["T_WHITESPACE","    ",427],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","drupalGet",427],"(",["T_CONSTANT_ENCAPSED_STRING","''",427],")",";",["T_WHITESPACE","\n    ",427],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","assertEqual",428],"(",["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","drupalGetHeader",428],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",428],")",",",["T_WHITESPACE"," ",428],["T_CONSTANT_ENCAPSED_STRING","'HIT'",428],",",["T_WHITESPACE"," ",428],["T_CONSTANT_ENCAPSED_STRING","'Page was cached.'",428],")",";",["T_WHITESPACE","\n    ",428],["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","assertTrue",429],"(",["T_STRING","strpos",429],"(",["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","drupalGetHeader",429],"(",["T_CONSTANT_ENCAPSED_STRING","'Vary'",429],")",",",["T_WHITESPACE"," ",429],["T_CONSTANT_ENCAPSED_STRING","'Cookie'",429],")",["T_WHITESPACE"," ",429],["T_IS_IDENTICAL","===",429],["T_WHITESPACE"," ",429],["T_STRING","FALSE",429],",",["T_WHITESPACE"," ",429],["T_CONSTANT_ENCAPSED_STRING","'Vary: Cookie header was not sent.'",429],")",";",["T_WHITESPACE","\n    ",429],["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","assertEqual",430],"(",["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","drupalGetHeader",430],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",430],")",",",["T_WHITESPACE"," ",430],["T_CONSTANT_ENCAPSED_STRING","'max-age=300, public'",430],",",["T_WHITESPACE"," ",430],["T_CONSTANT_ENCAPSED_STRING","'Cache-Control header was sent.'",430],")",";",["T_WHITESPACE","\n  ",430],"}",["T_WHITESPACE","\n\n  ",431],["T_DOC_COMMENT","\/**\n   * Test the setting of forms to be immutable.\n   *\/",433],["T_WHITESPACE","\n  ",435],["T_PUBLIC","public",436],["T_WHITESPACE"," ",436],["T_FUNCTION","function",436],["T_WHITESPACE"," ",436],["T_STRING","testFormImmutability",436],"(",")",["T_WHITESPACE"," ",436],"{",["T_WHITESPACE","\n    ",436],["T_COMMENT","\/\/ Install the module that provides the test form.\n",437],["T_WHITESPACE","    ",438],["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","container",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","get",438],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",438],")",["T_WHITESPACE","\n      ",438],["T_OBJECT_OPERATOR","->",439],["T_STRING","install",439],"(","[",["T_CONSTANT_ENCAPSED_STRING","'page_cache_form_test'",439],"]",")",";",["T_WHITESPACE","\n    ",439],["T_COMMENT","\/\/ Uninstall the page_cache module to verify that form is immutable\n",440],["T_WHITESPACE","    ",441],["T_COMMENT","\/\/ regardless of the internal page cache module.\n",441],["T_WHITESPACE","    ",442],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","container",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","get",442],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",442],")",["T_OBJECT_OPERATOR","->",442],["T_STRING","uninstall",442],"(","[",["T_CONSTANT_ENCAPSED_STRING","'page_cache'",442],"]",")",";",["T_WHITESPACE","\n    ",442],["T_NS_SEPARATOR","\\",443],["T_STRING","Drupal",443],["T_DOUBLE_COLON","::",443],["T_STRING","service",443],"(",["T_CONSTANT_ENCAPSED_STRING","'router.builder'",443],")",["T_OBJECT_OPERATOR","->",443],["T_STRING","rebuild",443],"(",")",";",["T_WHITESPACE","\n\n    ",443],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","drupalGet",445],"(",["T_CONSTANT_ENCAPSED_STRING","'page_cache_form_test_immutability'",445],")",";",["T_WHITESPACE","\n\n    ",445],["T_VARIABLE","$this",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","assertText",447],"(",["T_CONSTANT_ENCAPSED_STRING","\"Immutable: TRUE\"",447],",",["T_WHITESPACE"," ",447],["T_CONSTANT_ENCAPSED_STRING","\"Form is immutable.\"",447],")",";",["T_WHITESPACE","\n\n    ",447],["T_COMMENT","\/\/ The immutable flag is set unconditionally by system_form_alter(), set\n",449],["T_WHITESPACE","    ",450],["T_COMMENT","\/\/ a flag to tell page_cache_form_test_module_implements_alter() to disable\n",450],["T_WHITESPACE","    ",451],["T_COMMENT","\/\/ that implementation.\n",451],["T_WHITESPACE","    ",452],["T_NS_SEPARATOR","\\",452],["T_STRING","Drupal",452],["T_DOUBLE_COLON","::",452],["T_STRING","state",452],"(",")",["T_OBJECT_OPERATOR","->",452],["T_STRING","set",452],"(",["T_CONSTANT_ENCAPSED_STRING","'page_cache_bypass_form_immutability'",452],",",["T_WHITESPACE"," ",452],["T_STRING","TRUE",452],")",";",["T_WHITESPACE","\n    ",452],["T_NS_SEPARATOR","\\",453],["T_STRING","Drupal",453],["T_DOUBLE_COLON","::",453],["T_STRING","moduleHandler",453],"(",")",["T_OBJECT_OPERATOR","->",453],["T_STRING","resetImplementations",453],"(",")",";",["T_WHITESPACE","\n    ",453],["T_STRING","Cache",454],["T_DOUBLE_COLON","::",454],["T_STRING","invalidateTags",454],"(","[",["T_CONSTANT_ENCAPSED_STRING","'rendered'",454],"]",")",";",["T_WHITESPACE","\n\n    ",454],["T_VARIABLE","$this",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","drupalGet",456],"(",["T_CONSTANT_ENCAPSED_STRING","'page_cache_form_test_immutability'",456],")",";",["T_WHITESPACE","\n\n    ",456],["T_VARIABLE","$this",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","assertText",458],"(",["T_CONSTANT_ENCAPSED_STRING","\"Immutable: FALSE\"",458],",",["T_WHITESPACE"," ",458],["T_CONSTANT_ENCAPSED_STRING","\"Form is not immutable,\"",458],")",";",["T_WHITESPACE","\n  ",458],"}",["T_WHITESPACE","\n\n  ",459],["T_DOC_COMMENT","\/**\n   * Tests cacheability of a CacheableResponse.\n   *\n   * Tests the difference between having a controller return a plain Symfony\n   * Response object versus returning a Response object that implements the\n   * CacheableResponseInterface.\n   *\/",461],["T_WHITESPACE","\n  ",467],["T_PUBLIC","public",468],["T_WHITESPACE"," ",468],["T_FUNCTION","function",468],["T_WHITESPACE"," ",468],["T_STRING","testCacheableResponseResponses",468],"(",")",["T_WHITESPACE"," ",468],"{",["T_WHITESPACE","\n    ",468],["T_VARIABLE","$config",469],["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","config",469],"(",["T_CONSTANT_ENCAPSED_STRING","'system.performance'",469],")",";",["T_WHITESPACE","\n    ",469],["T_VARIABLE","$config",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","set",470],"(",["T_CONSTANT_ENCAPSED_STRING","'cache.page.max_age'",470],",",["T_WHITESPACE"," ",470],["T_LNUMBER","300",470],")",";",["T_WHITESPACE","\n    ",470],["T_VARIABLE","$config",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","save",471],"(",")",";",["T_WHITESPACE","\n\n    ",471],["T_COMMENT","\/\/ GET a URL, which would be marked as a cache miss if it were cacheable.\n",473],["T_WHITESPACE","    ",474],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","drupalGet",474],"(",["T_CONSTANT_ENCAPSED_STRING","'\/system-test\/respond-reponse'",474],")",";",["T_WHITESPACE","\n    ",474],["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","assertFalse",475],"(",["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","drupalGetHeader",475],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",475],")",",",["T_WHITESPACE"," ",475],["T_CONSTANT_ENCAPSED_STRING","'Drupal page cache header not found.'",475],")",";",["T_WHITESPACE","\n    ",475],["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","assertEqual",476],"(",["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","drupalGetHeader",476],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",476],")",",",["T_WHITESPACE"," ",476],["T_CONSTANT_ENCAPSED_STRING","'must-revalidate, no-cache, private'",476],",",["T_WHITESPACE"," ",476],["T_CONSTANT_ENCAPSED_STRING","'Cache-Control header was sent'",476],")",";",["T_WHITESPACE","\n\n    ",476],["T_COMMENT","\/\/ GET it again, verify it's still not cached.\n",478],["T_WHITESPACE","    ",479],["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","drupalGet",479],"(",["T_CONSTANT_ENCAPSED_STRING","'\/system-test\/respond-reponse'",479],")",";",["T_WHITESPACE","\n    ",479],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","assertFalse",480],"(",["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","drupalGetHeader",480],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",480],")",",",["T_WHITESPACE"," ",480],["T_CONSTANT_ENCAPSED_STRING","'Drupal page cache header not found.'",480],")",";",["T_WHITESPACE","\n    ",480],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","assertEqual",481],"(",["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","drupalGetHeader",481],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",481],")",",",["T_WHITESPACE"," ",481],["T_CONSTANT_ENCAPSED_STRING","'must-revalidate, no-cache, private'",481],",",["T_WHITESPACE"," ",481],["T_CONSTANT_ENCAPSED_STRING","'Cache-Control header was sent'",481],")",";",["T_WHITESPACE","\n\n    ",481],["T_COMMENT","\/\/ GET a URL, which would be marked as a cache miss if it were cacheable.\n",483],["T_WHITESPACE","    ",484],["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","drupalGet",484],"(",["T_CONSTANT_ENCAPSED_STRING","'\/system-test\/respond-public-response'",484],")",";",["T_WHITESPACE","\n    ",484],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","assertFalse",485],"(",["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","drupalGetHeader",485],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",485],")",",",["T_WHITESPACE"," ",485],["T_CONSTANT_ENCAPSED_STRING","'Drupal page cache header not found.'",485],")",";",["T_WHITESPACE","\n    ",485],["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","assertEqual",486],"(",["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","drupalGetHeader",486],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",486],")",",",["T_WHITESPACE"," ",486],["T_CONSTANT_ENCAPSED_STRING","'max-age=60, public'",486],",",["T_WHITESPACE"," ",486],["T_CONSTANT_ENCAPSED_STRING","'Cache-Control header was sent'",486],")",";",["T_WHITESPACE","\n\n    ",486],["T_COMMENT","\/\/ GET it again, verify it's still not cached.\n",488],["T_WHITESPACE","    ",489],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","drupalGet",489],"(",["T_CONSTANT_ENCAPSED_STRING","'\/system-test\/respond-public-response'",489],")",";",["T_WHITESPACE","\n    ",489],["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","assertFalse",490],"(",["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","drupalGetHeader",490],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",490],")",",",["T_WHITESPACE"," ",490],["T_CONSTANT_ENCAPSED_STRING","'Drupal page cache header not found.'",490],")",";",["T_WHITESPACE","\n    ",490],["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","assertEqual",491],"(",["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","drupalGetHeader",491],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",491],")",",",["T_WHITESPACE"," ",491],["T_CONSTANT_ENCAPSED_STRING","'max-age=60, public'",491],",",["T_WHITESPACE"," ",491],["T_CONSTANT_ENCAPSED_STRING","'Cache-Control header was sent'",491],")",";",["T_WHITESPACE","\n\n    ",491],["T_COMMENT","\/\/ GET a URL, which should be marked as a cache miss.\n",493],["T_WHITESPACE","    ",494],["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","drupalGet",494],"(",["T_CONSTANT_ENCAPSED_STRING","'\/system-test\/respond-cacheable-reponse'",494],")",";",["T_WHITESPACE","\n    ",494],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","assertEqual",495],"(",["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","drupalGetHeader",495],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",495],")",",",["T_WHITESPACE"," ",495],["T_CONSTANT_ENCAPSED_STRING","'MISS'",495],",",["T_WHITESPACE"," ",495],["T_CONSTANT_ENCAPSED_STRING","'Page was not cached.'",495],")",";",["T_WHITESPACE","\n    ",495],["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","assertEqual",496],"(",["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","drupalGetHeader",496],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",496],")",",",["T_WHITESPACE"," ",496],["T_CONSTANT_ENCAPSED_STRING","'max-age=300, public'",496],",",["T_WHITESPACE"," ",496],["T_CONSTANT_ENCAPSED_STRING","'Cache-Control header was sent.'",496],")",";",["T_WHITESPACE","\n\n    ",496],["T_COMMENT","\/\/ GET it again, it should now be a cache hit.\n",498],["T_WHITESPACE","    ",499],["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","drupalGet",499],"(",["T_CONSTANT_ENCAPSED_STRING","'\/system-test\/respond-cacheable-reponse'",499],")",";",["T_WHITESPACE","\n    ",499],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","assertEqual",500],"(",["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","drupalGetHeader",500],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",500],")",",",["T_WHITESPACE"," ",500],["T_CONSTANT_ENCAPSED_STRING","'HIT'",500],",",["T_WHITESPACE"," ",500],["T_CONSTANT_ENCAPSED_STRING","'Page was cached.'",500],")",";",["T_WHITESPACE","\n    ",500],["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","assertEqual",501],"(",["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","drupalGetHeader",501],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",501],")",",",["T_WHITESPACE"," ",501],["T_CONSTANT_ENCAPSED_STRING","'max-age=300, public'",501],",",["T_WHITESPACE"," ",501],["T_CONSTANT_ENCAPSED_STRING","'Cache-Control header was sent.'",501],")",";",["T_WHITESPACE","\n\n    ",501],["T_COMMENT","\/\/ Uninstall page cache. This should flush all caches so the next call to a\n",503],["T_WHITESPACE","    ",504],["T_COMMENT","\/\/ previously cached page should be a miss now.\n",504],["T_WHITESPACE","    ",505],["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","container",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","get",505],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",505],")",["T_WHITESPACE","\n      ",505],["T_OBJECT_OPERATOR","->",506],["T_STRING","uninstall",506],"(","[",["T_CONSTANT_ENCAPSED_STRING","'page_cache'",506],"]",")",";",["T_WHITESPACE","\n\n    ",506],["T_COMMENT","\/\/ GET a URL that was cached by Page Cache before, it should not be now.\n",508],["T_WHITESPACE","    ",509],["T_VARIABLE","$this",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","drupalGet",509],"(",["T_CONSTANT_ENCAPSED_STRING","'\/respond-cacheable-reponse'",509],")",";",["T_WHITESPACE","\n    ",509],["T_VARIABLE","$this",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","assertFalse",510],"(",["T_VARIABLE","$this",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","drupalGetHeader",510],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",510],")",",",["T_WHITESPACE"," ",510],["T_CONSTANT_ENCAPSED_STRING","'Drupal page cache header not found.'",510],")",";",["T_WHITESPACE","\n  ",510],"}",["T_WHITESPACE","\n\n  ",511],["T_DOC_COMMENT","\/**\n   * Tests that HEAD requests are treated the same as GET requests.\n   *\/",513],["T_WHITESPACE","\n  ",515],["T_PUBLIC","public",516],["T_WHITESPACE"," ",516],["T_FUNCTION","function",516],["T_WHITESPACE"," ",516],["T_STRING","testHead",516],"(",")",["T_WHITESPACE"," ",516],"{",["T_WHITESPACE","\n    ",516],["T_COMMENT","\/\/ GET, then HEAD.\n",517],["T_WHITESPACE","    ",518],["T_VARIABLE","$url_a",518],["T_WHITESPACE"," ",518],"=",["T_WHITESPACE"," ",518],["T_VARIABLE","$this",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","buildUrl",518],"(",["T_CONSTANT_ENCAPSED_STRING","'system-test\/set-header'",518],",",["T_WHITESPACE"," ",518],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",518],["T_WHITESPACE"," ",518],["T_DOUBLE_ARROW","=>",518],["T_WHITESPACE"," ",518],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",518],["T_WHITESPACE"," ",518],["T_DOUBLE_ARROW","=>",518],["T_WHITESPACE"," ",518],["T_CONSTANT_ENCAPSED_STRING","'Foo'",518],",",["T_WHITESPACE"," ",518],["T_CONSTANT_ENCAPSED_STRING","'value'",518],["T_WHITESPACE"," ",518],["T_DOUBLE_ARROW","=>",518],["T_WHITESPACE"," ",518],["T_CONSTANT_ENCAPSED_STRING","'bar'",518],"]","]",")",";",["T_WHITESPACE","\n    ",518],["T_VARIABLE","$response_body",519],["T_WHITESPACE"," ",519],"=",["T_WHITESPACE"," ",519],["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","curlExec",519],"(","[",["T_STRING","CURLOPT_HTTPGET",519],["T_WHITESPACE"," ",519],["T_DOUBLE_ARROW","=>",519],["T_WHITESPACE"," ",519],["T_STRING","TRUE",519],",",["T_WHITESPACE"," ",519],["T_STRING","CURLOPT_URL",519],["T_WHITESPACE"," ",519],["T_DOUBLE_ARROW","=>",519],["T_WHITESPACE"," ",519],["T_VARIABLE","$url_a",519],",",["T_WHITESPACE"," ",519],["T_STRING","CURLOPT_CUSTOMREQUEST",519],["T_WHITESPACE"," ",519],["T_DOUBLE_ARROW","=>",519],["T_WHITESPACE"," ",519],["T_CONSTANT_ENCAPSED_STRING","'GET'",519],",",["T_WHITESPACE"," ",519],["T_STRING","CURLOPT_NOBODY",519],["T_WHITESPACE"," ",519],["T_DOUBLE_ARROW","=>",519],["T_WHITESPACE"," ",519],["T_STRING","FALSE",519],"]",")",";",["T_WHITESPACE","\n    ",519],["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","assertEqual",520],"(",["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","drupalGetHeader",520],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",520],")",",",["T_WHITESPACE"," ",520],["T_CONSTANT_ENCAPSED_STRING","'MISS'",520],",",["T_WHITESPACE"," ",520],["T_CONSTANT_ENCAPSED_STRING","'Page was not cached.'",520],")",";",["T_WHITESPACE","\n    ",520],["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","assertEqual",521],"(",["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","drupalGetHeader",521],"(",["T_CONSTANT_ENCAPSED_STRING","'Foo'",521],")",",",["T_WHITESPACE"," ",521],["T_CONSTANT_ENCAPSED_STRING","'bar'",521],",",["T_WHITESPACE"," ",521],["T_CONSTANT_ENCAPSED_STRING","'Custom header was sent.'",521],")",";",["T_WHITESPACE","\n    ",521],["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","assertEqual",522],"(",["T_CONSTANT_ENCAPSED_STRING","'The following header was set: <em class=\"placeholder\">Foo<\/em>: <em class=\"placeholder\">bar<\/em>'",522],",",["T_WHITESPACE"," ",522],["T_VARIABLE","$response_body",522],")",";",["T_WHITESPACE","\n    ",522],["T_VARIABLE","$response_body",523],["T_WHITESPACE"," ",523],"=",["T_WHITESPACE"," ",523],["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","curlExec",523],"(","[",["T_STRING","CURLOPT_HTTPGET",523],["T_WHITESPACE"," ",523],["T_DOUBLE_ARROW","=>",523],["T_WHITESPACE"," ",523],["T_STRING","FALSE",523],",",["T_WHITESPACE"," ",523],["T_STRING","CURLOPT_URL",523],["T_WHITESPACE"," ",523],["T_DOUBLE_ARROW","=>",523],["T_WHITESPACE"," ",523],["T_VARIABLE","$url_a",523],",",["T_WHITESPACE"," ",523],["T_STRING","CURLOPT_CUSTOMREQUEST",523],["T_WHITESPACE"," ",523],["T_DOUBLE_ARROW","=>",523],["T_WHITESPACE"," ",523],["T_CONSTANT_ENCAPSED_STRING","'HEAD'",523],",",["T_WHITESPACE"," ",523],["T_STRING","CURLOPT_NOBODY",523],["T_WHITESPACE"," ",523],["T_DOUBLE_ARROW","=>",523],["T_WHITESPACE"," ",523],["T_STRING","FALSE",523],"]",")",";",["T_WHITESPACE","\n    ",523],["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","assertEqual",524],"(",["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","drupalGetHeader",524],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",524],")",",",["T_WHITESPACE"," ",524],["T_CONSTANT_ENCAPSED_STRING","'HIT'",524],",",["T_WHITESPACE"," ",524],["T_CONSTANT_ENCAPSED_STRING","'Page was cached.'",524],")",";",["T_WHITESPACE","\n    ",524],["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","assertEqual",525],"(",["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","drupalGetHeader",525],"(",["T_CONSTANT_ENCAPSED_STRING","'Foo'",525],")",",",["T_WHITESPACE"," ",525],["T_CONSTANT_ENCAPSED_STRING","'bar'",525],",",["T_WHITESPACE"," ",525],["T_CONSTANT_ENCAPSED_STRING","'Custom header was sent.'",525],")",";",["T_WHITESPACE","\n    ",525],["T_VARIABLE","$this",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","assertEqual",526],"(",["T_CONSTANT_ENCAPSED_STRING","''",526],",",["T_WHITESPACE"," ",526],["T_VARIABLE","$response_body",526],")",";",["T_WHITESPACE","\n\n    ",526],["T_COMMENT","\/\/ HEAD, then GET.\n",528],["T_WHITESPACE","    ",529],["T_VARIABLE","$url_b",529],["T_WHITESPACE"," ",529],"=",["T_WHITESPACE"," ",529],["T_VARIABLE","$this",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","buildUrl",529],"(",["T_CONSTANT_ENCAPSED_STRING","'system-test\/set-header'",529],",",["T_WHITESPACE"," ",529],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",529],["T_WHITESPACE"," ",529],["T_DOUBLE_ARROW","=>",529],["T_WHITESPACE"," ",529],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",529],["T_WHITESPACE"," ",529],["T_DOUBLE_ARROW","=>",529],["T_WHITESPACE"," ",529],["T_CONSTANT_ENCAPSED_STRING","'Foo'",529],",",["T_WHITESPACE"," ",529],["T_CONSTANT_ENCAPSED_STRING","'value'",529],["T_WHITESPACE"," ",529],["T_DOUBLE_ARROW","=>",529],["T_WHITESPACE"," ",529],["T_CONSTANT_ENCAPSED_STRING","'baz'",529],"]","]",")",";",["T_WHITESPACE","\n    ",529],["T_VARIABLE","$response_body",530],["T_WHITESPACE"," ",530],"=",["T_WHITESPACE"," ",530],["T_VARIABLE","$this",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","curlExec",530],"(","[",["T_STRING","CURLOPT_HTTPGET",530],["T_WHITESPACE"," ",530],["T_DOUBLE_ARROW","=>",530],["T_WHITESPACE"," ",530],["T_STRING","FALSE",530],",",["T_WHITESPACE"," ",530],["T_STRING","CURLOPT_URL",530],["T_WHITESPACE"," ",530],["T_DOUBLE_ARROW","=>",530],["T_WHITESPACE"," ",530],["T_VARIABLE","$url_b",530],",",["T_WHITESPACE"," ",530],["T_STRING","CURLOPT_CUSTOMREQUEST",530],["T_WHITESPACE"," ",530],["T_DOUBLE_ARROW","=>",530],["T_WHITESPACE"," ",530],["T_CONSTANT_ENCAPSED_STRING","'HEAD'",530],",",["T_WHITESPACE"," ",530],["T_STRING","CURLOPT_NOBODY",530],["T_WHITESPACE"," ",530],["T_DOUBLE_ARROW","=>",530],["T_WHITESPACE"," ",530],["T_STRING","FALSE",530],"]",")",";",["T_WHITESPACE","\n    ",530],["T_VARIABLE","$this",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","assertEqual",531],"(",["T_VARIABLE","$this",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","drupalGetHeader",531],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",531],")",",",["T_WHITESPACE"," ",531],["T_CONSTANT_ENCAPSED_STRING","'MISS'",531],",",["T_WHITESPACE"," ",531],["T_CONSTANT_ENCAPSED_STRING","'Page was not cached.'",531],")",";",["T_WHITESPACE","\n    ",531],["T_VARIABLE","$this",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","assertEqual",532],"(",["T_VARIABLE","$this",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","drupalGetHeader",532],"(",["T_CONSTANT_ENCAPSED_STRING","'Foo'",532],")",",",["T_WHITESPACE"," ",532],["T_CONSTANT_ENCAPSED_STRING","'baz'",532],",",["T_WHITESPACE"," ",532],["T_CONSTANT_ENCAPSED_STRING","'Custom header was sent.'",532],")",";",["T_WHITESPACE","\n    ",532],["T_VARIABLE","$this",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","assertEqual",533],"(",["T_CONSTANT_ENCAPSED_STRING","''",533],",",["T_WHITESPACE"," ",533],["T_VARIABLE","$response_body",533],")",";",["T_WHITESPACE","\n    ",533],["T_VARIABLE","$response_body",534],["T_WHITESPACE"," ",534],"=",["T_WHITESPACE"," ",534],["T_VARIABLE","$this",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","curlExec",534],"(","[",["T_STRING","CURLOPT_HTTPGET",534],["T_WHITESPACE"," ",534],["T_DOUBLE_ARROW","=>",534],["T_WHITESPACE"," ",534],["T_STRING","TRUE",534],",",["T_WHITESPACE"," ",534],["T_STRING","CURLOPT_URL",534],["T_WHITESPACE"," ",534],["T_DOUBLE_ARROW","=>",534],["T_WHITESPACE"," ",534],["T_VARIABLE","$url_b",534],",",["T_WHITESPACE"," ",534],["T_STRING","CURLOPT_CUSTOMREQUEST",534],["T_WHITESPACE"," ",534],["T_DOUBLE_ARROW","=>",534],["T_WHITESPACE"," ",534],["T_CONSTANT_ENCAPSED_STRING","'GET'",534],",",["T_WHITESPACE"," ",534],["T_STRING","CURLOPT_NOBODY",534],["T_WHITESPACE"," ",534],["T_DOUBLE_ARROW","=>",534],["T_WHITESPACE"," ",534],["T_STRING","FALSE",534],"]",")",";",["T_WHITESPACE","\n    ",534],["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","assertEqual",535],"(",["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","drupalGetHeader",535],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache'",535],")",",",["T_WHITESPACE"," ",535],["T_CONSTANT_ENCAPSED_STRING","'HIT'",535],",",["T_WHITESPACE"," ",535],["T_CONSTANT_ENCAPSED_STRING","'Page was cached.'",535],")",";",["T_WHITESPACE","\n    ",535],["T_VARIABLE","$this",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","assertEqual",536],"(",["T_VARIABLE","$this",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","drupalGetHeader",536],"(",["T_CONSTANT_ENCAPSED_STRING","'Foo'",536],")",",",["T_WHITESPACE"," ",536],["T_CONSTANT_ENCAPSED_STRING","'baz'",536],",",["T_WHITESPACE"," ",536],["T_CONSTANT_ENCAPSED_STRING","'Custom header was sent.'",536],")",";",["T_WHITESPACE","\n    ",536],["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","assertEqual",537],"(",["T_CONSTANT_ENCAPSED_STRING","'The following header was set: <em class=\"placeholder\">Foo<\/em>: <em class=\"placeholder\">baz<\/em>'",537],",",["T_WHITESPACE"," ",537],["T_VARIABLE","$response_body",537],")",";",["T_WHITESPACE","\n  ",537],"}",["T_WHITESPACE","\n\n",538],"}",["T_WHITESPACE","\n",540]]