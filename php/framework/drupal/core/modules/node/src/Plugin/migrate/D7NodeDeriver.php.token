[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","node",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","migrate",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Plugin",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Derivative",5],["T_NS_SEPARATOR","\\",5],["T_STRING","DeriverBase",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Plugin",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Exception",6],["T_NS_SEPARATOR","\\",6],["T_STRING","PluginNotFoundException",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Database",7],["T_NS_SEPARATOR","\\",7],["T_STRING","DatabaseExceptionWrapper",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Plugin",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Discovery",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ContainerDeriverInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","migrate",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Exception",9],["T_NS_SEPARATOR","\\",9],["T_STRING","RequirementsException",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","migrate",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Plugin",10],["T_NS_SEPARATOR","\\",10],["T_STRING","MigrationDeriverTrait",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","migrate_drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Plugin",11],["T_NS_SEPARATOR","\\",11],["T_STRING","MigrateCckFieldPluginManagerInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","DependencyInjection",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ContainerInterface",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Deriver for Drupal 7 node and node revision migrations based on node types.\n *\/",14],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","D7NodeDeriver",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_STRING","DeriverBase",17],["T_WHITESPACE"," ",17],["T_IMPLEMENTS","implements",17],["T_WHITESPACE"," ",17],["T_STRING","ContainerDeriverInterface",17],["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n  ",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","MigrationDeriverTrait",18],";",["T_WHITESPACE","\n\n  ",18],["T_DOC_COMMENT","\/**\n   * The base plugin ID this derivative is for.\n   *\n   * @var string\n   *\/",20],["T_WHITESPACE","\n  ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$basePluginId",25],";",["T_WHITESPACE","\n\n  ",25],["T_DOC_COMMENT","\/**\n   * Already-instantiated cckfield plugins, keyed by ID.\n   *\n   * @var \\Drupal\\migrate_drupal\\Plugin\\MigrateCckFieldInterface[]\n   *\/",27],["T_WHITESPACE","\n  ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$cckPluginCache",32],";",["T_WHITESPACE","\n\n  ",32],["T_DOC_COMMENT","\/**\n   * The CCK plugin manager.\n   *\n   * @var \\Drupal\\migrate_drupal\\Plugin\\MigrateCckFieldPluginManagerInterface\n   *\/",34],["T_WHITESPACE","\n  ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$cckPluginManager",39],";",["T_WHITESPACE","\n\n  ",39],["T_DOC_COMMENT","\/**\n   * D7NodeDeriver constructor.\n   *\n   * @param string $base_plugin_id\n   *   The base plugin ID for the plugin ID.\n   * @param \\Drupal\\migrate_drupal\\Plugin\\MigrateCckFieldPluginManagerInterface $cck_manager\n   *   The CCK plugin manager.\n   *\/",41],["T_WHITESPACE","\n  ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","__construct",49],"(",["T_VARIABLE","$base_plugin_id",49],",",["T_WHITESPACE"," ",49],["T_STRING","MigrateCckFieldPluginManagerInterface",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$cck_manager",49],")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","basePluginId",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$base_plugin_id",50],";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","cckPluginManager",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$cck_manager",51],";",["T_WHITESPACE","\n  ",51],"}",["T_WHITESPACE","\n\n  ",52],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",54],["T_WHITESPACE","\n  ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_STATIC","static",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","create",57],"(",["T_STRING","ContainerInterface",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$container",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$base_plugin_id",57],")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n    ",57],["T_RETURN","return",58],["T_WHITESPACE"," ",58],["T_NEW","new",58],["T_WHITESPACE"," ",58],["T_STATIC","static",58],"(",["T_WHITESPACE","\n      ",58],["T_VARIABLE","$base_plugin_id",59],",",["T_WHITESPACE","\n      ",59],["T_VARIABLE","$container",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","get",60],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.migrate.cckfield'",60],")",["T_WHITESPACE","\n    ",60],")",";",["T_WHITESPACE","\n  ",61],"}",["T_WHITESPACE","\n\n  ",62],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",64],["T_WHITESPACE","\n  ",66],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","getDerivativeDefinitions",67],"(",["T_VARIABLE","$base_plugin_definition",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$fields",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],"[","]",";",["T_WHITESPACE","\n    ",68],["T_TRY","try",69],["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n      ",69],["T_VARIABLE","$source_plugin",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STATIC","static",70],["T_DOUBLE_COLON","::",70],["T_STRING","getSourcePlugin",70],"(",["T_CONSTANT_ENCAPSED_STRING","'d7_field_instance'",70],")",";",["T_WHITESPACE","\n      ",70],["T_VARIABLE","$source_plugin",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","checkRequirements",71],"(",")",";",["T_WHITESPACE","\n\n      ",71],["T_COMMENT","\/\/ Read all field instance definitions in the source database.\n",73],["T_WHITESPACE","      ",74],["T_FOREACH","foreach",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$source_plugin",74],["T_WHITESPACE"," ",74],["T_AS","as",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$row",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n        ",74],["T_IF","if",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$row",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getSourceProperty",75],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type'",75],")",["T_WHITESPACE"," ",75],["T_IS_EQUAL","==",75],["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'node'",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n          ",75],["T_VARIABLE","$fields",76],"[",["T_VARIABLE","$row",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getSourceProperty",76],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle'",76],")","]","[",["T_VARIABLE","$row",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getSourceProperty",76],"(",["T_CONSTANT_ENCAPSED_STRING","'field_name'",76],")","]",["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$row",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getSource",76],"(",")",";",["T_WHITESPACE","\n        ",76],"}",["T_WHITESPACE","\n      ",77],"}",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n    ",79],["T_CATCH","catch",80],["T_WHITESPACE"," ",80],"(",["T_STRING","RequirementsException",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$e",80],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n      ",80],["T_COMMENT","\/\/ If checkRequirements() failed then the field module did not exist and\n",81],["T_WHITESPACE","      ",82],["T_COMMENT","\/\/ we do not have any fields. Therefore, $fields will be empty and below\n",82],["T_WHITESPACE","      ",83],["T_COMMENT","\/\/ we'll create a migration just for the node properties.\n",83],["T_WHITESPACE","    ",84],"}",["T_WHITESPACE","\n\n    ",84],["T_TRY","try",86],["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n      ",86],["T_FOREACH","foreach",87],["T_WHITESPACE"," ",87],"(",["T_STATIC","static",87],["T_DOUBLE_COLON","::",87],["T_STRING","getSourcePlugin",87],"(",["T_CONSTANT_ENCAPSED_STRING","'d7_node_type'",87],")",["T_WHITESPACE"," ",87],["T_AS","as",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$row",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$node_type",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$row",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getSourceProperty",88],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",88],")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$values",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$base_plugin_definition",89],";",["T_WHITESPACE","\n\n        ",89],["T_VARIABLE","$values",91],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",91],"]",["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_STRING","t",91],"(",["T_CONSTANT_ENCAPSED_STRING","'@label (@type)'",91],",",["T_WHITESPACE"," ",91],"[",["T_WHITESPACE","\n          ",91],["T_CONSTANT_ENCAPSED_STRING","'@label'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$values",92],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",92],"]",",",["T_WHITESPACE","\n          ",92],["T_CONSTANT_ENCAPSED_STRING","'@type'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$row",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getSourceProperty",93],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",93],")",",",["T_WHITESPACE","\n        ",93],"]",")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$values",95],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",95],"]","[",["T_CONSTANT_ENCAPSED_STRING","'node_type'",95],"]",["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$node_type",95],";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$values",96],"[",["T_CONSTANT_ENCAPSED_STRING","'destination'",96],"]","[",["T_CONSTANT_ENCAPSED_STRING","'default_bundle'",96],"]",["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$node_type",96],";",["T_WHITESPACE","\n\n        ",96],["T_VARIABLE","$migration",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Drupal",98],["T_DOUBLE_COLON","::",98],["T_STRING","service",98],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.migration'",98],")",["T_OBJECT_OPERATOR","->",98],["T_STRING","createStubMigration",98],"(",["T_VARIABLE","$values",98],")",";",["T_WHITESPACE","\n        ",98],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_ISSET","isset",99],"(",["T_VARIABLE","$fields",99],"[",["T_VARIABLE","$node_type",99],"]",")",")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n          ",99],["T_FOREACH","foreach",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$fields",100],"[",["T_VARIABLE","$node_type",100],"]",["T_WHITESPACE"," ",100],["T_AS","as",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$field_name",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$info",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n            ",100],["T_VARIABLE","$field_type",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$info",101],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",101],"]",";",["T_WHITESPACE","\n            ",101],["T_TRY","try",102],["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n              ",102],["T_VARIABLE","$plugin_id",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","cckPluginManager",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getPluginIdFromFieldType",103],"(",["T_VARIABLE","$field_type",103],",",["T_WHITESPACE"," ",103],"[",["T_CONSTANT_ENCAPSED_STRING","'core'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_LNUMBER","7",103],"]",",",["T_WHITESPACE"," ",103],["T_VARIABLE","$migration",103],")",";",["T_WHITESPACE","\n              ",103],["T_IF","if",104],["T_WHITESPACE"," ",104],"(","!",["T_ISSET","isset",104],"(",["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","cckPluginCache",104],"[",["T_VARIABLE","$field_type",104],"]",")",")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n                ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","cckPluginCache",105],"[",["T_VARIABLE","$field_type",105],"]",["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","cckPluginManager",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","createInstance",105],"(",["T_VARIABLE","$plugin_id",105],",",["T_WHITESPACE"," ",105],"[",["T_CONSTANT_ENCAPSED_STRING","'core'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_LNUMBER","7",105],"]",",",["T_WHITESPACE"," ",105],["T_VARIABLE","$migration",105],")",";",["T_WHITESPACE","\n              ",105],"}",["T_WHITESPACE","\n              ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","cckPluginCache",107],"[",["T_VARIABLE","$field_type",107],"]",["T_WHITESPACE","\n                ",107],["T_OBJECT_OPERATOR","->",108],["T_STRING","processCckFieldValues",108],"(",["T_VARIABLE","$migration",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$field_name",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$info",108],")",";",["T_WHITESPACE","\n            ",108],"}",["T_WHITESPACE","\n            ",109],["T_CATCH","catch",110],["T_WHITESPACE"," ",110],"(",["T_STRING","PluginNotFoundException",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$ex",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n              ",110],["T_VARIABLE","$migration",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","setProcessOfProperty",111],"(",["T_VARIABLE","$field_name",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$field_name",111],")",";",["T_WHITESPACE","\n            ",111],"}",["T_WHITESPACE","\n          ",112],"}",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","derivatives",115],"[",["T_VARIABLE","$node_type",115],"]",["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$migration",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getPluginDefinition",115],"(",")",";",["T_WHITESPACE","\n      ",115],"}",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n    ",117],["T_CATCH","catch",118],["T_WHITESPACE"," ",118],"(",["T_STRING","DatabaseExceptionWrapper",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$e",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n      ",118],["T_COMMENT","\/\/ Once we begin iterating the source plugin it is possible that the\n",119],["T_WHITESPACE","      ",120],["T_COMMENT","\/\/ source tables will not exist. This can happen when the\n",120],["T_WHITESPACE","      ",121],["T_COMMENT","\/\/ MigrationPluginManager gathers up the migration definitions but we do\n",121],["T_WHITESPACE","      ",122],["T_COMMENT","\/\/ not actually have a Drupal 7 source database.\n",122],["T_WHITESPACE","    ",123],"}",["T_WHITESPACE","\n\n    ",123],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","derivatives",125],";",["T_WHITESPACE","\n  ",125],"}",["T_WHITESPACE","\n\n",126],"}",["T_WHITESPACE","\n",128]]