[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","node",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Sql",5],["T_NS_SEPARATOR","\\",5],["T_STRING","SqlContentEntityStorage",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Session",6],["T_NS_SEPARATOR","\\",6],["T_STRING","AccountInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Language",7],["T_NS_SEPARATOR","\\",7],["T_STRING","LanguageInterface",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Defines the storage handler class for nodes.\n *\n * This extends the base storage class, adding required special handling for\n * node entities.\n *\/",9],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","NodeStorage",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","SqlContentEntityStorage",15],["T_WHITESPACE"," ",15],["T_IMPLEMENTS","implements",15],["T_WHITESPACE"," ",15],["T_STRING","NodeStorageInterface",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",17],["T_WHITESPACE","\n  ",19],["T_PUBLIC","public",20],["T_WHITESPACE"," ",20],["T_FUNCTION","function",20],["T_WHITESPACE"," ",20],["T_STRING","revisionIds",20],"(",["T_STRING","NodeInterface",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$node",20],")",["T_WHITESPACE"," ",20],"{",["T_WHITESPACE","\n    ",20],["T_RETURN","return",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","database",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","query",21],"(",["T_WHITESPACE","\n      ",21],["T_CONSTANT_ENCAPSED_STRING","'SELECT vid FROM {node_revision} WHERE nid=:nid ORDER BY vid'",22],",",["T_WHITESPACE","\n      ",22],["T_ARRAY","array",23],"(",["T_CONSTANT_ENCAPSED_STRING","':nid'",23],["T_WHITESPACE"," ",23],["T_DOUBLE_ARROW","=>",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$node",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","id",23],"(",")",")",["T_WHITESPACE","\n    ",23],")",["T_OBJECT_OPERATOR","->",24],["T_STRING","fetchCol",24],"(",")",";",["T_WHITESPACE","\n  ",24],"}",["T_WHITESPACE","\n\n  ",25],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",27],["T_WHITESPACE","\n  ",29],["T_PUBLIC","public",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","userRevisionIds",30],"(",["T_STRING","AccountInterface",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$account",30],")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n    ",30],["T_RETURN","return",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","database",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","query",31],"(",["T_WHITESPACE","\n      ",31],["T_CONSTANT_ENCAPSED_STRING","'SELECT vid FROM {node_field_revision} WHERE uid = :uid ORDER BY vid'",32],",",["T_WHITESPACE","\n      ",32],["T_ARRAY","array",33],"(",["T_CONSTANT_ENCAPSED_STRING","':uid'",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$account",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","id",33],"(",")",")",["T_WHITESPACE","\n    ",33],")",["T_OBJECT_OPERATOR","->",34],["T_STRING","fetchCol",34],"(",")",";",["T_WHITESPACE","\n  ",34],"}",["T_WHITESPACE","\n\n  ",35],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",37],["T_WHITESPACE","\n  ",39],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","countDefaultLanguageRevisions",40],"(",["T_STRING","NodeInterface",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$node",40],")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n    ",40],["T_RETURN","return",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","database",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","query",41],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT COUNT(*) FROM {node_field_revision} WHERE nid = :nid AND default_langcode = 1'",41],",",["T_WHITESPACE"," ",41],["T_ARRAY","array",41],"(",["T_CONSTANT_ENCAPSED_STRING","':nid'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$node",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","id",41],"(",")",")",")",["T_OBJECT_OPERATOR","->",41],["T_STRING","fetchField",41],"(",")",";",["T_WHITESPACE","\n  ",41],"}",["T_WHITESPACE","\n\n  ",42],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",44],["T_WHITESPACE","\n  ",46],["T_PUBLIC","public",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","updateType",47],"(",["T_VARIABLE","$old_type",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$new_type",47],")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n    ",47],["T_RETURN","return",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","database",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","update",48],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",48],")",["T_WHITESPACE","\n      ",48],["T_OBJECT_OPERATOR","->",49],["T_STRING","fields",49],"(",["T_ARRAY","array",49],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$new_type",49],")",")",["T_WHITESPACE","\n      ",49],["T_OBJECT_OPERATOR","->",50],["T_STRING","condition",50],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$old_type",50],")",["T_WHITESPACE","\n      ",50],["T_OBJECT_OPERATOR","->",51],["T_STRING","execute",51],"(",")",";",["T_WHITESPACE","\n  ",51],"}",["T_WHITESPACE","\n\n  ",52],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",54],["T_WHITESPACE","\n  ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","clearRevisionsLanguage",57],"(",["T_STRING","LanguageInterface",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$language",57],")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n    ",57],["T_RETURN","return",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","database",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","update",58],"(",["T_CONSTANT_ENCAPSED_STRING","'node_revision'",58],")",["T_WHITESPACE","\n      ",58],["T_OBJECT_OPERATOR","->",59],["T_STRING","fields",59],"(",["T_ARRAY","array",59],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_STRING","LanguageInterface",59],["T_DOUBLE_COLON","::",59],["T_STRING","LANGCODE_NOT_SPECIFIED",59],")",")",["T_WHITESPACE","\n      ",59],["T_OBJECT_OPERATOR","->",60],["T_STRING","condition",60],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$language",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getId",60],"(",")",")",["T_WHITESPACE","\n      ",60],["T_OBJECT_OPERATOR","->",61],["T_STRING","execute",61],"(",")",";",["T_WHITESPACE","\n  ",61],"}",["T_WHITESPACE","\n\n",62],"}",["T_WHITESPACE","\n",64]]