[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","node",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","comment",5],["T_NS_SEPARATOR","\\",5],["T_STRING","CommentInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","comment",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Tests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CommentTestTrait",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","simpletest",7],["T_NS_SEPARATOR","\\",7],["T_STRING","WebTestBase",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","comment",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Comment",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Tests access controlled node views have the right amount of comment pages.\n *\n * @group node\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","NodeAccessPagerTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","WebTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","CommentTestTrait",17],";",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",19],["T_WHITESPACE","\n  ",23],["T_PUBLIC","public",24],["T_WHITESPACE"," ",24],["T_STATIC","static",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$modules",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_ARRAY","array",24],"(",["T_CONSTANT_ENCAPSED_STRING","'node_access_test'",24],",",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'comment'",24],",",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'forum'",24],")",";",["T_WHITESPACE","\n\n  ",24],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","setUp",26],"(",")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n    ",26],["T_STRING","parent",27],["T_DOUBLE_COLON","::",27],["T_STRING","setUp",27],"(",")",";",["T_WHITESPACE","\n\n    ",27],["T_STRING","node_access_rebuild",29],"(",")",";",["T_WHITESPACE","\n    ",29],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","drupalCreateContentType",30],"(",["T_ARRAY","array",30],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'page'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'name'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_STRING","t",30],"(",["T_CONSTANT_ENCAPSED_STRING","'Basic page'",30],")",")",")",";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","addDefaultCommentField",31],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'page'",31],")",";",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","webUser",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","drupalCreateUser",32],"(",["T_ARRAY","array",32],"(",["T_CONSTANT_ENCAPSED_STRING","'access content'",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'access comments'",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'node test view'",32],")",")",";",["T_WHITESPACE","\n  ",32],"}",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * Tests the comment pager for nodes with multiple grants per realm.\n   *\/",35],["T_WHITESPACE","\n  ",37],["T_PUBLIC","public",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","testCommentPager",38],"(",")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n    ",38],["T_COMMENT","\/\/ Create a node.\n",39],["T_WHITESPACE","    ",40],["T_VARIABLE","$node",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","drupalCreateNode",40],"(",")",";",["T_WHITESPACE","\n\n    ",40],["T_COMMENT","\/\/ Create 60 comments.\n",42],["T_WHITESPACE","    ",43],["T_FOR","for",43],["T_WHITESPACE"," ",43],"(",["T_VARIABLE","$i",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_LNUMBER","0",43],";",["T_WHITESPACE"," ",43],["T_VARIABLE","$i",43],["T_WHITESPACE"," ",43],"<",["T_WHITESPACE"," ",43],["T_LNUMBER","60",43],";",["T_WHITESPACE"," ",43],["T_VARIABLE","$i",43],["T_INC","++",43],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n      ",43],["T_VARIABLE","$comment",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_STRING","Comment",44],["T_DOUBLE_COLON","::",44],["T_STRING","create",44],"(",["T_ARRAY","array",44],"(",["T_WHITESPACE","\n        ",44],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$node",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","id",45],"(",")",",",["T_WHITESPACE","\n        ",45],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'node'",46],",",["T_WHITESPACE","\n        ",46],["T_CONSTANT_ENCAPSED_STRING","'field_name'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'comment'",47],",",["T_WHITESPACE","\n        ",47],["T_CONSTANT_ENCAPSED_STRING","'subject'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","randomMachineName",48],"(",")",",",["T_WHITESPACE","\n        ",48],["T_CONSTANT_ENCAPSED_STRING","'comment_body'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",["T_WHITESPACE","\n          ",49],["T_ARRAY","array",50],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","randomMachineName",50],"(",")",")",",",["T_WHITESPACE","\n        ",50],")",",",["T_WHITESPACE","\n        ",51],["T_CONSTANT_ENCAPSED_STRING","'status'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_STRING","CommentInterface",52],["T_DOUBLE_COLON","::",52],["T_STRING","PUBLISHED",52],",",["T_WHITESPACE","\n      ",52],")",")",";",["T_WHITESPACE","\n      ",53],["T_VARIABLE","$comment",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","save",54],"(",")",";",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n\n    ",55],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","drupalLogin",57],"(",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","webUser",57],")",";",["T_WHITESPACE","\n\n    ",57],["T_COMMENT","\/\/ View the node page. With the default 50 comments per page there should\n",59],["T_WHITESPACE","    ",60],["T_COMMENT","\/\/ be two pages (0, 1) but no third (2) page.\n",60],["T_WHITESPACE","    ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","drupalGet",61],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",61],["T_WHITESPACE"," ",61],".",["T_WHITESPACE"," ",61],["T_VARIABLE","$node",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","id",61],"(",")",")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertText",62],"(",["T_VARIABLE","$node",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","label",62],"(",")",")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","assertText",63],"(",["T_STRING","t",63],"(",["T_CONSTANT_ENCAPSED_STRING","'Comments'",63],")",")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","assertRaw",64],"(",["T_CONSTANT_ENCAPSED_STRING","'page=1'",64],")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","assertNoRaw",65],"(",["T_CONSTANT_ENCAPSED_STRING","'page=2'",65],")",";",["T_WHITESPACE","\n  ",65],"}",["T_WHITESPACE","\n\n  ",66],["T_DOC_COMMENT","\/**\n   * Tests the forum node pager for nodes with multiple grants per realm.\n   *\/",68],["T_WHITESPACE","\n  ",70],["T_PUBLIC","public",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","testForumPager",71],"(",")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n    ",71],["T_COMMENT","\/\/ Look up the forums vocabulary ID.\n",72],["T_WHITESPACE","    ",73],["T_VARIABLE","$vid",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","config",73],"(",["T_CONSTANT_ENCAPSED_STRING","'forum.settings'",73],")",["T_OBJECT_OPERATOR","->",73],["T_STRING","get",73],"(",["T_CONSTANT_ENCAPSED_STRING","'vocabulary'",73],")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertTrue",74],"(",["T_VARIABLE","$vid",74],",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'Forum navigation vocabulary ID is set.'",74],")",";",["T_WHITESPACE","\n\n    ",74],["T_COMMENT","\/\/ Look up the general discussion term.\n",76],["T_WHITESPACE","    ",77],["T_VARIABLE","$tree",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Drupal",77],["T_DOUBLE_COLON","::",77],["T_STRING","entityManager",77],"(",")",["T_OBJECT_OPERATOR","->",77],["T_STRING","getStorage",77],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term'",77],")",["T_OBJECT_OPERATOR","->",77],["T_STRING","loadTree",77],"(",["T_VARIABLE","$vid",77],",",["T_WHITESPACE"," ",77],["T_LNUMBER","0",77],",",["T_WHITESPACE"," ",77],["T_LNUMBER","1",77],")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$tid",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_STRING","reset",78],"(",["T_VARIABLE","$tree",78],")",["T_OBJECT_OPERATOR","->",78],["T_STRING","tid",78],";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","assertTrue",79],"(",["T_VARIABLE","$tid",79],",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'General discussion term is found in the forum vocabulary.'",79],")",";",["T_WHITESPACE","\n\n    ",79],["T_COMMENT","\/\/ Create 30 nodes.\n",81],["T_WHITESPACE","    ",82],["T_FOR","for",82],["T_WHITESPACE"," ",82],"(",["T_VARIABLE","$i",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_LNUMBER","0",82],";",["T_WHITESPACE"," ",82],["T_VARIABLE","$i",82],["T_WHITESPACE"," ",82],"<",["T_WHITESPACE"," ",82],["T_LNUMBER","30",82],";",["T_WHITESPACE"," ",82],["T_VARIABLE","$i",82],["T_INC","++",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n      ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","drupalCreateNode",83],"(",["T_ARRAY","array",83],"(",["T_WHITESPACE","\n        ",83],["T_CONSTANT_ENCAPSED_STRING","'nid'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_STRING","NULL",84],",",["T_WHITESPACE","\n        ",84],["T_CONSTANT_ENCAPSED_STRING","'type'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'forum'",85],",",["T_WHITESPACE","\n        ",85],["T_CONSTANT_ENCAPSED_STRING","'taxonomy_forums'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_ARRAY","array",86],"(",["T_WHITESPACE","\n          ",86],["T_ARRAY","array",87],"(",["T_CONSTANT_ENCAPSED_STRING","'target_id'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$tid",87],")",",",["T_WHITESPACE","\n        ",87],")",",",["T_WHITESPACE","\n      ",88],")",")",";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_COMMENT","\/\/ View the general discussion forum page. With the default 25 nodes per\n",92],["T_WHITESPACE","    ",93],["T_COMMENT","\/\/ page there should be two pages for 30 nodes, no more.\n",93],["T_WHITESPACE","    ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","drupalLogin",94],"(",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","webUser",94],")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","drupalGet",95],"(",["T_CONSTANT_ENCAPSED_STRING","'forum\/'",95],["T_WHITESPACE"," ",95],".",["T_WHITESPACE"," ",95],["T_VARIABLE","$tid",95],")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","assertRaw",96],"(",["T_CONSTANT_ENCAPSED_STRING","'page=1'",96],")",";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","assertNoRaw",97],"(",["T_CONSTANT_ENCAPSED_STRING","'page=2'",97],")",";",["T_WHITESPACE","\n  ",97],"}",["T_WHITESPACE","\n\n",98],"}",["T_WHITESPACE","\n",100]]