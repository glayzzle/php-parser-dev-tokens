[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","node",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Views",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","SafeMarkup",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","node",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Node",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","node",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","NodeType",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Tests if entity access is respected on a node bulk operations form.\n *\n * @group node\n * @see \\Drupal\\node\\Plugin\\views\\field\\BulkForm\n * @see \\Drupal\\node\\Tests\\NodeTestBase\n * @see \\Drupal\\node\\Tests\\NodeAccessBaseTableTest\n * @see \\Drupal\\node\\Tests\\Views\\BulkFormTest\n *\/",9],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","BulkFormAccessTest",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_STRING","NodeTestBase",18],["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n\n  ",18],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",20],["T_WHITESPACE","\n  ",24],["T_PUBLIC","public",25],["T_WHITESPACE"," ",25],["T_STATIC","static",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$modules",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_ARRAY","array",25],"(",["T_CONSTANT_ENCAPSED_STRING","'node_test_views'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'node_access_test'",25],")",";",["T_WHITESPACE","\n\n  ",25],["T_DOC_COMMENT","\/**\n   * Views used by this test.\n   *\n   * @var array\n   *\/",27],["T_WHITESPACE","\n  ",31],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_STATIC","static",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$testViews",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_ARRAY","array",32],"(",["T_CONSTANT_ENCAPSED_STRING","'test_node_bulk_form'",32],")",";",["T_WHITESPACE","\n\n  ",32],["T_DOC_COMMENT","\/**\n   * The node access control handler.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityAccessControlHandlerInterface\n   *\/",34],["T_WHITESPACE","\n  ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$accessHandler",39],";",["T_WHITESPACE","\n\n  ",39],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",41],["T_WHITESPACE","\n  ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","setUp",44],"(",")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n    ",44],["T_STRING","parent",45],["T_DOUBLE_COLON","::",45],["T_STRING","setUp",45],"(",")",";",["T_WHITESPACE","\n\n    ",45],["T_COMMENT","\/\/ Create Article node type.\n",47],["T_WHITESPACE","    ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","drupalCreateContentType",48],"(",["T_ARRAY","array",48],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'article'",48],",",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'name'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'Article'",48],")",")",";",["T_WHITESPACE","\n\n    ",48],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","accessHandler",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Drupal",50],["T_DOUBLE_COLON","::",50],["T_STRING","entityManager",50],"(",")",["T_OBJECT_OPERATOR","->",50],["T_STRING","getAccessControlHandler",50],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",50],")",";",["T_WHITESPACE","\n\n    ",50],["T_STRING","node_access_test_add_field",52],"(",["T_STRING","NodeType",52],["T_DOUBLE_COLON","::",52],["T_STRING","load",52],"(",["T_CONSTANT_ENCAPSED_STRING","'article'",52],")",")",";",["T_WHITESPACE","\n\n    ",52],["T_COMMENT","\/\/ After enabling a node access module, the access table has to be rebuild.\n",54],["T_WHITESPACE","    ",55],["T_STRING","node_access_rebuild",55],"(",")",";",["T_WHITESPACE","\n\n    ",55],["T_COMMENT","\/\/ Enable the private node feature of the node_access_test module.\n",57],["T_WHITESPACE","    ",58],["T_NS_SEPARATOR","\\",58],["T_STRING","Drupal",58],["T_DOUBLE_COLON","::",58],["T_STRING","state",58],"(",")",["T_OBJECT_OPERATOR","->",58],["T_STRING","set",58],"(",["T_CONSTANT_ENCAPSED_STRING","'node_access_test.private'",58],",",["T_WHITESPACE"," ",58],["T_STRING","TRUE",58],")",";",["T_WHITESPACE","\n  ",58],"}",["T_WHITESPACE","\n\n  ",59],["T_DOC_COMMENT","\/**\n   * Tests if nodes that may not be edited, can not be edited in bulk.\n   *\/",61],["T_WHITESPACE","\n  ",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","testNodeEditAccess",64],"(",")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n    ",64],["T_COMMENT","\/\/ Create an account who will be the author of a private node.\n",65],["T_WHITESPACE","    ",66],["T_VARIABLE","$author",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","drupalCreateUser",66],"(",")",";",["T_WHITESPACE","\n    ",66],["T_COMMENT","\/\/ Create a private node (author may view, edit and delete, others may not).\n",67],["T_WHITESPACE","    ",68],["T_VARIABLE","$node",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","drupalCreateNode",68],"(",["T_ARRAY","array",68],"(",["T_WHITESPACE","\n      ",68],["T_CONSTANT_ENCAPSED_STRING","'type'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'article'",69],",",["T_WHITESPACE","\n      ",69],["T_CONSTANT_ENCAPSED_STRING","'private'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_ARRAY","array",70],"(",["T_ARRAY","array",70],"(",["T_WHITESPACE","\n        ",70],["T_CONSTANT_ENCAPSED_STRING","'value'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_STRING","TRUE",71],",",["T_WHITESPACE","\n      ",71],")",")",",",["T_WHITESPACE","\n      ",72],["T_CONSTANT_ENCAPSED_STRING","'uid'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$author",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","id",73],"(",")",",",["T_WHITESPACE","\n    ",73],")",")",";",["T_WHITESPACE","\n    ",74],["T_COMMENT","\/\/ Create an account that may view the private node, but not edit it.\n",75],["T_WHITESPACE","    ",76],["T_VARIABLE","$account",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","drupalCreateUser",76],"(",["T_ARRAY","array",76],"(",["T_CONSTANT_ENCAPSED_STRING","'node test view'",76],")",")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","drupalLogin",77],"(",["T_VARIABLE","$account",77],")",";",["T_WHITESPACE","\n\n    ",77],["T_COMMENT","\/\/ Ensure the node is published.\n",79],["T_WHITESPACE","    ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertTrue",80],"(",["T_VARIABLE","$node",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","isPublished",80],"(",")",",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'Node is initially published.'",80],")",";",["T_WHITESPACE","\n\n    ",80],["T_COMMENT","\/\/ Ensure that the node can not be edited.\n",82],["T_WHITESPACE","    ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertEqual",83],"(",["T_STRING","FALSE",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","accessHandler",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","access",83],"(",["T_VARIABLE","$node",83],",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'update'",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$account",83],")",",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'The node may not be edited.'",83],")",";",["T_WHITESPACE","\n\n    ",83],["T_COMMENT","\/\/ Test editing the node using the bulk form.\n",85],["T_WHITESPACE","    ",86],["T_VARIABLE","$edit",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_ARRAY","array",86],"(",["T_WHITESPACE","\n      ",86],["T_CONSTANT_ENCAPSED_STRING","'node_bulk_form[0]'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_STRING","TRUE",87],",",["T_WHITESPACE","\n      ",87],["T_CONSTANT_ENCAPSED_STRING","'action'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'node_unpublish_action'",88],",",["T_WHITESPACE","\n    ",88],")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","drupalPostForm",90],"(",["T_CONSTANT_ENCAPSED_STRING","'test-node-bulk-form'",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$edit",90],",",["T_WHITESPACE"," ",90],["T_STRING","t",90],"(",["T_CONSTANT_ENCAPSED_STRING","'Apply to selected items'",90],")",")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","assertRaw",91],"(",["T_STRING","SafeMarkup",91],["T_DOUBLE_COLON","::",91],["T_STRING","format",91],"(",["T_CONSTANT_ENCAPSED_STRING","'No access to execute %action on the @entity_type_label %entity_label.'",91],",",["T_WHITESPACE"," ",91],"[",["T_WHITESPACE","\n      ",91],["T_CONSTANT_ENCAPSED_STRING","'%action'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'Unpublish content'",92],",",["T_WHITESPACE","\n      ",92],["T_CONSTANT_ENCAPSED_STRING","'@entity_type_label'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'Content'",93],",",["T_WHITESPACE","\n      ",93],["T_CONSTANT_ENCAPSED_STRING","'%entity_label'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$node",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","label",94],"(",")",",",["T_WHITESPACE","\n    ",94],"]",")",")",";",["T_WHITESPACE","\n\n    ",95],["T_COMMENT","\/\/ Re-load the node and check the status.\n",97],["T_WHITESPACE","    ",98],["T_VARIABLE","$node",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","Node",98],["T_DOUBLE_COLON","::",98],["T_STRING","load",98],"(",["T_VARIABLE","$node",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","id",98],"(",")",")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","assertTrue",99],"(",["T_VARIABLE","$node",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","isPublished",99],"(",")",",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'The node is still published.'",99],")",";",["T_WHITESPACE","\n\n    ",99],["T_COMMENT","\/\/ Create an account that may view the private node, but can update the\n",101],["T_WHITESPACE","    ",102],["T_COMMENT","\/\/ status.\n",102],["T_WHITESPACE","    ",103],["T_VARIABLE","$account",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","drupalCreateUser",103],"(",["T_ARRAY","array",103],"(",["T_CONSTANT_ENCAPSED_STRING","'administer nodes'",103],",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'node test view'",103],")",")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","drupalLogin",104],"(",["T_VARIABLE","$account",104],")",";",["T_WHITESPACE","\n\n    ",104],["T_COMMENT","\/\/ Ensure the node is published.\n",106],["T_WHITESPACE","    ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertTrue",107],"(",["T_VARIABLE","$node",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","isPublished",107],"(",")",",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'Node is initially published.'",107],")",";",["T_WHITESPACE","\n\n    ",107],["T_COMMENT","\/\/ Ensure that the private node can not be edited.\n",109],["T_WHITESPACE","    ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertEqual",110],"(",["T_STRING","FALSE",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$node",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","access",110],"(",["T_CONSTANT_ENCAPSED_STRING","'update'",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$account",110],")",",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'The node may not be edited.'",110],")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertEqual",111],"(",["T_STRING","TRUE",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$node",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","status",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","access",111],"(",["T_CONSTANT_ENCAPSED_STRING","'edit'",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$account",111],")",",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'The node status can be edited.'",111],")",";",["T_WHITESPACE","\n\n    ",111],["T_COMMENT","\/\/ Test editing the node using the bulk form.\n",113],["T_WHITESPACE","    ",114],["T_VARIABLE","$edit",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_ARRAY","array",114],"(",["T_WHITESPACE","\n      ",114],["T_CONSTANT_ENCAPSED_STRING","'node_bulk_form[0]'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_STRING","TRUE",115],",",["T_WHITESPACE","\n      ",115],["T_CONSTANT_ENCAPSED_STRING","'action'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'node_unpublish_action'",116],",",["T_WHITESPACE","\n    ",116],")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","drupalPostForm",118],"(",["T_CONSTANT_ENCAPSED_STRING","'test-node-bulk-form'",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$edit",118],",",["T_WHITESPACE"," ",118],["T_STRING","t",118],"(",["T_CONSTANT_ENCAPSED_STRING","'Apply to selected items'",118],")",")",";",["T_WHITESPACE","\n    ",118],["T_COMMENT","\/\/ Test that the action message isn't shown.\n",119],["T_WHITESPACE","    ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","assertNoRaw",120],"(",["T_STRING","SafeMarkup",120],["T_DOUBLE_COLON","::",120],["T_STRING","format",120],"(",["T_CONSTANT_ENCAPSED_STRING","'%action was applied to 1 item.'",120],",",["T_WHITESPACE"," ",120],"[",["T_WHITESPACE","\n      ",120],["T_CONSTANT_ENCAPSED_STRING","'%action'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'Unpublish content'",121],",",["T_WHITESPACE","\n    ",121],"]",")",")",";",["T_WHITESPACE","\n    ",122],["T_COMMENT","\/\/ Re-load the node and check the status.\n",123],["T_WHITESPACE","    ",124],["T_VARIABLE","$node",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","Node",124],["T_DOUBLE_COLON","::",124],["T_STRING","load",124],"(",["T_VARIABLE","$node",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","id",124],"(",")",")",";",["T_WHITESPACE","\n    ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertTrue",125],"(",["T_VARIABLE","$node",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","isPublished",125],"(",")",",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'The node is still published.'",125],")",";",["T_WHITESPACE","\n  ",125],"}",["T_WHITESPACE","\n\n  ",126],["T_DOC_COMMENT","\/**\n   * Tests if nodes that may not be deleted, can not be deleted in bulk.\n   *\/",128],["T_WHITESPACE","\n  ",130],["T_PUBLIC","public",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","testNodeDeleteAccess",131],"(",")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n    ",131],["T_COMMENT","\/\/ Create an account who will be the author of a private node.\n",132],["T_WHITESPACE","    ",133],["T_VARIABLE","$author",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","drupalCreateUser",133],"(",")",";",["T_WHITESPACE","\n    ",133],["T_COMMENT","\/\/ Create a private node (author may view, edit and delete, others may not).\n",134],["T_WHITESPACE","    ",135],["T_VARIABLE","$private_node",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","drupalCreateNode",135],"(",["T_ARRAY","array",135],"(",["T_WHITESPACE","\n      ",135],["T_CONSTANT_ENCAPSED_STRING","'type'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'article'",136],",",["T_WHITESPACE","\n      ",136],["T_CONSTANT_ENCAPSED_STRING","'private'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_ARRAY","array",137],"(",["T_ARRAY","array",137],"(",["T_WHITESPACE","\n        ",137],["T_CONSTANT_ENCAPSED_STRING","'value'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_STRING","TRUE",138],",",["T_WHITESPACE","\n      ",138],")",")",",",["T_WHITESPACE","\n      ",139],["T_CONSTANT_ENCAPSED_STRING","'uid'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$author",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","id",140],"(",")",",",["T_WHITESPACE","\n    ",140],")",")",";",["T_WHITESPACE","\n    ",141],["T_COMMENT","\/\/ Create an account that may view the private node, but not delete it.\n",142],["T_WHITESPACE","    ",143],["T_VARIABLE","$account",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","drupalCreateUser",143],"(",["T_ARRAY","array",143],"(",["T_CONSTANT_ENCAPSED_STRING","'access content'",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'administer nodes'",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'delete own article content'",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'node test view'",143],")",")",";",["T_WHITESPACE","\n    ",143],["T_COMMENT","\/\/ Create a node that may be deleted too, to ensure the delete confirmation\n",144],["T_WHITESPACE","    ",145],["T_COMMENT","\/\/ page is shown later. In node_access_test.module, nodes may only be\n",145],["T_WHITESPACE","    ",146],["T_COMMENT","\/\/ deleted by the author.\n",146],["T_WHITESPACE","    ",147],["T_VARIABLE","$own_node",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","drupalCreateNode",147],"(",["T_ARRAY","array",147],"(",["T_WHITESPACE","\n      ",147],["T_CONSTANT_ENCAPSED_STRING","'type'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'article'",148],",",["T_WHITESPACE","\n      ",148],["T_CONSTANT_ENCAPSED_STRING","'private'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_ARRAY","array",149],"(",["T_ARRAY","array",149],"(",["T_WHITESPACE","\n        ",149],["T_CONSTANT_ENCAPSED_STRING","'value'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_STRING","TRUE",150],",",["T_WHITESPACE","\n      ",150],")",")",",",["T_WHITESPACE","\n      ",151],["T_CONSTANT_ENCAPSED_STRING","'uid'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$account",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","id",152],"(",")",",",["T_WHITESPACE","\n    ",152],")",")",";",["T_WHITESPACE","\n    ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","drupalLogin",154],"(",["T_VARIABLE","$account",154],")",";",["T_WHITESPACE","\n\n    ",154],["T_COMMENT","\/\/ Ensure that the private node can not be deleted.\n",156],["T_WHITESPACE","    ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","assertEqual",157],"(",["T_STRING","FALSE",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","accessHandler",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","access",157],"(",["T_VARIABLE","$private_node",157],",",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'delete'",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$account",157],")",",",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'The private node may not be deleted.'",157],")",";",["T_WHITESPACE","\n    ",157],["T_COMMENT","\/\/ Ensure that the public node may be deleted.\n",158],["T_WHITESPACE","    ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","assertEqual",159],"(",["T_STRING","TRUE",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","accessHandler",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","access",159],"(",["T_VARIABLE","$own_node",159],",",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'delete'",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$account",159],")",",",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'The own node may be deleted.'",159],")",";",["T_WHITESPACE","\n\n    ",159],["T_COMMENT","\/\/ Try to delete the node using the bulk form.\n",161],["T_WHITESPACE","    ",162],["T_VARIABLE","$edit",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_ARRAY","array",162],"(",["T_WHITESPACE","\n      ",162],["T_CONSTANT_ENCAPSED_STRING","'node_bulk_form[0]'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_STRING","TRUE",163],",",["T_WHITESPACE","\n      ",163],["T_CONSTANT_ENCAPSED_STRING","'node_bulk_form[1]'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_STRING","TRUE",164],",",["T_WHITESPACE","\n      ",164],["T_CONSTANT_ENCAPSED_STRING","'action'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'node_delete_action'",165],",",["T_WHITESPACE","\n    ",165],")",";",["T_WHITESPACE","\n    ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","drupalPostForm",167],"(",["T_CONSTANT_ENCAPSED_STRING","'test-node-bulk-form'",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$edit",167],",",["T_WHITESPACE"," ",167],["T_STRING","t",167],"(",["T_CONSTANT_ENCAPSED_STRING","'Apply to selected items'",167],")",")",";",["T_WHITESPACE","\n    ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","drupalPostForm",168],"(",["T_STRING","NULL",168],",",["T_WHITESPACE"," ",168],["T_ARRAY","array",168],"(",")",",",["T_WHITESPACE"," ",168],["T_STRING","t",168],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",168],")",")",";",["T_WHITESPACE","\n    ",168],["T_COMMENT","\/\/ Ensure the private node still exists.\n",169],["T_WHITESPACE","    ",170],["T_VARIABLE","$private_node",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_STRING","Node",170],["T_DOUBLE_COLON","::",170],["T_STRING","load",170],"(",["T_VARIABLE","$private_node",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","id",170],"(",")",")",";",["T_WHITESPACE","\n    ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","assertNotNull",171],"(",["T_VARIABLE","$private_node",171],",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'The private node has not been deleted.'",171],")",";",["T_WHITESPACE","\n    ",171],["T_COMMENT","\/\/ Ensure the own node is deleted.\n",172],["T_WHITESPACE","    ",173],["T_VARIABLE","$own_node",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_STRING","Node",173],["T_DOUBLE_COLON","::",173],["T_STRING","load",173],"(",["T_VARIABLE","$own_node",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","id",173],"(",")",")",";",["T_WHITESPACE","\n    ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","assertNull",174],"(",["T_VARIABLE","$own_node",174],",",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'The own node is deleted.'",174],")",";",["T_WHITESPACE","\n  ",174],"}",["T_WHITESPACE","\n\n",175],"}",["T_WHITESPACE","\n",177]]