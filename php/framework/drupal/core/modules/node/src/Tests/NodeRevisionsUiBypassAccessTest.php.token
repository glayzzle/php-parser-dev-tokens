[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","node",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","node",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","NodeType",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests the revision tab display.\n *\n * This test is similar to NodeRevisionsUITest except that it uses a user with\n * the bypass node access permission to make sure that the revision access\n * check adds correct cacheability metadata.\n *\n * @group node\n *\/",7],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","NodeRevisionsUiBypassAccessTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","NodeTestBase",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * User with bypass node access permission.\n   *\n   * @var \\Drupal\\user\\Entity\\User\n   *\/",18],["T_WHITESPACE","\n  ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$editor",23],";",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",25],["T_WHITESPACE","\n  ",27],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_STATIC","static",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$modules",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],"[",["T_CONSTANT_ENCAPSED_STRING","'block'",28],"]",";",["T_WHITESPACE","\n\n  ",28],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",30],["T_WHITESPACE","\n  ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","setUp",33],"(",")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n    ",33],["T_STRING","parent",34],["T_DOUBLE_COLON","::",34],["T_STRING","setUp",34],"(",")",";",["T_WHITESPACE","\n\n    ",34],["T_COMMENT","\/\/ Create a user.\n",36],["T_WHITESPACE","    ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","editor",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","drupalCreateUser",37],"(","[",["T_WHITESPACE","\n      ",37],["T_CONSTANT_ENCAPSED_STRING","'administer nodes'",38],",",["T_WHITESPACE","\n      ",38],["T_CONSTANT_ENCAPSED_STRING","'edit any page content'",39],",",["T_WHITESPACE","\n      ",39],["T_CONSTANT_ENCAPSED_STRING","'view page revisions'",40],",",["T_WHITESPACE","\n      ",40],["T_CONSTANT_ENCAPSED_STRING","'bypass node access'",41],",",["T_WHITESPACE","\n      ",41],["T_CONSTANT_ENCAPSED_STRING","'access user profiles'",42],",",["T_WHITESPACE","\n    ",42],"]",")",";",["T_WHITESPACE","\n  ",43],"}",["T_WHITESPACE","\n\n  ",44],["T_DOC_COMMENT","\/**\n   * Checks that the Revision tab is displayed correctly.\n   *\/",46],["T_WHITESPACE","\n  ",48],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","testDisplayRevisionTab",49],"(",")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","drupalPlaceBlock",50],"(",["T_CONSTANT_ENCAPSED_STRING","'local_tasks_block'",50],")",";",["T_WHITESPACE","\n\n    ",50],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","drupalLogin",52],"(",["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","editor",52],")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$node_storage",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","container",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","get",53],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",53],")",["T_OBJECT_OPERATOR","->",53],["T_STRING","getStorage",53],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",53],")",";",["T_WHITESPACE","\n\n    ",53],["T_COMMENT","\/\/ Set page revision setting 'create new revision'. This will mean new\n",55],["T_WHITESPACE","    ",56],["T_COMMENT","\/\/ revisions are created by default when the node is edited.\n",56],["T_WHITESPACE","    ",57],["T_VARIABLE","$type",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","NodeType",57],["T_DOUBLE_COLON","::",57],["T_STRING","load",57],"(",["T_CONSTANT_ENCAPSED_STRING","'page'",57],")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$type",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","setNewRevision",58],"(",["T_STRING","TRUE",58],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$type",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","save",59],"(",")",";",["T_WHITESPACE","\n\n    ",59],["T_COMMENT","\/\/ Create the node.\n",61],["T_WHITESPACE","    ",62],["T_VARIABLE","$node",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","drupalCreateNode",62],"(",")",";",["T_WHITESPACE","\n\n    ",62],["T_COMMENT","\/\/ Verify the checkbox is checked on the node edit form.\n",64],["T_WHITESPACE","    ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","drupalGet",65],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",65],["T_WHITESPACE"," ",65],".",["T_WHITESPACE"," ",65],["T_VARIABLE","$node",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","id",65],"(",")",["T_WHITESPACE"," ",65],".",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",65],")",";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","assertFieldChecked",66],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-revision'",66],",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","\"'Create new revision' checkbox is checked\"",66],")",";",["T_WHITESPACE","\n\n    ",66],["T_COMMENT","\/\/ Uncheck the create new revision checkbox and save the node.\n",68],["T_WHITESPACE","    ",69],["T_VARIABLE","$edit",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_ARRAY","array",69],"(",["T_CONSTANT_ENCAPSED_STRING","'revision'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_STRING","FALSE",69],")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","drupalPostForm",70],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",70],["T_WHITESPACE"," ",70],".",["T_WHITESPACE"," ",70],["T_VARIABLE","$node",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","id",70],"(",")",["T_WHITESPACE"," ",70],".",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$edit",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'Save and keep published'",70],")",";",["T_WHITESPACE","\n\n    ",70],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertUrl",72],"(",["T_VARIABLE","$node",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","toUrl",72],"(",")",")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertNoLink",73],"(",["T_STRING","t",73],"(",["T_CONSTANT_ENCAPSED_STRING","'Revisions'",73],")",")",";",["T_WHITESPACE","\n\n    ",73],["T_COMMENT","\/\/ Verify the checkbox is checked on the node edit form.\n",75],["T_WHITESPACE","    ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","drupalGet",76],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",76],["T_WHITESPACE"," ",76],".",["T_WHITESPACE"," ",76],["T_VARIABLE","$node",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","id",76],"(",")",["T_WHITESPACE"," ",76],".",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",76],")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assertFieldChecked",77],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-revision'",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","\"'Create new revision' checkbox is checked\"",77],")",";",["T_WHITESPACE","\n\n    ",77],["T_COMMENT","\/\/ Submit the form without changing the checkbox.\n",79],["T_WHITESPACE","    ",80],["T_VARIABLE","$edit",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_ARRAY","array",80],"(",")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","drupalPostForm",81],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",81],["T_WHITESPACE"," ",81],".",["T_WHITESPACE"," ",81],["T_VARIABLE","$node",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","id",81],"(",")",["T_WHITESPACE"," ",81],".",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$edit",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'Save and keep published'",81],")",";",["T_WHITESPACE","\n\n    ",81],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertUrl",83],"(",["T_VARIABLE","$node",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","toUrl",83],"(",")",")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertLink",84],"(",["T_STRING","t",84],"(",["T_CONSTANT_ENCAPSED_STRING","'Revisions'",84],")",")",";",["T_WHITESPACE","\n  ",84],"}",["T_WHITESPACE","\n\n",85],"}",["T_WHITESPACE","\n",87]]