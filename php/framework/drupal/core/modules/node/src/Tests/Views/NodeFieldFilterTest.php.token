[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","node",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Views",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","language",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ConfigurableLanguage",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests node field filters with translations.\n *\n * @group node\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","NodeFieldFilterTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","NodeTestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",14],["T_WHITESPACE","\n  ",16],["T_PUBLIC","public",17],["T_WHITESPACE"," ",17],["T_STATIC","static",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$modules",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_ARRAY","array",17],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",17],")",";",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * Views used by this test.\n   *\n   * @var array\n   *\/",19],["T_WHITESPACE","\n  ",23],["T_PUBLIC","public",24],["T_WHITESPACE"," ",24],["T_STATIC","static",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$testViews",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_ARRAY","array",24],"(",["T_CONSTANT_ENCAPSED_STRING","'test_field_filters'",24],")",";",["T_WHITESPACE","\n\n  ",24],["T_DOC_COMMENT","\/**\n   * List of node titles by language.\n   *\n   * @var array\n   *\/",26],["T_WHITESPACE","\n  ",30],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$nodeTitles",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],"[","]",";",["T_WHITESPACE","\n\n  ",31],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","setUp",33],"(",")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n    ",33],["T_STRING","parent",34],["T_DOUBLE_COLON","::",34],["T_STRING","setUp",34],"(",")",";",["T_WHITESPACE","\n\n    ",34],["T_COMMENT","\/\/ Create Page content type.\n",36],["T_WHITESPACE","    ",37],["T_IF","if",37],["T_WHITESPACE"," ",37],"(",["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","profile",37],["T_WHITESPACE"," ",37],["T_IS_NOT_EQUAL","!=",37],["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'standard'",37],")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n      ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","drupalCreateContentType",38],"(",["T_ARRAY","array",38],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'page'",38],",",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'name'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'Basic page'",38],")",")",";",["T_WHITESPACE","\n    ",38],"}",["T_WHITESPACE","\n\n    ",39],["T_COMMENT","\/\/ Add two new languages.\n",41],["T_WHITESPACE","    ",42],["T_STRING","ConfigurableLanguage",42],["T_DOUBLE_COLON","::",42],["T_STRING","createFromLangcode",42],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",42],")",["T_OBJECT_OPERATOR","->",42],["T_STRING","save",42],"(",")",";",["T_WHITESPACE","\n    ",42],["T_STRING","ConfigurableLanguage",43],["T_DOUBLE_COLON","::",43],["T_STRING","createFromLangcode",43],"(",["T_CONSTANT_ENCAPSED_STRING","'es'",43],")",["T_OBJECT_OPERATOR","->",43],["T_STRING","save",43],"(",")",";",["T_WHITESPACE","\n\n    ",43],["T_COMMENT","\/\/ Set up node titles.\n",45],["T_WHITESPACE","    ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","nodeTitles",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_ARRAY","array",46],"(",["T_WHITESPACE","\n      ",46],["T_CONSTANT_ENCAPSED_STRING","'en'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'Food in Paris'",47],",",["T_WHITESPACE","\n      ",47],["T_CONSTANT_ENCAPSED_STRING","'es'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'Comida en Paris'",48],",",["T_WHITESPACE","\n      ",48],["T_CONSTANT_ENCAPSED_STRING","'fr'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'Nouriture en Paris'",49],",",["T_WHITESPACE","\n    ",49],")",";",["T_WHITESPACE","\n\n    ",50],["T_COMMENT","\/\/ Create node with translations.\n",52],["T_WHITESPACE","    ",53],["T_VARIABLE","$node",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","drupalCreateNode",53],"(","[",["T_CONSTANT_ENCAPSED_STRING","'title'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","nodeTitles",53],"[",["T_CONSTANT_ENCAPSED_STRING","'en'",53],"]",",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'langcode'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'en'",53],",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'type'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'page'",53],",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'body'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],"[","[",["T_CONSTANT_ENCAPSED_STRING","'value'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","nodeTitles",53],"[",["T_CONSTANT_ENCAPSED_STRING","'en'",53],"]","]","]","]",")",";",["T_WHITESPACE","\n    ",53],["T_FOREACH","foreach",54],["T_WHITESPACE"," ",54],"(",["T_ARRAY","array",54],"(",["T_CONSTANT_ENCAPSED_STRING","'es'",54],",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'fr'",54],")",["T_WHITESPACE"," ",54],["T_AS","as",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$langcode",54],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n      ",54],["T_VARIABLE","$translation",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$node",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","addTranslation",55],"(",["T_VARIABLE","$langcode",55],",",["T_WHITESPACE"," ",55],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","nodeTitles",55],"[",["T_VARIABLE","$langcode",55],"]","]",")",";",["T_WHITESPACE","\n      ",55],["T_VARIABLE","$translation",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","body",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","value",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","nodeTitles",56],"[",["T_VARIABLE","$langcode",56],"]",";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$node",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","save",58],"(",")",";",["T_WHITESPACE","\n  ",58],"}",["T_WHITESPACE","\n\n  ",59],["T_DOC_COMMENT","\/**\n   * Tests body and title filters.\n   *\/",61],["T_WHITESPACE","\n  ",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","testFilters",64],"(",")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n    ",64],["T_COMMENT","\/\/ Test the title filter page, which filters for title contains 'Comida'.\n",65],["T_WHITESPACE","    ",66],["T_COMMENT","\/\/ Should show just the Spanish translation, once.\n",66],["T_WHITESPACE","    ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","assertPageCounts",67],"(",["T_CONSTANT_ENCAPSED_STRING","'test-title-filter'",67],",",["T_WHITESPACE"," ",67],["T_ARRAY","array",67],"(",["T_CONSTANT_ENCAPSED_STRING","'es'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_LNUMBER","1",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'fr'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_LNUMBER","0",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'en'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_LNUMBER","0",67],")",",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'Comida title filter'",67],")",";",["T_WHITESPACE","\n\n    ",67],["T_COMMENT","\/\/ Test the body filter page, which filters for body contains 'Comida'.\n",69],["T_WHITESPACE","    ",70],["T_COMMENT","\/\/ Should show just the Spanish translation, once.\n",70],["T_WHITESPACE","    ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertPageCounts",71],"(",["T_CONSTANT_ENCAPSED_STRING","'test-body-filter'",71],",",["T_WHITESPACE"," ",71],["T_ARRAY","array",71],"(",["T_CONSTANT_ENCAPSED_STRING","'es'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_LNUMBER","1",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'fr'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_LNUMBER","0",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'en'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_LNUMBER","0",71],")",",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'Comida body filter'",71],")",";",["T_WHITESPACE","\n\n    ",71],["T_COMMENT","\/\/ Test the title Paris filter page, which filters for title contains\n",73],["T_WHITESPACE","    ",74],["T_COMMENT","\/\/ 'Paris'. Should show each translation once.\n",74],["T_WHITESPACE","    ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertPageCounts",75],"(",["T_CONSTANT_ENCAPSED_STRING","'test-title-paris'",75],",",["T_WHITESPACE"," ",75],["T_ARRAY","array",75],"(",["T_CONSTANT_ENCAPSED_STRING","'es'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_LNUMBER","1",75],",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'fr'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_LNUMBER","1",75],",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'en'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_LNUMBER","1",75],")",",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'Paris title filter'",75],")",";",["T_WHITESPACE","\n\n    ",75],["T_COMMENT","\/\/ Test the body Paris filter page, which filters for body contains\n",77],["T_WHITESPACE","    ",78],["T_COMMENT","\/\/ 'Paris'. Should show each translation once.\n",78],["T_WHITESPACE","    ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","assertPageCounts",79],"(",["T_CONSTANT_ENCAPSED_STRING","'test-body-paris'",79],",",["T_WHITESPACE"," ",79],["T_ARRAY","array",79],"(",["T_CONSTANT_ENCAPSED_STRING","'es'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_LNUMBER","1",79],",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'fr'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_LNUMBER","1",79],",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'en'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_LNUMBER","1",79],")",",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'Paris body filter'",79],")",";",["T_WHITESPACE","\n  ",79],"}",["T_WHITESPACE","\n\n  ",80],["T_DOC_COMMENT","\/**\n   * Asserts that the given node translation counts are correct.\n   *\n   * @param string $path\n   *   Path of the page to test.\n   * @param array $counts\n   *   Array whose keys are languages, and values are the number of times\n   *   that translation should be shown on the given page.\n   * @param string $message\n   *   Message suffix to display.\n   *\/",82],["T_WHITESPACE","\n  ",92],["T_PROTECTED","protected",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","assertPageCounts",93],"(",["T_VARIABLE","$path",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$counts",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$message",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n    ",93],["T_COMMENT","\/\/ Disable read more links.\n",94],["T_WHITESPACE","    ",95],["T_STRING","entity_get_display",95],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",95],",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'page'",95],",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'teaser'",95],")",["T_OBJECT_OPERATOR","->",95],["T_STRING","removeComponent",95],"(",["T_CONSTANT_ENCAPSED_STRING","'links'",95],")",["T_OBJECT_OPERATOR","->",95],["T_STRING","save",95],"(",")",";",["T_WHITESPACE","\n\n    ",95],["T_COMMENT","\/\/ Get the text of the page.\n",97],["T_WHITESPACE","    ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","drupalGet",98],"(",["T_VARIABLE","$path",98],")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$text",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getTextContent",99],"(",")",";",["T_WHITESPACE","\n\n    ",99],["T_COMMENT","\/\/ Check the counts. Note that the title and body are both shown on the\n",101],["T_WHITESPACE","    ",102],["T_COMMENT","\/\/ page, and they are the same. So the title\/body string should appear on\n",102],["T_WHITESPACE","    ",103],["T_COMMENT","\/\/ the page twice as many times as the input count.\n",103],["T_WHITESPACE","    ",104],["T_FOREACH","foreach",104],["T_WHITESPACE"," ",104],"(",["T_VARIABLE","$counts",104],["T_WHITESPACE"," ",104],["T_AS","as",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$langcode",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$count",104],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n      ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertEqual",105],"(",["T_STRING","substr_count",105],"(",["T_VARIABLE","$text",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","nodeTitles",105],"[",["T_VARIABLE","$langcode",105],"]",")",",",["T_WHITESPACE"," ",105],["T_LNUMBER","2",105],["T_WHITESPACE"," ",105],"*",["T_WHITESPACE"," ",105],["T_VARIABLE","$count",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'Translation '",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_VARIABLE","$langcode",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","' has count '",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_VARIABLE","$count",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","' with '",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_VARIABLE","$message",105],")",";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n  ",106],"}",["T_WHITESPACE","\n\n",107],"}",["T_WHITESPACE","\n",109]]