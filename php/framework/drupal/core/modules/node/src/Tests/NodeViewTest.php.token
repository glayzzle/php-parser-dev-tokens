[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","node",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Html",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests the node\/{node} page.\n *\n * @group node\n * @see \\Drupal\\node\\Controller\\NodeController\n *\/",7],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","NodeViewTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","NodeTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * Tests the html head links.\n   *\/",15],["T_WHITESPACE","\n  ",17],["T_PUBLIC","public",18],["T_WHITESPACE"," ",18],["T_FUNCTION","function",18],["T_WHITESPACE"," ",18],["T_STRING","testHtmlHeadLinks",18],"(",")",["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n    ",18],["T_VARIABLE","$node",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","drupalCreateNode",19],"(",")",";",["T_WHITESPACE","\n\n    ",19],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","drupalGet",21],"(",["T_VARIABLE","$node",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","urlInfo",21],"(",")",")",";",["T_WHITESPACE","\n\n    ",21],["T_VARIABLE","$result",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","xpath",23],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/link[@rel = \"canonical\"]'",23],")",";",["T_WHITESPACE","\n    ",23],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","assertEqual",24],"(",["T_VARIABLE","$result",24],"[",["T_LNUMBER","0",24],"]","[",["T_CONSTANT_ENCAPSED_STRING","'href'",24],"]",",",["T_WHITESPACE"," ",24],["T_VARIABLE","$node",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","url",24],"(",")",")",";",["T_WHITESPACE","\n\n    ",24],["T_COMMENT","\/\/ Link relations are checked for access for anonymous users.\n",26],["T_WHITESPACE","    ",27],["T_VARIABLE","$result",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","xpath",27],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/link[@rel = \"version-history\"]'",27],")",";",["T_WHITESPACE","\n    ",27],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","assertFalse",28],"(",["T_VARIABLE","$result",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'Version history not present for anonymous users without access.'",28],")",";",["T_WHITESPACE","\n\n    ",28],["T_VARIABLE","$result",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","xpath",30],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/link[@rel = \"edit-form\"]'",30],")",";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","assertFalse",31],"(",["T_VARIABLE","$result",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'Edit form not present for anonymous users without access.'",31],")",";",["T_WHITESPACE","\n\n    ",31],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","drupalLogin",33],"(",["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","createUser",33],"(","[",["T_CONSTANT_ENCAPSED_STRING","'access content'",33],"]",")",")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","drupalGet",34],"(",["T_VARIABLE","$node",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","urlInfo",34],"(",")",")",";",["T_WHITESPACE","\n\n    ",34],["T_VARIABLE","$result",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","xpath",36],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/link[@rel = \"canonical\"]'",36],")",";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","assertEqual",37],"(",["T_VARIABLE","$result",37],"[",["T_LNUMBER","0",37],"]","[",["T_CONSTANT_ENCAPSED_STRING","'href'",37],"]",",",["T_WHITESPACE"," ",37],["T_VARIABLE","$node",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","url",37],"(",")",")",";",["T_WHITESPACE","\n\n    ",37],["T_COMMENT","\/\/ Link relations are present regardless of access for authenticated users.\n",39],["T_WHITESPACE","    ",40],["T_VARIABLE","$result",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","xpath",40],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/link[@rel = \"version-history\"]'",40],")",";",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","assertEqual",41],"(",["T_VARIABLE","$result",41],"[",["T_LNUMBER","0",41],"]","[",["T_CONSTANT_ENCAPSED_STRING","'href'",41],"]",",",["T_WHITESPACE"," ",41],["T_VARIABLE","$node",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","url",41],"(",["T_CONSTANT_ENCAPSED_STRING","'version-history'",41],")",")",";",["T_WHITESPACE","\n\n    ",41],["T_VARIABLE","$result",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","xpath",43],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/link[@rel = \"edit-form\"]'",43],")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","assertEqual",44],"(",["T_VARIABLE","$result",44],"[",["T_LNUMBER","0",44],"]","[",["T_CONSTANT_ENCAPSED_STRING","'href'",44],"]",",",["T_WHITESPACE"," ",44],["T_VARIABLE","$node",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","url",44],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-form'",44],")",")",";",["T_WHITESPACE","\n\n    ",44],["T_COMMENT","\/\/ Give anonymous users access to edit the node. Do this through the UI to\n",46],["T_WHITESPACE","    ",47],["T_COMMENT","\/\/ ensure caches are handled properly.\n",47],["T_WHITESPACE","    ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","drupalLogin",48],"(",["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","rootUser",48],")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$edit",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],"[",["T_WHITESPACE","\n      ",49],["T_CONSTANT_ENCAPSED_STRING","'anonymous[edit own '",50],["T_WHITESPACE"," ",50],".",["T_WHITESPACE"," ",50],["T_VARIABLE","$node",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","bundle",50],"(",")",["T_WHITESPACE"," ",50],".",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","' content]'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_STRING","TRUE",50],["T_WHITESPACE","\n    ",50],"]",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","drupalPostForm",52],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/people\/permissions'",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$edit",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'Save permissions'",52],")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","drupalLogout",53],"(",")",";",["T_WHITESPACE","\n\n    ",53],["T_COMMENT","\/\/ Anonymous user's should now see the edit-form link but not the\n",55],["T_WHITESPACE","    ",56],["T_COMMENT","\/\/ version-history link.\n",56],["T_WHITESPACE","    ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","drupalGet",57],"(",["T_VARIABLE","$node",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","urlInfo",57],"(",")",")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$result",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","xpath",58],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/link[@rel = \"canonical\"]'",58],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","assertEqual",59],"(",["T_VARIABLE","$result",59],"[",["T_LNUMBER","0",59],"]","[",["T_CONSTANT_ENCAPSED_STRING","'href'",59],"]",",",["T_WHITESPACE"," ",59],["T_VARIABLE","$node",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","url",59],"(",")",")",";",["T_WHITESPACE","\n\n    ",59],["T_VARIABLE","$result",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","xpath",61],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/link[@rel = \"version-history\"]'",61],")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertFalse",62],"(",["T_VARIABLE","$result",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'Version history not present for anonymous users without access.'",62],")",";",["T_WHITESPACE","\n\n    ",62],["T_VARIABLE","$result",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","xpath",64],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/link[@rel = \"edit-form\"]'",64],")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","assertEqual",65],"(",["T_VARIABLE","$result",65],"[",["T_LNUMBER","0",65],"]","[",["T_CONSTANT_ENCAPSED_STRING","'href'",65],"]",",",["T_WHITESPACE"," ",65],["T_VARIABLE","$node",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","url",65],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-form'",65],")",")",";",["T_WHITESPACE","\n  ",65],"}",["T_WHITESPACE","\n\n  ",66],["T_DOC_COMMENT","\/**\n   * Tests the Link header.\n   *\/",68],["T_WHITESPACE","\n  ",70],["T_PUBLIC","public",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","testLinkHeader",71],"(",")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$node",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","drupalCreateNode",72],"(",")",";",["T_WHITESPACE","\n\n    ",72],["T_VARIABLE","$expected",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],"[",["T_WHITESPACE","\n      ",74],["T_CONSTANT_ENCAPSED_STRING","'<'",75],["T_WHITESPACE"," ",75],".",["T_WHITESPACE"," ",75],["T_STRING","Html",75],["T_DOUBLE_COLON","::",75],["T_STRING","escape",75],"(",["T_VARIABLE","$node",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","url",75],"(",["T_CONSTANT_ENCAPSED_STRING","'canonical'",75],")",")",["T_WHITESPACE"," ",75],".",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'>; rel=\"canonical\"'",75],",",["T_WHITESPACE","\n      ",75],["T_CONSTANT_ENCAPSED_STRING","'<'",76],["T_WHITESPACE"," ",76],".",["T_WHITESPACE"," ",76],["T_STRING","Html",76],["T_DOUBLE_COLON","::",76],["T_STRING","escape",76],"(",["T_VARIABLE","$node",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","url",76],"(",["T_CONSTANT_ENCAPSED_STRING","'canonical'",76],")",",",["T_WHITESPACE"," ",76],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_STRING","TRUE",76],"]",")",["T_WHITESPACE"," ",76],".",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'>; rel=\"shortlink\"'",76],",",["T_WHITESPACE","\n      ",76],["T_CONSTANT_ENCAPSED_STRING","'<'",77],["T_WHITESPACE"," ",77],".",["T_WHITESPACE"," ",77],["T_STRING","Html",77],["T_DOUBLE_COLON","::",77],["T_STRING","escape",77],"(",["T_VARIABLE","$node",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","url",77],"(",["T_CONSTANT_ENCAPSED_STRING","'revision'",77],")",")",["T_WHITESPACE"," ",77],".",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'>; rel=\"revision\"'",77],",",["T_WHITESPACE","\n    ",77],"]",";",["T_WHITESPACE","\n\n    ",78],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","drupalGet",80],"(",["T_VARIABLE","$node",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","urlInfo",80],"(",")",")",";",["T_WHITESPACE","\n\n    ",80],["T_VARIABLE","$links",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","explode",82],"(",["T_CONSTANT_ENCAPSED_STRING","','",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","drupalGetHeader",82],"(",["T_CONSTANT_ENCAPSED_STRING","'Link'",82],")",")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertEqual",83],"(",["T_VARIABLE","$links",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$expected",83],")",";",["T_WHITESPACE","\n  ",83],"}",["T_WHITESPACE","\n\n  ",84],["T_DOC_COMMENT","\/**\n   * Tests that we store and retrieve multi-byte UTF-8 characters correctly.\n   *\/",86],["T_WHITESPACE","\n  ",88],["T_PUBLIC","public",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","testMultiByteUtf8",89],"(",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$title",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'\u00f0\u009f\u0090\u009d'",90],";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","assertTrue",91],"(",["T_STRING","mb_strlen",91],"(",["T_VARIABLE","$title",91],",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'utf-8'",91],")",["T_WHITESPACE"," ",91],"<",["T_WHITESPACE"," ",91],["T_STRING","strlen",91],"(",["T_VARIABLE","$title",91],")",",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'Title has multi-byte characters.'",91],")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$node",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","drupalCreateNode",92],"(",["T_ARRAY","array",92],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$title",92],")",")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","drupalGet",93],"(",["T_VARIABLE","$node",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","urlInfo",93],"(",")",")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$result",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","xpath",94],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/span[contains(@class, \"field--name-title\")]'",94],")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertEqual",95],"(",["T_STRING_CAST","(string)",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$result",95],"[",["T_LNUMBER","0",95],"]",",",["T_WHITESPACE"," ",95],["T_VARIABLE","$title",95],",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'The passed title was returned.'",95],")",";",["T_WHITESPACE","\n  ",95],"}",["T_WHITESPACE","\n\n",96],"}",["T_WHITESPACE","\n",98]]