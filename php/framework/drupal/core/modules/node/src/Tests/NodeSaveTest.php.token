[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","node",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","node",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Node",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests $node->save() for saving content.\n *\n * @group node\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","NodeSaveTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","NodeTestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * A normal logged in user.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",14],["T_WHITESPACE","\n  ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$webUser",19],";",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",21],["T_WHITESPACE","\n  ",25],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_STATIC","static",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$modules",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_ARRAY","array",26],"(",["T_CONSTANT_ENCAPSED_STRING","'node_test'",26],")",";",["T_WHITESPACE","\n\n  ",26],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","setUp",28],"(",")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n    ",28],["T_STRING","parent",29],["T_DOUBLE_COLON","::",29],["T_STRING","setUp",29],"(",")",";",["T_WHITESPACE","\n\n    ",29],["T_COMMENT","\/\/ Create a user that is allowed to post; we'll use this to test the submission.\n",31],["T_WHITESPACE","    ",32],["T_VARIABLE","$web_user",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","drupalCreateUser",32],"(",["T_ARRAY","array",32],"(",["T_CONSTANT_ENCAPSED_STRING","'create article content'",32],")",")",";",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","drupalLogin",33],"(",["T_VARIABLE","$web_user",33],")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","webUser",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$web_user",34],";",["T_WHITESPACE","\n  ",34],"}",["T_WHITESPACE","\n\n  ",35],["T_DOC_COMMENT","\/**\n   * Checks whether custom node IDs are saved properly during an import operation.\n   *\n   * Workflow:\n   *  - first create a piece of content\n   *  - save the content\n   *  - check if node exists\n   *\/",37],["T_WHITESPACE","\n  ",44],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","testImport",45],"(",")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n    ",45],["T_COMMENT","\/\/ Node ID must be a number that is not in the database.\n",46],["T_WHITESPACE","    ",47],["T_VARIABLE","$nids",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Drupal",47],["T_DOUBLE_COLON","::",47],["T_STRING","entityManager",47],"(",")",["T_OBJECT_OPERATOR","->",47],["T_STRING","getStorage",47],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",47],")",["T_OBJECT_OPERATOR","->",47],["T_STRING","getQuery",47],"(",")",["T_WHITESPACE","\n      ",47],["T_OBJECT_OPERATOR","->",48],["T_STRING","sort",48],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",48],",",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'DESC'",48],")",["T_WHITESPACE","\n      ",48],["T_OBJECT_OPERATOR","->",49],["T_STRING","range",49],"(",["T_LNUMBER","0",49],",",["T_WHITESPACE"," ",49],["T_LNUMBER","1",49],")",["T_WHITESPACE","\n      ",49],["T_OBJECT_OPERATOR","->",50],["T_STRING","execute",50],"(",")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$max_nid",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_STRING","reset",51],"(",["T_VARIABLE","$nids",51],")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$test_nid",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$max_nid",52],["T_WHITESPACE"," ",52],"+",["T_WHITESPACE"," ",52],["T_STRING","mt_rand",52],"(",["T_LNUMBER","1000",52],",",["T_WHITESPACE"," ",52],["T_LNUMBER","1000000",52],")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$title",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","randomMachineName",53],"(",["T_LNUMBER","8",53],")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$node",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_ARRAY","array",54],"(",["T_WHITESPACE","\n      ",54],["T_CONSTANT_ENCAPSED_STRING","'title'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$title",55],",",["T_WHITESPACE","\n      ",55],["T_CONSTANT_ENCAPSED_STRING","'body'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_ARRAY","array",56],"(",["T_ARRAY","array",56],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","randomMachineName",56],"(",["T_LNUMBER","32",56],")",")",")",",",["T_WHITESPACE","\n      ",56],["T_CONSTANT_ENCAPSED_STRING","'uid'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","webUser",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","id",57],"(",")",",",["T_WHITESPACE","\n      ",57],["T_CONSTANT_ENCAPSED_STRING","'type'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'article'",58],",",["T_WHITESPACE","\n      ",58],["T_CONSTANT_ENCAPSED_STRING","'nid'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$test_nid",59],",",["T_WHITESPACE","\n    ",59],")",";",["T_WHITESPACE","\n    ",60],["T_DOC_COMMENT","\/** @var \\Drupal\\node\\NodeInterface $node *\/",61],["T_WHITESPACE","\n    ",61],["T_VARIABLE","$node",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_STRING","Node",62],["T_DOUBLE_COLON","::",62],["T_STRING","create",62],"(",["T_VARIABLE","$node",62],")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$node",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","enforceIsNew",63],"(",")",";",["T_WHITESPACE","\n\n    ",63],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","assertEqual",65],"(",["T_VARIABLE","$node",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getOwnerId",65],"(",")",",",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","webUser",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","id",65],"(",")",")",";",["T_WHITESPACE","\n\n    ",65],["T_VARIABLE","$node",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","save",67],"(",")",";",["T_WHITESPACE","\n    ",67],["T_COMMENT","\/\/ Test the import.\n",68],["T_WHITESPACE","    ",69],["T_VARIABLE","$node_by_nid",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","Node",69],["T_DOUBLE_COLON","::",69],["T_STRING","load",69],"(",["T_VARIABLE","$test_nid",69],")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertTrue",70],"(",["T_VARIABLE","$node_by_nid",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'Node load by node ID.'",70],")",";",["T_WHITESPACE","\n\n    ",70],["T_VARIABLE","$node_by_title",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","drupalGetNodeByTitle",72],"(",["T_VARIABLE","$title",72],")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertTrue",73],"(",["T_VARIABLE","$node_by_title",73],",",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'Node load by node title.'",73],")",";",["T_WHITESPACE","\n  ",73],"}",["T_WHITESPACE","\n\n  ",74],["T_DOC_COMMENT","\/**\n   * Verifies accuracy of the \"created\" and \"changed\" timestamp functionality.\n   *\/",76],["T_WHITESPACE","\n  ",78],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","testTimestamps",79],"(",")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n    ",79],["T_COMMENT","\/\/ Use the default timestamps.\n",80],["T_WHITESPACE","    ",81],["T_VARIABLE","$edit",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_ARRAY","array",81],"(",["T_WHITESPACE","\n      ",81],["T_CONSTANT_ENCAPSED_STRING","'uid'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","webUser",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","id",82],"(",")",",",["T_WHITESPACE","\n      ",82],["T_CONSTANT_ENCAPSED_STRING","'type'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'article'",83],",",["T_WHITESPACE","\n      ",83],["T_CONSTANT_ENCAPSED_STRING","'title'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","randomMachineName",84],"(",["T_LNUMBER","8",84],")",",",["T_WHITESPACE","\n    ",84],")",";",["T_WHITESPACE","\n\n    ",85],["T_STRING","Node",87],["T_DOUBLE_COLON","::",87],["T_STRING","create",87],"(",["T_VARIABLE","$edit",87],")",["T_OBJECT_OPERATOR","->",87],["T_STRING","save",87],"(",")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$node",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","drupalGetNodeByTitle",88],"(",["T_VARIABLE","$edit",88],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",88],"]",")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertEqual",89],"(",["T_VARIABLE","$node",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getCreatedTime",89],"(",")",",",["T_WHITESPACE"," ",89],["T_STRING","REQUEST_TIME",89],",",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'Creating a node sets default \"created\" timestamp.'",89],")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertEqual",90],"(",["T_VARIABLE","$node",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getChangedTime",90],"(",")",",",["T_WHITESPACE"," ",90],["T_STRING","REQUEST_TIME",90],",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'Creating a node sets default \"changed\" timestamp.'",90],")",";",["T_WHITESPACE","\n\n    ",90],["T_COMMENT","\/\/ Store the timestamps.\n",92],["T_WHITESPACE","    ",93],["T_VARIABLE","$created",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$node",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getCreatedTime",93],"(",")",";",["T_WHITESPACE","\n\n    ",93],["T_VARIABLE","$node",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","save",95],"(",")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$node",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","drupalGetNodeByTitle",96],"(",["T_VARIABLE","$edit",96],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",96],"]",",",["T_WHITESPACE"," ",96],["T_STRING","TRUE",96],")",";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","assertEqual",97],"(",["T_VARIABLE","$node",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getCreatedTime",97],"(",")",",",["T_WHITESPACE"," ",97],["T_VARIABLE","$created",97],",",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'Updating a node preserves \"created\" timestamp.'",97],")",";",["T_WHITESPACE","\n\n    ",97],["T_COMMENT","\/\/ Programmatically set the timestamps using hook_ENTITY_TYPE_presave().\n",99],["T_WHITESPACE","    ",100],["T_VARIABLE","$node",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","title",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'testing_node_presave'",100],";",["T_WHITESPACE","\n\n    ",100],["T_VARIABLE","$node",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","save",102],"(",")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$node",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","drupalGetNodeByTitle",103],"(",["T_CONSTANT_ENCAPSED_STRING","'testing_node_presave'",103],",",["T_WHITESPACE"," ",103],["T_STRING","TRUE",103],")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","assertEqual",104],"(",["T_VARIABLE","$node",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getCreatedTime",104],"(",")",",",["T_WHITESPACE"," ",104],["T_LNUMBER","280299600",104],",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'Saving a node uses \"created\" timestamp set in presave hook.'",104],")",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertEqual",105],"(",["T_VARIABLE","$node",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getChangedTime",105],"(",")",",",["T_WHITESPACE"," ",105],["T_LNUMBER","979534800",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'Saving a node uses \"changed\" timestamp set in presave hook.'",105],")",";",["T_WHITESPACE","\n\n    ",105],["T_COMMENT","\/\/ Programmatically set the timestamps on the node.\n",107],["T_WHITESPACE","    ",108],["T_VARIABLE","$edit",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_ARRAY","array",108],"(",["T_WHITESPACE","\n      ",108],["T_CONSTANT_ENCAPSED_STRING","'uid'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","webUser",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","id",109],"(",")",",",["T_WHITESPACE","\n      ",109],["T_CONSTANT_ENCAPSED_STRING","'type'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'article'",110],",",["T_WHITESPACE","\n      ",110],["T_CONSTANT_ENCAPSED_STRING","'title'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","randomMachineName",111],"(",["T_LNUMBER","8",111],")",",",["T_WHITESPACE","\n      ",111],["T_CONSTANT_ENCAPSED_STRING","'created'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_LNUMBER","280299600",112],",",["T_WHITESPACE"," ",112],["T_COMMENT","\/\/ Sun, 19 Nov 1978 05:00:00 GMT\n",112],["T_WHITESPACE","      ",113],["T_CONSTANT_ENCAPSED_STRING","'changed'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_LNUMBER","979534800",113],",",["T_WHITESPACE"," ",113],["T_COMMENT","\/\/ Drupal 1.0 release.\n",113],["T_WHITESPACE","    ",114],")",";",["T_WHITESPACE","\n\n    ",114],["T_STRING","Node",116],["T_DOUBLE_COLON","::",116],["T_STRING","create",116],"(",["T_VARIABLE","$edit",116],")",["T_OBJECT_OPERATOR","->",116],["T_STRING","save",116],"(",")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$node",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","drupalGetNodeByTitle",117],"(",["T_VARIABLE","$edit",117],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",117],"]",")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","assertEqual",118],"(",["T_VARIABLE","$node",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getCreatedTime",118],"(",")",",",["T_WHITESPACE"," ",118],["T_LNUMBER","280299600",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'Creating a node programmatically uses programmatically set \"created\" timestamp.'",118],")",";",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertEqual",119],"(",["T_VARIABLE","$node",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getChangedTime",119],"(",")",",",["T_WHITESPACE"," ",119],["T_LNUMBER","979534800",119],",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'Creating a node programmatically uses programmatically set \"changed\" timestamp.'",119],")",";",["T_WHITESPACE","\n\n    ",119],["T_COMMENT","\/\/ Update the timestamps.\n",121],["T_WHITESPACE","    ",122],["T_VARIABLE","$node",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","setCreatedTime",122],"(",["T_LNUMBER","979534800",122],")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$node",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","changed",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_LNUMBER","280299600",123],";",["T_WHITESPACE","\n\n    ",123],["T_VARIABLE","$node",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","save",125],"(",")",";",["T_WHITESPACE","\n    ",125],["T_VARIABLE","$node",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","drupalGetNodeByTitle",126],"(",["T_VARIABLE","$edit",126],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",126],"]",",",["T_WHITESPACE"," ",126],["T_STRING","TRUE",126],")",";",["T_WHITESPACE","\n    ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","assertEqual",127],"(",["T_VARIABLE","$node",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getCreatedTime",127],"(",")",",",["T_WHITESPACE"," ",127],["T_LNUMBER","979534800",127],",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'Updating a node uses user-set \"created\" timestamp.'",127],")",";",["T_WHITESPACE","\n    ",127],["T_COMMENT","\/\/ Allowing setting changed timestamps is required, see\n",128],["T_WHITESPACE","    ",129],["T_COMMENT","\/\/ Drupal\\content_translation\\ContentTranslationMetadataWrapper::setChangedTime($timestamp)\n",129],["T_WHITESPACE","    ",130],["T_COMMENT","\/\/ for example.\n",130],["T_WHITESPACE","    ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","assertEqual",131],"(",["T_VARIABLE","$node",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getChangedTime",131],"(",")",",",["T_WHITESPACE"," ",131],["T_LNUMBER","280299600",131],",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'Updating a node uses user-set \"changed\" timestamp.'",131],")",";",["T_WHITESPACE","\n  ",131],"}",["T_WHITESPACE","\n\n  ",132],["T_DOC_COMMENT","\/**\n   * Tests node presave and static node load cache.\n   *\n   * This test determines changes in hook_ENTITY_TYPE_presave() and verifies\n   * that the static node load cache is cleared upon save.\n   *\/",134],["T_WHITESPACE","\n  ",139],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","testDeterminingChanges",140],"(",")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n    ",140],["T_COMMENT","\/\/ Initial creation.\n",141],["T_WHITESPACE","    ",142],["T_VARIABLE","$node",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_STRING","Node",142],["T_DOUBLE_COLON","::",142],["T_STRING","create",142],"(","[",["T_WHITESPACE","\n      ",142],["T_CONSTANT_ENCAPSED_STRING","'uid'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","webUser",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","id",143],"(",")",",",["T_WHITESPACE","\n      ",143],["T_CONSTANT_ENCAPSED_STRING","'type'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'article'",144],",",["T_WHITESPACE","\n      ",144],["T_CONSTANT_ENCAPSED_STRING","'title'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'test_changes'",145],",",["T_WHITESPACE","\n    ",145],"]",")",";",["T_WHITESPACE","\n    ",146],["T_VARIABLE","$node",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","save",147],"(",")",";",["T_WHITESPACE","\n\n    ",147],["T_COMMENT","\/\/ Update the node without applying changes.\n",149],["T_WHITESPACE","    ",150],["T_VARIABLE","$node",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","save",150],"(",")",";",["T_WHITESPACE","\n    ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","assertEqual",151],"(",["T_VARIABLE","$node",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","label",151],"(",")",",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'test_changes'",151],",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'No changes have been determined.'",151],")",";",["T_WHITESPACE","\n\n    ",151],["T_COMMENT","\/\/ Apply changes.\n",153],["T_WHITESPACE","    ",154],["T_VARIABLE","$node",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","title",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'updated'",154],";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$node",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","save",155],"(",")",";",["T_WHITESPACE","\n\n    ",155],["T_COMMENT","\/\/ The hook implementations node_test_node_presave() and\n",157],["T_WHITESPACE","    ",158],["T_COMMENT","\/\/ node_test_node_update() determine changes and change the title.\n",158],["T_WHITESPACE","    ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","assertEqual",159],"(",["T_VARIABLE","$node",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","label",159],"(",")",",",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'updated_presave_update'",159],",",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'Changes have been determined.'",159],")",";",["T_WHITESPACE","\n\n    ",159],["T_COMMENT","\/\/ Test the static node load cache to be cleared.\n",161],["T_WHITESPACE","    ",162],["T_VARIABLE","$node",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_STRING","Node",162],["T_DOUBLE_COLON","::",162],["T_STRING","load",162],"(",["T_VARIABLE","$node",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","id",162],"(",")",")",";",["T_WHITESPACE","\n    ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","assertEqual",163],"(",["T_VARIABLE","$node",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","label",163],"(",")",",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'updated_presave'",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'Static cache has been cleared.'",163],")",";",["T_WHITESPACE","\n  ",163],"}",["T_WHITESPACE","\n\n  ",164],["T_DOC_COMMENT","\/**\n   * Tests saving a node on node insert.\n   *\n   * This test ensures that a node has been fully saved when\n   * hook_ENTITY_TYPE_insert() is invoked, so that the node can be saved again\n   * in a hook implementation without errors.\n   *\n   * @see node_test_node_insert()\n   *\/",166],["T_WHITESPACE","\n  ",174],["T_FUNCTION","function",175],["T_WHITESPACE"," ",175],["T_STRING","testNodeSaveOnInsert",175],"(",")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n    ",175],["T_COMMENT","\/\/ node_test_node_insert() triggers a save on insert if the title equals\n",176],["T_WHITESPACE","    ",177],["T_COMMENT","\/\/ 'new'.\n",177],["T_WHITESPACE","    ",178],["T_VARIABLE","$node",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","drupalCreateNode",178],"(",["T_ARRAY","array",178],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'new'",178],")",")",";",["T_WHITESPACE","\n    ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","assertEqual",179],"(",["T_VARIABLE","$node",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getTitle",179],"(",")",",",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'Node '",179],["T_WHITESPACE"," ",179],".",["T_WHITESPACE"," ",179],["T_VARIABLE","$node",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","id",179],"(",")",",",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'Node saved on node insert.'",179],")",";",["T_WHITESPACE","\n  ",179],"}",["T_WHITESPACE","\n\n",180],"}",["T_WHITESPACE","\n",182]]