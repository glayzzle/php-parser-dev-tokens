[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","node",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Language",5],["T_NS_SEPARATOR","\\",5],["T_STRING","LanguageInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","field",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FieldConfig",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","language",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","ConfigurableLanguage",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","user",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","User",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","field",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","FieldStorageConfig",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Tests node_access and db_select() with node_access tag functionality with\n * multiple languages with node_access_test_language which is language-aware.\n *\n * @group node\n *\/",11],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","NodeAccessLanguageAwareTest",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_STRING","NodeTestBase",17],["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * Enable language and a language-aware node access module.\n   *\n   * @var array\n   *\/",19],["T_WHITESPACE","\n  ",23],["T_PUBLIC","public",24],["T_WHITESPACE"," ",24],["T_STATIC","static",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$modules",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_ARRAY","array",24],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",24],",",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'node_access_test_language'",24],")",";",["T_WHITESPACE","\n\n  ",24],["T_DOC_COMMENT","\/**\n   * A set of nodes to use in testing.\n   *\n   * @var \\Drupal\\node\\NodeInterface[]\n   *\/",26],["T_WHITESPACE","\n  ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$nodes",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_ARRAY","array",31],"(",")",";",["T_WHITESPACE","\n\n  ",31],["T_DOC_COMMENT","\/**\n   * A user with permission to bypass access content.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",33],["T_WHITESPACE","\n  ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$adminUser",38],";",["T_WHITESPACE","\n\n  ",38],["T_DOC_COMMENT","\/**\n   * A normal authenticated user.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",40],["T_WHITESPACE","\n  ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$webUser",45],";",["T_WHITESPACE","\n\n  ",45],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","setUp",47],"(",")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n    ",47],["T_STRING","parent",48],["T_DOUBLE_COLON","::",48],["T_STRING","setUp",48],"(",")",";",["T_WHITESPACE","\n\n    ",48],["T_COMMENT","\/\/ Create the 'private' field, which allows the node to be marked as private\n",50],["T_WHITESPACE","    ",51],["T_COMMENT","\/\/ (restricted access) in a given translation.\n",51],["T_WHITESPACE","    ",52],["T_VARIABLE","$field_storage",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_STRING","FieldStorageConfig",52],["T_DOUBLE_COLON","::",52],["T_STRING","create",52],"(",["T_ARRAY","array",52],"(",["T_WHITESPACE","\n      ",52],["T_CONSTANT_ENCAPSED_STRING","'field_name'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'field_private'",53],",",["T_WHITESPACE","\n      ",53],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'node'",54],",",["T_WHITESPACE","\n      ",54],["T_CONSTANT_ENCAPSED_STRING","'type'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'boolean'",55],",",["T_WHITESPACE","\n      ",55],["T_CONSTANT_ENCAPSED_STRING","'cardinality'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_LNUMBER","1",56],",",["T_WHITESPACE","\n    ",56],")",")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$field_storage",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","save",58],"(",")",";",["T_WHITESPACE","\n\n    ",58],["T_STRING","FieldConfig",60],["T_DOUBLE_COLON","::",60],["T_STRING","create",60],"(","[",["T_WHITESPACE","\n      ",60],["T_CONSTANT_ENCAPSED_STRING","'field_storage'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$field_storage",61],",",["T_WHITESPACE","\n      ",61],["T_CONSTANT_ENCAPSED_STRING","'bundle'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'page'",62],",",["T_WHITESPACE","\n      ",62],["T_CONSTANT_ENCAPSED_STRING","'widget'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_ARRAY","array",63],"(",["T_WHITESPACE","\n        ",63],["T_CONSTANT_ENCAPSED_STRING","'type'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'options_buttons'",64],",",["T_WHITESPACE","\n      ",64],")",",",["T_WHITESPACE","\n      ",65],["T_CONSTANT_ENCAPSED_STRING","'settings'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_ARRAY","array",66],"(",["T_WHITESPACE","\n        ",66],["T_CONSTANT_ENCAPSED_STRING","'on_label'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'Private'",67],",",["T_WHITESPACE","\n        ",67],["T_CONSTANT_ENCAPSED_STRING","'off_label'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'Not private'",68],",",["T_WHITESPACE","\n      ",68],")",",",["T_WHITESPACE","\n    ",69],"]",")",["T_OBJECT_OPERATOR","->",70],["T_STRING","save",70],"(",")",";",["T_WHITESPACE","\n\n    ",70],["T_COMMENT","\/\/ After enabling a node access module, the access table has to be rebuild.\n",72],["T_WHITESPACE","    ",73],["T_STRING","node_access_rebuild",73],"(",")",";",["T_WHITESPACE","\n\n    ",73],["T_COMMENT","\/\/ Create a normal authenticated user.\n",75],["T_WHITESPACE","    ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","webUser",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","drupalCreateUser",76],"(",["T_ARRAY","array",76],"(",["T_CONSTANT_ENCAPSED_STRING","'access content'",76],")",")",";",["T_WHITESPACE","\n\n    ",76],["T_COMMENT","\/\/ Load the user 1 user for later use as an admin user with permission to\n",78],["T_WHITESPACE","    ",79],["T_COMMENT","\/\/ see everything.\n",79],["T_WHITESPACE","    ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","adminUser",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","User",80],["T_DOUBLE_COLON","::",80],["T_STRING","load",80],"(",["T_LNUMBER","1",80],")",";",["T_WHITESPACE","\n\n    ",80],["T_COMMENT","\/\/ Add Hungarian and Catalan.\n",82],["T_WHITESPACE","    ",83],["T_STRING","ConfigurableLanguage",83],["T_DOUBLE_COLON","::",83],["T_STRING","createFromLangcode",83],"(",["T_CONSTANT_ENCAPSED_STRING","'hu'",83],")",["T_OBJECT_OPERATOR","->",83],["T_STRING","save",83],"(",")",";",["T_WHITESPACE","\n    ",83],["T_STRING","ConfigurableLanguage",84],["T_DOUBLE_COLON","::",84],["T_STRING","createFromLangcode",84],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",84],")",["T_OBJECT_OPERATOR","->",84],["T_STRING","save",84],"(",")",";",["T_WHITESPACE","\n\n    ",84],["T_COMMENT","\/\/ The node_access_test_language module allows individual translations of a\n",86],["T_WHITESPACE","    ",87],["T_COMMENT","\/\/ node to be marked private (not viewable by normal users).\n",87],["T_WHITESPACE","\n    ",88],["T_COMMENT","\/\/ Create six nodes:\n",89],["T_WHITESPACE","    ",90],["T_COMMENT","\/\/ 1. Four Hungarian nodes with Catalan translations\n",90],["T_WHITESPACE","    ",91],["T_COMMENT","\/\/   - One with neither language marked as private.\n",91],["T_WHITESPACE","    ",92],["T_COMMENT","\/\/   - One with only the Hungarian translation private.\n",92],["T_WHITESPACE","    ",93],["T_COMMENT","\/\/   - One with only the Catalan translation private.\n",93],["T_WHITESPACE","    ",94],["T_COMMENT","\/\/   - One with both the Hungarian and Catalan translations private.\n",94],["T_WHITESPACE","    ",95],["T_COMMENT","\/\/ 2. Two nodes with no language specified.\n",95],["T_WHITESPACE","    ",96],["T_COMMENT","\/\/   - One public.\n",96],["T_WHITESPACE","    ",97],["T_COMMENT","\/\/   - One private.\n",97],["T_WHITESPACE","    ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","nodes",98],"[",["T_CONSTANT_ENCAPSED_STRING","'both_public'",98],"]",["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$node",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","drupalCreateNode",98],"(",["T_ARRAY","array",98],"(",["T_WHITESPACE","\n      ",98],["T_CONSTANT_ENCAPSED_STRING","'body'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",["T_ARRAY","array",99],"(",")",")",",",["T_WHITESPACE","\n      ",99],["T_CONSTANT_ENCAPSED_STRING","'langcode'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'hu'",100],",",["T_WHITESPACE","\n      ",100],["T_CONSTANT_ENCAPSED_STRING","'field_private'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_ARRAY","array",101],"(",["T_ARRAY","array",101],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_LNUMBER","0",101],")",")",",",["T_WHITESPACE","\n    ",101],")",")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$translation",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$node",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","addTranslation",103],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",103],")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$translation",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","title",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","value",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","randomString",104],"(",")",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$translation",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","field_private",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","value",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_LNUMBER","0",105],";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$node",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","save",106],"(",")",";",["T_WHITESPACE","\n\n    ",106],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","nodes",108],"[",["T_CONSTANT_ENCAPSED_STRING","'ca_private'",108],"]",["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$node",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","drupalCreateNode",108],"(",["T_ARRAY","array",108],"(",["T_WHITESPACE","\n      ",108],["T_CONSTANT_ENCAPSED_STRING","'body'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_ARRAY","array",109],"(",["T_ARRAY","array",109],"(",")",")",",",["T_WHITESPACE","\n      ",109],["T_CONSTANT_ENCAPSED_STRING","'langcode'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'hu'",110],",",["T_WHITESPACE","\n      ",110],["T_CONSTANT_ENCAPSED_STRING","'field_private'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_ARRAY","array",111],"(",["T_ARRAY","array",111],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_LNUMBER","0",111],")",")",",",["T_WHITESPACE","\n    ",111],")",")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$translation",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$node",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","addTranslation",113],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",113],")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$translation",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","title",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","value",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","randomString",114],"(",")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$translation",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","field_private",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","value",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_LNUMBER","1",115],";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$node",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","save",116],"(",")",";",["T_WHITESPACE","\n\n    ",116],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","nodes",118],"[",["T_CONSTANT_ENCAPSED_STRING","'hu_private'",118],"]",["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$node",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","drupalCreateNode",118],"(",["T_ARRAY","array",118],"(",["T_WHITESPACE","\n      ",118],["T_CONSTANT_ENCAPSED_STRING","'body'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",["T_ARRAY","array",119],"(",")",")",",",["T_WHITESPACE","\n      ",119],["T_CONSTANT_ENCAPSED_STRING","'langcode'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'hu'",120],",",["T_WHITESPACE","\n      ",120],["T_CONSTANT_ENCAPSED_STRING","'field_private'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_ARRAY","array",121],"(",["T_ARRAY","array",121],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_LNUMBER","1",121],")",")",",",["T_WHITESPACE","\n    ",121],")",")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$translation",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$node",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","addTranslation",123],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",123],")",";",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$translation",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","title",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","value",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","randomString",124],"(",")",";",["T_WHITESPACE","\n    ",124],["T_VARIABLE","$translation",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","field_private",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","value",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_LNUMBER","0",125],";",["T_WHITESPACE","\n    ",125],["T_VARIABLE","$node",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","save",126],"(",")",";",["T_WHITESPACE","\n\n    ",126],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","nodes",128],"[",["T_CONSTANT_ENCAPSED_STRING","'both_private'",128],"]",["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$node",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","drupalCreateNode",128],"(",["T_ARRAY","array",128],"(",["T_WHITESPACE","\n      ",128],["T_CONSTANT_ENCAPSED_STRING","'body'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_ARRAY","array",129],"(",["T_ARRAY","array",129],"(",")",")",",",["T_WHITESPACE","\n      ",129],["T_CONSTANT_ENCAPSED_STRING","'langcode'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'hu'",130],",",["T_WHITESPACE","\n      ",130],["T_CONSTANT_ENCAPSED_STRING","'field_private'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_ARRAY","array",131],"(",["T_ARRAY","array",131],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_LNUMBER","1",131],")",")",",",["T_WHITESPACE","\n    ",131],")",")",";",["T_WHITESPACE","\n    ",132],["T_VARIABLE","$translation",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$node",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","addTranslation",133],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",133],")",";",["T_WHITESPACE","\n    ",133],["T_VARIABLE","$translation",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","title",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","value",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","randomString",134],"(",")",";",["T_WHITESPACE","\n    ",134],["T_VARIABLE","$translation",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","field_private",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","value",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_LNUMBER","1",135],";",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$node",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","save",136],"(",")",";",["T_WHITESPACE","\n\n    ",136],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","nodes",138],"[",["T_CONSTANT_ENCAPSED_STRING","'no_language_public'",138],"]",["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","drupalCreateNode",138],"(",["T_ARRAY","array",138],"(",["T_WHITESPACE","\n      ",138],["T_CONSTANT_ENCAPSED_STRING","'field_private'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_ARRAY","array",139],"(",["T_ARRAY","array",139],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_LNUMBER","0",139],")",")",",",["T_WHITESPACE","\n      ",139],["T_CONSTANT_ENCAPSED_STRING","'langcode'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_STRING","LanguageInterface",140],["T_DOUBLE_COLON","::",140],["T_STRING","LANGCODE_NOT_SPECIFIED",140],",",["T_WHITESPACE","\n    ",140],")",")",";",["T_WHITESPACE","\n    ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","nodes",142],"[",["T_CONSTANT_ENCAPSED_STRING","'no_language_private'",142],"]",["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","drupalCreateNode",142],"(",["T_ARRAY","array",142],"(",["T_WHITESPACE","\n      ",142],["T_CONSTANT_ENCAPSED_STRING","'field_private'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_ARRAY","array",143],"(",["T_ARRAY","array",143],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_LNUMBER","1",143],")",")",",",["T_WHITESPACE","\n      ",143],["T_CONSTANT_ENCAPSED_STRING","'langcode'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_STRING","LanguageInterface",144],["T_DOUBLE_COLON","::",144],["T_STRING","LANGCODE_NOT_SPECIFIED",144],",",["T_WHITESPACE","\n    ",144],")",")",";",["T_WHITESPACE","\n  ",145],"}",["T_WHITESPACE","\n\n  ",146],["T_DOC_COMMENT","\/**\n   * Tests node access and node access queries with multiple node languages.\n   *\/",148],["T_WHITESPACE","\n  ",150],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","testNodeAccessLanguageAware",151],"(",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n    ",151],["T_COMMENT","\/\/ The node_access_test_language module only grants view access.\n",152],["T_WHITESPACE","    ",153],["T_VARIABLE","$expected_node_access",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_ARRAY","array",153],"(",["T_CONSTANT_ENCAPSED_STRING","'view'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_STRING","TRUE",153],",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'update'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_STRING","FALSE",153],",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'delete'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_STRING","FALSE",153],")",";",["T_WHITESPACE","\n    ",153],["T_VARIABLE","$expected_node_access_no_access",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_ARRAY","array",154],"(",["T_CONSTANT_ENCAPSED_STRING","'view'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_STRING","FALSE",154],",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'update'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_STRING","FALSE",154],",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'delete'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_STRING","FALSE",154],")",";",["T_WHITESPACE","\n\n    ",154],["T_COMMENT","\/\/ When both Hungarian and Catalan are marked as public, access to the\n",156],["T_WHITESPACE","    ",157],["T_COMMENT","\/\/ Hungarian translation should be granted with the default entity object or\n",157],["T_WHITESPACE","    ",158],["T_COMMENT","\/\/ when the Hungarian translation is specified explicitly.\n",158],["T_WHITESPACE","    ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","assertNodeAccess",159],"(",["T_VARIABLE","$expected_node_access",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","nodes",159],"[",["T_CONSTANT_ENCAPSED_STRING","'both_public'",159],"]",",",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","webUser",159],")",";",["T_WHITESPACE","\n    ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","assertNodeAccess",160],"(",["T_VARIABLE","$expected_node_access",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","nodes",160],"[",["T_CONSTANT_ENCAPSED_STRING","'both_public'",160],"]",["T_OBJECT_OPERATOR","->",160],["T_STRING","getTranslation",160],"(",["T_CONSTANT_ENCAPSED_STRING","'hu'",160],")",",",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","webUser",160],")",";",["T_WHITESPACE","\n    ",160],["T_COMMENT","\/\/ Access to the Catalan translation should also be granted.\n",161],["T_WHITESPACE","    ",162],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","assertNodeAccess",162],"(",["T_VARIABLE","$expected_node_access",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","nodes",162],"[",["T_CONSTANT_ENCAPSED_STRING","'both_public'",162],"]",["T_OBJECT_OPERATOR","->",162],["T_STRING","getTranslation",162],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",162],")",",",["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","webUser",162],")",";",["T_WHITESPACE","\n\n    ",162],["T_COMMENT","\/\/ When Hungarian is marked as private, access to the Hungarian translation\n",164],["T_WHITESPACE","    ",165],["T_COMMENT","\/\/ should be denied with the default entity object or when the Hungarian\n",165],["T_WHITESPACE","    ",166],["T_COMMENT","\/\/ translation is specified explicitly.\n",166],["T_WHITESPACE","    ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","assertNodeAccess",167],"(",["T_VARIABLE","$expected_node_access_no_access",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","nodes",167],"[",["T_CONSTANT_ENCAPSED_STRING","'hu_private'",167],"]",",",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","webUser",167],")",";",["T_WHITESPACE","\n    ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","assertNodeAccess",168],"(",["T_VARIABLE","$expected_node_access_no_access",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","nodes",168],"[",["T_CONSTANT_ENCAPSED_STRING","'hu_private'",168],"]",["T_OBJECT_OPERATOR","->",168],["T_STRING","getTranslation",168],"(",["T_CONSTANT_ENCAPSED_STRING","'hu'",168],")",",",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","webUser",168],")",";",["T_WHITESPACE","\n    ",168],["T_COMMENT","\/\/ Access to the Catalan translation should be granted.\n",169],["T_WHITESPACE","    ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","assertNodeAccess",170],"(",["T_VARIABLE","$expected_node_access",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","nodes",170],"[",["T_CONSTANT_ENCAPSED_STRING","'hu_private'",170],"]",["T_OBJECT_OPERATOR","->",170],["T_STRING","getTranslation",170],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",170],")",",",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","webUser",170],")",";",["T_WHITESPACE","\n\n    ",170],["T_COMMENT","\/\/ When Catalan is marked as private, access to the Hungarian translation\n",172],["T_WHITESPACE","    ",173],["T_COMMENT","\/\/ should be granted with the default entity object or when the Hungarian\n",173],["T_WHITESPACE","    ",174],["T_COMMENT","\/\/ translation is specified explicitly.\n",174],["T_WHITESPACE","    ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","assertNodeAccess",175],"(",["T_VARIABLE","$expected_node_access",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","nodes",175],"[",["T_CONSTANT_ENCAPSED_STRING","'ca_private'",175],"]",",",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","webUser",175],")",";",["T_WHITESPACE","\n    ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","assertNodeAccess",176],"(",["T_VARIABLE","$expected_node_access",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","nodes",176],"[",["T_CONSTANT_ENCAPSED_STRING","'ca_private'",176],"]",["T_OBJECT_OPERATOR","->",176],["T_STRING","getTranslation",176],"(",["T_CONSTANT_ENCAPSED_STRING","'hu'",176],")",",",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","webUser",176],")",";",["T_WHITESPACE","\n    ",176],["T_COMMENT","\/\/ Access to the Catalan translation should be granted.\n",177],["T_WHITESPACE","    ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","assertNodeAccess",178],"(",["T_VARIABLE","$expected_node_access_no_access",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","nodes",178],"[",["T_CONSTANT_ENCAPSED_STRING","'ca_private'",178],"]",["T_OBJECT_OPERATOR","->",178],["T_STRING","getTranslation",178],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",178],")",",",["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","webUser",178],")",";",["T_WHITESPACE","\n\n    ",178],["T_COMMENT","\/\/ When both translations are marked as private, access should be denied\n",180],["T_WHITESPACE","    ",181],["T_COMMENT","\/\/ regardless of the entity object specified.\n",181],["T_WHITESPACE","    ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","assertNodeAccess",182],"(",["T_VARIABLE","$expected_node_access_no_access",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","nodes",182],"[",["T_CONSTANT_ENCAPSED_STRING","'both_private'",182],"]",",",["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","webUser",182],")",";",["T_WHITESPACE","\n    ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","assertNodeAccess",183],"(",["T_VARIABLE","$expected_node_access_no_access",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","nodes",183],"[",["T_CONSTANT_ENCAPSED_STRING","'both_private'",183],"]",["T_OBJECT_OPERATOR","->",183],["T_STRING","getTranslation",183],"(",["T_CONSTANT_ENCAPSED_STRING","'hu'",183],")",",",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","webUser",183],")",";",["T_WHITESPACE","\n    ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","assertNodeAccess",184],"(",["T_VARIABLE","$expected_node_access_no_access",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","nodes",184],"[",["T_CONSTANT_ENCAPSED_STRING","'both_private'",184],"]",["T_OBJECT_OPERATOR","->",184],["T_STRING","getTranslation",184],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",184],")",",",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","webUser",184],")",";",["T_WHITESPACE","\n\n    ",184],["T_COMMENT","\/\/ When no language is specified for a private node, access to every node\n",186],["T_WHITESPACE","    ",187],["T_COMMENT","\/\/ translation is denied.\n",187],["T_WHITESPACE","    ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","assertNodeAccess",188],"(",["T_VARIABLE","$expected_node_access_no_access",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","nodes",188],"[",["T_CONSTANT_ENCAPSED_STRING","'no_language_private'",188],"]",",",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","webUser",188],")",";",["T_WHITESPACE","\n\n    ",188],["T_COMMENT","\/\/ When no language is specified for a public node, access should be\n",190],["T_WHITESPACE","    ",191],["T_COMMENT","\/\/ granted.\n",191],["T_WHITESPACE","    ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","assertNodeAccess",192],"(",["T_VARIABLE","$expected_node_access",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","nodes",192],"[",["T_CONSTANT_ENCAPSED_STRING","'no_language_public'",192],"]",",",["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","webUser",192],")",";",["T_WHITESPACE","\n\n    ",192],["T_COMMENT","\/\/ Query the node table with the node access tag in several languages.\n",194],["T_WHITESPACE","\n    ",195],["T_COMMENT","\/\/ Query with no language specified. The fallback (hu) will be used.\n",196],["T_WHITESPACE","    ",197],["T_VARIABLE","$select",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_STRING","db_select",197],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",197],",",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'n'",197],")",["T_WHITESPACE","\n      ",197],["T_OBJECT_OPERATOR","->",198],["T_STRING","fields",198],"(",["T_CONSTANT_ENCAPSED_STRING","'n'",198],",",["T_WHITESPACE"," ",198],["T_ARRAY","array",198],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",198],")",")",["T_WHITESPACE","\n      ",198],["T_OBJECT_OPERATOR","->",199],["T_STRING","addMetaData",199],"(",["T_CONSTANT_ENCAPSED_STRING","'account'",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","webUser",199],")",["T_WHITESPACE","\n      ",199],["T_OBJECT_OPERATOR","->",200],["T_STRING","addTag",200],"(",["T_CONSTANT_ENCAPSED_STRING","'node_access'",200],")",";",["T_WHITESPACE","\n    ",200],["T_VARIABLE","$nids",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$select",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","execute",201],"(",")",["T_OBJECT_OPERATOR","->",201],["T_STRING","fetchAllAssoc",201],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",201],")",";",["T_WHITESPACE","\n\n    ",201],["T_COMMENT","\/\/ Three nodes should be returned:\n",203],["T_WHITESPACE","    ",204],["T_COMMENT","\/\/ - Node with both translations public.\n",204],["T_WHITESPACE","    ",205],["T_COMMENT","\/\/ - Node with only the Catalan translation marked as private.\n",205],["T_WHITESPACE","    ",206],["T_COMMENT","\/\/ - No language node marked as public.\n",206],["T_WHITESPACE","    ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","assertEqual",207],"(",["T_STRING","count",207],"(",["T_VARIABLE","$nids",207],")",",",["T_WHITESPACE"," ",207],["T_LNUMBER","3",207],",",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'db_select() returns 3 nodes when no langcode is specified.'",207],")",";",["T_WHITESPACE","\n    ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","assertTrue",208],"(",["T_STRING","array_key_exists",208],"(",["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","nodes",208],"[",["T_CONSTANT_ENCAPSED_STRING","'both_public'",208],"]",["T_OBJECT_OPERATOR","->",208],["T_STRING","id",208],"(",")",",",["T_WHITESPACE"," ",208],["T_VARIABLE","$nids",208],")",",",["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'The node with both translations public is returned.'",208],")",";",["T_WHITESPACE","\n    ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","assertTrue",209],"(",["T_STRING","array_key_exists",209],"(",["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","nodes",209],"[",["T_CONSTANT_ENCAPSED_STRING","'ca_private'",209],"]",["T_OBJECT_OPERATOR","->",209],["T_STRING","id",209],"(",")",",",["T_WHITESPACE"," ",209],["T_VARIABLE","$nids",209],")",",",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'The node with only the Catalan translation private is returned.'",209],")",";",["T_WHITESPACE","\n    ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","assertTrue",210],"(",["T_STRING","array_key_exists",210],"(",["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","nodes",210],"[",["T_CONSTANT_ENCAPSED_STRING","'no_language_public'",210],"]",["T_OBJECT_OPERATOR","->",210],["T_STRING","id",210],"(",")",",",["T_WHITESPACE"," ",210],["T_VARIABLE","$nids",210],")",",",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'The node with no language is returned.'",210],")",";",["T_WHITESPACE","\n\n    ",210],["T_COMMENT","\/\/ Query with Hungarian (hu) specified.\n",212],["T_WHITESPACE","    ",213],["T_VARIABLE","$select",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_STRING","db_select",213],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",213],",",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'n'",213],")",["T_WHITESPACE","\n      ",213],["T_OBJECT_OPERATOR","->",214],["T_STRING","fields",214],"(",["T_CONSTANT_ENCAPSED_STRING","'n'",214],",",["T_WHITESPACE"," ",214],["T_ARRAY","array",214],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",214],")",")",["T_WHITESPACE","\n      ",214],["T_OBJECT_OPERATOR","->",215],["T_STRING","addMetaData",215],"(",["T_CONSTANT_ENCAPSED_STRING","'account'",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","webUser",215],")",["T_WHITESPACE","\n      ",215],["T_OBJECT_OPERATOR","->",216],["T_STRING","addMetaData",216],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",216],",",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'hu'",216],")",["T_WHITESPACE","\n      ",216],["T_OBJECT_OPERATOR","->",217],["T_STRING","addTag",217],"(",["T_CONSTANT_ENCAPSED_STRING","'node_access'",217],")",";",["T_WHITESPACE","\n    ",217],["T_VARIABLE","$nids",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$select",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","execute",218],"(",")",["T_OBJECT_OPERATOR","->",218],["T_STRING","fetchAllAssoc",218],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",218],")",";",["T_WHITESPACE","\n\n    ",218],["T_COMMENT","\/\/ Two nodes should be returned: the node with both translations public, and\n",220],["T_WHITESPACE","    ",221],["T_COMMENT","\/\/ the node with only the Catalan translation marked as private.\n",221],["T_WHITESPACE","    ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","assertEqual",222],"(",["T_STRING","count",222],"(",["T_VARIABLE","$nids",222],")",",",["T_WHITESPACE"," ",222],["T_LNUMBER","2",222],",",["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","'db_select() returns 2 nodes when the hu langcode is specified.'",222],")",";",["T_WHITESPACE","\n    ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","assertTrue",223],"(",["T_STRING","array_key_exists",223],"(",["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","nodes",223],"[",["T_CONSTANT_ENCAPSED_STRING","'both_public'",223],"]",["T_OBJECT_OPERATOR","->",223],["T_STRING","id",223],"(",")",",",["T_WHITESPACE"," ",223],["T_VARIABLE","$nids",223],")",",",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'The node with both translations public is returned.'",223],")",";",["T_WHITESPACE","\n    ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","assertTrue",224],"(",["T_STRING","array_key_exists",224],"(",["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","nodes",224],"[",["T_CONSTANT_ENCAPSED_STRING","'ca_private'",224],"]",["T_OBJECT_OPERATOR","->",224],["T_STRING","id",224],"(",")",",",["T_WHITESPACE"," ",224],["T_VARIABLE","$nids",224],")",",",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'The node with only the Catalan translation private is returned.'",224],")",";",["T_WHITESPACE","\n\n    ",224],["T_COMMENT","\/\/ Query with Catalan (ca) specified.\n",226],["T_WHITESPACE","    ",227],["T_VARIABLE","$select",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_STRING","db_select",227],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",227],",",["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","'n'",227],")",["T_WHITESPACE","\n      ",227],["T_OBJECT_OPERATOR","->",228],["T_STRING","fields",228],"(",["T_CONSTANT_ENCAPSED_STRING","'n'",228],",",["T_WHITESPACE"," ",228],["T_ARRAY","array",228],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",228],")",")",["T_WHITESPACE","\n      ",228],["T_OBJECT_OPERATOR","->",229],["T_STRING","addMetaData",229],"(",["T_CONSTANT_ENCAPSED_STRING","'account'",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","webUser",229],")",["T_WHITESPACE","\n      ",229],["T_OBJECT_OPERATOR","->",230],["T_STRING","addMetaData",230],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",230],",",["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","'ca'",230],")",["T_WHITESPACE","\n      ",230],["T_OBJECT_OPERATOR","->",231],["T_STRING","addTag",231],"(",["T_CONSTANT_ENCAPSED_STRING","'node_access'",231],")",";",["T_WHITESPACE","\n    ",231],["T_VARIABLE","$nids",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$select",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","execute",232],"(",")",["T_OBJECT_OPERATOR","->",232],["T_STRING","fetchAllAssoc",232],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",232],")",";",["T_WHITESPACE","\n\n    ",232],["T_COMMENT","\/\/ Two nodes should be returned: the node with both translations public, and\n",234],["T_WHITESPACE","    ",235],["T_COMMENT","\/\/ the node with only the Hungarian translation marked as private.\n",235],["T_WHITESPACE","    ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","assertEqual",236],"(",["T_STRING","count",236],"(",["T_VARIABLE","$nids",236],")",",",["T_WHITESPACE"," ",236],["T_LNUMBER","2",236],",",["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","'db_select() returns 2 nodes when the hu langcode is specified.'",236],")",";",["T_WHITESPACE","\n    ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","assertTrue",237],"(",["T_STRING","array_key_exists",237],"(",["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","nodes",237],"[",["T_CONSTANT_ENCAPSED_STRING","'both_public'",237],"]",["T_OBJECT_OPERATOR","->",237],["T_STRING","id",237],"(",")",",",["T_WHITESPACE"," ",237],["T_VARIABLE","$nids",237],")",",",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'The node with both translations public is returned.'",237],")",";",["T_WHITESPACE","\n    ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","assertTrue",238],"(",["T_STRING","array_key_exists",238],"(",["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","nodes",238],"[",["T_CONSTANT_ENCAPSED_STRING","'hu_private'",238],"]",["T_OBJECT_OPERATOR","->",238],["T_STRING","id",238],"(",")",",",["T_WHITESPACE"," ",238],["T_VARIABLE","$nids",238],")",",",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","'The node with only the Hungarian translation private is returned.'",238],")",";",["T_WHITESPACE","\n\n    ",238],["T_COMMENT","\/\/ Query with German (de) specified.\n",240],["T_WHITESPACE","    ",241],["T_VARIABLE","$select",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_STRING","db_select",241],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",241],",",["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","'n'",241],")",["T_WHITESPACE","\n      ",241],["T_OBJECT_OPERATOR","->",242],["T_STRING","fields",242],"(",["T_CONSTANT_ENCAPSED_STRING","'n'",242],",",["T_WHITESPACE"," ",242],["T_ARRAY","array",242],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",242],")",")",["T_WHITESPACE","\n      ",242],["T_OBJECT_OPERATOR","->",243],["T_STRING","addMetaData",243],"(",["T_CONSTANT_ENCAPSED_STRING","'account'",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","webUser",243],")",["T_WHITESPACE","\n      ",243],["T_OBJECT_OPERATOR","->",244],["T_STRING","addMetaData",244],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",244],",",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'de'",244],")",["T_WHITESPACE","\n      ",244],["T_OBJECT_OPERATOR","->",245],["T_STRING","addTag",245],"(",["T_CONSTANT_ENCAPSED_STRING","'node_access'",245],")",";",["T_WHITESPACE","\n    ",245],["T_VARIABLE","$nids",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_VARIABLE","$select",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","execute",246],"(",")",["T_OBJECT_OPERATOR","->",246],["T_STRING","fetchAllAssoc",246],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",246],")",";",["T_WHITESPACE","\n\n    ",246],["T_COMMENT","\/\/ There are no nodes with German translations, so no results are returned.\n",248],["T_WHITESPACE","    ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","assertTrue",249],"(",["T_EMPTY","empty",249],"(",["T_VARIABLE","$nids",249],")",",",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","'db_select() returns an empty result when the de langcode is specified.'",249],")",";",["T_WHITESPACE","\n\n    ",249],["T_COMMENT","\/\/ Query the nodes table as admin user (full access) with the node access\n",251],["T_WHITESPACE","    ",252],["T_COMMENT","\/\/ tag and no specific langcode.\n",252],["T_WHITESPACE","    ",253],["T_VARIABLE","$select",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_STRING","db_select",253],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",253],",",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'n'",253],")",["T_WHITESPACE","\n      ",253],["T_OBJECT_OPERATOR","->",254],["T_STRING","fields",254],"(",["T_CONSTANT_ENCAPSED_STRING","'n'",254],",",["T_WHITESPACE"," ",254],["T_ARRAY","array",254],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",254],")",")",["T_WHITESPACE","\n      ",254],["T_OBJECT_OPERATOR","->",255],["T_STRING","addMetaData",255],"(",["T_CONSTANT_ENCAPSED_STRING","'account'",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","adminUser",255],")",["T_WHITESPACE","\n      ",255],["T_OBJECT_OPERATOR","->",256],["T_STRING","addTag",256],"(",["T_CONSTANT_ENCAPSED_STRING","'node_access'",256],")",";",["T_WHITESPACE","\n    ",256],["T_VARIABLE","$nids",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_VARIABLE","$select",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","execute",257],"(",")",["T_OBJECT_OPERATOR","->",257],["T_STRING","fetchAllAssoc",257],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",257],")",";",["T_WHITESPACE","\n\n    ",257],["T_COMMENT","\/\/ All nodes are returned.\n",259],["T_WHITESPACE","    ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","assertEqual",260],"(",["T_STRING","count",260],"(",["T_VARIABLE","$nids",260],")",",",["T_WHITESPACE"," ",260],["T_LNUMBER","6",260],",",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'db_select() returns all nodes.'",260],")",";",["T_WHITESPACE","\n\n    ",260],["T_COMMENT","\/\/ Query the nodes table as admin user (full access) with the node access\n",262],["T_WHITESPACE","    ",263],["T_COMMENT","\/\/ tag and langcode de.\n",263],["T_WHITESPACE","    ",264],["T_VARIABLE","$select",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_STRING","db_select",264],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",264],",",["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","'n'",264],")",["T_WHITESPACE","\n      ",264],["T_OBJECT_OPERATOR","->",265],["T_STRING","fields",265],"(",["T_CONSTANT_ENCAPSED_STRING","'n'",265],",",["T_WHITESPACE"," ",265],["T_ARRAY","array",265],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",265],")",")",["T_WHITESPACE","\n      ",265],["T_OBJECT_OPERATOR","->",266],["T_STRING","addMetaData",266],"(",["T_CONSTANT_ENCAPSED_STRING","'account'",266],",",["T_WHITESPACE"," ",266],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","adminUser",266],")",["T_WHITESPACE","\n      ",266],["T_OBJECT_OPERATOR","->",267],["T_STRING","addMetaData",267],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",267],",",["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","'de'",267],")",["T_WHITESPACE","\n      ",267],["T_OBJECT_OPERATOR","->",268],["T_STRING","addTag",268],"(",["T_CONSTANT_ENCAPSED_STRING","'node_access'",268],")",";",["T_WHITESPACE","\n    ",268],["T_VARIABLE","$nids",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$select",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","execute",269],"(",")",["T_OBJECT_OPERATOR","->",269],["T_STRING","fetchAllAssoc",269],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",269],")",";",["T_WHITESPACE","\n\n    ",269],["T_COMMENT","\/\/ Even though there is no German translation, all nodes are returned\n",271],["T_WHITESPACE","    ",272],["T_COMMENT","\/\/ because node access filtering does not occur when the user is user 1.\n",272],["T_WHITESPACE","    ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","assertEqual",273],"(",["T_STRING","count",273],"(",["T_VARIABLE","$nids",273],")",",",["T_WHITESPACE"," ",273],["T_LNUMBER","6",273],",",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'db_select() returns all nodes.'",273],")",";",["T_WHITESPACE","\n  ",273],"}",["T_WHITESPACE","\n\n",274],"}",["T_WHITESPACE","\n",276]]