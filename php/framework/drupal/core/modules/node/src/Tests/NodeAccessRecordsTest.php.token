[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","node",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","node",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Node",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests hook_node_access_records when acquiring grants.\n *\n * @group node\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","NodeAccessRecordsTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","NodeTestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * Enable a module that implements node access API hooks and alter hook.\n   *\n   * @var array\n   *\/",14],["T_WHITESPACE","\n  ",18],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_STATIC","static",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$modules",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_ARRAY","array",19],"(",["T_CONSTANT_ENCAPSED_STRING","'node_test'",19],")",";",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * Creates a node and tests the creation of node access rules.\n   *\/",21],["T_WHITESPACE","\n  ",23],["T_FUNCTION","function",24],["T_WHITESPACE"," ",24],["T_STRING","testNodeAccessRecords",24],"(",")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n    ",24],["T_COMMENT","\/\/ Create an article node.\n",25],["T_WHITESPACE","    ",26],["T_VARIABLE","$node1",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","drupalCreateNode",26],"(",["T_ARRAY","array",26],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",26],["T_WHITESPACE"," ",26],["T_DOUBLE_ARROW","=>",26],["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'article'",26],")",")",";",["T_WHITESPACE","\n    ",26],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","assertTrue",27],"(",["T_STRING","Node",27],["T_DOUBLE_COLON","::",27],["T_STRING","load",27],"(",["T_VARIABLE","$node1",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","id",27],"(",")",")",",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'Article node created.'",27],")",";",["T_WHITESPACE","\n\n    ",27],["T_COMMENT","\/\/ Check to see if grants added by node_test_node_access_records made it in.\n",29],["T_WHITESPACE","    ",30],["T_VARIABLE","$records",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_STRING","db_query",30],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT realm, gid FROM {node_access} WHERE nid = :nid'",30],",",["T_WHITESPACE"," ",30],["T_ARRAY","array",30],"(",["T_CONSTANT_ENCAPSED_STRING","':nid'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$node1",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","id",30],"(",")",")",")",["T_OBJECT_OPERATOR","->",30],["T_STRING","fetchAll",30],"(",")",";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","assertEqual",31],"(",["T_STRING","count",31],"(",["T_VARIABLE","$records",31],")",",",["T_WHITESPACE"," ",31],["T_LNUMBER","1",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'Returned the correct number of rows.'",31],")",";",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","assertEqual",32],"(",["T_VARIABLE","$records",32],"[",["T_LNUMBER","0",32],"]",["T_OBJECT_OPERATOR","->",32],["T_STRING","realm",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'test_article_realm'",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'Grant with article_realm acquired for node without alteration.'",32],")",";",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","assertEqual",33],"(",["T_VARIABLE","$records",33],"[",["T_LNUMBER","0",33],"]",["T_OBJECT_OPERATOR","->",33],["T_STRING","gid",33],",",["T_WHITESPACE"," ",33],["T_LNUMBER","1",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'Grant with gid = 1 acquired for node without alteration.'",33],")",";",["T_WHITESPACE","\n\n    ",33],["T_COMMENT","\/\/ Create an unpromoted \"Basic page\" node.\n",35],["T_WHITESPACE","    ",36],["T_VARIABLE","$node2",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","drupalCreateNode",36],"(",["T_ARRAY","array",36],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'page'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'promote'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_LNUMBER","0",36],")",")",";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","assertTrue",37],"(",["T_STRING","Node",37],["T_DOUBLE_COLON","::",37],["T_STRING","load",37],"(",["T_VARIABLE","$node2",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","id",37],"(",")",")",",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'Unpromoted basic page node created.'",37],")",";",["T_WHITESPACE","\n\n    ",37],["T_COMMENT","\/\/ Check to see if grants added by node_test_node_access_records made it in.\n",39],["T_WHITESPACE","    ",40],["T_VARIABLE","$records",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_STRING","db_query",40],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT realm, gid FROM {node_access} WHERE nid = :nid'",40],",",["T_WHITESPACE"," ",40],["T_ARRAY","array",40],"(",["T_CONSTANT_ENCAPSED_STRING","':nid'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$node2",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","id",40],"(",")",")",")",["T_OBJECT_OPERATOR","->",40],["T_STRING","fetchAll",40],"(",")",";",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","assertEqual",41],"(",["T_STRING","count",41],"(",["T_VARIABLE","$records",41],")",",",["T_WHITESPACE"," ",41],["T_LNUMBER","1",41],",",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'Returned the correct number of rows.'",41],")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","assertEqual",42],"(",["T_VARIABLE","$records",42],"[",["T_LNUMBER","0",42],"]",["T_OBJECT_OPERATOR","->",42],["T_STRING","realm",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'test_page_realm'",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'Grant with page_realm acquired for node without alteration.'",42],")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","assertEqual",43],"(",["T_VARIABLE","$records",43],"[",["T_LNUMBER","0",43],"]",["T_OBJECT_OPERATOR","->",43],["T_STRING","gid",43],",",["T_WHITESPACE"," ",43],["T_LNUMBER","1",43],",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'Grant with gid = 1 acquired for node without alteration.'",43],")",";",["T_WHITESPACE","\n\n    ",43],["T_COMMENT","\/\/ Create an unpromoted, unpublished \"Basic page\" node.\n",45],["T_WHITESPACE","    ",46],["T_VARIABLE","$node3",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","drupalCreateNode",46],"(",["T_ARRAY","array",46],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'page'",46],",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'promote'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_LNUMBER","0",46],",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'status'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_LNUMBER","0",46],")",")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","assertTrue",47],"(",["T_STRING","Node",47],["T_DOUBLE_COLON","::",47],["T_STRING","load",47],"(",["T_VARIABLE","$node3",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","id",47],"(",")",")",",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'Unpromoted, unpublished basic page node created.'",47],")",";",["T_WHITESPACE","\n\n    ",47],["T_COMMENT","\/\/ Check to see if grants added by node_test_node_access_records made it in.\n",49],["T_WHITESPACE","    ",50],["T_VARIABLE","$records",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","db_query",50],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT realm, gid FROM {node_access} WHERE nid = :nid'",50],",",["T_WHITESPACE"," ",50],["T_ARRAY","array",50],"(",["T_CONSTANT_ENCAPSED_STRING","':nid'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$node3",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","id",50],"(",")",")",")",["T_OBJECT_OPERATOR","->",50],["T_STRING","fetchAll",50],"(",")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertEqual",51],"(",["T_STRING","count",51],"(",["T_VARIABLE","$records",51],")",",",["T_WHITESPACE"," ",51],["T_LNUMBER","1",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'Returned the correct number of rows.'",51],")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","assertEqual",52],"(",["T_VARIABLE","$records",52],"[",["T_LNUMBER","0",52],"]",["T_OBJECT_OPERATOR","->",52],["T_STRING","realm",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'test_page_realm'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'Grant with page_realm acquired for node without alteration.'",52],")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","assertEqual",53],"(",["T_VARIABLE","$records",53],"[",["T_LNUMBER","0",53],"]",["T_OBJECT_OPERATOR","->",53],["T_STRING","gid",53],",",["T_WHITESPACE"," ",53],["T_LNUMBER","1",53],",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'Grant with gid = 1 acquired for node without alteration.'",53],")",";",["T_WHITESPACE","\n\n    ",53],["T_COMMENT","\/\/ Create a promoted \"Basic page\" node.\n",55],["T_WHITESPACE","    ",56],["T_VARIABLE","$node4",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","drupalCreateNode",56],"(",["T_ARRAY","array",56],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'page'",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'promote'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_LNUMBER","1",56],")",")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","assertTrue",57],"(",["T_STRING","Node",57],["T_DOUBLE_COLON","::",57],["T_STRING","load",57],"(",["T_VARIABLE","$node4",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","id",57],"(",")",")",",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'Promoted basic page node created.'",57],")",";",["T_WHITESPACE","\n\n    ",57],["T_COMMENT","\/\/ Check to see if grant added by node_test_node_access_records was altered\n",59],["T_WHITESPACE","    ",60],["T_COMMENT","\/\/ by node_test_node_access_records_alter.\n",60],["T_WHITESPACE","    ",61],["T_VARIABLE","$records",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","db_query",61],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT realm, gid FROM {node_access} WHERE nid = :nid'",61],",",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",["T_CONSTANT_ENCAPSED_STRING","':nid'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$node4",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","id",61],"(",")",")",")",["T_OBJECT_OPERATOR","->",61],["T_STRING","fetchAll",61],"(",")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertEqual",62],"(",["T_STRING","count",62],"(",["T_VARIABLE","$records",62],")",",",["T_WHITESPACE"," ",62],["T_LNUMBER","1",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'Returned the correct number of rows.'",62],")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","assertEqual",63],"(",["T_VARIABLE","$records",63],"[",["T_LNUMBER","0",63],"]",["T_OBJECT_OPERATOR","->",63],["T_STRING","realm",63],",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'test_alter_realm'",63],",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'Altered grant with alter_realm acquired for node.'",63],")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","assertEqual",64],"(",["T_VARIABLE","$records",64],"[",["T_LNUMBER","0",64],"]",["T_OBJECT_OPERATOR","->",64],["T_STRING","gid",64],",",["T_WHITESPACE"," ",64],["T_LNUMBER","2",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'Altered grant with gid = 2 acquired for node.'",64],")",";",["T_WHITESPACE","\n\n    ",64],["T_COMMENT","\/\/ Check to see if we can alter grants with hook_node_grants_alter().\n",66],["T_WHITESPACE","    ",67],["T_VARIABLE","$operations",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_ARRAY","array",67],"(",["T_CONSTANT_ENCAPSED_STRING","'view'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'update'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'delete'",67],")",";",["T_WHITESPACE","\n    ",67],["T_COMMENT","\/\/ Create a user that is allowed to access content.\n",68],["T_WHITESPACE","    ",69],["T_VARIABLE","$web_user",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","drupalCreateUser",69],"(",["T_ARRAY","array",69],"(",["T_CONSTANT_ENCAPSED_STRING","'access content'",69],")",")",";",["T_WHITESPACE","\n    ",69],["T_FOREACH","foreach",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$operations",70],["T_WHITESPACE"," ",70],["T_AS","as",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$op",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n      ",70],["T_VARIABLE","$grants",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","node_test_node_grants",71],"(",["T_VARIABLE","$web_user",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$op",71],")",";",["T_WHITESPACE","\n      ",71],["T_VARIABLE","$altered_grants",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$grants",72],";",["T_WHITESPACE","\n      ",72],["T_NS_SEPARATOR","\\",73],["T_STRING","Drupal",73],["T_DOUBLE_COLON","::",73],["T_STRING","moduleHandler",73],"(",")",["T_OBJECT_OPERATOR","->",73],["T_STRING","alter",73],"(",["T_CONSTANT_ENCAPSED_STRING","'node_grants'",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$altered_grants",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$web_user",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$op",73],")",";",["T_WHITESPACE","\n      ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertNotEqual",74],"(",["T_VARIABLE","$grants",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$altered_grants",74],",",["T_WHITESPACE"," ",74],["T_STRING","format_string",74],"(",["T_CONSTANT_ENCAPSED_STRING","'Altered the %op grant for a user.'",74],",",["T_WHITESPACE"," ",74],["T_ARRAY","array",74],"(",["T_CONSTANT_ENCAPSED_STRING","'%op'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$op",74],")",")",")",";",["T_WHITESPACE","\n    ",74],"}",["T_WHITESPACE","\n\n    ",75],["T_COMMENT","\/\/ Check that core does not grant access to an unpublished node when an\n",77],["T_WHITESPACE","    ",78],["T_COMMENT","\/\/ empty $grants array is returned.\n",78],["T_WHITESPACE","    ",79],["T_VARIABLE","$node6",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","drupalCreateNode",79],"(",["T_ARRAY","array",79],"(",["T_CONSTANT_ENCAPSED_STRING","'status'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_LNUMBER","0",79],",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'disable_node_access'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_STRING","TRUE",79],")",")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$records",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","db_query",80],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT realm, gid FROM {node_access} WHERE nid = :nid'",80],",",["T_WHITESPACE"," ",80],["T_ARRAY","array",80],"(",["T_CONSTANT_ENCAPSED_STRING","':nid'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$node6",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","id",80],"(",")",")",")",["T_OBJECT_OPERATOR","->",80],["T_STRING","fetchAll",80],"(",")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertEqual",81],"(",["T_STRING","count",81],"(",["T_VARIABLE","$records",81],")",",",["T_WHITESPACE"," ",81],["T_LNUMBER","0",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'Returned no records for unpublished node.'",81],")",";",["T_WHITESPACE","\n  ",81],"}",["T_WHITESPACE","\n\n",82],"}",["T_WHITESPACE","\n",84]]