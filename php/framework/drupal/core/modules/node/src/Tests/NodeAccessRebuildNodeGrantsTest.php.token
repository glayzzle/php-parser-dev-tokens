[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","node",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","node",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","NodeType",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Ensures that node access rebuild functions work correctly even\n * when other modules implements hook_node_grants().\n *\n * @group node\n *\/",7],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","NodeAccessRebuildNodeGrantsTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","NodeTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * A user to create nodes that only it has access to.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$webUser",20],";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * A user to test the rebuild nodes feature which can't access the nodes.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",22],["T_WHITESPACE","\n  ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$adminUser",27],";",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",29],["T_WHITESPACE","\n  ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","setUp",32],"(",")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n    ",32],["T_STRING","parent",33],["T_DOUBLE_COLON","::",33],["T_STRING","setUp",33],"(",")",";",["T_WHITESPACE","\n\n    ",33],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","adminUser",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","drupalCreateUser",35],"(",["T_ARRAY","array",35],"(",["T_CONSTANT_ENCAPSED_STRING","'administer site configuration'",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'access administration pages'",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'access site reports'",35],")",")",";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","drupalLogin",36],"(",["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","adminUser",36],")",";",["T_WHITESPACE","\n\n    ",36],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","webUser",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","drupalCreateUser",38],"(",")",";",["T_WHITESPACE","\n  ",38],"}",["T_WHITESPACE","\n\n  ",39],["T_DOC_COMMENT","\/**\n   * Tests rebuilding the node access permissions table with content.\n   *\/",41],["T_WHITESPACE","\n  ",43],["T_PUBLIC","public",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","testNodeAccessRebuildNodeGrants",44],"(",")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n    ",44],["T_NS_SEPARATOR","\\",45],["T_STRING","Drupal",45],["T_DOUBLE_COLON","::",45],["T_STRING","service",45],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",45],")",["T_OBJECT_OPERATOR","->",45],["T_STRING","install",45],"(","[",["T_CONSTANT_ENCAPSED_STRING","'node_access_test'",45],"]",")",";",["T_WHITESPACE","\n    ",45],["T_NS_SEPARATOR","\\",46],["T_STRING","Drupal",46],["T_DOUBLE_COLON","::",46],["T_STRING","state",46],"(",")",["T_OBJECT_OPERATOR","->",46],["T_STRING","set",46],"(",["T_CONSTANT_ENCAPSED_STRING","'node_access_test.private'",46],",",["T_WHITESPACE"," ",46],["T_STRING","TRUE",46],")",";",["T_WHITESPACE","\n    ",46],["T_STRING","node_access_test_add_field",47],"(",["T_STRING","NodeType",47],["T_DOUBLE_COLON","::",47],["T_STRING","load",47],"(",["T_CONSTANT_ENCAPSED_STRING","'page'",47],")",")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","resetAll",48],"(",")",";",["T_WHITESPACE","\n\n    ",48],["T_COMMENT","\/\/ Create 30 nodes so that _node_access_rebuild_batch_operation() has to run\n",50],["T_WHITESPACE","    ",51],["T_COMMENT","\/\/ more than once.\n",51],["T_WHITESPACE","    ",52],["T_FOR","for",52],["T_WHITESPACE"," ",52],"(",["T_VARIABLE","$i",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_LNUMBER","0",52],";",["T_WHITESPACE"," ",52],["T_VARIABLE","$i",52],["T_WHITESPACE"," ",52],"<",["T_WHITESPACE"," ",52],["T_LNUMBER","30",52],";",["T_WHITESPACE"," ",52],["T_VARIABLE","$i",52],["T_INC","++",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n      ",52],["T_VARIABLE","$nodes",53],"[","]",["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","drupalCreateNode",53],"(",["T_ARRAY","array",53],"(",["T_WHITESPACE","\n        ",53],["T_CONSTANT_ENCAPSED_STRING","'uid'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","webUser",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","id",54],"(",")",",",["T_WHITESPACE","\n        ",54],["T_CONSTANT_ENCAPSED_STRING","'private'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],"[","[",["T_CONSTANT_ENCAPSED_STRING","'value'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_LNUMBER","1",55],"]","]",["T_WHITESPACE","\n      ",55],")",")",";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/** @var \\Drupal\\node\\NodeGrantDatabaseStorageInterface $grant_storage *\/",59],["T_WHITESPACE","\n    ",59],["T_VARIABLE","$grant_storage",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Drupal",60],["T_DOUBLE_COLON","::",60],["T_STRING","service",60],"(",["T_CONSTANT_ENCAPSED_STRING","'node.grant_storage'",60],")",";",["T_WHITESPACE","\n    ",60],["T_COMMENT","\/\/ Default realm access and node records are present.\n",61],["T_WHITESPACE","    ",62],["T_FOREACH","foreach",62],["T_WHITESPACE"," ",62],"(",["T_VARIABLE","$nodes",62],["T_WHITESPACE"," ",62],["T_AS","as",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$node",62],")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n      ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","assertTrue",63],"(",["T_VARIABLE","$node",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","private",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","value",63],")",";",["T_WHITESPACE","\n      ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","assertTrue",64],"(",["T_VARIABLE","$grant_storage",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","access",64],"(",["T_VARIABLE","$node",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'view'",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","webUser",64],")",["T_OBJECT_OPERATOR","->",64],["T_STRING","isAllowed",64],"(",")",",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'Prior to rebuilding node access the grant storage returns allowed for the node author.'",64],")",";",["T_WHITESPACE","\n      ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","assertTrue",65],"(",["T_VARIABLE","$grant_storage",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","access",65],"(",["T_VARIABLE","$node",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'view'",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","adminUser",65],")",["T_OBJECT_OPERATOR","->",65],["T_STRING","isAllowed",65],"(",")",",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'Prior to rebuilding node access the grant storage returns allowed for the admin user.'",65],")",";",["T_WHITESPACE","\n    ",65],"}",["T_WHITESPACE","\n\n    ",66],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","assertEqual",68],"(",["T_LNUMBER","1",68],",",["T_WHITESPACE"," ",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Drupal",68],["T_DOUBLE_COLON","::",68],["T_STRING","service",68],"(",["T_CONSTANT_ENCAPSED_STRING","'node.grant_storage'",68],")",["T_OBJECT_OPERATOR","->",68],["T_STRING","checkAll",68],"(",["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","webUser",68],")",",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'There is an all realm access record'",68],")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertTrue",69],"(",["T_NS_SEPARATOR","\\",69],["T_STRING","Drupal",69],["T_DOUBLE_COLON","::",69],["T_STRING","state",69],"(",")",["T_OBJECT_OPERATOR","->",69],["T_STRING","get",69],"(",["T_CONSTANT_ENCAPSED_STRING","'node.node_access_needs_rebuild'",69],")",",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'Node access permissions need to be rebuilt'",69],")",";",["T_WHITESPACE","\n\n    ",69],["T_COMMENT","\/\/ Rebuild permissions.\n",71],["T_WHITESPACE","    ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","drupalGet",72],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/status'",72],")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","clickLink",73],"(",["T_STRING","t",73],"(",["T_CONSTANT_ENCAPSED_STRING","'Rebuild permissions'",73],")",")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","drupalPostForm",74],"(",["T_STRING","NULL",74],",",["T_WHITESPACE"," ",74],["T_ARRAY","array",74],"(",")",",",["T_WHITESPACE"," ",74],["T_STRING","t",74],"(",["T_CONSTANT_ENCAPSED_STRING","'Rebuild permissions'",74],")",")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertText",75],"(",["T_STRING","t",75],"(",["T_CONSTANT_ENCAPSED_STRING","'The content access permissions have been rebuilt.'",75],")",")",";",["T_WHITESPACE","\n\n    ",75],["T_COMMENT","\/\/ Test if the rebuild by user that cannot bypass node access and does not\n",77],["T_WHITESPACE","    ",78],["T_COMMENT","\/\/ have access to the nodes has been successful.\n",78],["T_WHITESPACE","    ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","assertFalse",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","adminUser",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","hasPermission",79],"(",["T_CONSTANT_ENCAPSED_STRING","'bypass node access'",79],")",")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertNull",80],"(",["T_NS_SEPARATOR","\\",80],["T_STRING","Drupal",80],["T_DOUBLE_COLON","::",80],["T_STRING","state",80],"(",")",["T_OBJECT_OPERATOR","->",80],["T_STRING","get",80],"(",["T_CONSTANT_ENCAPSED_STRING","'node.node_access_needs_rebuild'",80],")",",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'Node access permissions have been rebuilt'",80],")",";",["T_WHITESPACE","\n    ",80],["T_FOREACH","foreach",81],["T_WHITESPACE"," ",81],"(",["T_VARIABLE","$nodes",81],["T_WHITESPACE"," ",81],["T_AS","as",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$node",81],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n      ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertTrue",82],"(",["T_VARIABLE","$grant_storage",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","access",82],"(",["T_VARIABLE","$node",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'view'",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","webUser",82],")",["T_OBJECT_OPERATOR","->",82],["T_STRING","isAllowed",82],"(",")",",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'After rebuilding node access the grant storage returns allowed for the node author.'",82],")",";",["T_WHITESPACE","\n      ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertFalse",83],"(",["T_VARIABLE","$grant_storage",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","access",83],"(",["T_VARIABLE","$node",83],",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'view'",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","adminUser",83],")",["T_OBJECT_OPERATOR","->",83],["T_STRING","isForbidden",83],"(",")",",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'After rebuilding node access the grant storage returns forbidden for the admin user.'",83],")",";",["T_WHITESPACE","\n    ",83],"}",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertFalse",85],"(",["T_NS_SEPARATOR","\\",85],["T_STRING","Drupal",85],["T_DOUBLE_COLON","::",85],["T_STRING","service",85],"(",["T_CONSTANT_ENCAPSED_STRING","'node.grant_storage'",85],")",["T_OBJECT_OPERATOR","->",85],["T_STRING","checkAll",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","webUser",85],")",",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'There is no all realm access record'",85],")",";",["T_WHITESPACE","\n\n    ",85],["T_COMMENT","\/\/ Test an anonymous node access rebuild from code.\n",87],["T_WHITESPACE","    ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","drupalLogout",88],"(",")",";",["T_WHITESPACE","\n    ",88],["T_STRING","node_access_rebuild",89],"(",")",";",["T_WHITESPACE","\n    ",89],["T_FOREACH","foreach",90],["T_WHITESPACE"," ",90],"(",["T_VARIABLE","$nodes",90],["T_WHITESPACE"," ",90],["T_AS","as",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$node",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n      ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","assertTrue",91],"(",["T_VARIABLE","$grant_storage",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","access",91],"(",["T_VARIABLE","$node",91],",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'view'",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","webUser",91],")",["T_OBJECT_OPERATOR","->",91],["T_STRING","isAllowed",91],"(",")",",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'After rebuilding node access the grant storage returns allowed for the node author.'",91],")",";",["T_WHITESPACE","\n      ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertFalse",92],"(",["T_VARIABLE","$grant_storage",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","access",92],"(",["T_VARIABLE","$node",92],",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'view'",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","adminUser",92],")",["T_OBJECT_OPERATOR","->",92],["T_STRING","isForbidden",92],"(",")",",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'After rebuilding node access the grant storage returns forbidden for the admin user.'",92],")",";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertFalse",94],"(",["T_NS_SEPARATOR","\\",94],["T_STRING","Drupal",94],["T_DOUBLE_COLON","::",94],["T_STRING","service",94],"(",["T_CONSTANT_ENCAPSED_STRING","'node.grant_storage'",94],")",["T_OBJECT_OPERATOR","->",94],["T_STRING","checkAll",94],"(",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","webUser",94],")",",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'There is no all realm access record'",94],")",";",["T_WHITESPACE","\n  ",94],"}",["T_WHITESPACE","\n\n  ",95],["T_DOC_COMMENT","\/**\n   * Tests rebuilding the node access permissions table with no content.\n   *\/",97],["T_WHITESPACE","\n  ",99],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","testNodeAccessRebuildNoAccessModules",100],"(",")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n    ",100],["T_COMMENT","\/\/ Default realm access is present.\n",101],["T_WHITESPACE","    ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","assertEqual",102],"(",["T_LNUMBER","1",102],",",["T_WHITESPACE"," ",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Drupal",102],["T_DOUBLE_COLON","::",102],["T_STRING","service",102],"(",["T_CONSTANT_ENCAPSED_STRING","'node.grant_storage'",102],")",["T_OBJECT_OPERATOR","->",102],["T_STRING","count",102],"(",")",",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'There is an all realm access record'",102],")",";",["T_WHITESPACE","\n\n    ",102],["T_COMMENT","\/\/ No need to rebuild permissions.\n",104],["T_WHITESPACE","    ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertFalse",105],"(",["T_NS_SEPARATOR","\\",105],["T_STRING","Drupal",105],["T_DOUBLE_COLON","::",105],["T_STRING","state",105],"(",")",["T_OBJECT_OPERATOR","->",105],["T_STRING","get",105],"(",["T_CONSTANT_ENCAPSED_STRING","'node.node_access_needs_rebuild'",105],")",",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'Node access permissions need to be rebuilt'",105],")",";",["T_WHITESPACE","\n\n    ",105],["T_COMMENT","\/\/ Rebuild permissions.\n",107],["T_WHITESPACE","    ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","drupalGet",108],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/status'",108],")",";",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","clickLink",109],"(",["T_STRING","t",109],"(",["T_CONSTANT_ENCAPSED_STRING","'Rebuild permissions'",109],")",")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","drupalPostForm",110],"(",["T_STRING","NULL",110],",",["T_WHITESPACE"," ",110],["T_ARRAY","array",110],"(",")",",",["T_WHITESPACE"," ",110],["T_STRING","t",110],"(",["T_CONSTANT_ENCAPSED_STRING","'Rebuild permissions'",110],")",")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertText",111],"(",["T_STRING","t",111],"(",["T_CONSTANT_ENCAPSED_STRING","'Content permissions have been rebuilt.'",111],")",")",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","assertNull",112],"(",["T_NS_SEPARATOR","\\",112],["T_STRING","Drupal",112],["T_DOUBLE_COLON","::",112],["T_STRING","state",112],"(",")",["T_OBJECT_OPERATOR","->",112],["T_STRING","get",112],"(",["T_CONSTANT_ENCAPSED_STRING","'node.node_access_needs_rebuild'",112],")",",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'Node access permissions have been rebuilt'",112],")",";",["T_WHITESPACE","\n\n    ",112],["T_COMMENT","\/\/ Default realm access is still present.\n",114],["T_WHITESPACE","    ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","assertEqual",115],"(",["T_LNUMBER","1",115],",",["T_WHITESPACE"," ",115],["T_NS_SEPARATOR","\\",115],["T_STRING","Drupal",115],["T_DOUBLE_COLON","::",115],["T_STRING","service",115],"(",["T_CONSTANT_ENCAPSED_STRING","'node.grant_storage'",115],")",["T_OBJECT_OPERATOR","->",115],["T_STRING","count",115],"(",")",",",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'There is an all realm access record'",115],")",";",["T_WHITESPACE","\n  ",115],"}",["T_WHITESPACE","\n\n",116],"}",["T_WHITESPACE","\n",118]]