[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","node",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Language",5],["T_NS_SEPARATOR","\\",5],["T_STRING","LanguageInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","language",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ConfigurableLanguage",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","node",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","NodeType",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","user",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","User",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Tests node_access and db_select() with node_access tag functionality with\n * multiple languages with a test node access module that is not language-aware.\n *\n * @group node\n *\/",10],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","NodeAccessLanguageTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","NodeTestBase",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",18],["T_WHITESPACE","\n  ",22],["T_PUBLIC","public",23],["T_WHITESPACE"," ",23],["T_STATIC","static",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$modules",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_ARRAY","array",23],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",23],",",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'node_access_test'",23],")",";",["T_WHITESPACE","\n\n  ",23],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_FUNCTION","function",25],["T_WHITESPACE"," ",25],["T_STRING","setUp",25],"(",")",["T_WHITESPACE"," ",25],"{",["T_WHITESPACE","\n    ",25],["T_STRING","parent",26],["T_DOUBLE_COLON","::",26],["T_STRING","setUp",26],"(",")",";",["T_WHITESPACE","\n\n    ",26],["T_STRING","node_access_test_add_field",28],"(",["T_STRING","NodeType",28],["T_DOUBLE_COLON","::",28],["T_STRING","load",28],"(",["T_CONSTANT_ENCAPSED_STRING","'page'",28],")",")",";",["T_WHITESPACE","\n\n    ",28],["T_COMMENT","\/\/ After enabling a node access module, the access table has to be rebuild.\n",30],["T_WHITESPACE","    ",31],["T_STRING","node_access_rebuild",31],"(",")",";",["T_WHITESPACE","\n\n    ",31],["T_COMMENT","\/\/ Enable the private node feature of the node_access_test module.\n",33],["T_WHITESPACE","    ",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Drupal",34],["T_DOUBLE_COLON","::",34],["T_STRING","state",34],"(",")",["T_OBJECT_OPERATOR","->",34],["T_STRING","set",34],"(",["T_CONSTANT_ENCAPSED_STRING","'node_access_test.private'",34],",",["T_WHITESPACE"," ",34],["T_STRING","TRUE",34],")",";",["T_WHITESPACE","\n\n    ",34],["T_COMMENT","\/\/ Add Hungarian, Catalan and Croatian.\n",36],["T_WHITESPACE","    ",37],["T_STRING","ConfigurableLanguage",37],["T_DOUBLE_COLON","::",37],["T_STRING","createFromLangcode",37],"(",["T_CONSTANT_ENCAPSED_STRING","'hu'",37],")",["T_OBJECT_OPERATOR","->",37],["T_STRING","save",37],"(",")",";",["T_WHITESPACE","\n    ",37],["T_STRING","ConfigurableLanguage",38],["T_DOUBLE_COLON","::",38],["T_STRING","createFromLangcode",38],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",38],")",["T_OBJECT_OPERATOR","->",38],["T_STRING","save",38],"(",")",";",["T_WHITESPACE","\n    ",38],["T_STRING","ConfigurableLanguage",39],["T_DOUBLE_COLON","::",39],["T_STRING","createFromLangcode",39],"(",["T_CONSTANT_ENCAPSED_STRING","'hr'",39],")",["T_OBJECT_OPERATOR","->",39],["T_STRING","save",39],"(",")",";",["T_WHITESPACE","\n  ",39],"}",["T_WHITESPACE","\n\n  ",40],["T_DOC_COMMENT","\/**\n   * Tests node access with multiple node languages and no private nodes.\n   *\/",42],["T_WHITESPACE","\n  ",44],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","testNodeAccess",45],"(",")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$web_user",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","drupalCreateUser",46],"(",["T_ARRAY","array",46],"(",["T_CONSTANT_ENCAPSED_STRING","'access content'",46],")",")",";",["T_WHITESPACE","\n\n    ",46],["T_VARIABLE","$expected_node_access",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_ARRAY","array",48],"(",["T_CONSTANT_ENCAPSED_STRING","'view'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_STRING","TRUE",48],",",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'update'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_STRING","FALSE",48],",",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'delete'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_STRING","FALSE",48],")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$expected_node_access_no_access",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",["T_CONSTANT_ENCAPSED_STRING","'view'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_STRING","FALSE",49],",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'update'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_STRING","FALSE",49],",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'delete'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_STRING","FALSE",49],")",";",["T_WHITESPACE","\n\n    ",49],["T_COMMENT","\/\/ Creating a public node with langcode Hungarian, will be saved as the\n",51],["T_WHITESPACE","    ",52],["T_COMMENT","\/\/ fallback in node access table.\n",52],["T_WHITESPACE","    ",53],["T_VARIABLE","$node_public_hu",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","drupalCreateNode",53],"(",["T_ARRAY","array",53],"(",["T_CONSTANT_ENCAPSED_STRING","'body'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_ARRAY","array",53],"(",["T_ARRAY","array",53],"(",")",")",",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'langcode'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'hu'",53],",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'private'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_STRING","FALSE",53],")",")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertTrue",54],"(",["T_VARIABLE","$node_public_hu",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","language",54],"(",")",["T_OBJECT_OPERATOR","->",54],["T_STRING","getId",54],"(",")",["T_WHITESPACE"," ",54],["T_IS_EQUAL","==",54],["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'hu'",54],",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'Node created as Hungarian.'",54],")",";",["T_WHITESPACE","\n\n    ",54],["T_COMMENT","\/\/ Tests the default access is provided for the public Hungarian node.\n",56],["T_WHITESPACE","    ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","assertNodeAccess",57],"(",["T_VARIABLE","$expected_node_access",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$node_public_hu",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$web_user",57],")",";",["T_WHITESPACE","\n\n    ",57],["T_COMMENT","\/\/ Tests that Hungarian provided specifically results in the same.\n",59],["T_WHITESPACE","    ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertNodeAccess",60],"(",["T_VARIABLE","$expected_node_access",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$node_public_hu",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getTranslation",60],"(",["T_CONSTANT_ENCAPSED_STRING","'hu'",60],")",",",["T_WHITESPACE"," ",60],["T_VARIABLE","$web_user",60],")",";",["T_WHITESPACE","\n\n    ",60],["T_COMMENT","\/\/ Creating a public node with no special langcode, like when no language\n",62],["T_WHITESPACE","    ",63],["T_COMMENT","\/\/ module enabled.\n",63],["T_WHITESPACE","    ",64],["T_VARIABLE","$node_public_no_language",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","drupalCreateNode",64],"(",["T_ARRAY","array",64],"(",["T_WHITESPACE","\n      ",64],["T_CONSTANT_ENCAPSED_STRING","'private'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_STRING","FALSE",65],",",["T_WHITESPACE","\n      ",65],["T_CONSTANT_ENCAPSED_STRING","'langcode'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_STRING","LanguageInterface",66],["T_DOUBLE_COLON","::",66],["T_STRING","LANGCODE_NOT_SPECIFIED",66],",",["T_WHITESPACE","\n    ",66],")",")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","assertTrue",68],"(",["T_VARIABLE","$node_public_no_language",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","language",68],"(",")",["T_OBJECT_OPERATOR","->",68],["T_STRING","getId",68],"(",")",["T_WHITESPACE"," ",68],["T_IS_EQUAL","==",68],["T_WHITESPACE"," ",68],["T_STRING","LanguageInterface",68],["T_DOUBLE_COLON","::",68],["T_STRING","LANGCODE_NOT_SPECIFIED",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'Node created with not specified language.'",68],")",";",["T_WHITESPACE","\n\n    ",68],["T_COMMENT","\/\/ Tests that access is granted if requested with no language.\n",70],["T_WHITESPACE","    ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertNodeAccess",71],"(",["T_VARIABLE","$expected_node_access",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$node_public_no_language",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$web_user",71],")",";",["T_WHITESPACE","\n\n    ",71],["T_COMMENT","\/\/ Reset the node access cache and turn on our test node access code.\n",73],["T_WHITESPACE","    ",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Drupal",74],["T_DOUBLE_COLON","::",74],["T_STRING","entityManager",74],"(",")",["T_OBJECT_OPERATOR","->",74],["T_STRING","getAccessControlHandler",74],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",74],")",["T_OBJECT_OPERATOR","->",74],["T_STRING","resetCache",74],"(",")",";",["T_WHITESPACE","\n    ",74],["T_NS_SEPARATOR","\\",75],["T_STRING","Drupal",75],["T_DOUBLE_COLON","::",75],["T_STRING","state",75],"(",")",["T_OBJECT_OPERATOR","->",75],["T_STRING","set",75],"(",["T_CONSTANT_ENCAPSED_STRING","'node_access_test_secret_catalan'",75],",",["T_WHITESPACE"," ",75],["T_LNUMBER","1",75],")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$node_public_ca",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","drupalCreateNode",76],"(",["T_ARRAY","array",76],"(",["T_CONSTANT_ENCAPSED_STRING","'body'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_ARRAY","array",76],"(",["T_ARRAY","array",76],"(",")",")",",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'langcode'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'ca'",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'private'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_STRING","FALSE",76],")",")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assertTrue",77],"(",["T_VARIABLE","$node_public_ca",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","language",77],"(",")",["T_OBJECT_OPERATOR","->",77],["T_STRING","getId",77],"(",")",["T_WHITESPACE"," ",77],["T_IS_EQUAL","==",77],["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'ca'",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'Node created as Catalan.'",77],")",";",["T_WHITESPACE","\n\n    ",77],["T_COMMENT","\/\/ Tests that access is granted if requested with no language.\n",79],["T_WHITESPACE","    ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertNodeAccess",80],"(",["T_VARIABLE","$expected_node_access",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$node_public_no_language",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$web_user",80],")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertNodeAccess",81],"(",["T_VARIABLE","$expected_node_access_no_access",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$node_public_ca",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$web_user",81],")",";",["T_WHITESPACE","\n\n    ",81],["T_COMMENT","\/\/ Tests that Hungarian node is still accessible.\n",83],["T_WHITESPACE","    ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertNodeAccess",84],"(",["T_VARIABLE","$expected_node_access",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$node_public_hu",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$web_user",84],")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertNodeAccess",85],"(",["T_VARIABLE","$expected_node_access",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$node_public_hu",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getTranslation",85],"(",["T_CONSTANT_ENCAPSED_STRING","'hu'",85],")",",",["T_WHITESPACE"," ",85],["T_VARIABLE","$web_user",85],")",";",["T_WHITESPACE","\n\n    ",85],["T_COMMENT","\/\/ Tests that Catalan is still not accessible.\n",87],["T_WHITESPACE","    ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","assertNodeAccess",88],"(",["T_VARIABLE","$expected_node_access_no_access",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$node_public_ca",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getTranslation",88],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",88],")",",",["T_WHITESPACE"," ",88],["T_VARIABLE","$web_user",88],")",";",["T_WHITESPACE","\n\n    ",88],["T_COMMENT","\/\/ Make Catalan accessible.\n",90],["T_WHITESPACE","    ",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Drupal",91],["T_DOUBLE_COLON","::",91],["T_STRING","state",91],"(",")",["T_OBJECT_OPERATOR","->",91],["T_STRING","set",91],"(",["T_CONSTANT_ENCAPSED_STRING","'node_access_test_secret_catalan'",91],",",["T_WHITESPACE"," ",91],["T_LNUMBER","0",91],")",";",["T_WHITESPACE","\n\n    ",91],["T_COMMENT","\/\/ Tests that Catalan is accessible on a node with a Catalan version as the\n",93],["T_WHITESPACE","    ",94],["T_COMMENT","\/\/ static cache has not been reset.\n",94],["T_WHITESPACE","    ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertNodeAccess",95],"(",["T_VARIABLE","$expected_node_access_no_access",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$node_public_ca",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$web_user",95],")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","assertNodeAccess",96],"(",["T_VARIABLE","$expected_node_access_no_access",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$node_public_ca",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getTranslation",96],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",96],")",",",["T_WHITESPACE"," ",96],["T_VARIABLE","$web_user",96],")",";",["T_WHITESPACE","\n\n    ",96],["T_NS_SEPARATOR","\\",98],["T_STRING","Drupal",98],["T_DOUBLE_COLON","::",98],["T_STRING","entityManager",98],"(",")",["T_OBJECT_OPERATOR","->",98],["T_STRING","getAccessControlHandler",98],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",98],")",["T_OBJECT_OPERATOR","->",98],["T_STRING","resetCache",98],"(",")",";",["T_WHITESPACE","\n\n    ",98],["T_COMMENT","\/\/ Tests that access is granted if requested with no language.\n",100],["T_WHITESPACE","    ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertNodeAccess",101],"(",["T_VARIABLE","$expected_node_access",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$node_public_no_language",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$web_user",101],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","assertNodeAccess",102],"(",["T_VARIABLE","$expected_node_access",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$node_public_ca",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$web_user",102],")",";",["T_WHITESPACE","\n\n    ",102],["T_COMMENT","\/\/ Tests that Hungarian node is still accessible.\n",104],["T_WHITESPACE","    ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertNodeAccess",105],"(",["T_VARIABLE","$expected_node_access",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$node_public_hu",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$web_user",105],")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertNodeAccess",106],"(",["T_VARIABLE","$expected_node_access",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$node_public_hu",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getTranslation",106],"(",["T_CONSTANT_ENCAPSED_STRING","'hu'",106],")",",",["T_WHITESPACE"," ",106],["T_VARIABLE","$web_user",106],")",";",["T_WHITESPACE","\n\n    ",106],["T_COMMENT","\/\/ Tests that Catalan is accessible on a node with a Catalan version.\n",108],["T_WHITESPACE","    ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertNodeAccess",109],"(",["T_VARIABLE","$expected_node_access",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$node_public_ca",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getTranslation",109],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",109],")",",",["T_WHITESPACE"," ",109],["T_VARIABLE","$web_user",109],")",";",["T_WHITESPACE","\n  ",109],"}",["T_WHITESPACE","\n\n  ",110],["T_DOC_COMMENT","\/**\n   * Tests node access with multiple node languages and private nodes.\n   *\/",112],["T_WHITESPACE","\n  ",114],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","testNodeAccessPrivate",115],"(",")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$web_user",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","drupalCreateUser",116],"(",["T_ARRAY","array",116],"(",["T_CONSTANT_ENCAPSED_STRING","'access content'",116],")",")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$expected_node_access",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_ARRAY","array",117],"(",["T_CONSTANT_ENCAPSED_STRING","'view'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_STRING","TRUE",117],",",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'update'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_STRING","FALSE",117],",",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'delete'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_STRING","FALSE",117],")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$expected_node_access_no_access",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_ARRAY","array",118],"(",["T_CONSTANT_ENCAPSED_STRING","'view'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_STRING","FALSE",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'update'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_STRING","FALSE",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'delete'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_STRING","FALSE",118],")",";",["T_WHITESPACE","\n\n    ",118],["T_COMMENT","\/\/ Creating a private node with langcode Hungarian, will be saved as the\n",120],["T_WHITESPACE","    ",121],["T_COMMENT","\/\/ fallback in node access table.\n",121],["T_WHITESPACE","    ",122],["T_VARIABLE","$node_private_hu",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","drupalCreateNode",122],"(",["T_ARRAY","array",122],"(",["T_CONSTANT_ENCAPSED_STRING","'body'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_ARRAY","array",122],"(",["T_ARRAY","array",122],"(",")",")",",",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'langcode'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'hu'",122],",",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'private'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_STRING","TRUE",122],")",")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","assertTrue",123],"(",["T_VARIABLE","$node_private_hu",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","language",123],"(",")",["T_OBJECT_OPERATOR","->",123],["T_STRING","getId",123],"(",")",["T_WHITESPACE"," ",123],["T_IS_EQUAL","==",123],["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'hu'",123],",",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'Node created as Hungarian.'",123],")",";",["T_WHITESPACE","\n\n    ",123],["T_COMMENT","\/\/ Tests the default access is not provided for the private Hungarian node.\n",125],["T_WHITESPACE","    ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","assertNodeAccess",126],"(",["T_VARIABLE","$expected_node_access_no_access",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$node_private_hu",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$web_user",126],")",";",["T_WHITESPACE","\n\n    ",126],["T_COMMENT","\/\/ Tests that Hungarian provided specifically results in the same.\n",128],["T_WHITESPACE","    ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","assertNodeAccess",129],"(",["T_VARIABLE","$expected_node_access_no_access",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$node_private_hu",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getTranslation",129],"(",["T_CONSTANT_ENCAPSED_STRING","'hu'",129],")",",",["T_WHITESPACE"," ",129],["T_VARIABLE","$web_user",129],")",";",["T_WHITESPACE","\n\n    ",129],["T_COMMENT","\/\/ Creating a private node with no special langcode, like when no language\n",131],["T_WHITESPACE","    ",132],["T_COMMENT","\/\/ module enabled.\n",132],["T_WHITESPACE","    ",133],["T_VARIABLE","$node_private_no_language",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","drupalCreateNode",133],"(",["T_ARRAY","array",133],"(",["T_WHITESPACE","\n      ",133],["T_CONSTANT_ENCAPSED_STRING","'private'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_STRING","TRUE",134],",",["T_WHITESPACE","\n      ",134],["T_CONSTANT_ENCAPSED_STRING","'langcode'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_STRING","LanguageInterface",135],["T_DOUBLE_COLON","::",135],["T_STRING","LANGCODE_NOT_SPECIFIED",135],",",["T_WHITESPACE","\n    ",135],")",")",";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","assertTrue",137],"(",["T_VARIABLE","$node_private_no_language",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","language",137],"(",")",["T_OBJECT_OPERATOR","->",137],["T_STRING","getId",137],"(",")",["T_WHITESPACE"," ",137],["T_IS_EQUAL","==",137],["T_WHITESPACE"," ",137],["T_STRING","LanguageInterface",137],["T_DOUBLE_COLON","::",137],["T_STRING","LANGCODE_NOT_SPECIFIED",137],",",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'Node created with not specified language.'",137],")",";",["T_WHITESPACE","\n\n    ",137],["T_COMMENT","\/\/ Tests that access is not granted if requested with no language.\n",139],["T_WHITESPACE","    ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","assertNodeAccess",140],"(",["T_VARIABLE","$expected_node_access_no_access",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$node_private_no_language",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$web_user",140],")",";",["T_WHITESPACE","\n\n    ",140],["T_COMMENT","\/\/ Reset the node access cache and turn on our test node access code.\n",142],["T_WHITESPACE","    ",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Drupal",143],["T_DOUBLE_COLON","::",143],["T_STRING","entityManager",143],"(",")",["T_OBJECT_OPERATOR","->",143],["T_STRING","getAccessControlHandler",143],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",143],")",["T_OBJECT_OPERATOR","->",143],["T_STRING","resetCache",143],"(",")",";",["T_WHITESPACE","\n    ",143],["T_NS_SEPARATOR","\\",144],["T_STRING","Drupal",144],["T_DOUBLE_COLON","::",144],["T_STRING","state",144],"(",")",["T_OBJECT_OPERATOR","->",144],["T_STRING","set",144],"(",["T_CONSTANT_ENCAPSED_STRING","'node_access_test_secret_catalan'",144],",",["T_WHITESPACE"," ",144],["T_LNUMBER","1",144],")",";",["T_WHITESPACE","\n\n    ",144],["T_COMMENT","\/\/ Tests that access is not granted if requested with no language.\n",146],["T_WHITESPACE","    ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","assertNodeAccess",147],"(",["T_VARIABLE","$expected_node_access_no_access",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$node_private_no_language",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$web_user",147],")",";",["T_WHITESPACE","\n\n    ",147],["T_COMMENT","\/\/ Creating a private node with langcode Catalan to test that the\n",149],["T_WHITESPACE","    ",150],["T_COMMENT","\/\/ node_access_test_secret_catalan flag works.\n",150],["T_WHITESPACE","    ",151],["T_VARIABLE","$private_ca_user",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","drupalCreateUser",151],"(",["T_ARRAY","array",151],"(",["T_CONSTANT_ENCAPSED_STRING","'access content'",151],",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'node test view'",151],")",")",";",["T_WHITESPACE","\n    ",151],["T_VARIABLE","$node_private_ca",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","drupalCreateNode",152],"(",["T_ARRAY","array",152],"(",["T_CONSTANT_ENCAPSED_STRING","'body'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_ARRAY","array",152],"(",["T_ARRAY","array",152],"(",")",")",",",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'langcode'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'ca'",152],",",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'private'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_STRING","TRUE",152],")",")",";",["T_WHITESPACE","\n    ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","assertTrue",153],"(",["T_VARIABLE","$node_private_ca",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","language",153],"(",")",["T_OBJECT_OPERATOR","->",153],["T_STRING","getId",153],"(",")",["T_WHITESPACE"," ",153],["T_IS_EQUAL","==",153],["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'ca'",153],",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'Node created as Catalan.'",153],")",";",["T_WHITESPACE","\n\n    ",153],["T_COMMENT","\/\/ Tests that Catalan is still not accessible to either user.\n",155],["T_WHITESPACE","    ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","assertNodeAccess",156],"(",["T_VARIABLE","$expected_node_access_no_access",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$node_private_ca",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$web_user",156],")",";",["T_WHITESPACE","\n    ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","assertNodeAccess",157],"(",["T_VARIABLE","$expected_node_access_no_access",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$node_private_ca",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getTranslation",157],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",157],")",",",["T_WHITESPACE"," ",157],["T_VARIABLE","$web_user",157],")",";",["T_WHITESPACE","\n    ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","assertNodeAccess",158],"(",["T_VARIABLE","$expected_node_access_no_access",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$node_private_ca",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$private_ca_user",158],")",";",["T_WHITESPACE","\n    ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","assertNodeAccess",159],"(",["T_VARIABLE","$expected_node_access_no_access",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$node_private_ca",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getTranslation",159],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",159],")",",",["T_WHITESPACE"," ",159],["T_VARIABLE","$private_ca_user",159],")",";",["T_WHITESPACE","\n\n    ",159],["T_NS_SEPARATOR","\\",161],["T_STRING","Drupal",161],["T_DOUBLE_COLON","::",161],["T_STRING","entityManager",161],"(",")",["T_OBJECT_OPERATOR","->",161],["T_STRING","getAccessControlHandler",161],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",161],")",["T_OBJECT_OPERATOR","->",161],["T_STRING","resetCache",161],"(",")",";",["T_WHITESPACE","\n    ",161],["T_NS_SEPARATOR","\\",162],["T_STRING","Drupal",162],["T_DOUBLE_COLON","::",162],["T_STRING","state",162],"(",")",["T_OBJECT_OPERATOR","->",162],["T_STRING","set",162],"(",["T_CONSTANT_ENCAPSED_STRING","'node_access_test_secret_catalan'",162],",",["T_WHITESPACE"," ",162],["T_LNUMBER","0",162],")",";",["T_WHITESPACE","\n\n    ",162],["T_COMMENT","\/\/ Tests that Catalan is still not accessible for a user with no access to\n",164],["T_WHITESPACE","    ",165],["T_COMMENT","\/\/ private nodes.\n",165],["T_WHITESPACE","    ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","assertNodeAccess",166],"(",["T_VARIABLE","$expected_node_access_no_access",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$node_private_ca",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$web_user",166],")",";",["T_WHITESPACE","\n    ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","assertNodeAccess",167],"(",["T_VARIABLE","$expected_node_access_no_access",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$node_private_ca",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getTranslation",167],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",167],")",",",["T_WHITESPACE"," ",167],["T_VARIABLE","$web_user",167],")",";",["T_WHITESPACE","\n\n    ",167],["T_COMMENT","\/\/ Tests that Catalan is accessible by a user with the permission to see\n",169],["T_WHITESPACE","    ",170],["T_COMMENT","\/\/ private nodes.\n",170],["T_WHITESPACE","    ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","assertNodeAccess",171],"(",["T_VARIABLE","$expected_node_access",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$node_private_ca",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$private_ca_user",171],")",";",["T_WHITESPACE","\n    ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","assertNodeAccess",172],"(",["T_VARIABLE","$expected_node_access",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$node_private_ca",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getTranslation",172],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",172],")",",",["T_WHITESPACE"," ",172],["T_VARIABLE","$private_ca_user",172],")",";",["T_WHITESPACE","\n  ",172],"}",["T_WHITESPACE","\n\n  ",173],["T_DOC_COMMENT","\/**\n   * Tests db_select() with a 'node_access' tag and langcode metadata.\n   *\/",175],["T_WHITESPACE","\n  ",177],["T_FUNCTION","function",178],["T_WHITESPACE"," ",178],["T_STRING","testNodeAccessQueryTag",178],"(",")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n    ",178],["T_COMMENT","\/\/ Create a normal authenticated user.\n",179],["T_WHITESPACE","    ",180],["T_VARIABLE","$web_user",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","drupalCreateUser",180],"(",["T_ARRAY","array",180],"(",["T_CONSTANT_ENCAPSED_STRING","'access content'",180],")",")",";",["T_WHITESPACE","\n\n    ",180],["T_COMMENT","\/\/ Load the user 1 user for later use as an admin user with permission to\n",182],["T_WHITESPACE","    ",183],["T_COMMENT","\/\/ see everything.\n",183],["T_WHITESPACE","    ",184],["T_VARIABLE","$admin_user",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_STRING","User",184],["T_DOUBLE_COLON","::",184],["T_STRING","load",184],"(",["T_LNUMBER","1",184],")",";",["T_WHITESPACE","\n\n    ",184],["T_COMMENT","\/\/ Creating a private node with langcode Hungarian, will be saved as\n",186],["T_WHITESPACE","    ",187],["T_COMMENT","\/\/ the fallback in node access table.\n",187],["T_WHITESPACE","    ",188],["T_VARIABLE","$node_private",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","drupalCreateNode",188],"(",["T_ARRAY","array",188],"(",["T_CONSTANT_ENCAPSED_STRING","'body'",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_ARRAY","array",188],"(",["T_ARRAY","array",188],"(",")",")",",",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'langcode'",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'hu'",188],",",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'private'",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_STRING","TRUE",188],")",")",";",["T_WHITESPACE","\n    ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","assertTrue",189],"(",["T_VARIABLE","$node_private",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","language",189],"(",")",["T_OBJECT_OPERATOR","->",189],["T_STRING","getId",189],"(",")",["T_WHITESPACE"," ",189],["T_IS_EQUAL","==",189],["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'hu'",189],",",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'Node created as Hungarian.'",189],")",";",["T_WHITESPACE","\n\n    ",189],["T_COMMENT","\/\/ Creating a public node with langcode Hungarian, will be saved as\n",191],["T_WHITESPACE","    ",192],["T_COMMENT","\/\/ the fallback in node access table.\n",192],["T_WHITESPACE","    ",193],["T_VARIABLE","$node_public",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","drupalCreateNode",193],"(",["T_ARRAY","array",193],"(",["T_CONSTANT_ENCAPSED_STRING","'body'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_ARRAY","array",193],"(",["T_ARRAY","array",193],"(",")",")",",",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'langcode'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'hu'",193],",",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'private'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_STRING","FALSE",193],")",")",";",["T_WHITESPACE","\n    ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","assertTrue",194],"(",["T_VARIABLE","$node_public",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","language",194],"(",")",["T_OBJECT_OPERATOR","->",194],["T_STRING","getId",194],"(",")",["T_WHITESPACE"," ",194],["T_IS_EQUAL","==",194],["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'hu'",194],",",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'Node created as Hungarian.'",194],")",";",["T_WHITESPACE","\n\n    ",194],["T_COMMENT","\/\/ Creating a public node with no special langcode, like when no language\n",196],["T_WHITESPACE","    ",197],["T_COMMENT","\/\/ module enabled.\n",197],["T_WHITESPACE","    ",198],["T_VARIABLE","$node_no_language",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","drupalCreateNode",198],"(",["T_ARRAY","array",198],"(",["T_WHITESPACE","\n      ",198],["T_CONSTANT_ENCAPSED_STRING","'private'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_STRING","FALSE",199],",",["T_WHITESPACE","\n      ",199],["T_CONSTANT_ENCAPSED_STRING","'langcode'",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_STRING","LanguageInterface",200],["T_DOUBLE_COLON","::",200],["T_STRING","LANGCODE_NOT_SPECIFIED",200],",",["T_WHITESPACE","\n    ",200],")",")",";",["T_WHITESPACE","\n    ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","assertTrue",202],"(",["T_VARIABLE","$node_no_language",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","language",202],"(",")",["T_OBJECT_OPERATOR","->",202],["T_STRING","getId",202],"(",")",["T_WHITESPACE"," ",202],["T_IS_EQUAL","==",202],["T_WHITESPACE"," ",202],["T_STRING","LanguageInterface",202],["T_DOUBLE_COLON","::",202],["T_STRING","LANGCODE_NOT_SPECIFIED",202],",",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'Node created with not specified language.'",202],")",";",["T_WHITESPACE","\n\n    ",202],["T_COMMENT","\/\/ Query the nodes table as the web user with the node access tag and no\n",204],["T_WHITESPACE","    ",205],["T_COMMENT","\/\/ specific langcode.\n",205],["T_WHITESPACE","    ",206],["T_VARIABLE","$select",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_STRING","db_select",206],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",206],",",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'n'",206],")",["T_WHITESPACE","\n      ",206],["T_OBJECT_OPERATOR","->",207],["T_STRING","fields",207],"(",["T_CONSTANT_ENCAPSED_STRING","'n'",207],",",["T_WHITESPACE"," ",207],["T_ARRAY","array",207],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",207],")",")",["T_WHITESPACE","\n      ",207],["T_OBJECT_OPERATOR","->",208],["T_STRING","addMetaData",208],"(",["T_CONSTANT_ENCAPSED_STRING","'account'",208],",",["T_WHITESPACE"," ",208],["T_VARIABLE","$web_user",208],")",["T_WHITESPACE","\n      ",208],["T_OBJECT_OPERATOR","->",209],["T_STRING","addTag",209],"(",["T_CONSTANT_ENCAPSED_STRING","'node_access'",209],")",";",["T_WHITESPACE","\n    ",209],["T_VARIABLE","$nids",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$select",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","execute",210],"(",")",["T_OBJECT_OPERATOR","->",210],["T_STRING","fetchAllAssoc",210],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",210],")",";",["T_WHITESPACE","\n\n    ",210],["T_COMMENT","\/\/ The public node and no language node should be returned. Because no\n",212],["T_WHITESPACE","    ",213],["T_COMMENT","\/\/ langcode is given it will use the fallback node.\n",213],["T_WHITESPACE","    ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","assertEqual",214],"(",["T_STRING","count",214],"(",["T_VARIABLE","$nids",214],")",",",["T_WHITESPACE"," ",214],["T_LNUMBER","2",214],",",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'db_select() returns 2 node'",214],")",";",["T_WHITESPACE","\n    ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","assertTrue",215],"(",["T_STRING","array_key_exists",215],"(",["T_VARIABLE","$node_public",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","id",215],"(",")",",",["T_WHITESPACE"," ",215],["T_VARIABLE","$nids",215],")",",",["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","'Returned node ID is public node.'",215],")",";",["T_WHITESPACE","\n    ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","assertTrue",216],"(",["T_STRING","array_key_exists",216],"(",["T_VARIABLE","$node_no_language",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","id",216],"(",")",",",["T_WHITESPACE"," ",216],["T_VARIABLE","$nids",216],")",",",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'Returned node ID is no language node.'",216],")",";",["T_WHITESPACE","\n\n    ",216],["T_COMMENT","\/\/ Query the nodes table as the web user with the node access tag and\n",218],["T_WHITESPACE","    ",219],["T_COMMENT","\/\/ langcode de.\n",219],["T_WHITESPACE","    ",220],["T_VARIABLE","$select",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_STRING","db_select",220],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",220],",",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'n'",220],")",["T_WHITESPACE","\n      ",220],["T_OBJECT_OPERATOR","->",221],["T_STRING","fields",221],"(",["T_CONSTANT_ENCAPSED_STRING","'n'",221],",",["T_WHITESPACE"," ",221],["T_ARRAY","array",221],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",221],")",")",["T_WHITESPACE","\n      ",221],["T_OBJECT_OPERATOR","->",222],["T_STRING","addMetaData",222],"(",["T_CONSTANT_ENCAPSED_STRING","'account'",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$web_user",222],")",["T_WHITESPACE","\n      ",222],["T_OBJECT_OPERATOR","->",223],["T_STRING","addMetaData",223],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",223],",",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'de'",223],")",["T_WHITESPACE","\n      ",223],["T_OBJECT_OPERATOR","->",224],["T_STRING","addTag",224],"(",["T_CONSTANT_ENCAPSED_STRING","'node_access'",224],")",";",["T_WHITESPACE","\n    ",224],["T_VARIABLE","$nids",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$select",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","execute",225],"(",")",["T_OBJECT_OPERATOR","->",225],["T_STRING","fetchAllAssoc",225],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",225],")",";",["T_WHITESPACE","\n\n    ",225],["T_COMMENT","\/\/ Because no nodes are created in German, no nodes are returned.\n",227],["T_WHITESPACE","    ",228],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","assertTrue",228],"(",["T_EMPTY","empty",228],"(",["T_VARIABLE","$nids",228],")",",",["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","'db_select() returns an empty result.'",228],")",";",["T_WHITESPACE","\n\n    ",228],["T_COMMENT","\/\/ Query the nodes table as admin user (full access) with the node access\n",230],["T_WHITESPACE","    ",231],["T_COMMENT","\/\/ tag and no specific langcode.\n",231],["T_WHITESPACE","    ",232],["T_VARIABLE","$select",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_STRING","db_select",232],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",232],",",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'n'",232],")",["T_WHITESPACE","\n      ",232],["T_OBJECT_OPERATOR","->",233],["T_STRING","fields",233],"(",["T_CONSTANT_ENCAPSED_STRING","'n'",233],",",["T_WHITESPACE"," ",233],["T_ARRAY","array",233],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",233],")",")",["T_WHITESPACE","\n      ",233],["T_OBJECT_OPERATOR","->",234],["T_STRING","addMetaData",234],"(",["T_CONSTANT_ENCAPSED_STRING","'account'",234],",",["T_WHITESPACE"," ",234],["T_VARIABLE","$admin_user",234],")",["T_WHITESPACE","\n      ",234],["T_OBJECT_OPERATOR","->",235],["T_STRING","addTag",235],"(",["T_CONSTANT_ENCAPSED_STRING","'node_access'",235],")",";",["T_WHITESPACE","\n    ",235],["T_VARIABLE","$nids",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$select",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","execute",236],"(",")",["T_OBJECT_OPERATOR","->",236],["T_STRING","fetchAllAssoc",236],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",236],")",";",["T_WHITESPACE","\n\n    ",236],["T_COMMENT","\/\/ All nodes are returned.\n",238],["T_WHITESPACE","    ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","assertEqual",239],"(",["T_STRING","count",239],"(",["T_VARIABLE","$nids",239],")",",",["T_WHITESPACE"," ",239],["T_LNUMBER","3",239],",",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'db_select() returns all three nodes.'",239],")",";",["T_WHITESPACE","\n\n    ",239],["T_COMMENT","\/\/ Query the nodes table as admin user (full access) with the node access\n",241],["T_WHITESPACE","    ",242],["T_COMMENT","\/\/ tag and langcode de.\n",242],["T_WHITESPACE","    ",243],["T_VARIABLE","$select",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_STRING","db_select",243],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",243],",",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'n'",243],")",["T_WHITESPACE","\n      ",243],["T_OBJECT_OPERATOR","->",244],["T_STRING","fields",244],"(",["T_CONSTANT_ENCAPSED_STRING","'n'",244],",",["T_WHITESPACE"," ",244],["T_ARRAY","array",244],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",244],")",")",["T_WHITESPACE","\n      ",244],["T_OBJECT_OPERATOR","->",245],["T_STRING","addMetaData",245],"(",["T_CONSTANT_ENCAPSED_STRING","'account'",245],",",["T_WHITESPACE"," ",245],["T_VARIABLE","$admin_user",245],")",["T_WHITESPACE","\n      ",245],["T_OBJECT_OPERATOR","->",246],["T_STRING","addMetaData",246],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",246],",",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'de'",246],")",["T_WHITESPACE","\n      ",246],["T_OBJECT_OPERATOR","->",247],["T_STRING","addTag",247],"(",["T_CONSTANT_ENCAPSED_STRING","'node_access'",247],")",";",["T_WHITESPACE","\n    ",247],["T_VARIABLE","$nids",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$select",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","execute",248],"(",")",["T_OBJECT_OPERATOR","->",248],["T_STRING","fetchAllAssoc",248],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",248],")",";",["T_WHITESPACE","\n\n    ",248],["T_COMMENT","\/\/ All nodes are returned because node access tag is not invoked when the\n",250],["T_WHITESPACE","    ",251],["T_COMMENT","\/\/ user is user 1.\n",251],["T_WHITESPACE","    ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","assertEqual",252],"(",["T_STRING","count",252],"(",["T_VARIABLE","$nids",252],")",",",["T_WHITESPACE"," ",252],["T_LNUMBER","3",252],",",["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'db_select() returns all three nodes.'",252],")",";",["T_WHITESPACE","\n  ",252],"}",["T_WHITESPACE","\n\n",253],"}",["T_WHITESPACE","\n",255]]