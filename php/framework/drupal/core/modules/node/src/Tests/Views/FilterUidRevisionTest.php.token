[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","node",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Views",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","views",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Views",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests the node_uid_revision handler.\n *\n * @group node\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","FilterUidRevisionTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","NodeTestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * Views used by this test.\n   *\n   * @var array\n   *\/",14],["T_WHITESPACE","\n  ",18],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_STATIC","static",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$testViews",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_ARRAY","array",19],"(",["T_CONSTANT_ENCAPSED_STRING","'test_filter_node_uid_revision'",19],")",";",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * Tests the node_uid_revision filter.\n   *\/",21],["T_WHITESPACE","\n  ",23],["T_PUBLIC","public",24],["T_WHITESPACE"," ",24],["T_FUNCTION","function",24],["T_WHITESPACE"," ",24],["T_STRING","testFilter",24],"(",")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n    ",24],["T_VARIABLE","$author",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","drupalCreateUser",25],"(",")",";",["T_WHITESPACE","\n    ",25],["T_VARIABLE","$no_author",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","drupalCreateUser",26],"(",")",";",["T_WHITESPACE","\n\n    ",26],["T_VARIABLE","$expected_result",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_ARRAY","array",28],"(",")",";",["T_WHITESPACE","\n    ",28],["T_COMMENT","\/\/ Create one node, with the author as the node author.\n",29],["T_WHITESPACE","    ",30],["T_VARIABLE","$node",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","drupalCreateNode",30],"(",["T_ARRAY","array",30],"(",["T_CONSTANT_ENCAPSED_STRING","'uid'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$author",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","id",30],"(",")",")",")",";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$expected_result",31],"[","]",["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_ARRAY","array",31],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$node",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","id",31],"(",")",")",";",["T_WHITESPACE","\n    ",31],["T_COMMENT","\/\/ Create one node of which an additional revision author will be the\n",32],["T_WHITESPACE","    ",33],["T_COMMENT","\/\/ author.\n",33],["T_WHITESPACE","    ",34],["T_VARIABLE","$node",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","drupalCreateNode",34],"(",["T_ARRAY","array",34],"(",["T_CONSTANT_ENCAPSED_STRING","'revision_uid'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$no_author",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","id",34],"(",")",")",")",";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$expected_result",35],"[","]",["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_ARRAY","array",35],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$node",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","id",35],"(",")",")",";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$revision",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_CLONE","clone",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$node",36],";",["T_WHITESPACE","\n    ",36],["T_COMMENT","\/\/ Force to add a new revision.\n",37],["T_WHITESPACE","    ",38],["T_VARIABLE","$revision",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","set",38],"(",["T_CONSTANT_ENCAPSED_STRING","'vid'",38],",",["T_WHITESPACE"," ",38],["T_STRING","NULL",38],")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$revision",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","set",39],"(",["T_CONSTANT_ENCAPSED_STRING","'revision_uid'",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$author",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","id",39],"(",")",")",";",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$revision",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","save",40],"(",")",";",["T_WHITESPACE","\n\n    ",40],["T_COMMENT","\/\/ Create one  node on which the author has neither authorship of revisions\n",42],["T_WHITESPACE","    ",43],["T_COMMENT","\/\/ or the main node.\n",43],["T_WHITESPACE","    ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","drupalCreateNode",44],"(",["T_ARRAY","array",44],"(",["T_CONSTANT_ENCAPSED_STRING","'uid'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$no_author",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","id",44],"(",")",")",")",";",["T_WHITESPACE","\n\n    ",44],["T_VARIABLE","$view",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","Views",46],["T_DOUBLE_COLON","::",46],["T_STRING","getView",46],"(",["T_CONSTANT_ENCAPSED_STRING","'test_filter_node_uid_revision'",46],")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$view",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","initHandlers",47],"(",")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$view",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","filter",48],"[",["T_CONSTANT_ENCAPSED_STRING","'uid_revision'",48],"]",["T_OBJECT_OPERATOR","->",48],["T_STRING","value",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_ARRAY","array",48],"(",["T_VARIABLE","$author",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","id",48],"(",")",")",";",["T_WHITESPACE","\n\n    ",48],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","executeView",50],"(",["T_VARIABLE","$view",50],")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertIdenticalResultset",51],"(",["T_VARIABLE","$view",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$expected_result",51],",",["T_WHITESPACE"," ",51],["T_ARRAY","array",51],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'nid'",51],")",",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'Make sure that the view only returns nodes which match either the node or the revision author.'",51],")",";",["T_WHITESPACE","\n  ",51],"}",["T_WHITESPACE","\n\n",52],"}",["T_WHITESPACE","\n",54]]