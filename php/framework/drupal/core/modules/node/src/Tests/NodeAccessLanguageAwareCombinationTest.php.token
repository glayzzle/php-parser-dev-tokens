[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","node",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Language",5],["T_NS_SEPARATOR","\\",5],["T_STRING","LanguageInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","field",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FieldConfig",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","language",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","ConfigurableLanguage",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","node",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","NodeType",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","user",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","User",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","field",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Entity",10],["T_NS_SEPARATOR","\\",10],["T_STRING","FieldStorageConfig",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Tests node access functionality with multiple languages and two node access\n * modules.\n *\n * @group node\n *\/",12],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","NodeAccessLanguageAwareCombinationTest",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_STRING","NodeTestBase",18],["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n\n  ",18],["T_DOC_COMMENT","\/**\n   * Enable language and two node access modules.\n   *\n   * @var array\n   *\/",20],["T_WHITESPACE","\n  ",24],["T_PUBLIC","public",25],["T_WHITESPACE"," ",25],["T_STATIC","static",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$modules",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_ARRAY","array",25],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'node_access_test_language'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'node_access_test'",25],")",";",["T_WHITESPACE","\n\n  ",25],["T_DOC_COMMENT","\/**\n   * A set of nodes to use in testing.\n   *\n   * @var \\Drupal\\node\\NodeInterface[]\n   *\/",27],["T_WHITESPACE","\n  ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$nodes",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_ARRAY","array",32],"(",")",";",["T_WHITESPACE","\n\n  ",32],["T_DOC_COMMENT","\/**\n   * A normal authenticated user.\n   *\n   * @var \\Drupal\\user\\UserInterface.\n   *\/",34],["T_WHITESPACE","\n  ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$webUser",39],";",["T_WHITESPACE","\n\n  ",39],["T_DOC_COMMENT","\/**\n   * User 1.\n   *\n   * @var \\Drupal\\user\\UserInterface.\n   *\/",41],["T_WHITESPACE","\n  ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$adminUser",46],";",["T_WHITESPACE","\n\n  ",46],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","setUp",48],"(",")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n    ",48],["T_STRING","parent",49],["T_DOUBLE_COLON","::",49],["T_STRING","setUp",49],"(",")",";",["T_WHITESPACE","\n\n    ",49],["T_STRING","node_access_test_add_field",51],"(",["T_STRING","NodeType",51],["T_DOUBLE_COLON","::",51],["T_STRING","load",51],"(",["T_CONSTANT_ENCAPSED_STRING","'page'",51],")",")",";",["T_WHITESPACE","\n\n    ",51],["T_COMMENT","\/\/ Create the 'private' field, which allows the node to be marked as private\n",53],["T_WHITESPACE","    ",54],["T_COMMENT","\/\/ (restricted access) in a given translation.\n",54],["T_WHITESPACE","    ",55],["T_VARIABLE","$field_storage",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_STRING","FieldStorageConfig",55],["T_DOUBLE_COLON","::",55],["T_STRING","create",55],"(",["T_ARRAY","array",55],"(",["T_WHITESPACE","\n      ",55],["T_CONSTANT_ENCAPSED_STRING","'field_name'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'field_private'",56],",",["T_WHITESPACE","\n      ",56],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'node'",57],",",["T_WHITESPACE","\n      ",57],["T_CONSTANT_ENCAPSED_STRING","'type'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'boolean'",58],",",["T_WHITESPACE","\n      ",58],["T_CONSTANT_ENCAPSED_STRING","'cardinality'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_LNUMBER","1",59],",",["T_WHITESPACE","\n    ",59],")",")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$field_storage",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","save",61],"(",")",";",["T_WHITESPACE","\n\n    ",61],["T_STRING","FieldConfig",63],["T_DOUBLE_COLON","::",63],["T_STRING","create",63],"(","[",["T_WHITESPACE","\n      ",63],["T_CONSTANT_ENCAPSED_STRING","'field_storage'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$field_storage",64],",",["T_WHITESPACE","\n      ",64],["T_CONSTANT_ENCAPSED_STRING","'bundle'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'page'",65],",",["T_WHITESPACE","\n      ",65],["T_CONSTANT_ENCAPSED_STRING","'widget'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_ARRAY","array",66],"(",["T_WHITESPACE","\n        ",66],["T_CONSTANT_ENCAPSED_STRING","'type'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'options_buttons'",67],",",["T_WHITESPACE","\n      ",67],")",",",["T_WHITESPACE","\n      ",68],["T_CONSTANT_ENCAPSED_STRING","'settings'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_ARRAY","array",69],"(",["T_WHITESPACE","\n        ",69],["T_CONSTANT_ENCAPSED_STRING","'on_label'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'Private'",70],",",["T_WHITESPACE","\n        ",70],["T_CONSTANT_ENCAPSED_STRING","'off_label'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'Not private'",71],",",["T_WHITESPACE","\n      ",71],")",",",["T_WHITESPACE","\n    ",72],"]",")",["T_OBJECT_OPERATOR","->",73],["T_STRING","save",73],"(",")",";",["T_WHITESPACE","\n\n    ",73],["T_COMMENT","\/\/ After enabling a node access module, the access table has to be rebuild.\n",75],["T_WHITESPACE","    ",76],["T_STRING","node_access_rebuild",76],"(",")",";",["T_WHITESPACE","\n\n    ",76],["T_COMMENT","\/\/ Add Hungarian and Catalan.\n",78],["T_WHITESPACE","    ",79],["T_STRING","ConfigurableLanguage",79],["T_DOUBLE_COLON","::",79],["T_STRING","createFromLangcode",79],"(",["T_CONSTANT_ENCAPSED_STRING","'hu'",79],")",["T_OBJECT_OPERATOR","->",79],["T_STRING","save",79],"(",")",";",["T_WHITESPACE","\n    ",79],["T_STRING","ConfigurableLanguage",80],["T_DOUBLE_COLON","::",80],["T_STRING","createFromLangcode",80],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",80],")",["T_OBJECT_OPERATOR","->",80],["T_STRING","save",80],"(",")",";",["T_WHITESPACE","\n\n    ",80],["T_COMMENT","\/\/ Create a normal authenticated user.\n",82],["T_WHITESPACE","    ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","webUser",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","drupalCreateUser",83],"(",["T_ARRAY","array",83],"(",["T_CONSTANT_ENCAPSED_STRING","'access content'",83],")",")",";",["T_WHITESPACE","\n\n    ",83],["T_COMMENT","\/\/ Load the user 1 user for later use as an admin user with permission to\n",85],["T_WHITESPACE","    ",86],["T_COMMENT","\/\/ see everything.\n",86],["T_WHITESPACE","    ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","adminUser",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","User",87],["T_DOUBLE_COLON","::",87],["T_STRING","load",87],"(",["T_LNUMBER","1",87],")",";",["T_WHITESPACE","\n\n    ",87],["T_COMMENT","\/\/ The node_access_test_language module allows individual translations of a\n",89],["T_WHITESPACE","    ",90],["T_COMMENT","\/\/ node to be marked private (not viewable by normal users), and the\n",90],["T_WHITESPACE","    ",91],["T_COMMENT","\/\/ node_access_test module allows whole nodes to be marked private. (In a\n",91],["T_WHITESPACE","    ",92],["T_COMMENT","\/\/ real-world implementation, hook_node_access_records_alter() might be\n",92],["T_WHITESPACE","    ",93],["T_COMMENT","\/\/ implemented by one or both modules to enforce that private nodes or\n",93],["T_WHITESPACE","    ",94],["T_COMMENT","\/\/ translations are always private, but we want to test the default,\n",94],["T_WHITESPACE","    ",95],["T_COMMENT","\/\/ additive behavior of node access).\n",95],["T_WHITESPACE","\n    ",96],["T_COMMENT","\/\/ Create six Hungarian nodes with Catalan translations:\n",97],["T_WHITESPACE","    ",98],["T_COMMENT","\/\/ 1. One public with neither language marked as private.\n",98],["T_WHITESPACE","    ",99],["T_COMMENT","\/\/ 2. One private with neither language marked as private.\n",99],["T_WHITESPACE","    ",100],["T_COMMENT","\/\/ 3. One public with only the Hungarian translation private.\n",100],["T_WHITESPACE","    ",101],["T_COMMENT","\/\/ 4. One public with only the Catalan translation private.\n",101],["T_WHITESPACE","    ",102],["T_COMMENT","\/\/ 5. One public with both the Hungarian and Catalan translations private.\n",102],["T_WHITESPACE","    ",103],["T_COMMENT","\/\/ 6. One private with both the Hungarian and Catalan translations private.\n",103],["T_WHITESPACE","    ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","nodes",104],"[",["T_CONSTANT_ENCAPSED_STRING","'public_both_public'",104],"]",["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$node",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","drupalCreateNode",104],"(",["T_ARRAY","array",104],"(",["T_WHITESPACE","\n      ",104],["T_CONSTANT_ENCAPSED_STRING","'body'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_ARRAY","array",105],"(",["T_ARRAY","array",105],"(",")",")",",",["T_WHITESPACE","\n      ",105],["T_CONSTANT_ENCAPSED_STRING","'langcode'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'hu'",106],",",["T_WHITESPACE","\n      ",106],["T_CONSTANT_ENCAPSED_STRING","'field_private'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_ARRAY","array",107],"(",["T_ARRAY","array",107],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_LNUMBER","0",107],")",")",",",["T_WHITESPACE","\n      ",107],["T_CONSTANT_ENCAPSED_STRING","'private'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_STRING","FALSE",108],",",["T_WHITESPACE","\n    ",108],")",")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$translation",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$node",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","addTranslation",110],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",110],")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$translation",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","title",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","value",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","randomString",111],"(",")",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$translation",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","field_private",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","value",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_LNUMBER","0",112],";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$node",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","save",113],"(",")",";",["T_WHITESPACE","\n\n    ",113],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","nodes",115],"[",["T_CONSTANT_ENCAPSED_STRING","'private_both_public'",115],"]",["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$node",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","drupalCreateNode",115],"(",["T_ARRAY","array",115],"(",["T_WHITESPACE","\n      ",115],["T_CONSTANT_ENCAPSED_STRING","'body'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_ARRAY","array",116],"(",["T_ARRAY","array",116],"(",")",")",",",["T_WHITESPACE","\n      ",116],["T_CONSTANT_ENCAPSED_STRING","'langcode'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'hu'",117],",",["T_WHITESPACE","\n      ",117],["T_CONSTANT_ENCAPSED_STRING","'field_private'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_ARRAY","array",118],"(",["T_ARRAY","array",118],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_LNUMBER","0",118],")",")",",",["T_WHITESPACE","\n      ",118],["T_CONSTANT_ENCAPSED_STRING","'private'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_STRING","TRUE",119],",",["T_WHITESPACE","\n    ",119],")",")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$translation",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$node",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","addTranslation",121],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",121],")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$translation",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","title",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","value",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","randomString",122],"(",")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$translation",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","field_private",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","value",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_LNUMBER","0",123],";",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$node",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","save",124],"(",")",";",["T_WHITESPACE","\n\n    ",124],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","nodes",126],"[",["T_CONSTANT_ENCAPSED_STRING","'public_hu_private'",126],"]",["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$node",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","drupalCreateNode",126],"(",["T_ARRAY","array",126],"(",["T_WHITESPACE","\n      ",126],["T_CONSTANT_ENCAPSED_STRING","'body'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_ARRAY","array",127],"(",["T_ARRAY","array",127],"(",")",")",",",["T_WHITESPACE","\n      ",127],["T_CONSTANT_ENCAPSED_STRING","'langcode'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'hu'",128],",",["T_WHITESPACE","\n      ",128],["T_CONSTANT_ENCAPSED_STRING","'field_private'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_ARRAY","array",129],"(",["T_ARRAY","array",129],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_LNUMBER","1",129],")",")",",",["T_WHITESPACE","\n      ",129],["T_CONSTANT_ENCAPSED_STRING","'private'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_STRING","FALSE",130],",",["T_WHITESPACE","\n    ",130],")",")",";",["T_WHITESPACE","\n    ",131],["T_VARIABLE","$translation",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$node",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","addTranslation",132],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",132],")",";",["T_WHITESPACE","\n    ",132],["T_VARIABLE","$translation",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","title",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","value",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","randomString",133],"(",")",";",["T_WHITESPACE","\n    ",133],["T_VARIABLE","$translation",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","field_private",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","value",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_LNUMBER","0",134],";",["T_WHITESPACE","\n    ",134],["T_VARIABLE","$node",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","save",135],"(",")",";",["T_WHITESPACE","\n\n    ",135],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","nodes",137],"[",["T_CONSTANT_ENCAPSED_STRING","'public_ca_private'",137],"]",["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$node",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","drupalCreateNode",137],"(",["T_ARRAY","array",137],"(",["T_WHITESPACE","\n      ",137],["T_CONSTANT_ENCAPSED_STRING","'body'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_ARRAY","array",138],"(",["T_ARRAY","array",138],"(",")",")",",",["T_WHITESPACE","\n      ",138],["T_CONSTANT_ENCAPSED_STRING","'langcode'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'hu'",139],",",["T_WHITESPACE","\n      ",139],["T_CONSTANT_ENCAPSED_STRING","'field_private'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_ARRAY","array",140],"(",["T_ARRAY","array",140],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_LNUMBER","0",140],")",")",",",["T_WHITESPACE","\n      ",140],["T_CONSTANT_ENCAPSED_STRING","'private'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_STRING","FALSE",141],",",["T_WHITESPACE","\n    ",141],")",")",";",["T_WHITESPACE","\n    ",142],["T_VARIABLE","$translation",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$node",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","addTranslation",143],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",143],")",";",["T_WHITESPACE","\n    ",143],["T_VARIABLE","$translation",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","title",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","value",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","randomString",144],"(",")",";",["T_WHITESPACE","\n    ",144],["T_VARIABLE","$translation",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","field_private",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","value",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_LNUMBER","1",145],";",["T_WHITESPACE","\n    ",145],["T_VARIABLE","$node",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","save",146],"(",")",";",["T_WHITESPACE","\n\n    ",146],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","nodes",148],"[",["T_CONSTANT_ENCAPSED_STRING","'public_both_private'",148],"]",["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$node",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","drupalCreateNode",148],"(",["T_ARRAY","array",148],"(",["T_WHITESPACE","\n      ",148],["T_CONSTANT_ENCAPSED_STRING","'body'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_ARRAY","array",149],"(",["T_ARRAY","array",149],"(",")",")",",",["T_WHITESPACE","\n      ",149],["T_CONSTANT_ENCAPSED_STRING","'langcode'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'hu'",150],",",["T_WHITESPACE","\n      ",150],["T_CONSTANT_ENCAPSED_STRING","'field_private'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_ARRAY","array",151],"(",["T_ARRAY","array",151],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_LNUMBER","1",151],")",")",",",["T_WHITESPACE","\n      ",151],["T_CONSTANT_ENCAPSED_STRING","'private'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_STRING","FALSE",152],",",["T_WHITESPACE","\n    ",152],")",")",";",["T_WHITESPACE","\n    ",153],["T_VARIABLE","$translation",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$node",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","addTranslation",154],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",154],")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$translation",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","title",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","value",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","randomString",155],"(",")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$translation",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","field_private",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","value",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_LNUMBER","1",156],";",["T_WHITESPACE","\n    ",156],["T_VARIABLE","$node",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","save",157],"(",")",";",["T_WHITESPACE","\n\n    ",157],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","nodes",159],"[",["T_CONSTANT_ENCAPSED_STRING","'private_both_private'",159],"]",["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$node",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","drupalCreateNode",159],"(",["T_ARRAY","array",159],"(",["T_WHITESPACE","\n      ",159],["T_CONSTANT_ENCAPSED_STRING","'body'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_ARRAY","array",160],"(",["T_ARRAY","array",160],"(",")",")",",",["T_WHITESPACE","\n      ",160],["T_CONSTANT_ENCAPSED_STRING","'langcode'",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'hu'",161],",",["T_WHITESPACE","\n      ",161],["T_CONSTANT_ENCAPSED_STRING","'field_private'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_ARRAY","array",162],"(",["T_ARRAY","array",162],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_LNUMBER","1",162],")",")",",",["T_WHITESPACE","\n      ",162],["T_CONSTANT_ENCAPSED_STRING","'private'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_STRING","TRUE",163],",",["T_WHITESPACE","\n    ",163],")",")",";",["T_WHITESPACE","\n    ",164],["T_VARIABLE","$translation",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$node",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","addTranslation",165],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",165],")",";",["T_WHITESPACE","\n    ",165],["T_VARIABLE","$translation",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","title",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","value",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","randomString",166],"(",")",";",["T_WHITESPACE","\n    ",166],["T_VARIABLE","$translation",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","field_private",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","value",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_LNUMBER","1",167],";",["T_WHITESPACE","\n    ",167],["T_VARIABLE","$node",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","save",168],"(",")",";",["T_WHITESPACE","\n\n    ",168],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","nodes",170],"[",["T_CONSTANT_ENCAPSED_STRING","'public_no_language_private'",170],"]",["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","drupalCreateNode",170],"(",["T_ARRAY","array",170],"(",["T_WHITESPACE","\n      ",170],["T_CONSTANT_ENCAPSED_STRING","'field_private'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_ARRAY","array",171],"(",["T_ARRAY","array",171],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_LNUMBER","1",171],")",")",",",["T_WHITESPACE","\n      ",171],["T_CONSTANT_ENCAPSED_STRING","'private'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_STRING","FALSE",172],",",["T_WHITESPACE","\n        ",172],["T_CONSTANT_ENCAPSED_STRING","'langcode'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_STRING","LanguageInterface",173],["T_DOUBLE_COLON","::",173],["T_STRING","LANGCODE_NOT_SPECIFIED",173],",",["T_WHITESPACE","\n    ",173],")",")",";",["T_WHITESPACE","\n    ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","nodes",175],"[",["T_CONSTANT_ENCAPSED_STRING","'public_no_language_public'",175],"]",["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","drupalCreateNode",175],"(",["T_ARRAY","array",175],"(",["T_WHITESPACE","\n      ",175],["T_CONSTANT_ENCAPSED_STRING","'field_private'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_ARRAY","array",176],"(",["T_ARRAY","array",176],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_LNUMBER","0",176],")",")",",",["T_WHITESPACE","\n      ",176],["T_CONSTANT_ENCAPSED_STRING","'private'",177],["T_WHITESPACE"," ",177],["T_DOUBLE_ARROW","=>",177],["T_WHITESPACE"," ",177],["T_STRING","FALSE",177],",",["T_WHITESPACE","\n      ",177],["T_CONSTANT_ENCAPSED_STRING","'langcode'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_STRING","LanguageInterface",178],["T_DOUBLE_COLON","::",178],["T_STRING","LANGCODE_NOT_SPECIFIED",178],",",["T_WHITESPACE","\n    ",178],")",")",";",["T_WHITESPACE","\n    ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","nodes",180],"[",["T_CONSTANT_ENCAPSED_STRING","'private_no_language_private'",180],"]",["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","drupalCreateNode",180],"(",["T_ARRAY","array",180],"(",["T_WHITESPACE","\n      ",180],["T_CONSTANT_ENCAPSED_STRING","'field_private'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_ARRAY","array",181],"(",["T_ARRAY","array",181],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_LNUMBER","1",181],")",")",",",["T_WHITESPACE","\n      ",181],["T_CONSTANT_ENCAPSED_STRING","'private'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_STRING","TRUE",182],",",["T_WHITESPACE","\n      ",182],["T_CONSTANT_ENCAPSED_STRING","'langcode'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_STRING","LanguageInterface",183],["T_DOUBLE_COLON","::",183],["T_STRING","LANGCODE_NOT_SPECIFIED",183],",",["T_WHITESPACE","\n    ",183],")",")",";",["T_WHITESPACE","\n    ",184],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","nodes",185],"[",["T_CONSTANT_ENCAPSED_STRING","'private_no_language_public'",185],"]",["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","drupalCreateNode",185],"(",["T_ARRAY","array",185],"(",["T_WHITESPACE","\n      ",185],["T_CONSTANT_ENCAPSED_STRING","'field_private'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_ARRAY","array",186],"(",["T_ARRAY","array",186],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_LNUMBER","1",186],")",")",",",["T_WHITESPACE","\n      ",186],["T_CONSTANT_ENCAPSED_STRING","'private'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_STRING","TRUE",187],",",["T_WHITESPACE","\n      ",187],["T_CONSTANT_ENCAPSED_STRING","'langcode'",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_STRING","LanguageInterface",188],["T_DOUBLE_COLON","::",188],["T_STRING","LANGCODE_NOT_SPECIFIED",188],",",["T_WHITESPACE","\n    ",188],")",")",";",["T_WHITESPACE","\n  ",189],"}",["T_WHITESPACE","\n\n  ",190],["T_DOC_COMMENT","\/**\n   * Tests node access and node access queries with multiple node languages.\n   *\/",192],["T_WHITESPACE","\n  ",194],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","testNodeAccessLanguageAwareCombination",195],"(",")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n\n    ",195],["T_VARIABLE","$expected_node_access",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_ARRAY","array",197],"(",["T_CONSTANT_ENCAPSED_STRING","'view'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_STRING","TRUE",197],",",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'update'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_STRING","FALSE",197],",",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'delete'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_STRING","FALSE",197],")",";",["T_WHITESPACE","\n    ",197],["T_VARIABLE","$expected_node_access_no_access",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_ARRAY","array",198],"(",["T_CONSTANT_ENCAPSED_STRING","'view'",198],["T_WHITESPACE"," ",198],["T_DOUBLE_ARROW","=>",198],["T_WHITESPACE"," ",198],["T_STRING","FALSE",198],",",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'update'",198],["T_WHITESPACE"," ",198],["T_DOUBLE_ARROW","=>",198],["T_WHITESPACE"," ",198],["T_STRING","FALSE",198],",",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'delete'",198],["T_WHITESPACE"," ",198],["T_DOUBLE_ARROW","=>",198],["T_WHITESPACE"," ",198],["T_STRING","FALSE",198],")",";",["T_WHITESPACE","\n\n    ",198],["T_COMMENT","\/\/ When the node and both translations are public, access should always be\n",200],["T_WHITESPACE","    ",201],["T_COMMENT","\/\/ granted.\n",201],["T_WHITESPACE","    ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","assertNodeAccess",202],"(",["T_VARIABLE","$expected_node_access",202],",",["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","nodes",202],"[",["T_CONSTANT_ENCAPSED_STRING","'public_both_public'",202],"]",",",["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","webUser",202],")",";",["T_WHITESPACE","\n    ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","assertNodeAccess",203],"(",["T_VARIABLE","$expected_node_access",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","nodes",203],"[",["T_CONSTANT_ENCAPSED_STRING","'public_both_public'",203],"]",["T_OBJECT_OPERATOR","->",203],["T_STRING","getTranslation",203],"(",["T_CONSTANT_ENCAPSED_STRING","'hu'",203],")",",",["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","webUser",203],")",";",["T_WHITESPACE","\n    ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","assertNodeAccess",204],"(",["T_VARIABLE","$expected_node_access",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","nodes",204],"[",["T_CONSTANT_ENCAPSED_STRING","'public_both_public'",204],"]",["T_OBJECT_OPERATOR","->",204],["T_STRING","getTranslation",204],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",204],")",",",["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","webUser",204],")",";",["T_WHITESPACE","\n\n    ",204],["T_COMMENT","\/\/ If the node is marked private but both existing translations are not,\n",206],["T_WHITESPACE","    ",207],["T_COMMENT","\/\/ access should still be granted, because the grants are additive.\n",207],["T_WHITESPACE","    ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","assertNodeAccess",208],"(",["T_VARIABLE","$expected_node_access",208],",",["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","nodes",208],"[",["T_CONSTANT_ENCAPSED_STRING","'private_both_public'",208],"]",",",["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","webUser",208],")",";",["T_WHITESPACE","\n    ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","assertNodeAccess",209],"(",["T_VARIABLE","$expected_node_access",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","nodes",209],"[",["T_CONSTANT_ENCAPSED_STRING","'private_both_public'",209],"]",["T_OBJECT_OPERATOR","->",209],["T_STRING","getTranslation",209],"(",["T_CONSTANT_ENCAPSED_STRING","'hu'",209],")",",",["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","webUser",209],")",";",["T_WHITESPACE","\n    ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","assertNodeAccess",210],"(",["T_VARIABLE","$expected_node_access",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","nodes",210],"[",["T_CONSTANT_ENCAPSED_STRING","'private_both_public'",210],"]",["T_OBJECT_OPERATOR","->",210],["T_STRING","getTranslation",210],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",210],")",",",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","webUser",210],")",";",["T_WHITESPACE","\n\n    ",210],["T_COMMENT","\/\/ If the node is marked private, but a existing translation is public,\n",212],["T_WHITESPACE","    ",213],["T_COMMENT","\/\/ access should only be granted for the public translation. With the\n",213],["T_WHITESPACE","    ",214],["T_COMMENT","\/\/ Hungarian translation marked as private, but the Catalan translation\n",214],["T_WHITESPACE","    ",215],["T_COMMENT","\/\/ public, the access is granted.\n",215],["T_WHITESPACE","    ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","assertNodeAccess",216],"(",["T_VARIABLE","$expected_node_access_no_access",216],",",["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","nodes",216],"[",["T_CONSTANT_ENCAPSED_STRING","'public_hu_private'",216],"]",",",["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","webUser",216],")",";",["T_WHITESPACE","\n    ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","assertNodeAccess",217],"(",["T_VARIABLE","$expected_node_access_no_access",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","nodes",217],"[",["T_CONSTANT_ENCAPSED_STRING","'public_hu_private'",217],"]",["T_OBJECT_OPERATOR","->",217],["T_STRING","getTranslation",217],"(",["T_CONSTANT_ENCAPSED_STRING","'hu'",217],")",",",["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","webUser",217],")",";",["T_WHITESPACE","\n    ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","assertNodeAccess",218],"(",["T_VARIABLE","$expected_node_access",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","nodes",218],"[",["T_CONSTANT_ENCAPSED_STRING","'public_hu_private'",218],"]",["T_OBJECT_OPERATOR","->",218],["T_STRING","getTranslation",218],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",218],")",",",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","webUser",218],")",";",["T_WHITESPACE","\n\n    ",218],["T_COMMENT","\/\/ With the Catalan translation marked as private, but the node public,\n",220],["T_WHITESPACE","    ",221],["T_COMMENT","\/\/ access is granted for the existing Hungarian translation, but not for the\n",221],["T_WHITESPACE","    ",222],["T_COMMENT","\/\/ Catalan.\n",222],["T_WHITESPACE","    ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","assertNodeAccess",223],"(",["T_VARIABLE","$expected_node_access",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","nodes",223],"[",["T_CONSTANT_ENCAPSED_STRING","'public_ca_private'",223],"]",",",["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","webUser",223],")",";",["T_WHITESPACE","\n    ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","assertNodeAccess",224],"(",["T_VARIABLE","$expected_node_access",224],",",["T_WHITESPACE"," ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","nodes",224],"[",["T_CONSTANT_ENCAPSED_STRING","'public_ca_private'",224],"]",["T_OBJECT_OPERATOR","->",224],["T_STRING","getTranslation",224],"(",["T_CONSTANT_ENCAPSED_STRING","'hu'",224],")",",",["T_WHITESPACE"," ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","webUser",224],")",";",["T_WHITESPACE","\n    ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","assertNodeAccess",225],"(",["T_VARIABLE","$expected_node_access_no_access",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","nodes",225],"[",["T_CONSTANT_ENCAPSED_STRING","'public_ca_private'",225],"]",["T_OBJECT_OPERATOR","->",225],["T_STRING","getTranslation",225],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",225],")",",",["T_WHITESPACE"," ",225],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","webUser",225],")",";",["T_WHITESPACE","\n\n    ",225],["T_COMMENT","\/\/ With both translations marked as private, but the node public, access\n",227],["T_WHITESPACE","    ",228],["T_COMMENT","\/\/ should be denied in all cases.\n",228],["T_WHITESPACE","    ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","assertNodeAccess",229],"(",["T_VARIABLE","$expected_node_access_no_access",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","nodes",229],"[",["T_CONSTANT_ENCAPSED_STRING","'public_both_private'",229],"]",",",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","webUser",229],")",";",["T_WHITESPACE","\n    ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","assertNodeAccess",230],"(",["T_VARIABLE","$expected_node_access_no_access",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","nodes",230],"[",["T_CONSTANT_ENCAPSED_STRING","'public_both_private'",230],"]",["T_OBJECT_OPERATOR","->",230],["T_STRING","getTranslation",230],"(",["T_CONSTANT_ENCAPSED_STRING","'hu'",230],")",",",["T_WHITESPACE"," ",230],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","webUser",230],")",";",["T_WHITESPACE","\n    ",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","assertNodeAccess",231],"(",["T_VARIABLE","$expected_node_access_no_access",231],",",["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","nodes",231],"[",["T_CONSTANT_ENCAPSED_STRING","'public_both_private'",231],"]",["T_OBJECT_OPERATOR","->",231],["T_STRING","getTranslation",231],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",231],")",",",["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","webUser",231],")",";",["T_WHITESPACE","\n\n    ",231],["T_COMMENT","\/\/ If the node and both its existing translations are private, access should\n",233],["T_WHITESPACE","    ",234],["T_COMMENT","\/\/ be denied in all cases.\n",234],["T_WHITESPACE","    ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","assertNodeAccess",235],"(",["T_VARIABLE","$expected_node_access_no_access",235],",",["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","nodes",235],"[",["T_CONSTANT_ENCAPSED_STRING","'private_both_private'",235],"]",",",["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","webUser",235],")",";",["T_WHITESPACE","\n    ",235],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","assertNodeAccess",236],"(",["T_VARIABLE","$expected_node_access_no_access",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","nodes",236],"[",["T_CONSTANT_ENCAPSED_STRING","'private_both_private'",236],"]",["T_OBJECT_OPERATOR","->",236],["T_STRING","getTranslation",236],"(",["T_CONSTANT_ENCAPSED_STRING","'hu'",236],")",",",["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","webUser",236],")",";",["T_WHITESPACE","\n    ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","assertNodeAccess",237],"(",["T_VARIABLE","$expected_node_access_no_access",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","nodes",237],"[",["T_CONSTANT_ENCAPSED_STRING","'private_both_private'",237],"]",["T_OBJECT_OPERATOR","->",237],["T_STRING","getTranslation",237],"(",["T_CONSTANT_ENCAPSED_STRING","'ca'",237],")",",",["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","webUser",237],")",";",["T_WHITESPACE","\n\n    ",237],["T_COMMENT","\/\/ No access for all languages as the language aware node access module\n",239],["T_WHITESPACE","    ",240],["T_COMMENT","\/\/ denies access.\n",240],["T_WHITESPACE","    ",241],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","assertNodeAccess",241],"(",["T_VARIABLE","$expected_node_access_no_access",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","nodes",241],"[",["T_CONSTANT_ENCAPSED_STRING","'public_no_language_private'",241],"]",",",["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","webUser",241],")",";",["T_WHITESPACE","\n\n    ",241],["T_COMMENT","\/\/ Access only for request with no language defined.\n",243],["T_WHITESPACE","    ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","assertNodeAccess",244],"(",["T_VARIABLE","$expected_node_access",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","nodes",244],"[",["T_CONSTANT_ENCAPSED_STRING","'public_no_language_public'",244],"]",",",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","webUser",244],")",";",["T_WHITESPACE","\n\n    ",244],["T_COMMENT","\/\/ No access for all languages as both node access modules deny access.\n",246],["T_WHITESPACE","    ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","assertNodeAccess",247],"(",["T_VARIABLE","$expected_node_access_no_access",247],",",["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","nodes",247],"[",["T_CONSTANT_ENCAPSED_STRING","'private_no_language_private'",247],"]",",",["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","webUser",247],")",";",["T_WHITESPACE","\n\n    ",247],["T_COMMENT","\/\/ No access for all languages as the non language aware node access module\n",249],["T_WHITESPACE","    ",250],["T_COMMENT","\/\/ denies access.\n",250],["T_WHITESPACE","    ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","assertNodeAccess",251],"(",["T_VARIABLE","$expected_node_access_no_access",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","nodes",251],"[",["T_CONSTANT_ENCAPSED_STRING","'private_no_language_public'",251],"]",",",["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","webUser",251],")",";",["T_WHITESPACE","\n\n    ",251],["T_COMMENT","\/\/ Query the node table with the node access tag in several languages.\n",253],["T_WHITESPACE","\n    ",254],["T_COMMENT","\/\/ Query with no language specified. The fallback (hu or und) will be used.\n",255],["T_WHITESPACE","    ",256],["T_VARIABLE","$select",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_STRING","db_select",256],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",256],",",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'n'",256],")",["T_WHITESPACE","\n      ",256],["T_OBJECT_OPERATOR","->",257],["T_STRING","fields",257],"(",["T_CONSTANT_ENCAPSED_STRING","'n'",257],",",["T_WHITESPACE"," ",257],["T_ARRAY","array",257],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",257],")",")",["T_WHITESPACE","\n      ",257],["T_OBJECT_OPERATOR","->",258],["T_STRING","addMetaData",258],"(",["T_CONSTANT_ENCAPSED_STRING","'account'",258],",",["T_WHITESPACE"," ",258],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","webUser",258],")",["T_WHITESPACE","\n      ",258],["T_OBJECT_OPERATOR","->",259],["T_STRING","addTag",259],"(",["T_CONSTANT_ENCAPSED_STRING","'node_access'",259],")",";",["T_WHITESPACE","\n    ",259],["T_VARIABLE","$nids",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$select",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","execute",260],"(",")",["T_OBJECT_OPERATOR","->",260],["T_STRING","fetchAllAssoc",260],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",260],")",";",["T_WHITESPACE","\n\n    ",260],["T_COMMENT","\/\/ Four nodes should be returned with public Hungarian translations or the\n",262],["T_WHITESPACE","    ",263],["T_COMMENT","\/\/ no language public node.\n",263],["T_WHITESPACE","    ",264],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","assertEqual",264],"(",["T_STRING","count",264],"(",["T_VARIABLE","$nids",264],")",",",["T_WHITESPACE"," ",264],["T_LNUMBER","4",264],",",["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","'db_select() returns 4 nodes when no langcode is specified.'",264],")",";",["T_WHITESPACE","\n    ",264],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","assertTrue",265],"(",["T_STRING","array_key_exists",265],"(",["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","nodes",265],"[",["T_CONSTANT_ENCAPSED_STRING","'public_both_public'",265],"]",["T_OBJECT_OPERATOR","->",265],["T_STRING","id",265],"(",")",",",["T_WHITESPACE"," ",265],["T_VARIABLE","$nids",265],")",",",["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","'Returned node ID is full public node.'",265],")",";",["T_WHITESPACE","\n    ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","assertTrue",266],"(",["T_STRING","array_key_exists",266],"(",["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","nodes",266],"[",["T_CONSTANT_ENCAPSED_STRING","'public_ca_private'",266],"]",["T_OBJECT_OPERATOR","->",266],["T_STRING","id",266],"(",")",",",["T_WHITESPACE"," ",266],["T_VARIABLE","$nids",266],")",",",["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","'Returned node ID is Hungarian public only node.'",266],")",";",["T_WHITESPACE","\n    ",266],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","assertTrue",267],"(",["T_STRING","array_key_exists",267],"(",["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","nodes",267],"[",["T_CONSTANT_ENCAPSED_STRING","'private_both_public'",267],"]",["T_OBJECT_OPERATOR","->",267],["T_STRING","id",267],"(",")",",",["T_WHITESPACE"," ",267],["T_VARIABLE","$nids",267],")",",",["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","'Returned node ID is both public non-language-aware private only node.'",267],")",";",["T_WHITESPACE","\n    ",267],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","assertTrue",268],"(",["T_STRING","array_key_exists",268],"(",["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","nodes",268],"[",["T_CONSTANT_ENCAPSED_STRING","'public_no_language_public'",268],"]",["T_OBJECT_OPERATOR","->",268],["T_STRING","id",268],"(",")",",",["T_WHITESPACE"," ",268],["T_VARIABLE","$nids",268],")",",",["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","'Returned node ID is no language public node.'",268],")",";",["T_WHITESPACE","\n\n    ",268],["T_COMMENT","\/\/ Query with Hungarian (hu) specified.\n",270],["T_WHITESPACE","    ",271],["T_VARIABLE","$select",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_STRING","db_select",271],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",271],",",["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","'n'",271],")",["T_WHITESPACE","\n      ",271],["T_OBJECT_OPERATOR","->",272],["T_STRING","fields",272],"(",["T_CONSTANT_ENCAPSED_STRING","'n'",272],",",["T_WHITESPACE"," ",272],["T_ARRAY","array",272],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",272],")",")",["T_WHITESPACE","\n      ",272],["T_OBJECT_OPERATOR","->",273],["T_STRING","addMetaData",273],"(",["T_CONSTANT_ENCAPSED_STRING","'account'",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","webUser",273],")",["T_WHITESPACE","\n      ",273],["T_OBJECT_OPERATOR","->",274],["T_STRING","addMetaData",274],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",274],",",["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'hu'",274],")",["T_WHITESPACE","\n      ",274],["T_OBJECT_OPERATOR","->",275],["T_STRING","addTag",275],"(",["T_CONSTANT_ENCAPSED_STRING","'node_access'",275],")",";",["T_WHITESPACE","\n    ",275],["T_VARIABLE","$nids",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$select",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","execute",276],"(",")",["T_OBJECT_OPERATOR","->",276],["T_STRING","fetchAllAssoc",276],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",276],")",";",["T_WHITESPACE","\n\n    ",276],["T_COMMENT","\/\/ Three nodes should be returned (with public Hungarian translations).\n",278],["T_WHITESPACE","    ",279],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","assertEqual",279],"(",["T_STRING","count",279],"(",["T_VARIABLE","$nids",279],")",",",["T_WHITESPACE"," ",279],["T_LNUMBER","3",279],",",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'db_select() returns 3 nodes.'",279],")",";",["T_WHITESPACE","\n    ",279],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","assertTrue",280],"(",["T_STRING","array_key_exists",280],"(",["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","nodes",280],"[",["T_CONSTANT_ENCAPSED_STRING","'public_both_public'",280],"]",["T_OBJECT_OPERATOR","->",280],["T_STRING","id",280],"(",")",",",["T_WHITESPACE"," ",280],["T_VARIABLE","$nids",280],")",",",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'Returned node ID is both public node.'",280],")",";",["T_WHITESPACE","\n    ",280],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","assertTrue",281],"(",["T_STRING","array_key_exists",281],"(",["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","nodes",281],"[",["T_CONSTANT_ENCAPSED_STRING","'public_ca_private'",281],"]",["T_OBJECT_OPERATOR","->",281],["T_STRING","id",281],"(",")",",",["T_WHITESPACE"," ",281],["T_VARIABLE","$nids",281],")",",",["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","'Returned node ID is Hungarian public only node.'",281],")",";",["T_WHITESPACE","\n    ",281],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","assertTrue",282],"(",["T_STRING","array_key_exists",282],"(",["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","nodes",282],"[",["T_CONSTANT_ENCAPSED_STRING","'private_both_public'",282],"]",["T_OBJECT_OPERATOR","->",282],["T_STRING","id",282],"(",")",",",["T_WHITESPACE"," ",282],["T_VARIABLE","$nids",282],")",",",["T_WHITESPACE"," ",282],["T_CONSTANT_ENCAPSED_STRING","'Returned node ID is both public non-language-aware private only node.'",282],")",";",["T_WHITESPACE","\n\n    ",282],["T_COMMENT","\/\/ Query with Catalan (ca) specified.\n",284],["T_WHITESPACE","    ",285],["T_VARIABLE","$select",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_STRING","db_select",285],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",285],",",["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","'n'",285],")",["T_WHITESPACE","\n      ",285],["T_OBJECT_OPERATOR","->",286],["T_STRING","fields",286],"(",["T_CONSTANT_ENCAPSED_STRING","'n'",286],",",["T_WHITESPACE"," ",286],["T_ARRAY","array",286],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",286],")",")",["T_WHITESPACE","\n      ",286],["T_OBJECT_OPERATOR","->",287],["T_STRING","addMetaData",287],"(",["T_CONSTANT_ENCAPSED_STRING","'account'",287],",",["T_WHITESPACE"," ",287],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","webUser",287],")",["T_WHITESPACE","\n      ",287],["T_OBJECT_OPERATOR","->",288],["T_STRING","addMetaData",288],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",288],",",["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","'ca'",288],")",["T_WHITESPACE","\n      ",288],["T_OBJECT_OPERATOR","->",289],["T_STRING","addTag",289],"(",["T_CONSTANT_ENCAPSED_STRING","'node_access'",289],")",";",["T_WHITESPACE","\n    ",289],["T_VARIABLE","$nids",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$select",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","execute",290],"(",")",["T_OBJECT_OPERATOR","->",290],["T_STRING","fetchAllAssoc",290],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",290],")",";",["T_WHITESPACE","\n\n    ",290],["T_COMMENT","\/\/ Three nodes should be returned (with public Catalan translations).\n",292],["T_WHITESPACE","    ",293],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","assertEqual",293],"(",["T_STRING","count",293],"(",["T_VARIABLE","$nids",293],")",",",["T_WHITESPACE"," ",293],["T_LNUMBER","3",293],",",["T_WHITESPACE"," ",293],["T_CONSTANT_ENCAPSED_STRING","'db_select() returns 3 nodes.'",293],")",";",["T_WHITESPACE","\n    ",293],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","assertTrue",294],"(",["T_STRING","array_key_exists",294],"(",["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","nodes",294],"[",["T_CONSTANT_ENCAPSED_STRING","'public_both_public'",294],"]",["T_OBJECT_OPERATOR","->",294],["T_STRING","id",294],"(",")",",",["T_WHITESPACE"," ",294],["T_VARIABLE","$nids",294],")",",",["T_WHITESPACE"," ",294],["T_CONSTANT_ENCAPSED_STRING","'Returned node ID is both public node.'",294],")",";",["T_WHITESPACE","\n    ",294],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","assertTrue",295],"(",["T_STRING","array_key_exists",295],"(",["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","nodes",295],"[",["T_CONSTANT_ENCAPSED_STRING","'public_hu_private'",295],"]",["T_OBJECT_OPERATOR","->",295],["T_STRING","id",295],"(",")",",",["T_WHITESPACE"," ",295],["T_VARIABLE","$nids",295],")",",",["T_WHITESPACE"," ",295],["T_CONSTANT_ENCAPSED_STRING","'Returned node ID is Catalan public only node.'",295],")",";",["T_WHITESPACE","\n    ",295],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","assertTrue",296],"(",["T_STRING","array_key_exists",296],"(",["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","nodes",296],"[",["T_CONSTANT_ENCAPSED_STRING","'private_both_public'",296],"]",["T_OBJECT_OPERATOR","->",296],["T_STRING","id",296],"(",")",",",["T_WHITESPACE"," ",296],["T_VARIABLE","$nids",296],")",",",["T_WHITESPACE"," ",296],["T_CONSTANT_ENCAPSED_STRING","'Returned node ID is both public non-language-aware private only node.'",296],")",";",["T_WHITESPACE","\n\n    ",296],["T_COMMENT","\/\/ Query with German (de) specified.\n",298],["T_WHITESPACE","    ",299],["T_VARIABLE","$select",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_STRING","db_select",299],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",299],",",["T_WHITESPACE"," ",299],["T_CONSTANT_ENCAPSED_STRING","'n'",299],")",["T_WHITESPACE","\n      ",299],["T_OBJECT_OPERATOR","->",300],["T_STRING","fields",300],"(",["T_CONSTANT_ENCAPSED_STRING","'n'",300],",",["T_WHITESPACE"," ",300],["T_ARRAY","array",300],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",300],")",")",["T_WHITESPACE","\n      ",300],["T_OBJECT_OPERATOR","->",301],["T_STRING","addMetaData",301],"(",["T_CONSTANT_ENCAPSED_STRING","'account'",301],",",["T_WHITESPACE"," ",301],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","webUser",301],")",["T_WHITESPACE","\n      ",301],["T_OBJECT_OPERATOR","->",302],["T_STRING","addMetaData",302],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",302],",",["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","'de'",302],")",["T_WHITESPACE","\n      ",302],["T_OBJECT_OPERATOR","->",303],["T_STRING","addTag",303],"(",["T_CONSTANT_ENCAPSED_STRING","'node_access'",303],")",";",["T_WHITESPACE","\n    ",303],["T_VARIABLE","$nids",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_VARIABLE","$select",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","execute",304],"(",")",["T_OBJECT_OPERATOR","->",304],["T_STRING","fetchAllAssoc",304],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",304],")",";",["T_WHITESPACE","\n\n    ",304],["T_COMMENT","\/\/ There are no nodes with German translations, so no results are returned.\n",306],["T_WHITESPACE","    ",307],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","assertTrue",307],"(",["T_EMPTY","empty",307],"(",["T_VARIABLE","$nids",307],")",",",["T_WHITESPACE"," ",307],["T_CONSTANT_ENCAPSED_STRING","'db_select() returns an empty result.'",307],")",";",["T_WHITESPACE","\n\n    ",307],["T_COMMENT","\/\/ Query the nodes table as admin user (full access) with the node access\n",309],["T_WHITESPACE","    ",310],["T_COMMENT","\/\/ tag and no specific langcode.\n",310],["T_WHITESPACE","    ",311],["T_VARIABLE","$select",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_STRING","db_select",311],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",311],",",["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","'n'",311],")",["T_WHITESPACE","\n      ",311],["T_OBJECT_OPERATOR","->",312],["T_STRING","fields",312],"(",["T_CONSTANT_ENCAPSED_STRING","'n'",312],",",["T_WHITESPACE"," ",312],["T_ARRAY","array",312],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",312],")",")",["T_WHITESPACE","\n      ",312],["T_OBJECT_OPERATOR","->",313],["T_STRING","addMetaData",313],"(",["T_CONSTANT_ENCAPSED_STRING","'account'",313],",",["T_WHITESPACE"," ",313],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","adminUser",313],")",["T_WHITESPACE","\n      ",313],["T_OBJECT_OPERATOR","->",314],["T_STRING","addTag",314],"(",["T_CONSTANT_ENCAPSED_STRING","'node_access'",314],")",";",["T_WHITESPACE","\n    ",314],["T_VARIABLE","$nids",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_VARIABLE","$select",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","execute",315],"(",")",["T_OBJECT_OPERATOR","->",315],["T_STRING","fetchAllAssoc",315],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",315],")",";",["T_WHITESPACE","\n\n    ",315],["T_COMMENT","\/\/ All nodes are returned.\n",317],["T_WHITESPACE","    ",318],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","assertEqual",318],"(",["T_STRING","count",318],"(",["T_VARIABLE","$nids",318],")",",",["T_WHITESPACE"," ",318],["T_LNUMBER","10",318],",",["T_WHITESPACE"," ",318],["T_CONSTANT_ENCAPSED_STRING","'db_select() returns all nodes.'",318],")",";",["T_WHITESPACE","\n\n    ",318],["T_COMMENT","\/\/ Query the nodes table as admin user (full access) with the node access\n",320],["T_WHITESPACE","    ",321],["T_COMMENT","\/\/ tag and langcode de.\n",321],["T_WHITESPACE","    ",322],["T_VARIABLE","$select",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_STRING","db_select",322],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",322],",",["T_WHITESPACE"," ",322],["T_CONSTANT_ENCAPSED_STRING","'n'",322],")",["T_WHITESPACE","\n      ",322],["T_OBJECT_OPERATOR","->",323],["T_STRING","fields",323],"(",["T_CONSTANT_ENCAPSED_STRING","'n'",323],",",["T_WHITESPACE"," ",323],["T_ARRAY","array",323],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",323],")",")",["T_WHITESPACE","\n      ",323],["T_OBJECT_OPERATOR","->",324],["T_STRING","addMetaData",324],"(",["T_CONSTANT_ENCAPSED_STRING","'account'",324],",",["T_WHITESPACE"," ",324],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","adminUser",324],")",["T_WHITESPACE","\n      ",324],["T_OBJECT_OPERATOR","->",325],["T_STRING","addMetaData",325],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",325],",",["T_WHITESPACE"," ",325],["T_CONSTANT_ENCAPSED_STRING","'de'",325],")",["T_WHITESPACE","\n      ",325],["T_OBJECT_OPERATOR","->",326],["T_STRING","addTag",326],"(",["T_CONSTANT_ENCAPSED_STRING","'node_access'",326],")",";",["T_WHITESPACE","\n    ",326],["T_VARIABLE","$nids",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_VARIABLE","$select",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","execute",327],"(",")",["T_OBJECT_OPERATOR","->",327],["T_STRING","fetchAllAssoc",327],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",327],")",";",["T_WHITESPACE","\n\n    ",327],["T_COMMENT","\/\/ Even though there is no German translation, all nodes are returned\n",329],["T_WHITESPACE","    ",330],["T_COMMENT","\/\/ because node access filtering does not occur when the user is user 1.\n",330],["T_WHITESPACE","    ",331],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","assertEqual",331],"(",["T_STRING","count",331],"(",["T_VARIABLE","$nids",331],")",",",["T_WHITESPACE"," ",331],["T_LNUMBER","10",331],",",["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","'db_select() returns all nodes.'",331],")",";",["T_WHITESPACE","\n  ",331],"}",["T_WHITESPACE","\n\n",332],"}",["T_WHITESPACE","\n",334]]