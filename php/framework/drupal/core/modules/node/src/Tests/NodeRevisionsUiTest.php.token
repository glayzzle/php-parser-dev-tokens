[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","node",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Url",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","node",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Node",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","node",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","NodeType",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Tests the UI for controlling node revision behavior.\n *\n * @group node\n *\/",9],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","NodeRevisionsUiTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","NodeTestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * @var \\Drupal\\user\\Entity\\User\n   *\/",16],["T_WHITESPACE","\n  ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$editor",19],";",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",21],["T_WHITESPACE","\n  ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_FUNCTION","function",24],["T_WHITESPACE"," ",24],["T_STRING","setUp",24],"(",")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n    ",24],["T_STRING","parent",25],["T_DOUBLE_COLON","::",25],["T_STRING","setUp",25],"(",")",";",["T_WHITESPACE","\n\n    ",25],["T_COMMENT","\/\/ Create users.\n",27],["T_WHITESPACE","    ",28],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","editor",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","drupalCreateUser",28],"(","[",["T_WHITESPACE","\n      ",28],["T_CONSTANT_ENCAPSED_STRING","'administer nodes'",29],",",["T_WHITESPACE","\n      ",29],["T_CONSTANT_ENCAPSED_STRING","'edit any page content'",30],",",["T_WHITESPACE","\n      ",30],["T_CONSTANT_ENCAPSED_STRING","'view page revisions'",31],",",["T_WHITESPACE","\n      ",31],["T_CONSTANT_ENCAPSED_STRING","'access user profiles'",32],",",["T_WHITESPACE","\n    ",32],"]",")",";",["T_WHITESPACE","\n  ",33],"}",["T_WHITESPACE","\n\n  ",34],["T_DOC_COMMENT","\/**\n   * Checks that unchecking 'Create new revision' works when editing a node.\n   *\/",36],["T_WHITESPACE","\n  ",38],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","testNodeFormSaveWithoutRevision",39],"(",")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","drupalLogin",40],"(",["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","editor",40],")",";",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$node_storage",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","container",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","get",41],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",41],")",["T_OBJECT_OPERATOR","->",41],["T_STRING","getStorage",41],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",41],")",";",["T_WHITESPACE","\n\n    ",41],["T_COMMENT","\/\/ Set page revision setting 'create new revision'. This will mean new\n",43],["T_WHITESPACE","    ",44],["T_COMMENT","\/\/ revisions are created by default when the node is edited.\n",44],["T_WHITESPACE","    ",45],["T_VARIABLE","$type",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","NodeType",45],["T_DOUBLE_COLON","::",45],["T_STRING","load",45],"(",["T_CONSTANT_ENCAPSED_STRING","'page'",45],")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$type",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","setNewRevision",46],"(",["T_STRING","TRUE",46],")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$type",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","save",47],"(",")",";",["T_WHITESPACE","\n\n    ",47],["T_COMMENT","\/\/ Create the node.\n",49],["T_WHITESPACE","    ",50],["T_VARIABLE","$node",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","drupalCreateNode",50],"(",")",";",["T_WHITESPACE","\n\n    ",50],["T_COMMENT","\/\/ Verify the checkbox is checked on the node edit form.\n",52],["T_WHITESPACE","    ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","drupalGet",53],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",53],["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_VARIABLE","$node",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","id",53],"(",")",["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",53],")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertFieldChecked",54],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-revision'",54],",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","\"'Create new revision' checkbox is checked\"",54],")",";",["T_WHITESPACE","\n\n    ",54],["T_COMMENT","\/\/ Uncheck the create new revision checkbox and save the node.\n",56],["T_WHITESPACE","    ",57],["T_VARIABLE","$edit",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_ARRAY","array",57],"(",["T_CONSTANT_ENCAPSED_STRING","'revision'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_STRING","FALSE",57],")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","drupalPostForm",58],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",58],["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_VARIABLE","$node",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","id",58],"(",")",["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$edit",58],",",["T_WHITESPACE"," ",58],["T_STRING","t",58],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and keep published'",58],")",")",";",["T_WHITESPACE","\n\n    ",58],["T_COMMENT","\/\/ Load the node again and check the revision is the same as before.\n",60],["T_WHITESPACE","    ",61],["T_VARIABLE","$node_storage",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","resetCache",61],"(",["T_ARRAY","array",61],"(",["T_VARIABLE","$node",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","id",61],"(",")",")",")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$node_revision",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$node_storage",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","load",62],"(",["T_VARIABLE","$node",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","id",62],"(",")",",",["T_WHITESPACE"," ",62],["T_STRING","TRUE",62],")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","assertEqual",63],"(",["T_VARIABLE","$node_revision",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getRevisionId",63],"(",")",",",["T_WHITESPACE"," ",63],["T_VARIABLE","$node",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getRevisionId",63],"(",")",",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","\"After an existing node is saved with 'Create new revision' unchecked, a new revision is not created.\"",63],")",";",["T_WHITESPACE","\n\n    ",63],["T_COMMENT","\/\/ Verify the checkbox is checked on the node edit form.\n",65],["T_WHITESPACE","    ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","drupalGet",66],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",66],["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_VARIABLE","$node",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","id",66],"(",")",["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",66],")",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","assertFieldChecked",67],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-revision'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","\"'Create new revision' checkbox is checked\"",67],")",";",["T_WHITESPACE","\n\n    ",67],["T_COMMENT","\/\/ Submit the form without changing the checkbox.\n",69],["T_WHITESPACE","    ",70],["T_VARIABLE","$edit",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_ARRAY","array",70],"(",")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","drupalPostForm",71],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",71],["T_WHITESPACE"," ",71],".",["T_WHITESPACE"," ",71],["T_VARIABLE","$node",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","id",71],"(",")",["T_WHITESPACE"," ",71],".",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$edit",71],",",["T_WHITESPACE"," ",71],["T_STRING","t",71],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and keep published'",71],")",")",";",["T_WHITESPACE","\n\n    ",71],["T_COMMENT","\/\/ Load the node again and check the revision is different from before.\n",73],["T_WHITESPACE","    ",74],["T_VARIABLE","$node_storage",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","resetCache",74],"(",["T_ARRAY","array",74],"(",["T_VARIABLE","$node",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","id",74],"(",")",")",")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$node_revision",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$node_storage",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","load",75],"(",["T_VARIABLE","$node",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","id",75],"(",")",")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","assertNotEqual",76],"(",["T_VARIABLE","$node_revision",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getRevisionId",76],"(",")",",",["T_WHITESPACE"," ",76],["T_VARIABLE","$node",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getRevisionId",76],"(",")",",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","\"After an existing node is saved with 'Create new revision' checked, a new revision is created.\"",76],")",";",["T_WHITESPACE","\n  ",76],"}",["T_WHITESPACE","\n\n  ",77],["T_DOC_COMMENT","\/**\n   * Checks HTML double escaping of revision logs.\n   *\/",79],["T_WHITESPACE","\n  ",81],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","testNodeRevisionDoubleEscapeFix",82],"(",")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","drupalLogin",83],"(",["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","editor",83],")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$nodes",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],"[","]",";",["T_WHITESPACE","\n\n    ",84],["T_COMMENT","\/\/ Create the node.\n",86],["T_WHITESPACE","    ",87],["T_VARIABLE","$node",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","drupalCreateNode",87],"(",")",";",["T_WHITESPACE","\n\n    ",87],["T_VARIABLE","$username",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],"[",["T_WHITESPACE","\n      ",89],["T_CONSTANT_ENCAPSED_STRING","'#theme'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'username'",90],",",["T_WHITESPACE","\n      ",90],["T_CONSTANT_ENCAPSED_STRING","'#account'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","editor",91],",",["T_WHITESPACE","\n    ",91],"]",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$editor",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_NS_SEPARATOR","\\",93],["T_STRING","Drupal",93],["T_DOUBLE_COLON","::",93],["T_STRING","service",93],"(",["T_CONSTANT_ENCAPSED_STRING","'renderer'",93],")",["T_OBJECT_OPERATOR","->",93],["T_STRING","renderPlain",93],"(",["T_VARIABLE","$username",93],")",";",["T_WHITESPACE","\n\n    ",93],["T_COMMENT","\/\/ Get original node.\n",95],["T_WHITESPACE","    ",96],["T_VARIABLE","$nodes",96],"[","]",["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_CLONE","clone",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$node",96],";",["T_WHITESPACE","\n\n    ",96],["T_COMMENT","\/\/ Create revision with a random title and body and update variables.\n",98],["T_WHITESPACE","    ",99],["T_VARIABLE","$node",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","title",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","randomMachineName",99],"(",")",";",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$node",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","body",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],"[",["T_WHITESPACE","\n      ",100],["T_CONSTANT_ENCAPSED_STRING","'value'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","randomMachineName",101],"(",["T_LNUMBER","32",101],")",",",["T_WHITESPACE","\n      ",101],["T_CONSTANT_ENCAPSED_STRING","'format'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_STRING","filter_default_format",102],"(",")",",",["T_WHITESPACE","\n    ",102],"]",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$node",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","setNewRevision",104],"(",")",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$revision_log",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'Revision <em>message<\/em> with markup.'",105],";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$node",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","revision_log",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","value",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$revision_log",106],";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$node",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","save",107],"(",")",";",["T_WHITESPACE","\n    ",107],["T_COMMENT","\/\/ Make sure we get revision information.\n",108],["T_WHITESPACE","    ",109],["T_VARIABLE","$node",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_STRING","Node",109],["T_DOUBLE_COLON","::",109],["T_STRING","load",109],"(",["T_VARIABLE","$node",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","id",109],"(",")",")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$nodes",110],"[","]",["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_CLONE","clone",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$node",110],";",["T_WHITESPACE","\n\n    ",110],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","drupalGet",112],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",112],["T_WHITESPACE"," ",112],".",["T_WHITESPACE"," ",112],["T_VARIABLE","$node",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","id",112],"(",")",["T_WHITESPACE"," ",112],".",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'\/revisions'",112],")",";",["T_WHITESPACE","\n\n    ",112],["T_COMMENT","\/\/ Assert the old revision message.\n",114],["T_WHITESPACE","    ",115],["T_VARIABLE","$date",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_STRING","format_date",115],"(",["T_VARIABLE","$nodes",115],"[",["T_LNUMBER","0",115],"]",["T_OBJECT_OPERATOR","->",115],["T_STRING","revision_timestamp",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","value",115],",",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'short'",115],")",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$url",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_NEW","new",116],["T_WHITESPACE"," ",116],["T_STRING","Url",116],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.node.revision'",116],",",["T_WHITESPACE"," ",116],"[",["T_CONSTANT_ENCAPSED_STRING","'node'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$nodes",116],"[",["T_LNUMBER","0",116],"]",["T_OBJECT_OPERATOR","->",116],["T_STRING","id",116],"(",")",",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'node_revision'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$nodes",116],"[",["T_LNUMBER","0",116],"]",["T_OBJECT_OPERATOR","->",116],["T_STRING","getRevisionId",116],"(",")","]",")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","assertRaw",117],"(",["T_NS_SEPARATOR","\\",117],["T_STRING","Drupal",117],["T_DOUBLE_COLON","::",117],["T_STRING","l",117],"(",["T_VARIABLE","$date",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$url",117],")",["T_WHITESPACE"," ",117],".",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","' by '",117],["T_WHITESPACE"," ",117],".",["T_WHITESPACE"," ",117],["T_VARIABLE","$editor",117],")",";",["T_WHITESPACE","\n\n    ",117],["T_COMMENT","\/\/ Assert the current revision message.\n",119],["T_WHITESPACE","    ",120],["T_VARIABLE","$date",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_STRING","format_date",120],"(",["T_VARIABLE","$nodes",120],"[",["T_LNUMBER","1",120],"]",["T_OBJECT_OPERATOR","->",120],["T_STRING","revision_timestamp",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","value",120],",",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'short'",120],")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","assertRaw",121],"(",["T_VARIABLE","$nodes",121],"[",["T_LNUMBER","1",121],"]",["T_OBJECT_OPERATOR","->",121],["T_STRING","link",121],"(",["T_VARIABLE","$date",121],")",["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","' by '",121],["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_VARIABLE","$editor",121],["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'<p class=\"revision-log\">'",121],["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_VARIABLE","$revision_log",121],["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'<\/p>'",121],")",";",["T_WHITESPACE","\n  ",121],"}",["T_WHITESPACE","\n\n  ",122],["T_DOC_COMMENT","\/**\n   * Checks the Revisions tab.\n   *\/",124],["T_WHITESPACE","\n  ",126],["T_PUBLIC","public",127],["T_WHITESPACE"," ",127],["T_FUNCTION","function",127],["T_WHITESPACE"," ",127],["T_STRING","testNodeRevisionsTabWithDefaultRevision",127],"(",")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","drupalLogin",128],"(",["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","editor",128],")",";",["T_WHITESPACE","\n\n    ",128],["T_COMMENT","\/\/ Create the node.\n",130],["T_WHITESPACE","    ",131],["T_VARIABLE","$node",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","drupalCreateNode",131],"(",")",";",["T_WHITESPACE","\n\n    ",131],["T_VARIABLE","$node",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","setNewRevision",133],"(",["T_STRING","TRUE",133],")",";",["T_WHITESPACE","\n    ",133],["T_VARIABLE","$node",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","save",134],"(",")",";",["T_WHITESPACE","\n    ",134],["T_VARIABLE","$node",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","setNewRevision",135],"(",["T_STRING","TRUE",135],")",";",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$node",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","save",136],"(",")",";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$node",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","isDefaultRevision",137],"(",["T_STRING","FALSE",137],")",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$node",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","setNewRevision",138],"(",["T_STRING","TRUE",138],")",";",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$node",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","save",139],"(",")",";",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$node",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","isDefaultRevision",140],"(",["T_STRING","FALSE",140],")",";",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$node",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","setNewRevision",141],"(",["T_STRING","TRUE",141],")",";",["T_WHITESPACE","\n    ",141],["T_VARIABLE","$node",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","save",142],"(",")",";",["T_WHITESPACE","\n\n    ",142],["T_VARIABLE","$node_id",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$node",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","id",144],"(",")",";",["T_WHITESPACE","\n\n    ",144],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","drupalGet",146],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",146],["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_VARIABLE","$node_id",146],["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","'\/revisions'",146],")",";",["T_WHITESPACE","\n\n    ",146],["T_COMMENT","\/\/ Verify that the default revision can be an older revision than the latest\n",148],["T_WHITESPACE","    ",149],["T_COMMENT","\/\/ one.\n",149],["T_WHITESPACE","    ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","assertLinkByHref",150],"(",["T_CONSTANT_ENCAPSED_STRING","'\/node\/'",150],["T_WHITESPACE"," ",150],".",["T_WHITESPACE"," ",150],["T_VARIABLE","$node_id",150],["T_WHITESPACE"," ",150],".",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'\/revisions\/5\/revert'",150],")",";",["T_WHITESPACE","\n    ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","assertLinkByHref",151],"(",["T_CONSTANT_ENCAPSED_STRING","'\/node\/'",151],["T_WHITESPACE"," ",151],".",["T_WHITESPACE"," ",151],["T_VARIABLE","$node_id",151],["T_WHITESPACE"," ",151],".",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'\/revisions\/4\/revert'",151],")",";",["T_WHITESPACE","\n    ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","assertNoLinkByHref",152],"(",["T_CONSTANT_ENCAPSED_STRING","'\/node\/'",152],["T_WHITESPACE"," ",152],".",["T_WHITESPACE"," ",152],["T_VARIABLE","$node_id",152],["T_WHITESPACE"," ",152],".",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'\/revisions\/3\/revert'",152],")",";",["T_WHITESPACE","\n    ",152],["T_VARIABLE","$current_revision_row",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","xpath",153],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/table[contains(@class, :table_class)]\/\/tbody\/\/tr[3 and contains(@class, :class) and contains(., :text)]\"",153],",",["T_WHITESPACE"," ",153],"[",["T_WHITESPACE","\n      ",153],["T_CONSTANT_ENCAPSED_STRING","':table_class'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'node-revision-table'",154],",",["T_WHITESPACE","\n      ",154],["T_CONSTANT_ENCAPSED_STRING","':class'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'revision-current'",155],",",["T_WHITESPACE","\n      ",155],["T_CONSTANT_ENCAPSED_STRING","':text'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'Current revision'",156],",",["T_WHITESPACE","\n    ",156],"]",")",";",["T_WHITESPACE","\n    ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","assertEqual",158],"(",["T_STRING","count",158],"(",["T_VARIABLE","$current_revision_row",158],")",",",["T_WHITESPACE"," ",158],["T_LNUMBER","1",158],",",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'The default revision can be a revision other than the latest one.'",158],")",";",["T_WHITESPACE","\n    ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","assertLinkByHref",159],"(",["T_CONSTANT_ENCAPSED_STRING","'\/node\/'",159],["T_WHITESPACE"," ",159],".",["T_WHITESPACE"," ",159],["T_VARIABLE","$node_id",159],["T_WHITESPACE"," ",159],".",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'\/revisions\/2\/revert'",159],")",";",["T_WHITESPACE","\n    ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","assertLinkByHref",160],"(",["T_CONSTANT_ENCAPSED_STRING","'\/node\/'",160],["T_WHITESPACE"," ",160],".",["T_WHITESPACE"," ",160],["T_VARIABLE","$node_id",160],["T_WHITESPACE"," ",160],".",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'\/revisions\/1\/revert'",160],")",";",["T_WHITESPACE","\n  ",160],"}",["T_WHITESPACE","\n\n",161],"}",["T_WHITESPACE","\n",163]]