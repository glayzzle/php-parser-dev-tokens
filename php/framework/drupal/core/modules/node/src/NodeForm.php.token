[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","node",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ContentEntityForm",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","EntityManagerInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Form",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FormStateInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","user",8],["T_NS_SEPARATOR","\\",8],["T_STRING","PrivateTempStoreFactory",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Symfony",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Component",9],["T_NS_SEPARATOR","\\",9],["T_STRING","DependencyInjection",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ContainerInterface",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Form handler for the node edit forms.\n *\/",11],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","NodeForm",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","ContentEntityForm",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * The tempstore factory.\n   *\n   * @var \\Drupal\\user\\PrivateTempStoreFactory\n   *\/",16],["T_WHITESPACE","\n  ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$tempStoreFactory",21],";",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * Whether this node has been previewed or not.\n   *\n   * @deprecated Scheduled for removal in Drupal 8.3.x. Use the form state\n   *   property 'has_been_previewed' instead.\n   *\/",23],["T_WHITESPACE","\n  ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$hasBeenPreviewed",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_STRING","FALSE",29],";",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * Constructs a ContentEntityForm object.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityManagerInterface $entity_manager\n   *   The entity manager.\n   * @param \\Drupal\\user\\PrivateTempStoreFactory $temp_store_factory\n   *   The factory for the temp store object.\n   *\/",31],["T_WHITESPACE","\n  ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","__construct",39],"(",["T_STRING","EntityManagerInterface",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$entity_manager",39],",",["T_WHITESPACE"," ",39],["T_STRING","PrivateTempStoreFactory",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$temp_store_factory",39],")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n    ",39],["T_STRING","parent",40],["T_DOUBLE_COLON","::",40],["T_STRING","__construct",40],"(",["T_VARIABLE","$entity_manager",40],")",";",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","tempStoreFactory",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$temp_store_factory",41],";",["T_WHITESPACE","\n  ",41],"}",["T_WHITESPACE","\n\n  ",42],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",44],["T_WHITESPACE","\n  ",46],["T_PUBLIC","public",47],["T_WHITESPACE"," ",47],["T_STATIC","static",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","create",47],"(",["T_STRING","ContainerInterface",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$container",47],")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n    ",47],["T_RETURN","return",48],["T_WHITESPACE"," ",48],["T_NEW","new",48],["T_WHITESPACE"," ",48],["T_STATIC","static",48],"(",["T_WHITESPACE","\n      ",48],["T_VARIABLE","$container",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","get",49],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",49],")",",",["T_WHITESPACE","\n      ",49],["T_VARIABLE","$container",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","get",50],"(",["T_CONSTANT_ENCAPSED_STRING","'user.private_tempstore'",50],")",["T_WHITESPACE","\n    ",50],")",";",["T_WHITESPACE","\n  ",51],"}",["T_WHITESPACE","\n\n  ",52],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",54],["T_WHITESPACE","\n  ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","prepareEntity",57],"(",")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n    ",57],["T_DOC_COMMENT","\/** @var \\Drupal\\node\\NodeInterface $node *\/",58],["T_WHITESPACE","\n    ",58],["T_VARIABLE","$node",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","entity",59],";",["T_WHITESPACE","\n\n    ",59],["T_IF","if",61],["T_WHITESPACE"," ",61],"(","!",["T_VARIABLE","$node",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","isNew",61],"(",")",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n      ",61],["T_COMMENT","\/\/ Remove the revision log message from the original node entity.\n",62],["T_WHITESPACE","      ",63],["T_VARIABLE","$node",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","revision_log",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_STRING","NULL",63],";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n  ",64],"}",["T_WHITESPACE","\n\n  ",65],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",67],["T_WHITESPACE","\n  ",69],["T_PUBLIC","public",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","form",70],"(",["T_ARRAY","array",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$form",70],",",["T_WHITESPACE"," ",70],["T_STRING","FormStateInterface",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$form_state",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","hasBeenPreviewed",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$form_state",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","get",71],"(",["T_CONSTANT_ENCAPSED_STRING","'has_been_previewed'",71],")",["T_WHITESPACE"," ",71],"?",":",["T_WHITESPACE"," ",71],["T_STRING","FALSE",71],";",["T_WHITESPACE","\n\n    ",71],["T_COMMENT","\/\/ Try to restore from temp store, this must be done before calling\n",73],["T_WHITESPACE","    ",74],["T_COMMENT","\/\/ parent::form().\n",74],["T_WHITESPACE","    ",75],["T_VARIABLE","$store",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","tempStoreFactory",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","get",75],"(",["T_CONSTANT_ENCAPSED_STRING","'node_preview'",75],")",";",["T_WHITESPACE","\n\n    ",75],["T_COMMENT","\/\/ Attempt to load from preview when the uuid is present unless we are\n",77],["T_WHITESPACE","    ",78],["T_COMMENT","\/\/ rebuilding the form.\n",78],["T_WHITESPACE","    ",79],["T_VARIABLE","$request_uuid",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Drupal",79],["T_DOUBLE_COLON","::",79],["T_STRING","request",79],"(",")",["T_OBJECT_OPERATOR","->",79],["T_STRING","query",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","get",79],"(",["T_CONSTANT_ENCAPSED_STRING","'uuid'",79],")",";",["T_WHITESPACE","\n    ",79],["T_IF","if",80],["T_WHITESPACE"," ",80],"(","!",["T_VARIABLE","$form_state",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","isRebuilding",80],"(",")",["T_WHITESPACE"," ",80],["T_BOOLEAN_AND","&&",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$request_uuid",80],["T_WHITESPACE"," ",80],["T_BOOLEAN_AND","&&",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$preview",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$store",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","get",80],"(",["T_VARIABLE","$request_uuid",80],")",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n      ",80],["T_DOC_COMMENT","\/** @var $preview \\Drupal\\Core\\Form\\FormStateInterface *\/",81],["T_WHITESPACE","\n\n      ",81],["T_VARIABLE","$form_state",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","setStorage",83],"(",["T_VARIABLE","$preview",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getStorage",83],"(",")",")",";",["T_WHITESPACE","\n      ",83],["T_VARIABLE","$form_state",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","setUserInput",84],"(",["T_VARIABLE","$preview",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getUserInput",84],"(",")",")",";",["T_WHITESPACE","\n\n      ",84],["T_COMMENT","\/\/ Rebuild the form.\n",86],["T_WHITESPACE","      ",87],["T_VARIABLE","$form_state",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","setRebuild",87],"(",")",";",["T_WHITESPACE","\n\n      ",87],["T_COMMENT","\/\/ The combination of having user input and rebuilding the form means\n",89],["T_WHITESPACE","      ",90],["T_COMMENT","\/\/ that it will attempt to cache the form state which will fail if it is\n",90],["T_WHITESPACE","      ",91],["T_COMMENT","\/\/ a GET request.\n",91],["T_WHITESPACE","      ",92],["T_VARIABLE","$form_state",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","setRequestMethod",92],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",92],")",";",["T_WHITESPACE","\n\n      ",92],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","entity",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$preview",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getFormObject",94],"(",")",["T_OBJECT_OPERATOR","->",94],["T_STRING","getEntity",94],"(",")",";",["T_WHITESPACE","\n      ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","entity",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","in_preview",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_STRING","NULL",95],";",["T_WHITESPACE","\n\n      ",95],["T_VARIABLE","$form_state",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","set",97],"(",["T_CONSTANT_ENCAPSED_STRING","'has_been_previewed'",97],",",["T_WHITESPACE"," ",97],["T_STRING","TRUE",97],")",";",["T_WHITESPACE","\n      ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","hasBeenPreviewed",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","TRUE",98],";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n\n    ",99],["T_DOC_COMMENT","\/** @var \\Drupal\\node\\NodeInterface $node *\/",101],["T_WHITESPACE","\n    ",101],["T_VARIABLE","$node",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","entity",102],";",["T_WHITESPACE","\n\n    ",102],["T_IF","if",104],["T_WHITESPACE"," ",104],"(",["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","operation",104],["T_WHITESPACE"," ",104],["T_IS_EQUAL","==",104],["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'edit'",104],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n      ",104],["T_VARIABLE","$form",105],"[",["T_CONSTANT_ENCAPSED_STRING","'#title'",105],"]",["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","t",105],"(",["T_CONSTANT_ENCAPSED_STRING","'<em>Edit @type<\/em> @title'",105],",",["T_WHITESPACE"," ",105],["T_ARRAY","array",105],"(",["T_CONSTANT_ENCAPSED_STRING","'@type'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_STRING","node_get_type_label",105],"(",["T_VARIABLE","$node",105],")",",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'@title'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$node",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","label",105],"(",")",")",")",";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n\n    ",106],["T_VARIABLE","$current_user",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","currentUser",108],"(",")",";",["T_WHITESPACE","\n\n    ",108],["T_COMMENT","\/\/ Changed must be sent to the client, for later overwrite error checking.\n",110],["T_WHITESPACE","    ",111],["T_VARIABLE","$form",111],"[",["T_CONSTANT_ENCAPSED_STRING","'changed'",111],"]",["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_ARRAY","array",111],"(",["T_WHITESPACE","\n      ",111],["T_CONSTANT_ENCAPSED_STRING","'#type'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'hidden'",112],",",["T_WHITESPACE","\n      ",112],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$node",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getChangedTime",113],"(",")",",",["T_WHITESPACE","\n    ",113],")",";",["T_WHITESPACE","\n\n    ",114],["T_VARIABLE","$form",116],"[",["T_CONSTANT_ENCAPSED_STRING","'advanced'",116],"]",["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_ARRAY","array",116],"(",["T_WHITESPACE","\n      ",116],["T_CONSTANT_ENCAPSED_STRING","'#type'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'vertical_tabs'",117],",",["T_WHITESPACE","\n      ",117],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_ARRAY","array",118],"(",["T_CONSTANT_ENCAPSED_STRING","'class'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_ARRAY","array",118],"(",["T_CONSTANT_ENCAPSED_STRING","'entity-meta'",118],")",")",",",["T_WHITESPACE","\n      ",118],["T_CONSTANT_ENCAPSED_STRING","'#weight'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_LNUMBER","99",119],",",["T_WHITESPACE","\n    ",119],")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$form",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_STRING","parent",121],["T_DOUBLE_COLON","::",121],["T_STRING","form",121],"(",["T_VARIABLE","$form",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$form_state",121],")",";",["T_WHITESPACE","\n\n    ",121],["T_COMMENT","\/\/ Add a revision_log field if the \"Create new revision\" option is checked,\n",123],["T_WHITESPACE","    ",124],["T_COMMENT","\/\/ or if the current user has the ability to check that option.\n",124],["T_WHITESPACE","    ",125],["T_VARIABLE","$form",125],"[",["T_CONSTANT_ENCAPSED_STRING","'revision_information'",125],"]",["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_ARRAY","array",125],"(",["T_WHITESPACE","\n      ",125],["T_CONSTANT_ENCAPSED_STRING","'#type'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'details'",126],",",["T_WHITESPACE","\n      ",126],["T_CONSTANT_ENCAPSED_STRING","'#group'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'advanced'",127],",",["T_WHITESPACE","\n      ",127],["T_CONSTANT_ENCAPSED_STRING","'#title'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_STRING","t",128],"(",["T_CONSTANT_ENCAPSED_STRING","'Revision information'",128],")",",",["T_WHITESPACE","\n      ",128],["T_COMMENT","\/\/ Open by default when \"Create new revision\" is checked.\n",129],["T_WHITESPACE","      ",130],["T_CONSTANT_ENCAPSED_STRING","'#open'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$node",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","isNewRevision",130],"(",")",",",["T_WHITESPACE","\n      ",130],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_ARRAY","array",131],"(",["T_WHITESPACE","\n        ",131],["T_CONSTANT_ENCAPSED_STRING","'class'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_ARRAY","array",132],"(",["T_CONSTANT_ENCAPSED_STRING","'node-form-revision-information'",132],")",",",["T_WHITESPACE","\n      ",132],")",",",["T_WHITESPACE","\n      ",133],["T_CONSTANT_ENCAPSED_STRING","'#attached'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_ARRAY","array",134],"(",["T_WHITESPACE","\n        ",134],["T_CONSTANT_ENCAPSED_STRING","'library'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_ARRAY","array",135],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/drupal.node'",135],")",",",["T_WHITESPACE","\n      ",135],")",",",["T_WHITESPACE","\n      ",136],["T_CONSTANT_ENCAPSED_STRING","'#weight'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_LNUMBER","20",137],",",["T_WHITESPACE","\n      ",137],["T_CONSTANT_ENCAPSED_STRING","'#optional'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_STRING","TRUE",138],",",["T_WHITESPACE","\n    ",138],")",";",["T_WHITESPACE","\n\n    ",139],["T_VARIABLE","$form",141],"[",["T_CONSTANT_ENCAPSED_STRING","'revision'",141],"]",["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_ARRAY","array",141],"(",["T_WHITESPACE","\n      ",141],["T_CONSTANT_ENCAPSED_STRING","'#type'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'checkbox'",142],",",["T_WHITESPACE","\n      ",142],["T_CONSTANT_ENCAPSED_STRING","'#title'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_STRING","t",143],"(",["T_CONSTANT_ENCAPSED_STRING","'Create new revision'",143],")",",",["T_WHITESPACE","\n      ",143],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$node",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","type",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","entity",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","isNewRevision",144],"(",")",",",["T_WHITESPACE","\n      ",144],["T_CONSTANT_ENCAPSED_STRING","'#access'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$current_user",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","hasPermission",145],"(",["T_CONSTANT_ENCAPSED_STRING","'administer nodes'",145],")",",",["T_WHITESPACE","\n      ",145],["T_CONSTANT_ENCAPSED_STRING","'#group'",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","'revision_information'",146],",",["T_WHITESPACE","\n    ",146],")",";",["T_WHITESPACE","\n\n    ",147],["T_VARIABLE","$form",149],"[",["T_CONSTANT_ENCAPSED_STRING","'revision_log'",149],"]",["T_WHITESPACE"," ",149],["T_PLUS_EQUAL","+=",149],["T_WHITESPACE"," ",149],["T_ARRAY","array",149],"(",["T_WHITESPACE","\n      ",149],["T_CONSTANT_ENCAPSED_STRING","'#states'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_ARRAY","array",150],"(",["T_WHITESPACE","\n        ",150],["T_CONSTANT_ENCAPSED_STRING","'visible'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_ARRAY","array",151],"(",["T_WHITESPACE","\n          ",151],["T_CONSTANT_ENCAPSED_STRING","':input[name=\"revision\"]'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_ARRAY","array",152],"(",["T_CONSTANT_ENCAPSED_STRING","'checked'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_STRING","TRUE",152],")",",",["T_WHITESPACE","\n        ",152],")",",",["T_WHITESPACE","\n      ",153],")",",",["T_WHITESPACE","\n      ",154],["T_CONSTANT_ENCAPSED_STRING","'#group'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'revision_information'",155],",",["T_WHITESPACE","\n    ",155],")",";",["T_WHITESPACE","\n\n    ",156],["T_COMMENT","\/\/ Node author information for administrators.\n",158],["T_WHITESPACE","    ",159],["T_VARIABLE","$form",159],"[",["T_CONSTANT_ENCAPSED_STRING","'author'",159],"]",["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_ARRAY","array",159],"(",["T_WHITESPACE","\n      ",159],["T_CONSTANT_ENCAPSED_STRING","'#type'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'details'",160],",",["T_WHITESPACE","\n      ",160],["T_CONSTANT_ENCAPSED_STRING","'#title'",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_STRING","t",161],"(",["T_CONSTANT_ENCAPSED_STRING","'Authoring information'",161],")",",",["T_WHITESPACE","\n      ",161],["T_CONSTANT_ENCAPSED_STRING","'#group'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'advanced'",162],",",["T_WHITESPACE","\n      ",162],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_ARRAY","array",163],"(",["T_WHITESPACE","\n        ",163],["T_CONSTANT_ENCAPSED_STRING","'class'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_ARRAY","array",164],"(",["T_CONSTANT_ENCAPSED_STRING","'node-form-author'",164],")",",",["T_WHITESPACE","\n      ",164],")",",",["T_WHITESPACE","\n      ",165],["T_CONSTANT_ENCAPSED_STRING","'#attached'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_ARRAY","array",166],"(",["T_WHITESPACE","\n        ",166],["T_CONSTANT_ENCAPSED_STRING","'library'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_ARRAY","array",167],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/drupal.node'",167],")",",",["T_WHITESPACE","\n      ",167],")",",",["T_WHITESPACE","\n      ",168],["T_CONSTANT_ENCAPSED_STRING","'#weight'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_LNUMBER","90",169],",",["T_WHITESPACE","\n      ",169],["T_CONSTANT_ENCAPSED_STRING","'#optional'",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_STRING","TRUE",170],",",["T_WHITESPACE","\n    ",170],")",";",["T_WHITESPACE","\n\n    ",171],["T_IF","if",173],["T_WHITESPACE"," ",173],"(",["T_ISSET","isset",173],"(",["T_VARIABLE","$form",173],"[",["T_CONSTANT_ENCAPSED_STRING","'uid'",173],"]",")",")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n      ",173],["T_VARIABLE","$form",174],"[",["T_CONSTANT_ENCAPSED_STRING","'uid'",174],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#group'",174],"]",["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'author'",174],";",["T_WHITESPACE","\n    ",174],"}",["T_WHITESPACE","\n\n    ",175],["T_IF","if",177],["T_WHITESPACE"," ",177],"(",["T_ISSET","isset",177],"(",["T_VARIABLE","$form",177],"[",["T_CONSTANT_ENCAPSED_STRING","'created'",177],"]",")",")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n      ",177],["T_VARIABLE","$form",178],"[",["T_CONSTANT_ENCAPSED_STRING","'created'",178],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#group'",178],"]",["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'author'",178],";",["T_WHITESPACE","\n    ",178],"}",["T_WHITESPACE","\n\n    ",179],["T_COMMENT","\/\/ Node options for administrators.\n",181],["T_WHITESPACE","    ",182],["T_VARIABLE","$form",182],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",182],"]",["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_ARRAY","array",182],"(",["T_WHITESPACE","\n      ",182],["T_CONSTANT_ENCAPSED_STRING","'#type'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'details'",183],",",["T_WHITESPACE","\n      ",183],["T_CONSTANT_ENCAPSED_STRING","'#title'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_STRING","t",184],"(",["T_CONSTANT_ENCAPSED_STRING","'Promotion options'",184],")",",",["T_WHITESPACE","\n      ",184],["T_CONSTANT_ENCAPSED_STRING","'#group'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'advanced'",185],",",["T_WHITESPACE","\n      ",185],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_ARRAY","array",186],"(",["T_WHITESPACE","\n        ",186],["T_CONSTANT_ENCAPSED_STRING","'class'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_ARRAY","array",187],"(",["T_CONSTANT_ENCAPSED_STRING","'node-form-options'",187],")",",",["T_WHITESPACE","\n      ",187],")",",",["T_WHITESPACE","\n      ",188],["T_CONSTANT_ENCAPSED_STRING","'#attached'",189],["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_ARRAY","array",189],"(",["T_WHITESPACE","\n        ",189],["T_CONSTANT_ENCAPSED_STRING","'library'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_ARRAY","array",190],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/drupal.node'",190],")",",",["T_WHITESPACE","\n      ",190],")",",",["T_WHITESPACE","\n      ",191],["T_CONSTANT_ENCAPSED_STRING","'#weight'",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_LNUMBER","95",192],",",["T_WHITESPACE","\n      ",192],["T_CONSTANT_ENCAPSED_STRING","'#optional'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_STRING","TRUE",193],",",["T_WHITESPACE","\n    ",193],")",";",["T_WHITESPACE","\n\n    ",194],["T_IF","if",196],["T_WHITESPACE"," ",196],"(",["T_ISSET","isset",196],"(",["T_VARIABLE","$form",196],"[",["T_CONSTANT_ENCAPSED_STRING","'promote'",196],"]",")",")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n      ",196],["T_VARIABLE","$form",197],"[",["T_CONSTANT_ENCAPSED_STRING","'promote'",197],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#group'",197],"]",["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'options'",197],";",["T_WHITESPACE","\n    ",197],"}",["T_WHITESPACE","\n\n    ",198],["T_IF","if",200],["T_WHITESPACE"," ",200],"(",["T_ISSET","isset",200],"(",["T_VARIABLE","$form",200],"[",["T_CONSTANT_ENCAPSED_STRING","'sticky'",200],"]",")",")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n      ",200],["T_VARIABLE","$form",201],"[",["T_CONSTANT_ENCAPSED_STRING","'sticky'",201],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#group'",201],"]",["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'options'",201],";",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n\n    ",202],["T_VARIABLE","$form",204],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",204],"]","[",["T_CONSTANT_ENCAPSED_STRING","'library'",204],"]","[","]",["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","'node\/form'",204],";",["T_WHITESPACE","\n\n    ",204],["T_VARIABLE","$form",206],"[",["T_CONSTANT_ENCAPSED_STRING","'#entity_builders'",206],"]","[",["T_CONSTANT_ENCAPSED_STRING","'update_status'",206],"]",["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],"[",["T_VARIABLE","$this",206],",",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'updateStatus'",206],"]",";",["T_WHITESPACE","\n\n    ",206],["T_RETURN","return",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$form",208],";",["T_WHITESPACE","\n  ",208],"}",["T_WHITESPACE","\n\n  ",209],["T_DOC_COMMENT","\/**\n   * Entity builder updating the node status with the submitted value.\n   *\n   * @param string $entity_type_id\n   *   The entity type identifier.\n   * @param \\Drupal\\node\\NodeInterface $node\n   *   The node updated with the submitted values.\n   * @param array $form\n   *   The complete form array.\n   * @param \\Drupal\\Core\\Form\\FormStateInterface $form_state\n   *   The current state of the form.\n   *\n   * @see \\Drupal\\node\\NodeForm::form()\n   *\/",211],["T_WHITESPACE","\n  ",224],["T_FUNCTION","function",225],["T_WHITESPACE"," ",225],["T_STRING","updateStatus",225],"(",["T_VARIABLE","$entity_type_id",225],",",["T_WHITESPACE"," ",225],["T_STRING","NodeInterface",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$node",225],",",["T_WHITESPACE"," ",225],["T_ARRAY","array",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$form",225],",",["T_WHITESPACE"," ",225],["T_STRING","FormStateInterface",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$form_state",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n    ",225],["T_VARIABLE","$element",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$form_state",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","getTriggeringElement",226],"(",")",";",["T_WHITESPACE","\n    ",226],["T_IF","if",227],["T_WHITESPACE"," ",227],"(",["T_ISSET","isset",227],"(",["T_VARIABLE","$element",227],"[",["T_CONSTANT_ENCAPSED_STRING","'#published_status'",227],"]",")",")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n      ",227],["T_VARIABLE","$node",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","setPublished",228],"(",["T_VARIABLE","$element",228],"[",["T_CONSTANT_ENCAPSED_STRING","'#published_status'",228],"]",")",";",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n  ",229],"}",["T_WHITESPACE","\n\n  ",230],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",232],["T_WHITESPACE","\n  ",234],["T_PROTECTED","protected",235],["T_WHITESPACE"," ",235],["T_FUNCTION","function",235],["T_WHITESPACE"," ",235],["T_STRING","actions",235],"(",["T_ARRAY","array",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$form",235],",",["T_WHITESPACE"," ",235],["T_STRING","FormStateInterface",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$form_state",235],")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n    ",235],["T_VARIABLE","$element",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_STRING","parent",236],["T_DOUBLE_COLON","::",236],["T_STRING","actions",236],"(",["T_VARIABLE","$form",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$form_state",236],")",";",["T_WHITESPACE","\n    ",236],["T_VARIABLE","$node",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","entity",237],";",["T_WHITESPACE","\n    ",237],["T_VARIABLE","$preview_mode",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$node",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","type",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","entity",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getPreviewMode",238],"(",")",";",["T_WHITESPACE","\n\n    ",238],["T_VARIABLE","$element",240],"[",["T_CONSTANT_ENCAPSED_STRING","'submit'",240],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#access'",240],"]",["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_VARIABLE","$preview_mode",240],["T_WHITESPACE"," ",240],["T_IS_NOT_EQUAL","!=",240],["T_WHITESPACE"," ",240],["T_STRING","DRUPAL_REQUIRED",240],["T_WHITESPACE"," ",240],["T_BOOLEAN_OR","||",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$form_state",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","get",240],"(",["T_CONSTANT_ENCAPSED_STRING","'has_been_previewed'",240],")",";",["T_WHITESPACE","\n\n    ",240],["T_COMMENT","\/\/ If saving is an option, privileged users get dedicated form submit\n",242],["T_WHITESPACE","    ",243],["T_COMMENT","\/\/ buttons to adjust the publishing status while saving in one go.\n",243],["T_WHITESPACE","    ",244],["T_COMMENT","\/\/ @todo This adjustment makes it close to impossible for contributed\n",244],["T_WHITESPACE","    ",245],["T_COMMENT","\/\/   modules to integrate with \"the Save operation\" of this form. Modules\n",245],["T_WHITESPACE","    ",246],["T_COMMENT","\/\/   need a way to plug themselves into 1) the ::submit() step, and\n",246],["T_WHITESPACE","    ",247],["T_COMMENT","\/\/   2) the ::save() step, both decoupled from the pressed form button.\n",247],["T_WHITESPACE","    ",248],["T_IF","if",248],["T_WHITESPACE"," ",248],"(",["T_VARIABLE","$element",248],"[",["T_CONSTANT_ENCAPSED_STRING","'submit'",248],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#access'",248],"]",["T_WHITESPACE"," ",248],["T_BOOLEAN_AND","&&",248],["T_WHITESPACE"," ",248],["T_NS_SEPARATOR","\\",248],["T_STRING","Drupal",248],["T_DOUBLE_COLON","::",248],["T_STRING","currentUser",248],"(",")",["T_OBJECT_OPERATOR","->",248],["T_STRING","hasPermission",248],"(",["T_CONSTANT_ENCAPSED_STRING","'administer nodes'",248],")",")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n      ",248],["T_COMMENT","\/\/ isNew | prev status \u00c2\u00bb default   & publish label             & unpublish label\n",249],["T_WHITESPACE","      ",250],["T_COMMENT","\/\/ 1     | 1           \u00c2\u00bb publish   & Save and publish          & Save as unpublished\n",250],["T_WHITESPACE","      ",251],["T_COMMENT","\/\/ 1     | 0           \u00c2\u00bb unpublish & Save and publish          & Save as unpublished\n",251],["T_WHITESPACE","      ",252],["T_COMMENT","\/\/ 0     | 1           \u00c2\u00bb publish   & Save and keep published   & Save and unpublish\n",252],["T_WHITESPACE","      ",253],["T_COMMENT","\/\/ 0     | 0           \u00c2\u00bb unpublish & Save and keep unpublished & Save and publish\n",253],["T_WHITESPACE","\n      ",254],["T_COMMENT","\/\/ Add a \"Publish\" button.\n",255],["T_WHITESPACE","      ",256],["T_VARIABLE","$element",256],"[",["T_CONSTANT_ENCAPSED_STRING","'publish'",256],"]",["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$element",256],"[",["T_CONSTANT_ENCAPSED_STRING","'submit'",256],"]",";",["T_WHITESPACE","\n      ",256],["T_COMMENT","\/\/ If the \"Publish\" button is clicked, we want to update the status to \"published\".\n",257],["T_WHITESPACE","      ",258],["T_VARIABLE","$element",258],"[",["T_CONSTANT_ENCAPSED_STRING","'publish'",258],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#published_status'",258],"]",["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_STRING","TRUE",258],";",["T_WHITESPACE","\n      ",258],["T_VARIABLE","$element",259],"[",["T_CONSTANT_ENCAPSED_STRING","'publish'",259],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#dropbutton'",259],"]",["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'save'",259],";",["T_WHITESPACE","\n      ",259],["T_IF","if",260],["T_WHITESPACE"," ",260],"(",["T_VARIABLE","$node",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","isNew",260],"(",")",")",["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$element",261],"[",["T_CONSTANT_ENCAPSED_STRING","'publish'",261],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#value'",261],"]",["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_STRING","t",261],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and publish'",261],")",";",["T_WHITESPACE","\n      ",261],"}",["T_WHITESPACE","\n      ",262],["T_ELSE","else",263],["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$element",264],"[",["T_CONSTANT_ENCAPSED_STRING","'publish'",264],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#value'",264],"]",["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_VARIABLE","$node",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","isPublished",264],"(",")",["T_WHITESPACE"," ",264],"?",["T_WHITESPACE"," ",264],["T_STRING","t",264],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and keep published'",264],")",["T_WHITESPACE"," ",264],":",["T_WHITESPACE"," ",264],["T_STRING","t",264],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and publish'",264],")",";",["T_WHITESPACE","\n      ",264],"}",["T_WHITESPACE","\n      ",265],["T_VARIABLE","$element",266],"[",["T_CONSTANT_ENCAPSED_STRING","'publish'",266],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#weight'",266],"]",["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_LNUMBER","0",266],";",["T_WHITESPACE","\n\n      ",266],["T_COMMENT","\/\/ Add a \"Unpublish\" button.\n",268],["T_WHITESPACE","      ",269],["T_VARIABLE","$element",269],"[",["T_CONSTANT_ENCAPSED_STRING","'unpublish'",269],"]",["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$element",269],"[",["T_CONSTANT_ENCAPSED_STRING","'submit'",269],"]",";",["T_WHITESPACE","\n      ",269],["T_COMMENT","\/\/ If the \"Unpublish\" button is clicked, we want to update the status to \"unpublished\".\n",270],["T_WHITESPACE","      ",271],["T_VARIABLE","$element",271],"[",["T_CONSTANT_ENCAPSED_STRING","'unpublish'",271],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#published_status'",271],"]",["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_STRING","FALSE",271],";",["T_WHITESPACE","\n      ",271],["T_VARIABLE","$element",272],"[",["T_CONSTANT_ENCAPSED_STRING","'unpublish'",272],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#dropbutton'",272],"]",["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_CONSTANT_ENCAPSED_STRING","'save'",272],";",["T_WHITESPACE","\n      ",272],["T_IF","if",273],["T_WHITESPACE"," ",273],"(",["T_VARIABLE","$node",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","isNew",273],"(",")",")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n        ",273],["T_VARIABLE","$element",274],"[",["T_CONSTANT_ENCAPSED_STRING","'unpublish'",274],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#value'",274],"]",["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_STRING","t",274],"(",["T_CONSTANT_ENCAPSED_STRING","'Save as unpublished'",274],")",";",["T_WHITESPACE","\n      ",274],"}",["T_WHITESPACE","\n      ",275],["T_ELSE","else",276],["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n        ",276],["T_VARIABLE","$element",277],"[",["T_CONSTANT_ENCAPSED_STRING","'unpublish'",277],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#value'",277],"]",["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],"!",["T_VARIABLE","$node",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","isPublished",277],"(",")",["T_WHITESPACE"," ",277],"?",["T_WHITESPACE"," ",277],["T_STRING","t",277],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and keep unpublished'",277],")",["T_WHITESPACE"," ",277],":",["T_WHITESPACE"," ",277],["T_STRING","t",277],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and unpublish'",277],")",";",["T_WHITESPACE","\n      ",277],"}",["T_WHITESPACE","\n      ",278],["T_VARIABLE","$element",279],"[",["T_CONSTANT_ENCAPSED_STRING","'unpublish'",279],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#weight'",279],"]",["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_LNUMBER","10",279],";",["T_WHITESPACE","\n\n      ",279],["T_COMMENT","\/\/ If already published, the 'publish' button is primary.\n",281],["T_WHITESPACE","      ",282],["T_IF","if",282],["T_WHITESPACE"," ",282],"(",["T_VARIABLE","$node",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","isPublished",282],"(",")",")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n        ",282],["T_UNSET","unset",283],"(",["T_VARIABLE","$element",283],"[",["T_CONSTANT_ENCAPSED_STRING","'unpublish'",283],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#button_type'",283],"]",")",";",["T_WHITESPACE","\n      ",283],"}",["T_WHITESPACE","\n      ",284],["T_COMMENT","\/\/ Otherwise, the 'unpublish' button is primary and should come first.\n",285],["T_WHITESPACE","      ",286],["T_ELSE","else",286],["T_WHITESPACE"," ",286],"{",["T_WHITESPACE","\n        ",286],["T_UNSET","unset",287],"(",["T_VARIABLE","$element",287],"[",["T_CONSTANT_ENCAPSED_STRING","'publish'",287],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#button_type'",287],"]",")",";",["T_WHITESPACE","\n        ",287],["T_VARIABLE","$element",288],"[",["T_CONSTANT_ENCAPSED_STRING","'unpublish'",288],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#weight'",288],"]",["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],"-",["T_LNUMBER","10",288],";",["T_WHITESPACE","\n      ",288],"}",["T_WHITESPACE","\n\n      ",289],["T_COMMENT","\/\/ Remove the \"Save\" button.\n",291],["T_WHITESPACE","      ",292],["T_VARIABLE","$element",292],"[",["T_CONSTANT_ENCAPSED_STRING","'submit'",292],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#access'",292],"]",["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_STRING","FALSE",292],";",["T_WHITESPACE","\n    ",292],"}",["T_WHITESPACE","\n\n    ",293],["T_VARIABLE","$element",295],"[",["T_CONSTANT_ENCAPSED_STRING","'preview'",295],"]",["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_ARRAY","array",295],"(",["T_WHITESPACE","\n      ",295],["T_CONSTANT_ENCAPSED_STRING","'#type'",296],["T_WHITESPACE"," ",296],["T_DOUBLE_ARROW","=>",296],["T_WHITESPACE"," ",296],["T_CONSTANT_ENCAPSED_STRING","'submit'",296],",",["T_WHITESPACE","\n      ",296],["T_CONSTANT_ENCAPSED_STRING","'#access'",297],["T_WHITESPACE"," ",297],["T_DOUBLE_ARROW","=>",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$preview_mode",297],["T_WHITESPACE"," ",297],["T_IS_NOT_EQUAL","!=",297],["T_WHITESPACE"," ",297],["T_STRING","DRUPAL_DISABLED",297],["T_WHITESPACE"," ",297],["T_BOOLEAN_AND","&&",297],["T_WHITESPACE"," ",297],"(",["T_VARIABLE","$node",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","access",297],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",297],")",["T_WHITESPACE"," ",297],["T_BOOLEAN_OR","||",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$node",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","access",297],"(",["T_CONSTANT_ENCAPSED_STRING","'update'",297],")",")",",",["T_WHITESPACE","\n      ",297],["T_CONSTANT_ENCAPSED_STRING","'#value'",298],["T_WHITESPACE"," ",298],["T_DOUBLE_ARROW","=>",298],["T_WHITESPACE"," ",298],["T_STRING","t",298],"(",["T_CONSTANT_ENCAPSED_STRING","'Preview'",298],")",",",["T_WHITESPACE","\n      ",298],["T_CONSTANT_ENCAPSED_STRING","'#weight'",299],["T_WHITESPACE"," ",299],["T_DOUBLE_ARROW","=>",299],["T_WHITESPACE"," ",299],["T_LNUMBER","20",299],",",["T_WHITESPACE","\n      ",299],["T_CONSTANT_ENCAPSED_STRING","'#submit'",300],["T_WHITESPACE"," ",300],["T_DOUBLE_ARROW","=>",300],["T_WHITESPACE"," ",300],["T_ARRAY","array",300],"(",["T_CONSTANT_ENCAPSED_STRING","'::submitForm'",300],",",["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","'::preview'",300],")",",",["T_WHITESPACE","\n    ",300],")",";",["T_WHITESPACE","\n\n    ",301],["T_VARIABLE","$element",303],"[",["T_CONSTANT_ENCAPSED_STRING","'delete'",303],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#access'",303],"]",["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_VARIABLE","$node",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","access",303],"(",["T_CONSTANT_ENCAPSED_STRING","'delete'",303],")",";",["T_WHITESPACE","\n    ",303],["T_VARIABLE","$element",304],"[",["T_CONSTANT_ENCAPSED_STRING","'delete'",304],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#weight'",304],"]",["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_LNUMBER","100",304],";",["T_WHITESPACE","\n\n    ",304],["T_RETURN","return",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$element",306],";",["T_WHITESPACE","\n  ",306],"}",["T_WHITESPACE","\n\n  ",307],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\n   * Updates the node object by processing the submitted values.\n   *\n   * This function can be called by a \"Next\" button of a wizard to update the\n   * form state's entity with the current step's values before proceeding to the\n   * next step.\n   *\/",309],["T_WHITESPACE","\n  ",317],["T_PUBLIC","public",318],["T_WHITESPACE"," ",318],["T_FUNCTION","function",318],["T_WHITESPACE"," ",318],["T_STRING","submitForm",318],"(",["T_ARRAY","array",318],["T_WHITESPACE"," ",318],"&",["T_VARIABLE","$form",318],",",["T_WHITESPACE"," ",318],["T_STRING","FormStateInterface",318],["T_WHITESPACE"," ",318],["T_VARIABLE","$form_state",318],")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n    ",318],["T_COMMENT","\/\/ Build the node object from the submitted values.\n",319],["T_WHITESPACE","    ",320],["T_STRING","parent",320],["T_DOUBLE_COLON","::",320],["T_STRING","submitForm",320],"(",["T_VARIABLE","$form",320],",",["T_WHITESPACE"," ",320],["T_VARIABLE","$form_state",320],")",";",["T_WHITESPACE","\n    ",320],["T_VARIABLE","$node",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","entity",321],";",["T_WHITESPACE","\n\n    ",321],["T_COMMENT","\/\/ Save as a new revision if requested to do so.\n",323],["T_WHITESPACE","    ",324],["T_IF","if",324],["T_WHITESPACE"," ",324],"(","!",["T_VARIABLE","$form_state",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","isValueEmpty",324],"(",["T_CONSTANT_ENCAPSED_STRING","'revision'",324],")",["T_WHITESPACE"," ",324],["T_BOOLEAN_AND","&&",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$form_state",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","getValue",324],"(",["T_CONSTANT_ENCAPSED_STRING","'revision'",324],")",["T_WHITESPACE"," ",324],["T_IS_NOT_EQUAL","!=",324],["T_WHITESPACE"," ",324],["T_STRING","FALSE",324],")",["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n      ",324],["T_VARIABLE","$node",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","setNewRevision",325],"(",")",";",["T_WHITESPACE","\n      ",325],["T_COMMENT","\/\/ If a new revision is created, save the current user as revision author.\n",326],["T_WHITESPACE","      ",327],["T_VARIABLE","$node",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","setRevisionCreationTime",327],"(",["T_STRING","REQUEST_TIME",327],")",";",["T_WHITESPACE","\n      ",327],["T_VARIABLE","$node",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","setRevisionUserId",328],"(",["T_NS_SEPARATOR","\\",328],["T_STRING","Drupal",328],["T_DOUBLE_COLON","::",328],["T_STRING","currentUser",328],"(",")",["T_OBJECT_OPERATOR","->",328],["T_STRING","id",328],"(",")",")",";",["T_WHITESPACE","\n    ",328],"}",["T_WHITESPACE","\n    ",329],["T_ELSE","else",330],["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n      ",330],["T_VARIABLE","$node",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","setNewRevision",331],"(",["T_STRING","FALSE",331],")",";",["T_WHITESPACE","\n    ",331],"}",["T_WHITESPACE","\n  ",332],"}",["T_WHITESPACE","\n\n  ",333],["T_DOC_COMMENT","\/**\n   * Form submission handler for the 'preview' action.\n   *\n   * @param $form\n   *   An associative array containing the structure of the form.\n   * @param $form_state\n   *   The current state of the form.\n   *\/",335],["T_WHITESPACE","\n  ",342],["T_PUBLIC","public",343],["T_WHITESPACE"," ",343],["T_FUNCTION","function",343],["T_WHITESPACE"," ",343],["T_STRING","preview",343],"(",["T_ARRAY","array",343],["T_WHITESPACE"," ",343],["T_VARIABLE","$form",343],",",["T_WHITESPACE"," ",343],["T_STRING","FormStateInterface",343],["T_WHITESPACE"," ",343],["T_VARIABLE","$form_state",343],")",["T_WHITESPACE"," ",343],"{",["T_WHITESPACE","\n    ",343],["T_VARIABLE","$store",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","tempStoreFactory",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","get",344],"(",["T_CONSTANT_ENCAPSED_STRING","'node_preview'",344],")",";",["T_WHITESPACE","\n    ",344],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","entity",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","in_preview",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_STRING","TRUE",345],";",["T_WHITESPACE","\n    ",345],["T_VARIABLE","$store",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","set",346],"(",["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","entity",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","uuid",346],"(",")",",",["T_WHITESPACE"," ",346],["T_VARIABLE","$form_state",346],")",";",["T_WHITESPACE","\n\n    ",346],["T_VARIABLE","$route_parameters",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],"[",["T_WHITESPACE","\n      ",348],["T_CONSTANT_ENCAPSED_STRING","'node_preview'",349],["T_WHITESPACE"," ",349],["T_DOUBLE_ARROW","=>",349],["T_WHITESPACE"," ",349],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","entity",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","uuid",349],"(",")",",",["T_WHITESPACE","\n      ",349],["T_CONSTANT_ENCAPSED_STRING","'view_mode_id'",350],["T_WHITESPACE"," ",350],["T_DOUBLE_ARROW","=>",350],["T_WHITESPACE"," ",350],["T_CONSTANT_ENCAPSED_STRING","'full'",350],",",["T_WHITESPACE","\n    ",350],"]",";",["T_WHITESPACE","\n\n    ",351],["T_VARIABLE","$options",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],"[","]",";",["T_WHITESPACE","\n    ",353],["T_VARIABLE","$query",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","getRequest",354],"(",")",["T_OBJECT_OPERATOR","->",354],["T_STRING","query",354],";",["T_WHITESPACE","\n    ",354],["T_IF","if",355],["T_WHITESPACE"," ",355],"(",["T_VARIABLE","$query",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","has",355],"(",["T_CONSTANT_ENCAPSED_STRING","'destination'",355],")",")",["T_WHITESPACE"," ",355],"{",["T_WHITESPACE","\n      ",355],["T_VARIABLE","$options",356],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",356],"]","[",["T_CONSTANT_ENCAPSED_STRING","'destination'",356],"]",["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_VARIABLE","$query",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","get",356],"(",["T_CONSTANT_ENCAPSED_STRING","'destination'",356],")",";",["T_WHITESPACE","\n      ",356],["T_VARIABLE","$query",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","remove",357],"(",["T_CONSTANT_ENCAPSED_STRING","'destination'",357],")",";",["T_WHITESPACE","\n    ",357],"}",["T_WHITESPACE","\n    ",358],["T_VARIABLE","$form_state",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","setRedirect",359],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.node.preview'",359],",",["T_WHITESPACE"," ",359],["T_VARIABLE","$route_parameters",359],",",["T_WHITESPACE"," ",359],["T_VARIABLE","$options",359],")",";",["T_WHITESPACE","\n  ",359],"}",["T_WHITESPACE","\n\n  ",360],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",362],["T_WHITESPACE","\n  ",364],["T_PUBLIC","public",365],["T_WHITESPACE"," ",365],["T_FUNCTION","function",365],["T_WHITESPACE"," ",365],["T_STRING","save",365],"(",["T_ARRAY","array",365],["T_WHITESPACE"," ",365],["T_VARIABLE","$form",365],",",["T_WHITESPACE"," ",365],["T_STRING","FormStateInterface",365],["T_WHITESPACE"," ",365],["T_VARIABLE","$form_state",365],")",["T_WHITESPACE"," ",365],"{",["T_WHITESPACE","\n    ",365],["T_VARIABLE","$node",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","entity",366],";",["T_WHITESPACE","\n    ",366],["T_VARIABLE","$insert",367],["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_VARIABLE","$node",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","isNew",367],"(",")",";",["T_WHITESPACE","\n    ",367],["T_VARIABLE","$node",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","save",368],"(",")",";",["T_WHITESPACE","\n    ",368],["T_VARIABLE","$node_link",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_VARIABLE","$node",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","link",369],"(",["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","t",369],"(",["T_CONSTANT_ENCAPSED_STRING","'View'",369],")",")",";",["T_WHITESPACE","\n    ",369],["T_VARIABLE","$context",370],["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],["T_ARRAY","array",370],"(",["T_CONSTANT_ENCAPSED_STRING","'@type'",370],["T_WHITESPACE"," ",370],["T_DOUBLE_ARROW","=>",370],["T_WHITESPACE"," ",370],["T_VARIABLE","$node",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","getType",370],"(",")",",",["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'%title'",370],["T_WHITESPACE"," ",370],["T_DOUBLE_ARROW","=>",370],["T_WHITESPACE"," ",370],["T_VARIABLE","$node",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","label",370],"(",")",",",["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'link'",370],["T_WHITESPACE"," ",370],["T_DOUBLE_ARROW","=>",370],["T_WHITESPACE"," ",370],["T_VARIABLE","$node_link",370],")",";",["T_WHITESPACE","\n    ",370],["T_VARIABLE","$t_args",371],["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_ARRAY","array",371],"(",["T_CONSTANT_ENCAPSED_STRING","'@type'",371],["T_WHITESPACE"," ",371],["T_DOUBLE_ARROW","=>",371],["T_WHITESPACE"," ",371],["T_STRING","node_get_type_label",371],"(",["T_VARIABLE","$node",371],")",",",["T_WHITESPACE"," ",371],["T_CONSTANT_ENCAPSED_STRING","'%title'",371],["T_WHITESPACE"," ",371],["T_DOUBLE_ARROW","=>",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$node",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","link",371],"(",["T_VARIABLE","$node",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","label",371],"(",")",")",")",";",["T_WHITESPACE","\n\n    ",371],["T_IF","if",373],["T_WHITESPACE"," ",373],"(",["T_VARIABLE","$insert",373],")",["T_WHITESPACE"," ",373],"{",["T_WHITESPACE","\n      ",373],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","logger",374],"(",["T_CONSTANT_ENCAPSED_STRING","'content'",374],")",["T_OBJECT_OPERATOR","->",374],["T_STRING","notice",374],"(",["T_CONSTANT_ENCAPSED_STRING","'@type: added %title.'",374],",",["T_WHITESPACE"," ",374],["T_VARIABLE","$context",374],")",";",["T_WHITESPACE","\n      ",374],["T_STRING","drupal_set_message",375],"(",["T_STRING","t",375],"(",["T_CONSTANT_ENCAPSED_STRING","'@type %title has been created.'",375],",",["T_WHITESPACE"," ",375],["T_VARIABLE","$t_args",375],")",")",";",["T_WHITESPACE","\n    ",375],"}",["T_WHITESPACE","\n    ",376],["T_ELSE","else",377],["T_WHITESPACE"," ",377],"{",["T_WHITESPACE","\n      ",377],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","logger",378],"(",["T_CONSTANT_ENCAPSED_STRING","'content'",378],")",["T_OBJECT_OPERATOR","->",378],["T_STRING","notice",378],"(",["T_CONSTANT_ENCAPSED_STRING","'@type: updated %title.'",378],",",["T_WHITESPACE"," ",378],["T_VARIABLE","$context",378],")",";",["T_WHITESPACE","\n      ",378],["T_STRING","drupal_set_message",379],"(",["T_STRING","t",379],"(",["T_CONSTANT_ENCAPSED_STRING","'@type %title has been updated.'",379],",",["T_WHITESPACE"," ",379],["T_VARIABLE","$t_args",379],")",")",";",["T_WHITESPACE","\n    ",379],"}",["T_WHITESPACE","\n\n    ",380],["T_IF","if",382],["T_WHITESPACE"," ",382],"(",["T_VARIABLE","$node",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","id",382],"(",")",")",["T_WHITESPACE"," ",382],"{",["T_WHITESPACE","\n      ",382],["T_VARIABLE","$form_state",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","setValue",383],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",383],",",["T_WHITESPACE"," ",383],["T_VARIABLE","$node",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","id",383],"(",")",")",";",["T_WHITESPACE","\n      ",383],["T_VARIABLE","$form_state",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","set",384],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",384],",",["T_WHITESPACE"," ",384],["T_VARIABLE","$node",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","id",384],"(",")",")",";",["T_WHITESPACE","\n      ",384],["T_IF","if",385],["T_WHITESPACE"," ",385],"(",["T_VARIABLE","$node",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","access",385],"(",["T_CONSTANT_ENCAPSED_STRING","'view'",385],")",")",["T_WHITESPACE"," ",385],"{",["T_WHITESPACE","\n        ",385],["T_VARIABLE","$form_state",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","setRedirect",386],"(",["T_WHITESPACE","\n          ",386],["T_CONSTANT_ENCAPSED_STRING","'entity.node.canonical'",387],",",["T_WHITESPACE","\n          ",387],["T_ARRAY","array",388],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",388],["T_WHITESPACE"," ",388],["T_DOUBLE_ARROW","=>",388],["T_WHITESPACE"," ",388],["T_VARIABLE","$node",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","id",388],"(",")",")",["T_WHITESPACE","\n        ",388],")",";",["T_WHITESPACE","\n      ",389],"}",["T_WHITESPACE","\n      ",390],["T_ELSE","else",391],["T_WHITESPACE"," ",391],"{",["T_WHITESPACE","\n        ",391],["T_VARIABLE","$form_state",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","setRedirect",392],"(",["T_CONSTANT_ENCAPSED_STRING","'<front>'",392],")",";",["T_WHITESPACE","\n      ",392],"}",["T_WHITESPACE","\n\n      ",393],["T_COMMENT","\/\/ Remove the preview entry from the temp store, if any.\n",395],["T_WHITESPACE","      ",396],["T_VARIABLE","$store",396],["T_WHITESPACE"," ",396],"=",["T_WHITESPACE"," ",396],["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","tempStoreFactory",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","get",396],"(",["T_CONSTANT_ENCAPSED_STRING","'node_preview'",396],")",";",["T_WHITESPACE","\n      ",396],["T_VARIABLE","$store",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","delete",397],"(",["T_VARIABLE","$node",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","uuid",397],"(",")",")",";",["T_WHITESPACE","\n    ",397],"}",["T_WHITESPACE","\n    ",398],["T_ELSE","else",399],["T_WHITESPACE"," ",399],"{",["T_WHITESPACE","\n      ",399],["T_COMMENT","\/\/ In the unlikely case something went wrong on save, the node will be\n",400],["T_WHITESPACE","      ",401],["T_COMMENT","\/\/ rebuilt and node form redisplayed the same way as in preview.\n",401],["T_WHITESPACE","      ",402],["T_STRING","drupal_set_message",402],"(",["T_STRING","t",402],"(",["T_CONSTANT_ENCAPSED_STRING","'The post could not be saved.'",402],")",",",["T_WHITESPACE"," ",402],["T_CONSTANT_ENCAPSED_STRING","'error'",402],")",";",["T_WHITESPACE","\n      ",402],["T_VARIABLE","$form_state",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","setRebuild",403],"(",")",";",["T_WHITESPACE","\n    ",403],"}",["T_WHITESPACE","\n  ",404],"}",["T_WHITESPACE","\n\n",405],"}",["T_WHITESPACE","\n",407]]