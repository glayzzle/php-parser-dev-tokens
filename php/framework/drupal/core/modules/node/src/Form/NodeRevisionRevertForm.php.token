[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","node",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Form",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Datetime",5],["T_NS_SEPARATOR","\\",5],["T_STRING","DateFormatterInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","EntityStorageInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Form",7],["T_NS_SEPARATOR","\\",7],["T_STRING","ConfirmFormBase",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Form",8],["T_NS_SEPARATOR","\\",8],["T_STRING","FormStateInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Url",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","node",10],["T_NS_SEPARATOR","\\",10],["T_STRING","NodeInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Symfony",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Component",11],["T_NS_SEPARATOR","\\",11],["T_STRING","DependencyInjection",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ContainerInterface",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Provides a form for reverting a node revision.\n *\/",13],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","NodeRevisionRevertForm",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","ConfirmFormBase",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * The node revision.\n   *\n   * @var \\Drupal\\node\\NodeInterface\n   *\/",18],["T_WHITESPACE","\n  ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$revision",23],";",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * The node storage.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityStorageInterface\n   *\/",25],["T_WHITESPACE","\n  ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$nodeStorage",30],";",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * The date formatter service.\n   *\n   * @var \\Drupal\\Core\\Datetime\\DateFormatterInterface\n   *\/",32],["T_WHITESPACE","\n  ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$dateFormatter",37],";",["T_WHITESPACE","\n\n  ",37],["T_DOC_COMMENT","\/**\n   * Constructs a new NodeRevisionRevertForm.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityStorageInterface $node_storage\n   *   The node storage.\n   * @param \\Drupal\\Core\\Datetime\\DateFormatterInterface $date_formatter\n   *   The date formatter service.\n   *\/",39],["T_WHITESPACE","\n  ",46],["T_PUBLIC","public",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","__construct",47],"(",["T_STRING","EntityStorageInterface",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$node_storage",47],",",["T_WHITESPACE"," ",47],["T_STRING","DateFormatterInterface",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$date_formatter",47],")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","nodeStorage",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$node_storage",48],";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","dateFormatter",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$date_formatter",49],";",["T_WHITESPACE","\n  ",49],"}",["T_WHITESPACE","\n\n  ",50],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",52],["T_WHITESPACE","\n  ",54],["T_PUBLIC","public",55],["T_WHITESPACE"," ",55],["T_STATIC","static",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","create",55],"(",["T_STRING","ContainerInterface",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$container",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n    ",55],["T_RETURN","return",56],["T_WHITESPACE"," ",56],["T_NEW","new",56],["T_WHITESPACE"," ",56],["T_STATIC","static",56],"(",["T_WHITESPACE","\n      ",56],["T_VARIABLE","$container",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","get",57],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",57],")",["T_OBJECT_OPERATOR","->",57],["T_STRING","getStorage",57],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",57],")",",",["T_WHITESPACE","\n      ",57],["T_VARIABLE","$container",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","get",58],"(",["T_CONSTANT_ENCAPSED_STRING","'date.formatter'",58],")",["T_WHITESPACE","\n    ",58],")",";",["T_WHITESPACE","\n  ",59],"}",["T_WHITESPACE","\n\n  ",60],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",62],["T_WHITESPACE","\n  ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","getFormId",65],"(",")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n    ",65],["T_RETURN","return",66],["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'node_revision_revert_confirm'",66],";",["T_WHITESPACE","\n  ",66],"}",["T_WHITESPACE","\n\n  ",67],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",69],["T_WHITESPACE","\n  ",71],["T_PUBLIC","public",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","getQuestion",72],"(",")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n    ",72],["T_RETURN","return",73],["T_WHITESPACE"," ",73],["T_STRING","t",73],"(",["T_CONSTANT_ENCAPSED_STRING","'Are you sure you want to revert to the revision from %revision-date?'",73],",",["T_WHITESPACE"," ",73],"[",["T_CONSTANT_ENCAPSED_STRING","'%revision-date'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","dateFormatter",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","format",73],"(",["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","revision",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getRevisionCreationTime",73],"(",")",")","]",")",";",["T_WHITESPACE","\n  ",73],"}",["T_WHITESPACE","\n\n  ",74],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",76],["T_WHITESPACE","\n  ",78],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","getCancelUrl",79],"(",")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n    ",79],["T_RETURN","return",80],["T_WHITESPACE"," ",80],["T_NEW","new",80],["T_WHITESPACE"," ",80],["T_STRING","Url",80],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.node.version_history'",80],",",["T_WHITESPACE"," ",80],["T_ARRAY","array",80],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","revision",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","id",80],"(",")",")",")",";",["T_WHITESPACE","\n  ",80],"}",["T_WHITESPACE","\n\n  ",81],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",83],["T_WHITESPACE","\n  ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","getConfirmText",86],"(",")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n    ",86],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_STRING","t",87],"(",["T_CONSTANT_ENCAPSED_STRING","'Revert'",87],")",";",["T_WHITESPACE","\n  ",87],"}",["T_WHITESPACE","\n\n  ",88],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",90],["T_WHITESPACE","\n  ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","getDescription",93],"(",")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n    ",93],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","''",94],";",["T_WHITESPACE","\n  ",94],"}",["T_WHITESPACE","\n\n  ",95],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",97],["T_WHITESPACE","\n  ",99],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","buildForm",100],"(",["T_ARRAY","array",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$form",100],",",["T_WHITESPACE"," ",100],["T_STRING","FormStateInterface",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$form_state",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$node_revision",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_STRING","NULL",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","revision",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","nodeStorage",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","loadRevision",101],"(",["T_VARIABLE","$node_revision",101],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$form",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","parent",102],["T_DOUBLE_COLON","::",102],["T_STRING","buildForm",102],"(",["T_VARIABLE","$form",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$form_state",102],")",";",["T_WHITESPACE","\n\n    ",102],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$form",104],";",["T_WHITESPACE","\n  ",104],"}",["T_WHITESPACE","\n\n  ",105],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",107],["T_WHITESPACE","\n  ",109],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","submitForm",110],"(",["T_ARRAY","array",110],["T_WHITESPACE"," ",110],"&",["T_VARIABLE","$form",110],",",["T_WHITESPACE"," ",110],["T_STRING","FormStateInterface",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$form_state",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n    ",110],["T_COMMENT","\/\/ The revision timestamp will be updated when the revision is saved. Keep\n",111],["T_WHITESPACE","    ",112],["T_COMMENT","\/\/ the original one for the confirmation message.\n",112],["T_WHITESPACE","    ",113],["T_VARIABLE","$original_revision_timestamp",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","revision",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getRevisionCreationTime",113],"(",")",";",["T_WHITESPACE","\n\n    ",113],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","revision",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","prepareRevertedRevision",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","revision",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$form_state",115],")",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","revision",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","revision_log",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_STRING","t",116],"(",["T_CONSTANT_ENCAPSED_STRING","'Copy of the revision from %date.'",116],",",["T_WHITESPACE"," ",116],"[",["T_CONSTANT_ENCAPSED_STRING","'%date'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","dateFormatter",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","format",116],"(",["T_VARIABLE","$original_revision_timestamp",116],")","]",")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","revision",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","save",117],"(",")",";",["T_WHITESPACE","\n\n    ",117],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","logger",119],"(",["T_CONSTANT_ENCAPSED_STRING","'content'",119],")",["T_OBJECT_OPERATOR","->",119],["T_STRING","notice",119],"(",["T_CONSTANT_ENCAPSED_STRING","'@type: reverted %title revision %revision.'",119],",",["T_WHITESPACE"," ",119],"[",["T_CONSTANT_ENCAPSED_STRING","'@type'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","revision",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","bundle",119],"(",")",",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'%title'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","revision",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","label",119],"(",")",",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'%revision'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","revision",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getRevisionId",119],"(",")","]",")",";",["T_WHITESPACE","\n    ",119],["T_STRING","drupal_set_message",120],"(",["T_STRING","t",120],"(",["T_CONSTANT_ENCAPSED_STRING","'@type %title has been reverted to the revision from %revision-date.'",120],",",["T_WHITESPACE"," ",120],"[",["T_CONSTANT_ENCAPSED_STRING","'@type'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_STRING","node_get_type_label",120],"(",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","revision",120],")",",",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'%title'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","revision",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","label",120],"(",")",",",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'%revision-date'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","dateFormatter",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","format",120],"(",["T_VARIABLE","$original_revision_timestamp",120],")","]",")",")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$form_state",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","setRedirect",121],"(",["T_WHITESPACE","\n      ",121],["T_CONSTANT_ENCAPSED_STRING","'entity.node.version_history'",122],",",["T_WHITESPACE","\n      ",122],["T_ARRAY","array",123],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","revision",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","id",123],"(",")",")",["T_WHITESPACE","\n    ",123],")",";",["T_WHITESPACE","\n  ",124],"}",["T_WHITESPACE","\n\n  ",125],["T_DOC_COMMENT","\/**\n   * Prepares a revision to be reverted.\n   *\n   * @param \\Drupal\\node\\NodeInterface $revision\n   *   The revision to be reverted.\n   * @param \\Drupal\\Core\\Form\\FormStateInterface $form_state\n   *   The current state of the form.\n   *\n   * @return \\Drupal\\node\\NodeInterface\n   *   The prepared revision ready to be stored.\n   *\/",127],["T_WHITESPACE","\n  ",137],["T_PROTECTED","protected",138],["T_WHITESPACE"," ",138],["T_FUNCTION","function",138],["T_WHITESPACE"," ",138],["T_STRING","prepareRevertedRevision",138],"(",["T_STRING","NodeInterface",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$revision",138],",",["T_WHITESPACE"," ",138],["T_STRING","FormStateInterface",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$form_state",138],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$revision",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","setNewRevision",139],"(",")",";",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$revision",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","isDefaultRevision",140],"(",["T_STRING","TRUE",140],")",";",["T_WHITESPACE","\n\n    ",140],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$revision",142],";",["T_WHITESPACE","\n  ",142],"}",["T_WHITESPACE","\n\n",143],"}",["T_WHITESPACE","\n",145]]