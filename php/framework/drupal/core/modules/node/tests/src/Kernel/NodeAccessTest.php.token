[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","node",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Render",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FormattableMarkup",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Session",6],["T_NS_SEPARATOR","\\",6],["T_STRING","AccountInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","KernelTests",7],["T_NS_SEPARATOR","\\",7],["T_STRING","KernelTestBase",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","node",8],["T_NS_SEPARATOR","\\",8],["T_STRING","NodeInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","simpletest",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ContentTypeCreationTrait",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","simpletest",10],["T_NS_SEPARATOR","\\",10],["T_STRING","NodeCreationTrait",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","simpletest",11],["T_NS_SEPARATOR","\\",11],["T_STRING","UserCreationTrait",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","user",12],["T_NS_SEPARATOR","\\",12],["T_STRING","RoleInterface",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Tests basic node_access functionality.\n *\n * @group node\n *\/",14],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","NodeAccessTest",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_STRING","KernelTestBase",19],["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n\n  ",19],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","NodeCreationTrait",21],["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n    ",21],["T_STRING","getNodeByTitle",22],["T_WHITESPACE"," ",22],["T_AS","as",22],["T_WHITESPACE"," ",22],["T_STRING","drupalGetNodeByTitle",22],";",["T_WHITESPACE","\n    ",22],["T_STRING","createNode",23],["T_WHITESPACE"," ",23],["T_AS","as",23],["T_WHITESPACE"," ",23],["T_STRING","drupalCreateNode",23],";",["T_WHITESPACE","\n  ",23],"}",["T_WHITESPACE","\n  ",24],["T_USE","use",25],["T_WHITESPACE"," ",25],["T_STRING","UserCreationTrait",25],["T_WHITESPACE"," ",25],"{",["T_WHITESPACE","\n    ",25],["T_STRING","createUser",26],["T_WHITESPACE"," ",26],["T_AS","as",26],["T_WHITESPACE"," ",26],["T_STRING","drupalCreateUser",26],";",["T_WHITESPACE","\n    ",26],["T_STRING","createRole",27],["T_WHITESPACE"," ",27],["T_AS","as",27],["T_WHITESPACE"," ",27],["T_STRING","drupalCreateRole",27],";",["T_WHITESPACE","\n    ",27],["T_STRING","createAdminRole",28],["T_WHITESPACE"," ",28],["T_AS","as",28],["T_WHITESPACE"," ",28],["T_STRING","drupalCreateAdminRole",28],";",["T_WHITESPACE","\n  ",28],"}",["T_WHITESPACE","\n  ",29],["T_USE","use",30],["T_WHITESPACE"," ",30],["T_STRING","ContentTypeCreationTrait",30],["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n    ",30],["T_STRING","createContentType",31],["T_WHITESPACE"," ",31],["T_AS","as",31],["T_WHITESPACE"," ",31],["T_STRING","drupalCreateContentType",31],";",["T_WHITESPACE","\n  ",31],"}",["T_WHITESPACE","\n\n  ",32],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",34],["T_WHITESPACE","\n  ",36],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_STATIC","static",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$modules",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],"[",["T_WHITESPACE","\n    ",37],["T_CONSTANT_ENCAPSED_STRING","'node'",38],",",["T_WHITESPACE","\n    ",38],["T_CONSTANT_ENCAPSED_STRING","'datetime'",39],",",["T_WHITESPACE","\n    ",39],["T_CONSTANT_ENCAPSED_STRING","'user'",40],",",["T_WHITESPACE","\n    ",40],["T_CONSTANT_ENCAPSED_STRING","'system'",41],",",["T_WHITESPACE","\n    ",41],["T_CONSTANT_ENCAPSED_STRING","'filter'",42],",",["T_WHITESPACE","\n    ",42],["T_CONSTANT_ENCAPSED_STRING","'field'",43],",",["T_WHITESPACE","\n    ",43],["T_CONSTANT_ENCAPSED_STRING","'text'",44],",",["T_WHITESPACE","\n  ",44],"]",";",["T_WHITESPACE","\n\n  ",45],["T_DOC_COMMENT","\/**\n   * Access handler.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityAccessControlHandlerInterface\n   *\/",47],["T_WHITESPACE","\n  ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$accessHandler",52],";",["T_WHITESPACE","\n\n  ",52],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",54],["T_WHITESPACE","\n  ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","setUp",57],"(",")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n    ",57],["T_STRING","parent",58],["T_DOUBLE_COLON","::",58],["T_STRING","setUp",58],"(",")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","installSchema",59],"(",["T_CONSTANT_ENCAPSED_STRING","'system'",59],",",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'sequences'",59],")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","installSchema",60],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'node_access'",60],")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","installEntitySchema",61],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",61],")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","installEntitySchema",62],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",62],")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","installConfig",63],"(",["T_CONSTANT_ENCAPSED_STRING","'filter'",63],")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","installConfig",64],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",64],")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","accessHandler",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","container",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","get",65],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",65],")",["T_WHITESPACE","\n      ",65],["T_OBJECT_OPERATOR","->",66],["T_STRING","getAccessControlHandler",66],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",66],")",";",["T_WHITESPACE","\n    ",66],["T_COMMENT","\/\/ Clear permissions for authenticated users.\n",67],["T_WHITESPACE","    ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","config",68],"(",["T_CONSTANT_ENCAPSED_STRING","'user.role.'",68],["T_WHITESPACE"," ",68],".",["T_WHITESPACE"," ",68],["T_STRING","RoleInterface",68],["T_DOUBLE_COLON","::",68],["T_STRING","AUTHENTICATED_ID",68],")",["T_WHITESPACE","\n      ",68],["T_OBJECT_OPERATOR","->",69],["T_STRING","set",69],"(",["T_CONSTANT_ENCAPSED_STRING","'permissions'",69],",",["T_WHITESPACE"," ",69],"[","]",")",["T_WHITESPACE","\n      ",69],["T_OBJECT_OPERATOR","->",70],["T_STRING","save",70],"(",")",";",["T_WHITESPACE","\n\n    ",70],["T_COMMENT","\/\/ Create user 1 who has special permissions.\n",72],["T_WHITESPACE","    ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","drupalCreateUser",73],"(",")",";",["T_WHITESPACE","\n\n    ",73],["T_COMMENT","\/\/ Create a node type.\n",75],["T_WHITESPACE","    ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","drupalCreateContentType",76],"(",["T_ARRAY","array",76],"(",["T_WHITESPACE","\n      ",76],["T_CONSTANT_ENCAPSED_STRING","'type'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'page'",77],",",["T_WHITESPACE","\n      ",77],["T_CONSTANT_ENCAPSED_STRING","'name'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'Basic page'",78],",",["T_WHITESPACE","\n      ",78],["T_CONSTANT_ENCAPSED_STRING","'display_submitted'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_STRING","FALSE",79],",",["T_WHITESPACE","\n    ",79],")",")",";",["T_WHITESPACE","\n  ",80],"}",["T_WHITESPACE","\n\n  ",81],["T_DOC_COMMENT","\/**\n   * Runs basic tests for node_access function.\n   *\/",83],["T_WHITESPACE","\n  ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","testNodeAccess",86],"(",")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n    ",86],["T_COMMENT","\/\/ Ensures user without 'access content' permission can do nothing.\n",87],["T_WHITESPACE","    ",88],["T_VARIABLE","$web_user1",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","drupalCreateUser",88],"(","[",["T_WHITESPACE","\n      ",88],["T_CONSTANT_ENCAPSED_STRING","'create page content'",89],",",["T_WHITESPACE","\n      ",89],["T_CONSTANT_ENCAPSED_STRING","'edit any page content'",90],",",["T_WHITESPACE","\n      ",90],["T_CONSTANT_ENCAPSED_STRING","'delete any page content'",91],",",["T_WHITESPACE","\n    ",91],"]",")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$node1",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","drupalCreateNode",93],"(","[",["T_CONSTANT_ENCAPSED_STRING","'type'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'page'",93],"]",")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertNodeCreateAccess",94],"(",["T_VARIABLE","$node1",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","bundle",94],"(",")",",",["T_WHITESPACE"," ",94],["T_STRING","FALSE",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$web_user1",94],")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertNodeAccess",95],"(","[",["T_WHITESPACE","\n      ",95],["T_CONSTANT_ENCAPSED_STRING","'view'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_STRING","FALSE",96],",",["T_WHITESPACE","\n      ",96],["T_CONSTANT_ENCAPSED_STRING","'update'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_STRING","FALSE",97],",",["T_WHITESPACE","\n      ",97],["T_CONSTANT_ENCAPSED_STRING","'delete'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_STRING","FALSE",98],",",["T_WHITESPACE","\n    ",98],"]",",",["T_WHITESPACE"," ",99],["T_VARIABLE","$node1",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$web_user1",99],")",";",["T_WHITESPACE","\n\n    ",99],["T_COMMENT","\/\/ Ensures user with 'bypass node access' permission can do everything.\n",101],["T_WHITESPACE","    ",102],["T_VARIABLE","$web_user2",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","drupalCreateUser",102],"(","[",["T_CONSTANT_ENCAPSED_STRING","'bypass node access'",102],"]",")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$node2",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","drupalCreateNode",103],"(","[",["T_CONSTANT_ENCAPSED_STRING","'type'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'page'",103],"]",")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","assertNodeCreateAccess",104],"(",["T_VARIABLE","$node2",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","bundle",104],"(",")",",",["T_WHITESPACE"," ",104],["T_STRING","TRUE",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$web_user2",104],")",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertNodeAccess",105],"(","[",["T_WHITESPACE","\n      ",105],["T_CONSTANT_ENCAPSED_STRING","'view'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_STRING","TRUE",106],",",["T_WHITESPACE","\n      ",106],["T_CONSTANT_ENCAPSED_STRING","'update'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_STRING","TRUE",107],",",["T_WHITESPACE","\n      ",107],["T_CONSTANT_ENCAPSED_STRING","'delete'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_STRING","TRUE",108],",",["T_WHITESPACE","\n    ",108],"]",",",["T_WHITESPACE"," ",109],["T_VARIABLE","$node2",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$web_user2",109],")",";",["T_WHITESPACE","\n\n    ",109],["T_COMMENT","\/\/ User cannot 'view own unpublished content'.\n",111],["T_WHITESPACE","    ",112],["T_VARIABLE","$web_user3",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","drupalCreateUser",112],"(","[",["T_CONSTANT_ENCAPSED_STRING","'access content'",112],"]",")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$node3",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","drupalCreateNode",113],"(","[",["T_WHITESPACE","\n      ",113],["T_CONSTANT_ENCAPSED_STRING","'status'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_LNUMBER","0",114],",",["T_WHITESPACE","\n      ",114],["T_CONSTANT_ENCAPSED_STRING","'uid'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$web_user3",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","id",115],"(",")",",",["T_WHITESPACE","\n    ",115],"]",")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","assertNodeAccess",117],"(","[",["T_CONSTANT_ENCAPSED_STRING","'view'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_STRING","FALSE",117],"]",",",["T_WHITESPACE"," ",117],["T_VARIABLE","$node3",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$web_user3",117],")",";",["T_WHITESPACE","\n\n    ",117],["T_COMMENT","\/\/ User cannot create content without permission.\n",119],["T_WHITESPACE","    ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","assertNodeCreateAccess",120],"(",["T_VARIABLE","$node3",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","bundle",120],"(",")",",",["T_WHITESPACE"," ",120],["T_STRING","FALSE",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$web_user3",120],")",";",["T_WHITESPACE","\n\n    ",120],["T_COMMENT","\/\/ User can 'view own unpublished content', but another user cannot.\n",122],["T_WHITESPACE","    ",123],["T_VARIABLE","$web_user4",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","drupalCreateUser",123],"(","[",["T_WHITESPACE","\n      ",123],["T_CONSTANT_ENCAPSED_STRING","'access content'",124],",",["T_WHITESPACE","\n      ",124],["T_CONSTANT_ENCAPSED_STRING","'view own unpublished content'",125],",",["T_WHITESPACE","\n    ",125],"]",")",";",["T_WHITESPACE","\n    ",126],["T_VARIABLE","$web_user5",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","drupalCreateUser",127],"(","[",["T_WHITESPACE","\n      ",127],["T_CONSTANT_ENCAPSED_STRING","'access content'",128],",",["T_WHITESPACE","\n      ",128],["T_CONSTANT_ENCAPSED_STRING","'view own unpublished content'",129],",",["T_WHITESPACE","\n    ",129],"]",")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$node4",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","drupalCreateNode",131],"(","[",["T_WHITESPACE","\n      ",131],["T_CONSTANT_ENCAPSED_STRING","'status'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_LNUMBER","0",132],",",["T_WHITESPACE","\n      ",132],["T_CONSTANT_ENCAPSED_STRING","'uid'",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$web_user4",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","id",133],"(",")",",",["T_WHITESPACE","\n    ",133],"]",")",";",["T_WHITESPACE","\n    ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","assertNodeAccess",135],"(","[",["T_WHITESPACE","\n      ",135],["T_CONSTANT_ENCAPSED_STRING","'view'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_STRING","TRUE",136],",",["T_WHITESPACE","\n      ",136],["T_CONSTANT_ENCAPSED_STRING","'update'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_STRING","FALSE",137],",",["T_WHITESPACE","\n    ",137],"]",",",["T_WHITESPACE"," ",138],["T_VARIABLE","$node4",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$web_user4",138],")",";",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","assertNodeAccess",139],"(","[",["T_CONSTANT_ENCAPSED_STRING","'view'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_STRING","FALSE",139],"]",",",["T_WHITESPACE"," ",139],["T_VARIABLE","$node4",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$web_user5",139],")",";",["T_WHITESPACE","\n\n    ",139],["T_COMMENT","\/\/ Tests the default access provided for a published node.\n",141],["T_WHITESPACE","    ",142],["T_VARIABLE","$node5",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","drupalCreateNode",142],"(",")",";",["T_WHITESPACE","\n    ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","assertNodeAccess",143],"(","[",["T_WHITESPACE","\n      ",143],["T_CONSTANT_ENCAPSED_STRING","'view'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_STRING","TRUE",144],",",["T_WHITESPACE","\n      ",144],["T_CONSTANT_ENCAPSED_STRING","'update'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_STRING","FALSE",145],",",["T_WHITESPACE","\n      ",145],["T_CONSTANT_ENCAPSED_STRING","'delete'",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_STRING","FALSE",146],",",["T_WHITESPACE","\n    ",146],"]",",",["T_WHITESPACE"," ",147],["T_VARIABLE","$node5",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$web_user3",147],")",";",["T_WHITESPACE","\n\n    ",147],["T_COMMENT","\/\/ Tests the \"edit any BUNDLE\" and \"delete any BUNDLE\" permissions.\n",149],["T_WHITESPACE","    ",150],["T_VARIABLE","$web_user6",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","drupalCreateUser",150],"(","[",["T_WHITESPACE","\n      ",150],["T_CONSTANT_ENCAPSED_STRING","'access content'",151],",",["T_WHITESPACE","\n      ",151],["T_CONSTANT_ENCAPSED_STRING","'edit any page content'",152],",",["T_WHITESPACE","\n      ",152],["T_CONSTANT_ENCAPSED_STRING","'delete any page content'",153],",",["T_WHITESPACE","\n    ",153],"]",")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$node6",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","drupalCreateNode",155],"(","[",["T_CONSTANT_ENCAPSED_STRING","'type'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'page'",155],"]",")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","assertNodeAccess",156],"(","[",["T_WHITESPACE","\n      ",156],["T_CONSTANT_ENCAPSED_STRING","'view'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_STRING","TRUE",157],",",["T_WHITESPACE","\n      ",157],["T_CONSTANT_ENCAPSED_STRING","'update'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_STRING","TRUE",158],",",["T_WHITESPACE","\n      ",158],["T_CONSTANT_ENCAPSED_STRING","'delete'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_STRING","TRUE",159],",",["T_WHITESPACE","\n    ",159],"]",",",["T_WHITESPACE"," ",160],["T_VARIABLE","$node6",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$web_user6",160],")",";",["T_WHITESPACE","\n\n    ",160],["T_COMMENT","\/\/ Tests the \"edit own BUNDLE\" and \"delete own BUNDLE\" permission.\n",162],["T_WHITESPACE","    ",163],["T_VARIABLE","$web_user7",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","drupalCreateUser",163],"(","[",["T_WHITESPACE","\n      ",163],["T_CONSTANT_ENCAPSED_STRING","'access content'",164],",",["T_WHITESPACE","\n      ",164],["T_CONSTANT_ENCAPSED_STRING","'edit own page content'",165],",",["T_WHITESPACE","\n      ",165],["T_CONSTANT_ENCAPSED_STRING","'delete own page content'",166],",",["T_WHITESPACE","\n    ",166],"]",")",";",["T_WHITESPACE","\n    ",167],["T_COMMENT","\/\/ User should not be able to edit or delete nodes they do not own.\n",168],["T_WHITESPACE","    ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","assertNodeAccess",169],"(","[",["T_WHITESPACE","\n      ",169],["T_CONSTANT_ENCAPSED_STRING","'view'",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_STRING","TRUE",170],",",["T_WHITESPACE","\n      ",170],["T_CONSTANT_ENCAPSED_STRING","'update'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_STRING","FALSE",171],",",["T_WHITESPACE","\n      ",171],["T_CONSTANT_ENCAPSED_STRING","'delete'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_STRING","FALSE",172],",",["T_WHITESPACE","\n    ",172],"]",",",["T_WHITESPACE"," ",173],["T_VARIABLE","$node6",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$web_user7",173],")",";",["T_WHITESPACE","\n\n    ",173],["T_COMMENT","\/\/ User should be able to edit or delete nodes they own.\n",175],["T_WHITESPACE","    ",176],["T_VARIABLE","$node7",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","drupalCreateNode",176],"(","[",["T_WHITESPACE","\n      ",176],["T_CONSTANT_ENCAPSED_STRING","'type'",177],["T_WHITESPACE"," ",177],["T_DOUBLE_ARROW","=>",177],["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","'page'",177],",",["T_WHITESPACE","\n      ",177],["T_CONSTANT_ENCAPSED_STRING","'uid'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$web_user7",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","id",178],"(",")",",",["T_WHITESPACE","\n    ",178],"]",")",";",["T_WHITESPACE","\n    ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","assertNodeAccess",180],"(","[",["T_WHITESPACE","\n      ",180],["T_CONSTANT_ENCAPSED_STRING","'view'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_STRING","TRUE",181],",",["T_WHITESPACE","\n      ",181],["T_CONSTANT_ENCAPSED_STRING","'update'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_STRING","TRUE",182],",",["T_WHITESPACE","\n      ",182],["T_CONSTANT_ENCAPSED_STRING","'delete'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_STRING","TRUE",183],",",["T_WHITESPACE","\n    ",183],"]",",",["T_WHITESPACE"," ",184],["T_VARIABLE","$node7",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$web_user7",184],")",";",["T_WHITESPACE","\n  ",184],"}",["T_WHITESPACE","\n\n  ",185],["T_DOC_COMMENT","\/**\n   * Test operations not supported by node grants.\n   *\/",187],["T_WHITESPACE","\n  ",189],["T_PUBLIC","public",190],["T_WHITESPACE"," ",190],["T_FUNCTION","function",190],["T_WHITESPACE"," ",190],["T_STRING","testUnsupportedOperation",190],"(",")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n    ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","enableModules",191],"(","[",["T_CONSTANT_ENCAPSED_STRING","'node_access_test_empty'",191],"]",")",";",["T_WHITESPACE","\n    ",191],["T_VARIABLE","$web_user",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","drupalCreateUser",192],"(","[",["T_CONSTANT_ENCAPSED_STRING","'access content'",192],"]",")",";",["T_WHITESPACE","\n    ",192],["T_VARIABLE","$node",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","drupalCreateNode",193],"(",")",";",["T_WHITESPACE","\n    ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","assertNodeAccess",194],"(","[",["T_CONSTANT_ENCAPSED_STRING","'random_operation'",194],["T_WHITESPACE"," ",194],["T_DOUBLE_ARROW","=>",194],["T_WHITESPACE"," ",194],["T_STRING","FALSE",194],"]",",",["T_WHITESPACE"," ",194],["T_VARIABLE","$node",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$web_user",194],")",";",["T_WHITESPACE","\n  ",194],"}",["T_WHITESPACE","\n\n  ",195],["T_DOC_COMMENT","\/**\n   * Asserts that node access correctly grants or denies access.\n   *\n   * @param array $ops\n   *   An associative array of the expected node access grants for the node\n   *   and account, with each key as the name of an operation (e.g. 'view',\n   *   'delete') and each value a Boolean indicating whether access to that\n   *   operation should be granted.\n   * @param \\Drupal\\node\\NodeInterface $node\n   *   The node object to check.\n   * @param \\Drupal\\Core\\Session\\AccountInterface $account\n   *   The user account for which to check access.\n   *\/",197],["T_WHITESPACE","\n  ",209],["T_PUBLIC","public",210],["T_WHITESPACE"," ",210],["T_FUNCTION","function",210],["T_WHITESPACE"," ",210],["T_STRING","assertNodeAccess",210],"(",["T_ARRAY","array",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$ops",210],",",["T_WHITESPACE"," ",210],["T_STRING","NodeInterface",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$node",210],",",["T_WHITESPACE"," ",210],["T_STRING","AccountInterface",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$account",210],")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n    ",210],["T_FOREACH","foreach",211],["T_WHITESPACE"," ",211],"(",["T_VARIABLE","$ops",211],["T_WHITESPACE"," ",211],["T_AS","as",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$op",211],["T_WHITESPACE"," ",211],["T_DOUBLE_ARROW","=>",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$result",211],")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n      ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","assertEquals",212],"(",["T_VARIABLE","$result",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","accessHandler",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","access",212],"(",["T_VARIABLE","$node",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$op",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$account",212],")",",",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","nodeAccessAssertMessage",212],"(",["T_VARIABLE","$op",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$result",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$node",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","language",212],"(",")",["T_WHITESPACE","\n        ",212],["T_OBJECT_OPERATOR","->",213],["T_STRING","getId",213],"(",")",")",")",";",["T_WHITESPACE","\n    ",213],"}",["T_WHITESPACE","\n  ",214],"}",["T_WHITESPACE","\n\n  ",215],["T_DOC_COMMENT","\/**\n   * Asserts that node create access correctly grants or denies access.\n   *\n   * @param string $bundle\n   *   The node bundle to check access to.\n   * @param bool $result\n   *   Whether access should be granted or not.\n   * @param \\Drupal\\Core\\Session\\AccountInterface $account\n   *   The user account for which to check access.\n   * @param string|null $langcode\n   *   (optional) The language code indicating which translation of the node\n   *   to check. If NULL, the untranslated (fallback) access is checked.\n   *\/",217],["T_WHITESPACE","\n  ",229],["T_PUBLIC","public",230],["T_WHITESPACE"," ",230],["T_FUNCTION","function",230],["T_WHITESPACE"," ",230],["T_STRING","assertNodeCreateAccess",230],"(",["T_VARIABLE","$bundle",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$result",230],",",["T_WHITESPACE"," ",230],["T_STRING","AccountInterface",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$account",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$langcode",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_STRING","NULL",230],")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n    ",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","assertEquals",231],"(",["T_VARIABLE","$result",231],",",["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","accessHandler",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","createAccess",231],"(",["T_VARIABLE","$bundle",231],",",["T_WHITESPACE"," ",231],["T_VARIABLE","$account",231],",",["T_WHITESPACE"," ",231],"[",["T_WHITESPACE","\n      ",231],["T_CONSTANT_ENCAPSED_STRING","'langcode'",232],["T_WHITESPACE"," ",232],["T_DOUBLE_ARROW","=>",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$langcode",232],",",["T_WHITESPACE","\n    ",232],"]",")",",",["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","nodeAccessAssertMessage",233],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",233],",",["T_WHITESPACE"," ",233],["T_VARIABLE","$result",233],",",["T_WHITESPACE"," ",233],["T_VARIABLE","$langcode",233],")",")",";",["T_WHITESPACE","\n  ",233],"}",["T_WHITESPACE","\n\n  ",234],["T_DOC_COMMENT","\/**\n   * Constructs an assert message to display which node access was tested.\n   *\n   * @param string $operation\n   *   The operation to check access for.\n   * @param bool $result\n   *   Whether access should be granted or not.\n   * @param string|null $langcode\n   *   (optional) The language code indicating which translation of the node\n   *   to check. If NULL, the untranslated (fallback) access is checked.\n   *\n   * @return string\n   *   An assert message string which contains information in plain English\n   *   about the node access permission test that was performed.\n   *\/",236],["T_WHITESPACE","\n  ",250],["T_PUBLIC","public",251],["T_WHITESPACE"," ",251],["T_FUNCTION","function",251],["T_WHITESPACE"," ",251],["T_STRING","nodeAccessAssertMessage",251],"(",["T_VARIABLE","$operation",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$result",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$langcode",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_STRING","NULL",251],")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n    ",251],["T_RETURN","return",252],["T_WHITESPACE"," ",252],["T_NEW","new",252],["T_WHITESPACE"," ",252],["T_STRING","FormattableMarkup",252],"(",["T_WHITESPACE","\n      ",252],["T_CONSTANT_ENCAPSED_STRING","'Node access returns @result with operation %op, language code %langcode.'",253],",",["T_WHITESPACE","\n      ",253],"[",["T_WHITESPACE","\n        ",254],["T_CONSTANT_ENCAPSED_STRING","'@result'",255],["T_WHITESPACE"," ",255],["T_DOUBLE_ARROW","=>",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$result",255],["T_WHITESPACE"," ",255],"?",["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","'true'",255],["T_WHITESPACE"," ",255],":",["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","'false'",255],",",["T_WHITESPACE","\n        ",255],["T_CONSTANT_ENCAPSED_STRING","'%op'",256],["T_WHITESPACE"," ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$operation",256],",",["T_WHITESPACE","\n        ",256],["T_CONSTANT_ENCAPSED_STRING","'%langcode'",257],["T_WHITESPACE"," ",257],["T_DOUBLE_ARROW","=>",257],["T_WHITESPACE"," ",257],"!",["T_EMPTY","empty",257],"(",["T_VARIABLE","$langcode",257],")",["T_WHITESPACE"," ",257],"?",["T_WHITESPACE"," ",257],["T_VARIABLE","$langcode",257],["T_WHITESPACE"," ",257],":",["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'empty'",257],",",["T_WHITESPACE","\n      ",257],"]",["T_WHITESPACE","\n    ",258],")",";",["T_WHITESPACE","\n  ",259],"}",["T_WHITESPACE","\n\n",260],"}",["T_WHITESPACE","\n",262]]