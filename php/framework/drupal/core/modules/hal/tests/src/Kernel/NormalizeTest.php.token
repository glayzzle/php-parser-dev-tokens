[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","hal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","EntityInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Url",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","entity_test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","EntityTest",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Tests HAL normalization edge cases for EntityResource.\n *\n * @group hal\n *\/",9],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","NormalizeTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","NormalizerTestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",16],["T_WHITESPACE","\n  ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_FUNCTION","function",19],["T_WHITESPACE"," ",19],["T_STRING","setUp",19],"(",")",["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n    ",19],["T_STRING","parent",20],["T_DOUBLE_COLON","::",20],["T_STRING","setUp",20],"(",")",";",["T_WHITESPACE","\n\n    ",20],["T_NS_SEPARATOR","\\",22],["T_STRING","Drupal",22],["T_DOUBLE_COLON","::",22],["T_STRING","service",22],"(",["T_CONSTANT_ENCAPSED_STRING","'router.builder'",22],")",["T_OBJECT_OPERATOR","->",22],["T_STRING","rebuild",22],"(",")",";",["T_WHITESPACE","\n  ",22],"}",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * Tests the normalize function.\n   *\/",25],["T_WHITESPACE","\n  ",27],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","testNormalize",28],"(",")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n    ",28],["T_VARIABLE","$target_entity_de",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_STRING","EntityTest",29],["T_DOUBLE_COLON","::",29],["T_STRING","create",29],"(","(",["T_ARRAY","array",29],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",29],["T_WHITESPACE"," ",29],["T_DOUBLE_ARROW","=>",29],["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'de'",29],",",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'field_test_entity_reference'",29],["T_WHITESPACE"," ",29],["T_DOUBLE_ARROW","=>",29],["T_WHITESPACE"," ",29],["T_STRING","NULL",29],")",")",")",";",["T_WHITESPACE","\n    ",29],["T_VARIABLE","$target_entity_de",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","save",30],"(",")",";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$target_entity_en",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_STRING","EntityTest",31],["T_DOUBLE_COLON","::",31],["T_STRING","create",31],"(","(",["T_ARRAY","array",31],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'en'",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'field_test_entity_reference'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_STRING","NULL",31],")",")",")",";",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$target_entity_en",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","save",32],"(",")",";",["T_WHITESPACE","\n\n    ",32],["T_COMMENT","\/\/ Create a German entity.\n",34],["T_WHITESPACE","    ",35],["T_VARIABLE","$values",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_ARRAY","array",35],"(",["T_WHITESPACE","\n      ",35],["T_CONSTANT_ENCAPSED_STRING","'langcode'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'de'",36],",",["T_WHITESPACE","\n      ",36],["T_CONSTANT_ENCAPSED_STRING","'name'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","randomMachineName",37],"(",")",",",["T_WHITESPACE","\n      ",37],["T_CONSTANT_ENCAPSED_STRING","'field_test_text'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_ARRAY","array",38],"(",["T_WHITESPACE","\n        ",38],["T_CONSTANT_ENCAPSED_STRING","'value'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","randomMachineName",39],"(",")",",",["T_WHITESPACE","\n        ",39],["T_CONSTANT_ENCAPSED_STRING","'format'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'full_html'",40],",",["T_WHITESPACE","\n      ",40],")",",",["T_WHITESPACE","\n      ",41],["T_CONSTANT_ENCAPSED_STRING","'field_test_entity_reference'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_ARRAY","array",42],"(",["T_WHITESPACE","\n        ",42],["T_CONSTANT_ENCAPSED_STRING","'target_id'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$target_entity_de",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","id",43],"(",")",",",["T_WHITESPACE","\n      ",43],")",",",["T_WHITESPACE","\n    ",44],")",";",["T_WHITESPACE","\n    ",45],["T_COMMENT","\/\/ Array of translated values.\n",46],["T_WHITESPACE","    ",47],["T_VARIABLE","$translation_values",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_ARRAY","array",47],"(",["T_WHITESPACE","\n      ",47],["T_CONSTANT_ENCAPSED_STRING","'name'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","randomMachineName",48],"(",")",",",["T_WHITESPACE","\n      ",48],["T_CONSTANT_ENCAPSED_STRING","'field_test_entity_reference'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",["T_WHITESPACE","\n        ",49],["T_CONSTANT_ENCAPSED_STRING","'target_id'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$target_entity_en",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","id",50],"(",")",",",["T_WHITESPACE","\n      ",50],")",["T_WHITESPACE","\n    ",51],")",";",["T_WHITESPACE","\n\n    ",52],["T_VARIABLE","$entity",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","EntityTest",54],["T_DOUBLE_COLON","::",54],["T_STRING","create",54],"(",["T_VARIABLE","$values",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$entity",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","save",55],"(",")",";",["T_WHITESPACE","\n    ",55],["T_COMMENT","\/\/ Add an English value for name and entity reference properties.\n",56],["T_WHITESPACE","    ",57],["T_VARIABLE","$entity",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","addTranslation",57],"(",["T_CONSTANT_ENCAPSED_STRING","'en'",57],")",["T_OBJECT_OPERATOR","->",57],["T_STRING","set",57],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",57],",",["T_WHITESPACE"," ",57],["T_ARRAY","array",57],"(",["T_LNUMBER","0",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_ARRAY","array",57],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$translation_values",57],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",57],"]",")",")",")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$entity",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getTranslation",58],"(",["T_CONSTANT_ENCAPSED_STRING","'en'",58],")",["T_OBJECT_OPERATOR","->",58],["T_STRING","set",58],"(",["T_CONSTANT_ENCAPSED_STRING","'field_test_entity_reference'",58],",",["T_WHITESPACE"," ",58],["T_ARRAY","array",58],"(",["T_LNUMBER","0",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$translation_values",58],"[",["T_CONSTANT_ENCAPSED_STRING","'field_test_entity_reference'",58],"]",")",")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$entity",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","save",59],"(",")",";",["T_WHITESPACE","\n\n    ",59],["T_VARIABLE","$type_uri",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","Url",61],["T_DOUBLE_COLON","::",61],["T_STRING","fromUri",61],"(",["T_CONSTANT_ENCAPSED_STRING","'base:rest\/type\/entity_test\/entity_test'",61],",",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",["T_CONSTANT_ENCAPSED_STRING","'absolute'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_STRING","TRUE",61],")",")",["T_OBJECT_OPERATOR","->",61],["T_STRING","toString",61],"(",")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$relation_uri",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_STRING","Url",62],["T_DOUBLE_COLON","::",62],["T_STRING","fromUri",62],"(",["T_CONSTANT_ENCAPSED_STRING","'base:rest\/relation\/entity_test\/entity_test\/field_test_entity_reference'",62],",",["T_WHITESPACE"," ",62],["T_ARRAY","array",62],"(",["T_CONSTANT_ENCAPSED_STRING","'absolute'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_STRING","TRUE",62],")",")",["T_OBJECT_OPERATOR","->",62],["T_STRING","toString",62],"(",")",";",["T_WHITESPACE","\n\n    ",62],["T_VARIABLE","$expected_array",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_ARRAY","array",64],"(",["T_WHITESPACE","\n      ",64],["T_CONSTANT_ENCAPSED_STRING","'_links'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_ARRAY","array",65],"(",["T_WHITESPACE","\n        ",65],["T_CONSTANT_ENCAPSED_STRING","'curies'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_ARRAY","array",66],"(",["T_WHITESPACE","\n          ",66],["T_ARRAY","array",67],"(",["T_WHITESPACE","\n            ",67],["T_CONSTANT_ENCAPSED_STRING","'href'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'\/relations'",68],",",["T_WHITESPACE","\n            ",68],["T_CONSTANT_ENCAPSED_STRING","'name'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'site'",69],",",["T_WHITESPACE","\n            ",69],["T_CONSTANT_ENCAPSED_STRING","'templated'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_STRING","TRUE",70],",",["T_WHITESPACE","\n          ",70],")",",",["T_WHITESPACE","\n        ",71],")",",",["T_WHITESPACE","\n        ",72],["T_CONSTANT_ENCAPSED_STRING","'self'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_ARRAY","array",73],"(",["T_WHITESPACE","\n          ",73],["T_CONSTANT_ENCAPSED_STRING","'href'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getEntityUri",74],"(",["T_VARIABLE","$entity",74],")",",",["T_WHITESPACE","\n        ",74],")",",",["T_WHITESPACE","\n        ",75],["T_CONSTANT_ENCAPSED_STRING","'type'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_ARRAY","array",76],"(",["T_WHITESPACE","\n          ",76],["T_CONSTANT_ENCAPSED_STRING","'href'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$type_uri",77],",",["T_WHITESPACE","\n        ",77],")",",",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$relation_uri",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_ARRAY","array",79],"(",["T_WHITESPACE","\n          ",79],["T_ARRAY","array",80],"(",["T_WHITESPACE","\n            ",80],["T_CONSTANT_ENCAPSED_STRING","'href'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getEntityUri",81],"(",["T_VARIABLE","$target_entity_de",81],")",",",["T_WHITESPACE","\n            ",81],["T_CONSTANT_ENCAPSED_STRING","'lang'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'de'",82],",",["T_WHITESPACE","\n          ",82],")",",",["T_WHITESPACE","\n          ",83],["T_ARRAY","array",84],"(",["T_WHITESPACE","\n            ",84],["T_CONSTANT_ENCAPSED_STRING","'href'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getEntityUri",85],"(",["T_VARIABLE","$target_entity_en",85],")",",",["T_WHITESPACE","\n            ",85],["T_CONSTANT_ENCAPSED_STRING","'lang'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'en'",86],",",["T_WHITESPACE","\n          ",86],")",",",["T_WHITESPACE","\n        ",87],")",",",["T_WHITESPACE","\n      ",88],")",",",["T_WHITESPACE","\n      ",89],["T_CONSTANT_ENCAPSED_STRING","'_embedded'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_ARRAY","array",90],"(",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$relation_uri",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_ARRAY","array",91],"(",["T_WHITESPACE","\n          ",91],["T_ARRAY","array",92],"(",["T_WHITESPACE","\n            ",92],["T_CONSTANT_ENCAPSED_STRING","'_links'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_ARRAY","array",93],"(",["T_WHITESPACE","\n              ",93],["T_CONSTANT_ENCAPSED_STRING","'self'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_ARRAY","array",94],"(",["T_WHITESPACE","\n                ",94],["T_CONSTANT_ENCAPSED_STRING","'href'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getEntityUri",95],"(",["T_VARIABLE","$target_entity_de",95],")",",",["T_WHITESPACE","\n              ",95],")",",",["T_WHITESPACE","\n              ",96],["T_CONSTANT_ENCAPSED_STRING","'type'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_ARRAY","array",97],"(",["T_WHITESPACE","\n                ",97],["T_CONSTANT_ENCAPSED_STRING","'href'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$type_uri",98],",",["T_WHITESPACE","\n              ",98],")",",",["T_WHITESPACE","\n            ",99],")",",",["T_WHITESPACE","\n            ",100],["T_CONSTANT_ENCAPSED_STRING","'uuid'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_ARRAY","array",101],"(",["T_WHITESPACE","\n              ",101],["T_ARRAY","array",102],"(",["T_WHITESPACE","\n                ",102],["T_CONSTANT_ENCAPSED_STRING","'value'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$target_entity_de",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","uuid",103],"(",")",",",["T_WHITESPACE","\n              ",103],")",",",["T_WHITESPACE","\n            ",104],")",",",["T_WHITESPACE","\n            ",105],["T_CONSTANT_ENCAPSED_STRING","'lang'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'de'",106],",",["T_WHITESPACE","\n          ",106],")",",",["T_WHITESPACE","\n          ",107],["T_ARRAY","array",108],"(",["T_WHITESPACE","\n            ",108],["T_CONSTANT_ENCAPSED_STRING","'_links'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_ARRAY","array",109],"(",["T_WHITESPACE","\n              ",109],["T_CONSTANT_ENCAPSED_STRING","'self'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_ARRAY","array",110],"(",["T_WHITESPACE","\n                ",110],["T_CONSTANT_ENCAPSED_STRING","'href'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getEntityUri",111],"(",["T_VARIABLE","$target_entity_en",111],")",",",["T_WHITESPACE","\n              ",111],")",",",["T_WHITESPACE","\n              ",112],["T_CONSTANT_ENCAPSED_STRING","'type'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_ARRAY","array",113],"(",["T_WHITESPACE","\n                ",113],["T_CONSTANT_ENCAPSED_STRING","'href'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$type_uri",114],",",["T_WHITESPACE","\n              ",114],")",",",["T_WHITESPACE","\n            ",115],")",",",["T_WHITESPACE","\n            ",116],["T_CONSTANT_ENCAPSED_STRING","'uuid'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_ARRAY","array",117],"(",["T_WHITESPACE","\n              ",117],["T_ARRAY","array",118],"(",["T_WHITESPACE","\n                ",118],["T_CONSTANT_ENCAPSED_STRING","'value'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$target_entity_en",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","uuid",119],"(",")",",",["T_WHITESPACE","\n              ",119],")",",",["T_WHITESPACE","\n            ",120],")",",",["T_WHITESPACE","\n            ",121],["T_CONSTANT_ENCAPSED_STRING","'lang'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'en'",122],",",["T_WHITESPACE","\n          ",122],")",",",["T_WHITESPACE","\n        ",123],")",",",["T_WHITESPACE","\n      ",124],")",",",["T_WHITESPACE","\n      ",125],["T_CONSTANT_ENCAPSED_STRING","'id'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_ARRAY","array",126],"(",["T_WHITESPACE","\n        ",126],["T_ARRAY","array",127],"(",["T_WHITESPACE","\n          ",127],["T_CONSTANT_ENCAPSED_STRING","'value'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$entity",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","id",128],"(",")",",",["T_WHITESPACE","\n        ",128],")",",",["T_WHITESPACE","\n      ",129],")",",",["T_WHITESPACE","\n      ",130],["T_CONSTANT_ENCAPSED_STRING","'uuid'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_ARRAY","array",131],"(",["T_WHITESPACE","\n        ",131],["T_ARRAY","array",132],"(",["T_WHITESPACE","\n          ",132],["T_CONSTANT_ENCAPSED_STRING","'value'",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$entity",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","uuid",133],"(",")",",",["T_WHITESPACE","\n        ",133],")",",",["T_WHITESPACE","\n      ",134],")",",",["T_WHITESPACE","\n      ",135],["T_CONSTANT_ENCAPSED_STRING","'langcode'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_ARRAY","array",136],"(",["T_WHITESPACE","\n        ",136],["T_ARRAY","array",137],"(",["T_WHITESPACE","\n          ",137],["T_CONSTANT_ENCAPSED_STRING","'value'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'de'",138],",",["T_WHITESPACE","\n        ",138],")",",",["T_WHITESPACE","\n      ",139],")",",",["T_WHITESPACE","\n      ",140],["T_CONSTANT_ENCAPSED_STRING","'name'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_ARRAY","array",141],"(",["T_WHITESPACE","\n        ",141],["T_ARRAY","array",142],"(",["T_WHITESPACE","\n          ",142],["T_CONSTANT_ENCAPSED_STRING","'value'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$values",143],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",143],"]",",",["T_WHITESPACE","\n          ",143],["T_CONSTANT_ENCAPSED_STRING","'lang'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'de'",144],",",["T_WHITESPACE","\n        ",144],")",",",["T_WHITESPACE","\n        ",145],["T_ARRAY","array",146],"(",["T_WHITESPACE","\n          ",146],["T_CONSTANT_ENCAPSED_STRING","'value'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$translation_values",147],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",147],"]",",",["T_WHITESPACE","\n          ",147],["T_CONSTANT_ENCAPSED_STRING","'lang'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'en'",148],",",["T_WHITESPACE","\n        ",148],")",",",["T_WHITESPACE","\n      ",149],")",",",["T_WHITESPACE","\n      ",150],["T_CONSTANT_ENCAPSED_STRING","'field_test_text'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_ARRAY","array",151],"(",["T_WHITESPACE","\n        ",151],["T_ARRAY","array",152],"(",["T_WHITESPACE","\n          ",152],["T_CONSTANT_ENCAPSED_STRING","'value'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$values",153],"[",["T_CONSTANT_ENCAPSED_STRING","'field_test_text'",153],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",153],"]",",",["T_WHITESPACE","\n          ",153],["T_CONSTANT_ENCAPSED_STRING","'format'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$values",154],"[",["T_CONSTANT_ENCAPSED_STRING","'field_test_text'",154],"]","[",["T_CONSTANT_ENCAPSED_STRING","'format'",154],"]",",",["T_WHITESPACE","\n        ",154],")",",",["T_WHITESPACE","\n      ",155],")",",",["T_WHITESPACE","\n    ",156],")",";",["T_WHITESPACE","\n\n    ",157],["T_VARIABLE","$normalized",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","serializer",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","normalize",159],"(",["T_VARIABLE","$entity",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","format",159],")",";",["T_WHITESPACE","\n    ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","assertEqual",160],"(",["T_VARIABLE","$normalized",160],"[",["T_CONSTANT_ENCAPSED_STRING","'_links'",160],"]","[",["T_CONSTANT_ENCAPSED_STRING","'self'",160],"]",",",["T_WHITESPACE"," ",160],["T_VARIABLE","$expected_array",160],"[",["T_CONSTANT_ENCAPSED_STRING","'_links'",160],"]","[",["T_CONSTANT_ENCAPSED_STRING","'self'",160],"]",",",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'self link placed correctly.'",160],")",";",["T_WHITESPACE","\n    ",160],["T_COMMENT","\/\/ @todo Test curies.\n",161],["T_WHITESPACE","    ",162],["T_COMMENT","\/\/ @todo Test type.\n",162],["T_WHITESPACE","    ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","assertEqual",163],"(",["T_VARIABLE","$normalized",163],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",163],"]",",",["T_WHITESPACE"," ",163],["T_VARIABLE","$expected_array",163],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",163],"]",",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'Internal id is exposed.'",163],")",";",["T_WHITESPACE","\n    ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","assertEqual",164],"(",["T_VARIABLE","$normalized",164],"[",["T_CONSTANT_ENCAPSED_STRING","'uuid'",164],"]",",",["T_WHITESPACE"," ",164],["T_VARIABLE","$expected_array",164],"[",["T_CONSTANT_ENCAPSED_STRING","'uuid'",164],"]",",",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'Non-translatable fields is normalized.'",164],")",";",["T_WHITESPACE","\n    ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","assertEqual",165],"(",["T_VARIABLE","$normalized",165],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",165],"]",",",["T_WHITESPACE"," ",165],["T_VARIABLE","$expected_array",165],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",165],"]",",",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'Translatable field with multiple language values is normalized.'",165],")",";",["T_WHITESPACE","\n    ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","assertEqual",166],"(",["T_VARIABLE","$normalized",166],"[",["T_CONSTANT_ENCAPSED_STRING","'field_test_text'",166],"]",",",["T_WHITESPACE"," ",166],["T_VARIABLE","$expected_array",166],"[",["T_CONSTANT_ENCAPSED_STRING","'field_test_text'",166],"]",",",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'Field with properties is normalized.'",166],")",";",["T_WHITESPACE","\n    ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","assertEqual",167],"(",["T_VARIABLE","$normalized",167],"[",["T_CONSTANT_ENCAPSED_STRING","'_embedded'",167],"]","[",["T_VARIABLE","$relation_uri",167],"]",",",["T_WHITESPACE"," ",167],["T_VARIABLE","$expected_array",167],"[",["T_CONSTANT_ENCAPSED_STRING","'_embedded'",167],"]","[",["T_VARIABLE","$relation_uri",167],"]",",",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'Entity reference field is normalized.'",167],")",";",["T_WHITESPACE","\n    ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","assertEqual",168],"(",["T_VARIABLE","$normalized",168],"[",["T_CONSTANT_ENCAPSED_STRING","'_links'",168],"]","[",["T_VARIABLE","$relation_uri",168],"]",",",["T_WHITESPACE"," ",168],["T_VARIABLE","$expected_array",168],"[",["T_CONSTANT_ENCAPSED_STRING","'_links'",168],"]","[",["T_VARIABLE","$relation_uri",168],"]",",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'Links are added for entity reference field.'",168],")",";",["T_WHITESPACE","\n  ",168],"}",["T_WHITESPACE","\n\n  ",169],["T_DOC_COMMENT","\/**\n   * Constructs the entity URI.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityInterface $entity\n   *   The entity.\n   *\n   * @return string\n   *   The entity URI.\n   *\/",171],["T_WHITESPACE","\n  ",179],["T_PROTECTED","protected",180],["T_WHITESPACE"," ",180],["T_FUNCTION","function",180],["T_WHITESPACE"," ",180],["T_STRING","getEntityUri",180],"(",["T_STRING","EntityInterface",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$entity",180],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n    ",180],["T_VARIABLE","$url",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$entity",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","urlInfo",181],"(",["T_CONSTANT_ENCAPSED_STRING","'canonical'",181],",",["T_WHITESPACE"," ",181],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_STRING","TRUE",181],"]",")",";",["T_WHITESPACE","\n    ",181],["T_RETURN","return",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$url",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","setRouteParameter",182],"(",["T_CONSTANT_ENCAPSED_STRING","'_format'",182],",",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'hal_json'",182],")",["T_OBJECT_OPERATOR","->",182],["T_STRING","toString",182],"(",")",";",["T_WHITESPACE","\n  ",182],"}",["T_WHITESPACE","\n\n",183],"}",["T_WHITESPACE","\n",185]]