[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","hal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Normalizer",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","EntityManagerInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Extension",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ModuleHandlerInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","rest",7],["T_NS_SEPARATOR","\\",7],["T_STRING","LinkManager",7],["T_NS_SEPARATOR","\\",7],["T_STRING","LinkManagerInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","GuzzleHttp",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ClientInterface",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Converts the Drupal entity object structure to a HAL array structure.\n *\/",10],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","FileEntityNormalizer",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","ContentEntityNormalizer",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * The interface or class that this Normalizer supports.\n   *\n   * @var string\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$supportedInterfaceOrClass",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\file\\FileInterface'",20],";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * The HTTP client.\n   *\n   * @var \\GuzzleHttp\\ClientInterface\n   *\/",22],["T_WHITESPACE","\n  ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$httpClient",27],";",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * Constructs a FileEntityNormalizer object.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityManagerInterface $entity_manager\n   *   The entity manager.\n   * @param \\GuzzleHttp\\ClientInterface $http_client\n   *   The HTTP Client.\n   * @param \\Drupal\\rest\\LinkManager\\LinkManagerInterface $link_manager\n   *   The hypermedia link manager.\n   * @param \\Drupal\\Core\\Extension\\ModuleHandlerInterface $module_handler\n   *   The module handler.\n   *\/",29],["T_WHITESPACE","\n  ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","__construct",41],"(",["T_STRING","EntityManagerInterface",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$entity_manager",41],",",["T_WHITESPACE"," ",41],["T_STRING","ClientInterface",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$http_client",41],",",["T_WHITESPACE"," ",41],["T_STRING","LinkManagerInterface",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$link_manager",41],",",["T_WHITESPACE"," ",41],["T_STRING","ModuleHandlerInterface",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$module_handler",41],")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n    ",41],["T_STRING","parent",42],["T_DOUBLE_COLON","::",42],["T_STRING","__construct",42],"(",["T_VARIABLE","$link_manager",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$entity_manager",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$module_handler",42],")",";",["T_WHITESPACE","\n\n    ",42],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","httpClient",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$http_client",44],";",["T_WHITESPACE","\n  ",44],"}",["T_WHITESPACE","\n\n  ",45],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",47],["T_WHITESPACE","\n  ",49],["T_PUBLIC","public",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","normalize",50],"(",["T_VARIABLE","$entity",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$format",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","NULL",50],",",["T_WHITESPACE"," ",50],["T_ARRAY","array",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$context",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_ARRAY","array",50],"(",")",")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$data",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_STRING","parent",51],["T_DOUBLE_COLON","::",51],["T_STRING","normalize",51],"(",["T_VARIABLE","$entity",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$format",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$context",51],")",";",["T_WHITESPACE","\n    ",51],["T_COMMENT","\/\/ Replace the file url with a full url for the file.\n",52],["T_WHITESPACE","    ",53],["T_VARIABLE","$data",53],"[",["T_CONSTANT_ENCAPSED_STRING","'uri'",53],"]","[",["T_LNUMBER","0",53],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",53],"]",["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getEntityUri",53],"(",["T_VARIABLE","$entity",53],")",";",["T_WHITESPACE","\n\n    ",53],["T_RETURN","return",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$data",55],";",["T_WHITESPACE","\n  ",55],"}",["T_WHITESPACE","\n\n  ",56],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",58],["T_WHITESPACE","\n  ",60],["T_PUBLIC","public",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","denormalize",61],"(",["T_VARIABLE","$data",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$class",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$format",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","NULL",61],",",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$context",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",")",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$file_data",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_STRING_CAST","(string)",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","httpClient",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","get",62],"(",["T_VARIABLE","$data",62],"[",["T_CONSTANT_ENCAPSED_STRING","'uri'",62],"]","[",["T_LNUMBER","0",62],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",62],"]",")",["T_OBJECT_OPERATOR","->",62],["T_STRING","getBody",62],"(",")",";",["T_WHITESPACE","\n\n    ",62],["T_VARIABLE","$path",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'temporary:\/\/'",64],["T_WHITESPACE"," ",64],".",["T_WHITESPACE"," ",64],["T_STRING","drupal_basename",64],"(",["T_VARIABLE","$data",64],"[",["T_CONSTANT_ENCAPSED_STRING","'uri'",64],"]","[",["T_LNUMBER","0",64],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",64],"]",")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$data",65],"[",["T_CONSTANT_ENCAPSED_STRING","'uri'",65],"]",["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","file_unmanaged_save_data",65],"(",["T_VARIABLE","$file_data",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$path",65],")",";",["T_WHITESPACE","\n\n    ",65],["T_RETURN","return",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","entityManager",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getStorage",67],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",67],")",["T_OBJECT_OPERATOR","->",67],["T_STRING","create",67],"(",["T_VARIABLE","$data",67],")",";",["T_WHITESPACE","\n  ",67],"}",["T_WHITESPACE","\n\n",68],"}",["T_WHITESPACE","\n",70]]