[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","contact",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Unicode",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","contact",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ContactForm",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Mail",7],["T_NS_SEPARATOR","\\",7],["T_STRING","MailFormatHelper",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Url",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","field_ui",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Tests",9],["T_NS_SEPARATOR","\\",9],["T_STRING","FieldUiTestTrait",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","simpletest",10],["T_NS_SEPARATOR","\\",10],["T_STRING","WebTestBase",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Entity",11],["T_NS_SEPARATOR","\\",11],["T_STRING","EntityTypeInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","user",12],["T_NS_SEPARATOR","\\",12],["T_STRING","RoleInterface",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Tests site-wide contact form functionality.\n *\n * @see \\Drupal\\contact\\Tests\\ContactStorageTest\n *\n * @group contact\n *\/",14],["T_WHITESPACE","\n",20],["T_CLASS","class",21],["T_WHITESPACE"," ",21],["T_STRING","ContactSitewideTest",21],["T_WHITESPACE"," ",21],["T_EXTENDS","extends",21],["T_WHITESPACE"," ",21],["T_STRING","WebTestBase",21],["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n\n  ",21],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","FieldUiTestTrait",23],";",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",25],["T_WHITESPACE","\n  ",29],["T_PUBLIC","public",30],["T_WHITESPACE"," ",30],["T_STATIC","static",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$modules",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],"[",["T_CONSTANT_ENCAPSED_STRING","'text'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'contact'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'field_ui'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'contact_test'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'block'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'error_service_test'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'dblog'",30],"]",";",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",32],["T_WHITESPACE","\n  ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","setUp",35],"(",")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n    ",35],["T_STRING","parent",36],["T_DOUBLE_COLON","::",36],["T_STRING","setUp",36],"(",")",";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","drupalPlaceBlock",37],"(",["T_CONSTANT_ENCAPSED_STRING","'system_breadcrumb_block'",37],")",";",["T_WHITESPACE","\n    ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","drupalPlaceBlock",38],"(",["T_CONSTANT_ENCAPSED_STRING","'local_actions_block'",38],")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","drupalPlaceBlock",39],"(",["T_CONSTANT_ENCAPSED_STRING","'page_title_block'",39],")",";",["T_WHITESPACE","\n  ",39],"}",["T_WHITESPACE","\n\n  ",40],["T_DOC_COMMENT","\/**\n   * Tests configuration options and the site-wide contact form.\n   *\/",42],["T_WHITESPACE","\n  ",44],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","testSiteWideContact",45],"(",")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n    ",45],["T_COMMENT","\/\/ Create and log in administrative user.\n",46],["T_WHITESPACE","    ",47],["T_VARIABLE","$admin_user",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","drupalCreateUser",47],"(","[",["T_WHITESPACE","\n      ",47],["T_CONSTANT_ENCAPSED_STRING","'access site-wide contact form'",48],",",["T_WHITESPACE","\n      ",48],["T_CONSTANT_ENCAPSED_STRING","'administer contact forms'",49],",",["T_WHITESPACE","\n      ",49],["T_CONSTANT_ENCAPSED_STRING","'administer users'",50],",",["T_WHITESPACE","\n      ",50],["T_CONSTANT_ENCAPSED_STRING","'administer account settings'",51],",",["T_WHITESPACE","\n      ",51],["T_CONSTANT_ENCAPSED_STRING","'administer contact_message fields'",52],",",["T_WHITESPACE","\n      ",52],["T_CONSTANT_ENCAPSED_STRING","'administer contact_message form display'",53],",",["T_WHITESPACE","\n    ",53],"]",")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","drupalLogin",55],"(",["T_VARIABLE","$admin_user",55],")",";",["T_WHITESPACE","\n\n    ",55],["T_COMMENT","\/\/ Check the presence of expected cache tags.\n",57],["T_WHITESPACE","    ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","drupalGet",58],"(",["T_CONSTANT_ENCAPSED_STRING","'contact'",58],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","assertCacheTag",59],"(",["T_CONSTANT_ENCAPSED_STRING","'config:contact.settings'",59],")",";",["T_WHITESPACE","\n\n    ",59],["T_VARIABLE","$flood_limit",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_LNUMBER","3",61],";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","config",62],"(",["T_CONSTANT_ENCAPSED_STRING","'contact.settings'",62],")",["T_WHITESPACE","\n      ",62],["T_OBJECT_OPERATOR","->",63],["T_STRING","set",63],"(",["T_CONSTANT_ENCAPSED_STRING","'flood.limit'",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$flood_limit",63],")",["T_WHITESPACE","\n      ",63],["T_OBJECT_OPERATOR","->",64],["T_STRING","set",64],"(",["T_CONSTANT_ENCAPSED_STRING","'flood.interval'",64],",",["T_WHITESPACE"," ",64],["T_LNUMBER","600",64],")",["T_WHITESPACE","\n      ",64],["T_OBJECT_OPERATOR","->",65],["T_STRING","save",65],"(",")",";",["T_WHITESPACE","\n\n    ",65],["T_COMMENT","\/\/ Set settings.\n",67],["T_WHITESPACE","    ",68],["T_VARIABLE","$edit",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_ARRAY","array",68],"(",")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$edit",69],"[",["T_CONSTANT_ENCAPSED_STRING","'contact_default_status'",69],"]",["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","TRUE",69],";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","drupalPostForm",70],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/people\/accounts'",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$edit",70],",",["T_WHITESPACE"," ",70],["T_STRING","t",70],"(",["T_CONSTANT_ENCAPSED_STRING","'Save configuration'",70],")",")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertText",71],"(",["T_STRING","t",71],"(",["T_CONSTANT_ENCAPSED_STRING","'The configuration options have been saved.'",71],")",")",";",["T_WHITESPACE","\n\n    ",71],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","drupalGet",73],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/contact'",73],")",";",["T_WHITESPACE","\n    ",73],["T_COMMENT","\/\/ Default form exists.\n",74],["T_WHITESPACE","    ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertLinkByHref",75],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/contact\/manage\/feedback\/delete'",75],")",";",["T_WHITESPACE","\n    ",75],["T_COMMENT","\/\/ User form could not be changed or deleted.\n",76],["T_WHITESPACE","    ",77],["T_COMMENT","\/\/ Cannot use ::assertNoLinkByHref as it does partial url matching and with\n",77],["T_WHITESPACE","    ",78],["T_COMMENT","\/\/ field_ui enabled admin\/structure\/contact\/manage\/personal\/fields exists.\n",78],["T_WHITESPACE","    ",79],["T_COMMENT","\/\/ @todo: See https:\/\/www.drupal.org\/node\/2031223 for the above.\n",79],["T_WHITESPACE","    ",80],["T_VARIABLE","$edit_link",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","xpath",80],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/a[@href=:href]'",80],",",["T_WHITESPACE"," ",80],["T_ARRAY","array",80],"(",["T_WHITESPACE","\n      ",80],["T_CONSTANT_ENCAPSED_STRING","':href'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_NS_SEPARATOR","\\",81],["T_STRING","Drupal",81],["T_DOUBLE_COLON","::",81],["T_STRING","url",81],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.contact_form.edit_form'",81],",",["T_WHITESPACE"," ",81],["T_ARRAY","array",81],"(",["T_CONSTANT_ENCAPSED_STRING","'contact_form'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'personal'",81],")",")",["T_WHITESPACE","\n    ",81],")",")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertTrue",83],"(",["T_EMPTY","empty",83],"(",["T_VARIABLE","$edit_link",83],")",",",["T_WHITESPACE"," ",83],["T_STRING","format_string",83],"(",["T_CONSTANT_ENCAPSED_STRING","'No link containing href %href found.'",83],",",["T_WHITESPACE","\n      ",83],["T_ARRAY","array",84],"(",["T_CONSTANT_ENCAPSED_STRING","'%href'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/contact\/manage\/personal'",84],")",["T_WHITESPACE","\n    ",84],")",")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertNoLinkByHref",86],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/contact\/manage\/personal\/delete'",86],")",";",["T_WHITESPACE","\n\n    ",86],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","drupalGet",88],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/contact\/manage\/personal'",88],")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertResponse",89],"(",["T_LNUMBER","403",89],")",";",["T_WHITESPACE","\n\n    ",89],["T_COMMENT","\/\/ Delete old forms to ensure that new forms are used.\n",91],["T_WHITESPACE","    ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","deleteContactForms",92],"(",")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","drupalGet",93],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/contact'",93],")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertText",94],"(",["T_CONSTANT_ENCAPSED_STRING","'Personal'",94],",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'Personal form was not deleted'",94],")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertNoLinkByHref",95],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/contact\/manage\/feedback'",95],")",";",["T_WHITESPACE","\n\n    ",95],["T_COMMENT","\/\/ Ensure that the contact form won't be shown without forms.\n",97],["T_WHITESPACE","    ",98],["T_STRING","user_role_grant_permissions",98],"(",["T_STRING","RoleInterface",98],["T_DOUBLE_COLON","::",98],["T_STRING","ANONYMOUS_ID",98],",",["T_WHITESPACE"," ",98],["T_ARRAY","array",98],"(",["T_CONSTANT_ENCAPSED_STRING","'access site-wide contact form'",98],")",")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","drupalLogout",99],"(",")",";",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","drupalGet",100],"(",["T_CONSTANT_ENCAPSED_STRING","'contact'",100],")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertResponse",101],"(",["T_LNUMBER","404",101],")",";",["T_WHITESPACE","\n\n    ",101],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","drupalLogin",103],"(",["T_VARIABLE","$admin_user",103],")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","drupalGet",104],"(",["T_CONSTANT_ENCAPSED_STRING","'contact'",104],")",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertResponse",105],"(",["T_LNUMBER","200",105],")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertText",106],"(",["T_STRING","t",106],"(",["T_CONSTANT_ENCAPSED_STRING","'The contact form has not been configured.'",106],")",")",";",["T_WHITESPACE","\n    ",106],["T_COMMENT","\/\/ Test access personal form via site-wide contact page.\n",107],["T_WHITESPACE","    ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","drupalGet",108],"(",["T_CONSTANT_ENCAPSED_STRING","'contact\/personal'",108],")",";",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertResponse",109],"(",["T_LNUMBER","403",109],")",";",["T_WHITESPACE","\n\n    ",109],["T_COMMENT","\/\/ Add forms.\n",111],["T_WHITESPACE","    ",112],["T_COMMENT","\/\/ Test invalid recipients.\n",112],["T_WHITESPACE","    ",113],["T_VARIABLE","$invalid_recipients",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_ARRAY","array",113],"(",["T_CONSTANT_ENCAPSED_STRING","'invalid'",113],",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'invalid@'",113],",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'invalid@site.'",113],",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'@site.'",113],",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'@site.com'",113],")",";",["T_WHITESPACE","\n    ",113],["T_FOREACH","foreach",114],["T_WHITESPACE"," ",114],"(",["T_VARIABLE","$invalid_recipients",114],["T_WHITESPACE"," ",114],["T_AS","as",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$invalid_recipient",114],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n      ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","addContactForm",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","randomMachineName",115],"(",["T_LNUMBER","16",115],")",",",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","randomMachineName",115],"(",["T_LNUMBER","16",115],")",",",["T_WHITESPACE"," ",115],["T_VARIABLE","$invalid_recipient",115],",",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","''",115],",",["T_WHITESPACE"," ",115],["T_STRING","FALSE",115],")",";",["T_WHITESPACE","\n      ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","assertRaw",116],"(",["T_STRING","t",116],"(",["T_CONSTANT_ENCAPSED_STRING","'%recipient is an invalid email address.'",116],",",["T_WHITESPACE"," ",116],["T_ARRAY","array",116],"(",["T_CONSTANT_ENCAPSED_STRING","'%recipient'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$invalid_recipient",116],")",")",")",";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n\n    ",117],["T_COMMENT","\/\/ Test validation of empty form and recipients fields.\n",119],["T_WHITESPACE","    ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","addContactForm",120],"(",["T_CONSTANT_ENCAPSED_STRING","''",120],",",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","''",120],",",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","''",120],",",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","''",120],",",["T_WHITESPACE"," ",120],["T_STRING","TRUE",120],")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","assertText",121],"(",["T_STRING","t",121],"(",["T_CONSTANT_ENCAPSED_STRING","'Label field is required.'",121],")",")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertText",122],"(",["T_STRING","t",122],"(",["T_CONSTANT_ENCAPSED_STRING","'Machine-readable name field is required.'",122],")",")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","assertText",123],"(",["T_STRING","t",123],"(",["T_CONSTANT_ENCAPSED_STRING","'Recipients field is required.'",123],")",")",";",["T_WHITESPACE","\n\n    ",123],["T_COMMENT","\/\/ Test validation of max_length machine name.\n",125],["T_WHITESPACE","    ",126],["T_VARIABLE","$recipients",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_ARRAY","array",126],"(",["T_CONSTANT_ENCAPSED_STRING","'simpletest&@example.com'",126],",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'simpletest2@example.com'",126],",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'simpletest3@example.com'",126],")",";",["T_WHITESPACE","\n    ",126],["T_VARIABLE","$max_length",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_STRING","EntityTypeInterface",127],["T_DOUBLE_COLON","::",127],["T_STRING","BUNDLE_MAX_LENGTH",127],";",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$max_length_exceeded",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$max_length",128],["T_WHITESPACE"," ",128],"+",["T_WHITESPACE"," ",128],["T_LNUMBER","1",128],";",["T_WHITESPACE","\n    ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","addContactForm",129],"(",["T_VARIABLE","$id",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_STRING","Unicode",129],["T_DOUBLE_COLON","::",129],["T_STRING","strtolower",129],"(",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","randomMachineName",129],"(",["T_VARIABLE","$max_length_exceeded",129],")",")",",",["T_WHITESPACE"," ",129],["T_VARIABLE","$label",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","randomMachineName",129],"(",["T_VARIABLE","$max_length_exceeded",129],")",",",["T_WHITESPACE"," ",129],["T_STRING","implode",129],"(",["T_CONSTANT_ENCAPSED_STRING","','",129],",",["T_WHITESPACE"," ",129],["T_ARRAY","array",129],"(",["T_VARIABLE","$recipients",129],"[",["T_LNUMBER","0",129],"]",")",")",",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","''",129],",",["T_WHITESPACE"," ",129],["T_STRING","TRUE",129],")",";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","assertText",130],"(",["T_STRING","format_string",130],"(",["T_CONSTANT_ENCAPSED_STRING","'Machine-readable name cannot be longer than @max characters but is currently @exceeded characters long.'",130],",",["T_WHITESPACE"," ",130],["T_ARRAY","array",130],"(",["T_CONSTANT_ENCAPSED_STRING","'@max'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$max_length",130],",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'@exceeded'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$max_length_exceeded",130],")",")",")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","addContactForm",131],"(",["T_VARIABLE","$id",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_STRING","Unicode",131],["T_DOUBLE_COLON","::",131],["T_STRING","strtolower",131],"(",["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","randomMachineName",131],"(",["T_VARIABLE","$max_length",131],")",")",",",["T_WHITESPACE"," ",131],["T_VARIABLE","$label",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","randomMachineName",131],"(",["T_VARIABLE","$max_length",131],")",",",["T_WHITESPACE"," ",131],["T_STRING","implode",131],"(",["T_CONSTANT_ENCAPSED_STRING","','",131],",",["T_WHITESPACE"," ",131],["T_ARRAY","array",131],"(",["T_VARIABLE","$recipients",131],"[",["T_LNUMBER","0",131],"]",")",")",",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","''",131],",",["T_WHITESPACE"," ",131],["T_STRING","TRUE",131],")",";",["T_WHITESPACE","\n    ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","assertText",132],"(",["T_STRING","t",132],"(",["T_CONSTANT_ENCAPSED_STRING","'Contact form @label has been added.'",132],",",["T_WHITESPACE"," ",132],["T_ARRAY","array",132],"(",["T_CONSTANT_ENCAPSED_STRING","'@label'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$label",132],")",")",")",";",["T_WHITESPACE","\n\n    ",132],["T_COMMENT","\/\/ Verify that the creation message contains a link to a contact form.\n",134],["T_WHITESPACE","    ",135],["T_VARIABLE","$view_link",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","xpath",135],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/div[@class=\"messages\"]\/\/a[contains(@href, :href)]'",135],",",["T_WHITESPACE"," ",135],["T_ARRAY","array",135],"(",["T_CONSTANT_ENCAPSED_STRING","':href'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'contact\/'",135],")",")",";",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","assert",136],"(",["T_ISSET","isset",136],"(",["T_VARIABLE","$view_link",136],")",",",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'The message area contains a link to a contact form.'",136],")",";",["T_WHITESPACE","\n\n    ",136],["T_COMMENT","\/\/ Create first valid form.\n",138],["T_WHITESPACE","    ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","addContactForm",139],"(",["T_VARIABLE","$id",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","Unicode",139],["T_DOUBLE_COLON","::",139],["T_STRING","strtolower",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","randomMachineName",139],"(",["T_LNUMBER","16",139],")",")",",",["T_WHITESPACE"," ",139],["T_VARIABLE","$label",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","randomMachineName",139],"(",["T_LNUMBER","16",139],")",",",["T_WHITESPACE"," ",139],["T_STRING","implode",139],"(",["T_CONSTANT_ENCAPSED_STRING","','",139],",",["T_WHITESPACE"," ",139],["T_ARRAY","array",139],"(",["T_VARIABLE","$recipients",139],"[",["T_LNUMBER","0",139],"]",")",")",",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","''",139],",",["T_WHITESPACE"," ",139],["T_STRING","TRUE",139],")",";",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","assertText",140],"(",["T_STRING","t",140],"(",["T_CONSTANT_ENCAPSED_STRING","'Contact form @label has been added.'",140],",",["T_WHITESPACE"," ",140],["T_ARRAY","array",140],"(",["T_CONSTANT_ENCAPSED_STRING","'@label'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$label",140],")",")",")",";",["T_WHITESPACE","\n\n    ",140],["T_COMMENT","\/\/ Verify that the creation message contains a link to a contact form.\n",142],["T_WHITESPACE","    ",143],["T_VARIABLE","$view_link",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","xpath",143],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/div[@class=\"messages\"]\/\/a[contains(@href, :href)]'",143],",",["T_WHITESPACE"," ",143],["T_ARRAY","array",143],"(",["T_CONSTANT_ENCAPSED_STRING","':href'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'contact\/'",143],")",")",";",["T_WHITESPACE","\n    ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","assert",144],"(",["T_ISSET","isset",144],"(",["T_VARIABLE","$view_link",144],")",",",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'The message area contains a link to a contact form.'",144],")",";",["T_WHITESPACE","\n\n    ",144],["T_COMMENT","\/\/ Check that the form was created in site default language.\n",146],["T_WHITESPACE","    ",147],["T_VARIABLE","$langcode",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","config",147],"(",["T_CONSTANT_ENCAPSED_STRING","'contact.form.'",147],["T_WHITESPACE"," ",147],".",["T_WHITESPACE"," ",147],["T_VARIABLE","$id",147],")",["T_OBJECT_OPERATOR","->",147],["T_STRING","get",147],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",147],")",";",["T_WHITESPACE","\n    ",147],["T_VARIABLE","$default_langcode",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_NS_SEPARATOR","\\",148],["T_STRING","Drupal",148],["T_DOUBLE_COLON","::",148],["T_STRING","languageManager",148],"(",")",["T_OBJECT_OPERATOR","->",148],["T_STRING","getDefaultLanguage",148],"(",")",["T_OBJECT_OPERATOR","->",148],["T_STRING","getId",148],"(",")",";",["T_WHITESPACE","\n    ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","assertEqual",149],"(",["T_VARIABLE","$langcode",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$default_langcode",149],")",";",["T_WHITESPACE","\n\n    ",149],["T_COMMENT","\/\/ Make sure the newly created form is included in the list of forms.\n",151],["T_WHITESPACE","    ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","assertNoUniqueText",152],"(",["T_VARIABLE","$label",152],",",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'New form included in forms list.'",152],")",";",["T_WHITESPACE","\n\n    ",152],["T_COMMENT","\/\/ Ensure that the recipient email is escaped on the listing.\n",154],["T_WHITESPACE","    ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","drupalGet",155],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/contact'",155],")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","assertEscaped",156],"(",["T_VARIABLE","$recipients",156],"[",["T_LNUMBER","0",156],"]",")",";",["T_WHITESPACE","\n\n    ",156],["T_COMMENT","\/\/ Test update contact form.\n",158],["T_WHITESPACE","    ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","updateContactForm",159],"(",["T_VARIABLE","$id",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$label",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","randomMachineName",159],"(",["T_LNUMBER","16",159],")",",",["T_WHITESPACE"," ",159],["T_VARIABLE","$recipients_str",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_STRING","implode",159],"(",["T_CONSTANT_ENCAPSED_STRING","','",159],",",["T_WHITESPACE"," ",159],["T_ARRAY","array",159],"(",["T_VARIABLE","$recipients",159],"[",["T_LNUMBER","0",159],"]",",",["T_WHITESPACE"," ",159],["T_VARIABLE","$recipients",159],"[",["T_LNUMBER","1",159],"]",")",")",",",["T_WHITESPACE"," ",159],["T_VARIABLE","$reply",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","randomMachineName",159],"(",["T_LNUMBER","30",159],")",",",["T_WHITESPACE"," ",159],["T_STRING","FALSE",159],",",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'Your message has been sent.'",159],",",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'\/user'",159],")",";",["T_WHITESPACE","\n    ",159],["T_VARIABLE","$config",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","config",160],"(",["T_CONSTANT_ENCAPSED_STRING","'contact.form.'",160],["T_WHITESPACE"," ",160],".",["T_WHITESPACE"," ",160],["T_VARIABLE","$id",160],")",["T_OBJECT_OPERATOR","->",160],["T_STRING","get",160],"(",")",";",["T_WHITESPACE","\n    ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","assertEqual",161],"(",["T_VARIABLE","$config",161],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",161],"]",",",["T_WHITESPACE"," ",161],["T_VARIABLE","$label",161],")",";",["T_WHITESPACE","\n    ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","assertEqual",162],"(",["T_VARIABLE","$config",162],"[",["T_CONSTANT_ENCAPSED_STRING","'recipients'",162],"]",",",["T_WHITESPACE"," ",162],["T_ARRAY","array",162],"(",["T_VARIABLE","$recipients",162],"[",["T_LNUMBER","0",162],"]",",",["T_WHITESPACE"," ",162],["T_VARIABLE","$recipients",162],"[",["T_LNUMBER","1",162],"]",")",")",";",["T_WHITESPACE","\n    ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","assertEqual",163],"(",["T_VARIABLE","$config",163],"[",["T_CONSTANT_ENCAPSED_STRING","'reply'",163],"]",",",["T_WHITESPACE"," ",163],["T_VARIABLE","$reply",163],")",";",["T_WHITESPACE","\n    ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","assertNotEqual",164],"(",["T_VARIABLE","$id",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","config",164],"(",["T_CONSTANT_ENCAPSED_STRING","'contact.settings'",164],")",["T_OBJECT_OPERATOR","->",164],["T_STRING","get",164],"(",["T_CONSTANT_ENCAPSED_STRING","'default_form'",164],")",")",";",["T_WHITESPACE","\n    ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","assertText",165],"(",["T_STRING","t",165],"(",["T_CONSTANT_ENCAPSED_STRING","'Contact form @label has been updated.'",165],",",["T_WHITESPACE"," ",165],["T_ARRAY","array",165],"(",["T_CONSTANT_ENCAPSED_STRING","'@label'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$label",165],")",")",")",";",["T_WHITESPACE","\n    ",165],["T_COMMENT","\/\/ Ensure the label is displayed on the contact page for this form.\n",166],["T_WHITESPACE","    ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","drupalGet",167],"(",["T_CONSTANT_ENCAPSED_STRING","'contact\/'",167],["T_WHITESPACE"," ",167],".",["T_WHITESPACE"," ",167],["T_VARIABLE","$id",167],")",";",["T_WHITESPACE","\n    ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","assertText",168],"(",["T_VARIABLE","$label",168],")",";",["T_WHITESPACE","\n\n    ",168],["T_COMMENT","\/\/ Reset the form back to be the default form.\n",170],["T_WHITESPACE","    ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","config",171],"(",["T_CONSTANT_ENCAPSED_STRING","'contact.settings'",171],")",["T_OBJECT_OPERATOR","->",171],["T_STRING","set",171],"(",["T_CONSTANT_ENCAPSED_STRING","'default_form'",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$id",171],")",["T_OBJECT_OPERATOR","->",171],["T_STRING","save",171],"(",")",";",["T_WHITESPACE","\n\n    ",171],["T_COMMENT","\/\/ Ensure that the contact form is shown without a form selection input.\n",173],["T_WHITESPACE","    ",174],["T_STRING","user_role_grant_permissions",174],"(",["T_STRING","RoleInterface",174],["T_DOUBLE_COLON","::",174],["T_STRING","ANONYMOUS_ID",174],",",["T_WHITESPACE"," ",174],["T_ARRAY","array",174],"(",["T_CONSTANT_ENCAPSED_STRING","'access site-wide contact form'",174],")",")",";",["T_WHITESPACE","\n    ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","drupalLogout",175],"(",")",";",["T_WHITESPACE","\n    ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","drupalGet",176],"(",["T_CONSTANT_ENCAPSED_STRING","'contact'",176],")",";",["T_WHITESPACE","\n    ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","assertText",177],"(",["T_STRING","t",177],"(",["T_CONSTANT_ENCAPSED_STRING","'Your email address'",177],")",")",";",["T_WHITESPACE","\n    ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","assertNoText",178],"(",["T_STRING","t",178],"(",["T_CONSTANT_ENCAPSED_STRING","'Form'",178],")",")",";",["T_WHITESPACE","\n    ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","drupalLogin",179],"(",["T_VARIABLE","$admin_user",179],")",";",["T_WHITESPACE","\n\n    ",179],["T_COMMENT","\/\/ Add more forms.\n",181],["T_WHITESPACE","    ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","addContactForm",182],"(",["T_STRING","Unicode",182],["T_DOUBLE_COLON","::",182],["T_STRING","strtolower",182],"(",["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","randomMachineName",182],"(",["T_LNUMBER","16",182],")",")",",",["T_WHITESPACE"," ",182],["T_VARIABLE","$label",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","randomMachineName",182],"(",["T_LNUMBER","16",182],")",",",["T_WHITESPACE"," ",182],["T_STRING","implode",182],"(",["T_CONSTANT_ENCAPSED_STRING","','",182],",",["T_WHITESPACE"," ",182],["T_ARRAY","array",182],"(",["T_VARIABLE","$recipients",182],"[",["T_LNUMBER","0",182],"]",",",["T_WHITESPACE"," ",182],["T_VARIABLE","$recipients",182],"[",["T_LNUMBER","1",182],"]",")",")",",",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","''",182],",",["T_WHITESPACE"," ",182],["T_STRING","FALSE",182],")",";",["T_WHITESPACE","\n    ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","assertText",183],"(",["T_STRING","t",183],"(",["T_CONSTANT_ENCAPSED_STRING","'Contact form @label has been added.'",183],",",["T_WHITESPACE"," ",183],["T_ARRAY","array",183],"(",["T_CONSTANT_ENCAPSED_STRING","'@label'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$label",183],")",")",")",";",["T_WHITESPACE","\n\n    ",183],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","addContactForm",185],"(",["T_VARIABLE","$name",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_STRING","Unicode",185],["T_DOUBLE_COLON","::",185],["T_STRING","strtolower",185],"(",["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","randomMachineName",185],"(",["T_LNUMBER","16",185],")",")",",",["T_WHITESPACE"," ",185],["T_VARIABLE","$label",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","randomMachineName",185],"(",["T_LNUMBER","16",185],")",",",["T_WHITESPACE"," ",185],["T_STRING","implode",185],"(",["T_CONSTANT_ENCAPSED_STRING","','",185],",",["T_WHITESPACE"," ",185],["T_ARRAY","array",185],"(",["T_VARIABLE","$recipients",185],"[",["T_LNUMBER","0",185],"]",",",["T_WHITESPACE"," ",185],["T_VARIABLE","$recipients",185],"[",["T_LNUMBER","1",185],"]",",",["T_WHITESPACE"," ",185],["T_VARIABLE","$recipients",185],"[",["T_LNUMBER","2",185],"]",")",")",",",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","''",185],",",["T_WHITESPACE"," ",185],["T_STRING","FALSE",185],")",";",["T_WHITESPACE","\n    ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","assertText",186],"(",["T_STRING","t",186],"(",["T_CONSTANT_ENCAPSED_STRING","'Contact form @label has been added.'",186],",",["T_WHITESPACE"," ",186],["T_ARRAY","array",186],"(",["T_CONSTANT_ENCAPSED_STRING","'@label'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$label",186],")",")",")",";",["T_WHITESPACE","\n\n    ",186],["T_COMMENT","\/\/ Try adding a form that already exists.\n",188],["T_WHITESPACE","    ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","addContactForm",189],"(",["T_VARIABLE","$name",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$label",189],",",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","''",189],",",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","''",189],",",["T_WHITESPACE"," ",189],["T_STRING","FALSE",189],")",";",["T_WHITESPACE","\n    ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","assertNoText",190],"(",["T_STRING","t",190],"(",["T_CONSTANT_ENCAPSED_STRING","'Contact form @label has been added.'",190],",",["T_WHITESPACE"," ",190],["T_ARRAY","array",190],"(",["T_CONSTANT_ENCAPSED_STRING","'@label'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$label",190],")",")",")",";",["T_WHITESPACE","\n    ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","assertRaw",191],"(",["T_STRING","t",191],"(",["T_CONSTANT_ENCAPSED_STRING","'The machine-readable name is already in use. It must be unique.'",191],")",")",";",["T_WHITESPACE","\n\n    ",191],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","drupalLogout",193],"(",")",";",["T_WHITESPACE","\n\n    ",193],["T_COMMENT","\/\/ Check to see that anonymous user cannot see contact page without permission.\n",195],["T_WHITESPACE","    ",196],["T_STRING","user_role_revoke_permissions",196],"(",["T_STRING","RoleInterface",196],["T_DOUBLE_COLON","::",196],["T_STRING","ANONYMOUS_ID",196],",",["T_WHITESPACE"," ",196],["T_ARRAY","array",196],"(",["T_CONSTANT_ENCAPSED_STRING","'access site-wide contact form'",196],")",")",";",["T_WHITESPACE","\n    ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","drupalGet",197],"(",["T_CONSTANT_ENCAPSED_STRING","'contact'",197],")",";",["T_WHITESPACE","\n    ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","assertResponse",198],"(",["T_LNUMBER","403",198],")",";",["T_WHITESPACE","\n\n    ",198],["T_COMMENT","\/\/ Give anonymous user permission and see that page is viewable.\n",200],["T_WHITESPACE","    ",201],["T_STRING","user_role_grant_permissions",201],"(",["T_STRING","RoleInterface",201],["T_DOUBLE_COLON","::",201],["T_STRING","ANONYMOUS_ID",201],",",["T_WHITESPACE"," ",201],["T_ARRAY","array",201],"(",["T_CONSTANT_ENCAPSED_STRING","'access site-wide contact form'",201],")",")",";",["T_WHITESPACE","\n    ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","drupalGet",202],"(",["T_CONSTANT_ENCAPSED_STRING","'contact'",202],")",";",["T_WHITESPACE","\n    ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","assertResponse",203],"(",["T_LNUMBER","200",203],")",";",["T_WHITESPACE","\n\n    ",203],["T_COMMENT","\/\/ Submit contact form with invalid values.\n",205],["T_WHITESPACE","    ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","submitContact",206],"(",["T_CONSTANT_ENCAPSED_STRING","''",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$recipients",206],"[",["T_LNUMBER","0",206],"]",",",["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","randomMachineName",206],"(",["T_LNUMBER","16",206],")",",",["T_WHITESPACE"," ",206],["T_VARIABLE","$id",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","randomMachineName",206],"(",["T_LNUMBER","64",206],")",")",";",["T_WHITESPACE","\n    ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","assertText",207],"(",["T_STRING","t",207],"(",["T_CONSTANT_ENCAPSED_STRING","'Your name field is required.'",207],")",")",";",["T_WHITESPACE","\n\n    ",207],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","submitContact",209],"(",["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","randomMachineName",209],"(",["T_LNUMBER","16",209],")",",",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","''",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","randomMachineName",209],"(",["T_LNUMBER","16",209],")",",",["T_WHITESPACE"," ",209],["T_VARIABLE","$id",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","randomMachineName",209],"(",["T_LNUMBER","64",209],")",")",";",["T_WHITESPACE","\n    ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","assertText",210],"(",["T_STRING","t",210],"(",["T_CONSTANT_ENCAPSED_STRING","'Your email address field is required.'",210],")",")",";",["T_WHITESPACE","\n\n    ",210],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","submitContact",212],"(",["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","randomMachineName",212],"(",["T_LNUMBER","16",212],")",",",["T_WHITESPACE"," ",212],["T_VARIABLE","$invalid_recipients",212],"[",["T_LNUMBER","0",212],"]",",",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","randomMachineName",212],"(",["T_LNUMBER","16",212],")",",",["T_WHITESPACE"," ",212],["T_VARIABLE","$id",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","randomMachineName",212],"(",["T_LNUMBER","64",212],")",")",";",["T_WHITESPACE","\n    ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","assertRaw",213],"(",["T_STRING","t",213],"(",["T_CONSTANT_ENCAPSED_STRING","'The email address %mail is not valid.'",213],",",["T_WHITESPACE"," ",213],["T_ARRAY","array",213],"(",["T_CONSTANT_ENCAPSED_STRING","'%mail'",213],["T_WHITESPACE"," ",213],["T_DOUBLE_ARROW","=>",213],["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'invalid'",213],")",")",")",";",["T_WHITESPACE","\n\n    ",213],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","submitContact",215],"(",["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","randomMachineName",215],"(",["T_LNUMBER","16",215],")",",",["T_WHITESPACE"," ",215],["T_VARIABLE","$recipients",215],"[",["T_LNUMBER","0",215],"]",",",["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","''",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$id",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","randomMachineName",215],"(",["T_LNUMBER","64",215],")",")",";",["T_WHITESPACE","\n    ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","assertText",216],"(",["T_STRING","t",216],"(",["T_CONSTANT_ENCAPSED_STRING","'Subject field is required.'",216],")",")",";",["T_WHITESPACE","\n\n    ",216],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","submitContact",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","randomMachineName",218],"(",["T_LNUMBER","16",218],")",",",["T_WHITESPACE"," ",218],["T_VARIABLE","$recipients",218],"[",["T_LNUMBER","0",218],"]",",",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","randomMachineName",218],"(",["T_LNUMBER","16",218],")",",",["T_WHITESPACE"," ",218],["T_VARIABLE","$id",218],",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","''",218],")",";",["T_WHITESPACE","\n    ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","assertText",219],"(",["T_STRING","t",219],"(",["T_CONSTANT_ENCAPSED_STRING","'Message field is required.'",219],")",")",";",["T_WHITESPACE","\n\n    ",219],["T_COMMENT","\/\/ Test contact form with no default form selected.\n",221],["T_WHITESPACE","    ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","config",222],"(",["T_CONSTANT_ENCAPSED_STRING","'contact.settings'",222],")",["T_WHITESPACE","\n      ",222],["T_OBJECT_OPERATOR","->",223],["T_STRING","set",223],"(",["T_CONSTANT_ENCAPSED_STRING","'default_form'",223],",",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","''",223],")",["T_WHITESPACE","\n      ",223],["T_OBJECT_OPERATOR","->",224],["T_STRING","save",224],"(",")",";",["T_WHITESPACE","\n    ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","drupalGet",225],"(",["T_CONSTANT_ENCAPSED_STRING","'contact'",225],")",";",["T_WHITESPACE","\n    ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","assertResponse",226],"(",["T_LNUMBER","404",226],")",";",["T_WHITESPACE","\n\n    ",226],["T_COMMENT","\/\/ Try to access contact form with non-existing form IDs.\n",228],["T_WHITESPACE","    ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","drupalGet",229],"(",["T_CONSTANT_ENCAPSED_STRING","'contact\/0'",229],")",";",["T_WHITESPACE","\n    ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","assertResponse",230],"(",["T_LNUMBER","404",230],")",";",["T_WHITESPACE","\n    ",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","drupalGet",231],"(",["T_CONSTANT_ENCAPSED_STRING","'contact\/'",231],["T_WHITESPACE"," ",231],".",["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","randomMachineName",231],"(",")",")",";",["T_WHITESPACE","\n    ",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","assertResponse",232],"(",["T_LNUMBER","404",232],")",";",["T_WHITESPACE","\n\n    ",232],["T_COMMENT","\/\/ Submit contact form with correct values and check flood interval.\n",234],["T_WHITESPACE","    ",235],["T_FOR","for",235],["T_WHITESPACE"," ",235],"(",["T_VARIABLE","$i",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_LNUMBER","0",235],";",["T_WHITESPACE"," ",235],["T_VARIABLE","$i",235],["T_WHITESPACE"," ",235],"<",["T_WHITESPACE"," ",235],["T_VARIABLE","$flood_limit",235],";",["T_WHITESPACE"," ",235],["T_VARIABLE","$i",235],["T_INC","++",235],")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n      ",235],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","submitContact",236],"(",["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","randomMachineName",236],"(",["T_LNUMBER","16",236],")",",",["T_WHITESPACE"," ",236],["T_VARIABLE","$recipients",236],"[",["T_LNUMBER","0",236],"]",",",["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","randomMachineName",236],"(",["T_LNUMBER","16",236],")",",",["T_WHITESPACE"," ",236],["T_VARIABLE","$id",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","randomMachineName",236],"(",["T_LNUMBER","64",236],")",")",";",["T_WHITESPACE","\n      ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","assertText",237],"(",["T_STRING","t",237],"(",["T_CONSTANT_ENCAPSED_STRING","'Your message has been sent.'",237],")",")",";",["T_WHITESPACE","\n    ",237],"}",["T_WHITESPACE","\n    ",238],["T_COMMENT","\/\/ Submit contact form one over limit.\n",239],["T_WHITESPACE","    ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","submitContact",240],"(",["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","randomMachineName",240],"(",["T_LNUMBER","16",240],")",",",["T_WHITESPACE"," ",240],["T_VARIABLE","$recipients",240],"[",["T_LNUMBER","0",240],"]",",",["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","randomMachineName",240],"(",["T_LNUMBER","16",240],")",",",["T_WHITESPACE"," ",240],["T_VARIABLE","$id",240],",",["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","randomMachineName",240],"(",["T_LNUMBER","64",240],")",")",";",["T_WHITESPACE","\n    ",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","assertRaw",241],"(",["T_STRING","t",241],"(",["T_CONSTANT_ENCAPSED_STRING","'You cannot send more than %number messages in 10 min. Try again later.'",241],",",["T_WHITESPACE"," ",241],["T_ARRAY","array",241],"(",["T_CONSTANT_ENCAPSED_STRING","'%number'",241],["T_WHITESPACE"," ",241],["T_DOUBLE_ARROW","=>",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","config",241],"(",["T_CONSTANT_ENCAPSED_STRING","'contact.settings'",241],")",["T_OBJECT_OPERATOR","->",241],["T_STRING","get",241],"(",["T_CONSTANT_ENCAPSED_STRING","'flood.limit'",241],")",")",")",")",";",["T_WHITESPACE","\n\n    ",241],["T_COMMENT","\/\/ Test listing controller.\n",243],["T_WHITESPACE","    ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","drupalLogin",244],"(",["T_VARIABLE","$admin_user",244],")",";",["T_WHITESPACE","\n\n    ",244],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","deleteContactForms",246],"(",")",";",["T_WHITESPACE","\n\n    ",246],["T_VARIABLE","$label",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","randomMachineName",248],"(",["T_LNUMBER","16",248],")",";",["T_WHITESPACE","\n    ",248],["T_VARIABLE","$recipients",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_STRING","implode",249],"(",["T_CONSTANT_ENCAPSED_STRING","','",249],",",["T_WHITESPACE"," ",249],["T_ARRAY","array",249],"(",["T_VARIABLE","$recipients",249],"[",["T_LNUMBER","0",249],"]",",",["T_WHITESPACE"," ",249],["T_VARIABLE","$recipients",249],"[",["T_LNUMBER","1",249],"]",",",["T_WHITESPACE"," ",249],["T_VARIABLE","$recipients",249],"[",["T_LNUMBER","2",249],"]",")",")",";",["T_WHITESPACE","\n    ",249],["T_VARIABLE","$contact_form",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_STRING","Unicode",250],["T_DOUBLE_COLON","::",250],["T_STRING","strtolower",250],"(",["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","randomMachineName",250],"(",["T_LNUMBER","16",250],")",")",";",["T_WHITESPACE","\n    ",250],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","addContactForm",251],"(",["T_VARIABLE","$contact_form",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$label",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$recipients",251],",",["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","''",251],",",["T_WHITESPACE"," ",251],["T_STRING","FALSE",251],")",";",["T_WHITESPACE","\n    ",251],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","drupalGet",252],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/contact'",252],")",";",["T_WHITESPACE","\n    ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","clickLink",253],"(",["T_STRING","t",253],"(",["T_CONSTANT_ENCAPSED_STRING","'Edit'",253],")",")",";",["T_WHITESPACE","\n    ",253],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","assertResponse",254],"(",["T_LNUMBER","200",254],")",";",["T_WHITESPACE","\n    ",254],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","assertFieldByName",255],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$label",255],")",";",["T_WHITESPACE","\n\n    ",255],["T_COMMENT","\/\/ Test field UI and field integration.\n",257],["T_WHITESPACE","    ",258],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","drupalGet",258],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/contact'",258],")",";",["T_WHITESPACE","\n\n    ",258],["T_VARIABLE","$view_link",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","xpath",260],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/table\/tbody\/tr\/td\/a[contains(@href, :href) and text()=:text]'",260],",",["T_WHITESPACE"," ",260],"[",["T_WHITESPACE","\n      ",260],["T_CONSTANT_ENCAPSED_STRING","':href'",261],["T_WHITESPACE"," ",261],["T_DOUBLE_ARROW","=>",261],["T_WHITESPACE"," ",261],["T_NS_SEPARATOR","\\",261],["T_STRING","Drupal",261],["T_DOUBLE_COLON","::",261],["T_STRING","url",261],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.contact_form.canonical'",261],",",["T_WHITESPACE"," ",261],"[",["T_CONSTANT_ENCAPSED_STRING","'contact_form'",261],["T_WHITESPACE"," ",261],["T_DOUBLE_ARROW","=>",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$contact_form",261],"]",")",",",["T_WHITESPACE","\n      ",261],["T_CONSTANT_ENCAPSED_STRING","':text'",262],["T_WHITESPACE"," ",262],["T_DOUBLE_ARROW","=>",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$label",262],",",["T_WHITESPACE","\n      ",262],"]",["T_WHITESPACE","\n    ",263],")",";",["T_WHITESPACE","\n    ",264],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","assertTrue",265],"(","!",["T_EMPTY","empty",265],"(",["T_VARIABLE","$view_link",265],")",",",["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","'Contact listing links to contact form.'",265],")",";",["T_WHITESPACE","\n\n    ",265],["T_COMMENT","\/\/ Find out in which row the form we want to add a field to is.\n",267],["T_WHITESPACE","    ",268],["T_VARIABLE","$i",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_LNUMBER","0",268],";",["T_WHITESPACE","\n    ",268],["T_FOREACH","foreach",269],["T_WHITESPACE"," ",269],"(",["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","xpath",269],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/table\/tbody\/tr'",269],")",["T_WHITESPACE"," ",269],["T_AS","as",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$row",269],")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n      ",269],["T_IF","if",270],["T_WHITESPACE"," ",270],"(","(",["T_STRING_CAST","(string)",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$row",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","td",270],"[",["T_LNUMBER","0",270],"]",["T_OBJECT_OPERATOR","->",270],["T_STRING","a",270],")",["T_WHITESPACE"," ",270],["T_IS_EQUAL","==",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$label",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n        ",270],["T_BREAK","break",271],";",["T_WHITESPACE","\n      ",271],"}",["T_WHITESPACE","\n      ",272],["T_VARIABLE","$i",273],["T_INC","++",273],";",["T_WHITESPACE","\n    ",273],"}",["T_WHITESPACE","\n\n    ",274],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","clickLink",276],"(",["T_STRING","t",276],"(",["T_CONSTANT_ENCAPSED_STRING","'Manage fields'",276],")",",",["T_WHITESPACE"," ",276],["T_VARIABLE","$i",276],")",";",["T_WHITESPACE","\n    ",276],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","assertResponse",277],"(",["T_LNUMBER","200",277],")",";",["T_WHITESPACE","\n    ",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","clickLink",278],"(",["T_STRING","t",278],"(",["T_CONSTANT_ENCAPSED_STRING","'Add field'",278],")",")",";",["T_WHITESPACE","\n    ",278],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","assertResponse",279],"(",["T_LNUMBER","200",279],")",";",["T_WHITESPACE","\n\n    ",279],["T_COMMENT","\/\/ Create a simple textfield.\n",281],["T_WHITESPACE","    ",282],["T_VARIABLE","$field_name",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_STRING","Unicode",282],["T_DOUBLE_COLON","::",282],["T_STRING","strtolower",282],"(",["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","randomMachineName",282],"(",")",")",";",["T_WHITESPACE","\n    ",282],["T_VARIABLE","$field_label",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","randomMachineName",283],"(",")",";",["T_WHITESPACE","\n    ",283],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","fieldUIAddNewField",284],"(",["T_STRING","NULL",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$field_name",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$field_label",284],",",["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'text'",284],")",";",["T_WHITESPACE","\n    ",284],["T_VARIABLE","$field_name",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","'field_'",285],["T_WHITESPACE"," ",285],".",["T_WHITESPACE"," ",285],["T_VARIABLE","$field_name",285],";",["T_WHITESPACE","\n\n    ",285],["T_COMMENT","\/\/ Check preview field can be ordered.\n",287],["T_WHITESPACE","    ",288],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","drupalGet",288],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/contact\/manage\/'",288],["T_WHITESPACE"," ",288],".",["T_WHITESPACE"," ",288],["T_VARIABLE","$contact_form",288],["T_WHITESPACE"," ",288],".",["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","'\/form-display'",288],")",";",["T_WHITESPACE","\n    ",288],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","assertText",289],"(",["T_STRING","t",289],"(",["T_CONSTANT_ENCAPSED_STRING","'Preview'",289],")",")",";",["T_WHITESPACE","\n\n    ",289],["T_COMMENT","\/\/ Check that the field is displayed.\n",291],["T_WHITESPACE","    ",292],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","drupalGet",292],"(",["T_CONSTANT_ENCAPSED_STRING","'contact\/'",292],["T_WHITESPACE"," ",292],".",["T_WHITESPACE"," ",292],["T_VARIABLE","$contact_form",292],")",";",["T_WHITESPACE","\n    ",292],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","assertText",293],"(",["T_VARIABLE","$field_label",293],")",";",["T_WHITESPACE","\n\n    ",293],["T_COMMENT","\/\/ Submit the contact form and verify the content.\n",295],["T_WHITESPACE","    ",296],["T_VARIABLE","$edit",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_ARRAY","array",296],"(",["T_WHITESPACE","\n      ",296],["T_CONSTANT_ENCAPSED_STRING","'subject[0][value]'",297],["T_WHITESPACE"," ",297],["T_DOUBLE_ARROW","=>",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","randomMachineName",297],"(",")",",",["T_WHITESPACE","\n      ",297],["T_CONSTANT_ENCAPSED_STRING","'message[0][value]'",298],["T_WHITESPACE"," ",298],["T_DOUBLE_ARROW","=>",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","randomMachineName",298],"(",")",",",["T_WHITESPACE","\n      ",298],["T_VARIABLE","$field_name",299],["T_WHITESPACE"," ",299],".",["T_WHITESPACE"," ",299],["T_CONSTANT_ENCAPSED_STRING","'[0][value]'",299],["T_WHITESPACE"," ",299],["T_DOUBLE_ARROW","=>",299],["T_WHITESPACE"," ",299],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","randomMachineName",299],"(",")",",",["T_WHITESPACE","\n    ",299],")",";",["T_WHITESPACE","\n    ",300],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","drupalPostForm",301],"(",["T_STRING","NULL",301],",",["T_WHITESPACE"," ",301],["T_VARIABLE","$edit",301],",",["T_WHITESPACE"," ",301],["T_STRING","t",301],"(",["T_CONSTANT_ENCAPSED_STRING","'Send message'",301],")",")",";",["T_WHITESPACE","\n    ",301],["T_VARIABLE","$mails",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","drupalGetMails",302],"(",")",";",["T_WHITESPACE","\n    ",302],["T_VARIABLE","$mail",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_STRING","array_pop",303],"(",["T_VARIABLE","$mails",303],")",";",["T_WHITESPACE","\n    ",303],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","assertEqual",304],"(",["T_VARIABLE","$mail",304],"[",["T_CONSTANT_ENCAPSED_STRING","'subject'",304],"]",",",["T_WHITESPACE"," ",304],["T_STRING","t",304],"(",["T_CONSTANT_ENCAPSED_STRING","'[@label] @subject'",304],",",["T_WHITESPACE"," ",304],["T_ARRAY","array",304],"(",["T_CONSTANT_ENCAPSED_STRING","'@label'",304],["T_WHITESPACE"," ",304],["T_DOUBLE_ARROW","=>",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$label",304],",",["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","'@subject'",304],["T_WHITESPACE"," ",304],["T_DOUBLE_ARROW","=>",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$edit",304],"[",["T_CONSTANT_ENCAPSED_STRING","'subject[0][value]'",304],"]",")",")",")",";",["T_WHITESPACE","\n    ",304],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","assertTrue",305],"(",["T_STRING","strpos",305],"(",["T_VARIABLE","$mail",305],"[",["T_CONSTANT_ENCAPSED_STRING","'body'",305],"]",",",["T_WHITESPACE"," ",305],["T_VARIABLE","$field_label",305],")",")",";",["T_WHITESPACE","\n    ",305],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","assertTrue",306],"(",["T_STRING","strpos",306],"(",["T_VARIABLE","$mail",306],"[",["T_CONSTANT_ENCAPSED_STRING","'body'",306],"]",",",["T_WHITESPACE"," ",306],["T_VARIABLE","$edit",306],"[",["T_VARIABLE","$field_name",306],["T_WHITESPACE"," ",306],".",["T_WHITESPACE"," ",306],["T_CONSTANT_ENCAPSED_STRING","'[0][value]'",306],"]",")",")",";",["T_WHITESPACE","\n\n    ",306],["T_COMMENT","\/\/ Test messages and redirect.\n",308],["T_WHITESPACE","    ",309],["T_DOC_COMMENT","\/** @var \\Drupal\\contact\\ContactFormInterface $form *\/",309],["T_WHITESPACE","\n    ",309],["T_VARIABLE","$form",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_STRING","ContactForm",310],["T_DOUBLE_COLON","::",310],["T_STRING","load",310],"(",["T_VARIABLE","$contact_form",310],")",";",["T_WHITESPACE","\n    ",310],["T_VARIABLE","$form",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","setMessage",311],"(",["T_CONSTANT_ENCAPSED_STRING","'Thanks for your submission.'",311],")",";",["T_WHITESPACE","\n    ",311],["T_VARIABLE","$form",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","setRedirectPath",312],"(",["T_CONSTANT_ENCAPSED_STRING","'\/user\/'",312],["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_VARIABLE","$admin_user",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","id",312],"(",")",")",";",["T_WHITESPACE","\n    ",312],["T_VARIABLE","$form",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","save",313],"(",")",";",["T_WHITESPACE","\n    ",313],["T_COMMENT","\/\/ Check that the field is displayed.\n",314],["T_WHITESPACE","    ",315],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","drupalGet",315],"(",["T_CONSTANT_ENCAPSED_STRING","'contact\/'",315],["T_WHITESPACE"," ",315],".",["T_WHITESPACE"," ",315],["T_VARIABLE","$contact_form",315],")",";",["T_WHITESPACE","\n\n    ",315],["T_COMMENT","\/\/ Submit the contact form and verify the content.\n",317],["T_WHITESPACE","    ",318],["T_VARIABLE","$edit",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_ARRAY","array",318],"(",["T_WHITESPACE","\n      ",318],["T_CONSTANT_ENCAPSED_STRING","'subject[0][value]'",319],["T_WHITESPACE"," ",319],["T_DOUBLE_ARROW","=>",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","randomMachineName",319],"(",")",",",["T_WHITESPACE","\n      ",319],["T_CONSTANT_ENCAPSED_STRING","'message[0][value]'",320],["T_WHITESPACE"," ",320],["T_DOUBLE_ARROW","=>",320],["T_WHITESPACE"," ",320],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","randomMachineName",320],"(",")",",",["T_WHITESPACE","\n      ",320],["T_VARIABLE","$field_name",321],["T_WHITESPACE"," ",321],".",["T_WHITESPACE"," ",321],["T_CONSTANT_ENCAPSED_STRING","'[0][value]'",321],["T_WHITESPACE"," ",321],["T_DOUBLE_ARROW","=>",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","randomMachineName",321],"(",")",",",["T_WHITESPACE","\n    ",321],")",";",["T_WHITESPACE","\n    ",322],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","drupalPostForm",323],"(",["T_STRING","NULL",323],",",["T_WHITESPACE"," ",323],["T_VARIABLE","$edit",323],",",["T_WHITESPACE"," ",323],["T_STRING","t",323],"(",["T_CONSTANT_ENCAPSED_STRING","'Send message'",323],")",")",";",["T_WHITESPACE","\n    ",323],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","assertText",324],"(",["T_CONSTANT_ENCAPSED_STRING","'Thanks for your submission.'",324],")",";",["T_WHITESPACE","\n    ",324],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","assertUrl",325],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/'",325],["T_WHITESPACE"," ",325],".",["T_WHITESPACE"," ",325],["T_VARIABLE","$admin_user",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","id",325],"(",")",")",";",["T_WHITESPACE","\n\n    ",325],["T_COMMENT","\/\/ Test Empty message.\n",327],["T_WHITESPACE","    ",328],["T_DOC_COMMENT","\/** @var \\Drupal\\contact\\ContactFormInterface $form *\/",328],["T_WHITESPACE","\n    ",328],["T_VARIABLE","$form",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_STRING","ContactForm",329],["T_DOUBLE_COLON","::",329],["T_STRING","load",329],"(",["T_VARIABLE","$contact_form",329],")",";",["T_WHITESPACE","\n    ",329],["T_VARIABLE","$form",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","setMessage",330],"(",["T_CONSTANT_ENCAPSED_STRING","''",330],")",";",["T_WHITESPACE","\n    ",330],["T_VARIABLE","$form",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","setRedirectPath",331],"(",["T_CONSTANT_ENCAPSED_STRING","'\/user\/'",331],["T_WHITESPACE"," ",331],".",["T_WHITESPACE"," ",331],["T_VARIABLE","$admin_user",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","id",331],"(",")",")",";",["T_WHITESPACE","\n    ",331],["T_VARIABLE","$form",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","save",332],"(",")",";",["T_WHITESPACE","\n    ",332],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","drupalGet",333],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/contact\/manage\/'",333],["T_WHITESPACE"," ",333],".",["T_WHITESPACE"," ",333],["T_VARIABLE","$contact_form",333],")",";",["T_WHITESPACE","\n    ",333],["T_COMMENT","\/\/ Check that the field is displayed.\n",334],["T_WHITESPACE","    ",335],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","drupalGet",335],"(",["T_CONSTANT_ENCAPSED_STRING","'contact\/'",335],["T_WHITESPACE"," ",335],".",["T_WHITESPACE"," ",335],["T_VARIABLE","$contact_form",335],")",";",["T_WHITESPACE","\n\n    ",335],["T_COMMENT","\/\/ Submit the contact form and verify the content.\n",337],["T_WHITESPACE","    ",338],["T_VARIABLE","$edit",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_ARRAY","array",338],"(",["T_WHITESPACE","\n      ",338],["T_CONSTANT_ENCAPSED_STRING","'subject[0][value]'",339],["T_WHITESPACE"," ",339],["T_DOUBLE_ARROW","=>",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","randomMachineName",339],"(",")",",",["T_WHITESPACE","\n      ",339],["T_CONSTANT_ENCAPSED_STRING","'message[0][value]'",340],["T_WHITESPACE"," ",340],["T_DOUBLE_ARROW","=>",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","randomMachineName",340],"(",")",",",["T_WHITESPACE","\n      ",340],["T_VARIABLE","$field_name",341],["T_WHITESPACE"," ",341],".",["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","'[0][value]'",341],["T_WHITESPACE"," ",341],["T_DOUBLE_ARROW","=>",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","randomMachineName",341],"(",")",",",["T_WHITESPACE","\n    ",341],")",";",["T_WHITESPACE","\n    ",342],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","drupalPostForm",343],"(",["T_STRING","NULL",343],",",["T_WHITESPACE"," ",343],["T_VARIABLE","$edit",343],",",["T_WHITESPACE"," ",343],["T_STRING","t",343],"(",["T_CONSTANT_ENCAPSED_STRING","'Send message'",343],")",")",";",["T_WHITESPACE","\n    ",343],["T_VARIABLE","$result",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","xpath",344],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/div[@role=:role]'",344],",",["T_WHITESPACE"," ",344],["T_ARRAY","array",344],"(",["T_CONSTANT_ENCAPSED_STRING","':role'",344],["T_WHITESPACE"," ",344],["T_DOUBLE_ARROW","=>",344],["T_WHITESPACE"," ",344],["T_CONSTANT_ENCAPSED_STRING","'contentinfo'",344],")",")",";",["T_WHITESPACE","\n    ",344],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","assertEqual",345],"(",["T_STRING","count",345],"(",["T_VARIABLE","$result",345],")",",",["T_WHITESPACE"," ",345],["T_LNUMBER","0",345],",",["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","'Messages not found.'",345],")",";",["T_WHITESPACE","\n    ",345],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","assertUrl",346],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/'",346],["T_WHITESPACE"," ",346],".",["T_WHITESPACE"," ",346],["T_VARIABLE","$admin_user",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","id",346],"(",")",")",";",["T_WHITESPACE","\n  ",346],"}",["T_WHITESPACE","\n\n  ",347],["T_DOC_COMMENT","\/**\n   * Tests auto-reply on the site-wide contact form.\n   *\/",349],["T_WHITESPACE","\n  ",351],["T_FUNCTION","function",352],["T_WHITESPACE"," ",352],["T_STRING","testAutoReply",352],"(",")",["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n    ",352],["T_COMMENT","\/\/ Create and log in administrative user.\n",353],["T_WHITESPACE","    ",354],["T_VARIABLE","$admin_user",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","drupalCreateUser",354],"(","[",["T_WHITESPACE","\n      ",354],["T_CONSTANT_ENCAPSED_STRING","'access site-wide contact form'",355],",",["T_WHITESPACE","\n      ",355],["T_CONSTANT_ENCAPSED_STRING","'administer contact forms'",356],",",["T_WHITESPACE","\n      ",356],["T_CONSTANT_ENCAPSED_STRING","'administer permissions'",357],",",["T_WHITESPACE","\n      ",357],["T_CONSTANT_ENCAPSED_STRING","'administer users'",358],",",["T_WHITESPACE","\n      ",358],["T_CONSTANT_ENCAPSED_STRING","'access site reports'",359],["T_WHITESPACE","\n    ",359],"]",")",";",["T_WHITESPACE","\n    ",360],["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","drupalLogin",361],"(",["T_VARIABLE","$admin_user",361],")",";",["T_WHITESPACE","\n\n    ",361],["T_COMMENT","\/\/ Set up three forms, 2 with an auto-reply and one without.\n",363],["T_WHITESPACE","    ",364],["T_VARIABLE","$foo_autoreply",364],["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","randomMachineName",364],"(",["T_LNUMBER","40",364],")",";",["T_WHITESPACE","\n    ",364],["T_VARIABLE","$bar_autoreply",365],["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","randomMachineName",365],"(",["T_LNUMBER","40",365],")",";",["T_WHITESPACE","\n    ",365],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","addContactForm",366],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",366],",",["T_WHITESPACE"," ",366],["T_CONSTANT_ENCAPSED_STRING","'foo'",366],",",["T_WHITESPACE"," ",366],["T_CONSTANT_ENCAPSED_STRING","'foo@example.com'",366],",",["T_WHITESPACE"," ",366],["T_VARIABLE","$foo_autoreply",366],",",["T_WHITESPACE"," ",366],["T_STRING","FALSE",366],")",";",["T_WHITESPACE","\n    ",366],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","addContactForm",367],"(",["T_CONSTANT_ENCAPSED_STRING","'bar'",367],",",["T_WHITESPACE"," ",367],["T_CONSTANT_ENCAPSED_STRING","'bar'",367],",",["T_WHITESPACE"," ",367],["T_CONSTANT_ENCAPSED_STRING","'bar@example.com'",367],",",["T_WHITESPACE"," ",367],["T_VARIABLE","$bar_autoreply",367],",",["T_WHITESPACE"," ",367],["T_STRING","FALSE",367],")",";",["T_WHITESPACE","\n    ",367],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","addContactForm",368],"(",["T_CONSTANT_ENCAPSED_STRING","'no_autoreply'",368],",",["T_WHITESPACE"," ",368],["T_CONSTANT_ENCAPSED_STRING","'no_autoreply'",368],",",["T_WHITESPACE"," ",368],["T_CONSTANT_ENCAPSED_STRING","'bar@example.com'",368],",",["T_WHITESPACE"," ",368],["T_CONSTANT_ENCAPSED_STRING","''",368],",",["T_WHITESPACE"," ",368],["T_STRING","FALSE",368],")",";",["T_WHITESPACE","\n\n    ",368],["T_COMMENT","\/\/ Log the current user out in order to test the name and email fields.\n",370],["T_WHITESPACE","    ",371],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","drupalLogout",371],"(",")",";",["T_WHITESPACE","\n    ",371],["T_STRING","user_role_grant_permissions",372],"(",["T_STRING","RoleInterface",372],["T_DOUBLE_COLON","::",372],["T_STRING","ANONYMOUS_ID",372],",",["T_WHITESPACE"," ",372],["T_ARRAY","array",372],"(",["T_CONSTANT_ENCAPSED_STRING","'access site-wide contact form'",372],")",")",";",["T_WHITESPACE","\n\n    ",372],["T_COMMENT","\/\/ Test the auto-reply for form 'foo'.\n",374],["T_WHITESPACE","    ",375],["T_VARIABLE","$email",375],["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","randomMachineName",375],"(",["T_LNUMBER","32",375],")",["T_WHITESPACE"," ",375],".",["T_WHITESPACE"," ",375],["T_CONSTANT_ENCAPSED_STRING","'@example.com'",375],";",["T_WHITESPACE","\n    ",375],["T_VARIABLE","$subject",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","randomMachineName",376],"(",["T_LNUMBER","64",376],")",";",["T_WHITESPACE","\n    ",376],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","submitContact",377],"(",["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","randomMachineName",377],"(",["T_LNUMBER","16",377],")",",",["T_WHITESPACE"," ",377],["T_VARIABLE","$email",377],",",["T_WHITESPACE"," ",377],["T_VARIABLE","$subject",377],",",["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","'foo'",377],",",["T_WHITESPACE"," ",377],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","randomString",377],"(",["T_LNUMBER","128",377],")",")",";",["T_WHITESPACE","\n\n    ",377],["T_COMMENT","\/\/ We are testing the auto-reply, so there should be one email going to the sender.\n",379],["T_WHITESPACE","    ",380],["T_VARIABLE","$captured_emails",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","drupalGetMails",380],"(",["T_ARRAY","array",380],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",380],["T_WHITESPACE"," ",380],["T_DOUBLE_ARROW","=>",380],["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","'contact_page_autoreply'",380],",",["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","'to'",380],["T_WHITESPACE"," ",380],["T_DOUBLE_ARROW","=>",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$email",380],")",")",";",["T_WHITESPACE","\n    ",380],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","assertEqual",381],"(",["T_STRING","count",381],"(",["T_VARIABLE","$captured_emails",381],")",",",["T_WHITESPACE"," ",381],["T_LNUMBER","1",381],")",";",["T_WHITESPACE","\n    ",381],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","assertEqual",382],"(",["T_STRING","trim",382],"(",["T_VARIABLE","$captured_emails",382],"[",["T_LNUMBER","0",382],"]","[",["T_CONSTANT_ENCAPSED_STRING","'body'",382],"]",")",",",["T_WHITESPACE"," ",382],["T_STRING","trim",382],"(",["T_STRING","MailFormatHelper",382],["T_DOUBLE_COLON","::",382],["T_STRING","htmlToText",382],"(",["T_VARIABLE","$foo_autoreply",382],")",")",")",";",["T_WHITESPACE","\n\n    ",382],["T_COMMENT","\/\/ Test the auto-reply for form 'bar'.\n",384],["T_WHITESPACE","    ",385],["T_VARIABLE","$email",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","randomMachineName",385],"(",["T_LNUMBER","32",385],")",["T_WHITESPACE"," ",385],".",["T_WHITESPACE"," ",385],["T_CONSTANT_ENCAPSED_STRING","'@example.com'",385],";",["T_WHITESPACE","\n    ",385],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","submitContact",386],"(",["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","randomMachineName",386],"(",["T_LNUMBER","16",386],")",",",["T_WHITESPACE"," ",386],["T_VARIABLE","$email",386],",",["T_WHITESPACE"," ",386],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","randomString",386],"(",["T_LNUMBER","64",386],")",",",["T_WHITESPACE"," ",386],["T_CONSTANT_ENCAPSED_STRING","'bar'",386],",",["T_WHITESPACE"," ",386],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","randomString",386],"(",["T_LNUMBER","128",386],")",")",";",["T_WHITESPACE","\n\n    ",386],["T_COMMENT","\/\/ Auto-reply for form 'bar' should result in one auto-reply email to the sender.\n",388],["T_WHITESPACE","    ",389],["T_VARIABLE","$captured_emails",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","drupalGetMails",389],"(",["T_ARRAY","array",389],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",389],["T_WHITESPACE"," ",389],["T_DOUBLE_ARROW","=>",389],["T_WHITESPACE"," ",389],["T_CONSTANT_ENCAPSED_STRING","'contact_page_autoreply'",389],",",["T_WHITESPACE"," ",389],["T_CONSTANT_ENCAPSED_STRING","'to'",389],["T_WHITESPACE"," ",389],["T_DOUBLE_ARROW","=>",389],["T_WHITESPACE"," ",389],["T_VARIABLE","$email",389],")",")",";",["T_WHITESPACE","\n    ",389],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","assertEqual",390],"(",["T_STRING","count",390],"(",["T_VARIABLE","$captured_emails",390],")",",",["T_WHITESPACE"," ",390],["T_LNUMBER","1",390],")",";",["T_WHITESPACE","\n    ",390],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","assertEqual",391],"(",["T_STRING","trim",391],"(",["T_VARIABLE","$captured_emails",391],"[",["T_LNUMBER","0",391],"]","[",["T_CONSTANT_ENCAPSED_STRING","'body'",391],"]",")",",",["T_WHITESPACE"," ",391],["T_STRING","trim",391],"(",["T_STRING","MailFormatHelper",391],["T_DOUBLE_COLON","::",391],["T_STRING","htmlToText",391],"(",["T_VARIABLE","$bar_autoreply",391],")",")",")",";",["T_WHITESPACE","\n\n    ",391],["T_COMMENT","\/\/ Verify that no auto-reply is sent when the auto-reply field is left blank.\n",393],["T_WHITESPACE","    ",394],["T_VARIABLE","$email",394],["T_WHITESPACE"," ",394],"=",["T_WHITESPACE"," ",394],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","randomMachineName",394],"(",["T_LNUMBER","32",394],")",["T_WHITESPACE"," ",394],".",["T_WHITESPACE"," ",394],["T_CONSTANT_ENCAPSED_STRING","'@example.com'",394],";",["T_WHITESPACE","\n    ",394],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","submitContact",395],"(",["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","randomMachineName",395],"(",["T_LNUMBER","16",395],")",",",["T_WHITESPACE"," ",395],["T_VARIABLE","$email",395],",",["T_WHITESPACE"," ",395],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","randomString",395],"(",["T_LNUMBER","64",395],")",",",["T_WHITESPACE"," ",395],["T_CONSTANT_ENCAPSED_STRING","'no_autoreply'",395],",",["T_WHITESPACE"," ",395],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","randomString",395],"(",["T_LNUMBER","128",395],")",")",";",["T_WHITESPACE","\n    ",395],["T_VARIABLE","$captured_emails",396],["T_WHITESPACE"," ",396],"=",["T_WHITESPACE"," ",396],["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","drupalGetMails",396],"(",["T_ARRAY","array",396],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",396],["T_WHITESPACE"," ",396],["T_DOUBLE_ARROW","=>",396],["T_WHITESPACE"," ",396],["T_CONSTANT_ENCAPSED_STRING","'contact_page_autoreply'",396],",",["T_WHITESPACE"," ",396],["T_CONSTANT_ENCAPSED_STRING","'to'",396],["T_WHITESPACE"," ",396],["T_DOUBLE_ARROW","=>",396],["T_WHITESPACE"," ",396],["T_VARIABLE","$email",396],")",")",";",["T_WHITESPACE","\n    ",396],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","assertEqual",397],"(",["T_STRING","count",397],"(",["T_VARIABLE","$captured_emails",397],")",",",["T_WHITESPACE"," ",397],["T_LNUMBER","0",397],")",";",["T_WHITESPACE","\n\n    ",397],["T_COMMENT","\/\/ Verify that the current error message doesn't show, that the auto-reply\n",399],["T_WHITESPACE","    ",400],["T_COMMENT","\/\/ doesn't get sent and the correct silent error gets logged.\n",400],["T_WHITESPACE","    ",401],["T_VARIABLE","$email",401],["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","''",401],";",["T_WHITESPACE","\n    ",401],["T_STRING","entity_get_form_display",402],"(",["T_CONSTANT_ENCAPSED_STRING","'contact_message'",402],",",["T_WHITESPACE"," ",402],["T_CONSTANT_ENCAPSED_STRING","'foo'",402],",",["T_WHITESPACE"," ",402],["T_CONSTANT_ENCAPSED_STRING","'default'",402],")",["T_WHITESPACE","\n      ",402],["T_OBJECT_OPERATOR","->",403],["T_STRING","removeComponent",403],"(",["T_CONSTANT_ENCAPSED_STRING","'mail'",403],")",["T_WHITESPACE","\n      ",403],["T_OBJECT_OPERATOR","->",404],["T_STRING","save",404],"(",")",";",["T_WHITESPACE","\n    ",404],["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","submitContact",405],"(",["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","randomMachineName",405],"(",["T_LNUMBER","16",405],")",",",["T_WHITESPACE"," ",405],["T_VARIABLE","$email",405],",",["T_WHITESPACE"," ",405],["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","randomString",405],"(",["T_LNUMBER","64",405],")",",",["T_WHITESPACE"," ",405],["T_CONSTANT_ENCAPSED_STRING","'foo'",405],",",["T_WHITESPACE"," ",405],["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","randomString",405],"(",["T_LNUMBER","128",405],")",")",";",["T_WHITESPACE","\n    ",405],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","assertNoText",406],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to send email. Contact the site administrator if the problem persists.'",406],")",";",["T_WHITESPACE","\n    ",406],["T_VARIABLE","$captured_emails",407],["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","drupalGetMails",407],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",407],["T_WHITESPACE"," ",407],["T_DOUBLE_ARROW","=>",407],["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","'contact_page_autoreply'",407],",",["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","'to'",407],["T_WHITESPACE"," ",407],["T_DOUBLE_ARROW","=>",407],["T_WHITESPACE"," ",407],["T_VARIABLE","$email",407],"]",")",";",["T_WHITESPACE","\n    ",407],["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","assertEqual",408],"(",["T_STRING","count",408],"(",["T_VARIABLE","$captured_emails",408],")",",",["T_WHITESPACE"," ",408],["T_LNUMBER","0",408],")",";",["T_WHITESPACE","\n    ",408],["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","drupalLogin",409],"(",["T_VARIABLE","$admin_user",409],")",";",["T_WHITESPACE","\n    ",409],["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","drupalGet",410],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/dblog'",410],")",";",["T_WHITESPACE","\n    ",410],["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","assertRaw",411],"(",["T_CONSTANT_ENCAPSED_STRING","'Error sending auto-reply, missing sender e-mail address in foo'",411],")",";",["T_WHITESPACE","\n  ",411],"}",["T_WHITESPACE","\n\n  ",412],["T_DOC_COMMENT","\/**\n   * Adds a form.\n   *\n   * @param string $id\n   *   The form machine name.\n   * @param string $label\n   *   The form label.\n   * @param string $recipients\n   *   The list of recipient email addresses.\n   * @param string $reply\n   *   The auto-reply text that is sent to a user upon completing the contact\n   *   form.\n   * @param bool $selected\n   *   A Boolean indicating whether the form should be selected by default.\n   * @param string $message\n   *   The message that will be displayed to a user upon completing the contact\n   *   form.\n   * @param array $third_party_settings\n   *   Array of third party settings to be added to the posted form data.\n   *\/",414],["T_WHITESPACE","\n  ",433],["T_FUNCTION","function",434],["T_WHITESPACE"," ",434],["T_STRING","addContactForm",434],"(",["T_VARIABLE","$id",434],",",["T_WHITESPACE"," ",434],["T_VARIABLE","$label",434],",",["T_WHITESPACE"," ",434],["T_VARIABLE","$recipients",434],",",["T_WHITESPACE"," ",434],["T_VARIABLE","$reply",434],",",["T_WHITESPACE"," ",434],["T_VARIABLE","$selected",434],",",["T_WHITESPACE"," ",434],["T_VARIABLE","$message",434],["T_WHITESPACE"," ",434],"=",["T_WHITESPACE"," ",434],["T_CONSTANT_ENCAPSED_STRING","'Your message has been sent.'",434],",",["T_WHITESPACE"," ",434],["T_VARIABLE","$third_party_settings",434],["T_WHITESPACE"," ",434],"=",["T_WHITESPACE"," ",434],"[","]",")",["T_WHITESPACE"," ",434],"{",["T_WHITESPACE","\n    ",434],["T_VARIABLE","$edit",435],["T_WHITESPACE"," ",435],"=",["T_WHITESPACE"," ",435],["T_ARRAY","array",435],"(",")",";",["T_WHITESPACE","\n    ",435],["T_VARIABLE","$edit",436],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",436],"]",["T_WHITESPACE"," ",436],"=",["T_WHITESPACE"," ",436],["T_VARIABLE","$label",436],";",["T_WHITESPACE","\n    ",436],["T_VARIABLE","$edit",437],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",437],"]",["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],["T_VARIABLE","$id",437],";",["T_WHITESPACE","\n    ",437],["T_VARIABLE","$edit",438],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",438],"]",["T_WHITESPACE"," ",438],"=",["T_WHITESPACE"," ",438],["T_VARIABLE","$message",438],";",["T_WHITESPACE","\n    ",438],["T_VARIABLE","$edit",439],"[",["T_CONSTANT_ENCAPSED_STRING","'recipients'",439],"]",["T_WHITESPACE"," ",439],"=",["T_WHITESPACE"," ",439],["T_VARIABLE","$recipients",439],";",["T_WHITESPACE","\n    ",439],["T_VARIABLE","$edit",440],"[",["T_CONSTANT_ENCAPSED_STRING","'reply'",440],"]",["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],["T_VARIABLE","$reply",440],";",["T_WHITESPACE","\n    ",440],["T_VARIABLE","$edit",441],"[",["T_CONSTANT_ENCAPSED_STRING","'selected'",441],"]",["T_WHITESPACE"," ",441],"=",["T_WHITESPACE"," ",441],"(",["T_VARIABLE","$selected",441],["T_WHITESPACE"," ",441],"?",["T_WHITESPACE"," ",441],["T_STRING","TRUE",441],["T_WHITESPACE"," ",441],":",["T_WHITESPACE"," ",441],["T_STRING","FALSE",441],")",";",["T_WHITESPACE","\n    ",441],["T_VARIABLE","$edit",442],["T_WHITESPACE"," ",442],["T_PLUS_EQUAL","+=",442],["T_WHITESPACE"," ",442],["T_VARIABLE","$third_party_settings",442],";",["T_WHITESPACE","\n    ",442],["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","drupalPostForm",443],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/contact\/add'",443],",",["T_WHITESPACE"," ",443],["T_VARIABLE","$edit",443],",",["T_WHITESPACE"," ",443],["T_STRING","t",443],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",443],")",")",";",["T_WHITESPACE","\n  ",443],"}",["T_WHITESPACE","\n\n  ",444],["T_DOC_COMMENT","\/**\n   * Updates a form.\n   *\n   * @param string $id\n   *   The form machine name.\n   * @param string $label\n   *   The form label.\n   * @param string $recipients\n   *   The list of recipient email addresses.\n   * @param string $reply\n   *   The auto-reply text that is sent to a user upon completing the contact\n   *   form.\n   * @param bool $selected\n   *   A Boolean indicating whether the form should be selected by default.\n   * @param string $message\n   *   The message that will be displayed to a user upon completing the contact\n   *   form.\n   * @param string $redirect\n   *   The path where user will be redirect after this form has been submitted..\n   *\/",446],["T_WHITESPACE","\n  ",465],["T_FUNCTION","function",466],["T_WHITESPACE"," ",466],["T_STRING","updateContactForm",466],"(",["T_VARIABLE","$id",466],",",["T_WHITESPACE"," ",466],["T_VARIABLE","$label",466],",",["T_WHITESPACE"," ",466],["T_VARIABLE","$recipients",466],",",["T_WHITESPACE"," ",466],["T_VARIABLE","$reply",466],",",["T_WHITESPACE"," ",466],["T_VARIABLE","$selected",466],",",["T_WHITESPACE"," ",466],["T_VARIABLE","$message",466],["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],["T_CONSTANT_ENCAPSED_STRING","'Your message has been sent.'",466],",",["T_WHITESPACE"," ",466],["T_VARIABLE","$redirect",466],["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],["T_CONSTANT_ENCAPSED_STRING","'\/'",466],")",["T_WHITESPACE"," ",466],"{",["T_WHITESPACE","\n    ",466],["T_VARIABLE","$edit",467],["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_ARRAY","array",467],"(",")",";",["T_WHITESPACE","\n    ",467],["T_VARIABLE","$edit",468],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",468],"]",["T_WHITESPACE"," ",468],"=",["T_WHITESPACE"," ",468],["T_VARIABLE","$label",468],";",["T_WHITESPACE","\n    ",468],["T_VARIABLE","$edit",469],"[",["T_CONSTANT_ENCAPSED_STRING","'recipients'",469],"]",["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],["T_VARIABLE","$recipients",469],";",["T_WHITESPACE","\n    ",469],["T_VARIABLE","$edit",470],"[",["T_CONSTANT_ENCAPSED_STRING","'reply'",470],"]",["T_WHITESPACE"," ",470],"=",["T_WHITESPACE"," ",470],["T_VARIABLE","$reply",470],";",["T_WHITESPACE","\n    ",470],["T_VARIABLE","$edit",471],"[",["T_CONSTANT_ENCAPSED_STRING","'selected'",471],"]",["T_WHITESPACE"," ",471],"=",["T_WHITESPACE"," ",471],"(",["T_VARIABLE","$selected",471],["T_WHITESPACE"," ",471],"?",["T_WHITESPACE"," ",471],["T_STRING","TRUE",471],["T_WHITESPACE"," ",471],":",["T_WHITESPACE"," ",471],["T_STRING","FALSE",471],")",";",["T_WHITESPACE","\n    ",471],["T_VARIABLE","$edit",472],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",472],"]",["T_WHITESPACE"," ",472],"=",["T_WHITESPACE"," ",472],["T_VARIABLE","$message",472],";",["T_WHITESPACE","\n    ",472],["T_VARIABLE","$edit",473],"[",["T_CONSTANT_ENCAPSED_STRING","'redirect'",473],"]",["T_WHITESPACE"," ",473],"=",["T_WHITESPACE"," ",473],["T_VARIABLE","$redirect",473],";",["T_WHITESPACE","\n    ",473],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","drupalPostForm",474],"(","\"",["T_ENCAPSED_AND_WHITESPACE","admin\/structure\/contact\/manage\/",474],["T_VARIABLE","$id",474],"\"",",",["T_WHITESPACE"," ",474],["T_VARIABLE","$edit",474],",",["T_WHITESPACE"," ",474],["T_STRING","t",474],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",474],")",")",";",["T_WHITESPACE","\n  ",474],"}",["T_WHITESPACE","\n\n  ",475],["T_DOC_COMMENT","\/**\n   * Submits the contact form.\n   *\n   * @param string $name\n   *   The name of the sender.\n   * @param string $mail\n   *   The email address of the sender.\n   * @param string $subject\n   *   The subject of the message.\n   * @param string $id\n   *   The form ID of the message.\n   * @param string $message\n   *   The message body.\n   *\/",477],["T_WHITESPACE","\n  ",490],["T_FUNCTION","function",491],["T_WHITESPACE"," ",491],["T_STRING","submitContact",491],"(",["T_VARIABLE","$name",491],",",["T_WHITESPACE"," ",491],["T_VARIABLE","$mail",491],",",["T_WHITESPACE"," ",491],["T_VARIABLE","$subject",491],",",["T_WHITESPACE"," ",491],["T_VARIABLE","$id",491],",",["T_WHITESPACE"," ",491],["T_VARIABLE","$message",491],")",["T_WHITESPACE"," ",491],"{",["T_WHITESPACE","\n    ",491],["T_VARIABLE","$edit",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_ARRAY","array",492],"(",")",";",["T_WHITESPACE","\n    ",492],["T_VARIABLE","$edit",493],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",493],"]",["T_WHITESPACE"," ",493],"=",["T_WHITESPACE"," ",493],["T_VARIABLE","$name",493],";",["T_WHITESPACE","\n    ",493],["T_VARIABLE","$edit",494],"[",["T_CONSTANT_ENCAPSED_STRING","'mail'",494],"]",["T_WHITESPACE"," ",494],"=",["T_WHITESPACE"," ",494],["T_VARIABLE","$mail",494],";",["T_WHITESPACE","\n    ",494],["T_VARIABLE","$edit",495],"[",["T_CONSTANT_ENCAPSED_STRING","'subject[0][value]'",495],"]",["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],["T_VARIABLE","$subject",495],";",["T_WHITESPACE","\n    ",495],["T_VARIABLE","$edit",496],"[",["T_CONSTANT_ENCAPSED_STRING","'message[0][value]'",496],"]",["T_WHITESPACE"," ",496],"=",["T_WHITESPACE"," ",496],["T_VARIABLE","$message",496],";",["T_WHITESPACE","\n    ",496],["T_IF","if",497],["T_WHITESPACE"," ",497],"(",["T_VARIABLE","$id",497],["T_WHITESPACE"," ",497],["T_IS_EQUAL","==",497],["T_WHITESPACE"," ",497],["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","config",497],"(",["T_CONSTANT_ENCAPSED_STRING","'contact.settings'",497],")",["T_OBJECT_OPERATOR","->",497],["T_STRING","get",497],"(",["T_CONSTANT_ENCAPSED_STRING","'default_form'",497],")",")",["T_WHITESPACE"," ",497],"{",["T_WHITESPACE","\n      ",497],["T_VARIABLE","$this",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","drupalPostForm",498],"(",["T_CONSTANT_ENCAPSED_STRING","'contact'",498],",",["T_WHITESPACE"," ",498],["T_VARIABLE","$edit",498],",",["T_WHITESPACE"," ",498],["T_STRING","t",498],"(",["T_CONSTANT_ENCAPSED_STRING","'Send message'",498],")",")",";",["T_WHITESPACE","\n    ",498],"}",["T_WHITESPACE","\n    ",499],["T_ELSE","else",500],["T_WHITESPACE"," ",500],"{",["T_WHITESPACE","\n      ",500],["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","drupalPostForm",501],"(",["T_CONSTANT_ENCAPSED_STRING","'contact\/'",501],["T_WHITESPACE"," ",501],".",["T_WHITESPACE"," ",501],["T_VARIABLE","$id",501],",",["T_WHITESPACE"," ",501],["T_VARIABLE","$edit",501],",",["T_WHITESPACE"," ",501],["T_STRING","t",501],"(",["T_CONSTANT_ENCAPSED_STRING","'Send message'",501],")",")",";",["T_WHITESPACE","\n    ",501],"}",["T_WHITESPACE","\n  ",502],"}",["T_WHITESPACE","\n\n  ",503],["T_DOC_COMMENT","\/**\n   * Deletes all forms.\n   *\/",505],["T_WHITESPACE","\n  ",507],["T_FUNCTION","function",508],["T_WHITESPACE"," ",508],["T_STRING","deleteContactForms",508],"(",")",["T_WHITESPACE"," ",508],"{",["T_WHITESPACE","\n    ",508],["T_VARIABLE","$contact_forms",509],["T_WHITESPACE"," ",509],"=",["T_WHITESPACE"," ",509],["T_STRING","ContactForm",509],["T_DOUBLE_COLON","::",509],["T_STRING","loadMultiple",509],"(",")",";",";",["T_WHITESPACE","\n    ",509],["T_FOREACH","foreach",510],["T_WHITESPACE"," ",510],"(",["T_VARIABLE","$contact_forms",510],["T_WHITESPACE"," ",510],["T_AS","as",510],["T_WHITESPACE"," ",510],["T_VARIABLE","$id",510],["T_WHITESPACE"," ",510],["T_DOUBLE_ARROW","=>",510],["T_WHITESPACE"," ",510],["T_VARIABLE","$contact_form",510],")",["T_WHITESPACE"," ",510],"{",["T_WHITESPACE","\n      ",510],["T_IF","if",511],["T_WHITESPACE"," ",511],"(",["T_VARIABLE","$id",511],["T_WHITESPACE"," ",511],["T_IS_EQUAL","==",511],["T_WHITESPACE"," ",511],["T_CONSTANT_ENCAPSED_STRING","'personal'",511],")",["T_WHITESPACE"," ",511],"{",["T_WHITESPACE","\n        ",511],["T_COMMENT","\/\/ Personal form could not be deleted.\n",512],["T_WHITESPACE","        ",513],["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","drupalGet",513],"(","\"",["T_ENCAPSED_AND_WHITESPACE","admin\/structure\/contact\/manage\/",513],["T_VARIABLE","$id",513],["T_ENCAPSED_AND_WHITESPACE","\/delete",513],"\"",")",";",["T_WHITESPACE","\n        ",513],["T_VARIABLE","$this",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","assertResponse",514],"(",["T_LNUMBER","403",514],")",";",["T_WHITESPACE","\n      ",514],"}",["T_WHITESPACE","\n      ",515],["T_ELSE","else",516],["T_WHITESPACE"," ",516],"{",["T_WHITESPACE","\n        ",516],["T_VARIABLE","$this",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","drupalPostForm",517],"(","\"",["T_ENCAPSED_AND_WHITESPACE","admin\/structure\/contact\/manage\/",517],["T_VARIABLE","$id",517],["T_ENCAPSED_AND_WHITESPACE","\/delete",517],"\"",",",["T_WHITESPACE"," ",517],["T_ARRAY","array",517],"(",")",",",["T_WHITESPACE"," ",517],["T_STRING","t",517],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",517],")",")",";",["T_WHITESPACE","\n        ",517],["T_VARIABLE","$this",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","assertRaw",518],"(",["T_STRING","t",518],"(",["T_CONSTANT_ENCAPSED_STRING","'The contact form %label has been deleted.'",518],",",["T_WHITESPACE"," ",518],["T_ARRAY","array",518],"(",["T_CONSTANT_ENCAPSED_STRING","'%label'",518],["T_WHITESPACE"," ",518],["T_DOUBLE_ARROW","=>",518],["T_WHITESPACE"," ",518],["T_VARIABLE","$contact_form",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","label",518],"(",")",")",")",")",";",["T_WHITESPACE","\n        ",518],["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","assertFalse",519],"(",["T_STRING","ContactForm",519],["T_DOUBLE_COLON","::",519],["T_STRING","load",519],"(",["T_VARIABLE","$id",519],")",",",["T_WHITESPACE"," ",519],["T_STRING","format_string",519],"(",["T_CONSTANT_ENCAPSED_STRING","'Form %contact_form not found'",519],",",["T_WHITESPACE"," ",519],["T_ARRAY","array",519],"(",["T_CONSTANT_ENCAPSED_STRING","'%contact_form'",519],["T_WHITESPACE"," ",519],["T_DOUBLE_ARROW","=>",519],["T_WHITESPACE"," ",519],["T_VARIABLE","$contact_form",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","label",519],"(",")",")",")",")",";",["T_WHITESPACE","\n      ",519],"}",["T_WHITESPACE","\n    ",520],"}",["T_WHITESPACE","\n  ",521],"}",["T_WHITESPACE","\n\n",522],"}",["T_WHITESPACE","\n",524]]