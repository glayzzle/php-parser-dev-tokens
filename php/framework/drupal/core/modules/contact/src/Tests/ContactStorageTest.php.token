[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","contact",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Unicode",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","contact",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Message",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","user",7],["T_NS_SEPARATOR","\\",7],["T_STRING","RoleInterface",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Tests storing contact messages.\n *\n * Note that the various test methods in ContactSitewideTest are also run by\n * this test. This is by design to ensure that regular contact.module functions\n * continue to work when a storage handler other than ContentEntityNullStorage\n * is enabled for contact Message entities.\n *\n * @group contact\n *\/",9],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","ContactStorageTest",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_STRING","ContactSitewideTest",19],["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",21],["T_WHITESPACE","\n  ",25],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_STATIC","static",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$modules",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],"[",["T_WHITESPACE","\n    ",26],["T_CONSTANT_ENCAPSED_STRING","'block'",27],",",["T_WHITESPACE","\n    ",27],["T_CONSTANT_ENCAPSED_STRING","'text'",28],",",["T_WHITESPACE","\n    ",28],["T_CONSTANT_ENCAPSED_STRING","'contact'",29],",",["T_WHITESPACE","\n    ",29],["T_CONSTANT_ENCAPSED_STRING","'field_ui'",30],",",["T_WHITESPACE","\n    ",30],["T_CONSTANT_ENCAPSED_STRING","'contact_storage_test'",31],",",["T_WHITESPACE","\n    ",31],["T_CONSTANT_ENCAPSED_STRING","'contact_test'",32],",",["T_WHITESPACE","\n  ",32],"]",";",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * Tests configuration options and the site-wide contact form.\n   *\/",35],["T_WHITESPACE","\n  ",37],["T_PUBLIC","public",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","testContactStorage",38],"(",")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n    ",38],["T_COMMENT","\/\/ Create and log in administrative user.\n",39],["T_WHITESPACE","    ",40],["T_VARIABLE","$admin_user",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","drupalCreateUser",40],"(",["T_ARRAY","array",40],"(",["T_WHITESPACE","\n      ",40],["T_CONSTANT_ENCAPSED_STRING","'access site-wide contact form'",41],",",["T_WHITESPACE","\n      ",41],["T_CONSTANT_ENCAPSED_STRING","'administer contact forms'",42],",",["T_WHITESPACE","\n      ",42],["T_CONSTANT_ENCAPSED_STRING","'administer users'",43],",",["T_WHITESPACE","\n      ",43],["T_CONSTANT_ENCAPSED_STRING","'administer account settings'",44],",",["T_WHITESPACE","\n      ",44],["T_CONSTANT_ENCAPSED_STRING","'administer contact_message fields'",45],",",["T_WHITESPACE","\n    ",45],")",")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","drupalLogin",47],"(",["T_VARIABLE","$admin_user",47],")",";",["T_WHITESPACE","\n    ",47],["T_COMMENT","\/\/ Create first valid contact form.\n",48],["T_WHITESPACE","    ",49],["T_VARIABLE","$mail",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'simpletest@example.com'",49],";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","addContactForm",50],"(",["T_VARIABLE","$id",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","Unicode",50],["T_DOUBLE_COLON","::",50],["T_STRING","strtolower",50],"(",["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","randomMachineName",50],"(",["T_LNUMBER","16",50],")",")",",",["T_WHITESPACE"," ",50],["T_VARIABLE","$label",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","randomMachineName",50],"(",["T_LNUMBER","16",50],")",",",["T_WHITESPACE"," ",50],["T_STRING","implode",50],"(",["T_CONSTANT_ENCAPSED_STRING","','",50],",",["T_WHITESPACE"," ",50],["T_ARRAY","array",50],"(",["T_VARIABLE","$mail",50],")",")",",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","''",50],",",["T_WHITESPACE"," ",50],["T_STRING","TRUE",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'Your message has been sent.'",50],",",["T_WHITESPACE"," ",50],"[",["T_WHITESPACE","\n      ",50],["T_CONSTANT_ENCAPSED_STRING","'send_a_pony'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_LNUMBER","1",51],",",["T_WHITESPACE","\n    ",51],"]",")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","assertText",53],"(",["T_STRING","t",53],"(",["T_CONSTANT_ENCAPSED_STRING","'Contact form @label has been added.'",53],",",["T_WHITESPACE"," ",53],["T_ARRAY","array",53],"(",["T_CONSTANT_ENCAPSED_STRING","'@label'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$label",53],")",")",")",";",["T_WHITESPACE","\n\n    ",53],["T_COMMENT","\/\/ Ensure that anonymous can submit site-wide contact form.\n",55],["T_WHITESPACE","    ",56],["T_STRING","user_role_grant_permissions",56],"(",["T_STRING","RoleInterface",56],["T_DOUBLE_COLON","::",56],["T_STRING","ANONYMOUS_ID",56],",",["T_WHITESPACE"," ",56],["T_ARRAY","array",56],"(",["T_CONSTANT_ENCAPSED_STRING","'access site-wide contact form'",56],")",")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","drupalLogout",57],"(",")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","drupalGet",58],"(",["T_CONSTANT_ENCAPSED_STRING","'contact'",58],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","assertText",59],"(",["T_STRING","t",59],"(",["T_CONSTANT_ENCAPSED_STRING","'Your email address'",59],")",")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertNoText",60],"(",["T_STRING","t",60],"(",["T_CONSTANT_ENCAPSED_STRING","'Form'",60],")",")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","submitContact",61],"(",["T_VARIABLE","$name",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","randomMachineName",61],"(",["T_LNUMBER","16",61],")",",",["T_WHITESPACE"," ",61],["T_VARIABLE","$mail",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$subject",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","randomMachineName",61],"(",["T_LNUMBER","16",61],")",",",["T_WHITESPACE"," ",61],["T_VARIABLE","$id",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$message",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","randomMachineName",61],"(",["T_LNUMBER","64",61],")",")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertText",62],"(",["T_STRING","t",62],"(",["T_CONSTANT_ENCAPSED_STRING","'Your message has been sent.'",62],")",")",";",["T_WHITESPACE","\n\n    ",62],["T_VARIABLE","$messages",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","Message",64],["T_DOUBLE_COLON","::",64],["T_STRING","loadMultiple",64],"(",")",";",["T_WHITESPACE","\n    ",64],["T_DOC_COMMENT","\/** @var \\Drupal\\contact\\Entity\\Message $message *\/",65],["T_WHITESPACE","\n    ",65],["T_VARIABLE","$message",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_STRING","reset",66],"(",["T_VARIABLE","$messages",66],")",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","assertEqual",67],"(",["T_VARIABLE","$message",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getContactForm",67],"(",")",["T_OBJECT_OPERATOR","->",67],["T_STRING","id",67],"(",")",",",["T_WHITESPACE"," ",67],["T_VARIABLE","$id",67],")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","assertTrue",68],"(",["T_VARIABLE","$message",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getContactForm",68],"(",")",["T_OBJECT_OPERATOR","->",68],["T_STRING","getThirdPartySetting",68],"(",["T_CONSTANT_ENCAPSED_STRING","'contact_storage_test'",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'send_a_pony'",68],",",["T_WHITESPACE"," ",68],["T_STRING","FALSE",68],")",")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertEqual",69],"(",["T_VARIABLE","$message",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getSenderName",69],"(",")",",",["T_WHITESPACE"," ",69],["T_VARIABLE","$name",69],")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertEqual",70],"(",["T_VARIABLE","$message",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getSubject",70],"(",")",",",["T_WHITESPACE"," ",70],["T_VARIABLE","$subject",70],")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertEqual",71],"(",["T_VARIABLE","$message",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getSenderMail",71],"(",")",",",["T_WHITESPACE"," ",71],["T_VARIABLE","$mail",71],")",";",["T_WHITESPACE","\n\n    ",71],["T_VARIABLE","$config",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","config",73],"(","\"",["T_ENCAPSED_AND_WHITESPACE","contact.form.",73],["T_VARIABLE","$id",73],"\"",")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertEqual",74],"(",["T_VARIABLE","$config",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","get",74],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",74],")",",",["T_WHITESPACE"," ",74],["T_VARIABLE","$id",74],")",";",["T_WHITESPACE","\n  ",74],"}",["T_WHITESPACE","\n\n",75],"}",["T_WHITESPACE","\n",77]]