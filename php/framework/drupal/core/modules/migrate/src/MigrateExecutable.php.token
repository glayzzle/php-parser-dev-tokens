[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","migrate",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Bytes",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Utility",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Error",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","StringTranslation",7],["T_NS_SEPARATOR","\\",7],["T_STRING","StringTranslationTrait",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","migrate",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Event",8],["T_NS_SEPARATOR","\\",8],["T_STRING","MigrateEvents",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","migrate",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Event",9],["T_NS_SEPARATOR","\\",9],["T_STRING","MigrateImportEvent",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","migrate",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Event",10],["T_NS_SEPARATOR","\\",10],["T_STRING","MigratePostRowSaveEvent",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","migrate",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Event",11],["T_NS_SEPARATOR","\\",11],["T_STRING","MigratePreRowSaveEvent",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","migrate",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Event",12],["T_NS_SEPARATOR","\\",12],["T_STRING","MigrateRollbackEvent",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","migrate",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Event",13],["T_NS_SEPARATOR","\\",13],["T_STRING","MigrateRowDeleteEvent",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Drupal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","migrate",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Exception",14],["T_NS_SEPARATOR","\\",14],["T_STRING","RequirementsException",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Drupal",15],["T_NS_SEPARATOR","\\",15],["T_STRING","migrate",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Plugin",15],["T_NS_SEPARATOR","\\",15],["T_STRING","MigrateIdMapInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Drupal",16],["T_NS_SEPARATOR","\\",16],["T_STRING","migrate",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Plugin",16],["T_NS_SEPARATOR","\\",16],["T_STRING","MigrationInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","EventDispatcher",17],["T_NS_SEPARATOR","\\",17],["T_STRING","EventDispatcherInterface",17],";",["T_WHITESPACE","\n\n",17],["T_DOC_COMMENT","\/**\n * Defines a migrate executable class.\n *\/",19],["T_WHITESPACE","\n",21],["T_CLASS","class",22],["T_WHITESPACE"," ",22],["T_STRING","MigrateExecutable",22],["T_WHITESPACE"," ",22],["T_IMPLEMENTS","implements",22],["T_WHITESPACE"," ",22],["T_STRING","MigrateExecutableInterface",22],["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n  ",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","StringTranslationTrait",23],";",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * The configuration of the migration to do.\n   *\n   * @var \\Drupal\\migrate\\Plugin\\MigrationInterface\n   *\/",25],["T_WHITESPACE","\n  ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$migration",30],";",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * Status of one row.\n   *\n   * The value is a MigrateIdMapInterface::STATUS_* constant, for example:\n   * STATUS_IMPORTED.\n   *\n   * @var int\n   *\/",32],["T_WHITESPACE","\n  ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$sourceRowStatus",40],";",["T_WHITESPACE","\n\n  ",40],["T_DOC_COMMENT","\/**\n   * The ratio of the memory limit at which an operation will be interrupted.\n   *\n   * @var float\n   *\/",42],["T_WHITESPACE","\n  ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$memoryThreshold",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_DNUMBER","0.85",47],";",["T_WHITESPACE","\n\n  ",47],["T_DOC_COMMENT","\/**\n   * The PHP memory_limit expressed in bytes.\n   *\n   * @var int\n   *\/",49],["T_WHITESPACE","\n  ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$memoryLimit",54],";",["T_WHITESPACE","\n\n  ",54],["T_DOC_COMMENT","\/**\n   * The configuration values of the source.\n   *\n   * @var array\n   *\/",56],["T_WHITESPACE","\n  ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$sourceIdValues",61],";",["T_WHITESPACE","\n\n  ",61],["T_DOC_COMMENT","\/**\n   * An array of counts. Initially used for cache hit\/miss tracking.\n   *\n   * @var array\n   *\/",63],["T_WHITESPACE","\n  ",67],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$counts",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_ARRAY","array",68],"(",")",";",["T_WHITESPACE","\n\n  ",68],["T_DOC_COMMENT","\/**\n   * The source.\n   *\n   * @var \\Drupal\\migrate\\Plugin\\MigrateSourceInterface\n   *\/",70],["T_WHITESPACE","\n  ",74],["T_PROTECTED","protected",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$source",75],";",["T_WHITESPACE","\n\n  ",75],["T_DOC_COMMENT","\/**\n   * The event dispatcher.\n   *\n   * @var \\Symfony\\Component\\EventDispatcher\\EventDispatcherInterface\n   *\/",77],["T_WHITESPACE","\n  ",81],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$eventDispatcher",82],";",["T_WHITESPACE","\n\n  ",82],["T_DOC_COMMENT","\/**\n   * Migration message service.\n   *\n   * @todo https:\/\/www.drupal.org\/node\/2822663 Make this protected.\n   *\n   * @var \\Drupal\\migrate\\MigrateMessageInterface\n   *\/",84],["T_WHITESPACE","\n  ",90],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$message",91],";",["T_WHITESPACE","\n\n  ",91],["T_DOC_COMMENT","\/**\n   * Constructs a MigrateExecutable and verifies and sets the memory limit.\n   *\n   * @param \\Drupal\\migrate\\Plugin\\MigrationInterface $migration\n   *   The migration to run.\n   * @param \\Drupal\\migrate\\MigrateMessageInterface $message\n   *   The message to record.\n   * @param \\Symfony\\Component\\EventDispatcher\\EventDispatcherInterface $event_dispatcher\n   *   The event dispatcher.\n   *\n   * @throws \\Drupal\\migrate\\MigrateException\n   *\/",93],["T_WHITESPACE","\n  ",104],["T_PUBLIC","public",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","__construct",105],"(",["T_STRING","MigrationInterface",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$migration",105],",",["T_WHITESPACE"," ",105],["T_STRING","MigrateMessageInterface",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$message",105],",",["T_WHITESPACE"," ",105],["T_STRING","EventDispatcherInterface",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$event_dispatcher",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","NULL",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","migration",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$migration",106],";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","message",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$message",107],";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","migration",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getIdMap",108],"(",")",["T_OBJECT_OPERATOR","->",108],["T_STRING","setMessage",108],"(",["T_VARIABLE","$message",108],")",";",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","eventDispatcher",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$event_dispatcher",109],";",["T_WHITESPACE","\n    ",109],["T_COMMENT","\/\/ Record the memory limit in bytes\n",110],["T_WHITESPACE","    ",111],["T_VARIABLE","$limit",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_STRING","trim",111],"(",["T_STRING","ini_get",111],"(",["T_CONSTANT_ENCAPSED_STRING","'memory_limit'",111],")",")",";",["T_WHITESPACE","\n    ",111],["T_IF","if",112],["T_WHITESPACE"," ",112],"(",["T_VARIABLE","$limit",112],["T_WHITESPACE"," ",112],["T_IS_EQUAL","==",112],["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'-1'",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n      ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","memoryLimit",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","PHP_INT_MAX",113],";",["T_WHITESPACE","\n    ",113],"}",["T_WHITESPACE","\n    ",114],["T_ELSE","else",115],["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n      ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","memoryLimit",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_STRING","Bytes",116],["T_DOUBLE_COLON","::",116],["T_STRING","toInt",116],"(",["T_VARIABLE","$limit",116],")",";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n  ",117],"}",["T_WHITESPACE","\n\n  ",118],["T_DOC_COMMENT","\/**\n   * Returns the source.\n   *\n   * Makes sure source is initialized based on migration settings.\n   *\n   * @return \\Drupal\\migrate\\Plugin\\MigrateSourceInterface\n   *   The source.\n   *\/",120],["T_WHITESPACE","\n  ",127],["T_PROTECTED","protected",128],["T_WHITESPACE"," ",128],["T_FUNCTION","function",128],["T_WHITESPACE"," ",128],["T_STRING","getSource",128],"(",")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n    ",128],["T_IF","if",129],["T_WHITESPACE"," ",129],"(","!",["T_ISSET","isset",129],"(",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","source",129],")",")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n      ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","source",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","migration",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getSourcePlugin",130],"(",")",";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n    ",131],["T_RETURN","return",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","source",132],";",["T_WHITESPACE","\n  ",132],"}",["T_WHITESPACE","\n\n  ",133],["T_DOC_COMMENT","\/**\n   * Gets the event dispatcher.\n   *\n   * @return \\Symfony\\Component\\EventDispatcher\\EventDispatcherInterface\n   *\/",135],["T_WHITESPACE","\n  ",139],["T_PROTECTED","protected",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","getEventDispatcher",140],"(",")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n    ",140],["T_IF","if",141],["T_WHITESPACE"," ",141],"(","!",["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","eventDispatcher",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n      ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","eventDispatcher",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Drupal",142],["T_DOUBLE_COLON","::",142],["T_STRING","service",142],"(",["T_CONSTANT_ENCAPSED_STRING","'event_dispatcher'",142],")",";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n    ",143],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","eventDispatcher",144],";",["T_WHITESPACE","\n  ",144],"}",["T_WHITESPACE","\n\n  ",145],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",147],["T_WHITESPACE","\n  ",149],["T_PUBLIC","public",150],["T_WHITESPACE"," ",150],["T_FUNCTION","function",150],["T_WHITESPACE"," ",150],["T_STRING","import",150],"(",")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n    ",150],["T_COMMENT","\/\/ Only begin the import operation if the migration is currently idle.\n",151],["T_WHITESPACE","    ",152],["T_IF","if",152],["T_WHITESPACE"," ",152],"(",["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","migration",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getStatus",152],"(",")",["T_WHITESPACE"," ",152],["T_IS_NOT_IDENTICAL","!==",152],["T_WHITESPACE"," ",152],["T_STRING","MigrationInterface",152],["T_DOUBLE_COLON","::",152],["T_STRING","STATUS_IDLE",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n      ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","message",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","display",153],"(",["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","t",153],"(",["T_CONSTANT_ENCAPSED_STRING","'Migration @id is busy with another operation: @status'",153],",",["T_WHITESPACE","\n        ",153],["T_ARRAY","array",154],"(",["T_WHITESPACE","\n          ",154],["T_CONSTANT_ENCAPSED_STRING","'@id'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","migration",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","id",155],"(",")",",",["T_WHITESPACE","\n          ",155],["T_CONSTANT_ENCAPSED_STRING","'@status'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","t",156],"(",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","migration",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getStatusLabel",156],"(",")",")",",",["T_WHITESPACE","\n        ",156],")",")",",",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'error'",157],")",";",["T_WHITESPACE","\n      ",157],["T_RETURN","return",158],["T_WHITESPACE"," ",158],["T_STRING","MigrationInterface",158],["T_DOUBLE_COLON","::",158],["T_STRING","RESULT_FAILED",158],";",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n    ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getEventDispatcher",160],"(",")",["T_OBJECT_OPERATOR","->",160],["T_STRING","dispatch",160],"(",["T_STRING","MigrateEvents",160],["T_DOUBLE_COLON","::",160],["T_STRING","PRE_IMPORT",160],",",["T_WHITESPACE"," ",160],["T_NEW","new",160],["T_WHITESPACE"," ",160],["T_STRING","MigrateImportEvent",160],"(",["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","migration",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","message",160],")",")",";",["T_WHITESPACE","\n\n    ",160],["T_COMMENT","\/\/ Knock off migration if the requirements haven't been met.\n",162],["T_WHITESPACE","    ",163],["T_TRY","try",163],["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n      ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","migration",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","checkRequirements",164],"(",")",";",["T_WHITESPACE","\n    ",164],"}",["T_WHITESPACE","\n    ",165],["T_CATCH","catch",166],["T_WHITESPACE"," ",166],"(",["T_STRING","RequirementsException",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$e",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n      ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","message",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","display",167],"(",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","t",168],"(",["T_WHITESPACE","\n          ",168],["T_CONSTANT_ENCAPSED_STRING","'Migration @id did not meet the requirements. @message @requirements'",169],",",["T_WHITESPACE","\n          ",169],["T_ARRAY","array",170],"(",["T_WHITESPACE","\n            ",170],["T_CONSTANT_ENCAPSED_STRING","'@id'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","migration",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","id",171],"(",")",",",["T_WHITESPACE","\n            ",171],["T_CONSTANT_ENCAPSED_STRING","'@message'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$e",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getMessage",172],"(",")",",",["T_WHITESPACE","\n            ",172],["T_CONSTANT_ENCAPSED_STRING","'@requirements'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$e",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getRequirementsString",173],"(",")",",",["T_WHITESPACE","\n          ",173],")",["T_WHITESPACE","\n        ",174],")",",",["T_WHITESPACE","\n        ",175],["T_CONSTANT_ENCAPSED_STRING","'error'",176],["T_WHITESPACE","\n      ",176],")",";",["T_WHITESPACE","\n\n      ",177],["T_RETURN","return",179],["T_WHITESPACE"," ",179],["T_STRING","MigrationInterface",179],["T_DOUBLE_COLON","::",179],["T_STRING","RESULT_FAILED",179],";",["T_WHITESPACE","\n    ",179],"}",["T_WHITESPACE","\n\n    ",180],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","migration",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","setStatus",182],"(",["T_STRING","MigrationInterface",182],["T_DOUBLE_COLON","::",182],["T_STRING","STATUS_IMPORTING",182],")",";",["T_WHITESPACE","\n    ",182],["T_VARIABLE","$return",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_STRING","MigrationInterface",183],["T_DOUBLE_COLON","::",183],["T_STRING","RESULT_COMPLETED",183],";",["T_WHITESPACE","\n    ",183],["T_VARIABLE","$source",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getSource",184],"(",")",";",["T_WHITESPACE","\n    ",184],["T_VARIABLE","$id_map",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","migration",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getIdMap",185],"(",")",";",["T_WHITESPACE","\n\n    ",185],["T_TRY","try",187],["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n      ",187],["T_VARIABLE","$source",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","rewind",188],"(",")",";",["T_WHITESPACE","\n    ",188],"}",["T_WHITESPACE","\n    ",189],["T_CATCH","catch",190],["T_WHITESPACE"," ",190],"(",["T_NS_SEPARATOR","\\",190],["T_STRING","Exception",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$e",190],")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n      ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","message",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","display",191],"(",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","t",192],"(",["T_CONSTANT_ENCAPSED_STRING","'Migration failed with source plugin exception: @e'",192],",",["T_WHITESPACE"," ",192],["T_ARRAY","array",192],"(",["T_CONSTANT_ENCAPSED_STRING","'@e'",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$e",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getMessage",192],"(",")",")",")",",",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'error'",192],")",";",["T_WHITESPACE","\n      ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","migration",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","setStatus",193],"(",["T_STRING","MigrationInterface",193],["T_DOUBLE_COLON","::",193],["T_STRING","STATUS_IDLE",193],")",";",["T_WHITESPACE","\n      ",193],["T_RETURN","return",194],["T_WHITESPACE"," ",194],["T_STRING","MigrationInterface",194],["T_DOUBLE_COLON","::",194],["T_STRING","RESULT_FAILED",194],";",["T_WHITESPACE","\n    ",194],"}",["T_WHITESPACE","\n\n    ",195],["T_VARIABLE","$destination",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","migration",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getDestinationPlugin",197],"(",")",";",["T_WHITESPACE","\n    ",197],["T_WHILE","while",198],["T_WHITESPACE"," ",198],"(",["T_VARIABLE","$source",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","valid",198],"(",")",")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n      ",198],["T_VARIABLE","$row",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$source",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","current",199],"(",")",";",["T_WHITESPACE","\n      ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","sourceIdValues",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$row",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","getSourceIdValues",200],"(",")",";",["T_WHITESPACE","\n\n      ",200],["T_TRY","try",202],["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","processRow",203],"(",["T_VARIABLE","$row",203],")",";",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$save",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_STRING","TRUE",204],";",["T_WHITESPACE","\n      ",204],"}",["T_WHITESPACE","\n      ",205],["T_CATCH","catch",206],["T_WHITESPACE"," ",206],"(",["T_STRING","MigrateException",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$e",206],")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","migration",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getIdMap",207],"(",")",["T_OBJECT_OPERATOR","->",207],["T_STRING","saveIdMapping",207],"(",["T_VARIABLE","$row",207],",",["T_WHITESPACE"," ",207],["T_ARRAY","array",207],"(",")",",",["T_WHITESPACE"," ",207],["T_VARIABLE","$e",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getStatus",207],"(",")",")",";",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","saveMessage",208],"(",["T_VARIABLE","$e",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getMessage",208],"(",")",",",["T_WHITESPACE"," ",208],["T_VARIABLE","$e",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getLevel",208],"(",")",")",";",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$save",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_STRING","FALSE",209],";",["T_WHITESPACE","\n      ",209],"}",["T_WHITESPACE","\n      ",210],["T_CATCH","catch",211],["T_WHITESPACE"," ",211],"(",["T_STRING","MigrateSkipRowException",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$e",211],")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n        ",211],["T_IF","if",212],["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$e",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getSaveToMap",212],"(",")",")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n          ",212],["T_VARIABLE","$id_map",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","saveIdMapping",213],"(",["T_VARIABLE","$row",213],",",["T_WHITESPACE"," ",213],"[","]",",",["T_WHITESPACE"," ",213],["T_STRING","MigrateIdMapInterface",213],["T_DOUBLE_COLON","::",213],["T_STRING","STATUS_IGNORED",213],")",";",["T_WHITESPACE","\n        ",213],"}",["T_WHITESPACE","\n        ",214],["T_IF","if",215],["T_WHITESPACE"," ",215],"(",["T_VARIABLE","$message",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_STRING","trim",215],"(",["T_VARIABLE","$e",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getMessage",215],"(",")",")",")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n          ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","saveMessage",216],"(",["T_VARIABLE","$message",216],",",["T_WHITESPACE"," ",216],["T_STRING","MigrationInterface",216],["T_DOUBLE_COLON","::",216],["T_STRING","MESSAGE_INFORMATIONAL",216],")",";",["T_WHITESPACE","\n        ",216],"}",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$save",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_STRING","FALSE",218],";",["T_WHITESPACE","\n      ",218],"}",["T_WHITESPACE","\n\n      ",219],["T_IF","if",221],["T_WHITESPACE"," ",221],"(",["T_VARIABLE","$save",221],")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n        ",221],["T_TRY","try",222],["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n          ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getEventDispatcher",223],"(",")",["T_OBJECT_OPERATOR","->",223],["T_STRING","dispatch",223],"(",["T_STRING","MigrateEvents",223],["T_DOUBLE_COLON","::",223],["T_STRING","PRE_ROW_SAVE",223],",",["T_WHITESPACE"," ",223],["T_NEW","new",223],["T_WHITESPACE"," ",223],["T_STRING","MigratePreRowSaveEvent",223],"(",["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","migration",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","message",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$row",223],")",")",";",["T_WHITESPACE","\n          ",223],["T_VARIABLE","$destination_id_values",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$destination",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","import",224],"(",["T_VARIABLE","$row",224],",",["T_WHITESPACE"," ",224],["T_VARIABLE","$id_map",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","lookupDestinationId",224],"(",["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","sourceIdValues",224],")",")",";",["T_WHITESPACE","\n          ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","getEventDispatcher",225],"(",")",["T_OBJECT_OPERATOR","->",225],["T_STRING","dispatch",225],"(",["T_STRING","MigrateEvents",225],["T_DOUBLE_COLON","::",225],["T_STRING","POST_ROW_SAVE",225],",",["T_WHITESPACE"," ",225],["T_NEW","new",225],["T_WHITESPACE"," ",225],["T_STRING","MigratePostRowSaveEvent",225],"(",["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","migration",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","message",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$row",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$destination_id_values",225],")",")",";",["T_WHITESPACE","\n          ",225],["T_IF","if",226],["T_WHITESPACE"," ",226],"(",["T_VARIABLE","$destination_id_values",226],")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n            ",226],["T_COMMENT","\/\/ We do not save an idMap entry for config.\n",227],["T_WHITESPACE","            ",228],["T_IF","if",228],["T_WHITESPACE"," ",228],"(",["T_VARIABLE","$destination_id_values",228],["T_WHITESPACE"," ",228],["T_IS_NOT_IDENTICAL","!==",228],["T_WHITESPACE"," ",228],["T_STRING","TRUE",228],")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n              ",228],["T_VARIABLE","$id_map",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","saveIdMapping",229],"(",["T_VARIABLE","$row",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$destination_id_values",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","sourceRowStatus",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$destination",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","rollbackAction",229],"(",")",")",";",["T_WHITESPACE","\n            ",229],"}",["T_WHITESPACE","\n          ",230],"}",["T_WHITESPACE","\n          ",231],["T_ELSE","else",232],["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n            ",232],["T_VARIABLE","$id_map",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","saveIdMapping",233],"(",["T_VARIABLE","$row",233],",",["T_WHITESPACE"," ",233],["T_ARRAY","array",233],"(",")",",",["T_WHITESPACE"," ",233],["T_STRING","MigrateIdMapInterface",233],["T_DOUBLE_COLON","::",233],["T_STRING","STATUS_FAILED",233],")",";",["T_WHITESPACE","\n            ",233],["T_IF","if",234],["T_WHITESPACE"," ",234],"(","!",["T_VARIABLE","$id_map",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","messageCount",234],"(",")",")",["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n              ",234],["T_VARIABLE","$message",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","t",235],"(",["T_CONSTANT_ENCAPSED_STRING","'New object was not saved, no error provided'",235],")",";",["T_WHITESPACE","\n              ",235],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","saveMessage",236],"(",["T_VARIABLE","$message",236],")",";",["T_WHITESPACE","\n              ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","message",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","display",237],"(",["T_VARIABLE","$message",237],")",";",["T_WHITESPACE","\n            ",237],"}",["T_WHITESPACE","\n          ",238],"}",["T_WHITESPACE","\n        ",239],"}",["T_WHITESPACE","\n        ",240],["T_CATCH","catch",241],["T_WHITESPACE"," ",241],"(",["T_STRING","MigrateException",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$e",241],")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n          ",241],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","migration",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getIdMap",242],"(",")",["T_OBJECT_OPERATOR","->",242],["T_STRING","saveIdMapping",242],"(",["T_VARIABLE","$row",242],",",["T_WHITESPACE"," ",242],["T_ARRAY","array",242],"(",")",",",["T_WHITESPACE"," ",242],["T_VARIABLE","$e",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getStatus",242],"(",")",")",";",["T_WHITESPACE","\n          ",242],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","saveMessage",243],"(",["T_VARIABLE","$e",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","getMessage",243],"(",")",",",["T_WHITESPACE"," ",243],["T_VARIABLE","$e",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","getLevel",243],"(",")",")",";",["T_WHITESPACE","\n        ",243],"}",["T_WHITESPACE","\n        ",244],["T_CATCH","catch",245],["T_WHITESPACE"," ",245],"(",["T_NS_SEPARATOR","\\",245],["T_STRING","Exception",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$e",245],")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n          ",245],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","migration",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","getIdMap",246],"(",")",["T_OBJECT_OPERATOR","->",246],["T_STRING","saveIdMapping",246],"(",["T_VARIABLE","$row",246],",",["T_WHITESPACE"," ",246],["T_ARRAY","array",246],"(",")",",",["T_WHITESPACE"," ",246],["T_STRING","MigrateIdMapInterface",246],["T_DOUBLE_COLON","::",246],["T_STRING","STATUS_FAILED",246],")",";",["T_WHITESPACE","\n          ",246],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","handleException",247],"(",["T_VARIABLE","$e",247],")",";",["T_WHITESPACE","\n        ",247],"}",["T_WHITESPACE","\n      ",248],"}",["T_WHITESPACE","\n\n      ",249],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","sourceRowStatus",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_STRING","MigrateIdMapInterface",251],["T_DOUBLE_COLON","::",251],["T_STRING","STATUS_IMPORTED",251],";",["T_WHITESPACE","\n\n      ",251],["T_COMMENT","\/\/ Check for memory exhaustion.\n",253],["T_WHITESPACE","      ",254],["T_IF","if",254],["T_WHITESPACE"," ",254],"(","(",["T_VARIABLE","$return",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","checkStatus",254],"(",")",")",["T_WHITESPACE"," ",254],["T_IS_NOT_EQUAL","!=",254],["T_WHITESPACE"," ",254],["T_STRING","MigrationInterface",254],["T_DOUBLE_COLON","::",254],["T_STRING","RESULT_COMPLETED",254],")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n        ",254],["T_BREAK","break",255],";",["T_WHITESPACE","\n      ",255],"}",["T_WHITESPACE","\n\n      ",256],["T_COMMENT","\/\/ If anyone has requested we stop, return the requested result.\n",258],["T_WHITESPACE","      ",259],["T_IF","if",259],["T_WHITESPACE"," ",259],"(",["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","migration",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","getStatus",259],"(",")",["T_WHITESPACE"," ",259],["T_IS_EQUAL","==",259],["T_WHITESPACE"," ",259],["T_STRING","MigrationInterface",259],["T_DOUBLE_COLON","::",259],["T_STRING","STATUS_STOPPING",259],")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n        ",259],["T_VARIABLE","$return",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","migration",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getInterruptionResult",260],"(",")",";",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","migration",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","clearInterruptionResult",261],"(",")",";",["T_WHITESPACE","\n        ",261],["T_BREAK","break",262],";",["T_WHITESPACE","\n      ",262],"}",["T_WHITESPACE","\n\n      ",263],["T_TRY","try",265],["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n        ",265],["T_VARIABLE","$source",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","next",266],"(",")",";",["T_WHITESPACE","\n      ",266],"}",["T_WHITESPACE","\n      ",267],["T_CATCH","catch",268],["T_WHITESPACE"," ",268],"(",["T_NS_SEPARATOR","\\",268],["T_STRING","Exception",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$e",268],")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n        ",268],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","message",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","display",269],"(",["T_WHITESPACE","\n          ",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","t",270],"(",["T_CONSTANT_ENCAPSED_STRING","'Migration failed with source plugin exception: @e'",270],",",["T_WHITESPACE","\n            ",270],["T_ARRAY","array",271],"(",["T_CONSTANT_ENCAPSED_STRING","'@e'",271],["T_WHITESPACE"," ",271],["T_DOUBLE_ARROW","=>",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$e",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getMessage",271],"(",")",")",")",",",["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","'error'",271],")",";",["T_WHITESPACE","\n        ",271],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","migration",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","setStatus",272],"(",["T_STRING","MigrationInterface",272],["T_DOUBLE_COLON","::",272],["T_STRING","STATUS_IDLE",272],")",";",["T_WHITESPACE","\n        ",272],["T_RETURN","return",273],["T_WHITESPACE"," ",273],["T_STRING","MigrationInterface",273],["T_DOUBLE_COLON","::",273],["T_STRING","RESULT_FAILED",273],";",["T_WHITESPACE","\n      ",273],"}",["T_WHITESPACE","\n    ",274],"}",["T_WHITESPACE","\n\n    ",275],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","getEventDispatcher",277],"(",")",["T_OBJECT_OPERATOR","->",277],["T_STRING","dispatch",277],"(",["T_STRING","MigrateEvents",277],["T_DOUBLE_COLON","::",277],["T_STRING","POST_IMPORT",277],",",["T_WHITESPACE"," ",277],["T_NEW","new",277],["T_WHITESPACE"," ",277],["T_STRING","MigrateImportEvent",277],"(",["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","migration",277],",",["T_WHITESPACE"," ",277],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","message",277],")",")",";",["T_WHITESPACE","\n    ",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","migration",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","setStatus",278],"(",["T_STRING","MigrationInterface",278],["T_DOUBLE_COLON","::",278],["T_STRING","STATUS_IDLE",278],")",";",["T_WHITESPACE","\n    ",278],["T_RETURN","return",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$return",279],";",["T_WHITESPACE","\n  ",279],"}",["T_WHITESPACE","\n\n  ",280],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",282],["T_WHITESPACE","\n  ",284],["T_PUBLIC","public",285],["T_WHITESPACE"," ",285],["T_FUNCTION","function",285],["T_WHITESPACE"," ",285],["T_STRING","rollback",285],"(",")",["T_WHITESPACE"," ",285],"{",["T_WHITESPACE","\n    ",285],["T_COMMENT","\/\/ Only begin the rollback operation if the migration is currently idle.\n",286],["T_WHITESPACE","    ",287],["T_IF","if",287],["T_WHITESPACE"," ",287],"(",["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","migration",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","getStatus",287],"(",")",["T_WHITESPACE"," ",287],["T_IS_NOT_IDENTICAL","!==",287],["T_WHITESPACE"," ",287],["T_STRING","MigrationInterface",287],["T_DOUBLE_COLON","::",287],["T_STRING","STATUS_IDLE",287],")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n      ",287],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","message",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","display",288],"(",["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","t",288],"(",["T_CONSTANT_ENCAPSED_STRING","'Migration @id is busy with another operation: @status'",288],",",["T_WHITESPACE"," ",288],"[",["T_CONSTANT_ENCAPSED_STRING","'@id'",288],["T_WHITESPACE"," ",288],["T_DOUBLE_ARROW","=>",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","migration",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","id",288],"(",")",",",["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","'@status'",288],["T_WHITESPACE"," ",288],["T_DOUBLE_ARROW","=>",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","t",288],"(",["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","migration",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","getStatusLabel",288],"(",")",")","]",")",",",["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","'error'",288],")",";",["T_WHITESPACE","\n      ",288],["T_RETURN","return",289],["T_WHITESPACE"," ",289],["T_STRING","MigrationInterface",289],["T_DOUBLE_COLON","::",289],["T_STRING","RESULT_FAILED",289],";",["T_WHITESPACE","\n    ",289],"}",["T_WHITESPACE","\n\n    ",290],["T_COMMENT","\/\/ Announce that rollback is about to happen.\n",292],["T_WHITESPACE","    ",293],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","getEventDispatcher",293],"(",")",["T_OBJECT_OPERATOR","->",293],["T_STRING","dispatch",293],"(",["T_STRING","MigrateEvents",293],["T_DOUBLE_COLON","::",293],["T_STRING","PRE_ROLLBACK",293],",",["T_WHITESPACE"," ",293],["T_NEW","new",293],["T_WHITESPACE"," ",293],["T_STRING","MigrateRollbackEvent",293],"(",["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","migration",293],")",")",";",["T_WHITESPACE","\n\n    ",293],["T_COMMENT","\/\/ Optimistically assume things are going to work out; if not, $return will be\n",295],["T_WHITESPACE","    ",296],["T_COMMENT","\/\/ updated to some other status.\n",296],["T_WHITESPACE","    ",297],["T_VARIABLE","$return",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_STRING","MigrationInterface",297],["T_DOUBLE_COLON","::",297],["T_STRING","RESULT_COMPLETED",297],";",["T_WHITESPACE","\n\n    ",297],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","migration",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","setStatus",299],"(",["T_STRING","MigrationInterface",299],["T_DOUBLE_COLON","::",299],["T_STRING","STATUS_ROLLING_BACK",299],")",";",["T_WHITESPACE","\n    ",299],["T_VARIABLE","$id_map",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","migration",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","getIdMap",300],"(",")",";",["T_WHITESPACE","\n    ",300],["T_VARIABLE","$destination",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","migration",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","getDestinationPlugin",301],"(",")",";",["T_WHITESPACE","\n\n    ",301],["T_COMMENT","\/\/ Loop through each row in the map, and try to roll it back.\n",303],["T_WHITESPACE","    ",304],["T_FOREACH","foreach",304],["T_WHITESPACE"," ",304],"(",["T_VARIABLE","$id_map",304],["T_WHITESPACE"," ",304],["T_AS","as",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$map_row",304],")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n      ",304],["T_VARIABLE","$destination_key",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_VARIABLE","$id_map",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","currentDestination",305],"(",")",";",["T_WHITESPACE","\n      ",305],["T_IF","if",306],["T_WHITESPACE"," ",306],"(",["T_VARIABLE","$destination_key",306],")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n        ",306],["T_VARIABLE","$map_row",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_VARIABLE","$id_map",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","getRowByDestination",307],"(",["T_VARIABLE","$destination_key",307],")",";",["T_WHITESPACE","\n        ",307],["T_IF","if",308],["T_WHITESPACE"," ",308],"(",["T_VARIABLE","$map_row",308],"[",["T_CONSTANT_ENCAPSED_STRING","'rollback_action'",308],"]",["T_WHITESPACE"," ",308],["T_IS_EQUAL","==",308],["T_WHITESPACE"," ",308],["T_STRING","MigrateIdMapInterface",308],["T_DOUBLE_COLON","::",308],["T_STRING","ROLLBACK_DELETE",308],")",["T_WHITESPACE"," ",308],"{",["T_WHITESPACE","\n          ",308],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","getEventDispatcher",309],"(",")",["T_WHITESPACE","\n            ",309],["T_OBJECT_OPERATOR","->",310],["T_STRING","dispatch",310],"(",["T_STRING","MigrateEvents",310],["T_DOUBLE_COLON","::",310],["T_STRING","PRE_ROW_DELETE",310],",",["T_WHITESPACE"," ",310],["T_NEW","new",310],["T_WHITESPACE"," ",310],["T_STRING","MigrateRowDeleteEvent",310],"(",["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","migration",310],",",["T_WHITESPACE"," ",310],["T_VARIABLE","$destination_key",310],")",")",";",["T_WHITESPACE","\n          ",310],["T_VARIABLE","$destination",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","rollback",311],"(",["T_VARIABLE","$destination_key",311],")",";",["T_WHITESPACE","\n          ",311],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","getEventDispatcher",312],"(",")",["T_WHITESPACE","\n            ",312],["T_OBJECT_OPERATOR","->",313],["T_STRING","dispatch",313],"(",["T_STRING","MigrateEvents",313],["T_DOUBLE_COLON","::",313],["T_STRING","POST_ROW_DELETE",313],",",["T_WHITESPACE"," ",313],["T_NEW","new",313],["T_WHITESPACE"," ",313],["T_STRING","MigrateRowDeleteEvent",313],"(",["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","migration",313],",",["T_WHITESPACE"," ",313],["T_VARIABLE","$destination_key",313],")",")",";",["T_WHITESPACE","\n        ",313],"}",["T_WHITESPACE","\n        ",314],["T_COMMENT","\/\/ We're now done with this row, so remove it from the map.\n",315],["T_WHITESPACE","        ",316],["T_VARIABLE","$id_map",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","deleteDestination",316],"(",["T_VARIABLE","$destination_key",316],")",";",["T_WHITESPACE","\n      ",316],"}",["T_WHITESPACE","\n      ",317],["T_ELSE","else",318],["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n        ",318],["T_COMMENT","\/\/ If there is no destination key the import probably failed and we can\n",319],["T_WHITESPACE","        ",320],["T_COMMENT","\/\/ remove the row without further action.\n",320],["T_WHITESPACE","        ",321],["T_VARIABLE","$source_key",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_VARIABLE","$id_map",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","currentSource",321],"(",")",";",["T_WHITESPACE","\n        ",321],["T_VARIABLE","$id_map",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","delete",322],"(",["T_VARIABLE","$source_key",322],")",";",["T_WHITESPACE","\n      ",322],"}",["T_WHITESPACE","\n\n      ",323],["T_COMMENT","\/\/ Check for memory exhaustion.\n",325],["T_WHITESPACE","      ",326],["T_IF","if",326],["T_WHITESPACE"," ",326],"(","(",["T_VARIABLE","$return",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","checkStatus",326],"(",")",")",["T_WHITESPACE"," ",326],["T_IS_NOT_EQUAL","!=",326],["T_WHITESPACE"," ",326],["T_STRING","MigrationInterface",326],["T_DOUBLE_COLON","::",326],["T_STRING","RESULT_COMPLETED",326],")",["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n        ",326],["T_BREAK","break",327],";",["T_WHITESPACE","\n      ",327],"}",["T_WHITESPACE","\n\n      ",328],["T_COMMENT","\/\/ If anyone has requested we stop, return the requested result.\n",330],["T_WHITESPACE","      ",331],["T_IF","if",331],["T_WHITESPACE"," ",331],"(",["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","migration",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getStatus",331],"(",")",["T_WHITESPACE"," ",331],["T_IS_EQUAL","==",331],["T_WHITESPACE"," ",331],["T_STRING","MigrationInterface",331],["T_DOUBLE_COLON","::",331],["T_STRING","STATUS_STOPPING",331],")",["T_WHITESPACE"," ",331],"{",["T_WHITESPACE","\n        ",331],["T_VARIABLE","$return",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","migration",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","getInterruptionResult",332],"(",")",";",["T_WHITESPACE","\n        ",332],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","migration",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","clearInterruptionResult",333],"(",")",";",["T_WHITESPACE","\n        ",333],["T_BREAK","break",334],";",["T_WHITESPACE","\n      ",334],"}",["T_WHITESPACE","\n    ",335],"}",["T_WHITESPACE","\n\n    ",336],["T_COMMENT","\/\/ Notify modules that rollback attempt was complete.\n",338],["T_WHITESPACE","    ",339],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","getEventDispatcher",339],"(",")",["T_OBJECT_OPERATOR","->",339],["T_STRING","dispatch",339],"(",["T_STRING","MigrateEvents",339],["T_DOUBLE_COLON","::",339],["T_STRING","POST_ROLLBACK",339],",",["T_WHITESPACE"," ",339],["T_NEW","new",339],["T_WHITESPACE"," ",339],["T_STRING","MigrateRollbackEvent",339],"(",["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","migration",339],")",")",";",["T_WHITESPACE","\n    ",339],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","migration",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","setStatus",340],"(",["T_STRING","MigrationInterface",340],["T_DOUBLE_COLON","::",340],["T_STRING","STATUS_IDLE",340],")",";",["T_WHITESPACE","\n\n    ",340],["T_RETURN","return",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$return",342],";",["T_WHITESPACE","\n  ",342],"}",["T_WHITESPACE","\n\n  ",343],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",345],["T_WHITESPACE","\n  ",347],["T_PUBLIC","public",348],["T_WHITESPACE"," ",348],["T_FUNCTION","function",348],["T_WHITESPACE"," ",348],["T_STRING","processRow",348],"(",["T_STRING","Row",348],["T_WHITESPACE"," ",348],["T_VARIABLE","$row",348],",",["T_WHITESPACE"," ",348],["T_ARRAY","array",348],["T_WHITESPACE"," ",348],["T_VARIABLE","$process",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_STRING","NULL",348],",",["T_WHITESPACE"," ",348],["T_VARIABLE","$value",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_STRING","NULL",348],")",["T_WHITESPACE"," ",348],"{",["T_WHITESPACE","\n    ",348],["T_FOREACH","foreach",349],["T_WHITESPACE"," ",349],"(",["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","migration",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","getProcessPlugins",349],"(",["T_VARIABLE","$process",349],")",["T_WHITESPACE"," ",349],["T_AS","as",349],["T_WHITESPACE"," ",349],["T_VARIABLE","$destination",349],["T_WHITESPACE"," ",349],["T_DOUBLE_ARROW","=>",349],["T_WHITESPACE"," ",349],["T_VARIABLE","$plugins",349],")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n      ",349],["T_VARIABLE","$multiple",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_STRING","FALSE",350],";",["T_WHITESPACE","\n      ",350],["T_DOC_COMMENT","\/** @var $plugin \\Drupal\\migrate\\Plugin\\MigrateProcessInterface *\/",351],["T_WHITESPACE","\n      ",351],["T_FOREACH","foreach",352],["T_WHITESPACE"," ",352],"(",["T_VARIABLE","$plugins",352],["T_WHITESPACE"," ",352],["T_AS","as",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$plugin",352],")",["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n        ",352],["T_VARIABLE","$definition",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_VARIABLE","$plugin",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","getPluginDefinition",353],"(",")",";",["T_WHITESPACE","\n        ",353],["T_COMMENT","\/\/ Many plugins expect a scalar value but the current value of the\n",354],["T_WHITESPACE","        ",355],["T_COMMENT","\/\/ pipeline might be multiple scalars (this is set by the previous\n",355],["T_WHITESPACE","        ",356],["T_COMMENT","\/\/ plugin) and in this case the current value needs to be iterated\n",356],["T_WHITESPACE","        ",357],["T_COMMENT","\/\/ and each scalar separately transformed.\n",357],["T_WHITESPACE","        ",358],["T_IF","if",358],["T_WHITESPACE"," ",358],"(",["T_VARIABLE","$multiple",358],["T_WHITESPACE"," ",358],["T_BOOLEAN_AND","&&",358],["T_WHITESPACE"," ",358],"!",["T_VARIABLE","$definition",358],"[",["T_CONSTANT_ENCAPSED_STRING","'handle_multiples'",358],"]",")",["T_WHITESPACE"," ",358],"{",["T_WHITESPACE","\n          ",358],["T_VARIABLE","$new_value",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_ARRAY","array",359],"(",")",";",["T_WHITESPACE","\n          ",359],["T_IF","if",360],["T_WHITESPACE"," ",360],"(","!",["T_STRING","is_array",360],"(",["T_VARIABLE","$value",360],")",")",["T_WHITESPACE"," ",360],"{",["T_WHITESPACE","\n            ",360],["T_THROW","throw",361],["T_WHITESPACE"," ",361],["T_NEW","new",361],["T_WHITESPACE"," ",361],["T_STRING","MigrateException",361],"(",["T_STRING","sprintf",361],"(",["T_CONSTANT_ENCAPSED_STRING","'Pipeline failed for destination %s: %s got instead of an array,'",361],",",["T_WHITESPACE"," ",361],["T_VARIABLE","$destination",361],",",["T_WHITESPACE"," ",361],["T_VARIABLE","$value",361],")",")",";",["T_WHITESPACE","\n          ",361],"}",["T_WHITESPACE","\n          ",362],["T_VARIABLE","$break",363],["T_WHITESPACE"," ",363],"=",["T_WHITESPACE"," ",363],["T_STRING","FALSE",363],";",["T_WHITESPACE","\n          ",363],["T_FOREACH","foreach",364],["T_WHITESPACE"," ",364],"(",["T_VARIABLE","$value",364],["T_WHITESPACE"," ",364],["T_AS","as",364],["T_WHITESPACE"," ",364],["T_VARIABLE","$scalar_value",364],")",["T_WHITESPACE"," ",364],"{",["T_WHITESPACE","\n            ",364],["T_TRY","try",365],["T_WHITESPACE"," ",365],"{",["T_WHITESPACE","\n              ",365],["T_VARIABLE","$new_value",366],"[","]",["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_VARIABLE","$plugin",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","transform",366],"(",["T_VARIABLE","$scalar_value",366],",",["T_WHITESPACE"," ",366],["T_VARIABLE","$this",366],",",["T_WHITESPACE"," ",366],["T_VARIABLE","$row",366],",",["T_WHITESPACE"," ",366],["T_VARIABLE","$destination",366],")",";",["T_WHITESPACE","\n            ",366],"}",["T_WHITESPACE","\n            ",367],["T_CATCH","catch",368],["T_WHITESPACE"," ",368],"(",["T_STRING","MigrateSkipProcessException",368],["T_WHITESPACE"," ",368],["T_VARIABLE","$e",368],")",["T_WHITESPACE"," ",368],"{",["T_WHITESPACE","\n              ",368],["T_VARIABLE","$new_value",369],"[","]",["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_STRING","NULL",369],";",["T_WHITESPACE","\n              ",369],["T_VARIABLE","$break",370],["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],["T_STRING","TRUE",370],";",["T_WHITESPACE","\n            ",370],"}",["T_WHITESPACE","\n          ",371],"}",["T_WHITESPACE","\n          ",372],["T_VARIABLE","$value",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_VARIABLE","$new_value",373],";",["T_WHITESPACE","\n          ",373],["T_IF","if",374],["T_WHITESPACE"," ",374],"(",["T_VARIABLE","$break",374],")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n            ",374],["T_BREAK","break",375],";",["T_WHITESPACE","\n          ",375],"}",["T_WHITESPACE","\n        ",376],"}",["T_WHITESPACE","\n        ",377],["T_ELSE","else",378],["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n          ",378],["T_TRY","try",379],["T_WHITESPACE"," ",379],"{",["T_WHITESPACE","\n            ",379],["T_VARIABLE","$value",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_VARIABLE","$plugin",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","transform",380],"(",["T_VARIABLE","$value",380],",",["T_WHITESPACE"," ",380],["T_VARIABLE","$this",380],",",["T_WHITESPACE"," ",380],["T_VARIABLE","$row",380],",",["T_WHITESPACE"," ",380],["T_VARIABLE","$destination",380],")",";",["T_WHITESPACE","\n          ",380],"}",["T_WHITESPACE","\n          ",381],["T_CATCH","catch",382],["T_WHITESPACE"," ",382],"(",["T_STRING","MigrateSkipProcessException",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$e",382],")",["T_WHITESPACE"," ",382],"{",["T_WHITESPACE","\n            ",382],["T_VARIABLE","$value",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_STRING","NULL",383],";",["T_WHITESPACE","\n            ",383],["T_BREAK","break",384],";",["T_WHITESPACE","\n          ",384],"}",["T_WHITESPACE","\n          ",385],["T_VARIABLE","$multiple",386],["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_VARIABLE","$plugin",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","multiple",386],"(",")",";",["T_WHITESPACE","\n        ",386],"}",["T_WHITESPACE","\n      ",387],"}",["T_WHITESPACE","\n      ",388],["T_COMMENT","\/\/ No plugins or no value means do not set.\n",389],["T_WHITESPACE","      ",390],["T_IF","if",390],["T_WHITESPACE"," ",390],"(",["T_VARIABLE","$plugins",390],["T_WHITESPACE"," ",390],["T_BOOLEAN_AND","&&",390],["T_WHITESPACE"," ",390],"!",["T_STRING","is_null",390],"(",["T_VARIABLE","$value",390],")",")",["T_WHITESPACE"," ",390],"{",["T_WHITESPACE","\n        ",390],["T_VARIABLE","$row",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","setDestinationProperty",391],"(",["T_VARIABLE","$destination",391],",",["T_WHITESPACE"," ",391],["T_VARIABLE","$value",391],")",";",["T_WHITESPACE","\n      ",391],"}",["T_WHITESPACE","\n      ",392],["T_COMMENT","\/\/ Reset the value.\n",393],["T_WHITESPACE","      ",394],["T_VARIABLE","$value",394],["T_WHITESPACE"," ",394],"=",["T_WHITESPACE"," ",394],["T_STRING","NULL",394],";",["T_WHITESPACE","\n    ",394],"}",["T_WHITESPACE","\n  ",395],"}",["T_WHITESPACE","\n\n  ",396],["T_DOC_COMMENT","\/**\n   * Fetches the key array for the current source record.\n   *\n   * @return array\n   *   The current source IDs.\n   *\/",398],["T_WHITESPACE","\n  ",403],["T_PROTECTED","protected",404],["T_WHITESPACE"," ",404],["T_FUNCTION","function",404],["T_WHITESPACE"," ",404],["T_STRING","currentSourceIds",404],"(",")",["T_WHITESPACE"," ",404],"{",["T_WHITESPACE","\n    ",404],["T_RETURN","return",405],["T_WHITESPACE"," ",405],["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","getSource",405],"(",")",["T_OBJECT_OPERATOR","->",405],["T_STRING","getCurrentIds",405],"(",")",";",["T_WHITESPACE","\n  ",405],"}",["T_WHITESPACE","\n\n  ",406],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",408],["T_WHITESPACE","\n  ",410],["T_PUBLIC","public",411],["T_WHITESPACE"," ",411],["T_FUNCTION","function",411],["T_WHITESPACE"," ",411],["T_STRING","saveMessage",411],"(",["T_VARIABLE","$message",411],",",["T_WHITESPACE"," ",411],["T_VARIABLE","$level",411],["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_STRING","MigrationInterface",411],["T_DOUBLE_COLON","::",411],["T_STRING","MESSAGE_ERROR",411],")",["T_WHITESPACE"," ",411],"{",["T_WHITESPACE","\n    ",411],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","migration",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","getIdMap",412],"(",")",["T_OBJECT_OPERATOR","->",412],["T_STRING","saveMessage",412],"(",["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","sourceIdValues",412],",",["T_WHITESPACE"," ",412],["T_VARIABLE","$message",412],",",["T_WHITESPACE"," ",412],["T_VARIABLE","$level",412],")",";",["T_WHITESPACE","\n  ",412],"}",["T_WHITESPACE","\n\n  ",413],["T_DOC_COMMENT","\/**\n   * Takes an Exception object and both saves and displays it.\n   *\n   * Pulls in additional information on the location triggering the exception.\n   *\n   * @param \\Exception $exception\n   *   Object representing the exception.\n   * @param bool $save\n   *   (optional) Whether to save the message in the migration's mapping table.\n   *   Set to FALSE in contexts where this doesn't make sense.\n   *\/",415],["T_WHITESPACE","\n  ",425],["T_PROTECTED","protected",426],["T_WHITESPACE"," ",426],["T_FUNCTION","function",426],["T_WHITESPACE"," ",426],["T_STRING","handleException",426],"(",["T_NS_SEPARATOR","\\",426],["T_STRING","Exception",426],["T_WHITESPACE"," ",426],["T_VARIABLE","$exception",426],",",["T_WHITESPACE"," ",426],["T_VARIABLE","$save",426],["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_STRING","TRUE",426],")",["T_WHITESPACE"," ",426],"{",["T_WHITESPACE","\n    ",426],["T_VARIABLE","$result",427],["T_WHITESPACE"," ",427],"=",["T_WHITESPACE"," ",427],["T_STRING","Error",427],["T_DOUBLE_COLON","::",427],["T_STRING","decodeException",427],"(",["T_VARIABLE","$exception",427],")",";",["T_WHITESPACE","\n    ",427],["T_VARIABLE","$message",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_VARIABLE","$result",428],"[",["T_CONSTANT_ENCAPSED_STRING","'@message'",428],"]",["T_WHITESPACE"," ",428],".",["T_WHITESPACE"," ",428],["T_CONSTANT_ENCAPSED_STRING","' ('",428],["T_WHITESPACE"," ",428],".",["T_WHITESPACE"," ",428],["T_VARIABLE","$result",428],"[",["T_CONSTANT_ENCAPSED_STRING","'%file'",428],"]",["T_WHITESPACE"," ",428],".",["T_WHITESPACE"," ",428],["T_CONSTANT_ENCAPSED_STRING","':'",428],["T_WHITESPACE"," ",428],".",["T_WHITESPACE"," ",428],["T_VARIABLE","$result",428],"[",["T_CONSTANT_ENCAPSED_STRING","'%line'",428],"]",["T_WHITESPACE"," ",428],".",["T_WHITESPACE"," ",428],["T_CONSTANT_ENCAPSED_STRING","')'",428],";",["T_WHITESPACE","\n    ",428],["T_IF","if",429],["T_WHITESPACE"," ",429],"(",["T_VARIABLE","$save",429],")",["T_WHITESPACE"," ",429],"{",["T_WHITESPACE","\n      ",429],["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","saveMessage",430],"(",["T_VARIABLE","$message",430],")",";",["T_WHITESPACE","\n    ",430],"}",["T_WHITESPACE","\n    ",431],["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","message",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","display",432],"(",["T_VARIABLE","$message",432],",",["T_WHITESPACE"," ",432],["T_CONSTANT_ENCAPSED_STRING","'error'",432],")",";",["T_WHITESPACE","\n  ",432],"}",["T_WHITESPACE","\n\n  ",433],["T_DOC_COMMENT","\/**\n   * Checks for exceptional conditions, and display feedback.\n   *\/",435],["T_WHITESPACE","\n  ",437],["T_PROTECTED","protected",438],["T_WHITESPACE"," ",438],["T_FUNCTION","function",438],["T_WHITESPACE"," ",438],["T_STRING","checkStatus",438],"(",")",["T_WHITESPACE"," ",438],"{",["T_WHITESPACE","\n    ",438],["T_IF","if",439],["T_WHITESPACE"," ",439],"(",["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","memoryExceeded",439],"(",")",")",["T_WHITESPACE"," ",439],"{",["T_WHITESPACE","\n      ",439],["T_RETURN","return",440],["T_WHITESPACE"," ",440],["T_STRING","MigrationInterface",440],["T_DOUBLE_COLON","::",440],["T_STRING","RESULT_INCOMPLETE",440],";",["T_WHITESPACE","\n    ",440],"}",["T_WHITESPACE","\n    ",441],["T_RETURN","return",442],["T_WHITESPACE"," ",442],["T_STRING","MigrationInterface",442],["T_DOUBLE_COLON","::",442],["T_STRING","RESULT_COMPLETED",442],";",["T_WHITESPACE","\n  ",442],"}",["T_WHITESPACE","\n\n  ",443],["T_DOC_COMMENT","\/**\n   * Tests whether we've exceeded the desired memory threshold.\n   *\n   * If so, output a message.\n   *\n   * @return bool\n   *   TRUE if the threshold is exceeded, otherwise FALSE.\n   *\/",445],["T_WHITESPACE","\n  ",452],["T_PROTECTED","protected",453],["T_WHITESPACE"," ",453],["T_FUNCTION","function",453],["T_WHITESPACE"," ",453],["T_STRING","memoryExceeded",453],"(",")",["T_WHITESPACE"," ",453],"{",["T_WHITESPACE","\n    ",453],["T_VARIABLE","$usage",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_VARIABLE","$this",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","getMemoryUsage",454],"(",")",";",["T_WHITESPACE","\n    ",454],["T_VARIABLE","$pct_memory",455],["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_VARIABLE","$usage",455],["T_WHITESPACE"," ",455],"\/",["T_WHITESPACE"," ",455],["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","memoryLimit",455],";",["T_WHITESPACE","\n    ",455],["T_IF","if",456],["T_WHITESPACE"," ",456],"(","!",["T_VARIABLE","$threshold",456],["T_WHITESPACE"," ",456],"=",["T_WHITESPACE"," ",456],["T_VARIABLE","$this",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","memoryThreshold",456],")",["T_WHITESPACE"," ",456],"{",["T_WHITESPACE","\n      ",456],["T_RETURN","return",457],["T_WHITESPACE"," ",457],["T_STRING","FALSE",457],";",["T_WHITESPACE","\n    ",457],"}",["T_WHITESPACE","\n    ",458],["T_IF","if",459],["T_WHITESPACE"," ",459],"(",["T_VARIABLE","$pct_memory",459],["T_WHITESPACE"," ",459],">",["T_WHITESPACE"," ",459],["T_VARIABLE","$threshold",459],")",["T_WHITESPACE"," ",459],"{",["T_WHITESPACE","\n      ",459],["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","message",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","display",460],"(",["T_WHITESPACE","\n        ",460],["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","t",461],"(",["T_WHITESPACE","\n          ",461],["T_CONSTANT_ENCAPSED_STRING","'Memory usage is @usage (@pct% of limit @limit), reclaiming memory.'",462],",",["T_WHITESPACE","\n          ",462],["T_ARRAY","array",463],"(",["T_WHITESPACE","\n            ",463],["T_CONSTANT_ENCAPSED_STRING","'@pct'",464],["T_WHITESPACE"," ",464],["T_DOUBLE_ARROW","=>",464],["T_WHITESPACE"," ",464],["T_STRING","round",464],"(",["T_VARIABLE","$pct_memory",464],["T_WHITESPACE"," ",464],"*",["T_WHITESPACE"," ",464],["T_LNUMBER","100",464],")",",",["T_WHITESPACE","\n            ",464],["T_CONSTANT_ENCAPSED_STRING","'@usage'",465],["T_WHITESPACE"," ",465],["T_DOUBLE_ARROW","=>",465],["T_WHITESPACE"," ",465],["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","formatSize",465],"(",["T_VARIABLE","$usage",465],")",",",["T_WHITESPACE","\n            ",465],["T_CONSTANT_ENCAPSED_STRING","'@limit'",466],["T_WHITESPACE"," ",466],["T_DOUBLE_ARROW","=>",466],["T_WHITESPACE"," ",466],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","formatSize",466],"(",["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","memoryLimit",466],")",",",["T_WHITESPACE","\n          ",466],")",["T_WHITESPACE","\n        ",467],")",",",["T_WHITESPACE","\n        ",468],["T_CONSTANT_ENCAPSED_STRING","'warning'",469],["T_WHITESPACE","\n      ",469],")",";",["T_WHITESPACE","\n      ",470],["T_VARIABLE","$usage",471],["T_WHITESPACE"," ",471],"=",["T_WHITESPACE"," ",471],["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","attemptMemoryReclaim",471],"(",")",";",["T_WHITESPACE","\n      ",471],["T_VARIABLE","$pct_memory",472],["T_WHITESPACE"," ",472],"=",["T_WHITESPACE"," ",472],["T_VARIABLE","$usage",472],["T_WHITESPACE"," ",472],"\/",["T_WHITESPACE"," ",472],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","memoryLimit",472],";",["T_WHITESPACE","\n      ",472],["T_COMMENT","\/\/ Use a lower threshold - we don't want to be in a situation where we keep\n",473],["T_WHITESPACE","      ",474],["T_COMMENT","\/\/ coming back here and trimming a tiny amount\n",474],["T_WHITESPACE","      ",475],["T_IF","if",475],["T_WHITESPACE"," ",475],"(",["T_VARIABLE","$pct_memory",475],["T_WHITESPACE"," ",475],">",["T_WHITESPACE"," ",475],"(",["T_DNUMBER","0.90",475],["T_WHITESPACE"," ",475],"*",["T_WHITESPACE"," ",475],["T_VARIABLE","$threshold",475],")",")",["T_WHITESPACE"," ",475],"{",["T_WHITESPACE","\n        ",475],["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","message",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","display",476],"(",["T_WHITESPACE","\n          ",476],["T_VARIABLE","$this",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","t",477],"(",["T_WHITESPACE","\n            ",477],["T_CONSTANT_ENCAPSED_STRING","'Memory usage is now @usage (@pct% of limit @limit), not enough reclaimed, starting new batch'",478],",",["T_WHITESPACE","\n            ",478],["T_ARRAY","array",479],"(",["T_WHITESPACE","\n              ",479],["T_CONSTANT_ENCAPSED_STRING","'@pct'",480],["T_WHITESPACE"," ",480],["T_DOUBLE_ARROW","=>",480],["T_WHITESPACE"," ",480],["T_STRING","round",480],"(",["T_VARIABLE","$pct_memory",480],["T_WHITESPACE"," ",480],"*",["T_WHITESPACE"," ",480],["T_LNUMBER","100",480],")",",",["T_WHITESPACE","\n              ",480],["T_CONSTANT_ENCAPSED_STRING","'@usage'",481],["T_WHITESPACE"," ",481],["T_DOUBLE_ARROW","=>",481],["T_WHITESPACE"," ",481],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","formatSize",481],"(",["T_VARIABLE","$usage",481],")",",",["T_WHITESPACE","\n              ",481],["T_CONSTANT_ENCAPSED_STRING","'@limit'",482],["T_WHITESPACE"," ",482],["T_DOUBLE_ARROW","=>",482],["T_WHITESPACE"," ",482],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","formatSize",482],"(",["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","memoryLimit",482],")",",",["T_WHITESPACE","\n            ",482],")",["T_WHITESPACE","\n          ",483],")",",",["T_WHITESPACE","\n          ",484],["T_CONSTANT_ENCAPSED_STRING","'warning'",485],["T_WHITESPACE","\n        ",485],")",";",["T_WHITESPACE","\n        ",486],["T_RETURN","return",487],["T_WHITESPACE"," ",487],["T_STRING","TRUE",487],";",["T_WHITESPACE","\n      ",487],"}",["T_WHITESPACE","\n      ",488],["T_ELSE","else",489],["T_WHITESPACE"," ",489],"{",["T_WHITESPACE","\n        ",489],["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","message",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","display",490],"(",["T_WHITESPACE","\n          ",490],["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","t",491],"(",["T_WHITESPACE","\n            ",491],["T_CONSTANT_ENCAPSED_STRING","'Memory usage is now @usage (@pct% of limit @limit), reclaimed enough, continuing'",492],",",["T_WHITESPACE","\n            ",492],["T_ARRAY","array",493],"(",["T_WHITESPACE","\n              ",493],["T_CONSTANT_ENCAPSED_STRING","'@pct'",494],["T_WHITESPACE"," ",494],["T_DOUBLE_ARROW","=>",494],["T_WHITESPACE"," ",494],["T_STRING","round",494],"(",["T_VARIABLE","$pct_memory",494],["T_WHITESPACE"," ",494],"*",["T_WHITESPACE"," ",494],["T_LNUMBER","100",494],")",",",["T_WHITESPACE","\n              ",494],["T_CONSTANT_ENCAPSED_STRING","'@usage'",495],["T_WHITESPACE"," ",495],["T_DOUBLE_ARROW","=>",495],["T_WHITESPACE"," ",495],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","formatSize",495],"(",["T_VARIABLE","$usage",495],")",",",["T_WHITESPACE","\n              ",495],["T_CONSTANT_ENCAPSED_STRING","'@limit'",496],["T_WHITESPACE"," ",496],["T_DOUBLE_ARROW","=>",496],["T_WHITESPACE"," ",496],["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","formatSize",496],"(",["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","memoryLimit",496],")",",",["T_WHITESPACE","\n            ",496],")",["T_WHITESPACE","\n          ",497],")",",",["T_WHITESPACE","\n          ",498],["T_CONSTANT_ENCAPSED_STRING","'warning'",499],")",";",["T_WHITESPACE","\n        ",499],["T_RETURN","return",500],["T_WHITESPACE"," ",500],["T_STRING","FALSE",500],";",["T_WHITESPACE","\n      ",500],"}",["T_WHITESPACE","\n    ",501],"}",["T_WHITESPACE","\n    ",502],["T_ELSE","else",503],["T_WHITESPACE"," ",503],"{",["T_WHITESPACE","\n      ",503],["T_RETURN","return",504],["T_WHITESPACE"," ",504],["T_STRING","FALSE",504],";",["T_WHITESPACE","\n    ",504],"}",["T_WHITESPACE","\n  ",505],"}",["T_WHITESPACE","\n\n  ",506],["T_DOC_COMMENT","\/**\n   * Returns the memory usage so far.\n   *\n   * @return int\n   *   The memory usage.\n   *\/",508],["T_WHITESPACE","\n  ",513],["T_PROTECTED","protected",514],["T_WHITESPACE"," ",514],["T_FUNCTION","function",514],["T_WHITESPACE"," ",514],["T_STRING","getMemoryUsage",514],"(",")",["T_WHITESPACE"," ",514],"{",["T_WHITESPACE","\n    ",514],["T_RETURN","return",515],["T_WHITESPACE"," ",515],["T_STRING","memory_get_usage",515],"(",")",";",["T_WHITESPACE","\n  ",515],"}",["T_WHITESPACE","\n\n  ",516],["T_DOC_COMMENT","\/**\n   * Tries to reclaim memory.\n   *\n   * @return int\n   *   The memory usage after reclaim.\n   *\/",518],["T_WHITESPACE","\n  ",523],["T_PROTECTED","protected",524],["T_WHITESPACE"," ",524],["T_FUNCTION","function",524],["T_WHITESPACE"," ",524],["T_STRING","attemptMemoryReclaim",524],"(",")",["T_WHITESPACE"," ",524],"{",["T_WHITESPACE","\n    ",524],["T_COMMENT","\/\/ First, try resetting Drupal's static storage - this frequently releases\n",525],["T_WHITESPACE","    ",526],["T_COMMENT","\/\/ plenty of memory to continue.\n",526],["T_WHITESPACE","    ",527],["T_STRING","drupal_static_reset",527],"(",")",";",["T_WHITESPACE","\n\n    ",527],["T_COMMENT","\/\/ Entity storage can blow up with caches so clear them out.\n",529],["T_WHITESPACE","    ",530],["T_VARIABLE","$manager",530],["T_WHITESPACE"," ",530],"=",["T_WHITESPACE"," ",530],["T_NS_SEPARATOR","\\",530],["T_STRING","Drupal",530],["T_DOUBLE_COLON","::",530],["T_STRING","entityManager",530],"(",")",";",["T_WHITESPACE","\n    ",530],["T_FOREACH","foreach",531],["T_WHITESPACE"," ",531],"(",["T_VARIABLE","$manager",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","getDefinitions",531],"(",")",["T_WHITESPACE"," ",531],["T_AS","as",531],["T_WHITESPACE"," ",531],["T_VARIABLE","$id",531],["T_WHITESPACE"," ",531],["T_DOUBLE_ARROW","=>",531],["T_WHITESPACE"," ",531],["T_VARIABLE","$definition",531],")",["T_WHITESPACE"," ",531],"{",["T_WHITESPACE","\n      ",531],["T_VARIABLE","$manager",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","getStorage",532],"(",["T_VARIABLE","$id",532],")",["T_OBJECT_OPERATOR","->",532],["T_STRING","resetCache",532],"(",")",";",["T_WHITESPACE","\n    ",532],"}",["T_WHITESPACE","\n\n    ",533],["T_COMMENT","\/\/ @TODO: explore resetting the container.\n",535],["T_WHITESPACE","\n    ",536],["T_RETURN","return",537],["T_WHITESPACE"," ",537],["T_STRING","memory_get_usage",537],"(",")",";",["T_WHITESPACE","\n  ",537],"}",["T_WHITESPACE","\n\n  ",538],["T_DOC_COMMENT","\/**\n   * Generates a string representation for the given byte count.\n   *\n   * @param int $size\n   *   A size in bytes.\n   *\n   * @return string\n   *   A translated string representation of the size.\n   *\/",540],["T_WHITESPACE","\n  ",548],["T_PROTECTED","protected",549],["T_WHITESPACE"," ",549],["T_FUNCTION","function",549],["T_WHITESPACE"," ",549],["T_STRING","formatSize",549],"(",["T_VARIABLE","$size",549],")",["T_WHITESPACE"," ",549],"{",["T_WHITESPACE","\n    ",549],["T_RETURN","return",550],["T_WHITESPACE"," ",550],["T_STRING","format_size",550],"(",["T_VARIABLE","$size",550],")",";",["T_WHITESPACE","\n  ",550],"}",["T_WHITESPACE","\n\n",551],"}",["T_WHITESPACE","\n",553]]