[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","migrate",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","migrate",3],["T_NS_SEPARATOR","\\",3],["T_STRING","destination",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ContentEntityInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","migrate",6],["T_NS_SEPARATOR","\\",6],["T_STRING","MigrateException",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","migrate",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Row",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Provides entity revision destination plugin.\n *\n * @MigrateDestination(\n *   id = \"entity_revision\",\n *   deriver = \"Drupal\\migrate\\Plugin\\Derivative\\MigrateEntityRevision\"\n * )\n *\/",9],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","EntityRevision",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_STRING","EntityContentBase",17],["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",19],["T_WHITESPACE","\n  ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_STATIC","static",22],["T_WHITESPACE"," ",22],["T_FUNCTION","function",22],["T_WHITESPACE"," ",22],["T_STRING","getEntityTypeId",22],"(",["T_VARIABLE","$plugin_id",22],")",["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n    ",22],["T_COMMENT","\/\/ Remove entity_revision:\n",23],["T_WHITESPACE","    ",24],["T_RETURN","return",24],["T_WHITESPACE"," ",24],["T_STRING","substr",24],"(",["T_VARIABLE","$plugin_id",24],",",["T_WHITESPACE"," ",24],["T_LNUMBER","16",24],")",";",["T_WHITESPACE","\n  ",24],"}",["T_WHITESPACE","\n\n  ",25],["T_DOC_COMMENT","\/**\n   * Gets the entity.\n   *\n   * @param \\Drupal\\migrate\\Row $row\n   *   The row object.\n   * @param array $old_destination_id_values\n   *   The old destination IDs.\n   *\n   * @return \\Drupal\\Core\\Entity\\EntityInterface|false\n   *   The entity or false if it can not be created.\n   *\/",27],["T_WHITESPACE","\n  ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","getEntity",38],"(",["T_STRING","Row",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$row",38],",",["T_WHITESPACE"," ",38],["T_ARRAY","array",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$old_destination_id_values",38],")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$revision_id",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$old_destination_id_values",39],["T_WHITESPACE"," ",39],"?",["T_WHITESPACE","\n      ",39],["T_STRING","reset",40],"(",["T_VARIABLE","$old_destination_id_values",40],")",["T_WHITESPACE"," ",40],":",["T_WHITESPACE","\n      ",40],["T_VARIABLE","$row",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getDestinationProperty",41],"(",["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getKey",41],"(",["T_CONSTANT_ENCAPSED_STRING","'revision'",41],")",")",";",["T_WHITESPACE","\n    ",41],["T_IF","if",42],["T_WHITESPACE"," ",42],"(","!",["T_EMPTY","empty",42],"(",["T_VARIABLE","$revision_id",42],")",["T_WHITESPACE"," ",42],["T_BOOLEAN_AND","&&",42],["T_WHITESPACE"," ",42],"(",["T_VARIABLE","$entity",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","storage",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","loadRevision",42],"(",["T_VARIABLE","$revision_id",42],")",")",")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n      ",42],["T_VARIABLE","$entity",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","setNewRevision",43],"(",["T_STRING","FALSE",43],")",";",["T_WHITESPACE","\n    ",43],"}",["T_WHITESPACE","\n    ",44],["T_ELSE","else",45],["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n      ",45],["T_VARIABLE","$entity_id",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$row",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getDestinationProperty",46],"(",["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getKey",46],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",46],")",")",";",["T_WHITESPACE","\n      ",46],["T_VARIABLE","$entity",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","storage",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","load",47],"(",["T_VARIABLE","$entity_id",47],")",";",["T_WHITESPACE","\n\n      ",47],["T_COMMENT","\/\/ If we fail to load the original entity something is wrong and we need\n",49],["T_WHITESPACE","      ",50],["T_COMMENT","\/\/ to return immediately.\n",50],["T_WHITESPACE","      ",51],["T_IF","if",51],["T_WHITESPACE"," ",51],"(","!",["T_VARIABLE","$entity",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n        ",51],["T_RETURN","return",52],["T_WHITESPACE"," ",52],["T_STRING","FALSE",52],";",["T_WHITESPACE","\n      ",52],"}",["T_WHITESPACE","\n\n      ",53],["T_VARIABLE","$entity",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","enforceIsNew",55],"(",["T_STRING","FALSE",55],")",";",["T_WHITESPACE","\n      ",55],["T_VARIABLE","$entity",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","setNewRevision",56],"(",["T_STRING","TRUE",56],")",";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","updateEntity",58],"(",["T_VARIABLE","$entity",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$row",58],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$entity",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","isDefaultRevision",59],"(",["T_STRING","FALSE",59],")",";",["T_WHITESPACE","\n    ",59],["T_RETURN","return",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$entity",60],";",["T_WHITESPACE","\n  ",60],"}",["T_WHITESPACE","\n\n  ",61],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",63],["T_WHITESPACE","\n  ",65],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","save",66],"(",["T_STRING","ContentEntityInterface",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$entity",66],",",["T_WHITESPACE"," ",66],["T_ARRAY","array",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$old_destination_id_values",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_ARRAY","array",66],"(",")",")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$entity",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","save",67],"(",")",";",["T_WHITESPACE","\n    ",67],["T_RETURN","return",68],["T_WHITESPACE"," ",68],["T_ARRAY","array",68],"(",["T_VARIABLE","$entity",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getRevisionId",68],"(",")",")",";",["T_WHITESPACE","\n  ",68],"}",["T_WHITESPACE","\n\n  ",69],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",71],["T_WHITESPACE","\n  ",73],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","getIds",74],"(",")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n    ",74],["T_IF","if",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$key",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getKey",75],"(",["T_CONSTANT_ENCAPSED_STRING","'revision'",75],")",")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n      ",75],["T_RETURN","return",76],["T_WHITESPACE"," ",76],"[",["T_VARIABLE","$key",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getDefinitionFromEntity",76],"(",["T_VARIABLE","$key",76],")","]",";",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n    ",77],["T_THROW","throw",78],["T_WHITESPACE"," ",78],["T_NEW","new",78],["T_WHITESPACE"," ",78],["T_STRING","MigrateException",78],"(",["T_CONSTANT_ENCAPSED_STRING","'This entity type does not support revisions.'",78],")",";",["T_WHITESPACE","\n  ",78],"}",["T_WHITESPACE","\n\n",79],"}",["T_WHITESPACE","\n",81]]