[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","migrate",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","migrate",3],["T_NS_SEPARATOR","\\",3],["T_STRING","process",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","migrate",5],["T_NS_SEPARATOR","\\",5],["T_STRING","MigrateExecutableInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","migrate",6],["T_NS_SEPARATOR","\\",6],["T_STRING","MigrateException",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","migrate",7],["T_NS_SEPARATOR","\\",7],["T_STRING","ProcessPluginBase",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","migrate",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Row",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","GuzzleHttp",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Psr7",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Uri",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Apply urlencoding to a URI.\n *\n * This is needed when the URI is to be opened by a later migration stage, and\n * the source URI value is not already encoded.\n *\n * @MigrateProcessPlugin(\n *   id = \"urlencode\"\n * )\n *\/",11],["T_WHITESPACE","\n",20],["T_CLASS","class",21],["T_WHITESPACE"," ",21],["T_STRING","UrlEncode",21],["T_WHITESPACE"," ",21],["T_EXTENDS","extends",21],["T_WHITESPACE"," ",21],["T_STRING","ProcessPluginBase",21],["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",23],["T_WHITESPACE","\n  ",25],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","transform",26],"(",["T_VARIABLE","$value",26],",",["T_WHITESPACE"," ",26],["T_STRING","MigrateExecutableInterface",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$migrate_executable",26],",",["T_WHITESPACE"," ",26],["T_STRING","Row",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$row",26],",",["T_WHITESPACE"," ",26],["T_VARIABLE","$destination_property",26],")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n    ",26],["T_COMMENT","\/\/ Only apply to a full URL.\n",27],["T_WHITESPACE","    ",28],["T_IF","if",28],["T_WHITESPACE"," ",28],"(",["T_STRING","is_string",28],"(",["T_VARIABLE","$value",28],")",["T_WHITESPACE"," ",28],["T_BOOLEAN_AND","&&",28],["T_WHITESPACE"," ",28],["T_STRING","strpos",28],"(",["T_VARIABLE","$value",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","':\/\/'",28],")",["T_WHITESPACE"," ",28],">",["T_WHITESPACE"," ",28],["T_LNUMBER","0",28],")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n      ",28],["T_COMMENT","\/\/ URL encode everything after the hostname.\n",29],["T_WHITESPACE","      ",30],["T_VARIABLE","$parsed_url",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_STRING","parse_url",30],"(",["T_VARIABLE","$value",30],")",";",["T_WHITESPACE","\n      ",30],["T_COMMENT","\/\/ Fail on seriously malformed URLs.\n",31],["T_WHITESPACE","      ",32],["T_IF","if",32],["T_WHITESPACE"," ",32],"(",["T_VARIABLE","$parsed_url",32],["T_WHITESPACE"," ",32],["T_IS_IDENTICAL","===",32],["T_WHITESPACE"," ",32],["T_STRING","FALSE",32],")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n        ",32],["T_THROW","throw",33],["T_WHITESPACE"," ",33],["T_NEW","new",33],["T_WHITESPACE"," ",33],["T_STRING","MigrateException",33],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Value '",33],["T_VARIABLE","$value",33],["T_ENCAPSED_AND_WHITESPACE","' is not a valid URL",33],"\"",")",";",["T_WHITESPACE","\n      ",33],"}",["T_WHITESPACE","\n      ",34],["T_COMMENT","\/\/ Iterate over specific pieces of the URL rawurlencoding each one.\n",35],["T_WHITESPACE","      ",36],["T_VARIABLE","$url_parts_to_encode",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_ARRAY","array",36],"(",["T_CONSTANT_ENCAPSED_STRING","'path'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'query'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'fragment'",36],")",";",["T_WHITESPACE","\n      ",36],["T_FOREACH","foreach",37],["T_WHITESPACE"," ",37],"(",["T_VARIABLE","$parsed_url",37],["T_WHITESPACE"," ",37],["T_AS","as",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$parsed_url_key",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$parsed_url_value",37],")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n        ",37],["T_IF","if",38],["T_WHITESPACE"," ",38],"(",["T_STRING","in_array",38],"(",["T_VARIABLE","$parsed_url_key",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$url_parts_to_encode",38],")",")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n          ",38],["T_COMMENT","\/\/ urlencode() would convert spaces to + signs.\n",39],["T_WHITESPACE","          ",40],["T_VARIABLE","$urlencoded_parsed_url_value",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_STRING","rawurlencode",40],"(",["T_VARIABLE","$parsed_url_value",40],")",";",["T_WHITESPACE","\n          ",40],["T_COMMENT","\/\/ Restore special characters depending on which part of the URL this is.\n",41],["T_WHITESPACE","          ",42],["T_SWITCH","switch",42],["T_WHITESPACE"," ",42],"(",["T_VARIABLE","$parsed_url_key",42],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n            ",42],["T_CASE","case",43],["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'query'",43],":",["T_WHITESPACE","\n              ",43],["T_VARIABLE","$urlencoded_parsed_url_value",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_STRING","str_replace",44],"(",["T_CONSTANT_ENCAPSED_STRING","'%26'",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'&'",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$urlencoded_parsed_url_value",44],")",";",["T_WHITESPACE","\n              ",44],["T_BREAK","break",45],";",["T_WHITESPACE","\n\n            ",45],["T_CASE","case",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'path'",47],":",["T_WHITESPACE","\n              ",47],["T_VARIABLE","$urlencoded_parsed_url_value",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","str_replace",48],"(",["T_CONSTANT_ENCAPSED_STRING","'%2F'",48],",",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'\/'",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$urlencoded_parsed_url_value",48],")",";",["T_WHITESPACE","\n              ",48],["T_BREAK","break",49],";",["T_WHITESPACE","\n          ",49],"}",["T_WHITESPACE","\n\n          ",50],["T_VARIABLE","$parsed_url",52],"[",["T_VARIABLE","$parsed_url_key",52],"]",["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$urlencoded_parsed_url_value",52],";",["T_WHITESPACE","\n        ",52],"}",["T_WHITESPACE","\n      ",53],"}",["T_WHITESPACE","\n      ",54],["T_VARIABLE","$value",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_STRING_CAST","(string)",55],["T_WHITESPACE"," ",55],["T_STRING","Uri",55],["T_DOUBLE_COLON","::",55],["T_STRING","fromParts",55],"(",["T_VARIABLE","$parsed_url",55],")",";",["T_WHITESPACE","\n    ",55],"}",["T_WHITESPACE","\n    ",56],["T_RETURN","return",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$value",57],";",["T_WHITESPACE","\n  ",57],"}",["T_WHITESPACE","\n\n",58],"}",["T_WHITESPACE","\n",60]]