[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_DOC_COMMENT","\/**\n * @file\n * Contains \\Drupal\\Tests\\migrate\\Unit\\MigrateSourceTest.\n *\/",3],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Tests",8],["T_NS_SEPARATOR","\\",8],["T_STRING","migrate",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Unit",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Cache",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CacheBackendInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","DependencyInjection",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ContainerBuilder",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Extension",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ModuleHandlerInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Core",13],["T_NS_SEPARATOR","\\",13],["T_STRING","KeyValueStore",13],["T_NS_SEPARATOR","\\",13],["T_STRING","KeyValueFactoryInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Drupal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Core",14],["T_NS_SEPARATOR","\\",14],["T_STRING","KeyValueStore",14],["T_NS_SEPARATOR","\\",14],["T_STRING","KeyValueStoreInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Drupal",15],["T_NS_SEPARATOR","\\",15],["T_STRING","migrate",15],["T_NS_SEPARATOR","\\",15],["T_STRING","MigrateExecutable",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Drupal",16],["T_NS_SEPARATOR","\\",16],["T_STRING","migrate",16],["T_NS_SEPARATOR","\\",16],["T_STRING","MigrateSkipRowException",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Drupal",17],["T_NS_SEPARATOR","\\",17],["T_STRING","migrate",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Plugin",17],["T_NS_SEPARATOR","\\",17],["T_STRING","migrate",17],["T_NS_SEPARATOR","\\",17],["T_STRING","source",17],["T_NS_SEPARATOR","\\",17],["T_STRING","SourcePluginBase",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Drupal",18],["T_NS_SEPARATOR","\\",18],["T_STRING","migrate",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Plugin",18],["T_NS_SEPARATOR","\\",18],["T_STRING","MigrateIdMapInterface",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Drupal",19],["T_NS_SEPARATOR","\\",19],["T_STRING","migrate",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Row",19],";",["T_WHITESPACE","\n\n",19],["T_DOC_COMMENT","\/**\n * @coversDefaultClass \\Drupal\\migrate\\Plugin\\migrate\\source\\SourcePluginBase\n * @group migrate\n *\/",21],["T_WHITESPACE","\n",24],["T_CLASS","class",25],["T_WHITESPACE"," ",25],["T_STRING","MigrateSourceTest",25],["T_WHITESPACE"," ",25],["T_EXTENDS","extends",25],["T_WHITESPACE"," ",25],["T_STRING","MigrateTestCase",25],["T_WHITESPACE"," ",25],"{",["T_WHITESPACE","\n\n  ",25],["T_DOC_COMMENT","\/**\n   * Override the migration config.\n   *\n   * @var array\n   *\/",27],["T_WHITESPACE","\n  ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$defaultMigrationConfiguration",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],"[",["T_WHITESPACE","\n    ",32],["T_CONSTANT_ENCAPSED_STRING","'id'",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'test_migration'",33],",",["T_WHITESPACE","\n    ",33],["T_CONSTANT_ENCAPSED_STRING","'source'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],"[","]",",",["T_WHITESPACE","\n  ",34],"]",";",["T_WHITESPACE","\n\n  ",35],["T_DOC_COMMENT","\/**\n   * Test row data.\n   *\n   * @var array\n   *\/",37],["T_WHITESPACE","\n  ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$row",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],"[",["T_CONSTANT_ENCAPSED_STRING","'test_sourceid1'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'1'",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_LNUMBER","500",42],"]",";",["T_WHITESPACE","\n\n  ",42],["T_DOC_COMMENT","\/**\n   * Test source ids.\n   *\n   * @var array\n   *\/",44],["T_WHITESPACE","\n  ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$sourceIds",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],"[",["T_CONSTANT_ENCAPSED_STRING","'test_sourceid1'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'test_sourceid1'",49],"]",";",["T_WHITESPACE","\n\n  ",49],["T_DOC_COMMENT","\/**\n   * The migration entity.\n   *\n   * @var \\Drupal\\migrate\\Plugin\\MigrationInterface\n   *\/",51],["T_WHITESPACE","\n  ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$migration",56],";",["T_WHITESPACE","\n\n  ",56],["T_DOC_COMMENT","\/**\n   * The migrate executable.\n   *\n   * @var \\Drupal\\migrate\\MigrateExecutable\n   *\/",58],["T_WHITESPACE","\n  ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$executable",63],";",["T_WHITESPACE","\n\n  ",63],["T_DOC_COMMENT","\/**\n   * Gets the source plugin to test.\n   *\n   * @param array $configuration\n   *   (optional) The source configuration. Defaults to an empty array.\n   * @param array $migrate_config\n   *   (optional) The migration configuration to be used in\n   *   parent::getMigration(). Defaults to an empty array.\n   * @param int $status\n   *   (optional) The default status for the new rows to be imported. Defaults\n   *   to MigrateIdMapInterface::STATUS_NEEDS_UPDATE.\n   *\n   * @return \\Drupal\\migrate\\Plugin\\MigrateSourceInterface\n   *   A mocked source plugin.\n   *\/",65],["T_WHITESPACE","\n  ",79],["T_PROTECTED","protected",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","getSource",80],"(",["T_VARIABLE","$configuration",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],"[","]",",",["T_WHITESPACE"," ",80],["T_VARIABLE","$migrate_config",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],"[","]",",",["T_WHITESPACE"," ",80],["T_VARIABLE","$status",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","MigrateIdMapInterface",80],["T_DOUBLE_COLON","::",80],["T_STRING","STATUS_NEEDS_UPDATE",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$high_water_value",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","NULL",80],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$container",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_NEW","new",81],["T_WHITESPACE"," ",81],["T_STRING","ContainerBuilder",81],"(",")",";",["T_WHITESPACE","\n    ",81],["T_NS_SEPARATOR","\\",82],["T_STRING","Drupal",82],["T_DOUBLE_COLON","::",82],["T_STRING","setContainer",82],"(",["T_VARIABLE","$container",82],")",";",["T_WHITESPACE","\n\n    ",82],["T_VARIABLE","$key_value",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getMock",84],"(",["T_STRING","KeyValueStoreInterface",84],["T_DOUBLE_COLON","::",84],["T_CLASS","class",84],")",";",["T_WHITESPACE","\n\n    ",84],["T_VARIABLE","$key_value_factory",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getMock",86],"(",["T_STRING","KeyValueFactoryInterface",86],["T_DOUBLE_COLON","::",86],["T_CLASS","class",86],")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$key_value_factory",87],["T_WHITESPACE","\n      ",87],["T_OBJECT_OPERATOR","->",88],["T_STRING","method",88],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",88],")",["T_WHITESPACE","\n      ",88],["T_OBJECT_OPERATOR","->",89],["T_STRING","with",89],"(",["T_CONSTANT_ENCAPSED_STRING","'migrate:high_water'",89],")",["T_WHITESPACE","\n      ",89],["T_OBJECT_OPERATOR","->",90],["T_STRING","willReturn",90],"(",["T_VARIABLE","$key_value",90],")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$container",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","set",91],"(",["T_CONSTANT_ENCAPSED_STRING","'keyvalue'",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$key_value_factory",91],")",";",["T_WHITESPACE","\n\n    ",91],["T_VARIABLE","$container",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","set",93],"(",["T_CONSTANT_ENCAPSED_STRING","'cache.migrate'",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getMock",93],"(",["T_STRING","CacheBackendInterface",93],["T_DOUBLE_COLON","::",93],["T_CLASS","class",93],")",")",";",["T_WHITESPACE","\n\n    ",93],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","migrationConfiguration",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","defaultMigrationConfiguration",95],["T_WHITESPACE"," ",95],"+",["T_WHITESPACE"," ",95],["T_VARIABLE","$migrate_config",95],";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","migration",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_STRING","parent",96],["T_DOUBLE_COLON","::",96],["T_STRING","getMigration",96],"(",")",";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","executable",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getMigrateExecutable",97],"(",["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","migration",97],")",";",["T_WHITESPACE","\n\n    ",97],["T_COMMENT","\/\/ Update the idMap for Source so the default is that the row has already\n",99],["T_WHITESPACE","    ",100],["T_COMMENT","\/\/ been imported. This allows us to use the highwater mark to decide on the\n",100],["T_WHITESPACE","    ",101],["T_COMMENT","\/\/ outcome of whether we choose to import the row.\n",101],["T_WHITESPACE","    ",102],["T_VARIABLE","$id_map_array",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],"[",["T_CONSTANT_ENCAPSED_STRING","'original_hash'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","''",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'hash'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","''",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'source_row_status'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$status",102],"]",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","idMap",103],["T_WHITESPACE","\n      ",103],["T_OBJECT_OPERATOR","->",104],["T_STRING","expects",104],"(",["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","any",104],"(",")",")",["T_WHITESPACE","\n      ",104],["T_OBJECT_OPERATOR","->",105],["T_STRING","method",105],"(",["T_CONSTANT_ENCAPSED_STRING","'getRowBySource'",105],")",["T_WHITESPACE","\n      ",105],["T_OBJECT_OPERATOR","->",106],["T_STRING","willReturn",106],"(",["T_VARIABLE","$id_map_array",106],")",";",["T_WHITESPACE","\n\n    ",106],["T_VARIABLE","$constructor_args",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],"[",["T_VARIABLE","$configuration",108],",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'d6_action'",108],",",["T_WHITESPACE"," ",108],"[","]",",",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","migration",108],"]",";",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$methods",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],"[",["T_CONSTANT_ENCAPSED_STRING","'getModuleHandler'",109],",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'fields'",109],",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'getIds'",109],",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'__toString'",109],",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'prepareRow'",109],",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'initializeIterator'",109],"]",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$source_plugin",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getMock",110],"(",["T_STRING","SourcePluginBase",110],["T_DOUBLE_COLON","::",110],["T_CLASS","class",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$methods",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$constructor_args",110],")",";",["T_WHITESPACE","\n\n    ",110],["T_VARIABLE","$source_plugin",112],["T_WHITESPACE","\n      ",112],["T_OBJECT_OPERATOR","->",113],["T_STRING","method",113],"(",["T_CONSTANT_ENCAPSED_STRING","'fields'",113],")",["T_WHITESPACE","\n      ",113],["T_OBJECT_OPERATOR","->",114],["T_STRING","willReturn",114],"(","[","]",")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$source_plugin",115],["T_WHITESPACE","\n      ",115],["T_OBJECT_OPERATOR","->",116],["T_STRING","method",116],"(",["T_CONSTANT_ENCAPSED_STRING","'getIds'",116],")",["T_WHITESPACE","\n      ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","willReturn",117],"(","[","]",")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$source_plugin",118],["T_WHITESPACE","\n      ",118],["T_OBJECT_OPERATOR","->",119],["T_STRING","method",119],"(",["T_CONSTANT_ENCAPSED_STRING","'__toString'",119],")",["T_WHITESPACE","\n      ",119],["T_OBJECT_OPERATOR","->",120],["T_STRING","willReturn",120],"(",["T_CONSTANT_ENCAPSED_STRING","''",120],")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$source_plugin",121],["T_WHITESPACE","\n      ",121],["T_OBJECT_OPERATOR","->",122],["T_STRING","method",122],"(",["T_CONSTANT_ENCAPSED_STRING","'prepareRow'",122],")",["T_WHITESPACE","\n      ",122],["T_OBJECT_OPERATOR","->",123],["T_STRING","willReturn",123],"(",["T_EMPTY","empty",123],"(",["T_VARIABLE","$migrate_config",123],"[",["T_CONSTANT_ENCAPSED_STRING","'prepare_row_false'",123],"]",")",")",";",["T_WHITESPACE","\n\n    ",123],["T_VARIABLE","$rows",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],"[",["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","row",125],"]",";",["T_WHITESPACE","\n    ",125],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_ISSET","isset",126],"(",["T_VARIABLE","$configuration",126],"[",["T_CONSTANT_ENCAPSED_STRING","'high_water_property'",126],"]",")",["T_WHITESPACE"," ",126],["T_BOOLEAN_AND","&&",126],["T_WHITESPACE"," ",126],["T_ISSET","isset",126],"(",["T_VARIABLE","$high_water_value",126],")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n      ",126],["T_VARIABLE","$property",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$configuration",127],"[",["T_CONSTANT_ENCAPSED_STRING","'high_water_property'",127],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",127],"]",";",["T_WHITESPACE","\n      ",127],["T_VARIABLE","$rows",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_STRING","array_filter",128],"(",["T_VARIABLE","$rows",128],",",["T_WHITESPACE"," ",128],["T_FUNCTION","function",128],["T_WHITESPACE"," ",128],"(",["T_ARRAY","array",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$row",128],")",["T_WHITESPACE"," ",128],["T_USE","use",128],["T_WHITESPACE"," ",128],"(",["T_VARIABLE","$property",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$high_water_value",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n        ",128],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$row",129],"[",["T_VARIABLE","$property",129],"]",["T_WHITESPACE"," ",129],["T_IS_GREATER_OR_EQUAL",">=",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$high_water_value",129],";",["T_WHITESPACE","\n      ",129],"}",")",";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n    ",131],["T_VARIABLE","$iterator",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_NEW","new",132],["T_WHITESPACE"," ",132],["T_NS_SEPARATOR","\\",132],["T_STRING","ArrayIterator",132],"(",["T_VARIABLE","$rows",132],")",";",["T_WHITESPACE","\n\n    ",132],["T_VARIABLE","$source_plugin",134],["T_WHITESPACE","\n      ",134],["T_OBJECT_OPERATOR","->",135],["T_STRING","method",135],"(",["T_CONSTANT_ENCAPSED_STRING","'initializeIterator'",135],")",["T_WHITESPACE","\n      ",135],["T_OBJECT_OPERATOR","->",136],["T_STRING","willReturn",136],"(",["T_VARIABLE","$iterator",136],")",";",["T_WHITESPACE","\n\n    ",136],["T_VARIABLE","$module_handler",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getMock",138],"(",["T_STRING","ModuleHandlerInterface",138],["T_DOUBLE_COLON","::",138],["T_CLASS","class",138],")",";",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$source_plugin",139],["T_WHITESPACE","\n      ",139],["T_OBJECT_OPERATOR","->",140],["T_STRING","method",140],"(",["T_CONSTANT_ENCAPSED_STRING","'getModuleHandler'",140],")",["T_WHITESPACE","\n      ",140],["T_OBJECT_OPERATOR","->",141],["T_STRING","willReturn",141],"(",["T_VARIABLE","$module_handler",141],")",";",["T_WHITESPACE","\n\n    ",141],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","migration",143],["T_WHITESPACE","\n      ",143],["T_OBJECT_OPERATOR","->",144],["T_STRING","method",144],"(",["T_CONSTANT_ENCAPSED_STRING","'getSourcePlugin'",144],")",["T_WHITESPACE","\n      ",144],["T_OBJECT_OPERATOR","->",145],["T_STRING","willReturn",145],"(",["T_VARIABLE","$source_plugin",145],")",";",["T_WHITESPACE","\n\n    ",145],["T_RETURN","return",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$source_plugin",147],";",["T_WHITESPACE","\n  ",147],"}",["T_WHITESPACE","\n\n  ",148],["T_DOC_COMMENT","\/**\n   * @covers ::__construct\n   * @expectedException \\Drupal\\migrate\\MigrateException\n   *\/",150],["T_WHITESPACE","\n  ",153],["T_PUBLIC","public",154],["T_WHITESPACE"," ",154],["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],["T_STRING","testHighwaterTrackChangesIncompatible",154],"(",")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$source_config",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],"[",["T_CONSTANT_ENCAPSED_STRING","'track_changes'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_STRING","TRUE",155],",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'high_water_property'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'something'",155],"]","]",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getSource",156],"(",["T_VARIABLE","$source_config",156],")",";",["T_WHITESPACE","\n  ",156],"}",["T_WHITESPACE","\n\n  ",157],["T_DOC_COMMENT","\/**\n   * Test that the source count is correct.\n   *\n   * @covers ::count\n   *\/",159],["T_WHITESPACE","\n  ",163],["T_PUBLIC","public",164],["T_WHITESPACE"," ",164],["T_FUNCTION","function",164],["T_WHITESPACE"," ",164],["T_STRING","testCount",164],"(",")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n    ",164],["T_COMMENT","\/\/ Mock the cache to validate set() receives appropriate arguments.\n",165],["T_WHITESPACE","    ",166],["T_VARIABLE","$container",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_NEW","new",166],["T_WHITESPACE"," ",166],["T_STRING","ContainerBuilder",166],"(",")",";",["T_WHITESPACE","\n    ",166],["T_VARIABLE","$cache",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getMock",167],"(",["T_STRING","CacheBackendInterface",167],["T_DOUBLE_COLON","::",167],["T_CLASS","class",167],")",";",["T_WHITESPACE","\n    ",167],["T_VARIABLE","$cache",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","expects",168],"(",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","any",168],"(",")",")",["T_OBJECT_OPERATOR","->",168],["T_STRING","method",168],"(",["T_CONSTANT_ENCAPSED_STRING","'set'",168],")",["T_WHITESPACE","\n        ",168],["T_OBJECT_OPERATOR","->",169],["T_STRING","with",169],"(",["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","isType",169],"(",["T_CONSTANT_ENCAPSED_STRING","'string'",169],")",",",["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","isType",169],"(",["T_CONSTANT_ENCAPSED_STRING","'int'",169],")",",",["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","isType",169],"(",["T_CONSTANT_ENCAPSED_STRING","'int'",169],")",")",";",["T_WHITESPACE","\n    ",169],["T_VARIABLE","$container",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","set",170],"(",["T_CONSTANT_ENCAPSED_STRING","'cache.migrate'",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$cache",170],")",";",["T_WHITESPACE","\n    ",170],["T_NS_SEPARATOR","\\",171],["T_STRING","Drupal",171],["T_DOUBLE_COLON","::",171],["T_STRING","setContainer",171],"(",["T_VARIABLE","$container",171],")",";",["T_WHITESPACE","\n\n    ",171],["T_COMMENT","\/\/ Test that the basic count works.\n",173],["T_WHITESPACE","    ",174],["T_VARIABLE","$source",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getSource",174],"(",")",";",["T_WHITESPACE","\n    ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","assertEquals",175],"(",["T_LNUMBER","1",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$source",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","count",175],"(",")",")",";",["T_WHITESPACE","\n\n    ",175],["T_COMMENT","\/\/ Test caching the count works.\n",177],["T_WHITESPACE","    ",178],["T_VARIABLE","$source",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getSource",178],"(","[",["T_CONSTANT_ENCAPSED_STRING","'cache_counts'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_STRING","TRUE",178],"]",")",";",["T_WHITESPACE","\n    ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","assertEquals",179],"(",["T_LNUMBER","1",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$source",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","count",179],"(",")",")",";",["T_WHITESPACE","\n\n    ",179],["T_COMMENT","\/\/ Test the skip argument.\n",181],["T_WHITESPACE","    ",182],["T_VARIABLE","$source",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getSource",182],"(","[",["T_CONSTANT_ENCAPSED_STRING","'skip_count'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_STRING","TRUE",182],"]",")",";",["T_WHITESPACE","\n    ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","assertEquals",183],"(","-",["T_LNUMBER","1",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$source",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","count",183],"(",")",")",";",["T_WHITESPACE","\n\n    ",183],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","migrationConfiguration",185],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",185],"]",["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'test_migration'",185],";",["T_WHITESPACE","\n    ",185],["T_VARIABLE","$migration",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getMigration",186],"(",")",";",["T_WHITESPACE","\n    ",186],["T_VARIABLE","$source",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_NEW","new",187],["T_WHITESPACE"," ",187],["T_STRING","StubSourceGeneratorPlugin",187],"(","[","]",",",["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","''",187],",",["T_WHITESPACE"," ",187],"[","]",",",["T_WHITESPACE"," ",187],["T_VARIABLE","$migration",187],")",";",["T_WHITESPACE","\n\n    ",187],["T_COMMENT","\/\/ Test the skipCount property's default value.\n",189],["T_WHITESPACE","    ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","assertEquals",190],"(","-",["T_LNUMBER","1",190],",",["T_WHITESPACE"," ",190],["T_VARIABLE","$source",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","count",190],"(",")",")",";",["T_WHITESPACE","\n\n    ",190],["T_COMMENT","\/\/ Test the count value using a generator.\n",192],["T_WHITESPACE","    ",193],["T_VARIABLE","$source",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_NEW","new",193],["T_WHITESPACE"," ",193],["T_STRING","StubSourceGeneratorPlugin",193],"(","[",["T_CONSTANT_ENCAPSED_STRING","'skip_count'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_STRING","FALSE",193],"]",",",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","''",193],",",["T_WHITESPACE"," ",193],"[","]",",",["T_WHITESPACE"," ",193],["T_VARIABLE","$migration",193],")",";",["T_WHITESPACE","\n    ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","assertEquals",194],"(",["T_LNUMBER","3",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$source",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","count",194],"(",")",")",";",["T_WHITESPACE","\n  ",194],"}",["T_WHITESPACE","\n\n  ",195],["T_DOC_COMMENT","\/**\n   * Test that the key can be set for the count cache.\n   *\n   * @covers ::count\n   *\/",197],["T_WHITESPACE","\n  ",201],["T_PUBLIC","public",202],["T_WHITESPACE"," ",202],["T_FUNCTION","function",202],["T_WHITESPACE"," ",202],["T_STRING","testCountCacheKey",202],"(",")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n    ",202],["T_COMMENT","\/\/ Mock the cache to validate set() receives appropriate arguments.\n",203],["T_WHITESPACE","    ",204],["T_VARIABLE","$container",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_NEW","new",204],["T_WHITESPACE"," ",204],["T_STRING","ContainerBuilder",204],"(",")",";",["T_WHITESPACE","\n    ",204],["T_VARIABLE","$cache",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","getMock",205],"(",["T_STRING","CacheBackendInterface",205],["T_DOUBLE_COLON","::",205],["T_CLASS","class",205],")",";",["T_WHITESPACE","\n    ",205],["T_VARIABLE","$cache",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","expects",206],"(",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","any",206],"(",")",")",["T_OBJECT_OPERATOR","->",206],["T_STRING","method",206],"(",["T_CONSTANT_ENCAPSED_STRING","'set'",206],")",["T_WHITESPACE","\n        ",206],["T_OBJECT_OPERATOR","->",207],["T_STRING","with",207],"(",["T_CONSTANT_ENCAPSED_STRING","'test_key'",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","isType",207],"(",["T_CONSTANT_ENCAPSED_STRING","'int'",207],")",",",["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","isType",207],"(",["T_CONSTANT_ENCAPSED_STRING","'int'",207],")",")",";",["T_WHITESPACE","\n    ",207],["T_VARIABLE","$container",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","set",208],"(",["T_CONSTANT_ENCAPSED_STRING","'cache.migrate'",208],",",["T_WHITESPACE"," ",208],["T_VARIABLE","$cache",208],")",";",["T_WHITESPACE","\n    ",208],["T_NS_SEPARATOR","\\",209],["T_STRING","Drupal",209],["T_DOUBLE_COLON","::",209],["T_STRING","setContainer",209],"(",["T_VARIABLE","$container",209],")",";",["T_WHITESPACE","\n\n    ",209],["T_COMMENT","\/\/ Test caching the count with a configured key works.\n",211],["T_WHITESPACE","    ",212],["T_VARIABLE","$source",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getSource",212],"(","[",["T_CONSTANT_ENCAPSED_STRING","'cache_counts'",212],["T_WHITESPACE"," ",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],["T_STRING","TRUE",212],",",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'cache_key'",212],["T_WHITESPACE"," ",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'test_key'",212],"]",")",";",["T_WHITESPACE","\n    ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","assertEquals",213],"(",["T_LNUMBER","1",213],",",["T_WHITESPACE"," ",213],["T_VARIABLE","$source",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","count",213],"(",")",")",";",["T_WHITESPACE","\n  ",213],"}",["T_WHITESPACE","\n\n  ",214],["T_DOC_COMMENT","\/**\n   * Test that we don't get a row if prepareRow() is false.\n   *\/",216],["T_WHITESPACE","\n  ",218],["T_PUBLIC","public",219],["T_WHITESPACE"," ",219],["T_FUNCTION","function",219],["T_WHITESPACE"," ",219],["T_STRING","testPrepareRowFalse",219],"(",")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n    ",219],["T_VARIABLE","$source",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","getSource",220],"(","[","]",",",["T_WHITESPACE"," ",220],"[",["T_CONSTANT_ENCAPSED_STRING","'prepare_row_false'",220],["T_WHITESPACE"," ",220],["T_DOUBLE_ARROW","=>",220],["T_WHITESPACE"," ",220],["T_STRING","TRUE",220],"]",")",";",["T_WHITESPACE","\n\n    ",220],["T_VARIABLE","$source",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","rewind",222],"(",")",";",["T_WHITESPACE","\n    ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","assertNull",223],"(",["T_VARIABLE","$source",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","current",223],"(",")",",",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'No row is available when prepareRow() is false.'",223],")",";",["T_WHITESPACE","\n  ",223],"}",["T_WHITESPACE","\n\n  ",224],["T_DOC_COMMENT","\/**\n   * Test that $row->needsUpdate() works as expected.\n   *\/",226],["T_WHITESPACE","\n  ",228],["T_PUBLIC","public",229],["T_WHITESPACE"," ",229],["T_FUNCTION","function",229],["T_WHITESPACE"," ",229],["T_STRING","testNextNeedsUpdate",229],"(",")",["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n    ",229],["T_VARIABLE","$source",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","getSource",230],"(",")",";",["T_WHITESPACE","\n\n    ",230],["T_COMMENT","\/\/ $row->needsUpdate() === TRUE so we get a row.\n",232],["T_WHITESPACE","    ",233],["T_VARIABLE","$source",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","rewind",233],"(",")",";",["T_WHITESPACE","\n    ",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","assertTrue",234],"(",["T_STRING","is_a",234],"(",["T_VARIABLE","$source",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","current",234],"(",")",",",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\migrate\\Row'",234],")",",",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'$row->needsUpdate() is TRUE so we got a row.'",234],")",";",["T_WHITESPACE","\n\n    ",234],["T_COMMENT","\/\/ Test that we don't get a row when the incoming row is marked as imported.\n",236],["T_WHITESPACE","    ",237],["T_VARIABLE","$source",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","getSource",237],"(","[","]",",",["T_WHITESPACE"," ",237],"[","]",",",["T_WHITESPACE"," ",237],["T_STRING","MigrateIdMapInterface",237],["T_DOUBLE_COLON","::",237],["T_STRING","STATUS_IMPORTED",237],")",";",["T_WHITESPACE","\n    ",237],["T_VARIABLE","$source",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","rewind",238],"(",")",";",["T_WHITESPACE","\n    ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","assertNull",239],"(",["T_VARIABLE","$source",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","current",239],"(",")",",",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'Row was already imported, should be NULL'",239],")",";",["T_WHITESPACE","\n  ",239],"}",["T_WHITESPACE","\n\n  ",240],["T_DOC_COMMENT","\/**\n   * Test that an outdated highwater mark does not cause a row to be imported.\n   *\/",242],["T_WHITESPACE","\n  ",244],["T_PUBLIC","public",245],["T_WHITESPACE"," ",245],["T_FUNCTION","function",245],["T_WHITESPACE"," ",245],["T_STRING","testOutdatedHighwater",245],"(",")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n    ",245],["T_VARIABLE","$configuration",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],"[",["T_WHITESPACE","\n      ",246],["T_CONSTANT_ENCAPSED_STRING","'high_water_property'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],"[",["T_WHITESPACE","\n        ",247],["T_CONSTANT_ENCAPSED_STRING","'name'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",248],",",["T_WHITESPACE","\n      ",248],"]",",",["T_WHITESPACE","\n    ",249],"]",";",["T_WHITESPACE","\n    ",250],["T_VARIABLE","$source",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getSource",251],"(",["T_VARIABLE","$configuration",251],",",["T_WHITESPACE"," ",251],"[","]",",",["T_WHITESPACE"," ",251],["T_STRING","MigrateIdMapInterface",251],["T_DOUBLE_COLON","::",251],["T_STRING","STATUS_IMPORTED",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","row",251],"[",["T_CONSTANT_ENCAPSED_STRING","'timestamp'",251],"]",["T_WHITESPACE"," ",251],"+",["T_WHITESPACE"," ",251],["T_LNUMBER","1",251],")",";",["T_WHITESPACE","\n\n    ",251],["T_COMMENT","\/\/ The current highwater mark is now higher than the row timestamp so no row\n",253],["T_WHITESPACE","    ",254],["T_COMMENT","\/\/ is expected.\n",254],["T_WHITESPACE","    ",255],["T_VARIABLE","$source",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","rewind",255],"(",")",";",["T_WHITESPACE","\n    ",255],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","assertNull",256],"(",["T_VARIABLE","$source",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","current",256],"(",")",",",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'Original highwater mark is higher than incoming row timestamp.'",256],")",";",["T_WHITESPACE","\n  ",256],"}",["T_WHITESPACE","\n\n  ",257],["T_DOC_COMMENT","\/**\n   * Test that a highwater mark newer than our saved one imports a row.\n   *\n   * @throws \\Exception\n   *\/",259],["T_WHITESPACE","\n  ",263],["T_PUBLIC","public",264],["T_WHITESPACE"," ",264],["T_FUNCTION","function",264],["T_WHITESPACE"," ",264],["T_STRING","testNewHighwater",264],"(",")",["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n    ",264],["T_VARIABLE","$configuration",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],"[",["T_WHITESPACE","\n      ",265],["T_CONSTANT_ENCAPSED_STRING","'high_water_property'",266],["T_WHITESPACE"," ",266],["T_DOUBLE_ARROW","=>",266],["T_WHITESPACE"," ",266],"[",["T_WHITESPACE","\n        ",266],["T_CONSTANT_ENCAPSED_STRING","'name'",267],["T_WHITESPACE"," ",267],["T_DOUBLE_ARROW","=>",267],["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",267],",",["T_WHITESPACE","\n      ",267],"]",",",["T_WHITESPACE","\n    ",268],"]",";",["T_WHITESPACE","\n    ",269],["T_COMMENT","\/\/ Set a highwater property field for source. Now we should have a row\n",270],["T_WHITESPACE","    ",271],["T_COMMENT","\/\/ because the row timestamp is greater than the current highwater mark.\n",271],["T_WHITESPACE","    ",272],["T_VARIABLE","$source",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","getSource",272],"(",["T_VARIABLE","$configuration",272],",",["T_WHITESPACE"," ",272],"[","]",",",["T_WHITESPACE"," ",272],["T_STRING","MigrateIdMapInterface",272],["T_DOUBLE_COLON","::",272],["T_STRING","STATUS_IMPORTED",272],",",["T_WHITESPACE"," ",272],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","row",272],"[",["T_CONSTANT_ENCAPSED_STRING","'timestamp'",272],"]",["T_WHITESPACE"," ",272],"-",["T_WHITESPACE"," ",272],["T_LNUMBER","1",272],")",";",["T_WHITESPACE","\n\n    ",272],["T_VARIABLE","$source",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","rewind",274],"(",")",";",["T_WHITESPACE","\n    ",274],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","assertInstanceOf",275],"(",["T_STRING","Row",275],["T_DOUBLE_COLON","::",275],["T_CLASS","class",275],",",["T_WHITESPACE"," ",275],["T_VARIABLE","$source",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","current",275],"(",")",",",["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'Incoming row timestamp is greater than current highwater mark so we have a row.'",275],")",";",["T_WHITESPACE","\n  ",275],"}",["T_WHITESPACE","\n\n  ",276],["T_DOC_COMMENT","\/**\n   * Test basic row preparation.\n   *\n   * @covers ::prepareRow\n   *\/",278],["T_WHITESPACE","\n  ",282],["T_PUBLIC","public",283],["T_WHITESPACE"," ",283],["T_FUNCTION","function",283],["T_WHITESPACE"," ",283],["T_STRING","testPrepareRow",283],"(",")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n    ",283],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","migrationConfiguration",284],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",284],"]",["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'test_migration'",284],";",["T_WHITESPACE","\n\n    ",284],["T_COMMENT","\/\/ Get a new migration with an id.\n",286],["T_WHITESPACE","    ",287],["T_VARIABLE","$migration",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","getMigration",287],"(",")",";",["T_WHITESPACE","\n    ",287],["T_VARIABLE","$source",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_NEW","new",288],["T_WHITESPACE"," ",288],["T_STRING","StubSourcePlugin",288],"(","[","]",",",["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","''",288],",",["T_WHITESPACE"," ",288],"[","]",",",["T_WHITESPACE"," ",288],["T_VARIABLE","$migration",288],")",";",["T_WHITESPACE","\n    ",288],["T_VARIABLE","$row",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_NEW","new",289],["T_WHITESPACE"," ",289],["T_STRING","Row",289],"(",")",";",["T_WHITESPACE","\n\n    ",289],["T_VARIABLE","$module_handler",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","prophesize",291],"(",["T_STRING","ModuleHandlerInterface",291],["T_DOUBLE_COLON","::",291],["T_CLASS","class",291],")",";",["T_WHITESPACE","\n    ",291],["T_VARIABLE","$module_handler",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","invokeAll",292],"(",["T_CONSTANT_ENCAPSED_STRING","'migrate_prepare_row'",292],",",["T_WHITESPACE"," ",292],"[",["T_VARIABLE","$row",292],",",["T_WHITESPACE"," ",292],["T_VARIABLE","$source",292],",",["T_WHITESPACE"," ",292],["T_VARIABLE","$migration",292],"]",")",["T_WHITESPACE","\n      ",292],["T_OBJECT_OPERATOR","->",293],["T_STRING","willReturn",293],"(","[",["T_STRING","TRUE",293],",",["T_WHITESPACE"," ",293],["T_STRING","TRUE",293],"]",")",["T_WHITESPACE","\n      ",293],["T_OBJECT_OPERATOR","->",294],["T_STRING","shouldBeCalled",294],"(",")",";",["T_WHITESPACE","\n    ",294],["T_VARIABLE","$module_handler",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","invokeAll",295],"(",["T_CONSTANT_ENCAPSED_STRING","'migrate_'",295],["T_WHITESPACE"," ",295],".",["T_WHITESPACE"," ",295],["T_VARIABLE","$migration",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","id",295],"(",")",["T_WHITESPACE"," ",295],".",["T_WHITESPACE"," ",295],["T_CONSTANT_ENCAPSED_STRING","'_prepare_row'",295],",",["T_WHITESPACE"," ",295],"[",["T_VARIABLE","$row",295],",",["T_WHITESPACE"," ",295],["T_VARIABLE","$source",295],",",["T_WHITESPACE"," ",295],["T_VARIABLE","$migration",295],"]",")",["T_WHITESPACE","\n      ",295],["T_OBJECT_OPERATOR","->",296],["T_STRING","willReturn",296],"(","[",["T_STRING","TRUE",296],",",["T_WHITESPACE"," ",296],["T_STRING","TRUE",296],"]",")",["T_WHITESPACE","\n      ",296],["T_OBJECT_OPERATOR","->",297],["T_STRING","shouldBeCalled",297],"(",")",";",["T_WHITESPACE","\n    ",297],["T_VARIABLE","$source",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","setModuleHandler",298],"(",["T_VARIABLE","$module_handler",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","reveal",298],"(",")",")",";",["T_WHITESPACE","\n\n    ",298],["T_COMMENT","\/\/ Ensure we don't log this to the mapping table.\n",300],["T_WHITESPACE","    ",301],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","idMap",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","expects",301],"(",["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","never",301],"(",")",")",["T_WHITESPACE","\n      ",301],["T_OBJECT_OPERATOR","->",302],["T_STRING","method",302],"(",["T_CONSTANT_ENCAPSED_STRING","'saveIdMapping'",302],")",";",["T_WHITESPACE","\n\n    ",302],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","assertTrue",304],"(",["T_VARIABLE","$source",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","prepareRow",304],"(",["T_VARIABLE","$row",304],")",")",";",["T_WHITESPACE","\n\n    ",304],["T_COMMENT","\/\/ Track_changes...\n",306],["T_WHITESPACE","    ",307],["T_VARIABLE","$source",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_NEW","new",307],["T_WHITESPACE"," ",307],["T_STRING","StubSourcePlugin",307],"(","[",["T_CONSTANT_ENCAPSED_STRING","'track_changes'",307],["T_WHITESPACE"," ",307],["T_DOUBLE_ARROW","=>",307],["T_WHITESPACE"," ",307],["T_STRING","TRUE",307],"]",",",["T_WHITESPACE"," ",307],["T_CONSTANT_ENCAPSED_STRING","''",307],",",["T_WHITESPACE"," ",307],"[","]",",",["T_WHITESPACE"," ",307],["T_VARIABLE","$migration",307],")",";",["T_WHITESPACE","\n    ",307],["T_VARIABLE","$row2",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","prophesize",308],"(",["T_STRING","Row",308],["T_DOUBLE_COLON","::",308],["T_CLASS","class",308],")",";",["T_WHITESPACE","\n    ",308],["T_VARIABLE","$row2",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","rehash",309],"(",")",["T_WHITESPACE","\n      ",309],["T_OBJECT_OPERATOR","->",310],["T_STRING","shouldBeCalled",310],"(",")",";",["T_WHITESPACE","\n    ",310],["T_VARIABLE","$module_handler",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","invokeAll",311],"(",["T_CONSTANT_ENCAPSED_STRING","'migrate_prepare_row'",311],",",["T_WHITESPACE"," ",311],"[",["T_VARIABLE","$row2",311],",",["T_WHITESPACE"," ",311],["T_VARIABLE","$source",311],",",["T_WHITESPACE"," ",311],["T_VARIABLE","$migration",311],"]",")",["T_WHITESPACE","\n      ",311],["T_OBJECT_OPERATOR","->",312],["T_STRING","willReturn",312],"(","[",["T_STRING","TRUE",312],",",["T_WHITESPACE"," ",312],["T_STRING","TRUE",312],"]",")",["T_WHITESPACE","\n      ",312],["T_OBJECT_OPERATOR","->",313],["T_STRING","shouldBeCalled",313],"(",")",";",["T_WHITESPACE","\n    ",313],["T_VARIABLE","$module_handler",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","invokeAll",314],"(",["T_CONSTANT_ENCAPSED_STRING","'migrate_'",314],["T_WHITESPACE"," ",314],".",["T_WHITESPACE"," ",314],["T_VARIABLE","$migration",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","id",314],"(",")",["T_WHITESPACE"," ",314],".",["T_WHITESPACE"," ",314],["T_CONSTANT_ENCAPSED_STRING","'_prepare_row'",314],",",["T_WHITESPACE"," ",314],"[",["T_VARIABLE","$row2",314],",",["T_WHITESPACE"," ",314],["T_VARIABLE","$source",314],",",["T_WHITESPACE"," ",314],["T_VARIABLE","$migration",314],"]",")",["T_WHITESPACE","\n      ",314],["T_OBJECT_OPERATOR","->",315],["T_STRING","willReturn",315],"(","[",["T_STRING","TRUE",315],",",["T_WHITESPACE"," ",315],["T_STRING","TRUE",315],"]",")",["T_WHITESPACE","\n      ",315],["T_OBJECT_OPERATOR","->",316],["T_STRING","shouldBeCalled",316],"(",")",";",["T_WHITESPACE","\n    ",316],["T_VARIABLE","$source",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","setModuleHandler",317],"(",["T_VARIABLE","$module_handler",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","reveal",317],"(",")",")",";",["T_WHITESPACE","\n    ",317],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","assertTrue",318],"(",["T_VARIABLE","$source",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","prepareRow",318],"(",["T_VARIABLE","$row2",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","reveal",318],"(",")",")",")",";",["T_WHITESPACE","\n  ",318],"}",["T_WHITESPACE","\n\n  ",319],["T_DOC_COMMENT","\/**\n   * Test that global prepare hooks can skip rows.\n   *\n   * @covers ::prepareRow\n   *\/",321],["T_WHITESPACE","\n  ",325],["T_PUBLIC","public",326],["T_WHITESPACE"," ",326],["T_FUNCTION","function",326],["T_WHITESPACE"," ",326],["T_STRING","testPrepareRowGlobalPrepareSkip",326],"(",")",["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n    ",326],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","migrationConfiguration",327],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",327],"]",["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_CONSTANT_ENCAPSED_STRING","'test_migration'",327],";",["T_WHITESPACE","\n\n    ",327],["T_VARIABLE","$migration",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","getMigration",329],"(",")",";",["T_WHITESPACE","\n    ",329],["T_VARIABLE","$source",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_NEW","new",330],["T_WHITESPACE"," ",330],["T_STRING","StubSourcePlugin",330],"(","[","]",",",["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","''",330],",",["T_WHITESPACE"," ",330],"[","]",",",["T_WHITESPACE"," ",330],["T_VARIABLE","$migration",330],")",";",["T_WHITESPACE","\n    ",330],["T_VARIABLE","$row",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_NEW","new",331],["T_WHITESPACE"," ",331],["T_STRING","Row",331],"(",")",";",["T_WHITESPACE","\n\n    ",331],["T_VARIABLE","$module_handler",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","prophesize",333],"(",["T_STRING","ModuleHandlerInterface",333],["T_DOUBLE_COLON","::",333],["T_CLASS","class",333],")",";",["T_WHITESPACE","\n    ",333],["T_COMMENT","\/\/ Return a failure from a prepare row hook.\n",334],["T_WHITESPACE","    ",335],["T_VARIABLE","$module_handler",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","invokeAll",335],"(",["T_CONSTANT_ENCAPSED_STRING","'migrate_prepare_row'",335],",",["T_WHITESPACE"," ",335],"[",["T_VARIABLE","$row",335],",",["T_WHITESPACE"," ",335],["T_VARIABLE","$source",335],",",["T_WHITESPACE"," ",335],["T_VARIABLE","$migration",335],"]",")",["T_WHITESPACE","\n      ",335],["T_OBJECT_OPERATOR","->",336],["T_STRING","willReturn",336],"(","[",["T_STRING","TRUE",336],",",["T_WHITESPACE"," ",336],["T_STRING","FALSE",336],",",["T_WHITESPACE"," ",336],["T_STRING","TRUE",336],"]",")",["T_WHITESPACE","\n      ",336],["T_OBJECT_OPERATOR","->",337],["T_STRING","shouldBeCalled",337],"(",")",";",["T_WHITESPACE","\n    ",337],["T_VARIABLE","$module_handler",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","invokeAll",338],"(",["T_CONSTANT_ENCAPSED_STRING","'migrate_'",338],["T_WHITESPACE"," ",338],".",["T_WHITESPACE"," ",338],["T_VARIABLE","$migration",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","id",338],"(",")",["T_WHITESPACE"," ",338],".",["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","'_prepare_row'",338],",",["T_WHITESPACE"," ",338],"[",["T_VARIABLE","$row",338],",",["T_WHITESPACE"," ",338],["T_VARIABLE","$source",338],",",["T_WHITESPACE"," ",338],["T_VARIABLE","$migration",338],"]",")",["T_WHITESPACE","\n      ",338],["T_OBJECT_OPERATOR","->",339],["T_STRING","willReturn",339],"(","[",["T_STRING","TRUE",339],",",["T_WHITESPACE"," ",339],["T_STRING","TRUE",339],"]",")",["T_WHITESPACE","\n      ",339],["T_OBJECT_OPERATOR","->",340],["T_STRING","shouldBeCalled",340],"(",")",";",["T_WHITESPACE","\n    ",340],["T_VARIABLE","$source",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","setModuleHandler",341],"(",["T_VARIABLE","$module_handler",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","reveal",341],"(",")",")",";",["T_WHITESPACE","\n\n    ",341],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","idMap",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","expects",343],"(",["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","once",343],"(",")",")",["T_WHITESPACE","\n      ",343],["T_OBJECT_OPERATOR","->",344],["T_STRING","method",344],"(",["T_CONSTANT_ENCAPSED_STRING","'saveIdMapping'",344],")",["T_WHITESPACE","\n      ",344],["T_OBJECT_OPERATOR","->",345],["T_STRING","with",345],"(",["T_VARIABLE","$row",345],",",["T_WHITESPACE"," ",345],"[","]",",",["T_WHITESPACE"," ",345],["T_STRING","MigrateIdMapInterface",345],["T_DOUBLE_COLON","::",345],["T_STRING","STATUS_IGNORED",345],")",";",["T_WHITESPACE","\n\n    ",345],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","assertFalse",347],"(",["T_VARIABLE","$source",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","prepareRow",347],"(",["T_VARIABLE","$row",347],")",")",";",["T_WHITESPACE","\n  ",347],"}",["T_WHITESPACE","\n\n  ",348],["T_DOC_COMMENT","\/**\n   * Test that migrate specific prepare hooks can skip rows.\n   *\n   * @covers ::prepareRow\n   *\/",350],["T_WHITESPACE","\n  ",354],["T_PUBLIC","public",355],["T_WHITESPACE"," ",355],["T_FUNCTION","function",355],["T_WHITESPACE"," ",355],["T_STRING","testPrepareRowMigratePrepareSkip",355],"(",")",["T_WHITESPACE"," ",355],"{",["T_WHITESPACE","\n    ",355],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","migrationConfiguration",356],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",356],"]",["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'test_migration'",356],";",["T_WHITESPACE","\n\n    ",356],["T_VARIABLE","$migration",358],["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","getMigration",358],"(",")",";",["T_WHITESPACE","\n    ",358],["T_VARIABLE","$source",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_NEW","new",359],["T_WHITESPACE"," ",359],["T_STRING","StubSourcePlugin",359],"(","[","]",",",["T_WHITESPACE"," ",359],["T_CONSTANT_ENCAPSED_STRING","''",359],",",["T_WHITESPACE"," ",359],"[","]",",",["T_WHITESPACE"," ",359],["T_VARIABLE","$migration",359],")",";",["T_WHITESPACE","\n    ",359],["T_VARIABLE","$row",360],["T_WHITESPACE"," ",360],"=",["T_WHITESPACE"," ",360],["T_NEW","new",360],["T_WHITESPACE"," ",360],["T_STRING","Row",360],"(",")",";",["T_WHITESPACE","\n\n    ",360],["T_VARIABLE","$module_handler",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","prophesize",362],"(",["T_STRING","ModuleHandlerInterface",362],["T_DOUBLE_COLON","::",362],["T_CLASS","class",362],")",";",["T_WHITESPACE","\n    ",362],["T_COMMENT","\/\/ Return a failure from a prepare row hook.\n",363],["T_WHITESPACE","    ",364],["T_VARIABLE","$module_handler",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","invokeAll",364],"(",["T_CONSTANT_ENCAPSED_STRING","'migrate_prepare_row'",364],",",["T_WHITESPACE"," ",364],"[",["T_VARIABLE","$row",364],",",["T_WHITESPACE"," ",364],["T_VARIABLE","$source",364],",",["T_WHITESPACE"," ",364],["T_VARIABLE","$migration",364],"]",")",["T_WHITESPACE","\n      ",364],["T_OBJECT_OPERATOR","->",365],["T_STRING","willReturn",365],"(","[",["T_STRING","TRUE",365],",",["T_WHITESPACE"," ",365],["T_STRING","TRUE",365],"]",")",["T_WHITESPACE","\n      ",365],["T_OBJECT_OPERATOR","->",366],["T_STRING","shouldBeCalled",366],"(",")",";",["T_WHITESPACE","\n    ",366],["T_VARIABLE","$module_handler",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","invokeAll",367],"(",["T_CONSTANT_ENCAPSED_STRING","'migrate_'",367],["T_WHITESPACE"," ",367],".",["T_WHITESPACE"," ",367],["T_VARIABLE","$migration",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","id",367],"(",")",["T_WHITESPACE"," ",367],".",["T_WHITESPACE"," ",367],["T_CONSTANT_ENCAPSED_STRING","'_prepare_row'",367],",",["T_WHITESPACE"," ",367],"[",["T_VARIABLE","$row",367],",",["T_WHITESPACE"," ",367],["T_VARIABLE","$source",367],",",["T_WHITESPACE"," ",367],["T_VARIABLE","$migration",367],"]",")",["T_WHITESPACE","\n      ",367],["T_OBJECT_OPERATOR","->",368],["T_STRING","willReturn",368],"(","[",["T_STRING","TRUE",368],",",["T_WHITESPACE"," ",368],["T_STRING","FALSE",368],",",["T_WHITESPACE"," ",368],["T_STRING","TRUE",368],"]",")",["T_WHITESPACE","\n      ",368],["T_OBJECT_OPERATOR","->",369],["T_STRING","shouldBeCalled",369],"(",")",";",["T_WHITESPACE","\n    ",369],["T_VARIABLE","$source",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","setModuleHandler",370],"(",["T_VARIABLE","$module_handler",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","reveal",370],"(",")",")",";",["T_WHITESPACE","\n\n    ",370],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","idMap",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","expects",372],"(",["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","once",372],"(",")",")",["T_WHITESPACE","\n      ",372],["T_OBJECT_OPERATOR","->",373],["T_STRING","method",373],"(",["T_CONSTANT_ENCAPSED_STRING","'saveIdMapping'",373],")",["T_WHITESPACE","\n      ",373],["T_OBJECT_OPERATOR","->",374],["T_STRING","with",374],"(",["T_VARIABLE","$row",374],",",["T_WHITESPACE"," ",374],"[","]",",",["T_WHITESPACE"," ",374],["T_STRING","MigrateIdMapInterface",374],["T_DOUBLE_COLON","::",374],["T_STRING","STATUS_IGNORED",374],")",";",["T_WHITESPACE","\n\n    ",374],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","assertFalse",376],"(",["T_VARIABLE","$source",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","prepareRow",376],"(",["T_VARIABLE","$row",376],")",")",";",["T_WHITESPACE","\n  ",376],"}",["T_WHITESPACE","\n\n  ",377],["T_DOC_COMMENT","\/**\n   * Test that a skip exception during prepare hooks correctly skips.\n   *\n   * @covers ::prepareRow\n   *\/",379],["T_WHITESPACE","\n  ",383],["T_PUBLIC","public",384],["T_WHITESPACE"," ",384],["T_FUNCTION","function",384],["T_WHITESPACE"," ",384],["T_STRING","testPrepareRowPrepareException",384],"(",")",["T_WHITESPACE"," ",384],"{",["T_WHITESPACE","\n    ",384],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","migrationConfiguration",385],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",385],"]",["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_CONSTANT_ENCAPSED_STRING","'test_migration'",385],";",["T_WHITESPACE","\n\n    ",385],["T_VARIABLE","$migration",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","getMigration",387],"(",")",";",["T_WHITESPACE","\n    ",387],["T_VARIABLE","$source",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_NEW","new",388],["T_WHITESPACE"," ",388],["T_STRING","StubSourcePlugin",388],"(","[","]",",",["T_WHITESPACE"," ",388],["T_CONSTANT_ENCAPSED_STRING","''",388],",",["T_WHITESPACE"," ",388],"[","]",",",["T_WHITESPACE"," ",388],["T_VARIABLE","$migration",388],")",";",["T_WHITESPACE","\n    ",388],["T_VARIABLE","$row",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_NEW","new",389],["T_WHITESPACE"," ",389],["T_STRING","Row",389],"(",")",";",["T_WHITESPACE","\n\n    ",389],["T_VARIABLE","$module_handler",391],["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","prophesize",391],"(",["T_STRING","ModuleHandlerInterface",391],["T_DOUBLE_COLON","::",391],["T_CLASS","class",391],")",";",["T_WHITESPACE","\n    ",391],["T_COMMENT","\/\/ Return a failure from a prepare row hook.\n",392],["T_WHITESPACE","    ",393],["T_VARIABLE","$module_handler",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","invokeAll",393],"(",["T_CONSTANT_ENCAPSED_STRING","'migrate_prepare_row'",393],",",["T_WHITESPACE"," ",393],"[",["T_VARIABLE","$row",393],",",["T_WHITESPACE"," ",393],["T_VARIABLE","$source",393],",",["T_WHITESPACE"," ",393],["T_VARIABLE","$migration",393],"]",")",["T_WHITESPACE","\n      ",393],["T_OBJECT_OPERATOR","->",394],["T_STRING","willReturn",394],"(","[",["T_STRING","TRUE",394],",",["T_WHITESPACE"," ",394],["T_STRING","TRUE",394],"]",")",["T_WHITESPACE","\n      ",394],["T_OBJECT_OPERATOR","->",395],["T_STRING","shouldBeCalled",395],"(",")",";",["T_WHITESPACE","\n    ",395],["T_VARIABLE","$module_handler",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","invokeAll",396],"(",["T_CONSTANT_ENCAPSED_STRING","'migrate_'",396],["T_WHITESPACE"," ",396],".",["T_WHITESPACE"," ",396],["T_VARIABLE","$migration",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","id",396],"(",")",["T_WHITESPACE"," ",396],".",["T_WHITESPACE"," ",396],["T_CONSTANT_ENCAPSED_STRING","'_prepare_row'",396],",",["T_WHITESPACE"," ",396],"[",["T_VARIABLE","$row",396],",",["T_WHITESPACE"," ",396],["T_VARIABLE","$source",396],",",["T_WHITESPACE"," ",396],["T_VARIABLE","$migration",396],"]",")",["T_WHITESPACE","\n      ",396],["T_OBJECT_OPERATOR","->",397],["T_STRING","willThrow",397],"(",["T_NEW","new",397],["T_WHITESPACE"," ",397],["T_STRING","MigrateSkipRowException",397],"(",")",")",["T_WHITESPACE","\n      ",397],["T_OBJECT_OPERATOR","->",398],["T_STRING","shouldBeCalled",398],"(",")",";",["T_WHITESPACE","\n    ",398],["T_VARIABLE","$source",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","setModuleHandler",399],"(",["T_VARIABLE","$module_handler",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","reveal",399],"(",")",")",";",["T_WHITESPACE","\n\n    ",399],["T_COMMENT","\/\/ This will only be called on the first prepare because the second\n",401],["T_WHITESPACE","    ",402],["T_COMMENT","\/\/ explicitly avoids it.\n",402],["T_WHITESPACE","    ",403],["T_VARIABLE","$this",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","idMap",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","expects",403],"(",["T_VARIABLE","$this",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","once",403],"(",")",")",["T_WHITESPACE","\n      ",403],["T_OBJECT_OPERATOR","->",404],["T_STRING","method",404],"(",["T_CONSTANT_ENCAPSED_STRING","'saveIdMapping'",404],")",["T_WHITESPACE","\n      ",404],["T_OBJECT_OPERATOR","->",405],["T_STRING","with",405],"(",["T_VARIABLE","$row",405],",",["T_WHITESPACE"," ",405],"[","]",",",["T_WHITESPACE"," ",405],["T_STRING","MigrateIdMapInterface",405],["T_DOUBLE_COLON","::",405],["T_STRING","STATUS_IGNORED",405],")",";",["T_WHITESPACE","\n    ",405],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","assertFalse",406],"(",["T_VARIABLE","$source",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","prepareRow",406],"(",["T_VARIABLE","$row",406],")",")",";",["T_WHITESPACE","\n\n    ",406],["T_COMMENT","\/\/ Throw an exception the second time that avoids mapping.\n",408],["T_WHITESPACE","    ",409],["T_VARIABLE","$e",409],["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_NEW","new",409],["T_WHITESPACE"," ",409],["T_STRING","MigrateSkipRowException",409],"(",["T_CONSTANT_ENCAPSED_STRING","''",409],",",["T_WHITESPACE"," ",409],["T_STRING","FALSE",409],")",";",["T_WHITESPACE","\n    ",409],["T_VARIABLE","$module_handler",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","invokeAll",410],"(",["T_CONSTANT_ENCAPSED_STRING","'migrate_'",410],["T_WHITESPACE"," ",410],".",["T_WHITESPACE"," ",410],["T_VARIABLE","$migration",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","id",410],"(",")",["T_WHITESPACE"," ",410],".",["T_WHITESPACE"," ",410],["T_CONSTANT_ENCAPSED_STRING","'_prepare_row'",410],",",["T_WHITESPACE"," ",410],"[",["T_VARIABLE","$row",410],",",["T_WHITESPACE"," ",410],["T_VARIABLE","$source",410],",",["T_WHITESPACE"," ",410],["T_VARIABLE","$migration",410],"]",")",["T_WHITESPACE","\n      ",410],["T_OBJECT_OPERATOR","->",411],["T_STRING","willThrow",411],"(",["T_VARIABLE","$e",411],")",["T_WHITESPACE","\n      ",411],["T_OBJECT_OPERATOR","->",412],["T_STRING","shouldBeCalled",412],"(",")",";",["T_WHITESPACE","\n    ",412],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","assertFalse",413],"(",["T_VARIABLE","$source",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","prepareRow",413],"(",["T_VARIABLE","$row",413],")",")",";",["T_WHITESPACE","\n  ",413],"}",["T_WHITESPACE","\n\n  ",414],["T_DOC_COMMENT","\/**\n   * Test that cacheCounts, skipCount, trackChanges preserve their default\n   * values.\n   *\/",416],["T_WHITESPACE","\n  ",419],["T_PUBLIC","public",420],["T_WHITESPACE"," ",420],["T_FUNCTION","function",420],["T_WHITESPACE"," ",420],["T_STRING","testDefaultPropertiesValues",420],"(",")",["T_WHITESPACE"," ",420],"{",["T_WHITESPACE","\n    ",420],["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","migrationConfiguration",421],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",421],"]",["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_CONSTANT_ENCAPSED_STRING","'test_migration'",421],";",["T_WHITESPACE","\n    ",421],["T_VARIABLE","$migration",422],["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","getMigration",422],"(",")",";",["T_WHITESPACE","\n    ",422],["T_VARIABLE","$source",423],["T_WHITESPACE"," ",423],"=",["T_WHITESPACE"," ",423],["T_NEW","new",423],["T_WHITESPACE"," ",423],["T_STRING","StubSourceGeneratorPlugin",423],"(","[","]",",",["T_WHITESPACE"," ",423],["T_CONSTANT_ENCAPSED_STRING","''",423],",",["T_WHITESPACE"," ",423],"[","]",",",["T_WHITESPACE"," ",423],["T_VARIABLE","$migration",423],")",";",["T_WHITESPACE","\n\n    ",423],["T_COMMENT","\/\/ Test the default value of the skipCount Value;\n",425],["T_WHITESPACE","    ",426],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","assertTrue",426],"(",["T_VARIABLE","$source",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","getSkipCount",426],"(",")",")",";",["T_WHITESPACE","\n    ",426],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","assertTrue",427],"(",["T_VARIABLE","$source",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","getCacheCounts",427],"(",")",")",";",["T_WHITESPACE","\n    ",427],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","assertTrue",428],"(",["T_VARIABLE","$source",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","getTrackChanges",428],"(",")",")",";",["T_WHITESPACE","\n  ",428],"}",["T_WHITESPACE","\n\n  ",429],["T_DOC_COMMENT","\/**\n   * Gets a mock executable for the test.\n   *\n   * @param \\Drupal\\migrate\\Plugin\\MigrationInterface $migration\n   *   The migration entity.\n   *\n   * @return \\Drupal\\migrate\\MigrateExecutable\n   *   The migrate executable.\n   *\/",431],["T_WHITESPACE","\n  ",439],["T_PROTECTED","protected",440],["T_WHITESPACE"," ",440],["T_FUNCTION","function",440],["T_WHITESPACE"," ",440],["T_STRING","getMigrateExecutable",440],"(",["T_VARIABLE","$migration",440],")",["T_WHITESPACE"," ",440],"{",["T_WHITESPACE","\n    ",440],["T_DOC_COMMENT","\/** @var \\Drupal\\migrate\\MigrateMessageInterface $message *\/",441],["T_WHITESPACE","\n    ",441],["T_VARIABLE","$message",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","getMock",442],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\migrate\\MigrateMessageInterface'",442],")",";",["T_WHITESPACE","\n    ",442],["T_DOC_COMMENT","\/** @var \\Symfony\\Component\\EventDispatcher\\EventDispatcherInterface $event_dispatcher *\/",443],["T_WHITESPACE","\n    ",443],["T_VARIABLE","$event_dispatcher",444],["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","getMock",444],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\EventDispatcher\\EventDispatcherInterface'",444],")",";",["T_WHITESPACE","\n    ",444],["T_RETURN","return",445],["T_WHITESPACE"," ",445],["T_NEW","new",445],["T_WHITESPACE"," ",445],["T_STRING","MigrateExecutable",445],"(",["T_VARIABLE","$migration",445],",",["T_WHITESPACE"," ",445],["T_VARIABLE","$message",445],",",["T_WHITESPACE"," ",445],["T_VARIABLE","$event_dispatcher",445],")",";",["T_WHITESPACE","\n  ",445],"}",["T_WHITESPACE","\n\n",446],"}",["T_WHITESPACE","\n\n",448],["T_DOC_COMMENT","\/**\n * Stubbed source plugin for testing base class implementations.\n *\/",450],["T_WHITESPACE","\n",452],["T_CLASS","class",453],["T_WHITESPACE"," ",453],["T_STRING","StubSourcePlugin",453],["T_WHITESPACE"," ",453],["T_EXTENDS","extends",453],["T_WHITESPACE"," ",453],["T_STRING","SourcePluginBase",453],["T_WHITESPACE"," ",453],"{",["T_WHITESPACE","\n\n  ",453],["T_DOC_COMMENT","\/**\n   * Helper for setting internal module handler implementation.\n   *\n   * @param \\Drupal\\Core\\Extension\\ModuleHandlerInterface $module_handler\n   *   The module handler.\n   *\/",455],["T_WHITESPACE","\n  ",460],["T_PUBLIC","public",461],["T_WHITESPACE"," ",461],["T_FUNCTION","function",461],["T_WHITESPACE"," ",461],["T_STRING","setModuleHandler",461],"(",["T_STRING","ModuleHandlerInterface",461],["T_WHITESPACE"," ",461],["T_VARIABLE","$module_handler",461],")",["T_WHITESPACE"," ",461],"{",["T_WHITESPACE","\n    ",461],["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","moduleHandler",462],["T_WHITESPACE"," ",462],"=",["T_WHITESPACE"," ",462],["T_VARIABLE","$module_handler",462],";",["T_WHITESPACE","\n  ",462],"}",["T_WHITESPACE","\n\n  ",463],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",465],["T_WHITESPACE","\n  ",467],["T_PUBLIC","public",468],["T_WHITESPACE"," ",468],["T_FUNCTION","function",468],["T_WHITESPACE"," ",468],["T_STRING","fields",468],"(",")",["T_WHITESPACE"," ",468],"{",["T_WHITESPACE","\n    ",468],["T_RETURN","return",469],["T_WHITESPACE"," ",469],"[","]",";",["T_WHITESPACE","\n  ",469],"}",["T_WHITESPACE","\n\n  ",470],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",472],["T_WHITESPACE","\n  ",474],["T_PUBLIC","public",475],["T_WHITESPACE"," ",475],["T_FUNCTION","function",475],["T_WHITESPACE"," ",475],["T_STRING","__toString",475],"(",")",["T_WHITESPACE"," ",475],"{",["T_WHITESPACE","\n    ",475],["T_RETURN","return",476],["T_WHITESPACE"," ",476],["T_CONSTANT_ENCAPSED_STRING","''",476],";",["T_WHITESPACE","\n  ",476],"}",["T_WHITESPACE","\n\n  ",477],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",479],["T_WHITESPACE","\n  ",481],["T_PUBLIC","public",482],["T_WHITESPACE"," ",482],["T_FUNCTION","function",482],["T_WHITESPACE"," ",482],["T_STRING","getIds",482],"(",")",["T_WHITESPACE"," ",482],"{",["T_WHITESPACE","\n    ",482],["T_RETURN","return",483],["T_WHITESPACE"," ",483],"[","]",";",["T_WHITESPACE","\n  ",483],"}",["T_WHITESPACE","\n\n  ",484],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",486],["T_WHITESPACE","\n  ",488],["T_PROTECTED","protected",489],["T_WHITESPACE"," ",489],["T_FUNCTION","function",489],["T_WHITESPACE"," ",489],["T_STRING","initializeIterator",489],"(",")",["T_WHITESPACE"," ",489],"{",["T_WHITESPACE","\n    ",489],["T_RETURN","return",490],["T_WHITESPACE"," ",490],"[","]",";",["T_WHITESPACE","\n  ",490],"}",["T_WHITESPACE","\n\n",491],"}",["T_WHITESPACE","\n\n",493],["T_DOC_COMMENT","\/**\n * Stubbed source plugin with a generator as iterator. Also it overwrites the\n * $skipCount, $cacheCounts and $trackChanges properties.\n *\/",495],["T_WHITESPACE","\n",498],["T_CLASS","class",499],["T_WHITESPACE"," ",499],["T_STRING","StubSourceGeneratorPlugin",499],["T_WHITESPACE"," ",499],["T_EXTENDS","extends",499],["T_WHITESPACE"," ",499],["T_STRING","StubSourcePlugin",499],["T_WHITESPACE"," ",499],"{",["T_WHITESPACE","\n\n  ",499],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",501],["T_WHITESPACE","\n  ",503],["T_PROTECTED","protected",504],["T_WHITESPACE"," ",504],["T_VARIABLE","$skipCount",504],["T_WHITESPACE"," ",504],"=",["T_WHITESPACE"," ",504],["T_STRING","TRUE",504],";",["T_WHITESPACE","\n\n  ",504],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",506],["T_WHITESPACE","\n  ",508],["T_PROTECTED","protected",509],["T_WHITESPACE"," ",509],["T_VARIABLE","$cacheCounts",509],["T_WHITESPACE"," ",509],"=",["T_WHITESPACE"," ",509],["T_STRING","TRUE",509],";",["T_WHITESPACE","\n\n  ",509],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",511],["T_WHITESPACE","\n  ",513],["T_PROTECTED","protected",514],["T_WHITESPACE"," ",514],["T_VARIABLE","$trackChanges",514],["T_WHITESPACE"," ",514],"=",["T_WHITESPACE"," ",514],["T_STRING","TRUE",514],";",["T_WHITESPACE","\n\n  ",514],["T_DOC_COMMENT","\/**\n   * Return the skipCount value.\n   *\/",516],["T_WHITESPACE","\n  ",518],["T_PUBLIC","public",519],["T_WHITESPACE"," ",519],["T_FUNCTION","function",519],["T_WHITESPACE"," ",519],["T_STRING","getSkipCount",519],"(",")",["T_WHITESPACE"," ",519],"{",["T_WHITESPACE","\n    ",519],["T_RETURN","return",520],["T_WHITESPACE"," ",520],["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","skipCount",520],";",["T_WHITESPACE","\n  ",520],"}",["T_WHITESPACE","\n\n  ",521],["T_DOC_COMMENT","\/**\n   * Return the cacheCounts value.\n   *\/",523],["T_WHITESPACE","\n  ",525],["T_PUBLIC","public",526],["T_WHITESPACE"," ",526],["T_FUNCTION","function",526],["T_WHITESPACE"," ",526],["T_STRING","getCacheCounts",526],"(",")",["T_WHITESPACE"," ",526],"{",["T_WHITESPACE","\n    ",526],["T_RETURN","return",527],["T_WHITESPACE"," ",527],["T_VARIABLE","$this",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","cacheCounts",527],";",["T_WHITESPACE","\n  ",527],"}",["T_WHITESPACE","\n\n  ",528],["T_DOC_COMMENT","\/**\n   * Return the trackChanges value.\n   *\/",530],["T_WHITESPACE","\n  ",532],["T_PUBLIC","public",533],["T_WHITESPACE"," ",533],["T_FUNCTION","function",533],["T_WHITESPACE"," ",533],["T_STRING","getTrackChanges",533],"(",")",["T_WHITESPACE"," ",533],"{",["T_WHITESPACE","\n    ",533],["T_RETURN","return",534],["T_WHITESPACE"," ",534],["T_VARIABLE","$this",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","trackChanges",534],";",["T_WHITESPACE","\n  ",534],"}",["T_WHITESPACE","\n\n  ",535],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",537],["T_WHITESPACE","\n  ",539],["T_PROTECTED","protected",540],["T_WHITESPACE"," ",540],["T_FUNCTION","function",540],["T_WHITESPACE"," ",540],["T_STRING","initializeIterator",540],"(",")",["T_WHITESPACE"," ",540],"{",["T_WHITESPACE","\n    ",540],["T_VARIABLE","$data",541],["T_WHITESPACE"," ",541],"=",["T_WHITESPACE"," ",541],"[",["T_WHITESPACE","\n      ",541],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",542],["T_WHITESPACE"," ",542],["T_DOUBLE_ARROW","=>",542],["T_WHITESPACE"," ",542],["T_CONSTANT_ENCAPSED_STRING","'foo'",542],"]",",",["T_WHITESPACE","\n      ",542],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",543],["T_WHITESPACE"," ",543],["T_DOUBLE_ARROW","=>",543],["T_WHITESPACE"," ",543],["T_CONSTANT_ENCAPSED_STRING","'bar'",543],"]",",",["T_WHITESPACE","\n      ",543],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",544],["T_WHITESPACE"," ",544],["T_DOUBLE_ARROW","=>",544],["T_WHITESPACE"," ",544],["T_CONSTANT_ENCAPSED_STRING","'iggy'",544],"]",",",["T_WHITESPACE","\n    ",544],"]",";",["T_WHITESPACE","\n    ",545],["T_FOREACH","foreach",546],["T_WHITESPACE"," ",546],"(",["T_VARIABLE","$data",546],["T_WHITESPACE"," ",546],["T_AS","as",546],["T_WHITESPACE"," ",546],["T_VARIABLE","$row",546],")",["T_WHITESPACE"," ",546],"{",["T_WHITESPACE","\n      ",546],["T_YIELD","yield",547],["T_WHITESPACE"," ",547],["T_VARIABLE","$row",547],";",["T_WHITESPACE","\n    ",547],"}",["T_WHITESPACE","\n  ",548],"}",["T_WHITESPACE","\n\n",549],"}",["T_WHITESPACE","\n",551]]