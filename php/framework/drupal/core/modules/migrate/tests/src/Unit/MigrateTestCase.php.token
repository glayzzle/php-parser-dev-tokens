[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","migrate",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Unit",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Database",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Driver",5],["T_NS_SEPARATOR","\\",5],["T_STRING","sqlite",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Connection",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","DependencyInjection",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ContainerBuilder",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","migrate",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Plugin",7],["T_NS_SEPARATOR","\\",7],["T_STRING","MigrationInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Tests",8],["T_NS_SEPARATOR","\\",8],["T_STRING","UnitTestCase",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Provides setup and helper methods for Migrate module tests.\n *\/",10],["T_WHITESPACE","\n",12],["T_ABSTRACT","abstract",13],["T_WHITESPACE"," ",13],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","MigrateTestCase",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","UnitTestCase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * An array of migration configuration values.\n   *\n   * @var array\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$migrationConfiguration",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],"[","]",";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * The migration ID map.\n   *\n   * @var \\Drupal\\migrate\\Plugin\\MigrateIdMapInterface|\\PHPUnit_Framework_MockObject_MockObject\n   *\/",22],["T_WHITESPACE","\n  ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$idMap",27],";",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * Local store for mocking setStatus()\/getStatus().\n   *\n   * @var \\Drupal\\migrate\\Plugin\\MigrationInterface::STATUS_*\n   *\/",29],["T_WHITESPACE","\n  ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$migrationStatus",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_STRING","MigrationInterface",34],["T_DOUBLE_COLON","::",34],["T_STRING","STATUS_IDLE",34],";",["T_WHITESPACE","\n\n  ",34],["T_DOC_COMMENT","\/**\n   * Retrieves a mocked migration.\n   *\n   * @return \\Drupal\\migrate\\Plugin\\MigrationInterface|\\PHPUnit_Framework_MockObject_MockObject\n   *   The mocked migration.\n   *\/",36],["T_WHITESPACE","\n  ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","getMigration",42],"(",")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","migrationConfiguration",43],["T_WHITESPACE"," ",43],["T_PLUS_EQUAL","+=",43],["T_WHITESPACE"," ",43],"[",["T_CONSTANT_ENCAPSED_STRING","'migrationClass'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\migrate\\Plugin\\Migration'",43],"]",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","idMap",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","getMock",44],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\migrate\\Plugin\\MigrateIdMapInterface'",44],")",";",["T_WHITESPACE","\n\n    ",44],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","idMap",46],["T_WHITESPACE","\n      ",46],["T_OBJECT_OPERATOR","->",47],["T_STRING","method",47],"(",["T_CONSTANT_ENCAPSED_STRING","'getQualifiedMapTableName'",47],")",["T_WHITESPACE","\n      ",47],["T_OBJECT_OPERATOR","->",48],["T_STRING","willReturn",48],"(",["T_CONSTANT_ENCAPSED_STRING","'test_map'",48],")",";",["T_WHITESPACE","\n\n    ",48],["T_VARIABLE","$migration",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getMockBuilder",50],"(",["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","migrationConfiguration",50],"[",["T_CONSTANT_ENCAPSED_STRING","'migrationClass'",50],"]",")",["T_WHITESPACE","\n      ",50],["T_OBJECT_OPERATOR","->",51],["T_STRING","disableOriginalConstructor",51],"(",")",["T_WHITESPACE","\n      ",51],["T_OBJECT_OPERATOR","->",52],["T_STRING","getMock",52],"(",")",";",["T_WHITESPACE","\n\n    ",52],["T_VARIABLE","$migration",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","method",54],"(",["T_CONSTANT_ENCAPSED_STRING","'checkRequirements'",54],")",["T_WHITESPACE","\n      ",54],["T_OBJECT_OPERATOR","->",55],["T_STRING","willReturn",55],"(",["T_STRING","TRUE",55],")",";",["T_WHITESPACE","\n\n    ",55],["T_VARIABLE","$migration",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","method",57],"(",["T_CONSTANT_ENCAPSED_STRING","'getIdMap'",57],")",["T_WHITESPACE","\n      ",57],["T_OBJECT_OPERATOR","->",58],["T_STRING","willReturn",58],"(",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","idMap",58],")",";",["T_WHITESPACE","\n\n    ",58],["T_COMMENT","\/\/ We need the state to be toggled throughout the test so we store the value\n",60],["T_WHITESPACE","    ",61],["T_COMMENT","\/\/ on the test class and use a return callback.\n",61],["T_WHITESPACE","    ",62],["T_VARIABLE","$migration",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","expects",62],"(",["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","any",62],"(",")",")",["T_WHITESPACE","\n      ",62],["T_OBJECT_OPERATOR","->",63],["T_STRING","method",63],"(",["T_CONSTANT_ENCAPSED_STRING","'getStatus'",63],")",["T_WHITESPACE","\n      ",63],["T_OBJECT_OPERATOR","->",64],["T_STRING","willReturnCallback",64],"(",["T_FUNCTION","function",64],"(",")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n        ",64],["T_RETURN","return",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","migrationStatus",65],";",["T_WHITESPACE","\n      ",65],"}",")",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$migration",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","expects",67],"(",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","any",67],"(",")",")",["T_WHITESPACE","\n      ",67],["T_OBJECT_OPERATOR","->",68],["T_STRING","method",68],"(",["T_CONSTANT_ENCAPSED_STRING","'setStatus'",68],")",["T_WHITESPACE","\n      ",68],["T_OBJECT_OPERATOR","->",69],["T_STRING","willReturnCallback",69],"(",["T_FUNCTION","function",69],"(",["T_VARIABLE","$status",69],")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","migrationStatus",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$status",70],";",["T_WHITESPACE","\n      ",70],"}",")",";",["T_WHITESPACE","\n\n    ",71],["T_VARIABLE","$migration",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","method",73],"(",["T_CONSTANT_ENCAPSED_STRING","'getMigrationDependencies'",73],")",["T_WHITESPACE","\n      ",73],["T_OBJECT_OPERATOR","->",74],["T_STRING","willReturn",74],"(","[",["T_WHITESPACE","\n        ",74],["T_CONSTANT_ENCAPSED_STRING","'required'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],"[","]",",",["T_WHITESPACE","\n        ",75],["T_CONSTANT_ENCAPSED_STRING","'optional'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],"[","]",",",["T_WHITESPACE","\n      ",76],"]",")",";",["T_WHITESPACE","\n\n    ",77],["T_VARIABLE","$configuration",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],"&",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","migrationConfiguration",79],";",["T_WHITESPACE","\n\n    ",79],["T_VARIABLE","$migration",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","method",81],"(",["T_CONSTANT_ENCAPSED_STRING","'getHighWaterProperty'",81],")",["T_WHITESPACE","\n      ",81],["T_OBJECT_OPERATOR","->",82],["T_STRING","willReturnCallback",82],"(",["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],"(",")",["T_WHITESPACE"," ",82],["T_USE","use",82],["T_WHITESPACE"," ",82],"(",["T_VARIABLE","$configuration",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n        ",82],["T_RETURN","return",83],["T_WHITESPACE"," ",83],["T_ISSET","isset",83],"(",["T_VARIABLE","$configuration",83],"[",["T_CONSTANT_ENCAPSED_STRING","'high_water_property'",83],"]",")",["T_WHITESPACE"," ",83],"?",["T_WHITESPACE"," ",83],["T_VARIABLE","$configuration",83],"[",["T_CONSTANT_ENCAPSED_STRING","'high_water_property'",83],"]",["T_WHITESPACE"," ",83],":",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","''",83],";",["T_WHITESPACE","\n      ",83],"}",")",";",["T_WHITESPACE","\n\n    ",84],["T_VARIABLE","$migration",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","method",86],"(",["T_CONSTANT_ENCAPSED_STRING","'set'",86],")",["T_WHITESPACE","\n      ",86],["T_OBJECT_OPERATOR","->",87],["T_STRING","willReturnCallback",87],"(",["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],"(",["T_VARIABLE","$argument",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$value",87],")",["T_WHITESPACE"," ",87],["T_USE","use",87],["T_WHITESPACE"," ",87],"(","&",["T_VARIABLE","$configuration",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$configuration",88],"[",["T_VARIABLE","$argument",88],"]",["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$value",88],";",["T_WHITESPACE","\n      ",88],"}",")",";",["T_WHITESPACE","\n\n    ",89],["T_VARIABLE","$migration",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","method",91],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",91],")",["T_WHITESPACE","\n      ",91],["T_OBJECT_OPERATOR","->",92],["T_STRING","willReturn",92],"(",["T_VARIABLE","$configuration",92],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",92],"]",")",";",["T_WHITESPACE","\n\n    ",92],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$migration",94],";",["T_WHITESPACE","\n  ",94],"}",["T_WHITESPACE","\n\n  ",95],["T_DOC_COMMENT","\/**\n   * Gets an SQLite database connection object for use in tests.\n   *\n   * @param array $database_contents\n   *   The database contents faked as an array. Each key is a table name, each\n   *   value is a list of table rows, an associative array of field => value.\n   * @param array $connection_options\n   *   (optional) Options for the database connection. Defaults to an empty\n   *   array.\n   *\n   * @return \\Drupal\\Core\\Database\\Driver\\sqlite\\Connection\n   *   The database connection.\n   *\/",97],["T_WHITESPACE","\n  ",109],["T_PROTECTED","protected",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","getDatabase",110],"(",["T_ARRAY","array",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$database_contents",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$connection_options",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],"[","]",")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n    ",110],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_STRING","extension_loaded",111],"(",["T_CONSTANT_ENCAPSED_STRING","'pdo_sqlite'",111],")",")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n      ",111],["T_VARIABLE","$connection_options",112],"[",["T_CONSTANT_ENCAPSED_STRING","'database'",112],"]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","':memory:'",112],";",["T_WHITESPACE","\n      ",112],["T_VARIABLE","$pdo",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","Connection",113],["T_DOUBLE_COLON","::",113],["T_STRING","open",113],"(",["T_VARIABLE","$connection_options",113],")",";",["T_WHITESPACE","\n      ",113],["T_VARIABLE","$connection",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_NEW","new",114],["T_WHITESPACE"," ",114],["T_STRING","Connection",114],"(",["T_VARIABLE","$pdo",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$connection_options",114],")",";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n    ",115],["T_ELSE","else",116],["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n      ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","markTestSkipped",117],"(",["T_CONSTANT_ENCAPSED_STRING","'The pdo_sqlite extension is not available.'",117],")",";",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n    ",118],["T_COMMENT","\/\/ Initialize the DIC with a fake module handler for alterable queries.\n",120],["T_WHITESPACE","    ",121],["T_VARIABLE","$container",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_NEW","new",121],["T_WHITESPACE"," ",121],["T_STRING","ContainerBuilder",121],"(",")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$container",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","set",122],"(",["T_CONSTANT_ENCAPSED_STRING","'module_handler'",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getMock",122],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Core\\Extension\\ModuleHandlerInterface'",122],")",")",";",["T_WHITESPACE","\n    ",122],["T_NS_SEPARATOR","\\",123],["T_STRING","Drupal",123],["T_DOUBLE_COLON","::",123],["T_STRING","setContainer",123],"(",["T_VARIABLE","$container",123],")",";",["T_WHITESPACE","\n\n    ",123],["T_COMMENT","\/\/ Create the tables and load them up with data, skipping empty ones.\n",125],["T_WHITESPACE","    ",126],["T_FOREACH","foreach",126],["T_WHITESPACE"," ",126],"(",["T_STRING","array_filter",126],"(",["T_VARIABLE","$database_contents",126],")",["T_WHITESPACE"," ",126],["T_AS","as",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$table",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$rows",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n      ",126],["T_VARIABLE","$pilot_row",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_STRING","reset",127],"(",["T_VARIABLE","$rows",127],")",";",["T_WHITESPACE","\n      ",127],["T_VARIABLE","$connection",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","schema",128],"(",")",["T_OBJECT_OPERATOR","->",128],["T_STRING","createTable",128],"(",["T_VARIABLE","$table",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","createSchemaFromRow",128],"(",["T_VARIABLE","$pilot_row",128],")",")",";",["T_WHITESPACE","\n\n      ",128],["T_VARIABLE","$insert",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$connection",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","insert",130],"(",["T_VARIABLE","$table",130],")",["T_OBJECT_OPERATOR","->",130],["T_STRING","fields",130],"(",["T_STRING","array_keys",130],"(",["T_VARIABLE","$pilot_row",130],")",")",";",["T_WHITESPACE","\n      ",130],["T_STRING","array_walk",131],"(",["T_VARIABLE","$rows",131],",",["T_WHITESPACE"," ",131],"[",["T_VARIABLE","$insert",131],",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'values'",131],"]",")",";",["T_WHITESPACE","\n      ",131],["T_VARIABLE","$insert",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","execute",132],"(",")",";",["T_WHITESPACE","\n    ",132],"}",["T_WHITESPACE","\n\n    ",133],["T_RETURN","return",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$connection",135],";",["T_WHITESPACE","\n  ",135],"}",["T_WHITESPACE","\n\n  ",136],["T_DOC_COMMENT","\/**\n   * Generates a table schema from a row.\n   *\n   * @param array $row\n   *   The reference row on which to base the schema.\n   *\n   * @return array\n   *   The Schema API-ready table schema.\n   *\/",138],["T_WHITESPACE","\n  ",146],["T_PROTECTED","protected",147],["T_WHITESPACE"," ",147],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","createSchemaFromRow",147],"(",["T_ARRAY","array",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$row",147],")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n    ",147],["T_COMMENT","\/\/ SQLite uses loose (\"affinity\") typing, so it is OK for every column to be\n",148],["T_WHITESPACE","    ",149],["T_COMMENT","\/\/ a text field.\n",149],["T_WHITESPACE","    ",150],["T_VARIABLE","$fields",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","array_map",150],"(",["T_FUNCTION","function",150],"(",")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE"," ",150],["T_RETURN","return",150],["T_WHITESPACE"," ",150],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'text'",150],"]",";",["T_WHITESPACE"," ",150],"}",",",["T_WHITESPACE"," ",150],["T_VARIABLE","$row",150],")",";",["T_WHITESPACE","\n    ",150],["T_RETURN","return",151],["T_WHITESPACE"," ",151],"[",["T_CONSTANT_ENCAPSED_STRING","'fields'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$fields",151],"]",";",["T_WHITESPACE","\n  ",151],"}",["T_WHITESPACE","\n\n  ",152],["T_DOC_COMMENT","\/**\n   * Tests a query.\n   *\n   * @param array|\\Traversable $iter\n   *   The countable. foreach-able actual results if a query is being run.\n   * @param array $expected_results\n   *   An array of expected results.\n   *\/",154],["T_WHITESPACE","\n  ",161],["T_PUBLIC","public",162],["T_WHITESPACE"," ",162],["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],["T_STRING","queryResultTest",162],"(",["T_VARIABLE","$iter",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$expected_results",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n    ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","assertSame",163],"(",["T_STRING","count",163],"(",["T_VARIABLE","$expected_results",163],")",",",["T_WHITESPACE"," ",163],["T_STRING","count",163],"(",["T_VARIABLE","$iter",163],")",",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'Number of results match'",163],")",";",["T_WHITESPACE","\n    ",163],["T_VARIABLE","$count",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_LNUMBER","0",164],";",["T_WHITESPACE","\n    ",164],["T_FOREACH","foreach",165],["T_WHITESPACE"," ",165],"(",["T_VARIABLE","$iter",165],["T_WHITESPACE"," ",165],["T_AS","as",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$data_row",165],")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n      ",165],["T_VARIABLE","$expected_row",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$expected_results",166],"[",["T_VARIABLE","$count",166],"]",";",["T_WHITESPACE","\n      ",166],["T_VARIABLE","$count",167],["T_INC","++",167],";",["T_WHITESPACE","\n      ",167],["T_FOREACH","foreach",168],["T_WHITESPACE"," ",168],"(",["T_VARIABLE","$expected_row",168],["T_WHITESPACE"," ",168],["T_AS","as",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$key",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$expected_value",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","retrievalAssertHelper",169],"(",["T_VARIABLE","$expected_value",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getValue",169],"(",["T_VARIABLE","$data_row",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$key",169],")",",",["T_WHITESPACE"," ",169],["T_STRING","sprintf",169],"(",["T_CONSTANT_ENCAPSED_STRING","'Value matches for key \"%s\"'",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$key",169],")",")",";",["T_WHITESPACE","\n      ",169],"}",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n    ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","assertSame",172],"(",["T_STRING","count",172],"(",["T_VARIABLE","$expected_results",172],")",",",["T_WHITESPACE"," ",172],["T_VARIABLE","$count",172],")",";",["T_WHITESPACE","\n  ",172],"}",["T_WHITESPACE","\n\n  ",173],["T_DOC_COMMENT","\/**\n   * Gets the value on a row for a given key.\n   *\n   * @param array $row\n   *   The row information.\n   * @param string $key\n   *   The key identifier.\n   *\n   * @return mixed\n   *   The value on a row for a given key.\n   *\/",175],["T_WHITESPACE","\n  ",185],["T_PROTECTED","protected",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","getValue",186],"(",["T_VARIABLE","$row",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$key",186],")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n    ",186],["T_RETURN","return",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$row",187],"[",["T_VARIABLE","$key",187],"]",";",["T_WHITESPACE","\n  ",187],"}",["T_WHITESPACE","\n\n  ",188],["T_DOC_COMMENT","\/**\n   * Asserts tested values during test retrieval.\n   *\n   * @param mixed $expected_value\n   *   The incoming expected value to test.\n   * @param mixed $actual_value\n   *   The incoming value itself.\n   * @param string $message\n   *   The tested result as a formatted string.\n   *\/",190],["T_WHITESPACE","\n  ",199],["T_PROTECTED","protected",200],["T_WHITESPACE"," ",200],["T_FUNCTION","function",200],["T_WHITESPACE"," ",200],["T_STRING","retrievalAssertHelper",200],"(",["T_VARIABLE","$expected_value",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$actual_value",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$message",200],")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n    ",200],["T_IF","if",201],["T_WHITESPACE"," ",201],"(",["T_STRING","is_array",201],"(",["T_VARIABLE","$expected_value",201],")",")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n      ",201],["T_COMMENT","\/\/ If the expected and actual values are empty, no need to array compare.\n",202],["T_WHITESPACE","      ",203],["T_IF","if",203],["T_WHITESPACE"," ",203],"(",["T_EMPTY","empty",203],"(",["T_VARIABLE","$expected_value",203],["T_WHITESPACE"," ",203],["T_BOOLEAN_AND","&&",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$actual_value",203],")",")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n        ",203],["T_RETURN","return",204],";",["T_WHITESPACE","\n      ",204],"}",["T_WHITESPACE","\n      ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","assertArrayEquals",206],"(",["T_VARIABLE","$expected_value",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$actual_value",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$message",206],")",";",["T_WHITESPACE","\n    ",206],"}",["T_WHITESPACE","\n    ",207],["T_ELSE","else",208],["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n      ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","assertSame",209],"(",["T_STRING_CAST","(string)",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$expected_value",209],",",["T_WHITESPACE"," ",209],["T_STRING_CAST","(string)",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$actual_value",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$message",209],")",";",["T_WHITESPACE","\n    ",209],"}",["T_WHITESPACE","\n  ",210],"}",["T_WHITESPACE","\n\n",211],"}",["T_WHITESPACE","\n",213]]