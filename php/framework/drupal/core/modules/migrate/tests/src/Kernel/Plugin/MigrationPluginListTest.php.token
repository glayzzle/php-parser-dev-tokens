[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","migrate",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Database",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Database",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","KernelTests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","KernelTestBase",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests the migration plugin manager.\n *\n * @coversDefaultClass \\Drupal\\migrate\\Plugin\\MigratePluginManager\n * @group migrate\n *\/",8],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","MigrationPluginListTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","KernelTestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",16],["T_WHITESPACE","\n  ",18],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_STATIC","static",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$modules",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],"[",["T_WHITESPACE","\n    ",19],["T_CONSTANT_ENCAPSED_STRING","'migrate'",20],",",["T_WHITESPACE","\n    ",20],["T_COMMENT","\/\/ Test with all modules containing Drupal migrations.\n",21],["T_WHITESPACE","    ",22],["T_CONSTANT_ENCAPSED_STRING","'action'",22],",",["T_WHITESPACE","\n    ",22],["T_CONSTANT_ENCAPSED_STRING","'aggregator'",23],",",["T_WHITESPACE","\n    ",23],["T_CONSTANT_ENCAPSED_STRING","'ban'",24],",",["T_WHITESPACE","\n    ",24],["T_CONSTANT_ENCAPSED_STRING","'block'",25],",",["T_WHITESPACE","\n    ",25],["T_CONSTANT_ENCAPSED_STRING","'block_content'",26],",",["T_WHITESPACE","\n    ",26],["T_CONSTANT_ENCAPSED_STRING","'book'",27],",",["T_WHITESPACE","\n    ",27],["T_CONSTANT_ENCAPSED_STRING","'comment'",28],",",["T_WHITESPACE","\n    ",28],["T_CONSTANT_ENCAPSED_STRING","'contact'",29],",",["T_WHITESPACE","\n    ",29],["T_CONSTANT_ENCAPSED_STRING","'dblog'",30],",",["T_WHITESPACE","\n    ",30],["T_CONSTANT_ENCAPSED_STRING","'field'",31],",",["T_WHITESPACE","\n    ",31],["T_CONSTANT_ENCAPSED_STRING","'file'",32],",",["T_WHITESPACE","\n    ",32],["T_CONSTANT_ENCAPSED_STRING","'filter'",33],",",["T_WHITESPACE","\n    ",33],["T_CONSTANT_ENCAPSED_STRING","'forum'",34],",",["T_WHITESPACE","\n    ",34],["T_CONSTANT_ENCAPSED_STRING","'image'",35],",",["T_WHITESPACE","\n    ",35],["T_CONSTANT_ENCAPSED_STRING","'language'",36],",",["T_WHITESPACE","\n    ",36],["T_CONSTANT_ENCAPSED_STRING","'locale'",37],",",["T_WHITESPACE","\n    ",37],["T_CONSTANT_ENCAPSED_STRING","'menu_link_content'",38],",",["T_WHITESPACE","\n    ",38],["T_CONSTANT_ENCAPSED_STRING","'menu_ui'",39],",",["T_WHITESPACE","\n    ",39],["T_CONSTANT_ENCAPSED_STRING","'node'",40],",",["T_WHITESPACE","\n    ",40],["T_CONSTANT_ENCAPSED_STRING","'path'",41],",",["T_WHITESPACE","\n    ",41],["T_CONSTANT_ENCAPSED_STRING","'search'",42],",",["T_WHITESPACE","\n    ",42],["T_CONSTANT_ENCAPSED_STRING","'shortcut'",43],",",["T_WHITESPACE","\n    ",43],["T_CONSTANT_ENCAPSED_STRING","'simpletest'",44],",",["T_WHITESPACE","\n    ",44],["T_CONSTANT_ENCAPSED_STRING","'statistics'",45],",",["T_WHITESPACE","\n    ",45],["T_CONSTANT_ENCAPSED_STRING","'syslog'",46],",",["T_WHITESPACE","\n    ",46],["T_CONSTANT_ENCAPSED_STRING","'system'",47],",",["T_WHITESPACE","\n    ",47],["T_CONSTANT_ENCAPSED_STRING","'taxonomy'",48],",",["T_WHITESPACE","\n    ",48],["T_CONSTANT_ENCAPSED_STRING","'text'",49],",",["T_WHITESPACE","\n    ",49],["T_CONSTANT_ENCAPSED_STRING","'tracker'",50],",",["T_WHITESPACE","\n    ",50],["T_CONSTANT_ENCAPSED_STRING","'update'",51],",",["T_WHITESPACE","\n    ",51],["T_CONSTANT_ENCAPSED_STRING","'user'",52],",",["T_WHITESPACE","\n  ",52],"]",";",["T_WHITESPACE","\n\n  ",53],["T_DOC_COMMENT","\/**\n   * @covers ::getDefinitions\n   *\/",55],["T_WHITESPACE","\n  ",57],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","testGetDefinitions",58],"(",")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n    ",58],["T_COMMENT","\/\/ Make sure retrieving all the core migration plugins does not throw any\n",59],["T_WHITESPACE","    ",60],["T_COMMENT","\/\/ errors.\n",60],["T_WHITESPACE","    ",61],["T_VARIABLE","$migration_plugins",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","container",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","get",61],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.migration'",61],")",["T_OBJECT_OPERATOR","->",61],["T_STRING","getDefinitions",61],"(",")",";",["T_WHITESPACE","\n    ",61],["T_COMMENT","\/\/ All the plugins provided by core depend on migrate_drupal.\n",62],["T_WHITESPACE","    ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","assertEmpty",63],"(",["T_VARIABLE","$migration_plugins",63],")",";",["T_WHITESPACE","\n\n    ",63],["T_COMMENT","\/\/ Enable a module that provides migrations that do not depend on\n",65],["T_WHITESPACE","    ",66],["T_COMMENT","\/\/ migrate_drupal.\n",66],["T_WHITESPACE","    ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","enableModules",67],"(","[",["T_CONSTANT_ENCAPSED_STRING","'migrate_external_translated_test'",67],"]",")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$migration_plugins",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","container",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","get",68],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.migration'",68],")",["T_OBJECT_OPERATOR","->",68],["T_STRING","getDefinitions",68],"(",")",";",["T_WHITESPACE","\n    ",68],["T_COMMENT","\/\/ All the plugins provided by migrate_external_translated_test do not\n",69],["T_WHITESPACE","    ",70],["T_COMMENT","\/\/ depend on migrate_drupal.\n",70],["T_WHITESPACE","    ",71],["T_VARIABLE","$this",71],["T_DOUBLE_COLON","::",71],["T_STRING","assertArrayHasKey",71],"(",["T_CONSTANT_ENCAPSED_STRING","'external_translated_test_node'",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$migration_plugins",71],")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$this",72],["T_DOUBLE_COLON","::",72],["T_STRING","assertArrayHasKey",72],"(",["T_CONSTANT_ENCAPSED_STRING","'external_translated_test_node_translation'",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$migration_plugins",72],")",";",["T_WHITESPACE","\n\n    ",72],["T_COMMENT","\/\/ Disable the test module and the list should be empty again.\n",74],["T_WHITESPACE","    ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","disableModules",75],"(","[",["T_CONSTANT_ENCAPSED_STRING","'migrate_external_translated_test'",75],"]",")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$migration_plugins",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","container",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","get",76],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.migration'",76],")",["T_OBJECT_OPERATOR","->",76],["T_STRING","getDefinitions",76],"(",")",";",["T_WHITESPACE","\n    ",76],["T_COMMENT","\/\/ All the plugins provided by core depend on migrate_drupal.\n",77],["T_WHITESPACE","    ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","assertEmpty",78],"(",["T_VARIABLE","$migration_plugins",78],")",";",["T_WHITESPACE","\n\n    ",78],["T_COMMENT","\/\/ Enable migrate_drupal to test that the plugins can now be discovered.\n",80],["T_WHITESPACE","    ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","enableModules",81],"(","[",["T_CONSTANT_ENCAPSED_STRING","'migrate_drupal'",81],"]",")",";",["T_WHITESPACE","\n    ",81],["T_COMMENT","\/\/ Set up a migrate database connection so that plugin discovery works.\n",82],["T_WHITESPACE","    ",83],["T_COMMENT","\/\/ Clone the current connection and replace the current prefix.\n",83],["T_WHITESPACE","    ",84],["T_VARIABLE","$connection_info",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_STRING","Database",84],["T_DOUBLE_COLON","::",84],["T_STRING","getConnectionInfo",84],"(",["T_CONSTANT_ENCAPSED_STRING","'migrate'",84],")",";",["T_WHITESPACE","\n    ",84],["T_IF","if",85],["T_WHITESPACE"," ",85],"(",["T_VARIABLE","$connection_info",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n      ",85],["T_STRING","Database",86],["T_DOUBLE_COLON","::",86],["T_STRING","renameConnection",86],"(",["T_CONSTANT_ENCAPSED_STRING","'migrate'",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'simpletest_original_migrate'",86],")",";",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$connection_info",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_STRING","Database",88],["T_DOUBLE_COLON","::",88],["T_STRING","getConnectionInfo",88],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",88],")",";",["T_WHITESPACE","\n    ",88],["T_FOREACH","foreach",89],["T_WHITESPACE"," ",89],"(",["T_VARIABLE","$connection_info",89],["T_WHITESPACE"," ",89],["T_AS","as",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$target",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$value",89],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n      ",89],["T_VARIABLE","$prefix",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_STRING","is_array",90],"(",["T_VARIABLE","$value",90],"[",["T_CONSTANT_ENCAPSED_STRING","'prefix'",90],"]",")",["T_WHITESPACE"," ",90],"?",["T_WHITESPACE"," ",90],["T_VARIABLE","$value",90],"[",["T_CONSTANT_ENCAPSED_STRING","'prefix'",90],"]","[",["T_CONSTANT_ENCAPSED_STRING","'default'",90],"]",["T_WHITESPACE"," ",90],":",["T_WHITESPACE"," ",90],["T_VARIABLE","$value",90],"[",["T_CONSTANT_ENCAPSED_STRING","'prefix'",90],"]",";",["T_WHITESPACE","\n      ",90],["T_COMMENT","\/\/ Simpletest uses 7 character prefixes at most so this can't cause\n",91],["T_WHITESPACE","      ",92],["T_COMMENT","\/\/ collisions.\n",92],["T_WHITESPACE","      ",93],["T_VARIABLE","$connection_info",93],"[",["T_VARIABLE","$target",93],"]","[",["T_CONSTANT_ENCAPSED_STRING","'prefix'",93],"]","[",["T_CONSTANT_ENCAPSED_STRING","'default'",93],"]",["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$prefix",93],["T_WHITESPACE"," ",93],".",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'0'",93],";",["T_WHITESPACE","\n\n      ",93],["T_COMMENT","\/\/ Add the original simpletest prefix so SQLite can attach its database.\n",95],["T_WHITESPACE","      ",96],["T_COMMENT","\/\/ @see \\Drupal\\Core\\Database\\Driver\\sqlite\\Connection::init()\n",96],["T_WHITESPACE","      ",97],["T_VARIABLE","$connection_info",97],"[",["T_VARIABLE","$target",97],"]","[",["T_CONSTANT_ENCAPSED_STRING","'prefix'",97],"]","[",["T_VARIABLE","$value",97],"[",["T_CONSTANT_ENCAPSED_STRING","'prefix'",97],"]","[",["T_CONSTANT_ENCAPSED_STRING","'default'",97],"]","]",["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$value",97],"[",["T_CONSTANT_ENCAPSED_STRING","'prefix'",97],"]","[",["T_CONSTANT_ENCAPSED_STRING","'default'",97],"]",";",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n    ",98],["T_STRING","Database",99],["T_DOUBLE_COLON","::",99],["T_STRING","addConnectionInfo",99],"(",["T_CONSTANT_ENCAPSED_STRING","'migrate'",99],",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'default'",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$connection_info",99],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",99],"]",")",";",["T_WHITESPACE","\n\n    ",99],["T_VARIABLE","$migration_plugins",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","container",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","get",101],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.migration'",101],")",["T_OBJECT_OPERATOR","->",101],["T_STRING","getDefinitions",101],"(",")",";",["T_WHITESPACE","\n    ",101],["T_COMMENT","\/\/ All the plugins provided by core depend on migrate_drupal.\n",102],["T_WHITESPACE","    ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","assertNotEmpty",103],"(",["T_VARIABLE","$migration_plugins",103],")",";",["T_WHITESPACE","\n  ",103],"}",["T_WHITESPACE","\n\n",104],"}",["T_WHITESPACE","\n",106]]