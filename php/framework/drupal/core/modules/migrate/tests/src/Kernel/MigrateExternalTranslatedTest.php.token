[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","migrate",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","language",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ConfigurableLanguage",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","migrate",6],["T_NS_SEPARATOR","\\",6],["T_STRING","MigrateExecutable",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","node",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","NodeType",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Tests migrating non-Drupal translated content.\n *\n * Ensure it's possible to migrate in translations, even if there's no nid or\n * tnid property on the source.\n *\n * @group migrate\n *\/",9],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","MigrateExternalTranslatedTest",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_STRING","MigrateTestBase",17],["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\n   * @todo: Remove migrate_drupal when https:\/\/www.drupal.org\/node\/2560795 is\n   * fixed.\n   *\/",19],["T_WHITESPACE","\n  ",24],["T_PUBLIC","public",25],["T_WHITESPACE"," ",25],["T_STATIC","static",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$modules",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],"[",["T_CONSTANT_ENCAPSED_STRING","'system'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'user'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'language'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'node'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'field'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'migrate_drupal'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'migrate_external_translated_test'",25],"]",";",["T_WHITESPACE","\n\n  ",25],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",27],["T_WHITESPACE","\n  ",29],["T_PUBLIC","public",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","setUp",30],"(",")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n    ",30],["T_STRING","parent",31],["T_DOUBLE_COLON","::",31],["T_STRING","setUp",31],"(",")",";",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","installSchema",32],"(",["T_CONSTANT_ENCAPSED_STRING","'system'",32],",",["T_WHITESPACE"," ",32],"[",["T_CONSTANT_ENCAPSED_STRING","'sequences'",32],"]",")",";",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","installSchema",33],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",33],",",["T_WHITESPACE"," ",33],["T_ARRAY","array",33],"(",["T_CONSTANT_ENCAPSED_STRING","'node_access'",33],")",")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","installEntitySchema",34],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",34],")",";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","installEntitySchema",35],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",35],")",";",["T_WHITESPACE","\n\n    ",35],["T_COMMENT","\/\/ Create some languages.\n",37],["T_WHITESPACE","    ",38],["T_STRING","ConfigurableLanguage",38],["T_DOUBLE_COLON","::",38],["T_STRING","createFromLangcode",38],"(",["T_CONSTANT_ENCAPSED_STRING","'en'",38],")",["T_OBJECT_OPERATOR","->",38],["T_STRING","save",38],"(",")",";",["T_WHITESPACE","\n    ",38],["T_STRING","ConfigurableLanguage",39],["T_DOUBLE_COLON","::",39],["T_STRING","createFromLangcode",39],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",39],")",["T_OBJECT_OPERATOR","->",39],["T_STRING","save",39],"(",")",";",["T_WHITESPACE","\n    ",39],["T_STRING","ConfigurableLanguage",40],["T_DOUBLE_COLON","::",40],["T_STRING","createFromLangcode",40],"(",["T_CONSTANT_ENCAPSED_STRING","'es'",40],")",["T_OBJECT_OPERATOR","->",40],["T_STRING","save",40],"(",")",";",["T_WHITESPACE","\n\n    ",40],["T_COMMENT","\/\/ Create a content type.\n",42],["T_WHITESPACE","    ",43],["T_STRING","NodeType",43],["T_DOUBLE_COLON","::",43],["T_STRING","create",43],"(","[",["T_WHITESPACE","\n      ",43],["T_CONSTANT_ENCAPSED_STRING","'type'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'external_test'",44],",",["T_WHITESPACE","\n      ",44],["T_CONSTANT_ENCAPSED_STRING","'name'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'Test node type'",45],",",["T_WHITESPACE","\n    ",45],"]",")",["T_OBJECT_OPERATOR","->",46],["T_STRING","save",46],"(",")",";",["T_WHITESPACE","\n  ",46],"}",["T_WHITESPACE","\n\n  ",47],["T_DOC_COMMENT","\/**\n   * Test importing and rolling back our data.\n   *\/",49],["T_WHITESPACE","\n  ",51],["T_PUBLIC","public",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","testMigrations",52],"(",")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n    ",52],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Entity\\ContentEntityStorageInterface $storage *\/",53],["T_WHITESPACE","\n    ",53],["T_VARIABLE","$storage",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","container",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","get",54],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",54],")",["T_OBJECT_OPERATOR","->",54],["T_STRING","getStorage",54],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertEquals",55],"(",["T_LNUMBER","0",55],",",["T_WHITESPACE"," ",55],["T_STRING","count",55],"(",["T_VARIABLE","$storage",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","loadMultiple",55],"(",")",")",")",";",["T_WHITESPACE","\n\n    ",55],["T_COMMENT","\/\/ Run the migrations.\n",57],["T_WHITESPACE","    ",58],["T_VARIABLE","$migration_ids",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],"[",["T_CONSTANT_ENCAPSED_STRING","'external_translated_test_node'",58],",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'external_translated_test_node_translation'",58],"]",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","executeMigrations",59],"(",["T_VARIABLE","$migration_ids",59],")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertEquals",60],"(",["T_LNUMBER","3",60],",",["T_WHITESPACE"," ",60],["T_STRING","count",60],"(",["T_VARIABLE","$storage",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","loadMultiple",60],"(",")",")",")",";",["T_WHITESPACE","\n\n    ",60],["T_VARIABLE","$node",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$storage",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","load",62],"(",["T_LNUMBER","1",62],")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","assertEquals",63],"(",["T_CONSTANT_ENCAPSED_STRING","'en'",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$node",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","language",63],"(",")",["T_OBJECT_OPERATOR","->",63],["T_STRING","getId",63],"(",")",")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","assertEquals",64],"(",["T_CONSTANT_ENCAPSED_STRING","'Cat'",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$node",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","title",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","value",64],")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","assertEquals",65],"(",["T_CONSTANT_ENCAPSED_STRING","'Chat'",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$node",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getTranslation",65],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",65],")",["T_OBJECT_OPERATOR","->",65],["T_STRING","title",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","value",65],")",";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","assertEquals",66],"(",["T_CONSTANT_ENCAPSED_STRING","'Gato'",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$node",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getTranslation",66],"(",["T_CONSTANT_ENCAPSED_STRING","'es'",66],")",["T_OBJECT_OPERATOR","->",66],["T_STRING","title",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","value",66],")",";",["T_WHITESPACE","\n\n    ",66],["T_VARIABLE","$node",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$storage",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","load",68],"(",["T_LNUMBER","2",68],")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertEquals",69],"(",["T_CONSTANT_ENCAPSED_STRING","'en'",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$node",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","language",69],"(",")",["T_OBJECT_OPERATOR","->",69],["T_STRING","getId",69],"(",")",")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertEquals",70],"(",["T_CONSTANT_ENCAPSED_STRING","'Dog'",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$node",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","title",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","value",70],")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertEquals",71],"(",["T_CONSTANT_ENCAPSED_STRING","'Chien'",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$node",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getTranslation",71],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",71],")",["T_OBJECT_OPERATOR","->",71],["T_STRING","title",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","value",71],")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertFalse",72],"(",["T_VARIABLE","$node",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","hasTranslation",72],"(",["T_CONSTANT_ENCAPSED_STRING","'es'",72],")",",",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","\"No spanish translation for node 2\"",72],")",";",["T_WHITESPACE","\n\n    ",72],["T_VARIABLE","$node",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$storage",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","load",74],"(",["T_LNUMBER","3",74],")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertEquals",75],"(",["T_CONSTANT_ENCAPSED_STRING","'en'",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$node",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","language",75],"(",")",["T_OBJECT_OPERATOR","->",75],["T_STRING","getId",75],"(",")",")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","assertEquals",76],"(",["T_CONSTANT_ENCAPSED_STRING","'Monkey'",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$node",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","title",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","value",76],")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assertFalse",77],"(",["T_VARIABLE","$node",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","hasTranslation",77],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",77],")",",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","\"No french translation for node 3\"",77],")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","assertFalse",78],"(",["T_VARIABLE","$node",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","hasTranslation",78],"(",["T_CONSTANT_ENCAPSED_STRING","'es'",78],")",",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"No spanish translation for node 3\"",78],")",";",["T_WHITESPACE","\n\n    ",78],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertNull",80],"(",["T_VARIABLE","$storage",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","load",80],"(",["T_LNUMBER","4",80],")",",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","\"No node 4 migrated\"",80],")",";",["T_WHITESPACE","\n\n    ",80],["T_COMMENT","\/\/ Roll back the migrations.\n",82],["T_WHITESPACE","    ",83],["T_FOREACH","foreach",83],["T_WHITESPACE"," ",83],"(",["T_VARIABLE","$migration_ids",83],["T_WHITESPACE"," ",83],["T_AS","as",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$migration_id",83],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n      ",83],["T_VARIABLE","$migration",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getMigration",84],"(",["T_VARIABLE","$migration_id",84],")",";",["T_WHITESPACE","\n      ",84],["T_VARIABLE","$executable",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_NEW","new",85],["T_WHITESPACE"," ",85],["T_STRING","MigrateExecutable",85],"(",["T_VARIABLE","$migration",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],")",";",["T_WHITESPACE","\n      ",85],["T_VARIABLE","$executable",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","rollback",86],"(",")",";",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n\n    ",87],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertEquals",89],"(",["T_LNUMBER","0",89],",",["T_WHITESPACE"," ",89],["T_STRING","count",89],"(",["T_VARIABLE","$storage",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","loadMultiple",89],"(",")",")",")",";",["T_WHITESPACE","\n  ",89],"}",["T_WHITESPACE","\n\n",90],"}",["T_WHITESPACE","\n",92]]