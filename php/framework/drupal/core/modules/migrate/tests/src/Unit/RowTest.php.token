[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","migrate",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Unit",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","migrate",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Plugin",5],["T_NS_SEPARATOR","\\",5],["T_STRING","MigrateIdMapInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","migrate",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Row",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Tests",7],["T_NS_SEPARATOR","\\",7],["T_STRING","UnitTestCase",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * @coversDefaultClass \\Drupal\\migrate\\Row\n * @group migrate\n *\/",9],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","RowTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","UnitTestCase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * The source IDs.\n   *\n   * @var array\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$testSourceIds",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_ARRAY","array",20],"(",["T_WHITESPACE","\n    ",20],["T_CONSTANT_ENCAPSED_STRING","'nid'",21],["T_WHITESPACE"," ",21],["T_DOUBLE_ARROW","=>",21],["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'Node ID'",21],",",["T_WHITESPACE","\n  ",21],")",";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * The test values.\n   *\n   * @var array\n   *\/",24],["T_WHITESPACE","\n  ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$testValues",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_ARRAY","array",29],"(",["T_WHITESPACE","\n    ",29],["T_CONSTANT_ENCAPSED_STRING","'nid'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_LNUMBER","1",30],",",["T_WHITESPACE","\n    ",30],["T_CONSTANT_ENCAPSED_STRING","'title'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'node 1'",31],",",["T_WHITESPACE","\n  ",31],")",";",["T_WHITESPACE","\n\n  ",32],["T_DOC_COMMENT","\/**\n   * The test hash.\n   *\n   * @var string\n   *\/",34],["T_WHITESPACE","\n  ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$testHash",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'85795d4cde4a2425868b812cc88052ecd14fc912e7b9b4de45780f66750e8b1e'",39],";",["T_WHITESPACE","\n\n  ",39],["T_DOC_COMMENT","\/**\n   * The test hash after changing title value to 'new title'.\n   *\n   * @var string\n   *\/",41],["T_WHITESPACE","\n  ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$testHashMod",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'9476aab0b62b3f47342cc6530441432e5612dcba7ca84115bbab5cceaca1ecb3'",46],";",["T_WHITESPACE","\n\n  ",46],["T_DOC_COMMENT","\/**\n   * Tests object creation: empty.\n   *\/",48],["T_WHITESPACE","\n  ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","testRowWithoutData",51],"(",")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$row",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_NEW","new",52],["T_WHITESPACE"," ",52],["T_STRING","Row",52],"(",")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","assertSame",53],"(",["T_ARRAY","array",53],"(",")",",",["T_WHITESPACE"," ",53],["T_VARIABLE","$row",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getSource",53],"(",")",",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'Empty row'",53],")",";",["T_WHITESPACE","\n  ",53],"}",["T_WHITESPACE","\n\n  ",54],["T_DOC_COMMENT","\/**\n   * Tests object creation: basic.\n   *\/",56],["T_WHITESPACE","\n  ",58],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","testRowWithBasicData",59],"(",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$row",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_NEW","new",60],["T_WHITESPACE"," ",60],["T_STRING","Row",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","testValues",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","testSourceIds",60],")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","assertSame",61],"(",["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","testValues",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$row",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getSource",61],"(",")",",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'Row with data, simple id.'",61],")",";",["T_WHITESPACE","\n  ",61],"}",["T_WHITESPACE","\n\n  ",62],["T_DOC_COMMENT","\/**\n   * Tests object creation: multiple source IDs.\n   *\/",64],["T_WHITESPACE","\n  ",66],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","testRowWithMultipleSourceIds",67],"(",")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$multi_source_ids",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","testSourceIds",68],["T_WHITESPACE"," ",68],"+",["T_WHITESPACE"," ",68],["T_ARRAY","array",68],"(",["T_CONSTANT_ENCAPSED_STRING","'vid'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'Node revision'",68],")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$multi_source_ids_values",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","testValues",69],["T_WHITESPACE"," ",69],"+",["T_WHITESPACE"," ",69],["T_ARRAY","array",69],"(",["T_CONSTANT_ENCAPSED_STRING","'vid'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_LNUMBER","1",69],")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$row",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_NEW","new",70],["T_WHITESPACE"," ",70],["T_STRING","Row",70],"(",["T_VARIABLE","$multi_source_ids_values",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$multi_source_ids",70],")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertSame",71],"(",["T_VARIABLE","$multi_source_ids_values",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$row",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getSource",71],"(",")",",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'Row with data, multifield id.'",71],")",";",["T_WHITESPACE","\n  ",71],"}",["T_WHITESPACE","\n\n  ",72],["T_DOC_COMMENT","\/**\n   * Tests object creation: invalid values.\n   *\n   * @expectedException \\Exception\n   *\/",74],["T_WHITESPACE","\n  ",78],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","testRowWithInvalidData",79],"(",")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$invalid_values",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_ARRAY","array",80],"(",["T_WHITESPACE","\n      ",80],["T_CONSTANT_ENCAPSED_STRING","'title'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'node X'",81],",",["T_WHITESPACE","\n    ",81],")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$row",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_NEW","new",83],["T_WHITESPACE"," ",83],["T_STRING","Row",83],"(",["T_VARIABLE","$invalid_values",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","testSourceIds",83],")",";",["T_WHITESPACE","\n  ",83],"}",["T_WHITESPACE","\n\n  ",84],["T_DOC_COMMENT","\/**\n   * Tests source immutability after freeze.\n   *\n   * @expectedException \\Exception\n   *\/",86],["T_WHITESPACE","\n  ",90],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","testSourceFreeze",91],"(",")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$row",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_NEW","new",92],["T_WHITESPACE"," ",92],["T_STRING","Row",92],"(",["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","testValues",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","testSourceIds",92],")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$row",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","rehash",93],"(",")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertSame",94],"(",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","testHash",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$row",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getHash",94],"(",")",",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'Correct hash.'",94],")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$row",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","setSourceProperty",95],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",95],",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'new title'",95],")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$row",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","rehash",96],"(",")",";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","assertSame",97],"(",["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","testHashMod",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$row",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getHash",97],"(",")",",",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'Hash changed correctly.'",97],")",";",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$row",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","freezeSource",98],"(",")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$row",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","setSourceProperty",99],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",99],",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'new title'",99],")",";",["T_WHITESPACE","\n  ",99],"}",["T_WHITESPACE","\n\n  ",100],["T_DOC_COMMENT","\/**\n   * Tests setting on a frozen row.\n   *\n   * @expectedException \\Exception\n   * @expectedExceptionMessage The source is frozen and can't be changed any more\n   *\/",102],["T_WHITESPACE","\n  ",107],["T_PUBLIC","public",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","testSetFrozenRow",108],"(",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$row",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_NEW","new",109],["T_WHITESPACE"," ",109],["T_STRING","Row",109],"(",["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","testValues",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","testSourceIds",109],")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$row",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","freezeSource",110],"(",")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$row",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","setSourceProperty",111],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'new title'",111],")",";",["T_WHITESPACE","\n  ",111],"}",["T_WHITESPACE","\n\n  ",112],["T_DOC_COMMENT","\/**\n   * Tests hashing.\n   *\/",114],["T_WHITESPACE","\n  ",116],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","testHashing",117],"(",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$row",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_NEW","new",118],["T_WHITESPACE"," ",118],["T_STRING","Row",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","testValues",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","testSourceIds",118],")",";",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertSame",119],"(",["T_CONSTANT_ENCAPSED_STRING","''",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$row",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getHash",119],"(",")",",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'No hash at creation'",119],")",";",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$row",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","rehash",120],"(",")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","assertSame",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","testHash",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$row",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getHash",121],"(",")",",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'Correct hash.'",121],")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$row",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","rehash",122],"(",")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","assertSame",123],"(",["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","testHash",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$row",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getHash",123],"(",")",",",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'Correct hash even doing it twice.'",123],")",";",["T_WHITESPACE","\n\n    ",123],["T_COMMENT","\/\/ Set the map to needs update.\n",125],["T_WHITESPACE","    ",126],["T_VARIABLE","$test_id_map",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_ARRAY","array",126],"(",["T_WHITESPACE","\n      ",126],["T_CONSTANT_ENCAPSED_STRING","'original_hash'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","''",127],",",["T_WHITESPACE","\n      ",127],["T_CONSTANT_ENCAPSED_STRING","'hash'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","''",128],",",["T_WHITESPACE","\n      ",128],["T_CONSTANT_ENCAPSED_STRING","'source_row_status'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_STRING","MigrateIdMapInterface",129],["T_DOUBLE_COLON","::",129],["T_STRING","STATUS_NEEDS_UPDATE",129],",",["T_WHITESPACE","\n    ",129],")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$row",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","setIdMap",131],"(",["T_VARIABLE","$test_id_map",131],")",";",["T_WHITESPACE","\n    ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","assertTrue",132],"(",["T_VARIABLE","$row",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","needsUpdate",132],"(",")",")",";",["T_WHITESPACE","\n\n    ",132],["T_VARIABLE","$row",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","rehash",134],"(",")",";",["T_WHITESPACE","\n    ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","assertSame",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","testHash",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$row",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getHash",135],"(",")",",",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'Correct hash even if id_mpa have changed.'",135],")",";",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$row",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","setSourceProperty",136],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",136],",",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'new title'",136],")",";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$row",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","rehash",137],"(",")",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","assertSame",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","testHashMod",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$row",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getHash",138],"(",")",",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'Hash changed correctly.'",138],")",";",["T_WHITESPACE","\n    ",138],["T_COMMENT","\/\/ Check hash calculation algorithm.\n",139],["T_WHITESPACE","    ",140],["T_VARIABLE","$hash",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_STRING","hash",140],"(",["T_CONSTANT_ENCAPSED_STRING","'sha256'",140],",",["T_WHITESPACE"," ",140],["T_STRING","serialize",140],"(",["T_VARIABLE","$row",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getSource",140],"(",")",")",")",";",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","assertSame",141],"(",["T_VARIABLE","$hash",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$row",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getHash",141],"(",")",")",";",["T_WHITESPACE","\n    ",141],["T_COMMENT","\/\/ Check length of generated hash used for mapping schema.\n",142],["T_WHITESPACE","    ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","assertSame",143],"(",["T_LNUMBER","64",143],",",["T_WHITESPACE"," ",143],["T_STRING","strlen",143],"(",["T_VARIABLE","$row",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getHash",143],"(",")",")",")",";",["T_WHITESPACE","\n\n    ",143],["T_COMMENT","\/\/ Set the map to successfully imported.\n",145],["T_WHITESPACE","    ",146],["T_VARIABLE","$test_id_map",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_ARRAY","array",146],"(",["T_WHITESPACE","\n      ",146],["T_CONSTANT_ENCAPSED_STRING","'original_hash'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","''",147],",",["T_WHITESPACE","\n      ",147],["T_CONSTANT_ENCAPSED_STRING","'hash'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","''",148],",",["T_WHITESPACE","\n      ",148],["T_CONSTANT_ENCAPSED_STRING","'source_row_status'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_STRING","MigrateIdMapInterface",149],["T_DOUBLE_COLON","::",149],["T_STRING","STATUS_IMPORTED",149],",",["T_WHITESPACE","\n    ",149],")",";",["T_WHITESPACE","\n    ",150],["T_VARIABLE","$row",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","setIdMap",151],"(",["T_VARIABLE","$test_id_map",151],")",";",["T_WHITESPACE","\n    ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","assertFalse",152],"(",["T_VARIABLE","$row",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","needsUpdate",152],"(",")",")",";",["T_WHITESPACE","\n\n    ",152],["T_COMMENT","\/\/ Set the same hash value and ensure it was not changed.\n",154],["T_WHITESPACE","    ",155],["T_VARIABLE","$random",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","randomMachineName",155],"(",")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$test_id_map",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_ARRAY","array",156],"(",["T_WHITESPACE","\n      ",156],["T_CONSTANT_ENCAPSED_STRING","'original_hash'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$random",157],",",["T_WHITESPACE","\n      ",157],["T_CONSTANT_ENCAPSED_STRING","'hash'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$random",158],",",["T_WHITESPACE","\n      ",158],["T_CONSTANT_ENCAPSED_STRING","'source_row_status'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_STRING","MigrateIdMapInterface",159],["T_DOUBLE_COLON","::",159],["T_STRING","STATUS_NEEDS_UPDATE",159],",",["T_WHITESPACE","\n    ",159],")",";",["T_WHITESPACE","\n    ",160],["T_VARIABLE","$row",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","setIdMap",161],"(",["T_VARIABLE","$test_id_map",161],")",";",["T_WHITESPACE","\n    ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","assertFalse",162],"(",["T_VARIABLE","$row",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","changed",162],"(",")",")",";",["T_WHITESPACE","\n\n    ",162],["T_COMMENT","\/\/ Set different has values to ensure it is marked as changed.\n",164],["T_WHITESPACE","    ",165],["T_VARIABLE","$test_id_map",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_ARRAY","array",165],"(",["T_WHITESPACE","\n      ",165],["T_CONSTANT_ENCAPSED_STRING","'original_hash'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","randomMachineName",166],"(",")",",",["T_WHITESPACE","\n      ",166],["T_CONSTANT_ENCAPSED_STRING","'hash'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","randomMachineName",167],"(",")",",",["T_WHITESPACE","\n      ",167],["T_CONSTANT_ENCAPSED_STRING","'source_row_status'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_STRING","MigrateIdMapInterface",168],["T_DOUBLE_COLON","::",168],["T_STRING","STATUS_NEEDS_UPDATE",168],",",["T_WHITESPACE","\n    ",168],")",";",["T_WHITESPACE","\n    ",169],["T_VARIABLE","$row",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","setIdMap",170],"(",["T_VARIABLE","$test_id_map",170],")",";",["T_WHITESPACE","\n    ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","assertTrue",171],"(",["T_VARIABLE","$row",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","changed",171],"(",")",")",";",["T_WHITESPACE","\n  ",171],"}",["T_WHITESPACE","\n\n  ",172],["T_DOC_COMMENT","\/**\n   * Tests getting\/setting the ID Map.\n   *\n   * @covers ::setIdMap\n   * @covers ::getIdMap\n   *\/",174],["T_WHITESPACE","\n  ",179],["T_PUBLIC","public",180],["T_WHITESPACE"," ",180],["T_FUNCTION","function",180],["T_WHITESPACE"," ",180],["T_STRING","testGetSetIdMap",180],"(",")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n    ",180],["T_VARIABLE","$row",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_NEW","new",181],["T_WHITESPACE"," ",181],["T_STRING","Row",181],"(",["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","testValues",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","testSourceIds",181],")",";",["T_WHITESPACE","\n    ",181],["T_VARIABLE","$test_id_map",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_ARRAY","array",182],"(",["T_WHITESPACE","\n      ",182],["T_CONSTANT_ENCAPSED_STRING","'original_hash'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","''",183],",",["T_WHITESPACE","\n      ",183],["T_CONSTANT_ENCAPSED_STRING","'hash'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","''",184],",",["T_WHITESPACE","\n      ",184],["T_CONSTANT_ENCAPSED_STRING","'source_row_status'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_STRING","MigrateIdMapInterface",185],["T_DOUBLE_COLON","::",185],["T_STRING","STATUS_NEEDS_UPDATE",185],",",["T_WHITESPACE","\n    ",185],")",";",["T_WHITESPACE","\n    ",186],["T_VARIABLE","$row",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","setIdMap",187],"(",["T_VARIABLE","$test_id_map",187],")",";",["T_WHITESPACE","\n    ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","assertEquals",188],"(",["T_VARIABLE","$test_id_map",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$row",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","getIdMap",188],"(",")",")",";",["T_WHITESPACE","\n  ",188],"}",["T_WHITESPACE","\n\n  ",189],["T_DOC_COMMENT","\/**\n   * Tests the source ID.\n   *\/",191],["T_WHITESPACE","\n  ",193],["T_PUBLIC","public",194],["T_WHITESPACE"," ",194],["T_FUNCTION","function",194],["T_WHITESPACE"," ",194],["T_STRING","testSourceIdValues",194],"(",")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n    ",194],["T_VARIABLE","$row",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_NEW","new",195],["T_WHITESPACE"," ",195],["T_STRING","Row",195],"(",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","testValues",195],",",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","testSourceIds",195],")",";",["T_WHITESPACE","\n    ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","assertSame",196],"(",["T_ARRAY","array",196],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","testValues",196],"[",["T_CONSTANT_ENCAPSED_STRING","'nid'",196],"]",")",",",["T_WHITESPACE"," ",196],["T_VARIABLE","$row",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getSourceIdValues",196],"(",")",")",";",["T_WHITESPACE","\n  ",196],"}",["T_WHITESPACE","\n\n  ",197],["T_DOC_COMMENT","\/**\n   * Tests getting the source property.\n   *\n   * @covers ::getSourceProperty\n   *\/",199],["T_WHITESPACE","\n  ",203],["T_PUBLIC","public",204],["T_WHITESPACE"," ",204],["T_FUNCTION","function",204],["T_WHITESPACE"," ",204],["T_STRING","testGetSourceProperty",204],"(",")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n    ",204],["T_VARIABLE","$row",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_NEW","new",205],["T_WHITESPACE"," ",205],["T_STRING","Row",205],"(",["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","testValues",205],",",["T_WHITESPACE"," ",205],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","testSourceIds",205],")",";",["T_WHITESPACE","\n    ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","assertSame",206],"(",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","testValues",206],"[",["T_CONSTANT_ENCAPSED_STRING","'nid'",206],"]",",",["T_WHITESPACE"," ",206],["T_VARIABLE","$row",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","getSourceProperty",206],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",206],")",")",";",["T_WHITESPACE","\n    ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","assertSame",207],"(",["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","testValues",207],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",207],"]",",",["T_WHITESPACE"," ",207],["T_VARIABLE","$row",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getSourceProperty",207],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",207],")",")",";",["T_WHITESPACE","\n    ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","assertNull",208],"(",["T_VARIABLE","$row",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getSourceProperty",208],"(",["T_CONSTANT_ENCAPSED_STRING","'non_existing'",208],")",")",";",["T_WHITESPACE","\n  ",208],"}",["T_WHITESPACE","\n\n  ",209],["T_DOC_COMMENT","\/**\n   * Tests setting and getting the destination.\n   *\/",211],["T_WHITESPACE","\n  ",213],["T_PUBLIC","public",214],["T_WHITESPACE"," ",214],["T_FUNCTION","function",214],["T_WHITESPACE"," ",214],["T_STRING","testDestination",214],"(",")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n    ",214],["T_VARIABLE","$row",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_NEW","new",215],["T_WHITESPACE"," ",215],["T_STRING","Row",215],"(",["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","testValues",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","testSourceIds",215],")",";",["T_WHITESPACE","\n    ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","assertEmpty",216],"(",["T_VARIABLE","$row",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getDestination",216],"(",")",")",";",["T_WHITESPACE","\n    ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","assertFalse",217],"(",["T_VARIABLE","$row",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","hasDestinationProperty",217],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",217],")",")",";",["T_WHITESPACE","\n\n    ",217],["T_COMMENT","\/\/ Set a destination.\n",219],["T_WHITESPACE","    ",220],["T_VARIABLE","$row",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","setDestinationProperty",220],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",220],",",["T_WHITESPACE"," ",220],["T_LNUMBER","2",220],")",";",["T_WHITESPACE","\n    ",220],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","assertTrue",221],"(",["T_VARIABLE","$row",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","hasDestinationProperty",221],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",221],")",")",";",["T_WHITESPACE","\n    ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","assertEquals",222],"(",["T_ARRAY","array",222],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",222],["T_WHITESPACE"," ",222],["T_DOUBLE_ARROW","=>",222],["T_WHITESPACE"," ",222],["T_LNUMBER","2",222],")",",",["T_WHITESPACE"," ",222],["T_VARIABLE","$row",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getDestination",222],"(",")",")",";",["T_WHITESPACE","\n  ",222],"}",["T_WHITESPACE","\n\n  ",223],["T_DOC_COMMENT","\/**\n   * Tests setting\/getting multiple destination IDs.\n   *\/",225],["T_WHITESPACE","\n  ",227],["T_PUBLIC","public",228],["T_WHITESPACE"," ",228],["T_FUNCTION","function",228],["T_WHITESPACE"," ",228],["T_STRING","testMultipleDestination",228],"(",")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n    ",228],["T_VARIABLE","$row",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_NEW","new",229],["T_WHITESPACE"," ",229],["T_STRING","Row",229],"(",["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","testValues",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","testSourceIds",229],")",";",["T_WHITESPACE","\n    ",229],["T_COMMENT","\/\/ Set some deep nested values.\n",230],["T_WHITESPACE","    ",231],["T_VARIABLE","$row",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","setDestinationProperty",231],"(",["T_CONSTANT_ENCAPSED_STRING","'image\/alt'",231],",",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'alt text'",231],")",";",["T_WHITESPACE","\n    ",231],["T_VARIABLE","$row",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","setDestinationProperty",232],"(",["T_CONSTANT_ENCAPSED_STRING","'image\/fid'",232],",",["T_WHITESPACE"," ",232],["T_LNUMBER","3",232],")",";",["T_WHITESPACE","\n\n    ",232],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","assertTrue",234],"(",["T_VARIABLE","$row",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","hasDestinationProperty",234],"(",["T_CONSTANT_ENCAPSED_STRING","'image'",234],")",")",";",["T_WHITESPACE","\n    ",234],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","assertFalse",235],"(",["T_VARIABLE","$row",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","hasDestinationProperty",235],"(",["T_CONSTANT_ENCAPSED_STRING","'alt'",235],")",")",";",["T_WHITESPACE","\n    ",235],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","assertFalse",236],"(",["T_VARIABLE","$row",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","hasDestinationProperty",236],"(",["T_CONSTANT_ENCAPSED_STRING","'fid'",236],")",")",";",["T_WHITESPACE","\n\n    ",236],["T_VARIABLE","$destination",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$row",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getDestination",238],"(",")",";",["T_WHITESPACE","\n    ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","assertEquals",239],"(",["T_CONSTANT_ENCAPSED_STRING","'alt text'",239],",",["T_WHITESPACE"," ",239],["T_VARIABLE","$destination",239],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",239],"]","[",["T_CONSTANT_ENCAPSED_STRING","'alt'",239],"]",")",";",["T_WHITESPACE","\n    ",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","assertEquals",240],"(",["T_LNUMBER","3",240],",",["T_WHITESPACE"," ",240],["T_VARIABLE","$destination",240],"[",["T_CONSTANT_ENCAPSED_STRING","'image'",240],"]","[",["T_CONSTANT_ENCAPSED_STRING","'fid'",240],"]",")",";",["T_WHITESPACE","\n    ",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","assertEquals",241],"(",["T_CONSTANT_ENCAPSED_STRING","'alt text'",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$row",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getDestinationProperty",241],"(",["T_CONSTANT_ENCAPSED_STRING","'image\/alt'",241],")",")",";",["T_WHITESPACE","\n    ",241],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","assertEquals",242],"(",["T_LNUMBER","3",242],",",["T_WHITESPACE"," ",242],["T_VARIABLE","$row",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getDestinationProperty",242],"(",["T_CONSTANT_ENCAPSED_STRING","'image\/fid'",242],")",")",";",["T_WHITESPACE","\n  ",242],"}",["T_WHITESPACE","\n\n",243],"}",["T_WHITESPACE","\n",245]]