[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","block",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Form",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FormState",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","block",6],["T_NS_SEPARATOR","\\",6],["T_STRING","BlockInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","KernelTests",7],["T_NS_SEPARATOR","\\",7],["T_STRING","KernelTestBase",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Tests that the block plugin can work properly without a supporting entity.\n *\n * @group block\n *\/",9],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","BlockInterfaceTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","KernelTestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_PUBLIC","public",16],["T_WHITESPACE"," ",16],["T_STATIC","static",16],["T_WHITESPACE"," ",16],["T_VARIABLE","$modules",16],["T_WHITESPACE"," ",16],"=",["T_WHITESPACE"," ",16],["T_ARRAY","array",16],"(",["T_CONSTANT_ENCAPSED_STRING","'system'",16],",",["T_WHITESPACE"," ",16],["T_CONSTANT_ENCAPSED_STRING","'block'",16],",",["T_WHITESPACE"," ",16],["T_CONSTANT_ENCAPSED_STRING","'block_test'",16],",",["T_WHITESPACE"," ",16],["T_CONSTANT_ENCAPSED_STRING","'user'",16],")",";",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * Test configuration and subsequent form() and build() method calls.\n   *\n   * This test is attempting to test the existing block plugin api and all\n   * functionality that is expected to remain consistent. The arrays that are\n   * used for comparison can change, but only to include elements that are\n   * contained within BlockBase or the plugin being tested. Likely these\n   * comparison arrays should get smaller, not larger, as more form\/build\n   * elements are moved into a more suitably responsible class.\n   *\n   * Instantiation of the plugin is the primary element being tested here. The\n   * subsequent method calls are just attempting to cause a failure if a\n   * dependency outside of the plugin configuration is required.\n   *\/",18],["T_WHITESPACE","\n  ",31],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","testBlockInterface",32],"(",")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$manager",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","container",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","get",33],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.block'",33],")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$configuration",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",["T_WHITESPACE","\n      ",34],["T_CONSTANT_ENCAPSED_STRING","'label'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'Custom Display Message'",35],",",["T_WHITESPACE","\n    ",35],")",";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$expected_configuration",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_ARRAY","array",37],"(",["T_WHITESPACE","\n      ",37],["T_CONSTANT_ENCAPSED_STRING","'id'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'test_block_instantiation'",38],",",["T_WHITESPACE","\n      ",38],["T_CONSTANT_ENCAPSED_STRING","'label'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'Custom Display Message'",39],",",["T_WHITESPACE","\n      ",39],["T_CONSTANT_ENCAPSED_STRING","'provider'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'block_test'",40],",",["T_WHITESPACE","\n      ",40],["T_CONSTANT_ENCAPSED_STRING","'label_display'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_STRING","BlockInterface",41],["T_DOUBLE_COLON","::",41],["T_STRING","BLOCK_LABEL_VISIBLE",41],",",["T_WHITESPACE","\n      ",41],["T_CONSTANT_ENCAPSED_STRING","'display_message'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'no message set'",42],",",["T_WHITESPACE","\n    ",42],")",";",["T_WHITESPACE","\n    ",43],["T_COMMENT","\/\/ Initial configuration of the block at construction time.\n",44],["T_WHITESPACE","    ",45],["T_DOC_COMMENT","\/** @var $display_block \\Drupal\\Core\\Block\\BlockPluginInterface *\/",45],["T_WHITESPACE","\n    ",45],["T_VARIABLE","$display_block",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$manager",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","createInstance",46],"(",["T_CONSTANT_ENCAPSED_STRING","'test_block_instantiation'",46],",",["T_WHITESPACE"," ",46],["T_VARIABLE","$configuration",46],")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","assertIdentical",47],"(",["T_VARIABLE","$display_block",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","getConfiguration",47],"(",")",",",["T_WHITESPACE"," ",47],["T_VARIABLE","$expected_configuration",47],",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'The block was configured correctly.'",47],")",";",["T_WHITESPACE","\n\n    ",47],["T_COMMENT","\/\/ Updating an element of the configuration.\n",49],["T_WHITESPACE","    ",50],["T_VARIABLE","$display_block",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","setConfigurationValue",50],"(",["T_CONSTANT_ENCAPSED_STRING","'display_message'",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'My custom display message.'",50],")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$expected_configuration",51],"[",["T_CONSTANT_ENCAPSED_STRING","'display_message'",51],"]",["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'My custom display message.'",51],";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","assertIdentical",52],"(",["T_VARIABLE","$display_block",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getConfiguration",52],"(",")",",",["T_WHITESPACE"," ",52],["T_VARIABLE","$expected_configuration",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'The block configuration was updated correctly.'",52],")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$definition",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$display_block",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getPluginDefinition",53],"(",")",";",["T_WHITESPACE","\n\n    ",53],["T_VARIABLE","$expected_form",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",["T_WHITESPACE","\n      ",55],["T_CONSTANT_ENCAPSED_STRING","'provider'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_ARRAY","array",56],"(",["T_WHITESPACE","\n        ",56],["T_CONSTANT_ENCAPSED_STRING","'#type'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'value'",57],",",["T_WHITESPACE","\n        ",57],["T_CONSTANT_ENCAPSED_STRING","'#value'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'block_test'",58],",",["T_WHITESPACE","\n      ",58],")",",",["T_WHITESPACE","\n      ",59],["T_CONSTANT_ENCAPSED_STRING","'admin_label'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_ARRAY","array",60],"(",["T_WHITESPACE","\n        ",60],["T_CONSTANT_ENCAPSED_STRING","'#type'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'item'",61],",",["T_WHITESPACE","\n        ",61],["T_CONSTANT_ENCAPSED_STRING","'#title'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_STRING","t",62],"(",["T_CONSTANT_ENCAPSED_STRING","'Block description'",62],")",",",["T_WHITESPACE","\n        ",62],["T_CONSTANT_ENCAPSED_STRING","'#plain_text'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$definition",63],"[",["T_CONSTANT_ENCAPSED_STRING","'admin_label'",63],"]",",",["T_WHITESPACE","\n      ",63],")",",",["T_WHITESPACE","\n      ",64],["T_CONSTANT_ENCAPSED_STRING","'label'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_ARRAY","array",65],"(",["T_WHITESPACE","\n        ",65],["T_CONSTANT_ENCAPSED_STRING","'#type'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'textfield'",66],",",["T_WHITESPACE","\n        ",66],["T_CONSTANT_ENCAPSED_STRING","'#title'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'Title'",67],",",["T_WHITESPACE","\n        ",67],["T_CONSTANT_ENCAPSED_STRING","'#maxlength'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_LNUMBER","255",68],",",["T_WHITESPACE","\n        ",68],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'Custom Display Message'",69],",",["T_WHITESPACE","\n        ",69],["T_CONSTANT_ENCAPSED_STRING","'#required'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_STRING","TRUE",70],",",["T_WHITESPACE","\n      ",70],")",",",["T_WHITESPACE","\n      ",71],["T_CONSTANT_ENCAPSED_STRING","'label_display'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_ARRAY","array",72],"(",["T_WHITESPACE","\n        ",72],["T_CONSTANT_ENCAPSED_STRING","'#type'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'checkbox'",73],",",["T_WHITESPACE","\n        ",73],["T_CONSTANT_ENCAPSED_STRING","'#title'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'Display title'",74],",",["T_WHITESPACE","\n        ",74],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_STRING","TRUE",75],",",["T_WHITESPACE","\n        ",75],["T_CONSTANT_ENCAPSED_STRING","'#return_value'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'visible'",76],",",["T_WHITESPACE","\n      ",76],")",",",["T_WHITESPACE","\n      ",77],["T_CONSTANT_ENCAPSED_STRING","'context_mapping'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_ARRAY","array",78],"(",")",",",["T_WHITESPACE","\n      ",78],["T_CONSTANT_ENCAPSED_STRING","'display_message'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_ARRAY","array",79],"(",["T_WHITESPACE","\n        ",79],["T_CONSTANT_ENCAPSED_STRING","'#type'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'textfield'",80],",",["T_WHITESPACE","\n        ",80],["T_CONSTANT_ENCAPSED_STRING","'#title'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_STRING","t",81],"(",["T_CONSTANT_ENCAPSED_STRING","'Display message'",81],")",",",["T_WHITESPACE","\n        ",81],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'My custom display message.'",82],",",["T_WHITESPACE","\n      ",82],")",",",["T_WHITESPACE","\n    ",83],")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$form_state",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_NEW","new",85],["T_WHITESPACE"," ",85],["T_STRING","FormState",85],"(",")",";",["T_WHITESPACE","\n    ",85],["T_COMMENT","\/\/ Ensure there are no form elements that do not belong to the plugin.\n",86],["T_WHITESPACE","    ",87],["T_VARIABLE","$actual_form",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$display_block",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","buildConfigurationForm",87],"(",["T_ARRAY","array",87],"(",")",",",["T_WHITESPACE"," ",87],["T_VARIABLE","$form_state",87],")",";",["T_WHITESPACE","\n    ",87],["T_COMMENT","\/\/ Remove the visibility sections, as that just tests condition plugins.\n",88],["T_WHITESPACE","    ",89],["T_UNSET","unset",89],"(",["T_VARIABLE","$actual_form",89],"[",["T_CONSTANT_ENCAPSED_STRING","'visibility'",89],"]",",",["T_WHITESPACE"," ",89],["T_VARIABLE","$actual_form",89],"[",["T_CONSTANT_ENCAPSED_STRING","'visibility_tabs'",89],"]",")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertIdentical",90],"(",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","castSafeStrings",90],"(",["T_VARIABLE","$actual_form",90],")",",",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","castSafeStrings",90],"(",["T_VARIABLE","$expected_form",90],")",",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'Only the expected form elements were present.'",90],")",";",["T_WHITESPACE","\n\n    ",90],["T_VARIABLE","$expected_build",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_ARRAY","array",92],"(",["T_WHITESPACE","\n      ",92],["T_CONSTANT_ENCAPSED_STRING","'#children'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'My custom display message.'",93],",",["T_WHITESPACE","\n    ",93],")",";",["T_WHITESPACE","\n    ",94],["T_COMMENT","\/\/ Ensure the build array is proper.\n",95],["T_WHITESPACE","    ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","assertIdentical",96],"(",["T_VARIABLE","$display_block",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","build",96],"(",")",",",["T_WHITESPACE"," ",96],["T_VARIABLE","$expected_build",96],",",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'The plugin returned the appropriate build array.'",96],")",";",["T_WHITESPACE","\n\n    ",96],["T_COMMENT","\/\/ Ensure the machine name suggestion is correct. In truth, this is actually\n",98],["T_WHITESPACE","    ",99],["T_COMMENT","\/\/ testing BlockBase's implementation, not the interface itself.\n",99],["T_WHITESPACE","    ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertIdentical",100],"(",["T_VARIABLE","$display_block",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getMachineNameSuggestion",100],"(",")",",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'displaymessage'",100],",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'The plugin returned the expected machine name suggestion.'",100],")",";",["T_WHITESPACE","\n  ",100],"}",["T_WHITESPACE","\n\n",101],"}",["T_WHITESPACE","\n",103]]