[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","block",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Plugin",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Exception",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ContextException",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Access",6],["T_NS_SEPARATOR","\\",6],["T_STRING","AccessResult",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Cache",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Cache",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Cache",8],["T_NS_SEPARATOR","\\",8],["T_STRING","CacheableDependencyInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Condition",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ConditionAccessResolverTrait",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Entity",10],["T_NS_SEPARATOR","\\",10],["T_STRING","EntityAccessControlHandler",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Entity",11],["T_NS_SEPARATOR","\\",11],["T_STRING","EntityHandlerInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Entity",12],["T_NS_SEPARATOR","\\",12],["T_STRING","EntityInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Core",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Entity",13],["T_NS_SEPARATOR","\\",13],["T_STRING","EntityTypeInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Drupal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Core",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Executable",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ExecutableManagerInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Drupal",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Core",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Plugin",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Context",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ContextHandlerInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Drupal",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Core",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Plugin",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Context",16],["T_NS_SEPARATOR","\\",16],["T_STRING","ContextRepositoryInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Drupal",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Core",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Plugin",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ContextAwarePluginInterface",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Drupal",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Core",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Session",18],["T_NS_SEPARATOR","\\",18],["T_STRING","AccountInterface",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Symfony",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Component",19],["T_NS_SEPARATOR","\\",19],["T_STRING","DependencyInjection",19],["T_NS_SEPARATOR","\\",19],["T_STRING","ContainerInterface",19],";",["T_WHITESPACE","\n\n",19],["T_DOC_COMMENT","\/**\n * Defines the access control handler for the block entity type.\n *\n * @see \\Drupal\\block\\Entity\\Block\n *\/",21],["T_WHITESPACE","\n",25],["T_CLASS","class",26],["T_WHITESPACE"," ",26],["T_STRING","BlockAccessControlHandler",26],["T_WHITESPACE"," ",26],["T_EXTENDS","extends",26],["T_WHITESPACE"," ",26],["T_STRING","EntityAccessControlHandler",26],["T_WHITESPACE"," ",26],["T_IMPLEMENTS","implements",26],["T_WHITESPACE"," ",26],["T_STRING","EntityHandlerInterface",26],["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n\n  ",26],["T_USE","use",28],["T_WHITESPACE"," ",28],["T_STRING","ConditionAccessResolverTrait",28],";",["T_WHITESPACE","\n\n  ",28],["T_DOC_COMMENT","\/**\n   * The condition plugin manager.\n   *\n   * @var \\Drupal\\Core\\Executable\\ExecutableManagerInterface\n   *\/",30],["T_WHITESPACE","\n  ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$manager",35],";",["T_WHITESPACE","\n\n  ",35],["T_DOC_COMMENT","\/**\n   * The plugin context handler.\n   *\n   * @var \\Drupal\\Core\\Plugin\\Context\\ContextHandlerInterface\n   *\/",37],["T_WHITESPACE","\n  ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$contextHandler",42],";",["T_WHITESPACE","\n\n  ",42],["T_DOC_COMMENT","\/**\n   * The context manager service.\n   *\n   * @var \\Drupal\\Core\\Plugin\\Context\\ContextRepositoryInterface\n   *\/",44],["T_WHITESPACE","\n  ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$contextRepository",49],";",["T_WHITESPACE","\n\n  ",49],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",51],["T_WHITESPACE","\n  ",53],["T_PUBLIC","public",54],["T_WHITESPACE"," ",54],["T_STATIC","static",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","createInstance",54],"(",["T_STRING","ContainerInterface",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$container",54],",",["T_WHITESPACE"," ",54],["T_STRING","EntityTypeInterface",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$entity_type",54],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n    ",54],["T_RETURN","return",55],["T_WHITESPACE"," ",55],["T_NEW","new",55],["T_WHITESPACE"," ",55],["T_STATIC","static",55],"(",["T_WHITESPACE","\n      ",55],["T_VARIABLE","$entity_type",56],",",["T_WHITESPACE","\n      ",56],["T_VARIABLE","$container",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","get",57],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.condition'",57],")",",",["T_WHITESPACE","\n      ",57],["T_VARIABLE","$container",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","get",58],"(",["T_CONSTANT_ENCAPSED_STRING","'context.handler'",58],")",",",["T_WHITESPACE","\n      ",58],["T_VARIABLE","$container",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","get",59],"(",["T_CONSTANT_ENCAPSED_STRING","'context.repository'",59],")",["T_WHITESPACE","\n    ",59],")",";",["T_WHITESPACE","\n  ",60],"}",["T_WHITESPACE","\n\n  ",61],["T_DOC_COMMENT","\/**\n   * Constructs the block access control handler instance\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityTypeInterface $entity_type\n   *   The entity type definition.\n   * @param \\Drupal\\Core\\Executable\\ExecutableManagerInterface $manager\n   *   The ConditionManager for checking visibility of blocks.\n   * @param \\Drupal\\Core\\Plugin\\Context\\ContextHandlerInterface $context_handler\n   *   The ContextHandler for applying contexts to conditions properly.\n   * @param \\Drupal\\Core\\Plugin\\Context\\ContextRepositoryInterface $context_repository\n   *   The lazy context repository service.\n   *\/",63],["T_WHITESPACE","\n  ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","__construct",75],"(",["T_STRING","EntityTypeInterface",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$entity_type",75],",",["T_WHITESPACE"," ",75],["T_STRING","ExecutableManagerInterface",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$manager",75],",",["T_WHITESPACE"," ",75],["T_STRING","ContextHandlerInterface",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$context_handler",75],",",["T_WHITESPACE"," ",75],["T_STRING","ContextRepositoryInterface",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$context_repository",75],["T_WHITESPACE"," ",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n    ",75],["T_STRING","parent",76],["T_DOUBLE_COLON","::",76],["T_STRING","__construct",76],"(",["T_VARIABLE","$entity_type",76],")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","manager",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$manager",77],";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","contextHandler",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$context_handler",78],";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","contextRepository",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$context_repository",79],";",["T_WHITESPACE","\n  ",79],"}",["T_WHITESPACE","\n\n\n  ",80],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",83],["T_WHITESPACE","\n  ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","checkAccess",86],"(",["T_STRING","EntityInterface",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$entity",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$operation",86],",",["T_WHITESPACE"," ",86],["T_STRING","AccountInterface",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$account",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n    ",86],["T_DOC_COMMENT","\/** @var \\Drupal\\block\\BlockInterface $entity *\/",87],["T_WHITESPACE","\n    ",87],["T_IF","if",88],["T_WHITESPACE"," ",88],"(",["T_VARIABLE","$operation",88],["T_WHITESPACE"," ",88],["T_IS_NOT_EQUAL","!=",88],["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'view'",88],")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n      ",88],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_STRING","parent",89],["T_DOUBLE_COLON","::",89],["T_STRING","checkAccess",89],"(",["T_VARIABLE","$entity",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$operation",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$account",89],")",";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_COMMENT","\/\/ Don't grant access to disabled blocks.\n",92],["T_WHITESPACE","    ",93],["T_IF","if",93],["T_WHITESPACE"," ",93],"(","!",["T_VARIABLE","$entity",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","status",93],"(",")",")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n      ",93],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_STRING","AccessResult",94],["T_DOUBLE_COLON","::",94],["T_STRING","forbidden",94],"(",")",["T_OBJECT_OPERATOR","->",94],["T_STRING","addCacheableDependency",94],"(",["T_VARIABLE","$entity",94],")",";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n    ",95],["T_ELSE","else",96],["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n      ",96],["T_VARIABLE","$conditions",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],"[","]",";",["T_WHITESPACE","\n      ",97],["T_VARIABLE","$missing_context",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","FALSE",98],";",["T_WHITESPACE","\n      ",98],["T_FOREACH","foreach",99],["T_WHITESPACE"," ",99],"(",["T_VARIABLE","$entity",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getVisibilityConditions",99],"(",")",["T_WHITESPACE"," ",99],["T_AS","as",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$condition_id",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$condition",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n        ",99],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$condition",100],["T_WHITESPACE"," ",100],["T_INSTANCEOF","instanceof",100],["T_WHITESPACE"," ",100],["T_STRING","ContextAwarePluginInterface",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n          ",100],["T_TRY","try",101],["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$contexts",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","contextRepository",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getRuntimeContexts",102],"(",["T_STRING","array_values",102],"(",["T_VARIABLE","$condition",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getContextMapping",102],"(",")",")",")",";",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","contextHandler",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","applyContextMapping",103],"(",["T_VARIABLE","$condition",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$contexts",103],")",";",["T_WHITESPACE","\n          ",103],"}",["T_WHITESPACE","\n          ",104],["T_CATCH","catch",105],["T_WHITESPACE"," ",105],"(",["T_STRING","ContextException",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$e",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$missing_context",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","TRUE",106],";",["T_WHITESPACE","\n          ",106],"}",["T_WHITESPACE","\n        ",107],"}",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$conditions",109],"[",["T_VARIABLE","$condition_id",109],"]",["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$condition",109],";",["T_WHITESPACE","\n      ",109],"}",["T_WHITESPACE","\n\n      ",110],["T_IF","if",112],["T_WHITESPACE"," ",112],"(",["T_VARIABLE","$missing_context",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n        ",112],["T_COMMENT","\/\/ If any context is missing then we might be missing cacheable\n",113],["T_WHITESPACE","        ",114],["T_COMMENT","\/\/ metadata, and don't know based on what conditions the block is\n",114],["T_WHITESPACE","        ",115],["T_COMMENT","\/\/ accessible or not. For example, blocks that have a node type\n",115],["T_WHITESPACE","        ",116],["T_COMMENT","\/\/ condition will have a missing context on any non-node route like the\n",116],["T_WHITESPACE","        ",117],["T_COMMENT","\/\/ frontpage.\n",117],["T_WHITESPACE","        ",118],["T_COMMENT","\/\/ @todo Avoid setting max-age 0 for some or all cases, for example by\n",118],["T_WHITESPACE","        ",119],["T_COMMENT","\/\/   treating available contexts without value differently in\n",119],["T_WHITESPACE","        ",120],["T_COMMENT","\/\/   https:\/\/www.drupal.org\/node\/2521956.\n",120],["T_WHITESPACE","        ",121],["T_VARIABLE","$access",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_STRING","AccessResult",121],["T_DOUBLE_COLON","::",121],["T_STRING","forbidden",121],"(",")",["T_OBJECT_OPERATOR","->",121],["T_STRING","setCacheMaxAge",121],"(",["T_LNUMBER","0",121],")",";",["T_WHITESPACE","\n      ",121],"}",["T_WHITESPACE","\n      ",122],["T_ELSEIF","elseif",123],["T_WHITESPACE"," ",123],"(",["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","resolveConditions",123],"(",["T_VARIABLE","$conditions",123],",",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'and'",123],")",["T_WHITESPACE"," ",123],["T_IS_NOT_IDENTICAL","!==",123],["T_WHITESPACE"," ",123],["T_STRING","FALSE",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n        ",123],["T_COMMENT","\/\/ Delegate to the plugin.\n",124],["T_WHITESPACE","        ",125],["T_VARIABLE","$block_plugin",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$entity",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getPlugin",125],"(",")",";",["T_WHITESPACE","\n        ",125],["T_TRY","try",126],["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n          ",126],["T_IF","if",127],["T_WHITESPACE"," ",127],"(",["T_VARIABLE","$block_plugin",127],["T_WHITESPACE"," ",127],["T_INSTANCEOF","instanceof",127],["T_WHITESPACE"," ",127],["T_STRING","ContextAwarePluginInterface",127],")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n            ",127],["T_VARIABLE","$contexts",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","contextRepository",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getRuntimeContexts",128],"(",["T_STRING","array_values",128],"(",["T_VARIABLE","$block_plugin",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getContextMapping",128],"(",")",")",")",";",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","contextHandler",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","applyContextMapping",129],"(",["T_VARIABLE","$block_plugin",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$contexts",129],")",";",["T_WHITESPACE","\n          ",129],"}",["T_WHITESPACE","\n          ",130],["T_VARIABLE","$access",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$block_plugin",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","access",131],"(",["T_VARIABLE","$account",131],",",["T_WHITESPACE"," ",131],["T_STRING","TRUE",131],")",";",["T_WHITESPACE","\n        ",131],"}",["T_WHITESPACE","\n        ",132],["T_CATCH","catch",133],["T_WHITESPACE"," ",133],"(",["T_STRING","ContextException",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$e",133],")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n          ",133],["T_COMMENT","\/\/ Setting access to forbidden if any context is missing for the same\n",134],["T_WHITESPACE","          ",135],["T_COMMENT","\/\/ reasons as with conditions (described in the comment above).\n",135],["T_WHITESPACE","          ",136],["T_COMMENT","\/\/ @todo Avoid setting max-age 0 for some or all cases, for example by\n",136],["T_WHITESPACE","          ",137],["T_COMMENT","\/\/   treating available contexts without value differently in\n",137],["T_WHITESPACE","          ",138],["T_COMMENT","\/\/   https:\/\/www.drupal.org\/node\/2521956.\n",138],["T_WHITESPACE","          ",139],["T_VARIABLE","$access",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","AccessResult",139],["T_DOUBLE_COLON","::",139],["T_STRING","forbidden",139],"(",")",["T_OBJECT_OPERATOR","->",139],["T_STRING","setCacheMaxAge",139],"(",["T_LNUMBER","0",139],")",";",["T_WHITESPACE","\n        ",139],"}",["T_WHITESPACE","\n      ",140],"}",["T_WHITESPACE","\n      ",141],["T_ELSE","else",142],["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$access",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_STRING","AccessResult",143],["T_DOUBLE_COLON","::",143],["T_STRING","forbidden",143],"(",")",";",["T_WHITESPACE","\n      ",143],"}",["T_WHITESPACE","\n\n      ",144],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","mergeCacheabilityFromConditions",146],"(",["T_VARIABLE","$access",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$conditions",146],")",";",["T_WHITESPACE","\n\n      ",146],["T_COMMENT","\/\/ Ensure that access is evaluated again when the block changes.\n",148],["T_WHITESPACE","      ",149],["T_RETURN","return",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$access",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","addCacheableDependency",149],"(",["T_VARIABLE","$entity",149],")",";",["T_WHITESPACE","\n    ",149],"}",["T_WHITESPACE","\n  ",150],"}",["T_WHITESPACE","\n\n  ",151],["T_DOC_COMMENT","\/**\n   * Merges cacheable metadata from conditions onto the access result object.\n   *\n   * @param \\Drupal\\Core\\Access\\AccessResult $access\n   *   The access result object.\n   * @param \\Drupal\\Core\\Condition\\ConditionInterface[] $conditions\n   *   List of visibility conditions.\n   *\/",153],["T_WHITESPACE","\n  ",160],["T_PROTECTED","protected",161],["T_WHITESPACE"," ",161],["T_FUNCTION","function",161],["T_WHITESPACE"," ",161],["T_STRING","mergeCacheabilityFromConditions",161],"(",["T_STRING","AccessResult",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$access",161],",",["T_WHITESPACE"," ",161],["T_ARRAY","array",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$conditions",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n    ",161],["T_FOREACH","foreach",162],["T_WHITESPACE"," ",162],"(",["T_VARIABLE","$conditions",162],["T_WHITESPACE"," ",162],["T_AS","as",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$condition",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n      ",162],["T_IF","if",163],["T_WHITESPACE"," ",163],"(",["T_VARIABLE","$condition",163],["T_WHITESPACE"," ",163],["T_INSTANCEOF","instanceof",163],["T_WHITESPACE"," ",163],["T_STRING","CacheableDependencyInterface",163],")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$access",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","addCacheTags",164],"(",["T_VARIABLE","$condition",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getCacheTags",164],"(",")",")",";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$access",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","addCacheContexts",165],"(",["T_VARIABLE","$condition",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getCacheContexts",165],"(",")",")",";",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$access",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","setCacheMaxAge",166],"(",["T_STRING","Cache",166],["T_DOUBLE_COLON","::",166],["T_STRING","mergeMaxAges",166],"(",["T_VARIABLE","$access",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getCacheMaxAge",166],"(",")",",",["T_WHITESPACE"," ",166],["T_VARIABLE","$condition",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getCacheMaxAge",166],"(",")",")",")",";",["T_WHITESPACE","\n      ",166],"}",["T_WHITESPACE","\n    ",167],"}",["T_WHITESPACE","\n  ",168],"}",["T_WHITESPACE","\n\n",169],"}",["T_WHITESPACE","\n",171]]