[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","block",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Block",5],["T_NS_SEPARATOR","\\",5],["T_STRING","MainContentBlockPluginInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Block",6],["T_NS_SEPARATOR","\\",6],["T_STRING","TitleBlockPluginInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Cache",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Cache",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Cache",8],["T_NS_SEPARATOR","\\",8],["T_STRING","CacheableMetadata",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","EntityManagerInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Entity",10],["T_NS_SEPARATOR","\\",10],["T_STRING","EntityTypeInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Entity",11],["T_NS_SEPARATOR","\\",11],["T_STRING","EntityViewBuilder",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Entity",12],["T_NS_SEPARATOR","\\",12],["T_STRING","EntityInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Core",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Extension",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ModuleHandlerInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Drupal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Core",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Language",14],["T_NS_SEPARATOR","\\",14],["T_STRING","LanguageManagerInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Drupal",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Core",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Plugin",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ContextAwarePluginInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Drupal",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Core",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Render",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Element",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Drupal",17],["T_NS_SEPARATOR","\\",17],["T_STRING","block",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Entity",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Block",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","DependencyInjection",18],["T_NS_SEPARATOR","\\",18],["T_STRING","ContainerInterface",18],";",["T_WHITESPACE","\n\n",18],["T_DOC_COMMENT","\/**\n * Provides a Block view builder.\n *\/",20],["T_WHITESPACE","\n",22],["T_CLASS","class",23],["T_WHITESPACE"," ",23],["T_STRING","BlockViewBuilder",23],["T_WHITESPACE"," ",23],["T_EXTENDS","extends",23],["T_WHITESPACE"," ",23],["T_STRING","EntityViewBuilder",23],["T_WHITESPACE"," ",23],"{",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * The module handler.\n   *\n   * @var \\Drupal\\Core\\Extension\\ModuleHandlerInterface\n   *\/",25],["T_WHITESPACE","\n  ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$moduleHandler",30],";",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * Constructs a new BlockViewBuilder.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityTypeInterface $entity_type\n   *   The entity type definition.\n   * @param \\Drupal\\Core\\Entity\\EntityManagerInterface $entity_manager\n   *   The entity manager service.\n   * @param \\Drupal\\Core\\Language\\LanguageManagerInterface $language_manager\n   *   The language manager.\n   * @param \\Drupal\\Core\\Extension\\ModuleHandlerInterface $module_handler\n   *   The module handler.\n   *\/",32],["T_WHITESPACE","\n  ",43],["T_PUBLIC","public",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","__construct",44],"(",["T_STRING","EntityTypeInterface",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$entity_type",44],",",["T_WHITESPACE"," ",44],["T_STRING","EntityManagerInterface",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$entity_manager",44],",",["T_WHITESPACE"," ",44],["T_STRING","LanguageManagerInterface",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$language_manager",44],",",["T_WHITESPACE"," ",44],["T_STRING","ModuleHandlerInterface",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$module_handler",44],")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n    ",44],["T_STRING","parent",45],["T_DOUBLE_COLON","::",45],["T_STRING","__construct",45],"(",["T_VARIABLE","$entity_type",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$entity_manager",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$language_manager",45],")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","moduleHandler",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$module_handler",46],";",["T_WHITESPACE","\n  ",46],"}",["T_WHITESPACE","\n\n  ",47],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",49],["T_WHITESPACE","\n  ",51],["T_PUBLIC","public",52],["T_WHITESPACE"," ",52],["T_STATIC","static",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","createInstance",52],"(",["T_STRING","ContainerInterface",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$container",52],",",["T_WHITESPACE"," ",52],["T_STRING","EntityTypeInterface",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$entity_type",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n    ",52],["T_RETURN","return",53],["T_WHITESPACE"," ",53],["T_NEW","new",53],["T_WHITESPACE"," ",53],["T_STATIC","static",53],"(",["T_WHITESPACE","\n      ",53],["T_VARIABLE","$entity_type",54],",",["T_WHITESPACE","\n      ",54],["T_VARIABLE","$container",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","get",55],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",55],")",",",["T_WHITESPACE","\n      ",55],["T_VARIABLE","$container",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","get",56],"(",["T_CONSTANT_ENCAPSED_STRING","'language_manager'",56],")",",",["T_WHITESPACE","\n      ",56],["T_VARIABLE","$container",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","get",57],"(",["T_CONSTANT_ENCAPSED_STRING","'module_handler'",57],")",["T_WHITESPACE","\n    ",57],")",";",["T_WHITESPACE","\n  ",58],"}",["T_WHITESPACE","\n\n  ",59],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",61],["T_WHITESPACE","\n  ",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","buildComponents",64],"(",["T_ARRAY","array",64],["T_WHITESPACE"," ",64],"&",["T_VARIABLE","$build",64],",",["T_WHITESPACE"," ",64],["T_ARRAY","array",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$entities",64],",",["T_WHITESPACE"," ",64],["T_ARRAY","array",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$displays",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$view_mode",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n  ",64],"}",["T_WHITESPACE","\n\n  ",65],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",67],["T_WHITESPACE","\n  ",69],["T_PUBLIC","public",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","view",70],"(",["T_STRING","EntityInterface",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$entity",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$view_mode",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'full'",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$langcode",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","NULL",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$build",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","viewMultiple",71],"(",["T_ARRAY","array",71],"(",["T_VARIABLE","$entity",71],")",",",["T_WHITESPACE"," ",71],["T_VARIABLE","$view_mode",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$langcode",71],")",";",["T_WHITESPACE","\n    ",71],["T_RETURN","return",72],["T_WHITESPACE"," ",72],["T_STRING","reset",72],"(",["T_VARIABLE","$build",72],")",";",["T_WHITESPACE","\n  ",72],"}",["T_WHITESPACE","\n\n  ",73],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",75],["T_WHITESPACE","\n  ",77],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","viewMultiple",78],"(",["T_ARRAY","array",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$entities",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_ARRAY","array",78],"(",")",",",["T_WHITESPACE"," ",78],["T_VARIABLE","$view_mode",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'full'",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$langcode",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_STRING","NULL",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n    ",78],["T_DOC_COMMENT","\/** @var \\Drupal\\block\\BlockInterface[] $entities *\/",79],["T_WHITESPACE","\n    ",79],["T_VARIABLE","$build",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_ARRAY","array",80],"(",")",";",["T_WHITESPACE","\n    ",80],["T_FOREACH","foreach",81],["T_WHITESPACE"," ",81],"(",["T_VARIABLE","$entities",81],["T_WHITESPACE"," ",81],["T_AS","as",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$entity",81],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n      ",81],["T_VARIABLE","$entity_id",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$entity",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","id",82],"(",")",";",["T_WHITESPACE","\n      ",82],["T_VARIABLE","$plugin",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$entity",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getPlugin",83],"(",")",";",["T_WHITESPACE","\n\n      ",83],["T_VARIABLE","$cache_tags",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","Cache",85],["T_DOUBLE_COLON","::",85],["T_STRING","mergeTags",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getCacheTags",85],"(",")",",",["T_WHITESPACE"," ",85],["T_VARIABLE","$entity",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getCacheTags",85],"(",")",")",";",["T_WHITESPACE","\n      ",85],["T_VARIABLE","$cache_tags",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","Cache",86],["T_DOUBLE_COLON","::",86],["T_STRING","mergeTags",86],"(",["T_VARIABLE","$cache_tags",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$plugin",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getCacheTags",86],"(",")",")",";",["T_WHITESPACE","\n\n      ",86],["T_COMMENT","\/\/ Create the render array for the block as a whole.\n",88],["T_WHITESPACE","      ",89],["T_COMMENT","\/\/ @see template_preprocess_block().\n",89],["T_WHITESPACE","      ",90],["T_VARIABLE","$build",90],"[",["T_VARIABLE","$entity_id",90],"]",["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_ARRAY","array",90],"(",["T_WHITESPACE","\n        ",90],["T_CONSTANT_ENCAPSED_STRING","'#cache'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],"[",["T_WHITESPACE","\n          ",91],["T_CONSTANT_ENCAPSED_STRING","'keys'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_view'",92],",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'block'",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$entity",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","id",92],"(",")","]",",",["T_WHITESPACE","\n          ",92],["T_CONSTANT_ENCAPSED_STRING","'contexts'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_STRING","Cache",93],["T_DOUBLE_COLON","::",93],["T_STRING","mergeContexts",93],"(",["T_WHITESPACE","\n            ",93],["T_VARIABLE","$entity",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getCacheContexts",94],"(",")",",",["T_WHITESPACE","\n            ",94],["T_VARIABLE","$plugin",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getCacheContexts",95],"(",")",["T_WHITESPACE","\n          ",95],")",",",["T_WHITESPACE","\n          ",96],["T_CONSTANT_ENCAPSED_STRING","'tags'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$cache_tags",97],",",["T_WHITESPACE","\n          ",97],["T_CONSTANT_ENCAPSED_STRING","'max-age'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$plugin",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getCacheMaxAge",98],"(",")",",",["T_WHITESPACE","\n        ",98],"]",",",["T_WHITESPACE","\n        ",99],["T_CONSTANT_ENCAPSED_STRING","'#weight'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$entity",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getWeight",100],"(",")",",",["T_WHITESPACE","\n      ",100],")",";",["T_WHITESPACE","\n\n      ",101],["T_COMMENT","\/\/ Allow altering of cacheability metadata or setting #create_placeholder.\n",103],["T_WHITESPACE","      ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","moduleHandler",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","alter",104],"(","[",["T_CONSTANT_ENCAPSED_STRING","'block_build'",104],",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","\"block_build_\"",104],["T_WHITESPACE"," ",104],".",["T_WHITESPACE"," ",104],["T_VARIABLE","$plugin",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getBaseId",104],"(",")","]",",",["T_WHITESPACE"," ",104],["T_VARIABLE","$build",104],"[",["T_VARIABLE","$entity_id",104],"]",",",["T_WHITESPACE"," ",104],["T_VARIABLE","$plugin",104],")",";",["T_WHITESPACE","\n\n      ",104],["T_IF","if",106],["T_WHITESPACE"," ",106],"(",["T_VARIABLE","$plugin",106],["T_WHITESPACE"," ",106],["T_INSTANCEOF","instanceof",106],["T_WHITESPACE"," ",106],["T_STRING","MainContentBlockPluginInterface",106],["T_WHITESPACE"," ",106],["T_BOOLEAN_OR","||",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$plugin",106],["T_WHITESPACE"," ",106],["T_INSTANCEOF","instanceof",106],["T_WHITESPACE"," ",106],["T_STRING","TitleBlockPluginInterface",106],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n        ",106],["T_COMMENT","\/\/ Immediately build a #pre_render-able block, since this block cannot\n",107],["T_WHITESPACE","        ",108],["T_COMMENT","\/\/ be built lazily.\n",108],["T_WHITESPACE","        ",109],["T_VARIABLE","$build",109],"[",["T_VARIABLE","$entity_id",109],"]",["T_WHITESPACE"," ",109],["T_PLUS_EQUAL","+=",109],["T_WHITESPACE"," ",109],["T_STATIC","static",109],["T_DOUBLE_COLON","::",109],["T_STRING","buildPreRenderableBlock",109],"(",["T_VARIABLE","$entity",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","moduleHandler",109],"(",")",")",";",["T_WHITESPACE","\n      ",109],"}",["T_WHITESPACE","\n      ",110],["T_ELSE","else",111],["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n        ",111],["T_COMMENT","\/\/ Assign a #lazy_builder callback, which will generate a #pre_render-\n",112],["T_WHITESPACE","        ",113],["T_COMMENT","\/\/ able block lazily (when necessary).\n",113],["T_WHITESPACE","        ",114],["T_VARIABLE","$build",114],"[",["T_VARIABLE","$entity_id",114],"]",["T_WHITESPACE"," ",114],["T_PLUS_EQUAL","+=",114],["T_WHITESPACE"," ",114],"[",["T_WHITESPACE","\n          ",114],["T_CONSTANT_ENCAPSED_STRING","'#lazy_builder'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],"[",["T_STATIC","static",115],["T_DOUBLE_COLON","::",115],["T_CLASS","class",115],["T_WHITESPACE"," ",115],".",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'::lazyBuilder'",115],",",["T_WHITESPACE"," ",115],"[",["T_VARIABLE","$entity_id",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$view_mode",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$langcode",115],"]","]",",",["T_WHITESPACE","\n        ",115],"]",";",["T_WHITESPACE","\n      ",116],"}",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n    ",118],["T_RETURN","return",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$build",120],";",["T_WHITESPACE","\n  ",120],"}",["T_WHITESPACE","\n\n  ",121],["T_DOC_COMMENT","\/**\n   * Builds a #pre_render-able block render array.\n   *\n   * @param \\Drupal\\block\\BlockInterface $entity\n   *   A block config entity.\n   * @param \\Drupal\\Core\\Extension\\ModuleHandlerInterface $module_handler\n   *   The module handler service.\n   *\n   * @return array\n   *   A render array with a #pre_render callback to render the block.\n   *\/",123],["T_WHITESPACE","\n  ",133],["T_PROTECTED","protected",134],["T_WHITESPACE"," ",134],["T_STATIC","static",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","buildPreRenderableBlock",134],"(",["T_VARIABLE","$entity",134],",",["T_WHITESPACE"," ",134],["T_STRING","ModuleHandlerInterface",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$module_handler",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n    ",134],["T_VARIABLE","$plugin",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$entity",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getPlugin",135],"(",")",";",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$plugin_id",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$plugin",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getPluginId",136],"(",")",";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$base_id",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$plugin",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getBaseId",137],"(",")",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$derivative_id",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$plugin",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getDerivativeId",138],"(",")",";",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$configuration",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$plugin",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getConfiguration",139],"(",")",";",["T_WHITESPACE","\n\n    ",139],["T_COMMENT","\/\/ Inject runtime contexts.\n",141],["T_WHITESPACE","    ",142],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$plugin",142],["T_WHITESPACE"," ",142],["T_INSTANCEOF","instanceof",142],["T_WHITESPACE"," ",142],["T_STRING","ContextAwarePluginInterface",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n      ",142],["T_VARIABLE","$contexts",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_NS_SEPARATOR","\\",143],["T_STRING","Drupal",143],["T_DOUBLE_COLON","::",143],["T_STRING","service",143],"(",["T_CONSTANT_ENCAPSED_STRING","'context.repository'",143],")",["T_OBJECT_OPERATOR","->",143],["T_STRING","getRuntimeContexts",143],"(",["T_VARIABLE","$plugin",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getContextMapping",143],"(",")",")",";",["T_WHITESPACE","\n      ",143],["T_NS_SEPARATOR","\\",144],["T_STRING","Drupal",144],["T_DOUBLE_COLON","::",144],["T_STRING","service",144],"(",["T_CONSTANT_ENCAPSED_STRING","'context.handler'",144],")",["T_OBJECT_OPERATOR","->",144],["T_STRING","applyContextMapping",144],"(",["T_VARIABLE","$plugin",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$contexts",144],")",";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n\n    ",145],["T_COMMENT","\/\/ Create the render array for the block as a whole.\n",147],["T_WHITESPACE","    ",148],["T_COMMENT","\/\/ @see template_preprocess_block().\n",148],["T_WHITESPACE","    ",149],["T_VARIABLE","$build",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],"[",["T_WHITESPACE","\n      ",149],["T_CONSTANT_ENCAPSED_STRING","'#theme'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'block'",150],",",["T_WHITESPACE","\n      ",150],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],"[","]",",",["T_WHITESPACE","\n      ",151],["T_COMMENT","\/\/ All blocks get a \"Configure block\" contextual link.\n",152],["T_WHITESPACE","      ",153],["T_CONSTANT_ENCAPSED_STRING","'#contextual_links'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],"[",["T_WHITESPACE","\n        ",153],["T_CONSTANT_ENCAPSED_STRING","'block'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],"[",["T_WHITESPACE","\n          ",154],["T_CONSTANT_ENCAPSED_STRING","'route_parameters'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],"[",["T_CONSTANT_ENCAPSED_STRING","'block'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$entity",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","id",155],"(",")","]",",",["T_WHITESPACE","\n        ",155],"]",",",["T_WHITESPACE","\n      ",156],"]",",",["T_WHITESPACE","\n      ",157],["T_CONSTANT_ENCAPSED_STRING","'#weight'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$entity",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getWeight",158],"(",")",",",["T_WHITESPACE","\n      ",158],["T_CONSTANT_ENCAPSED_STRING","'#configuration'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$configuration",159],",",["T_WHITESPACE","\n      ",159],["T_CONSTANT_ENCAPSED_STRING","'#plugin_id'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$plugin_id",160],",",["T_WHITESPACE","\n      ",160],["T_CONSTANT_ENCAPSED_STRING","'#base_plugin_id'",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$base_id",161],",",["T_WHITESPACE","\n      ",161],["T_CONSTANT_ENCAPSED_STRING","'#derivative_plugin_id'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$derivative_id",162],",",["T_WHITESPACE","\n      ",162],["T_CONSTANT_ENCAPSED_STRING","'#id'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$entity",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","id",163],"(",")",",",["T_WHITESPACE","\n      ",163],["T_CONSTANT_ENCAPSED_STRING","'#pre_render'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],"[",["T_WHITESPACE","\n        ",164],["T_STATIC","static",165],["T_DOUBLE_COLON","::",165],["T_CLASS","class",165],["T_WHITESPACE"," ",165],".",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'::preRender'",165],",",["T_WHITESPACE","\n      ",165],"]",",",["T_WHITESPACE","\n      ",166],["T_COMMENT","\/\/ Add the entity so that it can be used in the #pre_render method.\n",167],["T_WHITESPACE","      ",168],["T_CONSTANT_ENCAPSED_STRING","'#block'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$entity",168],",",["T_WHITESPACE","\n    ",168],"]",";",["T_WHITESPACE","\n\n    ",169],["T_COMMENT","\/\/ If an alter hook wants to modify the block contents, it can append\n",171],["T_WHITESPACE","    ",172],["T_COMMENT","\/\/ another #pre_render hook.\n",172],["T_WHITESPACE","    ",173],["T_VARIABLE","$module_handler",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","alter",173],"(","[",["T_CONSTANT_ENCAPSED_STRING","'block_view'",173],",",["T_WHITESPACE"," ",173],"\"",["T_ENCAPSED_AND_WHITESPACE","block_view_",173],["T_VARIABLE","$base_id",173],"\"","]",",",["T_WHITESPACE"," ",173],["T_VARIABLE","$build",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$plugin",173],")",";",["T_WHITESPACE","\n\n    ",173],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$build",175],";",["T_WHITESPACE","\n  ",175],"}",["T_WHITESPACE","\n\n  ",176],["T_DOC_COMMENT","\/**\n   * #lazy_builder callback; builds a #pre_render-able block.\n   *\n   * @param $entity_id\n   *   A block config entity ID.\n   * @param $view_mode\n   *   The view mode the block is being viewed in.\n   *\n   * @return array\n   *   A render array with a #pre_render callback to render the block.\n   *\/",178],["T_WHITESPACE","\n  ",188],["T_PUBLIC","public",189],["T_WHITESPACE"," ",189],["T_STATIC","static",189],["T_WHITESPACE"," ",189],["T_FUNCTION","function",189],["T_WHITESPACE"," ",189],["T_STRING","lazyBuilder",189],"(",["T_VARIABLE","$entity_id",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$view_mode",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n    ",189],["T_RETURN","return",190],["T_WHITESPACE"," ",190],["T_STATIC","static",190],["T_DOUBLE_COLON","::",190],["T_STRING","buildPreRenderableBlock",190],"(",["T_STRING","Block",190],["T_DOUBLE_COLON","::",190],["T_STRING","load",190],"(",["T_VARIABLE","$entity_id",190],")",",",["T_WHITESPACE"," ",190],["T_NS_SEPARATOR","\\",190],["T_STRING","Drupal",190],["T_DOUBLE_COLON","::",190],["T_STRING","service",190],"(",["T_CONSTANT_ENCAPSED_STRING","'module_handler'",190],")",")",";",["T_WHITESPACE","\n  ",190],"}",["T_WHITESPACE","\n\n  ",191],["T_DOC_COMMENT","\/**\n   * #pre_render callback for building a block.\n   *\n   * Renders the content using the provided block plugin, and then:\n   * - if there is no content, aborts rendering, and makes sure the block won't\n   *   be rendered.\n   * - if there is content, moves the contextual links from the block content to\n   *   the block itself.\n   *\/",193],["T_WHITESPACE","\n  ",201],["T_PUBLIC","public",202],["T_WHITESPACE"," ",202],["T_STATIC","static",202],["T_WHITESPACE"," ",202],["T_FUNCTION","function",202],["T_WHITESPACE"," ",202],["T_STRING","preRender",202],"(",["T_VARIABLE","$build",202],")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n    ",202],["T_VARIABLE","$content",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$build",203],"[",["T_CONSTANT_ENCAPSED_STRING","'#block'",203],"]",["T_OBJECT_OPERATOR","->",203],["T_STRING","getPlugin",203],"(",")",["T_OBJECT_OPERATOR","->",203],["T_STRING","build",203],"(",")",";",["T_WHITESPACE","\n    ",203],["T_COMMENT","\/\/ Remove the block entity from the render array, to ensure that blocks\n",204],["T_WHITESPACE","    ",205],["T_COMMENT","\/\/ can be rendered without the block config entity.\n",205],["T_WHITESPACE","    ",206],["T_UNSET","unset",206],"(",["T_VARIABLE","$build",206],"[",["T_CONSTANT_ENCAPSED_STRING","'#block'",206],"]",")",";",["T_WHITESPACE","\n    ",206],["T_IF","if",207],["T_WHITESPACE"," ",207],"(",["T_VARIABLE","$content",207],["T_WHITESPACE"," ",207],["T_IS_NOT_IDENTICAL","!==",207],["T_WHITESPACE"," ",207],["T_STRING","NULL",207],["T_WHITESPACE"," ",207],["T_BOOLEAN_AND","&&",207],["T_WHITESPACE"," ",207],"!",["T_STRING","Element",207],["T_DOUBLE_COLON","::",207],["T_STRING","isEmpty",207],"(",["T_VARIABLE","$content",207],")",")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n      ",207],["T_COMMENT","\/\/ Place the $content returned by the block plugin into a 'content' child\n",208],["T_WHITESPACE","      ",209],["T_COMMENT","\/\/ element, as a way to allow the plugin to have complete control of its\n",209],["T_WHITESPACE","      ",210],["T_COMMENT","\/\/ properties and rendering (for instance, its own #theme) without\n",210],["T_WHITESPACE","      ",211],["T_COMMENT","\/\/ conflicting with the properties used above, or alternate ones used by\n",211],["T_WHITESPACE","      ",212],["T_COMMENT","\/\/ alternate block rendering approaches in contrib (for instance, Panels).\n",212],["T_WHITESPACE","      ",213],["T_COMMENT","\/\/ However, the use of a child element is an implementation detail of this\n",213],["T_WHITESPACE","      ",214],["T_COMMENT","\/\/ particular block rendering approach. Semantically, the content returned\n",214],["T_WHITESPACE","      ",215],["T_COMMENT","\/\/ by the plugin \"is the\" block, and in particular, #attributes and\n",215],["T_WHITESPACE","      ",216],["T_COMMENT","\/\/ #contextual_links is information about the *entire* block. Therefore,\n",216],["T_WHITESPACE","      ",217],["T_COMMENT","\/\/ we must move these properties from $content and merge them into the\n",217],["T_WHITESPACE","      ",218],["T_COMMENT","\/\/ top-level element.\n",218],["T_WHITESPACE","      ",219],["T_FOREACH","foreach",219],["T_WHITESPACE"," ",219],"(",["T_ARRAY","array",219],"(",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",219],",",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'#contextual_links'",219],")",["T_WHITESPACE"," ",219],["T_AS","as",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$property",219],")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n        ",219],["T_IF","if",220],["T_WHITESPACE"," ",220],"(",["T_ISSET","isset",220],"(",["T_VARIABLE","$content",220],"[",["T_VARIABLE","$property",220],"]",")",")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n          ",220],["T_VARIABLE","$build",221],"[",["T_VARIABLE","$property",221],"]",["T_WHITESPACE"," ",221],["T_PLUS_EQUAL","+=",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$content",221],"[",["T_VARIABLE","$property",221],"]",";",["T_WHITESPACE","\n          ",221],["T_UNSET","unset",222],"(",["T_VARIABLE","$content",222],"[",["T_VARIABLE","$property",222],"]",")",";",["T_WHITESPACE","\n        ",222],"}",["T_WHITESPACE","\n      ",223],"}",["T_WHITESPACE","\n      ",224],["T_VARIABLE","$build",225],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",225],"]",["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$content",225],";",["T_WHITESPACE","\n    ",225],"}",["T_WHITESPACE","\n    ",226],["T_COMMENT","\/\/ Either the block's content is completely empty, or it consists only of\n",227],["T_WHITESPACE","    ",228],["T_COMMENT","\/\/ cacheability metadata.\n",228],["T_WHITESPACE","    ",229],["T_ELSE","else",229],["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n      ",229],["T_COMMENT","\/\/ Abort rendering: render as the empty string and ensure this block is\n",230],["T_WHITESPACE","      ",231],["T_COMMENT","\/\/ render cached, so we can avoid the work of having to repeatedly\n",231],["T_WHITESPACE","      ",232],["T_COMMENT","\/\/ determine whether the block is empty. For instance, modifying or adding\n",232],["T_WHITESPACE","      ",233],["T_COMMENT","\/\/ entities could cause the block to no longer be empty.\n",233],["T_WHITESPACE","      ",234],["T_VARIABLE","$build",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_ARRAY","array",234],"(",["T_WHITESPACE","\n        ",234],["T_CONSTANT_ENCAPSED_STRING","'#markup'",235],["T_WHITESPACE"," ",235],["T_DOUBLE_ARROW","=>",235],["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","''",235],",",["T_WHITESPACE","\n        ",235],["T_CONSTANT_ENCAPSED_STRING","'#cache'",236],["T_WHITESPACE"," ",236],["T_DOUBLE_ARROW","=>",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$build",236],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",236],"]",",",["T_WHITESPACE","\n      ",236],")",";",["T_WHITESPACE","\n      ",237],["T_COMMENT","\/\/ If $content is not empty, then it contains cacheability metadata, and\n",238],["T_WHITESPACE","      ",239],["T_COMMENT","\/\/ we must merge it with the existing cacheability metadata. This allows\n",239],["T_WHITESPACE","      ",240],["T_COMMENT","\/\/ blocks to be empty, yet still bubble cacheability metadata, to indicate\n",240],["T_WHITESPACE","      ",241],["T_COMMENT","\/\/ why they are empty.\n",241],["T_WHITESPACE","      ",242],["T_IF","if",242],["T_WHITESPACE"," ",242],"(","!",["T_EMPTY","empty",242],"(",["T_VARIABLE","$content",242],")",")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n        ",242],["T_STRING","CacheableMetadata",243],["T_DOUBLE_COLON","::",243],["T_STRING","createFromRenderArray",243],"(",["T_VARIABLE","$build",243],")",["T_WHITESPACE","\n          ",243],["T_OBJECT_OPERATOR","->",244],["T_STRING","merge",244],"(",["T_STRING","CacheableMetadata",244],["T_DOUBLE_COLON","::",244],["T_STRING","createFromRenderArray",244],"(",["T_VARIABLE","$content",244],")",")",["T_WHITESPACE","\n          ",244],["T_OBJECT_OPERATOR","->",245],["T_STRING","applyTo",245],"(",["T_VARIABLE","$build",245],")",";",["T_WHITESPACE","\n      ",245],"}",["T_WHITESPACE","\n    ",246],"}",["T_WHITESPACE","\n    ",247],["T_RETURN","return",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$build",248],";",["T_WHITESPACE","\n  ",248],"}",["T_WHITESPACE","\n\n",249],"}",["T_WHITESPACE","\n",251]]