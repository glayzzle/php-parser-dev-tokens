[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","block",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Html",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Plugin",6],["T_NS_SEPARATOR","\\",6],["T_STRING","PluginFormFactoryInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Block",7],["T_NS_SEPARATOR","\\",7],["T_STRING","BlockPluginInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","EntityForm",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","EntityManagerInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Executable",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ExecutableManagerInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Extension",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ThemeHandlerInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Form",12],["T_NS_SEPARATOR","\\",12],["T_STRING","FormStateInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Core",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Form",13],["T_NS_SEPARATOR","\\",13],["T_STRING","SubformState",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Drupal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Core",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Language",14],["T_NS_SEPARATOR","\\",14],["T_STRING","LanguageManagerInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Drupal",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Core",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Plugin",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ContextAwarePluginInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Drupal",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Core",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Plugin",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Context",16],["T_NS_SEPARATOR","\\",16],["T_STRING","ContextRepositoryInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Drupal",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Core",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Plugin",17],["T_NS_SEPARATOR","\\",17],["T_STRING","PluginWithFormsInterface",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","DependencyInjection",18],["T_NS_SEPARATOR","\\",18],["T_STRING","ContainerInterface",18],";",["T_WHITESPACE","\n\n",18],["T_DOC_COMMENT","\/**\n * Provides form for block instance forms.\n *\/",20],["T_WHITESPACE","\n",22],["T_CLASS","class",23],["T_WHITESPACE"," ",23],["T_STRING","BlockForm",23],["T_WHITESPACE"," ",23],["T_EXTENDS","extends",23],["T_WHITESPACE"," ",23],["T_STRING","EntityForm",23],["T_WHITESPACE"," ",23],"{",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * The block entity.\n   *\n   * @var \\Drupal\\block\\BlockInterface\n   *\/",25],["T_WHITESPACE","\n  ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$entity",30],";",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * The block storage.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityStorageInterface\n   *\/",32],["T_WHITESPACE","\n  ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$storage",37],";",["T_WHITESPACE","\n\n  ",37],["T_DOC_COMMENT","\/**\n   * The condition plugin manager.\n   *\n   * @var \\Drupal\\Core\\Condition\\ConditionManager\n   *\/",39],["T_WHITESPACE","\n  ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$manager",44],";",["T_WHITESPACE","\n\n  ",44],["T_DOC_COMMENT","\/**\n   * The event dispatcher service.\n   *\n   * @var \\Symfony\\Component\\EventDispatcher\\EventDispatcherInterface\n   *\/",46],["T_WHITESPACE","\n  ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$dispatcher",51],";",["T_WHITESPACE","\n\n  ",51],["T_DOC_COMMENT","\/**\n   * The language manager service.\n   *\n   * @var \\Drupal\\Core\\Language\\LanguageManagerInterface\n   *\/",53],["T_WHITESPACE","\n  ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$language",58],";",["T_WHITESPACE","\n\n  ",58],["T_DOC_COMMENT","\/**\n   * The theme handler.\n   *\n   * @var \\Drupal\\Core\\Extension\\ThemeHandler\n   *\/",60],["T_WHITESPACE","\n  ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$themeHandler",65],";",["T_WHITESPACE","\n\n  ",65],["T_DOC_COMMENT","\/**\n   * The context repository service.\n   *\n   * @var \\Drupal\\Core\\Plugin\\Context\\ContextRepositoryInterface\n   *\/",67],["T_WHITESPACE","\n  ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$contextRepository",72],";",["T_WHITESPACE","\n\n  ",72],["T_DOC_COMMENT","\/**\n   * The plugin form manager.\n   *\n   * @var \\Drupal\\Core\\Plugin\\PluginFormFactoryInterface\n   *\/",74],["T_WHITESPACE","\n  ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$pluginFormFactory",79],";",["T_WHITESPACE","\n\n  ",79],["T_DOC_COMMENT","\/**\n   * Constructs a BlockForm object.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityManagerInterface $entity_manager\n   *   The entity manager.\n   * @param \\Drupal\\Core\\Executable\\ExecutableManagerInterface $manager\n   *   The ConditionManager for building the visibility UI.\n   * @param \\Drupal\\Core\\Plugin\\Context\\ContextRepositoryInterface $context_repository\n   *   The lazy context repository service.\n   * @param \\Drupal\\Core\\Language\\LanguageManagerInterface $language\n   *   The language manager.\n   * @param \\Drupal\\Core\\Extension\\ThemeHandlerInterface $theme_handler\n   *   The theme handler.\n   * @param \\Drupal\\Core\\Plugin\\PluginFormFactoryInterface $plugin_form_manager\n   *   The plugin form manager.\n   *\/",81],["T_WHITESPACE","\n  ",96],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","__construct",97],"(",["T_STRING","EntityManagerInterface",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$entity_manager",97],",",["T_WHITESPACE"," ",97],["T_STRING","ExecutableManagerInterface",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$manager",97],",",["T_WHITESPACE"," ",97],["T_STRING","ContextRepositoryInterface",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$context_repository",97],",",["T_WHITESPACE"," ",97],["T_STRING","LanguageManagerInterface",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$language",97],",",["T_WHITESPACE"," ",97],["T_STRING","ThemeHandlerInterface",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$theme_handler",97],",",["T_WHITESPACE"," ",97],["T_STRING","PluginFormFactoryInterface",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$plugin_form_manager",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","storage",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$entity_manager",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getStorage",98],"(",["T_CONSTANT_ENCAPSED_STRING","'block'",98],")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","manager",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$manager",99],";",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","contextRepository",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$context_repository",100],";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","language",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$language",101],";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","themeHandler",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$theme_handler",102],";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","pluginFormFactory",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$plugin_form_manager",103],";",["T_WHITESPACE","\n  ",103],"}",["T_WHITESPACE","\n\n  ",104],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",106],["T_WHITESPACE","\n  ",108],["T_PUBLIC","public",109],["T_WHITESPACE"," ",109],["T_STATIC","static",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","create",109],"(",["T_STRING","ContainerInterface",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$container",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n    ",109],["T_RETURN","return",110],["T_WHITESPACE"," ",110],["T_NEW","new",110],["T_WHITESPACE"," ",110],["T_STATIC","static",110],"(",["T_WHITESPACE","\n      ",110],["T_VARIABLE","$container",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","get",111],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",111],")",",",["T_WHITESPACE","\n      ",111],["T_VARIABLE","$container",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","get",112],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.condition'",112],")",",",["T_WHITESPACE","\n      ",112],["T_VARIABLE","$container",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","get",113],"(",["T_CONSTANT_ENCAPSED_STRING","'context.repository'",113],")",",",["T_WHITESPACE","\n      ",113],["T_VARIABLE","$container",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","get",114],"(",["T_CONSTANT_ENCAPSED_STRING","'language_manager'",114],")",",",["T_WHITESPACE","\n      ",114],["T_VARIABLE","$container",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","get",115],"(",["T_CONSTANT_ENCAPSED_STRING","'theme_handler'",115],")",",",["T_WHITESPACE","\n      ",115],["T_VARIABLE","$container",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","get",116],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin_form.factory'",116],")",["T_WHITESPACE","\n    ",116],")",";",["T_WHITESPACE","\n  ",117],"}",["T_WHITESPACE","\n\n  ",118],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",120],["T_WHITESPACE","\n  ",122],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","form",123],"(",["T_ARRAY","array",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$form",123],",",["T_WHITESPACE"," ",123],["T_STRING","FormStateInterface",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$form_state",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$entity",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","entity",124],";",["T_WHITESPACE","\n\n    ",124],["T_COMMENT","\/\/ Store theme settings in $form_state for use below.\n",126],["T_WHITESPACE","    ",127],["T_IF","if",127],["T_WHITESPACE"," ",127],"(","!",["T_VARIABLE","$theme",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$entity",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getTheme",127],"(",")",")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n      ",127],["T_VARIABLE","$theme",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","config",128],"(",["T_CONSTANT_ENCAPSED_STRING","'system.theme'",128],")",["T_OBJECT_OPERATOR","->",128],["T_STRING","get",128],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",128],")",";",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$form_state",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","set",130],"(",["T_CONSTANT_ENCAPSED_STRING","'block_theme'",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$theme",130],")",";",["T_WHITESPACE","\n\n    ",130],["T_COMMENT","\/\/ Store the gathered contexts in the form state for other objects to use\n",132],["T_WHITESPACE","    ",133],["T_COMMENT","\/\/ during form building.\n",133],["T_WHITESPACE","    ",134],["T_VARIABLE","$form_state",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","setTemporaryValue",134],"(",["T_CONSTANT_ENCAPSED_STRING","'gathered_contexts'",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","contextRepository",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getAvailableContexts",134],"(",")",")",";",["T_WHITESPACE","\n\n    ",134],["T_VARIABLE","$form",136],"[",["T_CONSTANT_ENCAPSED_STRING","'#tree'",136],"]",["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_STRING","TRUE",136],";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$form",137],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",137],"]",["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],"[","]",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$subform_state",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_STRING","SubformState",138],["T_DOUBLE_COLON","::",138],["T_STRING","createForSubform",138],"(",["T_VARIABLE","$form",138],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",138],"]",",",["T_WHITESPACE"," ",138],["T_VARIABLE","$form",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$form_state",138],")",";",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$form",139],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",139],"]",["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getPluginForm",139],"(",["T_VARIABLE","$entity",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getPlugin",139],"(",")",")",["T_OBJECT_OPERATOR","->",139],["T_STRING","buildConfigurationForm",139],"(",["T_VARIABLE","$form",139],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",139],"]",",",["T_WHITESPACE"," ",139],["T_VARIABLE","$subform_state",139],")",";",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$form",140],"[",["T_CONSTANT_ENCAPSED_STRING","'visibility'",140],"]",["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","buildVisibilityInterface",140],"(","[","]",",",["T_WHITESPACE"," ",140],["T_VARIABLE","$form_state",140],")",";",["T_WHITESPACE","\n\n    ",140],["T_COMMENT","\/\/ If creating a new block, calculate a safe default machine name.\n",142],["T_WHITESPACE","    ",143],["T_VARIABLE","$form",143],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",143],"]",["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_ARRAY","array",143],"(",["T_WHITESPACE","\n      ",143],["T_CONSTANT_ENCAPSED_STRING","'#type'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'machine_name'",144],",",["T_WHITESPACE","\n      ",144],["T_CONSTANT_ENCAPSED_STRING","'#maxlength'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_LNUMBER","64",145],",",["T_WHITESPACE","\n      ",145],["T_CONSTANT_ENCAPSED_STRING","'#description'",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","t",146],"(",["T_CONSTANT_ENCAPSED_STRING","'A unique name for this block instance. Must be alpha-numeric and underscore separated.'",146],")",",",["T_WHITESPACE","\n      ",146],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],"!",["T_VARIABLE","$entity",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","isNew",147],"(",")",["T_WHITESPACE"," ",147],"?",["T_WHITESPACE"," ",147],["T_VARIABLE","$entity",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","id",147],"(",")",["T_WHITESPACE"," ",147],":",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getUniqueMachineName",147],"(",["T_VARIABLE","$entity",147],")",",",["T_WHITESPACE","\n      ",147],["T_CONSTANT_ENCAPSED_STRING","'#machine_name'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_ARRAY","array",148],"(",["T_WHITESPACE","\n        ",148],["T_CONSTANT_ENCAPSED_STRING","'exists'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\block\\Entity\\Block::load'",149],",",["T_WHITESPACE","\n        ",149],["T_CONSTANT_ENCAPSED_STRING","'replace_pattern'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'[^a-z0-9_.]+'",150],",",["T_WHITESPACE","\n        ",150],["T_CONSTANT_ENCAPSED_STRING","'source'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_ARRAY","array",151],"(",["T_CONSTANT_ENCAPSED_STRING","'settings'",151],",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'label'",151],")",",",["T_WHITESPACE","\n      ",151],")",",",["T_WHITESPACE","\n      ",152],["T_CONSTANT_ENCAPSED_STRING","'#required'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_STRING","TRUE",153],",",["T_WHITESPACE","\n      ",153],["T_CONSTANT_ENCAPSED_STRING","'#disabled'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],"!",["T_VARIABLE","$entity",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","isNew",154],"(",")",",",["T_WHITESPACE","\n    ",154],")",";",["T_WHITESPACE","\n\n    ",155],["T_COMMENT","\/\/ Theme settings.\n",157],["T_WHITESPACE","    ",158],["T_IF","if",158],["T_WHITESPACE"," ",158],"(",["T_VARIABLE","$entity",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getTheme",158],"(",")",")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n      ",158],["T_VARIABLE","$form",159],"[",["T_CONSTANT_ENCAPSED_STRING","'theme'",159],"]",["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_ARRAY","array",159],"(",["T_WHITESPACE","\n        ",159],["T_CONSTANT_ENCAPSED_STRING","'#type'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'value'",160],",",["T_WHITESPACE","\n        ",160],["T_CONSTANT_ENCAPSED_STRING","'#value'",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$theme",161],",",["T_WHITESPACE","\n      ",161],")",";",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n    ",163],["T_ELSE","else",164],["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n      ",164],["T_VARIABLE","$theme_options",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_ARRAY","array",165],"(",")",";",["T_WHITESPACE","\n      ",165],["T_FOREACH","foreach",166],["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","themeHandler",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","listInfo",166],"(",")",["T_WHITESPACE"," ",166],["T_AS","as",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$theme_name",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$theme_info",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n        ",166],["T_IF","if",167],["T_WHITESPACE"," ",167],"(","!",["T_EMPTY","empty",167],"(",["T_VARIABLE","$theme_info",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","status",167],")",")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n          ",167],["T_VARIABLE","$theme_options",168],"[",["T_VARIABLE","$theme_name",168],"]",["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$theme_info",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","info",168],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",168],"]",";",["T_WHITESPACE","\n        ",168],"}",["T_WHITESPACE","\n      ",169],"}",["T_WHITESPACE","\n      ",170],["T_VARIABLE","$form",171],"[",["T_CONSTANT_ENCAPSED_STRING","'theme'",171],"]",["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_ARRAY","array",171],"(",["T_WHITESPACE","\n        ",171],["T_CONSTANT_ENCAPSED_STRING","'#type'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'select'",172],",",["T_WHITESPACE","\n        ",172],["T_CONSTANT_ENCAPSED_STRING","'#options'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$theme_options",173],",",["T_WHITESPACE","\n        ",173],["T_CONSTANT_ENCAPSED_STRING","'#title'",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_STRING","t",174],"(",["T_CONSTANT_ENCAPSED_STRING","'Theme'",174],")",",",["T_WHITESPACE","\n        ",174],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$theme",175],",",["T_WHITESPACE","\n        ",175],["T_CONSTANT_ENCAPSED_STRING","'#ajax'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_ARRAY","array",176],"(",["T_WHITESPACE","\n          ",176],["T_CONSTANT_ENCAPSED_STRING","'callback'",177],["T_WHITESPACE"," ",177],["T_DOUBLE_ARROW","=>",177],["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","'::themeSwitch'",177],",",["T_WHITESPACE","\n          ",177],["T_CONSTANT_ENCAPSED_STRING","'wrapper'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'edit-block-region-wrapper'",178],",",["T_WHITESPACE","\n        ",178],")",",",["T_WHITESPACE","\n      ",179],")",";",["T_WHITESPACE","\n    ",180],"}",["T_WHITESPACE","\n\n    ",181],["T_COMMENT","\/\/ Hidden weight setting.\n",183],["T_WHITESPACE","    ",184],["T_VARIABLE","$weight",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$entity",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","isNew",184],"(",")",["T_WHITESPACE"," ",184],"?",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getRequest",184],"(",")",["T_OBJECT_OPERATOR","->",184],["T_STRING","query",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","get",184],"(",["T_CONSTANT_ENCAPSED_STRING","'weight'",184],",",["T_WHITESPACE"," ",184],["T_LNUMBER","0",184],")",["T_WHITESPACE"," ",184],":",["T_WHITESPACE"," ",184],["T_VARIABLE","$entity",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getWeight",184],"(",")",";",["T_WHITESPACE","\n    ",184],["T_VARIABLE","$form",185],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",185],"]",["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_ARRAY","array",185],"(",["T_WHITESPACE","\n      ",185],["T_CONSTANT_ENCAPSED_STRING","'#type'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'hidden'",186],",",["T_WHITESPACE","\n      ",186],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$weight",187],",",["T_WHITESPACE","\n    ",187],")",";",["T_WHITESPACE","\n\n    ",188],["T_COMMENT","\/\/ Region settings.\n",190],["T_WHITESPACE","    ",191],["T_VARIABLE","$entity_region",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$entity",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getRegion",191],"(",")",";",["T_WHITESPACE","\n    ",191],["T_VARIABLE","$region",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$entity",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","isNew",192],"(",")",["T_WHITESPACE"," ",192],"?",["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getRequest",192],"(",")",["T_OBJECT_OPERATOR","->",192],["T_STRING","query",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","get",192],"(",["T_CONSTANT_ENCAPSED_STRING","'region'",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$entity_region",192],")",["T_WHITESPACE"," ",192],":",["T_WHITESPACE"," ",192],["T_VARIABLE","$entity_region",192],";",["T_WHITESPACE","\n    ",192],["T_VARIABLE","$form",193],"[",["T_CONSTANT_ENCAPSED_STRING","'region'",193],"]",["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_ARRAY","array",193],"(",["T_WHITESPACE","\n      ",193],["T_CONSTANT_ENCAPSED_STRING","'#type'",194],["T_WHITESPACE"," ",194],["T_DOUBLE_ARROW","=>",194],["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'select'",194],",",["T_WHITESPACE","\n      ",194],["T_CONSTANT_ENCAPSED_STRING","'#title'",195],["T_WHITESPACE"," ",195],["T_DOUBLE_ARROW","=>",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","t",195],"(",["T_CONSTANT_ENCAPSED_STRING","'Region'",195],")",",",["T_WHITESPACE","\n      ",195],["T_CONSTANT_ENCAPSED_STRING","'#description'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","t",196],"(",["T_CONSTANT_ENCAPSED_STRING","'Select the region where this block should be displayed.'",196],")",",",["T_WHITESPACE","\n      ",196],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$region",197],",",["T_WHITESPACE","\n      ",197],["T_CONSTANT_ENCAPSED_STRING","'#empty_value'",198],["T_WHITESPACE"," ",198],["T_DOUBLE_ARROW","=>",198],["T_WHITESPACE"," ",198],["T_STRING","BlockInterface",198],["T_DOUBLE_COLON","::",198],["T_STRING","BLOCK_REGION_NONE",198],",",["T_WHITESPACE","\n      ",198],["T_CONSTANT_ENCAPSED_STRING","'#options'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_STRING","system_region_list",199],"(",["T_VARIABLE","$theme",199],",",["T_WHITESPACE"," ",199],["T_STRING","REGIONS_VISIBLE",199],")",",",["T_WHITESPACE","\n      ",199],["T_CONSTANT_ENCAPSED_STRING","'#prefix'",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'<div id=\"edit-block-region-wrapper\">'",200],",",["T_WHITESPACE","\n      ",200],["T_CONSTANT_ENCAPSED_STRING","'#suffix'",201],["T_WHITESPACE"," ",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'<\/div>'",201],",",["T_WHITESPACE","\n    ",201],")",";",["T_WHITESPACE","\n    ",202],["T_VARIABLE","$form",203],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",203],"]","[",["T_CONSTANT_ENCAPSED_STRING","'library'",203],"]","[","]",["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'block\/drupal.block.admin'",203],";",["T_WHITESPACE","\n    ",203],["T_RETURN","return",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$form",204],";",["T_WHITESPACE","\n  ",204],"}",["T_WHITESPACE","\n\n  ",205],["T_DOC_COMMENT","\/**\n   * Handles switching the available regions based on the selected theme.\n   *\/",207],["T_WHITESPACE","\n  ",209],["T_PUBLIC","public",210],["T_WHITESPACE"," ",210],["T_FUNCTION","function",210],["T_WHITESPACE"," ",210],["T_STRING","themeSwitch",210],"(",["T_VARIABLE","$form",210],",",["T_WHITESPACE"," ",210],["T_STRING","FormStateInterface",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$form_state",210],")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n    ",210],["T_VARIABLE","$form",211],"[",["T_CONSTANT_ENCAPSED_STRING","'region'",211],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#options'",211],"]",["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_STRING","system_region_list",211],"(",["T_VARIABLE","$form_state",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","getValue",211],"(",["T_CONSTANT_ENCAPSED_STRING","'theme'",211],")",",",["T_WHITESPACE"," ",211],["T_STRING","REGIONS_VISIBLE",211],")",";",["T_WHITESPACE","\n    ",211],["T_RETURN","return",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$form",212],"[",["T_CONSTANT_ENCAPSED_STRING","'region'",212],"]",";",["T_WHITESPACE","\n  ",212],"}",["T_WHITESPACE","\n\n  ",213],["T_DOC_COMMENT","\/**\n   * Helper function for building the visibility UI form.\n   *\n   * @param array $form\n   *   An associative array containing the structure of the form.\n   * @param \\Drupal\\Core\\Form\\FormStateInterface $form_state\n   *   The current state of the form.\n   *\n   * @return array\n   *   The form array with the visibility UI added in.\n   *\/",215],["T_WHITESPACE","\n  ",225],["T_PROTECTED","protected",226],["T_WHITESPACE"," ",226],["T_FUNCTION","function",226],["T_WHITESPACE"," ",226],["T_STRING","buildVisibilityInterface",226],"(",["T_ARRAY","array",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$form",226],",",["T_WHITESPACE"," ",226],["T_STRING","FormStateInterface",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$form_state",226],")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n    ",226],["T_VARIABLE","$form",227],"[",["T_CONSTANT_ENCAPSED_STRING","'visibility_tabs'",227],"]",["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],"[",["T_WHITESPACE","\n      ",227],["T_CONSTANT_ENCAPSED_STRING","'#type'",228],["T_WHITESPACE"," ",228],["T_DOUBLE_ARROW","=>",228],["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","'vertical_tabs'",228],",",["T_WHITESPACE","\n      ",228],["T_CONSTANT_ENCAPSED_STRING","'#title'",229],["T_WHITESPACE"," ",229],["T_DOUBLE_ARROW","=>",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","t",229],"(",["T_CONSTANT_ENCAPSED_STRING","'Visibility'",229],")",",",["T_WHITESPACE","\n      ",229],["T_CONSTANT_ENCAPSED_STRING","'#parents'",230],["T_WHITESPACE"," ",230],["T_DOUBLE_ARROW","=>",230],["T_WHITESPACE"," ",230],"[",["T_CONSTANT_ENCAPSED_STRING","'visibility_tabs'",230],"]",",",["T_WHITESPACE","\n      ",230],["T_CONSTANT_ENCAPSED_STRING","'#attached'",231],["T_WHITESPACE"," ",231],["T_DOUBLE_ARROW","=>",231],["T_WHITESPACE"," ",231],"[",["T_WHITESPACE","\n        ",231],["T_CONSTANT_ENCAPSED_STRING","'library'",232],["T_WHITESPACE"," ",232],["T_DOUBLE_ARROW","=>",232],["T_WHITESPACE"," ",232],"[",["T_WHITESPACE","\n          ",232],["T_CONSTANT_ENCAPSED_STRING","'block\/drupal.block'",233],",",["T_WHITESPACE","\n        ",233],"]",",",["T_WHITESPACE","\n      ",234],"]",",",["T_WHITESPACE","\n    ",235],"]",";",["T_WHITESPACE","\n    ",236],["T_COMMENT","\/\/ @todo Allow list of conditions to be configured in\n",237],["T_WHITESPACE","    ",238],["T_COMMENT","\/\/   https:\/\/www.drupal.org\/node\/2284687.\n",238],["T_WHITESPACE","    ",239],["T_VARIABLE","$visibility",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","entity",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getVisibility",239],"(",")",";",["T_WHITESPACE","\n    ",239],["T_FOREACH","foreach",240],["T_WHITESPACE"," ",240],"(",["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","manager",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getDefinitionsForContexts",240],"(",["T_VARIABLE","$form_state",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getTemporaryValue",240],"(",["T_CONSTANT_ENCAPSED_STRING","'gathered_contexts'",240],")",")",["T_WHITESPACE"," ",240],["T_AS","as",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$condition_id",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$definition",240],")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n      ",240],["T_COMMENT","\/\/ Don't display the current theme condition.\n",241],["T_WHITESPACE","      ",242],["T_IF","if",242],["T_WHITESPACE"," ",242],"(",["T_VARIABLE","$condition_id",242],["T_WHITESPACE"," ",242],["T_IS_EQUAL","==",242],["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","'current_theme'",242],")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n        ",242],["T_CONTINUE","continue",243],";",["T_WHITESPACE","\n      ",243],"}",["T_WHITESPACE","\n      ",244],["T_COMMENT","\/\/ Don't display the language condition until we have multiple languages.\n",245],["T_WHITESPACE","      ",246],["T_IF","if",246],["T_WHITESPACE"," ",246],"(",["T_VARIABLE","$condition_id",246],["T_WHITESPACE"," ",246],["T_IS_EQUAL","==",246],["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'language'",246],["T_WHITESPACE"," ",246],["T_BOOLEAN_AND","&&",246],["T_WHITESPACE"," ",246],"!",["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","language",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","isMultilingual",246],"(",")",")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n        ",246],["T_CONTINUE","continue",247],";",["T_WHITESPACE","\n      ",247],"}",["T_WHITESPACE","\n      ",248],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Condition\\ConditionInterface $condition *\/",249],["T_WHITESPACE","\n      ",249],["T_VARIABLE","$condition",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","manager",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","createInstance",250],"(",["T_VARIABLE","$condition_id",250],",",["T_WHITESPACE"," ",250],["T_ISSET","isset",250],"(",["T_VARIABLE","$visibility",250],"[",["T_VARIABLE","$condition_id",250],"]",")",["T_WHITESPACE"," ",250],"?",["T_WHITESPACE"," ",250],["T_VARIABLE","$visibility",250],"[",["T_VARIABLE","$condition_id",250],"]",["T_WHITESPACE"," ",250],":",["T_WHITESPACE"," ",250],"[","]",")",";",["T_WHITESPACE","\n      ",250],["T_VARIABLE","$form_state",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","set",251],"(","[",["T_CONSTANT_ENCAPSED_STRING","'conditions'",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$condition_id",251],"]",",",["T_WHITESPACE"," ",251],["T_VARIABLE","$condition",251],")",";",["T_WHITESPACE","\n      ",251],["T_VARIABLE","$condition_form",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$condition",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","buildConfigurationForm",252],"(","[","]",",",["T_WHITESPACE"," ",252],["T_VARIABLE","$form_state",252],")",";",["T_WHITESPACE","\n      ",252],["T_VARIABLE","$condition_form",253],"[",["T_CONSTANT_ENCAPSED_STRING","'#type'",253],"]",["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'details'",253],";",["T_WHITESPACE","\n      ",253],["T_VARIABLE","$condition_form",254],"[",["T_CONSTANT_ENCAPSED_STRING","'#title'",254],"]",["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$condition",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","getPluginDefinition",254],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","'label'",254],"]",";",["T_WHITESPACE","\n      ",254],["T_VARIABLE","$condition_form",255],"[",["T_CONSTANT_ENCAPSED_STRING","'#group'",255],"]",["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","'visibility_tabs'",255],";",["T_WHITESPACE","\n      ",255],["T_VARIABLE","$form",256],"[",["T_VARIABLE","$condition_id",256],"]",["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$condition_form",256],";",["T_WHITESPACE","\n    ",256],"}",["T_WHITESPACE","\n\n    ",257],["T_IF","if",259],["T_WHITESPACE"," ",259],"(",["T_ISSET","isset",259],"(",["T_VARIABLE","$form",259],"[",["T_CONSTANT_ENCAPSED_STRING","'node_type'",259],"]",")",")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n      ",259],["T_VARIABLE","$form",260],"[",["T_CONSTANT_ENCAPSED_STRING","'node_type'",260],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#title'",260],"]",["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","t",260],"(",["T_CONSTANT_ENCAPSED_STRING","'Content types'",260],")",";",["T_WHITESPACE","\n      ",260],["T_VARIABLE","$form",261],"[",["T_CONSTANT_ENCAPSED_STRING","'node_type'",261],"]","[",["T_CONSTANT_ENCAPSED_STRING","'bundles'",261],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#title'",261],"]",["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","t",261],"(",["T_CONSTANT_ENCAPSED_STRING","'Content types'",261],")",";",["T_WHITESPACE","\n      ",261],["T_VARIABLE","$form",262],"[",["T_CONSTANT_ENCAPSED_STRING","'node_type'",262],"]","[",["T_CONSTANT_ENCAPSED_STRING","'negate'",262],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#type'",262],"]",["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_CONSTANT_ENCAPSED_STRING","'value'",262],";",["T_WHITESPACE","\n      ",262],["T_VARIABLE","$form",263],"[",["T_CONSTANT_ENCAPSED_STRING","'node_type'",263],"]","[",["T_CONSTANT_ENCAPSED_STRING","'negate'",263],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#title_display'",263],"]",["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","'invisible'",263],";",["T_WHITESPACE","\n      ",263],["T_VARIABLE","$form",264],"[",["T_CONSTANT_ENCAPSED_STRING","'node_type'",264],"]","[",["T_CONSTANT_ENCAPSED_STRING","'negate'",264],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#value'",264],"]",["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_VARIABLE","$form",264],"[",["T_CONSTANT_ENCAPSED_STRING","'node_type'",264],"]","[",["T_CONSTANT_ENCAPSED_STRING","'negate'",264],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",264],"]",";",["T_WHITESPACE","\n    ",264],"}",["T_WHITESPACE","\n    ",265],["T_IF","if",266],["T_WHITESPACE"," ",266],"(",["T_ISSET","isset",266],"(",["T_VARIABLE","$form",266],"[",["T_CONSTANT_ENCAPSED_STRING","'user_role'",266],"]",")",")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n      ",266],["T_VARIABLE","$form",267],"[",["T_CONSTANT_ENCAPSED_STRING","'user_role'",267],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#title'",267],"]",["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","t",267],"(",["T_CONSTANT_ENCAPSED_STRING","'Roles'",267],")",";",["T_WHITESPACE","\n      ",267],["T_UNSET","unset",268],"(",["T_VARIABLE","$form",268],"[",["T_CONSTANT_ENCAPSED_STRING","'user_role'",268],"]","[",["T_CONSTANT_ENCAPSED_STRING","'roles'",268],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#description'",268],"]",")",";",["T_WHITESPACE","\n      ",268],["T_VARIABLE","$form",269],"[",["T_CONSTANT_ENCAPSED_STRING","'user_role'",269],"]","[",["T_CONSTANT_ENCAPSED_STRING","'negate'",269],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#type'",269],"]",["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","'value'",269],";",["T_WHITESPACE","\n      ",269],["T_VARIABLE","$form",270],"[",["T_CONSTANT_ENCAPSED_STRING","'user_role'",270],"]","[",["T_CONSTANT_ENCAPSED_STRING","'negate'",270],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#value'",270],"]",["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_VARIABLE","$form",270],"[",["T_CONSTANT_ENCAPSED_STRING","'user_role'",270],"]","[",["T_CONSTANT_ENCAPSED_STRING","'negate'",270],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",270],"]",";",["T_WHITESPACE","\n    ",270],"}",["T_WHITESPACE","\n    ",271],["T_IF","if",272],["T_WHITESPACE"," ",272],"(",["T_ISSET","isset",272],"(",["T_VARIABLE","$form",272],"[",["T_CONSTANT_ENCAPSED_STRING","'request_path'",272],"]",")",")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n      ",272],["T_VARIABLE","$form",273],"[",["T_CONSTANT_ENCAPSED_STRING","'request_path'",273],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#title'",273],"]",["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","t",273],"(",["T_CONSTANT_ENCAPSED_STRING","'Pages'",273],")",";",["T_WHITESPACE","\n      ",273],["T_VARIABLE","$form",274],"[",["T_CONSTANT_ENCAPSED_STRING","'request_path'",274],"]","[",["T_CONSTANT_ENCAPSED_STRING","'negate'",274],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#type'",274],"]",["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'radios'",274],";",["T_WHITESPACE","\n      ",274],["T_VARIABLE","$form",275],"[",["T_CONSTANT_ENCAPSED_STRING","'request_path'",275],"]","[",["T_CONSTANT_ENCAPSED_STRING","'negate'",275],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",275],"]",["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_INT_CAST","(int)",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$form",275],"[",["T_CONSTANT_ENCAPSED_STRING","'request_path'",275],"]","[",["T_CONSTANT_ENCAPSED_STRING","'negate'",275],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",275],"]",";",["T_WHITESPACE","\n      ",275],["T_VARIABLE","$form",276],"[",["T_CONSTANT_ENCAPSED_STRING","'request_path'",276],"]","[",["T_CONSTANT_ENCAPSED_STRING","'negate'",276],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#title_display'",276],"]",["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'invisible'",276],";",["T_WHITESPACE","\n      ",276],["T_VARIABLE","$form",277],"[",["T_CONSTANT_ENCAPSED_STRING","'request_path'",277],"]","[",["T_CONSTANT_ENCAPSED_STRING","'negate'",277],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#options'",277],"]",["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],"[",["T_WHITESPACE","\n        ",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","t",278],"(",["T_CONSTANT_ENCAPSED_STRING","'Show for the listed pages'",278],")",",",["T_WHITESPACE","\n        ",278],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","t",279],"(",["T_CONSTANT_ENCAPSED_STRING","'Hide for the listed pages'",279],")",",",["T_WHITESPACE","\n      ",279],"]",";",["T_WHITESPACE","\n    ",280],"}",["T_WHITESPACE","\n    ",281],["T_IF","if",282],["T_WHITESPACE"," ",282],"(",["T_ISSET","isset",282],"(",["T_VARIABLE","$form",282],"[",["T_CONSTANT_ENCAPSED_STRING","'language'",282],"]",")",")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n      ",282],["T_VARIABLE","$form",283],"[",["T_CONSTANT_ENCAPSED_STRING","'language'",283],"]","[",["T_CONSTANT_ENCAPSED_STRING","'negate'",283],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#type'",283],"]",["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","'value'",283],";",["T_WHITESPACE","\n      ",283],["T_VARIABLE","$form",284],"[",["T_CONSTANT_ENCAPSED_STRING","'language'",284],"]","[",["T_CONSTANT_ENCAPSED_STRING","'negate'",284],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#value'",284],"]",["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_VARIABLE","$form",284],"[",["T_CONSTANT_ENCAPSED_STRING","'language'",284],"]","[",["T_CONSTANT_ENCAPSED_STRING","'negate'",284],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",284],"]",";",["T_WHITESPACE","\n    ",284],"}",["T_WHITESPACE","\n    ",285],["T_RETURN","return",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$form",286],";",["T_WHITESPACE","\n  ",286],"}",["T_WHITESPACE","\n\n  ",287],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",289],["T_WHITESPACE","\n  ",291],["T_PROTECTED","protected",292],["T_WHITESPACE"," ",292],["T_FUNCTION","function",292],["T_WHITESPACE"," ",292],["T_STRING","actions",292],"(",["T_ARRAY","array",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$form",292],",",["T_WHITESPACE"," ",292],["T_STRING","FormStateInterface",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$form_state",292],")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n    ",292],["T_VARIABLE","$actions",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_STRING","parent",293],["T_DOUBLE_COLON","::",293],["T_STRING","actions",293],"(",["T_VARIABLE","$form",293],",",["T_WHITESPACE"," ",293],["T_VARIABLE","$form_state",293],")",";",["T_WHITESPACE","\n    ",293],["T_VARIABLE","$actions",294],"[",["T_CONSTANT_ENCAPSED_STRING","'submit'",294],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#value'",294],"]",["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","t",294],"(",["T_CONSTANT_ENCAPSED_STRING","'Save block'",294],")",";",["T_WHITESPACE","\n    ",294],["T_RETURN","return",295],["T_WHITESPACE"," ",295],["T_VARIABLE","$actions",295],";",["T_WHITESPACE","\n  ",295],"}",["T_WHITESPACE","\n\n  ",296],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",298],["T_WHITESPACE","\n  ",300],["T_PUBLIC","public",301],["T_WHITESPACE"," ",301],["T_FUNCTION","function",301],["T_WHITESPACE"," ",301],["T_STRING","validateForm",301],"(",["T_ARRAY","array",301],["T_WHITESPACE"," ",301],"&",["T_VARIABLE","$form",301],",",["T_WHITESPACE"," ",301],["T_STRING","FormStateInterface",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$form_state",301],")",["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n    ",301],["T_STRING","parent",302],["T_DOUBLE_COLON","::",302],["T_STRING","validateForm",302],"(",["T_VARIABLE","$form",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$form_state",302],")",";",["T_WHITESPACE","\n\n    ",302],["T_VARIABLE","$form_state",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","setValue",304],"(",["T_CONSTANT_ENCAPSED_STRING","'weight'",304],",",["T_WHITESPACE"," ",304],["T_INT_CAST","(int)",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$form_state",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","getValue",304],"(",["T_CONSTANT_ENCAPSED_STRING","'weight'",304],")",")",";",["T_WHITESPACE","\n    ",304],["T_COMMENT","\/\/ The Block Entity form puts all block plugin form elements in the\n",305],["T_WHITESPACE","    ",306],["T_COMMENT","\/\/ settings form element, so just pass that to the block for validation.\n",306],["T_WHITESPACE","    ",307],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","getPluginForm",307],"(",["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","entity",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","getPlugin",307],"(",")",")",["T_OBJECT_OPERATOR","->",307],["T_STRING","validateConfigurationForm",307],"(",["T_VARIABLE","$form",307],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",307],"]",",",["T_WHITESPACE"," ",307],["T_STRING","SubformState",307],["T_DOUBLE_COLON","::",307],["T_STRING","createForSubform",307],"(",["T_VARIABLE","$form",307],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",307],"]",",",["T_WHITESPACE"," ",307],["T_VARIABLE","$form",307],",",["T_WHITESPACE"," ",307],["T_VARIABLE","$form_state",307],")",")",";",["T_WHITESPACE","\n    ",307],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","validateVisibility",308],"(",["T_VARIABLE","$form",308],",",["T_WHITESPACE"," ",308],["T_VARIABLE","$form_state",308],")",";",["T_WHITESPACE","\n  ",308],"}",["T_WHITESPACE","\n\n  ",309],["T_DOC_COMMENT","\/**\n   * Helper function to independently validate the visibility UI.\n   *\n   * @param array $form\n   *   A nested array form elements comprising the form.\n   * @param \\Drupal\\Core\\Form\\FormStateInterface $form_state\n   *   The current state of the form.\n   *\/",311],["T_WHITESPACE","\n  ",318],["T_PROTECTED","protected",319],["T_WHITESPACE"," ",319],["T_FUNCTION","function",319],["T_WHITESPACE"," ",319],["T_STRING","validateVisibility",319],"(",["T_ARRAY","array",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$form",319],",",["T_WHITESPACE"," ",319],["T_STRING","FormStateInterface",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$form_state",319],")",["T_WHITESPACE"," ",319],"{",["T_WHITESPACE","\n    ",319],["T_COMMENT","\/\/ Validate visibility condition settings.\n",320],["T_WHITESPACE","    ",321],["T_FOREACH","foreach",321],["T_WHITESPACE"," ",321],"(",["T_VARIABLE","$form_state",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","getValue",321],"(",["T_CONSTANT_ENCAPSED_STRING","'visibility'",321],")",["T_WHITESPACE"," ",321],["T_AS","as",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$condition_id",321],["T_WHITESPACE"," ",321],["T_DOUBLE_ARROW","=>",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$values",321],")",["T_WHITESPACE"," ",321],"{",["T_WHITESPACE","\n      ",321],["T_COMMENT","\/\/ All condition plugins use 'negate' as a Boolean in their schema.\n",322],["T_WHITESPACE","      ",323],["T_COMMENT","\/\/ However, certain form elements may return it as 0\/1. Cast here to\n",323],["T_WHITESPACE","      ",324],["T_COMMENT","\/\/ ensure the data is in the expected type.\n",324],["T_WHITESPACE","      ",325],["T_IF","if",325],["T_WHITESPACE"," ",325],"(",["T_STRING","array_key_exists",325],"(",["T_CONSTANT_ENCAPSED_STRING","'negate'",325],",",["T_WHITESPACE"," ",325],["T_VARIABLE","$values",325],")",")",["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n        ",325],["T_VARIABLE","$form_state",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","setValue",326],"(","[",["T_CONSTANT_ENCAPSED_STRING","'visibility'",326],",",["T_WHITESPACE"," ",326],["T_VARIABLE","$condition_id",326],",",["T_WHITESPACE"," ",326],["T_CONSTANT_ENCAPSED_STRING","'negate'",326],"]",",",["T_WHITESPACE"," ",326],["T_BOOL_CAST","(bool)",326],["T_WHITESPACE"," ",326],["T_VARIABLE","$values",326],"[",["T_CONSTANT_ENCAPSED_STRING","'negate'",326],"]",")",";",["T_WHITESPACE","\n      ",326],"}",["T_WHITESPACE","\n\n      ",327],["T_COMMENT","\/\/ Allow the condition to validate the form.\n",329],["T_WHITESPACE","      ",330],["T_VARIABLE","$condition",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_VARIABLE","$form_state",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","get",330],"(","[",["T_CONSTANT_ENCAPSED_STRING","'conditions'",330],",",["T_WHITESPACE"," ",330],["T_VARIABLE","$condition_id",330],"]",")",";",["T_WHITESPACE","\n      ",330],["T_VARIABLE","$condition",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","validateConfigurationForm",331],"(",["T_VARIABLE","$form",331],"[",["T_CONSTANT_ENCAPSED_STRING","'visibility'",331],"]","[",["T_VARIABLE","$condition_id",331],"]",",",["T_WHITESPACE"," ",331],["T_STRING","SubformState",331],["T_DOUBLE_COLON","::",331],["T_STRING","createForSubform",331],"(",["T_VARIABLE","$form",331],"[",["T_CONSTANT_ENCAPSED_STRING","'visibility'",331],"]","[",["T_VARIABLE","$condition_id",331],"]",",",["T_WHITESPACE"," ",331],["T_VARIABLE","$form",331],",",["T_WHITESPACE"," ",331],["T_VARIABLE","$form_state",331],")",")",";",["T_WHITESPACE","\n    ",331],"}",["T_WHITESPACE","\n  ",332],"}",["T_WHITESPACE","\n\n  ",333],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",335],["T_WHITESPACE","\n  ",337],["T_PUBLIC","public",338],["T_WHITESPACE"," ",338],["T_FUNCTION","function",338],["T_WHITESPACE"," ",338],["T_STRING","submitForm",338],"(",["T_ARRAY","array",338],["T_WHITESPACE"," ",338],"&",["T_VARIABLE","$form",338],",",["T_WHITESPACE"," ",338],["T_STRING","FormStateInterface",338],["T_WHITESPACE"," ",338],["T_VARIABLE","$form_state",338],")",["T_WHITESPACE"," ",338],"{",["T_WHITESPACE","\n    ",338],["T_STRING","parent",339],["T_DOUBLE_COLON","::",339],["T_STRING","submitForm",339],"(",["T_VARIABLE","$form",339],",",["T_WHITESPACE"," ",339],["T_VARIABLE","$form_state",339],")",";",["T_WHITESPACE","\n\n    ",339],["T_VARIABLE","$entity",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","entity",341],";",["T_WHITESPACE","\n    ",341],["T_COMMENT","\/\/ The Block Entity form puts all block plugin form elements in the\n",342],["T_WHITESPACE","    ",343],["T_COMMENT","\/\/ settings form element, so just pass that to the block for submission.\n",343],["T_WHITESPACE","    ",344],["T_VARIABLE","$sub_form_state",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_STRING","SubformState",344],["T_DOUBLE_COLON","::",344],["T_STRING","createForSubform",344],"(",["T_VARIABLE","$form",344],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",344],"]",",",["T_WHITESPACE"," ",344],["T_VARIABLE","$form",344],",",["T_WHITESPACE"," ",344],["T_VARIABLE","$form_state",344],")",";",["T_WHITESPACE","\n    ",344],["T_COMMENT","\/\/ Call the plugin submit handler.\n",345],["T_WHITESPACE","    ",346],["T_VARIABLE","$block",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_VARIABLE","$entity",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","getPlugin",346],"(",")",";",["T_WHITESPACE","\n    ",346],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","getPluginForm",347],"(",["T_VARIABLE","$block",347],")",["T_OBJECT_OPERATOR","->",347],["T_STRING","submitConfigurationForm",347],"(",["T_VARIABLE","$form",347],",",["T_WHITESPACE"," ",347],["T_VARIABLE","$sub_form_state",347],")",";",["T_WHITESPACE","\n    ",347],["T_COMMENT","\/\/ If this block is context-aware, set the context mapping.\n",348],["T_WHITESPACE","    ",349],["T_IF","if",349],["T_WHITESPACE"," ",349],"(",["T_VARIABLE","$block",349],["T_WHITESPACE"," ",349],["T_INSTANCEOF","instanceof",349],["T_WHITESPACE"," ",349],["T_STRING","ContextAwarePluginInterface",349],["T_WHITESPACE"," ",349],["T_BOOLEAN_AND","&&",349],["T_WHITESPACE"," ",349],["T_VARIABLE","$block",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","getContextDefinitions",349],"(",")",")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n      ",349],["T_VARIABLE","$context_mapping",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_VARIABLE","$sub_form_state",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","getValue",350],"(",["T_CONSTANT_ENCAPSED_STRING","'context_mapping'",350],",",["T_WHITESPACE"," ",350],"[","]",")",";",["T_WHITESPACE","\n      ",350],["T_VARIABLE","$block",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","setContextMapping",351],"(",["T_VARIABLE","$context_mapping",351],")",";",["T_WHITESPACE","\n    ",351],"}",["T_WHITESPACE","\n\n    ",352],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","submitVisibility",354],"(",["T_VARIABLE","$form",354],",",["T_WHITESPACE"," ",354],["T_VARIABLE","$form_state",354],")",";",["T_WHITESPACE","\n\n    ",354],["T_COMMENT","\/\/ Save the settings of the plugin.\n",356],["T_WHITESPACE","    ",357],["T_VARIABLE","$entity",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","save",357],"(",")",";",["T_WHITESPACE","\n\n    ",357],["T_STRING","drupal_set_message",359],"(",["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","t",359],"(",["T_CONSTANT_ENCAPSED_STRING","'The block configuration has been saved.'",359],")",")",";",["T_WHITESPACE","\n    ",359],["T_VARIABLE","$form_state",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","setRedirect",360],"(",["T_WHITESPACE","\n      ",360],["T_CONSTANT_ENCAPSED_STRING","'block.admin_display_theme'",361],",",["T_WHITESPACE","\n      ",361],["T_ARRAY","array",362],"(",["T_WHITESPACE","\n        ",362],["T_CONSTANT_ENCAPSED_STRING","'theme'",363],["T_WHITESPACE"," ",363],["T_DOUBLE_ARROW","=>",363],["T_WHITESPACE"," ",363],["T_VARIABLE","$form_state",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","getValue",363],"(",["T_CONSTANT_ENCAPSED_STRING","'theme'",363],")",",",["T_WHITESPACE","\n      ",363],")",",",["T_WHITESPACE","\n      ",364],["T_ARRAY","array",365],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",365],["T_WHITESPACE"," ",365],["T_DOUBLE_ARROW","=>",365],["T_WHITESPACE"," ",365],["T_ARRAY","array",365],"(",["T_CONSTANT_ENCAPSED_STRING","'block-placement'",365],["T_WHITESPACE"," ",365],["T_DOUBLE_ARROW","=>",365],["T_WHITESPACE"," ",365],["T_STRING","Html",365],["T_DOUBLE_COLON","::",365],["T_STRING","getClass",365],"(",["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","entity",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","id",365],"(",")",")",")",")",["T_WHITESPACE","\n    ",365],")",";",["T_WHITESPACE","\n  ",366],"}",["T_WHITESPACE","\n\n  ",367],["T_DOC_COMMENT","\/**\n   * Helper function to independently submit the visibility UI.\n   *\n   * @param array $form\n   *   A nested array form elements comprising the form.\n   * @param \\Drupal\\Core\\Form\\FormStateInterface $form_state\n   *   The current state of the form.\n   *\/",369],["T_WHITESPACE","\n  ",376],["T_PROTECTED","protected",377],["T_WHITESPACE"," ",377],["T_FUNCTION","function",377],["T_WHITESPACE"," ",377],["T_STRING","submitVisibility",377],"(",["T_ARRAY","array",377],["T_WHITESPACE"," ",377],["T_VARIABLE","$form",377],",",["T_WHITESPACE"," ",377],["T_STRING","FormStateInterface",377],["T_WHITESPACE"," ",377],["T_VARIABLE","$form_state",377],")",["T_WHITESPACE"," ",377],"{",["T_WHITESPACE","\n    ",377],["T_FOREACH","foreach",378],["T_WHITESPACE"," ",378],"(",["T_VARIABLE","$form_state",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","getValue",378],"(",["T_CONSTANT_ENCAPSED_STRING","'visibility'",378],")",["T_WHITESPACE"," ",378],["T_AS","as",378],["T_WHITESPACE"," ",378],["T_VARIABLE","$condition_id",378],["T_WHITESPACE"," ",378],["T_DOUBLE_ARROW","=>",378],["T_WHITESPACE"," ",378],["T_VARIABLE","$values",378],")",["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n      ",378],["T_COMMENT","\/\/ Allow the condition to submit the form.\n",379],["T_WHITESPACE","      ",380],["T_VARIABLE","$condition",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_VARIABLE","$form_state",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","get",380],"(","[",["T_CONSTANT_ENCAPSED_STRING","'conditions'",380],",",["T_WHITESPACE"," ",380],["T_VARIABLE","$condition_id",380],"]",")",";",["T_WHITESPACE","\n      ",380],["T_VARIABLE","$condition",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","submitConfigurationForm",381],"(",["T_VARIABLE","$form",381],"[",["T_CONSTANT_ENCAPSED_STRING","'visibility'",381],"]","[",["T_VARIABLE","$condition_id",381],"]",",",["T_WHITESPACE"," ",381],["T_STRING","SubformState",381],["T_DOUBLE_COLON","::",381],["T_STRING","createForSubform",381],"(",["T_VARIABLE","$form",381],"[",["T_CONSTANT_ENCAPSED_STRING","'visibility'",381],"]","[",["T_VARIABLE","$condition_id",381],"]",",",["T_WHITESPACE"," ",381],["T_VARIABLE","$form",381],",",["T_WHITESPACE"," ",381],["T_VARIABLE","$form_state",381],")",")",";",["T_WHITESPACE","\n\n      ",381],["T_COMMENT","\/\/ Setting conditions' context mappings is the plugins' responsibility.\n",383],["T_WHITESPACE","      ",384],["T_COMMENT","\/\/ This code exists for backwards compatibility, because\n",384],["T_WHITESPACE","      ",385],["T_COMMENT","\/\/ \\Drupal\\Core\\Condition\\ConditionPluginBase::submitConfigurationForm()\n",385],["T_WHITESPACE","      ",386],["T_COMMENT","\/\/ did not set its own mappings until Drupal 8.2\n",386],["T_WHITESPACE","      ",387],["T_COMMENT","\/\/ @todo Remove the code that sets context mappings in Drupal 9.0.0.\n",387],["T_WHITESPACE","      ",388],["T_IF","if",388],["T_WHITESPACE"," ",388],"(",["T_VARIABLE","$condition",388],["T_WHITESPACE"," ",388],["T_INSTANCEOF","instanceof",388],["T_WHITESPACE"," ",388],["T_STRING","ContextAwarePluginInterface",388],")",["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n        ",388],["T_VARIABLE","$context_mapping",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_ISSET","isset",389],"(",["T_VARIABLE","$values",389],"[",["T_CONSTANT_ENCAPSED_STRING","'context_mapping'",389],"]",")",["T_WHITESPACE"," ",389],"?",["T_WHITESPACE"," ",389],["T_VARIABLE","$values",389],"[",["T_CONSTANT_ENCAPSED_STRING","'context_mapping'",389],"]",["T_WHITESPACE"," ",389],":",["T_WHITESPACE"," ",389],"[","]",";",["T_WHITESPACE","\n        ",389],["T_VARIABLE","$condition",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","setContextMapping",390],"(",["T_VARIABLE","$context_mapping",390],")",";",["T_WHITESPACE","\n      ",390],"}",["T_WHITESPACE","\n\n      ",391],["T_VARIABLE","$condition_configuration",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_VARIABLE","$condition",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","getConfiguration",393],"(",")",";",["T_WHITESPACE","\n      ",393],["T_COMMENT","\/\/ Update the visibility conditions on the block.\n",394],["T_WHITESPACE","      ",395],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","entity",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","getVisibilityConditions",395],"(",")",["T_OBJECT_OPERATOR","->",395],["T_STRING","addInstanceId",395],"(",["T_VARIABLE","$condition_id",395],",",["T_WHITESPACE"," ",395],["T_VARIABLE","$condition_configuration",395],")",";",["T_WHITESPACE","\n    ",395],"}",["T_WHITESPACE","\n  ",396],"}",["T_WHITESPACE","\n\n  ",397],["T_DOC_COMMENT","\/**\n   * Generates a unique machine name for a block.\n   *\n   * @param \\Drupal\\block\\BlockInterface $block\n   *   The block entity.\n   *\n   * @return string\n   *   Returns the unique name.\n   *\/",399],["T_WHITESPACE","\n  ",407],["T_PUBLIC","public",408],["T_WHITESPACE"," ",408],["T_FUNCTION","function",408],["T_WHITESPACE"," ",408],["T_STRING","getUniqueMachineName",408],"(",["T_STRING","BlockInterface",408],["T_WHITESPACE"," ",408],["T_VARIABLE","$block",408],")",["T_WHITESPACE"," ",408],"{",["T_WHITESPACE","\n    ",408],["T_VARIABLE","$suggestion",409],["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_VARIABLE","$block",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","getPlugin",409],"(",")",["T_OBJECT_OPERATOR","->",409],["T_STRING","getMachineNameSuggestion",409],"(",")",";",["T_WHITESPACE","\n\n    ",409],["T_COMMENT","\/\/ Get all the blocks which starts with the suggested machine name.\n",411],["T_WHITESPACE","    ",412],["T_VARIABLE","$query",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","storage",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","getQuery",412],"(",")",";",["T_WHITESPACE","\n    ",412],["T_VARIABLE","$query",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","condition",413],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",413],",",["T_WHITESPACE"," ",413],["T_VARIABLE","$suggestion",413],",",["T_WHITESPACE"," ",413],["T_CONSTANT_ENCAPSED_STRING","'CONTAINS'",413],")",";",["T_WHITESPACE","\n    ",413],["T_VARIABLE","$block_ids",414],["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_VARIABLE","$query",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","execute",414],"(",")",";",["T_WHITESPACE","\n\n    ",414],["T_VARIABLE","$block_ids",416],["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],["T_STRING","array_map",416],"(",["T_FUNCTION","function",416],["T_WHITESPACE"," ",416],"(",["T_VARIABLE","$block_id",416],")",["T_WHITESPACE"," ",416],"{",["T_WHITESPACE","\n      ",416],["T_VARIABLE","$parts",417],["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],["T_STRING","explode",417],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",417],",",["T_WHITESPACE"," ",417],["T_VARIABLE","$block_id",417],")",";",["T_WHITESPACE","\n      ",417],["T_RETURN","return",418],["T_WHITESPACE"," ",418],["T_STRING","end",418],"(",["T_VARIABLE","$parts",418],")",";",["T_WHITESPACE","\n    ",418],"}",",",["T_WHITESPACE"," ",419],["T_VARIABLE","$block_ids",419],")",";",["T_WHITESPACE","\n\n    ",419],["T_COMMENT","\/\/ Iterate through potential IDs until we get a new one. E.g.\n",421],["T_WHITESPACE","    ",422],["T_COMMENT","\/\/ 'plugin', 'plugin_2', 'plugin_3', etc.\n",422],["T_WHITESPACE","    ",423],["T_VARIABLE","$count",423],["T_WHITESPACE"," ",423],"=",["T_WHITESPACE"," ",423],["T_LNUMBER","1",423],";",["T_WHITESPACE","\n    ",423],["T_VARIABLE","$machine_default",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_VARIABLE","$suggestion",424],";",["T_WHITESPACE","\n    ",424],["T_WHILE","while",425],["T_WHITESPACE"," ",425],"(",["T_STRING","in_array",425],"(",["T_VARIABLE","$machine_default",425],",",["T_WHITESPACE"," ",425],["T_VARIABLE","$block_ids",425],")",")",["T_WHITESPACE"," ",425],"{",["T_WHITESPACE","\n      ",425],["T_VARIABLE","$machine_default",426],["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_VARIABLE","$suggestion",426],["T_WHITESPACE"," ",426],".",["T_WHITESPACE"," ",426],["T_CONSTANT_ENCAPSED_STRING","'_'",426],["T_WHITESPACE"," ",426],".",["T_WHITESPACE"," ",426],["T_INC","++",426],["T_VARIABLE","$count",426],";",["T_WHITESPACE","\n    ",426],"}",["T_WHITESPACE","\n    ",427],["T_RETURN","return",428],["T_WHITESPACE"," ",428],["T_VARIABLE","$machine_default",428],";",["T_WHITESPACE","\n  ",428],"}",["T_WHITESPACE","\n\n  ",429],["T_DOC_COMMENT","\/**\n   * Retrieves the plugin form for a given block and operation.\n   *\n   * @param \\Drupal\\Core\\Block\\BlockPluginInterface $block\n   *   The block plugin.\n   *\n   * @return \\Drupal\\Core\\Plugin\\PluginFormInterface\n   *   The plugin form for the block.\n   *\/",431],["T_WHITESPACE","\n  ",439],["T_PROTECTED","protected",440],["T_WHITESPACE"," ",440],["T_FUNCTION","function",440],["T_WHITESPACE"," ",440],["T_STRING","getPluginForm",440],"(",["T_STRING","BlockPluginInterface",440],["T_WHITESPACE"," ",440],["T_VARIABLE","$block",440],")",["T_WHITESPACE"," ",440],"{",["T_WHITESPACE","\n    ",440],["T_IF","if",441],["T_WHITESPACE"," ",441],"(",["T_VARIABLE","$block",441],["T_WHITESPACE"," ",441],["T_INSTANCEOF","instanceof",441],["T_WHITESPACE"," ",441],["T_STRING","PluginWithFormsInterface",441],")",["T_WHITESPACE"," ",441],"{",["T_WHITESPACE","\n      ",441],["T_RETURN","return",442],["T_WHITESPACE"," ",442],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","pluginFormFactory",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","createInstance",442],"(",["T_VARIABLE","$block",442],",",["T_WHITESPACE"," ",442],["T_CONSTANT_ENCAPSED_STRING","'configure'",442],")",";",["T_WHITESPACE","\n    ",442],"}",["T_WHITESPACE","\n    ",443],["T_RETURN","return",444],["T_WHITESPACE"," ",444],["T_VARIABLE","$block",444],";",["T_WHITESPACE","\n  ",444],"}",["T_WHITESPACE","\n\n",445],"}",["T_WHITESPACE","\n",447]]