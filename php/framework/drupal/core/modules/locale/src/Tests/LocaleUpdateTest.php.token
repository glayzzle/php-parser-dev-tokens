[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","locale",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Language",5],["T_NS_SEPARATOR","\\",5],["T_STRING","LanguageInterface",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests for updating the interface translations of projects.\n *\n * @group locale\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","LocaleUpdateTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","LocaleUpdateBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",14],["T_WHITESPACE","\n  ",16],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_FUNCTION","function",17],["T_WHITESPACE"," ",17],["T_STRING","setUp",17],"(",")",["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n    ",17],["T_STRING","parent",18],["T_DOUBLE_COLON","::",18],["T_STRING","setUp",18],"(",")",";",["T_WHITESPACE","\n    ",18],["T_STRING","module_load_include",19],"(",["T_CONSTANT_ENCAPSED_STRING","'compare.inc'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'locale'",19],")",";",["T_WHITESPACE","\n    ",19],["T_STRING","module_load_include",20],"(",["T_CONSTANT_ENCAPSED_STRING","'fetch.inc'",20],",",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'locale'",20],")",";",["T_WHITESPACE","\n    ",20],["T_VARIABLE","$admin_user",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","drupalCreateUser",21],"(",["T_ARRAY","array",21],"(",["T_CONSTANT_ENCAPSED_STRING","'administer modules'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'administer site configuration'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'administer languages'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'access administration pages'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'translate interface'",21],")",")",";",["T_WHITESPACE","\n    ",21],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","drupalLogin",22],"(",["T_VARIABLE","$admin_user",22],")",";",["T_WHITESPACE","\n    ",22],["T_COMMENT","\/\/ We use German as test language. This language must match the translation\n",23],["T_WHITESPACE","    ",24],["T_COMMENT","\/\/ file that come with the locale_test module (test.de.po) and can therefore\n",24],["T_WHITESPACE","    ",25],["T_COMMENT","\/\/ not be chosen randomly.\n",25],["T_WHITESPACE","    ",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","addLanguage",26],"(",["T_CONSTANT_ENCAPSED_STRING","'de'",26],")",";",["T_WHITESPACE","\n  ",26],"}",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * Checks if a list of translatable projects gets build.\n   *\/",29],["T_WHITESPACE","\n  ",31],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","testUpdateProjects",32],"(",")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n    ",32],["T_STRING","module_load_include",33],"(",["T_CONSTANT_ENCAPSED_STRING","'compare.inc'",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'locale'",33],")",";",["T_WHITESPACE","\n\n    ",33],["T_COMMENT","\/\/ Make the test modules look like a normal custom module. i.e. make the\n",35],["T_WHITESPACE","    ",36],["T_COMMENT","\/\/ modules not hidden. locale_test_system_info_alter() modifies the project\n",36],["T_WHITESPACE","    ",37],["T_COMMENT","\/\/ info of the locale_test and locale_test_translate modules.\n",37],["T_WHITESPACE","    ",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Drupal",38],["T_DOUBLE_COLON","::",38],["T_STRING","state",38],"(",")",["T_OBJECT_OPERATOR","->",38],["T_STRING","set",38],"(",["T_CONSTANT_ENCAPSED_STRING","'locale.test_system_info_alter'",38],",",["T_WHITESPACE"," ",38],["T_STRING","TRUE",38],")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","resetAll",39],"(",")",";",["T_WHITESPACE","\n\n    ",39],["T_COMMENT","\/\/ Check if interface translation data is collected from hook_info.\n",41],["T_WHITESPACE","    ",42],["T_VARIABLE","$projects",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_STRING","locale_translation_project_list",42],"(",")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","assertFalse",43],"(",["T_ISSET","isset",43],"(",["T_VARIABLE","$projects",43],"[",["T_CONSTANT_ENCAPSED_STRING","'locale_test_translate'",43],"]",")",",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'Hidden module not found'",43],")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","assertEqual",44],"(",["T_VARIABLE","$projects",44],"[",["T_CONSTANT_ENCAPSED_STRING","'locale_test'",44],"]","[",["T_CONSTANT_ENCAPSED_STRING","'info'",44],"]","[",["T_CONSTANT_ENCAPSED_STRING","'interface translation server pattern'",44],"]",",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'core\/modules\/locale\/test\/test.%language.po'",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'Interface translation parameter found in project info.'",44],")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","assertEqual",45],"(",["T_VARIABLE","$projects",45],"[",["T_CONSTANT_ENCAPSED_STRING","'locale_test'",45],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",45],"]",",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'locale_test'",45],",",["T_WHITESPACE"," ",45],["T_STRING","format_string",45],"(",["T_CONSTANT_ENCAPSED_STRING","'%key found in project info.'",45],",",["T_WHITESPACE"," ",45],["T_ARRAY","array",45],"(",["T_CONSTANT_ENCAPSED_STRING","'%key'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'interface translation project'",45],")",")",")",";",["T_WHITESPACE","\n  ",45],"}",["T_WHITESPACE","\n\n  ",46],["T_DOC_COMMENT","\/**\n   * Checks if local or remote translation sources are detected.\n   *\n   * The translation status process by default checks the status of the\n   * installed projects. For testing purpose a predefined set of modules with\n   * fixed file names and release versions is used. This custom project\n   * definition is applied using a hook_locale_translation_projects_alter\n   * implementation in the locale_test module.\n   *\n   * This test generates a set of local and remote translation files in their\n   * respective local and remote translation directory. The test checks whether\n   * the most recent files are selected in the different check scenarios: check\n   * for local files only, check for both local and remote files.\n   *\/",48],["T_WHITESPACE","\n  ",61],["T_PUBLIC","public",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","testUpdateCheckStatus",62],"(",")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n    ",62],["T_COMMENT","\/\/ Case when contributed modules are absent.\n",63],["T_WHITESPACE","    ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","drupalGet",64],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/translations'",64],")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","assertText",65],"(",["T_STRING","t",65],"(",["T_CONSTANT_ENCAPSED_STRING","'Missing translations for one project'",65],")",")",";",["T_WHITESPACE","\n\n    ",65],["T_VARIABLE","$config",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","config",67],"(",["T_CONSTANT_ENCAPSED_STRING","'locale.settings'",67],")",";",["T_WHITESPACE","\n    ",67],["T_COMMENT","\/\/ Set a flag to let the locale_test module replace the project data with a\n",68],["T_WHITESPACE","    ",69],["T_COMMENT","\/\/ set of test projects.\n",69],["T_WHITESPACE","    ",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Drupal",70],["T_DOUBLE_COLON","::",70],["T_STRING","state",70],"(",")",["T_OBJECT_OPERATOR","->",70],["T_STRING","set",70],"(",["T_CONSTANT_ENCAPSED_STRING","'locale.test_projects_alter'",70],",",["T_WHITESPACE"," ",70],["T_STRING","TRUE",70],")",";",["T_WHITESPACE","\n\n    ",70],["T_COMMENT","\/\/ Create local and remote translations files.\n",72],["T_WHITESPACE","    ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","setTranslationFiles",73],"(",")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$config",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","set",74],"(",["T_CONSTANT_ENCAPSED_STRING","'translation.default_filename'",74],",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'%project-%version.%language._po'",74],")",["T_OBJECT_OPERATOR","->",74],["T_STRING","save",74],"(",")",";",["T_WHITESPACE","\n\n    ",74],["T_COMMENT","\/\/ Set the test conditions.\n",76],["T_WHITESPACE","    ",77],["T_VARIABLE","$edit",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_ARRAY","array",77],"(",["T_WHITESPACE","\n      ",77],["T_CONSTANT_ENCAPSED_STRING","'use_source'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_STRING","LOCALE_TRANSLATION_USE_SOURCE_LOCAL",78],",",["T_WHITESPACE","\n    ",78],")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","drupalPostForm",80],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/translate\/settings'",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$edit",80],",",["T_WHITESPACE"," ",80],["T_STRING","t",80],"(",["T_CONSTANT_ENCAPSED_STRING","'Save configuration'",80],")",")",";",["T_WHITESPACE","\n\n    ",80],["T_COMMENT","\/\/ Get status of translation sources at local file system.\n",82],["T_WHITESPACE","    ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","drupalGet",83],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/translations\/check'",83],")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$result",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_STRING","locale_translation_get_status",84],"(",")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertEqual",85],"(",["T_VARIABLE","$result",85],"[",["T_CONSTANT_ENCAPSED_STRING","'contrib_module_one'",85],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",85],"]",["T_OBJECT_OPERATOR","->",85],["T_STRING","type",85],",",["T_WHITESPACE"," ",85],["T_STRING","LOCALE_TRANSLATION_LOCAL",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'Translation of contrib_module_one found'",85],")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertEqual",86],"(",["T_VARIABLE","$result",86],"[",["T_CONSTANT_ENCAPSED_STRING","'contrib_module_one'",86],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",86],"]",["T_OBJECT_OPERATOR","->",86],["T_STRING","timestamp",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","timestampOld",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'Translation timestamp found'",86],")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertEqual",87],"(",["T_VARIABLE","$result",87],"[",["T_CONSTANT_ENCAPSED_STRING","'contrib_module_two'",87],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",87],"]",["T_OBJECT_OPERATOR","->",87],["T_STRING","type",87],",",["T_WHITESPACE"," ",87],["T_STRING","LOCALE_TRANSLATION_LOCAL",87],",",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'Translation of contrib_module_two found'",87],")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","assertEqual",88],"(",["T_VARIABLE","$result",88],"[",["T_CONSTANT_ENCAPSED_STRING","'contrib_module_two'",88],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",88],"]",["T_OBJECT_OPERATOR","->",88],["T_STRING","timestamp",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","timestampNew",88],",",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'Translation timestamp found'",88],")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertEqual",89],"(",["T_VARIABLE","$result",89],"[",["T_CONSTANT_ENCAPSED_STRING","'locale_test'",89],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",89],"]",["T_OBJECT_OPERATOR","->",89],["T_STRING","type",89],",",["T_WHITESPACE"," ",89],["T_STRING","LOCALE_TRANSLATION_LOCAL",89],",",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'Translation of locale_test found'",89],")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertEqual",90],"(",["T_VARIABLE","$result",90],"[",["T_CONSTANT_ENCAPSED_STRING","'custom_module_one'",90],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",90],"]",["T_OBJECT_OPERATOR","->",90],["T_STRING","type",90],",",["T_WHITESPACE"," ",90],["T_STRING","LOCALE_TRANSLATION_LOCAL",90],",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'Translation of custom_module_one found'",90],")",";",["T_WHITESPACE","\n\n    ",90],["T_COMMENT","\/\/ Set the test conditions.\n",92],["T_WHITESPACE","    ",93],["T_VARIABLE","$edit",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_ARRAY","array",93],"(",["T_WHITESPACE","\n      ",93],["T_CONSTANT_ENCAPSED_STRING","'use_source'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_STRING","LOCALE_TRANSLATION_USE_SOURCE_REMOTE_AND_LOCAL",94],",",["T_WHITESPACE","\n    ",94],")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","drupalPostForm",96],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/translate\/settings'",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$edit",96],",",["T_WHITESPACE"," ",96],["T_STRING","t",96],"(",["T_CONSTANT_ENCAPSED_STRING","'Save configuration'",96],")",")",";",["T_WHITESPACE","\n\n    ",96],["T_COMMENT","\/\/ Get status of translation sources at both local and remote locations.\n",98],["T_WHITESPACE","    ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","drupalGet",99],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/translations\/check'",99],")",";",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$result",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_STRING","locale_translation_get_status",100],"(",")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertEqual",101],"(",["T_VARIABLE","$result",101],"[",["T_CONSTANT_ENCAPSED_STRING","'contrib_module_one'",101],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",101],"]",["T_OBJECT_OPERATOR","->",101],["T_STRING","type",101],",",["T_WHITESPACE"," ",101],["T_STRING","LOCALE_TRANSLATION_REMOTE",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'Translation of contrib_module_one found'",101],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","assertEqual",102],"(",["T_VARIABLE","$result",102],"[",["T_CONSTANT_ENCAPSED_STRING","'contrib_module_one'",102],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",102],"]",["T_OBJECT_OPERATOR","->",102],["T_STRING","timestamp",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","timestampNew",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'Translation timestamp found'",102],")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","assertEqual",103],"(",["T_VARIABLE","$result",103],"[",["T_CONSTANT_ENCAPSED_STRING","'contrib_module_two'",103],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",103],"]",["T_OBJECT_OPERATOR","->",103],["T_STRING","type",103],",",["T_WHITESPACE"," ",103],["T_STRING","LOCALE_TRANSLATION_LOCAL",103],",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'Translation of contrib_module_two found'",103],")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","assertEqual",104],"(",["T_VARIABLE","$result",104],"[",["T_CONSTANT_ENCAPSED_STRING","'contrib_module_two'",104],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",104],"]",["T_OBJECT_OPERATOR","->",104],["T_STRING","timestamp",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","timestampNew",104],",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'Translation timestamp found'",104],")",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertEqual",105],"(",["T_VARIABLE","$result",105],"[",["T_CONSTANT_ENCAPSED_STRING","'contrib_module_three'",105],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",105],"]",["T_OBJECT_OPERATOR","->",105],["T_STRING","type",105],",",["T_WHITESPACE"," ",105],["T_STRING","LOCALE_TRANSLATION_LOCAL",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'Translation of contrib_module_three found'",105],")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertEqual",106],"(",["T_VARIABLE","$result",106],"[",["T_CONSTANT_ENCAPSED_STRING","'contrib_module_three'",106],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",106],"]",["T_OBJECT_OPERATOR","->",106],["T_STRING","timestamp",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","timestampOld",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'Translation timestamp found'",106],")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertEqual",107],"(",["T_VARIABLE","$result",107],"[",["T_CONSTANT_ENCAPSED_STRING","'locale_test'",107],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",107],"]",["T_OBJECT_OPERATOR","->",107],["T_STRING","type",107],",",["T_WHITESPACE"," ",107],["T_STRING","LOCALE_TRANSLATION_LOCAL",107],",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'Translation of locale_test found'",107],")",";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","assertEqual",108],"(",["T_VARIABLE","$result",108],"[",["T_CONSTANT_ENCAPSED_STRING","'custom_module_one'",108],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",108],"]",["T_OBJECT_OPERATOR","->",108],["T_STRING","type",108],",",["T_WHITESPACE"," ",108],["T_STRING","LOCALE_TRANSLATION_LOCAL",108],",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'Translation of custom_module_one found'",108],")",";",["T_WHITESPACE","\n  ",108],"}",["T_WHITESPACE","\n\n  ",109],["T_DOC_COMMENT","\/**\n   * Tests translation import from remote sources.\n   *\n   * Test conditions:\n   *  - Source: remote and local files\n   *  - Import overwrite: all existing translations\n   *\/",111],["T_WHITESPACE","\n  ",117],["T_PUBLIC","public",118],["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","testUpdateImportSourceRemote",118],"(",")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$config",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","config",119],"(",["T_CONSTANT_ENCAPSED_STRING","'locale.settings'",119],")",";",["T_WHITESPACE","\n\n    ",119],["T_COMMENT","\/\/ Build the test environment.\n",121],["T_WHITESPACE","    ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","setTranslationFiles",122],"(",")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","setCurrentTranslations",123],"(",")",";",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$config",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","set",124],"(",["T_CONSTANT_ENCAPSED_STRING","'translation.default_filename'",124],",",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'%project-%version.%language._po'",124],")",";",["T_WHITESPACE","\n\n    ",124],["T_COMMENT","\/\/ Set the update conditions for this test.\n",126],["T_WHITESPACE","    ",127],["T_VARIABLE","$edit",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_ARRAY","array",127],"(",["T_WHITESPACE","\n      ",127],["T_CONSTANT_ENCAPSED_STRING","'use_source'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_STRING","LOCALE_TRANSLATION_USE_SOURCE_REMOTE_AND_LOCAL",128],",",["T_WHITESPACE","\n      ",128],["T_CONSTANT_ENCAPSED_STRING","'overwrite'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_STRING","LOCALE_TRANSLATION_OVERWRITE_ALL",129],",",["T_WHITESPACE","\n    ",129],")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","drupalPostForm",131],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/translate\/settings'",131],",",["T_WHITESPACE"," ",131],["T_VARIABLE","$edit",131],",",["T_WHITESPACE"," ",131],["T_STRING","t",131],"(",["T_CONSTANT_ENCAPSED_STRING","'Save configuration'",131],")",")",";",["T_WHITESPACE","\n\n    ",131],["T_COMMENT","\/\/ Get the translation status.\n",133],["T_WHITESPACE","    ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","drupalGet",134],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/translations\/check'",134],")",";",["T_WHITESPACE","\n\n    ",134],["T_COMMENT","\/\/ Check the status on the Available translation status page.\n",136],["T_WHITESPACE","    ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","assertRaw",137],"(",["T_CONSTANT_ENCAPSED_STRING","'<label for=\"edit-langcodes-de\" class=\"visually-hidden\">Update German<\/label>'",137],",",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'German language found'",137],")",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","assertText",138],"(",["T_CONSTANT_ENCAPSED_STRING","'Updates for: Contributed module one, Contributed module two, Custom module one, Locale test'",138],",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'Updates found'",138],")",";",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","assertText",139],"(",["T_CONSTANT_ENCAPSED_STRING","'Contributed module one ('",139],["T_WHITESPACE"," ",139],".",["T_WHITESPACE"," ",139],["T_STRING","format_date",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","timestampNew",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'html_date'",139],")",["T_WHITESPACE"," ",139],".",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","')'",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'Updates for Contrib module one'",139],")",";",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","assertText",140],"(",["T_CONSTANT_ENCAPSED_STRING","'Contributed module two ('",140],["T_WHITESPACE"," ",140],".",["T_WHITESPACE"," ",140],["T_STRING","format_date",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","timestampNew",140],",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'html_date'",140],")",["T_WHITESPACE"," ",140],".",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","')'",140],",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'Updates for Contrib module two'",140],")",";",["T_WHITESPACE","\n\n    ",140],["T_COMMENT","\/\/ Execute the translation update.\n",142],["T_WHITESPACE","    ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","drupalPostForm",143],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/translations'",143],",",["T_WHITESPACE"," ",143],["T_ARRAY","array",143],"(",")",",",["T_WHITESPACE"," ",143],["T_STRING","t",143],"(",["T_CONSTANT_ENCAPSED_STRING","'Update translations'",143],")",")",";",["T_WHITESPACE","\n\n    ",143],["T_COMMENT","\/\/ Check if the translation has been updated, using the status cache.\n",145],["T_WHITESPACE","    ",146],["T_VARIABLE","$status",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_STRING","locale_translation_get_status",146],"(",")",";",["T_WHITESPACE","\n    ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","assertEqual",147],"(",["T_VARIABLE","$status",147],"[",["T_CONSTANT_ENCAPSED_STRING","'contrib_module_one'",147],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",147],"]",["T_OBJECT_OPERATOR","->",147],["T_STRING","type",147],",",["T_WHITESPACE"," ",147],["T_STRING","LOCALE_TRANSLATION_CURRENT",147],",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'Translation of contrib_module_one found'",147],")",";",["T_WHITESPACE","\n    ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","assertEqual",148],"(",["T_VARIABLE","$status",148],"[",["T_CONSTANT_ENCAPSED_STRING","'contrib_module_two'",148],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",148],"]",["T_OBJECT_OPERATOR","->",148],["T_STRING","type",148],",",["T_WHITESPACE"," ",148],["T_STRING","LOCALE_TRANSLATION_CURRENT",148],",",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'Translation of contrib_module_two found'",148],")",";",["T_WHITESPACE","\n    ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","assertEqual",149],"(",["T_VARIABLE","$status",149],"[",["T_CONSTANT_ENCAPSED_STRING","'contrib_module_three'",149],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",149],"]",["T_OBJECT_OPERATOR","->",149],["T_STRING","type",149],",",["T_WHITESPACE"," ",149],["T_STRING","LOCALE_TRANSLATION_CURRENT",149],",",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'Translation of contrib_module_three found'",149],")",";",["T_WHITESPACE","\n\n    ",149],["T_COMMENT","\/\/ Check the new translation status.\n",151],["T_WHITESPACE","    ",152],["T_COMMENT","\/\/ The static cache needs to be flushed first to get the most recent data\n",152],["T_WHITESPACE","    ",153],["T_COMMENT","\/\/ from the database. The function was called earlier during this test.\n",153],["T_WHITESPACE","    ",154],["T_STRING","drupal_static_reset",154],"(",["T_CONSTANT_ENCAPSED_STRING","'locale_translation_get_file_history'",154],")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$history",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_STRING","locale_translation_get_file_history",155],"(",")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","assertTrue",156],"(",["T_VARIABLE","$history",156],"[",["T_CONSTANT_ENCAPSED_STRING","'contrib_module_one'",156],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",156],"]",["T_OBJECT_OPERATOR","->",156],["T_STRING","timestamp",156],["T_WHITESPACE"," ",156],["T_IS_GREATER_OR_EQUAL",">=",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","timestampNow",156],",",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'Translation of contrib_module_one is imported'",156],")",";",["T_WHITESPACE","\n    ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","assertTrue",157],"(",["T_VARIABLE","$history",157],"[",["T_CONSTANT_ENCAPSED_STRING","'contrib_module_one'",157],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",157],"]",["T_OBJECT_OPERATOR","->",157],["T_STRING","last_checked",157],["T_WHITESPACE"," ",157],["T_IS_GREATER_OR_EQUAL",">=",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","timestampNow",157],",",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'Translation of contrib_module_one is updated'",157],")",";",["T_WHITESPACE","\n    ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","assertEqual",158],"(",["T_VARIABLE","$history",158],"[",["T_CONSTANT_ENCAPSED_STRING","'contrib_module_two'",158],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",158],"]",["T_OBJECT_OPERATOR","->",158],["T_STRING","timestamp",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","timestampNew",158],",",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'Translation of contrib_module_two is imported'",158],")",";",["T_WHITESPACE","\n    ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","assertTrue",159],"(",["T_VARIABLE","$history",159],"[",["T_CONSTANT_ENCAPSED_STRING","'contrib_module_two'",159],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",159],"]",["T_OBJECT_OPERATOR","->",159],["T_STRING","last_checked",159],["T_WHITESPACE"," ",159],["T_IS_GREATER_OR_EQUAL",">=",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","timestampNow",159],",",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'Translation of contrib_module_two is updated'",159],")",";",["T_WHITESPACE","\n    ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","assertEqual",160],"(",["T_VARIABLE","$history",160],"[",["T_CONSTANT_ENCAPSED_STRING","'contrib_module_three'",160],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",160],"]",["T_OBJECT_OPERATOR","->",160],["T_STRING","timestamp",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","timestampMedium",160],",",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'Translation of contrib_module_three is not imported'",160],")",";",["T_WHITESPACE","\n    ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","assertEqual",161],"(",["T_VARIABLE","$history",161],"[",["T_CONSTANT_ENCAPSED_STRING","'contrib_module_three'",161],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",161],"]",["T_OBJECT_OPERATOR","->",161],["T_STRING","last_checked",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","timestampMedium",161],",",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'Translation of contrib_module_three is not updated'",161],")",";",["T_WHITESPACE","\n\n    ",161],["T_COMMENT","\/\/ Check whether existing translations have (not) been overwritten.\n",163],["T_WHITESPACE","    ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","assertEqual",164],"(",["T_STRING","t",164],"(",["T_CONSTANT_ENCAPSED_STRING","'January'",164],",",["T_WHITESPACE"," ",164],["T_ARRAY","array",164],"(",")",",",["T_WHITESPACE"," ",164],["T_ARRAY","array",164],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'de'",164],")",")",",",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'Januar_1'",164],",",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'Translation of January'",164],")",";",["T_WHITESPACE","\n    ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","assertEqual",165],"(",["T_STRING","t",165],"(",["T_CONSTANT_ENCAPSED_STRING","'February'",165],",",["T_WHITESPACE"," ",165],["T_ARRAY","array",165],"(",")",",",["T_WHITESPACE"," ",165],["T_ARRAY","array",165],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'de'",165],")",")",",",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'Februar_2'",165],",",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'Translation of February'",165],")",";",["T_WHITESPACE","\n    ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","assertEqual",166],"(",["T_STRING","t",166],"(",["T_CONSTANT_ENCAPSED_STRING","'March'",166],",",["T_WHITESPACE"," ",166],["T_ARRAY","array",166],"(",")",",",["T_WHITESPACE"," ",166],["T_ARRAY","array",166],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'de'",166],")",")",",",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'Marz_2'",166],",",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'Translation of March'",166],")",";",["T_WHITESPACE","\n    ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","assertEqual",167],"(",["T_STRING","t",167],"(",["T_CONSTANT_ENCAPSED_STRING","'April'",167],",",["T_WHITESPACE"," ",167],["T_ARRAY","array",167],"(",")",",",["T_WHITESPACE"," ",167],["T_ARRAY","array",167],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'de'",167],")",")",",",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'April_2'",167],",",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'Translation of April'",167],")",";",["T_WHITESPACE","\n    ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","assertEqual",168],"(",["T_STRING","t",168],"(",["T_CONSTANT_ENCAPSED_STRING","'May'",168],",",["T_WHITESPACE"," ",168],["T_ARRAY","array",168],"(",")",",",["T_WHITESPACE"," ",168],["T_ARRAY","array",168],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'de'",168],")",")",",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'Mai_customized'",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'Translation of May'",168],")",";",["T_WHITESPACE","\n    ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","assertEqual",169],"(",["T_STRING","t",169],"(",["T_CONSTANT_ENCAPSED_STRING","'June'",169],",",["T_WHITESPACE"," ",169],["T_ARRAY","array",169],"(",")",",",["T_WHITESPACE"," ",169],["T_ARRAY","array",169],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'de'",169],")",")",",",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'Juni'",169],",",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'Translation of June'",169],")",";",["T_WHITESPACE","\n    ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","assertEqual",170],"(",["T_STRING","t",170],"(",["T_CONSTANT_ENCAPSED_STRING","'Monday'",170],",",["T_WHITESPACE"," ",170],["T_ARRAY","array",170],"(",")",",",["T_WHITESPACE"," ",170],["T_ARRAY","array",170],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'de'",170],")",")",",",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'Montag'",170],",",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'Translation of Monday'",170],")",";",["T_WHITESPACE","\n  ",170],"}",["T_WHITESPACE","\n\n  ",171],["T_DOC_COMMENT","\/**\n   * Tests translation import from local sources.\n   *\n   * Test conditions:\n   *  - Source: local files only\n   *  - Import overwrite: all existing translations\n   *\/",173],["T_WHITESPACE","\n  ",179],["T_PUBLIC","public",180],["T_WHITESPACE"," ",180],["T_FUNCTION","function",180],["T_WHITESPACE"," ",180],["T_STRING","testUpdateImportSourceLocal",180],"(",")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n    ",180],["T_VARIABLE","$config",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","config",181],"(",["T_CONSTANT_ENCAPSED_STRING","'locale.settings'",181],")",";",["T_WHITESPACE","\n\n    ",181],["T_COMMENT","\/\/ Build the test environment.\n",183],["T_WHITESPACE","    ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","setTranslationFiles",184],"(",")",";",["T_WHITESPACE","\n    ",184],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","setCurrentTranslations",185],"(",")",";",["T_WHITESPACE","\n    ",185],["T_VARIABLE","$config",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","set",186],"(",["T_CONSTANT_ENCAPSED_STRING","'translation.default_filename'",186],",",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'%project-%version.%language._po'",186],")",";",["T_WHITESPACE","\n\n    ",186],["T_COMMENT","\/\/ Set the update conditions for this test.\n",188],["T_WHITESPACE","    ",189],["T_VARIABLE","$edit",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_ARRAY","array",189],"(",["T_WHITESPACE","\n      ",189],["T_CONSTANT_ENCAPSED_STRING","'use_source'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_STRING","LOCALE_TRANSLATION_USE_SOURCE_LOCAL",190],",",["T_WHITESPACE","\n      ",190],["T_CONSTANT_ENCAPSED_STRING","'overwrite'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_STRING","LOCALE_TRANSLATION_OVERWRITE_ALL",191],",",["T_WHITESPACE","\n    ",191],")",";",["T_WHITESPACE","\n    ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","drupalPostForm",193],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/translate\/settings'",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$edit",193],",",["T_WHITESPACE"," ",193],["T_STRING","t",193],"(",["T_CONSTANT_ENCAPSED_STRING","'Save configuration'",193],")",")",";",["T_WHITESPACE","\n\n    ",193],["T_COMMENT","\/\/ Execute the translation update.\n",195],["T_WHITESPACE","    ",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","drupalGet",196],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/translations\/check'",196],")",";",["T_WHITESPACE","\n    ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","drupalPostForm",197],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/translations'",197],",",["T_WHITESPACE"," ",197],["T_ARRAY","array",197],"(",")",",",["T_WHITESPACE"," ",197],["T_STRING","t",197],"(",["T_CONSTANT_ENCAPSED_STRING","'Update translations'",197],")",")",";",["T_WHITESPACE","\n\n    ",197],["T_COMMENT","\/\/ Check if the translation has been updated, using the status cache.\n",199],["T_WHITESPACE","    ",200],["T_VARIABLE","$status",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_STRING","locale_translation_get_status",200],"(",")",";",["T_WHITESPACE","\n    ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","assertEqual",201],"(",["T_VARIABLE","$status",201],"[",["T_CONSTANT_ENCAPSED_STRING","'contrib_module_one'",201],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",201],"]",["T_OBJECT_OPERATOR","->",201],["T_STRING","type",201],",",["T_WHITESPACE"," ",201],["T_STRING","LOCALE_TRANSLATION_CURRENT",201],",",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'Translation of contrib_module_one found'",201],")",";",["T_WHITESPACE","\n    ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","assertEqual",202],"(",["T_VARIABLE","$status",202],"[",["T_CONSTANT_ENCAPSED_STRING","'contrib_module_two'",202],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",202],"]",["T_OBJECT_OPERATOR","->",202],["T_STRING","type",202],",",["T_WHITESPACE"," ",202],["T_STRING","LOCALE_TRANSLATION_CURRENT",202],",",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'Translation of contrib_module_two found'",202],")",";",["T_WHITESPACE","\n    ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","assertEqual",203],"(",["T_VARIABLE","$status",203],"[",["T_CONSTANT_ENCAPSED_STRING","'contrib_module_three'",203],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",203],"]",["T_OBJECT_OPERATOR","->",203],["T_STRING","type",203],",",["T_WHITESPACE"," ",203],["T_STRING","LOCALE_TRANSLATION_CURRENT",203],",",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'Translation of contrib_module_three found'",203],")",";",["T_WHITESPACE","\n\n    ",203],["T_COMMENT","\/\/ Check the new translation status.\n",205],["T_WHITESPACE","    ",206],["T_COMMENT","\/\/ The static cache needs to be flushed first to get the most recent data\n",206],["T_WHITESPACE","    ",207],["T_COMMENT","\/\/ from the database. The function was called earlier during this test.\n",207],["T_WHITESPACE","    ",208],["T_STRING","drupal_static_reset",208],"(",["T_CONSTANT_ENCAPSED_STRING","'locale_translation_get_file_history'",208],")",";",["T_WHITESPACE","\n    ",208],["T_VARIABLE","$history",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_STRING","locale_translation_get_file_history",209],"(",")",";",["T_WHITESPACE","\n    ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","assertTrue",210],"(",["T_VARIABLE","$history",210],"[",["T_CONSTANT_ENCAPSED_STRING","'contrib_module_one'",210],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",210],"]",["T_OBJECT_OPERATOR","->",210],["T_STRING","timestamp",210],["T_WHITESPACE"," ",210],["T_IS_GREATER_OR_EQUAL",">=",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","timestampMedium",210],",",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'Translation of contrib_module_one is imported'",210],")",";",["T_WHITESPACE","\n    ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","assertEqual",211],"(",["T_VARIABLE","$history",211],"[",["T_CONSTANT_ENCAPSED_STRING","'contrib_module_one'",211],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",211],"]",["T_OBJECT_OPERATOR","->",211],["T_STRING","last_checked",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","timestampMedium",211],",",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'Translation of contrib_module_one is updated'",211],")",";",["T_WHITESPACE","\n    ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","assertEqual",212],"(",["T_VARIABLE","$history",212],"[",["T_CONSTANT_ENCAPSED_STRING","'contrib_module_two'",212],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",212],"]",["T_OBJECT_OPERATOR","->",212],["T_STRING","timestamp",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","timestampNew",212],",",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'Translation of contrib_module_two is imported'",212],")",";",["T_WHITESPACE","\n    ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","assertTrue",213],"(",["T_VARIABLE","$history",213],"[",["T_CONSTANT_ENCAPSED_STRING","'contrib_module_two'",213],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",213],"]",["T_OBJECT_OPERATOR","->",213],["T_STRING","last_checked",213],["T_WHITESPACE"," ",213],["T_IS_GREATER_OR_EQUAL",">=",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","timestampNow",213],",",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'Translation of contrib_module_two is updated'",213],")",";",["T_WHITESPACE","\n    ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","assertEqual",214],"(",["T_VARIABLE","$history",214],"[",["T_CONSTANT_ENCAPSED_STRING","'contrib_module_three'",214],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",214],"]",["T_OBJECT_OPERATOR","->",214],["T_STRING","timestamp",214],",",["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","timestampMedium",214],",",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'Translation of contrib_module_three is not imported'",214],")",";",["T_WHITESPACE","\n    ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","assertEqual",215],"(",["T_VARIABLE","$history",215],"[",["T_CONSTANT_ENCAPSED_STRING","'contrib_module_three'",215],"]","[",["T_CONSTANT_ENCAPSED_STRING","'de'",215],"]",["T_OBJECT_OPERATOR","->",215],["T_STRING","last_checked",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","timestampMedium",215],",",["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","'Translation of contrib_module_three is not updated'",215],")",";",["T_WHITESPACE","\n\n    ",215],["T_COMMENT","\/\/ Check whether existing translations have (not) been overwritten.\n",217],["T_WHITESPACE","    ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","assertEqual",218],"(",["T_STRING","t",218],"(",["T_CONSTANT_ENCAPSED_STRING","'January'",218],",",["T_WHITESPACE"," ",218],["T_ARRAY","array",218],"(",")",",",["T_WHITESPACE"," ",218],["T_ARRAY","array",218],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'de'",218],")",")",",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'Januar_customized'",218],",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'Translation of January'",218],")",";",["T_WHITESPACE","\n    ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","assertEqual",219],"(",["T_STRING","t",219],"(",["T_CONSTANT_ENCAPSED_STRING","'February'",219],",",["T_WHITESPACE"," ",219],["T_ARRAY","array",219],"(",")",",",["T_WHITESPACE"," ",219],["T_ARRAY","array",219],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",219],["T_WHITESPACE"," ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'de'",219],")",")",",",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'Februar_2'",219],",",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'Translation of February'",219],")",";",["T_WHITESPACE","\n    ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","assertEqual",220],"(",["T_STRING","t",220],"(",["T_CONSTANT_ENCAPSED_STRING","'March'",220],",",["T_WHITESPACE"," ",220],["T_ARRAY","array",220],"(",")",",",["T_WHITESPACE"," ",220],["T_ARRAY","array",220],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",220],["T_WHITESPACE"," ",220],["T_DOUBLE_ARROW","=>",220],["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'de'",220],")",")",",",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'Marz_2'",220],",",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'Translation of March'",220],")",";",["T_WHITESPACE","\n    ",220],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","assertEqual",221],"(",["T_STRING","t",221],"(",["T_CONSTANT_ENCAPSED_STRING","'April'",221],",",["T_WHITESPACE"," ",221],["T_ARRAY","array",221],"(",")",",",["T_WHITESPACE"," ",221],["T_ARRAY","array",221],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",221],["T_WHITESPACE"," ",221],["T_DOUBLE_ARROW","=>",221],["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'de'",221],")",")",",",["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'April_2'",221],",",["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'Translation of April'",221],")",";",["T_WHITESPACE","\n    ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","assertEqual",222],"(",["T_STRING","t",222],"(",["T_CONSTANT_ENCAPSED_STRING","'May'",222],",",["T_WHITESPACE"," ",222],["T_ARRAY","array",222],"(",")",",",["T_WHITESPACE"," ",222],["T_ARRAY","array",222],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",222],["T_WHITESPACE"," ",222],["T_DOUBLE_ARROW","=>",222],["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","'de'",222],")",")",",",["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","'Mai_customized'",222],",",["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","'Translation of May'",222],")",";",["T_WHITESPACE","\n    ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","assertEqual",223],"(",["T_STRING","t",223],"(",["T_CONSTANT_ENCAPSED_STRING","'June'",223],",",["T_WHITESPACE"," ",223],["T_ARRAY","array",223],"(",")",",",["T_WHITESPACE"," ",223],["T_ARRAY","array",223],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'de'",223],")",")",",",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'Juni'",223],",",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'Translation of June'",223],")",";",["T_WHITESPACE","\n    ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","assertEqual",224],"(",["T_STRING","t",224],"(",["T_CONSTANT_ENCAPSED_STRING","'Monday'",224],",",["T_WHITESPACE"," ",224],["T_ARRAY","array",224],"(",")",",",["T_WHITESPACE"," ",224],["T_ARRAY","array",224],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",224],["T_WHITESPACE"," ",224],["T_DOUBLE_ARROW","=>",224],["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'de'",224],")",")",",",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'Montag'",224],",",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'Translation of Monday'",224],")",";",["T_WHITESPACE","\n  ",224],"}",["T_WHITESPACE","\n\n  ",225],["T_DOC_COMMENT","\/**\n   * Tests translation import and only overwrite non-customized translations.\n   *\n   * Test conditions:\n   *  - Source: remote and local files\n   *  - Import overwrite: only overwrite non-customized translations\n   *\/",227],["T_WHITESPACE","\n  ",233],["T_PUBLIC","public",234],["T_WHITESPACE"," ",234],["T_FUNCTION","function",234],["T_WHITESPACE"," ",234],["T_STRING","testUpdateImportModeNonCustomized",234],"(",")",["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n    ",234],["T_VARIABLE","$config",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","config",235],"(",["T_CONSTANT_ENCAPSED_STRING","'locale.settings'",235],")",";",["T_WHITESPACE","\n\n    ",235],["T_COMMENT","\/\/ Build the test environment.\n",237],["T_WHITESPACE","    ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","setTranslationFiles",238],"(",")",";",["T_WHITESPACE","\n    ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","setCurrentTranslations",239],"(",")",";",["T_WHITESPACE","\n    ",239],["T_VARIABLE","$config",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","set",240],"(",["T_CONSTANT_ENCAPSED_STRING","'translation.default_filename'",240],",",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'%project-%version.%language._po'",240],")",";",["T_WHITESPACE","\n\n    ",240],["T_COMMENT","\/\/ Set the test conditions.\n",242],["T_WHITESPACE","    ",243],["T_VARIABLE","$edit",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_ARRAY","array",243],"(",["T_WHITESPACE","\n      ",243],["T_CONSTANT_ENCAPSED_STRING","'use_source'",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_STRING","LOCALE_TRANSLATION_USE_SOURCE_REMOTE_AND_LOCAL",244],",",["T_WHITESPACE","\n      ",244],["T_CONSTANT_ENCAPSED_STRING","'overwrite'",245],["T_WHITESPACE"," ",245],["T_DOUBLE_ARROW","=>",245],["T_WHITESPACE"," ",245],["T_STRING","LOCALE_TRANSLATION_OVERWRITE_NON_CUSTOMIZED",245],",",["T_WHITESPACE","\n    ",245],")",";",["T_WHITESPACE","\n    ",246],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","drupalPostForm",247],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/translate\/settings'",247],",",["T_WHITESPACE"," ",247],["T_VARIABLE","$edit",247],",",["T_WHITESPACE"," ",247],["T_STRING","t",247],"(",["T_CONSTANT_ENCAPSED_STRING","'Save configuration'",247],")",")",";",["T_WHITESPACE","\n\n    ",247],["T_COMMENT","\/\/ Execute translation update.\n",249],["T_WHITESPACE","    ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","drupalGet",250],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/translations\/check'",250],")",";",["T_WHITESPACE","\n    ",250],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","drupalPostForm",251],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/translations'",251],",",["T_WHITESPACE"," ",251],["T_ARRAY","array",251],"(",")",",",["T_WHITESPACE"," ",251],["T_STRING","t",251],"(",["T_CONSTANT_ENCAPSED_STRING","'Update translations'",251],")",")",";",["T_WHITESPACE","\n\n    ",251],["T_COMMENT","\/\/ Check whether existing translations have (not) been overwritten.\n",253],["T_WHITESPACE","    ",254],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","assertEqual",254],"(",["T_STRING","t",254],"(",["T_CONSTANT_ENCAPSED_STRING","'January'",254],",",["T_WHITESPACE"," ",254],["T_ARRAY","array",254],"(",")",",",["T_WHITESPACE"," ",254],["T_ARRAY","array",254],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",254],["T_WHITESPACE"," ",254],["T_DOUBLE_ARROW","=>",254],["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'de'",254],")",")",",",["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'Januar_customized'",254],",",["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'Translation of January'",254],")",";",["T_WHITESPACE","\n    ",254],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","assertEqual",255],"(",["T_STRING","t",255],"(",["T_CONSTANT_ENCAPSED_STRING","'February'",255],",",["T_WHITESPACE"," ",255],["T_ARRAY","array",255],"(",")",",",["T_WHITESPACE"," ",255],["T_ARRAY","array",255],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",255],["T_WHITESPACE"," ",255],["T_DOUBLE_ARROW","=>",255],["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","'de'",255],")",")",",",["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","'Februar_customized'",255],",",["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","'Translation of February'",255],")",";",["T_WHITESPACE","\n    ",255],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","assertEqual",256],"(",["T_STRING","t",256],"(",["T_CONSTANT_ENCAPSED_STRING","'March'",256],",",["T_WHITESPACE"," ",256],["T_ARRAY","array",256],"(",")",",",["T_WHITESPACE"," ",256],["T_ARRAY","array",256],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",256],["T_WHITESPACE"," ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'de'",256],")",")",",",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'Marz_2'",256],",",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'Translation of March'",256],")",";",["T_WHITESPACE","\n    ",256],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","assertEqual",257],"(",["T_STRING","t",257],"(",["T_CONSTANT_ENCAPSED_STRING","'April'",257],",",["T_WHITESPACE"," ",257],["T_ARRAY","array",257],"(",")",",",["T_WHITESPACE"," ",257],["T_ARRAY","array",257],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",257],["T_WHITESPACE"," ",257],["T_DOUBLE_ARROW","=>",257],["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'de'",257],")",")",",",["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'April_2'",257],",",["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'Translation of April'",257],")",";",["T_WHITESPACE","\n    ",257],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","assertEqual",258],"(",["T_STRING","t",258],"(",["T_CONSTANT_ENCAPSED_STRING","'May'",258],",",["T_WHITESPACE"," ",258],["T_ARRAY","array",258],"(",")",",",["T_WHITESPACE"," ",258],["T_ARRAY","array",258],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",258],["T_WHITESPACE"," ",258],["T_DOUBLE_ARROW","=>",258],["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","'de'",258],")",")",",",["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","'Mai_customized'",258],",",["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","'Translation of May'",258],")",";",["T_WHITESPACE","\n    ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","assertEqual",259],"(",["T_STRING","t",259],"(",["T_CONSTANT_ENCAPSED_STRING","'June'",259],",",["T_WHITESPACE"," ",259],["T_ARRAY","array",259],"(",")",",",["T_WHITESPACE"," ",259],["T_ARRAY","array",259],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",259],["T_WHITESPACE"," ",259],["T_DOUBLE_ARROW","=>",259],["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'de'",259],")",")",",",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'Juni'",259],",",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'Translation of June'",259],")",";",["T_WHITESPACE","\n    ",259],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","assertEqual",260],"(",["T_STRING","t",260],"(",["T_CONSTANT_ENCAPSED_STRING","'Monday'",260],",",["T_WHITESPACE"," ",260],["T_ARRAY","array",260],"(",")",",",["T_WHITESPACE"," ",260],["T_ARRAY","array",260],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",260],["T_WHITESPACE"," ",260],["T_DOUBLE_ARROW","=>",260],["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'de'",260],")",")",",",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'Montag'",260],",",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'Translation of Monday'",260],")",";",["T_WHITESPACE","\n  ",260],"}",["T_WHITESPACE","\n\n  ",261],["T_DOC_COMMENT","\/**\n   * Tests translation import and don't overwrite any translation.\n   *\n   * Test conditions:\n   *  - Source: remote and local files\n   *  - Import overwrite: don't overwrite any existing translation\n   *\/",263],["T_WHITESPACE","\n  ",269],["T_PUBLIC","public",270],["T_WHITESPACE"," ",270],["T_FUNCTION","function",270],["T_WHITESPACE"," ",270],["T_STRING","testUpdateImportModeNone",270],"(",")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n    ",270],["T_VARIABLE","$config",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","config",271],"(",["T_CONSTANT_ENCAPSED_STRING","'locale.settings'",271],")",";",["T_WHITESPACE","\n\n    ",271],["T_COMMENT","\/\/ Build the test environment.\n",273],["T_WHITESPACE","    ",274],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","setTranslationFiles",274],"(",")",";",["T_WHITESPACE","\n    ",274],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","setCurrentTranslations",275],"(",")",";",["T_WHITESPACE","\n    ",275],["T_VARIABLE","$config",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","set",276],"(",["T_CONSTANT_ENCAPSED_STRING","'translation.default_filename'",276],",",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'%project-%version.%language._po'",276],")",";",["T_WHITESPACE","\n\n    ",276],["T_COMMENT","\/\/ Set the test conditions.\n",278],["T_WHITESPACE","    ",279],["T_VARIABLE","$edit",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_ARRAY","array",279],"(",["T_WHITESPACE","\n      ",279],["T_CONSTANT_ENCAPSED_STRING","'use_source'",280],["T_WHITESPACE"," ",280],["T_DOUBLE_ARROW","=>",280],["T_WHITESPACE"," ",280],["T_STRING","LOCALE_TRANSLATION_USE_SOURCE_REMOTE_AND_LOCAL",280],",",["T_WHITESPACE","\n      ",280],["T_CONSTANT_ENCAPSED_STRING","'overwrite'",281],["T_WHITESPACE"," ",281],["T_DOUBLE_ARROW","=>",281],["T_WHITESPACE"," ",281],["T_STRING","LOCALE_TRANSLATION_OVERWRITE_NONE",281],",",["T_WHITESPACE","\n    ",281],")",";",["T_WHITESPACE","\n    ",282],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","drupalPostForm",283],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/translate\/settings'",283],",",["T_WHITESPACE"," ",283],["T_VARIABLE","$edit",283],",",["T_WHITESPACE"," ",283],["T_STRING","t",283],"(",["T_CONSTANT_ENCAPSED_STRING","'Save configuration'",283],")",")",";",["T_WHITESPACE","\n\n    ",283],["T_COMMENT","\/\/ Execute translation update.\n",285],["T_WHITESPACE","    ",286],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","drupalGet",286],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/translations\/check'",286],")",";",["T_WHITESPACE","\n    ",286],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","drupalPostForm",287],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/translations'",287],",",["T_WHITESPACE"," ",287],["T_ARRAY","array",287],"(",")",",",["T_WHITESPACE"," ",287],["T_STRING","t",287],"(",["T_CONSTANT_ENCAPSED_STRING","'Update translations'",287],")",")",";",["T_WHITESPACE","\n\n    ",287],["T_COMMENT","\/\/ Check whether existing translations have (not) been overwritten.\n",289],["T_WHITESPACE","    ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","assertTranslation",290],"(",["T_CONSTANT_ENCAPSED_STRING","'January'",290],",",["T_WHITESPACE"," ",290],["T_CONSTANT_ENCAPSED_STRING","'Januar_customized'",290],",",["T_WHITESPACE"," ",290],["T_CONSTANT_ENCAPSED_STRING","'de'",290],")",";",["T_WHITESPACE","\n    ",290],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","assertTranslation",291],"(",["T_CONSTANT_ENCAPSED_STRING","'February'",291],",",["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'Februar_customized'",291],",",["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'de'",291],")",";",["T_WHITESPACE","\n    ",291],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","assertTranslation",292],"(",["T_CONSTANT_ENCAPSED_STRING","'March'",292],",",["T_WHITESPACE"," ",292],["T_CONSTANT_ENCAPSED_STRING","'Marz'",292],",",["T_WHITESPACE"," ",292],["T_CONSTANT_ENCAPSED_STRING","'de'",292],")",";",["T_WHITESPACE","\n    ",292],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","assertTranslation",293],"(",["T_CONSTANT_ENCAPSED_STRING","'April'",293],",",["T_WHITESPACE"," ",293],["T_CONSTANT_ENCAPSED_STRING","'April_2'",293],",",["T_WHITESPACE"," ",293],["T_CONSTANT_ENCAPSED_STRING","'de'",293],")",";",["T_WHITESPACE","\n    ",293],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","assertTranslation",294],"(",["T_CONSTANT_ENCAPSED_STRING","'May'",294],",",["T_WHITESPACE"," ",294],["T_CONSTANT_ENCAPSED_STRING","'Mai_customized'",294],",",["T_WHITESPACE"," ",294],["T_CONSTANT_ENCAPSED_STRING","'de'",294],")",";",["T_WHITESPACE","\n    ",294],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","assertTranslation",295],"(",["T_CONSTANT_ENCAPSED_STRING","'June'",295],",",["T_WHITESPACE"," ",295],["T_CONSTANT_ENCAPSED_STRING","'Juni'",295],",",["T_WHITESPACE"," ",295],["T_CONSTANT_ENCAPSED_STRING","'de'",295],")",";",["T_WHITESPACE","\n    ",295],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","assertTranslation",296],"(",["T_CONSTANT_ENCAPSED_STRING","'Monday'",296],",",["T_WHITESPACE"," ",296],["T_CONSTANT_ENCAPSED_STRING","'Montag'",296],",",["T_WHITESPACE"," ",296],["T_CONSTANT_ENCAPSED_STRING","'de'",296],")",";",["T_WHITESPACE","\n  ",296],"}",["T_WHITESPACE","\n\n  ",297],["T_DOC_COMMENT","\/**\n   * Tests automatic translation import when a module is enabled.\n   *\/",299],["T_WHITESPACE","\n  ",301],["T_PUBLIC","public",302],["T_WHITESPACE"," ",302],["T_FUNCTION","function",302],["T_WHITESPACE"," ",302],["T_STRING","testEnableUninstallModule",302],"(",")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n    ",302],["T_COMMENT","\/\/ Make the hidden test modules look like a normal custom module.\n",303],["T_WHITESPACE","    ",304],["T_NS_SEPARATOR","\\",304],["T_STRING","Drupal",304],["T_DOUBLE_COLON","::",304],["T_STRING","state",304],"(",")",["T_OBJECT_OPERATOR","->",304],["T_STRING","set",304],"(",["T_CONSTANT_ENCAPSED_STRING","'locale.test_system_info_alter'",304],",",["T_WHITESPACE"," ",304],["T_STRING","TRUE",304],")",";",["T_WHITESPACE","\n\n    ",304],["T_COMMENT","\/\/ Check if there is no translation yet.\n",306],["T_WHITESPACE","    ",307],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","assertTranslation",307],"(",["T_CONSTANT_ENCAPSED_STRING","'Tuesday'",307],",",["T_WHITESPACE"," ",307],["T_CONSTANT_ENCAPSED_STRING","''",307],",",["T_WHITESPACE"," ",307],["T_CONSTANT_ENCAPSED_STRING","'de'",307],")",";",["T_WHITESPACE","\n\n    ",307],["T_COMMENT","\/\/ Enable a module.\n",309],["T_WHITESPACE","    ",310],["T_VARIABLE","$edit",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_ARRAY","array",310],"(",["T_WHITESPACE","\n      ",310],["T_CONSTANT_ENCAPSED_STRING","'modules[Testing][locale_test_translate][enable]'",311],["T_WHITESPACE"," ",311],["T_DOUBLE_ARROW","=>",311],["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","'locale_test_translate'",311],",",["T_WHITESPACE","\n    ",311],")",";",["T_WHITESPACE","\n    ",312],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","drupalPostForm",313],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/modules'",313],",",["T_WHITESPACE"," ",313],["T_VARIABLE","$edit",313],",",["T_WHITESPACE"," ",313],["T_STRING","t",313],"(",["T_CONSTANT_ENCAPSED_STRING","'Install'",313],")",")",";",["T_WHITESPACE","\n\n    ",313],["T_COMMENT","\/\/ Check if translations have been imported.\n",315],["T_WHITESPACE","    ",316],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","assertRaw",316],"(",["T_STRING","t",316],"(",["T_CONSTANT_ENCAPSED_STRING","'One translation file imported. %number translations were added, %update translations were updated and %delete translations were removed.'",316],",",["T_WHITESPACE","\n      ",316],["T_ARRAY","array",317],"(",["T_CONSTANT_ENCAPSED_STRING","'%number'",317],["T_WHITESPACE"," ",317],["T_DOUBLE_ARROW","=>",317],["T_WHITESPACE"," ",317],["T_LNUMBER","7",317],",",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","'%update'",317],["T_WHITESPACE"," ",317],["T_DOUBLE_ARROW","=>",317],["T_WHITESPACE"," ",317],["T_LNUMBER","0",317],",",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","'%delete'",317],["T_WHITESPACE"," ",317],["T_DOUBLE_ARROW","=>",317],["T_WHITESPACE"," ",317],["T_LNUMBER","0",317],")",")",",",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","'One translation file imported.'",317],")",";",["T_WHITESPACE","\n    ",317],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","assertTranslation",318],"(",["T_CONSTANT_ENCAPSED_STRING","'Tuesday'",318],",",["T_WHITESPACE"," ",318],["T_CONSTANT_ENCAPSED_STRING","'Dienstag'",318],",",["T_WHITESPACE"," ",318],["T_CONSTANT_ENCAPSED_STRING","'de'",318],")",";",["T_WHITESPACE","\n\n    ",318],["T_VARIABLE","$edit",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_ARRAY","array",320],"(",["T_WHITESPACE","\n      ",320],["T_CONSTANT_ENCAPSED_STRING","'uninstall[locale_test_translate]'",321],["T_WHITESPACE"," ",321],["T_DOUBLE_ARROW","=>",321],["T_WHITESPACE"," ",321],["T_LNUMBER","1",321],",",["T_WHITESPACE","\n    ",321],")",";",["T_WHITESPACE","\n    ",322],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","drupalPostForm",323],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/modules\/uninstall'",323],",",["T_WHITESPACE"," ",323],["T_VARIABLE","$edit",323],",",["T_WHITESPACE"," ",323],["T_STRING","t",323],"(",["T_CONSTANT_ENCAPSED_STRING","'Uninstall'",323],")",")",";",["T_WHITESPACE","\n    ",323],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","drupalPostForm",324],"(",["T_STRING","NULL",324],",",["T_WHITESPACE"," ",324],["T_ARRAY","array",324],"(",")",",",["T_WHITESPACE"," ",324],["T_STRING","t",324],"(",["T_CONSTANT_ENCAPSED_STRING","'Uninstall'",324],")",")",";",["T_WHITESPACE","\n\n    ",324],["T_COMMENT","\/\/ Check if the file data is removed from the database.\n",326],["T_WHITESPACE","    ",327],["T_VARIABLE","$history",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_STRING","locale_translation_get_file_history",327],"(",")",";",["T_WHITESPACE","\n    ",327],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","assertFalse",328],"(",["T_ISSET","isset",328],"(",["T_VARIABLE","$history",328],"[",["T_CONSTANT_ENCAPSED_STRING","'locale_test_translate'",328],"]",")",",",["T_WHITESPACE"," ",328],["T_CONSTANT_ENCAPSED_STRING","'Project removed from the file history'",328],")",";",["T_WHITESPACE","\n    ",328],["T_VARIABLE","$projects",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_STRING","locale_translation_get_projects",329],"(",")",";",["T_WHITESPACE","\n    ",329],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","assertFalse",330],"(",["T_ISSET","isset",330],"(",["T_VARIABLE","$projects",330],"[",["T_CONSTANT_ENCAPSED_STRING","'locale_test_translate'",330],"]",")",",",["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","'Project removed from the project list'",330],")",";",["T_WHITESPACE","\n  ",330],"}",["T_WHITESPACE","\n\n  ",331],["T_DOC_COMMENT","\/**\n   * Tests automatic translation import when a language is added.\n   *\n   * When a language is added, the system will check for translations files of\n   * enabled modules and will import them. When a language is removed the system\n   * will remove all translations of that language from the database.\n   *\/",333],["T_WHITESPACE","\n  ",339],["T_PUBLIC","public",340],["T_WHITESPACE"," ",340],["T_FUNCTION","function",340],["T_WHITESPACE"," ",340],["T_STRING","testEnableLanguage",340],"(",")",["T_WHITESPACE"," ",340],"{",["T_WHITESPACE","\n    ",340],["T_COMMENT","\/\/ Make the hidden test modules look like a normal custom module.\n",341],["T_WHITESPACE","    ",342],["T_NS_SEPARATOR","\\",342],["T_STRING","Drupal",342],["T_DOUBLE_COLON","::",342],["T_STRING","state",342],"(",")",["T_OBJECT_OPERATOR","->",342],["T_STRING","set",342],"(",["T_CONSTANT_ENCAPSED_STRING","'locale.test_system_info_alter'",342],",",["T_WHITESPACE"," ",342],["T_STRING","TRUE",342],")",";",["T_WHITESPACE","\n\n    ",342],["T_COMMENT","\/\/ Enable a module.\n",344],["T_WHITESPACE","    ",345],["T_VARIABLE","$edit",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_ARRAY","array",345],"(",["T_WHITESPACE","\n      ",345],["T_CONSTANT_ENCAPSED_STRING","'modules[Testing][locale_test_translate][enable]'",346],["T_WHITESPACE"," ",346],["T_DOUBLE_ARROW","=>",346],["T_WHITESPACE"," ",346],["T_CONSTANT_ENCAPSED_STRING","'locale_test_translate'",346],",",["T_WHITESPACE","\n    ",346],")",";",["T_WHITESPACE","\n    ",347],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","drupalPostForm",348],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/modules'",348],",",["T_WHITESPACE"," ",348],["T_VARIABLE","$edit",348],",",["T_WHITESPACE"," ",348],["T_STRING","t",348],"(",["T_CONSTANT_ENCAPSED_STRING","'Install'",348],")",")",";",["T_WHITESPACE","\n\n    ",348],["T_COMMENT","\/\/ Check if there is no Dutch translation yet.\n",350],["T_WHITESPACE","    ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","assertTranslation",351],"(",["T_CONSTANT_ENCAPSED_STRING","'Extraday'",351],",",["T_WHITESPACE"," ",351],["T_CONSTANT_ENCAPSED_STRING","''",351],",",["T_WHITESPACE"," ",351],["T_CONSTANT_ENCAPSED_STRING","'nl'",351],")",";",["T_WHITESPACE","\n    ",351],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","assertTranslation",352],"(",["T_CONSTANT_ENCAPSED_STRING","'Tuesday'",352],",",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","'Dienstag'",352],",",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","'de'",352],")",";",["T_WHITESPACE","\n\n    ",352],["T_COMMENT","\/\/ Add a language.\n",354],["T_WHITESPACE","    ",355],["T_VARIABLE","$edit",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_ARRAY","array",355],"(",["T_WHITESPACE","\n      ",355],["T_CONSTANT_ENCAPSED_STRING","'predefined_langcode'",356],["T_WHITESPACE"," ",356],["T_DOUBLE_ARROW","=>",356],["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'nl'",356],",",["T_WHITESPACE","\n    ",356],")",";",["T_WHITESPACE","\n    ",357],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","drupalPostForm",358],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/language\/add'",358],",",["T_WHITESPACE"," ",358],["T_VARIABLE","$edit",358],",",["T_WHITESPACE"," ",358],["T_STRING","t",358],"(",["T_CONSTANT_ENCAPSED_STRING","'Add language'",358],")",")",";",["T_WHITESPACE","\n\n    ",358],["T_COMMENT","\/\/ Check if the right number of translations are added.\n",360],["T_WHITESPACE","    ",361],["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","assertRaw",361],"(",["T_STRING","t",361],"(",["T_CONSTANT_ENCAPSED_STRING","'One translation file imported. %number translations were added, %update translations were updated and %delete translations were removed.'",361],",",["T_WHITESPACE","\n      ",361],["T_ARRAY","array",362],"(",["T_CONSTANT_ENCAPSED_STRING","'%number'",362],["T_WHITESPACE"," ",362],["T_DOUBLE_ARROW","=>",362],["T_WHITESPACE"," ",362],["T_LNUMBER","8",362],",",["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","'%update'",362],["T_WHITESPACE"," ",362],["T_DOUBLE_ARROW","=>",362],["T_WHITESPACE"," ",362],["T_LNUMBER","0",362],",",["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","'%delete'",362],["T_WHITESPACE"," ",362],["T_DOUBLE_ARROW","=>",362],["T_WHITESPACE"," ",362],["T_LNUMBER","0",362],")",")",",",["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","'One language added.'",362],")",";",["T_WHITESPACE","\n    ",362],["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","assertTranslation",363],"(",["T_CONSTANT_ENCAPSED_STRING","'Extraday'",363],",",["T_WHITESPACE"," ",363],["T_CONSTANT_ENCAPSED_STRING","'extra dag'",363],",",["T_WHITESPACE"," ",363],["T_CONSTANT_ENCAPSED_STRING","'nl'",363],")",";",["T_WHITESPACE","\n\n    ",363],["T_COMMENT","\/\/ Check if the language data is added to the database.\n",365],["T_WHITESPACE","    ",366],["T_VARIABLE","$result",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_STRING","db_query",366],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT project FROM {locale_file} WHERE langcode='nl'\"",366],")",["T_OBJECT_OPERATOR","->",366],["T_STRING","fetchField",366],"(",")",";",["T_WHITESPACE","\n    ",366],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","assertTrue",367],"(",["T_VARIABLE","$result",367],",",["T_WHITESPACE"," ",367],["T_CONSTANT_ENCAPSED_STRING","'Files added to file history'",367],")",";",["T_WHITESPACE","\n\n    ",367],["T_COMMENT","\/\/ Remove a language.\n",369],["T_WHITESPACE","    ",370],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","drupalPostForm",370],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/language\/delete\/nl'",370],",",["T_WHITESPACE"," ",370],["T_ARRAY","array",370],"(",")",",",["T_WHITESPACE"," ",370],["T_STRING","t",370],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",370],")",")",";",["T_WHITESPACE","\n\n    ",370],["T_COMMENT","\/\/ Check if the language data is removed from the database.\n",372],["T_WHITESPACE","    ",373],["T_VARIABLE","$result",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_STRING","db_query",373],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT project FROM {locale_file} WHERE langcode='nl'\"",373],")",["T_OBJECT_OPERATOR","->",373],["T_STRING","fetchField",373],"(",")",";",["T_WHITESPACE","\n    ",373],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","assertFalse",374],"(",["T_VARIABLE","$result",374],",",["T_WHITESPACE"," ",374],["T_CONSTANT_ENCAPSED_STRING","'Files removed from file history'",374],")",";",["T_WHITESPACE","\n\n    ",374],["T_COMMENT","\/\/ Check that the Dutch translation is gone.\n",376],["T_WHITESPACE","    ",377],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","assertTranslation",377],"(",["T_CONSTANT_ENCAPSED_STRING","'Extraday'",377],",",["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","''",377],",",["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","'nl'",377],")",";",["T_WHITESPACE","\n    ",377],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","assertTranslation",378],"(",["T_CONSTANT_ENCAPSED_STRING","'Tuesday'",378],",",["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","'Dienstag'",378],",",["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","'de'",378],")",";",["T_WHITESPACE","\n  ",378],"}",["T_WHITESPACE","\n\n  ",379],["T_DOC_COMMENT","\/**\n   * Tests automatic translation import when a custom language is added.\n   *\/",381],["T_WHITESPACE","\n  ",383],["T_PUBLIC","public",384],["T_WHITESPACE"," ",384],["T_FUNCTION","function",384],["T_WHITESPACE"," ",384],["T_STRING","testEnableCustomLanguage",384],"(",")",["T_WHITESPACE"," ",384],"{",["T_WHITESPACE","\n    ",384],["T_COMMENT","\/\/ Make the hidden test modules look like a normal custom module.\n",385],["T_WHITESPACE","    ",386],["T_NS_SEPARATOR","\\",386],["T_STRING","Drupal",386],["T_DOUBLE_COLON","::",386],["T_STRING","state",386],"(",")",["T_OBJECT_OPERATOR","->",386],["T_STRING","set",386],"(",["T_CONSTANT_ENCAPSED_STRING","'locale.test_system_info_alter'",386],",",["T_WHITESPACE"," ",386],["T_STRING","TRUE",386],")",";",["T_WHITESPACE","\n\n    ",386],["T_COMMENT","\/\/ Enable a module.\n",388],["T_WHITESPACE","    ",389],["T_VARIABLE","$edit",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_ARRAY","array",389],"(",["T_WHITESPACE","\n      ",389],["T_CONSTANT_ENCAPSED_STRING","'modules[Testing][locale_test_translate][enable]'",390],["T_WHITESPACE"," ",390],["T_DOUBLE_ARROW","=>",390],["T_WHITESPACE"," ",390],["T_CONSTANT_ENCAPSED_STRING","'locale_test_translate'",390],",",["T_WHITESPACE","\n    ",390],")",";",["T_WHITESPACE","\n    ",391],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","drupalPostForm",392],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/modules'",392],",",["T_WHITESPACE"," ",392],["T_VARIABLE","$edit",392],",",["T_WHITESPACE"," ",392],["T_STRING","t",392],"(",["T_CONSTANT_ENCAPSED_STRING","'Install'",392],")",")",";",["T_WHITESPACE","\n\n    ",392],["T_COMMENT","\/\/ Create a custom language with language code 'xx' and a random\n",394],["T_WHITESPACE","    ",395],["T_COMMENT","\/\/ name.\n",395],["T_WHITESPACE","    ",396],["T_VARIABLE","$langcode",396],["T_WHITESPACE"," ",396],"=",["T_WHITESPACE"," ",396],["T_CONSTANT_ENCAPSED_STRING","'xx'",396],";",["T_WHITESPACE","\n    ",396],["T_VARIABLE","$name",397],["T_WHITESPACE"," ",397],"=",["T_WHITESPACE"," ",397],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","randomMachineName",397],"(",["T_LNUMBER","16",397],")",";",["T_WHITESPACE","\n    ",397],["T_VARIABLE","$edit",398],["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],["T_ARRAY","array",398],"(",["T_WHITESPACE","\n      ",398],["T_CONSTANT_ENCAPSED_STRING","'predefined_langcode'",399],["T_WHITESPACE"," ",399],["T_DOUBLE_ARROW","=>",399],["T_WHITESPACE"," ",399],["T_CONSTANT_ENCAPSED_STRING","'custom'",399],",",["T_WHITESPACE","\n      ",399],["T_CONSTANT_ENCAPSED_STRING","'langcode'",400],["T_WHITESPACE"," ",400],["T_DOUBLE_ARROW","=>",400],["T_WHITESPACE"," ",400],["T_VARIABLE","$langcode",400],",",["T_WHITESPACE","\n      ",400],["T_CONSTANT_ENCAPSED_STRING","'label'",401],["T_WHITESPACE"," ",401],["T_DOUBLE_ARROW","=>",401],["T_WHITESPACE"," ",401],["T_VARIABLE","$name",401],",",["T_WHITESPACE","\n      ",401],["T_CONSTANT_ENCAPSED_STRING","'direction'",402],["T_WHITESPACE"," ",402],["T_DOUBLE_ARROW","=>",402],["T_WHITESPACE"," ",402],["T_STRING","LanguageInterface",402],["T_DOUBLE_COLON","::",402],["T_STRING","DIRECTION_LTR",402],",",["T_WHITESPACE","\n    ",402],")",";",["T_WHITESPACE","\n    ",403],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","drupalPostForm",404],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/language\/add'",404],",",["T_WHITESPACE"," ",404],["T_VARIABLE","$edit",404],",",["T_WHITESPACE"," ",404],["T_STRING","t",404],"(",["T_CONSTANT_ENCAPSED_STRING","'Add custom language'",404],")",")",";",["T_WHITESPACE","\n\n    ",404],["T_COMMENT","\/\/ Ensure the translation file is automatically imported when the language\n",406],["T_WHITESPACE","    ",407],["T_COMMENT","\/\/ was added.\n",407],["T_WHITESPACE","    ",408],["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","assertText",408],"(",["T_STRING","t",408],"(",["T_CONSTANT_ENCAPSED_STRING","'One translation file imported.'",408],")",",",["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","'Language file automatically imported.'",408],")",";",["T_WHITESPACE","\n    ",408],["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","assertText",409],"(",["T_STRING","t",409],"(",["T_CONSTANT_ENCAPSED_STRING","'One translation string was skipped because of disallowed or malformed HTML'",409],")",",",["T_WHITESPACE"," ",409],["T_CONSTANT_ENCAPSED_STRING","'Language file automatically imported.'",409],")",";",["T_WHITESPACE","\n\n    ",409],["T_COMMENT","\/\/ Ensure the strings were successfully imported.\n",411],["T_WHITESPACE","    ",412],["T_VARIABLE","$search",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_ARRAY","array",412],"(",["T_WHITESPACE","\n      ",412],["T_CONSTANT_ENCAPSED_STRING","'string'",413],["T_WHITESPACE"," ",413],["T_DOUBLE_ARROW","=>",413],["T_WHITESPACE"," ",413],["T_CONSTANT_ENCAPSED_STRING","'lundi'",413],",",["T_WHITESPACE","\n      ",413],["T_CONSTANT_ENCAPSED_STRING","'langcode'",414],["T_WHITESPACE"," ",414],["T_DOUBLE_ARROW","=>",414],["T_WHITESPACE"," ",414],["T_VARIABLE","$langcode",414],",",["T_WHITESPACE","\n      ",414],["T_CONSTANT_ENCAPSED_STRING","'translation'",415],["T_WHITESPACE"," ",415],["T_DOUBLE_ARROW","=>",415],["T_WHITESPACE"," ",415],["T_CONSTANT_ENCAPSED_STRING","'translated'",415],",",["T_WHITESPACE","\n    ",415],")",";",["T_WHITESPACE","\n    ",416],["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","drupalPostForm",417],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/translate'",417],",",["T_WHITESPACE"," ",417],["T_VARIABLE","$search",417],",",["T_WHITESPACE"," ",417],["T_STRING","t",417],"(",["T_CONSTANT_ENCAPSED_STRING","'Filter'",417],")",")",";",["T_WHITESPACE","\n    ",417],["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","assertNoText",418],"(",["T_STRING","t",418],"(",["T_CONSTANT_ENCAPSED_STRING","'No strings available.'",418],")",",",["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","'String successfully imported.'",418],")",";",["T_WHITESPACE","\n\n    ",418],["T_COMMENT","\/\/ Ensure the multiline string was imported.\n",420],["T_WHITESPACE","    ",421],["T_VARIABLE","$search",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_ARRAY","array",421],"(",["T_WHITESPACE","\n      ",421],["T_CONSTANT_ENCAPSED_STRING","'string'",422],["T_WHITESPACE"," ",422],["T_DOUBLE_ARROW","=>",422],["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","'Source string for multiline translation'",422],",",["T_WHITESPACE","\n      ",422],["T_CONSTANT_ENCAPSED_STRING","'langcode'",423],["T_WHITESPACE"," ",423],["T_DOUBLE_ARROW","=>",423],["T_WHITESPACE"," ",423],["T_VARIABLE","$langcode",423],",",["T_WHITESPACE","\n      ",423],["T_CONSTANT_ENCAPSED_STRING","'translation'",424],["T_WHITESPACE"," ",424],["T_DOUBLE_ARROW","=>",424],["T_WHITESPACE"," ",424],["T_CONSTANT_ENCAPSED_STRING","'all'",424],",",["T_WHITESPACE","\n    ",424],")",";",["T_WHITESPACE","\n    ",425],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","drupalPostForm",426],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/translate'",426],",",["T_WHITESPACE"," ",426],["T_VARIABLE","$search",426],",",["T_WHITESPACE"," ",426],["T_STRING","t",426],"(",["T_CONSTANT_ENCAPSED_STRING","'Filter'",426],")",")",";",["T_WHITESPACE","\n    ",426],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","assertText",427],"(",["T_CONSTANT_ENCAPSED_STRING","'Multiline translation string to make sure that import works with it.'",427],",",["T_WHITESPACE"," ",427],["T_CONSTANT_ENCAPSED_STRING","'String successfully imported.'",427],")",";",["T_WHITESPACE","\n\n    ",427],["T_COMMENT","\/\/ Ensure 'Allowed HTML source string' was imported but the translation for\n",429],["T_WHITESPACE","    ",430],["T_COMMENT","\/\/ 'Another allowed HTML source string' was not because it contains invalid\n",430],["T_WHITESPACE","    ",431],["T_COMMENT","\/\/ HTML.\n",431],["T_WHITESPACE","    ",432],["T_VARIABLE","$search",432],["T_WHITESPACE"," ",432],"=",["T_WHITESPACE"," ",432],["T_ARRAY","array",432],"(",["T_WHITESPACE","\n      ",432],["T_CONSTANT_ENCAPSED_STRING","'string'",433],["T_WHITESPACE"," ",433],["T_DOUBLE_ARROW","=>",433],["T_WHITESPACE"," ",433],["T_CONSTANT_ENCAPSED_STRING","'HTML source string'",433],",",["T_WHITESPACE","\n      ",433],["T_CONSTANT_ENCAPSED_STRING","'langcode'",434],["T_WHITESPACE"," ",434],["T_DOUBLE_ARROW","=>",434],["T_WHITESPACE"," ",434],["T_VARIABLE","$langcode",434],",",["T_WHITESPACE","\n      ",434],["T_CONSTANT_ENCAPSED_STRING","'translation'",435],["T_WHITESPACE"," ",435],["T_DOUBLE_ARROW","=>",435],["T_WHITESPACE"," ",435],["T_CONSTANT_ENCAPSED_STRING","'all'",435],",",["T_WHITESPACE","\n    ",435],")",";",["T_WHITESPACE","\n    ",436],["T_VARIABLE","$this",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","drupalPostForm",437],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/translate'",437],",",["T_WHITESPACE"," ",437],["T_VARIABLE","$search",437],",",["T_WHITESPACE"," ",437],["T_STRING","t",437],"(",["T_CONSTANT_ENCAPSED_STRING","'Filter'",437],")",")",";",["T_WHITESPACE","\n    ",437],["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","assertText",438],"(",["T_CONSTANT_ENCAPSED_STRING","'Allowed HTML source string'",438],",",["T_WHITESPACE"," ",438],["T_CONSTANT_ENCAPSED_STRING","'String successfully imported.'",438],")",";",["T_WHITESPACE","\n    ",438],["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","assertNoText",439],"(",["T_CONSTANT_ENCAPSED_STRING","'Another allowed HTML source string'",439],",",["T_WHITESPACE"," ",439],["T_CONSTANT_ENCAPSED_STRING","'String with disallowed translation not imported.'",439],")",";",["T_WHITESPACE","\n  ",439],"}",["T_WHITESPACE","\n\n",440],"}",["T_WHITESPACE","\n",442]]