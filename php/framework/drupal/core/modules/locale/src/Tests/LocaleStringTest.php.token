[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","locale",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","language",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ConfigurableLanguage",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","simpletest",6],["T_NS_SEPARATOR","\\",6],["T_STRING","WebTestBase",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests the locale string storage, string objects and data API.\n *\n * @group locale\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","LocaleStringTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","WebTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PUBLIC","public",20],["T_WHITESPACE"," ",20],["T_STATIC","static",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$modules",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_ARRAY","array",20],"(",["T_CONSTANT_ENCAPSED_STRING","'locale'",20],")",";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * The locale storage.\n   *\n   * @var \\Drupal\\locale\\StringStorageInterface\n   *\/",22],["T_WHITESPACE","\n  ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$storage",27],";",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",29],["T_WHITESPACE","\n  ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","setUp",32],"(",")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n    ",32],["T_STRING","parent",33],["T_DOUBLE_COLON","::",33],["T_STRING","setUp",33],"(",")",";",["T_WHITESPACE","\n    ",33],["T_COMMENT","\/\/ Add a default locale storage for all these tests.\n",34],["T_WHITESPACE","    ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","storage",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","container",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","get",35],"(",["T_CONSTANT_ENCAPSED_STRING","'locale.storage'",35],")",";",["T_WHITESPACE","\n    ",35],["T_COMMENT","\/\/ Create two languages: Spanish and German.\n",36],["T_WHITESPACE","    ",37],["T_FOREACH","foreach",37],["T_WHITESPACE"," ",37],"(",["T_ARRAY","array",37],"(",["T_CONSTANT_ENCAPSED_STRING","'es'",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'de'",37],")",["T_WHITESPACE"," ",37],["T_AS","as",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$langcode",37],")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n      ",37],["T_STRING","ConfigurableLanguage",38],["T_DOUBLE_COLON","::",38],["T_STRING","createFromLangcode",38],"(",["T_VARIABLE","$langcode",38],")",["T_OBJECT_OPERATOR","->",38],["T_STRING","save",38],"(",")",";",["T_WHITESPACE","\n    ",38],"}",["T_WHITESPACE","\n  ",39],"}",["T_WHITESPACE","\n\n  ",40],["T_DOC_COMMENT","\/**\n   * Test CRUD API.\n   *\/",42],["T_WHITESPACE","\n  ",44],["T_PUBLIC","public",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","testStringCRUDAPI",45],"(",")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n    ",45],["T_COMMENT","\/\/ Create source string.\n",46],["T_WHITESPACE","    ",47],["T_VARIABLE","$source",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","buildSourceString",47],"(",")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$source",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","save",48],"(",")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertTrue",49],"(",["T_VARIABLE","$source",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","lid",49],",",["T_WHITESPACE"," ",49],["T_STRING","format_string",49],"(",["T_CONSTANT_ENCAPSED_STRING","'Successfully created string %string'",49],",",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",["T_CONSTANT_ENCAPSED_STRING","'%string'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$source",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","source",49],")",")",")",";",["T_WHITESPACE","\n\n    ",49],["T_COMMENT","\/\/ Load strings by lid and source.\n",51],["T_WHITESPACE","    ",52],["T_VARIABLE","$string1",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","storage",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","findString",52],"(",["T_ARRAY","array",52],"(",["T_CONSTANT_ENCAPSED_STRING","'lid'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$source",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","lid",52],")",")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","assertEqual",53],"(",["T_VARIABLE","$source",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$string1",53],",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'Successfully retrieved string by identifier.'",53],")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$string2",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","storage",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","findString",54],"(",["T_ARRAY","array",54],"(",["T_CONSTANT_ENCAPSED_STRING","'source'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$source",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","source",54],",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'context'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$source",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","context",54],")",")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertEqual",55],"(",["T_VARIABLE","$source",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$string2",55],",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'Successfully retrieved string by source and context.'",55],")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$string3",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","storage",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","findString",56],"(",["T_ARRAY","array",56],"(",["T_CONSTANT_ENCAPSED_STRING","'source'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$source",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","source",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'context'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","''",56],")",")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","assertFalse",57],"(",["T_VARIABLE","$string3",57],",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'Cannot retrieve string with wrong context.'",57],")",";",["T_WHITESPACE","\n\n    ",57],["T_COMMENT","\/\/ Check version handling and updating.\n",59],["T_WHITESPACE","    ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertEqual",60],"(",["T_VARIABLE","$source",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","version",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'none'",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'String originally created without version.'",60],")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$string",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","storage",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","findTranslation",61],"(",["T_ARRAY","array",61],"(",["T_CONSTANT_ENCAPSED_STRING","'lid'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$source",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","lid",61],")",")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertEqual",62],"(",["T_VARIABLE","$string",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","version",62],",",["T_WHITESPACE"," ",62],["T_NS_SEPARATOR","\\",62],["T_STRING","Drupal",62],["T_DOUBLE_COLON","::",62],["T_STRING","VERSION",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'Checked and updated string version to Drupal version.'",62],")",";",["T_WHITESPACE","\n\n    ",62],["T_COMMENT","\/\/ Create translation and find it by lid and source.\n",64],["T_WHITESPACE","    ",65],["T_VARIABLE","$langcode",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'es'",65],";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$translation",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","createTranslation",66],"(",["T_VARIABLE","$source",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$langcode",66],")",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","assertEqual",67],"(",["T_VARIABLE","$translation",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","customized",67],",",["T_WHITESPACE"," ",67],["T_STRING","LOCALE_NOT_CUSTOMIZED",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'Translation created as not customized by default.'",67],")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$string1",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","storage",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","findTranslation",68],"(",["T_ARRAY","array",68],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$langcode",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'lid'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$source",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","lid",68],")",")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertEqual",69],"(",["T_VARIABLE","$string1",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","translation",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$translation",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","translation",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'Successfully loaded translation by string identifier.'",69],")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$string2",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","storage",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","findTranslation",70],"(",["T_ARRAY","array",70],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$langcode",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'source'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$source",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","source",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'context'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$source",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","context",70],")",")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertEqual",71],"(",["T_VARIABLE","$string2",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","translation",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$translation",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","translation",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'Successfully loaded translation by source and context.'",71],")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$translation",72],["T_WHITESPACE","\n      ",72],["T_OBJECT_OPERATOR","->",73],["T_STRING","setCustomized",73],"(",")",["T_WHITESPACE","\n      ",73],["T_OBJECT_OPERATOR","->",74],["T_STRING","save",74],"(",")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$translation",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","storage",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","findTranslation",75],"(",["T_ARRAY","array",75],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$langcode",75],",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'lid'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$source",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","lid",75],")",")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","assertEqual",76],"(",["T_VARIABLE","$translation",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","customized",76],",",["T_WHITESPACE"," ",76],["T_STRING","LOCALE_CUSTOMIZED",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'Translation successfully marked as customized.'",76],")",";",["T_WHITESPACE","\n\n    ",76],["T_COMMENT","\/\/ Delete translation.\n",78],["T_WHITESPACE","    ",79],["T_VARIABLE","$translation",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","delete",79],"(",")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$deleted",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","storage",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","findTranslation",80],"(",["T_ARRAY","array",80],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$langcode",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'lid'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$source",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","lid",80],")",")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertFalse",81],"(",["T_ISSET","isset",81],"(",["T_VARIABLE","$deleted",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","translation",81],")",",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'Successfully deleted translation string.'",81],")",";",["T_WHITESPACE","\n\n    ",81],["T_COMMENT","\/\/ Create some translations and then delete string and all of its\n",83],["T_WHITESPACE","    ",84],["T_COMMENT","\/\/ translations.\n",84],["T_WHITESPACE","    ",85],["T_VARIABLE","$lid",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$source",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","lid",85],";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","createAllTranslations",86],"(",["T_VARIABLE","$source",86],")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$search",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","storage",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getTranslations",87],"(",["T_ARRAY","array",87],"(",["T_CONSTANT_ENCAPSED_STRING","'lid'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$source",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","lid",87],")",")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","assertEqual",88],"(",["T_STRING","count",88],"(",["T_VARIABLE","$search",88],")",",",["T_WHITESPACE"," ",88],["T_LNUMBER","3",88],",",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'Created and retrieved all translations for our source string.'",88],")",";",["T_WHITESPACE","\n\n    ",88],["T_VARIABLE","$source",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","delete",90],"(",")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$string",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","storage",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","findString",91],"(",["T_ARRAY","array",91],"(",["T_CONSTANT_ENCAPSED_STRING","'lid'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$lid",91],")",")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertFalse",92],"(",["T_VARIABLE","$string",92],",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'Successfully deleted source string.'",92],")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$deleted",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$search",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","storage",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getTranslations",93],"(",["T_ARRAY","array",93],"(",["T_CONSTANT_ENCAPSED_STRING","'lid'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$lid",93],")",")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertFalse",94],"(",["T_VARIABLE","$deleted",94],",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'Successfully deleted all translation strings.'",94],")",";",["T_WHITESPACE","\n\n    ",94],["T_COMMENT","\/\/ Tests that locations of different types and arbitrary lengths can be\n",96],["T_WHITESPACE","    ",97],["T_COMMENT","\/\/ added to a source string. Too long locations will be cut off.\n",97],["T_WHITESPACE","    ",98],["T_VARIABLE","$source_string",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","buildSourceString",98],"(",")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$source_string",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","addLocation",99],"(",["T_CONSTANT_ENCAPSED_STRING","'javascript'",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","randomString",99],"(",["T_LNUMBER","8",99],")",")",";",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$source_string",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","addLocation",100],"(",["T_CONSTANT_ENCAPSED_STRING","'configuration'",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","randomString",100],"(",["T_LNUMBER","50",100],")",")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$source_string",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","addLocation",101],"(",["T_CONSTANT_ENCAPSED_STRING","'code'",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","randomString",101],"(",["T_LNUMBER","100",101],")",")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$source_string",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","addLocation",102],"(",["T_CONSTANT_ENCAPSED_STRING","'path'",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$location",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","randomString",102],"(",["T_LNUMBER","300",102],")",")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$source_string",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","save",103],"(",")",";",["T_WHITESPACE","\n\n    ",103],["T_VARIABLE","$rows",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","db_query",105],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM {locales_location} WHERE sid = :sid'",105],",",["T_WHITESPACE"," ",105],["T_ARRAY","array",105],"(",["T_CONSTANT_ENCAPSED_STRING","':sid'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$source_string",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","lid",105],")",")",["T_OBJECT_OPERATOR","->",105],["T_STRING","fetchAllAssoc",105],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",105],")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertEqual",106],"(",["T_STRING","count",106],"(",["T_VARIABLE","$rows",106],")",",",["T_WHITESPACE"," ",106],["T_LNUMBER","4",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'4 source locations have been persisted.'",106],")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertEqual",107],"(",["T_VARIABLE","$rows",107],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",107],"]",["T_OBJECT_OPERATOR","->",107],["T_STRING","name",107],",",["T_WHITESPACE"," ",107],["T_STRING","substr",107],"(",["T_VARIABLE","$location",107],",",["T_WHITESPACE"," ",107],["T_LNUMBER","0",107],",",["T_WHITESPACE"," ",107],["T_LNUMBER","255",107],")",",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'Too long location has been limited to 255 characters.'",107],")",";",["T_WHITESPACE","\n  ",107],"}",["T_WHITESPACE","\n\n  ",108],["T_DOC_COMMENT","\/**\n   * Test Search API loading multiple objects.\n   *\/",110],["T_WHITESPACE","\n  ",112],["T_PUBLIC","public",113],["T_WHITESPACE"," ",113],["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],["T_STRING","testStringSearchAPI",113],"(",")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$language_count",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_LNUMBER","3",114],";",["T_WHITESPACE","\n    ",114],["T_COMMENT","\/\/ Strings 1 and 2 will have some common prefix.\n",115],["T_WHITESPACE","    ",116],["T_COMMENT","\/\/ Source 1 will have all translations, not customized.\n",116],["T_WHITESPACE","    ",117],["T_COMMENT","\/\/ Source 2 will have all translations, customized.\n",117],["T_WHITESPACE","    ",118],["T_COMMENT","\/\/ Source 3 will have no translations.\n",118],["T_WHITESPACE","    ",119],["T_VARIABLE","$prefix",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","randomMachineName",119],"(",["T_LNUMBER","100",119],")",";",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$source1",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","buildSourceString",120],"(",["T_ARRAY","array",120],"(",["T_CONSTANT_ENCAPSED_STRING","'source'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$prefix",120],["T_WHITESPACE"," ",120],".",["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","randomMachineName",120],"(",["T_LNUMBER","100",120],")",")",")",["T_OBJECT_OPERATOR","->",120],["T_STRING","save",120],"(",")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$source2",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","buildSourceString",121],"(",["T_ARRAY","array",121],"(",["T_CONSTANT_ENCAPSED_STRING","'source'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$prefix",121],["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","randomMachineName",121],"(",["T_LNUMBER","100",121],")",")",")",["T_OBJECT_OPERATOR","->",121],["T_STRING","save",121],"(",")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$source3",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","buildSourceString",122],"(",")",["T_OBJECT_OPERATOR","->",122],["T_STRING","save",122],"(",")",";",["T_WHITESPACE","\n    ",122],["T_COMMENT","\/\/ Load all source strings.\n",123],["T_WHITESPACE","    ",124],["T_VARIABLE","$strings",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","storage",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getStrings",124],"(",["T_ARRAY","array",124],"(",")",")",";",["T_WHITESPACE","\n    ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertEqual",125],"(",["T_STRING","count",125],"(",["T_VARIABLE","$strings",125],")",",",["T_WHITESPACE"," ",125],["T_LNUMBER","3",125],",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'Found 3 source strings in the database.'",125],")",";",["T_WHITESPACE","\n    ",125],["T_COMMENT","\/\/ Load all source strings matching a given string.\n",126],["T_WHITESPACE","    ",127],["T_VARIABLE","$filter_options",127],"[",["T_CONSTANT_ENCAPSED_STRING","'filters'",127],"]",["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_ARRAY","array",127],"(",["T_CONSTANT_ENCAPSED_STRING","'source'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$prefix",127],")",";",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$strings",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","storage",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getStrings",128],"(",["T_ARRAY","array",128],"(",")",",",["T_WHITESPACE"," ",128],["T_VARIABLE","$filter_options",128],")",";",["T_WHITESPACE","\n    ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","assertEqual",129],"(",["T_STRING","count",129],"(",["T_VARIABLE","$strings",129],")",",",["T_WHITESPACE"," ",129],["T_LNUMBER","2",129],",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'Found 2 strings using some string filter.'",129],")",";",["T_WHITESPACE","\n\n    ",129],["T_COMMENT","\/\/ Not customized translations.\n",131],["T_WHITESPACE","    ",132],["T_VARIABLE","$translate1",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","createAllTranslations",132],"(",["T_VARIABLE","$source1",132],")",";",["T_WHITESPACE","\n    ",132],["T_COMMENT","\/\/ Customized translations.\n",133],["T_WHITESPACE","    ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","createAllTranslations",134],"(",["T_VARIABLE","$source2",134],",",["T_WHITESPACE"," ",134],["T_ARRAY","array",134],"(",["T_CONSTANT_ENCAPSED_STRING","'customized'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_STRING","LOCALE_CUSTOMIZED",134],")",")",";",["T_WHITESPACE","\n    ",134],["T_COMMENT","\/\/ Try quick search function with different field combinations.\n",135],["T_WHITESPACE","    ",136],["T_VARIABLE","$langcode",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'es'",136],";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$found",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","storage",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","findTranslation",137],"(",["T_ARRAY","array",137],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$langcode",137],",",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'source'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$source1",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","source",137],",",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'context'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$source1",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","context",137],")",")",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","assertTrue",138],"(",["T_VARIABLE","$found",138],["T_WHITESPACE"," ",138],["T_BOOLEAN_AND","&&",138],["T_WHITESPACE"," ",138],["T_ISSET","isset",138],"(",["T_VARIABLE","$found",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","language",138],")",["T_WHITESPACE"," ",138],["T_BOOLEAN_AND","&&",138],["T_WHITESPACE"," ",138],["T_ISSET","isset",138],"(",["T_VARIABLE","$found",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","translation",138],")",["T_WHITESPACE"," ",138],["T_BOOLEAN_AND","&&",138],["T_WHITESPACE"," ",138],"!",["T_VARIABLE","$found",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","isNew",138],"(",")",",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'Translation found searching by source and context.'",138],")",";",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","assertEqual",139],"(",["T_VARIABLE","$found",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","translation",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$translate1",139],"[",["T_VARIABLE","$langcode",139],"]",["T_OBJECT_OPERATOR","->",139],["T_STRING","translation",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'Found the right translation.'",139],")",";",["T_WHITESPACE","\n    ",139],["T_COMMENT","\/\/ Now try a translation not found.\n",140],["T_WHITESPACE","    ",141],["T_VARIABLE","$found",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","storage",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","findTranslation",141],"(",["T_ARRAY","array",141],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$langcode",141],",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'source'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$source3",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","source",141],",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'context'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$source3",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","context",141],")",")",";",["T_WHITESPACE","\n    ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","assertTrue",142],"(",["T_VARIABLE","$found",142],["T_WHITESPACE"," ",142],["T_BOOLEAN_AND","&&",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$found",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","lid",142],["T_WHITESPACE"," ",142],["T_IS_EQUAL","==",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$source3",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","lid",142],["T_WHITESPACE"," ",142],["T_BOOLEAN_AND","&&",142],["T_WHITESPACE"," ",142],"!",["T_ISSET","isset",142],"(",["T_VARIABLE","$found",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","translation",142],")",["T_WHITESPACE"," ",142],["T_BOOLEAN_AND","&&",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$found",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","isNew",142],"(",")",",",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'Translation not found but source string found.'",142],")",";",["T_WHITESPACE","\n\n    ",142],["T_COMMENT","\/\/ Load all translations. For next queries we'll be loading only translated\n",144],["T_WHITESPACE","    ",145],["T_COMMENT","\/\/ strings.\n",145],["T_WHITESPACE","    ",146],["T_VARIABLE","$translations",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","storage",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getTranslations",146],"(",["T_ARRAY","array",146],"(",["T_CONSTANT_ENCAPSED_STRING","'translated'",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_STRING","TRUE",146],")",")",";",["T_WHITESPACE","\n    ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","assertEqual",147],"(",["T_STRING","count",147],"(",["T_VARIABLE","$translations",147],")",",",["T_WHITESPACE"," ",147],["T_LNUMBER","2",147],["T_WHITESPACE"," ",147],"*",["T_WHITESPACE"," ",147],["T_VARIABLE","$language_count",147],",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'Created and retrieved all translations for source strings.'",147],")",";",["T_WHITESPACE","\n\n    ",147],["T_COMMENT","\/\/ Load all customized translations.\n",149],["T_WHITESPACE","    ",150],["T_VARIABLE","$translations",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","storage",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getTranslations",150],"(",["T_ARRAY","array",150],"(",["T_CONSTANT_ENCAPSED_STRING","'customized'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_STRING","LOCALE_CUSTOMIZED",150],",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'translated'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_STRING","TRUE",150],")",")",";",["T_WHITESPACE","\n    ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","assertEqual",151],"(",["T_STRING","count",151],"(",["T_VARIABLE","$translations",151],")",",",["T_WHITESPACE"," ",151],["T_VARIABLE","$language_count",151],",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'Retrieved all customized translations for source strings.'",151],")",";",["T_WHITESPACE","\n\n    ",151],["T_COMMENT","\/\/ Load all Spanish customized translations.\n",153],["T_WHITESPACE","    ",154],["T_VARIABLE","$translations",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","storage",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getTranslations",154],"(",["T_ARRAY","array",154],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'es'",154],",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'customized'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_STRING","LOCALE_CUSTOMIZED",154],",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'translated'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_STRING","TRUE",154],")",")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","assertEqual",155],"(",["T_STRING","count",155],"(",["T_VARIABLE","$translations",155],")",",",["T_WHITESPACE"," ",155],["T_LNUMBER","1",155],",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'Found only Spanish and customized translations.'",155],")",";",["T_WHITESPACE","\n\n    ",155],["T_COMMENT","\/\/ Load all source strings without translation (1).\n",157],["T_WHITESPACE","    ",158],["T_VARIABLE","$translations",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","storage",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getStrings",158],"(",["T_ARRAY","array",158],"(",["T_CONSTANT_ENCAPSED_STRING","'translated'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_STRING","FALSE",158],")",")",";",["T_WHITESPACE","\n    ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","assertEqual",159],"(",["T_STRING","count",159],"(",["T_VARIABLE","$translations",159],")",",",["T_WHITESPACE"," ",159],["T_LNUMBER","1",159],",",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'Found 1 source string without translations.'",159],")",";",["T_WHITESPACE","\n\n    ",159],["T_COMMENT","\/\/ Load Spanish translations using string filter.\n",161],["T_WHITESPACE","    ",162],["T_VARIABLE","$filter_options",162],"[",["T_CONSTANT_ENCAPSED_STRING","'filters'",162],"]",["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_ARRAY","array",162],"(",["T_CONSTANT_ENCAPSED_STRING","'source'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$prefix",162],")",";",["T_WHITESPACE","\n    ",162],["T_VARIABLE","$translations",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","storage",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getTranslations",163],"(",["T_ARRAY","array",163],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'es'",163],")",",",["T_WHITESPACE"," ",163],["T_VARIABLE","$filter_options",163],")",";",["T_WHITESPACE","\n    ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","assertEqual",164],"(",["T_STRING","count",164],"(",["T_VARIABLE","$translations",164],")",",",["T_WHITESPACE"," ",164],["T_LNUMBER","2",164],",",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'Found 2 translations using some string filter.'",164],")",";",["T_WHITESPACE","\n\n  ",164],"}",["T_WHITESPACE","\n\n  ",166],["T_DOC_COMMENT","\/**\n   * Creates random source string object.\n   *\n   * @return \\Drupal\\locale\\StringInterface\n   *   A locale string.\n   *\/",168],["T_WHITESPACE","\n  ",173],["T_PUBLIC","public",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","buildSourceString",174],"(",["T_VARIABLE","$values",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_ARRAY","array",174],"(",")",")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n    ",174],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","storage",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","createString",175],"(",["T_VARIABLE","$values",175],["T_WHITESPACE"," ",175],["T_PLUS_EQUAL","+=",175],["T_WHITESPACE"," ",175],["T_ARRAY","array",175],"(",["T_WHITESPACE","\n      ",175],["T_CONSTANT_ENCAPSED_STRING","'source'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","randomMachineName",176],"(",["T_LNUMBER","100",176],")",",",["T_WHITESPACE","\n      ",176],["T_CONSTANT_ENCAPSED_STRING","'context'",177],["T_WHITESPACE"," ",177],["T_DOUBLE_ARROW","=>",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","randomMachineName",177],"(",["T_LNUMBER","20",177],")",",",["T_WHITESPACE","\n    ",177],")",")",";",["T_WHITESPACE","\n  ",178],"}",["T_WHITESPACE","\n\n  ",179],["T_DOC_COMMENT","\/**\n   * Creates translations for source string and all languages.\n   *\/",181],["T_WHITESPACE","\n  ",183],["T_PUBLIC","public",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","createAllTranslations",184],"(",["T_VARIABLE","$source",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$values",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_ARRAY","array",184],"(",")",")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n    ",184],["T_VARIABLE","$list",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_ARRAY","array",185],"(",")",";",["T_WHITESPACE","\n    ",185],["T_COMMENT","\/* @var $language_manager \\Drupal\\Core\\Language\\LanguageManagerInterface *\/",186],["T_WHITESPACE","\n    ",186],["T_VARIABLE","$language_manager",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","container",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","get",187],"(",["T_CONSTANT_ENCAPSED_STRING","'language_manager'",187],")",";",["T_WHITESPACE","\n    ",187],["T_FOREACH","foreach",188],["T_WHITESPACE"," ",188],"(",["T_VARIABLE","$language_manager",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","getLanguages",188],"(",")",["T_WHITESPACE"," ",188],["T_AS","as",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$language",188],")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n      ",188],["T_VARIABLE","$list",189],"[",["T_VARIABLE","$language",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getId",189],"(",")","]",["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","createTranslation",189],"(",["T_VARIABLE","$source",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$language",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getId",189],"(",")",",",["T_WHITESPACE"," ",189],["T_VARIABLE","$values",189],")",";",["T_WHITESPACE","\n    ",189],"}",["T_WHITESPACE","\n    ",190],["T_RETURN","return",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$list",191],";",["T_WHITESPACE","\n  ",191],"}",["T_WHITESPACE","\n\n  ",192],["T_DOC_COMMENT","\/**\n   * Creates single translation for source string.\n   *\/",194],["T_WHITESPACE","\n  ",196],["T_PUBLIC","public",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","createTranslation",197],"(",["T_VARIABLE","$source",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$langcode",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$values",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_ARRAY","array",197],"(",")",")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n    ",197],["T_RETURN","return",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","storage",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","createTranslation",198],"(",["T_VARIABLE","$values",198],["T_WHITESPACE"," ",198],"+",["T_WHITESPACE"," ",198],["T_ARRAY","array",198],"(",["T_WHITESPACE","\n      ",198],["T_CONSTANT_ENCAPSED_STRING","'lid'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$source",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","lid",199],",",["T_WHITESPACE","\n      ",199],["T_CONSTANT_ENCAPSED_STRING","'language'",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$langcode",200],",",["T_WHITESPACE","\n      ",200],["T_CONSTANT_ENCAPSED_STRING","'translation'",201],["T_WHITESPACE"," ",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","randomMachineName",201],"(",["T_LNUMBER","100",201],")",",",["T_WHITESPACE","\n    ",201],")",")",["T_OBJECT_OPERATOR","->",202],["T_STRING","save",202],"(",")",";",["T_WHITESPACE","\n  ",202],"}",["T_WHITESPACE","\n\n",203],"}",["T_WHITESPACE","\n",205]]