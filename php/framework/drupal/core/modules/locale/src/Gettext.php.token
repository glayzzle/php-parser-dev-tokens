[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","locale",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Gettext",5],["T_NS_SEPARATOR","\\",5],["T_STRING","PoStreamReader",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Static class providing Drupal specific Gettext functionality.\n *\n * The operations are related to pumping data from a source to a destination,\n * for example:\n * - Remote files http:\/\/*.po to memory\n * - File public:\/\/*.po to database\n *\/",7],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","Gettext",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * Reads the given PO files into the database.\n   *\n   * @param object $file\n   *   File object with an URI property pointing at the file's path.\n   *   - \"langcode\": The language the strings will be added to.\n   *   - \"uri\": File URI.\n   * @param array $options\n   *   An array with options that can have the following elements:\n   *   - 'overwrite_options': Overwrite options array as defined in\n   *     Drupal\\locale\\PoDatabaseWriter. Optional, defaults to an empty array.\n   *   - 'customized': Flag indicating whether the strings imported from $file\n   *     are customized translations or come from a community source. Use\n   *     LOCALE_CUSTOMIZED or LOCALE_NOT_CUSTOMIZED. Optional, defaults to\n   *     LOCALE_NOT_CUSTOMIZED.\n   *   - 'seek': Specifies from which position in the file should the reader\n   *     start reading the next items. Optional, defaults to 0.\n   *   - 'items': Specifies the number of items to read. Optional, defaults to\n   *     -1, which means that all the items from the stream will be read.\n   *\n   * @return array\n   *   Report array as defined in Drupal\\locale\\PoDatabaseWriter.\n   *\n   * @see \\Drupal\\locale\\PoDatabaseWriter\n   *\/",17],["T_WHITESPACE","\n  ",41],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_STATIC","static",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","fileToDatabase",42],"(",["T_VARIABLE","$file",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$options",42],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n    ",42],["T_COMMENT","\/\/ Add the default values to the options array.\n",43],["T_WHITESPACE","    ",44],["T_VARIABLE","$options",44],["T_WHITESPACE"," ",44],["T_PLUS_EQUAL","+=",44],["T_WHITESPACE"," ",44],["T_ARRAY","array",44],"(",["T_WHITESPACE","\n      ",44],["T_CONSTANT_ENCAPSED_STRING","'overwrite_options'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_ARRAY","array",45],"(",")",",",["T_WHITESPACE","\n      ",45],["T_CONSTANT_ENCAPSED_STRING","'customized'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_STRING","LOCALE_NOT_CUSTOMIZED",46],",",["T_WHITESPACE","\n      ",46],["T_CONSTANT_ENCAPSED_STRING","'items'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],"-",["T_LNUMBER","1",47],",",["T_WHITESPACE","\n      ",47],["T_CONSTANT_ENCAPSED_STRING","'seek'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_LNUMBER","0",48],",",["T_WHITESPACE","\n    ",48],")",";",["T_WHITESPACE","\n    ",49],["T_COMMENT","\/\/ Instantiate and initialize the stream reader for this file.\n",50],["T_WHITESPACE","    ",51],["T_VARIABLE","$reader",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_NEW","new",51],["T_WHITESPACE"," ",51],["T_STRING","PoStreamReader",51],"(",")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$reader",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","setLangcode",52],"(",["T_VARIABLE","$file",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","langcode",52],")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$reader",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","setURI",53],"(",["T_VARIABLE","$file",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","uri",53],")",";",["T_WHITESPACE","\n\n    ",53],["T_TRY","try",55],["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n      ",55],["T_VARIABLE","$reader",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","open",56],"(",")",";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n    ",57],["T_CATCH","catch",58],["T_WHITESPACE"," ",58],"(",["T_NS_SEPARATOR","\\",58],["T_STRING","Exception",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$exception",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n      ",58],["T_THROW","throw",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$exception",59],";",["T_WHITESPACE","\n    ",59],"}",["T_WHITESPACE","\n\n    ",60],["T_VARIABLE","$header",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$reader",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getHeader",62],"(",")",";",["T_WHITESPACE","\n    ",62],["T_IF","if",63],["T_WHITESPACE"," ",63],"(","!",["T_VARIABLE","$header",63],")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n      ",63],["T_THROW","throw",64],["T_WHITESPACE"," ",64],["T_NEW","new",64],["T_WHITESPACE"," ",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Exception",64],"(",["T_CONSTANT_ENCAPSED_STRING","'Missing or malformed header.'",64],")",";",["T_WHITESPACE","\n    ",64],"}",["T_WHITESPACE","\n\n    ",65],["T_COMMENT","\/\/ Initialize the database writer.\n",67],["T_WHITESPACE","    ",68],["T_VARIABLE","$writer",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_NEW","new",68],["T_WHITESPACE"," ",68],["T_STRING","PoDatabaseWriter",68],"(",")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$writer",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","setLangcode",69],"(",["T_VARIABLE","$file",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","langcode",69],")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$writer_options",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_ARRAY","array",70],"(",["T_WHITESPACE","\n      ",70],["T_CONSTANT_ENCAPSED_STRING","'overwrite_options'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$options",71],"[",["T_CONSTANT_ENCAPSED_STRING","'overwrite_options'",71],"]",",",["T_WHITESPACE","\n      ",71],["T_CONSTANT_ENCAPSED_STRING","'customized'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$options",72],"[",["T_CONSTANT_ENCAPSED_STRING","'customized'",72],"]",",",["T_WHITESPACE","\n    ",72],")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$writer",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","setOptions",74],"(",["T_VARIABLE","$writer_options",74],")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$writer",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","setHeader",75],"(",["T_VARIABLE","$header",75],")",";",["T_WHITESPACE","\n\n    ",75],["T_COMMENT","\/\/ Attempt to pipe all items from the file to the database.\n",77],["T_WHITESPACE","    ",78],["T_TRY","try",78],["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n      ",78],["T_IF","if",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$options",79],"[",["T_CONSTANT_ENCAPSED_STRING","'seek'",79],"]",")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$reader",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","setSeek",80],"(",["T_VARIABLE","$options",80],"[",["T_CONSTANT_ENCAPSED_STRING","'seek'",80],"]",")",";",["T_WHITESPACE","\n      ",80],"}",["T_WHITESPACE","\n      ",81],["T_VARIABLE","$writer",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","writeItems",82],"(",["T_VARIABLE","$reader",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$options",82],"[",["T_CONSTANT_ENCAPSED_STRING","'items'",82],"]",")",";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n    ",83],["T_CATCH","catch",84],["T_WHITESPACE"," ",84],"(",["T_NS_SEPARATOR","\\",84],["T_STRING","Exception",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$exception",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n      ",84],["T_THROW","throw",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$exception",85],";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_COMMENT","\/\/ Report back with an array of status information.\n",88],["T_WHITESPACE","    ",89],["T_VARIABLE","$report",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$writer",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getReport",89],"(",")",";",["T_WHITESPACE","\n\n    ",89],["T_COMMENT","\/\/ Add the seek position to the report. This is useful for the batch\n",91],["T_WHITESPACE","    ",92],["T_COMMENT","\/\/ operation.\n",92],["T_WHITESPACE","    ",93],["T_VARIABLE","$report",93],"[",["T_CONSTANT_ENCAPSED_STRING","'seek'",93],"]",["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$reader",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getSeek",93],"(",")",";",["T_WHITESPACE","\n    ",93],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$report",94],";",["T_WHITESPACE","\n  ",94],"}",["T_WHITESPACE","\n\n",95],"}",["T_WHITESPACE","\n",97]]