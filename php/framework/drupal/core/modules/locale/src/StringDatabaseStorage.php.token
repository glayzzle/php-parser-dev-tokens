[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","locale",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Database",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Connection",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Defines a class to store localized strings in the database.\n *\/",7],["T_WHITESPACE","\n",9],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","StringDatabaseStorage",10],["T_WHITESPACE"," ",10],["T_IMPLEMENTS","implements",10],["T_WHITESPACE"," ",10],["T_STRING","StringStorageInterface",10],["T_WHITESPACE"," ",10],"{",["T_WHITESPACE","\n\n  ",10],["T_DOC_COMMENT","\/**\n   * The database connection.\n   *\n   * @var \\Drupal\\Core\\Database\\Connection\n   *\/",12],["T_WHITESPACE","\n  ",16],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$connection",17],";",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * Additional database connection options to use in queries.\n   *\n   * @var array\n   *\/",19],["T_WHITESPACE","\n  ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$options",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_ARRAY","array",24],"(",")",";",["T_WHITESPACE","\n\n  ",24],["T_DOC_COMMENT","\/**\n   * Constructs a new StringDatabaseStorage class.\n   *\n   * @param \\Drupal\\Core\\Database\\Connection $connection\n   *   A Database connection to use for reading and writing configuration data.\n   * @param array $options\n   *   (optional) Any additional database connection options to use in queries.\n   *\/",26],["T_WHITESPACE","\n  ",33],["T_PUBLIC","public",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","__construct",34],"(",["T_STRING","Connection",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$connection",34],",",["T_WHITESPACE"," ",34],["T_ARRAY","array",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$options",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",")",")",["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","connection",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$connection",35],";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","options",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$options",36],";",["T_WHITESPACE","\n  ",36],"}",["T_WHITESPACE","\n\n  ",37],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",39],["T_WHITESPACE","\n  ",41],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","getStrings",42],"(",["T_ARRAY","array",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$conditions",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_ARRAY","array",42],"(",")",",",["T_WHITESPACE"," ",42],["T_ARRAY","array",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$options",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_ARRAY","array",42],"(",")",")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n    ",42],["T_RETURN","return",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","dbStringLoad",43],"(",["T_VARIABLE","$conditions",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$options",43],",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\locale\\SourceString'",43],")",";",["T_WHITESPACE","\n  ",43],"}",["T_WHITESPACE","\n\n  ",44],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",46],["T_WHITESPACE","\n  ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","getTranslations",49],"(",["T_ARRAY","array",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$conditions",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",")",",",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$options",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",")",")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n    ",49],["T_RETURN","return",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","dbStringLoad",50],"(",["T_VARIABLE","$conditions",50],",",["T_WHITESPACE"," ",50],["T_ARRAY","array",50],"(",["T_CONSTANT_ENCAPSED_STRING","'translation'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_STRING","TRUE",50],")",["T_WHITESPACE"," ",50],"+",["T_WHITESPACE"," ",50],["T_VARIABLE","$options",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\locale\\TranslationString'",50],")",";",["T_WHITESPACE","\n  ",50],"}",["T_WHITESPACE","\n\n  ",51],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",53],["T_WHITESPACE","\n  ",55],["T_PUBLIC","public",56],["T_WHITESPACE"," ",56],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],["T_STRING","findString",56],"(",["T_ARRAY","array",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$conditions",56],")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$values",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","dbStringSelect",57],"(",["T_VARIABLE","$conditions",57],")",["T_WHITESPACE","\n      ",57],["T_OBJECT_OPERATOR","->",58],["T_STRING","execute",58],"(",")",["T_WHITESPACE","\n      ",58],["T_OBJECT_OPERATOR","->",59],["T_STRING","fetchAssoc",59],"(",")",";",["T_WHITESPACE","\n\n    ",59],["T_IF","if",61],["T_WHITESPACE"," ",61],"(","!",["T_EMPTY","empty",61],"(",["T_VARIABLE","$values",61],")",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n      ",61],["T_VARIABLE","$string",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_NEW","new",62],["T_WHITESPACE"," ",62],["T_STRING","SourceString",62],"(",["T_VARIABLE","$values",62],")",";",["T_WHITESPACE","\n      ",62],["T_VARIABLE","$string",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","setStorage",63],"(",["T_VARIABLE","$this",63],")",";",["T_WHITESPACE","\n      ",63],["T_RETURN","return",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$string",64],";",["T_WHITESPACE","\n    ",64],"}",["T_WHITESPACE","\n  ",65],"}",["T_WHITESPACE","\n\n  ",66],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",68],["T_WHITESPACE","\n  ",70],["T_PUBLIC","public",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","findTranslation",71],"(",["T_ARRAY","array",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$conditions",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$values",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","dbStringSelect",72],"(",["T_VARIABLE","$conditions",72],",",["T_WHITESPACE"," ",72],["T_ARRAY","array",72],"(",["T_CONSTANT_ENCAPSED_STRING","'translation'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_STRING","TRUE",72],")",")",["T_WHITESPACE","\n      ",72],["T_OBJECT_OPERATOR","->",73],["T_STRING","execute",73],"(",")",["T_WHITESPACE","\n      ",73],["T_OBJECT_OPERATOR","->",74],["T_STRING","fetchAssoc",74],"(",")",";",["T_WHITESPACE","\n\n    ",74],["T_IF","if",76],["T_WHITESPACE"," ",76],"(","!",["T_EMPTY","empty",76],"(",["T_VARIABLE","$values",76],")",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n      ",76],["T_VARIABLE","$string",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_NEW","new",77],["T_WHITESPACE"," ",77],["T_STRING","TranslationString",77],"(",["T_VARIABLE","$values",77],")",";",["T_WHITESPACE","\n      ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","checkVersion",78],"(",["T_VARIABLE","$string",78],",",["T_WHITESPACE"," ",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Drupal",78],["T_DOUBLE_COLON","::",78],["T_STRING","VERSION",78],")",";",["T_WHITESPACE","\n      ",78],["T_VARIABLE","$string",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","setStorage",79],"(",["T_VARIABLE","$this",79],")",";",["T_WHITESPACE","\n      ",79],["T_RETURN","return",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$string",80],";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n  ",81],"}",["T_WHITESPACE","\n\n  ",82],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",84],["T_WHITESPACE","\n  ",86],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","getLocations",87],"(",["T_ARRAY","array",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$conditions",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_ARRAY","array",87],"(",")",")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$query",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","connection",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","select",88],"(",["T_CONSTANT_ENCAPSED_STRING","'locales_location'",88],",",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'l'",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","options",88],")",["T_WHITESPACE","\n      ",88],["T_OBJECT_OPERATOR","->",89],["T_STRING","fields",89],"(",["T_CONSTANT_ENCAPSED_STRING","'l'",89],")",";",["T_WHITESPACE","\n    ",89],["T_FOREACH","foreach",90],["T_WHITESPACE"," ",90],"(",["T_VARIABLE","$conditions",90],["T_WHITESPACE"," ",90],["T_AS","as",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$field",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$value",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n      ",90],["T_COMMENT","\/\/ Cast scalars to array so we can consistently use an IN condition.\n",91],["T_WHITESPACE","      ",92],["T_VARIABLE","$query",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","condition",92],"(",["T_CONSTANT_ENCAPSED_STRING","'l.'",92],["T_WHITESPACE"," ",92],".",["T_WHITESPACE"," ",92],["T_VARIABLE","$field",92],",",["T_WHITESPACE"," ",92],["T_ARRAY_CAST","(array)",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$value",92],",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'IN'",92],")",";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n    ",93],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$query",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","execute",94],"(",")",["T_OBJECT_OPERATOR","->",94],["T_STRING","fetchAll",94],"(",")",";",["T_WHITESPACE","\n  ",94],"}",["T_WHITESPACE","\n\n  ",95],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",97],["T_WHITESPACE","\n  ",99],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","countStrings",100],"(",")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n    ",100],["T_RETURN","return",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","dbExecute",101],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) FROM {locales_source}\"",101],")",["T_OBJECT_OPERATOR","->",101],["T_STRING","fetchField",101],"(",")",";",["T_WHITESPACE","\n  ",101],"}",["T_WHITESPACE","\n\n  ",102],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",104],["T_WHITESPACE","\n  ",106],["T_PUBLIC","public",107],["T_WHITESPACE"," ",107],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],["T_STRING","countTranslations",107],"(",")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n    ",107],["T_RETURN","return",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","dbExecute",108],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT t.language, COUNT(*) AS translated FROM {locales_source} s INNER JOIN {locales_target} t ON s.lid = t.lid GROUP BY t.language\"",108],")",["T_OBJECT_OPERATOR","->",108],["T_STRING","fetchAllKeyed",108],"(",")",";",["T_WHITESPACE","\n  ",108],"}",["T_WHITESPACE","\n\n  ",109],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",111],["T_WHITESPACE","\n  ",113],["T_PUBLIC","public",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","save",114],"(",["T_VARIABLE","$string",114],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n    ",114],["T_IF","if",115],["T_WHITESPACE"," ",115],"(",["T_VARIABLE","$string",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","isNew",115],"(",")",")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n      ",115],["T_VARIABLE","$result",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","dbStringInsert",116],"(",["T_VARIABLE","$string",116],")",";",["T_WHITESPACE","\n      ",116],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$string",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","isSource",117],"(",")",["T_WHITESPACE"," ",117],["T_BOOLEAN_AND","&&",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$result",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n        ",117],["T_COMMENT","\/\/ Only for source strings, we set the locale identifier.\n",118],["T_WHITESPACE","        ",119],["T_VARIABLE","$string",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","setId",119],"(",["T_VARIABLE","$result",119],")",";",["T_WHITESPACE","\n      ",119],"}",["T_WHITESPACE","\n      ",120],["T_VARIABLE","$string",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","setStorage",121],"(",["T_VARIABLE","$this",121],")",";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n    ",122],["T_ELSE","else",123],["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n      ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","dbStringUpdate",124],"(",["T_VARIABLE","$string",124],")",";",["T_WHITESPACE","\n    ",124],"}",["T_WHITESPACE","\n    ",125],["T_COMMENT","\/\/ Update locations if they come with the string.\n",126],["T_WHITESPACE","    ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","updateLocation",127],"(",["T_VARIABLE","$string",127],")",";",["T_WHITESPACE","\n    ",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],";",["T_WHITESPACE","\n  ",128],"}",["T_WHITESPACE","\n\n  ",129],["T_DOC_COMMENT","\/**\n   * Update locations for string.\n   *\n   * @param \\Drupal\\locale\\StringInterface $string\n   *   The string object.\n   *\/",131],["T_WHITESPACE","\n  ",136],["T_PROTECTED","protected",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","updateLocation",137],"(",["T_VARIABLE","$string",137],")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n    ",137],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_VARIABLE","$locations",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$string",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getLocations",138],"(",["T_STRING","TRUE",138],")",")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n      ",138],["T_VARIABLE","$created",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","FALSE",139],";",["T_WHITESPACE","\n      ",139],["T_FOREACH","foreach",140],["T_WHITESPACE"," ",140],"(",["T_VARIABLE","$locations",140],["T_WHITESPACE"," ",140],["T_AS","as",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$type",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$location",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n        ",140],["T_FOREACH","foreach",141],["T_WHITESPACE"," ",141],"(",["T_VARIABLE","$location",141],["T_WHITESPACE"," ",141],["T_AS","as",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$name",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$lid",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n          ",141],["T_COMMENT","\/\/ Make sure that the name isn't longer than 255 characters.\n",142],["T_WHITESPACE","          ",143],["T_VARIABLE","$name",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_STRING","substr",143],"(",["T_VARIABLE","$name",143],",",["T_WHITESPACE"," ",143],["T_LNUMBER","0",143],",",["T_WHITESPACE"," ",143],["T_LNUMBER","255",143],")",";",["T_WHITESPACE","\n          ",143],["T_IF","if",144],["T_WHITESPACE"," ",144],"(","!",["T_VARIABLE","$lid",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n            ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","dbDelete",145],"(",["T_CONSTANT_ENCAPSED_STRING","'locales_location'",145],",",["T_WHITESPACE"," ",145],["T_ARRAY","array",145],"(",["T_CONSTANT_ENCAPSED_STRING","'sid'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$string",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getId",145],"(",")",",",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'type'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$type",145],",",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'name'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$name",145],")",")",["T_WHITESPACE","\n              ",145],["T_OBJECT_OPERATOR","->",146],["T_STRING","execute",146],"(",")",";",["T_WHITESPACE","\n          ",146],"}",["T_WHITESPACE","\n          ",147],["T_ELSEIF","elseif",148],["T_WHITESPACE"," ",148],"(",["T_VARIABLE","$lid",148],["T_WHITESPACE"," ",148],["T_IS_IDENTICAL","===",148],["T_WHITESPACE"," ",148],["T_STRING","TRUE",148],")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n            ",148],["T_COMMENT","\/\/ This is a new location to add, take care not to duplicate.\n",149],["T_WHITESPACE","            ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","connection",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","merge",150],"(",["T_CONSTANT_ENCAPSED_STRING","'locales_location'",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","options",150],")",["T_WHITESPACE","\n              ",150],["T_OBJECT_OPERATOR","->",151],["T_STRING","keys",151],"(",["T_ARRAY","array",151],"(",["T_CONSTANT_ENCAPSED_STRING","'sid'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$string",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getId",151],"(",")",",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'type'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$type",151],",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'name'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$name",151],")",")",["T_WHITESPACE","\n              ",151],["T_OBJECT_OPERATOR","->",152],["T_STRING","fields",152],"(",["T_ARRAY","array",152],"(",["T_CONSTANT_ENCAPSED_STRING","'version'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_NS_SEPARATOR","\\",152],["T_STRING","Drupal",152],["T_DOUBLE_COLON","::",152],["T_STRING","VERSION",152],")",")",["T_WHITESPACE","\n              ",152],["T_OBJECT_OPERATOR","->",153],["T_STRING","execute",153],"(",")",";",["T_WHITESPACE","\n            ",153],["T_VARIABLE","$created",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","TRUE",154],";",["T_WHITESPACE","\n          ",154],"}",["T_WHITESPACE","\n          ",155],["T_COMMENT","\/\/ Loaded locations have 'lid' integer value, nor FALSE, nor TRUE.\n",156],["T_WHITESPACE","        ",157],"}",["T_WHITESPACE","\n      ",157],"}",["T_WHITESPACE","\n      ",158],["T_IF","if",159],["T_WHITESPACE"," ",159],"(",["T_VARIABLE","$created",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n        ",159],["T_COMMENT","\/\/ As we've set a new location, check string version too.\n",160],["T_WHITESPACE","        ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","checkVersion",161],"(",["T_VARIABLE","$string",161],",",["T_WHITESPACE"," ",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Drupal",161],["T_DOUBLE_COLON","::",161],["T_STRING","VERSION",161],")",";",["T_WHITESPACE","\n      ",161],"}",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n  ",163],"}",["T_WHITESPACE","\n\n  ",164],["T_DOC_COMMENT","\/**\n   * Checks whether the string version matches a given version, fix it if not.\n   *\n   * @param \\Drupal\\locale\\StringInterface $string\n   *   The string object.\n   * @param string $version\n   *   Drupal version to check against.\n   *\/",166],["T_WHITESPACE","\n  ",173],["T_PROTECTED","protected",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","checkVersion",174],"(",["T_VARIABLE","$string",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$version",174],")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n    ",174],["T_IF","if",175],["T_WHITESPACE"," ",175],"(",["T_VARIABLE","$string",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getId",175],"(",")",["T_WHITESPACE"," ",175],["T_BOOLEAN_AND","&&",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$string",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getVersion",175],"(",")",["T_WHITESPACE"," ",175],["T_IS_NOT_EQUAL","!=",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$version",175],")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n      ",175],["T_VARIABLE","$string",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","setVersion",176],"(",["T_VARIABLE","$version",176],")",";",["T_WHITESPACE","\n      ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","connection",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","update",177],"(",["T_CONSTANT_ENCAPSED_STRING","'locales_source'",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","options",177],")",["T_WHITESPACE","\n        ",177],["T_OBJECT_OPERATOR","->",178],["T_STRING","condition",178],"(",["T_CONSTANT_ENCAPSED_STRING","'lid'",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$string",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getId",178],"(",")",")",["T_WHITESPACE","\n        ",178],["T_OBJECT_OPERATOR","->",179],["T_STRING","fields",179],"(",["T_ARRAY","array",179],"(",["T_CONSTANT_ENCAPSED_STRING","'version'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$version",179],")",")",["T_WHITESPACE","\n        ",179],["T_OBJECT_OPERATOR","->",180],["T_STRING","execute",180],"(",")",";",["T_WHITESPACE","\n    ",180],"}",["T_WHITESPACE","\n  ",181],"}",["T_WHITESPACE","\n\n  ",182],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",184],["T_WHITESPACE","\n  ",186],["T_PUBLIC","public",187],["T_WHITESPACE"," ",187],["T_FUNCTION","function",187],["T_WHITESPACE"," ",187],["T_STRING","delete",187],"(",["T_VARIABLE","$string",187],")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n    ",187],["T_IF","if",188],["T_WHITESPACE"," ",188],"(",["T_VARIABLE","$keys",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","dbStringKeys",188],"(",["T_VARIABLE","$string",188],")",")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n      ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","dbDelete",189],"(",["T_CONSTANT_ENCAPSED_STRING","'locales_target'",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$keys",189],")",["T_OBJECT_OPERATOR","->",189],["T_STRING","execute",189],"(",")",";",["T_WHITESPACE","\n      ",189],["T_IF","if",190],["T_WHITESPACE"," ",190],"(",["T_VARIABLE","$string",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","isSource",190],"(",")",")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","dbDelete",191],"(",["T_CONSTANT_ENCAPSED_STRING","'locales_source'",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$keys",191],")",["T_OBJECT_OPERATOR","->",191],["T_STRING","execute",191],"(",")",";",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","dbDelete",192],"(",["T_CONSTANT_ENCAPSED_STRING","'locales_location'",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$keys",192],")",["T_OBJECT_OPERATOR","->",192],["T_STRING","execute",192],"(",")",";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$string",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","setId",193],"(",["T_STRING","NULL",193],")",";",["T_WHITESPACE","\n      ",193],"}",["T_WHITESPACE","\n    ",194],"}",["T_WHITESPACE","\n    ",195],["T_ELSE","else",196],["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n      ",196],["T_THROW","throw",197],["T_WHITESPACE"," ",197],["T_NEW","new",197],["T_WHITESPACE"," ",197],["T_STRING","StringStorageException",197],"(",["T_CONSTANT_ENCAPSED_STRING","'The string cannot be deleted because it lacks some key fields: '",197],["T_WHITESPACE"," ",197],".",["T_WHITESPACE"," ",197],["T_VARIABLE","$string",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getString",197],"(",")",")",";",["T_WHITESPACE","\n    ",197],"}",["T_WHITESPACE","\n    ",198],["T_RETURN","return",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],";",["T_WHITESPACE","\n  ",199],"}",["T_WHITESPACE","\n\n  ",200],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",202],["T_WHITESPACE","\n  ",204],["T_PUBLIC","public",205],["T_WHITESPACE"," ",205],["T_FUNCTION","function",205],["T_WHITESPACE"," ",205],["T_STRING","deleteStrings",205],"(",["T_VARIABLE","$conditions",205],")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n    ",205],["T_VARIABLE","$lids",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","dbStringSelect",206],"(",["T_VARIABLE","$conditions",206],",",["T_WHITESPACE"," ",206],["T_ARRAY","array",206],"(",["T_CONSTANT_ENCAPSED_STRING","'fields'",206],["T_WHITESPACE"," ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_ARRAY","array",206],"(",["T_CONSTANT_ENCAPSED_STRING","'lid'",206],")",")",")",["T_OBJECT_OPERATOR","->",206],["T_STRING","execute",206],"(",")",["T_OBJECT_OPERATOR","->",206],["T_STRING","fetchCol",206],"(",")",";",["T_WHITESPACE","\n    ",206],["T_IF","if",207],["T_WHITESPACE"," ",207],"(",["T_VARIABLE","$lids",207],")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n      ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","dbDelete",208],"(",["T_CONSTANT_ENCAPSED_STRING","'locales_target'",208],",",["T_WHITESPACE"," ",208],["T_ARRAY","array",208],"(",["T_CONSTANT_ENCAPSED_STRING","'lid'",208],["T_WHITESPACE"," ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$lids",208],")",")",["T_OBJECT_OPERATOR","->",208],["T_STRING","execute",208],"(",")",";",["T_WHITESPACE","\n      ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","dbDelete",209],"(",["T_CONSTANT_ENCAPSED_STRING","'locales_source'",209],",",["T_WHITESPACE"," ",209],["T_ARRAY","array",209],"(",["T_CONSTANT_ENCAPSED_STRING","'lid'",209],["T_WHITESPACE"," ",209],["T_DOUBLE_ARROW","=>",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$lids",209],")",")",["T_OBJECT_OPERATOR","->",209],["T_STRING","execute",209],"(",")",";",["T_WHITESPACE","\n      ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","dbDelete",210],"(",["T_CONSTANT_ENCAPSED_STRING","'locales_location'",210],",",["T_WHITESPACE"," ",210],["T_ARRAY","array",210],"(",["T_CONSTANT_ENCAPSED_STRING","'sid'",210],["T_WHITESPACE"," ",210],["T_DOUBLE_ARROW","=>",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$lids",210],")",")",["T_OBJECT_OPERATOR","->",210],["T_STRING","execute",210],"(",")",";",["T_WHITESPACE","\n    ",210],"}",["T_WHITESPACE","\n  ",211],"}",["T_WHITESPACE","\n\n  ",212],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",214],["T_WHITESPACE","\n  ",216],["T_PUBLIC","public",217],["T_WHITESPACE"," ",217],["T_FUNCTION","function",217],["T_WHITESPACE"," ",217],["T_STRING","deleteTranslations",217],"(",["T_VARIABLE","$conditions",217],")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n    ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","dbDelete",218],"(",["T_CONSTANT_ENCAPSED_STRING","'locales_target'",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$conditions",218],")",["T_OBJECT_OPERATOR","->",218],["T_STRING","execute",218],"(",")",";",["T_WHITESPACE","\n  ",218],"}",["T_WHITESPACE","\n\n  ",219],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",221],["T_WHITESPACE","\n  ",223],["T_PUBLIC","public",224],["T_WHITESPACE"," ",224],["T_FUNCTION","function",224],["T_WHITESPACE"," ",224],["T_STRING","createString",224],"(",["T_VARIABLE","$values",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_ARRAY","array",224],"(",")",")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n    ",224],["T_RETURN","return",225],["T_WHITESPACE"," ",225],["T_NEW","new",225],["T_WHITESPACE"," ",225],["T_STRING","SourceString",225],"(",["T_VARIABLE","$values",225],["T_WHITESPACE"," ",225],"+",["T_WHITESPACE"," ",225],["T_ARRAY","array",225],"(",["T_CONSTANT_ENCAPSED_STRING","'storage'",225],["T_WHITESPACE"," ",225],["T_DOUBLE_ARROW","=>",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$this",225],")",")",";",["T_WHITESPACE","\n  ",225],"}",["T_WHITESPACE","\n\n  ",226],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",228],["T_WHITESPACE","\n  ",230],["T_PUBLIC","public",231],["T_WHITESPACE"," ",231],["T_FUNCTION","function",231],["T_WHITESPACE"," ",231],["T_STRING","createTranslation",231],"(",["T_VARIABLE","$values",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_ARRAY","array",231],"(",")",")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n    ",231],["T_RETURN","return",232],["T_WHITESPACE"," ",232],["T_NEW","new",232],["T_WHITESPACE"," ",232],["T_STRING","TranslationString",232],"(",["T_VARIABLE","$values",232],["T_WHITESPACE"," ",232],"+",["T_WHITESPACE"," ",232],["T_ARRAY","array",232],"(",["T_WHITESPACE","\n      ",232],["T_CONSTANT_ENCAPSED_STRING","'storage'",233],["T_WHITESPACE"," ",233],["T_DOUBLE_ARROW","=>",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],",",["T_WHITESPACE","\n      ",233],["T_CONSTANT_ENCAPSED_STRING","'is_new'",234],["T_WHITESPACE"," ",234],["T_DOUBLE_ARROW","=>",234],["T_WHITESPACE"," ",234],["T_STRING","TRUE",234],",",["T_WHITESPACE","\n    ",234],")",")",";",["T_WHITESPACE","\n  ",235],"}",["T_WHITESPACE","\n\n  ",236],["T_DOC_COMMENT","\/**\n   * Gets table alias for field.\n   *\n   * @param string $field\n   *   One of the field names of the locales_source, locates_location,\n   *   locales_target tables to find the table alias for.\n   *\n   * @return string\n   *   One of the following values:\n   *   - 's' for \"source\", \"context\", \"version\" (locales_source table fields).\n   *   - 'l' for \"type\", \"name\" (locales_location table fields)\n   *   - 't' for \"language\", \"translation\", \"customized\" (locales_target\n   *     table fields)\n   *\/",238],["T_WHITESPACE","\n  ",251],["T_PROTECTED","protected",252],["T_WHITESPACE"," ",252],["T_FUNCTION","function",252],["T_WHITESPACE"," ",252],["T_STRING","dbFieldTable",252],"(",["T_VARIABLE","$field",252],")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n    ",252],["T_IF","if",253],["T_WHITESPACE"," ",253],"(",["T_STRING","in_array",253],"(",["T_VARIABLE","$field",253],",",["T_WHITESPACE"," ",253],["T_ARRAY","array",253],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",253],",",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'translation'",253],",",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'customized'",253],")",")",")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n      ",253],["T_RETURN","return",254],["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'t'",254],";",["T_WHITESPACE","\n    ",254],"}",["T_WHITESPACE","\n    ",255],["T_ELSEIF","elseif",256],["T_WHITESPACE"," ",256],"(",["T_STRING","in_array",256],"(",["T_VARIABLE","$field",256],",",["T_WHITESPACE"," ",256],["T_ARRAY","array",256],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",256],",",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'name'",256],")",")",")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n      ",256],["T_RETURN","return",257],["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'l'",257],";",["T_WHITESPACE","\n    ",257],"}",["T_WHITESPACE","\n    ",258],["T_ELSE","else",259],["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n      ",259],["T_RETURN","return",260],["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'s'",260],";",["T_WHITESPACE","\n    ",260],"}",["T_WHITESPACE","\n  ",261],"}",["T_WHITESPACE","\n\n  ",262],["T_DOC_COMMENT","\/**\n   * Gets table name for storing string object.\n   *\n   * @param \\Drupal\\locale\\StringInterface $string\n   *   The string object.\n   *\n   * @return string\n   *   The table name.\n   *\/",264],["T_WHITESPACE","\n  ",272],["T_PROTECTED","protected",273],["T_WHITESPACE"," ",273],["T_FUNCTION","function",273],["T_WHITESPACE"," ",273],["T_STRING","dbStringTable",273],"(",["T_VARIABLE","$string",273],")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n    ",273],["T_IF","if",274],["T_WHITESPACE"," ",274],"(",["T_VARIABLE","$string",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","isSource",274],"(",")",")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n      ",274],["T_RETURN","return",275],["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'locales_source'",275],";",["T_WHITESPACE","\n    ",275],"}",["T_WHITESPACE","\n    ",276],["T_ELSEIF","elseif",277],["T_WHITESPACE"," ",277],"(",["T_VARIABLE","$string",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","isTranslation",277],"(",")",")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n      ",277],["T_RETURN","return",278],["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'locales_target'",278],";",["T_WHITESPACE","\n    ",278],"}",["T_WHITESPACE","\n  ",279],"}",["T_WHITESPACE","\n\n  ",280],["T_DOC_COMMENT","\/**\n   * Gets keys values that are in a database table.\n   *\n   * @param \\Drupal\\locale\\StringInterface $string\n   *   The string object.\n   *\n   * @return array\n   *   Array with key fields if the string has all keys, or empty array if not.\n   *\/",282],["T_WHITESPACE","\n  ",290],["T_PROTECTED","protected",291],["T_WHITESPACE"," ",291],["T_FUNCTION","function",291],["T_WHITESPACE"," ",291],["T_STRING","dbStringKeys",291],"(",["T_VARIABLE","$string",291],")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n    ",291],["T_IF","if",292],["T_WHITESPACE"," ",292],"(",["T_VARIABLE","$string",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","isSource",292],"(",")",")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n      ",292],["T_VARIABLE","$keys",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_ARRAY","array",293],"(",["T_CONSTANT_ENCAPSED_STRING","'lid'",293],")",";",["T_WHITESPACE","\n    ",293],"}",["T_WHITESPACE","\n    ",294],["T_ELSEIF","elseif",295],["T_WHITESPACE"," ",295],"(",["T_VARIABLE","$string",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","isTranslation",295],"(",")",")",["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n      ",295],["T_VARIABLE","$keys",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_ARRAY","array",296],"(",["T_CONSTANT_ENCAPSED_STRING","'lid'",296],",",["T_WHITESPACE"," ",296],["T_CONSTANT_ENCAPSED_STRING","'language'",296],")",";",["T_WHITESPACE","\n    ",296],"}",["T_WHITESPACE","\n    ",297],["T_IF","if",298],["T_WHITESPACE"," ",298],"(","!",["T_EMPTY","empty",298],"(",["T_VARIABLE","$keys",298],")",["T_WHITESPACE"," ",298],["T_BOOLEAN_AND","&&",298],["T_WHITESPACE"," ",298],"(",["T_VARIABLE","$values",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_VARIABLE","$string",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","getValues",298],"(",["T_VARIABLE","$keys",298],")",")",["T_WHITESPACE"," ",298],["T_BOOLEAN_AND","&&",298],["T_WHITESPACE"," ",298],["T_STRING","count",298],"(",["T_VARIABLE","$keys",298],")",["T_WHITESPACE"," ",298],["T_IS_EQUAL","==",298],["T_WHITESPACE"," ",298],["T_STRING","count",298],"(",["T_VARIABLE","$values",298],")",")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n      ",298],["T_RETURN","return",299],["T_WHITESPACE"," ",299],["T_VARIABLE","$values",299],";",["T_WHITESPACE","\n    ",299],"}",["T_WHITESPACE","\n    ",300],["T_ELSE","else",301],["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n      ",301],["T_RETURN","return",302],["T_WHITESPACE"," ",302],["T_ARRAY","array",302],"(",")",";",["T_WHITESPACE","\n    ",302],"}",["T_WHITESPACE","\n  ",303],"}",["T_WHITESPACE","\n\n  ",304],["T_DOC_COMMENT","\/**\n   * Loads multiple string objects.\n   *\n   * @param array $conditions\n   *   Any of the conditions used by dbStringSelect().\n   * @param array $options\n   *   Any of the options used by dbStringSelect().\n   * @param string $class\n   *   Class name to use for fetching returned objects.\n   *\n   * @return \\Drupal\\locale\\StringInterface[]\n   *   Array of objects of the class requested.\n   *\/",306],["T_WHITESPACE","\n  ",318],["T_PROTECTED","protected",319],["T_WHITESPACE"," ",319],["T_FUNCTION","function",319],["T_WHITESPACE"," ",319],["T_STRING","dbStringLoad",319],"(",["T_ARRAY","array",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$conditions",319],",",["T_WHITESPACE"," ",319],["T_ARRAY","array",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$options",319],",",["T_WHITESPACE"," ",319],["T_VARIABLE","$class",319],")",["T_WHITESPACE"," ",319],"{",["T_WHITESPACE","\n    ",319],["T_VARIABLE","$strings",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_ARRAY","array",320],"(",")",";",["T_WHITESPACE","\n    ",320],["T_VARIABLE","$result",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","dbStringSelect",321],"(",["T_VARIABLE","$conditions",321],",",["T_WHITESPACE"," ",321],["T_VARIABLE","$options",321],")",["T_OBJECT_OPERATOR","->",321],["T_STRING","execute",321],"(",")",";",["T_WHITESPACE","\n    ",321],["T_FOREACH","foreach",322],["T_WHITESPACE"," ",322],"(",["T_VARIABLE","$result",322],["T_WHITESPACE"," ",322],["T_AS","as",322],["T_WHITESPACE"," ",322],["T_VARIABLE","$item",322],")",["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n      ",322],["T_DOC_COMMENT","\/** @var \\Drupal\\locale\\StringInterface $string *\/",323],["T_WHITESPACE","\n      ",323],["T_VARIABLE","$string",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_NEW","new",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$class",324],"(",["T_VARIABLE","$item",324],")",";",["T_WHITESPACE","\n      ",324],["T_VARIABLE","$string",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","setStorage",325],"(",["T_VARIABLE","$this",325],")",";",["T_WHITESPACE","\n      ",325],["T_VARIABLE","$strings",326],"[","]",["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_VARIABLE","$string",326],";",["T_WHITESPACE","\n    ",326],"}",["T_WHITESPACE","\n    ",327],["T_RETURN","return",328],["T_WHITESPACE"," ",328],["T_VARIABLE","$strings",328],";",["T_WHITESPACE","\n  ",328],"}",["T_WHITESPACE","\n\n  ",329],["T_DOC_COMMENT","\/**\n   * Builds a SELECT query with multiple conditions and fields.\n   *\n   * The query uses both 'locales_source' and 'locales_target' tables.\n   * Note that by default, as we are selecting both translated and untranslated\n   * strings target field's conditions will be modified to match NULL rows too.\n   *\n   * @param array $conditions\n   *   An associative array with field => value conditions that may include\n   *   NULL values. If a language condition is included it will be used for\n   *   joining the 'locales_target' table.\n   * @param array $options\n   *   An associative array of additional options. It may contain any of the\n   *   options used by Drupal\\locale\\StringStorageInterface::getStrings() and\n   *   these additional ones:\n   *   - 'translation', Whether to include translation fields too. Defaults to\n   *     FALSE.\n   *\n   * @return \\Drupal\\Core\\Database\\Query\\Select\n   *   Query object with all the tables, fields and conditions.\n   *\/",331],["T_WHITESPACE","\n  ",351],["T_PROTECTED","protected",352],["T_WHITESPACE"," ",352],["T_FUNCTION","function",352],["T_WHITESPACE"," ",352],["T_STRING","dbStringSelect",352],"(",["T_ARRAY","array",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$conditions",352],",",["T_WHITESPACE"," ",352],["T_ARRAY","array",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$options",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_ARRAY","array",352],"(",")",")",["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n    ",352],["T_COMMENT","\/\/ Start building the query with source table and check whether we need to\n",353],["T_WHITESPACE","    ",354],["T_COMMENT","\/\/ join the target table too.\n",354],["T_WHITESPACE","    ",355],["T_VARIABLE","$query",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","connection",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","select",355],"(",["T_CONSTANT_ENCAPSED_STRING","'locales_source'",355],",",["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","'s'",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","options",355],")",["T_WHITESPACE","\n      ",355],["T_OBJECT_OPERATOR","->",356],["T_STRING","fields",356],"(",["T_CONSTANT_ENCAPSED_STRING","'s'",356],")",";",["T_WHITESPACE","\n\n    ",356],["T_COMMENT","\/\/ Figure out how to join and translate some options into conditions.\n",358],["T_WHITESPACE","    ",359],["T_IF","if",359],["T_WHITESPACE"," ",359],"(",["T_ISSET","isset",359],"(",["T_VARIABLE","$conditions",359],"[",["T_CONSTANT_ENCAPSED_STRING","'translated'",359],"]",")",")",["T_WHITESPACE"," ",359],"{",["T_WHITESPACE","\n      ",359],["T_COMMENT","\/\/ This is a meta-condition we need to translate into simple ones.\n",360],["T_WHITESPACE","      ",361],["T_IF","if",361],["T_WHITESPACE"," ",361],"(",["T_VARIABLE","$conditions",361],"[",["T_CONSTANT_ENCAPSED_STRING","'translated'",361],"]",")",["T_WHITESPACE"," ",361],"{",["T_WHITESPACE","\n        ",361],["T_COMMENT","\/\/ Select only translated strings.\n",362],["T_WHITESPACE","        ",363],["T_VARIABLE","$join",363],["T_WHITESPACE"," ",363],"=",["T_WHITESPACE"," ",363],["T_CONSTANT_ENCAPSED_STRING","'innerJoin'",363],";",["T_WHITESPACE","\n      ",363],"}",["T_WHITESPACE","\n      ",364],["T_ELSE","else",365],["T_WHITESPACE"," ",365],"{",["T_WHITESPACE","\n        ",365],["T_COMMENT","\/\/ Select only untranslated strings.\n",366],["T_WHITESPACE","        ",367],["T_VARIABLE","$join",367],["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_CONSTANT_ENCAPSED_STRING","'leftJoin'",367],";",["T_WHITESPACE","\n        ",367],["T_VARIABLE","$conditions",368],"[",["T_CONSTANT_ENCAPSED_STRING","'translation'",368],"]",["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],["T_STRING","NULL",368],";",["T_WHITESPACE","\n      ",368],"}",["T_WHITESPACE","\n      ",369],["T_UNSET","unset",370],"(",["T_VARIABLE","$conditions",370],"[",["T_CONSTANT_ENCAPSED_STRING","'translated'",370],"]",")",";",["T_WHITESPACE","\n    ",370],"}",["T_WHITESPACE","\n    ",371],["T_ELSE","else",372],["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n      ",372],["T_VARIABLE","$join",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],"!",["T_EMPTY","empty",373],"(",["T_VARIABLE","$options",373],"[",["T_CONSTANT_ENCAPSED_STRING","'translation'",373],"]",")",["T_WHITESPACE"," ",373],"?",["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","'leftJoin'",373],["T_WHITESPACE"," ",373],":",["T_WHITESPACE"," ",373],["T_STRING","FALSE",373],";",["T_WHITESPACE","\n    ",373],"}",["T_WHITESPACE","\n\n    ",374],["T_IF","if",376],["T_WHITESPACE"," ",376],"(",["T_VARIABLE","$join",376],")",["T_WHITESPACE"," ",376],"{",["T_WHITESPACE","\n      ",376],["T_IF","if",377],["T_WHITESPACE"," ",377],"(",["T_ISSET","isset",377],"(",["T_VARIABLE","$conditions",377],"[",["T_CONSTANT_ENCAPSED_STRING","'language'",377],"]",")",")",["T_WHITESPACE"," ",377],"{",["T_WHITESPACE","\n        ",377],["T_COMMENT","\/\/ If we've got a language condition, we use it for the join.\n",378],["T_WHITESPACE","        ",379],["T_VARIABLE","$query",379],["T_OBJECT_OPERATOR","->",379],["T_VARIABLE","$join",379],"(",["T_CONSTANT_ENCAPSED_STRING","'locales_target'",379],",",["T_WHITESPACE"," ",379],["T_CONSTANT_ENCAPSED_STRING","'t'",379],",",["T_WHITESPACE"," ",379],["T_CONSTANT_ENCAPSED_STRING","\"t.lid = s.lid AND t.language = :langcode\"",379],",",["T_WHITESPACE"," ",379],["T_ARRAY","array",379],"(",["T_WHITESPACE","\n          ",379],["T_CONSTANT_ENCAPSED_STRING","':langcode'",380],["T_WHITESPACE"," ",380],["T_DOUBLE_ARROW","=>",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$conditions",380],"[",["T_CONSTANT_ENCAPSED_STRING","'language'",380],"]",",",["T_WHITESPACE","\n        ",380],")",")",";",["T_WHITESPACE","\n        ",381],["T_UNSET","unset",382],"(",["T_VARIABLE","$conditions",382],"[",["T_CONSTANT_ENCAPSED_STRING","'language'",382],"]",")",";",["T_WHITESPACE","\n      ",382],"}",["T_WHITESPACE","\n      ",383],["T_ELSE","else",384],["T_WHITESPACE"," ",384],"{",["T_WHITESPACE","\n        ",384],["T_COMMENT","\/\/ Since we don't have a language, join with locale id only.\n",385],["T_WHITESPACE","        ",386],["T_VARIABLE","$query",386],["T_OBJECT_OPERATOR","->",386],["T_VARIABLE","$join",386],"(",["T_CONSTANT_ENCAPSED_STRING","'locales_target'",386],",",["T_WHITESPACE"," ",386],["T_CONSTANT_ENCAPSED_STRING","'t'",386],",",["T_WHITESPACE"," ",386],["T_CONSTANT_ENCAPSED_STRING","\"t.lid = s.lid\"",386],")",";",["T_WHITESPACE","\n      ",386],"}",["T_WHITESPACE","\n      ",387],["T_IF","if",388],["T_WHITESPACE"," ",388],"(","!",["T_EMPTY","empty",388],"(",["T_VARIABLE","$options",388],"[",["T_CONSTANT_ENCAPSED_STRING","'translation'",388],"]",")",")",["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n        ",388],["T_COMMENT","\/\/ We cannot just add all fields because 'lid' may get null values.\n",389],["T_WHITESPACE","        ",390],["T_VARIABLE","$query",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","fields",390],"(",["T_CONSTANT_ENCAPSED_STRING","'t'",390],",",["T_WHITESPACE"," ",390],["T_ARRAY","array",390],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",390],",",["T_WHITESPACE"," ",390],["T_CONSTANT_ENCAPSED_STRING","'translation'",390],",",["T_WHITESPACE"," ",390],["T_CONSTANT_ENCAPSED_STRING","'customized'",390],")",")",";",["T_WHITESPACE","\n      ",390],"}",["T_WHITESPACE","\n    ",391],"}",["T_WHITESPACE","\n\n    ",392],["T_COMMENT","\/\/ If we have conditions for location's type or name, then we need the\n",394],["T_WHITESPACE","    ",395],["T_COMMENT","\/\/ location table, for which we add a subquery. We cast any scalar value to\n",395],["T_WHITESPACE","    ",396],["T_COMMENT","\/\/ array so we can consistently use IN conditions.\n",396],["T_WHITESPACE","    ",397],["T_IF","if",397],["T_WHITESPACE"," ",397],"(",["T_ISSET","isset",397],"(",["T_VARIABLE","$conditions",397],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",397],"]",")",["T_WHITESPACE"," ",397],["T_BOOLEAN_OR","||",397],["T_WHITESPACE"," ",397],["T_ISSET","isset",397],"(",["T_VARIABLE","$conditions",397],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",397],"]",")",")",["T_WHITESPACE"," ",397],"{",["T_WHITESPACE","\n      ",397],["T_VARIABLE","$subquery",398],["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","connection",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","select",398],"(",["T_CONSTANT_ENCAPSED_STRING","'locales_location'",398],",",["T_WHITESPACE"," ",398],["T_CONSTANT_ENCAPSED_STRING","'l'",398],",",["T_WHITESPACE"," ",398],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","options",398],")",["T_WHITESPACE","\n        ",398],["T_OBJECT_OPERATOR","->",399],["T_STRING","fields",399],"(",["T_CONSTANT_ENCAPSED_STRING","'l'",399],",",["T_WHITESPACE"," ",399],["T_ARRAY","array",399],"(",["T_CONSTANT_ENCAPSED_STRING","'sid'",399],")",")",";",["T_WHITESPACE","\n      ",399],["T_FOREACH","foreach",400],["T_WHITESPACE"," ",400],"(",["T_ARRAY","array",400],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",400],",",["T_WHITESPACE"," ",400],["T_CONSTANT_ENCAPSED_STRING","'name'",400],")",["T_WHITESPACE"," ",400],["T_AS","as",400],["T_WHITESPACE"," ",400],["T_VARIABLE","$field",400],")",["T_WHITESPACE"," ",400],"{",["T_WHITESPACE","\n        ",400],["T_IF","if",401],["T_WHITESPACE"," ",401],"(",["T_ISSET","isset",401],"(",["T_VARIABLE","$conditions",401],"[",["T_VARIABLE","$field",401],"]",")",")",["T_WHITESPACE"," ",401],"{",["T_WHITESPACE","\n          ",401],["T_VARIABLE","$subquery",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","condition",402],"(",["T_CONSTANT_ENCAPSED_STRING","'l.'",402],["T_WHITESPACE"," ",402],".",["T_WHITESPACE"," ",402],["T_VARIABLE","$field",402],",",["T_WHITESPACE"," ",402],["T_ARRAY_CAST","(array)",402],["T_WHITESPACE"," ",402],["T_VARIABLE","$conditions",402],"[",["T_VARIABLE","$field",402],"]",",",["T_WHITESPACE"," ",402],["T_CONSTANT_ENCAPSED_STRING","'IN'",402],")",";",["T_WHITESPACE","\n          ",402],["T_UNSET","unset",403],"(",["T_VARIABLE","$conditions",403],"[",["T_VARIABLE","$field",403],"]",")",";",["T_WHITESPACE","\n        ",403],"}",["T_WHITESPACE","\n      ",404],"}",["T_WHITESPACE","\n      ",405],["T_VARIABLE","$query",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","condition",406],"(",["T_CONSTANT_ENCAPSED_STRING","'s.lid'",406],",",["T_WHITESPACE"," ",406],["T_VARIABLE","$subquery",406],",",["T_WHITESPACE"," ",406],["T_CONSTANT_ENCAPSED_STRING","'IN'",406],")",";",["T_WHITESPACE","\n    ",406],"}",["T_WHITESPACE","\n\n    ",407],["T_COMMENT","\/\/ Add conditions for both tables.\n",409],["T_WHITESPACE","    ",410],["T_FOREACH","foreach",410],["T_WHITESPACE"," ",410],"(",["T_VARIABLE","$conditions",410],["T_WHITESPACE"," ",410],["T_AS","as",410],["T_WHITESPACE"," ",410],["T_VARIABLE","$field",410],["T_WHITESPACE"," ",410],["T_DOUBLE_ARROW","=>",410],["T_WHITESPACE"," ",410],["T_VARIABLE","$value",410],")",["T_WHITESPACE"," ",410],"{",["T_WHITESPACE","\n      ",410],["T_VARIABLE","$table_alias",411],["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","dbFieldTable",411],"(",["T_VARIABLE","$field",411],")",";",["T_WHITESPACE","\n      ",411],["T_VARIABLE","$field_alias",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_VARIABLE","$table_alias",412],["T_WHITESPACE"," ",412],".",["T_WHITESPACE"," ",412],["T_CONSTANT_ENCAPSED_STRING","'.'",412],["T_WHITESPACE"," ",412],".",["T_WHITESPACE"," ",412],["T_VARIABLE","$field",412],";",["T_WHITESPACE","\n      ",412],["T_IF","if",413],["T_WHITESPACE"," ",413],"(",["T_STRING","is_null",413],"(",["T_VARIABLE","$value",413],")",")",["T_WHITESPACE"," ",413],"{",["T_WHITESPACE","\n        ",413],["T_VARIABLE","$query",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","isNull",414],"(",["T_VARIABLE","$field_alias",414],")",";",["T_WHITESPACE","\n      ",414],"}",["T_WHITESPACE","\n      ",415],["T_ELSEIF","elseif",416],["T_WHITESPACE"," ",416],"(",["T_VARIABLE","$table_alias",416],["T_WHITESPACE"," ",416],["T_IS_EQUAL","==",416],["T_WHITESPACE"," ",416],["T_CONSTANT_ENCAPSED_STRING","'t'",416],["T_WHITESPACE"," ",416],["T_BOOLEAN_AND","&&",416],["T_WHITESPACE"," ",416],["T_VARIABLE","$join",416],["T_WHITESPACE"," ",416],["T_IS_IDENTICAL","===",416],["T_WHITESPACE"," ",416],["T_CONSTANT_ENCAPSED_STRING","'leftJoin'",416],")",["T_WHITESPACE"," ",416],"{",["T_WHITESPACE","\n        ",416],["T_COMMENT","\/\/ Conditions for target fields when doing an outer join only make\n",417],["T_WHITESPACE","        ",418],["T_COMMENT","\/\/ sense if we add also OR field IS NULL.\n",418],["T_WHITESPACE","        ",419],["T_VARIABLE","$query",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","condition",419],"(",["T_STRING","db_or",419],"(",")",["T_WHITESPACE","\n            ",419],["T_OBJECT_OPERATOR","->",420],["T_STRING","condition",420],"(",["T_VARIABLE","$field_alias",420],",",["T_WHITESPACE"," ",420],["T_ARRAY_CAST","(array)",420],["T_WHITESPACE"," ",420],["T_VARIABLE","$value",420],",",["T_WHITESPACE"," ",420],["T_CONSTANT_ENCAPSED_STRING","'IN'",420],")",["T_WHITESPACE","\n            ",420],["T_OBJECT_OPERATOR","->",421],["T_STRING","isNull",421],"(",["T_VARIABLE","$field_alias",421],")",["T_WHITESPACE","\n        ",421],")",";",["T_WHITESPACE","\n      ",422],"}",["T_WHITESPACE","\n      ",423],["T_ELSE","else",424],["T_WHITESPACE"," ",424],"{",["T_WHITESPACE","\n        ",424],["T_VARIABLE","$query",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","condition",425],"(",["T_VARIABLE","$field_alias",425],",",["T_WHITESPACE"," ",425],["T_ARRAY_CAST","(array)",425],["T_WHITESPACE"," ",425],["T_VARIABLE","$value",425],",",["T_WHITESPACE"," ",425],["T_CONSTANT_ENCAPSED_STRING","'IN'",425],")",";",["T_WHITESPACE","\n      ",425],"}",["T_WHITESPACE","\n    ",426],"}",["T_WHITESPACE","\n\n    ",427],["T_COMMENT","\/\/ Process other options, string filter, query limit, etc.\n",429],["T_WHITESPACE","    ",430],["T_IF","if",430],["T_WHITESPACE"," ",430],"(","!",["T_EMPTY","empty",430],"(",["T_VARIABLE","$options",430],"[",["T_CONSTANT_ENCAPSED_STRING","'filters'",430],"]",")",")",["T_WHITESPACE"," ",430],"{",["T_WHITESPACE","\n      ",430],["T_IF","if",431],["T_WHITESPACE"," ",431],"(",["T_STRING","count",431],"(",["T_VARIABLE","$options",431],"[",["T_CONSTANT_ENCAPSED_STRING","'filters'",431],"]",")",["T_WHITESPACE"," ",431],">",["T_WHITESPACE"," ",431],["T_LNUMBER","1",431],")",["T_WHITESPACE"," ",431],"{",["T_WHITESPACE","\n        ",431],["T_VARIABLE","$filter",432],["T_WHITESPACE"," ",432],"=",["T_WHITESPACE"," ",432],["T_STRING","db_or",432],"(",")",";",["T_WHITESPACE","\n        ",432],["T_VARIABLE","$query",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","condition",433],"(",["T_VARIABLE","$filter",433],")",";",["T_WHITESPACE","\n      ",433],"}",["T_WHITESPACE","\n      ",434],["T_ELSE","else",435],["T_WHITESPACE"," ",435],"{",["T_WHITESPACE","\n        ",435],["T_COMMENT","\/\/ If we have a single filter, just add it to the query.\n",436],["T_WHITESPACE","        ",437],["T_VARIABLE","$filter",437],["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],["T_VARIABLE","$query",437],";",["T_WHITESPACE","\n      ",437],"}",["T_WHITESPACE","\n      ",438],["T_FOREACH","foreach",439],["T_WHITESPACE"," ",439],"(",["T_VARIABLE","$options",439],"[",["T_CONSTANT_ENCAPSED_STRING","'filters'",439],"]",["T_WHITESPACE"," ",439],["T_AS","as",439],["T_WHITESPACE"," ",439],["T_VARIABLE","$field",439],["T_WHITESPACE"," ",439],["T_DOUBLE_ARROW","=>",439],["T_WHITESPACE"," ",439],["T_VARIABLE","$string",439],")",["T_WHITESPACE"," ",439],"{",["T_WHITESPACE","\n        ",439],["T_VARIABLE","$filter",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","condition",440],"(",["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","dbFieldTable",440],"(",["T_VARIABLE","$field",440],")",["T_WHITESPACE"," ",440],".",["T_WHITESPACE"," ",440],["T_CONSTANT_ENCAPSED_STRING","'.'",440],["T_WHITESPACE"," ",440],".",["T_WHITESPACE"," ",440],["T_VARIABLE","$field",440],",",["T_WHITESPACE"," ",440],["T_CONSTANT_ENCAPSED_STRING","'%'",440],["T_WHITESPACE"," ",440],".",["T_WHITESPACE"," ",440],["T_STRING","db_like",440],"(",["T_VARIABLE","$string",440],")",["T_WHITESPACE"," ",440],".",["T_WHITESPACE"," ",440],["T_CONSTANT_ENCAPSED_STRING","'%'",440],",",["T_WHITESPACE"," ",440],["T_CONSTANT_ENCAPSED_STRING","'LIKE'",440],")",";",["T_WHITESPACE","\n      ",440],"}",["T_WHITESPACE","\n    ",441],"}",["T_WHITESPACE","\n\n    ",442],["T_IF","if",444],["T_WHITESPACE"," ",444],"(","!",["T_EMPTY","empty",444],"(",["T_VARIABLE","$options",444],"[",["T_CONSTANT_ENCAPSED_STRING","'pager limit'",444],"]",")",")",["T_WHITESPACE"," ",444],"{",["T_WHITESPACE","\n      ",444],["T_VARIABLE","$query",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_VARIABLE","$query",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","extend",445],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Database\\Query\\PagerSelectExtender'",445],")",["T_OBJECT_OPERATOR","->",445],["T_STRING","limit",445],"(",["T_VARIABLE","$options",445],"[",["T_CONSTANT_ENCAPSED_STRING","'pager limit'",445],"]",")",";",["T_WHITESPACE","\n    ",445],"}",["T_WHITESPACE","\n\n    ",446],["T_RETURN","return",448],["T_WHITESPACE"," ",448],["T_VARIABLE","$query",448],";",["T_WHITESPACE","\n  ",448],"}",["T_WHITESPACE","\n\n  ",449],["T_DOC_COMMENT","\/**\n   * Creates a database record for a string object.\n   *\n   * @param \\Drupal\\locale\\StringInterface $string\n   *   The string object.\n   *\n   * @return bool|int\n   *   If the operation failed, returns FALSE.\n   *   If it succeeded returns the last insert ID of the query, if one exists.\n   *\n   * @throws \\Drupal\\locale\\StringStorageException\n   *   If the string is not suitable for this storage, an exception is thrown.\n   *\/",451],["T_WHITESPACE","\n  ",463],["T_PROTECTED","protected",464],["T_WHITESPACE"," ",464],["T_FUNCTION","function",464],["T_WHITESPACE"," ",464],["T_STRING","dbStringInsert",464],"(",["T_VARIABLE","$string",464],")",["T_WHITESPACE"," ",464],"{",["T_WHITESPACE","\n    ",464],["T_IF","if",465],["T_WHITESPACE"," ",465],"(",["T_VARIABLE","$string",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","isSource",465],"(",")",")",["T_WHITESPACE"," ",465],"{",["T_WHITESPACE","\n      ",465],["T_VARIABLE","$string",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","setValues",466],"(",["T_ARRAY","array",466],"(",["T_CONSTANT_ENCAPSED_STRING","'context'",466],["T_WHITESPACE"," ",466],["T_DOUBLE_ARROW","=>",466],["T_WHITESPACE"," ",466],["T_CONSTANT_ENCAPSED_STRING","''",466],",",["T_WHITESPACE"," ",466],["T_CONSTANT_ENCAPSED_STRING","'version'",466],["T_WHITESPACE"," ",466],["T_DOUBLE_ARROW","=>",466],["T_WHITESPACE"," ",466],["T_CONSTANT_ENCAPSED_STRING","'none'",466],")",",",["T_WHITESPACE"," ",466],["T_STRING","FALSE",466],")",";",["T_WHITESPACE","\n      ",466],["T_VARIABLE","$fields",467],["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_VARIABLE","$string",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","getValues",467],"(",["T_ARRAY","array",467],"(",["T_CONSTANT_ENCAPSED_STRING","'source'",467],",",["T_WHITESPACE"," ",467],["T_CONSTANT_ENCAPSED_STRING","'context'",467],",",["T_WHITESPACE"," ",467],["T_CONSTANT_ENCAPSED_STRING","'version'",467],")",")",";",["T_WHITESPACE","\n    ",467],"}",["T_WHITESPACE","\n    ",468],["T_ELSEIF","elseif",469],["T_WHITESPACE"," ",469],"(",["T_VARIABLE","$string",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","isTranslation",469],"(",")",")",["T_WHITESPACE"," ",469],"{",["T_WHITESPACE","\n      ",469],["T_VARIABLE","$string",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","setValues",470],"(",["T_ARRAY","array",470],"(",["T_CONSTANT_ENCAPSED_STRING","'customized'",470],["T_WHITESPACE"," ",470],["T_DOUBLE_ARROW","=>",470],["T_WHITESPACE"," ",470],["T_LNUMBER","0",470],")",",",["T_WHITESPACE"," ",470],["T_STRING","FALSE",470],")",";",["T_WHITESPACE","\n      ",470],["T_VARIABLE","$fields",471],["T_WHITESPACE"," ",471],"=",["T_WHITESPACE"," ",471],["T_VARIABLE","$string",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","getValues",471],"(",["T_ARRAY","array",471],"(",["T_CONSTANT_ENCAPSED_STRING","'lid'",471],",",["T_WHITESPACE"," ",471],["T_CONSTANT_ENCAPSED_STRING","'language'",471],",",["T_WHITESPACE"," ",471],["T_CONSTANT_ENCAPSED_STRING","'translation'",471],",",["T_WHITESPACE"," ",471],["T_CONSTANT_ENCAPSED_STRING","'customized'",471],")",")",";",["T_WHITESPACE","\n    ",471],"}",["T_WHITESPACE","\n    ",472],["T_IF","if",473],["T_WHITESPACE"," ",473],"(","!",["T_EMPTY","empty",473],"(",["T_VARIABLE","$fields",473],")",")",["T_WHITESPACE"," ",473],"{",["T_WHITESPACE","\n      ",473],["T_RETURN","return",474],["T_WHITESPACE"," ",474],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","connection",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","insert",474],"(",["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","dbStringTable",474],"(",["T_VARIABLE","$string",474],")",",",["T_WHITESPACE"," ",474],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","options",474],")",["T_WHITESPACE","\n        ",474],["T_OBJECT_OPERATOR","->",475],["T_STRING","fields",475],"(",["T_VARIABLE","$fields",475],")",["T_WHITESPACE","\n        ",475],["T_OBJECT_OPERATOR","->",476],["T_STRING","execute",476],"(",")",";",["T_WHITESPACE","\n    ",476],"}",["T_WHITESPACE","\n    ",477],["T_ELSE","else",478],["T_WHITESPACE"," ",478],"{",["T_WHITESPACE","\n      ",478],["T_THROW","throw",479],["T_WHITESPACE"," ",479],["T_NEW","new",479],["T_WHITESPACE"," ",479],["T_STRING","StringStorageException",479],"(",["T_CONSTANT_ENCAPSED_STRING","'The string cannot be saved: '",479],["T_WHITESPACE"," ",479],".",["T_WHITESPACE"," ",479],["T_VARIABLE","$string",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","getString",479],"(",")",")",";",["T_WHITESPACE","\n    ",479],"}",["T_WHITESPACE","\n  ",480],"}",["T_WHITESPACE","\n\n  ",481],["T_DOC_COMMENT","\/**\n   * Updates string object in the database.\n   *\n   * @param \\Drupal\\locale\\StringInterface $string\n   *   The string object.\n   *\n   * @return bool|int\n   *   If the record update failed, returns FALSE. If it succeeded, returns\n   *   SAVED_NEW or SAVED_UPDATED.\n   *\n   * @throws \\Drupal\\locale\\StringStorageException\n   *   If the string is not suitable for this storage, an exception is thrown.\n   *\/",483],["T_WHITESPACE","\n  ",495],["T_PROTECTED","protected",496],["T_WHITESPACE"," ",496],["T_FUNCTION","function",496],["T_WHITESPACE"," ",496],["T_STRING","dbStringUpdate",496],"(",["T_VARIABLE","$string",496],")",["T_WHITESPACE"," ",496],"{",["T_WHITESPACE","\n    ",496],["T_IF","if",497],["T_WHITESPACE"," ",497],"(",["T_VARIABLE","$string",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","isSource",497],"(",")",")",["T_WHITESPACE"," ",497],"{",["T_WHITESPACE","\n      ",497],["T_VARIABLE","$values",498],["T_WHITESPACE"," ",498],"=",["T_WHITESPACE"," ",498],["T_VARIABLE","$string",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","getValues",498],"(",["T_ARRAY","array",498],"(",["T_CONSTANT_ENCAPSED_STRING","'source'",498],",",["T_WHITESPACE"," ",498],["T_CONSTANT_ENCAPSED_STRING","'context'",498],",",["T_WHITESPACE"," ",498],["T_CONSTANT_ENCAPSED_STRING","'version'",498],")",")",";",["T_WHITESPACE","\n    ",498],"}",["T_WHITESPACE","\n    ",499],["T_ELSEIF","elseif",500],["T_WHITESPACE"," ",500],"(",["T_VARIABLE","$string",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","isTranslation",500],"(",")",")",["T_WHITESPACE"," ",500],"{",["T_WHITESPACE","\n      ",500],["T_VARIABLE","$values",501],["T_WHITESPACE"," ",501],"=",["T_WHITESPACE"," ",501],["T_VARIABLE","$string",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","getValues",501],"(",["T_ARRAY","array",501],"(",["T_CONSTANT_ENCAPSED_STRING","'translation'",501],",",["T_WHITESPACE"," ",501],["T_CONSTANT_ENCAPSED_STRING","'customized'",501],")",")",";",["T_WHITESPACE","\n    ",501],"}",["T_WHITESPACE","\n    ",502],["T_IF","if",503],["T_WHITESPACE"," ",503],"(","!",["T_EMPTY","empty",503],"(",["T_VARIABLE","$values",503],")",["T_WHITESPACE"," ",503],["T_BOOLEAN_AND","&&",503],["T_WHITESPACE"," ",503],["T_VARIABLE","$keys",503],["T_WHITESPACE"," ",503],"=",["T_WHITESPACE"," ",503],["T_VARIABLE","$this",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","dbStringKeys",503],"(",["T_VARIABLE","$string",503],")",")",["T_WHITESPACE"," ",503],"{",["T_WHITESPACE","\n      ",503],["T_RETURN","return",504],["T_WHITESPACE"," ",504],["T_VARIABLE","$this",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","connection",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","merge",504],"(",["T_VARIABLE","$this",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","dbStringTable",504],"(",["T_VARIABLE","$string",504],")",",",["T_WHITESPACE"," ",504],["T_VARIABLE","$this",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","options",504],")",["T_WHITESPACE","\n        ",504],["T_OBJECT_OPERATOR","->",505],["T_STRING","keys",505],"(",["T_VARIABLE","$keys",505],")",["T_WHITESPACE","\n        ",505],["T_OBJECT_OPERATOR","->",506],["T_STRING","fields",506],"(",["T_VARIABLE","$values",506],")",["T_WHITESPACE","\n        ",506],["T_OBJECT_OPERATOR","->",507],["T_STRING","execute",507],"(",")",";",["T_WHITESPACE","\n    ",507],"}",["T_WHITESPACE","\n    ",508],["T_ELSE","else",509],["T_WHITESPACE"," ",509],"{",["T_WHITESPACE","\n      ",509],["T_THROW","throw",510],["T_WHITESPACE"," ",510],["T_NEW","new",510],["T_WHITESPACE"," ",510],["T_STRING","StringStorageException",510],"(",["T_CONSTANT_ENCAPSED_STRING","'The string cannot be updated: '",510],["T_WHITESPACE"," ",510],".",["T_WHITESPACE"," ",510],["T_VARIABLE","$string",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","getString",510],"(",")",")",";",["T_WHITESPACE","\n    ",510],"}",["T_WHITESPACE","\n  ",511],"}",["T_WHITESPACE","\n\n  ",512],["T_DOC_COMMENT","\/**\n   * Creates delete query.\n   *\n   * @param string $table\n   *   The table name.\n   * @param array $keys\n   *   Array with object keys indexed by field name.\n   *\n   * @return \\Drupal\\Core\\Database\\Query\\Delete\n   *   Returns a new Delete object for the injected database connection.\n   *\/",514],["T_WHITESPACE","\n  ",524],["T_PROTECTED","protected",525],["T_WHITESPACE"," ",525],["T_FUNCTION","function",525],["T_WHITESPACE"," ",525],["T_STRING","dbDelete",525],"(",["T_VARIABLE","$table",525],",",["T_WHITESPACE"," ",525],["T_VARIABLE","$keys",525],")",["T_WHITESPACE"," ",525],"{",["T_WHITESPACE","\n    ",525],["T_VARIABLE","$query",526],["T_WHITESPACE"," ",526],"=",["T_WHITESPACE"," ",526],["T_VARIABLE","$this",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","connection",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","delete",526],"(",["T_VARIABLE","$table",526],",",["T_WHITESPACE"," ",526],["T_VARIABLE","$this",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","options",526],")",";",["T_WHITESPACE","\n    ",526],["T_FOREACH","foreach",527],["T_WHITESPACE"," ",527],"(",["T_VARIABLE","$keys",527],["T_WHITESPACE"," ",527],["T_AS","as",527],["T_WHITESPACE"," ",527],["T_VARIABLE","$field",527],["T_WHITESPACE"," ",527],["T_DOUBLE_ARROW","=>",527],["T_WHITESPACE"," ",527],["T_VARIABLE","$value",527],")",["T_WHITESPACE"," ",527],"{",["T_WHITESPACE","\n      ",527],["T_VARIABLE","$query",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","condition",528],"(",["T_VARIABLE","$field",528],",",["T_WHITESPACE"," ",528],["T_VARIABLE","$value",528],")",";",["T_WHITESPACE","\n    ",528],"}",["T_WHITESPACE","\n    ",529],["T_RETURN","return",530],["T_WHITESPACE"," ",530],["T_VARIABLE","$query",530],";",["T_WHITESPACE","\n  ",530],"}",["T_WHITESPACE","\n\n  ",531],["T_DOC_COMMENT","\/**\n   * Executes an arbitrary SELECT query string with the injected options.\n   *\/",533],["T_WHITESPACE","\n  ",535],["T_PROTECTED","protected",536],["T_WHITESPACE"," ",536],["T_FUNCTION","function",536],["T_WHITESPACE"," ",536],["T_STRING","dbExecute",536],"(",["T_VARIABLE","$query",536],",",["T_WHITESPACE"," ",536],["T_ARRAY","array",536],["T_WHITESPACE"," ",536],["T_VARIABLE","$args",536],["T_WHITESPACE"," ",536],"=",["T_WHITESPACE"," ",536],["T_ARRAY","array",536],"(",")",")",["T_WHITESPACE"," ",536],"{",["T_WHITESPACE","\n    ",536],["T_RETURN","return",537],["T_WHITESPACE"," ",537],["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","connection",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","query",537],"(",["T_VARIABLE","$query",537],",",["T_WHITESPACE"," ",537],["T_VARIABLE","$args",537],",",["T_WHITESPACE"," ",537],["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","options",537],")",";",["T_WHITESPACE","\n  ",537],"}",["T_WHITESPACE","\n\n",538],"}",["T_WHITESPACE","\n",540]]