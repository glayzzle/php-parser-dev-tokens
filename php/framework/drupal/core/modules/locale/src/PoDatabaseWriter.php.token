[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","locale",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Gettext",5],["T_NS_SEPARATOR","\\",5],["T_STRING","PoHeader",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Gettext",6],["T_NS_SEPARATOR","\\",6],["T_STRING","PoItem",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Component",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Gettext",7],["T_NS_SEPARATOR","\\",7],["T_STRING","PoReaderInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Component",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Gettext",8],["T_NS_SEPARATOR","\\",8],["T_STRING","PoWriterInterface",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Gettext PO writer working with the locale module database.\n *\/",10],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","PoDatabaseWriter",13],["T_WHITESPACE"," ",13],["T_IMPLEMENTS","implements",13],["T_WHITESPACE"," ",13],["T_STRING","PoWriterInterface",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * An associative array indicating what data should be overwritten, if any.\n   *\n   * Elements of the array:\n   * - override_options\n   *   - not_customized: boolean indicating that not customized strings should\n   *     be overwritten.\n   *   - customized: boolean indicating that customized strings should be\n   *     overwritten.\n   * - customized: the strings being imported should be saved as customized.\n   *     One of LOCALE_CUSTOMIZED or LOCALE_NOT_CUSTOMIZED.\n   *\n   * @var array\n   *\/",15],["T_WHITESPACE","\n  ",28],["T_PRIVATE","private",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$options",29],";",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * Language code of the language being written to the database.\n   *\n   * @var string\n   *\/",31],["T_WHITESPACE","\n  ",35],["T_PRIVATE","private",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$langcode",36],";",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * Header of the po file written to the database.\n   *\n   * @var \\Drupal\\Component\\Gettext\\PoHeader\n   *\/",38],["T_WHITESPACE","\n  ",42],["T_PRIVATE","private",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$header",43],";",["T_WHITESPACE","\n\n  ",43],["T_DOC_COMMENT","\/**\n   * Associative array summarizing the number of changes done.\n   *\n   * Keys for the array:\n   *  - additions: number of source strings newly added\n   *  - updates: number of translations updated\n   *  - deletes: number of translations deleted\n   *  - skips: number of strings skipped due to disallowed HTML\n   *\n   * @var array\n   *\/",45],["T_WHITESPACE","\n  ",55],["T_PRIVATE","private",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$report",56],";",["T_WHITESPACE","\n\n  ",56],["T_DOC_COMMENT","\/**\n   * Constructor, initialize reporting array.\n   *\/",58],["T_WHITESPACE","\n  ",60],["T_PUBLIC","public",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","__construct",61],"(",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","setReport",62],"(",")",";",["T_WHITESPACE","\n  ",62],"}",["T_WHITESPACE","\n\n  ",63],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",65],["T_WHITESPACE","\n  ",67],["T_PUBLIC","public",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","getLangcode",68],"(",")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n    ",68],["T_RETURN","return",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","langcode",69],";",["T_WHITESPACE","\n  ",69],"}",["T_WHITESPACE","\n\n  ",70],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",72],["T_WHITESPACE","\n  ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","setLangcode",75],"(",["T_VARIABLE","$langcode",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","langcode",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$langcode",76],";",["T_WHITESPACE","\n  ",76],"}",["T_WHITESPACE","\n\n  ",77],["T_DOC_COMMENT","\/**\n   * Get the report of the write operations.\n   *\/",79],["T_WHITESPACE","\n  ",81],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","getReport",82],"(",")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n    ",82],["T_RETURN","return",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","report",83],";",["T_WHITESPACE","\n  ",83],"}",["T_WHITESPACE","\n\n  ",84],["T_DOC_COMMENT","\/**\n   * Set the report array of write operations.\n   *\n   * @param array $report\n   *   Associative array with result information.\n   *\/",86],["T_WHITESPACE","\n  ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","setReport",92],"(",["T_VARIABLE","$report",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_ARRAY","array",92],"(",")",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$report",93],["T_WHITESPACE"," ",93],["T_PLUS_EQUAL","+=",93],["T_WHITESPACE"," ",93],["T_ARRAY","array",93],"(",["T_WHITESPACE","\n      ",93],["T_CONSTANT_ENCAPSED_STRING","'additions'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_LNUMBER","0",94],",",["T_WHITESPACE","\n      ",94],["T_CONSTANT_ENCAPSED_STRING","'updates'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_LNUMBER","0",95],",",["T_WHITESPACE","\n      ",95],["T_CONSTANT_ENCAPSED_STRING","'deletes'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_LNUMBER","0",96],",",["T_WHITESPACE","\n      ",96],["T_CONSTANT_ENCAPSED_STRING","'skips'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_LNUMBER","0",97],",",["T_WHITESPACE","\n      ",97],["T_CONSTANT_ENCAPSED_STRING","'strings'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_ARRAY","array",98],"(",")",",",["T_WHITESPACE","\n    ",98],")",";",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","report",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$report",100],";",["T_WHITESPACE","\n  ",100],"}",["T_WHITESPACE","\n\n  ",101],["T_DOC_COMMENT","\/**\n   * Get the options used by the writer.\n   *\/",103],["T_WHITESPACE","\n  ",105],["T_PUBLIC","public",106],["T_WHITESPACE"," ",106],["T_FUNCTION","function",106],["T_WHITESPACE"," ",106],["T_STRING","getOptions",106],"(",")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n    ",106],["T_RETURN","return",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","options",107],";",["T_WHITESPACE","\n  ",107],"}",["T_WHITESPACE","\n\n  ",108],["T_DOC_COMMENT","\/**\n   * Set the options for the current writer.\n   *\/",110],["T_WHITESPACE","\n  ",112],["T_PUBLIC","public",113],["T_WHITESPACE"," ",113],["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],["T_STRING","setOptions",113],"(",["T_ARRAY","array",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$options",113],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n    ",113],["T_IF","if",114],["T_WHITESPACE"," ",114],"(","!",["T_ISSET","isset",114],"(",["T_VARIABLE","$options",114],"[",["T_CONSTANT_ENCAPSED_STRING","'overwrite_options'",114],"]",")",")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n      ",114],["T_VARIABLE","$options",115],"[",["T_CONSTANT_ENCAPSED_STRING","'overwrite_options'",115],"]",["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_ARRAY","array",115],"(",")",";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$options",117],"[",["T_CONSTANT_ENCAPSED_STRING","'overwrite_options'",117],"]",["T_WHITESPACE"," ",117],["T_PLUS_EQUAL","+=",117],["T_WHITESPACE"," ",117],["T_ARRAY","array",117],"(",["T_WHITESPACE","\n      ",117],["T_CONSTANT_ENCAPSED_STRING","'not_customized'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_STRING","FALSE",118],",",["T_WHITESPACE","\n      ",118],["T_CONSTANT_ENCAPSED_STRING","'customized'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_STRING","FALSE",119],",",["T_WHITESPACE","\n    ",119],")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$options",121],["T_WHITESPACE"," ",121],["T_PLUS_EQUAL","+=",121],["T_WHITESPACE"," ",121],["T_ARRAY","array",121],"(",["T_WHITESPACE","\n      ",121],["T_CONSTANT_ENCAPSED_STRING","'customized'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_STRING","LOCALE_NOT_CUSTOMIZED",122],",",["T_WHITESPACE","\n    ",122],")",";",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","options",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$options",124],";",["T_WHITESPACE","\n  ",124],"}",["T_WHITESPACE","\n\n  ",125],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",127],["T_WHITESPACE","\n  ",129],["T_PUBLIC","public",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","getHeader",130],"(",")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n    ",130],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","header",131],";",["T_WHITESPACE","\n  ",131],"}",["T_WHITESPACE","\n\n  ",132],["T_DOC_COMMENT","\/**\n   * Implements Drupal\\Component\\Gettext\\PoMetadataInterface::setHeader().\n   *\n   * Sets the header and configure Drupal accordingly.\n   *\n   * Before being able to process the given header we need to know in what\n   * context this database write is done. For this the options must be set.\n   *\n   * A langcode is required to set the current header's PluralForm.\n   *\n   * @param \\Drupal\\Component\\Gettext\\PoHeader $header\n   *   Header metadata.\n   *\n   * @throws Exception\n   *\/",134],["T_WHITESPACE","\n  ",148],["T_PUBLIC","public",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","setHeader",149],"(",["T_STRING","PoHeader",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$header",149],")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n    ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","header",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$header",150],";",["T_WHITESPACE","\n    ",150],["T_VARIABLE","$locale_plurals",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Drupal",151],["T_DOUBLE_COLON","::",151],["T_STRING","state",151],"(",")",["T_OBJECT_OPERATOR","->",151],["T_STRING","get",151],"(",["T_CONSTANT_ENCAPSED_STRING","'locale.translation.plurals'",151],")",["T_WHITESPACE"," ",151],"?",":",["T_WHITESPACE"," ",151],["T_ARRAY","array",151],"(",")",";",["T_WHITESPACE","\n\n    ",151],["T_COMMENT","\/\/ Check for options.\n",153],["T_WHITESPACE","    ",154],["T_VARIABLE","$options",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getOptions",154],"(",")",";",["T_WHITESPACE","\n    ",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_EMPTY","empty",155],"(",["T_VARIABLE","$options",155],")",")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n      ",155],["T_THROW","throw",156],["T_WHITESPACE"," ",156],["T_NEW","new",156],["T_WHITESPACE"," ",156],["T_NS_SEPARATOR","\\",156],["T_STRING","Exception",156],"(",["T_CONSTANT_ENCAPSED_STRING","'Options should be set before assigning a PoHeader.'",156],")",";",["T_WHITESPACE","\n    ",156],"}",["T_WHITESPACE","\n    ",157],["T_VARIABLE","$overwrite_options",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$options",158],"[",["T_CONSTANT_ENCAPSED_STRING","'overwrite_options'",158],"]",";",["T_WHITESPACE","\n\n    ",158],["T_COMMENT","\/\/ Check for langcode.\n",160],["T_WHITESPACE","    ",161],["T_VARIABLE","$langcode",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","langcode",161],";",["T_WHITESPACE","\n    ",161],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_EMPTY","empty",162],"(",["T_VARIABLE","$langcode",162],")",")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n      ",162],["T_THROW","throw",163],["T_WHITESPACE"," ",163],["T_NEW","new",163],["T_WHITESPACE"," ",163],["T_NS_SEPARATOR","\\",163],["T_STRING","Exception",163],"(",["T_CONSTANT_ENCAPSED_STRING","'Langcode should be set before assigning a PoHeader.'",163],")",";",["T_WHITESPACE","\n    ",163],"}",["T_WHITESPACE","\n\n    ",164],["T_IF","if",166],["T_WHITESPACE"," ",166],"(",["T_STRING","array_sum",166],"(",["T_VARIABLE","$overwrite_options",166],")",["T_WHITESPACE"," ",166],["T_BOOLEAN_OR","||",166],["T_WHITESPACE"," ",166],["T_EMPTY","empty",166],"(",["T_VARIABLE","$locale_plurals",166],"[",["T_VARIABLE","$langcode",166],"]","[",["T_CONSTANT_ENCAPSED_STRING","'plurals'",166],"]",")",")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n      ",166],["T_COMMENT","\/\/ Get and store the plural formula if available.\n",167],["T_WHITESPACE","      ",168],["T_VARIABLE","$plural",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$header",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getPluralForms",168],"(",")",";",["T_WHITESPACE","\n      ",168],["T_IF","if",169],["T_WHITESPACE"," ",169],"(",["T_ISSET","isset",169],"(",["T_VARIABLE","$plural",169],")",["T_WHITESPACE"," ",169],["T_BOOLEAN_AND","&&",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$p",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$header",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","parsePluralForms",169],"(",["T_VARIABLE","$plural",169],")",")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n        ",169],["T_LIST","list",170],"(",["T_VARIABLE","$nplurals",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$formula",170],")",["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$p",170],";",["T_WHITESPACE","\n        ",170],["T_NS_SEPARATOR","\\",171],["T_STRING","Drupal",171],["T_DOUBLE_COLON","::",171],["T_STRING","service",171],"(",["T_CONSTANT_ENCAPSED_STRING","'locale.plural.formula'",171],")",["T_OBJECT_OPERATOR","->",171],["T_STRING","setPluralFormula",171],"(",["T_VARIABLE","$langcode",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$nplurals",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$formula",171],")",";",["T_WHITESPACE","\n      ",171],"}",["T_WHITESPACE","\n    ",172],"}",["T_WHITESPACE","\n  ",173],"}",["T_WHITESPACE","\n\n  ",174],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",176],["T_WHITESPACE","\n  ",178],["T_PUBLIC","public",179],["T_WHITESPACE"," ",179],["T_FUNCTION","function",179],["T_WHITESPACE"," ",179],["T_STRING","writeItem",179],"(",["T_STRING","PoItem",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$item",179],")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n    ",179],["T_IF","if",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$item",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","isPlural",180],"(",")",")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n      ",180],["T_VARIABLE","$item",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","setSource",181],"(",["T_STRING","implode",181],"(",["T_STRING","LOCALE_PLURAL_DELIMITER",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$item",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getSource",181],"(",")",")",")",";",["T_WHITESPACE","\n      ",181],["T_VARIABLE","$item",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","setTranslation",182],"(",["T_STRING","implode",182],"(",["T_STRING","LOCALE_PLURAL_DELIMITER",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$item",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getTranslation",182],"(",")",")",")",";",["T_WHITESPACE","\n    ",182],"}",["T_WHITESPACE","\n    ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","importString",184],"(",["T_VARIABLE","$item",184],")",";",["T_WHITESPACE","\n  ",184],"}",["T_WHITESPACE","\n\n  ",185],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",187],["T_WHITESPACE","\n  ",189],["T_PUBLIC","public",190],["T_WHITESPACE"," ",190],["T_FUNCTION","function",190],["T_WHITESPACE"," ",190],["T_STRING","writeItems",190],"(",["T_STRING","PoReaderInterface",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$reader",190],",",["T_WHITESPACE"," ",190],["T_VARIABLE","$count",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],"-",["T_LNUMBER","1",190],")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n    ",190],["T_VARIABLE","$forever",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$count",191],["T_WHITESPACE"," ",191],["T_IS_EQUAL","==",191],["T_WHITESPACE"," ",191],"-",["T_LNUMBER","1",191],";",["T_WHITESPACE","\n    ",191],["T_WHILE","while",192],["T_WHITESPACE"," ",192],"(","(",["T_VARIABLE","$count",192],["T_DEC","--",192],["T_WHITESPACE"," ",192],">",["T_WHITESPACE"," ",192],["T_LNUMBER","0",192],["T_WHITESPACE"," ",192],["T_BOOLEAN_OR","||",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$forever",192],")",["T_WHITESPACE"," ",192],["T_BOOLEAN_AND","&&",192],["T_WHITESPACE"," ",192],"(",["T_VARIABLE","$item",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$reader",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","readItem",192],"(",")",")",")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n      ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","writeItem",193],"(",["T_VARIABLE","$item",193],")",";",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n  ",194],"}",["T_WHITESPACE","\n\n  ",195],["T_DOC_COMMENT","\/**\n   * Imports one string into the database.\n   *\n   * @param \\Drupal\\Component\\Gettext\\PoItem $item\n   *   The item being imported.\n   *\n   * @return int\n   *   The string ID of the existing string modified or the new string added.\n   *\/",197],["T_WHITESPACE","\n  ",205],["T_PRIVATE","private",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","importString",206],"(",["T_STRING","PoItem",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$item",206],")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n    ",206],["T_COMMENT","\/\/ Initialize overwrite options if not set.\n",207],["T_WHITESPACE","    ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","options",208],"[",["T_CONSTANT_ENCAPSED_STRING","'overwrite_options'",208],"]",["T_WHITESPACE"," ",208],["T_PLUS_EQUAL","+=",208],["T_WHITESPACE"," ",208],["T_ARRAY","array",208],"(",["T_WHITESPACE","\n      ",208],["T_CONSTANT_ENCAPSED_STRING","'not_customized'",209],["T_WHITESPACE"," ",209],["T_DOUBLE_ARROW","=>",209],["T_WHITESPACE"," ",209],["T_STRING","FALSE",209],",",["T_WHITESPACE","\n      ",209],["T_CONSTANT_ENCAPSED_STRING","'customized'",210],["T_WHITESPACE"," ",210],["T_DOUBLE_ARROW","=>",210],["T_WHITESPACE"," ",210],["T_STRING","FALSE",210],",",["T_WHITESPACE","\n    ",210],")",";",["T_WHITESPACE","\n    ",211],["T_VARIABLE","$overwrite_options",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","options",212],"[",["T_CONSTANT_ENCAPSED_STRING","'overwrite_options'",212],"]",";",["T_WHITESPACE","\n    ",212],["T_VARIABLE","$customized",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","options",213],"[",["T_CONSTANT_ENCAPSED_STRING","'customized'",213],"]",";",["T_WHITESPACE","\n\n    ",213],["T_VARIABLE","$context",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$item",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getContext",215],"(",")",";",["T_WHITESPACE","\n    ",215],["T_VARIABLE","$source",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$item",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getSource",216],"(",")",";",["T_WHITESPACE","\n    ",216],["T_VARIABLE","$translation",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$item",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","getTranslation",217],"(",")",";",["T_WHITESPACE","\n\n    ",217],["T_COMMENT","\/\/ Look up the source string and any existing translation.\n",219],["T_WHITESPACE","    ",220],["T_VARIABLE","$strings",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_NS_SEPARATOR","\\",220],["T_STRING","Drupal",220],["T_DOUBLE_COLON","::",220],["T_STRING","service",220],"(",["T_CONSTANT_ENCAPSED_STRING","'locale.storage'",220],")",["T_OBJECT_OPERATOR","->",220],["T_STRING","getTranslations",220],"(",["T_ARRAY","array",220],"(",["T_WHITESPACE","\n      ",220],["T_CONSTANT_ENCAPSED_STRING","'language'",221],["T_WHITESPACE"," ",221],["T_DOUBLE_ARROW","=>",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","langcode",221],",",["T_WHITESPACE","\n      ",221],["T_CONSTANT_ENCAPSED_STRING","'source'",222],["T_WHITESPACE"," ",222],["T_DOUBLE_ARROW","=>",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$source",222],",",["T_WHITESPACE","\n      ",222],["T_CONSTANT_ENCAPSED_STRING","'context'",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$context",223],",",["T_WHITESPACE","\n    ",223],")",")",";",["T_WHITESPACE","\n    ",224],["T_VARIABLE","$string",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_STRING","reset",225],"(",["T_VARIABLE","$strings",225],")",";",["T_WHITESPACE","\n\n    ",225],["T_IF","if",227],["T_WHITESPACE"," ",227],"(","!",["T_EMPTY","empty",227],"(",["T_VARIABLE","$translation",227],")",")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n      ",227],["T_COMMENT","\/\/ Skip this string unless it passes a check for dangerous code.\n",228],["T_WHITESPACE","      ",229],["T_IF","if",229],["T_WHITESPACE"," ",229],"(","!",["T_STRING","locale_string_is_safe",229],"(",["T_VARIABLE","$translation",229],")",")",["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n        ",229],["T_NS_SEPARATOR","\\",230],["T_STRING","Drupal",230],["T_DOUBLE_COLON","::",230],["T_STRING","logger",230],"(",["T_CONSTANT_ENCAPSED_STRING","'locale'",230],")",["T_OBJECT_OPERATOR","->",230],["T_STRING","error",230],"(",["T_CONSTANT_ENCAPSED_STRING","'Import of string \"%string\" was skipped because of disallowed or malformed HTML.'",230],",",["T_WHITESPACE"," ",230],["T_ARRAY","array",230],"(",["T_CONSTANT_ENCAPSED_STRING","'%string'",230],["T_WHITESPACE"," ",230],["T_DOUBLE_ARROW","=>",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$translation",230],")",")",";",["T_WHITESPACE","\n        ",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","report",231],"[",["T_CONSTANT_ENCAPSED_STRING","'skips'",231],"]",["T_INC","++",231],";",["T_WHITESPACE","\n        ",231],["T_RETURN","return",232],["T_WHITESPACE"," ",232],["T_LNUMBER","0",232],";",["T_WHITESPACE","\n      ",232],"}",["T_WHITESPACE","\n      ",233],["T_ELSEIF","elseif",234],["T_WHITESPACE"," ",234],"(",["T_VARIABLE","$string",234],")",["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n        ",234],["T_VARIABLE","$string",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","setString",235],"(",["T_VARIABLE","$translation",235],")",";",["T_WHITESPACE","\n        ",235],["T_IF","if",236],["T_WHITESPACE"," ",236],"(",["T_VARIABLE","$string",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","isNew",236],"(",")",")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n          ",236],["T_COMMENT","\/\/ No translation in this language.\n",237],["T_WHITESPACE","          ",238],["T_VARIABLE","$string",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","setValues",238],"(",["T_ARRAY","array",238],"(",["T_WHITESPACE","\n            ",238],["T_CONSTANT_ENCAPSED_STRING","'language'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","langcode",239],",",["T_WHITESPACE","\n            ",239],["T_CONSTANT_ENCAPSED_STRING","'customized'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$customized",240],",",["T_WHITESPACE","\n          ",240],")",")",";",["T_WHITESPACE","\n          ",241],["T_VARIABLE","$string",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","save",242],"(",")",";",["T_WHITESPACE","\n          ",242],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","report",243],"[",["T_CONSTANT_ENCAPSED_STRING","'additions'",243],"]",["T_INC","++",243],";",["T_WHITESPACE","\n        ",243],"}",["T_WHITESPACE","\n        ",244],["T_ELSEIF","elseif",245],["T_WHITESPACE"," ",245],"(",["T_VARIABLE","$overwrite_options",245],"[",["T_VARIABLE","$string",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","customized",245],["T_WHITESPACE"," ",245],"?",["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","'customized'",245],["T_WHITESPACE"," ",245],":",["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","'not_customized'",245],"]",")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n          ",245],["T_COMMENT","\/\/ Translation exists, only overwrite if instructed.\n",246],["T_WHITESPACE","          ",247],["T_VARIABLE","$string",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","customized",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$customized",247],";",["T_WHITESPACE","\n          ",247],["T_VARIABLE","$string",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","save",248],"(",")",";",["T_WHITESPACE","\n          ",248],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","report",249],"[",["T_CONSTANT_ENCAPSED_STRING","'updates'",249],"]",["T_INC","++",249],";",["T_WHITESPACE","\n        ",249],"}",["T_WHITESPACE","\n        ",250],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","report",251],"[",["T_CONSTANT_ENCAPSED_STRING","'strings'",251],"]","[","]",["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_VARIABLE","$string",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getId",251],"(",")",";",["T_WHITESPACE","\n        ",251],["T_RETURN","return",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$string",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","lid",252],";",["T_WHITESPACE","\n      ",252],"}",["T_WHITESPACE","\n      ",253],["T_ELSE","else",254],["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n        ",254],["T_COMMENT","\/\/ No such source string in the database yet.\n",255],["T_WHITESPACE","        ",256],["T_VARIABLE","$string",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_NS_SEPARATOR","\\",256],["T_STRING","Drupal",256],["T_DOUBLE_COLON","::",256],["T_STRING","service",256],"(",["T_CONSTANT_ENCAPSED_STRING","'locale.storage'",256],")",["T_OBJECT_OPERATOR","->",256],["T_STRING","createString",256],"(",["T_ARRAY","array",256],"(",["T_CONSTANT_ENCAPSED_STRING","'source'",256],["T_WHITESPACE"," ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$source",256],",",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'context'",256],["T_WHITESPACE"," ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$context",256],")",")",["T_WHITESPACE","\n          ",256],["T_OBJECT_OPERATOR","->",257],["T_STRING","save",257],"(",")",";",["T_WHITESPACE","\n        ",257],["T_NS_SEPARATOR","\\",258],["T_STRING","Drupal",258],["T_DOUBLE_COLON","::",258],["T_STRING","service",258],"(",["T_CONSTANT_ENCAPSED_STRING","'locale.storage'",258],")",["T_OBJECT_OPERATOR","->",258],["T_STRING","createTranslation",258],"(",["T_ARRAY","array",258],"(",["T_WHITESPACE","\n          ",258],["T_CONSTANT_ENCAPSED_STRING","'lid'",259],["T_WHITESPACE"," ",259],["T_DOUBLE_ARROW","=>",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$string",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","getId",259],"(",")",",",["T_WHITESPACE","\n          ",259],["T_CONSTANT_ENCAPSED_STRING","'language'",260],["T_WHITESPACE"," ",260],["T_DOUBLE_ARROW","=>",260],["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","langcode",260],",",["T_WHITESPACE","\n          ",260],["T_CONSTANT_ENCAPSED_STRING","'translation'",261],["T_WHITESPACE"," ",261],["T_DOUBLE_ARROW","=>",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$translation",261],",",["T_WHITESPACE","\n          ",261],["T_CONSTANT_ENCAPSED_STRING","'customized'",262],["T_WHITESPACE"," ",262],["T_DOUBLE_ARROW","=>",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$customized",262],",",["T_WHITESPACE","\n        ",262],")",")",["T_OBJECT_OPERATOR","->",263],["T_STRING","save",263],"(",")",";",["T_WHITESPACE","\n\n        ",263],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","report",265],"[",["T_CONSTANT_ENCAPSED_STRING","'additions'",265],"]",["T_INC","++",265],";",["T_WHITESPACE","\n        ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","report",266],"[",["T_CONSTANT_ENCAPSED_STRING","'strings'",266],"]","[","]",["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_VARIABLE","$string",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getId",266],"(",")",";",["T_WHITESPACE","\n        ",266],["T_RETURN","return",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$string",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","lid",267],";",["T_WHITESPACE","\n      ",267],"}",["T_WHITESPACE","\n    ",268],"}",["T_WHITESPACE","\n    ",269],["T_ELSEIF","elseif",270],["T_WHITESPACE"," ",270],"(",["T_VARIABLE","$string",270],["T_WHITESPACE"," ",270],["T_BOOLEAN_AND","&&",270],["T_WHITESPACE"," ",270],"!",["T_VARIABLE","$string",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","isNew",270],"(",")",["T_WHITESPACE"," ",270],["T_BOOLEAN_AND","&&",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$overwrite_options",270],"[",["T_VARIABLE","$string",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","customized",270],["T_WHITESPACE"," ",270],"?",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'customized'",270],["T_WHITESPACE"," ",270],":",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'not_customized'",270],"]",")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n      ",270],["T_COMMENT","\/\/ Empty translation, remove existing if instructed.\n",271],["T_WHITESPACE","      ",272],["T_VARIABLE","$string",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","delete",272],"(",")",";",["T_WHITESPACE","\n      ",272],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","report",273],"[",["T_CONSTANT_ENCAPSED_STRING","'deletes'",273],"]",["T_INC","++",273],";",["T_WHITESPACE","\n      ",273],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","report",274],"[",["T_CONSTANT_ENCAPSED_STRING","'strings'",274],"]","[","]",["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_VARIABLE","$string",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","lid",274],";",["T_WHITESPACE","\n      ",274],["T_RETURN","return",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$string",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","lid",275],";",["T_WHITESPACE","\n    ",275],"}",["T_WHITESPACE","\n  ",276],"}",["T_WHITESPACE","\n\n",277],"}",["T_WHITESPACE","\n",279]]