[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","text",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","field",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FieldConfig",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","filter",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FilterFormat",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","KernelTests",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","EntityKernelTestBase",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","field",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","FieldStorageConfig",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Tests the text formatters functionality.\n *\n * @group text\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","TextFormatterTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","EntityKernelTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * The entity type used in this test.\n   *\n   * @var string\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$entityType",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",22],";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * The bundle used in this test.\n   *\n   * @var string\n   *\/",24],["T_WHITESPACE","\n  ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$bundle",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",29],";",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",31],["T_WHITESPACE","\n  ",35],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_STATIC","static",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$modules",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_ARRAY","array",36],"(",["T_CONSTANT_ENCAPSED_STRING","'text'",36],")",";",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",38],["T_WHITESPACE","\n  ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","setUp",41],"(",")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n    ",41],["T_STRING","parent",42],["T_DOUBLE_COLON","::",42],["T_STRING","setUp",42],"(",")",";",["T_WHITESPACE","\n\n    ",42],["T_STRING","FilterFormat",44],["T_DOUBLE_COLON","::",44],["T_STRING","create",44],"(",["T_ARRAY","array",44],"(",["T_WHITESPACE","\n      ",44],["T_CONSTANT_ENCAPSED_STRING","'format'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'my_text_format'",45],",",["T_WHITESPACE","\n      ",45],["T_CONSTANT_ENCAPSED_STRING","'name'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'My text format'",46],",",["T_WHITESPACE","\n      ",46],["T_CONSTANT_ENCAPSED_STRING","'filters'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_ARRAY","array",47],"(",["T_WHITESPACE","\n        ",47],["T_CONSTANT_ENCAPSED_STRING","'filter_autop'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_ARRAY","array",48],"(",["T_WHITESPACE","\n          ",48],["T_CONSTANT_ENCAPSED_STRING","'module'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'filter'",49],",",["T_WHITESPACE","\n          ",49],["T_CONSTANT_ENCAPSED_STRING","'status'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_STRING","TRUE",50],",",["T_WHITESPACE","\n        ",50],")",",",["T_WHITESPACE","\n      ",51],")",",",["T_WHITESPACE","\n    ",52],")",")",["T_OBJECT_OPERATOR","->",53],["T_STRING","save",53],"(",")",";",["T_WHITESPACE","\n\n    ",53],["T_STRING","FieldStorageConfig",55],["T_DOUBLE_COLON","::",55],["T_STRING","create",55],"(",["T_ARRAY","array",55],"(",["T_WHITESPACE","\n      ",55],["T_CONSTANT_ENCAPSED_STRING","'field_name'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'formatted_text'",56],",",["T_WHITESPACE","\n      ",56],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","entityType",57],",",["T_WHITESPACE","\n      ",57],["T_CONSTANT_ENCAPSED_STRING","'type'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'text'",58],",",["T_WHITESPACE","\n      ",58],["T_CONSTANT_ENCAPSED_STRING","'settings'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_ARRAY","array",59],"(",")",",",["T_WHITESPACE","\n    ",59],")",")",["T_OBJECT_OPERATOR","->",60],["T_STRING","save",60],"(",")",";",["T_WHITESPACE","\n    ",60],["T_STRING","FieldConfig",61],["T_DOUBLE_COLON","::",61],["T_STRING","create",61],"(","[",["T_WHITESPACE","\n      ",61],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","entityType",62],",",["T_WHITESPACE","\n      ",62],["T_CONSTANT_ENCAPSED_STRING","'bundle'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","bundle",63],",",["T_WHITESPACE","\n      ",63],["T_CONSTANT_ENCAPSED_STRING","'field_name'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'formatted_text'",64],",",["T_WHITESPACE","\n      ",64],["T_CONSTANT_ENCAPSED_STRING","'label'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'Filtered text'",65],",",["T_WHITESPACE","\n    ",65],"]",")",["T_OBJECT_OPERATOR","->",66],["T_STRING","save",66],"(",")",";",["T_WHITESPACE","\n  ",66],"}",["T_WHITESPACE","\n\n  ",67],["T_DOC_COMMENT","\/**\n   * Tests all text field formatters.\n   *\/",69],["T_WHITESPACE","\n  ",71],["T_PUBLIC","public",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","testFormatters",72],"(",")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$formatters",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_ARRAY","array",73],"(",["T_WHITESPACE","\n      ",73],["T_CONSTANT_ENCAPSED_STRING","'text_default'",74],",",["T_WHITESPACE","\n      ",74],["T_CONSTANT_ENCAPSED_STRING","'text_trimmed'",75],",",["T_WHITESPACE","\n      ",75],["T_CONSTANT_ENCAPSED_STRING","'text_summary_or_trimmed'",76],",",["T_WHITESPACE","\n    ",76],")",";",["T_WHITESPACE","\n\n    ",77],["T_COMMENT","\/\/ Create the entity to be referenced.\n",79],["T_WHITESPACE","    ",80],["T_VARIABLE","$entity",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","container",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","get",80],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",80],")",["T_WHITESPACE","\n      ",80],["T_OBJECT_OPERATOR","->",81],["T_STRING","getStorage",81],"(",["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","entityType",81],")",["T_WHITESPACE","\n      ",81],["T_OBJECT_OPERATOR","->",82],["T_STRING","create",82],"(",["T_ARRAY","array",82],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","randomMachineName",82],"(",")",")",")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$entity",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","formatted_text",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_ARRAY","array",83],"(",["T_WHITESPACE","\n      ",83],["T_CONSTANT_ENCAPSED_STRING","'value'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'Hello, world!'",84],",",["T_WHITESPACE","\n      ",84],["T_CONSTANT_ENCAPSED_STRING","'format'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'my_text_format'",85],",",["T_WHITESPACE","\n    ",85],")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$entity",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","save",87],"(",")",";",["T_WHITESPACE","\n\n    ",87],["T_FOREACH","foreach",89],["T_WHITESPACE"," ",89],"(",["T_VARIABLE","$formatters",89],["T_WHITESPACE"," ",89],["T_AS","as",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$formatter",89],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n      ",89],["T_COMMENT","\/\/ Verify the text field formatter's render array.\n",90],["T_WHITESPACE","      ",91],["T_VARIABLE","$build",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$entity",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","get",91],"(",["T_CONSTANT_ENCAPSED_STRING","'formatted_text'",91],")",["T_OBJECT_OPERATOR","->",91],["T_STRING","view",91],"(",["T_ARRAY","array",91],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$formatter",91],")",")",";",["T_WHITESPACE","\n      ",91],["T_NS_SEPARATOR","\\",92],["T_STRING","Drupal",92],["T_DOUBLE_COLON","::",92],["T_STRING","service",92],"(",["T_CONSTANT_ENCAPSED_STRING","'renderer'",92],")",["T_OBJECT_OPERATOR","->",92],["T_STRING","renderRoot",92],"(",["T_VARIABLE","$build",92],"[",["T_LNUMBER","0",92],"]",")",";",["T_WHITESPACE","\n      ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertEqual",93],"(",["T_VARIABLE","$build",93],"[",["T_LNUMBER","0",93],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#markup'",93],"]",",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","\"<p>Hello, world!<\/p>\\n\"",93],")",";",["T_WHITESPACE","\n      ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertEqual",94],"(",["T_VARIABLE","$build",94],"[",["T_LNUMBER","0",94],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",94],"]","[",["T_CONSTANT_ENCAPSED_STRING","'tags'",94],"]",",",["T_WHITESPACE"," ",94],["T_STRING","FilterFormat",94],["T_DOUBLE_COLON","::",94],["T_STRING","load",94],"(",["T_CONSTANT_ENCAPSED_STRING","'my_text_format'",94],")",["T_OBJECT_OPERATOR","->",94],["T_STRING","getCacheTags",94],"(",")",",",["T_WHITESPACE"," ",94],["T_STRING","format_string",94],"(",["T_CONSTANT_ENCAPSED_STRING","'The @formatter formatter has the expected cache tags when formatting a formatted text field.'",94],",",["T_WHITESPACE"," ",94],["T_ARRAY","array",94],"(",["T_CONSTANT_ENCAPSED_STRING","'@formatter'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$formatter",94],")",")",")",";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n  ",95],"}",["T_WHITESPACE","\n\n",96],"}",["T_WHITESPACE","\n",98]]