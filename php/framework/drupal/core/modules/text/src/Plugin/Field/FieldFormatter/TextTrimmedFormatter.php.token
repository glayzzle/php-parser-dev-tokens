[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","text",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Field",3],["T_NS_SEPARATOR","\\",3],["T_STRING","FieldFormatter",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Field",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FormatterBase",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Field",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FieldItemListInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Form",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FormStateInterface",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Plugin implementation of the 'text_trimmed' formatter.\n *\n * Note: This class also contains the implementations used by the\n * 'text_summary_or_trimmed' formatter.\n *\n * @see \\Drupal\\text\\Field\\Formatter\\TextSummaryOrTrimmedFormatter\n *\n * @FieldFormatter(\n *   id = \"text_trimmed\",\n *   label = @Translation(\"Trimmed\"),\n *   field_types = {\n *     \"text\",\n *     \"text_long\",\n *     \"text_with_summary\"\n *   },\n *   quickedit = {\n *     \"editor\" = \"form\"\n *   }\n * )\n *\/",9],["T_WHITESPACE","\n",29],["T_CLASS","class",30],["T_WHITESPACE"," ",30],["T_STRING","TextTrimmedFormatter",30],["T_WHITESPACE"," ",30],["T_EXTENDS","extends",30],["T_WHITESPACE"," ",30],["T_STRING","FormatterBase",30],["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",32],["T_WHITESPACE","\n  ",34],["T_PUBLIC","public",35],["T_WHITESPACE"," ",35],["T_STATIC","static",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","defaultSettings",35],"(",")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n    ",35],["T_RETURN","return",36],["T_WHITESPACE"," ",36],["T_ARRAY","array",36],"(",["T_WHITESPACE","\n      ",36],["T_CONSTANT_ENCAPSED_STRING","'trim_length'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'600'",37],",",["T_WHITESPACE","\n    ",37],")",["T_WHITESPACE"," ",38],"+",["T_WHITESPACE"," ",38],["T_STRING","parent",38],["T_DOUBLE_COLON","::",38],["T_STRING","defaultSettings",38],"(",")",";",["T_WHITESPACE","\n  ",38],"}",["T_WHITESPACE","\n\n  ",39],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",41],["T_WHITESPACE","\n  ",43],["T_PUBLIC","public",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","settingsForm",44],"(",["T_ARRAY","array",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$form",44],",",["T_WHITESPACE"," ",44],["T_STRING","FormStateInterface",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$form_state",44],")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$element",45],"[",["T_CONSTANT_ENCAPSED_STRING","'trim_length'",45],"]",["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_ARRAY","array",45],"(",["T_WHITESPACE","\n      ",45],["T_CONSTANT_ENCAPSED_STRING","'#title'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_STRING","t",46],"(",["T_CONSTANT_ENCAPSED_STRING","'Trimmed limit'",46],")",",",["T_WHITESPACE","\n      ",46],["T_CONSTANT_ENCAPSED_STRING","'#type'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'number'",47],",",["T_WHITESPACE","\n      ",47],["T_CONSTANT_ENCAPSED_STRING","'#field_suffix'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_STRING","t",48],"(",["T_CONSTANT_ENCAPSED_STRING","'characters'",48],")",",",["T_WHITESPACE","\n      ",48],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getSetting",49],"(",["T_CONSTANT_ENCAPSED_STRING","'trim_length'",49],")",",",["T_WHITESPACE","\n      ",49],["T_CONSTANT_ENCAPSED_STRING","'#description'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_STRING","t",50],"(",["T_CONSTANT_ENCAPSED_STRING","'If the summary is not set, the trimmed %label field will end at the last full sentence before this character limit.'",50],",",["T_WHITESPACE"," ",50],["T_ARRAY","array",50],"(",["T_CONSTANT_ENCAPSED_STRING","'%label'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","fieldDefinition",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getLabel",50],"(",")",")",")",",",["T_WHITESPACE","\n      ",50],["T_CONSTANT_ENCAPSED_STRING","'#min'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_LNUMBER","1",51],",",["T_WHITESPACE","\n      ",51],["T_CONSTANT_ENCAPSED_STRING","'#required'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_STRING","TRUE",52],",",["T_WHITESPACE","\n    ",52],")",";",["T_WHITESPACE","\n    ",53],["T_RETURN","return",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$element",54],";",["T_WHITESPACE","\n  ",54],"}",["T_WHITESPACE","\n\n  ",55],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",57],["T_WHITESPACE","\n  ",59],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","settingsSummary",60],"(",")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$summary",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$summary",62],"[","]",["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_STRING","t",62],"(",["T_CONSTANT_ENCAPSED_STRING","'Trimmed limit: @trim_length characters'",62],",",["T_WHITESPACE"," ",62],["T_ARRAY","array",62],"(",["T_CONSTANT_ENCAPSED_STRING","'@trim_length'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getSetting",62],"(",["T_CONSTANT_ENCAPSED_STRING","'trim_length'",62],")",")",")",";",["T_WHITESPACE","\n    ",62],["T_RETURN","return",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$summary",63],";",["T_WHITESPACE","\n  ",63],"}",["T_WHITESPACE","\n\n  ",64],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",66],["T_WHITESPACE","\n  ",68],["T_PUBLIC","public",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","viewElements",69],"(",["T_STRING","FieldItemListInterface",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$items",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$langcode",69],")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$elements",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_ARRAY","array",70],"(",")",";",["T_WHITESPACE","\n\n    ",70],["T_VARIABLE","$render_as_summary",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],"(","&",["T_VARIABLE","$element",72],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n      ",72],["T_COMMENT","\/\/ Make sure any default #pre_render callbacks are set on the element,\n",73],["T_WHITESPACE","      ",74],["T_COMMENT","\/\/ because text_pre_render_summary() must run last.\n",74],["T_WHITESPACE","      ",75],["T_VARIABLE","$element",75],["T_WHITESPACE"," ",75],["T_PLUS_EQUAL","+=",75],["T_WHITESPACE"," ",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Drupal",75],["T_DOUBLE_COLON","::",75],["T_STRING","service",75],"(",["T_CONSTANT_ENCAPSED_STRING","'element_info'",75],")",["T_OBJECT_OPERATOR","->",75],["T_STRING","getInfo",75],"(",["T_VARIABLE","$element",75],"[",["T_CONSTANT_ENCAPSED_STRING","'#type'",75],"]",")",";",["T_WHITESPACE","\n      ",75],["T_COMMENT","\/\/ Add the #pre_render callback that renders the text into a summary.\n",76],["T_WHITESPACE","      ",77],["T_VARIABLE","$element",77],"[",["T_CONSTANT_ENCAPSED_STRING","'#pre_render'",77],"]","[","]",["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],"[",["T_STRING","TextTrimmedFormatter",77],["T_DOUBLE_COLON","::",77],["T_CLASS","class",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'preRenderSummary'",77],"]",";",["T_WHITESPACE","\n      ",77],["T_COMMENT","\/\/ Pass on the trim length to the #pre_render callback via a property.\n",78],["T_WHITESPACE","      ",79],["T_VARIABLE","$element",79],"[",["T_CONSTANT_ENCAPSED_STRING","'#text_summary_trim_length'",79],"]",["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getSetting",79],"(",["T_CONSTANT_ENCAPSED_STRING","'trim_length'",79],")",";",["T_WHITESPACE","\n    ",79],"}",";",["T_WHITESPACE","\n\n    ",80],["T_COMMENT","\/\/ The ProcessedText element already handles cache context & tag bubbling.\n",82],["T_WHITESPACE","    ",83],["T_COMMENT","\/\/ @see \\Drupal\\filter\\Element\\ProcessedText::preRenderText()\n",83],["T_WHITESPACE","    ",84],["T_FOREACH","foreach",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$items",84],["T_WHITESPACE"," ",84],["T_AS","as",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$delta",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$item",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n      ",84],["T_VARIABLE","$elements",85],"[",["T_VARIABLE","$delta",85],"]",["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_ARRAY","array",85],"(",["T_WHITESPACE","\n        ",85],["T_CONSTANT_ENCAPSED_STRING","'#type'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'processed_text'",86],",",["T_WHITESPACE","\n        ",86],["T_CONSTANT_ENCAPSED_STRING","'#text'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_STRING","NULL",87],",",["T_WHITESPACE","\n        ",87],["T_CONSTANT_ENCAPSED_STRING","'#format'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$item",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","format",88],",",["T_WHITESPACE","\n        ",88],["T_CONSTANT_ENCAPSED_STRING","'#langcode'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$item",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getLangcode",89],"(",")",",",["T_WHITESPACE","\n      ",89],")",";",["T_WHITESPACE","\n\n      ",90],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getPluginId",92],"(",")",["T_WHITESPACE"," ",92],["T_IS_EQUAL","==",92],["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'text_summary_or_trimmed'",92],["T_WHITESPACE"," ",92],["T_BOOLEAN_AND","&&",92],["T_WHITESPACE"," ",92],"!",["T_EMPTY","empty",92],"(",["T_VARIABLE","$item",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","summary",92],")",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$elements",93],"[",["T_VARIABLE","$delta",93],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#text'",93],"]",["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$item",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","summary",93],";",["T_WHITESPACE","\n      ",93],"}",["T_WHITESPACE","\n      ",94],["T_ELSE","else",95],["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$elements",96],"[",["T_VARIABLE","$delta",96],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#text'",96],"]",["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$item",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","value",96],";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$render_as_summary",97],"(",["T_VARIABLE","$elements",97],"[",["T_VARIABLE","$delta",97],"]",")",";",["T_WHITESPACE","\n      ",97],"}",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n\n    ",99],["T_RETURN","return",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$elements",101],";",["T_WHITESPACE","\n  ",101],"}",["T_WHITESPACE","\n\n  ",102],["T_DOC_COMMENT","\/**\n   * Pre-render callback: Renders a processed text element's #markup as a summary.\n   *\n   * @param array $element\n   *   A structured array with the following key-value pairs:\n   *   - #markup: the filtered text (as filtered by filter_pre_render_text())\n   *   - #format: containing the machine name of the filter format to be used to\n   *     filter the text. Defaults to the fallback format. See\n   *     filter_fallback_format().\n   *   - #text_summary_trim_length: the desired character length of the summary\n   *     (used by text_summary())\n   *\n   * @return array\n   *   The passed-in element with the filtered text in '#markup' trimmed.\n   *\n   * @see filter_pre_render_text()\n   * @see text_summary()\n   *\/",104],["T_WHITESPACE","\n  ",121],["T_PUBLIC","public",122],["T_WHITESPACE"," ",122],["T_STATIC","static",122],["T_WHITESPACE"," ",122],["T_FUNCTION","function",122],["T_WHITESPACE"," ",122],["T_STRING","preRenderSummary",122],"(",["T_ARRAY","array",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$element",122],")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$element",123],"[",["T_CONSTANT_ENCAPSED_STRING","'#markup'",123],"]",["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_STRING","text_summary",123],"(",["T_VARIABLE","$element",123],"[",["T_CONSTANT_ENCAPSED_STRING","'#markup'",123],"]",",",["T_WHITESPACE"," ",123],["T_VARIABLE","$element",123],"[",["T_CONSTANT_ENCAPSED_STRING","'#format'",123],"]",",",["T_WHITESPACE"," ",123],["T_VARIABLE","$element",123],"[",["T_CONSTANT_ENCAPSED_STRING","'#text_summary_trim_length'",123],"]",")",";",["T_WHITESPACE","\n    ",123],["T_RETURN","return",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$element",124],";",["T_WHITESPACE","\n  ",124],"}",["T_WHITESPACE","\n\n",125],"}",["T_WHITESPACE","\n",127]]