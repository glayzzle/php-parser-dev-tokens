[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","filter",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Language",5],["T_NS_SEPARATOR","\\",5],["T_STRING","LanguageInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Session",6],["T_NS_SEPARATOR","\\",6],["T_STRING","AnonymousUserSession",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","TypedData",7],["T_NS_SEPARATOR","\\",7],["T_STRING","OptionsProviderInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","TypedData",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DataDefinition",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","filter",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","FilterFormat",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","filter",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Plugin",10],["T_NS_SEPARATOR","\\",10],["T_STRING","DataType",10],["T_NS_SEPARATOR","\\",10],["T_STRING","FilterFormat",10],["T_WHITESPACE"," ",10],["T_AS","as",10],["T_WHITESPACE"," ",10],["T_STRING","FilterFormatDataType",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","filter",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Plugin",11],["T_NS_SEPARATOR","\\",11],["T_STRING","FilterInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","KernelTests",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Entity",12],["T_NS_SEPARATOR","\\",12],["T_STRING","EntityKernelTestBase",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Symfony",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Component",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Validator",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ConstraintViolationListInterface",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * Tests the behavior of the API of the Filter module.\n *\n * @group filter\n *\/",15],["T_WHITESPACE","\n",19],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","FilterAPITest",20],["T_WHITESPACE"," ",20],["T_EXTENDS","extends",20],["T_WHITESPACE"," ",20],["T_STRING","EntityKernelTestBase",20],["T_WHITESPACE"," ",20],"{",["T_WHITESPACE","\n\n  ",20],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_STATIC","static",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$modules",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_ARRAY","array",22],"(",["T_CONSTANT_ENCAPSED_STRING","'system'",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'filter'",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'filter_test'",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'user'",22],")",";",["T_WHITESPACE","\n\n  ",22],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_FUNCTION","function",24],["T_WHITESPACE"," ",24],["T_STRING","setUp",24],"(",")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n    ",24],["T_STRING","parent",25],["T_DOUBLE_COLON","::",25],["T_STRING","setUp",25],"(",")",";",["T_WHITESPACE","\n\n    ",25],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","installConfig",27],"(",["T_ARRAY","array",27],"(",["T_CONSTANT_ENCAPSED_STRING","'system'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'filter'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'filter_test'",27],")",")",";",["T_WHITESPACE","\n  ",27],"}",["T_WHITESPACE","\n\n  ",28],["T_DOC_COMMENT","\/**\n   * Tests that the filter order is respected.\n   *\/",30],["T_WHITESPACE","\n  ",32],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","testCheckMarkupFilterOrder",33],"(",")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n    ",33],["T_COMMENT","\/\/ Create crazy HTML format.\n",34],["T_WHITESPACE","    ",35],["T_VARIABLE","$crazy_format",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_STRING","FilterFormat",35],["T_DOUBLE_COLON","::",35],["T_STRING","create",35],"(",["T_ARRAY","array",35],"(",["T_WHITESPACE","\n      ",35],["T_CONSTANT_ENCAPSED_STRING","'format'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'crazy'",36],",",["T_WHITESPACE","\n      ",36],["T_CONSTANT_ENCAPSED_STRING","'name'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'Crazy'",37],",",["T_WHITESPACE","\n      ",37],["T_CONSTANT_ENCAPSED_STRING","'weight'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_LNUMBER","1",38],",",["T_WHITESPACE","\n      ",38],["T_CONSTANT_ENCAPSED_STRING","'filters'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_ARRAY","array",39],"(",["T_WHITESPACE","\n        ",39],["T_CONSTANT_ENCAPSED_STRING","'filter_html_escape'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_ARRAY","array",40],"(",["T_WHITESPACE","\n          ",40],["T_CONSTANT_ENCAPSED_STRING","'weight'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_LNUMBER","10",41],",",["T_WHITESPACE","\n          ",41],["T_CONSTANT_ENCAPSED_STRING","'status'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_LNUMBER","1",42],",",["T_WHITESPACE","\n        ",42],")",",",["T_WHITESPACE","\n        ",43],["T_CONSTANT_ENCAPSED_STRING","'filter_html'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_ARRAY","array",44],"(",["T_WHITESPACE","\n          ",44],["T_CONSTANT_ENCAPSED_STRING","'weight'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],"-",["T_LNUMBER","10",45],",",["T_WHITESPACE","\n          ",45],["T_CONSTANT_ENCAPSED_STRING","'status'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_LNUMBER","1",46],",",["T_WHITESPACE","\n          ",46],["T_CONSTANT_ENCAPSED_STRING","'settings'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_ARRAY","array",47],"(",["T_WHITESPACE","\n            ",47],["T_CONSTANT_ENCAPSED_STRING","'allowed_html'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'<p>'",48],",",["T_WHITESPACE","\n          ",48],")",",",["T_WHITESPACE","\n        ",49],")",",",["T_WHITESPACE","\n      ",50],")",["T_WHITESPACE","\n    ",51],")",")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$crazy_format",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","save",53],"(",")",";",["T_WHITESPACE","\n\n    ",53],["T_VARIABLE","$text",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","\"<p>Llamas are <not> awesome!<\/p>\"",55],";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$expected_filtered_text",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","\"&lt;p&gt;Llamas are  awesome!&lt;\/p&gt;\"",56],";",["T_WHITESPACE","\n\n    ",56],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","assertEqual",58],"(",["T_STRING","check_markup",58],"(",["T_VARIABLE","$text",58],",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'crazy'",58],")",",",["T_WHITESPACE"," ",58],["T_VARIABLE","$expected_filtered_text",58],",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'Filters applied in correct order.'",58],")",";",["T_WHITESPACE","\n  ",58],"}",["T_WHITESPACE","\n\n  ",59],["T_DOC_COMMENT","\/**\n   * Tests the ability to apply only a subset of filters.\n   *\/",61],["T_WHITESPACE","\n  ",63],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","testCheckMarkupFilterSubset",64],"(",")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$text",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","\"Text with <marquee>evil content and<\/marquee> a URL: https:\/\/www.drupal.org!\"",65],";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$expected_filtered_text",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","\"Text with evil content and a URL: <a href=\\\"https:\/\/www.drupal.org\\\">https:\/\/www.drupal.org<\/a>!\"",66],";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$expected_filter_text_without_html_generators",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","\"Text with evil content and a URL: https:\/\/www.drupal.org!\"",67],";",["T_WHITESPACE","\n\n    ",67],["T_VARIABLE","$actual_filtered_text",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","check_markup",69],"(",["T_VARIABLE","$text",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'filtered_html'",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","''",69],",",["T_WHITESPACE"," ",69],["T_ARRAY","array",69],"(",")",")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","verbose",70],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Actual:<pre>",70],["T_VARIABLE","$actual_filtered_text",70],["T_ENCAPSED_AND_WHITESPACE","<\/pre>Expected:<pre>",70],["T_VARIABLE","$expected_filtered_text",70],["T_ENCAPSED_AND_WHITESPACE","<\/pre>",70],"\"",")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertEqual",71],"(",["T_WHITESPACE","\n      ",71],["T_VARIABLE","$actual_filtered_text",72],",",["T_WHITESPACE","\n      ",72],["T_VARIABLE","$expected_filtered_text",73],",",["T_WHITESPACE","\n      ",73],["T_CONSTANT_ENCAPSED_STRING","'Expected filter result.'",74],["T_WHITESPACE","\n    ",74],")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$actual_filtered_text_without_html_generators",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_STRING","check_markup",76],"(",["T_VARIABLE","$text",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'filtered_html'",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","''",76],",",["T_WHITESPACE"," ",76],["T_ARRAY","array",76],"(",["T_STRING","FilterInterface",76],["T_DOUBLE_COLON","::",76],["T_STRING","TYPE_MARKUP_LANGUAGE",76],")",")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","verbose",77],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Actual:<pre>",77],["T_VARIABLE","$actual_filtered_text_without_html_generators",77],["T_ENCAPSED_AND_WHITESPACE","<\/pre>Expected:<pre>",77],["T_VARIABLE","$expected_filter_text_without_html_generators",77],["T_ENCAPSED_AND_WHITESPACE","<\/pre>",77],"\"",")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","assertEqual",78],"(",["T_WHITESPACE","\n      ",78],["T_VARIABLE","$actual_filtered_text_without_html_generators",79],",",["T_WHITESPACE","\n      ",79],["T_VARIABLE","$expected_filter_text_without_html_generators",80],",",["T_WHITESPACE","\n      ",80],["T_CONSTANT_ENCAPSED_STRING","'Expected filter result when skipping FilterInterface::TYPE_MARKUP_LANGUAGE filters.'",81],["T_WHITESPACE","\n    ",81],")",";",["T_WHITESPACE","\n    ",82],["T_COMMENT","\/\/ Related to @see FilterSecurityTest.php\/testSkipSecurityFilters(), but\n",83],["T_WHITESPACE","    ",84],["T_COMMENT","\/\/ this check focuses on the ability to filter multiple filter types at once.\n",84],["T_WHITESPACE","    ",85],["T_COMMENT","\/\/ Drupal core only ships with these two types of filters, so this is the\n",85],["T_WHITESPACE","    ",86],["T_COMMENT","\/\/ most extensive test possible.\n",86],["T_WHITESPACE","    ",87],["T_VARIABLE","$actual_filtered_text_without_html_generators",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","check_markup",87],"(",["T_VARIABLE","$text",87],",",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'filtered_html'",87],",",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","''",87],",",["T_WHITESPACE"," ",87],["T_ARRAY","array",87],"(",["T_STRING","FilterInterface",87],["T_DOUBLE_COLON","::",87],["T_STRING","TYPE_HTML_RESTRICTOR",87],",",["T_WHITESPACE"," ",87],["T_STRING","FilterInterface",87],["T_DOUBLE_COLON","::",87],["T_STRING","TYPE_MARKUP_LANGUAGE",87],")",")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","verbose",88],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Actual:<pre>",88],["T_VARIABLE","$actual_filtered_text_without_html_generators",88],["T_ENCAPSED_AND_WHITESPACE","<\/pre>Expected:<pre>",88],["T_VARIABLE","$expected_filter_text_without_html_generators",88],["T_ENCAPSED_AND_WHITESPACE","<\/pre>",88],"\"",")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertEqual",89],"(",["T_WHITESPACE","\n      ",89],["T_VARIABLE","$actual_filtered_text_without_html_generators",90],",",["T_WHITESPACE","\n      ",90],["T_VARIABLE","$expected_filter_text_without_html_generators",91],",",["T_WHITESPACE","\n      ",91],["T_CONSTANT_ENCAPSED_STRING","'Expected filter result when skipping FilterInterface::TYPE_MARKUP_LANGUAGE filters, even when trying to disable filters of the FilterInterface::TYPE_HTML_RESTRICTOR type.'",92],["T_WHITESPACE","\n    ",92],")",";",["T_WHITESPACE","\n  ",93],"}",["T_WHITESPACE","\n\n  ",94],["T_DOC_COMMENT","\/**\n   * Tests the following functions for a variety of formats:\n   *   - \\Drupal\\filter\\Entity\\FilterFormatInterface::getHtmlRestrictions()\n   *   - \\Drupal\\filter\\Entity\\FilterFormatInterface::getFilterTypes()\n   *\/",96],["T_WHITESPACE","\n  ",100],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","testFilterFormatAPI",101],"(",")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n    ",101],["T_COMMENT","\/\/ Test on filtered_html.\n",102],["T_WHITESPACE","    ",103],["T_VARIABLE","$filtered_html_format",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","FilterFormat",103],["T_DOUBLE_COLON","::",103],["T_STRING","load",103],"(",["T_CONSTANT_ENCAPSED_STRING","'filtered_html'",103],")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","assertIdentical",104],"(",["T_WHITESPACE","\n      ",104],["T_VARIABLE","$filtered_html_format",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getHtmlRestrictions",105],"(",")",",",["T_WHITESPACE","\n      ",105],["T_ARRAY","array",106],"(",["T_WHITESPACE","\n        ",106],["T_CONSTANT_ENCAPSED_STRING","'allowed'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_ARRAY","array",107],"(",["T_WHITESPACE","\n          ",107],["T_CONSTANT_ENCAPSED_STRING","'p'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_STRING","FALSE",108],",",["T_WHITESPACE","\n          ",108],["T_CONSTANT_ENCAPSED_STRING","'br'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_STRING","FALSE",109],",",["T_WHITESPACE","\n          ",109],["T_CONSTANT_ENCAPSED_STRING","'strong'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_STRING","FALSE",110],",",["T_WHITESPACE","\n          ",110],["T_CONSTANT_ENCAPSED_STRING","'a'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_ARRAY","array",111],"(",["T_CONSTANT_ENCAPSED_STRING","'href'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_STRING","TRUE",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'hreflang'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_STRING","TRUE",111],")",",",["T_WHITESPACE","\n          ",111],["T_CONSTANT_ENCAPSED_STRING","'*'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_ARRAY","array",112],"(",["T_CONSTANT_ENCAPSED_STRING","'style'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_STRING","FALSE",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'on*'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_STRING","FALSE",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'lang'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_STRING","TRUE",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'dir'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_ARRAY","array",112],"(",["T_CONSTANT_ENCAPSED_STRING","'ltr'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_STRING","TRUE",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'rtl'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_STRING","TRUE",112],")",")",",",["T_WHITESPACE","\n        ",112],")",",",["T_WHITESPACE","\n      ",113],")",",",["T_WHITESPACE","\n      ",114],["T_CONSTANT_ENCAPSED_STRING","'FilterFormatInterface::getHtmlRestrictions() works as expected for the filtered_html format.'",115],["T_WHITESPACE","\n    ",115],")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","assertIdentical",117],"(",["T_WHITESPACE","\n      ",117],["T_VARIABLE","$filtered_html_format",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getFilterTypes",118],"(",")",",",["T_WHITESPACE","\n      ",118],["T_ARRAY","array",119],"(",["T_STRING","FilterInterface",119],["T_DOUBLE_COLON","::",119],["T_STRING","TYPE_HTML_RESTRICTOR",119],",",["T_WHITESPACE"," ",119],["T_STRING","FilterInterface",119],["T_DOUBLE_COLON","::",119],["T_STRING","TYPE_MARKUP_LANGUAGE",119],")",",",["T_WHITESPACE","\n      ",119],["T_CONSTANT_ENCAPSED_STRING","'FilterFormatInterface::getFilterTypes() works as expected for the filtered_html format.'",120],["T_WHITESPACE","\n    ",120],")",";",["T_WHITESPACE","\n\n    ",121],["T_COMMENT","\/\/ Test on full_html.\n",123],["T_WHITESPACE","    ",124],["T_VARIABLE","$full_html_format",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","FilterFormat",124],["T_DOUBLE_COLON","::",124],["T_STRING","load",124],"(",["T_CONSTANT_ENCAPSED_STRING","'full_html'",124],")",";",["T_WHITESPACE","\n    ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertIdentical",125],"(",["T_WHITESPACE","\n      ",125],["T_VARIABLE","$full_html_format",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getHtmlRestrictions",126],"(",")",",",["T_WHITESPACE","\n      ",126],["T_STRING","FALSE",127],",",["T_WHITESPACE"," ",127],["T_COMMENT","\/\/ Every tag is allowed.\n",127],["T_WHITESPACE","      ",128],["T_CONSTANT_ENCAPSED_STRING","'FilterFormatInterface::getHtmlRestrictions() works as expected for the full_html format.'",128],["T_WHITESPACE","\n    ",128],")",";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","assertIdentical",130],"(",["T_WHITESPACE","\n      ",130],["T_VARIABLE","$full_html_format",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getFilterTypes",131],"(",")",",",["T_WHITESPACE","\n      ",131],["T_ARRAY","array",132],"(",")",",",["T_WHITESPACE","\n      ",132],["T_CONSTANT_ENCAPSED_STRING","'FilterFormatInterface::getFilterTypes() works as expected for the full_html format.'",133],["T_WHITESPACE","\n    ",133],")",";",["T_WHITESPACE","\n\n    ",134],["T_COMMENT","\/\/ Test on stupid_filtered_html, where nothing is allowed.\n",136],["T_WHITESPACE","    ",137],["T_VARIABLE","$stupid_filtered_html_format",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_STRING","FilterFormat",137],["T_DOUBLE_COLON","::",137],["T_STRING","create",137],"(",["T_ARRAY","array",137],"(",["T_WHITESPACE","\n      ",137],["T_CONSTANT_ENCAPSED_STRING","'format'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'stupid_filtered_html'",138],",",["T_WHITESPACE","\n      ",138],["T_CONSTANT_ENCAPSED_STRING","'name'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'Stupid Filtered HTML'",139],",",["T_WHITESPACE","\n      ",139],["T_CONSTANT_ENCAPSED_STRING","'filters'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_ARRAY","array",140],"(",["T_WHITESPACE","\n        ",140],["T_CONSTANT_ENCAPSED_STRING","'filter_html'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_ARRAY","array",141],"(",["T_WHITESPACE","\n          ",141],["T_CONSTANT_ENCAPSED_STRING","'status'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_LNUMBER","1",142],",",["T_WHITESPACE","\n          ",142],["T_CONSTANT_ENCAPSED_STRING","'settings'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_ARRAY","array",143],"(",["T_WHITESPACE","\n            ",143],["T_CONSTANT_ENCAPSED_STRING","'allowed_html'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","''",144],",",["T_WHITESPACE"," ",144],["T_COMMENT","\/\/ Nothing is allowed.\n",144],["T_WHITESPACE","          ",145],")",",",["T_WHITESPACE","\n        ",145],")",",",["T_WHITESPACE","\n      ",146],")",",",["T_WHITESPACE","\n    ",147],")",")",";",["T_WHITESPACE","\n    ",148],["T_VARIABLE","$stupid_filtered_html_format",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","save",149],"(",")",";",["T_WHITESPACE","\n    ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","assertIdentical",150],"(",["T_WHITESPACE","\n      ",150],["T_VARIABLE","$stupid_filtered_html_format",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getHtmlRestrictions",151],"(",")",",",["T_WHITESPACE","\n      ",151],["T_ARRAY","array",152],"(",["T_CONSTANT_ENCAPSED_STRING","'allowed'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_ARRAY","array",152],"(",")",")",",",["T_WHITESPACE"," ",152],["T_COMMENT","\/\/ No tag is allowed.\n",152],["T_WHITESPACE","      ",153],["T_CONSTANT_ENCAPSED_STRING","'FilterFormatInterface::getHtmlRestrictions() works as expected for the stupid_filtered_html format.'",153],["T_WHITESPACE","\n    ",153],")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","assertIdentical",155],"(",["T_WHITESPACE","\n      ",155],["T_VARIABLE","$stupid_filtered_html_format",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getFilterTypes",156],"(",")",",",["T_WHITESPACE","\n      ",156],["T_ARRAY","array",157],"(",["T_STRING","FilterInterface",157],["T_DOUBLE_COLON","::",157],["T_STRING","TYPE_HTML_RESTRICTOR",157],")",",",["T_WHITESPACE","\n      ",157],["T_CONSTANT_ENCAPSED_STRING","'FilterFormatInterface::getFilterTypes() works as expected for the stupid_filtered_html format.'",158],["T_WHITESPACE","\n    ",158],")",";",["T_WHITESPACE","\n\n    ",159],["T_COMMENT","\/\/ Test on very_restricted_html, where there's two different filters of the\n",161],["T_WHITESPACE","    ",162],["T_COMMENT","\/\/ FilterInterface::TYPE_HTML_RESTRICTOR type, each restricting in different ways.\n",162],["T_WHITESPACE","    ",163],["T_VARIABLE","$very_restricted_html_format",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_STRING","FilterFormat",163],["T_DOUBLE_COLON","::",163],["T_STRING","create",163],"(",["T_ARRAY","array",163],"(",["T_WHITESPACE","\n      ",163],["T_CONSTANT_ENCAPSED_STRING","'format'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'very_restricted_html'",164],",",["T_WHITESPACE","\n      ",164],["T_CONSTANT_ENCAPSED_STRING","'name'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'Very Restricted HTML'",165],",",["T_WHITESPACE","\n      ",165],["T_CONSTANT_ENCAPSED_STRING","'filters'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_ARRAY","array",166],"(",["T_WHITESPACE","\n        ",166],["T_CONSTANT_ENCAPSED_STRING","'filter_html'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_ARRAY","array",167],"(",["T_WHITESPACE","\n          ",167],["T_CONSTANT_ENCAPSED_STRING","'status'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_LNUMBER","1",168],",",["T_WHITESPACE","\n          ",168],["T_CONSTANT_ENCAPSED_STRING","'settings'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_ARRAY","array",169],"(",["T_WHITESPACE","\n            ",169],["T_CONSTANT_ENCAPSED_STRING","'allowed_html'",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'<p> <br> <a href> <strong>'",170],",",["T_WHITESPACE","\n          ",170],")",",",["T_WHITESPACE","\n        ",171],")",",",["T_WHITESPACE","\n        ",172],["T_CONSTANT_ENCAPSED_STRING","'filter_test_restrict_tags_and_attributes'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_ARRAY","array",173],"(",["T_WHITESPACE","\n          ",173],["T_CONSTANT_ENCAPSED_STRING","'status'",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_LNUMBER","1",174],",",["T_WHITESPACE","\n          ",174],["T_CONSTANT_ENCAPSED_STRING","'settings'",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_ARRAY","array",175],"(",["T_WHITESPACE","\n            ",175],["T_CONSTANT_ENCAPSED_STRING","'restrictions'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_ARRAY","array",176],"(",["T_WHITESPACE","\n              ",176],["T_CONSTANT_ENCAPSED_STRING","'allowed'",177],["T_WHITESPACE"," ",177],["T_DOUBLE_ARROW","=>",177],["T_WHITESPACE"," ",177],["T_ARRAY","array",177],"(",["T_WHITESPACE","\n                ",177],["T_CONSTANT_ENCAPSED_STRING","'p'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_STRING","TRUE",178],",",["T_WHITESPACE","\n                ",178],["T_CONSTANT_ENCAPSED_STRING","'br'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_STRING","FALSE",179],",",["T_WHITESPACE","\n                ",179],["T_CONSTANT_ENCAPSED_STRING","'a'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_ARRAY","array",180],"(",["T_CONSTANT_ENCAPSED_STRING","'href'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_STRING","TRUE",180],")",",",["T_WHITESPACE","\n                ",180],["T_CONSTANT_ENCAPSED_STRING","'em'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_STRING","TRUE",181],",",["T_WHITESPACE","\n              ",181],")",",",["T_WHITESPACE","\n            ",182],")",["T_WHITESPACE","\n          ",183],")",",",["T_WHITESPACE","\n        ",184],")",",",["T_WHITESPACE","\n      ",185],")",["T_WHITESPACE","\n    ",186],")",")",";",["T_WHITESPACE","\n    ",187],["T_VARIABLE","$very_restricted_html_format",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","save",188],"(",")",";",["T_WHITESPACE","\n    ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","assertIdentical",189],"(",["T_WHITESPACE","\n      ",189],["T_VARIABLE","$very_restricted_html_format",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getHtmlRestrictions",190],"(",")",",",["T_WHITESPACE","\n      ",190],["T_ARRAY","array",191],"(",["T_WHITESPACE","\n        ",191],["T_CONSTANT_ENCAPSED_STRING","'allowed'",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_ARRAY","array",192],"(",["T_WHITESPACE","\n          ",192],["T_CONSTANT_ENCAPSED_STRING","'p'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_STRING","FALSE",193],",",["T_WHITESPACE","\n          ",193],["T_CONSTANT_ENCAPSED_STRING","'br'",194],["T_WHITESPACE"," ",194],["T_DOUBLE_ARROW","=>",194],["T_WHITESPACE"," ",194],["T_STRING","FALSE",194],",",["T_WHITESPACE","\n          ",194],["T_CONSTANT_ENCAPSED_STRING","'a'",195],["T_WHITESPACE"," ",195],["T_DOUBLE_ARROW","=>",195],["T_WHITESPACE"," ",195],["T_ARRAY","array",195],"(",["T_CONSTANT_ENCAPSED_STRING","'href'",195],["T_WHITESPACE"," ",195],["T_DOUBLE_ARROW","=>",195],["T_WHITESPACE"," ",195],["T_STRING","TRUE",195],")",",",["T_WHITESPACE","\n          ",195],["T_CONSTANT_ENCAPSED_STRING","'*'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_ARRAY","array",196],"(",["T_CONSTANT_ENCAPSED_STRING","'style'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_STRING","FALSE",196],",",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'on*'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_STRING","FALSE",196],",",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'lang'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_STRING","TRUE",196],",",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'dir'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_ARRAY","array",196],"(",["T_CONSTANT_ENCAPSED_STRING","'ltr'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_STRING","TRUE",196],",",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'rtl'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_STRING","TRUE",196],")",")",",",["T_WHITESPACE","\n        ",196],")",",",["T_WHITESPACE","\n      ",197],")",",",["T_WHITESPACE","\n      ",198],["T_CONSTANT_ENCAPSED_STRING","'FilterFormatInterface::getHtmlRestrictions() works as expected for the very_restricted_html format.'",199],["T_WHITESPACE","\n    ",199],")",";",["T_WHITESPACE","\n    ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","assertIdentical",201],"(",["T_WHITESPACE","\n      ",201],["T_VARIABLE","$very_restricted_html_format",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getFilterTypes",202],"(",")",",",["T_WHITESPACE","\n      ",202],["T_ARRAY","array",203],"(",["T_STRING","FilterInterface",203],["T_DOUBLE_COLON","::",203],["T_STRING","TYPE_HTML_RESTRICTOR",203],")",",",["T_WHITESPACE","\n      ",203],["T_CONSTANT_ENCAPSED_STRING","'FilterFormatInterface::getFilterTypes() works as expected for the very_restricted_html format.'",204],["T_WHITESPACE","\n    ",204],")",";",["T_WHITESPACE","\n\n    ",205],["T_COMMENT","\/\/ Test on nonsensical_restricted_html, where the allowed attribute values\n",207],["T_WHITESPACE","    ",208],["T_COMMENT","\/\/ contain asterisks, which do not have any meaning, but which we also\n",208],["T_WHITESPACE","    ",209],["T_COMMENT","\/\/ cannot prevent because configuration can be modified outside of forms.\n",209],["T_WHITESPACE","    ",210],["T_VARIABLE","$nonsensical_restricted_html",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_STRING","FilterFormat",210],["T_DOUBLE_COLON","::",210],["T_STRING","create",210],"(",["T_ARRAY","array",210],"(",["T_WHITESPACE","\n      ",210],["T_CONSTANT_ENCAPSED_STRING","'format'",211],["T_WHITESPACE"," ",211],["T_DOUBLE_ARROW","=>",211],["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'nonsensical_restricted_html'",211],",",["T_WHITESPACE","\n      ",211],["T_CONSTANT_ENCAPSED_STRING","'name'",212],["T_WHITESPACE"," ",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'Nonsensical Restricted HTML'",212],",",["T_WHITESPACE","\n      ",212],["T_CONSTANT_ENCAPSED_STRING","'filters'",213],["T_WHITESPACE"," ",213],["T_DOUBLE_ARROW","=>",213],["T_WHITESPACE"," ",213],["T_ARRAY","array",213],"(",["T_WHITESPACE","\n        ",213],["T_CONSTANT_ENCAPSED_STRING","'filter_html'",214],["T_WHITESPACE"," ",214],["T_DOUBLE_ARROW","=>",214],["T_WHITESPACE"," ",214],["T_ARRAY","array",214],"(",["T_WHITESPACE","\n          ",214],["T_CONSTANT_ENCAPSED_STRING","'status'",215],["T_WHITESPACE"," ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_LNUMBER","1",215],",",["T_WHITESPACE","\n          ",215],["T_CONSTANT_ENCAPSED_STRING","'settings'",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],["T_ARRAY","array",216],"(",["T_WHITESPACE","\n            ",216],["T_CONSTANT_ENCAPSED_STRING","'allowed_html'",217],["T_WHITESPACE"," ",217],["T_DOUBLE_ARROW","=>",217],["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'<a> <b class> <c class=\"*\"> <d class=\"foo bar-* *\">'",217],",",["T_WHITESPACE","\n          ",217],")",",",["T_WHITESPACE","\n        ",218],")",",",["T_WHITESPACE","\n      ",219],")",["T_WHITESPACE","\n    ",220],")",")",";",["T_WHITESPACE","\n    ",221],["T_VARIABLE","$nonsensical_restricted_html",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","save",222],"(",")",";",["T_WHITESPACE","\n    ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","assertIdentical",223],"(",["T_WHITESPACE","\n      ",223],["T_VARIABLE","$nonsensical_restricted_html",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getHtmlRestrictions",224],"(",")",",",["T_WHITESPACE","\n      ",224],["T_ARRAY","array",225],"(",["T_WHITESPACE","\n        ",225],["T_CONSTANT_ENCAPSED_STRING","'allowed'",226],["T_WHITESPACE"," ",226],["T_DOUBLE_ARROW","=>",226],["T_WHITESPACE"," ",226],["T_ARRAY","array",226],"(",["T_WHITESPACE","\n          ",226],["T_CONSTANT_ENCAPSED_STRING","'a'",227],["T_WHITESPACE"," ",227],["T_DOUBLE_ARROW","=>",227],["T_WHITESPACE"," ",227],["T_STRING","FALSE",227],",",["T_WHITESPACE","\n          ",227],["T_CONSTANT_ENCAPSED_STRING","'b'",228],["T_WHITESPACE"," ",228],["T_DOUBLE_ARROW","=>",228],["T_WHITESPACE"," ",228],["T_ARRAY","array",228],"(",["T_CONSTANT_ENCAPSED_STRING","'class'",228],["T_WHITESPACE"," ",228],["T_DOUBLE_ARROW","=>",228],["T_WHITESPACE"," ",228],["T_STRING","TRUE",228],")",",",["T_WHITESPACE","\n          ",228],["T_CONSTANT_ENCAPSED_STRING","'c'",229],["T_WHITESPACE"," ",229],["T_DOUBLE_ARROW","=>",229],["T_WHITESPACE"," ",229],["T_ARRAY","array",229],"(",["T_CONSTANT_ENCAPSED_STRING","'class'",229],["T_WHITESPACE"," ",229],["T_DOUBLE_ARROW","=>",229],["T_WHITESPACE"," ",229],["T_STRING","TRUE",229],")",",",["T_WHITESPACE","\n          ",229],["T_CONSTANT_ENCAPSED_STRING","'d'",230],["T_WHITESPACE"," ",230],["T_DOUBLE_ARROW","=>",230],["T_WHITESPACE"," ",230],["T_ARRAY","array",230],"(",["T_CONSTANT_ENCAPSED_STRING","'class'",230],["T_WHITESPACE"," ",230],["T_DOUBLE_ARROW","=>",230],["T_WHITESPACE"," ",230],["T_ARRAY","array",230],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",230],["T_WHITESPACE"," ",230],["T_DOUBLE_ARROW","=>",230],["T_WHITESPACE"," ",230],["T_STRING","TRUE",230],",",["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","'bar-*'",230],["T_WHITESPACE"," ",230],["T_DOUBLE_ARROW","=>",230],["T_WHITESPACE"," ",230],["T_STRING","TRUE",230],")",")",",",["T_WHITESPACE","\n          ",230],["T_CONSTANT_ENCAPSED_STRING","'*'",231],["T_WHITESPACE"," ",231],["T_DOUBLE_ARROW","=>",231],["T_WHITESPACE"," ",231],["T_ARRAY","array",231],"(",["T_CONSTANT_ENCAPSED_STRING","'style'",231],["T_WHITESPACE"," ",231],["T_DOUBLE_ARROW","=>",231],["T_WHITESPACE"," ",231],["T_STRING","FALSE",231],",",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'on*'",231],["T_WHITESPACE"," ",231],["T_DOUBLE_ARROW","=>",231],["T_WHITESPACE"," ",231],["T_STRING","FALSE",231],",",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'lang'",231],["T_WHITESPACE"," ",231],["T_DOUBLE_ARROW","=>",231],["T_WHITESPACE"," ",231],["T_STRING","TRUE",231],",",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'dir'",231],["T_WHITESPACE"," ",231],["T_DOUBLE_ARROW","=>",231],["T_WHITESPACE"," ",231],["T_ARRAY","array",231],"(",["T_CONSTANT_ENCAPSED_STRING","'ltr'",231],["T_WHITESPACE"," ",231],["T_DOUBLE_ARROW","=>",231],["T_WHITESPACE"," ",231],["T_STRING","TRUE",231],",",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'rtl'",231],["T_WHITESPACE"," ",231],["T_DOUBLE_ARROW","=>",231],["T_WHITESPACE"," ",231],["T_STRING","TRUE",231],")",")",",",["T_WHITESPACE","\n        ",231],")",",",["T_WHITESPACE","\n      ",232],")",",",["T_WHITESPACE","\n      ",233],["T_CONSTANT_ENCAPSED_STRING","'FilterFormatInterface::getHtmlRestrictions() works as expected for the nonsensical_restricted_html format.'",234],["T_WHITESPACE","\n    ",234],")",";",["T_WHITESPACE","\n    ",235],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","assertIdentical",236],"(",["T_WHITESPACE","\n      ",236],["T_VARIABLE","$very_restricted_html_format",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","getFilterTypes",237],"(",")",",",["T_WHITESPACE","\n      ",237],["T_ARRAY","array",238],"(",["T_STRING","FilterInterface",238],["T_DOUBLE_COLON","::",238],["T_STRING","TYPE_HTML_RESTRICTOR",238],")",",",["T_WHITESPACE","\n      ",238],["T_CONSTANT_ENCAPSED_STRING","'FilterFormatInterface::getFilterTypes() works as expected for the very_restricted_html format.'",239],["T_WHITESPACE","\n    ",239],")",";",["T_WHITESPACE","\n  ",240],"}",["T_WHITESPACE","\n\n  ",241],["T_DOC_COMMENT","\/**\n   * Tests the 'processed_text' element.\n   *\n   * check_markup() is a wrapper for the 'processed_text' element, for use in\n   * simple scenarios; the 'processed_text' element has more advanced features:\n   * it lets filters attach assets, associate cache tags and define\n   * #lazy_builder callbacks.\n   * This test focuses solely on those advanced features.\n   *\/",243],["T_WHITESPACE","\n  ",251],["T_FUNCTION","function",252],["T_WHITESPACE"," ",252],["T_STRING","testProcessedTextElement",252],"(",")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n    ",252],["T_STRING","FilterFormat",253],["T_DOUBLE_COLON","::",253],["T_STRING","create",253],"(",["T_ARRAY","array",253],"(",["T_WHITESPACE","\n      ",253],["T_CONSTANT_ENCAPSED_STRING","'format'",254],["T_WHITESPACE"," ",254],["T_DOUBLE_ARROW","=>",254],["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'element_test'",254],",",["T_WHITESPACE","\n      ",254],["T_CONSTANT_ENCAPSED_STRING","'name'",255],["T_WHITESPACE"," ",255],["T_DOUBLE_ARROW","=>",255],["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","'processed_text element test format'",255],",",["T_WHITESPACE","\n      ",255],["T_CONSTANT_ENCAPSED_STRING","'filters'",256],["T_WHITESPACE"," ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],["T_ARRAY","array",256],"(",["T_WHITESPACE","\n        ",256],["T_CONSTANT_ENCAPSED_STRING","'filter_test_assets'",257],["T_WHITESPACE"," ",257],["T_DOUBLE_ARROW","=>",257],["T_WHITESPACE"," ",257],["T_ARRAY","array",257],"(",["T_WHITESPACE","\n          ",257],["T_CONSTANT_ENCAPSED_STRING","'weight'",258],["T_WHITESPACE"," ",258],["T_DOUBLE_ARROW","=>",258],["T_WHITESPACE"," ",258],"-",["T_LNUMBER","1",258],",",["T_WHITESPACE","\n          ",258],["T_CONSTANT_ENCAPSED_STRING","'status'",259],["T_WHITESPACE"," ",259],["T_DOUBLE_ARROW","=>",259],["T_WHITESPACE"," ",259],["T_STRING","TRUE",259],",",["T_WHITESPACE","\n        ",259],")",",",["T_WHITESPACE","\n        ",260],["T_CONSTANT_ENCAPSED_STRING","'filter_test_cache_tags'",261],["T_WHITESPACE"," ",261],["T_DOUBLE_ARROW","=>",261],["T_WHITESPACE"," ",261],["T_ARRAY","array",261],"(",["T_WHITESPACE","\n          ",261],["T_CONSTANT_ENCAPSED_STRING","'weight'",262],["T_WHITESPACE"," ",262],["T_DOUBLE_ARROW","=>",262],["T_WHITESPACE"," ",262],["T_LNUMBER","0",262],",",["T_WHITESPACE","\n          ",262],["T_CONSTANT_ENCAPSED_STRING","'status'",263],["T_WHITESPACE"," ",263],["T_DOUBLE_ARROW","=>",263],["T_WHITESPACE"," ",263],["T_STRING","TRUE",263],",",["T_WHITESPACE","\n        ",263],")",",",["T_WHITESPACE","\n        ",264],["T_CONSTANT_ENCAPSED_STRING","'filter_test_cache_contexts'",265],["T_WHITESPACE"," ",265],["T_DOUBLE_ARROW","=>",265],["T_WHITESPACE"," ",265],["T_ARRAY","array",265],"(",["T_WHITESPACE","\n          ",265],["T_CONSTANT_ENCAPSED_STRING","'weight'",266],["T_WHITESPACE"," ",266],["T_DOUBLE_ARROW","=>",266],["T_WHITESPACE"," ",266],["T_LNUMBER","0",266],",",["T_WHITESPACE","\n          ",266],["T_CONSTANT_ENCAPSED_STRING","'status'",267],["T_WHITESPACE"," ",267],["T_DOUBLE_ARROW","=>",267],["T_WHITESPACE"," ",267],["T_STRING","TRUE",267],",",["T_WHITESPACE","\n        ",267],")",",",["T_WHITESPACE","\n        ",268],["T_CONSTANT_ENCAPSED_STRING","'filter_test_cache_merge'",269],["T_WHITESPACE"," ",269],["T_DOUBLE_ARROW","=>",269],["T_WHITESPACE"," ",269],["T_ARRAY","array",269],"(",["T_WHITESPACE","\n          ",269],["T_CONSTANT_ENCAPSED_STRING","'weight'",270],["T_WHITESPACE"," ",270],["T_DOUBLE_ARROW","=>",270],["T_WHITESPACE"," ",270],["T_LNUMBER","0",270],",",["T_WHITESPACE","\n          ",270],["T_CONSTANT_ENCAPSED_STRING","'status'",271],["T_WHITESPACE"," ",271],["T_DOUBLE_ARROW","=>",271],["T_WHITESPACE"," ",271],["T_STRING","TRUE",271],",",["T_WHITESPACE","\n        ",271],")",",",["T_WHITESPACE","\n        ",272],["T_CONSTANT_ENCAPSED_STRING","'filter_test_placeholders'",273],["T_WHITESPACE"," ",273],["T_DOUBLE_ARROW","=>",273],["T_WHITESPACE"," ",273],["T_ARRAY","array",273],"(",["T_WHITESPACE","\n          ",273],["T_CONSTANT_ENCAPSED_STRING","'weight'",274],["T_WHITESPACE"," ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],["T_LNUMBER","1",274],",",["T_WHITESPACE","\n          ",274],["T_CONSTANT_ENCAPSED_STRING","'status'",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_STRING","TRUE",275],",",["T_WHITESPACE","\n        ",275],")",",",["T_WHITESPACE","\n        ",276],["T_COMMENT","\/\/ Run the HTML corrector filter last, because it has the potential to\n",277],["T_WHITESPACE","        ",278],["T_COMMENT","\/\/ break the placeholders added by the filter_test_placeholders filter.\n",278],["T_WHITESPACE","        ",279],["T_CONSTANT_ENCAPSED_STRING","'filter_htmlcorrector'",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_ARRAY","array",279],"(",["T_WHITESPACE","\n          ",279],["T_CONSTANT_ENCAPSED_STRING","'weight'",280],["T_WHITESPACE"," ",280],["T_DOUBLE_ARROW","=>",280],["T_WHITESPACE"," ",280],["T_LNUMBER","10",280],",",["T_WHITESPACE","\n          ",280],["T_CONSTANT_ENCAPSED_STRING","'status'",281],["T_WHITESPACE"," ",281],["T_DOUBLE_ARROW","=>",281],["T_WHITESPACE"," ",281],["T_STRING","TRUE",281],",",["T_WHITESPACE","\n        ",281],")",",",["T_WHITESPACE","\n      ",282],")",",",["T_WHITESPACE","\n    ",283],")",")",["T_OBJECT_OPERATOR","->",284],["T_STRING","save",284],"(",")",";",["T_WHITESPACE","\n\n    ",284],["T_VARIABLE","$build",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_ARRAY","array",286],"(",["T_WHITESPACE","\n      ",286],["T_CONSTANT_ENCAPSED_STRING","'#type'",287],["T_WHITESPACE"," ",287],["T_DOUBLE_ARROW","=>",287],["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","'processed_text'",287],",",["T_WHITESPACE","\n      ",287],["T_CONSTANT_ENCAPSED_STRING","'#text'",288],["T_WHITESPACE"," ",288],["T_DOUBLE_ARROW","=>",288],["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","'<p>Hello, world!<\/p>'",288],",",["T_WHITESPACE","\n      ",288],["T_CONSTANT_ENCAPSED_STRING","'#format'",289],["T_WHITESPACE"," ",289],["T_DOUBLE_ARROW","=>",289],["T_WHITESPACE"," ",289],["T_CONSTANT_ENCAPSED_STRING","'element_test'",289],",",["T_WHITESPACE","\n    ",289],")",";",["T_WHITESPACE","\n    ",290],["T_STRING","drupal_render_root",291],"(",["T_VARIABLE","$build",291],")",";",["T_WHITESPACE","\n\n    ",291],["T_COMMENT","\/\/ Verify the attachments and cacheability metadata.\n",293],["T_WHITESPACE","    ",294],["T_VARIABLE","$expected_attachments",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_ARRAY","array",294],"(",["T_WHITESPACE","\n      ",294],["T_COMMENT","\/\/ The assets attached by the filter_test_assets filter.\n",295],["T_WHITESPACE","      ",296],["T_CONSTANT_ENCAPSED_STRING","'library'",296],["T_WHITESPACE"," ",296],["T_DOUBLE_ARROW","=>",296],["T_WHITESPACE"," ",296],["T_ARRAY","array",296],"(",["T_WHITESPACE","\n        ",296],["T_CONSTANT_ENCAPSED_STRING","'filter\/caption'",297],",",["T_WHITESPACE","\n      ",297],")",",",["T_WHITESPACE","\n      ",298],["T_COMMENT","\/\/ The placeholders attached that still need to be processed.\n",299],["T_WHITESPACE","      ",300],["T_CONSTANT_ENCAPSED_STRING","'placeholders'",300],["T_WHITESPACE"," ",300],["T_DOUBLE_ARROW","=>",300],["T_WHITESPACE"," ",300],"[","]",",",["T_WHITESPACE","\n    ",300],")",";",["T_WHITESPACE","\n    ",301],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","assertEqual",302],"(",["T_VARIABLE","$expected_attachments",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$build",302],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",302],"]",",",["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","'Expected attachments present'",302],")",";",["T_WHITESPACE","\n    ",302],["T_VARIABLE","$expected_cache_tags",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_ARRAY","array",303],"(",["T_WHITESPACE","\n      ",303],["T_COMMENT","\/\/ The cache tag set by the processed_text element itself.\n",304],["T_WHITESPACE","      ",305],["T_CONSTANT_ENCAPSED_STRING","'config:filter.format.element_test'",305],",",["T_WHITESPACE","\n      ",305],["T_COMMENT","\/\/ The cache tags set by the filter_test_cache_tags filter.\n",306],["T_WHITESPACE","      ",307],["T_CONSTANT_ENCAPSED_STRING","'foo:bar'",307],",",["T_WHITESPACE","\n      ",307],["T_CONSTANT_ENCAPSED_STRING","'foo:baz'",308],",",["T_WHITESPACE","\n      ",308],["T_COMMENT","\/\/ The cache tags set by the filter_test_cache_merge filter.\n",309],["T_WHITESPACE","      ",310],["T_CONSTANT_ENCAPSED_STRING","'merge:tag'",310],",",["T_WHITESPACE","\n    ",310],")",";",["T_WHITESPACE","\n    ",311],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","assertEqual",312],"(",["T_VARIABLE","$expected_cache_tags",312],",",["T_WHITESPACE"," ",312],["T_VARIABLE","$build",312],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",312],"]","[",["T_CONSTANT_ENCAPSED_STRING","'tags'",312],"]",",",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","'Expected cache tags present.'",312],")",";",["T_WHITESPACE","\n    ",312],["T_VARIABLE","$expected_cache_contexts",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],"[",["T_WHITESPACE","\n      ",313],["T_COMMENT","\/\/ The cache context set by the filter_test_cache_contexts filter.\n",314],["T_WHITESPACE","      ",315],["T_CONSTANT_ENCAPSED_STRING","'languages:'",315],["T_WHITESPACE"," ",315],".",["T_WHITESPACE"," ",315],["T_STRING","LanguageInterface",315],["T_DOUBLE_COLON","::",315],["T_STRING","TYPE_CONTENT",315],",",["T_WHITESPACE","\n      ",315],["T_COMMENT","\/\/ The default cache contexts for Renderer.\n",316],["T_WHITESPACE","      ",317],["T_CONSTANT_ENCAPSED_STRING","'languages:'",317],["T_WHITESPACE"," ",317],".",["T_WHITESPACE"," ",317],["T_STRING","LanguageInterface",317],["T_DOUBLE_COLON","::",317],["T_STRING","TYPE_INTERFACE",317],",",["T_WHITESPACE","\n      ",317],["T_CONSTANT_ENCAPSED_STRING","'theme'",318],",",["T_WHITESPACE","\n      ",318],["T_COMMENT","\/\/ The cache tags set by the filter_test_cache_merge filter.\n",319],["T_WHITESPACE","      ",320],["T_CONSTANT_ENCAPSED_STRING","'user.permissions'",320],",",["T_WHITESPACE","\n    ",320],"]",";",["T_WHITESPACE","\n    ",321],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","assertEqual",322],"(",["T_VARIABLE","$expected_cache_contexts",322],",",["T_WHITESPACE"," ",322],["T_VARIABLE","$build",322],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",322],"]","[",["T_CONSTANT_ENCAPSED_STRING","'contexts'",322],"]",",",["T_WHITESPACE"," ",322],["T_CONSTANT_ENCAPSED_STRING","'Expected cache contexts present.'",322],")",";",["T_WHITESPACE","\n    ",322],["T_VARIABLE","$expected_markup",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_CONSTANT_ENCAPSED_STRING","'<p>Hello, world!<\/p><p>This is a dynamic llama.<\/p>'",323],";",["T_WHITESPACE","\n    ",323],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","assertEqual",324],"(",["T_VARIABLE","$expected_markup",324],",",["T_WHITESPACE"," ",324],["T_VARIABLE","$build",324],"[",["T_CONSTANT_ENCAPSED_STRING","'#markup'",324],"]",",",["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","'Expected #lazy_builder callback has been applied.'",324],")",";",["T_WHITESPACE","\n  ",324],"}",["T_WHITESPACE","\n\n  ",325],["T_DOC_COMMENT","\/**\n   * Tests the function of the typed data type.\n   *\/",327],["T_WHITESPACE","\n  ",329],["T_FUNCTION","function",330],["T_WHITESPACE"," ",330],["T_STRING","testTypedDataAPI",330],"(",")",["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n    ",330],["T_VARIABLE","$definition",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_STRING","DataDefinition",331],["T_DOUBLE_COLON","::",331],["T_STRING","create",331],"(",["T_CONSTANT_ENCAPSED_STRING","'filter_format'",331],")",";",["T_WHITESPACE","\n    ",331],["T_VARIABLE","$data",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_NS_SEPARATOR","\\",332],["T_STRING","Drupal",332],["T_DOUBLE_COLON","::",332],["T_STRING","typedDataManager",332],"(",")",["T_OBJECT_OPERATOR","->",332],["T_STRING","create",332],"(",["T_VARIABLE","$definition",332],")",";",["T_WHITESPACE","\n\n    ",332],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","assertTrue",334],"(",["T_VARIABLE","$data",334],["T_WHITESPACE"," ",334],["T_INSTANCEOF","instanceof",334],["T_WHITESPACE"," ",334],["T_STRING","OptionsProviderInterface",334],",",["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","'Typed data object implements \\Drupal\\Core\\TypedData\\OptionsProviderInterface'",334],")",";",["T_WHITESPACE","\n\n    ",334],["T_VARIABLE","$filtered_html_user",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","createUser",336],"(",["T_ARRAY","array",336],"(",["T_CONSTANT_ENCAPSED_STRING","'uid'",336],["T_WHITESPACE"," ",336],["T_DOUBLE_ARROW","=>",336],["T_WHITESPACE"," ",336],["T_LNUMBER","2",336],")",",",["T_WHITESPACE"," ",336],["T_ARRAY","array",336],"(",["T_WHITESPACE","\n      ",336],["T_STRING","FilterFormat",337],["T_DOUBLE_COLON","::",337],["T_STRING","load",337],"(",["T_CONSTANT_ENCAPSED_STRING","'filtered_html'",337],")",["T_OBJECT_OPERATOR","->",337],["T_STRING","getPermissionName",337],"(",")",",",["T_WHITESPACE","\n    ",337],")",")",";",["T_WHITESPACE","\n\n    ",338],["T_COMMENT","\/\/ Test with anonymous user.\n",340],["T_WHITESPACE","    ",341],["T_VARIABLE","$user",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_NEW","new",341],["T_WHITESPACE"," ",341],["T_STRING","AnonymousUserSession",341],"(",")",";",["T_WHITESPACE","\n    ",341],["T_NS_SEPARATOR","\\",342],["T_STRING","Drupal",342],["T_DOUBLE_COLON","::",342],["T_STRING","currentUser",342],"(",")",["T_OBJECT_OPERATOR","->",342],["T_STRING","setAccount",342],"(",["T_VARIABLE","$user",342],")",";",["T_WHITESPACE","\n\n    ",342],["T_VARIABLE","$expected_available_options",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_ARRAY","array",344],"(",["T_WHITESPACE","\n      ",344],["T_CONSTANT_ENCAPSED_STRING","'filtered_html'",345],["T_WHITESPACE"," ",345],["T_DOUBLE_ARROW","=>",345],["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","'Filtered HTML'",345],",",["T_WHITESPACE","\n      ",345],["T_CONSTANT_ENCAPSED_STRING","'full_html'",346],["T_WHITESPACE"," ",346],["T_DOUBLE_ARROW","=>",346],["T_WHITESPACE"," ",346],["T_CONSTANT_ENCAPSED_STRING","'Full HTML'",346],",",["T_WHITESPACE","\n      ",346],["T_CONSTANT_ENCAPSED_STRING","'filter_test'",347],["T_WHITESPACE"," ",347],["T_DOUBLE_ARROW","=>",347],["T_WHITESPACE"," ",347],["T_CONSTANT_ENCAPSED_STRING","'Test format'",347],",",["T_WHITESPACE","\n      ",347],["T_CONSTANT_ENCAPSED_STRING","'plain_text'",348],["T_WHITESPACE"," ",348],["T_DOUBLE_ARROW","=>",348],["T_WHITESPACE"," ",348],["T_CONSTANT_ENCAPSED_STRING","'Plain text'",348],",",["T_WHITESPACE","\n    ",348],")",";",["T_WHITESPACE","\n\n    ",349],["T_VARIABLE","$available_values",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_VARIABLE","$data",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","getPossibleValues",351],"(",")",";",["T_WHITESPACE","\n    ",351],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","assertEqual",352],"(",["T_VARIABLE","$available_values",352],",",["T_WHITESPACE"," ",352],["T_STRING","array_keys",352],"(",["T_VARIABLE","$expected_available_options",352],")",")",";",["T_WHITESPACE","\n    ",352],["T_VARIABLE","$available_options",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_VARIABLE","$data",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","getPossibleOptions",353],"(",")",";",["T_WHITESPACE","\n    ",353],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","assertEqual",354],"(",["T_VARIABLE","$available_options",354],",",["T_WHITESPACE"," ",354],["T_VARIABLE","$expected_available_options",354],")",";",["T_WHITESPACE","\n\n    ",354],["T_VARIABLE","$allowed_values",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_VARIABLE","$data",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","getSettableValues",356],"(",["T_VARIABLE","$user",356],")",";",["T_WHITESPACE","\n    ",356],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","assertEqual",357],"(",["T_VARIABLE","$allowed_values",357],",",["T_WHITESPACE"," ",357],["T_ARRAY","array",357],"(",["T_CONSTANT_ENCAPSED_STRING","'plain_text'",357],")",")",";",["T_WHITESPACE","\n    ",357],["T_VARIABLE","$allowed_options",358],["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_VARIABLE","$data",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","getSettableOptions",358],"(",["T_VARIABLE","$user",358],")",";",["T_WHITESPACE","\n    ",358],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","assertEqual",359],"(",["T_VARIABLE","$allowed_options",359],",",["T_WHITESPACE"," ",359],["T_ARRAY","array",359],"(",["T_CONSTANT_ENCAPSED_STRING","'plain_text'",359],["T_WHITESPACE"," ",359],["T_DOUBLE_ARROW","=>",359],["T_WHITESPACE"," ",359],["T_CONSTANT_ENCAPSED_STRING","'Plain text'",359],")",")",";",["T_WHITESPACE","\n\n    ",359],["T_VARIABLE","$data",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","setValue",361],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",361],")",";",["T_WHITESPACE","\n    ",361],["T_VARIABLE","$violations",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_VARIABLE","$data",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","validate",362],"(",")",";",["T_WHITESPACE","\n    ",362],["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","assertFilterFormatViolation",363],"(",["T_VARIABLE","$violations",363],",",["T_WHITESPACE"," ",363],["T_CONSTANT_ENCAPSED_STRING","'foo'",363],")",";",["T_WHITESPACE","\n\n    ",363],["T_COMMENT","\/\/ Make sure the information provided by a violation is correct.\n",365],["T_WHITESPACE","    ",366],["T_VARIABLE","$violation",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_VARIABLE","$violations",366],"[",["T_LNUMBER","0",366],"]",";",["T_WHITESPACE","\n    ",366],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","assertEqual",367],"(",["T_VARIABLE","$violation",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","getRoot",367],"(",")",",",["T_WHITESPACE"," ",367],["T_VARIABLE","$data",367],",",["T_WHITESPACE"," ",367],["T_CONSTANT_ENCAPSED_STRING","'Violation root is filter format.'",367],")",";",["T_WHITESPACE","\n    ",367],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","assertEqual",368],"(",["T_VARIABLE","$violation",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","getPropertyPath",368],"(",")",",",["T_WHITESPACE"," ",368],["T_CONSTANT_ENCAPSED_STRING","''",368],",",["T_WHITESPACE"," ",368],["T_CONSTANT_ENCAPSED_STRING","'Violation property path is correct.'",368],")",";",["T_WHITESPACE","\n    ",368],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","assertEqual",369],"(",["T_VARIABLE","$violation",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","getInvalidValue",369],"(",")",",",["T_WHITESPACE"," ",369],["T_CONSTANT_ENCAPSED_STRING","'foo'",369],",",["T_WHITESPACE"," ",369],["T_CONSTANT_ENCAPSED_STRING","'Violation contains invalid value.'",369],")",";",["T_WHITESPACE","\n\n    ",369],["T_VARIABLE","$data",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","setValue",371],"(",["T_CONSTANT_ENCAPSED_STRING","'plain_text'",371],")",";",["T_WHITESPACE","\n    ",371],["T_VARIABLE","$violations",372],["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_VARIABLE","$data",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","validate",372],"(",")",";",["T_WHITESPACE","\n    ",372],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","assertEqual",373],"(",["T_STRING","count",373],"(",["T_VARIABLE","$violations",373],")",",",["T_WHITESPACE"," ",373],["T_LNUMBER","0",373],",",["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","\"No validation violation for format 'plain_text' found\"",373],")",";",["T_WHITESPACE","\n\n    ",373],["T_COMMENT","\/\/ Anonymous doesn't have access to the 'filtered_html' format.\n",375],["T_WHITESPACE","    ",376],["T_VARIABLE","$data",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","setValue",376],"(",["T_CONSTANT_ENCAPSED_STRING","'filtered_html'",376],")",";",["T_WHITESPACE","\n    ",376],["T_VARIABLE","$violations",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_VARIABLE","$data",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","validate",377],"(",")",";",["T_WHITESPACE","\n    ",377],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","assertFilterFormatViolation",378],"(",["T_VARIABLE","$violations",378],",",["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","'filtered_html'",378],")",";",["T_WHITESPACE","\n\n    ",378],["T_COMMENT","\/\/ Set user with access to 'filtered_html' format.\n",380],["T_WHITESPACE","    ",381],["T_NS_SEPARATOR","\\",381],["T_STRING","Drupal",381],["T_DOUBLE_COLON","::",381],["T_STRING","currentUser",381],"(",")",["T_OBJECT_OPERATOR","->",381],["T_STRING","setAccount",381],"(",["T_VARIABLE","$filtered_html_user",381],")",";",["T_WHITESPACE","\n    ",381],["T_VARIABLE","$violations",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_VARIABLE","$data",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","validate",382],"(",")",";",["T_WHITESPACE","\n    ",382],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","assertEqual",383],"(",["T_STRING","count",383],"(",["T_VARIABLE","$violations",383],")",",",["T_WHITESPACE"," ",383],["T_LNUMBER","0",383],",",["T_WHITESPACE"," ",383],["T_CONSTANT_ENCAPSED_STRING","\"No validation violation for accessible format 'filtered_html' found.\"",383],")",";",["T_WHITESPACE","\n\n    ",383],["T_VARIABLE","$allowed_values",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_VARIABLE","$data",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","getSettableValues",385],"(",["T_VARIABLE","$filtered_html_user",385],")",";",["T_WHITESPACE","\n    ",385],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","assertEqual",386],"(",["T_VARIABLE","$allowed_values",386],",",["T_WHITESPACE"," ",386],["T_ARRAY","array",386],"(",["T_CONSTANT_ENCAPSED_STRING","'filtered_html'",386],",",["T_WHITESPACE"," ",386],["T_CONSTANT_ENCAPSED_STRING","'plain_text'",386],")",")",";",["T_WHITESPACE","\n    ",386],["T_VARIABLE","$allowed_options",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_VARIABLE","$data",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","getSettableOptions",387],"(",["T_VARIABLE","$filtered_html_user",387],")",";",["T_WHITESPACE","\n    ",387],["T_VARIABLE","$expected_allowed_options",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_ARRAY","array",388],"(",["T_WHITESPACE","\n      ",388],["T_CONSTANT_ENCAPSED_STRING","'filtered_html'",389],["T_WHITESPACE"," ",389],["T_DOUBLE_ARROW","=>",389],["T_WHITESPACE"," ",389],["T_CONSTANT_ENCAPSED_STRING","'Filtered HTML'",389],",",["T_WHITESPACE","\n      ",389],["T_CONSTANT_ENCAPSED_STRING","'plain_text'",390],["T_WHITESPACE"," ",390],["T_DOUBLE_ARROW","=>",390],["T_WHITESPACE"," ",390],["T_CONSTANT_ENCAPSED_STRING","'Plain text'",390],",",["T_WHITESPACE","\n    ",390],")",";",["T_WHITESPACE","\n    ",391],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","assertEqual",392],"(",["T_VARIABLE","$allowed_options",392],",",["T_WHITESPACE"," ",392],["T_VARIABLE","$expected_allowed_options",392],")",";",["T_WHITESPACE","\n  ",392],"}",["T_WHITESPACE","\n\n  ",393],["T_DOC_COMMENT","\/**\n   * Tests that FilterFormat::preSave() only saves customized plugins.\n   *\/",395],["T_WHITESPACE","\n  ",397],["T_PUBLIC","public",398],["T_WHITESPACE"," ",398],["T_FUNCTION","function",398],["T_WHITESPACE"," ",398],["T_STRING","testFilterFormatPreSave",398],"(",")",["T_WHITESPACE"," ",398],"{",["T_WHITESPACE","\n    ",398],["T_DOC_COMMENT","\/** @var \\Drupal\\filter\\FilterFormatInterface $crazy_format *\/",399],["T_WHITESPACE","\n    ",399],["T_VARIABLE","$crazy_format",400],["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],["T_STRING","FilterFormat",400],["T_DOUBLE_COLON","::",400],["T_STRING","create",400],"(",["T_ARRAY","array",400],"(",["T_WHITESPACE","\n      ",400],["T_CONSTANT_ENCAPSED_STRING","'format'",401],["T_WHITESPACE"," ",401],["T_DOUBLE_ARROW","=>",401],["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","'crazy'",401],",",["T_WHITESPACE","\n      ",401],["T_CONSTANT_ENCAPSED_STRING","'name'",402],["T_WHITESPACE"," ",402],["T_DOUBLE_ARROW","=>",402],["T_WHITESPACE"," ",402],["T_CONSTANT_ENCAPSED_STRING","'Crazy'",402],",",["T_WHITESPACE","\n      ",402],["T_CONSTANT_ENCAPSED_STRING","'weight'",403],["T_WHITESPACE"," ",403],["T_DOUBLE_ARROW","=>",403],["T_WHITESPACE"," ",403],["T_LNUMBER","1",403],",",["T_WHITESPACE","\n      ",403],["T_CONSTANT_ENCAPSED_STRING","'filters'",404],["T_WHITESPACE"," ",404],["T_DOUBLE_ARROW","=>",404],["T_WHITESPACE"," ",404],["T_ARRAY","array",404],"(",["T_WHITESPACE","\n        ",404],["T_CONSTANT_ENCAPSED_STRING","'filter_html_escape'",405],["T_WHITESPACE"," ",405],["T_DOUBLE_ARROW","=>",405],["T_WHITESPACE"," ",405],["T_ARRAY","array",405],"(",["T_WHITESPACE","\n          ",405],["T_CONSTANT_ENCAPSED_STRING","'weight'",406],["T_WHITESPACE"," ",406],["T_DOUBLE_ARROW","=>",406],["T_WHITESPACE"," ",406],["T_LNUMBER","10",406],",",["T_WHITESPACE","\n          ",406],["T_CONSTANT_ENCAPSED_STRING","'status'",407],["T_WHITESPACE"," ",407],["T_DOUBLE_ARROW","=>",407],["T_WHITESPACE"," ",407],["T_LNUMBER","1",407],",",["T_WHITESPACE","\n        ",407],")",",",["T_WHITESPACE","\n        ",408],["T_CONSTANT_ENCAPSED_STRING","'filter_html'",409],["T_WHITESPACE"," ",409],["T_DOUBLE_ARROW","=>",409],["T_WHITESPACE"," ",409],["T_ARRAY","array",409],"(",["T_WHITESPACE","\n          ",409],["T_CONSTANT_ENCAPSED_STRING","'weight'",410],["T_WHITESPACE"," ",410],["T_DOUBLE_ARROW","=>",410],["T_WHITESPACE"," ",410],"-",["T_LNUMBER","10",410],",",["T_WHITESPACE","\n          ",410],["T_CONSTANT_ENCAPSED_STRING","'status'",411],["T_WHITESPACE"," ",411],["T_DOUBLE_ARROW","=>",411],["T_WHITESPACE"," ",411],["T_LNUMBER","1",411],",",["T_WHITESPACE","\n          ",411],["T_CONSTANT_ENCAPSED_STRING","'settings'",412],["T_WHITESPACE"," ",412],["T_DOUBLE_ARROW","=>",412],["T_WHITESPACE"," ",412],["T_ARRAY","array",412],"(",["T_WHITESPACE","\n            ",412],["T_CONSTANT_ENCAPSED_STRING","'allowed_html'",413],["T_WHITESPACE"," ",413],["T_DOUBLE_ARROW","=>",413],["T_WHITESPACE"," ",413],["T_CONSTANT_ENCAPSED_STRING","'<p>'",413],",",["T_WHITESPACE","\n          ",413],")",",",["T_WHITESPACE","\n        ",414],")",",",["T_WHITESPACE","\n      ",415],")",["T_WHITESPACE","\n    ",416],")",")",";",["T_WHITESPACE","\n    ",417],["T_VARIABLE","$crazy_format",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","save",418],"(",")",";",["T_WHITESPACE","\n    ",418],["T_COMMENT","\/\/ Use config to directly load the configuration and check that only enabled\n",419],["T_WHITESPACE","    ",420],["T_COMMENT","\/\/ or customized plugins are saved to configuration.\n",420],["T_WHITESPACE","    ",421],["T_VARIABLE","$filters",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","config",421],"(",["T_CONSTANT_ENCAPSED_STRING","'filter.format.crazy'",421],")",["T_OBJECT_OPERATOR","->",421],["T_STRING","get",421],"(",["T_CONSTANT_ENCAPSED_STRING","'filters'",421],")",";",["T_WHITESPACE","\n    ",421],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","assertEqual",422],"(",["T_ARRAY","array",422],"(",["T_CONSTANT_ENCAPSED_STRING","'filter_html_escape'",422],",",["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","'filter_html'",422],")",",",["T_WHITESPACE"," ",422],["T_STRING","array_keys",422],"(",["T_VARIABLE","$filters",422],")",")",";",["T_WHITESPACE","\n\n    ",422],["T_COMMENT","\/\/ Disable a plugin to ensure that disabled plugins with custom settings are\n",424],["T_WHITESPACE","    ",425],["T_COMMENT","\/\/ stored in configuration.\n",425],["T_WHITESPACE","    ",426],["T_VARIABLE","$crazy_format",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","setFilterConfig",426],"(",["T_CONSTANT_ENCAPSED_STRING","'filter_html_escape'",426],",",["T_WHITESPACE"," ",426],["T_ARRAY","array",426],"(",["T_CONSTANT_ENCAPSED_STRING","'status'",426],["T_WHITESPACE"," ",426],["T_DOUBLE_ARROW","=>",426],["T_WHITESPACE"," ",426],["T_STRING","FALSE",426],")",")",";",["T_WHITESPACE","\n    ",426],["T_VARIABLE","$crazy_format",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","save",427],"(",")",";",["T_WHITESPACE","\n    ",427],["T_VARIABLE","$filters",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","config",428],"(",["T_CONSTANT_ENCAPSED_STRING","'filter.format.crazy'",428],")",["T_OBJECT_OPERATOR","->",428],["T_STRING","get",428],"(",["T_CONSTANT_ENCAPSED_STRING","'filters'",428],")",";",["T_WHITESPACE","\n    ",428],["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","assertEqual",429],"(",["T_ARRAY","array",429],"(",["T_CONSTANT_ENCAPSED_STRING","'filter_html_escape'",429],",",["T_WHITESPACE"," ",429],["T_CONSTANT_ENCAPSED_STRING","'filter_html'",429],")",",",["T_WHITESPACE"," ",429],["T_STRING","array_keys",429],"(",["T_VARIABLE","$filters",429],")",")",";",["T_WHITESPACE","\n\n    ",429],["T_COMMENT","\/\/ Set the settings as per default to ensure that disable plugins in this\n",431],["T_WHITESPACE","    ",432],["T_COMMENT","\/\/ state are not stored in configuration.\n",432],["T_WHITESPACE","    ",433],["T_VARIABLE","$crazy_format",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","setFilterConfig",433],"(",["T_CONSTANT_ENCAPSED_STRING","'filter_html_escape'",433],",",["T_WHITESPACE"," ",433],["T_ARRAY","array",433],"(",["T_CONSTANT_ENCAPSED_STRING","'weight'",433],["T_WHITESPACE"," ",433],["T_DOUBLE_ARROW","=>",433],["T_WHITESPACE"," ",433],"-",["T_LNUMBER","10",433],")",")",";",["T_WHITESPACE","\n    ",433],["T_VARIABLE","$crazy_format",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","save",434],"(",")",";",["T_WHITESPACE","\n    ",434],["T_VARIABLE","$filters",435],["T_WHITESPACE"," ",435],"=",["T_WHITESPACE"," ",435],["T_VARIABLE","$this",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","config",435],"(",["T_CONSTANT_ENCAPSED_STRING","'filter.format.crazy'",435],")",["T_OBJECT_OPERATOR","->",435],["T_STRING","get",435],"(",["T_CONSTANT_ENCAPSED_STRING","'filters'",435],")",";",["T_WHITESPACE","\n    ",435],["T_VARIABLE","$this",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","assertEqual",436],"(",["T_ARRAY","array",436],"(",["T_CONSTANT_ENCAPSED_STRING","'filter_html'",436],")",",",["T_WHITESPACE"," ",436],["T_STRING","array_keys",436],"(",["T_VARIABLE","$filters",436],")",")",";",["T_WHITESPACE","\n  ",436],"}",["T_WHITESPACE","\n\n  ",437],["T_DOC_COMMENT","\/**\n   * Checks if an expected violation exists in the given violations.\n   *\n   * @param \\Symfony\\Component\\Validator\\ConstraintViolationListInterface $violations\n   *   The violations to assert.\n   * @param mixed $invalid_value\n   *   The expected invalid value.\n   *\/",439],["T_WHITESPACE","\n  ",446],["T_PUBLIC","public",447],["T_WHITESPACE"," ",447],["T_FUNCTION","function",447],["T_WHITESPACE"," ",447],["T_STRING","assertFilterFormatViolation",447],"(",["T_STRING","ConstraintViolationListInterface",447],["T_WHITESPACE"," ",447],["T_VARIABLE","$violations",447],",",["T_WHITESPACE"," ",447],["T_VARIABLE","$invalid_value",447],")",["T_WHITESPACE"," ",447],"{",["T_WHITESPACE","\n    ",447],["T_VARIABLE","$filter_format_violation_found",448],["T_WHITESPACE"," ",448],"=",["T_WHITESPACE"," ",448],["T_STRING","FALSE",448],";",["T_WHITESPACE","\n    ",448],["T_FOREACH","foreach",449],["T_WHITESPACE"," ",449],"(",["T_VARIABLE","$violations",449],["T_WHITESPACE"," ",449],["T_AS","as",449],["T_WHITESPACE"," ",449],["T_VARIABLE","$violation",449],")",["T_WHITESPACE"," ",449],"{",["T_WHITESPACE","\n      ",449],["T_IF","if",450],["T_WHITESPACE"," ",450],"(",["T_VARIABLE","$violation",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","getRoot",450],"(",")",["T_WHITESPACE"," ",450],["T_INSTANCEOF","instanceof",450],["T_WHITESPACE"," ",450],["T_STRING","FilterFormatDataType",450],["T_WHITESPACE"," ",450],["T_BOOLEAN_AND","&&",450],["T_WHITESPACE"," ",450],["T_VARIABLE","$violation",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","getInvalidValue",450],"(",")",["T_WHITESPACE"," ",450],["T_IS_IDENTICAL","===",450],["T_WHITESPACE"," ",450],["T_VARIABLE","$invalid_value",450],")",["T_WHITESPACE"," ",450],"{",["T_WHITESPACE","\n        ",450],["T_VARIABLE","$filter_format_violation_found",451],["T_WHITESPACE"," ",451],"=",["T_WHITESPACE"," ",451],["T_STRING","TRUE",451],";",["T_WHITESPACE","\n        ",451],["T_BREAK","break",452],";",["T_WHITESPACE","\n      ",452],"}",["T_WHITESPACE","\n    ",453],"}",["T_WHITESPACE","\n    ",454],["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","assertTrue",455],"(",["T_VARIABLE","$filter_format_violation_found",455],",",["T_WHITESPACE"," ",455],["T_STRING","format_string",455],"(",["T_CONSTANT_ENCAPSED_STRING","'Validation violation for invalid value \"%invalid_value\" found'",455],",",["T_WHITESPACE"," ",455],["T_ARRAY","array",455],"(",["T_CONSTANT_ENCAPSED_STRING","'%invalid_value'",455],["T_WHITESPACE"," ",455],["T_DOUBLE_ARROW","=>",455],["T_WHITESPACE"," ",455],["T_VARIABLE","$invalid_value",455],")",")",")",";",["T_WHITESPACE","\n  ",455],"}",["T_WHITESPACE","\n\n  ",456],["T_DOC_COMMENT","\/**\n   * Tests that filter format dependency removal works.\n   *\n   * Ensure that modules providing filter plugins are required when the plugin\n   * is in use, and that only disabled plugins are removed from format\n   * configuration entities rather than the configuration entities being\n   * deleted.\n   *\n   * @see \\Drupal\\filter\\Entity\\FilterFormat::onDependencyRemoval()\n   * @see filter_system_info_alter()\n   *\/",458],["T_WHITESPACE","\n  ",468],["T_PUBLIC","public",469],["T_WHITESPACE"," ",469],["T_FUNCTION","function",469],["T_WHITESPACE"," ",469],["T_STRING","testDependencyRemoval",469],"(",")",["T_WHITESPACE"," ",469],"{",["T_WHITESPACE","\n    ",469],["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","installSchema",470],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",470],",",["T_WHITESPACE"," ",470],["T_ARRAY","array",470],"(",["T_CONSTANT_ENCAPSED_STRING","'users_data'",470],")",")",";",["T_WHITESPACE","\n    ",470],["T_VARIABLE","$filter_format",471],["T_WHITESPACE"," ",471],"=",["T_WHITESPACE"," ",471],["T_STRING","FilterFormat",471],["T_DOUBLE_COLON","::",471],["T_STRING","load",471],"(",["T_CONSTANT_ENCAPSED_STRING","'filtered_html'",471],")",";",["T_WHITESPACE","\n\n    ",471],["T_COMMENT","\/\/ Disable the filter_test_restrict_tags_and_attributes filter plugin but\n",473],["T_WHITESPACE","    ",474],["T_COMMENT","\/\/ have custom configuration so that the filter plugin is still configured\n",474],["T_WHITESPACE","    ",475],["T_COMMENT","\/\/ in filtered_html the filter format.\n",475],["T_WHITESPACE","    ",476],["T_VARIABLE","$filter_config",476],["T_WHITESPACE"," ",476],"=",["T_WHITESPACE"," ",476],"[",["T_WHITESPACE","\n      ",476],["T_CONSTANT_ENCAPSED_STRING","'weight'",477],["T_WHITESPACE"," ",477],["T_DOUBLE_ARROW","=>",477],["T_WHITESPACE"," ",477],["T_LNUMBER","20",477],",",["T_WHITESPACE","\n      ",477],["T_CONSTANT_ENCAPSED_STRING","'status'",478],["T_WHITESPACE"," ",478],["T_DOUBLE_ARROW","=>",478],["T_WHITESPACE"," ",478],["T_LNUMBER","0",478],",",["T_WHITESPACE","\n    ",478],"]",";",["T_WHITESPACE","\n    ",479],["T_VARIABLE","$filter_format",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","setFilterConfig",480],"(",["T_CONSTANT_ENCAPSED_STRING","'filter_test_restrict_tags_and_attributes'",480],",",["T_WHITESPACE"," ",480],["T_VARIABLE","$filter_config",480],")",["T_OBJECT_OPERATOR","->",480],["T_STRING","save",480],"(",")",";",["T_WHITESPACE","\n    ",480],["T_COMMENT","\/\/ Use the get method to match the assert after the module has been\n",481],["T_WHITESPACE","    ",482],["T_COMMENT","\/\/ uninstalled.\n",482],["T_WHITESPACE","    ",483],["T_VARIABLE","$filters",483],["T_WHITESPACE"," ",483],"=",["T_WHITESPACE"," ",483],["T_VARIABLE","$filter_format",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","get",483],"(",["T_CONSTANT_ENCAPSED_STRING","'filters'",483],")",";",["T_WHITESPACE","\n    ",483],["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","assertTrue",484],"(",["T_ISSET","isset",484],"(",["T_VARIABLE","$filters",484],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_test_restrict_tags_and_attributes'",484],"]",")",",",["T_WHITESPACE"," ",484],["T_CONSTANT_ENCAPSED_STRING","'The filter plugin filter_test_restrict_tags_and_attributes is configured by the filtered_html filter format.'",484],")",";",["T_WHITESPACE","\n\n    ",484],["T_STRING","drupal_static_reset",486],"(",["T_CONSTANT_ENCAPSED_STRING","'filter_formats'",486],")",";",["T_WHITESPACE","\n    ",486],["T_NS_SEPARATOR","\\",487],["T_STRING","Drupal",487],["T_DOUBLE_COLON","::",487],["T_STRING","entityManager",487],"(",")",["T_OBJECT_OPERATOR","->",487],["T_STRING","getStorage",487],"(",["T_CONSTANT_ENCAPSED_STRING","'filter_format'",487],")",["T_OBJECT_OPERATOR","->",487],["T_STRING","resetCache",487],"(",")",";",["T_WHITESPACE","\n    ",487],["T_VARIABLE","$module_data",488],["T_WHITESPACE"," ",488],"=",["T_WHITESPACE"," ",488],["T_STRING","_system_rebuild_module_data",488],"(",")",";",["T_WHITESPACE","\n    ",488],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","assertFalse",489],"(",["T_ISSET","isset",489],"(",["T_VARIABLE","$module_data",489],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_test'",489],"]",["T_OBJECT_OPERATOR","->",489],["T_STRING","info",489],"[",["T_CONSTANT_ENCAPSED_STRING","'required'",489],"]",")",",",["T_WHITESPACE"," ",489],["T_CONSTANT_ENCAPSED_STRING","'The filter_test module is required.'",489],")",";",["T_WHITESPACE","\n\n    ",489],["T_COMMENT","\/\/ Verify that a dependency exists on the module that provides the filter\n",491],["T_WHITESPACE","    ",492],["T_COMMENT","\/\/ plugin since it has configuration for the disabled plugin.\n",492],["T_WHITESPACE","    ",493],["T_VARIABLE","$this",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","assertEqual",493],"(","[",["T_CONSTANT_ENCAPSED_STRING","'module'",493],["T_WHITESPACE"," ",493],["T_DOUBLE_ARROW","=>",493],["T_WHITESPACE"," ",493],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_test'",493],"]","]",",",["T_WHITESPACE"," ",493],["T_VARIABLE","$filter_format",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","getDependencies",493],"(",")",")",";",["T_WHITESPACE","\n\n    ",493],["T_COMMENT","\/\/ Uninstall the module.\n",495],["T_WHITESPACE","    ",496],["T_NS_SEPARATOR","\\",496],["T_STRING","Drupal",496],["T_DOUBLE_COLON","::",496],["T_STRING","service",496],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",496],")",["T_OBJECT_OPERATOR","->",496],["T_STRING","uninstall",496],"(",["T_ARRAY","array",496],"(",["T_CONSTANT_ENCAPSED_STRING","'filter_test'",496],")",")",";",["T_WHITESPACE","\n\n    ",496],["T_COMMENT","\/\/ Verify the filter format still exists but the dependency and filter is\n",498],["T_WHITESPACE","    ",499],["T_COMMENT","\/\/ gone.\n",499],["T_WHITESPACE","    ",500],["T_NS_SEPARATOR","\\",500],["T_STRING","Drupal",500],["T_DOUBLE_COLON","::",500],["T_STRING","entityManager",500],"(",")",["T_OBJECT_OPERATOR","->",500],["T_STRING","getStorage",500],"(",["T_CONSTANT_ENCAPSED_STRING","'filter_format'",500],")",["T_OBJECT_OPERATOR","->",500],["T_STRING","resetCache",500],"(",")",";",["T_WHITESPACE","\n    ",500],["T_VARIABLE","$filter_format",501],["T_WHITESPACE"," ",501],"=",["T_WHITESPACE"," ",501],["T_STRING","FilterFormat",501],["T_DOUBLE_COLON","::",501],["T_STRING","load",501],"(",["T_CONSTANT_ENCAPSED_STRING","'filtered_html'",501],")",";",["T_WHITESPACE","\n    ",501],["T_VARIABLE","$this",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","assertEqual",502],"(","[","]",",",["T_WHITESPACE"," ",502],["T_VARIABLE","$filter_format",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","getDependencies",502],"(",")",")",";",["T_WHITESPACE","\n    ",502],["T_COMMENT","\/\/ Use the get method since the FilterFormat::filters() method only returns\n",503],["T_WHITESPACE","    ",504],["T_COMMENT","\/\/ existing plugins.\n",504],["T_WHITESPACE","    ",505],["T_VARIABLE","$filters",505],["T_WHITESPACE"," ",505],"=",["T_WHITESPACE"," ",505],["T_VARIABLE","$filter_format",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","get",505],"(",["T_CONSTANT_ENCAPSED_STRING","'filters'",505],")",";",["T_WHITESPACE","\n    ",505],["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","assertFalse",506],"(",["T_ISSET","isset",506],"(",["T_VARIABLE","$filters",506],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_test_restrict_tags_and_attributes'",506],"]",")",",",["T_WHITESPACE"," ",506],["T_CONSTANT_ENCAPSED_STRING","'The filter plugin filter_test_restrict_tags_and_attributes is not configured by the filtered_html filter format.'",506],")",";",["T_WHITESPACE","\n  ",506],"}",["T_WHITESPACE","\n\n",507],"}",["T_WHITESPACE","\n",509]]