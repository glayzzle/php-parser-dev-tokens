[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","filter",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Migrate",3],["T_NS_SEPARATOR","\\",3],["T_STRING","d7",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","filter",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FilterFormat",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","filter",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FilterFormatInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Tests",7],["T_NS_SEPARATOR","\\",7],["T_STRING","migrate_drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Kernel",7],["T_NS_SEPARATOR","\\",7],["T_STRING","d7",7],["T_NS_SEPARATOR","\\",7],["T_STRING","MigrateDrupal7TestBase",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Upgrade variables to filter.formats.*.yml.\n *\n * @group filter\n *\/",9],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","MigrateFilterFormatTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","MigrateDrupal7TestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",16],["T_WHITESPACE","\n  ",18],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_STATIC","static",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$modules",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_ARRAY","array",19],"(",["T_CONSTANT_ENCAPSED_STRING","'filter'",19],")",";",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",21],["T_WHITESPACE","\n  ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_FUNCTION","function",24],["T_WHITESPACE"," ",24],["T_STRING","setUp",24],"(",")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n    ",24],["T_STRING","parent",25],["T_DOUBLE_COLON","::",25],["T_STRING","setUp",25],"(",")",";",["T_WHITESPACE","\n    ",25],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","installConfig",26],"(",["T_STATIC","static",26],["T_DOUBLE_COLON","::",26],["T_VARIABLE","$modules",26],")",";",["T_WHITESPACE","\n    ",26],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","executeMigration",27],"(",["T_CONSTANT_ENCAPSED_STRING","'d7_filter_format'",27],")",";",["T_WHITESPACE","\n  ",27],"}",["T_WHITESPACE","\n\n  ",28],["T_DOC_COMMENT","\/**\n   * Asserts various aspects of a filter format entity.\n   *\n   * @param string $id\n   *   The format ID.\n   * @param string $label\n   *   The expected label of the format.\n   * @param array $enabled_filters\n   *   The expected filters in the format, keyed by ID with weight as values.\n   * @param int $weight\n   *   The weight of the filter.\n   *\/",30],["T_WHITESPACE","\n  ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","assertEntity",42],"(",["T_VARIABLE","$id",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$label",42],",",["T_WHITESPACE"," ",42],["T_ARRAY","array",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$enabled_filters",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$weight",42],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n    ",42],["T_DOC_COMMENT","\/** @var \\Drupal\\filter\\FilterFormatInterface $entity *\/",43],["T_WHITESPACE","\n    ",43],["T_VARIABLE","$entity",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_STRING","FilterFormat",44],["T_DOUBLE_COLON","::",44],["T_STRING","load",44],"(",["T_VARIABLE","$id",44],")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","assertInstanceOf",45],"(",["T_STRING","FilterFormatInterface",45],["T_DOUBLE_COLON","::",45],["T_CLASS","class",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$entity",45],")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","assertSame",46],"(",["T_VARIABLE","$label",46],",",["T_WHITESPACE"," ",46],["T_VARIABLE","$entity",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","label",46],"(",")",")",";",["T_WHITESPACE","\n    ",46],["T_COMMENT","\/\/ get('filters') will return enabled filters only, not all of them.\n",47],["T_WHITESPACE","    ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","assertSame",48],"(",["T_STRING","array_keys",48],"(",["T_VARIABLE","$enabled_filters",48],")",",",["T_WHITESPACE"," ",48],["T_STRING","array_keys",48],"(",["T_VARIABLE","$entity",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","get",48],"(",["T_CONSTANT_ENCAPSED_STRING","'filters'",48],")",")",")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertSame",49],"(",["T_VARIABLE","$weight",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$entity",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","get",49],"(",["T_CONSTANT_ENCAPSED_STRING","'weight'",49],")",")",";",["T_WHITESPACE","\n    ",49],["T_FOREACH","foreach",50],["T_WHITESPACE"," ",50],"(",["T_VARIABLE","$entity",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","get",50],"(",["T_CONSTANT_ENCAPSED_STRING","'filters'",50],")",["T_WHITESPACE"," ",50],["T_AS","as",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$filter_id",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$filter",50],")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n      ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertSame",51],"(",["T_VARIABLE","$filter",51],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",51],"]",",",["T_WHITESPACE"," ",51],["T_VARIABLE","$enabled_filters",51],"[",["T_VARIABLE","$filter_id",51],"]",")",";",["T_WHITESPACE","\n    ",51],"}",["T_WHITESPACE","\n  ",52],"}",["T_WHITESPACE","\n\n  ",53],["T_DOC_COMMENT","\/**\n   * Tests the Drupal 7 filter format to Drupal 8 migration.\n   *\/",55],["T_WHITESPACE","\n  ",57],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","testFilterFormat",58],"(",")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","assertEntity",59],"(",["T_CONSTANT_ENCAPSED_STRING","'custom_text_format'",59],",",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'Custom Text format'",59],",",["T_WHITESPACE"," ",59],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_autop'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_LNUMBER","0",59],",",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'filter_html'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],"-",["T_LNUMBER","10",59],"]",",",["T_WHITESPACE"," ",59],["T_LNUMBER","0",59],")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertEntity",60],"(",["T_CONSTANT_ENCAPSED_STRING","'filtered_html'",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'Filtered HTML'",60],",",["T_WHITESPACE"," ",60],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_autop'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_LNUMBER","2",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'filter_html'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_LNUMBER","1",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'filter_htmlcorrector'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_LNUMBER","10",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'filter_url'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_LNUMBER","0",60],"]",",",["T_WHITESPACE"," ",60],["T_LNUMBER","0",60],")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","assertEntity",61],"(",["T_CONSTANT_ENCAPSED_STRING","'full_html'",61],",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'Full HTML'",61],",",["T_WHITESPACE"," ",61],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_autop'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_LNUMBER","1",61],",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'filter_htmlcorrector'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_LNUMBER","10",61],",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'filter_url'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_LNUMBER","0",61],"]",",",["T_WHITESPACE"," ",61],["T_LNUMBER","1",61],")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertEntity",62],"(",["T_CONSTANT_ENCAPSED_STRING","'plain_text'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'Plain text'",62],",",["T_WHITESPACE"," ",62],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_html_escape'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_LNUMBER","0",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'filter_url'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_LNUMBER","1",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'filter_autop'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_LNUMBER","2",62],"]",",",["T_WHITESPACE"," ",62],["T_LNUMBER","10",62],")",";",["T_WHITESPACE","\n    ",62],["T_COMMENT","\/\/ This assertion covers issue #2555089. Drupal 7 formats are identified\n",63],["T_WHITESPACE","    ",64],["T_COMMENT","\/\/ by machine names, so migrated formats should be merged into existing\n",64],["T_WHITESPACE","    ",65],["T_COMMENT","\/\/ ones.\n",65],["T_WHITESPACE","    ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","assertNull",66],"(",["T_STRING","FilterFormat",66],["T_DOUBLE_COLON","::",66],["T_STRING","load",66],"(",["T_CONSTANT_ENCAPSED_STRING","'plain_text1'",66],")",")",";",["T_WHITESPACE","\n\n    ",66],["T_COMMENT","\/\/ Ensure that filter-specific settings were migrated.\n",68],["T_WHITESPACE","    ",69],["T_DOC_COMMENT","\/** @var \\Drupal\\filter\\FilterFormatInterface $format *\/",69],["T_WHITESPACE","\n    ",69],["T_VARIABLE","$format",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","FilterFormat",70],["T_DOUBLE_COLON","::",70],["T_STRING","load",70],"(",["T_CONSTANT_ENCAPSED_STRING","'filtered_html'",70],")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertInstanceOf",71],"(",["T_STRING","FilterFormatInterface",71],["T_DOUBLE_COLON","::",71],["T_CLASS","class",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$format",71],")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$config",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$format",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","filters",72],"(",["T_CONSTANT_ENCAPSED_STRING","'filter_html'",72],")",["T_OBJECT_OPERATOR","->",72],["T_STRING","getConfiguration",72],"(",")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertSame",73],"(",["T_CONSTANT_ENCAPSED_STRING","'<div> <span> <ul type> <li> <ol start type> <a href hreflang> <img src alt height width>'",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$config",73],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",73],"]","[",["T_CONSTANT_ENCAPSED_STRING","'allowed_html'",73],"]",")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$config",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$format",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","filters",74],"(",["T_CONSTANT_ENCAPSED_STRING","'filter_url'",74],")",["T_OBJECT_OPERATOR","->",74],["T_STRING","getConfiguration",74],"(",")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertSame",75],"(",["T_LNUMBER","128",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$config",75],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",75],"]","[",["T_CONSTANT_ENCAPSED_STRING","'filter_url_length'",75],"]",")",";",["T_WHITESPACE","\n\n    ",75],["T_COMMENT","\/\/ The php_code format gets migrated, but the php_code filter is changed to\n",77],["T_WHITESPACE","    ",78],["T_COMMENT","\/\/ filter_null.\n",78],["T_WHITESPACE","    ",79],["T_VARIABLE","$format",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_STRING","FilterFormat",79],["T_DOUBLE_COLON","::",79],["T_STRING","load",79],"(",["T_CONSTANT_ENCAPSED_STRING","'php_code'",79],")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertInstanceOf",80],"(",["T_STRING","FilterFormatInterface",80],["T_DOUBLE_COLON","::",80],["T_CLASS","class",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$format",80],")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertArrayHasKey",81],"(",["T_CONSTANT_ENCAPSED_STRING","'filter_null'",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$format",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","get",81],"(",["T_CONSTANT_ENCAPSED_STRING","'filters'",81],")",")",";",["T_WHITESPACE","\n  ",81],"}",["T_WHITESPACE","\n\n",82],"}",["T_WHITESPACE","\n",84]]