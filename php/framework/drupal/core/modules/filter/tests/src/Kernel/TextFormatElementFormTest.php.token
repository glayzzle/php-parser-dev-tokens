[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","filter",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Form",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FormInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Form",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FormStateInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","filter",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FilterFormat",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","KernelTests",8],["T_NS_SEPARATOR","\\",8],["T_STRING","KernelTestBase",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","user",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Role",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","user",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Entity",10],["T_NS_SEPARATOR","\\",10],["T_STRING","User",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Tests PathElement validation and conversion functionality.\n *\n * @group Form\n *\/",12],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","TextFormatElementFormTest",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_STRING","KernelTestBase",17],["T_WHITESPACE"," ",17],["T_IMPLEMENTS","implements",17],["T_WHITESPACE"," ",17],["T_STRING","FormInterface",17],["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * User for testing.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",19],["T_WHITESPACE","\n  ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$testUser",24],";",["T_WHITESPACE","\n\n  ",24],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",26],["T_WHITESPACE","\n  ",30],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_STATIC","static",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$modules",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],"[",["T_CONSTANT_ENCAPSED_STRING","'system'",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'user'",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'filter'",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'filter_test'",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'editor'",31],"]",";",["T_WHITESPACE","\n\n  ",31],["T_DOC_COMMENT","\/**\n   * Sets up the test.\n   *\/",33],["T_WHITESPACE","\n  ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","setUp",36],"(",")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n    ",36],["T_STRING","parent",37],["T_DOUBLE_COLON","::",37],["T_STRING","setUp",37],"(",")",";",["T_WHITESPACE","\n    ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","installEntitySchema",38],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",38],")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","installSchema",39],"(",["T_CONSTANT_ENCAPSED_STRING","'system'",39],",",["T_WHITESPACE"," ",39],"[",["T_CONSTANT_ENCAPSED_STRING","'sequences'",39],"]",")",";",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","installConfig",40],"(","[",["T_CONSTANT_ENCAPSED_STRING","'filter'",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'filter_test'",40],"]",")",";",["T_WHITESPACE","\n    ",40],["T_COMMENT","\/\/ Filter tips link to the full-page.\n",41],["T_WHITESPACE","    ",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Drupal",42],["T_DOUBLE_COLON","::",42],["T_STRING","service",42],"(",["T_CONSTANT_ENCAPSED_STRING","'router.builder'",42],")",["T_OBJECT_OPERATOR","->",42],["T_STRING","rebuild",42],"(",")",";",["T_WHITESPACE","\n    ",42],["T_COMMENT","\/* @var \\Drupal\\Core\\Render\\ElementInfoManager $manager *\/",43],["T_WHITESPACE","\n    ",43],["T_VARIABLE","$manager",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Drupal",44],["T_DOUBLE_COLON","::",44],["T_STRING","service",44],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.element_info'",44],")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$manager",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","clearCachedDefinitions",45],"(",")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$manager",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getDefinitions",46],"(",")",";",["T_WHITESPACE","\n    ",46],["T_COMMENT","\/* @var \\Drupal\\filter\\FilterFormatInterface $filter_test_format *\/",47],["T_WHITESPACE","\n    ",47],["T_VARIABLE","$filter_test_format",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","FilterFormat",48],["T_DOUBLE_COLON","::",48],["T_STRING","load",48],"(",["T_CONSTANT_ENCAPSED_STRING","'filter_test'",48],")",";",["T_WHITESPACE","\n\n    ",48],["T_COMMENT","\/* @var \\Drupal\\user\\RoleInterface $role *\/",50],["T_WHITESPACE","\n    ",50],["T_VARIABLE","$role",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_STRING","Role",51],["T_DOUBLE_COLON","::",51],["T_STRING","create",51],"(","[",["T_WHITESPACE","\n      ",51],["T_CONSTANT_ENCAPSED_STRING","'id'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'admin'",52],",",["T_WHITESPACE","\n      ",52],["T_CONSTANT_ENCAPSED_STRING","'label'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'admin'",53],",",["T_WHITESPACE","\n    ",53],"]",")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$role",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","grantPermission",55],"(",["T_VARIABLE","$filter_test_format",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getPermissionName",55],"(",")",")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$role",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","save",56],"(",")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","testUser",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","User",57],["T_DOUBLE_COLON","::",57],["T_STRING","create",57],"(","[",["T_WHITESPACE","\n      ",57],["T_CONSTANT_ENCAPSED_STRING","'name'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'foobar'",58],",",["T_WHITESPACE","\n      ",58],["T_CONSTANT_ENCAPSED_STRING","'mail'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'foobar@example.com'",59],",",["T_WHITESPACE","\n    ",59],"]",")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","testUser",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","addRole",61],"(",["T_VARIABLE","$role",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","id",61],"(",")",")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","testUser",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","save",62],"(",")",";",["T_WHITESPACE","\n    ",62],["T_NS_SEPARATOR","\\",63],["T_STRING","Drupal",63],["T_DOUBLE_COLON","::",63],["T_STRING","service",63],"(",["T_CONSTANT_ENCAPSED_STRING","'current_user'",63],")",["T_OBJECT_OPERATOR","->",63],["T_STRING","setAccount",63],"(",["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","testUser",63],")",";",["T_WHITESPACE","\n  ",63],"}",["T_WHITESPACE","\n\n  ",64],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",66],["T_WHITESPACE","\n  ",68],["T_PUBLIC","public",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","getFormId",69],"(",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n    ",69],["T_RETURN","return",70],["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'test_text_area_element'",70],";",["T_WHITESPACE","\n  ",70],"}",["T_WHITESPACE","\n\n  ",71],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",73],["T_WHITESPACE","\n  ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","buildForm",76],"(",["T_ARRAY","array",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$form",76],",",["T_WHITESPACE"," ",76],["T_STRING","FormStateInterface",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$form_state",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n    ",76],["T_COMMENT","\/\/ A textformat field.\n",77],["T_WHITESPACE","    ",78],["T_VARIABLE","$form",78],"[",["T_CONSTANT_ENCAPSED_STRING","'textformat'",78],"]",["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],"[",["T_WHITESPACE","\n      ",78],["T_CONSTANT_ENCAPSED_STRING","'#type'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'text_format'",79],",",["T_WHITESPACE","\n      ",79],["T_CONSTANT_ENCAPSED_STRING","'#required'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_STRING","TRUE",80],",",["T_WHITESPACE","\n      ",80],["T_CONSTANT_ENCAPSED_STRING","'#title'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'Text'",81],",",["T_WHITESPACE","\n      ",81],["T_CONSTANT_ENCAPSED_STRING","'#base_type'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'textfield'",82],",",["T_WHITESPACE","\n      ",82],["T_CONSTANT_ENCAPSED_STRING","'#format'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_STRING","NULL",83],",",["T_WHITESPACE","\n      ",83],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'test value'",84],",",["T_WHITESPACE","\n    ",84],"]",";",["T_WHITESPACE","\n\n    ",85],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$form",87],";",["T_WHITESPACE","\n  ",87],"}",["T_WHITESPACE","\n\n  ",88],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",90],["T_WHITESPACE","\n  ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","submitForm",93],"(",["T_ARRAY","array",93],["T_WHITESPACE"," ",93],"&",["T_VARIABLE","$form",93],",",["T_WHITESPACE"," ",93],["T_STRING","FormStateInterface",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$form_state",93],")",["T_WHITESPACE"," ",93],"{","}",["T_WHITESPACE","\n\n  ",93],["T_DOC_COMMENT","\/**\n   * Form validation handler.\n   *\n   * @param array $form\n   *   An associative array containing the structure of the form.\n   * @param \\Drupal\\Core\\Form\\FormStateInterface $form_state\n   *   The current state of the form.\n   *\/",95],["T_WHITESPACE","\n  ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","validateForm",103],"(",["T_ARRAY","array",103],["T_WHITESPACE"," ",103],"&",["T_VARIABLE","$form",103],",",["T_WHITESPACE"," ",103],["T_STRING","FormStateInterface",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$form_state",103],")",["T_WHITESPACE"," ",103],"{","}",["T_WHITESPACE","\n\n  ",103],["T_DOC_COMMENT","\/**\n   * Tests that values are returned.\n   *\/",105],["T_WHITESPACE","\n  ",107],["T_PUBLIC","public",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","testTextFormatElement",108],"(",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n    ",108],["T_COMMENT","\/* @var \\Drupal\\Core\\Form\\FormBuilder $form_builder *\/",109],["T_WHITESPACE","\n    ",109],["T_VARIABLE","$form_builder",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","container",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","get",110],"(",["T_CONSTANT_ENCAPSED_STRING","'form_builder'",110],")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$form",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$form_builder",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getForm",111],"(",["T_VARIABLE","$this",111],")",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$output",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","render",112],"(",["T_VARIABLE","$form",112],")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","setRawContent",113],"(",["T_VARIABLE","$output",113],")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","assertFieldByName",114],"(",["T_CONSTANT_ENCAPSED_STRING","'textformat[value]'",114],")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","assertRaw",115],"(",["T_CONSTANT_ENCAPSED_STRING","'<h4>Full HTML<\/h4>'",115],")",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","assertRaw",116],"(",["T_CONSTANT_ENCAPSED_STRING","'<h4>Filtered HTML<\/h4>'",116],")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","assertRaw",117],"(",["T_CONSTANT_ENCAPSED_STRING","'<h4>Test format<\/h4>'",117],")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","assertNoPattern",118],"(",["T_CONSTANT_ENCAPSED_STRING","'|<h4[^>]*><\/h4>|'",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'No empty H4 element found.'",118],")",";",["T_WHITESPACE","\n  ",118],"}",["T_WHITESPACE","\n\n  ",119],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",121],["T_WHITESPACE","\n  ",123],["T_PROTECTED","protected",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","getUrl",124],"(",")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n    ",124],["T_COMMENT","\/\/ \\Drupal\\simpletest\\AssertContentTrait needs this for ::assertFieldByName\n",125],["T_WHITESPACE","    ",126],["T_COMMENT","\/\/ to work.\n",126],["T_WHITESPACE","    ",127],["T_RETURN","return",127],["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'Internal rendering'",127],";",["T_WHITESPACE","\n  ",127],"}",["T_WHITESPACE","\n\n",128],"}",["T_WHITESPACE","\n",130]]