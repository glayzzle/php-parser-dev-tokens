[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","filter",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","EntityForm",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Query",6],["T_NS_SEPARATOR","\\",6],["T_STRING","QueryFactory",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Form",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FormStateInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","filter",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Plugin",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Filter",8],["T_NS_SEPARATOR","\\",8],["T_STRING","FilterNull",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Symfony",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Component",9],["T_NS_SEPARATOR","\\",9],["T_STRING","DependencyInjection",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ContainerInterface",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Provides a base form for a filter format.\n *\/",11],["T_WHITESPACE","\n",13],["T_ABSTRACT","abstract",14],["T_WHITESPACE"," ",14],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","FilterFormatFormBase",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","EntityForm",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * The entity query factory.\n   *\n   * @var \\Drupal\\Core\\Entity\\Query\\QueryFactory\n   *\/",16],["T_WHITESPACE","\n  ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$queryFactory",21],";",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * Constructs a new FilterFormatFormBase.\n   *\n   * @param \\Drupal\\Core\\Entity\\Query\\QueryFactory $query_factory\n   *   The entity query factory.\n   *\/",23],["T_WHITESPACE","\n  ",28],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","__construct",29],"(",["T_STRING","QueryFactory",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$query_factory",29],")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n    ",29],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","queryFactory",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_VARIABLE","$query_factory",30],";",["T_WHITESPACE","\n  ",30],"}",["T_WHITESPACE","\n\n  ",31],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",33],["T_WHITESPACE","\n  ",35],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_STATIC","static",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","create",36],"(",["T_STRING","ContainerInterface",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$container",36],")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n    ",36],["T_RETURN","return",37],["T_WHITESPACE"," ",37],["T_NEW","new",37],["T_WHITESPACE"," ",37],["T_STATIC","static",37],"(",["T_WHITESPACE","\n      ",37],["T_VARIABLE","$container",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","get",38],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.query'",38],")",["T_WHITESPACE","\n    ",38],")",";",["T_WHITESPACE","\n  ",39],"}",["T_WHITESPACE","\n\n  ",40],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",42],["T_WHITESPACE","\n  ",44],["T_PUBLIC","public",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","form",45],"(",["T_ARRAY","array",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$form",45],",",["T_WHITESPACE"," ",45],["T_STRING","FormStateInterface",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$form_state",45],")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$format",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","entity",46],";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$is_fallback",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],"(",["T_VARIABLE","$format",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","id",47],"(",")",["T_WHITESPACE"," ",47],["T_IS_EQUAL","==",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","config",47],"(",["T_CONSTANT_ENCAPSED_STRING","'filter.settings'",47],")",["T_OBJECT_OPERATOR","->",47],["T_STRING","get",47],"(",["T_CONSTANT_ENCAPSED_STRING","'fallback_format'",47],")",")",";",["T_WHITESPACE","\n\n    ",47],["T_VARIABLE","$form",49],"[",["T_CONSTANT_ENCAPSED_STRING","'#tree'",49],"]",["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","TRUE",49],";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$form",50],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",50],"]","[",["T_CONSTANT_ENCAPSED_STRING","'library'",50],"]","[","]",["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'filter\/drupal.filter.admin'",50],";",["T_WHITESPACE","\n\n    ",50],["T_VARIABLE","$form",52],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",52],"]",["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_ARRAY","array",52],"(",["T_WHITESPACE","\n      ",52],["T_CONSTANT_ENCAPSED_STRING","'#type'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'textfield'",53],",",["T_WHITESPACE","\n      ",53],["T_CONSTANT_ENCAPSED_STRING","'#title'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","t",54],"(",["T_CONSTANT_ENCAPSED_STRING","'Name'",54],")",",",["T_WHITESPACE","\n      ",54],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$format",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","label",55],"(",")",",",["T_WHITESPACE","\n      ",55],["T_CONSTANT_ENCAPSED_STRING","'#required'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_STRING","TRUE",56],",",["T_WHITESPACE","\n      ",56],["T_CONSTANT_ENCAPSED_STRING","'#weight'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],"-",["T_LNUMBER","30",57],",",["T_WHITESPACE","\n    ",57],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$form",59],"[",["T_CONSTANT_ENCAPSED_STRING","'format'",59],"]",["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_ARRAY","array",59],"(",["T_WHITESPACE","\n      ",59],["T_CONSTANT_ENCAPSED_STRING","'#type'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'machine_name'",60],",",["T_WHITESPACE","\n      ",60],["T_CONSTANT_ENCAPSED_STRING","'#required'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_STRING","TRUE",61],",",["T_WHITESPACE","\n      ",61],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$format",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","id",62],"(",")",",",["T_WHITESPACE","\n      ",62],["T_CONSTANT_ENCAPSED_STRING","'#maxlength'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_LNUMBER","255",63],",",["T_WHITESPACE","\n      ",63],["T_CONSTANT_ENCAPSED_STRING","'#machine_name'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_ARRAY","array",64],"(",["T_WHITESPACE","\n        ",64],["T_CONSTANT_ENCAPSED_STRING","'exists'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_ARRAY","array",65],"(",["T_VARIABLE","$this",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'exists'",65],")",",",["T_WHITESPACE","\n        ",65],["T_CONSTANT_ENCAPSED_STRING","'source'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_ARRAY","array",66],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",66],")",",",["T_WHITESPACE","\n      ",66],")",",",["T_WHITESPACE","\n      ",67],["T_CONSTANT_ENCAPSED_STRING","'#disabled'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],"!",["T_VARIABLE","$format",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","isNew",68],"(",")",",",["T_WHITESPACE","\n      ",68],["T_CONSTANT_ENCAPSED_STRING","'#weight'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],"-",["T_LNUMBER","20",69],",",["T_WHITESPACE","\n    ",69],")",";",["T_WHITESPACE","\n\n    ",70],["T_COMMENT","\/\/ Add user role access selection.\n",72],["T_WHITESPACE","    ",73],["T_VARIABLE","$form",73],"[",["T_CONSTANT_ENCAPSED_STRING","'roles'",73],"]",["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_ARRAY","array",73],"(",["T_WHITESPACE","\n      ",73],["T_CONSTANT_ENCAPSED_STRING","'#type'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'checkboxes'",74],",",["T_WHITESPACE","\n      ",74],["T_CONSTANT_ENCAPSED_STRING","'#title'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","t",75],"(",["T_CONSTANT_ENCAPSED_STRING","'Roles'",75],")",",",["T_WHITESPACE","\n      ",75],["T_CONSTANT_ENCAPSED_STRING","'#options'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_STRING","array_map",76],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Component\\Utility\\Html::escape'",76],",",["T_WHITESPACE"," ",76],["T_STRING","user_role_names",76],"(",")",")",",",["T_WHITESPACE","\n      ",76],["T_CONSTANT_ENCAPSED_STRING","'#disabled'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$is_fallback",77],",",["T_WHITESPACE","\n      ",77],["T_CONSTANT_ENCAPSED_STRING","'#weight'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],"-",["T_LNUMBER","10",78],",",["T_WHITESPACE","\n    ",78],")",";",["T_WHITESPACE","\n    ",79],["T_IF","if",80],["T_WHITESPACE"," ",80],"(",["T_VARIABLE","$is_fallback",80],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n      ",80],["T_VARIABLE","$form",81],"[",["T_CONSTANT_ENCAPSED_STRING","'roles'",81],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#description'",81],"]",["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","t",81],"(",["T_CONSTANT_ENCAPSED_STRING","'All roles for this text format must be enabled and cannot be changed.'",81],")",";",["T_WHITESPACE","\n    ",81],"}",["T_WHITESPACE","\n    ",82],["T_IF","if",83],["T_WHITESPACE"," ",83],"(","!",["T_VARIABLE","$format",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","isNew",83],"(",")",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n      ",83],["T_COMMENT","\/\/ If editing an existing text format, pre-select its current permissions.\n",84],["T_WHITESPACE","      ",85],["T_VARIABLE","$form",85],"[",["T_CONSTANT_ENCAPSED_STRING","'roles'",85],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",85],"]",["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","array_keys",85],"(",["T_STRING","filter_get_roles_by_format",85],"(",["T_VARIABLE","$format",85],")",")",";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_COMMENT","\/\/ Create filter plugin instances for all available filters, including both\n",88],["T_WHITESPACE","    ",89],["T_COMMENT","\/\/ enabled\/configured ones as well as new and not yet unconfigured ones.\n",89],["T_WHITESPACE","    ",90],["T_VARIABLE","$filters",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$format",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","filters",90],"(",")",";",["T_WHITESPACE","\n    ",90],["T_FOREACH","foreach",91],["T_WHITESPACE"," ",91],"(",["T_VARIABLE","$filters",91],["T_WHITESPACE"," ",91],["T_AS","as",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$filter_id",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$filter",91],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n      ",91],["T_COMMENT","\/\/ When a filter is missing, it is replaced by the null filter. Remove it\n",92],["T_WHITESPACE","      ",93],["T_COMMENT","\/\/ here, so that saving the form will remove the missing filter.\n",93],["T_WHITESPACE","      ",94],["T_IF","if",94],["T_WHITESPACE"," ",94],"(",["T_VARIABLE","$filter",94],["T_WHITESPACE"," ",94],["T_INSTANCEOF","instanceof",94],["T_WHITESPACE"," ",94],["T_STRING","FilterNull",94],")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n        ",94],["T_STRING","drupal_set_message",95],"(",["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","t",95],"(",["T_CONSTANT_ENCAPSED_STRING","'The %filter filter is missing, and will be removed once this format is saved.'",95],",",["T_WHITESPACE"," ",95],["T_ARRAY","array",95],"(",["T_CONSTANT_ENCAPSED_STRING","'%filter'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$filter_id",95],")",")",",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'warning'",95],")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$filters",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","removeInstanceID",96],"(",["T_VARIABLE","$filter_id",96],")",";",["T_WHITESPACE","\n      ",96],"}",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n\n    ",98],["T_COMMENT","\/\/ Filter status.\n",100],["T_WHITESPACE","    ",101],["T_VARIABLE","$form",101],"[",["T_CONSTANT_ENCAPSED_STRING","'filters'",101],"]","[",["T_CONSTANT_ENCAPSED_STRING","'status'",101],"]",["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_ARRAY","array",101],"(",["T_WHITESPACE","\n      ",101],["T_CONSTANT_ENCAPSED_STRING","'#type'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'item'",102],",",["T_WHITESPACE","\n      ",102],["T_CONSTANT_ENCAPSED_STRING","'#title'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","t",103],"(",["T_CONSTANT_ENCAPSED_STRING","'Enabled filters'",103],")",",",["T_WHITESPACE","\n      ",103],["T_CONSTANT_ENCAPSED_STRING","'#prefix'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'<div id=\"filters-status-wrapper\">'",104],",",["T_WHITESPACE","\n      ",104],["T_CONSTANT_ENCAPSED_STRING","'#suffix'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'<\/div>'",105],",",["T_WHITESPACE","\n      ",105],["T_COMMENT","\/\/ This item is used as a pure wrapping container with heading. Ignore its\n",106],["T_WHITESPACE","      ",107],["T_COMMENT","\/\/ value, since 'filters' should only contain filter definitions.\n",107],["T_WHITESPACE","      ",108],["T_COMMENT","\/\/ See https:\/\/www.drupal.org\/node\/1829202.\n",108],["T_WHITESPACE","      ",109],["T_CONSTANT_ENCAPSED_STRING","'#input'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_STRING","FALSE",109],",",["T_WHITESPACE","\n    ",109],")",";",["T_WHITESPACE","\n    ",110],["T_COMMENT","\/\/ Filter order (tabledrag).\n",111],["T_WHITESPACE","    ",112],["T_VARIABLE","$form",112],"[",["T_CONSTANT_ENCAPSED_STRING","'filters'",112],"]","[",["T_CONSTANT_ENCAPSED_STRING","'order'",112],"]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_ARRAY","array",112],"(",["T_WHITESPACE","\n      ",112],["T_CONSTANT_ENCAPSED_STRING","'#type'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'table'",113],",",["T_WHITESPACE","\n      ",113],["T_COMMENT","\/\/ For filter.admin.js\n",114],["T_WHITESPACE","      ",115],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_ARRAY","array",115],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'filter-order'",115],")",",",["T_WHITESPACE","\n      ",115],["T_CONSTANT_ENCAPSED_STRING","'#title'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","t",116],"(",["T_CONSTANT_ENCAPSED_STRING","'Filter processing order'",116],")",",",["T_WHITESPACE","\n      ",116],["T_CONSTANT_ENCAPSED_STRING","'#tabledrag'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_ARRAY","array",117],"(",["T_WHITESPACE","\n        ",117],["T_ARRAY","array",118],"(",["T_WHITESPACE","\n         ",118],["T_CONSTANT_ENCAPSED_STRING","'action'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'order'",119],",",["T_WHITESPACE","\n         ",119],["T_CONSTANT_ENCAPSED_STRING","'relationship'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'sibling'",120],",",["T_WHITESPACE","\n         ",120],["T_CONSTANT_ENCAPSED_STRING","'group'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'filter-order-weight'",121],",",["T_WHITESPACE","\n        ",121],")",",",["T_WHITESPACE","\n      ",122],")",",",["T_WHITESPACE","\n      ",123],["T_CONSTANT_ENCAPSED_STRING","'#tree'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_STRING","FALSE",124],",",["T_WHITESPACE","\n      ",124],["T_CONSTANT_ENCAPSED_STRING","'#input'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_STRING","FALSE",125],",",["T_WHITESPACE","\n      ",125],["T_CONSTANT_ENCAPSED_STRING","'#theme_wrappers'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_ARRAY","array",126],"(",["T_CONSTANT_ENCAPSED_STRING","'form_element'",126],")",",",["T_WHITESPACE","\n    ",126],")",";",["T_WHITESPACE","\n    ",127],["T_COMMENT","\/\/ Filter settings.\n",128],["T_WHITESPACE","    ",129],["T_VARIABLE","$form",129],"[",["T_CONSTANT_ENCAPSED_STRING","'filter_settings'",129],"]",["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_ARRAY","array",129],"(",["T_WHITESPACE","\n      ",129],["T_CONSTANT_ENCAPSED_STRING","'#type'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'vertical_tabs'",130],",",["T_WHITESPACE","\n      ",130],["T_CONSTANT_ENCAPSED_STRING","'#title'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","t",131],"(",["T_CONSTANT_ENCAPSED_STRING","'Filter settings'",131],")",",",["T_WHITESPACE","\n    ",131],")",";",["T_WHITESPACE","\n\n    ",132],["T_FOREACH","foreach",134],["T_WHITESPACE"," ",134],"(",["T_VARIABLE","$filters",134],["T_WHITESPACE"," ",134],["T_AS","as",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$name",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$filter",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n      ",134],["T_VARIABLE","$form",135],"[",["T_CONSTANT_ENCAPSED_STRING","'filters'",135],"]","[",["T_CONSTANT_ENCAPSED_STRING","'status'",135],"]","[",["T_VARIABLE","$name",135],"]",["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_ARRAY","array",135],"(",["T_WHITESPACE","\n        ",135],["T_CONSTANT_ENCAPSED_STRING","'#type'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'checkbox'",136],",",["T_WHITESPACE","\n        ",136],["T_CONSTANT_ENCAPSED_STRING","'#title'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$filter",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getLabel",137],"(",")",",",["T_WHITESPACE","\n        ",137],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$filter",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","status",138],",",["T_WHITESPACE","\n        ",138],["T_CONSTANT_ENCAPSED_STRING","'#parents'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_ARRAY","array",139],"(",["T_CONSTANT_ENCAPSED_STRING","'filters'",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$name",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'status'",139],")",",",["T_WHITESPACE","\n        ",139],["T_CONSTANT_ENCAPSED_STRING","'#description'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$filter",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getDescription",140],"(",")",",",["T_WHITESPACE","\n        ",140],["T_CONSTANT_ENCAPSED_STRING","'#weight'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$filter",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","weight",141],",",["T_WHITESPACE","\n      ",141],")",";",["T_WHITESPACE","\n\n      ",142],["T_VARIABLE","$form",144],"[",["T_CONSTANT_ENCAPSED_STRING","'filters'",144],"]","[",["T_CONSTANT_ENCAPSED_STRING","'order'",144],"]","[",["T_VARIABLE","$name",144],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",144],"]","[",["T_CONSTANT_ENCAPSED_STRING","'class'",144],"]","[","]",["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'draggable'",144],";",["T_WHITESPACE","\n      ",144],["T_VARIABLE","$form",145],"[",["T_CONSTANT_ENCAPSED_STRING","'filters'",145],"]","[",["T_CONSTANT_ENCAPSED_STRING","'order'",145],"]","[",["T_VARIABLE","$name",145],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#weight'",145],"]",["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$filter",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","weight",145],";",["T_WHITESPACE","\n      ",145],["T_VARIABLE","$form",146],"[",["T_CONSTANT_ENCAPSED_STRING","'filters'",146],"]","[",["T_CONSTANT_ENCAPSED_STRING","'order'",146],"]","[",["T_VARIABLE","$name",146],"]","[",["T_CONSTANT_ENCAPSED_STRING","'filter'",146],"]",["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_ARRAY","array",146],"(",["T_WHITESPACE","\n        ",146],["T_CONSTANT_ENCAPSED_STRING","'#markup'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$filter",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getLabel",147],"(",")",",",["T_WHITESPACE","\n      ",147],")",";",["T_WHITESPACE","\n      ",148],["T_VARIABLE","$form",149],"[",["T_CONSTANT_ENCAPSED_STRING","'filters'",149],"]","[",["T_CONSTANT_ENCAPSED_STRING","'order'",149],"]","[",["T_VARIABLE","$name",149],"]","[",["T_CONSTANT_ENCAPSED_STRING","'weight'",149],"]",["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_ARRAY","array",149],"(",["T_WHITESPACE","\n        ",149],["T_CONSTANT_ENCAPSED_STRING","'#type'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'weight'",150],",",["T_WHITESPACE","\n        ",150],["T_CONSTANT_ENCAPSED_STRING","'#title'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","t",151],"(",["T_CONSTANT_ENCAPSED_STRING","'Weight for @title'",151],",",["T_WHITESPACE"," ",151],["T_ARRAY","array",151],"(",["T_CONSTANT_ENCAPSED_STRING","'@title'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$filter",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getLabel",151],"(",")",")",")",",",["T_WHITESPACE","\n        ",151],["T_CONSTANT_ENCAPSED_STRING","'#title_display'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'invisible'",152],",",["T_WHITESPACE","\n        ",152],["T_CONSTANT_ENCAPSED_STRING","'#delta'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_LNUMBER","50",153],",",["T_WHITESPACE","\n        ",153],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$filter",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","weight",154],",",["T_WHITESPACE","\n        ",154],["T_CONSTANT_ENCAPSED_STRING","'#parents'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_ARRAY","array",155],"(",["T_CONSTANT_ENCAPSED_STRING","'filters'",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$name",155],",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'weight'",155],")",",",["T_WHITESPACE","\n        ",155],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_ARRAY","array",156],"(",["T_CONSTANT_ENCAPSED_STRING","'class'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_ARRAY","array",156],"(",["T_CONSTANT_ENCAPSED_STRING","'filter-order-weight'",156],")",")",",",["T_WHITESPACE","\n      ",156],")",";",["T_WHITESPACE","\n\n      ",157],["T_COMMENT","\/\/ Retrieve the settings form of the filter plugin. The plugin should not be\n",159],["T_WHITESPACE","      ",160],["T_COMMENT","\/\/ aware of the text format. Therefore, it only receives a set of minimal\n",160],["T_WHITESPACE","      ",161],["T_COMMENT","\/\/ base properties to allow advanced implementations to work.\n",161],["T_WHITESPACE","      ",162],["T_VARIABLE","$settings_form",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_ARRAY","array",162],"(",["T_WHITESPACE","\n        ",162],["T_CONSTANT_ENCAPSED_STRING","'#parents'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_ARRAY","array",163],"(",["T_CONSTANT_ENCAPSED_STRING","'filters'",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$name",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'settings'",163],")",",",["T_WHITESPACE","\n        ",163],["T_CONSTANT_ENCAPSED_STRING","'#tree'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_STRING","TRUE",164],",",["T_WHITESPACE","\n      ",164],")",";",["T_WHITESPACE","\n      ",165],["T_VARIABLE","$settings_form",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$filter",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","settingsForm",166],"(",["T_VARIABLE","$settings_form",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$form_state",166],")",";",["T_WHITESPACE","\n      ",166],["T_IF","if",167],["T_WHITESPACE"," ",167],"(","!",["T_EMPTY","empty",167],"(",["T_VARIABLE","$settings_form",167],")",")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$form",168],"[",["T_CONSTANT_ENCAPSED_STRING","'filters'",168],"]","[",["T_CONSTANT_ENCAPSED_STRING","'settings'",168],"]","[",["T_VARIABLE","$name",168],"]",["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_ARRAY","array",168],"(",["T_WHITESPACE","\n          ",168],["T_CONSTANT_ENCAPSED_STRING","'#type'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'details'",169],",",["T_WHITESPACE","\n          ",169],["T_CONSTANT_ENCAPSED_STRING","'#title'",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$filter",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getLabel",170],"(",")",",",["T_WHITESPACE","\n          ",170],["T_CONSTANT_ENCAPSED_STRING","'#open'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_STRING","TRUE",171],",",["T_WHITESPACE","\n          ",171],["T_CONSTANT_ENCAPSED_STRING","'#weight'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$filter",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","weight",172],",",["T_WHITESPACE","\n          ",172],["T_CONSTANT_ENCAPSED_STRING","'#parents'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_ARRAY","array",173],"(",["T_CONSTANT_ENCAPSED_STRING","'filters'",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$name",173],",",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'settings'",173],")",",",["T_WHITESPACE","\n          ",173],["T_CONSTANT_ENCAPSED_STRING","'#group'",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'filter_settings'",174],",",["T_WHITESPACE","\n        ",174],")",";",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$form",176],"[",["T_CONSTANT_ENCAPSED_STRING","'filters'",176],"]","[",["T_CONSTANT_ENCAPSED_STRING","'settings'",176],"]","[",["T_VARIABLE","$name",176],"]",["T_WHITESPACE"," ",176],["T_PLUS_EQUAL","+=",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$settings_form",176],";",["T_WHITESPACE","\n      ",176],"}",["T_WHITESPACE","\n    ",177],"}",["T_WHITESPACE","\n    ",178],["T_RETURN","return",179],["T_WHITESPACE"," ",179],["T_STRING","parent",179],["T_DOUBLE_COLON","::",179],["T_STRING","form",179],"(",["T_VARIABLE","$form",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$form_state",179],")",";",["T_WHITESPACE","\n  ",179],"}",["T_WHITESPACE","\n\n  ",180],["T_DOC_COMMENT","\/**\n   * Determines if the format already exists.\n   *\n   * @param string $format_id\n   *   The format ID\n   *\n   * @return bool\n   *   TRUE if the format exists, FALSE otherwise.\n   *\/",182],["T_WHITESPACE","\n  ",190],["T_PUBLIC","public",191],["T_WHITESPACE"," ",191],["T_FUNCTION","function",191],["T_WHITESPACE"," ",191],["T_STRING","exists",191],"(",["T_VARIABLE","$format_id",191],")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n    ",191],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_BOOL_CAST","(bool)",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","queryFactory",192],["T_WHITESPACE","\n      ",192],["T_OBJECT_OPERATOR","->",193],["T_STRING","get",193],"(",["T_CONSTANT_ENCAPSED_STRING","'filter_format'",193],")",["T_WHITESPACE","\n      ",193],["T_OBJECT_OPERATOR","->",194],["T_STRING","condition",194],"(",["T_CONSTANT_ENCAPSED_STRING","'format'",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$format_id",194],")",["T_WHITESPACE","\n      ",194],["T_OBJECT_OPERATOR","->",195],["T_STRING","execute",195],"(",")",";",["T_WHITESPACE","\n  ",195],"}",["T_WHITESPACE","\n\n  ",196],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",198],["T_WHITESPACE","\n  ",200],["T_PUBLIC","public",201],["T_WHITESPACE"," ",201],["T_FUNCTION","function",201],["T_WHITESPACE"," ",201],["T_STRING","validateForm",201],"(",["T_ARRAY","array",201],["T_WHITESPACE"," ",201],"&",["T_VARIABLE","$form",201],",",["T_WHITESPACE"," ",201],["T_STRING","FormStateInterface",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$form_state",201],")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n    ",201],["T_STRING","parent",202],["T_DOUBLE_COLON","::",202],["T_STRING","validateForm",202],"(",["T_VARIABLE","$form",202],",",["T_WHITESPACE"," ",202],["T_VARIABLE","$form_state",202],")",";",["T_WHITESPACE","\n\n    ",202],["T_COMMENT","\/\/ @todo Move trimming upstream.\n",204],["T_WHITESPACE","    ",205],["T_VARIABLE","$format_format",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_STRING","trim",205],"(",["T_VARIABLE","$form_state",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","getValue",205],"(",["T_CONSTANT_ENCAPSED_STRING","'format'",205],")",")",";",["T_WHITESPACE","\n    ",205],["T_VARIABLE","$format_name",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_STRING","trim",206],"(",["T_VARIABLE","$form_state",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","getValue",206],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",206],")",")",";",["T_WHITESPACE","\n\n    ",206],["T_COMMENT","\/\/ Ensure that the values to be saved later are exactly the ones validated.\n",208],["T_WHITESPACE","    ",209],["T_VARIABLE","$form_state",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","setValueForElement",209],"(",["T_VARIABLE","$form",209],"[",["T_CONSTANT_ENCAPSED_STRING","'format'",209],"]",",",["T_WHITESPACE"," ",209],["T_VARIABLE","$format_format",209],")",";",["T_WHITESPACE","\n    ",209],["T_VARIABLE","$form_state",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","setValueForElement",210],"(",["T_VARIABLE","$form",210],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",210],"]",",",["T_WHITESPACE"," ",210],["T_VARIABLE","$format_name",210],")",";",["T_WHITESPACE","\n\n    ",210],["T_VARIABLE","$format_exists",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","queryFactory",212],["T_WHITESPACE","\n      ",212],["T_OBJECT_OPERATOR","->",213],["T_STRING","get",213],"(",["T_CONSTANT_ENCAPSED_STRING","'filter_format'",213],")",["T_WHITESPACE","\n      ",213],["T_OBJECT_OPERATOR","->",214],["T_STRING","condition",214],"(",["T_CONSTANT_ENCAPSED_STRING","'format'",214],",",["T_WHITESPACE"," ",214],["T_VARIABLE","$format_format",214],",",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'<>'",214],")",["T_WHITESPACE","\n      ",214],["T_OBJECT_OPERATOR","->",215],["T_STRING","condition",215],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$format_name",215],")",["T_WHITESPACE","\n      ",215],["T_OBJECT_OPERATOR","->",216],["T_STRING","execute",216],"(",")",";",["T_WHITESPACE","\n    ",216],["T_IF","if",217],["T_WHITESPACE"," ",217],"(",["T_VARIABLE","$format_exists",217],")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n      ",217],["T_VARIABLE","$form_state",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","setErrorByName",218],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","t",218],"(",["T_CONSTANT_ENCAPSED_STRING","'Text format names must be unique. A format named %name already exists.'",218],",",["T_WHITESPACE"," ",218],["T_ARRAY","array",218],"(",["T_CONSTANT_ENCAPSED_STRING","'%name'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$format_name",218],")",")",")",";",["T_WHITESPACE","\n    ",218],"}",["T_WHITESPACE","\n  ",219],"}",["T_WHITESPACE","\n\n  ",220],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",222],["T_WHITESPACE","\n  ",224],["T_PUBLIC","public",225],["T_WHITESPACE"," ",225],["T_FUNCTION","function",225],["T_WHITESPACE"," ",225],["T_STRING","submitForm",225],"(",["T_ARRAY","array",225],["T_WHITESPACE"," ",225],"&",["T_VARIABLE","$form",225],",",["T_WHITESPACE"," ",225],["T_STRING","FormStateInterface",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$form_state",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n    ",225],["T_STRING","parent",226],["T_DOUBLE_COLON","::",226],["T_STRING","submitForm",226],"(",["T_VARIABLE","$form",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$form_state",226],")",";",["T_WHITESPACE","\n\n    ",226],["T_COMMENT","\/\/ Add the submitted form values to the text format, and save it.\n",228],["T_WHITESPACE","    ",229],["T_VARIABLE","$format",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","entity",229],";",["T_WHITESPACE","\n    ",229],["T_FOREACH","foreach",230],["T_WHITESPACE"," ",230],"(",["T_VARIABLE","$form_state",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","getValues",230],"(",")",["T_WHITESPACE"," ",230],["T_AS","as",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$key",230],["T_WHITESPACE"," ",230],["T_DOUBLE_ARROW","=>",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$value",230],")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n      ",230],["T_IF","if",231],["T_WHITESPACE"," ",231],"(",["T_VARIABLE","$key",231],["T_WHITESPACE"," ",231],["T_IS_NOT_EQUAL","!=",231],["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'filters'",231],")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$format",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","set",232],"(",["T_VARIABLE","$key",232],",",["T_WHITESPACE"," ",232],["T_VARIABLE","$value",232],")",";",["T_WHITESPACE","\n      ",232],"}",["T_WHITESPACE","\n      ",233],["T_ELSE","else",234],["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n        ",234],["T_FOREACH","foreach",235],["T_WHITESPACE"," ",235],"(",["T_VARIABLE","$value",235],["T_WHITESPACE"," ",235],["T_AS","as",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$instance_id",235],["T_WHITESPACE"," ",235],["T_DOUBLE_ARROW","=>",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$config",235],")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n          ",235],["T_VARIABLE","$format",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","setFilterConfig",236],"(",["T_VARIABLE","$instance_id",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$config",236],")",";",["T_WHITESPACE","\n        ",236],"}",["T_WHITESPACE","\n      ",237],"}",["T_WHITESPACE","\n    ",238],"}",["T_WHITESPACE","\n    ",239],["T_VARIABLE","$format",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","save",240],"(",")",";",["T_WHITESPACE","\n\n    ",240],["T_COMMENT","\/\/ Save user permissions.\n",242],["T_WHITESPACE","    ",243],["T_IF","if",243],["T_WHITESPACE"," ",243],"(",["T_VARIABLE","$permission",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$format",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","getPermissionName",243],"(",")",")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n      ",243],["T_FOREACH","foreach",244],["T_WHITESPACE"," ",244],"(",["T_VARIABLE","$form_state",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getValue",244],"(",["T_CONSTANT_ENCAPSED_STRING","'roles'",244],")",["T_WHITESPACE"," ",244],["T_AS","as",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$rid",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$enabled",244],")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n        ",244],["T_STRING","user_role_change_permissions",245],"(",["T_VARIABLE","$rid",245],",",["T_WHITESPACE"," ",245],["T_ARRAY","array",245],"(",["T_VARIABLE","$permission",245],["T_WHITESPACE"," ",245],["T_DOUBLE_ARROW","=>",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$enabled",245],")",")",";",["T_WHITESPACE","\n      ",245],"}",["T_WHITESPACE","\n    ",246],"}",["T_WHITESPACE","\n\n    ",247],["T_VARIABLE","$form_state",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","setRedirect",249],"(",["T_CONSTANT_ENCAPSED_STRING","'filter.admin_overview'",249],")",";",["T_WHITESPACE","\n\n    ",249],["T_RETURN","return",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","entity",251],";",["T_WHITESPACE","\n  ",251],"}",["T_WHITESPACE","\n\n  ",252],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",254],["T_WHITESPACE","\n  ",256],["T_PROTECTED","protected",257],["T_WHITESPACE"," ",257],["T_FUNCTION","function",257],["T_WHITESPACE"," ",257],["T_STRING","actions",257],"(",["T_ARRAY","array",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$form",257],",",["T_WHITESPACE"," ",257],["T_STRING","FormStateInterface",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$form_state",257],")",["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n    ",257],["T_VARIABLE","$actions",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_STRING","parent",258],["T_DOUBLE_COLON","::",258],["T_STRING","actions",258],"(",["T_VARIABLE","$form",258],",",["T_WHITESPACE"," ",258],["T_VARIABLE","$form_state",258],")",";",["T_WHITESPACE","\n    ",258],["T_VARIABLE","$actions",259],"[",["T_CONSTANT_ENCAPSED_STRING","'submit'",259],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#value'",259],"]",["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","t",259],"(",["T_CONSTANT_ENCAPSED_STRING","'Save configuration'",259],")",";",["T_WHITESPACE","\n    ",259],["T_RETURN","return",260],["T_WHITESPACE"," ",260],["T_VARIABLE","$actions",260],";",["T_WHITESPACE","\n  ",260],"}",["T_WHITESPACE","\n\n",261],"}",["T_WHITESPACE","\n",263]]