[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","filter",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Element",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Form",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FormStateInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Render",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Element",6],["T_NS_SEPARATOR","\\",6],["T_STRING","RenderElement",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Render",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Element",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Url",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Provides a text format render element.\n *\n * Properties:\n * - #base_type: The form element #type to use for the 'value' element.\n *   'textarea' by default.\n * - #format: (optional) The text format ID to preselect. If omitted, the\n *   default format for the current user will be used.\n * - #allowed_formats: (optional) An array of text format IDs that are available\n *   for this element. If omitted, all text formats that the current user has\n *   access to will be allowed.\n *\n * Usage Example:\n * @code\n * $form['body'] = array(\n *   '#type' => 'text_format',\n *   '#title' => 'Body',\n *   '#format' => 'full_html',\n *   '#default_value' => '<p>The quick brown fox jumped over the lazy dog.<\/p>',\n * );\n * @endcode\n *\n * @see \\Drupal\\Core\\Render\\Element\\Textarea\n *\n * @RenderElement(\"text_format\")\n *\/",10],["T_WHITESPACE","\n",35],["T_CLASS","class",36],["T_WHITESPACE"," ",36],["T_STRING","TextFormat",36],["T_WHITESPACE"," ",36],["T_EXTENDS","extends",36],["T_WHITESPACE"," ",36],["T_STRING","RenderElement",36],["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",38],["T_WHITESPACE","\n  ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","getInfo",41],"(",")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$class",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_STRING","get_class",42],"(",["T_VARIABLE","$this",42],")",";",["T_WHITESPACE","\n    ",42],["T_RETURN","return",43],["T_WHITESPACE"," ",43],["T_ARRAY","array",43],"(",["T_WHITESPACE","\n      ",43],["T_CONSTANT_ENCAPSED_STRING","'#process'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_ARRAY","array",44],"(",["T_WHITESPACE","\n        ",44],["T_ARRAY","array",45],"(",["T_VARIABLE","$class",45],",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'processFormat'",45],")",",",["T_WHITESPACE","\n      ",45],")",",",["T_WHITESPACE","\n      ",46],["T_CONSTANT_ENCAPSED_STRING","'#base_type'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'textarea'",47],",",["T_WHITESPACE","\n      ",47],["T_CONSTANT_ENCAPSED_STRING","'#theme_wrappers'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_ARRAY","array",48],"(",["T_CONSTANT_ENCAPSED_STRING","'text_format_wrapper'",48],")",",",["T_WHITESPACE","\n    ",48],")",";",["T_WHITESPACE","\n  ",49],"}",["T_WHITESPACE","\n\n  ",50],["T_DOC_COMMENT","\/**\n   * Expands an element into a base element with text format selector attached.\n   *\n   * The form element will be expanded into two separate form elements, one\n   * holding the original element, and the other holding the text format\n   * selector:\n   * - value: Holds the original element, having its #type changed to the value\n   *   of #base_type or 'textarea' by default.\n   * - format: Holds the text format details and the text format selection,\n   *   using the text format ID specified in #format or the user's default\n   *   format by default, if NULL.\n   *\n   * The resulting value for the element will be an array holding the value and\n   * the format. For example, the value for the body element will be:\n   * @code\n   *   $values = $form_state->getValue('body');\n   *   $values['value'] = 'foo';\n   *   $values['format'] = 'foo';\n   * @endcode\n   *\n   * @param array $element\n   *   The form element to process. See main class documentation for properties.\n   * @param \\Drupal\\Core\\Form\\FormStateInterface $form_state\n   *   The current state of the form.\n   * @param array $complete_form\n   *   The complete form structure.\n   *\n   * @return array\n   *   The form element.\n   *\/",52],["T_WHITESPACE","\n  ",81],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_STATIC","static",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","processFormat",82],"(","&",["T_VARIABLE","$element",82],",",["T_WHITESPACE"," ",82],["T_STRING","FormStateInterface",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$form_state",82],",",["T_WHITESPACE"," ",82],"&",["T_VARIABLE","$complete_form",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$user",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STATIC","static",83],["T_DOUBLE_COLON","::",83],["T_STRING","currentUser",83],"(",")",";",["T_WHITESPACE","\n\n    ",83],["T_COMMENT","\/\/ Ensure that children appear as subkeys of this element.\n",85],["T_WHITESPACE","    ",86],["T_VARIABLE","$element",86],"[",["T_CONSTANT_ENCAPSED_STRING","'#tree'",86],"]",["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","TRUE",86],";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$blacklist",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_ARRAY","array",87],"(",["T_WHITESPACE","\n      ",87],["T_COMMENT","\/\/ Make \\Drupal::formBuilder()->doBuildForm() regenerate child properties.\n",88],["T_WHITESPACE","      ",89],["T_CONSTANT_ENCAPSED_STRING","'#parents'",89],",",["T_WHITESPACE","\n      ",89],["T_CONSTANT_ENCAPSED_STRING","'#id'",90],",",["T_WHITESPACE","\n      ",90],["T_CONSTANT_ENCAPSED_STRING","'#name'",91],",",["T_WHITESPACE","\n      ",91],["T_COMMENT","\/\/ Do not copy this #process function to prevent\n",92],["T_WHITESPACE","      ",93],["T_COMMENT","\/\/ \\Drupal::formBuilder()->doBuildForm() from recursing infinitely.\n",93],["T_WHITESPACE","      ",94],["T_CONSTANT_ENCAPSED_STRING","'#process'",94],",",["T_WHITESPACE","\n      ",94],["T_COMMENT","\/\/ Ensure #pre_render functions will be run.\n",95],["T_WHITESPACE","      ",96],["T_CONSTANT_ENCAPSED_STRING","'#pre_render'",96],",",["T_WHITESPACE","\n      ",96],["T_COMMENT","\/\/ Description is handled by theme_text_format_wrapper().\n",97],["T_WHITESPACE","      ",98],["T_CONSTANT_ENCAPSED_STRING","'#description'",98],",",["T_WHITESPACE","\n      ",98],["T_COMMENT","\/\/ Ensure proper ordering of children.\n",99],["T_WHITESPACE","      ",100],["T_CONSTANT_ENCAPSED_STRING","'#weight'",100],",",["T_WHITESPACE","\n      ",100],["T_COMMENT","\/\/ Properties already processed for the parent element.\n",101],["T_WHITESPACE","      ",102],["T_CONSTANT_ENCAPSED_STRING","'#prefix'",102],",",["T_WHITESPACE","\n      ",102],["T_CONSTANT_ENCAPSED_STRING","'#suffix'",103],",",["T_WHITESPACE","\n      ",103],["T_CONSTANT_ENCAPSED_STRING","'#attached'",104],",",["T_WHITESPACE","\n      ",104],["T_CONSTANT_ENCAPSED_STRING","'#processed'",105],",",["T_WHITESPACE","\n      ",105],["T_CONSTANT_ENCAPSED_STRING","'#theme_wrappers'",106],",",["T_WHITESPACE","\n    ",106],")",";",["T_WHITESPACE","\n    ",107],["T_COMMENT","\/\/ Move this element into sub-element 'value'.\n",108],["T_WHITESPACE","    ",109],["T_UNSET","unset",109],"(",["T_VARIABLE","$element",109],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",109],"]",")",";",["T_WHITESPACE","\n    ",109],["T_FOREACH","foreach",110],["T_WHITESPACE"," ",110],"(",["T_STRING","Element",110],["T_DOUBLE_COLON","::",110],["T_STRING","properties",110],"(",["T_VARIABLE","$element",110],")",["T_WHITESPACE"," ",110],["T_AS","as",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$key",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n      ",110],["T_IF","if",111],["T_WHITESPACE"," ",111],"(","!",["T_STRING","in_array",111],"(",["T_VARIABLE","$key",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$blacklist",111],")",")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$element",112],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",112],"]","[",["T_VARIABLE","$key",112],"]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$element",112],"[",["T_VARIABLE","$key",112],"]",";",["T_WHITESPACE","\n      ",112],"}",["T_WHITESPACE","\n    ",113],"}",["T_WHITESPACE","\n\n    ",114],["T_VARIABLE","$element",116],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",116],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#type'",116],"]",["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$element",116],"[",["T_CONSTANT_ENCAPSED_STRING","'#base_type'",116],"]",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$element",117],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",117],"]",["T_WHITESPACE"," ",117],["T_PLUS_EQUAL","+=",117],["T_WHITESPACE"," ",117],["T_STATIC","static",117],["T_DOUBLE_COLON","::",117],["T_STRING","elementInfo",117],"(",")",["T_OBJECT_OPERATOR","->",117],["T_STRING","getInfo",117],"(",["T_VARIABLE","$element",117],"[",["T_CONSTANT_ENCAPSED_STRING","'#base_type'",117],"]",")",";",["T_WHITESPACE","\n    ",117],["T_COMMENT","\/\/ Make sure the #default_value key is set, so we can use it below.\n",118],["T_WHITESPACE","    ",119],["T_VARIABLE","$element",119],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",119],"]",["T_WHITESPACE"," ",119],["T_PLUS_EQUAL","+=",119],["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","''",119],")",";",["T_WHITESPACE","\n\n    ",119],["T_COMMENT","\/\/ Turn original element into a text format wrapper.\n",121],["T_WHITESPACE","    ",122],["T_VARIABLE","$element",122],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",122],"]","[",["T_CONSTANT_ENCAPSED_STRING","'library'",122],"]","[","]",["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'filter\/drupal.filter'",122],";",["T_WHITESPACE","\n\n    ",122],["T_COMMENT","\/\/ Setup child container for the text format widget.\n",124],["T_WHITESPACE","    ",125],["T_VARIABLE","$element",125],"[",["T_CONSTANT_ENCAPSED_STRING","'format'",125],"]",["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_ARRAY","array",125],"(",["T_WHITESPACE","\n      ",125],["T_CONSTANT_ENCAPSED_STRING","'#type'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'container'",126],",",["T_WHITESPACE","\n      ",126],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_ARRAY","array",127],"(",["T_CONSTANT_ENCAPSED_STRING","'class'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_ARRAY","array",127],"(",["T_CONSTANT_ENCAPSED_STRING","'filter-wrapper'",127],")",")",",",["T_WHITESPACE","\n    ",127],")",";",["T_WHITESPACE","\n\n    ",128],["T_COMMENT","\/\/ Get a list of formats that the current user has access to.\n",130],["T_WHITESPACE","    ",131],["T_VARIABLE","$formats",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_STRING","filter_formats",131],"(",["T_VARIABLE","$user",131],")",";",["T_WHITESPACE","\n\n    ",131],["T_COMMENT","\/\/ Allow the list of formats to be restricted.\n",133],["T_WHITESPACE","    ",134],["T_IF","if",134],["T_WHITESPACE"," ",134],"(",["T_ISSET","isset",134],"(",["T_VARIABLE","$element",134],"[",["T_CONSTANT_ENCAPSED_STRING","'#allowed_formats'",134],"]",")",")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n      ",134],["T_COMMENT","\/\/ We do not add the fallback format here to allow the use-case of forcing\n",135],["T_WHITESPACE","      ",136],["T_COMMENT","\/\/ certain text formats to be used for certain text areas. In case the\n",136],["T_WHITESPACE","      ",137],["T_COMMENT","\/\/ fallback format is supposed to be allowed as well, it must be added to\n",137],["T_WHITESPACE","      ",138],["T_COMMENT","\/\/ $element['#allowed_formats'] explicitly.\n",138],["T_WHITESPACE","      ",139],["T_VARIABLE","$formats",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","array_intersect_key",139],"(",["T_VARIABLE","$formats",139],",",["T_WHITESPACE"," ",139],["T_STRING","array_flip",139],"(",["T_VARIABLE","$element",139],"[",["T_CONSTANT_ENCAPSED_STRING","'#allowed_formats'",139],"]",")",")",";",["T_WHITESPACE","\n    ",139],"}",["T_WHITESPACE","\n\n    ",140],["T_IF","if",142],["T_WHITESPACE"," ",142],"(","!",["T_ISSET","isset",142],"(",["T_VARIABLE","$element",142],"[",["T_CONSTANT_ENCAPSED_STRING","'#format'",142],"]",")",["T_WHITESPACE"," ",142],["T_BOOLEAN_AND","&&",142],["T_WHITESPACE"," ",142],"!",["T_EMPTY","empty",142],"(",["T_VARIABLE","$formats",142],")",")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n      ",142],["T_COMMENT","\/\/ If no text format was selected, use the allowed format with the highest\n",143],["T_WHITESPACE","      ",144],["T_COMMENT","\/\/ weight. This is equivalent to calling filter_default_format().\n",144],["T_WHITESPACE","      ",145],["T_VARIABLE","$element",145],"[",["T_CONSTANT_ENCAPSED_STRING","'#format'",145],"]",["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_STRING","reset",145],"(",["T_VARIABLE","$formats",145],")",["T_OBJECT_OPERATOR","->",145],["T_STRING","id",145],"(",")",";",["T_WHITESPACE","\n    ",145],"}",["T_WHITESPACE","\n\n    ",146],["T_COMMENT","\/\/ If #allowed_formats is set, the list of formats must not be modified in\n",148],["T_WHITESPACE","    ",149],["T_COMMENT","\/\/ any way. Otherwise, however, if all of the following conditions are true,\n",149],["T_WHITESPACE","    ",150],["T_COMMENT","\/\/ remove the fallback format from the list of formats:\n",150],["T_WHITESPACE","    ",151],["T_COMMENT","\/\/ 1. The 'always_show_fallback_choice' filter setting has not been activated.\n",151],["T_WHITESPACE","    ",152],["T_COMMENT","\/\/ 2. Multiple text formats are available.\n",152],["T_WHITESPACE","    ",153],["T_COMMENT","\/\/ 3. The fallback format is not the default format.\n",153],["T_WHITESPACE","    ",154],["T_COMMENT","\/\/ The 'always_show_fallback_choice' filter setting is a hidden setting that\n",154],["T_WHITESPACE","    ",155],["T_COMMENT","\/\/ has no UI. It defaults to FALSE.\n",155],["T_WHITESPACE","    ",156],["T_VARIABLE","$config",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_STATIC","static",156],["T_DOUBLE_COLON","::",156],["T_STRING","configFactory",156],"(",")",["T_OBJECT_OPERATOR","->",156],["T_STRING","get",156],"(",["T_CONSTANT_ENCAPSED_STRING","'filter.settings'",156],")",";",["T_WHITESPACE","\n    ",156],["T_IF","if",157],["T_WHITESPACE"," ",157],"(","!",["T_ISSET","isset",157],"(",["T_VARIABLE","$element",157],"[",["T_CONSTANT_ENCAPSED_STRING","'#allowed_formats'",157],"]",")",["T_WHITESPACE"," ",157],["T_BOOLEAN_AND","&&",157],["T_WHITESPACE"," ",157],"!",["T_VARIABLE","$config",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","get",157],"(",["T_CONSTANT_ENCAPSED_STRING","'always_show_fallback_choice'",157],")",")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n      ",157],["T_VARIABLE","$fallback_format",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$config",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","get",158],"(",["T_CONSTANT_ENCAPSED_STRING","'fallback_format'",158],")",";",["T_WHITESPACE","\n      ",158],["T_IF","if",159],["T_WHITESPACE"," ",159],"(",["T_VARIABLE","$element",159],"[",["T_CONSTANT_ENCAPSED_STRING","'#format'",159],"]",["T_WHITESPACE"," ",159],["T_IS_NOT_IDENTICAL","!==",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$fallback_format",159],["T_WHITESPACE"," ",159],["T_BOOLEAN_AND","&&",159],["T_WHITESPACE"," ",159],["T_STRING","count",159],"(",["T_VARIABLE","$formats",159],")",["T_WHITESPACE"," ",159],">",["T_WHITESPACE"," ",159],["T_LNUMBER","1",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n        ",159],["T_UNSET","unset",160],"(",["T_VARIABLE","$formats",160],"[",["T_VARIABLE","$fallback_format",160],"]",")",";",["T_WHITESPACE","\n      ",160],"}",["T_WHITESPACE","\n    ",161],"}",["T_WHITESPACE","\n\n    ",162],["T_COMMENT","\/\/ Prepare text format guidelines.\n",164],["T_WHITESPACE","    ",165],["T_VARIABLE","$element",165],"[",["T_CONSTANT_ENCAPSED_STRING","'format'",165],"]","[",["T_CONSTANT_ENCAPSED_STRING","'guidelines'",165],"]",["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_ARRAY","array",165],"(",["T_WHITESPACE","\n      ",165],["T_CONSTANT_ENCAPSED_STRING","'#type'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'container'",166],",",["T_WHITESPACE","\n      ",166],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_ARRAY","array",167],"(",["T_CONSTANT_ENCAPSED_STRING","'class'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_ARRAY","array",167],"(",["T_CONSTANT_ENCAPSED_STRING","'filter-guidelines'",167],")",")",",",["T_WHITESPACE","\n      ",167],["T_CONSTANT_ENCAPSED_STRING","'#weight'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_LNUMBER","20",168],",",["T_WHITESPACE","\n    ",168],")",";",["T_WHITESPACE","\n    ",169],["T_VARIABLE","$options",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_ARRAY","array",170],"(",")",";",["T_WHITESPACE","\n    ",170],["T_FOREACH","foreach",171],["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$formats",171],["T_WHITESPACE"," ",171],["T_AS","as",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$format",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n      ",171],["T_VARIABLE","$options",172],"[",["T_VARIABLE","$format",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","id",172],"(",")","]",["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$format",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","label",172],"(",")",";",["T_WHITESPACE","\n      ",172],["T_VARIABLE","$element",173],"[",["T_CONSTANT_ENCAPSED_STRING","'format'",173],"]","[",["T_CONSTANT_ENCAPSED_STRING","'guidelines'",173],"]","[",["T_VARIABLE","$format",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","id",173],"(",")","]",["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_ARRAY","array",173],"(",["T_WHITESPACE","\n        ",173],["T_CONSTANT_ENCAPSED_STRING","'#theme'",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'filter_guidelines'",174],",",["T_WHITESPACE","\n        ",174],["T_CONSTANT_ENCAPSED_STRING","'#format'",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$format",175],",",["T_WHITESPACE","\n      ",175],")",";",["T_WHITESPACE","\n    ",176],"}",["T_WHITESPACE","\n\n    ",177],["T_VARIABLE","$element",179],"[",["T_CONSTANT_ENCAPSED_STRING","'format'",179],"]","[",["T_CONSTANT_ENCAPSED_STRING","'format'",179],"]",["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_ARRAY","array",179],"(",["T_WHITESPACE","\n      ",179],["T_CONSTANT_ENCAPSED_STRING","'#type'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'select'",180],",",["T_WHITESPACE","\n      ",180],["T_CONSTANT_ENCAPSED_STRING","'#title'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_STRING","t",181],"(",["T_CONSTANT_ENCAPSED_STRING","'Text format'",181],")",",",["T_WHITESPACE","\n      ",181],["T_CONSTANT_ENCAPSED_STRING","'#options'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$options",182],",",["T_WHITESPACE","\n      ",182],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$element",183],"[",["T_CONSTANT_ENCAPSED_STRING","'#format'",183],"]",",",["T_WHITESPACE","\n      ",183],["T_CONSTANT_ENCAPSED_STRING","'#access'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_STRING","count",184],"(",["T_VARIABLE","$formats",184],")",["T_WHITESPACE"," ",184],">",["T_WHITESPACE"," ",184],["T_LNUMBER","1",184],",",["T_WHITESPACE","\n      ",184],["T_CONSTANT_ENCAPSED_STRING","'#weight'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_LNUMBER","10",185],",",["T_WHITESPACE","\n      ",185],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_ARRAY","array",186],"(",["T_CONSTANT_ENCAPSED_STRING","'class'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_ARRAY","array",186],"(",["T_CONSTANT_ENCAPSED_STRING","'filter-list'",186],")",")",",",["T_WHITESPACE","\n      ",186],["T_CONSTANT_ENCAPSED_STRING","'#parents'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_STRING","array_merge",187],"(",["T_VARIABLE","$element",187],"[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",187],"]",",",["T_WHITESPACE"," ",187],["T_ARRAY","array",187],"(",["T_CONSTANT_ENCAPSED_STRING","'format'",187],")",")",",",["T_WHITESPACE","\n    ",187],")",";",["T_WHITESPACE","\n\n    ",188],["T_VARIABLE","$element",190],"[",["T_CONSTANT_ENCAPSED_STRING","'format'",190],"]","[",["T_CONSTANT_ENCAPSED_STRING","'help'",190],"]",["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],"[",["T_WHITESPACE","\n      ",190],["T_CONSTANT_ENCAPSED_STRING","'#type'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'container'",191],",",["T_WHITESPACE","\n      ",191],["T_CONSTANT_ENCAPSED_STRING","'about'",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],"[",["T_WHITESPACE","\n        ",192],["T_CONSTANT_ENCAPSED_STRING","'#type'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'link'",193],",",["T_WHITESPACE","\n        ",193],["T_CONSTANT_ENCAPSED_STRING","'#title'",194],["T_WHITESPACE"," ",194],["T_DOUBLE_ARROW","=>",194],["T_WHITESPACE"," ",194],["T_STRING","t",194],"(",["T_CONSTANT_ENCAPSED_STRING","'About text formats'",194],")",",",["T_WHITESPACE","\n        ",194],["T_CONSTANT_ENCAPSED_STRING","'#url'",195],["T_WHITESPACE"," ",195],["T_DOUBLE_ARROW","=>",195],["T_WHITESPACE"," ",195],["T_NEW","new",195],["T_WHITESPACE"," ",195],["T_STRING","Url",195],"(",["T_CONSTANT_ENCAPSED_STRING","'filter.tips_all'",195],")",",",["T_WHITESPACE","\n        ",195],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],"[",["T_CONSTANT_ENCAPSED_STRING","'target'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'_blank'",196],"]",",",["T_WHITESPACE","\n      ",196],"]",",",["T_WHITESPACE","\n      ",197],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",198],["T_WHITESPACE"," ",198],["T_DOUBLE_ARROW","=>",198],["T_WHITESPACE"," ",198],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",198],["T_WHITESPACE"," ",198],["T_DOUBLE_ARROW","=>",198],["T_WHITESPACE"," ",198],"[",["T_CONSTANT_ENCAPSED_STRING","'filter-help'",198],"]","]",",",["T_WHITESPACE","\n      ",198],["T_CONSTANT_ENCAPSED_STRING","'#weight'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_LNUMBER","0",199],",",["T_WHITESPACE","\n    ",199],"]",";",["T_WHITESPACE","\n\n    ",200],["T_VARIABLE","$all_formats",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_STRING","filter_formats",202],"(",")",";",["T_WHITESPACE","\n    ",202],["T_VARIABLE","$format_exists",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_ISSET","isset",203],"(",["T_VARIABLE","$all_formats",203],"[",["T_VARIABLE","$element",203],"[",["T_CONSTANT_ENCAPSED_STRING","'#format'",203],"]","]",")",";",["T_WHITESPACE","\n    ",203],["T_VARIABLE","$format_allowed",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],"!",["T_ISSET","isset",204],"(",["T_VARIABLE","$element",204],"[",["T_CONSTANT_ENCAPSED_STRING","'#allowed_formats'",204],"]",")",["T_WHITESPACE"," ",204],["T_BOOLEAN_OR","||",204],["T_WHITESPACE"," ",204],["T_STRING","in_array",204],"(",["T_VARIABLE","$element",204],"[",["T_CONSTANT_ENCAPSED_STRING","'#format'",204],"]",",",["T_WHITESPACE"," ",204],["T_VARIABLE","$element",204],"[",["T_CONSTANT_ENCAPSED_STRING","'#allowed_formats'",204],"]",")",";",["T_WHITESPACE","\n    ",204],["T_VARIABLE","$user_has_access",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_ISSET","isset",205],"(",["T_VARIABLE","$formats",205],"[",["T_VARIABLE","$element",205],"[",["T_CONSTANT_ENCAPSED_STRING","'#format'",205],"]","]",")",";",["T_WHITESPACE","\n    ",205],["T_VARIABLE","$user_is_admin",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$user",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","hasPermission",206],"(",["T_CONSTANT_ENCAPSED_STRING","'administer filters'",206],")",";",["T_WHITESPACE","\n\n    ",206],["T_COMMENT","\/\/ If the stored format does not exist or if it is not among the allowed\n",208],["T_WHITESPACE","    ",209],["T_COMMENT","\/\/ formats for this textarea, administrators have to assign a new format.\n",209],["T_WHITESPACE","    ",210],["T_IF","if",210],["T_WHITESPACE"," ",210],"(","(","!",["T_VARIABLE","$format_exists",210],["T_WHITESPACE"," ",210],["T_BOOLEAN_OR","||",210],["T_WHITESPACE"," ",210],"!",["T_VARIABLE","$format_allowed",210],")",["T_WHITESPACE"," ",210],["T_BOOLEAN_AND","&&",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$user_is_admin",210],")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n      ",210],["T_VARIABLE","$element",211],"[",["T_CONSTANT_ENCAPSED_STRING","'format'",211],"]","[",["T_CONSTANT_ENCAPSED_STRING","'format'",211],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#required'",211],"]",["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_STRING","TRUE",211],";",["T_WHITESPACE","\n      ",211],["T_VARIABLE","$element",212],"[",["T_CONSTANT_ENCAPSED_STRING","'format'",212],"]","[",["T_CONSTANT_ENCAPSED_STRING","'format'",212],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",212],"]",["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_STRING","NULL",212],";",["T_WHITESPACE","\n      ",212],["T_COMMENT","\/\/ Force access to the format selector (it may have been denied above if\n",213],["T_WHITESPACE","      ",214],["T_COMMENT","\/\/ the user only has access to a single format).\n",214],["T_WHITESPACE","      ",215],["T_VARIABLE","$element",215],"[",["T_CONSTANT_ENCAPSED_STRING","'format'",215],"]","[",["T_CONSTANT_ENCAPSED_STRING","'format'",215],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#access'",215],"]",["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_STRING","TRUE",215],";",["T_WHITESPACE","\n    ",215],"}",["T_WHITESPACE","\n    ",216],["T_COMMENT","\/\/ Disable this widget, if the user is not allowed to use the stored format,\n",217],["T_WHITESPACE","    ",218],["T_COMMENT","\/\/ or if the stored format does not exist. The 'administer filters'\n",218],["T_WHITESPACE","    ",219],["T_COMMENT","\/\/ permission only grants access to the filter administration, not to all\n",219],["T_WHITESPACE","    ",220],["T_COMMENT","\/\/ formats.\n",220],["T_WHITESPACE","    ",221],["T_ELSEIF","elseif",221],["T_WHITESPACE"," ",221],"(","!",["T_VARIABLE","$user_has_access",221],["T_WHITESPACE"," ",221],["T_BOOLEAN_OR","||",221],["T_WHITESPACE"," ",221],"!",["T_VARIABLE","$format_exists",221],")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n      ",221],["T_COMMENT","\/\/ Overload default values into #value to make them unalterable.\n",222],["T_WHITESPACE","      ",223],["T_VARIABLE","$element",223],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",223],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#value'",223],"]",["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$element",223],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",223],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",223],"]",";",["T_WHITESPACE","\n      ",223],["T_VARIABLE","$element",224],"[",["T_CONSTANT_ENCAPSED_STRING","'format'",224],"]","[",["T_CONSTANT_ENCAPSED_STRING","'format'",224],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#value'",224],"]",["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$element",224],"[",["T_CONSTANT_ENCAPSED_STRING","'format'",224],"]","[",["T_CONSTANT_ENCAPSED_STRING","'format'",224],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",224],"]",";",["T_WHITESPACE","\n\n      ",224],["T_COMMENT","\/\/ Prepend #pre_render callback to replace field value with user notice\n",226],["T_WHITESPACE","      ",227],["T_COMMENT","\/\/ prior to rendering.\n",227],["T_WHITESPACE","      ",228],["T_VARIABLE","$element",228],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",228],"]",["T_WHITESPACE"," ",228],["T_PLUS_EQUAL","+=",228],["T_WHITESPACE"," ",228],["T_ARRAY","array",228],"(",["T_CONSTANT_ENCAPSED_STRING","'#pre_render'",228],["T_WHITESPACE"," ",228],["T_DOUBLE_ARROW","=>",228],["T_WHITESPACE"," ",228],["T_ARRAY","array",228],"(",")",")",";",["T_WHITESPACE","\n      ",228],["T_STRING","array_unshift",229],"(",["T_VARIABLE","$element",229],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",229],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#pre_render'",229],"]",",",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'filter_form_access_denied'",229],")",";",["T_WHITESPACE","\n\n      ",229],["T_COMMENT","\/\/ Cosmetic adjustments.\n",231],["T_WHITESPACE","      ",232],["T_IF","if",232],["T_WHITESPACE"," ",232],"(",["T_ISSET","isset",232],"(",["T_VARIABLE","$element",232],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",232],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#rows'",232],"]",")",")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$element",233],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",233],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#rows'",233],"]",["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_LNUMBER","3",233],";",["T_WHITESPACE","\n      ",233],"}",["T_WHITESPACE","\n      ",234],["T_VARIABLE","$element",235],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",235],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#disabled'",235],"]",["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_STRING","TRUE",235],";",["T_WHITESPACE","\n      ",235],["T_VARIABLE","$element",236],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",236],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#resizable'",236],"]",["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","'none'",236],";",["T_WHITESPACE","\n\n      ",236],["T_COMMENT","\/\/ Hide the text format selector and any other child element (such as text\n",238],["T_WHITESPACE","      ",239],["T_COMMENT","\/\/ field's summary).\n",239],["T_WHITESPACE","      ",240],["T_FOREACH","foreach",240],["T_WHITESPACE"," ",240],"(",["T_STRING","Element",240],["T_DOUBLE_COLON","::",240],["T_STRING","children",240],"(",["T_VARIABLE","$element",240],")",["T_WHITESPACE"," ",240],["T_AS","as",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$key",240],")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n        ",240],["T_IF","if",241],["T_WHITESPACE"," ",241],"(",["T_VARIABLE","$key",241],["T_WHITESPACE"," ",241],["T_IS_NOT_EQUAL","!=",241],["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","'value'",241],")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n          ",241],["T_VARIABLE","$element",242],"[",["T_VARIABLE","$key",242],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#access'",242],"]",["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_STRING","FALSE",242],";",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE","\n      ",243],"}",["T_WHITESPACE","\n    ",244],"}",["T_WHITESPACE","\n\n    ",245],["T_RETURN","return",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$element",247],";",["T_WHITESPACE","\n  ",247],"}",["T_WHITESPACE","\n\n  ",248],["T_DOC_COMMENT","\/**\n   * Wraps the current user.\n   *\n   * \\Drupal\\Core\\Session\\AccountInterface\n   *\/",250],["T_WHITESPACE","\n  ",254],["T_PROTECTED","protected",255],["T_WHITESPACE"," ",255],["T_STATIC","static",255],["T_WHITESPACE"," ",255],["T_FUNCTION","function",255],["T_WHITESPACE"," ",255],["T_STRING","currentUser",255],"(",")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n    ",255],["T_RETURN","return",256],["T_WHITESPACE"," ",256],["T_NS_SEPARATOR","\\",256],["T_STRING","Drupal",256],["T_DOUBLE_COLON","::",256],["T_STRING","currentUser",256],"(",")",";",["T_WHITESPACE","\n  ",256],"}",["T_WHITESPACE","\n\n  ",257],["T_DOC_COMMENT","\/**\n   * Wraps the config factory.\n   *\n   * @return \\Drupal\\Core\\Config\\ConfigFactoryInterface\n   *\/",259],["T_WHITESPACE","\n  ",263],["T_PROTECTED","protected",264],["T_WHITESPACE"," ",264],["T_STATIC","static",264],["T_WHITESPACE"," ",264],["T_FUNCTION","function",264],["T_WHITESPACE"," ",264],["T_STRING","configFactory",264],"(",")",["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n    ",264],["T_RETURN","return",265],["T_WHITESPACE"," ",265],["T_NS_SEPARATOR","\\",265],["T_STRING","Drupal",265],["T_DOUBLE_COLON","::",265],["T_STRING","configFactory",265],"(",")",";",["T_WHITESPACE","\n  ",265],"}",["T_WHITESPACE","\n\n  ",266],["T_DOC_COMMENT","\/**\n   * Wraps the element info service.\n   *\n   * @return \\Drupal\\Core\\Render\\ElementInfoManagerInterface\n   *\/",268],["T_WHITESPACE","\n  ",272],["T_PROTECTED","protected",273],["T_WHITESPACE"," ",273],["T_STATIC","static",273],["T_WHITESPACE"," ",273],["T_FUNCTION","function",273],["T_WHITESPACE"," ",273],["T_STRING","elementInfo",273],"(",")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n    ",273],["T_RETURN","return",274],["T_WHITESPACE"," ",274],["T_NS_SEPARATOR","\\",274],["T_STRING","Drupal",274],["T_DOUBLE_COLON","::",274],["T_STRING","service",274],"(",["T_CONSTANT_ENCAPSED_STRING","'element_info'",274],")",";",["T_WHITESPACE","\n  ",274],"}",["T_WHITESPACE","\n\n",275],"}",["T_WHITESPACE","\n",277]]