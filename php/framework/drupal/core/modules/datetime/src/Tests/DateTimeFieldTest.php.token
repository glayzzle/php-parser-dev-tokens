[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","datetime",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","SafeMarkup",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Utility",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unicode",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Datetime",7],["T_NS_SEPARATOR","\\",7],["T_STRING","DrupalDateTime",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Datetime",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DateFormat",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","entity_test",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","EntityTest",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","field",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Entity",10],["T_NS_SEPARATOR","\\",10],["T_STRING","FieldConfig",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","field",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Entity",11],["T_NS_SEPARATOR","\\",11],["T_STRING","FieldStorageConfig",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","node",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Entity",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Node",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Tests Datetime field functionality.\n *\n * @group datetime\n *\/",14],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","DateTimeFieldTest",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_STRING","DateTestBase",19],["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * The default display settings to use for the formatters.\n   *\n   * @var array\n   *\/",21],["T_WHITESPACE","\n  ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$defaultSettings",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],"[",["T_CONSTANT_ENCAPSED_STRING","'timezone_override'",26],["T_WHITESPACE"," ",26],["T_DOUBLE_ARROW","=>",26],["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","''",26],"]",";",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",28],["T_WHITESPACE","\n  ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","getTestFieldType",31],"(",")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n    ",31],["T_RETURN","return",32],["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'datetime'",32],";",["T_WHITESPACE","\n  ",32],"}",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * Tests date field functionality.\n   *\/",35],["T_WHITESPACE","\n  ",37],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","testDateField",38],"(",")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$field_name",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","fieldStorage",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","getName",39],"(",")",";",["T_WHITESPACE","\n\n    ",39],["T_COMMENT","\/\/ Loop through defined timezones to test that date-only fields work at the\n",41],["T_WHITESPACE","    ",42],["T_COMMENT","\/\/ extremes.\n",42],["T_WHITESPACE","    ",43],["T_FOREACH","foreach",43],["T_WHITESPACE"," ",43],"(",["T_STATIC","static",43],["T_DOUBLE_COLON","::",43],["T_VARIABLE","$timezones",43],["T_WHITESPACE"," ",43],["T_AS","as",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$timezone",43],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n\n      ",43],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","setSiteTimezone",45],"(",["T_VARIABLE","$timezone",45],")",";",["T_WHITESPACE","\n\n      ",45],["T_COMMENT","\/\/ Display creation form.\n",47],["T_WHITESPACE","      ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","drupalGet",48],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test\/add'",48],")",";",["T_WHITESPACE","\n      ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertFieldByName",49],"(","\"",["T_CURLY_OPEN","{",49],["T_VARIABLE","$field_name",49],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][date]",49],"\"",",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","''",49],",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'Date element found.'",49],")",";",["T_WHITESPACE","\n      ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","assertFieldByXPath",50],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/*[@id=\"edit-'",50],["T_WHITESPACE"," ",50],".",["T_WHITESPACE"," ",50],["T_VARIABLE","$field_name",50],["T_WHITESPACE"," ",50],".",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'-wrapper\"]\/h4[contains(@class, \"js-form-required\")]'",50],",",["T_WHITESPACE"," ",50],["T_STRING","TRUE",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'Required markup found'",50],")",";",["T_WHITESPACE","\n      ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertNoFieldByName",51],"(","\"",["T_CURLY_OPEN","{",51],["T_VARIABLE","$field_name",51],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][time]",51],"\"",",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","''",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'Time element not found.'",51],")",";",["T_WHITESPACE","\n\n      ",51],["T_COMMENT","\/\/ Build up a date in the UTC timezone. Note that using this will also\n",53],["T_WHITESPACE","      ",54],["T_COMMENT","\/\/ mimic the user in a different timezone simply entering '2012-12-31' via\n",54],["T_WHITESPACE","      ",55],["T_COMMENT","\/\/ the UI.\n",55],["T_WHITESPACE","      ",56],["T_VARIABLE","$value",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'2012-12-31 00:00:00'",56],";",["T_WHITESPACE","\n      ",56],["T_VARIABLE","$date",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_NEW","new",57],["T_WHITESPACE"," ",57],["T_STRING","DrupalDateTime",57],"(",["T_VARIABLE","$value",57],",",["T_WHITESPACE"," ",57],["T_STRING","DATETIME_STORAGE_TIMEZONE",57],")",";",["T_WHITESPACE","\n\n      ",57],["T_COMMENT","\/\/ Submit a valid date and ensure it is accepted.\n",59],["T_WHITESPACE","      ",60],["T_VARIABLE","$date_format",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_STRING","DateFormat",60],["T_DOUBLE_COLON","::",60],["T_STRING","load",60],"(",["T_CONSTANT_ENCAPSED_STRING","'html_date'",60],")",["T_OBJECT_OPERATOR","->",60],["T_STRING","getPattern",60],"(",")",";",["T_WHITESPACE","\n      ",60],["T_VARIABLE","$time_format",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","DateFormat",61],["T_DOUBLE_COLON","::",61],["T_STRING","load",61],"(",["T_CONSTANT_ENCAPSED_STRING","'html_time'",61],")",["T_OBJECT_OPERATOR","->",61],["T_STRING","getPattern",61],"(",")",";",["T_WHITESPACE","\n\n      ",61],["T_VARIABLE","$edit",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_ARRAY","array",63],"(",["T_WHITESPACE","\n        ",63],"\"",["T_CURLY_OPEN","{",64],["T_VARIABLE","$field_name",64],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][date]",64],"\"",["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$date",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","format",64],"(",["T_VARIABLE","$date_format",64],")",",",["T_WHITESPACE","\n      ",64],")",";",["T_WHITESPACE","\n      ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","drupalPostForm",66],"(",["T_STRING","NULL",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$edit",66],",",["T_WHITESPACE"," ",66],["T_STRING","t",66],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",66],")",")",";",["T_WHITESPACE","\n      ",66],["T_STRING","preg_match",67],"(",["T_CONSTANT_ENCAPSED_STRING","'|entity_test\/manage\/(\\d+)|'",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","url",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$match",67],")",";",["T_WHITESPACE","\n      ",67],["T_VARIABLE","$id",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$match",68],"[",["T_LNUMBER","1",68],"]",";",["T_WHITESPACE","\n      ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertText",69],"(",["T_STRING","t",69],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test @id has been created.'",69],",",["T_WHITESPACE"," ",69],["T_ARRAY","array",69],"(",["T_CONSTANT_ENCAPSED_STRING","'@id'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$id",69],")",")",")",";",["T_WHITESPACE","\n      ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertRaw",70],"(",["T_VARIABLE","$date",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","format",70],"(",["T_VARIABLE","$date_format",70],")",")",";",["T_WHITESPACE","\n      ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertNoRaw",71],"(",["T_VARIABLE","$date",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","format",71],"(",["T_VARIABLE","$time_format",71],")",")",";",["T_WHITESPACE","\n\n      ",71],["T_COMMENT","\/\/ Verify the date doesn't change if using a timezone that is UTC+12 when\n",73],["T_WHITESPACE","      ",74],["T_COMMENT","\/\/ the entity is edited through the form.\n",74],["T_WHITESPACE","      ",75],["T_VARIABLE","$entity",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","EntityTest",75],["T_DOUBLE_COLON","::",75],["T_STRING","load",75],"(",["T_VARIABLE","$id",75],")",";",["T_WHITESPACE","\n      ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","assertEqual",76],"(",["T_CONSTANT_ENCAPSED_STRING","'2012-12-31'",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$entity",76],["T_OBJECT_OPERATOR","->",76],"{",["T_VARIABLE","$field_name",76],"}",["T_OBJECT_OPERATOR","->",76],["T_STRING","value",76],")",";",["T_WHITESPACE","\n      ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","drupalGet",77],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test\/manage\/'",77],["T_WHITESPACE"," ",77],".",["T_WHITESPACE"," ",77],["T_VARIABLE","$id",77],["T_WHITESPACE"," ",77],".",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",77],")",";",["T_WHITESPACE","\n      ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","drupalPostForm",78],"(",["T_STRING","NULL",78],",",["T_WHITESPACE"," ",78],"[","]",",",["T_WHITESPACE"," ",78],["T_STRING","t",78],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",78],")",")",";",["T_WHITESPACE","\n      ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","drupalGet",79],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test\/manage\/'",79],["T_WHITESPACE"," ",79],".",["T_WHITESPACE"," ",79],["T_VARIABLE","$id",79],["T_WHITESPACE"," ",79],".",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",79],")",";",["T_WHITESPACE","\n      ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","drupalPostForm",80],"(",["T_STRING","NULL",80],",",["T_WHITESPACE"," ",80],"[","]",",",["T_WHITESPACE"," ",80],["T_STRING","t",80],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",80],")",")",";",["T_WHITESPACE","\n      ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","drupalGet",81],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test\/manage\/'",81],["T_WHITESPACE"," ",81],".",["T_WHITESPACE"," ",81],["T_VARIABLE","$id",81],["T_WHITESPACE"," ",81],".",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",81],")",";",["T_WHITESPACE","\n      ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","drupalPostForm",82],"(",["T_STRING","NULL",82],",",["T_WHITESPACE"," ",82],"[","]",",",["T_WHITESPACE"," ",82],["T_STRING","t",82],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",82],")",")",";",["T_WHITESPACE","\n      ",82],["T_VARIABLE","$entity",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","EntityTest",83],["T_DOUBLE_COLON","::",83],["T_STRING","load",83],"(",["T_VARIABLE","$id",83],")",";",["T_WHITESPACE","\n      ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertEqual",84],"(",["T_CONSTANT_ENCAPSED_STRING","'2012-12-31'",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$entity",84],["T_OBJECT_OPERATOR","->",84],"{",["T_VARIABLE","$field_name",84],"}",["T_OBJECT_OPERATOR","->",84],["T_STRING","value",84],")",";",["T_WHITESPACE","\n\n      ",84],["T_COMMENT","\/\/ Reset display options since these get changed below.\n",86],["T_WHITESPACE","      ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","displayOptions",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_ARRAY","array",87],"(",["T_WHITESPACE","\n        ",87],["T_CONSTANT_ENCAPSED_STRING","'type'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'datetime_default'",88],",",["T_WHITESPACE","\n        ",88],["T_CONSTANT_ENCAPSED_STRING","'label'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'hidden'",89],",",["T_WHITESPACE","\n        ",89],["T_CONSTANT_ENCAPSED_STRING","'settings'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_ARRAY","array",90],"(",["T_CONSTANT_ENCAPSED_STRING","'format_type'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'medium'",90],")",["T_WHITESPACE"," ",90],"+",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","defaultSettings",90],",",["T_WHITESPACE","\n      ",90],")",";",["T_WHITESPACE","\n      ",91],["T_COMMENT","\/\/ Verify that the date is output according to the formatter settings.\n",92],["T_WHITESPACE","      ",93],["T_VARIABLE","$options",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_ARRAY","array",93],"(",["T_WHITESPACE","\n        ",93],["T_CONSTANT_ENCAPSED_STRING","'format_type'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_ARRAY","array",94],"(",["T_CONSTANT_ENCAPSED_STRING","'short'",94],",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'medium'",94],",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'long'",94],")",",",["T_WHITESPACE","\n      ",94],")",";",["T_WHITESPACE","\n      ",95],["T_COMMENT","\/\/ Formats that display a time component for date-only fields will display\n",96],["T_WHITESPACE","      ",97],["T_COMMENT","\/\/ the default time, so that is applied before calculating the expected\n",97],["T_WHITESPACE","      ",98],["T_COMMENT","\/\/ value.\n",98],["T_WHITESPACE","      ",99],["T_STRING","datetime_date_default_time",99],"(",["T_VARIABLE","$date",99],")",";",["T_WHITESPACE","\n      ",99],["T_FOREACH","foreach",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$options",100],["T_WHITESPACE"," ",100],["T_AS","as",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$setting",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$values",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n        ",100],["T_FOREACH","foreach",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$values",101],["T_WHITESPACE"," ",101],["T_AS","as",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$new_value",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n          ",101],["T_COMMENT","\/\/ Update the entity display settings.\n",102],["T_WHITESPACE","          ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","displayOptions",103],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",103],"]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_ARRAY","array",103],"(",["T_VARIABLE","$setting",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$new_value",103],")",["T_WHITESPACE"," ",103],"+",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","defaultSettings",103],";",["T_WHITESPACE","\n          ",103],["T_STRING","entity_get_display",104],"(",["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","field",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getTargetEntityTypeId",104],"(",")",",",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","field",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getTargetBundle",104],"(",")",",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'full'",104],")",["T_WHITESPACE","\n            ",104],["T_OBJECT_OPERATOR","->",105],["T_STRING","setComponent",105],"(",["T_VARIABLE","$field_name",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","displayOptions",105],")",["T_WHITESPACE","\n            ",105],["T_OBJECT_OPERATOR","->",106],["T_STRING","save",106],"(",")",";",["T_WHITESPACE","\n\n          ",106],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","renderTestEntity",108],"(",["T_VARIABLE","$id",108],")",";",["T_WHITESPACE","\n          ",108],["T_SWITCH","switch",109],["T_WHITESPACE"," ",109],"(",["T_VARIABLE","$setting",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n            ",109],["T_CASE","case",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'format_type'",110],":",["T_WHITESPACE","\n              ",110],["T_COMMENT","\/\/ Verify that a date is displayed. Since this is a date-only\n",111],["T_WHITESPACE","              ",112],["T_COMMENT","\/\/ field, it is expected to display the time as 00:00:00.\n",112],["T_WHITESPACE","              ",113],["T_VARIABLE","$expected",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","format_date",113],"(",["T_VARIABLE","$date",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getTimestamp",113],"(",")",",",["T_WHITESPACE"," ",113],["T_VARIABLE","$new_value",113],",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","''",113],",",["T_WHITESPACE"," ",113],["T_STRING","DATETIME_STORAGE_TIMEZONE",113],")",";",["T_WHITESPACE","\n              ",113],["T_VARIABLE","$expected_iso",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_STRING","format_date",114],"(",["T_VARIABLE","$date",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getTimestamp",114],"(",")",",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'custom'",114],",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'Y-m-d\\TH:i:s\\Z'",114],",",["T_WHITESPACE"," ",114],["T_STRING","DATETIME_STORAGE_TIMEZONE",114],")",";",["T_WHITESPACE","\n              ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","renderTestEntity",115],"(",["T_VARIABLE","$id",115],")",";",["T_WHITESPACE","\n              ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","assertFieldByXPath",116],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/time[@datetime=\"'",116],["T_WHITESPACE"," ",116],".",["T_WHITESPACE"," ",116],["T_VARIABLE","$expected_iso",116],["T_WHITESPACE"," ",116],".",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'\"]'",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$expected",116],",",["T_WHITESPACE"," ",116],["T_STRING","SafeMarkup",116],["T_DOUBLE_COLON","::",116],["T_STRING","format",116],"(",["T_CONSTANT_ENCAPSED_STRING","'Formatted date field using %value format displayed as %expected with %expected_iso attribute.'",116],",",["T_WHITESPACE"," ",116],["T_ARRAY","array",116],"(",["T_CONSTANT_ENCAPSED_STRING","'%value'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$new_value",116],",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'%expected'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$expected",116],",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'%expected_iso'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$expected_iso",116],")",")",")",";",["T_WHITESPACE","\n              ",116],["T_BREAK","break",117],";",["T_WHITESPACE","\n          ",117],"}",["T_WHITESPACE","\n        ",118],"}",["T_WHITESPACE","\n      ",119],"}",["T_WHITESPACE","\n\n      ",120],["T_COMMENT","\/\/ Verify that the plain formatter works.\n",122],["T_WHITESPACE","      ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","displayOptions",123],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",123],"]",["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'datetime_plain'",123],";",["T_WHITESPACE","\n      ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","displayOptions",124],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",124],"]",["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","defaultSettings",124],";",["T_WHITESPACE","\n      ",124],["T_STRING","entity_get_display",125],"(",["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","field",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getTargetEntityTypeId",125],"(",")",",",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","field",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getTargetBundle",125],"(",")",",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'full'",125],")",["T_WHITESPACE","\n        ",125],["T_OBJECT_OPERATOR","->",126],["T_STRING","setComponent",126],"(",["T_VARIABLE","$field_name",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","displayOptions",126],")",["T_WHITESPACE","\n        ",126],["T_OBJECT_OPERATOR","->",127],["T_STRING","save",127],"(",")",";",["T_WHITESPACE","\n      ",127],["T_VARIABLE","$expected",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$date",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","format",128],"(",["T_STRING","DATETIME_DATE_STORAGE_FORMAT",128],")",";",["T_WHITESPACE","\n      ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","renderTestEntity",129],"(",["T_VARIABLE","$id",129],")",";",["T_WHITESPACE","\n      ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","assertText",130],"(",["T_VARIABLE","$expected",130],",",["T_WHITESPACE"," ",130],["T_STRING","SafeMarkup",130],["T_DOUBLE_COLON","::",130],["T_STRING","format",130],"(",["T_CONSTANT_ENCAPSED_STRING","'Formatted date field using plain format displayed as %expected.'",130],",",["T_WHITESPACE"," ",130],["T_ARRAY","array",130],"(",["T_CONSTANT_ENCAPSED_STRING","'%expected'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$expected",130],")",")",")",";",["T_WHITESPACE","\n\n      ",130],["T_COMMENT","\/\/ Verify that the 'datetime_custom' formatter works.\n",132],["T_WHITESPACE","      ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","displayOptions",133],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",133],"]",["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'datetime_custom'",133],";",["T_WHITESPACE","\n      ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","displayOptions",134],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",134],"]",["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_ARRAY","array",134],"(",["T_CONSTANT_ENCAPSED_STRING","'date_format'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'m\/d\/Y'",134],")",["T_WHITESPACE"," ",134],"+",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","defaultSettings",134],";",["T_WHITESPACE","\n      ",134],["T_STRING","entity_get_display",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","field",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getTargetEntityTypeId",135],"(",")",",",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","field",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getTargetBundle",135],"(",")",",",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'full'",135],")",["T_WHITESPACE","\n        ",135],["T_OBJECT_OPERATOR","->",136],["T_STRING","setComponent",136],"(",["T_VARIABLE","$field_name",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","displayOptions",136],")",["T_WHITESPACE","\n        ",136],["T_OBJECT_OPERATOR","->",137],["T_STRING","save",137],"(",")",";",["T_WHITESPACE","\n      ",137],["T_VARIABLE","$expected",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$date",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","format",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","displayOptions",138],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",138],"]","[",["T_CONSTANT_ENCAPSED_STRING","'date_format'",138],"]",")",";",["T_WHITESPACE","\n      ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","renderTestEntity",139],"(",["T_VARIABLE","$id",139],")",";",["T_WHITESPACE","\n      ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","assertText",140],"(",["T_VARIABLE","$expected",140],",",["T_WHITESPACE"," ",140],["T_STRING","SafeMarkup",140],["T_DOUBLE_COLON","::",140],["T_STRING","format",140],"(",["T_CONSTANT_ENCAPSED_STRING","'Formatted date field using datetime_custom format displayed as %expected.'",140],",",["T_WHITESPACE"," ",140],["T_ARRAY","array",140],"(",["T_CONSTANT_ENCAPSED_STRING","'%expected'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$expected",140],")",")",")",";",["T_WHITESPACE","\n\n      ",140],["T_COMMENT","\/\/ Verify that the 'datetime_time_ago' formatter works for intervals in the\n",142],["T_WHITESPACE","      ",143],["T_COMMENT","\/\/ past.  First update the test entity so that the date difference always\n",143],["T_WHITESPACE","      ",144],["T_COMMENT","\/\/ has the same interval.  Since the database always stores UTC, and the\n",144],["T_WHITESPACE","      ",145],["T_COMMENT","\/\/ interval will use this, force the test date to use UTC and not the local\n",145],["T_WHITESPACE","      ",146],["T_COMMENT","\/\/ or user timezome.\n",146],["T_WHITESPACE","      ",147],["T_VARIABLE","$timestamp",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","REQUEST_TIME",147],["T_WHITESPACE"," ",147],"-",["T_WHITESPACE"," ",147],["T_LNUMBER","87654321",147],";",["T_WHITESPACE","\n      ",147],["T_VARIABLE","$entity",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_STRING","EntityTest",148],["T_DOUBLE_COLON","::",148],["T_STRING","load",148],"(",["T_VARIABLE","$id",148],")",";",["T_WHITESPACE","\n      ",148],["T_VARIABLE","$field_name",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","fieldStorage",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getName",149],"(",")",";",["T_WHITESPACE","\n      ",149],["T_VARIABLE","$date",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","DrupalDateTime",150],["T_DOUBLE_COLON","::",150],["T_STRING","createFromTimestamp",150],"(",["T_VARIABLE","$timestamp",150],",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'UTC'",150],")",";",["T_WHITESPACE","\n      ",150],["T_VARIABLE","$entity",151],["T_OBJECT_OPERATOR","->",151],"{",["T_VARIABLE","$field_name",151],"}",["T_OBJECT_OPERATOR","->",151],["T_STRING","value",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$date",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","format",151],"(",["T_VARIABLE","$date_format",151],")",";",["T_WHITESPACE","\n      ",151],["T_VARIABLE","$entity",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","save",152],"(",")",";",["T_WHITESPACE","\n\n      ",152],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","displayOptions",154],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",154],"]",["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'datetime_time_ago'",154],";",["T_WHITESPACE","\n      ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","displayOptions",155],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",155],"]",["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_ARRAY","array",155],"(",["T_WHITESPACE","\n        ",155],["T_CONSTANT_ENCAPSED_STRING","'future_format'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'@interval in the future'",156],",",["T_WHITESPACE","\n        ",156],["T_CONSTANT_ENCAPSED_STRING","'past_format'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'@interval in the past'",157],",",["T_WHITESPACE","\n        ",157],["T_CONSTANT_ENCAPSED_STRING","'granularity'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_LNUMBER","3",158],",",["T_WHITESPACE","\n      ",158],")",";",["T_WHITESPACE","\n      ",159],["T_STRING","entity_get_display",160],"(",["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","field",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getTargetEntityTypeId",160],"(",")",",",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","field",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getTargetBundle",160],"(",")",",",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'full'",160],")",["T_WHITESPACE","\n        ",160],["T_OBJECT_OPERATOR","->",161],["T_STRING","setComponent",161],"(",["T_VARIABLE","$field_name",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","displayOptions",161],")",["T_WHITESPACE","\n        ",161],["T_OBJECT_OPERATOR","->",162],["T_STRING","save",162],"(",")",";",["T_WHITESPACE","\n      ",162],["T_VARIABLE","$expected",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_STRING","SafeMarkup",163],["T_DOUBLE_COLON","::",163],["T_STRING","format",163],"(",["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","displayOptions",163],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",163],"]","[",["T_CONSTANT_ENCAPSED_STRING","'past_format'",163],"]",",",["T_WHITESPACE"," ",163],"[",["T_WHITESPACE","\n        ",163],["T_CONSTANT_ENCAPSED_STRING","'@interval'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","dateFormatter",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","formatTimeDiffSince",164],"(",["T_VARIABLE","$timestamp",164],",",["T_WHITESPACE"," ",164],"[",["T_CONSTANT_ENCAPSED_STRING","'granularity'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","displayOptions",164],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",164],"]","[",["T_CONSTANT_ENCAPSED_STRING","'granularity'",164],"]","]",")",["T_WHITESPACE","\n      ",164],"]",")",";",["T_WHITESPACE","\n      ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","renderTestEntity",166],"(",["T_VARIABLE","$id",166],")",";",["T_WHITESPACE","\n      ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","assertText",167],"(",["T_VARIABLE","$expected",167],",",["T_WHITESPACE"," ",167],["T_STRING","SafeMarkup",167],["T_DOUBLE_COLON","::",167],["T_STRING","format",167],"(",["T_CONSTANT_ENCAPSED_STRING","'Formatted date field using datetime_time_ago format displayed as %expected.'",167],",",["T_WHITESPACE"," ",167],["T_ARRAY","array",167],"(",["T_CONSTANT_ENCAPSED_STRING","'%expected'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$expected",167],")",")",")",";",["T_WHITESPACE","\n\n      ",167],["T_COMMENT","\/\/ Verify that the 'datetime_time_ago' formatter works for intervals in the\n",169],["T_WHITESPACE","      ",170],["T_COMMENT","\/\/ future.  First update the test entity so that the date difference always\n",170],["T_WHITESPACE","      ",171],["T_COMMENT","\/\/ has the same interval.  Since the database always stores UTC, and the\n",171],["T_WHITESPACE","      ",172],["T_COMMENT","\/\/ interval will use this, force the test date to use UTC and not the local\n",172],["T_WHITESPACE","      ",173],["T_COMMENT","\/\/ or user timezome.\n",173],["T_WHITESPACE","      ",174],["T_VARIABLE","$timestamp",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_STRING","REQUEST_TIME",174],["T_WHITESPACE"," ",174],"+",["T_WHITESPACE"," ",174],["T_LNUMBER","87654321",174],";",["T_WHITESPACE","\n      ",174],["T_VARIABLE","$entity",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_STRING","EntityTest",175],["T_DOUBLE_COLON","::",175],["T_STRING","load",175],"(",["T_VARIABLE","$id",175],")",";",["T_WHITESPACE","\n      ",175],["T_VARIABLE","$field_name",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","fieldStorage",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getName",176],"(",")",";",["T_WHITESPACE","\n      ",176],["T_VARIABLE","$date",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_STRING","DrupalDateTime",177],["T_DOUBLE_COLON","::",177],["T_STRING","createFromTimestamp",177],"(",["T_VARIABLE","$timestamp",177],",",["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","'UTC'",177],")",";",["T_WHITESPACE","\n      ",177],["T_VARIABLE","$entity",178],["T_OBJECT_OPERATOR","->",178],"{",["T_VARIABLE","$field_name",178],"}",["T_OBJECT_OPERATOR","->",178],["T_STRING","value",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$date",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","format",178],"(",["T_VARIABLE","$date_format",178],")",";",["T_WHITESPACE","\n      ",178],["T_VARIABLE","$entity",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","save",179],"(",")",";",["T_WHITESPACE","\n\n      ",179],["T_STRING","entity_get_display",181],"(",["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","field",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getTargetEntityTypeId",181],"(",")",",",["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","field",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getTargetBundle",181],"(",")",",",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'full'",181],")",["T_WHITESPACE","\n        ",181],["T_OBJECT_OPERATOR","->",182],["T_STRING","setComponent",182],"(",["T_VARIABLE","$field_name",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","displayOptions",182],")",["T_WHITESPACE","\n        ",182],["T_OBJECT_OPERATOR","->",183],["T_STRING","save",183],"(",")",";",["T_WHITESPACE","\n      ",183],["T_VARIABLE","$expected",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_STRING","SafeMarkup",184],["T_DOUBLE_COLON","::",184],["T_STRING","format",184],"(",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","displayOptions",184],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",184],"]","[",["T_CONSTANT_ENCAPSED_STRING","'future_format'",184],"]",",",["T_WHITESPACE"," ",184],"[",["T_WHITESPACE","\n        ",184],["T_CONSTANT_ENCAPSED_STRING","'@interval'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","dateFormatter",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","formatTimeDiffUntil",185],"(",["T_VARIABLE","$timestamp",185],",",["T_WHITESPACE"," ",185],"[",["T_CONSTANT_ENCAPSED_STRING","'granularity'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","displayOptions",185],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",185],"]","[",["T_CONSTANT_ENCAPSED_STRING","'granularity'",185],"]","]",")",["T_WHITESPACE","\n      ",185],"]",")",";",["T_WHITESPACE","\n      ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","renderTestEntity",187],"(",["T_VARIABLE","$id",187],")",";",["T_WHITESPACE","\n      ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","assertText",188],"(",["T_VARIABLE","$expected",188],",",["T_WHITESPACE"," ",188],["T_STRING","SafeMarkup",188],["T_DOUBLE_COLON","::",188],["T_STRING","format",188],"(",["T_CONSTANT_ENCAPSED_STRING","'Formatted date field using datetime_time_ago format displayed as %expected.'",188],",",["T_WHITESPACE"," ",188],["T_ARRAY","array",188],"(",["T_CONSTANT_ENCAPSED_STRING","'%expected'",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$expected",188],")",")",")",";",["T_WHITESPACE","\n    ",188],"}",["T_WHITESPACE","\n  ",189],"}",["T_WHITESPACE","\n\n  ",190],["T_DOC_COMMENT","\/**\n   * Tests date and time field.\n   *\/",192],["T_WHITESPACE","\n  ",194],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","testDatetimeField",195],"(",")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n    ",195],["T_VARIABLE","$field_name",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","fieldStorage",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getName",196],"(",")",";",["T_WHITESPACE","\n    ",196],["T_COMMENT","\/\/ Change the field to a datetime field.\n",197],["T_WHITESPACE","    ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","fieldStorage",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","setSetting",198],"(",["T_CONSTANT_ENCAPSED_STRING","'datetime_type'",198],",",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'datetime'",198],")",";",["T_WHITESPACE","\n    ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","fieldStorage",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","save",199],"(",")",";",["T_WHITESPACE","\n\n    ",199],["T_COMMENT","\/\/ Display creation form.\n",201],["T_WHITESPACE","    ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","drupalGet",202],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test\/add'",202],")",";",["T_WHITESPACE","\n    ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","assertFieldByName",203],"(","\"",["T_CURLY_OPEN","{",203],["T_VARIABLE","$field_name",203],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][date]",203],"\"",",",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","''",203],",",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'Date element found.'",203],")",";",["T_WHITESPACE","\n    ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","assertFieldByName",204],"(","\"",["T_CURLY_OPEN","{",204],["T_VARIABLE","$field_name",204],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][time]",204],"\"",",",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","''",204],",",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","'Time element found.'",204],")",";",["T_WHITESPACE","\n\n    ",204],["T_COMMENT","\/\/ Build up a date in the UTC timezone.\n",206],["T_WHITESPACE","    ",207],["T_VARIABLE","$value",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'2012-12-31 00:00:00'",207],";",["T_WHITESPACE","\n    ",207],["T_VARIABLE","$date",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_NEW","new",208],["T_WHITESPACE"," ",208],["T_STRING","DrupalDateTime",208],"(",["T_VARIABLE","$value",208],",",["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'UTC'",208],")",";",["T_WHITESPACE","\n\n    ",208],["T_COMMENT","\/\/ Update the timezone to the system default.\n",210],["T_WHITESPACE","    ",211],["T_VARIABLE","$date",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","setTimezone",211],"(",["T_STRING","timezone_open",211],"(",["T_STRING","drupal_get_user_timezone",211],"(",")",")",")",";",["T_WHITESPACE","\n\n    ",211],["T_COMMENT","\/\/ Submit a valid date and ensure it is accepted.\n",213],["T_WHITESPACE","    ",214],["T_VARIABLE","$date_format",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_STRING","DateFormat",214],["T_DOUBLE_COLON","::",214],["T_STRING","load",214],"(",["T_CONSTANT_ENCAPSED_STRING","'html_date'",214],")",["T_OBJECT_OPERATOR","->",214],["T_STRING","getPattern",214],"(",")",";",["T_WHITESPACE","\n    ",214],["T_VARIABLE","$time_format",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_STRING","DateFormat",215],["T_DOUBLE_COLON","::",215],["T_STRING","load",215],"(",["T_CONSTANT_ENCAPSED_STRING","'html_time'",215],")",["T_OBJECT_OPERATOR","->",215],["T_STRING","getPattern",215],"(",")",";",["T_WHITESPACE","\n\n    ",215],["T_VARIABLE","$edit",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_ARRAY","array",217],"(",["T_WHITESPACE","\n      ",217],"\"",["T_CURLY_OPEN","{",218],["T_VARIABLE","$field_name",218],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][date]",218],"\"",["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$date",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","format",218],"(",["T_VARIABLE","$date_format",218],")",",",["T_WHITESPACE","\n      ",218],"\"",["T_CURLY_OPEN","{",219],["T_VARIABLE","$field_name",219],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][time]",219],"\"",["T_WHITESPACE"," ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$date",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","format",219],"(",["T_VARIABLE","$time_format",219],")",",",["T_WHITESPACE","\n    ",219],")",";",["T_WHITESPACE","\n    ",220],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","drupalPostForm",221],"(",["T_STRING","NULL",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$edit",221],",",["T_WHITESPACE"," ",221],["T_STRING","t",221],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",221],")",")",";",["T_WHITESPACE","\n    ",221],["T_STRING","preg_match",222],"(",["T_CONSTANT_ENCAPSED_STRING","'|entity_test\/manage\/(\\d+)|'",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","url",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$match",222],")",";",["T_WHITESPACE","\n    ",222],["T_VARIABLE","$id",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$match",223],"[",["T_LNUMBER","1",223],"]",";",["T_WHITESPACE","\n    ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","assertText",224],"(",["T_STRING","t",224],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test @id has been created.'",224],",",["T_WHITESPACE"," ",224],["T_ARRAY","array",224],"(",["T_CONSTANT_ENCAPSED_STRING","'@id'",224],["T_WHITESPACE"," ",224],["T_DOUBLE_ARROW","=>",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$id",224],")",")",")",";",["T_WHITESPACE","\n    ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","assertRaw",225],"(",["T_VARIABLE","$date",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","format",225],"(",["T_VARIABLE","$date_format",225],")",")",";",["T_WHITESPACE","\n    ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","assertRaw",226],"(",["T_VARIABLE","$date",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","format",226],"(",["T_VARIABLE","$time_format",226],")",")",";",["T_WHITESPACE","\n\n    ",226],["T_COMMENT","\/\/ Verify that the date is output according to the formatter settings.\n",228],["T_WHITESPACE","    ",229],["T_VARIABLE","$options",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_ARRAY","array",229],"(",["T_WHITESPACE","\n      ",229],["T_CONSTANT_ENCAPSED_STRING","'format_type'",230],["T_WHITESPACE"," ",230],["T_DOUBLE_ARROW","=>",230],["T_WHITESPACE"," ",230],["T_ARRAY","array",230],"(",["T_CONSTANT_ENCAPSED_STRING","'short'",230],",",["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","'medium'",230],",",["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","'long'",230],")",",",["T_WHITESPACE","\n    ",230],")",";",["T_WHITESPACE","\n    ",231],["T_FOREACH","foreach",232],["T_WHITESPACE"," ",232],"(",["T_VARIABLE","$options",232],["T_WHITESPACE"," ",232],["T_AS","as",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$setting",232],["T_WHITESPACE"," ",232],["T_DOUBLE_ARROW","=>",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$values",232],")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n      ",232],["T_FOREACH","foreach",233],["T_WHITESPACE"," ",233],"(",["T_VARIABLE","$values",233],["T_WHITESPACE"," ",233],["T_AS","as",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$new_value",233],")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n        ",233],["T_COMMENT","\/\/ Update the entity display settings.\n",234],["T_WHITESPACE","        ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","displayOptions",235],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",235],"]",["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_ARRAY","array",235],"(",["T_VARIABLE","$setting",235],["T_WHITESPACE"," ",235],["T_DOUBLE_ARROW","=>",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$new_value",235],")",["T_WHITESPACE"," ",235],"+",["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","defaultSettings",235],";",["T_WHITESPACE","\n        ",235],["T_STRING","entity_get_display",236],"(",["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","field",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getTargetEntityTypeId",236],"(",")",",",["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","field",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getTargetBundle",236],"(",")",",",["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","'full'",236],")",["T_WHITESPACE","\n          ",236],["T_OBJECT_OPERATOR","->",237],["T_STRING","setComponent",237],"(",["T_VARIABLE","$field_name",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","displayOptions",237],")",["T_WHITESPACE","\n          ",237],["T_OBJECT_OPERATOR","->",238],["T_STRING","save",238],"(",")",";",["T_WHITESPACE","\n\n        ",238],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","renderTestEntity",240],"(",["T_VARIABLE","$id",240],")",";",["T_WHITESPACE","\n        ",240],["T_SWITCH","switch",241],["T_WHITESPACE"," ",241],"(",["T_VARIABLE","$setting",241],")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n          ",241],["T_CASE","case",242],["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","'format_type'",242],":",["T_WHITESPACE","\n            ",242],["T_COMMENT","\/\/ Verify that a date is displayed.\n",243],["T_WHITESPACE","            ",244],["T_VARIABLE","$expected",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_STRING","format_date",244],"(",["T_VARIABLE","$date",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getTimestamp",244],"(",")",",",["T_WHITESPACE"," ",244],["T_VARIABLE","$new_value",244],")",";",["T_WHITESPACE","\n            ",244],["T_VARIABLE","$expected_iso",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_STRING","format_date",245],"(",["T_VARIABLE","$date",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","getTimestamp",245],"(",")",",",["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","'custom'",245],",",["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","'Y-m-d\\TH:i:s\\Z'",245],",",["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","'UTC'",245],")",";",["T_WHITESPACE","\n            ",245],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","renderTestEntity",246],"(",["T_VARIABLE","$id",246],")",";",["T_WHITESPACE","\n            ",246],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","assertFieldByXPath",247],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/time[@datetime=\"'",247],["T_WHITESPACE"," ",247],".",["T_WHITESPACE"," ",247],["T_VARIABLE","$expected_iso",247],["T_WHITESPACE"," ",247],".",["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","'\"]'",247],",",["T_WHITESPACE"," ",247],["T_VARIABLE","$expected",247],",",["T_WHITESPACE"," ",247],["T_STRING","SafeMarkup",247],["T_DOUBLE_COLON","::",247],["T_STRING","format",247],"(",["T_CONSTANT_ENCAPSED_STRING","'Formatted date field using %value format displayed as %expected with %expected_iso attribute.'",247],",",["T_WHITESPACE"," ",247],["T_ARRAY","array",247],"(",["T_CONSTANT_ENCAPSED_STRING","'%value'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$new_value",247],",",["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","'%expected'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$expected",247],",",["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","'%expected_iso'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$expected_iso",247],")",")",")",";",["T_WHITESPACE","\n            ",247],["T_BREAK","break",248],";",["T_WHITESPACE","\n        ",248],"}",["T_WHITESPACE","\n      ",249],"}",["T_WHITESPACE","\n    ",250],"}",["T_WHITESPACE","\n\n    ",251],["T_COMMENT","\/\/ Verify that the plain formatter works.\n",253],["T_WHITESPACE","    ",254],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","displayOptions",254],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",254],"]",["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'datetime_plain'",254],";",["T_WHITESPACE","\n    ",254],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","displayOptions",255],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",255],"]",["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","defaultSettings",255],";",["T_WHITESPACE","\n    ",255],["T_STRING","entity_get_display",256],"(",["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","field",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","getTargetEntityTypeId",256],"(",")",",",["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","field",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","getTargetBundle",256],"(",")",",",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'full'",256],")",["T_WHITESPACE","\n      ",256],["T_OBJECT_OPERATOR","->",257],["T_STRING","setComponent",257],"(",["T_VARIABLE","$field_name",257],",",["T_WHITESPACE"," ",257],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","displayOptions",257],")",["T_WHITESPACE","\n      ",257],["T_OBJECT_OPERATOR","->",258],["T_STRING","save",258],"(",")",";",["T_WHITESPACE","\n    ",258],["T_VARIABLE","$expected",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$date",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","format",259],"(",["T_STRING","DATETIME_DATETIME_STORAGE_FORMAT",259],")",";",["T_WHITESPACE","\n    ",259],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","renderTestEntity",260],"(",["T_VARIABLE","$id",260],")",";",["T_WHITESPACE","\n    ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","assertText",261],"(",["T_VARIABLE","$expected",261],",",["T_WHITESPACE"," ",261],["T_STRING","SafeMarkup",261],["T_DOUBLE_COLON","::",261],["T_STRING","format",261],"(",["T_CONSTANT_ENCAPSED_STRING","'Formatted date field using plain format displayed as %expected.'",261],",",["T_WHITESPACE"," ",261],["T_ARRAY","array",261],"(",["T_CONSTANT_ENCAPSED_STRING","'%expected'",261],["T_WHITESPACE"," ",261],["T_DOUBLE_ARROW","=>",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$expected",261],")",")",")",";",["T_WHITESPACE","\n\n    ",261],["T_COMMENT","\/\/ Verify that the 'datetime_custom' formatter works.\n",263],["T_WHITESPACE","    ",264],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","displayOptions",264],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",264],"]",["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","'datetime_custom'",264],";",["T_WHITESPACE","\n    ",264],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","displayOptions",265],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",265],"]",["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_ARRAY","array",265],"(",["T_CONSTANT_ENCAPSED_STRING","'date_format'",265],["T_WHITESPACE"," ",265],["T_DOUBLE_ARROW","=>",265],["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","'m\/d\/Y g:i:s A'",265],")",["T_WHITESPACE"," ",265],"+",["T_WHITESPACE"," ",265],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","defaultSettings",265],";",["T_WHITESPACE","\n    ",265],["T_STRING","entity_get_display",266],"(",["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","field",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getTargetEntityTypeId",266],"(",")",",",["T_WHITESPACE"," ",266],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","field",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getTargetBundle",266],"(",")",",",["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","'full'",266],")",["T_WHITESPACE","\n      ",266],["T_OBJECT_OPERATOR","->",267],["T_STRING","setComponent",267],"(",["T_VARIABLE","$field_name",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","displayOptions",267],")",["T_WHITESPACE","\n      ",267],["T_OBJECT_OPERATOR","->",268],["T_STRING","save",268],"(",")",";",["T_WHITESPACE","\n    ",268],["T_VARIABLE","$expected",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$date",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","format",269],"(",["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","displayOptions",269],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",269],"]","[",["T_CONSTANT_ENCAPSED_STRING","'date_format'",269],"]",")",";",["T_WHITESPACE","\n    ",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","renderTestEntity",270],"(",["T_VARIABLE","$id",270],")",";",["T_WHITESPACE","\n    ",270],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","assertText",271],"(",["T_VARIABLE","$expected",271],",",["T_WHITESPACE"," ",271],["T_STRING","SafeMarkup",271],["T_DOUBLE_COLON","::",271],["T_STRING","format",271],"(",["T_CONSTANT_ENCAPSED_STRING","'Formatted date field using datetime_custom format displayed as %expected.'",271],",",["T_WHITESPACE"," ",271],["T_ARRAY","array",271],"(",["T_CONSTANT_ENCAPSED_STRING","'%expected'",271],["T_WHITESPACE"," ",271],["T_DOUBLE_ARROW","=>",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$expected",271],")",")",")",";",["T_WHITESPACE","\n\n    ",271],["T_COMMENT","\/\/ Verify that the 'timezone_override' setting works.\n",273],["T_WHITESPACE","    ",274],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","displayOptions",274],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",274],"]",["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'datetime_custom'",274],";",["T_WHITESPACE","\n    ",274],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","displayOptions",275],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",275],"]",["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_ARRAY","array",275],"(",["T_CONSTANT_ENCAPSED_STRING","'date_format'",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'m\/d\/Y g:i:s A'",275],",",["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'timezone_override'",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'America\/New_York'",275],")",["T_WHITESPACE"," ",275],"+",["T_WHITESPACE"," ",275],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","defaultSettings",275],";",["T_WHITESPACE","\n    ",275],["T_STRING","entity_get_display",276],"(",["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","field",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","getTargetEntityTypeId",276],"(",")",",",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","field",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","getTargetBundle",276],"(",")",",",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'full'",276],")",["T_WHITESPACE","\n      ",276],["T_OBJECT_OPERATOR","->",277],["T_STRING","setComponent",277],"(",["T_VARIABLE","$field_name",277],",",["T_WHITESPACE"," ",277],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","displayOptions",277],")",["T_WHITESPACE","\n      ",277],["T_OBJECT_OPERATOR","->",278],["T_STRING","save",278],"(",")",";",["T_WHITESPACE","\n    ",278],["T_VARIABLE","$expected",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_VARIABLE","$date",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","format",279],"(",["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","displayOptions",279],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",279],"]","[",["T_CONSTANT_ENCAPSED_STRING","'date_format'",279],"]",",",["T_WHITESPACE"," ",279],["T_ARRAY","array",279],"(",["T_CONSTANT_ENCAPSED_STRING","'timezone'",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'America\/New_York'",279],")",")",";",["T_WHITESPACE","\n    ",279],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","renderTestEntity",280],"(",["T_VARIABLE","$id",280],")",";",["T_WHITESPACE","\n    ",280],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","assertText",281],"(",["T_VARIABLE","$expected",281],",",["T_WHITESPACE"," ",281],["T_STRING","SafeMarkup",281],["T_DOUBLE_COLON","::",281],["T_STRING","format",281],"(",["T_CONSTANT_ENCAPSED_STRING","'Formatted date field using datetime_custom format displayed as %expected.'",281],",",["T_WHITESPACE"," ",281],["T_ARRAY","array",281],"(",["T_CONSTANT_ENCAPSED_STRING","'%expected'",281],["T_WHITESPACE"," ",281],["T_DOUBLE_ARROW","=>",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$expected",281],")",")",")",";",["T_WHITESPACE","\n\n    ",281],["T_COMMENT","\/\/ Verify that the 'datetime_time_ago' formatter works for intervals in the\n",283],["T_WHITESPACE","    ",284],["T_COMMENT","\/\/ past.  First update the test entity so that the date difference always\n",284],["T_WHITESPACE","    ",285],["T_COMMENT","\/\/ has the same interval.  Since the database always stores UTC, and the\n",285],["T_WHITESPACE","    ",286],["T_COMMENT","\/\/ interval will use this, force the test date to use UTC and not the local\n",286],["T_WHITESPACE","    ",287],["T_COMMENT","\/\/ or user timezome.\n",287],["T_WHITESPACE","    ",288],["T_VARIABLE","$timestamp",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_STRING","REQUEST_TIME",288],["T_WHITESPACE"," ",288],"-",["T_WHITESPACE"," ",288],["T_LNUMBER","87654321",288],";",["T_WHITESPACE","\n    ",288],["T_VARIABLE","$entity",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_STRING","EntityTest",289],["T_DOUBLE_COLON","::",289],["T_STRING","load",289],"(",["T_VARIABLE","$id",289],")",";",["T_WHITESPACE","\n    ",289],["T_VARIABLE","$field_name",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","fieldStorage",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","getName",290],"(",")",";",["T_WHITESPACE","\n    ",290],["T_VARIABLE","$date",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_STRING","DrupalDateTime",291],["T_DOUBLE_COLON","::",291],["T_STRING","createFromTimestamp",291],"(",["T_VARIABLE","$timestamp",291],",",["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'UTC'",291],")",";",["T_WHITESPACE","\n    ",291],["T_VARIABLE","$entity",292],["T_OBJECT_OPERATOR","->",292],"{",["T_VARIABLE","$field_name",292],"}",["T_OBJECT_OPERATOR","->",292],["T_STRING","value",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_VARIABLE","$date",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","format",292],"(",["T_STRING","DATETIME_DATETIME_STORAGE_FORMAT",292],")",";",["T_WHITESPACE","\n    ",292],["T_VARIABLE","$entity",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","save",293],"(",")",";",["T_WHITESPACE","\n\n    ",293],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","displayOptions",295],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",295],"]",["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_CONSTANT_ENCAPSED_STRING","'datetime_time_ago'",295],";",["T_WHITESPACE","\n    ",295],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","displayOptions",296],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",296],"]",["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_ARRAY","array",296],"(",["T_WHITESPACE","\n      ",296],["T_CONSTANT_ENCAPSED_STRING","'future_format'",297],["T_WHITESPACE"," ",297],["T_DOUBLE_ARROW","=>",297],["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","'@interval from now'",297],",",["T_WHITESPACE","\n      ",297],["T_CONSTANT_ENCAPSED_STRING","'past_format'",298],["T_WHITESPACE"," ",298],["T_DOUBLE_ARROW","=>",298],["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","'@interval earlier'",298],",",["T_WHITESPACE","\n      ",298],["T_CONSTANT_ENCAPSED_STRING","'granularity'",299],["T_WHITESPACE"," ",299],["T_DOUBLE_ARROW","=>",299],["T_WHITESPACE"," ",299],["T_LNUMBER","3",299],",",["T_WHITESPACE","\n    ",299],")",";",["T_WHITESPACE","\n    ",300],["T_STRING","entity_get_display",301],"(",["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","field",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","getTargetEntityTypeId",301],"(",")",",",["T_WHITESPACE"," ",301],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","field",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","getTargetBundle",301],"(",")",",",["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'full'",301],")",["T_WHITESPACE","\n      ",301],["T_OBJECT_OPERATOR","->",302],["T_STRING","setComponent",302],"(",["T_VARIABLE","$field_name",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","displayOptions",302],")",["T_WHITESPACE","\n      ",302],["T_OBJECT_OPERATOR","->",303],["T_STRING","save",303],"(",")",";",["T_WHITESPACE","\n    ",303],["T_VARIABLE","$expected",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_STRING","SafeMarkup",304],["T_DOUBLE_COLON","::",304],["T_STRING","format",304],"(",["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","displayOptions",304],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",304],"]","[",["T_CONSTANT_ENCAPSED_STRING","'past_format'",304],"]",",",["T_WHITESPACE"," ",304],"[",["T_WHITESPACE","\n      ",304],["T_CONSTANT_ENCAPSED_STRING","'@interval'",305],["T_WHITESPACE"," ",305],["T_DOUBLE_ARROW","=>",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","dateFormatter",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","formatTimeDiffSince",305],"(",["T_VARIABLE","$timestamp",305],",",["T_WHITESPACE"," ",305],"[",["T_CONSTANT_ENCAPSED_STRING","'granularity'",305],["T_WHITESPACE"," ",305],["T_DOUBLE_ARROW","=>",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","displayOptions",305],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",305],"]","[",["T_CONSTANT_ENCAPSED_STRING","'granularity'",305],"]","]",")",["T_WHITESPACE","\n    ",305],"]",")",";",["T_WHITESPACE","\n    ",306],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","renderTestEntity",307],"(",["T_VARIABLE","$id",307],")",";",["T_WHITESPACE","\n    ",307],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","assertText",308],"(",["T_VARIABLE","$expected",308],",",["T_WHITESPACE"," ",308],["T_STRING","SafeMarkup",308],["T_DOUBLE_COLON","::",308],["T_STRING","format",308],"(",["T_CONSTANT_ENCAPSED_STRING","'Formatted date field using datetime_time_ago format displayed as %expected.'",308],",",["T_WHITESPACE"," ",308],["T_ARRAY","array",308],"(",["T_CONSTANT_ENCAPSED_STRING","'%expected'",308],["T_WHITESPACE"," ",308],["T_DOUBLE_ARROW","=>",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$expected",308],")",")",")",";",["T_WHITESPACE","\n\n    ",308],["T_COMMENT","\/\/ Verify that the 'datetime_time_ago' formatter works for intervals in the\n",310],["T_WHITESPACE","    ",311],["T_COMMENT","\/\/ future.  First update the test entity so that the date difference always\n",311],["T_WHITESPACE","    ",312],["T_COMMENT","\/\/ has the same interval.  Since the database always stores UTC, and the\n",312],["T_WHITESPACE","    ",313],["T_COMMENT","\/\/ interval will use this, force the test date to use UTC and not the local\n",313],["T_WHITESPACE","    ",314],["T_COMMENT","\/\/ or user timezome.\n",314],["T_WHITESPACE","    ",315],["T_VARIABLE","$timestamp",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_STRING","REQUEST_TIME",315],["T_WHITESPACE"," ",315],"+",["T_WHITESPACE"," ",315],["T_LNUMBER","87654321",315],";",["T_WHITESPACE","\n    ",315],["T_VARIABLE","$entity",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_STRING","EntityTest",316],["T_DOUBLE_COLON","::",316],["T_STRING","load",316],"(",["T_VARIABLE","$id",316],")",";",["T_WHITESPACE","\n    ",316],["T_VARIABLE","$field_name",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","fieldStorage",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","getName",317],"(",")",";",["T_WHITESPACE","\n    ",317],["T_VARIABLE","$date",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_STRING","DrupalDateTime",318],["T_DOUBLE_COLON","::",318],["T_STRING","createFromTimestamp",318],"(",["T_VARIABLE","$timestamp",318],",",["T_WHITESPACE"," ",318],["T_CONSTANT_ENCAPSED_STRING","'UTC'",318],")",";",["T_WHITESPACE","\n    ",318],["T_VARIABLE","$entity",319],["T_OBJECT_OPERATOR","->",319],"{",["T_VARIABLE","$field_name",319],"}",["T_OBJECT_OPERATOR","->",319],["T_STRING","value",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_VARIABLE","$date",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","format",319],"(",["T_STRING","DATETIME_DATETIME_STORAGE_FORMAT",319],")",";",["T_WHITESPACE","\n    ",319],["T_VARIABLE","$entity",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","save",320],"(",")",";",["T_WHITESPACE","\n\n    ",320],["T_STRING","entity_get_display",322],"(",["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","field",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","getTargetEntityTypeId",322],"(",")",",",["T_WHITESPACE"," ",322],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","field",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","getTargetBundle",322],"(",")",",",["T_WHITESPACE"," ",322],["T_CONSTANT_ENCAPSED_STRING","'full'",322],")",["T_WHITESPACE","\n      ",322],["T_OBJECT_OPERATOR","->",323],["T_STRING","setComponent",323],"(",["T_VARIABLE","$field_name",323],",",["T_WHITESPACE"," ",323],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","displayOptions",323],")",["T_WHITESPACE","\n      ",323],["T_OBJECT_OPERATOR","->",324],["T_STRING","save",324],"(",")",";",["T_WHITESPACE","\n    ",324],["T_VARIABLE","$expected",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_STRING","SafeMarkup",325],["T_DOUBLE_COLON","::",325],["T_STRING","format",325],"(",["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","displayOptions",325],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",325],"]","[",["T_CONSTANT_ENCAPSED_STRING","'future_format'",325],"]",",",["T_WHITESPACE"," ",325],"[",["T_WHITESPACE","\n      ",325],["T_CONSTANT_ENCAPSED_STRING","'@interval'",326],["T_WHITESPACE"," ",326],["T_DOUBLE_ARROW","=>",326],["T_WHITESPACE"," ",326],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","dateFormatter",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","formatTimeDiffUntil",326],"(",["T_VARIABLE","$timestamp",326],",",["T_WHITESPACE"," ",326],"[",["T_CONSTANT_ENCAPSED_STRING","'granularity'",326],["T_WHITESPACE"," ",326],["T_DOUBLE_ARROW","=>",326],["T_WHITESPACE"," ",326],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","displayOptions",326],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",326],"]","[",["T_CONSTANT_ENCAPSED_STRING","'granularity'",326],"]","]",")",["T_WHITESPACE","\n    ",326],"]",")",";",["T_WHITESPACE","\n    ",327],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","renderTestEntity",328],"(",["T_VARIABLE","$id",328],")",";",["T_WHITESPACE","\n    ",328],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","assertText",329],"(",["T_VARIABLE","$expected",329],",",["T_WHITESPACE"," ",329],["T_STRING","SafeMarkup",329],["T_DOUBLE_COLON","::",329],["T_STRING","format",329],"(",["T_CONSTANT_ENCAPSED_STRING","'Formatted date field using datetime_time_ago format displayed as %expected.'",329],",",["T_WHITESPACE"," ",329],["T_ARRAY","array",329],"(",["T_CONSTANT_ENCAPSED_STRING","'%expected'",329],["T_WHITESPACE"," ",329],["T_DOUBLE_ARROW","=>",329],["T_WHITESPACE"," ",329],["T_VARIABLE","$expected",329],")",")",")",";",["T_WHITESPACE","\n  ",329],"}",["T_WHITESPACE","\n\n  ",330],["T_DOC_COMMENT","\/**\n   * Tests Date List Widget functionality.\n   *\/",332],["T_WHITESPACE","\n  ",334],["T_FUNCTION","function",335],["T_WHITESPACE"," ",335],["T_STRING","testDatelistWidget",335],"(",")",["T_WHITESPACE"," ",335],"{",["T_WHITESPACE","\n    ",335],["T_VARIABLE","$field_name",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","fieldStorage",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","getName",336],"(",")",";",["T_WHITESPACE","\n\n    ",336],["T_COMMENT","\/\/ Ensure field is set to a date only field.\n",338],["T_WHITESPACE","    ",339],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","fieldStorage",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","setSetting",339],"(",["T_CONSTANT_ENCAPSED_STRING","'datetime_type'",339],",",["T_WHITESPACE"," ",339],["T_CONSTANT_ENCAPSED_STRING","'date'",339],")",";",["T_WHITESPACE","\n    ",339],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","fieldStorage",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","save",340],"(",")",";",["T_WHITESPACE","\n\n    ",340],["T_COMMENT","\/\/ Change the widget to a datelist widget.\n",342],["T_WHITESPACE","    ",343],["T_STRING","entity_get_form_display",343],"(",["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","field",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","getTargetEntityTypeId",343],"(",")",",",["T_WHITESPACE"," ",343],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","field",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","getTargetBundle",343],"(",")",",",["T_WHITESPACE"," ",343],["T_CONSTANT_ENCAPSED_STRING","'default'",343],")",["T_WHITESPACE","\n      ",343],["T_OBJECT_OPERATOR","->",344],["T_STRING","setComponent",344],"(",["T_VARIABLE","$field_name",344],",",["T_WHITESPACE"," ",344],["T_ARRAY","array",344],"(",["T_WHITESPACE","\n        ",344],["T_CONSTANT_ENCAPSED_STRING","'type'",345],["T_WHITESPACE"," ",345],["T_DOUBLE_ARROW","=>",345],["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","'datetime_datelist'",345],",",["T_WHITESPACE","\n        ",345],["T_CONSTANT_ENCAPSED_STRING","'settings'",346],["T_WHITESPACE"," ",346],["T_DOUBLE_ARROW","=>",346],["T_WHITESPACE"," ",346],["T_ARRAY","array",346],"(",["T_WHITESPACE","\n          ",346],["T_CONSTANT_ENCAPSED_STRING","'date_order'",347],["T_WHITESPACE"," ",347],["T_DOUBLE_ARROW","=>",347],["T_WHITESPACE"," ",347],["T_CONSTANT_ENCAPSED_STRING","'YMD'",347],",",["T_WHITESPACE","\n        ",347],")",",",["T_WHITESPACE","\n      ",348],")",")",["T_WHITESPACE","\n      ",349],["T_OBJECT_OPERATOR","->",350],["T_STRING","save",350],"(",")",";",["T_WHITESPACE","\n    ",350],["T_NS_SEPARATOR","\\",351],["T_STRING","Drupal",351],["T_DOUBLE_COLON","::",351],["T_STRING","entityManager",351],"(",")",["T_OBJECT_OPERATOR","->",351],["T_STRING","clearCachedFieldDefinitions",351],"(",")",";",["T_WHITESPACE","\n\n    ",351],["T_COMMENT","\/\/ Display creation form.\n",353],["T_WHITESPACE","    ",354],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","drupalGet",354],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test\/add'",354],")",";",["T_WHITESPACE","\n\n    ",354],["T_COMMENT","\/\/ Assert that Hour and Minute Elements do not appear on Date Only\n",356],["T_WHITESPACE","    ",357],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","assertNoFieldByXPath",357],"(","\"",["T_ENCAPSED_AND_WHITESPACE","\/\/*[@id=\\\"edit-",357],["T_VARIABLE","$field_name",357],["T_ENCAPSED_AND_WHITESPACE","-0-value-hour\\\"]",357],"\"",",",["T_WHITESPACE"," ",357],["T_STRING","NULL",357],",",["T_WHITESPACE"," ",357],["T_CONSTANT_ENCAPSED_STRING","'Hour element not found on Date Only.'",357],")",";",["T_WHITESPACE","\n    ",357],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","assertNoFieldByXPath",358],"(","\"",["T_ENCAPSED_AND_WHITESPACE","\/\/*[@id=\\\"edit-",358],["T_VARIABLE","$field_name",358],["T_ENCAPSED_AND_WHITESPACE","-0-value-minute\\\"]",358],"\"",",",["T_WHITESPACE"," ",358],["T_STRING","NULL",358],",",["T_WHITESPACE"," ",358],["T_CONSTANT_ENCAPSED_STRING","'Minute element not found on Date Only.'",358],")",";",["T_WHITESPACE","\n\n    ",358],["T_COMMENT","\/\/ Go to the form display page to assert that increment option does not appear on Date Only\n",360],["T_WHITESPACE","    ",361],["T_VARIABLE","$fieldEditUrl",361],["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_CONSTANT_ENCAPSED_STRING","'entity_test\/structure\/entity_test\/form-display'",361],";",["T_WHITESPACE","\n    ",361],["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","drupalGet",362],"(",["T_VARIABLE","$fieldEditUrl",362],")",";",["T_WHITESPACE","\n\n    ",362],["T_COMMENT","\/\/ Click on the widget settings button to open the widget settings form.\n",364],["T_WHITESPACE","    ",365],["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","drupalPostAjaxForm",365],"(",["T_STRING","NULL",365],",",["T_WHITESPACE"," ",365],["T_ARRAY","array",365],"(",")",",",["T_WHITESPACE"," ",365],["T_VARIABLE","$field_name",365],["T_WHITESPACE"," ",365],".",["T_WHITESPACE"," ",365],["T_CONSTANT_ENCAPSED_STRING","\"_settings_edit\"",365],")",";",["T_WHITESPACE","\n    ",365],["T_VARIABLE","$xpathIncr",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],"\"",["T_ENCAPSED_AND_WHITESPACE","\/\/select[starts-with(@id, \\\"edit-fields-",366],["T_VARIABLE","$field_name",366],["T_ENCAPSED_AND_WHITESPACE","-settings-edit-form-settings-increment\\\")]",366],"\"",";",["T_WHITESPACE","\n    ",366],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","assertNoFieldByXPath",367],"(",["T_VARIABLE","$xpathIncr",367],",",["T_WHITESPACE"," ",367],["T_STRING","NULL",367],",",["T_WHITESPACE"," ",367],["T_CONSTANT_ENCAPSED_STRING","'Increment element not found for Date Only.'",367],")",";",["T_WHITESPACE","\n\n    ",367],["T_COMMENT","\/\/ Change the field to a datetime field.\n",369],["T_WHITESPACE","    ",370],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","fieldStorage",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","setSetting",370],"(",["T_CONSTANT_ENCAPSED_STRING","'datetime_type'",370],",",["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'datetime'",370],")",";",["T_WHITESPACE","\n    ",370],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","fieldStorage",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","save",371],"(",")",";",["T_WHITESPACE","\n\n    ",371],["T_COMMENT","\/\/ Change the widget to a datelist widget.\n",373],["T_WHITESPACE","    ",374],["T_STRING","entity_get_form_display",374],"(",["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","field",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","getTargetEntityTypeId",374],"(",")",",",["T_WHITESPACE"," ",374],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","field",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","getTargetBundle",374],"(",")",",",["T_WHITESPACE"," ",374],["T_CONSTANT_ENCAPSED_STRING","'default'",374],")",["T_WHITESPACE","\n      ",374],["T_OBJECT_OPERATOR","->",375],["T_STRING","setComponent",375],"(",["T_VARIABLE","$field_name",375],",",["T_WHITESPACE"," ",375],["T_ARRAY","array",375],"(",["T_WHITESPACE","\n        ",375],["T_CONSTANT_ENCAPSED_STRING","'type'",376],["T_WHITESPACE"," ",376],["T_DOUBLE_ARROW","=>",376],["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","'datetime_datelist'",376],",",["T_WHITESPACE","\n        ",376],["T_CONSTANT_ENCAPSED_STRING","'settings'",377],["T_WHITESPACE"," ",377],["T_DOUBLE_ARROW","=>",377],["T_WHITESPACE"," ",377],["T_ARRAY","array",377],"(",["T_WHITESPACE","\n          ",377],["T_CONSTANT_ENCAPSED_STRING","'increment'",378],["T_WHITESPACE"," ",378],["T_DOUBLE_ARROW","=>",378],["T_WHITESPACE"," ",378],["T_LNUMBER","1",378],",",["T_WHITESPACE","\n          ",378],["T_CONSTANT_ENCAPSED_STRING","'date_order'",379],["T_WHITESPACE"," ",379],["T_DOUBLE_ARROW","=>",379],["T_WHITESPACE"," ",379],["T_CONSTANT_ENCAPSED_STRING","'YMD'",379],",",["T_WHITESPACE","\n          ",379],["T_CONSTANT_ENCAPSED_STRING","'time_type'",380],["T_WHITESPACE"," ",380],["T_DOUBLE_ARROW","=>",380],["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","'12'",380],",",["T_WHITESPACE","\n        ",380],")",",",["T_WHITESPACE","\n      ",381],")",")",["T_WHITESPACE","\n      ",382],["T_OBJECT_OPERATOR","->",383],["T_STRING","save",383],"(",")",";",["T_WHITESPACE","\n    ",383],["T_NS_SEPARATOR","\\",384],["T_STRING","Drupal",384],["T_DOUBLE_COLON","::",384],["T_STRING","entityManager",384],"(",")",["T_OBJECT_OPERATOR","->",384],["T_STRING","clearCachedFieldDefinitions",384],"(",")",";",["T_WHITESPACE","\n\n    ",384],["T_COMMENT","\/\/ Go to the form display page to assert that increment option does appear on Date Time\n",386],["T_WHITESPACE","    ",387],["T_VARIABLE","$fieldEditUrl",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","'entity_test\/structure\/entity_test\/form-display'",387],";",["T_WHITESPACE","\n    ",387],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","drupalGet",388],"(",["T_VARIABLE","$fieldEditUrl",388],")",";",["T_WHITESPACE","\n\n    ",388],["T_COMMENT","\/\/ Click on the widget settings button to open the widget settings form.\n",390],["T_WHITESPACE","    ",391],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","drupalPostAjaxForm",391],"(",["T_STRING","NULL",391],",",["T_WHITESPACE"," ",391],["T_ARRAY","array",391],"(",")",",",["T_WHITESPACE"," ",391],["T_VARIABLE","$field_name",391],["T_WHITESPACE"," ",391],".",["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","\"_settings_edit\"",391],")",";",["T_WHITESPACE","\n    ",391],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","assertFieldByXPath",392],"(",["T_VARIABLE","$xpathIncr",392],",",["T_WHITESPACE"," ",392],["T_STRING","NULL",392],",",["T_WHITESPACE"," ",392],["T_CONSTANT_ENCAPSED_STRING","'Increment element found for Date and time.'",392],")",";",["T_WHITESPACE","\n\n    ",392],["T_COMMENT","\/\/ Display creation form.\n",394],["T_WHITESPACE","    ",395],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","drupalGet",395],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test\/add'",395],")",";",["T_WHITESPACE","\n\n    ",395],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","assertFieldByXPath",397],"(","\"",["T_ENCAPSED_AND_WHITESPACE","\/\/*[@id=\\\"edit-",397],["T_VARIABLE","$field_name",397],["T_ENCAPSED_AND_WHITESPACE","-0-value-year\\\"]",397],"\"",",",["T_WHITESPACE"," ",397],["T_STRING","NULL",397],",",["T_WHITESPACE"," ",397],["T_CONSTANT_ENCAPSED_STRING","'Year element found.'",397],")",";",["T_WHITESPACE","\n    ",397],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","assertOptionSelected",398],"(","\"",["T_ENCAPSED_AND_WHITESPACE","edit-",398],["T_VARIABLE","$field_name",398],["T_ENCAPSED_AND_WHITESPACE","-0-value-year",398],"\"",",",["T_WHITESPACE"," ",398],["T_CONSTANT_ENCAPSED_STRING","''",398],",",["T_WHITESPACE"," ",398],["T_CONSTANT_ENCAPSED_STRING","'No year selected.'",398],")",";",["T_WHITESPACE","\n    ",398],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","assertOptionByText",399],"(","\"",["T_ENCAPSED_AND_WHITESPACE","edit-",399],["T_VARIABLE","$field_name",399],["T_ENCAPSED_AND_WHITESPACE","-0-value-year",399],"\"",",",["T_WHITESPACE"," ",399],["T_STRING","t",399],"(",["T_CONSTANT_ENCAPSED_STRING","'Year'",399],")",")",";",["T_WHITESPACE","\n    ",399],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","assertFieldByXPath",400],"(","\"",["T_ENCAPSED_AND_WHITESPACE","\/\/*[@id=\\\"edit-",400],["T_VARIABLE","$field_name",400],["T_ENCAPSED_AND_WHITESPACE","-0-value-month\\\"]",400],"\"",",",["T_WHITESPACE"," ",400],["T_STRING","NULL",400],",",["T_WHITESPACE"," ",400],["T_CONSTANT_ENCAPSED_STRING","'Month element found.'",400],")",";",["T_WHITESPACE","\n    ",400],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","assertOptionSelected",401],"(","\"",["T_ENCAPSED_AND_WHITESPACE","edit-",401],["T_VARIABLE","$field_name",401],["T_ENCAPSED_AND_WHITESPACE","-0-value-month",401],"\"",",",["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","''",401],",",["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","'No month selected.'",401],")",";",["T_WHITESPACE","\n    ",401],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","assertOptionByText",402],"(","\"",["T_ENCAPSED_AND_WHITESPACE","edit-",402],["T_VARIABLE","$field_name",402],["T_ENCAPSED_AND_WHITESPACE","-0-value-month",402],"\"",",",["T_WHITESPACE"," ",402],["T_STRING","t",402],"(",["T_CONSTANT_ENCAPSED_STRING","'Month'",402],")",")",";",["T_WHITESPACE","\n    ",402],["T_VARIABLE","$this",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","assertFieldByXPath",403],"(","\"",["T_ENCAPSED_AND_WHITESPACE","\/\/*[@id=\\\"edit-",403],["T_VARIABLE","$field_name",403],["T_ENCAPSED_AND_WHITESPACE","-0-value-day\\\"]",403],"\"",",",["T_WHITESPACE"," ",403],["T_STRING","NULL",403],",",["T_WHITESPACE"," ",403],["T_CONSTANT_ENCAPSED_STRING","'Day element found.'",403],")",";",["T_WHITESPACE","\n    ",403],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","assertOptionSelected",404],"(","\"",["T_ENCAPSED_AND_WHITESPACE","edit-",404],["T_VARIABLE","$field_name",404],["T_ENCAPSED_AND_WHITESPACE","-0-value-day",404],"\"",",",["T_WHITESPACE"," ",404],["T_CONSTANT_ENCAPSED_STRING","''",404],",",["T_WHITESPACE"," ",404],["T_CONSTANT_ENCAPSED_STRING","'No day selected.'",404],")",";",["T_WHITESPACE","\n    ",404],["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","assertOptionByText",405],"(","\"",["T_ENCAPSED_AND_WHITESPACE","edit-",405],["T_VARIABLE","$field_name",405],["T_ENCAPSED_AND_WHITESPACE","-0-value-day",405],"\"",",",["T_WHITESPACE"," ",405],["T_STRING","t",405],"(",["T_CONSTANT_ENCAPSED_STRING","'Day'",405],")",")",";",["T_WHITESPACE","\n    ",405],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","assertFieldByXPath",406],"(","\"",["T_ENCAPSED_AND_WHITESPACE","\/\/*[@id=\\\"edit-",406],["T_VARIABLE","$field_name",406],["T_ENCAPSED_AND_WHITESPACE","-0-value-hour\\\"]",406],"\"",",",["T_WHITESPACE"," ",406],["T_STRING","NULL",406],",",["T_WHITESPACE"," ",406],["T_CONSTANT_ENCAPSED_STRING","'Hour element found.'",406],")",";",["T_WHITESPACE","\n    ",406],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","assertOptionSelected",407],"(","\"",["T_ENCAPSED_AND_WHITESPACE","edit-",407],["T_VARIABLE","$field_name",407],["T_ENCAPSED_AND_WHITESPACE","-0-value-hour",407],"\"",",",["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","''",407],",",["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","'No hour selected.'",407],")",";",["T_WHITESPACE","\n    ",407],["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","assertOptionByText",408],"(","\"",["T_ENCAPSED_AND_WHITESPACE","edit-",408],["T_VARIABLE","$field_name",408],["T_ENCAPSED_AND_WHITESPACE","-0-value-hour",408],"\"",",",["T_WHITESPACE"," ",408],["T_STRING","t",408],"(",["T_CONSTANT_ENCAPSED_STRING","'Hour'",408],")",")",";",["T_WHITESPACE","\n    ",408],["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","assertFieldByXPath",409],"(","\"",["T_ENCAPSED_AND_WHITESPACE","\/\/*[@id=\\\"edit-",409],["T_VARIABLE","$field_name",409],["T_ENCAPSED_AND_WHITESPACE","-0-value-minute\\\"]",409],"\"",",",["T_WHITESPACE"," ",409],["T_STRING","NULL",409],",",["T_WHITESPACE"," ",409],["T_CONSTANT_ENCAPSED_STRING","'Minute element found.'",409],")",";",["T_WHITESPACE","\n    ",409],["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","assertOptionSelected",410],"(","\"",["T_ENCAPSED_AND_WHITESPACE","edit-",410],["T_VARIABLE","$field_name",410],["T_ENCAPSED_AND_WHITESPACE","-0-value-minute",410],"\"",",",["T_WHITESPACE"," ",410],["T_CONSTANT_ENCAPSED_STRING","''",410],",",["T_WHITESPACE"," ",410],["T_CONSTANT_ENCAPSED_STRING","'No minute selected.'",410],")",";",["T_WHITESPACE","\n    ",410],["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","assertOptionByText",411],"(","\"",["T_ENCAPSED_AND_WHITESPACE","edit-",411],["T_VARIABLE","$field_name",411],["T_ENCAPSED_AND_WHITESPACE","-0-value-minute",411],"\"",",",["T_WHITESPACE"," ",411],["T_STRING","t",411],"(",["T_CONSTANT_ENCAPSED_STRING","'Minute'",411],")",")",";",["T_WHITESPACE","\n    ",411],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","assertNoFieldByXPath",412],"(","\"",["T_ENCAPSED_AND_WHITESPACE","\/\/*[@id=\\\"edit-",412],["T_VARIABLE","$field_name",412],["T_ENCAPSED_AND_WHITESPACE","-0-value-second\\\"]",412],"\"",",",["T_WHITESPACE"," ",412],["T_STRING","NULL",412],",",["T_WHITESPACE"," ",412],["T_CONSTANT_ENCAPSED_STRING","'Second element not found.'",412],")",";",["T_WHITESPACE","\n    ",412],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","assertFieldByXPath",413],"(","\"",["T_ENCAPSED_AND_WHITESPACE","\/\/*[@id=\\\"edit-",413],["T_VARIABLE","$field_name",413],["T_ENCAPSED_AND_WHITESPACE","-0-value-ampm\\\"]",413],"\"",",",["T_WHITESPACE"," ",413],["T_STRING","NULL",413],",",["T_WHITESPACE"," ",413],["T_CONSTANT_ENCAPSED_STRING","'AMPM element found.'",413],")",";",["T_WHITESPACE","\n    ",413],["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","assertOptionSelected",414],"(","\"",["T_ENCAPSED_AND_WHITESPACE","edit-",414],["T_VARIABLE","$field_name",414],["T_ENCAPSED_AND_WHITESPACE","-0-value-ampm",414],"\"",",",["T_WHITESPACE"," ",414],["T_CONSTANT_ENCAPSED_STRING","''",414],",",["T_WHITESPACE"," ",414],["T_CONSTANT_ENCAPSED_STRING","'No ampm selected.'",414],")",";",["T_WHITESPACE","\n    ",414],["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","assertOptionByText",415],"(","\"",["T_ENCAPSED_AND_WHITESPACE","edit-",415],["T_VARIABLE","$field_name",415],["T_ENCAPSED_AND_WHITESPACE","-0-value-ampm",415],"\"",",",["T_WHITESPACE"," ",415],["T_STRING","t",415],"(",["T_CONSTANT_ENCAPSED_STRING","'AM\/PM'",415],")",")",";",["T_WHITESPACE","\n\n    ",415],["T_COMMENT","\/\/ Submit a valid date and ensure it is accepted.\n",417],["T_WHITESPACE","    ",418],["T_VARIABLE","$date_value",418],["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],["T_ARRAY","array",418],"(",["T_CONSTANT_ENCAPSED_STRING","'year'",418],["T_WHITESPACE"," ",418],["T_DOUBLE_ARROW","=>",418],["T_WHITESPACE"," ",418],["T_LNUMBER","2012",418],",",["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","'month'",418],["T_WHITESPACE"," ",418],["T_DOUBLE_ARROW","=>",418],["T_WHITESPACE"," ",418],["T_LNUMBER","12",418],",",["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","'day'",418],["T_WHITESPACE"," ",418],["T_DOUBLE_ARROW","=>",418],["T_WHITESPACE"," ",418],["T_LNUMBER","31",418],",",["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","'hour'",418],["T_WHITESPACE"," ",418],["T_DOUBLE_ARROW","=>",418],["T_WHITESPACE"," ",418],["T_LNUMBER","5",418],",",["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","'minute'",418],["T_WHITESPACE"," ",418],["T_DOUBLE_ARROW","=>",418],["T_WHITESPACE"," ",418],["T_LNUMBER","15",418],")",";",["T_WHITESPACE","\n\n    ",418],["T_VARIABLE","$edit",420],["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_ARRAY","array",420],"(",")",";",["T_WHITESPACE","\n    ",420],["T_COMMENT","\/\/ Add the ampm indicator since we are testing 12 hour time.\n",421],["T_WHITESPACE","    ",422],["T_VARIABLE","$date_value",422],"[",["T_CONSTANT_ENCAPSED_STRING","'ampm'",422],"]",["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","'am'",422],";",["T_WHITESPACE","\n    ",422],["T_FOREACH","foreach",423],["T_WHITESPACE"," ",423],"(",["T_VARIABLE","$date_value",423],["T_WHITESPACE"," ",423],["T_AS","as",423],["T_WHITESPACE"," ",423],["T_VARIABLE","$part",423],["T_WHITESPACE"," ",423],["T_DOUBLE_ARROW","=>",423],["T_WHITESPACE"," ",423],["T_VARIABLE","$value",423],")",["T_WHITESPACE"," ",423],"{",["T_WHITESPACE","\n      ",423],["T_VARIABLE","$edit",424],"[","\"",["T_CURLY_OPEN","{",424],["T_VARIABLE","$field_name",424],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][",424],["T_VARIABLE","$part",424],["T_ENCAPSED_AND_WHITESPACE","]",424],"\"","]",["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_VARIABLE","$value",424],";",["T_WHITESPACE","\n    ",424],"}",["T_WHITESPACE","\n\n    ",425],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","drupalPostForm",427],"(",["T_STRING","NULL",427],",",["T_WHITESPACE"," ",427],["T_VARIABLE","$edit",427],",",["T_WHITESPACE"," ",427],["T_STRING","t",427],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",427],")",")",";",["T_WHITESPACE","\n    ",427],["T_STRING","preg_match",428],"(",["T_CONSTANT_ENCAPSED_STRING","'|entity_test\/manage\/(\\d+)|'",428],",",["T_WHITESPACE"," ",428],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","url",428],",",["T_WHITESPACE"," ",428],["T_VARIABLE","$match",428],")",";",["T_WHITESPACE","\n    ",428],["T_VARIABLE","$id",429],["T_WHITESPACE"," ",429],"=",["T_WHITESPACE"," ",429],["T_VARIABLE","$match",429],"[",["T_LNUMBER","1",429],"]",";",["T_WHITESPACE","\n    ",429],["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","assertText",430],"(",["T_STRING","t",430],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test @id has been created.'",430],",",["T_WHITESPACE"," ",430],["T_ARRAY","array",430],"(",["T_CONSTANT_ENCAPSED_STRING","'@id'",430],["T_WHITESPACE"," ",430],["T_DOUBLE_ARROW","=>",430],["T_WHITESPACE"," ",430],["T_VARIABLE","$id",430],")",")",")",";",["T_WHITESPACE","\n\n    ",430],["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","assertOptionSelected",432],"(","\"",["T_ENCAPSED_AND_WHITESPACE","edit-",432],["T_VARIABLE","$field_name",432],["T_ENCAPSED_AND_WHITESPACE","-0-value-year",432],"\"",",",["T_WHITESPACE"," ",432],["T_CONSTANT_ENCAPSED_STRING","'2012'",432],",",["T_WHITESPACE"," ",432],["T_CONSTANT_ENCAPSED_STRING","'Correct year selected.'",432],")",";",["T_WHITESPACE","\n    ",432],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","assertOptionSelected",433],"(","\"",["T_ENCAPSED_AND_WHITESPACE","edit-",433],["T_VARIABLE","$field_name",433],["T_ENCAPSED_AND_WHITESPACE","-0-value-month",433],"\"",",",["T_WHITESPACE"," ",433],["T_CONSTANT_ENCAPSED_STRING","'12'",433],",",["T_WHITESPACE"," ",433],["T_CONSTANT_ENCAPSED_STRING","'Correct month selected.'",433],")",";",["T_WHITESPACE","\n    ",433],["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","assertOptionSelected",434],"(","\"",["T_ENCAPSED_AND_WHITESPACE","edit-",434],["T_VARIABLE","$field_name",434],["T_ENCAPSED_AND_WHITESPACE","-0-value-day",434],"\"",",",["T_WHITESPACE"," ",434],["T_CONSTANT_ENCAPSED_STRING","'31'",434],",",["T_WHITESPACE"," ",434],["T_CONSTANT_ENCAPSED_STRING","'Correct day selected.'",434],")",";",["T_WHITESPACE","\n    ",434],["T_VARIABLE","$this",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","assertOptionSelected",435],"(","\"",["T_ENCAPSED_AND_WHITESPACE","edit-",435],["T_VARIABLE","$field_name",435],["T_ENCAPSED_AND_WHITESPACE","-0-value-hour",435],"\"",",",["T_WHITESPACE"," ",435],["T_CONSTANT_ENCAPSED_STRING","'5'",435],",",["T_WHITESPACE"," ",435],["T_CONSTANT_ENCAPSED_STRING","'Correct hour selected.'",435],")",";",["T_WHITESPACE","\n    ",435],["T_VARIABLE","$this",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","assertOptionSelected",436],"(","\"",["T_ENCAPSED_AND_WHITESPACE","edit-",436],["T_VARIABLE","$field_name",436],["T_ENCAPSED_AND_WHITESPACE","-0-value-minute",436],"\"",",",["T_WHITESPACE"," ",436],["T_CONSTANT_ENCAPSED_STRING","'15'",436],",",["T_WHITESPACE"," ",436],["T_CONSTANT_ENCAPSED_STRING","'Correct minute selected.'",436],")",";",["T_WHITESPACE","\n    ",436],["T_VARIABLE","$this",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","assertOptionSelected",437],"(","\"",["T_ENCAPSED_AND_WHITESPACE","edit-",437],["T_VARIABLE","$field_name",437],["T_ENCAPSED_AND_WHITESPACE","-0-value-ampm",437],"\"",",",["T_WHITESPACE"," ",437],["T_CONSTANT_ENCAPSED_STRING","'am'",437],",",["T_WHITESPACE"," ",437],["T_CONSTANT_ENCAPSED_STRING","'Correct ampm selected.'",437],")",";",["T_WHITESPACE","\n\n    ",437],["T_COMMENT","\/\/ Test the widget using increment other than 1 and 24 hour mode.\n",439],["T_WHITESPACE","    ",440],["T_STRING","entity_get_form_display",440],"(",["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","field",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","getTargetEntityTypeId",440],"(",")",",",["T_WHITESPACE"," ",440],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","field",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","getTargetBundle",440],"(",")",",",["T_WHITESPACE"," ",440],["T_CONSTANT_ENCAPSED_STRING","'default'",440],")",["T_WHITESPACE","\n      ",440],["T_OBJECT_OPERATOR","->",441],["T_STRING","setComponent",441],"(",["T_VARIABLE","$field_name",441],",",["T_WHITESPACE"," ",441],["T_ARRAY","array",441],"(",["T_WHITESPACE","\n        ",441],["T_CONSTANT_ENCAPSED_STRING","'type'",442],["T_WHITESPACE"," ",442],["T_DOUBLE_ARROW","=>",442],["T_WHITESPACE"," ",442],["T_CONSTANT_ENCAPSED_STRING","'datetime_datelist'",442],",",["T_WHITESPACE","\n        ",442],["T_CONSTANT_ENCAPSED_STRING","'settings'",443],["T_WHITESPACE"," ",443],["T_DOUBLE_ARROW","=>",443],["T_WHITESPACE"," ",443],["T_ARRAY","array",443],"(",["T_WHITESPACE","\n          ",443],["T_CONSTANT_ENCAPSED_STRING","'increment'",444],["T_WHITESPACE"," ",444],["T_DOUBLE_ARROW","=>",444],["T_WHITESPACE"," ",444],["T_LNUMBER","15",444],",",["T_WHITESPACE","\n          ",444],["T_CONSTANT_ENCAPSED_STRING","'date_order'",445],["T_WHITESPACE"," ",445],["T_DOUBLE_ARROW","=>",445],["T_WHITESPACE"," ",445],["T_CONSTANT_ENCAPSED_STRING","'YMD'",445],",",["T_WHITESPACE","\n          ",445],["T_CONSTANT_ENCAPSED_STRING","'time_type'",446],["T_WHITESPACE"," ",446],["T_DOUBLE_ARROW","=>",446],["T_WHITESPACE"," ",446],["T_CONSTANT_ENCAPSED_STRING","'24'",446],",",["T_WHITESPACE","\n        ",446],")",",",["T_WHITESPACE","\n      ",447],")",")",["T_WHITESPACE","\n      ",448],["T_OBJECT_OPERATOR","->",449],["T_STRING","save",449],"(",")",";",["T_WHITESPACE","\n    ",449],["T_NS_SEPARATOR","\\",450],["T_STRING","Drupal",450],["T_DOUBLE_COLON","::",450],["T_STRING","entityManager",450],"(",")",["T_OBJECT_OPERATOR","->",450],["T_STRING","clearCachedFieldDefinitions",450],"(",")",";",["T_WHITESPACE","\n\n    ",450],["T_COMMENT","\/\/ Display creation form.\n",452],["T_WHITESPACE","    ",453],["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","drupalGet",453],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test\/add'",453],")",";",["T_WHITESPACE","\n\n    ",453],["T_COMMENT","\/\/ Other elements are unaffected by the changed settings.\n",455],["T_WHITESPACE","    ",456],["T_VARIABLE","$this",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","assertFieldByXPath",456],"(","\"",["T_ENCAPSED_AND_WHITESPACE","\/\/*[@id=\\\"edit-",456],["T_VARIABLE","$field_name",456],["T_ENCAPSED_AND_WHITESPACE","-0-value-hour\\\"]",456],"\"",",",["T_WHITESPACE"," ",456],["T_STRING","NULL",456],",",["T_WHITESPACE"," ",456],["T_CONSTANT_ENCAPSED_STRING","'Hour element found.'",456],")",";",["T_WHITESPACE","\n    ",456],["T_VARIABLE","$this",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","assertOptionSelected",457],"(","\"",["T_ENCAPSED_AND_WHITESPACE","edit-",457],["T_VARIABLE","$field_name",457],["T_ENCAPSED_AND_WHITESPACE","-0-value-hour",457],"\"",",",["T_WHITESPACE"," ",457],["T_CONSTANT_ENCAPSED_STRING","''",457],",",["T_WHITESPACE"," ",457],["T_CONSTANT_ENCAPSED_STRING","'No hour selected.'",457],")",";",["T_WHITESPACE","\n    ",457],["T_VARIABLE","$this",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","assertNoFieldByXPath",458],"(","\"",["T_ENCAPSED_AND_WHITESPACE","\/\/*[@id=\\\"edit-",458],["T_VARIABLE","$field_name",458],["T_ENCAPSED_AND_WHITESPACE","-0-value-ampm\\\"]",458],"\"",",",["T_WHITESPACE"," ",458],["T_STRING","NULL",458],",",["T_WHITESPACE"," ",458],["T_CONSTANT_ENCAPSED_STRING","'AMPM element not found.'",458],")",";",["T_WHITESPACE","\n\n    ",458],["T_COMMENT","\/\/ Submit a valid date and ensure it is accepted.\n",460],["T_WHITESPACE","    ",461],["T_VARIABLE","$date_value",461],["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_ARRAY","array",461],"(",["T_CONSTANT_ENCAPSED_STRING","'year'",461],["T_WHITESPACE"," ",461],["T_DOUBLE_ARROW","=>",461],["T_WHITESPACE"," ",461],["T_LNUMBER","2012",461],",",["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","'month'",461],["T_WHITESPACE"," ",461],["T_DOUBLE_ARROW","=>",461],["T_WHITESPACE"," ",461],["T_LNUMBER","12",461],",",["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","'day'",461],["T_WHITESPACE"," ",461],["T_DOUBLE_ARROW","=>",461],["T_WHITESPACE"," ",461],["T_LNUMBER","31",461],",",["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","'hour'",461],["T_WHITESPACE"," ",461],["T_DOUBLE_ARROW","=>",461],["T_WHITESPACE"," ",461],["T_LNUMBER","17",461],",",["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","'minute'",461],["T_WHITESPACE"," ",461],["T_DOUBLE_ARROW","=>",461],["T_WHITESPACE"," ",461],["T_LNUMBER","15",461],")",";",["T_WHITESPACE","\n\n    ",461],["T_VARIABLE","$edit",463],["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],["T_ARRAY","array",463],"(",")",";",["T_WHITESPACE","\n    ",463],["T_FOREACH","foreach",464],["T_WHITESPACE"," ",464],"(",["T_VARIABLE","$date_value",464],["T_WHITESPACE"," ",464],["T_AS","as",464],["T_WHITESPACE"," ",464],["T_VARIABLE","$part",464],["T_WHITESPACE"," ",464],["T_DOUBLE_ARROW","=>",464],["T_WHITESPACE"," ",464],["T_VARIABLE","$value",464],")",["T_WHITESPACE"," ",464],"{",["T_WHITESPACE","\n      ",464],["T_VARIABLE","$edit",465],"[","\"",["T_CURLY_OPEN","{",465],["T_VARIABLE","$field_name",465],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][",465],["T_VARIABLE","$part",465],["T_ENCAPSED_AND_WHITESPACE","]",465],"\"","]",["T_WHITESPACE"," ",465],"=",["T_WHITESPACE"," ",465],["T_VARIABLE","$value",465],";",["T_WHITESPACE","\n    ",465],"}",["T_WHITESPACE","\n\n    ",466],["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","drupalPostForm",468],"(",["T_STRING","NULL",468],",",["T_WHITESPACE"," ",468],["T_VARIABLE","$edit",468],",",["T_WHITESPACE"," ",468],["T_STRING","t",468],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",468],")",")",";",["T_WHITESPACE","\n    ",468],["T_STRING","preg_match",469],"(",["T_CONSTANT_ENCAPSED_STRING","'|entity_test\/manage\/(\\d+)|'",469],",",["T_WHITESPACE"," ",469],["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","url",469],",",["T_WHITESPACE"," ",469],["T_VARIABLE","$match",469],")",";",["T_WHITESPACE","\n    ",469],["T_VARIABLE","$id",470],["T_WHITESPACE"," ",470],"=",["T_WHITESPACE"," ",470],["T_VARIABLE","$match",470],"[",["T_LNUMBER","1",470],"]",";",["T_WHITESPACE","\n    ",470],["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","assertText",471],"(",["T_STRING","t",471],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test @id has been created.'",471],",",["T_WHITESPACE"," ",471],["T_ARRAY","array",471],"(",["T_CONSTANT_ENCAPSED_STRING","'@id'",471],["T_WHITESPACE"," ",471],["T_DOUBLE_ARROW","=>",471],["T_WHITESPACE"," ",471],["T_VARIABLE","$id",471],")",")",")",";",["T_WHITESPACE","\n\n    ",471],["T_VARIABLE","$this",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","assertOptionSelected",473],"(","\"",["T_ENCAPSED_AND_WHITESPACE","edit-",473],["T_VARIABLE","$field_name",473],["T_ENCAPSED_AND_WHITESPACE","-0-value-year",473],"\"",",",["T_WHITESPACE"," ",473],["T_CONSTANT_ENCAPSED_STRING","'2012'",473],",",["T_WHITESPACE"," ",473],["T_CONSTANT_ENCAPSED_STRING","'Correct year selected.'",473],")",";",["T_WHITESPACE","\n    ",473],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","assertOptionSelected",474],"(","\"",["T_ENCAPSED_AND_WHITESPACE","edit-",474],["T_VARIABLE","$field_name",474],["T_ENCAPSED_AND_WHITESPACE","-0-value-month",474],"\"",",",["T_WHITESPACE"," ",474],["T_CONSTANT_ENCAPSED_STRING","'12'",474],",",["T_WHITESPACE"," ",474],["T_CONSTANT_ENCAPSED_STRING","'Correct month selected.'",474],")",";",["T_WHITESPACE","\n    ",474],["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","assertOptionSelected",475],"(","\"",["T_ENCAPSED_AND_WHITESPACE","edit-",475],["T_VARIABLE","$field_name",475],["T_ENCAPSED_AND_WHITESPACE","-0-value-day",475],"\"",",",["T_WHITESPACE"," ",475],["T_CONSTANT_ENCAPSED_STRING","'31'",475],",",["T_WHITESPACE"," ",475],["T_CONSTANT_ENCAPSED_STRING","'Correct day selected.'",475],")",";",["T_WHITESPACE","\n    ",475],["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","assertOptionSelected",476],"(","\"",["T_ENCAPSED_AND_WHITESPACE","edit-",476],["T_VARIABLE","$field_name",476],["T_ENCAPSED_AND_WHITESPACE","-0-value-hour",476],"\"",",",["T_WHITESPACE"," ",476],["T_CONSTANT_ENCAPSED_STRING","'17'",476],",",["T_WHITESPACE"," ",476],["T_CONSTANT_ENCAPSED_STRING","'Correct hour selected.'",476],")",";",["T_WHITESPACE","\n    ",476],["T_VARIABLE","$this",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","assertOptionSelected",477],"(","\"",["T_ENCAPSED_AND_WHITESPACE","edit-",477],["T_VARIABLE","$field_name",477],["T_ENCAPSED_AND_WHITESPACE","-0-value-minute",477],"\"",",",["T_WHITESPACE"," ",477],["T_CONSTANT_ENCAPSED_STRING","'15'",477],",",["T_WHITESPACE"," ",477],["T_CONSTANT_ENCAPSED_STRING","'Correct minute selected.'",477],")",";",["T_WHITESPACE","\n\n    ",477],["T_COMMENT","\/\/ Test the widget for partial completion of fields.\n",479],["T_WHITESPACE","    ",480],["T_STRING","entity_get_form_display",480],"(",["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","field",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","getTargetEntityTypeId",480],"(",")",",",["T_WHITESPACE"," ",480],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","field",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","getTargetBundle",480],"(",")",",",["T_WHITESPACE"," ",480],["T_CONSTANT_ENCAPSED_STRING","'default'",480],")",["T_WHITESPACE","\n      ",480],["T_OBJECT_OPERATOR","->",481],["T_STRING","setComponent",481],"(",["T_VARIABLE","$field_name",481],",",["T_WHITESPACE"," ",481],["T_ARRAY","array",481],"(",["T_WHITESPACE","\n        ",481],["T_CONSTANT_ENCAPSED_STRING","'type'",482],["T_WHITESPACE"," ",482],["T_DOUBLE_ARROW","=>",482],["T_WHITESPACE"," ",482],["T_CONSTANT_ENCAPSED_STRING","'datetime_datelist'",482],",",["T_WHITESPACE","\n        ",482],["T_CONSTANT_ENCAPSED_STRING","'settings'",483],["T_WHITESPACE"," ",483],["T_DOUBLE_ARROW","=>",483],["T_WHITESPACE"," ",483],["T_ARRAY","array",483],"(",["T_WHITESPACE","\n          ",483],["T_CONSTANT_ENCAPSED_STRING","'increment'",484],["T_WHITESPACE"," ",484],["T_DOUBLE_ARROW","=>",484],["T_WHITESPACE"," ",484],["T_LNUMBER","1",484],",",["T_WHITESPACE","\n          ",484],["T_CONSTANT_ENCAPSED_STRING","'date_order'",485],["T_WHITESPACE"," ",485],["T_DOUBLE_ARROW","=>",485],["T_WHITESPACE"," ",485],["T_CONSTANT_ENCAPSED_STRING","'YMD'",485],",",["T_WHITESPACE","\n          ",485],["T_CONSTANT_ENCAPSED_STRING","'time_type'",486],["T_WHITESPACE"," ",486],["T_DOUBLE_ARROW","=>",486],["T_WHITESPACE"," ",486],["T_CONSTANT_ENCAPSED_STRING","'24'",486],",",["T_WHITESPACE","\n        ",486],")",",",["T_WHITESPACE","\n      ",487],")",")",["T_WHITESPACE","\n      ",488],["T_OBJECT_OPERATOR","->",489],["T_STRING","save",489],"(",")",";",["T_WHITESPACE","\n    ",489],["T_NS_SEPARATOR","\\",490],["T_STRING","Drupal",490],["T_DOUBLE_COLON","::",490],["T_STRING","entityManager",490],"(",")",["T_OBJECT_OPERATOR","->",490],["T_STRING","clearCachedFieldDefinitions",490],"(",")",";",["T_WHITESPACE","\n\n    ",490],["T_COMMENT","\/\/ Test the widget for validation notifications.\n",492],["T_WHITESPACE","    ",493],["T_FOREACH","foreach",493],["T_WHITESPACE"," ",493],"(",["T_VARIABLE","$this",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","datelistDataProvider",493],"(",")",["T_WHITESPACE"," ",493],["T_AS","as",493],["T_WHITESPACE"," ",493],["T_VARIABLE","$data",493],")",["T_WHITESPACE"," ",493],"{",["T_WHITESPACE","\n      ",493],["T_LIST","list",494],"(",["T_VARIABLE","$date_value",494],",",["T_WHITESPACE"," ",494],["T_VARIABLE","$expected",494],")",["T_WHITESPACE"," ",494],"=",["T_WHITESPACE"," ",494],["T_VARIABLE","$data",494],";",["T_WHITESPACE","\n\n      ",494],["T_COMMENT","\/\/ Display creation form.\n",496],["T_WHITESPACE","      ",497],["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","drupalGet",497],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test\/add'",497],")",";",["T_WHITESPACE","\n\n      ",497],["T_COMMENT","\/\/ Submit a partial date and ensure and error message is provided.\n",499],["T_WHITESPACE","      ",500],["T_VARIABLE","$edit",500],["T_WHITESPACE"," ",500],"=",["T_WHITESPACE"," ",500],["T_ARRAY","array",500],"(",")",";",["T_WHITESPACE","\n      ",500],["T_FOREACH","foreach",501],["T_WHITESPACE"," ",501],"(",["T_VARIABLE","$date_value",501],["T_WHITESPACE"," ",501],["T_AS","as",501],["T_WHITESPACE"," ",501],["T_VARIABLE","$part",501],["T_WHITESPACE"," ",501],["T_DOUBLE_ARROW","=>",501],["T_WHITESPACE"," ",501],["T_VARIABLE","$value",501],")",["T_WHITESPACE"," ",501],"{",["T_WHITESPACE","\n        ",501],["T_VARIABLE","$edit",502],"[","\"",["T_CURLY_OPEN","{",502],["T_VARIABLE","$field_name",502],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][",502],["T_VARIABLE","$part",502],["T_ENCAPSED_AND_WHITESPACE","]",502],"\"","]",["T_WHITESPACE"," ",502],"=",["T_WHITESPACE"," ",502],["T_VARIABLE","$value",502],";",["T_WHITESPACE","\n      ",502],"}",["T_WHITESPACE","\n\n      ",503],["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","drupalPostForm",505],"(",["T_STRING","NULL",505],",",["T_WHITESPACE"," ",505],["T_VARIABLE","$edit",505],",",["T_WHITESPACE"," ",505],["T_STRING","t",505],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",505],")",")",";",["T_WHITESPACE","\n      ",505],["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","assertResponse",506],"(",["T_LNUMBER","200",506],")",";",["T_WHITESPACE","\n      ",506],["T_FOREACH","foreach",507],["T_WHITESPACE"," ",507],"(",["T_VARIABLE","$expected",507],["T_WHITESPACE"," ",507],["T_AS","as",507],["T_WHITESPACE"," ",507],["T_VARIABLE","$expected_text",507],")",["T_WHITESPACE"," ",507],"{",["T_WHITESPACE","\n        ",507],["T_VARIABLE","$this",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","assertText",508],"(",["T_STRING","t",508],"(",["T_VARIABLE","$expected_text",508],")",")",";",["T_WHITESPACE","\n      ",508],"}",["T_WHITESPACE","\n    ",509],"}",["T_WHITESPACE","\n\n    ",510],["T_COMMENT","\/\/ Test the widget for complete input with zeros as part of selections.\n",512],["T_WHITESPACE","    ",513],["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","drupalGet",513],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test\/add'",513],")",";",["T_WHITESPACE","\n\n    ",513],["T_VARIABLE","$date_value",515],["T_WHITESPACE"," ",515],"=",["T_WHITESPACE"," ",515],["T_ARRAY","array",515],"(",["T_CONSTANT_ENCAPSED_STRING","'year'",515],["T_WHITESPACE"," ",515],["T_DOUBLE_ARROW","=>",515],["T_WHITESPACE"," ",515],["T_LNUMBER","2012",515],",",["T_WHITESPACE"," ",515],["T_CONSTANT_ENCAPSED_STRING","'month'",515],["T_WHITESPACE"," ",515],["T_DOUBLE_ARROW","=>",515],["T_WHITESPACE"," ",515],["T_CONSTANT_ENCAPSED_STRING","'12'",515],",",["T_WHITESPACE"," ",515],["T_CONSTANT_ENCAPSED_STRING","'day'",515],["T_WHITESPACE"," ",515],["T_DOUBLE_ARROW","=>",515],["T_WHITESPACE"," ",515],["T_CONSTANT_ENCAPSED_STRING","'31'",515],",",["T_WHITESPACE"," ",515],["T_CONSTANT_ENCAPSED_STRING","'hour'",515],["T_WHITESPACE"," ",515],["T_DOUBLE_ARROW","=>",515],["T_WHITESPACE"," ",515],["T_CONSTANT_ENCAPSED_STRING","'0'",515],",",["T_WHITESPACE"," ",515],["T_CONSTANT_ENCAPSED_STRING","'minute'",515],["T_WHITESPACE"," ",515],["T_DOUBLE_ARROW","=>",515],["T_WHITESPACE"," ",515],["T_CONSTANT_ENCAPSED_STRING","'0'",515],")",";",["T_WHITESPACE","\n    ",515],["T_VARIABLE","$edit",516],["T_WHITESPACE"," ",516],"=",["T_WHITESPACE"," ",516],["T_ARRAY","array",516],"(",")",";",["T_WHITESPACE","\n    ",516],["T_FOREACH","foreach",517],["T_WHITESPACE"," ",517],"(",["T_VARIABLE","$date_value",517],["T_WHITESPACE"," ",517],["T_AS","as",517],["T_WHITESPACE"," ",517],["T_VARIABLE","$part",517],["T_WHITESPACE"," ",517],["T_DOUBLE_ARROW","=>",517],["T_WHITESPACE"," ",517],["T_VARIABLE","$value",517],")",["T_WHITESPACE"," ",517],"{",["T_WHITESPACE","\n      ",517],["T_VARIABLE","$edit",518],"[","\"",["T_CURLY_OPEN","{",518],["T_VARIABLE","$field_name",518],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][",518],["T_VARIABLE","$part",518],["T_ENCAPSED_AND_WHITESPACE","]",518],"\"","]",["T_WHITESPACE"," ",518],"=",["T_WHITESPACE"," ",518],["T_VARIABLE","$value",518],";",["T_WHITESPACE","\n    ",518],"}",["T_WHITESPACE","\n\n    ",519],["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","drupalPostForm",521],"(",["T_STRING","NULL",521],",",["T_WHITESPACE"," ",521],["T_VARIABLE","$edit",521],",",["T_WHITESPACE"," ",521],["T_STRING","t",521],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",521],")",")",";",["T_WHITESPACE","\n    ",521],["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","assertResponse",522],"(",["T_LNUMBER","200",522],")",";",["T_WHITESPACE","\n    ",522],["T_STRING","preg_match",523],"(",["T_CONSTANT_ENCAPSED_STRING","'|entity_test\/manage\/(\\d+)|'",523],",",["T_WHITESPACE"," ",523],["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","url",523],",",["T_WHITESPACE"," ",523],["T_VARIABLE","$match",523],")",";",["T_WHITESPACE","\n    ",523],["T_VARIABLE","$id",524],["T_WHITESPACE"," ",524],"=",["T_WHITESPACE"," ",524],["T_VARIABLE","$match",524],"[",["T_LNUMBER","1",524],"]",";",["T_WHITESPACE","\n    ",524],["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","assertText",525],"(",["T_STRING","t",525],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test @id has been created.'",525],",",["T_WHITESPACE"," ",525],["T_ARRAY","array",525],"(",["T_CONSTANT_ENCAPSED_STRING","'@id'",525],["T_WHITESPACE"," ",525],["T_DOUBLE_ARROW","=>",525],["T_WHITESPACE"," ",525],["T_VARIABLE","$id",525],")",")",")",";",["T_WHITESPACE","\n\n    ",525],["T_COMMENT","\/\/ Test the widget to ensure zeros are not deselected on validation.\n",527],["T_WHITESPACE","    ",528],["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","drupalGet",528],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test\/add'",528],")",";",["T_WHITESPACE","\n\n    ",528],["T_VARIABLE","$date_value",530],["T_WHITESPACE"," ",530],"=",["T_WHITESPACE"," ",530],["T_ARRAY","array",530],"(",["T_CONSTANT_ENCAPSED_STRING","'year'",530],["T_WHITESPACE"," ",530],["T_DOUBLE_ARROW","=>",530],["T_WHITESPACE"," ",530],["T_LNUMBER","2012",530],",",["T_WHITESPACE"," ",530],["T_CONSTANT_ENCAPSED_STRING","'month'",530],["T_WHITESPACE"," ",530],["T_DOUBLE_ARROW","=>",530],["T_WHITESPACE"," ",530],["T_CONSTANT_ENCAPSED_STRING","'12'",530],",",["T_WHITESPACE"," ",530],["T_CONSTANT_ENCAPSED_STRING","'day'",530],["T_WHITESPACE"," ",530],["T_DOUBLE_ARROW","=>",530],["T_WHITESPACE"," ",530],["T_CONSTANT_ENCAPSED_STRING","'31'",530],",",["T_WHITESPACE"," ",530],["T_CONSTANT_ENCAPSED_STRING","'hour'",530],["T_WHITESPACE"," ",530],["T_DOUBLE_ARROW","=>",530],["T_WHITESPACE"," ",530],["T_CONSTANT_ENCAPSED_STRING","''",530],",",["T_WHITESPACE"," ",530],["T_CONSTANT_ENCAPSED_STRING","'minute'",530],["T_WHITESPACE"," ",530],["T_DOUBLE_ARROW","=>",530],["T_WHITESPACE"," ",530],["T_CONSTANT_ENCAPSED_STRING","'0'",530],")",";",["T_WHITESPACE","\n    ",530],["T_VARIABLE","$edit",531],["T_WHITESPACE"," ",531],"=",["T_WHITESPACE"," ",531],["T_ARRAY","array",531],"(",")",";",["T_WHITESPACE","\n    ",531],["T_FOREACH","foreach",532],["T_WHITESPACE"," ",532],"(",["T_VARIABLE","$date_value",532],["T_WHITESPACE"," ",532],["T_AS","as",532],["T_WHITESPACE"," ",532],["T_VARIABLE","$part",532],["T_WHITESPACE"," ",532],["T_DOUBLE_ARROW","=>",532],["T_WHITESPACE"," ",532],["T_VARIABLE","$value",532],")",["T_WHITESPACE"," ",532],"{",["T_WHITESPACE","\n      ",532],["T_VARIABLE","$edit",533],"[","\"",["T_CURLY_OPEN","{",533],["T_VARIABLE","$field_name",533],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][",533],["T_VARIABLE","$part",533],["T_ENCAPSED_AND_WHITESPACE","]",533],"\"","]",["T_WHITESPACE"," ",533],"=",["T_WHITESPACE"," ",533],["T_VARIABLE","$value",533],";",["T_WHITESPACE","\n    ",533],"}",["T_WHITESPACE","\n\n    ",534],["T_VARIABLE","$this",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","drupalPostForm",536],"(",["T_STRING","NULL",536],",",["T_WHITESPACE"," ",536],["T_VARIABLE","$edit",536],",",["T_WHITESPACE"," ",536],["T_STRING","t",536],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",536],")",")",";",["T_WHITESPACE","\n    ",536],["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","assertResponse",537],"(",["T_LNUMBER","200",537],")",";",["T_WHITESPACE","\n    ",537],["T_VARIABLE","$this",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","assertOptionSelected",538],"(","\"",["T_ENCAPSED_AND_WHITESPACE","edit-",538],["T_VARIABLE","$field_name",538],["T_ENCAPSED_AND_WHITESPACE","-0-value-minute",538],"\"",",",["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","'0'",538],",",["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","'Correct minute selected.'",538],")",";",["T_WHITESPACE","\n  ",538],"}",["T_WHITESPACE","\n\n  ",539],["T_DOC_COMMENT","\/**\n   * The data provider for testing the validation of the datelist widget.\n   *\n   * @return array\n   *   An array of datelist input permutations to test.\n   *\/",541],["T_WHITESPACE","\n  ",546],["T_PROTECTED","protected",547],["T_WHITESPACE"," ",547],["T_FUNCTION","function",547],["T_WHITESPACE"," ",547],["T_STRING","datelistDataProvider",547],"(",")",["T_WHITESPACE"," ",547],"{",["T_WHITESPACE","\n    ",547],["T_RETURN","return",548],["T_WHITESPACE"," ",548],"[",["T_WHITESPACE","\n      ",548],["T_COMMENT","\/\/ Year only selected, validation error on Month, Day, Hour, Minute.\n",549],["T_WHITESPACE","      ",550],"[","[",["T_CONSTANT_ENCAPSED_STRING","'year'",550],["T_WHITESPACE"," ",550],["T_DOUBLE_ARROW","=>",550],["T_WHITESPACE"," ",550],["T_LNUMBER","2012",550],",",["T_WHITESPACE"," ",550],["T_CONSTANT_ENCAPSED_STRING","'month'",550],["T_WHITESPACE"," ",550],["T_DOUBLE_ARROW","=>",550],["T_WHITESPACE"," ",550],["T_CONSTANT_ENCAPSED_STRING","''",550],",",["T_WHITESPACE"," ",550],["T_CONSTANT_ENCAPSED_STRING","'day'",550],["T_WHITESPACE"," ",550],["T_DOUBLE_ARROW","=>",550],["T_WHITESPACE"," ",550],["T_CONSTANT_ENCAPSED_STRING","''",550],",",["T_WHITESPACE"," ",550],["T_CONSTANT_ENCAPSED_STRING","'hour'",550],["T_WHITESPACE"," ",550],["T_DOUBLE_ARROW","=>",550],["T_WHITESPACE"," ",550],["T_CONSTANT_ENCAPSED_STRING","''",550],",",["T_WHITESPACE"," ",550],["T_CONSTANT_ENCAPSED_STRING","'minute'",550],["T_WHITESPACE"," ",550],["T_DOUBLE_ARROW","=>",550],["T_WHITESPACE"," ",550],["T_CONSTANT_ENCAPSED_STRING","''",550],"]",",",["T_WHITESPACE"," ",550],"[",["T_WHITESPACE","\n        ",550],["T_CONSTANT_ENCAPSED_STRING","'A value must be selected for month.'",551],",",["T_WHITESPACE","\n        ",551],["T_CONSTANT_ENCAPSED_STRING","'A value must be selected for day.'",552],",",["T_WHITESPACE","\n        ",552],["T_CONSTANT_ENCAPSED_STRING","'A value must be selected for hour.'",553],",",["T_WHITESPACE","\n        ",553],["T_CONSTANT_ENCAPSED_STRING","'A value must be selected for minute.'",554],",",["T_WHITESPACE","\n      ",554],"]","]",",",["T_WHITESPACE","\n      ",555],["T_COMMENT","\/\/ Year and Month selected, validation error on Day, Hour, Minute.\n",556],["T_WHITESPACE","      ",557],"[","[",["T_CONSTANT_ENCAPSED_STRING","'year'",557],["T_WHITESPACE"," ",557],["T_DOUBLE_ARROW","=>",557],["T_WHITESPACE"," ",557],["T_LNUMBER","2012",557],",",["T_WHITESPACE"," ",557],["T_CONSTANT_ENCAPSED_STRING","'month'",557],["T_WHITESPACE"," ",557],["T_DOUBLE_ARROW","=>",557],["T_WHITESPACE"," ",557],["T_CONSTANT_ENCAPSED_STRING","'12'",557],",",["T_WHITESPACE"," ",557],["T_CONSTANT_ENCAPSED_STRING","'day'",557],["T_WHITESPACE"," ",557],["T_DOUBLE_ARROW","=>",557],["T_WHITESPACE"," ",557],["T_CONSTANT_ENCAPSED_STRING","''",557],",",["T_WHITESPACE"," ",557],["T_CONSTANT_ENCAPSED_STRING","'hour'",557],["T_WHITESPACE"," ",557],["T_DOUBLE_ARROW","=>",557],["T_WHITESPACE"," ",557],["T_CONSTANT_ENCAPSED_STRING","''",557],",",["T_WHITESPACE"," ",557],["T_CONSTANT_ENCAPSED_STRING","'minute'",557],["T_WHITESPACE"," ",557],["T_DOUBLE_ARROW","=>",557],["T_WHITESPACE"," ",557],["T_CONSTANT_ENCAPSED_STRING","''",557],"]",",",["T_WHITESPACE"," ",557],"[",["T_WHITESPACE","\n        ",557],["T_CONSTANT_ENCAPSED_STRING","'A value must be selected for day.'",558],",",["T_WHITESPACE","\n        ",558],["T_CONSTANT_ENCAPSED_STRING","'A value must be selected for hour.'",559],",",["T_WHITESPACE","\n        ",559],["T_CONSTANT_ENCAPSED_STRING","'A value must be selected for minute.'",560],",",["T_WHITESPACE","\n      ",560],"]","]",",",["T_WHITESPACE","\n      ",561],["T_COMMENT","\/\/ Year, Month and Day selected, validation error on Hour, Minute.\n",562],["T_WHITESPACE","      ",563],"[","[",["T_CONSTANT_ENCAPSED_STRING","'year'",563],["T_WHITESPACE"," ",563],["T_DOUBLE_ARROW","=>",563],["T_WHITESPACE"," ",563],["T_LNUMBER","2012",563],",",["T_WHITESPACE"," ",563],["T_CONSTANT_ENCAPSED_STRING","'month'",563],["T_WHITESPACE"," ",563],["T_DOUBLE_ARROW","=>",563],["T_WHITESPACE"," ",563],["T_CONSTANT_ENCAPSED_STRING","'12'",563],",",["T_WHITESPACE"," ",563],["T_CONSTANT_ENCAPSED_STRING","'day'",563],["T_WHITESPACE"," ",563],["T_DOUBLE_ARROW","=>",563],["T_WHITESPACE"," ",563],["T_CONSTANT_ENCAPSED_STRING","'31'",563],",",["T_WHITESPACE"," ",563],["T_CONSTANT_ENCAPSED_STRING","'hour'",563],["T_WHITESPACE"," ",563],["T_DOUBLE_ARROW","=>",563],["T_WHITESPACE"," ",563],["T_CONSTANT_ENCAPSED_STRING","''",563],",",["T_WHITESPACE"," ",563],["T_CONSTANT_ENCAPSED_STRING","'minute'",563],["T_WHITESPACE"," ",563],["T_DOUBLE_ARROW","=>",563],["T_WHITESPACE"," ",563],["T_CONSTANT_ENCAPSED_STRING","''",563],"]",",",["T_WHITESPACE"," ",563],"[",["T_WHITESPACE","\n        ",563],["T_CONSTANT_ENCAPSED_STRING","'A value must be selected for hour.'",564],",",["T_WHITESPACE","\n        ",564],["T_CONSTANT_ENCAPSED_STRING","'A value must be selected for minute.'",565],",",["T_WHITESPACE","\n      ",565],"]","]",",",["T_WHITESPACE","\n      ",566],["T_COMMENT","\/\/ Year, Month, Day and Hour selected, validation error on Minute only.\n",567],["T_WHITESPACE","      ",568],"[","[",["T_CONSTANT_ENCAPSED_STRING","'year'",568],["T_WHITESPACE"," ",568],["T_DOUBLE_ARROW","=>",568],["T_WHITESPACE"," ",568],["T_LNUMBER","2012",568],",",["T_WHITESPACE"," ",568],["T_CONSTANT_ENCAPSED_STRING","'month'",568],["T_WHITESPACE"," ",568],["T_DOUBLE_ARROW","=>",568],["T_WHITESPACE"," ",568],["T_CONSTANT_ENCAPSED_STRING","'12'",568],",",["T_WHITESPACE"," ",568],["T_CONSTANT_ENCAPSED_STRING","'day'",568],["T_WHITESPACE"," ",568],["T_DOUBLE_ARROW","=>",568],["T_WHITESPACE"," ",568],["T_CONSTANT_ENCAPSED_STRING","'31'",568],",",["T_WHITESPACE"," ",568],["T_CONSTANT_ENCAPSED_STRING","'hour'",568],["T_WHITESPACE"," ",568],["T_DOUBLE_ARROW","=>",568],["T_WHITESPACE"," ",568],["T_CONSTANT_ENCAPSED_STRING","'0'",568],",",["T_WHITESPACE"," ",568],["T_CONSTANT_ENCAPSED_STRING","'minute'",568],["T_WHITESPACE"," ",568],["T_DOUBLE_ARROW","=>",568],["T_WHITESPACE"," ",568],["T_CONSTANT_ENCAPSED_STRING","''",568],"]",",",["T_WHITESPACE"," ",568],"[",["T_WHITESPACE","\n        ",568],["T_CONSTANT_ENCAPSED_STRING","'A value must be selected for minute.'",569],",",["T_WHITESPACE","\n      ",569],"]","]",",",["T_WHITESPACE","\n    ",570],"]",";",["T_WHITESPACE","\n  ",571],"}",["T_WHITESPACE","\n\n  ",572],["T_DOC_COMMENT","\/**\n   * Test default value functionality.\n   *\/",574],["T_WHITESPACE","\n  ",576],["T_FUNCTION","function",577],["T_WHITESPACE"," ",577],["T_STRING","testDefaultValue",577],"(",")",["T_WHITESPACE"," ",577],"{",["T_WHITESPACE","\n    ",577],["T_COMMENT","\/\/ Create a test content type.\n",578],["T_WHITESPACE","    ",579],["T_VARIABLE","$this",579],["T_OBJECT_OPERATOR","->",579],["T_STRING","drupalCreateContentType",579],"(",["T_ARRAY","array",579],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",579],["T_WHITESPACE"," ",579],["T_DOUBLE_ARROW","=>",579],["T_WHITESPACE"," ",579],["T_CONSTANT_ENCAPSED_STRING","'date_content'",579],")",")",";",["T_WHITESPACE","\n\n    ",579],["T_COMMENT","\/\/ Create a field storage with settings to validate.\n",581],["T_WHITESPACE","    ",582],["T_VARIABLE","$field_name",582],["T_WHITESPACE"," ",582],"=",["T_WHITESPACE"," ",582],["T_STRING","Unicode",582],["T_DOUBLE_COLON","::",582],["T_STRING","strtolower",582],"(",["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","randomMachineName",582],"(",")",")",";",["T_WHITESPACE","\n    ",582],["T_VARIABLE","$field_storage",583],["T_WHITESPACE"," ",583],"=",["T_WHITESPACE"," ",583],["T_STRING","FieldStorageConfig",583],["T_DOUBLE_COLON","::",583],["T_STRING","create",583],"(",["T_ARRAY","array",583],"(",["T_WHITESPACE","\n      ",583],["T_CONSTANT_ENCAPSED_STRING","'field_name'",584],["T_WHITESPACE"," ",584],["T_DOUBLE_ARROW","=>",584],["T_WHITESPACE"," ",584],["T_VARIABLE","$field_name",584],",",["T_WHITESPACE","\n      ",584],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",585],["T_WHITESPACE"," ",585],["T_DOUBLE_ARROW","=>",585],["T_WHITESPACE"," ",585],["T_CONSTANT_ENCAPSED_STRING","'node'",585],",",["T_WHITESPACE","\n      ",585],["T_CONSTANT_ENCAPSED_STRING","'type'",586],["T_WHITESPACE"," ",586],["T_DOUBLE_ARROW","=>",586],["T_WHITESPACE"," ",586],["T_CONSTANT_ENCAPSED_STRING","'datetime'",586],",",["T_WHITESPACE","\n      ",586],["T_CONSTANT_ENCAPSED_STRING","'settings'",587],["T_WHITESPACE"," ",587],["T_DOUBLE_ARROW","=>",587],["T_WHITESPACE"," ",587],["T_ARRAY","array",587],"(",["T_CONSTANT_ENCAPSED_STRING","'datetime_type'",587],["T_WHITESPACE"," ",587],["T_DOUBLE_ARROW","=>",587],["T_WHITESPACE"," ",587],["T_CONSTANT_ENCAPSED_STRING","'date'",587],")",",",["T_WHITESPACE","\n    ",587],")",")",";",["T_WHITESPACE","\n    ",588],["T_VARIABLE","$field_storage",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","save",589],"(",")",";",["T_WHITESPACE","\n\n    ",589],["T_VARIABLE","$field",591],["T_WHITESPACE"," ",591],"=",["T_WHITESPACE"," ",591],["T_STRING","FieldConfig",591],["T_DOUBLE_COLON","::",591],["T_STRING","create",591],"(","[",["T_WHITESPACE","\n      ",591],["T_CONSTANT_ENCAPSED_STRING","'field_storage'",592],["T_WHITESPACE"," ",592],["T_DOUBLE_ARROW","=>",592],["T_WHITESPACE"," ",592],["T_VARIABLE","$field_storage",592],",",["T_WHITESPACE","\n      ",592],["T_CONSTANT_ENCAPSED_STRING","'bundle'",593],["T_WHITESPACE"," ",593],["T_DOUBLE_ARROW","=>",593],["T_WHITESPACE"," ",593],["T_CONSTANT_ENCAPSED_STRING","'date_content'",593],",",["T_WHITESPACE","\n    ",593],"]",")",";",["T_WHITESPACE","\n    ",594],["T_VARIABLE","$field",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","save",595],"(",")",";",["T_WHITESPACE","\n\n    ",595],["T_COMMENT","\/\/ Loop through defined timezones to test that date-only defaults work at\n",597],["T_WHITESPACE","    ",598],["T_COMMENT","\/\/ the extremes.\n",598],["T_WHITESPACE","    ",599],["T_FOREACH","foreach",599],["T_WHITESPACE"," ",599],"(",["T_STATIC","static",599],["T_DOUBLE_COLON","::",599],["T_VARIABLE","$timezones",599],["T_WHITESPACE"," ",599],["T_AS","as",599],["T_WHITESPACE"," ",599],["T_VARIABLE","$timezone",599],")",["T_WHITESPACE"," ",599],"{",["T_WHITESPACE","\n\n      ",599],["T_VARIABLE","$this",601],["T_OBJECT_OPERATOR","->",601],["T_STRING","setSiteTimezone",601],"(",["T_VARIABLE","$timezone",601],")",";",["T_WHITESPACE","\n\n      ",601],["T_COMMENT","\/\/ Set now as default_value.\n",603],["T_WHITESPACE","      ",604],["T_VARIABLE","$field_edit",604],["T_WHITESPACE"," ",604],"=",["T_WHITESPACE"," ",604],["T_ARRAY","array",604],"(",["T_WHITESPACE","\n        ",604],["T_CONSTANT_ENCAPSED_STRING","'default_value_input[default_date_type]'",605],["T_WHITESPACE"," ",605],["T_DOUBLE_ARROW","=>",605],["T_WHITESPACE"," ",605],["T_CONSTANT_ENCAPSED_STRING","'now'",605],",",["T_WHITESPACE","\n      ",605],")",";",["T_WHITESPACE","\n      ",606],["T_VARIABLE","$this",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","drupalPostForm",607],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/date_content\/fields\/node.date_content.'",607],["T_WHITESPACE"," ",607],".",["T_WHITESPACE"," ",607],["T_VARIABLE","$field_name",607],",",["T_WHITESPACE"," ",607],["T_VARIABLE","$field_edit",607],",",["T_WHITESPACE"," ",607],["T_STRING","t",607],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",607],")",")",";",["T_WHITESPACE","\n\n      ",607],["T_COMMENT","\/\/ Check that default value is selected in default value form.\n",609],["T_WHITESPACE","      ",610],["T_VARIABLE","$this",610],["T_OBJECT_OPERATOR","->",610],["T_STRING","drupalGet",610],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/date_content\/fields\/node.date_content.'",610],["T_WHITESPACE"," ",610],".",["T_WHITESPACE"," ",610],["T_VARIABLE","$field_name",610],")",";",["T_WHITESPACE","\n      ",610],["T_VARIABLE","$this",611],["T_OBJECT_OPERATOR","->",611],["T_STRING","assertOptionSelected",611],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-default-value-input-default-date-type'",611],",",["T_WHITESPACE"," ",611],["T_CONSTANT_ENCAPSED_STRING","'now'",611],",",["T_WHITESPACE"," ",611],["T_CONSTANT_ENCAPSED_STRING","'The default value is selected in instance settings page'",611],")",";",["T_WHITESPACE","\n      ",611],["T_VARIABLE","$this",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","assertFieldByName",612],"(",["T_CONSTANT_ENCAPSED_STRING","'default_value_input[default_date]'",612],",",["T_WHITESPACE"," ",612],["T_CONSTANT_ENCAPSED_STRING","''",612],",",["T_WHITESPACE"," ",612],["T_CONSTANT_ENCAPSED_STRING","'The relative default value is empty in instance settings page'",612],")",";",["T_WHITESPACE","\n\n      ",612],["T_COMMENT","\/\/ Check if default_date has been stored successfully.\n",614],["T_WHITESPACE","      ",615],["T_VARIABLE","$config_entity",615],["T_WHITESPACE"," ",615],"=",["T_WHITESPACE"," ",615],["T_VARIABLE","$this",615],["T_OBJECT_OPERATOR","->",615],["T_STRING","config",615],"(",["T_CONSTANT_ENCAPSED_STRING","'field.field.node.date_content.'",615],["T_WHITESPACE"," ",615],".",["T_WHITESPACE"," ",615],["T_VARIABLE","$field_name",615],")",["T_WHITESPACE","\n        ",615],["T_OBJECT_OPERATOR","->",616],["T_STRING","get",616],"(",")",";",["T_WHITESPACE","\n      ",616],["T_VARIABLE","$this",617],["T_OBJECT_OPERATOR","->",617],["T_STRING","assertEqual",617],"(",["T_VARIABLE","$config_entity",617],"[",["T_CONSTANT_ENCAPSED_STRING","'default_value'",617],"]","[",["T_LNUMBER","0",617],"]",",",["T_WHITESPACE"," ",617],["T_ARRAY","array",617],"(",["T_WHITESPACE","\n        ",617],["T_CONSTANT_ENCAPSED_STRING","'default_date_type'",618],["T_WHITESPACE"," ",618],["T_DOUBLE_ARROW","=>",618],["T_WHITESPACE"," ",618],["T_CONSTANT_ENCAPSED_STRING","'now'",618],",",["T_WHITESPACE","\n        ",618],["T_CONSTANT_ENCAPSED_STRING","'default_date'",619],["T_WHITESPACE"," ",619],["T_DOUBLE_ARROW","=>",619],["T_WHITESPACE"," ",619],["T_CONSTANT_ENCAPSED_STRING","'now'",619],",",["T_WHITESPACE","\n      ",619],")",",",["T_WHITESPACE"," ",620],["T_CONSTANT_ENCAPSED_STRING","'Default value has been stored successfully'",620],")",";",["T_WHITESPACE","\n\n      ",620],["T_COMMENT","\/\/ Clear field cache in order to avoid stale cache values.\n",622],["T_WHITESPACE","      ",623],["T_NS_SEPARATOR","\\",623],["T_STRING","Drupal",623],["T_DOUBLE_COLON","::",623],["T_STRING","entityManager",623],"(",")",["T_OBJECT_OPERATOR","->",623],["T_STRING","clearCachedFieldDefinitions",623],"(",")",";",["T_WHITESPACE","\n\n      ",623],["T_COMMENT","\/\/ Create a new node to check that datetime field default value is today.\n",625],["T_WHITESPACE","      ",626],["T_VARIABLE","$new_node",626],["T_WHITESPACE"," ",626],"=",["T_WHITESPACE"," ",626],["T_STRING","Node",626],["T_DOUBLE_COLON","::",626],["T_STRING","create",626],"(","[",["T_CONSTANT_ENCAPSED_STRING","'type'",626],["T_WHITESPACE"," ",626],["T_DOUBLE_ARROW","=>",626],["T_WHITESPACE"," ",626],["T_CONSTANT_ENCAPSED_STRING","'date_content'",626],"]",")",";",["T_WHITESPACE","\n      ",626],["T_VARIABLE","$expected_date",627],["T_WHITESPACE"," ",627],"=",["T_WHITESPACE"," ",627],["T_NEW","new",627],["T_WHITESPACE"," ",627],["T_STRING","DrupalDateTime",627],"(",["T_CONSTANT_ENCAPSED_STRING","'now'",627],",",["T_WHITESPACE"," ",627],["T_STRING","drupal_get_user_timezone",627],"(",")",")",";",["T_WHITESPACE","\n      ",627],["T_VARIABLE","$this",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","assertEqual",628],"(",["T_VARIABLE","$new_node",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","get",628],"(",["T_VARIABLE","$field_name",628],")",["T_WHITESPACE","\n        ",628],["T_OBJECT_OPERATOR","->",629],["T_STRING","offsetGet",629],"(",["T_LNUMBER","0",629],")",["T_OBJECT_OPERATOR","->",629],["T_STRING","value",629],",",["T_WHITESPACE"," ",629],["T_VARIABLE","$expected_date",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","format",629],"(",["T_STRING","DATETIME_DATE_STORAGE_FORMAT",629],")",")",";",["T_WHITESPACE","\n\n      ",629],["T_COMMENT","\/\/ Set an invalid relative default_value to test validation.\n",631],["T_WHITESPACE","      ",632],["T_VARIABLE","$field_edit",632],["T_WHITESPACE"," ",632],"=",["T_WHITESPACE"," ",632],["T_ARRAY","array",632],"(",["T_WHITESPACE","\n        ",632],["T_CONSTANT_ENCAPSED_STRING","'default_value_input[default_date_type]'",633],["T_WHITESPACE"," ",633],["T_DOUBLE_ARROW","=>",633],["T_WHITESPACE"," ",633],["T_CONSTANT_ENCAPSED_STRING","'relative'",633],",",["T_WHITESPACE","\n        ",633],["T_CONSTANT_ENCAPSED_STRING","'default_value_input[default_date]'",634],["T_WHITESPACE"," ",634],["T_DOUBLE_ARROW","=>",634],["T_WHITESPACE"," ",634],["T_CONSTANT_ENCAPSED_STRING","'invalid date'",634],",",["T_WHITESPACE","\n      ",634],")",";",["T_WHITESPACE","\n      ",635],["T_VARIABLE","$this",636],["T_OBJECT_OPERATOR","->",636],["T_STRING","drupalPostForm",636],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/date_content\/fields\/node.date_content.'",636],["T_WHITESPACE"," ",636],".",["T_WHITESPACE"," ",636],["T_VARIABLE","$field_name",636],",",["T_WHITESPACE"," ",636],["T_VARIABLE","$field_edit",636],",",["T_WHITESPACE"," ",636],["T_STRING","t",636],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",636],")",")",";",["T_WHITESPACE","\n\n      ",636],["T_VARIABLE","$this",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","assertText",638],"(",["T_CONSTANT_ENCAPSED_STRING","'The relative date value entered is invalid.'",638],")",";",["T_WHITESPACE","\n\n      ",638],["T_COMMENT","\/\/ Set a relative default_value.\n",640],["T_WHITESPACE","      ",641],["T_VARIABLE","$field_edit",641],["T_WHITESPACE"," ",641],"=",["T_WHITESPACE"," ",641],["T_ARRAY","array",641],"(",["T_WHITESPACE","\n        ",641],["T_CONSTANT_ENCAPSED_STRING","'default_value_input[default_date_type]'",642],["T_WHITESPACE"," ",642],["T_DOUBLE_ARROW","=>",642],["T_WHITESPACE"," ",642],["T_CONSTANT_ENCAPSED_STRING","'relative'",642],",",["T_WHITESPACE","\n        ",642],["T_CONSTANT_ENCAPSED_STRING","'default_value_input[default_date]'",643],["T_WHITESPACE"," ",643],["T_DOUBLE_ARROW","=>",643],["T_WHITESPACE"," ",643],["T_CONSTANT_ENCAPSED_STRING","'+90 days'",643],",",["T_WHITESPACE","\n      ",643],")",";",["T_WHITESPACE","\n      ",644],["T_VARIABLE","$this",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","drupalPostForm",645],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/date_content\/fields\/node.date_content.'",645],["T_WHITESPACE"," ",645],".",["T_WHITESPACE"," ",645],["T_VARIABLE","$field_name",645],",",["T_WHITESPACE"," ",645],["T_VARIABLE","$field_edit",645],",",["T_WHITESPACE"," ",645],["T_STRING","t",645],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",645],")",")",";",["T_WHITESPACE","\n\n      ",645],["T_COMMENT","\/\/ Check that default value is selected in default value form.\n",647],["T_WHITESPACE","      ",648],["T_VARIABLE","$this",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","drupalGet",648],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/date_content\/fields\/node.date_content.'",648],["T_WHITESPACE"," ",648],".",["T_WHITESPACE"," ",648],["T_VARIABLE","$field_name",648],")",";",["T_WHITESPACE","\n      ",648],["T_VARIABLE","$this",649],["T_OBJECT_OPERATOR","->",649],["T_STRING","assertOptionSelected",649],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-default-value-input-default-date-type'",649],",",["T_WHITESPACE"," ",649],["T_CONSTANT_ENCAPSED_STRING","'relative'",649],",",["T_WHITESPACE"," ",649],["T_CONSTANT_ENCAPSED_STRING","'The default value is selected in instance settings page'",649],")",";",["T_WHITESPACE","\n      ",649],["T_VARIABLE","$this",650],["T_OBJECT_OPERATOR","->",650],["T_STRING","assertFieldByName",650],"(",["T_CONSTANT_ENCAPSED_STRING","'default_value_input[default_date]'",650],",",["T_WHITESPACE"," ",650],["T_CONSTANT_ENCAPSED_STRING","'+90 days'",650],",",["T_WHITESPACE"," ",650],["T_CONSTANT_ENCAPSED_STRING","'The relative default value is displayed in instance settings page'",650],")",";",["T_WHITESPACE","\n\n      ",650],["T_COMMENT","\/\/ Check if default_date has been stored successfully.\n",652],["T_WHITESPACE","      ",653],["T_VARIABLE","$config_entity",653],["T_WHITESPACE"," ",653],"=",["T_WHITESPACE"," ",653],["T_VARIABLE","$this",653],["T_OBJECT_OPERATOR","->",653],["T_STRING","config",653],"(",["T_CONSTANT_ENCAPSED_STRING","'field.field.node.date_content.'",653],["T_WHITESPACE"," ",653],".",["T_WHITESPACE"," ",653],["T_VARIABLE","$field_name",653],")",["T_WHITESPACE","\n        ",653],["T_OBJECT_OPERATOR","->",654],["T_STRING","get",654],"(",")",";",["T_WHITESPACE","\n      ",654],["T_VARIABLE","$this",655],["T_OBJECT_OPERATOR","->",655],["T_STRING","assertEqual",655],"(",["T_VARIABLE","$config_entity",655],"[",["T_CONSTANT_ENCAPSED_STRING","'default_value'",655],"]","[",["T_LNUMBER","0",655],"]",",",["T_WHITESPACE"," ",655],["T_ARRAY","array",655],"(",["T_WHITESPACE","\n        ",655],["T_CONSTANT_ENCAPSED_STRING","'default_date_type'",656],["T_WHITESPACE"," ",656],["T_DOUBLE_ARROW","=>",656],["T_WHITESPACE"," ",656],["T_CONSTANT_ENCAPSED_STRING","'relative'",656],",",["T_WHITESPACE","\n        ",656],["T_CONSTANT_ENCAPSED_STRING","'default_date'",657],["T_WHITESPACE"," ",657],["T_DOUBLE_ARROW","=>",657],["T_WHITESPACE"," ",657],["T_CONSTANT_ENCAPSED_STRING","'+90 days'",657],",",["T_WHITESPACE","\n      ",657],")",",",["T_WHITESPACE"," ",658],["T_CONSTANT_ENCAPSED_STRING","'Default value has been stored successfully'",658],")",";",["T_WHITESPACE","\n\n      ",658],["T_COMMENT","\/\/ Clear field cache in order to avoid stale cache values.\n",660],["T_WHITESPACE","      ",661],["T_NS_SEPARATOR","\\",661],["T_STRING","Drupal",661],["T_DOUBLE_COLON","::",661],["T_STRING","entityManager",661],"(",")",["T_OBJECT_OPERATOR","->",661],["T_STRING","clearCachedFieldDefinitions",661],"(",")",";",["T_WHITESPACE","\n\n      ",661],["T_COMMENT","\/\/ Create a new node to check that datetime field default value is +90\n",663],["T_WHITESPACE","      ",664],["T_COMMENT","\/\/ days.\n",664],["T_WHITESPACE","      ",665],["T_VARIABLE","$new_node",665],["T_WHITESPACE"," ",665],"=",["T_WHITESPACE"," ",665],["T_STRING","Node",665],["T_DOUBLE_COLON","::",665],["T_STRING","create",665],"(","[",["T_CONSTANT_ENCAPSED_STRING","'type'",665],["T_WHITESPACE"," ",665],["T_DOUBLE_ARROW","=>",665],["T_WHITESPACE"," ",665],["T_CONSTANT_ENCAPSED_STRING","'date_content'",665],"]",")",";",["T_WHITESPACE","\n      ",665],["T_VARIABLE","$expected_date",666],["T_WHITESPACE"," ",666],"=",["T_WHITESPACE"," ",666],["T_NEW","new",666],["T_WHITESPACE"," ",666],["T_STRING","DrupalDateTime",666],"(",["T_CONSTANT_ENCAPSED_STRING","'+90 days'",666],",",["T_WHITESPACE"," ",666],["T_STRING","drupal_get_user_timezone",666],"(",")",")",";",["T_WHITESPACE","\n      ",666],["T_VARIABLE","$this",667],["T_OBJECT_OPERATOR","->",667],["T_STRING","assertEqual",667],"(",["T_VARIABLE","$new_node",667],["T_OBJECT_OPERATOR","->",667],["T_STRING","get",667],"(",["T_VARIABLE","$field_name",667],")",["T_WHITESPACE","\n        ",667],["T_OBJECT_OPERATOR","->",668],["T_STRING","offsetGet",668],"(",["T_LNUMBER","0",668],")",["T_OBJECT_OPERATOR","->",668],["T_STRING","value",668],",",["T_WHITESPACE"," ",668],["T_VARIABLE","$expected_date",668],["T_OBJECT_OPERATOR","->",668],["T_STRING","format",668],"(",["T_STRING","DATETIME_DATE_STORAGE_FORMAT",668],")",")",";",["T_WHITESPACE","\n\n      ",668],["T_COMMENT","\/\/ Remove default value.\n",670],["T_WHITESPACE","      ",671],["T_VARIABLE","$field_edit",671],["T_WHITESPACE"," ",671],"=",["T_WHITESPACE"," ",671],["T_ARRAY","array",671],"(",["T_WHITESPACE","\n        ",671],["T_CONSTANT_ENCAPSED_STRING","'default_value_input[default_date_type]'",672],["T_WHITESPACE"," ",672],["T_DOUBLE_ARROW","=>",672],["T_WHITESPACE"," ",672],["T_CONSTANT_ENCAPSED_STRING","''",672],",",["T_WHITESPACE","\n      ",672],")",";",["T_WHITESPACE","\n      ",673],["T_VARIABLE","$this",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","drupalPostForm",674],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/date_content\/fields\/node.date_content.'",674],["T_WHITESPACE"," ",674],".",["T_WHITESPACE"," ",674],["T_VARIABLE","$field_name",674],",",["T_WHITESPACE"," ",674],["T_VARIABLE","$field_edit",674],",",["T_WHITESPACE"," ",674],["T_STRING","t",674],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",674],")",")",";",["T_WHITESPACE","\n\n      ",674],["T_COMMENT","\/\/ Check that default value is selected in default value form.\n",676],["T_WHITESPACE","      ",677],["T_VARIABLE","$this",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","drupalGet",677],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/date_content\/fields\/node.date_content.'",677],["T_WHITESPACE"," ",677],".",["T_WHITESPACE"," ",677],["T_VARIABLE","$field_name",677],")",";",["T_WHITESPACE","\n      ",677],["T_VARIABLE","$this",678],["T_OBJECT_OPERATOR","->",678],["T_STRING","assertOptionSelected",678],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-default-value-input-default-date-type'",678],",",["T_WHITESPACE"," ",678],["T_CONSTANT_ENCAPSED_STRING","''",678],",",["T_WHITESPACE"," ",678],["T_CONSTANT_ENCAPSED_STRING","'The default value is selected in instance settings page'",678],")",";",["T_WHITESPACE","\n      ",678],["T_VARIABLE","$this",679],["T_OBJECT_OPERATOR","->",679],["T_STRING","assertFieldByName",679],"(",["T_CONSTANT_ENCAPSED_STRING","'default_value_input[default_date]'",679],",",["T_WHITESPACE"," ",679],["T_CONSTANT_ENCAPSED_STRING","''",679],",",["T_WHITESPACE"," ",679],["T_CONSTANT_ENCAPSED_STRING","'The relative default value is empty in instance settings page'",679],")",";",["T_WHITESPACE","\n\n      ",679],["T_COMMENT","\/\/ Check if default_date has been stored successfully.\n",681],["T_WHITESPACE","      ",682],["T_VARIABLE","$config_entity",682],["T_WHITESPACE"," ",682],"=",["T_WHITESPACE"," ",682],["T_VARIABLE","$this",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","config",682],"(",["T_CONSTANT_ENCAPSED_STRING","'field.field.node.date_content.'",682],["T_WHITESPACE"," ",682],".",["T_WHITESPACE"," ",682],["T_VARIABLE","$field_name",682],")",["T_WHITESPACE","\n        ",682],["T_OBJECT_OPERATOR","->",683],["T_STRING","get",683],"(",")",";",["T_WHITESPACE","\n      ",683],["T_VARIABLE","$this",684],["T_OBJECT_OPERATOR","->",684],["T_STRING","assertTrue",684],"(",["T_EMPTY","empty",684],"(",["T_VARIABLE","$config_entity",684],"[",["T_CONSTANT_ENCAPSED_STRING","'default_value'",684],"]",")",",",["T_WHITESPACE"," ",684],["T_CONSTANT_ENCAPSED_STRING","'Empty default value has been stored successfully'",684],")",";",["T_WHITESPACE","\n\n      ",684],["T_COMMENT","\/\/ Clear field cache in order to avoid stale cache values.\n",686],["T_WHITESPACE","      ",687],["T_NS_SEPARATOR","\\",687],["T_STRING","Drupal",687],["T_DOUBLE_COLON","::",687],["T_STRING","entityManager",687],"(",")",["T_OBJECT_OPERATOR","->",687],["T_STRING","clearCachedFieldDefinitions",687],"(",")",";",["T_WHITESPACE","\n\n      ",687],["T_COMMENT","\/\/ Create a new node to check that datetime field default value is not\n",689],["T_WHITESPACE","      ",690],["T_COMMENT","\/\/ set.\n",690],["T_WHITESPACE","      ",691],["T_VARIABLE","$new_node",691],["T_WHITESPACE"," ",691],"=",["T_WHITESPACE"," ",691],["T_STRING","Node",691],["T_DOUBLE_COLON","::",691],["T_STRING","create",691],"(","[",["T_CONSTANT_ENCAPSED_STRING","'type'",691],["T_WHITESPACE"," ",691],["T_DOUBLE_ARROW","=>",691],["T_WHITESPACE"," ",691],["T_CONSTANT_ENCAPSED_STRING","'date_content'",691],"]",")",";",["T_WHITESPACE","\n      ",691],["T_VARIABLE","$this",692],["T_OBJECT_OPERATOR","->",692],["T_STRING","assertNull",692],"(",["T_VARIABLE","$new_node",692],["T_OBJECT_OPERATOR","->",692],["T_STRING","get",692],"(",["T_VARIABLE","$field_name",692],")",["T_OBJECT_OPERATOR","->",692],["T_STRING","value",692],",",["T_WHITESPACE"," ",692],["T_CONSTANT_ENCAPSED_STRING","'Default value is not set'",692],")",";",["T_WHITESPACE","\n    ",692],"}",["T_WHITESPACE","\n  ",693],"}",["T_WHITESPACE","\n\n  ",694],["T_DOC_COMMENT","\/**\n   * Test that invalid values are caught and marked as invalid.\n   *\/",696],["T_WHITESPACE","\n  ",698],["T_FUNCTION","function",699],["T_WHITESPACE"," ",699],["T_STRING","testInvalidField",699],"(",")",["T_WHITESPACE"," ",699],"{",["T_WHITESPACE","\n    ",699],["T_COMMENT","\/\/ Change the field to a datetime field.\n",700],["T_WHITESPACE","    ",701],["T_VARIABLE","$this",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","fieldStorage",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","setSetting",701],"(",["T_CONSTANT_ENCAPSED_STRING","'datetime_type'",701],",",["T_WHITESPACE"," ",701],["T_CONSTANT_ENCAPSED_STRING","'datetime'",701],")",";",["T_WHITESPACE","\n    ",701],["T_VARIABLE","$this",702],["T_OBJECT_OPERATOR","->",702],["T_STRING","fieldStorage",702],["T_OBJECT_OPERATOR","->",702],["T_STRING","save",702],"(",")",";",["T_WHITESPACE","\n    ",702],["T_VARIABLE","$field_name",703],["T_WHITESPACE"," ",703],"=",["T_WHITESPACE"," ",703],["T_VARIABLE","$this",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","fieldStorage",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","getName",703],"(",")",";",["T_WHITESPACE","\n\n    ",703],["T_COMMENT","\/\/ Display creation form.\n",705],["T_WHITESPACE","    ",706],["T_VARIABLE","$this",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","drupalGet",706],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test\/add'",706],")",";",["T_WHITESPACE","\n    ",706],["T_VARIABLE","$this",707],["T_OBJECT_OPERATOR","->",707],["T_STRING","assertFieldByName",707],"(","\"",["T_CURLY_OPEN","{",707],["T_VARIABLE","$field_name",707],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][date]",707],"\"",",",["T_WHITESPACE"," ",707],["T_CONSTANT_ENCAPSED_STRING","''",707],",",["T_WHITESPACE"," ",707],["T_CONSTANT_ENCAPSED_STRING","'Date element found.'",707],")",";",["T_WHITESPACE","\n    ",707],["T_VARIABLE","$this",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","assertFieldByName",708],"(","\"",["T_CURLY_OPEN","{",708],["T_VARIABLE","$field_name",708],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][time]",708],"\"",",",["T_WHITESPACE"," ",708],["T_CONSTANT_ENCAPSED_STRING","''",708],",",["T_WHITESPACE"," ",708],["T_CONSTANT_ENCAPSED_STRING","'Time element found.'",708],")",";",["T_WHITESPACE","\n\n    ",708],["T_COMMENT","\/\/ Submit invalid dates and ensure they is not accepted.\n",710],["T_WHITESPACE","    ",711],["T_VARIABLE","$date_value",711],["T_WHITESPACE"," ",711],"=",["T_WHITESPACE"," ",711],["T_CONSTANT_ENCAPSED_STRING","''",711],";",["T_WHITESPACE","\n    ",711],["T_VARIABLE","$edit",712],["T_WHITESPACE"," ",712],"=",["T_WHITESPACE"," ",712],["T_ARRAY","array",712],"(",["T_WHITESPACE","\n      ",712],"\"",["T_CURLY_OPEN","{",713],["T_VARIABLE","$field_name",713],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][date]",713],"\"",["T_WHITESPACE"," ",713],["T_DOUBLE_ARROW","=>",713],["T_WHITESPACE"," ",713],["T_VARIABLE","$date_value",713],",",["T_WHITESPACE","\n      ",713],"\"",["T_CURLY_OPEN","{",714],["T_VARIABLE","$field_name",714],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][time]",714],"\"",["T_WHITESPACE"," ",714],["T_DOUBLE_ARROW","=>",714],["T_WHITESPACE"," ",714],["T_CONSTANT_ENCAPSED_STRING","'12:00:00'",714],",",["T_WHITESPACE","\n    ",714],")",";",["T_WHITESPACE","\n    ",715],["T_VARIABLE","$this",716],["T_OBJECT_OPERATOR","->",716],["T_STRING","drupalPostForm",716],"(",["T_STRING","NULL",716],",",["T_WHITESPACE"," ",716],["T_VARIABLE","$edit",716],",",["T_WHITESPACE"," ",716],["T_STRING","t",716],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",716],")",")",";",["T_WHITESPACE","\n    ",716],["T_VARIABLE","$this",717],["T_OBJECT_OPERATOR","->",717],["T_STRING","assertText",717],"(",["T_CONSTANT_ENCAPSED_STRING","'date is invalid'",717],",",["T_WHITESPACE"," ",717],["T_CONSTANT_ENCAPSED_STRING","'Empty date value has been caught.'",717],")",";",["T_WHITESPACE","\n\n    ",717],["T_VARIABLE","$date_value",719],["T_WHITESPACE"," ",719],"=",["T_WHITESPACE"," ",719],["T_CONSTANT_ENCAPSED_STRING","'aaaa-12-01'",719],";",["T_WHITESPACE","\n    ",719],["T_VARIABLE","$edit",720],["T_WHITESPACE"," ",720],"=",["T_WHITESPACE"," ",720],["T_ARRAY","array",720],"(",["T_WHITESPACE","\n      ",720],"\"",["T_CURLY_OPEN","{",721],["T_VARIABLE","$field_name",721],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][date]",721],"\"",["T_WHITESPACE"," ",721],["T_DOUBLE_ARROW","=>",721],["T_WHITESPACE"," ",721],["T_VARIABLE","$date_value",721],",",["T_WHITESPACE","\n      ",721],"\"",["T_CURLY_OPEN","{",722],["T_VARIABLE","$field_name",722],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][time]",722],"\"",["T_WHITESPACE"," ",722],["T_DOUBLE_ARROW","=>",722],["T_WHITESPACE"," ",722],["T_CONSTANT_ENCAPSED_STRING","'00:00:00'",722],",",["T_WHITESPACE","\n    ",722],")",";",["T_WHITESPACE","\n    ",723],["T_VARIABLE","$this",724],["T_OBJECT_OPERATOR","->",724],["T_STRING","drupalPostForm",724],"(",["T_STRING","NULL",724],",",["T_WHITESPACE"," ",724],["T_VARIABLE","$edit",724],",",["T_WHITESPACE"," ",724],["T_STRING","t",724],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",724],")",")",";",["T_WHITESPACE","\n    ",724],["T_VARIABLE","$this",725],["T_OBJECT_OPERATOR","->",725],["T_STRING","assertText",725],"(",["T_CONSTANT_ENCAPSED_STRING","'date is invalid'",725],",",["T_WHITESPACE"," ",725],["T_STRING","format_string",725],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid year value %date has been caught.'",725],",",["T_WHITESPACE"," ",725],["T_ARRAY","array",725],"(",["T_CONSTANT_ENCAPSED_STRING","'%date'",725],["T_WHITESPACE"," ",725],["T_DOUBLE_ARROW","=>",725],["T_WHITESPACE"," ",725],["T_VARIABLE","$date_value",725],")",")",")",";",["T_WHITESPACE","\n\n    ",725],["T_VARIABLE","$date_value",727],["T_WHITESPACE"," ",727],"=",["T_WHITESPACE"," ",727],["T_CONSTANT_ENCAPSED_STRING","'2012-75-01'",727],";",["T_WHITESPACE","\n    ",727],["T_VARIABLE","$edit",728],["T_WHITESPACE"," ",728],"=",["T_WHITESPACE"," ",728],["T_ARRAY","array",728],"(",["T_WHITESPACE","\n      ",728],"\"",["T_CURLY_OPEN","{",729],["T_VARIABLE","$field_name",729],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][date]",729],"\"",["T_WHITESPACE"," ",729],["T_DOUBLE_ARROW","=>",729],["T_WHITESPACE"," ",729],["T_VARIABLE","$date_value",729],",",["T_WHITESPACE","\n      ",729],"\"",["T_CURLY_OPEN","{",730],["T_VARIABLE","$field_name",730],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][time]",730],"\"",["T_WHITESPACE"," ",730],["T_DOUBLE_ARROW","=>",730],["T_WHITESPACE"," ",730],["T_CONSTANT_ENCAPSED_STRING","'00:00:00'",730],",",["T_WHITESPACE","\n    ",730],")",";",["T_WHITESPACE","\n    ",731],["T_VARIABLE","$this",732],["T_OBJECT_OPERATOR","->",732],["T_STRING","drupalPostForm",732],"(",["T_STRING","NULL",732],",",["T_WHITESPACE"," ",732],["T_VARIABLE","$edit",732],",",["T_WHITESPACE"," ",732],["T_STRING","t",732],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",732],")",")",";",["T_WHITESPACE","\n    ",732],["T_VARIABLE","$this",733],["T_OBJECT_OPERATOR","->",733],["T_STRING","assertText",733],"(",["T_CONSTANT_ENCAPSED_STRING","'date is invalid'",733],",",["T_WHITESPACE"," ",733],["T_STRING","format_string",733],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid month value %date has been caught.'",733],",",["T_WHITESPACE"," ",733],["T_ARRAY","array",733],"(",["T_CONSTANT_ENCAPSED_STRING","'%date'",733],["T_WHITESPACE"," ",733],["T_DOUBLE_ARROW","=>",733],["T_WHITESPACE"," ",733],["T_VARIABLE","$date_value",733],")",")",")",";",["T_WHITESPACE","\n\n    ",733],["T_VARIABLE","$date_value",735],["T_WHITESPACE"," ",735],"=",["T_WHITESPACE"," ",735],["T_CONSTANT_ENCAPSED_STRING","'2012-12-99'",735],";",["T_WHITESPACE","\n    ",735],["T_VARIABLE","$edit",736],["T_WHITESPACE"," ",736],"=",["T_WHITESPACE"," ",736],["T_ARRAY","array",736],"(",["T_WHITESPACE","\n      ",736],"\"",["T_CURLY_OPEN","{",737],["T_VARIABLE","$field_name",737],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][date]",737],"\"",["T_WHITESPACE"," ",737],["T_DOUBLE_ARROW","=>",737],["T_WHITESPACE"," ",737],["T_VARIABLE","$date_value",737],",",["T_WHITESPACE","\n      ",737],"\"",["T_CURLY_OPEN","{",738],["T_VARIABLE","$field_name",738],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][time]",738],"\"",["T_WHITESPACE"," ",738],["T_DOUBLE_ARROW","=>",738],["T_WHITESPACE"," ",738],["T_CONSTANT_ENCAPSED_STRING","'00:00:00'",738],",",["T_WHITESPACE","\n    ",738],")",";",["T_WHITESPACE","\n    ",739],["T_VARIABLE","$this",740],["T_OBJECT_OPERATOR","->",740],["T_STRING","drupalPostForm",740],"(",["T_STRING","NULL",740],",",["T_WHITESPACE"," ",740],["T_VARIABLE","$edit",740],",",["T_WHITESPACE"," ",740],["T_STRING","t",740],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",740],")",")",";",["T_WHITESPACE","\n    ",740],["T_VARIABLE","$this",741],["T_OBJECT_OPERATOR","->",741],["T_STRING","assertText",741],"(",["T_CONSTANT_ENCAPSED_STRING","'date is invalid'",741],",",["T_WHITESPACE"," ",741],["T_STRING","format_string",741],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid day value %date has been caught.'",741],",",["T_WHITESPACE"," ",741],["T_ARRAY","array",741],"(",["T_CONSTANT_ENCAPSED_STRING","'%date'",741],["T_WHITESPACE"," ",741],["T_DOUBLE_ARROW","=>",741],["T_WHITESPACE"," ",741],["T_VARIABLE","$date_value",741],")",")",")",";",["T_WHITESPACE","\n\n    ",741],["T_VARIABLE","$date_value",743],["T_WHITESPACE"," ",743],"=",["T_WHITESPACE"," ",743],["T_CONSTANT_ENCAPSED_STRING","'2012-12-01'",743],";",["T_WHITESPACE","\n    ",743],["T_VARIABLE","$time_value",744],["T_WHITESPACE"," ",744],"=",["T_WHITESPACE"," ",744],["T_CONSTANT_ENCAPSED_STRING","''",744],";",["T_WHITESPACE","\n    ",744],["T_VARIABLE","$edit",745],["T_WHITESPACE"," ",745],"=",["T_WHITESPACE"," ",745],["T_ARRAY","array",745],"(",["T_WHITESPACE","\n      ",745],"\"",["T_CURLY_OPEN","{",746],["T_VARIABLE","$field_name",746],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][date]",746],"\"",["T_WHITESPACE"," ",746],["T_DOUBLE_ARROW","=>",746],["T_WHITESPACE"," ",746],["T_VARIABLE","$date_value",746],",",["T_WHITESPACE","\n      ",746],"\"",["T_CURLY_OPEN","{",747],["T_VARIABLE","$field_name",747],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][time]",747],"\"",["T_WHITESPACE"," ",747],["T_DOUBLE_ARROW","=>",747],["T_WHITESPACE"," ",747],["T_VARIABLE","$time_value",747],",",["T_WHITESPACE","\n    ",747],")",";",["T_WHITESPACE","\n    ",748],["T_VARIABLE","$this",749],["T_OBJECT_OPERATOR","->",749],["T_STRING","drupalPostForm",749],"(",["T_STRING","NULL",749],",",["T_WHITESPACE"," ",749],["T_VARIABLE","$edit",749],",",["T_WHITESPACE"," ",749],["T_STRING","t",749],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",749],")",")",";",["T_WHITESPACE","\n    ",749],["T_VARIABLE","$this",750],["T_OBJECT_OPERATOR","->",750],["T_STRING","assertText",750],"(",["T_CONSTANT_ENCAPSED_STRING","'date is invalid'",750],",",["T_WHITESPACE"," ",750],["T_CONSTANT_ENCAPSED_STRING","'Empty time value has been caught.'",750],")",";",["T_WHITESPACE","\n\n    ",750],["T_VARIABLE","$date_value",752],["T_WHITESPACE"," ",752],"=",["T_WHITESPACE"," ",752],["T_CONSTANT_ENCAPSED_STRING","'2012-12-01'",752],";",["T_WHITESPACE","\n    ",752],["T_VARIABLE","$time_value",753],["T_WHITESPACE"," ",753],"=",["T_WHITESPACE"," ",753],["T_CONSTANT_ENCAPSED_STRING","'49:00:00'",753],";",["T_WHITESPACE","\n    ",753],["T_VARIABLE","$edit",754],["T_WHITESPACE"," ",754],"=",["T_WHITESPACE"," ",754],["T_ARRAY","array",754],"(",["T_WHITESPACE","\n      ",754],"\"",["T_CURLY_OPEN","{",755],["T_VARIABLE","$field_name",755],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][date]",755],"\"",["T_WHITESPACE"," ",755],["T_DOUBLE_ARROW","=>",755],["T_WHITESPACE"," ",755],["T_VARIABLE","$date_value",755],",",["T_WHITESPACE","\n      ",755],"\"",["T_CURLY_OPEN","{",756],["T_VARIABLE","$field_name",756],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][time]",756],"\"",["T_WHITESPACE"," ",756],["T_DOUBLE_ARROW","=>",756],["T_WHITESPACE"," ",756],["T_VARIABLE","$time_value",756],",",["T_WHITESPACE","\n    ",756],")",";",["T_WHITESPACE","\n    ",757],["T_VARIABLE","$this",758],["T_OBJECT_OPERATOR","->",758],["T_STRING","drupalPostForm",758],"(",["T_STRING","NULL",758],",",["T_WHITESPACE"," ",758],["T_VARIABLE","$edit",758],",",["T_WHITESPACE"," ",758],["T_STRING","t",758],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",758],")",")",";",["T_WHITESPACE","\n    ",758],["T_VARIABLE","$this",759],["T_OBJECT_OPERATOR","->",759],["T_STRING","assertText",759],"(",["T_CONSTANT_ENCAPSED_STRING","'date is invalid'",759],",",["T_WHITESPACE"," ",759],["T_STRING","format_string",759],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid hour value %time has been caught.'",759],",",["T_WHITESPACE"," ",759],["T_ARRAY","array",759],"(",["T_CONSTANT_ENCAPSED_STRING","'%time'",759],["T_WHITESPACE"," ",759],["T_DOUBLE_ARROW","=>",759],["T_WHITESPACE"," ",759],["T_VARIABLE","$time_value",759],")",")",")",";",["T_WHITESPACE","\n\n    ",759],["T_VARIABLE","$date_value",761],["T_WHITESPACE"," ",761],"=",["T_WHITESPACE"," ",761],["T_CONSTANT_ENCAPSED_STRING","'2012-12-01'",761],";",["T_WHITESPACE","\n    ",761],["T_VARIABLE","$time_value",762],["T_WHITESPACE"," ",762],"=",["T_WHITESPACE"," ",762],["T_CONSTANT_ENCAPSED_STRING","'12:99:00'",762],";",["T_WHITESPACE","\n    ",762],["T_VARIABLE","$edit",763],["T_WHITESPACE"," ",763],"=",["T_WHITESPACE"," ",763],["T_ARRAY","array",763],"(",["T_WHITESPACE","\n      ",763],"\"",["T_CURLY_OPEN","{",764],["T_VARIABLE","$field_name",764],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][date]",764],"\"",["T_WHITESPACE"," ",764],["T_DOUBLE_ARROW","=>",764],["T_WHITESPACE"," ",764],["T_VARIABLE","$date_value",764],",",["T_WHITESPACE","\n      ",764],"\"",["T_CURLY_OPEN","{",765],["T_VARIABLE","$field_name",765],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][time]",765],"\"",["T_WHITESPACE"," ",765],["T_DOUBLE_ARROW","=>",765],["T_WHITESPACE"," ",765],["T_VARIABLE","$time_value",765],",",["T_WHITESPACE","\n    ",765],")",";",["T_WHITESPACE","\n    ",766],["T_VARIABLE","$this",767],["T_OBJECT_OPERATOR","->",767],["T_STRING","drupalPostForm",767],"(",["T_STRING","NULL",767],",",["T_WHITESPACE"," ",767],["T_VARIABLE","$edit",767],",",["T_WHITESPACE"," ",767],["T_STRING","t",767],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",767],")",")",";",["T_WHITESPACE","\n    ",767],["T_VARIABLE","$this",768],["T_OBJECT_OPERATOR","->",768],["T_STRING","assertText",768],"(",["T_CONSTANT_ENCAPSED_STRING","'date is invalid'",768],",",["T_WHITESPACE"," ",768],["T_STRING","format_string",768],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid minute value %time has been caught.'",768],",",["T_WHITESPACE"," ",768],["T_ARRAY","array",768],"(",["T_CONSTANT_ENCAPSED_STRING","'%time'",768],["T_WHITESPACE"," ",768],["T_DOUBLE_ARROW","=>",768],["T_WHITESPACE"," ",768],["T_VARIABLE","$time_value",768],")",")",")",";",["T_WHITESPACE","\n\n    ",768],["T_VARIABLE","$date_value",770],["T_WHITESPACE"," ",770],"=",["T_WHITESPACE"," ",770],["T_CONSTANT_ENCAPSED_STRING","'2012-12-01'",770],";",["T_WHITESPACE","\n    ",770],["T_VARIABLE","$time_value",771],["T_WHITESPACE"," ",771],"=",["T_WHITESPACE"," ",771],["T_CONSTANT_ENCAPSED_STRING","'12:15:99'",771],";",["T_WHITESPACE","\n    ",771],["T_VARIABLE","$edit",772],["T_WHITESPACE"," ",772],"=",["T_WHITESPACE"," ",772],["T_ARRAY","array",772],"(",["T_WHITESPACE","\n      ",772],"\"",["T_CURLY_OPEN","{",773],["T_VARIABLE","$field_name",773],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][date]",773],"\"",["T_WHITESPACE"," ",773],["T_DOUBLE_ARROW","=>",773],["T_WHITESPACE"," ",773],["T_VARIABLE","$date_value",773],",",["T_WHITESPACE","\n      ",773],"\"",["T_CURLY_OPEN","{",774],["T_VARIABLE","$field_name",774],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value][time]",774],"\"",["T_WHITESPACE"," ",774],["T_DOUBLE_ARROW","=>",774],["T_WHITESPACE"," ",774],["T_VARIABLE","$time_value",774],",",["T_WHITESPACE","\n    ",774],")",";",["T_WHITESPACE","\n    ",775],["T_VARIABLE","$this",776],["T_OBJECT_OPERATOR","->",776],["T_STRING","drupalPostForm",776],"(",["T_STRING","NULL",776],",",["T_WHITESPACE"," ",776],["T_VARIABLE","$edit",776],",",["T_WHITESPACE"," ",776],["T_STRING","t",776],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",776],")",")",";",["T_WHITESPACE","\n    ",776],["T_VARIABLE","$this",777],["T_OBJECT_OPERATOR","->",777],["T_STRING","assertText",777],"(",["T_CONSTANT_ENCAPSED_STRING","'date is invalid'",777],",",["T_WHITESPACE"," ",777],["T_STRING","format_string",777],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid second value %time has been caught.'",777],",",["T_WHITESPACE"," ",777],["T_ARRAY","array",777],"(",["T_CONSTANT_ENCAPSED_STRING","'%time'",777],["T_WHITESPACE"," ",777],["T_DOUBLE_ARROW","=>",777],["T_WHITESPACE"," ",777],["T_VARIABLE","$time_value",777],")",")",")",";",["T_WHITESPACE","\n  ",777],"}",["T_WHITESPACE","\n\n  ",778],["T_DOC_COMMENT","\/**\n   * Tests that 'Date' field storage setting form is disabled if field has data.\n   *\/",780],["T_WHITESPACE","\n  ",782],["T_PUBLIC","public",783],["T_WHITESPACE"," ",783],["T_FUNCTION","function",783],["T_WHITESPACE"," ",783],["T_STRING","testDateStorageSettings",783],"(",")",["T_WHITESPACE"," ",783],"{",["T_WHITESPACE","\n    ",783],["T_COMMENT","\/\/ Create a test content type.\n",784],["T_WHITESPACE","    ",785],["T_VARIABLE","$this",785],["T_OBJECT_OPERATOR","->",785],["T_STRING","drupalCreateContentType",785],"(","[",["T_CONSTANT_ENCAPSED_STRING","'type'",785],["T_WHITESPACE"," ",785],["T_DOUBLE_ARROW","=>",785],["T_WHITESPACE"," ",785],["T_CONSTANT_ENCAPSED_STRING","'date_content'",785],"]",")",";",["T_WHITESPACE","\n\n    ",785],["T_COMMENT","\/\/ Create a field storage with settings to validate.\n",787],["T_WHITESPACE","    ",788],["T_VARIABLE","$field_name",788],["T_WHITESPACE"," ",788],"=",["T_WHITESPACE"," ",788],["T_STRING","Unicode",788],["T_DOUBLE_COLON","::",788],["T_STRING","strtolower",788],"(",["T_VARIABLE","$this",788],["T_OBJECT_OPERATOR","->",788],["T_STRING","randomMachineName",788],"(",")",")",";",["T_WHITESPACE","\n    ",788],["T_VARIABLE","$field_storage",789],["T_WHITESPACE"," ",789],"=",["T_WHITESPACE"," ",789],["T_STRING","FieldStorageConfig",789],["T_DOUBLE_COLON","::",789],["T_STRING","create",789],"(","[",["T_WHITESPACE","\n      ",789],["T_CONSTANT_ENCAPSED_STRING","'field_name'",790],["T_WHITESPACE"," ",790],["T_DOUBLE_ARROW","=>",790],["T_WHITESPACE"," ",790],["T_VARIABLE","$field_name",790],",",["T_WHITESPACE","\n      ",790],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",791],["T_WHITESPACE"," ",791],["T_DOUBLE_ARROW","=>",791],["T_WHITESPACE"," ",791],["T_CONSTANT_ENCAPSED_STRING","'node'",791],",",["T_WHITESPACE","\n      ",791],["T_CONSTANT_ENCAPSED_STRING","'type'",792],["T_WHITESPACE"," ",792],["T_DOUBLE_ARROW","=>",792],["T_WHITESPACE"," ",792],["T_CONSTANT_ENCAPSED_STRING","'datetime'",792],",",["T_WHITESPACE","\n      ",792],["T_CONSTANT_ENCAPSED_STRING","'settings'",793],["T_WHITESPACE"," ",793],["T_DOUBLE_ARROW","=>",793],["T_WHITESPACE"," ",793],"[",["T_WHITESPACE","\n        ",793],["T_CONSTANT_ENCAPSED_STRING","'datetime_type'",794],["T_WHITESPACE"," ",794],["T_DOUBLE_ARROW","=>",794],["T_WHITESPACE"," ",794],["T_CONSTANT_ENCAPSED_STRING","'date'",794],",",["T_WHITESPACE","\n      ",794],"]",",",["T_WHITESPACE","\n    ",795],"]",")",";",["T_WHITESPACE","\n    ",796],["T_VARIABLE","$field_storage",797],["T_OBJECT_OPERATOR","->",797],["T_STRING","save",797],"(",")",";",["T_WHITESPACE","\n    ",797],["T_VARIABLE","$field",798],["T_WHITESPACE"," ",798],"=",["T_WHITESPACE"," ",798],["T_STRING","FieldConfig",798],["T_DOUBLE_COLON","::",798],["T_STRING","create",798],"(","[",["T_WHITESPACE","\n      ",798],["T_CONSTANT_ENCAPSED_STRING","'field_storage'",799],["T_WHITESPACE"," ",799],["T_DOUBLE_ARROW","=>",799],["T_WHITESPACE"," ",799],["T_VARIABLE","$field_storage",799],",",["T_WHITESPACE","\n      ",799],["T_CONSTANT_ENCAPSED_STRING","'field_name'",800],["T_WHITESPACE"," ",800],["T_DOUBLE_ARROW","=>",800],["T_WHITESPACE"," ",800],["T_VARIABLE","$field_name",800],",",["T_WHITESPACE","\n      ",800],["T_CONSTANT_ENCAPSED_STRING","'bundle'",801],["T_WHITESPACE"," ",801],["T_DOUBLE_ARROW","=>",801],["T_WHITESPACE"," ",801],["T_CONSTANT_ENCAPSED_STRING","'date_content'",801],",",["T_WHITESPACE","\n    ",801],"]",")",";",["T_WHITESPACE","\n    ",802],["T_VARIABLE","$field",803],["T_OBJECT_OPERATOR","->",803],["T_STRING","save",803],"(",")",";",["T_WHITESPACE","\n\n    ",803],["T_STRING","entity_get_form_display",805],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",805],",",["T_WHITESPACE"," ",805],["T_CONSTANT_ENCAPSED_STRING","'date_content'",805],",",["T_WHITESPACE"," ",805],["T_CONSTANT_ENCAPSED_STRING","'default'",805],")",["T_WHITESPACE","\n      ",805],["T_OBJECT_OPERATOR","->",806],["T_STRING","setComponent",806],"(",["T_VARIABLE","$field_name",806],",",["T_WHITESPACE"," ",806],"[",["T_WHITESPACE","\n        ",806],["T_CONSTANT_ENCAPSED_STRING","'type'",807],["T_WHITESPACE"," ",807],["T_DOUBLE_ARROW","=>",807],["T_WHITESPACE"," ",807],["T_CONSTANT_ENCAPSED_STRING","'datetime_default'",807],",",["T_WHITESPACE","\n      ",807],"]",")",["T_WHITESPACE","\n      ",808],["T_OBJECT_OPERATOR","->",809],["T_STRING","save",809],"(",")",";",["T_WHITESPACE","\n    ",809],["T_VARIABLE","$edit",810],["T_WHITESPACE"," ",810],"=",["T_WHITESPACE"," ",810],"[",["T_WHITESPACE","\n      ",810],["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",811],["T_WHITESPACE"," ",811],["T_DOUBLE_ARROW","=>",811],["T_WHITESPACE"," ",811],["T_VARIABLE","$this",811],["T_OBJECT_OPERATOR","->",811],["T_STRING","randomString",811],"(",")",",",["T_WHITESPACE","\n      ",811],["T_CONSTANT_ENCAPSED_STRING","'body[0][value]'",812],["T_WHITESPACE"," ",812],["T_DOUBLE_ARROW","=>",812],["T_WHITESPACE"," ",812],["T_VARIABLE","$this",812],["T_OBJECT_OPERATOR","->",812],["T_STRING","randomString",812],"(",")",",",["T_WHITESPACE","\n      ",812],["T_VARIABLE","$field_name",813],["T_WHITESPACE"," ",813],".",["T_WHITESPACE"," ",813],["T_CONSTANT_ENCAPSED_STRING","'[0][value][date]'",813],["T_WHITESPACE"," ",813],["T_DOUBLE_ARROW","=>",813],["T_WHITESPACE"," ",813],["T_CONSTANT_ENCAPSED_STRING","'2016-04-01'",813],",",["T_WHITESPACE","\n    ",813],"]",";",["T_WHITESPACE","\n    ",814],["T_VARIABLE","$this",815],["T_OBJECT_OPERATOR","->",815],["T_STRING","drupalPostForm",815],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/add\/date_content'",815],",",["T_WHITESPACE"," ",815],["T_VARIABLE","$edit",815],",",["T_WHITESPACE"," ",815],["T_STRING","t",815],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",815],")",")",";",["T_WHITESPACE","\n    ",815],["T_VARIABLE","$this",816],["T_OBJECT_OPERATOR","->",816],["T_STRING","drupalGet",816],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/date_content\/fields\/node.date_content.'",816],["T_WHITESPACE"," ",816],".",["T_WHITESPACE"," ",816],["T_VARIABLE","$field_name",816],["T_WHITESPACE"," ",816],".",["T_WHITESPACE"," ",816],["T_CONSTANT_ENCAPSED_STRING","'\/storage'",816],")",";",["T_WHITESPACE","\n    ",816],["T_VARIABLE","$result",817],["T_WHITESPACE"," ",817],"=",["T_WHITESPACE"," ",817],["T_VARIABLE","$this",817],["T_OBJECT_OPERATOR","->",817],["T_STRING","xpath",817],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/*[@id='edit-settings-datetime-type' and contains(@disabled, 'disabled')]\"",817],")",";",["T_WHITESPACE","\n    ",817],["T_VARIABLE","$this",818],["T_OBJECT_OPERATOR","->",818],["T_STRING","assertEqual",818],"(",["T_STRING","count",818],"(",["T_VARIABLE","$result",818],")",",",["T_WHITESPACE"," ",818],["T_LNUMBER","1",818],",",["T_WHITESPACE"," ",818],["T_CONSTANT_ENCAPSED_STRING","\"Changing datetime setting is disabled.\"",818],")",";",["T_WHITESPACE","\n    ",818],["T_VARIABLE","$this",819],["T_OBJECT_OPERATOR","->",819],["T_STRING","assertText",819],"(",["T_CONSTANT_ENCAPSED_STRING","'There is data for this field in the database. The field settings can no longer be changed.'",819],")",";",["T_WHITESPACE","\n  ",819],"}",["T_WHITESPACE","\n\n",820],"}",["T_WHITESPACE","\n",822]]