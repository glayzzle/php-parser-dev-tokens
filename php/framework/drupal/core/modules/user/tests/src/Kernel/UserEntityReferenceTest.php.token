[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","user",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","field",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Tests",5],["T_NS_SEPARATOR","\\",5],["T_STRING","EntityReference",5],["T_NS_SEPARATOR","\\",5],["T_STRING","EntityReferenceTestTrait",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","field",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FieldConfig",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","KernelTests",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","EntityKernelTestBase",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","user",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Role",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Tests the user reference field functionality.\n *\n * @group user\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","UserEntityReferenceTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","EntityKernelTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","EntityReferenceTestTrait",17],";",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * A randomly-generated role for testing purposes.\n   *\n   * @var \\Drupal\\user\\RoleInterface\n   *\/",19],["T_WHITESPACE","\n  ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$role1",24],";",["T_WHITESPACE","\n\n  ",24],["T_DOC_COMMENT","\/**\n   * A randomly-generated role for testing purposes.\n   *\n   * @var \\Drupal\\user\\RoleInterface\n   *\/",26],["T_WHITESPACE","\n  ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$role2",31],";",["T_WHITESPACE","\n\n  ",31],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",33],["T_WHITESPACE","\n  ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","setUp",36],"(",")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n    ",36],["T_STRING","parent",37],["T_DOUBLE_COLON","::",37],["T_STRING","setUp",37],"(",")",";",["T_WHITESPACE","\n\n    ",37],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","role1",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","Role",39],["T_DOUBLE_COLON","::",39],["T_STRING","create",39],"(",["T_ARRAY","array",39],"(",["T_WHITESPACE","\n      ",39],["T_CONSTANT_ENCAPSED_STRING","'id'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_STRING","strtolower",40],"(",["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","randomMachineName",40],"(",["T_LNUMBER","8",40],")",")",",",["T_WHITESPACE","\n      ",40],["T_CONSTANT_ENCAPSED_STRING","'label'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","randomMachineName",41],"(",["T_LNUMBER","8",41],")",",",["T_WHITESPACE","\n    ",41],")",")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","role1",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","save",43],"(",")",";",["T_WHITESPACE","\n\n    ",43],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","role2",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","Role",45],["T_DOUBLE_COLON","::",45],["T_STRING","create",45],"(",["T_ARRAY","array",45],"(",["T_WHITESPACE","\n      ",45],["T_CONSTANT_ENCAPSED_STRING","'id'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_STRING","strtolower",46],"(",["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","randomMachineName",46],"(",["T_LNUMBER","8",46],")",")",",",["T_WHITESPACE","\n      ",46],["T_CONSTANT_ENCAPSED_STRING","'label'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","randomMachineName",47],"(",["T_LNUMBER","8",47],")",",",["T_WHITESPACE","\n    ",47],")",")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","role2",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","save",49],"(",")",";",["T_WHITESPACE","\n\n    ",49],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","createEntityReferenceField",51],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'user'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'user_reference'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'User reference'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'user'",51],")",";",["T_WHITESPACE","\n  ",51],"}",["T_WHITESPACE","\n\n  ",52],["T_DOC_COMMENT","\/**\n   * Tests user selection by roles.\n   *\/",54],["T_WHITESPACE","\n  ",56],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","testUserSelectionByRole",57],"(",")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$field_definition",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","FieldConfig",58],["T_DOUBLE_COLON","::",58],["T_STRING","loadByName",58],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",58],",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'user'",58],",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'user_reference'",58],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$handler_settings",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$field_definition",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getSetting",59],"(",["T_CONSTANT_ENCAPSED_STRING","'handler_settings'",59],")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$handler_settings",60],"[",["T_CONSTANT_ENCAPSED_STRING","'filter'",60],"]","[",["T_CONSTANT_ENCAPSED_STRING","'role'",60],"]",["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_ARRAY","array",60],"(",["T_WHITESPACE","\n      ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","role1",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","id",61],"(",")",["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","role1",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","id",61],"(",")",",",["T_WHITESPACE","\n      ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","role2",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","id",62],"(",")",["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_LNUMBER","0",62],",",["T_WHITESPACE","\n    ",62],")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$handler_settings",64],"[",["T_CONSTANT_ENCAPSED_STRING","'filter'",64],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",64],"]",["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'role'",64],";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$field_definition",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","setSetting",65],"(",["T_CONSTANT_ENCAPSED_STRING","'handler_settings'",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$handler_settings",65],")",";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$field_definition",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","save",66],"(",")",";",["T_WHITESPACE","\n\n    ",66],["T_VARIABLE","$user1",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","createUser",68],"(",["T_ARRAY","array",68],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'aabb'",68],")",")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$user1",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","addRole",69],"(",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","role1",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","id",69],"(",")",")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$user1",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","save",70],"(",")",";",["T_WHITESPACE","\n\n    ",70],["T_VARIABLE","$user2",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","createUser",72],"(",["T_ARRAY","array",72],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'aabbb'",72],")",")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$user2",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","addRole",73],"(",["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","role1",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","id",73],"(",")",")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$user2",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","save",74],"(",")",";",["T_WHITESPACE","\n\n    ",74],["T_VARIABLE","$user3",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","createUser",76],"(",["T_ARRAY","array",76],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'aabbbb'",76],")",")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$user3",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","addRole",77],"(",["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","role2",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","id",77],"(",")",")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$user3",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","save",78],"(",")",";",["T_WHITESPACE","\n\n\n    ",78],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Entity\\EntityAutocompleteMatcher $autocomplete *\/",81],["T_WHITESPACE","\n    ",81],["T_VARIABLE","$autocomplete",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Drupal",82],["T_DOUBLE_COLON","::",82],["T_STRING","service",82],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.autocomplete_matcher'",82],")",";",["T_WHITESPACE","\n\n    ",82],["T_VARIABLE","$matches",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$autocomplete",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getMatches",84],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'default'",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$field_definition",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getSetting",84],"(",["T_CONSTANT_ENCAPSED_STRING","'handler_settings'",84],")",",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'aabb'",84],")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertEqual",85],"(",["T_STRING","count",85],"(",["T_VARIABLE","$matches",85],")",",",["T_WHITESPACE"," ",85],["T_LNUMBER","2",85],")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$users",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_ARRAY","array",86],"(",")",";",["T_WHITESPACE","\n    ",86],["T_FOREACH","foreach",87],["T_WHITESPACE"," ",87],"(",["T_VARIABLE","$matches",87],["T_WHITESPACE"," ",87],["T_AS","as",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$match",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n      ",87],["T_VARIABLE","$users",88],"[","]",["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$match",88],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",88],"]",";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertTrue",90],"(",["T_STRING","in_array",90],"(",["T_VARIABLE","$user1",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","label",90],"(",")",",",["T_WHITESPACE"," ",90],["T_VARIABLE","$users",90],")",")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","assertTrue",91],"(",["T_STRING","in_array",91],"(",["T_VARIABLE","$user2",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","label",91],"(",")",",",["T_WHITESPACE"," ",91],["T_VARIABLE","$users",91],")",")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertFalse",92],"(",["T_STRING","in_array",92],"(",["T_VARIABLE","$user3",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","label",92],"(",")",",",["T_WHITESPACE"," ",92],["T_VARIABLE","$users",92],")",")",";",["T_WHITESPACE","\n\n    ",92],["T_VARIABLE","$matches",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$autocomplete",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getMatches",94],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",94],",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'default'",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$field_definition",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getSetting",94],"(",["T_CONSTANT_ENCAPSED_STRING","'handler_settings'",94],")",",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'aabbbb'",94],")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertEqual",95],"(",["T_STRING","count",95],"(",["T_VARIABLE","$matches",95],")",",",["T_WHITESPACE"," ",95],["T_LNUMBER","0",95],",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","''",95],")",";",["T_WHITESPACE","\n  ",95],"}",["T_WHITESPACE","\n\n",96],"}",["T_WHITESPACE","\n",98]]