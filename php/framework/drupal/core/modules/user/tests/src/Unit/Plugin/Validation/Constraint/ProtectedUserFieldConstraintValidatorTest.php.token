[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","user",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Unit",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Validation",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Constraint",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Tests",5],["T_NS_SEPARATOR","\\",5],["T_STRING","UnitTestCase",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","user",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Plugin",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Validation",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Constraint",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ProtectedUserFieldConstraint",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","user",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Plugin",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Validation",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Constraint",7],["T_NS_SEPARATOR","\\",7],["T_STRING","ProtectedUserFieldConstraintValidator",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * @coversDefaultClass \\Drupal\\user\\Plugin\\Validation\\Constraint\\ProtectedUserFieldConstraintValidator\n * @group user\n *\/",9],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","ProtectedUserFieldConstraintValidatorTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","UnitTestCase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",15],["T_WHITESPACE","\n  ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_FUNCTION","function",18],["T_WHITESPACE"," ",18],["T_STRING","createValidator",18],"(",")",["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n    ",18],["T_COMMENT","\/\/ Setup mocks that don't need to change.\n",19],["T_WHITESPACE","    ",20],["T_VARIABLE","$unchanged_field",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_VARIABLE","$this",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","getMock",20],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Field\\FieldItemListInterface'",20],")",";",["T_WHITESPACE","\n    ",20],["T_VARIABLE","$unchanged_field",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","expects",21],"(",["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","any",21],"(",")",")",["T_WHITESPACE","\n      ",21],["T_OBJECT_OPERATOR","->",22],["T_STRING","method",22],"(",["T_CONSTANT_ENCAPSED_STRING","'getValue'",22],")",["T_WHITESPACE","\n      ",22],["T_OBJECT_OPERATOR","->",23],["T_STRING","willReturn",23],"(",["T_CONSTANT_ENCAPSED_STRING","'unchanged-value'",23],")",";",["T_WHITESPACE","\n\n    ",23],["T_VARIABLE","$unchanged_account",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","getMock",25],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\user\\UserInterface'",25],")",";",["T_WHITESPACE","\n    ",25],["T_VARIABLE","$unchanged_account",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","expects",26],"(",["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","any",26],"(",")",")",["T_WHITESPACE","\n      ",26],["T_OBJECT_OPERATOR","->",27],["T_STRING","method",27],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",27],")",["T_WHITESPACE","\n      ",27],["T_OBJECT_OPERATOR","->",28],["T_STRING","willReturn",28],"(",["T_VARIABLE","$unchanged_field",28],")",";",["T_WHITESPACE","\n    ",28],["T_VARIABLE","$user_storage",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","getMock",29],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\user\\UserStorageInterface'",29],")",";",["T_WHITESPACE","\n    ",29],["T_VARIABLE","$user_storage",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","expects",30],"(",["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","any",30],"(",")",")",["T_WHITESPACE","\n      ",30],["T_OBJECT_OPERATOR","->",31],["T_STRING","method",31],"(",["T_CONSTANT_ENCAPSED_STRING","'loadUnchanged'",31],")",["T_WHITESPACE","\n      ",31],["T_OBJECT_OPERATOR","->",32],["T_STRING","willReturn",32],"(",["T_VARIABLE","$unchanged_account",32],")",";",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$current_user",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","getMock",33],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Session\\AccountProxyInterface'",33],")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$current_user",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","expects",34],"(",["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","any",34],"(",")",")",["T_WHITESPACE","\n      ",34],["T_OBJECT_OPERATOR","->",35],["T_STRING","method",35],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",35],")",["T_WHITESPACE","\n      ",35],["T_OBJECT_OPERATOR","->",36],["T_STRING","willReturn",36],"(",["T_CONSTANT_ENCAPSED_STRING","'current-user'",36],")",";",["T_WHITESPACE","\n    ",36],["T_RETURN","return",37],["T_WHITESPACE"," ",37],["T_NEW","new",37],["T_WHITESPACE"," ",37],["T_STRING","ProtectedUserFieldConstraintValidator",37],"(",["T_VARIABLE","$user_storage",37],",",["T_WHITESPACE"," ",37],["T_VARIABLE","$current_user",37],")",";",["T_WHITESPACE","\n  ",37],"}",["T_WHITESPACE","\n\n  ",38],["T_DOC_COMMENT","\/**\n   * @covers ::validate\n   *\n   * @dataProvider providerTestValidate\n   *\/",40],["T_WHITESPACE","\n  ",44],["T_PUBLIC","public",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","testValidate",45],"(",["T_VARIABLE","$items",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$expected_violation",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$name",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","FALSE",45],")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$constraint",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_NEW","new",46],["T_WHITESPACE"," ",46],["T_STRING","ProtectedUserFieldConstraint",46],"(",")",";",["T_WHITESPACE","\n\n    ",46],["T_COMMENT","\/\/ If a violation is expected, then the context's addViolation method will\n",48],["T_WHITESPACE","    ",49],["T_COMMENT","\/\/ be called, otherwise it should not be called.\n",49],["T_WHITESPACE","    ",50],["T_VARIABLE","$context",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getMock",50],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\Validator\\ExecutionContextInterface'",50],")",";",["T_WHITESPACE","\n\n    ",50],["T_IF","if",52],["T_WHITESPACE"," ",52],"(",["T_VARIABLE","$expected_violation",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n      ",52],["T_VARIABLE","$context",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","expects",53],"(",["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","once",53],"(",")",")",["T_WHITESPACE","\n        ",53],["T_OBJECT_OPERATOR","->",54],["T_STRING","method",54],"(",["T_CONSTANT_ENCAPSED_STRING","'addViolation'",54],")",["T_WHITESPACE","\n        ",54],["T_OBJECT_OPERATOR","->",55],["T_STRING","with",55],"(",["T_VARIABLE","$constraint",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","message",55],",",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",["T_CONSTANT_ENCAPSED_STRING","'%name'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$name",55],")",")",";",["T_WHITESPACE","\n    ",55],"}",["T_WHITESPACE","\n    ",56],["T_ELSE","else",57],["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n      ",57],["T_VARIABLE","$context",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","expects",58],"(",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","never",58],"(",")",")",["T_WHITESPACE","\n        ",58],["T_OBJECT_OPERATOR","->",59],["T_STRING","method",59],"(",["T_CONSTANT_ENCAPSED_STRING","'addViolation'",59],")",";",["T_WHITESPACE","\n    ",59],"}",["T_WHITESPACE","\n\n    ",60],["T_VARIABLE","$validator",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","createValidator",62],"(",")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$validator",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","initialize",63],"(",["T_VARIABLE","$context",63],")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$validator",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","validate",64],"(",["T_VARIABLE","$items",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$constraint",64],")",";",["T_WHITESPACE","\n  ",64],"}",["T_WHITESPACE","\n\n  ",65],["T_DOC_COMMENT","\/**\n   * Data provider for ::testValidate().\n   *\/",67],["T_WHITESPACE","\n  ",69],["T_PUBLIC","public",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","providerTestValidate",70],"(",")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$cases",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],"[","]",";",["T_WHITESPACE","\n\n    ",71],["T_COMMENT","\/\/ Case 1: Validation context should not be touched if no items are passed.\n",73],["T_WHITESPACE","    ",74],["T_VARIABLE","$cases",74],"[","]",["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],"[",["T_STRING","NULL",74],",",["T_WHITESPACE"," ",74],["T_STRING","FALSE",74],"]",";",["T_WHITESPACE","\n\n    ",74],["T_COMMENT","\/\/ Case 2: Empty user should be ignored.\n",76],["T_WHITESPACE","    ",77],["T_VARIABLE","$field_definition",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getMock",77],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Field\\FieldDefinitionInterface'",77],")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$items",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getMock",78],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Field\\FieldItemListInterface'",78],")",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$items",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","expects",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","once",79],"(",")",")",["T_WHITESPACE","\n      ",79],["T_OBJECT_OPERATOR","->",80],["T_STRING","method",80],"(",["T_CONSTANT_ENCAPSED_STRING","'getFieldDefinition'",80],")",["T_WHITESPACE","\n      ",80],["T_OBJECT_OPERATOR","->",81],["T_STRING","willReturn",81],"(",["T_VARIABLE","$field_definition",81],")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$items",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","expects",82],"(",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","once",82],"(",")",")",["T_WHITESPACE","\n      ",82],["T_OBJECT_OPERATOR","->",83],["T_STRING","method",83],"(",["T_CONSTANT_ENCAPSED_STRING","'getEntity'",83],")",["T_WHITESPACE","\n      ",83],["T_OBJECT_OPERATOR","->",84],["T_STRING","willReturn",84],"(",["T_STRING","NULL",84],")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$cases",85],"[","]",["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],"[",["T_VARIABLE","$items",85],",",["T_WHITESPACE"," ",85],["T_STRING","FALSE",85],"]",";",["T_WHITESPACE","\n\n    ",85],["T_COMMENT","\/\/ Case 3: Account flagged to skip protected user should be ignored.\n",87],["T_WHITESPACE","    ",88],["T_VARIABLE","$field_definition",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getMock",88],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Field\\FieldDefinitionInterface'",88],")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$account",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getMock",89],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\user\\UserInterface'",89],")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$account",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_skipProtectedUserFieldConstraint",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_STRING","TRUE",90],";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$items",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getMock",91],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Field\\FieldItemListInterface'",91],")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$items",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","expects",92],"(",["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","once",92],"(",")",")",["T_WHITESPACE","\n      ",92],["T_OBJECT_OPERATOR","->",93],["T_STRING","method",93],"(",["T_CONSTANT_ENCAPSED_STRING","'getFieldDefinition'",93],")",["T_WHITESPACE","\n      ",93],["T_OBJECT_OPERATOR","->",94],["T_STRING","willReturn",94],"(",["T_VARIABLE","$field_definition",94],")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$items",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","expects",95],"(",["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","once",95],"(",")",")",["T_WHITESPACE","\n      ",95],["T_OBJECT_OPERATOR","->",96],["T_STRING","method",96],"(",["T_CONSTANT_ENCAPSED_STRING","'getEntity'",96],")",["T_WHITESPACE","\n      ",96],["T_OBJECT_OPERATOR","->",97],["T_STRING","willReturn",97],"(",["T_VARIABLE","$account",97],")",";",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$cases",98],"[","]",["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],"[",["T_VARIABLE","$items",98],",",["T_WHITESPACE"," ",98],["T_STRING","FALSE",98],"]",";",["T_WHITESPACE","\n\n    ",98],["T_COMMENT","\/\/ Case 4: New user should be ignored.\n",100],["T_WHITESPACE","    ",101],["T_VARIABLE","$field_definition",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getMock",101],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Field\\FieldDefinitionInterface'",101],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$account",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getMock",102],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\user\\UserInterface'",102],")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$account",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","expects",103],"(",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","once",103],"(",")",")",["T_WHITESPACE","\n      ",103],["T_OBJECT_OPERATOR","->",104],["T_STRING","method",104],"(",["T_CONSTANT_ENCAPSED_STRING","'isNew'",104],")",["T_WHITESPACE","\n      ",104],["T_OBJECT_OPERATOR","->",105],["T_STRING","willReturn",105],"(",["T_STRING","TRUE",105],")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$items",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getMock",106],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Field\\FieldItemListInterface'",106],")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$items",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","expects",107],"(",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","once",107],"(",")",")",["T_WHITESPACE","\n      ",107],["T_OBJECT_OPERATOR","->",108],["T_STRING","method",108],"(",["T_CONSTANT_ENCAPSED_STRING","'getFieldDefinition'",108],")",["T_WHITESPACE","\n      ",108],["T_OBJECT_OPERATOR","->",109],["T_STRING","willReturn",109],"(",["T_VARIABLE","$field_definition",109],")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$items",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","expects",110],"(",["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","once",110],"(",")",")",["T_WHITESPACE","\n      ",110],["T_OBJECT_OPERATOR","->",111],["T_STRING","method",111],"(",["T_CONSTANT_ENCAPSED_STRING","'getEntity'",111],")",["T_WHITESPACE","\n      ",111],["T_OBJECT_OPERATOR","->",112],["T_STRING","willReturn",112],"(",["T_VARIABLE","$account",112],")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$cases",113],"[","]",["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],"[",["T_VARIABLE","$items",113],",",["T_WHITESPACE"," ",113],["T_STRING","FALSE",113],"]",";",["T_WHITESPACE","\n\n    ",113],["T_COMMENT","\/\/ Case 5: Mismatching user IDs should also be ignored.\n",115],["T_WHITESPACE","    ",116],["T_VARIABLE","$account",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getMock",116],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\user\\UserInterface'",116],")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$account",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","expects",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","once",117],"(",")",")",["T_WHITESPACE","\n      ",117],["T_OBJECT_OPERATOR","->",118],["T_STRING","method",118],"(",["T_CONSTANT_ENCAPSED_STRING","'isNew'",118],")",["T_WHITESPACE","\n      ",118],["T_OBJECT_OPERATOR","->",119],["T_STRING","willReturn",119],"(",["T_STRING","FALSE",119],")",";",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$account",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","expects",120],"(",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","once",120],"(",")",")",["T_WHITESPACE","\n      ",120],["T_OBJECT_OPERATOR","->",121],["T_STRING","method",121],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",121],")",["T_WHITESPACE","\n      ",121],["T_OBJECT_OPERATOR","->",122],["T_STRING","willReturn",122],"(",["T_CONSTANT_ENCAPSED_STRING","'not-current-user'",122],")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$items",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getMock",123],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Field\\FieldItemListInterface'",123],")",";",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$items",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","expects",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","once",124],"(",")",")",["T_WHITESPACE","\n      ",124],["T_OBJECT_OPERATOR","->",125],["T_STRING","method",125],"(",["T_CONSTANT_ENCAPSED_STRING","'getFieldDefinition'",125],")",["T_WHITESPACE","\n      ",125],["T_OBJECT_OPERATOR","->",126],["T_STRING","willReturn",126],"(",["T_VARIABLE","$field_definition",126],")",";",["T_WHITESPACE","\n    ",126],["T_VARIABLE","$items",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","expects",127],"(",["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","once",127],"(",")",")",["T_WHITESPACE","\n      ",127],["T_OBJECT_OPERATOR","->",128],["T_STRING","method",128],"(",["T_CONSTANT_ENCAPSED_STRING","'getEntity'",128],")",["T_WHITESPACE","\n      ",128],["T_OBJECT_OPERATOR","->",129],["T_STRING","willReturn",129],"(",["T_VARIABLE","$account",129],")",";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$cases",130],"[","]",["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],"[",["T_VARIABLE","$items",130],",",["T_WHITESPACE"," ",130],["T_STRING","FALSE",130],"]",";",["T_WHITESPACE","\n\n    ",130],["T_COMMENT","\/\/ Case 6: Non-password fields that have not changed should be ignored.\n",132],["T_WHITESPACE","    ",133],["T_VARIABLE","$field_definition",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getMock",133],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Field\\FieldDefinitionInterface'",133],")",";",["T_WHITESPACE","\n    ",133],["T_VARIABLE","$field_definition",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","expects",134],"(",["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","exactly",134],"(",["T_LNUMBER","2",134],")",")",["T_WHITESPACE","\n      ",134],["T_OBJECT_OPERATOR","->",135],["T_STRING","method",135],"(",["T_CONSTANT_ENCAPSED_STRING","'getName'",135],")",["T_WHITESPACE","\n      ",135],["T_OBJECT_OPERATOR","->",136],["T_STRING","willReturn",136],"(",["T_CONSTANT_ENCAPSED_STRING","'field_not_password'",136],")",";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$account",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getMock",137],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\user\\UserInterface'",137],")",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$account",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","expects",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","once",138],"(",")",")",["T_WHITESPACE","\n      ",138],["T_OBJECT_OPERATOR","->",139],["T_STRING","method",139],"(",["T_CONSTANT_ENCAPSED_STRING","'isNew'",139],")",["T_WHITESPACE","\n      ",139],["T_OBJECT_OPERATOR","->",140],["T_STRING","willReturn",140],"(",["T_STRING","FALSE",140],")",";",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$account",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","expects",141],"(",["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","exactly",141],"(",["T_LNUMBER","2",141],")",")",["T_WHITESPACE","\n      ",141],["T_OBJECT_OPERATOR","->",142],["T_STRING","method",142],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",142],")",["T_WHITESPACE","\n      ",142],["T_OBJECT_OPERATOR","->",143],["T_STRING","willReturn",143],"(",["T_CONSTANT_ENCAPSED_STRING","'current-user'",143],")",";",["T_WHITESPACE","\n    ",143],["T_VARIABLE","$account",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","expects",144],"(",["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","never",144],"(",")",")",["T_WHITESPACE","\n      ",144],["T_OBJECT_OPERATOR","->",145],["T_STRING","method",145],"(",["T_CONSTANT_ENCAPSED_STRING","'checkExistingPassword'",145],")",";",["T_WHITESPACE","\n    ",145],["T_VARIABLE","$items",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getMock",146],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Field\\FieldItemListInterface'",146],")",";",["T_WHITESPACE","\n    ",146],["T_VARIABLE","$items",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","expects",147],"(",["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","once",147],"(",")",")",["T_WHITESPACE","\n      ",147],["T_OBJECT_OPERATOR","->",148],["T_STRING","method",148],"(",["T_CONSTANT_ENCAPSED_STRING","'getFieldDefinition'",148],")",["T_WHITESPACE","\n      ",148],["T_OBJECT_OPERATOR","->",149],["T_STRING","willReturn",149],"(",["T_VARIABLE","$field_definition",149],")",";",["T_WHITESPACE","\n    ",149],["T_VARIABLE","$items",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","expects",150],"(",["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","once",150],"(",")",")",["T_WHITESPACE","\n      ",150],["T_OBJECT_OPERATOR","->",151],["T_STRING","method",151],"(",["T_CONSTANT_ENCAPSED_STRING","'getEntity'",151],")",["T_WHITESPACE","\n      ",151],["T_OBJECT_OPERATOR","->",152],["T_STRING","willReturn",152],"(",["T_VARIABLE","$account",152],")",";",["T_WHITESPACE","\n    ",152],["T_VARIABLE","$items",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","expects",153],"(",["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","once",153],"(",")",")",["T_WHITESPACE","\n      ",153],["T_OBJECT_OPERATOR","->",154],["T_STRING","method",154],"(",["T_CONSTANT_ENCAPSED_STRING","'getValue'",154],")",["T_WHITESPACE","\n      ",154],["T_OBJECT_OPERATOR","->",155],["T_STRING","willReturn",155],"(",["T_CONSTANT_ENCAPSED_STRING","'unchanged-value'",155],")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$cases",156],"[","]",["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],"[",["T_VARIABLE","$items",156],",",["T_WHITESPACE"," ",156],["T_STRING","FALSE",156],"]",";",["T_WHITESPACE","\n\n    ",156],["T_COMMENT","\/\/ Case 7: Password field with no value set should be ignored.\n",158],["T_WHITESPACE","    ",159],["T_VARIABLE","$field_definition",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getMock",159],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Field\\FieldDefinitionInterface'",159],")",";",["T_WHITESPACE","\n    ",159],["T_VARIABLE","$field_definition",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","expects",160],"(",["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","once",160],"(",")",")",["T_WHITESPACE","\n      ",160],["T_OBJECT_OPERATOR","->",161],["T_STRING","method",161],"(",["T_CONSTANT_ENCAPSED_STRING","'getName'",161],")",["T_WHITESPACE","\n      ",161],["T_OBJECT_OPERATOR","->",162],["T_STRING","willReturn",162],"(",["T_CONSTANT_ENCAPSED_STRING","'pass'",162],")",";",["T_WHITESPACE","\n    ",162],["T_VARIABLE","$account",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getMock",163],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\user\\UserInterface'",163],")",";",["T_WHITESPACE","\n    ",163],["T_VARIABLE","$account",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","expects",164],"(",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","once",164],"(",")",")",["T_WHITESPACE","\n      ",164],["T_OBJECT_OPERATOR","->",165],["T_STRING","method",165],"(",["T_CONSTANT_ENCAPSED_STRING","'isNew'",165],")",["T_WHITESPACE","\n      ",165],["T_OBJECT_OPERATOR","->",166],["T_STRING","willReturn",166],"(",["T_STRING","FALSE",166],")",";",["T_WHITESPACE","\n    ",166],["T_VARIABLE","$account",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","expects",167],"(",["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","exactly",167],"(",["T_LNUMBER","2",167],")",")",["T_WHITESPACE","\n      ",167],["T_OBJECT_OPERATOR","->",168],["T_STRING","method",168],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",168],")",["T_WHITESPACE","\n      ",168],["T_OBJECT_OPERATOR","->",169],["T_STRING","willReturn",169],"(",["T_CONSTANT_ENCAPSED_STRING","'current-user'",169],")",";",["T_WHITESPACE","\n    ",169],["T_VARIABLE","$account",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","expects",170],"(",["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","never",170],"(",")",")",["T_WHITESPACE","\n      ",170],["T_OBJECT_OPERATOR","->",171],["T_STRING","method",171],"(",["T_CONSTANT_ENCAPSED_STRING","'checkExistingPassword'",171],")",";",["T_WHITESPACE","\n    ",171],["T_VARIABLE","$items",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getMock",172],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Field\\FieldItemListInterface'",172],")",";",["T_WHITESPACE","\n    ",172],["T_VARIABLE","$items",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","expects",173],"(",["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","once",173],"(",")",")",["T_WHITESPACE","\n      ",173],["T_OBJECT_OPERATOR","->",174],["T_STRING","method",174],"(",["T_CONSTANT_ENCAPSED_STRING","'getFieldDefinition'",174],")",["T_WHITESPACE","\n      ",174],["T_OBJECT_OPERATOR","->",175],["T_STRING","willReturn",175],"(",["T_VARIABLE","$field_definition",175],")",";",["T_WHITESPACE","\n    ",175],["T_VARIABLE","$items",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","expects",176],"(",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","once",176],"(",")",")",["T_WHITESPACE","\n      ",176],["T_OBJECT_OPERATOR","->",177],["T_STRING","method",177],"(",["T_CONSTANT_ENCAPSED_STRING","'getEntity'",177],")",["T_WHITESPACE","\n      ",177],["T_OBJECT_OPERATOR","->",178],["T_STRING","willReturn",178],"(",["T_VARIABLE","$account",178],")",";",["T_WHITESPACE","\n    ",178],["T_VARIABLE","$cases",179],"[","]",["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],"[",["T_VARIABLE","$items",179],",",["T_WHITESPACE"," ",179],["T_STRING","FALSE",179],"]",";",["T_WHITESPACE","\n\n    ",179],["T_COMMENT","\/\/ Case 8: Non-password field changed, but user has passed provided current\n",181],["T_WHITESPACE","    ",182],["T_COMMENT","\/\/ password.\n",182],["T_WHITESPACE","    ",183],["T_VARIABLE","$field_definition",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getMock",183],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Field\\FieldDefinitionInterface'",183],")",";",["T_WHITESPACE","\n    ",183],["T_VARIABLE","$field_definition",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","expects",184],"(",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","exactly",184],"(",["T_LNUMBER","2",184],")",")",["T_WHITESPACE","\n      ",184],["T_OBJECT_OPERATOR","->",185],["T_STRING","method",185],"(",["T_CONSTANT_ENCAPSED_STRING","'getName'",185],")",["T_WHITESPACE","\n      ",185],["T_OBJECT_OPERATOR","->",186],["T_STRING","willReturn",186],"(",["T_CONSTANT_ENCAPSED_STRING","'field_not_password'",186],")",";",["T_WHITESPACE","\n    ",186],["T_VARIABLE","$account",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getMock",187],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\user\\UserInterface'",187],")",";",["T_WHITESPACE","\n    ",187],["T_VARIABLE","$account",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","expects",188],"(",["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","once",188],"(",")",")",["T_WHITESPACE","\n      ",188],["T_OBJECT_OPERATOR","->",189],["T_STRING","method",189],"(",["T_CONSTANT_ENCAPSED_STRING","'isNew'",189],")",["T_WHITESPACE","\n      ",189],["T_OBJECT_OPERATOR","->",190],["T_STRING","willReturn",190],"(",["T_STRING","FALSE",190],")",";",["T_WHITESPACE","\n    ",190],["T_VARIABLE","$account",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","expects",191],"(",["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","exactly",191],"(",["T_LNUMBER","2",191],")",")",["T_WHITESPACE","\n      ",191],["T_OBJECT_OPERATOR","->",192],["T_STRING","method",192],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",192],")",["T_WHITESPACE","\n      ",192],["T_OBJECT_OPERATOR","->",193],["T_STRING","willReturn",193],"(",["T_CONSTANT_ENCAPSED_STRING","'current-user'",193],")",";",["T_WHITESPACE","\n    ",193],["T_VARIABLE","$account",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","expects",194],"(",["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","once",194],"(",")",")",["T_WHITESPACE","\n      ",194],["T_OBJECT_OPERATOR","->",195],["T_STRING","method",195],"(",["T_CONSTANT_ENCAPSED_STRING","'checkExistingPassword'",195],")",["T_WHITESPACE","\n      ",195],["T_OBJECT_OPERATOR","->",196],["T_STRING","willReturn",196],"(",["T_STRING","TRUE",196],")",";",["T_WHITESPACE","\n    ",196],["T_VARIABLE","$items",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getMock",197],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Field\\FieldItemListInterface'",197],")",";",["T_WHITESPACE","\n    ",197],["T_VARIABLE","$items",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","expects",198],"(",["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","once",198],"(",")",")",["T_WHITESPACE","\n      ",198],["T_OBJECT_OPERATOR","->",199],["T_STRING","method",199],"(",["T_CONSTANT_ENCAPSED_STRING","'getFieldDefinition'",199],")",["T_WHITESPACE","\n      ",199],["T_OBJECT_OPERATOR","->",200],["T_STRING","willReturn",200],"(",["T_VARIABLE","$field_definition",200],")",";",["T_WHITESPACE","\n    ",200],["T_VARIABLE","$items",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","expects",201],"(",["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","once",201],"(",")",")",["T_WHITESPACE","\n      ",201],["T_OBJECT_OPERATOR","->",202],["T_STRING","method",202],"(",["T_CONSTANT_ENCAPSED_STRING","'getEntity'",202],")",["T_WHITESPACE","\n      ",202],["T_OBJECT_OPERATOR","->",203],["T_STRING","willReturn",203],"(",["T_VARIABLE","$account",203],")",";",["T_WHITESPACE","\n    ",203],["T_VARIABLE","$items",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","expects",204],"(",["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","once",204],"(",")",")",["T_WHITESPACE","\n      ",204],["T_OBJECT_OPERATOR","->",205],["T_STRING","method",205],"(",["T_CONSTANT_ENCAPSED_STRING","'getValue'",205],")",["T_WHITESPACE","\n      ",205],["T_OBJECT_OPERATOR","->",206],["T_STRING","willReturn",206],"(",["T_CONSTANT_ENCAPSED_STRING","'changed-value'",206],")",";",["T_WHITESPACE","\n    ",206],["T_VARIABLE","$cases",207],"[","]",["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],"[",["T_VARIABLE","$items",207],",",["T_WHITESPACE"," ",207],["T_STRING","FALSE",207],"]",";",["T_WHITESPACE","\n\n    ",207],["T_COMMENT","\/\/ Case 9: Password field changed, current password confirmed.\n",209],["T_WHITESPACE","    ",210],["T_VARIABLE","$field_definition",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getMock",210],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Field\\FieldDefinitionInterface'",210],")",";",["T_WHITESPACE","\n    ",210],["T_VARIABLE","$field_definition",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","expects",211],"(",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","exactly",211],"(",["T_LNUMBER","2",211],")",")",["T_WHITESPACE","\n      ",211],["T_OBJECT_OPERATOR","->",212],["T_STRING","method",212],"(",["T_CONSTANT_ENCAPSED_STRING","'getName'",212],")",["T_WHITESPACE","\n      ",212],["T_OBJECT_OPERATOR","->",213],["T_STRING","willReturn",213],"(",["T_CONSTANT_ENCAPSED_STRING","'pass'",213],")",";",["T_WHITESPACE","\n    ",213],["T_VARIABLE","$account",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getMock",214],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\user\\UserInterface'",214],")",";",["T_WHITESPACE","\n    ",214],["T_VARIABLE","$account",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","expects",215],"(",["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","once",215],"(",")",")",["T_WHITESPACE","\n      ",215],["T_OBJECT_OPERATOR","->",216],["T_STRING","method",216],"(",["T_CONSTANT_ENCAPSED_STRING","'isNew'",216],")",["T_WHITESPACE","\n      ",216],["T_OBJECT_OPERATOR","->",217],["T_STRING","willReturn",217],"(",["T_STRING","FALSE",217],")",";",["T_WHITESPACE","\n    ",217],["T_VARIABLE","$account",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","expects",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","exactly",218],"(",["T_LNUMBER","2",218],")",")",["T_WHITESPACE","\n      ",218],["T_OBJECT_OPERATOR","->",219],["T_STRING","method",219],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",219],")",["T_WHITESPACE","\n      ",219],["T_OBJECT_OPERATOR","->",220],["T_STRING","willReturn",220],"(",["T_CONSTANT_ENCAPSED_STRING","'current-user'",220],")",";",["T_WHITESPACE","\n    ",220],["T_VARIABLE","$account",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","expects",221],"(",["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","once",221],"(",")",")",["T_WHITESPACE","\n      ",221],["T_OBJECT_OPERATOR","->",222],["T_STRING","method",222],"(",["T_CONSTANT_ENCAPSED_STRING","'checkExistingPassword'",222],")",["T_WHITESPACE","\n      ",222],["T_OBJECT_OPERATOR","->",223],["T_STRING","willReturn",223],"(",["T_STRING","TRUE",223],")",";",["T_WHITESPACE","\n    ",223],["T_VARIABLE","$items",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getMock",224],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Field\\FieldItemListInterface'",224],")",";",["T_WHITESPACE","\n    ",224],["T_VARIABLE","$items",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","expects",225],"(",["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","once",225],"(",")",")",["T_WHITESPACE","\n      ",225],["T_OBJECT_OPERATOR","->",226],["T_STRING","method",226],"(",["T_CONSTANT_ENCAPSED_STRING","'getFieldDefinition'",226],")",["T_WHITESPACE","\n      ",226],["T_OBJECT_OPERATOR","->",227],["T_STRING","willReturn",227],"(",["T_VARIABLE","$field_definition",227],")",";",["T_WHITESPACE","\n    ",227],["T_VARIABLE","$items",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","expects",228],"(",["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","once",228],"(",")",")",["T_WHITESPACE","\n      ",228],["T_OBJECT_OPERATOR","->",229],["T_STRING","method",229],"(",["T_CONSTANT_ENCAPSED_STRING","'getEntity'",229],")",["T_WHITESPACE","\n      ",229],["T_OBJECT_OPERATOR","->",230],["T_STRING","willReturn",230],"(",["T_VARIABLE","$account",230],")",";",["T_WHITESPACE","\n    ",230],["T_VARIABLE","$items",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","expects",231],"(",["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","any",231],"(",")",")",["T_WHITESPACE","\n      ",231],["T_OBJECT_OPERATOR","->",232],["T_STRING","method",232],"(",["T_CONSTANT_ENCAPSED_STRING","'getValue'",232],")",["T_WHITESPACE","\n      ",232],["T_OBJECT_OPERATOR","->",233],["T_STRING","willReturn",233],"(",["T_CONSTANT_ENCAPSED_STRING","'changed-value'",233],")",";",["T_WHITESPACE","\n    ",233],["T_VARIABLE","$items",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","expects",234],"(",["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","once",234],"(",")",")",["T_WHITESPACE","\n      ",234],["T_OBJECT_OPERATOR","->",235],["T_STRING","method",235],"(",["T_CONSTANT_ENCAPSED_STRING","'__get'",235],")",["T_WHITESPACE","\n      ",235],["T_OBJECT_OPERATOR","->",236],["T_STRING","with",236],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",236],")",["T_WHITESPACE","\n      ",236],["T_OBJECT_OPERATOR","->",237],["T_STRING","willReturn",237],"(",["T_CONSTANT_ENCAPSED_STRING","'changed-value'",237],")",";",["T_WHITESPACE","\n    ",237],["T_VARIABLE","$cases",238],"[","]",["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],"[",["T_VARIABLE","$items",238],",",["T_WHITESPACE"," ",238],["T_STRING","FALSE",238],"]",";",["T_WHITESPACE","\n\n    ",238],["T_COMMENT","\/\/ The below calls should result in a violation.\n",240],["T_WHITESPACE","\n    ",241],["T_COMMENT","\/\/ Case 10: Password field changed, current password not confirmed.\n",242],["T_WHITESPACE","    ",243],["T_VARIABLE","$field_definition",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","getMock",243],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Field\\FieldDefinitionInterface'",243],")",";",["T_WHITESPACE","\n    ",243],["T_VARIABLE","$field_definition",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","expects",244],"(",["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","exactly",244],"(",["T_LNUMBER","2",244],")",")",["T_WHITESPACE","\n      ",244],["T_OBJECT_OPERATOR","->",245],["T_STRING","method",245],"(",["T_CONSTANT_ENCAPSED_STRING","'getName'",245],")",["T_WHITESPACE","\n      ",245],["T_OBJECT_OPERATOR","->",246],["T_STRING","willReturn",246],"(",["T_CONSTANT_ENCAPSED_STRING","'pass'",246],")",";",["T_WHITESPACE","\n    ",246],["T_VARIABLE","$field_definition",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","expects",247],"(",["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","any",247],"(",")",")",["T_WHITESPACE","\n      ",247],["T_OBJECT_OPERATOR","->",248],["T_STRING","method",248],"(",["T_CONSTANT_ENCAPSED_STRING","'getLabel'",248],")",["T_WHITESPACE","\n      ",248],["T_OBJECT_OPERATOR","->",249],["T_STRING","willReturn",249],"(",["T_CONSTANT_ENCAPSED_STRING","'Password'",249],")",";",["T_WHITESPACE","\n    ",249],["T_VARIABLE","$account",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","getMock",250],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\user\\UserInterface'",250],")",";",["T_WHITESPACE","\n    ",250],["T_VARIABLE","$account",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","expects",251],"(",["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","once",251],"(",")",")",["T_WHITESPACE","\n      ",251],["T_OBJECT_OPERATOR","->",252],["T_STRING","method",252],"(",["T_CONSTANT_ENCAPSED_STRING","'isNew'",252],")",["T_WHITESPACE","\n      ",252],["T_OBJECT_OPERATOR","->",253],["T_STRING","willReturn",253],"(",["T_STRING","FALSE",253],")",";",["T_WHITESPACE","\n    ",253],["T_VARIABLE","$account",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","expects",254],"(",["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","exactly",254],"(",["T_LNUMBER","2",254],")",")",["T_WHITESPACE","\n      ",254],["T_OBJECT_OPERATOR","->",255],["T_STRING","method",255],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",255],")",["T_WHITESPACE","\n      ",255],["T_OBJECT_OPERATOR","->",256],["T_STRING","willReturn",256],"(",["T_CONSTANT_ENCAPSED_STRING","'current-user'",256],")",";",["T_WHITESPACE","\n    ",256],["T_VARIABLE","$account",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","expects",257],"(",["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","once",257],"(",")",")",["T_WHITESPACE","\n      ",257],["T_OBJECT_OPERATOR","->",258],["T_STRING","method",258],"(",["T_CONSTANT_ENCAPSED_STRING","'checkExistingPassword'",258],")",["T_WHITESPACE","\n      ",258],["T_OBJECT_OPERATOR","->",259],["T_STRING","willReturn",259],"(",["T_STRING","FALSE",259],")",";",["T_WHITESPACE","\n    ",259],["T_VARIABLE","$items",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getMock",260],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Field\\FieldItemListInterface'",260],")",";",["T_WHITESPACE","\n    ",260],["T_VARIABLE","$items",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","expects",261],"(",["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","once",261],"(",")",")",["T_WHITESPACE","\n      ",261],["T_OBJECT_OPERATOR","->",262],["T_STRING","method",262],"(",["T_CONSTANT_ENCAPSED_STRING","'getFieldDefinition'",262],")",["T_WHITESPACE","\n      ",262],["T_OBJECT_OPERATOR","->",263],["T_STRING","willReturn",263],"(",["T_VARIABLE","$field_definition",263],")",";",["T_WHITESPACE","\n    ",263],["T_VARIABLE","$items",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","expects",264],"(",["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","once",264],"(",")",")",["T_WHITESPACE","\n      ",264],["T_OBJECT_OPERATOR","->",265],["T_STRING","method",265],"(",["T_CONSTANT_ENCAPSED_STRING","'getEntity'",265],")",["T_WHITESPACE","\n      ",265],["T_OBJECT_OPERATOR","->",266],["T_STRING","willReturn",266],"(",["T_VARIABLE","$account",266],")",";",["T_WHITESPACE","\n    ",266],["T_VARIABLE","$items",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","expects",267],"(",["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","once",267],"(",")",")",["T_WHITESPACE","\n      ",267],["T_OBJECT_OPERATOR","->",268],["T_STRING","method",268],"(",["T_CONSTANT_ENCAPSED_STRING","'getValue'",268],")",["T_WHITESPACE","\n      ",268],["T_OBJECT_OPERATOR","->",269],["T_STRING","willReturn",269],"(",["T_CONSTANT_ENCAPSED_STRING","'changed-value'",269],")",";",["T_WHITESPACE","\n    ",269],["T_VARIABLE","$items",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","expects",270],"(",["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","once",270],"(",")",")",["T_WHITESPACE","\n      ",270],["T_OBJECT_OPERATOR","->",271],["T_STRING","method",271],"(",["T_CONSTANT_ENCAPSED_STRING","'__get'",271],")",["T_WHITESPACE","\n      ",271],["T_OBJECT_OPERATOR","->",272],["T_STRING","with",272],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",272],")",["T_WHITESPACE","\n      ",272],["T_OBJECT_OPERATOR","->",273],["T_STRING","willReturn",273],"(",["T_CONSTANT_ENCAPSED_STRING","'changed-value'",273],")",";",["T_WHITESPACE","\n    ",273],["T_VARIABLE","$cases",274],"[","]",["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],"[",["T_VARIABLE","$items",274],",",["T_WHITESPACE"," ",274],["T_STRING","TRUE",274],",",["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'Password'",274],"]",";",["T_WHITESPACE","\n\n    ",274],["T_COMMENT","\/\/ Case 11: Non-password field changed, current password not confirmed.\n",276],["T_WHITESPACE","    ",277],["T_VARIABLE","$field_definition",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","getMock",277],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Field\\FieldDefinitionInterface'",277],")",";",["T_WHITESPACE","\n    ",277],["T_VARIABLE","$field_definition",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","expects",278],"(",["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","exactly",278],"(",["T_LNUMBER","2",278],")",")",["T_WHITESPACE","\n      ",278],["T_OBJECT_OPERATOR","->",279],["T_STRING","method",279],"(",["T_CONSTANT_ENCAPSED_STRING","'getName'",279],")",["T_WHITESPACE","\n      ",279],["T_OBJECT_OPERATOR","->",280],["T_STRING","willReturn",280],"(",["T_CONSTANT_ENCAPSED_STRING","'field_not_password'",280],")",";",["T_WHITESPACE","\n    ",280],["T_VARIABLE","$field_definition",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","expects",281],"(",["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","any",281],"(",")",")",["T_WHITESPACE","\n      ",281],["T_OBJECT_OPERATOR","->",282],["T_STRING","method",282],"(",["T_CONSTANT_ENCAPSED_STRING","'getLabel'",282],")",["T_WHITESPACE","\n      ",282],["T_OBJECT_OPERATOR","->",283],["T_STRING","willReturn",283],"(",["T_CONSTANT_ENCAPSED_STRING","'Protected field'",283],")",";",["T_WHITESPACE","\n    ",283],["T_VARIABLE","$account",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","getMock",284],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\user\\UserInterface'",284],")",";",["T_WHITESPACE","\n    ",284],["T_VARIABLE","$account",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","expects",285],"(",["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","once",285],"(",")",")",["T_WHITESPACE","\n      ",285],["T_OBJECT_OPERATOR","->",286],["T_STRING","method",286],"(",["T_CONSTANT_ENCAPSED_STRING","'isNew'",286],")",["T_WHITESPACE","\n      ",286],["T_OBJECT_OPERATOR","->",287],["T_STRING","willReturn",287],"(",["T_STRING","FALSE",287],")",";",["T_WHITESPACE","\n    ",287],["T_VARIABLE","$account",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","expects",288],"(",["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","exactly",288],"(",["T_LNUMBER","2",288],")",")",["T_WHITESPACE","\n      ",288],["T_OBJECT_OPERATOR","->",289],["T_STRING","method",289],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",289],")",["T_WHITESPACE","\n      ",289],["T_OBJECT_OPERATOR","->",290],["T_STRING","willReturn",290],"(",["T_CONSTANT_ENCAPSED_STRING","'current-user'",290],")",";",["T_WHITESPACE","\n    ",290],["T_VARIABLE","$account",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","expects",291],"(",["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","once",291],"(",")",")",["T_WHITESPACE","\n      ",291],["T_OBJECT_OPERATOR","->",292],["T_STRING","method",292],"(",["T_CONSTANT_ENCAPSED_STRING","'checkExistingPassword'",292],")",["T_WHITESPACE","\n      ",292],["T_OBJECT_OPERATOR","->",293],["T_STRING","willReturn",293],"(",["T_STRING","FALSE",293],")",";",["T_WHITESPACE","\n    ",293],["T_VARIABLE","$items",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","getMock",294],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Field\\FieldItemListInterface'",294],")",";",["T_WHITESPACE","\n    ",294],["T_VARIABLE","$items",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","expects",295],"(",["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","once",295],"(",")",")",["T_WHITESPACE","\n      ",295],["T_OBJECT_OPERATOR","->",296],["T_STRING","method",296],"(",["T_CONSTANT_ENCAPSED_STRING","'getFieldDefinition'",296],")",["T_WHITESPACE","\n      ",296],["T_OBJECT_OPERATOR","->",297],["T_STRING","willReturn",297],"(",["T_VARIABLE","$field_definition",297],")",";",["T_WHITESPACE","\n    ",297],["T_VARIABLE","$items",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","expects",298],"(",["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","once",298],"(",")",")",["T_WHITESPACE","\n      ",298],["T_OBJECT_OPERATOR","->",299],["T_STRING","method",299],"(",["T_CONSTANT_ENCAPSED_STRING","'getEntity'",299],")",["T_WHITESPACE","\n      ",299],["T_OBJECT_OPERATOR","->",300],["T_STRING","willReturn",300],"(",["T_VARIABLE","$account",300],")",";",["T_WHITESPACE","\n    ",300],["T_VARIABLE","$items",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","expects",301],"(",["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","once",301],"(",")",")",["T_WHITESPACE","\n      ",301],["T_OBJECT_OPERATOR","->",302],["T_STRING","method",302],"(",["T_CONSTANT_ENCAPSED_STRING","'getValue'",302],")",["T_WHITESPACE","\n      ",302],["T_OBJECT_OPERATOR","->",303],["T_STRING","willReturn",303],"(",["T_CONSTANT_ENCAPSED_STRING","'changed-value'",303],")",";",["T_WHITESPACE","\n    ",303],["T_VARIABLE","$cases",304],"[","]",["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],"[",["T_VARIABLE","$items",304],",",["T_WHITESPACE"," ",304],["T_STRING","TRUE",304],",",["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","'Protected field'",304],"]",";",["T_WHITESPACE","\n\n    ",304],["T_RETURN","return",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$cases",306],";",["T_WHITESPACE","\n  ",306],"}",["T_WHITESPACE","\n\n",307],"}",["T_WHITESPACE","\n",309]]