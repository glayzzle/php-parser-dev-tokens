[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","user",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","KernelTests",5],["T_NS_SEPARATOR","\\",5],["T_STRING","KernelTestBase",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","user",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","User",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests the handling of user_role entity from the user module\n *\n * @group user\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","UserRoleDeleteTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","KernelTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PUBLIC","public",20],["T_WHITESPACE"," ",20],["T_STATIC","static",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$modules",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_ARRAY","array",20],"(",["T_CONSTANT_ENCAPSED_STRING","'system'",20],",",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'user'",20],",",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'field'",20],")",";",["T_WHITESPACE","\n\n  ",20],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_FUNCTION","function",22],["T_WHITESPACE"," ",22],["T_STRING","setUp",22],"(",")",["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n    ",22],["T_STRING","parent",23],["T_DOUBLE_COLON","::",23],["T_STRING","setUp",23],"(",")",";",["T_WHITESPACE","\n    ",23],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","installEntitySchema",24],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",24],")",";",["T_WHITESPACE","\n  ",24],"}",["T_WHITESPACE","\n\n  ",25],["T_DOC_COMMENT","\/**\n   * Tests removal of role references on role entity delete.\n   *\n   * @see user_user_role_delete()\n   *\/",27],["T_WHITESPACE","\n  ",31],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","testRoleDeleteUserRoleReferenceDelete",32],"(",")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n    ",32],["T_COMMENT","\/\/ Create two test roles.\n",33],["T_WHITESPACE","    ",34],["T_VARIABLE","$role_storage",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","container",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","get",34],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",34],")",["T_OBJECT_OPERATOR","->",34],["T_STRING","getStorage",34],"(",["T_CONSTANT_ENCAPSED_STRING","'user_role'",34],")",";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$role_storage",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","create",35],"(",["T_ARRAY","array",35],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'test_role_one'",35],")",")",["T_OBJECT_OPERATOR","->",35],["T_STRING","save",35],"(",")",";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$role_storage",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","create",36],"(",["T_ARRAY","array",36],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'test_role_two'",36],")",")",["T_OBJECT_OPERATOR","->",36],["T_STRING","save",36],"(",")",";",["T_WHITESPACE","\n\n    ",36],["T_COMMENT","\/\/ Create user and assign both test roles.\n",38],["T_WHITESPACE","    ",39],["T_VARIABLE","$values",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_ARRAY","array",39],"(",["T_WHITESPACE","\n      ",39],["T_CONSTANT_ENCAPSED_STRING","'uid'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_LNUMBER","1",40],",",["T_WHITESPACE","\n      ",40],["T_CONSTANT_ENCAPSED_STRING","'name'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","randomString",41],"(",")",",",["T_WHITESPACE","\n      ",41],["T_CONSTANT_ENCAPSED_STRING","'roles'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_ARRAY","array",42],"(",["T_CONSTANT_ENCAPSED_STRING","'test_role_one'",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'test_role_two'",42],")",",",["T_WHITESPACE","\n    ",42],")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$user",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_STRING","User",44],["T_DOUBLE_COLON","::",44],["T_STRING","create",44],"(",["T_VARIABLE","$values",44],")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$user",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","save",45],"(",")",";",["T_WHITESPACE","\n\n    ",45],["T_COMMENT","\/\/ Check that user has both roles.\n",47],["T_WHITESPACE","    ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","assertTrue",48],"(",["T_VARIABLE","$user",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","hasRole",48],"(",["T_CONSTANT_ENCAPSED_STRING","'test_role_one'",48],")",")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertTrue",49],"(",["T_VARIABLE","$user",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","hasRole",49],"(",["T_CONSTANT_ENCAPSED_STRING","'test_role_two'",49],")",")",";",["T_WHITESPACE","\n\n    ",49],["T_COMMENT","\/\/ Delete test role one.\n",51],["T_WHITESPACE","    ",52],["T_VARIABLE","$test_role_one",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$role_storage",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","load",52],"(",["T_CONSTANT_ENCAPSED_STRING","'test_role_one'",52],")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$test_role_one",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","delete",53],"(",")",";",["T_WHITESPACE","\n\n    ",53],["T_COMMENT","\/\/ Load user again from the database.\n",55],["T_WHITESPACE","    ",56],["T_VARIABLE","$user",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","User",56],["T_DOUBLE_COLON","::",56],["T_STRING","load",56],"(",["T_VARIABLE","$user",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","id",56],"(",")",")",";",["T_WHITESPACE","\n\n    ",56],["T_COMMENT","\/\/ Check that user does not have role one anymore, still has role two.\n",58],["T_WHITESPACE","    ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","assertFalse",59],"(",["T_VARIABLE","$user",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","hasRole",59],"(",["T_CONSTANT_ENCAPSED_STRING","'test_role_one'",59],")",")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertTrue",60],"(",["T_VARIABLE","$user",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","hasRole",60],"(",["T_CONSTANT_ENCAPSED_STRING","'test_role_two'",60],")",")",";",["T_WHITESPACE","\n\n    ",60],["T_COMMENT","\/\/ Create new role with same name.\n",62],["T_WHITESPACE","    ",63],["T_VARIABLE","$role_storage",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","create",63],"(",["T_ARRAY","array",63],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'test_role_one'",63],")",")",["T_OBJECT_OPERATOR","->",63],["T_STRING","save",63],"(",")",";",["T_WHITESPACE","\n\n    ",63],["T_COMMENT","\/\/ Load user again from the database.\n",65],["T_WHITESPACE","    ",66],["T_VARIABLE","$user",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_STRING","User",66],["T_DOUBLE_COLON","::",66],["T_STRING","load",66],"(",["T_VARIABLE","$user",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","id",66],"(",")",")",";",["T_WHITESPACE","\n\n    ",66],["T_COMMENT","\/\/ Check that user does not have role one.\n",68],["T_WHITESPACE","    ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertFalse",69],"(",["T_VARIABLE","$user",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","hasRole",69],"(",["T_CONSTANT_ENCAPSED_STRING","'test_role_one'",69],")",")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertTrue",70],"(",["T_VARIABLE","$user",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","hasRole",70],"(",["T_CONSTANT_ENCAPSED_STRING","'test_role_two'",70],")",")",";",["T_WHITESPACE","\n\n  ",70],"}",["T_WHITESPACE","\n\n",72],"}",["T_WHITESPACE","\n",74]]