[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_DOC_COMMENT","\/**\n * @file\n * Contains \\Drupal\\Tests\\user\\Unit\\PermissionHandlerTest.\n *\/",3],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Tests",8],["T_NS_SEPARATOR","\\",8],["T_STRING","user",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Unit",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Extension",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Extension",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","StringTranslation",11],["T_NS_SEPARATOR","\\",11],["T_STRING","PluralTranslatableMarkup",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","StringTranslation",12],["T_NS_SEPARATOR","\\",12],["T_STRING","TranslatableMarkup",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Core",13],["T_NS_SEPARATOR","\\",13],["T_STRING","StringTranslation",13],["T_NS_SEPARATOR","\\",13],["T_STRING","TranslationInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Drupal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Tests",14],["T_NS_SEPARATOR","\\",14],["T_STRING","UnitTestCase",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Drupal",15],["T_NS_SEPARATOR","\\",15],["T_STRING","user",15],["T_NS_SEPARATOR","\\",15],["T_STRING","PermissionHandler",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","org",16],["T_NS_SEPARATOR","\\",16],["T_STRING","bovigo",16],["T_NS_SEPARATOR","\\",16],["T_STRING","vfs",16],["T_NS_SEPARATOR","\\",16],["T_STRING","vfsStream",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","org",17],["T_NS_SEPARATOR","\\",17],["T_STRING","bovigo",17],["T_NS_SEPARATOR","\\",17],["T_STRING","vfs",17],["T_NS_SEPARATOR","\\",17],["T_STRING","vfsStreamDirectory",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","org",18],["T_NS_SEPARATOR","\\",18],["T_STRING","bovigo",18],["T_NS_SEPARATOR","\\",18],["T_STRING","vfs",18],["T_NS_SEPARATOR","\\",18],["T_STRING","vfsStreamWrapper",18],";",["T_WHITESPACE","\n\n",18],["T_DOC_COMMENT","\/**\n * Tests the permission handler.\n *\n * @group user\n *\n * @coversDefaultClass \\Drupal\\user\\PermissionHandler\n *\/",20],["T_WHITESPACE","\n",26],["T_CLASS","class",27],["T_WHITESPACE"," ",27],["T_STRING","PermissionHandlerTest",27],["T_WHITESPACE"," ",27],["T_EXTENDS","extends",27],["T_WHITESPACE"," ",27],["T_STRING","UnitTestCase",27],["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * The tested permission handler.\n   *\n   * @var \\Drupal\\Tests\\user\\Unit\\TestPermissionHandler|\\Drupal\\user\\PermissionHandler\n   *\/",29],["T_WHITESPACE","\n  ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$permissionHandler",34],";",["T_WHITESPACE","\n\n  ",34],["T_DOC_COMMENT","\/**\n   * The mocked module handler.\n   *\n   * @var \\Drupal\\Core\\Extension\\ModuleHandlerInterface|\\PHPUnit_Framework_MockObject_MockObject\n   *\/",36],["T_WHITESPACE","\n  ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$moduleHandler",41],";",["T_WHITESPACE","\n\n  ",41],["T_DOC_COMMENT","\/**\n   * The mocked string translation.\n   *\n   * @var \\Drupal\\Tests\\user\\Unit\\TestTranslationManager\n   *\/",43],["T_WHITESPACE","\n  ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$stringTranslation",48],";",["T_WHITESPACE","\n\n  ",48],["T_DOC_COMMENT","\/**\n   * The mocked controller resolver.\n   *\n   * @var \\Drupal\\Core\\Controller\\ControllerResolverInterface|\\PHPUnit_Framework_MockObject_MockObject\n   *\/",50],["T_WHITESPACE","\n  ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$controllerResolver",55],";",["T_WHITESPACE","\n\n  ",55],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",57],["T_WHITESPACE","\n  ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","setUp",60],"(",")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n    ",60],["T_STRING","parent",61],["T_DOUBLE_COLON","::",61],["T_STRING","setUp",61],"(",")",";",["T_WHITESPACE","\n\n    ",61],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","stringTranslation",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_NEW","new",63],["T_WHITESPACE"," ",63],["T_STRING","TestTranslationManager",63],"(",")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","controllerResolver",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getMock",64],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Controller\\ControllerResolverInterface'",64],")",";",["T_WHITESPACE","\n  ",64],"}",["T_WHITESPACE","\n\n  ",65],["T_DOC_COMMENT","\/**\n   * Provides an extension object for a given module with a human name.\n   *\n   * @param string $module\n   *   The module machine name.\n   * @param string $name\n   *   The module human name.\n   *\n   * @return \\Drupal\\Core\\Extension\\Extension\n   *   The extension object.\n   *\/",67],["T_WHITESPACE","\n  ",77],["T_PROTECTED","protected",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","mockModuleExtension",78],"(",["T_VARIABLE","$module",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$name",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$extension",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_NEW","new",79],["T_WHITESPACE"," ",79],["T_STRING","Extension",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","root",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$module",79],",",["T_WHITESPACE"," ",79],"\"",["T_ENCAPSED_AND_WHITESPACE","modules\/",79],["T_VARIABLE","$module",79],"\"",")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$extension",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","info",80],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",80],"]",["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$name",80],";",["T_WHITESPACE","\n    ",80],["T_RETURN","return",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$extension",81],";",["T_WHITESPACE","\n  ",81],"}",["T_WHITESPACE","\n\n  ",82],["T_DOC_COMMENT","\/**\n   * Tests permissions provided by YML files.\n   *\n   * @covers ::__construct\n   * @covers ::getPermissions\n   * @covers ::buildPermissionsYaml\n   * @covers ::moduleProvidesPermissions\n   *\/",84],["T_WHITESPACE","\n  ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","testBuildPermissionsYaml",92],"(",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n    ",92],["T_STRING","vfsStreamWrapper",93],["T_DOUBLE_COLON","::",93],["T_STRING","register",93],"(",")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$root",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_NEW","new",94],["T_WHITESPACE"," ",94],["T_STRING","vfsStreamDirectory",94],"(",["T_CONSTANT_ENCAPSED_STRING","'modules'",94],")",";",["T_WHITESPACE","\n    ",94],["T_STRING","vfsStreamWrapper",95],["T_DOUBLE_COLON","::",95],["T_STRING","setRoot",95],"(",["T_VARIABLE","$root",95],")",";",["T_WHITESPACE","\n\n    ",95],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","moduleHandler",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getMock",97],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Extension\\ModuleHandlerInterface'",97],")",";",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","moduleHandler",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","expects",98],"(",["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","once",98],"(",")",")",["T_WHITESPACE","\n      ",98],["T_OBJECT_OPERATOR","->",99],["T_STRING","method",99],"(",["T_CONSTANT_ENCAPSED_STRING","'getModuleDirectories'",99],")",["T_WHITESPACE","\n      ",99],["T_OBJECT_OPERATOR","->",100],["T_STRING","willReturn",100],"(",["T_ARRAY","array",100],"(",["T_WHITESPACE","\n        ",100],["T_CONSTANT_ENCAPSED_STRING","'module_a'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_STRING","vfsStream",101],["T_DOUBLE_COLON","::",101],["T_STRING","url",101],"(",["T_CONSTANT_ENCAPSED_STRING","'modules\/module_a'",101],")",",",["T_WHITESPACE","\n        ",101],["T_CONSTANT_ENCAPSED_STRING","'module_b'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_STRING","vfsStream",102],["T_DOUBLE_COLON","::",102],["T_STRING","url",102],"(",["T_CONSTANT_ENCAPSED_STRING","'modules\/module_b'",102],")",",",["T_WHITESPACE","\n        ",102],["T_CONSTANT_ENCAPSED_STRING","'module_c'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_STRING","vfsStream",103],["T_DOUBLE_COLON","::",103],["T_STRING","url",103],"(",["T_CONSTANT_ENCAPSED_STRING","'modules\/module_c'",103],")",",",["T_WHITESPACE","\n      ",103],")",")",";",["T_WHITESPACE","\n\n    ",104],["T_VARIABLE","$url",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","vfsStream",106],["T_DOUBLE_COLON","::",106],["T_STRING","url",106],"(",["T_CONSTANT_ENCAPSED_STRING","'modules'",106],")",";",["T_WHITESPACE","\n    ",106],["T_STRING","mkdir",107],"(",["T_VARIABLE","$url",107],["T_WHITESPACE"," ",107],".",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'\/module_a'",107],")",";",["T_WHITESPACE","\n    ",107],["T_STRING","file_put_contents",108],"(",["T_VARIABLE","$url",108],["T_WHITESPACE"," ",108],".",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'\/module_a\/module_a.permissions.yml'",108],",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","\"access_module_a: single_description\"",108],")",";",["T_WHITESPACE","\n    ",108],["T_STRING","mkdir",109],"(",["T_VARIABLE","$url",109],["T_WHITESPACE"," ",109],".",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'\/module_b'",109],")",";",["T_WHITESPACE","\n    ",109],["T_STRING","file_put_contents",110],"(",["T_VARIABLE","$url",110],["T_WHITESPACE"," ",110],".",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'\/module_b\/module_b.permissions.yml'",110],",",["T_WHITESPACE"," ",110],["T_START_HEREDOC","<<<EOF\n",110],["T_ENCAPSED_AND_WHITESPACE","'access module b':\n  title: 'Access B'\n  description: 'bla bla'\n'access module a via module b':\n  title: 'Access A via B'\n  provider: 'module_a'\n",111],["T_END_HEREDOC","EOF",117],["T_WHITESPACE","\n    ",117],")",";",["T_WHITESPACE","\n    ",118],["T_STRING","mkdir",119],"(",["T_VARIABLE","$url",119],["T_WHITESPACE"," ",119],".",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'\/module_c'",119],")",";",["T_WHITESPACE","\n    ",119],["T_STRING","file_put_contents",120],"(",["T_VARIABLE","$url",120],["T_WHITESPACE"," ",120],".",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'\/module_c\/module_c.permissions.yml'",120],",",["T_WHITESPACE"," ",120],["T_START_HEREDOC","<<<EOF\n",120],["T_ENCAPSED_AND_WHITESPACE","'access_module_c':\n  title: 'Access C'\n  description: 'bla bla'\n  'restrict access': TRUE\n",121],["T_END_HEREDOC","EOF",125],["T_WHITESPACE","\n    ",125],")",";",["T_WHITESPACE","\n    ",126],["T_VARIABLE","$modules",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_ARRAY","array",127],"(",["T_CONSTANT_ENCAPSED_STRING","'module_a'",127],",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'module_b'",127],",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'module_c'",127],")",";",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$extensions",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_ARRAY","array",128],"(",["T_WHITESPACE","\n      ",128],["T_CONSTANT_ENCAPSED_STRING","'module_a'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","mockModuleExtension",129],"(",["T_CONSTANT_ENCAPSED_STRING","'module_a'",129],",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'Module a'",129],")",",",["T_WHITESPACE","\n      ",129],["T_CONSTANT_ENCAPSED_STRING","'module_b'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","mockModuleExtension",130],"(",["T_CONSTANT_ENCAPSED_STRING","'module_b'",130],",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'Module b'",130],")",",",["T_WHITESPACE","\n      ",130],["T_CONSTANT_ENCAPSED_STRING","'module_c'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","mockModuleExtension",131],"(",["T_CONSTANT_ENCAPSED_STRING","'module_c'",131],",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'Module c'",131],")",",",["T_WHITESPACE","\n    ",131],")",";",["T_WHITESPACE","\n    ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","moduleHandler",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","expects",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","any",133],"(",")",")",["T_WHITESPACE","\n      ",133],["T_OBJECT_OPERATOR","->",134],["T_STRING","method",134],"(",["T_CONSTANT_ENCAPSED_STRING","'getImplementations'",134],")",["T_WHITESPACE","\n      ",134],["T_OBJECT_OPERATOR","->",135],["T_STRING","with",135],"(",["T_CONSTANT_ENCAPSED_STRING","'permission'",135],")",["T_WHITESPACE","\n      ",135],["T_OBJECT_OPERATOR","->",136],["T_STRING","willReturn",136],"(",["T_ARRAY","array",136],"(",")",")",";",["T_WHITESPACE","\n\n    ",136],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","moduleHandler",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","expects",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","any",138],"(",")",")",["T_WHITESPACE","\n      ",138],["T_OBJECT_OPERATOR","->",139],["T_STRING","method",139],"(",["T_CONSTANT_ENCAPSED_STRING","'getModuleList'",139],")",["T_WHITESPACE","\n      ",139],["T_OBJECT_OPERATOR","->",140],["T_STRING","willReturn",140],"(",["T_STRING","array_flip",140],"(",["T_VARIABLE","$modules",140],")",")",";",["T_WHITESPACE","\n\n    ",140],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","controllerResolver",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","expects",142],"(",["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","never",142],"(",")",")",["T_WHITESPACE","\n      ",142],["T_OBJECT_OPERATOR","->",143],["T_STRING","method",143],"(",["T_CONSTANT_ENCAPSED_STRING","'getControllerFromDefinition'",143],")",";",["T_WHITESPACE","\n\n    ",143],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","permissionHandler",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_NEW","new",145],["T_WHITESPACE"," ",145],["T_STRING","TestPermissionHandler",145],"(",["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","moduleHandler",145],",",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","stringTranslation",145],",",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","controllerResolver",145],")",";",["T_WHITESPACE","\n\n    ",145],["T_COMMENT","\/\/ Setup system_rebuild_module_data().\n",147],["T_WHITESPACE","    ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","permissionHandler",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","setSystemRebuildModuleData",148],"(",["T_VARIABLE","$extensions",148],")",";",["T_WHITESPACE","\n\n    ",148],["T_VARIABLE","$actual_permissions",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","permissionHandler",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getPermissions",150],"(",")",";",["T_WHITESPACE","\n    ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","assertPermissions",151],"(",["T_VARIABLE","$actual_permissions",151],")",";",["T_WHITESPACE","\n\n    ",151],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","assertTrue",153],"(",["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","permissionHandler",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","moduleProvidesPermissions",153],"(",["T_CONSTANT_ENCAPSED_STRING","'module_a'",153],")",")",";",["T_WHITESPACE","\n    ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","assertTrue",154],"(",["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","permissionHandler",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","moduleProvidesPermissions",154],"(",["T_CONSTANT_ENCAPSED_STRING","'module_b'",154],")",")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","assertTrue",155],"(",["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","permissionHandler",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","moduleProvidesPermissions",155],"(",["T_CONSTANT_ENCAPSED_STRING","'module_c'",155],")",")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","assertFalse",156],"(",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","permissionHandler",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","moduleProvidesPermissions",156],"(",["T_CONSTANT_ENCAPSED_STRING","'module_d'",156],")",")",";",["T_WHITESPACE","\n  ",156],"}",["T_WHITESPACE","\n\n  ",157],["T_DOC_COMMENT","\/**\n   * Tests permissions sort inside a module.\n   *\n   * @covers ::__construct\n   * @covers ::getPermissions\n   * @covers ::buildPermissionsYaml\n   * @covers ::sortPermissions\n   *\/",159],["T_WHITESPACE","\n  ",166],["T_PUBLIC","public",167],["T_WHITESPACE"," ",167],["T_FUNCTION","function",167],["T_WHITESPACE"," ",167],["T_STRING","testBuildPermissionsSortPerModule",167],"(",")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n    ",167],["T_STRING","vfsStreamWrapper",168],["T_DOUBLE_COLON","::",168],["T_STRING","register",168],"(",")",";",["T_WHITESPACE","\n    ",168],["T_VARIABLE","$root",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_NEW","new",169],["T_WHITESPACE"," ",169],["T_STRING","vfsStreamDirectory",169],"(",["T_CONSTANT_ENCAPSED_STRING","'modules'",169],")",";",["T_WHITESPACE","\n    ",169],["T_STRING","vfsStreamWrapper",170],["T_DOUBLE_COLON","::",170],["T_STRING","setRoot",170],"(",["T_VARIABLE","$root",170],")",";",["T_WHITESPACE","\n\n    ",170],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","moduleHandler",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getMock",172],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Extension\\ModuleHandlerInterface'",172],")",";",["T_WHITESPACE","\n    ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","moduleHandler",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","expects",173],"(",["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","once",173],"(",")",")",["T_WHITESPACE","\n      ",173],["T_OBJECT_OPERATOR","->",174],["T_STRING","method",174],"(",["T_CONSTANT_ENCAPSED_STRING","'getModuleDirectories'",174],")",["T_WHITESPACE","\n      ",174],["T_OBJECT_OPERATOR","->",175],["T_STRING","willReturn",175],"(","[",["T_WHITESPACE","\n        ",175],["T_CONSTANT_ENCAPSED_STRING","'module_a'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_STRING","vfsStream",176],["T_DOUBLE_COLON","::",176],["T_STRING","url",176],"(",["T_CONSTANT_ENCAPSED_STRING","'modules\/module_a'",176],")",",",["T_WHITESPACE","\n        ",176],["T_CONSTANT_ENCAPSED_STRING","'module_b'",177],["T_WHITESPACE"," ",177],["T_DOUBLE_ARROW","=>",177],["T_WHITESPACE"," ",177],["T_STRING","vfsStream",177],["T_DOUBLE_COLON","::",177],["T_STRING","url",177],"(",["T_CONSTANT_ENCAPSED_STRING","'modules\/module_b'",177],")",",",["T_WHITESPACE","\n        ",177],["T_CONSTANT_ENCAPSED_STRING","'module_c'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_STRING","vfsStream",178],["T_DOUBLE_COLON","::",178],["T_STRING","url",178],"(",["T_CONSTANT_ENCAPSED_STRING","'modules\/module_c'",178],")",",",["T_WHITESPACE","\n      ",178],"]",")",";",["T_WHITESPACE","\n    ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","moduleHandler",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","expects",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","exactly",180],"(",["T_LNUMBER","3",180],")",")",["T_WHITESPACE","\n      ",180],["T_OBJECT_OPERATOR","->",181],["T_STRING","method",181],"(",["T_CONSTANT_ENCAPSED_STRING","'getName'",181],")",["T_WHITESPACE","\n      ",181],["T_OBJECT_OPERATOR","->",182],["T_STRING","will",182],"(",["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","returnValueMap",182],"(","[",["T_WHITESPACE","\n        ",182],"[",["T_CONSTANT_ENCAPSED_STRING","'module_a'",183],",",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'Module a'",183],"]",",",["T_WHITESPACE","\n        ",183],"[",["T_CONSTANT_ENCAPSED_STRING","'module_b'",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'Module b'",184],"]",",",["T_WHITESPACE","\n        ",184],"[",["T_CONSTANT_ENCAPSED_STRING","'module_c'",185],",",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'A Module'",185],"]",",",["T_WHITESPACE","\n      ",185],"]",")",")",";",["T_WHITESPACE","\n\n    ",186],["T_VARIABLE","$url",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_STRING","vfsStream",188],["T_DOUBLE_COLON","::",188],["T_STRING","url",188],"(",["T_CONSTANT_ENCAPSED_STRING","'modules'",188],")",";",["T_WHITESPACE","\n    ",188],["T_STRING","mkdir",189],"(",["T_VARIABLE","$url",189],["T_WHITESPACE"," ",189],".",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'\/module_a'",189],")",";",["T_WHITESPACE","\n    ",189],["T_STRING","file_put_contents",190],"(",["T_VARIABLE","$url",190],["T_WHITESPACE"," ",190],".",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'\/module_a\/module_a.permissions.yml'",190],",",["T_WHITESPACE"," ",190],["T_START_HEREDOC","<<<EOF\n",190],["T_ENCAPSED_AND_WHITESPACE","access_module_a2: single_description2\naccess_module_a1: single_description1\n",191],["T_END_HEREDOC","EOF",193],["T_WHITESPACE","\n    ",193],")",";",["T_WHITESPACE","\n    ",194],["T_STRING","mkdir",195],"(",["T_VARIABLE","$url",195],["T_WHITESPACE"," ",195],".",["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","'\/module_b'",195],")",";",["T_WHITESPACE","\n    ",195],["T_STRING","file_put_contents",196],"(",["T_VARIABLE","$url",196],["T_WHITESPACE"," ",196],".",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'\/module_b\/module_b.permissions.yml'",196],",",["T_WHITESPACE","\n      ",196],["T_CONSTANT_ENCAPSED_STRING","\"access_module_a3: single_description\"",197],["T_WHITESPACE","\n    ",197],")",";",["T_WHITESPACE","\n    ",198],["T_STRING","mkdir",199],"(",["T_VARIABLE","$url",199],["T_WHITESPACE"," ",199],".",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'\/module_c'",199],")",";",["T_WHITESPACE","\n    ",199],["T_STRING","file_put_contents",200],"(",["T_VARIABLE","$url",200],["T_WHITESPACE"," ",200],".",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'\/module_c\/module_c.permissions.yml'",200],",",["T_WHITESPACE","\n      ",200],["T_CONSTANT_ENCAPSED_STRING","\"access_module_a4: single_description\"",201],["T_WHITESPACE","\n    ",201],")",";",["T_WHITESPACE","\n\n    ",202],["T_VARIABLE","$modules",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],"[",["T_CONSTANT_ENCAPSED_STRING","'module_a'",204],",",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","'module_b'",204],",",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","'module_c'",204],"]",";",["T_WHITESPACE","\n    ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","moduleHandler",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","expects",205],"(",["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","once",205],"(",")",")",["T_WHITESPACE","\n      ",205],["T_OBJECT_OPERATOR","->",206],["T_STRING","method",206],"(",["T_CONSTANT_ENCAPSED_STRING","'getModuleList'",206],")",["T_WHITESPACE","\n      ",206],["T_OBJECT_OPERATOR","->",207],["T_STRING","willReturn",207],"(",["T_STRING","array_flip",207],"(",["T_VARIABLE","$modules",207],")",")",";",["T_WHITESPACE","\n\n    ",207],["T_VARIABLE","$permissionHandler",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_NEW","new",209],["T_WHITESPACE"," ",209],["T_STRING","TestPermissionHandler",209],"(",["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","moduleHandler",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","stringTranslation",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","controllerResolver",209],")",";",["T_WHITESPACE","\n    ",209],["T_VARIABLE","$actual_permissions",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$permissionHandler",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getPermissions",210],"(",")",";",["T_WHITESPACE","\n    ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","assertEquals",211],"(","[",["T_CONSTANT_ENCAPSED_STRING","'access_module_a4'",211],",",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'access_module_a1'",211],",",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'access_module_a2'",211],",",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'access_module_a3'",211],"]",",",["T_WHITESPACE","\n      ",211],["T_STRING","array_keys",212],"(",["T_VARIABLE","$actual_permissions",212],")",")",";",["T_WHITESPACE","\n  ",212],"}",["T_WHITESPACE","\n\n  ",213],["T_DOC_COMMENT","\/**\n   * Tests dynamic callback permissions provided by YML files.\n   *\n   * @covers ::__construct\n   * @covers ::getPermissions\n   * @covers ::buildPermissionsYaml\n   *\/",215],["T_WHITESPACE","\n  ",221],["T_PUBLIC","public",222],["T_WHITESPACE"," ",222],["T_FUNCTION","function",222],["T_WHITESPACE"," ",222],["T_STRING","testBuildPermissionsYamlCallback",222],"(",")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n    ",222],["T_STRING","vfsStreamWrapper",223],["T_DOUBLE_COLON","::",223],["T_STRING","register",223],"(",")",";",["T_WHITESPACE","\n    ",223],["T_VARIABLE","$root",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_NEW","new",224],["T_WHITESPACE"," ",224],["T_STRING","vfsStreamDirectory",224],"(",["T_CONSTANT_ENCAPSED_STRING","'modules'",224],")",";",["T_WHITESPACE","\n    ",224],["T_STRING","vfsStreamWrapper",225],["T_DOUBLE_COLON","::",225],["T_STRING","setRoot",225],"(",["T_VARIABLE","$root",225],")",";",["T_WHITESPACE","\n\n    ",225],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","moduleHandler",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getMock",227],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Extension\\ModuleHandlerInterface'",227],")",";",["T_WHITESPACE","\n    ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","moduleHandler",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","expects",228],"(",["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","once",228],"(",")",")",["T_WHITESPACE","\n      ",228],["T_OBJECT_OPERATOR","->",229],["T_STRING","method",229],"(",["T_CONSTANT_ENCAPSED_STRING","'getModuleDirectories'",229],")",["T_WHITESPACE","\n      ",229],["T_OBJECT_OPERATOR","->",230],["T_STRING","willReturn",230],"(",["T_ARRAY","array",230],"(",["T_WHITESPACE","\n        ",230],["T_CONSTANT_ENCAPSED_STRING","'module_a'",231],["T_WHITESPACE"," ",231],["T_DOUBLE_ARROW","=>",231],["T_WHITESPACE"," ",231],["T_STRING","vfsStream",231],["T_DOUBLE_COLON","::",231],["T_STRING","url",231],"(",["T_CONSTANT_ENCAPSED_STRING","'modules\/module_a'",231],")",",",["T_WHITESPACE","\n        ",231],["T_CONSTANT_ENCAPSED_STRING","'module_b'",232],["T_WHITESPACE"," ",232],["T_DOUBLE_ARROW","=>",232],["T_WHITESPACE"," ",232],["T_STRING","vfsStream",232],["T_DOUBLE_COLON","::",232],["T_STRING","url",232],"(",["T_CONSTANT_ENCAPSED_STRING","'modules\/module_b'",232],")",",",["T_WHITESPACE","\n        ",232],["T_CONSTANT_ENCAPSED_STRING","'module_c'",233],["T_WHITESPACE"," ",233],["T_DOUBLE_ARROW","=>",233],["T_WHITESPACE"," ",233],["T_STRING","vfsStream",233],["T_DOUBLE_COLON","::",233],["T_STRING","url",233],"(",["T_CONSTANT_ENCAPSED_STRING","'modules\/module_c'",233],")",",",["T_WHITESPACE","\n      ",233],")",")",";",["T_WHITESPACE","\n\n    ",234],["T_VARIABLE","$url",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_STRING","vfsStream",236],["T_DOUBLE_COLON","::",236],["T_STRING","url",236],"(",["T_CONSTANT_ENCAPSED_STRING","'modules'",236],")",";",["T_WHITESPACE","\n    ",236],["T_STRING","mkdir",237],"(",["T_VARIABLE","$url",237],["T_WHITESPACE"," ",237],".",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'\/module_a'",237],")",";",["T_WHITESPACE","\n    ",237],["T_STRING","file_put_contents",238],"(",["T_VARIABLE","$url",238],["T_WHITESPACE"," ",238],".",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","'\/module_a\/module_a.permissions.yml'",238],",",["T_WHITESPACE"," ",238],["T_START_HEREDOC","<<<EOF\n",238],["T_ENCAPSED_AND_WHITESPACE","permission_callbacks:\n  - 'Drupal\\\\user\\\\Tests\\\\TestPermissionCallbacks::singleDescription'\n",239],["T_END_HEREDOC","EOF",241],["T_WHITESPACE","\n    ",241],")",";",["T_WHITESPACE","\n    ",242],["T_STRING","mkdir",243],"(",["T_VARIABLE","$url",243],["T_WHITESPACE"," ",243],".",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'\/module_b'",243],")",";",["T_WHITESPACE","\n    ",243],["T_STRING","file_put_contents",244],"(",["T_VARIABLE","$url",244],["T_WHITESPACE"," ",244],".",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'\/module_b\/module_b.permissions.yml'",244],",",["T_WHITESPACE"," ",244],["T_START_HEREDOC","<<<EOF\n",244],["T_ENCAPSED_AND_WHITESPACE","permission_callbacks:\n  - 'Drupal\\\\user\\\\Tests\\\\TestPermissionCallbacks::titleDescription'\n  - 'Drupal\\\\user\\\\Tests\\\\TestPermissionCallbacks::titleProvider'\n",245],["T_END_HEREDOC","EOF",248],["T_WHITESPACE","\n    ",248],")",";",["T_WHITESPACE","\n    ",249],["T_STRING","mkdir",250],"(",["T_VARIABLE","$url",250],["T_WHITESPACE"," ",250],".",["T_WHITESPACE"," ",250],["T_CONSTANT_ENCAPSED_STRING","'\/module_c'",250],")",";",["T_WHITESPACE","\n    ",250],["T_STRING","file_put_contents",251],"(",["T_VARIABLE","$url",251],["T_WHITESPACE"," ",251],".",["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","'\/module_c\/module_c.permissions.yml'",251],",",["T_WHITESPACE"," ",251],["T_START_HEREDOC","<<<EOF\n",251],["T_ENCAPSED_AND_WHITESPACE","permission_callbacks:\n  - 'Drupal\\\\user\\\\Tests\\\\TestPermissionCallbacks::titleDescriptionRestrictAccess'\n",252],["T_END_HEREDOC","EOF",254],["T_WHITESPACE","\n    ",254],")",";",["T_WHITESPACE","\n\n    ",255],["T_VARIABLE","$modules",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_ARRAY","array",257],"(",["T_CONSTANT_ENCAPSED_STRING","'module_a'",257],",",["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'module_b'",257],",",["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'module_c'",257],")",";",["T_WHITESPACE","\n    ",257],["T_VARIABLE","$extensions",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_ARRAY","array",258],"(",["T_WHITESPACE","\n      ",258],["T_CONSTANT_ENCAPSED_STRING","'module_a'",259],["T_WHITESPACE"," ",259],["T_DOUBLE_ARROW","=>",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","mockModuleExtension",259],"(",["T_CONSTANT_ENCAPSED_STRING","'module_a'",259],",",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'Module a'",259],")",",",["T_WHITESPACE","\n      ",259],["T_CONSTANT_ENCAPSED_STRING","'module_b'",260],["T_WHITESPACE"," ",260],["T_DOUBLE_ARROW","=>",260],["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","mockModuleExtension",260],"(",["T_CONSTANT_ENCAPSED_STRING","'module_b'",260],",",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'Module b'",260],")",",",["T_WHITESPACE","\n      ",260],["T_CONSTANT_ENCAPSED_STRING","'module_c'",261],["T_WHITESPACE"," ",261],["T_DOUBLE_ARROW","=>",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","mockModuleExtension",261],"(",["T_CONSTANT_ENCAPSED_STRING","'module_c'",261],",",["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","'Module c'",261],")",",",["T_WHITESPACE","\n    ",261],")",";",["T_WHITESPACE","\n\n    ",262],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","moduleHandler",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","expects",264],"(",["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","any",264],"(",")",")",["T_WHITESPACE","\n      ",264],["T_OBJECT_OPERATOR","->",265],["T_STRING","method",265],"(",["T_CONSTANT_ENCAPSED_STRING","'getImplementations'",265],")",["T_WHITESPACE","\n      ",265],["T_OBJECT_OPERATOR","->",266],["T_STRING","with",266],"(",["T_CONSTANT_ENCAPSED_STRING","'permission'",266],")",["T_WHITESPACE","\n      ",266],["T_OBJECT_OPERATOR","->",267],["T_STRING","willReturn",267],"(",["T_ARRAY","array",267],"(",")",")",";",["T_WHITESPACE","\n\n    ",267],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","moduleHandler",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","expects",269],"(",["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","any",269],"(",")",")",["T_WHITESPACE","\n      ",269],["T_OBJECT_OPERATOR","->",270],["T_STRING","method",270],"(",["T_CONSTANT_ENCAPSED_STRING","'getModuleList'",270],")",["T_WHITESPACE","\n      ",270],["T_OBJECT_OPERATOR","->",271],["T_STRING","willReturn",271],"(",["T_STRING","array_flip",271],"(",["T_VARIABLE","$modules",271],")",")",";",["T_WHITESPACE","\n\n    ",271],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","controllerResolver",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","expects",273],"(",["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","at",273],"(",["T_LNUMBER","0",273],")",")",["T_WHITESPACE","\n      ",273],["T_OBJECT_OPERATOR","->",274],["T_STRING","method",274],"(",["T_CONSTANT_ENCAPSED_STRING","'getControllerFromDefinition'",274],")",["T_WHITESPACE","\n      ",274],["T_OBJECT_OPERATOR","->",275],["T_STRING","with",275],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\\\user\\\\Tests\\\\TestPermissionCallbacks::singleDescription'",275],")",["T_WHITESPACE","\n      ",275],["T_OBJECT_OPERATOR","->",276],["T_STRING","willReturn",276],"(",["T_ARRAY","array",276],"(",["T_NEW","new",276],["T_WHITESPACE"," ",276],["T_STRING","TestPermissionCallbacks",276],"(",")",",",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'singleDescription'",276],")",")",";",["T_WHITESPACE","\n    ",276],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","controllerResolver",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","expects",277],"(",["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","at",277],"(",["T_LNUMBER","1",277],")",")",["T_WHITESPACE","\n      ",277],["T_OBJECT_OPERATOR","->",278],["T_STRING","method",278],"(",["T_CONSTANT_ENCAPSED_STRING","'getControllerFromDefinition'",278],")",["T_WHITESPACE","\n      ",278],["T_OBJECT_OPERATOR","->",279],["T_STRING","with",279],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\\\user\\\\Tests\\\\TestPermissionCallbacks::titleDescription'",279],")",["T_WHITESPACE","\n      ",279],["T_OBJECT_OPERATOR","->",280],["T_STRING","willReturn",280],"(",["T_ARRAY","array",280],"(",["T_NEW","new",280],["T_WHITESPACE"," ",280],["T_STRING","TestPermissionCallbacks",280],"(",")",",",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'titleDescription'",280],")",")",";",["T_WHITESPACE","\n    ",280],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","controllerResolver",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","expects",281],"(",["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","at",281],"(",["T_LNUMBER","2",281],")",")",["T_WHITESPACE","\n      ",281],["T_OBJECT_OPERATOR","->",282],["T_STRING","method",282],"(",["T_CONSTANT_ENCAPSED_STRING","'getControllerFromDefinition'",282],")",["T_WHITESPACE","\n      ",282],["T_OBJECT_OPERATOR","->",283],["T_STRING","with",283],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\\\user\\\\Tests\\\\TestPermissionCallbacks::titleProvider'",283],")",["T_WHITESPACE","\n      ",283],["T_OBJECT_OPERATOR","->",284],["T_STRING","willReturn",284],"(",["T_ARRAY","array",284],"(",["T_NEW","new",284],["T_WHITESPACE"," ",284],["T_STRING","TestPermissionCallbacks",284],"(",")",",",["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'titleProvider'",284],")",")",";",["T_WHITESPACE","\n    ",284],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","controllerResolver",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","expects",285],"(",["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","at",285],"(",["T_LNUMBER","3",285],")",")",["T_WHITESPACE","\n      ",285],["T_OBJECT_OPERATOR","->",286],["T_STRING","method",286],"(",["T_CONSTANT_ENCAPSED_STRING","'getControllerFromDefinition'",286],")",["T_WHITESPACE","\n      ",286],["T_OBJECT_OPERATOR","->",287],["T_STRING","with",287],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\\\user\\\\Tests\\\\TestPermissionCallbacks::titleDescriptionRestrictAccess'",287],")",["T_WHITESPACE","\n      ",287],["T_OBJECT_OPERATOR","->",288],["T_STRING","willReturn",288],"(",["T_ARRAY","array",288],"(",["T_NEW","new",288],["T_WHITESPACE"," ",288],["T_STRING","TestPermissionCallbacks",288],"(",")",",",["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","'titleDescriptionRestrictAccess'",288],")",")",";",["T_WHITESPACE","\n\n    ",288],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","permissionHandler",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_NEW","new",290],["T_WHITESPACE"," ",290],["T_STRING","TestPermissionHandler",290],"(",["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","moduleHandler",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","stringTranslation",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","controllerResolver",290],")",";",["T_WHITESPACE","\n\n    ",290],["T_COMMENT","\/\/ Setup system_rebuild_module_data().\n",292],["T_WHITESPACE","    ",293],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","permissionHandler",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","setSystemRebuildModuleData",293],"(",["T_VARIABLE","$extensions",293],")",";",["T_WHITESPACE","\n\n    ",293],["T_VARIABLE","$actual_permissions",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","permissionHandler",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","getPermissions",295],"(",")",";",["T_WHITESPACE","\n    ",295],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","assertPermissions",296],"(",["T_VARIABLE","$actual_permissions",296],")",";",["T_WHITESPACE","\n  ",296],"}",["T_WHITESPACE","\n\n  ",297],["T_DOC_COMMENT","\/**\n   * Tests a YAML file containing both static permissions and a callback.\n   *\/",299],["T_WHITESPACE","\n  ",301],["T_PUBLIC","public",302],["T_WHITESPACE"," ",302],["T_FUNCTION","function",302],["T_WHITESPACE"," ",302],["T_STRING","testPermissionsYamlStaticAndCallback",302],"(",")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n    ",302],["T_STRING","vfsStreamWrapper",303],["T_DOUBLE_COLON","::",303],["T_STRING","register",303],"(",")",";",["T_WHITESPACE","\n    ",303],["T_VARIABLE","$root",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_NEW","new",304],["T_WHITESPACE"," ",304],["T_STRING","vfsStreamDirectory",304],"(",["T_CONSTANT_ENCAPSED_STRING","'modules'",304],")",";",["T_WHITESPACE","\n    ",304],["T_STRING","vfsStreamWrapper",305],["T_DOUBLE_COLON","::",305],["T_STRING","setRoot",305],"(",["T_VARIABLE","$root",305],")",";",["T_WHITESPACE","\n\n    ",305],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","moduleHandler",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","getMock",307],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Extension\\ModuleHandlerInterface'",307],")",";",["T_WHITESPACE","\n    ",307],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","moduleHandler",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","expects",308],"(",["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","once",308],"(",")",")",["T_WHITESPACE","\n      ",308],["T_OBJECT_OPERATOR","->",309],["T_STRING","method",309],"(",["T_CONSTANT_ENCAPSED_STRING","'getModuleDirectories'",309],")",["T_WHITESPACE","\n      ",309],["T_OBJECT_OPERATOR","->",310],["T_STRING","willReturn",310],"(",["T_ARRAY","array",310],"(",["T_WHITESPACE","\n        ",310],["T_CONSTANT_ENCAPSED_STRING","'module_a'",311],["T_WHITESPACE"," ",311],["T_DOUBLE_ARROW","=>",311],["T_WHITESPACE"," ",311],["T_STRING","vfsStream",311],["T_DOUBLE_COLON","::",311],["T_STRING","url",311],"(",["T_CONSTANT_ENCAPSED_STRING","'modules\/module_a'",311],")",",",["T_WHITESPACE","\n      ",311],")",")",";",["T_WHITESPACE","\n\n    ",312],["T_VARIABLE","$url",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_STRING","vfsStream",314],["T_DOUBLE_COLON","::",314],["T_STRING","url",314],"(",["T_CONSTANT_ENCAPSED_STRING","'modules'",314],")",";",["T_WHITESPACE","\n    ",314],["T_STRING","mkdir",315],"(",["T_VARIABLE","$url",315],["T_WHITESPACE"," ",315],".",["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","'\/module_a'",315],")",";",["T_WHITESPACE","\n    ",315],["T_STRING","file_put_contents",316],"(",["T_VARIABLE","$url",316],["T_WHITESPACE"," ",316],".",["T_WHITESPACE"," ",316],["T_CONSTANT_ENCAPSED_STRING","'\/module_a\/module_a.permissions.yml'",316],",",["T_WHITESPACE"," ",316],["T_START_HEREDOC","<<<EOF\n",316],["T_ENCAPSED_AND_WHITESPACE","'access module a':\n  title: 'Access A'\n  description: 'bla bla'\npermission_callbacks:\n  - 'Drupal\\\\user\\\\Tests\\\\TestPermissionCallbacks::titleDescription'\n",317],["T_END_HEREDOC","EOF",322],["T_WHITESPACE","\n    ",322],")",";",["T_WHITESPACE","\n\n    ",323],["T_VARIABLE","$modules",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_ARRAY","array",325],"(",["T_CONSTANT_ENCAPSED_STRING","'module_a'",325],")",";",["T_WHITESPACE","\n    ",325],["T_VARIABLE","$extensions",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_ARRAY","array",326],"(",["T_WHITESPACE","\n      ",326],["T_CONSTANT_ENCAPSED_STRING","'module_a'",327],["T_WHITESPACE"," ",327],["T_DOUBLE_ARROW","=>",327],["T_WHITESPACE"," ",327],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","mockModuleExtension",327],"(",["T_CONSTANT_ENCAPSED_STRING","'module_a'",327],",",["T_WHITESPACE"," ",327],["T_CONSTANT_ENCAPSED_STRING","'Module a'",327],")",",",["T_WHITESPACE","\n    ",327],")",";",["T_WHITESPACE","\n\n    ",328],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","moduleHandler",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","expects",330],"(",["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","any",330],"(",")",")",["T_WHITESPACE","\n      ",330],["T_OBJECT_OPERATOR","->",331],["T_STRING","method",331],"(",["T_CONSTANT_ENCAPSED_STRING","'getImplementations'",331],")",["T_WHITESPACE","\n      ",331],["T_OBJECT_OPERATOR","->",332],["T_STRING","with",332],"(",["T_CONSTANT_ENCAPSED_STRING","'permission'",332],")",["T_WHITESPACE","\n      ",332],["T_OBJECT_OPERATOR","->",333],["T_STRING","willReturn",333],"(",["T_ARRAY","array",333],"(",")",")",";",["T_WHITESPACE","\n\n    ",333],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","moduleHandler",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","expects",335],"(",["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","any",335],"(",")",")",["T_WHITESPACE","\n      ",335],["T_OBJECT_OPERATOR","->",336],["T_STRING","method",336],"(",["T_CONSTANT_ENCAPSED_STRING","'getModuleList'",336],")",["T_WHITESPACE","\n      ",336],["T_OBJECT_OPERATOR","->",337],["T_STRING","willReturn",337],"(",["T_STRING","array_flip",337],"(",["T_VARIABLE","$modules",337],")",")",";",["T_WHITESPACE","\n\n    ",337],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","controllerResolver",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","expects",339],"(",["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","once",339],"(",")",")",["T_WHITESPACE","\n      ",339],["T_OBJECT_OPERATOR","->",340],["T_STRING","method",340],"(",["T_CONSTANT_ENCAPSED_STRING","'getControllerFromDefinition'",340],")",["T_WHITESPACE","\n      ",340],["T_OBJECT_OPERATOR","->",341],["T_STRING","with",341],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\\\user\\\\Tests\\\\TestPermissionCallbacks::titleDescription'",341],")",["T_WHITESPACE","\n      ",341],["T_OBJECT_OPERATOR","->",342],["T_STRING","willReturn",342],"(",["T_ARRAY","array",342],"(",["T_NEW","new",342],["T_WHITESPACE"," ",342],["T_STRING","TestPermissionCallbacks",342],"(",")",",",["T_WHITESPACE"," ",342],["T_CONSTANT_ENCAPSED_STRING","'titleDescription'",342],")",")",";",["T_WHITESPACE","\n\n    ",342],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","permissionHandler",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_NEW","new",344],["T_WHITESPACE"," ",344],["T_STRING","TestPermissionHandler",344],"(",["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","moduleHandler",344],",",["T_WHITESPACE"," ",344],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","stringTranslation",344],",",["T_WHITESPACE"," ",344],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","controllerResolver",344],")",";",["T_WHITESPACE","\n\n    ",344],["T_COMMENT","\/\/ Setup system_rebuild_module_data().\n",346],["T_WHITESPACE","    ",347],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","permissionHandler",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","setSystemRebuildModuleData",347],"(",["T_VARIABLE","$extensions",347],")",";",["T_WHITESPACE","\n\n    ",347],["T_VARIABLE","$actual_permissions",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","permissionHandler",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","getPermissions",349],"(",")",";",["T_WHITESPACE","\n\n    ",349],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","assertCount",351],"(",["T_LNUMBER","2",351],",",["T_WHITESPACE"," ",351],["T_VARIABLE","$actual_permissions",351],")",";",["T_WHITESPACE","\n    ",351],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","assertEquals",352],"(",["T_VARIABLE","$actual_permissions",352],"[",["T_CONSTANT_ENCAPSED_STRING","'access module a'",352],"]","[",["T_CONSTANT_ENCAPSED_STRING","'title'",352],"]",",",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","'Access A'",352],")",";",["T_WHITESPACE","\n    ",352],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","assertEquals",353],"(",["T_VARIABLE","$actual_permissions",353],"[",["T_CONSTANT_ENCAPSED_STRING","'access module a'",353],"]","[",["T_CONSTANT_ENCAPSED_STRING","'provider'",353],"]",",",["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","'module_a'",353],")",";",["T_WHITESPACE","\n    ",353],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","assertEquals",354],"(",["T_VARIABLE","$actual_permissions",354],"[",["T_CONSTANT_ENCAPSED_STRING","'access module a'",354],"]","[",["T_CONSTANT_ENCAPSED_STRING","'description'",354],"]",",",["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","'bla bla'",354],")",";",["T_WHITESPACE","\n    ",354],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","assertEquals",355],"(",["T_VARIABLE","$actual_permissions",355],"[",["T_CONSTANT_ENCAPSED_STRING","'access module b'",355],"]","[",["T_CONSTANT_ENCAPSED_STRING","'title'",355],"]",",",["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","'Access B'",355],")",";",["T_WHITESPACE","\n    ",355],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","assertEquals",356],"(",["T_VARIABLE","$actual_permissions",356],"[",["T_CONSTANT_ENCAPSED_STRING","'access module b'",356],"]","[",["T_CONSTANT_ENCAPSED_STRING","'provider'",356],"]",",",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'module_a'",356],")",";",["T_WHITESPACE","\n    ",356],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","assertEquals",357],"(",["T_VARIABLE","$actual_permissions",357],"[",["T_CONSTANT_ENCAPSED_STRING","'access module b'",357],"]","[",["T_CONSTANT_ENCAPSED_STRING","'description'",357],"]",",",["T_WHITESPACE"," ",357],["T_CONSTANT_ENCAPSED_STRING","'bla bla'",357],")",";",["T_WHITESPACE","\n  ",357],"}",["T_WHITESPACE","\n\n  ",358],["T_DOC_COMMENT","\/**\n   * Checks that the permissions are like expected.\n   *\n   * @param array $actual_permissions\n   *   The actual permissions\n   *\/",360],["T_WHITESPACE","\n  ",365],["T_PROTECTED","protected",366],["T_WHITESPACE"," ",366],["T_FUNCTION","function",366],["T_WHITESPACE"," ",366],["T_STRING","assertPermissions",366],"(",["T_ARRAY","array",366],["T_WHITESPACE"," ",366],["T_VARIABLE","$actual_permissions",366],")",["T_WHITESPACE"," ",366],"{",["T_WHITESPACE","\n    ",366],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","assertCount",367],"(",["T_LNUMBER","4",367],",",["T_WHITESPACE"," ",367],["T_VARIABLE","$actual_permissions",367],")",";",["T_WHITESPACE","\n    ",367],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","assertEquals",368],"(",["T_VARIABLE","$actual_permissions",368],"[",["T_CONSTANT_ENCAPSED_STRING","'access_module_a'",368],"]","[",["T_CONSTANT_ENCAPSED_STRING","'title'",368],"]",",",["T_WHITESPACE"," ",368],["T_CONSTANT_ENCAPSED_STRING","'single_description'",368],")",";",["T_WHITESPACE","\n    ",368],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","assertEquals",369],"(",["T_VARIABLE","$actual_permissions",369],"[",["T_CONSTANT_ENCAPSED_STRING","'access_module_a'",369],"]","[",["T_CONSTANT_ENCAPSED_STRING","'provider'",369],"]",",",["T_WHITESPACE"," ",369],["T_CONSTANT_ENCAPSED_STRING","'module_a'",369],")",";",["T_WHITESPACE","\n    ",369],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","assertEquals",370],"(",["T_VARIABLE","$actual_permissions",370],"[",["T_CONSTANT_ENCAPSED_STRING","'access module b'",370],"]","[",["T_CONSTANT_ENCAPSED_STRING","'title'",370],"]",",",["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'Access B'",370],")",";",["T_WHITESPACE","\n    ",370],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","assertEquals",371],"(",["T_VARIABLE","$actual_permissions",371],"[",["T_CONSTANT_ENCAPSED_STRING","'access module b'",371],"]","[",["T_CONSTANT_ENCAPSED_STRING","'provider'",371],"]",",",["T_WHITESPACE"," ",371],["T_CONSTANT_ENCAPSED_STRING","'module_b'",371],")",";",["T_WHITESPACE","\n    ",371],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","assertEquals",372],"(",["T_VARIABLE","$actual_permissions",372],"[",["T_CONSTANT_ENCAPSED_STRING","'access_module_c'",372],"]","[",["T_CONSTANT_ENCAPSED_STRING","'title'",372],"]",",",["T_WHITESPACE"," ",372],["T_CONSTANT_ENCAPSED_STRING","'Access C'",372],")",";",["T_WHITESPACE","\n    ",372],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","assertEquals",373],"(",["T_VARIABLE","$actual_permissions",373],"[",["T_CONSTANT_ENCAPSED_STRING","'access_module_c'",373],"]","[",["T_CONSTANT_ENCAPSED_STRING","'provider'",373],"]",",",["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","'module_c'",373],")",";",["T_WHITESPACE","\n    ",373],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","assertEquals",374],"(",["T_VARIABLE","$actual_permissions",374],"[",["T_CONSTANT_ENCAPSED_STRING","'access_module_c'",374],"]","[",["T_CONSTANT_ENCAPSED_STRING","'restrict access'",374],"]",",",["T_WHITESPACE"," ",374],["T_STRING","TRUE",374],")",";",["T_WHITESPACE","\n    ",374],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","assertEquals",375],"(",["T_VARIABLE","$actual_permissions",375],"[",["T_CONSTANT_ENCAPSED_STRING","'access module a via module b'",375],"]","[",["T_CONSTANT_ENCAPSED_STRING","'provider'",375],"]",",",["T_WHITESPACE"," ",375],["T_CONSTANT_ENCAPSED_STRING","'module_a'",375],")",";",["T_WHITESPACE","\n  ",375],"}",["T_WHITESPACE","\n\n",376],"}",["T_WHITESPACE","\n\n",378],["T_CLASS","class",380],["T_WHITESPACE"," ",380],["T_STRING","TestPermissionHandler",380],["T_WHITESPACE"," ",380],["T_EXTENDS","extends",380],["T_WHITESPACE"," ",380],["T_STRING","PermissionHandler",380],["T_WHITESPACE"," ",380],"{",["T_WHITESPACE","\n\n  ",380],["T_DOC_COMMENT","\/**\n   * Test module data.\n   *\n   * @var array\n   *\/",382],["T_WHITESPACE","\n  ",386],["T_PROTECTED","protected",387],["T_WHITESPACE"," ",387],["T_VARIABLE","$systemModuleData",387],";",["T_WHITESPACE","\n\n  ",387],["T_PROTECTED","protected",389],["T_WHITESPACE"," ",389],["T_FUNCTION","function",389],["T_WHITESPACE"," ",389],["T_STRING","systemRebuildModuleData",389],"(",")",["T_WHITESPACE"," ",389],"{",["T_WHITESPACE","\n    ",389],["T_RETURN","return",390],["T_WHITESPACE"," ",390],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","systemModuleData",390],";",["T_WHITESPACE","\n  ",390],"}",["T_WHITESPACE","\n\n  ",391],["T_PUBLIC","public",393],["T_WHITESPACE"," ",393],["T_FUNCTION","function",393],["T_WHITESPACE"," ",393],["T_STRING","setSystemRebuildModuleData",393],"(",["T_ARRAY","array",393],["T_WHITESPACE"," ",393],["T_VARIABLE","$extensions",393],")",["T_WHITESPACE"," ",393],"{",["T_WHITESPACE","\n    ",393],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","systemModuleData",394],["T_WHITESPACE"," ",394],"=",["T_WHITESPACE"," ",394],["T_VARIABLE","$extensions",394],";",["T_WHITESPACE","\n  ",394],"}",["T_WHITESPACE","\n\n",395],"}",["T_WHITESPACE","\n\n",397],["T_CLASS","class",399],["T_WHITESPACE"," ",399],["T_STRING","TestPermissionCallbacks",399],["T_WHITESPACE"," ",399],"{",["T_WHITESPACE","\n\n  ",399],["T_PUBLIC","public",401],["T_WHITESPACE"," ",401],["T_FUNCTION","function",401],["T_WHITESPACE"," ",401],["T_STRING","singleDescription",401],"(",")",["T_WHITESPACE"," ",401],"{",["T_WHITESPACE","\n    ",401],["T_RETURN","return",402],["T_WHITESPACE"," ",402],["T_ARRAY","array",402],"(",["T_WHITESPACE","\n      ",402],["T_CONSTANT_ENCAPSED_STRING","'access_module_a'",403],["T_WHITESPACE"," ",403],["T_DOUBLE_ARROW","=>",403],["T_WHITESPACE"," ",403],["T_CONSTANT_ENCAPSED_STRING","'single_description'",403],["T_WHITESPACE","\n    ",403],")",";",["T_WHITESPACE","\n  ",404],"}",["T_WHITESPACE","\n\n  ",405],["T_PUBLIC","public",407],["T_WHITESPACE"," ",407],["T_FUNCTION","function",407],["T_WHITESPACE"," ",407],["T_STRING","titleDescription",407],"(",")",["T_WHITESPACE"," ",407],"{",["T_WHITESPACE","\n    ",407],["T_RETURN","return",408],["T_WHITESPACE"," ",408],["T_ARRAY","array",408],"(",["T_WHITESPACE","\n      ",408],["T_CONSTANT_ENCAPSED_STRING","'access module b'",409],["T_WHITESPACE"," ",409],["T_DOUBLE_ARROW","=>",409],["T_WHITESPACE"," ",409],["T_ARRAY","array",409],"(",["T_WHITESPACE","\n        ",409],["T_CONSTANT_ENCAPSED_STRING","'title'",410],["T_WHITESPACE"," ",410],["T_DOUBLE_ARROW","=>",410],["T_WHITESPACE"," ",410],["T_CONSTANT_ENCAPSED_STRING","'Access B'",410],",",["T_WHITESPACE","\n        ",410],["T_CONSTANT_ENCAPSED_STRING","'description'",411],["T_WHITESPACE"," ",411],["T_DOUBLE_ARROW","=>",411],["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","'bla bla'",411],",",["T_WHITESPACE","\n      ",411],")",",",["T_WHITESPACE","\n    ",412],")",";",["T_WHITESPACE","\n  ",413],"}",["T_WHITESPACE","\n\n  ",414],["T_PUBLIC","public",416],["T_WHITESPACE"," ",416],["T_FUNCTION","function",416],["T_WHITESPACE"," ",416],["T_STRING","titleDescriptionRestrictAccess",416],"(",")",["T_WHITESPACE"," ",416],"{",["T_WHITESPACE","\n    ",416],["T_RETURN","return",417],["T_WHITESPACE"," ",417],["T_ARRAY","array",417],"(",["T_WHITESPACE","\n      ",417],["T_CONSTANT_ENCAPSED_STRING","'access_module_c'",418],["T_WHITESPACE"," ",418],["T_DOUBLE_ARROW","=>",418],["T_WHITESPACE"," ",418],["T_ARRAY","array",418],"(",["T_WHITESPACE","\n        ",418],["T_CONSTANT_ENCAPSED_STRING","'title'",419],["T_WHITESPACE"," ",419],["T_DOUBLE_ARROW","=>",419],["T_WHITESPACE"," ",419],["T_CONSTANT_ENCAPSED_STRING","'Access C'",419],",",["T_WHITESPACE","\n        ",419],["T_CONSTANT_ENCAPSED_STRING","'description'",420],["T_WHITESPACE"," ",420],["T_DOUBLE_ARROW","=>",420],["T_WHITESPACE"," ",420],["T_CONSTANT_ENCAPSED_STRING","'bla bla'",420],",",["T_WHITESPACE","\n        ",420],["T_CONSTANT_ENCAPSED_STRING","'restrict access'",421],["T_WHITESPACE"," ",421],["T_DOUBLE_ARROW","=>",421],["T_WHITESPACE"," ",421],["T_STRING","TRUE",421],",",["T_WHITESPACE","\n      ",421],")",",",["T_WHITESPACE","\n    ",422],")",";",["T_WHITESPACE","\n  ",423],"}",["T_WHITESPACE","\n\n  ",424],["T_PUBLIC","public",426],["T_WHITESPACE"," ",426],["T_FUNCTION","function",426],["T_WHITESPACE"," ",426],["T_STRING","titleProvider",426],"(",")",["T_WHITESPACE"," ",426],"{",["T_WHITESPACE","\n    ",426],["T_RETURN","return",427],["T_WHITESPACE"," ",427],["T_ARRAY","array",427],"(",["T_WHITESPACE","\n      ",427],["T_CONSTANT_ENCAPSED_STRING","'access module a via module b'",428],["T_WHITESPACE"," ",428],["T_DOUBLE_ARROW","=>",428],["T_WHITESPACE"," ",428],["T_ARRAY","array",428],"(",["T_WHITESPACE","\n        ",428],["T_CONSTANT_ENCAPSED_STRING","'title'",429],["T_WHITESPACE"," ",429],["T_DOUBLE_ARROW","=>",429],["T_WHITESPACE"," ",429],["T_CONSTANT_ENCAPSED_STRING","'Access A via B'",429],",",["T_WHITESPACE","\n        ",429],["T_CONSTANT_ENCAPSED_STRING","'provider'",430],["T_WHITESPACE"," ",430],["T_DOUBLE_ARROW","=>",430],["T_WHITESPACE"," ",430],["T_CONSTANT_ENCAPSED_STRING","'module_a'",430],",",["T_WHITESPACE","\n      ",430],")",",",["T_WHITESPACE","\n    ",431],")",";",["T_WHITESPACE","\n  ",432],"}",["T_WHITESPACE","\n\n",433],"}",["T_WHITESPACE","\n\n",435],["T_DOC_COMMENT","\/**\n * Implements a translation manager in tests.\n *\/",437],["T_WHITESPACE","\n",439],["T_CLASS","class",440],["T_WHITESPACE"," ",440],["T_STRING","TestTranslationManager",440],["T_WHITESPACE"," ",440],["T_IMPLEMENTS","implements",440],["T_WHITESPACE"," ",440],["T_STRING","TranslationInterface",440],["T_WHITESPACE"," ",440],"{",["T_WHITESPACE","\n\n  ",440],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",442],["T_WHITESPACE","\n  ",444],["T_PUBLIC","public",445],["T_WHITESPACE"," ",445],["T_FUNCTION","function",445],["T_WHITESPACE"," ",445],["T_STRING","translate",445],"(",["T_VARIABLE","$string",445],",",["T_WHITESPACE"," ",445],["T_ARRAY","array",445],["T_WHITESPACE"," ",445],["T_VARIABLE","$args",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_ARRAY","array",445],"(",")",",",["T_WHITESPACE"," ",445],["T_ARRAY","array",445],["T_WHITESPACE"," ",445],["T_VARIABLE","$options",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_ARRAY","array",445],"(",")",")",["T_WHITESPACE"," ",445],"{",["T_WHITESPACE","\n    ",445],["T_RETURN","return",446],["T_WHITESPACE"," ",446],["T_NEW","new",446],["T_WHITESPACE"," ",446],["T_STRING","TranslatableMarkup",446],"(",["T_VARIABLE","$string",446],",",["T_WHITESPACE"," ",446],["T_VARIABLE","$args",446],",",["T_WHITESPACE"," ",446],["T_VARIABLE","$options",446],",",["T_WHITESPACE"," ",446],["T_VARIABLE","$this",446],")",";",["T_WHITESPACE","\n  ",446],"}",["T_WHITESPACE","\n\n  ",447],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",449],["T_WHITESPACE","\n  ",451],["T_PUBLIC","public",452],["T_WHITESPACE"," ",452],["T_FUNCTION","function",452],["T_WHITESPACE"," ",452],["T_STRING","translateString",452],"(",["T_STRING","TranslatableMarkup",452],["T_WHITESPACE"," ",452],["T_VARIABLE","$translated_string",452],")",["T_WHITESPACE"," ",452],"{",["T_WHITESPACE","\n    ",452],["T_RETURN","return",453],["T_WHITESPACE"," ",453],["T_VARIABLE","$translated_string",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","getUntranslatedString",453],"(",")",";",["T_WHITESPACE","\n  ",453],"}",["T_WHITESPACE","\n\n  ",454],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",456],["T_WHITESPACE","\n  ",458],["T_PUBLIC","public",459],["T_WHITESPACE"," ",459],["T_FUNCTION","function",459],["T_WHITESPACE"," ",459],["T_STRING","formatPlural",459],"(",["T_VARIABLE","$count",459],",",["T_WHITESPACE"," ",459],["T_VARIABLE","$singular",459],",",["T_WHITESPACE"," ",459],["T_VARIABLE","$plural",459],",",["T_WHITESPACE"," ",459],["T_ARRAY","array",459],["T_WHITESPACE"," ",459],["T_VARIABLE","$args",459],["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],["T_ARRAY","array",459],"(",")",",",["T_WHITESPACE"," ",459],["T_ARRAY","array",459],["T_WHITESPACE"," ",459],["T_VARIABLE","$options",459],["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],["T_ARRAY","array",459],"(",")",")",["T_WHITESPACE"," ",459],"{",["T_WHITESPACE","\n    ",459],["T_RETURN","return",460],["T_WHITESPACE"," ",460],["T_NEW","new",460],["T_WHITESPACE"," ",460],["T_STRING","PluralTranslatableMarkup",460],"(",["T_VARIABLE","$count",460],",",["T_WHITESPACE"," ",460],["T_VARIABLE","$singular",460],",",["T_WHITESPACE"," ",460],["T_VARIABLE","$plural",460],",",["T_WHITESPACE"," ",460],["T_VARIABLE","$args",460],",",["T_WHITESPACE"," ",460],["T_VARIABLE","$options",460],",",["T_WHITESPACE"," ",460],["T_VARIABLE","$this",460],")",";",["T_WHITESPACE","\n  ",460],"}",["T_WHITESPACE","\n\n",461],"}",["T_WHITESPACE","\n",463]]