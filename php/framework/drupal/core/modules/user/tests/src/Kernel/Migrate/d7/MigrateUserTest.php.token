[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","user",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Migrate",3],["T_NS_SEPARATOR","\\",3],["T_STRING","d7",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","comment",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","CommentType",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Database",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Database",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","node",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","NodeType",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","taxonomy",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Vocabulary",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Tests",9],["T_NS_SEPARATOR","\\",9],["T_STRING","migrate_drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Kernel",9],["T_NS_SEPARATOR","\\",9],["T_STRING","d7",9],["T_NS_SEPARATOR","\\",9],["T_STRING","MigrateDrupal7TestBase",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","user",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Entity",10],["T_NS_SEPARATOR","\\",10],["T_STRING","User",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","user",11],["T_NS_SEPARATOR","\\",11],["T_STRING","RoleInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","user",12],["T_NS_SEPARATOR","\\",12],["T_STRING","UserInterface",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Users migration.\n *\n * @group user\n *\/",14],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","MigrateUserTest",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_STRING","MigrateDrupal7TestBase",19],["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",21],["T_WHITESPACE","\n  ",23],["T_PUBLIC","public",24],["T_WHITESPACE"," ",24],["T_STATIC","static",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$modules",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],"[",["T_WHITESPACE","\n    ",24],["T_CONSTANT_ENCAPSED_STRING","'comment'",25],",",["T_WHITESPACE","\n    ",25],["T_CONSTANT_ENCAPSED_STRING","'datetime'",26],",",["T_WHITESPACE","\n    ",26],["T_CONSTANT_ENCAPSED_STRING","'file'",27],",",["T_WHITESPACE","\n    ",27],["T_CONSTANT_ENCAPSED_STRING","'image'",28],",",["T_WHITESPACE","\n    ",28],["T_CONSTANT_ENCAPSED_STRING","'language'",29],",",["T_WHITESPACE","\n    ",29],["T_CONSTANT_ENCAPSED_STRING","'link'",30],",",["T_WHITESPACE","\n    ",30],["T_CONSTANT_ENCAPSED_STRING","'node'",31],",",["T_WHITESPACE","\n    ",31],["T_CONSTANT_ENCAPSED_STRING","'system'",32],",",["T_WHITESPACE","\n    ",32],["T_CONSTANT_ENCAPSED_STRING","'taxonomy'",33],",",["T_WHITESPACE","\n    ",33],["T_CONSTANT_ENCAPSED_STRING","'telephone'",34],",",["T_WHITESPACE","\n    ",34],["T_CONSTANT_ENCAPSED_STRING","'text'",35],",",["T_WHITESPACE","\n  ",35],"]",";",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",38],["T_WHITESPACE","\n  ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","setUp",41],"(",")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n    ",41],["T_STRING","parent",42],["T_DOUBLE_COLON","::",42],["T_STRING","setUp",42],"(",")",";",["T_WHITESPACE","\n\n    ",42],["T_COMMENT","\/\/ Prepare to migrate user pictures as well.\n",44],["T_WHITESPACE","    ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","installEntitySchema",45],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",45],")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","createType",46],"(",["T_CONSTANT_ENCAPSED_STRING","'page'",46],")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","createType",47],"(",["T_CONSTANT_ENCAPSED_STRING","'article'",47],")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","createType",48],"(",["T_CONSTANT_ENCAPSED_STRING","'blog'",48],")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","createType",49],"(",["T_CONSTANT_ENCAPSED_STRING","'book'",49],")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","createType",50],"(",["T_CONSTANT_ENCAPSED_STRING","'forum'",50],")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","createType",51],"(",["T_CONSTANT_ENCAPSED_STRING","'test_content_type'",51],")",";",["T_WHITESPACE","\n    ",51],["T_STRING","Vocabulary",52],["T_DOUBLE_COLON","::",52],["T_STRING","create",52],"(","[",["T_CONSTANT_ENCAPSED_STRING","'vid'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'test_vocabulary'",52],"]",")",["T_OBJECT_OPERATOR","->",52],["T_STRING","save",52],"(",")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","executeMigrations",53],"(","[",["T_WHITESPACE","\n      ",53],["T_CONSTANT_ENCAPSED_STRING","'language'",54],",",["T_WHITESPACE","\n      ",54],["T_CONSTANT_ENCAPSED_STRING","'user_picture_field'",55],",",["T_WHITESPACE","\n      ",55],["T_CONSTANT_ENCAPSED_STRING","'user_picture_field_instance'",56],",",["T_WHITESPACE","\n      ",56],["T_CONSTANT_ENCAPSED_STRING","'d7_user_role'",57],",",["T_WHITESPACE","\n      ",57],["T_CONSTANT_ENCAPSED_STRING","'d7_field'",58],",",["T_WHITESPACE","\n      ",58],["T_CONSTANT_ENCAPSED_STRING","'d7_field_instance'",59],",",["T_WHITESPACE","\n      ",59],["T_CONSTANT_ENCAPSED_STRING","'d7_user'",60],",",["T_WHITESPACE","\n    ",60],"]",")",";",["T_WHITESPACE","\n  ",61],"}",["T_WHITESPACE","\n\n  ",62],["T_DOC_COMMENT","\/**\n   * Creates a node type with a corresponding comment type.\n   *\n   * @param string $id\n   *   The node type ID.\n   *\/",64],["T_WHITESPACE","\n  ",69],["T_PROTECTED","protected",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","createType",70],"(",["T_VARIABLE","$id",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n    ",70],["T_STRING","NodeType",71],["T_DOUBLE_COLON","::",71],["T_STRING","create",71],"(","[",["T_WHITESPACE","\n      ",71],["T_CONSTANT_ENCAPSED_STRING","'type'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$id",72],",",["T_WHITESPACE","\n      ",72],["T_CONSTANT_ENCAPSED_STRING","'label'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","randomString",73],"(",")",",",["T_WHITESPACE","\n    ",73],"]",")",["T_OBJECT_OPERATOR","->",74],["T_STRING","save",74],"(",")",";",["T_WHITESPACE","\n\n    ",74],["T_STRING","CommentType",76],["T_DOUBLE_COLON","::",76],["T_STRING","create",76],"(","[",["T_WHITESPACE","\n      ",76],["T_CONSTANT_ENCAPSED_STRING","'id'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'comment_node_'",77],["T_WHITESPACE"," ",77],".",["T_WHITESPACE"," ",77],["T_VARIABLE","$id",77],",",["T_WHITESPACE","\n      ",77],["T_CONSTANT_ENCAPSED_STRING","'label'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","randomString",78],"(",")",",",["T_WHITESPACE","\n      ",78],["T_CONSTANT_ENCAPSED_STRING","'target_entity_type_id'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'node'",79],",",["T_WHITESPACE","\n    ",79],"]",")",["T_OBJECT_OPERATOR","->",80],["T_STRING","save",80],"(",")",";",["T_WHITESPACE","\n  ",80],"}",["T_WHITESPACE","\n\n  ",81],["T_DOC_COMMENT","\/**\n   * Asserts various aspects of a user account.\n   *\n   * @param string $id\n   *   The user ID.\n   * @param string $label\n   *   The username.\n   * @param string $mail\n   *   The user's email address.\n   * @param string $password\n   *   The password for this user.\n   * @param int $created\n   *   The user's creation time.\n   * @param int $access\n   *   The last access time.\n   * @param int $login\n   *   The last login time.\n   * @param bool $blocked\n   *   Whether or not the account is blocked.\n   * @param string $langcode\n   *   The user account's language code.\n   * @param string $timezone\n   *   The user account's timezone name.\n   * @param string $init\n   *   The user's initial email address.\n   * @param string[] $roles\n   *   Role IDs the user account is expected to have.\n   * @param int $field_integer\n   *   The value of the integer field.\n   * @param int|false $field_file_target_id\n   *   (optional) The target ID of the file field.\n   * @param bool $has_picture\n   *   (optional) Whether the user is expected to have a picture attached.\n   *\/",83],["T_WHITESPACE","\n  ",116],["T_PROTECTED","protected",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","assertEntity",117],"(",["T_VARIABLE","$id",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$label",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$mail",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$password",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$created",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$access",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$login",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$blocked",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$langcode",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$timezone",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$init",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$roles",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$field_integer",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$field_file_target_id",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_STRING","FALSE",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$has_picture",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_STRING","FALSE",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n    ",117],["T_DOC_COMMENT","\/** @var \\Drupal\\user\\UserInterface $user *\/",118],["T_WHITESPACE","\n    ",118],["T_VARIABLE","$user",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_STRING","User",119],["T_DOUBLE_COLON","::",119],["T_STRING","load",119],"(",["T_VARIABLE","$id",119],")",";",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","assertTrue",120],"(",["T_VARIABLE","$user",120],["T_WHITESPACE"," ",120],["T_INSTANCEOF","instanceof",120],["T_WHITESPACE"," ",120],["T_STRING","UserInterface",120],")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","assertSame",121],"(",["T_VARIABLE","$label",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$user",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","label",121],"(",")",")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertSame",122],"(",["T_VARIABLE","$mail",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$user",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getEmail",122],"(",")",")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","assertSame",123],"(",["T_VARIABLE","$password",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$user",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getPassword",123],"(",")",")",";",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","assertSame",124],"(",["T_VARIABLE","$created",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$user",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getCreatedTime",124],"(",")",")",";",["T_WHITESPACE","\n    ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertSame",125],"(",["T_VARIABLE","$access",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$user",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getLastAccessedTime",125],"(",")",")",";",["T_WHITESPACE","\n    ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","assertSame",126],"(",["T_VARIABLE","$login",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$user",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getLastLoginTime",126],"(",")",")",";",["T_WHITESPACE","\n    ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","assertNotSame",127],"(",["T_VARIABLE","$blocked",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$user",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","isBlocked",127],"(",")",")",";",["T_WHITESPACE","\n\n    ",127],["T_COMMENT","\/\/ Ensure the user's langcode, preferred_langcode and\n",129],["T_WHITESPACE","    ",130],["T_COMMENT","\/\/ preferred_admin_langcode are valid.\n",130],["T_WHITESPACE","    ",131],["T_COMMENT","\/\/ $user->getPreferredLangcode() might fallback to default language if the\n",131],["T_WHITESPACE","    ",132],["T_COMMENT","\/\/ user preferred language is not configured on the site. We just want to\n",132],["T_WHITESPACE","    ",133],["T_COMMENT","\/\/ test if the value was imported correctly.\n",133],["T_WHITESPACE","    ",134],["T_VARIABLE","$language_manager",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","container",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","get",134],"(",["T_CONSTANT_ENCAPSED_STRING","'language_manager'",134],")",";",["T_WHITESPACE","\n    ",134],["T_VARIABLE","$default_langcode",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$language_manager",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getDefaultLanguage",135],"(",")",["T_OBJECT_OPERATOR","->",135],["T_STRING","getId",135],"(",")",";",["T_WHITESPACE","\n    ",135],["T_IF","if",136],["T_WHITESPACE"," ",136],"(",["T_VARIABLE","$langcode",136],["T_WHITESPACE"," ",136],["T_IS_EQUAL","==",136],["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","''",136],")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n      ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","assertSame",137],"(",["T_CONSTANT_ENCAPSED_STRING","'en'",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$user",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","langcode",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","value",137],")",";",["T_WHITESPACE","\n      ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","assertSame",138],"(",["T_VARIABLE","$default_langcode",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$user",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","preferred_langcode",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","value",138],")",";",["T_WHITESPACE","\n      ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","assertSame",139],"(",["T_VARIABLE","$default_langcode",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$user",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","preferred_admin_langcode",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","value",139],")",";",["T_WHITESPACE","\n    ",139],"}",["T_WHITESPACE","\n    ",140],["T_ELSEIF","elseif",141],["T_WHITESPACE"," ",141],"(",["T_VARIABLE","$language_manager",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getLanguage",141],"(",["T_VARIABLE","$langcode",141],")",["T_WHITESPACE"," ",141],["T_IS_IDENTICAL","===",141],["T_WHITESPACE"," ",141],["T_STRING","NULL",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n      ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","assertSame",142],"(",["T_VARIABLE","$default_langcode",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$user",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","langcode",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","value",142],")",";",["T_WHITESPACE","\n      ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","assertSame",143],"(",["T_VARIABLE","$default_langcode",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$user",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","preferred_langcode",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","value",143],")",";",["T_WHITESPACE","\n      ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","assertSame",144],"(",["T_VARIABLE","$default_langcode",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$user",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","preferred_admin_langcode",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","value",144],")",";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n    ",145],["T_ELSE","else",146],["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n      ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","assertSame",147],"(",["T_VARIABLE","$langcode",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$user",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","langcode",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","value",147],")",";",["T_WHITESPACE","\n      ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","assertSame",148],"(",["T_VARIABLE","$langcode",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$user",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","preferred_langcode",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","value",148],")",";",["T_WHITESPACE","\n      ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","assertSame",149],"(",["T_VARIABLE","$langcode",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$user",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","preferred_admin_langcode",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","value",149],")",";",["T_WHITESPACE","\n    ",149],"}",["T_WHITESPACE","\n\n    ",150],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","assertSame",152],"(",["T_VARIABLE","$timezone",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$user",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getTimeZone",152],"(",")",")",";",["T_WHITESPACE","\n    ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","assertSame",153],"(",["T_VARIABLE","$init",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$user",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getInitialEmail",153],"(",")",")",";",["T_WHITESPACE","\n    ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","assertSame",154],"(",["T_VARIABLE","$roles",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$user",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getRoles",154],"(",")",")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","assertSame",155],"(",["T_VARIABLE","$has_picture",155],",",["T_WHITESPACE"," ",155],"!",["T_VARIABLE","$user",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","user_picture",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","isEmpty",155],"(",")",")",";",["T_WHITESPACE","\n    ",155],["T_IF","if",156],["T_WHITESPACE"," ",156],"(","!",["T_STRING","is_null",156],"(",["T_VARIABLE","$field_integer",156],")",")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n      ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","assertTrue",157],"(",["T_VARIABLE","$user",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","hasField",157],"(",["T_CONSTANT_ENCAPSED_STRING","'field_integer'",157],")",")",";",["T_WHITESPACE","\n      ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","assertEquals",158],"(",["T_VARIABLE","$field_integer",158],"[",["T_LNUMBER","0",158],"]",",",["T_WHITESPACE"," ",158],["T_VARIABLE","$user",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","field_integer",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","value",158],")",";",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n    ",159],["T_IF","if",160],["T_WHITESPACE"," ",160],"(","!",["T_EMPTY","empty",160],"(",["T_VARIABLE","$field_file_target_id",160],")",")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n      ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","assertTrue",161],"(",["T_VARIABLE","$user",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","hasField",161],"(",["T_CONSTANT_ENCAPSED_STRING","'field_file'",161],")",")",";",["T_WHITESPACE","\n      ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","assertSame",162],"(",["T_VARIABLE","$field_file_target_id",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$user",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","field_file",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","target_id",162],")",";",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n  ",163],"}",["T_WHITESPACE","\n\n  ",164],["T_DOC_COMMENT","\/**\n   * Tests the Drupal 7 user to Drupal 8 migration.\n   *\/",166],["T_WHITESPACE","\n  ",168],["T_PUBLIC","public",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","testUser",169],"(",")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n    ",169],["T_VARIABLE","$users",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_STRING","Database",170],["T_DOUBLE_COLON","::",170],["T_STRING","getConnection",170],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",170],",",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'migrate'",170],")",["T_WHITESPACE","\n      ",170],["T_OBJECT_OPERATOR","->",171],["T_STRING","select",171],"(",["T_CONSTANT_ENCAPSED_STRING","'users'",171],",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'u'",171],")",["T_WHITESPACE","\n      ",171],["T_OBJECT_OPERATOR","->",172],["T_STRING","fields",172],"(",["T_CONSTANT_ENCAPSED_STRING","'u'",172],")",["T_WHITESPACE","\n      ",172],["T_OBJECT_OPERATOR","->",173],["T_STRING","condition",173],"(",["T_CONSTANT_ENCAPSED_STRING","'uid'",173],",",["T_WHITESPACE"," ",173],["T_LNUMBER","1",173],",",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'>'",173],")",["T_WHITESPACE","\n      ",173],["T_OBJECT_OPERATOR","->",174],["T_STRING","execute",174],"(",")",["T_WHITESPACE","\n      ",174],["T_OBJECT_OPERATOR","->",175],["T_STRING","fetchAll",175],"(",")",";",["T_WHITESPACE","\n\n    ",175],["T_FOREACH","foreach",177],["T_WHITESPACE"," ",177],"(",["T_VARIABLE","$users",177],["T_WHITESPACE"," ",177],["T_AS","as",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$source",177],")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n      ",177],["T_VARIABLE","$rids",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_STRING","Database",178],["T_DOUBLE_COLON","::",178],["T_STRING","getConnection",178],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",178],",",["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'migrate'",178],")",["T_WHITESPACE","\n        ",178],["T_OBJECT_OPERATOR","->",179],["T_STRING","select",179],"(",["T_CONSTANT_ENCAPSED_STRING","'users_roles'",179],",",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'ur'",179],")",["T_WHITESPACE","\n        ",179],["T_OBJECT_OPERATOR","->",180],["T_STRING","fields",180],"(",["T_CONSTANT_ENCAPSED_STRING","'ur'",180],",",["T_WHITESPACE"," ",180],["T_ARRAY","array",180],"(",["T_CONSTANT_ENCAPSED_STRING","'rid'",180],")",")",["T_WHITESPACE","\n        ",180],["T_OBJECT_OPERATOR","->",181],["T_STRING","condition",181],"(",["T_CONSTANT_ENCAPSED_STRING","'ur.uid'",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$source",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","uid",181],")",["T_WHITESPACE","\n        ",181],["T_OBJECT_OPERATOR","->",182],["T_STRING","execute",182],"(",")",["T_WHITESPACE","\n        ",182],["T_OBJECT_OPERATOR","->",183],["T_STRING","fetchCol",183],"(",")",";",["T_WHITESPACE","\n      ",183],["T_VARIABLE","$roles",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_ARRAY","array",184],"(",["T_STRING","RoleInterface",184],["T_DOUBLE_COLON","::",184],["T_STRING","AUTHENTICATED_ID",184],")",";",["T_WHITESPACE","\n      ",184],["T_VARIABLE","$id_map",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getMigration",185],"(",["T_CONSTANT_ENCAPSED_STRING","'d7_user_role'",185],")",["T_OBJECT_OPERATOR","->",185],["T_STRING","getIdMap",185],"(",")",";",["T_WHITESPACE","\n      ",185],["T_FOREACH","foreach",186],["T_WHITESPACE"," ",186],"(",["T_VARIABLE","$rids",186],["T_WHITESPACE"," ",186],["T_AS","as",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$rid",186],")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$role",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$id_map",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","lookupDestinationId",187],"(",["T_ARRAY","array",187],"(",["T_VARIABLE","$rid",187],")",")",";",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$roles",188],"[","]",["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_STRING","reset",188],"(",["T_VARIABLE","$role",188],")",";",["T_WHITESPACE","\n      ",188],"}",["T_WHITESPACE","\n\n      ",189],["T_VARIABLE","$field_integer",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_STRING","Database",191],["T_DOUBLE_COLON","::",191],["T_STRING","getConnection",191],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",191],",",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'migrate'",191],")",["T_WHITESPACE","\n        ",191],["T_OBJECT_OPERATOR","->",192],["T_STRING","select",192],"(",["T_CONSTANT_ENCAPSED_STRING","'field_data_field_integer'",192],",",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'fi'",192],")",["T_WHITESPACE","\n        ",192],["T_OBJECT_OPERATOR","->",193],["T_STRING","fields",193],"(",["T_CONSTANT_ENCAPSED_STRING","'fi'",193],",",["T_WHITESPACE"," ",193],["T_ARRAY","array",193],"(",["T_CONSTANT_ENCAPSED_STRING","'field_integer_value'",193],")",")",["T_WHITESPACE","\n        ",193],["T_OBJECT_OPERATOR","->",194],["T_STRING","condition",194],"(",["T_CONSTANT_ENCAPSED_STRING","'fi.entity_id'",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$source",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","uid",194],")",["T_WHITESPACE","\n        ",194],["T_OBJECT_OPERATOR","->",195],["T_STRING","execute",195],"(",")",["T_WHITESPACE","\n        ",195],["T_OBJECT_OPERATOR","->",196],["T_STRING","fetchCol",196],"(",")",";",["T_WHITESPACE","\n      ",196],["T_VARIABLE","$field_integer",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],"!",["T_EMPTY","empty",197],"(",["T_VARIABLE","$field_integer",197],")",["T_WHITESPACE"," ",197],"?",["T_WHITESPACE"," ",197],["T_VARIABLE","$field_integer",197],["T_WHITESPACE"," ",197],":",["T_WHITESPACE"," ",197],["T_STRING","NULL",197],";",["T_WHITESPACE","\n\n      ",197],["T_VARIABLE","$field_file",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_STRING","Database",199],["T_DOUBLE_COLON","::",199],["T_STRING","getConnection",199],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",199],",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'migrate'",199],")",["T_WHITESPACE","\n        ",199],["T_OBJECT_OPERATOR","->",200],["T_STRING","select",200],"(",["T_CONSTANT_ENCAPSED_STRING","'field_data_field_file'",200],",",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'ff'",200],")",["T_WHITESPACE","\n        ",200],["T_OBJECT_OPERATOR","->",201],["T_STRING","fields",201],"(",["T_CONSTANT_ENCAPSED_STRING","'ff'",201],",",["T_WHITESPACE"," ",201],"[",["T_CONSTANT_ENCAPSED_STRING","'field_file_fid'",201],"]",")",["T_WHITESPACE","\n        ",201],["T_OBJECT_OPERATOR","->",202],["T_STRING","condition",202],"(",["T_CONSTANT_ENCAPSED_STRING","'ff.entity_id'",202],",",["T_WHITESPACE"," ",202],["T_VARIABLE","$source",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","uid",202],")",["T_WHITESPACE","\n        ",202],["T_OBJECT_OPERATOR","->",203],["T_STRING","execute",203],"(",")",["T_WHITESPACE","\n        ",203],["T_OBJECT_OPERATOR","->",204],["T_STRING","fetchField",204],"(",")",";",["T_WHITESPACE","\n\n      ",204],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","assertEntity",206],"(",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$source",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","uid",207],",",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$source",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","name",208],",",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$source",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","mail",209],",",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$source",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","pass",210],",",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$source",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","created",211],",",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$source",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","access",212],",",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$source",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","login",213],",",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$source",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","status",214],",",["T_WHITESPACE","\n        ",214],["T_VARIABLE","$source",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","language",215],",",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$source",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","timezone",216],",",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$source",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","init",217],",",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$roles",218],",",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$field_integer",219],",",["T_WHITESPACE","\n        ",219],["T_VARIABLE","$field_file",220],["T_WHITESPACE","\n      ",220],")",";",["T_WHITESPACE","\n\n      ",221],["T_COMMENT","\/\/ Ensure that the user can authenticate.\n",223],["T_WHITESPACE","      ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","assertEquals",224],"(",["T_VARIABLE","$source",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","uid",224],",",["T_WHITESPACE"," ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","container",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","get",224],"(",["T_CONSTANT_ENCAPSED_STRING","'user.auth'",224],")",["T_OBJECT_OPERATOR","->",224],["T_STRING","authenticate",224],"(",["T_VARIABLE","$source",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","name",224],",",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'a password'",224],")",")",";",["T_WHITESPACE","\n      ",224],["T_COMMENT","\/\/ After authenticating the password will be rehashed because the password\n",225],["T_WHITESPACE","      ",226],["T_COMMENT","\/\/ stretching iteration count has changed from 15 in Drupal 7 to 16 in\n",226],["T_WHITESPACE","      ",227],["T_COMMENT","\/\/ Drupal 8.\n",227],["T_WHITESPACE","      ",228],["T_VARIABLE","$user",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_STRING","User",228],["T_DOUBLE_COLON","::",228],["T_STRING","load",228],"(",["T_VARIABLE","$source",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","uid",228],")",";",["T_WHITESPACE","\n      ",228],["T_VARIABLE","$rehash",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$user",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getPassword",229],"(",")",";",["T_WHITESPACE","\n      ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","assertNotEquals",230],"(",["T_VARIABLE","$source",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","pass",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$rehash",230],")",";",["T_WHITESPACE","\n\n      ",230],["T_COMMENT","\/\/ Authenticate again and there should be no re-hash.\n",232],["T_WHITESPACE","      ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","assertEquals",233],"(",["T_VARIABLE","$source",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","uid",233],",",["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","container",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","get",233],"(",["T_CONSTANT_ENCAPSED_STRING","'user.auth'",233],")",["T_OBJECT_OPERATOR","->",233],["T_STRING","authenticate",233],"(",["T_VARIABLE","$source",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","name",233],",",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'a password'",233],")",")",";",["T_WHITESPACE","\n      ",233],["T_VARIABLE","$user",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_STRING","User",234],["T_DOUBLE_COLON","::",234],["T_STRING","load",234],"(",["T_VARIABLE","$source",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","uid",234],")",";",["T_WHITESPACE","\n      ",234],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","assertEquals",235],"(",["T_VARIABLE","$rehash",235],",",["T_WHITESPACE"," ",235],["T_VARIABLE","$user",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getPassword",235],"(",")",")",";",["T_WHITESPACE","\n    ",235],"}",["T_WHITESPACE","\n  ",236],"}",["T_WHITESPACE","\n\n",237],"}",["T_WHITESPACE","\n",239]]