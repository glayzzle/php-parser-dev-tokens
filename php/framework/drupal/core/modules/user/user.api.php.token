[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_DOC_COMMENT","\/**\n * @file\n * Hooks provided by the User module.\n *\/",3],["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * @addtogroup hooks\n * @{\n *\/",8],["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Act on user account cancellations.\n *\n * This hook is invoked from user_cancel() before a user account is canceled.\n * Depending on the account cancellation method, the module should either do\n * nothing, unpublish content, or anonymize content. See user_cancel_methods()\n * for the list of default account cancellation methods provided by User module.\n * Modules may add further methods via hook_user_cancel_methods_alter().\n *\n * This hook is NOT invoked for the 'user_cancel_delete' account cancellation\n * method. To react to that method, implement hook_ENTITY_TYPE_predelete() or\n * hook_ENTITY_TYPE_delete() for user entities instead.\n *\n * Expensive operations should be added to the global account cancellation batch\n * by using batch_set().\n *\n * @param array $edit\n *   The array of form values submitted by the user.\n * @param \\Drupal\\Core\\Session\\AccountInterface $account\n *   The user object on which the operation is being performed.\n * @param string $method\n *   The account cancellation method.\n *\n * @see user_cancel_methods()\n * @see hook_user_cancel_methods_alter()\n *\/",13],["T_WHITESPACE","\n",38],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","hook_user_cancel",39],"(",["T_VARIABLE","$edit",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$account",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$method",39],")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n  ",39],["T_SWITCH","switch",40],["T_WHITESPACE"," ",40],"(",["T_VARIABLE","$method",40],")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n    ",40],["T_CASE","case",41],["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'user_cancel_block_unpublish'",41],":",["T_WHITESPACE","\n      ",41],["T_COMMENT","\/\/ Unpublish nodes (current revisions).\n",42],["T_WHITESPACE","      ",43],["T_STRING","module_load_include",43],"(",["T_CONSTANT_ENCAPSED_STRING","'inc'",43],",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'node'",43],",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'node.admin'",43],")",";",["T_WHITESPACE","\n      ",43],["T_VARIABLE","$nodes",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Drupal",44],["T_DOUBLE_COLON","::",44],["T_STRING","entityQuery",44],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",44],")",["T_WHITESPACE","\n        ",44],["T_OBJECT_OPERATOR","->",45],["T_STRING","condition",45],"(",["T_CONSTANT_ENCAPSED_STRING","'uid'",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$account",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","id",45],"(",")",")",["T_WHITESPACE","\n        ",45],["T_OBJECT_OPERATOR","->",46],["T_STRING","execute",46],"(",")",";",["T_WHITESPACE","\n      ",46],["T_STRING","node_mass_update",47],"(",["T_VARIABLE","$nodes",47],",",["T_WHITESPACE"," ",47],["T_ARRAY","array",47],"(",["T_CONSTANT_ENCAPSED_STRING","'status'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_LNUMBER","0",47],")",",",["T_WHITESPACE"," ",47],["T_STRING","NULL",47],",",["T_WHITESPACE"," ",47],["T_STRING","TRUE",47],")",";",["T_WHITESPACE","\n      ",47],["T_BREAK","break",48],";",["T_WHITESPACE","\n\n    ",48],["T_CASE","case",50],["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'user_cancel_reassign'",50],":",["T_WHITESPACE","\n      ",50],["T_COMMENT","\/\/ Anonymize nodes (current revisions).\n",51],["T_WHITESPACE","      ",52],["T_STRING","module_load_include",52],"(",["T_CONSTANT_ENCAPSED_STRING","'inc'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'node'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'node.admin'",52],")",";",["T_WHITESPACE","\n      ",52],["T_VARIABLE","$nodes",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Drupal",53],["T_DOUBLE_COLON","::",53],["T_STRING","entityQuery",53],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",53],")",["T_WHITESPACE","\n        ",53],["T_OBJECT_OPERATOR","->",54],["T_STRING","condition",54],"(",["T_CONSTANT_ENCAPSED_STRING","'uid'",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$account",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","id",54],"(",")",")",["T_WHITESPACE","\n        ",54],["T_OBJECT_OPERATOR","->",55],["T_STRING","execute",55],"(",")",";",["T_WHITESPACE","\n      ",55],["T_STRING","node_mass_update",56],"(",["T_VARIABLE","$nodes",56],",",["T_WHITESPACE"," ",56],["T_ARRAY","array",56],"(",["T_CONSTANT_ENCAPSED_STRING","'uid'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_LNUMBER","0",56],")",",",["T_WHITESPACE"," ",56],["T_STRING","NULL",56],",",["T_WHITESPACE"," ",56],["T_STRING","TRUE",56],")",";",["T_WHITESPACE","\n      ",56],["T_COMMENT","\/\/ Anonymize old revisions.\n",57],["T_WHITESPACE","      ",58],["T_STRING","db_update",58],"(",["T_CONSTANT_ENCAPSED_STRING","'node_field_revision'",58],")",["T_WHITESPACE","\n        ",58],["T_OBJECT_OPERATOR","->",59],["T_STRING","fields",59],"(",["T_ARRAY","array",59],"(",["T_CONSTANT_ENCAPSED_STRING","'uid'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_LNUMBER","0",59],")",")",["T_WHITESPACE","\n        ",59],["T_OBJECT_OPERATOR","->",60],["T_STRING","condition",60],"(",["T_CONSTANT_ENCAPSED_STRING","'uid'",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$account",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","id",60],"(",")",")",["T_WHITESPACE","\n        ",60],["T_OBJECT_OPERATOR","->",61],["T_STRING","execute",61],"(",")",";",["T_WHITESPACE","\n      ",61],["T_BREAK","break",62],";",["T_WHITESPACE","\n  ",62],"}",["T_WHITESPACE","\n",63],"}",["T_WHITESPACE","\n\n",64],["T_DOC_COMMENT","\/**\n * Modify account cancellation methods.\n *\n * By implementing this hook, modules are able to add, customize, or remove\n * account cancellation methods. All defined methods are turned into radio\n * button form elements by user_cancel_methods() after this hook is invoked.\n * The following properties can be defined for each method:\n * - title: The radio button's title.\n * - description: (optional) A description to display on the confirmation form\n *   if the user is not allowed to select the account cancellation method. The\n *   description is NOT used for the radio button, but instead should provide\n *   additional explanation to the user seeking to cancel their account.\n * - access: (optional) A boolean value indicating whether the user can access\n *   a method. If 'access' is defined, the method cannot be configured as\n *   default method.\n *\n * @param array $methods\n *   An array containing user account cancellation methods, keyed by method id.\n *\n * @see user_cancel_methods()\n * @see \\Drupal\\user\\Form\\UserCancelForm\n *\/",66],["T_WHITESPACE","\n",87],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","hook_user_cancel_methods_alter",88],"(","&",["T_VARIABLE","$methods",88],")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n  ",88],["T_VARIABLE","$account",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Drupal",89],["T_DOUBLE_COLON","::",89],["T_STRING","currentUser",89],"(",")",";",["T_WHITESPACE","\n  ",89],["T_COMMENT","\/\/ Limit access to disable account and unpublish content method.\n",90],["T_WHITESPACE","  ",91],["T_VARIABLE","$methods",91],"[",["T_CONSTANT_ENCAPSED_STRING","'user_cancel_block_unpublish'",91],"]","[",["T_CONSTANT_ENCAPSED_STRING","'access'",91],"]",["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$account",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","hasPermission",91],"(",["T_CONSTANT_ENCAPSED_STRING","'administer site configuration'",91],")",";",["T_WHITESPACE","\n\n  ",91],["T_COMMENT","\/\/ Remove the content re-assigning method.\n",93],["T_WHITESPACE","  ",94],["T_UNSET","unset",94],"(",["T_VARIABLE","$methods",94],"[",["T_CONSTANT_ENCAPSED_STRING","'user_cancel_reassign'",94],"]",")",";",["T_WHITESPACE","\n\n  ",94],["T_COMMENT","\/\/ Add a custom zero-out method.\n",96],["T_WHITESPACE","  ",97],["T_VARIABLE","$methods",97],"[",["T_CONSTANT_ENCAPSED_STRING","'mymodule_zero_out'",97],"]",["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_ARRAY","array",97],"(",["T_WHITESPACE","\n    ",97],["T_CONSTANT_ENCAPSED_STRING","'title'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_STRING","t",98],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete the account and remove all content.'",98],")",",",["T_WHITESPACE","\n    ",98],["T_CONSTANT_ENCAPSED_STRING","'description'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_STRING","t",99],"(",["T_CONSTANT_ENCAPSED_STRING","'All your content will be replaced by empty strings.'",99],")",",",["T_WHITESPACE","\n    ",99],["T_COMMENT","\/\/ access should be used for administrative methods only.\n",100],["T_WHITESPACE","    ",101],["T_CONSTANT_ENCAPSED_STRING","'access'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$account",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","hasPermission",101],"(",["T_CONSTANT_ENCAPSED_STRING","'access zero-out account cancellation method'",101],")",",",["T_WHITESPACE","\n  ",101],")",";",["T_WHITESPACE","\n",102],"}",["T_WHITESPACE","\n\n",103],["T_DOC_COMMENT","\/**\n * Alter the username that is displayed for a user.\n *\n * Called by $account->getDisplayName() to allow modules to alter the username\n * that is displayed. Can be used to ensure user privacy in situations where\n * $account->getDisplayName() is too revealing.\n *\n * @param string|Drupal\\Component\\Render\\MarkupInterface $name\n *   The username that is displayed for a user. If a hook implementation changes\n *   this to an object implementing MarkupInterface it is the responsibility of\n *   the implementation to ensure the user's name is escaped properly. String\n *   values will be autoescaped.\n * @param \\Drupal\\Core\\Session\\AccountInterface $account\n *   The user object on which the operation is being performed.\n *\n * @see \\Drupal\\Core\\Session\\AccountInterface::getDisplayName()\n * @see sanitization\n *\/",105],["T_WHITESPACE","\n",122],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","hook_user_format_name_alter",123],"(","&",["T_VARIABLE","$name",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$account",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n  ",123],["T_COMMENT","\/\/ Display the user's uid instead of name.\n",124],["T_WHITESPACE","  ",125],["T_IF","if",125],["T_WHITESPACE"," ",125],"(",["T_VARIABLE","$account",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","id",125],"(",")",")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n    ",125],["T_VARIABLE","$name",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_STRING","t",126],"(",["T_CONSTANT_ENCAPSED_STRING","'User @uid'",126],",",["T_WHITESPACE"," ",126],["T_ARRAY","array",126],"(",["T_CONSTANT_ENCAPSED_STRING","'@uid'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$account",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","id",126],"(",")",")",")",";",["T_WHITESPACE","\n  ",126],"}",["T_WHITESPACE","\n",127],"}",["T_WHITESPACE","\n\n",128],["T_DOC_COMMENT","\/**\n * The user just logged in.\n *\n * @param object $account\n *   The user object on which the operation was just performed.\n *\/",130],["T_WHITESPACE","\n",135],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","hook_user_login",136],"(",["T_VARIABLE","$account",136],")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n  ",136],["T_VARIABLE","$config",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Drupal",137],["T_DOUBLE_COLON","::",137],["T_STRING","config",137],"(",["T_CONSTANT_ENCAPSED_STRING","'system.date'",137],")",";",["T_WHITESPACE","\n  ",137],["T_COMMENT","\/\/ If the user has a NULL time zone, notify them to set a time zone.\n",138],["T_WHITESPACE","  ",139],["T_IF","if",139],["T_WHITESPACE"," ",139],"(","!",["T_VARIABLE","$account",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getTimezone",139],"(",")",["T_WHITESPACE"," ",139],["T_BOOLEAN_AND","&&",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$config",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","get",139],"(",["T_CONSTANT_ENCAPSED_STRING","'timezone.user.configurable'",139],")",["T_WHITESPACE"," ",139],["T_BOOLEAN_AND","&&",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$config",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","get",139],"(",["T_CONSTANT_ENCAPSED_STRING","'timezone.user.warn'",139],")",")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n    ",139],["T_STRING","drupal_set_message",140],"(",["T_STRING","t",140],"(",["T_CONSTANT_ENCAPSED_STRING","'Configure your <a href=\":user-edit\">account time zone setting<\/a>.'",140],",",["T_WHITESPACE"," ",140],["T_ARRAY","array",140],"(",["T_CONSTANT_ENCAPSED_STRING","':user-edit'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$account",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","url",140],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-form'",140],",",["T_WHITESPACE"," ",140],["T_ARRAY","array",140],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Drupal",140],["T_DOUBLE_COLON","::",140],["T_STRING","destination",140],"(",")",["T_OBJECT_OPERATOR","->",140],["T_STRING","getAsArray",140],"(",")",",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'fragment'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'edit-timezone'",140],")",")",")",")",")",";",["T_WHITESPACE","\n  ",140],"}",["T_WHITESPACE","\n",141],"}",["T_WHITESPACE","\n\n",142],["T_DOC_COMMENT","\/**\n * The user just logged out.\n *\n * @param $account\n *   The user object on which the operation was just performed.\n *\/",144],["T_WHITESPACE","\n",149],["T_FUNCTION","function",150],["T_WHITESPACE"," ",150],["T_STRING","hook_user_logout",150],"(",["T_VARIABLE","$account",150],")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n  ",150],["T_STRING","db_insert",151],"(",["T_CONSTANT_ENCAPSED_STRING","'logouts'",151],")",["T_WHITESPACE","\n    ",151],["T_OBJECT_OPERATOR","->",152],["T_STRING","fields",152],"(",["T_ARRAY","array",152],"(",["T_WHITESPACE","\n      ",152],["T_CONSTANT_ENCAPSED_STRING","'uid'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$account",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","id",153],"(",")",",",["T_WHITESPACE","\n      ",153],["T_CONSTANT_ENCAPSED_STRING","'time'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_STRING","time",154],"(",")",",",["T_WHITESPACE","\n    ",154],")",")",["T_WHITESPACE","\n    ",155],["T_OBJECT_OPERATOR","->",156],["T_STRING","execute",156],"(",")",";",["T_WHITESPACE","\n",156],"}",["T_WHITESPACE","\n\n",157],["T_DOC_COMMENT","\/**\n * @} End of \"addtogroup hooks\".\n *\/",159],["T_WHITESPACE","\n",161]]