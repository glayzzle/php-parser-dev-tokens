[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","user",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Database",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Connection",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Defines the user data service.\n *\/",7],["T_WHITESPACE","\n",9],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","UserData",10],["T_WHITESPACE"," ",10],["T_IMPLEMENTS","implements",10],["T_WHITESPACE"," ",10],["T_STRING","UserDataInterface",10],["T_WHITESPACE"," ",10],"{",["T_WHITESPACE","\n\n  ",10],["T_DOC_COMMENT","\/**\n   * The database connection to use.\n   *\n   * @var \\Drupal\\Core\\Database\\Connection\n   *\/",12],["T_WHITESPACE","\n  ",16],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$connection",17],";",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * Constructs a new user data service.\n   *\n   * @param \\Drupal\\Core\\Database\\Connection $connection\n   *   The database connection to use.\n   *\/",19],["T_WHITESPACE","\n  ",24],["T_PUBLIC","public",25],["T_WHITESPACE"," ",25],["T_FUNCTION","function",25],["T_WHITESPACE"," ",25],["T_STRING","__construct",25],"(",["T_STRING","Connection",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$connection",25],")",["T_WHITESPACE"," ",25],"{",["T_WHITESPACE","\n    ",25],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","connection",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$connection",26],";",["T_WHITESPACE","\n  ",26],"}",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",29],["T_WHITESPACE","\n  ",31],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","get",32],"(",["T_VARIABLE","$module",32],",",["T_WHITESPACE"," ",32],["T_VARIABLE","$uid",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_STRING","NULL",32],",",["T_WHITESPACE"," ",32],["T_VARIABLE","$name",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_STRING","NULL",32],")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$query",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","connection",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","select",33],"(",["T_CONSTANT_ENCAPSED_STRING","'users_data'",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'ud'",33],")",["T_WHITESPACE","\n      ",33],["T_OBJECT_OPERATOR","->",34],["T_STRING","fields",34],"(",["T_CONSTANT_ENCAPSED_STRING","'ud'",34],")",["T_WHITESPACE","\n      ",34],["T_OBJECT_OPERATOR","->",35],["T_STRING","condition",35],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$module",35],")",";",["T_WHITESPACE","\n    ",35],["T_IF","if",36],["T_WHITESPACE"," ",36],"(",["T_ISSET","isset",36],"(",["T_VARIABLE","$uid",36],")",")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n      ",36],["T_VARIABLE","$query",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","condition",37],"(",["T_CONSTANT_ENCAPSED_STRING","'uid'",37],",",["T_WHITESPACE"," ",37],["T_VARIABLE","$uid",37],")",";",["T_WHITESPACE","\n    ",37],"}",["T_WHITESPACE","\n    ",38],["T_IF","if",39],["T_WHITESPACE"," ",39],"(",["T_ISSET","isset",39],"(",["T_VARIABLE","$name",39],")",")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n      ",39],["T_VARIABLE","$query",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","condition",40],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$name",40],")",";",["T_WHITESPACE","\n    ",40],"}",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$result",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$query",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","execute",42],"(",")",";",["T_WHITESPACE","\n    ",42],["T_COMMENT","\/\/ If $module, $uid, and $name was passed, return the value.\n",43],["T_WHITESPACE","    ",44],["T_IF","if",44],["T_WHITESPACE"," ",44],"(",["T_ISSET","isset",44],"(",["T_VARIABLE","$name",44],")",["T_WHITESPACE"," ",44],["T_BOOLEAN_AND","&&",44],["T_WHITESPACE"," ",44],["T_ISSET","isset",44],"(",["T_VARIABLE","$uid",44],")",")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n      ",44],["T_VARIABLE","$result",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$result",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","fetchAllAssoc",45],"(",["T_CONSTANT_ENCAPSED_STRING","'uid'",45],")",";",["T_WHITESPACE","\n      ",45],["T_IF","if",46],["T_WHITESPACE"," ",46],"(",["T_ISSET","isset",46],"(",["T_VARIABLE","$result",46],"[",["T_VARIABLE","$uid",46],"]",")",")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n        ",46],["T_RETURN","return",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$result",47],"[",["T_VARIABLE","$uid",47],"]",["T_OBJECT_OPERATOR","->",47],["T_STRING","serialized",47],["T_WHITESPACE"," ",47],"?",["T_WHITESPACE"," ",47],["T_STRING","unserialize",47],"(",["T_VARIABLE","$result",47],"[",["T_VARIABLE","$uid",47],"]",["T_OBJECT_OPERATOR","->",47],["T_STRING","value",47],")",["T_WHITESPACE"," ",47],":",["T_WHITESPACE"," ",47],["T_VARIABLE","$result",47],"[",["T_VARIABLE","$uid",47],"]",["T_OBJECT_OPERATOR","->",47],["T_STRING","value",47],";",["T_WHITESPACE","\n      ",47],"}",["T_WHITESPACE","\n      ",48],["T_RETURN","return",49],["T_WHITESPACE"," ",49],["T_STRING","NULL",49],";",["T_WHITESPACE","\n    ",49],"}",["T_WHITESPACE","\n    ",50],["T_COMMENT","\/\/ If $module and $uid was passed, return the name\/value pairs.\n",51],["T_WHITESPACE","    ",52],["T_ELSEIF","elseif",52],["T_WHITESPACE"," ",52],"(",["T_ISSET","isset",52],"(",["T_VARIABLE","$uid",52],")",")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n      ",52],["T_VARIABLE","$return",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_ARRAY","array",53],"(",")",";",["T_WHITESPACE","\n      ",53],["T_FOREACH","foreach",54],["T_WHITESPACE"," ",54],"(",["T_VARIABLE","$result",54],["T_WHITESPACE"," ",54],["T_AS","as",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$record",54],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$return",55],"[",["T_VARIABLE","$record",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","name",55],"]",["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],"(",["T_VARIABLE","$record",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","serialized",55],["T_WHITESPACE"," ",55],"?",["T_WHITESPACE"," ",55],["T_STRING","unserialize",55],"(",["T_VARIABLE","$record",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","value",55],")",["T_WHITESPACE"," ",55],":",["T_WHITESPACE"," ",55],["T_VARIABLE","$record",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","value",55],")",";",["T_WHITESPACE","\n      ",55],"}",["T_WHITESPACE","\n      ",56],["T_RETURN","return",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$return",57],";",["T_WHITESPACE","\n    ",57],"}",["T_WHITESPACE","\n    ",58],["T_COMMENT","\/\/ If $module and $name was passed, return the uid\/value pairs.\n",59],["T_WHITESPACE","    ",60],["T_ELSEIF","elseif",60],["T_WHITESPACE"," ",60],"(",["T_ISSET","isset",60],"(",["T_VARIABLE","$name",60],")",")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n      ",60],["T_VARIABLE","$return",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",")",";",["T_WHITESPACE","\n      ",61],["T_FOREACH","foreach",62],["T_WHITESPACE"," ",62],"(",["T_VARIABLE","$result",62],["T_WHITESPACE"," ",62],["T_AS","as",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$record",62],")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$return",63],"[",["T_VARIABLE","$record",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","uid",63],"]",["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],"(",["T_VARIABLE","$record",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","serialized",63],["T_WHITESPACE"," ",63],"?",["T_WHITESPACE"," ",63],["T_STRING","unserialize",63],"(",["T_VARIABLE","$record",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","value",63],")",["T_WHITESPACE"," ",63],":",["T_WHITESPACE"," ",63],["T_VARIABLE","$record",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","value",63],")",";",["T_WHITESPACE","\n      ",63],"}",["T_WHITESPACE","\n      ",64],["T_RETURN","return",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$return",65],";",["T_WHITESPACE","\n    ",65],"}",["T_WHITESPACE","\n    ",66],["T_COMMENT","\/\/ If only $module was passed, return data keyed by uid and name.\n",67],["T_WHITESPACE","    ",68],["T_ELSE","else",68],["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n      ",68],["T_VARIABLE","$return",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_ARRAY","array",69],"(",")",";",["T_WHITESPACE","\n      ",69],["T_FOREACH","foreach",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$result",70],["T_WHITESPACE"," ",70],["T_AS","as",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$record",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$return",71],"[",["T_VARIABLE","$record",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","uid",71],"]","[",["T_VARIABLE","$record",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","name",71],"]",["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],"(",["T_VARIABLE","$record",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","serialized",71],["T_WHITESPACE"," ",71],"?",["T_WHITESPACE"," ",71],["T_STRING","unserialize",71],"(",["T_VARIABLE","$record",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","value",71],")",["T_WHITESPACE"," ",71],":",["T_WHITESPACE"," ",71],["T_VARIABLE","$record",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","value",71],")",";",["T_WHITESPACE","\n      ",71],"}",["T_WHITESPACE","\n      ",72],["T_RETURN","return",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$return",73],";",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n  ",74],"}",["T_WHITESPACE","\n\n  ",75],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",77],["T_WHITESPACE","\n  ",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","set",80],"(",["T_VARIABLE","$module",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$uid",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$name",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$value",80],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$serialized",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_LNUMBER","0",81],";",["T_WHITESPACE","\n    ",81],["T_IF","if",82],["T_WHITESPACE"," ",82],"(","!",["T_STRING","is_scalar",82],"(",["T_VARIABLE","$value",82],")",")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n      ",82],["T_VARIABLE","$value",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","serialize",83],"(",["T_VARIABLE","$value",83],")",";",["T_WHITESPACE","\n      ",83],["T_VARIABLE","$serialized",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_LNUMBER","1",84],";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","connection",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","merge",86],"(",["T_CONSTANT_ENCAPSED_STRING","'users_data'",86],")",["T_WHITESPACE","\n      ",86],["T_OBJECT_OPERATOR","->",87],["T_STRING","keys",87],"(",["T_ARRAY","array",87],"(",["T_WHITESPACE","\n        ",87],["T_CONSTANT_ENCAPSED_STRING","'uid'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$uid",88],",",["T_WHITESPACE","\n        ",88],["T_CONSTANT_ENCAPSED_STRING","'module'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$module",89],",",["T_WHITESPACE","\n        ",89],["T_CONSTANT_ENCAPSED_STRING","'name'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$name",90],",",["T_WHITESPACE","\n      ",90],")",")",["T_WHITESPACE","\n      ",91],["T_OBJECT_OPERATOR","->",92],["T_STRING","fields",92],"(",["T_ARRAY","array",92],"(",["T_WHITESPACE","\n        ",92],["T_CONSTANT_ENCAPSED_STRING","'value'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$value",93],",",["T_WHITESPACE","\n        ",93],["T_CONSTANT_ENCAPSED_STRING","'serialized'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$serialized",94],",",["T_WHITESPACE","\n      ",94],")",")",["T_WHITESPACE","\n      ",95],["T_OBJECT_OPERATOR","->",96],["T_STRING","execute",96],"(",")",";",["T_WHITESPACE","\n  ",96],"}",["T_WHITESPACE","\n\n  ",97],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",99],["T_WHITESPACE","\n  ",101],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","delete",102],"(",["T_VARIABLE","$module",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","NULL",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$uid",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","NULL",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$name",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","NULL",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$query",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","connection",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","delete",103],"(",["T_CONSTANT_ENCAPSED_STRING","'users_data'",103],")",";",["T_WHITESPACE","\n    ",103],["T_COMMENT","\/\/ Cast scalars to array so we can consistently use an IN condition.\n",104],["T_WHITESPACE","    ",105],["T_IF","if",105],["T_WHITESPACE"," ",105],"(",["T_ISSET","isset",105],"(",["T_VARIABLE","$module",105],")",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n      ",105],["T_VARIABLE","$query",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","condition",106],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",106],",",["T_WHITESPACE"," ",106],["T_ARRAY_CAST","(array)",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$module",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'IN'",106],")",";",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n    ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_ISSET","isset",108],"(",["T_VARIABLE","$uid",108],")",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n      ",108],["T_VARIABLE","$query",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","condition",109],"(",["T_CONSTANT_ENCAPSED_STRING","'uid'",109],",",["T_WHITESPACE"," ",109],["T_ARRAY_CAST","(array)",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$uid",109],",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'IN'",109],")",";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n    ",110],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_ISSET","isset",111],"(",["T_VARIABLE","$name",111],")",")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n      ",111],["T_VARIABLE","$query",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","condition",112],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",112],",",["T_WHITESPACE"," ",112],["T_ARRAY_CAST","(array)",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$name",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'IN'",112],")",";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$query",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","execute",114],"(",")",";",["T_WHITESPACE","\n  ",114],"}",["T_WHITESPACE","\n\n",115],"}",["T_WHITESPACE","\n",117]]