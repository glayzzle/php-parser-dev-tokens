[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","user",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Action",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Adds a role to a user.\n *\n * @Action(\n *   id = \"user_add_role_action\",\n *   label = @Translation(\"Add a role to the selected users\"),\n *   type = \"user\"\n * )\n *\/",5],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","AddRoleUser",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","ChangeUserRoleBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",16],["T_WHITESPACE","\n  ",18],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_FUNCTION","function",19],["T_WHITESPACE"," ",19],["T_STRING","execute",19],"(",["T_VARIABLE","$account",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_STRING","NULL",19],")",["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n    ",19],["T_VARIABLE","$rid",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_VARIABLE","$this",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","configuration",20],"[",["T_CONSTANT_ENCAPSED_STRING","'rid'",20],"]",";",["T_WHITESPACE","\n    ",20],["T_COMMENT","\/\/ Skip adding the role to the user if they already have it.\n",21],["T_WHITESPACE","    ",22],["T_IF","if",22],["T_WHITESPACE"," ",22],"(",["T_VARIABLE","$account",22],["T_WHITESPACE"," ",22],["T_IS_NOT_IDENTICAL","!==",22],["T_WHITESPACE"," ",22],["T_STRING","FALSE",22],["T_WHITESPACE"," ",22],["T_BOOLEAN_AND","&&",22],["T_WHITESPACE"," ",22],"!",["T_VARIABLE","$account",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","hasRole",22],"(",["T_VARIABLE","$rid",22],")",")",["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n      ",22],["T_COMMENT","\/\/ For efficiency manually save the original account before applying\n",23],["T_WHITESPACE","      ",24],["T_COMMENT","\/\/ any changes.\n",24],["T_WHITESPACE","      ",25],["T_VARIABLE","$account",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","original",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_CLONE","clone",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$account",25],";",["T_WHITESPACE","\n      ",25],["T_VARIABLE","$account",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","addRole",26],"(",["T_VARIABLE","$rid",26],")",";",["T_WHITESPACE","\n      ",26],["T_VARIABLE","$account",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","save",27],"(",")",";",["T_WHITESPACE","\n    ",27],"}",["T_WHITESPACE","\n  ",28],"}",["T_WHITESPACE","\n\n",29],"}",["T_WHITESPACE","\n",31]]