[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","user",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Validation",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Constraint",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Symfony",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Validator",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Constraint",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Symfony",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Validator",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ConstraintValidatorInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Symfony",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Component",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Validator",7],["T_NS_SEPARATOR","\\",7],["T_STRING","ExecutionContextInterface",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Checks if the user's email address is provided if required.\n *\n * The user mail field is NOT required if account originally had no mail set\n * and the user performing the edit has 'administer users' permission.\n * This allows users without email address to be edited and deleted.\n *\n * @Constraint(\n *   id = \"UserMailRequired\",\n *   label = @Translation(\"User email required\", context = \"Validation\")\n * )\n *\/",9],["T_WHITESPACE","\n",20],["T_CLASS","class",21],["T_WHITESPACE"," ",21],["T_STRING","UserMailRequired",21],["T_WHITESPACE"," ",21],["T_EXTENDS","extends",21],["T_WHITESPACE"," ",21],["T_STRING","Constraint",21],["T_WHITESPACE"," ",21],["T_IMPLEMENTS","implements",21],["T_WHITESPACE"," ",21],["T_STRING","ConstraintValidatorInterface",21],["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * Violation message. Use the same message as FormValidator.\n   *\n   * Note that the name argument is not sanitized so that translators only have\n   * one string to translate. The name is sanitized in self::validate().\n   *\n   * @var string\n   *\/",23],["T_WHITESPACE","\n  ",30],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$message",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'@name field is required.'",31],";",["T_WHITESPACE","\n\n  ",31],["T_DOC_COMMENT","\/**\n   * @var \\Symfony\\Component\\Validator\\ExecutionContextInterface\n   *\/",33],["T_WHITESPACE","\n  ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$context",36],";",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",38],["T_WHITESPACE","\n  ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","initialize",41],"(",["T_STRING","ExecutionContextInterface",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$context",41],")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","context",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$context",42],";",["T_WHITESPACE","\n  ",42],"}",["T_WHITESPACE","\n\n  ",43],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",45],["T_WHITESPACE","\n  ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","validatedBy",48],"(",")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n    ",48],["T_RETURN","return",49],["T_WHITESPACE"," ",49],["T_STRING","get_class",49],"(",["T_VARIABLE","$this",49],")",";",["T_WHITESPACE","\n  ",49],"}",["T_WHITESPACE","\n\n  ",50],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",52],["T_WHITESPACE","\n  ",54],["T_PUBLIC","public",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","validate",55],"(",["T_VARIABLE","$items",55],",",["T_WHITESPACE"," ",55],["T_STRING","Constraint",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$constraint",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n    ",55],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Field\\FieldItemListInterface $items *\/",56],["T_WHITESPACE","\n    ",56],["T_DOC_COMMENT","\/** @var \\Drupal\\user\\UserInterface $account *\/",57],["T_WHITESPACE","\n    ",57],["T_VARIABLE","$account",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$items",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getEntity",58],"(",")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$existing_value",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","NULL",59],";",["T_WHITESPACE","\n    ",59],["T_IF","if",60],["T_WHITESPACE"," ",60],"(",["T_VARIABLE","$account",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","id",60],"(",")",")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n      ",60],["T_VARIABLE","$account_unchanged",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Drupal",61],["T_DOUBLE_COLON","::",61],["T_STRING","entityManager",61],"(",")",["T_WHITESPACE","\n        ",61],["T_OBJECT_OPERATOR","->",62],["T_STRING","getStorage",62],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",62],")",["T_WHITESPACE","\n        ",62],["T_OBJECT_OPERATOR","->",63],["T_STRING","loadUnchanged",63],"(",["T_VARIABLE","$account",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","id",63],"(",")",")",";",["T_WHITESPACE","\n      ",63],["T_VARIABLE","$existing_value",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$account_unchanged",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getEmail",64],"(",")",";",["T_WHITESPACE","\n    ",64],"}",["T_WHITESPACE","\n\n    ",65],["T_VARIABLE","$required",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],"!","(","!",["T_VARIABLE","$existing_value",67],["T_WHITESPACE"," ",67],["T_BOOLEAN_AND","&&",67],["T_WHITESPACE"," ",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Drupal",67],["T_DOUBLE_COLON","::",67],["T_STRING","currentUser",67],"(",")",["T_OBJECT_OPERATOR","->",67],["T_STRING","hasPermission",67],"(",["T_CONSTANT_ENCAPSED_STRING","'administer users'",67],")",")",";",["T_WHITESPACE","\n\n    ",67],["T_IF","if",69],["T_WHITESPACE"," ",69],"(",["T_VARIABLE","$required",69],["T_WHITESPACE"," ",69],["T_BOOLEAN_AND","&&",69],["T_WHITESPACE"," ",69],"(","!",["T_ISSET","isset",69],"(",["T_VARIABLE","$items",69],")",["T_WHITESPACE"," ",69],["T_BOOLEAN_OR","||",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$items",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","isEmpty",69],"(",")",")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n      ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","context",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","addViolation",70],"(",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","message",70],",",["T_WHITESPACE"," ",70],"[",["T_CONSTANT_ENCAPSED_STRING","'@name'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$account",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getFieldDefinition",70],"(",["T_CONSTANT_ENCAPSED_STRING","'mail'",70],")",["T_OBJECT_OPERATOR","->",70],["T_STRING","getLabel",70],"(",")","]",")",";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n  ",71],"}",["T_WHITESPACE","\n\n",72],"}",["T_WHITESPACE","\n",74]]