[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","user",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Condition",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Condition",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ConditionPluginBase",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Form",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FormStateInterface",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Provides a 'User Role' condition.\n *\n * @Condition(\n *   id = \"user_role\",\n *   label = @Translation(\"User Role\"),\n *   context = {\n *     \"user\" = @ContextDefinition(\"entity:user\", label = @Translation(\"User\"))\n *   }\n * )\n *\/",8],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","UserRole",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_STRING","ConditionPluginBase",19],["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",21],["T_WHITESPACE","\n  ",23],["T_PUBLIC","public",24],["T_WHITESPACE"," ",24],["T_FUNCTION","function",24],["T_WHITESPACE"," ",24],["T_STRING","buildConfigurationForm",24],"(",["T_ARRAY","array",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$form",24],",",["T_WHITESPACE"," ",24],["T_STRING","FormStateInterface",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$form_state",24],")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n    ",24],["T_VARIABLE","$form",25],"[",["T_CONSTANT_ENCAPSED_STRING","'roles'",25],"]",["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_ARRAY","array",25],"(",["T_WHITESPACE","\n      ",25],["T_CONSTANT_ENCAPSED_STRING","'#type'",26],["T_WHITESPACE"," ",26],["T_DOUBLE_ARROW","=>",26],["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'checkboxes'",26],",",["T_WHITESPACE","\n      ",26],["T_CONSTANT_ENCAPSED_STRING","'#title'",27],["T_WHITESPACE"," ",27],["T_DOUBLE_ARROW","=>",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","t",27],"(",["T_CONSTANT_ENCAPSED_STRING","'When the user has the following roles'",27],")",",",["T_WHITESPACE","\n      ",27],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",28],["T_WHITESPACE"," ",28],["T_DOUBLE_ARROW","=>",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","configuration",28],"[",["T_CONSTANT_ENCAPSED_STRING","'roles'",28],"]",",",["T_WHITESPACE","\n      ",28],["T_CONSTANT_ENCAPSED_STRING","'#options'",29],["T_WHITESPACE"," ",29],["T_DOUBLE_ARROW","=>",29],["T_WHITESPACE"," ",29],["T_STRING","array_map",29],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Component\\Utility\\Html::escape'",29],",",["T_WHITESPACE"," ",29],["T_STRING","user_role_names",29],"(",")",")",",",["T_WHITESPACE","\n      ",29],["T_CONSTANT_ENCAPSED_STRING","'#description'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","t",30],"(",["T_CONSTANT_ENCAPSED_STRING","'If you select no roles, the condition will evaluate to TRUE for all users.'",30],")",",",["T_WHITESPACE","\n    ",30],")",";",["T_WHITESPACE","\n    ",31],["T_RETURN","return",32],["T_WHITESPACE"," ",32],["T_STRING","parent",32],["T_DOUBLE_COLON","::",32],["T_STRING","buildConfigurationForm",32],"(",["T_VARIABLE","$form",32],",",["T_WHITESPACE"," ",32],["T_VARIABLE","$form_state",32],")",";",["T_WHITESPACE","\n  ",32],"}",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",35],["T_WHITESPACE","\n  ",37],["T_PUBLIC","public",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","defaultConfiguration",38],"(",")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n    ",38],["T_RETURN","return",39],["T_WHITESPACE"," ",39],["T_ARRAY","array",39],"(",["T_WHITESPACE","\n      ",39],["T_CONSTANT_ENCAPSED_STRING","'roles'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_ARRAY","array",40],"(",")",",",["T_WHITESPACE","\n    ",40],")",["T_WHITESPACE"," ",41],"+",["T_WHITESPACE"," ",41],["T_STRING","parent",41],["T_DOUBLE_COLON","::",41],["T_STRING","defaultConfiguration",41],"(",")",";",["T_WHITESPACE","\n  ",41],"}",["T_WHITESPACE","\n\n  ",42],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",44],["T_WHITESPACE","\n  ",46],["T_PUBLIC","public",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","submitConfigurationForm",47],"(",["T_ARRAY","array",47],["T_WHITESPACE"," ",47],"&",["T_VARIABLE","$form",47],",",["T_WHITESPACE"," ",47],["T_STRING","FormStateInterface",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$form_state",47],")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","configuration",48],"[",["T_CONSTANT_ENCAPSED_STRING","'roles'",48],"]",["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","array_filter",48],"(",["T_VARIABLE","$form_state",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getValue",48],"(",["T_CONSTANT_ENCAPSED_STRING","'roles'",48],")",")",";",["T_WHITESPACE","\n    ",48],["T_STRING","parent",49],["T_DOUBLE_COLON","::",49],["T_STRING","submitConfigurationForm",49],"(",["T_VARIABLE","$form",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$form_state",49],")",";",["T_WHITESPACE","\n  ",49],"}",["T_WHITESPACE","\n\n  ",50],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",52],["T_WHITESPACE","\n  ",54],["T_PUBLIC","public",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","summary",55],"(",")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n    ",55],["T_COMMENT","\/\/ Use the role labels. They will be sanitized below.\n",56],["T_WHITESPACE","    ",57],["T_VARIABLE","$roles",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","array_intersect_key",57],"(",["T_STRING","user_role_names",57],"(",")",",",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","configuration",57],"[",["T_CONSTANT_ENCAPSED_STRING","'roles'",57],"]",")",";",["T_WHITESPACE","\n    ",57],["T_IF","if",58],["T_WHITESPACE"," ",58],"(",["T_STRING","count",58],"(",["T_VARIABLE","$roles",58],")",["T_WHITESPACE"," ",58],">",["T_WHITESPACE"," ",58],["T_LNUMBER","1",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n      ",58],["T_VARIABLE","$roles",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","implode",59],"(",["T_CONSTANT_ENCAPSED_STRING","', '",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$roles",59],")",";",["T_WHITESPACE","\n    ",59],"}",["T_WHITESPACE","\n    ",60],["T_ELSE","else",61],["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n      ",61],["T_VARIABLE","$roles",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_STRING","reset",62],"(",["T_VARIABLE","$roles",62],")",";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n    ",63],["T_IF","if",64],["T_WHITESPACE"," ",64],"(","!",["T_EMPTY","empty",64],"(",["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","configuration",64],"[",["T_CONSTANT_ENCAPSED_STRING","'negate'",64],"]",")",")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n      ",64],["T_RETURN","return",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","t",65],"(",["T_CONSTANT_ENCAPSED_STRING","'The user is not a member of @roles'",65],",",["T_WHITESPACE"," ",65],["T_ARRAY","array",65],"(",["T_CONSTANT_ENCAPSED_STRING","'@roles'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$roles",65],")",")",";",["T_WHITESPACE","\n    ",65],"}",["T_WHITESPACE","\n    ",66],["T_ELSE","else",67],["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n      ",67],["T_RETURN","return",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","t",68],"(",["T_CONSTANT_ENCAPSED_STRING","'The user is a member of @roles'",68],",",["T_WHITESPACE"," ",68],["T_ARRAY","array",68],"(",["T_CONSTANT_ENCAPSED_STRING","'@roles'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$roles",68],")",")",";",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n  ",69],"}",["T_WHITESPACE","\n\n  ",70],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",72],["T_WHITESPACE","\n  ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","evaluate",75],"(",")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n    ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_EMPTY","empty",76],"(",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","configuration",76],"[",["T_CONSTANT_ENCAPSED_STRING","'roles'",76],"]",")",["T_WHITESPACE"," ",76],["T_BOOLEAN_AND","&&",76],["T_WHITESPACE"," ",76],"!",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","isNegated",76],"(",")",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n      ",76],["T_RETURN","return",77],["T_WHITESPACE"," ",77],["T_STRING","TRUE",77],";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$user",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getContextValue",79],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",79],")",";",["T_WHITESPACE","\n    ",79],["T_RETURN","return",80],["T_WHITESPACE"," ",80],["T_BOOL_CAST","(bool)",80],["T_WHITESPACE"," ",80],["T_STRING","array_intersect",80],"(",["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","configuration",80],"[",["T_CONSTANT_ENCAPSED_STRING","'roles'",80],"]",",",["T_WHITESPACE"," ",80],["T_VARIABLE","$user",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getRoles",80],"(",")",")",";",["T_WHITESPACE","\n  ",80],"}",["T_WHITESPACE","\n\n  ",81],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",83],["T_WHITESPACE","\n  ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","getCacheContexts",86],"(",")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n    ",86],["T_COMMENT","\/\/ Optimize cache context, if a user cache context is provided, only use\n",87],["T_WHITESPACE","    ",88],["T_COMMENT","\/\/ user.roles, since that's the only part this condition cares about.\n",88],["T_WHITESPACE","    ",89],["T_VARIABLE","$contexts",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],"[","]",";",["T_WHITESPACE","\n    ",89],["T_FOREACH","foreach",90],["T_WHITESPACE"," ",90],"(",["T_STRING","parent",90],["T_DOUBLE_COLON","::",90],["T_STRING","getCacheContexts",90],"(",")",["T_WHITESPACE"," ",90],["T_AS","as",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$context",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n      ",90],["T_VARIABLE","$contexts",91],"[","]",["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$context",91],["T_WHITESPACE"," ",91],["T_IS_EQUAL","==",91],["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'user'",91],["T_WHITESPACE"," ",91],"?",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'user.roles'",91],["T_WHITESPACE"," ",91],":",["T_WHITESPACE"," ",91],["T_VARIABLE","$context",91],";",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n    ",92],["T_RETURN","return",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$contexts",93],";",["T_WHITESPACE","\n  ",93],"}",["T_WHITESPACE","\n\n",94],"}",["T_WHITESPACE","\n",96]]