[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","user",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","migrate",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","migrate",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Exception",5],["T_NS_SEPARATOR","\\",5],["T_STRING","RequirementsException",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","migrate_drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Plugin",6],["T_NS_SEPARATOR","\\",6],["T_STRING","migrate",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CckMigration",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Plugin class for Drupal 7 user migrations dealing with fields and profiles.\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","User",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_STRING","CckMigration",11],["T_WHITESPACE"," ",11],"{",["T_WHITESPACE","\n\n  ",11],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",13],["T_WHITESPACE","\n  ",15],["T_PUBLIC","public",16],["T_WHITESPACE"," ",16],["T_FUNCTION","function",16],["T_WHITESPACE"," ",16],["T_STRING","getProcess",16],"(",")",["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n    ",16],["T_IF","if",17],["T_WHITESPACE"," ",17],"(","!",["T_VARIABLE","$this",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","init",17],")",["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n      ",17],["T_VARIABLE","$this",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","init",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_STRING","TRUE",18],";",["T_WHITESPACE","\n      ",18],["T_VARIABLE","$definition",19],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",19],"]",["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],"[",["T_WHITESPACE","\n        ",19],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",20],["T_WHITESPACE"," ",20],["T_DOUBLE_ARROW","=>",20],["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'user'",20],",",["T_WHITESPACE","\n        ",20],["T_CONSTANT_ENCAPSED_STRING","'ignore_map'",21],["T_WHITESPACE"," ",21],["T_DOUBLE_ARROW","=>",21],["T_WHITESPACE"," ",21],["T_STRING","TRUE",21],",",["T_WHITESPACE","\n      ",21],"]",["T_WHITESPACE"," ",22],"+",["T_WHITESPACE"," ",22],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","source",22],";",["T_WHITESPACE","\n      ",22],["T_VARIABLE","$definition",23],"[",["T_CONSTANT_ENCAPSED_STRING","'destination'",23],"]","[",["T_CONSTANT_ENCAPSED_STRING","'plugin'",23],"]",["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'null'",23],";",["T_WHITESPACE","\n      ",23],["T_IF","if",24],["T_WHITESPACE"," ",24],"(",["T_NS_SEPARATOR","\\",24],["T_STRING","Drupal",24],["T_DOUBLE_COLON","::",24],["T_STRING","moduleHandler",24],"(",")",["T_OBJECT_OPERATOR","->",24],["T_STRING","moduleExists",24],"(",["T_CONSTANT_ENCAPSED_STRING","'field'",24],")",")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n        ",24],["T_VARIABLE","$definition",25],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",25],"]","[",["T_CONSTANT_ENCAPSED_STRING","'plugin'",25],"]",["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'d7_field_instance'",25],";",["T_WHITESPACE","\n        ",25],["T_VARIABLE","$field_migration",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","migrationPluginManager",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","createStubMigration",26],"(",["T_VARIABLE","$definition",26],")",";",["T_WHITESPACE","\n        ",26],["T_FOREACH","foreach",27],["T_WHITESPACE"," ",27],"(",["T_VARIABLE","$field_migration",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","getSourcePlugin",27],"(",")",["T_WHITESPACE"," ",27],["T_AS","as",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$row",27],")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n          ",27],["T_VARIABLE","$field_name",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_VARIABLE","$row",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","getSourceProperty",28],"(",["T_CONSTANT_ENCAPSED_STRING","'field_name'",28],")",";",["T_WHITESPACE","\n          ",28],["T_VARIABLE","$field_type",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_VARIABLE","$row",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","getSourceProperty",29],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",29],")",";",["T_WHITESPACE","\n          ",29],["T_IF","if",30],["T_WHITESPACE"," ",30],"(",["T_EMPTY","empty",30],"(",["T_VARIABLE","$field_type",30],")",")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n            ",30],["T_CONTINUE","continue",31],";",["T_WHITESPACE","\n          ",31],"}",["T_WHITESPACE","\n          ",32],["T_IF","if",33],["T_WHITESPACE"," ",33],"(",["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","cckPluginManager",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","hasDefinition",33],"(",["T_VARIABLE","$field_type",33],")",")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n            ",33],["T_IF","if",34],["T_WHITESPACE"," ",34],"(","!",["T_ISSET","isset",34],"(",["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","cckPluginCache",34],"[",["T_VARIABLE","$field_type",34],"]",")",")",["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n              ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","cckPluginCache",35],"[",["T_VARIABLE","$field_type",35],"]",["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","cckPluginManager",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","createInstance",35],"(",["T_VARIABLE","$field_type",35],",",["T_WHITESPACE"," ",35],"[","]",",",["T_WHITESPACE"," ",35],["T_VARIABLE","$this",35],")",";",["T_WHITESPACE","\n            ",35],"}",["T_WHITESPACE","\n            ",36],["T_VARIABLE","$info",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$row",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","getSource",37],"(",")",";",["T_WHITESPACE","\n            ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","cckPluginCache",38],"[",["T_VARIABLE","$field_type",38],"]",["T_WHITESPACE","\n              ",38],["T_OBJECT_OPERATOR","->",39],["T_STRING","processCckFieldValues",39],"(",["T_VARIABLE","$this",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$field_name",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$info",39],")",";",["T_WHITESPACE","\n          ",39],"}",["T_WHITESPACE","\n          ",40],["T_ELSE","else",41],["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n            ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","process",42],"[",["T_VARIABLE","$field_name",42],"]",["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$field_name",42],";",["T_WHITESPACE","\n          ",42],"}",["T_WHITESPACE","\n        ",43],"}",["T_WHITESPACE","\n      ",44],"}",["T_WHITESPACE","\n      ",45],["T_TRY","try",46],["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$definition",47],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",47],"]","[",["T_CONSTANT_ENCAPSED_STRING","'plugin'",47],"]",["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'profile_field'",47],";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$profile_migration",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","migrationPluginManager",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","createStubMigration",48],"(",["T_VARIABLE","$definition",48],")",";",["T_WHITESPACE","\n        ",48],["T_COMMENT","\/\/ Ensure that Profile is enabled in the source DB.\n",49],["T_WHITESPACE","        ",50],["T_VARIABLE","$profile_migration",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","checkRequirements",50],"(",")",";",["T_WHITESPACE","\n        ",50],["T_FOREACH","foreach",51],["T_WHITESPACE"," ",51],"(",["T_VARIABLE","$profile_migration",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getSourcePlugin",51],"(",")",["T_WHITESPACE"," ",51],["T_AS","as",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$row",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n          ",51],["T_VARIABLE","$name",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$row",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getSourceProperty",52],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",52],")",";",["T_WHITESPACE","\n          ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","process",53],"[",["T_VARIABLE","$name",53],"]",["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$name",53],";",["T_WHITESPACE","\n        ",53],"}",["T_WHITESPACE","\n      ",54],"}",["T_WHITESPACE","\n      ",55],["T_CATCH","catch",56],["T_WHITESPACE"," ",56],"(",["T_STRING","RequirementsException",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$e",56],")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n        ",56],["T_COMMENT","\/\/ The checkRequirements() call will fail when the profile module does\n",57],["T_WHITESPACE","        ",58],["T_COMMENT","\/\/ not exist on the source site.\n",58],["T_WHITESPACE","      ",59],"}",["T_WHITESPACE","\n    ",59],"}",["T_WHITESPACE","\n    ",60],["T_RETURN","return",61],["T_WHITESPACE"," ",61],["T_STRING","parent",61],["T_DOUBLE_COLON","::",61],["T_STRING","getProcess",61],"(",")",";",["T_WHITESPACE","\n  ",61],"}",["T_WHITESPACE","\n\n",62],"}",["T_WHITESPACE","\n",64]]