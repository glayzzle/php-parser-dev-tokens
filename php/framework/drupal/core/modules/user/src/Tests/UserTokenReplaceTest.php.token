[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","user",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Render",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FormattableMarkup",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Render",6],["T_NS_SEPARATOR","\\",6],["T_STRING","BubbleableMetadata",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","language",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","ConfigurableLanguage",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","simpletest",8],["T_NS_SEPARATOR","\\",8],["T_STRING","WebTestBase",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","user",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","User",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Generates text using placeholders for dummy content to check user token\n * replacement.\n *\n * @group user\n *\/",11],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","UserTokenReplaceTest",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_STRING","WebTestBase",17],["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",19],["T_WHITESPACE","\n  ",23],["T_PUBLIC","public",24],["T_WHITESPACE"," ",24],["T_STATIC","static",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$modules",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_ARRAY","array",24],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",24],",",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'user_hooks_test'",24],")",";",["T_WHITESPACE","\n\n  ",24],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",26],["T_WHITESPACE","\n  ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","setUp",29],"(",")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n    ",29],["T_STRING","parent",30],["T_DOUBLE_COLON","::",30],["T_STRING","setUp",30],"(",")",";",["T_WHITESPACE","\n    ",30],["T_STRING","ConfigurableLanguage",31],["T_DOUBLE_COLON","::",31],["T_STRING","createFromLangcode",31],"(",["T_CONSTANT_ENCAPSED_STRING","'de'",31],")",["T_OBJECT_OPERATOR","->",31],["T_STRING","save",31],"(",")",";",["T_WHITESPACE","\n  ",31],"}",["T_WHITESPACE","\n\n  ",32],["T_DOC_COMMENT","\/**\n   * Creates a user, then tests the tokens generated from it.\n   *\/",34],["T_WHITESPACE","\n  ",36],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","testUserTokenReplacement",37],"(",")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n    ",37],["T_VARIABLE","$token_service",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Drupal",38],["T_DOUBLE_COLON","::",38],["T_STRING","token",38],"(",")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$language_interface",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Drupal",39],["T_DOUBLE_COLON","::",39],["T_STRING","languageManager",39],"(",")",["T_OBJECT_OPERATOR","->",39],["T_STRING","getCurrentLanguage",39],"(",")",";",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$url_options",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_ARRAY","array",40],"(",["T_WHITESPACE","\n      ",40],["T_CONSTANT_ENCAPSED_STRING","'absolute'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_STRING","TRUE",41],",",["T_WHITESPACE","\n      ",41],["T_CONSTANT_ENCAPSED_STRING","'language'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$language_interface",42],",",["T_WHITESPACE","\n    ",42],")",";",["T_WHITESPACE","\n\n    ",43],["T_NS_SEPARATOR","\\",45],["T_STRING","Drupal",45],["T_DOUBLE_COLON","::",45],["T_STRING","state",45],"(",")",["T_OBJECT_OPERATOR","->",45],["T_STRING","set",45],"(",["T_CONSTANT_ENCAPSED_STRING","'user_hooks_test_user_format_name_alter'",45],",",["T_WHITESPACE"," ",45],["T_STRING","TRUE",45],")",";",["T_WHITESPACE","\n    ",45],["T_NS_SEPARATOR","\\",46],["T_STRING","Drupal",46],["T_DOUBLE_COLON","::",46],["T_STRING","state",46],"(",")",["T_OBJECT_OPERATOR","->",46],["T_STRING","set",46],"(",["T_CONSTANT_ENCAPSED_STRING","'user_hooks_test_user_format_name_alter_safe'",46],",",["T_WHITESPACE"," ",46],["T_STRING","TRUE",46],")",";",["T_WHITESPACE","\n\n    ",46],["T_COMMENT","\/\/ Create two users and log them in one after another.\n",48],["T_WHITESPACE","    ",49],["T_VARIABLE","$user1",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","drupalCreateUser",49],"(",["T_ARRAY","array",49],"(",")",")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$user2",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","drupalCreateUser",50],"(",["T_ARRAY","array",50],"(",")",")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","drupalLogin",51],"(",["T_VARIABLE","$user1",51],")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","drupalLogout",52],"(",")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","drupalLogin",53],"(",["T_VARIABLE","$user2",53],")",";",["T_WHITESPACE","\n\n    ",53],["T_VARIABLE","$account",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_STRING","User",55],["T_DOUBLE_COLON","::",55],["T_STRING","load",55],"(",["T_VARIABLE","$user1",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","id",55],"(",")",")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$global_account",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","User",56],["T_DOUBLE_COLON","::",56],["T_STRING","load",56],"(",["T_NS_SEPARATOR","\\",56],["T_STRING","Drupal",56],["T_DOUBLE_COLON","::",56],["T_STRING","currentUser",56],"(",")",["T_OBJECT_OPERATOR","->",56],["T_STRING","id",56],"(",")",")",";",["T_WHITESPACE","\n\n    ",56],["T_COMMENT","\/\/ Generate and test tokens.\n",58],["T_WHITESPACE","    ",59],["T_VARIABLE","$tests",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_ARRAY","array",59],"(",")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$tests",60],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:uid]'",60],"]",["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$account",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","id",60],"(",")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$tests",61],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:name]'",61],"]",["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$account",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getAccountName",61],"(",")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$tests",62],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:account-name]'",62],"]",["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$account",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getAccountName",62],"(",")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$tests",63],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:display-name]'",63],"]",["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$account",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getDisplayName",63],"(",")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$tests",64],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:mail]'",64],"]",["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$account",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getEmail",64],"(",")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$tests",65],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:url]'",65],"]",["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$account",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","url",65],"(",["T_CONSTANT_ENCAPSED_STRING","'canonical'",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$url_options",65],")",";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$tests",66],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:edit-url]'",66],"]",["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$account",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","url",66],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-form'",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$url_options",66],")",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$tests",67],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:last-login]'",67],"]",["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","format_date",67],"(",["T_VARIABLE","$account",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getLastLoginTime",67],"(",")",",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'medium'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","''",67],",",["T_WHITESPACE"," ",67],["T_STRING","NULL",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$language_interface",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getId",67],"(",")",")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$tests",68],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:last-login:short]'",68],"]",["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","format_date",68],"(",["T_VARIABLE","$account",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getLastLoginTime",68],"(",")",",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'short'",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","''",68],",",["T_WHITESPACE"," ",68],["T_STRING","NULL",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$language_interface",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getId",68],"(",")",")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$tests",69],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:created]'",69],"]",["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","format_date",69],"(",["T_VARIABLE","$account",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getCreatedTime",69],"(",")",",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'medium'",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","''",69],",",["T_WHITESPACE"," ",69],["T_STRING","NULL",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$language_interface",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getId",69],"(",")",")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$tests",70],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:created:short]'",70],"]",["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","format_date",70],"(",["T_VARIABLE","$account",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getCreatedTime",70],"(",")",",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'short'",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","''",70],",",["T_WHITESPACE"," ",70],["T_STRING","NULL",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$language_interface",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getId",70],"(",")",")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$tests",71],"[",["T_CONSTANT_ENCAPSED_STRING","'[current-user:name]'",71],"]",["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$global_account",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getAccountName",71],"(",")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$tests",72],"[",["T_CONSTANT_ENCAPSED_STRING","'[current-user:account-name]'",72],"]",["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$global_account",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getAccountName",72],"(",")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$tests",73],"[",["T_CONSTANT_ENCAPSED_STRING","'[current-user:display-name]'",73],"]",["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$global_account",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getDisplayName",73],"(",")",";",["T_WHITESPACE","\n\n    ",73],["T_VARIABLE","$base_bubbleable_metadata",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","BubbleableMetadata",75],["T_DOUBLE_COLON","::",75],["T_STRING","createFromObject",75],"(",["T_VARIABLE","$account",75],")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$metadata_tests",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],"[","]",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$metadata_tests",77],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:uid]'",77],"]",["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$base_bubbleable_metadata",77],";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$metadata_tests",78],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:name]'",78],"]",["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$base_bubbleable_metadata",78],";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$metadata_tests",79],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:account-name]'",79],"]",["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$base_bubbleable_metadata",79],";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$metadata_tests",80],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:display-name]'",80],"]",["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$base_bubbleable_metadata",80],";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$metadata_tests",81],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:mail]'",81],"]",["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$base_bubbleable_metadata",81],";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$metadata_tests",82],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:url]'",82],"]",["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$base_bubbleable_metadata",82],";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$metadata_tests",83],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:edit-url]'",83],"]",["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$base_bubbleable_metadata",83],";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$bubbleable_metadata",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_CLONE","clone",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$base_bubbleable_metadata",84],";",["T_WHITESPACE","\n    ",84],["T_COMMENT","\/\/ This test runs with the Language module enabled, which means config is\n",85],["T_WHITESPACE","    ",86],["T_COMMENT","\/\/ overridden by LanguageConfigFactoryOverride (to provide translations of\n",86],["T_WHITESPACE","    ",87],["T_COMMENT","\/\/ config). This causes the interface language cache context to be added for\n",87],["T_WHITESPACE","    ",88],["T_COMMENT","\/\/ config entities. The four next tokens use DateFormat Config entities, and\n",88],["T_WHITESPACE","    ",89],["T_COMMENT","\/\/ therefore have the interface language cache context.\n",89],["T_WHITESPACE","    ",90],["T_VARIABLE","$bubbleable_metadata",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","addCacheContexts",90],"(","[",["T_CONSTANT_ENCAPSED_STRING","'languages:language_interface'",90],"]",")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$metadata_tests",91],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:last-login]'",91],"]",["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$bubbleable_metadata",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","addCacheTags",91],"(","[",["T_CONSTANT_ENCAPSED_STRING","'rendered'",91],"]",")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$metadata_tests",92],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:last-login:short]'",92],"]",["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$bubbleable_metadata",92],";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$metadata_tests",93],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:created]'",93],"]",["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$bubbleable_metadata",93],";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$metadata_tests",94],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:created:short]'",94],"]",["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$bubbleable_metadata",94],";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$metadata_tests",95],"[",["T_CONSTANT_ENCAPSED_STRING","'[current-user:name]'",95],"]",["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$base_bubbleable_metadata",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","merge",95],"(",["T_STRING","BubbleableMetadata",95],["T_DOUBLE_COLON","::",95],["T_STRING","createFromObject",95],"(",["T_VARIABLE","$global_account",95],")",["T_OBJECT_OPERATOR","->",95],["T_STRING","addCacheContexts",95],"(","[",["T_CONSTANT_ENCAPSED_STRING","'user'",95],"]",")",")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$metadata_tests",96],"[",["T_CONSTANT_ENCAPSED_STRING","'[current-user:account-name]'",96],"]",["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$base_bubbleable_metadata",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","merge",96],"(",["T_STRING","BubbleableMetadata",96],["T_DOUBLE_COLON","::",96],["T_STRING","createFromObject",96],"(",["T_VARIABLE","$global_account",96],")",["T_OBJECT_OPERATOR","->",96],["T_STRING","addCacheContexts",96],"(","[",["T_CONSTANT_ENCAPSED_STRING","'user'",96],"]",")",")",";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$metadata_tests",97],"[",["T_CONSTANT_ENCAPSED_STRING","'[current-user:display-name]'",97],"]",["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$base_bubbleable_metadata",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","merge",97],"(",["T_STRING","BubbleableMetadata",97],["T_DOUBLE_COLON","::",97],["T_STRING","createFromObject",97],"(",["T_VARIABLE","$global_account",97],")",["T_OBJECT_OPERATOR","->",97],["T_STRING","addCacheContexts",97],"(","[",["T_CONSTANT_ENCAPSED_STRING","'user'",97],"]",")",")",";",["T_WHITESPACE","\n\n    ",97],["T_COMMENT","\/\/ Test to make sure that we generated something for each token.\n",99],["T_WHITESPACE","    ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertFalse",100],"(",["T_STRING","in_array",100],"(",["T_LNUMBER","0",100],",",["T_WHITESPACE"," ",100],["T_STRING","array_map",100],"(",["T_CONSTANT_ENCAPSED_STRING","'strlen'",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$tests",100],")",")",",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'No empty tokens generated.'",100],")",";",["T_WHITESPACE","\n\n    ",100],["T_FOREACH","foreach",102],["T_WHITESPACE"," ",102],"(",["T_VARIABLE","$tests",102],["T_WHITESPACE"," ",102],["T_AS","as",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$input",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$expected",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n      ",102],["T_VARIABLE","$bubbleable_metadata",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_NEW","new",103],["T_WHITESPACE"," ",103],["T_STRING","BubbleableMetadata",103],"(",")",";",["T_WHITESPACE","\n      ",103],["T_VARIABLE","$output",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$token_service",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","replace",104],"(",["T_VARIABLE","$input",104],",",["T_WHITESPACE"," ",104],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$account",104],"]",",",["T_WHITESPACE"," ",104],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$language_interface",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getId",104],"(",")","]",",",["T_WHITESPACE"," ",104],["T_VARIABLE","$bubbleable_metadata",104],")",";",["T_WHITESPACE","\n      ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertEqual",105],"(",["T_VARIABLE","$output",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$expected",105],",",["T_WHITESPACE"," ",105],["T_NEW","new",105],["T_WHITESPACE"," ",105],["T_STRING","FormattableMarkup",105],"(",["T_CONSTANT_ENCAPSED_STRING","'User token %token replaced.'",105],",",["T_WHITESPACE"," ",105],"[",["T_CONSTANT_ENCAPSED_STRING","'%token'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$input",105],"]",")",")",";",["T_WHITESPACE","\n      ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertEqual",106],"(",["T_VARIABLE","$bubbleable_metadata",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$metadata_tests",106],"[",["T_VARIABLE","$input",106],"]",")",";",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n\n    ",107],["T_COMMENT","\/\/ Generate tokens for the anonymous user.\n",109],["T_WHITESPACE","    ",110],["T_VARIABLE","$anonymous_user",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_STRING","User",110],["T_DOUBLE_COLON","::",110],["T_STRING","load",110],"(",["T_LNUMBER","0",110],")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$tests",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],"[","]",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$tests",112],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:uid]'",112],"]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","t",112],"(",["T_CONSTANT_ENCAPSED_STRING","'not yet assigned'",112],")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$tests",113],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:display-name]'",113],"]",["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$anonymous_user",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getDisplayName",113],"(",")",";",["T_WHITESPACE","\n\n    ",113],["T_VARIABLE","$base_bubbleable_metadata",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_STRING","BubbleableMetadata",115],["T_DOUBLE_COLON","::",115],["T_STRING","createFromObject",115],"(",["T_VARIABLE","$anonymous_user",115],")",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$metadata_tests",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],"[","]",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$metadata_tests",117],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:uid]'",117],"]",["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$base_bubbleable_metadata",117],";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$bubbleable_metadata",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_CLONE","clone",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$base_bubbleable_metadata",118],";",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$bubbleable_metadata",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","addCacheableDependency",119],"(",["T_NS_SEPARATOR","\\",119],["T_STRING","Drupal",119],["T_DOUBLE_COLON","::",119],["T_STRING","config",119],"(",["T_CONSTANT_ENCAPSED_STRING","'user.settings'",119],")",")",";",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$metadata_tests",120],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:display-name]'",120],"]",["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$bubbleable_metadata",120],";",["T_WHITESPACE","\n\n    ",120],["T_FOREACH","foreach",122],["T_WHITESPACE"," ",122],"(",["T_VARIABLE","$tests",122],["T_WHITESPACE"," ",122],["T_AS","as",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$input",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$expected",122],")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n      ",122],["T_VARIABLE","$bubbleable_metadata",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_NEW","new",123],["T_WHITESPACE"," ",123],["T_STRING","BubbleableMetadata",123],"(",")",";",["T_WHITESPACE","\n      ",123],["T_VARIABLE","$output",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$token_service",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","replace",124],"(",["T_VARIABLE","$input",124],",",["T_WHITESPACE"," ",124],["T_ARRAY","array",124],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$anonymous_user",124],")",",",["T_WHITESPACE"," ",124],["T_ARRAY","array",124],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$language_interface",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getId",124],"(",")",")",",",["T_WHITESPACE"," ",124],["T_VARIABLE","$bubbleable_metadata",124],")",";",["T_WHITESPACE","\n      ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertEqual",125],"(",["T_VARIABLE","$output",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$expected",125],",",["T_WHITESPACE"," ",125],["T_STRING","format_string",125],"(",["T_CONSTANT_ENCAPSED_STRING","'Sanitized user token %token replaced.'",125],",",["T_WHITESPACE"," ",125],["T_ARRAY","array",125],"(",["T_CONSTANT_ENCAPSED_STRING","'%token'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$input",125],")",")",")",";",["T_WHITESPACE","\n      ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","assertEqual",126],"(",["T_VARIABLE","$bubbleable_metadata",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$metadata_tests",126],"[",["T_VARIABLE","$input",126],"]",")",";",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n\n    ",127],["T_COMMENT","\/\/ Generate login and cancel link.\n",129],["T_WHITESPACE","    ",130],["T_VARIABLE","$tests",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_ARRAY","array",130],"(",")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$tests",131],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:one-time-login-url]'",131],"]",["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_STRING","user_pass_reset_url",131],"(",["T_VARIABLE","$account",131],")",";",["T_WHITESPACE","\n    ",131],["T_VARIABLE","$tests",132],"[",["T_CONSTANT_ENCAPSED_STRING","'[user:cancel-url]'",132],"]",["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_STRING","user_cancel_url",132],"(",["T_VARIABLE","$account",132],")",";",["T_WHITESPACE","\n\n    ",132],["T_COMMENT","\/\/ Generate tokens with interface language.\n",134],["T_WHITESPACE","    ",135],["T_VARIABLE","$link",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Drupal",135],["T_DOUBLE_COLON","::",135],["T_STRING","url",135],"(",["T_CONSTANT_ENCAPSED_STRING","'user.page'",135],",",["T_WHITESPACE"," ",135],"[","]",",",["T_WHITESPACE"," ",135],["T_ARRAY","array",135],"(",["T_CONSTANT_ENCAPSED_STRING","'absolute'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_STRING","TRUE",135],")",")",";",["T_WHITESPACE","\n    ",135],["T_FOREACH","foreach",136],["T_WHITESPACE"," ",136],"(",["T_VARIABLE","$tests",136],["T_WHITESPACE"," ",136],["T_AS","as",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$input",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$expected",136],")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n      ",136],["T_VARIABLE","$output",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$token_service",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","replace",137],"(",["T_VARIABLE","$input",137],",",["T_WHITESPACE"," ",137],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$account",137],"]",",",["T_WHITESPACE"," ",137],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$language_interface",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getId",137],"(",")",",",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'callback'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'user_mail_tokens'",137],",",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'clear'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_STRING","TRUE",137],"]",")",";",["T_WHITESPACE","\n      ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","assertTrue",138],"(",["T_STRING","strpos",138],"(",["T_VARIABLE","$output",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$link",138],")",["T_WHITESPACE"," ",138],["T_IS_IDENTICAL","===",138],["T_WHITESPACE"," ",138],["T_LNUMBER","0",138],",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'Generated URL is in interface language.'",138],")",";",["T_WHITESPACE","\n    ",138],"}",["T_WHITESPACE","\n\n    ",139],["T_COMMENT","\/\/ Generate tokens with the user's preferred language.\n",141],["T_WHITESPACE","    ",142],["T_VARIABLE","$account",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","preferred_langcode",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'de'",142],";",["T_WHITESPACE","\n    ",142],["T_VARIABLE","$account",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","save",143],"(",")",";",["T_WHITESPACE","\n    ",143],["T_VARIABLE","$link",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Drupal",144],["T_DOUBLE_COLON","::",144],["T_STRING","url",144],"(",["T_CONSTANT_ENCAPSED_STRING","'user.page'",144],",",["T_WHITESPACE"," ",144],"[","]",",",["T_WHITESPACE"," ",144],["T_ARRAY","array",144],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Drupal",144],["T_DOUBLE_COLON","::",144],["T_STRING","languageManager",144],"(",")",["T_OBJECT_OPERATOR","->",144],["T_STRING","getLanguage",144],"(",["T_VARIABLE","$account",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getPreferredLangcode",144],"(",")",")",",",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'absolute'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_STRING","TRUE",144],")",")",";",["T_WHITESPACE","\n    ",144],["T_FOREACH","foreach",145],["T_WHITESPACE"," ",145],"(",["T_VARIABLE","$tests",145],["T_WHITESPACE"," ",145],["T_AS","as",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$input",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$expected",145],")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n      ",145],["T_VARIABLE","$output",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$token_service",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","replace",146],"(",["T_VARIABLE","$input",146],",",["T_WHITESPACE"," ",146],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$account",146],"]",",",["T_WHITESPACE"," ",146],"[",["T_CONSTANT_ENCAPSED_STRING","'callback'",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","'user_mail_tokens'",146],",",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","'clear'",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_STRING","TRUE",146],"]",")",";",["T_WHITESPACE","\n      ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","assertTrue",147],"(",["T_STRING","strpos",147],"(",["T_VARIABLE","$output",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$link",147],")",["T_WHITESPACE"," ",147],["T_IS_IDENTICAL","===",147],["T_WHITESPACE"," ",147],["T_LNUMBER","0",147],",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","\"Generated URL is in the user's preferred language.\"",147],")",";",["T_WHITESPACE","\n    ",147],"}",["T_WHITESPACE","\n\n    ",148],["T_COMMENT","\/\/ Generate tokens with one specific language.\n",150],["T_WHITESPACE","    ",151],["T_VARIABLE","$link",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Drupal",151],["T_DOUBLE_COLON","::",151],["T_STRING","url",151],"(",["T_CONSTANT_ENCAPSED_STRING","'user.page'",151],",",["T_WHITESPACE"," ",151],"[","]",",",["T_WHITESPACE"," ",151],["T_ARRAY","array",151],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Drupal",151],["T_DOUBLE_COLON","::",151],["T_STRING","languageManager",151],"(",")",["T_OBJECT_OPERATOR","->",151],["T_STRING","getLanguage",151],"(",["T_CONSTANT_ENCAPSED_STRING","'de'",151],")",",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'absolute'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_STRING","TRUE",151],")",")",";",["T_WHITESPACE","\n    ",151],["T_FOREACH","foreach",152],["T_WHITESPACE"," ",152],"(",["T_VARIABLE","$tests",152],["T_WHITESPACE"," ",152],["T_AS","as",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$input",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$expected",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n      ",152],["T_FOREACH","foreach",153],["T_WHITESPACE"," ",153],"(",["T_ARRAY","array",153],"(",["T_VARIABLE","$user1",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$user2",153],")",["T_WHITESPACE"," ",153],["T_AS","as",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$account",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$output",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$token_service",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","replace",154],"(",["T_VARIABLE","$input",154],",",["T_WHITESPACE"," ",154],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$account",154],"]",",",["T_WHITESPACE"," ",154],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'de'",154],",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'callback'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'user_mail_tokens'",154],",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'clear'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_STRING","TRUE",154],"]",")",";",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","assertTrue",155],"(",["T_STRING","strpos",155],"(",["T_VARIABLE","$output",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$link",155],")",["T_WHITESPACE"," ",155],["T_IS_IDENTICAL","===",155],["T_WHITESPACE"," ",155],["T_LNUMBER","0",155],",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","\"Generated URL in the requested language.\"",155],")",";",["T_WHITESPACE","\n      ",155],"}",["T_WHITESPACE","\n    ",156],"}",["T_WHITESPACE","\n\n    ",157],["T_COMMENT","\/\/ Generate user display name tokens when safe markup is returned.\n",159],["T_WHITESPACE","    ",160],["T_COMMENT","\/\/ @see user_hooks_test_user_format_name_alter()\n",160],["T_WHITESPACE","    ",161],["T_NS_SEPARATOR","\\",161],["T_STRING","Drupal",161],["T_DOUBLE_COLON","::",161],["T_STRING","state",161],"(",")",["T_OBJECT_OPERATOR","->",161],["T_STRING","set",161],"(",["T_CONSTANT_ENCAPSED_STRING","'user_hooks_test_user_format_name_alter_safe'",161],",",["T_WHITESPACE"," ",161],["T_STRING","TRUE",161],")",";",["T_WHITESPACE","\n    ",161],["T_VARIABLE","$input",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'[user:display-name] [current-user:display-name]'",162],";",["T_WHITESPACE","\n    ",162],["T_VARIABLE","$expected",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],"\"",["T_ENCAPSED_AND_WHITESPACE","<em>",163],["T_CURLY_OPEN","{",163],["T_VARIABLE","$user1",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","id",163],"(",")","}",["T_ENCAPSED_AND_WHITESPACE","<\/em> <em>",163],["T_CURLY_OPEN","{",163],["T_VARIABLE","$user2",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","id",163],"(",")","}",["T_ENCAPSED_AND_WHITESPACE","<\/em>",163],"\"",";",["T_WHITESPACE","\n    ",163],["T_VARIABLE","$output",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$token_service",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","replace",164],"(",["T_VARIABLE","$input",164],",",["T_WHITESPACE"," ",164],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$user1",164],"]",")",";",["T_WHITESPACE","\n    ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","assertEqual",165],"(",["T_VARIABLE","$output",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$expected",165],",",["T_WHITESPACE"," ",165],["T_NEW","new",165],["T_WHITESPACE"," ",165],["T_STRING","FormattableMarkup",165],"(",["T_CONSTANT_ENCAPSED_STRING","'User token %token does not escape safe markup.'",165],",",["T_WHITESPACE"," ",165],"[",["T_CONSTANT_ENCAPSED_STRING","'%token'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'display-name'",165],"]",")",")",";",["T_WHITESPACE","\n  ",165],"}",["T_WHITESPACE","\n\n",166],"}",["T_WHITESPACE","\n",168]]