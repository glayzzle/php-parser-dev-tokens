[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","user",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","simpletest",5],["T_NS_SEPARATOR","\\",5],["T_STRING","WebTestBase",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests the user search page and verifies that sensitive information is hidden\n * from unauthorized users.\n *\n * @group user\n *\/",7],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","UserSearchTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","WebTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PUBLIC","public",20],["T_WHITESPACE"," ",20],["T_STATIC","static",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$modules",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_ARRAY","array",20],"(",["T_CONSTANT_ENCAPSED_STRING","'search'",20],")",";",["T_WHITESPACE","\n\n  ",20],["T_FUNCTION","function",22],["T_WHITESPACE"," ",22],["T_STRING","testUserSearch",22],"(",")",["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n    ",22],["T_COMMENT","\/\/ Verify that a user without 'administer users' permission cannot search\n",23],["T_WHITESPACE","    ",24],["T_COMMENT","\/\/ for users by email address. Additionally, ensure that the username has a\n",24],["T_WHITESPACE","    ",25],["T_COMMENT","\/\/ plus sign to ensure searching works with that.\n",25],["T_WHITESPACE","    ",26],["T_VARIABLE","$user1",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","drupalCreateUser",26],"(",["T_ARRAY","array",26],"(",["T_CONSTANT_ENCAPSED_STRING","'access user profiles'",26],",",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'search content'",26],")",",",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","\"foo+bar\"",26],")",";",["T_WHITESPACE","\n    ",26],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","drupalLogin",27],"(",["T_VARIABLE","$user1",27],")",";",["T_WHITESPACE","\n    ",27],["T_VARIABLE","$keys",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_VARIABLE","$user1",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","getEmail",28],"(",")",";",["T_WHITESPACE","\n    ",28],["T_VARIABLE","$edit",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_ARRAY","array",29],"(",["T_CONSTANT_ENCAPSED_STRING","'keys'",29],["T_WHITESPACE"," ",29],["T_DOUBLE_ARROW","=>",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$keys",29],")",";",["T_WHITESPACE","\n    ",29],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","drupalPostForm",30],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/user'",30],",",["T_WHITESPACE"," ",30],["T_VARIABLE","$edit",30],",",["T_WHITESPACE"," ",30],["T_STRING","t",30],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",30],")",")",";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","assertText",31],"(",["T_STRING","t",31],"(",["T_CONSTANT_ENCAPSED_STRING","'Your search yielded no results.'",31],")",",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'Search by email did not work for non-admin user'",31],")",";",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","assertText",32],"(",["T_CONSTANT_ENCAPSED_STRING","'no results'",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'Search by email gave no-match message'",32],")",";",["T_WHITESPACE","\n\n    ",32],["T_COMMENT","\/\/ Verify that a non-matching query gives an appropriate message.\n",34],["T_WHITESPACE","    ",35],["T_VARIABLE","$keys",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'nomatch'",35],";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$edit",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_ARRAY","array",36],"(",["T_CONSTANT_ENCAPSED_STRING","'keys'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$keys",36],")",";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","drupalPostForm",37],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/user'",37],",",["T_WHITESPACE"," ",37],["T_VARIABLE","$edit",37],",",["T_WHITESPACE"," ",37],["T_STRING","t",37],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",37],")",")",";",["T_WHITESPACE","\n    ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","assertText",38],"(",["T_CONSTANT_ENCAPSED_STRING","'no results'",38],",",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'Non-matching search gave appropriate message'",38],")",";",["T_WHITESPACE","\n\n    ",38],["T_COMMENT","\/\/ Verify that a user with search permission can search for users by name.\n",40],["T_WHITESPACE","    ",41],["T_VARIABLE","$keys",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$user1",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getUsername",41],"(",")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$edit",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_ARRAY","array",42],"(",["T_CONSTANT_ENCAPSED_STRING","'keys'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$keys",42],")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","drupalPostForm",43],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/user'",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$edit",43],",",["T_WHITESPACE"," ",43],["T_STRING","t",43],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",43],")",")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","assertLink",44],"(",["T_VARIABLE","$keys",44],",",["T_WHITESPACE"," ",44],["T_LNUMBER","0",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'Search by username worked for non-admin user'",44],")",";",["T_WHITESPACE","\n\n    ",44],["T_COMMENT","\/\/ Verify that searching by sub-string works too.\n",46],["T_WHITESPACE","    ",47],["T_VARIABLE","$subkey",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_STRING","substr",47],"(",["T_VARIABLE","$keys",47],",",["T_WHITESPACE"," ",47],["T_LNUMBER","1",47],",",["T_WHITESPACE"," ",47],["T_LNUMBER","5",47],")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$edit",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_ARRAY","array",48],"(",["T_CONSTANT_ENCAPSED_STRING","'keys'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$subkey",48],")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","drupalPostForm",49],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/user'",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$edit",49],",",["T_WHITESPACE"," ",49],["T_STRING","t",49],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",49],")",")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","assertLink",50],"(",["T_VARIABLE","$keys",50],",",["T_WHITESPACE"," ",50],["T_LNUMBER","0",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'Search by username substring worked for non-admin user'",50],")",";",["T_WHITESPACE","\n\n    ",50],["T_COMMENT","\/\/ Verify that wildcard search works.\n",52],["T_WHITESPACE","    ",53],["T_VARIABLE","$subkey",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","substr",53],"(",["T_VARIABLE","$keys",53],",",["T_WHITESPACE"," ",53],["T_LNUMBER","0",53],",",["T_WHITESPACE"," ",53],["T_LNUMBER","2",53],")",["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'*'",53],["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_STRING","substr",53],"(",["T_VARIABLE","$keys",53],",",["T_WHITESPACE"," ",53],["T_LNUMBER","4",53],",",["T_WHITESPACE"," ",53],["T_LNUMBER","2",53],")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$edit",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_ARRAY","array",54],"(",["T_CONSTANT_ENCAPSED_STRING","'keys'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$subkey",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","drupalPostForm",55],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/user'",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$edit",55],",",["T_WHITESPACE"," ",55],["T_STRING","t",55],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",55],")",")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","assertLink",56],"(",["T_VARIABLE","$keys",56],",",["T_WHITESPACE"," ",56],["T_LNUMBER","0",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'Search with wildcard worked for non-admin user'",56],")",";",["T_WHITESPACE","\n\n    ",56],["T_COMMENT","\/\/ Verify that a user with 'administer users' permission can search by\n",58],["T_WHITESPACE","    ",59],["T_COMMENT","\/\/ email.\n",59],["T_WHITESPACE","    ",60],["T_VARIABLE","$user2",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","drupalCreateUser",60],"(",["T_ARRAY","array",60],"(",["T_CONSTANT_ENCAPSED_STRING","'administer users'",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'access user profiles'",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'search content'",60],")",")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","drupalLogin",61],"(",["T_VARIABLE","$user2",61],")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$keys",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$user2",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getEmail",62],"(",")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$edit",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_ARRAY","array",63],"(",["T_CONSTANT_ENCAPSED_STRING","'keys'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$keys",63],")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","drupalPostForm",64],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/user'",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$edit",64],",",["T_WHITESPACE"," ",64],["T_STRING","t",64],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",64],")",")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","assertText",65],"(",["T_VARIABLE","$keys",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'Search by email works for administrative user'",65],")",";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","assertText",66],"(",["T_VARIABLE","$user2",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getUsername",66],"(",")",",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'Search by email resulted in username on page for administrative user'",66],")",";",["T_WHITESPACE","\n\n    ",66],["T_COMMENT","\/\/ Verify that a substring works too for email.\n",68],["T_WHITESPACE","    ",69],["T_VARIABLE","$subkey",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","substr",69],"(",["T_VARIABLE","$keys",69],",",["T_WHITESPACE"," ",69],["T_LNUMBER","1",69],",",["T_WHITESPACE"," ",69],["T_LNUMBER","5",69],")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$edit",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_ARRAY","array",70],"(",["T_CONSTANT_ENCAPSED_STRING","'keys'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$subkey",70],")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","drupalPostForm",71],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/user'",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$edit",71],",",["T_WHITESPACE"," ",71],["T_STRING","t",71],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",71],")",")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertText",72],"(",["T_VARIABLE","$keys",72],",",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'Search by email substring works for administrative user'",72],")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertText",73],"(",["T_VARIABLE","$user2",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getUsername",73],"(",")",",",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'Search by email substring resulted in username on page for administrative user'",73],")",";",["T_WHITESPACE","\n\n    ",73],["T_COMMENT","\/\/ Verify that wildcard search works for email\n",75],["T_WHITESPACE","    ",76],["T_VARIABLE","$subkey",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_STRING","substr",76],"(",["T_VARIABLE","$keys",76],",",["T_WHITESPACE"," ",76],["T_LNUMBER","0",76],",",["T_WHITESPACE"," ",76],["T_LNUMBER","2",76],")",["T_WHITESPACE"," ",76],".",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'*'",76],["T_WHITESPACE"," ",76],".",["T_WHITESPACE"," ",76],["T_STRING","substr",76],"(",["T_VARIABLE","$keys",76],",",["T_WHITESPACE"," ",76],["T_LNUMBER","4",76],",",["T_WHITESPACE"," ",76],["T_LNUMBER","2",76],")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$edit",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_ARRAY","array",77],"(",["T_CONSTANT_ENCAPSED_STRING","'keys'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$subkey",77],")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","drupalPostForm",78],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/user'",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$edit",78],",",["T_WHITESPACE"," ",78],["T_STRING","t",78],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",78],")",")",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","assertText",79],"(",["T_VARIABLE","$user2",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getUsername",79],"(",")",",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'Search for email wildcard resulted in username on page for administrative user'",79],")",";",["T_WHITESPACE","\n\n    ",79],["T_COMMENT","\/\/ Verify that if they search by user name, they see email address too.\n",81],["T_WHITESPACE","    ",82],["T_VARIABLE","$keys",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$user1",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getUsername",82],"(",")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$edit",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_ARRAY","array",83],"(",["T_CONSTANT_ENCAPSED_STRING","'keys'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$keys",83],")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","drupalPostForm",84],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/user'",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$edit",84],",",["T_WHITESPACE"," ",84],["T_STRING","t",84],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",84],")",")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertText",85],"(",["T_VARIABLE","$keys",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'Search by username works for admin user'",85],")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertText",86],"(",["T_VARIABLE","$user1",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getEmail",86],"(",")",",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'Search by username for admin shows email address too'",86],")",";",["T_WHITESPACE","\n\n    ",86],["T_COMMENT","\/\/ Create a blocked user.\n",88],["T_WHITESPACE","    ",89],["T_VARIABLE","$blocked_user",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","drupalCreateUser",89],"(",")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$blocked_user",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","block",90],"(",")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$blocked_user",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","save",91],"(",")",";",["T_WHITESPACE","\n\n    ",91],["T_COMMENT","\/\/ Verify that users with \"administer users\" permissions can see blocked\n",93],["T_WHITESPACE","    ",94],["T_COMMENT","\/\/ accounts in search results.\n",94],["T_WHITESPACE","    ",95],["T_VARIABLE","$edit",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_ARRAY","array",95],"(",["T_CONSTANT_ENCAPSED_STRING","'keys'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$blocked_user",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getUsername",95],"(",")",")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","drupalPostForm",96],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/user'",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$edit",96],",",["T_WHITESPACE"," ",96],["T_STRING","t",96],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",96],")",")",";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","assertText",97],"(",["T_VARIABLE","$blocked_user",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getUsername",97],"(",")",",",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'Blocked users are listed on the user search results for users with the \"administer users\" permission.'",97],")",";",["T_WHITESPACE","\n\n    ",97],["T_COMMENT","\/\/ Verify that users without \"administer users\" permissions do not see\n",99],["T_WHITESPACE","    ",100],["T_COMMENT","\/\/ blocked accounts in search results.\n",100],["T_WHITESPACE","    ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","drupalLogin",101],"(",["T_VARIABLE","$user1",101],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$edit",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_ARRAY","array",102],"(",["T_CONSTANT_ENCAPSED_STRING","'keys'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$blocked_user",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getUsername",102],"(",")",")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","drupalPostForm",103],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/user'",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$edit",103],",",["T_WHITESPACE"," ",103],["T_STRING","t",103],"(",["T_CONSTANT_ENCAPSED_STRING","'Search'",103],")",")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","assertText",104],"(",["T_STRING","t",104],"(",["T_CONSTANT_ENCAPSED_STRING","'Your search yielded no results.'",104],")",",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'Blocked users are hidden from the user search results.'",104],")",";",["T_WHITESPACE","\n\n    ",104],["T_COMMENT","\/\/ Create a user without search permission, and one without user page view\n",106],["T_WHITESPACE","    ",107],["T_COMMENT","\/\/ permission. Verify that neither one can access the user search page.\n",107],["T_WHITESPACE","    ",108],["T_VARIABLE","$user3",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","drupalCreateUser",108],"(",["T_ARRAY","array",108],"(",["T_CONSTANT_ENCAPSED_STRING","'search content'",108],")",")",";",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","drupalLogin",109],"(",["T_VARIABLE","$user3",109],")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","drupalGet",110],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/user'",110],")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertResponse",111],"(",["T_CONSTANT_ENCAPSED_STRING","'403'",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'User without user profile access cannot search'",111],")",";",["T_WHITESPACE","\n\n    ",111],["T_VARIABLE","$user4",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","drupalCreateUser",113],"(",["T_ARRAY","array",113],"(",["T_CONSTANT_ENCAPSED_STRING","'access user profiles'",113],")",")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","drupalLogin",114],"(",["T_VARIABLE","$user4",114],")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","drupalGet",115],"(",["T_CONSTANT_ENCAPSED_STRING","'search\/user'",115],")",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","assertResponse",116],"(",["T_CONSTANT_ENCAPSED_STRING","'403'",116],",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'User without search permission cannot search'",116],")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","drupalLogout",117],"(",")",";",["T_WHITESPACE","\n  ",117],"}",["T_WHITESPACE","\n\n",118],"}",["T_WHITESPACE","\n",120]]