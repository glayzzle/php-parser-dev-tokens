[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","user",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","EntityFormDisplay",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Utility",6],["T_NS_SEPARATOR","\\",6],["T_STRING","SafeMarkup",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Field",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FieldStorageDefinitionInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","field",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","FieldConfig",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","field",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","FieldStorageConfig",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","simpletest",10],["T_NS_SEPARATOR","\\",10],["T_STRING","WebTestBase",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Tests registration of user under different configurations.\n *\n * @group user\n *\/",12],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","UserRegistrationTest",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_STRING","WebTestBase",17],["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",19],["T_WHITESPACE","\n  ",23],["T_PUBLIC","public",24],["T_WHITESPACE"," ",24],["T_STATIC","static",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$modules",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_ARRAY","array",24],"(",["T_CONSTANT_ENCAPSED_STRING","'field_test'",24],")",";",["T_WHITESPACE","\n\n  ",24],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","testRegistrationWithEmailVerification",26],"(",")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n    ",26],["T_VARIABLE","$config",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","config",27],"(",["T_CONSTANT_ENCAPSED_STRING","'user.settings'",27],")",";",["T_WHITESPACE","\n    ",27],["T_COMMENT","\/\/ Require email verification.\n",28],["T_WHITESPACE","    ",29],["T_VARIABLE","$config",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","set",29],"(",["T_CONSTANT_ENCAPSED_STRING","'verify_mail'",29],",",["T_WHITESPACE"," ",29],["T_STRING","TRUE",29],")",["T_OBJECT_OPERATOR","->",29],["T_STRING","save",29],"(",")",";",["T_WHITESPACE","\n\n    ",29],["T_COMMENT","\/\/ Set registration to administrator only.\n",31],["T_WHITESPACE","    ",32],["T_VARIABLE","$config",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","set",32],"(",["T_CONSTANT_ENCAPSED_STRING","'register'",32],",",["T_WHITESPACE"," ",32],["T_STRING","USER_REGISTER_ADMINISTRATORS_ONLY",32],")",["T_OBJECT_OPERATOR","->",32],["T_STRING","save",32],"(",")",";",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","drupalGet",33],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/register'",33],")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","assertResponse",34],"(",["T_LNUMBER","403",34],",",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'Registration page is inaccessible when only administrators can create accounts.'",34],")",";",["T_WHITESPACE","\n\n    ",34],["T_COMMENT","\/\/ Allow registration by site visitors without administrator approval.\n",36],["T_WHITESPACE","    ",37],["T_VARIABLE","$config",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","set",37],"(",["T_CONSTANT_ENCAPSED_STRING","'register'",37],",",["T_WHITESPACE"," ",37],["T_STRING","USER_REGISTER_VISITORS",37],")",["T_OBJECT_OPERATOR","->",37],["T_STRING","save",37],"(",")",";",["T_WHITESPACE","\n    ",37],["T_VARIABLE","$edit",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_ARRAY","array",38],"(",")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$edit",39],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",39],"]",["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$name",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","randomMachineName",39],"(",")",";",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$edit",40],"[",["T_CONSTANT_ENCAPSED_STRING","'mail'",40],"]",["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$mail",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$edit",40],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",40],"]",["T_WHITESPACE"," ",40],".",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'@example.com'",40],";",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","drupalPostForm",41],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/register'",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$edit",41],",",["T_WHITESPACE"," ",41],["T_STRING","t",41],"(",["T_CONSTANT_ENCAPSED_STRING","'Create new account'",41],")",")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","assertText",42],"(",["T_STRING","t",42],"(",["T_CONSTANT_ENCAPSED_STRING","'A welcome message with further instructions has been sent to your email address.'",42],")",",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'User registered successfully.'",42],")",";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/** @var EntityStorageInterface $storage *\/",44],["T_WHITESPACE","\n    ",44],["T_VARIABLE","$storage",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","container",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","get",45],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",45],")",["T_OBJECT_OPERATOR","->",45],["T_STRING","getStorage",45],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",45],")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$accounts",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$storage",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","loadByProperties",46],"(","[",["T_CONSTANT_ENCAPSED_STRING","'name'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$name",46],",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'mail'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$mail",46],"]",")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$new_user",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_STRING","reset",47],"(",["T_VARIABLE","$accounts",47],")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","assertTrue",48],"(",["T_VARIABLE","$new_user",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","isActive",48],"(",")",",",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'New account is active after registration.'",48],")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$resetURL",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","user_pass_reset_url",49],"(",["T_VARIABLE","$new_user",49],")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","drupalGet",50],"(",["T_VARIABLE","$resetURL",50],")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertTitle",51],"(",["T_STRING","t",51],"(",["T_CONSTANT_ENCAPSED_STRING","'Set password | Drupal'",51],")",",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'Page title is \"Set password\".'",51],")",";",["T_WHITESPACE","\n\n    ",51],["T_COMMENT","\/\/ Allow registration by site visitors, but require administrator approval.\n",53],["T_WHITESPACE","    ",54],["T_VARIABLE","$config",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","set",54],"(",["T_CONSTANT_ENCAPSED_STRING","'register'",54],",",["T_WHITESPACE"," ",54],["T_STRING","USER_REGISTER_VISITORS_ADMINISTRATIVE_APPROVAL",54],")",["T_OBJECT_OPERATOR","->",54],["T_STRING","save",54],"(",")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$edit",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$edit",56],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",56],"]",["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$name",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","randomMachineName",56],"(",")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$edit",57],"[",["T_CONSTANT_ENCAPSED_STRING","'mail'",57],"]",["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$mail",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$edit",57],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",57],"]",["T_WHITESPACE"," ",57],".",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'@example.com'",57],";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","drupalPostForm",58],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/register'",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$edit",58],",",["T_WHITESPACE"," ",58],["T_STRING","t",58],"(",["T_CONSTANT_ENCAPSED_STRING","'Create new account'",58],")",")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","container",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","get",59],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",59],")",["T_OBJECT_OPERATOR","->",59],["T_STRING","getStorage",59],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",59],")",["T_OBJECT_OPERATOR","->",59],["T_STRING","resetCache",59],"(",")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$accounts",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$storage",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","loadByProperties",60],"(","[",["T_CONSTANT_ENCAPSED_STRING","'name'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$name",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'mail'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$mail",60],"]",")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$new_user",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","reset",61],"(",["T_VARIABLE","$accounts",61],")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertFalse",62],"(",["T_VARIABLE","$new_user",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","isActive",62],"(",")",",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'New account is blocked until approved by an administrator.'",62],")",";",["T_WHITESPACE","\n  ",62],"}",["T_WHITESPACE","\n\n  ",63],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","testRegistrationWithoutEmailVerification",65],"(",")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$config",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","config",66],"(",["T_CONSTANT_ENCAPSED_STRING","'user.settings'",66],")",";",["T_WHITESPACE","\n    ",66],["T_COMMENT","\/\/ Don't require email verification and allow registration by site visitors\n",67],["T_WHITESPACE","    ",68],["T_COMMENT","\/\/ without administrator approval.\n",68],["T_WHITESPACE","    ",69],["T_VARIABLE","$config",69],["T_WHITESPACE","\n      ",69],["T_OBJECT_OPERATOR","->",70],["T_STRING","set",70],"(",["T_CONSTANT_ENCAPSED_STRING","'verify_mail'",70],",",["T_WHITESPACE"," ",70],["T_STRING","FALSE",70],")",["T_WHITESPACE","\n      ",70],["T_OBJECT_OPERATOR","->",71],["T_STRING","set",71],"(",["T_CONSTANT_ENCAPSED_STRING","'register'",71],",",["T_WHITESPACE"," ",71],["T_STRING","USER_REGISTER_VISITORS",71],")",["T_WHITESPACE","\n      ",71],["T_OBJECT_OPERATOR","->",72],["T_STRING","save",72],"(",")",";",["T_WHITESPACE","\n\n    ",72],["T_VARIABLE","$edit",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_ARRAY","array",74],"(",")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$edit",75],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",75],"]",["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$name",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","randomMachineName",75],"(",")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$edit",76],"[",["T_CONSTANT_ENCAPSED_STRING","'mail'",76],"]",["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$mail",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$edit",76],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",76],"]",["T_WHITESPACE"," ",76],".",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'@example.com'",76],";",["T_WHITESPACE","\n\n    ",76],["T_COMMENT","\/\/ Try entering a mismatching password.\n",78],["T_WHITESPACE","    ",79],["T_VARIABLE","$edit",79],"[",["T_CONSTANT_ENCAPSED_STRING","'pass[pass1]'",79],"]",["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'99999.0'",79],";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$edit",80],"[",["T_CONSTANT_ENCAPSED_STRING","'pass[pass2]'",80],"]",["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'99999'",80],";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","drupalPostForm",81],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/register'",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$edit",81],",",["T_WHITESPACE"," ",81],["T_STRING","t",81],"(",["T_CONSTANT_ENCAPSED_STRING","'Create new account'",81],")",")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertText",82],"(",["T_STRING","t",82],"(",["T_CONSTANT_ENCAPSED_STRING","'The specified passwords do not match.'",82],")",",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'Typing mismatched passwords displays an error message.'",82],")",";",["T_WHITESPACE","\n\n    ",82],["T_COMMENT","\/\/ Enter a correct password.\n",84],["T_WHITESPACE","    ",85],["T_VARIABLE","$edit",85],"[",["T_CONSTANT_ENCAPSED_STRING","'pass[pass1]'",85],"]",["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$new_pass",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","randomMachineName",85],"(",")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$edit",86],"[",["T_CONSTANT_ENCAPSED_STRING","'pass[pass2]'",86],"]",["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$new_pass",86],";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","drupalPostForm",87],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/register'",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$edit",87],",",["T_WHITESPACE"," ",87],["T_STRING","t",87],"(",["T_CONSTANT_ENCAPSED_STRING","'Create new account'",87],")",")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","container",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","get",88],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",88],")",["T_OBJECT_OPERATOR","->",88],["T_STRING","getStorage",88],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",88],")",["T_OBJECT_OPERATOR","->",88],["T_STRING","resetCache",88],"(",")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$accounts",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","container",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","get",89],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",89],")",["T_OBJECT_OPERATOR","->",89],["T_STRING","getStorage",89],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",89],")",["T_WHITESPACE","\n      ",89],["T_OBJECT_OPERATOR","->",90],["T_STRING","loadByProperties",90],"(","[",["T_CONSTANT_ENCAPSED_STRING","'name'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$name",90],",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'mail'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$mail",90],"]",")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$new_user",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_STRING","reset",91],"(",["T_VARIABLE","$accounts",91],")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertNotNull",92],"(",["T_VARIABLE","$new_user",92],",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'New account successfully created with matching passwords.'",92],")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertText",93],"(",["T_STRING","t",93],"(",["T_CONSTANT_ENCAPSED_STRING","'Registration successful. You are now logged in.'",93],")",",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'Users are logged in after registering.'",93],")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","drupalLogout",94],"(",")",";",["T_WHITESPACE","\n\n    ",94],["T_COMMENT","\/\/ Allow registration by site visitors, but require administrator approval.\n",96],["T_WHITESPACE","    ",97],["T_VARIABLE","$config",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","set",97],"(",["T_CONSTANT_ENCAPSED_STRING","'register'",97],",",["T_WHITESPACE"," ",97],["T_STRING","USER_REGISTER_VISITORS_ADMINISTRATIVE_APPROVAL",97],")",["T_OBJECT_OPERATOR","->",97],["T_STRING","save",97],"(",")",";",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$edit",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_ARRAY","array",98],"(",")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$edit",99],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",99],"]",["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$name",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","randomMachineName",99],"(",")",";",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$edit",100],"[",["T_CONSTANT_ENCAPSED_STRING","'mail'",100],"]",["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$mail",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$edit",100],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",100],"]",["T_WHITESPACE"," ",100],".",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'@example.com'",100],";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$edit",101],"[",["T_CONSTANT_ENCAPSED_STRING","'pass[pass1]'",101],"]",["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$pass",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","randomMachineName",101],"(",")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$edit",102],"[",["T_CONSTANT_ENCAPSED_STRING","'pass[pass2]'",102],"]",["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$pass",102],";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","drupalPostForm",103],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/register'",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$edit",103],",",["T_WHITESPACE"," ",103],["T_STRING","t",103],"(",["T_CONSTANT_ENCAPSED_STRING","'Create new account'",103],")",")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","assertText",104],"(",["T_STRING","t",104],"(",["T_CONSTANT_ENCAPSED_STRING","'Thank you for applying for an account. Your account is currently pending approval by the site administrator.'",104],")",",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'Users are notified of pending approval'",104],")",";",["T_WHITESPACE","\n\n    ",104],["T_COMMENT","\/\/ Try to log in before administrator approval.\n",106],["T_WHITESPACE","    ",107],["T_VARIABLE","$auth",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_ARRAY","array",107],"(",["T_WHITESPACE","\n      ",107],["T_CONSTANT_ENCAPSED_STRING","'name'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$name",108],",",["T_WHITESPACE","\n      ",108],["T_CONSTANT_ENCAPSED_STRING","'pass'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$pass",109],",",["T_WHITESPACE","\n    ",109],")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","drupalPostForm",111],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/login'",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$auth",111],",",["T_WHITESPACE"," ",111],["T_STRING","t",111],"(",["T_CONSTANT_ENCAPSED_STRING","'Log in'",111],")",")",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","assertText",112],"(",["T_STRING","t",112],"(",["T_CONSTANT_ENCAPSED_STRING","'The username @name has not been activated or is blocked.'",112],",",["T_WHITESPACE"," ",112],["T_ARRAY","array",112],"(",["T_CONSTANT_ENCAPSED_STRING","'@name'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$name",112],")",")",",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'User cannot log in yet.'",112],")",";",["T_WHITESPACE","\n\n    ",112],["T_COMMENT","\/\/ Activate the new account.\n",114],["T_WHITESPACE","    ",115],["T_VARIABLE","$accounts",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","container",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","get",115],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",115],")",["T_OBJECT_OPERATOR","->",115],["T_STRING","getStorage",115],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",115],")",["T_WHITESPACE","\n      ",115],["T_OBJECT_OPERATOR","->",116],["T_STRING","loadByProperties",116],"(","[",["T_CONSTANT_ENCAPSED_STRING","'name'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$name",116],",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'mail'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$mail",116],"]",")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$new_user",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_STRING","reset",117],"(",["T_VARIABLE","$accounts",117],")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$admin_user",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","drupalCreateUser",118],"(",["T_ARRAY","array",118],"(",["T_CONSTANT_ENCAPSED_STRING","'administer users'",118],")",")",";",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","drupalLogin",119],"(",["T_VARIABLE","$admin_user",119],")",";",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$edit",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_ARRAY","array",120],"(",["T_WHITESPACE","\n      ",120],["T_CONSTANT_ENCAPSED_STRING","'status'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_LNUMBER","1",121],",",["T_WHITESPACE","\n    ",121],")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","drupalPostForm",123],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/'",123],["T_WHITESPACE"," ",123],".",["T_WHITESPACE"," ",123],["T_VARIABLE","$new_user",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","id",123],"(",")",["T_WHITESPACE"," ",123],".",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$edit",123],",",["T_WHITESPACE"," ",123],["T_STRING","t",123],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",123],")",")",";",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","drupalLogout",124],"(",")",";",["T_WHITESPACE","\n\n    ",124],["T_COMMENT","\/\/ Log in after administrator approval.\n",126],["T_WHITESPACE","    ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","drupalPostForm",127],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/login'",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$auth",127],",",["T_WHITESPACE"," ",127],["T_STRING","t",127],"(",["T_CONSTANT_ENCAPSED_STRING","'Log in'",127],")",")",";",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","assertText",128],"(",["T_STRING","t",128],"(",["T_CONSTANT_ENCAPSED_STRING","'Member for'",128],")",",",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'User can log in after administrator approval.'",128],")",";",["T_WHITESPACE","\n  ",128],"}",["T_WHITESPACE","\n\n  ",129],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","testRegistrationEmailDuplicates",131],"(",")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n    ",131],["T_COMMENT","\/\/ Don't require email verification and allow registration by site visitors\n",132],["T_WHITESPACE","    ",133],["T_COMMENT","\/\/ without administrator approval.\n",133],["T_WHITESPACE","    ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","config",134],"(",["T_CONSTANT_ENCAPSED_STRING","'user.settings'",134],")",["T_WHITESPACE","\n      ",134],["T_OBJECT_OPERATOR","->",135],["T_STRING","set",135],"(",["T_CONSTANT_ENCAPSED_STRING","'verify_mail'",135],",",["T_WHITESPACE"," ",135],["T_STRING","FALSE",135],")",["T_WHITESPACE","\n      ",135],["T_OBJECT_OPERATOR","->",136],["T_STRING","set",136],"(",["T_CONSTANT_ENCAPSED_STRING","'register'",136],",",["T_WHITESPACE"," ",136],["T_STRING","USER_REGISTER_VISITORS",136],")",["T_WHITESPACE","\n      ",136],["T_OBJECT_OPERATOR","->",137],["T_STRING","save",137],"(",")",";",["T_WHITESPACE","\n\n    ",137],["T_COMMENT","\/\/ Set up a user to check for duplicates.\n",139],["T_WHITESPACE","    ",140],["T_VARIABLE","$duplicate_user",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","drupalCreateUser",140],"(",")",";",["T_WHITESPACE","\n\n    ",140],["T_VARIABLE","$edit",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_ARRAY","array",142],"(",")",";",["T_WHITESPACE","\n    ",142],["T_VARIABLE","$edit",143],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",143],"]",["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","randomMachineName",143],"(",")",";",["T_WHITESPACE","\n    ",143],["T_VARIABLE","$edit",144],"[",["T_CONSTANT_ENCAPSED_STRING","'mail'",144],"]",["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$duplicate_user",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getEmail",144],"(",")",";",["T_WHITESPACE","\n\n    ",144],["T_COMMENT","\/\/ Attempt to create a new account using an existing email address.\n",146],["T_WHITESPACE","    ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","drupalPostForm",147],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/register'",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$edit",147],",",["T_WHITESPACE"," ",147],["T_STRING","t",147],"(",["T_CONSTANT_ENCAPSED_STRING","'Create new account'",147],")",")",";",["T_WHITESPACE","\n    ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","assertText",148],"(",["T_STRING","t",148],"(",["T_CONSTANT_ENCAPSED_STRING","'The email address @email is already taken.'",148],",",["T_WHITESPACE"," ",148],["T_ARRAY","array",148],"(",["T_CONSTANT_ENCAPSED_STRING","'@email'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$duplicate_user",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getEmail",148],"(",")",")",")",",",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'Supplying an exact duplicate email address displays an error message'",148],")",";",["T_WHITESPACE","\n\n    ",148],["T_COMMENT","\/\/ Attempt to bypass duplicate email registration validation by adding spaces.\n",150],["T_WHITESPACE","    ",151],["T_VARIABLE","$edit",151],"[",["T_CONSTANT_ENCAPSED_STRING","'mail'",151],"]",["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'   '",151],["T_WHITESPACE"," ",151],".",["T_WHITESPACE"," ",151],["T_VARIABLE","$duplicate_user",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getEmail",151],"(",")",["T_WHITESPACE"," ",151],".",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'   '",151],";",["T_WHITESPACE","\n\n    ",151],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","drupalPostForm",153],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/register'",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$edit",153],",",["T_WHITESPACE"," ",153],["T_STRING","t",153],"(",["T_CONSTANT_ENCAPSED_STRING","'Create new account'",153],")",")",";",["T_WHITESPACE","\n    ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","assertText",154],"(",["T_STRING","t",154],"(",["T_CONSTANT_ENCAPSED_STRING","'The email address @email is already taken.'",154],",",["T_WHITESPACE"," ",154],["T_ARRAY","array",154],"(",["T_CONSTANT_ENCAPSED_STRING","'@email'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$duplicate_user",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getEmail",154],"(",")",")",")",",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'Supplying a duplicate email address with added whitespace displays an error message'",154],")",";",["T_WHITESPACE","\n  ",154],"}",["T_WHITESPACE","\n\n  ",155],["T_DOC_COMMENT","\/**\n   * Tests that UUID isn't cached in form state on register form.\n   *\n   * This is a regression test for https:\/\/www.drupal.org\/node\/2500527 to ensure\n   * that the form is not cached on GET requests.\n   *\/",157],["T_WHITESPACE","\n  ",162],["T_PUBLIC","public",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","testUuidFormState",163],"(",")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n    ",163],["T_NS_SEPARATOR","\\",164],["T_STRING","Drupal",164],["T_DOUBLE_COLON","::",164],["T_STRING","service",164],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",164],")",["T_OBJECT_OPERATOR","->",164],["T_STRING","install",164],"(","[",["T_CONSTANT_ENCAPSED_STRING","'image'",164],"]",")",";",["T_WHITESPACE","\n    ",164],["T_NS_SEPARATOR","\\",165],["T_STRING","Drupal",165],["T_DOUBLE_COLON","::",165],["T_STRING","service",165],"(",["T_CONSTANT_ENCAPSED_STRING","'router.builder'",165],")",["T_OBJECT_OPERATOR","->",165],["T_STRING","rebuild",165],"(",")",";",["T_WHITESPACE","\n\n    ",165],["T_COMMENT","\/\/ Add a picture field in order to ensure that no form cache is written,\n",167],["T_WHITESPACE","    ",168],["T_COMMENT","\/\/ which breaks registration of more than 1 user every 6 hours.\n",168],["T_WHITESPACE","    ",169],["T_VARIABLE","$field_storage",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_STRING","FieldStorageConfig",169],["T_DOUBLE_COLON","::",169],["T_STRING","create",169],"(","[",["T_WHITESPACE","\n      ",169],["T_CONSTANT_ENCAPSED_STRING","'field_name'",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'user_picture'",170],",",["T_WHITESPACE","\n      ",170],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'user'",171],",",["T_WHITESPACE","\n      ",171],["T_CONSTANT_ENCAPSED_STRING","'type'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'image'",172],",",["T_WHITESPACE","\n    ",172],"]",")",";",["T_WHITESPACE","\n    ",173],["T_VARIABLE","$field_storage",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","save",174],"(",")",";",["T_WHITESPACE","\n\n    ",174],["T_VARIABLE","$field",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_STRING","FieldConfig",176],["T_DOUBLE_COLON","::",176],["T_STRING","create",176],"(","[",["T_WHITESPACE","\n      ",176],["T_CONSTANT_ENCAPSED_STRING","'field_name'",177],["T_WHITESPACE"," ",177],["T_DOUBLE_ARROW","=>",177],["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","'user_picture'",177],",",["T_WHITESPACE","\n      ",177],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'user'",178],",",["T_WHITESPACE","\n      ",178],["T_CONSTANT_ENCAPSED_STRING","'bundle'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'user'",179],",",["T_WHITESPACE","\n    ",179],"]",")",";",["T_WHITESPACE","\n    ",180],["T_VARIABLE","$field",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","save",181],"(",")",";",["T_WHITESPACE","\n\n    ",181],["T_VARIABLE","$form_display",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_STRING","EntityFormDisplay",183],["T_DOUBLE_COLON","::",183],["T_STRING","create",183],"(","[",["T_WHITESPACE","\n      ",183],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'user'",184],",",["T_WHITESPACE","\n      ",184],["T_CONSTANT_ENCAPSED_STRING","'bundle'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'user'",185],",",["T_WHITESPACE","\n      ",185],["T_CONSTANT_ENCAPSED_STRING","'mode'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'default'",186],",",["T_WHITESPACE","\n      ",186],["T_CONSTANT_ENCAPSED_STRING","'status'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_STRING","TRUE",187],",",["T_WHITESPACE","\n    ",187],"]",")",";",["T_WHITESPACE","\n    ",188],["T_VARIABLE","$form_display",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","setComponent",189],"(",["T_CONSTANT_ENCAPSED_STRING","'user_picture'",189],",",["T_WHITESPACE"," ",189],"[",["T_WHITESPACE","\n      ",189],["T_CONSTANT_ENCAPSED_STRING","'type'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'image_image'",190],",",["T_WHITESPACE","\n    ",190],"]",")",";",["T_WHITESPACE","\n    ",191],["T_VARIABLE","$form_display",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","save",192],"(",")",";",["T_WHITESPACE","\n\n    ",192],["T_COMMENT","\/\/ Don't require email verification and allow registration by site visitors\n",194],["T_WHITESPACE","    ",195],["T_COMMENT","\/\/ without administrator approval.\n",195],["T_WHITESPACE","    ",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","config",196],"(",["T_CONSTANT_ENCAPSED_STRING","'user.settings'",196],")",["T_WHITESPACE","\n      ",196],["T_OBJECT_OPERATOR","->",197],["T_STRING","set",197],"(",["T_CONSTANT_ENCAPSED_STRING","'verify_mail'",197],",",["T_WHITESPACE"," ",197],["T_STRING","FALSE",197],")",["T_WHITESPACE","\n      ",197],["T_OBJECT_OPERATOR","->",198],["T_STRING","set",198],"(",["T_CONSTANT_ENCAPSED_STRING","'register'",198],",",["T_WHITESPACE"," ",198],["T_STRING","USER_REGISTER_VISITORS",198],")",["T_WHITESPACE","\n      ",198],["T_OBJECT_OPERATOR","->",199],["T_STRING","save",199],"(",")",";",["T_WHITESPACE","\n\n    ",199],["T_VARIABLE","$edit",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],"[","]",";",["T_WHITESPACE","\n    ",201],["T_VARIABLE","$edit",202],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",202],"]",["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","randomMachineName",202],"(",")",";",["T_WHITESPACE","\n    ",202],["T_VARIABLE","$edit",203],"[",["T_CONSTANT_ENCAPSED_STRING","'mail'",203],"]",["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$edit",203],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",203],"]",["T_WHITESPACE"," ",203],".",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'@example.com'",203],";",["T_WHITESPACE","\n    ",203],["T_VARIABLE","$edit",204],"[",["T_CONSTANT_ENCAPSED_STRING","'pass[pass2]'",204],"]",["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$edit",204],"[",["T_CONSTANT_ENCAPSED_STRING","'pass[pass1]'",204],"]",["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","randomMachineName",204],"(",")",";",["T_WHITESPACE","\n\n    ",204],["T_COMMENT","\/\/ Create one account.\n",206],["T_WHITESPACE","    ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","drupalPostForm",207],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/register'",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$edit",207],",",["T_WHITESPACE"," ",207],["T_STRING","t",207],"(",["T_CONSTANT_ENCAPSED_STRING","'Create new account'",207],")",")",";",["T_WHITESPACE","\n    ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","assertResponse",208],"(",["T_LNUMBER","200",208],")",";",["T_WHITESPACE","\n\n    ",208],["T_VARIABLE","$user_storage",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Drupal",210],["T_DOUBLE_COLON","::",210],["T_STRING","entityManager",210],"(",")",["T_OBJECT_OPERATOR","->",210],["T_STRING","getStorage",210],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",210],")",";",["T_WHITESPACE","\n\n    ",210],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","assertTrue",212],"(",["T_VARIABLE","$user_storage",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","loadByProperties",212],"(","[",["T_CONSTANT_ENCAPSED_STRING","'name'",212],["T_WHITESPACE"," ",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$edit",212],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",212],"]","]",")",")",";",["T_WHITESPACE","\n    ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","drupalLogout",213],"(",")",";",["T_WHITESPACE","\n\n    ",213],["T_COMMENT","\/\/ Create a second account.\n",215],["T_WHITESPACE","    ",216],["T_VARIABLE","$edit",216],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",216],"]",["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","randomMachineName",216],"(",")",";",["T_WHITESPACE","\n    ",216],["T_VARIABLE","$edit",217],"[",["T_CONSTANT_ENCAPSED_STRING","'mail'",217],"]",["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$edit",217],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",217],"]",["T_WHITESPACE"," ",217],".",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'@example.com'",217],";",["T_WHITESPACE","\n    ",217],["T_VARIABLE","$edit",218],"[",["T_CONSTANT_ENCAPSED_STRING","'pass[pass2]'",218],"]",["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$edit",218],"[",["T_CONSTANT_ENCAPSED_STRING","'pass[pass1]'",218],"]",["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","randomMachineName",218],"(",")",";",["T_WHITESPACE","\n\n    ",218],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","drupalPostForm",220],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/register'",220],",",["T_WHITESPACE"," ",220],["T_VARIABLE","$edit",220],",",["T_WHITESPACE"," ",220],["T_STRING","t",220],"(",["T_CONSTANT_ENCAPSED_STRING","'Create new account'",220],")",")",";",["T_WHITESPACE","\n    ",220],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","assertResponse",221],"(",["T_LNUMBER","200",221],")",";",["T_WHITESPACE","\n\n    ",221],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","assertTrue",223],"(",["T_VARIABLE","$user_storage",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","loadByProperties",223],"(","[",["T_CONSTANT_ENCAPSED_STRING","'name'",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$edit",223],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",223],"]","]",")",")",";",["T_WHITESPACE","\n  ",223],"}",["T_WHITESPACE","\n\n  ",224],["T_FUNCTION","function",226],["T_WHITESPACE"," ",226],["T_STRING","testRegistrationDefaultValues",226],"(",")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n    ",226],["T_COMMENT","\/\/ Don't require email verification and allow registration by site visitors\n",227],["T_WHITESPACE","    ",228],["T_COMMENT","\/\/ without administrator approval.\n",228],["T_WHITESPACE","    ",229],["T_VARIABLE","$config_user_settings",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","config",229],"(",["T_CONSTANT_ENCAPSED_STRING","'user.settings'",229],")",["T_WHITESPACE","\n      ",229],["T_OBJECT_OPERATOR","->",230],["T_STRING","set",230],"(",["T_CONSTANT_ENCAPSED_STRING","'verify_mail'",230],",",["T_WHITESPACE"," ",230],["T_STRING","FALSE",230],")",["T_WHITESPACE","\n      ",230],["T_OBJECT_OPERATOR","->",231],["T_STRING","set",231],"(",["T_CONSTANT_ENCAPSED_STRING","'register'",231],",",["T_WHITESPACE"," ",231],["T_STRING","USER_REGISTER_VISITORS",231],")",["T_WHITESPACE","\n      ",231],["T_OBJECT_OPERATOR","->",232],["T_STRING","save",232],"(",")",";",["T_WHITESPACE","\n\n    ",232],["T_COMMENT","\/\/ Set the default timezone to Brussels.\n",234],["T_WHITESPACE","    ",235],["T_VARIABLE","$config_system_date",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","config",235],"(",["T_CONSTANT_ENCAPSED_STRING","'system.date'",235],")",["T_WHITESPACE","\n      ",235],["T_OBJECT_OPERATOR","->",236],["T_STRING","set",236],"(",["T_CONSTANT_ENCAPSED_STRING","'timezone.user.configurable'",236],",",["T_WHITESPACE"," ",236],["T_LNUMBER","1",236],")",["T_WHITESPACE","\n      ",236],["T_OBJECT_OPERATOR","->",237],["T_STRING","set",237],"(",["T_CONSTANT_ENCAPSED_STRING","'timezone.default'",237],",",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'Europe\/Brussels'",237],")",["T_WHITESPACE","\n      ",237],["T_OBJECT_OPERATOR","->",238],["T_STRING","save",238],"(",")",";",["T_WHITESPACE","\n\n    ",238],["T_COMMENT","\/\/ Check that the account information options are not displayed\n",240],["T_WHITESPACE","    ",241],["T_COMMENT","\/\/ as a details element if there is not more than one details in the form.\n",241],["T_WHITESPACE","    ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","drupalGet",242],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/register'",242],")",";",["T_WHITESPACE","\n    ",242],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","assertNoRaw",243],"(",["T_CONSTANT_ENCAPSED_STRING","'<details id=\"edit-account\"><summary>Account information<\/summary>'",243],")",";",["T_WHITESPACE","\n\n    ",243],["T_COMMENT","\/\/ Check the presence of expected cache tags.\n",245],["T_WHITESPACE","    ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","assertCacheTag",246],"(",["T_CONSTANT_ENCAPSED_STRING","'config:user.settings'",246],")",";",["T_WHITESPACE","\n\n    ",246],["T_VARIABLE","$edit",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_ARRAY","array",248],"(",")",";",["T_WHITESPACE","\n    ",248],["T_VARIABLE","$edit",249],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",249],"]",["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$name",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","randomMachineName",249],"(",")",";",["T_WHITESPACE","\n    ",249],["T_VARIABLE","$edit",250],"[",["T_CONSTANT_ENCAPSED_STRING","'mail'",250],"]",["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_VARIABLE","$mail",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_VARIABLE","$edit",250],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",250],"]",["T_WHITESPACE"," ",250],".",["T_WHITESPACE"," ",250],["T_CONSTANT_ENCAPSED_STRING","'@example.com'",250],";",["T_WHITESPACE","\n    ",250],["T_VARIABLE","$edit",251],"[",["T_CONSTANT_ENCAPSED_STRING","'pass[pass1]'",251],"]",["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_VARIABLE","$new_pass",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","randomMachineName",251],"(",")",";",["T_WHITESPACE","\n    ",251],["T_VARIABLE","$edit",252],"[",["T_CONSTANT_ENCAPSED_STRING","'pass[pass2]'",252],"]",["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$new_pass",252],";",["T_WHITESPACE","\n    ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","drupalPostForm",253],"(",["T_STRING","NULL",253],",",["T_WHITESPACE"," ",253],["T_VARIABLE","$edit",253],",",["T_WHITESPACE"," ",253],["T_STRING","t",253],"(",["T_CONSTANT_ENCAPSED_STRING","'Create new account'",253],")",")",";",["T_WHITESPACE","\n\n    ",253],["T_COMMENT","\/\/ Check user fields.\n",255],["T_WHITESPACE","    ",256],["T_VARIABLE","$accounts",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","container",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","get",256],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",256],")",["T_OBJECT_OPERATOR","->",256],["T_STRING","getStorage",256],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",256],")",["T_WHITESPACE","\n      ",256],["T_OBJECT_OPERATOR","->",257],["T_STRING","loadByProperties",257],"(","[",["T_CONSTANT_ENCAPSED_STRING","'name'",257],["T_WHITESPACE"," ",257],["T_DOUBLE_ARROW","=>",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$name",257],",",["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'mail'",257],["T_WHITESPACE"," ",257],["T_DOUBLE_ARROW","=>",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$mail",257],"]",")",";",["T_WHITESPACE","\n    ",257],["T_VARIABLE","$new_user",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_STRING","reset",258],"(",["T_VARIABLE","$accounts",258],")",";",["T_WHITESPACE","\n    ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","assertEqual",259],"(",["T_VARIABLE","$new_user",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","getUsername",259],"(",")",",",["T_WHITESPACE"," ",259],["T_VARIABLE","$name",259],",",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'Username matches.'",259],")",";",["T_WHITESPACE","\n    ",259],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","assertEqual",260],"(",["T_VARIABLE","$new_user",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getEmail",260],"(",")",",",["T_WHITESPACE"," ",260],["T_VARIABLE","$mail",260],",",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'Email address matches.'",260],")",";",["T_WHITESPACE","\n    ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","assertTrue",261],"(","(",["T_VARIABLE","$new_user",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","getCreatedTime",261],"(",")",["T_WHITESPACE"," ",261],">",["T_WHITESPACE"," ",261],["T_STRING","REQUEST_TIME",261],["T_WHITESPACE"," ",261],"-",["T_WHITESPACE"," ",261],["T_LNUMBER","20",261],["T_WHITESPACE"," ",261],")",",",["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","'Correct creation time.'",261],")",";",["T_WHITESPACE","\n    ",261],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","assertEqual",262],"(",["T_VARIABLE","$new_user",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","isActive",262],"(",")",",",["T_WHITESPACE"," ",262],["T_VARIABLE","$config_user_settings",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","get",262],"(",["T_CONSTANT_ENCAPSED_STRING","'register'",262],")",["T_WHITESPACE"," ",262],["T_IS_EQUAL","==",262],["T_WHITESPACE"," ",262],["T_STRING","USER_REGISTER_VISITORS",262],["T_WHITESPACE"," ",262],"?",["T_WHITESPACE"," ",262],["T_LNUMBER","1",262],["T_WHITESPACE"," ",262],":",["T_WHITESPACE"," ",262],["T_LNUMBER","0",262],",",["T_WHITESPACE"," ",262],["T_CONSTANT_ENCAPSED_STRING","'Correct status field.'",262],")",";",["T_WHITESPACE","\n    ",262],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","assertEqual",263],"(",["T_VARIABLE","$new_user",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","getTimezone",263],"(",")",",",["T_WHITESPACE"," ",263],["T_VARIABLE","$config_system_date",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","get",263],"(",["T_CONSTANT_ENCAPSED_STRING","'timezone.default'",263],")",",",["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","'Correct time zone field.'",263],")",";",["T_WHITESPACE","\n    ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","assertEqual",264],"(",["T_VARIABLE","$new_user",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","langcode",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","value",264],",",["T_WHITESPACE"," ",264],["T_NS_SEPARATOR","\\",264],["T_STRING","Drupal",264],["T_DOUBLE_COLON","::",264],["T_STRING","languageManager",264],"(",")",["T_OBJECT_OPERATOR","->",264],["T_STRING","getDefaultLanguage",264],"(",")",["T_OBJECT_OPERATOR","->",264],["T_STRING","getId",264],"(",")",",",["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","'Correct language field.'",264],")",";",["T_WHITESPACE","\n    ",264],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","assertEqual",265],"(",["T_VARIABLE","$new_user",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","preferred_langcode",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","value",265],",",["T_WHITESPACE"," ",265],["T_NS_SEPARATOR","\\",265],["T_STRING","Drupal",265],["T_DOUBLE_COLON","::",265],["T_STRING","languageManager",265],"(",")",["T_OBJECT_OPERATOR","->",265],["T_STRING","getDefaultLanguage",265],"(",")",["T_OBJECT_OPERATOR","->",265],["T_STRING","getId",265],"(",")",",",["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","'Correct preferred language field.'",265],")",";",["T_WHITESPACE","\n    ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","assertEqual",266],"(",["T_VARIABLE","$new_user",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","init",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","value",266],",",["T_WHITESPACE"," ",266],["T_VARIABLE","$mail",266],",",["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","'Correct init field.'",266],")",";",["T_WHITESPACE","\n  ",266],"}",["T_WHITESPACE","\n\n  ",267],["T_DOC_COMMENT","\/**\n   * Tests username and email field constraints on user registration.\n   *\n   * @see \\Drupal\\user\\Plugin\\Validation\\Constraint\\UserNameUnique\n   * @see \\Drupal\\user\\Plugin\\Validation\\Constraint\\UserMailUnique\n   *\/",269],["T_WHITESPACE","\n  ",274],["T_PUBLIC","public",275],["T_WHITESPACE"," ",275],["T_FUNCTION","function",275],["T_WHITESPACE"," ",275],["T_STRING","testUniqueFields",275],"(",")",["T_WHITESPACE"," ",275],"{",["T_WHITESPACE","\n    ",275],["T_VARIABLE","$account",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","drupalCreateUser",276],"(",")",";",["T_WHITESPACE","\n\n    ",276],["T_VARIABLE","$edit",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],"[",["T_CONSTANT_ENCAPSED_STRING","'mail'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'test@example.com'",278],",",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'name'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$account",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","getUsername",278],"(",")","]",";",["T_WHITESPACE","\n    ",278],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","drupalPostForm",279],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/register'",279],",",["T_WHITESPACE"," ",279],["T_VARIABLE","$edit",279],",",["T_WHITESPACE"," ",279],["T_STRING","t",279],"(",["T_CONSTANT_ENCAPSED_STRING","'Create new account'",279],")",")",";",["T_WHITESPACE","\n    ",279],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","assertRaw",280],"(",["T_STRING","SafeMarkup",280],["T_DOUBLE_COLON","::",280],["T_STRING","format",280],"(",["T_CONSTANT_ENCAPSED_STRING","'The username %value is already taken.'",280],",",["T_WHITESPACE"," ",280],"[",["T_CONSTANT_ENCAPSED_STRING","'%value'",280],["T_WHITESPACE"," ",280],["T_DOUBLE_ARROW","=>",280],["T_WHITESPACE"," ",280],["T_VARIABLE","$account",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","getUsername",280],"(",")","]",")",")",";",["T_WHITESPACE","\n\n    ",280],["T_VARIABLE","$edit",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],"[",["T_CONSTANT_ENCAPSED_STRING","'mail'",282],["T_WHITESPACE"," ",282],["T_DOUBLE_ARROW","=>",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$account",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","getEmail",282],"(",")",",",["T_WHITESPACE"," ",282],["T_CONSTANT_ENCAPSED_STRING","'name'",282],["T_WHITESPACE"," ",282],["T_DOUBLE_ARROW","=>",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","randomString",282],"(",")","]",";",["T_WHITESPACE","\n    ",282],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","drupalPostForm",283],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/register'",283],",",["T_WHITESPACE"," ",283],["T_VARIABLE","$edit",283],",",["T_WHITESPACE"," ",283],["T_STRING","t",283],"(",["T_CONSTANT_ENCAPSED_STRING","'Create new account'",283],")",")",";",["T_WHITESPACE","\n    ",283],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","assertRaw",284],"(",["T_STRING","SafeMarkup",284],["T_DOUBLE_COLON","::",284],["T_STRING","format",284],"(",["T_CONSTANT_ENCAPSED_STRING","'The email address %value is already taken.'",284],",",["T_WHITESPACE"," ",284],"[",["T_CONSTANT_ENCAPSED_STRING","'%value'",284],["T_WHITESPACE"," ",284],["T_DOUBLE_ARROW","=>",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$account",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","getEmail",284],"(",")","]",")",")",";",["T_WHITESPACE","\n  ",284],"}",["T_WHITESPACE","\n\n  ",285],["T_DOC_COMMENT","\/**\n   * Tests Field API fields on user registration forms.\n   *\/",287],["T_WHITESPACE","\n  ",289],["T_FUNCTION","function",290],["T_WHITESPACE"," ",290],["T_STRING","testRegistrationWithUserFields",290],"(",")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n    ",290],["T_COMMENT","\/\/ Create a field on 'user' entity type.\n",291],["T_WHITESPACE","    ",292],["T_VARIABLE","$field_storage",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_STRING","FieldStorageConfig",292],["T_DOUBLE_COLON","::",292],["T_STRING","create",292],"(",["T_ARRAY","array",292],"(",["T_WHITESPACE","\n      ",292],["T_CONSTANT_ENCAPSED_STRING","'field_name'",293],["T_WHITESPACE"," ",293],["T_DOUBLE_ARROW","=>",293],["T_WHITESPACE"," ",293],["T_CONSTANT_ENCAPSED_STRING","'test_user_field'",293],",",["T_WHITESPACE","\n      ",293],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",294],["T_WHITESPACE"," ",294],["T_DOUBLE_ARROW","=>",294],["T_WHITESPACE"," ",294],["T_CONSTANT_ENCAPSED_STRING","'user'",294],",",["T_WHITESPACE","\n      ",294],["T_CONSTANT_ENCAPSED_STRING","'type'",295],["T_WHITESPACE"," ",295],["T_DOUBLE_ARROW","=>",295],["T_WHITESPACE"," ",295],["T_CONSTANT_ENCAPSED_STRING","'test_field'",295],",",["T_WHITESPACE","\n      ",295],["T_CONSTANT_ENCAPSED_STRING","'cardinality'",296],["T_WHITESPACE"," ",296],["T_DOUBLE_ARROW","=>",296],["T_WHITESPACE"," ",296],["T_LNUMBER","1",296],",",["T_WHITESPACE","\n    ",296],")",")",";",["T_WHITESPACE","\n    ",297],["T_VARIABLE","$field_storage",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","save",298],"(",")",";",["T_WHITESPACE","\n    ",298],["T_VARIABLE","$field",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_STRING","FieldConfig",299],["T_DOUBLE_COLON","::",299],["T_STRING","create",299],"(","[",["T_WHITESPACE","\n      ",299],["T_CONSTANT_ENCAPSED_STRING","'field_storage'",300],["T_WHITESPACE"," ",300],["T_DOUBLE_ARROW","=>",300],["T_WHITESPACE"," ",300],["T_VARIABLE","$field_storage",300],",",["T_WHITESPACE","\n      ",300],["T_CONSTANT_ENCAPSED_STRING","'label'",301],["T_WHITESPACE"," ",301],["T_DOUBLE_ARROW","=>",301],["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'Some user field'",301],",",["T_WHITESPACE","\n      ",301],["T_CONSTANT_ENCAPSED_STRING","'bundle'",302],["T_WHITESPACE"," ",302],["T_DOUBLE_ARROW","=>",302],["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","'user'",302],",",["T_WHITESPACE","\n      ",302],["T_CONSTANT_ENCAPSED_STRING","'required'",303],["T_WHITESPACE"," ",303],["T_DOUBLE_ARROW","=>",303],["T_WHITESPACE"," ",303],["T_STRING","TRUE",303],",",["T_WHITESPACE","\n    ",303],"]",")",";",["T_WHITESPACE","\n    ",304],["T_VARIABLE","$field",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","save",305],"(",")",";",["T_WHITESPACE","\n    ",305],["T_STRING","entity_get_form_display",306],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",306],",",["T_WHITESPACE"," ",306],["T_CONSTANT_ENCAPSED_STRING","'user'",306],",",["T_WHITESPACE"," ",306],["T_CONSTANT_ENCAPSED_STRING","'default'",306],")",["T_WHITESPACE","\n      ",306],["T_OBJECT_OPERATOR","->",307],["T_STRING","setComponent",307],"(",["T_CONSTANT_ENCAPSED_STRING","'test_user_field'",307],",",["T_WHITESPACE"," ",307],["T_ARRAY","array",307],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",307],["T_WHITESPACE"," ",307],["T_DOUBLE_ARROW","=>",307],["T_WHITESPACE"," ",307],["T_CONSTANT_ENCAPSED_STRING","'test_field_widget'",307],")",")",["T_WHITESPACE","\n      ",307],["T_OBJECT_OPERATOR","->",308],["T_STRING","save",308],"(",")",";",["T_WHITESPACE","\n    ",308],["T_STRING","entity_get_form_display",309],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",309],",",["T_WHITESPACE"," ",309],["T_CONSTANT_ENCAPSED_STRING","'user'",309],",",["T_WHITESPACE"," ",309],["T_CONSTANT_ENCAPSED_STRING","'register'",309],")",["T_WHITESPACE","\n      ",309],["T_OBJECT_OPERATOR","->",310],["T_STRING","save",310],"(",")",";",["T_WHITESPACE","\n\n    ",310],["T_COMMENT","\/\/ Check that the field does not appear on the registration form.\n",312],["T_WHITESPACE","    ",313],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","drupalGet",313],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/register'",313],")",";",["T_WHITESPACE","\n    ",313],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","assertNoText",314],"(",["T_VARIABLE","$field",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","label",314],"(",")",",",["T_WHITESPACE"," ",314],["T_CONSTANT_ENCAPSED_STRING","'The field does not appear on user registration form'",314],")",";",["T_WHITESPACE","\n    ",314],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","assertCacheTag",315],"(",["T_CONSTANT_ENCAPSED_STRING","'config:core.entity_form_display.user.user.register'",315],")",";",["T_WHITESPACE","\n    ",315],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","assertCacheTag",316],"(",["T_CONSTANT_ENCAPSED_STRING","'config:user.settings'",316],")",";",["T_WHITESPACE","\n\n    ",316],["T_COMMENT","\/\/ Have the field appear on the registration form.\n",318],["T_WHITESPACE","    ",319],["T_STRING","entity_get_form_display",319],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",319],",",["T_WHITESPACE"," ",319],["T_CONSTANT_ENCAPSED_STRING","'user'",319],",",["T_WHITESPACE"," ",319],["T_CONSTANT_ENCAPSED_STRING","'register'",319],")",["T_WHITESPACE","\n      ",319],["T_OBJECT_OPERATOR","->",320],["T_STRING","setComponent",320],"(",["T_CONSTANT_ENCAPSED_STRING","'test_user_field'",320],",",["T_WHITESPACE"," ",320],["T_ARRAY","array",320],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",320],["T_WHITESPACE"," ",320],["T_DOUBLE_ARROW","=>",320],["T_WHITESPACE"," ",320],["T_CONSTANT_ENCAPSED_STRING","'test_field_widget'",320],")",")",["T_WHITESPACE","\n      ",320],["T_OBJECT_OPERATOR","->",321],["T_STRING","save",321],"(",")",";",["T_WHITESPACE","\n\n    ",321],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","drupalGet",323],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/register'",323],")",";",["T_WHITESPACE","\n    ",323],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","assertText",324],"(",["T_VARIABLE","$field",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","label",324],"(",")",",",["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","'The field appears on user registration form'",324],")",";",["T_WHITESPACE","\n    ",324],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","assertRegistrationFormCacheTagsWithUserFields",325],"(",")",";",["T_WHITESPACE","\n\n    ",325],["T_COMMENT","\/\/ Check that validation errors are correctly reported.\n",327],["T_WHITESPACE","    ",328],["T_VARIABLE","$edit",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_ARRAY","array",328],"(",")",";",["T_WHITESPACE","\n    ",328],["T_VARIABLE","$edit",329],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",329],"]",["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_VARIABLE","$name",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","randomMachineName",329],"(",")",";",["T_WHITESPACE","\n    ",329],["T_VARIABLE","$edit",330],"[",["T_CONSTANT_ENCAPSED_STRING","'mail'",330],"]",["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_VARIABLE","$mail",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_VARIABLE","$edit",330],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",330],"]",["T_WHITESPACE"," ",330],".",["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","'@example.com'",330],";",["T_WHITESPACE","\n    ",330],["T_COMMENT","\/\/ Missing input in required field.\n",331],["T_WHITESPACE","    ",332],["T_VARIABLE","$edit",332],"[",["T_CONSTANT_ENCAPSED_STRING","'test_user_field[0][value]'",332],"]",["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_CONSTANT_ENCAPSED_STRING","''",332],";",["T_WHITESPACE","\n    ",332],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","drupalPostForm",333],"(",["T_STRING","NULL",333],",",["T_WHITESPACE"," ",333],["T_VARIABLE","$edit",333],",",["T_WHITESPACE"," ",333],["T_STRING","t",333],"(",["T_CONSTANT_ENCAPSED_STRING","'Create new account'",333],")",")",";",["T_WHITESPACE","\n    ",333],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","assertRegistrationFormCacheTagsWithUserFields",334],"(",")",";",["T_WHITESPACE","\n    ",334],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","assertRaw",335],"(",["T_STRING","t",335],"(",["T_CONSTANT_ENCAPSED_STRING","'@name field is required.'",335],",",["T_WHITESPACE"," ",335],["T_ARRAY","array",335],"(",["T_CONSTANT_ENCAPSED_STRING","'@name'",335],["T_WHITESPACE"," ",335],["T_DOUBLE_ARROW","=>",335],["T_WHITESPACE"," ",335],["T_VARIABLE","$field",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","label",335],"(",")",")",")",",",["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'Field validation error was correctly reported.'",335],")",";",["T_WHITESPACE","\n    ",335],["T_COMMENT","\/\/ Invalid input.\n",336],["T_WHITESPACE","    ",337],["T_VARIABLE","$edit",337],"[",["T_CONSTANT_ENCAPSED_STRING","'test_user_field[0][value]'",337],"]",["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_CONSTANT_ENCAPSED_STRING","'-1'",337],";",["T_WHITESPACE","\n    ",337],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","drupalPostForm",338],"(",["T_STRING","NULL",338],",",["T_WHITESPACE"," ",338],["T_VARIABLE","$edit",338],",",["T_WHITESPACE"," ",338],["T_STRING","t",338],"(",["T_CONSTANT_ENCAPSED_STRING","'Create new account'",338],")",")",";",["T_WHITESPACE","\n    ",338],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","assertRegistrationFormCacheTagsWithUserFields",339],"(",")",";",["T_WHITESPACE","\n    ",339],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","assertRaw",340],"(",["T_STRING","t",340],"(",["T_CONSTANT_ENCAPSED_STRING","'%name does not accept the value -1.'",340],",",["T_WHITESPACE"," ",340],["T_ARRAY","array",340],"(",["T_CONSTANT_ENCAPSED_STRING","'%name'",340],["T_WHITESPACE"," ",340],["T_DOUBLE_ARROW","=>",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$field",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","label",340],"(",")",")",")",",",["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","'Field validation error was correctly reported.'",340],")",";",["T_WHITESPACE","\n\n    ",340],["T_COMMENT","\/\/ Submit with valid data.\n",342],["T_WHITESPACE","    ",343],["T_VARIABLE","$value",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_STRING","rand",343],"(",["T_LNUMBER","1",343],",",["T_WHITESPACE"," ",343],["T_LNUMBER","255",343],")",";",["T_WHITESPACE","\n    ",343],["T_VARIABLE","$edit",344],"[",["T_CONSTANT_ENCAPSED_STRING","'test_user_field[0][value]'",344],"]",["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_VARIABLE","$value",344],";",["T_WHITESPACE","\n    ",344],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","drupalPostForm",345],"(",["T_STRING","NULL",345],",",["T_WHITESPACE"," ",345],["T_VARIABLE","$edit",345],",",["T_WHITESPACE"," ",345],["T_STRING","t",345],"(",["T_CONSTANT_ENCAPSED_STRING","'Create new account'",345],")",")",";",["T_WHITESPACE","\n    ",345],["T_COMMENT","\/\/ Check user fields.\n",346],["T_WHITESPACE","    ",347],["T_VARIABLE","$accounts",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","container",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","get",347],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",347],")",["T_OBJECT_OPERATOR","->",347],["T_STRING","getStorage",347],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",347],")",["T_WHITESPACE","\n      ",347],["T_OBJECT_OPERATOR","->",348],["T_STRING","loadByProperties",348],"(","[",["T_CONSTANT_ENCAPSED_STRING","'name'",348],["T_WHITESPACE"," ",348],["T_DOUBLE_ARROW","=>",348],["T_WHITESPACE"," ",348],["T_VARIABLE","$name",348],",",["T_WHITESPACE"," ",348],["T_CONSTANT_ENCAPSED_STRING","'mail'",348],["T_WHITESPACE"," ",348],["T_DOUBLE_ARROW","=>",348],["T_WHITESPACE"," ",348],["T_VARIABLE","$mail",348],"]",")",";",["T_WHITESPACE","\n    ",348],["T_VARIABLE","$new_user",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_STRING","reset",349],"(",["T_VARIABLE","$accounts",349],")",";",["T_WHITESPACE","\n    ",349],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","assertEqual",350],"(",["T_VARIABLE","$new_user",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","test_user_field",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","value",350],",",["T_WHITESPACE"," ",350],["T_VARIABLE","$value",350],",",["T_WHITESPACE"," ",350],["T_CONSTANT_ENCAPSED_STRING","'The field value was correctly saved.'",350],")",";",["T_WHITESPACE","\n\n    ",350],["T_COMMENT","\/\/ Check that the 'add more' button works.\n",352],["T_WHITESPACE","    ",353],["T_VARIABLE","$field_storage",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","setCardinality",353],"(",["T_STRING","FieldStorageDefinitionInterface",353],["T_DOUBLE_COLON","::",353],["T_STRING","CARDINALITY_UNLIMITED",353],")",";",["T_WHITESPACE","\n    ",353],["T_VARIABLE","$field_storage",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","save",354],"(",")",";",["T_WHITESPACE","\n    ",354],["T_FOREACH","foreach",355],["T_WHITESPACE"," ",355],"(",["T_ARRAY","array",355],"(",["T_CONSTANT_ENCAPSED_STRING","'js'",355],",",["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","'nojs'",355],")",["T_WHITESPACE"," ",355],["T_AS","as",355],["T_WHITESPACE"," ",355],["T_VARIABLE","$js",355],")",["T_WHITESPACE"," ",355],"{",["T_WHITESPACE","\n      ",355],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","drupalGet",356],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/register'",356],")",";",["T_WHITESPACE","\n      ",356],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","assertRegistrationFormCacheTagsWithUserFields",357],"(",")",";",["T_WHITESPACE","\n      ",357],["T_COMMENT","\/\/ Add two inputs.\n",358],["T_WHITESPACE","      ",359],["T_VARIABLE","$value",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_STRING","rand",359],"(",["T_LNUMBER","1",359],",",["T_WHITESPACE"," ",359],["T_LNUMBER","255",359],")",";",["T_WHITESPACE","\n      ",359],["T_VARIABLE","$edit",360],["T_WHITESPACE"," ",360],"=",["T_WHITESPACE"," ",360],["T_ARRAY","array",360],"(",")",";",["T_WHITESPACE","\n      ",360],["T_VARIABLE","$edit",361],"[",["T_CONSTANT_ENCAPSED_STRING","'test_user_field[0][value]'",361],"]",["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_VARIABLE","$value",361],";",["T_WHITESPACE","\n      ",361],["T_IF","if",362],["T_WHITESPACE"," ",362],"(",["T_VARIABLE","$js",362],["T_WHITESPACE"," ",362],["T_IS_EQUAL","==",362],["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","'js'",362],")",["T_WHITESPACE"," ",362],"{",["T_WHITESPACE","\n        ",362],["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","drupalPostAjaxForm",363],"(",["T_STRING","NULL",363],",",["T_WHITESPACE"," ",363],["T_VARIABLE","$edit",363],",",["T_WHITESPACE"," ",363],["T_CONSTANT_ENCAPSED_STRING","'test_user_field_add_more'",363],")",";",["T_WHITESPACE","\n        ",363],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","drupalPostAjaxForm",364],"(",["T_STRING","NULL",364],",",["T_WHITESPACE"," ",364],["T_VARIABLE","$edit",364],",",["T_WHITESPACE"," ",364],["T_CONSTANT_ENCAPSED_STRING","'test_user_field_add_more'",364],")",";",["T_WHITESPACE","\n      ",364],"}",["T_WHITESPACE","\n      ",365],["T_ELSE","else",366],["T_WHITESPACE"," ",366],"{",["T_WHITESPACE","\n        ",366],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","drupalPostForm",367],"(",["T_STRING","NULL",367],",",["T_WHITESPACE"," ",367],["T_VARIABLE","$edit",367],",",["T_WHITESPACE"," ",367],["T_STRING","t",367],"(",["T_CONSTANT_ENCAPSED_STRING","'Add another item'",367],")",")",";",["T_WHITESPACE","\n        ",367],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","drupalPostForm",368],"(",["T_STRING","NULL",368],",",["T_WHITESPACE"," ",368],["T_VARIABLE","$edit",368],",",["T_WHITESPACE"," ",368],["T_STRING","t",368],"(",["T_CONSTANT_ENCAPSED_STRING","'Add another item'",368],")",")",";",["T_WHITESPACE","\n      ",368],"}",["T_WHITESPACE","\n      ",369],["T_COMMENT","\/\/ Submit with three values.\n",370],["T_WHITESPACE","      ",371],["T_VARIABLE","$edit",371],"[",["T_CONSTANT_ENCAPSED_STRING","'test_user_field[1][value]'",371],"]",["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_VARIABLE","$value",371],["T_WHITESPACE"," ",371],"+",["T_WHITESPACE"," ",371],["T_LNUMBER","1",371],";",["T_WHITESPACE","\n      ",371],["T_VARIABLE","$edit",372],"[",["T_CONSTANT_ENCAPSED_STRING","'test_user_field[2][value]'",372],"]",["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_VARIABLE","$value",372],["T_WHITESPACE"," ",372],"+",["T_WHITESPACE"," ",372],["T_LNUMBER","2",372],";",["T_WHITESPACE","\n      ",372],["T_VARIABLE","$edit",373],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",373],"]",["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_VARIABLE","$name",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","randomMachineName",373],"(",")",";",["T_WHITESPACE","\n      ",373],["T_VARIABLE","$edit",374],"[",["T_CONSTANT_ENCAPSED_STRING","'mail'",374],"]",["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_VARIABLE","$mail",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_VARIABLE","$edit",374],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",374],"]",["T_WHITESPACE"," ",374],".",["T_WHITESPACE"," ",374],["T_CONSTANT_ENCAPSED_STRING","'@example.com'",374],";",["T_WHITESPACE","\n      ",374],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","drupalPostForm",375],"(",["T_STRING","NULL",375],",",["T_WHITESPACE"," ",375],["T_VARIABLE","$edit",375],",",["T_WHITESPACE"," ",375],["T_STRING","t",375],"(",["T_CONSTANT_ENCAPSED_STRING","'Create new account'",375],")",")",";",["T_WHITESPACE","\n      ",375],["T_COMMENT","\/\/ Check user fields.\n",376],["T_WHITESPACE","      ",377],["T_VARIABLE","$accounts",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","container",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","get",377],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",377],")",["T_OBJECT_OPERATOR","->",377],["T_STRING","getStorage",377],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",377],")",["T_WHITESPACE","\n        ",377],["T_OBJECT_OPERATOR","->",378],["T_STRING","loadByProperties",378],"(",["T_ARRAY","array",378],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",378],["T_WHITESPACE"," ",378],["T_DOUBLE_ARROW","=>",378],["T_WHITESPACE"," ",378],["T_VARIABLE","$name",378],",",["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","'mail'",378],["T_WHITESPACE"," ",378],["T_DOUBLE_ARROW","=>",378],["T_WHITESPACE"," ",378],["T_VARIABLE","$mail",378],")",")",";",["T_WHITESPACE","\n      ",378],["T_VARIABLE","$new_user",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_STRING","reset",379],"(",["T_VARIABLE","$accounts",379],")",";",["T_WHITESPACE","\n      ",379],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","assertEqual",380],"(",["T_VARIABLE","$new_user",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","test_user_field",380],"[",["T_LNUMBER","0",380],"]",["T_OBJECT_OPERATOR","->",380],["T_STRING","value",380],",",["T_WHITESPACE"," ",380],["T_VARIABLE","$value",380],",",["T_WHITESPACE"," ",380],["T_STRING","format_string",380],"(",["T_CONSTANT_ENCAPSED_STRING","'@js : The field value was correctly saved.'",380],",",["T_WHITESPACE"," ",380],["T_ARRAY","array",380],"(",["T_CONSTANT_ENCAPSED_STRING","'@js'",380],["T_WHITESPACE"," ",380],["T_DOUBLE_ARROW","=>",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$js",380],")",")",")",";",["T_WHITESPACE","\n      ",380],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","assertEqual",381],"(",["T_VARIABLE","$new_user",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","test_user_field",381],"[",["T_LNUMBER","1",381],"]",["T_OBJECT_OPERATOR","->",381],["T_STRING","value",381],",",["T_WHITESPACE"," ",381],["T_VARIABLE","$value",381],["T_WHITESPACE"," ",381],"+",["T_WHITESPACE"," ",381],["T_LNUMBER","1",381],",",["T_WHITESPACE"," ",381],["T_STRING","format_string",381],"(",["T_CONSTANT_ENCAPSED_STRING","'@js : The field value was correctly saved.'",381],",",["T_WHITESPACE"," ",381],["T_ARRAY","array",381],"(",["T_CONSTANT_ENCAPSED_STRING","'@js'",381],["T_WHITESPACE"," ",381],["T_DOUBLE_ARROW","=>",381],["T_WHITESPACE"," ",381],["T_VARIABLE","$js",381],")",")",")",";",["T_WHITESPACE","\n      ",381],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","assertEqual",382],"(",["T_VARIABLE","$new_user",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","test_user_field",382],"[",["T_LNUMBER","2",382],"]",["T_OBJECT_OPERATOR","->",382],["T_STRING","value",382],",",["T_WHITESPACE"," ",382],["T_VARIABLE","$value",382],["T_WHITESPACE"," ",382],"+",["T_WHITESPACE"," ",382],["T_LNUMBER","2",382],",",["T_WHITESPACE"," ",382],["T_STRING","format_string",382],"(",["T_CONSTANT_ENCAPSED_STRING","'@js : The field value was correctly saved.'",382],",",["T_WHITESPACE"," ",382],["T_ARRAY","array",382],"(",["T_CONSTANT_ENCAPSED_STRING","'@js'",382],["T_WHITESPACE"," ",382],["T_DOUBLE_ARROW","=>",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$js",382],")",")",")",";",["T_WHITESPACE","\n    ",382],"}",["T_WHITESPACE","\n  ",383],"}",["T_WHITESPACE","\n\n  ",384],["T_DOC_COMMENT","\/**\n   * Asserts the presence of cache tags on registration form with user fields.\n   *\/",386],["T_WHITESPACE","\n  ",388],["T_PROTECTED","protected",389],["T_WHITESPACE"," ",389],["T_FUNCTION","function",389],["T_WHITESPACE"," ",389],["T_STRING","assertRegistrationFormCacheTagsWithUserFields",389],"(",")",["T_WHITESPACE"," ",389],"{",["T_WHITESPACE","\n    ",389],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","assertCacheTag",390],"(",["T_CONSTANT_ENCAPSED_STRING","'config:core.entity_form_display.user.user.register'",390],")",";",["T_WHITESPACE","\n    ",390],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","assertCacheTag",391],"(",["T_CONSTANT_ENCAPSED_STRING","'config:field.field.user.user.test_user_field'",391],")",";",["T_WHITESPACE","\n    ",391],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","assertCacheTag",392],"(",["T_CONSTANT_ENCAPSED_STRING","'config:field.storage.user.test_user_field'",392],")",";",["T_WHITESPACE","\n    ",392],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","assertCacheTag",393],"(",["T_CONSTANT_ENCAPSED_STRING","'config:user.settings'",393],")",";",["T_WHITESPACE","\n  ",393],"}",["T_WHITESPACE","\n\n",394],"}",["T_WHITESPACE","\n",396]]