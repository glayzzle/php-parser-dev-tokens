[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","user",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","simpletest",5],["T_NS_SEPARATOR","\\",5],["T_STRING","WebTestBase",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests user blocks.\n *\n * @group user\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","UserBlocksTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","WebTestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",14],["T_WHITESPACE","\n  ",18],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_STATIC","static",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$modules",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_ARRAY","array",19],"(",["T_CONSTANT_ENCAPSED_STRING","'block'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'views'",19],")",";",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * A user with the 'administer blocks' permission.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",21],["T_WHITESPACE","\n  ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$adminUser",26],";",["T_WHITESPACE","\n\n  ",26],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","setUp",28],"(",")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n    ",28],["T_STRING","parent",29],["T_DOUBLE_COLON","::",29],["T_STRING","setUp",29],"(",")",";",["T_WHITESPACE","\n\n    ",29],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","adminUser",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","drupalCreateUser",31],"(",["T_ARRAY","array",31],"(",["T_CONSTANT_ENCAPSED_STRING","'administer blocks'",31],")",")",";",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","drupalLogin",32],"(",["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","adminUser",32],")",";",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","drupalPlaceBlock",33],"(",["T_CONSTANT_ENCAPSED_STRING","'user_login_block'",33],")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","drupalLogout",34],"(",["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","adminUser",34],")",";",["T_WHITESPACE","\n  ",34],"}",["T_WHITESPACE","\n\n  ",35],["T_DOC_COMMENT","\/**\n   * Tests that user login block is hidden from user\/login.\n   *\/",37],["T_WHITESPACE","\n  ",39],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","testUserLoginBlockVisibility",40],"(",")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n    ",40],["T_COMMENT","\/\/ Array keyed list where key being the URL address and value being expected\n",41],["T_WHITESPACE","    ",42],["T_COMMENT","\/\/ visibility as boolean type.\n",42],["T_WHITESPACE","    ",43],["T_VARIABLE","$paths",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],"[",["T_WHITESPACE","\n      ",43],["T_CONSTANT_ENCAPSED_STRING","'node'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_STRING","TRUE",44],",",["T_WHITESPACE","\n      ",44],["T_CONSTANT_ENCAPSED_STRING","'user\/login'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_STRING","FALSE",45],",",["T_WHITESPACE","\n      ",45],["T_CONSTANT_ENCAPSED_STRING","'user\/register'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_STRING","TRUE",46],",",["T_WHITESPACE","\n      ",46],["T_CONSTANT_ENCAPSED_STRING","'user\/password'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_STRING","TRUE",47],",",["T_WHITESPACE","\n    ",47],"]",";",["T_WHITESPACE","\n    ",48],["T_FOREACH","foreach",49],["T_WHITESPACE"," ",49],"(",["T_VARIABLE","$paths",49],["T_WHITESPACE"," ",49],["T_AS","as",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$path",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$expected_visibility",49],")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n      ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","drupalGet",50],"(",["T_VARIABLE","$path",50],")",";",["T_WHITESPACE","\n      ",50],["T_VARIABLE","$elements",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","xpath",51],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/div[contains(@class,\"block-user-login-block\") and @role=\"form\"]'",51],")",";",["T_WHITESPACE","\n      ",51],["T_IF","if",52],["T_WHITESPACE"," ",52],"(",["T_VARIABLE","$expected_visibility",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","assertTrue",53],"(","!",["T_EMPTY","empty",53],"(",["T_VARIABLE","$elements",53],")",",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'User login block in path \"'",53],["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_VARIABLE","$path",53],["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'\" should be visible'",53],")",";",["T_WHITESPACE","\n      ",53],"}",["T_WHITESPACE","\n      ",54],["T_ELSE","else",55],["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","assertTrue",56],"(",["T_EMPTY","empty",56],"(",["T_VARIABLE","$elements",56],")",",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'User login block in path \"'",56],["T_WHITESPACE"," ",56],".",["T_WHITESPACE"," ",56],["T_VARIABLE","$path",56],["T_WHITESPACE"," ",56],".",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'\" should not be visible'",56],")",";",["T_WHITESPACE","\n      ",56],"}",["T_WHITESPACE","\n    ",57],"}",["T_WHITESPACE","\n  ",58],"}",["T_WHITESPACE","\n\n  ",59],["T_DOC_COMMENT","\/**\n   * Test the user login block.\n   *\/",61],["T_WHITESPACE","\n  ",63],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","testUserLoginBlock",64],"(",")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n    ",64],["T_COMMENT","\/\/ Create a user with some permission that anonymous users lack.\n",65],["T_WHITESPACE","    ",66],["T_VARIABLE","$user",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","drupalCreateUser",66],"(",["T_ARRAY","array",66],"(",["T_CONSTANT_ENCAPSED_STRING","'administer permissions'",66],")",")",";",["T_WHITESPACE","\n\n    ",66],["T_COMMENT","\/\/ Log in using the block.\n",68],["T_WHITESPACE","    ",69],["T_VARIABLE","$edit",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_ARRAY","array",69],"(",")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$edit",70],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",70],"]",["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$user",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getUsername",70],"(",")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$edit",71],"[",["T_CONSTANT_ENCAPSED_STRING","'pass'",71],"]",["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$user",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","pass_raw",71],";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","drupalPostForm",72],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/people\/permissions'",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$edit",72],",",["T_WHITESPACE"," ",72],["T_STRING","t",72],"(",["T_CONSTANT_ENCAPSED_STRING","'Log in'",72],")",")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertNoText",73],"(",["T_STRING","t",73],"(",["T_CONSTANT_ENCAPSED_STRING","'User login'",73],")",",",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'Logged in.'",73],")",";",["T_WHITESPACE","\n\n    ",73],["T_COMMENT","\/\/ Check that we are still on the same page.\n",75],["T_WHITESPACE","    ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","assertUrl",76],"(",["T_NS_SEPARATOR","\\",76],["T_STRING","Drupal",76],["T_DOUBLE_COLON","::",76],["T_STRING","url",76],"(",["T_CONSTANT_ENCAPSED_STRING","'user.admin_permissions'",76],",",["T_WHITESPACE"," ",76],"[","]",",",["T_WHITESPACE"," ",76],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_STRING","TRUE",76],"]",")",",",["T_WHITESPACE"," ",76],"[","]",",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'Still on the same page after login for access denied page'",76],")",";",["T_WHITESPACE","\n\n    ",76],["T_COMMENT","\/\/ Now, log out and repeat with a non-403 page.\n",78],["T_WHITESPACE","    ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","drupalLogout",79],"(",")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","drupalPostForm",80],"(",["T_CONSTANT_ENCAPSED_STRING","'filter\/tips'",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$edit",80],",",["T_WHITESPACE"," ",80],["T_STRING","t",80],"(",["T_CONSTANT_ENCAPSED_STRING","'Log in'",80],")",")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertNoText",81],"(",["T_STRING","t",81],"(",["T_CONSTANT_ENCAPSED_STRING","'User login'",81],")",",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'Logged in.'",81],")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertPattern",82],"(",["T_CONSTANT_ENCAPSED_STRING","'!<title.*?'",82],["T_WHITESPACE"," ",82],".",["T_WHITESPACE"," ",82],["T_STRING","t",82],"(",["T_CONSTANT_ENCAPSED_STRING","'Compose tips'",82],")",["T_WHITESPACE"," ",82],".",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'.*?<\/title>!'",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'Still on the same page after login for allowed page'",82],")",";",["T_WHITESPACE","\n\n    ",82],["T_COMMENT","\/\/ Check that the user login block is not vulnerable to information\n",84],["T_WHITESPACE","    ",85],["T_COMMENT","\/\/ disclosure to third party sites.\n",85],["T_WHITESPACE","    ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","drupalLogout",86],"(",")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","drupalPostForm",87],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/'",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$edit",87],",",["T_WHITESPACE"," ",87],["T_STRING","t",87],"(",["T_CONSTANT_ENCAPSED_STRING","'Log in'",87],")",",",["T_WHITESPACE"," ",87],["T_ARRAY","array",87],"(",["T_CONSTANT_ENCAPSED_STRING","'external'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_STRING","FALSE",87],")",")",";",["T_WHITESPACE","\n    ",87],["T_COMMENT","\/\/ Check that we remain on the site after login.\n",88],["T_WHITESPACE","    ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertUrl",89],"(",["T_VARIABLE","$user",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","url",89],"(",["T_CONSTANT_ENCAPSED_STRING","'canonical'",89],",",["T_WHITESPACE"," ",89],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_STRING","TRUE",89],"]",")",",",["T_WHITESPACE"," ",89],"[","]",",",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'Redirected to user profile page after login from the frontpage'",89],")",";",["T_WHITESPACE","\n\n    ",89],["T_COMMENT","\/\/ Verify that form validation errors are displayed immediately for forms\n",91],["T_WHITESPACE","    ",92],["T_COMMENT","\/\/ in blocks and not on subsequent page requests.\n",92],["T_WHITESPACE","    ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","drupalLogout",93],"(",")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$edit",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_ARRAY","array",94],"(",")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$edit",95],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",95],"]",["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'foo'",95],";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$edit",96],"[",["T_CONSTANT_ENCAPSED_STRING","'pass'",96],"]",["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'invalid password'",96],";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","drupalPostForm",97],"(",["T_CONSTANT_ENCAPSED_STRING","'filter\/tips'",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$edit",97],",",["T_WHITESPACE"," ",97],["T_STRING","t",97],"(",["T_CONSTANT_ENCAPSED_STRING","'Log in'",97],")",")",";",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","assertText",98],"(",["T_STRING","t",98],"(",["T_CONSTANT_ENCAPSED_STRING","'Unrecognized username or password. Forgot your password?'",98],")",")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","drupalGet",99],"(",["T_CONSTANT_ENCAPSED_STRING","'filter\/tips'",99],")",";",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertNoText",100],"(",["T_STRING","t",100],"(",["T_CONSTANT_ENCAPSED_STRING","'Unrecognized username or password. Forgot your password?'",100],")",")",";",["T_WHITESPACE","\n  ",100],"}",["T_WHITESPACE","\n\n  ",101],["T_DOC_COMMENT","\/**\n   * Test the Who's Online block.\n   *\/",103],["T_WHITESPACE","\n  ",105],["T_FUNCTION","function",106],["T_WHITESPACE"," ",106],["T_STRING","testWhosOnlineBlock",106],"(",")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$block",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","drupalPlaceBlock",107],"(",["T_CONSTANT_ENCAPSED_STRING","'views_block:who_s_online-who_s_online_block'",107],")",";",["T_WHITESPACE","\n\n    ",107],["T_COMMENT","\/\/ Generate users.\n",109],["T_WHITESPACE","    ",110],["T_VARIABLE","$user1",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","drupalCreateUser",110],"(",["T_ARRAY","array",110],"(",["T_CONSTANT_ENCAPSED_STRING","'access user profiles'",110],")",")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$user2",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","drupalCreateUser",111],"(",["T_ARRAY","array",111],"(",")",")",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$user3",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","drupalCreateUser",112],"(",["T_ARRAY","array",112],"(",")",")",";",["T_WHITESPACE","\n\n    ",112],["T_COMMENT","\/\/ Update access of two users to be within the active timespan.\n",114],["T_WHITESPACE","    ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","updateAccess",115],"(",["T_VARIABLE","$user1",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","id",115],"(",")",")",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","updateAccess",116],"(",["T_VARIABLE","$user2",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","id",116],"(",")",",",["T_WHITESPACE"," ",116],["T_STRING","REQUEST_TIME",116],["T_WHITESPACE"," ",116],"+",["T_WHITESPACE"," ",116],["T_LNUMBER","1",116],")",";",["T_WHITESPACE","\n\n    ",116],["T_COMMENT","\/\/ Insert an inactive user who should not be seen in the block, and ensure\n",118],["T_WHITESPACE","    ",119],["T_COMMENT","\/\/ that the admin user used in setUp() does not appear.\n",119],["T_WHITESPACE","    ",120],["T_VARIABLE","$inactive_time",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_STRING","REQUEST_TIME",120],["T_WHITESPACE"," ",120],"-",["T_WHITESPACE"," ",120],"(",["T_LNUMBER","15",120],["T_WHITESPACE"," ",120],"*",["T_WHITESPACE"," ",120],["T_LNUMBER","60",120],")",["T_WHITESPACE"," ",120],"-",["T_WHITESPACE"," ",120],["T_LNUMBER","1",120],";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","updateAccess",121],"(",["T_VARIABLE","$user3",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","id",121],"(",")",",",["T_WHITESPACE"," ",121],["T_VARIABLE","$inactive_time",121],")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","updateAccess",122],"(",["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","adminUser",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","id",122],"(",")",",",["T_WHITESPACE"," ",122],["T_VARIABLE","$inactive_time",122],")",";",["T_WHITESPACE","\n\n    ",122],["T_COMMENT","\/\/ Test block output.\n",124],["T_WHITESPACE","    ",125],["T_NS_SEPARATOR","\\",125],["T_STRING","Drupal",125],["T_DOUBLE_COLON","::",125],["T_STRING","currentUser",125],"(",")",["T_OBJECT_OPERATOR","->",125],["T_STRING","setAccount",125],"(",["T_VARIABLE","$user1",125],")",";",["T_WHITESPACE","\n    ",125],["T_VARIABLE","$content",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_STRING","entity_view",126],"(",["T_VARIABLE","$block",126],",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'block'",126],")",";",["T_WHITESPACE","\n    ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","setRawContent",127],"(",["T_NS_SEPARATOR","\\",127],["T_STRING","Drupal",127],["T_DOUBLE_COLON","::",127],["T_STRING","service",127],"(",["T_CONSTANT_ENCAPSED_STRING","'renderer'",127],")",["T_OBJECT_OPERATOR","->",127],["T_STRING","renderRoot",127],"(",["T_VARIABLE","$content",127],")",")",";",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","assertRaw",128],"(",["T_STRING","t",128],"(",["T_CONSTANT_ENCAPSED_STRING","'2 users'",128],")",",",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'Correct number of online users (2 users).'",128],")",";",["T_WHITESPACE","\n    ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","assertText",129],"(",["T_VARIABLE","$user1",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getUsername",129],"(",")",",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'Active user 1 found in online list.'",129],")",";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","assertText",130],"(",["T_VARIABLE","$user2",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getUsername",130],"(",")",",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'Active user 2 found in online list.'",130],")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","assertNoText",131],"(",["T_VARIABLE","$user3",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getUsername",131],"(",")",",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'Inactive user not found in online list.'",131],")",";",["T_WHITESPACE","\n    ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","assertTrue",132],"(",["T_STRING","strpos",132],"(",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getRawContent",132],"(",")",",",["T_WHITESPACE"," ",132],["T_VARIABLE","$user1",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getUsername",132],"(",")",")",["T_WHITESPACE"," ",132],">",["T_WHITESPACE"," ",132],["T_STRING","strpos",132],"(",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getRawContent",132],"(",")",",",["T_WHITESPACE"," ",132],["T_VARIABLE","$user2",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getUsername",132],"(",")",")",",",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'Online users are ordered correctly.'",132],")",";",["T_WHITESPACE","\n  ",132],"}",["T_WHITESPACE","\n\n  ",133],["T_DOC_COMMENT","\/**\n   * Updates the access column for a user.\n   *\/",135],["T_WHITESPACE","\n  ",137],["T_PRIVATE","private",138],["T_WHITESPACE"," ",138],["T_FUNCTION","function",138],["T_WHITESPACE"," ",138],["T_STRING","updateAccess",138],"(",["T_VARIABLE","$uid",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$access",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_STRING","REQUEST_TIME",138],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n    ",138],["T_STRING","db_update",139],"(",["T_CONSTANT_ENCAPSED_STRING","'users_field_data'",139],")",["T_WHITESPACE","\n      ",139],["T_OBJECT_OPERATOR","->",140],["T_STRING","condition",140],"(",["T_CONSTANT_ENCAPSED_STRING","'uid'",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$uid",140],")",["T_WHITESPACE","\n      ",140],["T_OBJECT_OPERATOR","->",141],["T_STRING","fields",141],"(",["T_ARRAY","array",141],"(",["T_CONSTANT_ENCAPSED_STRING","'access'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$access",141],")",")",["T_WHITESPACE","\n      ",141],["T_OBJECT_OPERATOR","->",142],["T_STRING","execute",142],"(",")",";",["T_WHITESPACE","\n  ",142],"}",["T_WHITESPACE","\n\n",143],"}",["T_WHITESPACE","\n",145]]