[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","user",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Views",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Render",5],["T_NS_SEPARATOR","\\",5],["T_STRING","RenderContext",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","views",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Views",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests the handler of the user: name field.\n *\n * @group user\n * @see views_handler_field_user_name\n *\/",8],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","HandlerFieldUserNameTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","UserTestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * Views used by this test.\n   *\n   * @var array\n   *\/",16],["T_WHITESPACE","\n  ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_STATIC","static",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$testViews",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_ARRAY","array",21],"(",["T_CONSTANT_ENCAPSED_STRING","'test_views_handler_field_user_name'",21],")",";",["T_WHITESPACE","\n\n  ",21],["T_PUBLIC","public",23],["T_WHITESPACE"," ",23],["T_FUNCTION","function",23],["T_WHITESPACE"," ",23],["T_STRING","testUserName",23],"(",")",["T_WHITESPACE"," ",23],"{",["T_WHITESPACE","\n    ",23],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Render\\RendererInterface $renderer *\/",24],["T_WHITESPACE","\n    ",24],["T_VARIABLE","$renderer",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Drupal",25],["T_DOUBLE_COLON","::",25],["T_STRING","service",25],"(",["T_CONSTANT_ENCAPSED_STRING","'renderer'",25],")",";",["T_WHITESPACE","\n\n    ",25],["T_VARIABLE","$new_user",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","drupalCreateUser",27],"(",["T_ARRAY","array",27],"(",["T_CONSTANT_ENCAPSED_STRING","'access user profiles'",27],")",")",";",["T_WHITESPACE","\n    ",27],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","drupalLogin",28],"(",["T_VARIABLE","$new_user",28],")",";",["T_WHITESPACE","\n\n    ",28],["T_COMMENT","\/\/ Set defaults.\n",30],["T_WHITESPACE","    ",31],["T_VARIABLE","$view",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_STRING","Views",31],["T_DOUBLE_COLON","::",31],["T_STRING","getView",31],"(",["T_CONSTANT_ENCAPSED_STRING","'test_views_handler_field_user_name'",31],")",";",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$view",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","initHandlers",32],"(",")",";",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$view",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","field",33],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",33],"]",["T_OBJECT_OPERATOR","->",33],["T_STRING","options",33],"[",["T_CONSTANT_ENCAPSED_STRING","'link_to_user'",33],"]",["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_STRING","TRUE",33],";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$view",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","field",34],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",34],"]",["T_OBJECT_OPERATOR","->",34],["T_STRING","options",34],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",34],"]",["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'user_name'",34],";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$view",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","field",35],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",35],"]",["T_OBJECT_OPERATOR","->",35],["T_STRING","init",35],"(",["T_VARIABLE","$view",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$view",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","getDisplay",35],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",35],")",")",";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$view",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","field",36],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",36],"]",["T_OBJECT_OPERATOR","->",36],["T_STRING","options",36],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",36],"]",["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'name'",36],";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","executeView",37],"(",["T_VARIABLE","$view",37],")",";",["T_WHITESPACE","\n\n    ",37],["T_VARIABLE","$anon_name",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","config",39],"(",["T_CONSTANT_ENCAPSED_STRING","'user.settings'",39],")",["T_OBJECT_OPERATOR","->",39],["T_STRING","get",39],"(",["T_CONSTANT_ENCAPSED_STRING","'anonymous'",39],")",";",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$view",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","result",40],"[",["T_LNUMBER","0",40],"]",["T_OBJECT_OPERATOR","->",40],["T_STRING","_entity",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","setUsername",40],"(",["T_CONSTANT_ENCAPSED_STRING","''",40],")",";",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$view",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","result",41],"[",["T_LNUMBER","0",41],"]",["T_OBJECT_OPERATOR","->",41],["T_STRING","_entity",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","uid",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","value",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_LNUMBER","0",41],";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$render",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$renderer",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","executeInRenderContext",42],"(",["T_NEW","new",42],["T_WHITESPACE"," ",42],["T_STRING","RenderContext",42],"(",")",",",["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],"(",")",["T_WHITESPACE"," ",42],["T_USE","use",42],["T_WHITESPACE"," ",42],"(",["T_VARIABLE","$view",42],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n      ",42],["T_RETURN","return",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$view",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","field",43],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",43],"]",["T_OBJECT_OPERATOR","->",43],["T_STRING","advancedRender",43],"(",["T_VARIABLE","$view",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","result",43],"[",["T_LNUMBER","0",43],"]",")",";",["T_WHITESPACE","\n    ",43],"}",")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","assertTrue",45],"(",["T_STRING","strpos",45],"(",["T_VARIABLE","$render",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$anon_name",45],")",["T_WHITESPACE"," ",45],["T_IS_NOT_IDENTICAL","!==",45],["T_WHITESPACE"," ",45],["T_STRING","FALSE",45],",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'For user 0 it should use the default anonymous name by default.'",45],")",";",["T_WHITESPACE","\n\n    ",45],["T_VARIABLE","$render",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$renderer",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","executeInRenderContext",47],"(",["T_NEW","new",47],["T_WHITESPACE"," ",47],["T_STRING","RenderContext",47],"(",")",",",["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],"(",")",["T_WHITESPACE"," ",47],["T_USE","use",47],["T_WHITESPACE"," ",47],"(",["T_VARIABLE","$view",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$new_user",47],")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n      ",47],["T_RETURN","return",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$view",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","field",48],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",48],"]",["T_OBJECT_OPERATOR","->",48],["T_STRING","advancedRender",48],"(",["T_VARIABLE","$view",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","result",48],"[",["T_VARIABLE","$new_user",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","id",48],"(",")","]",")",";",["T_WHITESPACE","\n    ",48],"}",")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","assertTrue",50],"(",["T_STRING","strpos",50],"(",["T_VARIABLE","$render",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$new_user",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getDisplayName",50],"(",")",")",["T_WHITESPACE"," ",50],["T_IS_NOT_IDENTICAL","!==",50],["T_WHITESPACE"," ",50],["T_STRING","FALSE",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'If link to user is checked the username should be part of the output.'",50],")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertTrue",51],"(",["T_STRING","strpos",51],"(",["T_VARIABLE","$render",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'user\/'",51],["T_WHITESPACE"," ",51],".",["T_WHITESPACE"," ",51],["T_VARIABLE","$new_user",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","id",51],"(",")",")",["T_WHITESPACE"," ",51],["T_IS_NOT_IDENTICAL","!==",51],["T_WHITESPACE"," ",51],["T_STRING","FALSE",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'If link to user is checked the link to the user should appear as well.'",51],")",";",["T_WHITESPACE","\n\n    ",51],["T_VARIABLE","$view",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","field",53],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",53],"]",["T_OBJECT_OPERATOR","->",53],["T_STRING","options",53],"[",["T_CONSTANT_ENCAPSED_STRING","'link_to_user'",53],"]",["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","FALSE",53],";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$view",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","field",54],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",54],"]",["T_OBJECT_OPERATOR","->",54],["T_STRING","options",54],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",54],"]",["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'string'",54],";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$render",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$renderer",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","executeInRenderContext",55],"(",["T_NEW","new",55],["T_WHITESPACE"," ",55],["T_STRING","RenderContext",55],"(",")",",",["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],"(",")",["T_WHITESPACE"," ",55],["T_USE","use",55],["T_WHITESPACE"," ",55],"(",["T_VARIABLE","$view",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$new_user",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n      ",55],["T_RETURN","return",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$view",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","field",56],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",56],"]",["T_OBJECT_OPERATOR","->",56],["T_STRING","advancedRender",56],"(",["T_VARIABLE","$view",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","result",56],"[",["T_VARIABLE","$new_user",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","id",56],"(",")","]",")",";",["T_WHITESPACE","\n    ",56],"}",")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","assertEqual",58],"(",["T_VARIABLE","$render",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$new_user",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getDisplayName",58],"(",")",",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'If the user is not linked the username should be printed out for a normal user.'",58],")",";",["T_WHITESPACE","\n\n  ",58],"}",["T_WHITESPACE","\n\n  ",60],["T_DOC_COMMENT","\/**\n   * Tests that the field handler works when no additional fields are added.\n   *\/",62],["T_WHITESPACE","\n  ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","testNoAdditionalFields",65],"(",")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n    ",65],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Render\\RendererInterface $renderer *\/",66],["T_WHITESPACE","\n    ",66],["T_VARIABLE","$renderer",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Drupal",67],["T_DOUBLE_COLON","::",67],["T_STRING","service",67],"(",["T_CONSTANT_ENCAPSED_STRING","'renderer'",67],")",";",["T_WHITESPACE","\n\n    ",67],["T_VARIABLE","$view",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","Views",69],["T_DOUBLE_COLON","::",69],["T_STRING","getView",69],"(",["T_CONSTANT_ENCAPSED_STRING","'test_views_handler_field_user_name'",69],")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","executeView",70],"(",["T_VARIABLE","$view",70],")",";",["T_WHITESPACE","\n\n    ",70],["T_VARIABLE","$username",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","randomMachineName",72],"(",")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$view",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","result",73],"[",["T_LNUMBER","0",73],"]",["T_OBJECT_OPERATOR","->",73],["T_STRING","_entity",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","setUsername",73],"(",["T_VARIABLE","$username",73],")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$view",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","result",74],"[",["T_LNUMBER","0",74],"]",["T_OBJECT_OPERATOR","->",74],["T_STRING","_entity",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","uid",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","value",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_LNUMBER","1",74],";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$render",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$renderer",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","executeInRenderContext",75],"(",["T_NEW","new",75],["T_WHITESPACE"," ",75],["T_STRING","RenderContext",75],"(",")",",",["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],"(",")",["T_WHITESPACE"," ",75],["T_USE","use",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$view",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n      ",75],["T_RETURN","return",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$view",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","field",76],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",76],"]",["T_OBJECT_OPERATOR","->",76],["T_STRING","advancedRender",76],"(",["T_VARIABLE","$view",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","result",76],"[",["T_LNUMBER","0",76],"]",")",";",["T_WHITESPACE","\n    ",76],"}",")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","assertTrue",78],"(",["T_STRING","strpos",78],"(",["T_VARIABLE","$render",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$username",78],")",["T_WHITESPACE"," ",78],["T_IS_NOT_IDENTICAL","!==",78],["T_WHITESPACE"," ",78],["T_STRING","FALSE",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'If link to user is checked the username should be part of the output.'",78],")",";",["T_WHITESPACE","\n  ",78],"}",["T_WHITESPACE","\n\n",79],"}",["T_WHITESPACE","\n",81]]