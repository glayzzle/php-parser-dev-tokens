[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","user",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Views",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Cache",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Cache",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","user",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Plugin",6],["T_NS_SEPARATOR","\\",6],["T_STRING","views",6],["T_NS_SEPARATOR","\\",6],["T_STRING","access",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Role",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","views",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Plugin",7],["T_NS_SEPARATOR","\\",7],["T_STRING","views",7],["T_NS_SEPARATOR","\\",7],["T_STRING","display",7],["T_NS_SEPARATOR","\\",7],["T_STRING","DisplayPluginBase",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","views",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Views",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Tests views role access plugin.\n *\n * @group user\n * @see \\Drupal\\user\\Plugin\\views\\access\\Role\n *\/",10],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","AccessRoleTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","AccessTestBase",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * Views used by this test.\n   *\n   * @var array\n   *\/",18],["T_WHITESPACE","\n  ",22],["T_PUBLIC","public",23],["T_WHITESPACE"," ",23],["T_STATIC","static",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$testViews",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_ARRAY","array",23],"(",["T_CONSTANT_ENCAPSED_STRING","'test_access_role'",23],")",";",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * Tests role access plugin.\n   *\/",25],["T_WHITESPACE","\n  ",27],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","testAccessRole",28],"(",")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n    ",28],["T_DOC_COMMENT","\/** @var \\Drupal\\views\\ViewEntityInterface $view *\/",29],["T_WHITESPACE","\n    ",29],["T_VARIABLE","$view",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Drupal",30],["T_DOUBLE_COLON","::",30],["T_STRING","entityManager",30],"(",")",["T_OBJECT_OPERATOR","->",30],["T_STRING","getStorage",30],"(",["T_CONSTANT_ENCAPSED_STRING","'view'",30],")",["T_OBJECT_OPERATOR","->",30],["T_STRING","load",30],"(",["T_CONSTANT_ENCAPSED_STRING","'test_access_role'",30],")",";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$display",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],"&",["T_VARIABLE","$view",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","getDisplay",31],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",31],")",";",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$display",32],"[",["T_CONSTANT_ENCAPSED_STRING","'display_options'",32],"]","[",["T_CONSTANT_ENCAPSED_STRING","'access'",32],"]","[",["T_CONSTANT_ENCAPSED_STRING","'options'",32],"]","[",["T_CONSTANT_ENCAPSED_STRING","'role'",32],"]",["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_ARRAY","array",32],"(",["T_WHITESPACE","\n      ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","normalRole",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","normalRole",33],",",["T_WHITESPACE","\n    ",33],")",";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$view",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","save",35],"(",")",";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","container",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","get",36],"(",["T_CONSTANT_ENCAPSED_STRING","'router.builder'",36],")",["T_OBJECT_OPERATOR","->",36],["T_STRING","rebuildIfNeeded",36],"(",")",";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$expected",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],"[",["T_WHITESPACE","\n      ",37],["T_CONSTANT_ENCAPSED_STRING","'config'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],"[",["T_CONSTANT_ENCAPSED_STRING","'user.role.'",38],["T_WHITESPACE"," ",38],".",["T_WHITESPACE"," ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","normalRole",38],"]",",",["T_WHITESPACE","\n      ",38],["T_CONSTANT_ENCAPSED_STRING","'module'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",39],"]",",",["T_WHITESPACE","\n    ",39],"]",";",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","assertIdentical",41],"(",["T_VARIABLE","$expected",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$view",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","calculateDependencies",41],"(",")",["T_OBJECT_OPERATOR","->",41],["T_STRING","getDependencies",41],"(",")",")",";",["T_WHITESPACE","\n\n    ",41],["T_VARIABLE","$executable",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_STRING","Views",43],["T_DOUBLE_COLON","::",43],["T_STRING","executableFactory",43],"(",")",["T_OBJECT_OPERATOR","->",43],["T_STRING","get",43],"(",["T_VARIABLE","$view",43],")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$executable",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","setDisplay",44],"(",["T_CONSTANT_ENCAPSED_STRING","'page_1'",44],")",";",["T_WHITESPACE","\n\n    ",44],["T_VARIABLE","$access_plugin",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$executable",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","display_handler",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getPlugin",46],"(",["T_CONSTANT_ENCAPSED_STRING","'access'",46],")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","assertTrue",47],"(",["T_VARIABLE","$access_plugin",47],["T_WHITESPACE"," ",47],["T_INSTANCEOF","instanceof",47],["T_WHITESPACE"," ",47],["T_STRING","Role",47],",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'Make sure the right class got instantiated.'",47],")",";",["T_WHITESPACE","\n\n    ",47],["T_COMMENT","\/\/ Test the access() method on the access plugin.\n",49],["T_WHITESPACE","    ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","assertFalse",50],"(",["T_VARIABLE","$executable",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","display_handler",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","access",50],"(",["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","webUser",50],")",")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertTrue",51],"(",["T_VARIABLE","$executable",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","display_handler",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","access",51],"(",["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","normalUser",51],")",")",";",["T_WHITESPACE","\n\n    ",51],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","drupalLogin",53],"(",["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","webUser",53],")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","drupalGet",54],"(",["T_CONSTANT_ENCAPSED_STRING","'test-role'",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertResponse",55],"(",["T_LNUMBER","403",55],")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","assertCacheContext",56],"(",["T_CONSTANT_ENCAPSED_STRING","'user.roles'",56],")",";",["T_WHITESPACE","\n\n    ",56],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","drupalLogin",58],"(",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","normalUser",58],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","drupalGet",59],"(",["T_CONSTANT_ENCAPSED_STRING","'test-role'",59],")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertResponse",60],"(",["T_LNUMBER","200",60],")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","assertCacheContext",61],"(",["T_CONSTANT_ENCAPSED_STRING","'user.roles'",61],")",";",["T_WHITESPACE","\n\n    ",61],["T_COMMENT","\/\/ Test allowing multiple roles.\n",63],["T_WHITESPACE","    ",64],["T_VARIABLE","$view",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","Views",64],["T_DOUBLE_COLON","::",64],["T_STRING","getView",64],"(",["T_CONSTANT_ENCAPSED_STRING","'test_access_role'",64],")",["T_OBJECT_OPERATOR","->",64],["T_STRING","storage",64],";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$display",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],"&",["T_VARIABLE","$view",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getDisplay",65],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",65],")",";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$display",66],"[",["T_CONSTANT_ENCAPSED_STRING","'display_options'",66],"]","[",["T_CONSTANT_ENCAPSED_STRING","'access'",66],"]","[",["T_CONSTANT_ENCAPSED_STRING","'options'",66],"]","[",["T_CONSTANT_ENCAPSED_STRING","'role'",66],"]",["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_ARRAY","array",66],"(",["T_WHITESPACE","\n      ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","normalRole",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","normalRole",67],",",["T_WHITESPACE","\n      ",67],["T_CONSTANT_ENCAPSED_STRING","'anonymous'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'anonymous'",68],",",["T_WHITESPACE","\n    ",68],")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$view",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","save",70],"(",")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","container",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","get",71],"(",["T_CONSTANT_ENCAPSED_STRING","'router.builder'",71],")",["T_OBJECT_OPERATOR","->",71],["T_STRING","rebuildIfNeeded",71],"(",")",";",["T_WHITESPACE","\n\n    ",71],["T_COMMENT","\/\/ Ensure that the list of roles is sorted correctly, if the generated role\n",73],["T_WHITESPACE","    ",74],["T_COMMENT","\/\/ ID comes before 'anonymous', see https:\/\/www.drupal.org\/node\/2398259.\n",74],["T_WHITESPACE","    ",75],["T_VARIABLE","$roles",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],"[",["T_CONSTANT_ENCAPSED_STRING","'user.role.anonymous'",75],",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'user.role.'",75],["T_WHITESPACE"," ",75],".",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","normalRole",75],"]",";",["T_WHITESPACE","\n    ",75],["T_STRING","sort",76],"(",["T_VARIABLE","$roles",76],")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$expected",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],"[",["T_WHITESPACE","\n      ",77],["T_CONSTANT_ENCAPSED_STRING","'config'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$roles",78],",",["T_WHITESPACE","\n      ",78],["T_CONSTANT_ENCAPSED_STRING","'module'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",79],"]",",",["T_WHITESPACE","\n    ",79],"]",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertIdentical",81],"(",["T_VARIABLE","$expected",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$view",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","calculateDependencies",81],"(",")",["T_OBJECT_OPERATOR","->",81],["T_STRING","getDependencies",81],"(",")",")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","drupalLogin",82],"(",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","webUser",82],")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","drupalGet",83],"(",["T_CONSTANT_ENCAPSED_STRING","'test-role'",83],")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertResponse",84],"(",["T_LNUMBER","403",84],")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertCacheContext",85],"(",["T_CONSTANT_ENCAPSED_STRING","'user.roles'",85],")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","drupalLogout",86],"(",")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","drupalGet",87],"(",["T_CONSTANT_ENCAPSED_STRING","'test-role'",87],")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","assertResponse",88],"(",["T_LNUMBER","200",88],")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertCacheContext",89],"(",["T_CONSTANT_ENCAPSED_STRING","'user.roles'",89],")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","drupalLogin",90],"(",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","normalUser",90],")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","drupalGet",91],"(",["T_CONSTANT_ENCAPSED_STRING","'test-role'",91],")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertResponse",92],"(",["T_LNUMBER","200",92],")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertCacheContext",93],"(",["T_CONSTANT_ENCAPSED_STRING","'user.roles'",93],")",";",["T_WHITESPACE","\n  ",93],"}",["T_WHITESPACE","\n\n  ",94],["T_DOC_COMMENT","\/**\n   * Tests access on render caching.\n   *\/",96],["T_WHITESPACE","\n  ",98],["T_PUBLIC","public",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","testRenderCaching",99],"(",")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$view",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_STRING","Views",100],["T_DOUBLE_COLON","::",100],["T_STRING","getView",100],"(",["T_CONSTANT_ENCAPSED_STRING","'test_access_role'",100],")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$display",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],"&",["T_VARIABLE","$view",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","storage",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getDisplay",101],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",101],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$display",102],"[",["T_CONSTANT_ENCAPSED_STRING","'display_options'",102],"]","[",["T_CONSTANT_ENCAPSED_STRING","'cache'",102],"]",["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],"[",["T_WHITESPACE","\n      ",102],["T_CONSTANT_ENCAPSED_STRING","'type'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'tag'",103],",",["T_WHITESPACE","\n    ",103],"]",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$display",105],"[",["T_CONSTANT_ENCAPSED_STRING","'display_options'",105],"]","[",["T_CONSTANT_ENCAPSED_STRING","'access'",105],"]","[",["T_CONSTANT_ENCAPSED_STRING","'options'",105],"]","[",["T_CONSTANT_ENCAPSED_STRING","'role'",105],"]",["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_ARRAY","array",105],"(",["T_WHITESPACE","\n      ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","normalRole",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","normalRole",106],",",["T_WHITESPACE","\n    ",106],")",";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$view",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","save",108],"(",")",";",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Render\\RendererInterface $renderer *\/",110],["T_WHITESPACE","\n    ",110],["T_VARIABLE","$renderer",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Drupal",111],["T_DOUBLE_COLON","::",111],["T_STRING","service",111],"(",["T_CONSTANT_ENCAPSED_STRING","'renderer'",111],")",";",["T_WHITESPACE","\n    ",111],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Session\\AccountSwitcherInterface $account_switcher *\/",112],["T_WHITESPACE","\n    ",112],["T_VARIABLE","$account_switcher",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Drupal",113],["T_DOUBLE_COLON","::",113],["T_STRING","service",113],"(",["T_CONSTANT_ENCAPSED_STRING","'account_switcher'",113],")",";",["T_WHITESPACE","\n\n    ",113],["T_COMMENT","\/\/ First access as user with access.\n",115],["T_WHITESPACE","    ",116],["T_VARIABLE","$build",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_STRING","DisplayPluginBase",116],["T_DOUBLE_COLON","::",116],["T_STRING","buildBasicRenderable",116],"(",["T_CONSTANT_ENCAPSED_STRING","'test_access_role'",116],",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'default'",116],")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$account_switcher",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","switchTo",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","normalUser",117],")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$result",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$renderer",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","renderPlain",118],"(",["T_VARIABLE","$build",118],")",";",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertTrue",119],"(",["T_STRING","in_array",119],"(",["T_CONSTANT_ENCAPSED_STRING","'user.roles'",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$build",119],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",119],"]","[",["T_CONSTANT_ENCAPSED_STRING","'contexts'",119],"]",")",")",";",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","assertEqual",120],"(","[",["T_CONSTANT_ENCAPSED_STRING","'config:views.view.test_access_role'",120],"]",",",["T_WHITESPACE"," ",120],["T_VARIABLE","$build",120],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",120],"]","[",["T_CONSTANT_ENCAPSED_STRING","'tags'",120],"]",")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","assertEqual",121],"(",["T_STRING","Cache",121],["T_DOUBLE_COLON","::",121],["T_STRING","PERMANENT",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$build",121],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",121],"]","[",["T_CONSTANT_ENCAPSED_STRING","'max-age'",121],"]",")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertNotEqual",122],"(",["T_VARIABLE","$result",122],",",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","''",122],")",";",["T_WHITESPACE","\n\n    ",122],["T_COMMENT","\/\/ Then without access.\n",124],["T_WHITESPACE","    ",125],["T_VARIABLE","$build",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_STRING","DisplayPluginBase",125],["T_DOUBLE_COLON","::",125],["T_STRING","buildBasicRenderable",125],"(",["T_CONSTANT_ENCAPSED_STRING","'test_access_role'",125],",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'default'",125],")",";",["T_WHITESPACE","\n    ",125],["T_VARIABLE","$account_switcher",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","switchTo",126],"(",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","webUser",126],")",";",["T_WHITESPACE","\n    ",126],["T_VARIABLE","$result",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$renderer",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","renderPlain",127],"(",["T_VARIABLE","$build",127],")",";",["T_WHITESPACE","\n    ",127],["T_COMMENT","\/\/ @todo Fix this in https:\/\/www.drupal.org\/node\/2551037,\n",128],["T_WHITESPACE","    ",129],["T_COMMENT","\/\/ DisplayPluginBase::applyDisplayCachablityMetadata() is not invoked when\n",129],["T_WHITESPACE","    ",130],["T_COMMENT","\/\/ using buildBasicRenderable() and a Views access plugin returns FALSE.\n",130],["T_WHITESPACE","    ",131],["T_COMMENT","\/\/$this->assertTrue(in_array('user.roles', $build['#cache']['contexts']));\n",131],["T_WHITESPACE","    ",132],["T_COMMENT","\/\/$this->assertEqual([], $build['#cache']['tags']);\n",132],["T_WHITESPACE","    ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","assertEqual",133],"(",["T_STRING","Cache",133],["T_DOUBLE_COLON","::",133],["T_STRING","PERMANENT",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$build",133],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",133],"]","[",["T_CONSTANT_ENCAPSED_STRING","'max-age'",133],"]",")",";",["T_WHITESPACE","\n    ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","assertEqual",134],"(",["T_VARIABLE","$result",134],",",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","''",134],")",";",["T_WHITESPACE","\n  ",134],"}",["T_WHITESPACE","\n\n",135],"}",["T_WHITESPACE","\n",137]]