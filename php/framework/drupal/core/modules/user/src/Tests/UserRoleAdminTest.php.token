[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","user",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","simpletest",5],["T_NS_SEPARATOR","\\",5],["T_STRING","WebTestBase",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","user",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Role",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","user",7],["T_NS_SEPARATOR","\\",7],["T_STRING","RoleInterface",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Tests adding, editing and deleting user roles and changing role weights.\n *\n * @group user\n *\/",9],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","UserRoleAdminTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","WebTestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * User with admin privileges.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",16],["T_WHITESPACE","\n  ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$adminUser",21],";",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var string[]\n   *\/",23],["T_WHITESPACE","\n  ",27],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_STATIC","static",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$modules",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],"[",["T_CONSTANT_ENCAPSED_STRING","'block'",28],"]",";",["T_WHITESPACE","\n\n  ",28],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",30],["T_WHITESPACE","\n  ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","setUp",33],"(",")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n    ",33],["T_STRING","parent",34],["T_DOUBLE_COLON","::",34],["T_STRING","setUp",34],"(",")",";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","adminUser",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","drupalCreateUser",35],"(",["T_ARRAY","array",35],"(",["T_CONSTANT_ENCAPSED_STRING","'administer permissions'",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'administer users'",35],")",")",";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","drupalPlaceBlock",36],"(",["T_CONSTANT_ENCAPSED_STRING","'local_tasks_block'",36],")",";",["T_WHITESPACE","\n  ",36],"}",["T_WHITESPACE","\n\n  ",37],["T_DOC_COMMENT","\/**\n   * Test adding, renaming and deleting roles.\n   *\/",39],["T_WHITESPACE","\n  ",41],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","testRoleAdministration",42],"(",")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","drupalLogin",43],"(",["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","adminUser",43],")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$default_langcode",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Drupal",44],["T_DOUBLE_COLON","::",44],["T_STRING","languageManager",44],"(",")",["T_OBJECT_OPERATOR","->",44],["T_STRING","getDefaultLanguage",44],"(",")",["T_OBJECT_OPERATOR","->",44],["T_STRING","getId",44],"(",")",";",["T_WHITESPACE","\n    ",44],["T_COMMENT","\/\/ Test presence of tab.\n",45],["T_WHITESPACE","    ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","drupalGet",46],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/people\/permissions'",46],")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$tabs",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","xpath",47],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/ul[@class=:classes and \/\/a[contains(., :text)]]'",47],",",["T_WHITESPACE"," ",47],["T_ARRAY","array",47],"(",["T_WHITESPACE","\n      ",47],["T_CONSTANT_ENCAPSED_STRING","':classes'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'tabs primary'",48],",",["T_WHITESPACE","\n      ",48],["T_CONSTANT_ENCAPSED_STRING","':text'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_STRING","t",49],"(",["T_CONSTANT_ENCAPSED_STRING","'Roles'",49],")",",",["T_WHITESPACE","\n    ",49],")",")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertEqual",51],"(",["T_STRING","count",51],"(",["T_VARIABLE","$tabs",51],")",",",["T_WHITESPACE"," ",51],["T_LNUMBER","1",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'Found roles tab'",51],")",";",["T_WHITESPACE","\n\n    ",51],["T_COMMENT","\/\/ Test adding a role. (In doing so, we use a role name that happens to\n",53],["T_WHITESPACE","    ",54],["T_COMMENT","\/\/ correspond to an integer, to test that the role administration pages\n",54],["T_WHITESPACE","    ",55],["T_COMMENT","\/\/ correctly distinguish between role names and IDs.)\n",55],["T_WHITESPACE","    ",56],["T_VARIABLE","$role_name",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'123'",56],";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$edit",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_ARRAY","array",57],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$role_name",57],",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'id'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$role_name",57],")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","drupalPostForm",58],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/people\/roles\/add'",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$edit",58],",",["T_WHITESPACE"," ",58],["T_STRING","t",58],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",58],")",")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","assertRaw",59],"(",["T_STRING","t",59],"(",["T_CONSTANT_ENCAPSED_STRING","'Role %label has been added.'",59],",",["T_WHITESPACE"," ",59],["T_ARRAY","array",59],"(",["T_CONSTANT_ENCAPSED_STRING","'%label'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_LNUMBER","123",59],")",")",")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$role",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_STRING","Role",60],["T_DOUBLE_COLON","::",60],["T_STRING","load",60],"(",["T_VARIABLE","$role_name",60],")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","assertTrue",61],"(",["T_STRING","is_object",61],"(",["T_VARIABLE","$role",61],")",",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'The role was successfully retrieved from the database.'",61],")",";",["T_WHITESPACE","\n\n    ",61],["T_COMMENT","\/\/ Check that the role was created in site default language.\n",63],["T_WHITESPACE","    ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","assertEqual",64],"(",["T_VARIABLE","$role",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","language",64],"(",")",["T_OBJECT_OPERATOR","->",64],["T_STRING","getId",64],"(",")",",",["T_WHITESPACE"," ",64],["T_VARIABLE","$default_langcode",64],")",";",["T_WHITESPACE","\n\n    ",64],["T_COMMENT","\/\/ Try adding a duplicate role.\n",66],["T_WHITESPACE","    ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","drupalPostForm",67],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/people\/roles\/add'",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$edit",67],",",["T_WHITESPACE"," ",67],["T_STRING","t",67],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",67],")",")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","assertRaw",68],"(",["T_STRING","t",68],"(",["T_CONSTANT_ENCAPSED_STRING","'The machine-readable name is already in use. It must be unique.'",68],")",",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'Duplicate role warning displayed.'",68],")",";",["T_WHITESPACE","\n\n    ",68],["T_COMMENT","\/\/ Test renaming a role.\n",70],["T_WHITESPACE","    ",71],["T_VARIABLE","$role_name",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'456'",71],";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$edit",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_ARRAY","array",72],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$role_name",72],")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","drupalPostForm",73],"(","\"",["T_ENCAPSED_AND_WHITESPACE","admin\/people\/roles\/manage\/",73],["T_CURLY_OPEN","{",73],["T_VARIABLE","$role",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","id",73],"(",")","}","\"",",",["T_WHITESPACE"," ",73],["T_VARIABLE","$edit",73],",",["T_WHITESPACE"," ",73],["T_STRING","t",73],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",73],")",")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertRaw",74],"(",["T_STRING","t",74],"(",["T_CONSTANT_ENCAPSED_STRING","'Role %label has been updated.'",74],",",["T_WHITESPACE"," ",74],["T_ARRAY","array",74],"(",["T_CONSTANT_ENCAPSED_STRING","'%label'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$role_name",74],")",")",")",";",["T_WHITESPACE","\n    ",74],["T_NS_SEPARATOR","\\",75],["T_STRING","Drupal",75],["T_DOUBLE_COLON","::",75],["T_STRING","entityManager",75],"(",")",["T_OBJECT_OPERATOR","->",75],["T_STRING","getStorage",75],"(",["T_CONSTANT_ENCAPSED_STRING","'user_role'",75],")",["T_OBJECT_OPERATOR","->",75],["T_STRING","resetCache",75],"(",["T_ARRAY","array",75],"(",["T_VARIABLE","$role",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","id",75],"(",")",")",")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$new_role",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_STRING","Role",76],["T_DOUBLE_COLON","::",76],["T_STRING","load",76],"(",["T_VARIABLE","$role",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","id",76],"(",")",")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assertEqual",77],"(",["T_VARIABLE","$new_role",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","label",77],"(",")",",",["T_WHITESPACE"," ",77],["T_VARIABLE","$role_name",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'The role name has been successfully changed.'",77],")",";",["T_WHITESPACE","\n\n    ",77],["T_COMMENT","\/\/ Test deleting a role.\n",79],["T_WHITESPACE","    ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","drupalGet",80],"(","\"",["T_ENCAPSED_AND_WHITESPACE","admin\/people\/roles\/manage\/",80],["T_CURLY_OPEN","{",80],["T_VARIABLE","$role",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","id",80],"(",")","}","\"",")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","clickLink",81],"(",["T_STRING","t",81],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",81],")",")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","drupalPostForm",82],"(",["T_STRING","NULL",82],",",["T_WHITESPACE"," ",82],["T_ARRAY","array",82],"(",")",",",["T_WHITESPACE"," ",82],["T_STRING","t",82],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",82],")",")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertRaw",83],"(",["T_STRING","t",83],"(",["T_CONSTANT_ENCAPSED_STRING","'The role %label has been deleted.'",83],",",["T_WHITESPACE"," ",83],["T_ARRAY","array",83],"(",["T_CONSTANT_ENCAPSED_STRING","'%label'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$role_name",83],")",")",")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertNoLinkByHref",84],"(","\"",["T_ENCAPSED_AND_WHITESPACE","admin\/people\/roles\/manage\/",84],["T_CURLY_OPEN","{",84],["T_VARIABLE","$role",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","id",84],"(",")","}","\"",",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'Role edit link removed.'",84],")",";",["T_WHITESPACE","\n    ",84],["T_NS_SEPARATOR","\\",85],["T_STRING","Drupal",85],["T_DOUBLE_COLON","::",85],["T_STRING","entityManager",85],"(",")",["T_OBJECT_OPERATOR","->",85],["T_STRING","getStorage",85],"(",["T_CONSTANT_ENCAPSED_STRING","'user_role'",85],")",["T_OBJECT_OPERATOR","->",85],["T_STRING","resetCache",85],"(",["T_ARRAY","array",85],"(",["T_VARIABLE","$role",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","id",85],"(",")",")",")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertFalse",86],"(",["T_STRING","Role",86],["T_DOUBLE_COLON","::",86],["T_STRING","load",86],"(",["T_VARIABLE","$role",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","id",86],"(",")",")",",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'A deleted role can no longer be loaded.'",86],")",";",["T_WHITESPACE","\n\n    ",86],["T_COMMENT","\/\/ Make sure that the system-defined roles can be edited via the user\n",88],["T_WHITESPACE","    ",89],["T_COMMENT","\/\/ interface.\n",89],["T_WHITESPACE","    ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","drupalGet",90],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/people\/roles\/manage\/'",90],["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_STRING","RoleInterface",90],["T_DOUBLE_COLON","::",90],["T_STRING","ANONYMOUS_ID",90],")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","assertResponse",91],"(",["T_LNUMBER","200",91],",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'Access granted when trying to edit the built-in anonymous role.'",91],")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertNoText",92],"(",["T_STRING","t",92],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete role'",92],")",",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'Delete button for the anonymous role is not present.'",92],")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","drupalGet",93],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/people\/roles\/manage\/'",93],["T_WHITESPACE"," ",93],".",["T_WHITESPACE"," ",93],["T_STRING","RoleInterface",93],["T_DOUBLE_COLON","::",93],["T_STRING","AUTHENTICATED_ID",93],")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertResponse",94],"(",["T_LNUMBER","200",94],",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'Access granted when trying to edit the built-in authenticated role.'",94],")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertNoText",95],"(",["T_STRING","t",95],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete role'",95],")",",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'Delete button for the authenticated role is not present.'",95],")",";",["T_WHITESPACE","\n  ",95],"}",["T_WHITESPACE","\n\n  ",96],["T_DOC_COMMENT","\/**\n   * Test user role weight change operation and ordering.\n   *\/",98],["T_WHITESPACE","\n  ",100],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","testRoleWeightOrdering",101],"(",")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","drupalLogin",102],"(",["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","adminUser",102],")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$roles",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","user_roles",103],"(",")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$weight",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_STRING","count",104],"(",["T_VARIABLE","$roles",104],")",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$new_role_weights",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_ARRAY","array",105],"(",")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$saved_rids",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_ARRAY","array",106],"(",")",";",["T_WHITESPACE","\n\n    ",106],["T_COMMENT","\/\/ Change the role weights to make the roles in reverse order.\n",108],["T_WHITESPACE","    ",109],["T_VARIABLE","$edit",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_ARRAY","array",109],"(",")",";",["T_WHITESPACE","\n    ",109],["T_FOREACH","foreach",110],["T_WHITESPACE"," ",110],"(",["T_VARIABLE","$roles",110],["T_WHITESPACE"," ",110],["T_AS","as",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$role",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n      ",110],["T_VARIABLE","$edit",111],"[",["T_CONSTANT_ENCAPSED_STRING","'entities['",111],["T_WHITESPACE"," ",111],".",["T_WHITESPACE"," ",111],["T_VARIABLE","$role",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","id",111],"(",")",["T_WHITESPACE"," ",111],".",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'][weight]'",111],"]",["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$weight",111],";",["T_WHITESPACE","\n      ",111],["T_VARIABLE","$new_role_weights",112],"[",["T_VARIABLE","$role",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","id",112],"(",")","]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$weight",112],";",["T_WHITESPACE","\n      ",112],["T_VARIABLE","$saved_rids",113],"[","]",["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$role",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","id",113],"(",")",";",["T_WHITESPACE","\n      ",113],["T_VARIABLE","$weight",114],["T_DEC","--",114],";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","drupalPostForm",116],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/people\/roles'",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$edit",116],",",["T_WHITESPACE"," ",116],["T_STRING","t",116],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",116],")",")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","assertText",117],"(",["T_STRING","t",117],"(",["T_CONSTANT_ENCAPSED_STRING","'The role settings have been updated.'",117],")",",",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'The role settings form submitted successfully.'",117],")",";",["T_WHITESPACE","\n\n    ",117],["T_COMMENT","\/\/ Load up the user roles with the new weights.\n",119],["T_WHITESPACE","    ",120],["T_STRING","drupal_static_reset",120],"(",["T_CONSTANT_ENCAPSED_STRING","'user_roles'",120],")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$roles",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_STRING","user_roles",121],"(",")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$rids",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_ARRAY","array",122],"(",")",";",["T_WHITESPACE","\n    ",122],["T_COMMENT","\/\/ Test that the role weights have been correctly saved.\n",123],["T_WHITESPACE","    ",124],["T_FOREACH","foreach",124],["T_WHITESPACE"," ",124],"(",["T_VARIABLE","$roles",124],["T_WHITESPACE"," ",124],["T_AS","as",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$role",124],")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n      ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertEqual",125],"(",["T_VARIABLE","$role",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getWeight",125],"(",")",",",["T_WHITESPACE"," ",125],["T_VARIABLE","$new_role_weights",125],"[",["T_VARIABLE","$role",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","id",125],"(",")","]",")",";",["T_WHITESPACE","\n      ",125],["T_VARIABLE","$rids",126],"[","]",["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$role",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","id",126],"(",")",";",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n    ",127],["T_COMMENT","\/\/ The order of the roles should be reversed.\n",128],["T_WHITESPACE","    ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","assertIdentical",129],"(",["T_VARIABLE","$rids",129],",",["T_WHITESPACE"," ",129],["T_STRING","array_reverse",129],"(",["T_VARIABLE","$saved_rids",129],")",")",";",["T_WHITESPACE","\n  ",129],"}",["T_WHITESPACE","\n\n",130],"}",["T_WHITESPACE","\n",132]]