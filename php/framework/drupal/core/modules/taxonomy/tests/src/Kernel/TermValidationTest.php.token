[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","taxonomy",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","KernelTests",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","EntityKernelTestBase",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests term validation constraints.\n *\n * @group taxonomy\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","TermValidationTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","EntityKernelTestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",14],["T_WHITESPACE","\n  ",18],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_STATIC","static",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$modules",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_ARRAY","array",19],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy'",19],")",";",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",21],["T_WHITESPACE","\n  ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_FUNCTION","function",24],["T_WHITESPACE"," ",24],["T_STRING","setUp",24],"(",")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n    ",24],["T_STRING","parent",25],["T_DOUBLE_COLON","::",25],["T_STRING","setUp",25],"(",")",";",["T_WHITESPACE","\n    ",25],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","installEntitySchema",26],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term'",26],")",";",["T_WHITESPACE","\n  ",26],"}",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * Tests the term validation constraints.\n   *\/",29],["T_WHITESPACE","\n  ",31],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","testValidation",32],"(",")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","entityManager",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","getStorage",33],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_vocabulary'",33],")",["T_OBJECT_OPERATOR","->",33],["T_STRING","create",33],"(",["T_ARRAY","array",33],"(",["T_WHITESPACE","\n      ",33],["T_CONSTANT_ENCAPSED_STRING","'vid'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'tags'",34],",",["T_WHITESPACE","\n      ",34],["T_CONSTANT_ENCAPSED_STRING","'name'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'Tags'",35],",",["T_WHITESPACE","\n    ",35],")",")",["T_OBJECT_OPERATOR","->",36],["T_STRING","save",36],"(",")",";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$term",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","entityManager",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","getStorage",37],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term'",37],")",["T_OBJECT_OPERATOR","->",37],["T_STRING","create",37],"(",["T_ARRAY","array",37],"(",["T_WHITESPACE","\n      ",37],["T_CONSTANT_ENCAPSED_STRING","'name'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'test'",38],",",["T_WHITESPACE","\n      ",38],["T_CONSTANT_ENCAPSED_STRING","'vid'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'tags'",39],",",["T_WHITESPACE","\n    ",39],")",")",";",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$violations",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$term",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","validate",41],"(",")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","assertEqual",42],"(",["T_STRING","count",42],"(",["T_VARIABLE","$violations",42],")",",",["T_WHITESPACE"," ",42],["T_LNUMBER","0",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'No violations when validating a default term.'",42],")",";",["T_WHITESPACE","\n\n    ",42],["T_VARIABLE","$term",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","set",44],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","randomString",44],"(",["T_LNUMBER","256",44],")",")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$violations",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$term",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","validate",45],"(",")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","assertEqual",46],"(",["T_STRING","count",46],"(",["T_VARIABLE","$violations",46],")",",",["T_WHITESPACE"," ",46],["T_LNUMBER","1",46],",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'Violation found when name is too long.'",46],")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","assertEqual",47],"(",["T_VARIABLE","$violations",47],"[",["T_LNUMBER","0",47],"]",["T_OBJECT_OPERATOR","->",47],["T_STRING","getPropertyPath",47],"(",")",",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'name.0.value'",47],")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$field_label",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$term",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","get",48],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",48],")",["T_OBJECT_OPERATOR","->",48],["T_STRING","getFieldDefinition",48],"(",")",["T_OBJECT_OPERATOR","->",48],["T_STRING","getLabel",48],"(",")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertEqual",49],"(",["T_VARIABLE","$violations",49],"[",["T_LNUMBER","0",49],"]",["T_OBJECT_OPERATOR","->",49],["T_STRING","getMessage",49],"(",")",",",["T_WHITESPACE"," ",49],["T_STRING","t",49],"(",["T_CONSTANT_ENCAPSED_STRING","'%name: may not be longer than @max characters.'",49],",",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",["T_CONSTANT_ENCAPSED_STRING","'%name'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$field_label",49],",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'@max'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_LNUMBER","255",49],")",")",")",";",["T_WHITESPACE","\n\n    ",49],["T_VARIABLE","$term",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","set",51],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",51],",",["T_WHITESPACE"," ",51],["T_STRING","NULL",51],")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$violations",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$term",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","validate",52],"(",")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","assertEqual",53],"(",["T_STRING","count",53],"(",["T_VARIABLE","$violations",53],")",",",["T_WHITESPACE"," ",53],["T_LNUMBER","1",53],",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'Violation found when name is NULL.'",53],")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertEqual",54],"(",["T_VARIABLE","$violations",54],"[",["T_LNUMBER","0",54],"]",["T_OBJECT_OPERATOR","->",54],["T_STRING","getPropertyPath",54],"(",")",",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'name'",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertEqual",55],"(",["T_VARIABLE","$violations",55],"[",["T_LNUMBER","0",55],"]",["T_OBJECT_OPERATOR","->",55],["T_STRING","getMessage",55],"(",")",",",["T_WHITESPACE"," ",55],["T_STRING","t",55],"(",["T_CONSTANT_ENCAPSED_STRING","'This value should not be null.'",55],")",")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$term",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","set",56],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'test'",56],")",";",["T_WHITESPACE","\n\n    ",56],["T_VARIABLE","$term",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","set",58],"(",["T_CONSTANT_ENCAPSED_STRING","'parent'",58],",",["T_WHITESPACE"," ",58],["T_LNUMBER","9999",58],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$violations",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$term",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","validate",59],"(",")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertEqual",60],"(",["T_STRING","count",60],"(",["T_VARIABLE","$violations",60],")",",",["T_WHITESPACE"," ",60],["T_LNUMBER","1",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'Violation found when term parent is invalid.'",60],")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","assertEqual",61],"(",["T_VARIABLE","$violations",61],"[",["T_LNUMBER","0",61],"]",["T_OBJECT_OPERATOR","->",61],["T_STRING","getMessage",61],"(",")",",",["T_WHITESPACE"," ",61],["T_STRING","format_string",61],"(",["T_CONSTANT_ENCAPSED_STRING","'The referenced entity (%type: %id) does not exist.'",61],",",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",["T_CONSTANT_ENCAPSED_STRING","'%type'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term'",61],",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'%id'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_LNUMBER","9999",61],")",")",")",";",["T_WHITESPACE","\n\n    ",61],["T_VARIABLE","$term",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","set",63],"(",["T_CONSTANT_ENCAPSED_STRING","'parent'",63],",",["T_WHITESPACE"," ",63],["T_LNUMBER","0",63],")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$violations",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$term",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","validate",64],"(",")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","assertEqual",65],"(",["T_STRING","count",65],"(",["T_VARIABLE","$violations",65],")",",",["T_WHITESPACE"," ",65],["T_LNUMBER","0",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'No violations for parent id 0.'",65],")",";",["T_WHITESPACE","\n  ",65],"}",["T_WHITESPACE","\n\n",66],"}",["T_WHITESPACE","\n",68]]