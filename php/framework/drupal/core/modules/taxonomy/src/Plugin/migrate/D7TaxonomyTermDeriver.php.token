[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","taxonomy",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","migrate",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Plugin",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Derivative",5],["T_NS_SEPARATOR","\\",5],["T_STRING","DeriverBase",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Plugin",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Exception",6],["T_NS_SEPARATOR","\\",6],["T_STRING","PluginNotFoundException",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Database",7],["T_NS_SEPARATOR","\\",7],["T_STRING","DatabaseExceptionWrapper",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Plugin",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Discovery",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ContainerDeriverInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","migrate",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Exception",9],["T_NS_SEPARATOR","\\",9],["T_STRING","RequirementsException",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","migrate",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Plugin",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Migration",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","migrate",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Plugin",11],["T_NS_SEPARATOR","\\",11],["T_STRING","MigrationDeriverTrait",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","migrate_drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Plugin",12],["T_NS_SEPARATOR","\\",12],["T_STRING","MigrateCckFieldPluginManagerInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Symfony",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Component",13],["T_NS_SEPARATOR","\\",13],["T_STRING","DependencyInjection",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ContainerInterface",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * Deriver for Drupal 7 taxonomy term migrations based on vocabularies.\n *\/",15],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","D7TaxonomyTermDeriver",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_STRING","DeriverBase",18],["T_WHITESPACE"," ",18],["T_IMPLEMENTS","implements",18],["T_WHITESPACE"," ",18],["T_STRING","ContainerDeriverInterface",18],["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n  ",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","MigrationDeriverTrait",19],";",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * The base plugin ID this derivative is for.\n   *\n   * @var string\n   *\/",21],["T_WHITESPACE","\n  ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$basePluginId",26],";",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * Already-instantiated cckfield plugins, keyed by ID.\n   *\n   * @var \\Drupal\\migrate_drupal\\Plugin\\MigrateCckFieldInterface[]\n   *\/",28],["T_WHITESPACE","\n  ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$cckPluginCache",33],";",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * The CCK plugin manager.\n   *\n   * @var \\Drupal\\migrate_drupal\\Plugin\\MigrateCckFieldPluginManagerInterface\n   *\/",35],["T_WHITESPACE","\n  ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$cckPluginManager",40],";",["T_WHITESPACE","\n\n  ",40],["T_DOC_COMMENT","\/**\n   * D7TaxonomyTermDeriver constructor.\n   *\n   * @param string $base_plugin_id\n   *   The base plugin ID for the plugin ID.\n   * @param \\Drupal\\migrate_drupal\\Plugin\\MigrateCckFieldPluginManagerInterface $cck_manager\n   *   The CCK plugin manager.\n   *\/",42],["T_WHITESPACE","\n  ",49],["T_PUBLIC","public",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","__construct",50],"(",["T_VARIABLE","$base_plugin_id",50],",",["T_WHITESPACE"," ",50],["T_STRING","MigrateCckFieldPluginManagerInterface",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$cck_manager",50],")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","basePluginId",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$base_plugin_id",51],";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","cckPluginManager",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$cck_manager",52],";",["T_WHITESPACE","\n  ",52],"}",["T_WHITESPACE","\n\n  ",53],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",55],["T_WHITESPACE","\n  ",57],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_STATIC","static",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","create",58],"(",["T_STRING","ContainerInterface",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$container",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$base_plugin_id",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n    ",58],["T_RETURN","return",59],["T_WHITESPACE"," ",59],["T_NEW","new",59],["T_WHITESPACE"," ",59],["T_STATIC","static",59],"(",["T_WHITESPACE","\n      ",59],["T_VARIABLE","$base_plugin_id",60],",",["T_WHITESPACE","\n      ",60],["T_VARIABLE","$container",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","get",61],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.migrate.cckfield'",61],")",["T_WHITESPACE","\n    ",61],")",";",["T_WHITESPACE","\n  ",62],"}",["T_WHITESPACE","\n\n  ",63],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",65],["T_WHITESPACE","\n  ",67],["T_PUBLIC","public",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","getDerivativeDefinitions",68],"(",["T_VARIABLE","$base_plugin_definition",68],")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$fields",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],"[","]",";",["T_WHITESPACE","\n    ",69],["T_TRY","try",70],["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n      ",70],["T_VARIABLE","$source_plugin",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STATIC","static",71],["T_DOUBLE_COLON","::",71],["T_STRING","getSourcePlugin",71],"(",["T_CONSTANT_ENCAPSED_STRING","'d7_field_instance'",71],")",";",["T_WHITESPACE","\n      ",71],["T_VARIABLE","$source_plugin",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","checkRequirements",72],"(",")",";",["T_WHITESPACE","\n\n      ",72],["T_COMMENT","\/\/ Read all field instance definitions in the source database.\n",74],["T_WHITESPACE","      ",75],["T_FOREACH","foreach",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$source_plugin",75],["T_WHITESPACE"," ",75],["T_AS","as",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$row",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n        ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$row",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getSourceProperty",76],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type'",76],")",["T_WHITESPACE"," ",76],["T_IS_EQUAL","==",76],["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term'",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n          ",76],["T_VARIABLE","$fields",77],"[",["T_VARIABLE","$row",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getSourceProperty",77],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle'",77],")","]","[",["T_VARIABLE","$row",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getSourceProperty",77],"(",["T_CONSTANT_ENCAPSED_STRING","'field_name'",77],")","]",["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$row",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getSource",77],"(",")",";",["T_WHITESPACE","\n        ",77],"}",["T_WHITESPACE","\n      ",78],"}",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n    ",80],["T_CATCH","catch",81],["T_WHITESPACE"," ",81],"(",["T_STRING","RequirementsException",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$e",81],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n      ",81],["T_COMMENT","\/\/ If checkRequirements() failed then the field module did not exist and\n",82],["T_WHITESPACE","      ",83],["T_COMMENT","\/\/ we do not have any fields. Therefore, $fields will be empty and below\n",83],["T_WHITESPACE","      ",84],["T_COMMENT","\/\/ we'll create a migration just for the node properties.\n",84],["T_WHITESPACE","    ",85],"}",["T_WHITESPACE","\n\n    ",85],["T_TRY","try",87],["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n      ",87],["T_FOREACH","foreach",88],["T_WHITESPACE"," ",88],"(",["T_STATIC","static",88],["T_DOUBLE_COLON","::",88],["T_STRING","getSourcePlugin",88],"(",["T_CONSTANT_ENCAPSED_STRING","'d7_taxonomy_vocabulary'",88],")",["T_WHITESPACE"," ",88],["T_AS","as",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$row",88],")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$bundle",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$row",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getSourceProperty",89],"(",["T_CONSTANT_ENCAPSED_STRING","'machine_name'",89],")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$values",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$base_plugin_definition",90],";",["T_WHITESPACE","\n\n        ",90],["T_VARIABLE","$values",92],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",92],"]",["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_STRING","t",92],"(",["T_CONSTANT_ENCAPSED_STRING","'@label (@type)'",92],",",["T_WHITESPACE"," ",92],"[",["T_WHITESPACE","\n          ",92],["T_CONSTANT_ENCAPSED_STRING","'@label'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$values",93],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",93],"]",",",["T_WHITESPACE","\n          ",93],["T_CONSTANT_ENCAPSED_STRING","'@type'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$row",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getSourceProperty",94],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",94],")",",",["T_WHITESPACE","\n        ",94],"]",")",";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$values",96],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",96],"]","[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",96],"]",["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$bundle",96],";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$values",97],"[",["T_CONSTANT_ENCAPSED_STRING","'destination'",97],"]","[",["T_CONSTANT_ENCAPSED_STRING","'default_bundle'",97],"]",["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$bundle",97],";",["T_WHITESPACE","\n\n        ",97],["T_DOC_COMMENT","\/** @var Migration $migration *\/",99],["T_WHITESPACE","\n        ",99],["T_VARIABLE","$migration",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_NS_SEPARATOR","\\",100],["T_STRING","Drupal",100],["T_DOUBLE_COLON","::",100],["T_STRING","service",100],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.migration'",100],")",["T_OBJECT_OPERATOR","->",100],["T_STRING","createStubMigration",100],"(",["T_VARIABLE","$values",100],")",";",["T_WHITESPACE","\n        ",100],["T_IF","if",101],["T_WHITESPACE"," ",101],"(",["T_ISSET","isset",101],"(",["T_VARIABLE","$fields",101],"[",["T_VARIABLE","$bundle",101],"]",")",")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n          ",101],["T_FOREACH","foreach",102],["T_WHITESPACE"," ",102],"(",["T_VARIABLE","$fields",102],"[",["T_VARIABLE","$bundle",102],"]",["T_WHITESPACE"," ",102],["T_AS","as",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$field_name",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$info",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$field_type",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$info",103],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",103],"]",";",["T_WHITESPACE","\n            ",103],["T_TRY","try",104],["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n              ",104],["T_VARIABLE","$plugin_id",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","cckPluginManager",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getPluginIdFromFieldType",105],"(",["T_VARIABLE","$field_type",105],",",["T_WHITESPACE"," ",105],"[",["T_CONSTANT_ENCAPSED_STRING","'core'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_LNUMBER","7",105],"]",",",["T_WHITESPACE"," ",105],["T_VARIABLE","$migration",105],")",";",["T_WHITESPACE","\n              ",105],["T_IF","if",106],["T_WHITESPACE"," ",106],"(","!",["T_ISSET","isset",106],"(",["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","cckPluginCache",106],"[",["T_VARIABLE","$field_type",106],"]",")",")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n                ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","cckPluginCache",107],"[",["T_VARIABLE","$field_type",107],"]",["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","cckPluginManager",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","createInstance",107],"(",["T_VARIABLE","$plugin_id",107],",",["T_WHITESPACE"," ",107],"[",["T_CONSTANT_ENCAPSED_STRING","'core'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_LNUMBER","7",107],"]",",",["T_WHITESPACE"," ",107],["T_VARIABLE","$migration",107],")",";",["T_WHITESPACE","\n              ",107],"}",["T_WHITESPACE","\n              ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","cckPluginCache",109],"[",["T_VARIABLE","$field_type",109],"]",["T_WHITESPACE","\n                ",109],["T_OBJECT_OPERATOR","->",110],["T_STRING","processCckFieldValues",110],"(",["T_VARIABLE","$migration",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$field_name",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$info",110],")",";",["T_WHITESPACE","\n            ",110],"}",["T_WHITESPACE","\n            ",111],["T_CATCH","catch",112],["T_WHITESPACE"," ",112],"(",["T_STRING","PluginNotFoundException",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$ex",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n              ",112],["T_VARIABLE","$migration",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","setProcessOfProperty",113],"(",["T_VARIABLE","$field_name",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$field_name",113],")",";",["T_WHITESPACE","\n            ",113],"}",["T_WHITESPACE","\n          ",114],"}",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","derivatives",117],"[",["T_VARIABLE","$bundle",117],"]",["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$migration",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getPluginDefinition",117],"(",")",";",["T_WHITESPACE","\n      ",117],"}",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n    ",119],["T_CATCH","catch",120],["T_WHITESPACE"," ",120],"(",["T_STRING","DatabaseExceptionWrapper",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$e",120],")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n      ",120],["T_COMMENT","\/\/ Once we begin iterating the source plugin it is possible that the\n",121],["T_WHITESPACE","      ",122],["T_COMMENT","\/\/ source tables will not exist. This can happen when the\n",122],["T_WHITESPACE","      ",123],["T_COMMENT","\/\/ MigrationPluginManager gathers up the migration definitions but we do\n",123],["T_WHITESPACE","      ",124],["T_COMMENT","\/\/ not actually have a Drupal 7 source database.\n",124],["T_WHITESPACE","    ",125],"}",["T_WHITESPACE","\n\n    ",125],["T_RETURN","return",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","derivatives",127],";",["T_WHITESPACE","\n  ",127],"}",["T_WHITESPACE","\n\n",128],"}",["T_WHITESPACE","\n",130]]