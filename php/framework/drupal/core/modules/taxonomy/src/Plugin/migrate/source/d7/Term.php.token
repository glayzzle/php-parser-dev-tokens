[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","taxonomy",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","migrate",3],["T_NS_SEPARATOR","\\",3],["T_STRING","source",3],["T_NS_SEPARATOR","\\",3],["T_STRING","d7",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","migrate",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Row",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","migrate_drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Plugin",6],["T_NS_SEPARATOR","\\",6],["T_STRING","migrate",6],["T_NS_SEPARATOR","\\",6],["T_STRING","source",6],["T_NS_SEPARATOR","\\",6],["T_STRING","d7",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FieldableEntity",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Taxonomy term source from database.\n *\n * @todo Support term_relation, term_synonym table if possible.\n *\n * @MigrateSource(\n *   id = \"d7_taxonomy_term\",\n *   source_provider = \"taxonomy\"\n * )\n *\/",8],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","Term",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_STRING","FieldableEntity",18],["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n\n  ",18],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",20],["T_WHITESPACE","\n  ",22],["T_PUBLIC","public",23],["T_WHITESPACE"," ",23],["T_FUNCTION","function",23],["T_WHITESPACE"," ",23],["T_STRING","query",23],"(",")",["T_WHITESPACE"," ",23],"{",["T_WHITESPACE","\n    ",23],["T_VARIABLE","$query",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","select",24],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term_data'",24],",",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'td'",24],")",["T_WHITESPACE","\n      ",24],["T_OBJECT_OPERATOR","->",25],["T_STRING","fields",25],"(",["T_CONSTANT_ENCAPSED_STRING","'td'",25],")",["T_WHITESPACE","\n      ",25],["T_OBJECT_OPERATOR","->",26],["T_STRING","distinct",26],"(",")",["T_WHITESPACE","\n      ",26],["T_OBJECT_OPERATOR","->",27],["T_STRING","orderBy",27],"(",["T_CONSTANT_ENCAPSED_STRING","'tid'",27],")",";",["T_WHITESPACE","\n    ",27],["T_VARIABLE","$query",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","leftJoin",28],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_vocabulary'",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'tv'",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'td.vid = tv.vid'",28],")",";",["T_WHITESPACE","\n    ",28],["T_VARIABLE","$query",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","addField",29],"(",["T_CONSTANT_ENCAPSED_STRING","'tv'",29],",",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'machine_name'",29],")",";",["T_WHITESPACE","\n\n    ",29],["T_IF","if",31],["T_WHITESPACE"," ",31],"(",["T_ISSET","isset",31],"(",["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","configuration",31],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",31],"]",")",")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n      ",31],["T_VARIABLE","$query",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","condition",32],"(",["T_CONSTANT_ENCAPSED_STRING","'tv.machine_name'",32],",",["T_WHITESPACE"," ",32],["T_ARRAY_CAST","(array)",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","configuration",32],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",32],"]",",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'IN'",32],")",";",["T_WHITESPACE","\n    ",32],"}",["T_WHITESPACE","\n\n    ",33],["T_RETURN","return",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$query",35],";",["T_WHITESPACE","\n  ",35],"}",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",38],["T_WHITESPACE","\n  ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","fields",41],"(",")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$fields",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],"[",["T_WHITESPACE","\n      ",42],["T_CONSTANT_ENCAPSED_STRING","'tid'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","t",43],"(",["T_CONSTANT_ENCAPSED_STRING","'The term ID.'",43],")",",",["T_WHITESPACE","\n      ",43],["T_CONSTANT_ENCAPSED_STRING","'vid'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","t",44],"(",["T_CONSTANT_ENCAPSED_STRING","'Existing term VID'",44],")",",",["T_WHITESPACE","\n      ",44],["T_CONSTANT_ENCAPSED_STRING","'machine_name'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","t",45],"(",["T_CONSTANT_ENCAPSED_STRING","'Vocabulary machine name'",45],")",",",["T_WHITESPACE","\n      ",45],["T_CONSTANT_ENCAPSED_STRING","'name'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","t",46],"(",["T_CONSTANT_ENCAPSED_STRING","'The name of the term.'",46],")",",",["T_WHITESPACE","\n      ",46],["T_CONSTANT_ENCAPSED_STRING","'description'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","t",47],"(",["T_CONSTANT_ENCAPSED_STRING","'The term description.'",47],")",",",["T_WHITESPACE","\n      ",47],["T_CONSTANT_ENCAPSED_STRING","'weight'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","t",48],"(",["T_CONSTANT_ENCAPSED_STRING","'Weight'",48],")",",",["T_WHITESPACE","\n      ",48],["T_CONSTANT_ENCAPSED_STRING","'parent'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","t",49],"(",["T_CONSTANT_ENCAPSED_STRING","\"The Drupal term IDs of the term's parents.\"",49],")",",",["T_WHITESPACE","\n      ",49],["T_CONSTANT_ENCAPSED_STRING","'format'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","t",50],"(",["T_CONSTANT_ENCAPSED_STRING","\"Format of the term description.\"",50],")",",",["T_WHITESPACE","\n    ",50],"]",";",["T_WHITESPACE","\n    ",51],["T_RETURN","return",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$fields",52],";",["T_WHITESPACE","\n  ",52],"}",["T_WHITESPACE","\n\n  ",53],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",55],["T_WHITESPACE","\n  ",57],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","prepareRow",58],"(",["T_STRING","Row",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$row",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n    ",58],["T_COMMENT","\/\/ Get Field API field values.\n",59],["T_WHITESPACE","    ",60],["T_FOREACH","foreach",60],["T_WHITESPACE"," ",60],"(",["T_STRING","array_keys",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getFields",60],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term'",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$row",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getSourceProperty",60],"(",["T_CONSTANT_ENCAPSED_STRING","'machine_name'",60],")",")",")",["T_WHITESPACE"," ",60],["T_AS","as",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$field",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n      ",60],["T_VARIABLE","$tid",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$row",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getSourceProperty",61],"(",["T_CONSTANT_ENCAPSED_STRING","'tid'",61],")",";",["T_WHITESPACE","\n      ",61],["T_VARIABLE","$row",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","setSourceProperty",62],"(",["T_VARIABLE","$field",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getFieldValues",62],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term'",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$field",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$tid",62],")",")",";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n\n    ",63],["T_COMMENT","\/\/ Find parents for this row.\n",65],["T_WHITESPACE","    ",66],["T_VARIABLE","$parents",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","select",66],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term_hierarchy'",66],",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'th'",66],")",["T_WHITESPACE","\n      ",66],["T_OBJECT_OPERATOR","->",67],["T_STRING","fields",67],"(",["T_CONSTANT_ENCAPSED_STRING","'th'",67],",",["T_WHITESPACE"," ",67],"[",["T_CONSTANT_ENCAPSED_STRING","'parent'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'tid'",67],"]",")",["T_WHITESPACE","\n      ",67],["T_OBJECT_OPERATOR","->",68],["T_STRING","condition",68],"(",["T_CONSTANT_ENCAPSED_STRING","'tid'",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$row",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getSourceProperty",68],"(",["T_CONSTANT_ENCAPSED_STRING","'tid'",68],")",")",["T_WHITESPACE","\n      ",68],["T_OBJECT_OPERATOR","->",69],["T_STRING","execute",69],"(",")",["T_WHITESPACE","\n      ",69],["T_OBJECT_OPERATOR","->",70],["T_STRING","fetchCol",70],"(",")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$row",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","setSourceProperty",71],"(",["T_CONSTANT_ENCAPSED_STRING","'parent'",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$parents",71],")",";",["T_WHITESPACE","\n\n    ",71],["T_RETURN","return",73],["T_WHITESPACE"," ",73],["T_STRING","parent",73],["T_DOUBLE_COLON","::",73],["T_STRING","prepareRow",73],"(",["T_VARIABLE","$row",73],")",";",["T_WHITESPACE","\n  ",73],"}",["T_WHITESPACE","\n\n  ",74],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",76],["T_WHITESPACE","\n  ",78],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","getIds",79],"(",")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$ids",80],"[",["T_CONSTANT_ENCAPSED_STRING","'tid'",80],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",80],"]",["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'integer'",80],";",["T_WHITESPACE","\n    ",80],["T_RETURN","return",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$ids",81],";",["T_WHITESPACE","\n  ",81],"}",["T_WHITESPACE","\n\n",82],"}",["T_WHITESPACE","\n",84]]