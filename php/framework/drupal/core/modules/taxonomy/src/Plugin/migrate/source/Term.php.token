[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","taxonomy",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","migrate",3],["T_NS_SEPARATOR","\\",3],["T_STRING","source",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","migrate",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Row",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","migrate_drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Plugin",6],["T_NS_SEPARATOR","\\",6],["T_STRING","migrate",6],["T_NS_SEPARATOR","\\",6],["T_STRING","source",6],["T_NS_SEPARATOR","\\",6],["T_STRING","DrupalSqlBase",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Taxonomy term source from database.\n *\n * @todo Support term_relation, term_synonym table if possible.\n *\n * @MigrateSource(\n *   id = \"taxonomy_term\",\n *   source_provider = \"taxonomy\"\n * )\n *\n * @deprecated in Drupal 8.3.0, intended to be removed in Drupal 9.0.0.\n *   Use \\Drupal\\taxonomy\\Plugin\\migrate\\source\\d6\\Term or\n *   \\Drupal\\taxonomy\\Plugin\\migrate\\source\\d7\\Term.\n *\/",8],["T_WHITESPACE","\n",21],["T_CLASS","class",22],["T_WHITESPACE"," ",22],["T_STRING","Term",22],["T_WHITESPACE"," ",22],["T_EXTENDS","extends",22],["T_WHITESPACE"," ",22],["T_STRING","DrupalSqlBase",22],["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * Name of the term data table.\n   *\n   * @var string\n   *\/",24],["T_WHITESPACE","\n  ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$termDataTable",29],";",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * Name of the term hierarchy table.\n   *\n   * @var string\n   *\/",31],["T_WHITESPACE","\n  ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$termHierarchyTable",36],";",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",38],["T_WHITESPACE","\n  ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","query",41],"(",")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n    ",41],["T_IF","if",42],["T_WHITESPACE"," ",42],"(",["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","getModuleSchemaVersion",42],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy'",42],")",["T_WHITESPACE"," ",42],["T_IS_GREATER_OR_EQUAL",">=",42],["T_WHITESPACE"," ",42],["T_LNUMBER","7000",42],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n      ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","termDataTable",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term_data'",43],";",["T_WHITESPACE","\n      ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","termHierarchyTable",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term_hierarchy'",44],";",["T_WHITESPACE","\n    ",44],"}",["T_WHITESPACE","\n    ",45],["T_ELSE","else",46],["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n      ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","termDataTable",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'term_data'",47],";",["T_WHITESPACE","\n      ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","termHierarchyTable",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'term_hierarchy'",48],";",["T_WHITESPACE","\n    ",48],"}",["T_WHITESPACE","\n\n    ",49],["T_VARIABLE","$query",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","select",51],"(",["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","termDataTable",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'td'",51],")",["T_WHITESPACE","\n      ",51],["T_OBJECT_OPERATOR","->",52],["T_STRING","fields",52],"(",["T_CONSTANT_ENCAPSED_STRING","'td'",52],")",["T_WHITESPACE","\n      ",52],["T_OBJECT_OPERATOR","->",53],["T_STRING","distinct",53],"(",")",["T_WHITESPACE","\n      ",53],["T_OBJECT_OPERATOR","->",54],["T_STRING","orderBy",54],"(",["T_CONSTANT_ENCAPSED_STRING","'td.tid'",54],")",";",["T_WHITESPACE","\n\n    ",54],["T_IF","if",56],["T_WHITESPACE"," ",56],"(",["T_ISSET","isset",56],"(",["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","configuration",56],"[",["T_CONSTANT_ENCAPSED_STRING","'vocabulary'",56],"]",")",")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n      ",56],["T_VARIABLE","$query",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","condition",57],"(",["T_CONSTANT_ENCAPSED_STRING","'td.vid'",57],",",["T_WHITESPACE"," ",57],["T_ARRAY_CAST","(array)",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","configuration",57],"[",["T_CONSTANT_ENCAPSED_STRING","'vocabulary'",57],"]",",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'IN'",57],")",";",["T_WHITESPACE","\n    ",57],"}",["T_WHITESPACE","\n\n    ",58],["T_RETURN","return",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$query",60],";",["T_WHITESPACE","\n  ",60],"}",["T_WHITESPACE","\n\n  ",61],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",63],["T_WHITESPACE","\n  ",65],["T_PUBLIC","public",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","fields",66],"(",")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$fields",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_ARRAY","array",67],"(",["T_WHITESPACE","\n      ",67],["T_CONSTANT_ENCAPSED_STRING","'tid'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","t",68],"(",["T_CONSTANT_ENCAPSED_STRING","'The term ID.'",68],")",",",["T_WHITESPACE","\n      ",68],["T_CONSTANT_ENCAPSED_STRING","'vid'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","t",69],"(",["T_CONSTANT_ENCAPSED_STRING","'Existing term VID'",69],")",",",["T_WHITESPACE","\n      ",69],["T_CONSTANT_ENCAPSED_STRING","'name'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","t",70],"(",["T_CONSTANT_ENCAPSED_STRING","'The name of the term.'",70],")",",",["T_WHITESPACE","\n      ",70],["T_CONSTANT_ENCAPSED_STRING","'description'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","t",71],"(",["T_CONSTANT_ENCAPSED_STRING","'The term description.'",71],")",",",["T_WHITESPACE","\n      ",71],["T_CONSTANT_ENCAPSED_STRING","'weight'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","t",72],"(",["T_CONSTANT_ENCAPSED_STRING","'Weight'",72],")",",",["T_WHITESPACE","\n      ",72],["T_CONSTANT_ENCAPSED_STRING","'parent'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","t",73],"(",["T_CONSTANT_ENCAPSED_STRING","\"The Drupal term IDs of the term's parents.\"",73],")",",",["T_WHITESPACE","\n    ",73],")",";",["T_WHITESPACE","\n    ",74],["T_IF","if",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getModuleSchemaVersion",75],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy'",75],")",["T_WHITESPACE"," ",75],["T_IS_GREATER_OR_EQUAL",">=",75],["T_WHITESPACE"," ",75],["T_LNUMBER","7000",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n      ",75],["T_VARIABLE","$fields",76],"[",["T_CONSTANT_ENCAPSED_STRING","'format'",76],"]",["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","t",76],"(",["T_CONSTANT_ENCAPSED_STRING","'Format of the term description.'",76],")",";",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n    ",77],["T_RETURN","return",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$fields",78],";",["T_WHITESPACE","\n  ",78],"}",["T_WHITESPACE","\n\n  ",79],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",81],["T_WHITESPACE","\n  ",83],["T_PUBLIC","public",84],["T_WHITESPACE"," ",84],["T_FUNCTION","function",84],["T_WHITESPACE"," ",84],["T_STRING","prepareRow",84],"(",["T_STRING","Row",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$row",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n    ",84],["T_COMMENT","\/\/ Find parents for this row.\n",85],["T_WHITESPACE","    ",86],["T_VARIABLE","$parents",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","select",86],"(",["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","termHierarchyTable",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'th'",86],")",["T_WHITESPACE","\n      ",86],["T_OBJECT_OPERATOR","->",87],["T_STRING","fields",87],"(",["T_CONSTANT_ENCAPSED_STRING","'th'",87],",",["T_WHITESPACE"," ",87],["T_ARRAY","array",87],"(",["T_CONSTANT_ENCAPSED_STRING","'parent'",87],",",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'tid'",87],")",")",["T_WHITESPACE","\n      ",87],["T_OBJECT_OPERATOR","->",88],["T_STRING","condition",88],"(",["T_CONSTANT_ENCAPSED_STRING","'tid'",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$row",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getSourceProperty",88],"(",["T_CONSTANT_ENCAPSED_STRING","'tid'",88],")",")",["T_WHITESPACE","\n      ",88],["T_OBJECT_OPERATOR","->",89],["T_STRING","execute",89],"(",")",["T_WHITESPACE","\n      ",89],["T_OBJECT_OPERATOR","->",90],["T_STRING","fetchCol",90],"(",")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$row",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","setSourceProperty",91],"(",["T_CONSTANT_ENCAPSED_STRING","'parent'",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$parents",91],")",";",["T_WHITESPACE","\n\n    ",91],["T_RETURN","return",93],["T_WHITESPACE"," ",93],["T_STRING","parent",93],["T_DOUBLE_COLON","::",93],["T_STRING","prepareRow",93],"(",["T_VARIABLE","$row",93],")",";",["T_WHITESPACE","\n  ",93],"}",["T_WHITESPACE","\n\n  ",94],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",96],["T_WHITESPACE","\n  ",98],["T_PUBLIC","public",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","getIds",99],"(",")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$ids",100],"[",["T_CONSTANT_ENCAPSED_STRING","'tid'",100],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",100],"]",["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'integer'",100],";",["T_WHITESPACE","\n    ",100],["T_RETURN","return",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$ids",101],";",["T_WHITESPACE","\n  ",101],"}",["T_WHITESPACE","\n\n",102],"}",["T_WHITESPACE","\n",104]]