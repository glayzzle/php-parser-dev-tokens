[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","taxonomy",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Views",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","views",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Views",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests the taxonomy term on node relationship handler.\n *\n * @group taxonomy\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","RelationshipNodeTermDataTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","TaxonomyTestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * Views used by this test.\n   *\n   * @var array\n   *\/",14],["T_WHITESPACE","\n  ",18],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_STATIC","static",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$testViews",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_ARRAY","array",19],"(",["T_CONSTANT_ENCAPSED_STRING","'test_taxonomy_node_term_data'",19],")",";",["T_WHITESPACE","\n\n  ",19],["T_FUNCTION","function",21],["T_WHITESPACE"," ",21],["T_STRING","testViewsHandlerRelationshipNodeTermData",21],"(",")",["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n    ",21],["T_VARIABLE","$view",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_STRING","Views",22],["T_DOUBLE_COLON","::",22],["T_STRING","getView",22],"(",["T_CONSTANT_ENCAPSED_STRING","'test_taxonomy_node_term_data'",22],")",";",["T_WHITESPACE","\n    ",22],["T_COMMENT","\/\/ Tests \\Drupal\\taxonomy\\Plugin\\views\\relationship\\NodeTermData::calculateDependencies().\n",23],["T_WHITESPACE","    ",24],["T_VARIABLE","$expected",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],"[",["T_WHITESPACE","\n      ",24],["T_CONSTANT_ENCAPSED_STRING","'config'",25],["T_WHITESPACE"," ",25],["T_DOUBLE_ARROW","=>",25],["T_WHITESPACE"," ",25],"[",["T_CONSTANT_ENCAPSED_STRING","'core.entity_view_mode.node.teaser'",25],"]",",",["T_WHITESPACE","\n      ",25],["T_CONSTANT_ENCAPSED_STRING","'module'",26],["T_WHITESPACE"," ",26],["T_DOUBLE_ARROW","=>",26],["T_WHITESPACE"," ",26],"[",["T_WHITESPACE","\n        ",26],["T_CONSTANT_ENCAPSED_STRING","'node'",27],",",["T_WHITESPACE","\n        ",27],["T_CONSTANT_ENCAPSED_STRING","'taxonomy'",28],",",["T_WHITESPACE","\n        ",28],["T_CONSTANT_ENCAPSED_STRING","'user'",29],",",["T_WHITESPACE","\n      ",29],"]",",",["T_WHITESPACE","\n    ",30],"]",";",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","assertIdentical",32],"(",["T_VARIABLE","$expected",32],",",["T_WHITESPACE"," ",32],["T_VARIABLE","$view",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","getDependencies",32],"(",")",")",";",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","executeView",33],"(",["T_VARIABLE","$view",33],",",["T_WHITESPACE"," ",33],["T_ARRAY","array",33],"(",["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","term1",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","id",33],"(",")",",",["T_WHITESPACE"," ",33],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","term2",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","id",33],"(",")",")",")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$expected_result",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",["T_WHITESPACE","\n      ",34],["T_ARRAY","array",35],"(",["T_WHITESPACE","\n        ",35],["T_CONSTANT_ENCAPSED_STRING","'nid'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","nodes",36],"[",["T_LNUMBER","1",36],"]",["T_OBJECT_OPERATOR","->",36],["T_STRING","id",36],"(",")",",",["T_WHITESPACE","\n      ",36],")",",",["T_WHITESPACE","\n      ",37],["T_ARRAY","array",38],"(",["T_WHITESPACE","\n        ",38],["T_CONSTANT_ENCAPSED_STRING","'nid'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","nodes",39],"[",["T_LNUMBER","0",39],"]",["T_OBJECT_OPERATOR","->",39],["T_STRING","id",39],"(",")",",",["T_WHITESPACE","\n      ",39],")",",",["T_WHITESPACE","\n    ",40],")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$column_map",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_ARRAY","array",42],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'nid'",42],")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","assertIdenticalResultset",43],"(",["T_VARIABLE","$view",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$expected_result",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$column_map",43],")",";",["T_WHITESPACE","\n\n    ",43],["T_COMMENT","\/\/ Change the view to test relation limited by vocabulary.\n",45],["T_WHITESPACE","    ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","config",46],"(",["T_CONSTANT_ENCAPSED_STRING","'views.view.test_taxonomy_node_term_data'",46],")",["T_WHITESPACE","\n      ",46],["T_OBJECT_OPERATOR","->",47],["T_STRING","set",47],"(",["T_CONSTANT_ENCAPSED_STRING","'display.default.display_options.relationships.term_node_tid.vids'",47],",",["T_WHITESPACE"," ",47],"[",["T_CONSTANT_ENCAPSED_STRING","'views_testing_tags'",47],"]",")",["T_WHITESPACE","\n      ",47],["T_OBJECT_OPERATOR","->",48],["T_STRING","save",48],"(",")",";",["T_WHITESPACE","\n\n    ",48],["T_VARIABLE","$view",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","Views",50],["T_DOUBLE_COLON","::",50],["T_STRING","getView",50],"(",["T_CONSTANT_ENCAPSED_STRING","'test_taxonomy_node_term_data'",50],")",";",["T_WHITESPACE","\n    ",50],["T_COMMENT","\/\/ Tests \\Drupal\\taxonomy\\Plugin\\views\\relationship\\NodeTermData::calculateDependencies().\n",51],["T_WHITESPACE","    ",52],["T_VARIABLE","$expected",52],"[",["T_CONSTANT_ENCAPSED_STRING","'config'",52],"]","[","]",["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'taxonomy.vocabulary.views_testing_tags'",52],";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","assertIdentical",53],"(",["T_VARIABLE","$expected",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$view",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getDependencies",53],"(",")",")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","executeView",54],"(",["T_VARIABLE","$view",54],",",["T_WHITESPACE"," ",54],["T_ARRAY","array",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","term1",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","id",54],"(",")",",",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","term2",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","id",54],"(",")",")",")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertIdenticalResultset",55],"(",["T_VARIABLE","$view",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$expected_result",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$column_map",55],")",";",["T_WHITESPACE","\n  ",55],"}",["T_WHITESPACE","\n\n",56],"}",["T_WHITESPACE","\n",58]]