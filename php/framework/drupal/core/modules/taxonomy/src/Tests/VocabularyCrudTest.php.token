[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","taxonomy",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Unicode",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","field",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FieldConfig",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","taxonomy",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Vocabulary",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","field",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","FieldStorageConfig",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Tests loading, saving and deleting vocabularies.\n *\n * @group taxonomy\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","VocabularyCrudTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","TaxonomyTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_STATIC","static",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$modules",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_ARRAY","array",22],"(",["T_CONSTANT_ENCAPSED_STRING","'field_test'",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'taxonomy_crud'",22],")",";",["T_WHITESPACE","\n\n  ",22],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_FUNCTION","function",24],["T_WHITESPACE"," ",24],["T_STRING","setUp",24],"(",")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n    ",24],["T_STRING","parent",25],["T_DOUBLE_COLON","::",25],["T_STRING","setUp",25],"(",")",";",["T_WHITESPACE","\n\n    ",25],["T_VARIABLE","$admin_user",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","drupalCreateUser",27],"(",["T_ARRAY","array",27],"(",["T_CONSTANT_ENCAPSED_STRING","'create article content'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'administer taxonomy'",27],")",")",";",["T_WHITESPACE","\n    ",27],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","drupalLogin",28],"(",["T_VARIABLE","$admin_user",28],")",";",["T_WHITESPACE","\n    ",28],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","vocabulary",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","createVocabulary",29],"(",")",";",["T_WHITESPACE","\n  ",29],"}",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * Test deleting a taxonomy that contains terms.\n   *\/",32],["T_WHITESPACE","\n  ",34],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","testTaxonomyVocabularyDeleteWithTerms",35],"(",")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n    ",35],["T_COMMENT","\/\/ Delete any existing vocabularies.\n",36],["T_WHITESPACE","    ",37],["T_FOREACH","foreach",37],["T_WHITESPACE"," ",37],"(",["T_STRING","Vocabulary",37],["T_DOUBLE_COLON","::",37],["T_STRING","loadMultiple",37],"(",")",["T_WHITESPACE"," ",37],["T_AS","as",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$vocabulary",37],")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n      ",37],["T_VARIABLE","$vocabulary",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","delete",38],"(",")",";",["T_WHITESPACE","\n    ",38],"}",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$query",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Drupal",40],["T_DOUBLE_COLON","::",40],["T_STRING","entityQuery",40],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term'",40],")",["T_OBJECT_OPERATOR","->",40],["T_STRING","count",40],"(",")",";",["T_WHITESPACE","\n\n    ",40],["T_COMMENT","\/\/ Assert that there are no terms left.\n",42],["T_WHITESPACE","    ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","assertEqual",43],"(",["T_LNUMBER","0",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$query",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","execute",43],"(",")",",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'There are no terms remaining.'",43],")",";",["T_WHITESPACE","\n\n    ",43],["T_VARIABLE","$terms",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_ARRAY","array",45],"(",")",";",["T_WHITESPACE","\n    ",45],["T_FOR","for",46],["T_WHITESPACE"," ",46],"(",["T_VARIABLE","$i",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_LNUMBER","0",46],";",["T_WHITESPACE"," ",46],["T_VARIABLE","$i",46],["T_WHITESPACE"," ",46],"<",["T_WHITESPACE"," ",46],["T_LNUMBER","5",46],";",["T_WHITESPACE"," ",46],["T_VARIABLE","$i",46],["T_INC","++",46],")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n      ",46],["T_VARIABLE","$terms",47],"[",["T_VARIABLE","$i",47],"]",["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","createTerm",47],"(",["T_VARIABLE","$vocabulary",47],")",";",["T_WHITESPACE","\n    ",47],"}",["T_WHITESPACE","\n\n    ",48],["T_COMMENT","\/\/ Set up hierarchy. term 2 is a child of 1 and 4 a child of 1 and 2.\n",50],["T_WHITESPACE","    ",51],["T_VARIABLE","$terms",51],"[",["T_LNUMBER","2",51],"]",["T_OBJECT_OPERATOR","->",51],["T_STRING","parent",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_ARRAY","array",51],"(",["T_VARIABLE","$terms",51],"[",["T_LNUMBER","1",51],"]",["T_OBJECT_OPERATOR","->",51],["T_STRING","id",51],"(",")",")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$terms",52],"[",["T_LNUMBER","2",52],"]",["T_OBJECT_OPERATOR","->",52],["T_STRING","save",52],"(",")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$terms",53],"[",["T_LNUMBER","4",53],"]",["T_OBJECT_OPERATOR","->",53],["T_STRING","parent",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_ARRAY","array",53],"(",["T_VARIABLE","$terms",53],"[",["T_LNUMBER","1",53],"]",["T_OBJECT_OPERATOR","->",53],["T_STRING","id",53],"(",")",",",["T_WHITESPACE"," ",53],["T_VARIABLE","$terms",53],"[",["T_LNUMBER","2",53],"]",["T_OBJECT_OPERATOR","->",53],["T_STRING","id",53],"(",")",")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$terms",54],"[",["T_LNUMBER","4",54],"]",["T_OBJECT_OPERATOR","->",54],["T_STRING","save",54],"(",")",";",["T_WHITESPACE","\n\n    ",54],["T_COMMENT","\/\/ Assert that there are now 5 terms.\n",56],["T_WHITESPACE","    ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","assertEqual",57],"(",["T_LNUMBER","5",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$query",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","execute",57],"(",")",",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'There are 5 terms found.'",57],")",";",["T_WHITESPACE","\n\n    ",57],["T_VARIABLE","$vocabulary",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","delete",59],"(",")",";",["T_WHITESPACE","\n\n    ",59],["T_COMMENT","\/\/ Assert that there are no terms left.\n",61],["T_WHITESPACE","    ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertEqual",62],"(",["T_LNUMBER","0",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$query",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","execute",62],"(",")",",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'All terms are deleted.'",62],")",";",["T_WHITESPACE","\n  ",62],"}",["T_WHITESPACE","\n\n  ",63],["T_DOC_COMMENT","\/**\n   * Ensure that the vocabulary static reset works correctly.\n   *\/",65],["T_WHITESPACE","\n  ",67],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","testTaxonomyVocabularyLoadStaticReset",68],"(",")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$original_vocabulary",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","Vocabulary",69],["T_DOUBLE_COLON","::",69],["T_STRING","load",69],"(",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","vocabulary",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","id",69],"(",")",")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertTrue",70],"(",["T_STRING","is_object",70],"(",["T_VARIABLE","$original_vocabulary",70],")",",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'Vocabulary loaded successfully.'",70],")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertEqual",71],"(",["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","vocabulary",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","label",71],"(",")",",",["T_WHITESPACE"," ",71],["T_VARIABLE","$original_vocabulary",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","label",71],"(",")",",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'Vocabulary loaded successfully.'",71],")",";",["T_WHITESPACE","\n\n    ",71],["T_COMMENT","\/\/ Change the name and description.\n",73],["T_WHITESPACE","    ",74],["T_VARIABLE","$vocabulary",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$original_vocabulary",74],";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$vocabulary",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","set",75],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","randomMachineName",75],"(",")",")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$vocabulary",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","set",76],"(",["T_CONSTANT_ENCAPSED_STRING","'description'",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","randomMachineName",76],"(",")",")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$vocabulary",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","save",77],"(",")",";",["T_WHITESPACE","\n\n    ",77],["T_COMMENT","\/\/ Load the vocabulary.\n",79],["T_WHITESPACE","    ",80],["T_VARIABLE","$new_vocabulary",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","Vocabulary",80],["T_DOUBLE_COLON","::",80],["T_STRING","load",80],"(",["T_VARIABLE","$original_vocabulary",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","id",80],"(",")",")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertEqual",81],"(",["T_VARIABLE","$new_vocabulary",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","label",81],"(",")",",",["T_WHITESPACE"," ",81],["T_VARIABLE","$vocabulary",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","label",81],"(",")",",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'The vocabulary was loaded.'",81],")",";",["T_WHITESPACE","\n\n    ",81],["T_COMMENT","\/\/ Delete the vocabulary.\n",83],["T_WHITESPACE","    ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","vocabulary",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","delete",84],"(",")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$vocabularies",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","Vocabulary",85],["T_DOUBLE_COLON","::",85],["T_STRING","loadMultiple",85],"(",")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertTrue",86],"(","!",["T_ISSET","isset",86],"(",["T_VARIABLE","$vocabularies",86],"[",["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","vocabulary",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","id",86],"(",")","]",")",",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'The vocabulary was deleted.'",86],")",";",["T_WHITESPACE","\n  ",86],"}",["T_WHITESPACE","\n\n  ",87],["T_DOC_COMMENT","\/**\n   * Tests for loading multiple vocabularies.\n   *\/",89],["T_WHITESPACE","\n  ",91],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","testTaxonomyVocabularyLoadMultiple",92],"(",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n\n    ",92],["T_COMMENT","\/\/ Delete any existing vocabularies.\n",94],["T_WHITESPACE","    ",95],["T_FOREACH","foreach",95],["T_WHITESPACE"," ",95],"(",["T_STRING","Vocabulary",95],["T_DOUBLE_COLON","::",95],["T_STRING","loadMultiple",95],"(",")",["T_WHITESPACE"," ",95],["T_AS","as",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$vocabulary",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n      ",95],["T_VARIABLE","$vocabulary",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","delete",96],"(",")",";",["T_WHITESPACE","\n    ",96],"}",["T_WHITESPACE","\n\n    ",97],["T_COMMENT","\/\/ Create some vocabularies and assign weights.\n",99],["T_WHITESPACE","    ",100],["T_VARIABLE","$vocabulary1",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","createVocabulary",100],"(",")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$vocabulary1",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","set",101],"(",["T_CONSTANT_ENCAPSED_STRING","'weight'",101],",",["T_WHITESPACE"," ",101],["T_LNUMBER","0",101],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$vocabulary1",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","save",102],"(",")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$vocabulary2",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","createVocabulary",103],"(",")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$vocabulary2",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","set",104],"(",["T_CONSTANT_ENCAPSED_STRING","'weight'",104],",",["T_WHITESPACE"," ",104],["T_LNUMBER","1",104],")",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$vocabulary2",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","save",105],"(",")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$vocabulary3",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","createVocabulary",106],"(",")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$vocabulary3",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","set",107],"(",["T_CONSTANT_ENCAPSED_STRING","'weight'",107],",",["T_WHITESPACE"," ",107],["T_LNUMBER","2",107],")",";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$vocabulary3",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","save",108],"(",")",";",["T_WHITESPACE","\n\n    ",108],["T_COMMENT","\/\/ Check if third party settings exist.\n",110],["T_WHITESPACE","    ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertEqual",111],"(",["T_CONSTANT_ENCAPSED_STRING","'bar'",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$vocabulary1",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getThirdPartySetting",111],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_crud'",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'foo'",111],")",",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'Third party settings were added to the vocabulary.'",111],")",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","assertEqual",112],"(",["T_CONSTANT_ENCAPSED_STRING","'bar'",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$vocabulary2",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getThirdPartySetting",112],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_crud'",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'foo'",112],")",",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'Third party settings were added to the vocabulary.'",112],")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","assertEqual",113],"(",["T_CONSTANT_ENCAPSED_STRING","'bar'",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$vocabulary3",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getThirdPartySetting",113],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_crud'",113],",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'foo'",113],")",",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'Third party settings were added to the vocabulary.'",113],")",";",["T_WHITESPACE","\n\n    ",113],["T_COMMENT","\/\/ Fetch the names for all vocabularies, confirm that they are keyed by\n",115],["T_WHITESPACE","    ",116],["T_COMMENT","\/\/ machine name.\n",116],["T_WHITESPACE","    ",117],["T_VARIABLE","$names",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_STRING","taxonomy_vocabulary_get_names",117],"(",")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","assertEqual",118],"(",["T_VARIABLE","$names",118],"[",["T_VARIABLE","$vocabulary1",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","id",118],"(",")","]",",",["T_WHITESPACE"," ",118],["T_VARIABLE","$vocabulary1",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","id",118],"(",")",",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'Vocabulary 1 name found.'",118],")",";",["T_WHITESPACE","\n\n    ",118],["T_COMMENT","\/\/ Fetch the vocabularies with entity_load_multiple(), specifying IDs.\n",120],["T_WHITESPACE","    ",121],["T_COMMENT","\/\/ Ensure they are returned in the same order as the original array.\n",121],["T_WHITESPACE","    ",122],["T_VARIABLE","$vocabularies",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_STRING","Vocabulary",122],["T_DOUBLE_COLON","::",122],["T_STRING","loadMultiple",122],"(",["T_ARRAY","array",122],"(",["T_VARIABLE","$vocabulary3",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","id",122],"(",")",",",["T_WHITESPACE"," ",122],["T_VARIABLE","$vocabulary2",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","id",122],"(",")",",",["T_WHITESPACE"," ",122],["T_VARIABLE","$vocabulary1",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","id",122],"(",")",")",")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$loaded_order",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_STRING","array_keys",123],"(",["T_VARIABLE","$vocabularies",123],")",";",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$expected_order",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_ARRAY","array",124],"(",["T_VARIABLE","$vocabulary3",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","id",124],"(",")",",",["T_WHITESPACE"," ",124],["T_VARIABLE","$vocabulary2",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","id",124],"(",")",",",["T_WHITESPACE"," ",124],["T_VARIABLE","$vocabulary1",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","id",124],"(",")",")",";",["T_WHITESPACE","\n    ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertIdentical",125],"(",["T_VARIABLE","$loaded_order",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$expected_order",125],")",";",["T_WHITESPACE","\n\n    ",125],["T_COMMENT","\/\/ Test loading vocabularies by their properties.\n",127],["T_WHITESPACE","    ",128],["T_VARIABLE","$controller",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","container",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","get",128],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",128],")",["T_OBJECT_OPERATOR","->",128],["T_STRING","getStorage",128],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_vocabulary'",128],")",";",["T_WHITESPACE","\n    ",128],["T_COMMENT","\/\/ Fetch vocabulary 1 by name.\n",129],["T_WHITESPACE","    ",130],["T_VARIABLE","$vocabulary",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_STRING","current",130],"(",["T_VARIABLE","$controller",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","loadByProperties",130],"(",["T_ARRAY","array",130],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$vocabulary1",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","label",130],"(",")",")",")",")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","assertEqual",131],"(",["T_VARIABLE","$vocabulary",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","id",131],"(",")",",",["T_WHITESPACE"," ",131],["T_VARIABLE","$vocabulary1",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","id",131],"(",")",",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'Vocabulary loaded successfully by name.'",131],")",";",["T_WHITESPACE","\n\n    ",131],["T_COMMENT","\/\/ Fetch vocabulary 2 by name and ID.\n",133],["T_WHITESPACE","    ",134],["T_VARIABLE","$vocabulary",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_STRING","current",134],"(",["T_VARIABLE","$controller",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","loadByProperties",134],"(",["T_ARRAY","array",134],"(",["T_WHITESPACE","\n      ",134],["T_CONSTANT_ENCAPSED_STRING","'name'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$vocabulary2",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","label",135],"(",")",",",["T_WHITESPACE","\n      ",135],["T_CONSTANT_ENCAPSED_STRING","'vid'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$vocabulary2",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","id",136],"(",")",",",["T_WHITESPACE","\n    ",136],")",")",")",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","assertEqual",138],"(",["T_VARIABLE","$vocabulary",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","id",138],"(",")",",",["T_WHITESPACE"," ",138],["T_VARIABLE","$vocabulary2",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","id",138],"(",")",",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'Vocabulary loaded successfully by name and ID.'",138],")",";",["T_WHITESPACE","\n  ",138],"}",["T_WHITESPACE","\n\n  ",139],["T_DOC_COMMENT","\/**\n   * Test uninstall and reinstall of the taxonomy module.\n   *\/",141],["T_WHITESPACE","\n  ",143],["T_FUNCTION","function",144],["T_WHITESPACE"," ",144],["T_STRING","testUninstallReinstall",144],"(",")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n    ",144],["T_COMMENT","\/\/ Field storages and fields attached to taxonomy term bundles should be\n",145],["T_WHITESPACE","    ",146],["T_COMMENT","\/\/ removed when the module is uninstalled.\n",146],["T_WHITESPACE","    ",147],["T_VARIABLE","$field_name",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","Unicode",147],["T_DOUBLE_COLON","::",147],["T_STRING","strtolower",147],"(",["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","randomMachineName",147],"(",")",["T_WHITESPACE"," ",147],".",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'_field_name'",147],")",";",["T_WHITESPACE","\n    ",147],["T_VARIABLE","$storage_definition",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_ARRAY","array",148],"(",["T_WHITESPACE","\n      ",148],["T_CONSTANT_ENCAPSED_STRING","'field_name'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$field_name",149],",",["T_WHITESPACE","\n      ",149],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term'",150],",",["T_WHITESPACE","\n      ",150],["T_CONSTANT_ENCAPSED_STRING","'type'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'text'",151],",",["T_WHITESPACE","\n      ",151],["T_CONSTANT_ENCAPSED_STRING","'cardinality'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_LNUMBER","4",152],["T_WHITESPACE","\n    ",152],")",";",["T_WHITESPACE","\n    ",153],["T_STRING","FieldStorageConfig",154],["T_DOUBLE_COLON","::",154],["T_STRING","create",154],"(",["T_VARIABLE","$storage_definition",154],")",["T_OBJECT_OPERATOR","->",154],["T_STRING","save",154],"(",")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$field_definition",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_ARRAY","array",155],"(",["T_WHITESPACE","\n      ",155],["T_CONSTANT_ENCAPSED_STRING","'field_name'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$field_name",156],",",["T_WHITESPACE","\n      ",156],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term'",157],",",["T_WHITESPACE","\n      ",157],["T_CONSTANT_ENCAPSED_STRING","'bundle'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","vocabulary",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","id",158],"(",")",",",["T_WHITESPACE","\n      ",158],["T_CONSTANT_ENCAPSED_STRING","'label'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","randomMachineName",159],"(",")",["T_WHITESPACE"," ",159],".",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'_label'",159],",",["T_WHITESPACE","\n    ",159],")",";",["T_WHITESPACE","\n    ",160],["T_STRING","FieldConfig",161],["T_DOUBLE_COLON","::",161],["T_STRING","create",161],"(",["T_VARIABLE","$field_definition",161],")",["T_OBJECT_OPERATOR","->",161],["T_STRING","save",161],"(",")",";",["T_WHITESPACE","\n\n    ",161],["T_COMMENT","\/\/ Remove the third party setting from the memory copy of the vocabulary.\n",163],["T_WHITESPACE","    ",164],["T_COMMENT","\/\/ We keep this invalid copy around while the taxonomy module is not even\n",164],["T_WHITESPACE","    ",165],["T_COMMENT","\/\/ installed for testing below.\n",165],["T_WHITESPACE","    ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","vocabulary",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","unsetThirdPartySetting",166],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_crud'",166],",",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'foo'",166],")",";",["T_WHITESPACE","\n\n    ",166],["T_REQUIRE_ONCE","require_once",168],["T_WHITESPACE"," ",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Drupal",168],["T_DOUBLE_COLON","::",168],["T_STRING","root",168],"(",")",["T_WHITESPACE"," ",168],".",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'\/core\/includes\/install.inc'",168],";",["T_WHITESPACE","\n    ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","container",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","get",169],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",169],")",["T_OBJECT_OPERATOR","->",169],["T_STRING","uninstall",169],"(",["T_ARRAY","array",169],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy'",169],")",")",";",["T_WHITESPACE","\n    ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","container",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","get",170],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",170],")",["T_OBJECT_OPERATOR","->",170],["T_STRING","install",170],"(",["T_ARRAY","array",170],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy'",170],")",")",";",["T_WHITESPACE","\n\n    ",170],["T_COMMENT","\/\/ Now create a vocabulary with the same name. All fields\n",172],["T_WHITESPACE","    ",173],["T_COMMENT","\/\/ connected to this vocabulary name should have been removed when the\n",173],["T_WHITESPACE","    ",174],["T_COMMENT","\/\/ module was uninstalled. Creating a new field with the same name and\n",174],["T_WHITESPACE","    ",175],["T_COMMENT","\/\/ an instance of this field on the same bundle name should be successful.\n",175],["T_WHITESPACE","    ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","vocabulary",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","enforceIsNew",176],"(",")",";",["T_WHITESPACE","\n    ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","vocabulary",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","save",177],"(",")",";",["T_WHITESPACE","\n    ",177],["T_STRING","FieldStorageConfig",178],["T_DOUBLE_COLON","::",178],["T_STRING","create",178],"(",["T_VARIABLE","$storage_definition",178],")",["T_OBJECT_OPERATOR","->",178],["T_STRING","save",178],"(",")",";",["T_WHITESPACE","\n    ",178],["T_STRING","FieldConfig",179],["T_DOUBLE_COLON","::",179],["T_STRING","create",179],"(",["T_VARIABLE","$field_definition",179],")",["T_OBJECT_OPERATOR","->",179],["T_STRING","save",179],"(",")",";",["T_WHITESPACE","\n  ",179],"}",["T_WHITESPACE","\n\n",180],"}",["T_WHITESPACE","\n",182]]