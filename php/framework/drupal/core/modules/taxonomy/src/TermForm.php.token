[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","taxonomy",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ContentEntityForm",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Form",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FormStateInterface",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Base for handler for taxonomy term edit forms.\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","TermForm",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_STRING","ContentEntityForm",11],["T_WHITESPACE"," ",11],"{",["T_WHITESPACE","\n\n  ",11],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",13],["T_WHITESPACE","\n  ",15],["T_PUBLIC","public",16],["T_WHITESPACE"," ",16],["T_FUNCTION","function",16],["T_WHITESPACE"," ",16],["T_STRING","form",16],"(",["T_ARRAY","array",16],["T_WHITESPACE"," ",16],["T_VARIABLE","$form",16],",",["T_WHITESPACE"," ",16],["T_STRING","FormStateInterface",16],["T_WHITESPACE"," ",16],["T_VARIABLE","$form_state",16],")",["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n    ",16],["T_VARIABLE","$term",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_VARIABLE","$this",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","entity",17],";",["T_WHITESPACE","\n    ",17],["T_VARIABLE","$vocab_storage",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_VARIABLE","$this",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","entityManager",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","getStorage",18],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_vocabulary'",18],")",";",["T_WHITESPACE","\n    ",18],["T_VARIABLE","$taxonomy_storage",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","entityManager",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","getStorage",19],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term'",19],")",";",["T_WHITESPACE","\n    ",19],["T_VARIABLE","$vocabulary",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_VARIABLE","$vocab_storage",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","load",20],"(",["T_VARIABLE","$term",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","bundle",20],"(",")",")",";",["T_WHITESPACE","\n\n    ",20],["T_VARIABLE","$parent",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_STRING","array_keys",22],"(",["T_VARIABLE","$taxonomy_storage",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","loadParents",22],"(",["T_VARIABLE","$term",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","id",22],"(",")",")",")",";",["T_WHITESPACE","\n    ",22],["T_VARIABLE","$form_state",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","set",23],"(","[",["T_CONSTANT_ENCAPSED_STRING","'taxonomy'",23],",",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'parent'",23],"]",",",["T_WHITESPACE"," ",23],["T_VARIABLE","$parent",23],")",";",["T_WHITESPACE","\n    ",23],["T_VARIABLE","$form_state",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","set",24],"(","[",["T_CONSTANT_ENCAPSED_STRING","'taxonomy'",24],",",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'vocabulary'",24],"]",",",["T_WHITESPACE"," ",24],["T_VARIABLE","$vocabulary",24],")",";",["T_WHITESPACE","\n\n    ",24],["T_VARIABLE","$form",26],"[",["T_CONSTANT_ENCAPSED_STRING","'relations'",26],"]",["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_ARRAY","array",26],"(",["T_WHITESPACE","\n      ",26],["T_CONSTANT_ENCAPSED_STRING","'#type'",27],["T_WHITESPACE"," ",27],["T_DOUBLE_ARROW","=>",27],["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'details'",27],",",["T_WHITESPACE","\n      ",27],["T_CONSTANT_ENCAPSED_STRING","'#title'",28],["T_WHITESPACE"," ",28],["T_DOUBLE_ARROW","=>",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","t",28],"(",["T_CONSTANT_ENCAPSED_STRING","'Relations'",28],")",",",["T_WHITESPACE","\n      ",28],["T_CONSTANT_ENCAPSED_STRING","'#open'",29],["T_WHITESPACE"," ",29],["T_DOUBLE_ARROW","=>",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$vocabulary",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","getHierarchy",29],"(",")",["T_WHITESPACE"," ",29],["T_IS_EQUAL","==",29],["T_WHITESPACE"," ",29],["T_STRING","VocabularyInterface",29],["T_DOUBLE_COLON","::",29],["T_STRING","HIERARCHY_MULTIPLE",29],",",["T_WHITESPACE","\n      ",29],["T_CONSTANT_ENCAPSED_STRING","'#weight'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_LNUMBER","10",30],",",["T_WHITESPACE","\n    ",30],")",";",["T_WHITESPACE","\n\n    ",31],["T_COMMENT","\/\/ \\Drupal\\taxonomy\\TermStorageInterface::loadTree() and\n",33],["T_WHITESPACE","    ",34],["T_COMMENT","\/\/ \\Drupal\\taxonomy\\TermStorageInterface::loadParents() may contain large\n",34],["T_WHITESPACE","    ",35],["T_COMMENT","\/\/ numbers of items so we check for taxonomy.settings:override_selector\n",35],["T_WHITESPACE","    ",36],["T_COMMENT","\/\/ before loading the full vocabulary. Contrib modules can then intercept\n",36],["T_WHITESPACE","    ",37],["T_COMMENT","\/\/ before hook_form_alter to provide scalable alternatives.\n",37],["T_WHITESPACE","    ",38],["T_IF","if",38],["T_WHITESPACE"," ",38],"(","!",["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","config",38],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy.settings'",38],")",["T_OBJECT_OPERATOR","->",38],["T_STRING","get",38],"(",["T_CONSTANT_ENCAPSED_STRING","'override_selector'",38],")",")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n      ",38],["T_VARIABLE","$parent",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","array_keys",39],"(",["T_VARIABLE","$taxonomy_storage",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","loadParents",39],"(",["T_VARIABLE","$term",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","id",39],"(",")",")",")",";",["T_WHITESPACE","\n      ",39],["T_VARIABLE","$children",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$taxonomy_storage",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","loadTree",40],"(",["T_VARIABLE","$vocabulary",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","id",40],"(",")",",",["T_WHITESPACE"," ",40],["T_VARIABLE","$term",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","id",40],"(",")",")",";",["T_WHITESPACE","\n\n      ",40],["T_COMMENT","\/\/ A term can't be the child of itself, nor of its children.\n",42],["T_WHITESPACE","      ",43],["T_FOREACH","foreach",43],["T_WHITESPACE"," ",43],"(",["T_VARIABLE","$children",43],["T_WHITESPACE"," ",43],["T_AS","as",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$child",43],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$exclude",44],"[","]",["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$child",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","tid",44],";",["T_WHITESPACE","\n      ",44],"}",["T_WHITESPACE","\n      ",45],["T_VARIABLE","$exclude",46],"[","]",["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$term",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","id",46],"(",")",";",["T_WHITESPACE","\n\n      ",46],["T_VARIABLE","$tree",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$taxonomy_storage",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","loadTree",48],"(",["T_VARIABLE","$vocabulary",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","id",48],"(",")",")",";",["T_WHITESPACE","\n      ",48],["T_VARIABLE","$options",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",["T_CONSTANT_ENCAPSED_STRING","'<'",49],["T_WHITESPACE"," ",49],".",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","t",49],"(",["T_CONSTANT_ENCAPSED_STRING","'root'",49],")",["T_WHITESPACE"," ",49],".",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'>'",49],")",";",["T_WHITESPACE","\n      ",49],["T_IF","if",50],["T_WHITESPACE"," ",50],"(",["T_EMPTY","empty",50],"(",["T_VARIABLE","$parent",50],")",")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$parent",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_ARRAY","array",51],"(",["T_LNUMBER","0",51],")",";",["T_WHITESPACE","\n      ",51],"}",["T_WHITESPACE","\n\n      ",52],["T_FOREACH","foreach",54],["T_WHITESPACE"," ",54],"(",["T_VARIABLE","$tree",54],["T_WHITESPACE"," ",54],["T_AS","as",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$item",54],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n        ",54],["T_IF","if",55],["T_WHITESPACE"," ",55],"(","!",["T_STRING","in_array",55],"(",["T_VARIABLE","$item",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","tid",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$exclude",55],")",")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n          ",55],["T_VARIABLE","$options",56],"[",["T_VARIABLE","$item",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","tid",56],"]",["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","str_repeat",56],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$item",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","depth",56],")",["T_WHITESPACE"," ",56],".",["T_WHITESPACE"," ",56],["T_VARIABLE","$item",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","name",56],";",["T_WHITESPACE","\n        ",56],"}",["T_WHITESPACE","\n      ",57],"}",["T_WHITESPACE","\n\n      ",58],["T_VARIABLE","$form",60],"[",["T_CONSTANT_ENCAPSED_STRING","'relations'",60],"]","[",["T_CONSTANT_ENCAPSED_STRING","'parent'",60],"]",["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_ARRAY","array",60],"(",["T_WHITESPACE","\n        ",60],["T_CONSTANT_ENCAPSED_STRING","'#type'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'select'",61],",",["T_WHITESPACE","\n        ",61],["T_CONSTANT_ENCAPSED_STRING","'#title'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","t",62],"(",["T_CONSTANT_ENCAPSED_STRING","'Parent terms'",62],")",",",["T_WHITESPACE","\n        ",62],["T_CONSTANT_ENCAPSED_STRING","'#options'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$options",63],",",["T_WHITESPACE","\n        ",63],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$parent",64],",",["T_WHITESPACE","\n        ",64],["T_CONSTANT_ENCAPSED_STRING","'#multiple'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_STRING","TRUE",65],",",["T_WHITESPACE","\n      ",65],")",";",["T_WHITESPACE","\n    ",66],"}",["T_WHITESPACE","\n\n    ",67],["T_VARIABLE","$form",69],"[",["T_CONSTANT_ENCAPSED_STRING","'relations'",69],"]","[",["T_CONSTANT_ENCAPSED_STRING","'weight'",69],"]",["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_ARRAY","array",69],"(",["T_WHITESPACE","\n      ",69],["T_CONSTANT_ENCAPSED_STRING","'#type'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'textfield'",70],",",["T_WHITESPACE","\n      ",70],["T_CONSTANT_ENCAPSED_STRING","'#title'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","t",71],"(",["T_CONSTANT_ENCAPSED_STRING","'Weight'",71],")",",",["T_WHITESPACE","\n      ",71],["T_CONSTANT_ENCAPSED_STRING","'#size'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_LNUMBER","6",72],",",["T_WHITESPACE","\n      ",72],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$term",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getWeight",73],"(",")",",",["T_WHITESPACE","\n      ",73],["T_CONSTANT_ENCAPSED_STRING","'#description'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","t",74],"(",["T_CONSTANT_ENCAPSED_STRING","'Terms are displayed in ascending order by weight.'",74],")",",",["T_WHITESPACE","\n      ",74],["T_CONSTANT_ENCAPSED_STRING","'#required'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_STRING","TRUE",75],",",["T_WHITESPACE","\n    ",75],")",";",["T_WHITESPACE","\n\n    ",76],["T_VARIABLE","$form",78],"[",["T_CONSTANT_ENCAPSED_STRING","'vid'",78],"]",["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_ARRAY","array",78],"(",["T_WHITESPACE","\n      ",78],["T_CONSTANT_ENCAPSED_STRING","'#type'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'value'",79],",",["T_WHITESPACE","\n      ",79],["T_CONSTANT_ENCAPSED_STRING","'#value'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$vocabulary",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","id",80],"(",")",",",["T_WHITESPACE","\n    ",80],")",";",["T_WHITESPACE","\n\n    ",81],["T_VARIABLE","$form",83],"[",["T_CONSTANT_ENCAPSED_STRING","'tid'",83],"]",["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_ARRAY","array",83],"(",["T_WHITESPACE","\n      ",83],["T_CONSTANT_ENCAPSED_STRING","'#type'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'value'",84],",",["T_WHITESPACE","\n      ",84],["T_CONSTANT_ENCAPSED_STRING","'#value'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$term",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","id",85],"(",")",",",["T_WHITESPACE","\n    ",85],")",";",["T_WHITESPACE","\n\n    ",86],["T_RETURN","return",88],["T_WHITESPACE"," ",88],["T_STRING","parent",88],["T_DOUBLE_COLON","::",88],["T_STRING","form",88],"(",["T_VARIABLE","$form",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$form_state",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$term",88],")",";",["T_WHITESPACE","\n  ",88],"}",["T_WHITESPACE","\n\n  ",89],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",91],["T_WHITESPACE","\n  ",93],["T_PUBLIC","public",94],["T_WHITESPACE"," ",94],["T_FUNCTION","function",94],["T_WHITESPACE"," ",94],["T_STRING","validateForm",94],"(",["T_ARRAY","array",94],["T_WHITESPACE"," ",94],"&",["T_VARIABLE","$form",94],",",["T_WHITESPACE"," ",94],["T_STRING","FormStateInterface",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$form_state",94],")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n    ",94],["T_STRING","parent",95],["T_DOUBLE_COLON","::",95],["T_STRING","validateForm",95],"(",["T_VARIABLE","$form",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$form_state",95],")",";",["T_WHITESPACE","\n\n    ",95],["T_COMMENT","\/\/ Ensure numeric values.\n",97],["T_WHITESPACE","    ",98],["T_IF","if",98],["T_WHITESPACE"," ",98],"(",["T_VARIABLE","$form_state",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","hasValue",98],"(",["T_CONSTANT_ENCAPSED_STRING","'weight'",98],")",["T_WHITESPACE"," ",98],["T_BOOLEAN_AND","&&",98],["T_WHITESPACE"," ",98],"!",["T_STRING","is_numeric",98],"(",["T_VARIABLE","$form_state",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getValue",98],"(",["T_CONSTANT_ENCAPSED_STRING","'weight'",98],")",")",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n      ",98],["T_VARIABLE","$form_state",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","setErrorByName",99],"(",["T_CONSTANT_ENCAPSED_STRING","'weight'",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","t",99],"(",["T_CONSTANT_ENCAPSED_STRING","'Weight value must be numeric.'",99],")",")",";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n  ",100],"}",["T_WHITESPACE","\n\n  ",101],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",103],["T_WHITESPACE","\n  ",105],["T_PUBLIC","public",106],["T_WHITESPACE"," ",106],["T_FUNCTION","function",106],["T_WHITESPACE"," ",106],["T_STRING","buildEntity",106],"(",["T_ARRAY","array",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$form",106],",",["T_WHITESPACE"," ",106],["T_STRING","FormStateInterface",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$form_state",106],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$term",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_STRING","parent",107],["T_DOUBLE_COLON","::",107],["T_STRING","buildEntity",107],"(",["T_VARIABLE","$form",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$form_state",107],")",";",["T_WHITESPACE","\n\n    ",107],["T_COMMENT","\/\/ Prevent leading and trailing spaces in term names.\n",109],["T_WHITESPACE","    ",110],["T_VARIABLE","$term",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","setName",110],"(",["T_STRING","trim",110],"(",["T_VARIABLE","$term",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getName",110],"(",")",")",")",";",["T_WHITESPACE","\n\n    ",110],["T_COMMENT","\/\/ Assign parents with proper delta values starting from 0.\n",112],["T_WHITESPACE","    ",113],["T_VARIABLE","$term",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","parent",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","array_keys",113],"(",["T_VARIABLE","$form_state",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getValue",113],"(",["T_CONSTANT_ENCAPSED_STRING","'parent'",113],")",")",";",["T_WHITESPACE","\n\n    ",113],["T_RETURN","return",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$term",115],";",["T_WHITESPACE","\n  ",115],"}",["T_WHITESPACE","\n\n  ",116],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",118],["T_WHITESPACE","\n  ",120],["T_PUBLIC","public",121],["T_WHITESPACE"," ",121],["T_FUNCTION","function",121],["T_WHITESPACE"," ",121],["T_STRING","save",121],"(",["T_ARRAY","array",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$form",121],",",["T_WHITESPACE"," ",121],["T_STRING","FormStateInterface",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$form_state",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$term",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","entity",122],";",["T_WHITESPACE","\n\n    ",122],["T_VARIABLE","$result",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$term",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","save",124],"(",")",";",["T_WHITESPACE","\n\n    ",124],["T_VARIABLE","$edit_link",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$term",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","link",126],"(",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","t",126],"(",["T_CONSTANT_ENCAPSED_STRING","'Edit'",126],")",",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'edit-form'",126],")",";",["T_WHITESPACE","\n    ",126],["T_VARIABLE","$view_link",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$term",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","link",127],"(",["T_VARIABLE","$term",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getName",127],"(",")",")",";",["T_WHITESPACE","\n    ",127],["T_SWITCH","switch",128],["T_WHITESPACE"," ",128],"(",["T_VARIABLE","$result",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n      ",128],["T_CASE","case",129],["T_WHITESPACE"," ",129],["T_STRING","SAVED_NEW",129],":",["T_WHITESPACE","\n        ",129],["T_STRING","drupal_set_message",130],"(",["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","t",130],"(",["T_CONSTANT_ENCAPSED_STRING","'Created new term %term.'",130],",",["T_WHITESPACE"," ",130],["T_ARRAY","array",130],"(",["T_CONSTANT_ENCAPSED_STRING","'%term'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$view_link",130],")",")",")",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","logger",131],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy'",131],")",["T_OBJECT_OPERATOR","->",131],["T_STRING","notice",131],"(",["T_CONSTANT_ENCAPSED_STRING","'Created new term %term.'",131],",",["T_WHITESPACE"," ",131],["T_ARRAY","array",131],"(",["T_CONSTANT_ENCAPSED_STRING","'%term'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$term",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getName",131],"(",")",",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'link'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$edit_link",131],")",")",";",["T_WHITESPACE","\n        ",131],["T_BREAK","break",132],";",["T_WHITESPACE","\n      ",132],["T_CASE","case",133],["T_WHITESPACE"," ",133],["T_STRING","SAVED_UPDATED",133],":",["T_WHITESPACE","\n        ",133],["T_STRING","drupal_set_message",134],"(",["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","t",134],"(",["T_CONSTANT_ENCAPSED_STRING","'Updated term %term.'",134],",",["T_WHITESPACE"," ",134],["T_ARRAY","array",134],"(",["T_CONSTANT_ENCAPSED_STRING","'%term'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$view_link",134],")",")",")",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","logger",135],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy'",135],")",["T_OBJECT_OPERATOR","->",135],["T_STRING","notice",135],"(",["T_CONSTANT_ENCAPSED_STRING","'Updated term %term.'",135],",",["T_WHITESPACE"," ",135],["T_ARRAY","array",135],"(",["T_CONSTANT_ENCAPSED_STRING","'%term'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$term",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getName",135],"(",")",",",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'link'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$edit_link",135],")",")",";",["T_WHITESPACE","\n        ",135],["T_BREAK","break",136],";",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n\n    ",137],["T_VARIABLE","$current_parent_count",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","count",139],"(",["T_VARIABLE","$form_state",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getValue",139],"(",["T_CONSTANT_ENCAPSED_STRING","'parent'",139],")",")",";",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$previous_parent_count",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_STRING","count",140],"(",["T_VARIABLE","$form_state",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","get",140],"(","[",["T_CONSTANT_ENCAPSED_STRING","'taxonomy'",140],",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'parent'",140],"]",")",")",";",["T_WHITESPACE","\n    ",140],["T_COMMENT","\/\/ Root doesn't count if it's the only parent.\n",141],["T_WHITESPACE","    ",142],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$current_parent_count",142],["T_WHITESPACE"," ",142],["T_IS_EQUAL","==",142],["T_WHITESPACE"," ",142],["T_LNUMBER","1",142],["T_WHITESPACE"," ",142],["T_BOOLEAN_AND","&&",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$form_state",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","hasValue",142],"(",["T_ARRAY","array",142],"(",["T_CONSTANT_ENCAPSED_STRING","'parent'",142],",",["T_WHITESPACE"," ",142],["T_LNUMBER","0",142],")",")",")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n      ",142],["T_VARIABLE","$current_parent_count",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_LNUMBER","0",143],";",["T_WHITESPACE","\n      ",143],["T_VARIABLE","$form_state",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","setValue",144],"(",["T_CONSTANT_ENCAPSED_STRING","'parent'",144],",",["T_WHITESPACE"," ",144],["T_ARRAY","array",144],"(",")",")",";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n\n    ",145],["T_COMMENT","\/\/ If the number of parents has been reduced to one or none, do a check on the\n",147],["T_WHITESPACE","    ",148],["T_COMMENT","\/\/ parents of every term in the vocabulary value.\n",148],["T_WHITESPACE","    ",149],["T_VARIABLE","$vocabulary",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$form_state",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","get",149],"(","[",["T_CONSTANT_ENCAPSED_STRING","'taxonomy'",149],",",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'vocabulary'",149],"]",")",";",["T_WHITESPACE","\n    ",149],["T_IF","if",150],["T_WHITESPACE"," ",150],"(",["T_VARIABLE","$current_parent_count",150],["T_WHITESPACE"," ",150],"<",["T_WHITESPACE"," ",150],["T_VARIABLE","$previous_parent_count",150],["T_WHITESPACE"," ",150],["T_BOOLEAN_AND","&&",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$current_parent_count",150],["T_WHITESPACE"," ",150],"<",["T_WHITESPACE"," ",150],["T_LNUMBER","2",150],")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n      ",150],["T_STRING","taxonomy_check_vocabulary_hierarchy",151],"(",["T_VARIABLE","$vocabulary",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$form_state",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getValues",151],"(",")",")",";",["T_WHITESPACE","\n    ",151],"}",["T_WHITESPACE","\n    ",152],["T_COMMENT","\/\/ If we've increased the number of parents and this is a single or flat\n",153],["T_WHITESPACE","    ",154],["T_COMMENT","\/\/ hierarchy, update the vocabulary immediately.\n",154],["T_WHITESPACE","    ",155],["T_ELSEIF","elseif",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$current_parent_count",155],["T_WHITESPACE"," ",155],">",["T_WHITESPACE"," ",155],["T_VARIABLE","$previous_parent_count",155],["T_WHITESPACE"," ",155],["T_BOOLEAN_AND","&&",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$vocabulary",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getHierarchy",155],"(",")",["T_WHITESPACE"," ",155],["T_IS_NOT_EQUAL","!=",155],["T_WHITESPACE"," ",155],["T_STRING","VocabularyInterface",155],["T_DOUBLE_COLON","::",155],["T_STRING","HIERARCHY_MULTIPLE",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n      ",155],["T_VARIABLE","$vocabulary",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","setHierarchy",156],"(",["T_VARIABLE","$current_parent_count",156],["T_WHITESPACE"," ",156],["T_IS_EQUAL","==",156],["T_WHITESPACE"," ",156],["T_LNUMBER","1",156],["T_WHITESPACE"," ",156],"?",["T_WHITESPACE"," ",156],["T_STRING","VocabularyInterface",156],["T_DOUBLE_COLON","::",156],["T_STRING","HIERARCHY_SINGLE",156],["T_WHITESPACE"," ",156],":",["T_WHITESPACE"," ",156],["T_STRING","VocabularyInterface",156],["T_DOUBLE_COLON","::",156],["T_STRING","HIERARCHY_MULTIPLE",156],")",";",["T_WHITESPACE","\n      ",156],["T_VARIABLE","$vocabulary",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","save",157],"(",")",";",["T_WHITESPACE","\n    ",157],"}",["T_WHITESPACE","\n\n    ",158],["T_VARIABLE","$form_state",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","setValue",160],"(",["T_CONSTANT_ENCAPSED_STRING","'tid'",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$term",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","id",160],"(",")",")",";",["T_WHITESPACE","\n    ",160],["T_VARIABLE","$form_state",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","set",161],"(",["T_CONSTANT_ENCAPSED_STRING","'tid'",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$term",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","id",161],"(",")",")",";",["T_WHITESPACE","\n  ",161],"}",["T_WHITESPACE","\n\n",162],"}",["T_WHITESPACE","\n",164]]