[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","book",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","simpletest",5],["T_NS_SEPARATOR","\\",5],["T_STRING","WebTestBase",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Create a book, add pages, and test book interface.\n *\n * @group book\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","BookBreadcrumbTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","WebTestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * Modules to install.\n   *\n   * @var array\n   *\/",14],["T_WHITESPACE","\n  ",18],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_STATIC","static",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$modules",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_ARRAY","array",19],"(",["T_CONSTANT_ENCAPSED_STRING","'book'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'block'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'book_breadcrumb_test'",19],")",";",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * A book node.\n   *\n   * @var \\Drupal\\node\\NodeInterface\n   *\/",21],["T_WHITESPACE","\n  ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$book",26],";",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * A user with permission to create and edit books.\n   *\n   * @var \\Drupal\\user\\Entity\\User\n   *\/",28],["T_WHITESPACE","\n  ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$bookAuthor",33],";",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * A user without the 'node test view' permission.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",35],["T_WHITESPACE","\n  ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$webUserWithoutNodeAccess",40],";",["T_WHITESPACE","\n\n  ",40],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",42],["T_WHITESPACE","\n  ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","setUp",45],"(",")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n    ",45],["T_STRING","parent",46],["T_DOUBLE_COLON","::",46],["T_STRING","setUp",46],"(",")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","drupalPlaceBlock",47],"(",["T_CONSTANT_ENCAPSED_STRING","'system_breadcrumb_block'",47],")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","drupalPlaceBlock",48],"(",["T_CONSTANT_ENCAPSED_STRING","'page_title_block'",48],")",";",["T_WHITESPACE","\n\n    ",48],["T_COMMENT","\/\/ Create users.\n",50],["T_WHITESPACE","    ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","bookAuthor",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","drupalCreateUser",51],"(",["T_ARRAY","array",51],"(",["T_CONSTANT_ENCAPSED_STRING","'create new books'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'create book content'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'edit own book content'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'add content to books'",51],")",")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","adminUser",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","drupalCreateUser",52],"(",["T_ARRAY","array",52],"(",["T_CONSTANT_ENCAPSED_STRING","'create new books'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'create book content'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'edit any book content'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'delete any book content'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'add content to books'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'administer blocks'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'administer permissions'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'administer book outlines'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'administer content types'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'administer site configuration'",52],")",")",";",["T_WHITESPACE","\n  ",52],"}",["T_WHITESPACE","\n\n  ",53],["T_DOC_COMMENT","\/**\n   * Creates a new book with a page hierarchy.\n   *\n   * @return \\Drupal\\node\\NodeInterface[]\n   *   The created book nodes.\n   *\/",55],["T_WHITESPACE","\n  ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","createBreadcrumbBook",61],"(",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n    ",61],["T_COMMENT","\/\/ Create new book.\n",62],["T_WHITESPACE","    ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","drupalLogin",63],"(",["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","bookAuthor",63],")",";",["T_WHITESPACE","\n\n    ",63],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","book",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","createBookNode",65],"(",["T_CONSTANT_ENCAPSED_STRING","'new'",65],")",";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$book",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","book",66],";",["T_WHITESPACE","\n\n    ",66],["T_COMMENT","\/*\n     * Add page hierarchy to book.\n     * Book\n     *  |- Node 0\n     *   |- Node 1\n     *   |- Node 2\n     *    |- Node 3\n     *     |- Node 4\n     *      |- Node 5\n     *  |- Node 6\n     *\/",68],["T_WHITESPACE","\n    ",78],["T_VARIABLE","$nodes",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_ARRAY","array",79],"(",")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$nodes",80],"[",["T_LNUMBER","0",80],"]",["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","createBookNode",80],"(",["T_VARIABLE","$book",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","id",80],"(",")",")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$nodes",81],"[",["T_LNUMBER","1",81],"]",["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","createBookNode",81],"(",["T_VARIABLE","$book",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","id",81],"(",")",",",["T_WHITESPACE"," ",81],["T_VARIABLE","$nodes",81],"[",["T_LNUMBER","0",81],"]",["T_OBJECT_OPERATOR","->",81],["T_STRING","id",81],"(",")",")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$nodes",82],"[",["T_LNUMBER","2",82],"]",["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","createBookNode",82],"(",["T_VARIABLE","$book",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","id",82],"(",")",",",["T_WHITESPACE"," ",82],["T_VARIABLE","$nodes",82],"[",["T_LNUMBER","0",82],"]",["T_OBJECT_OPERATOR","->",82],["T_STRING","id",82],"(",")",")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$nodes",83],"[",["T_LNUMBER","3",83],"]",["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","createBookNode",83],"(",["T_VARIABLE","$book",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","id",83],"(",")",",",["T_WHITESPACE"," ",83],["T_VARIABLE","$nodes",83],"[",["T_LNUMBER","2",83],"]",["T_OBJECT_OPERATOR","->",83],["T_STRING","id",83],"(",")",")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$nodes",84],"[",["T_LNUMBER","4",84],"]",["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","createBookNode",84],"(",["T_VARIABLE","$book",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","id",84],"(",")",",",["T_WHITESPACE"," ",84],["T_VARIABLE","$nodes",84],"[",["T_LNUMBER","3",84],"]",["T_OBJECT_OPERATOR","->",84],["T_STRING","id",84],"(",")",")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$nodes",85],"[",["T_LNUMBER","5",85],"]",["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","createBookNode",85],"(",["T_VARIABLE","$book",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","id",85],"(",")",",",["T_WHITESPACE"," ",85],["T_VARIABLE","$nodes",85],"[",["T_LNUMBER","4",85],"]",["T_OBJECT_OPERATOR","->",85],["T_STRING","id",85],"(",")",")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$nodes",86],"[",["T_LNUMBER","6",86],"]",["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","createBookNode",86],"(",["T_VARIABLE","$book",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","id",86],"(",")",")",";",["T_WHITESPACE","\n\n    ",86],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","drupalLogout",88],"(",")",";",["T_WHITESPACE","\n\n    ",88],["T_RETURN","return",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$nodes",90],";",["T_WHITESPACE","\n  ",90],"}",["T_WHITESPACE","\n\n  ",91],["T_DOC_COMMENT","\/**\n   * Creates a book node.\n   *\n   * @param int|string $book_nid\n   *   A book node ID or set to 'new' to create a new book.\n   * @param int|null $parent\n   *   (optional) Parent book reference ID. Defaults to NULL.\n   *\n   * @return \\Drupal\\node\\NodeInterface\n   *   The created node.\n   *\/",93],["T_WHITESPACE","\n  ",103],["T_PROTECTED","protected",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","createBookNode",104],"(",["T_VARIABLE","$book_nid",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$parent",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_STRING","NULL",104],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n    ",104],["T_COMMENT","\/\/ $number does not use drupal_static as it should not be reset since it\n",105],["T_WHITESPACE","    ",106],["T_COMMENT","\/\/ uniquely identifies each call to createBookNode(). It is used to ensure\n",106],["T_WHITESPACE","    ",107],["T_COMMENT","\/\/ that when sorted nodes stay in same order.\n",107],["T_WHITESPACE","    ",108],["T_STATIC","static",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$number",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_LNUMBER","0",108],";",["T_WHITESPACE","\n\n    ",108],["T_VARIABLE","$edit",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_ARRAY","array",110],"(",")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$edit",111],"[",["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",111],"]",["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_STRING","str_pad",111],"(",["T_VARIABLE","$number",111],",",["T_WHITESPACE"," ",111],["T_LNUMBER","2",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'0'",111],",",["T_WHITESPACE"," ",111],["T_STRING","STR_PAD_LEFT",111],")",["T_WHITESPACE"," ",111],".",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","' - SimpleTest test node '",111],["T_WHITESPACE"," ",111],".",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","randomMachineName",111],"(",["T_LNUMBER","10",111],")",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$edit",112],"[",["T_CONSTANT_ENCAPSED_STRING","'body[0][value]'",112],"]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'SimpleTest test body '",112],["T_WHITESPACE"," ",112],".",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","randomMachineName",112],"(",["T_LNUMBER","32",112],")",["T_WHITESPACE"," ",112],".",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","' '",112],["T_WHITESPACE"," ",112],".",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","randomMachineName",112],"(",["T_LNUMBER","32",112],")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$edit",113],"[",["T_CONSTANT_ENCAPSED_STRING","'book[bid]'",113],"]",["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$book_nid",113],";",["T_WHITESPACE","\n\n    ",113],["T_IF","if",115],["T_WHITESPACE"," ",115],"(",["T_VARIABLE","$parent",115],["T_WHITESPACE"," ",115],["T_IS_NOT_IDENTICAL","!==",115],["T_WHITESPACE"," ",115],["T_STRING","NULL",115],")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n      ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","drupalPostForm",116],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/add\/book'",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$edit",116],",",["T_WHITESPACE"," ",116],["T_STRING","t",116],"(",["T_CONSTANT_ENCAPSED_STRING","'Change book (update list of parents)'",116],")",")",";",["T_WHITESPACE","\n\n      ",116],["T_VARIABLE","$edit",118],"[",["T_CONSTANT_ENCAPSED_STRING","'book[pid]'",118],"]",["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$parent",118],";",["T_WHITESPACE","\n      ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","drupalPostForm",119],"(",["T_STRING","NULL",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$edit",119],",",["T_WHITESPACE"," ",119],["T_STRING","t",119],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",119],")",")",";",["T_WHITESPACE","\n      ",119],["T_COMMENT","\/\/ Make sure the parent was flagged as having children.\n",120],["T_WHITESPACE","      ",121],["T_VARIABLE","$parent_node",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_NS_SEPARATOR","\\",121],["T_STRING","Drupal",121],["T_DOUBLE_COLON","::",121],["T_STRING","entityManager",121],"(",")",["T_OBJECT_OPERATOR","->",121],["T_STRING","getStorage",121],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",121],")",["T_OBJECT_OPERATOR","->",121],["T_STRING","loadUnchanged",121],"(",["T_VARIABLE","$parent",121],")",";",["T_WHITESPACE","\n      ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertFalse",122],"(",["T_EMPTY","empty",122],"(",["T_VARIABLE","$parent_node",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","book",122],"[",["T_CONSTANT_ENCAPSED_STRING","'has_children'",122],"]",")",",",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'Parent node is marked as having children'",122],")",";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n    ",123],["T_ELSE","else",124],["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n      ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","drupalPostForm",125],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/add\/book'",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$edit",125],",",["T_WHITESPACE"," ",125],["T_STRING","t",125],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",125],")",")",";",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n\n    ",126],["T_COMMENT","\/\/ Check to make sure the book node was created.\n",128],["T_WHITESPACE","    ",129],["T_VARIABLE","$node",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","drupalGetNodeByTitle",129],"(",["T_VARIABLE","$edit",129],"[",["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",129],"]",")",";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","assertNotNull",130],"(","(",["T_VARIABLE","$node",130],["T_WHITESPACE"," ",130],["T_IS_IDENTICAL","===",130],["T_WHITESPACE"," ",130],["T_STRING","FALSE",130],["T_WHITESPACE"," ",130],"?",["T_WHITESPACE"," ",130],["T_STRING","NULL",130],["T_WHITESPACE"," ",130],":",["T_WHITESPACE"," ",130],["T_VARIABLE","$node",130],")",",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'Book node found in database.'",130],")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$number",131],["T_INC","++",131],";",["T_WHITESPACE","\n\n    ",131],["T_RETURN","return",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$node",133],";",["T_WHITESPACE","\n  ",133],"}",["T_WHITESPACE","\n\n  ",134],["T_DOC_COMMENT","\/**\n   * Test that the breadcrumb is updated when book content changes.\n   *\/",136],["T_WHITESPACE","\n  ",138],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","testBreadcrumbTitleUpdates",139],"(",")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n    ",139],["T_COMMENT","\/\/ Create a new book.\n",140],["T_WHITESPACE","    ",141],["T_VARIABLE","$nodes",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","createBreadcrumbBook",141],"(",")",";",["T_WHITESPACE","\n    ",141],["T_VARIABLE","$book",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","book",142],";",["T_WHITESPACE","\n\n    ",142],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","drupalLogin",144],"(",["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","bookAuthor",144],")",";",["T_WHITESPACE","\n\n    ",144],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","drupalGet",146],"(",["T_VARIABLE","$nodes",146],"[",["T_LNUMBER","4",146],"]",["T_OBJECT_OPERATOR","->",146],["T_STRING","toUrl",146],"(",")",")",";",["T_WHITESPACE","\n    ",146],["T_COMMENT","\/\/ Fetch each node title in the current breadcrumb.\n",147],["T_WHITESPACE","    ",148],["T_VARIABLE","$links",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","xpath",148],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/nav[@class=\"breadcrumb\"]\/ol\/li\/a'",148],")",";",["T_WHITESPACE","\n    ",148],["T_VARIABLE","$got_breadcrumb",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_ARRAY","array",149],"(",")",";",["T_WHITESPACE","\n    ",149],["T_FOREACH","foreach",150],["T_WHITESPACE"," ",150],"(",["T_VARIABLE","$links",150],["T_WHITESPACE"," ",150],["T_AS","as",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$link",150],")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n      ",150],["T_VARIABLE","$got_breadcrumb",151],"[","]",["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING_CAST","(string)",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$link",151],";",["T_WHITESPACE","\n    ",151],"}",["T_WHITESPACE","\n    ",152],["T_COMMENT","\/\/ Home link and four parent book nodes should be in the breadcrumb.\n",153],["T_WHITESPACE","    ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","assertEqual",154],"(",["T_LNUMBER","5",154],",",["T_WHITESPACE"," ",154],["T_STRING","count",154],"(",["T_VARIABLE","$got_breadcrumb",154],")",")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","assertEqual",155],"(",["T_VARIABLE","$nodes",155],"[",["T_LNUMBER","3",155],"]",["T_OBJECT_OPERATOR","->",155],["T_STRING","getTitle",155],"(",")",",",["T_WHITESPACE"," ",155],["T_STRING","end",155],"(",["T_VARIABLE","$got_breadcrumb",155],")",")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$edit",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],"[",["T_WHITESPACE","\n      ",156],["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'Updated node5 title'",157],",",["T_WHITESPACE","\n    ",157],"]",";",["T_WHITESPACE","\n    ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","drupalPostForm",159],"(",["T_VARIABLE","$nodes",159],"[",["T_LNUMBER","3",159],"]",["T_OBJECT_OPERATOR","->",159],["T_STRING","toUrl",159],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-form'",159],")",",",["T_WHITESPACE"," ",159],["T_VARIABLE","$edit",159],",",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'Save'",159],")",";",["T_WHITESPACE","\n    ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","drupalGet",160],"(",["T_VARIABLE","$nodes",160],"[",["T_LNUMBER","4",160],"]",["T_OBJECT_OPERATOR","->",160],["T_STRING","toUrl",160],"(",")",")",";",["T_WHITESPACE","\n    ",160],["T_COMMENT","\/\/ Fetch each node title in the current breadcrumb.\n",161],["T_WHITESPACE","    ",162],["T_VARIABLE","$links",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","xpath",162],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/nav[@class=\"breadcrumb\"]\/ol\/li\/a'",162],")",";",["T_WHITESPACE","\n    ",162],["T_VARIABLE","$got_breadcrumb",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_ARRAY","array",163],"(",")",";",["T_WHITESPACE","\n    ",163],["T_FOREACH","foreach",164],["T_WHITESPACE"," ",164],"(",["T_VARIABLE","$links",164],["T_WHITESPACE"," ",164],["T_AS","as",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$link",164],")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n      ",164],["T_VARIABLE","$got_breadcrumb",165],"[","]",["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_STRING_CAST","(string)",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$link",165],";",["T_WHITESPACE","\n    ",165],"}",["T_WHITESPACE","\n    ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","assertEqual",167],"(",["T_LNUMBER","5",167],",",["T_WHITESPACE"," ",167],["T_STRING","count",167],"(",["T_VARIABLE","$got_breadcrumb",167],")",")",";",["T_WHITESPACE","\n    ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","assertEqual",168],"(",["T_VARIABLE","$edit",168],"[",["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",168],"]",",",["T_WHITESPACE"," ",168],["T_STRING","end",168],"(",["T_VARIABLE","$got_breadcrumb",168],")",")",";",["T_WHITESPACE","\n  ",168],"}",["T_WHITESPACE","\n\n  ",169],["T_DOC_COMMENT","\/**\n   * Test that the breadcrumb is updated when book access changes.\n   *\/",171],["T_WHITESPACE","\n  ",173],["T_PUBLIC","public",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","testBreadcrumbAccessUpdates",174],"(",")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n    ",174],["T_COMMENT","\/\/ Create a new book.\n",175],["T_WHITESPACE","    ",176],["T_VARIABLE","$nodes",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","createBreadcrumbBook",176],"(",")",";",["T_WHITESPACE","\n    ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","drupalLogin",177],"(",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","bookAuthor",177],")",";",["T_WHITESPACE","\n    ",177],["T_VARIABLE","$edit",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],"[",["T_WHITESPACE","\n      ",178],["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","\"you can't see me\"",179],",",["T_WHITESPACE","\n    ",179],"]",";",["T_WHITESPACE","\n    ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","drupalPostForm",181],"(",["T_VARIABLE","$nodes",181],"[",["T_LNUMBER","3",181],"]",["T_OBJECT_OPERATOR","->",181],["T_STRING","toUrl",181],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-form'",181],")",",",["T_WHITESPACE"," ",181],["T_VARIABLE","$edit",181],",",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'Save'",181],")",";",["T_WHITESPACE","\n    ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","drupalGet",182],"(",["T_VARIABLE","$nodes",182],"[",["T_LNUMBER","4",182],"]",["T_OBJECT_OPERATOR","->",182],["T_STRING","toUrl",182],"(",")",")",";",["T_WHITESPACE","\n    ",182],["T_VARIABLE","$links",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","xpath",183],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/nav[@class=\"breadcrumb\"]\/ol\/li\/a'",183],")",";",["T_WHITESPACE","\n    ",183],["T_VARIABLE","$got_breadcrumb",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_ARRAY","array",184],"(",")",";",["T_WHITESPACE","\n    ",184],["T_FOREACH","foreach",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$links",185],["T_WHITESPACE"," ",185],["T_AS","as",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$link",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n      ",185],["T_VARIABLE","$got_breadcrumb",186],"[","]",["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_STRING_CAST","(string)",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$link",186],";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n    ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","assertEqual",188],"(",["T_LNUMBER","5",188],",",["T_WHITESPACE"," ",188],["T_STRING","count",188],"(",["T_VARIABLE","$got_breadcrumb",188],")",")",";",["T_WHITESPACE","\n    ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","assertEqual",189],"(",["T_VARIABLE","$edit",189],"[",["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",189],"]",",",["T_WHITESPACE"," ",189],["T_STRING","end",189],"(",["T_VARIABLE","$got_breadcrumb",189],")",")",";",["T_WHITESPACE","\n    ",189],["T_VARIABLE","$config",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","container",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","get",190],"(",["T_CONSTANT_ENCAPSED_STRING","'config.factory'",190],")",["T_OBJECT_OPERATOR","->",190],["T_STRING","getEditable",190],"(",["T_CONSTANT_ENCAPSED_STRING","'book_breadcrumb_test.settings'",190],")",";",["T_WHITESPACE","\n    ",190],["T_VARIABLE","$config",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","set",191],"(",["T_CONSTANT_ENCAPSED_STRING","'hide'",191],",",["T_WHITESPACE"," ",191],["T_STRING","TRUE",191],")",["T_OBJECT_OPERATOR","->",191],["T_STRING","save",191],"(",")",";",["T_WHITESPACE","\n    ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","drupalGet",192],"(",["T_VARIABLE","$nodes",192],"[",["T_LNUMBER","4",192],"]",["T_OBJECT_OPERATOR","->",192],["T_STRING","toUrl",192],"(",")",")",";",["T_WHITESPACE","\n    ",192],["T_VARIABLE","$links",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","xpath",193],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/nav[@class=\"breadcrumb\"]\/ol\/li\/a'",193],")",";",["T_WHITESPACE","\n    ",193],["T_VARIABLE","$got_breadcrumb",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_ARRAY","array",194],"(",")",";",["T_WHITESPACE","\n    ",194],["T_FOREACH","foreach",195],["T_WHITESPACE"," ",195],"(",["T_VARIABLE","$links",195],["T_WHITESPACE"," ",195],["T_AS","as",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$link",195],")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n      ",195],["T_VARIABLE","$got_breadcrumb",196],"[","]",["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_STRING_CAST","(string)",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$link",196],";",["T_WHITESPACE","\n    ",196],"}",["T_WHITESPACE","\n    ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","assertEqual",198],"(",["T_LNUMBER","4",198],",",["T_WHITESPACE"," ",198],["T_STRING","count",198],"(",["T_VARIABLE","$got_breadcrumb",198],")",")",";",["T_WHITESPACE","\n    ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","assertEqual",199],"(",["T_VARIABLE","$nodes",199],"[",["T_LNUMBER","2",199],"]",["T_OBJECT_OPERATOR","->",199],["T_STRING","getTitle",199],"(",")",",",["T_WHITESPACE"," ",199],["T_STRING","end",199],"(",["T_VARIABLE","$got_breadcrumb",199],")",")",";",["T_WHITESPACE","\n    ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","drupalGet",200],"(",["T_VARIABLE","$nodes",200],"[",["T_LNUMBER","3",200],"]",["T_OBJECT_OPERATOR","->",200],["T_STRING","toUrl",200],"(",")",")",";",["T_WHITESPACE","\n    ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","assertResponse",201],"(",["T_LNUMBER","403",201],")",";",["T_WHITESPACE","\n  ",201],"}",["T_WHITESPACE","\n\n",202],"}",["T_WHITESPACE","\n",204]]