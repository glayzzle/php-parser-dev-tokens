[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","book",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Form",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","book",5],["T_NS_SEPARATOR","\\",5],["T_STRING","BookManagerInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ContentEntityForm",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","EntityManagerInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Form",8],["T_NS_SEPARATOR","\\",8],["T_STRING","FormStateInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Url",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Symfony",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Component",10],["T_NS_SEPARATOR","\\",10],["T_STRING","DependencyInjection",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ContainerInterface",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Displays the book outline form.\n *\/",12],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","BookOutlineForm",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","ContentEntityForm",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * The book being displayed.\n   *\n   * @var \\Drupal\\node\\NodeInterface\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$entity",22],";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * BookManager service.\n   *\n   * @var \\Drupal\\book\\BookManagerInterface\n   *\/",24],["T_WHITESPACE","\n  ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$bookManager",29],";",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * Constructs a BookOutlineForm object.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityManagerInterface $entity_manager\n   *   The entity manager.\n   * @param \\Drupal\\book\\BookManagerInterface $book_manager\n   *   The BookManager service.\n   *\/",31],["T_WHITESPACE","\n  ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","__construct",39],"(",["T_STRING","EntityManagerInterface",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$entity_manager",39],",",["T_WHITESPACE"," ",39],["T_STRING","BookManagerInterface",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$book_manager",39],")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n    ",39],["T_STRING","parent",40],["T_DOUBLE_COLON","::",40],["T_STRING","__construct",40],"(",["T_VARIABLE","$entity_manager",40],")",";",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","bookManager",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$book_manager",41],";",["T_WHITESPACE","\n  ",41],"}",["T_WHITESPACE","\n\n  ",42],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",44],["T_WHITESPACE","\n  ",46],["T_PUBLIC","public",47],["T_WHITESPACE"," ",47],["T_STATIC","static",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","create",47],"(",["T_STRING","ContainerInterface",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$container",47],")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n    ",47],["T_RETURN","return",48],["T_WHITESPACE"," ",48],["T_NEW","new",48],["T_WHITESPACE"," ",48],["T_STATIC","static",48],"(",["T_WHITESPACE","\n      ",48],["T_VARIABLE","$container",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","get",49],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",49],")",",",["T_WHITESPACE","\n      ",49],["T_VARIABLE","$container",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","get",50],"(",["T_CONSTANT_ENCAPSED_STRING","'book.manager'",50],")",["T_WHITESPACE","\n    ",50],")",";",["T_WHITESPACE","\n  ",51],"}",["T_WHITESPACE","\n\n  ",52],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",54],["T_WHITESPACE","\n  ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","getBaseFormId",57],"(",")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n    ",57],["T_RETURN","return",58],["T_WHITESPACE"," ",58],["T_STRING","NULL",58],";",["T_WHITESPACE","\n  ",58],"}",["T_WHITESPACE","\n\n  ",59],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",61],["T_WHITESPACE","\n  ",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","form",64],"(",["T_ARRAY","array",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$form",64],",",["T_WHITESPACE"," ",64],["T_STRING","FormStateInterface",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$form_state",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$form",65],"[",["T_CONSTANT_ENCAPSED_STRING","'#title'",65],"]",["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","entity",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","label",65],"(",")",";",["T_WHITESPACE","\n\n    ",65],["T_IF","if",67],["T_WHITESPACE"," ",67],"(","!",["T_ISSET","isset",67],"(",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","entity",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","book",67],")",")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n      ",67],["T_COMMENT","\/\/ The node is not part of any book yet - set default options.\n",68],["T_WHITESPACE","      ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","entity",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","book",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","bookManager",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getLinkDefaults",69],"(",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","entity",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","id",69],"(",")",")",";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n    ",70],["T_ELSE","else",71],["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n      ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","entity",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","book",72],"[",["T_CONSTANT_ENCAPSED_STRING","'original_bid'",72],"]",["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","entity",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","book",72],"[",["T_CONSTANT_ENCAPSED_STRING","'bid'",72],"]",";",["T_WHITESPACE","\n    ",72],"}",["T_WHITESPACE","\n\n    ",73],["T_COMMENT","\/\/ Find the depth limit for the parent select.\n",75],["T_WHITESPACE","    ",76],["T_IF","if",76],["T_WHITESPACE"," ",76],"(","!",["T_ISSET","isset",76],"(",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","entity",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","book",76],"[",["T_CONSTANT_ENCAPSED_STRING","'parent_depth_limit'",76],"]",")",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n      ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","entity",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","book",77],"[",["T_CONSTANT_ENCAPSED_STRING","'parent_depth_limit'",77],"]",["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","bookManager",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getParentDepthLimit",77],"(",["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","entity",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","book",77],")",";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$form",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","bookManager",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","addFormElements",79],"(",["T_VARIABLE","$form",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$form_state",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","entity",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","currentUser",79],"(",")",",",["T_WHITESPACE"," ",79],["T_STRING","FALSE",79],")",";",["T_WHITESPACE","\n\n    ",79],["T_RETURN","return",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$form",81],";",["T_WHITESPACE","\n  ",81],"}",["T_WHITESPACE","\n\n  ",82],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",84],["T_WHITESPACE","\n  ",86],["T_PROTECTED","protected",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","actions",87],"(",["T_ARRAY","array",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$form",87],",",["T_WHITESPACE"," ",87],["T_STRING","FormStateInterface",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$form_state",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$actions",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_STRING","parent",88],["T_DOUBLE_COLON","::",88],["T_STRING","actions",88],"(",["T_VARIABLE","$form",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$form_state",88],")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$actions",89],"[",["T_CONSTANT_ENCAPSED_STRING","'submit'",89],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#value'",89],"]",["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","entity",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","book",89],"[",["T_CONSTANT_ENCAPSED_STRING","'original_bid'",89],"]",["T_WHITESPACE"," ",89],"?",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","t",89],"(",["T_CONSTANT_ENCAPSED_STRING","'Update book outline'",89],")",["T_WHITESPACE"," ",89],":",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","t",89],"(",["T_CONSTANT_ENCAPSED_STRING","'Add to book outline'",89],")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$actions",90],"[",["T_CONSTANT_ENCAPSED_STRING","'delete'",90],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#title'",90],"]",["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","t",90],"(",["T_CONSTANT_ENCAPSED_STRING","'Remove from book outline'",90],")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$actions",91],"[",["T_CONSTANT_ENCAPSED_STRING","'delete'",91],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#url'",91],"]",["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_NEW","new",91],["T_WHITESPACE"," ",91],["T_STRING","Url",91],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.node.book_remove_form'",91],",",["T_WHITESPACE"," ",91],"[",["T_CONSTANT_ENCAPSED_STRING","'node'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","entity",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","book",91],"[",["T_CONSTANT_ENCAPSED_STRING","'nid'",91],"]","]",")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$actions",92],"[",["T_CONSTANT_ENCAPSED_STRING","'delete'",92],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#access'",92],"]",["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","bookManager",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","checkNodeIsRemovable",92],"(",["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","entity",92],")",";",["T_WHITESPACE","\n    ",92],["T_RETURN","return",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$actions",93],";",["T_WHITESPACE","\n  ",93],"}",["T_WHITESPACE","\n\n  ",94],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",96],["T_WHITESPACE","\n  ",98],["T_PUBLIC","public",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","save",99],"(",["T_ARRAY","array",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$form",99],",",["T_WHITESPACE"," ",99],["T_STRING","FormStateInterface",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$form_state",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$form_state",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","setRedirect",100],"(",["T_WHITESPACE","\n      ",100],["T_CONSTANT_ENCAPSED_STRING","'entity.node.canonical'",101],",",["T_WHITESPACE","\n      ",101],["T_ARRAY","array",102],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","entity",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","id",102],"(",")",")",["T_WHITESPACE","\n    ",102],")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$book_link",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$form_state",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getValue",104],"(",["T_CONSTANT_ENCAPSED_STRING","'book'",104],")",";",["T_WHITESPACE","\n    ",104],["T_IF","if",105],["T_WHITESPACE"," ",105],"(","!",["T_VARIABLE","$book_link",105],"[",["T_CONSTANT_ENCAPSED_STRING","'bid'",105],"]",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n      ",105],["T_STRING","drupal_set_message",106],"(",["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","t",106],"(",["T_CONSTANT_ENCAPSED_STRING","'No changes were made'",106],")",")",";",["T_WHITESPACE","\n      ",106],["T_RETURN","return",107],";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","entity",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","book",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$book_link",110],";",["T_WHITESPACE","\n    ",110],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","bookManager",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","updateOutline",111],"(",["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","entity",111],")",")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n      ",111],["T_IF","if",112],["T_WHITESPACE"," ",112],"(",["T_ISSET","isset",112],"(",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","entity",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","book",112],"[",["T_CONSTANT_ENCAPSED_STRING","'parent_mismatch'",112],"]",")",["T_WHITESPACE"," ",112],["T_BOOLEAN_AND","&&",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","entity",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","book",112],"[",["T_CONSTANT_ENCAPSED_STRING","'parent_mismatch'",112],"]",")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n        ",112],["T_COMMENT","\/\/ This will usually only happen when JS is disabled.\n",113],["T_WHITESPACE","        ",114],["T_STRING","drupal_set_message",114],"(",["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","t",114],"(",["T_CONSTANT_ENCAPSED_STRING","'The post has been added to the selected book. You may now position it relative to other pages.'",114],")",")",";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$form_state",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","setRedirectUrl",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","entity",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","urlInfo",115],"(",["T_CONSTANT_ENCAPSED_STRING","'book-outline-form'",115],")",")",";",["T_WHITESPACE","\n      ",115],"}",["T_WHITESPACE","\n      ",116],["T_ELSE","else",117],["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n        ",117],["T_STRING","drupal_set_message",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","t",118],"(",["T_CONSTANT_ENCAPSED_STRING","'The book outline has been updated.'",118],")",")",";",["T_WHITESPACE","\n      ",118],"}",["T_WHITESPACE","\n    ",119],"}",["T_WHITESPACE","\n    ",120],["T_ELSE","else",121],["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n      ",121],["T_STRING","drupal_set_message",122],"(",["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","t",122],"(",["T_CONSTANT_ENCAPSED_STRING","'There was an error adding the post to the book.'",122],")",",",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'error'",122],")",";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n  ",123],"}",["T_WHITESPACE","\n\n",124],"}",["T_WHITESPACE","\n",126]]