[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","field_ui",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Provides common functionality for the Field UI test classes.\n *\/",5],["T_WHITESPACE","\n",7],["T_TRAIT","trait",8],["T_WHITESPACE"," ",8],["T_STRING","FieldUiTestTrait",8],["T_WHITESPACE"," ",8],"{",["T_WHITESPACE","\n\n  ",8],["T_DOC_COMMENT","\/**\n   * Creates a new field through the Field UI.\n   *\n   * @param string $bundle_path\n   *   Admin path of the bundle that the new field is to be attached to.\n   * @param string $field_name\n   *   The field name of the new field storage.\n   * @param string $label\n   *   (optional) The label of the new field. Defaults to a random string.\n   * @param string $field_type\n   *   (optional) The field type of the new field storage. Defaults to\n   *   'test_field'.\n   * @param array $storage_edit\n   *   (optional) $edit parameter for drupalPostForm() on the second step\n   *   ('Storage settings' form).\n   * @param array $field_edit\n   *   (optional) $edit parameter for drupalPostForm() on the third step ('Field\n   *   settings' form).\n   *\/",10],["T_WHITESPACE","\n  ",28],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","fieldUIAddNewField",29],"(",["T_VARIABLE","$bundle_path",29],",",["T_WHITESPACE"," ",29],["T_VARIABLE","$field_name",29],",",["T_WHITESPACE"," ",29],["T_VARIABLE","$label",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_STRING","NULL",29],",",["T_WHITESPACE"," ",29],["T_VARIABLE","$field_type",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'test_field'",29],",",["T_WHITESPACE"," ",29],["T_ARRAY","array",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$storage_edit",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_ARRAY","array",29],"(",")",",",["T_WHITESPACE"," ",29],["T_ARRAY","array",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$field_edit",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_ARRAY","array",29],"(",")",")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n    ",29],["T_VARIABLE","$label",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_VARIABLE","$label",30],["T_WHITESPACE"," ",30],"?",":",["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","randomString",30],"(",")",";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$initial_edit",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_ARRAY","array",31],"(",["T_WHITESPACE","\n      ",31],["T_CONSTANT_ENCAPSED_STRING","'new_storage_type'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$field_type",32],",",["T_WHITESPACE","\n      ",32],["T_CONSTANT_ENCAPSED_STRING","'label'",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$label",33],",",["T_WHITESPACE","\n      ",33],["T_CONSTANT_ENCAPSED_STRING","'field_name'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$field_name",34],",",["T_WHITESPACE","\n    ",34],")",";",["T_WHITESPACE","\n\n    ",35],["T_COMMENT","\/\/ Allow the caller to set a NULL path in case they navigated to the right\n",37],["T_WHITESPACE","    ",38],["T_COMMENT","\/\/ page before calling this method.\n",38],["T_WHITESPACE","    ",39],["T_IF","if",39],["T_WHITESPACE"," ",39],"(",["T_VARIABLE","$bundle_path",39],["T_WHITESPACE"," ",39],["T_IS_NOT_IDENTICAL","!==",39],["T_WHITESPACE"," ",39],["T_STRING","NULL",39],")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n      ",39],["T_VARIABLE","$bundle_path",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],"\"",["T_VARIABLE","$bundle_path",40],["T_ENCAPSED_AND_WHITESPACE","\/fields\/add-field",40],"\"",";",["T_WHITESPACE","\n    ",40],"}",["T_WHITESPACE","\n\n    ",41],["T_COMMENT","\/\/ First step: 'Add field' page.\n",43],["T_WHITESPACE","    ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","drupalPostForm",44],"(",["T_VARIABLE","$bundle_path",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$initial_edit",44],",",["T_WHITESPACE"," ",44],["T_STRING","t",44],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and continue'",44],")",")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","assertRaw",45],"(",["T_STRING","t",45],"(",["T_CONSTANT_ENCAPSED_STRING","'These settings apply to the %label field everywhere it is used.'",45],",",["T_WHITESPACE"," ",45],["T_ARRAY","array",45],"(",["T_CONSTANT_ENCAPSED_STRING","'%label'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$label",45],")",")",",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'Storage settings page was displayed.'",45],")",";",["T_WHITESPACE","\n    ",45],["T_COMMENT","\/\/ Test Breadcrumbs.\n",46],["T_WHITESPACE","    ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","assertLink",47],"(",["T_VARIABLE","$label",47],",",["T_WHITESPACE"," ",47],["T_LNUMBER","0",47],",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'Field label is correct in the breadcrumb of the storage settings page.'",47],")",";",["T_WHITESPACE","\n\n    ",47],["T_COMMENT","\/\/ Second step: 'Storage settings' form.\n",49],["T_WHITESPACE","    ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","drupalPostForm",50],"(",["T_STRING","NULL",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$storage_edit",50],",",["T_WHITESPACE"," ",50],["T_STRING","t",50],"(",["T_CONSTANT_ENCAPSED_STRING","'Save field settings'",50],")",")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertRaw",51],"(",["T_STRING","t",51],"(",["T_CONSTANT_ENCAPSED_STRING","'Updated field %label field settings.'",51],",",["T_WHITESPACE"," ",51],["T_ARRAY","array",51],"(",["T_CONSTANT_ENCAPSED_STRING","'%label'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$label",51],")",")",",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'Redirected to field settings page.'",51],")",";",["T_WHITESPACE","\n\n    ",51],["T_COMMENT","\/\/ Third step: 'Field settings' form.\n",53],["T_WHITESPACE","    ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","drupalPostForm",54],"(",["T_STRING","NULL",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$field_edit",54],",",["T_WHITESPACE"," ",54],["T_STRING","t",54],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",54],")",")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertRaw",55],"(",["T_STRING","t",55],"(",["T_CONSTANT_ENCAPSED_STRING","'Saved %label configuration.'",55],",",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",["T_CONSTANT_ENCAPSED_STRING","'%label'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$label",55],")",")",",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'Redirected to \"Manage fields\" page.'",55],")",";",["T_WHITESPACE","\n\n    ",55],["T_COMMENT","\/\/ Check that the field appears in the overview form.\n",57],["T_WHITESPACE","    ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","assertFieldByXPath",58],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/table[@id=\"field-overview\"]\/\/tr\/td[1]'",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$label",58],",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'Field was created and appears in the overview page.'",58],")",";",["T_WHITESPACE","\n  ",58],"}",["T_WHITESPACE","\n\n  ",59],["T_DOC_COMMENT","\/**\n   * Adds an existing field through the Field UI.\n   *\n   * @param string $bundle_path\n   *   Admin path of the bundle that the field is to be attached to.\n   * @param string $existing_storage_name\n   *   The name of the existing field storage for which we want to add a new\n   *   field.\n   * @param string $label\n   *   (optional) The label of the new field. Defaults to a random string.\n   * @param array $field_edit\n   *   (optional) $edit parameter for drupalPostForm() on the second step\n   *   ('Field settings' form).\n   *\/",61],["T_WHITESPACE","\n  ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","fieldUIAddExistingField",75],"(",["T_VARIABLE","$bundle_path",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$existing_storage_name",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$label",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","NULL",75],",",["T_WHITESPACE"," ",75],["T_ARRAY","array",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$field_edit",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_ARRAY","array",75],"(",")",")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$label",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$label",76],["T_WHITESPACE"," ",76],"?",":",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","randomString",76],"(",")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$initial_edit",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_ARRAY","array",77],"(",["T_WHITESPACE","\n      ",77],["T_CONSTANT_ENCAPSED_STRING","'existing_storage_name'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$existing_storage_name",78],",",["T_WHITESPACE","\n      ",78],["T_CONSTANT_ENCAPSED_STRING","'existing_storage_label'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$label",79],",",["T_WHITESPACE","\n    ",79],")",";",["T_WHITESPACE","\n\n    ",80],["T_COMMENT","\/\/ First step: 'Re-use existing field' on the 'Add field' page.\n",82],["T_WHITESPACE","    ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","drupalPostForm",83],"(","\"",["T_VARIABLE","$bundle_path",83],["T_ENCAPSED_AND_WHITESPACE","\/fields\/add-field",83],"\"",",",["T_WHITESPACE"," ",83],["T_VARIABLE","$initial_edit",83],",",["T_WHITESPACE"," ",83],["T_STRING","t",83],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and continue'",83],")",")",";",["T_WHITESPACE","\n    ",83],["T_COMMENT","\/\/ Set the main content to only the content region because the label can\n",84],["T_WHITESPACE","    ",85],["T_COMMENT","\/\/ contain HTML which will be auto-escaped by Twig.\n",85],["T_WHITESPACE","    ",86],["T_VARIABLE","$main_content",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","cssSelect",86],"(",["T_CONSTANT_ENCAPSED_STRING","'.region-content'",86],")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","setRawContent",87],"(",["T_STRING","reset",87],"(",["T_VARIABLE","$main_content",87],")",["T_OBJECT_OPERATOR","->",87],["T_STRING","asXml",87],"(",")",")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","assertRaw",88],"(",["T_CONSTANT_ENCAPSED_STRING","'field-config-edit-form'",88],",",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'The field config edit form is present.'",88],")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertNoRaw",89],"(",["T_CONSTANT_ENCAPSED_STRING","'&amp;lt;'",89],",",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'The page does not have double escaped HTML tags.'",89],")",";",["T_WHITESPACE","\n\n    ",89],["T_COMMENT","\/\/ Second step: 'Field settings' form.\n",91],["T_WHITESPACE","    ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","drupalPostForm",92],"(",["T_STRING","NULL",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$field_edit",92],",",["T_WHITESPACE"," ",92],["T_STRING","t",92],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",92],")",")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertRaw",93],"(",["T_STRING","t",93],"(",["T_CONSTANT_ENCAPSED_STRING","'Saved %label configuration.'",93],",",["T_WHITESPACE"," ",93],["T_ARRAY","array",93],"(",["T_CONSTANT_ENCAPSED_STRING","'%label'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$label",93],")",")",",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'Redirected to \"Manage fields\" page.'",93],")",";",["T_WHITESPACE","\n\n    ",93],["T_COMMENT","\/\/ Check that the field appears in the overview form.\n",95],["T_WHITESPACE","    ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","assertFieldByXPath",96],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/table[@id=\"field-overview\"]\/\/tr\/td[1]'",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$label",96],",",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'Field was created and appears in the overview page.'",96],")",";",["T_WHITESPACE","\n  ",96],"}",["T_WHITESPACE","\n\n  ",97],["T_DOC_COMMENT","\/**\n   * Deletes a field through the Field UI.\n   *\n   * @param string $bundle_path\n   *   Admin path of the bundle that the field is to be deleted from.\n   * @param string $field_name\n   *   The name of the field.\n   * @param string $label\n   *   The label of the field.\n   * @param string $bundle_label\n   *   The label of the bundle.\n   *\/",99],["T_WHITESPACE","\n  ",110],["T_PUBLIC","public",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","fieldUIDeleteField",111],"(",["T_VARIABLE","$bundle_path",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$field_name",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$label",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$bundle_label",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n    ",111],["T_COMMENT","\/\/ Display confirmation form.\n",112],["T_WHITESPACE","    ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","drupalGet",113],"(","\"",["T_VARIABLE","$bundle_path",113],["T_ENCAPSED_AND_WHITESPACE","\/fields\/",113],["T_VARIABLE","$field_name",113],["T_ENCAPSED_AND_WHITESPACE","\/delete",113],"\"",")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","assertRaw",114],"(",["T_STRING","t",114],"(",["T_CONSTANT_ENCAPSED_STRING","'Are you sure you want to delete the field %label'",114],",",["T_WHITESPACE"," ",114],["T_ARRAY","array",114],"(",["T_CONSTANT_ENCAPSED_STRING","'%label'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$label",114],")",")",",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'Delete confirmation was found.'",114],")",";",["T_WHITESPACE","\n\n    ",114],["T_COMMENT","\/\/ Test Breadcrumbs.\n",116],["T_WHITESPACE","    ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","assertLink",117],"(",["T_VARIABLE","$label",117],",",["T_WHITESPACE"," ",117],["T_LNUMBER","0",117],",",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'Field label is correct in the breadcrumb of the field delete page.'",117],")",";",["T_WHITESPACE","\n\n    ",117],["T_COMMENT","\/\/ Submit confirmation form.\n",119],["T_WHITESPACE","    ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","drupalPostForm",120],"(",["T_STRING","NULL",120],",",["T_WHITESPACE"," ",120],["T_ARRAY","array",120],"(",")",",",["T_WHITESPACE"," ",120],["T_STRING","t",120],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",120],")",")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","assertRaw",121],"(",["T_STRING","t",121],"(",["T_CONSTANT_ENCAPSED_STRING","'The field %label has been deleted from the %type content type.'",121],",",["T_WHITESPACE"," ",121],["T_ARRAY","array",121],"(",["T_CONSTANT_ENCAPSED_STRING","'%label'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$label",121],",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'%type'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$bundle_label",121],")",")",",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'Delete message was found.'",121],")",";",["T_WHITESPACE","\n\n    ",121],["T_COMMENT","\/\/ Check that the field does not appear in the overview form.\n",123],["T_WHITESPACE","    ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","assertNoFieldByXPath",124],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/table[@id=\"field-overview\"]\/\/span[@class=\"label-field\"]'",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$label",124],",",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'Field does not appear in the overview page.'",124],")",";",["T_WHITESPACE","\n  ",124],"}",["T_WHITESPACE","\n\n",125],"}",["T_WHITESPACE","\n",127]]