[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","field_ui",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","SafeMarkup",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Field",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FieldStorageDefinitionInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Language",7],["T_NS_SEPARATOR","\\",7],["T_STRING","LanguageInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","field",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Tests",8],["T_NS_SEPARATOR","\\",8],["T_STRING","EntityReference",8],["T_NS_SEPARATOR","\\",8],["T_STRING","EntityReferenceTestTrait",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","field",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","FieldConfig",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","field",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Entity",10],["T_NS_SEPARATOR","\\",10],["T_STRING","FieldStorageConfig",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","simpletest",11],["T_NS_SEPARATOR","\\",11],["T_STRING","WebTestBase",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","taxonomy",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Entity",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Vocabulary",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Tests the Field UI \"Manage fields\" screen.\n *\n * @group field_ui\n *\/",14],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","ManageFieldsTest",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_STRING","WebTestBase",19],["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n\n  ",19],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","FieldUiTestTrait",21],";",["T_WHITESPACE","\n  ",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","EntityReferenceTestTrait",22],";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * Modules to install.\n   *\n   * @var array\n   *\/",24],["T_WHITESPACE","\n  ",28],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_STATIC","static",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$modules",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_ARRAY","array",29],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",29],",",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'field_ui'",29],",",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'field_test'",29],",",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'taxonomy'",29],",",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'image'",29],",",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'block'",29],")",";",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * The ID of the custom content type created for testing.\n   *\n   * @var string\n   *\/",31],["T_WHITESPACE","\n  ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$contentType",36],";",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * The label for a random field to be created for testing.\n   *\n   * @var string\n   *\/",38],["T_WHITESPACE","\n  ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$fieldLabel",43],";",["T_WHITESPACE","\n\n  ",43],["T_DOC_COMMENT","\/**\n   * The input name of a random field to be created for testing.\n   *\n   * @var string\n   *\/",45],["T_WHITESPACE","\n  ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$fieldNameInput",50],";",["T_WHITESPACE","\n\n  ",50],["T_DOC_COMMENT","\/**\n   * The name of a random field to be created for testing.\n   *\n   * @var string\n   *\/",52],["T_WHITESPACE","\n  ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$fieldName",57],";",["T_WHITESPACE","\n\n  ",57],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",59],["T_WHITESPACE","\n  ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","setUp",62],"(",")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n    ",62],["T_STRING","parent",63],["T_DOUBLE_COLON","::",63],["T_STRING","setUp",63],"(",")",";",["T_WHITESPACE","\n\n    ",63],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","drupalPlaceBlock",65],"(",["T_CONSTANT_ENCAPSED_STRING","'system_breadcrumb_block'",65],")",";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","drupalPlaceBlock",66],"(",["T_CONSTANT_ENCAPSED_STRING","'local_actions_block'",66],")",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","drupalPlaceBlock",67],"(",["T_CONSTANT_ENCAPSED_STRING","'local_tasks_block'",67],")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","drupalPlaceBlock",68],"(",["T_CONSTANT_ENCAPSED_STRING","'page_title_block'",68],")",";",["T_WHITESPACE","\n\n    ",68],["T_COMMENT","\/\/ Create a test user.\n",70],["T_WHITESPACE","    ",71],["T_VARIABLE","$admin_user",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","drupalCreateUser",71],"(",["T_ARRAY","array",71],"(",["T_CONSTANT_ENCAPSED_STRING","'access content'",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'administer content types'",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'administer node fields'",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'administer node form display'",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'administer node display'",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'administer taxonomy'",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'administer taxonomy_term fields'",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'administer taxonomy_term display'",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'administer users'",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'administer account settings'",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'administer user display'",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'bypass node access'",71],")",")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","drupalLogin",72],"(",["T_VARIABLE","$admin_user",72],")",";",["T_WHITESPACE","\n\n    ",72],["T_COMMENT","\/\/ Create content type, with underscores.\n",74],["T_WHITESPACE","    ",75],["T_VARIABLE","$type_name",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","strtolower",75],"(",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","randomMachineName",75],"(",["T_LNUMBER","8",75],")",")",["T_WHITESPACE"," ",75],".",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'_test'",75],";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$type",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","drupalCreateContentType",76],"(",["T_ARRAY","array",76],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$type_name",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'type'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$type_name",76],")",")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","contentType",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$type",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","id",77],"(",")",";",["T_WHITESPACE","\n\n    ",77],["T_COMMENT","\/\/ Create random field name with markup to test escaping.\n",79],["T_WHITESPACE","    ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","fieldLabel",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'<em>'",80],["T_WHITESPACE"," ",80],".",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","randomMachineName",80],"(",["T_LNUMBER","8",80],")",["T_WHITESPACE"," ",80],".",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'<\/em>'",80],";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","fieldNameInput",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","strtolower",81],"(",["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","randomMachineName",81],"(",["T_LNUMBER","8",81],")",")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","fieldName",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'field_'",82],["T_WHITESPACE"," ",82],".",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","fieldNameInput",82],";",["T_WHITESPACE","\n\n    ",82],["T_COMMENT","\/\/ Create Basic page and Article node types.\n",84],["T_WHITESPACE","    ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","drupalCreateContentType",85],"(",["T_ARRAY","array",85],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'page'",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'name'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'Basic page'",85],")",")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","drupalCreateContentType",86],"(",["T_ARRAY","array",86],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'article'",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'name'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'Article'",86],")",")",";",["T_WHITESPACE","\n\n    ",86],["T_COMMENT","\/\/ Create a vocabulary named \"Tags\".\n",88],["T_WHITESPACE","    ",89],["T_VARIABLE","$vocabulary",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_STRING","Vocabulary",89],["T_DOUBLE_COLON","::",89],["T_STRING","create",89],"(",["T_ARRAY","array",89],"(",["T_WHITESPACE","\n      ",89],["T_CONSTANT_ENCAPSED_STRING","'name'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'Tags'",90],",",["T_WHITESPACE","\n      ",90],["T_CONSTANT_ENCAPSED_STRING","'vid'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'tags'",91],",",["T_WHITESPACE","\n      ",91],["T_CONSTANT_ENCAPSED_STRING","'langcode'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_STRING","LanguageInterface",92],["T_DOUBLE_COLON","::",92],["T_STRING","LANGCODE_NOT_SPECIFIED",92],",",["T_WHITESPACE","\n    ",92],")",")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$vocabulary",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","save",94],"(",")",";",["T_WHITESPACE","\n\n    ",94],["T_VARIABLE","$handler_settings",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_ARRAY","array",96],"(",["T_WHITESPACE","\n      ",96],["T_CONSTANT_ENCAPSED_STRING","'target_bundles'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_ARRAY","array",97],"(",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$vocabulary",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","id",98],"(",")",["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$vocabulary",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","id",98],"(",")",",",["T_WHITESPACE","\n      ",98],")",",",["T_WHITESPACE","\n    ",99],")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","createEntityReferenceField",101],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'article'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'field_'",101],["T_WHITESPACE"," ",101],".",["T_WHITESPACE"," ",101],["T_VARIABLE","$vocabulary",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","id",101],"(",")",",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'Tags'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'default'",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$handler_settings",101],")",";",["T_WHITESPACE","\n\n    ",101],["T_STRING","entity_get_form_display",103],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",103],",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'article'",103],",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'default'",103],")",["T_WHITESPACE","\n      ",103],["T_OBJECT_OPERATOR","->",104],["T_STRING","setComponent",104],"(",["T_CONSTANT_ENCAPSED_STRING","'field_'",104],["T_WHITESPACE"," ",104],".",["T_WHITESPACE"," ",104],["T_VARIABLE","$vocabulary",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","id",104],"(",")",")",["T_WHITESPACE","\n      ",104],["T_OBJECT_OPERATOR","->",105],["T_STRING","save",105],"(",")",";",["T_WHITESPACE","\n  ",105],"}",["T_WHITESPACE","\n\n  ",106],["T_DOC_COMMENT","\/**\n   * Runs the field CRUD tests.\n   *\n   * In order to act on the same fields, and not create the fields over and over\n   * again the following tests create, update and delete the same fields.\n   *\/",108],["T_WHITESPACE","\n  ",113],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","testCRUDFields",114],"(",")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","manageFieldsPage",115],"(",")",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","createField",116],"(",")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","updateField",117],"(",")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","addExistingField",118],"(",")",";",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","cardinalitySettings",119],"(",")",";",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","fieldListAdminPage",120],"(",")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","deleteField",121],"(",")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","addPersistentFieldStorage",122],"(",")",";",["T_WHITESPACE","\n  ",122],"}",["T_WHITESPACE","\n\n  ",123],["T_DOC_COMMENT","\/**\n   * Tests the manage fields page.\n   *\n   * @param string $type\n   *   (optional) The name of a content type.\n   *\/",125],["T_WHITESPACE","\n  ",130],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","manageFieldsPage",131],"(",["T_VARIABLE","$type",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","''",131],")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n    ",131],["T_VARIABLE","$type",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_EMPTY","empty",132],"(",["T_VARIABLE","$type",132],")",["T_WHITESPACE"," ",132],"?",["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","contentType",132],["T_WHITESPACE"," ",132],":",["T_WHITESPACE"," ",132],["T_VARIABLE","$type",132],";",["T_WHITESPACE","\n    ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","drupalGet",133],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",133],["T_WHITESPACE"," ",133],".",["T_WHITESPACE"," ",133],["T_VARIABLE","$type",133],["T_WHITESPACE"," ",133],".",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'\/fields'",133],")",";",["T_WHITESPACE","\n    ",133],["T_COMMENT","\/\/ Check all table columns.\n",134],["T_WHITESPACE","    ",135],["T_VARIABLE","$table_headers",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_ARRAY","array",135],"(",["T_WHITESPACE","\n      ",135],["T_STRING","t",136],"(",["T_CONSTANT_ENCAPSED_STRING","'Label'",136],")",",",["T_WHITESPACE","\n      ",136],["T_STRING","t",137],"(",["T_CONSTANT_ENCAPSED_STRING","'Machine name'",137],")",",",["T_WHITESPACE","\n      ",137],["T_STRING","t",138],"(",["T_CONSTANT_ENCAPSED_STRING","'Field type'",138],")",",",["T_WHITESPACE","\n      ",138],["T_STRING","t",139],"(",["T_CONSTANT_ENCAPSED_STRING","'Operations'",139],")",",",["T_WHITESPACE","\n    ",139],")",";",["T_WHITESPACE","\n    ",140],["T_FOREACH","foreach",141],["T_WHITESPACE"," ",141],"(",["T_VARIABLE","$table_headers",141],["T_WHITESPACE"," ",141],["T_AS","as",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$table_header",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n      ",141],["T_COMMENT","\/\/ We check that the label appear in the table headings.\n",142],["T_WHITESPACE","      ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","assertRaw",143],"(",["T_VARIABLE","$table_header",143],["T_WHITESPACE"," ",143],".",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'<\/th>'",143],",",["T_WHITESPACE"," ",143],["T_STRING","format_string",143],"(",["T_CONSTANT_ENCAPSED_STRING","'%table_header table header was found.'",143],",",["T_WHITESPACE"," ",143],["T_ARRAY","array",143],"(",["T_CONSTANT_ENCAPSED_STRING","'%table_header'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$table_header",143],")",")",")",";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n\n    ",144],["T_COMMENT","\/\/ Test the \"Add field\" action link.\n",146],["T_WHITESPACE","    ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","assertLink",147],"(",["T_CONSTANT_ENCAPSED_STRING","'Add field'",147],")",";",["T_WHITESPACE","\n\n    ",147],["T_COMMENT","\/\/ Assert entity operations for all fields.\n",149],["T_WHITESPACE","    ",150],["T_VARIABLE","$number_of_links",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_LNUMBER","3",150],";",["T_WHITESPACE","\n    ",150],["T_VARIABLE","$number_of_links_found",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_LNUMBER","0",151],";",["T_WHITESPACE","\n    ",151],["T_VARIABLE","$operation_links",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","xpath",152],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/ul[@class = \"dropbutton\"]\/li\/a'",152],")",";",["T_WHITESPACE","\n    ",152],["T_VARIABLE","$url",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_STRING","base_path",153],"(",")",["T_WHITESPACE"," ",153],".",["T_WHITESPACE"," ",153],"\"",["T_ENCAPSED_AND_WHITESPACE","admin\/structure\/types\/manage\/",153],["T_VARIABLE","$type",153],["T_ENCAPSED_AND_WHITESPACE","\/fields\/node.",153],["T_VARIABLE","$type",153],["T_ENCAPSED_AND_WHITESPACE",".body",153],"\"",";",["T_WHITESPACE","\n\n    ",153],["T_FOREACH","foreach",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$operation_links",155],["T_WHITESPACE"," ",155],["T_AS","as",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$link",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n      ",155],["T_SWITCH","switch",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$link",156],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",156],"]",")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n        ",156],["T_CASE","case",157],["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'Edit field settings.'",157],":",["T_WHITESPACE","\n          ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","assertIdentical",158],"(",["T_VARIABLE","$url",158],",",["T_WHITESPACE"," ",158],["T_STRING_CAST","(string)",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$link",158],"[",["T_CONSTANT_ENCAPSED_STRING","'href'",158],"]",")",";",["T_WHITESPACE","\n          ",158],["T_VARIABLE","$number_of_links_found",159],["T_INC","++",159],";",["T_WHITESPACE","\n          ",159],["T_BREAK","break",160],";",["T_WHITESPACE","\n        ",160],["T_CASE","case",161],["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'Edit storage settings.'",161],":",["T_WHITESPACE","\n          ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","assertIdentical",162],"(","\"",["T_VARIABLE","$url",162],["T_ENCAPSED_AND_WHITESPACE","\/storage",162],"\"",",",["T_WHITESPACE"," ",162],["T_STRING_CAST","(string)",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$link",162],"[",["T_CONSTANT_ENCAPSED_STRING","'href'",162],"]",")",";",["T_WHITESPACE","\n          ",162],["T_VARIABLE","$number_of_links_found",163],["T_INC","++",163],";",["T_WHITESPACE","\n          ",163],["T_BREAK","break",164],";",["T_WHITESPACE","\n        ",164],["T_CASE","case",165],["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'Delete field.'",165],":",["T_WHITESPACE","\n          ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","assertIdentical",166],"(","\"",["T_VARIABLE","$url",166],["T_ENCAPSED_AND_WHITESPACE","\/delete",166],"\"",",",["T_WHITESPACE"," ",166],["T_STRING_CAST","(string)",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$link",166],"[",["T_CONSTANT_ENCAPSED_STRING","'href'",166],"]",")",";",["T_WHITESPACE","\n          ",166],["T_VARIABLE","$number_of_links_found",167],["T_INC","++",167],";",["T_WHITESPACE","\n          ",167],["T_BREAK","break",168],";",["T_WHITESPACE","\n      ",168],"}",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n\n    ",170],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","assertEqual",172],"(",["T_VARIABLE","$number_of_links",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$number_of_links_found",172],")",";",["T_WHITESPACE","\n  ",172],"}",["T_WHITESPACE","\n\n  ",173],["T_DOC_COMMENT","\/**\n   * Tests adding a new field.\n   *\n   * @todo Assert properties can bet set in the form and read back in\n   * $field_storage and $fields.\n   *\/",175],["T_WHITESPACE","\n  ",180],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","createField",181],"(",")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n    ",181],["T_COMMENT","\/\/ Create a test field.\n",182],["T_WHITESPACE","    ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","fieldUIAddNewField",183],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",183],["T_WHITESPACE"," ",183],".",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","contentType",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","fieldNameInput",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","fieldLabel",183],")",";",["T_WHITESPACE","\n  ",183],"}",["T_WHITESPACE","\n\n  ",184],["T_DOC_COMMENT","\/**\n   * Tests editing an existing field.\n   *\/",186],["T_WHITESPACE","\n  ",188],["T_FUNCTION","function",189],["T_WHITESPACE"," ",189],["T_STRING","updateField",189],"(",")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n    ",189],["T_VARIABLE","$field_id",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'node.'",190],["T_WHITESPACE"," ",190],".",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","contentType",190],["T_WHITESPACE"," ",190],".",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'.'",190],["T_WHITESPACE"," ",190],".",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","fieldName",190],";",["T_WHITESPACE","\n    ",190],["T_COMMENT","\/\/ Go to the field edit page.\n",191],["T_WHITESPACE","    ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","drupalGet",192],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",192],["T_WHITESPACE"," ",192],".",["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","contentType",192],["T_WHITESPACE"," ",192],".",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/'",192],["T_WHITESPACE"," ",192],".",["T_WHITESPACE"," ",192],["T_VARIABLE","$field_id",192],["T_WHITESPACE"," ",192],".",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'\/storage'",192],")",";",["T_WHITESPACE","\n    ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","assertEscaped",193],"(",["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","fieldLabel",193],")",";",["T_WHITESPACE","\n\n    ",193],["T_COMMENT","\/\/ Populate the field settings with new settings.\n",195],["T_WHITESPACE","    ",196],["T_VARIABLE","$string",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'updated dummy test string'",196],";",["T_WHITESPACE","\n    ",196],["T_VARIABLE","$edit",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_ARRAY","array",197],"(",["T_WHITESPACE","\n      ",197],["T_CONSTANT_ENCAPSED_STRING","'settings[test_field_storage_setting]'",198],["T_WHITESPACE"," ",198],["T_DOUBLE_ARROW","=>",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$string",198],",",["T_WHITESPACE","\n    ",198],")",";",["T_WHITESPACE","\n    ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","drupalPostForm",200],"(",["T_STRING","NULL",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$edit",200],",",["T_WHITESPACE"," ",200],["T_STRING","t",200],"(",["T_CONSTANT_ENCAPSED_STRING","'Save field settings'",200],")",")",";",["T_WHITESPACE","\n\n    ",200],["T_COMMENT","\/\/ Go to the field edit page.\n",202],["T_WHITESPACE","    ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","drupalGet",203],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",203],["T_WHITESPACE"," ",203],".",["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","contentType",203],["T_WHITESPACE"," ",203],".",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/'",203],["T_WHITESPACE"," ",203],".",["T_WHITESPACE"," ",203],["T_VARIABLE","$field_id",203],")",";",["T_WHITESPACE","\n    ",203],["T_VARIABLE","$edit",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_ARRAY","array",204],"(",["T_WHITESPACE","\n      ",204],["T_CONSTANT_ENCAPSED_STRING","'settings[test_field_setting]'",205],["T_WHITESPACE"," ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$string",205],",",["T_WHITESPACE","\n    ",205],")",";",["T_WHITESPACE","\n    ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","assertText",207],"(",["T_STRING","t",207],"(",["T_CONSTANT_ENCAPSED_STRING","'Default value'",207],")",",",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'Default value heading is shown'",207],")",";",["T_WHITESPACE","\n    ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","drupalPostForm",208],"(",["T_STRING","NULL",208],",",["T_WHITESPACE"," ",208],["T_VARIABLE","$edit",208],",",["T_WHITESPACE"," ",208],["T_STRING","t",208],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",208],")",")",";",["T_WHITESPACE","\n\n    ",208],["T_COMMENT","\/\/ Assert the field settings are correct.\n",210],["T_WHITESPACE","    ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","assertFieldSettings",211],"(",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","contentType",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","fieldName",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$string",211],")",";",["T_WHITESPACE","\n\n    ",211],["T_COMMENT","\/\/ Assert redirection back to the \"manage fields\" page.\n",213],["T_WHITESPACE","    ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","assertUrl",214],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",214],["T_WHITESPACE"," ",214],".",["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","contentType",214],["T_WHITESPACE"," ",214],".",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'\/fields'",214],")",";",["T_WHITESPACE","\n  ",214],"}",["T_WHITESPACE","\n\n  ",215],["T_DOC_COMMENT","\/**\n   * Tests adding an existing field in another content type.\n   *\/",217],["T_WHITESPACE","\n  ",219],["T_FUNCTION","function",220],["T_WHITESPACE"," ",220],["T_STRING","addExistingField",220],"(",")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n    ",220],["T_COMMENT","\/\/ Check \"Re-use existing field\" appears.\n",221],["T_WHITESPACE","    ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","drupalGet",222],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/page\/fields\/add-field'",222],")",";",["T_WHITESPACE","\n    ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","assertRaw",223],"(",["T_STRING","t",223],"(",["T_CONSTANT_ENCAPSED_STRING","'Re-use an existing field'",223],")",",",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'\"Re-use existing field\" was found.'",223],")",";",["T_WHITESPACE","\n\n    ",223],["T_COMMENT","\/\/ Check that fields of other entity types (here, the 'comment_body' field)\n",225],["T_WHITESPACE","    ",226],["T_COMMENT","\/\/ do not show up in the \"Re-use existing field\" list.\n",226],["T_WHITESPACE","    ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","assertFalse",227],"(",["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","xpath",227],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/select[@id=\"edit-existing-storage-name\"]\/\/option[@value=\"comment\"]'",227],")",",",["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","'The list of options respects entity type restrictions.'",227],")",";",["T_WHITESPACE","\n    ",227],["T_COMMENT","\/\/ Validate the FALSE assertion above by also testing a valid one.\n",228],["T_WHITESPACE","    ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","assertTrue",229],"(",["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","xpath",229],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/select[@id=\"edit-existing-storage-name\"]\/\/option[@value=:field_name]'",229],",",["T_WHITESPACE"," ",229],["T_ARRAY","array",229],"(",["T_CONSTANT_ENCAPSED_STRING","':field_name'",229],["T_WHITESPACE"," ",229],["T_DOUBLE_ARROW","=>",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","fieldName",229],")",")",",",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'The list of options shows a valid option.'",229],")",";",["T_WHITESPACE","\n\n    ",229],["T_COMMENT","\/\/ Add a new field based on an existing field.\n",231],["T_WHITESPACE","    ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","fieldUIAddExistingField",232],"(",["T_CONSTANT_ENCAPSED_STRING","\"admin\/structure\/types\/manage\/page\"",232],",",["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","fieldName",232],",",["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","fieldLabel",232],["T_WHITESPACE"," ",232],".",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'_2'",232],")",";",["T_WHITESPACE","\n  ",232],"}",["T_WHITESPACE","\n\n  ",233],["T_DOC_COMMENT","\/**\n   * Tests the cardinality settings of a field.\n   *\n   * We do not test if the number can be submitted with anything else than a\n   * numeric value. That is tested already in FormTest::testNumber().\n   *\/",235],["T_WHITESPACE","\n  ",240],["T_FUNCTION","function",241],["T_WHITESPACE"," ",241],["T_STRING","cardinalitySettings",241],"(",")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n    ",241],["T_VARIABLE","$field_edit_path",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/article\/fields\/node.article.body\/storage'",242],";",["T_WHITESPACE","\n\n    ",242],["T_COMMENT","\/\/ Assert the cardinality other field cannot be empty when cardinality is\n",244],["T_WHITESPACE","    ",245],["T_COMMENT","\/\/ set to 'number'.\n",245],["T_WHITESPACE","    ",246],["T_VARIABLE","$edit",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_ARRAY","array",246],"(",["T_WHITESPACE","\n      ",246],["T_CONSTANT_ENCAPSED_STRING","'cardinality'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","'number'",247],",",["T_WHITESPACE","\n      ",247],["T_CONSTANT_ENCAPSED_STRING","'cardinality_number'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","''",248],",",["T_WHITESPACE","\n    ",248],")",";",["T_WHITESPACE","\n    ",249],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","drupalPostForm",250],"(",["T_VARIABLE","$field_edit_path",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$edit",250],",",["T_WHITESPACE"," ",250],["T_STRING","t",250],"(",["T_CONSTANT_ENCAPSED_STRING","'Save field settings'",250],")",")",";",["T_WHITESPACE","\n    ",250],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","assertText",251],"(",["T_CONSTANT_ENCAPSED_STRING","'Number of values is required.'",251],")",";",["T_WHITESPACE","\n\n    ",251],["T_COMMENT","\/\/ Submit a custom number.\n",253],["T_WHITESPACE","    ",254],["T_VARIABLE","$edit",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_ARRAY","array",254],"(",["T_WHITESPACE","\n      ",254],["T_CONSTANT_ENCAPSED_STRING","'cardinality'",255],["T_WHITESPACE"," ",255],["T_DOUBLE_ARROW","=>",255],["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","'number'",255],",",["T_WHITESPACE","\n      ",255],["T_CONSTANT_ENCAPSED_STRING","'cardinality_number'",256],["T_WHITESPACE"," ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],["T_LNUMBER","6",256],",",["T_WHITESPACE","\n    ",256],")",";",["T_WHITESPACE","\n    ",257],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","drupalPostForm",258],"(",["T_VARIABLE","$field_edit_path",258],",",["T_WHITESPACE"," ",258],["T_VARIABLE","$edit",258],",",["T_WHITESPACE"," ",258],["T_STRING","t",258],"(",["T_CONSTANT_ENCAPSED_STRING","'Save field settings'",258],")",")",";",["T_WHITESPACE","\n    ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","assertText",259],"(",["T_CONSTANT_ENCAPSED_STRING","'Updated field Body field settings.'",259],")",";",["T_WHITESPACE","\n    ",259],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","drupalGet",260],"(",["T_VARIABLE","$field_edit_path",260],")",";",["T_WHITESPACE","\n    ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","assertFieldByXPath",261],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/select[@name='cardinality']\"",261],",",["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","'number'",261],")",";",["T_WHITESPACE","\n    ",261],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","assertFieldByXPath",262],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/input[@name='cardinality_number']\"",262],",",["T_WHITESPACE"," ",262],["T_LNUMBER","6",262],")",";",["T_WHITESPACE","\n\n    ",262],["T_COMMENT","\/\/ Check that tabs displayed.\n",264],["T_WHITESPACE","    ",265],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","assertLink",265],"(",["T_STRING","t",265],"(",["T_CONSTANT_ENCAPSED_STRING","'Edit'",265],")",")",";",["T_WHITESPACE","\n    ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","assertLinkByHref",266],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/article\/fields\/node.article.body'",266],")",";",["T_WHITESPACE","\n    ",266],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","assertLink",267],"(",["T_STRING","t",267],"(",["T_CONSTANT_ENCAPSED_STRING","'Field settings'",267],")",")",";",["T_WHITESPACE","\n    ",267],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","assertLinkByHref",268],"(",["T_VARIABLE","$field_edit_path",268],")",";",["T_WHITESPACE","\n\n    ",268],["T_COMMENT","\/\/ Add two entries in the body.\n",270],["T_WHITESPACE","    ",271],["T_VARIABLE","$edit",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],"[",["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",271],["T_WHITESPACE"," ",271],["T_DOUBLE_ARROW","=>",271],["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","'Cardinality'",271],",",["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","'body[0][value]'",271],["T_WHITESPACE"," ",271],["T_DOUBLE_ARROW","=>",271],["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","'Body 1'",271],",",["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","'body[1][value]'",271],["T_WHITESPACE"," ",271],["T_DOUBLE_ARROW","=>",271],["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","'Body 2'",271],"]",";",["T_WHITESPACE","\n    ",271],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","drupalPostForm",272],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/add\/article'",272],",",["T_WHITESPACE"," ",272],["T_VARIABLE","$edit",272],",",["T_WHITESPACE"," ",272],["T_CONSTANT_ENCAPSED_STRING","'Save'",272],")",";",["T_WHITESPACE","\n\n    ",272],["T_COMMENT","\/\/ Assert that you can't set the cardinality to a lower number than the\n",274],["T_WHITESPACE","    ",275],["T_COMMENT","\/\/ highest delta of this field.\n",275],["T_WHITESPACE","    ",276],["T_VARIABLE","$edit",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],"[",["T_WHITESPACE","\n      ",276],["T_CONSTANT_ENCAPSED_STRING","'cardinality'",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'number'",277],",",["T_WHITESPACE","\n      ",277],["T_CONSTANT_ENCAPSED_STRING","'cardinality_number'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_LNUMBER","1",278],",",["T_WHITESPACE","\n    ",278],"]",";",["T_WHITESPACE","\n    ",279],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","drupalPostForm",280],"(",["T_VARIABLE","$field_edit_path",280],",",["T_WHITESPACE"," ",280],["T_VARIABLE","$edit",280],",",["T_WHITESPACE"," ",280],["T_STRING","t",280],"(",["T_CONSTANT_ENCAPSED_STRING","'Save field settings'",280],")",")",";",["T_WHITESPACE","\n    ",280],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","assertRaw",281],"(",["T_STRING","t",281],"(",["T_CONSTANT_ENCAPSED_STRING","'There is @count entity with @delta or more values in this field.'",281],",",["T_WHITESPACE"," ",281],"[",["T_CONSTANT_ENCAPSED_STRING","'@count'",281],["T_WHITESPACE"," ",281],["T_DOUBLE_ARROW","=>",281],["T_WHITESPACE"," ",281],["T_LNUMBER","1",281],",",["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","'@delta'",281],["T_WHITESPACE"," ",281],["T_DOUBLE_ARROW","=>",281],["T_WHITESPACE"," ",281],["T_LNUMBER","2",281],"]",")",",",["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","'Correctly failed to set cardinality lower than highest delta.'",281],")",";",["T_WHITESPACE","\n\n    ",281],["T_COMMENT","\/\/ Create a second entity with three values.\n",283],["T_WHITESPACE","    ",284],["T_VARIABLE","$edit",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],"[",["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",284],["T_WHITESPACE"," ",284],["T_DOUBLE_ARROW","=>",284],["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'Cardinality 3'",284],",",["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'body[0][value]'",284],["T_WHITESPACE"," ",284],["T_DOUBLE_ARROW","=>",284],["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'Body 1'",284],",",["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'body[1][value]'",284],["T_WHITESPACE"," ",284],["T_DOUBLE_ARROW","=>",284],["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'Body 2'",284],",",["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'body[2][value]'",284],["T_WHITESPACE"," ",284],["T_DOUBLE_ARROW","=>",284],["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'Body 3'",284],"]",";",["T_WHITESPACE","\n    ",284],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","drupalPostForm",285],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/add\/article'",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$edit",285],",",["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","'Save'",285],")",";",["T_WHITESPACE","\n\n    ",285],["T_COMMENT","\/\/ Set to unlimited.\n",287],["T_WHITESPACE","    ",288],["T_VARIABLE","$edit",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_ARRAY","array",288],"(",["T_WHITESPACE","\n      ",288],["T_CONSTANT_ENCAPSED_STRING","'cardinality'",289],["T_WHITESPACE"," ",289],["T_DOUBLE_ARROW","=>",289],["T_WHITESPACE"," ",289],["T_STRING","FieldStorageDefinitionInterface",289],["T_DOUBLE_COLON","::",289],["T_STRING","CARDINALITY_UNLIMITED",289],",",["T_WHITESPACE","\n    ",289],")",";",["T_WHITESPACE","\n    ",290],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","drupalPostForm",291],"(",["T_VARIABLE","$field_edit_path",291],",",["T_WHITESPACE"," ",291],["T_VARIABLE","$edit",291],",",["T_WHITESPACE"," ",291],["T_STRING","t",291],"(",["T_CONSTANT_ENCAPSED_STRING","'Save field settings'",291],")",")",";",["T_WHITESPACE","\n    ",291],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","assertText",292],"(",["T_CONSTANT_ENCAPSED_STRING","'Updated field Body field settings.'",292],")",";",["T_WHITESPACE","\n    ",292],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","drupalGet",293],"(",["T_VARIABLE","$field_edit_path",293],")",";",["T_WHITESPACE","\n    ",293],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","assertFieldByXPath",294],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/select[@name='cardinality']\"",294],",",["T_WHITESPACE"," ",294],["T_STRING","FieldStorageDefinitionInterface",294],["T_DOUBLE_COLON","::",294],["T_STRING","CARDINALITY_UNLIMITED",294],")",";",["T_WHITESPACE","\n    ",294],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","assertFieldByXPath",295],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/input[@name='cardinality_number']\"",295],",",["T_WHITESPACE"," ",295],["T_LNUMBER","1",295],")",";",["T_WHITESPACE","\n\n    ",295],["T_COMMENT","\/\/ Assert that you can't set the cardinality to a lower number then the\n",297],["T_WHITESPACE","    ",298],["T_COMMENT","\/\/ highest delta of this field but can set it to the same.\n",298],["T_WHITESPACE","    ",299],["T_VARIABLE","$edit",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],"[",["T_WHITESPACE","\n      ",299],["T_CONSTANT_ENCAPSED_STRING","'cardinality'",300],["T_WHITESPACE"," ",300],["T_DOUBLE_ARROW","=>",300],["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","'number'",300],",",["T_WHITESPACE","\n      ",300],["T_CONSTANT_ENCAPSED_STRING","'cardinality_number'",301],["T_WHITESPACE"," ",301],["T_DOUBLE_ARROW","=>",301],["T_WHITESPACE"," ",301],["T_LNUMBER","1",301],",",["T_WHITESPACE","\n    ",301],"]",";",["T_WHITESPACE","\n    ",302],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","drupalPostForm",303],"(",["T_VARIABLE","$field_edit_path",303],",",["T_WHITESPACE"," ",303],["T_VARIABLE","$edit",303],",",["T_WHITESPACE"," ",303],["T_STRING","t",303],"(",["T_CONSTANT_ENCAPSED_STRING","'Save field settings'",303],")",")",";",["T_WHITESPACE","\n    ",303],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","assertRaw",304],"(",["T_STRING","t",304],"(",["T_CONSTANT_ENCAPSED_STRING","'There are @count entities with @delta or more values in this field.'",304],",",["T_WHITESPACE"," ",304],"[",["T_CONSTANT_ENCAPSED_STRING","'@count'",304],["T_WHITESPACE"," ",304],["T_DOUBLE_ARROW","=>",304],["T_WHITESPACE"," ",304],["T_LNUMBER","2",304],",",["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","'@delta'",304],["T_WHITESPACE"," ",304],["T_DOUBLE_ARROW","=>",304],["T_WHITESPACE"," ",304],["T_LNUMBER","2",304],"]",")",",",["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","'Correctly failed to set cardinality lower than highest delta.'",304],")",";",["T_WHITESPACE","\n\n    ",304],["T_VARIABLE","$edit",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],"[",["T_WHITESPACE","\n      ",306],["T_CONSTANT_ENCAPSED_STRING","'cardinality'",307],["T_WHITESPACE"," ",307],["T_DOUBLE_ARROW","=>",307],["T_WHITESPACE"," ",307],["T_CONSTANT_ENCAPSED_STRING","'number'",307],",",["T_WHITESPACE","\n      ",307],["T_CONSTANT_ENCAPSED_STRING","'cardinality_number'",308],["T_WHITESPACE"," ",308],["T_DOUBLE_ARROW","=>",308],["T_WHITESPACE"," ",308],["T_LNUMBER","2",308],",",["T_WHITESPACE","\n    ",308],"]",";",["T_WHITESPACE","\n    ",309],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","drupalPostForm",310],"(",["T_VARIABLE","$field_edit_path",310],",",["T_WHITESPACE"," ",310],["T_VARIABLE","$edit",310],",",["T_WHITESPACE"," ",310],["T_STRING","t",310],"(",["T_CONSTANT_ENCAPSED_STRING","'Save field settings'",310],")",")",";",["T_WHITESPACE","\n    ",310],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","assertRaw",311],"(",["T_STRING","t",311],"(",["T_CONSTANT_ENCAPSED_STRING","'There is @count entity with @delta or more values in this field.'",311],",",["T_WHITESPACE"," ",311],"[",["T_CONSTANT_ENCAPSED_STRING","'@count'",311],["T_WHITESPACE"," ",311],["T_DOUBLE_ARROW","=>",311],["T_WHITESPACE"," ",311],["T_LNUMBER","1",311],",",["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","'@delta'",311],["T_WHITESPACE"," ",311],["T_DOUBLE_ARROW","=>",311],["T_WHITESPACE"," ",311],["T_LNUMBER","3",311],"]",")",",",["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","'Correctly failed to set cardinality lower than highest delta.'",311],")",";",["T_WHITESPACE","\n\n    ",311],["T_VARIABLE","$edit",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],"[",["T_WHITESPACE","\n      ",313],["T_CONSTANT_ENCAPSED_STRING","'cardinality'",314],["T_WHITESPACE"," ",314],["T_DOUBLE_ARROW","=>",314],["T_WHITESPACE"," ",314],["T_CONSTANT_ENCAPSED_STRING","'number'",314],",",["T_WHITESPACE","\n      ",314],["T_CONSTANT_ENCAPSED_STRING","'cardinality_number'",315],["T_WHITESPACE"," ",315],["T_DOUBLE_ARROW","=>",315],["T_WHITESPACE"," ",315],["T_LNUMBER","3",315],",",["T_WHITESPACE","\n    ",315],"]",";",["T_WHITESPACE","\n    ",316],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","drupalPostForm",317],"(",["T_VARIABLE","$field_edit_path",317],",",["T_WHITESPACE"," ",317],["T_VARIABLE","$edit",317],",",["T_WHITESPACE"," ",317],["T_STRING","t",317],"(",["T_CONSTANT_ENCAPSED_STRING","'Save field settings'",317],")",")",";",["T_WHITESPACE","\n  ",317],"}",["T_WHITESPACE","\n\n  ",318],["T_DOC_COMMENT","\/**\n   * Tests deleting a field from the field edit form.\n   *\/",320],["T_WHITESPACE","\n  ",322],["T_PROTECTED","protected",323],["T_WHITESPACE"," ",323],["T_FUNCTION","function",323],["T_WHITESPACE"," ",323],["T_STRING","deleteField",323],"(",")",["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n    ",323],["T_COMMENT","\/\/ Delete the field.\n",324],["T_WHITESPACE","    ",325],["T_VARIABLE","$field_id",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_CONSTANT_ENCAPSED_STRING","'node.'",325],["T_WHITESPACE"," ",325],".",["T_WHITESPACE"," ",325],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","contentType",325],["T_WHITESPACE"," ",325],".",["T_WHITESPACE"," ",325],["T_CONSTANT_ENCAPSED_STRING","'.'",325],["T_WHITESPACE"," ",325],".",["T_WHITESPACE"," ",325],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","fieldName",325],";",["T_WHITESPACE","\n    ",325],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","drupalGet",326],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",326],["T_WHITESPACE"," ",326],".",["T_WHITESPACE"," ",326],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","contentType",326],["T_WHITESPACE"," ",326],".",["T_WHITESPACE"," ",326],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/'",326],["T_WHITESPACE"," ",326],".",["T_WHITESPACE"," ",326],["T_VARIABLE","$field_id",326],")",";",["T_WHITESPACE","\n    ",326],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","clickLink",327],"(",["T_STRING","t",327],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",327],")",")",";",["T_WHITESPACE","\n    ",327],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","assertResponse",328],"(",["T_LNUMBER","200",328],")",";",["T_WHITESPACE","\n  ",328],"}",["T_WHITESPACE","\n\n  ",329],["T_DOC_COMMENT","\/**\n   * Tests that persistent field storage appears in the field UI.\n   *\/",331],["T_WHITESPACE","\n  ",333],["T_PROTECTED","protected",334],["T_WHITESPACE"," ",334],["T_FUNCTION","function",334],["T_WHITESPACE"," ",334],["T_STRING","addPersistentFieldStorage",334],"(",")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n    ",334],["T_VARIABLE","$field_storage",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_STRING","FieldStorageConfig",335],["T_DOUBLE_COLON","::",335],["T_STRING","loadByName",335],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",335],",",["T_WHITESPACE"," ",335],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","fieldName",335],")",";",["T_WHITESPACE","\n    ",335],["T_COMMENT","\/\/ Persist the field storage even if there are no fields.\n",336],["T_WHITESPACE","    ",337],["T_VARIABLE","$field_storage",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","set",337],"(",["T_CONSTANT_ENCAPSED_STRING","'persist_with_no_fields'",337],",",["T_WHITESPACE"," ",337],["T_STRING","TRUE",337],")",["T_OBJECT_OPERATOR","->",337],["T_STRING","save",337],"(",")",";",["T_WHITESPACE","\n    ",337],["T_COMMENT","\/\/ Delete all instances of the field.\n",338],["T_WHITESPACE","    ",339],["T_FOREACH","foreach",339],["T_WHITESPACE"," ",339],"(",["T_VARIABLE","$field_storage",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","getBundles",339],"(",")",["T_WHITESPACE"," ",339],["T_AS","as",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$node_type",339],")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n      ",339],["T_COMMENT","\/\/ Delete all the body field instances.\n",340],["T_WHITESPACE","      ",341],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","drupalGet",341],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",341],["T_WHITESPACE"," ",341],".",["T_WHITESPACE"," ",341],["T_VARIABLE","$node_type",341],["T_WHITESPACE"," ",341],".",["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/node.'",341],["T_WHITESPACE"," ",341],".",["T_WHITESPACE"," ",341],["T_VARIABLE","$node_type",341],["T_WHITESPACE"," ",341],".",["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","'.'",341],["T_WHITESPACE"," ",341],".",["T_WHITESPACE"," ",341],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","fieldName",341],")",";",["T_WHITESPACE","\n      ",341],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","clickLink",342],"(",["T_STRING","t",342],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",342],")",")",";",["T_WHITESPACE","\n      ",342],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","drupalPostForm",343],"(",["T_STRING","NULL",343],",",["T_WHITESPACE"," ",343],["T_ARRAY","array",343],"(",")",",",["T_WHITESPACE"," ",343],["T_STRING","t",343],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",343],")",")",";",["T_WHITESPACE","\n    ",343],"}",["T_WHITESPACE","\n    ",344],["T_COMMENT","\/\/ Check \"Re-use existing field\" appears.\n",345],["T_WHITESPACE","    ",346],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","drupalGet",346],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/page\/fields\/add-field'",346],")",";",["T_WHITESPACE","\n    ",346],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","assertRaw",347],"(",["T_STRING","t",347],"(",["T_CONSTANT_ENCAPSED_STRING","'Re-use an existing field'",347],")",",",["T_WHITESPACE"," ",347],["T_CONSTANT_ENCAPSED_STRING","'\"Re-use existing field\" was found.'",347],")",";",["T_WHITESPACE","\n\n    ",347],["T_COMMENT","\/\/ Ensure that we test with a label that contains HTML.\n",349],["T_WHITESPACE","    ",350],["T_VARIABLE","$label",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","randomString",350],"(",["T_LNUMBER","4",350],")",["T_WHITESPACE"," ",350],".",["T_WHITESPACE"," ",350],["T_CONSTANT_ENCAPSED_STRING","'<br\/>'",350],["T_WHITESPACE"," ",350],".",["T_WHITESPACE"," ",350],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","randomString",350],"(",["T_LNUMBER","4",350],")",";",["T_WHITESPACE","\n    ",350],["T_COMMENT","\/\/ Add a new field for the orphaned storage.\n",351],["T_WHITESPACE","    ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","fieldUIAddExistingField",352],"(",["T_CONSTANT_ENCAPSED_STRING","\"admin\/structure\/types\/manage\/page\"",352],",",["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","fieldName",352],",",["T_WHITESPACE"," ",352],["T_VARIABLE","$label",352],")",";",["T_WHITESPACE","\n  ",352],"}",["T_WHITESPACE","\n\n  ",353],["T_DOC_COMMENT","\/**\n   * Asserts field settings are as expected.\n   *\n   * @param $bundle\n   *   The bundle name for the field.\n   * @param $field_name\n   *   The field name for the field.\n   * @param $string\n   *   The settings text.\n   * @param $entity_type\n   *   The entity type for the field.\n   *\/",355],["T_WHITESPACE","\n  ",366],["T_FUNCTION","function",367],["T_WHITESPACE"," ",367],["T_STRING","assertFieldSettings",367],"(",["T_VARIABLE","$bundle",367],",",["T_WHITESPACE"," ",367],["T_VARIABLE","$field_name",367],",",["T_WHITESPACE"," ",367],["T_VARIABLE","$string",367],["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_CONSTANT_ENCAPSED_STRING","'dummy test string'",367],",",["T_WHITESPACE"," ",367],["T_VARIABLE","$entity_type",367],["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_CONSTANT_ENCAPSED_STRING","'node'",367],")",["T_WHITESPACE"," ",367],"{",["T_WHITESPACE","\n    ",367],["T_COMMENT","\/\/ Assert field storage settings.\n",368],["T_WHITESPACE","    ",369],["T_VARIABLE","$field_storage",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_STRING","FieldStorageConfig",369],["T_DOUBLE_COLON","::",369],["T_STRING","loadByName",369],"(",["T_VARIABLE","$entity_type",369],",",["T_WHITESPACE"," ",369],["T_VARIABLE","$field_name",369],")",";",["T_WHITESPACE","\n    ",369],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","assertTrue",370],"(",["T_VARIABLE","$field_storage",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","getSetting",370],"(",["T_CONSTANT_ENCAPSED_STRING","'test_field_storage_setting'",370],")",["T_WHITESPACE"," ",370],["T_IS_EQUAL","==",370],["T_WHITESPACE"," ",370],["T_VARIABLE","$string",370],",",["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'Field storage settings were found.'",370],")",";",["T_WHITESPACE","\n\n    ",370],["T_COMMENT","\/\/ Assert field settings.\n",372],["T_WHITESPACE","    ",373],["T_VARIABLE","$field",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_STRING","FieldConfig",373],["T_DOUBLE_COLON","::",373],["T_STRING","loadByName",373],"(",["T_VARIABLE","$entity_type",373],",",["T_WHITESPACE"," ",373],["T_VARIABLE","$bundle",373],",",["T_WHITESPACE"," ",373],["T_VARIABLE","$field_name",373],")",";",["T_WHITESPACE","\n    ",373],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","assertTrue",374],"(",["T_VARIABLE","$field",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","getSetting",374],"(",["T_CONSTANT_ENCAPSED_STRING","'test_field_setting'",374],")",["T_WHITESPACE"," ",374],["T_IS_EQUAL","==",374],["T_WHITESPACE"," ",374],["T_VARIABLE","$string",374],",",["T_WHITESPACE"," ",374],["T_CONSTANT_ENCAPSED_STRING","'Field settings were found.'",374],")",";",["T_WHITESPACE","\n  ",374],"}",["T_WHITESPACE","\n\n  ",375],["T_DOC_COMMENT","\/**\n   * Tests that the 'field_prefix' setting works on Field UI.\n   *\/",377],["T_WHITESPACE","\n  ",379],["T_FUNCTION","function",380],["T_WHITESPACE"," ",380],["T_STRING","testFieldPrefix",380],"(",")",["T_WHITESPACE"," ",380],"{",["T_WHITESPACE","\n    ",380],["T_COMMENT","\/\/ Change default field prefix.\n",381],["T_WHITESPACE","    ",382],["T_VARIABLE","$field_prefix",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_STRING","strtolower",382],"(",["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","randomMachineName",382],"(",["T_LNUMBER","10",382],")",")",";",["T_WHITESPACE","\n    ",382],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","config",383],"(",["T_CONSTANT_ENCAPSED_STRING","'field_ui.settings'",383],")",["T_OBJECT_OPERATOR","->",383],["T_STRING","set",383],"(",["T_CONSTANT_ENCAPSED_STRING","'field_prefix'",383],",",["T_WHITESPACE"," ",383],["T_VARIABLE","$field_prefix",383],")",["T_OBJECT_OPERATOR","->",383],["T_STRING","save",383],"(",")",";",["T_WHITESPACE","\n\n    ",383],["T_COMMENT","\/\/ Create a field input and label exceeding the new maxlength, which is 22.\n",385],["T_WHITESPACE","    ",386],["T_VARIABLE","$field_exceed_max_length_label",386],["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","randomString",386],"(",["T_LNUMBER","23",386],")",";",["T_WHITESPACE","\n    ",386],["T_VARIABLE","$field_exceed_max_length_input",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","randomMachineName",387],"(",["T_LNUMBER","23",387],")",";",["T_WHITESPACE","\n\n    ",387],["T_COMMENT","\/\/ Try to create the field.\n",389],["T_WHITESPACE","    ",390],["T_VARIABLE","$edit",390],["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_ARRAY","array",390],"(",["T_WHITESPACE","\n      ",390],["T_CONSTANT_ENCAPSED_STRING","'label'",391],["T_WHITESPACE"," ",391],["T_DOUBLE_ARROW","=>",391],["T_WHITESPACE"," ",391],["T_VARIABLE","$field_exceed_max_length_label",391],",",["T_WHITESPACE","\n      ",391],["T_CONSTANT_ENCAPSED_STRING","'field_name'",392],["T_WHITESPACE"," ",392],["T_DOUBLE_ARROW","=>",392],["T_WHITESPACE"," ",392],["T_VARIABLE","$field_exceed_max_length_input",392],",",["T_WHITESPACE","\n    ",392],")",";",["T_WHITESPACE","\n    ",393],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","drupalPostForm",394],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",394],["T_WHITESPACE"," ",394],".",["T_WHITESPACE"," ",394],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","contentType",394],["T_WHITESPACE"," ",394],".",["T_WHITESPACE"," ",394],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/add-field'",394],",",["T_WHITESPACE"," ",394],["T_VARIABLE","$edit",394],",",["T_WHITESPACE"," ",394],["T_STRING","t",394],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and continue'",394],")",")",";",["T_WHITESPACE","\n    ",394],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","assertText",395],"(",["T_CONSTANT_ENCAPSED_STRING","'Machine-readable name cannot be longer than 22 characters but is currently 23 characters long.'",395],")",";",["T_WHITESPACE","\n\n    ",395],["T_COMMENT","\/\/ Create a valid field.\n",397],["T_WHITESPACE","    ",398],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","fieldUIAddNewField",398],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",398],["T_WHITESPACE"," ",398],".",["T_WHITESPACE"," ",398],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","contentType",398],",",["T_WHITESPACE"," ",398],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","fieldNameInput",398],",",["T_WHITESPACE"," ",398],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","fieldLabel",398],")",";",["T_WHITESPACE","\n    ",398],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","drupalGet",399],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",399],["T_WHITESPACE"," ",399],".",["T_WHITESPACE"," ",399],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","contentType",399],["T_WHITESPACE"," ",399],".",["T_WHITESPACE"," ",399],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/node.'",399],["T_WHITESPACE"," ",399],".",["T_WHITESPACE"," ",399],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","contentType",399],["T_WHITESPACE"," ",399],".",["T_WHITESPACE"," ",399],["T_CONSTANT_ENCAPSED_STRING","'.'",399],["T_WHITESPACE"," ",399],".",["T_WHITESPACE"," ",399],["T_VARIABLE","$field_prefix",399],["T_WHITESPACE"," ",399],".",["T_WHITESPACE"," ",399],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","fieldNameInput",399],")",";",["T_WHITESPACE","\n    ",399],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","assertText",400],"(",["T_STRING","format_string",400],"(",["T_CONSTANT_ENCAPSED_STRING","'@label settings for @type'",400],",",["T_WHITESPACE"," ",400],["T_ARRAY","array",400],"(",["T_CONSTANT_ENCAPSED_STRING","'@label'",400],["T_WHITESPACE"," ",400],["T_DOUBLE_ARROW","=>",400],["T_WHITESPACE"," ",400],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","fieldLabel",400],",",["T_WHITESPACE"," ",400],["T_CONSTANT_ENCAPSED_STRING","'@type'",400],["T_WHITESPACE"," ",400],["T_DOUBLE_ARROW","=>",400],["T_WHITESPACE"," ",400],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","contentType",400],")",")",")",";",["T_WHITESPACE","\n  ",400],"}",["T_WHITESPACE","\n\n  ",401],["T_DOC_COMMENT","\/**\n   * Tests that default value is correctly validated and saved.\n   *\/",403],["T_WHITESPACE","\n  ",405],["T_FUNCTION","function",406],["T_WHITESPACE"," ",406],["T_STRING","testDefaultValue",406],"(",")",["T_WHITESPACE"," ",406],"{",["T_WHITESPACE","\n    ",406],["T_COMMENT","\/\/ Create a test field storage and field.\n",407],["T_WHITESPACE","    ",408],["T_VARIABLE","$field_name",408],["T_WHITESPACE"," ",408],"=",["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","'test'",408],";",["T_WHITESPACE","\n    ",408],["T_STRING","FieldStorageConfig",409],["T_DOUBLE_COLON","::",409],["T_STRING","create",409],"(",["T_ARRAY","array",409],"(",["T_WHITESPACE","\n      ",409],["T_CONSTANT_ENCAPSED_STRING","'field_name'",410],["T_WHITESPACE"," ",410],["T_DOUBLE_ARROW","=>",410],["T_WHITESPACE"," ",410],["T_VARIABLE","$field_name",410],",",["T_WHITESPACE","\n      ",410],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",411],["T_WHITESPACE"," ",411],["T_DOUBLE_ARROW","=>",411],["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","'node'",411],",",["T_WHITESPACE","\n      ",411],["T_CONSTANT_ENCAPSED_STRING","'type'",412],["T_WHITESPACE"," ",412],["T_DOUBLE_ARROW","=>",412],["T_WHITESPACE"," ",412],["T_CONSTANT_ENCAPSED_STRING","'test_field'",412],["T_WHITESPACE","\n    ",412],")",")",["T_OBJECT_OPERATOR","->",413],["T_STRING","save",413],"(",")",";",["T_WHITESPACE","\n    ",413],["T_VARIABLE","$field",414],["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_STRING","FieldConfig",414],["T_DOUBLE_COLON","::",414],["T_STRING","create",414],"(",["T_ARRAY","array",414],"(",["T_WHITESPACE","\n      ",414],["T_CONSTANT_ENCAPSED_STRING","'field_name'",415],["T_WHITESPACE"," ",415],["T_DOUBLE_ARROW","=>",415],["T_WHITESPACE"," ",415],["T_VARIABLE","$field_name",415],",",["T_WHITESPACE","\n      ",415],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",416],["T_WHITESPACE"," ",416],["T_DOUBLE_ARROW","=>",416],["T_WHITESPACE"," ",416],["T_CONSTANT_ENCAPSED_STRING","'node'",416],",",["T_WHITESPACE","\n      ",416],["T_CONSTANT_ENCAPSED_STRING","'bundle'",417],["T_WHITESPACE"," ",417],["T_DOUBLE_ARROW","=>",417],["T_WHITESPACE"," ",417],["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","contentType",417],",",["T_WHITESPACE","\n    ",417],")",")",";",["T_WHITESPACE","\n    ",418],["T_VARIABLE","$field",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","save",419],"(",")",";",["T_WHITESPACE","\n\n    ",419],["T_STRING","entity_get_form_display",421],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",421],",",["T_WHITESPACE"," ",421],["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","contentType",421],",",["T_WHITESPACE"," ",421],["T_CONSTANT_ENCAPSED_STRING","'default'",421],")",["T_WHITESPACE","\n      ",421],["T_OBJECT_OPERATOR","->",422],["T_STRING","setComponent",422],"(",["T_VARIABLE","$field_name",422],")",["T_WHITESPACE","\n      ",422],["T_OBJECT_OPERATOR","->",423],["T_STRING","save",423],"(",")",";",["T_WHITESPACE","\n\n    ",423],["T_VARIABLE","$admin_path",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",425],["T_WHITESPACE"," ",425],".",["T_WHITESPACE"," ",425],["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","contentType",425],["T_WHITESPACE"," ",425],".",["T_WHITESPACE"," ",425],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/'",425],["T_WHITESPACE"," ",425],".",["T_WHITESPACE"," ",425],["T_VARIABLE","$field",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","id",425],"(",")",";",["T_WHITESPACE","\n    ",425],["T_VARIABLE","$element_id",426],["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],"\"",["T_ENCAPSED_AND_WHITESPACE","edit-default-value-input-",426],["T_VARIABLE","$field_name",426],["T_ENCAPSED_AND_WHITESPACE","-0-value",426],"\"",";",["T_WHITESPACE","\n    ",426],["T_VARIABLE","$element_name",427],["T_WHITESPACE"," ",427],"=",["T_WHITESPACE"," ",427],"\"",["T_ENCAPSED_AND_WHITESPACE","default_value_input[",427],["T_CURLY_OPEN","{",427],["T_VARIABLE","$field_name",427],"}",["T_ENCAPSED_AND_WHITESPACE","][0][value]",427],"\"",";",["T_WHITESPACE","\n    ",427],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","drupalGet",428],"(",["T_VARIABLE","$admin_path",428],")",";",["T_WHITESPACE","\n    ",428],["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","assertFieldById",429],"(",["T_VARIABLE","$element_id",429],",",["T_WHITESPACE"," ",429],["T_CONSTANT_ENCAPSED_STRING","''",429],",",["T_WHITESPACE"," ",429],["T_CONSTANT_ENCAPSED_STRING","'The default value widget was empty.'",429],")",";",["T_WHITESPACE","\n\n    ",429],["T_COMMENT","\/\/ Check that invalid default values are rejected.\n",431],["T_WHITESPACE","    ",432],["T_VARIABLE","$edit",432],["T_WHITESPACE"," ",432],"=",["T_WHITESPACE"," ",432],["T_ARRAY","array",432],"(",["T_VARIABLE","$element_name",432],["T_WHITESPACE"," ",432],["T_DOUBLE_ARROW","=>",432],["T_WHITESPACE"," ",432],["T_CONSTANT_ENCAPSED_STRING","'-1'",432],")",";",["T_WHITESPACE","\n    ",432],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","drupalPostForm",433],"(",["T_VARIABLE","$admin_path",433],",",["T_WHITESPACE"," ",433],["T_VARIABLE","$edit",433],",",["T_WHITESPACE"," ",433],["T_STRING","t",433],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",433],")",")",";",["T_WHITESPACE","\n    ",433],["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","assertText",434],"(","\"",["T_VARIABLE","$field_name",434],["T_ENCAPSED_AND_WHITESPACE"," does not accept the value -1",434],"\"",",",["T_WHITESPACE"," ",434],["T_CONSTANT_ENCAPSED_STRING","'Form validation failed.'",434],")",";",["T_WHITESPACE","\n\n    ",434],["T_COMMENT","\/\/ Check that the default value is saved.\n",436],["T_WHITESPACE","    ",437],["T_VARIABLE","$edit",437],["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],["T_ARRAY","array",437],"(",["T_VARIABLE","$element_name",437],["T_WHITESPACE"," ",437],["T_DOUBLE_ARROW","=>",437],["T_WHITESPACE"," ",437],["T_CONSTANT_ENCAPSED_STRING","'1'",437],")",";",["T_WHITESPACE","\n    ",437],["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","drupalPostForm",438],"(",["T_VARIABLE","$admin_path",438],",",["T_WHITESPACE"," ",438],["T_VARIABLE","$edit",438],",",["T_WHITESPACE"," ",438],["T_STRING","t",438],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",438],")",")",";",["T_WHITESPACE","\n    ",438],["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","assertText",439],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Saved ",439],["T_VARIABLE","$field_name",439],["T_ENCAPSED_AND_WHITESPACE"," configuration",439],"\"",",",["T_WHITESPACE"," ",439],["T_CONSTANT_ENCAPSED_STRING","'The form was successfully submitted.'",439],")",";",["T_WHITESPACE","\n    ",439],["T_VARIABLE","$field",440],["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],["T_STRING","FieldConfig",440],["T_DOUBLE_COLON","::",440],["T_STRING","loadByName",440],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",440],",",["T_WHITESPACE"," ",440],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","contentType",440],",",["T_WHITESPACE"," ",440],["T_VARIABLE","$field_name",440],")",";",["T_WHITESPACE","\n    ",440],["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","assertEqual",441],"(",["T_VARIABLE","$field",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","getDefaultValueLiteral",441],"(",")",",",["T_WHITESPACE"," ",441],["T_ARRAY","array",441],"(",["T_ARRAY","array",441],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",441],["T_WHITESPACE"," ",441],["T_DOUBLE_ARROW","=>",441],["T_WHITESPACE"," ",441],["T_LNUMBER","1",441],")",")",",",["T_WHITESPACE"," ",441],["T_CONSTANT_ENCAPSED_STRING","'The default value was correctly saved.'",441],")",";",["T_WHITESPACE","\n\n    ",441],["T_COMMENT","\/\/ Check that the default value shows up in the form\n",443],["T_WHITESPACE","    ",444],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","drupalGet",444],"(",["T_VARIABLE","$admin_path",444],")",";",["T_WHITESPACE","\n    ",444],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","assertFieldById",445],"(",["T_VARIABLE","$element_id",445],",",["T_WHITESPACE"," ",445],["T_CONSTANT_ENCAPSED_STRING","'1'",445],",",["T_WHITESPACE"," ",445],["T_CONSTANT_ENCAPSED_STRING","'The default value widget was displayed with the correct value.'",445],")",";",["T_WHITESPACE","\n\n    ",445],["T_COMMENT","\/\/ Check that the default value can be emptied.\n",447],["T_WHITESPACE","    ",448],["T_VARIABLE","$edit",448],["T_WHITESPACE"," ",448],"=",["T_WHITESPACE"," ",448],["T_ARRAY","array",448],"(",["T_VARIABLE","$element_name",448],["T_WHITESPACE"," ",448],["T_DOUBLE_ARROW","=>",448],["T_WHITESPACE"," ",448],["T_CONSTANT_ENCAPSED_STRING","''",448],")",";",["T_WHITESPACE","\n    ",448],["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","drupalPostForm",449],"(",["T_STRING","NULL",449],",",["T_WHITESPACE"," ",449],["T_VARIABLE","$edit",449],",",["T_WHITESPACE"," ",449],["T_STRING","t",449],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",449],")",")",";",["T_WHITESPACE","\n    ",449],["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","assertText",450],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Saved ",450],["T_VARIABLE","$field_name",450],["T_ENCAPSED_AND_WHITESPACE"," configuration",450],"\"",",",["T_WHITESPACE"," ",450],["T_CONSTANT_ENCAPSED_STRING","'The form was successfully submitted.'",450],")",";",["T_WHITESPACE","\n    ",450],["T_VARIABLE","$field",451],["T_WHITESPACE"," ",451],"=",["T_WHITESPACE"," ",451],["T_STRING","FieldConfig",451],["T_DOUBLE_COLON","::",451],["T_STRING","loadByName",451],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",451],",",["T_WHITESPACE"," ",451],["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","contentType",451],",",["T_WHITESPACE"," ",451],["T_VARIABLE","$field_name",451],")",";",["T_WHITESPACE","\n    ",451],["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","assertEqual",452],"(",["T_VARIABLE","$field",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","getDefaultValueLiteral",452],"(",")",",",["T_WHITESPACE"," ",452],["T_STRING","NULL",452],",",["T_WHITESPACE"," ",452],["T_CONSTANT_ENCAPSED_STRING","'The default value was correctly saved.'",452],")",";",["T_WHITESPACE","\n\n    ",452],["T_COMMENT","\/\/ Check that the default value can be empty when the field is marked as\n",454],["T_WHITESPACE","    ",455],["T_COMMENT","\/\/ required and can store unlimited values.\n",455],["T_WHITESPACE","    ",456],["T_VARIABLE","$field_storage",456],["T_WHITESPACE"," ",456],"=",["T_WHITESPACE"," ",456],["T_STRING","FieldStorageConfig",456],["T_DOUBLE_COLON","::",456],["T_STRING","loadByName",456],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",456],",",["T_WHITESPACE"," ",456],["T_VARIABLE","$field_name",456],")",";",["T_WHITESPACE","\n    ",456],["T_VARIABLE","$field_storage",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","setCardinality",457],"(",["T_STRING","FieldStorageDefinitionInterface",457],["T_DOUBLE_COLON","::",457],["T_STRING","CARDINALITY_UNLIMITED",457],")",";",["T_WHITESPACE","\n    ",457],["T_VARIABLE","$field_storage",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","save",458],"(",")",";",["T_WHITESPACE","\n\n    ",458],["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","drupalGet",460],"(",["T_VARIABLE","$admin_path",460],")",";",["T_WHITESPACE","\n    ",460],["T_VARIABLE","$edit",461],["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_ARRAY","array",461],"(",["T_WHITESPACE","\n      ",461],["T_CONSTANT_ENCAPSED_STRING","'required'",462],["T_WHITESPACE"," ",462],["T_DOUBLE_ARROW","=>",462],["T_WHITESPACE"," ",462],["T_LNUMBER","1",462],",",["T_WHITESPACE","\n    ",462],")",";",["T_WHITESPACE","\n    ",463],["T_VARIABLE","$this",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","drupalPostForm",464],"(",["T_STRING","NULL",464],",",["T_WHITESPACE"," ",464],["T_VARIABLE","$edit",464],",",["T_WHITESPACE"," ",464],["T_STRING","t",464],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",464],")",")",";",["T_WHITESPACE","\n\n    ",464],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","drupalGet",466],"(",["T_VARIABLE","$admin_path",466],")",";",["T_WHITESPACE","\n    ",466],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","drupalPostForm",467],"(",["T_STRING","NULL",467],",",["T_WHITESPACE"," ",467],["T_ARRAY","array",467],"(",")",",",["T_WHITESPACE"," ",467],["T_STRING","t",467],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",467],")",")",";",["T_WHITESPACE","\n    ",467],["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","assertText",468],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Saved ",468],["T_VARIABLE","$field_name",468],["T_ENCAPSED_AND_WHITESPACE"," configuration",468],"\"",",",["T_WHITESPACE"," ",468],["T_CONSTANT_ENCAPSED_STRING","'The form was successfully submitted.'",468],")",";",["T_WHITESPACE","\n    ",468],["T_VARIABLE","$field",469],["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],["T_STRING","FieldConfig",469],["T_DOUBLE_COLON","::",469],["T_STRING","loadByName",469],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",469],",",["T_WHITESPACE"," ",469],["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","contentType",469],",",["T_WHITESPACE"," ",469],["T_VARIABLE","$field_name",469],")",";",["T_WHITESPACE","\n    ",469],["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","assertEqual",470],"(",["T_VARIABLE","$field",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","getDefaultValueLiteral",470],"(",")",",",["T_WHITESPACE"," ",470],["T_STRING","NULL",470],",",["T_WHITESPACE"," ",470],["T_CONSTANT_ENCAPSED_STRING","'The default value was correctly saved.'",470],")",";",["T_WHITESPACE","\n\n    ",470],["T_COMMENT","\/\/ Check that the default widget is used when the field is hidden.\n",472],["T_WHITESPACE","    ",473],["T_STRING","entity_get_form_display",473],"(",["T_VARIABLE","$field",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","getTargetEntityTypeId",473],"(",")",",",["T_WHITESPACE"," ",473],["T_VARIABLE","$field",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","getTargetBundle",473],"(",")",",",["T_WHITESPACE"," ",473],["T_CONSTANT_ENCAPSED_STRING","'default'",473],")",["T_WHITESPACE","\n      ",473],["T_OBJECT_OPERATOR","->",474],["T_STRING","removeComponent",474],"(",["T_VARIABLE","$field_name",474],")",["T_OBJECT_OPERATOR","->",474],["T_STRING","save",474],"(",")",";",["T_WHITESPACE","\n    ",474],["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","drupalGet",475],"(",["T_VARIABLE","$admin_path",475],")",";",["T_WHITESPACE","\n    ",475],["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","assertFieldById",476],"(",["T_VARIABLE","$element_id",476],",",["T_WHITESPACE"," ",476],["T_CONSTANT_ENCAPSED_STRING","''",476],",",["T_WHITESPACE"," ",476],["T_CONSTANT_ENCAPSED_STRING","'The default value widget was displayed when field is hidden.'",476],")",";",["T_WHITESPACE","\n  ",476],"}",["T_WHITESPACE","\n\n  ",477],["T_DOC_COMMENT","\/**\n   * Tests that deletion removes field storages and fields as expected.\n   *\/",479],["T_WHITESPACE","\n  ",481],["T_FUNCTION","function",482],["T_WHITESPACE"," ",482],["T_STRING","testDeleteField",482],"(",")",["T_WHITESPACE"," ",482],"{",["T_WHITESPACE","\n    ",482],["T_COMMENT","\/\/ Create a new field.\n",483],["T_WHITESPACE","    ",484],["T_VARIABLE","$bundle_path1",484],["T_WHITESPACE"," ",484],"=",["T_WHITESPACE"," ",484],["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",484],["T_WHITESPACE"," ",484],".",["T_WHITESPACE"," ",484],["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","contentType",484],";",["T_WHITESPACE","\n    ",484],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","fieldUIAddNewField",485],"(",["T_VARIABLE","$bundle_path1",485],",",["T_WHITESPACE"," ",485],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","fieldNameInput",485],",",["T_WHITESPACE"," ",485],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","fieldLabel",485],")",";",["T_WHITESPACE","\n\n    ",485],["T_COMMENT","\/\/ Create an additional node type.\n",487],["T_WHITESPACE","    ",488],["T_VARIABLE","$type_name2",488],["T_WHITESPACE"," ",488],"=",["T_WHITESPACE"," ",488],["T_STRING","strtolower",488],"(",["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","randomMachineName",488],"(",["T_LNUMBER","8",488],")",")",["T_WHITESPACE"," ",488],".",["T_WHITESPACE"," ",488],["T_CONSTANT_ENCAPSED_STRING","'_test'",488],";",["T_WHITESPACE","\n    ",488],["T_VARIABLE","$type2",489],["T_WHITESPACE"," ",489],"=",["T_WHITESPACE"," ",489],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","drupalCreateContentType",489],"(",["T_ARRAY","array",489],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",489],["T_WHITESPACE"," ",489],["T_DOUBLE_ARROW","=>",489],["T_WHITESPACE"," ",489],["T_VARIABLE","$type_name2",489],",",["T_WHITESPACE"," ",489],["T_CONSTANT_ENCAPSED_STRING","'type'",489],["T_WHITESPACE"," ",489],["T_DOUBLE_ARROW","=>",489],["T_WHITESPACE"," ",489],["T_VARIABLE","$type_name2",489],")",")",";",["T_WHITESPACE","\n    ",489],["T_VARIABLE","$type_name2",490],["T_WHITESPACE"," ",490],"=",["T_WHITESPACE"," ",490],["T_VARIABLE","$type2",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","id",490],"(",")",";",["T_WHITESPACE","\n\n    ",490],["T_COMMENT","\/\/ Add a field to the second node type.\n",492],["T_WHITESPACE","    ",493],["T_VARIABLE","$bundle_path2",493],["T_WHITESPACE"," ",493],"=",["T_WHITESPACE"," ",493],["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",493],["T_WHITESPACE"," ",493],".",["T_WHITESPACE"," ",493],["T_VARIABLE","$type_name2",493],";",["T_WHITESPACE","\n    ",493],["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","fieldUIAddExistingField",494],"(",["T_VARIABLE","$bundle_path2",494],",",["T_WHITESPACE"," ",494],["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","fieldName",494],",",["T_WHITESPACE"," ",494],["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","fieldLabel",494],")",";",["T_WHITESPACE","\n\n    ",494],["T_COMMENT","\/\/ Delete the first field.\n",496],["T_WHITESPACE","    ",497],["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","fieldUIDeleteField",497],"(",["T_VARIABLE","$bundle_path1",497],",",["T_WHITESPACE"," ",497],"\"",["T_ENCAPSED_AND_WHITESPACE","node.",497],["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","contentType",497],["T_ENCAPSED_AND_WHITESPACE",".",497],["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","fieldName",497],"\"",",",["T_WHITESPACE"," ",497],["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","fieldLabel",497],",",["T_WHITESPACE"," ",497],["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","contentType",497],")",";",["T_WHITESPACE","\n\n    ",497],["T_COMMENT","\/\/ Check that the field was deleted.\n",499],["T_WHITESPACE","    ",500],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","assertNull",500],"(",["T_STRING","FieldConfig",500],["T_DOUBLE_COLON","::",500],["T_STRING","loadByName",500],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",500],",",["T_WHITESPACE"," ",500],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","contentType",500],",",["T_WHITESPACE"," ",500],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","fieldName",500],")",",",["T_WHITESPACE"," ",500],["T_CONSTANT_ENCAPSED_STRING","'Field was deleted.'",500],")",";",["T_WHITESPACE","\n    ",500],["T_COMMENT","\/\/ Check that the field storage was not deleted\n",501],["T_WHITESPACE","    ",502],["T_VARIABLE","$this",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","assertNotNull",502],"(",["T_STRING","FieldStorageConfig",502],["T_DOUBLE_COLON","::",502],["T_STRING","loadByName",502],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",502],",",["T_WHITESPACE"," ",502],["T_VARIABLE","$this",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","fieldName",502],")",",",["T_WHITESPACE"," ",502],["T_CONSTANT_ENCAPSED_STRING","'Field storage was not deleted.'",502],")",";",["T_WHITESPACE","\n\n    ",502],["T_COMMENT","\/\/ Delete the second field.\n",504],["T_WHITESPACE","    ",505],["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","fieldUIDeleteField",505],"(",["T_VARIABLE","$bundle_path2",505],",",["T_WHITESPACE"," ",505],"\"",["T_ENCAPSED_AND_WHITESPACE","node.",505],["T_VARIABLE","$type_name2",505],["T_ENCAPSED_AND_WHITESPACE",".",505],["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","fieldName",505],"\"",",",["T_WHITESPACE"," ",505],["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","fieldLabel",505],",",["T_WHITESPACE"," ",505],["T_VARIABLE","$type_name2",505],")",";",["T_WHITESPACE","\n\n    ",505],["T_COMMENT","\/\/ Check that the field was deleted.\n",507],["T_WHITESPACE","    ",508],["T_VARIABLE","$this",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","assertNull",508],"(",["T_STRING","FieldConfig",508],["T_DOUBLE_COLON","::",508],["T_STRING","loadByName",508],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",508],",",["T_WHITESPACE"," ",508],["T_VARIABLE","$type_name2",508],",",["T_WHITESPACE"," ",508],["T_VARIABLE","$this",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","fieldName",508],")",",",["T_WHITESPACE"," ",508],["T_CONSTANT_ENCAPSED_STRING","'Field was deleted.'",508],")",";",["T_WHITESPACE","\n    ",508],["T_COMMENT","\/\/ Check that the field storage was deleted too.\n",509],["T_WHITESPACE","    ",510],["T_VARIABLE","$this",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","assertNull",510],"(",["T_STRING","FieldStorageConfig",510],["T_DOUBLE_COLON","::",510],["T_STRING","loadByName",510],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",510],",",["T_WHITESPACE"," ",510],["T_VARIABLE","$this",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","fieldName",510],")",",",["T_WHITESPACE"," ",510],["T_CONSTANT_ENCAPSED_STRING","'Field storage was deleted.'",510],")",";",["T_WHITESPACE","\n  ",510],"}",["T_WHITESPACE","\n\n  ",511],["T_DOC_COMMENT","\/**\n   * Tests that Field UI respects disallowed field names.\n   *\/",513],["T_WHITESPACE","\n  ",515],["T_FUNCTION","function",516],["T_WHITESPACE"," ",516],["T_STRING","testDisallowedFieldNames",516],"(",")",["T_WHITESPACE"," ",516],"{",["T_WHITESPACE","\n    ",516],["T_COMMENT","\/\/ Reset the field prefix so we can test properly.\n",517],["T_WHITESPACE","    ",518],["T_VARIABLE","$this",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","config",518],"(",["T_CONSTANT_ENCAPSED_STRING","'field_ui.settings'",518],")",["T_OBJECT_OPERATOR","->",518],["T_STRING","set",518],"(",["T_CONSTANT_ENCAPSED_STRING","'field_prefix'",518],",",["T_WHITESPACE"," ",518],["T_CONSTANT_ENCAPSED_STRING","''",518],")",["T_OBJECT_OPERATOR","->",518],["T_STRING","save",518],"(",")",";",["T_WHITESPACE","\n\n    ",518],["T_VARIABLE","$label",520],["T_WHITESPACE"," ",520],"=",["T_WHITESPACE"," ",520],["T_CONSTANT_ENCAPSED_STRING","'Disallowed field'",520],";",["T_WHITESPACE","\n    ",520],["T_VARIABLE","$edit",521],["T_WHITESPACE"," ",521],"=",["T_WHITESPACE"," ",521],["T_ARRAY","array",521],"(",["T_WHITESPACE","\n      ",521],["T_CONSTANT_ENCAPSED_STRING","'label'",522],["T_WHITESPACE"," ",522],["T_DOUBLE_ARROW","=>",522],["T_WHITESPACE"," ",522],["T_VARIABLE","$label",522],",",["T_WHITESPACE","\n      ",522],["T_CONSTANT_ENCAPSED_STRING","'new_storage_type'",523],["T_WHITESPACE"," ",523],["T_DOUBLE_ARROW","=>",523],["T_WHITESPACE"," ",523],["T_CONSTANT_ENCAPSED_STRING","'test_field'",523],",",["T_WHITESPACE","\n    ",523],")",";",["T_WHITESPACE","\n\n    ",524],["T_COMMENT","\/\/ Try with an entity key.\n",526],["T_WHITESPACE","    ",527],["T_VARIABLE","$edit",527],"[",["T_CONSTANT_ENCAPSED_STRING","'field_name'",527],"]",["T_WHITESPACE"," ",527],"=",["T_WHITESPACE"," ",527],["T_CONSTANT_ENCAPSED_STRING","'title'",527],";",["T_WHITESPACE","\n    ",527],["T_VARIABLE","$bundle_path",528],["T_WHITESPACE"," ",528],"=",["T_WHITESPACE"," ",528],["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",528],["T_WHITESPACE"," ",528],".",["T_WHITESPACE"," ",528],["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","contentType",528],";",["T_WHITESPACE","\n    ",528],["T_VARIABLE","$this",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","drupalPostForm",529],"(","\"",["T_VARIABLE","$bundle_path",529],["T_ENCAPSED_AND_WHITESPACE","\/fields\/add-field",529],"\"",",",["T_WHITESPACE"," ",529],["T_VARIABLE","$edit",529],",",["T_WHITESPACE"," ",529],["T_STRING","t",529],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and continue'",529],")",")",";",["T_WHITESPACE","\n    ",529],["T_VARIABLE","$this",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","assertText",530],"(",["T_STRING","t",530],"(",["T_CONSTANT_ENCAPSED_STRING","'The machine-readable name is already in use. It must be unique.'",530],")",")",";",["T_WHITESPACE","\n\n    ",530],["T_COMMENT","\/\/ Try with a base field.\n",532],["T_WHITESPACE","    ",533],["T_VARIABLE","$edit",533],"[",["T_CONSTANT_ENCAPSED_STRING","'field_name'",533],"]",["T_WHITESPACE"," ",533],"=",["T_WHITESPACE"," ",533],["T_CONSTANT_ENCAPSED_STRING","'sticky'",533],";",["T_WHITESPACE","\n    ",533],["T_VARIABLE","$bundle_path",534],["T_WHITESPACE"," ",534],"=",["T_WHITESPACE"," ",534],["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",534],["T_WHITESPACE"," ",534],".",["T_WHITESPACE"," ",534],["T_VARIABLE","$this",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","contentType",534],";",["T_WHITESPACE","\n    ",534],["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","drupalPostForm",535],"(","\"",["T_VARIABLE","$bundle_path",535],["T_ENCAPSED_AND_WHITESPACE","\/fields\/add-field",535],"\"",",",["T_WHITESPACE"," ",535],["T_VARIABLE","$edit",535],",",["T_WHITESPACE"," ",535],["T_STRING","t",535],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and continue'",535],")",")",";",["T_WHITESPACE","\n    ",535],["T_VARIABLE","$this",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","assertText",536],"(",["T_STRING","t",536],"(",["T_CONSTANT_ENCAPSED_STRING","'The machine-readable name is already in use. It must be unique.'",536],")",")",";",["T_WHITESPACE","\n  ",536],"}",["T_WHITESPACE","\n\n  ",537],["T_DOC_COMMENT","\/**\n   * Tests that Field UI respects locked fields.\n   *\/",539],["T_WHITESPACE","\n  ",541],["T_FUNCTION","function",542],["T_WHITESPACE"," ",542],["T_STRING","testLockedField",542],"(",")",["T_WHITESPACE"," ",542],"{",["T_WHITESPACE","\n    ",542],["T_COMMENT","\/\/ Create a locked field and attach it to a bundle. We need to do this\n",543],["T_WHITESPACE","    ",544],["T_COMMENT","\/\/ programmatically as there's no way to create a locked field through UI.\n",544],["T_WHITESPACE","    ",545],["T_VARIABLE","$field_name",545],["T_WHITESPACE"," ",545],"=",["T_WHITESPACE"," ",545],["T_STRING","strtolower",545],"(",["T_VARIABLE","$this",545],["T_OBJECT_OPERATOR","->",545],["T_STRING","randomMachineName",545],"(",["T_LNUMBER","8",545],")",")",";",["T_WHITESPACE","\n    ",545],["T_VARIABLE","$field_storage",546],["T_WHITESPACE"," ",546],"=",["T_WHITESPACE"," ",546],["T_STRING","FieldStorageConfig",546],["T_DOUBLE_COLON","::",546],["T_STRING","create",546],"(",["T_ARRAY","array",546],"(",["T_WHITESPACE","\n      ",546],["T_CONSTANT_ENCAPSED_STRING","'field_name'",547],["T_WHITESPACE"," ",547],["T_DOUBLE_ARROW","=>",547],["T_WHITESPACE"," ",547],["T_VARIABLE","$field_name",547],",",["T_WHITESPACE","\n      ",547],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",548],["T_WHITESPACE"," ",548],["T_DOUBLE_ARROW","=>",548],["T_WHITESPACE"," ",548],["T_CONSTANT_ENCAPSED_STRING","'node'",548],",",["T_WHITESPACE","\n      ",548],["T_CONSTANT_ENCAPSED_STRING","'type'",549],["T_WHITESPACE"," ",549],["T_DOUBLE_ARROW","=>",549],["T_WHITESPACE"," ",549],["T_CONSTANT_ENCAPSED_STRING","'test_field'",549],",",["T_WHITESPACE","\n      ",549],["T_CONSTANT_ENCAPSED_STRING","'cardinality'",550],["T_WHITESPACE"," ",550],["T_DOUBLE_ARROW","=>",550],["T_WHITESPACE"," ",550],["T_LNUMBER","1",550],",",["T_WHITESPACE","\n      ",550],["T_CONSTANT_ENCAPSED_STRING","'locked'",551],["T_WHITESPACE"," ",551],["T_DOUBLE_ARROW","=>",551],["T_WHITESPACE"," ",551],["T_STRING","TRUE",551],["T_WHITESPACE","\n    ",551],")",")",";",["T_WHITESPACE","\n    ",552],["T_VARIABLE","$field_storage",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","save",553],"(",")",";",["T_WHITESPACE","\n    ",553],["T_STRING","FieldConfig",554],["T_DOUBLE_COLON","::",554],["T_STRING","create",554],"(",["T_ARRAY","array",554],"(",["T_WHITESPACE","\n      ",554],["T_CONSTANT_ENCAPSED_STRING","'field_storage'",555],["T_WHITESPACE"," ",555],["T_DOUBLE_ARROW","=>",555],["T_WHITESPACE"," ",555],["T_VARIABLE","$field_storage",555],",",["T_WHITESPACE","\n      ",555],["T_CONSTANT_ENCAPSED_STRING","'bundle'",556],["T_WHITESPACE"," ",556],["T_DOUBLE_ARROW","=>",556],["T_WHITESPACE"," ",556],["T_VARIABLE","$this",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","contentType",556],",",["T_WHITESPACE","\n    ",556],")",")",["T_OBJECT_OPERATOR","->",557],["T_STRING","save",557],"(",")",";",["T_WHITESPACE","\n    ",557],["T_STRING","entity_get_form_display",558],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",558],",",["T_WHITESPACE"," ",558],["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","contentType",558],",",["T_WHITESPACE"," ",558],["T_CONSTANT_ENCAPSED_STRING","'default'",558],")",["T_WHITESPACE","\n      ",558],["T_OBJECT_OPERATOR","->",559],["T_STRING","setComponent",559],"(",["T_VARIABLE","$field_name",559],",",["T_WHITESPACE"," ",559],["T_ARRAY","array",559],"(",["T_WHITESPACE","\n        ",559],["T_CONSTANT_ENCAPSED_STRING","'type'",560],["T_WHITESPACE"," ",560],["T_DOUBLE_ARROW","=>",560],["T_WHITESPACE"," ",560],["T_CONSTANT_ENCAPSED_STRING","'test_field_widget'",560],",",["T_WHITESPACE","\n      ",560],")",")",["T_WHITESPACE","\n      ",561],["T_OBJECT_OPERATOR","->",562],["T_STRING","save",562],"(",")",";",["T_WHITESPACE","\n\n    ",562],["T_COMMENT","\/\/ Check that the links for edit and delete are not present.\n",564],["T_WHITESPACE","    ",565],["T_VARIABLE","$this",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","drupalGet",565],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",565],["T_WHITESPACE"," ",565],".",["T_WHITESPACE"," ",565],["T_VARIABLE","$this",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","contentType",565],["T_WHITESPACE"," ",565],".",["T_WHITESPACE"," ",565],["T_CONSTANT_ENCAPSED_STRING","'\/fields'",565],")",";",["T_WHITESPACE","\n    ",565],["T_VARIABLE","$locked",566],["T_WHITESPACE"," ",566],"=",["T_WHITESPACE"," ",566],["T_VARIABLE","$this",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","xpath",566],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/tr[@id=:field_name]\/td[4]'",566],",",["T_WHITESPACE"," ",566],["T_ARRAY","array",566],"(",["T_CONSTANT_ENCAPSED_STRING","':field_name'",566],["T_WHITESPACE"," ",566],["T_DOUBLE_ARROW","=>",566],["T_WHITESPACE"," ",566],["T_VARIABLE","$field_name",566],")",")",";",["T_WHITESPACE","\n    ",566],["T_VARIABLE","$this",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","assertTrue",567],"(",["T_STRING","in_array",567],"(",["T_CONSTANT_ENCAPSED_STRING","'Locked'",567],",",["T_WHITESPACE"," ",567],["T_VARIABLE","$locked",567],")",",",["T_WHITESPACE"," ",567],["T_CONSTANT_ENCAPSED_STRING","'Field is marked as Locked in the UI'",567],")",";",["T_WHITESPACE","\n    ",567],["T_VARIABLE","$edit_link",568],["T_WHITESPACE"," ",568],"=",["T_WHITESPACE"," ",568],["T_VARIABLE","$this",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","xpath",568],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/tr[@id=:field_name]\/td[4]'",568],",",["T_WHITESPACE"," ",568],["T_ARRAY","array",568],"(",["T_CONSTANT_ENCAPSED_STRING","':field_name'",568],["T_WHITESPACE"," ",568],["T_DOUBLE_ARROW","=>",568],["T_WHITESPACE"," ",568],["T_VARIABLE","$field_name",568],")",")",";",["T_WHITESPACE","\n    ",568],["T_VARIABLE","$this",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","assertFalse",569],"(",["T_STRING","in_array",569],"(",["T_CONSTANT_ENCAPSED_STRING","'edit'",569],",",["T_WHITESPACE"," ",569],["T_VARIABLE","$edit_link",569],")",",",["T_WHITESPACE"," ",569],["T_CONSTANT_ENCAPSED_STRING","'Edit option for locked field is not present the UI'",569],")",";",["T_WHITESPACE","\n    ",569],["T_VARIABLE","$delete_link",570],["T_WHITESPACE"," ",570],"=",["T_WHITESPACE"," ",570],["T_VARIABLE","$this",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","xpath",570],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/tr[@id=:field_name]\/td[4]'",570],",",["T_WHITESPACE"," ",570],["T_ARRAY","array",570],"(",["T_CONSTANT_ENCAPSED_STRING","':field_name'",570],["T_WHITESPACE"," ",570],["T_DOUBLE_ARROW","=>",570],["T_WHITESPACE"," ",570],["T_VARIABLE","$field_name",570],")",")",";",["T_WHITESPACE","\n    ",570],["T_VARIABLE","$this",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","assertFalse",571],"(",["T_STRING","in_array",571],"(",["T_CONSTANT_ENCAPSED_STRING","'delete'",571],",",["T_WHITESPACE"," ",571],["T_VARIABLE","$delete_link",571],")",",",["T_WHITESPACE"," ",571],["T_CONSTANT_ENCAPSED_STRING","'Delete option for locked field is not present the UI'",571],")",";",["T_WHITESPACE","\n    ",571],["T_VARIABLE","$this",572],["T_OBJECT_OPERATOR","->",572],["T_STRING","drupalGet",572],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",572],["T_WHITESPACE"," ",572],".",["T_WHITESPACE"," ",572],["T_VARIABLE","$this",572],["T_OBJECT_OPERATOR","->",572],["T_STRING","contentType",572],["T_WHITESPACE"," ",572],".",["T_WHITESPACE"," ",572],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/node.'",572],["T_WHITESPACE"," ",572],".",["T_WHITESPACE"," ",572],["T_VARIABLE","$this",572],["T_OBJECT_OPERATOR","->",572],["T_STRING","contentType",572],["T_WHITESPACE"," ",572],".",["T_WHITESPACE"," ",572],["T_CONSTANT_ENCAPSED_STRING","'.'",572],["T_WHITESPACE"," ",572],".",["T_WHITESPACE"," ",572],["T_VARIABLE","$field_name",572],["T_WHITESPACE"," ",572],".",["T_WHITESPACE"," ",572],["T_CONSTANT_ENCAPSED_STRING","'\/delete'",572],")",";",["T_WHITESPACE","\n    ",572],["T_VARIABLE","$this",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","assertResponse",573],"(",["T_LNUMBER","403",573],")",";",["T_WHITESPACE","\n  ",573],"}",["T_WHITESPACE","\n\n  ",574],["T_DOC_COMMENT","\/**\n   * Tests that Field UI respects the 'no_ui' flag in the field type definition.\n   *\/",576],["T_WHITESPACE","\n  ",578],["T_FUNCTION","function",579],["T_WHITESPACE"," ",579],["T_STRING","testHiddenFields",579],"(",")",["T_WHITESPACE"," ",579],"{",["T_WHITESPACE","\n    ",579],["T_COMMENT","\/\/ Check that the field type is not available in the 'add new field' row.\n",580],["T_WHITESPACE","    ",581],["T_VARIABLE","$this",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","drupalGet",581],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",581],["T_WHITESPACE"," ",581],".",["T_WHITESPACE"," ",581],["T_VARIABLE","$this",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","contentType",581],["T_WHITESPACE"," ",581],".",["T_WHITESPACE"," ",581],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/add-field'",581],")",";",["T_WHITESPACE","\n    ",581],["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","assertFalse",582],"(",["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","xpath",582],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/select[@id=\"edit-new-storage-type\"]\/\/option[@value=\"hidden_test_field\"]'",582],")",",",["T_WHITESPACE"," ",582],["T_CONSTANT_ENCAPSED_STRING","\"The 'add new field' select respects field types 'no_ui' property.\"",582],")",";",["T_WHITESPACE","\n    ",582],["T_VARIABLE","$this",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","assertTrue",583],"(",["T_VARIABLE","$this",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","xpath",583],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/select[@id=\"edit-new-storage-type\"]\/\/option[@value=\"shape\"]'",583],")",",",["T_WHITESPACE"," ",583],["T_CONSTANT_ENCAPSED_STRING","\"The 'add new field' select shows a valid option.\"",583],")",";",["T_WHITESPACE","\n\n    ",583],["T_COMMENT","\/\/ Create a field storage and a field programmatically.\n",585],["T_WHITESPACE","    ",586],["T_VARIABLE","$field_name",586],["T_WHITESPACE"," ",586],"=",["T_WHITESPACE"," ",586],["T_CONSTANT_ENCAPSED_STRING","'hidden_test_field'",586],";",["T_WHITESPACE","\n    ",586],["T_STRING","FieldStorageConfig",587],["T_DOUBLE_COLON","::",587],["T_STRING","create",587],"(",["T_ARRAY","array",587],"(",["T_WHITESPACE","\n      ",587],["T_CONSTANT_ENCAPSED_STRING","'field_name'",588],["T_WHITESPACE"," ",588],["T_DOUBLE_ARROW","=>",588],["T_WHITESPACE"," ",588],["T_VARIABLE","$field_name",588],",",["T_WHITESPACE","\n      ",588],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",589],["T_WHITESPACE"," ",589],["T_DOUBLE_ARROW","=>",589],["T_WHITESPACE"," ",589],["T_CONSTANT_ENCAPSED_STRING","'node'",589],",",["T_WHITESPACE","\n      ",589],["T_CONSTANT_ENCAPSED_STRING","'type'",590],["T_WHITESPACE"," ",590],["T_DOUBLE_ARROW","=>",590],["T_WHITESPACE"," ",590],["T_VARIABLE","$field_name",590],",",["T_WHITESPACE","\n    ",590],")",")",["T_OBJECT_OPERATOR","->",591],["T_STRING","save",591],"(",")",";",["T_WHITESPACE","\n    ",591],["T_VARIABLE","$field",592],["T_WHITESPACE"," ",592],"=",["T_WHITESPACE"," ",592],["T_ARRAY","array",592],"(",["T_WHITESPACE","\n      ",592],["T_CONSTANT_ENCAPSED_STRING","'field_name'",593],["T_WHITESPACE"," ",593],["T_DOUBLE_ARROW","=>",593],["T_WHITESPACE"," ",593],["T_VARIABLE","$field_name",593],",",["T_WHITESPACE","\n      ",593],["T_CONSTANT_ENCAPSED_STRING","'bundle'",594],["T_WHITESPACE"," ",594],["T_DOUBLE_ARROW","=>",594],["T_WHITESPACE"," ",594],["T_VARIABLE","$this",594],["T_OBJECT_OPERATOR","->",594],["T_STRING","contentType",594],",",["T_WHITESPACE","\n      ",594],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",595],["T_WHITESPACE"," ",595],["T_DOUBLE_ARROW","=>",595],["T_WHITESPACE"," ",595],["T_CONSTANT_ENCAPSED_STRING","'node'",595],",",["T_WHITESPACE","\n      ",595],["T_CONSTANT_ENCAPSED_STRING","'label'",596],["T_WHITESPACE"," ",596],["T_DOUBLE_ARROW","=>",596],["T_WHITESPACE"," ",596],["T_STRING","t",596],"(",["T_CONSTANT_ENCAPSED_STRING","'Hidden field'",596],")",",",["T_WHITESPACE","\n    ",596],")",";",["T_WHITESPACE","\n    ",597],["T_STRING","FieldConfig",598],["T_DOUBLE_COLON","::",598],["T_STRING","create",598],"(",["T_VARIABLE","$field",598],")",["T_OBJECT_OPERATOR","->",598],["T_STRING","save",598],"(",")",";",["T_WHITESPACE","\n    ",598],["T_STRING","entity_get_form_display",599],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",599],",",["T_WHITESPACE"," ",599],["T_VARIABLE","$this",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","contentType",599],",",["T_WHITESPACE"," ",599],["T_CONSTANT_ENCAPSED_STRING","'default'",599],")",["T_WHITESPACE","\n      ",599],["T_OBJECT_OPERATOR","->",600],["T_STRING","setComponent",600],"(",["T_VARIABLE","$field_name",600],")",["T_WHITESPACE","\n      ",600],["T_OBJECT_OPERATOR","->",601],["T_STRING","save",601],"(",")",";",["T_WHITESPACE","\n    ",601],["T_VARIABLE","$this",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","assertTrue",602],"(",["T_STRING","FieldConfig",602],["T_DOUBLE_COLON","::",602],["T_STRING","load",602],"(",["T_CONSTANT_ENCAPSED_STRING","'node.'",602],["T_WHITESPACE"," ",602],".",["T_WHITESPACE"," ",602],["T_VARIABLE","$this",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","contentType",602],["T_WHITESPACE"," ",602],".",["T_WHITESPACE"," ",602],["T_CONSTANT_ENCAPSED_STRING","'.'",602],["T_WHITESPACE"," ",602],".",["T_WHITESPACE"," ",602],["T_VARIABLE","$field_name",602],")",",",["T_WHITESPACE"," ",602],["T_STRING","format_string",602],"(",["T_CONSTANT_ENCAPSED_STRING","'A field of the field storage %field was created programmatically.'",602],",",["T_WHITESPACE"," ",602],["T_ARRAY","array",602],"(",["T_CONSTANT_ENCAPSED_STRING","'%field'",602],["T_WHITESPACE"," ",602],["T_DOUBLE_ARROW","=>",602],["T_WHITESPACE"," ",602],["T_VARIABLE","$field_name",602],")",")",")",";",["T_WHITESPACE","\n\n    ",602],["T_COMMENT","\/\/ Check that the newly added field appears on the 'Manage Fields'\n",604],["T_WHITESPACE","    ",605],["T_COMMENT","\/\/ screen.\n",605],["T_WHITESPACE","    ",606],["T_VARIABLE","$this",606],["T_OBJECT_OPERATOR","->",606],["T_STRING","drupalGet",606],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",606],["T_WHITESPACE"," ",606],".",["T_WHITESPACE"," ",606],["T_VARIABLE","$this",606],["T_OBJECT_OPERATOR","->",606],["T_STRING","contentType",606],["T_WHITESPACE"," ",606],".",["T_WHITESPACE"," ",606],["T_CONSTANT_ENCAPSED_STRING","'\/fields'",606],")",";",["T_WHITESPACE","\n    ",606],["T_VARIABLE","$this",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","assertFieldByXPath",607],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/table[@id=\"field-overview\"]\/\/tr[@id=\"hidden-test-field\"]\/\/td[1]'",607],",",["T_WHITESPACE"," ",607],["T_VARIABLE","$field",607],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",607],"]",",",["T_WHITESPACE"," ",607],["T_CONSTANT_ENCAPSED_STRING","'Field was created and appears in the overview page.'",607],")",";",["T_WHITESPACE","\n\n    ",607],["T_COMMENT","\/\/ Check that the field does not appear in the 're-use existing field' row\n",609],["T_WHITESPACE","    ",610],["T_COMMENT","\/\/ on other bundles.\n",610],["T_WHITESPACE","    ",611],["T_VARIABLE","$this",611],["T_OBJECT_OPERATOR","->",611],["T_STRING","drupalGet",611],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/page\/fields\/add-field'",611],")",";",["T_WHITESPACE","\n    ",611],["T_VARIABLE","$this",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","assertFalse",612],"(",["T_VARIABLE","$this",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","xpath",612],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/select[@id=\"edit-existing-storage-name\"]\/\/option[@value=:field_name]'",612],",",["T_WHITESPACE"," ",612],["T_ARRAY","array",612],"(",["T_CONSTANT_ENCAPSED_STRING","':field_name'",612],["T_WHITESPACE"," ",612],["T_DOUBLE_ARROW","=>",612],["T_WHITESPACE"," ",612],["T_VARIABLE","$field_name",612],")",")",",",["T_WHITESPACE"," ",612],["T_CONSTANT_ENCAPSED_STRING","\"The 're-use existing field' select respects field types 'no_ui' property.\"",612],")",";",["T_WHITESPACE","\n    ",612],["T_VARIABLE","$this",613],["T_OBJECT_OPERATOR","->",613],["T_STRING","assertTrue",613],"(",["T_VARIABLE","$this",613],["T_OBJECT_OPERATOR","->",613],["T_STRING","xpath",613],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/select[@id=\"edit-existing-storage-name\"]\/\/option[@value=:field_name]'",613],",",["T_WHITESPACE"," ",613],["T_ARRAY","array",613],"(",["T_CONSTANT_ENCAPSED_STRING","':field_name'",613],["T_WHITESPACE"," ",613],["T_DOUBLE_ARROW","=>",613],["T_WHITESPACE"," ",613],["T_CONSTANT_ENCAPSED_STRING","'field_tags'",613],")",")",",",["T_WHITESPACE"," ",613],["T_CONSTANT_ENCAPSED_STRING","\"The 're-use existing field' select shows a valid option.\"",613],")",";",["T_WHITESPACE","\n\n    ",613],["T_COMMENT","\/\/ Check that non-configurable fields are not available.\n",615],["T_WHITESPACE","    ",616],["T_VARIABLE","$field_types",616],["T_WHITESPACE"," ",616],"=",["T_WHITESPACE"," ",616],["T_NS_SEPARATOR","\\",616],["T_STRING","Drupal",616],["T_DOUBLE_COLON","::",616],["T_STRING","service",616],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.field.field_type'",616],")",["T_OBJECT_OPERATOR","->",616],["T_STRING","getDefinitions",616],"(",")",";",["T_WHITESPACE","\n    ",616],["T_FOREACH","foreach",617],["T_WHITESPACE"," ",617],"(",["T_VARIABLE","$field_types",617],["T_WHITESPACE"," ",617],["T_AS","as",617],["T_WHITESPACE"," ",617],["T_VARIABLE","$field_type",617],["T_WHITESPACE"," ",617],["T_DOUBLE_ARROW","=>",617],["T_WHITESPACE"," ",617],["T_VARIABLE","$definition",617],")",["T_WHITESPACE"," ",617],"{",["T_WHITESPACE","\n      ",617],["T_IF","if",618],["T_WHITESPACE"," ",618],"(",["T_EMPTY","empty",618],"(",["T_VARIABLE","$definition",618],"[",["T_CONSTANT_ENCAPSED_STRING","'no_ui'",618],"]",")",")",["T_WHITESPACE"," ",618],"{",["T_WHITESPACE","\n        ",618],["T_VARIABLE","$this",619],["T_OBJECT_OPERATOR","->",619],["T_STRING","assertTrue",619],"(",["T_VARIABLE","$this",619],["T_OBJECT_OPERATOR","->",619],["T_STRING","xpath",619],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/select[@id=\"edit-new-storage-type\"]\/\/option[@value=:field_type]'",619],",",["T_WHITESPACE"," ",619],["T_ARRAY","array",619],"(",["T_CONSTANT_ENCAPSED_STRING","':field_type'",619],["T_WHITESPACE"," ",619],["T_DOUBLE_ARROW","=>",619],["T_WHITESPACE"," ",619],["T_VARIABLE","$field_type",619],")",")",",",["T_WHITESPACE"," ",619],["T_STRING","SafeMarkup",619],["T_DOUBLE_COLON","::",619],["T_STRING","format",619],"(",["T_CONSTANT_ENCAPSED_STRING","'Configurable field type @field_type is available.'",619],",",["T_WHITESPACE"," ",619],["T_ARRAY","array",619],"(",["T_CONSTANT_ENCAPSED_STRING","'@field_type'",619],["T_WHITESPACE"," ",619],["T_DOUBLE_ARROW","=>",619],["T_WHITESPACE"," ",619],["T_VARIABLE","$field_type",619],")",")",")",";",["T_WHITESPACE","\n      ",619],"}",["T_WHITESPACE","\n      ",620],["T_ELSE","else",621],["T_WHITESPACE"," ",621],"{",["T_WHITESPACE","\n        ",621],["T_VARIABLE","$this",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","assertFalse",622],"(",["T_VARIABLE","$this",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","xpath",622],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/select[@id=\"edit-new-storage-type\"]\/\/option[@value=:field_type]'",622],",",["T_WHITESPACE"," ",622],["T_ARRAY","array",622],"(",["T_CONSTANT_ENCAPSED_STRING","':field_type'",622],["T_WHITESPACE"," ",622],["T_DOUBLE_ARROW","=>",622],["T_WHITESPACE"," ",622],["T_VARIABLE","$field_type",622],")",")",",",["T_WHITESPACE"," ",622],["T_STRING","SafeMarkup",622],["T_DOUBLE_COLON","::",622],["T_STRING","format",622],"(",["T_CONSTANT_ENCAPSED_STRING","'Non-configurable field type @field_type is not available.'",622],",",["T_WHITESPACE"," ",622],["T_ARRAY","array",622],"(",["T_CONSTANT_ENCAPSED_STRING","'@field_type'",622],["T_WHITESPACE"," ",622],["T_DOUBLE_ARROW","=>",622],["T_WHITESPACE"," ",622],["T_VARIABLE","$field_type",622],")",")",")",";",["T_WHITESPACE","\n      ",622],"}",["T_WHITESPACE","\n    ",623],"}",["T_WHITESPACE","\n  ",624],"}",["T_WHITESPACE","\n\n  ",625],["T_DOC_COMMENT","\/**\n   * Tests that a duplicate field name is caught by validation.\n   *\/",627],["T_WHITESPACE","\n  ",629],["T_FUNCTION","function",630],["T_WHITESPACE"," ",630],["T_STRING","testDuplicateFieldName",630],"(",")",["T_WHITESPACE"," ",630],"{",["T_WHITESPACE","\n    ",630],["T_COMMENT","\/\/ field_tags already exists, so we're expecting an error when trying to\n",631],["T_WHITESPACE","    ",632],["T_COMMENT","\/\/ create a new field with the same name.\n",632],["T_WHITESPACE","    ",633],["T_VARIABLE","$edit",633],["T_WHITESPACE"," ",633],"=",["T_WHITESPACE"," ",633],["T_ARRAY","array",633],"(",["T_WHITESPACE","\n      ",633],["T_CONSTANT_ENCAPSED_STRING","'field_name'",634],["T_WHITESPACE"," ",634],["T_DOUBLE_ARROW","=>",634],["T_WHITESPACE"," ",634],["T_CONSTANT_ENCAPSED_STRING","'tags'",634],",",["T_WHITESPACE","\n      ",634],["T_CONSTANT_ENCAPSED_STRING","'label'",635],["T_WHITESPACE"," ",635],["T_DOUBLE_ARROW","=>",635],["T_WHITESPACE"," ",635],["T_VARIABLE","$this",635],["T_OBJECT_OPERATOR","->",635],["T_STRING","randomMachineName",635],"(",")",",",["T_WHITESPACE","\n      ",635],["T_CONSTANT_ENCAPSED_STRING","'new_storage_type'",636],["T_WHITESPACE"," ",636],["T_DOUBLE_ARROW","=>",636],["T_WHITESPACE"," ",636],["T_CONSTANT_ENCAPSED_STRING","'entity_reference'",636],",",["T_WHITESPACE","\n    ",636],")",";",["T_WHITESPACE","\n    ",637],["T_VARIABLE","$url",638],["T_WHITESPACE"," ",638],"=",["T_WHITESPACE"," ",638],["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",638],["T_WHITESPACE"," ",638],".",["T_WHITESPACE"," ",638],["T_VARIABLE","$this",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","contentType",638],["T_WHITESPACE"," ",638],".",["T_WHITESPACE"," ",638],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/add-field'",638],";",["T_WHITESPACE","\n    ",638],["T_VARIABLE","$this",639],["T_OBJECT_OPERATOR","->",639],["T_STRING","drupalPostForm",639],"(",["T_VARIABLE","$url",639],",",["T_WHITESPACE"," ",639],["T_VARIABLE","$edit",639],",",["T_WHITESPACE"," ",639],["T_STRING","t",639],"(",["T_CONSTANT_ENCAPSED_STRING","'Save and continue'",639],")",")",";",["T_WHITESPACE","\n\n    ",639],["T_VARIABLE","$this",641],["T_OBJECT_OPERATOR","->",641],["T_STRING","assertText",641],"(",["T_STRING","t",641],"(",["T_CONSTANT_ENCAPSED_STRING","'The machine-readable name is already in use. It must be unique.'",641],")",")",";",["T_WHITESPACE","\n    ",641],["T_VARIABLE","$this",642],["T_OBJECT_OPERATOR","->",642],["T_STRING","assertUrl",642],"(",["T_VARIABLE","$url",642],",",["T_WHITESPACE"," ",642],["T_ARRAY","array",642],"(",")",",",["T_WHITESPACE"," ",642],["T_CONSTANT_ENCAPSED_STRING","'Stayed on the same page.'",642],")",";",["T_WHITESPACE","\n  ",642],"}",["T_WHITESPACE","\n\n  ",643],["T_DOC_COMMENT","\/**\n   * Tests that external URLs in the 'destinations' query parameter are blocked.\n   *\/",645],["T_WHITESPACE","\n  ",647],["T_PUBLIC","public",648],["T_WHITESPACE"," ",648],["T_FUNCTION","function",648],["T_WHITESPACE"," ",648],["T_STRING","testExternalDestinations",648],"(",")",["T_WHITESPACE"," ",648],"{",["T_WHITESPACE","\n    ",648],["T_VARIABLE","$options",649],["T_WHITESPACE"," ",649],"=",["T_WHITESPACE"," ",649],"[",["T_WHITESPACE","\n      ",649],["T_CONSTANT_ENCAPSED_STRING","'query'",650],["T_WHITESPACE"," ",650],["T_DOUBLE_ARROW","=>",650],["T_WHITESPACE"," ",650],"[",["T_CONSTANT_ENCAPSED_STRING","'destinations'",650],["T_WHITESPACE"," ",650],["T_DOUBLE_ARROW","=>",650],["T_WHITESPACE"," ",650],"[",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com'",650],"]","]",",",["T_WHITESPACE","\n    ",650],"]",";",["T_WHITESPACE","\n    ",651],["T_VARIABLE","$this",652],["T_OBJECT_OPERATOR","->",652],["T_STRING","drupalPostForm",652],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/article\/fields\/node.article.body\/storage'",652],",",["T_WHITESPACE"," ",652],"[","]",",",["T_WHITESPACE"," ",652],["T_CONSTANT_ENCAPSED_STRING","'Save field settings'",652],",",["T_WHITESPACE"," ",652],["T_VARIABLE","$options",652],")",";",["T_WHITESPACE","\n    ",652],["T_COMMENT","\/\/ The external redirect should not fire.\n",653],["T_WHITESPACE","    ",654],["T_VARIABLE","$this",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","assertUrl",654],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/article\/fields\/node.article.body\/storage'",654],",",["T_WHITESPACE"," ",654],["T_VARIABLE","$options",654],")",";",["T_WHITESPACE","\n    ",654],["T_VARIABLE","$this",655],["T_OBJECT_OPERATOR","->",655],["T_STRING","assertResponse",655],"(",["T_LNUMBER","200",655],")",";",["T_WHITESPACE","\n    ",655],["T_VARIABLE","$this",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","assertRaw",656],"(",["T_CONSTANT_ENCAPSED_STRING","'Attempt to update field <em class=\"placeholder\">Body<\/em> failed: <em class=\"placeholder\">The internal path component &#039;http:\/\/example.com&#039; is external. You are not allowed to specify an external URL together with internal:\/.<\/em>.'",656],")",";",["T_WHITESPACE","\n  ",656],"}",["T_WHITESPACE","\n\n  ",657],["T_DOC_COMMENT","\/**\n   * Tests that deletion removes field storages and fields as expected for a term.\n   *\/",659],["T_WHITESPACE","\n  ",661],["T_FUNCTION","function",662],["T_WHITESPACE"," ",662],["T_STRING","testDeleteTaxonomyField",662],"(",")",["T_WHITESPACE"," ",662],"{",["T_WHITESPACE","\n    ",662],["T_COMMENT","\/\/ Create a new field.\n",663],["T_WHITESPACE","    ",664],["T_VARIABLE","$bundle_path",664],["T_WHITESPACE"," ",664],"=",["T_WHITESPACE"," ",664],["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/taxonomy\/manage\/tags\/overview'",664],";",["T_WHITESPACE","\n\n    ",664],["T_VARIABLE","$this",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","fieldUIAddNewField",666],"(",["T_VARIABLE","$bundle_path",666],",",["T_WHITESPACE"," ",666],["T_VARIABLE","$this",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","fieldNameInput",666],",",["T_WHITESPACE"," ",666],["T_VARIABLE","$this",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","fieldLabel",666],")",";",["T_WHITESPACE","\n\n    ",666],["T_COMMENT","\/\/ Delete the field.\n",668],["T_WHITESPACE","    ",669],["T_VARIABLE","$this",669],["T_OBJECT_OPERATOR","->",669],["T_STRING","fieldUIDeleteField",669],"(",["T_VARIABLE","$bundle_path",669],",",["T_WHITESPACE"," ",669],"\"",["T_ENCAPSED_AND_WHITESPACE","taxonomy_term.tags.",669],["T_VARIABLE","$this",669],["T_OBJECT_OPERATOR","->",669],["T_STRING","fieldName",669],"\"",",",["T_WHITESPACE"," ",669],["T_VARIABLE","$this",669],["T_OBJECT_OPERATOR","->",669],["T_STRING","fieldLabel",669],",",["T_WHITESPACE"," ",669],["T_CONSTANT_ENCAPSED_STRING","'Tags'",669],")",";",["T_WHITESPACE","\n\n    ",669],["T_COMMENT","\/\/ Check that the field was deleted.\n",671],["T_WHITESPACE","    ",672],["T_VARIABLE","$this",672],["T_OBJECT_OPERATOR","->",672],["T_STRING","assertNull",672],"(",["T_STRING","FieldConfig",672],["T_DOUBLE_COLON","::",672],["T_STRING","loadByName",672],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term'",672],",",["T_WHITESPACE"," ",672],["T_CONSTANT_ENCAPSED_STRING","'tags'",672],",",["T_WHITESPACE"," ",672],["T_VARIABLE","$this",672],["T_OBJECT_OPERATOR","->",672],["T_STRING","fieldName",672],")",",",["T_WHITESPACE"," ",672],["T_CONSTANT_ENCAPSED_STRING","'Field was deleted.'",672],")",";",["T_WHITESPACE","\n    ",672],["T_COMMENT","\/\/ Check that the field storage was deleted too.\n",673],["T_WHITESPACE","    ",674],["T_VARIABLE","$this",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","assertNull",674],"(",["T_STRING","FieldStorageConfig",674],["T_DOUBLE_COLON","::",674],["T_STRING","loadByName",674],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term'",674],",",["T_WHITESPACE"," ",674],["T_VARIABLE","$this",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","fieldName",674],")",",",["T_WHITESPACE"," ",674],["T_CONSTANT_ENCAPSED_STRING","'Field storage was deleted.'",674],")",";",["T_WHITESPACE","\n  ",674],"}",["T_WHITESPACE","\n\n  ",675],["T_DOC_COMMENT","\/**\n   * Tests that help descriptions render valid HTML.\n   *\/",677],["T_WHITESPACE","\n  ",679],["T_FUNCTION","function",680],["T_WHITESPACE"," ",680],["T_STRING","testHelpDescriptions",680],"(",")",["T_WHITESPACE"," ",680],"{",["T_WHITESPACE","\n    ",680],["T_COMMENT","\/\/ Create an image field\n",681],["T_WHITESPACE","    ",682],["T_STRING","FieldStorageConfig",682],["T_DOUBLE_COLON","::",682],["T_STRING","create",682],"(",["T_ARRAY","array",682],"(",["T_WHITESPACE","\n      ",682],["T_CONSTANT_ENCAPSED_STRING","'field_name'",683],["T_WHITESPACE"," ",683],["T_DOUBLE_ARROW","=>",683],["T_WHITESPACE"," ",683],["T_CONSTANT_ENCAPSED_STRING","'field_image'",683],",",["T_WHITESPACE","\n      ",683],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",684],["T_WHITESPACE"," ",684],["T_DOUBLE_ARROW","=>",684],["T_WHITESPACE"," ",684],["T_CONSTANT_ENCAPSED_STRING","'node'",684],",",["T_WHITESPACE","\n      ",684],["T_CONSTANT_ENCAPSED_STRING","'type'",685],["T_WHITESPACE"," ",685],["T_DOUBLE_ARROW","=>",685],["T_WHITESPACE"," ",685],["T_CONSTANT_ENCAPSED_STRING","'image'",685],",",["T_WHITESPACE","\n    ",685],")",")",["T_OBJECT_OPERATOR","->",686],["T_STRING","save",686],"(",")",";",["T_WHITESPACE","\n\n    ",686],["T_STRING","FieldConfig",688],["T_DOUBLE_COLON","::",688],["T_STRING","create",688],"(",["T_ARRAY","array",688],"(",["T_WHITESPACE","\n      ",688],["T_CONSTANT_ENCAPSED_STRING","'field_name'",689],["T_WHITESPACE"," ",689],["T_DOUBLE_ARROW","=>",689],["T_WHITESPACE"," ",689],["T_CONSTANT_ENCAPSED_STRING","'field_image'",689],",",["T_WHITESPACE","\n      ",689],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",690],["T_WHITESPACE"," ",690],["T_DOUBLE_ARROW","=>",690],["T_WHITESPACE"," ",690],["T_CONSTANT_ENCAPSED_STRING","'node'",690],",",["T_WHITESPACE","\n      ",690],["T_CONSTANT_ENCAPSED_STRING","'label'",691],["T_WHITESPACE"," ",691],["T_DOUBLE_ARROW","=>",691],["T_WHITESPACE"," ",691],["T_CONSTANT_ENCAPSED_STRING","'Image'",691],",",["T_WHITESPACE","\n      ",691],["T_CONSTANT_ENCAPSED_STRING","'bundle'",692],["T_WHITESPACE"," ",692],["T_DOUBLE_ARROW","=>",692],["T_WHITESPACE"," ",692],["T_CONSTANT_ENCAPSED_STRING","'article'",692],",",["T_WHITESPACE","\n    ",692],")",")",["T_OBJECT_OPERATOR","->",693],["T_STRING","save",693],"(",")",";",["T_WHITESPACE","\n\n    ",693],["T_STRING","entity_get_form_display",695],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",695],",",["T_WHITESPACE"," ",695],["T_CONSTANT_ENCAPSED_STRING","'article'",695],",",["T_WHITESPACE"," ",695],["T_CONSTANT_ENCAPSED_STRING","'default'",695],")",["T_OBJECT_OPERATOR","->",695],["T_STRING","setComponent",695],"(",["T_CONSTANT_ENCAPSED_STRING","'field_image'",695],")",["T_OBJECT_OPERATOR","->",695],["T_STRING","save",695],"(",")",";",["T_WHITESPACE","\n\n    ",695],["T_VARIABLE","$edit",697],["T_WHITESPACE"," ",697],"=",["T_WHITESPACE"," ",697],["T_ARRAY","array",697],"(",["T_WHITESPACE","\n      ",697],["T_CONSTANT_ENCAPSED_STRING","'description'",698],["T_WHITESPACE"," ",698],["T_DOUBLE_ARROW","=>",698],["T_WHITESPACE"," ",698],["T_CONSTANT_ENCAPSED_STRING","'<strong>Test with an upload field.'",698],",",["T_WHITESPACE","\n    ",698],")",";",["T_WHITESPACE","\n    ",699],["T_VARIABLE","$this",700],["T_OBJECT_OPERATOR","->",700],["T_STRING","drupalPostForm",700],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/article\/fields\/node.article.field_image'",700],",",["T_WHITESPACE"," ",700],["T_VARIABLE","$edit",700],",",["T_WHITESPACE"," ",700],["T_STRING","t",700],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",700],")",")",";",["T_WHITESPACE","\n\n    ",700],["T_COMMENT","\/\/ Check that hook_field_widget_form_alter() does believe this is the\n",702],["T_WHITESPACE","    ",703],["T_COMMENT","\/\/ default value form.\n",703],["T_WHITESPACE","    ",704],["T_VARIABLE","$this",704],["T_OBJECT_OPERATOR","->",704],["T_STRING","drupalGet",704],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/article\/fields\/node.article.field_tags'",704],")",";",["T_WHITESPACE","\n    ",704],["T_VARIABLE","$this",705],["T_OBJECT_OPERATOR","->",705],["T_STRING","assertText",705],"(",["T_CONSTANT_ENCAPSED_STRING","'From hook_field_widget_form_alter(): Default form is true.'",705],",",["T_WHITESPACE"," ",705],["T_CONSTANT_ENCAPSED_STRING","'Default value form in hook_field_widget_form_alter().'",705],")",";",["T_WHITESPACE","\n\n    ",705],["T_VARIABLE","$edit",707],["T_WHITESPACE"," ",707],"=",["T_WHITESPACE"," ",707],["T_ARRAY","array",707],"(",["T_WHITESPACE","\n      ",707],["T_CONSTANT_ENCAPSED_STRING","'description'",708],["T_WHITESPACE"," ",708],["T_DOUBLE_ARROW","=>",708],["T_WHITESPACE"," ",708],["T_CONSTANT_ENCAPSED_STRING","'<em>Test with a non upload field.'",708],",",["T_WHITESPACE","\n    ",708],")",";",["T_WHITESPACE","\n    ",709],["T_VARIABLE","$this",710],["T_OBJECT_OPERATOR","->",710],["T_STRING","drupalPostForm",710],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/article\/fields\/node.article.field_tags'",710],",",["T_WHITESPACE"," ",710],["T_VARIABLE","$edit",710],",",["T_WHITESPACE"," ",710],["T_STRING","t",710],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",710],")",")",";",["T_WHITESPACE","\n\n    ",710],["T_VARIABLE","$this",712],["T_OBJECT_OPERATOR","->",712],["T_STRING","drupalGet",712],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/add\/article'",712],")",";",["T_WHITESPACE","\n    ",712],["T_VARIABLE","$this",713],["T_OBJECT_OPERATOR","->",713],["T_STRING","assertRaw",713],"(",["T_CONSTANT_ENCAPSED_STRING","'<strong>Test with an upload field.<\/strong>'",713],")",";",["T_WHITESPACE","\n    ",713],["T_VARIABLE","$this",714],["T_OBJECT_OPERATOR","->",714],["T_STRING","assertRaw",714],"(",["T_CONSTANT_ENCAPSED_STRING","'<em>Test with a non upload field.<\/em>'",714],")",";",["T_WHITESPACE","\n  ",714],"}",["T_WHITESPACE","\n\n  ",715],["T_DOC_COMMENT","\/**\n   * Tests that the field list administration page operates correctly.\n   *\/",717],["T_WHITESPACE","\n  ",719],["T_FUNCTION","function",720],["T_WHITESPACE"," ",720],["T_STRING","fieldListAdminPage",720],"(",")",["T_WHITESPACE"," ",720],"{",["T_WHITESPACE","\n    ",720],["T_VARIABLE","$this",721],["T_OBJECT_OPERATOR","->",721],["T_STRING","drupalGet",721],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/reports\/fields'",721],")",";",["T_WHITESPACE","\n    ",721],["T_VARIABLE","$this",722],["T_OBJECT_OPERATOR","->",722],["T_STRING","assertText",722],"(",["T_VARIABLE","$this",722],["T_OBJECT_OPERATOR","->",722],["T_STRING","fieldName",722],",",["T_WHITESPACE"," ",722],["T_CONSTANT_ENCAPSED_STRING","'Field name is displayed in field list.'",722],")",";",["T_WHITESPACE","\n    ",722],["T_VARIABLE","$this",723],["T_OBJECT_OPERATOR","->",723],["T_STRING","assertTrue",723],"(",["T_VARIABLE","$this",723],["T_OBJECT_OPERATOR","->",723],["T_STRING","assertLinkByHref",723],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",723],["T_WHITESPACE"," ",723],".",["T_WHITESPACE"," ",723],["T_VARIABLE","$this",723],["T_OBJECT_OPERATOR","->",723],["T_STRING","contentType",723],["T_WHITESPACE"," ",723],".",["T_WHITESPACE"," ",723],["T_CONSTANT_ENCAPSED_STRING","'\/fields'",723],")",",",["T_WHITESPACE"," ",723],["T_CONSTANT_ENCAPSED_STRING","'Link to content type using field is displayed in field list.'",723],")",";",["T_WHITESPACE","\n  ",723],"}",["T_WHITESPACE","\n\n  ",724],["T_DOC_COMMENT","\/**\n   * Tests the \"preconfigured field\" functionality.\n   *\n   * @see \\Drupal\\Core\\Field\\PreconfiguredFieldUiOptionsInterface\n   *\/",726],["T_WHITESPACE","\n  ",730],["T_PUBLIC","public",731],["T_WHITESPACE"," ",731],["T_FUNCTION","function",731],["T_WHITESPACE"," ",731],["T_STRING","testPreconfiguredFields",731],"(",")",["T_WHITESPACE"," ",731],"{",["T_WHITESPACE","\n    ",731],["T_VARIABLE","$this",732],["T_OBJECT_OPERATOR","->",732],["T_STRING","drupalGet",732],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/article\/fields\/add-field'",732],")",";",["T_WHITESPACE","\n\n    ",732],["T_COMMENT","\/\/ Check that the preconfigured field option exist alongside the regular\n",734],["T_WHITESPACE","    ",735],["T_COMMENT","\/\/ field type option.\n",735],["T_WHITESPACE","    ",736],["T_VARIABLE","$this",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","assertOption",736],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-new-storage-type'",736],",",["T_WHITESPACE"," ",736],["T_CONSTANT_ENCAPSED_STRING","'field_ui:test_field_with_preconfigured_options:custom_options'",736],")",";",["T_WHITESPACE","\n    ",736],["T_VARIABLE","$this",737],["T_OBJECT_OPERATOR","->",737],["T_STRING","assertOption",737],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-new-storage-type'",737],",",["T_WHITESPACE"," ",737],["T_CONSTANT_ENCAPSED_STRING","'test_field_with_preconfigured_options'",737],")",";",["T_WHITESPACE","\n\n    ",737],["T_COMMENT","\/\/ Add a field with every possible preconfigured value.\n",739],["T_WHITESPACE","    ",740],["T_VARIABLE","$this",740],["T_OBJECT_OPERATOR","->",740],["T_STRING","fieldUIAddNewField",740],"(",["T_STRING","NULL",740],",",["T_WHITESPACE"," ",740],["T_CONSTANT_ENCAPSED_STRING","'test_custom_options'",740],",",["T_WHITESPACE"," ",740],["T_CONSTANT_ENCAPSED_STRING","'Test label'",740],",",["T_WHITESPACE"," ",740],["T_CONSTANT_ENCAPSED_STRING","'field_ui:test_field_with_preconfigured_options:custom_options'",740],")",";",["T_WHITESPACE","\n    ",740],["T_VARIABLE","$field_storage",741],["T_WHITESPACE"," ",741],"=",["T_WHITESPACE"," ",741],["T_STRING","FieldStorageConfig",741],["T_DOUBLE_COLON","::",741],["T_STRING","loadByName",741],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",741],",",["T_WHITESPACE"," ",741],["T_CONSTANT_ENCAPSED_STRING","'field_test_custom_options'",741],")",";",["T_WHITESPACE","\n    ",741],["T_VARIABLE","$this",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","assertEqual",742],"(",["T_VARIABLE","$field_storage",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","getCardinality",742],"(",")",",",["T_WHITESPACE"," ",742],["T_STRING","FieldStorageDefinitionInterface",742],["T_DOUBLE_COLON","::",742],["T_STRING","CARDINALITY_UNLIMITED",742],")",";",["T_WHITESPACE","\n    ",742],["T_VARIABLE","$this",743],["T_OBJECT_OPERATOR","->",743],["T_STRING","assertEqual",743],"(",["T_VARIABLE","$field_storage",743],["T_OBJECT_OPERATOR","->",743],["T_STRING","getSetting",743],"(",["T_CONSTANT_ENCAPSED_STRING","'test_field_storage_setting'",743],")",",",["T_WHITESPACE"," ",743],["T_CONSTANT_ENCAPSED_STRING","'preconfigured_storage_setting'",743],")",";",["T_WHITESPACE","\n\n    ",743],["T_VARIABLE","$field",745],["T_WHITESPACE"," ",745],"=",["T_WHITESPACE"," ",745],["T_STRING","FieldConfig",745],["T_DOUBLE_COLON","::",745],["T_STRING","loadByName",745],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",745],",",["T_WHITESPACE"," ",745],["T_CONSTANT_ENCAPSED_STRING","'article'",745],",",["T_WHITESPACE"," ",745],["T_CONSTANT_ENCAPSED_STRING","'field_test_custom_options'",745],")",";",["T_WHITESPACE","\n    ",745],["T_VARIABLE","$this",746],["T_OBJECT_OPERATOR","->",746],["T_STRING","assertTrue",746],"(",["T_VARIABLE","$field",746],["T_OBJECT_OPERATOR","->",746],["T_STRING","isRequired",746],"(",")",")",";",["T_WHITESPACE","\n    ",746],["T_VARIABLE","$this",747],["T_OBJECT_OPERATOR","->",747],["T_STRING","assertEqual",747],"(",["T_VARIABLE","$field",747],["T_OBJECT_OPERATOR","->",747],["T_STRING","getSetting",747],"(",["T_CONSTANT_ENCAPSED_STRING","'test_field_setting'",747],")",",",["T_WHITESPACE"," ",747],["T_CONSTANT_ENCAPSED_STRING","'preconfigured_field_setting'",747],")",";",["T_WHITESPACE","\n\n    ",747],["T_VARIABLE","$form_display",749],["T_WHITESPACE"," ",749],"=",["T_WHITESPACE"," ",749],["T_STRING","entity_get_form_display",749],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",749],",",["T_WHITESPACE"," ",749],["T_CONSTANT_ENCAPSED_STRING","'article'",749],",",["T_WHITESPACE"," ",749],["T_CONSTANT_ENCAPSED_STRING","'default'",749],")",";",["T_WHITESPACE","\n    ",749],["T_VARIABLE","$this",750],["T_OBJECT_OPERATOR","->",750],["T_STRING","assertEqual",750],"(",["T_VARIABLE","$form_display",750],["T_OBJECT_OPERATOR","->",750],["T_STRING","getComponent",750],"(",["T_CONSTANT_ENCAPSED_STRING","'field_test_custom_options'",750],")","[",["T_CONSTANT_ENCAPSED_STRING","'type'",750],"]",",",["T_WHITESPACE"," ",750],["T_CONSTANT_ENCAPSED_STRING","'test_field_widget_multiple'",750],")",";",["T_WHITESPACE","\n    ",750],["T_VARIABLE","$view_display",751],["T_WHITESPACE"," ",751],"=",["T_WHITESPACE"," ",751],["T_STRING","entity_get_display",751],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",751],",",["T_WHITESPACE"," ",751],["T_CONSTANT_ENCAPSED_STRING","'article'",751],",",["T_WHITESPACE"," ",751],["T_CONSTANT_ENCAPSED_STRING","'default'",751],")",";",["T_WHITESPACE","\n    ",751],["T_VARIABLE","$this",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","assertEqual",752],"(",["T_VARIABLE","$view_display",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","getComponent",752],"(",["T_CONSTANT_ENCAPSED_STRING","'field_test_custom_options'",752],")","[",["T_CONSTANT_ENCAPSED_STRING","'type'",752],"]",",",["T_WHITESPACE"," ",752],["T_CONSTANT_ENCAPSED_STRING","'field_test_multiple'",752],")",";",["T_WHITESPACE","\n  ",752],"}",["T_WHITESPACE","\n\n  ",753],["T_DOC_COMMENT","\/**\n   * Tests the access to non-existent field URLs.\n   *\/",755],["T_WHITESPACE","\n  ",757],["T_PUBLIC","public",758],["T_WHITESPACE"," ",758],["T_FUNCTION","function",758],["T_WHITESPACE"," ",758],["T_STRING","testNonExistentFieldUrls",758],"(",")",["T_WHITESPACE"," ",758],"{",["T_WHITESPACE","\n    ",758],["T_VARIABLE","$field_id",759],["T_WHITESPACE"," ",759],"=",["T_WHITESPACE"," ",759],["T_CONSTANT_ENCAPSED_STRING","'node.foo.bar'",759],";",["T_WHITESPACE","\n\n    ",759],["T_VARIABLE","$this",761],["T_OBJECT_OPERATOR","->",761],["T_STRING","drupalGet",761],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",761],["T_WHITESPACE"," ",761],".",["T_WHITESPACE"," ",761],["T_VARIABLE","$this",761],["T_OBJECT_OPERATOR","->",761],["T_STRING","contentType",761],["T_WHITESPACE"," ",761],".",["T_WHITESPACE"," ",761],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/'",761],["T_WHITESPACE"," ",761],".",["T_WHITESPACE"," ",761],["T_VARIABLE","$field_id",761],")",";",["T_WHITESPACE","\n    ",761],["T_VARIABLE","$this",762],["T_OBJECT_OPERATOR","->",762],["T_STRING","assertResponse",762],"(",["T_LNUMBER","404",762],")",";",["T_WHITESPACE","\n\n    ",762],["T_VARIABLE","$this",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","drupalGet",764],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",764],["T_WHITESPACE"," ",764],".",["T_WHITESPACE"," ",764],["T_VARIABLE","$this",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","contentType",764],["T_WHITESPACE"," ",764],".",["T_WHITESPACE"," ",764],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/'",764],["T_WHITESPACE"," ",764],".",["T_WHITESPACE"," ",764],["T_VARIABLE","$field_id",764],["T_WHITESPACE"," ",764],".",["T_WHITESPACE"," ",764],["T_CONSTANT_ENCAPSED_STRING","'\/storage'",764],")",";",["T_WHITESPACE","\n    ",764],["T_VARIABLE","$this",765],["T_OBJECT_OPERATOR","->",765],["T_STRING","assertResponse",765],"(",["T_LNUMBER","404",765],")",";",["T_WHITESPACE","\n  ",765],"}",["T_WHITESPACE","\n\n",766],"}",["T_WHITESPACE","\n",768]]