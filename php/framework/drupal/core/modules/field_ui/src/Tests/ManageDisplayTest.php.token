[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","field_ui",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Unicode",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","EntityViewDisplay",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","EntityInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Language",8],["T_NS_SEPARATOR","\\",8],["T_STRING","LanguageInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","node",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","NodeType",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","simpletest",10],["T_NS_SEPARATOR","\\",10],["T_STRING","WebTestBase",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","taxonomy",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Entity",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Vocabulary",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Tests the Field UI \"Manage display\" and \"Manage form display\" screens.\n *\n * @group field_ui\n *\/",13],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","ManageDisplayTest",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_STRING","WebTestBase",18],["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n\n  ",18],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","FieldUiTestTrait",20],";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * Modules to install.\n   *\n   * @var array\n   *\/",22],["T_WHITESPACE","\n  ",26],["T_PUBLIC","public",27],["T_WHITESPACE"," ",27],["T_STATIC","static",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$modules",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_ARRAY","array",27],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'field_ui'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'taxonomy'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'search'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'field_test'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'field_third_party_test'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'block'",27],")",";",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",29],["T_WHITESPACE","\n  ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","setUp",32],"(",")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n    ",32],["T_STRING","parent",33],["T_DOUBLE_COLON","::",33],["T_STRING","setUp",33],"(",")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","drupalPlaceBlock",34],"(",["T_CONSTANT_ENCAPSED_STRING","'system_breadcrumb_block'",34],")",";",["T_WHITESPACE","\n\n    ",34],["T_COMMENT","\/\/ Create a test user.\n",36],["T_WHITESPACE","    ",37],["T_VARIABLE","$admin_user",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","drupalCreateUser",37],"(",["T_ARRAY","array",37],"(",["T_CONSTANT_ENCAPSED_STRING","'access content'",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'administer content types'",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'administer node fields'",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'administer node form display'",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'administer node display'",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'administer taxonomy'",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'administer taxonomy_term fields'",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'administer taxonomy_term display'",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'administer users'",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'administer account settings'",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'administer user display'",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'bypass node access'",37],")",")",";",["T_WHITESPACE","\n    ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","drupalLogin",38],"(",["T_VARIABLE","$admin_user",38],")",";",["T_WHITESPACE","\n\n    ",38],["T_COMMENT","\/\/ Create content type, with underscores.\n",40],["T_WHITESPACE","    ",41],["T_VARIABLE","$type_name",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_STRING","strtolower",41],"(",["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","randomMachineName",41],"(",["T_LNUMBER","8",41],")",")",["T_WHITESPACE"," ",41],".",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'_test'",41],";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$type",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","drupalCreateContentType",42],"(",["T_ARRAY","array",42],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$type_name",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'type'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$type_name",42],")",")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","type",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$type",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","id",43],"(",")",";",["T_WHITESPACE","\n\n    ",43],["T_COMMENT","\/\/ Create a default vocabulary.\n",45],["T_WHITESPACE","    ",46],["T_VARIABLE","$vocabulary",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","Vocabulary",46],["T_DOUBLE_COLON","::",46],["T_STRING","create",46],"(",["T_ARRAY","array",46],"(",["T_WHITESPACE","\n      ",46],["T_CONSTANT_ENCAPSED_STRING","'name'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","randomMachineName",47],"(",")",",",["T_WHITESPACE","\n      ",47],["T_CONSTANT_ENCAPSED_STRING","'description'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","randomMachineName",48],"(",")",",",["T_WHITESPACE","\n      ",48],["T_CONSTANT_ENCAPSED_STRING","'vid'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_STRING","Unicode",49],["T_DOUBLE_COLON","::",49],["T_STRING","strtolower",49],"(",["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","randomMachineName",49],"(",")",")",",",["T_WHITESPACE","\n      ",49],["T_CONSTANT_ENCAPSED_STRING","'langcode'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_STRING","LanguageInterface",50],["T_DOUBLE_COLON","::",50],["T_STRING","LANGCODE_NOT_SPECIFIED",50],",",["T_WHITESPACE","\n      ",50],["T_CONSTANT_ENCAPSED_STRING","'help'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","''",51],",",["T_WHITESPACE","\n      ",51],["T_CONSTANT_ENCAPSED_STRING","'nodes'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_ARRAY","array",52],"(",["T_CONSTANT_ENCAPSED_STRING","'article'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'article'",52],")",",",["T_WHITESPACE","\n      ",52],["T_CONSTANT_ENCAPSED_STRING","'weight'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_STRING","mt_rand",53],"(",["T_LNUMBER","0",53],",",["T_WHITESPACE"," ",53],["T_LNUMBER","10",53],")",",",["T_WHITESPACE","\n    ",53],")",")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$vocabulary",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","save",55],"(",")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","vocabulary",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$vocabulary",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","id",56],"(",")",";",["T_WHITESPACE","\n  ",56],"}",["T_WHITESPACE","\n\n  ",57],["T_DOC_COMMENT","\/**\n   * Tests formatter settings.\n   *\/",59],["T_WHITESPACE","\n  ",61],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","testFormatterUI",62],"(",")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$manage_fields",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",63],["T_WHITESPACE"," ",63],".",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","type",63],";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$manage_display",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$manage_fields",64],["T_WHITESPACE"," ",64],".",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'\/display'",64],";",["T_WHITESPACE","\n\n    ",64],["T_COMMENT","\/\/ Create a field, and a node with some data for the field.\n",66],["T_WHITESPACE","    ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","fieldUIAddNewField",67],"(",["T_VARIABLE","$manage_fields",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'test'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'Test field'",67],")",";",["T_WHITESPACE","\n\n    ",67],["T_COMMENT","\/\/ Get the display options (formatter and settings) that were automatically\n",69],["T_WHITESPACE","    ",70],["T_COMMENT","\/\/ assigned for the 'default' display.\n",70],["T_WHITESPACE","    ",71],["T_VARIABLE","$display",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","entity_get_display",71],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","type",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'default'",71],")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$display_options",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$display",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getComponent",72],"(",["T_CONSTANT_ENCAPSED_STRING","'field_test'",72],")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$format",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$display_options",73],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",73],"]",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$default_settings",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Drupal",74],["T_DOUBLE_COLON","::",74],["T_STRING","service",74],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.field.formatter'",74],")",["T_OBJECT_OPERATOR","->",74],["T_STRING","getDefaultSettings",74],"(",["T_VARIABLE","$format",74],")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$setting_name",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","key",75],"(",["T_VARIABLE","$default_settings",75],")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$setting_value",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$display_options",76],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",76],"]","[",["T_VARIABLE","$setting_name",76],"]",";",["T_WHITESPACE","\n\n    ",76],["T_COMMENT","\/\/ Display the \"Manage display\" screen and check that the expected formatter\n",78],["T_WHITESPACE","    ",79],["T_COMMENT","\/\/ is selected.\n",79],["T_WHITESPACE","    ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","drupalGet",80],"(",["T_VARIABLE","$manage_display",80],")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertFieldByName",81],"(",["T_CONSTANT_ENCAPSED_STRING","'fields[field_test][type]'",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$format",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'The expected formatter is selected.'",81],")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertText",82],"(","\"",["T_VARIABLE","$setting_name",82],["T_ENCAPSED_AND_WHITESPACE",": ",82],["T_VARIABLE","$setting_value",82],"\"",",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'The expected summary is displayed.'",82],")",";",["T_WHITESPACE","\n\n    ",82],["T_COMMENT","\/\/ Check whether formatter weights are respected.\n",84],["T_WHITESPACE","    ",85],["T_VARIABLE","$result",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","xpath",85],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/select[@id=:id]\/option'",85],",",["T_WHITESPACE"," ",85],["T_ARRAY","array",85],"(",["T_CONSTANT_ENCAPSED_STRING","':id'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'edit-fields-field-test-type'",85],")",")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$options",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","array_map",86],"(",["T_FUNCTION","function",86],"(",["T_VARIABLE","$item",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n      ",86],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_STRING_CAST","(string)",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$item",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","attributes",87],"(",")",["T_OBJECT_OPERATOR","->",87],["T_STRING","value",87],"[",["T_LNUMBER","0",87],"]",";",["T_WHITESPACE","\n    ",87],"}",",",["T_WHITESPACE"," ",88],["T_VARIABLE","$result",88],")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$expected_options",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_ARRAY","array",89],["T_WHITESPACE"," ",89],"(",["T_WHITESPACE","\n      ",89],["T_CONSTANT_ENCAPSED_STRING","'field_no_settings'",90],",",["T_WHITESPACE","\n      ",90],["T_CONSTANT_ENCAPSED_STRING","'field_empty_test'",91],",",["T_WHITESPACE","\n      ",91],["T_CONSTANT_ENCAPSED_STRING","'field_empty_setting'",92],",",["T_WHITESPACE","\n      ",92],["T_CONSTANT_ENCAPSED_STRING","'field_test_default'",93],",",["T_WHITESPACE","\n      ",93],["T_CONSTANT_ENCAPSED_STRING","'field_test_multiple'",94],",",["T_WHITESPACE","\n      ",94],["T_CONSTANT_ENCAPSED_STRING","'field_test_with_prepare_view'",95],",",["T_WHITESPACE","\n      ",95],["T_CONSTANT_ENCAPSED_STRING","'field_test_applicable'",96],",",["T_WHITESPACE","\n      ",96],["T_CONSTANT_ENCAPSED_STRING","'hidden'",97],",",["T_WHITESPACE","\n    ",97],")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","assertEqual",99],"(",["T_VARIABLE","$options",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$expected_options",99],",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'The expected formatter ordering is respected.'",99],")",";",["T_WHITESPACE","\n\n    ",99],["T_COMMENT","\/\/ Change the formatter and check that the summary is updated.\n",101],["T_WHITESPACE","    ",102],["T_VARIABLE","$edit",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_ARRAY","array",102],"(",["T_CONSTANT_ENCAPSED_STRING","'fields[field_test][type]'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'field_test_multiple'",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'refresh_rows'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'field_test'",102],")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","drupalPostAjaxForm",103],"(",["T_STRING","NULL",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$edit",103],",",["T_WHITESPACE"," ",103],["T_ARRAY","array",103],"(",["T_CONSTANT_ENCAPSED_STRING","'op'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_STRING","t",103],"(",["T_CONSTANT_ENCAPSED_STRING","'Refresh'",103],")",")",")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$format",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'field_test_multiple'",104],";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$default_settings",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Drupal",105],["T_DOUBLE_COLON","::",105],["T_STRING","service",105],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.field.formatter'",105],")",["T_OBJECT_OPERATOR","->",105],["T_STRING","getDefaultSettings",105],"(",["T_VARIABLE","$format",105],")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$setting_name",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","key",106],"(",["T_VARIABLE","$default_settings",106],")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$setting_value",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$default_settings",107],"[",["T_VARIABLE","$setting_name",107],"]",";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","assertFieldByName",108],"(",["T_CONSTANT_ENCAPSED_STRING","'fields[field_test][type]'",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$format",108],",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'The expected formatter is selected.'",108],")",";",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertText",109],"(","\"",["T_VARIABLE","$setting_name",109],["T_ENCAPSED_AND_WHITESPACE",": ",109],["T_VARIABLE","$setting_value",109],"\"",",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'The expected summary is displayed.'",109],")",";",["T_WHITESPACE","\n\n    ",109],["T_COMMENT","\/\/ Submit the form and check that the display is updated.\n",111],["T_WHITESPACE","    ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","drupalPostForm",112],"(",["T_STRING","NULL",112],",",["T_WHITESPACE"," ",112],["T_ARRAY","array",112],"(",")",",",["T_WHITESPACE"," ",112],["T_STRING","t",112],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",112],")",")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$display",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","entity_get_display",113],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","type",113],",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'default'",113],")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$display_options",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$display",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getComponent",114],"(",["T_CONSTANT_ENCAPSED_STRING","'field_test'",114],")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$current_format",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$display_options",115],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",115],"]",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$current_setting_value",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$display_options",116],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",116],"]","[",["T_VARIABLE","$setting_name",116],"]",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","assertEqual",117],"(",["T_VARIABLE","$current_format",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$format",117],",",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'The formatter was updated.'",117],")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","assertEqual",118],"(",["T_VARIABLE","$current_setting_value",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$setting_value",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'The setting was updated.'",118],")",";",["T_WHITESPACE","\n\n    ",118],["T_COMMENT","\/\/ Assert that hook_field_formatter_settings_summary_alter() is called.\n",120],["T_WHITESPACE","    ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","assertText",121],"(",["T_CONSTANT_ENCAPSED_STRING","'field_test_field_formatter_settings_summary_alter'",121],")",";",["T_WHITESPACE","\n\n    ",121],["T_COMMENT","\/\/ Click on the formatter settings button to open the formatter settings\n",123],["T_WHITESPACE","    ",124],["T_COMMENT","\/\/ form.\n",124],["T_WHITESPACE","    ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","drupalPostAjaxForm",125],"(",["T_STRING","NULL",125],",",["T_WHITESPACE"," ",125],["T_ARRAY","array",125],"(",")",",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","\"field_test_settings_edit\"",125],")",";",["T_WHITESPACE","\n\n    ",125],["T_COMMENT","\/\/ Assert that the field added in\n",127],["T_WHITESPACE","    ",128],["T_COMMENT","\/\/ field_test_field_formatter_third_party_settings_form() is present.\n",128],["T_WHITESPACE","    ",129],["T_VARIABLE","$fieldname",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'fields[field_test][settings_edit_form][third_party_settings][field_third_party_test][field_test_field_formatter_third_party_settings_form]'",129],";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","assertField",130],"(",["T_VARIABLE","$fieldname",130],",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'The field added in hook_field_formatter_third_party_settings_form() is present on the settings form.'",130],")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$edit",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_ARRAY","array",131],"(",["T_VARIABLE","$fieldname",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'foo'",131],")",";",["T_WHITESPACE","\n    ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","drupalPostAjaxForm",132],"(",["T_STRING","NULL",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$edit",132],",",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","\"field_test_plugin_settings_update\"",132],")",";",["T_WHITESPACE","\n\n    ",132],["T_COMMENT","\/\/ Save the form to save the third party settings.\n",134],["T_WHITESPACE","    ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","drupalPostForm",135],"(",["T_STRING","NULL",135],",",["T_WHITESPACE"," ",135],["T_ARRAY","array",135],"(",")",",",["T_WHITESPACE"," ",135],["T_STRING","t",135],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",135],")",")",";",["T_WHITESPACE","\n\n    ",135],["T_NS_SEPARATOR","\\",137],["T_STRING","Drupal",137],["T_DOUBLE_COLON","::",137],["T_STRING","entityManager",137],"(",")",["T_OBJECT_OPERATOR","->",137],["T_STRING","clearCachedFieldDefinitions",137],"(",")",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$id",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'node.'",138],["T_WHITESPACE"," ",138],".",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","type",138],["T_WHITESPACE"," ",138],".",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'.default'",138],";",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$storage",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","container",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","get",139],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",139],")",["T_OBJECT_OPERATOR","->",139],["T_STRING","getStorage",139],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_view_display'",139],")",";",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$storage",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","resetCache",140],"(","[",["T_VARIABLE","$id",140],"]",")",";",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$display",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$storage",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","load",141],"(",["T_VARIABLE","$id",141],")",";",["T_WHITESPACE","\n    ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","assertEqual",142],"(",["T_VARIABLE","$display",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getRenderer",142],"(",["T_CONSTANT_ENCAPSED_STRING","'field_test'",142],")",["T_OBJECT_OPERATOR","->",142],["T_STRING","getThirdPartySetting",142],"(",["T_CONSTANT_ENCAPSED_STRING","'field_third_party_test'",142],",",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'field_test_field_formatter_third_party_settings_form'",142],")",",",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'foo'",142],")",";",["T_WHITESPACE","\n    ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","assertTrue",143],"(",["T_STRING","in_array",143],"(",["T_CONSTANT_ENCAPSED_STRING","'field_third_party_test'",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$display",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","calculateDependencies",143],"(",")",["T_OBJECT_OPERATOR","->",143],["T_STRING","getDependencies",143],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","'module'",143],"]",")",",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'The display has a dependency on field_third_party_test module.'",143],")",";",["T_WHITESPACE","\n\n    ",143],["T_COMMENT","\/\/ Confirm that the third party settings are not updated on the settings form.\n",145],["T_WHITESPACE","    ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","drupalPostAjaxForm",146],"(",["T_STRING","NULL",146],",",["T_WHITESPACE"," ",146],["T_ARRAY","array",146],"(",")",",",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","\"field_test_settings_edit\"",146],")",";",["T_WHITESPACE","\n    ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","assertFieldByName",147],"(",["T_VARIABLE","$fieldname",147],",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","''",147],")",";",["T_WHITESPACE","\n\n    ",147],["T_COMMENT","\/\/ Test the empty setting formatter.\n",149],["T_WHITESPACE","    ",150],["T_VARIABLE","$edit",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_ARRAY","array",150],"(",["T_CONSTANT_ENCAPSED_STRING","'fields[field_test][type]'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'field_empty_setting'",150],")",";",["T_WHITESPACE","\n    ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","drupalPostForm",151],"(",["T_STRING","NULL",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$edit",151],",",["T_WHITESPACE"," ",151],["T_STRING","t",151],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",151],")",")",";",["T_WHITESPACE","\n    ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","assertNoText",152],"(",["T_CONSTANT_ENCAPSED_STRING","'Default empty setting now has a value.'",152],")",";",["T_WHITESPACE","\n    ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","assertFieldById",153],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-fields-field-test-settings-edit'",153],")",";",["T_WHITESPACE","\n    ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","drupalPostAjaxForm",154],"(",["T_STRING","NULL",154],",",["T_WHITESPACE"," ",154],["T_ARRAY","array",154],"(",")",",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","\"field_test_settings_edit\"",154],")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$fieldname",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'fields[field_test][settings_edit_form][settings][field_empty_setting]'",155],";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$edit",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_ARRAY","array",156],"(",["T_VARIABLE","$fieldname",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'non empty setting'",156],")",";",["T_WHITESPACE","\n    ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","drupalPostAjaxForm",157],"(",["T_STRING","NULL",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$edit",157],",",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","\"field_test_plugin_settings_update\"",157],")",";",["T_WHITESPACE","\n    ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","assertText",158],"(",["T_CONSTANT_ENCAPSED_STRING","'Default empty setting now has a value.'",158],")",";",["T_WHITESPACE","\n\n    ",158],["T_COMMENT","\/\/ Test the settings form behavior. An edit button should be present since\n",160],["T_WHITESPACE","    ",161],["T_COMMENT","\/\/ there are third party settings to configure.\n",161],["T_WHITESPACE","    ",162],["T_VARIABLE","$edit",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_ARRAY","array",162],"(",["T_CONSTANT_ENCAPSED_STRING","'fields[field_test][type]'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'field_no_settings'",162],",",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'refresh_rows'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'field_test'",162],")",";",["T_WHITESPACE","\n    ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","drupalPostAjaxForm",163],"(",["T_STRING","NULL",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$edit",163],",",["T_WHITESPACE"," ",163],["T_ARRAY","array",163],"(",["T_CONSTANT_ENCAPSED_STRING","'op'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_STRING","t",163],"(",["T_CONSTANT_ENCAPSED_STRING","'Refresh'",163],")",")",")",";",["T_WHITESPACE","\n    ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","assertFieldByName",164],"(",["T_CONSTANT_ENCAPSED_STRING","'field_test_settings_edit'",164],")",";",["T_WHITESPACE","\n\n    ",164],["T_COMMENT","\/\/ Make sure we can save the third party settings when there are no settings available\n",166],["T_WHITESPACE","    ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","drupalPostAjaxForm",167],"(",["T_STRING","NULL",167],",",["T_WHITESPACE"," ",167],["T_ARRAY","array",167],"(",")",",",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","\"field_test_settings_edit\"",167],")",";",["T_WHITESPACE","\n    ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","drupalPostAjaxForm",168],"(",["T_STRING","NULL",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$edit",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","\"field_test_plugin_settings_update\"",168],")",";",["T_WHITESPACE","\n\n    ",168],["T_COMMENT","\/\/ When a module providing third-party settings to a formatter (or widget)\n",170],["T_WHITESPACE","    ",171],["T_COMMENT","\/\/ is uninstalled, the formatter remains enabled but the provided settings,\n",171],["T_WHITESPACE","    ",172],["T_COMMENT","\/\/ together with the corresponding form elements, are removed from the\n",172],["T_WHITESPACE","    ",173],["T_COMMENT","\/\/ display component.\n",173],["T_WHITESPACE","    ",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Drupal",174],["T_DOUBLE_COLON","::",174],["T_STRING","service",174],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",174],")",["T_OBJECT_OPERATOR","->",174],["T_STRING","uninstall",174],"(",["T_ARRAY","array",174],"(",["T_CONSTANT_ENCAPSED_STRING","'field_third_party_test'",174],")",")",";",["T_WHITESPACE","\n\n    ",174],["T_COMMENT","\/\/ Ensure the button is still there after the module has been disabled.\n",176],["T_WHITESPACE","    ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","drupalGet",177],"(",["T_VARIABLE","$manage_display",177],")",";",["T_WHITESPACE","\n    ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","assertResponse",178],"(",["T_LNUMBER","200",178],")",";",["T_WHITESPACE","\n    ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","assertFieldByName",179],"(",["T_CONSTANT_ENCAPSED_STRING","'field_test_settings_edit'",179],")",";",["T_WHITESPACE","\n\n    ",179],["T_COMMENT","\/\/ Ensure that third-party form elements are not present anymore.\n",181],["T_WHITESPACE","    ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","drupalPostAjaxForm",182],"(",["T_STRING","NULL",182],",",["T_WHITESPACE"," ",182],["T_ARRAY","array",182],"(",")",",",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'field_test_settings_edit'",182],")",";",["T_WHITESPACE","\n    ",182],["T_VARIABLE","$fieldname",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'fields[field_test][settings_edit_form][third_party_settings][field_third_party_test][field_test_field_formatter_third_party_settings_form]'",183],";",["T_WHITESPACE","\n    ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","assertNoField",184],"(",["T_VARIABLE","$fieldname",184],")",";",["T_WHITESPACE","\n\n    ",184],["T_COMMENT","\/\/ Ensure that third-party settings were removed from the formatter.\n",186],["T_WHITESPACE","    ",187],["T_VARIABLE","$display",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_STRING","EntityViewDisplay",187],["T_DOUBLE_COLON","::",187],["T_STRING","load",187],"(","\"",["T_ENCAPSED_AND_WHITESPACE","node.",187],["T_CURLY_OPEN","{",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","type",187],"}",["T_ENCAPSED_AND_WHITESPACE",".default",187],"\"",")",";",["T_WHITESPACE","\n    ",187],["T_VARIABLE","$component",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$display",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","getComponent",188],"(",["T_CONSTANT_ENCAPSED_STRING","'field_test'",188],")",";",["T_WHITESPACE","\n    ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","assertFalse",189],"(",["T_STRING","array_key_exists",189],"(",["T_CONSTANT_ENCAPSED_STRING","'field_third_party_test'",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$component",189],"[",["T_CONSTANT_ENCAPSED_STRING","'third_party_settings'",189],"]",")",")",";",["T_WHITESPACE","\n  ",189],"}",["T_WHITESPACE","\n\n  ",190],["T_DOC_COMMENT","\/**\n   * Tests widget settings.\n   *\/",192],["T_WHITESPACE","\n  ",194],["T_PUBLIC","public",195],["T_WHITESPACE"," ",195],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","testWidgetUI",195],"(",")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n    ",195],["T_COMMENT","\/\/ Admin Manage Fields page.\n",196],["T_WHITESPACE","    ",197],["T_VARIABLE","$manage_fields",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",197],["T_WHITESPACE"," ",197],".",["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","type",197],";",["T_WHITESPACE","\n    ",197],["T_COMMENT","\/\/ Admin Manage Display page.\n",198],["T_WHITESPACE","    ",199],["T_VARIABLE","$manage_display",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$manage_fields",199],["T_WHITESPACE"," ",199],".",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'\/form-display'",199],";",["T_WHITESPACE","\n\n    ",199],["T_COMMENT","\/\/ Creates a new field that can be used with multiple formatters.\n",201],["T_WHITESPACE","    ",202],["T_COMMENT","\/\/ Reference: Drupal\\field_test\\Plugin\\Field\\FieldWidget\\TestFieldWidgetMultiple::isApplicable().\n",202],["T_WHITESPACE","    ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","fieldUIAddNewField",203],"(",["T_VARIABLE","$manage_fields",203],",",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'test'",203],",",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'Test field'",203],")",";",["T_WHITESPACE","\n\n    ",203],["T_COMMENT","\/\/ Get the display options (formatter and settings) that were automatically\n",205],["T_WHITESPACE","    ",206],["T_COMMENT","\/\/ assigned for the 'default' display.\n",206],["T_WHITESPACE","    ",207],["T_VARIABLE","$display",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_STRING","entity_get_form_display",207],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","type",207],",",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'default'",207],")",";",["T_WHITESPACE","\n    ",207],["T_VARIABLE","$display_options",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$display",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getComponent",208],"(",["T_CONSTANT_ENCAPSED_STRING","'field_test'",208],")",";",["T_WHITESPACE","\n    ",208],["T_VARIABLE","$widget_type",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$display_options",209],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",209],"]",";",["T_WHITESPACE","\n    ",209],["T_VARIABLE","$default_settings",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Drupal",210],["T_DOUBLE_COLON","::",210],["T_STRING","service",210],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.field.widget'",210],")",["T_OBJECT_OPERATOR","->",210],["T_STRING","getDefaultSettings",210],"(",["T_VARIABLE","$widget_type",210],")",";",["T_WHITESPACE","\n    ",210],["T_VARIABLE","$setting_name",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_STRING","key",211],"(",["T_VARIABLE","$default_settings",211],")",";",["T_WHITESPACE","\n    ",211],["T_VARIABLE","$setting_value",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$display_options",212],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",212],"]","[",["T_VARIABLE","$setting_name",212],"]",";",["T_WHITESPACE","\n\n    ",212],["T_COMMENT","\/\/ Display the \"Manage form display\" screen and check if the expected\n",214],["T_WHITESPACE","    ",215],["T_COMMENT","\/\/ widget is selected.\n",215],["T_WHITESPACE","    ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","drupalGet",216],"(",["T_VARIABLE","$manage_display",216],")",";",["T_WHITESPACE","\n    ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","assertFieldByName",217],"(",["T_CONSTANT_ENCAPSED_STRING","'fields[field_test][type]'",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$widget_type",217],",",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'The expected widget is selected.'",217],")",";",["T_WHITESPACE","\n    ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","assertText",218],"(","\"",["T_VARIABLE","$setting_name",218],["T_ENCAPSED_AND_WHITESPACE",": ",218],["T_VARIABLE","$setting_value",218],"\"",",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'The expected summary is displayed.'",218],")",";",["T_WHITESPACE","\n\n    ",218],["T_COMMENT","\/\/ Check whether widget weights are respected.\n",220],["T_WHITESPACE","    ",221],["T_VARIABLE","$result",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","xpath",221],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/select[@id=:id]\/option'",221],",",["T_WHITESPACE"," ",221],["T_ARRAY","array",221],"(",["T_CONSTANT_ENCAPSED_STRING","':id'",221],["T_WHITESPACE"," ",221],["T_DOUBLE_ARROW","=>",221],["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'edit-fields-field-test-type'",221],")",")",";",["T_WHITESPACE","\n    ",221],["T_VARIABLE","$options",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_STRING","array_map",222],"(",["T_FUNCTION","function",222],"(",["T_VARIABLE","$item",222],")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n      ",222],["T_RETURN","return",223],["T_WHITESPACE"," ",223],["T_STRING_CAST","(string)",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$item",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","attributes",223],"(",")",["T_OBJECT_OPERATOR","->",223],["T_STRING","value",223],"[",["T_LNUMBER","0",223],"]",";",["T_WHITESPACE","\n    ",223],"}",",",["T_WHITESPACE"," ",224],["T_VARIABLE","$result",224],")",";",["T_WHITESPACE","\n    ",224],["T_VARIABLE","$expected_options",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_ARRAY","array",225],["T_WHITESPACE"," ",225],"(",["T_WHITESPACE","\n      ",225],["T_CONSTANT_ENCAPSED_STRING","'test_field_widget'",226],",",["T_WHITESPACE","\n      ",226],["T_CONSTANT_ENCAPSED_STRING","'test_field_widget_multiple'",227],",",["T_WHITESPACE","\n      ",227],["T_CONSTANT_ENCAPSED_STRING","'hidden'",228],",",["T_WHITESPACE","\n    ",228],")",";",["T_WHITESPACE","\n    ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","assertEqual",230],"(",["T_VARIABLE","$options",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$expected_options",230],",",["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","'The expected widget ordering is respected.'",230],")",";",["T_WHITESPACE","\n\n    ",230],["T_COMMENT","\/\/ Change the widget and check that the summary is updated.\n",232],["T_WHITESPACE","    ",233],["T_VARIABLE","$edit",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_ARRAY","array",233],"(",["T_CONSTANT_ENCAPSED_STRING","'fields[field_test][type]'",233],["T_WHITESPACE"," ",233],["T_DOUBLE_ARROW","=>",233],["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'test_field_widget_multiple'",233],",",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'refresh_rows'",233],["T_WHITESPACE"," ",233],["T_DOUBLE_ARROW","=>",233],["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'field_test'",233],")",";",["T_WHITESPACE","\n    ",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","drupalPostAjaxForm",234],"(",["T_STRING","NULL",234],",",["T_WHITESPACE"," ",234],["T_VARIABLE","$edit",234],",",["T_WHITESPACE"," ",234],["T_ARRAY","array",234],"(",["T_CONSTANT_ENCAPSED_STRING","'op'",234],["T_WHITESPACE"," ",234],["T_DOUBLE_ARROW","=>",234],["T_WHITESPACE"," ",234],["T_STRING","t",234],"(",["T_CONSTANT_ENCAPSED_STRING","'Refresh'",234],")",")",")",";",["T_WHITESPACE","\n    ",234],["T_VARIABLE","$widget_type",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'test_field_widget_multiple'",235],";",["T_WHITESPACE","\n    ",235],["T_VARIABLE","$default_settings",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_NS_SEPARATOR","\\",236],["T_STRING","Drupal",236],["T_DOUBLE_COLON","::",236],["T_STRING","service",236],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.field.widget'",236],")",["T_OBJECT_OPERATOR","->",236],["T_STRING","getDefaultSettings",236],"(",["T_VARIABLE","$widget_type",236],")",";",["T_WHITESPACE","\n    ",236],["T_VARIABLE","$setting_name",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_STRING","key",237],"(",["T_VARIABLE","$default_settings",237],")",";",["T_WHITESPACE","\n    ",237],["T_VARIABLE","$setting_value",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$default_settings",238],"[",["T_VARIABLE","$setting_name",238],"]",";",["T_WHITESPACE","\n    ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","assertFieldByName",239],"(",["T_CONSTANT_ENCAPSED_STRING","'fields[field_test][type]'",239],",",["T_WHITESPACE"," ",239],["T_VARIABLE","$widget_type",239],",",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'The expected widget is selected.'",239],")",";",["T_WHITESPACE","\n    ",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","assertText",240],"(","\"",["T_VARIABLE","$setting_name",240],["T_ENCAPSED_AND_WHITESPACE",": ",240],["T_VARIABLE","$setting_value",240],"\"",",",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'The expected summary is displayed.'",240],")",";",["T_WHITESPACE","\n\n    ",240],["T_COMMENT","\/\/ Submit the form and check that the display is updated.\n",242],["T_WHITESPACE","    ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","drupalPostForm",243],"(",["T_STRING","NULL",243],",",["T_WHITESPACE"," ",243],["T_ARRAY","array",243],"(",")",",",["T_WHITESPACE"," ",243],["T_STRING","t",243],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",243],")",")",";",["T_WHITESPACE","\n    ",243],["T_VARIABLE","$display",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_STRING","entity_get_form_display",244],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","type",244],",",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'default'",244],")",";",["T_WHITESPACE","\n    ",244],["T_VARIABLE","$display_options",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$display",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","getComponent",245],"(",["T_CONSTANT_ENCAPSED_STRING","'field_test'",245],")",";",["T_WHITESPACE","\n    ",245],["T_VARIABLE","$current_widget",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_VARIABLE","$display_options",246],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",246],"]",";",["T_WHITESPACE","\n    ",246],["T_VARIABLE","$current_setting_value",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$display_options",247],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",247],"]","[",["T_VARIABLE","$setting_name",247],"]",";",["T_WHITESPACE","\n    ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","assertEqual",248],"(",["T_VARIABLE","$current_widget",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$widget_type",248],",",["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'The widget was updated.'",248],")",";",["T_WHITESPACE","\n    ",248],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","assertEqual",249],"(",["T_VARIABLE","$current_setting_value",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$setting_value",249],",",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","'The setting was updated.'",249],")",";",["T_WHITESPACE","\n\n    ",249],["T_COMMENT","\/\/ Assert that hook_field_widget_settings_summary_alter() is called.\n",251],["T_WHITESPACE","    ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","assertText",252],"(",["T_CONSTANT_ENCAPSED_STRING","'field_test_field_widget_settings_summary_alter'",252],")",";",["T_WHITESPACE","\n\n    ",252],["T_COMMENT","\/\/ Click on the widget settings button to open the widget settings form.\n",254],["T_WHITESPACE","    ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","drupalPostAjaxForm",255],"(",["T_STRING","NULL",255],",",["T_WHITESPACE"," ",255],["T_ARRAY","array",255],"(",")",",",["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","\"field_test_settings_edit\"",255],")",";",["T_WHITESPACE","\n\n    ",255],["T_COMMENT","\/\/ Assert that the field added in\n",257],["T_WHITESPACE","    ",258],["T_COMMENT","\/\/ field_test_field_widget_third_party_settings_form() is present.\n",258],["T_WHITESPACE","    ",259],["T_VARIABLE","$fieldname",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'fields[field_test][settings_edit_form][third_party_settings][field_third_party_test][field_test_widget_third_party_settings_form]'",259],";",["T_WHITESPACE","\n    ",259],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","assertField",260],"(",["T_VARIABLE","$fieldname",260],",",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'The field added in hook_field_widget_third_party_settings_form() is present on the settings form.'",260],")",";",["T_WHITESPACE","\n    ",260],["T_VARIABLE","$edit",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_ARRAY","array",261],"(",["T_VARIABLE","$fieldname",261],["T_WHITESPACE"," ",261],["T_DOUBLE_ARROW","=>",261],["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","'foo'",261],")",";",["T_WHITESPACE","\n    ",261],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","drupalPostAjaxForm",262],"(",["T_STRING","NULL",262],",",["T_WHITESPACE"," ",262],["T_VARIABLE","$edit",262],",",["T_WHITESPACE"," ",262],["T_CONSTANT_ENCAPSED_STRING","\"field_test_plugin_settings_update\"",262],")",";",["T_WHITESPACE","\n\n    ",262],["T_COMMENT","\/\/ Save the form to save the third party settings.\n",264],["T_WHITESPACE","    ",265],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","drupalPostForm",265],"(",["T_STRING","NULL",265],",",["T_WHITESPACE"," ",265],["T_ARRAY","array",265],"(",")",",",["T_WHITESPACE"," ",265],["T_STRING","t",265],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",265],")",")",";",["T_WHITESPACE","\n    ",265],["T_NS_SEPARATOR","\\",266],["T_STRING","Drupal",266],["T_DOUBLE_COLON","::",266],["T_STRING","entityManager",266],"(",")",["T_OBJECT_OPERATOR","->",266],["T_STRING","clearCachedFieldDefinitions",266],"(",")",";",["T_WHITESPACE","\n    ",266],["T_VARIABLE","$storage",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","container",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","get",267],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",267],")",["T_OBJECT_OPERATOR","->",267],["T_STRING","getStorage",267],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_form_display'",267],")",";",["T_WHITESPACE","\n    ",267],["T_VARIABLE","$storage",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","resetCache",268],"(",["T_ARRAY","array",268],"(",["T_CONSTANT_ENCAPSED_STRING","'node.'",268],["T_WHITESPACE"," ",268],".",["T_WHITESPACE"," ",268],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","type",268],["T_WHITESPACE"," ",268],".",["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","'.default'",268],")",")",";",["T_WHITESPACE","\n    ",268],["T_VARIABLE","$display",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$storage",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","load",269],"(",["T_CONSTANT_ENCAPSED_STRING","'node.'",269],["T_WHITESPACE"," ",269],".",["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","type",269],["T_WHITESPACE"," ",269],".",["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","'.default'",269],")",";",["T_WHITESPACE","\n    ",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","assertEqual",270],"(",["T_VARIABLE","$display",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","getRenderer",270],"(",["T_CONSTANT_ENCAPSED_STRING","'field_test'",270],")",["T_OBJECT_OPERATOR","->",270],["T_STRING","getThirdPartySetting",270],"(",["T_CONSTANT_ENCAPSED_STRING","'field_third_party_test'",270],",",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'field_test_widget_third_party_settings_form'",270],")",",",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'foo'",270],")",";",["T_WHITESPACE","\n    ",270],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","assertTrue",271],"(",["T_STRING","in_array",271],"(",["T_CONSTANT_ENCAPSED_STRING","'field_third_party_test'",271],",",["T_WHITESPACE"," ",271],["T_VARIABLE","$display",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","calculateDependencies",271],"(",")",["T_OBJECT_OPERATOR","->",271],["T_STRING","getDependencies",271],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","'module'",271],"]",")",",",["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","'Form display does not have a dependency on field_third_party_test module.'",271],")",";",["T_WHITESPACE","\n\n    ",271],["T_COMMENT","\/\/ Confirm that the third party settings are not updated on the settings form.\n",273],["T_WHITESPACE","    ",274],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","drupalPostAjaxForm",274],"(",["T_STRING","NULL",274],",",["T_WHITESPACE"," ",274],["T_ARRAY","array",274],"(",")",",",["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","\"field_test_settings_edit\"",274],")",";",["T_WHITESPACE","\n    ",274],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","assertFieldByName",275],"(",["T_VARIABLE","$fieldname",275],",",["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","''",275],")",";",["T_WHITESPACE","\n\n    ",275],["T_COMMENT","\/\/ Creates a new field that can not be used with the multiple formatter.\n",277],["T_WHITESPACE","    ",278],["T_COMMENT","\/\/ Reference: Drupal\\field_test\\Plugin\\Field\\FieldWidget\\TestFieldWidgetMultiple::isApplicable().\n",278],["T_WHITESPACE","    ",279],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","fieldUIAddNewField",279],"(",["T_VARIABLE","$manage_fields",279],",",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'onewidgetfield'",279],",",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'One Widget Field'",279],")",";",["T_WHITESPACE","\n\n    ",279],["T_COMMENT","\/\/ Go to the Manage Form Display.\n",281],["T_WHITESPACE","    ",282],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","drupalGet",282],"(",["T_VARIABLE","$manage_display",282],")",";",["T_WHITESPACE","\n\n    ",282],["T_COMMENT","\/\/ Checks if the select elements contain the specified options.\n",284],["T_WHITESPACE","    ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","assertFieldSelectOptions",285],"(",["T_CONSTANT_ENCAPSED_STRING","'fields[field_test][type]'",285],",",["T_WHITESPACE"," ",285],["T_ARRAY","array",285],"(",["T_CONSTANT_ENCAPSED_STRING","'test_field_widget'",285],",",["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","'test_field_widget_multiple'",285],",",["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","'hidden'",285],")",")",";",["T_WHITESPACE","\n    ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","assertFieldSelectOptions",286],"(",["T_CONSTANT_ENCAPSED_STRING","'fields[field_onewidgetfield][type]'",286],",",["T_WHITESPACE"," ",286],["T_ARRAY","array",286],"(",["T_CONSTANT_ENCAPSED_STRING","'test_field_widget'",286],",",["T_WHITESPACE"," ",286],["T_CONSTANT_ENCAPSED_STRING","'hidden'",286],")",")",";",["T_WHITESPACE","\n  ",286],"}",["T_WHITESPACE","\n\n  ",287],["T_DOC_COMMENT","\/**\n   * Tests switching view modes to use custom or 'default' settings'.\n   *\/",289],["T_WHITESPACE","\n  ",291],["T_FUNCTION","function",292],["T_WHITESPACE"," ",292],["T_STRING","testViewModeCustom",292],"(",")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n    ",292],["T_COMMENT","\/\/ Create a field, and a node with some data for the field.\n",293],["T_WHITESPACE","    ",294],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","fieldUIAddNewField",294],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",294],["T_WHITESPACE"," ",294],".",["T_WHITESPACE"," ",294],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","type",294],",",["T_WHITESPACE"," ",294],["T_CONSTANT_ENCAPSED_STRING","'test'",294],",",["T_WHITESPACE"," ",294],["T_CONSTANT_ENCAPSED_STRING","'Test field'",294],")",";",["T_WHITESPACE","\n    ",294],["T_NS_SEPARATOR","\\",295],["T_STRING","Drupal",295],["T_DOUBLE_COLON","::",295],["T_STRING","entityManager",295],"(",")",["T_OBJECT_OPERATOR","->",295],["T_STRING","clearCachedFieldDefinitions",295],"(",")",";",["T_WHITESPACE","\n    ",295],["T_COMMENT","\/\/ For this test, use a formatter setting value that is an integer unlikely\n",296],["T_WHITESPACE","    ",297],["T_COMMENT","\/\/ to appear in a rendered node other than as part of the field being tested\n",297],["T_WHITESPACE","    ",298],["T_COMMENT","\/\/ (for example, unlikely to be part of the \"Submitted by ... on ...\" line).\n",298],["T_WHITESPACE","    ",299],["T_VARIABLE","$value",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_LNUMBER","12345",299],";",["T_WHITESPACE","\n    ",299],["T_VARIABLE","$settings",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_ARRAY","array",300],"(",["T_WHITESPACE","\n      ",300],["T_CONSTANT_ENCAPSED_STRING","'type'",301],["T_WHITESPACE"," ",301],["T_DOUBLE_ARROW","=>",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","type",301],",",["T_WHITESPACE","\n      ",301],["T_CONSTANT_ENCAPSED_STRING","'field_test'",302],["T_WHITESPACE"," ",302],["T_DOUBLE_ARROW","=>",302],["T_WHITESPACE"," ",302],["T_ARRAY","array",302],"(",["T_ARRAY","array",302],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",302],["T_WHITESPACE"," ",302],["T_DOUBLE_ARROW","=>",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$value",302],")",")",",",["T_WHITESPACE","\n    ",302],")",";",["T_WHITESPACE","\n    ",303],["T_VARIABLE","$node",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","drupalCreateNode",304],"(",["T_VARIABLE","$settings",304],")",";",["T_WHITESPACE","\n\n    ",304],["T_COMMENT","\/\/ Gather expected output values with the various formatters.\n",306],["T_WHITESPACE","    ",307],["T_VARIABLE","$formatter_plugin_manager",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_NS_SEPARATOR","\\",307],["T_STRING","Drupal",307],["T_DOUBLE_COLON","::",307],["T_STRING","service",307],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.field.formatter'",307],")",";",["T_WHITESPACE","\n    ",307],["T_VARIABLE","$field_test_default_settings",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_VARIABLE","$formatter_plugin_manager",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","getDefaultSettings",308],"(",["T_CONSTANT_ENCAPSED_STRING","'field_test_default'",308],")",";",["T_WHITESPACE","\n    ",308],["T_VARIABLE","$field_test_with_prepare_view_settings",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_VARIABLE","$formatter_plugin_manager",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","getDefaultSettings",309],"(",["T_CONSTANT_ENCAPSED_STRING","'field_test_with_prepare_view'",309],")",";",["T_WHITESPACE","\n    ",309],["T_VARIABLE","$output",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_ARRAY","array",310],"(",["T_WHITESPACE","\n      ",310],["T_CONSTANT_ENCAPSED_STRING","'field_test_default'",311],["T_WHITESPACE"," ",311],["T_DOUBLE_ARROW","=>",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$field_test_default_settings",311],"[",["T_CONSTANT_ENCAPSED_STRING","'test_formatter_setting'",311],"]",["T_WHITESPACE"," ",311],".",["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","'|'",311],["T_WHITESPACE"," ",311],".",["T_WHITESPACE"," ",311],["T_VARIABLE","$value",311],",",["T_WHITESPACE","\n      ",311],["T_CONSTANT_ENCAPSED_STRING","'field_test_with_prepare_view'",312],["T_WHITESPACE"," ",312],["T_DOUBLE_ARROW","=>",312],["T_WHITESPACE"," ",312],["T_VARIABLE","$field_test_with_prepare_view_settings",312],"[",["T_CONSTANT_ENCAPSED_STRING","'test_formatter_setting_additional'",312],"]",["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","'|'",312],["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_VARIABLE","$value",312],["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","'|'",312],["T_WHITESPACE"," ",312],".",["T_WHITESPACE"," ",312],"(",["T_VARIABLE","$value",312],["T_WHITESPACE"," ",312],"+",["T_WHITESPACE"," ",312],["T_LNUMBER","1",312],")",",",["T_WHITESPACE","\n    ",312],")",";",["T_WHITESPACE","\n\n    ",313],["T_COMMENT","\/\/ Check that the field is displayed with the default formatter in 'rss'\n",315],["T_WHITESPACE","    ",316],["T_COMMENT","\/\/ mode (uses 'default'), and hidden in 'teaser' mode (uses custom settings).\n",316],["T_WHITESPACE","    ",317],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","assertNodeViewText",317],"(",["T_VARIABLE","$node",317],",",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","'rss'",317],",",["T_WHITESPACE"," ",317],["T_VARIABLE","$output",317],"[",["T_CONSTANT_ENCAPSED_STRING","'field_test_default'",317],"]",",",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","\"The field is displayed as expected in view modes that use 'default' settings.\"",317],")",";",["T_WHITESPACE","\n    ",317],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","assertNodeViewNoText",318],"(",["T_VARIABLE","$node",318],",",["T_WHITESPACE"," ",318],["T_CONSTANT_ENCAPSED_STRING","'teaser'",318],",",["T_WHITESPACE"," ",318],["T_VARIABLE","$value",318],",",["T_WHITESPACE"," ",318],["T_CONSTANT_ENCAPSED_STRING","\"The field is hidden in view modes that use custom settings.\"",318],")",";",["T_WHITESPACE","\n\n    ",318],["T_COMMENT","\/\/ Change formatter for 'default' mode, check that the field is displayed\n",320],["T_WHITESPACE","    ",321],["T_COMMENT","\/\/ accordingly in 'rss' mode.\n",321],["T_WHITESPACE","    ",322],["T_VARIABLE","$edit",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_ARRAY","array",322],"(",["T_WHITESPACE","\n      ",322],["T_CONSTANT_ENCAPSED_STRING","'fields[field_test][type]'",323],["T_WHITESPACE"," ",323],["T_DOUBLE_ARROW","=>",323],["T_WHITESPACE"," ",323],["T_CONSTANT_ENCAPSED_STRING","'field_test_with_prepare_view'",323],",",["T_WHITESPACE","\n    ",323],")",";",["T_WHITESPACE","\n    ",324],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","drupalPostForm",325],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",325],["T_WHITESPACE"," ",325],".",["T_WHITESPACE"," ",325],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","type",325],["T_WHITESPACE"," ",325],".",["T_WHITESPACE"," ",325],["T_CONSTANT_ENCAPSED_STRING","'\/display'",325],",",["T_WHITESPACE"," ",325],["T_VARIABLE","$edit",325],",",["T_WHITESPACE"," ",325],["T_STRING","t",325],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",325],")",")",";",["T_WHITESPACE","\n    ",325],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","assertNodeViewText",326],"(",["T_VARIABLE","$node",326],",",["T_WHITESPACE"," ",326],["T_CONSTANT_ENCAPSED_STRING","'rss'",326],",",["T_WHITESPACE"," ",326],["T_VARIABLE","$output",326],"[",["T_CONSTANT_ENCAPSED_STRING","'field_test_with_prepare_view'",326],"]",",",["T_WHITESPACE"," ",326],["T_CONSTANT_ENCAPSED_STRING","\"The field is displayed as expected in view modes that use 'default' settings.\"",326],")",";",["T_WHITESPACE","\n\n    ",326],["T_COMMENT","\/\/ Specialize the 'rss' mode, check that the field is displayed the same.\n",328],["T_WHITESPACE","    ",329],["T_VARIABLE","$edit",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_ARRAY","array",329],"(",["T_WHITESPACE","\n      ",329],["T_CONSTANT_ENCAPSED_STRING","\"display_modes_custom[rss]\"",330],["T_WHITESPACE"," ",330],["T_DOUBLE_ARROW","=>",330],["T_WHITESPACE"," ",330],["T_STRING","TRUE",330],",",["T_WHITESPACE","\n    ",330],")",";",["T_WHITESPACE","\n    ",331],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","drupalPostForm",332],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",332],["T_WHITESPACE"," ",332],".",["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","type",332],["T_WHITESPACE"," ",332],".",["T_WHITESPACE"," ",332],["T_CONSTANT_ENCAPSED_STRING","'\/display'",332],",",["T_WHITESPACE"," ",332],["T_VARIABLE","$edit",332],",",["T_WHITESPACE"," ",332],["T_STRING","t",332],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",332],")",")",";",["T_WHITESPACE","\n    ",332],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","assertNodeViewText",333],"(",["T_VARIABLE","$node",333],",",["T_WHITESPACE"," ",333],["T_CONSTANT_ENCAPSED_STRING","'rss'",333],",",["T_WHITESPACE"," ",333],["T_VARIABLE","$output",333],"[",["T_CONSTANT_ENCAPSED_STRING","'field_test_with_prepare_view'",333],"]",",",["T_WHITESPACE"," ",333],["T_CONSTANT_ENCAPSED_STRING","\"The field is displayed as expected in newly specialized 'rss' mode.\"",333],")",";",["T_WHITESPACE","\n\n    ",333],["T_COMMENT","\/\/ Set the field to 'hidden' in the view mode, check that the field is\n",335],["T_WHITESPACE","    ",336],["T_COMMENT","\/\/ hidden.\n",336],["T_WHITESPACE","    ",337],["T_VARIABLE","$edit",337],["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_ARRAY","array",337],"(",["T_WHITESPACE","\n      ",337],["T_CONSTANT_ENCAPSED_STRING","'fields[field_test][type]'",338],["T_WHITESPACE"," ",338],["T_DOUBLE_ARROW","=>",338],["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","'hidden'",338],",",["T_WHITESPACE","\n    ",338],")",";",["T_WHITESPACE","\n    ",339],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","drupalPostForm",340],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",340],["T_WHITESPACE"," ",340],".",["T_WHITESPACE"," ",340],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","type",340],["T_WHITESPACE"," ",340],".",["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","'\/display\/rss'",340],",",["T_WHITESPACE"," ",340],["T_VARIABLE","$edit",340],",",["T_WHITESPACE"," ",340],["T_STRING","t",340],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",340],")",")",";",["T_WHITESPACE","\n    ",340],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","assertNodeViewNoText",341],"(",["T_VARIABLE","$node",341],",",["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","'rss'",341],",",["T_WHITESPACE"," ",341],["T_VARIABLE","$value",341],",",["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","\"The field is hidden in 'rss' mode.\"",341],")",";",["T_WHITESPACE","\n\n    ",341],["T_COMMENT","\/\/ Set the view mode back to 'default', check that the field is displayed\n",343],["T_WHITESPACE","    ",344],["T_COMMENT","\/\/ accordingly.\n",344],["T_WHITESPACE","    ",345],["T_VARIABLE","$edit",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_ARRAY","array",345],"(",["T_WHITESPACE","\n      ",345],["T_CONSTANT_ENCAPSED_STRING","\"display_modes_custom[rss]\"",346],["T_WHITESPACE"," ",346],["T_DOUBLE_ARROW","=>",346],["T_WHITESPACE"," ",346],["T_STRING","FALSE",346],",",["T_WHITESPACE","\n    ",346],")",";",["T_WHITESPACE","\n    ",347],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","drupalPostForm",348],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",348],["T_WHITESPACE"," ",348],".",["T_WHITESPACE"," ",348],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","type",348],["T_WHITESPACE"," ",348],".",["T_WHITESPACE"," ",348],["T_CONSTANT_ENCAPSED_STRING","'\/display'",348],",",["T_WHITESPACE"," ",348],["T_VARIABLE","$edit",348],",",["T_WHITESPACE"," ",348],["T_STRING","t",348],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",348],")",")",";",["T_WHITESPACE","\n    ",348],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","assertNodeViewText",349],"(",["T_VARIABLE","$node",349],",",["T_WHITESPACE"," ",349],["T_CONSTANT_ENCAPSED_STRING","'rss'",349],",",["T_WHITESPACE"," ",349],["T_VARIABLE","$output",349],"[",["T_CONSTANT_ENCAPSED_STRING","'field_test_with_prepare_view'",349],"]",",",["T_WHITESPACE"," ",349],["T_CONSTANT_ENCAPSED_STRING","\"The field is displayed as expected when 'rss' mode is set back to 'default' settings.\"",349],")",";",["T_WHITESPACE","\n\n    ",349],["T_COMMENT","\/\/ Specialize the view mode again.\n",351],["T_WHITESPACE","    ",352],["T_VARIABLE","$edit",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_ARRAY","array",352],"(",["T_WHITESPACE","\n      ",352],["T_CONSTANT_ENCAPSED_STRING","\"display_modes_custom[rss]\"",353],["T_WHITESPACE"," ",353],["T_DOUBLE_ARROW","=>",353],["T_WHITESPACE"," ",353],["T_STRING","TRUE",353],",",["T_WHITESPACE","\n    ",353],")",";",["T_WHITESPACE","\n    ",354],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","drupalPostForm",355],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",355],["T_WHITESPACE"," ",355],".",["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","type",355],["T_WHITESPACE"," ",355],".",["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","'\/display'",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$edit",355],",",["T_WHITESPACE"," ",355],["T_STRING","t",355],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",355],")",")",";",["T_WHITESPACE","\n    ",355],["T_COMMENT","\/\/ Check that the previous settings for the view mode have been kept.\n",356],["T_WHITESPACE","    ",357],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","assertNodeViewNoText",357],"(",["T_VARIABLE","$node",357],",",["T_WHITESPACE"," ",357],["T_CONSTANT_ENCAPSED_STRING","'rss'",357],",",["T_WHITESPACE"," ",357],["T_VARIABLE","$value",357],",",["T_WHITESPACE"," ",357],["T_CONSTANT_ENCAPSED_STRING","\"The previous settings are kept when 'rss' mode is specialized again.\"",357],")",";",["T_WHITESPACE","\n  ",357],"}",["T_WHITESPACE","\n\n  ",358],["T_DOC_COMMENT","\/**\n   * Tests the local tasks are displayed correctly for view modes.\n   *\/",360],["T_WHITESPACE","\n  ",362],["T_PUBLIC","public",363],["T_WHITESPACE"," ",363],["T_FUNCTION","function",363],["T_WHITESPACE"," ",363],["T_STRING","testViewModeLocalTasks",363],"(",")",["T_WHITESPACE"," ",363],"{",["T_WHITESPACE","\n    ",363],["T_VARIABLE","$manage_display",364],["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",364],["T_WHITESPACE"," ",364],".",["T_WHITESPACE"," ",364],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","type",364],["T_WHITESPACE"," ",364],".",["T_WHITESPACE"," ",364],["T_CONSTANT_ENCAPSED_STRING","'\/display'",364],";",["T_WHITESPACE","\n    ",364],["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","drupalGet",365],"(",["T_VARIABLE","$manage_display",365],")",";",["T_WHITESPACE","\n    ",365],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","assertNoLink",366],"(",["T_CONSTANT_ENCAPSED_STRING","'Full content'",366],")",";",["T_WHITESPACE","\n    ",366],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","drupalGet",367],"(",["T_VARIABLE","$manage_display",367],["T_WHITESPACE"," ",367],".",["T_WHITESPACE"," ",367],["T_CONSTANT_ENCAPSED_STRING","'\/teaser'",367],")",";",["T_WHITESPACE","\n    ",367],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","assertNoLink",368],"(",["T_CONSTANT_ENCAPSED_STRING","'Full content'",368],")",";",["T_WHITESPACE","\n  ",368],"}",["T_WHITESPACE","\n\n  ",369],["T_DOC_COMMENT","\/**\n   * Tests that fields with no explicit display settings do not break.\n   *\/",371],["T_WHITESPACE","\n  ",373],["T_FUNCTION","function",374],["T_WHITESPACE"," ",374],["T_STRING","testNonInitializedFields",374],"(",")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n    ",374],["T_COMMENT","\/\/ Create a test field.\n",375],["T_WHITESPACE","    ",376],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","fieldUIAddNewField",376],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",376],["T_WHITESPACE"," ",376],".",["T_WHITESPACE"," ",376],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","type",376],",",["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","'test'",376],",",["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","'Test'",376],")",";",["T_WHITESPACE","\n\n    ",376],["T_COMMENT","\/\/ Check that the field appears as 'hidden' on the 'Manage display' page\n",378],["T_WHITESPACE","    ",379],["T_COMMENT","\/\/ for the 'teaser' mode.\n",379],["T_WHITESPACE","    ",380],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","drupalGet",380],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/'",380],["T_WHITESPACE"," ",380],".",["T_WHITESPACE"," ",380],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","type",380],["T_WHITESPACE"," ",380],".",["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","'\/display\/teaser'",380],")",";",["T_WHITESPACE","\n    ",380],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","assertFieldByName",381],"(",["T_CONSTANT_ENCAPSED_STRING","'fields[field_test][type]'",381],",",["T_WHITESPACE"," ",381],["T_CONSTANT_ENCAPSED_STRING","'hidden'",381],",",["T_WHITESPACE"," ",381],["T_CONSTANT_ENCAPSED_STRING","'The field is displayed as \\'hidden \\'.'",381],")",";",["T_WHITESPACE","\n  ",381],"}",["T_WHITESPACE","\n\n  ",382],["T_DOC_COMMENT","\/**\n   * Tests hiding the view modes fieldset when there's only one available.\n   *\/",384],["T_WHITESPACE","\n  ",386],["T_FUNCTION","function",387],["T_WHITESPACE"," ",387],["T_STRING","testSingleViewMode",387],"(",")",["T_WHITESPACE"," ",387],"{",["T_WHITESPACE","\n    ",387],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","drupalGet",388],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/taxonomy\/manage\/'",388],["T_WHITESPACE"," ",388],".",["T_WHITESPACE"," ",388],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","vocabulary",388],["T_WHITESPACE"," ",388],".",["T_WHITESPACE"," ",388],["T_CONSTANT_ENCAPSED_STRING","'\/display'",388],")",";",["T_WHITESPACE","\n    ",388],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","assertNoText",389],"(",["T_CONSTANT_ENCAPSED_STRING","'Use custom display settings for the following view modes'",389],",",["T_WHITESPACE"," ",389],["T_CONSTANT_ENCAPSED_STRING","'Custom display settings fieldset found.'",389],")",";",["T_WHITESPACE","\n\n    ",389],["T_COMMENT","\/\/ This may not trigger a notice when 'view_modes_custom' isn't available.\n",391],["T_WHITESPACE","    ",392],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","drupalPostForm",392],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/taxonomy\/manage\/'",392],["T_WHITESPACE"," ",392],".",["T_WHITESPACE"," ",392],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","vocabulary",392],["T_WHITESPACE"," ",392],".",["T_WHITESPACE"," ",392],["T_CONSTANT_ENCAPSED_STRING","'\/overview\/display'",392],",",["T_WHITESPACE"," ",392],["T_ARRAY","array",392],"(",")",",",["T_WHITESPACE"," ",392],["T_STRING","t",392],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",392],")",")",";",["T_WHITESPACE","\n  ",392],"}",["T_WHITESPACE","\n\n  ",393],["T_DOC_COMMENT","\/**\n   * Tests that a message is shown when there are no fields.\n   *\/",395],["T_WHITESPACE","\n  ",397],["T_FUNCTION","function",398],["T_WHITESPACE"," ",398],["T_STRING","testNoFieldsDisplayOverview",398],"(",")",["T_WHITESPACE"," ",398],"{",["T_WHITESPACE","\n    ",398],["T_COMMENT","\/\/ Create a fresh content type without any fields.\n",399],["T_WHITESPACE","    ",400],["T_STRING","NodeType",400],["T_DOUBLE_COLON","::",400],["T_STRING","create",400],"(",["T_ARRAY","array",400],"(",["T_WHITESPACE","\n      ",400],["T_CONSTANT_ENCAPSED_STRING","'type'",401],["T_WHITESPACE"," ",401],["T_DOUBLE_ARROW","=>",401],["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","'no_fields'",401],",",["T_WHITESPACE","\n      ",401],["T_CONSTANT_ENCAPSED_STRING","'name'",402],["T_WHITESPACE"," ",402],["T_DOUBLE_ARROW","=>",402],["T_WHITESPACE"," ",402],["T_CONSTANT_ENCAPSED_STRING","'No fields'",402],",",["T_WHITESPACE","\n    ",402],")",")",["T_OBJECT_OPERATOR","->",403],["T_STRING","save",403],"(",")",";",["T_WHITESPACE","\n\n    ",403],["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","drupalGet",405],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/no_fields\/display'",405],")",";",["T_WHITESPACE","\n    ",405],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","assertRaw",406],"(",["T_STRING","t",406],"(",["T_CONSTANT_ENCAPSED_STRING","'There are no fields yet added. You can add new fields on the <a href=\":link\">Manage fields<\/a> page.'",406],",",["T_WHITESPACE"," ",406],["T_ARRAY","array",406],"(",["T_CONSTANT_ENCAPSED_STRING","':link'",406],["T_WHITESPACE"," ",406],["T_DOUBLE_ARROW","=>",406],["T_WHITESPACE"," ",406],["T_NS_SEPARATOR","\\",406],["T_STRING","Drupal",406],["T_DOUBLE_COLON","::",406],["T_STRING","url",406],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.node.field_ui_fields'",406],",",["T_WHITESPACE"," ",406],["T_ARRAY","array",406],"(",["T_CONSTANT_ENCAPSED_STRING","'node_type'",406],["T_WHITESPACE"," ",406],["T_DOUBLE_ARROW","=>",406],["T_WHITESPACE"," ",406],["T_CONSTANT_ENCAPSED_STRING","'no_fields'",406],")",")",")",")",")",";",["T_WHITESPACE","\n  ",406],"}",["T_WHITESPACE","\n\n  ",407],["T_DOC_COMMENT","\/**\n   * Asserts that a string is found in the rendered node in a view mode.\n   *\n   * @param EntityInterface $node\n   *   The node.\n   * @param $view_mode\n   *   The view mode in which the node should be displayed.\n   * @param $text\n   *   Plain text to look for.\n   * @param $message\n   *   Message to display.\n   *\n   * @return\n   *   TRUE on pass, FALSE on fail.\n   *\/",409],["T_WHITESPACE","\n  ",423],["T_FUNCTION","function",424],["T_WHITESPACE"," ",424],["T_STRING","assertNodeViewText",424],"(",["T_STRING","EntityInterface",424],["T_WHITESPACE"," ",424],["T_VARIABLE","$node",424],",",["T_WHITESPACE"," ",424],["T_VARIABLE","$view_mode",424],",",["T_WHITESPACE"," ",424],["T_VARIABLE","$text",424],",",["T_WHITESPACE"," ",424],["T_VARIABLE","$message",424],")",["T_WHITESPACE"," ",424],"{",["T_WHITESPACE","\n    ",424],["T_RETURN","return",425],["T_WHITESPACE"," ",425],["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","assertNodeViewTextHelper",425],"(",["T_VARIABLE","$node",425],",",["T_WHITESPACE"," ",425],["T_VARIABLE","$view_mode",425],",",["T_WHITESPACE"," ",425],["T_VARIABLE","$text",425],",",["T_WHITESPACE"," ",425],["T_VARIABLE","$message",425],",",["T_WHITESPACE"," ",425],["T_STRING","FALSE",425],")",";",["T_WHITESPACE","\n  ",425],"}",["T_WHITESPACE","\n\n  ",426],["T_DOC_COMMENT","\/**\n   * Asserts that a string is not found in the rendered node in a view mode.\n   *\n   * @param EntityInterface $node\n   *   The node.\n   * @param $view_mode\n   *   The view mode in which the node should be displayed.\n   * @param $text\n   *   Plain text to look for.\n   * @param $message\n   *   Message to display.\n   * @return\n   *   TRUE on pass, FALSE on fail.\n   *\/",428],["T_WHITESPACE","\n  ",441],["T_FUNCTION","function",442],["T_WHITESPACE"," ",442],["T_STRING","assertNodeViewNoText",442],"(",["T_STRING","EntityInterface",442],["T_WHITESPACE"," ",442],["T_VARIABLE","$node",442],",",["T_WHITESPACE"," ",442],["T_VARIABLE","$view_mode",442],",",["T_WHITESPACE"," ",442],["T_VARIABLE","$text",442],",",["T_WHITESPACE"," ",442],["T_VARIABLE","$message",442],")",["T_WHITESPACE"," ",442],"{",["T_WHITESPACE","\n    ",442],["T_RETURN","return",443],["T_WHITESPACE"," ",443],["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","assertNodeViewTextHelper",443],"(",["T_VARIABLE","$node",443],",",["T_WHITESPACE"," ",443],["T_VARIABLE","$view_mode",443],",",["T_WHITESPACE"," ",443],["T_VARIABLE","$text",443],",",["T_WHITESPACE"," ",443],["T_VARIABLE","$message",443],",",["T_WHITESPACE"," ",443],["T_STRING","TRUE",443],")",";",["T_WHITESPACE","\n  ",443],"}",["T_WHITESPACE","\n\n  ",444],["T_DOC_COMMENT","\/**\n   * Asserts that a string is (not) found in the rendered nodein a view mode.\n   *\n   * This helper function is used by assertNodeViewText() and\n   * assertNodeViewNoText().\n   *\n   * @param EntityInterface $node\n   *   The node.\n   * @param $view_mode\n   *   The view mode in which the node should be displayed.\n   * @param $text\n   *   Plain text to look for.\n   * @param $message\n   *   Message to display.\n   * @param $not_exists\n   *   TRUE if this text should not exist, FALSE if it should.\n   *\n   * @return\n   *   TRUE on pass, FALSE on fail.\n   *\/",446],["T_WHITESPACE","\n  ",465],["T_FUNCTION","function",466],["T_WHITESPACE"," ",466],["T_STRING","assertNodeViewTextHelper",466],"(",["T_STRING","EntityInterface",466],["T_WHITESPACE"," ",466],["T_VARIABLE","$node",466],",",["T_WHITESPACE"," ",466],["T_VARIABLE","$view_mode",466],",",["T_WHITESPACE"," ",466],["T_VARIABLE","$text",466],",",["T_WHITESPACE"," ",466],["T_VARIABLE","$message",466],",",["T_WHITESPACE"," ",466],["T_VARIABLE","$not_exists",466],")",["T_WHITESPACE"," ",466],"{",["T_WHITESPACE","\n    ",466],["T_COMMENT","\/\/ Make sure caches on the tester side are refreshed after changes\n",467],["T_WHITESPACE","    ",468],["T_COMMENT","\/\/ submitted on the tested side.\n",468],["T_WHITESPACE","    ",469],["T_NS_SEPARATOR","\\",469],["T_STRING","Drupal",469],["T_DOUBLE_COLON","::",469],["T_STRING","entityManager",469],"(",")",["T_OBJECT_OPERATOR","->",469],["T_STRING","clearCachedFieldDefinitions",469],"(",")",";",["T_WHITESPACE","\n\n    ",469],["T_COMMENT","\/\/ Save current content so that we can restore it when we're done.\n",471],["T_WHITESPACE","    ",472],["T_VARIABLE","$old_content",472],["T_WHITESPACE"," ",472],"=",["T_WHITESPACE"," ",472],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","getRawContent",472],"(",")",";",["T_WHITESPACE","\n\n    ",472],["T_COMMENT","\/\/ Render a cloned node, so that we do not alter the original.\n",474],["T_WHITESPACE","    ",475],["T_VARIABLE","$clone",475],["T_WHITESPACE"," ",475],"=",["T_WHITESPACE"," ",475],["T_CLONE","clone",475],["T_WHITESPACE"," ",475],["T_VARIABLE","$node",475],";",["T_WHITESPACE","\n    ",475],["T_VARIABLE","$element",476],["T_WHITESPACE"," ",476],"=",["T_WHITESPACE"," ",476],["T_STRING","node_view",476],"(",["T_VARIABLE","$clone",476],",",["T_WHITESPACE"," ",476],["T_VARIABLE","$view_mode",476],")",";",["T_WHITESPACE","\n    ",476],["T_VARIABLE","$output",477],["T_WHITESPACE"," ",477],"=",["T_WHITESPACE"," ",477],["T_NS_SEPARATOR","\\",477],["T_STRING","Drupal",477],["T_DOUBLE_COLON","::",477],["T_STRING","service",477],"(",["T_CONSTANT_ENCAPSED_STRING","'renderer'",477],")",["T_OBJECT_OPERATOR","->",477],["T_STRING","renderRoot",477],"(",["T_VARIABLE","$element",477],")",";",["T_WHITESPACE","\n    ",477],["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","verbose",478],"(",["T_STRING","t",478],"(",["T_CONSTANT_ENCAPSED_STRING","'Rendered node - view mode: @view_mode'",478],",",["T_WHITESPACE"," ",478],["T_ARRAY","array",478],"(",["T_CONSTANT_ENCAPSED_STRING","'@view_mode'",478],["T_WHITESPACE"," ",478],["T_DOUBLE_ARROW","=>",478],["T_WHITESPACE"," ",478],["T_VARIABLE","$view_mode",478],")",")",["T_WHITESPACE"," ",478],".",["T_WHITESPACE"," ",478],["T_CONSTANT_ENCAPSED_STRING","'<hr \/>'",478],["T_WHITESPACE"," ",478],".",["T_WHITESPACE"," ",478],["T_VARIABLE","$output",478],")",";",["T_WHITESPACE","\n\n    ",478],["T_COMMENT","\/\/ Assign content so that WebTestBase functions can be used.\n",480],["T_WHITESPACE","    ",481],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","setRawContent",481],"(",["T_VARIABLE","$output",481],")",";",["T_WHITESPACE","\n    ",481],["T_VARIABLE","$method",482],["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],"(",["T_VARIABLE","$not_exists",482],["T_WHITESPACE"," ",482],"?",["T_WHITESPACE"," ",482],["T_CONSTANT_ENCAPSED_STRING","'assertNoText'",482],["T_WHITESPACE"," ",482],":",["T_WHITESPACE"," ",482],["T_CONSTANT_ENCAPSED_STRING","'assertText'",482],")",";",["T_WHITESPACE","\n    ",482],["T_VARIABLE","$return",483],["T_WHITESPACE"," ",483],"=",["T_WHITESPACE"," ",483],["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],"{",["T_VARIABLE","$method",483],"}","(",["T_STRING_CAST","(string)",483],["T_WHITESPACE"," ",483],["T_VARIABLE","$text",483],",",["T_WHITESPACE"," ",483],["T_VARIABLE","$message",483],")",";",["T_WHITESPACE","\n\n    ",483],["T_COMMENT","\/\/ Restore previous content.\n",485],["T_WHITESPACE","    ",486],["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","setRawContent",486],"(",["T_VARIABLE","$old_content",486],")",";",["T_WHITESPACE","\n\n    ",486],["T_RETURN","return",488],["T_WHITESPACE"," ",488],["T_VARIABLE","$return",488],";",["T_WHITESPACE","\n  ",488],"}",["T_WHITESPACE","\n\n  ",489],["T_DOC_COMMENT","\/**\n   * Checks if a select element contains the specified options.\n   *\n   * @param string $name\n   *   The field name.\n   * @param array $expected_options\n   *   An array of expected options.\n   *\n   * @return bool\n   *   TRUE if the assertion succeeded, FALSE otherwise.\n   *\/",491],["T_WHITESPACE","\n  ",501],["T_PROTECTED","protected",502],["T_WHITESPACE"," ",502],["T_FUNCTION","function",502],["T_WHITESPACE"," ",502],["T_STRING","assertFieldSelectOptions",502],"(",["T_VARIABLE","$name",502],",",["T_WHITESPACE"," ",502],["T_ARRAY","array",502],["T_WHITESPACE"," ",502],["T_VARIABLE","$expected_options",502],")",["T_WHITESPACE"," ",502],"{",["T_WHITESPACE","\n    ",502],["T_VARIABLE","$xpath",503],["T_WHITESPACE"," ",503],"=",["T_WHITESPACE"," ",503],["T_VARIABLE","$this",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","buildXPathQuery",503],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/select[@name=:name]'",503],",",["T_WHITESPACE"," ",503],["T_ARRAY","array",503],"(",["T_CONSTANT_ENCAPSED_STRING","':name'",503],["T_WHITESPACE"," ",503],["T_DOUBLE_ARROW","=>",503],["T_WHITESPACE"," ",503],["T_VARIABLE","$name",503],")",")",";",["T_WHITESPACE","\n    ",503],["T_VARIABLE","$fields",504],["T_WHITESPACE"," ",504],"=",["T_WHITESPACE"," ",504],["T_VARIABLE","$this",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","xpath",504],"(",["T_VARIABLE","$xpath",504],")",";",["T_WHITESPACE","\n    ",504],["T_IF","if",505],["T_WHITESPACE"," ",505],"(",["T_VARIABLE","$fields",505],")",["T_WHITESPACE"," ",505],"{",["T_WHITESPACE","\n      ",505],["T_VARIABLE","$field",506],["T_WHITESPACE"," ",506],"=",["T_WHITESPACE"," ",506],["T_VARIABLE","$fields",506],"[",["T_LNUMBER","0",506],"]",";",["T_WHITESPACE","\n      ",506],["T_VARIABLE","$options",507],["T_WHITESPACE"," ",507],"=",["T_WHITESPACE"," ",507],["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","getAllOptionsList",507],"(",["T_VARIABLE","$field",507],")",";",["T_WHITESPACE","\n\n      ",507],["T_STRING","sort",509],"(",["T_VARIABLE","$options",509],")",";",["T_WHITESPACE","\n      ",509],["T_STRING","sort",510],"(",["T_VARIABLE","$expected_options",510],")",";",["T_WHITESPACE","\n\n      ",510],["T_RETURN","return",512],["T_WHITESPACE"," ",512],["T_VARIABLE","$this",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","assertIdentical",512],"(",["T_VARIABLE","$options",512],",",["T_WHITESPACE"," ",512],["T_VARIABLE","$expected_options",512],")",";",["T_WHITESPACE","\n    ",512],"}",["T_WHITESPACE","\n    ",513],["T_ELSE","else",514],["T_WHITESPACE"," ",514],"{",["T_WHITESPACE","\n      ",514],["T_RETURN","return",515],["T_WHITESPACE"," ",515],["T_VARIABLE","$this",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","fail",515],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to find field '",515],["T_WHITESPACE"," ",515],".",["T_WHITESPACE"," ",515],["T_VARIABLE","$name",515],")",";",["T_WHITESPACE","\n    ",515],"}",["T_WHITESPACE","\n  ",516],"}",["T_WHITESPACE","\n\n  ",517],["T_DOC_COMMENT","\/**\n   * Extracts all options from a select element.\n   *\n   * @param \\SimpleXMLElement $element\n   *   The select element field information.\n   *\n   * @return array\n   *   An array of option values as strings.\n   *\/",519],["T_WHITESPACE","\n  ",527],["T_PROTECTED","protected",528],["T_WHITESPACE"," ",528],["T_FUNCTION","function",528],["T_WHITESPACE"," ",528],["T_STRING","getAllOptionsList",528],"(",["T_NS_SEPARATOR","\\",528],["T_STRING","SimpleXMLElement",528],["T_WHITESPACE"," ",528],["T_VARIABLE","$element",528],")",["T_WHITESPACE"," ",528],"{",["T_WHITESPACE","\n    ",528],["T_VARIABLE","$options",529],["T_WHITESPACE"," ",529],"=",["T_WHITESPACE"," ",529],["T_ARRAY","array",529],"(",")",";",["T_WHITESPACE","\n    ",529],["T_COMMENT","\/\/ Add all options items.\n",530],["T_WHITESPACE","    ",531],["T_FOREACH","foreach",531],["T_WHITESPACE"," ",531],"(",["T_VARIABLE","$element",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","option",531],["T_WHITESPACE"," ",531],["T_AS","as",531],["T_WHITESPACE"," ",531],["T_VARIABLE","$option",531],")",["T_WHITESPACE"," ",531],"{",["T_WHITESPACE","\n      ",531],["T_VARIABLE","$options",532],"[","]",["T_WHITESPACE"," ",532],"=",["T_WHITESPACE"," ",532],["T_STRING_CAST","(string)",532],["T_WHITESPACE"," ",532],["T_VARIABLE","$option",532],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",532],"]",";",["T_WHITESPACE","\n    ",532],"}",["T_WHITESPACE","\n\n    ",533],["T_COMMENT","\/\/ Loops trough all the option groups\n",535],["T_WHITESPACE","    ",536],["T_FOREACH","foreach",536],["T_WHITESPACE"," ",536],"(",["T_VARIABLE","$element",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","optgroup",536],["T_WHITESPACE"," ",536],["T_AS","as",536],["T_WHITESPACE"," ",536],["T_VARIABLE","$optgroup",536],")",["T_WHITESPACE"," ",536],"{",["T_WHITESPACE","\n      ",536],["T_VARIABLE","$options",537],["T_WHITESPACE"," ",537],"=",["T_WHITESPACE"," ",537],["T_STRING","array_merge",537],"(",["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","getAllOptionsList",537],"(",["T_VARIABLE","$optgroup",537],")",",",["T_WHITESPACE"," ",537],["T_VARIABLE","$options",537],")",";",["T_WHITESPACE","\n    ",537],"}",["T_WHITESPACE","\n\n    ",538],["T_RETURN","return",540],["T_WHITESPACE"," ",540],["T_VARIABLE","$options",540],";",["T_WHITESPACE","\n  ",540],"}",["T_WHITESPACE","\n\n",541],"}",["T_WHITESPACE","\n",543]]