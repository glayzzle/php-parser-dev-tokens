[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","field_ui",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Form",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Config",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ConfigEntityInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","EntityDeleteForm",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","EntityManagerInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Form",8],["T_NS_SEPARATOR","\\",8],["T_STRING","FormStateInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Render",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Element",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","field_ui",10],["T_NS_SEPARATOR","\\",10],["T_STRING","FieldUI",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Symfony",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Component",11],["T_NS_SEPARATOR","\\",11],["T_STRING","DependencyInjection",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ContainerInterface",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Provides a form for removing a field from a bundle.\n *\/",13],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","FieldConfigDeleteForm",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","EntityDeleteForm",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * The entity manager.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityManagerInterface\n   *\/",18],["T_WHITESPACE","\n  ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$entityManager",23],";",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * Constructs a new FieldConfigDeleteForm object.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityManagerInterface $entity_manager\n   *   The entity manager.\n   *\/",25],["T_WHITESPACE","\n  ",30],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","__construct",31],"(",["T_STRING","EntityManagerInterface",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$entity_manager",31],")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","entityManager",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$entity_manager",32],";",["T_WHITESPACE","\n  ",32],"}",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",35],["T_WHITESPACE","\n  ",37],["T_PUBLIC","public",38],["T_WHITESPACE"," ",38],["T_STATIC","static",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","create",38],"(",["T_STRING","ContainerInterface",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$container",38],")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n    ",38],["T_RETURN","return",39],["T_WHITESPACE"," ",39],["T_NEW","new",39],["T_WHITESPACE"," ",39],["T_STATIC","static",39],"(",["T_WHITESPACE","\n      ",39],["T_VARIABLE","$container",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","get",40],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",40],")",["T_WHITESPACE","\n    ",40],")",";",["T_WHITESPACE","\n  ",41],"}",["T_WHITESPACE","\n\n  ",42],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",44],["T_WHITESPACE","\n  ",46],["T_PUBLIC","public",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","buildForm",47],"(",["T_ARRAY","array",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$form",47],",",["T_WHITESPACE"," ",47],["T_STRING","FormStateInterface",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$form_state",47],")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$form",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","parent",48],["T_DOUBLE_COLON","::",48],["T_STRING","buildForm",48],"(",["T_VARIABLE","$form",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$form_state",48],")",";",["T_WHITESPACE","\n\n    ",48],["T_COMMENT","\/\/ If we are adding the field storage as a dependency to delete, then that\n",50],["T_WHITESPACE","    ",51],["T_COMMENT","\/\/ will list the field as a dependency. That is confusing, so remove it.\n",51],["T_WHITESPACE","    ",52],["T_COMMENT","\/\/ Also remove the entity type and the whole entity deletions details\n",52],["T_WHITESPACE","    ",53],["T_COMMENT","\/\/ element if nothing else is in there.\n",53],["T_WHITESPACE","    ",54],["T_IF","if",54],["T_WHITESPACE"," ",54],"(",["T_ISSET","isset",54],"(",["T_VARIABLE","$form",54],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_deletes'",54],"]","[",["T_CONSTANT_ENCAPSED_STRING","'field_config'",54],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#items'",54],"]",")",["T_WHITESPACE"," ",54],["T_BOOLEAN_AND","&&",54],["T_WHITESPACE"," ",54],["T_ISSET","isset",54],"(",["T_VARIABLE","$form",54],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_deletes'",54],"]","[",["T_CONSTANT_ENCAPSED_STRING","'field_config'",54],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#items'",54],"]","[",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","entity",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","id",54],"(",")","]",")",")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n      ",54],["T_UNSET","unset",55],"(",["T_VARIABLE","$form",55],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_deletes'",55],"]","[",["T_CONSTANT_ENCAPSED_STRING","'field_config'",55],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#items'",55],"]","[",["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","entity",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","id",55],"(",")","]",")",";",["T_WHITESPACE","\n      ",55],["T_IF","if",56],["T_WHITESPACE"," ",56],"(",["T_EMPTY","empty",56],"(",["T_VARIABLE","$form",56],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_deletes'",56],"]","[",["T_CONSTANT_ENCAPSED_STRING","'field_config'",56],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#items'",56],"]",")",")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n        ",56],["T_UNSET","unset",57],"(",["T_VARIABLE","$form",57],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_deletes'",57],"]","[",["T_CONSTANT_ENCAPSED_STRING","'field_config'",57],"]",")",";",["T_WHITESPACE","\n        ",57],["T_IF","if",58],["T_WHITESPACE"," ",58],"(","!",["T_STRING","Element",58],["T_DOUBLE_COLON","::",58],["T_STRING","children",58],"(",["T_VARIABLE","$form",58],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_deletes'",58],"]",")",")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n          ",58],["T_VARIABLE","$form",59],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_deletes'",59],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#access'",59],"]",["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","FALSE",59],";",["T_WHITESPACE","\n        ",59],"}",["T_WHITESPACE","\n      ",60],"}",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n    ",62],["T_RETURN","return",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$form",63],";",["T_WHITESPACE","\n  ",63],"}",["T_WHITESPACE","\n\n  ",64],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",66],["T_WHITESPACE","\n  ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","getConfigNamesToDelete",69],"(",["T_STRING","ConfigEntityInterface",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$entity",69],")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n    ",69],["T_DOC_COMMENT","\/** @var \\Drupal\\field\\FieldStorageConfigInterface $field_storage *\/",70],["T_WHITESPACE","\n    ",70],["T_VARIABLE","$field_storage",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$entity",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getFieldStorageDefinition",71],"(",")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$config_names",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],"[",["T_VARIABLE","$entity",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getConfigDependencyName",72],"(",")","]",";",["T_WHITESPACE","\n\n    ",72],["T_COMMENT","\/\/ If there is only one bundle left for this field storage, it will be\n",74],["T_WHITESPACE","    ",75],["T_COMMENT","\/\/ deleted too, notify the user about dependencies.\n",75],["T_WHITESPACE","    ",76],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_STRING","count",76],"(",["T_VARIABLE","$field_storage",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getBundles",76],"(",")",")",["T_WHITESPACE"," ",76],["T_IS_SMALLER_OR_EQUAL","<=",76],["T_WHITESPACE"," ",76],["T_LNUMBER","1",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n      ",76],["T_VARIABLE","$config_names",77],"[","]",["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$field_storage",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getConfigDependencyName",77],"(",")",";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n    ",78],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$config_names",79],";",["T_WHITESPACE","\n  ",79],"}",["T_WHITESPACE","\n\n  ",80],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",82],["T_WHITESPACE","\n  ",84],["T_PUBLIC","public",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","getCancelUrl",85],"(",")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n    ",85],["T_RETURN","return",86],["T_WHITESPACE"," ",86],["T_STRING","FieldUI",86],["T_DOUBLE_COLON","::",86],["T_STRING","getOverviewRouteInfo",86],"(",["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","entity",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getTargetEntityTypeId",86],"(",")",",",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","entity",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getTargetBundle",86],"(",")",")",";",["T_WHITESPACE","\n  ",86],"}",["T_WHITESPACE","\n\n  ",87],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",89],["T_WHITESPACE","\n  ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","submitForm",92],"(",["T_ARRAY","array",92],["T_WHITESPACE"," ",92],"&",["T_VARIABLE","$form",92],",",["T_WHITESPACE"," ",92],["T_STRING","FormStateInterface",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$form_state",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$field_storage",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","entity",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getFieldStorageDefinition",93],"(",")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$bundles",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","entityManager",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getBundleInfo",94],"(",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","entity",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getTargetEntityTypeId",94],"(",")",")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$bundle_label",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$bundles",95],"[",["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","entity",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getTargetBundle",95],"(",")","]","[",["T_CONSTANT_ENCAPSED_STRING","'label'",95],"]",";",["T_WHITESPACE","\n\n    ",95],["T_IF","if",97],["T_WHITESPACE"," ",97],"(",["T_VARIABLE","$field_storage",97],["T_WHITESPACE"," ",97],["T_BOOLEAN_AND","&&",97],["T_WHITESPACE"," ",97],"!",["T_VARIABLE","$field_storage",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","isLocked",97],"(",")",")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n      ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","entity",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","delete",98],"(",")",";",["T_WHITESPACE","\n      ",98],["T_STRING","drupal_set_message",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","t",99],"(",["T_CONSTANT_ENCAPSED_STRING","'The field %field has been deleted from the %type content type.'",99],",",["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",["T_CONSTANT_ENCAPSED_STRING","'%field'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","entity",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","label",99],"(",")",",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'%type'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$bundle_label",99],")",")",")",";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n    ",100],["T_ELSE","else",101],["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n      ",101],["T_STRING","drupal_set_message",102],"(",["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","t",102],"(",["T_CONSTANT_ENCAPSED_STRING","'There was a problem removing the %field from the %type content type.'",102],",",["T_WHITESPACE"," ",102],["T_ARRAY","array",102],"(",["T_CONSTANT_ENCAPSED_STRING","'%field'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","entity",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","label",102],"(",")",",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'%type'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$bundle_label",102],")",")",",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'error'",102],")",";",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_VARIABLE","$form_state",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","setRedirectUrl",105],"(",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getCancelUrl",105],"(",")",")",";",["T_WHITESPACE","\n\n    ",105],["T_COMMENT","\/\/ Fields are purged on cron. However field module prevents disabling modules\n",107],["T_WHITESPACE","    ",108],["T_COMMENT","\/\/ when field types they provided are used in a field until it is fully\n",108],["T_WHITESPACE","    ",109],["T_COMMENT","\/\/ purged. In the case that a field has minimal or no content, a single call\n",109],["T_WHITESPACE","    ",110],["T_COMMENT","\/\/ to field_purge_batch() will remove it from the system. Call this with a\n",110],["T_WHITESPACE","    ",111],["T_COMMENT","\/\/ low batch limit to avoid administrators having to wait for cron runs when\n",111],["T_WHITESPACE","    ",112],["T_COMMENT","\/\/ removing fields that meet this criteria.\n",112],["T_WHITESPACE","    ",113],["T_STRING","field_purge_batch",113],"(",["T_LNUMBER","10",113],")",";",["T_WHITESPACE","\n  ",113],"}",["T_WHITESPACE","\n\n",114],"}",["T_WHITESPACE","\n",116]]