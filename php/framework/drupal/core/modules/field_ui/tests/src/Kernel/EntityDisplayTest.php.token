[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","field_ui",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Render",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FormattableMarkup",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Utility",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unicode",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Cache",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Cache",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Database",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Database",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Display",9],["T_NS_SEPARATOR","\\",9],["T_STRING","EntityDisplayInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Entity",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Display",10],["T_NS_SEPARATOR","\\",10],["T_STRING","EntityViewDisplayInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Entity",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Entity",11],["T_NS_SEPARATOR","\\",11],["T_STRING","EntityFormDisplay",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Entity",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Entity",12],["T_NS_SEPARATOR","\\",12],["T_STRING","EntityViewDisplay",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Core",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Entity",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Entity",13],["T_NS_SEPARATOR","\\",13],["T_STRING","EntityViewMode",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Drupal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","field",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Entity",14],["T_NS_SEPARATOR","\\",14],["T_STRING","FieldConfig",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Drupal",15],["T_NS_SEPARATOR","\\",15],["T_STRING","field",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Entity",15],["T_NS_SEPARATOR","\\",15],["T_STRING","FieldStorageConfig",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Drupal",16],["T_NS_SEPARATOR","\\",16],["T_STRING","node",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Entity",16],["T_NS_SEPARATOR","\\",16],["T_STRING","NodeType",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Drupal",17],["T_NS_SEPARATOR","\\",17],["T_STRING","KernelTests",17],["T_NS_SEPARATOR","\\",17],["T_STRING","KernelTestBase",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Drupal",18],["T_NS_SEPARATOR","\\",18],["T_STRING","user",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Entity",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Role",18],";",["T_WHITESPACE","\n\n",18],["T_DOC_COMMENT","\/**\n * Tests the entity display configuration entities.\n *\n * @group field_ui\n *\/",20],["T_WHITESPACE","\n",24],["T_CLASS","class",25],["T_WHITESPACE"," ",25],["T_STRING","EntityDisplayTest",25],["T_WHITESPACE"," ",25],["T_EXTENDS","extends",25],["T_WHITESPACE"," ",25],["T_STRING","KernelTestBase",25],["T_WHITESPACE"," ",25],"{",["T_WHITESPACE","\n\n  ",25],["T_DOC_COMMENT","\/**\n   * Modules to install.\n   *\n   * @var string[]\n   *\/",27],["T_WHITESPACE","\n  ",31],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_STATIC","static",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$modules",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_ARRAY","array",32],"(",["T_CONSTANT_ENCAPSED_STRING","'field_ui'",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'field'",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'user'",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'text'",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'field_test'",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'node'",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'system'",32],")",";",["T_WHITESPACE","\n\n  ",32],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","setUp",34],"(",")",["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n    ",34],["T_STRING","parent",35],["T_DOUBLE_COLON","::",35],["T_STRING","setUp",35],"(",")",";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","installEntitySchema",36],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",36],")",";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","installEntitySchema",37],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",37],")",";",["T_WHITESPACE","\n    ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","installConfig",38],"(",["T_ARRAY","array",38],"(",["T_CONSTANT_ENCAPSED_STRING","'field'",38],",",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'node'",38],",",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'user'",38],")",")",";",["T_WHITESPACE","\n  ",38],"}",["T_WHITESPACE","\n\n  ",39],["T_DOC_COMMENT","\/**\n   * Tests basic CRUD operations on entity display objects.\n   *\/",41],["T_WHITESPACE","\n  ",43],["T_PUBLIC","public",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","testEntityDisplayCRUD",44],"(",")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$display",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","EntityViewDisplay",45],["T_DOUBLE_COLON","::",45],["T_STRING","create",45],"(",["T_ARRAY","array",45],"(",["T_WHITESPACE","\n      ",45],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",46],",",["T_WHITESPACE","\n      ",46],["T_CONSTANT_ENCAPSED_STRING","'bundle'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",47],",",["T_WHITESPACE","\n      ",47],["T_CONSTANT_ENCAPSED_STRING","'mode'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'default'",48],",",["T_WHITESPACE","\n    ",48],")",")",";",["T_WHITESPACE","\n\n    ",49],["T_VARIABLE","$expected",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_ARRAY","array",51],"(",")",";",["T_WHITESPACE","\n\n    ",51],["T_COMMENT","\/\/ Check that providing no 'weight' results in the highest current weight\n",53],["T_WHITESPACE","    ",54],["T_COMMENT","\/\/ being assigned. The 'name' field's formatter has weight -5, therefore\n",54],["T_WHITESPACE","    ",55],["T_COMMENT","\/\/ these follow.\n",55],["T_WHITESPACE","    ",56],["T_VARIABLE","$expected",56],"[",["T_CONSTANT_ENCAPSED_STRING","'component_1'",56],"]",["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_ARRAY","array",56],"(",["T_CONSTANT_ENCAPSED_STRING","'weight'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],"-",["T_LNUMBER","4",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'settings'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_ARRAY","array",56],"(",")",",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'third_party_settings'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_ARRAY","array",56],"(",")",")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$expected",57],"[",["T_CONSTANT_ENCAPSED_STRING","'component_2'",57],"]",["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_ARRAY","array",57],"(",["T_CONSTANT_ENCAPSED_STRING","'weight'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],"-",["T_LNUMBER","3",57],",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'settings'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_ARRAY","array",57],"(",")",",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'third_party_settings'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_ARRAY","array",57],"(",")",")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$display",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","setComponent",58],"(",["T_CONSTANT_ENCAPSED_STRING","'component_1'",58],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$display",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","setComponent",59],"(",["T_CONSTANT_ENCAPSED_STRING","'component_2'",59],")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertEqual",60],"(",["T_VARIABLE","$display",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getComponent",60],"(",["T_CONSTANT_ENCAPSED_STRING","'component_1'",60],")",",",["T_WHITESPACE"," ",60],["T_VARIABLE","$expected",60],"[",["T_CONSTANT_ENCAPSED_STRING","'component_1'",60],"]",")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","assertEqual",61],"(",["T_VARIABLE","$display",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getComponent",61],"(",["T_CONSTANT_ENCAPSED_STRING","'component_2'",61],")",",",["T_WHITESPACE"," ",61],["T_VARIABLE","$expected",61],"[",["T_CONSTANT_ENCAPSED_STRING","'component_2'",61],"]",")",";",["T_WHITESPACE","\n\n    ",61],["T_COMMENT","\/\/ Check that arbitrary options are correctly stored.\n",63],["T_WHITESPACE","    ",64],["T_VARIABLE","$expected",64],"[",["T_CONSTANT_ENCAPSED_STRING","'component_3'",64],"]",["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_ARRAY","array",64],"(",["T_CONSTANT_ENCAPSED_STRING","'weight'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_LNUMBER","10",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'third_party_settings'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_ARRAY","array",64],"(",["T_CONSTANT_ENCAPSED_STRING","'field_test'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_ARRAY","array",64],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'bar'",64],")",")",",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'settings'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_ARRAY","array",64],"(",")",")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$display",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","setComponent",65],"(",["T_CONSTANT_ENCAPSED_STRING","'component_3'",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$expected",65],"[",["T_CONSTANT_ENCAPSED_STRING","'component_3'",65],"]",")",";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","assertEqual",66],"(",["T_VARIABLE","$display",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getComponent",66],"(",["T_CONSTANT_ENCAPSED_STRING","'component_3'",66],")",",",["T_WHITESPACE"," ",66],["T_VARIABLE","$expected",66],"[",["T_CONSTANT_ENCAPSED_STRING","'component_3'",66],"]",")",";",["T_WHITESPACE","\n\n    ",66],["T_COMMENT","\/\/ Check that the display can be properly saved and read back.\n",68],["T_WHITESPACE","    ",69],["T_VARIABLE","$display",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","save",69],"(",")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$display",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","EntityViewDisplay",70],["T_DOUBLE_COLON","::",70],["T_STRING","load",70],"(",["T_VARIABLE","$display",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","id",70],"(",")",")",";",["T_WHITESPACE","\n    ",70],["T_FOREACH","foreach",71],["T_WHITESPACE"," ",71],"(",["T_ARRAY","array",71],"(",["T_CONSTANT_ENCAPSED_STRING","'component_1'",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'component_2'",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'component_3'",71],")",["T_WHITESPACE"," ",71],["T_AS","as",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$name",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n      ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertEqual",72],"(",["T_VARIABLE","$display",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getComponent",72],"(",["T_VARIABLE","$name",72],")",",",["T_WHITESPACE"," ",72],["T_VARIABLE","$expected",72],"[",["T_VARIABLE","$name",72],"]",")",";",["T_WHITESPACE","\n    ",72],"}",["T_WHITESPACE","\n\n    ",73],["T_COMMENT","\/\/ Ensure that third party settings were added to the config entity.\n",75],["T_WHITESPACE","    ",76],["T_COMMENT","\/\/ These are added by entity_test_entity_presave() implemented in\n",76],["T_WHITESPACE","    ",77],["T_COMMENT","\/\/ entity_test module.\n",77],["T_WHITESPACE","    ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","assertEqual",78],"(",["T_CONSTANT_ENCAPSED_STRING","'bar'",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$display",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getThirdPartySetting",78],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'foo'",78],")",",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'Third party settings were added to the entity view display.'",78],")",";",["T_WHITESPACE","\n\n    ",78],["T_COMMENT","\/\/ Check that getComponents() returns options for all components.\n",80],["T_WHITESPACE","    ",81],["T_VARIABLE","$expected",81],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",81],"]",["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_ARRAY","array",81],"(",["T_WHITESPACE","\n      ",81],["T_CONSTANT_ENCAPSED_STRING","'label'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'hidden'",82],",",["T_WHITESPACE","\n      ",82],["T_CONSTANT_ENCAPSED_STRING","'type'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'string'",83],",",["T_WHITESPACE","\n      ",83],["T_CONSTANT_ENCAPSED_STRING","'weight'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],"-",["T_LNUMBER","5",84],",",["T_WHITESPACE","\n      ",84],["T_CONSTANT_ENCAPSED_STRING","'settings'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_ARRAY","array",85],"(",["T_WHITESPACE","\n        ",85],["T_CONSTANT_ENCAPSED_STRING","'link_to_entity'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_STRING","FALSE",86],",",["T_WHITESPACE","\n      ",86],")",",",["T_WHITESPACE","\n      ",87],["T_CONSTANT_ENCAPSED_STRING","'third_party_settings'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_ARRAY","array",88],"(",")",",",["T_WHITESPACE","\n    ",88],")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertEqual",90],"(",["T_VARIABLE","$display",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getComponents",90],"(",")",",",["T_WHITESPACE"," ",90],["T_VARIABLE","$expected",90],")",";",["T_WHITESPACE","\n\n    ",90],["T_COMMENT","\/\/ Check that a component can be removed.\n",92],["T_WHITESPACE","    ",93],["T_VARIABLE","$display",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","removeComponent",93],"(",["T_CONSTANT_ENCAPSED_STRING","'component_3'",93],")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertNULL",94],"(",["T_VARIABLE","$display",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getComponent",94],"(",["T_CONSTANT_ENCAPSED_STRING","'component_3'",94],")",")",";",["T_WHITESPACE","\n\n    ",94],["T_COMMENT","\/\/ Check that the removal is correctly persisted.\n",96],["T_WHITESPACE","    ",97],["T_VARIABLE","$display",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","save",97],"(",")",";",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$display",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","EntityViewDisplay",98],["T_DOUBLE_COLON","::",98],["T_STRING","load",98],"(",["T_VARIABLE","$display",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","id",98],"(",")",")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","assertNULL",99],"(",["T_VARIABLE","$display",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getComponent",99],"(",["T_CONSTANT_ENCAPSED_STRING","'component_3'",99],")",")",";",["T_WHITESPACE","\n\n    ",99],["T_COMMENT","\/\/ Check that createCopy() creates a new component that can be correctly\n",101],["T_WHITESPACE","    ",102],["T_COMMENT","\/\/ saved.\n",102],["T_WHITESPACE","    ",103],["T_STRING","EntityViewMode",103],["T_DOUBLE_COLON","::",103],["T_STRING","create",103],"(",["T_ARRAY","array",103],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$display",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getTargetEntityTypeId",103],"(",")",["T_WHITESPACE"," ",103],".",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'.other_view_mode'",103],",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$display",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getTargetEntityTypeId",103],"(",")",")",")",["T_OBJECT_OPERATOR","->",103],["T_STRING","save",103],"(",")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$new_display",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$display",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","createCopy",104],"(",["T_CONSTANT_ENCAPSED_STRING","'other_view_mode'",104],")",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$new_display",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","save",105],"(",")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$new_display",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","EntityViewDisplay",106],["T_DOUBLE_COLON","::",106],["T_STRING","load",106],"(",["T_VARIABLE","$new_display",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","id",106],"(",")",")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$dependencies",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$new_display",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","calculateDependencies",107],"(",")",["T_OBJECT_OPERATOR","->",107],["T_STRING","getDependencies",107],"(",")",";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","assertEqual",108],"(",["T_ARRAY","array",108],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_ARRAY","array",108],"(",["T_CONSTANT_ENCAPSED_STRING","'core.entity_view_mode.entity_test.other_view_mode'",108],")",",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'module'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_ARRAY","array",108],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",108],")",")",",",["T_WHITESPACE"," ",108],["T_VARIABLE","$dependencies",108],")",";",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertEqual",109],"(",["T_VARIABLE","$new_display",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getTargetEntityTypeId",109],"(",")",",",["T_WHITESPACE"," ",109],["T_VARIABLE","$display",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getTargetEntityTypeId",109],"(",")",")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertEqual",110],"(",["T_VARIABLE","$new_display",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getTargetBundle",110],"(",")",",",["T_WHITESPACE"," ",110],["T_VARIABLE","$display",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getTargetBundle",110],"(",")",")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertEqual",111],"(",["T_VARIABLE","$new_display",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getMode",111],"(",")",",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'other_view_mode'",111],")",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","assertEqual",112],"(",["T_VARIABLE","$new_display",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getComponents",112],"(",")",",",["T_WHITESPACE"," ",112],["T_VARIABLE","$display",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getComponents",112],"(",")",")",";",["T_WHITESPACE","\n  ",112],"}",["T_WHITESPACE","\n\n  ",113],["T_DOC_COMMENT","\/**\n   * Test sorting of components by name on basic CRUD operations\n   *\/",115],["T_WHITESPACE","\n  ",117],["T_PUBLIC","public",118],["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","testEntityDisplayCRUDSort",118],"(",")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$display",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_STRING","EntityViewDisplay",119],["T_DOUBLE_COLON","::",119],["T_STRING","create",119],"(",["T_ARRAY","array",119],"(",["T_WHITESPACE","\n      ",119],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",120],",",["T_WHITESPACE","\n      ",120],["T_CONSTANT_ENCAPSED_STRING","'bundle'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",121],",",["T_WHITESPACE","\n      ",121],["T_CONSTANT_ENCAPSED_STRING","'mode'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'default'",122],",",["T_WHITESPACE","\n    ",122],")",")",";",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$display",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","setComponent",124],"(",["T_CONSTANT_ENCAPSED_STRING","'component_3'",124],")",";",["T_WHITESPACE","\n    ",124],["T_VARIABLE","$display",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","setComponent",125],"(",["T_CONSTANT_ENCAPSED_STRING","'component_1'",125],")",";",["T_WHITESPACE","\n    ",125],["T_VARIABLE","$display",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","setComponent",126],"(",["T_CONSTANT_ENCAPSED_STRING","'component_2'",126],")",";",["T_WHITESPACE","\n    ",126],["T_VARIABLE","$display",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","save",127],"(",")",";",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$components",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_STRING","array_keys",128],"(",["T_VARIABLE","$display",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getComponents",128],"(",")",")",";",["T_WHITESPACE","\n    ",128],["T_COMMENT","\/\/ The name field is not configurable so will be added automatically.\n",129],["T_WHITESPACE","    ",130],["T_VARIABLE","$expected",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_ARRAY","array",130],["T_WHITESPACE"," ",130],"(",["T_WHITESPACE"," ",130],["T_LNUMBER","0",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'component_1'",130],",",["T_WHITESPACE"," ",130],["T_LNUMBER","1",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'component_2'",130],",",["T_WHITESPACE"," ",130],["T_LNUMBER","2",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'component_3'",130],",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'name'",130],")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","assertIdentical",131],"(",["T_VARIABLE","$components",131],",",["T_WHITESPACE"," ",131],["T_VARIABLE","$expected",131],")",";",["T_WHITESPACE","\n  ",131],"}",["T_WHITESPACE","\n\n  ",132],["T_DOC_COMMENT","\/**\n   * Tests entity_get_display().\n   *\/",134],["T_WHITESPACE","\n  ",136],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","testEntityGetDisplay",137],"(",")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n    ",137],["T_COMMENT","\/\/ Check that entity_get_display() returns a fresh object when no\n",138],["T_WHITESPACE","    ",139],["T_COMMENT","\/\/ configuration entry exists.\n",139],["T_WHITESPACE","    ",140],["T_VARIABLE","$display",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_STRING","entity_get_display",140],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",140],",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",140],",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'default'",140],")",";",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","assertTrue",141],"(",["T_VARIABLE","$display",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","isNew",141],"(",")",")",";",["T_WHITESPACE","\n\n    ",141],["T_COMMENT","\/\/ Add some components and save the display.\n",143],["T_WHITESPACE","    ",144],["T_VARIABLE","$display",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","setComponent",144],"(",["T_CONSTANT_ENCAPSED_STRING","'component_1'",144],",",["T_WHITESPACE"," ",144],["T_ARRAY","array",144],"(",["T_CONSTANT_ENCAPSED_STRING","'weight'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_LNUMBER","10",144],",",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'settings'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_ARRAY","array",144],"(",")",")",")",["T_WHITESPACE","\n      ",144],["T_OBJECT_OPERATOR","->",145],["T_STRING","save",145],"(",")",";",["T_WHITESPACE","\n\n    ",145],["T_COMMENT","\/\/ Check that entity_get_display() returns the correct object.\n",147],["T_WHITESPACE","    ",148],["T_VARIABLE","$display",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_STRING","entity_get_display",148],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",148],",",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",148],",",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'default'",148],")",";",["T_WHITESPACE","\n    ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","assertFalse",149],"(",["T_VARIABLE","$display",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","isNew",149],"(",")",")",";",["T_WHITESPACE","\n    ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","assertEqual",150],"(",["T_VARIABLE","$display",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","id",150],"(",")",",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'entity_test.entity_test.default'",150],")",";",["T_WHITESPACE","\n    ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","assertEqual",151],"(",["T_VARIABLE","$display",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getComponent",151],"(",["T_CONSTANT_ENCAPSED_STRING","'component_1'",151],")",",",["T_WHITESPACE"," ",151],["T_ARRAY","array",151],"(",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'weight'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_LNUMBER","10",151],",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'settings'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_ARRAY","array",151],"(",")",",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'third_party_settings'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_ARRAY","array",151],"(",")",")",")",";",["T_WHITESPACE","\n  ",151],"}",["T_WHITESPACE","\n\n  ",152],["T_DOC_COMMENT","\/**\n   * Tests the behavior of a field component within an entity display object.\n   *\/",154],["T_WHITESPACE","\n  ",156],["T_PUBLIC","public",157],["T_WHITESPACE"," ",157],["T_FUNCTION","function",157],["T_WHITESPACE"," ",157],["T_STRING","testExtraFieldComponent",157],"(",")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n    ",157],["T_STRING","entity_test_create_bundle",158],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle_with_extra_fields'",158],")",";",["T_WHITESPACE","\n    ",158],["T_VARIABLE","$display",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_STRING","EntityViewDisplay",159],["T_DOUBLE_COLON","::",159],["T_STRING","create",159],"(",["T_ARRAY","array",159],"(",["T_WHITESPACE","\n      ",159],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",160],",",["T_WHITESPACE","\n      ",160],["T_CONSTANT_ENCAPSED_STRING","'bundle'",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'bundle_with_extra_fields'",161],",",["T_WHITESPACE","\n      ",161],["T_CONSTANT_ENCAPSED_STRING","'mode'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'default'",162],",",["T_WHITESPACE","\n    ",162],")",")",";",["T_WHITESPACE","\n\n    ",163],["T_COMMENT","\/\/ Check that the default visibility taken into account for extra fields\n",165],["T_WHITESPACE","    ",166],["T_COMMENT","\/\/ unknown in the display.\n",166],["T_WHITESPACE","    ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","assertEqual",167],"(",["T_VARIABLE","$display",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getComponent",167],"(",["T_CONSTANT_ENCAPSED_STRING","'display_extra_field'",167],")",",",["T_WHITESPACE"," ",167],["T_ARRAY","array",167],"(",["T_CONSTANT_ENCAPSED_STRING","'weight'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_LNUMBER","5",167],")",")",";",["T_WHITESPACE","\n    ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","assertNull",168],"(",["T_VARIABLE","$display",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getComponent",168],"(",["T_CONSTANT_ENCAPSED_STRING","'display_extra_field_hidden'",168],")",")",";",["T_WHITESPACE","\n\n    ",168],["T_COMMENT","\/\/ Check that setting explicit options overrides the defaults.\n",170],["T_WHITESPACE","    ",171],["T_VARIABLE","$display",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","removeComponent",171],"(",["T_CONSTANT_ENCAPSED_STRING","'display_extra_field'",171],")",";",["T_WHITESPACE","\n    ",171],["T_VARIABLE","$display",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","setComponent",172],"(",["T_CONSTANT_ENCAPSED_STRING","'display_extra_field_hidden'",172],",",["T_WHITESPACE"," ",172],["T_ARRAY","array",172],"(",["T_CONSTANT_ENCAPSED_STRING","'weight'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_LNUMBER","10",172],")",")",";",["T_WHITESPACE","\n    ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","assertNull",173],"(",["T_VARIABLE","$display",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getComponent",173],"(",["T_CONSTANT_ENCAPSED_STRING","'display_extra_field'",173],")",")",";",["T_WHITESPACE","\n    ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","assertEqual",174],"(",["T_VARIABLE","$display",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getComponent",174],"(",["T_CONSTANT_ENCAPSED_STRING","'display_extra_field_hidden'",174],")",",",["T_WHITESPACE"," ",174],["T_ARRAY","array",174],"(",["T_CONSTANT_ENCAPSED_STRING","'weight'",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_LNUMBER","10",174],",",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'settings'",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_ARRAY","array",174],"(",")",",",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'third_party_settings'",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_ARRAY","array",174],"(",")",")",")",";",["T_WHITESPACE","\n  ",174],"}",["T_WHITESPACE","\n\n  ",175],["T_DOC_COMMENT","\/**\n   * Tests the behavior of a field component within an entity display object.\n   *\/",177],["T_WHITESPACE","\n  ",179],["T_PUBLIC","public",180],["T_WHITESPACE"," ",180],["T_FUNCTION","function",180],["T_WHITESPACE"," ",180],["T_STRING","testFieldComponent",180],"(",")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n    ",180],["T_VARIABLE","$field_name",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'test_field'",181],";",["T_WHITESPACE","\n    ",181],["T_COMMENT","\/\/ Create a field storage and a field.\n",182],["T_WHITESPACE","    ",183],["T_VARIABLE","$field_storage",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_STRING","FieldStorageConfig",183],["T_DOUBLE_COLON","::",183],["T_STRING","create",183],"(",["T_ARRAY","array",183],"(",["T_WHITESPACE","\n      ",183],["T_CONSTANT_ENCAPSED_STRING","'field_name'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$field_name",184],",",["T_WHITESPACE","\n      ",184],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",185],",",["T_WHITESPACE","\n      ",185],["T_CONSTANT_ENCAPSED_STRING","'type'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'test_field'",186],["T_WHITESPACE","\n    ",186],")",")",";",["T_WHITESPACE","\n    ",187],["T_VARIABLE","$field_storage",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","save",188],"(",")",";",["T_WHITESPACE","\n    ",188],["T_VARIABLE","$field",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_STRING","FieldConfig",189],["T_DOUBLE_COLON","::",189],["T_STRING","create",189],"(",["T_ARRAY","array",189],"(",["T_WHITESPACE","\n      ",189],["T_CONSTANT_ENCAPSED_STRING","'field_storage'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$field_storage",190],",",["T_WHITESPACE","\n      ",190],["T_CONSTANT_ENCAPSED_STRING","'bundle'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",191],",",["T_WHITESPACE","\n    ",191],")",")",";",["T_WHITESPACE","\n    ",192],["T_VARIABLE","$field",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","save",193],"(",")",";",["T_WHITESPACE","\n\n    ",193],["T_VARIABLE","$display",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_STRING","EntityViewDisplay",195],["T_DOUBLE_COLON","::",195],["T_STRING","create",195],"(",["T_ARRAY","array",195],"(",["T_WHITESPACE","\n      ",195],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",196],",",["T_WHITESPACE","\n      ",196],["T_CONSTANT_ENCAPSED_STRING","'bundle'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",197],",",["T_WHITESPACE","\n      ",197],["T_CONSTANT_ENCAPSED_STRING","'mode'",198],["T_WHITESPACE"," ",198],["T_DOUBLE_ARROW","=>",198],["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'default'",198],",",["T_WHITESPACE","\n    ",198],")",")",";",["T_WHITESPACE","\n\n    ",199],["T_COMMENT","\/\/ Check that providing no options results in default values being used.\n",201],["T_WHITESPACE","    ",202],["T_VARIABLE","$display",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","setComponent",202],"(",["T_VARIABLE","$field_name",202],")",";",["T_WHITESPACE","\n    ",202],["T_VARIABLE","$field_type_info",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_NS_SEPARATOR","\\",203],["T_STRING","Drupal",203],["T_DOUBLE_COLON","::",203],["T_STRING","service",203],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.field.field_type'",203],")",["T_OBJECT_OPERATOR","->",203],["T_STRING","getDefinition",203],"(",["T_VARIABLE","$field_storage",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getType",203],"(",")",")",";",["T_WHITESPACE","\n    ",203],["T_VARIABLE","$default_formatter",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$field_type_info",204],"[",["T_CONSTANT_ENCAPSED_STRING","'default_formatter'",204],"]",";",["T_WHITESPACE","\n    ",204],["T_VARIABLE","$formatter_settings",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_NS_SEPARATOR","\\",205],["T_STRING","Drupal",205],["T_DOUBLE_COLON","::",205],["T_STRING","service",205],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.field.formatter'",205],")",["T_OBJECT_OPERATOR","->",205],["T_STRING","getDefaultSettings",205],"(",["T_VARIABLE","$default_formatter",205],")",";",["T_WHITESPACE","\n    ",205],["T_VARIABLE","$expected",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_ARRAY","array",206],"(",["T_WHITESPACE","\n      ",206],["T_CONSTANT_ENCAPSED_STRING","'weight'",207],["T_WHITESPACE"," ",207],["T_DOUBLE_ARROW","=>",207],["T_WHITESPACE"," ",207],"-",["T_LNUMBER","4",207],",",["T_WHITESPACE","\n      ",207],["T_CONSTANT_ENCAPSED_STRING","'label'",208],["T_WHITESPACE"," ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'above'",208],",",["T_WHITESPACE","\n      ",208],["T_CONSTANT_ENCAPSED_STRING","'type'",209],["T_WHITESPACE"," ",209],["T_DOUBLE_ARROW","=>",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$default_formatter",209],",",["T_WHITESPACE","\n      ",209],["T_CONSTANT_ENCAPSED_STRING","'settings'",210],["T_WHITESPACE"," ",210],["T_DOUBLE_ARROW","=>",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$formatter_settings",210],",",["T_WHITESPACE","\n      ",210],["T_CONSTANT_ENCAPSED_STRING","'third_party_settings'",211],["T_WHITESPACE"," ",211],["T_DOUBLE_ARROW","=>",211],["T_WHITESPACE"," ",211],["T_ARRAY","array",211],"(",")",",",["T_WHITESPACE","\n    ",211],")",";",["T_WHITESPACE","\n    ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","assertEqual",213],"(",["T_VARIABLE","$display",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","getComponent",213],"(",["T_VARIABLE","$field_name",213],")",",",["T_WHITESPACE"," ",213],["T_VARIABLE","$expected",213],")",";",["T_WHITESPACE","\n\n    ",213],["T_COMMENT","\/\/ Check that the getFormatter() method returns the correct formatter plugin.\n",215],["T_WHITESPACE","    ",216],["T_VARIABLE","$formatter",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$display",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getRenderer",216],"(",["T_VARIABLE","$field_name",216],")",";",["T_WHITESPACE","\n    ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","assertEqual",217],"(",["T_VARIABLE","$formatter",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","getPluginId",217],"(",")",",",["T_WHITESPACE"," ",217],["T_VARIABLE","$default_formatter",217],")",";",["T_WHITESPACE","\n    ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","assertEqual",218],"(",["T_VARIABLE","$formatter",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getSettings",218],"(",")",",",["T_WHITESPACE"," ",218],["T_VARIABLE","$formatter_settings",218],")",";",["T_WHITESPACE","\n\n    ",218],["T_COMMENT","\/\/ Check that the formatter is statically persisted, by assigning an\n",220],["T_WHITESPACE","    ",221],["T_COMMENT","\/\/ arbitrary property and reading it back.\n",221],["T_WHITESPACE","    ",222],["T_VARIABLE","$random_value",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","randomString",222],"(",")",";",["T_WHITESPACE","\n    ",222],["T_VARIABLE","$formatter",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","randomValue",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$random_value",223],";",["T_WHITESPACE","\n    ",223],["T_VARIABLE","$formatter",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$display",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getRenderer",224],"(",["T_VARIABLE","$field_name",224],")",";",["T_WHITESPACE","\n    ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","assertEqual",225],"(",["T_VARIABLE","$formatter",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","randomValue",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$random_value",225],")",";",["T_WHITESPACE","\n\n    ",225],["T_COMMENT","\/\/ Check that changing the definition creates a new formatter.\n",227],["T_WHITESPACE","    ",228],["T_VARIABLE","$display",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","setComponent",228],"(",["T_VARIABLE","$field_name",228],",",["T_WHITESPACE"," ",228],["T_ARRAY","array",228],"(",["T_WHITESPACE","\n      ",228],["T_CONSTANT_ENCAPSED_STRING","'type'",229],["T_WHITESPACE"," ",229],["T_DOUBLE_ARROW","=>",229],["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'field_test_multiple'",229],",",["T_WHITESPACE","\n    ",229],")",")",";",["T_WHITESPACE","\n    ",230],["T_VARIABLE","$formatter",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_VARIABLE","$display",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","getRenderer",231],"(",["T_VARIABLE","$field_name",231],")",";",["T_WHITESPACE","\n    ",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","assertEqual",232],"(",["T_VARIABLE","$formatter",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","getPluginId",232],"(",")",",",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'field_test_multiple'",232],")",";",["T_WHITESPACE","\n    ",232],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","assertFalse",233],"(",["T_ISSET","isset",233],"(",["T_VARIABLE","$formatter",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","randomValue",233],")",")",";",["T_WHITESPACE","\n\n    ",233],["T_COMMENT","\/\/ Check that the display has dependencies on the field and the module that\n",235],["T_WHITESPACE","    ",236],["T_COMMENT","\/\/ provides the formatter.\n",236],["T_WHITESPACE","    ",237],["T_VARIABLE","$dependencies",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$display",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","calculateDependencies",237],"(",")",["T_OBJECT_OPERATOR","->",237],["T_STRING","getDependencies",237],"(",")",";",["T_WHITESPACE","\n    ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","assertEqual",238],"(",["T_ARRAY","array",238],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",238],["T_WHITESPACE"," ",238],["T_DOUBLE_ARROW","=>",238],["T_WHITESPACE"," ",238],["T_ARRAY","array",238],"(",["T_CONSTANT_ENCAPSED_STRING","'field.field.entity_test.entity_test.test_field'",238],")",",",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","'module'",238],["T_WHITESPACE"," ",238],["T_DOUBLE_ARROW","=>",238],["T_WHITESPACE"," ",238],["T_ARRAY","array",238],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",238],",",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","'field_test'",238],")",")",",",["T_WHITESPACE"," ",238],["T_VARIABLE","$dependencies",238],")",";",["T_WHITESPACE","\n  ",238],"}",["T_WHITESPACE","\n\n  ",239],["T_DOC_COMMENT","\/**\n   * Tests the behavior of a field component for a base field.\n   *\/",241],["T_WHITESPACE","\n  ",243],["T_PUBLIC","public",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","testBaseFieldComponent",244],"(",")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n    ",244],["T_VARIABLE","$display",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_STRING","EntityViewDisplay",245],["T_DOUBLE_COLON","::",245],["T_STRING","create",245],"(",["T_ARRAY","array",245],"(",["T_WHITESPACE","\n      ",245],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",246],["T_WHITESPACE"," ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'entity_test_base_field_display'",246],",",["T_WHITESPACE","\n      ",246],["T_CONSTANT_ENCAPSED_STRING","'bundle'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","'entity_test_base_field_display'",247],",",["T_WHITESPACE","\n      ",247],["T_CONSTANT_ENCAPSED_STRING","'mode'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'default'",248],",",["T_WHITESPACE","\n    ",248],")",")",";",["T_WHITESPACE","\n\n    ",249],["T_COMMENT","\/\/ Check that default options are correctly filled in.\n",251],["T_WHITESPACE","    ",252],["T_VARIABLE","$formatter_settings",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_NS_SEPARATOR","\\",252],["T_STRING","Drupal",252],["T_DOUBLE_COLON","::",252],["T_STRING","service",252],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.field.formatter'",252],")",["T_OBJECT_OPERATOR","->",252],["T_STRING","getDefaultSettings",252],"(",["T_CONSTANT_ENCAPSED_STRING","'text_default'",252],")",";",["T_WHITESPACE","\n    ",252],["T_VARIABLE","$expected",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_ARRAY","array",253],"(",["T_WHITESPACE","\n      ",253],["T_CONSTANT_ENCAPSED_STRING","'test_no_display'",254],["T_WHITESPACE"," ",254],["T_DOUBLE_ARROW","=>",254],["T_WHITESPACE"," ",254],["T_STRING","NULL",254],",",["T_WHITESPACE","\n      ",254],["T_CONSTANT_ENCAPSED_STRING","'test_display_configurable'",255],["T_WHITESPACE"," ",255],["T_DOUBLE_ARROW","=>",255],["T_WHITESPACE"," ",255],["T_ARRAY","array",255],"(",["T_WHITESPACE","\n        ",255],["T_CONSTANT_ENCAPSED_STRING","'label'",256],["T_WHITESPACE"," ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'above'",256],",",["T_WHITESPACE","\n        ",256],["T_CONSTANT_ENCAPSED_STRING","'type'",257],["T_WHITESPACE"," ",257],["T_DOUBLE_ARROW","=>",257],["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'text_default'",257],",",["T_WHITESPACE","\n        ",257],["T_CONSTANT_ENCAPSED_STRING","'settings'",258],["T_WHITESPACE"," ",258],["T_DOUBLE_ARROW","=>",258],["T_WHITESPACE"," ",258],["T_VARIABLE","$formatter_settings",258],",",["T_WHITESPACE","\n        ",258],["T_CONSTANT_ENCAPSED_STRING","'third_party_settings'",259],["T_WHITESPACE"," ",259],["T_DOUBLE_ARROW","=>",259],["T_WHITESPACE"," ",259],["T_ARRAY","array",259],"(",")",",",["T_WHITESPACE","\n        ",259],["T_CONSTANT_ENCAPSED_STRING","'weight'",260],["T_WHITESPACE"," ",260],["T_DOUBLE_ARROW","=>",260],["T_WHITESPACE"," ",260],["T_LNUMBER","10",260],",",["T_WHITESPACE","\n      ",260],")",",",["T_WHITESPACE","\n      ",261],["T_CONSTANT_ENCAPSED_STRING","'test_display_non_configurable'",262],["T_WHITESPACE"," ",262],["T_DOUBLE_ARROW","=>",262],["T_WHITESPACE"," ",262],["T_ARRAY","array",262],"(",["T_WHITESPACE","\n        ",262],["T_CONSTANT_ENCAPSED_STRING","'label'",263],["T_WHITESPACE"," ",263],["T_DOUBLE_ARROW","=>",263],["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","'above'",263],",",["T_WHITESPACE","\n        ",263],["T_CONSTANT_ENCAPSED_STRING","'type'",264],["T_WHITESPACE"," ",264],["T_DOUBLE_ARROW","=>",264],["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","'text_default'",264],",",["T_WHITESPACE","\n        ",264],["T_CONSTANT_ENCAPSED_STRING","'settings'",265],["T_WHITESPACE"," ",265],["T_DOUBLE_ARROW","=>",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$formatter_settings",265],",",["T_WHITESPACE","\n        ",265],["T_CONSTANT_ENCAPSED_STRING","'third_party_settings'",266],["T_WHITESPACE"," ",266],["T_DOUBLE_ARROW","=>",266],["T_WHITESPACE"," ",266],["T_ARRAY","array",266],"(",")",",",["T_WHITESPACE","\n        ",266],["T_CONSTANT_ENCAPSED_STRING","'weight'",267],["T_WHITESPACE"," ",267],["T_DOUBLE_ARROW","=>",267],["T_WHITESPACE"," ",267],["T_LNUMBER","11",267],",",["T_WHITESPACE","\n      ",267],")",",",["T_WHITESPACE","\n    ",268],")",";",["T_WHITESPACE","\n    ",269],["T_FOREACH","foreach",270],["T_WHITESPACE"," ",270],"(",["T_VARIABLE","$expected",270],["T_WHITESPACE"," ",270],["T_AS","as",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$field_name",270],["T_WHITESPACE"," ",270],["T_DOUBLE_ARROW","=>",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$options",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n      ",270],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","assertEqual",271],"(",["T_VARIABLE","$display",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getComponent",271],"(",["T_VARIABLE","$field_name",271],")",",",["T_WHITESPACE"," ",271],["T_VARIABLE","$options",271],")",";",["T_WHITESPACE","\n    ",271],"}",["T_WHITESPACE","\n\n    ",272],["T_COMMENT","\/\/ Check that saving the display only writes data for fields whose display\n",274],["T_WHITESPACE","    ",275],["T_COMMENT","\/\/ is configurable.\n",275],["T_WHITESPACE","    ",276],["T_VARIABLE","$display",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","save",276],"(",")",";",["T_WHITESPACE","\n    ",276],["T_VARIABLE","$config",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","config",277],"(",["T_CONSTANT_ENCAPSED_STRING","'core.entity_view_display.'",277],["T_WHITESPACE"," ",277],".",["T_WHITESPACE"," ",277],["T_VARIABLE","$display",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","id",277],"(",")",")",";",["T_WHITESPACE","\n    ",277],["T_VARIABLE","$data",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_VARIABLE","$config",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","get",278],"(",")",";",["T_WHITESPACE","\n    ",278],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","assertFalse",279],"(",["T_ISSET","isset",279],"(",["T_VARIABLE","$data",279],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",279],"]","[",["T_CONSTANT_ENCAPSED_STRING","'test_no_display'",279],"]",")",")",";",["T_WHITESPACE","\n    ",279],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","assertFalse",280],"(",["T_ISSET","isset",280],"(",["T_VARIABLE","$data",280],"[",["T_CONSTANT_ENCAPSED_STRING","'hidden'",280],"]","[",["T_CONSTANT_ENCAPSED_STRING","'test_no_display'",280],"]",")",")",";",["T_WHITESPACE","\n    ",280],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","assertEqual",281],"(",["T_VARIABLE","$data",281],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",281],"]","[",["T_CONSTANT_ENCAPSED_STRING","'test_display_configurable'",281],"]",",",["T_WHITESPACE"," ",281],["T_VARIABLE","$expected",281],"[",["T_CONSTANT_ENCAPSED_STRING","'test_display_configurable'",281],"]",")",";",["T_WHITESPACE","\n    ",281],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","assertFalse",282],"(",["T_ISSET","isset",282],"(",["T_VARIABLE","$data",282],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",282],"]","[",["T_CONSTANT_ENCAPSED_STRING","'test_display_non_configurable'",282],"]",")",")",";",["T_WHITESPACE","\n    ",282],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","assertFalse",283],"(",["T_ISSET","isset",283],"(",["T_VARIABLE","$data",283],"[",["T_CONSTANT_ENCAPSED_STRING","'hidden'",283],"]","[",["T_CONSTANT_ENCAPSED_STRING","'test_display_non_configurable'",283],"]",")",")",";",["T_WHITESPACE","\n\n    ",283],["T_COMMENT","\/\/ Check that defaults are correctly filled when loading the display.\n",285],["T_WHITESPACE","    ",286],["T_VARIABLE","$display",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_STRING","EntityViewDisplay",286],["T_DOUBLE_COLON","::",286],["T_STRING","load",286],"(",["T_VARIABLE","$display",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","id",286],"(",")",")",";",["T_WHITESPACE","\n    ",286],["T_FOREACH","foreach",287],["T_WHITESPACE"," ",287],"(",["T_VARIABLE","$expected",287],["T_WHITESPACE"," ",287],["T_AS","as",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$field_name",287],["T_WHITESPACE"," ",287],["T_DOUBLE_ARROW","=>",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$options",287],")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n      ",287],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","assertEqual",288],"(",["T_VARIABLE","$display",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","getComponent",288],"(",["T_VARIABLE","$field_name",288],")",",",["T_WHITESPACE"," ",288],["T_VARIABLE","$options",288],")",";",["T_WHITESPACE","\n    ",288],"}",["T_WHITESPACE","\n\n    ",289],["T_COMMENT","\/\/ Check that data manually written for fields whose display is not\n",291],["T_WHITESPACE","    ",292],["T_COMMENT","\/\/ configurable is discarded when loading the display.\n",292],["T_WHITESPACE","    ",293],["T_VARIABLE","$data",293],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",293],"]","[",["T_CONSTANT_ENCAPSED_STRING","'test_display_non_configurable'",293],"]",["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_VARIABLE","$expected",293],"[",["T_CONSTANT_ENCAPSED_STRING","'test_display_non_configurable'",293],"]",";",["T_WHITESPACE","\n    ",293],["T_VARIABLE","$data",294],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",294],"]","[",["T_CONSTANT_ENCAPSED_STRING","'test_display_non_configurable'",294],"]","[",["T_CONSTANT_ENCAPSED_STRING","'weight'",294],"]",["T_INC","++",294],";",["T_WHITESPACE","\n    ",294],["T_VARIABLE","$config",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","setData",295],"(",["T_VARIABLE","$data",295],")",["T_OBJECT_OPERATOR","->",295],["T_STRING","save",295],"(",")",";",["T_WHITESPACE","\n    ",295],["T_VARIABLE","$display",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_STRING","EntityViewDisplay",296],["T_DOUBLE_COLON","::",296],["T_STRING","load",296],"(",["T_VARIABLE","$display",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","id",296],"(",")",")",";",["T_WHITESPACE","\n    ",296],["T_FOREACH","foreach",297],["T_WHITESPACE"," ",297],"(",["T_VARIABLE","$expected",297],["T_WHITESPACE"," ",297],["T_AS","as",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$field_name",297],["T_WHITESPACE"," ",297],["T_DOUBLE_ARROW","=>",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$options",297],")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n      ",297],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","assertEqual",298],"(",["T_VARIABLE","$display",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","getComponent",298],"(",["T_VARIABLE","$field_name",298],")",",",["T_WHITESPACE"," ",298],["T_VARIABLE","$options",298],")",";",["T_WHITESPACE","\n    ",298],"}",["T_WHITESPACE","\n  ",299],"}",["T_WHITESPACE","\n\n  ",300],["T_DOC_COMMENT","\/**\n   * Tests deleting a bundle.\n   *\/",302],["T_WHITESPACE","\n  ",304],["T_PUBLIC","public",305],["T_WHITESPACE"," ",305],["T_FUNCTION","function",305],["T_WHITESPACE"," ",305],["T_STRING","testDeleteBundle",305],"(",")",["T_WHITESPACE"," ",305],"{",["T_WHITESPACE","\n    ",305],["T_COMMENT","\/\/ Create a node bundle, display and form display object.\n",306],["T_WHITESPACE","    ",307],["T_VARIABLE","$type",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_STRING","NodeType",307],["T_DOUBLE_COLON","::",307],["T_STRING","create",307],"(",["T_ARRAY","array",307],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",307],["T_WHITESPACE"," ",307],["T_DOUBLE_ARROW","=>",307],["T_WHITESPACE"," ",307],["T_CONSTANT_ENCAPSED_STRING","'article'",307],")",")",";",["T_WHITESPACE","\n    ",307],["T_VARIABLE","$type",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","save",308],"(",")",";",["T_WHITESPACE","\n    ",308],["T_STRING","node_add_body_field",309],"(",["T_VARIABLE","$type",309],")",";",["T_WHITESPACE","\n    ",309],["T_STRING","entity_get_display",310],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",310],",",["T_WHITESPACE"," ",310],["T_CONSTANT_ENCAPSED_STRING","'article'",310],",",["T_WHITESPACE"," ",310],["T_CONSTANT_ENCAPSED_STRING","'default'",310],")",["T_OBJECT_OPERATOR","->",310],["T_STRING","save",310],"(",")",";",["T_WHITESPACE","\n    ",310],["T_STRING","entity_get_form_display",311],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",311],",",["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","'article'",311],",",["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","'default'",311],")",["T_OBJECT_OPERATOR","->",311],["T_STRING","save",311],"(",")",";",["T_WHITESPACE","\n\n    ",311],["T_COMMENT","\/\/ Delete the bundle.\n",313],["T_WHITESPACE","    ",314],["T_VARIABLE","$type",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","delete",314],"(",")",";",["T_WHITESPACE","\n    ",314],["T_VARIABLE","$display",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_STRING","EntityViewDisplay",315],["T_DOUBLE_COLON","::",315],["T_STRING","load",315],"(",["T_CONSTANT_ENCAPSED_STRING","'node.article.default'",315],")",";",["T_WHITESPACE","\n    ",315],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","assertFalse",316],"(",["T_BOOL_CAST","(bool)",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$display",316],")",";",["T_WHITESPACE","\n    ",316],["T_VARIABLE","$form_display",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_STRING","EntityFormDisplay",317],["T_DOUBLE_COLON","::",317],["T_STRING","load",317],"(",["T_CONSTANT_ENCAPSED_STRING","'node.article.default'",317],")",";",["T_WHITESPACE","\n    ",317],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","assertFalse",318],"(",["T_BOOL_CAST","(bool)",318],["T_WHITESPACE"," ",318],["T_VARIABLE","$form_display",318],")",";",["T_WHITESPACE","\n  ",318],"}",["T_WHITESPACE","\n\n  ",319],["T_DOC_COMMENT","\/**\n   * Tests deleting field.\n   *\/",321],["T_WHITESPACE","\n  ",323],["T_PUBLIC","public",324],["T_WHITESPACE"," ",324],["T_FUNCTION","function",324],["T_WHITESPACE"," ",324],["T_STRING","testDeleteField",324],"(",")",["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n    ",324],["T_VARIABLE","$field_name",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_CONSTANT_ENCAPSED_STRING","'test_field'",325],";",["T_WHITESPACE","\n    ",325],["T_COMMENT","\/\/ Create a field storage and a field.\n",326],["T_WHITESPACE","    ",327],["T_VARIABLE","$field_storage",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_STRING","FieldStorageConfig",327],["T_DOUBLE_COLON","::",327],["T_STRING","create",327],"(",["T_ARRAY","array",327],"(",["T_WHITESPACE","\n      ",327],["T_CONSTANT_ENCAPSED_STRING","'field_name'",328],["T_WHITESPACE"," ",328],["T_DOUBLE_ARROW","=>",328],["T_WHITESPACE"," ",328],["T_VARIABLE","$field_name",328],",",["T_WHITESPACE","\n      ",328],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",329],["T_WHITESPACE"," ",329],["T_DOUBLE_ARROW","=>",329],["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",329],",",["T_WHITESPACE","\n      ",329],["T_CONSTANT_ENCAPSED_STRING","'type'",330],["T_WHITESPACE"," ",330],["T_DOUBLE_ARROW","=>",330],["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","'test_field'",330],["T_WHITESPACE","\n    ",330],")",")",";",["T_WHITESPACE","\n    ",331],["T_VARIABLE","$field_storage",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","save",332],"(",")",";",["T_WHITESPACE","\n    ",332],["T_VARIABLE","$field",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],["T_STRING","FieldConfig",333],["T_DOUBLE_COLON","::",333],["T_STRING","create",333],"(",["T_ARRAY","array",333],"(",["T_WHITESPACE","\n      ",333],["T_CONSTANT_ENCAPSED_STRING","'field_storage'",334],["T_WHITESPACE"," ",334],["T_DOUBLE_ARROW","=>",334],["T_WHITESPACE"," ",334],["T_VARIABLE","$field_storage",334],",",["T_WHITESPACE","\n      ",334],["T_CONSTANT_ENCAPSED_STRING","'bundle'",335],["T_WHITESPACE"," ",335],["T_DOUBLE_ARROW","=>",335],["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",335],",",["T_WHITESPACE","\n    ",335],")",")",";",["T_WHITESPACE","\n    ",336],["T_VARIABLE","$field",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","save",337],"(",")",";",["T_WHITESPACE","\n\n    ",337],["T_COMMENT","\/\/ Create default and teaser entity display.\n",339],["T_WHITESPACE","    ",340],["T_STRING","EntityViewMode",340],["T_DOUBLE_COLON","::",340],["T_STRING","create",340],"(",["T_ARRAY","array",340],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",340],["T_WHITESPACE"," ",340],["T_DOUBLE_ARROW","=>",340],["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","'entity_test.teaser'",340],",",["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",340],["T_WHITESPACE"," ",340],["T_DOUBLE_ARROW","=>",340],["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",340],")",")",["T_OBJECT_OPERATOR","->",340],["T_STRING","save",340],"(",")",";",["T_WHITESPACE","\n    ",340],["T_STRING","EntityViewDisplay",341],["T_DOUBLE_COLON","::",341],["T_STRING","create",341],"(",["T_ARRAY","array",341],"(",["T_WHITESPACE","\n      ",341],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",342],["T_WHITESPACE"," ",342],["T_DOUBLE_ARROW","=>",342],["T_WHITESPACE"," ",342],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",342],",",["T_WHITESPACE","\n      ",342],["T_CONSTANT_ENCAPSED_STRING","'bundle'",343],["T_WHITESPACE"," ",343],["T_DOUBLE_ARROW","=>",343],["T_WHITESPACE"," ",343],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",343],",",["T_WHITESPACE","\n      ",343],["T_CONSTANT_ENCAPSED_STRING","'mode'",344],["T_WHITESPACE"," ",344],["T_DOUBLE_ARROW","=>",344],["T_WHITESPACE"," ",344],["T_CONSTANT_ENCAPSED_STRING","'default'",344],",",["T_WHITESPACE","\n    ",344],")",")",["T_OBJECT_OPERATOR","->",345],["T_STRING","setComponent",345],"(",["T_VARIABLE","$field_name",345],")",["T_OBJECT_OPERATOR","->",345],["T_STRING","save",345],"(",")",";",["T_WHITESPACE","\n    ",345],["T_STRING","EntityViewDisplay",346],["T_DOUBLE_COLON","::",346],["T_STRING","create",346],"(",["T_ARRAY","array",346],"(",["T_WHITESPACE","\n      ",346],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",347],["T_WHITESPACE"," ",347],["T_DOUBLE_ARROW","=>",347],["T_WHITESPACE"," ",347],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",347],",",["T_WHITESPACE","\n      ",347],["T_CONSTANT_ENCAPSED_STRING","'bundle'",348],["T_WHITESPACE"," ",348],["T_DOUBLE_ARROW","=>",348],["T_WHITESPACE"," ",348],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",348],",",["T_WHITESPACE","\n      ",348],["T_CONSTANT_ENCAPSED_STRING","'mode'",349],["T_WHITESPACE"," ",349],["T_DOUBLE_ARROW","=>",349],["T_WHITESPACE"," ",349],["T_CONSTANT_ENCAPSED_STRING","'teaser'",349],",",["T_WHITESPACE","\n    ",349],")",")",["T_OBJECT_OPERATOR","->",350],["T_STRING","setComponent",350],"(",["T_VARIABLE","$field_name",350],")",["T_OBJECT_OPERATOR","->",350],["T_STRING","save",350],"(",")",";",["T_WHITESPACE","\n\n    ",350],["T_COMMENT","\/\/ Check the component exists.\n",352],["T_WHITESPACE","    ",353],["T_VARIABLE","$display",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_STRING","entity_get_display",353],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",353],",",["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",353],",",["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","'default'",353],")",";",["T_WHITESPACE","\n    ",353],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","assertTrue",354],"(",["T_VARIABLE","$display",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","getComponent",354],"(",["T_VARIABLE","$field_name",354],")",")",";",["T_WHITESPACE","\n    ",354],["T_VARIABLE","$display",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_STRING","entity_get_display",355],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",355],",",["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",355],",",["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","'teaser'",355],")",";",["T_WHITESPACE","\n    ",355],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","assertTrue",356],"(",["T_VARIABLE","$display",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","getComponent",356],"(",["T_VARIABLE","$field_name",356],")",")",";",["T_WHITESPACE","\n\n    ",356],["T_COMMENT","\/\/ Delete the field.\n",358],["T_WHITESPACE","    ",359],["T_VARIABLE","$field",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","delete",359],"(",")",";",["T_WHITESPACE","\n\n    ",359],["T_COMMENT","\/\/ Check that the component has been removed from the entity displays.\n",361],["T_WHITESPACE","    ",362],["T_VARIABLE","$display",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_STRING","entity_get_display",362],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",362],",",["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",362],",",["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","'default'",362],")",";",["T_WHITESPACE","\n    ",362],["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","assertFalse",363],"(",["T_VARIABLE","$display",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","getComponent",363],"(",["T_VARIABLE","$field_name",363],")",")",";",["T_WHITESPACE","\n    ",363],["T_VARIABLE","$display",364],["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_STRING","entity_get_display",364],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",364],",",["T_WHITESPACE"," ",364],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",364],",",["T_WHITESPACE"," ",364],["T_CONSTANT_ENCAPSED_STRING","'teaser'",364],")",";",["T_WHITESPACE","\n    ",364],["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","assertFalse",365],"(",["T_VARIABLE","$display",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","getComponent",365],"(",["T_VARIABLE","$field_name",365],")",")",";",["T_WHITESPACE","\n  ",365],"}",["T_WHITESPACE","\n\n  ",366],["T_DOC_COMMENT","\/**\n   * Tests \\Drupal\\Core\\Entity\\EntityDisplayBase::onDependencyRemoval().\n   *\/",368],["T_WHITESPACE","\n  ",370],["T_PUBLIC","public",371],["T_WHITESPACE"," ",371],["T_FUNCTION","function",371],["T_WHITESPACE"," ",371],["T_STRING","testOnDependencyRemoval",371],"(",")",["T_WHITESPACE"," ",371],"{",["T_WHITESPACE","\n    ",371],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","enableModules",372],"(",["T_ARRAY","array",372],"(",["T_CONSTANT_ENCAPSED_STRING","'field_plugins_test'",372],")",")",";",["T_WHITESPACE","\n\n    ",372],["T_VARIABLE","$field_name",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_CONSTANT_ENCAPSED_STRING","'test_field'",374],";",["T_WHITESPACE","\n    ",374],["T_COMMENT","\/\/ Create a field.\n",375],["T_WHITESPACE","    ",376],["T_VARIABLE","$field_storage",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],["T_STRING","FieldStorageConfig",376],["T_DOUBLE_COLON","::",376],["T_STRING","create",376],"(",["T_ARRAY","array",376],"(",["T_WHITESPACE","\n      ",376],["T_CONSTANT_ENCAPSED_STRING","'field_name'",377],["T_WHITESPACE"," ",377],["T_DOUBLE_ARROW","=>",377],["T_WHITESPACE"," ",377],["T_VARIABLE","$field_name",377],",",["T_WHITESPACE","\n      ",377],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",378],["T_WHITESPACE"," ",378],["T_DOUBLE_ARROW","=>",378],["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",378],",",["T_WHITESPACE","\n      ",378],["T_CONSTANT_ENCAPSED_STRING","'type'",379],["T_WHITESPACE"," ",379],["T_DOUBLE_ARROW","=>",379],["T_WHITESPACE"," ",379],["T_CONSTANT_ENCAPSED_STRING","'text'",379],["T_WHITESPACE","\n    ",379],")",")",";",["T_WHITESPACE","\n    ",380],["T_VARIABLE","$field_storage",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","save",381],"(",")",";",["T_WHITESPACE","\n    ",381],["T_VARIABLE","$field",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_STRING","FieldConfig",382],["T_DOUBLE_COLON","::",382],["T_STRING","create",382],"(",["T_ARRAY","array",382],"(",["T_WHITESPACE","\n      ",382],["T_CONSTANT_ENCAPSED_STRING","'field_storage'",383],["T_WHITESPACE"," ",383],["T_DOUBLE_ARROW","=>",383],["T_WHITESPACE"," ",383],["T_VARIABLE","$field_storage",383],",",["T_WHITESPACE","\n      ",383],["T_CONSTANT_ENCAPSED_STRING","'bundle'",384],["T_WHITESPACE"," ",384],["T_DOUBLE_ARROW","=>",384],["T_WHITESPACE"," ",384],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",384],",",["T_WHITESPACE","\n    ",384],")",")",";",["T_WHITESPACE","\n    ",385],["T_VARIABLE","$field",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","save",386],"(",")",";",["T_WHITESPACE","\n\n    ",386],["T_STRING","EntityViewDisplay",388],["T_DOUBLE_COLON","::",388],["T_STRING","create",388],"(",["T_ARRAY","array",388],"(",["T_WHITESPACE","\n      ",388],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",389],["T_WHITESPACE"," ",389],["T_DOUBLE_ARROW","=>",389],["T_WHITESPACE"," ",389],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",389],",",["T_WHITESPACE","\n      ",389],["T_CONSTANT_ENCAPSED_STRING","'bundle'",390],["T_WHITESPACE"," ",390],["T_DOUBLE_ARROW","=>",390],["T_WHITESPACE"," ",390],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",390],",",["T_WHITESPACE","\n      ",390],["T_CONSTANT_ENCAPSED_STRING","'mode'",391],["T_WHITESPACE"," ",391],["T_DOUBLE_ARROW","=>",391],["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","'default'",391],",",["T_WHITESPACE","\n    ",391],")",")",["T_OBJECT_OPERATOR","->",392],["T_STRING","setComponent",392],"(",["T_VARIABLE","$field_name",392],",",["T_WHITESPACE"," ",392],["T_ARRAY","array",392],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",392],["T_WHITESPACE"," ",392],["T_DOUBLE_ARROW","=>",392],["T_WHITESPACE"," ",392],["T_CONSTANT_ENCAPSED_STRING","'field_plugins_test_text_formatter'",392],")",")",["T_OBJECT_OPERATOR","->",392],["T_STRING","save",392],"(",")",";",["T_WHITESPACE","\n\n    ",392],["T_COMMENT","\/\/ Check the component exists and is of the correct type.\n",394],["T_WHITESPACE","    ",395],["T_VARIABLE","$display",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_STRING","entity_get_display",395],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",395],",",["T_WHITESPACE"," ",395],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",395],",",["T_WHITESPACE"," ",395],["T_CONSTANT_ENCAPSED_STRING","'default'",395],")",";",["T_WHITESPACE","\n    ",395],["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","assertEqual",396],"(",["T_VARIABLE","$display",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","getComponent",396],"(",["T_VARIABLE","$field_name",396],")","[",["T_CONSTANT_ENCAPSED_STRING","'type'",396],"]",",",["T_WHITESPACE"," ",396],["T_CONSTANT_ENCAPSED_STRING","'field_plugins_test_text_formatter'",396],")",";",["T_WHITESPACE","\n\n    ",396],["T_COMMENT","\/\/ Removing the field_plugins_test module should change the component to use\n",398],["T_WHITESPACE","    ",399],["T_COMMENT","\/\/ the default formatter for test fields.\n",399],["T_WHITESPACE","    ",400],["T_NS_SEPARATOR","\\",400],["T_STRING","Drupal",400],["T_DOUBLE_COLON","::",400],["T_STRING","service",400],"(",["T_CONSTANT_ENCAPSED_STRING","'config.manager'",400],")",["T_OBJECT_OPERATOR","->",400],["T_STRING","uninstall",400],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",400],",",["T_WHITESPACE"," ",400],["T_CONSTANT_ENCAPSED_STRING","'field_plugins_test'",400],")",";",["T_WHITESPACE","\n    ",400],["T_VARIABLE","$display",401],["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],["T_STRING","entity_get_display",401],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",401],",",["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",401],",",["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","'default'",401],")",";",["T_WHITESPACE","\n    ",401],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","assertEqual",402],"(",["T_VARIABLE","$display",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","getComponent",402],"(",["T_VARIABLE","$field_name",402],")","[",["T_CONSTANT_ENCAPSED_STRING","'type'",402],"]",",",["T_WHITESPACE"," ",402],["T_CONSTANT_ENCAPSED_STRING","'text_default'",402],")",";",["T_WHITESPACE","\n\n    ",402],["T_COMMENT","\/\/ Removing the text module should remove the field from the view display.\n",404],["T_WHITESPACE","    ",405],["T_NS_SEPARATOR","\\",405],["T_STRING","Drupal",405],["T_DOUBLE_COLON","::",405],["T_STRING","service",405],"(",["T_CONSTANT_ENCAPSED_STRING","'config.manager'",405],")",["T_OBJECT_OPERATOR","->",405],["T_STRING","uninstall",405],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",405],",",["T_WHITESPACE"," ",405],["T_CONSTANT_ENCAPSED_STRING","'text'",405],")",";",["T_WHITESPACE","\n    ",405],["T_VARIABLE","$display",406],["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_STRING","entity_get_display",406],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",406],",",["T_WHITESPACE"," ",406],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",406],",",["T_WHITESPACE"," ",406],["T_CONSTANT_ENCAPSED_STRING","'default'",406],")",";",["T_WHITESPACE","\n    ",406],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","assertFalse",407],"(",["T_VARIABLE","$display",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","getComponent",407],"(",["T_VARIABLE","$field_name",407],")",")",";",["T_WHITESPACE","\n  ",407],"}",["T_WHITESPACE","\n\n  ",408],["T_DOC_COMMENT","\/**\n   * Ensure that entity view display changes invalidates cache tags.\n   *\/",410],["T_WHITESPACE","\n  ",412],["T_PUBLIC","public",413],["T_WHITESPACE"," ",413],["T_FUNCTION","function",413],["T_WHITESPACE"," ",413],["T_STRING","testEntityDisplayInvalidateCacheTags",413],"(",")",["T_WHITESPACE"," ",413],"{",["T_WHITESPACE","\n    ",413],["T_VARIABLE","$cache",414],["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_NS_SEPARATOR","\\",414],["T_STRING","Drupal",414],["T_DOUBLE_COLON","::",414],["T_STRING","cache",414],"(",")",";",["T_WHITESPACE","\n    ",414],["T_VARIABLE","$cache",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","set",415],"(",["T_CONSTANT_ENCAPSED_STRING","'cid'",415],",",["T_WHITESPACE"," ",415],["T_CONSTANT_ENCAPSED_STRING","'kittens'",415],",",["T_WHITESPACE"," ",415],["T_STRING","Cache",415],["T_DOUBLE_COLON","::",415],["T_STRING","PERMANENT",415],",",["T_WHITESPACE"," ",415],"[",["T_CONSTANT_ENCAPSED_STRING","'config:entity_view_display_list'",415],"]",")",";",["T_WHITESPACE","\n    ",415],["T_VARIABLE","$display",416],["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],["T_STRING","EntityViewDisplay",416],["T_DOUBLE_COLON","::",416],["T_STRING","create",416],"(","[",["T_WHITESPACE","\n      ",416],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",417],["T_WHITESPACE"," ",417],["T_DOUBLE_ARROW","=>",417],["T_WHITESPACE"," ",417],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",417],",",["T_WHITESPACE","\n      ",417],["T_CONSTANT_ENCAPSED_STRING","'bundle'",418],["T_WHITESPACE"," ",418],["T_DOUBLE_ARROW","=>",418],["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",418],",",["T_WHITESPACE","\n      ",418],["T_CONSTANT_ENCAPSED_STRING","'mode'",419],["T_WHITESPACE"," ",419],["T_DOUBLE_ARROW","=>",419],["T_WHITESPACE"," ",419],["T_CONSTANT_ENCAPSED_STRING","'default'",419],",",["T_WHITESPACE","\n    ",419],"]",")",";",["T_WHITESPACE","\n    ",420],["T_VARIABLE","$display",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","setComponent",421],"(",["T_CONSTANT_ENCAPSED_STRING","'kitten'",421],")",";",["T_WHITESPACE","\n    ",421],["T_VARIABLE","$display",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","save",422],"(",")",";",["T_WHITESPACE","\n    ",422],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","assertFalse",423],"(",["T_VARIABLE","$cache",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","get",423],"(",["T_CONSTANT_ENCAPSED_STRING","'cid'",423],")",")",";",["T_WHITESPACE","\n  ",423],"}",["T_WHITESPACE","\n\n  ",424],["T_DOC_COMMENT","\/**\n   * Test getDisplayModeOptions().\n   *\/",426],["T_WHITESPACE","\n  ",428],["T_PUBLIC","public",429],["T_WHITESPACE"," ",429],["T_FUNCTION","function",429],["T_WHITESPACE"," ",429],["T_STRING","testGetDisplayModeOptions",429],"(",")",["T_WHITESPACE"," ",429],"{",["T_WHITESPACE","\n    ",429],["T_STRING","NodeType",430],["T_DOUBLE_COLON","::",430],["T_STRING","create",430],"(",["T_ARRAY","array",430],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",430],["T_WHITESPACE"," ",430],["T_DOUBLE_ARROW","=>",430],["T_WHITESPACE"," ",430],["T_CONSTANT_ENCAPSED_STRING","'article'",430],")",")",["T_OBJECT_OPERATOR","->",430],["T_STRING","save",430],"(",")",";",["T_WHITESPACE","\n\n    ",430],["T_STRING","EntityViewDisplay",432],["T_DOUBLE_COLON","::",432],["T_STRING","create",432],"(",["T_ARRAY","array",432],"(",["T_WHITESPACE","\n      ",432],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",433],["T_WHITESPACE"," ",433],["T_DOUBLE_ARROW","=>",433],["T_WHITESPACE"," ",433],["T_CONSTANT_ENCAPSED_STRING","'node'",433],",",["T_WHITESPACE","\n      ",433],["T_CONSTANT_ENCAPSED_STRING","'bundle'",434],["T_WHITESPACE"," ",434],["T_DOUBLE_ARROW","=>",434],["T_WHITESPACE"," ",434],["T_CONSTANT_ENCAPSED_STRING","'article'",434],",",["T_WHITESPACE","\n      ",434],["T_CONSTANT_ENCAPSED_STRING","'mode'",435],["T_WHITESPACE"," ",435],["T_DOUBLE_ARROW","=>",435],["T_WHITESPACE"," ",435],["T_CONSTANT_ENCAPSED_STRING","'default'",435],",",["T_WHITESPACE","\n    ",435],")",")",["T_OBJECT_OPERATOR","->",436],["T_STRING","setStatus",436],"(",["T_STRING","TRUE",436],")",["T_OBJECT_OPERATOR","->",436],["T_STRING","save",436],"(",")",";",["T_WHITESPACE","\n\n    ",436],["T_VARIABLE","$display_teaser",438],["T_WHITESPACE"," ",438],"=",["T_WHITESPACE"," ",438],["T_STRING","EntityViewDisplay",438],["T_DOUBLE_COLON","::",438],["T_STRING","create",438],"(",["T_ARRAY","array",438],"(",["T_WHITESPACE","\n      ",438],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",439],["T_WHITESPACE"," ",439],["T_DOUBLE_ARROW","=>",439],["T_WHITESPACE"," ",439],["T_CONSTANT_ENCAPSED_STRING","'node'",439],",",["T_WHITESPACE","\n      ",439],["T_CONSTANT_ENCAPSED_STRING","'bundle'",440],["T_WHITESPACE"," ",440],["T_DOUBLE_ARROW","=>",440],["T_WHITESPACE"," ",440],["T_CONSTANT_ENCAPSED_STRING","'article'",440],",",["T_WHITESPACE","\n      ",440],["T_CONSTANT_ENCAPSED_STRING","'mode'",441],["T_WHITESPACE"," ",441],["T_DOUBLE_ARROW","=>",441],["T_WHITESPACE"," ",441],["T_CONSTANT_ENCAPSED_STRING","'teaser'",441],",",["T_WHITESPACE","\n    ",441],")",")",";",["T_WHITESPACE","\n    ",442],["T_VARIABLE","$display_teaser",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","save",443],"(",")",";",["T_WHITESPACE","\n\n    ",443],["T_STRING","EntityFormDisplay",445],["T_DOUBLE_COLON","::",445],["T_STRING","create",445],"(",["T_ARRAY","array",445],"(",["T_WHITESPACE","\n      ",445],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",446],["T_WHITESPACE"," ",446],["T_DOUBLE_ARROW","=>",446],["T_WHITESPACE"," ",446],["T_CONSTANT_ENCAPSED_STRING","'user'",446],",",["T_WHITESPACE","\n      ",446],["T_CONSTANT_ENCAPSED_STRING","'bundle'",447],["T_WHITESPACE"," ",447],["T_DOUBLE_ARROW","=>",447],["T_WHITESPACE"," ",447],["T_CONSTANT_ENCAPSED_STRING","'user'",447],",",["T_WHITESPACE","\n      ",447],["T_CONSTANT_ENCAPSED_STRING","'mode'",448],["T_WHITESPACE"," ",448],["T_DOUBLE_ARROW","=>",448],["T_WHITESPACE"," ",448],["T_CONSTANT_ENCAPSED_STRING","'default'",448],",",["T_WHITESPACE","\n    ",448],")",")",["T_OBJECT_OPERATOR","->",449],["T_STRING","setStatus",449],"(",["T_STRING","TRUE",449],")",["T_OBJECT_OPERATOR","->",449],["T_STRING","save",449],"(",")",";",["T_WHITESPACE","\n\n    ",449],["T_VARIABLE","$form_display_teaser",451],["T_WHITESPACE"," ",451],"=",["T_WHITESPACE"," ",451],["T_STRING","EntityFormDisplay",451],["T_DOUBLE_COLON","::",451],["T_STRING","create",451],"(",["T_ARRAY","array",451],"(",["T_WHITESPACE","\n      ",451],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",452],["T_WHITESPACE"," ",452],["T_DOUBLE_ARROW","=>",452],["T_WHITESPACE"," ",452],["T_CONSTANT_ENCAPSED_STRING","'user'",452],",",["T_WHITESPACE","\n      ",452],["T_CONSTANT_ENCAPSED_STRING","'bundle'",453],["T_WHITESPACE"," ",453],["T_DOUBLE_ARROW","=>",453],["T_WHITESPACE"," ",453],["T_CONSTANT_ENCAPSED_STRING","'user'",453],",",["T_WHITESPACE","\n      ",453],["T_CONSTANT_ENCAPSED_STRING","'mode'",454],["T_WHITESPACE"," ",454],["T_DOUBLE_ARROW","=>",454],["T_WHITESPACE"," ",454],["T_CONSTANT_ENCAPSED_STRING","'register'",454],",",["T_WHITESPACE","\n    ",454],")",")",";",["T_WHITESPACE","\n    ",455],["T_VARIABLE","$form_display_teaser",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","save",456],"(",")",";",["T_WHITESPACE","\n\n    ",456],["T_COMMENT","\/\/ Test getViewModeOptionsByBundle().\n",458],["T_WHITESPACE","    ",459],["T_VARIABLE","$view_modes",459],["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],["T_NS_SEPARATOR","\\",459],["T_STRING","Drupal",459],["T_DOUBLE_COLON","::",459],["T_STRING","entityManager",459],"(",")",["T_OBJECT_OPERATOR","->",459],["T_STRING","getViewModeOptionsByBundle",459],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",459],",",["T_WHITESPACE"," ",459],["T_CONSTANT_ENCAPSED_STRING","'article'",459],")",";",["T_WHITESPACE","\n    ",459],["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","assertEqual",460],"(",["T_VARIABLE","$view_modes",460],",",["T_WHITESPACE"," ",460],["T_ARRAY","array",460],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",460],["T_WHITESPACE"," ",460],["T_DOUBLE_ARROW","=>",460],["T_WHITESPACE"," ",460],["T_CONSTANT_ENCAPSED_STRING","'Default'",460],")",")",";",["T_WHITESPACE","\n    ",460],["T_VARIABLE","$display_teaser",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","setStatus",461],"(",["T_STRING","TRUE",461],")",["T_OBJECT_OPERATOR","->",461],["T_STRING","save",461],"(",")",";",["T_WHITESPACE","\n    ",461],["T_VARIABLE","$view_modes",462],["T_WHITESPACE"," ",462],"=",["T_WHITESPACE"," ",462],["T_NS_SEPARATOR","\\",462],["T_STRING","Drupal",462],["T_DOUBLE_COLON","::",462],["T_STRING","entityManager",462],"(",")",["T_OBJECT_OPERATOR","->",462],["T_STRING","getViewModeOptionsByBundle",462],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",462],",",["T_WHITESPACE"," ",462],["T_CONSTANT_ENCAPSED_STRING","'article'",462],")",";",["T_WHITESPACE","\n    ",462],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","assertEqual",463],"(",["T_VARIABLE","$view_modes",463],",",["T_WHITESPACE"," ",463],["T_ARRAY","array",463],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",463],["T_WHITESPACE"," ",463],["T_DOUBLE_ARROW","=>",463],["T_WHITESPACE"," ",463],["T_CONSTANT_ENCAPSED_STRING","'Default'",463],",",["T_WHITESPACE"," ",463],["T_CONSTANT_ENCAPSED_STRING","'teaser'",463],["T_WHITESPACE"," ",463],["T_DOUBLE_ARROW","=>",463],["T_WHITESPACE"," ",463],["T_CONSTANT_ENCAPSED_STRING","'Teaser'",463],")",")",";",["T_WHITESPACE","\n\n    ",463],["T_COMMENT","\/\/ Test getFormModeOptionsByBundle().\n",465],["T_WHITESPACE","    ",466],["T_VARIABLE","$form_modes",466],["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],["T_NS_SEPARATOR","\\",466],["T_STRING","Drupal",466],["T_DOUBLE_COLON","::",466],["T_STRING","entityManager",466],"(",")",["T_OBJECT_OPERATOR","->",466],["T_STRING","getFormModeOptionsByBundle",466],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",466],",",["T_WHITESPACE"," ",466],["T_CONSTANT_ENCAPSED_STRING","'user'",466],")",";",["T_WHITESPACE","\n    ",466],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","assertEqual",467],"(",["T_VARIABLE","$form_modes",467],",",["T_WHITESPACE"," ",467],["T_ARRAY","array",467],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",467],["T_WHITESPACE"," ",467],["T_DOUBLE_ARROW","=>",467],["T_WHITESPACE"," ",467],["T_CONSTANT_ENCAPSED_STRING","'Default'",467],")",")",";",["T_WHITESPACE","\n    ",467],["T_VARIABLE","$form_display_teaser",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","setStatus",468],"(",["T_STRING","TRUE",468],")",["T_OBJECT_OPERATOR","->",468],["T_STRING","save",468],"(",")",";",["T_WHITESPACE","\n    ",468],["T_VARIABLE","$form_modes",469],["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],["T_NS_SEPARATOR","\\",469],["T_STRING","Drupal",469],["T_DOUBLE_COLON","::",469],["T_STRING","entityManager",469],"(",")",["T_OBJECT_OPERATOR","->",469],["T_STRING","getFormModeOptionsByBundle",469],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",469],",",["T_WHITESPACE"," ",469],["T_CONSTANT_ENCAPSED_STRING","'user'",469],")",";",["T_WHITESPACE","\n    ",469],["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","assertEqual",470],"(",["T_VARIABLE","$form_modes",470],",",["T_WHITESPACE"," ",470],["T_ARRAY","array",470],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",470],["T_WHITESPACE"," ",470],["T_DOUBLE_ARROW","=>",470],["T_WHITESPACE"," ",470],["T_CONSTANT_ENCAPSED_STRING","'Default'",470],",",["T_WHITESPACE"," ",470],["T_CONSTANT_ENCAPSED_STRING","'register'",470],["T_WHITESPACE"," ",470],["T_DOUBLE_ARROW","=>",470],["T_WHITESPACE"," ",470],["T_CONSTANT_ENCAPSED_STRING","'Register'",470],")",")",";",["T_WHITESPACE","\n  ",470],"}",["T_WHITESPACE","\n\n  ",471],["T_DOC_COMMENT","\/**\n   * Tests components dependencies additions.\n   *\/",473],["T_WHITESPACE","\n  ",475],["T_PUBLIC","public",476],["T_WHITESPACE"," ",476],["T_FUNCTION","function",476],["T_WHITESPACE"," ",476],["T_STRING","testComponentDependencies",476],"(",")",["T_WHITESPACE"," ",476],"{",["T_WHITESPACE","\n    ",476],["T_VARIABLE","$this",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","enableModules",477],"(","[",["T_CONSTANT_ENCAPSED_STRING","'dblog'",477],",",["T_WHITESPACE"," ",477],["T_CONSTANT_ENCAPSED_STRING","'color'",477],"]",")",";",["T_WHITESPACE","\n    ",477],["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","installSchema",478],"(",["T_CONSTANT_ENCAPSED_STRING","'dblog'",478],",",["T_WHITESPACE"," ",478],"[",["T_CONSTANT_ENCAPSED_STRING","'watchdog'",478],"]",")",";",["T_WHITESPACE","\n    ",478],["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","installEntitySchema",479],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",479],")",";",["T_WHITESPACE","\n    ",479],["T_DOC_COMMENT","\/** @var \\Drupal\\user\\RoleInterface[] $roles *\/",480],["T_WHITESPACE","\n    ",480],["T_VARIABLE","$roles",481],["T_WHITESPACE"," ",481],"=",["T_WHITESPACE"," ",481],"[","]",";",["T_WHITESPACE","\n    ",481],["T_COMMENT","\/\/ Create two arbitrary user roles.\n",482],["T_WHITESPACE","    ",483],["T_FOR","for",483],["T_WHITESPACE"," ",483],"(",["T_VARIABLE","$i",483],["T_WHITESPACE"," ",483],"=",["T_WHITESPACE"," ",483],["T_LNUMBER","0",483],";",["T_WHITESPACE"," ",483],["T_VARIABLE","$i",483],["T_WHITESPACE"," ",483],"<",["T_WHITESPACE"," ",483],["T_LNUMBER","2",483],";",["T_WHITESPACE"," ",483],["T_VARIABLE","$i",483],["T_INC","++",483],")",["T_WHITESPACE"," ",483],"{",["T_WHITESPACE","\n      ",483],["T_VARIABLE","$roles",484],"[",["T_VARIABLE","$i",484],"]",["T_WHITESPACE"," ",484],"=",["T_WHITESPACE"," ",484],["T_STRING","Role",484],["T_DOUBLE_COLON","::",484],["T_STRING","create",484],"(","[",["T_WHITESPACE","\n        ",484],["T_CONSTANT_ENCAPSED_STRING","'id'",485],["T_WHITESPACE"," ",485],["T_DOUBLE_ARROW","=>",485],["T_WHITESPACE"," ",485],["T_STRING","Unicode",485],["T_DOUBLE_COLON","::",485],["T_STRING","strtolower",485],"(",["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","randomMachineName",485],"(",")",")",",",["T_WHITESPACE","\n        ",485],["T_CONSTANT_ENCAPSED_STRING","'label'",486],["T_WHITESPACE"," ",486],["T_DOUBLE_ARROW","=>",486],["T_WHITESPACE"," ",486],["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","randomString",486],"(",")",",",["T_WHITESPACE","\n      ",486],"]",")",";",["T_WHITESPACE","\n      ",487],["T_VARIABLE","$roles",488],"[",["T_VARIABLE","$i",488],"]",["T_OBJECT_OPERATOR","->",488],["T_STRING","save",488],"(",")",";",["T_WHITESPACE","\n    ",488],"}",["T_WHITESPACE","\n\n    ",489],["T_COMMENT","\/\/ Create a field of type 'test_field' attached to 'entity_test'.\n",491],["T_WHITESPACE","    ",492],["T_VARIABLE","$field_name",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_STRING","Unicode",492],["T_DOUBLE_COLON","::",492],["T_STRING","strtolower",492],"(",["T_VARIABLE","$this",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","randomMachineName",492],"(",")",")",";",["T_WHITESPACE","\n    ",492],["T_STRING","FieldStorageConfig",493],["T_DOUBLE_COLON","::",493],["T_STRING","create",493],"(","[",["T_WHITESPACE","\n      ",493],["T_CONSTANT_ENCAPSED_STRING","'field_name'",494],["T_WHITESPACE"," ",494],["T_DOUBLE_ARROW","=>",494],["T_WHITESPACE"," ",494],["T_VARIABLE","$field_name",494],",",["T_WHITESPACE","\n      ",494],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",495],["T_WHITESPACE"," ",495],["T_DOUBLE_ARROW","=>",495],["T_WHITESPACE"," ",495],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",495],",",["T_WHITESPACE","\n      ",495],["T_CONSTANT_ENCAPSED_STRING","'type'",496],["T_WHITESPACE"," ",496],["T_DOUBLE_ARROW","=>",496],["T_WHITESPACE"," ",496],["T_CONSTANT_ENCAPSED_STRING","'test_field'",496],",",["T_WHITESPACE","\n    ",496],"]",")",["T_OBJECT_OPERATOR","->",497],["T_STRING","save",497],"(",")",";",["T_WHITESPACE","\n    ",497],["T_STRING","FieldConfig",498],["T_DOUBLE_COLON","::",498],["T_STRING","create",498],"(","[",["T_WHITESPACE","\n      ",498],["T_CONSTANT_ENCAPSED_STRING","'field_name'",499],["T_WHITESPACE"," ",499],["T_DOUBLE_ARROW","=>",499],["T_WHITESPACE"," ",499],["T_VARIABLE","$field_name",499],",",["T_WHITESPACE","\n      ",499],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",500],["T_WHITESPACE"," ",500],["T_DOUBLE_ARROW","=>",500],["T_WHITESPACE"," ",500],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",500],",",["T_WHITESPACE","\n      ",500],["T_CONSTANT_ENCAPSED_STRING","'bundle'",501],["T_WHITESPACE"," ",501],["T_DOUBLE_ARROW","=>",501],["T_WHITESPACE"," ",501],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",501],",",["T_WHITESPACE","\n    ",501],"]",")",["T_OBJECT_OPERATOR","->",502],["T_STRING","save",502],"(",")",";",["T_WHITESPACE","\n\n    ",502],["T_COMMENT","\/\/ Create a new form display without components.\n",504],["T_WHITESPACE","    ",505],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Entity\\Display\\EntityFormDisplayInterface $form_display *\/",505],["T_WHITESPACE","\n    ",505],["T_VARIABLE","$form_display",506],["T_WHITESPACE"," ",506],"=",["T_WHITESPACE"," ",506],["T_STRING","EntityFormDisplay",506],["T_DOUBLE_COLON","::",506],["T_STRING","create",506],"(","[",["T_WHITESPACE","\n      ",506],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",507],["T_WHITESPACE"," ",507],["T_DOUBLE_ARROW","=>",507],["T_WHITESPACE"," ",507],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",507],",",["T_WHITESPACE","\n      ",507],["T_CONSTANT_ENCAPSED_STRING","'bundle'",508],["T_WHITESPACE"," ",508],["T_DOUBLE_ARROW","=>",508],["T_WHITESPACE"," ",508],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",508],",",["T_WHITESPACE","\n      ",508],["T_CONSTANT_ENCAPSED_STRING","'mode'",509],["T_WHITESPACE"," ",509],["T_DOUBLE_ARROW","=>",509],["T_WHITESPACE"," ",509],["T_CONSTANT_ENCAPSED_STRING","'default'",509],",",["T_WHITESPACE","\n    ",509],"]",")",";",["T_WHITESPACE","\n    ",510],["T_VARIABLE","$form_display",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","save",511],"(",")",";",["T_WHITESPACE","\n\n    ",511],["T_VARIABLE","$dependencies",513],["T_WHITESPACE"," ",513],"=",["T_WHITESPACE"," ",513],"[",["T_CONSTANT_ENCAPSED_STRING","'user.role.'",513],["T_WHITESPACE"," ",513],".",["T_WHITESPACE"," ",513],["T_VARIABLE","$roles",513],"[",["T_LNUMBER","0",513],"]",["T_OBJECT_OPERATOR","->",513],["T_STRING","id",513],"(",")",",",["T_WHITESPACE"," ",513],["T_CONSTANT_ENCAPSED_STRING","'user.role.'",513],["T_WHITESPACE"," ",513],".",["T_WHITESPACE"," ",513],["T_VARIABLE","$roles",513],"[",["T_LNUMBER","1",513],"]",["T_OBJECT_OPERATOR","->",513],["T_STRING","id",513],"(",")","]",";",["T_WHITESPACE","\n\n    ",513],["T_COMMENT","\/\/ The config object should not depend on none of the two $roles.\n",515],["T_WHITESPACE","    ",516],["T_VARIABLE","$this",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","assertNoDependency",516],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",516],",",["T_WHITESPACE"," ",516],["T_VARIABLE","$dependencies",516],"[",["T_LNUMBER","0",516],"]",",",["T_WHITESPACE"," ",516],["T_VARIABLE","$form_display",516],")",";",["T_WHITESPACE","\n    ",516],["T_VARIABLE","$this",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","assertNoDependency",517],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",517],",",["T_WHITESPACE"," ",517],["T_VARIABLE","$dependencies",517],"[",["T_LNUMBER","1",517],"]",",",["T_WHITESPACE"," ",517],["T_VARIABLE","$form_display",517],")",";",["T_WHITESPACE","\n\n    ",517],["T_COMMENT","\/\/ Add a widget of type 'test_field_widget'.\n",519],["T_WHITESPACE","    ",520],["T_VARIABLE","$component",520],["T_WHITESPACE"," ",520],"=",["T_WHITESPACE"," ",520],"[",["T_WHITESPACE","\n      ",520],["T_CONSTANT_ENCAPSED_STRING","'type'",521],["T_WHITESPACE"," ",521],["T_DOUBLE_ARROW","=>",521],["T_WHITESPACE"," ",521],["T_CONSTANT_ENCAPSED_STRING","'test_field_widget'",521],",",["T_WHITESPACE","\n      ",521],["T_CONSTANT_ENCAPSED_STRING","'settings'",522],["T_WHITESPACE"," ",522],["T_DOUBLE_ARROW","=>",522],["T_WHITESPACE"," ",522],"[",["T_WHITESPACE","\n        ",522],["T_CONSTANT_ENCAPSED_STRING","'test_widget_setting'",523],["T_WHITESPACE"," ",523],["T_DOUBLE_ARROW","=>",523],["T_WHITESPACE"," ",523],["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","randomString",523],"(",")",",",["T_WHITESPACE","\n        ",523],["T_CONSTANT_ENCAPSED_STRING","'role'",524],["T_WHITESPACE"," ",524],["T_DOUBLE_ARROW","=>",524],["T_WHITESPACE"," ",524],["T_VARIABLE","$roles",524],"[",["T_LNUMBER","0",524],"]",["T_OBJECT_OPERATOR","->",524],["T_STRING","id",524],"(",")",",",["T_WHITESPACE","\n        ",524],["T_CONSTANT_ENCAPSED_STRING","'role2'",525],["T_WHITESPACE"," ",525],["T_DOUBLE_ARROW","=>",525],["T_WHITESPACE"," ",525],["T_VARIABLE","$roles",525],"[",["T_LNUMBER","1",525],"]",["T_OBJECT_OPERATOR","->",525],["T_STRING","id",525],"(",")",",",["T_WHITESPACE","\n      ",525],"]",",",["T_WHITESPACE","\n      ",526],["T_CONSTANT_ENCAPSED_STRING","'third_party_settings'",527],["T_WHITESPACE"," ",527],["T_DOUBLE_ARROW","=>",527],["T_WHITESPACE"," ",527],"[",["T_WHITESPACE","\n        ",527],["T_CONSTANT_ENCAPSED_STRING","'color'",528],["T_WHITESPACE"," ",528],["T_DOUBLE_ARROW","=>",528],["T_WHITESPACE"," ",528],"[",["T_CONSTANT_ENCAPSED_STRING","'foo'",528],["T_WHITESPACE"," ",528],["T_DOUBLE_ARROW","=>",528],["T_WHITESPACE"," ",528],["T_CONSTANT_ENCAPSED_STRING","'bar'",528],"]",",",["T_WHITESPACE","\n      ",528],"]",",",["T_WHITESPACE","\n    ",529],"]",";",["T_WHITESPACE","\n    ",530],["T_VARIABLE","$form_display",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","setComponent",531],"(",["T_VARIABLE","$field_name",531],",",["T_WHITESPACE"," ",531],["T_VARIABLE","$component",531],")",";",["T_WHITESPACE","\n    ",531],["T_VARIABLE","$form_display",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","save",532],"(",")",";",["T_WHITESPACE","\n\n    ",532],["T_COMMENT","\/\/ Now, the form display should depend on both user roles $roles.\n",534],["T_WHITESPACE","    ",535],["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","assertDependency",535],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",535],",",["T_WHITESPACE"," ",535],["T_VARIABLE","$dependencies",535],"[",["T_LNUMBER","0",535],"]",",",["T_WHITESPACE"," ",535],["T_VARIABLE","$form_display",535],")",";",["T_WHITESPACE","\n    ",535],["T_VARIABLE","$this",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","assertDependency",536],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",536],",",["T_WHITESPACE"," ",536],["T_VARIABLE","$dependencies",536],"[",["T_LNUMBER","1",536],"]",",",["T_WHITESPACE"," ",536],["T_VARIABLE","$form_display",536],")",";",["T_WHITESPACE","\n    ",536],["T_COMMENT","\/\/ The form display should depend on 'color' module.\n",537],["T_WHITESPACE","    ",538],["T_VARIABLE","$this",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","assertDependency",538],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",538],",",["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","'color'",538],",",["T_WHITESPACE"," ",538],["T_VARIABLE","$form_display",538],")",";",["T_WHITESPACE","\n\n    ",538],["T_COMMENT","\/\/ Delete the first user role entity.\n",540],["T_WHITESPACE","    ",541],["T_VARIABLE","$roles",541],"[",["T_LNUMBER","0",541],"]",["T_OBJECT_OPERATOR","->",541],["T_STRING","delete",541],"(",")",";",["T_WHITESPACE","\n\n    ",541],["T_COMMENT","\/\/ Reload the form display.\n",543],["T_WHITESPACE","    ",544],["T_VARIABLE","$form_display",544],["T_WHITESPACE"," ",544],"=",["T_WHITESPACE"," ",544],["T_STRING","EntityFormDisplay",544],["T_DOUBLE_COLON","::",544],["T_STRING","load",544],"(",["T_VARIABLE","$form_display",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","id",544],"(",")",")",";",["T_WHITESPACE","\n    ",544],["T_COMMENT","\/\/ The display exists.\n",545],["T_WHITESPACE","    ",546],["T_VARIABLE","$this",546],["T_OBJECT_OPERATOR","->",546],["T_STRING","assertFalse",546],"(",["T_EMPTY","empty",546],"(",["T_VARIABLE","$form_display",546],")",")",";",["T_WHITESPACE","\n    ",546],["T_COMMENT","\/\/ The form display should not depend on $role[0] anymore.\n",547],["T_WHITESPACE","    ",548],["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","assertNoDependency",548],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",548],",",["T_WHITESPACE"," ",548],["T_VARIABLE","$dependencies",548],"[",["T_LNUMBER","0",548],"]",",",["T_WHITESPACE"," ",548],["T_VARIABLE","$form_display",548],")",";",["T_WHITESPACE","\n    ",548],["T_COMMENT","\/\/ The form display should depend on 'anonymous' user role.\n",549],["T_WHITESPACE","    ",550],["T_VARIABLE","$this",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","assertDependency",550],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",550],",",["T_WHITESPACE"," ",550],["T_CONSTANT_ENCAPSED_STRING","'user.role.anonymous'",550],",",["T_WHITESPACE"," ",550],["T_VARIABLE","$form_display",550],")",";",["T_WHITESPACE","\n    ",550],["T_COMMENT","\/\/ The form display should depend on 'color' module.\n",551],["T_WHITESPACE","    ",552],["T_VARIABLE","$this",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","assertDependency",552],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",552],",",["T_WHITESPACE"," ",552],["T_CONSTANT_ENCAPSED_STRING","'color'",552],",",["T_WHITESPACE"," ",552],["T_VARIABLE","$form_display",552],")",";",["T_WHITESPACE","\n\n    ",552],["T_COMMENT","\/\/ Manually trigger the removal of configuration belonging to the module\n",554],["T_WHITESPACE","    ",555],["T_COMMENT","\/\/ because KernelTestBase::disableModules() is not aware of this.\n",555],["T_WHITESPACE","    ",556],["T_VARIABLE","$this",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","container",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","get",556],"(",["T_CONSTANT_ENCAPSED_STRING","'config.manager'",556],")",["T_OBJECT_OPERATOR","->",556],["T_STRING","uninstall",556],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",556],",",["T_WHITESPACE"," ",556],["T_CONSTANT_ENCAPSED_STRING","'color'",556],")",";",["T_WHITESPACE","\n    ",556],["T_COMMENT","\/\/ Uninstall 'color' module.\n",557],["T_WHITESPACE","    ",558],["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","disableModules",558],"(","[",["T_CONSTANT_ENCAPSED_STRING","'color'",558],"]",")",";",["T_WHITESPACE","\n\n    ",558],["T_COMMENT","\/\/ Reload the form display.\n",560],["T_WHITESPACE","    ",561],["T_VARIABLE","$form_display",561],["T_WHITESPACE"," ",561],"=",["T_WHITESPACE"," ",561],["T_STRING","EntityFormDisplay",561],["T_DOUBLE_COLON","::",561],["T_STRING","load",561],"(",["T_VARIABLE","$form_display",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","id",561],"(",")",")",";",["T_WHITESPACE","\n    ",561],["T_COMMENT","\/\/ The display exists.\n",562],["T_WHITESPACE","    ",563],["T_VARIABLE","$this",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","assertFalse",563],"(",["T_EMPTY","empty",563],"(",["T_VARIABLE","$form_display",563],")",")",";",["T_WHITESPACE","\n    ",563],["T_COMMENT","\/\/ The component is still enabled.\n",564],["T_WHITESPACE","    ",565],["T_VARIABLE","$this",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","assertNotNull",565],"(",["T_VARIABLE","$form_display",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","getComponent",565],"(",["T_VARIABLE","$field_name",565],")",")",";",["T_WHITESPACE","\n    ",565],["T_COMMENT","\/\/ The form display should not depend on 'color' module anymore.\n",566],["T_WHITESPACE","    ",567],["T_VARIABLE","$this",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","assertNoDependency",567],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",567],",",["T_WHITESPACE"," ",567],["T_CONSTANT_ENCAPSED_STRING","'color'",567],",",["T_WHITESPACE"," ",567],["T_VARIABLE","$form_display",567],")",";",["T_WHITESPACE","\n\n    ",567],["T_COMMENT","\/\/ Delete the 2nd user role entity.\n",569],["T_WHITESPACE","    ",570],["T_VARIABLE","$roles",570],"[",["T_LNUMBER","1",570],"]",["T_OBJECT_OPERATOR","->",570],["T_STRING","delete",570],"(",")",";",["T_WHITESPACE","\n\n    ",570],["T_COMMENT","\/\/ Reload the form display.\n",572],["T_WHITESPACE","    ",573],["T_VARIABLE","$form_display",573],["T_WHITESPACE"," ",573],"=",["T_WHITESPACE"," ",573],["T_STRING","EntityFormDisplay",573],["T_DOUBLE_COLON","::",573],["T_STRING","load",573],"(",["T_VARIABLE","$form_display",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","id",573],"(",")",")",";",["T_WHITESPACE","\n    ",573],["T_COMMENT","\/\/ The display exists.\n",574],["T_WHITESPACE","    ",575],["T_VARIABLE","$this",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","assertFalse",575],"(",["T_EMPTY","empty",575],"(",["T_VARIABLE","$form_display",575],")",")",";",["T_WHITESPACE","\n    ",575],["T_COMMENT","\/\/ The component has been disabled.\n",576],["T_WHITESPACE","    ",577],["T_VARIABLE","$this",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","assertNull",577],"(",["T_VARIABLE","$form_display",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","getComponent",577],"(",["T_VARIABLE","$field_name",577],")",")",";",["T_WHITESPACE","\n    ",577],["T_VARIABLE","$this",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","assertTrue",578],"(",["T_VARIABLE","$form_display",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","get",578],"(",["T_CONSTANT_ENCAPSED_STRING","'hidden'",578],")","[",["T_VARIABLE","$field_name",578],"]",")",";",["T_WHITESPACE","\n    ",578],["T_COMMENT","\/\/ The correct warning message has been logged.\n",579],["T_WHITESPACE","    ",580],["T_VARIABLE","$arguments",580],["T_WHITESPACE"," ",580],"=",["T_WHITESPACE"," ",580],"[",["T_CONSTANT_ENCAPSED_STRING","'@display'",580],["T_WHITESPACE"," ",580],["T_DOUBLE_ARROW","=>",580],["T_WHITESPACE"," ",580],["T_STRING_CAST","(string)",580],["T_WHITESPACE"," ",580],["T_STRING","t",580],"(",["T_CONSTANT_ENCAPSED_STRING","'Entity form display'",580],")",",",["T_WHITESPACE"," ",580],["T_CONSTANT_ENCAPSED_STRING","'@id'",580],["T_WHITESPACE"," ",580],["T_DOUBLE_ARROW","=>",580],["T_WHITESPACE"," ",580],["T_VARIABLE","$form_display",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","id",580],"(",")",",",["T_WHITESPACE"," ",580],["T_CONSTANT_ENCAPSED_STRING","'@name'",580],["T_WHITESPACE"," ",580],["T_DOUBLE_ARROW","=>",580],["T_WHITESPACE"," ",580],["T_VARIABLE","$field_name",580],"]",";",["T_WHITESPACE","\n    ",580],["T_VARIABLE","$logged",581],["T_WHITESPACE"," ",581],"=",["T_WHITESPACE"," ",581],["T_BOOL_CAST","(bool)",581],["T_WHITESPACE"," ",581],["T_STRING","Database",581],["T_DOUBLE_COLON","::",581],["T_STRING","getConnection",581],"(",")",["T_OBJECT_OPERATOR","->",581],["T_STRING","select",581],"(",["T_CONSTANT_ENCAPSED_STRING","'watchdog'",581],",",["T_WHITESPACE"," ",581],["T_CONSTANT_ENCAPSED_STRING","'w'",581],")",["T_WHITESPACE","\n      ",581],["T_OBJECT_OPERATOR","->",582],["T_STRING","fields",582],"(",["T_CONSTANT_ENCAPSED_STRING","'w'",582],",",["T_WHITESPACE"," ",582],"[",["T_CONSTANT_ENCAPSED_STRING","'wid'",582],"]",")",["T_WHITESPACE","\n      ",582],["T_OBJECT_OPERATOR","->",583],["T_STRING","condition",583],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",583],",",["T_WHITESPACE"," ",583],["T_CONSTANT_ENCAPSED_STRING","'system'",583],")",["T_WHITESPACE","\n      ",583],["T_OBJECT_OPERATOR","->",584],["T_STRING","condition",584],"(",["T_CONSTANT_ENCAPSED_STRING","'message'",584],",",["T_WHITESPACE"," ",584],["T_CONSTANT_ENCAPSED_STRING","\"@display '@id': Component '@name' was disabled because its settings depend on removed dependencies.\"",584],")",["T_WHITESPACE","\n      ",584],["T_OBJECT_OPERATOR","->",585],["T_STRING","condition",585],"(",["T_CONSTANT_ENCAPSED_STRING","'variables'",585],",",["T_WHITESPACE"," ",585],["T_STRING","serialize",585],"(",["T_VARIABLE","$arguments",585],")",")",["T_WHITESPACE","\n      ",585],["T_OBJECT_OPERATOR","->",586],["T_STRING","execute",586],"(",")",["T_WHITESPACE","\n      ",586],["T_OBJECT_OPERATOR","->",587],["T_STRING","fetchAll",587],"(",")",";",["T_WHITESPACE","\n    ",587],["T_VARIABLE","$this",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","assertTrue",588],"(",["T_VARIABLE","$logged",588],")",";",["T_WHITESPACE","\n  ",588],"}",["T_WHITESPACE","\n\n  ",589],["T_DOC_COMMENT","\/**\n   * Asserts that $key is a $type type dependency of $display config entity.\n   *\n   * @param string $type\n   *   The dependency type: 'config', 'content', 'module' or 'theme'.\n   * @param string $key\n   *   The string to be checked.\n   * @param \\Drupal\\Core\\Entity\\Display\\EntityDisplayInterface $display\n   *   The entity display object to get dependencies from.\n   *\n   * @return bool\n   *   TRUE if the assertion succeeded, FALSE otherwise.\n   *\/",591],["T_WHITESPACE","\n  ",603],["T_PROTECTED","protected",604],["T_WHITESPACE"," ",604],["T_FUNCTION","function",604],["T_WHITESPACE"," ",604],["T_STRING","assertDependency",604],"(",["T_VARIABLE","$type",604],",",["T_WHITESPACE"," ",604],["T_VARIABLE","$key",604],",",["T_WHITESPACE"," ",604],["T_STRING","EntityDisplayInterface",604],["T_WHITESPACE"," ",604],["T_VARIABLE","$display",604],")",["T_WHITESPACE"," ",604],"{",["T_WHITESPACE","\n    ",604],["T_RETURN","return",605],["T_WHITESPACE"," ",605],["T_VARIABLE","$this",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","assertDependencyHelper",605],"(",["T_STRING","TRUE",605],",",["T_WHITESPACE"," ",605],["T_VARIABLE","$type",605],",",["T_WHITESPACE"," ",605],["T_VARIABLE","$key",605],",",["T_WHITESPACE"," ",605],["T_VARIABLE","$display",605],")",";",["T_WHITESPACE","\n  ",605],"}",["T_WHITESPACE","\n\n  ",606],["T_DOC_COMMENT","\/**\n   * Asserts that $key is not a $type type dependency of $display config entity.\n   *\n   * @param string $type\n   *   The dependency type: 'config', 'content', 'module' or 'theme'.\n   * @param string $key\n   *   The string to be checked.\n   * @param \\Drupal\\Core\\Entity\\Display\\EntityDisplayInterface $display\n   *   The entity display object to get dependencies from.\n   *\n   * @return bool\n   *   TRUE if the assertion succeeded, FALSE otherwise.\n   *\/",608],["T_WHITESPACE","\n  ",620],["T_PROTECTED","protected",621],["T_WHITESPACE"," ",621],["T_FUNCTION","function",621],["T_WHITESPACE"," ",621],["T_STRING","assertNoDependency",621],"(",["T_VARIABLE","$type",621],",",["T_WHITESPACE"," ",621],["T_VARIABLE","$key",621],",",["T_WHITESPACE"," ",621],["T_STRING","EntityDisplayInterface",621],["T_WHITESPACE"," ",621],["T_VARIABLE","$display",621],")",["T_WHITESPACE"," ",621],"{",["T_WHITESPACE","\n    ",621],["T_RETURN","return",622],["T_WHITESPACE"," ",622],["T_VARIABLE","$this",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","assertDependencyHelper",622],"(",["T_STRING","FALSE",622],",",["T_WHITESPACE"," ",622],["T_VARIABLE","$type",622],",",["T_WHITESPACE"," ",622],["T_VARIABLE","$key",622],",",["T_WHITESPACE"," ",622],["T_VARIABLE","$display",622],")",";",["T_WHITESPACE","\n  ",622],"}",["T_WHITESPACE","\n\n  ",623],["T_DOC_COMMENT","\/**\n   * Provides a helper for dependency assertions.\n   *\n   * @param bool $assertion\n   *   Assertion: positive or negative.\n   * @param string $type\n   *   The dependency type: 'config', 'content', 'module' or 'theme'.\n   * @param string $key\n   *   The string to be checked.\n   * @param \\Drupal\\Core\\Entity\\Display\\EntityDisplayInterface $display\n   *   The entity display object to get dependencies from.\n   *\n   * @return bool\n   *   TRUE if the assertion succeeded, FALSE otherwise.\n   *\/",625],["T_WHITESPACE","\n  ",639],["T_PROTECTED","protected",640],["T_WHITESPACE"," ",640],["T_FUNCTION","function",640],["T_WHITESPACE"," ",640],["T_STRING","assertDependencyHelper",640],"(",["T_VARIABLE","$assertion",640],",",["T_WHITESPACE"," ",640],["T_VARIABLE","$type",640],",",["T_WHITESPACE"," ",640],["T_VARIABLE","$key",640],",",["T_WHITESPACE"," ",640],["T_STRING","EntityDisplayInterface",640],["T_WHITESPACE"," ",640],["T_VARIABLE","$display",640],")",["T_WHITESPACE"," ",640],"{",["T_WHITESPACE","\n    ",640],["T_VARIABLE","$all_dependencies",641],["T_WHITESPACE"," ",641],"=",["T_WHITESPACE"," ",641],["T_VARIABLE","$display",641],["T_OBJECT_OPERATOR","->",641],["T_STRING","getDependencies",641],"(",")",";",["T_WHITESPACE","\n    ",641],["T_VARIABLE","$dependencies",642],["T_WHITESPACE"," ",642],"=",["T_WHITESPACE"," ",642],"!",["T_EMPTY","empty",642],"(",["T_VARIABLE","$all_dependencies",642],"[",["T_VARIABLE","$type",642],"]",")",["T_WHITESPACE"," ",642],"?",["T_WHITESPACE"," ",642],["T_VARIABLE","$all_dependencies",642],"[",["T_VARIABLE","$type",642],"]",["T_WHITESPACE"," ",642],":",["T_WHITESPACE"," ",642],"[","]",";",["T_WHITESPACE","\n    ",642],["T_VARIABLE","$context",643],["T_WHITESPACE"," ",643],"=",["T_WHITESPACE"," ",643],["T_VARIABLE","$display",643],["T_WHITESPACE"," ",643],["T_INSTANCEOF","instanceof",643],["T_WHITESPACE"," ",643],["T_STRING","EntityViewDisplayInterface",643],["T_WHITESPACE"," ",643],"?",["T_WHITESPACE"," ",643],["T_CONSTANT_ENCAPSED_STRING","'View'",643],["T_WHITESPACE"," ",643],":",["T_WHITESPACE"," ",643],["T_CONSTANT_ENCAPSED_STRING","'Form'",643],";",["T_WHITESPACE","\n    ",643],["T_VARIABLE","$value",644],["T_WHITESPACE"," ",644],"=",["T_WHITESPACE"," ",644],["T_VARIABLE","$assertion",644],["T_WHITESPACE"," ",644],"?",["T_WHITESPACE"," ",644],["T_STRING","in_array",644],"(",["T_VARIABLE","$key",644],",",["T_WHITESPACE"," ",644],["T_VARIABLE","$dependencies",644],")",["T_WHITESPACE"," ",644],":",["T_WHITESPACE"," ",644],"!",["T_STRING","in_array",644],"(",["T_VARIABLE","$key",644],",",["T_WHITESPACE"," ",644],["T_VARIABLE","$dependencies",644],")",";",["T_WHITESPACE","\n    ",644],["T_VARIABLE","$args",645],["T_WHITESPACE"," ",645],"=",["T_WHITESPACE"," ",645],"[",["T_CONSTANT_ENCAPSED_STRING","'@context'",645],["T_WHITESPACE"," ",645],["T_DOUBLE_ARROW","=>",645],["T_WHITESPACE"," ",645],["T_VARIABLE","$context",645],",",["T_WHITESPACE"," ",645],["T_CONSTANT_ENCAPSED_STRING","'@id'",645],["T_WHITESPACE"," ",645],["T_DOUBLE_ARROW","=>",645],["T_WHITESPACE"," ",645],["T_VARIABLE","$display",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","id",645],"(",")",",",["T_WHITESPACE"," ",645],["T_CONSTANT_ENCAPSED_STRING","'@type'",645],["T_WHITESPACE"," ",645],["T_DOUBLE_ARROW","=>",645],["T_WHITESPACE"," ",645],["T_VARIABLE","$type",645],",",["T_WHITESPACE"," ",645],["T_CONSTANT_ENCAPSED_STRING","'@key'",645],["T_WHITESPACE"," ",645],["T_DOUBLE_ARROW","=>",645],["T_WHITESPACE"," ",645],["T_VARIABLE","$key",645],"]",";",["T_WHITESPACE","\n    ",645],["T_VARIABLE","$message",646],["T_WHITESPACE"," ",646],"=",["T_WHITESPACE"," ",646],["T_VARIABLE","$assertion",646],["T_WHITESPACE"," ",646],"?",["T_WHITESPACE"," ",646],["T_NEW","new",646],["T_WHITESPACE"," ",646],["T_STRING","FormattableMarkup",646],"(",["T_CONSTANT_ENCAPSED_STRING","\"@context display '@id' depends on @type '@key'.\"",646],",",["T_WHITESPACE"," ",646],["T_VARIABLE","$args",646],")",["T_WHITESPACE"," ",646],":",["T_WHITESPACE"," ",646],["T_NEW","new",646],["T_WHITESPACE"," ",646],["T_STRING","FormattableMarkup",646],"(",["T_CONSTANT_ENCAPSED_STRING","\"@context display '@id' do not depend on @type '@key'.\"",646],",",["T_WHITESPACE"," ",646],["T_VARIABLE","$args",646],")",";",["T_WHITESPACE","\n    ",646],["T_RETURN","return",647],["T_WHITESPACE"," ",647],["T_VARIABLE","$this",647],["T_OBJECT_OPERATOR","->",647],["T_STRING","assert",647],"(",["T_VARIABLE","$value",647],",",["T_WHITESPACE"," ",647],["T_VARIABLE","$message",647],")",";",["T_WHITESPACE","\n  ",647],"}",["T_WHITESPACE","\n\n",648],"}",["T_WHITESPACE","\n",650]]