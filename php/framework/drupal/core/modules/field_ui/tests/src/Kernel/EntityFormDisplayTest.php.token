[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","field_ui",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","EntityFormDisplay",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","EntityFormMode",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","field",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FieldConfig",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","field",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","FieldStorageConfig",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","KernelTests",9],["T_NS_SEPARATOR","\\",9],["T_STRING","KernelTestBase",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Tests the entity display configuration entities.\n *\n * @group field_ui\n *\/",11],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","EntityFormDisplayTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","KernelTestBase",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * Modules to install.\n   *\n   * @var string[]\n   *\/",18],["T_WHITESPACE","\n  ",22],["T_PUBLIC","public",23],["T_WHITESPACE"," ",23],["T_STATIC","static",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$modules",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],"[",["T_CONSTANT_ENCAPSED_STRING","'field_ui'",23],",",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'field'",23],",",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",23],",",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'field_test'",23],",",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'user'",23],",",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'text'",23],"]",";",["T_WHITESPACE","\n\n  ",23],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_FUNCTION","function",25],["T_WHITESPACE"," ",25],["T_STRING","setUp",25],"(",")",["T_WHITESPACE"," ",25],"{",["T_WHITESPACE","\n    ",25],["T_STRING","parent",26],["T_DOUBLE_COLON","::",26],["T_STRING","setUp",26],"(",")",";",["T_WHITESPACE","\n  ",26],"}",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * Tests entity_get_form_display().\n   *\/",29],["T_WHITESPACE","\n  ",31],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","testEntityGetFromDisplay",32],"(",")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n    ",32],["T_COMMENT","\/\/ Check that entity_get_form_display() returns a fresh object when no\n",33],["T_WHITESPACE","    ",34],["T_COMMENT","\/\/ configuration entry exists.\n",34],["T_WHITESPACE","    ",35],["T_VARIABLE","$form_display",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_STRING","entity_get_form_display",35],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'default'",35],")",";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","assertTrue",36],"(",["T_VARIABLE","$form_display",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","isNew",36],"(",")",")",";",["T_WHITESPACE","\n\n    ",36],["T_COMMENT","\/\/ Add some components and save the display.\n",38],["T_WHITESPACE","    ",39],["T_VARIABLE","$form_display",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","setComponent",39],"(",["T_CONSTANT_ENCAPSED_STRING","'component_1'",39],",",["T_WHITESPACE"," ",39],["T_ARRAY","array",39],"(",["T_CONSTANT_ENCAPSED_STRING","'weight'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_LNUMBER","10",39],")",")",["T_WHITESPACE","\n      ",39],["T_OBJECT_OPERATOR","->",40],["T_STRING","save",40],"(",")",";",["T_WHITESPACE","\n\n    ",40],["T_COMMENT","\/\/ Check that entity_get_form_display() returns the correct object.\n",42],["T_WHITESPACE","    ",43],["T_VARIABLE","$form_display",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_STRING","entity_get_form_display",43],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",43],",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",43],",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'default'",43],")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","assertFalse",44],"(",["T_VARIABLE","$form_display",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","isNew",44],"(",")",")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","assertEqual",45],"(",["T_VARIABLE","$form_display",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","id",45],"(",")",",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'entity_test.entity_test.default'",45],")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","assertEqual",46],"(",["T_VARIABLE","$form_display",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getComponent",46],"(",["T_CONSTANT_ENCAPSED_STRING","'component_1'",46],")",",",["T_WHITESPACE"," ",46],["T_ARRAY","array",46],"(",["T_CONSTANT_ENCAPSED_STRING","'weight'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_LNUMBER","10",46],",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'settings'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_ARRAY","array",46],"(",")",",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'third_party_settings'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_ARRAY","array",46],"(",")",")",")",";",["T_WHITESPACE","\n  ",46],"}",["T_WHITESPACE","\n\n  ",47],["T_DOC_COMMENT","\/**\n   * Tests the behavior of a field component within an EntityFormDisplay object.\n   *\/",49],["T_WHITESPACE","\n  ",51],["T_PUBLIC","public",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","testFieldComponent",52],"(",")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n    ",52],["T_COMMENT","\/\/ Create a field storage and a field.\n",53],["T_WHITESPACE","    ",54],["T_VARIABLE","$field_name",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'test_field'",54],";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$field_storage",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_STRING","FieldStorageConfig",55],["T_DOUBLE_COLON","::",55],["T_STRING","create",55],"(",["T_ARRAY","array",55],"(",["T_WHITESPACE","\n      ",55],["T_CONSTANT_ENCAPSED_STRING","'field_name'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$field_name",56],",",["T_WHITESPACE","\n      ",56],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",57],",",["T_WHITESPACE","\n      ",57],["T_CONSTANT_ENCAPSED_STRING","'type'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'test_field'",58],["T_WHITESPACE","\n    ",58],")",")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$field_storage",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","save",60],"(",")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$field",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","FieldConfig",61],["T_DOUBLE_COLON","::",61],["T_STRING","create",61],"(",["T_ARRAY","array",61],"(",["T_WHITESPACE","\n      ",61],["T_CONSTANT_ENCAPSED_STRING","'field_storage'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$field_storage",62],",",["T_WHITESPACE","\n      ",62],["T_CONSTANT_ENCAPSED_STRING","'bundle'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",63],",",["T_WHITESPACE","\n    ",63],")",")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$field",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","save",65],"(",")",";",["T_WHITESPACE","\n\n    ",65],["T_VARIABLE","$form_display",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","EntityFormDisplay",67],["T_DOUBLE_COLON","::",67],["T_STRING","create",67],"(",["T_ARRAY","array",67],"(",["T_WHITESPACE","\n      ",67],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",68],",",["T_WHITESPACE","\n      ",68],["T_CONSTANT_ENCAPSED_STRING","'bundle'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",69],",",["T_WHITESPACE","\n      ",69],["T_CONSTANT_ENCAPSED_STRING","'mode'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'default'",70],",",["T_WHITESPACE","\n    ",70],")",")",";",["T_WHITESPACE","\n\n    ",71],["T_COMMENT","\/\/ Check that providing no options results in default values being used.\n",73],["T_WHITESPACE","    ",74],["T_VARIABLE","$form_display",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","setComponent",74],"(",["T_VARIABLE","$field_name",74],")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$field_type_info",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_NS_SEPARATOR","\\",75],["T_STRING","Drupal",75],["T_DOUBLE_COLON","::",75],["T_STRING","service",75],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.field.field_type'",75],")",["T_OBJECT_OPERATOR","->",75],["T_STRING","getDefinition",75],"(",["T_VARIABLE","$field_storage",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getType",75],"(",")",")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$default_widget",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$field_type_info",76],"[",["T_CONSTANT_ENCAPSED_STRING","'default_widget'",76],"]",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$widget_settings",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Drupal",77],["T_DOUBLE_COLON","::",77],["T_STRING","service",77],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.field.widget'",77],")",["T_OBJECT_OPERATOR","->",77],["T_STRING","getDefaultSettings",77],"(",["T_VARIABLE","$default_widget",77],")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$expected",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_ARRAY","array",78],"(",["T_WHITESPACE","\n      ",78],["T_CONSTANT_ENCAPSED_STRING","'weight'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_LNUMBER","3",79],",",["T_WHITESPACE","\n      ",79],["T_CONSTANT_ENCAPSED_STRING","'type'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$default_widget",80],",",["T_WHITESPACE","\n      ",80],["T_CONSTANT_ENCAPSED_STRING","'settings'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$widget_settings",81],",",["T_WHITESPACE","\n      ",81],["T_CONSTANT_ENCAPSED_STRING","'third_party_settings'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_ARRAY","array",82],"(",")",",",["T_WHITESPACE","\n    ",82],")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertEqual",84],"(",["T_VARIABLE","$form_display",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getComponent",84],"(",["T_VARIABLE","$field_name",84],")",",",["T_WHITESPACE"," ",84],["T_VARIABLE","$expected",84],")",";",["T_WHITESPACE","\n\n    ",84],["T_COMMENT","\/\/ Check that the getWidget() method returns the correct widget plugin.\n",86],["T_WHITESPACE","    ",87],["T_VARIABLE","$widget",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$form_display",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getRenderer",87],"(",["T_VARIABLE","$field_name",87],")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","assertEqual",88],"(",["T_VARIABLE","$widget",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getPluginId",88],"(",")",",",["T_WHITESPACE"," ",88],["T_VARIABLE","$default_widget",88],")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertEqual",89],"(",["T_VARIABLE","$widget",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getSettings",89],"(",")",",",["T_WHITESPACE"," ",89],["T_VARIABLE","$widget_settings",89],")",";",["T_WHITESPACE","\n\n    ",89],["T_COMMENT","\/\/ Check that the widget is statically persisted, by assigning an\n",91],["T_WHITESPACE","    ",92],["T_COMMENT","\/\/ arbitrary property and reading it back.\n",92],["T_WHITESPACE","    ",93],["T_VARIABLE","$random_value",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","randomString",93],"(",")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$widget",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","randomValue",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$random_value",94],";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$widget",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$form_display",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getRenderer",95],"(",["T_VARIABLE","$field_name",95],")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","assertEqual",96],"(",["T_VARIABLE","$widget",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","randomValue",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$random_value",96],")",";",["T_WHITESPACE","\n\n    ",96],["T_COMMENT","\/\/ Check that changing the definition creates a new widget.\n",98],["T_WHITESPACE","    ",99],["T_VARIABLE","$form_display",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","setComponent",99],"(",["T_VARIABLE","$field_name",99],",",["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",["T_WHITESPACE","\n      ",99],["T_CONSTANT_ENCAPSED_STRING","'type'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'field_test_multiple'",100],",",["T_WHITESPACE","\n    ",100],")",")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$widget",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$form_display",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getRenderer",102],"(",["T_VARIABLE","$field_name",102],")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","assertEqual",103],"(",["T_VARIABLE","$widget",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getPluginId",103],"(",")",",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'test_field_widget'",103],")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","assertFalse",104],"(",["T_ISSET","isset",104],"(",["T_VARIABLE","$widget",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","randomValue",104],")",")",";",["T_WHITESPACE","\n\n    ",104],["T_COMMENT","\/\/ Check that specifying an unknown widget (e.g. case of a disabled module)\n",106],["T_WHITESPACE","    ",107],["T_COMMENT","\/\/ gets stored as is in the display, but results in the default widget being\n",107],["T_WHITESPACE","    ",108],["T_COMMENT","\/\/ used.\n",108],["T_WHITESPACE","    ",109],["T_VARIABLE","$form_display",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","setComponent",109],"(",["T_VARIABLE","$field_name",109],",",["T_WHITESPACE"," ",109],["T_ARRAY","array",109],"(",["T_WHITESPACE","\n      ",109],["T_CONSTANT_ENCAPSED_STRING","'type'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'unknown_widget'",110],",",["T_WHITESPACE","\n    ",110],")",")",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$options",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$form_display",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getComponent",112],"(",["T_VARIABLE","$field_name",112],")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","assertEqual",113],"(",["T_VARIABLE","$options",113],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",113],"]",",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'unknown_widget'",113],")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$widget",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$form_display",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getRenderer",114],"(",["T_VARIABLE","$field_name",114],")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","assertEqual",115],"(",["T_VARIABLE","$widget",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getPluginId",115],"(",")",",",["T_WHITESPACE"," ",115],["T_VARIABLE","$default_widget",115],")",";",["T_WHITESPACE","\n  ",115],"}",["T_WHITESPACE","\n\n  ",116],["T_DOC_COMMENT","\/**\n   * Tests the behavior of a field component for a base field.\n   *\/",118],["T_WHITESPACE","\n  ",120],["T_PUBLIC","public",121],["T_WHITESPACE"," ",121],["T_FUNCTION","function",121],["T_WHITESPACE"," ",121],["T_STRING","testBaseFieldComponent",121],"(",")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$display",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_STRING","EntityFormDisplay",122],["T_DOUBLE_COLON","::",122],["T_STRING","create",122],"(",["T_ARRAY","array",122],"(",["T_WHITESPACE","\n      ",122],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'entity_test_base_field_display'",123],",",["T_WHITESPACE","\n      ",123],["T_CONSTANT_ENCAPSED_STRING","'bundle'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'entity_test_base_field_display'",124],",",["T_WHITESPACE","\n      ",124],["T_CONSTANT_ENCAPSED_STRING","'mode'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'default'",125],",",["T_WHITESPACE","\n    ",125],")",")",";",["T_WHITESPACE","\n\n    ",126],["T_COMMENT","\/\/ Check that default options are correctly filled in.\n",128],["T_WHITESPACE","    ",129],["T_VARIABLE","$formatter_settings",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Drupal",129],["T_DOUBLE_COLON","::",129],["T_STRING","service",129],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.field.widget'",129],")",["T_OBJECT_OPERATOR","->",129],["T_STRING","getDefaultSettings",129],"(",["T_CONSTANT_ENCAPSED_STRING","'text_textfield'",129],")",";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$expected",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_ARRAY","array",130],"(",["T_WHITESPACE","\n      ",130],["T_CONSTANT_ENCAPSED_STRING","'test_no_display'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_STRING","NULL",131],",",["T_WHITESPACE","\n      ",131],["T_CONSTANT_ENCAPSED_STRING","'test_display_configurable'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_ARRAY","array",132],"(",["T_WHITESPACE","\n        ",132],["T_CONSTANT_ENCAPSED_STRING","'type'",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'text_textfield'",133],",",["T_WHITESPACE","\n        ",133],["T_CONSTANT_ENCAPSED_STRING","'settings'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$formatter_settings",134],",",["T_WHITESPACE","\n        ",134],["T_CONSTANT_ENCAPSED_STRING","'third_party_settings'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_ARRAY","array",135],"(",")",",",["T_WHITESPACE","\n        ",135],["T_CONSTANT_ENCAPSED_STRING","'weight'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_LNUMBER","10",136],",",["T_WHITESPACE","\n      ",136],")",",",["T_WHITESPACE","\n      ",137],["T_CONSTANT_ENCAPSED_STRING","'test_display_non_configurable'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_ARRAY","array",138],"(",["T_WHITESPACE","\n        ",138],["T_CONSTANT_ENCAPSED_STRING","'type'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'text_textfield'",139],",",["T_WHITESPACE","\n        ",139],["T_CONSTANT_ENCAPSED_STRING","'settings'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$formatter_settings",140],",",["T_WHITESPACE","\n        ",140],["T_CONSTANT_ENCAPSED_STRING","'third_party_settings'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_ARRAY","array",141],"(",")",",",["T_WHITESPACE","\n        ",141],["T_CONSTANT_ENCAPSED_STRING","'weight'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_LNUMBER","11",142],",",["T_WHITESPACE","\n      ",142],")",",",["T_WHITESPACE","\n    ",143],")",";",["T_WHITESPACE","\n    ",144],["T_FOREACH","foreach",145],["T_WHITESPACE"," ",145],"(",["T_VARIABLE","$expected",145],["T_WHITESPACE"," ",145],["T_AS","as",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$field_name",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$options",145],")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n      ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","assertEqual",146],"(",["T_VARIABLE","$display",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getComponent",146],"(",["T_VARIABLE","$field_name",146],")",",",["T_WHITESPACE"," ",146],["T_VARIABLE","$options",146],")",";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n\n    ",147],["T_COMMENT","\/\/ Check that saving the display only writes data for fields whose display\n",149],["T_WHITESPACE","    ",150],["T_COMMENT","\/\/ is configurable.\n",150],["T_WHITESPACE","    ",151],["T_VARIABLE","$display",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","save",151],"(",")",";",["T_WHITESPACE","\n    ",151],["T_VARIABLE","$config",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","config",152],"(",["T_CONSTANT_ENCAPSED_STRING","'core.entity_form_display.'",152],["T_WHITESPACE"," ",152],".",["T_WHITESPACE"," ",152],["T_VARIABLE","$display",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","id",152],"(",")",")",";",["T_WHITESPACE","\n    ",152],["T_VARIABLE","$data",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$config",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","get",153],"(",")",";",["T_WHITESPACE","\n    ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","assertFalse",154],"(",["T_ISSET","isset",154],"(",["T_VARIABLE","$data",154],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",154],"]","[",["T_CONSTANT_ENCAPSED_STRING","'test_no_display'",154],"]",")",")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","assertFalse",155],"(",["T_ISSET","isset",155],"(",["T_VARIABLE","$data",155],"[",["T_CONSTANT_ENCAPSED_STRING","'hidden'",155],"]","[",["T_CONSTANT_ENCAPSED_STRING","'test_no_display'",155],"]",")",")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","assertEqual",156],"(",["T_VARIABLE","$data",156],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",156],"]","[",["T_CONSTANT_ENCAPSED_STRING","'test_display_configurable'",156],"]",",",["T_WHITESPACE"," ",156],["T_VARIABLE","$expected",156],"[",["T_CONSTANT_ENCAPSED_STRING","'test_display_configurable'",156],"]",")",";",["T_WHITESPACE","\n    ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","assertFalse",157],"(",["T_ISSET","isset",157],"(",["T_VARIABLE","$data",157],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",157],"]","[",["T_CONSTANT_ENCAPSED_STRING","'test_display_non_configurable'",157],"]",")",")",";",["T_WHITESPACE","\n    ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","assertFalse",158],"(",["T_ISSET","isset",158],"(",["T_VARIABLE","$data",158],"[",["T_CONSTANT_ENCAPSED_STRING","'hidden'",158],"]","[",["T_CONSTANT_ENCAPSED_STRING","'test_display_non_configurable'",158],"]",")",")",";",["T_WHITESPACE","\n\n    ",158],["T_COMMENT","\/\/ Check that defaults are correctly filled when loading the display.\n",160],["T_WHITESPACE","    ",161],["T_VARIABLE","$display",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_STRING","EntityFormDisplay",161],["T_DOUBLE_COLON","::",161],["T_STRING","load",161],"(",["T_VARIABLE","$display",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","id",161],"(",")",")",";",["T_WHITESPACE","\n    ",161],["T_FOREACH","foreach",162],["T_WHITESPACE"," ",162],"(",["T_VARIABLE","$expected",162],["T_WHITESPACE"," ",162],["T_AS","as",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$field_name",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$options",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n      ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","assertEqual",163],"(",["T_VARIABLE","$display",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getComponent",163],"(",["T_VARIABLE","$field_name",163],")",",",["T_WHITESPACE"," ",163],["T_VARIABLE","$options",163],")",";",["T_WHITESPACE","\n    ",163],"}",["T_WHITESPACE","\n\n    ",164],["T_COMMENT","\/\/ Check that data manually written for fields whose display is not\n",166],["T_WHITESPACE","    ",167],["T_COMMENT","\/\/ configurable is discarded when loading the display.\n",167],["T_WHITESPACE","    ",168],["T_VARIABLE","$data",168],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",168],"]","[",["T_CONSTANT_ENCAPSED_STRING","'test_display_non_configurable'",168],"]",["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$expected",168],"[",["T_CONSTANT_ENCAPSED_STRING","'test_display_non_configurable'",168],"]",";",["T_WHITESPACE","\n    ",168],["T_VARIABLE","$data",169],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",169],"]","[",["T_CONSTANT_ENCAPSED_STRING","'test_display_non_configurable'",169],"]","[",["T_CONSTANT_ENCAPSED_STRING","'weight'",169],"]",["T_INC","++",169],";",["T_WHITESPACE","\n    ",169],["T_VARIABLE","$config",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","setData",170],"(",["T_VARIABLE","$data",170],")",["T_OBJECT_OPERATOR","->",170],["T_STRING","save",170],"(",")",";",["T_WHITESPACE","\n    ",170],["T_VARIABLE","$display",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_STRING","EntityFormDisplay",171],["T_DOUBLE_COLON","::",171],["T_STRING","load",171],"(",["T_VARIABLE","$display",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","id",171],"(",")",")",";",["T_WHITESPACE","\n    ",171],["T_FOREACH","foreach",172],["T_WHITESPACE"," ",172],"(",["T_VARIABLE","$expected",172],["T_WHITESPACE"," ",172],["T_AS","as",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$field_name",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$options",172],")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n      ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","assertEqual",173],"(",["T_VARIABLE","$display",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getComponent",173],"(",["T_VARIABLE","$field_name",173],")",",",["T_WHITESPACE"," ",173],["T_VARIABLE","$options",173],")",";",["T_WHITESPACE","\n    ",173],"}",["T_WHITESPACE","\n  ",174],"}",["T_WHITESPACE","\n\n  ",175],["T_DOC_COMMENT","\/**\n   * Tests deleting field.\n   *\/",177],["T_WHITESPACE","\n  ",179],["T_PUBLIC","public",180],["T_WHITESPACE"," ",180],["T_FUNCTION","function",180],["T_WHITESPACE"," ",180],["T_STRING","testDeleteField",180],"(",")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n    ",180],["T_VARIABLE","$field_name",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'test_field'",181],";",["T_WHITESPACE","\n    ",181],["T_COMMENT","\/\/ Create a field storage and a field.\n",182],["T_WHITESPACE","    ",183],["T_VARIABLE","$field_storage",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_STRING","FieldStorageConfig",183],["T_DOUBLE_COLON","::",183],["T_STRING","create",183],"(",["T_ARRAY","array",183],"(",["T_WHITESPACE","\n      ",183],["T_CONSTANT_ENCAPSED_STRING","'field_name'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$field_name",184],",",["T_WHITESPACE","\n      ",184],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",185],",",["T_WHITESPACE","\n      ",185],["T_CONSTANT_ENCAPSED_STRING","'type'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'test_field'",186],["T_WHITESPACE","\n    ",186],")",")",";",["T_WHITESPACE","\n    ",187],["T_VARIABLE","$field_storage",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","save",188],"(",")",";",["T_WHITESPACE","\n    ",188],["T_VARIABLE","$field",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_STRING","FieldConfig",189],["T_DOUBLE_COLON","::",189],["T_STRING","create",189],"(",["T_ARRAY","array",189],"(",["T_WHITESPACE","\n      ",189],["T_CONSTANT_ENCAPSED_STRING","'field_storage'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$field_storage",190],",",["T_WHITESPACE","\n      ",190],["T_CONSTANT_ENCAPSED_STRING","'bundle'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",191],",",["T_WHITESPACE","\n    ",191],")",")",";",["T_WHITESPACE","\n    ",192],["T_VARIABLE","$field",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","save",193],"(",")",";",["T_WHITESPACE","\n\n    ",193],["T_COMMENT","\/\/ Create default and compact entity display.\n",195],["T_WHITESPACE","    ",196],["T_STRING","EntityFormMode",196],["T_DOUBLE_COLON","::",196],["T_STRING","create",196],"(",["T_ARRAY","array",196],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'entity_test.compact'",196],",",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",196],")",")",["T_OBJECT_OPERATOR","->",196],["T_STRING","save",196],"(",")",";",["T_WHITESPACE","\n    ",196],["T_STRING","EntityFormDisplay",197],["T_DOUBLE_COLON","::",197],["T_STRING","create",197],"(",["T_ARRAY","array",197],"(",["T_WHITESPACE","\n      ",197],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",198],["T_WHITESPACE"," ",198],["T_DOUBLE_ARROW","=>",198],["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",198],",",["T_WHITESPACE","\n      ",198],["T_CONSTANT_ENCAPSED_STRING","'bundle'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",199],",",["T_WHITESPACE","\n      ",199],["T_CONSTANT_ENCAPSED_STRING","'mode'",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'default'",200],",",["T_WHITESPACE","\n    ",200],")",")",["T_OBJECT_OPERATOR","->",201],["T_STRING","setComponent",201],"(",["T_VARIABLE","$field_name",201],")",["T_OBJECT_OPERATOR","->",201],["T_STRING","save",201],"(",")",";",["T_WHITESPACE","\n    ",201],["T_STRING","EntityFormDisplay",202],["T_DOUBLE_COLON","::",202],["T_STRING","create",202],"(",["T_ARRAY","array",202],"(",["T_WHITESPACE","\n      ",202],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",203],["T_WHITESPACE"," ",203],["T_DOUBLE_ARROW","=>",203],["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",203],",",["T_WHITESPACE","\n      ",203],["T_CONSTANT_ENCAPSED_STRING","'bundle'",204],["T_WHITESPACE"," ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",204],",",["T_WHITESPACE","\n      ",204],["T_CONSTANT_ENCAPSED_STRING","'mode'",205],["T_WHITESPACE"," ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_CONSTANT_ENCAPSED_STRING","'compact'",205],",",["T_WHITESPACE","\n    ",205],")",")",["T_OBJECT_OPERATOR","->",206],["T_STRING","setComponent",206],"(",["T_VARIABLE","$field_name",206],")",["T_OBJECT_OPERATOR","->",206],["T_STRING","save",206],"(",")",";",["T_WHITESPACE","\n\n    ",206],["T_COMMENT","\/\/ Check the component exists.\n",208],["T_WHITESPACE","    ",209],["T_VARIABLE","$display",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_STRING","entity_get_form_display",209],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",209],",",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",209],",",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'default'",209],")",";",["T_WHITESPACE","\n    ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","assertTrue",210],"(",["T_VARIABLE","$display",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getComponent",210],"(",["T_VARIABLE","$field_name",210],")",")",";",["T_WHITESPACE","\n    ",210],["T_VARIABLE","$display",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_STRING","entity_get_form_display",211],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",211],",",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",211],",",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'compact'",211],")",";",["T_WHITESPACE","\n    ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","assertTrue",212],"(",["T_VARIABLE","$display",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getComponent",212],"(",["T_VARIABLE","$field_name",212],")",")",";",["T_WHITESPACE","\n\n    ",212],["T_COMMENT","\/\/ Delete the field.\n",214],["T_WHITESPACE","    ",215],["T_VARIABLE","$field",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","delete",215],"(",")",";",["T_WHITESPACE","\n\n    ",215],["T_COMMENT","\/\/ Check that the component has been removed from the entity displays.\n",217],["T_WHITESPACE","    ",218],["T_VARIABLE","$display",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_STRING","entity_get_form_display",218],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",218],",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",218],",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'default'",218],")",";",["T_WHITESPACE","\n    ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","assertFalse",219],"(",["T_VARIABLE","$display",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getComponent",219],"(",["T_VARIABLE","$field_name",219],")",")",";",["T_WHITESPACE","\n    ",219],["T_VARIABLE","$display",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_STRING","entity_get_form_display",220],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",220],",",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",220],",",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'compact'",220],")",";",["T_WHITESPACE","\n    ",220],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","assertFalse",221],"(",["T_VARIABLE","$display",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getComponent",221],"(",["T_VARIABLE","$field_name",221],")",")",";",["T_WHITESPACE","\n  ",221],"}",["T_WHITESPACE","\n\n  ",222],["T_DOC_COMMENT","\/**\n   * Tests \\Drupal\\Core\\Entity\\EntityDisplayBase::onDependencyRemoval().\n   *\/",224],["T_WHITESPACE","\n  ",226],["T_PUBLIC","public",227],["T_WHITESPACE"," ",227],["T_FUNCTION","function",227],["T_WHITESPACE"," ",227],["T_STRING","testOnDependencyRemoval",227],"(",")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n    ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","enableModules",228],"(",["T_ARRAY","array",228],"(",["T_CONSTANT_ENCAPSED_STRING","'field_plugins_test'",228],")",")",";",["T_WHITESPACE","\n\n    ",228],["T_VARIABLE","$field_name",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","'test_field'",230],";",["T_WHITESPACE","\n    ",230],["T_COMMENT","\/\/ Create a field.\n",231],["T_WHITESPACE","    ",232],["T_VARIABLE","$field_storage",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_STRING","FieldStorageConfig",232],["T_DOUBLE_COLON","::",232],["T_STRING","create",232],"(",["T_ARRAY","array",232],"(",["T_WHITESPACE","\n      ",232],["T_CONSTANT_ENCAPSED_STRING","'field_name'",233],["T_WHITESPACE"," ",233],["T_DOUBLE_ARROW","=>",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$field_name",233],",",["T_WHITESPACE","\n      ",233],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",234],["T_WHITESPACE"," ",234],["T_DOUBLE_ARROW","=>",234],["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",234],",",["T_WHITESPACE","\n      ",234],["T_CONSTANT_ENCAPSED_STRING","'type'",235],["T_WHITESPACE"," ",235],["T_DOUBLE_ARROW","=>",235],["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'text'",235],["T_WHITESPACE","\n    ",235],")",")",";",["T_WHITESPACE","\n    ",236],["T_VARIABLE","$field_storage",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","save",237],"(",")",";",["T_WHITESPACE","\n    ",237],["T_VARIABLE","$field",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_STRING","FieldConfig",238],["T_DOUBLE_COLON","::",238],["T_STRING","create",238],"(",["T_ARRAY","array",238],"(",["T_WHITESPACE","\n      ",238],["T_CONSTANT_ENCAPSED_STRING","'field_storage'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$field_storage",239],",",["T_WHITESPACE","\n      ",239],["T_CONSTANT_ENCAPSED_STRING","'bundle'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",240],",",["T_WHITESPACE","\n    ",240],")",")",";",["T_WHITESPACE","\n    ",241],["T_VARIABLE","$field",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","save",242],"(",")",";",["T_WHITESPACE","\n\n    ",242],["T_STRING","EntityFormDisplay",244],["T_DOUBLE_COLON","::",244],["T_STRING","create",244],"(",["T_ARRAY","array",244],"(",["T_WHITESPACE","\n      ",244],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",245],["T_WHITESPACE"," ",245],["T_DOUBLE_ARROW","=>",245],["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",245],",",["T_WHITESPACE","\n      ",245],["T_CONSTANT_ENCAPSED_STRING","'bundle'",246],["T_WHITESPACE"," ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",246],",",["T_WHITESPACE","\n      ",246],["T_CONSTANT_ENCAPSED_STRING","'mode'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","'default'",247],",",["T_WHITESPACE","\n    ",247],")",")",["T_OBJECT_OPERATOR","->",248],["T_STRING","setComponent",248],"(",["T_VARIABLE","$field_name",248],",",["T_WHITESPACE"," ",248],["T_ARRAY","array",248],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'field_plugins_test_text_widget'",248],")",")",["T_OBJECT_OPERATOR","->",248],["T_STRING","save",248],"(",")",";",["T_WHITESPACE","\n\n    ",248],["T_COMMENT","\/\/ Check the component exists and is of the correct type.\n",250],["T_WHITESPACE","    ",251],["T_VARIABLE","$display",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_STRING","entity_get_form_display",251],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",251],",",["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",251],",",["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","'default'",251],")",";",["T_WHITESPACE","\n    ",251],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","assertEqual",252],"(",["T_VARIABLE","$display",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","getComponent",252],"(",["T_VARIABLE","$field_name",252],")","[",["T_CONSTANT_ENCAPSED_STRING","'type'",252],"]",",",["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'field_plugins_test_text_widget'",252],")",";",["T_WHITESPACE","\n\n    ",252],["T_COMMENT","\/\/ Removing the field_plugins_test module should change the component to use\n",254],["T_WHITESPACE","    ",255],["T_COMMENT","\/\/ the default widget for test fields.\n",255],["T_WHITESPACE","    ",256],["T_NS_SEPARATOR","\\",256],["T_STRING","Drupal",256],["T_DOUBLE_COLON","::",256],["T_STRING","service",256],"(",["T_CONSTANT_ENCAPSED_STRING","'config.manager'",256],")",["T_OBJECT_OPERATOR","->",256],["T_STRING","uninstall",256],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",256],",",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'field_plugins_test'",256],")",";",["T_WHITESPACE","\n    ",256],["T_VARIABLE","$display",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_STRING","entity_get_form_display",257],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",257],",",["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",257],",",["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'default'",257],")",";",["T_WHITESPACE","\n    ",257],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","assertEqual",258],"(",["T_VARIABLE","$display",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getComponent",258],"(",["T_VARIABLE","$field_name",258],")","[",["T_CONSTANT_ENCAPSED_STRING","'type'",258],"]",",",["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","'text_textfield'",258],")",";",["T_WHITESPACE","\n\n    ",258],["T_COMMENT","\/\/ Removing the text module should remove the field from the form display.\n",260],["T_WHITESPACE","    ",261],["T_NS_SEPARATOR","\\",261],["T_STRING","Drupal",261],["T_DOUBLE_COLON","::",261],["T_STRING","service",261],"(",["T_CONSTANT_ENCAPSED_STRING","'config.manager'",261],")",["T_OBJECT_OPERATOR","->",261],["T_STRING","uninstall",261],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",261],",",["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","'text'",261],")",";",["T_WHITESPACE","\n    ",261],["T_VARIABLE","$display",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_STRING","entity_get_form_display",262],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",262],",",["T_WHITESPACE"," ",262],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",262],",",["T_WHITESPACE"," ",262],["T_CONSTANT_ENCAPSED_STRING","'default'",262],")",";",["T_WHITESPACE","\n    ",262],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","assertFalse",263],"(",["T_VARIABLE","$display",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","getComponent",263],"(",["T_VARIABLE","$field_name",263],")",")",";",["T_WHITESPACE","\n  ",263],"}",["T_WHITESPACE","\n\n",264],"}",["T_WHITESPACE","\n",266]]