[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","config",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Config",5],["T_NS_SEPARATOR","\\",5],["T_STRING","PreExistingConfigException",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Config",6],["T_NS_SEPARATOR","\\",6],["T_STRING","StorageInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","language",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","ConfigurableLanguage",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","simpletest",8],["T_NS_SEPARATOR","\\",8],["T_STRING","WebTestBase",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Tests installation and removal of configuration objects in install, disable\n * and uninstall functionality.\n *\n * @group config\n *\/",10],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","ConfigInstallWebTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","WebTestBase",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * The admin user used in this test.\n   *\/",18],["T_WHITESPACE","\n  ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$adminUser",21],";",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",23],["T_WHITESPACE","\n  ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","setUp",26],"(",")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n    ",26],["T_STRING","parent",27],["T_DOUBLE_COLON","::",27],["T_STRING","setUp",27],"(",")",";",["T_WHITESPACE","\n\n    ",27],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","adminUser",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","drupalCreateUser",29],"(",["T_ARRAY","array",29],"(",["T_CONSTANT_ENCAPSED_STRING","'administer modules'",29],",",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'administer themes'",29],",",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'administer site configuration'",29],")",")",";",["T_WHITESPACE","\n\n    ",29],["T_COMMENT","\/\/ Ensure the global variable being asserted by this test does not exist;\n",31],["T_WHITESPACE","    ",32],["T_COMMENT","\/\/ a previous test executed in this request\/process might have set it.\n",32],["T_WHITESPACE","    ",33],["T_UNSET","unset",33],"(",["T_VARIABLE","$GLOBALS",33],"[",["T_CONSTANT_ENCAPSED_STRING","'hook_config_test'",33],"]",")",";",["T_WHITESPACE","\n  ",33],"}",["T_WHITESPACE","\n\n  ",34],["T_DOC_COMMENT","\/**\n   * Tests module re-installation.\n   *\/",36],["T_WHITESPACE","\n  ",38],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","testIntegrationModuleReinstallation",39],"(",")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$default_config",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'config_integration_test.settings'",40],";",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$default_configuration_entity",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'config_test.dynamic.config_integration_test'",41],";",["T_WHITESPACE","\n\n    ",41],["T_COMMENT","\/\/ Install the config_test module we're integrating with.\n",43],["T_WHITESPACE","    ",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Drupal",44],["T_DOUBLE_COLON","::",44],["T_STRING","service",44],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",44],")",["T_OBJECT_OPERATOR","->",44],["T_STRING","install",44],"(",["T_ARRAY","array",44],"(",["T_CONSTANT_ENCAPSED_STRING","'config_test'",44],")",")",";",["T_WHITESPACE","\n\n    ",44],["T_COMMENT","\/\/ Verify the configuration does not exist prior to installation.\n",46],["T_WHITESPACE","    ",47],["T_VARIABLE","$config_static",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","config",47],"(",["T_VARIABLE","$default_config",47],")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","assertIdentical",48],"(",["T_VARIABLE","$config_static",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","isNew",48],"(",")",",",["T_WHITESPACE"," ",48],["T_STRING","TRUE",48],")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$config_entity",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","config",49],"(",["T_VARIABLE","$default_configuration_entity",49],")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","assertIdentical",50],"(",["T_VARIABLE","$config_entity",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","isNew",50],"(",")",",",["T_WHITESPACE"," ",50],["T_STRING","TRUE",50],")",";",["T_WHITESPACE","\n\n    ",50],["T_COMMENT","\/\/ Install the integration module.\n",52],["T_WHITESPACE","    ",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Drupal",53],["T_DOUBLE_COLON","::",53],["T_STRING","service",53],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",53],")",["T_OBJECT_OPERATOR","->",53],["T_STRING","install",53],"(",["T_ARRAY","array",53],"(",["T_CONSTANT_ENCAPSED_STRING","'config_integration_test'",53],")",")",";",["T_WHITESPACE","\n\n    ",53],["T_COMMENT","\/\/ Verify that default module config exists.\n",55],["T_WHITESPACE","    ",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Drupal",56],["T_DOUBLE_COLON","::",56],["T_STRING","configFactory",56],"(",")",["T_OBJECT_OPERATOR","->",56],["T_STRING","reset",56],"(",["T_VARIABLE","$default_config",56],")",";",["T_WHITESPACE","\n    ",56],["T_NS_SEPARATOR","\\",57],["T_STRING","Drupal",57],["T_DOUBLE_COLON","::",57],["T_STRING","configFactory",57],"(",")",["T_OBJECT_OPERATOR","->",57],["T_STRING","reset",57],"(",["T_VARIABLE","$default_configuration_entity",57],")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$config_static",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","config",58],"(",["T_VARIABLE","$default_config",58],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","assertIdentical",59],"(",["T_VARIABLE","$config_static",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","isNew",59],"(",")",",",["T_WHITESPACE"," ",59],["T_STRING","FALSE",59],")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertIdentical",60],"(",["T_VARIABLE","$config_static",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","get",60],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",60],")",",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'default setting'",60],")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$config_entity",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","config",61],"(",["T_VARIABLE","$default_configuration_entity",61],")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertIdentical",62],"(",["T_VARIABLE","$config_entity",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","isNew",62],"(",")",",",["T_WHITESPACE"," ",62],["T_STRING","FALSE",62],")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","assertIdentical",63],"(",["T_VARIABLE","$config_entity",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","get",63],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",63],")",",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'Default integration config label'",63],")",";",["T_WHITESPACE","\n\n    ",63],["T_COMMENT","\/\/ Customize both configuration objects.\n",65],["T_WHITESPACE","    ",66],["T_VARIABLE","$config_static",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","set",66],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",66],",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'customized setting'",66],")",["T_OBJECT_OPERATOR","->",66],["T_STRING","save",66],"(",")",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$config_entity",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","set",67],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'Customized integration config label'",67],")",["T_OBJECT_OPERATOR","->",67],["T_STRING","save",67],"(",")",";",["T_WHITESPACE","\n\n    ",67],["T_COMMENT","\/\/ @todo FIXME: Setting config keys WITHOUT SAVING retains the changed config\n",69],["T_WHITESPACE","    ",70],["T_COMMENT","\/\/   object in memory. Every new call to $this->config() MUST revert in-memory changes\n",70],["T_WHITESPACE","    ",71],["T_COMMENT","\/\/   that haven't been saved!\n",71],["T_WHITESPACE","    ",72],["T_COMMENT","\/\/   In other words: This test passes even without this reset, but it shouldn't.\n",72],["T_WHITESPACE","    ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","container",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","get",73],"(",["T_CONSTANT_ENCAPSED_STRING","'config.factory'",73],")",["T_OBJECT_OPERATOR","->",73],["T_STRING","reset",73],"(",")",";",["T_WHITESPACE","\n\n    ",73],["T_COMMENT","\/\/ Disable and uninstall the integration module.\n",75],["T_WHITESPACE","    ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","container",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","get",76],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",76],")",["T_OBJECT_OPERATOR","->",76],["T_STRING","uninstall",76],"(",["T_ARRAY","array",76],"(",["T_CONSTANT_ENCAPSED_STRING","'config_integration_test'",76],")",")",";",["T_WHITESPACE","\n\n    ",76],["T_COMMENT","\/\/ Verify the integration module's config was uninstalled.\n",78],["T_WHITESPACE","    ",79],["T_VARIABLE","$config_static",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","config",79],"(",["T_VARIABLE","$default_config",79],")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertIdentical",80],"(",["T_VARIABLE","$config_static",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","isNew",80],"(",")",",",["T_WHITESPACE"," ",80],["T_STRING","TRUE",80],")",";",["T_WHITESPACE","\n\n    ",80],["T_COMMENT","\/\/ Verify the integration config still exists.\n",82],["T_WHITESPACE","    ",83],["T_VARIABLE","$config_entity",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","config",83],"(",["T_VARIABLE","$default_configuration_entity",83],")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertIdentical",84],"(",["T_VARIABLE","$config_entity",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","isNew",84],"(",")",",",["T_WHITESPACE"," ",84],["T_STRING","FALSE",84],")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertIdentical",85],"(",["T_VARIABLE","$config_entity",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","get",85],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",85],")",",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'Customized integration config label'",85],")",";",["T_WHITESPACE","\n\n    ",85],["T_COMMENT","\/\/ Reinstall the integration module.\n",87],["T_WHITESPACE","    ",88],["T_TRY","try",88],["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n      ",88],["T_NS_SEPARATOR","\\",89],["T_STRING","Drupal",89],["T_DOUBLE_COLON","::",89],["T_STRING","service",89],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",89],")",["T_OBJECT_OPERATOR","->",89],["T_STRING","install",89],"(",["T_ARRAY","array",89],"(",["T_CONSTANT_ENCAPSED_STRING","'config_integration_test'",89],")",")",";",["T_WHITESPACE","\n      ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","fail",90],"(",["T_CONSTANT_ENCAPSED_STRING","'Expected PreExistingConfigException not thrown.'",90],")",";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n    ",91],["T_CATCH","catch",92],["T_WHITESPACE"," ",92],"(",["T_STRING","PreExistingConfigException",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$e",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n      ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertEqual",93],"(",["T_VARIABLE","$e",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getExtension",93],"(",")",",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'config_integration_test'",93],")",";",["T_WHITESPACE","\n      ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertEqual",94],"(",["T_VARIABLE","$e",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getConfigObjects",94],"(",")",",",["T_WHITESPACE"," ",94],"[",["T_STRING","StorageInterface",94],["T_DOUBLE_COLON","::",94],["T_STRING","DEFAULT_COLLECTION",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],"[",["T_CONSTANT_ENCAPSED_STRING","'config_test.dynamic.config_integration_test'",94],"]","]",")",";",["T_WHITESPACE","\n      ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertEqual",95],"(",["T_VARIABLE","$e",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getMessage",95],"(",")",",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'Configuration objects (config_test.dynamic.config_integration_test) provided by config_integration_test already exist in active configuration'",95],")",";",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n\n    ",96],["T_COMMENT","\/\/ Delete the configuration entity so that the install will work.\n",98],["T_WHITESPACE","    ",99],["T_VARIABLE","$config_entity",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","delete",99],"(",")",";",["T_WHITESPACE","\n    ",99],["T_NS_SEPARATOR","\\",100],["T_STRING","Drupal",100],["T_DOUBLE_COLON","::",100],["T_STRING","service",100],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",100],")",["T_OBJECT_OPERATOR","->",100],["T_STRING","install",100],"(",["T_ARRAY","array",100],"(",["T_CONSTANT_ENCAPSED_STRING","'config_integration_test'",100],")",")",";",["T_WHITESPACE","\n\n    ",100],["T_COMMENT","\/\/ Verify the integration module's config was re-installed.\n",102],["T_WHITESPACE","    ",103],["T_NS_SEPARATOR","\\",103],["T_STRING","Drupal",103],["T_DOUBLE_COLON","::",103],["T_STRING","configFactory",103],"(",")",["T_OBJECT_OPERATOR","->",103],["T_STRING","reset",103],"(",["T_VARIABLE","$default_config",103],")",";",["T_WHITESPACE","\n    ",103],["T_NS_SEPARATOR","\\",104],["T_STRING","Drupal",104],["T_DOUBLE_COLON","::",104],["T_STRING","configFactory",104],"(",")",["T_OBJECT_OPERATOR","->",104],["T_STRING","reset",104],"(",["T_VARIABLE","$default_configuration_entity",104],")",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$config_static",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","config",105],"(",["T_VARIABLE","$default_config",105],")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertIdentical",106],"(",["T_VARIABLE","$config_static",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","isNew",106],"(",")",",",["T_WHITESPACE"," ",106],["T_STRING","FALSE",106],")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertIdentical",107],"(",["T_VARIABLE","$config_static",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","get",107],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",107],")",",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'default setting'",107],")",";",["T_WHITESPACE","\n\n    ",107],["T_COMMENT","\/\/ Verify the integration config is using the default.\n",109],["T_WHITESPACE","    ",110],["T_VARIABLE","$config_entity",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Drupal",110],["T_DOUBLE_COLON","::",110],["T_STRING","config",110],"(",["T_VARIABLE","$default_configuration_entity",110],")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertIdentical",111],"(",["T_VARIABLE","$config_entity",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","isNew",111],"(",")",",",["T_WHITESPACE"," ",111],["T_STRING","FALSE",111],")",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","assertIdentical",112],"(",["T_VARIABLE","$config_entity",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","get",112],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",112],")",",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'Default integration config label'",112],")",";",["T_WHITESPACE","\n  ",112],"}",["T_WHITESPACE","\n\n  ",113],["T_DOC_COMMENT","\/**\n   * Tests pre-existing configuration detection.\n   *\/",115],["T_WHITESPACE","\n  ",117],["T_PUBLIC","public",118],["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","testPreExistingConfigInstall",118],"(",")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","drupalLogin",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","adminUser",119],")",";",["T_WHITESPACE","\n\n    ",119],["T_COMMENT","\/\/ Try to install config_install_fail_test and config_test. Doing this\n",121],["T_WHITESPACE","    ",122],["T_COMMENT","\/\/ will install the config_test module first because it is a dependency of\n",122],["T_WHITESPACE","    ",123],["T_COMMENT","\/\/ config_install_fail_test.\n",123],["T_WHITESPACE","    ",124],["T_COMMENT","\/\/ @see \\Drupal\\system\\Form\\ModulesListForm::submitForm()\n",124],["T_WHITESPACE","    ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","drupalPostForm",125],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/modules'",125],",",["T_WHITESPACE"," ",125],["T_ARRAY","array",125],"(",["T_CONSTANT_ENCAPSED_STRING","'modules[Testing][config_test][enable]'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_STRING","TRUE",125],",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'modules[Testing][config_install_fail_test][enable]'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_STRING","TRUE",125],")",",",["T_WHITESPACE"," ",125],["T_STRING","t",125],"(",["T_CONSTANT_ENCAPSED_STRING","'Install'",125],")",")",";",["T_WHITESPACE","\n    ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","assertRaw",126],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to install Configuration install fail test, <em class=\"placeholder\">config_test.dynamic.dotted.default<\/em> already exists in active configuration.'",126],")",";",["T_WHITESPACE","\n\n    ",126],["T_COMMENT","\/\/ Uninstall the config_test module to test the confirm form.\n",128],["T_WHITESPACE","    ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","drupalPostForm",129],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/modules\/uninstall'",129],",",["T_WHITESPACE"," ",129],["T_ARRAY","array",129],"(",["T_CONSTANT_ENCAPSED_STRING","'uninstall[config_test]'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_STRING","TRUE",129],")",",",["T_WHITESPACE"," ",129],["T_STRING","t",129],"(",["T_CONSTANT_ENCAPSED_STRING","'Uninstall'",129],")",")",";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","drupalPostForm",130],"(",["T_STRING","NULL",130],",",["T_WHITESPACE"," ",130],["T_ARRAY","array",130],"(",")",",",["T_WHITESPACE"," ",130],["T_STRING","t",130],"(",["T_CONSTANT_ENCAPSED_STRING","'Uninstall'",130],")",")",";",["T_WHITESPACE","\n\n    ",130],["T_COMMENT","\/\/ Try to install config_install_fail_test without selecting config_test.\n",132],["T_WHITESPACE","    ",133],["T_COMMENT","\/\/ The user is shown a confirm form because the config_test module is a\n",133],["T_WHITESPACE","    ",134],["T_COMMENT","\/\/ dependency.\n",134],["T_WHITESPACE","    ",135],["T_COMMENT","\/\/ @see \\Drupal\\system\\Form\\ModulesListConfirmForm::submitForm()\n",135],["T_WHITESPACE","    ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","drupalPostForm",136],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/modules'",136],",",["T_WHITESPACE"," ",136],["T_ARRAY","array",136],"(",["T_CONSTANT_ENCAPSED_STRING","'modules[Testing][config_install_fail_test][enable]'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_STRING","TRUE",136],")",",",["T_WHITESPACE"," ",136],["T_STRING","t",136],"(",["T_CONSTANT_ENCAPSED_STRING","'Install'",136],")",")",";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","drupalPostForm",137],"(",["T_STRING","NULL",137],",",["T_WHITESPACE"," ",137],["T_ARRAY","array",137],"(",")",",",["T_WHITESPACE"," ",137],["T_STRING","t",137],"(",["T_CONSTANT_ENCAPSED_STRING","'Continue'",137],")",")",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","assertRaw",138],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to install Configuration install fail test, <em class=\"placeholder\">config_test.dynamic.dotted.default<\/em> already exists in active configuration.'",138],")",";",["T_WHITESPACE","\n\n    ",138],["T_COMMENT","\/\/ Test that collection configuration clashes during a module install are\n",140],["T_WHITESPACE","    ",141],["T_COMMENT","\/\/ reported correctly.\n",141],["T_WHITESPACE","    ",142],["T_NS_SEPARATOR","\\",142],["T_STRING","Drupal",142],["T_DOUBLE_COLON","::",142],["T_STRING","service",142],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",142],")",["T_OBJECT_OPERATOR","->",142],["T_STRING","install",142],"(","[",["T_CONSTANT_ENCAPSED_STRING","'language'",142],"]",")",";",["T_WHITESPACE","\n    ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","rebuildContainer",143],"(",")",";",["T_WHITESPACE","\n    ",143],["T_STRING","ConfigurableLanguage",144],["T_DOUBLE_COLON","::",144],["T_STRING","createFromLangcode",144],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",144],")",["T_OBJECT_OPERATOR","->",144],["T_STRING","save",144],"(",")",";",["T_WHITESPACE","\n    ",144],["T_NS_SEPARATOR","\\",145],["T_STRING","Drupal",145],["T_DOUBLE_COLON","::",145],["T_STRING","languageManager",145],"(",")",["T_WHITESPACE","\n      ",145],["T_OBJECT_OPERATOR","->",146],["T_STRING","getLanguageConfigOverride",146],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",146],",",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","'config_test.dynamic.dotted.default'",146],")",["T_WHITESPACE","\n      ",146],["T_OBJECT_OPERATOR","->",147],["T_STRING","set",147],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",147],",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'Je suis Charlie'",147],")",["T_WHITESPACE","\n      ",147],["T_OBJECT_OPERATOR","->",148],["T_STRING","save",148],"(",")",";",["T_WHITESPACE","\n\n    ",148],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","drupalPostForm",150],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/modules'",150],",",["T_WHITESPACE"," ",150],["T_ARRAY","array",150],"(",["T_CONSTANT_ENCAPSED_STRING","'modules[Testing][config_install_fail_test][enable]'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_STRING","TRUE",150],")",",",["T_WHITESPACE"," ",150],["T_STRING","t",150],"(",["T_CONSTANT_ENCAPSED_STRING","'Install'",150],")",")",";",["T_WHITESPACE","\n    ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","assertRaw",151],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to install Configuration install fail test, <em class=\"placeholder\">config_test.dynamic.dotted.default, language\/fr\/config_test.dynamic.dotted.default<\/em> already exist in active configuration.'",151],")",";",["T_WHITESPACE","\n\n    ",151],["T_COMMENT","\/\/ Test installing a theme through the UI that has existing configuration.\n",153],["T_WHITESPACE","    ",154],["T_COMMENT","\/\/ This relies on the fact the config_test has been installed and created\n",154],["T_WHITESPACE","    ",155],["T_COMMENT","\/\/ the config_test.dynamic.dotted.default configuration and the translation\n",155],["T_WHITESPACE","    ",156],["T_COMMENT","\/\/ override created still exists.\n",156],["T_WHITESPACE","    ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","drupalGet",157],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/appearance'",157],")",";",["T_WHITESPACE","\n    ",157],["T_VARIABLE","$url",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","xpath",158],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/a[contains(@href,'config_clash_test_theme') and contains(@href,'\/install?')]\/@href\"",158],")","[",["T_LNUMBER","0",158],"]",";",["T_WHITESPACE","\n    ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","drupalGet",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getAbsoluteUrl",159],"(",["T_VARIABLE","$url",159],")",")",";",["T_WHITESPACE","\n    ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","assertRaw",160],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to install config_clash_test_theme, <em class=\"placeholder\">config_test.dynamic.dotted.default, language\/fr\/config_test.dynamic.dotted.default<\/em> already exist in active configuration.'",160],")",";",["T_WHITESPACE","\n\n    ",160],["T_COMMENT","\/\/ Test installing a theme through the API that has existing configuration.\n",162],["T_WHITESPACE","    ",163],["T_TRY","try",163],["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n      ",163],["T_NS_SEPARATOR","\\",164],["T_STRING","Drupal",164],["T_DOUBLE_COLON","::",164],["T_STRING","service",164],"(",["T_CONSTANT_ENCAPSED_STRING","'theme_handler'",164],")",["T_OBJECT_OPERATOR","->",164],["T_STRING","install",164],"(","[",["T_CONSTANT_ENCAPSED_STRING","'config_clash_test_theme'",164],"]",")",";",["T_WHITESPACE","\n      ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","fail",165],"(",["T_CONSTANT_ENCAPSED_STRING","'Expected PreExistingConfigException not thrown.'",165],")",";",["T_WHITESPACE","\n    ",165],"}",["T_WHITESPACE","\n    ",166],["T_CATCH","catch",167],["T_WHITESPACE"," ",167],"(",["T_STRING","PreExistingConfigException",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$e",167],")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n      ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","assertEqual",168],"(",["T_VARIABLE","$e",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getExtension",168],"(",")",",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'config_clash_test_theme'",168],")",";",["T_WHITESPACE","\n      ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","assertEqual",169],"(",["T_VARIABLE","$e",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getConfigObjects",169],"(",")",",",["T_WHITESPACE"," ",169],"[",["T_STRING","StorageInterface",169],["T_DOUBLE_COLON","::",169],["T_STRING","DEFAULT_COLLECTION",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],"[",["T_CONSTANT_ENCAPSED_STRING","'config_test.dynamic.dotted.default'",169],"]",",",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'language.fr'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],"[",["T_CONSTANT_ENCAPSED_STRING","'config_test.dynamic.dotted.default'",169],"]","]",")",";",["T_WHITESPACE","\n      ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","assertEqual",170],"(",["T_VARIABLE","$e",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getMessage",170],"(",")",",",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'Configuration objects (config_test.dynamic.dotted.default, language\/fr\/config_test.dynamic.dotted.default) provided by config_clash_test_theme already exist in active configuration'",170],")",";",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n  ",171],"}",["T_WHITESPACE","\n\n  ",172],["T_DOC_COMMENT","\/**\n   * Tests unmet dependencies detection.\n   *\/",174],["T_WHITESPACE","\n  ",176],["T_PUBLIC","public",177],["T_WHITESPACE"," ",177],["T_FUNCTION","function",177],["T_WHITESPACE"," ",177],["T_STRING","testUnmetDependenciesInstall",177],"(",")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n    ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","drupalLogin",178],"(",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","adminUser",178],")",";",["T_WHITESPACE","\n    ",178],["T_COMMENT","\/\/ We need to install separately since config_install_dependency_test does\n",179],["T_WHITESPACE","    ",180],["T_COMMENT","\/\/ not depend on config_test and order is important.\n",180],["T_WHITESPACE","    ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","drupalPostForm",181],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/modules'",181],",",["T_WHITESPACE"," ",181],["T_ARRAY","array",181],"(",["T_CONSTANT_ENCAPSED_STRING","'modules[Testing][config_test][enable]'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_STRING","TRUE",181],")",",",["T_WHITESPACE"," ",181],["T_STRING","t",181],"(",["T_CONSTANT_ENCAPSED_STRING","'Install'",181],")",")",";",["T_WHITESPACE","\n    ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","drupalPostForm",182],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/modules'",182],",",["T_WHITESPACE"," ",182],["T_ARRAY","array",182],"(",["T_CONSTANT_ENCAPSED_STRING","'modules[Testing][config_install_dependency_test][enable]'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_STRING","TRUE",182],")",",",["T_WHITESPACE"," ",182],["T_STRING","t",182],"(",["T_CONSTANT_ENCAPSED_STRING","'Install'",182],")",")",";",["T_WHITESPACE","\n    ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","assertRaw",183],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to install Config install dependency test, <em class=\"placeholder\">config_other_module_config_test.weird_simple_config, config_test.dynamic.other_module_test_with_dependency<\/em> have unmet dependencies.'",183],")",";",["T_WHITESPACE","\n\n    ",183],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","drupalPostForm",185],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/modules'",185],",",["T_WHITESPACE"," ",185],["T_ARRAY","array",185],"(",["T_CONSTANT_ENCAPSED_STRING","'modules[Testing][config_other_module_config_test][enable]'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_STRING","TRUE",185],")",",",["T_WHITESPACE"," ",185],["T_STRING","t",185],"(",["T_CONSTANT_ENCAPSED_STRING","'Install'",185],")",")",";",["T_WHITESPACE","\n    ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","drupalPostForm",186],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/modules'",186],",",["T_WHITESPACE"," ",186],["T_ARRAY","array",186],"(",["T_CONSTANT_ENCAPSED_STRING","'modules[Testing][config_install_dependency_test][enable]'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_STRING","TRUE",186],")",",",["T_WHITESPACE"," ",186],["T_STRING","t",186],"(",["T_CONSTANT_ENCAPSED_STRING","'Install'",186],")",")",";",["T_WHITESPACE","\n    ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","rebuildContainer",187],"(",")",";",["T_WHITESPACE","\n    ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","assertTrue",188],"(",["T_STRING","entity_load",188],"(",["T_CONSTANT_ENCAPSED_STRING","'config_test'",188],",",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'other_module_test_with_dependency'",188],")",",",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'The config_test.dynamic.other_module_test_with_dependency configuration has been created during install.'",188],")",";",["T_WHITESPACE","\n  ",188],"}",["T_WHITESPACE","\n\n  ",189],["T_DOC_COMMENT","\/**\n   * Tests config_requirements().\n   *\/",191],["T_WHITESPACE","\n  ",193],["T_PUBLIC","public",194],["T_WHITESPACE"," ",194],["T_FUNCTION","function",194],["T_WHITESPACE"," ",194],["T_STRING","testConfigModuleRequirements",194],"(",")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n    ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","drupalLogin",195],"(",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","adminUser",195],")",";",["T_WHITESPACE","\n    ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","drupalPostForm",196],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/modules'",196],",",["T_WHITESPACE"," ",196],["T_ARRAY","array",196],"(",["T_CONSTANT_ENCAPSED_STRING","'modules[Core][config][enable]'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_STRING","TRUE",196],")",",",["T_WHITESPACE"," ",196],["T_STRING","t",196],"(",["T_CONSTANT_ENCAPSED_STRING","'Install'",196],")",")",";",["T_WHITESPACE","\n\n    ",196],["T_VARIABLE","$directory",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_STRING","config_get_config_directory",198],"(",["T_STRING","CONFIG_SYNC_DIRECTORY",198],")",";",["T_WHITESPACE","\n    ",198],["T_STRING","file_unmanaged_delete_recursive",199],"(",["T_VARIABLE","$directory",199],")",";",["T_WHITESPACE","\n    ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","drupalGet",200],"(",["T_CONSTANT_ENCAPSED_STRING","'\/admin\/reports\/status'",200],")",";",["T_WHITESPACE","\n    ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","assertRaw",201],"(",["T_STRING","t",201],"(",["T_CONSTANT_ENCAPSED_STRING","'The directory %directory does not exist.'",201],",",["T_WHITESPACE"," ",201],["T_ARRAY","array",201],"(",["T_CONSTANT_ENCAPSED_STRING","'%directory'",201],["T_WHITESPACE"," ",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$directory",201],")",")",")",";",["T_WHITESPACE","\n\n    ",201],["T_STRING","file_prepare_directory",203],"(",["T_VARIABLE","$directory",203],",",["T_WHITESPACE"," ",203],["T_STRING","FILE_CREATE_DIRECTORY",203],")",";",["T_WHITESPACE","\n    ",203],["T_NS_SEPARATOR","\\",204],["T_STRING","Drupal",204],["T_DOUBLE_COLON","::",204],["T_STRING","service",204],"(",["T_CONSTANT_ENCAPSED_STRING","'file_system'",204],")",["T_OBJECT_OPERATOR","->",204],["T_STRING","chmod",204],"(",["T_VARIABLE","$directory",204],",",["T_WHITESPACE"," ",204],["T_LNUMBER","0555",204],")",";",["T_WHITESPACE","\n    ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","drupalGet",205],"(",["T_CONSTANT_ENCAPSED_STRING","'\/admin\/reports\/status'",205],")",";",["T_WHITESPACE","\n    ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","assertRaw",206],"(",["T_STRING","t",206],"(",["T_CONSTANT_ENCAPSED_STRING","'The directory %directory is not writable.'",206],",",["T_WHITESPACE"," ",206],"[",["T_CONSTANT_ENCAPSED_STRING","'%directory'",206],["T_WHITESPACE"," ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$directory",206],"]",")",")",";",["T_WHITESPACE","\n  ",206],"}",["T_WHITESPACE","\n\n",207],"}",["T_WHITESPACE","\n",209]]