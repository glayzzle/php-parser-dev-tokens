[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","system",3],["T_NS_SEPARATOR","\\",3],["T_STRING","PathProcessor",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","PathProcessor",5],["T_NS_SEPARATOR","\\",5],["T_STRING","InboundPathProcessorInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Symfony",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","HttpFoundation",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Request",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Defines a path processor to rewrite file URLs.\n *\n * As the route system does not allow arbitrary amount of parameters convert\n * the file path to a query parameter on the request.\n *\/",8],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","PathProcessorFiles",14],["T_WHITESPACE"," ",14],["T_IMPLEMENTS","implements",14],["T_WHITESPACE"," ",14],["T_STRING","InboundPathProcessorInterface",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",16],["T_WHITESPACE","\n  ",18],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_FUNCTION","function",19],["T_WHITESPACE"," ",19],["T_STRING","processInbound",19],"(",["T_VARIABLE","$path",19],",",["T_WHITESPACE"," ",19],["T_STRING","Request",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$request",19],")",["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n    ",19],["T_IF","if",20],["T_WHITESPACE"," ",20],"(",["T_STRING","strpos",20],"(",["T_VARIABLE","$path",20],",",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'\/system\/files\/'",20],")",["T_WHITESPACE"," ",20],["T_IS_IDENTICAL","===",20],["T_WHITESPACE"," ",20],["T_LNUMBER","0",20],["T_WHITESPACE"," ",20],["T_BOOLEAN_AND","&&",20],["T_WHITESPACE"," ",20],"!",["T_VARIABLE","$request",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","query",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","has",20],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",20],")",")",["T_WHITESPACE"," ",20],"{",["T_WHITESPACE","\n      ",20],["T_VARIABLE","$file_path",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_STRING","preg_replace",21],"(",["T_CONSTANT_ENCAPSED_STRING","'|^\\\/system\\\/files\\\/|'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","''",21],",",["T_WHITESPACE"," ",21],["T_VARIABLE","$path",21],")",";",["T_WHITESPACE","\n      ",21],["T_VARIABLE","$request",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","query",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","set",22],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",22],",",["T_WHITESPACE"," ",22],["T_VARIABLE","$file_path",22],")",";",["T_WHITESPACE","\n      ",22],["T_RETURN","return",23],["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'\/system\/files'",23],";",["T_WHITESPACE","\n    ",23],"}",["T_WHITESPACE","\n    ",24],["T_RETURN","return",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$path",25],";",["T_WHITESPACE","\n  ",25],"}",["T_WHITESPACE","\n\n",26],"}",["T_WHITESPACE","\n",28]]