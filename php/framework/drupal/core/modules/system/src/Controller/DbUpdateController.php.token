[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","system",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Controller",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Cache",5],["T_NS_SEPARATOR","\\",5],["T_STRING","CacheBackendInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Controller",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ControllerBase",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Extension",7],["T_NS_SEPARATOR","\\",7],["T_STRING","ModuleHandlerInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","KeyValueStore",8],["T_NS_SEPARATOR","\\",8],["T_STRING","KeyValueExpirableFactoryInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Render",9],["T_NS_SEPARATOR","\\",9],["T_STRING","BareHtmlPageRendererInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Session",10],["T_NS_SEPARATOR","\\",10],["T_STRING","AccountInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Site",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Settings",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","State",12],["T_NS_SEPARATOR","\\",12],["T_STRING","StateInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Core",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Update",13],["T_NS_SEPARATOR","\\",13],["T_STRING","UpdateRegistry",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Drupal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Core",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Url",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","DependencyInjection",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ContainerInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","HttpFoundation",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Response",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","HttpFoundation",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Request",17],";",["T_WHITESPACE","\n\n",17],["T_DOC_COMMENT","\/**\n * Controller routines for database update routes.\n *\/",19],["T_WHITESPACE","\n",21],["T_CLASS","class",22],["T_WHITESPACE"," ",22],["T_STRING","DbUpdateController",22],["T_WHITESPACE"," ",22],["T_EXTENDS","extends",22],["T_WHITESPACE"," ",22],["T_STRING","ControllerBase",22],["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * The keyvalue expirable factory.\n   *\n   * @var \\Drupal\\Core\\KeyValueStore\\KeyValueExpirableFactoryInterface\n   *\/",24],["T_WHITESPACE","\n  ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$keyValueExpirableFactory",29],";",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * A cache backend interface.\n   *\n   * @var \\Drupal\\Core\\Cache\\CacheBackendInterface\n   *\/",31],["T_WHITESPACE","\n  ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$cache",36],";",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * The state service.\n   *\n   * @var \\Drupal\\Core\\State\\StateInterface\n   *\/",38],["T_WHITESPACE","\n  ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$state",43],";",["T_WHITESPACE","\n\n  ",43],["T_DOC_COMMENT","\/**\n   * The module handler.\n   *\n   * @var \\Drupal\\Core\\Extension\\ModuleHandlerInterface\n   *\/",45],["T_WHITESPACE","\n  ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$moduleHandler",50],";",["T_WHITESPACE","\n\n  ",50],["T_DOC_COMMENT","\/**\n   * The current user.\n   *\n   * @var \\Drupal\\Core\\Session\\AccountInterface\n   *\/",52],["T_WHITESPACE","\n  ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$account",57],";",["T_WHITESPACE","\n\n  ",57],["T_DOC_COMMENT","\/**\n   * The bare HTML page renderer.\n   *\n   * @var \\Drupal\\Core\\Render\\BareHtmlPageRendererInterface\n   *\/",59],["T_WHITESPACE","\n  ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$bareHtmlPageRenderer",64],";",["T_WHITESPACE","\n\n  ",64],["T_DOC_COMMENT","\/**\n   * The app root.\n   *\n   * @var string\n   *\/",66],["T_WHITESPACE","\n  ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$root",71],";",["T_WHITESPACE","\n\n  ",71],["T_DOC_COMMENT","\/**\n   * The post update registry.\n   *\n   * @var \\Drupal\\Core\\Update\\UpdateRegistry\n   *\/",73],["T_WHITESPACE","\n  ",77],["T_PROTECTED","protected",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$postUpdateRegistry",78],";",["T_WHITESPACE","\n\n  ",78],["T_DOC_COMMENT","\/**\n   * Constructs a new UpdateController.\n   *\n   * @param string $root\n   *   The app root.\n   * @param \\Drupal\\Core\\KeyValueStore\\KeyValueExpirableFactoryInterface $key_value_expirable_factory\n   *   The keyvalue expirable factory.\n   * @param \\Drupal\\Core\\Cache\\CacheBackendInterface $cache\n   *   A cache backend interface.\n   * @param \\Drupal\\Core\\State\\StateInterface $state\n   *   The state service.\n   * @param \\Drupal\\Core\\Extension\\ModuleHandlerInterface $module_handler\n   *   The module handler.\n   * @param \\Drupal\\Core\\Session\\AccountInterface $account\n   *   The current user.\n   * @param \\Drupal\\Core\\Render\\BareHtmlPageRendererInterface $bare_html_page_renderer\n   *   The bare HTML page renderer.\n   * @param \\Drupal\\Core\\Update\\UpdateRegistry $post_update_registry\n   *   The post update registry.\n   *\/",80],["T_WHITESPACE","\n  ",99],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","__construct",100],"(",["T_VARIABLE","$root",100],",",["T_WHITESPACE"," ",100],["T_STRING","KeyValueExpirableFactoryInterface",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$key_value_expirable_factory",100],",",["T_WHITESPACE"," ",100],["T_STRING","CacheBackendInterface",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$cache",100],",",["T_WHITESPACE"," ",100],["T_STRING","StateInterface",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$state",100],",",["T_WHITESPACE"," ",100],["T_STRING","ModuleHandlerInterface",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$module_handler",100],",",["T_WHITESPACE"," ",100],["T_STRING","AccountInterface",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$account",100],",",["T_WHITESPACE"," ",100],["T_STRING","BareHtmlPageRendererInterface",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$bare_html_page_renderer",100],",",["T_WHITESPACE"," ",100],["T_STRING","UpdateRegistry",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$post_update_registry",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","root",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$root",101],";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","keyValueExpirableFactory",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$key_value_expirable_factory",102],";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","cache",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$cache",103],";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","state",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$state",104],";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","moduleHandler",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$module_handler",105],";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","account",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$account",106],";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","bareHtmlPageRenderer",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$bare_html_page_renderer",107],";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","postUpdateRegistry",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$post_update_registry",108],";",["T_WHITESPACE","\n  ",108],"}",["T_WHITESPACE","\n\n  ",109],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",111],["T_WHITESPACE","\n  ",113],["T_PUBLIC","public",114],["T_WHITESPACE"," ",114],["T_STATIC","static",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","create",114],"(",["T_STRING","ContainerInterface",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$container",114],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n    ",114],["T_RETURN","return",115],["T_WHITESPACE"," ",115],["T_NEW","new",115],["T_WHITESPACE"," ",115],["T_STATIC","static",115],"(",["T_WHITESPACE","\n      ",115],["T_VARIABLE","$container",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","get",116],"(",["T_CONSTANT_ENCAPSED_STRING","'app.root'",116],")",",",["T_WHITESPACE","\n      ",116],["T_VARIABLE","$container",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","get",117],"(",["T_CONSTANT_ENCAPSED_STRING","'keyvalue.expirable'",117],")",",",["T_WHITESPACE","\n      ",117],["T_VARIABLE","$container",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","get",118],"(",["T_CONSTANT_ENCAPSED_STRING","'cache.default'",118],")",",",["T_WHITESPACE","\n      ",118],["T_VARIABLE","$container",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","get",119],"(",["T_CONSTANT_ENCAPSED_STRING","'state'",119],")",",",["T_WHITESPACE","\n      ",119],["T_VARIABLE","$container",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","get",120],"(",["T_CONSTANT_ENCAPSED_STRING","'module_handler'",120],")",",",["T_WHITESPACE","\n      ",120],["T_VARIABLE","$container",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","get",121],"(",["T_CONSTANT_ENCAPSED_STRING","'current_user'",121],")",",",["T_WHITESPACE","\n      ",121],["T_VARIABLE","$container",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","get",122],"(",["T_CONSTANT_ENCAPSED_STRING","'bare_html_page_renderer'",122],")",",",["T_WHITESPACE","\n      ",122],["T_VARIABLE","$container",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","get",123],"(",["T_CONSTANT_ENCAPSED_STRING","'update.post_update_registry'",123],")",["T_WHITESPACE","\n    ",123],")",";",["T_WHITESPACE","\n  ",124],"}",["T_WHITESPACE","\n\n  ",125],["T_DOC_COMMENT","\/**\n   * Returns a database update page.\n   *\n   * @param string $op\n   *   The update operation to perform. Can be any of the below:\n   *    - info\n   *    - selection\n   *    - run\n   *    - results\n   * @param \\Symfony\\Component\\HttpFoundation\\Request $request\n   *   The current request object.\n   *\n   * @return \\Symfony\\Component\\HttpFoundation\\Response\n   *   A response object object.\n   *\/",127],["T_WHITESPACE","\n  ",141],["T_PUBLIC","public",142],["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],["T_STRING","handle",142],"(",["T_VARIABLE","$op",142],",",["T_WHITESPACE"," ",142],["T_STRING","Request",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$request",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n    ",142],["T_REQUIRE_ONCE","require_once",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","root",143],["T_WHITESPACE"," ",143],".",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'\/core\/includes\/install.inc'",143],";",["T_WHITESPACE","\n    ",143],["T_REQUIRE_ONCE","require_once",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","root",144],["T_WHITESPACE"," ",144],".",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'\/core\/includes\/update.inc'",144],";",["T_WHITESPACE","\n\n    ",144],["T_STRING","drupal_load_updates",146],"(",")",";",["T_WHITESPACE","\n    ",146],["T_STRING","update_fix_compatibility",147],"(",")",";",["T_WHITESPACE","\n\n    ",147],["T_IF","if",149],["T_WHITESPACE"," ",149],"(",["T_VARIABLE","$request",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","query",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","get",149],"(",["T_CONSTANT_ENCAPSED_STRING","'continue'",149],")",")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n      ",149],["T_VARIABLE","$_SESSION",150],"[",["T_CONSTANT_ENCAPSED_STRING","'update_ignore_warnings'",150],"]",["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","TRUE",150],";",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n\n    ",151],["T_VARIABLE","$regions",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_ARRAY","array",153],"(",")",";",["T_WHITESPACE","\n    ",153],["T_VARIABLE","$requirements",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","update_check_requirements",154],"(",")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$severity",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_STRING","drupal_requirements_severity",155],"(",["T_VARIABLE","$requirements",155],")",";",["T_WHITESPACE","\n    ",155],["T_IF","if",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$severity",156],["T_WHITESPACE"," ",156],["T_IS_EQUAL","==",156],["T_WHITESPACE"," ",156],["T_STRING","REQUIREMENT_ERROR",156],["T_WHITESPACE"," ",156],["T_BOOLEAN_OR","||",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$severity",156],["T_WHITESPACE"," ",156],["T_IS_EQUAL","==",156],["T_WHITESPACE"," ",156],["T_STRING","REQUIREMENT_WARNING",156],["T_WHITESPACE"," ",156],["T_BOOLEAN_AND","&&",156],["T_WHITESPACE"," ",156],["T_EMPTY","empty",156],"(",["T_VARIABLE","$_SESSION",156],"[",["T_CONSTANT_ENCAPSED_STRING","'update_ignore_warnings'",156],"]",")",")",")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n      ",156],["T_VARIABLE","$regions",157],"[",["T_CONSTANT_ENCAPSED_STRING","'sidebar_first'",157],"]",["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","updateTasksList",157],"(",["T_CONSTANT_ENCAPSED_STRING","'requirements'",157],")",";",["T_WHITESPACE","\n      ",157],["T_VARIABLE","$output",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","requirements",158],"(",["T_VARIABLE","$severity",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$requirements",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$request",158],")",";",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n    ",159],["T_ELSE","else",160],["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n      ",160],["T_SWITCH","switch",161],["T_WHITESPACE"," ",161],"(",["T_VARIABLE","$op",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n        ",161],["T_CASE","case",162],["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'selection'",162],":",["T_WHITESPACE","\n          ",162],["T_VARIABLE","$regions",163],"[",["T_CONSTANT_ENCAPSED_STRING","'sidebar_first'",163],"]",["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","updateTasksList",163],"(",["T_CONSTANT_ENCAPSED_STRING","'selection'",163],")",";",["T_WHITESPACE","\n          ",163],["T_VARIABLE","$output",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","selection",164],"(",["T_VARIABLE","$request",164],")",";",["T_WHITESPACE","\n          ",164],["T_BREAK","break",165],";",["T_WHITESPACE","\n\n        ",165],["T_CASE","case",167],["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'run'",167],":",["T_WHITESPACE","\n          ",167],["T_VARIABLE","$regions",168],"[",["T_CONSTANT_ENCAPSED_STRING","'sidebar_first'",168],"]",["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","updateTasksList",168],"(",["T_CONSTANT_ENCAPSED_STRING","'run'",168],")",";",["T_WHITESPACE","\n          ",168],["T_VARIABLE","$output",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","triggerBatch",169],"(",["T_VARIABLE","$request",169],")",";",["T_WHITESPACE","\n          ",169],["T_BREAK","break",170],";",["T_WHITESPACE","\n\n        ",170],["T_CASE","case",172],["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'info'",172],":",["T_WHITESPACE","\n          ",172],["T_VARIABLE","$regions",173],"[",["T_CONSTANT_ENCAPSED_STRING","'sidebar_first'",173],"]",["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","updateTasksList",173],"(",["T_CONSTANT_ENCAPSED_STRING","'info'",173],")",";",["T_WHITESPACE","\n          ",173],["T_VARIABLE","$output",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","info",174],"(",["T_VARIABLE","$request",174],")",";",["T_WHITESPACE","\n          ",174],["T_BREAK","break",175],";",["T_WHITESPACE","\n\n        ",175],["T_CASE","case",177],["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","'results'",177],":",["T_WHITESPACE","\n          ",177],["T_VARIABLE","$regions",178],"[",["T_CONSTANT_ENCAPSED_STRING","'sidebar_first'",178],"]",["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","updateTasksList",178],"(",["T_CONSTANT_ENCAPSED_STRING","'results'",178],")",";",["T_WHITESPACE","\n          ",178],["T_VARIABLE","$output",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","results",179],"(",["T_VARIABLE","$request",179],")",";",["T_WHITESPACE","\n          ",179],["T_BREAK","break",180],";",["T_WHITESPACE","\n\n        ",180],["T_COMMENT","\/\/ Regular batch ops : defer to batch processing API.\n",182],["T_WHITESPACE","        ",183],["T_DEFAULT","default",183],":",["T_WHITESPACE","\n          ",183],["T_REQUIRE_ONCE","require_once",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","root",184],["T_WHITESPACE"," ",184],".",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'\/core\/includes\/batch.inc'",184],";",["T_WHITESPACE","\n          ",184],["T_VARIABLE","$regions",185],"[",["T_CONSTANT_ENCAPSED_STRING","'sidebar_first'",185],"]",["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","updateTasksList",185],"(",["T_CONSTANT_ENCAPSED_STRING","'run'",185],")",";",["T_WHITESPACE","\n          ",185],["T_VARIABLE","$output",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_STRING","_batch_page",186],"(",["T_VARIABLE","$request",186],")",";",["T_WHITESPACE","\n          ",186],["T_BREAK","break",187],";",["T_WHITESPACE","\n      ",187],"}",["T_WHITESPACE","\n    ",188],"}",["T_WHITESPACE","\n\n    ",189],["T_IF","if",191],["T_WHITESPACE"," ",191],"(",["T_VARIABLE","$output",191],["T_WHITESPACE"," ",191],["T_INSTANCEOF","instanceof",191],["T_WHITESPACE"," ",191],["T_STRING","Response",191],")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n      ",191],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$output",192],";",["T_WHITESPACE","\n    ",192],"}",["T_WHITESPACE","\n    ",193],["T_VARIABLE","$title",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_ISSET","isset",194],"(",["T_VARIABLE","$output",194],"[",["T_CONSTANT_ENCAPSED_STRING","'#title'",194],"]",")",["T_WHITESPACE"," ",194],"?",["T_WHITESPACE"," ",194],["T_VARIABLE","$output",194],"[",["T_CONSTANT_ENCAPSED_STRING","'#title'",194],"]",["T_WHITESPACE"," ",194],":",["T_WHITESPACE"," ",194],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","t",194],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal database update'",194],")",";",["T_WHITESPACE","\n\n    ",194],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","bareHtmlPageRenderer",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","renderBarePage",196],"(",["T_VARIABLE","$output",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$title",196],",",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'maintenance_page'",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$regions",196],")",";",["T_WHITESPACE","\n  ",196],"}",["T_WHITESPACE","\n\n  ",197],["T_DOC_COMMENT","\/**\n   * Returns the info database update page.\n   *\n   * @param \\Symfony\\Component\\HttpFoundation\\Request $request\n   *   The current request.\n   *\n   * @return array\n   *   A render array.\n   *\/",199],["T_WHITESPACE","\n  ",207],["T_PROTECTED","protected",208],["T_WHITESPACE"," ",208],["T_FUNCTION","function",208],["T_WHITESPACE"," ",208],["T_STRING","info",208],"(",["T_STRING","Request",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$request",208],")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n    ",208],["T_COMMENT","\/\/ Change query-strings on css\/js files to enforce reload for all users.\n",209],["T_WHITESPACE","    ",210],["T_STRING","_drupal_flush_css_js",210],"(",")",";",["T_WHITESPACE","\n    ",210],["T_COMMENT","\/\/ Flush the cache of all data for the update status module.\n",211],["T_WHITESPACE","    ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","keyValueExpirableFactory",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","get",212],"(",["T_CONSTANT_ENCAPSED_STRING","'update'",212],")",["T_OBJECT_OPERATOR","->",212],["T_STRING","deleteAll",212],"(",")",";",["T_WHITESPACE","\n    ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","keyValueExpirableFactory",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","get",213],"(",["T_CONSTANT_ENCAPSED_STRING","'update_available_release'",213],")",["T_OBJECT_OPERATOR","->",213],["T_STRING","deleteAll",213],"(",")",";",["T_WHITESPACE","\n\n    ",213],["T_VARIABLE","$build",215],"[",["T_CONSTANT_ENCAPSED_STRING","'info_header'",215],"]",["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_ARRAY","array",215],"(",["T_WHITESPACE","\n      ",215],["T_CONSTANT_ENCAPSED_STRING","'#markup'",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'<p>'",216],["T_WHITESPACE"," ",216],".",["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","t",216],"(",["T_CONSTANT_ENCAPSED_STRING","'Use this utility to update your database whenever a new release of Drupal or a module is installed.'",216],")",["T_WHITESPACE"," ",216],".",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'<\/p><p>'",216],["T_WHITESPACE"," ",216],".",["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","t",216],"(",["T_CONSTANT_ENCAPSED_STRING","'For more detailed information, see the <a href=\"https:\/\/www.drupal.org\/upgrade\">upgrading handbook<\/a>. If you are unsure what these terms mean you should probably contact your hosting provider.'",216],")",["T_WHITESPACE"," ",216],".",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'<\/p>'",216],",",["T_WHITESPACE","\n    ",216],")",";",["T_WHITESPACE","\n\n    ",217],["T_VARIABLE","$info",219],"[","]",["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","t",219],"(",["T_CONSTANT_ENCAPSED_STRING","\"<strong>Back up your code<\/strong>. Hint: when backing up module code, do not leave that backup in the 'modules' or 'sites\/*\/modules' directories as this may confuse Drupal's auto-discovery mechanism.\"",219],")",";",["T_WHITESPACE","\n    ",219],["T_VARIABLE","$info",220],"[","]",["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","t",220],"(",["T_CONSTANT_ENCAPSED_STRING","'Put your site into <a href=\":url\">maintenance mode<\/a>.'",220],",",["T_WHITESPACE"," ",220],["T_ARRAY","array",220],"(",["T_WHITESPACE","\n      ",220],["T_CONSTANT_ENCAPSED_STRING","':url'",221],["T_WHITESPACE"," ",221],["T_DOUBLE_ARROW","=>",221],["T_WHITESPACE"," ",221],["T_STRING","Url",221],["T_DOUBLE_COLON","::",221],["T_STRING","fromRoute",221],"(",["T_CONSTANT_ENCAPSED_STRING","'system.site_maintenance_mode'",221],")",["T_OBJECT_OPERATOR","->",221],["T_STRING","toString",221],"(",["T_STRING","TRUE",221],")",["T_OBJECT_OPERATOR","->",221],["T_STRING","getGeneratedUrl",221],"(",")",",",["T_WHITESPACE","\n    ",221],")",")",";",["T_WHITESPACE","\n    ",222],["T_VARIABLE","$info",223],"[","]",["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","t",223],"(",["T_CONSTANT_ENCAPSED_STRING","'<strong>Back up your database<\/strong>. This process will change your database values and in case of emergency you may need to revert to a backup.'",223],")",";",["T_WHITESPACE","\n    ",223],["T_VARIABLE","$info",224],"[","]",["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","t",224],"(",["T_CONSTANT_ENCAPSED_STRING","'Install your new files in the appropriate location, as described in the handbook.'",224],")",";",["T_WHITESPACE","\n    ",224],["T_VARIABLE","$build",225],"[",["T_CONSTANT_ENCAPSED_STRING","'info'",225],"]",["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_ARRAY","array",225],"(",["T_WHITESPACE","\n      ",225],["T_CONSTANT_ENCAPSED_STRING","'#theme'",226],["T_WHITESPACE"," ",226],["T_DOUBLE_ARROW","=>",226],["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","'item_list'",226],",",["T_WHITESPACE","\n      ",226],["T_CONSTANT_ENCAPSED_STRING","'#list_type'",227],["T_WHITESPACE"," ",227],["T_DOUBLE_ARROW","=>",227],["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","'ol'",227],",",["T_WHITESPACE","\n      ",227],["T_CONSTANT_ENCAPSED_STRING","'#items'",228],["T_WHITESPACE"," ",228],["T_DOUBLE_ARROW","=>",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$info",228],",",["T_WHITESPACE","\n    ",228],")",";",["T_WHITESPACE","\n    ",229],["T_VARIABLE","$build",230],"[",["T_CONSTANT_ENCAPSED_STRING","'info_footer'",230],"]",["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_ARRAY","array",230],"(",["T_WHITESPACE","\n      ",230],["T_CONSTANT_ENCAPSED_STRING","'#markup'",231],["T_WHITESPACE"," ",231],["T_DOUBLE_ARROW","=>",231],["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'<p>'",231],["T_WHITESPACE"," ",231],".",["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","t",231],"(",["T_CONSTANT_ENCAPSED_STRING","'When you have performed the steps above, you may proceed.'",231],")",["T_WHITESPACE"," ",231],".",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'<\/p>'",231],",",["T_WHITESPACE","\n    ",231],")",";",["T_WHITESPACE","\n\n    ",232],["T_VARIABLE","$build",234],"[",["T_CONSTANT_ENCAPSED_STRING","'link'",234],"]",["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_ARRAY","array",234],"(",["T_WHITESPACE","\n      ",234],["T_CONSTANT_ENCAPSED_STRING","'#type'",235],["T_WHITESPACE"," ",235],["T_DOUBLE_ARROW","=>",235],["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'link'",235],",",["T_WHITESPACE","\n      ",235],["T_CONSTANT_ENCAPSED_STRING","'#title'",236],["T_WHITESPACE"," ",236],["T_DOUBLE_ARROW","=>",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","t",236],"(",["T_CONSTANT_ENCAPSED_STRING","'Continue'",236],")",",",["T_WHITESPACE","\n      ",236],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",237],["T_WHITESPACE"," ",237],["T_DOUBLE_ARROW","=>",237],["T_WHITESPACE"," ",237],["T_ARRAY","array",237],"(",["T_CONSTANT_ENCAPSED_STRING","'class'",237],["T_WHITESPACE"," ",237],["T_DOUBLE_ARROW","=>",237],["T_WHITESPACE"," ",237],["T_ARRAY","array",237],"(",["T_CONSTANT_ENCAPSED_STRING","'button'",237],",",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'button--primary'",237],")",")",",",["T_WHITESPACE","\n      ",237],["T_COMMENT","\/\/ @todo Revisit once https:\/\/www.drupal.org\/node\/2548095 is in.\n",238],["T_WHITESPACE","      ",239],["T_CONSTANT_ENCAPSED_STRING","'#url'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_STRING","Url",239],["T_DOUBLE_COLON","::",239],["T_STRING","fromUri",239],"(",["T_CONSTANT_ENCAPSED_STRING","'base:\/\/selection'",239],")",",",["T_WHITESPACE","\n    ",239],")",";",["T_WHITESPACE","\n    ",240],["T_RETURN","return",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$build",241],";",["T_WHITESPACE","\n  ",241],"}",["T_WHITESPACE","\n\n  ",242],["T_DOC_COMMENT","\/**\n   * Renders a list of available database updates.\n   *\n   * @param \\Symfony\\Component\\HttpFoundation\\Request $request\n   *   The current request.\n   *\n   * @return array\n   *   A render array.\n   *\/",244],["T_WHITESPACE","\n  ",252],["T_PROTECTED","protected",253],["T_WHITESPACE"," ",253],["T_FUNCTION","function",253],["T_WHITESPACE"," ",253],["T_STRING","selection",253],"(",["T_STRING","Request",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$request",253],")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n    ",253],["T_COMMENT","\/\/ Make sure there is no stale theme registry.\n",254],["T_WHITESPACE","    ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","cache",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","deleteAll",255],"(",")",";",["T_WHITESPACE","\n\n    ",255],["T_VARIABLE","$count",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_LNUMBER","0",257],";",["T_WHITESPACE","\n    ",257],["T_VARIABLE","$incompatible_count",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_LNUMBER","0",258],";",["T_WHITESPACE","\n    ",258],["T_VARIABLE","$build",259],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",259],"]",["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_ARRAY","array",259],"(",["T_WHITESPACE","\n      ",259],["T_CONSTANT_ENCAPSED_STRING","'#tree'",260],["T_WHITESPACE"," ",260],["T_DOUBLE_ARROW","=>",260],["T_WHITESPACE"," ",260],["T_STRING","TRUE",260],",",["T_WHITESPACE","\n      ",260],["T_CONSTANT_ENCAPSED_STRING","'#type'",261],["T_WHITESPACE"," ",261],["T_DOUBLE_ARROW","=>",261],["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","'details'",261],",",["T_WHITESPACE","\n    ",261],")",";",["T_WHITESPACE","\n\n    ",262],["T_COMMENT","\/\/ Ensure system.module's updates appear first.\n",264],["T_WHITESPACE","    ",265],["T_VARIABLE","$build",265],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",265],"]","[",["T_CONSTANT_ENCAPSED_STRING","'system'",265],"]",["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_ARRAY","array",265],"(",")",";",["T_WHITESPACE","\n\n    ",265],["T_VARIABLE","$starting_updates",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_ARRAY","array",267],"(",")",";",["T_WHITESPACE","\n    ",267],["T_VARIABLE","$incompatible_updates_exist",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_STRING","FALSE",268],";",["T_WHITESPACE","\n    ",268],["T_VARIABLE","$updates_per_module",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],"[","]",";",["T_WHITESPACE","\n    ",269],["T_FOREACH","foreach",270],["T_WHITESPACE"," ",270],"(","[",["T_CONSTANT_ENCAPSED_STRING","'update'",270],",",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'post_update'",270],"]",["T_WHITESPACE"," ",270],["T_AS","as",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$update_type",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n      ",270],["T_SWITCH","switch",271],["T_WHITESPACE"," ",271],"(",["T_VARIABLE","$update_type",271],")",["T_WHITESPACE"," ",271],"{",["T_WHITESPACE","\n        ",271],["T_CASE","case",272],["T_WHITESPACE"," ",272],["T_CONSTANT_ENCAPSED_STRING","'update'",272],":",["T_WHITESPACE","\n          ",272],["T_VARIABLE","$updates",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_STRING","update_get_update_list",273],"(",")",";",["T_WHITESPACE","\n          ",273],["T_BREAK","break",274],";",["T_WHITESPACE","\n        ",274],["T_CASE","case",275],["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'post_update'",275],":",["T_WHITESPACE","\n          ",275],["T_VARIABLE","$updates",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","postUpdateRegistry",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","getPendingUpdateInformation",276],"(",")",";",["T_WHITESPACE","\n          ",276],["T_BREAK","break",277],";",["T_WHITESPACE","\n      ",277],"}",["T_WHITESPACE","\n      ",278],["T_FOREACH","foreach",279],["T_WHITESPACE"," ",279],"(",["T_VARIABLE","$updates",279],["T_WHITESPACE"," ",279],["T_AS","as",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$module",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$update",279],")",["T_WHITESPACE"," ",279],"{",["T_WHITESPACE","\n        ",279],["T_IF","if",280],["T_WHITESPACE"," ",280],"(","!",["T_ISSET","isset",280],"(",["T_VARIABLE","$update",280],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",280],"]",")",")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n          ",280],["T_VARIABLE","$build",281],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",281],"]","[",["T_VARIABLE","$module",281],"]",["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_ARRAY","array",281],"(",["T_WHITESPACE","\n            ",281],["T_CONSTANT_ENCAPSED_STRING","'#type'",282],["T_WHITESPACE"," ",282],["T_DOUBLE_ARROW","=>",282],["T_WHITESPACE"," ",282],["T_CONSTANT_ENCAPSED_STRING","'item'",282],",",["T_WHITESPACE","\n            ",282],["T_CONSTANT_ENCAPSED_STRING","'#title'",283],["T_WHITESPACE"," ",283],["T_DOUBLE_ARROW","=>",283],["T_WHITESPACE"," ",283],["T_VARIABLE","$module",283],["T_WHITESPACE"," ",283],".",["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","' module'",283],",",["T_WHITESPACE","\n            ",283],["T_CONSTANT_ENCAPSED_STRING","'#markup'",284],["T_WHITESPACE"," ",284],["T_DOUBLE_ARROW","=>",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$update",284],"[",["T_CONSTANT_ENCAPSED_STRING","'warning'",284],"]",",",["T_WHITESPACE","\n            ",284],["T_CONSTANT_ENCAPSED_STRING","'#prefix'",285],["T_WHITESPACE"," ",285],["T_DOUBLE_ARROW","=>",285],["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","'<div class=\"messages messages--warning\">'",285],",",["T_WHITESPACE","\n            ",285],["T_CONSTANT_ENCAPSED_STRING","'#suffix'",286],["T_WHITESPACE"," ",286],["T_DOUBLE_ARROW","=>",286],["T_WHITESPACE"," ",286],["T_CONSTANT_ENCAPSED_STRING","'<\/div>'",286],",",["T_WHITESPACE","\n          ",286],")",";",["T_WHITESPACE","\n          ",287],["T_VARIABLE","$incompatible_updates_exist",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_STRING","TRUE",288],";",["T_WHITESPACE","\n          ",288],["T_CONTINUE","continue",289],";",["T_WHITESPACE","\n        ",289],"}",["T_WHITESPACE","\n        ",290],["T_IF","if",291],["T_WHITESPACE"," ",291],"(","!",["T_EMPTY","empty",291],"(",["T_VARIABLE","$update",291],"[",["T_CONSTANT_ENCAPSED_STRING","'pending'",291],"]",")",")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n          ",291],["T_VARIABLE","$updates_per_module",292],["T_WHITESPACE"," ",292],["T_PLUS_EQUAL","+=",292],["T_WHITESPACE"," ",292],"[",["T_VARIABLE","$module",292],["T_WHITESPACE"," ",292],["T_DOUBLE_ARROW","=>",292],["T_WHITESPACE"," ",292],"[","]","]",";",["T_WHITESPACE","\n          ",292],["T_VARIABLE","$updates_per_module",293],"[",["T_VARIABLE","$module",293],"]",["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_STRING","array_merge",293],"(",["T_VARIABLE","$updates_per_module",293],"[",["T_VARIABLE","$module",293],"]",",",["T_WHITESPACE"," ",293],["T_VARIABLE","$update",293],"[",["T_CONSTANT_ENCAPSED_STRING","'pending'",293],"]",")",";",["T_WHITESPACE","\n          ",293],["T_VARIABLE","$build",294],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",294],"]","[",["T_VARIABLE","$module",294],"]",["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_ARRAY","array",294],"(",["T_WHITESPACE","\n            ",294],["T_CONSTANT_ENCAPSED_STRING","'#type'",295],["T_WHITESPACE"," ",295],["T_DOUBLE_ARROW","=>",295],["T_WHITESPACE"," ",295],["T_CONSTANT_ENCAPSED_STRING","'hidden'",295],",",["T_WHITESPACE","\n            ",295],["T_CONSTANT_ENCAPSED_STRING","'#value'",296],["T_WHITESPACE"," ",296],["T_DOUBLE_ARROW","=>",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$update",296],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",296],"]",",",["T_WHITESPACE","\n          ",296],")",";",["T_WHITESPACE","\n          ",297],["T_COMMENT","\/\/ Store the previous items in order to merge normal updates and\n",298],["T_WHITESPACE","          ",299],["T_COMMENT","\/\/ post_update functions together.\n",299],["T_WHITESPACE","          ",300],["T_VARIABLE","$build",300],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",300],"]","[",["T_VARIABLE","$module",300],"]",["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_ARRAY","array",300],"(",["T_WHITESPACE","\n            ",300],["T_CONSTANT_ENCAPSED_STRING","'#theme'",301],["T_WHITESPACE"," ",301],["T_DOUBLE_ARROW","=>",301],["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'item_list'",301],",",["T_WHITESPACE","\n            ",301],["T_CONSTANT_ENCAPSED_STRING","'#items'",302],["T_WHITESPACE"," ",302],["T_DOUBLE_ARROW","=>",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$updates_per_module",302],"[",["T_VARIABLE","$module",302],"]",",",["T_WHITESPACE","\n            ",302],["T_CONSTANT_ENCAPSED_STRING","'#title'",303],["T_WHITESPACE"," ",303],["T_DOUBLE_ARROW","=>",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$module",303],["T_WHITESPACE"," ",303],".",["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","' module'",303],",",["T_WHITESPACE","\n          ",303],")",";",["T_WHITESPACE","\n\n          ",304],["T_IF","if",306],["T_WHITESPACE"," ",306],"(",["T_VARIABLE","$update_type",306],["T_WHITESPACE"," ",306],["T_IS_IDENTICAL","===",306],["T_WHITESPACE"," ",306],["T_CONSTANT_ENCAPSED_STRING","'update'",306],")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n            ",306],["T_VARIABLE","$starting_updates",307],"[",["T_VARIABLE","$module",307],"]",["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_VARIABLE","$update",307],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",307],"]",";",["T_WHITESPACE","\n          ",307],"}",["T_WHITESPACE","\n        ",308],"}",["T_WHITESPACE","\n        ",309],["T_IF","if",310],["T_WHITESPACE"," ",310],"(",["T_ISSET","isset",310],"(",["T_VARIABLE","$update",310],"[",["T_CONSTANT_ENCAPSED_STRING","'pending'",310],"]",")",")",["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n          ",310],["T_VARIABLE","$count",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_VARIABLE","$count",311],["T_WHITESPACE"," ",311],"+",["T_WHITESPACE"," ",311],["T_STRING","count",311],"(",["T_VARIABLE","$update",311],"[",["T_CONSTANT_ENCAPSED_STRING","'pending'",311],"]",")",";",["T_WHITESPACE","\n        ",311],"}",["T_WHITESPACE","\n      ",312],"}",["T_WHITESPACE","\n    ",313],"}",["T_WHITESPACE","\n\n    ",314],["T_COMMENT","\/\/ Find and label any incompatible updates.\n",316],["T_WHITESPACE","    ",317],["T_FOREACH","foreach",317],["T_WHITESPACE"," ",317],"(",["T_STRING","update_resolve_dependencies",317],"(",["T_VARIABLE","$starting_updates",317],")",["T_WHITESPACE"," ",317],["T_AS","as",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$data",317],")",["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n      ",317],["T_IF","if",318],["T_WHITESPACE"," ",318],"(","!",["T_VARIABLE","$data",318],"[",["T_CONSTANT_ENCAPSED_STRING","'allowed'",318],"]",")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n        ",318],["T_VARIABLE","$incompatible_updates_exist",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_STRING","TRUE",319],";",["T_WHITESPACE","\n        ",319],["T_VARIABLE","$incompatible_count",320],["T_INC","++",320],";",["T_WHITESPACE","\n        ",320],["T_VARIABLE","$module_update_key",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_VARIABLE","$data",321],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",321],"]",["T_WHITESPACE"," ",321],".",["T_WHITESPACE"," ",321],["T_CONSTANT_ENCAPSED_STRING","'_updates'",321],";",["T_WHITESPACE","\n        ",321],["T_IF","if",322],["T_WHITESPACE"," ",322],"(",["T_ISSET","isset",322],"(",["T_VARIABLE","$build",322],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",322],"]","[",["T_VARIABLE","$module_update_key",322],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#items'",322],"]","[",["T_VARIABLE","$data",322],"[",["T_CONSTANT_ENCAPSED_STRING","'number'",322],"]","]",")",")",["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n          ",322],["T_IF","if",323],["T_WHITESPACE"," ",323],"(",["T_VARIABLE","$data",323],"[",["T_CONSTANT_ENCAPSED_STRING","'missing_dependencies'",323],"]",")",["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n            ",323],["T_VARIABLE","$text",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","t",324],"(",["T_CONSTANT_ENCAPSED_STRING","'This update will been skipped due to the following missing dependencies:'",324],")",["T_WHITESPACE"," ",324],".",["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","'<em>'",324],["T_WHITESPACE"," ",324],".",["T_WHITESPACE"," ",324],["T_STRING","implode",324],"(",["T_CONSTANT_ENCAPSED_STRING","', '",324],",",["T_WHITESPACE"," ",324],["T_VARIABLE","$data",324],"[",["T_CONSTANT_ENCAPSED_STRING","'missing_dependencies'",324],"]",")",["T_WHITESPACE"," ",324],".",["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","'<\/em>'",324],";",["T_WHITESPACE","\n          ",324],"}",["T_WHITESPACE","\n          ",325],["T_ELSE","else",326],["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n            ",326],["T_VARIABLE","$text",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","t",327],"(",["T_CONSTANT_ENCAPSED_STRING","\"This update will be skipped due to an error in the module's code.\"",327],")",";",["T_WHITESPACE","\n          ",327],"}",["T_WHITESPACE","\n          ",328],["T_VARIABLE","$build",329],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",329],"]","[",["T_VARIABLE","$module_update_key",329],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#items'",329],"]","[",["T_VARIABLE","$data",329],"[",["T_CONSTANT_ENCAPSED_STRING","'number'",329],"]","]",["T_WHITESPACE"," ",329],["T_CONCAT_EQUAL",".=",329],["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'<div class=\"warning\">'",329],["T_WHITESPACE"," ",329],".",["T_WHITESPACE"," ",329],["T_VARIABLE","$text",329],["T_WHITESPACE"," ",329],".",["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'<\/div>'",329],";",["T_WHITESPACE","\n        ",329],"}",["T_WHITESPACE","\n        ",330],["T_COMMENT","\/\/ Move the module containing this update to the top of the list.\n",331],["T_WHITESPACE","        ",332],["T_VARIABLE","$build",332],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",332],"]",["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_ARRAY","array",332],"(",["T_VARIABLE","$module_update_key",332],["T_WHITESPACE"," ",332],["T_DOUBLE_ARROW","=>",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$build",332],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",332],"]","[",["T_VARIABLE","$module_update_key",332],"]",")",["T_WHITESPACE"," ",332],"+",["T_WHITESPACE"," ",332],["T_VARIABLE","$build",332],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",332],"]",";",["T_WHITESPACE","\n      ",332],"}",["T_WHITESPACE","\n    ",333],"}",["T_WHITESPACE","\n\n    ",334],["T_COMMENT","\/\/ Warn the user if any updates were incompatible.\n",336],["T_WHITESPACE","    ",337],["T_IF","if",337],["T_WHITESPACE"," ",337],"(",["T_VARIABLE","$incompatible_updates_exist",337],")",["T_WHITESPACE"," ",337],"{",["T_WHITESPACE","\n      ",337],["T_STRING","drupal_set_message",338],"(",["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","t",338],"(",["T_CONSTANT_ENCAPSED_STRING","'Some of the pending updates cannot be applied because their dependencies were not met.'",338],")",",",["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","'warning'",338],")",";",["T_WHITESPACE","\n    ",338],"}",["T_WHITESPACE","\n\n    ",339],["T_IF","if",341],["T_WHITESPACE"," ",341],"(",["T_EMPTY","empty",341],"(",["T_VARIABLE","$count",341],")",")",["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\n      ",341],["T_STRING","drupal_set_message",342],"(",["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","t",342],"(",["T_CONSTANT_ENCAPSED_STRING","'No pending updates.'",342],")",")",";",["T_WHITESPACE","\n      ",342],["T_UNSET","unset",343],"(",["T_VARIABLE","$build",343],")",";",["T_WHITESPACE","\n      ",343],["T_VARIABLE","$build",344],"[",["T_CONSTANT_ENCAPSED_STRING","'links'",344],"]",["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_ARRAY","array",344],"(",["T_WHITESPACE","\n        ",344],["T_CONSTANT_ENCAPSED_STRING","'#theme'",345],["T_WHITESPACE"," ",345],["T_DOUBLE_ARROW","=>",345],["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","'links'",345],",",["T_WHITESPACE","\n        ",345],["T_CONSTANT_ENCAPSED_STRING","'#links'",346],["T_WHITESPACE"," ",346],["T_DOUBLE_ARROW","=>",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","helpfulLinks",346],"(",["T_VARIABLE","$request",346],")",",",["T_WHITESPACE","\n      ",346],")",";",["T_WHITESPACE","\n\n      ",347],["T_COMMENT","\/\/ No updates to run, so caches won't get flushed later.  Clear them now.\n",349],["T_WHITESPACE","      ",350],["T_STRING","drupal_flush_all_caches",350],"(",")",";",["T_WHITESPACE","\n    ",350],"}",["T_WHITESPACE","\n    ",351],["T_ELSE","else",352],["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n      ",352],["T_VARIABLE","$build",353],"[",["T_CONSTANT_ENCAPSED_STRING","'help'",353],"]",["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_ARRAY","array",353],"(",["T_WHITESPACE","\n        ",353],["T_CONSTANT_ENCAPSED_STRING","'#markup'",354],["T_WHITESPACE"," ",354],["T_DOUBLE_ARROW","=>",354],["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","'<p>'",354],["T_WHITESPACE"," ",354],".",["T_WHITESPACE"," ",354],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","t",354],"(",["T_CONSTANT_ENCAPSED_STRING","'The version of Drupal you are updating from has been automatically detected.'",354],")",["T_WHITESPACE"," ",354],".",["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","'<\/p>'",354],",",["T_WHITESPACE","\n        ",354],["T_CONSTANT_ENCAPSED_STRING","'#weight'",355],["T_WHITESPACE"," ",355],["T_DOUBLE_ARROW","=>",355],["T_WHITESPACE"," ",355],"-",["T_LNUMBER","5",355],",",["T_WHITESPACE","\n      ",355],")",";",["T_WHITESPACE","\n      ",356],["T_IF","if",357],["T_WHITESPACE"," ",357],"(",["T_VARIABLE","$incompatible_count",357],")",["T_WHITESPACE"," ",357],"{",["T_WHITESPACE","\n        ",357],["T_VARIABLE","$build",358],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",358],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#title'",358],"]",["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","formatPlural",358],"(",["T_WHITESPACE","\n          ",358],["T_VARIABLE","$count",359],",",["T_WHITESPACE","\n          ",359],["T_CONSTANT_ENCAPSED_STRING","'1 pending update (@number_applied to be applied, @number_incompatible skipped)'",360],",",["T_WHITESPACE","\n          ",360],["T_CONSTANT_ENCAPSED_STRING","'@count pending updates (@number_applied to be applied, @number_incompatible skipped)'",361],",",["T_WHITESPACE","\n          ",361],["T_ARRAY","array",362],"(",["T_CONSTANT_ENCAPSED_STRING","'@number_applied'",362],["T_WHITESPACE"," ",362],["T_DOUBLE_ARROW","=>",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$count",362],["T_WHITESPACE"," ",362],"-",["T_WHITESPACE"," ",362],["T_VARIABLE","$incompatible_count",362],",",["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","'@number_incompatible'",362],["T_WHITESPACE"," ",362],["T_DOUBLE_ARROW","=>",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$incompatible_count",362],")",["T_WHITESPACE","\n        ",362],")",";",["T_WHITESPACE","\n      ",363],"}",["T_WHITESPACE","\n      ",364],["T_ELSE","else",365],["T_WHITESPACE"," ",365],"{",["T_WHITESPACE","\n        ",365],["T_VARIABLE","$build",366],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",366],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#title'",366],"]",["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","formatPlural",366],"(",["T_VARIABLE","$count",366],",",["T_WHITESPACE"," ",366],["T_CONSTANT_ENCAPSED_STRING","'1 pending update'",366],",",["T_WHITESPACE"," ",366],["T_CONSTANT_ENCAPSED_STRING","'@count pending updates'",366],")",";",["T_WHITESPACE","\n      ",366],"}",["T_WHITESPACE","\n      ",367],["T_COMMENT","\/\/ @todo Simplify with https:\/\/www.drupal.org\/node\/2548095\n",368],["T_WHITESPACE","      ",369],["T_VARIABLE","$base_url",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_STRING","str_replace",369],"(",["T_CONSTANT_ENCAPSED_STRING","'\/update.php'",369],",",["T_WHITESPACE"," ",369],["T_CONSTANT_ENCAPSED_STRING","''",369],",",["T_WHITESPACE"," ",369],["T_VARIABLE","$request",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","getBaseUrl",369],"(",")",")",";",["T_WHITESPACE","\n      ",369],["T_VARIABLE","$url",370],["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],"(",["T_NEW","new",370],["T_WHITESPACE"," ",370],["T_STRING","Url",370],"(",["T_CONSTANT_ENCAPSED_STRING","'system.db_update'",370],",",["T_WHITESPACE"," ",370],["T_ARRAY","array",370],"(",["T_CONSTANT_ENCAPSED_STRING","'op'",370],["T_WHITESPACE"," ",370],["T_DOUBLE_ARROW","=>",370],["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'run'",370],")",")",")",["T_OBJECT_OPERATOR","->",370],["T_STRING","setOption",370],"(",["T_CONSTANT_ENCAPSED_STRING","'base_url'",370],",",["T_WHITESPACE"," ",370],["T_VARIABLE","$base_url",370],")",";",["T_WHITESPACE","\n      ",370],["T_VARIABLE","$build",371],"[",["T_CONSTANT_ENCAPSED_STRING","'link'",371],"]",["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_ARRAY","array",371],"(",["T_WHITESPACE","\n        ",371],["T_CONSTANT_ENCAPSED_STRING","'#type'",372],["T_WHITESPACE"," ",372],["T_DOUBLE_ARROW","=>",372],["T_WHITESPACE"," ",372],["T_CONSTANT_ENCAPSED_STRING","'link'",372],",",["T_WHITESPACE","\n        ",372],["T_CONSTANT_ENCAPSED_STRING","'#title'",373],["T_WHITESPACE"," ",373],["T_DOUBLE_ARROW","=>",373],["T_WHITESPACE"," ",373],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","t",373],"(",["T_CONSTANT_ENCAPSED_STRING","'Apply pending updates'",373],")",",",["T_WHITESPACE","\n        ",373],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",374],["T_WHITESPACE"," ",374],["T_DOUBLE_ARROW","=>",374],["T_WHITESPACE"," ",374],["T_ARRAY","array",374],"(",["T_CONSTANT_ENCAPSED_STRING","'class'",374],["T_WHITESPACE"," ",374],["T_DOUBLE_ARROW","=>",374],["T_WHITESPACE"," ",374],["T_ARRAY","array",374],"(",["T_CONSTANT_ENCAPSED_STRING","'button'",374],",",["T_WHITESPACE"," ",374],["T_CONSTANT_ENCAPSED_STRING","'button--primary'",374],")",")",",",["T_WHITESPACE","\n        ",374],["T_CONSTANT_ENCAPSED_STRING","'#weight'",375],["T_WHITESPACE"," ",375],["T_DOUBLE_ARROW","=>",375],["T_WHITESPACE"," ",375],["T_LNUMBER","5",375],",",["T_WHITESPACE","\n        ",375],["T_CONSTANT_ENCAPSED_STRING","'#url'",376],["T_WHITESPACE"," ",376],["T_DOUBLE_ARROW","=>",376],["T_WHITESPACE"," ",376],["T_VARIABLE","$url",376],",",["T_WHITESPACE","\n        ",376],["T_CONSTANT_ENCAPSED_STRING","'#access'",377],["T_WHITESPACE"," ",377],["T_DOUBLE_ARROW","=>",377],["T_WHITESPACE"," ",377],["T_VARIABLE","$url",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","access",377],"(",["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","currentUser",377],"(",")",")",",",["T_WHITESPACE","\n      ",377],")",";",["T_WHITESPACE","\n    ",378],"}",["T_WHITESPACE","\n\n    ",379],["T_RETURN","return",381],["T_WHITESPACE"," ",381],["T_VARIABLE","$build",381],";",["T_WHITESPACE","\n  ",381],"}",["T_WHITESPACE","\n\n  ",382],["T_DOC_COMMENT","\/**\n   * Displays results of the update script with any accompanying errors.\n   *\n   * @param \\Symfony\\Component\\HttpFoundation\\Request $request\n   *   The current request.\n   *\n   * @return array\n   *   A render array.\n   *\/",384],["T_WHITESPACE","\n  ",392],["T_PROTECTED","protected",393],["T_WHITESPACE"," ",393],["T_FUNCTION","function",393],["T_WHITESPACE"," ",393],["T_STRING","results",393],"(",["T_STRING","Request",393],["T_WHITESPACE"," ",393],["T_VARIABLE","$request",393],")",["T_WHITESPACE"," ",393],"{",["T_WHITESPACE","\n    ",393],["T_COMMENT","\/\/ @todo Simplify with https:\/\/www.drupal.org\/node\/2548095\n",394],["T_WHITESPACE","    ",395],["T_VARIABLE","$base_url",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_STRING","str_replace",395],"(",["T_CONSTANT_ENCAPSED_STRING","'\/update.php'",395],",",["T_WHITESPACE"," ",395],["T_CONSTANT_ENCAPSED_STRING","''",395],",",["T_WHITESPACE"," ",395],["T_VARIABLE","$request",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","getBaseUrl",395],"(",")",")",";",["T_WHITESPACE","\n\n    ",395],["T_COMMENT","\/\/ Report end result.\n",397],["T_WHITESPACE","    ",398],["T_VARIABLE","$dblog_exists",398],["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","moduleHandler",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","moduleExists",398],"(",["T_CONSTANT_ENCAPSED_STRING","'dblog'",398],")",";",["T_WHITESPACE","\n    ",398],["T_IF","if",399],["T_WHITESPACE"," ",399],"(",["T_VARIABLE","$dblog_exists",399],["T_WHITESPACE"," ",399],["T_BOOLEAN_AND","&&",399],["T_WHITESPACE"," ",399],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","account",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","hasPermission",399],"(",["T_CONSTANT_ENCAPSED_STRING","'access site reports'",399],")",")",["T_WHITESPACE"," ",399],"{",["T_WHITESPACE","\n      ",399],["T_VARIABLE","$log_message",400],["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","t",400],"(",["T_CONSTANT_ENCAPSED_STRING","'All errors have been <a href=\":url\">logged<\/a>.'",400],",",["T_WHITESPACE"," ",400],["T_ARRAY","array",400],"(",["T_WHITESPACE","\n        ",400],["T_CONSTANT_ENCAPSED_STRING","':url'",401],["T_WHITESPACE"," ",401],["T_DOUBLE_ARROW","=>",401],["T_WHITESPACE"," ",401],["T_STRING","Url",401],["T_DOUBLE_COLON","::",401],["T_STRING","fromRoute",401],"(",["T_CONSTANT_ENCAPSED_STRING","'dblog.overview'",401],")",["T_OBJECT_OPERATOR","->",401],["T_STRING","setOption",401],"(",["T_CONSTANT_ENCAPSED_STRING","'base_url'",401],",",["T_WHITESPACE"," ",401],["T_VARIABLE","$base_url",401],")",["T_OBJECT_OPERATOR","->",401],["T_STRING","toString",401],"(",["T_STRING","TRUE",401],")",["T_OBJECT_OPERATOR","->",401],["T_STRING","getGeneratedUrl",401],"(",")",",",["T_WHITESPACE","\n      ",401],")",")",";",["T_WHITESPACE","\n    ",402],"}",["T_WHITESPACE","\n    ",403],["T_ELSE","else",404],["T_WHITESPACE"," ",404],"{",["T_WHITESPACE","\n      ",404],["T_VARIABLE","$log_message",405],["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","t",405],"(",["T_CONSTANT_ENCAPSED_STRING","'All errors have been logged.'",405],")",";",["T_WHITESPACE","\n    ",405],"}",["T_WHITESPACE","\n\n    ",406],["T_IF","if",408],["T_WHITESPACE"," ",408],"(","!",["T_EMPTY","empty",408],"(",["T_VARIABLE","$_SESSION",408],"[",["T_CONSTANT_ENCAPSED_STRING","'update_success'",408],"]",")",")",["T_WHITESPACE"," ",408],"{",["T_WHITESPACE","\n      ",408],["T_VARIABLE","$message",409],["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_CONSTANT_ENCAPSED_STRING","'<p>'",409],["T_WHITESPACE"," ",409],".",["T_WHITESPACE"," ",409],["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","t",409],"(",["T_CONSTANT_ENCAPSED_STRING","'Updates were attempted. If you see no failures below, you may proceed happily back to your <a href=\":url\">site<\/a>. Otherwise, you may need to update your database manually.'",409],",",["T_WHITESPACE"," ",409],["T_ARRAY","array",409],"(",["T_CONSTANT_ENCAPSED_STRING","':url'",409],["T_WHITESPACE"," ",409],["T_DOUBLE_ARROW","=>",409],["T_WHITESPACE"," ",409],["T_STRING","Url",409],["T_DOUBLE_COLON","::",409],["T_STRING","fromRoute",409],"(",["T_CONSTANT_ENCAPSED_STRING","'<front>'",409],")",["T_OBJECT_OPERATOR","->",409],["T_STRING","setOption",409],"(",["T_CONSTANT_ENCAPSED_STRING","'base_url'",409],",",["T_WHITESPACE"," ",409],["T_VARIABLE","$base_url",409],")",["T_OBJECT_OPERATOR","->",409],["T_STRING","toString",409],"(",["T_STRING","TRUE",409],")",["T_OBJECT_OPERATOR","->",409],["T_STRING","getGeneratedUrl",409],"(",")",")",")",["T_WHITESPACE"," ",409],".",["T_WHITESPACE"," ",409],["T_CONSTANT_ENCAPSED_STRING","' '",409],["T_WHITESPACE"," ",409],".",["T_WHITESPACE"," ",409],["T_VARIABLE","$log_message",409],["T_WHITESPACE"," ",409],".",["T_WHITESPACE"," ",409],["T_CONSTANT_ENCAPSED_STRING","'<\/p>'",409],";",["T_WHITESPACE","\n    ",409],"}",["T_WHITESPACE","\n    ",410],["T_ELSE","else",411],["T_WHITESPACE"," ",411],"{",["T_WHITESPACE","\n      ",411],["T_VARIABLE","$last",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_STRING","reset",412],"(",["T_VARIABLE","$_SESSION",412],"[",["T_CONSTANT_ENCAPSED_STRING","'updates_remaining'",412],"]",")",";",["T_WHITESPACE","\n      ",412],["T_LIST","list",413],"(",["T_VARIABLE","$module",413],",",["T_WHITESPACE"," ",413],["T_VARIABLE","$version",413],")",["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_STRING","array_pop",413],"(",["T_VARIABLE","$last",413],")",";",["T_WHITESPACE","\n      ",413],["T_VARIABLE","$message",414],["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_CONSTANT_ENCAPSED_STRING","'<p class=\"error\">'",414],["T_WHITESPACE"," ",414],".",["T_WHITESPACE"," ",414],["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","t",414],"(",["T_CONSTANT_ENCAPSED_STRING","'The update process was aborted prematurely while running <strong>update #@version in @module.module<\/strong>.'",414],",",["T_WHITESPACE"," ",414],["T_ARRAY","array",414],"(",["T_WHITESPACE","\n        ",414],["T_CONSTANT_ENCAPSED_STRING","'@version'",415],["T_WHITESPACE"," ",415],["T_DOUBLE_ARROW","=>",415],["T_WHITESPACE"," ",415],["T_VARIABLE","$version",415],",",["T_WHITESPACE","\n        ",415],["T_CONSTANT_ENCAPSED_STRING","'@module'",416],["T_WHITESPACE"," ",416],["T_DOUBLE_ARROW","=>",416],["T_WHITESPACE"," ",416],["T_VARIABLE","$module",416],",",["T_WHITESPACE","\n      ",416],")",")",["T_WHITESPACE"," ",417],".",["T_WHITESPACE"," ",417],["T_CONSTANT_ENCAPSED_STRING","' '",417],["T_WHITESPACE"," ",417],".",["T_WHITESPACE"," ",417],["T_VARIABLE","$log_message",417],";",["T_WHITESPACE","\n      ",417],["T_IF","if",418],["T_WHITESPACE"," ",418],"(",["T_VARIABLE","$dblog_exists",418],")",["T_WHITESPACE"," ",418],"{",["T_WHITESPACE","\n        ",418],["T_VARIABLE","$message",419],["T_WHITESPACE"," ",419],["T_CONCAT_EQUAL",".=",419],["T_WHITESPACE"," ",419],["T_CONSTANT_ENCAPSED_STRING","' '",419],["T_WHITESPACE"," ",419],".",["T_WHITESPACE"," ",419],["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","t",419],"(",["T_CONSTANT_ENCAPSED_STRING","'You may need to check the <code>watchdog<\/code> database table manually.'",419],")",";",["T_WHITESPACE","\n      ",419],"}",["T_WHITESPACE","\n      ",420],["T_VARIABLE","$message",421],["T_WHITESPACE"," ",421],["T_CONCAT_EQUAL",".=",421],["T_WHITESPACE"," ",421],["T_CONSTANT_ENCAPSED_STRING","'<\/p>'",421],";",["T_WHITESPACE","\n    ",421],"}",["T_WHITESPACE","\n\n    ",422],["T_IF","if",424],["T_WHITESPACE"," ",424],"(",["T_STRING","Settings",424],["T_DOUBLE_COLON","::",424],["T_STRING","get",424],"(",["T_CONSTANT_ENCAPSED_STRING","'update_free_access'",424],")",")",["T_WHITESPACE"," ",424],"{",["T_WHITESPACE","\n      ",424],["T_VARIABLE","$message",425],["T_WHITESPACE"," ",425],["T_CONCAT_EQUAL",".=",425],["T_WHITESPACE"," ",425],["T_CONSTANT_ENCAPSED_STRING","'<p>'",425],["T_WHITESPACE"," ",425],".",["T_WHITESPACE"," ",425],["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","t",425],"(",["T_CONSTANT_ENCAPSED_STRING","\"<strong>Reminder: don't forget to set the <code>\\$settings['update_free_access']<\/code> value in your <code>settings.php<\/code> file back to <code>FALSE<\/code>.<\/strong>\"",425],")",["T_WHITESPACE"," ",425],".",["T_WHITESPACE"," ",425],["T_CONSTANT_ENCAPSED_STRING","'<\/p>'",425],";",["T_WHITESPACE","\n    ",425],"}",["T_WHITESPACE","\n\n    ",426],["T_VARIABLE","$build",428],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",428],"]",["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_ARRAY","array",428],"(",["T_WHITESPACE","\n      ",428],["T_CONSTANT_ENCAPSED_STRING","'#markup'",429],["T_WHITESPACE"," ",429],["T_DOUBLE_ARROW","=>",429],["T_WHITESPACE"," ",429],["T_VARIABLE","$message",429],",",["T_WHITESPACE","\n    ",429],")",";",["T_WHITESPACE","\n    ",430],["T_VARIABLE","$build",431],"[",["T_CONSTANT_ENCAPSED_STRING","'links'",431],"]",["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_ARRAY","array",431],"(",["T_WHITESPACE","\n      ",431],["T_CONSTANT_ENCAPSED_STRING","'#theme'",432],["T_WHITESPACE"," ",432],["T_DOUBLE_ARROW","=>",432],["T_WHITESPACE"," ",432],["T_CONSTANT_ENCAPSED_STRING","'links'",432],",",["T_WHITESPACE","\n      ",432],["T_CONSTANT_ENCAPSED_STRING","'#links'",433],["T_WHITESPACE"," ",433],["T_DOUBLE_ARROW","=>",433],["T_WHITESPACE"," ",433],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","helpfulLinks",433],"(",["T_VARIABLE","$request",433],")",",",["T_WHITESPACE","\n    ",433],")",";",["T_WHITESPACE","\n\n    ",434],["T_COMMENT","\/\/ Output a list of info messages.\n",436],["T_WHITESPACE","    ",437],["T_IF","if",437],["T_WHITESPACE"," ",437],"(","!",["T_EMPTY","empty",437],"(",["T_VARIABLE","$_SESSION",437],"[",["T_CONSTANT_ENCAPSED_STRING","'update_results'",437],"]",")",")",["T_WHITESPACE"," ",437],"{",["T_WHITESPACE","\n      ",437],["T_VARIABLE","$all_messages",438],["T_WHITESPACE"," ",438],"=",["T_WHITESPACE"," ",438],["T_ARRAY","array",438],"(",")",";",["T_WHITESPACE","\n      ",438],["T_FOREACH","foreach",439],["T_WHITESPACE"," ",439],"(",["T_VARIABLE","$_SESSION",439],"[",["T_CONSTANT_ENCAPSED_STRING","'update_results'",439],"]",["T_WHITESPACE"," ",439],["T_AS","as",439],["T_WHITESPACE"," ",439],["T_VARIABLE","$module",439],["T_WHITESPACE"," ",439],["T_DOUBLE_ARROW","=>",439],["T_WHITESPACE"," ",439],["T_VARIABLE","$updates",439],")",["T_WHITESPACE"," ",439],"{",["T_WHITESPACE","\n        ",439],["T_IF","if",440],["T_WHITESPACE"," ",440],"(",["T_VARIABLE","$module",440],["T_WHITESPACE"," ",440],["T_IS_NOT_EQUAL","!=",440],["T_WHITESPACE"," ",440],["T_CONSTANT_ENCAPSED_STRING","'#abort'",440],")",["T_WHITESPACE"," ",440],"{",["T_WHITESPACE","\n          ",440],["T_VARIABLE","$module_has_message",441],["T_WHITESPACE"," ",441],"=",["T_WHITESPACE"," ",441],["T_STRING","FALSE",441],";",["T_WHITESPACE","\n          ",441],["T_VARIABLE","$info_messages",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_ARRAY","array",442],"(",")",";",["T_WHITESPACE","\n          ",442],["T_FOREACH","foreach",443],["T_WHITESPACE"," ",443],"(",["T_VARIABLE","$updates",443],["T_WHITESPACE"," ",443],["T_AS","as",443],["T_WHITESPACE"," ",443],["T_VARIABLE","$name",443],["T_WHITESPACE"," ",443],["T_DOUBLE_ARROW","=>",443],["T_WHITESPACE"," ",443],["T_VARIABLE","$queries",443],")",["T_WHITESPACE"," ",443],"{",["T_WHITESPACE","\n            ",443],["T_VARIABLE","$messages",444],["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_ARRAY","array",444],"(",")",";",["T_WHITESPACE","\n            ",444],["T_FOREACH","foreach",445],["T_WHITESPACE"," ",445],"(",["T_VARIABLE","$queries",445],["T_WHITESPACE"," ",445],["T_AS","as",445],["T_WHITESPACE"," ",445],["T_VARIABLE","$query",445],")",["T_WHITESPACE"," ",445],"{",["T_WHITESPACE","\n              ",445],["T_COMMENT","\/\/ If there is no message for this update, don't show anything.\n",446],["T_WHITESPACE","              ",447],["T_IF","if",447],["T_WHITESPACE"," ",447],"(",["T_EMPTY","empty",447],"(",["T_VARIABLE","$query",447],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",447],"]",")",")",["T_WHITESPACE"," ",447],"{",["T_WHITESPACE","\n                ",447],["T_CONTINUE","continue",448],";",["T_WHITESPACE","\n              ",448],"}",["T_WHITESPACE","\n\n              ",449],["T_IF","if",451],["T_WHITESPACE"," ",451],"(",["T_VARIABLE","$query",451],"[",["T_CONSTANT_ENCAPSED_STRING","'success'",451],"]",")",["T_WHITESPACE"," ",451],"{",["T_WHITESPACE","\n                ",451],["T_VARIABLE","$messages",452],"[","]",["T_WHITESPACE"," ",452],"=",["T_WHITESPACE"," ",452],["T_ARRAY","array",452],"(",["T_WHITESPACE","\n                  ",452],["T_CONSTANT_ENCAPSED_STRING","'#wrapper_attributes'",453],["T_WHITESPACE"," ",453],["T_DOUBLE_ARROW","=>",453],["T_WHITESPACE"," ",453],["T_ARRAY","array",453],"(",["T_CONSTANT_ENCAPSED_STRING","'class'",453],["T_WHITESPACE"," ",453],["T_DOUBLE_ARROW","=>",453],["T_WHITESPACE"," ",453],["T_ARRAY","array",453],"(",["T_CONSTANT_ENCAPSED_STRING","'success'",453],")",")",",",["T_WHITESPACE","\n                  ",453],["T_CONSTANT_ENCAPSED_STRING","'#markup'",454],["T_WHITESPACE"," ",454],["T_DOUBLE_ARROW","=>",454],["T_WHITESPACE"," ",454],["T_VARIABLE","$query",454],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",454],"]",",",["T_WHITESPACE","\n                ",454],")",";",["T_WHITESPACE","\n              ",455],"}",["T_WHITESPACE","\n              ",456],["T_ELSE","else",457],["T_WHITESPACE"," ",457],"{",["T_WHITESPACE","\n                ",457],["T_VARIABLE","$messages",458],"[","]",["T_WHITESPACE"," ",458],"=",["T_WHITESPACE"," ",458],["T_ARRAY","array",458],"(",["T_WHITESPACE","\n                  ",458],["T_CONSTANT_ENCAPSED_STRING","'#wrapper_attributes'",459],["T_WHITESPACE"," ",459],["T_DOUBLE_ARROW","=>",459],["T_WHITESPACE"," ",459],["T_ARRAY","array",459],"(",["T_CONSTANT_ENCAPSED_STRING","'class'",459],["T_WHITESPACE"," ",459],["T_DOUBLE_ARROW","=>",459],["T_WHITESPACE"," ",459],["T_ARRAY","array",459],"(",["T_CONSTANT_ENCAPSED_STRING","'failure'",459],")",")",",",["T_WHITESPACE","\n                  ",459],["T_CONSTANT_ENCAPSED_STRING","'#markup'",460],["T_WHITESPACE"," ",460],["T_DOUBLE_ARROW","=>",460],["T_WHITESPACE"," ",460],["T_CONSTANT_ENCAPSED_STRING","'<strong>'",460],["T_WHITESPACE"," ",460],".",["T_WHITESPACE"," ",460],["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","t",460],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed:'",460],")",["T_WHITESPACE"," ",460],".",["T_WHITESPACE"," ",460],["T_CONSTANT_ENCAPSED_STRING","'<\/strong> '",460],["T_WHITESPACE"," ",460],".",["T_WHITESPACE"," ",460],["T_VARIABLE","$query",460],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",460],"]",",",["T_WHITESPACE","\n                ",460],")",";",["T_WHITESPACE","\n              ",461],"}",["T_WHITESPACE","\n            ",462],"}",["T_WHITESPACE","\n\n            ",463],["T_IF","if",465],["T_WHITESPACE"," ",465],"(",["T_VARIABLE","$messages",465],")",["T_WHITESPACE"," ",465],"{",["T_WHITESPACE","\n              ",465],["T_VARIABLE","$module_has_message",466],["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],["T_STRING","TRUE",466],";",["T_WHITESPACE","\n              ",466],["T_IF","if",467],["T_WHITESPACE"," ",467],"(",["T_STRING","is_numeric",467],"(",["T_VARIABLE","$name",467],")",")",["T_WHITESPACE"," ",467],"{",["T_WHITESPACE","\n                ",467],["T_VARIABLE","$title",468],["T_WHITESPACE"," ",468],"=",["T_WHITESPACE"," ",468],["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","t",468],"(",["T_CONSTANT_ENCAPSED_STRING","'Update #@count'",468],",",["T_WHITESPACE"," ",468],"[",["T_CONSTANT_ENCAPSED_STRING","'@count'",468],["T_WHITESPACE"," ",468],["T_DOUBLE_ARROW","=>",468],["T_WHITESPACE"," ",468],["T_VARIABLE","$name",468],"]",")",";",["T_WHITESPACE","\n              ",468],"}",["T_WHITESPACE","\n              ",469],["T_ELSE","else",470],["T_WHITESPACE"," ",470],"{",["T_WHITESPACE","\n                ",470],["T_VARIABLE","$title",471],["T_WHITESPACE"," ",471],"=",["T_WHITESPACE"," ",471],["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","t",471],"(",["T_CONSTANT_ENCAPSED_STRING","'Update @name'",471],",",["T_WHITESPACE"," ",471],"[",["T_CONSTANT_ENCAPSED_STRING","'@name'",471],["T_WHITESPACE"," ",471],["T_DOUBLE_ARROW","=>",471],["T_WHITESPACE"," ",471],["T_STRING","trim",471],"(",["T_VARIABLE","$name",471],",",["T_WHITESPACE"," ",471],["T_CONSTANT_ENCAPSED_STRING","'_'",471],")","]",")",";",["T_WHITESPACE","\n              ",471],"}",["T_WHITESPACE","\n              ",472],["T_VARIABLE","$info_messages",473],"[","]",["T_WHITESPACE"," ",473],"=",["T_WHITESPACE"," ",473],["T_ARRAY","array",473],"(",["T_WHITESPACE","\n                ",473],["T_CONSTANT_ENCAPSED_STRING","'#theme'",474],["T_WHITESPACE"," ",474],["T_DOUBLE_ARROW","=>",474],["T_WHITESPACE"," ",474],["T_CONSTANT_ENCAPSED_STRING","'item_list'",474],",",["T_WHITESPACE","\n                ",474],["T_CONSTANT_ENCAPSED_STRING","'#items'",475],["T_WHITESPACE"," ",475],["T_DOUBLE_ARROW","=>",475],["T_WHITESPACE"," ",475],["T_VARIABLE","$messages",475],",",["T_WHITESPACE","\n                ",475],["T_CONSTANT_ENCAPSED_STRING","'#title'",476],["T_WHITESPACE"," ",476],["T_DOUBLE_ARROW","=>",476],["T_WHITESPACE"," ",476],["T_VARIABLE","$title",476],",",["T_WHITESPACE","\n              ",476],")",";",["T_WHITESPACE","\n            ",477],"}",["T_WHITESPACE","\n          ",478],"}",["T_WHITESPACE","\n\n          ",479],["T_COMMENT","\/\/ If there were any messages then prefix them with the module name\n",481],["T_WHITESPACE","          ",482],["T_COMMENT","\/\/ and add it to the global message list.\n",482],["T_WHITESPACE","          ",483],["T_IF","if",483],["T_WHITESPACE"," ",483],"(",["T_VARIABLE","$module_has_message",483],")",["T_WHITESPACE"," ",483],"{",["T_WHITESPACE","\n            ",483],["T_VARIABLE","$all_messages",484],"[","]",["T_WHITESPACE"," ",484],"=",["T_WHITESPACE"," ",484],["T_ARRAY","array",484],"(",["T_WHITESPACE","\n              ",484],["T_CONSTANT_ENCAPSED_STRING","'#type'",485],["T_WHITESPACE"," ",485],["T_DOUBLE_ARROW","=>",485],["T_WHITESPACE"," ",485],["T_CONSTANT_ENCAPSED_STRING","'container'",485],",",["T_WHITESPACE","\n              ",485],["T_CONSTANT_ENCAPSED_STRING","'#prefix'",486],["T_WHITESPACE"," ",486],["T_DOUBLE_ARROW","=>",486],["T_WHITESPACE"," ",486],["T_CONSTANT_ENCAPSED_STRING","'<h3>'",486],["T_WHITESPACE"," ",486],".",["T_WHITESPACE"," ",486],["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","t",486],"(",["T_CONSTANT_ENCAPSED_STRING","'@module module'",486],",",["T_WHITESPACE"," ",486],["T_ARRAY","array",486],"(",["T_CONSTANT_ENCAPSED_STRING","'@module'",486],["T_WHITESPACE"," ",486],["T_DOUBLE_ARROW","=>",486],["T_WHITESPACE"," ",486],["T_VARIABLE","$module",486],")",")",["T_WHITESPACE"," ",486],".",["T_WHITESPACE"," ",486],["T_CONSTANT_ENCAPSED_STRING","'<\/h3>'",486],",",["T_WHITESPACE","\n              ",486],["T_CONSTANT_ENCAPSED_STRING","'#children'",487],["T_WHITESPACE"," ",487],["T_DOUBLE_ARROW","=>",487],["T_WHITESPACE"," ",487],["T_VARIABLE","$info_messages",487],",",["T_WHITESPACE","\n            ",487],")",";",["T_WHITESPACE","\n          ",488],"}",["T_WHITESPACE","\n        ",489],"}",["T_WHITESPACE","\n      ",490],"}",["T_WHITESPACE","\n      ",491],["T_IF","if",492],["T_WHITESPACE"," ",492],"(",["T_VARIABLE","$all_messages",492],")",["T_WHITESPACE"," ",492],"{",["T_WHITESPACE","\n        ",492],["T_VARIABLE","$build",493],"[",["T_CONSTANT_ENCAPSED_STRING","'query_messages'",493],"]",["T_WHITESPACE"," ",493],"=",["T_WHITESPACE"," ",493],["T_ARRAY","array",493],"(",["T_WHITESPACE","\n          ",493],["T_CONSTANT_ENCAPSED_STRING","'#type'",494],["T_WHITESPACE"," ",494],["T_DOUBLE_ARROW","=>",494],["T_WHITESPACE"," ",494],["T_CONSTANT_ENCAPSED_STRING","'container'",494],",",["T_WHITESPACE","\n          ",494],["T_CONSTANT_ENCAPSED_STRING","'#children'",495],["T_WHITESPACE"," ",495],["T_DOUBLE_ARROW","=>",495],["T_WHITESPACE"," ",495],["T_VARIABLE","$all_messages",495],",",["T_WHITESPACE","\n          ",495],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",496],["T_WHITESPACE"," ",496],["T_DOUBLE_ARROW","=>",496],["T_WHITESPACE"," ",496],["T_ARRAY","array",496],"(",["T_CONSTANT_ENCAPSED_STRING","'class'",496],["T_WHITESPACE"," ",496],["T_DOUBLE_ARROW","=>",496],["T_WHITESPACE"," ",496],["T_ARRAY","array",496],"(",["T_CONSTANT_ENCAPSED_STRING","'update-results'",496],")",")",",",["T_WHITESPACE","\n          ",496],["T_CONSTANT_ENCAPSED_STRING","'#prefix'",497],["T_WHITESPACE"," ",497],["T_DOUBLE_ARROW","=>",497],["T_WHITESPACE"," ",497],["T_CONSTANT_ENCAPSED_STRING","'<h2>'",497],["T_WHITESPACE"," ",497],".",["T_WHITESPACE"," ",497],["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","t",497],"(",["T_CONSTANT_ENCAPSED_STRING","'The following updates returned messages:'",497],")",["T_WHITESPACE"," ",497],".",["T_WHITESPACE"," ",497],["T_CONSTANT_ENCAPSED_STRING","'<\/h2>'",497],",",["T_WHITESPACE","\n        ",497],")",";",["T_WHITESPACE","\n      ",498],"}",["T_WHITESPACE","\n    ",499],"}",["T_WHITESPACE","\n    ",500],["T_UNSET","unset",501],"(",["T_VARIABLE","$_SESSION",501],"[",["T_CONSTANT_ENCAPSED_STRING","'update_results'",501],"]",")",";",["T_WHITESPACE","\n    ",501],["T_UNSET","unset",502],"(",["T_VARIABLE","$_SESSION",502],"[",["T_CONSTANT_ENCAPSED_STRING","'update_success'",502],"]",")",";",["T_WHITESPACE","\n    ",502],["T_UNSET","unset",503],"(",["T_VARIABLE","$_SESSION",503],"[",["T_CONSTANT_ENCAPSED_STRING","'update_ignore_warnings'",503],"]",")",";",["T_WHITESPACE","\n\n    ",503],["T_RETURN","return",505],["T_WHITESPACE"," ",505],["T_VARIABLE","$build",505],";",["T_WHITESPACE","\n  ",505],"}",["T_WHITESPACE","\n\n  ",506],["T_DOC_COMMENT","\/**\n   * Renders a list of requirement errors or warnings.\n   *\n   * @param \\Symfony\\Component\\HttpFoundation\\Request $request\n   *   The current request.\n   *\n   * @return array\n   *   A render array.\n   *\/",508],["T_WHITESPACE","\n  ",516],["T_PUBLIC","public",517],["T_WHITESPACE"," ",517],["T_FUNCTION","function",517],["T_WHITESPACE"," ",517],["T_STRING","requirements",517],"(",["T_VARIABLE","$severity",517],",",["T_WHITESPACE"," ",517],["T_ARRAY","array",517],["T_WHITESPACE"," ",517],["T_VARIABLE","$requirements",517],",",["T_WHITESPACE"," ",517],["T_STRING","Request",517],["T_WHITESPACE"," ",517],["T_VARIABLE","$request",517],")",["T_WHITESPACE"," ",517],"{",["T_WHITESPACE","\n    ",517],["T_VARIABLE","$options",518],["T_WHITESPACE"," ",518],"=",["T_WHITESPACE"," ",518],["T_VARIABLE","$severity",518],["T_WHITESPACE"," ",518],["T_IS_EQUAL","==",518],["T_WHITESPACE"," ",518],["T_STRING","REQUIREMENT_WARNING",518],["T_WHITESPACE"," ",518],"?",["T_WHITESPACE"," ",518],["T_ARRAY","array",518],"(",["T_CONSTANT_ENCAPSED_STRING","'continue'",518],["T_WHITESPACE"," ",518],["T_DOUBLE_ARROW","=>",518],["T_WHITESPACE"," ",518],["T_LNUMBER","1",518],")",["T_WHITESPACE"," ",518],":",["T_WHITESPACE"," ",518],["T_ARRAY","array",518],"(",")",";",["T_WHITESPACE","\n    ",518],["T_COMMENT","\/\/ @todo Revisit once https:\/\/www.drupal.org\/node\/2548095 is in. Something\n",519],["T_WHITESPACE","    ",520],["T_COMMENT","\/\/ like Url::fromRoute('system.db_update')->setOptions() should then be\n",520],["T_WHITESPACE","    ",521],["T_COMMENT","\/\/ possible.\n",521],["T_WHITESPACE","    ",522],["T_VARIABLE","$try_again_url",522],["T_WHITESPACE"," ",522],"=",["T_WHITESPACE"," ",522],["T_STRING","Url",522],["T_DOUBLE_COLON","::",522],["T_STRING","fromUri",522],"(",["T_VARIABLE","$request",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","getUriForPath",522],"(",["T_CONSTANT_ENCAPSED_STRING","''",522],")",")",["T_OBJECT_OPERATOR","->",522],["T_STRING","setOptions",522],"(","[",["T_CONSTANT_ENCAPSED_STRING","'query'",522],["T_WHITESPACE"," ",522],["T_DOUBLE_ARROW","=>",522],["T_WHITESPACE"," ",522],["T_VARIABLE","$options",522],"]",")",["T_OBJECT_OPERATOR","->",522],["T_STRING","toString",522],"(",["T_STRING","TRUE",522],")",["T_OBJECT_OPERATOR","->",522],["T_STRING","getGeneratedUrl",522],"(",")",";",["T_WHITESPACE","\n\n    ",522],["T_VARIABLE","$build",524],"[",["T_CONSTANT_ENCAPSED_STRING","'status_report'",524],"]",["T_WHITESPACE"," ",524],"=",["T_WHITESPACE"," ",524],["T_ARRAY","array",524],"(",["T_WHITESPACE","\n      ",524],["T_CONSTANT_ENCAPSED_STRING","'#theme'",525],["T_WHITESPACE"," ",525],["T_DOUBLE_ARROW","=>",525],["T_WHITESPACE"," ",525],["T_CONSTANT_ENCAPSED_STRING","'status_report'",525],",",["T_WHITESPACE","\n      ",525],["T_CONSTANT_ENCAPSED_STRING","'#requirements'",526],["T_WHITESPACE"," ",526],["T_DOUBLE_ARROW","=>",526],["T_WHITESPACE"," ",526],["T_VARIABLE","$requirements",526],",",["T_WHITESPACE","\n      ",526],["T_CONSTANT_ENCAPSED_STRING","'#suffix'",527],["T_WHITESPACE"," ",527],["T_DOUBLE_ARROW","=>",527],["T_WHITESPACE"," ",527],["T_VARIABLE","$this",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","t",527],"(",["T_CONSTANT_ENCAPSED_STRING","'Check the messages and <a href=\":url\">try again<\/a>.'",527],",",["T_WHITESPACE"," ",527],["T_ARRAY","array",527],"(",["T_CONSTANT_ENCAPSED_STRING","':url'",527],["T_WHITESPACE"," ",527],["T_DOUBLE_ARROW","=>",527],["T_WHITESPACE"," ",527],["T_VARIABLE","$try_again_url",527],")",")",["T_WHITESPACE","\n    ",527],")",";",["T_WHITESPACE","\n\n    ",528],["T_VARIABLE","$build",530],"[",["T_CONSTANT_ENCAPSED_STRING","'#title'",530],"]",["T_WHITESPACE"," ",530],"=",["T_WHITESPACE"," ",530],["T_VARIABLE","$this",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","t",530],"(",["T_CONSTANT_ENCAPSED_STRING","'Requirements problem'",530],")",";",["T_WHITESPACE","\n    ",530],["T_RETURN","return",531],["T_WHITESPACE"," ",531],["T_VARIABLE","$build",531],";",["T_WHITESPACE","\n  ",531],"}",["T_WHITESPACE","\n\n  ",532],["T_DOC_COMMENT","\/**\n   * Provides the update task list render array.\n   *\n   * @param string $active\n   *   The active task.\n   *   Can be one of 'requirements', 'info', 'selection', 'run', 'results'.\n   *\n   * @return array\n   *   A render array.\n   *\/",534],["T_WHITESPACE","\n  ",543],["T_PROTECTED","protected",544],["T_WHITESPACE"," ",544],["T_FUNCTION","function",544],["T_WHITESPACE"," ",544],["T_STRING","updateTasksList",544],"(",["T_VARIABLE","$active",544],["T_WHITESPACE"," ",544],"=",["T_WHITESPACE"," ",544],["T_STRING","NULL",544],")",["T_WHITESPACE"," ",544],"{",["T_WHITESPACE","\n    ",544],["T_COMMENT","\/\/ Default list of tasks.\n",545],["T_WHITESPACE","    ",546],["T_VARIABLE","$tasks",546],["T_WHITESPACE"," ",546],"=",["T_WHITESPACE"," ",546],["T_ARRAY","array",546],"(",["T_WHITESPACE","\n      ",546],["T_CONSTANT_ENCAPSED_STRING","'requirements'",547],["T_WHITESPACE"," ",547],["T_DOUBLE_ARROW","=>",547],["T_WHITESPACE"," ",547],["T_VARIABLE","$this",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","t",547],"(",["T_CONSTANT_ENCAPSED_STRING","'Verify requirements'",547],")",",",["T_WHITESPACE","\n      ",547],["T_CONSTANT_ENCAPSED_STRING","'info'",548],["T_WHITESPACE"," ",548],["T_DOUBLE_ARROW","=>",548],["T_WHITESPACE"," ",548],["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","t",548],"(",["T_CONSTANT_ENCAPSED_STRING","'Overview'",548],")",",",["T_WHITESPACE","\n      ",548],["T_CONSTANT_ENCAPSED_STRING","'selection'",549],["T_WHITESPACE"," ",549],["T_DOUBLE_ARROW","=>",549],["T_WHITESPACE"," ",549],["T_VARIABLE","$this",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","t",549],"(",["T_CONSTANT_ENCAPSED_STRING","'Review updates'",549],")",",",["T_WHITESPACE","\n      ",549],["T_CONSTANT_ENCAPSED_STRING","'run'",550],["T_WHITESPACE"," ",550],["T_DOUBLE_ARROW","=>",550],["T_WHITESPACE"," ",550],["T_VARIABLE","$this",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","t",550],"(",["T_CONSTANT_ENCAPSED_STRING","'Run updates'",550],")",",",["T_WHITESPACE","\n      ",550],["T_CONSTANT_ENCAPSED_STRING","'results'",551],["T_WHITESPACE"," ",551],["T_DOUBLE_ARROW","=>",551],["T_WHITESPACE"," ",551],["T_VARIABLE","$this",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","t",551],"(",["T_CONSTANT_ENCAPSED_STRING","'Review log'",551],")",",",["T_WHITESPACE","\n    ",551],")",";",["T_WHITESPACE","\n\n    ",552],["T_VARIABLE","$task_list",554],["T_WHITESPACE"," ",554],"=",["T_WHITESPACE"," ",554],["T_ARRAY","array",554],"(",["T_WHITESPACE","\n      ",554],["T_CONSTANT_ENCAPSED_STRING","'#theme'",555],["T_WHITESPACE"," ",555],["T_DOUBLE_ARROW","=>",555],["T_WHITESPACE"," ",555],["T_CONSTANT_ENCAPSED_STRING","'maintenance_task_list'",555],",",["T_WHITESPACE","\n      ",555],["T_CONSTANT_ENCAPSED_STRING","'#items'",556],["T_WHITESPACE"," ",556],["T_DOUBLE_ARROW","=>",556],["T_WHITESPACE"," ",556],["T_VARIABLE","$tasks",556],",",["T_WHITESPACE","\n      ",556],["T_CONSTANT_ENCAPSED_STRING","'#active'",557],["T_WHITESPACE"," ",557],["T_DOUBLE_ARROW","=>",557],["T_WHITESPACE"," ",557],["T_VARIABLE","$active",557],",",["T_WHITESPACE","\n    ",557],")",";",["T_WHITESPACE","\n    ",558],["T_RETURN","return",559],["T_WHITESPACE"," ",559],["T_VARIABLE","$task_list",559],";",["T_WHITESPACE","\n  ",559],"}",["T_WHITESPACE","\n\n  ",560],["T_DOC_COMMENT","\/**\n   * Starts the database update batch process.\n   *\n   * @param \\Symfony\\Component\\HttpFoundation\\Request $request\n   *   The current request object.\n   *\/",562],["T_WHITESPACE","\n  ",567],["T_PROTECTED","protected",568],["T_WHITESPACE"," ",568],["T_FUNCTION","function",568],["T_WHITESPACE"," ",568],["T_STRING","triggerBatch",568],"(",["T_STRING","Request",568],["T_WHITESPACE"," ",568],["T_VARIABLE","$request",568],")",["T_WHITESPACE"," ",568],"{",["T_WHITESPACE","\n    ",568],["T_VARIABLE","$maintenance_mode",569],["T_WHITESPACE"," ",569],"=",["T_WHITESPACE"," ",569],["T_VARIABLE","$this",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","state",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","get",569],"(",["T_CONSTANT_ENCAPSED_STRING","'system.maintenance_mode'",569],",",["T_WHITESPACE"," ",569],["T_STRING","FALSE",569],")",";",["T_WHITESPACE","\n    ",569],["T_COMMENT","\/\/ Store the current maintenance mode status in the session so that it can\n",570],["T_WHITESPACE","    ",571],["T_COMMENT","\/\/ be restored at the end of the batch.\n",571],["T_WHITESPACE","    ",572],["T_VARIABLE","$_SESSION",572],"[",["T_CONSTANT_ENCAPSED_STRING","'maintenance_mode'",572],"]",["T_WHITESPACE"," ",572],"=",["T_WHITESPACE"," ",572],["T_VARIABLE","$maintenance_mode",572],";",["T_WHITESPACE","\n    ",572],["T_COMMENT","\/\/ During the update, always put the site into maintenance mode so that\n",573],["T_WHITESPACE","    ",574],["T_COMMENT","\/\/ in-progress schema changes do not affect visiting users.\n",574],["T_WHITESPACE","    ",575],["T_IF","if",575],["T_WHITESPACE"," ",575],"(",["T_EMPTY","empty",575],"(",["T_VARIABLE","$maintenance_mode",575],")",")",["T_WHITESPACE"," ",575],"{",["T_WHITESPACE","\n      ",575],["T_VARIABLE","$this",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","state",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","set",576],"(",["T_CONSTANT_ENCAPSED_STRING","'system.maintenance_mode'",576],",",["T_WHITESPACE"," ",576],["T_STRING","TRUE",576],")",";",["T_WHITESPACE","\n    ",576],"}",["T_WHITESPACE","\n\n    ",577],["T_VARIABLE","$operations",579],["T_WHITESPACE"," ",579],"=",["T_WHITESPACE"," ",579],["T_ARRAY","array",579],"(",")",";",["T_WHITESPACE","\n\n    ",579],["T_COMMENT","\/\/ Resolve any update dependencies to determine the actual updates that will\n",581],["T_WHITESPACE","    ",582],["T_COMMENT","\/\/ be run and the order they will be run in.\n",582],["T_WHITESPACE","    ",583],["T_VARIABLE","$start",583],["T_WHITESPACE"," ",583],"=",["T_WHITESPACE"," ",583],["T_VARIABLE","$this",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","getModuleUpdates",583],"(",")",";",["T_WHITESPACE","\n    ",583],["T_VARIABLE","$updates",584],["T_WHITESPACE"," ",584],"=",["T_WHITESPACE"," ",584],["T_STRING","update_resolve_dependencies",584],"(",["T_VARIABLE","$start",584],")",";",["T_WHITESPACE","\n\n    ",584],["T_COMMENT","\/\/ Store the dependencies for each update function in an array which the\n",586],["T_WHITESPACE","    ",587],["T_COMMENT","\/\/ batch API can pass in to the batch operation each time it is called. (We\n",587],["T_WHITESPACE","    ",588],["T_COMMENT","\/\/ do not store the entire update dependency array here because it is\n",588],["T_WHITESPACE","    ",589],["T_COMMENT","\/\/ potentially very large.)\n",589],["T_WHITESPACE","    ",590],["T_VARIABLE","$dependency_map",590],["T_WHITESPACE"," ",590],"=",["T_WHITESPACE"," ",590],["T_ARRAY","array",590],"(",")",";",["T_WHITESPACE","\n    ",590],["T_FOREACH","foreach",591],["T_WHITESPACE"," ",591],"(",["T_VARIABLE","$updates",591],["T_WHITESPACE"," ",591],["T_AS","as",591],["T_WHITESPACE"," ",591],["T_VARIABLE","$function",591],["T_WHITESPACE"," ",591],["T_DOUBLE_ARROW","=>",591],["T_WHITESPACE"," ",591],["T_VARIABLE","$update",591],")",["T_WHITESPACE"," ",591],"{",["T_WHITESPACE","\n      ",591],["T_VARIABLE","$dependency_map",592],"[",["T_VARIABLE","$function",592],"]",["T_WHITESPACE"," ",592],"=",["T_WHITESPACE"," ",592],"!",["T_EMPTY","empty",592],"(",["T_VARIABLE","$update",592],"[",["T_CONSTANT_ENCAPSED_STRING","'reverse_paths'",592],"]",")",["T_WHITESPACE"," ",592],"?",["T_WHITESPACE"," ",592],["T_STRING","array_keys",592],"(",["T_VARIABLE","$update",592],"[",["T_CONSTANT_ENCAPSED_STRING","'reverse_paths'",592],"]",")",["T_WHITESPACE"," ",592],":",["T_WHITESPACE"," ",592],["T_ARRAY","array",592],"(",")",";",["T_WHITESPACE","\n    ",592],"}",["T_WHITESPACE","\n\n    ",593],["T_COMMENT","\/\/ Determine updates to be performed.\n",595],["T_WHITESPACE","    ",596],["T_FOREACH","foreach",596],["T_WHITESPACE"," ",596],"(",["T_VARIABLE","$updates",596],["T_WHITESPACE"," ",596],["T_AS","as",596],["T_WHITESPACE"," ",596],["T_VARIABLE","$function",596],["T_WHITESPACE"," ",596],["T_DOUBLE_ARROW","=>",596],["T_WHITESPACE"," ",596],["T_VARIABLE","$update",596],")",["T_WHITESPACE"," ",596],"{",["T_WHITESPACE","\n      ",596],["T_IF","if",597],["T_WHITESPACE"," ",597],"(",["T_VARIABLE","$update",597],"[",["T_CONSTANT_ENCAPSED_STRING","'allowed'",597],"]",")",["T_WHITESPACE"," ",597],"{",["T_WHITESPACE","\n        ",597],["T_COMMENT","\/\/ Set the installed version of each module so updates will start at the\n",598],["T_WHITESPACE","        ",599],["T_COMMENT","\/\/ correct place. (The updates are already sorted, so we can simply base\n",599],["T_WHITESPACE","        ",600],["T_COMMENT","\/\/ this on the first one we come across in the above foreach loop.)\n",600],["T_WHITESPACE","        ",601],["T_IF","if",601],["T_WHITESPACE"," ",601],"(",["T_ISSET","isset",601],"(",["T_VARIABLE","$start",601],"[",["T_VARIABLE","$update",601],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",601],"]","]",")",")",["T_WHITESPACE"," ",601],"{",["T_WHITESPACE","\n          ",601],["T_STRING","drupal_set_installed_schema_version",602],"(",["T_VARIABLE","$update",602],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",602],"]",",",["T_WHITESPACE"," ",602],["T_VARIABLE","$update",602],"[",["T_CONSTANT_ENCAPSED_STRING","'number'",602],"]",["T_WHITESPACE"," ",602],"-",["T_WHITESPACE"," ",602],["T_LNUMBER","1",602],")",";",["T_WHITESPACE","\n          ",602],["T_UNSET","unset",603],"(",["T_VARIABLE","$start",603],"[",["T_VARIABLE","$update",603],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",603],"]","]",")",";",["T_WHITESPACE","\n        ",603],"}",["T_WHITESPACE","\n        ",604],["T_VARIABLE","$operations",605],"[","]",["T_WHITESPACE"," ",605],"=",["T_WHITESPACE"," ",605],["T_ARRAY","array",605],"(",["T_CONSTANT_ENCAPSED_STRING","'update_do_one'",605],",",["T_WHITESPACE"," ",605],["T_ARRAY","array",605],"(",["T_VARIABLE","$update",605],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",605],"]",",",["T_WHITESPACE"," ",605],["T_VARIABLE","$update",605],"[",["T_CONSTANT_ENCAPSED_STRING","'number'",605],"]",",",["T_WHITESPACE"," ",605],["T_VARIABLE","$dependency_map",605],"[",["T_VARIABLE","$function",605],"]",")",")",";",["T_WHITESPACE","\n      ",605],"}",["T_WHITESPACE","\n    ",606],"}",["T_WHITESPACE","\n\n    ",607],["T_VARIABLE","$post_updates",609],["T_WHITESPACE"," ",609],"=",["T_WHITESPACE"," ",609],["T_VARIABLE","$this",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","postUpdateRegistry",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","getPendingUpdateFunctions",609],"(",")",";",["T_WHITESPACE","\n\n    ",609],["T_IF","if",611],["T_WHITESPACE"," ",611],"(",["T_VARIABLE","$post_updates",611],")",["T_WHITESPACE"," ",611],"{",["T_WHITESPACE","\n      ",611],["T_COMMENT","\/\/ Now we rebuild all caches and after that execute the hook_post_update()\n",612],["T_WHITESPACE","      ",613],["T_COMMENT","\/\/ functions.\n",613],["T_WHITESPACE","      ",614],["T_VARIABLE","$operations",614],"[","]",["T_WHITESPACE"," ",614],"=",["T_WHITESPACE"," ",614],"[",["T_CONSTANT_ENCAPSED_STRING","'drupal_flush_all_caches'",614],",",["T_WHITESPACE"," ",614],"[","]","]",";",["T_WHITESPACE","\n      ",614],["T_FOREACH","foreach",615],["T_WHITESPACE"," ",615],"(",["T_VARIABLE","$post_updates",615],["T_WHITESPACE"," ",615],["T_AS","as",615],["T_WHITESPACE"," ",615],["T_VARIABLE","$function",615],")",["T_WHITESPACE"," ",615],"{",["T_WHITESPACE","\n        ",615],["T_VARIABLE","$operations",616],"[","]",["T_WHITESPACE"," ",616],"=",["T_WHITESPACE"," ",616],"[",["T_CONSTANT_ENCAPSED_STRING","'update_invoke_post_update'",616],",",["T_WHITESPACE"," ",616],"[",["T_VARIABLE","$function",616],"]","]",";",["T_WHITESPACE","\n      ",616],"}",["T_WHITESPACE","\n    ",617],"}",["T_WHITESPACE","\n\n    ",618],["T_VARIABLE","$batch",620],"[",["T_CONSTANT_ENCAPSED_STRING","'operations'",620],"]",["T_WHITESPACE"," ",620],"=",["T_WHITESPACE"," ",620],["T_VARIABLE","$operations",620],";",["T_WHITESPACE","\n    ",620],["T_VARIABLE","$batch",621],["T_WHITESPACE"," ",621],["T_PLUS_EQUAL","+=",621],["T_WHITESPACE"," ",621],["T_ARRAY","array",621],"(",["T_WHITESPACE","\n      ",621],["T_CONSTANT_ENCAPSED_STRING","'title'",622],["T_WHITESPACE"," ",622],["T_DOUBLE_ARROW","=>",622],["T_WHITESPACE"," ",622],["T_VARIABLE","$this",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","t",622],"(",["T_CONSTANT_ENCAPSED_STRING","'Updating'",622],")",",",["T_WHITESPACE","\n      ",622],["T_CONSTANT_ENCAPSED_STRING","'init_message'",623],["T_WHITESPACE"," ",623],["T_DOUBLE_ARROW","=>",623],["T_WHITESPACE"," ",623],["T_VARIABLE","$this",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","t",623],"(",["T_CONSTANT_ENCAPSED_STRING","'Starting updates'",623],")",",",["T_WHITESPACE","\n      ",623],["T_CONSTANT_ENCAPSED_STRING","'error_message'",624],["T_WHITESPACE"," ",624],["T_DOUBLE_ARROW","=>",624],["T_WHITESPACE"," ",624],["T_VARIABLE","$this",624],["T_OBJECT_OPERATOR","->",624],["T_STRING","t",624],"(",["T_CONSTANT_ENCAPSED_STRING","'An unrecoverable error has occurred. You can find the error message below. It is advised to copy it to the clipboard for reference.'",624],")",",",["T_WHITESPACE","\n      ",624],["T_CONSTANT_ENCAPSED_STRING","'finished'",625],["T_WHITESPACE"," ",625],["T_DOUBLE_ARROW","=>",625],["T_WHITESPACE"," ",625],["T_ARRAY","array",625],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\system\\Controller\\DbUpdateController'",625],",",["T_WHITESPACE"," ",625],["T_CONSTANT_ENCAPSED_STRING","'batchFinished'",625],")",",",["T_WHITESPACE","\n    ",625],")",";",["T_WHITESPACE","\n    ",626],["T_STRING","batch_set",627],"(",["T_VARIABLE","$batch",627],")",";",["T_WHITESPACE","\n\n    ",627],["T_COMMENT","\/\/ @todo Revisit once https:\/\/www.drupal.org\/node\/2548095 is in.\n",629],["T_WHITESPACE","    ",630],["T_RETURN","return",630],["T_WHITESPACE"," ",630],["T_STRING","batch_process",630],"(",["T_STRING","Url",630],["T_DOUBLE_COLON","::",630],["T_STRING","fromUri",630],"(",["T_CONSTANT_ENCAPSED_STRING","'base:\/\/results'",630],")",",",["T_WHITESPACE"," ",630],["T_STRING","Url",630],["T_DOUBLE_COLON","::",630],["T_STRING","fromUri",630],"(",["T_CONSTANT_ENCAPSED_STRING","'base:\/\/start'",630],")",")",";",["T_WHITESPACE","\n  ",630],"}",["T_WHITESPACE","\n\n  ",631],["T_DOC_COMMENT","\/**\n   * Finishes the update process and stores the results for eventual display.\n   *\n   * After the updates run, all caches are flushed. The update results are\n   * stored into the session (for example, to be displayed on the update results\n   * page in update.php). Additionally, if the site was off-line, now that the\n   * update process is completed, the site is set back online.\n   *\n   * @param $success\n   *   Indicate that the batch API tasks were all completed successfully.\n   * @param array $results\n   *   An array of all the results that were updated in update_do_one().\n   * @param array $operations\n   *   A list of all the operations that had not been completed by the batch API.\n   *\/",633],["T_WHITESPACE","\n  ",647],["T_PUBLIC","public",648],["T_WHITESPACE"," ",648],["T_STATIC","static",648],["T_WHITESPACE"," ",648],["T_FUNCTION","function",648],["T_WHITESPACE"," ",648],["T_STRING","batchFinished",648],"(",["T_VARIABLE","$success",648],",",["T_WHITESPACE"," ",648],["T_VARIABLE","$results",648],",",["T_WHITESPACE"," ",648],["T_VARIABLE","$operations",648],")",["T_WHITESPACE"," ",648],"{",["T_WHITESPACE","\n    ",648],["T_COMMENT","\/\/ No updates to run, so caches won't get flushed later.  Clear them now.\n",649],["T_WHITESPACE","    ",650],["T_STRING","drupal_flush_all_caches",650],"(",")",";",["T_WHITESPACE","\n\n    ",650],["T_VARIABLE","$_SESSION",652],"[",["T_CONSTANT_ENCAPSED_STRING","'update_results'",652],"]",["T_WHITESPACE"," ",652],"=",["T_WHITESPACE"," ",652],["T_VARIABLE","$results",652],";",["T_WHITESPACE","\n    ",652],["T_VARIABLE","$_SESSION",653],"[",["T_CONSTANT_ENCAPSED_STRING","'update_success'",653],"]",["T_WHITESPACE"," ",653],"=",["T_WHITESPACE"," ",653],["T_VARIABLE","$success",653],";",["T_WHITESPACE","\n    ",653],["T_VARIABLE","$_SESSION",654],"[",["T_CONSTANT_ENCAPSED_STRING","'updates_remaining'",654],"]",["T_WHITESPACE"," ",654],"=",["T_WHITESPACE"," ",654],["T_VARIABLE","$operations",654],";",["T_WHITESPACE","\n\n    ",654],["T_COMMENT","\/\/ Now that the update is done, we can put the site back online if it was\n",656],["T_WHITESPACE","    ",657],["T_COMMENT","\/\/ previously not in maintenance mode.\n",657],["T_WHITESPACE","    ",658],["T_IF","if",658],["T_WHITESPACE"," ",658],"(",["T_EMPTY","empty",658],"(",["T_VARIABLE","$_SESSION",658],"[",["T_CONSTANT_ENCAPSED_STRING","'maintenance_mode'",658],"]",")",")",["T_WHITESPACE"," ",658],"{",["T_WHITESPACE","\n      ",658],["T_NS_SEPARATOR","\\",659],["T_STRING","Drupal",659],["T_DOUBLE_COLON","::",659],["T_STRING","state",659],"(",")",["T_OBJECT_OPERATOR","->",659],["T_STRING","set",659],"(",["T_CONSTANT_ENCAPSED_STRING","'system.maintenance_mode'",659],",",["T_WHITESPACE"," ",659],["T_STRING","FALSE",659],")",";",["T_WHITESPACE","\n    ",659],"}",["T_WHITESPACE","\n    ",660],["T_UNSET","unset",661],"(",["T_VARIABLE","$_SESSION",661],"[",["T_CONSTANT_ENCAPSED_STRING","'maintenance_mode'",661],"]",")",";",["T_WHITESPACE","\n  ",661],"}",["T_WHITESPACE","\n\n  ",662],["T_DOC_COMMENT","\/**\n   * Provides links to the homepage and administration pages.\n   *\n   * @param \\Symfony\\Component\\HttpFoundation\\Request $request\n   *   The current request.\n   *\n   * @return array\n   *   An array of links.\n   *\/",664],["T_WHITESPACE","\n  ",672],["T_PROTECTED","protected",673],["T_WHITESPACE"," ",673],["T_FUNCTION","function",673],["T_WHITESPACE"," ",673],["T_STRING","helpfulLinks",673],"(",["T_STRING","Request",673],["T_WHITESPACE"," ",673],["T_VARIABLE","$request",673],")",["T_WHITESPACE"," ",673],"{",["T_WHITESPACE","\n    ",673],["T_COMMENT","\/\/ @todo Simplify with https:\/\/www.drupal.org\/node\/2548095\n",674],["T_WHITESPACE","    ",675],["T_VARIABLE","$base_url",675],["T_WHITESPACE"," ",675],"=",["T_WHITESPACE"," ",675],["T_STRING","str_replace",675],"(",["T_CONSTANT_ENCAPSED_STRING","'\/update.php'",675],",",["T_WHITESPACE"," ",675],["T_CONSTANT_ENCAPSED_STRING","''",675],",",["T_WHITESPACE"," ",675],["T_VARIABLE","$request",675],["T_OBJECT_OPERATOR","->",675],["T_STRING","getBaseUrl",675],"(",")",")",";",["T_WHITESPACE","\n    ",675],["T_VARIABLE","$links",676],"[",["T_CONSTANT_ENCAPSED_STRING","'front'",676],"]",["T_WHITESPACE"," ",676],"=",["T_WHITESPACE"," ",676],["T_ARRAY","array",676],"(",["T_WHITESPACE","\n      ",676],["T_CONSTANT_ENCAPSED_STRING","'title'",677],["T_WHITESPACE"," ",677],["T_DOUBLE_ARROW","=>",677],["T_WHITESPACE"," ",677],["T_VARIABLE","$this",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","t",677],"(",["T_CONSTANT_ENCAPSED_STRING","'Front page'",677],")",",",["T_WHITESPACE","\n      ",677],["T_CONSTANT_ENCAPSED_STRING","'url'",678],["T_WHITESPACE"," ",678],["T_DOUBLE_ARROW","=>",678],["T_WHITESPACE"," ",678],["T_STRING","Url",678],["T_DOUBLE_COLON","::",678],["T_STRING","fromRoute",678],"(",["T_CONSTANT_ENCAPSED_STRING","'<front>'",678],")",["T_OBJECT_OPERATOR","->",678],["T_STRING","setOption",678],"(",["T_CONSTANT_ENCAPSED_STRING","'base_url'",678],",",["T_WHITESPACE"," ",678],["T_VARIABLE","$base_url",678],")",",",["T_WHITESPACE","\n    ",678],")",";",["T_WHITESPACE","\n    ",679],["T_IF","if",680],["T_WHITESPACE"," ",680],"(",["T_VARIABLE","$this",680],["T_OBJECT_OPERATOR","->",680],["T_STRING","account",680],["T_OBJECT_OPERATOR","->",680],["T_STRING","hasPermission",680],"(",["T_CONSTANT_ENCAPSED_STRING","'access administration pages'",680],")",")",["T_WHITESPACE"," ",680],"{",["T_WHITESPACE","\n      ",680],["T_VARIABLE","$links",681],"[",["T_CONSTANT_ENCAPSED_STRING","'admin-pages'",681],"]",["T_WHITESPACE"," ",681],"=",["T_WHITESPACE"," ",681],["T_ARRAY","array",681],"(",["T_WHITESPACE","\n        ",681],["T_CONSTANT_ENCAPSED_STRING","'title'",682],["T_WHITESPACE"," ",682],["T_DOUBLE_ARROW","=>",682],["T_WHITESPACE"," ",682],["T_VARIABLE","$this",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","t",682],"(",["T_CONSTANT_ENCAPSED_STRING","'Administration pages'",682],")",",",["T_WHITESPACE","\n        ",682],["T_CONSTANT_ENCAPSED_STRING","'url'",683],["T_WHITESPACE"," ",683],["T_DOUBLE_ARROW","=>",683],["T_WHITESPACE"," ",683],["T_STRING","Url",683],["T_DOUBLE_COLON","::",683],["T_STRING","fromRoute",683],"(",["T_CONSTANT_ENCAPSED_STRING","'system.admin'",683],")",["T_OBJECT_OPERATOR","->",683],["T_STRING","setOption",683],"(",["T_CONSTANT_ENCAPSED_STRING","'base_url'",683],",",["T_WHITESPACE"," ",683],["T_VARIABLE","$base_url",683],")",",",["T_WHITESPACE","\n      ",683],")",";",["T_WHITESPACE","\n    ",684],"}",["T_WHITESPACE","\n    ",685],["T_RETURN","return",686],["T_WHITESPACE"," ",686],["T_VARIABLE","$links",686],";",["T_WHITESPACE","\n  ",686],"}",["T_WHITESPACE","\n\n  ",687],["T_DOC_COMMENT","\/**\n   * Retrieves module updates.\n   *\n   * @return array\n   *   The module updates that can be performed.\n   *\/",689],["T_WHITESPACE","\n  ",694],["T_PROTECTED","protected",695],["T_WHITESPACE"," ",695],["T_FUNCTION","function",695],["T_WHITESPACE"," ",695],["T_STRING","getModuleUpdates",695],"(",")",["T_WHITESPACE"," ",695],"{",["T_WHITESPACE","\n    ",695],["T_VARIABLE","$return",696],["T_WHITESPACE"," ",696],"=",["T_WHITESPACE"," ",696],["T_ARRAY","array",696],"(",")",";",["T_WHITESPACE","\n    ",696],["T_VARIABLE","$updates",697],["T_WHITESPACE"," ",697],"=",["T_WHITESPACE"," ",697],["T_STRING","update_get_update_list",697],"(",")",";",["T_WHITESPACE","\n    ",697],["T_FOREACH","foreach",698],["T_WHITESPACE"," ",698],"(",["T_VARIABLE","$updates",698],["T_WHITESPACE"," ",698],["T_AS","as",698],["T_WHITESPACE"," ",698],["T_VARIABLE","$module",698],["T_WHITESPACE"," ",698],["T_DOUBLE_ARROW","=>",698],["T_WHITESPACE"," ",698],["T_VARIABLE","$update",698],")",["T_WHITESPACE"," ",698],"{",["T_WHITESPACE","\n      ",698],["T_VARIABLE","$return",699],"[",["T_VARIABLE","$module",699],"]",["T_WHITESPACE"," ",699],"=",["T_WHITESPACE"," ",699],["T_VARIABLE","$update",699],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",699],"]",";",["T_WHITESPACE","\n    ",699],"}",["T_WHITESPACE","\n\n    ",700],["T_RETURN","return",702],["T_WHITESPACE"," ",702],["T_VARIABLE","$return",702],";",["T_WHITESPACE","\n  ",702],"}",["T_WHITESPACE","\n\n",703],"}",["T_WHITESPACE","\n",705]]