[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","system",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Update",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Render",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FormattableMarkup",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests the update path base class with the RC1 database dump.\n *\n * @group Update\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","UpdatePathRC1TestBaseTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","UpdatePathTestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",14],["T_WHITESPACE","\n  ",16],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_STATIC","static",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$modules",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],"[",["T_CONSTANT_ENCAPSED_STRING","'update_test_schema'",17],"]",";",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",19],["T_WHITESPACE","\n  ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_FUNCTION","function",22],["T_WHITESPACE"," ",22],["T_STRING","setDatabaseDumpFiles",22],"(",")",["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n    ",22],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","databaseDumpFiles",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],"[",["T_WHITESPACE","\n      ",23],["T_DIR","__DIR__",24],["T_WHITESPACE"," ",24],".",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'\/..\/..\/..\/tests\/fixtures\/update\/drupal-8-rc1.bare.standard.php.gz'",24],",",["T_WHITESPACE","\n    ",24],"]",";",["T_WHITESPACE","\n  ",25],"}",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * Tests that the database was properly loaded.\n   *\/",28],["T_WHITESPACE","\n  ",30],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","testDatabaseLoaded",31],"(",")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$extensions",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Drupal",32],["T_DOUBLE_COLON","::",32],["T_STRING","service",32],"(",["T_CONSTANT_ENCAPSED_STRING","'config.storage'",32],")",["T_OBJECT_OPERATOR","->",32],["T_STRING","read",32],"(",["T_CONSTANT_ENCAPSED_STRING","'core.extension'",32],")",";",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","assertFalse",33],"(",["T_ISSET","isset",33],"(",["T_VARIABLE","$extensions",33],"[",["T_CONSTANT_ENCAPSED_STRING","'theme'",33],"]","[",["T_CONSTANT_ENCAPSED_STRING","'stable'",33],"]",")",",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'Stable is not installed before updating.'",33],")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$hook_updates",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],"[",["T_WHITESPACE","\n      ",34],["T_CONSTANT_ENCAPSED_STRING","'user'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'8000'",35],",",["T_WHITESPACE","\n      ",35],["T_CONSTANT_ENCAPSED_STRING","'node'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'8003'",36],",",["T_WHITESPACE","\n      ",36],["T_CONSTANT_ENCAPSED_STRING","'system'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'8013'",37],",",["T_WHITESPACE","\n    ",37],"]",";",["T_WHITESPACE","\n    ",38],["T_FOREACH","foreach",39],["T_WHITESPACE"," ",39],"(",["T_VARIABLE","$hook_updates",39],["T_WHITESPACE"," ",39],["T_AS","as",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$module",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$schema",39],")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n      ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","assertEqual",40],"(",["T_STRING","drupal_get_installed_schema_version",40],"(",["T_VARIABLE","$module",40],")",",",["T_WHITESPACE"," ",40],["T_VARIABLE","$schema",40],",",["T_WHITESPACE"," ",40],["T_NEW","new",40],["T_WHITESPACE"," ",40],["T_STRING","FormattableMarkup",40],"(",["T_CONSTANT_ENCAPSED_STRING","'Module @module schema is @schema'",40],",",["T_WHITESPACE"," ",40],"[",["T_CONSTANT_ENCAPSED_STRING","'@module'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$module",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'@schema'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$schema",40],"]",")",")",";",["T_WHITESPACE","\n    ",40],"}",["T_WHITESPACE","\n\n    ",41],["T_COMMENT","\/\/ Test post_update key value stores contains a list of the update functions\n",43],["T_WHITESPACE","    ",44],["T_COMMENT","\/\/ that have run.\n",44],["T_WHITESPACE","    ",45],["T_VARIABLE","$existing_updates",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","array_count_values",45],"(",["T_NS_SEPARATOR","\\",45],["T_STRING","Drupal",45],["T_DOUBLE_COLON","::",45],["T_STRING","keyValue",45],"(",["T_CONSTANT_ENCAPSED_STRING","'post_update'",45],")",["T_OBJECT_OPERATOR","->",45],["T_STRING","get",45],"(",["T_CONSTANT_ENCAPSED_STRING","'existing_updates'",45],")",")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$expected_updates",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],"[",["T_WHITESPACE","\n      ",46],["T_CONSTANT_ENCAPSED_STRING","'system_post_update_recalculate_configuration_entity_dependencies'",47],",",["T_WHITESPACE","\n      ",47],["T_CONSTANT_ENCAPSED_STRING","'field_post_update_save_custom_storage_property'",48],",",["T_WHITESPACE","\n      ",48],["T_CONSTANT_ENCAPSED_STRING","'field_post_update_entity_reference_handler_setting'",49],",",["T_WHITESPACE","\n      ",49],["T_CONSTANT_ENCAPSED_STRING","'block_post_update_disable_blocks_with_missing_contexts'",50],",",["T_WHITESPACE","\n      ",50],["T_CONSTANT_ENCAPSED_STRING","'views_post_update_update_cacheability_metadata'",51],",",["T_WHITESPACE","\n    ",51],"]",";",["T_WHITESPACE","\n    ",52],["T_FOREACH","foreach",53],["T_WHITESPACE"," ",53],"(",["T_VARIABLE","$expected_updates",53],["T_WHITESPACE"," ",53],["T_AS","as",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$expected_update",53],")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n      ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertEqual",54],"(",["T_VARIABLE","$existing_updates",54],"[",["T_VARIABLE","$expected_update",54],"]",",",["T_WHITESPACE"," ",54],["T_LNUMBER","1",54],",",["T_WHITESPACE"," ",54],["T_NEW","new",54],["T_WHITESPACE"," ",54],["T_STRING","FormattableMarkup",54],"(",["T_CONSTANT_ENCAPSED_STRING","\"@expected_update exists in 'existing_updates' key and only appears once.\"",54],",",["T_WHITESPACE"," ",54],"[",["T_CONSTANT_ENCAPSED_STRING","'@expected_update'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$expected_update",54],"]",")",")",";",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n\n    ",55],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","runUpdates",57],"(",")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","assertEqual",58],"(",["T_NS_SEPARATOR","\\",58],["T_STRING","Drupal",58],["T_DOUBLE_COLON","::",58],["T_STRING","config",58],"(",["T_CONSTANT_ENCAPSED_STRING","'system.site'",58],")",["T_OBJECT_OPERATOR","->",58],["T_STRING","get",58],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",58],")",",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'Site-Install'",58],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","drupalGet",59],"(",["T_CONSTANT_ENCAPSED_STRING","'<front>'",59],")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertText",60],"(",["T_CONSTANT_ENCAPSED_STRING","'Site-Install'",60],")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$extensions",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Drupal",61],["T_DOUBLE_COLON","::",61],["T_STRING","service",61],"(",["T_CONSTANT_ENCAPSED_STRING","'config.storage'",61],")",["T_OBJECT_OPERATOR","->",61],["T_STRING","read",61],"(",["T_CONSTANT_ENCAPSED_STRING","'core.extension'",61],")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertTrue",62],"(",["T_ISSET","isset",62],"(",["T_VARIABLE","$extensions",62],"[",["T_CONSTANT_ENCAPSED_STRING","'theme'",62],"]","[",["T_CONSTANT_ENCAPSED_STRING","'stable'",62],"]",")",",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'Stable is installed after updating.'",62],")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$blocks",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_NS_SEPARATOR","\\",63],["T_STRING","Drupal",63],["T_DOUBLE_COLON","::",63],["T_STRING","entityManager",63],"(",")",["T_OBJECT_OPERATOR","->",63],["T_STRING","getStorage",63],"(",["T_CONSTANT_ENCAPSED_STRING","'block'",63],")",["T_OBJECT_OPERATOR","->",63],["T_STRING","loadByProperties",63],"(","[",["T_CONSTANT_ENCAPSED_STRING","'theme'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'stable'",63],"]",")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","assertTrue",64],"(",["T_EMPTY","empty",64],"(",["T_VARIABLE","$blocks",64],")",",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'No blocks have been placed for Stable.'",64],")",";",["T_WHITESPACE","\n  ",64],"}",["T_WHITESPACE","\n\n",65],"}",["T_WHITESPACE","\n",67]]