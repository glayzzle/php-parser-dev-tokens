[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","system",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Common",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Url",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","simpletest",6],["T_NS_SEPARATOR","\\",6],["T_STRING","WebTestBase",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Verifies that bubbleable metadata of early rendering is not lost.\n *\n * @group Common\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","EarlyRenderingControllerTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","WebTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",15],["T_WHITESPACE","\n  ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$dumpHeaders",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_STRING","TRUE",18],";",["T_WHITESPACE","\n\n  ",18],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",20],["T_WHITESPACE","\n  ",22],["T_PUBLIC","public",23],["T_WHITESPACE"," ",23],["T_STATIC","static",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$modules",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],"[",["T_CONSTANT_ENCAPSED_STRING","'system'",23],",",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'early_rendering_controller_test'",23],"]",";",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * Tests theme preprocess functions being able to attach assets.\n   *\/",25],["T_WHITESPACE","\n  ",27],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","testEarlyRendering",28],"(",")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n    ",28],["T_COMMENT","\/\/ Render array: non-early & early.\n",29],["T_WHITESPACE","    ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","drupalGet",30],"(",["T_STRING","Url",30],["T_DOUBLE_COLON","::",30],["T_STRING","fromRoute",30],"(",["T_CONSTANT_ENCAPSED_STRING","'early_rendering_controller_test.render_array'",30],")",")",";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","assertResponse",31],"(",["T_LNUMBER","200",31],")",";",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","assertRaw",32],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello world!'",32],")",";",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","assertCacheTag",33],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",33],")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","drupalGet",34],"(",["T_STRING","Url",34],["T_DOUBLE_COLON","::",34],["T_STRING","fromRoute",34],"(",["T_CONSTANT_ENCAPSED_STRING","'early_rendering_controller_test.render_array.early'",34],")",")",";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","assertResponse",35],"(",["T_LNUMBER","200",35],")",";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","assertRaw",36],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello world!'",36],")",";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","assertCacheTag",37],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",37],")",";",["T_WHITESPACE","\n\n    ",37],["T_COMMENT","\/\/ AjaxResponse: non-early & early.\n",39],["T_WHITESPACE","    ",40],["T_COMMENT","\/\/ @todo Add cache tags assertion when AjaxResponse is made cacheable in\n",40],["T_WHITESPACE","    ",41],["T_COMMENT","\/\/   https:\/\/www.drupal.org\/node\/956186.\n",41],["T_WHITESPACE","    ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","drupalGet",42],"(",["T_STRING","Url",42],["T_DOUBLE_COLON","::",42],["T_STRING","fromRoute",42],"(",["T_CONSTANT_ENCAPSED_STRING","'early_rendering_controller_test.ajax_response'",42],")",")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","assertResponse",43],"(",["T_LNUMBER","200",43],")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","assertRaw",44],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello world!'",44],")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","drupalGet",45],"(",["T_STRING","Url",45],["T_DOUBLE_COLON","::",45],["T_STRING","fromRoute",45],"(",["T_CONSTANT_ENCAPSED_STRING","'early_rendering_controller_test.ajax_response.early'",45],")",")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","assertResponse",46],"(",["T_LNUMBER","200",46],")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","assertRaw",47],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello world!'",47],")",";",["T_WHITESPACE","\n\n    ",47],["T_COMMENT","\/\/ Basic Response object: non-early & early.\n",49],["T_WHITESPACE","    ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","drupalGet",50],"(",["T_STRING","Url",50],["T_DOUBLE_COLON","::",50],["T_STRING","fromRoute",50],"(",["T_CONSTANT_ENCAPSED_STRING","'early_rendering_controller_test.response'",50],")",")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertResponse",51],"(",["T_LNUMBER","200",51],")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","assertRaw",52],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello world!'",52],")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","assertNoCacheTag",53],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",53],")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","drupalGet",54],"(",["T_STRING","Url",54],["T_DOUBLE_COLON","::",54],["T_STRING","fromRoute",54],"(",["T_CONSTANT_ENCAPSED_STRING","'early_rendering_controller_test.response.early'",54],")",")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertResponse",55],"(",["T_LNUMBER","200",55],")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","assertRaw",56],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello world!'",56],")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","assertNoCacheTag",57],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",57],")",";",["T_WHITESPACE","\n\n    ",57],["T_COMMENT","\/\/ Response object with attachments: non-early & early.\n",59],["T_WHITESPACE","    ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","drupalGet",60],"(",["T_STRING","Url",60],["T_DOUBLE_COLON","::",60],["T_STRING","fromRoute",60],"(",["T_CONSTANT_ENCAPSED_STRING","'early_rendering_controller_test.response-with-attachments'",60],")",")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","assertResponse",61],"(",["T_LNUMBER","200",61],")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertRaw",62],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello world!'",62],")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","assertNoCacheTag",63],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",63],")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","drupalGet",64],"(",["T_STRING","Url",64],["T_DOUBLE_COLON","::",64],["T_STRING","fromRoute",64],"(",["T_CONSTANT_ENCAPSED_STRING","'early_rendering_controller_test.response-with-attachments.early'",64],")",")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","assertResponse",65],"(",["T_LNUMBER","500",65],")",";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","assertRaw",66],"(",["T_CONSTANT_ENCAPSED_STRING","'The controller result claims to be providing relevant cache metadata, but leaked metadata was detected. Please ensure you are not rendering content too early. Returned object class: Drupal\\early_rendering_controller_test\\AttachmentsTestResponse.'",66],")",";",["T_WHITESPACE","\n\n    ",66],["T_COMMENT","\/\/ Cacheable Response object: non-early & early.\n",68],["T_WHITESPACE","    ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","drupalGet",69],"(",["T_STRING","Url",69],["T_DOUBLE_COLON","::",69],["T_STRING","fromRoute",69],"(",["T_CONSTANT_ENCAPSED_STRING","'early_rendering_controller_test.cacheable-response'",69],")",")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertResponse",70],"(",["T_LNUMBER","200",70],")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertRaw",71],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello world!'",71],")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertNoCacheTag",72],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",72],")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","drupalGet",73],"(",["T_STRING","Url",73],["T_DOUBLE_COLON","::",73],["T_STRING","fromRoute",73],"(",["T_CONSTANT_ENCAPSED_STRING","'early_rendering_controller_test.cacheable-response.early'",73],")",")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertResponse",74],"(",["T_LNUMBER","500",74],")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertRaw",75],"(",["T_CONSTANT_ENCAPSED_STRING","'The controller result claims to be providing relevant cache metadata, but leaked metadata was detected. Please ensure you are not rendering content too early. Returned object class: Drupal\\early_rendering_controller_test\\CacheableTestResponse.'",75],")",";",["T_WHITESPACE","\n\n    ",75],["T_COMMENT","\/\/ Basic domain object: non-early & early.\n",77],["T_WHITESPACE","    ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","drupalGet",78],"(",["T_STRING","Url",78],["T_DOUBLE_COLON","::",78],["T_STRING","fromRoute",78],"(",["T_CONSTANT_ENCAPSED_STRING","'early_rendering_controller_test.domain-object'",78],")",")",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","assertResponse",79],"(",["T_LNUMBER","200",79],")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertRaw",80],"(",["T_CONSTANT_ENCAPSED_STRING","'TestDomainObject'",80],")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertNoCacheTag",81],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",81],")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","drupalGet",82],"(",["T_STRING","Url",82],["T_DOUBLE_COLON","::",82],["T_STRING","fromRoute",82],"(",["T_CONSTANT_ENCAPSED_STRING","'early_rendering_controller_test.domain-object.early'",82],")",")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertResponse",83],"(",["T_LNUMBER","200",83],")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertRaw",84],"(",["T_CONSTANT_ENCAPSED_STRING","'TestDomainObject'",84],")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertNoCacheTag",85],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",85],")",";",["T_WHITESPACE","\n\n    ",85],["T_COMMENT","\/\/ Basic domain object with attachments: non-early & early.\n",87],["T_WHITESPACE","    ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","drupalGet",88],"(",["T_STRING","Url",88],["T_DOUBLE_COLON","::",88],["T_STRING","fromRoute",88],"(",["T_CONSTANT_ENCAPSED_STRING","'early_rendering_controller_test.domain-object-with-attachments'",88],")",")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertResponse",89],"(",["T_LNUMBER","200",89],")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertRaw",90],"(",["T_CONSTANT_ENCAPSED_STRING","'AttachmentsTestDomainObject'",90],")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","assertNoCacheTag",91],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",91],")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","drupalGet",92],"(",["T_STRING","Url",92],["T_DOUBLE_COLON","::",92],["T_STRING","fromRoute",92],"(",["T_CONSTANT_ENCAPSED_STRING","'early_rendering_controller_test.domain-object-with-attachments.early'",92],")",")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertResponse",93],"(",["T_LNUMBER","500",93],")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertRaw",94],"(",["T_CONSTANT_ENCAPSED_STRING","'The controller result claims to be providing relevant cache metadata, but leaked metadata was detected. Please ensure you are not rendering content too early. Returned object class: Drupal\\early_rendering_controller_test\\AttachmentsTestDomainObject.'",94],")",";",["T_WHITESPACE","\n\n    ",94],["T_COMMENT","\/\/ Cacheable Response object: non-early & early.\n",96],["T_WHITESPACE","    ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","drupalGet",97],"(",["T_STRING","Url",97],["T_DOUBLE_COLON","::",97],["T_STRING","fromRoute",97],"(",["T_CONSTANT_ENCAPSED_STRING","'early_rendering_controller_test.cacheable-domain-object'",97],")",")",";",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","assertResponse",98],"(",["T_LNUMBER","200",98],")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","assertRaw",99],"(",["T_CONSTANT_ENCAPSED_STRING","'CacheableTestDomainObject'",99],")",";",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertNoCacheTag",100],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",100],")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","drupalGet",101],"(",["T_STRING","Url",101],["T_DOUBLE_COLON","::",101],["T_STRING","fromRoute",101],"(",["T_CONSTANT_ENCAPSED_STRING","'early_rendering_controller_test.cacheable-domain-object.early'",101],")",")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","assertResponse",102],"(",["T_LNUMBER","500",102],")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","assertRaw",103],"(",["T_CONSTANT_ENCAPSED_STRING","'The controller result claims to be providing relevant cache metadata, but leaked metadata was detected. Please ensure you are not rendering content too early. Returned object class: Drupal\\early_rendering_controller_test\\CacheableTestDomainObject.'",103],")",";",["T_WHITESPACE","\n\n    ",103],["T_COMMENT","\/\/ The exceptions are expected. Do not interpret them as a test failure.\n",105],["T_WHITESPACE","    ",106],["T_COMMENT","\/\/ Not using File API; a potential error must trigger a PHP warning.\n",106],["T_WHITESPACE","    ",107],["T_STRING","unlink",107],"(",["T_NS_SEPARATOR","\\",107],["T_STRING","Drupal",107],["T_DOUBLE_COLON","::",107],["T_STRING","root",107],"(",")",["T_WHITESPACE"," ",107],".",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'\/'",107],["T_WHITESPACE"," ",107],".",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","siteDirectory",107],["T_WHITESPACE"," ",107],".",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'\/error.log'",107],")",";",["T_WHITESPACE","\n  ",107],"}",["T_WHITESPACE","\n\n",108],"}",["T_WHITESPACE","\n",110]]