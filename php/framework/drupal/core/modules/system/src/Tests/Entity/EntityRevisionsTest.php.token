[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","system",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Entity",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","entity_test",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","EntityTestMulRev",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","language",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ConfigurableLanguage",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","simpletest",7],["T_NS_SEPARATOR","\\",7],["T_STRING","WebTestBase",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Create a entity with revisions and test viewing, saving, reverting, and\n * deleting revisions.\n *\n * @group Entity\n *\/",9],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","EntityRevisionsTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","WebTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_STATIC","static",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$modules",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_ARRAY","array",22],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'language'",22],")",";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * A user with permission to administer entity_test content.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",24],["T_WHITESPACE","\n  ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$webUser",29],";",["T_WHITESPACE","\n\n  ",29],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","setUp",31],"(",")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n    ",31],["T_STRING","parent",32],["T_DOUBLE_COLON","::",32],["T_STRING","setUp",32],"(",")",";",["T_WHITESPACE","\n\n    ",32],["T_COMMENT","\/\/ Create and log in user.\n",34],["T_WHITESPACE","    ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","webUser",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","drupalCreateUser",35],"(",["T_ARRAY","array",35],"(",["T_WHITESPACE","\n      ",35],["T_CONSTANT_ENCAPSED_STRING","'administer entity_test content'",36],",",["T_WHITESPACE","\n      ",36],["T_CONSTANT_ENCAPSED_STRING","'view test entity'",37],",",["T_WHITESPACE","\n    ",37],")",")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","drupalLogin",39],"(",["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","webUser",39],")",";",["T_WHITESPACE","\n\n    ",39],["T_COMMENT","\/\/ Enable an additional language.\n",41],["T_WHITESPACE","    ",42],["T_STRING","ConfigurableLanguage",42],["T_DOUBLE_COLON","::",42],["T_STRING","createFromLangcode",42],"(",["T_CONSTANT_ENCAPSED_STRING","'de'",42],")",["T_OBJECT_OPERATOR","->",42],["T_STRING","save",42],"(",")",";",["T_WHITESPACE","\n  ",42],"}",["T_WHITESPACE","\n\n  ",43],["T_DOC_COMMENT","\/**\n   * Check node revision related operations.\n   *\/",45],["T_WHITESPACE","\n  ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","testRevisions",48],"(",")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n\n    ",48],["T_COMMENT","\/\/ All revisable entity variations have to have the same results.\n",50],["T_WHITESPACE","    ",51],["T_FOREACH","foreach",51],["T_WHITESPACE"," ",51],"(",["T_STRING","entity_test_entity_types",51],"(",["T_STRING","ENTITY_TEST_TYPES_REVISABLE",51],")",["T_WHITESPACE"," ",51],["T_AS","as",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$entity_type",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n      ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","runRevisionsTests",52],"(",["T_VARIABLE","$entity_type",52],")",";",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n  ",53],"}",["T_WHITESPACE","\n\n  ",54],["T_DOC_COMMENT","\/**\n   * Executes the revision tests for the given entity type.\n   *\n   * @param string $entity_type\n   *   The entity type to run the tests with.\n   *\/",56],["T_WHITESPACE","\n  ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","runRevisionsTests",62],"(",["T_VARIABLE","$entity_type",62],")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n\n    ",62],["T_COMMENT","\/\/ Create initial entity.\n",64],["T_WHITESPACE","    ",65],["T_VARIABLE","$entity",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","container",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","get",65],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",65],")",["T_WHITESPACE","\n      ",65],["T_OBJECT_OPERATOR","->",66],["T_STRING","getStorage",66],"(",["T_VARIABLE","$entity_type",66],")",["T_WHITESPACE","\n      ",66],["T_OBJECT_OPERATOR","->",67],["T_STRING","create",67],"(",["T_ARRAY","array",67],"(",["T_WHITESPACE","\n        ",67],["T_CONSTANT_ENCAPSED_STRING","'name'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'foo'",68],",",["T_WHITESPACE","\n        ",68],["T_CONSTANT_ENCAPSED_STRING","'user_id'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","webUser",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","id",69],"(",")",",",["T_WHITESPACE","\n      ",69],")",")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$entity",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","field_test_text",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","value",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'bar'",71],";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$entity",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","save",72],"(",")",";",["T_WHITESPACE","\n\n    ",72],["T_VARIABLE","$names",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_ARRAY","array",74],"(",")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$texts",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_ARRAY","array",75],"(",")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$created",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_ARRAY","array",76],"(",")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$revision_ids",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_ARRAY","array",77],"(",")",";",["T_WHITESPACE","\n\n    ",77],["T_COMMENT","\/\/ Create three revisions.\n",79],["T_WHITESPACE","    ",80],["T_VARIABLE","$revision_count",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_LNUMBER","3",80],";",["T_WHITESPACE","\n    ",80],["T_FOR","for",81],["T_WHITESPACE"," ",81],"(",["T_VARIABLE","$i",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_LNUMBER","0",81],";",["T_WHITESPACE"," ",81],["T_VARIABLE","$i",81],["T_WHITESPACE"," ",81],"<",["T_WHITESPACE"," ",81],["T_VARIABLE","$revision_count",81],";",["T_WHITESPACE"," ",81],["T_VARIABLE","$i",81],["T_INC","++",81],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n      ",81],["T_VARIABLE","$legacy_revision_id",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$entity",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","revision_id",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","value",82],";",["T_WHITESPACE","\n      ",82],["T_VARIABLE","$legacy_name",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$entity",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","name",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","value",83],";",["T_WHITESPACE","\n      ",83],["T_VARIABLE","$legacy_text",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$entity",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","field_test_text",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","value",84],";",["T_WHITESPACE","\n\n      ",84],["T_VARIABLE","$entity",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","container",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","get",86],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",86],")",["T_WHITESPACE","\n        ",86],["T_OBJECT_OPERATOR","->",87],["T_STRING","getStorage",87],"(",["T_VARIABLE","$entity_type",87],")",["T_OBJECT_OPERATOR","->",87],["T_STRING","load",87],"(",["T_VARIABLE","$entity",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","id",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","value",87],")",";",["T_WHITESPACE","\n      ",87],["T_VARIABLE","$entity",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","setNewRevision",88],"(",["T_STRING","TRUE",88],")",";",["T_WHITESPACE","\n      ",88],["T_VARIABLE","$names",89],"[","]",["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$entity",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","name",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","value",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","randomMachineName",89],"(",["T_LNUMBER","32",89],")",";",["T_WHITESPACE","\n      ",89],["T_VARIABLE","$texts",90],"[","]",["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$entity",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","field_test_text",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","value",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","randomMachineName",90],"(",["T_LNUMBER","32",90],")",";",["T_WHITESPACE","\n      ",90],["T_VARIABLE","$created",91],"[","]",["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$entity",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","created",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","value",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_STRING","time",91],"(",")",["T_WHITESPACE"," ",91],"+",["T_WHITESPACE"," ",91],["T_VARIABLE","$i",91],["T_WHITESPACE"," ",91],"+",["T_WHITESPACE"," ",91],["T_LNUMBER","1",91],";",["T_WHITESPACE","\n      ",91],["T_VARIABLE","$entity",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","save",92],"(",")",";",["T_WHITESPACE","\n      ",92],["T_VARIABLE","$revision_ids",93],"[","]",["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$entity",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","revision_id",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","value",93],";",["T_WHITESPACE","\n\n      ",93],["T_COMMENT","\/\/ Check that the fields and properties contain new content.\n",95],["T_WHITESPACE","      ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","assertTrue",96],"(",["T_VARIABLE","$entity",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","revision_id",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","value",96],["T_WHITESPACE"," ",96],">",["T_WHITESPACE"," ",96],["T_VARIABLE","$legacy_revision_id",96],",",["T_WHITESPACE"," ",96],["T_STRING","format_string",96],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Revision ID changed.'",96],",",["T_WHITESPACE"," ",96],["T_ARRAY","array",96],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$entity_type",96],")",")",")",";",["T_WHITESPACE","\n      ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","assertNotEqual",97],"(",["T_VARIABLE","$entity",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","name",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","value",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$legacy_name",97],",",["T_WHITESPACE"," ",97],["T_STRING","format_string",97],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name changed.'",97],",",["T_WHITESPACE"," ",97],["T_ARRAY","array",97],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$entity_type",97],")",")",")",";",["T_WHITESPACE","\n      ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","assertNotEqual",98],"(",["T_VARIABLE","$entity",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","field_test_text",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","value",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$legacy_text",98],",",["T_WHITESPACE"," ",98],["T_STRING","format_string",98],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Text changed.'",98],",",["T_WHITESPACE"," ",98],["T_ARRAY","array",98],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$entity_type",98],")",")",")",";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n\n    ",99],["T_FOR","for",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$i",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_LNUMBER","0",101],";",["T_WHITESPACE"," ",101],["T_VARIABLE","$i",101],["T_WHITESPACE"," ",101],"<",["T_WHITESPACE"," ",101],["T_VARIABLE","$revision_count",101],";",["T_WHITESPACE"," ",101],["T_VARIABLE","$i",101],["T_INC","++",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n      ",101],["T_COMMENT","\/\/ Load specific revision.\n",102],["T_WHITESPACE","      ",103],["T_VARIABLE","$entity_revision",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","entity_revision_load",103],"(",["T_VARIABLE","$entity_type",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$revision_ids",103],"[",["T_VARIABLE","$i",103],"]",")",";",["T_WHITESPACE","\n\n      ",103],["T_COMMENT","\/\/ Check if properties and fields contain the revision specific content.\n",105],["T_WHITESPACE","      ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertEqual",106],"(",["T_VARIABLE","$entity_revision",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","revision_id",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","value",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$revision_ids",106],"[",["T_VARIABLE","$i",106],"]",",",["T_WHITESPACE"," ",106],["T_STRING","format_string",106],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Revision ID matches.'",106],",",["T_WHITESPACE"," ",106],["T_ARRAY","array",106],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$entity_type",106],")",")",")",";",["T_WHITESPACE","\n      ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertEqual",107],"(",["T_VARIABLE","$entity_revision",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","name",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","value",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$names",107],"[",["T_VARIABLE","$i",107],"]",",",["T_WHITESPACE"," ",107],["T_STRING","format_string",107],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name matches.'",107],",",["T_WHITESPACE"," ",107],["T_ARRAY","array",107],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$entity_type",107],")",")",")",";",["T_WHITESPACE","\n      ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","assertEqual",108],"(",["T_VARIABLE","$entity_revision",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","field_test_text",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","value",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$texts",108],"[",["T_VARIABLE","$i",108],"]",",",["T_WHITESPACE"," ",108],["T_STRING","format_string",108],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Text matches.'",108],",",["T_WHITESPACE"," ",108],["T_ARRAY","array",108],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$entity_type",108],")",")",")",";",["T_WHITESPACE","\n\n      ",108],["T_COMMENT","\/\/ Check non-revisioned values are loaded.\n",110],["T_WHITESPACE","      ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertTrue",111],"(",["T_ISSET","isset",111],"(",["T_VARIABLE","$entity_revision",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","created",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","value",111],")",",",["T_WHITESPACE"," ",111],["T_STRING","format_string",111],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Non-revisioned field is loaded.'",111],",",["T_WHITESPACE"," ",111],["T_ARRAY","array",111],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$entity_type",111],")",")",")",";",["T_WHITESPACE","\n      ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","assertEqual",112],"(",["T_VARIABLE","$entity_revision",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","created",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","value",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$created",112],"[",["T_LNUMBER","2",112],"]",",",["T_WHITESPACE"," ",112],["T_STRING","format_string",112],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Non-revisioned field value is the same between revisions.'",112],",",["T_WHITESPACE"," ",112],["T_ARRAY","array",112],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$entity_type",112],")",")",")",";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_COMMENT","\/\/ Confirm the correct revision text appears in the edit form.\n",115],["T_WHITESPACE","    ",116],["T_VARIABLE","$entity",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","container",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","get",116],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",116],")",["T_WHITESPACE","\n      ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","getStorage",117],"(",["T_VARIABLE","$entity_type",117],")",["T_WHITESPACE","\n      ",117],["T_OBJECT_OPERATOR","->",118],["T_STRING","load",118],"(",["T_VARIABLE","$entity",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","id",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","value",118],")",";",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","drupalGet",119],"(",["T_VARIABLE","$entity_type",119],["T_WHITESPACE"," ",119],".",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'\/manage\/'",119],["T_WHITESPACE"," ",119],".",["T_WHITESPACE"," ",119],["T_VARIABLE","$entity",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","id",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","value",119],["T_WHITESPACE"," ",119],".",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'\/edit'",119],")",";",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","assertFieldById",120],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-name-0-value'",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$entity",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","name",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","value",120],",",["T_WHITESPACE"," ",120],["T_STRING","format_string",120],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name matches in UI.'",120],",",["T_WHITESPACE"," ",120],["T_ARRAY","array",120],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$entity_type",120],")",")",")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","assertFieldById",121],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-field-test-text-0-value'",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$entity",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","field_test_text",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","value",121],",",["T_WHITESPACE"," ",121],["T_STRING","format_string",121],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Text matches in UI.'",121],",",["T_WHITESPACE"," ",121],["T_ARRAY","array",121],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$entity_type",121],")",")",")",";",["T_WHITESPACE","\n  ",121],"}",["T_WHITESPACE","\n\n  ",122],["T_DOC_COMMENT","\/**\n   * Tests that an entity revision is upcasted in the correct language.\n   *\/",124],["T_WHITESPACE","\n  ",126],["T_PUBLIC","public",127],["T_WHITESPACE"," ",127],["T_FUNCTION","function",127],["T_WHITESPACE"," ",127],["T_STRING","testEntityRevisionParamConverter",127],"(",")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n    ",127],["T_COMMENT","\/\/ Create a test entity with multiple revisions and translations for them.\n",128],["T_WHITESPACE","    ",129],["T_VARIABLE","$entity",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_STRING","EntityTestMulRev",129],["T_DOUBLE_COLON","::",129],["T_STRING","create",129],"(","[",["T_WHITESPACE","\n      ",129],["T_CONSTANT_ENCAPSED_STRING","'name'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'default revision - en'",130],",",["T_WHITESPACE","\n      ",130],["T_CONSTANT_ENCAPSED_STRING","'user_id'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","webUser",131],",",["T_WHITESPACE","\n      ",131],["T_CONSTANT_ENCAPSED_STRING","'language'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'en'",132],",",["T_WHITESPACE","\n    ",132],"]",")",";",["T_WHITESPACE","\n    ",133],["T_VARIABLE","$entity",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","addTranslation",134],"(",["T_CONSTANT_ENCAPSED_STRING","'de'",134],",",["T_WHITESPACE"," ",134],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'default revision - de'",134],"]",")",";",["T_WHITESPACE","\n    ",134],["T_VARIABLE","$entity",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","save",135],"(",")",";",["T_WHITESPACE","\n\n    ",135],["T_VARIABLE","$forward_revision",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_NS_SEPARATOR","\\",137],["T_STRING","Drupal",137],["T_DOUBLE_COLON","::",137],["T_STRING","entityTypeManager",137],"(",")",["T_OBJECT_OPERATOR","->",137],["T_STRING","getStorage",137],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_mulrev'",137],")",["T_OBJECT_OPERATOR","->",137],["T_STRING","loadUnchanged",137],"(",["T_VARIABLE","$entity",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","id",137],"(",")",")",";",["T_WHITESPACE","\n\n    ",137],["T_VARIABLE","$forward_revision",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","setNewRevision",139],"(",")",";",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$forward_revision",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","isDefaultRevision",140],"(",["T_STRING","FALSE",140],")",";",["T_WHITESPACE","\n\n    ",140],["T_VARIABLE","$forward_revision",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","name",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'forward revision - en'",142],";",["T_WHITESPACE","\n    ",142],["T_VARIABLE","$forward_revision",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","save",143],"(",")",";",["T_WHITESPACE","\n\n    ",143],["T_VARIABLE","$forward_revision_translation",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$forward_revision",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getTranslation",145],"(",["T_CONSTANT_ENCAPSED_STRING","'de'",145],")",";",["T_WHITESPACE","\n    ",145],["T_VARIABLE","$forward_revision_translation",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","name",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","'forward revision - de'",146],";",["T_WHITESPACE","\n    ",146],["T_VARIABLE","$forward_revision_translation",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","save",147],"(",")",";",["T_WHITESPACE","\n\n    ",147],["T_COMMENT","\/\/ Check that the entity revision is upcasted in the correct language.\n",149],["T_WHITESPACE","    ",150],["T_VARIABLE","$revision_url",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'entity_test_mulrev\/'",150],["T_WHITESPACE"," ",150],".",["T_WHITESPACE"," ",150],["T_VARIABLE","$entity",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","id",150],"(",")",["T_WHITESPACE"," ",150],".",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'\/revision\/'",150],["T_WHITESPACE"," ",150],".",["T_WHITESPACE"," ",150],["T_VARIABLE","$forward_revision",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getRevisionId",150],"(",")",["T_WHITESPACE"," ",150],".",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'\/view'",150],";",["T_WHITESPACE","\n\n    ",150],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","drupalGet",152],"(",["T_VARIABLE","$revision_url",152],")",";",["T_WHITESPACE","\n    ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","assertText",153],"(",["T_CONSTANT_ENCAPSED_STRING","'forward revision - en'",153],")",";",["T_WHITESPACE","\n    ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","assertNoText",154],"(",["T_CONSTANT_ENCAPSED_STRING","'forward revision - de'",154],")",";",["T_WHITESPACE","\n\n    ",154],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","drupalGet",156],"(",["T_CONSTANT_ENCAPSED_STRING","'de\/'",156],["T_WHITESPACE"," ",156],".",["T_WHITESPACE"," ",156],["T_VARIABLE","$revision_url",156],")",";",["T_WHITESPACE","\n    ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","assertText",157],"(",["T_CONSTANT_ENCAPSED_STRING","'forward revision - de'",157],")",";",["T_WHITESPACE","\n    ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","assertNoText",158],"(",["T_CONSTANT_ENCAPSED_STRING","'forward revision - en'",158],")",";",["T_WHITESPACE","\n  ",158],"}",["T_WHITESPACE","\n\n",159],"}",["T_WHITESPACE","\n",161]]