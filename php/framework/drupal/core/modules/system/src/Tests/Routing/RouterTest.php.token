[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","system",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Routing",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Cache",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Cache",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","EventSubscriber",6],["T_NS_SEPARATOR","\\",6],["T_STRING","MainContentViewSubscriber",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Language",7],["T_NS_SEPARATOR","\\",7],["T_STRING","LanguageInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","simpletest",8],["T_NS_SEPARATOR","\\",8],["T_STRING","WebTestBase",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Symfony",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Component",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Routing",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Exception",9],["T_NS_SEPARATOR","\\",9],["T_STRING","RouteNotFoundException",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Url",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Functional class for the full integrated routing system.\n *\n * @group Routing\n *\/",12],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","RouterTest",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_STRING","WebTestBase",17],["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",19],["T_WHITESPACE","\n  ",23],["T_PUBLIC","public",24],["T_WHITESPACE"," ",24],["T_STATIC","static",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$modules",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_ARRAY","array",24],"(",["T_CONSTANT_ENCAPSED_STRING","'router_test'",24],")",";",["T_WHITESPACE","\n\n  ",24],["T_DOC_COMMENT","\/**\n   * Confirms that our FinishResponseSubscriber logic works properly.\n   *\/",26],["T_WHITESPACE","\n  ",28],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","testFinishResponseSubscriber",29],"(",")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n    ",29],["T_VARIABLE","$renderer_required_cache_contexts",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],"[",["T_CONSTANT_ENCAPSED_STRING","'languages:'",30],["T_WHITESPACE"," ",30],".",["T_WHITESPACE"," ",30],["T_STRING","LanguageInterface",30],["T_DOUBLE_COLON","::",30],["T_STRING","TYPE_INTERFACE",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'theme'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'user.permissions'",30],"]",";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$expected_cache_contexts",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_STRING","Cache",31],["T_DOUBLE_COLON","::",31],["T_STRING","mergeContexts",31],"(",["T_VARIABLE","$renderer_required_cache_contexts",31],",",["T_WHITESPACE"," ",31],"[",["T_CONSTANT_ENCAPSED_STRING","'url.query_args:'",31],["T_WHITESPACE"," ",31],".",["T_WHITESPACE"," ",31],["T_STRING","MainContentViewSubscriber",31],["T_DOUBLE_COLON","::",31],["T_STRING","WRAPPER_FORMAT",31],"]",")",";",["T_WHITESPACE","\n\n    ",31],["T_COMMENT","\/\/ Confirm that the router can get to a controller.\n",33],["T_WHITESPACE","    ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","drupalGet",34],"(",["T_CONSTANT_ENCAPSED_STRING","'router_test\/test1'",34],")",";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","assertRaw",35],"(",["T_CONSTANT_ENCAPSED_STRING","'test1'",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'The correct string was returned because the route was successful.'",35],")",";",["T_WHITESPACE","\n    ",35],["T_COMMENT","\/\/ Check expected headers from FinishResponseSubscriber.\n",36],["T_WHITESPACE","    ",37],["T_VARIABLE","$headers",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","drupalGetHeaders",37],"(",")",";",["T_WHITESPACE","\n    ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","assertEqual",38],"(",["T_VARIABLE","$headers",38],"[",["T_CONSTANT_ENCAPSED_STRING","'x-ua-compatible'",38],"]",",",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'IE=edge'",38],")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","assertEqual",39],"(",["T_VARIABLE","$headers",39],"[",["T_CONSTANT_ENCAPSED_STRING","'content-language'",39],"]",",",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'en'",39],")",";",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","assertEqual",40],"(",["T_VARIABLE","$headers",40],"[",["T_CONSTANT_ENCAPSED_STRING","'x-content-type-options'",40],"]",",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'nosniff'",40],")",";",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","assertEqual",41],"(",["T_VARIABLE","$headers",41],"[",["T_CONSTANT_ENCAPSED_STRING","'x-frame-options'",41],"]",",",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'SAMEORIGIN'",41],")",";",["T_WHITESPACE","\n\n    ",41],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","drupalGet",43],"(",["T_CONSTANT_ENCAPSED_STRING","'router_test\/test2'",43],")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","assertRaw",44],"(",["T_CONSTANT_ENCAPSED_STRING","'test2'",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'The correct string was returned because the route was successful.'",44],")",";",["T_WHITESPACE","\n    ",44],["T_COMMENT","\/\/ Check expected headers from FinishResponseSubscriber.\n",45],["T_WHITESPACE","    ",46],["T_VARIABLE","$headers",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","drupalGetHeaders",46],"(",")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","assertEqual",47],"(",["T_VARIABLE","$headers",47],"[",["T_CONSTANT_ENCAPSED_STRING","'x-drupal-cache-contexts'",47],"]",",",["T_WHITESPACE"," ",47],["T_STRING","implode",47],"(",["T_CONSTANT_ENCAPSED_STRING","' '",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$expected_cache_contexts",47],")",")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","assertEqual",48],"(",["T_VARIABLE","$headers",48],"[",["T_CONSTANT_ENCAPSED_STRING","'x-drupal-cache-tags'",48],"]",",",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'config:user.role.anonymous rendered'",48],")",";",["T_WHITESPACE","\n    ",48],["T_COMMENT","\/\/ Confirm that the page wrapping is being added, so we're not getting a\n",49],["T_WHITESPACE","    ",50],["T_COMMENT","\/\/ raw body returned.\n",50],["T_WHITESPACE","    ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertRaw",51],"(",["T_CONSTANT_ENCAPSED_STRING","'<\/html>'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'Page markup was found.'",51],")",";",["T_WHITESPACE","\n    ",51],["T_COMMENT","\/\/ In some instances, the subrequest handling may get confused and render\n",52],["T_WHITESPACE","    ",53],["T_COMMENT","\/\/ a page inception style.  This test verifies that is not happening.\n",53],["T_WHITESPACE","    ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertNoPattern",54],"(",["T_CONSTANT_ENCAPSED_STRING","'#<\/body>.*<\/body>#s'",54],",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'There was no double-page effect from a misrendered subrequest.'",54],")",";",["T_WHITESPACE","\n\n\n    ",54],["T_COMMENT","\/\/ Confirm that route-level access check's cacheability is applied to the\n",57],["T_WHITESPACE","    ",58],["T_COMMENT","\/\/ X-Drupal-Cache-Contexts and X-Drupal-Cache-Tags headers.\n",58],["T_WHITESPACE","    ",59],["T_COMMENT","\/\/ 1. controller result: render array, globally cacheable route access.\n",59],["T_WHITESPACE","    ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","drupalGet",60],"(",["T_CONSTANT_ENCAPSED_STRING","'router_test\/test18'",60],")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$headers",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","drupalGetHeaders",61],"(",")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertEqual",62],"(",["T_VARIABLE","$headers",62],"[",["T_CONSTANT_ENCAPSED_STRING","'x-drupal-cache-contexts'",62],"]",",",["T_WHITESPACE"," ",62],["T_STRING","implode",62],"(",["T_CONSTANT_ENCAPSED_STRING","' '",62],",",["T_WHITESPACE"," ",62],["T_STRING","Cache",62],["T_DOUBLE_COLON","::",62],["T_STRING","mergeContexts",62],"(",["T_VARIABLE","$renderer_required_cache_contexts",62],",",["T_WHITESPACE"," ",62],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",62],"]",")",")",")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","assertEqual",63],"(",["T_VARIABLE","$headers",63],"[",["T_CONSTANT_ENCAPSED_STRING","'x-drupal-cache-tags'",63],"]",",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'config:user.role.anonymous foo rendered'",63],")",";",["T_WHITESPACE","\n    ",63],["T_COMMENT","\/\/ 2. controller result: render array, per-role cacheable route access.\n",64],["T_WHITESPACE","    ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","drupalGet",65],"(",["T_CONSTANT_ENCAPSED_STRING","'router_test\/test19'",65],")",";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$headers",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","drupalGetHeaders",66],"(",")",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","assertEqual",67],"(",["T_VARIABLE","$headers",67],"[",["T_CONSTANT_ENCAPSED_STRING","'x-drupal-cache-contexts'",67],"]",",",["T_WHITESPACE"," ",67],["T_STRING","implode",67],"(",["T_CONSTANT_ENCAPSED_STRING","' '",67],",",["T_WHITESPACE"," ",67],["T_STRING","Cache",67],["T_DOUBLE_COLON","::",67],["T_STRING","mergeContexts",67],"(",["T_VARIABLE","$renderer_required_cache_contexts",67],",",["T_WHITESPACE"," ",67],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'user.roles'",67],"]",")",")",")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","assertEqual",68],"(",["T_VARIABLE","$headers",68],"[",["T_CONSTANT_ENCAPSED_STRING","'x-drupal-cache-tags'",68],"]",",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'config:user.role.anonymous foo rendered'",68],")",";",["T_WHITESPACE","\n    ",68],["T_COMMENT","\/\/ 3. controller result: Response object, globally cacheable route access.\n",69],["T_WHITESPACE","    ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","drupalGet",70],"(",["T_CONSTANT_ENCAPSED_STRING","'router_test\/test1'",70],")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$headers",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","drupalGetHeaders",71],"(",")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertFalse",72],"(",["T_ISSET","isset",72],"(",["T_VARIABLE","$headers",72],"[",["T_CONSTANT_ENCAPSED_STRING","'x-drupal-cache-contexts'",72],"]",")",")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertFalse",73],"(",["T_ISSET","isset",73],"(",["T_VARIABLE","$headers",73],"[",["T_CONSTANT_ENCAPSED_STRING","'x-drupal-cache-tags'",73],"]",")",")",";",["T_WHITESPACE","\n    ",73],["T_COMMENT","\/\/ 4. controller result: Response object, per-role cacheable route access.\n",74],["T_WHITESPACE","    ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","drupalGet",75],"(",["T_CONSTANT_ENCAPSED_STRING","'router_test\/test20'",75],")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$headers",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","drupalGetHeaders",76],"(",")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assertFalse",77],"(",["T_ISSET","isset",77],"(",["T_VARIABLE","$headers",77],"[",["T_CONSTANT_ENCAPSED_STRING","'x-drupal-cache-contexts'",77],"]",")",")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","assertFalse",78],"(",["T_ISSET","isset",78],"(",["T_VARIABLE","$headers",78],"[",["T_CONSTANT_ENCAPSED_STRING","'x-drupal-cache-tags'",78],"]",")",")",";",["T_WHITESPACE","\n    ",78],["T_COMMENT","\/\/ 5. controller result: CacheableResponse object, globally cacheable route access.\n",79],["T_WHITESPACE","    ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","drupalGet",80],"(",["T_CONSTANT_ENCAPSED_STRING","'router_test\/test21'",80],")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$headers",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","drupalGetHeaders",81],"(",")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertEqual",82],"(",["T_VARIABLE","$headers",82],"[",["T_CONSTANT_ENCAPSED_STRING","'x-drupal-cache-contexts'",82],"]",",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","''",82],")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertEqual",83],"(",["T_VARIABLE","$headers",83],"[",["T_CONSTANT_ENCAPSED_STRING","'x-drupal-cache-tags'",83],"]",",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","''",83],")",";",["T_WHITESPACE","\n    ",83],["T_COMMENT","\/\/ 6. controller result: CacheableResponse object, per-role cacheable route access.\n",84],["T_WHITESPACE","    ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","drupalGet",85],"(",["T_CONSTANT_ENCAPSED_STRING","'router_test\/test22'",85],")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$headers",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","drupalGetHeaders",86],"(",")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertEqual",87],"(",["T_VARIABLE","$headers",87],"[",["T_CONSTANT_ENCAPSED_STRING","'x-drupal-cache-contexts'",87],"]",",",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'user.roles'",87],")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","assertEqual",88],"(",["T_VARIABLE","$headers",88],"[",["T_CONSTANT_ENCAPSED_STRING","'x-drupal-cache-tags'",88],"]",",",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","''",88],")",";",["T_WHITESPACE","\n\n    ",88],["T_COMMENT","\/\/ Finally, verify that the X-Drupal-Cache-Contexts and X-Drupal-Cache-Tags\n",90],["T_WHITESPACE","    ",91],["T_COMMENT","\/\/ headers are not sent when their container parameter is set to FALSE.\n",91],["T_WHITESPACE","    ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","drupalGet",92],"(",["T_CONSTANT_ENCAPSED_STRING","'router_test\/test18'",92],")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$headers",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","drupalGetHeaders",93],"(",")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertTrue",94],"(",["T_ISSET","isset",94],"(",["T_VARIABLE","$headers",94],"[",["T_CONSTANT_ENCAPSED_STRING","'x-drupal-cache-contexts'",94],"]",")",")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertTrue",95],"(",["T_ISSET","isset",95],"(",["T_VARIABLE","$headers",95],"[",["T_CONSTANT_ENCAPSED_STRING","'x-drupal-cache-tags'",95],"]",")",")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","setHttpResponseDebugCacheabilityHeaders",96],"(",["T_STRING","FALSE",96],")",";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","drupalGet",97],"(",["T_CONSTANT_ENCAPSED_STRING","'router_test\/test18'",97],")",";",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$headers",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","drupalGetHeaders",98],"(",")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","assertFalse",99],"(",["T_ISSET","isset",99],"(",["T_VARIABLE","$headers",99],"[",["T_CONSTANT_ENCAPSED_STRING","'x-drupal-cache-contexts'",99],"]",")",")",";",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertFalse",100],"(",["T_ISSET","isset",100],"(",["T_VARIABLE","$headers",100],"[",["T_CONSTANT_ENCAPSED_STRING","'x-drupal-cache-tags'",100],"]",")",")",";",["T_WHITESPACE","\n  ",100],"}",["T_WHITESPACE","\n\n  ",101],["T_DOC_COMMENT","\/**\n   * Confirms that placeholders in paths work correctly.\n   *\/",103],["T_WHITESPACE","\n  ",105],["T_PUBLIC","public",106],["T_WHITESPACE"," ",106],["T_FUNCTION","function",106],["T_WHITESPACE"," ",106],["T_STRING","testControllerPlaceholders",106],"(",")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n    ",106],["T_COMMENT","\/\/ Test with 0 and a random value.\n",107],["T_WHITESPACE","    ",108],["T_VARIABLE","$values",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_ARRAY","array",108],"(",["T_CONSTANT_ENCAPSED_STRING","\"0\"",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","randomMachineName",108],"(",")",")",";",["T_WHITESPACE","\n    ",108],["T_FOREACH","foreach",109],["T_WHITESPACE"," ",109],"(",["T_VARIABLE","$values",109],["T_WHITESPACE"," ",109],["T_AS","as",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$value",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n      ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","drupalGet",110],"(",["T_CONSTANT_ENCAPSED_STRING","'router_test\/test3\/'",110],["T_WHITESPACE"," ",110],".",["T_WHITESPACE"," ",110],["T_VARIABLE","$value",110],")",";",["T_WHITESPACE","\n      ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertResponse",111],"(",["T_LNUMBER","200",111],")",";",["T_WHITESPACE","\n      ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","assertRaw",112],"(",["T_VARIABLE","$value",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'The correct string was returned because the route was successful.'",112],")",";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_COMMENT","\/\/ Confirm that the page wrapping is being added, so we're not getting a\n",115],["T_WHITESPACE","    ",116],["T_COMMENT","\/\/ raw body returned.\n",116],["T_WHITESPACE","    ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","assertRaw",117],"(",["T_CONSTANT_ENCAPSED_STRING","'<\/html>'",117],",",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'Page markup was found.'",117],")",";",["T_WHITESPACE","\n\n    ",117],["T_COMMENT","\/\/ In some instances, the subrequest handling may get confused and render\n",119],["T_WHITESPACE","    ",120],["T_COMMENT","\/\/ a page inception style.  This test verifies that is not happening.\n",120],["T_WHITESPACE","    ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","assertNoPattern",121],"(",["T_CONSTANT_ENCAPSED_STRING","'#<\/body>.*<\/body>#s'",121],",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'There was no double-page effect from a misrendered subrequest.'",121],")",";",["T_WHITESPACE","\n  ",121],"}",["T_WHITESPACE","\n\n  ",122],["T_DOC_COMMENT","\/**\n   * Confirms that default placeholders in paths work correctly.\n   *\/",124],["T_WHITESPACE","\n  ",126],["T_PUBLIC","public",127],["T_WHITESPACE"," ",127],["T_FUNCTION","function",127],["T_WHITESPACE"," ",127],["T_STRING","testControllerPlaceholdersDefaultValues",127],"(",")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","drupalGet",128],"(",["T_CONSTANT_ENCAPSED_STRING","'router_test\/test4'",128],")",";",["T_WHITESPACE","\n    ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","assertResponse",129],"(",["T_LNUMBER","200",129],")",";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","assertRaw",130],"(",["T_CONSTANT_ENCAPSED_STRING","'narf'",130],",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'The correct string was returned because the route was successful.'",130],")",";",["T_WHITESPACE","\n\n    ",130],["T_COMMENT","\/\/ Confirm that the page wrapping is being added, so we're not getting a\n",132],["T_WHITESPACE","    ",133],["T_COMMENT","\/\/ raw body returned.\n",133],["T_WHITESPACE","    ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","assertRaw",134],"(",["T_CONSTANT_ENCAPSED_STRING","'<\/html>'",134],",",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'Page markup was found.'",134],")",";",["T_WHITESPACE","\n\n    ",134],["T_COMMENT","\/\/ In some instances, the subrequest handling may get confused and render\n",136],["T_WHITESPACE","    ",137],["T_COMMENT","\/\/ a page inception style.  This test verifies that is not happening.\n",137],["T_WHITESPACE","    ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","assertNoPattern",138],"(",["T_CONSTANT_ENCAPSED_STRING","'#<\/body>.*<\/body>#s'",138],",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'There was no double-page effect from a misrendered subrequest.'",138],")",";",["T_WHITESPACE","\n  ",138],"}",["T_WHITESPACE","\n\n  ",139],["T_DOC_COMMENT","\/**\n   * Confirms that default placeholders in paths work correctly.\n   *\/",141],["T_WHITESPACE","\n  ",143],["T_PUBLIC","public",144],["T_WHITESPACE"," ",144],["T_FUNCTION","function",144],["T_WHITESPACE"," ",144],["T_STRING","testControllerPlaceholdersDefaultValuesProvided",144],"(",")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n    ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","drupalGet",145],"(",["T_CONSTANT_ENCAPSED_STRING","'router_test\/test4\/barf'",145],")",";",["T_WHITESPACE","\n    ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","assertResponse",146],"(",["T_LNUMBER","200",146],")",";",["T_WHITESPACE","\n    ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","assertRaw",147],"(",["T_CONSTANT_ENCAPSED_STRING","'barf'",147],",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'The correct string was returned because the route was successful.'",147],")",";",["T_WHITESPACE","\n\n    ",147],["T_COMMENT","\/\/ Confirm that the page wrapping is being added, so we're not getting a\n",149],["T_WHITESPACE","    ",150],["T_COMMENT","\/\/ raw body returned.\n",150],["T_WHITESPACE","    ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","assertRaw",151],"(",["T_CONSTANT_ENCAPSED_STRING","'<\/html>'",151],",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'Page markup was found.'",151],")",";",["T_WHITESPACE","\n\n    ",151],["T_COMMENT","\/\/ In some instances, the subrequest handling may get confused and render\n",153],["T_WHITESPACE","    ",154],["T_COMMENT","\/\/ a page inception style.  This test verifies that is not happening.\n",154],["T_WHITESPACE","    ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","assertNoPattern",155],"(",["T_CONSTANT_ENCAPSED_STRING","'#<\/body>.*<\/body>#s'",155],",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'There was no double-page effect from a misrendered subrequest.'",155],")",";",["T_WHITESPACE","\n  ",155],"}",["T_WHITESPACE","\n\n  ",156],["T_DOC_COMMENT","\/**\n   * Checks that dynamically defined and altered routes work correctly.\n   *\n   * @see \\Drupal\\router_test\\RouteSubscriber\n   *\/",158],["T_WHITESPACE","\n  ",162],["T_PUBLIC","public",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","testDynamicRoutes",163],"(",")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n    ",163],["T_COMMENT","\/\/ Test the altered route.\n",164],["T_WHITESPACE","    ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","drupalGet",165],"(",["T_CONSTANT_ENCAPSED_STRING","'router_test\/test6'",165],")",";",["T_WHITESPACE","\n    ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","assertResponse",166],"(",["T_LNUMBER","200",166],")",";",["T_WHITESPACE","\n    ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","assertRaw",167],"(",["T_CONSTANT_ENCAPSED_STRING","'test5'",167],",",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'The correct string was returned because the route was successful.'",167],")",";",["T_WHITESPACE","\n  ",167],"}",["T_WHITESPACE","\n\n  ",168],["T_DOC_COMMENT","\/**\n   * Checks that a request with text\/html response gets rendered as a page.\n   *\/",170],["T_WHITESPACE","\n  ",172],["T_PUBLIC","public",173],["T_WHITESPACE"," ",173],["T_FUNCTION","function",173],["T_WHITESPACE"," ",173],["T_STRING","testControllerResolutionPage",173],"(",")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n    ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","drupalGet",174],"(",["T_CONSTANT_ENCAPSED_STRING","'\/router_test\/test10'",174],")",";",["T_WHITESPACE","\n\n    ",174],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","assertRaw",176],"(",["T_CONSTANT_ENCAPSED_STRING","'abcde'",176],",",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'Correct body was found.'",176],")",";",["T_WHITESPACE","\n\n    ",176],["T_COMMENT","\/\/ Confirm that the page wrapping is being added, so we're not getting a\n",178],["T_WHITESPACE","    ",179],["T_COMMENT","\/\/ raw body returned.\n",179],["T_WHITESPACE","    ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","assertRaw",180],"(",["T_CONSTANT_ENCAPSED_STRING","'<\/html>'",180],",",["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'Page markup was found.'",180],")",";",["T_WHITESPACE","\n\n    ",180],["T_COMMENT","\/\/ In some instances, the subrequest handling may get confused and render\n",182],["T_WHITESPACE","    ",183],["T_COMMENT","\/\/ a page inception style. This test verifies that is not happening.\n",183],["T_WHITESPACE","    ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","assertNoPattern",184],"(",["T_CONSTANT_ENCAPSED_STRING","'#<\/body>.*<\/body>#s'",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'There was no double-page effect from a misrendered subrequest.'",184],")",";",["T_WHITESPACE","\n  ",184],"}",["T_WHITESPACE","\n\n  ",185],["T_DOC_COMMENT","\/**\n   * Checks the generate method on the url generator using the front router.\n   *\/",187],["T_WHITESPACE","\n  ",189],["T_PUBLIC","public",190],["T_WHITESPACE"," ",190],["T_FUNCTION","function",190],["T_WHITESPACE"," ",190],["T_STRING","testUrlGeneratorFront",190],"(",")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n    ",190],["T_VARIABLE","$front_url",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_STRING","Url",191],["T_DOUBLE_COLON","::",191],["T_STRING","fromRoute",191],"(",["T_CONSTANT_ENCAPSED_STRING","'<front>'",191],",",["T_WHITESPACE"," ",191],"[","]",",",["T_WHITESPACE"," ",191],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_STRING","TRUE",191],"]",")",";",["T_WHITESPACE","\n    ",191],["T_COMMENT","\/\/ Compare to the site base URL.\n",192],["T_WHITESPACE","    ",193],["T_VARIABLE","$base_url",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_STRING","Url",193],["T_DOUBLE_COLON","::",193],["T_STRING","fromUri",193],"(",["T_CONSTANT_ENCAPSED_STRING","'base:\/'",193],",",["T_WHITESPACE"," ",193],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_STRING","TRUE",193],"]",")",";",["T_WHITESPACE","\n    ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","assertIdentical",194],"(",["T_VARIABLE","$base_url",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","toString",194],"(",")",",",["T_WHITESPACE"," ",194],["T_VARIABLE","$front_url",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","toString",194],"(",")",")",";",["T_WHITESPACE","\n  ",194],"}",["T_WHITESPACE","\n\n  ",195],["T_DOC_COMMENT","\/**\n   * Tests that a page trying to match a path will succeed.\n   *\/",197],["T_WHITESPACE","\n  ",199],["T_PUBLIC","public",200],["T_WHITESPACE"," ",200],["T_FUNCTION","function",200],["T_WHITESPACE"," ",200],["T_STRING","testRouterMatching",200],"(",")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n    ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","drupalGet",201],"(",["T_CONSTANT_ENCAPSED_STRING","'router_test\/test14\/1'",201],")",";",["T_WHITESPACE","\n    ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","assertResponse",202],"(",["T_LNUMBER","200",202],")",";",["T_WHITESPACE","\n    ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","assertText",203],"(",["T_CONSTANT_ENCAPSED_STRING","'User route \"entity.user.canonical\" was matched.'",203],")",";",["T_WHITESPACE","\n\n    ",203],["T_COMMENT","\/\/ Try to match a route for a non-existent user.\n",205],["T_WHITESPACE","    ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","drupalGet",206],"(",["T_CONSTANT_ENCAPSED_STRING","'router_test\/test14\/2'",206],")",";",["T_WHITESPACE","\n    ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","assertResponse",207],"(",["T_LNUMBER","200",207],")",";",["T_WHITESPACE","\n    ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","assertText",208],"(",["T_CONSTANT_ENCAPSED_STRING","'Route not matched.'",208],")",";",["T_WHITESPACE","\n\n    ",208],["T_COMMENT","\/\/ Check that very long paths don't cause an error.\n",210],["T_WHITESPACE","    ",211],["T_VARIABLE","$path",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'router_test\/test1'",211],";",["T_WHITESPACE","\n    ",211],["T_VARIABLE","$suffix",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'\/d\/r\/u\/p\/a\/l'",212],";",["T_WHITESPACE","\n    ",212],["T_FOR","for",213],["T_WHITESPACE"," ",213],"(",["T_VARIABLE","$i",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_LNUMBER","0",213],";",["T_WHITESPACE"," ",213],["T_VARIABLE","$i",213],["T_WHITESPACE"," ",213],"<",["T_WHITESPACE"," ",213],["T_LNUMBER","10",213],";",["T_WHITESPACE"," ",213],["T_VARIABLE","$i",213],["T_INC","++",213],")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n      ",213],["T_VARIABLE","$path",214],["T_WHITESPACE"," ",214],["T_CONCAT_EQUAL",".=",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$suffix",214],";",["T_WHITESPACE","\n      ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","drupalGet",215],"(",["T_VARIABLE","$path",215],")",";",["T_WHITESPACE","\n      ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","assertResponse",216],"(",["T_LNUMBER","404",216],")",";",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n  ",217],"}",["T_WHITESPACE","\n\n  ",218],["T_DOC_COMMENT","\/**\n   * Tests that a PSR-7 response works.\n   *\/",220],["T_WHITESPACE","\n  ",222],["T_PUBLIC","public",223],["T_WHITESPACE"," ",223],["T_FUNCTION","function",223],["T_WHITESPACE"," ",223],["T_STRING","testRouterResponsePsr7",223],"(",")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n    ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","drupalGet",224],"(",["T_CONSTANT_ENCAPSED_STRING","'\/router_test\/test23'",224],")",";",["T_WHITESPACE","\n    ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","assertResponse",225],"(",["T_LNUMBER","200",225],")",";",["T_WHITESPACE","\n    ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","assertText",226],"(",["T_CONSTANT_ENCAPSED_STRING","'test23'",226],")",";",["T_WHITESPACE","\n  ",226],"}",["T_WHITESPACE","\n\n  ",227],["T_DOC_COMMENT","\/**\n   * Tests the user account on the DIC.\n   *\/",229],["T_WHITESPACE","\n  ",231],["T_PUBLIC","public",232],["T_WHITESPACE"," ",232],["T_FUNCTION","function",232],["T_WHITESPACE"," ",232],["T_STRING","testUserAccount",232],"(",")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n    ",232],["T_VARIABLE","$account",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","drupalCreateUser",233],"(",")",";",["T_WHITESPACE","\n    ",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","drupalLogin",234],"(",["T_VARIABLE","$account",234],")",";",["T_WHITESPACE","\n\n    ",234],["T_VARIABLE","$second_account",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","drupalCreateUser",236],"(",")",";",["T_WHITESPACE","\n\n    ",236],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","drupalGet",238],"(",["T_CONSTANT_ENCAPSED_STRING","'router_test\/test12\/'",238],["T_WHITESPACE"," ",238],".",["T_WHITESPACE"," ",238],["T_VARIABLE","$second_account",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","id",238],"(",")",")",";",["T_WHITESPACE","\n    ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","assertText",239],"(",["T_VARIABLE","$account",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getUsername",239],"(",")",["T_WHITESPACE"," ",239],".",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","':'",239],["T_WHITESPACE"," ",239],".",["T_WHITESPACE"," ",239],["T_VARIABLE","$second_account",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getUsername",239],"(",")",")",";",["T_WHITESPACE","\n    ",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","assertEqual",240],"(",["T_VARIABLE","$account",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","id",240],"(",")",",",["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","loggedInUser",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","id",240],"(",")",",",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'Ensure that the user was not changed.'",240],")",";",["T_WHITESPACE","\n\n    ",240],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","drupalGet",242],"(",["T_CONSTANT_ENCAPSED_STRING","'router_test\/test13\/'",242],["T_WHITESPACE"," ",242],".",["T_WHITESPACE"," ",242],["T_VARIABLE","$second_account",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","id",242],"(",")",")",";",["T_WHITESPACE","\n    ",242],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","assertText",243],"(",["T_VARIABLE","$account",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","getUsername",243],"(",")",["T_WHITESPACE"," ",243],".",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","':'",243],["T_WHITESPACE"," ",243],".",["T_WHITESPACE"," ",243],["T_VARIABLE","$second_account",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","getUsername",243],"(",")",")",";",["T_WHITESPACE","\n    ",243],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","assertEqual",244],"(",["T_VARIABLE","$account",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","id",244],"(",")",",",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","loggedInUser",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","id",244],"(",")",",",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'Ensure that the user was not changed.'",244],")",";",["T_WHITESPACE","\n  ",244],"}",["T_WHITESPACE","\n\n  ",245],["T_DOC_COMMENT","\/**\n   * Checks that an ajax request gets rendered as an Ajax response, by mime.\n   *\/",247],["T_WHITESPACE","\n  ",249],["T_PUBLIC","public",250],["T_WHITESPACE"," ",250],["T_FUNCTION","function",250],["T_WHITESPACE"," ",250],["T_STRING","testControllerResolutionAjax",250],"(",")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n    ",250],["T_COMMENT","\/\/ This will fail with a JSON parse error if the request is not routed to\n",251],["T_WHITESPACE","    ",252],["T_COMMENT","\/\/ The correct controller.\n",252],["T_WHITESPACE","    ",253],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","drupalGetAjax",253],"(",["T_CONSTANT_ENCAPSED_STRING","'\/router_test\/test10'",253],")",";",["T_WHITESPACE","\n\n    ",253],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","assertEqual",255],"(",["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","drupalGetHeader",255],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",255],")",",",["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","'application\/json'",255],",",["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","'Correct mime content type was returned'",255],")",";",["T_WHITESPACE","\n\n    ",255],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","assertRaw",257],"(",["T_CONSTANT_ENCAPSED_STRING","'abcde'",257],",",["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'Correct body was found.'",257],")",";",["T_WHITESPACE","\n  ",257],"}",["T_WHITESPACE","\n\n  ",258],["T_DOC_COMMENT","\/**\n   * Tests that routes no longer exist for a module that has been uninstalled.\n   *\/",260],["T_WHITESPACE","\n  ",262],["T_PUBLIC","public",263],["T_WHITESPACE"," ",263],["T_FUNCTION","function",263],["T_WHITESPACE"," ",263],["T_STRING","testRouterUninstallInstall",263],"(",")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n    ",263],["T_NS_SEPARATOR","\\",264],["T_STRING","Drupal",264],["T_DOUBLE_COLON","::",264],["T_STRING","service",264],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",264],")",["T_OBJECT_OPERATOR","->",264],["T_STRING","uninstall",264],"(",["T_ARRAY","array",264],"(",["T_CONSTANT_ENCAPSED_STRING","'router_test'",264],")",")",";",["T_WHITESPACE","\n    ",264],["T_NS_SEPARATOR","\\",265],["T_STRING","Drupal",265],["T_DOUBLE_COLON","::",265],["T_STRING","service",265],"(",["T_CONSTANT_ENCAPSED_STRING","'router.builder'",265],")",["T_OBJECT_OPERATOR","->",265],["T_STRING","rebuild",265],"(",")",";",["T_WHITESPACE","\n    ",265],["T_TRY","try",266],["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n      ",266],["T_NS_SEPARATOR","\\",267],["T_STRING","Drupal",267],["T_DOUBLE_COLON","::",267],["T_STRING","service",267],"(",["T_CONSTANT_ENCAPSED_STRING","'router.route_provider'",267],")",["T_OBJECT_OPERATOR","->",267],["T_STRING","getRouteByName",267],"(",["T_CONSTANT_ENCAPSED_STRING","'router_test.1'",267],")",";",["T_WHITESPACE","\n      ",267],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","fail",268],"(",["T_CONSTANT_ENCAPSED_STRING","'Route was delete on uninstall.'",268],")",";",["T_WHITESPACE","\n    ",268],"}",["T_WHITESPACE","\n    ",269],["T_CATCH","catch",270],["T_WHITESPACE"," ",270],"(",["T_STRING","RouteNotFoundException",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$e",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n      ",270],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","pass",271],"(",["T_CONSTANT_ENCAPSED_STRING","'Route was delete on uninstall.'",271],")",";",["T_WHITESPACE","\n    ",271],"}",["T_WHITESPACE","\n    ",272],["T_COMMENT","\/\/ Install the module again.\n",273],["T_WHITESPACE","    ",274],["T_NS_SEPARATOR","\\",274],["T_STRING","Drupal",274],["T_DOUBLE_COLON","::",274],["T_STRING","service",274],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",274],")",["T_OBJECT_OPERATOR","->",274],["T_STRING","install",274],"(",["T_ARRAY","array",274],"(",["T_CONSTANT_ENCAPSED_STRING","'router_test'",274],")",")",";",["T_WHITESPACE","\n    ",274],["T_NS_SEPARATOR","\\",275],["T_STRING","Drupal",275],["T_DOUBLE_COLON","::",275],["T_STRING","service",275],"(",["T_CONSTANT_ENCAPSED_STRING","'router.builder'",275],")",["T_OBJECT_OPERATOR","->",275],["T_STRING","rebuild",275],"(",")",";",["T_WHITESPACE","\n    ",275],["T_VARIABLE","$route",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_NS_SEPARATOR","\\",276],["T_STRING","Drupal",276],["T_DOUBLE_COLON","::",276],["T_STRING","service",276],"(",["T_CONSTANT_ENCAPSED_STRING","'router.route_provider'",276],")",["T_OBJECT_OPERATOR","->",276],["T_STRING","getRouteByName",276],"(",["T_CONSTANT_ENCAPSED_STRING","'router_test.1'",276],")",";",["T_WHITESPACE","\n    ",276],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","assertNotNull",277],"(",["T_VARIABLE","$route",277],",",["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'Route exists after module installation'",277],")",";",["T_WHITESPACE","\n  ",277],"}",["T_WHITESPACE","\n\n  ",278],["T_DOC_COMMENT","\/**\n   * Ensure that multiple leading slashes are redirected.\n   *\/",280],["T_WHITESPACE","\n  ",282],["T_PUBLIC","public",283],["T_WHITESPACE"," ",283],["T_FUNCTION","function",283],["T_WHITESPACE"," ",283],["T_STRING","testLeadingSlashes",283],"(",")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n    ",283],["T_VARIABLE","$request",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","container",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","get",284],"(",["T_CONSTANT_ENCAPSED_STRING","'request_stack'",284],")",["T_OBJECT_OPERATOR","->",284],["T_STRING","getCurrentRequest",284],"(",")",";",["T_WHITESPACE","\n    ",284],["T_VARIABLE","$url",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_VARIABLE","$request",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","getUriForPath",285],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/router_test\/test1'",285],")",";",["T_WHITESPACE","\n    ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","drupalGet",286],"(",["T_VARIABLE","$url",286],")",";",["T_WHITESPACE","\n    ",286],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","assertEqual",287],"(",["T_LNUMBER","1",287],",",["T_WHITESPACE"," ",287],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","redirectCount",287],",",["T_WHITESPACE"," ",287],["T_VARIABLE","$url",287],["T_WHITESPACE"," ",287],".",["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","\" redirected to \"",287],["T_WHITESPACE"," ",287],".",["T_WHITESPACE"," ",287],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","url",287],")",";",["T_WHITESPACE","\n    ",287],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","assertUrl",288],"(",["T_VARIABLE","$request",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","getUriForPath",288],"(",["T_CONSTANT_ENCAPSED_STRING","'\/router_test\/test1'",288],")",")",";",["T_WHITESPACE","\n\n    ",288],["T_COMMENT","\/\/ It should not matter how many leading slashes are used and query strings\n",290],["T_WHITESPACE","    ",291],["T_COMMENT","\/\/ should be preserved.\n",291],["T_WHITESPACE","    ",292],["T_VARIABLE","$url",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_VARIABLE","$request",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","getUriForPath",292],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/router_test\/test1'",292],")",["T_WHITESPACE"," ",292],".",["T_WHITESPACE"," ",292],["T_CONSTANT_ENCAPSED_STRING","'?qs=test'",292],";",["T_WHITESPACE","\n    ",292],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","drupalGet",293],"(",["T_VARIABLE","$url",293],")",";",["T_WHITESPACE","\n    ",293],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","assertEqual",294],"(",["T_LNUMBER","1",294],",",["T_WHITESPACE"," ",294],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","redirectCount",294],",",["T_WHITESPACE"," ",294],["T_VARIABLE","$url",294],["T_WHITESPACE"," ",294],".",["T_WHITESPACE"," ",294],["T_CONSTANT_ENCAPSED_STRING","\" redirected to \"",294],["T_WHITESPACE"," ",294],".",["T_WHITESPACE"," ",294],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","url",294],")",";",["T_WHITESPACE","\n    ",294],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","assertUrl",295],"(",["T_VARIABLE","$request",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","getUriForPath",295],"(",["T_CONSTANT_ENCAPSED_STRING","'\/router_test\/test1'",295],")",["T_WHITESPACE"," ",295],".",["T_WHITESPACE"," ",295],["T_CONSTANT_ENCAPSED_STRING","'?qs=test'",295],")",";",["T_WHITESPACE","\n  ",295],"}",["T_WHITESPACE","\n\n",296],"}",["T_WHITESPACE","\n",298]]