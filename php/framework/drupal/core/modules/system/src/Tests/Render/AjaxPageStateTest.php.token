[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","system",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Render",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","simpletest",5],["T_NS_SEPARATOR","\\",5],["T_STRING","WebTestBase",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Performs tests for the effects of the ajax_page_state query parameter.\n *\n * @group Render\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","AjaxPageStateTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","WebTestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * Modules to install.\n   *\n   * @var array\n   *\/",14],["T_WHITESPACE","\n  ",18],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_STATIC","static",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$modules",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],"[",["T_CONSTANT_ENCAPSED_STRING","'node'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'views'",19],"]",";",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * User account with all available permissions\n   *\n   * @var \\Drupal\\Core\\Session\\AccountInterface\n   *\/",21],["T_WHITESPACE","\n  ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$adminUser",26],";",["T_WHITESPACE","\n\n  ",26],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","setUp",28],"(",")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n    ",28],["T_STRING","parent",29],["T_DOUBLE_COLON","::",29],["T_STRING","setUp",29],"(",")",";",["T_WHITESPACE","\n    ",29],["T_COMMENT","\/\/ Create an administrator with all permissions.\n",30],["T_WHITESPACE","    ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","adminUser",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","drupalCreateUser",31],"(",["T_STRING","array_keys",31],"(",["T_NS_SEPARATOR","\\",31],["T_STRING","Drupal",31],["T_DOUBLE_COLON","::",31],["T_STRING","service",31],"(",["T_CONSTANT_ENCAPSED_STRING","'user.permissions'",31],")",["T_WHITESPACE","\n      ",31],["T_OBJECT_OPERATOR","->",32],["T_STRING","getPermissions",32],"(",")",")",")",";",["T_WHITESPACE","\n\n    ",32],["T_COMMENT","\/\/ Log in so there are more libraries to test with otherwise only html5shiv\n",34],["T_WHITESPACE","    ",35],["T_COMMENT","\/\/ is the only one in the source we can easily test for.\n",35],["T_WHITESPACE","    ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","drupalLogin",36],"(",["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","adminUser",36],")",";",["T_WHITESPACE","\n  ",36],"}",["T_WHITESPACE","\n\n  ",37],["T_DOC_COMMENT","\/**\n   * Default functionality without the param ajax_page_state[libraries].\n   *\n   * The libraries html5shiv and drupalSettings are loaded default from core\n   * and available in code as scripts. Do this as the base test.\n   *\/",39],["T_WHITESPACE","\n  ",44],["T_PUBLIC","public",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","testLibrariesAvailable",45],"(",")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","drupalGet",46],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",46],",",["T_WHITESPACE"," ",46],["T_ARRAY","array",46],"(",")",")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","assertRaw",47],"(",["T_WHITESPACE","\n      ",47],["T_CONSTANT_ENCAPSED_STRING","'\/core\/assets\/vendor\/html5shiv\/html5shiv.min.js'",48],",",["T_WHITESPACE","\n      ",48],["T_CONSTANT_ENCAPSED_STRING","'The html5shiv library from core should be loaded.'",49],["T_WHITESPACE","\n    ",49],")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertRaw",51],"(",["T_WHITESPACE","\n      ",51],["T_CONSTANT_ENCAPSED_STRING","'\/core\/misc\/drupalSettingsLoader.js'",52],",",["T_WHITESPACE","\n      ",52],["T_CONSTANT_ENCAPSED_STRING","'The drupalSettings library from core should be loaded.'",53],["T_WHITESPACE","\n    ",53],")",";",["T_WHITESPACE","\n  ",54],"}",["T_WHITESPACE","\n\n  ",55],["T_DOC_COMMENT","\/**\n   * Give ajax_page_state[libraries]=core\/html5shiv to exclude the library.\n   *\n   * When called with ajax_page_state[libraries]=core\/html5shiv the library\n   * should be excluded as it is already loaded. This should not affect other\n   * libraries so test if drupalSettings is still available.\n   *\/",57],["T_WHITESPACE","\n  ",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","testHtml5ShivIsNotLoaded",64],"(",")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","drupalGet",65],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",65],",",["T_WHITESPACE","\n      ",65],["T_ARRAY","array",66],"(",["T_WHITESPACE","\n        ",66],["T_CONSTANT_ENCAPSED_STRING","\"query\"",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE","\n          ",67],["T_ARRAY","array",68],"(",["T_WHITESPACE","\n            ",68],["T_CONSTANT_ENCAPSED_STRING","'ajax_page_state'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_ARRAY","array",69],"(",["T_WHITESPACE","\n              ",69],["T_CONSTANT_ENCAPSED_STRING","'libraries'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'core\/html5shiv'",70],["T_WHITESPACE","\n            ",70],")",["T_WHITESPACE","\n          ",71],")",["T_WHITESPACE","\n      ",72],")",["T_WHITESPACE","\n    ",73],")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertNoRaw",75],"(",["T_WHITESPACE","\n      ",75],["T_CONSTANT_ENCAPSED_STRING","'\/core\/assets\/vendor\/html5shiv\/html5shiv.min.js'",76],",",["T_WHITESPACE","\n      ",76],["T_CONSTANT_ENCAPSED_STRING","'The html5shiv library from core should be excluded from loading'",77],["T_WHITESPACE","\n    ",77],")",";",["T_WHITESPACE","\n\n    ",78],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertRaw",80],"(",["T_WHITESPACE","\n      ",80],["T_CONSTANT_ENCAPSED_STRING","'\/core\/misc\/drupalSettingsLoader.js'",81],",",["T_WHITESPACE","\n      ",81],["T_CONSTANT_ENCAPSED_STRING","'The drupalSettings library from core should be loaded.'",82],["T_WHITESPACE","\n    ",82],")",";",["T_WHITESPACE","\n  ",83],"}",["T_WHITESPACE","\n\n  ",84],["T_DOC_COMMENT","\/**\n   * Test if multiple libraries can be excluded.\n   *\n   * The ajax_page_state[libraries] should be able to support multiple libraries\n   * comma separated.\n   *\/",86],["T_WHITESPACE","\n  ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","testMultipleLibrariesAreNotLoaded",92],"(",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","drupalGet",93],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",93],",",["T_WHITESPACE","\n      ",93],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],"[",["T_CONSTANT_ENCAPSED_STRING","'ajax_page_state'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],"[",["T_CONSTANT_ENCAPSED_STRING","'libraries'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'core\/html5shiv,core\/drupalSettings'",94],"]","]","]",["T_WHITESPACE","\n    ",94],")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","assertResponse",96],"(",["T_LNUMBER","200",96],")",";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","assertNoRaw",97],"(",["T_WHITESPACE","\n      ",97],["T_CONSTANT_ENCAPSED_STRING","'\/core\/assets\/vendor\/html5shiv\/html5shiv.min.js'",98],",",["T_WHITESPACE","\n      ",98],["T_CONSTANT_ENCAPSED_STRING","'The html5shiv library from core should be excluded from loading.'",99],["T_WHITESPACE","\n    ",99],")",";",["T_WHITESPACE","\n\n    ",100],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","assertNoRaw",102],"(",["T_WHITESPACE","\n      ",102],["T_CONSTANT_ENCAPSED_STRING","'\/core\/misc\/drupalSettingsLoader.js'",103],",",["T_WHITESPACE","\n      ",103],["T_CONSTANT_ENCAPSED_STRING","'The drupalSettings library from core should be excluded from loading.'",104],["T_WHITESPACE","\n    ",104],")",";",["T_WHITESPACE","\n\n    ",105],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","drupalGet",107],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",107],")",";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","assertRaw",108],"(",["T_WHITESPACE","\n      ",108],["T_CONSTANT_ENCAPSED_STRING","'\/core\/assets\/vendor\/html5shiv\/html5shiv.min.js'",109],",",["T_WHITESPACE","\n      ",109],["T_CONSTANT_ENCAPSED_STRING","'The html5shiv library from core should be included in loading.'",110],["T_WHITESPACE","\n    ",110],")",";",["T_WHITESPACE","\n\n    ",111],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","assertRaw",113],"(",["T_WHITESPACE","\n      ",113],["T_CONSTANT_ENCAPSED_STRING","'\/core\/misc\/drupalSettingsLoader.js'",114],",",["T_WHITESPACE","\n      ",114],["T_CONSTANT_ENCAPSED_STRING","'The drupalSettings library from core should be included in loading.'",115],["T_WHITESPACE","\n    ",115],")",";",["T_WHITESPACE","\n  ",116],"}",["T_WHITESPACE","\n\n",117],"}",["T_WHITESPACE","\n",119]]