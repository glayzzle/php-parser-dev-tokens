[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","system",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Menu",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Url",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","simpletest",6],["T_NS_SEPARATOR","\\",6],["T_STRING","WebTestBase",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests menu router and default menu link functionality.\n *\n * @group Menu\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","MenuRouterTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","WebTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PUBLIC","public",20],["T_WHITESPACE"," ",20],["T_STATIC","static",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$modules",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],"[",["T_CONSTANT_ENCAPSED_STRING","'block'",20],",",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'menu_test'",20],",",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'test_page_test'",20],"]",";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * Name of the administrative theme to use for tests.\n   *\n   * @var string\n   *\/",22],["T_WHITESPACE","\n  ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$adminTheme",27],";",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * Name of the default theme to use for tests.\n   *\n   * @var string\n   *\/",29],["T_WHITESPACE","\n  ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$defaultTheme",34],";",["T_WHITESPACE","\n\n  ",34],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","setUp",36],"(",")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n    ",36],["T_COMMENT","\/\/ Enable dummy module that implements hook_menu.\n",37],["T_WHITESPACE","    ",38],["T_STRING","parent",38],["T_DOUBLE_COLON","::",38],["T_STRING","setUp",38],"(",")",";",["T_WHITESPACE","\n\n    ",38],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","drupalPlaceBlock",40],"(",["T_CONSTANT_ENCAPSED_STRING","'system_menu_block:tools'",40],")",";",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","drupalPlaceBlock",41],"(",["T_CONSTANT_ENCAPSED_STRING","'local_tasks_block'",41],")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","drupalPlaceBlock",42],"(",["T_CONSTANT_ENCAPSED_STRING","'page_title_block'",42],")",";",["T_WHITESPACE","\n  ",42],"}",["T_WHITESPACE","\n\n  ",43],["T_DOC_COMMENT","\/**\n   * Tests menu integration.\n   *\/",45],["T_WHITESPACE","\n  ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","testMenuIntegration",48],"(",")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","doTestTitleMenuCallback",49],"(",")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","doTestMenuOptionalPlaceholders",50],"(",")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","doTestMenuHierarchy",51],"(",")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","doTestMenuOnRoute",52],"(",")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","doTestMenuName",53],"(",")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","doTestMenuLinksDiscoveredAlter",54],"(",")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","doTestHookMenuIntegration",55],"(",")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","doTestExoticPath",56],"(",")",";",["T_WHITESPACE","\n  ",56],"}",["T_WHITESPACE","\n\n  ",57],["T_DOC_COMMENT","\/**\n   * Test local tasks with route placeholders.\n   *\/",59],["T_WHITESPACE","\n  ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","doTestHookMenuIntegration",62],"(",")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n    ",62],["T_COMMENT","\/\/ Generate base path with random argument.\n",63],["T_WHITESPACE","    ",64],["T_VARIABLE","$machine_name",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","randomMachineName",64],"(",["T_LNUMBER","8",64],")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$base_path",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'foo\/'",65],["T_WHITESPACE"," ",65],".",["T_WHITESPACE"," ",65],["T_VARIABLE","$machine_name",65],";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","drupalGet",66],"(",["T_VARIABLE","$base_path",66],")",";",["T_WHITESPACE","\n    ",66],["T_COMMENT","\/\/ Confirm correct controller activated.\n",67],["T_WHITESPACE","    ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","assertText",68],"(",["T_CONSTANT_ENCAPSED_STRING","'test1'",68],")",";",["T_WHITESPACE","\n    ",68],["T_COMMENT","\/\/ Confirm local task links are displayed.\n",69],["T_WHITESPACE","    ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertLink",70],"(",["T_CONSTANT_ENCAPSED_STRING","'Local task A'",70],")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertLink",71],"(",["T_CONSTANT_ENCAPSED_STRING","'Local task B'",71],")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertNoLink",72],"(",["T_CONSTANT_ENCAPSED_STRING","'Local task C'",72],")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertEscaped",73],"(",["T_CONSTANT_ENCAPSED_STRING","\"<script>alert('Welcome to the jungle!')<\/script>\"",73],",",["T_WHITESPACE"," ",73],["T_STRING","ENT_QUOTES",73],",",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",73],")",";",["T_WHITESPACE","\n    ",73],["T_COMMENT","\/\/ Confirm correct local task href.\n",74],["T_WHITESPACE","    ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertLinkByHref",75],"(",["T_STRING","Url",75],["T_DOUBLE_COLON","::",75],["T_STRING","fromRoute",75],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_test.router_test1'",75],",",["T_WHITESPACE"," ",75],"[",["T_CONSTANT_ENCAPSED_STRING","'bar'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$machine_name",75],"]",")",["T_OBJECT_OPERATOR","->",75],["T_STRING","toString",75],"(",")",")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","assertLinkByHref",76],"(",["T_STRING","Url",76],["T_DOUBLE_COLON","::",76],["T_STRING","fromRoute",76],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_test.router_test2'",76],",",["T_WHITESPACE"," ",76],"[",["T_CONSTANT_ENCAPSED_STRING","'bar'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$machine_name",76],"]",")",["T_OBJECT_OPERATOR","->",76],["T_STRING","toString",76],"(",")",")",";",["T_WHITESPACE","\n  ",76],"}",["T_WHITESPACE","\n\n  ",77],["T_DOC_COMMENT","\/**\n   * Test title callback set to FALSE.\n   *\/",79],["T_WHITESPACE","\n  ",81],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","doTestTitleCallbackFalse",82],"(",")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","drupalGet",83],"(",["T_CONSTANT_ENCAPSED_STRING","'test-page'",83],")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertText",84],"(",["T_CONSTANT_ENCAPSED_STRING","'A title with @placeholder'",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'Raw text found on the page'",84],")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertNoText",85],"(",["T_STRING","t",85],"(",["T_CONSTANT_ENCAPSED_STRING","'A title with @placeholder'",85],",",["T_WHITESPACE"," ",85],["T_ARRAY","array",85],"(",["T_CONSTANT_ENCAPSED_STRING","'@placeholder'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'some other text'",85],")",")",",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'Text with placeholder substitutions not found.'",85],")",";",["T_WHITESPACE","\n  ",85],"}",["T_WHITESPACE","\n\n  ",86],["T_DOC_COMMENT","\/**\n   * Tests page title of MENU_CALLBACKs.\n   *\/",88],["T_WHITESPACE","\n  ",90],["T_PROTECTED","protected",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","doTestTitleMenuCallback",91],"(",")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n    ",91],["T_COMMENT","\/\/ Verify that the menu router item title is not visible.\n",92],["T_WHITESPACE","    ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","drupalGet",93],"(",["T_CONSTANT_ENCAPSED_STRING","''",93],")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertNoText",94],"(",["T_STRING","t",94],"(",["T_CONSTANT_ENCAPSED_STRING","'Menu Callback Title'",94],")",")",";",["T_WHITESPACE","\n    ",94],["T_COMMENT","\/\/ Verify that the menu router item title is output as page title.\n",95],["T_WHITESPACE","    ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","drupalGet",96],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_callback_title'",96],")",";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","assertText",97],"(",["T_STRING","t",97],"(",["T_CONSTANT_ENCAPSED_STRING","'Menu Callback Title'",97],")",")",";",["T_WHITESPACE","\n  ",97],"}",["T_WHITESPACE","\n\n  ",98],["T_DOC_COMMENT","\/**\n   * Tests menu item descriptions.\n   *\/",100],["T_WHITESPACE","\n  ",102],["T_PROTECTED","protected",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","doTestDescriptionMenuItems",103],"(",")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n    ",103],["T_COMMENT","\/\/ Verify that the menu router item title is output as page title.\n",104],["T_WHITESPACE","    ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","drupalGet",105],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_callback_description'",105],")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertText",106],"(",["T_STRING","t",106],"(",["T_CONSTANT_ENCAPSED_STRING","'Menu item description text'",106],")",")",";",["T_WHITESPACE","\n  ",106],"}",["T_WHITESPACE","\n\n  ",107],["T_DOC_COMMENT","\/**\n   * Tests for menu_name parameter for default menu links.\n   *\/",109],["T_WHITESPACE","\n  ",111],["T_PROTECTED","protected",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","doTestMenuName",112],"(",")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$admin_user",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","drupalCreateUser",113],"(",["T_ARRAY","array",113],"(",["T_CONSTANT_ENCAPSED_STRING","'administer site configuration'",113],")",")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","drupalLogin",114],"(",["T_VARIABLE","$admin_user",114],")",";",["T_WHITESPACE","\n    ",114],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Menu\\MenuLinkManagerInterface $menu_link_manager *\/",115],["T_WHITESPACE","\n    ",115],["T_VARIABLE","$menu_link_manager",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_NS_SEPARATOR","\\",116],["T_STRING","Drupal",116],["T_DOUBLE_COLON","::",116],["T_STRING","service",116],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.menu.link'",116],")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$menu_links",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$menu_link_manager",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","loadLinksByRoute",117],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_test.menu_name_test'",117],")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$menu_link",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","reset",118],"(",["T_VARIABLE","$menu_links",118],")",";",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertEqual",119],"(",["T_VARIABLE","$menu_link",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getMenuName",119],"(",")",",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'original'",119],",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'Menu name is \"original\".'",119],")",";",["T_WHITESPACE","\n\n    ",119],["T_COMMENT","\/\/ Change the menu_name parameter in menu_test.module, then force a menu\n",121],["T_WHITESPACE","    ",122],["T_COMMENT","\/\/ rebuild.\n",122],["T_WHITESPACE","    ",123],["T_STRING","menu_test_menu_name",123],"(",["T_CONSTANT_ENCAPSED_STRING","'changed'",123],")",";",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$menu_link_manager",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","rebuild",124],"(",")",";",["T_WHITESPACE","\n\n    ",124],["T_VARIABLE","$menu_links",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$menu_link_manager",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","loadLinksByRoute",126],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_test.menu_name_test'",126],")",";",["T_WHITESPACE","\n    ",126],["T_VARIABLE","$menu_link",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_STRING","reset",127],"(",["T_VARIABLE","$menu_links",127],")",";",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","assertEqual",128],"(",["T_VARIABLE","$menu_link",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getMenuName",128],"(",")",",",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'changed'",128],",",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'Menu name was successfully changed after rebuild.'",128],")",";",["T_WHITESPACE","\n  ",128],"}",["T_WHITESPACE","\n\n  ",129],["T_DOC_COMMENT","\/**\n   * Tests menu links added in hook_menu_links_discovered_alter().\n   *\/",131],["T_WHITESPACE","\n  ",133],["T_PROTECTED","protected",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","doTestMenuLinksDiscoveredAlter",134],"(",")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n    ",134],["T_COMMENT","\/\/ Check that machine name does not need to be defined since it is already\n",135],["T_WHITESPACE","    ",136],["T_COMMENT","\/\/ set as the key of each menu link.\n",136],["T_WHITESPACE","    ",137],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Menu\\MenuLinkManagerInterface $menu_link_manager *\/",137],["T_WHITESPACE","\n    ",137],["T_VARIABLE","$menu_link_manager",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_NS_SEPARATOR","\\",138],["T_STRING","Drupal",138],["T_DOUBLE_COLON","::",138],["T_STRING","service",138],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.menu.link'",138],")",";",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$menu_links",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$menu_link_manager",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","loadLinksByRoute",139],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_test.custom'",139],")",";",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$menu_link",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_STRING","reset",140],"(",["T_VARIABLE","$menu_links",140],")",";",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","assertEqual",141],"(",["T_VARIABLE","$menu_link",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getPluginId",141],"(",")",",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'menu_test.custom'",141],",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'Menu links added at hook_menu_links_discovered_alter() obtain the machine name from the $links key.'",141],")",";",["T_WHITESPACE","\n    ",141],["T_COMMENT","\/\/ Make sure that rebuilding the menu tree does not produce duplicates of\n",142],["T_WHITESPACE","    ",143],["T_COMMENT","\/\/ links added by hook_menu_links_discovered_alter().\n",143],["T_WHITESPACE","    ",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Drupal",144],["T_DOUBLE_COLON","::",144],["T_STRING","service",144],"(",["T_CONSTANT_ENCAPSED_STRING","'router.builder'",144],")",["T_OBJECT_OPERATOR","->",144],["T_STRING","rebuild",144],"(",")",";",["T_WHITESPACE","\n    ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","drupalGet",145],"(",["T_CONSTANT_ENCAPSED_STRING","'menu-test'",145],")",";",["T_WHITESPACE","\n    ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","assertUniqueText",146],"(",["T_CONSTANT_ENCAPSED_STRING","'Custom link'",146],",",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","'Menu links added by hook_menu_links_discovered_alter() do not duplicate after a menu rebuild.'",146],")",";",["T_WHITESPACE","\n  ",146],"}",["T_WHITESPACE","\n\n  ",147],["T_DOC_COMMENT","\/**\n   * Tests for menu hierarchy.\n   *\/",149],["T_WHITESPACE","\n  ",151],["T_PROTECTED","protected",152],["T_WHITESPACE"," ",152],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","doTestMenuHierarchy",152],"(",")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n    ",152],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Menu\\MenuLinkManagerInterface $menu_link_manager *\/",153],["T_WHITESPACE","\n    ",153],["T_VARIABLE","$menu_link_manager",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_NS_SEPARATOR","\\",154],["T_STRING","Drupal",154],["T_DOUBLE_COLON","::",154],["T_STRING","service",154],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.menu.link'",154],")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$menu_links",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$menu_link_manager",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","loadLinksByRoute",155],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_test.hierarchy_parent'",155],")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$parent_link",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_STRING","reset",156],"(",["T_VARIABLE","$menu_links",156],")",";",["T_WHITESPACE","\n    ",156],["T_VARIABLE","$menu_links",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$menu_link_manager",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","loadLinksByRoute",157],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_test.hierarchy_parent_child'",157],")",";",["T_WHITESPACE","\n    ",157],["T_VARIABLE","$child_link",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_STRING","reset",158],"(",["T_VARIABLE","$menu_links",158],")",";",["T_WHITESPACE","\n    ",158],["T_VARIABLE","$menu_links",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$menu_link_manager",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","loadLinksByRoute",159],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_test.hierarchy_parent_child2'",159],")",";",["T_WHITESPACE","\n    ",159],["T_VARIABLE","$unattached_child_link",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_STRING","reset",160],"(",["T_VARIABLE","$menu_links",160],")",";",["T_WHITESPACE","\n    ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","assertEqual",161],"(",["T_VARIABLE","$child_link",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getParent",161],"(",")",",",["T_WHITESPACE"," ",161],["T_VARIABLE","$parent_link",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getPluginId",161],"(",")",",",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'The parent of a directly attached child is correct.'",161],")",";",["T_WHITESPACE","\n    ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","assertEqual",162],"(",["T_VARIABLE","$unattached_child_link",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getParent",162],"(",")",",",["T_WHITESPACE"," ",162],["T_VARIABLE","$child_link",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getPluginId",162],"(",")",",",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'The parent of a non-directly attached child is correct.'",162],")",";",["T_WHITESPACE","\n  ",162],"}",["T_WHITESPACE","\n\n  ",163],["T_DOC_COMMENT","\/**\n   * Test menu links that have optional placeholders.\n   *\/",165],["T_WHITESPACE","\n  ",167],["T_PROTECTED","protected",168],["T_WHITESPACE"," ",168],["T_FUNCTION","function",168],["T_WHITESPACE"," ",168],["T_STRING","doTestMenuOptionalPlaceholders",168],"(",")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n    ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","drupalGet",169],"(",["T_CONSTANT_ENCAPSED_STRING","'menu-test\/optional'",169],")",";",["T_WHITESPACE","\n    ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","assertResponse",170],"(",["T_LNUMBER","200",170],")",";",["T_WHITESPACE","\n    ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","assertText",171],"(",["T_CONSTANT_ENCAPSED_STRING","'Sometimes there is no placeholder.'",171],")",";",["T_WHITESPACE","\n\n    ",171],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","drupalGet",173],"(",["T_CONSTANT_ENCAPSED_STRING","'menu-test\/optional\/foobar'",173],")",";",["T_WHITESPACE","\n    ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","assertResponse",174],"(",["T_LNUMBER","200",174],")",";",["T_WHITESPACE","\n    ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","assertText",175],"(",["T_CONSTANT_ENCAPSED_STRING","\"Sometimes there is a placeholder: 'foobar'.\"",175],")",";",["T_WHITESPACE","\n  ",175],"}",["T_WHITESPACE","\n\n  ",176],["T_DOC_COMMENT","\/**\n   * Tests a menu on a router page.\n   *\/",178],["T_WHITESPACE","\n  ",180],["T_PROTECTED","protected",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","doTestMenuOnRoute",181],"(",")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n    ",181],["T_NS_SEPARATOR","\\",182],["T_STRING","Drupal",182],["T_DOUBLE_COLON","::",182],["T_STRING","service",182],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",182],")",["T_OBJECT_OPERATOR","->",182],["T_STRING","install",182],"(",["T_ARRAY","array",182],"(",["T_CONSTANT_ENCAPSED_STRING","'router_test'",182],")",")",";",["T_WHITESPACE","\n    ",182],["T_NS_SEPARATOR","\\",183],["T_STRING","Drupal",183],["T_DOUBLE_COLON","::",183],["T_STRING","service",183],"(",["T_CONSTANT_ENCAPSED_STRING","'router.builder'",183],")",["T_OBJECT_OPERATOR","->",183],["T_STRING","rebuild",183],"(",")",";",["T_WHITESPACE","\n    ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","resetAll",184],"(",")",";",["T_WHITESPACE","\n\n    ",184],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","drupalGet",186],"(",["T_CONSTANT_ENCAPSED_STRING","'router_test\/test2'",186],")",";",["T_WHITESPACE","\n    ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","assertLinkByHref",187],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_no_title_callback'",187],")",";",["T_WHITESPACE","\n    ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","assertLinkByHref",188],"(",["T_CONSTANT_ENCAPSED_STRING","'menu-title-test\/case1'",188],")",";",["T_WHITESPACE","\n    ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","assertLinkByHref",189],"(",["T_CONSTANT_ENCAPSED_STRING","'menu-title-test\/case2'",189],")",";",["T_WHITESPACE","\n    ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","assertLinkByHref",190],"(",["T_CONSTANT_ENCAPSED_STRING","'menu-title-test\/case3'",190],")",";",["T_WHITESPACE","\n  ",190],"}",["T_WHITESPACE","\n\n  ",191],["T_DOC_COMMENT","\/**\n   * Test path containing \"exotic\" characters.\n   *\/",193],["T_WHITESPACE","\n  ",195],["T_PROTECTED","protected",196],["T_WHITESPACE"," ",196],["T_FUNCTION","function",196],["T_WHITESPACE"," ",196],["T_STRING","doTestExoticPath",196],"(",")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n    ",196],["T_VARIABLE","$path",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","\"menu-test\/ -._~!$'\\\"()*@[]?&+%#,;=:\"",197],["T_WHITESPACE"," ",197],".",["T_WHITESPACE"," ",197],["T_COMMENT","\/\/ \"Special\" ASCII characters.\n",197],["T_WHITESPACE","      ",198],["T_CONSTANT_ENCAPSED_STRING","\"%23%25%26%2B%2F%3F\"",198],["T_WHITESPACE"," ",198],".",["T_WHITESPACE"," ",198],["T_COMMENT","\/\/ Characters that look like a percent-escaped string.\n",198],["T_WHITESPACE","      ",199],["T_CONSTANT_ENCAPSED_STRING","\"\u00c3\u00a9\u00c3\u00b8\u00c3\u00af\u00d0\u00b2\u00ce\u00b2\u00e4\u00b8\u00ad\u00e5\u009c\u008b\u00e6\u009b\u00b8\u00db\u009e\"",199],";",["T_WHITESPACE"," ",199],["T_COMMENT","\/\/ Characters from various non-ASCII alphabets.\n",199],["T_WHITESPACE","    ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","drupalGet",200],"(",["T_VARIABLE","$path",200],")",";",["T_WHITESPACE","\n    ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","assertRaw",201],"(",["T_CONSTANT_ENCAPSED_STRING","'This is the menuTestCallback content.'",201],")",";",["T_WHITESPACE","\n    ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","assertNoText",202],"(",["T_STRING","t",202],"(",["T_CONSTANT_ENCAPSED_STRING","'The website encountered an unexpected error. Please try again later.'",202],")",")",";",["T_WHITESPACE","\n  ",202],"}",["T_WHITESPACE","\n\n  ",203],["T_DOC_COMMENT","\/**\n   * Make sure the maintenance mode can be bypassed using an EventSubscriber.\n   *\n   * @see \\Drupal\\menu_test\\EventSubscriber\\MaintenanceModeSubscriber::onKernelRequestMaintenance()\n   *\/",205],["T_WHITESPACE","\n  ",209],["T_PUBLIC","public",210],["T_WHITESPACE"," ",210],["T_FUNCTION","function",210],["T_WHITESPACE"," ",210],["T_STRING","testMaintenanceModeLoginPaths",210],"(",")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n    ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","container",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","get",211],"(",["T_CONSTANT_ENCAPSED_STRING","'state'",211],")",["T_OBJECT_OPERATOR","->",211],["T_STRING","set",211],"(",["T_CONSTANT_ENCAPSED_STRING","'system.maintenance_mode'",211],",",["T_WHITESPACE"," ",211],["T_STRING","TRUE",211],")",";",["T_WHITESPACE","\n\n    ",211],["T_VARIABLE","$offline_message",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_STRING","t",213],"(",["T_CONSTANT_ENCAPSED_STRING","'@site is currently under maintenance. We should be back shortly. Thank you for your patience.'",213],",",["T_WHITESPACE"," ",213],["T_ARRAY","array",213],"(",["T_CONSTANT_ENCAPSED_STRING","'@site'",213],["T_WHITESPACE"," ",213],["T_DOUBLE_ARROW","=>",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","config",213],"(",["T_CONSTANT_ENCAPSED_STRING","'system.site'",213],")",["T_OBJECT_OPERATOR","->",213],["T_STRING","get",213],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",213],")",")",")",";",["T_WHITESPACE","\n    ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","drupalGet",214],"(",["T_CONSTANT_ENCAPSED_STRING","'test-page'",214],")",";",["T_WHITESPACE","\n    ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","assertText",215],"(",["T_VARIABLE","$offline_message",215],")",";",["T_WHITESPACE","\n    ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","drupalGet",216],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_login_callback'",216],")",";",["T_WHITESPACE","\n    ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","assertText",217],"(",["T_CONSTANT_ENCAPSED_STRING","'This is TestControllers::testLogin.'",217],",",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'Maintenance mode can be bypassed using an event subscriber.'",217],")",";",["T_WHITESPACE","\n\n    ",217],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","container",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","get",219],"(",["T_CONSTANT_ENCAPSED_STRING","'state'",219],")",["T_OBJECT_OPERATOR","->",219],["T_STRING","set",219],"(",["T_CONSTANT_ENCAPSED_STRING","'system.maintenance_mode'",219],",",["T_WHITESPACE"," ",219],["T_STRING","FALSE",219],")",";",["T_WHITESPACE","\n  ",219],"}",["T_WHITESPACE","\n\n  ",220],["T_DOC_COMMENT","\/**\n   * Test that an authenticated user hitting 'user\/login' gets redirected to\n   * 'user' and 'user\/register' gets redirected to the user edit page.\n   *\/",222],["T_WHITESPACE","\n  ",225],["T_PUBLIC","public",226],["T_WHITESPACE"," ",226],["T_FUNCTION","function",226],["T_WHITESPACE"," ",226],["T_STRING","testAuthUserUserLogin",226],"(",")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n    ",226],["T_VARIABLE","$web_user",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","drupalCreateUser",227],"(",["T_ARRAY","array",227],"(",")",")",";",["T_WHITESPACE","\n    ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","drupalLogin",228],"(",["T_VARIABLE","$web_user",228],")",";",["T_WHITESPACE","\n\n    ",228],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","drupalGet",230],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/login'",230],")",";",["T_WHITESPACE","\n    ",230],["T_COMMENT","\/\/ Check that we got to 'user'.\n",231],["T_WHITESPACE","    ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","assertUrl",232],"(",["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","loggedInUser",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","url",232],"(",["T_CONSTANT_ENCAPSED_STRING","'canonical'",232],",",["T_WHITESPACE"," ",232],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",232],["T_WHITESPACE"," ",232],["T_DOUBLE_ARROW","=>",232],["T_WHITESPACE"," ",232],["T_STRING","TRUE",232],"]",")",")",";",["T_WHITESPACE","\n\n    ",232],["T_COMMENT","\/\/ user\/register should redirect to user\/UID\/edit.\n",234],["T_WHITESPACE","    ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","drupalGet",235],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/register'",235],")",";",["T_WHITESPACE","\n    ",235],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","assertUrl",236],"(",["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","loggedInUser",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","url",236],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-form'",236],",",["T_WHITESPACE"," ",236],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",236],["T_WHITESPACE"," ",236],["T_DOUBLE_ARROW","=>",236],["T_WHITESPACE"," ",236],["T_STRING","TRUE",236],"]",")",")",";",["T_WHITESPACE","\n  ",236],"}",["T_WHITESPACE","\n\n  ",237],["T_DOC_COMMENT","\/**\n   * Tests theme integration.\n   *\/",239],["T_WHITESPACE","\n  ",241],["T_PUBLIC","public",242],["T_WHITESPACE"," ",242],["T_FUNCTION","function",242],["T_WHITESPACE"," ",242],["T_STRING","testThemeIntegration",242],"(",")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n    ",242],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","defaultTheme",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'bartik'",243],";",["T_WHITESPACE","\n    ",243],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","adminTheme",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'seven'",244],";",["T_WHITESPACE","\n\n    ",244],["T_VARIABLE","$theme_handler",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","container",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","get",246],"(",["T_CONSTANT_ENCAPSED_STRING","'theme_handler'",246],")",";",["T_WHITESPACE","\n    ",246],["T_VARIABLE","$theme_handler",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","install",247],"(","[",["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","defaultTheme",247],",",["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","adminTheme",247],"]",")",";",["T_WHITESPACE","\n    ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","config",248],"(",["T_CONSTANT_ENCAPSED_STRING","'system.theme'",248],")",["T_WHITESPACE","\n      ",248],["T_OBJECT_OPERATOR","->",249],["T_STRING","set",249],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","defaultTheme",249],")",["T_WHITESPACE","\n      ",249],["T_OBJECT_OPERATOR","->",250],["T_STRING","set",250],"(",["T_CONSTANT_ENCAPSED_STRING","'admin'",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","adminTheme",250],")",["T_WHITESPACE","\n      ",250],["T_OBJECT_OPERATOR","->",251],["T_STRING","save",251],"(",")",";",["T_WHITESPACE","\n\n    ",251],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","doTestThemeCallbackMaintenanceMode",253],"(",")",";",["T_WHITESPACE","\n\n    ",253],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","doTestThemeCallbackFakeTheme",255],"(",")",";",["T_WHITESPACE","\n\n    ",255],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","doTestThemeCallbackAdministrative",257],"(",")",";",["T_WHITESPACE","\n\n    ",257],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","doTestThemeCallbackNoThemeRequested",259],"(",")",";",["T_WHITESPACE","\n\n    ",259],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","doTestThemeCallbackOptionalTheme",261],"(",")",";",["T_WHITESPACE","\n  ",261],"}",["T_WHITESPACE","\n\n  ",262],["T_DOC_COMMENT","\/**\n   * Test the theme negotiation when it is set to use an administrative theme.\n   *\/",264],["T_WHITESPACE","\n  ",266],["T_PROTECTED","protected",267],["T_WHITESPACE"," ",267],["T_FUNCTION","function",267],["T_WHITESPACE"," ",267],["T_STRING","doTestThemeCallbackAdministrative",267],"(",")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n    ",267],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","drupalGet",268],"(",["T_CONSTANT_ENCAPSED_STRING","'menu-test\/theme-callback\/use-admin-theme'",268],")",";",["T_WHITESPACE","\n    ",268],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","assertText",269],"(",["T_CONSTANT_ENCAPSED_STRING","'Active theme: seven. Actual theme: seven.'",269],",",["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","'The administrative theme can be correctly set in a theme negotiation.'",269],")",";",["T_WHITESPACE","\n    ",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","assertRaw",270],"(",["T_CONSTANT_ENCAPSED_STRING","'seven\/css\/base\/elements.css'",270],",",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","\"The administrative theme's CSS appears on the page.\"",270],")",";",["T_WHITESPACE","\n  ",270],"}",["T_WHITESPACE","\n\n  ",271],["T_DOC_COMMENT","\/**\n   * Test the theme negotiation when the site is in maintenance mode.\n   *\/",273],["T_WHITESPACE","\n  ",275],["T_PROTECTED","protected",276],["T_WHITESPACE"," ",276],["T_FUNCTION","function",276],["T_WHITESPACE"," ",276],["T_STRING","doTestThemeCallbackMaintenanceMode",276],"(",")",["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n    ",276],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","container",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","get",277],"(",["T_CONSTANT_ENCAPSED_STRING","'state'",277],")",["T_OBJECT_OPERATOR","->",277],["T_STRING","set",277],"(",["T_CONSTANT_ENCAPSED_STRING","'system.maintenance_mode'",277],",",["T_WHITESPACE"," ",277],["T_STRING","TRUE",277],")",";",["T_WHITESPACE","\n\n    ",277],["T_COMMENT","\/\/ For a regular user, the fact that the site is in maintenance mode means\n",279],["T_WHITESPACE","    ",280],["T_COMMENT","\/\/ we expect the theme callback system to be bypassed entirely.\n",280],["T_WHITESPACE","    ",281],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","drupalGet",281],"(",["T_CONSTANT_ENCAPSED_STRING","'menu-test\/theme-callback\/use-admin-theme'",281],")",";",["T_WHITESPACE","\n    ",281],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","assertRaw",282],"(",["T_CONSTANT_ENCAPSED_STRING","'bartik\/css\/base\/elements.css'",282],",",["T_WHITESPACE"," ",282],["T_CONSTANT_ENCAPSED_STRING","\"The maintenance theme's CSS appears on the page.\"",282],")",";",["T_WHITESPACE","\n\n    ",282],["T_COMMENT","\/\/ An administrator, however, should continue to see the requested theme.\n",284],["T_WHITESPACE","    ",285],["T_VARIABLE","$admin_user",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","drupalCreateUser",285],"(",["T_ARRAY","array",285],"(",["T_CONSTANT_ENCAPSED_STRING","'access site in maintenance mode'",285],")",")",";",["T_WHITESPACE","\n    ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","drupalLogin",286],"(",["T_VARIABLE","$admin_user",286],")",";",["T_WHITESPACE","\n    ",286],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","drupalGet",287],"(",["T_CONSTANT_ENCAPSED_STRING","'menu-test\/theme-callback\/use-admin-theme'",287],")",";",["T_WHITESPACE","\n    ",287],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","assertText",288],"(",["T_CONSTANT_ENCAPSED_STRING","'Active theme: seven. Actual theme: seven.'",288],",",["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","'The theme negotiation system is correctly triggered for an administrator when the site is in maintenance mode.'",288],")",";",["T_WHITESPACE","\n    ",288],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","assertRaw",289],"(",["T_CONSTANT_ENCAPSED_STRING","'seven\/css\/base\/elements.css'",289],",",["T_WHITESPACE"," ",289],["T_CONSTANT_ENCAPSED_STRING","\"The administrative theme's CSS appears on the page.\"",289],")",";",["T_WHITESPACE","\n\n    ",289],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","container",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","get",291],"(",["T_CONSTANT_ENCAPSED_STRING","'state'",291],")",["T_OBJECT_OPERATOR","->",291],["T_STRING","set",291],"(",["T_CONSTANT_ENCAPSED_STRING","'system.maintenance_mode'",291],",",["T_WHITESPACE"," ",291],["T_STRING","FALSE",291],")",";",["T_WHITESPACE","\n  ",291],"}",["T_WHITESPACE","\n\n  ",292],["T_DOC_COMMENT","\/**\n   * Test the theme negotiation when it is set to use an optional theme.\n   *\/",294],["T_WHITESPACE","\n  ",296],["T_PROTECTED","protected",297],["T_WHITESPACE"," ",297],["T_FUNCTION","function",297],["T_WHITESPACE"," ",297],["T_STRING","doTestThemeCallbackOptionalTheme",297],"(",")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n    ",297],["T_COMMENT","\/\/ Request a theme that is not installed.\n",298],["T_WHITESPACE","    ",299],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","drupalGet",299],"(",["T_CONSTANT_ENCAPSED_STRING","'menu-test\/theme-callback\/use-test-theme'",299],")",";",["T_WHITESPACE","\n    ",299],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","assertText",300],"(",["T_CONSTANT_ENCAPSED_STRING","'Active theme: bartik. Actual theme: bartik.'",300],",",["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","'The theme negotiation system falls back on the default theme when a theme that is not installed is requested.'",300],")",";",["T_WHITESPACE","\n    ",300],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","assertRaw",301],"(",["T_CONSTANT_ENCAPSED_STRING","'bartik\/css\/base\/elements.css'",301],",",["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","\"The default theme's CSS appears on the page.\"",301],")",";",["T_WHITESPACE","\n\n    ",301],["T_COMMENT","\/\/ Now install the theme and request it again.\n",303],["T_WHITESPACE","    ",304],["T_VARIABLE","$theme_handler",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","container",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","get",304],"(",["T_CONSTANT_ENCAPSED_STRING","'theme_handler'",304],")",";",["T_WHITESPACE","\n    ",304],["T_VARIABLE","$theme_handler",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","install",305],"(",["T_ARRAY","array",305],"(",["T_CONSTANT_ENCAPSED_STRING","'test_theme'",305],")",")",";",["T_WHITESPACE","\n\n    ",305],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","drupalGet",307],"(",["T_CONSTANT_ENCAPSED_STRING","'menu-test\/theme-callback\/use-test-theme'",307],")",";",["T_WHITESPACE","\n    ",307],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","assertText",308],"(",["T_CONSTANT_ENCAPSED_STRING","'Active theme: test_theme. Actual theme: test_theme.'",308],",",["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","'The theme negotiation system uses an optional theme once it has been installed.'",308],")",";",["T_WHITESPACE","\n    ",308],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","assertRaw",309],"(",["T_CONSTANT_ENCAPSED_STRING","'test_theme\/kitten.css'",309],",",["T_WHITESPACE"," ",309],["T_CONSTANT_ENCAPSED_STRING","\"The optional theme's CSS appears on the page.\"",309],")",";",["T_WHITESPACE","\n\n    ",309],["T_VARIABLE","$theme_handler",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","uninstall",311],"(",["T_ARRAY","array",311],"(",["T_CONSTANT_ENCAPSED_STRING","'test_theme'",311],")",")",";",["T_WHITESPACE","\n  ",311],"}",["T_WHITESPACE","\n\n  ",312],["T_DOC_COMMENT","\/**\n   * Test the theme negotiation when it is set to use a theme that does not exist.\n   *\/",314],["T_WHITESPACE","\n  ",316],["T_PROTECTED","protected",317],["T_WHITESPACE"," ",317],["T_FUNCTION","function",317],["T_WHITESPACE"," ",317],["T_STRING","doTestThemeCallbackFakeTheme",317],"(",")",["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n    ",317],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","drupalGet",318],"(",["T_CONSTANT_ENCAPSED_STRING","'menu-test\/theme-callback\/use-fake-theme'",318],")",";",["T_WHITESPACE","\n    ",318],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","assertText",319],"(",["T_CONSTANT_ENCAPSED_STRING","'Active theme: bartik. Actual theme: bartik.'",319],",",["T_WHITESPACE"," ",319],["T_CONSTANT_ENCAPSED_STRING","'The theme negotiation system falls back on the default theme when a theme that does not exist is requested.'",319],")",";",["T_WHITESPACE","\n    ",319],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","assertRaw",320],"(",["T_CONSTANT_ENCAPSED_STRING","'bartik\/css\/base\/elements.css'",320],",",["T_WHITESPACE"," ",320],["T_CONSTANT_ENCAPSED_STRING","\"The default theme's CSS appears on the page.\"",320],")",";",["T_WHITESPACE","\n  ",320],"}",["T_WHITESPACE","\n\n  ",321],["T_DOC_COMMENT","\/**\n   * Test the theme negotiation when no theme is requested.\n   *\/",323],["T_WHITESPACE","\n  ",325],["T_PROTECTED","protected",326],["T_WHITESPACE"," ",326],["T_FUNCTION","function",326],["T_WHITESPACE"," ",326],["T_STRING","doTestThemeCallbackNoThemeRequested",326],"(",")",["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n    ",326],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","drupalGet",327],"(",["T_CONSTANT_ENCAPSED_STRING","'menu-test\/theme-callback\/no-theme-requested'",327],")",";",["T_WHITESPACE","\n    ",327],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","assertText",328],"(",["T_CONSTANT_ENCAPSED_STRING","'Active theme: bartik. Actual theme: bartik.'",328],",",["T_WHITESPACE"," ",328],["T_CONSTANT_ENCAPSED_STRING","'The theme negotiation system falls back on the default theme when no theme is requested.'",328],")",";",["T_WHITESPACE","\n    ",328],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","assertRaw",329],"(",["T_CONSTANT_ENCAPSED_STRING","'bartik\/css\/base\/elements.css'",329],",",["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","\"The default theme's CSS appears on the page.\"",329],")",";",["T_WHITESPACE","\n  ",329],"}",["T_WHITESPACE","\n\n",330],"}",["T_WHITESPACE","\n",332]]