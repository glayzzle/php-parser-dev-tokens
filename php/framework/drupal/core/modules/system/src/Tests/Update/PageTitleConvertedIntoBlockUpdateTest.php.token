[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","system",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Update",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","node",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Node",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests the upgrade path for page title being converted into a block.\n *\n * @see https:\/\/www.drupal.org\/node\/2476947\n *\n * @group system\n *\/",7],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","PageTitleConvertedIntoBlockUpdateTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","UpdatePathTestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",16],["T_WHITESPACE","\n  ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_FUNCTION","function",19],["T_WHITESPACE"," ",19],["T_STRING","setDatabaseDumpFiles",19],"(",")",["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n    ",19],["T_VARIABLE","$this",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","databaseDumpFiles",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],"[",["T_WHITESPACE","\n      ",20],["T_DIR","__DIR__",21],["T_WHITESPACE"," ",21],".",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'\/..\/..\/..\/..\/system\/tests\/fixtures\/update\/drupal-8.bare.standard.php.gz'",21],",",["T_WHITESPACE","\n      ",21],["T_DIR","__DIR__",22],["T_WHITESPACE"," ",22],".",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'\/..\/..\/..\/..\/system\/tests\/fixtures\/update\/drupal-8.page-title-into-block-2476947.php'",22],",",["T_WHITESPACE","\n    ",22],"]",";",["T_WHITESPACE","\n  ",23],"}",["T_WHITESPACE","\n\n  ",24],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",26],["T_WHITESPACE","\n  ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","setUp",29],"(",")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n    ",29],["T_STRING","parent",30],["T_DOUBLE_COLON","::",30],["T_STRING","setUp",30],"(",")",";",["T_WHITESPACE","\n    ",30],["T_COMMENT","\/\/ @todo Remove in https:\/\/www.drupal.org\/node\/2568069.\n",31],["T_WHITESPACE","    ",32],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Extension\\ThemeHandlerInterface $theme_handler *\/",32],["T_WHITESPACE","\n    ",32],["T_VARIABLE","$theme_handler",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Drupal",33],["T_DOUBLE_COLON","::",33],["T_STRING","service",33],"(",["T_CONSTANT_ENCAPSED_STRING","'theme_handler'",33],")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$theme_handler",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","refreshInfo",34],"(",")",";",["T_WHITESPACE","\n  ",34],"}",["T_WHITESPACE","\n\n  ",35],["T_DOC_COMMENT","\/**\n   * Tests that page title is being converted into a block.\n   *\/",37],["T_WHITESPACE","\n  ",39],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","testUpdateHookN",40],"(",")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","runUpdates",41],"(",")",";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/** @var \\Drupal\\block\\BlockInterface $block_storage *\/",43],["T_WHITESPACE","\n    ",43],["T_VARIABLE","$block_storage",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_NS_SEPARATOR","\\",44],["T_STRING","Drupal",44],["T_DOUBLE_COLON","::",44],["T_STRING","entityManager",44],"(",")",["T_OBJECT_OPERATOR","->",44],["T_STRING","getStorage",44],"(",["T_CONSTANT_ENCAPSED_STRING","'block'",44],")",";",["T_WHITESPACE","\n\n    ",44],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","assertRaw",46],"(",["T_CONSTANT_ENCAPSED_STRING","'Because your site has custom theme(s) installed, we have placed the page title block in the content region. Please manually review the block configuration and remove the page title variables from your page templates.'",46],")",";",["T_WHITESPACE","\n\n    ",46],["T_COMMENT","\/\/ Disable maintenance mode.\n",48],["T_WHITESPACE","    ",49],["T_COMMENT","\/\/ @todo Can be removed once maintenance mode is automatically turned off\n",49],["T_WHITESPACE","    ",50],["T_COMMENT","\/\/ after updates in https:\/\/www.drupal.org\/node\/2435135.\n",50],["T_WHITESPACE","    ",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Drupal",51],["T_DOUBLE_COLON","::",51],["T_STRING","state",51],"(",")",["T_OBJECT_OPERATOR","->",51],["T_STRING","set",51],"(",["T_CONSTANT_ENCAPSED_STRING","'system.maintenance_mode'",51],",",["T_WHITESPACE"," ",51],["T_STRING","FALSE",51],")",";",["T_WHITESPACE","\n\n    ",51],["T_COMMENT","\/\/ We finished updating so we can log in the user now.\n",53],["T_WHITESPACE","    ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","drupalLogin",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","rootUser",54],")",";",["T_WHITESPACE","\n\n    ",54],["T_VARIABLE","$page",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","Node",56],["T_DOUBLE_COLON","::",56],["T_STRING","create",56],"(","[",["T_WHITESPACE","\n      ",56],["T_CONSTANT_ENCAPSED_STRING","'type'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'page'",57],",",["T_WHITESPACE","\n      ",57],["T_CONSTANT_ENCAPSED_STRING","'title'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'Page node'",58],",",["T_WHITESPACE","\n    ",58],"]",")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$page",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","save",60],"(",")",";",["T_WHITESPACE","\n\n    ",60],["T_COMMENT","\/\/ Page title is visible on the home page.\n",62],["T_WHITESPACE","    ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","drupalGet",63],"(",["T_CONSTANT_ENCAPSED_STRING","'\/node'",63],")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","assertRaw",64],"(",["T_CONSTANT_ENCAPSED_STRING","'page-title'",64],")",";",["T_WHITESPACE","\n\n    ",64],["T_COMMENT","\/\/ Page title is visible on a node page.\n",66],["T_WHITESPACE","    ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","drupalGet",67],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/'",67],["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_VARIABLE","$page",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","id",67],"(",")",")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","assertRaw",68],"(",["T_CONSTANT_ENCAPSED_STRING","'page-title'",68],")",";",["T_WHITESPACE","\n\n    ",68],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","drupalGet",70],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/block\/list\/bartik'",70],")",";",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Config\\StorageInterface $config_storage *\/",72],["T_WHITESPACE","\n    ",72],["T_VARIABLE","$config_storage",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Drupal",73],["T_DOUBLE_COLON","::",73],["T_STRING","service",73],"(",["T_CONSTANT_ENCAPSED_STRING","'config.storage'",73],")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertTrue",74],"(",["T_VARIABLE","$config_storage",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","exists",74],"(",["T_CONSTANT_ENCAPSED_STRING","'block.block.test_theme_page_title'",74],")",",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'Page title block has been created for the custom theme.'",74],")",";",["T_WHITESPACE","\n  ",74],"}",["T_WHITESPACE","\n\n",75],"}",["T_WHITESPACE","\n",77]]