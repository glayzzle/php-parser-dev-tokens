[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","system",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Mail",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Html",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Utility",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unicode",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Mail",7],["T_NS_SEPARATOR","\\",7],["T_STRING","MailFormatHelper",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Site",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Settings",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","simpletest",9],["T_NS_SEPARATOR","\\",9],["T_STRING","WebTestBase",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Tests for \\Drupal\\Core\\Mail\\MailFormatHelper::htmlToText().\n *\n * @group Mail\n *\/",11],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","HtmlToTextTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","WebTestBase",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n  ",16],["T_DOC_COMMENT","\/**\n   * Converts a string to its PHP source equivalent for display in test messages.\n   *\n   * @param $text\n   *   The text string to convert.\n   *\n   * @return\n   *   An HTML representation of the text string that, when displayed in a\n   *   browser, represents the PHP source code equivalent of $text.\n   *\/",17],["T_WHITESPACE","\n  ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","stringToHtml",27],"(",["T_VARIABLE","$text",27],")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n    ",27],["T_RETURN","return",28],["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'\"'",28],["T_WHITESPACE"," ",28],".",["T_WHITESPACE","\n      ",28],["T_STRING","str_replace",29],"(",["T_WHITESPACE","\n        ",29],["T_ARRAY","array",30],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","' '",30],")",",",["T_WHITESPACE","\n        ",30],["T_ARRAY","array",31],"(",["T_CONSTANT_ENCAPSED_STRING","'\\n'",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'&nbsp;'",31],")",",",["T_WHITESPACE","\n        ",31],["T_STRING","Html",32],["T_DOUBLE_COLON","::",32],["T_STRING","escape",32],"(",["T_VARIABLE","$text",32],")",["T_WHITESPACE","\n      ",32],")",["T_WHITESPACE"," ",33],".",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'\"'",33],";",["T_WHITESPACE","\n  ",33],"}",["T_WHITESPACE","\n\n  ",34],["T_DOC_COMMENT","\/**\n   * Helper function to test \\Drupal\\Core\\Mail\\MailFormatHelper::htmlToText().\n   *\n   * @param $html\n   *   The source HTML string to be converted.\n   * @param $text\n   *   The expected result of converting $html to text.\n   * @param $message\n   *   A text message to display in the assertion message.\n   * @param $allowed_tags\n   *   (optional) An array of allowed tags, or NULL to default to the full\n   *   set of tags supported by\n   *   \\Drupal\\Core\\Mail\\MailFormatHelper::htmlToText().\n   *\/",36],["T_WHITESPACE","\n  ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","assertHtmlToText",50],"(",["T_VARIABLE","$html",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$text",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$message",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$allowed_tags",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","NULL",50],")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n    ",50],["T_STRING","preg_match_all",51],"(",["T_CONSTANT_ENCAPSED_STRING","'\/<([a-z0-6]+)\/'",51],",",["T_WHITESPACE"," ",51],["T_STRING","Unicode",51],["T_DOUBLE_COLON","::",51],["T_STRING","strtolower",51],"(",["T_VARIABLE","$html",51],")",",",["T_WHITESPACE"," ",51],["T_VARIABLE","$matches",51],")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$tested_tags",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_STRING","implode",52],"(",["T_CONSTANT_ENCAPSED_STRING","', '",52],",",["T_WHITESPACE"," ",52],["T_STRING","array_unique",52],"(",["T_VARIABLE","$matches",52],"[",["T_LNUMBER","1",52],"]",")",")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$message",53],["T_WHITESPACE"," ",53],["T_CONCAT_EQUAL",".=",53],["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","' ('",53],["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_VARIABLE","$tested_tags",53],["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","')'",53],";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$result",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","MailFormatHelper",54],["T_DOUBLE_COLON","::",54],["T_STRING","htmlToText",54],"(",["T_VARIABLE","$html",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$allowed_tags",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$pass",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertEqual",55],"(",["T_VARIABLE","$result",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$text",55],",",["T_WHITESPACE"," ",55],["T_STRING","Html",55],["T_DOUBLE_COLON","::",55],["T_STRING","escape",55],"(",["T_VARIABLE","$message",55],")",")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$verbose",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'html = <pre>'",56],["T_WHITESPACE"," ",56],".",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","stringToHtml",56],"(",["T_VARIABLE","$html",56],")",["T_WHITESPACE","\n      ",56],".",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'<\/pre><br \/>'",57],["T_WHITESPACE"," ",57],".",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'result = <pre>'",57],["T_WHITESPACE"," ",57],".",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","stringToHtml",57],"(",["T_VARIABLE","$result",57],")",["T_WHITESPACE","\n      ",57],".",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'<\/pre><br \/>'",58],["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'expected = <pre>'",58],["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","stringToHtml",58],"(",["T_VARIABLE","$text",58],")",["T_WHITESPACE","\n      ",58],".",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'<\/pre>'",59],";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","verbose",60],"(",["T_VARIABLE","$verbose",60],")",";",["T_WHITESPACE","\n    ",60],["T_IF","if",61],["T_WHITESPACE"," ",61],"(","!",["T_VARIABLE","$pass",61],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n      ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","pass",62],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Previous test verbose info:<br \/>",62],["T_VARIABLE","$verbose",62],"\"",")",";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n  ",63],"}",["T_WHITESPACE","\n\n  ",64],["T_DOC_COMMENT","\/**\n   * Test supported tags of \\Drupal\\Core\\Mail\\MailFormatHelper::htmlToText().\n   *\/",66],["T_WHITESPACE","\n  ",68],["T_PUBLIC","public",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","testTags",69],"(",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n    ",69],["T_GLOBAL","global",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$base_path",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$base_url",70],";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$tests",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_ARRAY","array",71],"(",["T_WHITESPACE","\n      ",71],["T_COMMENT","\/\/ @todo Trailing linefeeds should be trimmed.\n",72],["T_WHITESPACE","      ",73],["T_CONSTANT_ENCAPSED_STRING","'<a href = \"https:\/\/www.drupal.org\">Drupal.org<\/a>'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","\"Drupal.org [1]\\n\\n[1] https:\/\/www.drupal.org\\n\"",73],",",["T_WHITESPACE","\n      ",73],["T_COMMENT","\/\/ @todo Footer URLs should be absolute.\n",74],["T_WHITESPACE","      ",75],"\"",["T_ENCAPSED_AND_WHITESPACE","<a href = \\\"",75],["T_VARIABLE","$base_path",75],["T_ENCAPSED_AND_WHITESPACE","\\\">Homepage<\/a>",75],"\"",["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],"\"",["T_ENCAPSED_AND_WHITESPACE","Homepage [1]\\n\\n[1] ",75],["T_VARIABLE","$base_url",75],["T_ENCAPSED_AND_WHITESPACE","\/\\n",75],"\"",",",["T_WHITESPACE","\n      ",75],["T_CONSTANT_ENCAPSED_STRING","'<address>Drupal<\/address>'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\n\"",76],",",["T_WHITESPACE","\n      ",76],["T_COMMENT","\/\/ @todo The <address> tag is currently not supported.\n",77],["T_WHITESPACE","      ",78],["T_CONSTANT_ENCAPSED_STRING","'<address>Drupal<\/address><address>Drupal<\/address>'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"DrupalDrupal\\n\"",78],",",["T_WHITESPACE","\n      ",78],["T_CONSTANT_ENCAPSED_STRING","'<b>Drupal<\/b>'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","\"*Drupal*\\n\"",79],",",["T_WHITESPACE","\n      ",79],["T_COMMENT","\/\/ @todo There should be a space between the '>' and the text.\n",80],["T_WHITESPACE","      ",81],["T_CONSTANT_ENCAPSED_STRING","'<blockquote>Drupal<\/blockquote>'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","\">Drupal\\n\"",81],",",["T_WHITESPACE","\n      ",81],["T_CONSTANT_ENCAPSED_STRING","'<blockquote>Drupal<\/blockquote><blockquote>Drupal<\/blockquote>'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","\">Drupal\\n>Drupal\\n\"",82],",",["T_WHITESPACE","\n      ",82],["T_CONSTANT_ENCAPSED_STRING","'<br \/>Drupal<br \/>Drupal<br \/><br \/>Drupal'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\nDrupal\\nDrupal\\n\"",83],",",["T_WHITESPACE","\n      ",83],["T_CONSTANT_ENCAPSED_STRING","'<br\/>Drupal<br\/>Drupal<br\/><br\/>Drupal'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\nDrupal\\nDrupal\\n\"",84],",",["T_WHITESPACE","\n      ",84],["T_COMMENT","\/\/ @todo There should be two line breaks before the paragraph.\n",85],["T_WHITESPACE","      ",86],["T_CONSTANT_ENCAPSED_STRING","'<br\/>Drupal<br\/>Drupal<br\/><br\/>Drupal<p>Drupal<\/p>'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\nDrupal\\nDrupal\\nDrupal\\n\\n\"",86],",",["T_WHITESPACE","\n      ",86],["T_CONSTANT_ENCAPSED_STRING","'<div>Drupal<\/div>'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\n\"",87],",",["T_WHITESPACE","\n      ",87],["T_COMMENT","\/\/ @todo The <div> tag is currently not supported.\n",88],["T_WHITESPACE","      ",89],["T_CONSTANT_ENCAPSED_STRING","'<div>Drupal<\/div><div>Drupal<\/div>'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","\"DrupalDrupal\\n\"",89],",",["T_WHITESPACE","\n      ",89],["T_CONSTANT_ENCAPSED_STRING","'<em>Drupal<\/em>'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","\"\/Drupal\/\\n\"",90],",",["T_WHITESPACE","\n      ",90],["T_CONSTANT_ENCAPSED_STRING","'<h1>Drupal<\/h1>'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","\"======== DRUPAL ==============================================================\\n\\n\"",91],",",["T_WHITESPACE","\n      ",91],["T_CONSTANT_ENCAPSED_STRING","'<h1>Drupal<\/h1><p>Drupal<\/p>'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","\"======== DRUPAL ==============================================================\\n\\nDrupal\\n\\n\"",92],",",["T_WHITESPACE","\n      ",92],["T_CONSTANT_ENCAPSED_STRING","'<h2>Drupal<\/h2>'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","\"-------- DRUPAL --------------------------------------------------------------\\n\\n\"",93],",",["T_WHITESPACE","\n      ",93],["T_CONSTANT_ENCAPSED_STRING","'<h2>Drupal<\/h2><p>Drupal<\/p>'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","\"-------- DRUPAL --------------------------------------------------------------\\n\\nDrupal\\n\\n\"",94],",",["T_WHITESPACE","\n      ",94],["T_CONSTANT_ENCAPSED_STRING","'<h3>Drupal<\/h3>'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","\".... Drupal\\n\\n\"",95],",",["T_WHITESPACE","\n      ",95],["T_CONSTANT_ENCAPSED_STRING","'<h3>Drupal<\/h3><p>Drupal<\/p>'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","\".... Drupal\\n\\nDrupal\\n\\n\"",96],",",["T_WHITESPACE","\n      ",96],["T_CONSTANT_ENCAPSED_STRING","'<h4>Drupal<\/h4>'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","\".. Drupal\\n\\n\"",97],",",["T_WHITESPACE","\n      ",97],["T_CONSTANT_ENCAPSED_STRING","'<h4>Drupal<\/h4><p>Drupal<\/p>'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","\".. Drupal\\n\\nDrupal\\n\\n\"",98],",",["T_WHITESPACE","\n      ",98],["T_CONSTANT_ENCAPSED_STRING","'<h5>Drupal<\/h5>'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\n\\n\"",99],",",["T_WHITESPACE","\n      ",99],["T_CONSTANT_ENCAPSED_STRING","'<h5>Drupal<\/h5><p>Drupal<\/p>'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\n\\nDrupal\\n\\n\"",100],",",["T_WHITESPACE","\n      ",100],["T_CONSTANT_ENCAPSED_STRING","'<h6>Drupal<\/h6>'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\n\\n\"",101],",",["T_WHITESPACE","\n      ",101],["T_CONSTANT_ENCAPSED_STRING","'<h6>Drupal<\/h6><p>Drupal<\/p>'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\n\\nDrupal\\n\\n\"",102],",",["T_WHITESPACE","\n      ",102],["T_CONSTANT_ENCAPSED_STRING","'<hr \/>Drupal<hr \/>'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","\"------------------------------------------------------------------------------\\nDrupal\\n------------------------------------------------------------------------------\\n\"",103],",",["T_WHITESPACE","\n      ",103],["T_CONSTANT_ENCAPSED_STRING","'<hr\/>Drupal<hr\/>'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","\"------------------------------------------------------------------------------\\nDrupal\\n------------------------------------------------------------------------------\\n\"",104],",",["T_WHITESPACE","\n      ",104],["T_CONSTANT_ENCAPSED_STRING","'<hr\/>Drupal<hr\/><p>Drupal<\/p>'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","\"------------------------------------------------------------------------------\\nDrupal\\n------------------------------------------------------------------------------\\nDrupal\\n\\n\"",105],",",["T_WHITESPACE","\n      ",105],["T_CONSTANT_ENCAPSED_STRING","'<i>Drupal<\/i>'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","\"\/Drupal\/\\n\"",106],",",["T_WHITESPACE","\n      ",106],["T_CONSTANT_ENCAPSED_STRING","'<p>Drupal<\/p>'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\n\\n\"",107],",",["T_WHITESPACE","\n      ",107],["T_CONSTANT_ENCAPSED_STRING","'<p>Drupal<\/p><p>Drupal<\/p>'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\n\\nDrupal\\n\\n\"",108],",",["T_WHITESPACE","\n      ",108],["T_CONSTANT_ENCAPSED_STRING","'<strong>Drupal<\/strong>'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","\"*Drupal*\\n\"",109],",",["T_WHITESPACE","\n      ",109],["T_COMMENT","\/\/ @todo Tables are currently not supported.\n",110],["T_WHITESPACE","      ",111],["T_CONSTANT_ENCAPSED_STRING","'<table><tr><td>Drupal<\/td><td>Drupal<\/td><\/tr><tr><td>Drupal<\/td><td>Drupal<\/td><\/tr><\/table>'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","\"DrupalDrupalDrupalDrupal\\n\"",111],",",["T_WHITESPACE","\n      ",111],["T_CONSTANT_ENCAPSED_STRING","'<table><tr><td>Drupal<\/td><\/tr><\/table><p>Drupal<\/p>'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\nDrupal\\n\\n\"",112],",",["T_WHITESPACE","\n      ",112],["T_COMMENT","\/\/ @todo The <u> tag is currently not supported.\n",113],["T_WHITESPACE","      ",114],["T_CONSTANT_ENCAPSED_STRING","'<u>Drupal<\/u>'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\n\"",114],",",["T_WHITESPACE","\n      ",114],["T_CONSTANT_ENCAPSED_STRING","'<ul><li>Drupal<\/li><\/ul>'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","\" * Drupal\\n\\n\"",115],",",["T_WHITESPACE","\n      ",115],["T_CONSTANT_ENCAPSED_STRING","'<ul><li>Drupal <em>Drupal<\/em> Drupal<\/li><\/ul>'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","\" * Drupal \/Drupal\/ Drupal\\n\\n\"",116],",",["T_WHITESPACE","\n      ",116],["T_COMMENT","\/\/ @todo Lines containing nothing but spaces should be trimmed.\n",117],["T_WHITESPACE","      ",118],["T_CONSTANT_ENCAPSED_STRING","'<ul><li>Drupal<\/li><li><ol><li>Drupal<\/li><li>Drupal<\/li><\/ol><\/li><\/ul>'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","\" * Drupal\\n *  1) Drupal\\n    2) Drupal\\n   \\n\\n\"",118],",",["T_WHITESPACE","\n      ",118],["T_CONSTANT_ENCAPSED_STRING","'<ul><li>Drupal<\/li><li><ol><li>Drupal<\/li><\/ol><\/li><li>Drupal<\/li><\/ul>'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","\" * Drupal\\n *  1) Drupal\\n   \\n * Drupal\\n\\n\"",119],",",["T_WHITESPACE","\n      ",119],["T_CONSTANT_ENCAPSED_STRING","'<ul><li>Drupal<\/li><li>Drupal<\/li><\/ul>'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","\" * Drupal\\n * Drupal\\n\\n\"",120],",",["T_WHITESPACE","\n      ",120],["T_CONSTANT_ENCAPSED_STRING","'<ul><li>Drupal<\/li><\/ul><p>Drupal<\/p>'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","\" * Drupal\\n\\nDrupal\\n\\n\"",121],",",["T_WHITESPACE","\n      ",121],["T_CONSTANT_ENCAPSED_STRING","'<ol><li>Drupal<\/li><\/ol>'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","\" 1) Drupal\\n\\n\"",122],",",["T_WHITESPACE","\n      ",122],["T_CONSTANT_ENCAPSED_STRING","'<ol><li>Drupal<\/li><li><ul><li>Drupal<\/li><li>Drupal<\/li><\/ul><\/li><\/ol>'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","\" 1) Drupal\\n 2)  * Drupal\\n     * Drupal\\n    \\n\\n\"",123],",",["T_WHITESPACE","\n      ",123],["T_CONSTANT_ENCAPSED_STRING","'<ol><li>Drupal<\/li><li>Drupal<\/li><\/ol>'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","\" 1) Drupal\\n 2) Drupal\\n\\n\"",124],",",["T_WHITESPACE","\n      ",124],["T_CONSTANT_ENCAPSED_STRING","'<ol>Drupal<\/ol>'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\n\\n\"",125],",",["T_WHITESPACE","\n      ",125],["T_CONSTANT_ENCAPSED_STRING","'<ol><li>Drupal<\/li><\/ol><p>Drupal<\/p>'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","\" 1) Drupal\\n\\nDrupal\\n\\n\"",126],",",["T_WHITESPACE","\n      ",126],["T_CONSTANT_ENCAPSED_STRING","'<dl><dt>Drupal<\/dt><\/dl>'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\n\\n\"",127],",",["T_WHITESPACE","\n      ",127],["T_CONSTANT_ENCAPSED_STRING","'<dl><dt>Drupal<\/dt><dd>Drupal<\/dd><\/dl>'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\n    Drupal\\n\\n\"",128],",",["T_WHITESPACE","\n      ",128],["T_CONSTANT_ENCAPSED_STRING","'<dl><dt>Drupal<\/dt><dd>Drupal<\/dd><dt>Drupal<\/dt><dd>Drupal<\/dd><\/dl>'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\n    Drupal\\nDrupal\\n    Drupal\\n\\n\"",129],",",["T_WHITESPACE","\n      ",129],["T_CONSTANT_ENCAPSED_STRING","'<dl><dt>Drupal<\/dt><dd>Drupal<\/dd><\/dl><p>Drupal<\/p>'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\n    Drupal\\n\\nDrupal\\n\\n\"",130],",",["T_WHITESPACE","\n      ",130],["T_CONSTANT_ENCAPSED_STRING","'<dl><dt>Drupal<dd>Drupal<\/dl>'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\n    Drupal\\n\\n\"",131],",",["T_WHITESPACE","\n      ",131],["T_CONSTANT_ENCAPSED_STRING","'<dl><dt>Drupal<\/dt><\/dl><p>Drupal<\/p>'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\n\\nDrupal\\n\\n\"",132],",",["T_WHITESPACE","\n      ",132],["T_COMMENT","\/\/ @todo Again, lines containing only spaces should be trimmed.\n",133],["T_WHITESPACE","      ",134],["T_CONSTANT_ENCAPSED_STRING","'<ul><li>Drupal<\/li><li><dl><dt>Drupal<\/dt><dd>Drupal<\/dd><dt>Drupal<\/dt><dd>Drupal<\/dd><\/dl><\/li><li>Drupal<\/li><\/ul>'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","\" * Drupal\\n * Drupal\\n       Drupal\\n   Drupal\\n       Drupal\\n   \\n * Drupal\\n\\n\"",134],",",["T_WHITESPACE","\n      ",134],["T_COMMENT","\/\/ Tests malformed HTML tags.\n",135],["T_WHITESPACE","      ",136],["T_CONSTANT_ENCAPSED_STRING","'<br>Drupal<br>Drupal'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\nDrupal\\n\"",136],",",["T_WHITESPACE","\n      ",136],["T_CONSTANT_ENCAPSED_STRING","'<hr>Drupal<hr>Drupal'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","\"------------------------------------------------------------------------------\\nDrupal\\n------------------------------------------------------------------------------\\nDrupal\\n\"",137],",",["T_WHITESPACE","\n      ",137],["T_CONSTANT_ENCAPSED_STRING","'<ol><li>Drupal<li>Drupal<\/ol>'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","\" 1) Drupal\\n 2) Drupal\\n\\n\"",138],",",["T_WHITESPACE","\n      ",138],["T_CONSTANT_ENCAPSED_STRING","'<ul><li>Drupal <em>Drupal<\/em> Drupal<\/ul><\/ul>'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","\" * Drupal \/Drupal\/ Drupal\\n\\n\"",139],",",["T_WHITESPACE","\n      ",139],["T_CONSTANT_ENCAPSED_STRING","'<ul><li>Drupal<li>Drupal<\/ol>'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","\" * Drupal\\n * Drupal\\n\\n\"",140],",",["T_WHITESPACE","\n      ",140],["T_CONSTANT_ENCAPSED_STRING","'<ul><li>Drupal<li>Drupal<\/ul>'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","\" * Drupal\\n * Drupal\\n\\n\"",141],",",["T_WHITESPACE","\n      ",141],["T_CONSTANT_ENCAPSED_STRING","'<ul>Drupal<\/ul>'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\n\\n\"",142],",",["T_WHITESPACE","\n      ",142],["T_CONSTANT_ENCAPSED_STRING","'Drupal<\/ul><\/ol><\/dl><li>Drupal'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\n * Drupal\\n\"",143],",",["T_WHITESPACE","\n      ",143],["T_CONSTANT_ENCAPSED_STRING","'<dl>Drupal<\/dl>'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\n\\n\"",144],",",["T_WHITESPACE","\n      ",144],["T_CONSTANT_ENCAPSED_STRING","'<dl>Drupal<\/dl><p>Drupal<\/p>'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\n\\nDrupal\\n\\n\"",145],",",["T_WHITESPACE","\n      ",145],["T_CONSTANT_ENCAPSED_STRING","'<dt>Drupal<\/dt>'",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\n\"",146],",",["T_WHITESPACE","\n      ",146],["T_COMMENT","\/\/ Tests some unsupported HTML tags.\n",147],["T_WHITESPACE","      ",148],["T_CONSTANT_ENCAPSED_STRING","'<html>Drupal<\/html>'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\n\"",148],",",["T_WHITESPACE","\n      ",148],["T_COMMENT","\/\/ @todo Perhaps the contents of <script> tags should be dropped.\n",149],["T_WHITESPACE","      ",150],["T_CONSTANT_ENCAPSED_STRING","'<script type=\"text\/javascript\">Drupal<\/script>'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\n\"",150],",",["T_WHITESPACE","\n      ",150],["T_COMMENT","\/\/ A couple of tests for Unicode characters.\n",151],["T_WHITESPACE","      ",152],["T_CONSTANT_ENCAPSED_STRING","'<q>I <em>will<\/em> be back\u00e2\u0080\u00a6<\/q>'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","\"I \/will\/ be back\u00e2\u0080\u00a6\\n\"",152],",",["T_WHITESPACE","\n      ",152],["T_CONSTANT_ENCAPSED_STRING","'Fran\u00c3\u00a7AIS is \u00c3\u009cBER-\u00c3\u00a5wesome'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","\"Fran\u00c3\u00a7AIS is \u00c3\u009cBER-\u00c3\u00a5wesome\\n\"",153],",",["T_WHITESPACE","\n    ",153],")",";",["T_WHITESPACE","\n\n    ",154],["T_FOREACH","foreach",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$tests",156],["T_WHITESPACE"," ",156],["T_AS","as",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$html",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$text",156],")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n      ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","assertHtmlToText",157],"(",["T_VARIABLE","$html",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$text",157],",",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'Supported tags'",157],")",";",["T_WHITESPACE","\n    ",157],"}",["T_WHITESPACE","\n  ",158],"}",["T_WHITESPACE","\n\n  ",159],["T_DOC_COMMENT","\/**\n   * Tests allowing tags in \\Drupal\\Core\\Mail\\MailFormatHelper::htmlToText().\n   *\/",161],["T_WHITESPACE","\n  ",163],["T_PUBLIC","public",164],["T_WHITESPACE"," ",164],["T_FUNCTION","function",164],["T_WHITESPACE"," ",164],["T_STRING","testDrupalHtmlToTextArgs",164],"(",")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n    ",164],["T_COMMENT","\/\/ The second parameter of \\Drupal\\Core\\Mail\\MailFormatHelper::htmlToText()\n",165],["T_WHITESPACE","    ",166],["T_COMMENT","\/\/ overrules the allowed tags.\n",166],["T_WHITESPACE","    ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","assertHtmlToText",167],"(",["T_WHITESPACE","\n      ",167],["T_CONSTANT_ENCAPSED_STRING","'Drupal <b>Drupal<\/b> Drupal'",168],",",["T_WHITESPACE","\n      ",168],["T_CONSTANT_ENCAPSED_STRING","\"Drupal *Drupal* Drupal\\n\"",169],",",["T_WHITESPACE","\n      ",169],["T_CONSTANT_ENCAPSED_STRING","'Allowed <b> tag found'",170],",",["T_WHITESPACE","\n      ",170],["T_ARRAY","array",171],"(",["T_CONSTANT_ENCAPSED_STRING","'b'",171],")",["T_WHITESPACE","\n    ",171],")",";",["T_WHITESPACE","\n    ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","assertHtmlToText",173],"(",["T_WHITESPACE","\n      ",173],["T_CONSTANT_ENCAPSED_STRING","'Drupal <h1>Drupal<\/h1> Drupal'",174],",",["T_WHITESPACE","\n      ",174],["T_CONSTANT_ENCAPSED_STRING","\"Drupal Drupal Drupal\\n\"",175],",",["T_WHITESPACE","\n      ",175],["T_CONSTANT_ENCAPSED_STRING","'Disallowed <h1> tag not found'",176],",",["T_WHITESPACE","\n      ",176],["T_ARRAY","array",177],"(",["T_CONSTANT_ENCAPSED_STRING","'b'",177],")",["T_WHITESPACE","\n    ",177],")",";",["T_WHITESPACE","\n\n    ",178],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","assertHtmlToText",180],"(",["T_WHITESPACE","\n      ",180],["T_CONSTANT_ENCAPSED_STRING","'Drupal <p><em><b>Drupal<\/b><\/em><p> Drupal'",181],",",["T_WHITESPACE","\n      ",181],["T_CONSTANT_ENCAPSED_STRING","\"Drupal Drupal Drupal\\n\"",182],",",["T_WHITESPACE","\n      ",182],["T_CONSTANT_ENCAPSED_STRING","'Disallowed <p>, <em>, and <b> tags not found'",183],",",["T_WHITESPACE","\n      ",183],["T_ARRAY","array",184],"(",["T_CONSTANT_ENCAPSED_STRING","'a'",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'br'",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'h1'",184],")",["T_WHITESPACE","\n    ",184],")",";",["T_WHITESPACE","\n\n    ",185],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","assertHtmlToText",187],"(",["T_WHITESPACE","\n      ",187],["T_CONSTANT_ENCAPSED_STRING","'<html><body>Drupal<\/body><\/html>'",188],",",["T_WHITESPACE","\n      ",188],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\n\"",189],",",["T_WHITESPACE","\n      ",189],["T_CONSTANT_ENCAPSED_STRING","'Unsupported <html> and <body> tags not found'",190],",",["T_WHITESPACE","\n      ",190],["T_ARRAY","array",191],"(",["T_CONSTANT_ENCAPSED_STRING","'html'",191],",",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'body'",191],")",["T_WHITESPACE","\n    ",191],")",";",["T_WHITESPACE","\n  ",192],"}",["T_WHITESPACE","\n\n  ",193],["T_DOC_COMMENT","\/**\n   * Test that whitespace is collapsed.\n   *\/",195],["T_WHITESPACE","\n  ",197],["T_PUBLIC","public",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","testDrupalHtmltoTextCollapsesWhitespace",198],"(",")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n    ",198],["T_VARIABLE","$input",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","\"<p>Drupal  Drupal\\n\\nDrupal<pre>Drupal  Drupal\\n\\nDrupal<\/pre>Drupal  Drupal\\n\\nDrupal<\/p>\"",199],";",["T_WHITESPACE","\n    ",199],["T_COMMENT","\/\/ @todo The whitespace should be collapsed.\n",200],["T_WHITESPACE","    ",201],["T_VARIABLE","$collapsed",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","\"Drupal  Drupal\\n\\nDrupalDrupal  Drupal\\n\\nDrupalDrupal  Drupal\\n\\nDrupal\\n\\n\"",201],";",["T_WHITESPACE","\n    ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","assertHtmlToText",202],"(",["T_WHITESPACE","\n      ",202],["T_VARIABLE","$input",203],",",["T_WHITESPACE","\n      ",203],["T_VARIABLE","$collapsed",204],",",["T_WHITESPACE","\n      ",204],["T_CONSTANT_ENCAPSED_STRING","'Whitespace is collapsed'",205],",",["T_WHITESPACE","\n      ",205],["T_ARRAY","array",206],"(",["T_CONSTANT_ENCAPSED_STRING","'p'",206],")",["T_WHITESPACE","\n    ",206],")",";",["T_WHITESPACE","\n  ",207],"}",["T_WHITESPACE","\n\n  ",208],["T_DOC_COMMENT","\/**\n   * Test that text separated by block-level tags in HTML get separated by\n   * (at least) a newline in the plaintext version.\n   *\/",210],["T_WHITESPACE","\n  ",213],["T_PUBLIC","public",214],["T_WHITESPACE"," ",214],["T_FUNCTION","function",214],["T_WHITESPACE"," ",214],["T_STRING","testDrupalHtmlToTextBlockTagToNewline",214],"(",")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n    ",214],["T_VARIABLE","$input",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","'[text]'",215],["T_WHITESPACE","\n      ",215],".",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'<blockquote>[blockquote]<\/blockquote>'",216],["T_WHITESPACE","\n      ",216],".",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'<br \/>[br]'",217],["T_WHITESPACE","\n      ",217],".",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'<dl><dt>[dl-dt]<\/dt>'",218],["T_WHITESPACE","\n      ",218],".",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'<dt>[dt]<\/dt>'",219],["T_WHITESPACE","\n      ",219],".",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'<dd>[dd]<\/dd>'",220],["T_WHITESPACE","\n      ",220],".",["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'<dd>[dd-dl]<\/dd><\/dl>'",221],["T_WHITESPACE","\n      ",221],".",["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","'<h1>[h1]<\/h1>'",222],["T_WHITESPACE","\n      ",222],".",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'<h2>[h2]<\/h2>'",223],["T_WHITESPACE","\n      ",223],".",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'<h3>[h3]<\/h3>'",224],["T_WHITESPACE","\n      ",224],".",["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","'<h4>[h4]<\/h4>'",225],["T_WHITESPACE","\n      ",225],".",["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","'<h5>[h5]<\/h5>'",226],["T_WHITESPACE","\n      ",226],".",["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","'<h6>[h6]<\/h6>'",227],["T_WHITESPACE","\n      ",227],".",["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","'<hr \/>[hr]'",228],["T_WHITESPACE","\n      ",228],".",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'<ol><li>[ol-li]<\/li>'",229],["T_WHITESPACE","\n      ",229],".",["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","'<li>[li]<\/li>'",230],["T_WHITESPACE","\n      ",230],".",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'<li>[li-ol]<\/li><\/ol>'",231],["T_WHITESPACE","\n      ",231],".",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'<p>[p]<\/p>'",232],["T_WHITESPACE","\n      ",232],".",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'<ul><li>[ul-li]<\/li>'",233],["T_WHITESPACE","\n      ",233],".",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'<li>[li-ul]<\/li><\/ul>'",234],["T_WHITESPACE","\n      ",234],".",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'[text]'",235],";",["T_WHITESPACE","\n    ",235],["T_VARIABLE","$output",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_STRING","MailFormatHelper",236],["T_DOUBLE_COLON","::",236],["T_STRING","htmlToText",236],"(",["T_VARIABLE","$input",236],")",";",["T_WHITESPACE","\n    ",236],["T_VARIABLE","$pass",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","assertFalse",237],"(",["T_WHITESPACE","\n      ",237],["T_STRING","preg_match",238],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\][^\\n]*\\[\/s'",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$output",238],")",",",["T_WHITESPACE","\n      ",238],["T_CONSTANT_ENCAPSED_STRING","'Block-level HTML tags should force newlines'",239],["T_WHITESPACE","\n    ",239],")",";",["T_WHITESPACE","\n    ",240],["T_IF","if",241],["T_WHITESPACE"," ",241],"(","!",["T_VARIABLE","$pass",241],")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n      ",241],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","verbose",242],"(",["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","stringToHtml",242],"(",["T_VARIABLE","$output",242],")",")",";",["T_WHITESPACE","\n    ",242],"}",["T_WHITESPACE","\n    ",243],["T_VARIABLE","$output_upper",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_STRING","Unicode",244],["T_DOUBLE_COLON","::",244],["T_STRING","strtoupper",244],"(",["T_VARIABLE","$output",244],")",";",["T_WHITESPACE","\n    ",244],["T_VARIABLE","$upper_input",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_STRING","Unicode",245],["T_DOUBLE_COLON","::",245],["T_STRING","strtoupper",245],"(",["T_VARIABLE","$input",245],")",";",["T_WHITESPACE","\n    ",245],["T_VARIABLE","$upper_output",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_STRING","MailFormatHelper",246],["T_DOUBLE_COLON","::",246],["T_STRING","htmlToText",246],"(",["T_VARIABLE","$upper_input",246],")",";",["T_WHITESPACE","\n    ",246],["T_VARIABLE","$pass",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","assertEqual",247],"(",["T_WHITESPACE","\n      ",247],["T_VARIABLE","$upper_output",248],",",["T_WHITESPACE","\n      ",248],["T_VARIABLE","$output_upper",249],",",["T_WHITESPACE","\n      ",249],["T_CONSTANT_ENCAPSED_STRING","'Tag recognition should be case-insensitive'",250],["T_WHITESPACE","\n    ",250],")",";",["T_WHITESPACE","\n    ",251],["T_IF","if",252],["T_WHITESPACE"," ",252],"(","!",["T_VARIABLE","$pass",252],")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n      ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","verbose",253],"(",["T_WHITESPACE","\n        ",253],["T_VARIABLE","$upper_output",254],["T_WHITESPACE","\n        ",254],".",["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","'<br \/>should  be equal to <br \/>'",255],["T_WHITESPACE","\n        ",255],".",["T_WHITESPACE"," ",256],["T_VARIABLE","$output_upper",256],["T_WHITESPACE","\n      ",256],")",";",["T_WHITESPACE","\n    ",257],"}",["T_WHITESPACE","\n  ",258],"}",["T_WHITESPACE","\n\n  ",259],["T_DOC_COMMENT","\/**\n   * Test that headers are properly separated from surrounding text.\n   *\/",261],["T_WHITESPACE","\n  ",263],["T_PUBLIC","public",264],["T_WHITESPACE"," ",264],["T_FUNCTION","function",264],["T_WHITESPACE"," ",264],["T_STRING","testHeaderSeparation",264],"(",")",["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n    ",264],["T_VARIABLE","$html",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","'Drupal<h1>Drupal<\/h1>Drupal'",265],";",["T_WHITESPACE","\n    ",265],["T_COMMENT","\/\/ @todo There should be more space above the header than below it.\n",266],["T_WHITESPACE","    ",267],["T_VARIABLE","$text",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\n======== DRUPAL ==============================================================\\n\\nDrupal\\n\"",267],";",["T_WHITESPACE","\n    ",267],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","assertHtmlToText",268],"(",["T_VARIABLE","$html",268],",",["T_WHITESPACE"," ",268],["T_VARIABLE","$text",268],",",["T_WHITESPACE","\n      ",268],["T_CONSTANT_ENCAPSED_STRING","'Text before and after <h1> tag'",269],")",";",["T_WHITESPACE","\n    ",269],["T_VARIABLE","$html",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'<p>Drupal<\/p><h1>Drupal<\/h1>Drupal'",270],";",["T_WHITESPACE","\n    ",270],["T_COMMENT","\/\/ @todo There should be more space above the header than below it.\n",271],["T_WHITESPACE","    ",272],["T_VARIABLE","$text",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\n\\n======== DRUPAL ==============================================================\\n\\nDrupal\\n\"",272],";",["T_WHITESPACE","\n    ",272],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","assertHtmlToText",273],"(",["T_VARIABLE","$html",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$text",273],",",["T_WHITESPACE","\n      ",273],["T_CONSTANT_ENCAPSED_STRING","'Paragraph before and text after <h1> tag'",274],")",";",["T_WHITESPACE","\n    ",274],["T_VARIABLE","$html",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'Drupal<h1>Drupal<\/h1><p>Drupal<\/p>'",275],";",["T_WHITESPACE","\n    ",275],["T_COMMENT","\/\/ @todo There should be more space above the header than below it.\n",276],["T_WHITESPACE","    ",277],["T_VARIABLE","$text",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\n======== DRUPAL ==============================================================\\n\\nDrupal\\n\\n\"",277],";",["T_WHITESPACE","\n    ",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","assertHtmlToText",278],"(",["T_VARIABLE","$html",278],",",["T_WHITESPACE"," ",278],["T_VARIABLE","$text",278],",",["T_WHITESPACE","\n      ",278],["T_CONSTANT_ENCAPSED_STRING","'Text before and paragraph after <h1> tag'",279],")",";",["T_WHITESPACE","\n    ",279],["T_VARIABLE","$html",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'<p>Drupal<\/p><h1>Drupal<\/h1><p>Drupal<\/p>'",280],";",["T_WHITESPACE","\n    ",280],["T_VARIABLE","$text",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","\"Drupal\\n\\n======== DRUPAL ==============================================================\\n\\nDrupal\\n\\n\"",281],";",["T_WHITESPACE","\n    ",281],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","assertHtmlToText",282],"(",["T_VARIABLE","$html",282],",",["T_WHITESPACE"," ",282],["T_VARIABLE","$text",282],",",["T_WHITESPACE","\n      ",282],["T_CONSTANT_ENCAPSED_STRING","'Paragraph before and after <h1> tag'",283],")",";",["T_WHITESPACE","\n  ",283],"}",["T_WHITESPACE","\n\n  ",284],["T_DOC_COMMENT","\/**\n   * Test that footnote references are properly generated.\n   *\/",286],["T_WHITESPACE","\n  ",288],["T_PUBLIC","public",289],["T_WHITESPACE"," ",289],["T_FUNCTION","function",289],["T_WHITESPACE"," ",289],["T_STRING","testFootnoteReferences",289],"(",")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n    ",289],["T_GLOBAL","global",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$base_path",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$base_url",290],";",["T_WHITESPACE","\n    ",290],["T_VARIABLE","$source",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'<a href=\"http:\/\/www.example.com\/node\/1\">Host and path<\/a>'",291],["T_WHITESPACE","\n      ",291],".",["T_WHITESPACE"," ",292],["T_CONSTANT_ENCAPSED_STRING","'<br \/><a href=\"http:\/\/www.example.com\">Host, no path<\/a>'",292],["T_WHITESPACE","\n      ",292],".",["T_WHITESPACE"," ",293],["T_CONSTANT_ENCAPSED_STRING","'<br \/><a href=\"'",293],["T_WHITESPACE"," ",293],".",["T_WHITESPACE"," ",293],["T_VARIABLE","$base_path",293],["T_WHITESPACE"," ",293],".",["T_WHITESPACE"," ",293],["T_CONSTANT_ENCAPSED_STRING","'node\/1\">Path, no host<\/a>'",293],["T_WHITESPACE","\n      ",293],".",["T_WHITESPACE"," ",294],["T_CONSTANT_ENCAPSED_STRING","'<br \/><a href=\"node\/1\">Relative path<\/a>'",294],";",["T_WHITESPACE","\n    ",294],["T_COMMENT","\/\/ @todo Footnote URLs should be absolute.\n",295],["T_WHITESPACE","    ",296],["T_VARIABLE","$tt",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_CONSTANT_ENCAPSED_STRING","\"Host and path [1]\"",296],["T_WHITESPACE","\n      ",296],".",["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","\"\\nHost, no path [2]\"",297],["T_WHITESPACE","\n      ",297],["T_COMMENT","\/\/ @todo The following two references should be combined.\n",298],["T_WHITESPACE","      ",299],".",["T_WHITESPACE"," ",299],["T_CONSTANT_ENCAPSED_STRING","\"\\nPath, no host [3]\"",299],["T_WHITESPACE","\n      ",299],".",["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","\"\\nRelative path [4]\"",300],["T_WHITESPACE","\n      ",300],".",["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",301],["T_WHITESPACE","\n      ",301],".",["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","\"\\n[1] http:\/\/www.example.com\/node\/1\"",302],["T_WHITESPACE","\n      ",302],".",["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","\"\\n[2] http:\/\/www.example.com\"",303],["T_WHITESPACE","\n      ",303],["T_COMMENT","\/\/ @todo The following two references should be combined.\n",304],["T_WHITESPACE","      ",305],".",["T_WHITESPACE"," ",305],"\"",["T_ENCAPSED_AND_WHITESPACE","\\n[3] ",305],["T_VARIABLE","$base_url",305],["T_ENCAPSED_AND_WHITESPACE","\/node\/1",305],"\"",["T_WHITESPACE","\n      ",305],".",["T_WHITESPACE"," ",306],["T_CONSTANT_ENCAPSED_STRING","\"\\n[4] node\/1\\n\"",306],";",["T_WHITESPACE","\n    ",306],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","assertHtmlToText",307],"(",["T_VARIABLE","$source",307],",",["T_WHITESPACE"," ",307],["T_VARIABLE","$tt",307],",",["T_WHITESPACE"," ",307],["T_CONSTANT_ENCAPSED_STRING","'Footnotes'",307],")",";",["T_WHITESPACE","\n  ",307],"}",["T_WHITESPACE","\n\n  ",308],["T_DOC_COMMENT","\/**\n   * Test that combinations of paragraph breaks, line breaks, linefeeds,\n   * and spaces are properly handled.\n   *\/",310],["T_WHITESPACE","\n  ",313],["T_PUBLIC","public",314],["T_WHITESPACE"," ",314],["T_FUNCTION","function",314],["T_WHITESPACE"," ",314],["T_STRING","testDrupalHtmlToTextParagraphs",314],"(",")",["T_WHITESPACE"," ",314],"{",["T_WHITESPACE","\n    ",314],["T_VARIABLE","$tests",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_ARRAY","array",315],"(",")",";",["T_WHITESPACE","\n    ",315],["T_VARIABLE","$tests",316],"[","]",["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_ARRAY","array",316],"(",["T_WHITESPACE","\n        ",316],["T_CONSTANT_ENCAPSED_STRING","'html'",317],["T_WHITESPACE"," ",317],["T_DOUBLE_ARROW","=>",317],["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","\"<p>line 1<br \/>\\nline 2<br \/>line 3\\n<br \/>line 4<\/p><p>paragraph<\/p>\"",317],",",["T_WHITESPACE","\n        ",317],["T_COMMENT","\/\/ @todo Trailing line breaks should be trimmed.\n",318],["T_WHITESPACE","        ",319],["T_CONSTANT_ENCAPSED_STRING","'text'",319],["T_WHITESPACE"," ",319],["T_DOUBLE_ARROW","=>",319],["T_WHITESPACE"," ",319],["T_CONSTANT_ENCAPSED_STRING","\"line 1\\nline 2\\nline 3\\nline 4\\n\\nparagraph\\n\\n\"",319],",",["T_WHITESPACE","\n    ",319],")",";",["T_WHITESPACE","\n    ",320],["T_VARIABLE","$tests",321],"[","]",["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_ARRAY","array",321],"(",["T_WHITESPACE","\n      ",321],["T_CONSTANT_ENCAPSED_STRING","'html'",322],["T_WHITESPACE"," ",322],["T_DOUBLE_ARROW","=>",322],["T_WHITESPACE"," ",322],["T_CONSTANT_ENCAPSED_STRING","\"<p>line 1<br \/> line 2<\/p> <p>line 4<br \/> line 5<\/p> <p>0<\/p>\"",322],",",["T_WHITESPACE","\n      ",322],["T_COMMENT","\/\/ @todo Trailing line breaks should be trimmed.\n",323],["T_WHITESPACE","      ",324],["T_CONSTANT_ENCAPSED_STRING","'text'",324],["T_WHITESPACE"," ",324],["T_DOUBLE_ARROW","=>",324],["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","\"line 1\\nline 2\\n\\nline 4\\nline 5\\n\\n0\\n\\n\"",324],",",["T_WHITESPACE","\n    ",324],")",";",["T_WHITESPACE","\n    ",325],["T_FOREACH","foreach",326],["T_WHITESPACE"," ",326],"(",["T_VARIABLE","$tests",326],["T_WHITESPACE"," ",326],["T_AS","as",326],["T_WHITESPACE"," ",326],["T_VARIABLE","$test",326],")",["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n      ",326],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","assertHtmlToText",327],"(",["T_VARIABLE","$test",327],"[",["T_CONSTANT_ENCAPSED_STRING","'html'",327],"]",",",["T_WHITESPACE"," ",327],["T_VARIABLE","$test",327],"[",["T_CONSTANT_ENCAPSED_STRING","'text'",327],"]",",",["T_WHITESPACE"," ",327],["T_CONSTANT_ENCAPSED_STRING","'Paragraph breaks'",327],")",";",["T_WHITESPACE","\n    ",327],"}",["T_WHITESPACE","\n  ",328],"}",["T_WHITESPACE","\n\n  ",329],["T_DOC_COMMENT","\/**\n   * Tests \\Drupal\\Core\\Mail\\MailFormatHelper::htmlToText() wrapping.\n   *\n   * RFC 3676 says, \"The Text\/Plain media type is the lowest common\n   * denominator of Internet email, with lines of no more than 998 characters.\"\n   *\n   * RFC 2046 says, \"SMTP [RFC-821] allows a maximum of 998 octets before the\n   * next CRLF sequence.\"\n   *\n   * RFC 821 says, \"The maximum total length of a text line including the\n   * <CRLF> is 1000 characters.\"\n   *\/",331],["T_WHITESPACE","\n  ",342],["T_PUBLIC","public",343],["T_WHITESPACE"," ",343],["T_FUNCTION","function",343],["T_WHITESPACE"," ",343],["T_STRING","testVeryLongLineWrap",343],"(",")",["T_WHITESPACE"," ",343],"{",["T_WHITESPACE","\n    ",343],["T_VARIABLE","$input",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_CONSTANT_ENCAPSED_STRING","'Drupal<br \/><p>'",344],["T_WHITESPACE"," ",344],".",["T_WHITESPACE"," ",344],["T_STRING","str_repeat",344],"(",["T_CONSTANT_ENCAPSED_STRING","'x'",344],",",["T_WHITESPACE"," ",344],["T_LNUMBER","2100",344],")",["T_WHITESPACE"," ",344],".",["T_WHITESPACE"," ",344],["T_CONSTANT_ENCAPSED_STRING","'<\/p><br \/>Drupal'",344],";",["T_WHITESPACE","\n    ",344],["T_VARIABLE","$output",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_STRING","MailFormatHelper",345],["T_DOUBLE_COLON","::",345],["T_STRING","htmlToText",345],"(",["T_VARIABLE","$input",345],")",";",["T_WHITESPACE","\n    ",345],["T_VARIABLE","$eol",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_STRING","Settings",346],["T_DOUBLE_COLON","::",346],["T_STRING","get",346],"(",["T_CONSTANT_ENCAPSED_STRING","'mail_line_endings'",346],",",["T_WHITESPACE"," ",346],["T_STRING","PHP_EOL",346],")",";",["T_WHITESPACE","\n\n    ",346],["T_VARIABLE","$maximum_line_length",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_LNUMBER","0",348],";",["T_WHITESPACE","\n    ",348],["T_FOREACH","foreach",349],["T_WHITESPACE"," ",349],"(",["T_STRING","explode",349],"(",["T_VARIABLE","$eol",349],",",["T_WHITESPACE"," ",349],["T_VARIABLE","$output",349],")",["T_WHITESPACE"," ",349],["T_AS","as",349],["T_WHITESPACE"," ",349],["T_VARIABLE","$line",349],")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n      ",349],["T_COMMENT","\/\/ We must use strlen() rather than Unicode::strlen() in order to count\n",350],["T_WHITESPACE","      ",351],["T_COMMENT","\/\/ octets rather than characters.\n",351],["T_WHITESPACE","      ",352],["T_VARIABLE","$maximum_line_length",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_STRING","max",352],"(",["T_VARIABLE","$maximum_line_length",352],",",["T_WHITESPACE"," ",352],["T_STRING","strlen",352],"(",["T_VARIABLE","$line",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_VARIABLE","$eol",352],")",")",";",["T_WHITESPACE","\n    ",352],"}",["T_WHITESPACE","\n    ",353],["T_VARIABLE","$verbose",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","'Maximum line length found was '",354],["T_WHITESPACE"," ",354],".",["T_WHITESPACE"," ",354],["T_VARIABLE","$maximum_line_length",354],["T_WHITESPACE"," ",354],".",["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","' octets.'",354],";",["T_WHITESPACE","\n    ",354],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","assertTrue",355],"(",["T_VARIABLE","$maximum_line_length",355],["T_WHITESPACE"," ",355],["T_IS_SMALLER_OR_EQUAL","<=",355],["T_WHITESPACE"," ",355],["T_LNUMBER","1000",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$verbose",355],")",";",["T_WHITESPACE","\n  ",355],"}",["T_WHITESPACE","\n\n  ",356],["T_DOC_COMMENT","\/**\n   * Tests that trailing whitespace is removed before newlines.\n   *\n   * @see \\Drupal\\Core\\Mail\\MailFormatHelper::wrapMail()\n   *\/",358],["T_WHITESPACE","\n  ",362],["T_PUBLIC","public",363],["T_WHITESPACE"," ",363],["T_FUNCTION","function",363],["T_WHITESPACE"," ",363],["T_STRING","testRemoveTrailingWhitespace",363],"(",")",["T_WHITESPACE"," ",363],"{",["T_WHITESPACE","\n    ",363],["T_VARIABLE","$text",364],["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_CONSTANT_ENCAPSED_STRING","\"Hi there! \\nHerp Derp\"",364],";",["T_WHITESPACE","\n    ",364],["T_VARIABLE","$mail_lines",365],["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],["T_STRING","explode",365],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",365],",",["T_WHITESPACE"," ",365],["T_STRING","MailFormatHelper",365],["T_DOUBLE_COLON","::",365],["T_STRING","wrapMail",365],"(",["T_VARIABLE","$text",365],")",")",";",["T_WHITESPACE","\n    ",365],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","assertNotEqual",366],"(",["T_CONSTANT_ENCAPSED_STRING","\" \"",366],",",["T_WHITESPACE"," ",366],["T_STRING","substr",366],"(",["T_VARIABLE","$mail_lines",366],"[",["T_LNUMBER","0",366],"]",",",["T_WHITESPACE"," ",366],"-",["T_LNUMBER","1",366],")",",",["T_WHITESPACE"," ",366],["T_CONSTANT_ENCAPSED_STRING","'Trailing whitespace removed.'",366],")",";",["T_WHITESPACE","\n  ",366],"}",["T_WHITESPACE","\n\n  ",367],["T_DOC_COMMENT","\/**\n   * Tests that trailing whitespace from Usenet style signatures is not removed.\n   *\n   * RFC 3676 says, \"This is a special case; an (optionally quoted or quoted and\n   * stuffed) line consisting of DASH DASH SP is neither fixed nor flowed.\"\n   *\n   * @see \\Drupal\\Core\\Mail\\MailFormatHelper::wrapMail()\n   *\/",369],["T_WHITESPACE","\n  ",376],["T_PUBLIC","public",377],["T_WHITESPACE"," ",377],["T_FUNCTION","function",377],["T_WHITESPACE"," ",377],["T_STRING","testUsenetSignature",377],"(",")",["T_WHITESPACE"," ",377],"{",["T_WHITESPACE","\n    ",377],["T_VARIABLE","$text",378],["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","\"Hi there!\\n-- \\nHerp Derp\"",378],";",["T_WHITESPACE","\n    ",378],["T_VARIABLE","$mail_lines",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_STRING","explode",379],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",379],",",["T_WHITESPACE"," ",379],["T_STRING","MailFormatHelper",379],["T_DOUBLE_COLON","::",379],["T_STRING","wrapMail",379],"(",["T_VARIABLE","$text",379],")",")",";",["T_WHITESPACE","\n    ",379],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","assertEqual",380],"(",["T_CONSTANT_ENCAPSED_STRING","\"-- \"",380],",",["T_WHITESPACE"," ",380],["T_VARIABLE","$mail_lines",380],"[",["T_LNUMBER","1",380],"]",",",["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","'Trailing whitespace not removed for dash-dash-space signatures.'",380],")",";",["T_WHITESPACE","\n\n    ",380],["T_VARIABLE","$text",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_CONSTANT_ENCAPSED_STRING","\"Hi there!\\n--  \\nHerp Derp\"",382],";",["T_WHITESPACE","\n    ",382],["T_VARIABLE","$mail_lines",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_STRING","explode",383],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",383],",",["T_WHITESPACE"," ",383],["T_STRING","MailFormatHelper",383],["T_DOUBLE_COLON","::",383],["T_STRING","wrapMail",383],"(",["T_VARIABLE","$text",383],")",")",";",["T_WHITESPACE","\n    ",383],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","assertEqual",384],"(",["T_CONSTANT_ENCAPSED_STRING","\"--\"",384],",",["T_WHITESPACE"," ",384],["T_VARIABLE","$mail_lines",384],"[",["T_LNUMBER","1",384],"]",",",["T_WHITESPACE"," ",384],["T_CONSTANT_ENCAPSED_STRING","'Trailing whitespace removed for incorrect dash-dash-space signatures.'",384],")",";",["T_WHITESPACE","\n  ",384],"}",["T_WHITESPACE","\n\n",385],"}",["T_WHITESPACE","\n",387]]