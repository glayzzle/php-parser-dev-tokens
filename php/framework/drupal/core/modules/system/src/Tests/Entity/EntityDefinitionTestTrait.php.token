[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","system",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Entity",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Field",5],["T_NS_SEPARATOR","\\",5],["T_STRING","BaseFieldDefinition",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","entity_test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FieldStorageDefinition",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Provides some test methods used to update existing entity definitions.\n *\/",8],["T_WHITESPACE","\n",10],["T_TRAIT","trait",11],["T_WHITESPACE"," ",11],["T_STRING","EntityDefinitionTestTrait",11],["T_WHITESPACE"," ",11],"{",["T_WHITESPACE","\n\n  ",11],["T_DOC_COMMENT","\/**\n   * Enables a new entity type definition.\n   *\/",13],["T_WHITESPACE","\n  ",15],["T_PROTECTED","protected",16],["T_WHITESPACE"," ",16],["T_FUNCTION","function",16],["T_WHITESPACE"," ",16],["T_STRING","enableNewEntityType",16],"(",")",["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n    ",16],["T_VARIABLE","$this",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","state",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","set",17],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_new'",17],",",["T_WHITESPACE"," ",17],["T_STRING","TRUE",17],")",";",["T_WHITESPACE","\n    ",17],["T_VARIABLE","$this",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","entityManager",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","clearCachedDefinitions",18],"(",")",";",["T_WHITESPACE","\n    ",18],["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","entityDefinitionUpdateManager",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","applyUpdates",19],"(",")",";",["T_WHITESPACE","\n  ",19],"}",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * Resets the entity type definition.\n   *\/",22],["T_WHITESPACE","\n  ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_FUNCTION","function",25],["T_WHITESPACE"," ",25],["T_STRING","resetEntityType",25],"(",")",["T_WHITESPACE"," ",25],"{",["T_WHITESPACE","\n    ",25],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","state",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","set",26],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update.entity_type'",26],",",["T_WHITESPACE"," ",26],["T_STRING","NULL",26],")",";",["T_WHITESPACE","\n    ",26],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","entityManager",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","clearCachedDefinitions",27],"(",")",";",["T_WHITESPACE","\n    ",27],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","entityDefinitionUpdateManager",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","applyUpdates",28],"(",")",";",["T_WHITESPACE","\n  ",28],"}",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * Updates the 'entity_test_update' entity type to revisionable.\n   *\/",31],["T_WHITESPACE","\n  ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","updateEntityTypeToRevisionable",34],"(",")",["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$entity_type",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_CLONE","clone",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","entityManager",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","getDefinition",35],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update'",35],")",";",["T_WHITESPACE","\n\n    ",35],["T_VARIABLE","$keys",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$entity_type",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","getKeys",37],"(",")",";",["T_WHITESPACE","\n    ",37],["T_VARIABLE","$keys",38],"[",["T_CONSTANT_ENCAPSED_STRING","'revision'",38],"]",["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'revision_id'",38],";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$entity_type",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","set",39],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_keys'",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$keys",39],")",";",["T_WHITESPACE","\n\n    ",39],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","state",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","set",41],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update.entity_type'",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$entity_type",41],")",";",["T_WHITESPACE","\n  ",41],"}",["T_WHITESPACE","\n\n  ",42],["T_DOC_COMMENT","\/**\n   * Updates the 'entity_test_update' entity type not revisionable.\n   *\/",44],["T_WHITESPACE","\n  ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","updateEntityTypeToNotRevisionable",47],"(",")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$entity_type",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_CLONE","clone",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","entityManager",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getDefinition",48],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update'",48],")",";",["T_WHITESPACE","\n\n    ",48],["T_VARIABLE","$keys",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$entity_type",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getKeys",50],"(",")",";",["T_WHITESPACE","\n    ",50],["T_UNSET","unset",51],"(",["T_VARIABLE","$keys",51],"[",["T_CONSTANT_ENCAPSED_STRING","'revision'",51],"]",")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$entity_type",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","set",52],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_keys'",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$keys",52],")",";",["T_WHITESPACE","\n\n    ",52],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","state",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","set",54],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update.entity_type'",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$entity_type",54],")",";",["T_WHITESPACE","\n  ",54],"}",["T_WHITESPACE","\n\n  ",55],["T_DOC_COMMENT","\/**\n   * Updates the 'entity_test_update' entity type to translatable.\n   *\/",57],["T_WHITESPACE","\n  ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","updateEntityTypeToTranslatable",60],"(",")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$entity_type",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_CLONE","clone",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","entityManager",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getDefinition",61],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update'",61],")",";",["T_WHITESPACE","\n\n    ",61],["T_VARIABLE","$entity_type",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","set",63],"(",["T_CONSTANT_ENCAPSED_STRING","'translatable'",63],",",["T_WHITESPACE"," ",63],["T_STRING","TRUE",63],")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$entity_type",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","set",64],"(",["T_CONSTANT_ENCAPSED_STRING","'data_table'",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'entity_test_update_data'",64],")",";",["T_WHITESPACE","\n\n    ",64],["T_IF","if",66],["T_WHITESPACE"," ",66],"(",["T_VARIABLE","$entity_type",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","isRevisionable",66],"(",")",")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n      ",66],["T_VARIABLE","$entity_type",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","set",67],"(",["T_CONSTANT_ENCAPSED_STRING","'revision_data_table'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'entity_test_update_revision_data'",67],")",";",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n\n    ",68],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","state",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","set",70],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update.entity_type'",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$entity_type",70],")",";",["T_WHITESPACE","\n  ",70],"}",["T_WHITESPACE","\n\n  ",71],["T_DOC_COMMENT","\/**\n   * Updates the 'entity_test_update' entity type to not translatable.\n   *\/",73],["T_WHITESPACE","\n  ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","updateEntityTypeToNotTranslatable",76],"(",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$entity_type",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_CLONE","clone",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","entityManager",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getDefinition",77],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update'",77],")",";",["T_WHITESPACE","\n\n    ",77],["T_VARIABLE","$entity_type",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","set",79],"(",["T_CONSTANT_ENCAPSED_STRING","'translatable'",79],",",["T_WHITESPACE"," ",79],["T_STRING","FALSE",79],")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$entity_type",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","set",80],"(",["T_CONSTANT_ENCAPSED_STRING","'data_table'",80],",",["T_WHITESPACE"," ",80],["T_STRING","NULL",80],")",";",["T_WHITESPACE","\n\n    ",80],["T_IF","if",82],["T_WHITESPACE"," ",82],"(",["T_VARIABLE","$entity_type",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","isRevisionable",82],"(",")",")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n      ",82],["T_VARIABLE","$entity_type",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","set",83],"(",["T_CONSTANT_ENCAPSED_STRING","'revision_data_table'",83],",",["T_WHITESPACE"," ",83],["T_STRING","NULL",83],")",";",["T_WHITESPACE","\n    ",83],"}",["T_WHITESPACE","\n\n    ",84],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","state",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","set",86],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update.entity_type'",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$entity_type",86],")",";",["T_WHITESPACE","\n  ",86],"}",["T_WHITESPACE","\n\n  ",87],["T_DOC_COMMENT","\/**\n   * Adds a new base field to the 'entity_test_update' entity type.\n   *\n   * @param string $type\n   *   (optional) The field type for the new field. Defaults to 'string'.\n   *\/",89],["T_WHITESPACE","\n  ",94],["T_PROTECTED","protected",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","addBaseField",95],"(",["T_VARIABLE","$type",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'string'",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$definitions",96],"[",["T_CONSTANT_ENCAPSED_STRING","'new_base_field'",96],"]",["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_STRING","BaseFieldDefinition",96],["T_DOUBLE_COLON","::",96],["T_STRING","create",96],"(",["T_VARIABLE","$type",96],")",["T_WHITESPACE","\n      ",96],["T_OBJECT_OPERATOR","->",97],["T_STRING","setName",97],"(",["T_CONSTANT_ENCAPSED_STRING","'new_base_field'",97],")",["T_WHITESPACE","\n      ",97],["T_OBJECT_OPERATOR","->",98],["T_STRING","setLabel",98],"(",["T_STRING","t",98],"(",["T_CONSTANT_ENCAPSED_STRING","'A new base field'",98],")",")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","state",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","set",99],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update.additional_base_field_definitions'",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$definitions",99],")",";",["T_WHITESPACE","\n  ",99],"}",["T_WHITESPACE","\n\n  ",100],["T_DOC_COMMENT","\/**\n   * Adds a long-named base field to the 'entity_test_update' entity type.\n   *\/",102],["T_WHITESPACE","\n  ",104],["T_PROTECTED","protected",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","addLongNameBaseField",105],"(",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$key",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'entity_test_update.additional_base_field_definitions'",106],";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$definitions",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","state",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","get",107],"(",["T_VARIABLE","$key",107],",",["T_WHITESPACE"," ",107],"[","]",")",";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$definitions",108],"[",["T_CONSTANT_ENCAPSED_STRING","'new_long_named_entity_reference_base_field'",108],"]",["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_STRING","BaseFieldDefinition",108],["T_DOUBLE_COLON","::",108],["T_STRING","create",108],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_reference'",108],")",["T_WHITESPACE","\n      ",108],["T_OBJECT_OPERATOR","->",109],["T_STRING","setName",109],"(",["T_CONSTANT_ENCAPSED_STRING","'new_long_named_entity_reference_base_field'",109],")",["T_WHITESPACE","\n      ",109],["T_OBJECT_OPERATOR","->",110],["T_STRING","setLabel",110],"(",["T_STRING","t",110],"(",["T_CONSTANT_ENCAPSED_STRING","'A new long-named base field'",110],")",")",["T_WHITESPACE","\n      ",110],["T_OBJECT_OPERATOR","->",111],["T_STRING","setSetting",111],"(",["T_CONSTANT_ENCAPSED_STRING","'target_type'",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'user'",111],")",["T_WHITESPACE","\n      ",111],["T_OBJECT_OPERATOR","->",112],["T_STRING","setSetting",112],"(",["T_CONSTANT_ENCAPSED_STRING","'handler'",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'default'",112],")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","state",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","set",113],"(",["T_VARIABLE","$key",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$definitions",113],")",";",["T_WHITESPACE","\n  ",113],"}",["T_WHITESPACE","\n\n  ",114],["T_DOC_COMMENT","\/**\n   * Adds a new revisionable base field to the 'entity_test_update' entity type.\n   *\n   * @param string $type\n   *   (optional) The field type for the new field. Defaults to 'string'.\n   *\/",116],["T_WHITESPACE","\n  ",121],["T_PROTECTED","protected",122],["T_WHITESPACE"," ",122],["T_FUNCTION","function",122],["T_WHITESPACE"," ",122],["T_STRING","addRevisionableBaseField",122],"(",["T_VARIABLE","$type",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'string'",122],")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$definitions",123],"[",["T_CONSTANT_ENCAPSED_STRING","'new_base_field'",123],"]",["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_STRING","BaseFieldDefinition",123],["T_DOUBLE_COLON","::",123],["T_STRING","create",123],"(",["T_VARIABLE","$type",123],")",["T_WHITESPACE","\n      ",123],["T_OBJECT_OPERATOR","->",124],["T_STRING","setName",124],"(",["T_CONSTANT_ENCAPSED_STRING","'new_base_field'",124],")",["T_WHITESPACE","\n      ",124],["T_OBJECT_OPERATOR","->",125],["T_STRING","setLabel",125],"(",["T_STRING","t",125],"(",["T_CONSTANT_ENCAPSED_STRING","'A new revisionable base field'",125],")",")",["T_WHITESPACE","\n      ",125],["T_OBJECT_OPERATOR","->",126],["T_STRING","setRevisionable",126],"(",["T_STRING","TRUE",126],")",";",["T_WHITESPACE","\n    ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","state",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","set",127],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update.additional_base_field_definitions'",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$definitions",127],")",";",["T_WHITESPACE","\n  ",127],"}",["T_WHITESPACE","\n\n  ",128],["T_DOC_COMMENT","\/**\n   * Modifies the new base field from 'string' to 'text'.\n   *\/",130],["T_WHITESPACE","\n  ",132],["T_PROTECTED","protected",133],["T_WHITESPACE"," ",133],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],["T_STRING","modifyBaseField",133],"(",")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n    ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","addBaseField",134],"(",["T_CONSTANT_ENCAPSED_STRING","'text'",134],")",";",["T_WHITESPACE","\n  ",134],"}",["T_WHITESPACE","\n\n  ",135],["T_DOC_COMMENT","\/**\n   * Promotes a field to an entity key.\n   *\/",137],["T_WHITESPACE","\n  ",139],["T_PROTECTED","protected",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","makeBaseFieldEntityKey",140],"(",")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$entity_type",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_CLONE","clone",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","entityManager",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getDefinition",141],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update'",141],")",";",["T_WHITESPACE","\n    ",141],["T_VARIABLE","$entity_keys",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$entity_type",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getKeys",142],"(",")",";",["T_WHITESPACE","\n    ",142],["T_VARIABLE","$entity_keys",143],"[",["T_CONSTANT_ENCAPSED_STRING","'new_base_field'",143],"]",["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'new_base_field'",143],";",["T_WHITESPACE","\n    ",143],["T_VARIABLE","$entity_type",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","set",144],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_keys'",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$entity_keys",144],")",";",["T_WHITESPACE","\n    ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","state",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","set",145],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update.entity_type'",145],",",["T_WHITESPACE"," ",145],["T_VARIABLE","$entity_type",145],")",";",["T_WHITESPACE","\n  ",145],"}",["T_WHITESPACE","\n\n  ",146],["T_DOC_COMMENT","\/**\n   * Removes the new base field from the 'entity_test_update' entity type.\n   *\/",148],["T_WHITESPACE","\n  ",150],["T_PROTECTED","protected",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","removeBaseField",151],"(",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n    ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","state",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","delete",152],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update.additional_base_field_definitions'",152],")",";",["T_WHITESPACE","\n  ",152],"}",["T_WHITESPACE","\n\n  ",153],["T_DOC_COMMENT","\/**\n   * Adds a single-field index to the base field.\n   *\/",155],["T_WHITESPACE","\n  ",157],["T_PROTECTED","protected",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","addBaseFieldIndex",158],"(",")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n    ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","state",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","set",159],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update.additional_field_index.entity_test_update.new_base_field'",159],",",["T_WHITESPACE"," ",159],["T_STRING","TRUE",159],")",";",["T_WHITESPACE","\n  ",159],"}",["T_WHITESPACE","\n\n  ",160],["T_DOC_COMMENT","\/**\n   * Removes the index added in addBaseFieldIndex().\n   *\/",162],["T_WHITESPACE","\n  ",164],["T_PROTECTED","protected",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","removeBaseFieldIndex",165],"(",")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n    ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","state",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","delete",166],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update.additional_field_index.entity_test_update.new_base_field'",166],")",";",["T_WHITESPACE","\n  ",166],"}",["T_WHITESPACE","\n\n  ",167],["T_DOC_COMMENT","\/**\n   * Adds a new bundle field to the 'entity_test_update' entity type.\n   *\n   * @param string $type\n   *   (optional) The field type for the new field. Defaults to 'string'.\n   *\/",169],["T_WHITESPACE","\n  ",174],["T_PROTECTED","protected",175],["T_WHITESPACE"," ",175],["T_FUNCTION","function",175],["T_WHITESPACE"," ",175],["T_STRING","addBundleField",175],"(",["T_VARIABLE","$type",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'string'",175],")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n    ",175],["T_VARIABLE","$definitions",176],"[",["T_CONSTANT_ENCAPSED_STRING","'new_bundle_field'",176],"]",["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_STRING","FieldStorageDefinition",176],["T_DOUBLE_COLON","::",176],["T_STRING","create",176],"(",["T_VARIABLE","$type",176],")",["T_WHITESPACE","\n      ",176],["T_OBJECT_OPERATOR","->",177],["T_STRING","setName",177],"(",["T_CONSTANT_ENCAPSED_STRING","'new_bundle_field'",177],")",["T_WHITESPACE","\n      ",177],["T_OBJECT_OPERATOR","->",178],["T_STRING","setLabel",178],"(",["T_STRING","t",178],"(",["T_CONSTANT_ENCAPSED_STRING","'A new bundle field'",178],")",")",["T_WHITESPACE","\n      ",178],["T_OBJECT_OPERATOR","->",179],["T_STRING","setTargetEntityTypeId",179],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update'",179],")",";",["T_WHITESPACE","\n    ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","state",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","set",180],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update.additional_field_storage_definitions'",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$definitions",180],")",";",["T_WHITESPACE","\n    ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","state",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","set",181],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update.additional_bundle_field_definitions.test_bundle'",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$definitions",181],")",";",["T_WHITESPACE","\n  ",181],"}",["T_WHITESPACE","\n\n  ",182],["T_DOC_COMMENT","\/**\n   * Modifies the new bundle field from 'string' to 'text'.\n   *\/",184],["T_WHITESPACE","\n  ",186],["T_PROTECTED","protected",187],["T_WHITESPACE"," ",187],["T_FUNCTION","function",187],["T_WHITESPACE"," ",187],["T_STRING","modifyBundleField",187],"(",")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n    ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","addBundleField",188],"(",["T_CONSTANT_ENCAPSED_STRING","'text'",188],")",";",["T_WHITESPACE","\n  ",188],"}",["T_WHITESPACE","\n\n  ",189],["T_DOC_COMMENT","\/**\n   * Removes the new bundle field from the 'entity_test_update' entity type.\n   *\/",191],["T_WHITESPACE","\n  ",193],["T_PROTECTED","protected",194],["T_WHITESPACE"," ",194],["T_FUNCTION","function",194],["T_WHITESPACE"," ",194],["T_STRING","removeBundleField",194],"(",")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n    ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","state",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","delete",195],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update.additional_field_storage_definitions'",195],")",";",["T_WHITESPACE","\n    ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","state",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","delete",196],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update.additional_bundle_field_definitions.test_bundle'",196],")",";",["T_WHITESPACE","\n  ",196],"}",["T_WHITESPACE","\n\n  ",197],["T_DOC_COMMENT","\/**\n   * Adds an index to the 'entity_test_update' entity type's base table.\n   *\n   * @see \\Drupal\\entity_test\\EntityTestStorageSchema::getEntitySchema()\n   *\/",199],["T_WHITESPACE","\n  ",203],["T_PROTECTED","protected",204],["T_WHITESPACE"," ",204],["T_FUNCTION","function",204],["T_WHITESPACE"," ",204],["T_STRING","addEntityIndex",204],"(",")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n    ",204],["T_VARIABLE","$indexes",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_ARRAY","array",205],"(",["T_WHITESPACE","\n      ",205],["T_CONSTANT_ENCAPSED_STRING","'entity_test_update__new_index'",206],["T_WHITESPACE"," ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_ARRAY","array",206],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",206],",",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'user_id'",206],")",",",["T_WHITESPACE","\n    ",206],")",";",["T_WHITESPACE","\n    ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","state",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","set",208],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update.additional_entity_indexes'",208],",",["T_WHITESPACE"," ",208],["T_VARIABLE","$indexes",208],")",";",["T_WHITESPACE","\n  ",208],"}",["T_WHITESPACE","\n\n  ",209],["T_DOC_COMMENT","\/**\n   * Removes the index added in addEntityIndex().\n   *\/",211],["T_WHITESPACE","\n  ",213],["T_PROTECTED","protected",214],["T_WHITESPACE"," ",214],["T_FUNCTION","function",214],["T_WHITESPACE"," ",214],["T_STRING","removeEntityIndex",214],"(",")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n    ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","state",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","delete",215],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update.additional_entity_indexes'",215],")",";",["T_WHITESPACE","\n  ",215],"}",["T_WHITESPACE","\n\n  ",216],["T_DOC_COMMENT","\/**\n   * Renames the base table to 'entity_test_update_new'.\n   *\/",218],["T_WHITESPACE","\n  ",220],["T_PROTECTED","protected",221],["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],["T_STRING","renameBaseTable",221],"(",")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n    ",221],["T_VARIABLE","$entity_type",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_CLONE","clone",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","entityManager",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getDefinition",222],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update'",222],")",";",["T_WHITESPACE","\n\n    ",222],["T_VARIABLE","$entity_type",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","set",224],"(",["T_CONSTANT_ENCAPSED_STRING","'base_table'",224],",",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'entity_test_update_new'",224],")",";",["T_WHITESPACE","\n\n    ",224],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","state",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","set",226],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update.entity_type'",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$entity_type",226],")",";",["T_WHITESPACE","\n  ",226],"}",["T_WHITESPACE","\n\n  ",227],["T_DOC_COMMENT","\/**\n   * Renames the data table to 'entity_test_update_data_new'.\n   *\/",229],["T_WHITESPACE","\n  ",231],["T_PROTECTED","protected",232],["T_WHITESPACE"," ",232],["T_FUNCTION","function",232],["T_WHITESPACE"," ",232],["T_STRING","renameDataTable",232],"(",")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n    ",232],["T_VARIABLE","$entity_type",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_CLONE","clone",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","entityManager",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getDefinition",233],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update'",233],")",";",["T_WHITESPACE","\n\n    ",233],["T_VARIABLE","$entity_type",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","set",235],"(",["T_CONSTANT_ENCAPSED_STRING","'data_table'",235],",",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'entity_test_update_data_new'",235],")",";",["T_WHITESPACE","\n\n    ",235],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","state",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","set",237],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update.entity_type'",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$entity_type",237],")",";",["T_WHITESPACE","\n  ",237],"}",["T_WHITESPACE","\n\n  ",238],["T_DOC_COMMENT","\/**\n   * Renames the revision table to 'entity_test_update_revision_new'.\n   *\/",240],["T_WHITESPACE","\n  ",242],["T_PROTECTED","protected",243],["T_WHITESPACE"," ",243],["T_FUNCTION","function",243],["T_WHITESPACE"," ",243],["T_STRING","renameRevisionBaseTable",243],"(",")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n    ",243],["T_VARIABLE","$entity_type",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_CLONE","clone",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","entityManager",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getDefinition",244],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update'",244],")",";",["T_WHITESPACE","\n\n    ",244],["T_VARIABLE","$entity_type",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","set",246],"(",["T_CONSTANT_ENCAPSED_STRING","'revision_table'",246],",",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'entity_test_update_revision_new'",246],")",";",["T_WHITESPACE","\n\n    ",246],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","state",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","set",248],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update.entity_type'",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$entity_type",248],")",";",["T_WHITESPACE","\n  ",248],"}",["T_WHITESPACE","\n\n  ",249],["T_DOC_COMMENT","\/**\n   * Renames the revision data table to 'entity_test_update_revision_data_new'.\n   *\/",251],["T_WHITESPACE","\n  ",253],["T_PROTECTED","protected",254],["T_WHITESPACE"," ",254],["T_FUNCTION","function",254],["T_WHITESPACE"," ",254],["T_STRING","renameRevisionDataTable",254],"(",")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n    ",254],["T_VARIABLE","$entity_type",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_CLONE","clone",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","entityManager",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getDefinition",255],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update'",255],")",";",["T_WHITESPACE","\n\n    ",255],["T_VARIABLE","$entity_type",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","set",257],"(",["T_CONSTANT_ENCAPSED_STRING","'revision_data_table'",257],",",["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'entity_test_update_revision_data_new'",257],")",";",["T_WHITESPACE","\n\n    ",257],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","state",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","set",259],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update.entity_type'",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$entity_type",259],")",";",["T_WHITESPACE","\n  ",259],"}",["T_WHITESPACE","\n\n  ",260],["T_DOC_COMMENT","\/**\n   * Removes the entity type.\n   *\/",262],["T_WHITESPACE","\n  ",264],["T_PROTECTED","protected",265],["T_WHITESPACE"," ",265],["T_FUNCTION","function",265],["T_WHITESPACE"," ",265],["T_STRING","deleteEntityType",265],"(",")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n    ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","state",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","set",266],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_update.entity_type'",266],",",["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","'null'",266],")",";",["T_WHITESPACE","\n  ",266],"}",["T_WHITESPACE","\n\n",267],"}",["T_WHITESPACE","\n",269]]