[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","system",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","System",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Unicode",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","simpletest",6],["T_NS_SEPARATOR","\\",6],["T_STRING","WebTestBase",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests validity of date format machine names.\n *\n * @group system\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","DateFormatsMachineNameTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","WebTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",15],["T_WHITESPACE","\n  ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_FUNCTION","function",18],["T_WHITESPACE"," ",18],["T_STRING","setUp",18],"(",")",["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n    ",18],["T_STRING","parent",19],["T_DOUBLE_COLON","::",19],["T_STRING","setUp",19],"(",")",";",["T_WHITESPACE","\n    ",19],["T_COMMENT","\/\/ Create a new administrator user for the test.\n",20],["T_WHITESPACE","    ",21],["T_VARIABLE","$admin",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","drupalCreateUser",21],"(",["T_ARRAY","array",21],"(",["T_CONSTANT_ENCAPSED_STRING","'administer site configuration'",21],")",")",";",["T_WHITESPACE","\n    ",21],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","drupalLogin",22],"(",["T_VARIABLE","$admin",22],")",";",["T_WHITESPACE","\n  ",22],"}",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * Tests that date formats cannot be created with invalid machine names.\n   *\/",25],["T_WHITESPACE","\n  ",27],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","testDateFormatsMachineNameAllowedValues",28],"(",")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n    ",28],["T_COMMENT","\/\/ Try to create a date format with a not allowed character to test the date\n",29],["T_WHITESPACE","    ",30],["T_COMMENT","\/\/ format specific machine name replace pattern.\n",30],["T_WHITESPACE","    ",31],["T_VARIABLE","$edit",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_ARRAY","array",31],"(",["T_WHITESPACE","\n      ",31],["T_CONSTANT_ENCAPSED_STRING","'label'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'Something Not Allowed'",32],",",["T_WHITESPACE","\n      ",32],["T_CONSTANT_ENCAPSED_STRING","'id'",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'something.bad'",33],",",["T_WHITESPACE","\n      ",33],["T_CONSTANT_ENCAPSED_STRING","'date_format_pattern'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'Y-m-d'",34],",",["T_WHITESPACE","\n    ",34],")",";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","drupalPostForm",36],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/date-time\/formats\/add'",36],",",["T_WHITESPACE"," ",36],["T_VARIABLE","$edit",36],",",["T_WHITESPACE"," ",36],["T_STRING","t",36],"(",["T_CONSTANT_ENCAPSED_STRING","'Add format'",36],")",")",";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","assertText",37],"(",["T_STRING","t",37],"(",["T_CONSTANT_ENCAPSED_STRING","'The machine-readable name must be unique, and can only contain lowercase letters, numbers, and underscores. Additionally, it can not be the reserved word \"custom\".'",37],")",",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'It is not possible to create a date format with the machine name that has any character other than lowercase letters, digits or underscore.'",37],")",";",["T_WHITESPACE","\n\n    ",37],["T_COMMENT","\/\/ Try to create a date format with the reserved machine name \"custom\".\n",39],["T_WHITESPACE","    ",40],["T_VARIABLE","$edit",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_ARRAY","array",40],"(",["T_WHITESPACE","\n      ",40],["T_CONSTANT_ENCAPSED_STRING","'label'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'Custom'",41],",",["T_WHITESPACE","\n      ",41],["T_CONSTANT_ENCAPSED_STRING","'id'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'custom'",42],",",["T_WHITESPACE","\n      ",42],["T_CONSTANT_ENCAPSED_STRING","'date_format_pattern'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'Y-m-d'",43],",",["T_WHITESPACE","\n    ",43],")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","drupalPostForm",45],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/date-time\/formats\/add'",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$edit",45],",",["T_WHITESPACE"," ",45],["T_STRING","t",45],"(",["T_CONSTANT_ENCAPSED_STRING","'Add format'",45],")",")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","assertText",46],"(",["T_STRING","t",46],"(",["T_CONSTANT_ENCAPSED_STRING","'The machine-readable name must be unique, and can only contain lowercase letters, numbers, and underscores. Additionally, it can not be the reserved word \"custom\".'",46],")",",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'It is not possible to create a date format with the machine name \"custom\".'",46],")",";",["T_WHITESPACE","\n\n    ",46],["T_COMMENT","\/\/ Try to create a date format with a machine name, \"fallback\", that\n",48],["T_WHITESPACE","    ",49],["T_COMMENT","\/\/ already exists.\n",49],["T_WHITESPACE","    ",50],["T_VARIABLE","$edit",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_ARRAY","array",50],"(",["T_WHITESPACE","\n      ",50],["T_CONSTANT_ENCAPSED_STRING","'label'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'Fallback'",51],",",["T_WHITESPACE","\n      ",51],["T_CONSTANT_ENCAPSED_STRING","'id'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'fallback'",52],",",["T_WHITESPACE","\n      ",52],["T_CONSTANT_ENCAPSED_STRING","'date_format_pattern'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'j\/m\/Y'",53],",",["T_WHITESPACE","\n    ",53],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","drupalPostForm",55],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/date-time\/formats\/add'",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$edit",55],",",["T_WHITESPACE"," ",55],["T_STRING","t",55],"(",["T_CONSTANT_ENCAPSED_STRING","'Add format'",55],")",")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","assertText",56],"(",["T_STRING","t",56],"(",["T_CONSTANT_ENCAPSED_STRING","'The machine-readable name is already in use. It must be unique.'",56],")",",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'It is not possible to create a date format with the machine name \"fallback\". It is a built-in format that already exists.'",56],")",";",["T_WHITESPACE","\n\n    ",56],["T_COMMENT","\/\/ Create a date format with a machine name distinct from the previous two.\n",58],["T_WHITESPACE","    ",59],["T_VARIABLE","$id",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","Unicode",59],["T_DOUBLE_COLON","::",59],["T_STRING","strtolower",59],"(",["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","randomMachineName",59],"(",["T_LNUMBER","16",59],")",")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$edit",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_ARRAY","array",60],"(",["T_WHITESPACE","\n      ",60],["T_CONSTANT_ENCAPSED_STRING","'label'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","randomMachineName",61],"(",["T_LNUMBER","16",61],")",",",["T_WHITESPACE","\n      ",61],["T_CONSTANT_ENCAPSED_STRING","'id'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$id",62],",",["T_WHITESPACE","\n      ",62],["T_CONSTANT_ENCAPSED_STRING","'date_format_pattern'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'d\/m\/Y'",63],",",["T_WHITESPACE","\n    ",63],")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","drupalPostForm",65],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/date-time\/formats\/add'",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$edit",65],",",["T_WHITESPACE"," ",65],["T_STRING","t",65],"(",["T_CONSTANT_ENCAPSED_STRING","'Add format'",65],")",")",";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","assertText",66],"(",["T_STRING","t",66],"(",["T_CONSTANT_ENCAPSED_STRING","'Custom date format added.'",66],")",",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'It is possible to create a date format with a new machine name.'",66],")",";",["T_WHITESPACE","\n\n    ",66],["T_COMMENT","\/\/ Try to create a date format with same machine name as the previous one.\n",68],["T_WHITESPACE","    ",69],["T_VARIABLE","$edit",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_ARRAY","array",69],"(",["T_WHITESPACE","\n      ",69],["T_CONSTANT_ENCAPSED_STRING","'label'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","randomMachineName",70],"(",["T_LNUMBER","16",70],")",",",["T_WHITESPACE","\n      ",70],["T_CONSTANT_ENCAPSED_STRING","'id'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$id",71],",",["T_WHITESPACE","\n      ",71],["T_CONSTANT_ENCAPSED_STRING","'date_format_pattern'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'d-m-Y'",72],",",["T_WHITESPACE","\n    ",72],")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","drupalPostForm",74],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/date-time\/formats\/add'",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$edit",74],",",["T_WHITESPACE"," ",74],["T_STRING","t",74],"(",["T_CONSTANT_ENCAPSED_STRING","'Add format'",74],")",")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertText",75],"(",["T_STRING","t",75],"(",["T_CONSTANT_ENCAPSED_STRING","'The machine-readable name is already in use. It must be unique.'",75],")",",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'It is not possible to create a new date format with an existing machine name.'",75],")",";",["T_WHITESPACE","\n  ",75],"}",["T_WHITESPACE","\n\n",76],"}",["T_WHITESPACE","\n",78]]