[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","system",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Entity",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","simpletest",5],["T_NS_SEPARATOR","\\",5],["T_STRING","KernelTestBase",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","EntityInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","user",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Role",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","user",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","User",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Defines an abstract test base for entity unit tests.\n *\n * @deprecated in Drupal 8.1.x, will be removed before Drupal 8.2.x. Use\n *   \\Drupal\\KernelTests\\Core\\Entity\\EntityKernelTestBase instead.\n *\/",10],["T_WHITESPACE","\n",15],["T_ABSTRACT","abstract",16],["T_WHITESPACE"," ",16],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","EntityUnitTestBase",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","KernelTestBase",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",18],["T_WHITESPACE","\n  ",22],["T_PUBLIC","public",23],["T_WHITESPACE"," ",23],["T_STATIC","static",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$modules",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",23],",",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'system'",23],",",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'field'",23],",",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'text'",23],",",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'filter'",23],",",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",23],"]",";",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * The entity manager service.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityManagerInterface\n   *\/",25],["T_WHITESPACE","\n  ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$entityManager",30],";",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * A list of generated identifiers.\n   *\n   * @var array\n   *\/",32],["T_WHITESPACE","\n  ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$generatedIds",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_ARRAY","array",37],"(",")",";",["T_WHITESPACE","\n\n  ",37],["T_DOC_COMMENT","\/**\n   * The state service.\n   *\n   * @var \\Drupal\\Core\\State\\StateInterface\n   *\/",39],["T_WHITESPACE","\n  ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$state",44],";",["T_WHITESPACE","\n\n  ",44],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","setUp",46],"(",")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n    ",46],["T_STRING","parent",47],["T_DOUBLE_COLON","::",47],["T_STRING","setUp",47],"(",")",";",["T_WHITESPACE","\n\n    ",47],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","entityManager",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","container",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","get",49],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",49],")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","state",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","container",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","get",50],"(",["T_CONSTANT_ENCAPSED_STRING","'state'",50],")",";",["T_WHITESPACE","\n\n    ",50],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","installSchema",52],"(",["T_CONSTANT_ENCAPSED_STRING","'system'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'sequences'",52],")",";",["T_WHITESPACE","\n\n    ",52],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","installEntitySchema",54],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","installEntitySchema",55],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",55],")",";",["T_WHITESPACE","\n\n    ",55],["T_COMMENT","\/\/ If the concrete test sub-class installs the Node or Comment modules,\n",57],["T_WHITESPACE","    ",58],["T_COMMENT","\/\/ ensure that the node and comment entity schema are created before the\n",58],["T_WHITESPACE","    ",59],["T_COMMENT","\/\/ field configurations are installed. This is because the entity tables\n",59],["T_WHITESPACE","    ",60],["T_COMMENT","\/\/ need to be created before the body field storage tables. This prevents\n",60],["T_WHITESPACE","    ",61],["T_COMMENT","\/\/ trying to create the body field tables twice.\n",61],["T_WHITESPACE","    ",62],["T_VARIABLE","$class",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_STRING","get_class",62],"(",["T_VARIABLE","$this",62],")",";",["T_WHITESPACE","\n    ",62],["T_WHILE","while",63],["T_WHITESPACE"," ",63],"(",["T_VARIABLE","$class",63],")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n      ",63],["T_IF","if",64],["T_WHITESPACE"," ",64],"(",["T_STRING","property_exists",64],"(",["T_VARIABLE","$class",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'modules'",64],")",")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n        ",64],["T_COMMENT","\/\/ Only check the modules, if the $modules property was not inherited.\n",65],["T_WHITESPACE","        ",66],["T_VARIABLE","$rp",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_NEW","new",66],["T_WHITESPACE"," ",66],["T_NS_SEPARATOR","\\",66],["T_STRING","ReflectionProperty",66],"(",["T_VARIABLE","$class",66],",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'modules'",66],")",";",["T_WHITESPACE","\n        ",66],["T_IF","if",67],["T_WHITESPACE"," ",67],"(",["T_VARIABLE","$rp",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","class",67],["T_WHITESPACE"," ",67],["T_IS_EQUAL","==",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$class",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n          ",67],["T_FOREACH","foreach",68],["T_WHITESPACE"," ",68],"(",["T_STRING","array_intersect",68],"(",["T_ARRAY","array",68],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'comment'",68],")",",",["T_WHITESPACE"," ",68],["T_VARIABLE","$class",68],["T_DOUBLE_COLON","::",68],["T_VARIABLE","$modules",68],")",["T_WHITESPACE"," ",68],["T_AS","as",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$module",68],")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n            ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","installEntitySchema",69],"(",["T_VARIABLE","$module",69],")",";",["T_WHITESPACE","\n          ",69],"}",["T_WHITESPACE","\n          ",70],["T_IF","if",71],["T_WHITESPACE"," ",71],"(",["T_STRING","in_array",71],"(",["T_CONSTANT_ENCAPSED_STRING","'forum'",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$class",71],["T_DOUBLE_COLON","::",71],["T_VARIABLE","$modules",71],",",["T_WHITESPACE"," ",71],["T_STRING","TRUE",71],")",")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n            ",71],["T_COMMENT","\/\/ Forum module is particular about the order that dependencies are\n",72],["T_WHITESPACE","            ",73],["T_COMMENT","\/\/ enabled in. The comment, node and taxonomy config and the\n",73],["T_WHITESPACE","            ",74],["T_COMMENT","\/\/ taxonomy_term schema need to be installed before the forum config\n",74],["T_WHITESPACE","            ",75],["T_COMMENT","\/\/ which in turn needs to be installed before field config.\n",75],["T_WHITESPACE","            ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","installConfig",76],"(","[",["T_CONSTANT_ENCAPSED_STRING","'comment'",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'node'",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'taxonomy'",76],"]",")",";",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","installEntitySchema",77],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term'",77],")",";",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","installConfig",78],"(","[",["T_CONSTANT_ENCAPSED_STRING","'forum'",78],"]",")",";",["T_WHITESPACE","\n          ",78],"}",["T_WHITESPACE","\n        ",79],"}",["T_WHITESPACE","\n      ",80],"}",["T_WHITESPACE","\n      ",81],["T_VARIABLE","$class",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","get_parent_class",82],"(",["T_VARIABLE","$class",82],")",";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","installConfig",85],"(",["T_ARRAY","array",85],"(",["T_CONSTANT_ENCAPSED_STRING","'field'",85],")",")",";",["T_WHITESPACE","\n  ",85],"}",["T_WHITESPACE","\n\n  ",86],["T_DOC_COMMENT","\/**\n   * Creates a user.\n   *\n   * @param array $values\n   *   (optional) The values used to create the entity.\n   * @param array $permissions\n   *   (optional) Array of permission names to assign to user.\n   *\n   * @return \\Drupal\\user\\Entity\\User\n   *   The created user entity.\n   *\/",88],["T_WHITESPACE","\n  ",98],["T_PROTECTED","protected",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","createUser",99],"(",["T_VARIABLE","$values",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",")",",",["T_WHITESPACE"," ",99],["T_VARIABLE","$permissions",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",")",")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n    ",99],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$permissions",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n      ",100],["T_COMMENT","\/\/ Create a new role and apply permissions to it.\n",101],["T_WHITESPACE","      ",102],["T_VARIABLE","$role",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","Role",102],["T_DOUBLE_COLON","::",102],["T_STRING","create",102],"(",["T_ARRAY","array",102],"(",["T_WHITESPACE","\n        ",102],["T_CONSTANT_ENCAPSED_STRING","'id'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_STRING","strtolower",103],"(",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","randomMachineName",103],"(",["T_LNUMBER","8",103],")",")",",",["T_WHITESPACE","\n        ",103],["T_CONSTANT_ENCAPSED_STRING","'label'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","randomMachineName",104],"(",["T_LNUMBER","8",104],")",",",["T_WHITESPACE","\n      ",104],")",")",";",["T_WHITESPACE","\n      ",105],["T_VARIABLE","$role",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","save",106],"(",")",";",["T_WHITESPACE","\n      ",106],["T_STRING","user_role_grant_permissions",107],"(",["T_VARIABLE","$role",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","id",107],"(",")",",",["T_WHITESPACE"," ",107],["T_VARIABLE","$permissions",107],")",";",["T_WHITESPACE","\n      ",107],["T_VARIABLE","$values",108],"[",["T_CONSTANT_ENCAPSED_STRING","'roles'",108],"]","[","]",["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$role",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","id",108],"(",")",";",["T_WHITESPACE","\n    ",108],"}",["T_WHITESPACE","\n\n    ",109],["T_VARIABLE","$account",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_STRING","User",111],["T_DOUBLE_COLON","::",111],["T_STRING","create",111],"(",["T_VARIABLE","$values",111],["T_WHITESPACE"," ",111],"+",["T_WHITESPACE"," ",111],"[",["T_WHITESPACE","\n      ",111],["T_CONSTANT_ENCAPSED_STRING","'name'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","randomMachineName",112],"(",")",",",["T_WHITESPACE","\n      ",112],["T_CONSTANT_ENCAPSED_STRING","'status'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_LNUMBER","1",113],",",["T_WHITESPACE","\n    ",113],"]",")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$account",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","enforceIsNew",115],"(",")",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$account",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","save",116],"(",")",";",["T_WHITESPACE","\n    ",116],["T_RETURN","return",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$account",117],";",["T_WHITESPACE","\n  ",117],"}",["T_WHITESPACE","\n\n  ",118],["T_DOC_COMMENT","\/**\n   * Reloads the given entity from the storage and returns it.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityInterface $entity\n   *   The entity to be reloaded.\n   *\n   * @return \\Drupal\\Core\\Entity\\EntityInterface\n   *   The reloaded entity.\n   *\/",120],["T_WHITESPACE","\n  ",128],["T_PROTECTED","protected",129],["T_WHITESPACE"," ",129],["T_FUNCTION","function",129],["T_WHITESPACE"," ",129],["T_STRING","reloadEntity",129],"(",["T_STRING","EntityInterface",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$entity",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$controller",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","entityManager",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getStorage",130],"(",["T_VARIABLE","$entity",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getEntityTypeId",130],"(",")",")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$controller",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","resetCache",131],"(",["T_ARRAY","array",131],"(",["T_VARIABLE","$entity",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","id",131],"(",")",")",")",";",["T_WHITESPACE","\n    ",131],["T_RETURN","return",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$controller",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","load",132],"(",["T_VARIABLE","$entity",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","id",132],"(",")",")",";",["T_WHITESPACE","\n  ",132],"}",["T_WHITESPACE","\n\n  ",133],["T_DOC_COMMENT","\/**\n   * Returns the entity_test hook invocation info.\n   *\n   * @return array\n   *   An associative array of arbitrary hook data keyed by hook name.\n   *\/",135],["T_WHITESPACE","\n  ",140],["T_PROTECTED","protected",141],["T_WHITESPACE"," ",141],["T_FUNCTION","function",141],["T_WHITESPACE"," ",141],["T_STRING","getHooksInfo",141],"(",")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n    ",141],["T_VARIABLE","$key",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'entity_test.hooks'",142],";",["T_WHITESPACE","\n    ",142],["T_VARIABLE","$hooks",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","state",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","get",143],"(",["T_VARIABLE","$key",143],")",";",["T_WHITESPACE","\n    ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","state",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","set",144],"(",["T_VARIABLE","$key",144],",",["T_WHITESPACE"," ",144],["T_ARRAY","array",144],"(",")",")",";",["T_WHITESPACE","\n    ",144],["T_RETURN","return",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$hooks",145],";",["T_WHITESPACE","\n  ",145],"}",["T_WHITESPACE","\n\n  ",146],["T_DOC_COMMENT","\/**\n   * Installs a module and refreshes services.\n   *\n   * @param string $module\n   *   The module to install.\n   *\/",148],["T_WHITESPACE","\n  ",153],["T_PROTECTED","protected",154],["T_WHITESPACE"," ",154],["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],["T_STRING","installModule",154],"(",["T_VARIABLE","$module",154],")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","enableModules",155],"(",["T_ARRAY","array",155],"(",["T_VARIABLE","$module",155],")",")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","refreshServices",156],"(",")",";",["T_WHITESPACE","\n  ",156],"}",["T_WHITESPACE","\n\n  ",157],["T_DOC_COMMENT","\/**\n   * Uninstalls a module and refreshes services.\n   *\n   * @param string $module\n   *   The module to uninstall.\n   *\/",159],["T_WHITESPACE","\n  ",164],["T_PROTECTED","protected",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","uninstallModule",165],"(",["T_VARIABLE","$module",165],")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n    ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","disableModules",166],"(",["T_ARRAY","array",166],"(",["T_VARIABLE","$module",166],")",")",";",["T_WHITESPACE","\n    ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","refreshServices",167],"(",")",";",["T_WHITESPACE","\n  ",167],"}",["T_WHITESPACE","\n\n  ",168],["T_DOC_COMMENT","\/**\n   * Refresh services.\n   *\/",170],["T_WHITESPACE","\n  ",172],["T_PROTECTED","protected",173],["T_WHITESPACE"," ",173],["T_FUNCTION","function",173],["T_WHITESPACE"," ",173],["T_STRING","refreshServices",173],"(",")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n    ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","container",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Drupal",174],["T_DOUBLE_COLON","::",174],["T_STRING","getContainer",174],"(",")",";",["T_WHITESPACE","\n    ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","entityManager",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","container",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","get",175],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",175],")",";",["T_WHITESPACE","\n    ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","state",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","container",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","get",176],"(",["T_CONSTANT_ENCAPSED_STRING","'state'",176],")",";",["T_WHITESPACE","\n  ",176],"}",["T_WHITESPACE","\n\n  ",177],["T_DOC_COMMENT","\/**\n   * Generates a random ID avoiding collisions.\n   *\n   * @param bool $string\n   *   (optional) Whether the id should have string type. Defaults to FALSE.\n   *\n   * @return int|string\n   *   The entity identifier.\n   *\/",179],["T_WHITESPACE","\n  ",187],["T_PROTECTED","protected",188],["T_WHITESPACE"," ",188],["T_FUNCTION","function",188],["T_WHITESPACE"," ",188],["T_STRING","generateRandomEntityId",188],"(",["T_VARIABLE","$string",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_STRING","FALSE",188],")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n    ",188],["T_STRING","srand",189],"(",["T_STRING","time",189],"(",")",")",";",["T_WHITESPACE","\n    ",189],["T_DO","do",190],["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n      ",190],["T_COMMENT","\/\/ 0x7FFFFFFF is the maximum allowed value for integers that works for all\n",191],["T_WHITESPACE","      ",192],["T_COMMENT","\/\/ Drupal supported databases and is known to work for other databases\n",192],["T_WHITESPACE","      ",193],["T_COMMENT","\/\/ like SQL Server 2014 and Oracle 10 too.\n",193],["T_WHITESPACE","      ",194],["T_VARIABLE","$id",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$string",194],["T_WHITESPACE"," ",194],"?",["T_WHITESPACE"," ",194],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","randomMachineName",194],"(",")",["T_WHITESPACE"," ",194],":",["T_WHITESPACE"," ",194],["T_STRING","mt_rand",194],"(",["T_LNUMBER","1",194],",",["T_WHITESPACE"," ",194],["T_LNUMBER","0x7FFFFFFF",194],")",";",["T_WHITESPACE","\n    ",194],"}",["T_WHITESPACE"," ",195],["T_WHILE","while",195],["T_WHITESPACE"," ",195],"(",["T_ISSET","isset",195],"(",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","generatedIds",195],"[",["T_VARIABLE","$id",195],"]",")",")",";",["T_WHITESPACE","\n    ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","generatedIds",196],"[",["T_VARIABLE","$id",196],"]",["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$id",196],";",["T_WHITESPACE","\n    ",196],["T_RETURN","return",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$id",197],";",["T_WHITESPACE","\n  ",197],"}",["T_WHITESPACE","\n\n",198],"}",["T_WHITESPACE","\n",200]]