[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","system",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Batch",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Url",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","simpletest",6],["T_NS_SEPARATOR","\\",6],["T_STRING","WebTestBase",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests batch processing in form and non-form workflow.\n *\n * @group Batch\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","ProcessingTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","WebTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PUBLIC","public",20],["T_WHITESPACE"," ",20],["T_STATIC","static",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$modules",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_ARRAY","array",20],"(",["T_CONSTANT_ENCAPSED_STRING","'batch_test'",20],",",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'test_page_test'",20],")",";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * Tests batches triggered outside of form submission.\n   *\/",22],["T_WHITESPACE","\n  ",24],["T_FUNCTION","function",25],["T_WHITESPACE"," ",25],["T_STRING","testBatchNoForm",25],"(",")",["T_WHITESPACE"," ",25],"{",["T_WHITESPACE","\n    ",25],["T_COMMENT","\/\/ Displaying the page triggers batch 1.\n",26],["T_WHITESPACE","    ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","drupalGet",27],"(",["T_CONSTANT_ENCAPSED_STRING","'batch-test\/no-form'",27],")",";",["T_WHITESPACE","\n    ",27],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","assertBatchMessages",28],"(",["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","_resultMessages",28],"(",["T_CONSTANT_ENCAPSED_STRING","'batch_1'",28],")",",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'Batch for step 2 performed successfully.'",28],")",";",["T_WHITESPACE","\n    ",28],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","assertEqual",29],"(",["T_STRING","batch_test_stack",29],"(",")",",",["T_WHITESPACE"," ",29],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","_resultStack",29],"(",["T_CONSTANT_ENCAPSED_STRING","'batch_1'",29],")",",",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'Execution order was correct.'",29],")",";",["T_WHITESPACE","\n    ",29],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","assertText",30],"(",["T_CONSTANT_ENCAPSED_STRING","'Redirection successful.'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'Redirection after batch execution is correct.'",30],")",";",["T_WHITESPACE","\n  ",30],"}",["T_WHITESPACE","\n\n  ",31],["T_DOC_COMMENT","\/**\n   * Tests batches that redirect in the batch finished callback.\n   *\/",33],["T_WHITESPACE","\n  ",35],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","testBatchRedirectFinishedCallback",36],"(",")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n    ",36],["T_COMMENT","\/\/ Displaying the page triggers batch 1.\n",37],["T_WHITESPACE","    ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","drupalGet",38],"(",["T_CONSTANT_ENCAPSED_STRING","'batch-test\/finish-redirect'",38],")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","assertBatchMessages",39],"(",["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","_resultMessages",39],"(",["T_CONSTANT_ENCAPSED_STRING","'batch_1'",39],")",",",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'Batch for step 2 performed successfully.'",39],")",";",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","assertEqual",40],"(",["T_STRING","batch_test_stack",40],"(",")",",",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","_resultStack",40],"(",["T_CONSTANT_ENCAPSED_STRING","'batch_1'",40],")",",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'Execution order was correct.'",40],")",";",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","assertText",41],"(",["T_CONSTANT_ENCAPSED_STRING","'Test page text.'",41],",",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'Custom redirection after batch execution displays the correct page.'",41],")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","assertUrl",42],"(",["T_STRING","Url",42],["T_DOUBLE_COLON","::",42],["T_STRING","fromRoute",42],"(",["T_CONSTANT_ENCAPSED_STRING","'test_page_test.test_page'",42],")",")",";",["T_WHITESPACE","\n  ",42],"}",["T_WHITESPACE","\n\n  ",43],["T_DOC_COMMENT","\/**\n   * Tests batches defined in a form submit handler.\n   *\/",45],["T_WHITESPACE","\n  ",47],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","testBatchForm",48],"(",")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n    ",48],["T_COMMENT","\/\/ Batch 0: no operation.\n",49],["T_WHITESPACE","    ",50],["T_VARIABLE","$edit",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_ARRAY","array",50],"(",["T_CONSTANT_ENCAPSED_STRING","'batch'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'batch_0'",50],")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","drupalPostForm",51],"(",["T_CONSTANT_ENCAPSED_STRING","'batch-test'",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$edit",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'Submit'",51],")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","assertNoEscaped",52],"(",["T_CONSTANT_ENCAPSED_STRING","'<'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'No escaped markup is present.'",52],")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","assertBatchMessages",53],"(",["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","_resultMessages",53],"(",["T_CONSTANT_ENCAPSED_STRING","'batch_0'",53],")",",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'Batch with no operation performed successfully.'",53],")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertText",54],"(",["T_CONSTANT_ENCAPSED_STRING","'Redirection successful.'",54],",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'Redirection after batch execution is correct.'",54],")",";",["T_WHITESPACE","\n\n    ",54],["T_COMMENT","\/\/ Batch 1: several simple operations.\n",56],["T_WHITESPACE","    ",57],["T_VARIABLE","$edit",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_ARRAY","array",57],"(",["T_CONSTANT_ENCAPSED_STRING","'batch'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'batch_1'",57],")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","drupalPostForm",58],"(",["T_CONSTANT_ENCAPSED_STRING","'batch-test'",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$edit",58],",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'Submit'",58],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","assertNoEscaped",59],"(",["T_CONSTANT_ENCAPSED_STRING","'<'",59],",",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'No escaped markup is present.'",59],")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertBatchMessages",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","_resultMessages",60],"(",["T_CONSTANT_ENCAPSED_STRING","'batch_1'",60],")",",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'Batch with simple operations performed successfully.'",60],")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","assertEqual",61],"(",["T_STRING","batch_test_stack",61],"(",")",",",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","_resultStack",61],"(",["T_CONSTANT_ENCAPSED_STRING","'batch_1'",61],")",",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'Execution order was correct.'",61],")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertText",62],"(",["T_CONSTANT_ENCAPSED_STRING","'Redirection successful.'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'Redirection after batch execution is correct.'",62],")",";",["T_WHITESPACE","\n\n    ",62],["T_COMMENT","\/\/ Batch 2: one multistep operation.\n",64],["T_WHITESPACE","    ",65],["T_VARIABLE","$edit",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_ARRAY","array",65],"(",["T_CONSTANT_ENCAPSED_STRING","'batch'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'batch_2'",65],")",";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","drupalPostForm",66],"(",["T_CONSTANT_ENCAPSED_STRING","'batch-test'",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$edit",66],",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'Submit'",66],")",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","assertNoEscaped",67],"(",["T_CONSTANT_ENCAPSED_STRING","'<'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'No escaped markup is present.'",67],")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","assertBatchMessages",68],"(",["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","_resultMessages",68],"(",["T_CONSTANT_ENCAPSED_STRING","'batch_2'",68],")",",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'Batch with multistep operation performed successfully.'",68],")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertEqual",69],"(",["T_STRING","batch_test_stack",69],"(",")",",",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","_resultStack",69],"(",["T_CONSTANT_ENCAPSED_STRING","'batch_2'",69],")",",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'Execution order was correct.'",69],")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertText",70],"(",["T_CONSTANT_ENCAPSED_STRING","'Redirection successful.'",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'Redirection after batch execution is correct.'",70],")",";",["T_WHITESPACE","\n\n    ",70],["T_COMMENT","\/\/ Batch 3: simple + multistep combined.\n",72],["T_WHITESPACE","    ",73],["T_VARIABLE","$edit",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_ARRAY","array",73],"(",["T_CONSTANT_ENCAPSED_STRING","'batch'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'batch_3'",73],")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","drupalPostForm",74],"(",["T_CONSTANT_ENCAPSED_STRING","'batch-test'",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$edit",74],",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'Submit'",74],")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertNoEscaped",75],"(",["T_CONSTANT_ENCAPSED_STRING","'<'",75],",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'No escaped markup is present.'",75],")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","assertBatchMessages",76],"(",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","_resultMessages",76],"(",["T_CONSTANT_ENCAPSED_STRING","'batch_3'",76],")",",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'Batch with simple and multistep operations performed successfully.'",76],")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assertEqual",77],"(",["T_STRING","batch_test_stack",77],"(",")",",",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_resultStack",77],"(",["T_CONSTANT_ENCAPSED_STRING","'batch_3'",77],")",",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'Execution order was correct.'",77],")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","assertText",78],"(",["T_CONSTANT_ENCAPSED_STRING","'Redirection successful.'",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'Redirection after batch execution is correct.'",78],")",";",["T_WHITESPACE","\n\n    ",78],["T_COMMENT","\/\/ Batch 4: nested batch.\n",80],["T_WHITESPACE","    ",81],["T_VARIABLE","$edit",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_ARRAY","array",81],"(",["T_CONSTANT_ENCAPSED_STRING","'batch'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'batch_4'",81],")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","drupalPostForm",82],"(",["T_CONSTANT_ENCAPSED_STRING","'batch-test'",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$edit",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'Submit'",82],")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertNoEscaped",83],"(",["T_CONSTANT_ENCAPSED_STRING","'<'",83],",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'No escaped markup is present.'",83],")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertBatchMessages",84],"(",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","_resultMessages",84],"(",["T_CONSTANT_ENCAPSED_STRING","'batch_4'",84],")",",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'Nested batch performed successfully.'",84],")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertEqual",85],"(",["T_STRING","batch_test_stack",85],"(",")",",",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_resultStack",85],"(",["T_CONSTANT_ENCAPSED_STRING","'batch_4'",85],")",",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'Execution order was correct.'",85],")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertText",86],"(",["T_CONSTANT_ENCAPSED_STRING","'Redirection successful.'",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'Redirection after batch execution is correct.'",86],")",";",["T_WHITESPACE","\n  ",86],"}",["T_WHITESPACE","\n\n  ",87],["T_DOC_COMMENT","\/**\n   * Tests batches defined in a multistep form.\n   *\/",89],["T_WHITESPACE","\n  ",91],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","testBatchFormMultistep",92],"(",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","drupalGet",93],"(",["T_CONSTANT_ENCAPSED_STRING","'batch-test\/multistep'",93],")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertNoEscaped",94],"(",["T_CONSTANT_ENCAPSED_STRING","'<'",94],",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'No escaped markup is present.'",94],")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertText",95],"(",["T_CONSTANT_ENCAPSED_STRING","'step 1'",95],",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'Form is displayed in step 1.'",95],")",";",["T_WHITESPACE","\n\n    ",95],["T_COMMENT","\/\/ First step triggers batch 1.\n",97],["T_WHITESPACE","    ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","drupalPostForm",98],"(",["T_STRING","NULL",98],",",["T_WHITESPACE"," ",98],["T_ARRAY","array",98],"(",")",",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'Submit'",98],")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","assertBatchMessages",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","_resultMessages",99],"(",["T_CONSTANT_ENCAPSED_STRING","'batch_1'",99],")",",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'Batch for step 1 performed successfully.'",99],")",";",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertEqual",100],"(",["T_STRING","batch_test_stack",100],"(",")",",",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","_resultStack",100],"(",["T_CONSTANT_ENCAPSED_STRING","'batch_1'",100],")",",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'Execution order was correct.'",100],")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertText",101],"(",["T_CONSTANT_ENCAPSED_STRING","'step 2'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'Form is displayed in step 2.'",101],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","assertNoEscaped",102],"(",["T_CONSTANT_ENCAPSED_STRING","'<'",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'No escaped markup is present.'",102],")",";",["T_WHITESPACE","\n\n    ",102],["T_COMMENT","\/\/ Second step triggers batch 2.\n",104],["T_WHITESPACE","    ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","drupalPostForm",105],"(",["T_STRING","NULL",105],",",["T_WHITESPACE"," ",105],["T_ARRAY","array",105],"(",")",",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'Submit'",105],")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertBatchMessages",106],"(",["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","_resultMessages",106],"(",["T_CONSTANT_ENCAPSED_STRING","'batch_2'",106],")",",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'Batch for step 2 performed successfully.'",106],")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertEqual",107],"(",["T_STRING","batch_test_stack",107],"(",")",",",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","_resultStack",107],"(",["T_CONSTANT_ENCAPSED_STRING","'batch_2'",107],")",",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'Execution order was correct.'",107],")",";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","assertText",108],"(",["T_CONSTANT_ENCAPSED_STRING","'Redirection successful.'",108],",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'Redirection after batch execution is correct.'",108],")",";",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertNoEscaped",109],"(",["T_CONSTANT_ENCAPSED_STRING","'<'",109],",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'No escaped markup is present.'",109],")",";",["T_WHITESPACE","\n  ",109],"}",["T_WHITESPACE","\n\n  ",110],["T_DOC_COMMENT","\/**\n   * Tests batches defined in different submit handlers on the same form.\n   *\/",112],["T_WHITESPACE","\n  ",114],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","testBatchFormMultipleBatches",115],"(",")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n    ",115],["T_COMMENT","\/\/ Batches 1, 2 and 3 are triggered in sequence by different submit\n",116],["T_WHITESPACE","    ",117],["T_COMMENT","\/\/ handlers. Each submit handler modify the submitted 'value'.\n",117],["T_WHITESPACE","    ",118],["T_VARIABLE","$value",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","rand",118],"(",["T_LNUMBER","0",118],",",["T_WHITESPACE"," ",118],["T_LNUMBER","255",118],")",";",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$edit",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$value",119],")",";",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","drupalPostForm",120],"(",["T_CONSTANT_ENCAPSED_STRING","'batch-test\/chained'",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$edit",120],",",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'Submit'",120],")",";",["T_WHITESPACE","\n    ",120],["T_COMMENT","\/\/ Check that result messages are present and in the correct order.\n",121],["T_WHITESPACE","    ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertBatchMessages",122],"(",["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_resultMessages",122],"(",["T_CONSTANT_ENCAPSED_STRING","'chained'",122],")",",",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'Batches defined in separate submit handlers performed successfully.'",122],")",";",["T_WHITESPACE","\n    ",122],["T_COMMENT","\/\/ The stack contains execution order of batch callbacks and submit\n",123],["T_WHITESPACE","    ",124],["T_COMMENT","\/\/ handlers and logging of corresponding $form_state->getValues().\n",124],["T_WHITESPACE","    ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertEqual",125],"(",["T_STRING","batch_test_stack",125],"(",")",",",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_resultStack",125],"(",["T_CONSTANT_ENCAPSED_STRING","'chained'",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$value",125],")",",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'Execution order was correct, and $form_state is correctly persisted.'",125],")",";",["T_WHITESPACE","\n    ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","assertText",126],"(",["T_CONSTANT_ENCAPSED_STRING","'Redirection successful.'",126],",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'Redirection after batch execution is correct.'",126],")",";",["T_WHITESPACE","\n  ",126],"}",["T_WHITESPACE","\n\n  ",127],["T_DOC_COMMENT","\/**\n   * Tests batches defined in a programmatically submitted form.\n   *\n   * Same as above, but the form is submitted through drupal_form_execute().\n   *\/",129],["T_WHITESPACE","\n  ",133],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","testBatchFormProgrammatic",134],"(",")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n    ",134],["T_COMMENT","\/\/ Batches 1, 2 and 3 are triggered in sequence by different submit\n",135],["T_WHITESPACE","    ",136],["T_COMMENT","\/\/ handlers. Each submit handler modify the submitted 'value'.\n",136],["T_WHITESPACE","    ",137],["T_VARIABLE","$value",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_STRING","rand",137],"(",["T_LNUMBER","0",137],",",["T_WHITESPACE"," ",137],["T_LNUMBER","255",137],")",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","drupalGet",138],"(",["T_CONSTANT_ENCAPSED_STRING","'batch-test\/programmatic\/'",138],["T_WHITESPACE"," ",138],".",["T_WHITESPACE"," ",138],["T_VARIABLE","$value",138],")",";",["T_WHITESPACE","\n    ",138],["T_COMMENT","\/\/ Check that result messages are present and in the correct order.\n",139],["T_WHITESPACE","    ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","assertBatchMessages",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_resultMessages",140],"(",["T_CONSTANT_ENCAPSED_STRING","'chained'",140],")",",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'Batches defined in separate submit handlers performed successfully.'",140],")",";",["T_WHITESPACE","\n    ",140],["T_COMMENT","\/\/ The stack contains execution order of batch callbacks and submit\n",141],["T_WHITESPACE","    ",142],["T_COMMENT","\/\/ handlers and logging of corresponding $form_state->getValues().\n",142],["T_WHITESPACE","    ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","assertEqual",143],"(",["T_STRING","batch_test_stack",143],"(",")",",",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_resultStack",143],"(",["T_CONSTANT_ENCAPSED_STRING","'chained'",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$value",143],")",",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'Execution order was correct, and $form_state is correctly persisted.'",143],")",";",["T_WHITESPACE","\n    ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","assertText",144],"(",["T_CONSTANT_ENCAPSED_STRING","'Got out of a programmatic batched form.'",144],",",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'Page execution continues normally.'",144],")",";",["T_WHITESPACE","\n  ",144],"}",["T_WHITESPACE","\n\n  ",145],["T_DOC_COMMENT","\/**\n   * Test form submission during a batch operation.\n   *\/",147],["T_WHITESPACE","\n  ",149],["T_FUNCTION","function",150],["T_WHITESPACE"," ",150],["T_STRING","testDrupalFormSubmitInBatch",150],"(",")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n    ",150],["T_COMMENT","\/\/ Displaying the page triggers a batch that programmatically submits a\n",151],["T_WHITESPACE","    ",152],["T_COMMENT","\/\/ form.\n",152],["T_WHITESPACE","    ",153],["T_VARIABLE","$value",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_STRING","rand",153],"(",["T_LNUMBER","0",153],",",["T_WHITESPACE"," ",153],["T_LNUMBER","255",153],")",";",["T_WHITESPACE","\n    ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","drupalGet",154],"(",["T_CONSTANT_ENCAPSED_STRING","'batch-test\/nested-programmatic\/'",154],["T_WHITESPACE"," ",154],".",["T_WHITESPACE"," ",154],["T_VARIABLE","$value",154],")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","assertEqual",155],"(",["T_STRING","batch_test_stack",155],"(",")",",",["T_WHITESPACE"," ",155],["T_ARRAY","array",155],"(",["T_CONSTANT_ENCAPSED_STRING","'mock form submitted with value = '",155],["T_WHITESPACE"," ",155],".",["T_WHITESPACE"," ",155],["T_VARIABLE","$value",155],")",",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'\\Drupal::formBuilder()->submitForm() ran successfully within a batch operation.'",155],")",";",["T_WHITESPACE","\n  ",155],"}",["T_WHITESPACE","\n\n  ",156],["T_DOC_COMMENT","\/**\n   * Tests batches that return $context['finished'] > 1 do in fact complete.\n   *\n   * @see https:\/\/www.drupal.org\/node\/600836\n   *\/",158],["T_WHITESPACE","\n  ",162],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","testBatchLargePercentage",163],"(",")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n    ",163],["T_COMMENT","\/\/ Displaying the page triggers batch 5.\n",164],["T_WHITESPACE","    ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","drupalGet",165],"(",["T_CONSTANT_ENCAPSED_STRING","'batch-test\/large-percentage'",165],")",";",["T_WHITESPACE","\n    ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","assertBatchMessages",166],"(",["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","_resultMessages",166],"(",["T_CONSTANT_ENCAPSED_STRING","'batch_5'",166],")",",",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'Batch for step 2 performed successfully.'",166],")",";",["T_WHITESPACE","\n    ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","assertEqual",167],"(",["T_STRING","batch_test_stack",167],"(",")",",",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","_resultStack",167],"(",["T_CONSTANT_ENCAPSED_STRING","'batch_5'",167],")",",",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'Execution order was correct.'",167],")",";",["T_WHITESPACE","\n    ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","assertText",168],"(",["T_CONSTANT_ENCAPSED_STRING","'Redirection successful.'",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'Redirection after batch execution is correct.'",168],")",";",["T_WHITESPACE","\n  ",168],"}",["T_WHITESPACE","\n\n\n  ",169],["T_DOC_COMMENT","\/**\n   * Triggers a pass if the texts were found in order in the raw content.\n   *\n   * @param $texts\n   *   Array of raw strings to look for .\n   * @param $message\n   *   Message to display.\n   *\n   * @return\n   *   TRUE on pass, FALSE on fail.\n   *\/",172],["T_WHITESPACE","\n  ",182],["T_FUNCTION","function",183],["T_WHITESPACE"," ",183],["T_STRING","assertBatchMessages",183],"(",["T_VARIABLE","$texts",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$message",183],")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n    ",183],["T_VARIABLE","$pattern",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'|'",184],["T_WHITESPACE"," ",184],".",["T_WHITESPACE"," ",184],["T_STRING","implode",184],"(",["T_CONSTANT_ENCAPSED_STRING","'.*'",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$texts",184],")",["T_WHITESPACE"," ",184],".",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'|s'",184],";",["T_WHITESPACE","\n    ",184],["T_RETURN","return",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","assertPattern",185],"(",["T_VARIABLE","$pattern",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$message",185],")",";",["T_WHITESPACE","\n  ",185],"}",["T_WHITESPACE","\n\n  ",186],["T_DOC_COMMENT","\/**\n   * Returns expected execution stacks for the test batches.\n   *\/",188],["T_WHITESPACE","\n  ",190],["T_FUNCTION","function",191],["T_WHITESPACE"," ",191],["T_STRING","_resultStack",191],"(",["T_VARIABLE","$id",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$value",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_LNUMBER","0",191],")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n    ",191],["T_VARIABLE","$stack",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_ARRAY","array",192],"(",")",";",["T_WHITESPACE","\n    ",192],["T_SWITCH","switch",193],["T_WHITESPACE"," ",193],"(",["T_VARIABLE","$id",193],")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n      ",193],["T_CASE","case",194],["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'batch_1'",194],":",["T_WHITESPACE","\n        ",194],["T_FOR","for",195],["T_WHITESPACE"," ",195],"(",["T_VARIABLE","$i",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_LNUMBER","1",195],";",["T_WHITESPACE"," ",195],["T_VARIABLE","$i",195],["T_WHITESPACE"," ",195],["T_IS_SMALLER_OR_EQUAL","<=",195],["T_WHITESPACE"," ",195],["T_LNUMBER","10",195],";",["T_WHITESPACE"," ",195],["T_VARIABLE","$i",195],["T_INC","++",195],")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n          ",195],["T_VARIABLE","$stack",196],"[","]",["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],"\"",["T_ENCAPSED_AND_WHITESPACE","op 1 id ",196],["T_VARIABLE","$i",196],"\"",";",["T_WHITESPACE","\n        ",196],"}",["T_WHITESPACE","\n        ",197],["T_BREAK","break",198],";",["T_WHITESPACE","\n\n      ",198],["T_CASE","case",200],["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'batch_2'",200],":",["T_WHITESPACE","\n        ",200],["T_FOR","for",201],["T_WHITESPACE"," ",201],"(",["T_VARIABLE","$i",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_LNUMBER","1",201],";",["T_WHITESPACE"," ",201],["T_VARIABLE","$i",201],["T_WHITESPACE"," ",201],["T_IS_SMALLER_OR_EQUAL","<=",201],["T_WHITESPACE"," ",201],["T_LNUMBER","10",201],";",["T_WHITESPACE"," ",201],["T_VARIABLE","$i",201],["T_INC","++",201],")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n          ",201],["T_VARIABLE","$stack",202],"[","]",["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],"\"",["T_ENCAPSED_AND_WHITESPACE","op 2 id ",202],["T_VARIABLE","$i",202],"\"",";",["T_WHITESPACE","\n        ",202],"}",["T_WHITESPACE","\n        ",203],["T_BREAK","break",204],";",["T_WHITESPACE","\n\n      ",204],["T_CASE","case",206],["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'batch_3'",206],":",["T_WHITESPACE","\n        ",206],["T_FOR","for",207],["T_WHITESPACE"," ",207],"(",["T_VARIABLE","$i",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_LNUMBER","1",207],";",["T_WHITESPACE"," ",207],["T_VARIABLE","$i",207],["T_WHITESPACE"," ",207],["T_IS_SMALLER_OR_EQUAL","<=",207],["T_WHITESPACE"," ",207],["T_LNUMBER","5",207],";",["T_WHITESPACE"," ",207],["T_VARIABLE","$i",207],["T_INC","++",207],")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n          ",207],["T_VARIABLE","$stack",208],"[","]",["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],"\"",["T_ENCAPSED_AND_WHITESPACE","op 1 id ",208],["T_VARIABLE","$i",208],"\"",";",["T_WHITESPACE","\n        ",208],"}",["T_WHITESPACE","\n        ",209],["T_FOR","for",210],["T_WHITESPACE"," ",210],"(",["T_VARIABLE","$i",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_LNUMBER","1",210],";",["T_WHITESPACE"," ",210],["T_VARIABLE","$i",210],["T_WHITESPACE"," ",210],["T_IS_SMALLER_OR_EQUAL","<=",210],["T_WHITESPACE"," ",210],["T_LNUMBER","5",210],";",["T_WHITESPACE"," ",210],["T_VARIABLE","$i",210],["T_INC","++",210],")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n          ",210],["T_VARIABLE","$stack",211],"[","]",["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],"\"",["T_ENCAPSED_AND_WHITESPACE","op 2 id ",211],["T_VARIABLE","$i",211],"\"",";",["T_WHITESPACE","\n        ",211],"}",["T_WHITESPACE","\n        ",212],["T_FOR","for",213],["T_WHITESPACE"," ",213],"(",["T_VARIABLE","$i",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_LNUMBER","6",213],";",["T_WHITESPACE"," ",213],["T_VARIABLE","$i",213],["T_WHITESPACE"," ",213],["T_IS_SMALLER_OR_EQUAL","<=",213],["T_WHITESPACE"," ",213],["T_LNUMBER","10",213],";",["T_WHITESPACE"," ",213],["T_VARIABLE","$i",213],["T_INC","++",213],")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n          ",213],["T_VARIABLE","$stack",214],"[","]",["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],"\"",["T_ENCAPSED_AND_WHITESPACE","op 1 id ",214],["T_VARIABLE","$i",214],"\"",";",["T_WHITESPACE","\n        ",214],"}",["T_WHITESPACE","\n        ",215],["T_FOR","for",216],["T_WHITESPACE"," ",216],"(",["T_VARIABLE","$i",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_LNUMBER","6",216],";",["T_WHITESPACE"," ",216],["T_VARIABLE","$i",216],["T_WHITESPACE"," ",216],["T_IS_SMALLER_OR_EQUAL","<=",216],["T_WHITESPACE"," ",216],["T_LNUMBER","10",216],";",["T_WHITESPACE"," ",216],["T_VARIABLE","$i",216],["T_INC","++",216],")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n          ",216],["T_VARIABLE","$stack",217],"[","]",["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],"\"",["T_ENCAPSED_AND_WHITESPACE","op 2 id ",217],["T_VARIABLE","$i",217],"\"",";",["T_WHITESPACE","\n        ",217],"}",["T_WHITESPACE","\n        ",218],["T_BREAK","break",219],";",["T_WHITESPACE","\n\n      ",219],["T_CASE","case",221],["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'batch_4'",221],":",["T_WHITESPACE","\n        ",221],["T_FOR","for",222],["T_WHITESPACE"," ",222],"(",["T_VARIABLE","$i",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_LNUMBER","1",222],";",["T_WHITESPACE"," ",222],["T_VARIABLE","$i",222],["T_WHITESPACE"," ",222],["T_IS_SMALLER_OR_EQUAL","<=",222],["T_WHITESPACE"," ",222],["T_LNUMBER","5",222],";",["T_WHITESPACE"," ",222],["T_VARIABLE","$i",222],["T_INC","++",222],")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n          ",222],["T_VARIABLE","$stack",223],"[","]",["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],"\"",["T_ENCAPSED_AND_WHITESPACE","op 1 id ",223],["T_VARIABLE","$i",223],"\"",";",["T_WHITESPACE","\n        ",223],"}",["T_WHITESPACE","\n        ",224],["T_VARIABLE","$stack",225],"[","]",["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","'setting up batch 2'",225],";",["T_WHITESPACE","\n        ",225],["T_FOR","for",226],["T_WHITESPACE"," ",226],"(",["T_VARIABLE","$i",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_LNUMBER","6",226],";",["T_WHITESPACE"," ",226],["T_VARIABLE","$i",226],["T_WHITESPACE"," ",226],["T_IS_SMALLER_OR_EQUAL","<=",226],["T_WHITESPACE"," ",226],["T_LNUMBER","10",226],";",["T_WHITESPACE"," ",226],["T_VARIABLE","$i",226],["T_INC","++",226],")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n          ",226],["T_VARIABLE","$stack",227],"[","]",["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],"\"",["T_ENCAPSED_AND_WHITESPACE","op 1 id ",227],["T_VARIABLE","$i",227],"\"",";",["T_WHITESPACE","\n        ",227],"}",["T_WHITESPACE","\n        ",228],["T_VARIABLE","$stack",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_STRING","array_merge",229],"(",["T_VARIABLE","$stack",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","_resultStack",229],"(",["T_CONSTANT_ENCAPSED_STRING","'batch_2'",229],")",")",";",["T_WHITESPACE","\n        ",229],["T_BREAK","break",230],";",["T_WHITESPACE","\n\n      ",230],["T_CASE","case",232],["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'batch_5'",232],":",["T_WHITESPACE","\n        ",232],["T_FOR","for",233],["T_WHITESPACE"," ",233],"(",["T_VARIABLE","$i",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_LNUMBER","1",233],";",["T_WHITESPACE"," ",233],["T_VARIABLE","$i",233],["T_WHITESPACE"," ",233],["T_IS_SMALLER_OR_EQUAL","<=",233],["T_WHITESPACE"," ",233],["T_LNUMBER","10",233],";",["T_WHITESPACE"," ",233],["T_VARIABLE","$i",233],["T_INC","++",233],")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n          ",233],["T_VARIABLE","$stack",234],"[","]",["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],"\"",["T_ENCAPSED_AND_WHITESPACE","op 5 id ",234],["T_VARIABLE","$i",234],"\"",";",["T_WHITESPACE","\n        ",234],"}",["T_WHITESPACE","\n        ",235],["T_BREAK","break",236],";",["T_WHITESPACE","\n\n      ",236],["T_CASE","case",238],["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","'chained'",238],":",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$stack",239],"[","]",["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'submit handler 1'",239],";",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$stack",240],"[","]",["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'value = '",240],["T_WHITESPACE"," ",240],".",["T_WHITESPACE"," ",240],["T_VARIABLE","$value",240],";",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$stack",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_STRING","array_merge",241],"(",["T_VARIABLE","$stack",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","_resultStack",241],"(",["T_CONSTANT_ENCAPSED_STRING","'batch_1'",241],")",")",";",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$stack",242],"[","]",["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","'submit handler 2'",242],";",["T_WHITESPACE","\n        ",242],["T_VARIABLE","$stack",243],"[","]",["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'value = '",243],["T_WHITESPACE"," ",243],".",["T_WHITESPACE"," ",243],"(",["T_VARIABLE","$value",243],["T_WHITESPACE"," ",243],"+",["T_WHITESPACE"," ",243],["T_LNUMBER","1",243],")",";",["T_WHITESPACE","\n        ",243],["T_VARIABLE","$stack",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_STRING","array_merge",244],"(",["T_VARIABLE","$stack",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","_resultStack",244],"(",["T_CONSTANT_ENCAPSED_STRING","'batch_2'",244],")",")",";",["T_WHITESPACE","\n        ",244],["T_VARIABLE","$stack",245],"[","]",["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","'submit handler 3'",245],";",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$stack",246],"[","]",["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'value = '",246],["T_WHITESPACE"," ",246],".",["T_WHITESPACE"," ",246],"(",["T_VARIABLE","$value",246],["T_WHITESPACE"," ",246],"+",["T_WHITESPACE"," ",246],["T_LNUMBER","2",246],")",";",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$stack",247],"[","]",["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","'submit handler 4'",247],";",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$stack",248],"[","]",["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'value = '",248],["T_WHITESPACE"," ",248],".",["T_WHITESPACE"," ",248],"(",["T_VARIABLE","$value",248],["T_WHITESPACE"," ",248],"+",["T_WHITESPACE"," ",248],["T_LNUMBER","3",248],")",";",["T_WHITESPACE","\n        ",248],["T_VARIABLE","$stack",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_STRING","array_merge",249],"(",["T_VARIABLE","$stack",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","_resultStack",249],"(",["T_CONSTANT_ENCAPSED_STRING","'batch_3'",249],")",")",";",["T_WHITESPACE","\n        ",249],["T_BREAK","break",250],";",["T_WHITESPACE","\n    ",250],"}",["T_WHITESPACE","\n    ",251],["T_RETURN","return",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$stack",252],";",["T_WHITESPACE","\n  ",252],"}",["T_WHITESPACE","\n\n  ",253],["T_DOC_COMMENT","\/**\n   * Returns expected result messages for the test batches.\n   *\/",255],["T_WHITESPACE","\n  ",257],["T_FUNCTION","function",258],["T_WHITESPACE"," ",258],["T_STRING","_resultMessages",258],"(",["T_VARIABLE","$id",258],")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n    ",258],["T_VARIABLE","$messages",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_ARRAY","array",259],"(",")",";",["T_WHITESPACE","\n\n    ",259],["T_SWITCH","switch",261],["T_WHITESPACE"," ",261],"(",["T_VARIABLE","$id",261],")",["T_WHITESPACE"," ",261],"{",["T_WHITESPACE","\n      ",261],["T_CASE","case",262],["T_WHITESPACE"," ",262],["T_CONSTANT_ENCAPSED_STRING","'batch_0'",262],":",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$messages",263],"[","]",["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","'results for batch 0<div class=\"item-list\"><ul><li>none<\/li><\/ul><\/div>'",263],";",["T_WHITESPACE","\n        ",263],["T_BREAK","break",264],";",["T_WHITESPACE","\n\n      ",264],["T_CASE","case",266],["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","'batch_1'",266],":",["T_WHITESPACE","\n        ",266],["T_VARIABLE","$messages",267],"[","]",["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","'results for batch 1<div class=\"item-list\"><ul><li>op 1: processed 10 elements<\/li><\/ul><\/div>'",267],";",["T_WHITESPACE","\n        ",267],["T_BREAK","break",268],";",["T_WHITESPACE","\n\n      ",268],["T_CASE","case",270],["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'batch_2'",270],":",["T_WHITESPACE","\n        ",270],["T_VARIABLE","$messages",271],"[","]",["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","'results for batch 2<div class=\"item-list\"><ul><li>op 2: processed 10 elements<\/li><\/ul><\/div>'",271],";",["T_WHITESPACE","\n        ",271],["T_BREAK","break",272],";",["T_WHITESPACE","\n\n      ",272],["T_CASE","case",274],["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'batch_3'",274],":",["T_WHITESPACE","\n        ",274],["T_VARIABLE","$messages",275],"[","]",["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'results for batch 3<div class=\"item-list\"><ul><li>op 1: processed 10 elements<\/li><li>op 2: processed 10 elements<\/li><\/ul><\/div>'",275],";",["T_WHITESPACE","\n        ",275],["T_BREAK","break",276],";",["T_WHITESPACE","\n\n      ",276],["T_CASE","case",278],["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'batch_4'",278],":",["T_WHITESPACE","\n        ",278],["T_VARIABLE","$messages",279],"[","]",["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'results for batch 4<div class=\"item-list\"><ul><li>op 1: processed 10 elements<\/li><\/ul><\/div>'",279],";",["T_WHITESPACE","\n        ",279],["T_VARIABLE","$messages",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_STRING","array_merge",280],"(",["T_VARIABLE","$messages",280],",",["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","_resultMessages",280],"(",["T_CONSTANT_ENCAPSED_STRING","'batch_2'",280],")",")",";",["T_WHITESPACE","\n        ",280],["T_BREAK","break",281],";",["T_WHITESPACE","\n\n      ",281],["T_CASE","case",283],["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","'batch_5'",283],":",["T_WHITESPACE","\n        ",283],["T_VARIABLE","$messages",284],"[","]",["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'results for batch 5<div class=\"item-list\"><ul><li>op 5: processed 10 elements<\/li><\/ul><\/div>'",284],";",["T_WHITESPACE","\n        ",284],["T_BREAK","break",285],";",["T_WHITESPACE","\n\n      ",285],["T_CASE","case",287],["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","'chained'",287],":",["T_WHITESPACE","\n        ",287],["T_VARIABLE","$messages",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_STRING","array_merge",288],"(",["T_VARIABLE","$messages",288],",",["T_WHITESPACE"," ",288],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","_resultMessages",288],"(",["T_CONSTANT_ENCAPSED_STRING","'batch_1'",288],")",")",";",["T_WHITESPACE","\n        ",288],["T_VARIABLE","$messages",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_STRING","array_merge",289],"(",["T_VARIABLE","$messages",289],",",["T_WHITESPACE"," ",289],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","_resultMessages",289],"(",["T_CONSTANT_ENCAPSED_STRING","'batch_2'",289],")",")",";",["T_WHITESPACE","\n        ",289],["T_VARIABLE","$messages",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_STRING","array_merge",290],"(",["T_VARIABLE","$messages",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","_resultMessages",290],"(",["T_CONSTANT_ENCAPSED_STRING","'batch_3'",290],")",")",";",["T_WHITESPACE","\n        ",290],["T_BREAK","break",291],";",["T_WHITESPACE","\n    ",291],"}",["T_WHITESPACE","\n    ",292],["T_RETURN","return",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$messages",293],";",["T_WHITESPACE","\n  ",293],"}",["T_WHITESPACE","\n\n",294],"}",["T_WHITESPACE","\n",296]]