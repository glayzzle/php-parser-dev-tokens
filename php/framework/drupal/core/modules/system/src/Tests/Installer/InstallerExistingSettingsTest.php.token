[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","system",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Installer",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","simpletest",5],["T_NS_SEPARATOR","\\",5],["T_STRING","InstallerTestBase",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Database",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Database",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","DrupalKernel",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Symfony",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Component",8],["T_NS_SEPARATOR","\\",8],["T_STRING","HttpFoundation",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Request",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Tests the installer with an existing settings file.\n *\n * @group Installer\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","InstallerExistingSettingsTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","InstallerTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\n   * Fully configures a preexisting settings.php file before invoking the\n   * interactive installer.\n   *\/",17],["T_WHITESPACE","\n  ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_FUNCTION","function",23],["T_WHITESPACE"," ",23],["T_STRING","setUp",23],"(",")",["T_WHITESPACE"," ",23],"{",["T_WHITESPACE","\n    ",23],["T_COMMENT","\/\/ Pre-configure hash salt.\n",24],["T_WHITESPACE","    ",25],["T_COMMENT","\/\/ Any string is valid, so simply use the class name of this test.\n",25],["T_WHITESPACE","    ",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","settings",26],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",26],"]","[",["T_CONSTANT_ENCAPSED_STRING","'hash_salt'",26],"]",["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_OBJECT_CAST","(object)",26],["T_WHITESPACE"," ",26],["T_ARRAY","array",26],"(",["T_WHITESPACE","\n      ",26],["T_CONSTANT_ENCAPSED_STRING","'value'",27],["T_WHITESPACE"," ",27],["T_DOUBLE_ARROW","=>",27],["T_WHITESPACE"," ",27],["T_CLASS_C","__CLASS__",27],",",["T_WHITESPACE","\n      ",27],["T_CONSTANT_ENCAPSED_STRING","'required'",28],["T_WHITESPACE"," ",28],["T_DOUBLE_ARROW","=>",28],["T_WHITESPACE"," ",28],["T_STRING","TRUE",28],",",["T_WHITESPACE","\n    ",28],")",";",["T_WHITESPACE","\n\n    ",29],["T_COMMENT","\/\/ During interactive install we'll change this to a different profile and\n",31],["T_WHITESPACE","    ",32],["T_COMMENT","\/\/ this test will ensure that the new value is written to settings.php.\n",32],["T_WHITESPACE","    ",33],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","settings",33],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",33],"]","[",["T_CONSTANT_ENCAPSED_STRING","'install_profile'",33],"]",["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_OBJECT_CAST","(object)",33],["T_WHITESPACE"," ",33],["T_ARRAY","array",33],"(",["T_WHITESPACE","\n      ",33],["T_CONSTANT_ENCAPSED_STRING","'value'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'minimal'",34],",",["T_WHITESPACE","\n      ",34],["T_CONSTANT_ENCAPSED_STRING","'required'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_STRING","TRUE",35],",",["T_WHITESPACE","\n    ",35],")",";",["T_WHITESPACE","\n\n    ",36],["T_COMMENT","\/\/ Pre-configure database credentials.\n",38],["T_WHITESPACE","    ",39],["T_VARIABLE","$connection_info",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","Database",39],["T_DOUBLE_COLON","::",39],["T_STRING","getConnectionInfo",39],"(",")",";",["T_WHITESPACE","\n    ",39],["T_UNSET","unset",40],"(",["T_VARIABLE","$connection_info",40],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",40],"]","[",["T_CONSTANT_ENCAPSED_STRING","'pdo'",40],"]",")",";",["T_WHITESPACE","\n    ",40],["T_UNSET","unset",41],"(",["T_VARIABLE","$connection_info",41],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",41],"]","[",["T_CONSTANT_ENCAPSED_STRING","'init_commands'",41],"]",")",";",["T_WHITESPACE","\n\n    ",41],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","settings",43],"[",["T_CONSTANT_ENCAPSED_STRING","'databases'",43],"]","[",["T_CONSTANT_ENCAPSED_STRING","'default'",43],"]",["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_OBJECT_CAST","(object)",43],["T_WHITESPACE"," ",43],["T_ARRAY","array",43],"(",["T_WHITESPACE","\n      ",43],["T_CONSTANT_ENCAPSED_STRING","'value'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$connection_info",44],",",["T_WHITESPACE","\n      ",44],["T_CONSTANT_ENCAPSED_STRING","'required'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_STRING","TRUE",45],",",["T_WHITESPACE","\n    ",45],")",";",["T_WHITESPACE","\n\n    ",46],["T_COMMENT","\/\/ Use the kernel to find the site path because the site.path service should\n",48],["T_WHITESPACE","    ",49],["T_COMMENT","\/\/ not be available at this point in the install process.\n",49],["T_WHITESPACE","    ",50],["T_VARIABLE","$site_path",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","DrupalKernel",50],["T_DOUBLE_COLON","::",50],["T_STRING","findSitePath",50],"(",["T_STRING","Request",50],["T_DOUBLE_COLON","::",50],["T_STRING","createFromGlobals",50],"(",")",")",";",["T_WHITESPACE","\n    ",50],["T_COMMENT","\/\/ Pre-configure config directories.\n",51],["T_WHITESPACE","    ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","settings",52],"[",["T_CONSTANT_ENCAPSED_STRING","'config_directories'",52],"]",["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_ARRAY","array",52],"(",["T_WHITESPACE","\n      ",52],["T_STRING","CONFIG_SYNC_DIRECTORY",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_OBJECT_CAST","(object)",53],["T_WHITESPACE"," ",53],["T_ARRAY","array",53],"(",["T_WHITESPACE","\n        ",53],["T_CONSTANT_ENCAPSED_STRING","'value'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$site_path",54],["T_WHITESPACE"," ",54],".",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'\/files\/config_sync'",54],",",["T_WHITESPACE","\n        ",54],["T_CONSTANT_ENCAPSED_STRING","'required'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_STRING","TRUE",55],",",["T_WHITESPACE","\n      ",55],")",",",["T_WHITESPACE","\n    ",56],")",";",["T_WHITESPACE","\n    ",57],["T_STRING","mkdir",58],"(",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","settings",58],"[",["T_CONSTANT_ENCAPSED_STRING","'config_directories'",58],"]","[",["T_STRING","CONFIG_SYNC_DIRECTORY",58],"]",["T_OBJECT_OPERATOR","->",58],["T_STRING","value",58],",",["T_WHITESPACE"," ",58],["T_LNUMBER","0777",58],",",["T_WHITESPACE"," ",58],["T_STRING","TRUE",58],")",";",["T_WHITESPACE","\n\n    ",58],["T_STRING","parent",60],["T_DOUBLE_COLON","::",60],["T_STRING","setUp",60],"(",")",";",["T_WHITESPACE","\n  ",60],"}",["T_WHITESPACE","\n\n  ",61],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",63],["T_WHITESPACE","\n  ",65],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","setUpSettings",66],"(",")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n    ",66],["T_COMMENT","\/\/ This step should not appear, since settings.php is fully configured\n",67],["T_WHITESPACE","    ",68],["T_COMMENT","\/\/ already.\n",68],["T_WHITESPACE","  ",69],"}",["T_WHITESPACE","\n\n  ",69],["T_DOC_COMMENT","\/**\n   * Verifies that installation succeeded.\n   *\/",71],["T_WHITESPACE","\n  ",73],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","testInstaller",74],"(",")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertUrl",75],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/1'",75],")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","assertResponse",76],"(",["T_LNUMBER","200",76],")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assertEqual",77],"(",["T_CONSTANT_ENCAPSED_STRING","'testing'",77],",",["T_WHITESPACE"," ",77],["T_STRING","drupal_get_profile",77],"(",")",",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'Profile was changed from minimal to testing during interactive install.'",77],")",";",["T_WHITESPACE","\n  ",77],"}",["T_WHITESPACE","\n\n",78],"}",["T_WHITESPACE","\n",80]]