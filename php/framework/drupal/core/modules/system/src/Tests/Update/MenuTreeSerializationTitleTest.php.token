[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","system",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Update",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","StringTranslation",5],["T_NS_SEPARATOR","\\",5],["T_STRING","TranslatableMarkup",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests system_update_8001().\n *\n * @group Update\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","MenuTreeSerializationTitleTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","UpdatePathTestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",14],["T_WHITESPACE","\n  ",16],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_FUNCTION","function",17],["T_WHITESPACE"," ",17],["T_STRING","setDatabaseDumpFiles",17],"(",")",["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n    ",17],["T_VARIABLE","$this",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","databaseDumpFiles",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],"[",["T_WHITESPACE","\n      ",18],["T_DIR","__DIR__",19],["T_WHITESPACE"," ",19],".",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'\/..\/..\/..\/tests\/fixtures\/update\/drupal-8.bare.standard.php.gz'",19],",",["T_WHITESPACE","\n    ",19],"]",";",["T_WHITESPACE","\n  ",20],"}",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * Ensures that the system_update_8001() runs as expected.\n   *\/",23],["T_WHITESPACE","\n  ",25],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","testUpdate",26],"(",")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n    ",26],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","runUpdates",27],"(",")",";",["T_WHITESPACE","\n\n    ",27],["T_COMMENT","\/\/ Ensure that some fields got dropped.\n",29],["T_WHITESPACE","    ",30],["T_VARIABLE","$database",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Drupal",30],["T_DOUBLE_COLON","::",30],["T_STRING","database",30],"(",")",";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$schema",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$database",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","schema",31],"(",")",";",["T_WHITESPACE","\n\n    ",31],["T_IF","if",33],["T_WHITESPACE"," ",33],"(","!",["T_VARIABLE","$schema",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","tableExists",33],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_tree'",33],")",")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n      ",33],["T_RETURN","return",34],";",["T_WHITESPACE","\n    ",34],"}",["T_WHITESPACE","\n\n    ",35],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","assertFalse",37],"(",["T_VARIABLE","$schema",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","fieldExists",37],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_tree'",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'title_arguments'",37],")",")",";",["T_WHITESPACE","\n    ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","assertFalse",38],"(",["T_VARIABLE","$schema",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","fieldExists",38],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_tree'",38],",",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'title_contexts'",38],")",")",";",["T_WHITESPACE","\n\n    ",38],["T_COMMENT","\/\/ Ensure that all titles and description values can be unserialized.\n",40],["T_WHITESPACE","    ",41],["T_VARIABLE","$select",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$database",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","select",41],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_tree'",41],")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$result",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$select",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","fields",42],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_tree'",42],",",["T_WHITESPACE"," ",42],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'title'",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'description'",42],"]",")",["T_WHITESPACE","\n      ",42],["T_OBJECT_OPERATOR","->",43],["T_STRING","execute",43],"(",")",["T_WHITESPACE","\n      ",43],["T_OBJECT_OPERATOR","->",44],["T_STRING","fetchAllAssoc",44],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",44],")",";",["T_WHITESPACE","\n\n    ",44],["T_COMMENT","\/\/ The test coverage relies upon the fact that unserialize() would emit a\n",46],["T_WHITESPACE","    ",47],["T_COMMENT","\/\/ warning if the value is not a valid serialized value.\n",47],["T_WHITESPACE","    ",48],["T_FOREACH","foreach",48],["T_WHITESPACE"," ",48],"(",["T_VARIABLE","$result",48],["T_WHITESPACE"," ",48],["T_AS","as",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$link",48],")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n      ",48],["T_VARIABLE","$title",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","unserialize",49],"(",["T_VARIABLE","$link",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","title",49],")",";",["T_WHITESPACE","\n      ",49],["T_VARIABLE","$description",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","unserialize",50],"(",["T_VARIABLE","$link",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","description",50],")",";",["T_WHITESPACE","\n      ",50],["T_COMMENT","\/\/ Verify that all the links from system module have a been updated with\n",51],["T_WHITESPACE","      ",52],["T_COMMENT","\/\/ a TranslatableMarkup as title and description due to the rebuild.\n",52],["T_WHITESPACE","      ",53],["T_IF","if",53],["T_WHITESPACE"," ",53],"(",["T_STRING","strpos",53],"(",["T_VARIABLE","$link",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","id",53],",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'system.'",53],")",["T_WHITESPACE"," ",53],["T_IS_IDENTICAL","===",53],["T_WHITESPACE"," ",53],["T_LNUMBER","0",53],")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertTrue",54],"(",["T_VARIABLE","$title",54],["T_WHITESPACE"," ",54],["T_INSTANCEOF","instanceof",54],["T_WHITESPACE"," ",54],["T_STRING","TranslatableMarkup",54],",",["T_WHITESPACE"," ",54],["T_STRING","get_class",54],"(",["T_VARIABLE","$title",54],")",")",";",["T_WHITESPACE","\n        ",54],["T_IF","if",55],["T_WHITESPACE"," ",55],"(",["T_VARIABLE","$description",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n          ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","assertTrue",56],"(",["T_VARIABLE","$description",56],["T_WHITESPACE"," ",56],["T_INSTANCEOF","instanceof",56],["T_WHITESPACE"," ",56],["T_STRING","TranslatableMarkup",56],",",["T_WHITESPACE"," ",56],["T_STRING","get_class",56],"(",["T_VARIABLE","$description",56],")",")",";",["T_WHITESPACE","\n        ",56],"}",["T_WHITESPACE","\n      ",57],"}",["T_WHITESPACE","\n    ",58],"}",["T_WHITESPACE","\n  ",59],"}",["T_WHITESPACE","\n\n",60],"}",["T_WHITESPACE","\n",62]]