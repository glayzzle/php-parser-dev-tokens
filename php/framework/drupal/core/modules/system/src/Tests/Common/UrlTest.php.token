[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","system",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Common",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","UrlHelper",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Cache",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Cache",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Language",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Language",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Render",8],["T_NS_SEPARATOR","\\",8],["T_STRING","RenderContext",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Url",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","simpletest",10],["T_NS_SEPARATOR","\\",10],["T_STRING","WebTestBase",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Confirm that \\Drupal\\Core\\Url,\n * \\Drupal\\Component\\Utility\\UrlHelper::filterQueryParameters(),\n * \\Drupal\\Component\\Utility\\UrlHelper::buildQuery(), and\n * \\Drupal\\Core\\Utility\\LinkGeneratorInterface::generate()\n * work correctly with various input.\n *\n * @group Common\n *\/",12],["T_WHITESPACE","\n",20],["T_CLASS","class",21],["T_WHITESPACE"," ",21],["T_STRING","UrlTest",21],["T_WHITESPACE"," ",21],["T_EXTENDS","extends",21],["T_WHITESPACE"," ",21],["T_STRING","WebTestBase",21],["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n\n  ",21],["T_PUBLIC","public",23],["T_WHITESPACE"," ",23],["T_STATIC","static",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$modules",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_ARRAY","array",23],"(",["T_CONSTANT_ENCAPSED_STRING","'common_test'",23],",",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'url_alter_test'",23],")",";",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * Confirms that invalid URLs are filtered in link generating functions.\n   *\/",25],["T_WHITESPACE","\n  ",27],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","testLinkXSS",28],"(",")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n    ",28],["T_COMMENT","\/\/ Test \\Drupal::l().\n",29],["T_WHITESPACE","    ",30],["T_VARIABLE","$text",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","randomMachineName",30],"(",")",";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$path",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","\"<SCRIPT>alert('XSS')<\/SCRIPT>\"",31],";",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$encoded_path",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","\"3CSCRIPT%3Ealert%28%27XSS%27%29%3C\/SCRIPT%3E\"",32],";",["T_WHITESPACE","\n\n    ",32],["T_VARIABLE","$link",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Drupal",34],["T_DOUBLE_COLON","::",34],["T_STRING","l",34],"(",["T_VARIABLE","$text",34],",",["T_WHITESPACE"," ",34],["T_STRING","Url",34],["T_DOUBLE_COLON","::",34],["T_STRING","fromUserInput",34],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",34],["T_WHITESPACE"," ",34],".",["T_WHITESPACE"," ",34],["T_VARIABLE","$path",34],")",")",";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","assertTrue",35],"(",["T_STRING","strpos",35],"(",["T_VARIABLE","$link",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$encoded_path",35],")",["T_WHITESPACE"," ",35],["T_IS_NOT_IDENTICAL","!==",35],["T_WHITESPACE"," ",35],["T_STRING","FALSE",35],["T_WHITESPACE"," ",35],["T_BOOLEAN_AND","&&",35],["T_WHITESPACE"," ",35],["T_STRING","strpos",35],"(",["T_VARIABLE","$link",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$path",35],")",["T_WHITESPACE"," ",35],["T_IS_IDENTICAL","===",35],["T_WHITESPACE"," ",35],["T_STRING","FALSE",35],",",["T_WHITESPACE"," ",35],["T_STRING","format_string",35],"(",["T_CONSTANT_ENCAPSED_STRING","'XSS attack @path was filtered by \\Drupal\\Core\\Utility\\LinkGeneratorInterface::generate().'",35],",",["T_WHITESPACE"," ",35],["T_ARRAY","array",35],"(",["T_CONSTANT_ENCAPSED_STRING","'@path'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$path",35],")",")",")",";",["T_WHITESPACE","\n\n    ",35],["T_COMMENT","\/\/ Test \\Drupal\\Core\\Url.\n",37],["T_WHITESPACE","    ",38],["T_VARIABLE","$link",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_STRING","Url",38],["T_DOUBLE_COLON","::",38],["T_STRING","fromUri",38],"(",["T_CONSTANT_ENCAPSED_STRING","'base:'",38],["T_WHITESPACE"," ",38],".",["T_WHITESPACE"," ",38],["T_VARIABLE","$path",38],")",["T_OBJECT_OPERATOR","->",38],["T_STRING","toString",38],"(",")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","assertTrue",39],"(",["T_STRING","strpos",39],"(",["T_VARIABLE","$link",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$encoded_path",39],")",["T_WHITESPACE"," ",39],["T_IS_NOT_IDENTICAL","!==",39],["T_WHITESPACE"," ",39],["T_STRING","FALSE",39],["T_WHITESPACE"," ",39],["T_BOOLEAN_AND","&&",39],["T_WHITESPACE"," ",39],["T_STRING","strpos",39],"(",["T_VARIABLE","$link",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$path",39],")",["T_WHITESPACE"," ",39],["T_IS_IDENTICAL","===",39],["T_WHITESPACE"," ",39],["T_STRING","FALSE",39],",",["T_WHITESPACE"," ",39],["T_STRING","format_string",39],"(",["T_CONSTANT_ENCAPSED_STRING","'XSS attack @path was filtered by #theme'",39],",",["T_WHITESPACE"," ",39],"[",["T_CONSTANT_ENCAPSED_STRING","'@path'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$path",39],"]",")",")",";",["T_WHITESPACE","\n  ",39],"}",["T_WHITESPACE","\n\n  ",40],["T_DOC_COMMENT","\/**\n   * Tests that #type=link bubbles outbound route\/path processors' metadata.\n   *\/",42],["T_WHITESPACE","\n  ",44],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","testLinkBubbleableMetadata",45],"(",")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$cases",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],"[",["T_WHITESPACE","\n      ",46],"[",["T_CONSTANT_ENCAPSED_STRING","'Regular link'",47],",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'internal:\/user'",47],",",["T_WHITESPACE"," ",47],"[","]",",",["T_WHITESPACE"," ",47],"[",["T_CONSTANT_ENCAPSED_STRING","'contexts'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],"[","]",",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'tags'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],"[","]",",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'max-age'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_STRING","Cache",47],["T_DOUBLE_COLON","::",47],["T_STRING","PERMANENT",47],"]",",",["T_WHITESPACE"," ",47],"[","]","]",",",["T_WHITESPACE","\n      ",47],"[",["T_CONSTANT_ENCAPSED_STRING","'Regular link, absolute'",48],",",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'internal:\/user'",48],",",["T_WHITESPACE"," ",48],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_STRING","TRUE",48],"]",",",["T_WHITESPACE"," ",48],"[",["T_CONSTANT_ENCAPSED_STRING","'contexts'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],"[",["T_CONSTANT_ENCAPSED_STRING","'url.site'",48],"]",",",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'tags'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],"[","]",",",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'max-age'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_STRING","Cache",48],["T_DOUBLE_COLON","::",48],["T_STRING","PERMANENT",48],"]",",",["T_WHITESPACE"," ",48],"[","]","]",",",["T_WHITESPACE","\n      ",48],"[",["T_CONSTANT_ENCAPSED_STRING","'Route processor link'",49],",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'route:system.run_cron'",49],",",["T_WHITESPACE"," ",49],"[","]",",",["T_WHITESPACE"," ",49],"[",["T_CONSTANT_ENCAPSED_STRING","'contexts'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],"[",["T_CONSTANT_ENCAPSED_STRING","'session'",49],"]",",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'tags'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],"[","]",",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'max-age'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_STRING","Cache",49],["T_DOUBLE_COLON","::",49],["T_STRING","PERMANENT",49],"]",",",["T_WHITESPACE"," ",49],"[",["T_CONSTANT_ENCAPSED_STRING","'placeholders'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],"[","]","]","]",",",["T_WHITESPACE","\n      ",49],"[",["T_CONSTANT_ENCAPSED_STRING","'Route processor link, absolute'",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'route:system.run_cron'",50],",",["T_WHITESPACE"," ",50],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_STRING","TRUE",50],"]",",",["T_WHITESPACE"," ",50],"[",["T_CONSTANT_ENCAPSED_STRING","'contexts'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],"[",["T_CONSTANT_ENCAPSED_STRING","'url.site'",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'session'",50],"]",",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'tags'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],"[","]",",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'max-age'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_STRING","Cache",50],["T_DOUBLE_COLON","::",50],["T_STRING","PERMANENT",50],"]",",",["T_WHITESPACE"," ",50],"[",["T_CONSTANT_ENCAPSED_STRING","'placeholders'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],"[","]","]","]",",",["T_WHITESPACE","\n      ",50],"[",["T_CONSTANT_ENCAPSED_STRING","'Path processor link'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'internal:\/user\/1'",51],",",["T_WHITESPACE"," ",51],"[","]",",",["T_WHITESPACE"," ",51],"[",["T_CONSTANT_ENCAPSED_STRING","'contexts'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],"[","]",",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'tags'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],"[",["T_CONSTANT_ENCAPSED_STRING","'user:1'",51],"]",",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'max-age'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_STRING","Cache",51],["T_DOUBLE_COLON","::",51],["T_STRING","PERMANENT",51],"]",",",["T_WHITESPACE"," ",51],"[","]","]",",",["T_WHITESPACE","\n      ",51],"[",["T_CONSTANT_ENCAPSED_STRING","'Path processor link, absolute'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'internal:\/user\/1'",52],",",["T_WHITESPACE"," ",52],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_STRING","TRUE",52],"]",",",["T_WHITESPACE"," ",52],"[",["T_CONSTANT_ENCAPSED_STRING","'contexts'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],"[",["T_CONSTANT_ENCAPSED_STRING","'url.site'",52],"]",",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'tags'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],"[",["T_CONSTANT_ENCAPSED_STRING","'user:1'",52],"]",",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'max-age'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_STRING","Cache",52],["T_DOUBLE_COLON","::",52],["T_STRING","PERMANENT",52],"]",",",["T_WHITESPACE"," ",52],"[","]","]",",",["T_WHITESPACE","\n    ",52],"]",";",["T_WHITESPACE","\n\n    ",53],["T_FOREACH","foreach",55],["T_WHITESPACE"," ",55],"(",["T_VARIABLE","$cases",55],["T_WHITESPACE"," ",55],["T_AS","as",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$case",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n      ",55],["T_LIST","list",56],"(",["T_VARIABLE","$title",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$uri",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$options",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$expected_cacheability",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$expected_attachments",56],")",["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$case",56],";",["T_WHITESPACE","\n      ",56],["T_VARIABLE","$expected_cacheability",57],"[",["T_CONSTANT_ENCAPSED_STRING","'contexts'",57],"]",["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","Cache",57],["T_DOUBLE_COLON","::",57],["T_STRING","mergeContexts",57],"(",["T_VARIABLE","$expected_cacheability",57],"[",["T_CONSTANT_ENCAPSED_STRING","'contexts'",57],"]",",",["T_WHITESPACE"," ",57],"[",["T_CONSTANT_ENCAPSED_STRING","'languages:language_interface'",57],",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'theme'",57],",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'user.permissions'",57],"]",")",";",["T_WHITESPACE","\n      ",57],["T_VARIABLE","$link",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],"[",["T_WHITESPACE","\n        ",58],["T_CONSTANT_ENCAPSED_STRING","'#type'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'link'",59],",",["T_WHITESPACE","\n        ",59],["T_CONSTANT_ENCAPSED_STRING","'#title'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$title",60],",",["T_WHITESPACE","\n        ",60],["T_CONSTANT_ENCAPSED_STRING","'#options'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$options",61],",",["T_WHITESPACE","\n        ",61],["T_CONSTANT_ENCAPSED_STRING","'#url'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_STRING","Url",62],["T_DOUBLE_COLON","::",62],["T_STRING","fromUri",62],"(",["T_VARIABLE","$uri",62],")",",",["T_WHITESPACE","\n      ",62],"]",";",["T_WHITESPACE","\n      ",63],["T_NS_SEPARATOR","\\",64],["T_STRING","Drupal",64],["T_DOUBLE_COLON","::",64],["T_STRING","service",64],"(",["T_CONSTANT_ENCAPSED_STRING","'renderer'",64],")",["T_OBJECT_OPERATOR","->",64],["T_STRING","renderRoot",64],"(",["T_VARIABLE","$link",64],")",";",["T_WHITESPACE","\n      ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","pass",65],"(",["T_VARIABLE","$title",65],")",";",["T_WHITESPACE","\n      ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","assertEqual",66],"(",["T_VARIABLE","$expected_cacheability",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$link",66],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",66],"]",")",";",["T_WHITESPACE","\n      ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","assertEqual",67],"(",["T_VARIABLE","$expected_attachments",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$link",67],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",67],"]",")",";",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n  ",68],"}",["T_WHITESPACE","\n\n  ",69],["T_DOC_COMMENT","\/**\n   * Tests that default and custom attributes are handled correctly on links.\n   *\/",71],["T_WHITESPACE","\n  ",73],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","testLinkAttributes",74],"(",")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n    ",74],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Render\\RendererInterface $renderer *\/",75],["T_WHITESPACE","\n    ",75],["T_VARIABLE","$renderer",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","container",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","get",76],"(",["T_CONSTANT_ENCAPSED_STRING","'renderer'",76],")",";",["T_WHITESPACE","\n\n    ",76],["T_COMMENT","\/\/ Test that hreflang is added when a link has a known language.\n",78],["T_WHITESPACE","    ",79],["T_VARIABLE","$language",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_NEW","new",79],["T_WHITESPACE"," ",79],["T_STRING","Language",79],"(",["T_ARRAY","array",79],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'fr'",79],",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'name'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'French'",79],")",")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$hreflang_link",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_ARRAY","array",80],"(",["T_WHITESPACE","\n      ",80],["T_CONSTANT_ENCAPSED_STRING","'#type'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'link'",81],",",["T_WHITESPACE","\n      ",81],["T_CONSTANT_ENCAPSED_STRING","'#options'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_ARRAY","array",82],"(",["T_WHITESPACE","\n        ",82],["T_CONSTANT_ENCAPSED_STRING","'language'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$language",83],",",["T_WHITESPACE","\n      ",83],")",",",["T_WHITESPACE","\n      ",84],["T_CONSTANT_ENCAPSED_STRING","'#url'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_STRING","Url",85],["T_DOUBLE_COLON","::",85],["T_STRING","fromUri",85],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.drupal.org'",85],")",",",["T_WHITESPACE","\n      ",85],["T_CONSTANT_ENCAPSED_STRING","'#title'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'bar'",86],",",["T_WHITESPACE","\n    ",86],")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$langcode",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$language",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getId",88],"(",")",";",["T_WHITESPACE","\n\n    ",88],["T_COMMENT","\/\/ Test that the default hreflang handling for links does not override a\n",90],["T_WHITESPACE","    ",91],["T_COMMENT","\/\/ hreflang attribute explicitly set in the render array.\n",91],["T_WHITESPACE","    ",92],["T_VARIABLE","$hreflang_override_link",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$hreflang_link",92],";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$hreflang_override_link",93],"[",["T_CONSTANT_ENCAPSED_STRING","'#options'",93],"]","[",["T_CONSTANT_ENCAPSED_STRING","'attributes'",93],"]","[",["T_CONSTANT_ENCAPSED_STRING","'hreflang'",93],"]",["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'foo'",93],";",["T_WHITESPACE","\n\n    ",93],["T_VARIABLE","$rendered",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$renderer",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","renderRoot",95],"(",["T_VARIABLE","$hreflang_link",95],")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","assertTrue",96],"(",["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","hasAttribute",96],"(",["T_CONSTANT_ENCAPSED_STRING","'hreflang'",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$rendered",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$langcode",96],")",",",["T_WHITESPACE"," ",96],["T_STRING","format_string",96],"(",["T_CONSTANT_ENCAPSED_STRING","'hreflang attribute with value @langcode is present on a rendered link when langcode is provided in the render array.'",96],",",["T_WHITESPACE"," ",96],["T_ARRAY","array",96],"(",["T_CONSTANT_ENCAPSED_STRING","'@langcode'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$langcode",96],")",")",")",";",["T_WHITESPACE","\n\n    ",96],["T_VARIABLE","$rendered",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$renderer",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","renderRoot",98],"(",["T_VARIABLE","$hreflang_override_link",98],")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","assertTrue",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","hasAttribute",99],"(",["T_CONSTANT_ENCAPSED_STRING","'hreflang'",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$rendered",99],",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'foo'",99],")",",",["T_WHITESPACE"," ",99],["T_STRING","format_string",99],"(",["T_CONSTANT_ENCAPSED_STRING","'hreflang attribute with value @hreflang is present on a rendered link when @hreflang is provided in the render array.'",99],",",["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",["T_CONSTANT_ENCAPSED_STRING","'@hreflang'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'foo'",99],")",")",")",";",["T_WHITESPACE","\n\n    ",99],["T_COMMENT","\/\/ Test the active class in links produced by\n",101],["T_WHITESPACE","    ",102],["T_COMMENT","\/\/ \\Drupal\\Core\\Utility\\LinkGeneratorInterface::generate() and #type 'link'.\n",102],["T_WHITESPACE","    ",103],["T_VARIABLE","$options_no_query",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_ARRAY","array",103],"(",")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$options_query",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_ARRAY","array",104],"(",["T_WHITESPACE","\n      ",104],["T_CONSTANT_ENCAPSED_STRING","'query'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_ARRAY","array",105],"(",["T_WHITESPACE","\n        ",105],["T_CONSTANT_ENCAPSED_STRING","'foo'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'bar'",106],",",["T_WHITESPACE","\n        ",106],["T_CONSTANT_ENCAPSED_STRING","'one'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'two'",107],",",["T_WHITESPACE","\n      ",107],")",",",["T_WHITESPACE","\n    ",108],")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$options_query_reverse",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_ARRAY","array",110],"(",["T_WHITESPACE","\n      ",110],["T_CONSTANT_ENCAPSED_STRING","'query'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_ARRAY","array",111],"(",["T_WHITESPACE","\n        ",111],["T_CONSTANT_ENCAPSED_STRING","'one'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'two'",112],",",["T_WHITESPACE","\n        ",112],["T_CONSTANT_ENCAPSED_STRING","'foo'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'bar'",113],",",["T_WHITESPACE","\n      ",113],")",",",["T_WHITESPACE","\n    ",114],")",";",["T_WHITESPACE","\n\n    ",115],["T_COMMENT","\/\/ Test #type link.\n",117],["T_WHITESPACE","    ",118],["T_VARIABLE","$path",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'common-test\/type-link-active-class'",118],";",["T_WHITESPACE","\n\n    ",118],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","drupalGet",120],"(",["T_VARIABLE","$path",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$options_no_query",120],")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$links",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","xpath",121],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/a[@href = :href and contains(@class, :class)]'",121],",",["T_WHITESPACE"," ",121],["T_ARRAY","array",121],"(",["T_CONSTANT_ENCAPSED_STRING","':href'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_STRING","Url",121],["T_DOUBLE_COLON","::",121],["T_STRING","fromRoute",121],"(",["T_CONSTANT_ENCAPSED_STRING","'common_test.l_active_class'",121],",",["T_WHITESPACE"," ",121],"[","]",",",["T_WHITESPACE"," ",121],["T_VARIABLE","$options_no_query",121],")",["T_OBJECT_OPERATOR","->",121],["T_STRING","toString",121],"(",")",",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","':class'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'is-active'",121],")",")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertTrue",122],"(",["T_ISSET","isset",122],"(",["T_VARIABLE","$links",122],"[",["T_LNUMBER","0",122],"]",")",",",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'A link generated by the link generator to the current page is marked active.'",122],")",";",["T_WHITESPACE","\n\n    ",122],["T_VARIABLE","$links",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","xpath",124],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/a[@href = :href and not(contains(@class, :class))]'",124],",",["T_WHITESPACE"," ",124],["T_ARRAY","array",124],"(",["T_CONSTANT_ENCAPSED_STRING","':href'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_STRING","Url",124],["T_DOUBLE_COLON","::",124],["T_STRING","fromRoute",124],"(",["T_CONSTANT_ENCAPSED_STRING","'common_test.l_active_class'",124],",",["T_WHITESPACE"," ",124],"[","]",",",["T_WHITESPACE"," ",124],["T_VARIABLE","$options_query",124],")",["T_OBJECT_OPERATOR","->",124],["T_STRING","toString",124],"(",")",",",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","':class'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'is-active'",124],")",")",";",["T_WHITESPACE","\n    ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertTrue",125],"(",["T_ISSET","isset",125],"(",["T_VARIABLE","$links",125],"[",["T_LNUMBER","0",125],"]",")",",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'A link generated by the link generator to the current page with a query string when the current page has no query string is not marked active.'",125],")",";",["T_WHITESPACE","\n\n    ",125],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","drupalGet",127],"(",["T_VARIABLE","$path",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$options_query",127],")",";",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$links",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","xpath",128],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/a[@href = :href and contains(@class, :class)]'",128],",",["T_WHITESPACE"," ",128],["T_ARRAY","array",128],"(",["T_CONSTANT_ENCAPSED_STRING","':href'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_STRING","Url",128],["T_DOUBLE_COLON","::",128],["T_STRING","fromRoute",128],"(",["T_CONSTANT_ENCAPSED_STRING","'common_test.l_active_class'",128],",",["T_WHITESPACE"," ",128],"[","]",",",["T_WHITESPACE"," ",128],["T_VARIABLE","$options_query",128],")",["T_OBJECT_OPERATOR","->",128],["T_STRING","toString",128],"(",")",",",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","':class'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'is-active'",128],")",")",";",["T_WHITESPACE","\n    ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","assertTrue",129],"(",["T_ISSET","isset",129],"(",["T_VARIABLE","$links",129],"[",["T_LNUMBER","0",129],"]",")",",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'A link generated by the link generator to the current page with a query string that matches the current query string is marked active.'",129],")",";",["T_WHITESPACE","\n\n    ",129],["T_VARIABLE","$links",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","xpath",131],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/a[@href = :href and contains(@class, :class)]'",131],",",["T_WHITESPACE"," ",131],["T_ARRAY","array",131],"(",["T_CONSTANT_ENCAPSED_STRING","':href'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_STRING","Url",131],["T_DOUBLE_COLON","::",131],["T_STRING","fromRoute",131],"(",["T_CONSTANT_ENCAPSED_STRING","'common_test.l_active_class'",131],",",["T_WHITESPACE"," ",131],"[","]",",",["T_WHITESPACE"," ",131],["T_VARIABLE","$options_query_reverse",131],")",["T_OBJECT_OPERATOR","->",131],["T_STRING","toString",131],"(",")",",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","':class'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'is-active'",131],")",")",";",["T_WHITESPACE","\n    ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","assertTrue",132],"(",["T_ISSET","isset",132],"(",["T_VARIABLE","$links",132],"[",["T_LNUMBER","0",132],"]",")",",",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'A link generated by the link generator to the current page with a query string that has matching parameters to the current query string but in a different order is marked active.'",132],")",";",["T_WHITESPACE","\n\n    ",132],["T_VARIABLE","$links",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","xpath",134],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/a[@href = :href and not(contains(@class, :class))]'",134],",",["T_WHITESPACE"," ",134],["T_ARRAY","array",134],"(",["T_CONSTANT_ENCAPSED_STRING","':href'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_STRING","Url",134],["T_DOUBLE_COLON","::",134],["T_STRING","fromRoute",134],"(",["T_CONSTANT_ENCAPSED_STRING","'common_test.l_active_class'",134],",",["T_WHITESPACE"," ",134],"[","]",",",["T_WHITESPACE"," ",134],["T_VARIABLE","$options_no_query",134],")",["T_OBJECT_OPERATOR","->",134],["T_STRING","toString",134],"(",")",",",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","':class'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'is-active'",134],")",")",";",["T_WHITESPACE","\n    ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","assertTrue",135],"(",["T_ISSET","isset",135],"(",["T_VARIABLE","$links",135],"[",["T_LNUMBER","0",135],"]",")",",",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'A link generated by the link generator to the current page without a query string when the current page has a query string is not marked active.'",135],")",";",["T_WHITESPACE","\n\n    ",135],["T_COMMENT","\/\/ Test adding a custom class in links produced by\n",137],["T_WHITESPACE","    ",138],["T_COMMENT","\/\/ \\Drupal\\Core\\Utility\\LinkGeneratorInterface::generate() and #type 'link'.\n",138],["T_WHITESPACE","    ",139],["T_COMMENT","\/\/ Test the link generator.\n",139],["T_WHITESPACE","    ",140],["T_VARIABLE","$class_l",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","randomMachineName",140],"(",")",";",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$link_l",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_NS_SEPARATOR","\\",141],["T_STRING","Drupal",141],["T_DOUBLE_COLON","::",141],["T_STRING","l",141],"(",["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","randomMachineName",141],"(",")",",",["T_WHITESPACE"," ",141],["T_NEW","new",141],["T_WHITESPACE"," ",141],["T_STRING","Url",141],"(",["T_CONSTANT_ENCAPSED_STRING","'<current>'",141],",",["T_WHITESPACE"," ",141],"[","]",",",["T_WHITESPACE"," ",141],"[",["T_CONSTANT_ENCAPSED_STRING","'attributes'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],"[",["T_VARIABLE","$class_l",141],"]","]","]",")",")",";",["T_WHITESPACE","\n    ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","assertTrue",142],"(",["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","hasAttribute",142],"(",["T_CONSTANT_ENCAPSED_STRING","'class'",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$link_l",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$class_l",142],")",",",["T_WHITESPACE"," ",142],["T_STRING","format_string",142],"(",["T_CONSTANT_ENCAPSED_STRING","'Custom class @class is present on link when requested by l()'",142],",",["T_WHITESPACE"," ",142],["T_ARRAY","array",142],"(",["T_CONSTANT_ENCAPSED_STRING","'@class'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$class_l",142],")",")",")",";",["T_WHITESPACE","\n\n    ",142],["T_COMMENT","\/\/ Test #type.\n",144],["T_WHITESPACE","    ",145],["T_VARIABLE","$class_theme",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","randomMachineName",145],"(",")",";",["T_WHITESPACE","\n    ",145],["T_VARIABLE","$type_link",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_ARRAY","array",146],"(",["T_WHITESPACE","\n      ",146],["T_CONSTANT_ENCAPSED_STRING","'#type'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'link'",147],",",["T_WHITESPACE","\n      ",147],["T_CONSTANT_ENCAPSED_STRING","'#title'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","randomMachineName",148],"(",")",",",["T_WHITESPACE","\n      ",148],["T_CONSTANT_ENCAPSED_STRING","'#url'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_STRING","Url",149],["T_DOUBLE_COLON","::",149],["T_STRING","fromRoute",149],"(",["T_CONSTANT_ENCAPSED_STRING","'<current>'",149],")",",",["T_WHITESPACE","\n      ",149],["T_CONSTANT_ENCAPSED_STRING","'#options'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_ARRAY","array",150],"(",["T_WHITESPACE","\n        ",150],["T_CONSTANT_ENCAPSED_STRING","'attributes'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_ARRAY","array",151],"(",["T_WHITESPACE","\n          ",151],["T_CONSTANT_ENCAPSED_STRING","'class'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_ARRAY","array",152],"(",["T_VARIABLE","$class_theme",152],")",",",["T_WHITESPACE","\n        ",152],")",",",["T_WHITESPACE","\n      ",153],")",",",["T_WHITESPACE","\n    ",154],")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$link_theme",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$renderer",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","renderRoot",156],"(",["T_VARIABLE","$type_link",156],")",";",["T_WHITESPACE","\n    ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","assertTrue",157],"(",["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","hasAttribute",157],"(",["T_CONSTANT_ENCAPSED_STRING","'class'",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$link_theme",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$class_theme",157],")",",",["T_WHITESPACE"," ",157],["T_STRING","format_string",157],"(",["T_CONSTANT_ENCAPSED_STRING","'Custom class @class is present on link when requested by #type'",157],",",["T_WHITESPACE"," ",157],["T_ARRAY","array",157],"(",["T_CONSTANT_ENCAPSED_STRING","'@class'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$class_theme",157],")",")",")",";",["T_WHITESPACE","\n  ",157],"}",["T_WHITESPACE","\n\n  ",158],["T_DOC_COMMENT","\/**\n   * Tests that link functions support render arrays as 'text'.\n   *\/",160],["T_WHITESPACE","\n  ",162],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","testLinkRenderArrayText",163],"(",")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n    ",163],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Render\\RendererInterface $renderer *\/",164],["T_WHITESPACE","\n    ",164],["T_VARIABLE","$renderer",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","container",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","get",165],"(",["T_CONSTANT_ENCAPSED_STRING","'renderer'",165],")",";",["T_WHITESPACE","\n\n    ",165],["T_COMMENT","\/\/ Build a link with the link generator for reference.\n",167],["T_WHITESPACE","    ",168],["T_VARIABLE","$l",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_NS_SEPARATOR","\\",168],["T_STRING","Drupal",168],["T_DOUBLE_COLON","::",168],["T_STRING","l",168],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",168],",",["T_WHITESPACE"," ",168],["T_STRING","Url",168],["T_DOUBLE_COLON","::",168],["T_STRING","fromUri",168],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.drupal.org'",168],")",")",";",["T_WHITESPACE","\n\n    ",168],["T_COMMENT","\/\/ Test a renderable array passed to the link generator.\n",170],["T_WHITESPACE","    ",171],["T_VARIABLE","$renderer",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","executeInRenderContext",171],"(",["T_NEW","new",171],["T_WHITESPACE"," ",171],["T_STRING","RenderContext",171],"(",")",",",["T_WHITESPACE"," ",171],["T_FUNCTION","function",171],"(",")",["T_WHITESPACE"," ",171],["T_USE","use",171],["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$renderer",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$l",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n      ",171],["T_VARIABLE","$renderable_text",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_ARRAY","array",172],"(",["T_CONSTANT_ENCAPSED_STRING","'#markup'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'foo'",172],")",";",["T_WHITESPACE","\n      ",172],["T_VARIABLE","$l_renderable_text",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Drupal",173],["T_DOUBLE_COLON","::",173],["T_STRING","l",173],"(",["T_VARIABLE","$renderable_text",173],",",["T_WHITESPACE"," ",173],["T_STRING","Url",173],["T_DOUBLE_COLON","::",173],["T_STRING","fromUri",173],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.drupal.org'",173],")",")",";",["T_WHITESPACE","\n      ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","assertEqual",174],"(",["T_VARIABLE","$l_renderable_text",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$l",174],")",";",["T_WHITESPACE","\n    ",174],"}",")",";",["T_WHITESPACE","\n\n    ",175],["T_COMMENT","\/\/ Test a themed link with plain text 'text'.\n",177],["T_WHITESPACE","    ",178],["T_VARIABLE","$type_link_plain_array",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_ARRAY","array",178],"(",["T_WHITESPACE","\n      ",178],["T_CONSTANT_ENCAPSED_STRING","'#type'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'link'",179],",",["T_WHITESPACE","\n      ",179],["T_CONSTANT_ENCAPSED_STRING","'#title'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'foo'",180],",",["T_WHITESPACE","\n      ",180],["T_CONSTANT_ENCAPSED_STRING","'#url'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_STRING","Url",181],["T_DOUBLE_COLON","::",181],["T_STRING","fromUri",181],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.drupal.org'",181],")",",",["T_WHITESPACE","\n    ",181],")",";",["T_WHITESPACE","\n    ",182],["T_VARIABLE","$type_link_plain",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$renderer",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","renderRoot",183],"(",["T_VARIABLE","$type_link_plain_array",183],")",";",["T_WHITESPACE","\n    ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","assertEqual",184],"(",["T_VARIABLE","$type_link_plain",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$l",184],")",";",["T_WHITESPACE","\n\n    ",184],["T_COMMENT","\/\/ Build a themed link with renderable 'text'.\n",186],["T_WHITESPACE","    ",187],["T_VARIABLE","$type_link_nested_array",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_ARRAY","array",187],"(",["T_WHITESPACE","\n      ",187],["T_CONSTANT_ENCAPSED_STRING","'#type'",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'link'",188],",",["T_WHITESPACE","\n      ",188],["T_CONSTANT_ENCAPSED_STRING","'#title'",189],["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_ARRAY","array",189],"(",["T_CONSTANT_ENCAPSED_STRING","'#markup'",189],["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'foo'",189],")",",",["T_WHITESPACE","\n      ",189],["T_CONSTANT_ENCAPSED_STRING","'#url'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_STRING","Url",190],["T_DOUBLE_COLON","::",190],["T_STRING","fromUri",190],"(",["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.drupal.org'",190],")",",",["T_WHITESPACE","\n    ",190],")",";",["T_WHITESPACE","\n    ",191],["T_VARIABLE","$type_link_nested",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$renderer",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","renderRoot",192],"(",["T_VARIABLE","$type_link_nested_array",192],")",";",["T_WHITESPACE","\n    ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","assertEqual",193],"(",["T_VARIABLE","$type_link_nested",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$l",193],")",";",["T_WHITESPACE","\n  ",193],"}",["T_WHITESPACE","\n\n  ",194],["T_DOC_COMMENT","\/**\n   * Checks for class existence in link.\n   *\n   * @param $link\n   *   URL to search.\n   * @param $class\n   *   Element class to search for.\n   *\n   * @return bool\n   *   TRUE if the class is found, FALSE otherwise.\n   *\/",196],["T_WHITESPACE","\n  ",206],["T_PRIVATE","private",207],["T_WHITESPACE"," ",207],["T_FUNCTION","function",207],["T_WHITESPACE"," ",207],["T_STRING","hasAttribute",207],"(",["T_VARIABLE","$attribute",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$link",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$class",207],")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n    ",207],["T_RETURN","return",208],["T_WHITESPACE"," ",208],["T_STRING","preg_match",208],"(",["T_CONSTANT_ENCAPSED_STRING","'|'",208],["T_WHITESPACE"," ",208],".",["T_WHITESPACE"," ",208],["T_VARIABLE","$attribute",208],["T_WHITESPACE"," ",208],".",["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'=\"([^\\\"\\s]+\\s+)*'",208],["T_WHITESPACE"," ",208],".",["T_WHITESPACE"," ",208],["T_VARIABLE","$class",208],["T_WHITESPACE"," ",208],".",["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'|'",208],",",["T_WHITESPACE"," ",208],["T_VARIABLE","$link",208],")",";",["T_WHITESPACE","\n  ",208],"}",["T_WHITESPACE","\n\n  ",209],["T_DOC_COMMENT","\/**\n   * Tests UrlHelper::filterQueryParameters().\n   *\/",211],["T_WHITESPACE","\n  ",213],["T_FUNCTION","function",214],["T_WHITESPACE"," ",214],["T_STRING","testDrupalGetQueryParameters",214],"(",")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n    ",214],["T_VARIABLE","$original",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_ARRAY","array",215],"(",["T_WHITESPACE","\n      ",215],["T_CONSTANT_ENCAPSED_STRING","'a'",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],["T_LNUMBER","1",216],",",["T_WHITESPACE","\n      ",216],["T_CONSTANT_ENCAPSED_STRING","'b'",217],["T_WHITESPACE"," ",217],["T_DOUBLE_ARROW","=>",217],["T_WHITESPACE"," ",217],["T_ARRAY","array",217],"(",["T_WHITESPACE","\n        ",217],["T_CONSTANT_ENCAPSED_STRING","'d'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_LNUMBER","4",218],",",["T_WHITESPACE","\n        ",218],["T_CONSTANT_ENCAPSED_STRING","'e'",219],["T_WHITESPACE"," ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],["T_ARRAY","array",219],"(",["T_WHITESPACE","\n          ",219],["T_CONSTANT_ENCAPSED_STRING","'f'",220],["T_WHITESPACE"," ",220],["T_DOUBLE_ARROW","=>",220],["T_WHITESPACE"," ",220],["T_LNUMBER","5",220],",",["T_WHITESPACE","\n        ",220],")",",",["T_WHITESPACE","\n      ",221],")",",",["T_WHITESPACE","\n      ",222],["T_CONSTANT_ENCAPSED_STRING","'c'",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_LNUMBER","3",223],",",["T_WHITESPACE","\n    ",223],")",";",["T_WHITESPACE","\n\n    ",224],["T_COMMENT","\/\/ First-level exclusion.\n",226],["T_WHITESPACE","    ",227],["T_VARIABLE","$result",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$original",227],";",["T_WHITESPACE","\n    ",227],["T_UNSET","unset",228],"(",["T_VARIABLE","$result",228],"[",["T_CONSTANT_ENCAPSED_STRING","'b'",228],"]",")",";",["T_WHITESPACE","\n    ",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","assertEqual",229],"(",["T_STRING","UrlHelper",229],["T_DOUBLE_COLON","::",229],["T_STRING","filterQueryParameters",229],"(",["T_VARIABLE","$original",229],",",["T_WHITESPACE"," ",229],["T_ARRAY","array",229],"(",["T_CONSTANT_ENCAPSED_STRING","'b'",229],")",")",",",["T_WHITESPACE"," ",229],["T_VARIABLE","$result",229],",",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","\"'b' was removed.\"",229],")",";",["T_WHITESPACE","\n\n    ",229],["T_COMMENT","\/\/ Second-level exclusion.\n",231],["T_WHITESPACE","    ",232],["T_VARIABLE","$result",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$original",232],";",["T_WHITESPACE","\n    ",232],["T_UNSET","unset",233],"(",["T_VARIABLE","$result",233],"[",["T_CONSTANT_ENCAPSED_STRING","'b'",233],"]","[",["T_CONSTANT_ENCAPSED_STRING","'d'",233],"]",")",";",["T_WHITESPACE","\n    ",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","assertEqual",234],"(",["T_STRING","UrlHelper",234],["T_DOUBLE_COLON","::",234],["T_STRING","filterQueryParameters",234],"(",["T_VARIABLE","$original",234],",",["T_WHITESPACE"," ",234],["T_ARRAY","array",234],"(",["T_CONSTANT_ENCAPSED_STRING","'b[d]'",234],")",")",",",["T_WHITESPACE"," ",234],["T_VARIABLE","$result",234],",",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","\"'b[d]' was removed.\"",234],")",";",["T_WHITESPACE","\n\n    ",234],["T_COMMENT","\/\/ Third-level exclusion.\n",236],["T_WHITESPACE","    ",237],["T_VARIABLE","$result",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$original",237],";",["T_WHITESPACE","\n    ",237],["T_UNSET","unset",238],"(",["T_VARIABLE","$result",238],"[",["T_CONSTANT_ENCAPSED_STRING","'b'",238],"]","[",["T_CONSTANT_ENCAPSED_STRING","'e'",238],"]","[",["T_CONSTANT_ENCAPSED_STRING","'f'",238],"]",")",";",["T_WHITESPACE","\n    ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","assertEqual",239],"(",["T_STRING","UrlHelper",239],["T_DOUBLE_COLON","::",239],["T_STRING","filterQueryParameters",239],"(",["T_VARIABLE","$original",239],",",["T_WHITESPACE"," ",239],["T_ARRAY","array",239],"(",["T_CONSTANT_ENCAPSED_STRING","'b[e][f]'",239],")",")",",",["T_WHITESPACE"," ",239],["T_VARIABLE","$result",239],",",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","\"'b[e][f]' was removed.\"",239],")",";",["T_WHITESPACE","\n\n    ",239],["T_COMMENT","\/\/ Multiple exclusions.\n",241],["T_WHITESPACE","    ",242],["T_VARIABLE","$result",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$original",242],";",["T_WHITESPACE","\n    ",242],["T_UNSET","unset",243],"(",["T_VARIABLE","$result",243],"[",["T_CONSTANT_ENCAPSED_STRING","'a'",243],"]",",",["T_WHITESPACE"," ",243],["T_VARIABLE","$result",243],"[",["T_CONSTANT_ENCAPSED_STRING","'b'",243],"]","[",["T_CONSTANT_ENCAPSED_STRING","'e'",243],"]",",",["T_WHITESPACE"," ",243],["T_VARIABLE","$result",243],"[",["T_CONSTANT_ENCAPSED_STRING","'c'",243],"]",")",";",["T_WHITESPACE","\n    ",243],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","assertEqual",244],"(",["T_STRING","UrlHelper",244],["T_DOUBLE_COLON","::",244],["T_STRING","filterQueryParameters",244],"(",["T_VARIABLE","$original",244],",",["T_WHITESPACE"," ",244],["T_ARRAY","array",244],"(",["T_CONSTANT_ENCAPSED_STRING","'a'",244],",",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'b[e]'",244],",",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'c'",244],")",")",",",["T_WHITESPACE"," ",244],["T_VARIABLE","$result",244],",",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","\"'a', 'b[e]', 'c' were removed.\"",244],")",";",["T_WHITESPACE","\n  ",244],"}",["T_WHITESPACE","\n\n  ",245],["T_DOC_COMMENT","\/**\n   * Tests UrlHelper::parse().\n   *\/",247],["T_WHITESPACE","\n  ",249],["T_FUNCTION","function",250],["T_WHITESPACE"," ",250],["T_STRING","testDrupalParseUrl",250],"(",")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n    ",250],["T_COMMENT","\/\/ Relative, absolute, and external URLs, without\/with explicit script path,\n",251],["T_WHITESPACE","    ",252],["T_COMMENT","\/\/ without\/with Drupal path.\n",252],["T_WHITESPACE","    ",253],["T_FOREACH","foreach",253],["T_WHITESPACE"," ",253],"(",["T_ARRAY","array",253],"(",["T_CONSTANT_ENCAPSED_STRING","''",253],",",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'\/'",253],",",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.drupal.org\/'",253],")",["T_WHITESPACE"," ",253],["T_AS","as",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$absolute",253],")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n      ",253],["T_FOREACH","foreach",254],["T_WHITESPACE"," ",254],"(",["T_ARRAY","array",254],"(",["T_CONSTANT_ENCAPSED_STRING","''",254],",",["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'index.php\/'",254],")",["T_WHITESPACE"," ",254],["T_AS","as",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$script",254],")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n        ",254],["T_FOREACH","foreach",255],["T_WHITESPACE"," ",255],"(",["T_ARRAY","array",255],"(",["T_CONSTANT_ENCAPSED_STRING","''",255],",",["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","'foo\/bar'",255],")",["T_WHITESPACE"," ",255],["T_AS","as",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$path",255],")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n          ",255],["T_VARIABLE","$url",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$absolute",256],["T_WHITESPACE"," ",256],".",["T_WHITESPACE"," ",256],["T_VARIABLE","$script",256],["T_WHITESPACE"," ",256],".",["T_WHITESPACE"," ",256],["T_VARIABLE","$path",256],["T_WHITESPACE"," ",256],".",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'?foo=bar&bar=baz&baz#foo'",256],";",["T_WHITESPACE","\n          ",256],["T_VARIABLE","$expected",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_ARRAY","array",257],"(",["T_WHITESPACE","\n            ",257],["T_CONSTANT_ENCAPSED_STRING","'path'",258],["T_WHITESPACE"," ",258],["T_DOUBLE_ARROW","=>",258],["T_WHITESPACE"," ",258],["T_VARIABLE","$absolute",258],["T_WHITESPACE"," ",258],".",["T_WHITESPACE"," ",258],["T_VARIABLE","$script",258],["T_WHITESPACE"," ",258],".",["T_WHITESPACE"," ",258],["T_VARIABLE","$path",258],",",["T_WHITESPACE","\n            ",258],["T_CONSTANT_ENCAPSED_STRING","'query'",259],["T_WHITESPACE"," ",259],["T_DOUBLE_ARROW","=>",259],["T_WHITESPACE"," ",259],["T_ARRAY","array",259],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",259],["T_WHITESPACE"," ",259],["T_DOUBLE_ARROW","=>",259],["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'bar'",259],",",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'bar'",259],["T_WHITESPACE"," ",259],["T_DOUBLE_ARROW","=>",259],["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'baz'",259],",",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'baz'",259],["T_WHITESPACE"," ",259],["T_DOUBLE_ARROW","=>",259],["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","''",259],")",",",["T_WHITESPACE","\n            ",259],["T_CONSTANT_ENCAPSED_STRING","'fragment'",260],["T_WHITESPACE"," ",260],["T_DOUBLE_ARROW","=>",260],["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'foo'",260],",",["T_WHITESPACE","\n          ",260],")",";",["T_WHITESPACE","\n          ",261],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","assertEqual",262],"(",["T_STRING","UrlHelper",262],["T_DOUBLE_COLON","::",262],["T_STRING","parse",262],"(",["T_VARIABLE","$url",262],")",",",["T_WHITESPACE"," ",262],["T_VARIABLE","$expected",262],",",["T_WHITESPACE"," ",262],["T_CONSTANT_ENCAPSED_STRING","'URL parsed correctly.'",262],")",";",["T_WHITESPACE","\n        ",262],"}",["T_WHITESPACE","\n      ",263],"}",["T_WHITESPACE","\n    ",264],"}",["T_WHITESPACE","\n\n    ",265],["T_COMMENT","\/\/ Relative URL that is known to confuse parse_url().\n",267],["T_WHITESPACE","    ",268],["T_VARIABLE","$url",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","'foo\/bar:1'",268],";",["T_WHITESPACE","\n    ",268],["T_VARIABLE","$result",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_ARRAY","array",269],"(",["T_WHITESPACE","\n      ",269],["T_CONSTANT_ENCAPSED_STRING","'path'",270],["T_WHITESPACE"," ",270],["T_DOUBLE_ARROW","=>",270],["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'foo\/bar:1'",270],",",["T_WHITESPACE","\n      ",270],["T_CONSTANT_ENCAPSED_STRING","'query'",271],["T_WHITESPACE"," ",271],["T_DOUBLE_ARROW","=>",271],["T_WHITESPACE"," ",271],["T_ARRAY","array",271],"(",")",",",["T_WHITESPACE","\n      ",271],["T_CONSTANT_ENCAPSED_STRING","'fragment'",272],["T_WHITESPACE"," ",272],["T_DOUBLE_ARROW","=>",272],["T_WHITESPACE"," ",272],["T_CONSTANT_ENCAPSED_STRING","''",272],",",["T_WHITESPACE","\n    ",272],")",";",["T_WHITESPACE","\n    ",273],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","assertEqual",274],"(",["T_STRING","UrlHelper",274],["T_DOUBLE_COLON","::",274],["T_STRING","parse",274],"(",["T_VARIABLE","$url",274],")",",",["T_WHITESPACE"," ",274],["T_VARIABLE","$result",274],",",["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'Relative URL parsed correctly.'",274],")",";",["T_WHITESPACE","\n\n    ",274],["T_COMMENT","\/\/ Test that drupal can recognize an absolute URL. Used to prevent attack vectors.\n",276],["T_WHITESPACE","    ",277],["T_VARIABLE","$url",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.drupal.org\/foo\/bar?foo=bar&bar=baz&baz#foo'",277],";",["T_WHITESPACE","\n    ",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","assertTrue",278],"(",["T_STRING","UrlHelper",278],["T_DOUBLE_COLON","::",278],["T_STRING","isExternal",278],"(",["T_VARIABLE","$url",278],")",",",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'Correctly identified an external URL.'",278],")",";",["T_WHITESPACE","\n\n    ",278],["T_COMMENT","\/\/ Test that UrlHelper::parse() does not allow spoofing a URL to force a malicious redirect.\n",280],["T_WHITESPACE","    ",281],["T_VARIABLE","$parts",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_STRING","UrlHelper",281],["T_DOUBLE_COLON","::",281],["T_STRING","parse",281],"(",["T_CONSTANT_ENCAPSED_STRING","'forged:http:\/\/cwe.mitre.org\/data\/definitions\/601.html'",281],")",";",["T_WHITESPACE","\n    ",281],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","assertFalse",282],"(",["T_STRING","UrlHelper",282],["T_DOUBLE_COLON","::",282],["T_STRING","isValid",282],"(",["T_VARIABLE","$parts",282],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",282],"]",",",["T_WHITESPACE"," ",282],["T_STRING","TRUE",282],")",",",["T_WHITESPACE"," ",282],["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Component\\Utility\\UrlHelper::isValid() correctly parsed a forged URL.'",282],")",";",["T_WHITESPACE","\n  ",282],"}",["T_WHITESPACE","\n\n  ",283],["T_DOC_COMMENT","\/**\n   * Tests external URL handling.\n   *\/",285],["T_WHITESPACE","\n  ",287],["T_FUNCTION","function",288],["T_WHITESPACE"," ",288],["T_STRING","testExternalUrls",288],"(",")",["T_WHITESPACE"," ",288],"{",["T_WHITESPACE","\n    ",288],["T_VARIABLE","$test_url",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.drupal.org\/'",289],";",["T_WHITESPACE","\n\n    ",289],["T_COMMENT","\/\/ Verify external URL can contain a fragment.\n",291],["T_WHITESPACE","    ",292],["T_VARIABLE","$url",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_VARIABLE","$test_url",292],["T_WHITESPACE"," ",292],".",["T_WHITESPACE"," ",292],["T_CONSTANT_ENCAPSED_STRING","'#drupal'",292],";",["T_WHITESPACE","\n    ",292],["T_VARIABLE","$result",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_STRING","Url",293],["T_DOUBLE_COLON","::",293],["T_STRING","fromUri",293],"(",["T_VARIABLE","$url",293],")",["T_OBJECT_OPERATOR","->",293],["T_STRING","toString",293],"(",")",";",["T_WHITESPACE","\n    ",293],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","assertEqual",294],"(",["T_VARIABLE","$url",294],",",["T_WHITESPACE"," ",294],["T_VARIABLE","$result",294],",",["T_WHITESPACE"," ",294],["T_CONSTANT_ENCAPSED_STRING","'External URL with fragment works without a fragment in $options.'",294],")",";",["T_WHITESPACE","\n\n    ",294],["T_COMMENT","\/\/ Verify fragment can be overridden in an external URL.\n",296],["T_WHITESPACE","    ",297],["T_VARIABLE","$url",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_VARIABLE","$test_url",297],["T_WHITESPACE"," ",297],".",["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","'#drupal'",297],";",["T_WHITESPACE","\n    ",297],["T_VARIABLE","$fragment",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","randomMachineName",298],"(",["T_LNUMBER","10",298],")",";",["T_WHITESPACE","\n    ",298],["T_VARIABLE","$result",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_STRING","Url",299],["T_DOUBLE_COLON","::",299],["T_STRING","fromUri",299],"(",["T_VARIABLE","$url",299],",",["T_WHITESPACE"," ",299],["T_ARRAY","array",299],"(",["T_CONSTANT_ENCAPSED_STRING","'fragment'",299],["T_WHITESPACE"," ",299],["T_DOUBLE_ARROW","=>",299],["T_WHITESPACE"," ",299],["T_VARIABLE","$fragment",299],")",")",["T_OBJECT_OPERATOR","->",299],["T_STRING","toString",299],"(",")",";",["T_WHITESPACE","\n    ",299],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","assertEqual",300],"(",["T_VARIABLE","$test_url",300],["T_WHITESPACE"," ",300],".",["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","'#'",300],["T_WHITESPACE"," ",300],".",["T_WHITESPACE"," ",300],["T_VARIABLE","$fragment",300],",",["T_WHITESPACE"," ",300],["T_VARIABLE","$result",300],",",["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","'External URL fragment is overridden with a custom fragment in $options.'",300],")",";",["T_WHITESPACE","\n\n    ",300],["T_COMMENT","\/\/ Verify external URL can contain a query string.\n",302],["T_WHITESPACE","    ",303],["T_VARIABLE","$url",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_VARIABLE","$test_url",303],["T_WHITESPACE"," ",303],".",["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","'?drupal=awesome'",303],";",["T_WHITESPACE","\n    ",303],["T_VARIABLE","$result",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_STRING","Url",304],["T_DOUBLE_COLON","::",304],["T_STRING","fromUri",304],"(",["T_VARIABLE","$url",304],")",["T_OBJECT_OPERATOR","->",304],["T_STRING","toString",304],"(",")",";",["T_WHITESPACE","\n    ",304],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","assertEqual",305],"(",["T_VARIABLE","$url",305],",",["T_WHITESPACE"," ",305],["T_VARIABLE","$result",305],")",";",["T_WHITESPACE","\n\n    ",305],["T_COMMENT","\/\/ Verify external URL can be extended with a query string.\n",307],["T_WHITESPACE","    ",308],["T_VARIABLE","$url",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_VARIABLE","$test_url",308],";",["T_WHITESPACE","\n    ",308],["T_VARIABLE","$query",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_ARRAY","array",309],"(",["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","randomMachineName",309],"(",["T_LNUMBER","5",309],")",["T_WHITESPACE"," ",309],["T_DOUBLE_ARROW","=>",309],["T_WHITESPACE"," ",309],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","randomMachineName",309],"(",["T_LNUMBER","5",309],")",")",";",["T_WHITESPACE","\n    ",309],["T_VARIABLE","$result",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_STRING","Url",310],["T_DOUBLE_COLON","::",310],["T_STRING","fromUri",310],"(",["T_VARIABLE","$url",310],",",["T_WHITESPACE"," ",310],["T_ARRAY","array",310],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",310],["T_WHITESPACE"," ",310],["T_DOUBLE_ARROW","=>",310],["T_WHITESPACE"," ",310],["T_VARIABLE","$query",310],")",")",["T_OBJECT_OPERATOR","->",310],["T_STRING","toString",310],"(",")",";",["T_WHITESPACE","\n    ",310],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","assertEqual",311],"(",["T_VARIABLE","$url",311],["T_WHITESPACE"," ",311],".",["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","'?'",311],["T_WHITESPACE"," ",311],".",["T_WHITESPACE"," ",311],["T_STRING","http_build_query",311],"(",["T_VARIABLE","$query",311],",",["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","''",311],",",["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","'&'",311],")",",",["T_WHITESPACE"," ",311],["T_VARIABLE","$result",311],",",["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","'External URL can be extended with a query string in $options.'",311],")",";",["T_WHITESPACE","\n\n    ",311],["T_COMMENT","\/\/ Verify query string can be extended in an external URL.\n",313],["T_WHITESPACE","    ",314],["T_VARIABLE","$url",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_VARIABLE","$test_url",314],["T_WHITESPACE"," ",314],".",["T_WHITESPACE"," ",314],["T_CONSTANT_ENCAPSED_STRING","'?drupal=awesome'",314],";",["T_WHITESPACE","\n    ",314],["T_VARIABLE","$query",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_ARRAY","array",315],"(",["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","randomMachineName",315],"(",["T_LNUMBER","5",315],")",["T_WHITESPACE"," ",315],["T_DOUBLE_ARROW","=>",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","randomMachineName",315],"(",["T_LNUMBER","5",315],")",")",";",["T_WHITESPACE","\n    ",315],["T_VARIABLE","$result",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_STRING","Url",316],["T_DOUBLE_COLON","::",316],["T_STRING","fromUri",316],"(",["T_VARIABLE","$url",316],",",["T_WHITESPACE"," ",316],["T_ARRAY","array",316],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",316],["T_WHITESPACE"," ",316],["T_DOUBLE_ARROW","=>",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$query",316],")",")",["T_OBJECT_OPERATOR","->",316],["T_STRING","toString",316],"(",")",";",["T_WHITESPACE","\n    ",316],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","assertEqual",317],"(",["T_VARIABLE","$url",317],["T_WHITESPACE"," ",317],".",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","'&'",317],["T_WHITESPACE"," ",317],".",["T_WHITESPACE"," ",317],["T_STRING","http_build_query",317],"(",["T_VARIABLE","$query",317],",",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","''",317],",",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","'&'",317],")",",",["T_WHITESPACE"," ",317],["T_VARIABLE","$result",317],")",";",["T_WHITESPACE","\n  ",317],"}",["T_WHITESPACE","\n\n",318],"}",["T_WHITESPACE","\n",320]]