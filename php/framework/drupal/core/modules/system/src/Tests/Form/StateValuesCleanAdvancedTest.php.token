[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","system",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Form",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","simpletest",5],["T_NS_SEPARATOR","\\",5],["T_STRING","WebTestBase",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests proper removal of submitted form values using\n * \\Drupal\\Core\\Form\\FormState::cleanValues() when having forms with elements\n * containing buttons like \"managed_file\".\n *\n * @group Form\n *\/",7],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","StateValuesCleanAdvancedTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","WebTestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",16],["T_WHITESPACE","\n  ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_STATIC","static",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$modules",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_ARRAY","array",21],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'form_test'",21],")",";",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * An image file path for uploading.\n   *\/",23],["T_WHITESPACE","\n  ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$image",26],";",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * Tests \\Drupal\\Core\\Form\\FormState::cleanValues().\n   *\/",28],["T_WHITESPACE","\n  ",30],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","testFormStateValuesCleanAdvanced",31],"(",")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n\n    ",31],["T_COMMENT","\/\/ Get an image for uploading.\n",33],["T_WHITESPACE","    ",34],["T_VARIABLE","$image_files",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","drupalGetTestFiles",34],"(",["T_CONSTANT_ENCAPSED_STRING","'image'",34],")",";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","image",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_STRING","current",35],"(",["T_VARIABLE","$image_files",35],")",";",["T_WHITESPACE","\n\n    ",35],["T_COMMENT","\/\/ Check if the physical file is there.\n",37],["T_WHITESPACE","    ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","assertTrue",38],"(",["T_STRING","is_file",38],"(",["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","image",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","uri",38],")",",",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","\"The image file we're going to upload exists.\"",38],")",";",["T_WHITESPACE","\n\n    ",38],["T_COMMENT","\/\/ \"Browse\" for the desired file.\n",40],["T_WHITESPACE","    ",41],["T_VARIABLE","$edit",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_ARRAY","array",41],"(",["T_CONSTANT_ENCAPSED_STRING","'files[image]'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_STRING","drupal_realpath",41],"(",["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","image",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","uri",41],")",")",";",["T_WHITESPACE","\n\n    ",41],["T_COMMENT","\/\/ Post the form.\n",43],["T_WHITESPACE","    ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","drupalPostForm",44],"(",["T_CONSTANT_ENCAPSED_STRING","'form_test\/form-state-values-clean-advanced'",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$edit",44],",",["T_WHITESPACE"," ",44],["T_STRING","t",44],"(",["T_CONSTANT_ENCAPSED_STRING","'Submit'",44],")",")",";",["T_WHITESPACE","\n\n    ",44],["T_COMMENT","\/\/ Expecting a 200 HTTP code.\n",46],["T_WHITESPACE","    ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","assertResponse",47],"(",["T_LNUMBER","200",47],",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'Received a 200 response for posted test file.'",47],")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","assertRaw",48],"(",["T_STRING","t",48],"(",["T_CONSTANT_ENCAPSED_STRING","'You WIN!'",48],")",",",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'Found the success message.'",48],")",";",["T_WHITESPACE","\n  ",48],"}",["T_WHITESPACE","\n\n",49],"}",["T_WHITESPACE","\n",51]]