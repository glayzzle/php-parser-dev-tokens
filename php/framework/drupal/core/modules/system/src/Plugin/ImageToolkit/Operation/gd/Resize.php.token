[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","system",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","ImageToolkit",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Operation",3],["T_NS_SEPARATOR","\\",3],["T_STRING","gd",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Defines GD2 resize operation.\n *\n * @ImageToolkitOperation(\n *   id = \"gd_resize\",\n *   toolkit = \"gd\",\n *   operation = \"resize\",\n *   label = @Translation(\"Resize\"),\n *   description = @Translation(\"Resizes an image to the given dimensions (ignoring aspect ratio).\")\n * )\n *\/",5],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","Resize",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","GDImageToolkitOperationBase",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",18],["T_WHITESPACE","\n  ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_FUNCTION","function",21],["T_WHITESPACE"," ",21],["T_STRING","arguments",21],"(",")",["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n    ",21],["T_RETURN","return",22],["T_WHITESPACE"," ",22],["T_ARRAY","array",22],"(",["T_WHITESPACE","\n      ",22],["T_CONSTANT_ENCAPSED_STRING","'width'",23],["T_WHITESPACE"," ",23],["T_DOUBLE_ARROW","=>",23],["T_WHITESPACE"," ",23],["T_ARRAY","array",23],"(",["T_WHITESPACE","\n        ",23],["T_CONSTANT_ENCAPSED_STRING","'description'",24],["T_WHITESPACE"," ",24],["T_DOUBLE_ARROW","=>",24],["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'The new width of the resized image, in pixels'",24],",",["T_WHITESPACE","\n      ",24],")",",",["T_WHITESPACE","\n      ",25],["T_CONSTANT_ENCAPSED_STRING","'height'",26],["T_WHITESPACE"," ",26],["T_DOUBLE_ARROW","=>",26],["T_WHITESPACE"," ",26],["T_ARRAY","array",26],"(",["T_WHITESPACE","\n        ",26],["T_CONSTANT_ENCAPSED_STRING","'description'",27],["T_WHITESPACE"," ",27],["T_DOUBLE_ARROW","=>",27],["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'The new height of the resized image, in pixels'",27],",",["T_WHITESPACE","\n      ",27],")",",",["T_WHITESPACE","\n    ",28],")",";",["T_WHITESPACE","\n  ",29],"}",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",32],["T_WHITESPACE","\n  ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","validateArguments",35],"(",["T_ARRAY","array",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$arguments",35],")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n    ",35],["T_COMMENT","\/\/ Assure integers for all arguments.\n",36],["T_WHITESPACE","    ",37],["T_VARIABLE","$arguments",37],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",37],"]",["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_INT_CAST","(int)",37],["T_WHITESPACE"," ",37],["T_STRING","round",37],"(",["T_VARIABLE","$arguments",37],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",37],"]",")",";",["T_WHITESPACE","\n    ",37],["T_VARIABLE","$arguments",38],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",38],"]",["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_INT_CAST","(int)",38],["T_WHITESPACE"," ",38],["T_STRING","round",38],"(",["T_VARIABLE","$arguments",38],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",38],"]",")",";",["T_WHITESPACE","\n\n    ",38],["T_COMMENT","\/\/ Fail when width or height are 0 or negative.\n",40],["T_WHITESPACE","    ",41],["T_IF","if",41],["T_WHITESPACE"," ",41],"(",["T_VARIABLE","$arguments",41],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",41],"]",["T_WHITESPACE"," ",41],["T_IS_SMALLER_OR_EQUAL","<=",41],["T_WHITESPACE"," ",41],["T_LNUMBER","0",41],")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n      ",41],["T_THROW","throw",42],["T_WHITESPACE"," ",42],["T_NEW","new",42],["T_WHITESPACE"," ",42],["T_NS_SEPARATOR","\\",42],["T_STRING","InvalidArgumentException",42],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Invalid width ('",42],["T_CURLY_OPEN","{",42],["T_VARIABLE","$arguments",42],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",42],"]","}",["T_ENCAPSED_AND_WHITESPACE","') specified for the image 'resize' operation",42],"\"",")",";",["T_WHITESPACE","\n    ",42],"}",["T_WHITESPACE","\n    ",43],["T_IF","if",44],["T_WHITESPACE"," ",44],"(",["T_VARIABLE","$arguments",44],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",44],"]",["T_WHITESPACE"," ",44],["T_IS_SMALLER_OR_EQUAL","<=",44],["T_WHITESPACE"," ",44],["T_LNUMBER","0",44],")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n      ",44],["T_THROW","throw",45],["T_WHITESPACE"," ",45],["T_NEW","new",45],["T_WHITESPACE"," ",45],["T_NS_SEPARATOR","\\",45],["T_STRING","InvalidArgumentException",45],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Invalid height ('",45],["T_CURLY_OPEN","{",45],["T_VARIABLE","$arguments",45],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",45],"]","}",["T_ENCAPSED_AND_WHITESPACE","') specified for the image 'resize' operation",45],"\"",")",";",["T_WHITESPACE","\n    ",45],"}",["T_WHITESPACE","\n\n    ",46],["T_RETURN","return",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$arguments",48],";",["T_WHITESPACE","\n  ",48],"}",["T_WHITESPACE","\n\n  ",49],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",51],["T_WHITESPACE","\n  ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","execute",54],"(",["T_ARRAY","array",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$arguments",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_ARRAY","array",54],"(",")",")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n    ",54],["T_COMMENT","\/\/ Create a new resource of the required dimensions, and copy and resize\n",55],["T_WHITESPACE","    ",56],["T_COMMENT","\/\/ the original resource on it with resampling. Destroy the original\n",56],["T_WHITESPACE","    ",57],["T_COMMENT","\/\/ resource upon success.\n",57],["T_WHITESPACE","    ",58],["T_VARIABLE","$original_resource",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getToolkit",58],"(",")",["T_OBJECT_OPERATOR","->",58],["T_STRING","getResource",58],"(",")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$data",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_ARRAY","array",59],"(",["T_WHITESPACE","\n      ",59],["T_CONSTANT_ENCAPSED_STRING","'width'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$arguments",60],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",60],"]",",",["T_WHITESPACE","\n      ",60],["T_CONSTANT_ENCAPSED_STRING","'height'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$arguments",61],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",61],"]",",",["T_WHITESPACE","\n      ",61],["T_CONSTANT_ENCAPSED_STRING","'extension'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_STRING","image_type_to_extension",62],"(",["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getToolkit",62],"(",")",["T_OBJECT_OPERATOR","->",62],["T_STRING","getType",62],"(",")",",",["T_WHITESPACE"," ",62],["T_STRING","FALSE",62],")",",",["T_WHITESPACE","\n      ",62],["T_CONSTANT_ENCAPSED_STRING","'transparent_color'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getToolkit",63],"(",")",["T_OBJECT_OPERATOR","->",63],["T_STRING","getTransparentColor",63],"(",")",",",["T_WHITESPACE","\n      ",63],["T_CONSTANT_ENCAPSED_STRING","'is_temp'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_STRING","TRUE",64],",",["T_WHITESPACE","\n    ",64],")",";",["T_WHITESPACE","\n    ",65],["T_IF","if",66],["T_WHITESPACE"," ",66],"(",["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getToolkit",66],"(",")",["T_OBJECT_OPERATOR","->",66],["T_STRING","apply",66],"(",["T_CONSTANT_ENCAPSED_STRING","'create_new'",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$data",66],")",")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n      ",66],["T_IF","if",67],["T_WHITESPACE"," ",67],"(",["T_STRING","imagecopyresampled",67],"(",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getToolkit",67],"(",")",["T_OBJECT_OPERATOR","->",67],["T_STRING","getResource",67],"(",")",",",["T_WHITESPACE"," ",67],["T_VARIABLE","$original_resource",67],",",["T_WHITESPACE"," ",67],["T_LNUMBER","0",67],",",["T_WHITESPACE"," ",67],["T_LNUMBER","0",67],",",["T_WHITESPACE"," ",67],["T_LNUMBER","0",67],",",["T_WHITESPACE"," ",67],["T_LNUMBER","0",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$arguments",67],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",67],"]",",",["T_WHITESPACE"," ",67],["T_VARIABLE","$arguments",67],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",67],"]",",",["T_WHITESPACE"," ",67],["T_STRING","imagesx",67],"(",["T_VARIABLE","$original_resource",67],")",",",["T_WHITESPACE"," ",67],["T_STRING","imagesy",67],"(",["T_VARIABLE","$original_resource",67],")",")",")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n        ",67],["T_STRING","imagedestroy",68],"(",["T_VARIABLE","$original_resource",68],")",";",["T_WHITESPACE","\n        ",68],["T_RETURN","return",69],["T_WHITESPACE"," ",69],["T_STRING","TRUE",69],";",["T_WHITESPACE","\n      ",69],"}",["T_WHITESPACE","\n      ",70],["T_ELSE","else",71],["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n        ",71],["T_COMMENT","\/\/ In case of failure, destroy the temporary resource and restore\n",72],["T_WHITESPACE","        ",73],["T_COMMENT","\/\/ the original one.\n",73],["T_WHITESPACE","        ",74],["T_STRING","imagedestroy",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getToolkit",74],"(",")",["T_OBJECT_OPERATOR","->",74],["T_STRING","getResource",74],"(",")",")",";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getToolkit",75],"(",")",["T_OBJECT_OPERATOR","->",75],["T_STRING","setResource",75],"(",["T_VARIABLE","$original_resource",75],")",";",["T_WHITESPACE","\n      ",75],"}",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n    ",77],["T_RETURN","return",78],["T_WHITESPACE"," ",78],["T_STRING","FALSE",78],";",["T_WHITESPACE","\n  ",78],"}",["T_WHITESPACE","\n\n",79],"}",["T_WHITESPACE","\n",81]]