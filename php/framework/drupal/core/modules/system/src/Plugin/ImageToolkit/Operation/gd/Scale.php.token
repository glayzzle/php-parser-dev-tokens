[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","system",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","ImageToolkit",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Operation",3],["T_NS_SEPARATOR","\\",3],["T_STRING","gd",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Defines GD2 Scale operation.\n *\n * @ImageToolkitOperation(\n *   id = \"gd_scale\",\n *   toolkit = \"gd\",\n *   operation = \"scale\",\n *   label = @Translation(\"Scale\"),\n *   description = @Translation(\"Scales an image while maintaining aspect ratio. The resulting image can be smaller for one or both target dimensions.\")\n * )\n *\/",5],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","Scale",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","Resize",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",18],["T_WHITESPACE","\n  ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_FUNCTION","function",21],["T_WHITESPACE"," ",21],["T_STRING","arguments",21],"(",")",["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n    ",21],["T_RETURN","return",22],["T_WHITESPACE"," ",22],["T_ARRAY","array",22],"(",["T_WHITESPACE","\n      ",22],["T_CONSTANT_ENCAPSED_STRING","'width'",23],["T_WHITESPACE"," ",23],["T_DOUBLE_ARROW","=>",23],["T_WHITESPACE"," ",23],["T_ARRAY","array",23],"(",["T_WHITESPACE","\n        ",23],["T_CONSTANT_ENCAPSED_STRING","'description'",24],["T_WHITESPACE"," ",24],["T_DOUBLE_ARROW","=>",24],["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'The target width, in pixels. This value is omitted then the scaling will based only on the height value'",24],",",["T_WHITESPACE","\n        ",24],["T_CONSTANT_ENCAPSED_STRING","'required'",25],["T_WHITESPACE"," ",25],["T_DOUBLE_ARROW","=>",25],["T_WHITESPACE"," ",25],["T_STRING","FALSE",25],",",["T_WHITESPACE","\n        ",25],["T_CONSTANT_ENCAPSED_STRING","'default'",26],["T_WHITESPACE"," ",26],["T_DOUBLE_ARROW","=>",26],["T_WHITESPACE"," ",26],["T_STRING","NULL",26],",",["T_WHITESPACE","\n      ",26],")",",",["T_WHITESPACE","\n      ",27],["T_CONSTANT_ENCAPSED_STRING","'height'",28],["T_WHITESPACE"," ",28],["T_DOUBLE_ARROW","=>",28],["T_WHITESPACE"," ",28],["T_ARRAY","array",28],"(",["T_WHITESPACE","\n        ",28],["T_CONSTANT_ENCAPSED_STRING","'description'",29],["T_WHITESPACE"," ",29],["T_DOUBLE_ARROW","=>",29],["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'The target height, in pixels. This value is omitted then the scaling will based only on the width value'",29],",",["T_WHITESPACE","\n        ",29],["T_CONSTANT_ENCAPSED_STRING","'required'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_STRING","FALSE",30],",",["T_WHITESPACE","\n        ",30],["T_CONSTANT_ENCAPSED_STRING","'default'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_STRING","NULL",31],",",["T_WHITESPACE","\n      ",31],")",",",["T_WHITESPACE","\n      ",32],["T_CONSTANT_ENCAPSED_STRING","'upscale'",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_ARRAY","array",33],"(",["T_WHITESPACE","\n        ",33],["T_CONSTANT_ENCAPSED_STRING","'description'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'Boolean indicating that files smaller than the dimensions will be scaled up. This generally results in a low quality image'",34],",",["T_WHITESPACE","\n        ",34],["T_CONSTANT_ENCAPSED_STRING","'required'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_STRING","FALSE",35],",",["T_WHITESPACE","\n        ",35],["T_CONSTANT_ENCAPSED_STRING","'default'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_STRING","FALSE",36],",",["T_WHITESPACE","\n      ",36],")",",",["T_WHITESPACE","\n    ",37],")",";",["T_WHITESPACE","\n  ",38],"}",["T_WHITESPACE","\n\n  ",39],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",41],["T_WHITESPACE","\n  ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","validateArguments",44],"(",["T_ARRAY","array",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$arguments",44],")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n    ",44],["T_COMMENT","\/\/ Assure at least one dimension.\n",45],["T_WHITESPACE","    ",46],["T_IF","if",46],["T_WHITESPACE"," ",46],"(",["T_EMPTY","empty",46],"(",["T_VARIABLE","$arguments",46],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",46],"]",")",["T_WHITESPACE"," ",46],["T_BOOLEAN_AND","&&",46],["T_WHITESPACE"," ",46],["T_EMPTY","empty",46],"(",["T_VARIABLE","$arguments",46],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",46],"]",")",")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n      ",46],["T_THROW","throw",47],["T_WHITESPACE"," ",47],["T_NEW","new",47],["T_WHITESPACE"," ",47],["T_NS_SEPARATOR","\\",47],["T_STRING","InvalidArgumentException",47],"(",["T_CONSTANT_ENCAPSED_STRING","\"At least one dimension ('width' or 'height') must be provided to the image 'scale' operation\"",47],")",";",["T_WHITESPACE","\n    ",47],"}",["T_WHITESPACE","\n\n    ",48],["T_COMMENT","\/\/ Calculate one of the dimensions from the other target dimension,\n",50],["T_WHITESPACE","    ",51],["T_COMMENT","\/\/ ensuring the same aspect ratio as the source dimensions. If one of the\n",51],["T_WHITESPACE","    ",52],["T_COMMENT","\/\/ target dimensions is missing, that is the one that is calculated. If both\n",52],["T_WHITESPACE","    ",53],["T_COMMENT","\/\/ are specified then the dimension calculated is the one that would not be\n",53],["T_WHITESPACE","    ",54],["T_COMMENT","\/\/ calculated to be bigger than its target.\n",54],["T_WHITESPACE","    ",55],["T_VARIABLE","$aspect",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getToolkit",55],"(",")",["T_OBJECT_OPERATOR","->",55],["T_STRING","getHeight",55],"(",")",["T_WHITESPACE"," ",55],"\/",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getToolkit",55],"(",")",["T_OBJECT_OPERATOR","->",55],["T_STRING","getWidth",55],"(",")",";",["T_WHITESPACE","\n    ",55],["T_IF","if",56],["T_WHITESPACE"," ",56],"(","(",["T_VARIABLE","$arguments",56],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",56],"]",["T_WHITESPACE"," ",56],["T_BOOLEAN_AND","&&",56],["T_WHITESPACE"," ",56],"!",["T_VARIABLE","$arguments",56],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",56],"]",")",["T_WHITESPACE"," ",56],["T_BOOLEAN_OR","||",56],["T_WHITESPACE"," ",56],"(",["T_VARIABLE","$arguments",56],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",56],"]",["T_WHITESPACE"," ",56],["T_BOOLEAN_AND","&&",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$arguments",56],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",56],"]",["T_WHITESPACE"," ",56],["T_BOOLEAN_AND","&&",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$aspect",56],["T_WHITESPACE"," ",56],"<",["T_WHITESPACE"," ",56],["T_VARIABLE","$arguments",56],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",56],"]",["T_WHITESPACE"," ",56],"\/",["T_WHITESPACE"," ",56],["T_VARIABLE","$arguments",56],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",56],"]",")",")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n      ",56],["T_VARIABLE","$arguments",57],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",57],"]",["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_INT_CAST","(int)",57],["T_WHITESPACE"," ",57],["T_STRING","round",57],"(",["T_VARIABLE","$arguments",57],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",57],"]",["T_WHITESPACE"," ",57],"*",["T_WHITESPACE"," ",57],["T_VARIABLE","$aspect",57],")",";",["T_WHITESPACE","\n    ",57],"}",["T_WHITESPACE","\n    ",58],["T_ELSE","else",59],["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n      ",59],["T_VARIABLE","$arguments",60],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",60],"]",["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_INT_CAST","(int)",60],["T_WHITESPACE"," ",60],["T_STRING","round",60],"(",["T_VARIABLE","$arguments",60],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",60],"]",["T_WHITESPACE"," ",60],"\/",["T_WHITESPACE"," ",60],["T_VARIABLE","$aspect",60],")",";",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n\n    ",61],["T_COMMENT","\/\/ Assure integers for all arguments.\n",63],["T_WHITESPACE","    ",64],["T_VARIABLE","$arguments",64],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",64],"]",["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_INT_CAST","(int)",64],["T_WHITESPACE"," ",64],["T_STRING","round",64],"(",["T_VARIABLE","$arguments",64],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",64],"]",")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$arguments",65],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",65],"]",["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_INT_CAST","(int)",65],["T_WHITESPACE"," ",65],["T_STRING","round",65],"(",["T_VARIABLE","$arguments",65],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",65],"]",")",";",["T_WHITESPACE","\n\n    ",65],["T_COMMENT","\/\/ Fail when width or height are 0 or negative.\n",67],["T_WHITESPACE","    ",68],["T_IF","if",68],["T_WHITESPACE"," ",68],"(",["T_VARIABLE","$arguments",68],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",68],"]",["T_WHITESPACE"," ",68],["T_IS_SMALLER_OR_EQUAL","<=",68],["T_WHITESPACE"," ",68],["T_LNUMBER","0",68],")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n      ",68],["T_THROW","throw",69],["T_WHITESPACE"," ",69],["T_NEW","new",69],["T_WHITESPACE"," ",69],["T_NS_SEPARATOR","\\",69],["T_STRING","InvalidArgumentException",69],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Invalid width ('",69],["T_CURLY_OPEN","{",69],["T_VARIABLE","$arguments",69],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",69],"]","}",["T_ENCAPSED_AND_WHITESPACE","') specified for the image 'scale' operation",69],"\"",")",";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n    ",70],["T_IF","if",71],["T_WHITESPACE"," ",71],"(",["T_VARIABLE","$arguments",71],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",71],"]",["T_WHITESPACE"," ",71],["T_IS_SMALLER_OR_EQUAL","<=",71],["T_WHITESPACE"," ",71],["T_LNUMBER","0",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n      ",71],["T_THROW","throw",72],["T_WHITESPACE"," ",72],["T_NEW","new",72],["T_WHITESPACE"," ",72],["T_NS_SEPARATOR","\\",72],["T_STRING","InvalidArgumentException",72],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Invalid height ('",72],["T_CURLY_OPEN","{",72],["T_VARIABLE","$arguments",72],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",72],"]","}",["T_ENCAPSED_AND_WHITESPACE","') specified for the image 'scale' operation",72],"\"",")",";",["T_WHITESPACE","\n    ",72],"}",["T_WHITESPACE","\n\n    ",73],["T_RETURN","return",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$arguments",75],";",["T_WHITESPACE","\n  ",75],"}",["T_WHITESPACE","\n\n  ",76],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",78],["T_WHITESPACE","\n  ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","execute",81],"(",["T_ARRAY","array",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$arguments",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_ARRAY","array",81],"(",")",")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n    ",81],["T_COMMENT","\/\/ Don't scale if we don't change the dimensions at all.\n",82],["T_WHITESPACE","    ",83],["T_IF","if",83],["T_WHITESPACE"," ",83],"(",["T_VARIABLE","$arguments",83],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",83],"]",["T_WHITESPACE"," ",83],["T_IS_NOT_IDENTICAL","!==",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getToolkit",83],"(",")",["T_OBJECT_OPERATOR","->",83],["T_STRING","getWidth",83],"(",")",["T_WHITESPACE"," ",83],["T_BOOLEAN_OR","||",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$arguments",83],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",83],"]",["T_WHITESPACE"," ",83],["T_IS_NOT_IDENTICAL","!==",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getToolkit",83],"(",")",["T_OBJECT_OPERATOR","->",83],["T_STRING","getHeight",83],"(",")",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n      ",83],["T_COMMENT","\/\/ Don't upscale if the option isn't enabled.\n",84],["T_WHITESPACE","      ",85],["T_IF","if",85],["T_WHITESPACE"," ",85],"(",["T_VARIABLE","$arguments",85],"[",["T_CONSTANT_ENCAPSED_STRING","'upscale'",85],"]",["T_WHITESPACE"," ",85],["T_BOOLEAN_OR","||",85],["T_WHITESPACE"," ",85],"(",["T_VARIABLE","$arguments",85],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",85],"]",["T_WHITESPACE"," ",85],["T_IS_SMALLER_OR_EQUAL","<=",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getToolkit",85],"(",")",["T_OBJECT_OPERATOR","->",85],["T_STRING","getWidth",85],"(",")",["T_WHITESPACE"," ",85],["T_BOOLEAN_AND","&&",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$arguments",85],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",85],"]",["T_WHITESPACE"," ",85],["T_IS_SMALLER_OR_EQUAL","<=",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getToolkit",85],"(",")",["T_OBJECT_OPERATOR","->",85],["T_STRING","getHeight",85],"(",")",")",")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n        ",85],["T_RETURN","return",86],["T_WHITESPACE"," ",86],["T_STRING","parent",86],["T_DOUBLE_COLON","::",86],["T_STRING","execute",86],"(",["T_VARIABLE","$arguments",86],")",";",["T_WHITESPACE","\n      ",86],"}",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n    ",88],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_STRING","TRUE",89],";",["T_WHITESPACE","\n  ",89],"}",["T_WHITESPACE","\n\n",90],"}",["T_WHITESPACE","\n",92]]