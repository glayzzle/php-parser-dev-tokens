[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","entity_test",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Controller",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Cache",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Cache",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Controller",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ControllerBase",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Query",7],["T_NS_SEPARATOR","\\",7],["T_STRING","QueryFactory",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Symfony",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Component",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DependencyInjection",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ContainerInterface",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Controller routines for entity_test routes.\n *\/",10],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","EntityTestController",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","ControllerBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * The entity query factory.\n   *\n   * @var \\Drupal\\Core\\Entity\\Query\\QueryFactory\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$entityQueryFactory",20],";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * Constructs a new EntityTestController.\n   *\n   * @param \\Drupal\\Core\\Entity\\Query\\QueryFactory $entity_query_factory\n   *   The entity query factory.\n   *\/",22],["T_WHITESPACE","\n  ",27],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","__construct",28],"(",["T_STRING","QueryFactory",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$entity_query_factory",28],")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n    ",28],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","entityQueryFactory",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_VARIABLE","$entity_query_factory",29],";",["T_WHITESPACE","\n  ",29],"}",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",32],["T_WHITESPACE","\n  ",34],["T_PUBLIC","public",35],["T_WHITESPACE"," ",35],["T_STATIC","static",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","create",35],"(",["T_STRING","ContainerInterface",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$container",35],")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n    ",35],["T_RETURN","return",36],["T_WHITESPACE"," ",36],["T_NEW","new",36],["T_WHITESPACE"," ",36],["T_STATIC","static",36],"(",["T_WHITESPACE","\n      ",36],["T_VARIABLE","$container",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","get",37],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.query'",37],")",["T_WHITESPACE","\n    ",37],")",";",["T_WHITESPACE","\n  ",38],"}",["T_WHITESPACE","\n\n  ",39],["T_DOC_COMMENT","\/**\n   * Returns an empty page.\n   *\n   * @see \\Drupal\\entity_test\\Routing\\EntityTestRoutes::routes()\n   *\/",41],["T_WHITESPACE","\n  ",45],["T_PUBLIC","public",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","testAdmin",46],"(",")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n    ",46],["T_RETURN","return",47],["T_WHITESPACE"," ",47],"[","]",";",["T_WHITESPACE","\n  ",47],"}",["T_WHITESPACE","\n\n  ",48],["T_DOC_COMMENT","\/**\n   * List entity_test entities referencing the given entity.\n   *\n   * @param string $entity_reference_field_name\n   *   The name of the entity_reference field to use in the query.\n   * @param string $referenced_entity_type\n   *   The type of the entity being referenced.\n   * @param int $referenced_entity_id\n   *   The ID of the entity being referenced.\n   *\n   * @return array\n   *   A renderable array.\n   *\/",50],["T_WHITESPACE","\n  ",62],["T_PUBLIC","public",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","listReferencingEntities",63],"(",["T_VARIABLE","$entity_reference_field_name",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$referenced_entity_type",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$referenced_entity_id",63],")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n    ",63],["T_COMMENT","\/\/ Early return if the referenced entity does not exist (or is deleted).\n",64],["T_WHITESPACE","    ",65],["T_VARIABLE","$referenced_entity",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","entityManager",65],"(",")",["T_WHITESPACE","\n      ",65],["T_OBJECT_OPERATOR","->",66],["T_STRING","getStorage",66],"(",["T_VARIABLE","$referenced_entity_type",66],")",["T_WHITESPACE","\n      ",66],["T_OBJECT_OPERATOR","->",67],["T_STRING","load",67],"(",["T_VARIABLE","$referenced_entity_id",67],")",";",["T_WHITESPACE","\n    ",67],["T_IF","if",68],["T_WHITESPACE"," ",68],"(",["T_VARIABLE","$referenced_entity",68],["T_WHITESPACE"," ",68],["T_IS_IDENTICAL","===",68],["T_WHITESPACE"," ",68],["T_STRING","NULL",68],")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n      ",68],["T_RETURN","return",69],["T_WHITESPACE"," ",69],["T_ARRAY","array",69],"(",")",";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n\n    ",70],["T_VARIABLE","$query",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","entityQueryFactory",72],["T_WHITESPACE","\n      ",72],["T_OBJECT_OPERATOR","->",73],["T_STRING","get",73],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",73],")",["T_WHITESPACE","\n      ",73],["T_OBJECT_OPERATOR","->",74],["T_STRING","condition",74],"(",["T_VARIABLE","$entity_reference_field_name",74],["T_WHITESPACE"," ",74],".",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'.target_id'",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$referenced_entity_id",74],")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$entities",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","entityManager",75],"(",")",["T_WHITESPACE","\n      ",75],["T_OBJECT_OPERATOR","->",76],["T_STRING","getStorage",76],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",76],")",["T_WHITESPACE","\n      ",76],["T_OBJECT_OPERATOR","->",77],["T_STRING","loadMultiple",77],"(",["T_VARIABLE","$query",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","execute",77],"(",")",")",";",["T_WHITESPACE","\n    ",77],["T_RETURN","return",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","entityManager",78],"(",")",["T_WHITESPACE","\n      ",78],["T_OBJECT_OPERATOR","->",79],["T_STRING","getViewBuilder",79],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",79],")",["T_WHITESPACE","\n      ",79],["T_OBJECT_OPERATOR","->",80],["T_STRING","viewMultiple",80],"(",["T_VARIABLE","$entities",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'full'",80],")",";",["T_WHITESPACE","\n  ",80],"}",["T_WHITESPACE","\n\n  ",81],["T_DOC_COMMENT","\/**\n   * List entities of the given entity type labels, sorted alphabetically.\n   *\n   * @param string $entity_type_id\n   *   The type of the entity being listed.\n   *\n   * @return array\n   *   A renderable array.\n   *\/",83],["T_WHITESPACE","\n  ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","listEntitiesAlphabetically",92],"(",["T_VARIABLE","$entity_type_id",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$entity_type_definition",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","entityManager",93],"(",")",["T_OBJECT_OPERATOR","->",93],["T_STRING","getDefinition",93],"(",["T_VARIABLE","$entity_type_id",93],")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$query",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","entityQueryFactory",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","get",94],"(",["T_VARIABLE","$entity_type_id",94],")",";",["T_WHITESPACE","\n\n    ",94],["T_COMMENT","\/\/ Sort by label field, if any.\n",96],["T_WHITESPACE","    ",97],["T_IF","if",97],["T_WHITESPACE"," ",97],"(",["T_VARIABLE","$label_field",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$entity_type_definition",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getKey",97],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",97],")",")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n      ",97],["T_VARIABLE","$query",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","sort",98],"(",["T_VARIABLE","$label_field",98],")",";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n\n    ",99],["T_VARIABLE","$entities",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","entityManager",101],"(",")",["T_WHITESPACE","\n      ",101],["T_OBJECT_OPERATOR","->",102],["T_STRING","getStorage",102],"(",["T_VARIABLE","$entity_type_id",102],")",["T_WHITESPACE","\n      ",102],["T_OBJECT_OPERATOR","->",103],["T_STRING","loadMultiple",103],"(",["T_VARIABLE","$query",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","execute",103],"(",")",")",";",["T_WHITESPACE","\n\n    ",103],["T_VARIABLE","$cache_tags",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],"[","]",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$labels",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],"[","]",";",["T_WHITESPACE","\n    ",106],["T_FOREACH","foreach",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$entities",107],["T_WHITESPACE"," ",107],["T_AS","as",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$entity",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n      ",107],["T_VARIABLE","$labels",108],"[","]",["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$entity",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","label",108],"(",")",";",["T_WHITESPACE","\n      ",108],["T_VARIABLE","$cache_tags",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_STRING","Cache",109],["T_DOUBLE_COLON","::",109],["T_STRING","mergeTags",109],"(",["T_VARIABLE","$cache_tags",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$entity",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getCacheTags",109],"(",")",")",";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n    ",110],["T_COMMENT","\/\/ Always associate the list cache tag, otherwise the cached empty result\n",111],["T_WHITESPACE","    ",112],["T_COMMENT","\/\/ wouldn't be invalidated. This would continue to show nothing matches the\n",112],["T_WHITESPACE","    ",113],["T_COMMENT","\/\/ query, even though a newly created entity might match the query.\n",113],["T_WHITESPACE","    ",114],["T_VARIABLE","$cache_tags",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_STRING","Cache",114],["T_DOUBLE_COLON","::",114],["T_STRING","mergeTags",114],"(",["T_VARIABLE","$cache_tags",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$entity_type_definition",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getListCacheTags",114],"(",")",")",";",["T_WHITESPACE","\n\n    ",114],["T_RETURN","return",116],["T_WHITESPACE"," ",116],"[",["T_WHITESPACE","\n      ",116],["T_CONSTANT_ENCAPSED_STRING","'#theme'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'item_list'",117],",",["T_WHITESPACE","\n      ",117],["T_CONSTANT_ENCAPSED_STRING","'#items'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$labels",118],",",["T_WHITESPACE","\n      ",118],["T_CONSTANT_ENCAPSED_STRING","'#title'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$entity_type_id",119],["T_WHITESPACE"," ",119],".",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","' entities'",119],",",["T_WHITESPACE","\n      ",119],["T_CONSTANT_ENCAPSED_STRING","'#cache'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],"[",["T_WHITESPACE","\n        ",120],["T_CONSTANT_ENCAPSED_STRING","'contexts'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$entity_type_definition",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getListCacheContexts",121],"(",")",",",["T_WHITESPACE","\n        ",121],["T_CONSTANT_ENCAPSED_STRING","'tags'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$cache_tags",122],",",["T_WHITESPACE","\n      ",122],"]",",",["T_WHITESPACE","\n    ",123],"]",";",["T_WHITESPACE","\n  ",124],"}",["T_WHITESPACE","\n\n\n  ",125],["T_DOC_COMMENT","\/**\n   * Empty list of entities of the given entity type.\n   *\n   * Empty because no entities match the query. That may seem contrived, but it\n   * is an excellent way for testing whether an entity's list cache tags are\n   * working as expected.\n   *\n   * @param string $entity_type_id\n   *   The type of the entity being listed.\n   *\n   * @return array\n   *   A renderable array.\n   *\/",128],["T_WHITESPACE","\n  ",140],["T_PUBLIC","public",141],["T_WHITESPACE"," ",141],["T_FUNCTION","function",141],["T_WHITESPACE"," ",141],["T_STRING","listEntitiesEmpty",141],"(",["T_VARIABLE","$entity_type_id",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n    ",141],["T_VARIABLE","$entity_type_definition",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","entityManager",142],"(",")",["T_OBJECT_OPERATOR","->",142],["T_STRING","getDefinition",142],"(",["T_VARIABLE","$entity_type_id",142],")",";",["T_WHITESPACE","\n    ",142],["T_RETURN","return",143],["T_WHITESPACE"," ",143],"[",["T_WHITESPACE","\n      ",143],["T_CONSTANT_ENCAPSED_STRING","'#theme'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'item_list'",144],",",["T_WHITESPACE","\n      ",144],["T_CONSTANT_ENCAPSED_STRING","'#items'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],"[","]",",",["T_WHITESPACE","\n      ",145],["T_CONSTANT_ENCAPSED_STRING","'#cache'",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],"[",["T_WHITESPACE","\n        ",146],["T_CONSTANT_ENCAPSED_STRING","'contexts'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$entity_type_definition",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getListCacheContexts",147],"(",")",",",["T_WHITESPACE","\n        ",147],["T_CONSTANT_ENCAPSED_STRING","'tags'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$entity_type_definition",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getListCacheTags",148],"(",")",",",["T_WHITESPACE","\n      ",148],"]",",",["T_WHITESPACE","\n    ",149],"]",";",["T_WHITESPACE","\n  ",150],"}",["T_WHITESPACE","\n\n",151],"}",["T_WHITESPACE","\n",153]]