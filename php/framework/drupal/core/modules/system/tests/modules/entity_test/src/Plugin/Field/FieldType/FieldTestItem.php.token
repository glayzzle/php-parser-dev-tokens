[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","entity_test",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Field",3],["T_NS_SEPARATOR","\\",3],["T_STRING","FieldType",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Field",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FieldItemBase",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Field",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FieldStorageDefinitionInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","StringTranslation",7],["T_NS_SEPARATOR","\\",7],["T_STRING","TranslatableMarkup",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","TypedData",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DataDefinition",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","TypedData",9],["T_NS_SEPARATOR","\\",9],["T_STRING","DataDefinitionInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TypedData",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TypedDataInterface",10],";",["T_WHITESPACE","\n\n\n",10],["T_DOC_COMMENT","\/**\n * Defines the 'field_test' entity field type.\n *\n * @FieldType(\n *   id = \"field_test\",\n *   label = @Translation(\"Test field item\"),\n *   description = @Translation(\"A field containing a plain string value.\"),\n *   category = @Translation(\"Field\"),\n * )\n *\/",13],["T_WHITESPACE","\n",22],["T_CLASS","class",23],["T_WHITESPACE"," ",23],["T_STRING","FieldTestItem",23],["T_WHITESPACE"," ",23],["T_EXTENDS","extends",23],["T_WHITESPACE"," ",23],["T_STRING","FieldItemBase",23],["T_WHITESPACE"," ",23],"{",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * Counts how many times all items of this type are saved.\n   *\n   * @var int\n   *\/",25],["T_WHITESPACE","\n  ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_STATIC","static",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$counter",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],"[","]",";",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",32],["T_WHITESPACE","\n  ",34],["T_PUBLIC","public",35],["T_WHITESPACE"," ",35],["T_STATIC","static",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","propertyDefinitions",35],"(",["T_STRING","FieldStorageDefinitionInterface",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$field_definition",35],")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n    ",35],["T_COMMENT","\/\/ This is called very early by the user entity roles field. Prevent\n",36],["T_WHITESPACE","    ",37],["T_COMMENT","\/\/ early t() calls by using the TranslatableMarkup.\n",37],["T_WHITESPACE","    ",38],["T_VARIABLE","$properties",38],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",38],"]",["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_STRING","DataDefinition",38],["T_DOUBLE_COLON","::",38],["T_STRING","create",38],"(",["T_CONSTANT_ENCAPSED_STRING","'string'",38],")",["T_WHITESPACE","\n      ",38],["T_OBJECT_OPERATOR","->",39],["T_STRING","setLabel",39],"(",["T_NEW","new",39],["T_WHITESPACE"," ",39],["T_STRING","TranslatableMarkup",39],"(",["T_CONSTANT_ENCAPSED_STRING","'Test value'",39],")",")",["T_WHITESPACE","\n      ",39],["T_OBJECT_OPERATOR","->",40],["T_STRING","setRequired",40],"(",["T_STRING","TRUE",40],")",";",["T_WHITESPACE","\n\n    ",40],["T_RETURN","return",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$properties",42],";",["T_WHITESPACE","\n  ",42],"}",["T_WHITESPACE","\n\n  ",43],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",45],["T_WHITESPACE","\n  ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_STATIC","static",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","schema",48],"(",["T_STRING","FieldStorageDefinitionInterface",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$field_definition",48],")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n    ",48],["T_RETURN","return",49],["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",["T_WHITESPACE","\n      ",49],["T_CONSTANT_ENCAPSED_STRING","'columns'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_ARRAY","array",50],"(",["T_WHITESPACE","\n        ",50],["T_CONSTANT_ENCAPSED_STRING","'value'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_ARRAY","array",51],"(",["T_WHITESPACE","\n          ",51],["T_CONSTANT_ENCAPSED_STRING","'type'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'varchar'",52],",",["T_WHITESPACE","\n          ",52],["T_CONSTANT_ENCAPSED_STRING","'length'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_LNUMBER","255",53],",",["T_WHITESPACE","\n        ",53],")",",",["T_WHITESPACE","\n      ",54],")",",",["T_WHITESPACE","\n    ",55],")",";",["T_WHITESPACE","\n  ",56],"}",["T_WHITESPACE","\n\n  ",57],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",59],["T_WHITESPACE","\n  ",61],["T_PUBLIC","public",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","__construct",62],"(",["T_STRING","DataDefinitionInterface",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$definition",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$name",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_STRING","NULL",62],",",["T_WHITESPACE"," ",62],["T_STRING","TypedDataInterface",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$parent",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_STRING","NULL",62],")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n    ",62],["T_STRING","parent",63],["T_DOUBLE_COLON","::",63],["T_STRING","__construct",63],"(",["T_VARIABLE","$definition",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$name",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$parent",63],")",";",["T_WHITESPACE","\n\n    ",63],["T_VARIABLE","$name",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getFieldDefinition",65],"(",")",["T_OBJECT_OPERATOR","->",65],["T_STRING","getName",65],"(",")",";",["T_WHITESPACE","\n    ",65],["T_STATIC","static",66],["T_DOUBLE_COLON","::",66],["T_VARIABLE","$counter",66],"[",["T_VARIABLE","$name",66],"]",["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_LNUMBER","0",66],";",["T_WHITESPACE","\n  ",66],"}",["T_WHITESPACE","\n\n  ",67],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",69],["T_WHITESPACE","\n  ",71],["T_PUBLIC","public",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","preSave",72],"(",")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$name",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getFieldDefinition",73],"(",")",["T_OBJECT_OPERATOR","->",73],["T_STRING","getName",73],"(",")",";",["T_WHITESPACE","\n    ",73],["T_STATIC","static",74],["T_DOUBLE_COLON","::",74],["T_VARIABLE","$counter",74],"[",["T_VARIABLE","$name",74],"]",["T_INC","++",74],";",["T_WHITESPACE","\n\n    ",74],["T_COMMENT","\/\/ Overwrite the field value unless it is going to be overridden, in which\n",76],["T_WHITESPACE","    ",77],["T_COMMENT","\/\/ case its final value will already be different from the current one.\n",77],["T_WHITESPACE","    ",78],["T_IF","if",78],["T_WHITESPACE"," ",78],"(","!",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getEntity",78],"(",")",["T_OBJECT_OPERATOR","->",78],["T_STRING","isNew",78],"(",")",["T_WHITESPACE"," ",78],["T_BOOLEAN_AND","&&",78],["T_WHITESPACE"," ",78],"!",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","mustResave",78],"(",")",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n      ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","setValue",79],"(",["T_CONSTANT_ENCAPSED_STRING","'overwritten'",79],")",";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n  ",80],"}",["T_WHITESPACE","\n\n  ",81],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",83],["T_WHITESPACE","\n  ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","postSave",86],"(",["T_VARIABLE","$update",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n    ",86],["T_COMMENT","\/\/ Determine whether the field value should be rewritten to the storage. We\n",87],["T_WHITESPACE","    ",88],["T_COMMENT","\/\/ always rewrite on create as we need to store a value including the entity\n",88],["T_WHITESPACE","    ",89],["T_COMMENT","\/\/ id.\n",89],["T_WHITESPACE","    ",90],["T_VARIABLE","$resave",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],"!",["T_VARIABLE","$update",90],["T_WHITESPACE"," ",90],["T_BOOLEAN_OR","||",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","mustResave",90],"(",")",";",["T_WHITESPACE","\n\n    ",90],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$resave",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n      ",92],["T_VARIABLE","$entity",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getEntity",93],"(",")",";",["T_WHITESPACE","\n      ",93],["T_VARIABLE","$definition",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getFieldDefinition",94],"(",")",";",["T_WHITESPACE","\n      ",94],["T_VARIABLE","$name",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$definition",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getName",95],"(",")",";",["T_WHITESPACE","\n      ",95],["T_VARIABLE","$value",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'field_test:'",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_VARIABLE","$name",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","':'",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_VARIABLE","$entity",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","id",96],"(",")",["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","':'",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_STATIC","static",96],["T_DOUBLE_COLON","::",96],["T_VARIABLE","$counter",96],"[",["T_VARIABLE","$name",96],"]",";",["T_WHITESPACE","\n      ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","setValue",97],"(",["T_VARIABLE","$value",97],")",";",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n\n    ",98],["T_RETURN","return",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$resave",100],";",["T_WHITESPACE","\n  ",100],"}",["T_WHITESPACE","\n\n  ",101],["T_DOC_COMMENT","\/**\n   * Checks whether the field item value should be resaved.\n   *\n   * @return bool\n   *   TRUE if the item should be resaved, FALSE otherwise.\n   *\/",103],["T_WHITESPACE","\n  ",108],["T_PROTECTED","protected",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","mustResave",109],"(",")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n    ",109],["T_RETURN","return",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getValue",110],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","'value'",110],"]",["T_WHITESPACE"," ",110],["T_IS_EQUAL","==",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'resave'",110],";",["T_WHITESPACE","\n  ",110],"}",["T_WHITESPACE","\n\n  ",111],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",113],["T_WHITESPACE","\n  ",115],["T_PUBLIC","public",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","delete",116],"(",")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n    ",116],["T_STRING","parent",117],["T_DOUBLE_COLON","::",117],["T_STRING","delete",117],"(",")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$deleted_languages",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_NS_SEPARATOR","\\",118],["T_STRING","Drupal",118],["T_DOUBLE_COLON","::",118],["T_STRING","state",118],"(",")",["T_OBJECT_OPERATOR","->",118],["T_STRING","get",118],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test.delete.'",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getFieldDefinition",118],"(",")",["T_OBJECT_OPERATOR","->",118],["T_STRING","getName",118],"(",")",")",["T_WHITESPACE"," ",118],"?",":",["T_WHITESPACE"," ",118],"[","]",";",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$deleted_languages",119],"[","]",["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getLangcode",119],"(",")",";",["T_WHITESPACE","\n    ",119],["T_NS_SEPARATOR","\\",120],["T_STRING","Drupal",120],["T_DOUBLE_COLON","::",120],["T_STRING","state",120],"(",")",["T_OBJECT_OPERATOR","->",120],["T_STRING","set",120],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test.delete.'",120],["T_WHITESPACE"," ",120],".",["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getFieldDefinition",120],"(",")",["T_OBJECT_OPERATOR","->",120],["T_STRING","getName",120],"(",")",",",["T_WHITESPACE"," ",120],["T_VARIABLE","$deleted_languages",120],")",";",["T_WHITESPACE","\n  ",120],"}",["T_WHITESPACE","\n\n",121],"}",["T_WHITESPACE","\n",123]]