[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","error_service_test",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Site",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Settings",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Symfony",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","HttpFoundation",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Request",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Symfony",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Component",7],["T_NS_SEPARATOR","\\",7],["T_STRING","HttpKernel",7],["T_NS_SEPARATOR","\\",7],["T_STRING","HttpKernelInterface",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * A http middleware designed to cause bedlam.\n *\n * @see error_service_test.services.yml\n *\/",9],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","MonkeysInTheControlRoom",14],["T_WHITESPACE"," ",14],["T_IMPLEMENTS","implements",14],["T_WHITESPACE"," ",14],["T_STRING","HttpKernelInterface",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * The app kernel.\n   *\n   * @var \\Symfony\\Component\\HttpKernel\\HttpKernelInterface\n   *\/",16],["T_WHITESPACE","\n  ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$app",21],";",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * MonkeysInTheControlRoom constructor.\n   *\n   * @param \\Symfony\\Component\\HttpKernel\\HttpKernelInterface $app\n   *   The wrapper HTTP kernel.\n   *\/",23],["T_WHITESPACE","\n  ",28],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","__construct",29],"(",["T_STRING","HttpKernelInterface",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$app",29],",",["T_WHITESPACE"," ",29],["T_STRING","Settings",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$settings",29],")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n    ",29],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","app",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_VARIABLE","$app",30],";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","settings",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$settings",31],";",["T_WHITESPACE","\n  ",31],"}",["T_WHITESPACE","\n\n  ",32],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",34],["T_WHITESPACE","\n  ",36],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","handle",37],"(",["T_STRING","Request",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$request",37],",",["T_WHITESPACE"," ",37],["T_VARIABLE","$type",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_STRING","self",37],["T_DOUBLE_COLON","::",37],["T_STRING","MASTER_REQUEST",37],",",["T_WHITESPACE"," ",37],["T_VARIABLE","$catch",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_STRING","TRUE",37],")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n    ",37],["T_IF","if",38],["T_WHITESPACE"," ",38],"(",["T_NS_SEPARATOR","\\",38],["T_STRING","Drupal",38],["T_DOUBLE_COLON","::",38],["T_STRING","state",38],"(",")",["T_OBJECT_OPERATOR","->",38],["T_STRING","get",38],"(",["T_CONSTANT_ENCAPSED_STRING","'error_service_test.break_bare_html_renderer'",38],")",")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n      ",38],["T_COMMENT","\/\/ Let the bedlam begin.\n",39],["T_WHITESPACE","      ",40],["T_COMMENT","\/\/ 1) Force a container rebuild.\n",40],["T_WHITESPACE","      ",41],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\DrupalKernelInterface $kernel *\/",41],["T_WHITESPACE","\n      ",41],["T_VARIABLE","$kernel",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_NS_SEPARATOR","\\",42],["T_STRING","Drupal",42],["T_DOUBLE_COLON","::",42],["T_STRING","service",42],"(",["T_CONSTANT_ENCAPSED_STRING","'kernel'",42],")",";",["T_WHITESPACE","\n      ",42],["T_VARIABLE","$kernel",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","rebuildContainer",43],"(",")",";",["T_WHITESPACE","\n      ",43],["T_COMMENT","\/\/ 2) Fetch the in-situ container builder.\n",44],["T_WHITESPACE","      ",45],["T_VARIABLE","$container",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","ErrorServiceTestServiceProvider",45],["T_DOUBLE_COLON","::",45],["T_VARIABLE","$containerBuilder",45],";",["T_WHITESPACE","\n      ",45],["T_COMMENT","\/\/ Ensure the compiler pass worked.\n",46],["T_WHITESPACE","      ",47],["T_IF","if",47],["T_WHITESPACE"," ",47],"(","!",["T_VARIABLE","$container",47],")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n        ",47],["T_THROW","throw",48],["T_WHITESPACE"," ",48],["T_NEW","new",48],["T_WHITESPACE"," ",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Exception",48],"(",["T_CONSTANT_ENCAPSED_STRING","'Oh oh, monkeys stole the ServiceProvider.'",48],")",";",["T_WHITESPACE","\n      ",48],"}",["T_WHITESPACE","\n      ",49],["T_COMMENT","\/\/ Stop the theme manager from being found - and triggering error\n",50],["T_WHITESPACE","      ",51],["T_COMMENT","\/\/ maintenance mode.\n",51],["T_WHITESPACE","      ",52],["T_VARIABLE","$container",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","removeDefinition",52],"(",["T_CONSTANT_ENCAPSED_STRING","'theme.manager'",52],")",";",["T_WHITESPACE","\n      ",52],["T_COMMENT","\/\/ Mash. Mash. Mash.\n",53],["T_WHITESPACE","      ",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Drupal",54],["T_DOUBLE_COLON","::",54],["T_STRING","setContainer",54],"(",["T_VARIABLE","$container",54],")",";",["T_WHITESPACE","\n      ",54],["T_THROW","throw",55],["T_WHITESPACE"," ",55],["T_NEW","new",55],["T_WHITESPACE"," ",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Exception",55],"(",["T_CONSTANT_ENCAPSED_STRING","'Oh oh, bananas in the instruments.'",55],")",";",["T_WHITESPACE","\n    ",55],"}",["T_WHITESPACE","\n\n    ",56],["T_IF","if",58],["T_WHITESPACE"," ",58],"(",["T_NS_SEPARATOR","\\",58],["T_STRING","Drupal",58],["T_DOUBLE_COLON","::",58],["T_STRING","state",58],"(",")",["T_OBJECT_OPERATOR","->",58],["T_STRING","get",58],"(",["T_CONSTANT_ENCAPSED_STRING","'error_service_test.break_logger'",58],")",")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n      ",58],["T_THROW","throw",59],["T_WHITESPACE"," ",59],["T_NEW","new",59],["T_WHITESPACE"," ",59],["T_NS_SEPARATOR","\\",59],["T_STRING","Exception",59],"(",["T_CONSTANT_ENCAPSED_STRING","'Deforestation'",59],")",";",["T_WHITESPACE","\n    ",59],"}",["T_WHITESPACE","\n\n    ",60],["T_IF","if",62],["T_WHITESPACE"," ",62],"(",["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","settings",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","get",62],"(",["T_CONSTANT_ENCAPSED_STRING","'teapots'",62],",",["T_WHITESPACE"," ",62],["T_STRING","FALSE",62],")",["T_WHITESPACE"," ",62],["T_BOOLEAN_AND","&&",62],["T_WHITESPACE"," ",62],["T_STRING","class_exists",62],"(",["T_CONSTANT_ENCAPSED_STRING","'\\TypeError'",62],")",")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n      ",62],["T_TRY","try",63],["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$return",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","app",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","handle",64],"(",["T_VARIABLE","$request",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$type",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$catch",64],")",";",["T_WHITESPACE","\n      ",64],"}",["T_WHITESPACE","\n      ",65],["T_CATCH","catch",66],["T_WHITESPACE"," ",66],"(",["T_NS_SEPARATOR","\\",66],["T_STRING","TypeError",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$e",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n        ",66],["T_STRING","header",67],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP\/1.1 418 I\\'m a teapot'",67],")",";",["T_WHITESPACE","\n        ",67],["T_PRINT","print",68],"(",["T_CONSTANT_ENCAPSED_STRING","'Oh oh, flying teapots'",68],")",";",["T_WHITESPACE","\n        ",68],["T_EXIT","exit",69],";",["T_WHITESPACE","\n      ",69],"}",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n    ",71],["T_ELSE","else",72],["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n      ",72],["T_VARIABLE","$return",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","app",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","handle",73],"(",["T_VARIABLE","$request",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$type",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$catch",73],")",";",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n    ",74],["T_RETURN","return",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$return",75],";",["T_WHITESPACE","\n  ",75],"}",["T_WHITESPACE","\n\n",76],"}",["T_WHITESPACE","\n",78]]