[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_DOC_COMMENT","\/**\n * @file\n * Contains database additions to drupal-8.bare.standard.php.gz for testing the\n * upgrade path of https:\/\/www.drupal.org\/node\/507488.\n *\/",3],["T_WHITESPACE","\n\n",7],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Database",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Database",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Serialization",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Yaml",10],";",["T_WHITESPACE","\n\n",10],["T_VARIABLE","$connection",12],["T_WHITESPACE"," ",12],"=",["T_WHITESPACE"," ",12],["T_STRING","Database",12],["T_DOUBLE_COLON","::",12],["T_STRING","getConnection",12],"(",")",";",["T_WHITESPACE","\n\n",12],["T_COMMENT","\/\/ Structure of a custom block with visibility settings.\n",14],["T_VARIABLE","$block_configs",15],"[","]",["T_WHITESPACE"," ",15],"=",["T_WHITESPACE"," ",15],["T_STRING","Yaml",15],["T_DOUBLE_COLON","::",15],["T_STRING","decode",15],"(",["T_STRING","file_get_contents",15],"(",["T_DIR","__DIR__",15],["T_WHITESPACE"," ",15],".",["T_WHITESPACE"," ",15],["T_CONSTANT_ENCAPSED_STRING","'\/block.block.testfor507488.yml'",15],")",")",";",["T_WHITESPACE","\n\n",15],["T_FOREACH","foreach",17],["T_WHITESPACE"," ",17],"(",["T_VARIABLE","$block_configs",17],["T_WHITESPACE"," ",17],["T_AS","as",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$block_config",17],")",["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n  ",17],["T_VARIABLE","$connection",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","insert",18],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",18],")",["T_WHITESPACE","\n    ",18],["T_OBJECT_OPERATOR","->",19],["T_STRING","fields",19],"(","[",["T_WHITESPACE","\n      ",19],["T_CONSTANT_ENCAPSED_STRING","'collection'",20],",",["T_WHITESPACE","\n      ",20],["T_CONSTANT_ENCAPSED_STRING","'name'",21],",",["T_WHITESPACE","\n      ",21],["T_CONSTANT_ENCAPSED_STRING","'data'",22],",",["T_WHITESPACE","\n    ",22],"]",")",["T_WHITESPACE","\n    ",23],["T_OBJECT_OPERATOR","->",24],["T_STRING","values",24],"(","[",["T_WHITESPACE","\n      ",24],["T_CONSTANT_ENCAPSED_STRING","'collection'",25],["T_WHITESPACE"," ",25],["T_DOUBLE_ARROW","=>",25],["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","''",25],",",["T_WHITESPACE","\n      ",25],["T_CONSTANT_ENCAPSED_STRING","'name'",26],["T_WHITESPACE"," ",26],["T_DOUBLE_ARROW","=>",26],["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'block.block.'",26],["T_WHITESPACE"," ",26],".",["T_WHITESPACE"," ",26],["T_VARIABLE","$block_config",26],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",26],"]",",",["T_WHITESPACE","\n      ",26],["T_CONSTANT_ENCAPSED_STRING","'data'",27],["T_WHITESPACE"," ",27],["T_DOUBLE_ARROW","=>",27],["T_WHITESPACE"," ",27],["T_STRING","serialize",27],"(",["T_VARIABLE","$block_config",27],")",",",["T_WHITESPACE","\n    ",27],"]",")",["T_WHITESPACE","\n    ",28],["T_OBJECT_OPERATOR","->",29],["T_STRING","execute",29],"(",")",";",["T_WHITESPACE","\n",29],"}",["T_WHITESPACE","\n\n",30],["T_COMMENT","\/\/ Update the config entity query \"index\".\n",32],["T_VARIABLE","$existing_blocks",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_VARIABLE","$connection",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","select",33],"(",["T_CONSTANT_ENCAPSED_STRING","'key_value'",33],")",["T_WHITESPACE","\n    ",33],["T_OBJECT_OPERATOR","->",34],["T_STRING","fields",34],"(",["T_CONSTANT_ENCAPSED_STRING","'key_value'",34],",",["T_WHITESPACE"," ",34],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",34],"]",")",["T_WHITESPACE","\n    ",34],["T_OBJECT_OPERATOR","->",35],["T_STRING","condition",35],"(",["T_CONSTANT_ENCAPSED_STRING","'collection'",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'config.entity.key_store.block'",35],")",["T_WHITESPACE","\n    ",35],["T_OBJECT_OPERATOR","->",36],["T_STRING","condition",36],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'theme:seven'",36],")",["T_WHITESPACE","\n    ",36],["T_OBJECT_OPERATOR","->",37],["T_STRING","execute",37],"(",")",["T_WHITESPACE","\n    ",37],["T_OBJECT_OPERATOR","->",38],["T_STRING","fetchField",38],"(",")",";",["T_WHITESPACE","\n",38],["T_VARIABLE","$existing_blocks",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","unserialize",39],"(",["T_VARIABLE","$existing_blocks",39],")",";",["T_WHITESPACE","\n\n",39],["T_VARIABLE","$connection",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","update",41],"(",["T_CONSTANT_ENCAPSED_STRING","'key_value'",41],")",["T_WHITESPACE","\n  ",41],["T_OBJECT_OPERATOR","->",42],["T_STRING","fields",42],"(","[",["T_WHITESPACE","\n    ",42],["T_CONSTANT_ENCAPSED_STRING","'value'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_STRING","serialize",43],"(",["T_STRING","array_merge",43],"(",["T_VARIABLE","$existing_blocks",43],",",["T_WHITESPACE"," ",43],"[",["T_CONSTANT_ENCAPSED_STRING","'block.block.seven_local_actions'",43],"]",")",")",["T_WHITESPACE","\n  ",43],"]",")",["T_WHITESPACE","\n  ",44],["T_OBJECT_OPERATOR","->",45],["T_STRING","condition",45],"(",["T_CONSTANT_ENCAPSED_STRING","'collection'",45],",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'config.entity.key_store.block'",45],")",["T_WHITESPACE","\n  ",45],["T_OBJECT_OPERATOR","->",46],["T_STRING","condition",46],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",46],",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'theme:seven'",46],")",["T_WHITESPACE","\n  ",46],["T_OBJECT_OPERATOR","->",47],["T_STRING","execute",47],"(",")",";",["T_WHITESPACE","\n\n",47],["T_COMMENT","\/\/ Enable test theme.\n",49],["T_VARIABLE","$extensions",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$connection",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","select",50],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",50],")",["T_WHITESPACE","\n  ",50],["T_OBJECT_OPERATOR","->",51],["T_STRING","fields",51],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",51],",",["T_WHITESPACE"," ",51],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",51],"]",")",["T_WHITESPACE","\n  ",51],["T_OBJECT_OPERATOR","->",52],["T_STRING","condition",52],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'core.extension'",52],")",["T_WHITESPACE","\n  ",52],["T_OBJECT_OPERATOR","->",53],["T_STRING","execute",53],"(",")",["T_WHITESPACE","\n  ",53],["T_OBJECT_OPERATOR","->",54],["T_STRING","fetchField",54],"(",")",";",["T_WHITESPACE","\n",54],["T_VARIABLE","$extensions",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_STRING","unserialize",55],"(",["T_VARIABLE","$extensions",55],")",";",["T_WHITESPACE","\n",55],["T_VARIABLE","$connection",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","update",56],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",56],")",["T_WHITESPACE","\n  ",56],["T_OBJECT_OPERATOR","->",57],["T_STRING","fields",57],"(","[",["T_WHITESPACE","\n    ",57],["T_CONSTANT_ENCAPSED_STRING","'data'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_STRING","serialize",58],"(",["T_STRING","array_merge_recursive",58],"(",["T_VARIABLE","$extensions",58],",",["T_WHITESPACE"," ",58],"[",["T_CONSTANT_ENCAPSED_STRING","'theme'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],"[",["T_CONSTANT_ENCAPSED_STRING","'test_theme'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_LNUMBER","0",58],"]","]",")",")",["T_WHITESPACE","\n  ",58],"]",")",["T_WHITESPACE","\n  ",59],["T_OBJECT_OPERATOR","->",60],["T_STRING","condition",60],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'core.extension'",60],")",["T_WHITESPACE","\n  ",60],["T_OBJECT_OPERATOR","->",61],["T_STRING","execute",61],"(",")",";",["T_WHITESPACE","\n",61]]