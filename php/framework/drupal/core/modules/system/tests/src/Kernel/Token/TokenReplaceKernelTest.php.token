[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","system",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Token",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Render",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FormattableMarkup",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Utility",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Html",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Component",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Utility",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Xss",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Render",8],["T_NS_SEPARATOR","\\",8],["T_STRING","BubbleableMetadata",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Generates text using placeholders for dummy content to check token\n * replacement.\n *\n * @group system\n *\/",10],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","TokenReplaceKernelTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","TokenReplaceKernelTestBase",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",18],["T_WHITESPACE","\n  ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_FUNCTION","function",21],["T_WHITESPACE"," ",21],["T_STRING","setUp",21],"(",")",["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n    ",21],["T_STRING","parent",22],["T_DOUBLE_COLON","::",22],["T_STRING","setUp",22],"(",")",";",["T_WHITESPACE","\n    ",22],["T_COMMENT","\/\/ Set the site name to something other than an empty string.\n",23],["T_WHITESPACE","    ",24],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","config",24],"(",["T_CONSTANT_ENCAPSED_STRING","'system.site'",24],")",["T_OBJECT_OPERATOR","->",24],["T_STRING","set",24],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",24],",",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'Drupal'",24],")",["T_OBJECT_OPERATOR","->",24],["T_STRING","save",24],"(",")",";",["T_WHITESPACE","\n  ",24],"}",["T_WHITESPACE","\n\n  ",25],["T_DOC_COMMENT","\/**\n   * Test whether token-replacement works in various contexts.\n   *\/",27],["T_WHITESPACE","\n  ",29],["T_PUBLIC","public",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","testSystemTokenRecognition",30],"(",")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n    ",30],["T_COMMENT","\/\/ Generate prefixes and suffixes for the token context.\n",31],["T_WHITESPACE","    ",32],["T_VARIABLE","$tests",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_ARRAY","array",32],"(",["T_WHITESPACE","\n      ",32],["T_ARRAY","array",33],"(",["T_CONSTANT_ENCAPSED_STRING","'prefix'",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'this is the '",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'suffix'",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","' site'",33],")",",",["T_WHITESPACE","\n      ",33],["T_ARRAY","array",34],"(",["T_CONSTANT_ENCAPSED_STRING","'prefix'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'this is the'",34],",",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'suffix'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'site'",34],")",",",["T_WHITESPACE","\n      ",34],["T_ARRAY","array",35],"(",["T_CONSTANT_ENCAPSED_STRING","'prefix'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'['",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'suffix'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","']'",35],")",",",["T_WHITESPACE","\n      ",35],["T_ARRAY","array",36],"(",["T_CONSTANT_ENCAPSED_STRING","'prefix'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","''",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'suffix'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","']]]'",36],")",",",["T_WHITESPACE","\n      ",36],["T_ARRAY","array",37],"(",["T_CONSTANT_ENCAPSED_STRING","'prefix'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'[[['",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'suffix'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","''",37],")",",",["T_WHITESPACE","\n      ",37],["T_ARRAY","array",38],"(",["T_CONSTANT_ENCAPSED_STRING","'prefix'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","':[:'",38],",",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'suffix'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'--]'",38],")",",",["T_WHITESPACE","\n      ",38],["T_ARRAY","array",39],"(",["T_CONSTANT_ENCAPSED_STRING","'prefix'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'-[-'",39],",",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'suffix'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","':]:'",39],")",",",["T_WHITESPACE","\n      ",39],["T_ARRAY","array",40],"(",["T_CONSTANT_ENCAPSED_STRING","'prefix'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'[:'",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'suffix'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","']'",40],")",",",["T_WHITESPACE","\n      ",40],["T_ARRAY","array",41],"(",["T_CONSTANT_ENCAPSED_STRING","'prefix'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'[site:'",41],",",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'suffix'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","':name]'",41],")",",",["T_WHITESPACE","\n      ",41],["T_ARRAY","array",42],"(",["T_CONSTANT_ENCAPSED_STRING","'prefix'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'[site:'",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'suffix'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","']'",42],")",",",["T_WHITESPACE","\n    ",42],")",";",["T_WHITESPACE","\n\n    ",43],["T_COMMENT","\/\/ Check if the token is recognized in each of the contexts.\n",45],["T_WHITESPACE","    ",46],["T_FOREACH","foreach",46],["T_WHITESPACE"," ",46],"(",["T_VARIABLE","$tests",46],["T_WHITESPACE"," ",46],["T_AS","as",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$test",46],")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n      ",46],["T_VARIABLE","$input",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$test",47],"[",["T_CONSTANT_ENCAPSED_STRING","'prefix'",47],"]",["T_WHITESPACE"," ",47],".",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'[site:name]'",47],["T_WHITESPACE"," ",47],".",["T_WHITESPACE"," ",47],["T_VARIABLE","$test",47],"[",["T_CONSTANT_ENCAPSED_STRING","'suffix'",47],"]",";",["T_WHITESPACE","\n      ",47],["T_VARIABLE","$expected",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$test",48],"[",["T_CONSTANT_ENCAPSED_STRING","'prefix'",48],"]",["T_WHITESPACE"," ",48],".",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'Drupal'",48],["T_WHITESPACE"," ",48],".",["T_WHITESPACE"," ",48],["T_VARIABLE","$test",48],"[",["T_CONSTANT_ENCAPSED_STRING","'suffix'",48],"]",";",["T_WHITESPACE","\n      ",48],["T_VARIABLE","$output",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","tokenService",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","replace",49],"(",["T_VARIABLE","$input",49],",",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",")",",",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","interfaceLanguage",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getId",49],"(",")",")",")",";",["T_WHITESPACE","\n      ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","assertTrue",50],"(",["T_VARIABLE","$output",50],["T_WHITESPACE"," ",50],["T_IS_EQUAL","==",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$expected",50],",",["T_WHITESPACE"," ",50],["T_STRING","format_string",50],"(",["T_CONSTANT_ENCAPSED_STRING","'Token recognized in string %string'",50],",",["T_WHITESPACE"," ",50],["T_ARRAY","array",50],"(",["T_CONSTANT_ENCAPSED_STRING","'%string'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$input",50],")",")",")",";",["T_WHITESPACE","\n    ",50],"}",["T_WHITESPACE","\n\n    ",51],["T_COMMENT","\/\/ Test token replacement when the string contains no tokens.\n",53],["T_WHITESPACE","    ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertEqual",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","tokenService",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","replace",54],"(",["T_CONSTANT_ENCAPSED_STRING","'No tokens here.'",54],")",",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'No tokens here.'",54],")",";",["T_WHITESPACE","\n  ",54],"}",["T_WHITESPACE","\n\n  ",55],["T_DOC_COMMENT","\/**\n   * Tests the clear parameter.\n   *\/",57],["T_WHITESPACE","\n  ",59],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","testClear",60],"(",")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n    ",60],["T_COMMENT","\/\/ Valid token.\n",61],["T_WHITESPACE","    ",62],["T_VARIABLE","$source",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'[site:name]'",62],";",["T_WHITESPACE","\n    ",62],["T_COMMENT","\/\/ No user passed in, should be untouched.\n",63],["T_WHITESPACE","    ",64],["T_VARIABLE","$source",64],["T_WHITESPACE"," ",64],["T_CONCAT_EQUAL",".=",64],["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'[user:name]'",64],";",["T_WHITESPACE","\n    ",64],["T_COMMENT","\/\/ Non-existing token.\n",65],["T_WHITESPACE","    ",66],["T_VARIABLE","$source",66],["T_WHITESPACE"," ",66],["T_CONCAT_EQUAL",".=",66],["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'[bogus:token]'",66],";",["T_WHITESPACE","\n\n    ",66],["T_COMMENT","\/\/ Replace with the clear parameter, only the valid token should remain.\n",68],["T_WHITESPACE","    ",69],["T_VARIABLE","$target",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","Html",69],["T_DOUBLE_COLON","::",69],["T_STRING","escape",69],"(",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","config",69],"(",["T_CONSTANT_ENCAPSED_STRING","'system.site'",69],")",["T_OBJECT_OPERATOR","->",69],["T_STRING","get",69],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",69],")",")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$result",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","tokenService",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","replace",70],"(",["T_VARIABLE","$source",70],",",["T_WHITESPACE"," ",70],["T_ARRAY","array",70],"(",")",",",["T_WHITESPACE"," ",70],["T_ARRAY","array",70],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","interfaceLanguage",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getId",70],"(",")",",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'clear'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_STRING","TRUE",70],")",")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertEqual",71],"(",["T_VARIABLE","$target",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$result",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'Valid tokens replaced while invalid tokens ignored.'",71],")",";",["T_WHITESPACE","\n\n    ",71],["T_VARIABLE","$target",73],["T_WHITESPACE"," ",73],["T_CONCAT_EQUAL",".=",73],["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'[user:name]'",73],";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$target",74],["T_WHITESPACE"," ",74],["T_CONCAT_EQUAL",".=",74],["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'[bogus:token]'",74],";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$result",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","tokenService",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","replace",75],"(",["T_VARIABLE","$source",75],",",["T_WHITESPACE"," ",75],["T_ARRAY","array",75],"(",")",",",["T_WHITESPACE"," ",75],["T_ARRAY","array",75],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","interfaceLanguage",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getId",75],"(",")",")",")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","assertEqual",76],"(",["T_VARIABLE","$target",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$result",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'Valid tokens replaced while invalid tokens ignored.'",76],")",";",["T_WHITESPACE","\n  ",76],"}",["T_WHITESPACE","\n\n  ",77],["T_DOC_COMMENT","\/**\n   * Tests the generation of all system site information tokens.\n   *\/",79],["T_WHITESPACE","\n  ",81],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","testSystemSiteTokenReplacement",82],"(",")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$url_options",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_ARRAY","array",83],"(",["T_WHITESPACE","\n      ",83],["T_CONSTANT_ENCAPSED_STRING","'absolute'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_STRING","TRUE",84],",",["T_WHITESPACE","\n      ",84],["T_CONSTANT_ENCAPSED_STRING","'language'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","interfaceLanguage",85],",",["T_WHITESPACE","\n    ",85],")",";",["T_WHITESPACE","\n\n    ",86],["T_VARIABLE","$slogan",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'<blink>Slogan<\/blink>'",88],";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$safe_slogan",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_STRING","Xss",89],["T_DOUBLE_COLON","::",89],["T_STRING","filterAdmin",89],"(",["T_VARIABLE","$slogan",89],")",";",["T_WHITESPACE","\n\n    ",89],["T_COMMENT","\/\/ Set a few site variables.\n",91],["T_WHITESPACE","    ",92],["T_VARIABLE","$config",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","config",92],"(",["T_CONSTANT_ENCAPSED_STRING","'system.site'",92],")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$config",93],["T_WHITESPACE","\n      ",93],["T_OBJECT_OPERATOR","->",94],["T_STRING","set",94],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",94],",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'<strong>Drupal<strong>'",94],")",["T_WHITESPACE","\n      ",94],["T_OBJECT_OPERATOR","->",95],["T_STRING","set",95],"(",["T_CONSTANT_ENCAPSED_STRING","'slogan'",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$slogan",95],")",["T_WHITESPACE","\n      ",95],["T_OBJECT_OPERATOR","->",96],["T_STRING","set",96],"(",["T_CONSTANT_ENCAPSED_STRING","'mail'",96],",",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'simpletest@example.com'",96],")",["T_WHITESPACE","\n      ",96],["T_OBJECT_OPERATOR","->",97],["T_STRING","save",97],"(",")",";",["T_WHITESPACE","\n\n\n    ",97],["T_COMMENT","\/\/ Generate and test tokens.\n",100],["T_WHITESPACE","    ",101],["T_VARIABLE","$tests",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_ARRAY","array",101],"(",")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$tests",102],"[",["T_CONSTANT_ENCAPSED_STRING","'[site:name]'",102],"]",["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","Html",102],["T_DOUBLE_COLON","::",102],["T_STRING","escape",102],"(",["T_VARIABLE","$config",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","get",102],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",102],")",")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$tests",103],"[",["T_CONSTANT_ENCAPSED_STRING","'[site:slogan]'",103],"]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$safe_slogan",103],";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$tests",104],"[",["T_CONSTANT_ENCAPSED_STRING","'[site:mail]'",104],"]",["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$config",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","get",104],"(",["T_CONSTANT_ENCAPSED_STRING","'mail'",104],")",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$tests",105],"[",["T_CONSTANT_ENCAPSED_STRING","'[site:url]'",105],"]",["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Drupal",105],["T_DOUBLE_COLON","::",105],["T_STRING","url",105],"(",["T_CONSTANT_ENCAPSED_STRING","'<front>'",105],",",["T_WHITESPACE"," ",105],"[","]",",",["T_WHITESPACE"," ",105],["T_VARIABLE","$url_options",105],")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$tests",106],"[",["T_CONSTANT_ENCAPSED_STRING","'[site:url-brief]'",106],"]",["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","preg_replace",106],"(",["T_ARRAY","array",106],"(",["T_CONSTANT_ENCAPSED_STRING","'!^https?:\/\/!'",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'!\/$!'",106],")",",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","''",106],",",["T_WHITESPACE"," ",106],["T_NS_SEPARATOR","\\",106],["T_STRING","Drupal",106],["T_DOUBLE_COLON","::",106],["T_STRING","url",106],"(",["T_CONSTANT_ENCAPSED_STRING","'<front>'",106],",",["T_WHITESPACE"," ",106],"[","]",",",["T_WHITESPACE"," ",106],["T_VARIABLE","$url_options",106],")",")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$tests",107],"[",["T_CONSTANT_ENCAPSED_STRING","'[site:login-url]'",107],"]",["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_NS_SEPARATOR","\\",107],["T_STRING","Drupal",107],["T_DOUBLE_COLON","::",107],["T_STRING","url",107],"(",["T_CONSTANT_ENCAPSED_STRING","'user.page'",107],",",["T_WHITESPACE"," ",107],"[","]",",",["T_WHITESPACE"," ",107],["T_VARIABLE","$url_options",107],")",";",["T_WHITESPACE","\n\n    ",107],["T_VARIABLE","$base_bubbleable_metadata",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_NEW","new",109],["T_WHITESPACE"," ",109],["T_STRING","BubbleableMetadata",109],"(",")",";",["T_WHITESPACE","\n\n    ",109],["T_VARIABLE","$metadata_tests",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],"[","]",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$metadata_tests",112],"[",["T_CONSTANT_ENCAPSED_STRING","'[site:name]'",112],"]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","BubbleableMetadata",112],["T_DOUBLE_COLON","::",112],["T_STRING","createFromObject",112],"(",["T_NS_SEPARATOR","\\",112],["T_STRING","Drupal",112],["T_DOUBLE_COLON","::",112],["T_STRING","config",112],"(",["T_CONSTANT_ENCAPSED_STRING","'system.site'",112],")",")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$metadata_tests",113],"[",["T_CONSTANT_ENCAPSED_STRING","'[site:slogan]'",113],"]",["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","BubbleableMetadata",113],["T_DOUBLE_COLON","::",113],["T_STRING","createFromObject",113],"(",["T_NS_SEPARATOR","\\",113],["T_STRING","Drupal",113],["T_DOUBLE_COLON","::",113],["T_STRING","config",113],"(",["T_CONSTANT_ENCAPSED_STRING","'system.site'",113],")",")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$metadata_tests",114],"[",["T_CONSTANT_ENCAPSED_STRING","'[site:mail]'",114],"]",["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_STRING","BubbleableMetadata",114],["T_DOUBLE_COLON","::",114],["T_STRING","createFromObject",114],"(",["T_NS_SEPARATOR","\\",114],["T_STRING","Drupal",114],["T_DOUBLE_COLON","::",114],["T_STRING","config",114],"(",["T_CONSTANT_ENCAPSED_STRING","'system.site'",114],")",")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$bubbleable_metadata",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_CLONE","clone",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$base_bubbleable_metadata",115],";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$metadata_tests",116],"[",["T_CONSTANT_ENCAPSED_STRING","'[site:url]'",116],"]",["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$bubbleable_metadata",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","addCacheContexts",116],"(","[",["T_CONSTANT_ENCAPSED_STRING","'url.site'",116],"]",")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$metadata_tests",117],"[",["T_CONSTANT_ENCAPSED_STRING","'[site:url-brief]'",117],"]",["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$bubbleable_metadata",117],";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$metadata_tests",118],"[",["T_CONSTANT_ENCAPSED_STRING","'[site:login-url]'",118],"]",["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$bubbleable_metadata",118],";",["T_WHITESPACE","\n\n    ",118],["T_COMMENT","\/\/ Test to make sure that we generated something for each token.\n",120],["T_WHITESPACE","    ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","assertFalse",121],"(",["T_STRING","in_array",121],"(",["T_LNUMBER","0",121],",",["T_WHITESPACE"," ",121],["T_STRING","array_map",121],"(",["T_CONSTANT_ENCAPSED_STRING","'strlen'",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$tests",121],")",")",",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'No empty tokens generated.'",121],")",";",["T_WHITESPACE","\n\n    ",121],["T_FOREACH","foreach",123],["T_WHITESPACE"," ",123],"(",["T_VARIABLE","$tests",123],["T_WHITESPACE"," ",123],["T_AS","as",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$input",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$expected",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n      ",123],["T_VARIABLE","$bubbleable_metadata",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_NEW","new",124],["T_WHITESPACE"," ",124],["T_STRING","BubbleableMetadata",124],"(",")",";",["T_WHITESPACE","\n      ",124],["T_VARIABLE","$output",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","tokenService",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","replace",125],"(",["T_VARIABLE","$input",125],",",["T_WHITESPACE"," ",125],["T_ARRAY","array",125],"(",")",",",["T_WHITESPACE"," ",125],["T_ARRAY","array",125],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","interfaceLanguage",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getId",125],"(",")",")",",",["T_WHITESPACE"," ",125],["T_VARIABLE","$bubbleable_metadata",125],")",";",["T_WHITESPACE","\n      ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","assertEqual",126],"(",["T_VARIABLE","$output",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$expected",126],",",["T_WHITESPACE"," ",126],["T_NEW","new",126],["T_WHITESPACE"," ",126],["T_STRING","FormattableMarkup",126],"(",["T_CONSTANT_ENCAPSED_STRING","'System site information token %token replaced.'",126],",",["T_WHITESPACE"," ",126],"[",["T_CONSTANT_ENCAPSED_STRING","'%token'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$input",126],"]",")",")",";",["T_WHITESPACE","\n      ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","assertEqual",127],"(",["T_VARIABLE","$bubbleable_metadata",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$metadata_tests",127],"[",["T_VARIABLE","$input",127],"]",")",";",["T_WHITESPACE","\n    ",127],"}",["T_WHITESPACE","\n  ",128],"}",["T_WHITESPACE","\n\n  ",129],["T_DOC_COMMENT","\/**\n   * Tests the generation of all system date tokens.\n   *\/",131],["T_WHITESPACE","\n  ",133],["T_PUBLIC","public",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","testSystemDateTokenReplacement",134],"(",")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n    ",134],["T_COMMENT","\/\/ Set time to one hour before request.\n",135],["T_WHITESPACE","    ",136],["T_VARIABLE","$date",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_STRING","REQUEST_TIME",136],["T_WHITESPACE"," ",136],"-",["T_WHITESPACE"," ",136],["T_LNUMBER","3600",136],";",["T_WHITESPACE","\n\n    ",136],["T_COMMENT","\/\/ Generate and test tokens.\n",138],["T_WHITESPACE","    ",139],["T_VARIABLE","$tests",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_ARRAY","array",139],"(",")",";",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$date_formatter",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Drupal",140],["T_DOUBLE_COLON","::",140],["T_STRING","service",140],"(",["T_CONSTANT_ENCAPSED_STRING","'date.formatter'",140],")",";",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$tests",141],"[",["T_CONSTANT_ENCAPSED_STRING","'[date:short]'",141],"]",["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$date_formatter",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","format",141],"(",["T_VARIABLE","$date",141],",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'short'",141],",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","''",141],",",["T_WHITESPACE"," ",141],["T_STRING","NULL",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","interfaceLanguage",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getId",141],"(",")",")",";",["T_WHITESPACE","\n    ",141],["T_VARIABLE","$tests",142],"[",["T_CONSTANT_ENCAPSED_STRING","'[date:medium]'",142],"]",["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$date_formatter",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","format",142],"(",["T_VARIABLE","$date",142],",",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'medium'",142],",",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","''",142],",",["T_WHITESPACE"," ",142],["T_STRING","NULL",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","interfaceLanguage",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getId",142],"(",")",")",";",["T_WHITESPACE","\n    ",142],["T_VARIABLE","$tests",143],"[",["T_CONSTANT_ENCAPSED_STRING","'[date:long]'",143],"]",["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$date_formatter",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","format",143],"(",["T_VARIABLE","$date",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'long'",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","''",143],",",["T_WHITESPACE"," ",143],["T_STRING","NULL",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","interfaceLanguage",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getId",143],"(",")",")",";",["T_WHITESPACE","\n    ",143],["T_VARIABLE","$tests",144],"[",["T_CONSTANT_ENCAPSED_STRING","'[date:custom:m\/j\/Y]'",144],"]",["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$date_formatter",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","format",144],"(",["T_VARIABLE","$date",144],",",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'custom'",144],",",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'m\/j\/Y'",144],",",["T_WHITESPACE"," ",144],["T_STRING","NULL",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","interfaceLanguage",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getId",144],"(",")",")",";",["T_WHITESPACE","\n    ",144],["T_VARIABLE","$tests",145],"[",["T_CONSTANT_ENCAPSED_STRING","'[date:since]'",145],"]",["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$date_formatter",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","formatTimeDiffSince",145],"(",["T_VARIABLE","$date",145],",",["T_WHITESPACE"," ",145],["T_ARRAY","array",145],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","interfaceLanguage",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getId",145],"(",")",")",")",";",["T_WHITESPACE","\n    ",145],["T_VARIABLE","$tests",146],"[",["T_CONSTANT_ENCAPSED_STRING","'[date:raw]'",146],"]",["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_STRING","Xss",146],["T_DOUBLE_COLON","::",146],["T_STRING","filter",146],"(",["T_VARIABLE","$date",146],")",";",["T_WHITESPACE","\n\n    ",146],["T_COMMENT","\/\/ Test to make sure that we generated something for each token.\n",148],["T_WHITESPACE","    ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","assertFalse",149],"(",["T_STRING","in_array",149],"(",["T_LNUMBER","0",149],",",["T_WHITESPACE"," ",149],["T_STRING","array_map",149],"(",["T_CONSTANT_ENCAPSED_STRING","'strlen'",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$tests",149],")",")",",",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'No empty tokens generated.'",149],")",";",["T_WHITESPACE","\n\n    ",149],["T_FOREACH","foreach",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$tests",151],["T_WHITESPACE"," ",151],["T_AS","as",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$input",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$expected",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n      ",151],["T_VARIABLE","$output",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","tokenService",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","replace",152],"(",["T_VARIABLE","$input",152],",",["T_WHITESPACE"," ",152],["T_ARRAY","array",152],"(",["T_CONSTANT_ENCAPSED_STRING","'date'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$date",152],")",",",["T_WHITESPACE"," ",152],["T_ARRAY","array",152],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","interfaceLanguage",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getId",152],"(",")",")",")",";",["T_WHITESPACE","\n      ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","assertEqual",153],"(",["T_VARIABLE","$output",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$expected",153],",",["T_WHITESPACE"," ",153],["T_STRING","format_string",153],"(",["T_CONSTANT_ENCAPSED_STRING","'Date token %token replaced.'",153],",",["T_WHITESPACE"," ",153],["T_ARRAY","array",153],"(",["T_CONSTANT_ENCAPSED_STRING","'%token'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$input",153],")",")",")",";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n  ",154],"}",["T_WHITESPACE","\n\n",155],"}",["T_WHITESPACE","\n",157]]