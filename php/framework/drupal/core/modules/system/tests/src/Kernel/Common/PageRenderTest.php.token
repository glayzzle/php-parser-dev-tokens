[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","system",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Common",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","KernelTests",5],["T_NS_SEPARATOR","\\",5],["T_STRING","KernelTestBase",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Test page rendering hooks.\n *\n * @group system\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","PageRenderTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","KernelTestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * Tests hook_page_attachments() exceptions.\n   *\/",14],["T_WHITESPACE","\n  ",16],["T_FUNCTION","function",17],["T_WHITESPACE"," ",17],["T_STRING","testHookPageAttachmentsExceptions",17],"(",")",["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n    ",17],["T_VARIABLE","$this",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","enableModules",18],"(","[",["T_CONSTANT_ENCAPSED_STRING","'common_test'",18],",",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","'system'",18],"]",")",";",["T_WHITESPACE","\n    ",18],["T_NS_SEPARATOR","\\",19],["T_STRING","Drupal",19],["T_DOUBLE_COLON","::",19],["T_STRING","service",19],"(",["T_CONSTANT_ENCAPSED_STRING","'router.builder'",19],")",["T_OBJECT_OPERATOR","->",19],["T_STRING","rebuild",19],"(",")",";",["T_WHITESPACE","\n\n    ",19],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","assertPageRenderHookExceptions",21],"(",["T_CONSTANT_ENCAPSED_STRING","'common_test'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'hook_page_attachments'",21],")",";",["T_WHITESPACE","\n  ",21],"}",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * Tests hook_page_attachments_alter() exceptions.\n   *\/",24],["T_WHITESPACE","\n  ",26],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","testHookPageAlter",27],"(",")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n    ",27],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","enableModules",28],"(","[",["T_CONSTANT_ENCAPSED_STRING","'common_test'",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'system'",28],"]",")",";",["T_WHITESPACE","\n    ",28],["T_NS_SEPARATOR","\\",29],["T_STRING","Drupal",29],["T_DOUBLE_COLON","::",29],["T_STRING","service",29],"(",["T_CONSTANT_ENCAPSED_STRING","'router.builder'",29],")",["T_OBJECT_OPERATOR","->",29],["T_STRING","rebuild",29],"(",")",";",["T_WHITESPACE","\n\n    ",29],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","assertPageRenderHookExceptions",31],"(",["T_CONSTANT_ENCAPSED_STRING","'common_test'",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'hook_page_attachments_alter'",31],")",";",["T_WHITESPACE","\n  ",31],"}",["T_WHITESPACE","\n\n  ",32],["T_DOC_COMMENT","\/**\n   * Asserts whether expected exceptions are thrown for invalid hook implementations.\n   *\n   * @param string $module\n   *   The module whose invalid logic in its hooks to enable.\n   * @param string $hook\n   *   The page render hook to assert expected exceptions for.\n   *\/",34],["T_WHITESPACE","\n  ",41],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","assertPageRenderHookExceptions",42],"(",["T_VARIABLE","$module",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$hook",42],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$html_renderer",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_NS_SEPARATOR","\\",43],["T_STRING","Drupal",43],["T_DOUBLE_COLON","::",43],["T_STRING","getContainer",43],"(",")",["T_OBJECT_OPERATOR","->",43],["T_STRING","get",43],"(",["T_CONSTANT_ENCAPSED_STRING","'main_content_renderer.html'",43],")",";",["T_WHITESPACE","\n\n    ",43],["T_COMMENT","\/\/ Assert a valid hook implementation doesn't trigger an exception.\n",45],["T_WHITESPACE","    ",46],["T_VARIABLE","$page",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],"[","]",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$html_renderer",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","invokePageAttachmentHooks",47],"(",["T_VARIABLE","$page",47],")",";",["T_WHITESPACE","\n\n    ",47],["T_COMMENT","\/\/ Assert that hooks can set cache tags.\n",49],["T_WHITESPACE","    ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","assertEqual",50],"(",["T_VARIABLE","$page",50],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",50],"]","[",["T_CONSTANT_ENCAPSED_STRING","'tags'",50],"]",",",["T_WHITESPACE"," ",50],"[",["T_CONSTANT_ENCAPSED_STRING","'example'",50],"]",")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertEqual",51],"(",["T_VARIABLE","$page",51],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",51],"]","[",["T_CONSTANT_ENCAPSED_STRING","'contexts'",51],"]",",",["T_WHITESPACE"," ",51],"[",["T_CONSTANT_ENCAPSED_STRING","'user.permissions'",51],"]",")",";",["T_WHITESPACE","\n\n    ",51],["T_COMMENT","\/\/ Assert an invalid hook implementation doesn't trigger an exception.\n",53],["T_WHITESPACE","    ",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Drupal",54],["T_DOUBLE_COLON","::",54],["T_STRING","state",54],"(",")",["T_OBJECT_OPERATOR","->",54],["T_STRING","set",54],"(",["T_VARIABLE","$module",54],["T_WHITESPACE"," ",54],".",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'.'",54],["T_WHITESPACE"," ",54],".",["T_WHITESPACE"," ",54],["T_VARIABLE","$hook",54],["T_WHITESPACE"," ",54],".",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'.descendant_attached'",54],",",["T_WHITESPACE"," ",54],["T_STRING","TRUE",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$assertion",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$hook",55],["T_WHITESPACE"," ",55],".",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'() implementation that sets #attached on a descendant triggers an exception'",55],";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$page",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],"[","]",";",["T_WHITESPACE","\n    ",56],["T_TRY","try",57],["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n      ",57],["T_VARIABLE","$html_renderer",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","invokePageAttachmentHooks",58],"(",["T_VARIABLE","$page",58],")",";",["T_WHITESPACE","\n      ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","error",59],"(",["T_VARIABLE","$assertion",59],")",";",["T_WHITESPACE","\n    ",59],"}",["T_WHITESPACE","\n    ",60],["T_CATCH","catch",61],["T_WHITESPACE"," ",61],"(",["T_NS_SEPARATOR","\\",61],["T_STRING","LogicException",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$e",61],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n      ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","pass",62],"(",["T_VARIABLE","$assertion",62],")",";",["T_WHITESPACE","\n      ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","assertEqual",63],"(",["T_VARIABLE","$e",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getMessage",63],"(",")",",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'Only #attached and #cache may be set in '",63],["T_WHITESPACE"," ",63],".",["T_WHITESPACE"," ",63],["T_VARIABLE","$hook",63],["T_WHITESPACE"," ",63],".",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'().'",63],")",";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n    ",64],["T_NS_SEPARATOR","\\",65],["T_STRING","Drupal",65],["T_DOUBLE_COLON","::",65],["T_STRING","state",65],"(",")",["T_OBJECT_OPERATOR","->",65],["T_STRING","set",65],"(",["T_CONSTANT_ENCAPSED_STRING","'bc_test.'",65],["T_WHITESPACE"," ",65],".",["T_WHITESPACE"," ",65],["T_VARIABLE","$hook",65],["T_WHITESPACE"," ",65],".",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'.descendant_attached'",65],",",["T_WHITESPACE"," ",65],["T_STRING","FALSE",65],")",";",["T_WHITESPACE","\n\n    ",65],["T_COMMENT","\/\/ Assert an invalid hook implementation doesn't trigger an exception.\n",67],["T_WHITESPACE","    ",68],["T_NS_SEPARATOR","\\",68],["T_STRING","Drupal",68],["T_DOUBLE_COLON","::",68],["T_STRING","state",68],"(",")",["T_OBJECT_OPERATOR","->",68],["T_STRING","set",68],"(",["T_CONSTANT_ENCAPSED_STRING","'bc_test.'",68],["T_WHITESPACE"," ",68],".",["T_WHITESPACE"," ",68],["T_VARIABLE","$hook",68],["T_WHITESPACE"," ",68],".",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'.render_array'",68],",",["T_WHITESPACE"," ",68],["T_STRING","TRUE",68],")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$assertion",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$hook",69],["T_WHITESPACE"," ",69],".",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'() implementation that sets a child render array triggers an exception'",69],";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$page",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],"[","]",";",["T_WHITESPACE","\n    ",70],["T_TRY","try",71],["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n      ",71],["T_VARIABLE","$html_renderer",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","invokePageAttachmentHooks",72],"(",["T_VARIABLE","$page",72],")",";",["T_WHITESPACE","\n      ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","error",73],"(",["T_VARIABLE","$assertion",73],")",";",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n    ",74],["T_CATCH","catch",75],["T_WHITESPACE"," ",75],"(",["T_NS_SEPARATOR","\\",75],["T_STRING","LogicException",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$e",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n      ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","pass",76],"(",["T_VARIABLE","$assertion",76],")",";",["T_WHITESPACE","\n      ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assertEqual",77],"(",["T_VARIABLE","$e",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getMessage",77],"(",")",",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'Only #attached and #cache may be set in '",77],["T_WHITESPACE"," ",77],".",["T_WHITESPACE"," ",77],["T_VARIABLE","$hook",77],["T_WHITESPACE"," ",77],".",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'().'",77],")",";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n    ",78],["T_NS_SEPARATOR","\\",79],["T_STRING","Drupal",79],["T_DOUBLE_COLON","::",79],["T_STRING","state",79],"(",")",["T_OBJECT_OPERATOR","->",79],["T_STRING","set",79],"(",["T_VARIABLE","$module",79],["T_WHITESPACE"," ",79],".",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'.'",79],["T_WHITESPACE"," ",79],".",["T_WHITESPACE"," ",79],["T_VARIABLE","$hook",79],["T_WHITESPACE"," ",79],".",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'.render_array'",79],",",["T_WHITESPACE"," ",79],["T_STRING","FALSE",79],")",";",["T_WHITESPACE","\n  ",79],"}",["T_WHITESPACE","\n\n",80],"}",["T_WHITESPACE","\n",82]]