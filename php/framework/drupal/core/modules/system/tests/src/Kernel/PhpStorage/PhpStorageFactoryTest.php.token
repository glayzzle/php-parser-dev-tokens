[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","system",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],["T_NS_SEPARATOR","\\",3],["T_STRING","PhpStorage",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","PhpStorage",5],["T_NS_SEPARATOR","\\",5],["T_STRING","MTimeProtectedFileStorage",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","PhpStorage",6],["T_NS_SEPARATOR","\\",6],["T_STRING","PhpStorageFactory",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Site",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Settings",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","StreamWrapper",8],["T_NS_SEPARATOR","\\",8],["T_STRING","PublicStream",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","system",9],["T_NS_SEPARATOR","\\",9],["T_STRING","PhpStorage",9],["T_NS_SEPARATOR","\\",9],["T_STRING","MockPhpStorage",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","KernelTests",10],["T_NS_SEPARATOR","\\",10],["T_STRING","KernelTestBase",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Tests the PHP storage factory.\n *\n * @group PhpStorage\n * @see \\Drupal\\Core\\PhpStorage\\PhpStorageFactory\n *\/",12],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","PhpStorageFactoryTest",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_STRING","KernelTestBase",18],["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n\n  ",18],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",20],["T_WHITESPACE","\n  ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_FUNCTION","function",23],["T_WHITESPACE"," ",23],["T_STRING","setUp",23],"(",")",["T_WHITESPACE"," ",23],"{",["T_WHITESPACE","\n    ",23],["T_STRING","parent",24],["T_DOUBLE_COLON","::",24],["T_STRING","setUp",24],"(",")",";",["T_WHITESPACE","\n\n    ",24],["T_COMMENT","\/\/ Empty the PHP storage settings, as KernelTestBase sets it by default.\n",26],["T_WHITESPACE","    ",27],["T_VARIABLE","$settings",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_STRING","Settings",27],["T_DOUBLE_COLON","::",27],["T_STRING","getAll",27],"(",")",";",["T_WHITESPACE","\n    ",27],["T_UNSET","unset",28],"(",["T_VARIABLE","$settings",28],"[",["T_CONSTANT_ENCAPSED_STRING","'php_storage'",28],"]",")",";",["T_WHITESPACE","\n    ",28],["T_NEW","new",29],["T_WHITESPACE"," ",29],["T_STRING","Settings",29],"(",["T_VARIABLE","$settings",29],")",";",["T_WHITESPACE","\n  ",29],"}",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * Tests the get() method with no settings.\n   *\/",32],["T_WHITESPACE","\n  ",34],["T_PUBLIC","public",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","testGetNoSettings",35],"(",")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$php",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_STRING","PhpStorageFactory",36],["T_DOUBLE_COLON","::",36],["T_STRING","get",36],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",36],")",";",["T_WHITESPACE","\n    ",36],["T_COMMENT","\/\/ This should be the default class used.\n",37],["T_WHITESPACE","    ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","assertTrue",38],"(",["T_VARIABLE","$php",38],["T_WHITESPACE"," ",38],["T_INSTANCEOF","instanceof",38],["T_WHITESPACE"," ",38],["T_STRING","MTimeProtectedFileStorage",38],",",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'An MTimeProtectedFileStorage instance was returned with no settings.'",38],")",";",["T_WHITESPACE","\n  ",38],"}",["T_WHITESPACE","\n\n  ",39],["T_DOC_COMMENT","\/**\n   * Tests the get() method using the 'default' settings.\n   *\/",41],["T_WHITESPACE","\n  ",43],["T_PUBLIC","public",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","testGetDefault",44],"(",")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","setSettings",45],"(",")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$php",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","PhpStorageFactory",46],["T_DOUBLE_COLON","::",46],["T_STRING","get",46],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",46],")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","assertTrue",47],"(",["T_VARIABLE","$php",47],["T_WHITESPACE"," ",47],["T_INSTANCEOF","instanceof",47],["T_WHITESPACE"," ",47],["T_STRING","MockPhpStorage",47],",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'A FileReadOnlyStorage instance was returned with default settings.'",47],")",";",["T_WHITESPACE","\n  ",47],"}",["T_WHITESPACE","\n\n  ",48],["T_DOC_COMMENT","\/**\n   * Tests the get() method with overridden settings.\n   *\/",50],["T_WHITESPACE","\n  ",52],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","testGetOverride",53],"(",")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","setSettings",54],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$php",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_STRING","PhpStorageFactory",55],["T_DOUBLE_COLON","::",55],["T_STRING","get",55],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",55],")",";",["T_WHITESPACE","\n    ",55],["T_COMMENT","\/\/ The FileReadOnlyStorage should be used from settings.\n",56],["T_WHITESPACE","    ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","assertTrue",57],"(",["T_VARIABLE","$php",57],["T_WHITESPACE"," ",57],["T_INSTANCEOF","instanceof",57],["T_WHITESPACE"," ",57],["T_STRING","MockPhpStorage",57],",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'A MockPhpStorage instance was returned from overridden settings.'",57],")",";",["T_WHITESPACE","\n\n    ",57],["T_COMMENT","\/\/ Test that the name is used for the bin when it is NULL.\n",59],["T_WHITESPACE","    ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","setSettings",60],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",60],",",["T_WHITESPACE"," ",60],["T_ARRAY","array",60],"(",["T_CONSTANT_ENCAPSED_STRING","'bin'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_STRING","NULL",60],")",")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$php",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","PhpStorageFactory",61],["T_DOUBLE_COLON","::",61],["T_STRING","get",61],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",61],")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertTrue",62],"(",["T_VARIABLE","$php",62],["T_WHITESPACE"," ",62],["T_INSTANCEOF","instanceof",62],["T_WHITESPACE"," ",62],["T_STRING","MockPhpStorage",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'An MockPhpStorage instance was returned from overridden settings.'",62],")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","assertSame",63],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$php",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getConfigurationValue",63],"(",["T_CONSTANT_ENCAPSED_STRING","'bin'",63],")",",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'Name value was used for bin.'",63],")",";",["T_WHITESPACE","\n\n    ",63],["T_COMMENT","\/\/ Test that a default directory is set if it's empty.\n",65],["T_WHITESPACE","    ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","setSettings",66],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",66],",",["T_WHITESPACE"," ",66],["T_ARRAY","array",66],"(",["T_CONSTANT_ENCAPSED_STRING","'directory'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_STRING","NULL",66],")",")",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$php",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","PhpStorageFactory",67],["T_DOUBLE_COLON","::",67],["T_STRING","get",67],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",67],")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","assertTrue",68],"(",["T_VARIABLE","$php",68],["T_WHITESPACE"," ",68],["T_INSTANCEOF","instanceof",68],["T_WHITESPACE"," ",68],["T_STRING","MockPhpStorage",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'An MockPhpStorage instance was returned from overridden settings.'",68],")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertSame",69],"(",["T_STRING","PublicStream",69],["T_DOUBLE_COLON","::",69],["T_STRING","basePath",69],"(",")",["T_WHITESPACE"," ",69],".",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'\/php'",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$php",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getConfigurationValue",69],"(",["T_CONSTANT_ENCAPSED_STRING","'directory'",69],")",",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'Default file directory was used.'",69],")",";",["T_WHITESPACE","\n\n    ",69],["T_COMMENT","\/\/ Test that a default storage class is set if it's empty.\n",71],["T_WHITESPACE","    ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","setSettings",72],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",72],",",["T_WHITESPACE"," ",72],["T_ARRAY","array",72],"(",["T_CONSTANT_ENCAPSED_STRING","'class'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_STRING","NULL",72],")",")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$php",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_STRING","PhpStorageFactory",73],["T_DOUBLE_COLON","::",73],["T_STRING","get",73],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",73],")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertTrue",74],"(",["T_VARIABLE","$php",74],["T_WHITESPACE"," ",74],["T_INSTANCEOF","instanceof",74],["T_WHITESPACE"," ",74],["T_STRING","MTimeProtectedFileStorage",74],",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'An MTimeProtectedFileStorage instance was returned from overridden settings with no class.'",74],")",";",["T_WHITESPACE","\n\n    ",74],["T_COMMENT","\/\/ Test that a default secret is not returned if it's set in the override.\n",76],["T_WHITESPACE","    ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","setSettings",77],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",77],")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$php",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_STRING","PhpStorageFactory",78],["T_DOUBLE_COLON","::",78],["T_STRING","get",78],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",78],")",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","assertNotEquals",79],"(",["T_CONSTANT_ENCAPSED_STRING","'mock hash salt'",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$php",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getConfigurationValue",79],"(",["T_CONSTANT_ENCAPSED_STRING","'secret'",79],")",",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'The default secret is not used if a secret is set in the overridden settings.'",79],")",";",["T_WHITESPACE","\n\n    ",79],["T_COMMENT","\/\/ Test that a default secret is set if it's empty.\n",81],["T_WHITESPACE","    ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","setSettings",82],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",82],",",["T_WHITESPACE"," ",82],["T_ARRAY","array",82],"(",["T_CONSTANT_ENCAPSED_STRING","'secret'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_STRING","NULL",82],")",")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$php",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","PhpStorageFactory",83],["T_DOUBLE_COLON","::",83],["T_STRING","get",83],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",83],")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertSame",84],"(",["T_CONSTANT_ENCAPSED_STRING","'mock hash salt'",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$php",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getConfigurationValue",84],"(",["T_CONSTANT_ENCAPSED_STRING","'secret'",84],")",",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'The default secret is used if one is not set in the overridden settings.'",84],")",";",["T_WHITESPACE","\n  ",84],"}",["T_WHITESPACE","\n\n  ",85],["T_DOC_COMMENT","\/**\n   * Sets the Settings() singleton.\n   *\n   * @param string $name\n   *   The storage bin name to set.\n   * @param array $configuration\n   *   An array of configuration to set. Will be merged with default values.\n   *\/",87],["T_WHITESPACE","\n  ",94],["T_PROTECTED","protected",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","setSettings",95],"(",["T_VARIABLE","$name",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'default'",95],",",["T_WHITESPACE"," ",95],["T_ARRAY","array",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$configuration",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_ARRAY","array",95],"(",")",")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$settings",96],"[",["T_CONSTANT_ENCAPSED_STRING","'php_storage'",96],"]","[",["T_VARIABLE","$name",96],"]",["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$configuration",96],["T_WHITESPACE"," ",96],"+",["T_WHITESPACE"," ",96],["T_ARRAY","array",96],"(",["T_WHITESPACE","\n      ",96],["T_CONSTANT_ENCAPSED_STRING","'class'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\system\\PhpStorage\\MockPhpStorage'",97],",",["T_WHITESPACE","\n      ",97],["T_CONSTANT_ENCAPSED_STRING","'directory'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'tmp:\/\/'",98],",",["T_WHITESPACE","\n      ",98],["T_CONSTANT_ENCAPSED_STRING","'secret'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","randomString",99],"(",")",",",["T_WHITESPACE","\n      ",99],["T_CONSTANT_ENCAPSED_STRING","'bin'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'test'",100],",",["T_WHITESPACE","\n    ",100],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$settings",102],"[",["T_CONSTANT_ENCAPSED_STRING","'hash_salt'",102],"]",["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'mock hash salt'",102],";",["T_WHITESPACE","\n    ",102],["T_NEW","new",103],["T_WHITESPACE"," ",103],["T_STRING","Settings",103],"(",["T_VARIABLE","$settings",103],")",";",["T_WHITESPACE","\n  ",103],"}",["T_WHITESPACE","\n\n",104],"}",["T_WHITESPACE","\n",106]]