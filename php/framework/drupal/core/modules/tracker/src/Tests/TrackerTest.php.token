[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","tracker",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","comment",5],["T_NS_SEPARATOR","\\",5],["T_STRING","CommentInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","comment",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Tests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CommentTestTrait",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Cache",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Cache",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","EventSubscriber",8],["T_NS_SEPARATOR","\\",8],["T_STRING","MainContentViewSubscriber",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Session",9],["T_NS_SEPARATOR","\\",9],["T_STRING","AccountInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","field",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Entity",10],["T_NS_SEPARATOR","\\",10],["T_STRING","FieldStorageConfig",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","node",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Entity",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Node",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","simpletest",12],["T_NS_SEPARATOR","\\",12],["T_STRING","WebTestBase",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","system",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Tests",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Cache",13],["T_NS_SEPARATOR","\\",13],["T_STRING","AssertPageCacheContextsAndTagsTrait",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * Create and delete nodes and check for their display in the tracker listings.\n *\n * @group tracker\n *\/",15],["T_WHITESPACE","\n",19],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","TrackerTest",20],["T_WHITESPACE"," ",20],["T_EXTENDS","extends",20],["T_WHITESPACE"," ",20],["T_STRING","WebTestBase",20],["T_WHITESPACE"," ",20],"{",["T_WHITESPACE","\n\n  ",20],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","CommentTestTrait",22],";",["T_WHITESPACE","\n  ",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","AssertPageCacheContextsAndTagsTrait",23],";",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",25],["T_WHITESPACE","\n  ",29],["T_PUBLIC","public",30],["T_WHITESPACE"," ",30],["T_STATIC","static",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$modules",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],"[",["T_CONSTANT_ENCAPSED_STRING","'block'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'comment'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'tracker'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'history'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'node_test'",30],"]",";",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * The main user for testing.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",32],["T_WHITESPACE","\n  ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$user",37],";",["T_WHITESPACE","\n\n  ",37],["T_DOC_COMMENT","\/**\n   * A second user that will 'create' comments and nodes.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",39],["T_WHITESPACE","\n  ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$otherUser",44],";",["T_WHITESPACE","\n\n  ",44],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","setUp",46],"(",")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n    ",46],["T_STRING","parent",47],["T_DOUBLE_COLON","::",47],["T_STRING","setUp",47],"(",")",";",["T_WHITESPACE","\n\n    ",47],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","drupalCreateContentType",49],"(",["T_ARRAY","array",49],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'page'",49],",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'name'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'Basic page'",49],")",")",";",["T_WHITESPACE","\n\n    ",49],["T_VARIABLE","$permissions",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_ARRAY","array",51],"(",["T_CONSTANT_ENCAPSED_STRING","'access comments'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'create page content'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'post comments'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'skip comment approval'",51],")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","user",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","drupalCreateUser",52],"(",["T_VARIABLE","$permissions",52],")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","otherUser",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","drupalCreateUser",53],"(",["T_VARIABLE","$permissions",53],")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","addDefaultCommentField",54],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",54],",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'page'",54],")",";",["T_WHITESPACE","\n    ",54],["T_STRING","user_role_grant_permissions",55],"(",["T_STRING","AccountInterface",55],["T_DOUBLE_COLON","::",55],["T_STRING","ANONYMOUS_ROLE",55],",",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",["T_WHITESPACE","\n      ",55],["T_CONSTANT_ENCAPSED_STRING","'access content'",56],",",["T_WHITESPACE","\n      ",56],["T_CONSTANT_ENCAPSED_STRING","'access user profiles'",57],",",["T_WHITESPACE","\n    ",57],")",")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","drupalPlaceBlock",59],"(",["T_CONSTANT_ENCAPSED_STRING","'local_tasks_block'",59],",",["T_WHITESPACE"," ",59],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'page_tabs_block'",59],"]",")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","drupalPlaceBlock",60],"(",["T_CONSTANT_ENCAPSED_STRING","'local_actions_block'",60],",",["T_WHITESPACE"," ",60],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'page_actions_block'",60],"]",")",";",["T_WHITESPACE","\n  ",60],"}",["T_WHITESPACE","\n\n  ",61],["T_DOC_COMMENT","\/**\n   * Tests for the presence of nodes on the global tracker listing.\n   *\/",63],["T_WHITESPACE","\n  ",65],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","testTrackerAll",66],"(",")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","drupalLogin",67],"(",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","user",67],")",";",["T_WHITESPACE","\n\n    ",67],["T_VARIABLE","$unpublished",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","drupalCreateNode",69],"(",["T_ARRAY","array",69],"(",["T_WHITESPACE","\n      ",69],["T_CONSTANT_ENCAPSED_STRING","'title'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","randomMachineName",70],"(",["T_LNUMBER","8",70],")",",",["T_WHITESPACE","\n      ",70],["T_CONSTANT_ENCAPSED_STRING","'status'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_LNUMBER","0",71],",",["T_WHITESPACE","\n    ",71],")",")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$published",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","drupalCreateNode",73],"(",["T_ARRAY","array",73],"(",["T_WHITESPACE","\n      ",73],["T_CONSTANT_ENCAPSED_STRING","'title'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","randomMachineName",74],"(",["T_LNUMBER","8",74],")",",",["T_WHITESPACE","\n      ",74],["T_CONSTANT_ENCAPSED_STRING","'status'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_LNUMBER","1",75],",",["T_WHITESPACE","\n    ",75],")",")",";",["T_WHITESPACE","\n\n    ",76],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","drupalGet",78],"(",["T_CONSTANT_ENCAPSED_STRING","'activity'",78],")",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","assertNoText",79],"(",["T_VARIABLE","$unpublished",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","label",79],"(",")",",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'Unpublished node does not show up in the tracker listing.'",79],")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertText",80],"(",["T_VARIABLE","$published",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","label",80],"(",")",",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'Published node shows up in the tracker listing.'",80],")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertLink",81],"(",["T_STRING","t",81],"(",["T_CONSTANT_ENCAPSED_STRING","'My recent content'",81],")",",",["T_WHITESPACE"," ",81],["T_LNUMBER","0",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'User tab shows up on the global tracker page.'",81],")",";",["T_WHITESPACE","\n\n    ",81],["T_COMMENT","\/\/ Assert cache contexts, specifically the pager and node access contexts.\n",83],["T_WHITESPACE","    ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertCacheContexts",84],"(","[",["T_CONSTANT_ENCAPSED_STRING","'languages:language_interface'",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'route'",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'theme'",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'url.query_args:'",84],["T_WHITESPACE"," ",84],".",["T_WHITESPACE"," ",84],["T_STRING","MainContentViewSubscriber",84],["T_DOUBLE_COLON","::",84],["T_STRING","WRAPPER_FORMAT",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'url.query_args.pagers:0'",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'user.node_grants:view'",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'user'",84],"]",")",";",["T_WHITESPACE","\n    ",84],["T_COMMENT","\/\/ Assert cache tags for the action\/tabs blocks, visible node, and node list\n",85],["T_WHITESPACE","    ",86],["T_COMMENT","\/\/ cache tag.\n",86],["T_WHITESPACE","    ",87],["T_VARIABLE","$expected_tags",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","Cache",87],["T_DOUBLE_COLON","::",87],["T_STRING","mergeTags",87],"(",["T_VARIABLE","$published",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getCacheTags",87],"(",")",",",["T_WHITESPACE"," ",87],["T_VARIABLE","$published",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getOwner",87],"(",")",["T_OBJECT_OPERATOR","->",87],["T_STRING","getCacheTags",87],"(",")",")",";",["T_WHITESPACE","\n    ",87],["T_COMMENT","\/\/ Because the 'user.permissions' cache context is being optimized away.\n",88],["T_WHITESPACE","    ",89],["T_VARIABLE","$role_tags",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],"[","]",";",["T_WHITESPACE","\n    ",89],["T_FOREACH","foreach",90],["T_WHITESPACE"," ",90],"(",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","user",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getRoles",90],"(",")",["T_WHITESPACE"," ",90],["T_AS","as",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$rid",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n      ",90],["T_VARIABLE","$role_tags",91],"[","]",["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],"\"",["T_ENCAPSED_AND_WHITESPACE","config:user.role.",91],["T_VARIABLE","$rid",91],"\"",";",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$expected_tags",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","Cache",93],["T_DOUBLE_COLON","::",93],["T_STRING","mergeTags",93],"(",["T_VARIABLE","$expected_tags",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$role_tags",93],")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$block_tags",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],"[",["T_WHITESPACE","\n      ",94],["T_CONSTANT_ENCAPSED_STRING","'block_view'",95],",",["T_WHITESPACE","\n      ",95],["T_CONSTANT_ENCAPSED_STRING","'config:block.block.page_actions_block'",96],",",["T_WHITESPACE","\n      ",96],["T_CONSTANT_ENCAPSED_STRING","'config:block.block.page_tabs_block'",97],",",["T_WHITESPACE","\n      ",97],["T_CONSTANT_ENCAPSED_STRING","'config:block_list'",98],",",["T_WHITESPACE","\n    ",98],"]",";",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$expected_tags",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_STRING","Cache",100],["T_DOUBLE_COLON","::",100],["T_STRING","mergeTags",100],"(",["T_VARIABLE","$expected_tags",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$block_tags",100],")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$additional_tags",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],"[",["T_WHITESPACE","\n      ",101],["T_CONSTANT_ENCAPSED_STRING","'node_list'",102],",",["T_WHITESPACE","\n      ",102],["T_CONSTANT_ENCAPSED_STRING","'rendered'",103],",",["T_WHITESPACE","\n    ",103],"]",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$expected_tags",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","Cache",105],["T_DOUBLE_COLON","::",105],["T_STRING","mergeTags",105],"(",["T_VARIABLE","$expected_tags",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$additional_tags",105],")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertCacheTags",106],"(",["T_VARIABLE","$expected_tags",106],")",";",["T_WHITESPACE","\n\n    ",106],["T_COMMENT","\/\/ Delete a node and ensure it no longer appears on the tracker.\n",108],["T_WHITESPACE","    ",109],["T_VARIABLE","$published",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","delete",109],"(",")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","drupalGet",110],"(",["T_CONSTANT_ENCAPSED_STRING","'activity'",110],")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertNoText",111],"(",["T_VARIABLE","$published",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","label",111],"(",")",",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'Deleted node does not show up in the tracker listing.'",111],")",";",["T_WHITESPACE","\n\n    ",111],["T_COMMENT","\/\/ Test proper display of time on activity page when comments are disabled.\n",113],["T_WHITESPACE","    ",114],["T_COMMENT","\/\/ Disable comments.\n",114],["T_WHITESPACE","    ",115],["T_STRING","FieldStorageConfig",115],["T_DOUBLE_COLON","::",115],["T_STRING","loadByName",115],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",115],",",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'comment'",115],")",["T_OBJECT_OPERATOR","->",115],["T_STRING","delete",115],"(",")",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$node",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","drupalCreateNode",116],"(","[",["T_WHITESPACE","\n      ",116],["T_COMMENT","\/\/ This title is required to trigger the custom changed time set in the\n",117],["T_WHITESPACE","      ",118],["T_COMMENT","\/\/ node_test module. This is needed in order to ensure a sufficiently\n",118],["T_WHITESPACE","      ",119],["T_COMMENT","\/\/ large 'time ago' interval that isn't numbered in seconds.\n",119],["T_WHITESPACE","      ",120],["T_CONSTANT_ENCAPSED_STRING","'title'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'testing_node_presave'",120],",",["T_WHITESPACE","\n      ",120],["T_CONSTANT_ENCAPSED_STRING","'status'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_LNUMBER","1",121],",",["T_WHITESPACE","\n    ",121],"]",")",";",["T_WHITESPACE","\n\n    ",122],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","drupalGet",124],"(",["T_CONSTANT_ENCAPSED_STRING","'activity'",124],")",";",["T_WHITESPACE","\n    ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertText",125],"(",["T_VARIABLE","$node",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","label",125],"(",")",",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'Published node shows up in the tracker listing.'",125],")",";",["T_WHITESPACE","\n    ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","assertText",126],"(",["T_NS_SEPARATOR","\\",126],["T_STRING","Drupal",126],["T_DOUBLE_COLON","::",126],["T_STRING","service",126],"(",["T_CONSTANT_ENCAPSED_STRING","'date.formatter'",126],")",["T_OBJECT_OPERATOR","->",126],["T_STRING","formatTimeDiffSince",126],"(",["T_VARIABLE","$node",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getChangedTime",126],"(",")",")",",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'The changed time was displayed on the tracker listing.'",126],")",";",["T_WHITESPACE","\n  ",126],"}",["T_WHITESPACE","\n\n  ",127],["T_DOC_COMMENT","\/**\n   * Tests for the presence of nodes on a user's tracker listing.\n   *\/",129],["T_WHITESPACE","\n  ",131],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","testTrackerUser",132],"(",")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n    ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","drupalLogin",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","user",133],")",";",["T_WHITESPACE","\n\n    ",133],["T_VARIABLE","$unpublished",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","drupalCreateNode",135],"(",["T_ARRAY","array",135],"(",["T_WHITESPACE","\n      ",135],["T_CONSTANT_ENCAPSED_STRING","'title'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","randomMachineName",136],"(",["T_LNUMBER","8",136],")",",",["T_WHITESPACE","\n      ",136],["T_CONSTANT_ENCAPSED_STRING","'uid'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","user",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","id",137],"(",")",",",["T_WHITESPACE","\n      ",137],["T_CONSTANT_ENCAPSED_STRING","'status'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_LNUMBER","0",138],",",["T_WHITESPACE","\n    ",138],")",")",";",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$my_published",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","drupalCreateNode",140],"(",["T_ARRAY","array",140],"(",["T_WHITESPACE","\n      ",140],["T_CONSTANT_ENCAPSED_STRING","'title'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","randomMachineName",141],"(",["T_LNUMBER","8",141],")",",",["T_WHITESPACE","\n      ",141],["T_CONSTANT_ENCAPSED_STRING","'uid'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","user",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","id",142],"(",")",",",["T_WHITESPACE","\n      ",142],["T_CONSTANT_ENCAPSED_STRING","'status'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_LNUMBER","1",143],",",["T_WHITESPACE","\n    ",143],")",")",";",["T_WHITESPACE","\n    ",144],["T_VARIABLE","$other_published_no_comment",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","drupalCreateNode",145],"(",["T_ARRAY","array",145],"(",["T_WHITESPACE","\n      ",145],["T_CONSTANT_ENCAPSED_STRING","'title'",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","randomMachineName",146],"(",["T_LNUMBER","8",146],")",",",["T_WHITESPACE","\n      ",146],["T_CONSTANT_ENCAPSED_STRING","'uid'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","otherUser",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","id",147],"(",")",",",["T_WHITESPACE","\n      ",147],["T_CONSTANT_ENCAPSED_STRING","'status'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_LNUMBER","1",148],",",["T_WHITESPACE","\n    ",148],")",")",";",["T_WHITESPACE","\n    ",149],["T_VARIABLE","$other_published_my_comment",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","drupalCreateNode",150],"(",["T_ARRAY","array",150],"(",["T_WHITESPACE","\n      ",150],["T_CONSTANT_ENCAPSED_STRING","'title'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","randomMachineName",151],"(",["T_LNUMBER","8",151],")",",",["T_WHITESPACE","\n      ",151],["T_CONSTANT_ENCAPSED_STRING","'uid'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","otherUser",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","id",152],"(",")",",",["T_WHITESPACE","\n      ",152],["T_CONSTANT_ENCAPSED_STRING","'status'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_LNUMBER","1",153],",",["T_WHITESPACE","\n    ",153],")",")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$comment",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_ARRAY","array",155],"(",["T_WHITESPACE","\n      ",155],["T_CONSTANT_ENCAPSED_STRING","'subject[0][value]'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","randomMachineName",156],"(",")",",",["T_WHITESPACE","\n      ",156],["T_CONSTANT_ENCAPSED_STRING","'comment_body[0][value]'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","randomMachineName",157],"(",["T_LNUMBER","20",157],")",",",["T_WHITESPACE","\n    ",157],")",";",["T_WHITESPACE","\n    ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","drupalPostForm",159],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/reply\/node\/'",159],["T_WHITESPACE"," ",159],".",["T_WHITESPACE"," ",159],["T_VARIABLE","$other_published_my_comment",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","id",159],"(",")",["T_WHITESPACE"," ",159],".",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'\/comment'",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$comment",159],",",["T_WHITESPACE"," ",159],["T_STRING","t",159],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",159],")",")",";",["T_WHITESPACE","\n\n    ",159],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","drupalGet",161],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/'",161],["T_WHITESPACE"," ",161],".",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","user",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","id",161],"(",")",["T_WHITESPACE"," ",161],".",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'\/activity'",161],")",";",["T_WHITESPACE","\n    ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","assertNoText",162],"(",["T_VARIABLE","$unpublished",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","label",162],"(",")",",",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","\"Unpublished nodes do not show up in the user's tracker listing.\"",162],")",";",["T_WHITESPACE","\n    ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","assertText",163],"(",["T_VARIABLE","$my_published",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","label",163],"(",")",",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","\"Published nodes show up in the user's tracker listing.\"",163],")",";",["T_WHITESPACE","\n    ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","assertNoText",164],"(",["T_VARIABLE","$other_published_no_comment",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","label",164],"(",")",",",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","\"Another user's nodes do not show up in the user's tracker listing.\"",164],")",";",["T_WHITESPACE","\n    ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","assertText",165],"(",["T_VARIABLE","$other_published_my_comment",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","label",165],"(",")",",",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","\"Nodes that the user has commented on appear in the user's tracker listing.\"",165],")",";",["T_WHITESPACE","\n\n    ",165],["T_COMMENT","\/\/ Assert cache contexts.\n",167],["T_WHITESPACE","    ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","assertCacheContexts",168],"(","[",["T_CONSTANT_ENCAPSED_STRING","'languages:language_interface'",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'route'",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'theme'",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'url.query_args:'",168],["T_WHITESPACE"," ",168],".",["T_WHITESPACE"," ",168],["T_STRING","MainContentViewSubscriber",168],["T_DOUBLE_COLON","::",168],["T_STRING","WRAPPER_FORMAT",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'url.query_args.pagers:0'",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'user'",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'user.node_grants:view'",168],"]",")",";",["T_WHITESPACE","\n    ",168],["T_COMMENT","\/\/ Assert cache tags for the visible nodes (including owners) and node list\n",169],["T_WHITESPACE","    ",170],["T_COMMENT","\/\/ cache tag.\n",170],["T_WHITESPACE","    ",171],["T_VARIABLE","$expected_tags",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_STRING","Cache",171],["T_DOUBLE_COLON","::",171],["T_STRING","mergeTags",171],"(",["T_VARIABLE","$my_published",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getCacheTags",171],"(",")",",",["T_WHITESPACE"," ",171],["T_VARIABLE","$my_published",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getOwner",171],"(",")",["T_OBJECT_OPERATOR","->",171],["T_STRING","getCacheTags",171],"(",")",")",";",["T_WHITESPACE","\n    ",171],["T_VARIABLE","$expected_tags",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_STRING","Cache",172],["T_DOUBLE_COLON","::",172],["T_STRING","mergeTags",172],"(",["T_VARIABLE","$expected_tags",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$other_published_my_comment",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getCacheTags",172],"(",")",")",";",["T_WHITESPACE","\n    ",172],["T_VARIABLE","$expected_tags",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_STRING","Cache",173],["T_DOUBLE_COLON","::",173],["T_STRING","mergeTags",173],"(",["T_VARIABLE","$expected_tags",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$other_published_my_comment",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getOwner",173],"(",")",["T_OBJECT_OPERATOR","->",173],["T_STRING","getCacheTags",173],"(",")",")",";",["T_WHITESPACE","\n    ",173],["T_COMMENT","\/\/ Because the 'user.permissions' cache context is being optimized away.\n",174],["T_WHITESPACE","    ",175],["T_VARIABLE","$role_tags",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],"[","]",";",["T_WHITESPACE","\n    ",175],["T_FOREACH","foreach",176],["T_WHITESPACE"," ",176],"(",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","user",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getRoles",176],"(",")",["T_WHITESPACE"," ",176],["T_AS","as",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$rid",176],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n      ",176],["T_VARIABLE","$role_tags",177],"[","]",["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],"\"",["T_ENCAPSED_AND_WHITESPACE","config:user.role.",177],["T_VARIABLE","$rid",177],"\"",";",["T_WHITESPACE","\n    ",177],"}",["T_WHITESPACE","\n    ",178],["T_VARIABLE","$expected_tags",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_STRING","Cache",179],["T_DOUBLE_COLON","::",179],["T_STRING","mergeTags",179],"(",["T_VARIABLE","$expected_tags",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$role_tags",179],")",";",["T_WHITESPACE","\n    ",179],["T_VARIABLE","$block_tags",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],"[",["T_WHITESPACE","\n      ",180],["T_CONSTANT_ENCAPSED_STRING","'block_view'",181],",",["T_WHITESPACE","\n      ",181],["T_CONSTANT_ENCAPSED_STRING","'config:block.block.page_actions_block'",182],",",["T_WHITESPACE","\n      ",182],["T_CONSTANT_ENCAPSED_STRING","'config:block.block.page_tabs_block'",183],",",["T_WHITESPACE","\n      ",183],["T_CONSTANT_ENCAPSED_STRING","'config:block_list'",184],",",["T_WHITESPACE","\n    ",184],"]",";",["T_WHITESPACE","\n    ",185],["T_VARIABLE","$expected_tags",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_STRING","Cache",186],["T_DOUBLE_COLON","::",186],["T_STRING","mergeTags",186],"(",["T_VARIABLE","$expected_tags",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$block_tags",186],")",";",["T_WHITESPACE","\n    ",186],["T_VARIABLE","$additional_tags",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],"[",["T_WHITESPACE","\n      ",187],["T_CONSTANT_ENCAPSED_STRING","'node_list'",188],",",["T_WHITESPACE","\n      ",188],["T_CONSTANT_ENCAPSED_STRING","'rendered'",189],",",["T_WHITESPACE","\n    ",189],"]",";",["T_WHITESPACE","\n    ",190],["T_VARIABLE","$expected_tags",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_STRING","Cache",191],["T_DOUBLE_COLON","::",191],["T_STRING","mergeTags",191],"(",["T_VARIABLE","$expected_tags",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$additional_tags",191],")",";",["T_WHITESPACE","\n\n    ",191],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","assertCacheTags",193],"(",["T_VARIABLE","$expected_tags",193],")",";",["T_WHITESPACE","\n    ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","assertCacheContexts",194],"(","[",["T_CONSTANT_ENCAPSED_STRING","'languages:language_interface'",194],",",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'route'",194],",",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'theme'",194],",",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'url.query_args:'",194],["T_WHITESPACE"," ",194],".",["T_WHITESPACE"," ",194],["T_STRING","MainContentViewSubscriber",194],["T_DOUBLE_COLON","::",194],["T_STRING","WRAPPER_FORMAT",194],",",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'url.query_args.pagers:0'",194],",",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'user'",194],",",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'user.node_grants:view'",194],"]",")",";",["T_WHITESPACE","\n\n    ",194],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","assertLink",196],"(",["T_VARIABLE","$my_published",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","label",196],"(",")",")",";",["T_WHITESPACE","\n    ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","assertNoLink",197],"(",["T_VARIABLE","$unpublished",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","label",197],"(",")",")",";",["T_WHITESPACE","\n    ",197],["T_COMMENT","\/\/ Verify that title and tab title have been set correctly.\n",198],["T_WHITESPACE","    ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","assertText",199],"(",["T_CONSTANT_ENCAPSED_STRING","'Activity'",199],",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'The user activity tab has the name \"Activity\".'",199],")",";",["T_WHITESPACE","\n    ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","assertTitle",200],"(",["T_STRING","t",200],"(",["T_CONSTANT_ENCAPSED_STRING","'@name | @site'",200],",",["T_WHITESPACE"," ",200],["T_ARRAY","array",200],"(",["T_CONSTANT_ENCAPSED_STRING","'@name'",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","user",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","getUsername",200],"(",")",",",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'@site'",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","config",200],"(",["T_CONSTANT_ENCAPSED_STRING","'system.site'",200],")",["T_OBJECT_OPERATOR","->",200],["T_STRING","get",200],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",200],")",")",")",",",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'The user tracker page has the correct page title.'",200],")",";",["T_WHITESPACE","\n\n    ",200],["T_COMMENT","\/\/ Verify that unpublished comments are removed from the tracker.\n",202],["T_WHITESPACE","    ",203],["T_VARIABLE","$admin_user",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","drupalCreateUser",203],"(",["T_ARRAY","array",203],"(",["T_CONSTANT_ENCAPSED_STRING","'post comments'",203],",",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'administer comments'",203],",",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'access user profiles'",203],")",")",";",["T_WHITESPACE","\n    ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","drupalLogin",204],"(",["T_VARIABLE","$admin_user",204],")",";",["T_WHITESPACE","\n    ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","drupalPostForm",205],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/1\/edit'",205],",",["T_WHITESPACE"," ",205],["T_ARRAY","array",205],"(",["T_CONSTANT_ENCAPSED_STRING","'status'",205],["T_WHITESPACE"," ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_STRING","CommentInterface",205],["T_DOUBLE_COLON","::",205],["T_STRING","NOT_PUBLISHED",205],")",",",["T_WHITESPACE"," ",205],["T_STRING","t",205],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",205],")",")",";",["T_WHITESPACE","\n    ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","drupalGet",206],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/'",206],["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","user",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","id",206],"(",")",["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'\/activity'",206],")",";",["T_WHITESPACE","\n    ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","assertNoText",207],"(",["T_VARIABLE","$other_published_my_comment",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","label",207],"(",")",",",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'Unpublished comments are not counted on the tracker listing.'",207],")",";",["T_WHITESPACE","\n\n    ",207],["T_COMMENT","\/\/ Test escaping of title on user's tracker tab.\n",209],["T_WHITESPACE","    ",210],["T_NS_SEPARATOR","\\",210],["T_STRING","Drupal",210],["T_DOUBLE_COLON","::",210],["T_STRING","service",210],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",210],")",["T_OBJECT_OPERATOR","->",210],["T_STRING","install",210],"(","[",["T_CONSTANT_ENCAPSED_STRING","'user_hooks_test'",210],"]",")",";",["T_WHITESPACE","\n    ",210],["T_STRING","Cache",211],["T_DOUBLE_COLON","::",211],["T_STRING","invalidateTags",211],"(","[",["T_CONSTANT_ENCAPSED_STRING","'rendered'",211],"]",")",";",["T_WHITESPACE","\n    ",211],["T_NS_SEPARATOR","\\",212],["T_STRING","Drupal",212],["T_DOUBLE_COLON","::",212],["T_STRING","state",212],"(",")",["T_OBJECT_OPERATOR","->",212],["T_STRING","set",212],"(",["T_CONSTANT_ENCAPSED_STRING","'user_hooks_test_user_format_name_alter'",212],",",["T_WHITESPACE"," ",212],["T_STRING","TRUE",212],")",";",["T_WHITESPACE","\n    ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","drupalGet",213],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/'",213],["T_WHITESPACE"," ",213],".",["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","user",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","id",213],"(",")",["T_WHITESPACE"," ",213],".",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'\/activity'",213],")",";",["T_WHITESPACE","\n    ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","assertEscaped",214],"(",["T_CONSTANT_ENCAPSED_STRING","'<em>'",214],["T_WHITESPACE"," ",214],".",["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","user",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","id",214],"(",")",["T_WHITESPACE"," ",214],".",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'<\/em>'",214],")",";",["T_WHITESPACE","\n\n    ",214],["T_NS_SEPARATOR","\\",216],["T_STRING","Drupal",216],["T_DOUBLE_COLON","::",216],["T_STRING","state",216],"(",")",["T_OBJECT_OPERATOR","->",216],["T_STRING","set",216],"(",["T_CONSTANT_ENCAPSED_STRING","'user_hooks_test_user_format_name_alter_safe'",216],",",["T_WHITESPACE"," ",216],["T_STRING","TRUE",216],")",";",["T_WHITESPACE","\n    ",216],["T_STRING","Cache",217],["T_DOUBLE_COLON","::",217],["T_STRING","invalidateTags",217],"(","[",["T_CONSTANT_ENCAPSED_STRING","'rendered'",217],"]",")",";",["T_WHITESPACE","\n    ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","drupalGet",218],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/'",218],["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","user",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","id",218],"(",")",["T_WHITESPACE"," ",218],".",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'\/activity'",218],")",";",["T_WHITESPACE","\n    ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","assertNoEscaped",219],"(",["T_CONSTANT_ENCAPSED_STRING","'<em>'",219],["T_WHITESPACE"," ",219],".",["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","user",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","id",219],"(",")",["T_WHITESPACE"," ",219],".",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'<\/em>'",219],")",";",["T_WHITESPACE","\n    ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","assertRaw",220],"(",["T_CONSTANT_ENCAPSED_STRING","'<em>'",220],["T_WHITESPACE"," ",220],".",["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","user",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","id",220],"(",")",["T_WHITESPACE"," ",220],".",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'<\/em>'",220],")",";",["T_WHITESPACE","\n  ",220],"}",["T_WHITESPACE","\n\n  ",221],["T_DOC_COMMENT","\/**\n   * Tests the metadata for the \"new\"\/\"updated\" indicators.\n   *\/",223],["T_WHITESPACE","\n  ",225],["T_FUNCTION","function",226],["T_WHITESPACE"," ",226],["T_STRING","testTrackerHistoryMetadata",226],"(",")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n    ",226],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","drupalLogin",227],"(",["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","user",227],")",";",["T_WHITESPACE","\n\n    ",227],["T_COMMENT","\/\/ Create a page node.\n",229],["T_WHITESPACE","    ",230],["T_VARIABLE","$edit",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_ARRAY","array",230],"(",["T_WHITESPACE","\n      ",230],["T_CONSTANT_ENCAPSED_STRING","'title'",231],["T_WHITESPACE"," ",231],["T_DOUBLE_ARROW","=>",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","randomMachineName",231],"(",["T_LNUMBER","8",231],")",",",["T_WHITESPACE","\n    ",231],")",";",["T_WHITESPACE","\n    ",232],["T_VARIABLE","$node",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","drupalCreateNode",233],"(",["T_VARIABLE","$edit",233],")",";",["T_WHITESPACE","\n\n    ",233],["T_COMMENT","\/\/ Verify that the history metadata is present.\n",235],["T_WHITESPACE","    ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","drupalGet",236],"(",["T_CONSTANT_ENCAPSED_STRING","'activity'",236],")",";",["T_WHITESPACE","\n    ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","assertHistoryMetadata",237],"(",["T_VARIABLE","$node",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","id",237],"(",")",",",["T_WHITESPACE"," ",237],["T_VARIABLE","$node",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","getChangedTime",237],"(",")",",",["T_WHITESPACE"," ",237],["T_VARIABLE","$node",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","getChangedTime",237],"(",")",")",";",["T_WHITESPACE","\n    ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","drupalGet",238],"(",["T_CONSTANT_ENCAPSED_STRING","'activity\/'",238],["T_WHITESPACE"," ",238],".",["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","user",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","id",238],"(",")",")",";",["T_WHITESPACE","\n    ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","assertHistoryMetadata",239],"(",["T_VARIABLE","$node",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","id",239],"(",")",",",["T_WHITESPACE"," ",239],["T_VARIABLE","$node",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getChangedTime",239],"(",")",",",["T_WHITESPACE"," ",239],["T_VARIABLE","$node",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getChangedTime",239],"(",")",")",";",["T_WHITESPACE","\n    ",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","drupalGet",240],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/'",240],["T_WHITESPACE"," ",240],".",["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","user",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","id",240],"(",")",["T_WHITESPACE"," ",240],".",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'\/activity'",240],")",";",["T_WHITESPACE","\n    ",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","assertHistoryMetadata",241],"(",["T_VARIABLE","$node",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","id",241],"(",")",",",["T_WHITESPACE"," ",241],["T_VARIABLE","$node",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getChangedTime",241],"(",")",",",["T_WHITESPACE"," ",241],["T_VARIABLE","$node",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getChangedTime",241],"(",")",")",";",["T_WHITESPACE","\n\n    ",241],["T_COMMENT","\/\/ Add a comment to the page, make sure it is created after the node by\n",243],["T_WHITESPACE","    ",244],["T_COMMENT","\/\/ sleeping for one second, to ensure the last comment timestamp is\n",244],["T_WHITESPACE","    ",245],["T_COMMENT","\/\/ different from before.\n",245],["T_WHITESPACE","    ",246],["T_VARIABLE","$comment",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_ARRAY","array",246],"(",["T_WHITESPACE","\n      ",246],["T_CONSTANT_ENCAPSED_STRING","'subject[0][value]'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","randomMachineName",247],"(",")",",",["T_WHITESPACE","\n      ",247],["T_CONSTANT_ENCAPSED_STRING","'comment_body[0][value]'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","randomMachineName",248],"(",["T_LNUMBER","20",248],")",",",["T_WHITESPACE","\n    ",248],")",";",["T_WHITESPACE","\n    ",249],["T_STRING","sleep",250],"(",["T_LNUMBER","1",250],")",";",["T_WHITESPACE","\n    ",250],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","drupalPostForm",251],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/reply\/node\/'",251],["T_WHITESPACE"," ",251],".",["T_WHITESPACE"," ",251],["T_VARIABLE","$node",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","id",251],"(",")",["T_WHITESPACE"," ",251],".",["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","'\/comment'",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$comment",251],",",["T_WHITESPACE"," ",251],["T_STRING","t",251],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",251],")",")",";",["T_WHITESPACE","\n    ",251],["T_COMMENT","\/\/ Reload the node so that comment.module's hook_node_load()\n",252],["T_WHITESPACE","    ",253],["T_COMMENT","\/\/ implementation can set $node->last_comment_timestamp for the freshly\n",253],["T_WHITESPACE","    ",254],["T_COMMENT","\/\/ posted comment.\n",254],["T_WHITESPACE","    ",255],["T_VARIABLE","$node",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_STRING","Node",255],["T_DOUBLE_COLON","::",255],["T_STRING","load",255],"(",["T_VARIABLE","$node",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","id",255],"(",")",")",";",["T_WHITESPACE","\n\n    ",255],["T_COMMENT","\/\/ Verify that the history metadata is updated.\n",257],["T_WHITESPACE","    ",258],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","drupalGet",258],"(",["T_CONSTANT_ENCAPSED_STRING","'activity'",258],")",";",["T_WHITESPACE","\n    ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","assertHistoryMetadata",259],"(",["T_VARIABLE","$node",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","id",259],"(",")",",",["T_WHITESPACE"," ",259],["T_VARIABLE","$node",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","getChangedTime",259],"(",")",",",["T_WHITESPACE"," ",259],["T_VARIABLE","$node",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","get",259],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",259],")",["T_OBJECT_OPERATOR","->",259],["T_STRING","last_comment_timestamp",259],")",";",["T_WHITESPACE","\n    ",259],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","drupalGet",260],"(",["T_CONSTANT_ENCAPSED_STRING","'activity\/'",260],["T_WHITESPACE"," ",260],".",["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","user",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","id",260],"(",")",")",";",["T_WHITESPACE","\n    ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","assertHistoryMetadata",261],"(",["T_VARIABLE","$node",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","id",261],"(",")",",",["T_WHITESPACE"," ",261],["T_VARIABLE","$node",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","getChangedTime",261],"(",")",",",["T_WHITESPACE"," ",261],["T_VARIABLE","$node",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","get",261],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",261],")",["T_OBJECT_OPERATOR","->",261],["T_STRING","last_comment_timestamp",261],")",";",["T_WHITESPACE","\n    ",261],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","drupalGet",262],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/'",262],["T_WHITESPACE"," ",262],".",["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","user",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","id",262],"(",")",["T_WHITESPACE"," ",262],".",["T_WHITESPACE"," ",262],["T_CONSTANT_ENCAPSED_STRING","'\/activity'",262],")",";",["T_WHITESPACE","\n    ",262],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","assertHistoryMetadata",263],"(",["T_VARIABLE","$node",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","id",263],"(",")",",",["T_WHITESPACE"," ",263],["T_VARIABLE","$node",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","getChangedTime",263],"(",")",",",["T_WHITESPACE"," ",263],["T_VARIABLE","$node",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","get",263],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",263],")",["T_OBJECT_OPERATOR","->",263],["T_STRING","last_comment_timestamp",263],")",";",["T_WHITESPACE","\n\n    ",263],["T_COMMENT","\/\/ Log out, now verify that the metadata is still there, but the library is\n",265],["T_WHITESPACE","    ",266],["T_COMMENT","\/\/ not.\n",266],["T_WHITESPACE","    ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","drupalLogout",267],"(",")",";",["T_WHITESPACE","\n    ",267],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","drupalGet",268],"(",["T_CONSTANT_ENCAPSED_STRING","'activity'",268],")",";",["T_WHITESPACE","\n    ",268],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","assertHistoryMetadata",269],"(",["T_VARIABLE","$node",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","id",269],"(",")",",",["T_WHITESPACE"," ",269],["T_VARIABLE","$node",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","getChangedTime",269],"(",")",",",["T_WHITESPACE"," ",269],["T_VARIABLE","$node",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","get",269],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",269],")",["T_OBJECT_OPERATOR","->",269],["T_STRING","last_comment_timestamp",269],",",["T_WHITESPACE"," ",269],["T_STRING","FALSE",269],")",";",["T_WHITESPACE","\n    ",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","drupalGet",270],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/'",270],["T_WHITESPACE"," ",270],".",["T_WHITESPACE"," ",270],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","user",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","id",270],"(",")",["T_WHITESPACE"," ",270],".",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'\/activity'",270],")",";",["T_WHITESPACE","\n    ",270],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","assertHistoryMetadata",271],"(",["T_VARIABLE","$node",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","id",271],"(",")",",",["T_WHITESPACE"," ",271],["T_VARIABLE","$node",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getChangedTime",271],"(",")",",",["T_WHITESPACE"," ",271],["T_VARIABLE","$node",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","get",271],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",271],")",["T_OBJECT_OPERATOR","->",271],["T_STRING","last_comment_timestamp",271],",",["T_WHITESPACE"," ",271],["T_STRING","FALSE",271],")",";",["T_WHITESPACE","\n  ",271],"}",["T_WHITESPACE","\n\n  ",272],["T_DOC_COMMENT","\/**\n   * Tests for ordering on a users tracker listing when comments are posted.\n   *\/",274],["T_WHITESPACE","\n  ",276],["T_FUNCTION","function",277],["T_WHITESPACE"," ",277],["T_STRING","testTrackerOrderingNewComments",277],"(",")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n    ",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","drupalLogin",278],"(",["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","user",278],")",";",["T_WHITESPACE","\n\n    ",278],["T_VARIABLE","$node_one",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","drupalCreateNode",280],"(",["T_ARRAY","array",280],"(",["T_WHITESPACE","\n      ",280],["T_CONSTANT_ENCAPSED_STRING","'title'",281],["T_WHITESPACE"," ",281],["T_DOUBLE_ARROW","=>",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","randomMachineName",281],"(",["T_LNUMBER","8",281],")",",",["T_WHITESPACE","\n    ",281],")",")",";",["T_WHITESPACE","\n\n    ",282],["T_VARIABLE","$node_two",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","drupalCreateNode",284],"(",["T_ARRAY","array",284],"(",["T_WHITESPACE","\n      ",284],["T_CONSTANT_ENCAPSED_STRING","'title'",285],["T_WHITESPACE"," ",285],["T_DOUBLE_ARROW","=>",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","randomMachineName",285],"(",["T_LNUMBER","8",285],")",",",["T_WHITESPACE","\n    ",285],")",")",";",["T_WHITESPACE","\n\n    ",286],["T_COMMENT","\/\/ Now get otherUser to track these pieces of content.\n",288],["T_WHITESPACE","    ",289],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","drupalLogin",289],"(",["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","otherUser",289],")",";",["T_WHITESPACE","\n\n    ",289],["T_COMMENT","\/\/ Add a comment to the first page.\n",291],["T_WHITESPACE","    ",292],["T_VARIABLE","$comment",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_ARRAY","array",292],"(",["T_WHITESPACE","\n      ",292],["T_CONSTANT_ENCAPSED_STRING","'subject[0][value]'",293],["T_WHITESPACE"," ",293],["T_DOUBLE_ARROW","=>",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","randomMachineName",293],"(",")",",",["T_WHITESPACE","\n      ",293],["T_CONSTANT_ENCAPSED_STRING","'comment_body[0][value]'",294],["T_WHITESPACE"," ",294],["T_DOUBLE_ARROW","=>",294],["T_WHITESPACE"," ",294],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","randomMachineName",294],"(",["T_LNUMBER","20",294],")",",",["T_WHITESPACE","\n    ",294],")",";",["T_WHITESPACE","\n    ",295],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","drupalPostForm",296],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/reply\/node\/'",296],["T_WHITESPACE"," ",296],".",["T_WHITESPACE"," ",296],["T_VARIABLE","$node_one",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","id",296],"(",")",["T_WHITESPACE"," ",296],".",["T_WHITESPACE"," ",296],["T_CONSTANT_ENCAPSED_STRING","'\/comment'",296],",",["T_WHITESPACE"," ",296],["T_VARIABLE","$comment",296],",",["T_WHITESPACE"," ",296],["T_STRING","t",296],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",296],")",")",";",["T_WHITESPACE","\n\n    ",296],["T_COMMENT","\/\/ If the comment is posted in the same second as the last one then Drupal\n",298],["T_WHITESPACE","    ",299],["T_COMMENT","\/\/ can't tell the difference, so we wait one second here.\n",299],["T_WHITESPACE","    ",300],["T_STRING","sleep",300],"(",["T_LNUMBER","1",300],")",";",["T_WHITESPACE","\n\n    ",300],["T_COMMENT","\/\/ Add a comment to the second page.\n",302],["T_WHITESPACE","    ",303],["T_VARIABLE","$comment",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_ARRAY","array",303],"(",["T_WHITESPACE","\n      ",303],["T_CONSTANT_ENCAPSED_STRING","'subject[0][value]'",304],["T_WHITESPACE"," ",304],["T_DOUBLE_ARROW","=>",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","randomMachineName",304],"(",")",",",["T_WHITESPACE","\n      ",304],["T_CONSTANT_ENCAPSED_STRING","'comment_body[0][value]'",305],["T_WHITESPACE"," ",305],["T_DOUBLE_ARROW","=>",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","randomMachineName",305],"(",["T_LNUMBER","20",305],")",",",["T_WHITESPACE","\n    ",305],")",";",["T_WHITESPACE","\n    ",306],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","drupalPostForm",307],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/reply\/node\/'",307],["T_WHITESPACE"," ",307],".",["T_WHITESPACE"," ",307],["T_VARIABLE","$node_two",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","id",307],"(",")",["T_WHITESPACE"," ",307],".",["T_WHITESPACE"," ",307],["T_CONSTANT_ENCAPSED_STRING","'\/comment'",307],",",["T_WHITESPACE"," ",307],["T_VARIABLE","$comment",307],",",["T_WHITESPACE"," ",307],["T_STRING","t",307],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",307],")",")",";",["T_WHITESPACE","\n\n    ",307],["T_COMMENT","\/\/ We should at this point have in our tracker for otherUser:\n",309],["T_WHITESPACE","    ",310],["T_COMMENT","\/\/ 1. node_two\n",310],["T_WHITESPACE","    ",311],["T_COMMENT","\/\/ 2. node_one\n",311],["T_WHITESPACE","    ",312],["T_COMMENT","\/\/ Because that's the reverse order of the posted comments.\n",312],["T_WHITESPACE","\n    ",313],["T_COMMENT","\/\/ Now we're going to post a comment to node_one which should jump it to the\n",314],["T_WHITESPACE","    ",315],["T_COMMENT","\/\/ top of the list.\n",315],["T_WHITESPACE","\n    ",316],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","drupalLogin",317],"(",["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","user",317],")",";",["T_WHITESPACE","\n    ",317],["T_COMMENT","\/\/ If the comment is posted in the same second as the last one then Drupal\n",318],["T_WHITESPACE","    ",319],["T_COMMENT","\/\/ can't tell the difference, so we wait one second here.\n",319],["T_WHITESPACE","    ",320],["T_STRING","sleep",320],"(",["T_LNUMBER","1",320],")",";",["T_WHITESPACE","\n\n    ",320],["T_COMMENT","\/\/ Add a comment to the second page.\n",322],["T_WHITESPACE","    ",323],["T_VARIABLE","$comment",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_ARRAY","array",323],"(",["T_WHITESPACE","\n      ",323],["T_CONSTANT_ENCAPSED_STRING","'subject[0][value]'",324],["T_WHITESPACE"," ",324],["T_DOUBLE_ARROW","=>",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","randomMachineName",324],"(",")",",",["T_WHITESPACE","\n      ",324],["T_CONSTANT_ENCAPSED_STRING","'comment_body[0][value]'",325],["T_WHITESPACE"," ",325],["T_DOUBLE_ARROW","=>",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","randomMachineName",325],"(",["T_LNUMBER","20",325],")",",",["T_WHITESPACE","\n    ",325],")",";",["T_WHITESPACE","\n    ",326],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","drupalPostForm",327],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/reply\/node\/'",327],["T_WHITESPACE"," ",327],".",["T_WHITESPACE"," ",327],["T_VARIABLE","$node_one",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","id",327],"(",")",["T_WHITESPACE"," ",327],".",["T_WHITESPACE"," ",327],["T_CONSTANT_ENCAPSED_STRING","'\/comment'",327],",",["T_WHITESPACE"," ",327],["T_VARIABLE","$comment",327],",",["T_WHITESPACE"," ",327],["T_STRING","t",327],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",327],")",")",";",["T_WHITESPACE","\n\n    ",327],["T_COMMENT","\/\/ Switch back to the otherUser and assert that the order has swapped.\n",329],["T_WHITESPACE","    ",330],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","drupalLogin",330],"(",["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","otherUser",330],")",";",["T_WHITESPACE","\n    ",330],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","drupalGet",331],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/'",331],["T_WHITESPACE"," ",331],".",["T_WHITESPACE"," ",331],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","otherUser",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","id",331],"(",")",["T_WHITESPACE"," ",331],".",["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","'\/activity'",331],")",";",["T_WHITESPACE","\n    ",331],["T_COMMENT","\/\/ This is a cheeky way of asserting that the nodes are in the right order\n",332],["T_WHITESPACE","    ",333],["T_COMMENT","\/\/ on the tracker page.\n",333],["T_WHITESPACE","    ",334],["T_COMMENT","\/\/ It's almost certainly too brittle.\n",334],["T_WHITESPACE","    ",335],["T_VARIABLE","$pattern",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'\/'",335],["T_WHITESPACE"," ",335],".",["T_WHITESPACE"," ",335],["T_STRING","preg_quote",335],"(",["T_VARIABLE","$node_one",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","getTitle",335],"(",")",")",["T_WHITESPACE"," ",335],".",["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'.+'",335],["T_WHITESPACE"," ",335],".",["T_WHITESPACE"," ",335],["T_STRING","preg_quote",335],"(",["T_VARIABLE","$node_two",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","getTitle",335],"(",")",")",["T_WHITESPACE"," ",335],".",["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'\/s'",335],";",["T_WHITESPACE","\n    ",335],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","verbose",336],"(",["T_VARIABLE","$pattern",336],")",";",["T_WHITESPACE","\n    ",336],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","assertPattern",337],"(",["T_VARIABLE","$pattern",337],",",["T_WHITESPACE"," ",337],["T_CONSTANT_ENCAPSED_STRING","'Most recently commented on node appears at the top of tracker'",337],")",";",["T_WHITESPACE","\n  ",337],"}",["T_WHITESPACE","\n\n  ",338],["T_DOC_COMMENT","\/**\n   * Tests that existing nodes are indexed by cron.\n   *\/",340],["T_WHITESPACE","\n  ",342],["T_FUNCTION","function",343],["T_WHITESPACE"," ",343],["T_STRING","testTrackerCronIndexing",343],"(",")",["T_WHITESPACE"," ",343],"{",["T_WHITESPACE","\n    ",343],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","drupalLogin",344],"(",["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","user",344],")",";",["T_WHITESPACE","\n\n    ",344],["T_COMMENT","\/\/ Create 3 nodes.\n",346],["T_WHITESPACE","    ",347],["T_VARIABLE","$edits",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_ARRAY","array",347],"(",")",";",["T_WHITESPACE","\n    ",347],["T_VARIABLE","$nodes",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_ARRAY","array",348],"(",")",";",["T_WHITESPACE","\n    ",348],["T_FOR","for",349],["T_WHITESPACE"," ",349],"(",["T_VARIABLE","$i",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_LNUMBER","1",349],";",["T_WHITESPACE"," ",349],["T_VARIABLE","$i",349],["T_WHITESPACE"," ",349],["T_IS_SMALLER_OR_EQUAL","<=",349],["T_WHITESPACE"," ",349],["T_LNUMBER","3",349],";",["T_WHITESPACE"," ",349],["T_VARIABLE","$i",349],["T_INC","++",349],")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n      ",349],["T_VARIABLE","$edits",350],"[",["T_VARIABLE","$i",350],"]",["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_ARRAY","array",350],"(",["T_WHITESPACE","\n        ",350],["T_CONSTANT_ENCAPSED_STRING","'title'",351],["T_WHITESPACE"," ",351],["T_DOUBLE_ARROW","=>",351],["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","randomMachineName",351],"(",")",",",["T_WHITESPACE","\n      ",351],")",";",["T_WHITESPACE","\n      ",352],["T_VARIABLE","$nodes",353],"[",["T_VARIABLE","$i",353],"]",["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","drupalCreateNode",353],"(",["T_VARIABLE","$edits",353],"[",["T_VARIABLE","$i",353],"]",")",";",["T_WHITESPACE","\n    ",353],"}",["T_WHITESPACE","\n\n    ",354],["T_COMMENT","\/\/ Add a comment to the last node as other user.\n",356],["T_WHITESPACE","    ",357],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","drupalLogin",357],"(",["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","otherUser",357],")",";",["T_WHITESPACE","\n    ",357],["T_VARIABLE","$comment",358],["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_ARRAY","array",358],"(",["T_WHITESPACE","\n      ",358],["T_CONSTANT_ENCAPSED_STRING","'subject[0][value]'",359],["T_WHITESPACE"," ",359],["T_DOUBLE_ARROW","=>",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","randomMachineName",359],"(",")",",",["T_WHITESPACE","\n      ",359],["T_CONSTANT_ENCAPSED_STRING","'comment_body[0][value]'",360],["T_WHITESPACE"," ",360],["T_DOUBLE_ARROW","=>",360],["T_WHITESPACE"," ",360],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","randomMachineName",360],"(",["T_LNUMBER","20",360],")",",",["T_WHITESPACE","\n    ",360],")",";",["T_WHITESPACE","\n    ",361],["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","drupalPostForm",362],"(",["T_CONSTANT_ENCAPSED_STRING","'comment\/reply\/node\/'",362],["T_WHITESPACE"," ",362],".",["T_WHITESPACE"," ",362],["T_VARIABLE","$nodes",362],"[",["T_LNUMBER","3",362],"]",["T_OBJECT_OPERATOR","->",362],["T_STRING","id",362],"(",")",["T_WHITESPACE"," ",362],".",["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","'\/comment'",362],",",["T_WHITESPACE"," ",362],["T_VARIABLE","$comment",362],",",["T_WHITESPACE"," ",362],["T_STRING","t",362],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",362],")",")",";",["T_WHITESPACE","\n\n    ",362],["T_COMMENT","\/\/ Start indexing backwards from node 3.\n",364],["T_WHITESPACE","    ",365],["T_NS_SEPARATOR","\\",365],["T_STRING","Drupal",365],["T_DOUBLE_COLON","::",365],["T_STRING","state",365],"(",")",["T_OBJECT_OPERATOR","->",365],["T_STRING","set",365],"(",["T_CONSTANT_ENCAPSED_STRING","'tracker.index_nid'",365],",",["T_WHITESPACE"," ",365],["T_LNUMBER","3",365],")",";",["T_WHITESPACE","\n\n    ",365],["T_COMMENT","\/\/ Clear the current tracker tables and rebuild them.\n",367],["T_WHITESPACE","    ",368],["T_STRING","db_delete",368],"(",["T_CONSTANT_ENCAPSED_STRING","'tracker_node'",368],")",["T_WHITESPACE","\n      ",368],["T_OBJECT_OPERATOR","->",369],["T_STRING","execute",369],"(",")",";",["T_WHITESPACE","\n    ",369],["T_STRING","db_delete",370],"(",["T_CONSTANT_ENCAPSED_STRING","'tracker_user'",370],")",["T_WHITESPACE","\n      ",370],["T_OBJECT_OPERATOR","->",371],["T_STRING","execute",371],"(",")",";",["T_WHITESPACE","\n    ",371],["T_STRING","tracker_cron",372],"(",")",";",["T_WHITESPACE","\n\n    ",372],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","drupalLogin",374],"(",["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","user",374],")",";",["T_WHITESPACE","\n\n    ",374],["T_COMMENT","\/\/ Fetch the user's tracker.\n",376],["T_WHITESPACE","    ",377],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","drupalGet",377],"(",["T_CONSTANT_ENCAPSED_STRING","'activity\/'",377],["T_WHITESPACE"," ",377],".",["T_WHITESPACE"," ",377],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","user",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","id",377],"(",")",")",";",["T_WHITESPACE","\n\n    ",377],["T_COMMENT","\/\/ Assert that all node titles are displayed.\n",379],["T_WHITESPACE","    ",380],["T_FOREACH","foreach",380],["T_WHITESPACE"," ",380],"(",["T_VARIABLE","$nodes",380],["T_WHITESPACE"," ",380],["T_AS","as",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$i",380],["T_WHITESPACE"," ",380],["T_DOUBLE_ARROW","=>",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$node",380],")",["T_WHITESPACE"," ",380],"{",["T_WHITESPACE","\n      ",380],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","assertText",381],"(",["T_VARIABLE","$node",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","label",381],"(",")",",",["T_WHITESPACE"," ",381],["T_STRING","format_string",381],"(",["T_CONSTANT_ENCAPSED_STRING","'Node @i is displayed on the tracker listing pages.'",381],",",["T_WHITESPACE"," ",381],["T_ARRAY","array",381],"(",["T_CONSTANT_ENCAPSED_STRING","'@i'",381],["T_WHITESPACE"," ",381],["T_DOUBLE_ARROW","=>",381],["T_WHITESPACE"," ",381],["T_VARIABLE","$i",381],")",")",")",";",["T_WHITESPACE","\n    ",381],"}",["T_WHITESPACE","\n\n    ",382],["T_COMMENT","\/\/ Fetch the site-wide tracker.\n",384],["T_WHITESPACE","    ",385],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","drupalGet",385],"(",["T_CONSTANT_ENCAPSED_STRING","'activity'",385],")",";",["T_WHITESPACE","\n\n    ",385],["T_COMMENT","\/\/ Assert that all node titles are displayed.\n",387],["T_WHITESPACE","    ",388],["T_FOREACH","foreach",388],["T_WHITESPACE"," ",388],"(",["T_VARIABLE","$nodes",388],["T_WHITESPACE"," ",388],["T_AS","as",388],["T_WHITESPACE"," ",388],["T_VARIABLE","$i",388],["T_WHITESPACE"," ",388],["T_DOUBLE_ARROW","=>",388],["T_WHITESPACE"," ",388],["T_VARIABLE","$node",388],")",["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n      ",388],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","assertText",389],"(",["T_VARIABLE","$node",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","label",389],"(",")",",",["T_WHITESPACE"," ",389],["T_STRING","format_string",389],"(",["T_CONSTANT_ENCAPSED_STRING","'Node @i is displayed on the tracker listing pages.'",389],",",["T_WHITESPACE"," ",389],["T_ARRAY","array",389],"(",["T_CONSTANT_ENCAPSED_STRING","'@i'",389],["T_WHITESPACE"," ",389],["T_DOUBLE_ARROW","=>",389],["T_WHITESPACE"," ",389],["T_VARIABLE","$i",389],")",")",")",";",["T_WHITESPACE","\n    ",389],"}",["T_WHITESPACE","\n  ",390],"}",["T_WHITESPACE","\n\n  ",391],["T_DOC_COMMENT","\/**\n   * Tests that publish\/unpublish works at admin\/content\/node.\n   *\/",393],["T_WHITESPACE","\n  ",395],["T_FUNCTION","function",396],["T_WHITESPACE"," ",396],["T_STRING","testTrackerAdminUnpublish",396],"(",")",["T_WHITESPACE"," ",396],"{",["T_WHITESPACE","\n    ",396],["T_NS_SEPARATOR","\\",397],["T_STRING","Drupal",397],["T_DOUBLE_COLON","::",397],["T_STRING","service",397],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",397],")",["T_OBJECT_OPERATOR","->",397],["T_STRING","install",397],"(",["T_ARRAY","array",397],"(",["T_CONSTANT_ENCAPSED_STRING","'views'",397],")",")",";",["T_WHITESPACE","\n    ",397],["T_NS_SEPARATOR","\\",398],["T_STRING","Drupal",398],["T_DOUBLE_COLON","::",398],["T_STRING","service",398],"(",["T_CONSTANT_ENCAPSED_STRING","'router.builder'",398],")",["T_OBJECT_OPERATOR","->",398],["T_STRING","rebuild",398],"(",")",";",["T_WHITESPACE","\n    ",398],["T_VARIABLE","$admin_user",399],["T_WHITESPACE"," ",399],"=",["T_WHITESPACE"," ",399],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","drupalCreateUser",399],"(",["T_ARRAY","array",399],"(",["T_CONSTANT_ENCAPSED_STRING","'access content overview'",399],",",["T_WHITESPACE"," ",399],["T_CONSTANT_ENCAPSED_STRING","'administer nodes'",399],",",["T_WHITESPACE"," ",399],["T_CONSTANT_ENCAPSED_STRING","'bypass node access'",399],")",")",";",["T_WHITESPACE","\n    ",399],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","drupalLogin",400],"(",["T_VARIABLE","$admin_user",400],")",";",["T_WHITESPACE","\n\n    ",400],["T_VARIABLE","$node",402],["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","drupalCreateNode",402],"(",["T_ARRAY","array",402],"(",["T_WHITESPACE","\n      ",402],["T_CONSTANT_ENCAPSED_STRING","'title'",403],["T_WHITESPACE"," ",403],["T_DOUBLE_ARROW","=>",403],["T_WHITESPACE"," ",403],["T_VARIABLE","$this",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","randomMachineName",403],"(",")",",",["T_WHITESPACE","\n    ",403],")",")",";",["T_WHITESPACE","\n\n    ",404],["T_COMMENT","\/\/ Assert that the node is displayed.\n",406],["T_WHITESPACE","    ",407],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","drupalGet",407],"(",["T_CONSTANT_ENCAPSED_STRING","'activity'",407],")",";",["T_WHITESPACE","\n    ",407],["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","assertText",408],"(",["T_VARIABLE","$node",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","label",408],"(",")",",",["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","'A node is displayed on the tracker listing pages.'",408],")",";",["T_WHITESPACE","\n\n    ",408],["T_COMMENT","\/\/ Unpublish the node and ensure that it's no longer displayed.\n",410],["T_WHITESPACE","    ",411],["T_VARIABLE","$edit",411],["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_ARRAY","array",411],"(",["T_WHITESPACE","\n      ",411],["T_CONSTANT_ENCAPSED_STRING","'action'",412],["T_WHITESPACE"," ",412],["T_DOUBLE_ARROW","=>",412],["T_WHITESPACE"," ",412],["T_CONSTANT_ENCAPSED_STRING","'node_unpublish_action'",412],",",["T_WHITESPACE","\n      ",412],["T_CONSTANT_ENCAPSED_STRING","'node_bulk_form[0]'",413],["T_WHITESPACE"," ",413],["T_DOUBLE_ARROW","=>",413],["T_WHITESPACE"," ",413],["T_VARIABLE","$node",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","id",413],"(",")",",",["T_WHITESPACE","\n    ",413],")",";",["T_WHITESPACE","\n    ",414],["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","drupalPostForm",415],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/content'",415],",",["T_WHITESPACE"," ",415],["T_VARIABLE","$edit",415],",",["T_WHITESPACE"," ",415],["T_STRING","t",415],"(",["T_CONSTANT_ENCAPSED_STRING","'Apply to selected items'",415],")",")",";",["T_WHITESPACE","\n\n    ",415],["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","drupalGet",417],"(",["T_CONSTANT_ENCAPSED_STRING","'activity'",417],")",";",["T_WHITESPACE","\n    ",417],["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","assertText",418],"(",["T_STRING","t",418],"(",["T_CONSTANT_ENCAPSED_STRING","'No content available.'",418],")",",",["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","'A node is displayed on the tracker listing pages.'",418],")",";",["T_WHITESPACE","\n  ",418],"}",["T_WHITESPACE","\n\n  ",419],["T_DOC_COMMENT","\/**\n   * Passes if the appropriate history metadata exists.\n   *\n   * Verify the data-history-node-id, data-history-node-timestamp and\n   * data-history-node-last-comment-timestamp attributes, which are used by the\n   * drupal.tracker-history library to add the appropriate \"new\" and \"updated\"\n   * indicators, as well as the \"x new\" replies link to the tracker.\n   * We do this in JavaScript to prevent breaking the render cache.\n   *\n   * @param int $node_id\n   *   A node ID, that must exist as a data-history-node-id attribute\n   * @param int $node_timestamp\n   *   A node timestamp, that must exist as a data-history-node-timestamp\n   *   attribute.\n   * @param int $node_last_comment_timestamp\n   *   A node's last comment timestamp, that must exist as a\n   *   data-history-node-last-comment-timestamp attribute.\n   * @param bool $library_is_present\n   *   Whether the drupal.tracker-history library should be present or not.\n   *\/",421],["T_WHITESPACE","\n  ",440],["T_FUNCTION","function",441],["T_WHITESPACE"," ",441],["T_STRING","assertHistoryMetadata",441],"(",["T_VARIABLE","$node_id",441],",",["T_WHITESPACE"," ",441],["T_VARIABLE","$node_timestamp",441],",",["T_WHITESPACE"," ",441],["T_VARIABLE","$node_last_comment_timestamp",441],",",["T_WHITESPACE"," ",441],["T_VARIABLE","$library_is_present",441],["T_WHITESPACE"," ",441],"=",["T_WHITESPACE"," ",441],["T_STRING","TRUE",441],")",["T_WHITESPACE"," ",441],"{",["T_WHITESPACE","\n    ",441],["T_VARIABLE","$settings",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","getDrupalSettings",442],"(",")",";",["T_WHITESPACE","\n    ",442],["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","assertIdentical",443],"(",["T_VARIABLE","$library_is_present",443],",",["T_WHITESPACE"," ",443],["T_ISSET","isset",443],"(",["T_VARIABLE","$settings",443],"[",["T_CONSTANT_ENCAPSED_STRING","'ajaxPageState'",443],"]",")",["T_WHITESPACE"," ",443],["T_BOOLEAN_AND","&&",443],["T_WHITESPACE"," ",443],["T_STRING","in_array",443],"(",["T_CONSTANT_ENCAPSED_STRING","'tracker\/history'",443],",",["T_WHITESPACE"," ",443],["T_STRING","explode",443],"(",["T_CONSTANT_ENCAPSED_STRING","','",443],",",["T_WHITESPACE"," ",443],["T_VARIABLE","$settings",443],"[",["T_CONSTANT_ENCAPSED_STRING","'ajaxPageState'",443],"]","[",["T_CONSTANT_ENCAPSED_STRING","'libraries'",443],"]",")",")",",",["T_WHITESPACE"," ",443],["T_CONSTANT_ENCAPSED_STRING","'drupal.tracker-history library is present.'",443],")",";",["T_WHITESPACE","\n    ",443],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","assertIdentical",444],"(",["T_LNUMBER","1",444],",",["T_WHITESPACE"," ",444],["T_STRING","count",444],"(",["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","xpath",444],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/table\/tbody\/tr\/td[@data-history-node-id=\"'",444],["T_WHITESPACE"," ",444],".",["T_WHITESPACE"," ",444],["T_VARIABLE","$node_id",444],["T_WHITESPACE"," ",444],".",["T_WHITESPACE"," ",444],["T_CONSTANT_ENCAPSED_STRING","'\" and @data-history-node-timestamp=\"'",444],["T_WHITESPACE"," ",444],".",["T_WHITESPACE"," ",444],["T_VARIABLE","$node_timestamp",444],["T_WHITESPACE"," ",444],".",["T_WHITESPACE"," ",444],["T_CONSTANT_ENCAPSED_STRING","'\"]'",444],")",")",",",["T_WHITESPACE"," ",444],["T_CONSTANT_ENCAPSED_STRING","'Tracker table cell contains the data-history-node-id and data-history-node-timestamp attributes for the node.'",444],")",";",["T_WHITESPACE","\n    ",444],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","assertIdentical",445],"(",["T_LNUMBER","1",445],",",["T_WHITESPACE"," ",445],["T_STRING","count",445],"(",["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","xpath",445],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/table\/tbody\/tr\/td[@data-history-node-last-comment-timestamp=\"'",445],["T_WHITESPACE"," ",445],".",["T_WHITESPACE"," ",445],["T_VARIABLE","$node_last_comment_timestamp",445],["T_WHITESPACE"," ",445],".",["T_WHITESPACE"," ",445],["T_CONSTANT_ENCAPSED_STRING","'\"]'",445],")",")",",",["T_WHITESPACE"," ",445],["T_CONSTANT_ENCAPSED_STRING","'Tracker table cell contains the data-history-node-last-comment-timestamp attribute for the node.'",445],")",";",["T_WHITESPACE","\n  ",445],"}",["T_WHITESPACE","\n\n",446],"}",["T_WHITESPACE","\n",448]]