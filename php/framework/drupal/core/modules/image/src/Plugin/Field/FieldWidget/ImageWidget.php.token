[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","image",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Field",3],["T_NS_SEPARATOR","\\",3],["T_STRING","FieldWidget",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Field",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FieldItemListInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Utility",6],["T_NS_SEPARATOR","\\",6],["T_STRING","NestedArray",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Form",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FormStateInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","file",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","File",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","file",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Plugin",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Field",9],["T_NS_SEPARATOR","\\",9],["T_STRING","FieldWidget",9],["T_NS_SEPARATOR","\\",9],["T_STRING","FileWidget",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","image",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Entity",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ImageStyle",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Plugin implementation of the 'image_image' widget.\n *\n * @FieldWidget(\n *   id = \"image_image\",\n *   label = @Translation(\"Image\"),\n *   field_types = {\n *     \"image\"\n *   }\n * )\n *\/",12],["T_WHITESPACE","\n",22],["T_CLASS","class",23],["T_WHITESPACE"," ",23],["T_STRING","ImageWidget",23],["T_WHITESPACE"," ",23],["T_EXTENDS","extends",23],["T_WHITESPACE"," ",23],["T_STRING","FileWidget",23],["T_WHITESPACE"," ",23],"{",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",25],["T_WHITESPACE","\n  ",27],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_STATIC","static",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","defaultSettings",28],"(",")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n    ",28],["T_RETURN","return",29],["T_WHITESPACE"," ",29],["T_ARRAY","array",29],"(",["T_WHITESPACE","\n      ",29],["T_CONSTANT_ENCAPSED_STRING","'progress_indicator'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'throbber'",30],",",["T_WHITESPACE","\n      ",30],["T_CONSTANT_ENCAPSED_STRING","'preview_image_style'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'thumbnail'",31],",",["T_WHITESPACE","\n    ",31],")",["T_WHITESPACE"," ",32],"+",["T_WHITESPACE"," ",32],["T_STRING","parent",32],["T_DOUBLE_COLON","::",32],["T_STRING","defaultSettings",32],"(",")",";",["T_WHITESPACE","\n  ",32],"}",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",35],["T_WHITESPACE","\n  ",37],["T_PUBLIC","public",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","settingsForm",38],"(",["T_ARRAY","array",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$form",38],",",["T_WHITESPACE"," ",38],["T_STRING","FormStateInterface",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$form_state",38],")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$element",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","parent",39],["T_DOUBLE_COLON","::",39],["T_STRING","settingsForm",39],"(",["T_VARIABLE","$form",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$form_state",39],")",";",["T_WHITESPACE","\n\n    ",39],["T_VARIABLE","$element",41],"[",["T_CONSTANT_ENCAPSED_STRING","'preview_image_style'",41],"]",["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_ARRAY","array",41],"(",["T_WHITESPACE","\n      ",41],["T_CONSTANT_ENCAPSED_STRING","'#title'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_STRING","t",42],"(",["T_CONSTANT_ENCAPSED_STRING","'Preview image style'",42],")",",",["T_WHITESPACE","\n      ",42],["T_CONSTANT_ENCAPSED_STRING","'#type'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'select'",43],",",["T_WHITESPACE","\n      ",43],["T_CONSTANT_ENCAPSED_STRING","'#options'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_STRING","image_style_options",44],"(",["T_STRING","FALSE",44],")",",",["T_WHITESPACE","\n      ",44],["T_CONSTANT_ENCAPSED_STRING","'#empty_option'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'<'",45],["T_WHITESPACE"," ",45],".",["T_WHITESPACE"," ",45],["T_STRING","t",45],"(",["T_CONSTANT_ENCAPSED_STRING","'no preview'",45],")",["T_WHITESPACE"," ",45],".",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'>'",45],",",["T_WHITESPACE","\n      ",45],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getSetting",46],"(",["T_CONSTANT_ENCAPSED_STRING","'preview_image_style'",46],")",",",["T_WHITESPACE","\n      ",46],["T_CONSTANT_ENCAPSED_STRING","'#description'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_STRING","t",47],"(",["T_CONSTANT_ENCAPSED_STRING","'The preview image will be shown while editing the content.'",47],")",",",["T_WHITESPACE","\n      ",47],["T_CONSTANT_ENCAPSED_STRING","'#weight'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_LNUMBER","15",48],",",["T_WHITESPACE","\n    ",48],")",";",["T_WHITESPACE","\n\n    ",49],["T_RETURN","return",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$element",51],";",["T_WHITESPACE","\n  ",51],"}",["T_WHITESPACE","\n\n  ",52],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",54],["T_WHITESPACE","\n  ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","settingsSummary",57],"(",")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$summary",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","parent",58],["T_DOUBLE_COLON","::",58],["T_STRING","settingsSummary",58],"(",")",";",["T_WHITESPACE","\n\n    ",58],["T_VARIABLE","$image_styles",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_STRING","image_style_options",60],"(",["T_STRING","FALSE",60],")",";",["T_WHITESPACE","\n    ",60],["T_COMMENT","\/\/ Unset possible 'No defined styles' option.\n",61],["T_WHITESPACE","    ",62],["T_UNSET","unset",62],"(",["T_VARIABLE","$image_styles",62],"[",["T_CONSTANT_ENCAPSED_STRING","''",62],"]",")",";",["T_WHITESPACE","\n    ",62],["T_COMMENT","\/\/ Styles could be lost because of enabled\/disabled modules that defines\n",63],["T_WHITESPACE","    ",64],["T_COMMENT","\/\/ their styles in code.\n",64],["T_WHITESPACE","    ",65],["T_VARIABLE","$image_style_setting",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getSetting",65],"(",["T_CONSTANT_ENCAPSED_STRING","'preview_image_style'",65],")",";",["T_WHITESPACE","\n    ",65],["T_IF","if",66],["T_WHITESPACE"," ",66],"(",["T_ISSET","isset",66],"(",["T_VARIABLE","$image_styles",66],"[",["T_VARIABLE","$image_style_setting",66],"]",")",")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n      ",66],["T_VARIABLE","$preview_image_style",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","t",67],"(",["T_CONSTANT_ENCAPSED_STRING","'Preview image style: @style'",67],",",["T_WHITESPACE"," ",67],["T_ARRAY","array",67],"(",["T_CONSTANT_ENCAPSED_STRING","'@style'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$image_styles",67],"[",["T_VARIABLE","$image_style_setting",67],"]",")",")",";",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n    ",68],["T_ELSE","else",69],["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n      ",69],["T_VARIABLE","$preview_image_style",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","t",70],"(",["T_CONSTANT_ENCAPSED_STRING","'No preview'",70],")",";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_STRING","array_unshift",73],"(",["T_VARIABLE","$summary",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$preview_image_style",73],")",";",["T_WHITESPACE","\n\n    ",73],["T_RETURN","return",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$summary",75],";",["T_WHITESPACE","\n  ",75],"}",["T_WHITESPACE","\n\n  ",76],["T_DOC_COMMENT","\/**\n   * Overrides \\Drupal\\file\\Plugin\\Field\\FieldWidget\\FileWidget::formMultipleElements().\n   *\n   * Special handling for draggable multiple widgets and 'add more' button.\n   *\/",78],["T_WHITESPACE","\n  ",82],["T_PROTECTED","protected",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","formMultipleElements",83],"(",["T_STRING","FieldItemListInterface",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$items",83],",",["T_WHITESPACE"," ",83],["T_ARRAY","array",83],["T_WHITESPACE"," ",83],"&",["T_VARIABLE","$form",83],",",["T_WHITESPACE"," ",83],["T_STRING","FormStateInterface",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$form_state",83],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$elements",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_STRING","parent",84],["T_DOUBLE_COLON","::",84],["T_STRING","formMultipleElements",84],"(",["T_VARIABLE","$items",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$form",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$form_state",84],")",";",["T_WHITESPACE","\n\n    ",84],["T_VARIABLE","$cardinality",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","fieldDefinition",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getFieldStorageDefinition",86],"(",")",["T_OBJECT_OPERATOR","->",86],["T_STRING","getCardinality",86],"(",")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$file_upload_help",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_ARRAY","array",87],"(",["T_WHITESPACE","\n      ",87],["T_CONSTANT_ENCAPSED_STRING","'#theme'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'file_upload_help'",88],",",["T_WHITESPACE","\n      ",88],["T_CONSTANT_ENCAPSED_STRING","'#description'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","''",89],",",["T_WHITESPACE","\n      ",89],["T_CONSTANT_ENCAPSED_STRING","'#upload_validators'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$elements",90],"[",["T_LNUMBER","0",90],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#upload_validators'",90],"]",",",["T_WHITESPACE","\n      ",90],["T_CONSTANT_ENCAPSED_STRING","'#cardinality'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$cardinality",91],",",["T_WHITESPACE","\n    ",91],")",";",["T_WHITESPACE","\n    ",92],["T_IF","if",93],["T_WHITESPACE"," ",93],"(",["T_VARIABLE","$cardinality",93],["T_WHITESPACE"," ",93],["T_IS_EQUAL","==",93],["T_WHITESPACE"," ",93],["T_LNUMBER","1",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n      ",93],["T_COMMENT","\/\/ If there's only one field, return it as delta 0.\n",94],["T_WHITESPACE","      ",95],["T_IF","if",95],["T_WHITESPACE"," ",95],"(",["T_EMPTY","empty",95],"(",["T_VARIABLE","$elements",95],"[",["T_LNUMBER","0",95],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",95],"]","[",["T_CONSTANT_ENCAPSED_STRING","'fids'",95],"]",")",")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$file_upload_help",96],"[",["T_CONSTANT_ENCAPSED_STRING","'#description'",96],"]",["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getFilteredDescription",96],"(",")",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$elements",97],"[",["T_LNUMBER","0",97],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#description'",97],"]",["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Drupal",97],["T_DOUBLE_COLON","::",97],["T_STRING","service",97],"(",["T_CONSTANT_ENCAPSED_STRING","'renderer'",97],")",["T_OBJECT_OPERATOR","->",97],["T_STRING","renderPlain",97],"(",["T_VARIABLE","$file_upload_help",97],")",";",["T_WHITESPACE","\n      ",97],"}",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n    ",99],["T_ELSE","else",100],["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n      ",100],["T_VARIABLE","$elements",101],"[",["T_CONSTANT_ENCAPSED_STRING","'#file_upload_description'",101],"]",["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$file_upload_help",101],";",["T_WHITESPACE","\n    ",101],"}",["T_WHITESPACE","\n\n    ",102],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$elements",104],";",["T_WHITESPACE","\n  ",104],"}",["T_WHITESPACE","\n\n  ",105],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",107],["T_WHITESPACE","\n  ",109],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","formElement",110],"(",["T_STRING","FieldItemListInterface",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$items",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$delta",110],",",["T_WHITESPACE"," ",110],["T_ARRAY","array",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$element",110],",",["T_WHITESPACE"," ",110],["T_ARRAY","array",110],["T_WHITESPACE"," ",110],"&",["T_VARIABLE","$form",110],",",["T_WHITESPACE"," ",110],["T_STRING","FormStateInterface",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$form_state",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$element",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_STRING","parent",111],["T_DOUBLE_COLON","::",111],["T_STRING","formElement",111],"(",["T_VARIABLE","$items",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$delta",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$element",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$form",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$form_state",111],")",";",["T_WHITESPACE","\n\n    ",111],["T_VARIABLE","$field_settings",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getFieldSettings",113],"(",")",";",["T_WHITESPACE","\n\n    ",113],["T_COMMENT","\/\/ Add upload resolution validation.\n",115],["T_WHITESPACE","    ",116],["T_IF","if",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$field_settings",116],"[",["T_CONSTANT_ENCAPSED_STRING","'max_resolution'",116],"]",["T_WHITESPACE"," ",116],["T_BOOLEAN_OR","||",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$field_settings",116],"[",["T_CONSTANT_ENCAPSED_STRING","'min_resolution'",116],"]",")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n      ",116],["T_VARIABLE","$element",117],"[",["T_CONSTANT_ENCAPSED_STRING","'#upload_validators'",117],"]","[",["T_CONSTANT_ENCAPSED_STRING","'file_validate_image_resolution'",117],"]",["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_ARRAY","array",117],"(",["T_VARIABLE","$field_settings",117],"[",["T_CONSTANT_ENCAPSED_STRING","'max_resolution'",117],"]",",",["T_WHITESPACE"," ",117],["T_VARIABLE","$field_settings",117],"[",["T_CONSTANT_ENCAPSED_STRING","'min_resolution'",117],"]",")",";",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n    ",118],["T_COMMENT","\/\/ If not using custom extension validation, ensure this is an image.\n",120],["T_WHITESPACE","    ",121],["T_VARIABLE","$supported_extensions",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_ARRAY","array",121],"(",["T_CONSTANT_ENCAPSED_STRING","'png'",121],",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'gif'",121],",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'jpg'",121],",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'jpeg'",121],")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$extensions",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_ISSET","isset",122],"(",["T_VARIABLE","$element",122],"[",["T_CONSTANT_ENCAPSED_STRING","'#upload_validators'",122],"]","[",["T_CONSTANT_ENCAPSED_STRING","'file_validate_extensions'",122],"]","[",["T_LNUMBER","0",122],"]",")",["T_WHITESPACE"," ",122],"?",["T_WHITESPACE"," ",122],["T_VARIABLE","$element",122],"[",["T_CONSTANT_ENCAPSED_STRING","'#upload_validators'",122],"]","[",["T_CONSTANT_ENCAPSED_STRING","'file_validate_extensions'",122],"]","[",["T_LNUMBER","0",122],"]",["T_WHITESPACE"," ",122],":",["T_WHITESPACE"," ",122],["T_STRING","implode",122],"(",["T_CONSTANT_ENCAPSED_STRING","' '",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$supported_extensions",122],")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$extensions",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_STRING","array_intersect",123],"(",["T_STRING","explode",123],"(",["T_CONSTANT_ENCAPSED_STRING","' '",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$extensions",123],")",",",["T_WHITESPACE"," ",123],["T_VARIABLE","$supported_extensions",123],")",";",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$element",124],"[",["T_CONSTANT_ENCAPSED_STRING","'#upload_validators'",124],"]","[",["T_CONSTANT_ENCAPSED_STRING","'file_validate_extensions'",124],"]","[",["T_LNUMBER","0",124],"]",["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","implode",124],"(",["T_CONSTANT_ENCAPSED_STRING","' '",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$extensions",124],")",";",["T_WHITESPACE","\n\n    ",124],["T_COMMENT","\/\/ Add properties needed by process() method.\n",126],["T_WHITESPACE","    ",127],["T_VARIABLE","$element",127],"[",["T_CONSTANT_ENCAPSED_STRING","'#preview_image_style'",127],"]",["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getSetting",127],"(",["T_CONSTANT_ENCAPSED_STRING","'preview_image_style'",127],")",";",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$element",128],"[",["T_CONSTANT_ENCAPSED_STRING","'#title_field'",128],"]",["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$field_settings",128],"[",["T_CONSTANT_ENCAPSED_STRING","'title_field'",128],"]",";",["T_WHITESPACE","\n    ",128],["T_VARIABLE","$element",129],"[",["T_CONSTANT_ENCAPSED_STRING","'#title_field_required'",129],"]",["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$field_settings",129],"[",["T_CONSTANT_ENCAPSED_STRING","'title_field_required'",129],"]",";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$element",130],"[",["T_CONSTANT_ENCAPSED_STRING","'#alt_field'",130],"]",["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$field_settings",130],"[",["T_CONSTANT_ENCAPSED_STRING","'alt_field'",130],"]",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$element",131],"[",["T_CONSTANT_ENCAPSED_STRING","'#alt_field_required'",131],"]",["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$field_settings",131],"[",["T_CONSTANT_ENCAPSED_STRING","'alt_field_required'",131],"]",";",["T_WHITESPACE","\n\n    ",131],["T_COMMENT","\/\/ Default image.\n",133],["T_WHITESPACE","    ",134],["T_VARIABLE","$default_image",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$field_settings",134],"[",["T_CONSTANT_ENCAPSED_STRING","'default_image'",134],"]",";",["T_WHITESPACE","\n    ",134],["T_IF","if",135],["T_WHITESPACE"," ",135],"(",["T_EMPTY","empty",135],"(",["T_VARIABLE","$default_image",135],"[",["T_CONSTANT_ENCAPSED_STRING","'uuid'",135],"]",")",")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n      ",135],["T_VARIABLE","$default_image",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","fieldDefinition",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getFieldStorageDefinition",136],"(",")",["T_OBJECT_OPERATOR","->",136],["T_STRING","getSetting",136],"(",["T_CONSTANT_ENCAPSED_STRING","'default_image'",136],")",";",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n    ",137],["T_COMMENT","\/\/ Convert the stored UUID into a file ID.\n",138],["T_WHITESPACE","    ",139],["T_IF","if",139],["T_WHITESPACE"," ",139],"(","!",["T_EMPTY","empty",139],"(",["T_VARIABLE","$default_image",139],"[",["T_CONSTANT_ENCAPSED_STRING","'uuid'",139],"]",")",["T_WHITESPACE"," ",139],["T_BOOLEAN_AND","&&",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$entity",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_NS_SEPARATOR","\\",139],["T_STRING","Drupal",139],["T_DOUBLE_COLON","::",139],["T_STRING","entityManager",139],"(",")",["T_OBJECT_OPERATOR","->",139],["T_STRING","loadEntityByUuid",139],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$default_image",139],"[",["T_CONSTANT_ENCAPSED_STRING","'uuid'",139],"]",")",")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n      ",139],["T_VARIABLE","$default_image",140],"[",["T_CONSTANT_ENCAPSED_STRING","'fid'",140],"]",["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$entity",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","id",140],"(",")",";",["T_WHITESPACE","\n    ",140],"}",["T_WHITESPACE","\n    ",141],["T_VARIABLE","$element",142],"[",["T_CONSTANT_ENCAPSED_STRING","'#default_image'",142],"]",["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],"!",["T_EMPTY","empty",142],"(",["T_VARIABLE","$default_image",142],"[",["T_CONSTANT_ENCAPSED_STRING","'fid'",142],"]",")",["T_WHITESPACE"," ",142],"?",["T_WHITESPACE"," ",142],["T_VARIABLE","$default_image",142],["T_WHITESPACE"," ",142],":",["T_WHITESPACE"," ",142],["T_ARRAY","array",142],"(",")",";",["T_WHITESPACE","\n\n    ",142],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$element",144],";",["T_WHITESPACE","\n  ",144],"}",["T_WHITESPACE","\n\n  ",145],["T_DOC_COMMENT","\/**\n   * Form API callback: Processes a image_image field element.\n   *\n   * Expands the image_image type to include the alt and title fields.\n   *\n   * This method is assigned as a #process callback in formElement() method.\n   *\/",147],["T_WHITESPACE","\n  ",153],["T_PUBLIC","public",154],["T_WHITESPACE"," ",154],["T_STATIC","static",154],["T_WHITESPACE"," ",154],["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],["T_STRING","process",154],"(",["T_VARIABLE","$element",154],",",["T_WHITESPACE"," ",154],["T_STRING","FormStateInterface",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$form_state",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$form",154],")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$item",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$element",155],"[",["T_CONSTANT_ENCAPSED_STRING","'#value'",155],"]",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$item",156],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",156],"]",["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$element",156],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",156],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#value'",156],"]",";",["T_WHITESPACE","\n\n    ",156],["T_VARIABLE","$element",158],"[",["T_CONSTANT_ENCAPSED_STRING","'#theme'",158],"]",["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'image_widget'",158],";",["T_WHITESPACE","\n\n    ",158],["T_COMMENT","\/\/ Add the image preview.\n",160],["T_WHITESPACE","    ",161],["T_IF","if",161],["T_WHITESPACE"," ",161],"(","!",["T_EMPTY","empty",161],"(",["T_VARIABLE","$element",161],"[",["T_CONSTANT_ENCAPSED_STRING","'#files'",161],"]",")",["T_WHITESPACE"," ",161],["T_BOOLEAN_AND","&&",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$element",161],"[",["T_CONSTANT_ENCAPSED_STRING","'#preview_image_style'",161],"]",")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n      ",161],["T_VARIABLE","$file",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_STRING","reset",162],"(",["T_VARIABLE","$element",162],"[",["T_CONSTANT_ENCAPSED_STRING","'#files'",162],"]",")",";",["T_WHITESPACE","\n      ",162],["T_VARIABLE","$variables",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_ARRAY","array",163],"(",["T_WHITESPACE","\n        ",163],["T_CONSTANT_ENCAPSED_STRING","'style_name'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$element",164],"[",["T_CONSTANT_ENCAPSED_STRING","'#preview_image_style'",164],"]",",",["T_WHITESPACE","\n        ",164],["T_CONSTANT_ENCAPSED_STRING","'uri'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$file",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getFileUri",165],"(",")",",",["T_WHITESPACE","\n      ",165],")",";",["T_WHITESPACE","\n\n      ",166],["T_COMMENT","\/\/ Determine image dimensions.\n",168],["T_WHITESPACE","      ",169],["T_IF","if",169],["T_WHITESPACE"," ",169],"(",["T_ISSET","isset",169],"(",["T_VARIABLE","$element",169],"[",["T_CONSTANT_ENCAPSED_STRING","'#value'",169],"]","[",["T_CONSTANT_ENCAPSED_STRING","'width'",169],"]",")",["T_WHITESPACE"," ",169],["T_BOOLEAN_AND","&&",169],["T_WHITESPACE"," ",169],["T_ISSET","isset",169],"(",["T_VARIABLE","$element",169],"[",["T_CONSTANT_ENCAPSED_STRING","'#value'",169],"]","[",["T_CONSTANT_ENCAPSED_STRING","'height'",169],"]",")",")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$variables",170],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",170],"]",["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$element",170],"[",["T_CONSTANT_ENCAPSED_STRING","'#value'",170],"]","[",["T_CONSTANT_ENCAPSED_STRING","'width'",170],"]",";",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$variables",171],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",171],"]",["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$element",171],"[",["T_CONSTANT_ENCAPSED_STRING","'#value'",171],"]","[",["T_CONSTANT_ENCAPSED_STRING","'height'",171],"]",";",["T_WHITESPACE","\n      ",171],"}",["T_WHITESPACE","\n      ",172],["T_ELSE","else",173],["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$image",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_NS_SEPARATOR","\\",174],["T_STRING","Drupal",174],["T_DOUBLE_COLON","::",174],["T_STRING","service",174],"(",["T_CONSTANT_ENCAPSED_STRING","'image.factory'",174],")",["T_OBJECT_OPERATOR","->",174],["T_STRING","get",174],"(",["T_VARIABLE","$file",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getFileUri",174],"(",")",")",";",["T_WHITESPACE","\n        ",174],["T_IF","if",175],["T_WHITESPACE"," ",175],"(",["T_VARIABLE","$image",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","isValid",175],"(",")",")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n          ",175],["T_VARIABLE","$variables",176],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",176],"]",["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$image",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getWidth",176],"(",")",";",["T_WHITESPACE","\n          ",176],["T_VARIABLE","$variables",177],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",177],"]",["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$image",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getHeight",177],"(",")",";",["T_WHITESPACE","\n        ",177],"}",["T_WHITESPACE","\n        ",178],["T_ELSE","else",179],["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n          ",179],["T_VARIABLE","$variables",180],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",180],"]",["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$variables",180],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",180],"]",["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_STRING","NULL",180],";",["T_WHITESPACE","\n        ",180],"}",["T_WHITESPACE","\n      ",181],"}",["T_WHITESPACE","\n\n      ",182],["T_VARIABLE","$element",184],"[",["T_CONSTANT_ENCAPSED_STRING","'preview'",184],"]",["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_ARRAY","array",184],"(",["T_WHITESPACE","\n        ",184],["T_CONSTANT_ENCAPSED_STRING","'#weight'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],"-",["T_LNUMBER","10",185],",",["T_WHITESPACE","\n        ",185],["T_CONSTANT_ENCAPSED_STRING","'#theme'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'image_style'",186],",",["T_WHITESPACE","\n        ",186],["T_CONSTANT_ENCAPSED_STRING","'#width'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$variables",187],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",187],"]",",",["T_WHITESPACE","\n        ",187],["T_CONSTANT_ENCAPSED_STRING","'#height'",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$variables",188],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",188],"]",",",["T_WHITESPACE","\n        ",188],["T_CONSTANT_ENCAPSED_STRING","'#style_name'",189],["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$variables",189],"[",["T_CONSTANT_ENCAPSED_STRING","'style_name'",189],"]",",",["T_WHITESPACE","\n        ",189],["T_CONSTANT_ENCAPSED_STRING","'#uri'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$variables",190],"[",["T_CONSTANT_ENCAPSED_STRING","'uri'",190],"]",",",["T_WHITESPACE","\n      ",190],")",";",["T_WHITESPACE","\n\n      ",191],["T_COMMENT","\/\/ Store the dimensions in the form so the file doesn't have to be\n",193],["T_WHITESPACE","      ",194],["T_COMMENT","\/\/ accessed again. This is important for remote files.\n",194],["T_WHITESPACE","      ",195],["T_VARIABLE","$element",195],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",195],"]",["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_ARRAY","array",195],"(",["T_WHITESPACE","\n        ",195],["T_CONSTANT_ENCAPSED_STRING","'#type'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'hidden'",196],",",["T_WHITESPACE","\n        ",196],["T_CONSTANT_ENCAPSED_STRING","'#value'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$variables",197],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",197],"]",",",["T_WHITESPACE","\n      ",197],")",";",["T_WHITESPACE","\n      ",198],["T_VARIABLE","$element",199],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",199],"]",["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_ARRAY","array",199],"(",["T_WHITESPACE","\n        ",199],["T_CONSTANT_ENCAPSED_STRING","'#type'",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'hidden'",200],",",["T_WHITESPACE","\n        ",200],["T_CONSTANT_ENCAPSED_STRING","'#value'",201],["T_WHITESPACE"," ",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$variables",201],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",201],"]",",",["T_WHITESPACE","\n      ",201],")",";",["T_WHITESPACE","\n    ",202],"}",["T_WHITESPACE","\n    ",203],["T_ELSEIF","elseif",204],["T_WHITESPACE"," ",204],"(","!",["T_EMPTY","empty",204],"(",["T_VARIABLE","$element",204],"[",["T_CONSTANT_ENCAPSED_STRING","'#default_image'",204],"]",")",")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n      ",204],["T_VARIABLE","$default_image",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$element",205],"[",["T_CONSTANT_ENCAPSED_STRING","'#default_image'",205],"]",";",["T_WHITESPACE","\n      ",205],["T_VARIABLE","$file",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_STRING","File",206],["T_DOUBLE_COLON","::",206],["T_STRING","load",206],"(",["T_VARIABLE","$default_image",206],"[",["T_CONSTANT_ENCAPSED_STRING","'fid'",206],"]",")",";",["T_WHITESPACE","\n      ",206],["T_IF","if",207],["T_WHITESPACE"," ",207],"(","!",["T_EMPTY","empty",207],"(",["T_VARIABLE","$file",207],")",")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$element",208],"[",["T_CONSTANT_ENCAPSED_STRING","'preview'",208],"]",["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_ARRAY","array",208],"(",["T_WHITESPACE","\n          ",208],["T_CONSTANT_ENCAPSED_STRING","'#weight'",209],["T_WHITESPACE"," ",209],["T_DOUBLE_ARROW","=>",209],["T_WHITESPACE"," ",209],"-",["T_LNUMBER","10",209],",",["T_WHITESPACE","\n          ",209],["T_CONSTANT_ENCAPSED_STRING","'#theme'",210],["T_WHITESPACE"," ",210],["T_DOUBLE_ARROW","=>",210],["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'image_style'",210],",",["T_WHITESPACE","\n          ",210],["T_CONSTANT_ENCAPSED_STRING","'#width'",211],["T_WHITESPACE"," ",211],["T_DOUBLE_ARROW","=>",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$default_image",211],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",211],"]",",",["T_WHITESPACE","\n          ",211],["T_CONSTANT_ENCAPSED_STRING","'#height'",212],["T_WHITESPACE"," ",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$default_image",212],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",212],"]",",",["T_WHITESPACE","\n          ",212],["T_CONSTANT_ENCAPSED_STRING","'#style_name'",213],["T_WHITESPACE"," ",213],["T_DOUBLE_ARROW","=>",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$element",213],"[",["T_CONSTANT_ENCAPSED_STRING","'#preview_image_style'",213],"]",",",["T_WHITESPACE","\n          ",213],["T_CONSTANT_ENCAPSED_STRING","'#uri'",214],["T_WHITESPACE"," ",214],["T_DOUBLE_ARROW","=>",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$file",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getFileUri",214],"(",")",",",["T_WHITESPACE","\n        ",214],")",";",["T_WHITESPACE","\n      ",215],"}",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n\n    ",217],["T_COMMENT","\/\/ Add the additional alt and title fields.\n",219],["T_WHITESPACE","    ",220],["T_VARIABLE","$element",220],"[",["T_CONSTANT_ENCAPSED_STRING","'alt'",220],"]",["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_ARRAY","array",220],"(",["T_WHITESPACE","\n      ",220],["T_CONSTANT_ENCAPSED_STRING","'#title'",221],["T_WHITESPACE"," ",221],["T_DOUBLE_ARROW","=>",221],["T_WHITESPACE"," ",221],["T_STRING","t",221],"(",["T_CONSTANT_ENCAPSED_STRING","'Alternative text'",221],")",",",["T_WHITESPACE","\n      ",221],["T_CONSTANT_ENCAPSED_STRING","'#type'",222],["T_WHITESPACE"," ",222],["T_DOUBLE_ARROW","=>",222],["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","'textfield'",222],",",["T_WHITESPACE","\n      ",222],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_ISSET","isset",223],"(",["T_VARIABLE","$item",223],"[",["T_CONSTANT_ENCAPSED_STRING","'alt'",223],"]",")",["T_WHITESPACE"," ",223],"?",["T_WHITESPACE"," ",223],["T_VARIABLE","$item",223],"[",["T_CONSTANT_ENCAPSED_STRING","'alt'",223],"]",["T_WHITESPACE"," ",223],":",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","''",223],",",["T_WHITESPACE","\n      ",223],["T_CONSTANT_ENCAPSED_STRING","'#description'",224],["T_WHITESPACE"," ",224],["T_DOUBLE_ARROW","=>",224],["T_WHITESPACE"," ",224],["T_STRING","t",224],"(",["T_CONSTANT_ENCAPSED_STRING","'This text will be used by screen readers, search engines, or when the image cannot be loaded.'",224],")",",",["T_WHITESPACE","\n      ",224],["T_COMMENT","\/\/ @see https:\/\/www.drupal.org\/node\/465106#alt-text\n",225],["T_WHITESPACE","      ",226],["T_CONSTANT_ENCAPSED_STRING","'#maxlength'",226],["T_WHITESPACE"," ",226],["T_DOUBLE_ARROW","=>",226],["T_WHITESPACE"," ",226],["T_LNUMBER","512",226],",",["T_WHITESPACE","\n      ",226],["T_CONSTANT_ENCAPSED_STRING","'#weight'",227],["T_WHITESPACE"," ",227],["T_DOUBLE_ARROW","=>",227],["T_WHITESPACE"," ",227],"-",["T_LNUMBER","12",227],",",["T_WHITESPACE","\n      ",227],["T_CONSTANT_ENCAPSED_STRING","'#access'",228],["T_WHITESPACE"," ",228],["T_DOUBLE_ARROW","=>",228],["T_WHITESPACE"," ",228],["T_BOOL_CAST","(bool)",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$item",228],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",228],"]",["T_WHITESPACE"," ",228],["T_BOOLEAN_AND","&&",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$element",228],"[",["T_CONSTANT_ENCAPSED_STRING","'#alt_field'",228],"]",",",["T_WHITESPACE","\n      ",228],["T_CONSTANT_ENCAPSED_STRING","'#required'",229],["T_WHITESPACE"," ",229],["T_DOUBLE_ARROW","=>",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$element",229],"[",["T_CONSTANT_ENCAPSED_STRING","'#alt_field_required'",229],"]",",",["T_WHITESPACE","\n      ",229],["T_CONSTANT_ENCAPSED_STRING","'#element_validate'",230],["T_WHITESPACE"," ",230],["T_DOUBLE_ARROW","=>",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$element",230],"[",["T_CONSTANT_ENCAPSED_STRING","'#alt_field_required'",230],"]",["T_WHITESPACE"," ",230],["T_IS_EQUAL","==",230],["T_WHITESPACE"," ",230],["T_LNUMBER","1",230],["T_WHITESPACE"," ",230],"?",["T_WHITESPACE"," ",230],["T_ARRAY","array",230],"(",["T_ARRAY","array",230],"(",["T_STRING","get_called_class",230],"(",")",",",["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","'validateRequiredFields'",230],")",")",["T_WHITESPACE"," ",230],":",["T_WHITESPACE"," ",230],["T_ARRAY","array",230],"(",")",",",["T_WHITESPACE","\n    ",230],")",";",["T_WHITESPACE","\n    ",231],["T_VARIABLE","$element",232],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",232],"]",["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_ARRAY","array",232],"(",["T_WHITESPACE","\n      ",232],["T_CONSTANT_ENCAPSED_STRING","'#type'",233],["T_WHITESPACE"," ",233],["T_DOUBLE_ARROW","=>",233],["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'textfield'",233],",",["T_WHITESPACE","\n      ",233],["T_CONSTANT_ENCAPSED_STRING","'#title'",234],["T_WHITESPACE"," ",234],["T_DOUBLE_ARROW","=>",234],["T_WHITESPACE"," ",234],["T_STRING","t",234],"(",["T_CONSTANT_ENCAPSED_STRING","'Title'",234],")",",",["T_WHITESPACE","\n      ",234],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",235],["T_WHITESPACE"," ",235],["T_DOUBLE_ARROW","=>",235],["T_WHITESPACE"," ",235],["T_ISSET","isset",235],"(",["T_VARIABLE","$item",235],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",235],"]",")",["T_WHITESPACE"," ",235],"?",["T_WHITESPACE"," ",235],["T_VARIABLE","$item",235],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",235],"]",["T_WHITESPACE"," ",235],":",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","''",235],",",["T_WHITESPACE","\n      ",235],["T_CONSTANT_ENCAPSED_STRING","'#description'",236],["T_WHITESPACE"," ",236],["T_DOUBLE_ARROW","=>",236],["T_WHITESPACE"," ",236],["T_STRING","t",236],"(",["T_CONSTANT_ENCAPSED_STRING","'The title is used as a tool tip when the user hovers the mouse over the image.'",236],")",",",["T_WHITESPACE","\n      ",236],["T_CONSTANT_ENCAPSED_STRING","'#maxlength'",237],["T_WHITESPACE"," ",237],["T_DOUBLE_ARROW","=>",237],["T_WHITESPACE"," ",237],["T_LNUMBER","1024",237],",",["T_WHITESPACE","\n      ",237],["T_CONSTANT_ENCAPSED_STRING","'#weight'",238],["T_WHITESPACE"," ",238],["T_DOUBLE_ARROW","=>",238],["T_WHITESPACE"," ",238],"-",["T_LNUMBER","11",238],",",["T_WHITESPACE","\n      ",238],["T_CONSTANT_ENCAPSED_STRING","'#access'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_BOOL_CAST","(bool)",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$item",239],"[",["T_CONSTANT_ENCAPSED_STRING","'fids'",239],"]",["T_WHITESPACE"," ",239],["T_BOOLEAN_AND","&&",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$element",239],"[",["T_CONSTANT_ENCAPSED_STRING","'#title_field'",239],"]",",",["T_WHITESPACE","\n      ",239],["T_CONSTANT_ENCAPSED_STRING","'#required'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$element",240],"[",["T_CONSTANT_ENCAPSED_STRING","'#title_field_required'",240],"]",",",["T_WHITESPACE","\n      ",240],["T_CONSTANT_ENCAPSED_STRING","'#element_validate'",241],["T_WHITESPACE"," ",241],["T_DOUBLE_ARROW","=>",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$element",241],"[",["T_CONSTANT_ENCAPSED_STRING","'#title_field_required'",241],"]",["T_WHITESPACE"," ",241],["T_IS_EQUAL","==",241],["T_WHITESPACE"," ",241],["T_LNUMBER","1",241],["T_WHITESPACE"," ",241],"?",["T_WHITESPACE"," ",241],["T_ARRAY","array",241],"(",["T_ARRAY","array",241],"(",["T_STRING","get_called_class",241],"(",")",",",["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","'validateRequiredFields'",241],")",")",["T_WHITESPACE"," ",241],":",["T_WHITESPACE"," ",241],["T_ARRAY","array",241],"(",")",",",["T_WHITESPACE","\n    ",241],")",";",["T_WHITESPACE","\n\n    ",242],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_STRING","parent",244],["T_DOUBLE_COLON","::",244],["T_STRING","process",244],"(",["T_VARIABLE","$element",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$form_state",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$form",244],")",";",["T_WHITESPACE","\n  ",244],"}",["T_WHITESPACE","\n\n  ",245],["T_DOC_COMMENT","\/**\n   * Validate callback for alt and title field, if the user wants them required.\n   *\n   * This is separated in a validate function instead of a #required flag to\n   * avoid being validated on the process callback.\n   *\/",247],["T_WHITESPACE","\n  ",252],["T_PUBLIC","public",253],["T_WHITESPACE"," ",253],["T_STATIC","static",253],["T_WHITESPACE"," ",253],["T_FUNCTION","function",253],["T_WHITESPACE"," ",253],["T_STRING","validateRequiredFields",253],"(",["T_VARIABLE","$element",253],",",["T_WHITESPACE"," ",253],["T_STRING","FormStateInterface",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$form_state",253],")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n    ",253],["T_COMMENT","\/\/ Only do validation if the function is triggered from other places than\n",254],["T_WHITESPACE","    ",255],["T_COMMENT","\/\/ the image process form.\n",255],["T_WHITESPACE","    ",256],["T_IF","if",256],["T_WHITESPACE"," ",256],"(","!",["T_STRING","in_array",256],"(",["T_CONSTANT_ENCAPSED_STRING","'file_managed_file_submit'",256],",",["T_WHITESPACE"," ",256],["T_VARIABLE","$form_state",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","getTriggeringElement",256],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","'#submit'",256],"]",")",")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n      ",256],["T_COMMENT","\/\/ If the image is not there, we do not check for empty values.\n",257],["T_WHITESPACE","      ",258],["T_VARIABLE","$parents",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_VARIABLE","$element",258],"[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",258],"]",";",["T_WHITESPACE","\n      ",258],["T_VARIABLE","$field",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_STRING","array_pop",259],"(",["T_VARIABLE","$parents",259],")",";",["T_WHITESPACE","\n      ",259],["T_VARIABLE","$image_field",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_STRING","NestedArray",260],["T_DOUBLE_COLON","::",260],["T_STRING","getValue",260],"(",["T_VARIABLE","$form_state",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getUserInput",260],"(",")",",",["T_WHITESPACE"," ",260],["T_VARIABLE","$parents",260],")",";",["T_WHITESPACE","\n      ",260],["T_COMMENT","\/\/ We check for the array key, so that it can be NULL (like if the user\n",261],["T_WHITESPACE","      ",262],["T_COMMENT","\/\/ submits the form without using the \"upload\" button).\n",262],["T_WHITESPACE","      ",263],["T_IF","if",263],["T_WHITESPACE"," ",263],"(","!",["T_STRING","array_key_exists",263],"(",["T_VARIABLE","$field",263],",",["T_WHITESPACE"," ",263],["T_VARIABLE","$image_field",263],")",")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n        ",263],["T_RETURN","return",264],";",["T_WHITESPACE","\n      ",264],"}",["T_WHITESPACE","\n    ",265],"}",["T_WHITESPACE","\n    ",266],["T_ELSE","else",267],["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n      ",267],["T_VARIABLE","$form_state",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","setLimitValidationErrors",268],"(","[","]",")",";",["T_WHITESPACE","\n    ",268],"}",["T_WHITESPACE","\n  ",269],"}",["T_WHITESPACE","\n\n  ",270],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",272],["T_WHITESPACE","\n  ",274],["T_PUBLIC","public",275],["T_WHITESPACE"," ",275],["T_FUNCTION","function",275],["T_WHITESPACE"," ",275],["T_STRING","calculateDependencies",275],"(",")",["T_WHITESPACE"," ",275],"{",["T_WHITESPACE","\n    ",275],["T_VARIABLE","$dependencies",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_STRING","parent",276],["T_DOUBLE_COLON","::",276],["T_STRING","calculateDependencies",276],"(",")",";",["T_WHITESPACE","\n    ",276],["T_VARIABLE","$style_id",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","getSetting",277],"(",["T_CONSTANT_ENCAPSED_STRING","'preview_image_style'",277],")",";",["T_WHITESPACE","\n    ",277],["T_DOC_COMMENT","\/** @var \\Drupal\\image\\ImageStyleInterface $style *\/",278],["T_WHITESPACE","\n    ",278],["T_IF","if",279],["T_WHITESPACE"," ",279],"(",["T_VARIABLE","$style_id",279],["T_WHITESPACE"," ",279],["T_BOOLEAN_AND","&&",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$style",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_STRING","ImageStyle",279],["T_DOUBLE_COLON","::",279],["T_STRING","load",279],"(",["T_VARIABLE","$style_id",279],")",")",["T_WHITESPACE"," ",279],"{",["T_WHITESPACE","\n      ",279],["T_COMMENT","\/\/ If this widget uses a valid image style to display the preview of the\n",280],["T_WHITESPACE","      ",281],["T_COMMENT","\/\/ uploaded image, add that image style configuration entity as dependency\n",281],["T_WHITESPACE","      ",282],["T_COMMENT","\/\/ of this widget.\n",282],["T_WHITESPACE","      ",283],["T_VARIABLE","$dependencies",283],"[",["T_VARIABLE","$style",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","getConfigDependencyKey",283],"(",")","]","[","]",["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_VARIABLE","$style",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","getConfigDependencyName",283],"(",")",";",["T_WHITESPACE","\n    ",283],"}",["T_WHITESPACE","\n    ",284],["T_RETURN","return",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$dependencies",285],";",["T_WHITESPACE","\n  ",285],"}",["T_WHITESPACE","\n\n  ",286],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",288],["T_WHITESPACE","\n  ",290],["T_PUBLIC","public",291],["T_WHITESPACE"," ",291],["T_FUNCTION","function",291],["T_WHITESPACE"," ",291],["T_STRING","onDependencyRemoval",291],"(",["T_ARRAY","array",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$dependencies",291],")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n    ",291],["T_VARIABLE","$changed",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_STRING","parent",292],["T_DOUBLE_COLON","::",292],["T_STRING","onDependencyRemoval",292],"(",["T_VARIABLE","$dependencies",292],")",";",["T_WHITESPACE","\n    ",292],["T_VARIABLE","$style_id",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","getSetting",293],"(",["T_CONSTANT_ENCAPSED_STRING","'preview_image_style'",293],")",";",["T_WHITESPACE","\n    ",293],["T_DOC_COMMENT","\/** @var \\Drupal\\image\\ImageStyleInterface $style *\/",294],["T_WHITESPACE","\n    ",294],["T_IF","if",295],["T_WHITESPACE"," ",295],"(",["T_VARIABLE","$style_id",295],["T_WHITESPACE"," ",295],["T_BOOLEAN_AND","&&",295],["T_WHITESPACE"," ",295],["T_VARIABLE","$style",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_STRING","ImageStyle",295],["T_DOUBLE_COLON","::",295],["T_STRING","load",295],"(",["T_VARIABLE","$style_id",295],")",")",["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n      ",295],["T_IF","if",296],["T_WHITESPACE"," ",296],"(","!",["T_EMPTY","empty",296],"(",["T_VARIABLE","$dependencies",296],"[",["T_VARIABLE","$style",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","getConfigDependencyKey",296],"(",")","]","[",["T_VARIABLE","$style",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","getConfigDependencyName",296],"(",")","]",")",")",["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n        ",296],["T_DOC_COMMENT","\/** @var \\Drupal\\image\\ImageStyleStorageInterface $storage *\/",297],["T_WHITESPACE","\n        ",297],["T_VARIABLE","$storage",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_NS_SEPARATOR","\\",298],["T_STRING","Drupal",298],["T_DOUBLE_COLON","::",298],["T_STRING","entityManager",298],"(",")",["T_OBJECT_OPERATOR","->",298],["T_STRING","getStorage",298],"(",["T_VARIABLE","$style",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","getEntityTypeId",298],"(",")",")",";",["T_WHITESPACE","\n        ",298],["T_VARIABLE","$replacement_id",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$storage",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","getReplacementId",299],"(",["T_VARIABLE","$style_id",299],")",";",["T_WHITESPACE","\n        ",299],["T_COMMENT","\/\/ If a valid replacement has been provided in the storage, replace the\n",300],["T_WHITESPACE","        ",301],["T_COMMENT","\/\/ preview image style with the replacement.\n",301],["T_WHITESPACE","        ",302],["T_IF","if",302],["T_WHITESPACE"," ",302],"(",["T_VARIABLE","$replacement_id",302],["T_WHITESPACE"," ",302],["T_BOOLEAN_AND","&&",302],["T_WHITESPACE"," ",302],["T_STRING","ImageStyle",302],["T_DOUBLE_COLON","::",302],["T_STRING","load",302],"(",["T_VARIABLE","$replacement_id",302],")",")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n          ",302],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","setSetting",303],"(",["T_CONSTANT_ENCAPSED_STRING","'preview_image_style'",303],",",["T_WHITESPACE"," ",303],["T_VARIABLE","$replacement_id",303],")",";",["T_WHITESPACE","\n        ",303],"}",["T_WHITESPACE","\n        ",304],["T_COMMENT","\/\/ If there's no replacement or the replacement is invalid, disable the\n",305],["T_WHITESPACE","        ",306],["T_COMMENT","\/\/ image preview.\n",306],["T_WHITESPACE","        ",307],["T_ELSE","else",307],["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n          ",307],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","setSetting",308],"(",["T_CONSTANT_ENCAPSED_STRING","'preview_image_style'",308],",",["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","''",308],")",";",["T_WHITESPACE","\n        ",308],"}",["T_WHITESPACE","\n        ",309],["T_COMMENT","\/\/ Signal that the formatter plugin settings were updated.\n",310],["T_WHITESPACE","        ",311],["T_VARIABLE","$changed",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_STRING","TRUE",311],";",["T_WHITESPACE","\n      ",311],"}",["T_WHITESPACE","\n    ",312],"}",["T_WHITESPACE","\n    ",313],["T_RETURN","return",314],["T_WHITESPACE"," ",314],["T_VARIABLE","$changed",314],";",["T_WHITESPACE","\n  ",314],"}",["T_WHITESPACE","\n\n",315],"}",["T_WHITESPACE","\n",317]]