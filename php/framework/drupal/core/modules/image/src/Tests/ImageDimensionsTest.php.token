[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","image",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","image",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ImageStyle",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","simpletest",6],["T_NS_SEPARATOR","\\",6],["T_STRING","WebTestBase",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests that images have correct dimensions when styled.\n *\n * @group image\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","ImageDimensionsTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","WebTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PUBLIC","public",20],["T_WHITESPACE"," ",20],["T_STATIC","static",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$modules",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_ARRAY","array",20],"(",["T_CONSTANT_ENCAPSED_STRING","'image'",20],",",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'image_module_test'",20],")",";",["T_WHITESPACE","\n\n  ",20],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$profile",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'testing'",22],";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * Test styled image dimensions cumulatively.\n   *\/",24],["T_WHITESPACE","\n  ",26],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","testImageDimensions",27],"(",")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n    ",27],["T_VARIABLE","$image_factory",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","container",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","get",28],"(",["T_CONSTANT_ENCAPSED_STRING","'image.factory'",28],")",";",["T_WHITESPACE","\n    ",28],["T_COMMENT","\/\/ Create a working copy of the file.\n",29],["T_WHITESPACE","    ",30],["T_VARIABLE","$files",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","drupalGetTestFiles",30],"(",["T_CONSTANT_ENCAPSED_STRING","'image'",30],")",";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$file",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_STRING","reset",31],"(",["T_VARIABLE","$files",31],")",";",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$original_uri",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_STRING","file_unmanaged_copy",32],"(",["T_VARIABLE","$file",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","uri",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'public:\/\/'",32],",",["T_WHITESPACE"," ",32],["T_STRING","FILE_EXISTS_RENAME",32],")",";",["T_WHITESPACE","\n\n    ",32],["T_COMMENT","\/\/ Create a style.\n",34],["T_WHITESPACE","    ",35],["T_DOC_COMMENT","\/** @var $style \\Drupal\\image\\ImageStyleInterface *\/",35],["T_WHITESPACE","\n    ",35],["T_VARIABLE","$style",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_STRING","ImageStyle",36],["T_DOUBLE_COLON","::",36],["T_STRING","create",36],"(",["T_ARRAY","array",36],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'test'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'label'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'Test'",36],")",")",";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$style",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","save",37],"(",")",";",["T_WHITESPACE","\n    ",37],["T_VARIABLE","$generated_uri",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'public:\/\/styles\/test\/public\/'",38],["T_WHITESPACE"," ",38],".",["T_WHITESPACE"," ",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Drupal",38],["T_DOUBLE_COLON","::",38],["T_STRING","service",38],"(",["T_CONSTANT_ENCAPSED_STRING","'file_system'",38],")",["T_OBJECT_OPERATOR","->",38],["T_STRING","basename",38],"(",["T_VARIABLE","$original_uri",38],")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$url",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","file_url_transform_relative",39],"(",["T_VARIABLE","$style",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","buildUrl",39],"(",["T_VARIABLE","$original_uri",39],")",")",";",["T_WHITESPACE","\n\n    ",39],["T_VARIABLE","$variables",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_ARRAY","array",41],"(",["T_WHITESPACE","\n      ",41],["T_CONSTANT_ENCAPSED_STRING","'#theme'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'image_style'",42],",",["T_WHITESPACE","\n      ",42],["T_CONSTANT_ENCAPSED_STRING","'#style_name'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'test'",43],",",["T_WHITESPACE","\n      ",43],["T_CONSTANT_ENCAPSED_STRING","'#uri'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$original_uri",44],",",["T_WHITESPACE","\n      ",44],["T_CONSTANT_ENCAPSED_STRING","'#width'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_LNUMBER","40",45],",",["T_WHITESPACE","\n      ",45],["T_CONSTANT_ENCAPSED_STRING","'#height'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_LNUMBER","20",46],",",["T_WHITESPACE","\n    ",46],")",";",["T_WHITESPACE","\n    ",47],["T_COMMENT","\/\/ Verify that the original image matches the hard-coded values.\n",48],["T_WHITESPACE","    ",49],["T_VARIABLE","$image_file",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$image_factory",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","get",49],"(",["T_VARIABLE","$original_uri",49],")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","assertEqual",50],"(",["T_VARIABLE","$image_file",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getWidth",50],"(",")",",",["T_WHITESPACE"," ",50],["T_VARIABLE","$variables",50],"[",["T_CONSTANT_ENCAPSED_STRING","'#width'",50],"]",")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertEqual",51],"(",["T_VARIABLE","$image_file",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getHeight",51],"(",")",",",["T_WHITESPACE"," ",51],["T_VARIABLE","$variables",51],"[",["T_CONSTANT_ENCAPSED_STRING","'#height'",51],"]",")",";",["T_WHITESPACE","\n\n    ",51],["T_COMMENT","\/\/ Scale an image that is wider than it is high.\n",53],["T_WHITESPACE","    ",54],["T_VARIABLE","$effect",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_ARRAY","array",54],"(",["T_WHITESPACE","\n      ",54],["T_CONSTANT_ENCAPSED_STRING","'id'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'image_scale'",55],",",["T_WHITESPACE","\n      ",55],["T_CONSTANT_ENCAPSED_STRING","'data'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_ARRAY","array",56],"(",["T_WHITESPACE","\n        ",56],["T_CONSTANT_ENCAPSED_STRING","'width'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_LNUMBER","120",57],",",["T_WHITESPACE","\n        ",57],["T_CONSTANT_ENCAPSED_STRING","'height'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_LNUMBER","90",58],",",["T_WHITESPACE","\n        ",58],["T_CONSTANT_ENCAPSED_STRING","'upscale'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_STRING","TRUE",59],",",["T_WHITESPACE","\n      ",59],")",",",["T_WHITESPACE","\n      ",60],["T_CONSTANT_ENCAPSED_STRING","'weight'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_LNUMBER","0",61],",",["T_WHITESPACE","\n    ",61],")",";",["T_WHITESPACE","\n\n    ",62],["T_VARIABLE","$style",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","addImageEffect",64],"(",["T_VARIABLE","$effect",64],")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$style",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","save",65],"(",")",";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","assertEqual",66],"(",["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getImageTag",66],"(",["T_VARIABLE","$variables",66],")",",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'<img src=\"'",66],["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_VARIABLE","$url",66],["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'\" width=\"120\" height=\"60\" alt=\"\" class=\"image-style-test\" \/>'",66],")",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","assertFalse",67],"(",["T_STRING","file_exists",67],"(",["T_VARIABLE","$generated_uri",67],")",",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'Generated file does not exist.'",67],")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","drupalGet",68],"(",["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getAbsoluteUrl",68],"(",["T_VARIABLE","$url",68],")",")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertResponse",69],"(",["T_LNUMBER","200",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'Image was generated at the URL.'",69],")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertTrue",70],"(",["T_STRING","file_exists",70],"(",["T_VARIABLE","$generated_uri",70],")",",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'Generated file does exist after we accessed it.'",70],")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$image_file",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$image_factory",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","get",71],"(",["T_VARIABLE","$generated_uri",71],")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertEqual",72],"(",["T_VARIABLE","$image_file",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getWidth",72],"(",")",",",["T_WHITESPACE"," ",72],["T_LNUMBER","120",72],")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertEqual",73],"(",["T_VARIABLE","$image_file",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getHeight",73],"(",")",",",["T_WHITESPACE"," ",73],["T_LNUMBER","60",73],")",";",["T_WHITESPACE","\n\n    ",73],["T_COMMENT","\/\/ Rotate 90 degrees anticlockwise.\n",75],["T_WHITESPACE","    ",76],["T_VARIABLE","$effect",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_ARRAY","array",76],"(",["T_WHITESPACE","\n      ",76],["T_CONSTANT_ENCAPSED_STRING","'id'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'image_rotate'",77],",",["T_WHITESPACE","\n      ",77],["T_CONSTANT_ENCAPSED_STRING","'data'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_ARRAY","array",78],"(",["T_WHITESPACE","\n        ",78],["T_CONSTANT_ENCAPSED_STRING","'degrees'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],"-",["T_LNUMBER","90",79],",",["T_WHITESPACE","\n        ",79],["T_CONSTANT_ENCAPSED_STRING","'random'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_STRING","FALSE",80],",",["T_WHITESPACE","\n      ",80],")",",",["T_WHITESPACE","\n      ",81],["T_CONSTANT_ENCAPSED_STRING","'weight'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_LNUMBER","1",82],",",["T_WHITESPACE","\n    ",82],")",";",["T_WHITESPACE","\n\n    ",83],["T_VARIABLE","$style",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","addImageEffect",85],"(",["T_VARIABLE","$effect",85],")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$style",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","save",86],"(",")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertEqual",87],"(",["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getImageTag",87],"(",["T_VARIABLE","$variables",87],")",",",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'<img src=\"'",87],["T_WHITESPACE"," ",87],".",["T_WHITESPACE"," ",87],["T_VARIABLE","$url",87],["T_WHITESPACE"," ",87],".",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'\" width=\"60\" height=\"120\" alt=\"\" class=\"image-style-test\" \/>'",87],")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","assertFalse",88],"(",["T_STRING","file_exists",88],"(",["T_VARIABLE","$generated_uri",88],")",",",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'Generated file does not exist.'",88],")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","drupalGet",89],"(",["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getAbsoluteUrl",89],"(",["T_VARIABLE","$url",89],")",")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertResponse",90],"(",["T_LNUMBER","200",90],",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'Image was generated at the URL.'",90],")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","assertTrue",91],"(",["T_STRING","file_exists",91],"(",["T_VARIABLE","$generated_uri",91],")",",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'Generated file does exist after we accessed it.'",91],")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$image_file",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$image_factory",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","get",92],"(",["T_VARIABLE","$generated_uri",92],")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertEqual",93],"(",["T_VARIABLE","$image_file",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getWidth",93],"(",")",",",["T_WHITESPACE"," ",93],["T_LNUMBER","60",93],")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertEqual",94],"(",["T_VARIABLE","$image_file",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getHeight",94],"(",")",",",["T_WHITESPACE"," ",94],["T_LNUMBER","120",94],")",";",["T_WHITESPACE","\n\n    ",94],["T_COMMENT","\/\/ Scale an image that is higher than it is wide (rotated by previous effect).\n",96],["T_WHITESPACE","    ",97],["T_VARIABLE","$effect",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_ARRAY","array",97],"(",["T_WHITESPACE","\n      ",97],["T_CONSTANT_ENCAPSED_STRING","'id'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'image_scale'",98],",",["T_WHITESPACE","\n      ",98],["T_CONSTANT_ENCAPSED_STRING","'data'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",["T_WHITESPACE","\n        ",99],["T_CONSTANT_ENCAPSED_STRING","'width'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_LNUMBER","120",100],",",["T_WHITESPACE","\n        ",100],["T_CONSTANT_ENCAPSED_STRING","'height'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_LNUMBER","90",101],",",["T_WHITESPACE","\n        ",101],["T_CONSTANT_ENCAPSED_STRING","'upscale'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_STRING","TRUE",102],",",["T_WHITESPACE","\n      ",102],")",",",["T_WHITESPACE","\n      ",103],["T_CONSTANT_ENCAPSED_STRING","'weight'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_LNUMBER","2",104],",",["T_WHITESPACE","\n    ",104],")",";",["T_WHITESPACE","\n\n    ",105],["T_VARIABLE","$style",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","addImageEffect",107],"(",["T_VARIABLE","$effect",107],")",";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$style",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","save",108],"(",")",";",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertEqual",109],"(",["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getImageTag",109],"(",["T_VARIABLE","$variables",109],")",",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'<img src=\"'",109],["T_WHITESPACE"," ",109],".",["T_WHITESPACE"," ",109],["T_VARIABLE","$url",109],["T_WHITESPACE"," ",109],".",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'\" width=\"45\" height=\"90\" alt=\"\" class=\"image-style-test\" \/>'",109],")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertFalse",110],"(",["T_STRING","file_exists",110],"(",["T_VARIABLE","$generated_uri",110],")",",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'Generated file does not exist.'",110],")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","drupalGet",111],"(",["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getAbsoluteUrl",111],"(",["T_VARIABLE","$url",111],")",")",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","assertResponse",112],"(",["T_LNUMBER","200",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'Image was generated at the URL.'",112],")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","assertTrue",113],"(",["T_STRING","file_exists",113],"(",["T_VARIABLE","$generated_uri",113],")",",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'Generated file does exist after we accessed it.'",113],")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$image_file",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$image_factory",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","get",114],"(",["T_VARIABLE","$generated_uri",114],")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","assertEqual",115],"(",["T_VARIABLE","$image_file",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getWidth",115],"(",")",",",["T_WHITESPACE"," ",115],["T_LNUMBER","45",115],")",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","assertEqual",116],"(",["T_VARIABLE","$image_file",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getHeight",116],"(",")",",",["T_WHITESPACE"," ",116],["T_LNUMBER","90",116],")",";",["T_WHITESPACE","\n\n    ",116],["T_COMMENT","\/\/ Test upscale disabled.\n",118],["T_WHITESPACE","    ",119],["T_VARIABLE","$effect",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",["T_WHITESPACE","\n      ",119],["T_CONSTANT_ENCAPSED_STRING","'id'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'image_scale'",120],",",["T_WHITESPACE","\n      ",120],["T_CONSTANT_ENCAPSED_STRING","'data'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_ARRAY","array",121],"(",["T_WHITESPACE","\n        ",121],["T_CONSTANT_ENCAPSED_STRING","'width'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_LNUMBER","400",122],",",["T_WHITESPACE","\n        ",122],["T_CONSTANT_ENCAPSED_STRING","'height'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_LNUMBER","200",123],",",["T_WHITESPACE","\n        ",123],["T_CONSTANT_ENCAPSED_STRING","'upscale'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_STRING","FALSE",124],",",["T_WHITESPACE","\n      ",124],")",",",["T_WHITESPACE","\n      ",125],["T_CONSTANT_ENCAPSED_STRING","'weight'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_LNUMBER","3",126],",",["T_WHITESPACE","\n    ",126],")",";",["T_WHITESPACE","\n\n    ",127],["T_VARIABLE","$style",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","addImageEffect",129],"(",["T_VARIABLE","$effect",129],")",";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$style",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","save",130],"(",")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","assertEqual",131],"(",["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getImageTag",131],"(",["T_VARIABLE","$variables",131],")",",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'<img src=\"'",131],["T_WHITESPACE"," ",131],".",["T_WHITESPACE"," ",131],["T_VARIABLE","$url",131],["T_WHITESPACE"," ",131],".",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'\" width=\"45\" height=\"90\" alt=\"\" class=\"image-style-test\" \/>'",131],")",";",["T_WHITESPACE","\n    ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","assertFalse",132],"(",["T_STRING","file_exists",132],"(",["T_VARIABLE","$generated_uri",132],")",",",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'Generated file does not exist.'",132],")",";",["T_WHITESPACE","\n    ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","drupalGet",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getAbsoluteUrl",133],"(",["T_VARIABLE","$url",133],")",")",";",["T_WHITESPACE","\n    ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","assertResponse",134],"(",["T_LNUMBER","200",134],",",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'Image was generated at the URL.'",134],")",";",["T_WHITESPACE","\n    ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","assertTrue",135],"(",["T_STRING","file_exists",135],"(",["T_VARIABLE","$generated_uri",135],")",",",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'Generated file does exist after we accessed it.'",135],")",";",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$image_file",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$image_factory",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","get",136],"(",["T_VARIABLE","$generated_uri",136],")",";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","assertEqual",137],"(",["T_VARIABLE","$image_file",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getWidth",137],"(",")",",",["T_WHITESPACE"," ",137],["T_LNUMBER","45",137],")",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","assertEqual",138],"(",["T_VARIABLE","$image_file",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getHeight",138],"(",")",",",["T_WHITESPACE"," ",138],["T_LNUMBER","90",138],")",";",["T_WHITESPACE","\n\n    ",138],["T_COMMENT","\/\/ Add a desaturate effect.\n",140],["T_WHITESPACE","    ",141],["T_VARIABLE","$effect",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_ARRAY","array",141],"(",["T_WHITESPACE","\n      ",141],["T_CONSTANT_ENCAPSED_STRING","'id'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'image_desaturate'",142],",",["T_WHITESPACE","\n      ",142],["T_CONSTANT_ENCAPSED_STRING","'data'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_ARRAY","array",143],"(",")",",",["T_WHITESPACE","\n      ",143],["T_CONSTANT_ENCAPSED_STRING","'weight'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_LNUMBER","4",144],",",["T_WHITESPACE","\n    ",144],")",";",["T_WHITESPACE","\n\n    ",145],["T_VARIABLE","$style",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","addImageEffect",147],"(",["T_VARIABLE","$effect",147],")",";",["T_WHITESPACE","\n    ",147],["T_VARIABLE","$style",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","save",148],"(",")",";",["T_WHITESPACE","\n    ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","assertEqual",149],"(",["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getImageTag",149],"(",["T_VARIABLE","$variables",149],")",",",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'<img src=\"'",149],["T_WHITESPACE"," ",149],".",["T_WHITESPACE"," ",149],["T_VARIABLE","$url",149],["T_WHITESPACE"," ",149],".",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'\" width=\"45\" height=\"90\" alt=\"\" class=\"image-style-test\" \/>'",149],")",";",["T_WHITESPACE","\n    ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","assertFalse",150],"(",["T_STRING","file_exists",150],"(",["T_VARIABLE","$generated_uri",150],")",",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'Generated file does not exist.'",150],")",";",["T_WHITESPACE","\n    ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","drupalGet",151],"(",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getAbsoluteUrl",151],"(",["T_VARIABLE","$url",151],")",")",";",["T_WHITESPACE","\n    ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","assertResponse",152],"(",["T_LNUMBER","200",152],",",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'Image was generated at the URL.'",152],")",";",["T_WHITESPACE","\n    ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","assertTrue",153],"(",["T_STRING","file_exists",153],"(",["T_VARIABLE","$generated_uri",153],")",",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'Generated file does exist after we accessed it.'",153],")",";",["T_WHITESPACE","\n    ",153],["T_VARIABLE","$image_file",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$image_factory",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","get",154],"(",["T_VARIABLE","$generated_uri",154],")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","assertEqual",155],"(",["T_VARIABLE","$image_file",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getWidth",155],"(",")",",",["T_WHITESPACE"," ",155],["T_LNUMBER","45",155],")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","assertEqual",156],"(",["T_VARIABLE","$image_file",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getHeight",156],"(",")",",",["T_WHITESPACE"," ",156],["T_LNUMBER","90",156],")",";",["T_WHITESPACE","\n\n    ",156],["T_COMMENT","\/\/ Add a random rotate effect.\n",158],["T_WHITESPACE","    ",159],["T_VARIABLE","$effect",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_ARRAY","array",159],"(",["T_WHITESPACE","\n      ",159],["T_CONSTANT_ENCAPSED_STRING","'id'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'image_rotate'",160],",",["T_WHITESPACE","\n      ",160],["T_CONSTANT_ENCAPSED_STRING","'data'",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_ARRAY","array",161],"(",["T_WHITESPACE","\n        ",161],["T_CONSTANT_ENCAPSED_STRING","'degrees'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_LNUMBER","180",162],",",["T_WHITESPACE","\n        ",162],["T_CONSTANT_ENCAPSED_STRING","'random'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_STRING","TRUE",163],",",["T_WHITESPACE","\n      ",163],")",",",["T_WHITESPACE","\n      ",164],["T_CONSTANT_ENCAPSED_STRING","'weight'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_LNUMBER","5",165],",",["T_WHITESPACE","\n    ",165],")",";",["T_WHITESPACE","\n\n    ",166],["T_VARIABLE","$style",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","addImageEffect",168],"(",["T_VARIABLE","$effect",168],")",";",["T_WHITESPACE","\n    ",168],["T_VARIABLE","$style",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","save",169],"(",")",";",["T_WHITESPACE","\n    ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","assertEqual",170],"(",["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getImageTag",170],"(",["T_VARIABLE","$variables",170],")",",",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'<img src=\"'",170],["T_WHITESPACE"," ",170],".",["T_WHITESPACE"," ",170],["T_VARIABLE","$url",170],["T_WHITESPACE"," ",170],".",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'\" alt=\"\" class=\"image-style-test\" \/>'",170],")",";",["T_WHITESPACE","\n    ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","assertFalse",171],"(",["T_STRING","file_exists",171],"(",["T_VARIABLE","$generated_uri",171],")",",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'Generated file does not exist.'",171],")",";",["T_WHITESPACE","\n    ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","drupalGet",172],"(",["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getAbsoluteUrl",172],"(",["T_VARIABLE","$url",172],")",")",";",["T_WHITESPACE","\n    ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","assertResponse",173],"(",["T_LNUMBER","200",173],",",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'Image was generated at the URL.'",173],")",";",["T_WHITESPACE","\n    ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","assertTrue",174],"(",["T_STRING","file_exists",174],"(",["T_VARIABLE","$generated_uri",174],")",",",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'Generated file does exist after we accessed it.'",174],")",";",["T_WHITESPACE","\n\n\n    ",174],["T_COMMENT","\/\/ Add a crop effect.\n",177],["T_WHITESPACE","    ",178],["T_VARIABLE","$effect",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_ARRAY","array",178],"(",["T_WHITESPACE","\n      ",178],["T_CONSTANT_ENCAPSED_STRING","'id'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'image_crop'",179],",",["T_WHITESPACE","\n      ",179],["T_CONSTANT_ENCAPSED_STRING","'data'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_ARRAY","array",180],"(",["T_WHITESPACE","\n        ",180],["T_CONSTANT_ENCAPSED_STRING","'width'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_LNUMBER","30",181],",",["T_WHITESPACE","\n        ",181],["T_CONSTANT_ENCAPSED_STRING","'height'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_LNUMBER","30",182],",",["T_WHITESPACE","\n        ",182],["T_CONSTANT_ENCAPSED_STRING","'anchor'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'center-center'",183],",",["T_WHITESPACE","\n      ",183],")",",",["T_WHITESPACE","\n      ",184],["T_CONSTANT_ENCAPSED_STRING","'weight'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_LNUMBER","6",185],",",["T_WHITESPACE","\n    ",185],")",";",["T_WHITESPACE","\n\n    ",186],["T_VARIABLE","$style",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","addImageEffect",188],"(",["T_VARIABLE","$effect",188],")",";",["T_WHITESPACE","\n    ",188],["T_VARIABLE","$style",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","save",189],"(",")",";",["T_WHITESPACE","\n    ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","assertEqual",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getImageTag",190],"(",["T_VARIABLE","$variables",190],")",",",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'<img src=\"'",190],["T_WHITESPACE"," ",190],".",["T_WHITESPACE"," ",190],["T_VARIABLE","$url",190],["T_WHITESPACE"," ",190],".",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'\" width=\"30\" height=\"30\" alt=\"\" class=\"image-style-test\" \/>'",190],")",";",["T_WHITESPACE","\n    ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","assertFalse",191],"(",["T_STRING","file_exists",191],"(",["T_VARIABLE","$generated_uri",191],")",",",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'Generated file does not exist.'",191],")",";",["T_WHITESPACE","\n    ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","drupalGet",192],"(",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getAbsoluteUrl",192],"(",["T_VARIABLE","$url",192],")",")",";",["T_WHITESPACE","\n    ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","assertResponse",193],"(",["T_LNUMBER","200",193],",",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'Image was generated at the URL.'",193],")",";",["T_WHITESPACE","\n    ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","assertTrue",194],"(",["T_STRING","file_exists",194],"(",["T_VARIABLE","$generated_uri",194],")",",",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'Generated file does exist after we accessed it.'",194],")",";",["T_WHITESPACE","\n    ",194],["T_VARIABLE","$image_file",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$image_factory",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","get",195],"(",["T_VARIABLE","$generated_uri",195],")",";",["T_WHITESPACE","\n    ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","assertEqual",196],"(",["T_VARIABLE","$image_file",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getWidth",196],"(",")",",",["T_WHITESPACE"," ",196],["T_LNUMBER","30",196],")",";",["T_WHITESPACE","\n    ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","assertEqual",197],"(",["T_VARIABLE","$image_file",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getHeight",197],"(",")",",",["T_WHITESPACE"," ",197],["T_LNUMBER","30",197],")",";",["T_WHITESPACE","\n\n    ",197],["T_COMMENT","\/\/ Rotate to a non-multiple of 90 degrees.\n",199],["T_WHITESPACE","    ",200],["T_VARIABLE","$effect",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_ARRAY","array",200],"(",["T_WHITESPACE","\n      ",200],["T_CONSTANT_ENCAPSED_STRING","'id'",201],["T_WHITESPACE"," ",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'image_rotate'",201],",",["T_WHITESPACE","\n      ",201],["T_CONSTANT_ENCAPSED_STRING","'data'",202],["T_WHITESPACE"," ",202],["T_DOUBLE_ARROW","=>",202],["T_WHITESPACE"," ",202],["T_ARRAY","array",202],"(",["T_WHITESPACE","\n        ",202],["T_CONSTANT_ENCAPSED_STRING","'degrees'",203],["T_WHITESPACE"," ",203],["T_DOUBLE_ARROW","=>",203],["T_WHITESPACE"," ",203],["T_LNUMBER","57",203],",",["T_WHITESPACE","\n        ",203],["T_CONSTANT_ENCAPSED_STRING","'random'",204],["T_WHITESPACE"," ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],["T_STRING","FALSE",204],",",["T_WHITESPACE","\n      ",204],")",",",["T_WHITESPACE","\n      ",205],["T_CONSTANT_ENCAPSED_STRING","'weight'",206],["T_WHITESPACE"," ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_LNUMBER","7",206],",",["T_WHITESPACE","\n    ",206],")",";",["T_WHITESPACE","\n\n    ",207],["T_VARIABLE","$effect_id",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$style",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","addImageEffect",209],"(",["T_VARIABLE","$effect",209],")",";",["T_WHITESPACE","\n    ",209],["T_VARIABLE","$style",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","save",210],"(",")",";",["T_WHITESPACE","\n    ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","assertEqual",211],"(",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","getImageTag",211],"(",["T_VARIABLE","$variables",211],")",",",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'<img src=\"'",211],["T_WHITESPACE"," ",211],".",["T_WHITESPACE"," ",211],["T_VARIABLE","$url",211],["T_WHITESPACE"," ",211],".",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'\" width=\"41\" height=\"41\" alt=\"\" class=\"image-style-test\" \/>'",211],")",";",["T_WHITESPACE","\n    ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","assertFalse",212],"(",["T_STRING","file_exists",212],"(",["T_VARIABLE","$generated_uri",212],")",",",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'Generated file does not exist.'",212],")",";",["T_WHITESPACE","\n    ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","drupalGet",213],"(",["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","getAbsoluteUrl",213],"(",["T_VARIABLE","$url",213],")",")",";",["T_WHITESPACE","\n    ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","assertResponse",214],"(",["T_LNUMBER","200",214],",",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'Image was generated at the URL.'",214],")",";",["T_WHITESPACE","\n    ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","assertTrue",215],"(",["T_STRING","file_exists",215],"(",["T_VARIABLE","$generated_uri",215],")",",",["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","'Generated file does exist after we accessed it.'",215],")",";",["T_WHITESPACE","\n    ",215],["T_VARIABLE","$image_file",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$image_factory",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","get",216],"(",["T_VARIABLE","$generated_uri",216],")",";",["T_WHITESPACE","\n    ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","assertEqual",217],"(",["T_VARIABLE","$image_file",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","getWidth",217],"(",")",",",["T_WHITESPACE"," ",217],["T_LNUMBER","41",217],")",";",["T_WHITESPACE","\n    ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","assertEqual",218],"(",["T_VARIABLE","$image_file",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getHeight",218],"(",")",",",["T_WHITESPACE"," ",218],["T_LNUMBER","41",218],")",";",["T_WHITESPACE","\n\n    ",218],["T_VARIABLE","$effect_plugin",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$style",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","getEffect",220],"(",["T_VARIABLE","$effect_id",220],")",";",["T_WHITESPACE","\n    ",220],["T_VARIABLE","$style",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","deleteImageEffect",221],"(",["T_VARIABLE","$effect_plugin",221],")",";",["T_WHITESPACE","\n\n    ",221],["T_COMMENT","\/\/ Ensure that an effect can unset dimensions.\n",223],["T_WHITESPACE","    ",224],["T_VARIABLE","$effect",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_ARRAY","array",224],"(",["T_WHITESPACE","\n      ",224],["T_CONSTANT_ENCAPSED_STRING","'id'",225],["T_WHITESPACE"," ",225],["T_DOUBLE_ARROW","=>",225],["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","'image_module_test_null'",225],",",["T_WHITESPACE","\n      ",225],["T_CONSTANT_ENCAPSED_STRING","'data'",226],["T_WHITESPACE"," ",226],["T_DOUBLE_ARROW","=>",226],["T_WHITESPACE"," ",226],["T_ARRAY","array",226],"(",")",",",["T_WHITESPACE","\n      ",226],["T_CONSTANT_ENCAPSED_STRING","'weight'",227],["T_WHITESPACE"," ",227],["T_DOUBLE_ARROW","=>",227],["T_WHITESPACE"," ",227],["T_LNUMBER","8",227],",",["T_WHITESPACE","\n    ",227],")",";",["T_WHITESPACE","\n\n    ",228],["T_VARIABLE","$style",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","addImageEffect",230],"(",["T_VARIABLE","$effect",230],")",";",["T_WHITESPACE","\n    ",230],["T_VARIABLE","$style",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","save",231],"(",")",";",["T_WHITESPACE","\n    ",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","assertEqual",232],"(",["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","getImageTag",232],"(",["T_VARIABLE","$variables",232],")",",",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'<img src=\"'",232],["T_WHITESPACE"," ",232],".",["T_WHITESPACE"," ",232],["T_VARIABLE","$url",232],["T_WHITESPACE"," ",232],".",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'\" alt=\"\" class=\"image-style-test\" \/>'",232],")",";",["T_WHITESPACE","\n\n    ",232],["T_COMMENT","\/\/ Test URI dependent image effect.\n",234],["T_WHITESPACE","    ",235],["T_VARIABLE","$style",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_STRING","ImageStyle",235],["T_DOUBLE_COLON","::",235],["T_STRING","create",235],"(","[",["T_CONSTANT_ENCAPSED_STRING","'name'",235],["T_WHITESPACE"," ",235],["T_DOUBLE_ARROW","=>",235],["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'test_uri'",235],",",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'label'",235],["T_WHITESPACE"," ",235],["T_DOUBLE_ARROW","=>",235],["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'Test URI'",235],"]",")",";",["T_WHITESPACE","\n    ",235],["T_VARIABLE","$effect",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],"[",["T_WHITESPACE","\n      ",236],["T_CONSTANT_ENCAPSED_STRING","'id'",237],["T_WHITESPACE"," ",237],["T_DOUBLE_ARROW","=>",237],["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'image_module_test_uri_dependent'",237],",",["T_WHITESPACE","\n      ",237],["T_CONSTANT_ENCAPSED_STRING","'data'",238],["T_WHITESPACE"," ",238],["T_DOUBLE_ARROW","=>",238],["T_WHITESPACE"," ",238],"[","]",",",["T_WHITESPACE","\n      ",238],["T_CONSTANT_ENCAPSED_STRING","'weight'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_LNUMBER","0",239],",",["T_WHITESPACE","\n    ",239],"]",";",["T_WHITESPACE","\n    ",240],["T_VARIABLE","$style",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","addImageEffect",241],"(",["T_VARIABLE","$effect",241],")",";",["T_WHITESPACE","\n    ",241],["T_VARIABLE","$style",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","save",242],"(",")",";",["T_WHITESPACE","\n    ",242],["T_VARIABLE","$variables",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],"[",["T_WHITESPACE","\n      ",243],["T_CONSTANT_ENCAPSED_STRING","'#theme'",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'image_style'",244],",",["T_WHITESPACE","\n      ",244],["T_CONSTANT_ENCAPSED_STRING","'#style_name'",245],["T_WHITESPACE"," ",245],["T_DOUBLE_ARROW","=>",245],["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","'test_uri'",245],",",["T_WHITESPACE","\n      ",245],["T_CONSTANT_ENCAPSED_STRING","'#uri'",246],["T_WHITESPACE"," ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$original_uri",246],",",["T_WHITESPACE","\n      ",246],["T_CONSTANT_ENCAPSED_STRING","'#width'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_LNUMBER","40",247],",",["T_WHITESPACE","\n      ",247],["T_CONSTANT_ENCAPSED_STRING","'#height'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_LNUMBER","20",248],",",["T_WHITESPACE","\n    ",248],"]",";",["T_WHITESPACE","\n    ",249],["T_COMMENT","\/\/ PNG original image. Should be resized to 100x100.\n",250],["T_WHITESPACE","    ",251],["T_VARIABLE","$generated_uri",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","'public:\/\/styles\/test_uri\/public\/'",251],["T_WHITESPACE"," ",251],".",["T_WHITESPACE"," ",251],["T_NS_SEPARATOR","\\",251],["T_STRING","Drupal",251],["T_DOUBLE_COLON","::",251],["T_STRING","service",251],"(",["T_CONSTANT_ENCAPSED_STRING","'file_system'",251],")",["T_OBJECT_OPERATOR","->",251],["T_STRING","basename",251],"(",["T_VARIABLE","$original_uri",251],")",";",["T_WHITESPACE","\n    ",251],["T_VARIABLE","$url",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_STRING","file_url_transform_relative",252],"(",["T_VARIABLE","$style",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","buildUrl",252],"(",["T_VARIABLE","$original_uri",252],")",")",";",["T_WHITESPACE","\n    ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","assertEqual",253],"(",["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","getImageTag",253],"(",["T_VARIABLE","$variables",253],")",",",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'<img src=\"'",253],["T_WHITESPACE"," ",253],".",["T_WHITESPACE"," ",253],["T_VARIABLE","$url",253],["T_WHITESPACE"," ",253],".",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'\" width=\"100\" height=\"100\" alt=\"\" class=\"image-style-test-uri\" \/>'",253],")",";",["T_WHITESPACE","\n    ",253],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","assertFalse",254],"(",["T_STRING","file_exists",254],"(",["T_VARIABLE","$generated_uri",254],")",",",["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'Generated file does not exist.'",254],")",";",["T_WHITESPACE","\n    ",254],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","drupalGet",255],"(",["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getAbsoluteUrl",255],"(",["T_VARIABLE","$url",255],")",")",";",["T_WHITESPACE","\n    ",255],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","assertResponse",256],"(",["T_LNUMBER","200",256],",",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'Image was generated at the URL.'",256],")",";",["T_WHITESPACE","\n    ",256],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","assertTrue",257],"(",["T_STRING","file_exists",257],"(",["T_VARIABLE","$generated_uri",257],")",",",["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'Generated file does exist after we accessed it.'",257],")",";",["T_WHITESPACE","\n    ",257],["T_VARIABLE","$image_file",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_VARIABLE","$image_factory",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","get",258],"(",["T_VARIABLE","$generated_uri",258],")",";",["T_WHITESPACE","\n    ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","assertEqual",259],"(",["T_VARIABLE","$image_file",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","getWidth",259],"(",")",",",["T_WHITESPACE"," ",259],["T_LNUMBER","100",259],")",";",["T_WHITESPACE","\n    ",259],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","assertEqual",260],"(",["T_VARIABLE","$image_file",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getHeight",260],"(",")",",",["T_WHITESPACE"," ",260],["T_LNUMBER","100",260],")",";",["T_WHITESPACE","\n    ",260],["T_COMMENT","\/\/ GIF original image. Should be resized to 50x50.\n",261],["T_WHITESPACE","    ",262],["T_VARIABLE","$file",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$files",262],"[",["T_LNUMBER","1",262],"]",";",["T_WHITESPACE","\n    ",262],["T_VARIABLE","$original_uri",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_STRING","file_unmanaged_copy",263],"(",["T_VARIABLE","$file",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","uri",263],",",["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","'public:\/\/'",263],",",["T_WHITESPACE"," ",263],["T_STRING","FILE_EXISTS_RENAME",263],")",";",["T_WHITESPACE","\n    ",263],["T_VARIABLE","$generated_uri",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","'public:\/\/styles\/test_uri\/public\/'",264],["T_WHITESPACE"," ",264],".",["T_WHITESPACE"," ",264],["T_NS_SEPARATOR","\\",264],["T_STRING","Drupal",264],["T_DOUBLE_COLON","::",264],["T_STRING","service",264],"(",["T_CONSTANT_ENCAPSED_STRING","'file_system'",264],")",["T_OBJECT_OPERATOR","->",264],["T_STRING","basename",264],"(",["T_VARIABLE","$original_uri",264],")",";",["T_WHITESPACE","\n    ",264],["T_VARIABLE","$url",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_STRING","file_url_transform_relative",265],"(",["T_VARIABLE","$style",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","buildUrl",265],"(",["T_VARIABLE","$original_uri",265],")",")",";",["T_WHITESPACE","\n    ",265],["T_VARIABLE","$variables",266],"[",["T_CONSTANT_ENCAPSED_STRING","'#uri'",266],"]",["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_VARIABLE","$original_uri",266],";",["T_WHITESPACE","\n    ",266],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","assertEqual",267],"(",["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","getImageTag",267],"(",["T_VARIABLE","$variables",267],")",",",["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","'<img src=\"'",267],["T_WHITESPACE"," ",267],".",["T_WHITESPACE"," ",267],["T_VARIABLE","$url",267],["T_WHITESPACE"," ",267],".",["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","'\" width=\"50\" height=\"50\" alt=\"\" class=\"image-style-test-uri\" \/>'",267],")",";",["T_WHITESPACE","\n    ",267],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","assertFalse",268],"(",["T_STRING","file_exists",268],"(",["T_VARIABLE","$generated_uri",268],")",",",["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","'Generated file does not exist.'",268],")",";",["T_WHITESPACE","\n    ",268],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","drupalGet",269],"(",["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","getAbsoluteUrl",269],"(",["T_VARIABLE","$url",269],")",")",";",["T_WHITESPACE","\n    ",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","assertResponse",270],"(",["T_LNUMBER","200",270],",",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'Image was generated at the URL.'",270],")",";",["T_WHITESPACE","\n    ",270],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","assertTrue",271],"(",["T_STRING","file_exists",271],"(",["T_VARIABLE","$generated_uri",271],")",",",["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","'Generated file does exist after we accessed it.'",271],")",";",["T_WHITESPACE","\n    ",271],["T_VARIABLE","$image_file",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_VARIABLE","$image_factory",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","get",272],"(",["T_VARIABLE","$generated_uri",272],")",";",["T_WHITESPACE","\n    ",272],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","assertEqual",273],"(",["T_VARIABLE","$image_file",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getWidth",273],"(",")",",",["T_WHITESPACE"," ",273],["T_LNUMBER","50",273],")",";",["T_WHITESPACE","\n    ",273],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","assertEqual",274],"(",["T_VARIABLE","$image_file",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","getHeight",274],"(",")",",",["T_WHITESPACE"," ",274],["T_LNUMBER","50",274],")",";",["T_WHITESPACE","\n  ",274],"}",["T_WHITESPACE","\n\n  ",275],["T_DOC_COMMENT","\/**\n   * Render an image style element.\n   *\n   * drupal_render() alters the passed $variables array by adding a new key\n   * '#printed' => TRUE. This prevents next call to re-render the element. We\n   * wrap drupal_render() in a helper protected method and pass each time a\n   * fresh array so that $variables won't get altered and the element is\n   * re-rendered each time.\n   *\/",277],["T_WHITESPACE","\n  ",285],["T_PROTECTED","protected",286],["T_WHITESPACE"," ",286],["T_FUNCTION","function",286],["T_WHITESPACE"," ",286],["T_STRING","getImageTag",286],"(",["T_VARIABLE","$variables",286],")",["T_WHITESPACE"," ",286],"{",["T_WHITESPACE","\n    ",286],["T_RETURN","return",287],["T_WHITESPACE"," ",287],["T_STRING","str_replace",287],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",287],",",["T_WHITESPACE"," ",287],["T_STRING","NULL",287],",",["T_WHITESPACE"," ",287],["T_NS_SEPARATOR","\\",287],["T_STRING","Drupal",287],["T_DOUBLE_COLON","::",287],["T_STRING","service",287],"(",["T_CONSTANT_ENCAPSED_STRING","'renderer'",287],")",["T_OBJECT_OPERATOR","->",287],["T_STRING","renderRoot",287],"(",["T_VARIABLE","$variables",287],")",")",";",["T_WHITESPACE","\n  ",287],"}",["T_WHITESPACE","\n\n",288],"}",["T_WHITESPACE","\n",290]]