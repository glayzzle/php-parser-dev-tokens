[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","image",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","image",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ImageStyle",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","system",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Tests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Image",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ToolkitTestBase",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests that the image effects pass parameters to the toolkit correctly.\n *\n * @group image\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","ImageEffectsTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","ToolkitTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PUBLIC","public",20],["T_WHITESPACE"," ",20],["T_STATIC","static",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$modules",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_ARRAY","array",20],"(",["T_CONSTANT_ENCAPSED_STRING","'image'",20],",",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'image_test'",20],",",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'image_module_test'",20],")",";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * The image effect manager.\n   *\n   * @var \\Drupal\\image\\ImageEffectManager\n   *\/",22],["T_WHITESPACE","\n  ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$manager",27],";",["T_WHITESPACE","\n\n  ",27],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","setUp",29],"(",")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n    ",29],["T_STRING","parent",30],["T_DOUBLE_COLON","::",30],["T_STRING","setUp",30],"(",")",";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","manager",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","container",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","get",31],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.image.effect'",31],")",";",["T_WHITESPACE","\n  ",31],"}",["T_WHITESPACE","\n\n  ",32],["T_DOC_COMMENT","\/**\n   * Test the image_resize_effect() function.\n   *\/",34],["T_WHITESPACE","\n  ",36],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","testResizeEffect",37],"(",")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n    ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","assertImageEffect",38],"(",["T_CONSTANT_ENCAPSED_STRING","'image_resize'",38],",",["T_WHITESPACE"," ",38],["T_ARRAY","array",38],"(",["T_WHITESPACE","\n      ",38],["T_CONSTANT_ENCAPSED_STRING","'width'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_LNUMBER","1",39],",",["T_WHITESPACE","\n      ",39],["T_CONSTANT_ENCAPSED_STRING","'height'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_LNUMBER","2",40],",",["T_WHITESPACE","\n    ",40],")",")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","assertToolkitOperationsCalled",42],"(",["T_ARRAY","array",42],"(",["T_CONSTANT_ENCAPSED_STRING","'resize'",42],")",")",";",["T_WHITESPACE","\n\n    ",42],["T_COMMENT","\/\/ Check the parameters.\n",44],["T_WHITESPACE","    ",45],["T_VARIABLE","$calls",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","imageTestGetAllCalls",45],"(",")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","assertEqual",46],"(",["T_VARIABLE","$calls",46],"[",["T_CONSTANT_ENCAPSED_STRING","'resize'",46],"]","[",["T_LNUMBER","0",46],"]","[",["T_LNUMBER","0",46],"]",",",["T_WHITESPACE"," ",46],["T_LNUMBER","1",46],",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'Width was passed correctly'",46],")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","assertEqual",47],"(",["T_VARIABLE","$calls",47],"[",["T_CONSTANT_ENCAPSED_STRING","'resize'",47],"]","[",["T_LNUMBER","0",47],"]","[",["T_LNUMBER","1",47],"]",",",["T_WHITESPACE"," ",47],["T_LNUMBER","2",47],",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'Height was passed correctly'",47],")",";",["T_WHITESPACE","\n  ",47],"}",["T_WHITESPACE","\n\n  ",48],["T_DOC_COMMENT","\/**\n   * Test the image_scale_effect() function.\n   *\/",50],["T_WHITESPACE","\n  ",52],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","testScaleEffect",53],"(",")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n    ",53],["T_COMMENT","\/\/ @todo: need to test upscaling.\n",54],["T_WHITESPACE","    ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertImageEffect",55],"(",["T_CONSTANT_ENCAPSED_STRING","'image_scale'",55],",",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",["T_WHITESPACE","\n      ",55],["T_CONSTANT_ENCAPSED_STRING","'width'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_LNUMBER","10",56],",",["T_WHITESPACE","\n      ",56],["T_CONSTANT_ENCAPSED_STRING","'height'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_LNUMBER","10",57],",",["T_WHITESPACE","\n    ",57],")",")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","assertToolkitOperationsCalled",59],"(",["T_ARRAY","array",59],"(",["T_CONSTANT_ENCAPSED_STRING","'scale'",59],")",")",";",["T_WHITESPACE","\n\n    ",59],["T_COMMENT","\/\/ Check the parameters.\n",61],["T_WHITESPACE","    ",62],["T_VARIABLE","$calls",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","imageTestGetAllCalls",62],"(",")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","assertEqual",63],"(",["T_VARIABLE","$calls",63],"[",["T_CONSTANT_ENCAPSED_STRING","'scale'",63],"]","[",["T_LNUMBER","0",63],"]","[",["T_LNUMBER","0",63],"]",",",["T_WHITESPACE"," ",63],["T_LNUMBER","10",63],",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'Width was passed correctly'",63],")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","assertEqual",64],"(",["T_VARIABLE","$calls",64],"[",["T_CONSTANT_ENCAPSED_STRING","'scale'",64],"]","[",["T_LNUMBER","0",64],"]","[",["T_LNUMBER","1",64],"]",",",["T_WHITESPACE"," ",64],["T_LNUMBER","10",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'Height was based off aspect ratio and passed correctly'",64],")",";",["T_WHITESPACE","\n  ",64],"}",["T_WHITESPACE","\n\n  ",65],["T_DOC_COMMENT","\/**\n   * Test the image_crop_effect() function.\n   *\/",67],["T_WHITESPACE","\n  ",69],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","testCropEffect",70],"(",")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n    ",70],["T_COMMENT","\/\/ @todo should test the keyword offsets.\n",71],["T_WHITESPACE","    ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertImageEffect",72],"(",["T_CONSTANT_ENCAPSED_STRING","'image_crop'",72],",",["T_WHITESPACE"," ",72],["T_ARRAY","array",72],"(",["T_WHITESPACE","\n      ",72],["T_CONSTANT_ENCAPSED_STRING","'anchor'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'top-1'",73],",",["T_WHITESPACE","\n      ",73],["T_CONSTANT_ENCAPSED_STRING","'width'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_LNUMBER","3",74],",",["T_WHITESPACE","\n      ",74],["T_CONSTANT_ENCAPSED_STRING","'height'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_LNUMBER","4",75],",",["T_WHITESPACE","\n    ",75],")",")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assertToolkitOperationsCalled",77],"(",["T_ARRAY","array",77],"(",["T_CONSTANT_ENCAPSED_STRING","'crop'",77],")",")",";",["T_WHITESPACE","\n\n    ",77],["T_COMMENT","\/\/ Check the parameters.\n",79],["T_WHITESPACE","    ",80],["T_VARIABLE","$calls",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","imageTestGetAllCalls",80],"(",")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertEqual",81],"(",["T_VARIABLE","$calls",81],"[",["T_CONSTANT_ENCAPSED_STRING","'crop'",81],"]","[",["T_LNUMBER","0",81],"]","[",["T_LNUMBER","0",81],"]",",",["T_WHITESPACE"," ",81],["T_LNUMBER","0",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'X was passed correctly'",81],")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertEqual",82],"(",["T_VARIABLE","$calls",82],"[",["T_CONSTANT_ENCAPSED_STRING","'crop'",82],"]","[",["T_LNUMBER","0",82],"]","[",["T_LNUMBER","1",82],"]",",",["T_WHITESPACE"," ",82],["T_LNUMBER","1",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'Y was passed correctly'",82],")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertEqual",83],"(",["T_VARIABLE","$calls",83],"[",["T_CONSTANT_ENCAPSED_STRING","'crop'",83],"]","[",["T_LNUMBER","0",83],"]","[",["T_LNUMBER","2",83],"]",",",["T_WHITESPACE"," ",83],["T_LNUMBER","3",83],",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'Width was passed correctly'",83],")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertEqual",84],"(",["T_VARIABLE","$calls",84],"[",["T_CONSTANT_ENCAPSED_STRING","'crop'",84],"]","[",["T_LNUMBER","0",84],"]","[",["T_LNUMBER","3",84],"]",",",["T_WHITESPACE"," ",84],["T_LNUMBER","4",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'Height was passed correctly'",84],")",";",["T_WHITESPACE","\n  ",84],"}",["T_WHITESPACE","\n\n  ",85],["T_DOC_COMMENT","\/**\n   * Tests the ConvertImageEffect plugin.\n   *\/",87],["T_WHITESPACE","\n  ",89],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","testConvertEffect",90],"(",")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n    ",90],["T_COMMENT","\/\/ Test jpeg.\n",91],["T_WHITESPACE","    ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertImageEffect",92],"(",["T_CONSTANT_ENCAPSED_STRING","'image_convert'",92],",",["T_WHITESPACE"," ",92],["T_ARRAY","array",92],"(",["T_WHITESPACE","\n      ",92],["T_CONSTANT_ENCAPSED_STRING","'extension'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'jpeg'",93],",",["T_WHITESPACE","\n    ",93],")",")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertToolkitOperationsCalled",95],"(",["T_ARRAY","array",95],"(",["T_CONSTANT_ENCAPSED_STRING","'convert'",95],")",")",";",["T_WHITESPACE","\n\n    ",95],["T_COMMENT","\/\/ Check the parameters.\n",97],["T_WHITESPACE","    ",98],["T_VARIABLE","$calls",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","imageTestGetAllCalls",98],"(",")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","assertEqual",99],"(",["T_VARIABLE","$calls",99],"[",["T_CONSTANT_ENCAPSED_STRING","'convert'",99],"]","[",["T_LNUMBER","0",99],"]","[",["T_LNUMBER","0",99],"]",",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'jpeg'",99],",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'Extension was passed correctly'",99],")",";",["T_WHITESPACE","\n  ",99],"}",["T_WHITESPACE","\n\n  ",100],["T_DOC_COMMENT","\/**\n   * Test the image_scale_and_crop_effect() function.\n   *\/",102],["T_WHITESPACE","\n  ",104],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","testScaleAndCropEffect",105],"(",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertImageEffect",106],"(",["T_CONSTANT_ENCAPSED_STRING","'image_scale_and_crop'",106],",",["T_WHITESPACE"," ",106],["T_ARRAY","array",106],"(",["T_WHITESPACE","\n      ",106],["T_CONSTANT_ENCAPSED_STRING","'width'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_LNUMBER","5",107],",",["T_WHITESPACE","\n      ",107],["T_CONSTANT_ENCAPSED_STRING","'height'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_LNUMBER","10",108],",",["T_WHITESPACE","\n    ",108],")",")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertToolkitOperationsCalled",110],"(",["T_ARRAY","array",110],"(",["T_CONSTANT_ENCAPSED_STRING","'scale_and_crop'",110],")",")",";",["T_WHITESPACE","\n\n    ",110],["T_COMMENT","\/\/ Check the parameters.\n",112],["T_WHITESPACE","    ",113],["T_VARIABLE","$calls",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","imageTestGetAllCalls",113],"(",")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","assertEqual",114],"(",["T_VARIABLE","$calls",114],"[",["T_CONSTANT_ENCAPSED_STRING","'scale_and_crop'",114],"]","[",["T_LNUMBER","0",114],"]","[",["T_LNUMBER","0",114],"]",",",["T_WHITESPACE"," ",114],["T_LNUMBER","5",114],",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'Width was computed and passed correctly'",114],")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","assertEqual",115],"(",["T_VARIABLE","$calls",115],"[",["T_CONSTANT_ENCAPSED_STRING","'scale_and_crop'",115],"]","[",["T_LNUMBER","0",115],"]","[",["T_LNUMBER","1",115],"]",",",["T_WHITESPACE"," ",115],["T_LNUMBER","10",115],",",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'Height was computed and passed correctly'",115],")",";",["T_WHITESPACE","\n  ",115],"}",["T_WHITESPACE","\n\n  ",116],["T_DOC_COMMENT","\/**\n   * Test the image_desaturate_effect() function.\n   *\/",118],["T_WHITESPACE","\n  ",120],["T_FUNCTION","function",121],["T_WHITESPACE"," ",121],["T_STRING","testDesaturateEffect",121],"(",")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertImageEffect",122],"(",["T_CONSTANT_ENCAPSED_STRING","'image_desaturate'",122],",",["T_WHITESPACE"," ",122],["T_ARRAY","array",122],"(",")",")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","assertToolkitOperationsCalled",123],"(",["T_ARRAY","array",123],"(",["T_CONSTANT_ENCAPSED_STRING","'desaturate'",123],")",")",";",["T_WHITESPACE","\n\n    ",123],["T_COMMENT","\/\/ Check the parameters.\n",125],["T_WHITESPACE","    ",126],["T_VARIABLE","$calls",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","imageTestGetAllCalls",126],"(",")",";",["T_WHITESPACE","\n    ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","assertEqual",127],"(",["T_STRING","count",127],"(",["T_VARIABLE","$calls",127],"[",["T_CONSTANT_ENCAPSED_STRING","'desaturate'",127],"]","[",["T_LNUMBER","0",127],"]",")",",",["T_WHITESPACE"," ",127],["T_LNUMBER","0",127],",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'No parameters were passed.'",127],")",";",["T_WHITESPACE","\n  ",127],"}",["T_WHITESPACE","\n\n  ",128],["T_DOC_COMMENT","\/**\n   * Test the image_rotate_effect() function.\n   *\/",130],["T_WHITESPACE","\n  ",132],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],["T_STRING","testRotateEffect",133],"(",")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n    ",133],["T_COMMENT","\/\/ @todo: need to test with 'random' => TRUE\n",134],["T_WHITESPACE","    ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","assertImageEffect",135],"(",["T_CONSTANT_ENCAPSED_STRING","'image_rotate'",135],",",["T_WHITESPACE"," ",135],["T_ARRAY","array",135],"(",["T_WHITESPACE","\n      ",135],["T_CONSTANT_ENCAPSED_STRING","'degrees'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_LNUMBER","90",136],",",["T_WHITESPACE","\n      ",136],["T_CONSTANT_ENCAPSED_STRING","'bgcolor'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'#fff'",137],",",["T_WHITESPACE","\n    ",137],")",")",";",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","assertToolkitOperationsCalled",139],"(",["T_ARRAY","array",139],"(",["T_CONSTANT_ENCAPSED_STRING","'rotate'",139],")",")",";",["T_WHITESPACE","\n\n    ",139],["T_COMMENT","\/\/ Check the parameters.\n",141],["T_WHITESPACE","    ",142],["T_VARIABLE","$calls",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","imageTestGetAllCalls",142],"(",")",";",["T_WHITESPACE","\n    ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","assertEqual",143],"(",["T_VARIABLE","$calls",143],"[",["T_CONSTANT_ENCAPSED_STRING","'rotate'",143],"]","[",["T_LNUMBER","0",143],"]","[",["T_LNUMBER","0",143],"]",",",["T_WHITESPACE"," ",143],["T_LNUMBER","90",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'Degrees were passed correctly'",143],")",";",["T_WHITESPACE","\n    ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","assertEqual",144],"(",["T_VARIABLE","$calls",144],"[",["T_CONSTANT_ENCAPSED_STRING","'rotate'",144],"]","[",["T_LNUMBER","0",144],"]","[",["T_LNUMBER","1",144],"]",",",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'#fff'",144],",",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'Background color was passed correctly'",144],")",";",["T_WHITESPACE","\n  ",144],"}",["T_WHITESPACE","\n\n  ",145],["T_DOC_COMMENT","\/**\n   * Test image effect caching.\n   *\/",147],["T_WHITESPACE","\n  ",149],["T_FUNCTION","function",150],["T_WHITESPACE"," ",150],["T_STRING","testImageEffectsCaching",150],"(",")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n    ",150],["T_VARIABLE","$image_effect_definitions_called",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],"&",["T_STRING","drupal_static",151],"(",["T_CONSTANT_ENCAPSED_STRING","'image_module_test_image_effect_info_alter'",151],")",";",["T_WHITESPACE","\n\n    ",151],["T_COMMENT","\/\/ First call should grab a fresh copy of the data.\n",153],["T_WHITESPACE","    ",154],["T_VARIABLE","$manager",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","container",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","get",154],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.image.effect'",154],")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$effects",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$manager",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getDefinitions",155],"(",")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","assertTrue",156],"(",["T_VARIABLE","$image_effect_definitions_called",156],["T_WHITESPACE"," ",156],["T_IS_IDENTICAL","===",156],["T_WHITESPACE"," ",156],["T_LNUMBER","1",156],",",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'image_effect_definitions() generated data.'",156],")",";",["T_WHITESPACE","\n\n    ",156],["T_COMMENT","\/\/ Second call should come from cache.\n",158],["T_WHITESPACE","    ",159],["T_STRING","drupal_static_reset",159],"(",["T_CONSTANT_ENCAPSED_STRING","'image_module_test_image_effect_info_alter'",159],")",";",["T_WHITESPACE","\n    ",159],["T_VARIABLE","$cached_effects",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$manager",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getDefinitions",160],"(",")",";",["T_WHITESPACE","\n    ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","assertTrue",161],"(",["T_VARIABLE","$image_effect_definitions_called",161],["T_WHITESPACE"," ",161],["T_IS_IDENTICAL","===",161],["T_WHITESPACE"," ",161],["T_LNUMBER","0",161],",",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'image_effect_definitions() returned data from cache.'",161],")",";",["T_WHITESPACE","\n\n    ",161],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","assertTrue",163],"(",["T_VARIABLE","$effects",163],["T_WHITESPACE"," ",163],["T_IS_EQUAL","==",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$cached_effects",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'Cached effects are the same as generated effects.'",163],")",";",["T_WHITESPACE","\n  ",163],"}",["T_WHITESPACE","\n\n  ",164],["T_DOC_COMMENT","\/**\n   * Tests if validation errors are passed plugin form to the parent form.\n   *\/",166],["T_WHITESPACE","\n  ",168],["T_PUBLIC","public",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","testEffectFormValidationErrors",169],"(",")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n    ",169],["T_VARIABLE","$account",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","drupalCreateUser",170],"(","[",["T_CONSTANT_ENCAPSED_STRING","'administer image styles'",170],"]",")",";",["T_WHITESPACE","\n    ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","drupalLogin",171],"(",["T_VARIABLE","$account",171],")",";",["T_WHITESPACE","\n    ",171],["T_DOC_COMMENT","\/** @var \\Drupal\\image\\ImageStyleInterface $style *\/",172],["T_WHITESPACE","\n    ",172],["T_VARIABLE","$style",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_STRING","ImageStyle",173],["T_DOUBLE_COLON","::",173],["T_STRING","load",173],"(",["T_CONSTANT_ENCAPSED_STRING","'thumbnail'",173],")",";",["T_WHITESPACE","\n    ",173],["T_COMMENT","\/\/ Image Scale is the only effect shipped with 'thumbnail', by default.\n",174],["T_WHITESPACE","    ",175],["T_VARIABLE","$uuids",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$style",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getEffects",175],"(",")",["T_OBJECT_OPERATOR","->",175],["T_STRING","getInstanceIds",175],"(",")",";",["T_WHITESPACE","\n    ",175],["T_VARIABLE","$uuid",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_STRING","key",176],"(",["T_VARIABLE","$uuids",176],")",";",["T_WHITESPACE","\n\n    ",176],["T_COMMENT","\/\/ We are posting the form with both, width and height, empty.\n",178],["T_WHITESPACE","    ",179],["T_VARIABLE","$edit",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],"[",["T_CONSTANT_ENCAPSED_STRING","'data[width]'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","''",179],",",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'data[height]'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","''",179],"]",";",["T_WHITESPACE","\n    ",179],["T_VARIABLE","$path",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/media\/image-styles\/manage\/thumbnail\/effects\/'",180],["T_WHITESPACE"," ",180],".",["T_WHITESPACE"," ",180],["T_VARIABLE","$uuid",180],";",["T_WHITESPACE","\n    ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","drupalPostForm",181],"(",["T_VARIABLE","$path",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$edit",181],",",["T_WHITESPACE"," ",181],["T_STRING","t",181],"(",["T_CONSTANT_ENCAPSED_STRING","'Update effect'",181],")",")",";",["T_WHITESPACE","\n    ",181],["T_COMMENT","\/\/ Check that the error message has been displayed.\n",182],["T_WHITESPACE","    ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","assertText",183],"(",["T_STRING","t",183],"(",["T_CONSTANT_ENCAPSED_STRING","'Width and height can not both be blank.'",183],")",")",";",["T_WHITESPACE","\n  ",183],"}",["T_WHITESPACE","\n\n  ",184],["T_DOC_COMMENT","\/**\n   * Asserts the effect processing of an image effect plugin.\n   *\n   * @param string $effect_name\n   *   The name of the image effect to test.\n   * @param array $data\n   *   The data to pass to the image effect.\n   *\n   * @return bool\n   *   TRUE if the assertion succeeded, FALSE otherwise.\n   *\/",186],["T_WHITESPACE","\n  ",196],["T_PROTECTED","protected",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","assertImageEffect",197],"(",["T_VARIABLE","$effect_name",197],",",["T_WHITESPACE"," ",197],["T_ARRAY","array",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$data",197],")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n    ",197],["T_VARIABLE","$effect",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","manager",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","createInstance",198],"(",["T_VARIABLE","$effect_name",198],",",["T_WHITESPACE"," ",198],["T_ARRAY","array",198],"(",["T_CONSTANT_ENCAPSED_STRING","'data'",198],["T_WHITESPACE"," ",198],["T_DOUBLE_ARROW","=>",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$data",198],")",")",";",["T_WHITESPACE","\n    ",198],["T_RETURN","return",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","assertTrue",199],"(",["T_VARIABLE","$effect",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","applyEffect",199],"(",["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","image",199],")",",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'Function returned the expected value.'",199],")",";",["T_WHITESPACE","\n  ",199],"}",["T_WHITESPACE","\n\n",200],"}",["T_WHITESPACE","\n",202]]