[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","quickedit",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Form",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","EntityInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","EntityStorageInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","EntityChangedInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Extension",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ModuleHandlerInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Form",9],["T_NS_SEPARATOR","\\",9],["T_STRING","FormBase",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Form",10],["T_NS_SEPARATOR","\\",10],["T_STRING","FormStateInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Render",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Element",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Entity",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Entity",12],["T_NS_SEPARATOR","\\",12],["T_STRING","EntityFormDisplay",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","user",13],["T_NS_SEPARATOR","\\",13],["T_STRING","PrivateTempStoreFactory",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","DependencyInjection",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ContainerInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Validator",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Validator",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ValidatorInterface",15],";",["T_WHITESPACE","\n\n",15],["T_DOC_COMMENT","\/**\n * Builds and process a form for editing a single entity field.\n *\/",17],["T_WHITESPACE","\n",19],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","QuickEditFieldForm",20],["T_WHITESPACE"," ",20],["T_EXTENDS","extends",20],["T_WHITESPACE"," ",20],["T_STRING","FormBase",20],["T_WHITESPACE"," ",20],"{",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * Stores the tempstore factory.\n   *\n   * @var \\Drupal\\user\\PrivateTempStoreFactory\n   *\/",22],["T_WHITESPACE","\n  ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$tempStoreFactory",27],";",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * The module handler.\n   *\n   * @var \\Drupal\\Core\\Extension\\ModuleHandlerInterface\n   *\/",29],["T_WHITESPACE","\n  ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$moduleHandler",34],";",["T_WHITESPACE","\n\n  ",34],["T_DOC_COMMENT","\/**\n   * The node type storage.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityStorageInterface\n   *\/",36],["T_WHITESPACE","\n  ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$nodeTypeStorage",41],";",["T_WHITESPACE","\n\n  ",41],["T_DOC_COMMENT","\/**\n   * The typed data validator.\n   *\n   * @var \\Symfony\\Component\\Validator\\Validator\\ValidatorInterface\n   *\/",43],["T_WHITESPACE","\n  ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$validator",48],";",["T_WHITESPACE","\n\n  ",48],["T_DOC_COMMENT","\/**\n   * Constructs a new EditFieldForm.\n   *\n   * @param \\Drupal\\user\\PrivateTempStoreFactory $temp_store_factory\n   *   The tempstore factory.\n   * @param \\Drupal\\Core\\Extension\\ModuleHandlerInterface $module_handler\n   *   The module handler.\n   * @param \\Drupal\\Core\\Entity\\EntityStorageInterface $node_type_storage\n   *   The node type storage.\n   * @param \\Symfony\\Component\\Validator\\Validator\\ValidatorInterface $validator\n   *   The typed data validator service.\n   *\/",50],["T_WHITESPACE","\n  ",61],["T_PUBLIC","public",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","__construct",62],"(",["T_STRING","PrivateTempStoreFactory",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$temp_store_factory",62],",",["T_WHITESPACE"," ",62],["T_STRING","ModuleHandlerInterface",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$module_handler",62],",",["T_WHITESPACE"," ",62],["T_STRING","EntityStorageInterface",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$node_type_storage",62],",",["T_WHITESPACE"," ",62],["T_STRING","ValidatorInterface",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$validator",62],")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","moduleHandler",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$module_handler",63],";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","nodeTypeStorage",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$node_type_storage",64],";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","tempStoreFactory",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$temp_store_factory",65],";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","validator",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$validator",66],";",["T_WHITESPACE","\n  ",66],"}",["T_WHITESPACE","\n\n  ",67],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",69],["T_WHITESPACE","\n  ",71],["T_PUBLIC","public",72],["T_WHITESPACE"," ",72],["T_STATIC","static",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","create",72],"(",["T_STRING","ContainerInterface",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$container",72],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n    ",72],["T_RETURN","return",73],["T_WHITESPACE"," ",73],["T_NEW","new",73],["T_WHITESPACE"," ",73],["T_STATIC","static",73],"(",["T_WHITESPACE","\n      ",73],["T_VARIABLE","$container",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","get",74],"(",["T_CONSTANT_ENCAPSED_STRING","'user.private_tempstore'",74],")",",",["T_WHITESPACE","\n      ",74],["T_VARIABLE","$container",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","get",75],"(",["T_CONSTANT_ENCAPSED_STRING","'module_handler'",75],")",",",["T_WHITESPACE","\n      ",75],["T_VARIABLE","$container",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","get",76],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",76],")",["T_OBJECT_OPERATOR","->",76],["T_STRING","getStorage",76],"(",["T_CONSTANT_ENCAPSED_STRING","'node_type'",76],")",",",["T_WHITESPACE","\n      ",76],["T_VARIABLE","$container",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","get",77],"(",["T_CONSTANT_ENCAPSED_STRING","'typed_data_manager'",77],")",["T_OBJECT_OPERATOR","->",77],["T_STRING","getValidator",77],"(",")",["T_WHITESPACE","\n    ",77],")",";",["T_WHITESPACE","\n  ",78],"}",["T_WHITESPACE","\n\n  ",79],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",81],["T_WHITESPACE","\n  ",83],["T_PUBLIC","public",84],["T_WHITESPACE"," ",84],["T_FUNCTION","function",84],["T_WHITESPACE"," ",84],["T_STRING","getFormId",84],"(",")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n    ",84],["T_RETURN","return",85],["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'quickedit_field_form'",85],";",["T_WHITESPACE","\n  ",85],"}",["T_WHITESPACE","\n\n  ",86],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\n   * Builds a form for a single entity field.\n   *\/",88],["T_WHITESPACE","\n  ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","buildForm",93],"(",["T_ARRAY","array",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$form",93],",",["T_WHITESPACE"," ",93],["T_STRING","FormStateInterface",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$form_state",93],",",["T_WHITESPACE"," ",93],["T_STRING","EntityInterface",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$entity",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","NULL",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$field_name",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","NULL",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n    ",93],["T_IF","if",94],["T_WHITESPACE"," ",94],"(","!",["T_VARIABLE","$form_state",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","has",94],"(",["T_CONSTANT_ENCAPSED_STRING","'entity'",94],")",")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n      ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","init",95],"(",["T_VARIABLE","$form_state",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$entity",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$field_name",95],")",";",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n\n    ",96],["T_COMMENT","\/\/ Add the field form.\n",98],["T_WHITESPACE","    ",99],["T_VARIABLE","$form_state",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","get",99],"(",["T_CONSTANT_ENCAPSED_STRING","'form_display'",99],")",["T_OBJECT_OPERATOR","->",99],["T_STRING","buildForm",99],"(",["T_VARIABLE","$entity",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$form",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$form_state",99],")",";",["T_WHITESPACE","\n\n    ",99],["T_COMMENT","\/\/ Add a dummy changed timestamp field to attach form errors to.\n",101],["T_WHITESPACE","    ",102],["T_IF","if",102],["T_WHITESPACE"," ",102],"(",["T_VARIABLE","$entity",102],["T_WHITESPACE"," ",102],["T_INSTANCEOF","instanceof",102],["T_WHITESPACE"," ",102],["T_STRING","EntityChangedInterface",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n      ",102],["T_VARIABLE","$form",103],"[",["T_CONSTANT_ENCAPSED_STRING","'changed_field'",103],"]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_ARRAY","array",103],"(",["T_WHITESPACE","\n        ",103],["T_CONSTANT_ENCAPSED_STRING","'#type'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'hidden'",104],",",["T_WHITESPACE","\n        ",104],["T_CONSTANT_ENCAPSED_STRING","'#value'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$entity",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getChangedTime",105],"(",")",",",["T_WHITESPACE","\n      ",105],")",";",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n\n    ",107],["T_COMMENT","\/\/ Add a submit button. Give it a class for easy JavaScript targeting.\n",109],["T_WHITESPACE","    ",110],["T_VARIABLE","$form",110],"[",["T_CONSTANT_ENCAPSED_STRING","'actions'",110],"]",["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_ARRAY","array",110],"(",["T_CONSTANT_ENCAPSED_STRING","'#type'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'actions'",110],")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$form",111],"[",["T_CONSTANT_ENCAPSED_STRING","'actions'",111],"]","[",["T_CONSTANT_ENCAPSED_STRING","'submit'",111],"]",["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_ARRAY","array",111],"(",["T_WHITESPACE","\n      ",111],["T_CONSTANT_ENCAPSED_STRING","'#type'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'submit'",112],",",["T_WHITESPACE","\n      ",112],["T_CONSTANT_ENCAPSED_STRING","'#value'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_STRING","t",113],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",113],")",",",["T_WHITESPACE","\n      ",113],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_ARRAY","array",114],"(",["T_CONSTANT_ENCAPSED_STRING","'class'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_ARRAY","array",114],"(",["T_CONSTANT_ENCAPSED_STRING","'quickedit-form-submit'",114],")",")",",",["T_WHITESPACE","\n    ",114],")",";",["T_WHITESPACE","\n\n    ",115],["T_COMMENT","\/\/ Simplify it for optimal in-place use.\n",117],["T_WHITESPACE","    ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","simplify",118],"(",["T_VARIABLE","$form",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$form_state",118],")",";",["T_WHITESPACE","\n\n    ",118],["T_RETURN","return",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$form",120],";",["T_WHITESPACE","\n  ",120],"}",["T_WHITESPACE","\n\n  ",121],["T_DOC_COMMENT","\/**\n   * Initialize the form state and the entity before the first form build.\n   *\/",123],["T_WHITESPACE","\n  ",125],["T_PROTECTED","protected",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","init",126],"(",["T_STRING","FormStateInterface",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$form_state",126],",",["T_WHITESPACE"," ",126],["T_STRING","EntityInterface",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$entity",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$field_name",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n    ",126],["T_COMMENT","\/\/ @todo Rather than special-casing $node->revision, invoke prepareEdit()\n",127],["T_WHITESPACE","    ",128],["T_COMMENT","\/\/   once https:\/\/www.drupal.org\/node\/1863258 lands.\n",128],["T_WHITESPACE","    ",129],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_VARIABLE","$entity",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getEntityTypeId",129],"(",")",["T_WHITESPACE"," ",129],["T_IS_EQUAL","==",129],["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'node'",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n      ",129],["T_VARIABLE","$node_type",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","nodeTypeStorage",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","load",130],"(",["T_VARIABLE","$entity",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","bundle",130],"(",")",")",";",["T_WHITESPACE","\n      ",130],["T_VARIABLE","$entity",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","setNewRevision",131],"(",["T_VARIABLE","$node_type",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","isNewRevision",131],"(",")",")",";",["T_WHITESPACE","\n      ",131],["T_VARIABLE","$entity",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","revision_log",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_STRING","NULL",132],";",["T_WHITESPACE","\n    ",132],"}",["T_WHITESPACE","\n\n    ",133],["T_VARIABLE","$form_state",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","set",135],"(",["T_CONSTANT_ENCAPSED_STRING","'entity'",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$entity",135],")",";",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$form_state",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","set",136],"(",["T_CONSTANT_ENCAPSED_STRING","'field_name'",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$field_name",136],")",";",["T_WHITESPACE","\n\n    ",136],["T_COMMENT","\/\/ Fetch the display used by the form. It is the display for the 'default'\n",138],["T_WHITESPACE","    ",139],["T_COMMENT","\/\/ form mode, with only the current field visible.\n",139],["T_WHITESPACE","    ",140],["T_VARIABLE","$display",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_STRING","EntityFormDisplay",140],["T_DOUBLE_COLON","::",140],["T_STRING","collectRenderDisplay",140],"(",["T_VARIABLE","$entity",140],",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'default'",140],")",";",["T_WHITESPACE","\n    ",140],["T_FOREACH","foreach",141],["T_WHITESPACE"," ",141],"(",["T_VARIABLE","$display",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getComponents",141],"(",")",["T_WHITESPACE"," ",141],["T_AS","as",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$name",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$options",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n      ",141],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$name",142],["T_WHITESPACE"," ",142],["T_IS_NOT_EQUAL","!=",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$field_name",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$display",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","removeComponent",143],"(",["T_VARIABLE","$name",143],")",";",["T_WHITESPACE","\n      ",143],"}",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n    ",145],["T_VARIABLE","$form_state",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","set",146],"(",["T_CONSTANT_ENCAPSED_STRING","'form_display'",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$display",146],")",";",["T_WHITESPACE","\n  ",146],"}",["T_WHITESPACE","\n\n  ",147],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",149],["T_WHITESPACE","\n  ",151],["T_PUBLIC","public",152],["T_WHITESPACE"," ",152],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","validateForm",152],"(",["T_ARRAY","array",152],["T_WHITESPACE"," ",152],"&",["T_VARIABLE","$form",152],",",["T_WHITESPACE"," ",152],["T_STRING","FormStateInterface",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$form_state",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n    ",152],["T_VARIABLE","$entity",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","buildEntity",153],"(",["T_VARIABLE","$form",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$form_state",153],")",";",["T_WHITESPACE","\n    ",153],["T_VARIABLE","$form_state",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","get",154],"(",["T_CONSTANT_ENCAPSED_STRING","'form_display'",154],")",["T_OBJECT_OPERATOR","->",154],["T_STRING","validateFormValues",154],"(",["T_VARIABLE","$entity",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$form",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$form_state",154],")",";",["T_WHITESPACE","\n  ",154],"}",["T_WHITESPACE","\n\n  ",155],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\n   * Saves the entity with updated values for the edited field.\n   *\/",157],["T_WHITESPACE","\n  ",161],["T_PUBLIC","public",162],["T_WHITESPACE"," ",162],["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],["T_STRING","submitForm",162],"(",["T_ARRAY","array",162],["T_WHITESPACE"," ",162],"&",["T_VARIABLE","$form",162],",",["T_WHITESPACE"," ",162],["T_STRING","FormStateInterface",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$form_state",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n    ",162],["T_VARIABLE","$entity",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","buildEntity",163],"(",["T_VARIABLE","$form",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$form_state",163],")",";",["T_WHITESPACE","\n    ",163],["T_VARIABLE","$form_state",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","set",164],"(",["T_CONSTANT_ENCAPSED_STRING","'entity'",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$entity",164],")",";",["T_WHITESPACE","\n\n    ",164],["T_COMMENT","\/\/ Store entity in tempstore with its UUID as tempstore key.\n",166],["T_WHITESPACE","    ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","tempStoreFactory",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","get",167],"(",["T_CONSTANT_ENCAPSED_STRING","'quickedit'",167],")",["T_OBJECT_OPERATOR","->",167],["T_STRING","set",167],"(",["T_VARIABLE","$entity",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","uuid",167],"(",")",",",["T_WHITESPACE"," ",167],["T_VARIABLE","$entity",167],")",";",["T_WHITESPACE","\n  ",167],"}",["T_WHITESPACE","\n\n  ",168],["T_DOC_COMMENT","\/**\n   * Returns a cloned entity containing updated field values.\n   *\n   * Calling code may then validate the returned entity, and if valid, transfer\n   * it back to the form state and save it.\n   *\/",170],["T_WHITESPACE","\n  ",175],["T_PROTECTED","protected",176],["T_WHITESPACE"," ",176],["T_FUNCTION","function",176],["T_WHITESPACE"," ",176],["T_STRING","buildEntity",176],"(",["T_ARRAY","array",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$form",176],",",["T_WHITESPACE"," ",176],["T_STRING","FormStateInterface",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$form_state",176],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n    ",176],["T_DOC_COMMENT","\/** @var $entity \\Drupal\\Core\\Entity\\EntityInterface *\/",177],["T_WHITESPACE","\n    ",177],["T_VARIABLE","$entity",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_CLONE","clone",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$form_state",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","get",178],"(",["T_CONSTANT_ENCAPSED_STRING","'entity'",178],")",";",["T_WHITESPACE","\n    ",178],["T_VARIABLE","$field_name",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$form_state",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","get",179],"(",["T_CONSTANT_ENCAPSED_STRING","'field_name'",179],")",";",["T_WHITESPACE","\n\n    ",179],["T_VARIABLE","$form_state",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","get",181],"(",["T_CONSTANT_ENCAPSED_STRING","'form_display'",181],")",["T_OBJECT_OPERATOR","->",181],["T_STRING","extractFormValues",181],"(",["T_VARIABLE","$entity",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$form",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$form_state",181],")",";",["T_WHITESPACE","\n\n    ",181],["T_COMMENT","\/\/ @todo Refine automated log messages and abstract them to all entity\n",183],["T_WHITESPACE","    ",184],["T_COMMENT","\/\/   types: https:\/\/www.drupal.org\/node\/1678002.\n",184],["T_WHITESPACE","    ",185],["T_IF","if",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$entity",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getEntityTypeId",185],"(",")",["T_WHITESPACE"," ",185],["T_IS_EQUAL","==",185],["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'node'",185],["T_WHITESPACE"," ",185],["T_BOOLEAN_AND","&&",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$entity",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","isNewRevision",185],"(",")",["T_WHITESPACE"," ",185],["T_BOOLEAN_AND","&&",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$entity",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","revision_log",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","isEmpty",185],"(",")",")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n      ",185],["T_VARIABLE","$entity",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","revision_log",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_STRING","t",186],"(",["T_CONSTANT_ENCAPSED_STRING","'Updated the %field-name field through in-place editing.'",186],",",["T_WHITESPACE"," ",186],["T_ARRAY","array",186],"(",["T_CONSTANT_ENCAPSED_STRING","'%field-name'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$entity",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","get",186],"(",["T_VARIABLE","$field_name",186],")",["T_OBJECT_OPERATOR","->",186],["T_STRING","getFieldDefinition",186],"(",")",["T_OBJECT_OPERATOR","->",186],["T_STRING","getLabel",186],"(",")",")",")",";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n\n    ",187],["T_RETURN","return",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$entity",189],";",["T_WHITESPACE","\n  ",189],"}",["T_WHITESPACE","\n\n  ",190],["T_DOC_COMMENT","\/**\n   * Simplifies the field edit form for in-place editing.\n   *\n   * This function:\n   * - Hides the field label inside the form, because JavaScript displays it\n   *   outside the form.\n   * - Adjusts textarea elements to fit their content.\n   *\n   * @param array &$form\n   *   A reference to an associative array containing the structure of the form.\n   * @param \\Drupal\\Core\\Form\\FormStateInterface $form_state\n   *   The current state of the form.\n   *\/",192],["T_WHITESPACE","\n  ",204],["T_PROTECTED","protected",205],["T_WHITESPACE"," ",205],["T_FUNCTION","function",205],["T_WHITESPACE"," ",205],["T_STRING","simplify",205],"(",["T_ARRAY","array",205],["T_WHITESPACE"," ",205],"&",["T_VARIABLE","$form",205],",",["T_WHITESPACE"," ",205],["T_STRING","FormStateInterface",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$form_state",205],")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n    ",205],["T_VARIABLE","$field_name",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$form_state",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","get",206],"(",["T_CONSTANT_ENCAPSED_STRING","'field_name'",206],")",";",["T_WHITESPACE","\n    ",206],["T_VARIABLE","$widget_element",207],["T_WHITESPACE"," ",207],"=","&",["T_WHITESPACE"," ",207],["T_VARIABLE","$form",207],"[",["T_VARIABLE","$field_name",207],"]","[",["T_CONSTANT_ENCAPSED_STRING","'widget'",207],"]",";",["T_WHITESPACE","\n\n    ",207],["T_COMMENT","\/\/ Hide the field label from displaying within the form, because JavaScript\n",209],["T_WHITESPACE","    ",210],["T_COMMENT","\/\/ displays the equivalent label that was provided within an HTML data\n",210],["T_WHITESPACE","    ",211],["T_COMMENT","\/\/ attribute of the field's display element outside of the form. Do this for\n",211],["T_WHITESPACE","    ",212],["T_COMMENT","\/\/ widgets without child elements (like Option widgets) as well as for ones\n",212],["T_WHITESPACE","    ",213],["T_COMMENT","\/\/ with per-delta elements. Skip single checkboxes, because their title is\n",213],["T_WHITESPACE","    ",214],["T_COMMENT","\/\/ key to their UI. Also skip widgets with multiple subelements, because in\n",214],["T_WHITESPACE","    ",215],["T_COMMENT","\/\/ that case, per-element labeling is informative.\n",215],["T_WHITESPACE","    ",216],["T_VARIABLE","$num_children",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_STRING","count",216],"(",["T_STRING","Element",216],["T_DOUBLE_COLON","::",216],["T_STRING","children",216],"(",["T_VARIABLE","$widget_element",216],")",")",";",["T_WHITESPACE","\n    ",216],["T_IF","if",217],["T_WHITESPACE"," ",217],"(",["T_VARIABLE","$num_children",217],["T_WHITESPACE"," ",217],["T_IS_EQUAL","==",217],["T_WHITESPACE"," ",217],["T_LNUMBER","0",217],["T_WHITESPACE"," ",217],["T_BOOLEAN_AND","&&",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$widget_element",217],"[",["T_CONSTANT_ENCAPSED_STRING","'#type'",217],"]",["T_WHITESPACE"," ",217],["T_IS_NOT_EQUAL","!=",217],["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'checkbox'",217],")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n      ",217],["T_VARIABLE","$widget_element",218],"[",["T_CONSTANT_ENCAPSED_STRING","'#title_display'",218],"]",["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'invisible'",218],";",["T_WHITESPACE","\n    ",218],"}",["T_WHITESPACE","\n    ",219],["T_IF","if",220],["T_WHITESPACE"," ",220],"(",["T_VARIABLE","$num_children",220],["T_WHITESPACE"," ",220],["T_IS_EQUAL","==",220],["T_WHITESPACE"," ",220],["T_LNUMBER","1",220],["T_WHITESPACE"," ",220],["T_BOOLEAN_AND","&&",220],["T_WHITESPACE"," ",220],["T_ISSET","isset",220],"(",["T_VARIABLE","$widget_element",220],"[",["T_LNUMBER","0",220],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",220],"]",")",")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n      ",220],["T_COMMENT","\/\/ @todo While most widgets name their primary element 'value', not all\n",221],["T_WHITESPACE","      ",222],["T_COMMENT","\/\/   do, so generalize this.\n",222],["T_WHITESPACE","      ",223],["T_VARIABLE","$widget_element",223],"[",["T_LNUMBER","0",223],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",223],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#title_display'",223],"]",["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'invisible'",223],";",["T_WHITESPACE","\n    ",223],"}",["T_WHITESPACE","\n\n    ",224],["T_COMMENT","\/\/ Adjust textarea elements to fit their content.\n",226],["T_WHITESPACE","    ",227],["T_IF","if",227],["T_WHITESPACE"," ",227],"(",["T_ISSET","isset",227],"(",["T_VARIABLE","$widget_element",227],"[",["T_LNUMBER","0",227],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",227],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#type'",227],"]",")",["T_WHITESPACE"," ",227],["T_BOOLEAN_AND","&&",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$widget_element",227],"[",["T_LNUMBER","0",227],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",227],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#type'",227],"]",["T_WHITESPACE"," ",227],["T_IS_EQUAL","==",227],["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","'textarea'",227],")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n      ",227],["T_VARIABLE","$lines",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_STRING","count",228],"(",["T_STRING","explode",228],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",228],",",["T_WHITESPACE"," ",228],["T_VARIABLE","$widget_element",228],"[",["T_LNUMBER","0",228],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",228],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",228],"]",")",")",";",["T_WHITESPACE","\n      ",228],["T_VARIABLE","$widget_element",229],"[",["T_LNUMBER","0",229],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",229],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#rows'",229],"]",["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$lines",229],["T_WHITESPACE"," ",229],"+",["T_WHITESPACE"," ",229],["T_LNUMBER","1",229],";",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n  ",230],"}",["T_WHITESPACE","\n\n",231],"}",["T_WHITESPACE","\n",233]]