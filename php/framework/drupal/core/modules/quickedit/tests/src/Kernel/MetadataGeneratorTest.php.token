[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","quickedit",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Kernel",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","entity_test",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","EntityTest",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","quickedit",6],["T_NS_SEPARATOR","\\",6],["T_STRING","EditorSelector",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","quickedit",7],["T_NS_SEPARATOR","\\",7],["T_STRING","MetadataGenerator",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","quickedit_test",8],["T_NS_SEPARATOR","\\",8],["T_STRING","MockEditEntityFieldAccessCheck",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","filter",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","FilterFormat",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Tests in-place field editing metadata.\n *\n * @group quickedit\n *\/",11],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","MetadataGeneratorTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","QuickEditTestBase",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",18],["T_WHITESPACE","\n  ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_STATIC","static",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$modules",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_ARRAY","array",21],"(",["T_CONSTANT_ENCAPSED_STRING","'quickedit_test'",21],")",";",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * The manager for editor plugins.\n   *\n   * @var \\Drupal\\Component\\Plugin\\PluginManagerInterface\n   *\/",23],["T_WHITESPACE","\n  ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$editorManager",28],";",["T_WHITESPACE","\n\n  ",28],["T_DOC_COMMENT","\/**\n   * The metadata generator object to be tested.\n   *\n   * @var \\Drupal\\quickedit\\MetadataGeneratorInterface.php\n   *\/",30],["T_WHITESPACE","\n  ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$metadataGenerator",35],";",["T_WHITESPACE","\n\n  ",35],["T_DOC_COMMENT","\/**\n   * The editor selector object to be used by the metadata generator object.\n   *\n   * @var \\Drupal\\quickedit\\EditorSelectorInterface\n   *\/",37],["T_WHITESPACE","\n  ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$editorSelector",42],";",["T_WHITESPACE","\n\n  ",42],["T_DOC_COMMENT","\/**\n   * The access checker object to be used by the metadata generator object.\n   *\n   * @var \\Drupal\\quickedit\\Access\\EditEntityFieldAccessCheckInterface\n   *\/",44],["T_WHITESPACE","\n  ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$accessChecker",49],";",["T_WHITESPACE","\n\n  ",49],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","setUp",51],"(",")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n    ",51],["T_STRING","parent",52],["T_DOUBLE_COLON","::",52],["T_STRING","setUp",52],"(",")",";",["T_WHITESPACE","\n\n    ",52],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","editorManager",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","container",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","get",54],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.quickedit.editor'",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","accessChecker",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_NEW","new",55],["T_WHITESPACE"," ",55],["T_STRING","MockEditEntityFieldAccessCheck",55],"(",")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","editorSelector",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_NEW","new",56],["T_WHITESPACE"," ",56],["T_STRING","EditorSelector",56],"(",["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","editorManager",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","container",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","get",56],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.field.formatter'",56],")",")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","metadataGenerator",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_NEW","new",57],["T_WHITESPACE"," ",57],["T_STRING","MetadataGenerator",57],"(",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","accessChecker",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","editorSelector",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","editorManager",57],")",";",["T_WHITESPACE","\n  ",57],"}",["T_WHITESPACE","\n\n  ",58],["T_DOC_COMMENT","\/**\n   * Tests a simple entity type, with two different simple fields.\n   *\/",60],["T_WHITESPACE","\n  ",62],["T_PUBLIC","public",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","testSimpleEntityType",63],"(",")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$field_1_name",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'field_text'",64],";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$field_1_label",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'Plain text field'",65],";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","createFieldWithStorage",66],"(",["T_WHITESPACE","\n      ",66],["T_VARIABLE","$field_1_name",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'string'",67],",",["T_WHITESPACE"," ",67],["T_LNUMBER","1",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$field_1_label",67],",",["T_WHITESPACE","\n      ",67],["T_COMMENT","\/\/ Instance settings.\n",68],["T_WHITESPACE","      ",69],["T_ARRAY","array",69],"(",")",",",["T_WHITESPACE","\n      ",69],["T_COMMENT","\/\/ Widget type & settings.\n",70],["T_WHITESPACE","      ",71],["T_CONSTANT_ENCAPSED_STRING","'string_textfield'",71],",",["T_WHITESPACE","\n      ",71],["T_ARRAY","array",72],"(",["T_CONSTANT_ENCAPSED_STRING","'size'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_LNUMBER","42",72],")",",",["T_WHITESPACE","\n      ",72],["T_COMMENT","\/\/ 'default' formatter type & settings.\n",73],["T_WHITESPACE","      ",74],["T_CONSTANT_ENCAPSED_STRING","'string'",74],",",["T_WHITESPACE","\n      ",74],["T_ARRAY","array",75],"(",")",["T_WHITESPACE","\n    ",75],")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$field_2_name",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'field_nr'",77],";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$field_2_label",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'Simple number field'",78],";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","createFieldWithStorage",79],"(",["T_WHITESPACE","\n      ",79],["T_VARIABLE","$field_2_name",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'integer'",80],",",["T_WHITESPACE"," ",80],["T_LNUMBER","1",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$field_2_label",80],",",["T_WHITESPACE","\n      ",80],["T_COMMENT","\/\/ Instance settings.\n",81],["T_WHITESPACE","      ",82],["T_ARRAY","array",82],"(",")",",",["T_WHITESPACE","\n      ",82],["T_COMMENT","\/\/ Widget type & settings.\n",83],["T_WHITESPACE","      ",84],["T_CONSTANT_ENCAPSED_STRING","'number'",84],",",["T_WHITESPACE","\n      ",84],["T_ARRAY","array",85],"(",")",",",["T_WHITESPACE","\n      ",85],["T_COMMENT","\/\/ 'default' formatter type & settings.\n",86],["T_WHITESPACE","      ",87],["T_CONSTANT_ENCAPSED_STRING","'number_integer'",87],",",["T_WHITESPACE","\n      ",87],["T_ARRAY","array",88],"(",")",["T_WHITESPACE","\n    ",88],")",";",["T_WHITESPACE","\n\n    ",89],["T_COMMENT","\/\/ Create an entity with values for this text field.\n",91],["T_WHITESPACE","    ",92],["T_VARIABLE","$entity",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_STRING","EntityTest",92],["T_DOUBLE_COLON","::",92],["T_STRING","create",92],"(",")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$entity",93],["T_OBJECT_OPERATOR","->",93],"{",["T_VARIABLE","$field_1_name",93],"}",["T_OBJECT_OPERATOR","->",93],["T_STRING","value",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'Test'",93],";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$entity",94],["T_OBJECT_OPERATOR","->",94],"{",["T_VARIABLE","$field_2_name",94],"}",["T_OBJECT_OPERATOR","->",94],["T_STRING","value",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_LNUMBER","42",94],";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$entity",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","save",95],"(",")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$entity",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_STRING","EntityTest",96],["T_DOUBLE_COLON","::",96],["T_STRING","load",96],"(",["T_VARIABLE","$entity",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","id",96],"(",")",")",";",["T_WHITESPACE","\n\n    ",96],["T_COMMENT","\/\/ Verify metadata for field 1.\n",98],["T_WHITESPACE","    ",99],["T_VARIABLE","$items_1",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$entity",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","get",99],"(",["T_VARIABLE","$field_1_name",99],")",";",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$metadata_1",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","metadataGenerator",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","generateFieldMetadata",100],"(",["T_VARIABLE","$items_1",100],",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'default'",100],")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$expected_1",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_ARRAY","array",101],"(",["T_WHITESPACE","\n      ",101],["T_CONSTANT_ENCAPSED_STRING","'access'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_STRING","TRUE",102],",",["T_WHITESPACE","\n      ",102],["T_CONSTANT_ENCAPSED_STRING","'label'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'Plain text field'",103],",",["T_WHITESPACE","\n      ",103],["T_CONSTANT_ENCAPSED_STRING","'editor'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'plain_text'",104],",",["T_WHITESPACE","\n    ",104],")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertEqual",106],"(",["T_VARIABLE","$expected_1",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$metadata_1",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'The correct metadata is generated for the first field.'",106],")",";",["T_WHITESPACE","\n\n    ",106],["T_COMMENT","\/\/ Verify metadata for field 2.\n",108],["T_WHITESPACE","    ",109],["T_VARIABLE","$items_2",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$entity",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","get",109],"(",["T_VARIABLE","$field_2_name",109],")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$metadata_2",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","metadataGenerator",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","generateFieldMetadata",110],"(",["T_VARIABLE","$items_2",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'default'",110],")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$expected_2",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_ARRAY","array",111],"(",["T_WHITESPACE","\n      ",111],["T_CONSTANT_ENCAPSED_STRING","'access'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_STRING","TRUE",112],",",["T_WHITESPACE","\n      ",112],["T_CONSTANT_ENCAPSED_STRING","'label'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'Simple number field'",113],",",["T_WHITESPACE","\n      ",113],["T_CONSTANT_ENCAPSED_STRING","'editor'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'form'",114],",",["T_WHITESPACE","\n    ",114],")",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","assertEqual",116],"(",["T_VARIABLE","$expected_2",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$metadata_2",116],",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'The correct metadata is generated for the second field.'",116],")",";",["T_WHITESPACE","\n  ",116],"}",["T_WHITESPACE","\n\n  ",117],["T_DOC_COMMENT","\/**\n   * Tests a field whose associated in-place editor generates custom metadata.\n   *\/",119],["T_WHITESPACE","\n  ",121],["T_PUBLIC","public",122],["T_WHITESPACE"," ",122],["T_FUNCTION","function",122],["T_WHITESPACE"," ",122],["T_STRING","testEditorWithCustomMetadata",122],"(",")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","editorManager",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","container",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","get",123],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.quickedit.editor'",123],")",";",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","editorSelector",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_NEW","new",124],["T_WHITESPACE"," ",124],["T_STRING","EditorSelector",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","editorManager",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","container",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","get",124],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.field.formatter'",124],")",")",";",["T_WHITESPACE","\n    ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","metadataGenerator",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_NEW","new",125],["T_WHITESPACE"," ",125],["T_STRING","MetadataGenerator",125],"(",["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","accessChecker",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","editorSelector",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","editorManager",125],")",";",["T_WHITESPACE","\n\n    ",125],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","editorManager",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","container",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","get",127],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.quickedit.editor'",127],")",";",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","editorSelector",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_NEW","new",128],["T_WHITESPACE"," ",128],["T_STRING","EditorSelector",128],"(",["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","editorManager",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","container",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","get",128],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.field.formatter'",128],")",")",";",["T_WHITESPACE","\n    ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","metadataGenerator",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_NEW","new",129],["T_WHITESPACE"," ",129],["T_STRING","MetadataGenerator",129],"(",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","accessChecker",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","editorSelector",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","editorManager",129],")",";",["T_WHITESPACE","\n\n    ",129],["T_COMMENT","\/\/ Create a rich text field.\n",131],["T_WHITESPACE","    ",132],["T_VARIABLE","$field_name",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'field_rich'",132],";",["T_WHITESPACE","\n    ",132],["T_VARIABLE","$field_label",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'Rich text field'",133],";",["T_WHITESPACE","\n    ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","createFieldWithStorage",134],"(",["T_WHITESPACE","\n      ",134],["T_VARIABLE","$field_name",135],",",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'text'",135],",",["T_WHITESPACE"," ",135],["T_LNUMBER","1",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$field_label",135],",",["T_WHITESPACE","\n      ",135],["T_COMMENT","\/\/ Instance settings.\n",136],["T_WHITESPACE","      ",137],["T_ARRAY","array",137],"(",")",",",["T_WHITESPACE","\n      ",137],["T_COMMENT","\/\/ Widget type & settings.\n",138],["T_WHITESPACE","      ",139],["T_CONSTANT_ENCAPSED_STRING","'text_textfield'",139],",",["T_WHITESPACE","\n      ",139],["T_ARRAY","array",140],"(",["T_CONSTANT_ENCAPSED_STRING","'size'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_LNUMBER","42",140],")",",",["T_WHITESPACE","\n      ",140],["T_COMMENT","\/\/ 'default' formatter type & settings.\n",141],["T_WHITESPACE","      ",142],["T_CONSTANT_ENCAPSED_STRING","'text_default'",142],",",["T_WHITESPACE","\n      ",142],["T_ARRAY","array",143],"(",")",["T_WHITESPACE","\n    ",143],")",";",["T_WHITESPACE","\n\n    ",144],["T_COMMENT","\/\/ Create a text format.\n",146],["T_WHITESPACE","    ",147],["T_VARIABLE","$full_html_format",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","FilterFormat",147],["T_DOUBLE_COLON","::",147],["T_STRING","create",147],"(",["T_ARRAY","array",147],"(",["T_WHITESPACE","\n      ",147],["T_CONSTANT_ENCAPSED_STRING","'format'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'full_html'",148],",",["T_WHITESPACE","\n      ",148],["T_CONSTANT_ENCAPSED_STRING","'name'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'Full HTML'",149],",",["T_WHITESPACE","\n      ",149],["T_CONSTANT_ENCAPSED_STRING","'weight'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_LNUMBER","1",150],",",["T_WHITESPACE","\n      ",150],["T_CONSTANT_ENCAPSED_STRING","'filters'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_ARRAY","array",151],"(",["T_WHITESPACE","\n        ",151],["T_CONSTANT_ENCAPSED_STRING","'filter_htmlcorrector'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_ARRAY","array",152],"(",["T_CONSTANT_ENCAPSED_STRING","'status'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_LNUMBER","1",152],")",",",["T_WHITESPACE","\n      ",152],")",",",["T_WHITESPACE","\n    ",153],")",")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$full_html_format",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","save",155],"(",")",";",["T_WHITESPACE","\n\n    ",155],["T_COMMENT","\/\/ Create an entity with values for this rich text field.\n",157],["T_WHITESPACE","    ",158],["T_VARIABLE","$entity",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_STRING","EntityTest",158],["T_DOUBLE_COLON","::",158],["T_STRING","create",158],"(",")",";",["T_WHITESPACE","\n    ",158],["T_VARIABLE","$entity",159],["T_OBJECT_OPERATOR","->",159],"{",["T_VARIABLE","$field_name",159],"}",["T_OBJECT_OPERATOR","->",159],["T_STRING","value",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'Test'",159],";",["T_WHITESPACE","\n    ",159],["T_VARIABLE","$entity",160],["T_OBJECT_OPERATOR","->",160],"{",["T_VARIABLE","$field_name",160],"}",["T_OBJECT_OPERATOR","->",160],["T_STRING","format",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'full_html'",160],";",["T_WHITESPACE","\n    ",160],["T_VARIABLE","$entity",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","save",161],"(",")",";",["T_WHITESPACE","\n    ",161],["T_VARIABLE","$entity",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_STRING","EntityTest",162],["T_DOUBLE_COLON","::",162],["T_STRING","load",162],"(",["T_VARIABLE","$entity",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","id",162],"(",")",")",";",["T_WHITESPACE","\n\n    ",162],["T_COMMENT","\/\/ Verify metadata.\n",164],["T_WHITESPACE","    ",165],["T_VARIABLE","$items",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$entity",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","get",165],"(",["T_VARIABLE","$field_name",165],")",";",["T_WHITESPACE","\n    ",165],["T_VARIABLE","$metadata",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","metadataGenerator",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","generateFieldMetadata",166],"(",["T_VARIABLE","$items",166],",",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'default'",166],")",";",["T_WHITESPACE","\n    ",166],["T_VARIABLE","$expected",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_ARRAY","array",167],"(",["T_WHITESPACE","\n      ",167],["T_CONSTANT_ENCAPSED_STRING","'access'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_STRING","TRUE",168],",",["T_WHITESPACE","\n      ",168],["T_CONSTANT_ENCAPSED_STRING","'label'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'Rich text field'",169],",",["T_WHITESPACE","\n      ",169],["T_CONSTANT_ENCAPSED_STRING","'editor'",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'wysiwyg'",170],",",["T_WHITESPACE","\n      ",170],["T_CONSTANT_ENCAPSED_STRING","'custom'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_ARRAY","array",171],"(",["T_WHITESPACE","\n        ",171],["T_CONSTANT_ENCAPSED_STRING","'format'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'full_html'",172],["T_WHITESPACE","\n      ",172],")",",",["T_WHITESPACE","\n    ",173],")",";",["T_WHITESPACE","\n    ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","assertEqual",175],"(",["T_VARIABLE","$expected",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$metadata",175],")",";",["T_WHITESPACE"," ",175],["T_COMMENT","\/\/, 'The correct metadata (including custom metadata) is generated.');\n",175],["T_WHITESPACE","  ",176],"}",["T_WHITESPACE","\n\n",176],"}",["T_WHITESPACE","\n",178]]