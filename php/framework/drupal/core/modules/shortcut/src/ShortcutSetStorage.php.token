[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","shortcut",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Uuid",5],["T_NS_SEPARATOR","\\",5],["T_STRING","UuidInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Config",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ConfigFactoryInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Config",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","ConfigEntityStorage",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","EntityTypeInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Extension",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ModuleHandlerInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Language",10],["T_NS_SEPARATOR","\\",10],["T_STRING","LanguageManagerInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Session",11],["T_NS_SEPARATOR","\\",11],["T_STRING","AccountInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","DependencyInjection",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ContainerInterface",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Defines a storage for shortcut_set entities.\n *\/",14],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","ShortcutSetStorage",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_STRING","ConfigEntityStorage",17],["T_WHITESPACE"," ",17],["T_IMPLEMENTS","implements",17],["T_WHITESPACE"," ",17],["T_STRING","ShortcutSetStorageInterface",17],["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * The module handler.\n   *\n   * @var \\Drupal\\Core\\Extension\\ModuleHandlerInterface\n   *\/",19],["T_WHITESPACE","\n  ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$moduleHandler",24],";",["T_WHITESPACE","\n\n  ",24],["T_DOC_COMMENT","\/**\n   * Constructs a ShortcutSetStorageController object.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityTypeInterface $entity_info\n   *   The entity info for the entity type.\n   * @param \\Drupal\\Core\\Config\\ConfigFactoryInterface $config_factory\n   *   The config factory service.\n   * @param \\Drupal\\Component\\Uuid\\UuidInterface $uuid_service\n   *   The UUID service.\n   * @param \\Drupal\\Core\\Extension\\ModuleHandlerInterface $module_handler\n   *   The module handler.\n   * @param \\Drupal\\Core\\Language\\LanguageManagerInterface $language_manager\n   *   The language manager.\n   *\/",26],["T_WHITESPACE","\n  ",39],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","__construct",40],"(",["T_STRING","EntityTypeInterface",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$entity_info",40],",",["T_WHITESPACE"," ",40],["T_STRING","ConfigFactoryInterface",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$config_factory",40],",",["T_WHITESPACE"," ",40],["T_STRING","UuidInterface",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$uuid_service",40],",",["T_WHITESPACE"," ",40],["T_STRING","ModuleHandlerInterface",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$module_handler",40],",",["T_WHITESPACE"," ",40],["T_STRING","LanguageManagerInterface",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$language_manager",40],")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n    ",40],["T_STRING","parent",41],["T_DOUBLE_COLON","::",41],["T_STRING","__construct",41],"(",["T_VARIABLE","$entity_info",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$config_factory",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$uuid_service",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$language_manager",41],")",";",["T_WHITESPACE","\n\n    ",41],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","moduleHandler",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$module_handler",43],";",["T_WHITESPACE","\n  ",43],"}",["T_WHITESPACE","\n\n  ",44],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",46],["T_WHITESPACE","\n  ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_STATIC","static",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","createInstance",49],"(",["T_STRING","ContainerInterface",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$container",49],",",["T_WHITESPACE"," ",49],["T_STRING","EntityTypeInterface",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$entity_info",49],")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n    ",49],["T_RETURN","return",50],["T_WHITESPACE"," ",50],["T_NEW","new",50],["T_WHITESPACE"," ",50],["T_STATIC","static",50],"(",["T_WHITESPACE","\n      ",50],["T_VARIABLE","$entity_info",51],",",["T_WHITESPACE","\n      ",51],["T_VARIABLE","$container",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","get",52],"(",["T_CONSTANT_ENCAPSED_STRING","'config.factory'",52],")",",",["T_WHITESPACE","\n      ",52],["T_VARIABLE","$container",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","get",53],"(",["T_CONSTANT_ENCAPSED_STRING","'uuid'",53],")",",",["T_WHITESPACE","\n      ",53],["T_VARIABLE","$container",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","get",54],"(",["T_CONSTANT_ENCAPSED_STRING","'module_handler'",54],")",",",["T_WHITESPACE","\n      ",54],["T_VARIABLE","$container",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","get",55],"(",["T_CONSTANT_ENCAPSED_STRING","'language_manager'",55],")",["T_WHITESPACE","\n    ",55],")",";",["T_WHITESPACE","\n  ",56],"}",["T_WHITESPACE","\n\n  ",57],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",59],["T_WHITESPACE","\n  ",61],["T_PUBLIC","public",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","deleteAssignedShortcutSets",62],"(",["T_STRING","ShortcutSetInterface",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$entity",62],")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n    ",62],["T_COMMENT","\/\/ First, delete any user assignments for this set, so that each of these\n",63],["T_WHITESPACE","    ",64],["T_COMMENT","\/\/ users will go back to using whatever default set applies.\n",64],["T_WHITESPACE","    ",65],["T_STRING","db_delete",65],"(",["T_CONSTANT_ENCAPSED_STRING","'shortcut_set_users'",65],")",["T_WHITESPACE","\n      ",65],["T_OBJECT_OPERATOR","->",66],["T_STRING","condition",66],"(",["T_CONSTANT_ENCAPSED_STRING","'set_name'",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$entity",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","id",66],"(",")",")",["T_WHITESPACE","\n      ",66],["T_OBJECT_OPERATOR","->",67],["T_STRING","execute",67],"(",")",";",["T_WHITESPACE","\n  ",67],"}",["T_WHITESPACE","\n\n  ",68],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",70],["T_WHITESPACE","\n  ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","assignUser",73],"(",["T_STRING","ShortcutSetInterface",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$shortcut_set",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$account",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n    ",73],["T_STRING","db_merge",74],"(",["T_CONSTANT_ENCAPSED_STRING","'shortcut_set_users'",74],")",["T_WHITESPACE","\n      ",74],["T_OBJECT_OPERATOR","->",75],["T_STRING","key",75],"(",["T_CONSTANT_ENCAPSED_STRING","'uid'",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$account",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","id",75],"(",")",")",["T_WHITESPACE","\n      ",75],["T_OBJECT_OPERATOR","->",76],["T_STRING","fields",76],"(",["T_ARRAY","array",76],"(",["T_CONSTANT_ENCAPSED_STRING","'set_name'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$shortcut_set",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","id",76],"(",")",")",")",["T_WHITESPACE","\n      ",76],["T_OBJECT_OPERATOR","->",77],["T_STRING","execute",77],"(",")",";",["T_WHITESPACE","\n    ",77],["T_STRING","drupal_static_reset",78],"(",["T_CONSTANT_ENCAPSED_STRING","'shortcut_current_displayed_set'",78],")",";",["T_WHITESPACE","\n  ",78],"}",["T_WHITESPACE","\n\n  ",79],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",81],["T_WHITESPACE","\n  ",83],["T_PUBLIC","public",84],["T_WHITESPACE"," ",84],["T_FUNCTION","function",84],["T_WHITESPACE"," ",84],["T_STRING","unassignUser",84],"(",["T_VARIABLE","$account",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$deleted",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","db_delete",85],"(",["T_CONSTANT_ENCAPSED_STRING","'shortcut_set_users'",85],")",["T_WHITESPACE","\n      ",85],["T_OBJECT_OPERATOR","->",86],["T_STRING","condition",86],"(",["T_CONSTANT_ENCAPSED_STRING","'uid'",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$account",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","id",86],"(",")",")",["T_WHITESPACE","\n      ",86],["T_OBJECT_OPERATOR","->",87],["T_STRING","execute",87],"(",")",";",["T_WHITESPACE","\n    ",87],["T_RETURN","return",88],["T_WHITESPACE"," ",88],["T_BOOL_CAST","(bool)",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$deleted",88],";",["T_WHITESPACE","\n  ",88],"}",["T_WHITESPACE","\n\n  ",89],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",91],["T_WHITESPACE","\n  ",93],["T_PUBLIC","public",94],["T_WHITESPACE"," ",94],["T_FUNCTION","function",94],["T_WHITESPACE"," ",94],["T_STRING","getAssignedToUser",94],"(",["T_VARIABLE","$account",94],")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$query",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_STRING","db_select",95],"(",["T_CONSTANT_ENCAPSED_STRING","'shortcut_set_users'",95],",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'ssu'",95],")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$query",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","fields",96],"(",["T_CONSTANT_ENCAPSED_STRING","'ssu'",96],",",["T_WHITESPACE"," ",96],["T_ARRAY","array",96],"(",["T_CONSTANT_ENCAPSED_STRING","'set_name'",96],")",")",";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$query",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","condition",97],"(",["T_CONSTANT_ENCAPSED_STRING","'ssu.uid'",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$account",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","id",97],"(",")",")",";",["T_WHITESPACE","\n    ",97],["T_RETURN","return",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$query",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","execute",98],"(",")",["T_OBJECT_OPERATOR","->",98],["T_STRING","fetchField",98],"(",")",";",["T_WHITESPACE","\n  ",98],"}",["T_WHITESPACE","\n\n  ",99],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",101],["T_WHITESPACE","\n  ",103],["T_PUBLIC","public",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","countAssignedUsers",104],"(",["T_STRING","ShortcutSetInterface",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$shortcut_set",104],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n    ",104],["T_RETURN","return",105],["T_WHITESPACE"," ",105],["T_STRING","db_query",105],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT COUNT(*) FROM {shortcut_set_users} WHERE set_name = :name'",105],",",["T_WHITESPACE"," ",105],["T_ARRAY","array",105],"(",["T_CONSTANT_ENCAPSED_STRING","':name'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$shortcut_set",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","id",105],"(",")",")",")",["T_OBJECT_OPERATOR","->",105],["T_STRING","fetchField",105],"(",")",";",["T_WHITESPACE","\n  ",105],"}",["T_WHITESPACE","\n\n  ",106],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",108],["T_WHITESPACE","\n  ",110],["T_PUBLIC","public",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","getDefaultSet",111],"(",["T_STRING","AccountInterface",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$account",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n    ",111],["T_COMMENT","\/\/ Allow modules to return a default shortcut set name. Since we can only\n",112],["T_WHITESPACE","    ",113],["T_COMMENT","\/\/ have one, we allow the last module which returns a valid result to take\n",113],["T_WHITESPACE","    ",114],["T_COMMENT","\/\/ precedence. If no module returns a valid set, fall back on the site-wide\n",114],["T_WHITESPACE","    ",115],["T_COMMENT","\/\/ default, which is the lowest-numbered shortcut set.\n",115],["T_WHITESPACE","    ",116],["T_VARIABLE","$suggestions",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_STRING","array_reverse",116],"(",["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","moduleHandler",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","invokeAll",116],"(",["T_CONSTANT_ENCAPSED_STRING","'shortcut_default_set'",116],",",["T_WHITESPACE"," ",116],["T_ARRAY","array",116],"(",["T_VARIABLE","$account",116],")",")",")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$suggestions",117],"[","]",["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'default'",117],";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$shortcut_set",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","NULL",118],";",["T_WHITESPACE","\n    ",118],["T_FOREACH","foreach",119],["T_WHITESPACE"," ",119],"(",["T_VARIABLE","$suggestions",119],["T_WHITESPACE"," ",119],["T_AS","as",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$name",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n      ",119],["T_IF","if",120],["T_WHITESPACE"," ",120],"(",["T_VARIABLE","$shortcut_set",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","load",120],"(",["T_VARIABLE","$name",120],")",")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n        ",120],["T_BREAK","break",121],";",["T_WHITESPACE","\n      ",121],"}",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n\n    ",123],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$shortcut_set",125],";",["T_WHITESPACE","\n  ",125],"}",["T_WHITESPACE","\n\n",126],"}",["T_WHITESPACE","\n",128]]