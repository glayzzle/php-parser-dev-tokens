[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","big_pipe_test",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","big_pipe",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Render",5],["T_NS_SEPARATOR","\\",5],["T_STRING","BigPipeMarkup",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","big_pipe",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Tests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","BigPipePlaceholderTestCases",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","big_pipe_test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","EventSubscriber",7],["T_NS_SEPARATOR","\\",7],["T_STRING","BigPipeTestSubscriber",7],";",["T_WHITESPACE","\n\n",7],["T_CLASS","class",9],["T_WHITESPACE"," ",9],["T_STRING","BigPipeTestController",9],["T_WHITESPACE"," ",9],"{",["T_WHITESPACE","\n\n  ",9],["T_DOC_COMMENT","\/**\n   * Returns a all BigPipe placeholder test case render arrays.\n   *\n   * @return array\n   *\/",11],["T_WHITESPACE","\n  ",15],["T_PUBLIC","public",16],["T_WHITESPACE"," ",16],["T_FUNCTION","function",16],["T_WHITESPACE"," ",16],["T_STRING","test",16],"(",")",["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n    ",16],["T_VARIABLE","$build",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],"[","]",";",["T_WHITESPACE","\n\n    ",17],["T_VARIABLE","$cases",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_STRING","BigPipePlaceholderTestCases",19],["T_DOUBLE_COLON","::",19],["T_STRING","cases",19],"(",["T_NS_SEPARATOR","\\",19],["T_STRING","Drupal",19],["T_DOUBLE_COLON","::",19],["T_STRING","getContainer",19],"(",")",")",";",["T_WHITESPACE","\n\n    ",19],["T_COMMENT","\/\/ 1. HTML placeholder: status messages. Drupal renders those automatically,\n",21],["T_WHITESPACE","    ",22],["T_COMMENT","\/\/ so all that we need to do in this controller is set a message.\n",22],["T_WHITESPACE","    ",23],["T_STRING","drupal_set_message",23],"(",["T_CONSTANT_ENCAPSED_STRING","'Hello from BigPipe!'",23],")",";",["T_WHITESPACE","\n    ",23],["T_VARIABLE","$build",24],"[",["T_CONSTANT_ENCAPSED_STRING","'html'",24],"]",["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_VARIABLE","$cases",24],"[",["T_CONSTANT_ENCAPSED_STRING","'html'",24],"]",["T_OBJECT_OPERATOR","->",24],["T_STRING","renderArray",24],";",["T_WHITESPACE","\n\n    ",24],["T_COMMENT","\/\/ 2. HTML attribute value placeholder: form action.\n",26],["T_WHITESPACE","    ",27],["T_VARIABLE","$build",27],"[",["T_CONSTANT_ENCAPSED_STRING","'html_attribute_value'",27],"]",["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$cases",27],"[",["T_CONSTANT_ENCAPSED_STRING","'html_attribute_value'",27],"]",["T_OBJECT_OPERATOR","->",27],["T_STRING","renderArray",27],";",["T_WHITESPACE","\n\n    ",27],["T_COMMENT","\/\/ 3. HTML attribute value subset placeholder: CSRF token in link.\n",29],["T_WHITESPACE","    ",30],["T_VARIABLE","$build",30],"[",["T_CONSTANT_ENCAPSED_STRING","'html_attribute_value_subset'",30],"]",["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_VARIABLE","$cases",30],"[",["T_CONSTANT_ENCAPSED_STRING","'html_attribute_value_subset'",30],"]",["T_OBJECT_OPERATOR","->",30],["T_STRING","renderArray",30],";",["T_WHITESPACE","\n\n    ",30],["T_COMMENT","\/\/ 4. Edge case: custom string to be considered as a placeholder that\n",32],["T_WHITESPACE","    ",33],["T_COMMENT","\/\/ happens to not be valid HTML.\n",33],["T_WHITESPACE","    ",34],["T_VARIABLE","$build",34],"[",["T_CONSTANT_ENCAPSED_STRING","'edge_case__invalid_html'",34],"]",["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$cases",34],"[",["T_CONSTANT_ENCAPSED_STRING","'edge_case__invalid_html'",34],"]",["T_OBJECT_OPERATOR","->",34],["T_STRING","renderArray",34],";",["T_WHITESPACE","\n\n    ",34],["T_COMMENT","\/\/ 5. Edge case: non-#lazy_builder placeholder.\n",36],["T_WHITESPACE","    ",37],["T_VARIABLE","$build",37],"[",["T_CONSTANT_ENCAPSED_STRING","'edge_case__html_non_lazy_builder'",37],"]",["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$cases",37],"[",["T_CONSTANT_ENCAPSED_STRING","'edge_case__html_non_lazy_builder'",37],"]",["T_OBJECT_OPERATOR","->",37],["T_STRING","renderArray",37],";",["T_WHITESPACE","\n\n    ",37],["T_COMMENT","\/\/ 6. Exception: #lazy_builder that throws an exception.\n",39],["T_WHITESPACE","    ",40],["T_VARIABLE","$build",40],"[",["T_CONSTANT_ENCAPSED_STRING","'exception__lazy_builder'",40],"]",["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$cases",40],"[",["T_CONSTANT_ENCAPSED_STRING","'exception__lazy_builder'",40],"]",["T_OBJECT_OPERATOR","->",40],["T_STRING","renderArray",40],";",["T_WHITESPACE","\n\n    ",40],["T_COMMENT","\/\/ 7. Exception: placeholder that causes response filter to throw exception.\n",42],["T_WHITESPACE","    ",43],["T_VARIABLE","$build",43],"[",["T_CONSTANT_ENCAPSED_STRING","'exception__embedded_response'",43],"]",["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$cases",43],"[",["T_CONSTANT_ENCAPSED_STRING","'exception__embedded_response'",43],"]",["T_OBJECT_OPERATOR","->",43],["T_STRING","renderArray",43],";",["T_WHITESPACE","\n\n    ",43],["T_RETURN","return",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$build",45],";",["T_WHITESPACE","\n  ",45],"}",["T_WHITESPACE","\n\n  ",46],["T_DOC_COMMENT","\/**\n   * @return array\n   *\/",48],["T_WHITESPACE","\n  ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_STATIC","static",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","nope",51],"(",")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n    ",51],["T_RETURN","return",52],["T_WHITESPACE"," ",52],"[",["T_CONSTANT_ENCAPSED_STRING","'#markup'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'<p>Nope.<\/p>'",52],"]",";",["T_WHITESPACE","\n  ",52],"}",["T_WHITESPACE","\n\n  ",53],["T_DOC_COMMENT","\/**\n   * A page with multiple occurrences of the same placeholder.\n   *\n   * @see \\Drupal\\big_pipe\\Tests\\BigPipeTest::testBigPipeMultipleOccurrencePlaceholders()\n   *\n   * @return array\n   *\/",55],["T_WHITESPACE","\n  ",61],["T_PUBLIC","public",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","multiOccurrence",62],"(",")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n    ",62],["T_RETURN","return",63],["T_WHITESPACE"," ",63],"[",["T_WHITESPACE","\n      ",63],["T_CONSTANT_ENCAPSED_STRING","'item1'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],"[",["T_WHITESPACE","\n        ",64],["T_CONSTANT_ENCAPSED_STRING","'#lazy_builder'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],"[",["T_STATIC","static",65],["T_DOUBLE_COLON","::",65],["T_CLASS","class",65],["T_WHITESPACE"," ",65],".",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'::counter'",65],",",["T_WHITESPACE"," ",65],"[","]","]",",",["T_WHITESPACE","\n        ",65],["T_CONSTANT_ENCAPSED_STRING","'#create_placeholder'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_STRING","TRUE",66],",",["T_WHITESPACE","\n      ",66],"]",",",["T_WHITESPACE","\n      ",67],["T_CONSTANT_ENCAPSED_STRING","'item2'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],"[",["T_WHITESPACE","\n        ",68],["T_CONSTANT_ENCAPSED_STRING","'#lazy_builder'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],"[",["T_STATIC","static",69],["T_DOUBLE_COLON","::",69],["T_CLASS","class",69],["T_WHITESPACE"," ",69],".",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'::counter'",69],",",["T_WHITESPACE"," ",69],"[","]","]",",",["T_WHITESPACE","\n        ",69],["T_CONSTANT_ENCAPSED_STRING","'#create_placeholder'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_STRING","TRUE",70],",",["T_WHITESPACE","\n      ",70],"]",",",["T_WHITESPACE","\n      ",71],["T_CONSTANT_ENCAPSED_STRING","'item3'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],"[",["T_WHITESPACE","\n        ",72],["T_CONSTANT_ENCAPSED_STRING","'#lazy_builder'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],"[",["T_STATIC","static",73],["T_DOUBLE_COLON","::",73],["T_CLASS","class",73],["T_WHITESPACE"," ",73],".",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'::counter'",73],",",["T_WHITESPACE"," ",73],"[","]","]",",",["T_WHITESPACE","\n        ",73],["T_CONSTANT_ENCAPSED_STRING","'#create_placeholder'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_STRING","TRUE",74],",",["T_WHITESPACE","\n      ",74],"]",",",["T_WHITESPACE","\n    ",75],"]",";",["T_WHITESPACE","\n  ",76],"}",["T_WHITESPACE","\n\n  ",77],["T_DOC_COMMENT","\/**\n   * #lazy_builder callback; builds <time> markup with current time.\n   *\n   * Note: does not actually use current time, that would complicate testing.\n   *\n   * @return array\n   *\/",79],["T_WHITESPACE","\n  ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_STATIC","static",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","currentTime",86],"(",")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n    ",86],["T_RETURN","return",87],["T_WHITESPACE"," ",87],"[",["T_WHITESPACE","\n      ",87],["T_CONSTANT_ENCAPSED_STRING","'#markup'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'<time datetime=\"'",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_STRING","date",88],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d'",88],",",["T_WHITESPACE"," ",88],["T_LNUMBER","668948400",88],")",["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'\"><\/time>'",88],",",["T_WHITESPACE","\n      ",88],["T_CONSTANT_ENCAPSED_STRING","'#cache'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],"[",["T_CONSTANT_ENCAPSED_STRING","'max-age'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_LNUMBER","0",89],"]",["T_WHITESPACE","\n    ",89],"]",";",["T_WHITESPACE","\n  ",90],"}",["T_WHITESPACE","\n\n  ",91],["T_DOC_COMMENT","\/**\n   * #lazy_builder callback; says \"hello\" or \"yarhar\".\n   *\n   * @return array\n   *\/",93],["T_WHITESPACE","\n  ",97],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_STATIC","static",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","helloOrYarhar",98],"(",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n    ",98],["T_RETURN","return",99],["T_WHITESPACE"," ",99],"[",["T_WHITESPACE","\n      ",99],["T_CONSTANT_ENCAPSED_STRING","'#markup'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_STRING","BigPipeMarkup",100],["T_DOUBLE_COLON","::",100],["T_STRING","create",100],"(",["T_CONSTANT_ENCAPSED_STRING","'<marquee>Yarhar llamas forever!<\/marquee>'",100],")",",",["T_WHITESPACE","\n      ",100],["T_CONSTANT_ENCAPSED_STRING","'#cache'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],"[",["T_CONSTANT_ENCAPSED_STRING","'max-age'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_LNUMBER","0",101],"]",",",["T_WHITESPACE","\n    ",101],"]",";",["T_WHITESPACE","\n  ",102],"}",["T_WHITESPACE","\n\n  ",103],["T_DOC_COMMENT","\/**\n   * #lazy_builder callback; throws exception.\n   *\n   * @throws \\Exception\n   *\/",105],["T_WHITESPACE","\n  ",109],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_STATIC","static",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","exception",110],"(",")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n    ",110],["T_THROW","throw",111],["T_WHITESPACE"," ",111],["T_NEW","new",111],["T_WHITESPACE"," ",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Exception",111],"(",["T_CONSTANT_ENCAPSED_STRING","'You are not allowed to say llamas are not cool!'",111],")",";",["T_WHITESPACE","\n  ",111],"}",["T_WHITESPACE","\n\n  ",112],["T_DOC_COMMENT","\/**\n   * #lazy_builder callback; returns content that will trigger an exception.\n   *\n   * @see \\Drupal\\big_pipe_test\\EventSubscriber\\BigPipeTestSubscriber::onRespondTriggerException()\n   *\n   * @return array\n   *\/",114],["T_WHITESPACE","\n  ",120],["T_PUBLIC","public",121],["T_WHITESPACE"," ",121],["T_STATIC","static",121],["T_WHITESPACE"," ",121],["T_FUNCTION","function",121],["T_WHITESPACE"," ",121],["T_STRING","responseException",121],"(",")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n    ",121],["T_RETURN","return",122],["T_WHITESPACE"," ",122],"[",["T_CONSTANT_ENCAPSED_STRING","'#plain_text'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_STRING","BigPipeTestSubscriber",122],["T_DOUBLE_COLON","::",122],["T_STRING","CONTENT_TRIGGER_EXCEPTION",122],"]",";",["T_WHITESPACE","\n  ",122],"}",["T_WHITESPACE","\n\n  ",123],["T_DOC_COMMENT","\/**\n   * #lazy_builder callback; returns the current count.\n   *\n   * @see \\Drupal\\big_pipe\\Tests\\BigPipeTest::testBigPipeMultipleOccurrencePlaceholders()\n   *\n   * @return array\n   *   The render array.\n   *\/",125],["T_WHITESPACE","\n  ",132],["T_PUBLIC","public",133],["T_WHITESPACE"," ",133],["T_STATIC","static",133],["T_WHITESPACE"," ",133],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],["T_STRING","counter",133],"(",")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n    ",133],["T_COMMENT","\/\/ Lazy builders are not allowed to build their own state like this function\n",134],["T_WHITESPACE","    ",135],["T_COMMENT","\/\/ does, but in this case we're intentionally doing that for testing\n",135],["T_WHITESPACE","    ",136],["T_COMMENT","\/\/ purposes: so we can ensure that each lazy builder is only ever called\n",136],["T_WHITESPACE","    ",137],["T_COMMENT","\/\/ once with the same parameters.\n",137],["T_WHITESPACE","    ",138],["T_STATIC","static",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$count",138],";",["T_WHITESPACE","\n\n    ",138],["T_IF","if",140],["T_WHITESPACE"," ",140],"(","!",["T_ISSET","isset",140],"(",["T_VARIABLE","$count",140],")",")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n      ",140],["T_VARIABLE","$count",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_LNUMBER","0",141],";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_VARIABLE","$count",144],["T_INC","++",144],";",["T_WHITESPACE","\n\n    ",144],["T_RETURN","return",146],["T_WHITESPACE"," ",146],"[",["T_WHITESPACE","\n      ",146],["T_CONSTANT_ENCAPSED_STRING","'#markup'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_STRING","BigPipeMarkup",147],["T_DOUBLE_COLON","::",147],["T_STRING","create",147],"(","\"",["T_ENCAPSED_AND_WHITESPACE","<p>The count is ",147],["T_VARIABLE","$count",147],["T_ENCAPSED_AND_WHITESPACE",".<\/p>",147],"\"",")",",",["T_WHITESPACE","\n      ",147],["T_CONSTANT_ENCAPSED_STRING","'#cache'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],"[",["T_CONSTANT_ENCAPSED_STRING","'max-age'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_LNUMBER","0",148],"]",",",["T_WHITESPACE","\n    ",148],"]",";",["T_WHITESPACE","\n  ",149],"}",["T_WHITESPACE","\n\n",150],"}",["T_WHITESPACE","\n",152]]