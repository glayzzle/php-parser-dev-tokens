[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","big_pipe_test",3],["T_NS_SEPARATOR","\\",3],["T_STRING","EventSubscriber",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Render",5],["T_NS_SEPARATOR","\\",5],["T_STRING","AttachmentsInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Render",6],["T_NS_SEPARATOR","\\",6],["T_STRING","HtmlResponse",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Symfony",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Component",7],["T_NS_SEPARATOR","\\",7],["T_STRING","HttpKernel",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Event",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FilterResponseEvent",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Symfony",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Component",8],["T_NS_SEPARATOR","\\",8],["T_STRING","HttpKernel",8],["T_NS_SEPARATOR","\\",8],["T_STRING","KernelEvents",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Symfony",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Component",9],["T_NS_SEPARATOR","\\",9],["T_STRING","EventDispatcher",9],["T_NS_SEPARATOR","\\",9],["T_STRING","EventSubscriberInterface",9],";",["T_WHITESPACE","\n\n",9],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","BigPipeTestSubscriber",11],["T_WHITESPACE"," ",11],["T_IMPLEMENTS","implements",11],["T_WHITESPACE"," ",11],["T_STRING","EventSubscriberInterface",11],["T_WHITESPACE"," ",11],"{",["T_WHITESPACE","\n\n  ",11],["T_DOC_COMMENT","\/**\n   * @see \\Drupal\\big_pipe_test\\BigPipeTestController::responseException()\n   *\n   * @var string\n   *\/",13],["T_WHITESPACE","\n  ",17],["T_CONST","const",18],["T_WHITESPACE"," ",18],["T_STRING","CONTENT_TRIGGER_EXCEPTION",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_CONSTANT_ENCAPSED_STRING","'NOPE!NOPE!NOPE!'",18],";",["T_WHITESPACE","\n\n  ",18],["T_DOC_COMMENT","\/**\n   * Triggers exception for embedded HTML\/AJAX responses with certain content.\n   *\n   * @see \\Drupal\\big_pipe_test\\BigPipeTestController::responseException()\n   *\n   * @param \\Symfony\\Component\\HttpKernel\\Event\\FilterResponseEvent $event\n   *   The event to process.\n   *\n   * @throws \\Exception\n   *\/",20],["T_WHITESPACE","\n  ",29],["T_PUBLIC","public",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","onRespondTriggerException",30],"(",["T_STRING","FilterResponseEvent",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$event",30],")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$response",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$event",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","getResponse",31],"(",")",";",["T_WHITESPACE","\n\n    ",31],["T_IF","if",33],["T_WHITESPACE"," ",33],"(","!",["T_VARIABLE","$response",33],["T_WHITESPACE"," ",33],["T_INSTANCEOF","instanceof",33],["T_WHITESPACE"," ",33],["T_STRING","AttachmentsInterface",33],")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n      ",33],["T_RETURN","return",34],";",["T_WHITESPACE","\n    ",34],"}",["T_WHITESPACE","\n\n    ",35],["T_VARIABLE","$attachments",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$response",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","getAttachments",37],"(",")",";",["T_WHITESPACE","\n    ",37],["T_IF","if",38],["T_WHITESPACE"," ",38],"(","!",["T_ISSET","isset",38],"(",["T_VARIABLE","$attachments",38],"[",["T_CONSTANT_ENCAPSED_STRING","'big_pipe_placeholders'",38],"]",")",["T_WHITESPACE"," ",38],["T_BOOLEAN_AND","&&",38],["T_WHITESPACE"," ",38],"!",["T_ISSET","isset",38],"(",["T_VARIABLE","$attachments",38],"[",["T_CONSTANT_ENCAPSED_STRING","'big_pipe_nojs_placeholders'",38],"]",")",")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n      ",38],["T_IF","if",39],["T_WHITESPACE"," ",39],"(",["T_STRING","strpos",39],"(",["T_VARIABLE","$response",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","getContent",39],"(",")",",",["T_WHITESPACE"," ",39],["T_STATIC","static",39],["T_DOUBLE_COLON","::",39],["T_STRING","CONTENT_TRIGGER_EXCEPTION",39],")",["T_WHITESPACE"," ",39],["T_IS_NOT_IDENTICAL","!==",39],["T_WHITESPACE"," ",39],["T_STRING","FALSE",39],")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n        ",39],["T_THROW","throw",40],["T_WHITESPACE"," ",40],["T_NEW","new",40],["T_WHITESPACE"," ",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Exception",40],"(",["T_CONSTANT_ENCAPSED_STRING","'Oh noes!'",40],")",";",["T_WHITESPACE","\n      ",40],"}",["T_WHITESPACE","\n    ",41],"}",["T_WHITESPACE","\n  ",42],"}",["T_WHITESPACE","\n\n  ",43],["T_DOC_COMMENT","\/**\n   * Exposes all BigPipe placeholders (JS and no-JS) via headers for testing.\n   *\n   * @param \\Symfony\\Component\\HttpKernel\\Event\\FilterResponseEvent $event\n   *   The event to process.\n   *\/",45],["T_WHITESPACE","\n  ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","onRespondSetBigPipeDebugPlaceholderHeaders",51],"(",["T_STRING","FilterResponseEvent",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$event",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$response",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$event",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getResponse",52],"(",")",";",["T_WHITESPACE","\n    ",52],["T_IF","if",53],["T_WHITESPACE"," ",53],"(","!",["T_VARIABLE","$response",53],["T_WHITESPACE"," ",53],["T_INSTANCEOF","instanceof",53],["T_WHITESPACE"," ",53],["T_STRING","HtmlResponse",53],")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n      ",53],["T_RETURN","return",54],";",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n\n    ",55],["T_VARIABLE","$attachments",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$response",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getAttachments",57],"(",")",";",["T_WHITESPACE","\n\n    ",57],["T_VARIABLE","$response",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","headers",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","set",59],"(",["T_CONSTANT_ENCAPSED_STRING","'BigPipe-Test-Placeholders'",59],",",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'<none>'",59],")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$response",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","headers",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","set",60],"(",["T_CONSTANT_ENCAPSED_STRING","'BigPipe-Test-No-Js-Placeholders'",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'<none>'",60],")",";",["T_WHITESPACE","\n\n    ",60],["T_IF","if",62],["T_WHITESPACE"," ",62],"(","!",["T_EMPTY","empty",62],"(",["T_VARIABLE","$attachments",62],"[",["T_CONSTANT_ENCAPSED_STRING","'big_pipe_placeholders'",62],"]",")",")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n      ",62],["T_VARIABLE","$response",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","headers",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","set",63],"(",["T_CONSTANT_ENCAPSED_STRING","'BigPipe-Test-Placeholders'",63],",",["T_WHITESPACE"," ",63],["T_STRING","implode",63],"(",["T_CONSTANT_ENCAPSED_STRING","' '",63],",",["T_WHITESPACE"," ",63],["T_STRING","array_keys",63],"(",["T_VARIABLE","$attachments",63],"[",["T_CONSTANT_ENCAPSED_STRING","'big_pipe_placeholders'",63],"]",")",")",")",";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_IF","if",66],["T_WHITESPACE"," ",66],"(","!",["T_EMPTY","empty",66],"(",["T_VARIABLE","$attachments",66],"[",["T_CONSTANT_ENCAPSED_STRING","'big_pipe_nojs_placeholders'",66],"]",")",")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n      ",66],["T_VARIABLE","$response",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","headers",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","set",67],"(",["T_CONSTANT_ENCAPSED_STRING","'BigPipe-Test-No-Js-Placeholders'",67],",",["T_WHITESPACE"," ",67],["T_STRING","implode",67],"(",["T_CONSTANT_ENCAPSED_STRING","' '",67],",",["T_WHITESPACE"," ",67],["T_STRING","array_map",67],"(",["T_CONSTANT_ENCAPSED_STRING","'rawurlencode'",67],",",["T_WHITESPACE"," ",67],["T_STRING","array_keys",67],"(",["T_VARIABLE","$attachments",67],"[",["T_CONSTANT_ENCAPSED_STRING","'big_pipe_nojs_placeholders'",67],"]",")",")",")",")",";",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n  ",68],"}",["T_WHITESPACE","\n\n  ",69],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",71],["T_WHITESPACE","\n  ",73],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_STATIC","static",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","getSubscribedEvents",74],"(",")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n    ",74],["T_COMMENT","\/\/ Run just before \\Drupal\\big_pipe\\EventSubscriber\\HtmlResponseBigPipeSubscriber::onRespond().\n",75],["T_WHITESPACE","    ",76],["T_VARIABLE","$events",76],"[",["T_STRING","KernelEvents",76],["T_DOUBLE_COLON","::",76],["T_STRING","RESPONSE",76],"]","[","]",["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],"[",["T_CONSTANT_ENCAPSED_STRING","'onRespondSetBigPipeDebugPlaceholderHeaders'",76],",",["T_WHITESPACE"," ",76],"-",["T_LNUMBER","9999",76],"]",";",["T_WHITESPACE","\n\n    ",76],["T_COMMENT","\/\/ Run just after \\Drupal\\big_pipe\\EventSubscriber\\HtmlResponseBigPipeSubscriber::onRespond().\n",78],["T_WHITESPACE","    ",79],["T_VARIABLE","$events",79],"[",["T_STRING","KernelEvents",79],["T_DOUBLE_COLON","::",79],["T_STRING","RESPONSE",79],"]","[","]",["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],"[",["T_CONSTANT_ENCAPSED_STRING","'onRespondTriggerException'",79],",",["T_WHITESPACE"," ",79],"-",["T_LNUMBER","10001",79],"]",";",["T_WHITESPACE","\n\n    ",79],["T_RETURN","return",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$events",81],";",["T_WHITESPACE","\n  ",81],"}",["T_WHITESPACE","\n\n",82],"}",["T_WHITESPACE","\n",84]]