[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","simpletest",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","block",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Block",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FileCache",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FileCacheFactory",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Component",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Serialization",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Json",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Component",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Utility",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Html",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Component",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Utility",9],["T_NS_SEPARATOR","\\",9],["T_STRING","NestedArray",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Component",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Utility",10],["T_NS_SEPARATOR","\\",10],["T_STRING","UrlHelper",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Cache",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Cache",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Utility",12],["T_NS_SEPARATOR","\\",12],["T_STRING","SafeMarkup",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Core",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Database",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Database",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Drupal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Core",14],["T_NS_SEPARATOR","\\",14],["T_STRING","DrupalKernel",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Drupal",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Core",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Entity",15],["T_NS_SEPARATOR","\\",15],["T_STRING","EntityInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Drupal",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Core",16],["T_NS_SEPARATOR","\\",16],["T_STRING","EventSubscriber",16],["T_NS_SEPARATOR","\\",16],["T_STRING","AjaxResponseSubscriber",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Drupal",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Core",17],["T_NS_SEPARATOR","\\",17],["T_STRING","EventSubscriber",17],["T_NS_SEPARATOR","\\",17],["T_STRING","MainContentViewSubscriber",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Drupal",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Core",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Extension",18],["T_NS_SEPARATOR","\\",18],["T_STRING","MissingDependencyException",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Drupal",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Core",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Render",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Element",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Drupal",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Core",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Serialization",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Yaml",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Drupal",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Core",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Session",21],["T_NS_SEPARATOR","\\",21],["T_STRING","AccountInterface",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Drupal",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Core",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Session",22],["T_NS_SEPARATOR","\\",22],["T_STRING","AnonymousUserSession",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Drupal",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Core",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Session",23],["T_NS_SEPARATOR","\\",23],["T_STRING","UserSession",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Drupal",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Core",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Site",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Settings",24],";",["T_WHITESPACE","\n",24],["T_USE","use",25],["T_WHITESPACE"," ",25],["T_STRING","Drupal",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Core",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Test",25],["T_NS_SEPARATOR","\\",25],["T_STRING","AssertMailTrait",25],";",["T_WHITESPACE","\n",25],["T_USE","use",26],["T_WHITESPACE"," ",26],["T_STRING","Drupal",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Core",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Url",26],";",["T_WHITESPACE","\n",26],["T_USE","use",27],["T_WHITESPACE"," ",27],["T_STRING","Drupal",27],["T_NS_SEPARATOR","\\",27],["T_STRING","system",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Tests",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Cache",27],["T_NS_SEPARATOR","\\",27],["T_STRING","AssertPageCacheContextsAndTagsTrait",27],";",["T_WHITESPACE","\n",27],["T_USE","use",28],["T_WHITESPACE"," ",28],["T_STRING","Drupal",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Tests",28],["T_NS_SEPARATOR","\\",28],["T_STRING","TestFileCreationTrait",28],";",["T_WHITESPACE","\n",28],["T_USE","use",29],["T_WHITESPACE"," ",29],["T_STRING","Symfony",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Component",29],["T_NS_SEPARATOR","\\",29],["T_STRING","DependencyInjection",29],["T_NS_SEPARATOR","\\",29],["T_STRING","ContainerInterface",29],";",["T_WHITESPACE","\n",29],["T_USE","use",30],["T_WHITESPACE"," ",30],["T_STRING","Symfony",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Component",30],["T_NS_SEPARATOR","\\",30],["T_STRING","HttpFoundation",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Request",30],";",["T_WHITESPACE","\n",30],["T_USE","use",31],["T_WHITESPACE"," ",31],["T_STRING","Symfony",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Component",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Yaml",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Yaml",31],["T_WHITESPACE"," ",31],["T_AS","as",31],["T_WHITESPACE"," ",31],["T_STRING","SymfonyYaml",31],";",["T_WHITESPACE","\n",31],["T_USE","use",32],["T_WHITESPACE"," ",32],["T_STRING","Zend",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Diactoros",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Uri",32],";",["T_WHITESPACE","\n\n",32],["T_DOC_COMMENT","\/**\n * Test case for typical Drupal tests.\n *\n * @ingroup testing\n *\/",34],["T_WHITESPACE","\n",38],["T_ABSTRACT","abstract",39],["T_WHITESPACE"," ",39],["T_CLASS","class",39],["T_WHITESPACE"," ",39],["T_STRING","WebTestBase",39],["T_WHITESPACE"," ",39],["T_EXTENDS","extends",39],["T_WHITESPACE"," ",39],["T_STRING","TestBase",39],["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n\n  ",39],["T_USE","use",41],["T_WHITESPACE"," ",41],["T_STRING","AssertContentTrait",41],";",["T_WHITESPACE","\n  ",41],["T_USE","use",42],["T_WHITESPACE"," ",42],["T_STRING","TestFileCreationTrait",42],["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n    ",42],["T_STRING","getTestFiles",43],["T_WHITESPACE"," ",43],["T_AS","as",43],["T_WHITESPACE"," ",43],["T_STRING","drupalGetTestFiles",43],";",["T_WHITESPACE","\n    ",43],["T_STRING","compareFiles",44],["T_WHITESPACE"," ",44],["T_AS","as",44],["T_WHITESPACE"," ",44],["T_STRING","drupalCompareFiles",44],";",["T_WHITESPACE","\n  ",44],"}",["T_WHITESPACE","\n  ",45],["T_USE","use",46],["T_WHITESPACE"," ",46],["T_STRING","AssertPageCacheContextsAndTagsTrait",46],";",["T_WHITESPACE","\n  ",46],["T_USE","use",47],["T_WHITESPACE"," ",47],["T_STRING","BlockCreationTrait",47],["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n    ",47],["T_STRING","placeBlock",48],["T_WHITESPACE"," ",48],["T_AS","as",48],["T_WHITESPACE"," ",48],["T_STRING","drupalPlaceBlock",48],";",["T_WHITESPACE","\n  ",48],"}",["T_WHITESPACE","\n  ",49],["T_USE","use",50],["T_WHITESPACE"," ",50],["T_STRING","ContentTypeCreationTrait",50],["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n    ",50],["T_STRING","createContentType",51],["T_WHITESPACE"," ",51],["T_AS","as",51],["T_WHITESPACE"," ",51],["T_STRING","drupalCreateContentType",51],";",["T_WHITESPACE","\n  ",51],"}",["T_WHITESPACE","\n  ",52],["T_USE","use",53],["T_WHITESPACE"," ",53],["T_STRING","AssertMailTrait",53],["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n    ",53],["T_STRING","getMails",54],["T_WHITESPACE"," ",54],["T_AS","as",54],["T_WHITESPACE"," ",54],["T_STRING","drupalGetMails",54],";",["T_WHITESPACE","\n  ",54],"}",["T_WHITESPACE","\n  ",55],["T_USE","use",56],["T_WHITESPACE"," ",56],["T_STRING","NodeCreationTrait",56],["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n    ",56],["T_STRING","getNodeByTitle",57],["T_WHITESPACE"," ",57],["T_AS","as",57],["T_WHITESPACE"," ",57],["T_STRING","drupalGetNodeByTitle",57],";",["T_WHITESPACE","\n    ",57],["T_STRING","createNode",58],["T_WHITESPACE"," ",58],["T_AS","as",58],["T_WHITESPACE"," ",58],["T_STRING","drupalCreateNode",58],";",["T_WHITESPACE","\n  ",58],"}",["T_WHITESPACE","\n  ",59],["T_USE","use",60],["T_WHITESPACE"," ",60],["T_STRING","UserCreationTrait",60],["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n    ",60],["T_STRING","createUser",61],["T_WHITESPACE"," ",61],["T_AS","as",61],["T_WHITESPACE"," ",61],["T_STRING","drupalCreateUser",61],";",["T_WHITESPACE","\n    ",61],["T_STRING","createRole",62],["T_WHITESPACE"," ",62],["T_AS","as",62],["T_WHITESPACE"," ",62],["T_STRING","drupalCreateRole",62],";",["T_WHITESPACE","\n    ",62],["T_STRING","createAdminRole",63],["T_WHITESPACE"," ",63],["T_AS","as",63],["T_WHITESPACE"," ",63],["T_STRING","drupalCreateAdminRole",63],";",["T_WHITESPACE","\n  ",63],"}",["T_WHITESPACE","\n\n  ",64],["T_DOC_COMMENT","\/**\n   * The profile to install as a basis for testing.\n   *\n   * @var string\n   *\/",66],["T_WHITESPACE","\n  ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$profile",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'testing'",71],";",["T_WHITESPACE","\n\n  ",71],["T_DOC_COMMENT","\/**\n   * The URL currently loaded in the internal browser.\n   *\n   * @var string\n   *\/",73],["T_WHITESPACE","\n  ",77],["T_PROTECTED","protected",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$url",78],";",["T_WHITESPACE","\n\n  ",78],["T_DOC_COMMENT","\/**\n   * The handle of the current cURL connection.\n   *\n   * @var resource\n   *\/",80],["T_WHITESPACE","\n  ",84],["T_PROTECTED","protected",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$curlHandle",85],";",["T_WHITESPACE","\n\n  ",85],["T_DOC_COMMENT","\/**\n   * Whether or not to assert the presence of the X-Drupal-Ajax-Token.\n   *\n   * @var bool\n   *\/",87],["T_WHITESPACE","\n  ",91],["T_PROTECTED","protected",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$assertAjaxHeader",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_STRING","TRUE",92],";",["T_WHITESPACE","\n\n  ",92],["T_DOC_COMMENT","\/**\n   * The headers of the page currently loaded in the internal browser.\n   *\n   * @var Array\n   *\/",94],["T_WHITESPACE","\n  ",98],["T_PROTECTED","protected",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$headers",99],";",["T_WHITESPACE","\n\n  ",99],["T_DOC_COMMENT","\/**\n   * The cookies of the page currently loaded in the internal browser.\n   *\n   * @var array\n   *\/",101],["T_WHITESPACE","\n  ",105],["T_PROTECTED","protected",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$cookies",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_ARRAY","array",106],"(",")",";",["T_WHITESPACE","\n\n  ",106],["T_DOC_COMMENT","\/**\n   * Indicates that headers should be dumped if verbose output is enabled.\n   *\n   * Headers are dumped to verbose by drupalGet(), drupalHead(), and\n   * drupalPostForm().\n   *\n   * @var bool\n   *\/",108],["T_WHITESPACE","\n  ",115],["T_PROTECTED","protected",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$dumpHeaders",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_STRING","FALSE",116],";",["T_WHITESPACE","\n\n  ",116],["T_DOC_COMMENT","\/**\n   * The current user logged in using the internal browser.\n   *\n   * @var \\Drupal\\Core\\Session\\AccountInterface|bool\n   *\/",118],["T_WHITESPACE","\n  ",122],["T_PROTECTED","protected",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$loggedInUser",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_STRING","FALSE",123],";",["T_WHITESPACE","\n\n  ",123],["T_DOC_COMMENT","\/**\n   * The \"#1\" admin user.\n   *\n   * @var \\Drupal\\Core\\Session\\AccountInterface\n   *\/",125],["T_WHITESPACE","\n  ",129],["T_PROTECTED","protected",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$rootUser",130],";",["T_WHITESPACE","\n\n\n  ",130],["T_DOC_COMMENT","\/**\n   * The current cookie file used by cURL.\n   *\n   * We do not reuse the cookies in further runs, so we do not need a file\n   * but we still need cookie handling, so we set the jar to NULL.\n   *\/",133],["T_WHITESPACE","\n  ",138],["T_PROTECTED","protected",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$cookieFile",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","NULL",139],";",["T_WHITESPACE","\n\n  ",139],["T_DOC_COMMENT","\/**\n   * Additional cURL options.\n   *\n   * \\Drupal\\simpletest\\WebTestBase itself never sets this but always obeys what\n   * is set.\n   *\/",141],["T_WHITESPACE","\n  ",146],["T_PROTECTED","protected",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$additionalCurlOptions",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_ARRAY","array",147],"(",")",";",["T_WHITESPACE","\n\n  ",147],["T_DOC_COMMENT","\/**\n   * The original batch, before it was changed for testing purposes.\n   *\n   * @var array\n   *\/",149],["T_WHITESPACE","\n  ",153],["T_PROTECTED","protected",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$originalBatch",154],";",["T_WHITESPACE","\n\n  ",154],["T_DOC_COMMENT","\/**\n   * The original user, before it was changed to a clean uid = 1 for testing.\n   *\n   * @var object\n   *\/",156],["T_WHITESPACE","\n  ",160],["T_PROTECTED","protected",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$originalUser",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_STRING","NULL",161],";",["T_WHITESPACE","\n\n  ",161],["T_DOC_COMMENT","\/**\n   * The original shutdown handlers array, before it was cleaned for testing.\n   *\n   * @var array\n   *\/",163],["T_WHITESPACE","\n  ",167],["T_PROTECTED","protected",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$originalShutdownCallbacks",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_ARRAY","array",168],"(",")",";",["T_WHITESPACE","\n\n  ",168],["T_DOC_COMMENT","\/**\n   * The current session ID, if available.\n   *\/",170],["T_WHITESPACE","\n  ",172],["T_PROTECTED","protected",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$sessionId",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_STRING","NULL",173],";",["T_WHITESPACE","\n\n  ",173],["T_DOC_COMMENT","\/**\n   * The maximum number of redirects to follow when handling responses.\n   *\/",175],["T_WHITESPACE","\n  ",177],["T_PROTECTED","protected",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$maximumRedirects",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_LNUMBER","5",178],";",["T_WHITESPACE","\n\n  ",178],["T_DOC_COMMENT","\/**\n   * The number of redirects followed during the handling of a request.\n   *\/",180],["T_WHITESPACE","\n  ",182],["T_PROTECTED","protected",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$redirectCount",183],";",["T_WHITESPACE","\n\n\n  ",183],["T_DOC_COMMENT","\/**\n   * The number of meta refresh redirects to follow, or NULL if unlimited.\n   *\n   * @var null|int\n   *\/",186],["T_WHITESPACE","\n  ",190],["T_PROTECTED","protected",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$maximumMetaRefreshCount",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_STRING","NULL",191],";",["T_WHITESPACE","\n\n  ",191],["T_DOC_COMMENT","\/**\n   * The number of meta refresh redirects followed during ::drupalGet().\n   *\n   * @var int\n   *\/",193],["T_WHITESPACE","\n  ",197],["T_PROTECTED","protected",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$metaRefreshCount",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_LNUMBER","0",198],";",["T_WHITESPACE","\n\n  ",198],["T_DOC_COMMENT","\/**\n   * The kernel used in this test.\n   *\n   * @var \\Drupal\\Core\\DrupalKernel\n   *\/",200],["T_WHITESPACE","\n  ",204],["T_PROTECTED","protected",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$kernel",205],";",["T_WHITESPACE","\n\n  ",205],["T_DOC_COMMENT","\/**\n   * The config directories used in this test.\n   *\/",207],["T_WHITESPACE","\n  ",209],["T_PROTECTED","protected",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$configDirectories",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_ARRAY","array",210],"(",")",";",["T_WHITESPACE","\n\n  ",210],["T_DOC_COMMENT","\/**\n   * Cookies to set on curl requests.\n   *\n   * @var array\n   *\/",212],["T_WHITESPACE","\n  ",216],["T_PROTECTED","protected",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$curlCookies",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_ARRAY","array",217],"(",")",";",["T_WHITESPACE","\n\n  ",217],["T_DOC_COMMENT","\/**\n   * An array of custom translations suitable for drupal_rewrite_settings().\n   *\n   * @var array\n   *\/",219],["T_WHITESPACE","\n  ",223],["T_PROTECTED","protected",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$customTranslations",224],";",["T_WHITESPACE","\n\n  ",224],["T_DOC_COMMENT","\/**\n   * The class loader to use for installation and initialization of setup.\n   *\n   * @var \\Symfony\\Component\\Classloader\\Classloader\n   *\/",226],["T_WHITESPACE","\n  ",230],["T_PROTECTED","protected",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$classLoader",231],";",["T_WHITESPACE","\n\n  ",231],["T_DOC_COMMENT","\/**\n   * Constructor for \\Drupal\\simpletest\\WebTestBase.\n   *\/",233],["T_WHITESPACE","\n  ",235],["T_FUNCTION","function",236],["T_WHITESPACE"," ",236],["T_STRING","__construct",236],"(",["T_VARIABLE","$test_id",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_STRING","NULL",236],")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n    ",236],["T_STRING","parent",237],["T_DOUBLE_COLON","::",237],["T_STRING","__construct",237],"(",["T_VARIABLE","$test_id",237],")",";",["T_WHITESPACE","\n    ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","skipClasses",238],"[",["T_CLASS_C","__CLASS__",238],"]",["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_STRING","TRUE",238],";",["T_WHITESPACE","\n    ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","classLoader",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_REQUIRE","require",239],["T_WHITESPACE"," ",239],["T_STRING","DRUPAL_ROOT",239],["T_WHITESPACE"," ",239],".",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'\/autoload.php'",239],";",["T_WHITESPACE","\n  ",239],"}",["T_WHITESPACE","\n\n  ",240],["T_DOC_COMMENT","\/**\n   * Builds the renderable view of an entity.\n   *\n   * Entities postpone the composition of their renderable arrays to #pre_render\n   * functions in order to maximize cache efficacy. This means that the full\n   * renderable array for an entity is constructed in drupal_render(). Some\n   * tests require the complete renderable array for an entity outside of the\n   * drupal_render process in order to verify the presence of specific values.\n   * This method isolates the steps in the render process that produce an\n   * entity's renderable array.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityInterface $entity\n   *   The entity to prepare a renderable array for.\n   * @param string $view_mode\n   *   (optional) The view mode that should be used to build the entity.\n   * @param null $langcode\n   *   (optional) For which language the entity should be prepared, defaults to\n   *   the current content language.\n   * @param bool $reset\n   *   (optional) Whether to clear the cache for this entity.\n   * @return array\n   *\n   * @see drupal_render()\n   *\/",242],["T_WHITESPACE","\n  ",265],["T_PROTECTED","protected",266],["T_WHITESPACE"," ",266],["T_FUNCTION","function",266],["T_WHITESPACE"," ",266],["T_STRING","drupalBuildEntityView",266],"(",["T_STRING","EntityInterface",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$entity",266],",",["T_WHITESPACE"," ",266],["T_VARIABLE","$view_mode",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","'full'",266],",",["T_WHITESPACE"," ",266],["T_VARIABLE","$langcode",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_STRING","NULL",266],",",["T_WHITESPACE"," ",266],["T_VARIABLE","$reset",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_STRING","FALSE",266],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n    ",266],["T_VARIABLE","$ensure_fully_built",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_FUNCTION","function",267],"(","&",["T_VARIABLE","$elements",267],")",["T_WHITESPACE"," ",267],["T_USE","use",267],["T_WHITESPACE"," ",267],"(","&",["T_VARIABLE","$ensure_fully_built",267],")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n      ",267],["T_COMMENT","\/\/ If the default values for this element have not been loaded yet, populate\n",268],["T_WHITESPACE","      ",269],["T_COMMENT","\/\/ them.\n",269],["T_WHITESPACE","      ",270],["T_IF","if",270],["T_WHITESPACE"," ",270],"(",["T_ISSET","isset",270],"(",["T_VARIABLE","$elements",270],"[",["T_CONSTANT_ENCAPSED_STRING","'#type'",270],"]",")",["T_WHITESPACE"," ",270],["T_BOOLEAN_AND","&&",270],["T_WHITESPACE"," ",270],["T_EMPTY","empty",270],"(",["T_VARIABLE","$elements",270],"[",["T_CONSTANT_ENCAPSED_STRING","'#defaults_loaded'",270],"]",")",")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n        ",270],["T_VARIABLE","$elements",271],["T_WHITESPACE"," ",271],["T_PLUS_EQUAL","+=",271],["T_WHITESPACE"," ",271],["T_NS_SEPARATOR","\\",271],["T_STRING","Drupal",271],["T_DOUBLE_COLON","::",271],["T_STRING","service",271],"(",["T_CONSTANT_ENCAPSED_STRING","'element_info'",271],")",["T_OBJECT_OPERATOR","->",271],["T_STRING","getInfo",271],"(",["T_VARIABLE","$elements",271],"[",["T_CONSTANT_ENCAPSED_STRING","'#type'",271],"]",")",";",["T_WHITESPACE","\n      ",271],"}",["T_WHITESPACE","\n\n      ",272],["T_COMMENT","\/\/ Make any final changes to the element before it is rendered. This means\n",274],["T_WHITESPACE","      ",275],["T_COMMENT","\/\/ that the $element or the children can be altered or corrected before the\n",275],["T_WHITESPACE","      ",276],["T_COMMENT","\/\/ element is rendered into the final text.\n",276],["T_WHITESPACE","      ",277],["T_IF","if",277],["T_WHITESPACE"," ",277],"(",["T_ISSET","isset",277],"(",["T_VARIABLE","$elements",277],"[",["T_CONSTANT_ENCAPSED_STRING","'#pre_render'",277],"]",")",")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n        ",277],["T_FOREACH","foreach",278],["T_WHITESPACE"," ",278],"(",["T_VARIABLE","$elements",278],"[",["T_CONSTANT_ENCAPSED_STRING","'#pre_render'",278],"]",["T_WHITESPACE"," ",278],["T_AS","as",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$callable",278],")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n          ",278],["T_VARIABLE","$elements",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_STRING","call_user_func",279],"(",["T_VARIABLE","$callable",279],",",["T_WHITESPACE"," ",279],["T_VARIABLE","$elements",279],")",";",["T_WHITESPACE","\n        ",279],"}",["T_WHITESPACE","\n      ",280],"}",["T_WHITESPACE","\n\n      ",281],["T_COMMENT","\/\/ And recurse.\n",283],["T_WHITESPACE","      ",284],["T_VARIABLE","$children",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_STRING","Element",284],["T_DOUBLE_COLON","::",284],["T_STRING","children",284],"(",["T_VARIABLE","$elements",284],",",["T_WHITESPACE"," ",284],["T_STRING","TRUE",284],")",";",["T_WHITESPACE","\n      ",284],["T_FOREACH","foreach",285],["T_WHITESPACE"," ",285],"(",["T_VARIABLE","$children",285],["T_WHITESPACE"," ",285],["T_AS","as",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$key",285],")",["T_WHITESPACE"," ",285],"{",["T_WHITESPACE","\n        ",285],["T_VARIABLE","$ensure_fully_built",286],"(",["T_VARIABLE","$elements",286],"[",["T_VARIABLE","$key",286],"]",")",";",["T_WHITESPACE","\n      ",286],"}",["T_WHITESPACE","\n    ",287],"}",";",["T_WHITESPACE","\n\n    ",288],["T_VARIABLE","$render_controller",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","container",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","get",290],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",290],")",["T_OBJECT_OPERATOR","->",290],["T_STRING","getViewBuilder",290],"(",["T_VARIABLE","$entity",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","getEntityTypeId",290],"(",")",")",";",["T_WHITESPACE","\n    ",290],["T_IF","if",291],["T_WHITESPACE"," ",291],"(",["T_VARIABLE","$reset",291],")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n      ",291],["T_VARIABLE","$render_controller",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","resetCache",292],"(",["T_ARRAY","array",292],"(",["T_VARIABLE","$entity",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","id",292],"(",")",")",")",";",["T_WHITESPACE","\n    ",292],"}",["T_WHITESPACE","\n    ",293],["T_VARIABLE","$build",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_VARIABLE","$render_controller",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","view",294],"(",["T_VARIABLE","$entity",294],",",["T_WHITESPACE"," ",294],["T_VARIABLE","$view_mode",294],",",["T_WHITESPACE"," ",294],["T_VARIABLE","$langcode",294],")",";",["T_WHITESPACE","\n    ",294],["T_VARIABLE","$ensure_fully_built",295],"(",["T_VARIABLE","$build",295],")",";",["T_WHITESPACE","\n\n    ",295],["T_RETURN","return",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$build",297],";",["T_WHITESPACE","\n  ",297],"}",["T_WHITESPACE","\n\n  ",298],["T_DOC_COMMENT","\/**\n   * Checks to see whether a block appears on the page.\n   *\n   * @param \\Drupal\\block\\Entity\\Block $block\n   *   The block entity to find on the page.\n   *\/",300],["T_WHITESPACE","\n  ",305],["T_PROTECTED","protected",306],["T_WHITESPACE"," ",306],["T_FUNCTION","function",306],["T_WHITESPACE"," ",306],["T_STRING","assertBlockAppears",306],"(",["T_STRING","Block",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$block",306],")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n    ",306],["T_VARIABLE","$result",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","findBlockInstance",307],"(",["T_VARIABLE","$block",307],")",";",["T_WHITESPACE","\n    ",307],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","assertTrue",308],"(","!",["T_EMPTY","empty",308],"(",["T_VARIABLE","$result",308],")",",",["T_WHITESPACE"," ",308],["T_STRING","format_string",308],"(",["T_CONSTANT_ENCAPSED_STRING","'Ensure the block @id appears on the page'",308],",",["T_WHITESPACE"," ",308],["T_ARRAY","array",308],"(",["T_CONSTANT_ENCAPSED_STRING","'@id'",308],["T_WHITESPACE"," ",308],["T_DOUBLE_ARROW","=>",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$block",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","id",308],"(",")",")",")",")",";",["T_WHITESPACE","\n  ",308],"}",["T_WHITESPACE","\n\n  ",309],["T_DOC_COMMENT","\/**\n   * Checks to see whether a block does not appears on the page.\n   *\n   * @param \\Drupal\\block\\Entity\\Block $block\n   *   The block entity to find on the page.\n   *\/",311],["T_WHITESPACE","\n  ",316],["T_PROTECTED","protected",317],["T_WHITESPACE"," ",317],["T_FUNCTION","function",317],["T_WHITESPACE"," ",317],["T_STRING","assertNoBlockAppears",317],"(",["T_STRING","Block",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$block",317],")",["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n    ",317],["T_VARIABLE","$result",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","findBlockInstance",318],"(",["T_VARIABLE","$block",318],")",";",["T_WHITESPACE","\n    ",318],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","assertFalse",319],"(","!",["T_EMPTY","empty",319],"(",["T_VARIABLE","$result",319],")",",",["T_WHITESPACE"," ",319],["T_STRING","format_string",319],"(",["T_CONSTANT_ENCAPSED_STRING","'Ensure the block @id does not appear on the page'",319],",",["T_WHITESPACE"," ",319],["T_ARRAY","array",319],"(",["T_CONSTANT_ENCAPSED_STRING","'@id'",319],["T_WHITESPACE"," ",319],["T_DOUBLE_ARROW","=>",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$block",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","id",319],"(",")",")",")",")",";",["T_WHITESPACE","\n  ",319],"}",["T_WHITESPACE","\n\n  ",320],["T_DOC_COMMENT","\/**\n   * Find a block instance on the page.\n   *\n   * @param \\Drupal\\block\\Entity\\Block $block\n   *   The block entity to find on the page.\n   *\n   * @return array\n   *   The result from the xpath query.\n   *\/",322],["T_WHITESPACE","\n  ",330],["T_PROTECTED","protected",331],["T_WHITESPACE"," ",331],["T_FUNCTION","function",331],["T_WHITESPACE"," ",331],["T_STRING","findBlockInstance",331],"(",["T_STRING","Block",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$block",331],")",["T_WHITESPACE"," ",331],"{",["T_WHITESPACE","\n    ",331],["T_RETURN","return",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","xpath",332],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/div[@id = :id]'",332],",",["T_WHITESPACE"," ",332],["T_ARRAY","array",332],"(",["T_CONSTANT_ENCAPSED_STRING","':id'",332],["T_WHITESPACE"," ",332],["T_DOUBLE_ARROW","=>",332],["T_WHITESPACE"," ",332],["T_CONSTANT_ENCAPSED_STRING","'block-'",332],["T_WHITESPACE"," ",332],".",["T_WHITESPACE"," ",332],["T_VARIABLE","$block",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","id",332],"(",")",")",")",";",["T_WHITESPACE","\n  ",332],"}",["T_WHITESPACE","\n\n  ",333],["T_DOC_COMMENT","\/**\n   * Log in a user with the internal browser.\n   *\n   * If a user is already logged in, then the current user is logged out before\n   * logging in the specified user.\n   *\n   * Please note that neither the current user nor the passed-in user object is\n   * populated with data of the logged in user. If you need full access to the\n   * user object after logging in, it must be updated manually. If you also need\n   * access to the plain-text password of the user (set by drupalCreateUser()),\n   * e.g. to log in the same user again, then it must be re-assigned manually.\n   * For example:\n   * @code\n   *   \/\/ Create a user.\n   *   $account = $this->drupalCreateUser(array());\n   *   $this->drupalLogin($account);\n   *   \/\/ Load real user object.\n   *   $pass_raw = $account->pass_raw;\n   *   $account = User::load($account->id());\n   *   $account->pass_raw = $pass_raw;\n   * @endcode\n   *\n   * @param \\Drupal\\Core\\Session\\AccountInterface $account\n   *   User object representing the user to log in.\n   *\n   * @see drupalCreateUser()\n   *\/",335],["T_WHITESPACE","\n  ",361],["T_PROTECTED","protected",362],["T_WHITESPACE"," ",362],["T_FUNCTION","function",362],["T_WHITESPACE"," ",362],["T_STRING","drupalLogin",362],"(",["T_STRING","AccountInterface",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$account",362],")",["T_WHITESPACE"," ",362],"{",["T_WHITESPACE","\n    ",362],["T_IF","if",363],["T_WHITESPACE"," ",363],"(",["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","loggedInUser",363],")",["T_WHITESPACE"," ",363],"{",["T_WHITESPACE","\n      ",363],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","drupalLogout",364],"(",")",";",["T_WHITESPACE","\n    ",364],"}",["T_WHITESPACE","\n\n    ",365],["T_VARIABLE","$edit",367],["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_ARRAY","array",367],"(",["T_WHITESPACE","\n      ",367],["T_CONSTANT_ENCAPSED_STRING","'name'",368],["T_WHITESPACE"," ",368],["T_DOUBLE_ARROW","=>",368],["T_WHITESPACE"," ",368],["T_VARIABLE","$account",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","getUsername",368],"(",")",",",["T_WHITESPACE","\n      ",368],["T_CONSTANT_ENCAPSED_STRING","'pass'",369],["T_WHITESPACE"," ",369],["T_DOUBLE_ARROW","=>",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$account",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","pass_raw",369],["T_WHITESPACE","\n    ",369],")",";",["T_WHITESPACE","\n    ",370],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","drupalPostForm",371],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/login'",371],",",["T_WHITESPACE"," ",371],["T_VARIABLE","$edit",371],",",["T_WHITESPACE"," ",371],["T_STRING","t",371],"(",["T_CONSTANT_ENCAPSED_STRING","'Log in'",371],")",")",";",["T_WHITESPACE","\n\n    ",371],["T_COMMENT","\/\/ @see WebTestBase::drupalUserIsLoggedIn()\n",373],["T_WHITESPACE","    ",374],["T_IF","if",374],["T_WHITESPACE"," ",374],"(",["T_ISSET","isset",374],"(",["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","sessionId",374],")",")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n      ",374],["T_VARIABLE","$account",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","session_id",375],["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","sessionId",375],";",["T_WHITESPACE","\n    ",375],"}",["T_WHITESPACE","\n    ",376],["T_VARIABLE","$pass",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","assert",377],"(",["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","drupalUserIsLoggedIn",377],"(",["T_VARIABLE","$account",377],")",",",["T_WHITESPACE"," ",377],["T_STRING","format_string",377],"(",["T_CONSTANT_ENCAPSED_STRING","'User %name successfully logged in.'",377],",",["T_WHITESPACE"," ",377],["T_ARRAY","array",377],"(",["T_CONSTANT_ENCAPSED_STRING","'%name'",377],["T_WHITESPACE"," ",377],["T_DOUBLE_ARROW","=>",377],["T_WHITESPACE"," ",377],["T_VARIABLE","$account",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","getUsername",377],"(",")",")",")",",",["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","'User login'",377],")",";",["T_WHITESPACE","\n    ",377],["T_IF","if",378],["T_WHITESPACE"," ",378],"(",["T_VARIABLE","$pass",378],")",["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n      ",378],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","loggedInUser",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_VARIABLE","$account",379],";",["T_WHITESPACE","\n      ",379],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","container",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","get",380],"(",["T_CONSTANT_ENCAPSED_STRING","'current_user'",380],")",["T_OBJECT_OPERATOR","->",380],["T_STRING","setAccount",380],"(",["T_VARIABLE","$account",380],")",";",["T_WHITESPACE","\n    ",380],"}",["T_WHITESPACE","\n  ",381],"}",["T_WHITESPACE","\n\n  ",382],["T_DOC_COMMENT","\/**\n   * Returns whether a given user account is logged in.\n   *\n   * @param \\Drupal\\user\\UserInterface $account\n   *   The user account object to check.\n   *\/",384],["T_WHITESPACE","\n  ",389],["T_PROTECTED","protected",390],["T_WHITESPACE"," ",390],["T_FUNCTION","function",390],["T_WHITESPACE"," ",390],["T_STRING","drupalUserIsLoggedIn",390],"(",["T_VARIABLE","$account",390],")",["T_WHITESPACE"," ",390],"{",["T_WHITESPACE","\n    ",390],["T_VARIABLE","$logged_in",391],["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_STRING","FALSE",391],";",["T_WHITESPACE","\n\n    ",391],["T_IF","if",393],["T_WHITESPACE"," ",393],"(",["T_ISSET","isset",393],"(",["T_VARIABLE","$account",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","session_id",393],")",")",["T_WHITESPACE"," ",393],"{",["T_WHITESPACE","\n      ",393],["T_VARIABLE","$session_handler",394],["T_WHITESPACE"," ",394],"=",["T_WHITESPACE"," ",394],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","container",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","get",394],"(",["T_CONSTANT_ENCAPSED_STRING","'session_handler.storage'",394],")",";",["T_WHITESPACE","\n      ",394],["T_VARIABLE","$logged_in",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_BOOL_CAST","(bool)",395],["T_WHITESPACE"," ",395],["T_VARIABLE","$session_handler",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","read",395],"(",["T_VARIABLE","$account",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","session_id",395],")",";",["T_WHITESPACE","\n    ",395],"}",["T_WHITESPACE","\n\n    ",396],["T_RETURN","return",398],["T_WHITESPACE"," ",398],["T_VARIABLE","$logged_in",398],";",["T_WHITESPACE","\n  ",398],"}",["T_WHITESPACE","\n\n  ",399],["T_DOC_COMMENT","\/**\n   * Logs a user out of the internal browser and confirms.\n   *\n   * Confirms logout by checking the login page.\n   *\/",401],["T_WHITESPACE","\n  ",405],["T_PROTECTED","protected",406],["T_WHITESPACE"," ",406],["T_FUNCTION","function",406],["T_WHITESPACE"," ",406],["T_STRING","drupalLogout",406],"(",")",["T_WHITESPACE"," ",406],"{",["T_WHITESPACE","\n    ",406],["T_COMMENT","\/\/ Make a request to the logout page, and redirect to the user page, the\n",407],["T_WHITESPACE","    ",408],["T_COMMENT","\/\/ idea being if you were properly logged out you should be seeing a login\n",408],["T_WHITESPACE","    ",409],["T_COMMENT","\/\/ screen.\n",409],["T_WHITESPACE","    ",410],["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","drupalGet",410],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/logout'",410],",",["T_WHITESPACE"," ",410],["T_ARRAY","array",410],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",410],["T_WHITESPACE"," ",410],["T_DOUBLE_ARROW","=>",410],["T_WHITESPACE"," ",410],["T_ARRAY","array",410],"(",["T_CONSTANT_ENCAPSED_STRING","'destination'",410],["T_WHITESPACE"," ",410],["T_DOUBLE_ARROW","=>",410],["T_WHITESPACE"," ",410],["T_CONSTANT_ENCAPSED_STRING","'user\/login'",410],")",")",")",";",["T_WHITESPACE","\n    ",410],["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","assertResponse",411],"(",["T_LNUMBER","200",411],",",["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","'User was logged out.'",411],")",";",["T_WHITESPACE","\n    ",411],["T_VARIABLE","$pass",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","assertField",412],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",412],",",["T_WHITESPACE"," ",412],["T_CONSTANT_ENCAPSED_STRING","'Username field found.'",412],",",["T_WHITESPACE"," ",412],["T_CONSTANT_ENCAPSED_STRING","'Logout'",412],")",";",["T_WHITESPACE","\n    ",412],["T_VARIABLE","$pass",413],["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_VARIABLE","$pass",413],["T_WHITESPACE"," ",413],["T_BOOLEAN_AND","&&",413],["T_WHITESPACE"," ",413],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","assertField",413],"(",["T_CONSTANT_ENCAPSED_STRING","'pass'",413],",",["T_WHITESPACE"," ",413],["T_CONSTANT_ENCAPSED_STRING","'Password field found.'",413],",",["T_WHITESPACE"," ",413],["T_CONSTANT_ENCAPSED_STRING","'Logout'",413],")",";",["T_WHITESPACE","\n\n    ",413],["T_IF","if",415],["T_WHITESPACE"," ",415],"(",["T_VARIABLE","$pass",415],")",["T_WHITESPACE"," ",415],"{",["T_WHITESPACE","\n      ",415],["T_COMMENT","\/\/ @see WebTestBase::drupalUserIsLoggedIn()\n",416],["T_WHITESPACE","      ",417],["T_UNSET","unset",417],"(",["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","loggedInUser",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","session_id",417],")",";",["T_WHITESPACE","\n      ",417],["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","loggedInUser",418],["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],["T_STRING","FALSE",418],";",["T_WHITESPACE","\n      ",418],["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","container",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","get",419],"(",["T_CONSTANT_ENCAPSED_STRING","'current_user'",419],")",["T_OBJECT_OPERATOR","->",419],["T_STRING","setAccount",419],"(",["T_NEW","new",419],["T_WHITESPACE"," ",419],["T_STRING","AnonymousUserSession",419],"(",")",")",";",["T_WHITESPACE","\n    ",419],"}",["T_WHITESPACE","\n  ",420],"}",["T_WHITESPACE","\n\n  ",421],["T_DOC_COMMENT","\/**\n   * Sets up a Drupal site for running functional and integration tests.\n   *\n   * Installs Drupal with the installation profile specified in\n   * \\Drupal\\simpletest\\WebTestBase::$profile into the prefixed database.\n   *\n   * Afterwards, installs any additional modules specified in the static\n   * \\Drupal\\simpletest\\WebTestBase::$modules property of each class in the\n   * class hierarchy.\n   *\n   * After installation all caches are flushed and several configuration values\n   * are reset to the values of the parent site executing the test, since the\n   * default values may be incompatible with the environment in which tests are\n   * being executed.\n   *\/",423],["T_WHITESPACE","\n  ",437],["T_PROTECTED","protected",438],["T_WHITESPACE"," ",438],["T_FUNCTION","function",438],["T_WHITESPACE"," ",438],["T_STRING","setUp",438],"(",")",["T_WHITESPACE"," ",438],"{",["T_WHITESPACE","\n    ",438],["T_COMMENT","\/\/ Set an explicit time zone to not rely on the system one, which may vary\n",439],["T_WHITESPACE","    ",440],["T_COMMENT","\/\/ from setup to setup. The Australia\/Sydney time zone is chosen so all\n",440],["T_WHITESPACE","    ",441],["T_COMMENT","\/\/ tests are run using an edge case scenario (UTC+10 and DST). This choice\n",441],["T_WHITESPACE","    ",442],["T_COMMENT","\/\/ is made to prevent time zone related regressions and reduce the\n",442],["T_WHITESPACE","    ",443],["T_COMMENT","\/\/ fragility of the testing system in general. This is also set in config in\n",443],["T_WHITESPACE","    ",444],["T_COMMENT","\/\/ \\Drupal\\simpletest\\WebTestBase::initConfig().\n",444],["T_WHITESPACE","    ",445],["T_STRING","date_default_timezone_set",445],"(",["T_CONSTANT_ENCAPSED_STRING","'Australia\/Sydney'",445],")",";",["T_WHITESPACE","\n\n    ",445],["T_COMMENT","\/\/ Preserve original batch for later restoration.\n",447],["T_WHITESPACE","    ",448],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","setBatch",448],"(",")",";",["T_WHITESPACE","\n\n    ",448],["T_COMMENT","\/\/ Initialize user 1 and session name.\n",450],["T_WHITESPACE","    ",451],["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","initUserSession",451],"(",")",";",["T_WHITESPACE","\n\n    ",451],["T_COMMENT","\/\/ Prepare the child site settings.\n",453],["T_WHITESPACE","    ",454],["T_VARIABLE","$this",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","prepareSettings",454],"(",")",";",["T_WHITESPACE","\n\n    ",454],["T_COMMENT","\/\/ Execute the non-interactive installer.\n",456],["T_WHITESPACE","    ",457],["T_VARIABLE","$this",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","doInstall",457],"(",")",";",["T_WHITESPACE","\n\n    ",457],["T_COMMENT","\/\/ Import new settings.php written by the installer.\n",459],["T_WHITESPACE","    ",460],["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","initSettings",460],"(",")",";",["T_WHITESPACE","\n\n    ",460],["T_COMMENT","\/\/ Initialize the request and container post-install.\n",462],["T_WHITESPACE","    ",463],["T_VARIABLE","$container",463],["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","initKernel",463],"(",["T_NS_SEPARATOR","\\",463],["T_STRING","Drupal",463],["T_DOUBLE_COLON","::",463],["T_STRING","request",463],"(",")",")",";",["T_WHITESPACE","\n\n    ",463],["T_COMMENT","\/\/ Initialize and override certain configurations.\n",465],["T_WHITESPACE","    ",466],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","initConfig",466],"(",["T_VARIABLE","$container",466],")",";",["T_WHITESPACE","\n\n    ",466],["T_COMMENT","\/\/ Collect modules to install.\n",468],["T_WHITESPACE","    ",469],["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","installModulesFromClassProperty",469],"(",["T_VARIABLE","$container",469],")",";",["T_WHITESPACE","\n\n    ",469],["T_COMMENT","\/\/ Restore the original batch.\n",471],["T_WHITESPACE","    ",472],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","restoreBatch",472],"(",")",";",["T_WHITESPACE","\n\n    ",472],["T_COMMENT","\/\/ Reset\/rebuild everything.\n",474],["T_WHITESPACE","    ",475],["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","rebuildAll",475],"(",")",";",["T_WHITESPACE","\n  ",475],"}",["T_WHITESPACE","\n\n  ",476],["T_DOC_COMMENT","\/**\n   * Execute the non-interactive installer.\n   *\n   * @see install_drupal()\n   *\/",478],["T_WHITESPACE","\n  ",482],["T_PROTECTED","protected",483],["T_WHITESPACE"," ",483],["T_FUNCTION","function",483],["T_WHITESPACE"," ",483],["T_STRING","doInstall",483],"(",")",["T_WHITESPACE"," ",483],"{",["T_WHITESPACE","\n    ",483],["T_REQUIRE_ONCE","require_once",484],["T_WHITESPACE"," ",484],["T_STRING","DRUPAL_ROOT",484],["T_WHITESPACE"," ",484],".",["T_WHITESPACE"," ",484],["T_CONSTANT_ENCAPSED_STRING","'\/core\/includes\/install.core.inc'",484],";",["T_WHITESPACE","\n    ",484],["T_STRING","install_drupal",485],"(",["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","classLoader",485],",",["T_WHITESPACE"," ",485],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","installParameters",485],"(",")",")",";",["T_WHITESPACE","\n  ",485],"}",["T_WHITESPACE","\n\n  ",486],["T_DOC_COMMENT","\/**\n   * Prepares site settings and services before installation.\n   *\/",488],["T_WHITESPACE","\n  ",490],["T_PROTECTED","protected",491],["T_WHITESPACE"," ",491],["T_FUNCTION","function",491],["T_WHITESPACE"," ",491],["T_STRING","prepareSettings",491],"(",")",["T_WHITESPACE"," ",491],"{",["T_WHITESPACE","\n    ",491],["T_COMMENT","\/\/ Prepare installer settings that are not install_drupal() parameters.\n",492],["T_WHITESPACE","    ",493],["T_COMMENT","\/\/ Copy and prepare an actual settings.php, so as to resemble a regular\n",493],["T_WHITESPACE","    ",494],["T_COMMENT","\/\/ installation.\n",494],["T_WHITESPACE","    ",495],["T_COMMENT","\/\/ Not using File API; a potential error must trigger a PHP warning.\n",495],["T_WHITESPACE","    ",496],["T_VARIABLE","$directory",496],["T_WHITESPACE"," ",496],"=",["T_WHITESPACE"," ",496],["T_STRING","DRUPAL_ROOT",496],["T_WHITESPACE"," ",496],".",["T_WHITESPACE"," ",496],["T_CONSTANT_ENCAPSED_STRING","'\/'",496],["T_WHITESPACE"," ",496],".",["T_WHITESPACE"," ",496],["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","siteDirectory",496],";",["T_WHITESPACE","\n    ",496],["T_STRING","copy",497],"(",["T_STRING","DRUPAL_ROOT",497],["T_WHITESPACE"," ",497],".",["T_WHITESPACE"," ",497],["T_CONSTANT_ENCAPSED_STRING","'\/sites\/default\/default.settings.php'",497],",",["T_WHITESPACE"," ",497],["T_VARIABLE","$directory",497],["T_WHITESPACE"," ",497],".",["T_WHITESPACE"," ",497],["T_CONSTANT_ENCAPSED_STRING","'\/settings.php'",497],")",";",["T_WHITESPACE","\n\n    ",497],["T_COMMENT","\/\/ The public file system path is created during installation. Additionally,\n",499],["T_WHITESPACE","    ",500],["T_COMMENT","\/\/ during tests:\n",500],["T_WHITESPACE","    ",501],["T_COMMENT","\/\/ - The temporary directory is set and created by install_base_system().\n",501],["T_WHITESPACE","    ",502],["T_COMMENT","\/\/ - The private file directory is created post install by\n",502],["T_WHITESPACE","    ",503],["T_COMMENT","\/\/   WebTestBase::initConfig().\n",503],["T_WHITESPACE","    ",504],["T_COMMENT","\/\/ @see system_requirements()\n",504],["T_WHITESPACE","    ",505],["T_COMMENT","\/\/ @see TestBase::prepareEnvironment()\n",505],["T_WHITESPACE","    ",506],["T_COMMENT","\/\/ @see install_base_system()\n",506],["T_WHITESPACE","    ",507],["T_COMMENT","\/\/ @see\\Drupal\\simpletest\\WebTestBase::initConfig()\n",507],["T_WHITESPACE","    ",508],["T_VARIABLE","$settings",508],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",508],"]","[",["T_CONSTANT_ENCAPSED_STRING","'file_public_path'",508],"]",["T_WHITESPACE"," ",508],"=",["T_WHITESPACE"," ",508],["T_OBJECT_CAST","(object)",508],["T_WHITESPACE"," ",508],"[",["T_WHITESPACE","\n      ",508],["T_CONSTANT_ENCAPSED_STRING","'value'",509],["T_WHITESPACE"," ",509],["T_DOUBLE_ARROW","=>",509],["T_WHITESPACE"," ",509],["T_VARIABLE","$this",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","publicFilesDirectory",509],",",["T_WHITESPACE","\n      ",509],["T_CONSTANT_ENCAPSED_STRING","'required'",510],["T_WHITESPACE"," ",510],["T_DOUBLE_ARROW","=>",510],["T_WHITESPACE"," ",510],["T_STRING","TRUE",510],",",["T_WHITESPACE","\n    ",510],"]",";",["T_WHITESPACE","\n    ",511],["T_VARIABLE","$settings",512],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",512],"]","[",["T_CONSTANT_ENCAPSED_STRING","'file_private_path'",512],"]",["T_WHITESPACE"," ",512],"=",["T_WHITESPACE"," ",512],["T_OBJECT_CAST","(object)",512],["T_WHITESPACE"," ",512],"[",["T_WHITESPACE","\n      ",512],["T_CONSTANT_ENCAPSED_STRING","'value'",513],["T_WHITESPACE"," ",513],["T_DOUBLE_ARROW","=>",513],["T_WHITESPACE"," ",513],["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","privateFilesDirectory",513],",",["T_WHITESPACE","\n      ",513],["T_CONSTANT_ENCAPSED_STRING","'required'",514],["T_WHITESPACE"," ",514],["T_DOUBLE_ARROW","=>",514],["T_WHITESPACE"," ",514],["T_STRING","TRUE",514],",",["T_WHITESPACE","\n    ",514],"]",";",["T_WHITESPACE","\n    ",515],["T_COMMENT","\/\/ Save the original site directory path, so that extensions in the\n",516],["T_WHITESPACE","    ",517],["T_COMMENT","\/\/ site-specific directory can still be discovered in the test site\n",517],["T_WHITESPACE","    ",518],["T_COMMENT","\/\/ environment.\n",518],["T_WHITESPACE","    ",519],["T_COMMENT","\/\/ @see \\Drupal\\Core\\Extension\\ExtensionDiscovery::scan()\n",519],["T_WHITESPACE","    ",520],["T_VARIABLE","$settings",520],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",520],"]","[",["T_CONSTANT_ENCAPSED_STRING","'test_parent_site'",520],"]",["T_WHITESPACE"," ",520],"=",["T_WHITESPACE"," ",520],["T_OBJECT_CAST","(object)",520],["T_WHITESPACE"," ",520],"[",["T_WHITESPACE","\n      ",520],["T_CONSTANT_ENCAPSED_STRING","'value'",521],["T_WHITESPACE"," ",521],["T_DOUBLE_ARROW","=>",521],["T_WHITESPACE"," ",521],["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","originalSite",521],",",["T_WHITESPACE","\n      ",521],["T_CONSTANT_ENCAPSED_STRING","'required'",522],["T_WHITESPACE"," ",522],["T_DOUBLE_ARROW","=>",522],["T_WHITESPACE"," ",522],["T_STRING","TRUE",522],",",["T_WHITESPACE","\n    ",522],"]",";",["T_WHITESPACE","\n    ",523],["T_COMMENT","\/\/ Add the parent profile's search path to the child site's search paths.\n",524],["T_WHITESPACE","    ",525],["T_COMMENT","\/\/ @see \\Drupal\\Core\\Extension\\ExtensionDiscovery::getProfileDirectories()\n",525],["T_WHITESPACE","    ",526],["T_VARIABLE","$settings",526],"[",["T_CONSTANT_ENCAPSED_STRING","'conf'",526],"]","[",["T_CONSTANT_ENCAPSED_STRING","'simpletest.settings'",526],"]","[",["T_CONSTANT_ENCAPSED_STRING","'parent_profile'",526],"]",["T_WHITESPACE"," ",526],"=",["T_WHITESPACE"," ",526],["T_OBJECT_CAST","(object)",526],["T_WHITESPACE"," ",526],"[",["T_WHITESPACE","\n      ",526],["T_CONSTANT_ENCAPSED_STRING","'value'",527],["T_WHITESPACE"," ",527],["T_DOUBLE_ARROW","=>",527],["T_WHITESPACE"," ",527],["T_VARIABLE","$this",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","originalProfile",527],",",["T_WHITESPACE","\n      ",527],["T_CONSTANT_ENCAPSED_STRING","'required'",528],["T_WHITESPACE"," ",528],["T_DOUBLE_ARROW","=>",528],["T_WHITESPACE"," ",528],["T_STRING","TRUE",528],",",["T_WHITESPACE","\n    ",528],"]",";",["T_WHITESPACE","\n    ",529],["T_VARIABLE","$this",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","writeSettings",530],"(",["T_VARIABLE","$settings",530],")",";",["T_WHITESPACE","\n    ",530],["T_COMMENT","\/\/ Allow for test-specific overrides.\n",531],["T_WHITESPACE","    ",532],["T_VARIABLE","$settings_testing_file",532],["T_WHITESPACE"," ",532],"=",["T_WHITESPACE"," ",532],["T_STRING","DRUPAL_ROOT",532],["T_WHITESPACE"," ",532],".",["T_WHITESPACE"," ",532],["T_CONSTANT_ENCAPSED_STRING","'\/'",532],["T_WHITESPACE"," ",532],".",["T_WHITESPACE"," ",532],["T_VARIABLE","$this",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","originalSite",532],["T_WHITESPACE"," ",532],".",["T_WHITESPACE"," ",532],["T_CONSTANT_ENCAPSED_STRING","'\/settings.testing.php'",532],";",["T_WHITESPACE","\n    ",532],["T_IF","if",533],["T_WHITESPACE"," ",533],"(",["T_STRING","file_exists",533],"(",["T_VARIABLE","$settings_testing_file",533],")",")",["T_WHITESPACE"," ",533],"{",["T_WHITESPACE","\n      ",533],["T_COMMENT","\/\/ Copy the testing-specific settings.php overrides in place.\n",534],["T_WHITESPACE","      ",535],["T_STRING","copy",535],"(",["T_VARIABLE","$settings_testing_file",535],",",["T_WHITESPACE"," ",535],["T_VARIABLE","$directory",535],["T_WHITESPACE"," ",535],".",["T_WHITESPACE"," ",535],["T_CONSTANT_ENCAPSED_STRING","'\/settings.testing.php'",535],")",";",["T_WHITESPACE","\n      ",535],["T_COMMENT","\/\/ Add the name of the testing class to settings.php and include the\n",536],["T_WHITESPACE","      ",537],["T_COMMENT","\/\/ testing specific overrides\n",537],["T_WHITESPACE","      ",538],["T_STRING","file_put_contents",538],"(",["T_VARIABLE","$directory",538],["T_WHITESPACE"," ",538],".",["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","'\/settings.php'",538],",",["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","\"\\n\\$test_class = '\"",538],["T_WHITESPACE"," ",538],".",["T_WHITESPACE"," ",538],["T_STRING","get_class",538],"(",["T_VARIABLE","$this",538],")",["T_WHITESPACE"," ",538],".",["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","\"';\\n\"",538],["T_WHITESPACE"," ",538],".",["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","'include DRUPAL_ROOT . \\'\/\\' . $site_path . \\'\/settings.testing.php\\';'",538],["T_WHITESPACE"," ",538],".",["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",538],",",["T_WHITESPACE"," ",538],["T_STRING","FILE_APPEND",538],")",";",["T_WHITESPACE","\n    ",538],"}",["T_WHITESPACE","\n    ",539],["T_VARIABLE","$settings_services_file",540],["T_WHITESPACE"," ",540],"=",["T_WHITESPACE"," ",540],["T_STRING","DRUPAL_ROOT",540],["T_WHITESPACE"," ",540],".",["T_WHITESPACE"," ",540],["T_CONSTANT_ENCAPSED_STRING","'\/'",540],["T_WHITESPACE"," ",540],".",["T_WHITESPACE"," ",540],["T_VARIABLE","$this",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","originalSite",540],["T_WHITESPACE"," ",540],".",["T_WHITESPACE"," ",540],["T_CONSTANT_ENCAPSED_STRING","'\/testing.services.yml'",540],";",["T_WHITESPACE","\n    ",540],["T_IF","if",541],["T_WHITESPACE"," ",541],"(","!",["T_STRING","file_exists",541],"(",["T_VARIABLE","$settings_services_file",541],")",")",["T_WHITESPACE"," ",541],"{",["T_WHITESPACE","\n      ",541],["T_COMMENT","\/\/ Otherwise, use the default services as a starting point for overrides.\n",542],["T_WHITESPACE","      ",543],["T_VARIABLE","$settings_services_file",543],["T_WHITESPACE"," ",543],"=",["T_WHITESPACE"," ",543],["T_STRING","DRUPAL_ROOT",543],["T_WHITESPACE"," ",543],".",["T_WHITESPACE"," ",543],["T_CONSTANT_ENCAPSED_STRING","'\/sites\/default\/default.services.yml'",543],";",["T_WHITESPACE","\n    ",543],"}",["T_WHITESPACE","\n    ",544],["T_COMMENT","\/\/ Copy the testing-specific service overrides in place.\n",545],["T_WHITESPACE","    ",546],["T_STRING","copy",546],"(",["T_VARIABLE","$settings_services_file",546],",",["T_WHITESPACE"," ",546],["T_VARIABLE","$directory",546],["T_WHITESPACE"," ",546],".",["T_WHITESPACE"," ",546],["T_CONSTANT_ENCAPSED_STRING","'\/services.yml'",546],")",";",["T_WHITESPACE","\n    ",546],["T_IF","if",547],["T_WHITESPACE"," ",547],"(",["T_VARIABLE","$this",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","strictConfigSchema",547],")",["T_WHITESPACE"," ",547],"{",["T_WHITESPACE","\n      ",547],["T_COMMENT","\/\/ Add a listener to validate configuration schema on save.\n",548],["T_WHITESPACE","      ",549],["T_VARIABLE","$yaml",549],["T_WHITESPACE"," ",549],"=",["T_WHITESPACE"," ",549],["T_NEW","new",549],["T_WHITESPACE"," ",549],["T_STRING","SymfonyYaml",549],"(",")",";",["T_WHITESPACE","\n      ",549],["T_VARIABLE","$content",550],["T_WHITESPACE"," ",550],"=",["T_WHITESPACE"," ",550],["T_STRING","file_get_contents",550],"(",["T_VARIABLE","$directory",550],["T_WHITESPACE"," ",550],".",["T_WHITESPACE"," ",550],["T_CONSTANT_ENCAPSED_STRING","'\/services.yml'",550],")",";",["T_WHITESPACE","\n      ",550],["T_VARIABLE","$services",551],["T_WHITESPACE"," ",551],"=",["T_WHITESPACE"," ",551],["T_VARIABLE","$yaml",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","parse",551],"(",["T_VARIABLE","$content",551],")",";",["T_WHITESPACE","\n      ",551],["T_VARIABLE","$services",552],"[",["T_CONSTANT_ENCAPSED_STRING","'services'",552],"]","[",["T_CONSTANT_ENCAPSED_STRING","'simpletest.config_schema_checker'",552],"]",["T_WHITESPACE"," ",552],"=",["T_WHITESPACE"," ",552],"[",["T_WHITESPACE","\n        ",552],["T_CONSTANT_ENCAPSED_STRING","'class'",553],["T_WHITESPACE"," ",553],["T_DOUBLE_ARROW","=>",553],["T_WHITESPACE"," ",553],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Config\\Testing\\ConfigSchemaChecker'",553],",",["T_WHITESPACE","\n        ",553],["T_CONSTANT_ENCAPSED_STRING","'arguments'",554],["T_WHITESPACE"," ",554],["T_DOUBLE_ARROW","=>",554],["T_WHITESPACE"," ",554],"[",["T_CONSTANT_ENCAPSED_STRING","'@config.typed'",554],",",["T_WHITESPACE"," ",554],["T_VARIABLE","$this",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","getConfigSchemaExclusions",554],"(",")","]",",",["T_WHITESPACE","\n        ",554],["T_CONSTANT_ENCAPSED_STRING","'tags'",555],["T_WHITESPACE"," ",555],["T_DOUBLE_ARROW","=>",555],["T_WHITESPACE"," ",555],"[","[",["T_CONSTANT_ENCAPSED_STRING","'name'",555],["T_WHITESPACE"," ",555],["T_DOUBLE_ARROW","=>",555],["T_WHITESPACE"," ",555],["T_CONSTANT_ENCAPSED_STRING","'event_subscriber'",555],"]","]",["T_WHITESPACE","\n      ",555],"]",";",["T_WHITESPACE","\n      ",556],["T_STRING","file_put_contents",557],"(",["T_VARIABLE","$directory",557],["T_WHITESPACE"," ",557],".",["T_WHITESPACE"," ",557],["T_CONSTANT_ENCAPSED_STRING","'\/services.yml'",557],",",["T_WHITESPACE"," ",557],["T_VARIABLE","$yaml",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","dump",557],"(",["T_VARIABLE","$services",557],")",")",";",["T_WHITESPACE","\n    ",557],"}",["T_WHITESPACE","\n    ",558],["T_COMMENT","\/\/ Since Drupal is bootstrapped already, install_begin_request() will not\n",559],["T_WHITESPACE","    ",560],["T_COMMENT","\/\/ bootstrap again. Hence, we have to reload the newly written custom\n",560],["T_WHITESPACE","    ",561],["T_COMMENT","\/\/ settings.php manually.\n",561],["T_WHITESPACE","    ",562],["T_STRING","Settings",562],["T_DOUBLE_COLON","::",562],["T_STRING","initialize",562],"(",["T_STRING","DRUPAL_ROOT",562],",",["T_WHITESPACE"," ",562],["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","siteDirectory",562],",",["T_WHITESPACE"," ",562],["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","classLoader",562],")",";",["T_WHITESPACE","\n  ",562],"}",["T_WHITESPACE","\n\n  ",563],["T_DOC_COMMENT","\/**\n   * Initialize settings created during install.\n   *\/",565],["T_WHITESPACE","\n  ",567],["T_PROTECTED","protected",568],["T_WHITESPACE"," ",568],["T_FUNCTION","function",568],["T_WHITESPACE"," ",568],["T_STRING","initSettings",568],"(",")",["T_WHITESPACE"," ",568],"{",["T_WHITESPACE","\n    ",568],["T_STRING","Settings",569],["T_DOUBLE_COLON","::",569],["T_STRING","initialize",569],"(",["T_STRING","DRUPAL_ROOT",569],",",["T_WHITESPACE"," ",569],["T_VARIABLE","$this",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","siteDirectory",569],",",["T_WHITESPACE"," ",569],["T_VARIABLE","$this",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","classLoader",569],")",";",["T_WHITESPACE","\n    ",569],["T_FOREACH","foreach",570],["T_WHITESPACE"," ",570],"(",["T_VARIABLE","$GLOBALS",570],"[",["T_CONSTANT_ENCAPSED_STRING","'config_directories'",570],"]",["T_WHITESPACE"," ",570],["T_AS","as",570],["T_WHITESPACE"," ",570],["T_VARIABLE","$type",570],["T_WHITESPACE"," ",570],["T_DOUBLE_ARROW","=>",570],["T_WHITESPACE"," ",570],["T_VARIABLE","$path",570],")",["T_WHITESPACE"," ",570],"{",["T_WHITESPACE","\n      ",570],["T_VARIABLE","$this",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","configDirectories",571],"[",["T_VARIABLE","$type",571],"]",["T_WHITESPACE"," ",571],"=",["T_WHITESPACE"," ",571],["T_VARIABLE","$path",571],";",["T_WHITESPACE","\n    ",571],"}",["T_WHITESPACE","\n\n    ",572],["T_COMMENT","\/\/ After writing settings.php, the installer removes write permissions\n",574],["T_WHITESPACE","    ",575],["T_COMMENT","\/\/ from the site directory. To allow drupal_generate_test_ua() to write\n",575],["T_WHITESPACE","    ",576],["T_COMMENT","\/\/ a file containing the private key for drupal_valid_test_ua(), the site\n",576],["T_WHITESPACE","    ",577],["T_COMMENT","\/\/ directory has to be writable.\n",577],["T_WHITESPACE","    ",578],["T_COMMENT","\/\/ TestBase::restoreEnvironment() will delete the entire site directory.\n",578],["T_WHITESPACE","    ",579],["T_COMMENT","\/\/ Not using File API; a potential error must trigger a PHP warning.\n",579],["T_WHITESPACE","    ",580],["T_STRING","chmod",580],"(",["T_STRING","DRUPAL_ROOT",580],["T_WHITESPACE"," ",580],".",["T_WHITESPACE"," ",580],["T_CONSTANT_ENCAPSED_STRING","'\/'",580],["T_WHITESPACE"," ",580],".",["T_WHITESPACE"," ",580],["T_VARIABLE","$this",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","siteDirectory",580],",",["T_WHITESPACE"," ",580],["T_LNUMBER","0777",580],")",";",["T_WHITESPACE","\n\n    ",580],["T_COMMENT","\/\/ During tests, cacheable responses should get the debugging cacheability\n",582],["T_WHITESPACE","    ",583],["T_COMMENT","\/\/ headers by default.\n",583],["T_WHITESPACE","    ",584],["T_VARIABLE","$this",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","setContainerParameter",584],"(",["T_CONSTANT_ENCAPSED_STRING","'http.response.debug_cacheability_headers'",584],",",["T_WHITESPACE"," ",584],["T_STRING","TRUE",584],")",";",["T_WHITESPACE","\n  ",584],"}",["T_WHITESPACE","\n\n  ",585],["T_DOC_COMMENT","\/**\n   * Initialize various configurations post-installation.\n   *\n   * @param \\Symfony\\Component\\DependencyInjection\\ContainerInterface $container\n   *   The container.\n   *\/",587],["T_WHITESPACE","\n  ",592],["T_PROTECTED","protected",593],["T_WHITESPACE"," ",593],["T_FUNCTION","function",593],["T_WHITESPACE"," ",593],["T_STRING","initConfig",593],"(",["T_STRING","ContainerInterface",593],["T_WHITESPACE"," ",593],["T_VARIABLE","$container",593],")",["T_WHITESPACE"," ",593],"{",["T_WHITESPACE","\n    ",593],["T_VARIABLE","$config",594],["T_WHITESPACE"," ",594],"=",["T_WHITESPACE"," ",594],["T_VARIABLE","$container",594],["T_OBJECT_OPERATOR","->",594],["T_STRING","get",594],"(",["T_CONSTANT_ENCAPSED_STRING","'config.factory'",594],")",";",["T_WHITESPACE","\n\n    ",594],["T_COMMENT","\/\/ Manually create the private directory.\n",596],["T_WHITESPACE","    ",597],["T_STRING","file_prepare_directory",597],"(",["T_VARIABLE","$this",597],["T_OBJECT_OPERATOR","->",597],["T_STRING","privateFilesDirectory",597],",",["T_WHITESPACE"," ",597],["T_STRING","FILE_CREATE_DIRECTORY",597],")",";",["T_WHITESPACE","\n\n    ",597],["T_COMMENT","\/\/ Manually configure the test mail collector implementation to prevent\n",599],["T_WHITESPACE","    ",600],["T_COMMENT","\/\/ tests from sending out emails and collect them in state instead.\n",600],["T_WHITESPACE","    ",601],["T_COMMENT","\/\/ While this should be enforced via settings.php prior to installation,\n",601],["T_WHITESPACE","    ",602],["T_COMMENT","\/\/ some tests expect to be able to test mail system implementations.\n",602],["T_WHITESPACE","    ",603],["T_VARIABLE","$config",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","getEditable",603],"(",["T_CONSTANT_ENCAPSED_STRING","'system.mail'",603],")",["T_WHITESPACE","\n      ",603],["T_OBJECT_OPERATOR","->",604],["T_STRING","set",604],"(",["T_CONSTANT_ENCAPSED_STRING","'interface.default'",604],",",["T_WHITESPACE"," ",604],["T_CONSTANT_ENCAPSED_STRING","'test_mail_collector'",604],")",["T_WHITESPACE","\n      ",604],["T_OBJECT_OPERATOR","->",605],["T_STRING","save",605],"(",")",";",["T_WHITESPACE","\n\n    ",605],["T_COMMENT","\/\/ By default, verbosely display all errors and disable all production\n",607],["T_WHITESPACE","    ",608],["T_COMMENT","\/\/ environment optimizations for all tests to avoid needless overhead and\n",608],["T_WHITESPACE","    ",609],["T_COMMENT","\/\/ ensure a sane default experience for test authors.\n",609],["T_WHITESPACE","    ",610],["T_COMMENT","\/\/ @see https:\/\/www.drupal.org\/node\/2259167\n",610],["T_WHITESPACE","    ",611],["T_VARIABLE","$config",611],["T_OBJECT_OPERATOR","->",611],["T_STRING","getEditable",611],"(",["T_CONSTANT_ENCAPSED_STRING","'system.logging'",611],")",["T_WHITESPACE","\n      ",611],["T_OBJECT_OPERATOR","->",612],["T_STRING","set",612],"(",["T_CONSTANT_ENCAPSED_STRING","'error_level'",612],",",["T_WHITESPACE"," ",612],["T_CONSTANT_ENCAPSED_STRING","'verbose'",612],")",["T_WHITESPACE","\n      ",612],["T_OBJECT_OPERATOR","->",613],["T_STRING","save",613],"(",")",";",["T_WHITESPACE","\n    ",613],["T_VARIABLE","$config",614],["T_OBJECT_OPERATOR","->",614],["T_STRING","getEditable",614],"(",["T_CONSTANT_ENCAPSED_STRING","'system.performance'",614],")",["T_WHITESPACE","\n      ",614],["T_OBJECT_OPERATOR","->",615],["T_STRING","set",615],"(",["T_CONSTANT_ENCAPSED_STRING","'css.preprocess'",615],",",["T_WHITESPACE"," ",615],["T_STRING","FALSE",615],")",["T_WHITESPACE","\n      ",615],["T_OBJECT_OPERATOR","->",616],["T_STRING","set",616],"(",["T_CONSTANT_ENCAPSED_STRING","'js.preprocess'",616],",",["T_WHITESPACE"," ",616],["T_STRING","FALSE",616],")",["T_WHITESPACE","\n      ",616],["T_OBJECT_OPERATOR","->",617],["T_STRING","save",617],"(",")",";",["T_WHITESPACE","\n\n    ",617],["T_COMMENT","\/\/ Set an explicit time zone to not rely on the system one, which may vary\n",619],["T_WHITESPACE","    ",620],["T_COMMENT","\/\/ from setup to setup. The Australia\/Sydney time zone is chosen so all\n",620],["T_WHITESPACE","    ",621],["T_COMMENT","\/\/ tests are run using an edge case scenario (UTC+10 and DST). This choice\n",621],["T_WHITESPACE","    ",622],["T_COMMENT","\/\/ is made to prevent time zone related regressions and reduce the\n",622],["T_WHITESPACE","    ",623],["T_COMMENT","\/\/ fragility of the testing system in general.\n",623],["T_WHITESPACE","    ",624],["T_VARIABLE","$config",624],["T_OBJECT_OPERATOR","->",624],["T_STRING","getEditable",624],"(",["T_CONSTANT_ENCAPSED_STRING","'system.date'",624],")",["T_WHITESPACE","\n      ",624],["T_OBJECT_OPERATOR","->",625],["T_STRING","set",625],"(",["T_CONSTANT_ENCAPSED_STRING","'timezone.default'",625],",",["T_WHITESPACE"," ",625],["T_CONSTANT_ENCAPSED_STRING","'Australia\/Sydney'",625],")",["T_WHITESPACE","\n      ",625],["T_OBJECT_OPERATOR","->",626],["T_STRING","save",626],"(",")",";",["T_WHITESPACE","\n  ",626],"}",["T_WHITESPACE","\n\n  ",627],["T_DOC_COMMENT","\/**\n   * Reset and rebuild the environment after setup.\n   *\/",629],["T_WHITESPACE","\n  ",631],["T_PROTECTED","protected",632],["T_WHITESPACE"," ",632],["T_FUNCTION","function",632],["T_WHITESPACE"," ",632],["T_STRING","rebuildAll",632],"(",")",["T_WHITESPACE"," ",632],"{",["T_WHITESPACE","\n    ",632],["T_COMMENT","\/\/ Reset\/rebuild all data structures after enabling the modules, primarily\n",633],["T_WHITESPACE","    ",634],["T_COMMENT","\/\/ to synchronize all data structures and caches between the test runner and\n",634],["T_WHITESPACE","    ",635],["T_COMMENT","\/\/ the child site.\n",635],["T_WHITESPACE","    ",636],["T_COMMENT","\/\/ @see \\Drupal\\Core\\DrupalKernel::bootCode()\n",636],["T_WHITESPACE","    ",637],["T_COMMENT","\/\/ @todo Test-specific setUp() methods may set up further fixtures; find a\n",637],["T_WHITESPACE","    ",638],["T_COMMENT","\/\/   way to execute this after setUp() is done, or to eliminate it entirely.\n",638],["T_WHITESPACE","    ",639],["T_VARIABLE","$this",639],["T_OBJECT_OPERATOR","->",639],["T_STRING","resetAll",639],"(",")",";",["T_WHITESPACE","\n    ",639],["T_VARIABLE","$this",640],["T_OBJECT_OPERATOR","->",640],["T_STRING","kernel",640],["T_OBJECT_OPERATOR","->",640],["T_STRING","prepareLegacyRequest",640],"(",["T_NS_SEPARATOR","\\",640],["T_STRING","Drupal",640],["T_DOUBLE_COLON","::",640],["T_STRING","request",640],"(",")",")",";",["T_WHITESPACE","\n\n    ",640],["T_COMMENT","\/\/ Explicitly call register() again on the container registered in \\Drupal.\n",642],["T_WHITESPACE","    ",643],["T_COMMENT","\/\/ @todo This should already be called through\n",643],["T_WHITESPACE","    ",644],["T_COMMENT","\/\/   DrupalKernel::prepareLegacyRequest() -> DrupalKernel::boot() but that\n",644],["T_WHITESPACE","    ",645],["T_COMMENT","\/\/   appears to be calling a different container.\n",645],["T_WHITESPACE","    ",646],["T_VARIABLE","$this",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","container",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","get",646],"(",["T_CONSTANT_ENCAPSED_STRING","'stream_wrapper_manager'",646],")",["T_OBJECT_OPERATOR","->",646],["T_STRING","register",646],"(",")",";",["T_WHITESPACE","\n  ",646],"}",["T_WHITESPACE","\n\n  ",647],["T_DOC_COMMENT","\/**\n   * Returns the parameters that will be used when Simpletest installs Drupal.\n   *\n   * @see install_drupal()\n   * @see install_state_defaults()\n   *\n   * @return array\n   *   Array of parameters for use in install_drupal().\n   *\/",649],["T_WHITESPACE","\n  ",657],["T_PROTECTED","protected",658],["T_WHITESPACE"," ",658],["T_FUNCTION","function",658],["T_WHITESPACE"," ",658],["T_STRING","installParameters",658],"(",")",["T_WHITESPACE"," ",658],"{",["T_WHITESPACE","\n    ",658],["T_VARIABLE","$connection_info",659],["T_WHITESPACE"," ",659],"=",["T_WHITESPACE"," ",659],["T_STRING","Database",659],["T_DOUBLE_COLON","::",659],["T_STRING","getConnectionInfo",659],"(",")",";",["T_WHITESPACE","\n    ",659],["T_VARIABLE","$driver",660],["T_WHITESPACE"," ",660],"=",["T_WHITESPACE"," ",660],["T_VARIABLE","$connection_info",660],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",660],"]","[",["T_CONSTANT_ENCAPSED_STRING","'driver'",660],"]",";",["T_WHITESPACE","\n    ",660],["T_VARIABLE","$connection_info",661],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",661],"]","[",["T_CONSTANT_ENCAPSED_STRING","'prefix'",661],"]",["T_WHITESPACE"," ",661],"=",["T_WHITESPACE"," ",661],["T_VARIABLE","$connection_info",661],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",661],"]","[",["T_CONSTANT_ENCAPSED_STRING","'prefix'",661],"]","[",["T_CONSTANT_ENCAPSED_STRING","'default'",661],"]",";",["T_WHITESPACE","\n    ",661],["T_UNSET","unset",662],"(",["T_VARIABLE","$connection_info",662],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",662],"]","[",["T_CONSTANT_ENCAPSED_STRING","'driver'",662],"]",")",";",["T_WHITESPACE","\n    ",662],["T_UNSET","unset",663],"(",["T_VARIABLE","$connection_info",663],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",663],"]","[",["T_CONSTANT_ENCAPSED_STRING","'namespace'",663],"]",")",";",["T_WHITESPACE","\n    ",663],["T_UNSET","unset",664],"(",["T_VARIABLE","$connection_info",664],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",664],"]","[",["T_CONSTANT_ENCAPSED_STRING","'pdo'",664],"]",")",";",["T_WHITESPACE","\n    ",664],["T_UNSET","unset",665],"(",["T_VARIABLE","$connection_info",665],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",665],"]","[",["T_CONSTANT_ENCAPSED_STRING","'init_commands'",665],"]",")",";",["T_WHITESPACE","\n    ",665],["T_COMMENT","\/\/ Remove database connection info that is not used by SQLite.\n",666],["T_WHITESPACE","    ",667],["T_IF","if",667],["T_WHITESPACE"," ",667],"(",["T_VARIABLE","$driver",667],["T_WHITESPACE"," ",667],["T_IS_EQUAL","==",667],["T_WHITESPACE"," ",667],["T_CONSTANT_ENCAPSED_STRING","'sqlite'",667],")",["T_WHITESPACE"," ",667],"{",["T_WHITESPACE","\n      ",667],["T_UNSET","unset",668],"(",["T_VARIABLE","$connection_info",668],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",668],"]","[",["T_CONSTANT_ENCAPSED_STRING","'username'",668],"]",")",";",["T_WHITESPACE","\n      ",668],["T_UNSET","unset",669],"(",["T_VARIABLE","$connection_info",669],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",669],"]","[",["T_CONSTANT_ENCAPSED_STRING","'password'",669],"]",")",";",["T_WHITESPACE","\n      ",669],["T_UNSET","unset",670],"(",["T_VARIABLE","$connection_info",670],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",670],"]","[",["T_CONSTANT_ENCAPSED_STRING","'host'",670],"]",")",";",["T_WHITESPACE","\n      ",670],["T_UNSET","unset",671],"(",["T_VARIABLE","$connection_info",671],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",671],"]","[",["T_CONSTANT_ENCAPSED_STRING","'port'",671],"]",")",";",["T_WHITESPACE","\n    ",671],"}",["T_WHITESPACE","\n    ",672],["T_VARIABLE","$parameters",673],["T_WHITESPACE"," ",673],"=",["T_WHITESPACE"," ",673],["T_ARRAY","array",673],"(",["T_WHITESPACE","\n      ",673],["T_CONSTANT_ENCAPSED_STRING","'interactive'",674],["T_WHITESPACE"," ",674],["T_DOUBLE_ARROW","=>",674],["T_WHITESPACE"," ",674],["T_STRING","FALSE",674],",",["T_WHITESPACE","\n      ",674],["T_CONSTANT_ENCAPSED_STRING","'parameters'",675],["T_WHITESPACE"," ",675],["T_DOUBLE_ARROW","=>",675],["T_WHITESPACE"," ",675],["T_ARRAY","array",675],"(",["T_WHITESPACE","\n        ",675],["T_CONSTANT_ENCAPSED_STRING","'profile'",676],["T_WHITESPACE"," ",676],["T_DOUBLE_ARROW","=>",676],["T_WHITESPACE"," ",676],["T_VARIABLE","$this",676],["T_OBJECT_OPERATOR","->",676],["T_STRING","profile",676],",",["T_WHITESPACE","\n        ",676],["T_CONSTANT_ENCAPSED_STRING","'langcode'",677],["T_WHITESPACE"," ",677],["T_DOUBLE_ARROW","=>",677],["T_WHITESPACE"," ",677],["T_CONSTANT_ENCAPSED_STRING","'en'",677],",",["T_WHITESPACE","\n      ",677],")",",",["T_WHITESPACE","\n      ",678],["T_CONSTANT_ENCAPSED_STRING","'forms'",679],["T_WHITESPACE"," ",679],["T_DOUBLE_ARROW","=>",679],["T_WHITESPACE"," ",679],["T_ARRAY","array",679],"(",["T_WHITESPACE","\n        ",679],["T_CONSTANT_ENCAPSED_STRING","'install_settings_form'",680],["T_WHITESPACE"," ",680],["T_DOUBLE_ARROW","=>",680],["T_WHITESPACE"," ",680],["T_ARRAY","array",680],"(",["T_WHITESPACE","\n          ",680],["T_CONSTANT_ENCAPSED_STRING","'driver'",681],["T_WHITESPACE"," ",681],["T_DOUBLE_ARROW","=>",681],["T_WHITESPACE"," ",681],["T_VARIABLE","$driver",681],",",["T_WHITESPACE","\n          ",681],["T_VARIABLE","$driver",682],["T_WHITESPACE"," ",682],["T_DOUBLE_ARROW","=>",682],["T_WHITESPACE"," ",682],["T_VARIABLE","$connection_info",682],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",682],"]",",",["T_WHITESPACE","\n        ",682],")",",",["T_WHITESPACE","\n        ",683],["T_CONSTANT_ENCAPSED_STRING","'install_configure_form'",684],["T_WHITESPACE"," ",684],["T_DOUBLE_ARROW","=>",684],["T_WHITESPACE"," ",684],["T_ARRAY","array",684],"(",["T_WHITESPACE","\n          ",684],["T_CONSTANT_ENCAPSED_STRING","'site_name'",685],["T_WHITESPACE"," ",685],["T_DOUBLE_ARROW","=>",685],["T_WHITESPACE"," ",685],["T_CONSTANT_ENCAPSED_STRING","'Drupal'",685],",",["T_WHITESPACE","\n          ",685],["T_CONSTANT_ENCAPSED_STRING","'site_mail'",686],["T_WHITESPACE"," ",686],["T_DOUBLE_ARROW","=>",686],["T_WHITESPACE"," ",686],["T_CONSTANT_ENCAPSED_STRING","'simpletest@example.com'",686],",",["T_WHITESPACE","\n          ",686],["T_CONSTANT_ENCAPSED_STRING","'account'",687],["T_WHITESPACE"," ",687],["T_DOUBLE_ARROW","=>",687],["T_WHITESPACE"," ",687],["T_ARRAY","array",687],"(",["T_WHITESPACE","\n            ",687],["T_CONSTANT_ENCAPSED_STRING","'name'",688],["T_WHITESPACE"," ",688],["T_DOUBLE_ARROW","=>",688],["T_WHITESPACE"," ",688],["T_VARIABLE","$this",688],["T_OBJECT_OPERATOR","->",688],["T_STRING","rootUser",688],["T_OBJECT_OPERATOR","->",688],["T_STRING","name",688],",",["T_WHITESPACE","\n            ",688],["T_CONSTANT_ENCAPSED_STRING","'mail'",689],["T_WHITESPACE"," ",689],["T_DOUBLE_ARROW","=>",689],["T_WHITESPACE"," ",689],["T_VARIABLE","$this",689],["T_OBJECT_OPERATOR","->",689],["T_STRING","rootUser",689],["T_OBJECT_OPERATOR","->",689],["T_STRING","getEmail",689],"(",")",",",["T_WHITESPACE","\n            ",689],["T_CONSTANT_ENCAPSED_STRING","'pass'",690],["T_WHITESPACE"," ",690],["T_DOUBLE_ARROW","=>",690],["T_WHITESPACE"," ",690],["T_ARRAY","array",690],"(",["T_WHITESPACE","\n              ",690],["T_CONSTANT_ENCAPSED_STRING","'pass1'",691],["T_WHITESPACE"," ",691],["T_DOUBLE_ARROW","=>",691],["T_WHITESPACE"," ",691],["T_VARIABLE","$this",691],["T_OBJECT_OPERATOR","->",691],["T_STRING","rootUser",691],["T_OBJECT_OPERATOR","->",691],["T_STRING","pass_raw",691],",",["T_WHITESPACE","\n              ",691],["T_CONSTANT_ENCAPSED_STRING","'pass2'",692],["T_WHITESPACE"," ",692],["T_DOUBLE_ARROW","=>",692],["T_WHITESPACE"," ",692],["T_VARIABLE","$this",692],["T_OBJECT_OPERATOR","->",692],["T_STRING","rootUser",692],["T_OBJECT_OPERATOR","->",692],["T_STRING","pass_raw",692],",",["T_WHITESPACE","\n            ",692],")",",",["T_WHITESPACE","\n          ",693],")",",",["T_WHITESPACE","\n          ",694],["T_COMMENT","\/\/ \\Drupal\\Core\\Render\\Element\\Checkboxes::valueCallback() requires\n",695],["T_WHITESPACE","          ",696],["T_COMMENT","\/\/ NULL instead of FALSE values for programmatic form submissions to\n",696],["T_WHITESPACE","          ",697],["T_COMMENT","\/\/ disable a checkbox.\n",697],["T_WHITESPACE","          ",698],["T_CONSTANT_ENCAPSED_STRING","'update_status_module'",698],["T_WHITESPACE"," ",698],["T_DOUBLE_ARROW","=>",698],["T_WHITESPACE"," ",698],["T_ARRAY","array",698],"(",["T_WHITESPACE","\n            ",698],["T_LNUMBER","1",699],["T_WHITESPACE"," ",699],["T_DOUBLE_ARROW","=>",699],["T_WHITESPACE"," ",699],["T_STRING","NULL",699],",",["T_WHITESPACE","\n            ",699],["T_LNUMBER","2",700],["T_WHITESPACE"," ",700],["T_DOUBLE_ARROW","=>",700],["T_WHITESPACE"," ",700],["T_STRING","NULL",700],",",["T_WHITESPACE","\n          ",700],")",",",["T_WHITESPACE","\n        ",701],")",",",["T_WHITESPACE","\n      ",702],")",",",["T_WHITESPACE","\n    ",703],")",";",["T_WHITESPACE","\n\n    ",704],["T_COMMENT","\/\/ If we only have one db driver available, we cannot set the driver.\n",706],["T_WHITESPACE","    ",707],["T_INCLUDE_ONCE","include_once",707],["T_WHITESPACE"," ",707],["T_STRING","DRUPAL_ROOT",707],["T_WHITESPACE"," ",707],".",["T_WHITESPACE"," ",707],["T_CONSTANT_ENCAPSED_STRING","'\/core\/includes\/install.inc'",707],";",["T_WHITESPACE","\n    ",707],["T_IF","if",708],["T_WHITESPACE"," ",708],"(",["T_STRING","count",708],"(",["T_VARIABLE","$this",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","getDatabaseTypes",708],"(",")",")",["T_WHITESPACE"," ",708],["T_IS_EQUAL","==",708],["T_WHITESPACE"," ",708],["T_LNUMBER","1",708],")",["T_WHITESPACE"," ",708],"{",["T_WHITESPACE","\n      ",708],["T_UNSET","unset",709],"(",["T_VARIABLE","$parameters",709],"[",["T_CONSTANT_ENCAPSED_STRING","'forms'",709],"]","[",["T_CONSTANT_ENCAPSED_STRING","'install_settings_form'",709],"]","[",["T_CONSTANT_ENCAPSED_STRING","'driver'",709],"]",")",";",["T_WHITESPACE","\n    ",709],"}",["T_WHITESPACE","\n    ",710],["T_RETURN","return",711],["T_WHITESPACE"," ",711],["T_VARIABLE","$parameters",711],";",["T_WHITESPACE","\n  ",711],"}",["T_WHITESPACE","\n\n  ",712],["T_DOC_COMMENT","\/**\n   * Preserve the original batch, and instantiate the test batch.\n   *\/",714],["T_WHITESPACE","\n  ",716],["T_PROTECTED","protected",717],["T_WHITESPACE"," ",717],["T_FUNCTION","function",717],["T_WHITESPACE"," ",717],["T_STRING","setBatch",717],"(",")",["T_WHITESPACE"," ",717],"{",["T_WHITESPACE","\n    ",717],["T_COMMENT","\/\/ When running tests through the Simpletest UI (vs. on the command line),\n",718],["T_WHITESPACE","    ",719],["T_COMMENT","\/\/ Simpletest's batch conflicts with the installer's batch. Batch API does\n",719],["T_WHITESPACE","    ",720],["T_COMMENT","\/\/ not support the concept of nested batches (in which the nested is not\n",720],["T_WHITESPACE","    ",721],["T_COMMENT","\/\/ progressive), so we need to temporarily pretend there was no batch.\n",721],["T_WHITESPACE","    ",722],["T_COMMENT","\/\/ Backup the currently running Simpletest batch.\n",722],["T_WHITESPACE","    ",723],["T_VARIABLE","$this",723],["T_OBJECT_OPERATOR","->",723],["T_STRING","originalBatch",723],["T_WHITESPACE"," ",723],"=",["T_WHITESPACE"," ",723],["T_STRING","batch_get",723],"(",")",";",["T_WHITESPACE","\n\n    ",723],["T_COMMENT","\/\/ Reset the static batch to remove Simpletest's batch operations.\n",725],["T_WHITESPACE","    ",726],["T_VARIABLE","$batch",726],["T_WHITESPACE"," ",726],"=",["T_WHITESPACE"," ",726],"&",["T_STRING","batch_get",726],"(",")",";",["T_WHITESPACE","\n    ",726],["T_VARIABLE","$batch",727],["T_WHITESPACE"," ",727],"=",["T_WHITESPACE"," ",727],"[","]",";",["T_WHITESPACE","\n  ",727],"}",["T_WHITESPACE","\n\n  ",728],["T_DOC_COMMENT","\/**\n   * Restore the original batch.\n   *\n   * @see ::setBatch\n   *\/",730],["T_WHITESPACE","\n  ",734],["T_PROTECTED","protected",735],["T_WHITESPACE"," ",735],["T_FUNCTION","function",735],["T_WHITESPACE"," ",735],["T_STRING","restoreBatch",735],"(",")",["T_WHITESPACE"," ",735],"{",["T_WHITESPACE","\n    ",735],["T_COMMENT","\/\/ Restore the original Simpletest batch.\n",736],["T_WHITESPACE","    ",737],["T_VARIABLE","$batch",737],["T_WHITESPACE"," ",737],"=",["T_WHITESPACE"," ",737],"&",["T_STRING","batch_get",737],"(",")",";",["T_WHITESPACE","\n    ",737],["T_VARIABLE","$batch",738],["T_WHITESPACE"," ",738],"=",["T_WHITESPACE"," ",738],["T_VARIABLE","$this",738],["T_OBJECT_OPERATOR","->",738],["T_STRING","originalBatch",738],";",["T_WHITESPACE","\n  ",738],"}",["T_WHITESPACE","\n\n  ",739],["T_DOC_COMMENT","\/**\n   * Initializes user 1 for the site to be installed.\n   *\/",741],["T_WHITESPACE","\n  ",743],["T_PROTECTED","protected",744],["T_WHITESPACE"," ",744],["T_FUNCTION","function",744],["T_WHITESPACE"," ",744],["T_STRING","initUserSession",744],"(",")",["T_WHITESPACE"," ",744],"{",["T_WHITESPACE","\n    ",744],["T_COMMENT","\/\/ Define information about the user 1 account.\n",745],["T_WHITESPACE","    ",746],["T_VARIABLE","$this",746],["T_OBJECT_OPERATOR","->",746],["T_STRING","rootUser",746],["T_WHITESPACE"," ",746],"=",["T_WHITESPACE"," ",746],["T_NEW","new",746],["T_WHITESPACE"," ",746],["T_STRING","UserSession",746],"(",["T_ARRAY","array",746],"(",["T_WHITESPACE","\n      ",746],["T_CONSTANT_ENCAPSED_STRING","'uid'",747],["T_WHITESPACE"," ",747],["T_DOUBLE_ARROW","=>",747],["T_WHITESPACE"," ",747],["T_LNUMBER","1",747],",",["T_WHITESPACE","\n      ",747],["T_CONSTANT_ENCAPSED_STRING","'name'",748],["T_WHITESPACE"," ",748],["T_DOUBLE_ARROW","=>",748],["T_WHITESPACE"," ",748],["T_CONSTANT_ENCAPSED_STRING","'admin'",748],",",["T_WHITESPACE","\n      ",748],["T_CONSTANT_ENCAPSED_STRING","'mail'",749],["T_WHITESPACE"," ",749],["T_DOUBLE_ARROW","=>",749],["T_WHITESPACE"," ",749],["T_CONSTANT_ENCAPSED_STRING","'admin@example.com'",749],",",["T_WHITESPACE","\n      ",749],["T_CONSTANT_ENCAPSED_STRING","'pass_raw'",750],["T_WHITESPACE"," ",750],["T_DOUBLE_ARROW","=>",750],["T_WHITESPACE"," ",750],["T_VARIABLE","$this",750],["T_OBJECT_OPERATOR","->",750],["T_STRING","randomMachineName",750],"(",")",",",["T_WHITESPACE","\n      ",750],["T_CONSTANT_ENCAPSED_STRING","'timezone'",751],["T_WHITESPACE"," ",751],["T_DOUBLE_ARROW","=>",751],["T_WHITESPACE"," ",751],["T_STRING","date_default_timezone_get",751],"(",")",",",["T_WHITESPACE","\n    ",751],")",")",";",["T_WHITESPACE","\n\n    ",752],["T_COMMENT","\/\/ The child site derives its session name from the database prefix when\n",754],["T_WHITESPACE","    ",755],["T_COMMENT","\/\/ running web tests.\n",755],["T_WHITESPACE","    ",756],["T_VARIABLE","$this",756],["T_OBJECT_OPERATOR","->",756],["T_STRING","generateSessionName",756],"(",["T_VARIABLE","$this",756],["T_OBJECT_OPERATOR","->",756],["T_STRING","databasePrefix",756],")",";",["T_WHITESPACE","\n  ",756],"}",["T_WHITESPACE","\n\n  ",757],["T_DOC_COMMENT","\/**\n   * Initializes the kernel after installation.\n   *\n   * @param \\Symfony\\Component\\HttpFoundation\\Request $request\n   *   Request object.\n   *\n   * @return \\Symfony\\Component\\DependencyInjection\\ContainerInterface\n   *   The container.\n   *\/",759],["T_WHITESPACE","\n  ",767],["T_PROTECTED","protected",768],["T_WHITESPACE"," ",768],["T_FUNCTION","function",768],["T_WHITESPACE"," ",768],["T_STRING","initKernel",768],"(",["T_STRING","Request",768],["T_WHITESPACE"," ",768],["T_VARIABLE","$request",768],")",["T_WHITESPACE"," ",768],"{",["T_WHITESPACE","\n    ",768],["T_VARIABLE","$this",769],["T_OBJECT_OPERATOR","->",769],["T_STRING","kernel",769],["T_WHITESPACE"," ",769],"=",["T_WHITESPACE"," ",769],["T_STRING","DrupalKernel",769],["T_DOUBLE_COLON","::",769],["T_STRING","createFromRequest",769],"(",["T_VARIABLE","$request",769],",",["T_WHITESPACE"," ",769],["T_VARIABLE","$this",769],["T_OBJECT_OPERATOR","->",769],["T_STRING","classLoader",769],",",["T_WHITESPACE"," ",769],["T_CONSTANT_ENCAPSED_STRING","'prod'",769],",",["T_WHITESPACE"," ",769],["T_STRING","TRUE",769],")",";",["T_WHITESPACE","\n    ",769],["T_VARIABLE","$this",770],["T_OBJECT_OPERATOR","->",770],["T_STRING","kernel",770],["T_OBJECT_OPERATOR","->",770],["T_STRING","prepareLegacyRequest",770],"(",["T_VARIABLE","$request",770],")",";",["T_WHITESPACE","\n    ",770],["T_COMMENT","\/\/ Force the container to be built from scratch instead of loaded from the\n",771],["T_WHITESPACE","    ",772],["T_COMMENT","\/\/ disk. This forces us to not accidentally load the parent site.\n",772],["T_WHITESPACE","    ",773],["T_RETURN","return",773],["T_WHITESPACE"," ",773],["T_VARIABLE","$this",773],["T_OBJECT_OPERATOR","->",773],["T_STRING","kernel",773],["T_OBJECT_OPERATOR","->",773],["T_STRING","rebuildContainer",773],"(",")",";",["T_WHITESPACE","\n  ",773],"}",["T_WHITESPACE","\n\n  ",774],["T_DOC_COMMENT","\/**\n   * Install modules defined by `static::$modules`.\n   *\n   * To install test modules outside of the testing environment, add\n   * @code\n   * $settings['extension_discovery_scan_tests'] = TRUE;\n   * @endcode\n   * to your settings.php.\n   *\n   * @param \\Symfony\\Component\\DependencyInjection\\ContainerInterface $container\n   *   The container.\n   *\/",776],["T_WHITESPACE","\n  ",787],["T_PROTECTED","protected",788],["T_WHITESPACE"," ",788],["T_FUNCTION","function",788],["T_WHITESPACE"," ",788],["T_STRING","installModulesFromClassProperty",788],"(",["T_STRING","ContainerInterface",788],["T_WHITESPACE"," ",788],["T_VARIABLE","$container",788],")",["T_WHITESPACE"," ",788],"{",["T_WHITESPACE","\n    ",788],["T_VARIABLE","$class",789],["T_WHITESPACE"," ",789],"=",["T_WHITESPACE"," ",789],["T_STRING","get_class",789],"(",["T_VARIABLE","$this",789],")",";",["T_WHITESPACE","\n    ",789],["T_VARIABLE","$modules",790],["T_WHITESPACE"," ",790],"=",["T_WHITESPACE"," ",790],"[","]",";",["T_WHITESPACE","\n    ",790],["T_WHILE","while",791],["T_WHITESPACE"," ",791],"(",["T_VARIABLE","$class",791],")",["T_WHITESPACE"," ",791],"{",["T_WHITESPACE","\n      ",791],["T_IF","if",792],["T_WHITESPACE"," ",792],"(",["T_STRING","property_exists",792],"(",["T_VARIABLE","$class",792],",",["T_WHITESPACE"," ",792],["T_CONSTANT_ENCAPSED_STRING","'modules'",792],")",")",["T_WHITESPACE"," ",792],"{",["T_WHITESPACE","\n        ",792],["T_VARIABLE","$modules",793],["T_WHITESPACE"," ",793],"=",["T_WHITESPACE"," ",793],["T_STRING","array_merge",793],"(",["T_VARIABLE","$modules",793],",",["T_WHITESPACE"," ",793],["T_VARIABLE","$class",793],["T_DOUBLE_COLON","::",793],["T_VARIABLE","$modules",793],")",";",["T_WHITESPACE","\n      ",793],"}",["T_WHITESPACE","\n      ",794],["T_VARIABLE","$class",795],["T_WHITESPACE"," ",795],"=",["T_WHITESPACE"," ",795],["T_STRING","get_parent_class",795],"(",["T_VARIABLE","$class",795],")",";",["T_WHITESPACE","\n    ",795],"}",["T_WHITESPACE","\n    ",796],["T_IF","if",797],["T_WHITESPACE"," ",797],"(",["T_VARIABLE","$modules",797],")",["T_WHITESPACE"," ",797],"{",["T_WHITESPACE","\n      ",797],["T_VARIABLE","$modules",798],["T_WHITESPACE"," ",798],"=",["T_WHITESPACE"," ",798],["T_STRING","array_unique",798],"(",["T_VARIABLE","$modules",798],")",";",["T_WHITESPACE","\n      ",798],["T_TRY","try",799],["T_WHITESPACE"," ",799],"{",["T_WHITESPACE","\n        ",799],["T_VARIABLE","$success",800],["T_WHITESPACE"," ",800],"=",["T_WHITESPACE"," ",800],["T_VARIABLE","$container",800],["T_OBJECT_OPERATOR","->",800],["T_STRING","get",800],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",800],")",["T_OBJECT_OPERATOR","->",800],["T_STRING","install",800],"(",["T_VARIABLE","$modules",800],",",["T_WHITESPACE"," ",800],["T_STRING","TRUE",800],")",";",["T_WHITESPACE","\n        ",800],["T_VARIABLE","$this",801],["T_OBJECT_OPERATOR","->",801],["T_STRING","assertTrue",801],"(",["T_VARIABLE","$success",801],",",["T_WHITESPACE"," ",801],["T_STRING","SafeMarkup",801],["T_DOUBLE_COLON","::",801],["T_STRING","format",801],"(",["T_CONSTANT_ENCAPSED_STRING","'Enabled modules: %modules'",801],",",["T_WHITESPACE"," ",801],"[",["T_CONSTANT_ENCAPSED_STRING","'%modules'",801],["T_WHITESPACE"," ",801],["T_DOUBLE_ARROW","=>",801],["T_WHITESPACE"," ",801],["T_STRING","implode",801],"(",["T_CONSTANT_ENCAPSED_STRING","', '",801],",",["T_WHITESPACE"," ",801],["T_VARIABLE","$modules",801],")","]",")",")",";",["T_WHITESPACE","\n      ",801],"}",["T_WHITESPACE","\n      ",802],["T_CATCH","catch",803],["T_WHITESPACE"," ",803],"(",["T_STRING","MissingDependencyException",803],["T_WHITESPACE"," ",803],["T_VARIABLE","$e",803],")",["T_WHITESPACE"," ",803],"{",["T_WHITESPACE","\n        ",803],["T_COMMENT","\/\/ The exception message has all the details.\n",804],["T_WHITESPACE","        ",805],["T_VARIABLE","$this",805],["T_OBJECT_OPERATOR","->",805],["T_STRING","fail",805],"(",["T_VARIABLE","$e",805],["T_OBJECT_OPERATOR","->",805],["T_STRING","getMessage",805],"(",")",")",";",["T_WHITESPACE","\n      ",805],"}",["T_WHITESPACE","\n\n      ",806],["T_VARIABLE","$this",808],["T_OBJECT_OPERATOR","->",808],["T_STRING","rebuildContainer",808],"(",")",";",["T_WHITESPACE","\n    ",808],"}",["T_WHITESPACE","\n  ",809],"}",["T_WHITESPACE","\n\n  ",810],["T_DOC_COMMENT","\/**\n   * Returns all supported database driver installer objects.\n   *\n   * This wraps drupal_get_database_types() for use without a current container.\n   *\n   * @return \\Drupal\\Core\\Database\\Install\\Tasks[]\n   *   An array of available database driver installer objects.\n   *\/",812],["T_WHITESPACE","\n  ",819],["T_PROTECTED","protected",820],["T_WHITESPACE"," ",820],["T_FUNCTION","function",820],["T_WHITESPACE"," ",820],["T_STRING","getDatabaseTypes",820],"(",")",["T_WHITESPACE"," ",820],"{",["T_WHITESPACE","\n    ",820],["T_NS_SEPARATOR","\\",821],["T_STRING","Drupal",821],["T_DOUBLE_COLON","::",821],["T_STRING","setContainer",821],"(",["T_VARIABLE","$this",821],["T_OBJECT_OPERATOR","->",821],["T_STRING","originalContainer",821],")",";",["T_WHITESPACE","\n    ",821],["T_VARIABLE","$database_types",822],["T_WHITESPACE"," ",822],"=",["T_WHITESPACE"," ",822],["T_STRING","drupal_get_database_types",822],"(",")",";",["T_WHITESPACE","\n    ",822],["T_NS_SEPARATOR","\\",823],["T_STRING","Drupal",823],["T_DOUBLE_COLON","::",823],["T_STRING","unsetContainer",823],"(",")",";",["T_WHITESPACE","\n    ",823],["T_RETURN","return",824],["T_WHITESPACE"," ",824],["T_VARIABLE","$database_types",824],";",["T_WHITESPACE","\n  ",824],"}",["T_WHITESPACE","\n\n  ",825],["T_DOC_COMMENT","\/**\n   * Rewrites the settings.php file of the test site.\n   *\n   * @param array $settings\n   *   An array of settings to write out, in the format expected by\n   *   drupal_rewrite_settings().\n   *\n   * @see drupal_rewrite_settings()\n   *\/",827],["T_WHITESPACE","\n  ",835],["T_PROTECTED","protected",836],["T_WHITESPACE"," ",836],["T_FUNCTION","function",836],["T_WHITESPACE"," ",836],["T_STRING","writeSettings",836],"(",["T_ARRAY","array",836],["T_WHITESPACE"," ",836],["T_VARIABLE","$settings",836],")",["T_WHITESPACE"," ",836],"{",["T_WHITESPACE","\n    ",836],["T_INCLUDE_ONCE","include_once",837],["T_WHITESPACE"," ",837],["T_STRING","DRUPAL_ROOT",837],["T_WHITESPACE"," ",837],".",["T_WHITESPACE"," ",837],["T_CONSTANT_ENCAPSED_STRING","'\/core\/includes\/install.inc'",837],";",["T_WHITESPACE","\n    ",837],["T_VARIABLE","$filename",838],["T_WHITESPACE"," ",838],"=",["T_WHITESPACE"," ",838],["T_VARIABLE","$this",838],["T_OBJECT_OPERATOR","->",838],["T_STRING","siteDirectory",838],["T_WHITESPACE"," ",838],".",["T_WHITESPACE"," ",838],["T_CONSTANT_ENCAPSED_STRING","'\/settings.php'",838],";",["T_WHITESPACE","\n    ",838],["T_COMMENT","\/\/ system_requirements() removes write permissions from settings.php\n",839],["T_WHITESPACE","    ",840],["T_COMMENT","\/\/ whenever it is invoked.\n",840],["T_WHITESPACE","    ",841],["T_COMMENT","\/\/ Not using File API; a potential error must trigger a PHP warning.\n",841],["T_WHITESPACE","    ",842],["T_STRING","chmod",842],"(",["T_VARIABLE","$filename",842],",",["T_WHITESPACE"," ",842],["T_LNUMBER","0666",842],")",";",["T_WHITESPACE","\n    ",842],["T_STRING","drupal_rewrite_settings",843],"(",["T_VARIABLE","$settings",843],",",["T_WHITESPACE"," ",843],["T_VARIABLE","$filename",843],")",";",["T_WHITESPACE","\n  ",843],"}",["T_WHITESPACE","\n\n  ",844],["T_DOC_COMMENT","\/**\n   * Changes parameters in the services.yml file.\n   *\n   * @param $name\n   *   The name of the parameter.\n   * @param $value\n   *   The value of the parameter.\n   *\/",846],["T_WHITESPACE","\n  ",853],["T_PROTECTED","protected",854],["T_WHITESPACE"," ",854],["T_FUNCTION","function",854],["T_WHITESPACE"," ",854],["T_STRING","setContainerParameter",854],"(",["T_VARIABLE","$name",854],",",["T_WHITESPACE"," ",854],["T_VARIABLE","$value",854],")",["T_WHITESPACE"," ",854],"{",["T_WHITESPACE","\n    ",854],["T_VARIABLE","$filename",855],["T_WHITESPACE"," ",855],"=",["T_WHITESPACE"," ",855],["T_VARIABLE","$this",855],["T_OBJECT_OPERATOR","->",855],["T_STRING","siteDirectory",855],["T_WHITESPACE"," ",855],".",["T_WHITESPACE"," ",855],["T_CONSTANT_ENCAPSED_STRING","'\/services.yml'",855],";",["T_WHITESPACE","\n    ",855],["T_STRING","chmod",856],"(",["T_VARIABLE","$filename",856],",",["T_WHITESPACE"," ",856],["T_LNUMBER","0666",856],")",";",["T_WHITESPACE","\n\n    ",856],["T_VARIABLE","$services",858],["T_WHITESPACE"," ",858],"=",["T_WHITESPACE"," ",858],["T_STRING","Yaml",858],["T_DOUBLE_COLON","::",858],["T_STRING","decode",858],"(",["T_STRING","file_get_contents",858],"(",["T_VARIABLE","$filename",858],")",")",";",["T_WHITESPACE","\n    ",858],["T_VARIABLE","$services",859],"[",["T_CONSTANT_ENCAPSED_STRING","'parameters'",859],"]","[",["T_VARIABLE","$name",859],"]",["T_WHITESPACE"," ",859],"=",["T_WHITESPACE"," ",859],["T_VARIABLE","$value",859],";",["T_WHITESPACE","\n    ",859],["T_STRING","file_put_contents",860],"(",["T_VARIABLE","$filename",860],",",["T_WHITESPACE"," ",860],["T_STRING","Yaml",860],["T_DOUBLE_COLON","::",860],["T_STRING","encode",860],"(",["T_VARIABLE","$services",860],")",")",";",["T_WHITESPACE","\n\n    ",860],["T_COMMENT","\/\/ Ensure that the cache is deleted for the yaml file loader.\n",862],["T_WHITESPACE","    ",863],["T_VARIABLE","$file_cache",863],["T_WHITESPACE"," ",863],"=",["T_WHITESPACE"," ",863],["T_STRING","FileCacheFactory",863],["T_DOUBLE_COLON","::",863],["T_STRING","get",863],"(",["T_CONSTANT_ENCAPSED_STRING","'container_yaml_loader'",863],")",";",["T_WHITESPACE","\n    ",863],["T_VARIABLE","$file_cache",864],["T_OBJECT_OPERATOR","->",864],["T_STRING","delete",864],"(",["T_VARIABLE","$filename",864],")",";",["T_WHITESPACE","\n  ",864],"}",["T_WHITESPACE","\n\n  ",865],["T_DOC_COMMENT","\/**\n   * Queues custom translations to be written to settings.php.\n   *\n   * Use WebTestBase::writeCustomTranslations() to apply and write the queued\n   * translations.\n   *\n   * @param string $langcode\n   *   The langcode to add translations for.\n   * @param array $values\n   *   Array of values containing the untranslated string and its translation.\n   *   For example:\n   *   @code\n   *   array(\n   *     '' => array('Sunday' => 'domingo'),\n   *     'Long month name' => array('March' => 'marzo'),\n   *   );\n   *   @endcode\n   *   Pass an empty array to remove all existing custom translations for the\n   *   given $langcode.\n   *\/",867],["T_WHITESPACE","\n  ",886],["T_PROTECTED","protected",887],["T_WHITESPACE"," ",887],["T_FUNCTION","function",887],["T_WHITESPACE"," ",887],["T_STRING","addCustomTranslations",887],"(",["T_VARIABLE","$langcode",887],",",["T_WHITESPACE"," ",887],["T_ARRAY","array",887],["T_WHITESPACE"," ",887],["T_VARIABLE","$values",887],")",["T_WHITESPACE"," ",887],"{",["T_WHITESPACE","\n    ",887],["T_COMMENT","\/\/ If $values is empty, then the test expects all custom translations to be\n",888],["T_WHITESPACE","    ",889],["T_COMMENT","\/\/ cleared.\n",889],["T_WHITESPACE","    ",890],["T_IF","if",890],["T_WHITESPACE"," ",890],"(",["T_EMPTY","empty",890],"(",["T_VARIABLE","$values",890],")",")",["T_WHITESPACE"," ",890],"{",["T_WHITESPACE","\n      ",890],["T_VARIABLE","$this",891],["T_OBJECT_OPERATOR","->",891],["T_STRING","customTranslations",891],"[",["T_VARIABLE","$langcode",891],"]",["T_WHITESPACE"," ",891],"=",["T_WHITESPACE"," ",891],["T_ARRAY","array",891],"(",")",";",["T_WHITESPACE","\n    ",891],"}",["T_WHITESPACE","\n    ",892],["T_COMMENT","\/\/ Otherwise, $values are expected to be merged into previously passed\n",893],["T_WHITESPACE","    ",894],["T_COMMENT","\/\/ values, while retaining keys that are not explicitly set.\n",894],["T_WHITESPACE","    ",895],["T_ELSE","else",895],["T_WHITESPACE"," ",895],"{",["T_WHITESPACE","\n      ",895],["T_FOREACH","foreach",896],["T_WHITESPACE"," ",896],"(",["T_VARIABLE","$values",896],["T_WHITESPACE"," ",896],["T_AS","as",896],["T_WHITESPACE"," ",896],["T_VARIABLE","$context",896],["T_WHITESPACE"," ",896],["T_DOUBLE_ARROW","=>",896],["T_WHITESPACE"," ",896],["T_VARIABLE","$translations",896],")",["T_WHITESPACE"," ",896],"{",["T_WHITESPACE","\n        ",896],["T_FOREACH","foreach",897],["T_WHITESPACE"," ",897],"(",["T_VARIABLE","$translations",897],["T_WHITESPACE"," ",897],["T_AS","as",897],["T_WHITESPACE"," ",897],["T_VARIABLE","$original",897],["T_WHITESPACE"," ",897],["T_DOUBLE_ARROW","=>",897],["T_WHITESPACE"," ",897],["T_VARIABLE","$translation",897],")",["T_WHITESPACE"," ",897],"{",["T_WHITESPACE","\n          ",897],["T_VARIABLE","$this",898],["T_OBJECT_OPERATOR","->",898],["T_STRING","customTranslations",898],"[",["T_VARIABLE","$langcode",898],"]","[",["T_VARIABLE","$context",898],"]","[",["T_VARIABLE","$original",898],"]",["T_WHITESPACE"," ",898],"=",["T_WHITESPACE"," ",898],["T_VARIABLE","$translation",898],";",["T_WHITESPACE","\n        ",898],"}",["T_WHITESPACE","\n      ",899],"}",["T_WHITESPACE","\n    ",900],"}",["T_WHITESPACE","\n  ",901],"}",["T_WHITESPACE","\n\n  ",902],["T_DOC_COMMENT","\/**\n   * Writes custom translations to the test site's settings.php.\n   *\n   * Use TestBase::addCustomTranslations() to queue custom translations before\n   * calling this method.\n   *\/",904],["T_WHITESPACE","\n  ",909],["T_PROTECTED","protected",910],["T_WHITESPACE"," ",910],["T_FUNCTION","function",910],["T_WHITESPACE"," ",910],["T_STRING","writeCustomTranslations",910],"(",")",["T_WHITESPACE"," ",910],"{",["T_WHITESPACE","\n    ",910],["T_VARIABLE","$settings",911],["T_WHITESPACE"," ",911],"=",["T_WHITESPACE"," ",911],["T_ARRAY","array",911],"(",")",";",["T_WHITESPACE","\n    ",911],["T_FOREACH","foreach",912],["T_WHITESPACE"," ",912],"(",["T_VARIABLE","$this",912],["T_OBJECT_OPERATOR","->",912],["T_STRING","customTranslations",912],["T_WHITESPACE"," ",912],["T_AS","as",912],["T_WHITESPACE"," ",912],["T_VARIABLE","$langcode",912],["T_WHITESPACE"," ",912],["T_DOUBLE_ARROW","=>",912],["T_WHITESPACE"," ",912],["T_VARIABLE","$values",912],")",["T_WHITESPACE"," ",912],"{",["T_WHITESPACE","\n      ",912],["T_VARIABLE","$settings_key",913],["T_WHITESPACE"," ",913],"=",["T_WHITESPACE"," ",913],["T_CONSTANT_ENCAPSED_STRING","'locale_custom_strings_'",913],["T_WHITESPACE"," ",913],".",["T_WHITESPACE"," ",913],["T_VARIABLE","$langcode",913],";",["T_WHITESPACE","\n\n      ",913],["T_COMMENT","\/\/ Update in-memory settings directly.\n",915],["T_WHITESPACE","      ",916],["T_VARIABLE","$this",916],["T_OBJECT_OPERATOR","->",916],["T_STRING","settingsSet",916],"(",["T_VARIABLE","$settings_key",916],",",["T_WHITESPACE"," ",916],["T_VARIABLE","$values",916],")",";",["T_WHITESPACE","\n\n      ",916],["T_VARIABLE","$settings",918],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",918],"]","[",["T_VARIABLE","$settings_key",918],"]",["T_WHITESPACE"," ",918],"=",["T_WHITESPACE"," ",918],["T_OBJECT_CAST","(object)",918],["T_WHITESPACE"," ",918],["T_ARRAY","array",918],"(",["T_WHITESPACE","\n        ",918],["T_CONSTANT_ENCAPSED_STRING","'value'",919],["T_WHITESPACE"," ",919],["T_DOUBLE_ARROW","=>",919],["T_WHITESPACE"," ",919],["T_VARIABLE","$values",919],",",["T_WHITESPACE","\n        ",919],["T_CONSTANT_ENCAPSED_STRING","'required'",920],["T_WHITESPACE"," ",920],["T_DOUBLE_ARROW","=>",920],["T_WHITESPACE"," ",920],["T_STRING","TRUE",920],",",["T_WHITESPACE","\n      ",920],")",";",["T_WHITESPACE","\n    ",921],"}",["T_WHITESPACE","\n    ",922],["T_COMMENT","\/\/ Only rewrite settings if there are any translation changes to write.\n",923],["T_WHITESPACE","    ",924],["T_IF","if",924],["T_WHITESPACE"," ",924],"(","!",["T_EMPTY","empty",924],"(",["T_VARIABLE","$settings",924],")",")",["T_WHITESPACE"," ",924],"{",["T_WHITESPACE","\n      ",924],["T_VARIABLE","$this",925],["T_OBJECT_OPERATOR","->",925],["T_STRING","writeSettings",925],"(",["T_VARIABLE","$settings",925],")",";",["T_WHITESPACE","\n    ",925],"}",["T_WHITESPACE","\n  ",926],"}",["T_WHITESPACE","\n\n  ",927],["T_DOC_COMMENT","\/**\n   * Rebuilds \\Drupal::getContainer().\n   *\n   * Use this to update the test process's kernel with a new service container.\n   * For example, when the list of enabled modules is changed via the internal\n   * browser the test process's kernel has a service container with an out of\n   * date module list.\n   *\n   * @see TestBase::prepareEnvironment()\n   * @see TestBase::restoreEnvironment()\n   *\n   * @todo Fix https:\/\/www.drupal.org\/node\/2021959 so that module enable\/disable\n   *   changes are immediately reflected in \\Drupal::getContainer(). Until then,\n   *   tests can invoke this workaround when requiring services from newly\n   *   enabled modules to be immediately available in the same request.\n   *\/",929],["T_WHITESPACE","\n  ",944],["T_PROTECTED","protected",945],["T_WHITESPACE"," ",945],["T_FUNCTION","function",945],["T_WHITESPACE"," ",945],["T_STRING","rebuildContainer",945],"(",")",["T_WHITESPACE"," ",945],"{",["T_WHITESPACE","\n    ",945],["T_COMMENT","\/\/ Rebuild the kernel and bring it back to a fully bootstrapped state.\n",946],["T_WHITESPACE","    ",947],["T_VARIABLE","$this",947],["T_OBJECT_OPERATOR","->",947],["T_STRING","container",947],["T_WHITESPACE"," ",947],"=",["T_WHITESPACE"," ",947],["T_VARIABLE","$this",947],["T_OBJECT_OPERATOR","->",947],["T_STRING","kernel",947],["T_OBJECT_OPERATOR","->",947],["T_STRING","rebuildContainer",947],"(",")",";",["T_WHITESPACE","\n\n    ",947],["T_COMMENT","\/\/ Make sure the url generator has a request object, otherwise calls to\n",949],["T_WHITESPACE","    ",950],["T_COMMENT","\/\/ $this->drupalGet() will fail.\n",950],["T_WHITESPACE","    ",951],["T_VARIABLE","$this",951],["T_OBJECT_OPERATOR","->",951],["T_STRING","prepareRequestForGenerator",951],"(",")",";",["T_WHITESPACE","\n  ",951],"}",["T_WHITESPACE","\n\n  ",952],["T_DOC_COMMENT","\/**\n   * Resets all data structures after having enabled new modules.\n   *\n   * This method is called by \\Drupal\\simpletest\\WebTestBase::setUp() after\n   * enabling the requested modules. It must be called again when additional\n   * modules are enabled later.\n   *\/",954],["T_WHITESPACE","\n  ",960],["T_PROTECTED","protected",961],["T_WHITESPACE"," ",961],["T_FUNCTION","function",961],["T_WHITESPACE"," ",961],["T_STRING","resetAll",961],"(",")",["T_WHITESPACE"," ",961],"{",["T_WHITESPACE","\n    ",961],["T_COMMENT","\/\/ Clear all database and static caches and rebuild data structures.\n",962],["T_WHITESPACE","    ",963],["T_STRING","drupal_flush_all_caches",963],"(",")",";",["T_WHITESPACE","\n    ",963],["T_VARIABLE","$this",964],["T_OBJECT_OPERATOR","->",964],["T_STRING","container",964],["T_WHITESPACE"," ",964],"=",["T_WHITESPACE"," ",964],["T_NS_SEPARATOR","\\",964],["T_STRING","Drupal",964],["T_DOUBLE_COLON","::",964],["T_STRING","getContainer",964],"(",")",";",["T_WHITESPACE","\n\n    ",964],["T_COMMENT","\/\/ Reset static variables and reload permissions.\n",966],["T_WHITESPACE","    ",967],["T_VARIABLE","$this",967],["T_OBJECT_OPERATOR","->",967],["T_STRING","refreshVariables",967],"(",")",";",["T_WHITESPACE","\n  ",967],"}",["T_WHITESPACE","\n\n  ",968],["T_DOC_COMMENT","\/**\n   * Refreshes in-memory configuration and state information.\n   *\n   * Useful after a page request is made that changes configuration or state in\n   * a different thread.\n   *\n   * In other words calling a settings page with $this->drupalPostForm() with a\n   * changed value would update configuration to reflect that change, but in the\n   * thread that made the call (thread running the test) the changed values\n   * would not be picked up.\n   *\n   * This method clears the cache and loads a fresh copy.\n   *\/",970],["T_WHITESPACE","\n  ",982],["T_PROTECTED","protected",983],["T_WHITESPACE"," ",983],["T_FUNCTION","function",983],["T_WHITESPACE"," ",983],["T_STRING","refreshVariables",983],"(",")",["T_WHITESPACE"," ",983],"{",["T_WHITESPACE","\n    ",983],["T_COMMENT","\/\/ Clear the tag cache.\n",984],["T_WHITESPACE","    ",985],["T_NS_SEPARATOR","\\",985],["T_STRING","Drupal",985],["T_DOUBLE_COLON","::",985],["T_STRING","service",985],"(",["T_CONSTANT_ENCAPSED_STRING","'cache_tags.invalidator'",985],")",["T_OBJECT_OPERATOR","->",985],["T_STRING","resetChecksums",985],"(",")",";",["T_WHITESPACE","\n    ",985],["T_FOREACH","foreach",986],["T_WHITESPACE"," ",986],"(",["T_STRING","Cache",986],["T_DOUBLE_COLON","::",986],["T_STRING","getBins",986],"(",")",["T_WHITESPACE"," ",986],["T_AS","as",986],["T_WHITESPACE"," ",986],["T_VARIABLE","$backend",986],")",["T_WHITESPACE"," ",986],"{",["T_WHITESPACE","\n      ",986],["T_IF","if",987],["T_WHITESPACE"," ",987],"(",["T_STRING","is_callable",987],"(",["T_ARRAY","array",987],"(",["T_VARIABLE","$backend",987],",",["T_WHITESPACE"," ",987],["T_CONSTANT_ENCAPSED_STRING","'reset'",987],")",")",")",["T_WHITESPACE"," ",987],"{",["T_WHITESPACE","\n        ",987],["T_VARIABLE","$backend",988],["T_OBJECT_OPERATOR","->",988],["T_STRING","reset",988],"(",")",";",["T_WHITESPACE","\n      ",988],"}",["T_WHITESPACE","\n    ",989],"}",["T_WHITESPACE","\n\n    ",990],["T_VARIABLE","$this",992],["T_OBJECT_OPERATOR","->",992],["T_STRING","container",992],["T_OBJECT_OPERATOR","->",992],["T_STRING","get",992],"(",["T_CONSTANT_ENCAPSED_STRING","'config.factory'",992],")",["T_OBJECT_OPERATOR","->",992],["T_STRING","reset",992],"(",")",";",["T_WHITESPACE","\n    ",992],["T_VARIABLE","$this",993],["T_OBJECT_OPERATOR","->",993],["T_STRING","container",993],["T_OBJECT_OPERATOR","->",993],["T_STRING","get",993],"(",["T_CONSTANT_ENCAPSED_STRING","'state'",993],")",["T_OBJECT_OPERATOR","->",993],["T_STRING","resetCache",993],"(",")",";",["T_WHITESPACE","\n  ",993],"}",["T_WHITESPACE","\n\n  ",994],["T_DOC_COMMENT","\/**\n   * Cleans up after testing.\n   *\n   * Deletes created files and temporary files directory, deletes the tables\n   * created by setUp(), and resets the database prefix.\n   *\/",996],["T_WHITESPACE","\n  ",1001],["T_PROTECTED","protected",1002],["T_WHITESPACE"," ",1002],["T_FUNCTION","function",1002],["T_WHITESPACE"," ",1002],["T_STRING","tearDown",1002],"(",")",["T_WHITESPACE"," ",1002],"{",["T_WHITESPACE","\n    ",1002],["T_COMMENT","\/\/ Destroy the testing kernel.\n",1003],["T_WHITESPACE","    ",1004],["T_IF","if",1004],["T_WHITESPACE"," ",1004],"(",["T_ISSET","isset",1004],"(",["T_VARIABLE","$this",1004],["T_OBJECT_OPERATOR","->",1004],["T_STRING","kernel",1004],")",")",["T_WHITESPACE"," ",1004],"{",["T_WHITESPACE","\n      ",1004],["T_VARIABLE","$this",1005],["T_OBJECT_OPERATOR","->",1005],["T_STRING","kernel",1005],["T_OBJECT_OPERATOR","->",1005],["T_STRING","shutdown",1005],"(",")",";",["T_WHITESPACE","\n    ",1005],"}",["T_WHITESPACE","\n    ",1006],["T_STRING","parent",1007],["T_DOUBLE_COLON","::",1007],["T_STRING","tearDown",1007],"(",")",";",["T_WHITESPACE","\n\n    ",1007],["T_COMMENT","\/\/ Ensure that the maximum meta refresh count is reset.\n",1009],["T_WHITESPACE","    ",1010],["T_VARIABLE","$this",1010],["T_OBJECT_OPERATOR","->",1010],["T_STRING","maximumMetaRefreshCount",1010],["T_WHITESPACE"," ",1010],"=",["T_WHITESPACE"," ",1010],["T_STRING","NULL",1010],";",["T_WHITESPACE","\n\n    ",1010],["T_COMMENT","\/\/ Ensure that internal logged in variable and cURL options are reset.\n",1012],["T_WHITESPACE","    ",1013],["T_VARIABLE","$this",1013],["T_OBJECT_OPERATOR","->",1013],["T_STRING","loggedInUser",1013],["T_WHITESPACE"," ",1013],"=",["T_WHITESPACE"," ",1013],["T_STRING","FALSE",1013],";",["T_WHITESPACE","\n    ",1013],["T_VARIABLE","$this",1014],["T_OBJECT_OPERATOR","->",1014],["T_STRING","additionalCurlOptions",1014],["T_WHITESPACE"," ",1014],"=",["T_WHITESPACE"," ",1014],["T_ARRAY","array",1014],"(",")",";",["T_WHITESPACE","\n\n    ",1014],["T_COMMENT","\/\/ Close the CURL handler and reset the cookies array used for upgrade\n",1016],["T_WHITESPACE","    ",1017],["T_COMMENT","\/\/ testing so test classes containing multiple tests are not polluted.\n",1017],["T_WHITESPACE","    ",1018],["T_VARIABLE","$this",1018],["T_OBJECT_OPERATOR","->",1018],["T_STRING","curlClose",1018],"(",")",";",["T_WHITESPACE","\n    ",1018],["T_VARIABLE","$this",1019],["T_OBJECT_OPERATOR","->",1019],["T_STRING","curlCookies",1019],["T_WHITESPACE"," ",1019],"=",["T_WHITESPACE"," ",1019],["T_ARRAY","array",1019],"(",")",";",["T_WHITESPACE","\n    ",1019],["T_VARIABLE","$this",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","cookies",1020],["T_WHITESPACE"," ",1020],"=",["T_WHITESPACE"," ",1020],["T_ARRAY","array",1020],"(",")",";",["T_WHITESPACE","\n  ",1020],"}",["T_WHITESPACE","\n\n  ",1021],["T_DOC_COMMENT","\/**\n   * Initializes the cURL connection.\n   *\n   * If the simpletest_httpauth_credentials variable is set, this function will\n   * add HTTP authentication headers. This is necessary for testing sites that\n   * are protected by login credentials from public access.\n   * See the description of $curl_options for other options.\n   *\/",1023],["T_WHITESPACE","\n  ",1030],["T_PROTECTED","protected",1031],["T_WHITESPACE"," ",1031],["T_FUNCTION","function",1031],["T_WHITESPACE"," ",1031],["T_STRING","curlInitialize",1031],"(",")",["T_WHITESPACE"," ",1031],"{",["T_WHITESPACE","\n    ",1031],["T_GLOBAL","global",1032],["T_WHITESPACE"," ",1032],["T_VARIABLE","$base_url",1032],";",["T_WHITESPACE","\n\n    ",1032],["T_IF","if",1034],["T_WHITESPACE"," ",1034],"(","!",["T_ISSET","isset",1034],"(",["T_VARIABLE","$this",1034],["T_OBJECT_OPERATOR","->",1034],["T_STRING","curlHandle",1034],")",")",["T_WHITESPACE"," ",1034],"{",["T_WHITESPACE","\n      ",1034],["T_VARIABLE","$this",1035],["T_OBJECT_OPERATOR","->",1035],["T_STRING","curlHandle",1035],["T_WHITESPACE"," ",1035],"=",["T_WHITESPACE"," ",1035],["T_STRING","curl_init",1035],"(",")",";",["T_WHITESPACE","\n\n      ",1035],["T_COMMENT","\/\/ Some versions\/configurations of cURL break on a NULL cookie jar, so\n",1037],["T_WHITESPACE","      ",1038],["T_COMMENT","\/\/ supply a real file.\n",1038],["T_WHITESPACE","      ",1039],["T_IF","if",1039],["T_WHITESPACE"," ",1039],"(",["T_EMPTY","empty",1039],"(",["T_VARIABLE","$this",1039],["T_OBJECT_OPERATOR","->",1039],["T_STRING","cookieFile",1039],")",")",["T_WHITESPACE"," ",1039],"{",["T_WHITESPACE","\n        ",1039],["T_VARIABLE","$this",1040],["T_OBJECT_OPERATOR","->",1040],["T_STRING","cookieFile",1040],["T_WHITESPACE"," ",1040],"=",["T_WHITESPACE"," ",1040],["T_VARIABLE","$this",1040],["T_OBJECT_OPERATOR","->",1040],["T_STRING","publicFilesDirectory",1040],["T_WHITESPACE"," ",1040],".",["T_WHITESPACE"," ",1040],["T_CONSTANT_ENCAPSED_STRING","'\/cookie.jar'",1040],";",["T_WHITESPACE","\n      ",1040],"}",["T_WHITESPACE","\n\n      ",1041],["T_VARIABLE","$curl_options",1043],["T_WHITESPACE"," ",1043],"=",["T_WHITESPACE"," ",1043],["T_ARRAY","array",1043],"(",["T_WHITESPACE","\n        ",1043],["T_STRING","CURLOPT_COOKIEJAR",1044],["T_WHITESPACE"," ",1044],["T_DOUBLE_ARROW","=>",1044],["T_WHITESPACE"," ",1044],["T_VARIABLE","$this",1044],["T_OBJECT_OPERATOR","->",1044],["T_STRING","cookieFile",1044],",",["T_WHITESPACE","\n        ",1044],["T_STRING","CURLOPT_URL",1045],["T_WHITESPACE"," ",1045],["T_DOUBLE_ARROW","=>",1045],["T_WHITESPACE"," ",1045],["T_VARIABLE","$base_url",1045],",",["T_WHITESPACE","\n        ",1045],["T_STRING","CURLOPT_FOLLOWLOCATION",1046],["T_WHITESPACE"," ",1046],["T_DOUBLE_ARROW","=>",1046],["T_WHITESPACE"," ",1046],["T_STRING","FALSE",1046],",",["T_WHITESPACE","\n        ",1046],["T_STRING","CURLOPT_RETURNTRANSFER",1047],["T_WHITESPACE"," ",1047],["T_DOUBLE_ARROW","=>",1047],["T_WHITESPACE"," ",1047],["T_STRING","TRUE",1047],",",["T_WHITESPACE","\n        ",1047],["T_COMMENT","\/\/ Required to make the tests run on HTTPS.\n",1048],["T_WHITESPACE","        ",1049],["T_STRING","CURLOPT_SSL_VERIFYPEER",1049],["T_WHITESPACE"," ",1049],["T_DOUBLE_ARROW","=>",1049],["T_WHITESPACE"," ",1049],["T_STRING","FALSE",1049],",",["T_WHITESPACE","\n        ",1049],["T_COMMENT","\/\/ Required to make the tests run on HTTPS.\n",1050],["T_WHITESPACE","        ",1051],["T_STRING","CURLOPT_SSL_VERIFYHOST",1051],["T_WHITESPACE"," ",1051],["T_DOUBLE_ARROW","=>",1051],["T_WHITESPACE"," ",1051],["T_STRING","FALSE",1051],",",["T_WHITESPACE","\n        ",1051],["T_STRING","CURLOPT_HEADERFUNCTION",1052],["T_WHITESPACE"," ",1052],["T_DOUBLE_ARROW","=>",1052],["T_WHITESPACE"," ",1052],["T_ARRAY","array",1052],"(","&",["T_VARIABLE","$this",1052],",",["T_WHITESPACE"," ",1052],["T_CONSTANT_ENCAPSED_STRING","'curlHeaderCallback'",1052],")",",",["T_WHITESPACE","\n        ",1052],["T_STRING","CURLOPT_USERAGENT",1053],["T_WHITESPACE"," ",1053],["T_DOUBLE_ARROW","=>",1053],["T_WHITESPACE"," ",1053],["T_VARIABLE","$this",1053],["T_OBJECT_OPERATOR","->",1053],["T_STRING","databasePrefix",1053],",",["T_WHITESPACE","\n        ",1053],["T_COMMENT","\/\/ Disable support for the @ prefix for uploading files.\n",1054],["T_WHITESPACE","        ",1055],["T_STRING","CURLOPT_SAFE_UPLOAD",1055],["T_WHITESPACE"," ",1055],["T_DOUBLE_ARROW","=>",1055],["T_WHITESPACE"," ",1055],["T_STRING","TRUE",1055],",",["T_WHITESPACE","\n      ",1055],")",";",["T_WHITESPACE","\n      ",1056],["T_IF","if",1057],["T_WHITESPACE"," ",1057],"(",["T_ISSET","isset",1057],"(",["T_VARIABLE","$this",1057],["T_OBJECT_OPERATOR","->",1057],["T_STRING","httpAuthCredentials",1057],")",")",["T_WHITESPACE"," ",1057],"{",["T_WHITESPACE","\n        ",1057],["T_VARIABLE","$curl_options",1058],"[",["T_STRING","CURLOPT_HTTPAUTH",1058],"]",["T_WHITESPACE"," ",1058],"=",["T_WHITESPACE"," ",1058],["T_VARIABLE","$this",1058],["T_OBJECT_OPERATOR","->",1058],["T_STRING","httpAuthMethod",1058],";",["T_WHITESPACE","\n        ",1058],["T_VARIABLE","$curl_options",1059],"[",["T_STRING","CURLOPT_USERPWD",1059],"]",["T_WHITESPACE"," ",1059],"=",["T_WHITESPACE"," ",1059],["T_VARIABLE","$this",1059],["T_OBJECT_OPERATOR","->",1059],["T_STRING","httpAuthCredentials",1059],";",["T_WHITESPACE","\n      ",1059],"}",["T_WHITESPACE","\n      ",1060],["T_COMMENT","\/\/ curl_setopt_array() returns FALSE if any of the specified options\n",1061],["T_WHITESPACE","      ",1062],["T_COMMENT","\/\/ cannot be set, and stops processing any further options.\n",1062],["T_WHITESPACE","      ",1063],["T_VARIABLE","$result",1063],["T_WHITESPACE"," ",1063],"=",["T_WHITESPACE"," ",1063],["T_STRING","curl_setopt_array",1063],"(",["T_VARIABLE","$this",1063],["T_OBJECT_OPERATOR","->",1063],["T_STRING","curlHandle",1063],",",["T_WHITESPACE"," ",1063],["T_VARIABLE","$this",1063],["T_OBJECT_OPERATOR","->",1063],["T_STRING","additionalCurlOptions",1063],["T_WHITESPACE"," ",1063],"+",["T_WHITESPACE"," ",1063],["T_VARIABLE","$curl_options",1063],")",";",["T_WHITESPACE","\n      ",1063],["T_IF","if",1064],["T_WHITESPACE"," ",1064],"(","!",["T_VARIABLE","$result",1064],")",["T_WHITESPACE"," ",1064],"{",["T_WHITESPACE","\n        ",1064],["T_THROW","throw",1065],["T_WHITESPACE"," ",1065],["T_NEW","new",1065],["T_WHITESPACE"," ",1065],["T_NS_SEPARATOR","\\",1065],["T_STRING","UnexpectedValueException",1065],"(",["T_CONSTANT_ENCAPSED_STRING","'One or more cURL options could not be set.'",1065],")",";",["T_WHITESPACE","\n      ",1065],"}",["T_WHITESPACE","\n    ",1066],"}",["T_WHITESPACE","\n    ",1067],["T_COMMENT","\/\/ We set the user agent header on each request so as to use the current\n",1068],["T_WHITESPACE","    ",1069],["T_COMMENT","\/\/ time and a new uniqid.\n",1069],["T_WHITESPACE","    ",1070],["T_STRING","curl_setopt",1070],"(",["T_VARIABLE","$this",1070],["T_OBJECT_OPERATOR","->",1070],["T_STRING","curlHandle",1070],",",["T_WHITESPACE"," ",1070],["T_STRING","CURLOPT_USERAGENT",1070],",",["T_WHITESPACE"," ",1070],["T_STRING","drupal_generate_test_ua",1070],"(",["T_VARIABLE","$this",1070],["T_OBJECT_OPERATOR","->",1070],["T_STRING","databasePrefix",1070],")",")",";",["T_WHITESPACE","\n  ",1070],"}",["T_WHITESPACE","\n\n  ",1071],["T_DOC_COMMENT","\/**\n   * Initializes and executes a cURL request.\n   *\n   * @param $curl_options\n   *   An associative array of cURL options to set, where the keys are constants\n   *   defined by the cURL library. For a list of valid options, see\n   *   http:\/\/php.net\/manual\/function.curl-setopt.php\n   * @param $redirect\n   *   FALSE if this is an initial request, TRUE if this request is the result\n   *   of a redirect.\n   *\n   * @return\n   *   The content returned from the call to curl_exec().\n   *\n   * @see curlInitialize()\n   *\/",1073],["T_WHITESPACE","\n  ",1088],["T_PROTECTED","protected",1089],["T_WHITESPACE"," ",1089],["T_FUNCTION","function",1089],["T_WHITESPACE"," ",1089],["T_STRING","curlExec",1089],"(",["T_VARIABLE","$curl_options",1089],",",["T_WHITESPACE"," ",1089],["T_VARIABLE","$redirect",1089],["T_WHITESPACE"," ",1089],"=",["T_WHITESPACE"," ",1089],["T_STRING","FALSE",1089],")",["T_WHITESPACE"," ",1089],"{",["T_WHITESPACE","\n    ",1089],["T_VARIABLE","$this",1090],["T_OBJECT_OPERATOR","->",1090],["T_STRING","curlInitialize",1090],"(",")",";",["T_WHITESPACE","\n\n    ",1090],["T_IF","if",1092],["T_WHITESPACE"," ",1092],"(","!",["T_EMPTY","empty",1092],"(",["T_VARIABLE","$curl_options",1092],"[",["T_STRING","CURLOPT_URL",1092],"]",")",")",["T_WHITESPACE"," ",1092],"{",["T_WHITESPACE","\n      ",1092],["T_COMMENT","\/\/ cURL incorrectly handles URLs with a fragment by including the\n",1093],["T_WHITESPACE","      ",1094],["T_COMMENT","\/\/ fragment in the request to the server, causing some web servers\n",1094],["T_WHITESPACE","      ",1095],["T_COMMENT","\/\/ to reject the request citing \"400 - Bad Request\". To prevent\n",1095],["T_WHITESPACE","      ",1096],["T_COMMENT","\/\/ this, we strip the fragment from the request.\n",1096],["T_WHITESPACE","      ",1097],["T_COMMENT","\/\/ TODO: Remove this for Drupal 8, since fixed in curl 7.20.0.\n",1097],["T_WHITESPACE","      ",1098],["T_IF","if",1098],["T_WHITESPACE"," ",1098],"(",["T_STRING","strpos",1098],"(",["T_VARIABLE","$curl_options",1098],"[",["T_STRING","CURLOPT_URL",1098],"]",",",["T_WHITESPACE"," ",1098],["T_CONSTANT_ENCAPSED_STRING","'#'",1098],")",")",["T_WHITESPACE"," ",1098],"{",["T_WHITESPACE","\n        ",1098],["T_VARIABLE","$original_url",1099],["T_WHITESPACE"," ",1099],"=",["T_WHITESPACE"," ",1099],["T_VARIABLE","$curl_options",1099],"[",["T_STRING","CURLOPT_URL",1099],"]",";",["T_WHITESPACE","\n        ",1099],["T_VARIABLE","$curl_options",1100],"[",["T_STRING","CURLOPT_URL",1100],"]",["T_WHITESPACE"," ",1100],"=",["T_WHITESPACE"," ",1100],["T_STRING","strtok",1100],"(",["T_VARIABLE","$curl_options",1100],"[",["T_STRING","CURLOPT_URL",1100],"]",",",["T_WHITESPACE"," ",1100],["T_CONSTANT_ENCAPSED_STRING","'#'",1100],")",";",["T_WHITESPACE","\n      ",1100],"}",["T_WHITESPACE","\n    ",1101],"}",["T_WHITESPACE","\n\n    ",1102],["T_VARIABLE","$url",1104],["T_WHITESPACE"," ",1104],"=",["T_WHITESPACE"," ",1104],["T_EMPTY","empty",1104],"(",["T_VARIABLE","$curl_options",1104],"[",["T_STRING","CURLOPT_URL",1104],"]",")",["T_WHITESPACE"," ",1104],"?",["T_WHITESPACE"," ",1104],["T_STRING","curl_getinfo",1104],"(",["T_VARIABLE","$this",1104],["T_OBJECT_OPERATOR","->",1104],["T_STRING","curlHandle",1104],",",["T_WHITESPACE"," ",1104],["T_STRING","CURLINFO_EFFECTIVE_URL",1104],")",["T_WHITESPACE"," ",1104],":",["T_WHITESPACE"," ",1104],["T_VARIABLE","$curl_options",1104],"[",["T_STRING","CURLOPT_URL",1104],"]",";",["T_WHITESPACE","\n\n    ",1104],["T_IF","if",1106],["T_WHITESPACE"," ",1106],"(","!",["T_EMPTY","empty",1106],"(",["T_VARIABLE","$curl_options",1106],"[",["T_STRING","CURLOPT_POST",1106],"]",")",")",["T_WHITESPACE"," ",1106],"{",["T_WHITESPACE","\n      ",1106],["T_COMMENT","\/\/ This is a fix for the Curl library to prevent Expect: 100-continue\n",1107],["T_WHITESPACE","      ",1108],["T_COMMENT","\/\/ headers in POST requests, that may cause unexpected HTTP response\n",1108],["T_WHITESPACE","      ",1109],["T_COMMENT","\/\/ codes from some webservers (like lighttpd that returns a 417 error\n",1109],["T_WHITESPACE","      ",1110],["T_COMMENT","\/\/ code). It is done by setting an empty \"Expect\" header field that is\n",1110],["T_WHITESPACE","      ",1111],["T_COMMENT","\/\/ not overwritten by Curl.\n",1111],["T_WHITESPACE","      ",1112],["T_VARIABLE","$curl_options",1112],"[",["T_STRING","CURLOPT_HTTPHEADER",1112],"]","[","]",["T_WHITESPACE"," ",1112],"=",["T_WHITESPACE"," ",1112],["T_CONSTANT_ENCAPSED_STRING","'Expect:'",1112],";",["T_WHITESPACE","\n    ",1112],"}",["T_WHITESPACE","\n\n    ",1113],["T_VARIABLE","$cookies",1115],["T_WHITESPACE"," ",1115],"=",["T_WHITESPACE"," ",1115],["T_ARRAY","array",1115],"(",")",";",["T_WHITESPACE","\n    ",1115],["T_IF","if",1116],["T_WHITESPACE"," ",1116],"(","!",["T_EMPTY","empty",1116],"(",["T_VARIABLE","$this",1116],["T_OBJECT_OPERATOR","->",1116],["T_STRING","curlCookies",1116],")",")",["T_WHITESPACE"," ",1116],"{",["T_WHITESPACE","\n      ",1116],["T_VARIABLE","$cookies",1117],["T_WHITESPACE"," ",1117],"=",["T_WHITESPACE"," ",1117],["T_VARIABLE","$this",1117],["T_OBJECT_OPERATOR","->",1117],["T_STRING","curlCookies",1117],";",["T_WHITESPACE","\n    ",1117],"}",["T_WHITESPACE","\n    ",1118],["T_COMMENT","\/\/ In order to debug web tests you need to either set a cookie, have the\n",1119],["T_WHITESPACE","    ",1120],["T_COMMENT","\/\/ Xdebug session in the URL or set an environment variable in case of CLI\n",1120],["T_WHITESPACE","    ",1121],["T_COMMENT","\/\/ requests. If the developer listens to connection on the parent site, by\n",1121],["T_WHITESPACE","    ",1122],["T_COMMENT","\/\/ default the cookie is not forwarded to the client side, so you cannot\n",1122],["T_WHITESPACE","    ",1123],["T_COMMENT","\/\/ debug the code running on the child site. In order to make debuggers work\n",1123],["T_WHITESPACE","    ",1124],["T_COMMENT","\/\/ this bit of information is forwarded. Make sure that the debugger listens\n",1124],["T_WHITESPACE","    ",1125],["T_COMMENT","\/\/ to at least three external connections.\n",1125],["T_WHITESPACE","    ",1126],["T_VARIABLE","$request",1126],["T_WHITESPACE"," ",1126],"=",["T_WHITESPACE"," ",1126],["T_NS_SEPARATOR","\\",1126],["T_STRING","Drupal",1126],["T_DOUBLE_COLON","::",1126],["T_STRING","request",1126],"(",")",";",["T_WHITESPACE","\n    ",1126],["T_VARIABLE","$cookie_params",1127],["T_WHITESPACE"," ",1127],"=",["T_WHITESPACE"," ",1127],["T_VARIABLE","$request",1127],["T_OBJECT_OPERATOR","->",1127],["T_STRING","cookies",1127],";",["T_WHITESPACE","\n    ",1127],["T_IF","if",1128],["T_WHITESPACE"," ",1128],"(",["T_VARIABLE","$cookie_params",1128],["T_OBJECT_OPERATOR","->",1128],["T_STRING","has",1128],"(",["T_CONSTANT_ENCAPSED_STRING","'XDEBUG_SESSION'",1128],")",")",["T_WHITESPACE"," ",1128],"{",["T_WHITESPACE","\n      ",1128],["T_VARIABLE","$cookies",1129],"[","]",["T_WHITESPACE"," ",1129],"=",["T_WHITESPACE"," ",1129],["T_CONSTANT_ENCAPSED_STRING","'XDEBUG_SESSION='",1129],["T_WHITESPACE"," ",1129],".",["T_WHITESPACE"," ",1129],["T_VARIABLE","$cookie_params",1129],["T_OBJECT_OPERATOR","->",1129],["T_STRING","get",1129],"(",["T_CONSTANT_ENCAPSED_STRING","'XDEBUG_SESSION'",1129],")",";",["T_WHITESPACE","\n    ",1129],"}",["T_WHITESPACE","\n    ",1130],["T_COMMENT","\/\/ For CLI requests, the information is stored in $_SERVER.\n",1131],["T_WHITESPACE","    ",1132],["T_VARIABLE","$server",1132],["T_WHITESPACE"," ",1132],"=",["T_WHITESPACE"," ",1132],["T_VARIABLE","$request",1132],["T_OBJECT_OPERATOR","->",1132],["T_STRING","server",1132],";",["T_WHITESPACE","\n    ",1132],["T_IF","if",1133],["T_WHITESPACE"," ",1133],"(",["T_VARIABLE","$server",1133],["T_OBJECT_OPERATOR","->",1133],["T_STRING","has",1133],"(",["T_CONSTANT_ENCAPSED_STRING","'XDEBUG_CONFIG'",1133],")",")",["T_WHITESPACE"," ",1133],"{",["T_WHITESPACE","\n      ",1133],["T_COMMENT","\/\/ $_SERVER['XDEBUG_CONFIG'] has the form \"key1=value1 key2=value2 ...\".\n",1134],["T_WHITESPACE","      ",1135],["T_VARIABLE","$pairs",1135],["T_WHITESPACE"," ",1135],"=",["T_WHITESPACE"," ",1135],["T_STRING","explode",1135],"(",["T_CONSTANT_ENCAPSED_STRING","' '",1135],",",["T_WHITESPACE"," ",1135],["T_VARIABLE","$server",1135],["T_OBJECT_OPERATOR","->",1135],["T_STRING","get",1135],"(",["T_CONSTANT_ENCAPSED_STRING","'XDEBUG_CONFIG'",1135],")",")",";",["T_WHITESPACE","\n      ",1135],["T_FOREACH","foreach",1136],["T_WHITESPACE"," ",1136],"(",["T_VARIABLE","$pairs",1136],["T_WHITESPACE"," ",1136],["T_AS","as",1136],["T_WHITESPACE"," ",1136],["T_VARIABLE","$pair",1136],")",["T_WHITESPACE"," ",1136],"{",["T_WHITESPACE","\n        ",1136],["T_LIST","list",1137],"(",["T_VARIABLE","$key",1137],",",["T_WHITESPACE"," ",1137],["T_VARIABLE","$value",1137],")",["T_WHITESPACE"," ",1137],"=",["T_WHITESPACE"," ",1137],["T_STRING","explode",1137],"(",["T_CONSTANT_ENCAPSED_STRING","'='",1137],",",["T_WHITESPACE"," ",1137],["T_VARIABLE","$pair",1137],")",";",["T_WHITESPACE","\n        ",1137],["T_COMMENT","\/\/ Account for key-value pairs being separated by multiple spaces.\n",1138],["T_WHITESPACE","        ",1139],["T_IF","if",1139],["T_WHITESPACE"," ",1139],"(",["T_STRING","trim",1139],"(",["T_VARIABLE","$key",1139],",",["T_WHITESPACE"," ",1139],["T_CONSTANT_ENCAPSED_STRING","' '",1139],")",["T_WHITESPACE"," ",1139],["T_IS_EQUAL","==",1139],["T_WHITESPACE"," ",1139],["T_CONSTANT_ENCAPSED_STRING","'idekey'",1139],")",["T_WHITESPACE"," ",1139],"{",["T_WHITESPACE","\n          ",1139],["T_VARIABLE","$cookies",1140],"[","]",["T_WHITESPACE"," ",1140],"=",["T_WHITESPACE"," ",1140],["T_CONSTANT_ENCAPSED_STRING","'XDEBUG_SESSION='",1140],["T_WHITESPACE"," ",1140],".",["T_WHITESPACE"," ",1140],["T_STRING","trim",1140],"(",["T_VARIABLE","$value",1140],",",["T_WHITESPACE"," ",1140],["T_CONSTANT_ENCAPSED_STRING","' '",1140],")",";",["T_WHITESPACE","\n        ",1140],"}",["T_WHITESPACE","\n      ",1141],"}",["T_WHITESPACE","\n    ",1142],"}",["T_WHITESPACE","\n\n    ",1143],["T_COMMENT","\/\/ Merge additional cookies in.\n",1145],["T_WHITESPACE","    ",1146],["T_IF","if",1146],["T_WHITESPACE"," ",1146],"(","!",["T_EMPTY","empty",1146],"(",["T_VARIABLE","$cookies",1146],")",")",["T_WHITESPACE"," ",1146],"{",["T_WHITESPACE","\n      ",1146],["T_VARIABLE","$curl_options",1147],["T_WHITESPACE"," ",1147],["T_PLUS_EQUAL","+=",1147],["T_WHITESPACE"," ",1147],["T_ARRAY","array",1147],"(",["T_WHITESPACE","\n        ",1147],["T_STRING","CURLOPT_COOKIE",1148],["T_WHITESPACE"," ",1148],["T_DOUBLE_ARROW","=>",1148],["T_WHITESPACE"," ",1148],["T_CONSTANT_ENCAPSED_STRING","''",1148],",",["T_WHITESPACE","\n      ",1148],")",";",["T_WHITESPACE","\n      ",1149],["T_COMMENT","\/\/ Ensure any existing cookie data string ends with the correct separator.\n",1150],["T_WHITESPACE","      ",1151],["T_IF","if",1151],["T_WHITESPACE"," ",1151],"(","!",["T_EMPTY","empty",1151],"(",["T_VARIABLE","$curl_options",1151],"[",["T_STRING","CURLOPT_COOKIE",1151],"]",")",")",["T_WHITESPACE"," ",1151],"{",["T_WHITESPACE","\n        ",1151],["T_VARIABLE","$curl_options",1152],"[",["T_STRING","CURLOPT_COOKIE",1152],"]",["T_WHITESPACE"," ",1152],"=",["T_WHITESPACE"," ",1152],["T_STRING","rtrim",1152],"(",["T_VARIABLE","$curl_options",1152],"[",["T_STRING","CURLOPT_COOKIE",1152],"]",",",["T_WHITESPACE"," ",1152],["T_CONSTANT_ENCAPSED_STRING","'; '",1152],")",["T_WHITESPACE"," ",1152],".",["T_WHITESPACE"," ",1152],["T_CONSTANT_ENCAPSED_STRING","'; '",1152],";",["T_WHITESPACE","\n      ",1152],"}",["T_WHITESPACE","\n      ",1153],["T_VARIABLE","$curl_options",1154],"[",["T_STRING","CURLOPT_COOKIE",1154],"]",["T_WHITESPACE"," ",1154],["T_CONCAT_EQUAL",".=",1154],["T_WHITESPACE"," ",1154],["T_STRING","implode",1154],"(",["T_CONSTANT_ENCAPSED_STRING","'; '",1154],",",["T_WHITESPACE"," ",1154],["T_VARIABLE","$cookies",1154],")",["T_WHITESPACE"," ",1154],".",["T_WHITESPACE"," ",1154],["T_CONSTANT_ENCAPSED_STRING","';'",1154],";",["T_WHITESPACE","\n    ",1154],"}",["T_WHITESPACE","\n\n    ",1155],["T_STRING","curl_setopt_array",1157],"(",["T_VARIABLE","$this",1157],["T_OBJECT_OPERATOR","->",1157],["T_STRING","curlHandle",1157],",",["T_WHITESPACE"," ",1157],["T_VARIABLE","$this",1157],["T_OBJECT_OPERATOR","->",1157],["T_STRING","additionalCurlOptions",1157],["T_WHITESPACE"," ",1157],"+",["T_WHITESPACE"," ",1157],["T_VARIABLE","$curl_options",1157],")",";",["T_WHITESPACE","\n\n    ",1157],["T_IF","if",1159],["T_WHITESPACE"," ",1159],"(","!",["T_VARIABLE","$redirect",1159],")",["T_WHITESPACE"," ",1159],"{",["T_WHITESPACE","\n      ",1159],["T_COMMENT","\/\/ Reset headers, the session ID and the redirect counter.\n",1160],["T_WHITESPACE","      ",1161],["T_VARIABLE","$this",1161],["T_OBJECT_OPERATOR","->",1161],["T_STRING","sessionId",1161],["T_WHITESPACE"," ",1161],"=",["T_WHITESPACE"," ",1161],["T_STRING","NULL",1161],";",["T_WHITESPACE","\n      ",1161],["T_VARIABLE","$this",1162],["T_OBJECT_OPERATOR","->",1162],["T_STRING","headers",1162],["T_WHITESPACE"," ",1162],"=",["T_WHITESPACE"," ",1162],["T_ARRAY","array",1162],"(",")",";",["T_WHITESPACE","\n      ",1162],["T_VARIABLE","$this",1163],["T_OBJECT_OPERATOR","->",1163],["T_STRING","redirectCount",1163],["T_WHITESPACE"," ",1163],"=",["T_WHITESPACE"," ",1163],["T_LNUMBER","0",1163],";",["T_WHITESPACE","\n    ",1163],"}",["T_WHITESPACE","\n\n    ",1164],["T_VARIABLE","$content",1166],["T_WHITESPACE"," ",1166],"=",["T_WHITESPACE"," ",1166],["T_STRING","curl_exec",1166],"(",["T_VARIABLE","$this",1166],["T_OBJECT_OPERATOR","->",1166],["T_STRING","curlHandle",1166],")",";",["T_WHITESPACE","\n    ",1166],["T_VARIABLE","$status",1167],["T_WHITESPACE"," ",1167],"=",["T_WHITESPACE"," ",1167],["T_STRING","curl_getinfo",1167],"(",["T_VARIABLE","$this",1167],["T_OBJECT_OPERATOR","->",1167],["T_STRING","curlHandle",1167],",",["T_WHITESPACE"," ",1167],["T_STRING","CURLINFO_HTTP_CODE",1167],")",";",["T_WHITESPACE","\n\n    ",1167],["T_COMMENT","\/\/ cURL incorrectly handles URLs with fragments, so instead of\n",1169],["T_WHITESPACE","    ",1170],["T_COMMENT","\/\/ letting cURL handle redirects we take of them ourselves to\n",1170],["T_WHITESPACE","    ",1171],["T_COMMENT","\/\/ to prevent fragments being sent to the web server as part\n",1171],["T_WHITESPACE","    ",1172],["T_COMMENT","\/\/ of the request.\n",1172],["T_WHITESPACE","    ",1173],["T_COMMENT","\/\/ TODO: Remove this for Drupal 8, since fixed in curl 7.20.0.\n",1173],["T_WHITESPACE","    ",1174],["T_IF","if",1174],["T_WHITESPACE"," ",1174],"(",["T_STRING","in_array",1174],"(",["T_VARIABLE","$status",1174],",",["T_WHITESPACE"," ",1174],["T_ARRAY","array",1174],"(",["T_LNUMBER","300",1174],",",["T_WHITESPACE"," ",1174],["T_LNUMBER","301",1174],",",["T_WHITESPACE"," ",1174],["T_LNUMBER","302",1174],",",["T_WHITESPACE"," ",1174],["T_LNUMBER","303",1174],",",["T_WHITESPACE"," ",1174],["T_LNUMBER","305",1174],",",["T_WHITESPACE"," ",1174],["T_LNUMBER","307",1174],")",")",["T_WHITESPACE"," ",1174],["T_BOOLEAN_AND","&&",1174],["T_WHITESPACE"," ",1174],["T_VARIABLE","$this",1174],["T_OBJECT_OPERATOR","->",1174],["T_STRING","redirectCount",1174],["T_WHITESPACE"," ",1174],"<",["T_WHITESPACE"," ",1174],["T_VARIABLE","$this",1174],["T_OBJECT_OPERATOR","->",1174],["T_STRING","maximumRedirects",1174],")",["T_WHITESPACE"," ",1174],"{",["T_WHITESPACE","\n      ",1174],["T_IF","if",1175],["T_WHITESPACE"," ",1175],"(",["T_VARIABLE","$this",1175],["T_OBJECT_OPERATOR","->",1175],["T_STRING","drupalGetHeader",1175],"(",["T_CONSTANT_ENCAPSED_STRING","'location'",1175],")",")",["T_WHITESPACE"," ",1175],"{",["T_WHITESPACE","\n        ",1175],["T_VARIABLE","$this",1176],["T_OBJECT_OPERATOR","->",1176],["T_STRING","redirectCount",1176],["T_INC","++",1176],";",["T_WHITESPACE","\n        ",1176],["T_VARIABLE","$curl_options",1177],["T_WHITESPACE"," ",1177],"=",["T_WHITESPACE"," ",1177],["T_ARRAY","array",1177],"(",")",";",["T_WHITESPACE","\n        ",1177],["T_VARIABLE","$curl_options",1178],"[",["T_STRING","CURLOPT_URL",1178],"]",["T_WHITESPACE"," ",1178],"=",["T_WHITESPACE"," ",1178],["T_VARIABLE","$this",1178],["T_OBJECT_OPERATOR","->",1178],["T_STRING","drupalGetHeader",1178],"(",["T_CONSTANT_ENCAPSED_STRING","'location'",1178],")",";",["T_WHITESPACE","\n        ",1178],["T_VARIABLE","$curl_options",1179],"[",["T_STRING","CURLOPT_HTTPGET",1179],"]",["T_WHITESPACE"," ",1179],"=",["T_WHITESPACE"," ",1179],["T_STRING","TRUE",1179],";",["T_WHITESPACE","\n        ",1179],["T_RETURN","return",1180],["T_WHITESPACE"," ",1180],["T_VARIABLE","$this",1180],["T_OBJECT_OPERATOR","->",1180],["T_STRING","curlExec",1180],"(",["T_VARIABLE","$curl_options",1180],",",["T_WHITESPACE"," ",1180],["T_STRING","TRUE",1180],")",";",["T_WHITESPACE","\n      ",1180],"}",["T_WHITESPACE","\n    ",1181],"}",["T_WHITESPACE","\n\n    ",1182],["T_VARIABLE","$this",1184],["T_OBJECT_OPERATOR","->",1184],["T_STRING","setRawContent",1184],"(",["T_VARIABLE","$content",1184],")",";",["T_WHITESPACE","\n    ",1184],["T_VARIABLE","$this",1185],["T_OBJECT_OPERATOR","->",1185],["T_STRING","url",1185],["T_WHITESPACE"," ",1185],"=",["T_WHITESPACE"," ",1185],["T_ISSET","isset",1185],"(",["T_VARIABLE","$original_url",1185],")",["T_WHITESPACE"," ",1185],"?",["T_WHITESPACE"," ",1185],["T_VARIABLE","$original_url",1185],["T_WHITESPACE"," ",1185],":",["T_WHITESPACE"," ",1185],["T_STRING","curl_getinfo",1185],"(",["T_VARIABLE","$this",1185],["T_OBJECT_OPERATOR","->",1185],["T_STRING","curlHandle",1185],",",["T_WHITESPACE"," ",1185],["T_STRING","CURLINFO_EFFECTIVE_URL",1185],")",";",["T_WHITESPACE","\n\n    ",1185],["T_VARIABLE","$message_vars",1187],["T_WHITESPACE"," ",1187],"=",["T_WHITESPACE"," ",1187],["T_ARRAY","array",1187],"(",["T_WHITESPACE","\n      ",1187],["T_CONSTANT_ENCAPSED_STRING","'@method'",1188],["T_WHITESPACE"," ",1188],["T_DOUBLE_ARROW","=>",1188],["T_WHITESPACE"," ",1188],"!",["T_EMPTY","empty",1188],"(",["T_VARIABLE","$curl_options",1188],"[",["T_STRING","CURLOPT_NOBODY",1188],"]",")",["T_WHITESPACE"," ",1188],"?",["T_WHITESPACE"," ",1188],["T_CONSTANT_ENCAPSED_STRING","'HEAD'",1188],["T_WHITESPACE"," ",1188],":",["T_WHITESPACE"," ",1188],"(",["T_EMPTY","empty",1188],"(",["T_VARIABLE","$curl_options",1188],"[",["T_STRING","CURLOPT_POSTFIELDS",1188],"]",")",["T_WHITESPACE"," ",1188],"?",["T_WHITESPACE"," ",1188],["T_CONSTANT_ENCAPSED_STRING","'GET'",1188],["T_WHITESPACE"," ",1188],":",["T_WHITESPACE"," ",1188],["T_CONSTANT_ENCAPSED_STRING","'POST'",1188],")",",",["T_WHITESPACE","\n      ",1188],["T_CONSTANT_ENCAPSED_STRING","'@url'",1189],["T_WHITESPACE"," ",1189],["T_DOUBLE_ARROW","=>",1189],["T_WHITESPACE"," ",1189],["T_ISSET","isset",1189],"(",["T_VARIABLE","$original_url",1189],")",["T_WHITESPACE"," ",1189],"?",["T_WHITESPACE"," ",1189],["T_VARIABLE","$original_url",1189],["T_WHITESPACE"," ",1189],":",["T_WHITESPACE"," ",1189],["T_VARIABLE","$url",1189],",",["T_WHITESPACE","\n      ",1189],["T_CONSTANT_ENCAPSED_STRING","'@status'",1190],["T_WHITESPACE"," ",1190],["T_DOUBLE_ARROW","=>",1190],["T_WHITESPACE"," ",1190],["T_VARIABLE","$status",1190],",",["T_WHITESPACE","\n      ",1190],["T_CONSTANT_ENCAPSED_STRING","'@length'",1191],["T_WHITESPACE"," ",1191],["T_DOUBLE_ARROW","=>",1191],["T_WHITESPACE"," ",1191],["T_STRING","format_size",1191],"(",["T_STRING","strlen",1191],"(",["T_VARIABLE","$this",1191],["T_OBJECT_OPERATOR","->",1191],["T_STRING","getRawContent",1191],"(",")",")",")",["T_WHITESPACE","\n    ",1191],")",";",["T_WHITESPACE","\n    ",1192],["T_VARIABLE","$message",1193],["T_WHITESPACE"," ",1193],"=",["T_WHITESPACE"," ",1193],["T_STRING","SafeMarkup",1193],["T_DOUBLE_COLON","::",1193],["T_STRING","format",1193],"(",["T_CONSTANT_ENCAPSED_STRING","'@method @url returned @status (@length).'",1193],",",["T_WHITESPACE"," ",1193],["T_VARIABLE","$message_vars",1193],")",";",["T_WHITESPACE","\n    ",1193],["T_VARIABLE","$this",1194],["T_OBJECT_OPERATOR","->",1194],["T_STRING","assertTrue",1194],"(",["T_VARIABLE","$this",1194],["T_OBJECT_OPERATOR","->",1194],["T_STRING","getRawContent",1194],"(",")",["T_WHITESPACE"," ",1194],["T_IS_NOT_IDENTICAL","!==",1194],["T_WHITESPACE"," ",1194],["T_STRING","FALSE",1194],",",["T_WHITESPACE"," ",1194],["T_VARIABLE","$message",1194],",",["T_WHITESPACE"," ",1194],["T_CONSTANT_ENCAPSED_STRING","'Browser'",1194],")",";",["T_WHITESPACE","\n    ",1194],["T_RETURN","return",1195],["T_WHITESPACE"," ",1195],["T_VARIABLE","$this",1195],["T_OBJECT_OPERATOR","->",1195],["T_STRING","getRawContent",1195],"(",")",";",["T_WHITESPACE","\n  ",1195],"}",["T_WHITESPACE","\n\n  ",1196],["T_DOC_COMMENT","\/**\n   * Reads headers and registers errors received from the tested site.\n   *\n   * @param $curlHandler\n   *   The cURL handler.\n   * @param $header\n   *   An header.\n   *\n   * @see _drupal_log_error()\n   *\/",1198],["T_WHITESPACE","\n  ",1207],["T_PROTECTED","protected",1208],["T_WHITESPACE"," ",1208],["T_FUNCTION","function",1208],["T_WHITESPACE"," ",1208],["T_STRING","curlHeaderCallback",1208],"(",["T_VARIABLE","$curlHandler",1208],",",["T_WHITESPACE"," ",1208],["T_VARIABLE","$header",1208],")",["T_WHITESPACE"," ",1208],"{",["T_WHITESPACE","\n    ",1208],["T_COMMENT","\/\/ Header fields can be extended over multiple lines by preceding each\n",1209],["T_WHITESPACE","    ",1210],["T_COMMENT","\/\/ extra line with at least one SP or HT. They should be joined on receive.\n",1210],["T_WHITESPACE","    ",1211],["T_COMMENT","\/\/ Details are in RFC2616 section 4.\n",1211],["T_WHITESPACE","    ",1212],["T_IF","if",1212],["T_WHITESPACE"," ",1212],"(",["T_VARIABLE","$header",1212],"[",["T_LNUMBER","0",1212],"]",["T_WHITESPACE"," ",1212],["T_IS_EQUAL","==",1212],["T_WHITESPACE"," ",1212],["T_CONSTANT_ENCAPSED_STRING","' '",1212],["T_WHITESPACE"," ",1212],["T_BOOLEAN_OR","||",1212],["T_WHITESPACE"," ",1212],["T_VARIABLE","$header",1212],"[",["T_LNUMBER","0",1212],"]",["T_WHITESPACE"," ",1212],["T_IS_EQUAL","==",1212],["T_WHITESPACE"," ",1212],["T_CONSTANT_ENCAPSED_STRING","\"\\t\"",1212],")",["T_WHITESPACE"," ",1212],"{",["T_WHITESPACE","\n      ",1212],["T_COMMENT","\/\/ Normalize whitespace between chucks.\n",1213],["T_WHITESPACE","      ",1214],["T_VARIABLE","$this",1214],["T_OBJECT_OPERATOR","->",1214],["T_STRING","headers",1214],"[","]",["T_WHITESPACE"," ",1214],"=",["T_WHITESPACE"," ",1214],["T_STRING","array_pop",1214],"(",["T_VARIABLE","$this",1214],["T_OBJECT_OPERATOR","->",1214],["T_STRING","headers",1214],")",["T_WHITESPACE"," ",1214],".",["T_WHITESPACE"," ",1214],["T_CONSTANT_ENCAPSED_STRING","' '",1214],["T_WHITESPACE"," ",1214],".",["T_WHITESPACE"," ",1214],["T_STRING","trim",1214],"(",["T_VARIABLE","$header",1214],")",";",["T_WHITESPACE","\n    ",1214],"}",["T_WHITESPACE","\n    ",1215],["T_ELSE","else",1216],["T_WHITESPACE"," ",1216],"{",["T_WHITESPACE","\n      ",1216],["T_VARIABLE","$this",1217],["T_OBJECT_OPERATOR","->",1217],["T_STRING","headers",1217],"[","]",["T_WHITESPACE"," ",1217],"=",["T_WHITESPACE"," ",1217],["T_VARIABLE","$header",1217],";",["T_WHITESPACE","\n    ",1217],"}",["T_WHITESPACE","\n\n    ",1218],["T_COMMENT","\/\/ Errors are being sent via X-Drupal-Assertion-* headers,\n",1220],["T_WHITESPACE","    ",1221],["T_COMMENT","\/\/ generated by _drupal_log_error() in the exact form required\n",1221],["T_WHITESPACE","    ",1222],["T_COMMENT","\/\/ by \\Drupal\\simpletest\\WebTestBase::error().\n",1222],["T_WHITESPACE","    ",1223],["T_IF","if",1223],["T_WHITESPACE"," ",1223],"(",["T_STRING","preg_match",1223],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^X-Drupal-Assertion-[0-9]+: (.*)$\/'",1223],",",["T_WHITESPACE"," ",1223],["T_VARIABLE","$header",1223],",",["T_WHITESPACE"," ",1223],["T_VARIABLE","$matches",1223],")",")",["T_WHITESPACE"," ",1223],"{",["T_WHITESPACE","\n      ",1223],["T_COMMENT","\/\/ Call \\Drupal\\simpletest\\WebTestBase::error() with the parameters from\n",1224],["T_WHITESPACE","      ",1225],["T_COMMENT","\/\/ the header.\n",1225],["T_WHITESPACE","      ",1226],["T_STRING","call_user_func_array",1226],"(",["T_ARRAY","array",1226],"(","&",["T_VARIABLE","$this",1226],",",["T_WHITESPACE"," ",1226],["T_CONSTANT_ENCAPSED_STRING","'error'",1226],")",",",["T_WHITESPACE"," ",1226],["T_STRING","unserialize",1226],"(",["T_STRING","urldecode",1226],"(",["T_VARIABLE","$matches",1226],"[",["T_LNUMBER","1",1226],"]",")",")",")",";",["T_WHITESPACE","\n    ",1226],"}",["T_WHITESPACE","\n\n    ",1227],["T_COMMENT","\/\/ Save cookies.\n",1229],["T_WHITESPACE","    ",1230],["T_IF","if",1230],["T_WHITESPACE"," ",1230],"(",["T_STRING","preg_match",1230],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^Set-Cookie: ([^=]+)=(.+)\/'",1230],",",["T_WHITESPACE"," ",1230],["T_VARIABLE","$header",1230],",",["T_WHITESPACE"," ",1230],["T_VARIABLE","$matches",1230],")",")",["T_WHITESPACE"," ",1230],"{",["T_WHITESPACE","\n      ",1230],["T_VARIABLE","$name",1231],["T_WHITESPACE"," ",1231],"=",["T_WHITESPACE"," ",1231],["T_VARIABLE","$matches",1231],"[",["T_LNUMBER","1",1231],"]",";",["T_WHITESPACE","\n      ",1231],["T_VARIABLE","$parts",1232],["T_WHITESPACE"," ",1232],"=",["T_WHITESPACE"," ",1232],["T_STRING","array_map",1232],"(",["T_CONSTANT_ENCAPSED_STRING","'trim'",1232],",",["T_WHITESPACE"," ",1232],["T_STRING","explode",1232],"(",["T_CONSTANT_ENCAPSED_STRING","';'",1232],",",["T_WHITESPACE"," ",1232],["T_VARIABLE","$matches",1232],"[",["T_LNUMBER","2",1232],"]",")",")",";",["T_WHITESPACE","\n      ",1232],["T_VARIABLE","$value",1233],["T_WHITESPACE"," ",1233],"=",["T_WHITESPACE"," ",1233],["T_STRING","array_shift",1233],"(",["T_VARIABLE","$parts",1233],")",";",["T_WHITESPACE","\n      ",1233],["T_VARIABLE","$this",1234],["T_OBJECT_OPERATOR","->",1234],["T_STRING","cookies",1234],"[",["T_VARIABLE","$name",1234],"]",["T_WHITESPACE"," ",1234],"=",["T_WHITESPACE"," ",1234],["T_ARRAY","array",1234],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",1234],["T_WHITESPACE"," ",1234],["T_DOUBLE_ARROW","=>",1234],["T_WHITESPACE"," ",1234],["T_VARIABLE","$value",1234],",",["T_WHITESPACE"," ",1234],["T_CONSTANT_ENCAPSED_STRING","'secure'",1234],["T_WHITESPACE"," ",1234],["T_DOUBLE_ARROW","=>",1234],["T_WHITESPACE"," ",1234],["T_STRING","in_array",1234],"(",["T_CONSTANT_ENCAPSED_STRING","'secure'",1234],",",["T_WHITESPACE"," ",1234],["T_VARIABLE","$parts",1234],")",")",";",["T_WHITESPACE","\n      ",1234],["T_IF","if",1235],["T_WHITESPACE"," ",1235],"(",["T_VARIABLE","$name",1235],["T_WHITESPACE"," ",1235],["T_IS_IDENTICAL","===",1235],["T_WHITESPACE"," ",1235],["T_VARIABLE","$this",1235],["T_OBJECT_OPERATOR","->",1235],["T_STRING","getSessionName",1235],"(",")",")",["T_WHITESPACE"," ",1235],"{",["T_WHITESPACE","\n        ",1235],["T_IF","if",1236],["T_WHITESPACE"," ",1236],"(",["T_VARIABLE","$value",1236],["T_WHITESPACE"," ",1236],["T_IS_NOT_EQUAL","!=",1236],["T_WHITESPACE"," ",1236],["T_CONSTANT_ENCAPSED_STRING","'deleted'",1236],")",["T_WHITESPACE"," ",1236],"{",["T_WHITESPACE","\n          ",1236],["T_VARIABLE","$this",1237],["T_OBJECT_OPERATOR","->",1237],["T_STRING","sessionId",1237],["T_WHITESPACE"," ",1237],"=",["T_WHITESPACE"," ",1237],["T_VARIABLE","$value",1237],";",["T_WHITESPACE","\n        ",1237],"}",["T_WHITESPACE","\n        ",1238],["T_ELSE","else",1239],["T_WHITESPACE"," ",1239],"{",["T_WHITESPACE","\n          ",1239],["T_VARIABLE","$this",1240],["T_OBJECT_OPERATOR","->",1240],["T_STRING","sessionId",1240],["T_WHITESPACE"," ",1240],"=",["T_WHITESPACE"," ",1240],["T_STRING","NULL",1240],";",["T_WHITESPACE","\n        ",1240],"}",["T_WHITESPACE","\n      ",1241],"}",["T_WHITESPACE","\n    ",1242],"}",["T_WHITESPACE","\n\n    ",1243],["T_COMMENT","\/\/ This is required by cURL.\n",1245],["T_WHITESPACE","    ",1246],["T_RETURN","return",1246],["T_WHITESPACE"," ",1246],["T_STRING","strlen",1246],"(",["T_VARIABLE","$header",1246],")",";",["T_WHITESPACE","\n  ",1246],"}",["T_WHITESPACE","\n\n  ",1247],["T_DOC_COMMENT","\/**\n   * Close the cURL handler and unset the handler.\n   *\/",1249],["T_WHITESPACE","\n  ",1251],["T_PROTECTED","protected",1252],["T_WHITESPACE"," ",1252],["T_FUNCTION","function",1252],["T_WHITESPACE"," ",1252],["T_STRING","curlClose",1252],"(",")",["T_WHITESPACE"," ",1252],"{",["T_WHITESPACE","\n    ",1252],["T_IF","if",1253],["T_WHITESPACE"," ",1253],"(",["T_ISSET","isset",1253],"(",["T_VARIABLE","$this",1253],["T_OBJECT_OPERATOR","->",1253],["T_STRING","curlHandle",1253],")",")",["T_WHITESPACE"," ",1253],"{",["T_WHITESPACE","\n      ",1253],["T_STRING","curl_close",1254],"(",["T_VARIABLE","$this",1254],["T_OBJECT_OPERATOR","->",1254],["T_STRING","curlHandle",1254],")",";",["T_WHITESPACE","\n      ",1254],["T_UNSET","unset",1255],"(",["T_VARIABLE","$this",1255],["T_OBJECT_OPERATOR","->",1255],["T_STRING","curlHandle",1255],")",";",["T_WHITESPACE","\n    ",1255],"}",["T_WHITESPACE","\n  ",1256],"}",["T_WHITESPACE","\n\n  ",1257],["T_DOC_COMMENT","\/**\n   * Returns whether the test is being executed from within a test site.\n   *\n   * Mainly used by recursive tests (i.e. to test the testing framework).\n   *\n   * @return bool\n   *   TRUE if this test was instantiated in a request within the test site,\n   *   FALSE otherwise.\n   *\n   * @see \\Drupal\\Core\\DrupalKernel::bootConfiguration()\n   *\/",1259],["T_WHITESPACE","\n  ",1269],["T_PROTECTED","protected",1270],["T_WHITESPACE"," ",1270],["T_FUNCTION","function",1270],["T_WHITESPACE"," ",1270],["T_STRING","isInChildSite",1270],"(",")",["T_WHITESPACE"," ",1270],"{",["T_WHITESPACE","\n    ",1270],["T_RETURN","return",1271],["T_WHITESPACE"," ",1271],["T_STRING","DRUPAL_TEST_IN_CHILD_SITE",1271],";",["T_WHITESPACE","\n  ",1271],"}",["T_WHITESPACE","\n\n  ",1272],["T_DOC_COMMENT","\/**\n   * Retrieves a Drupal path or an absolute path.\n   *\n   * @param \\Drupal\\Core\\Url|string $path\n   *   Drupal path or URL to load into internal browser\n   * @param $options\n   *   Options to be forwarded to the url generator.\n   * @param $headers\n   *   An array containing additional HTTP request headers, each formatted as\n   *   \"name: value\".\n   *\n   * @return string\n   *   The retrieved HTML string, also available as $this->getRawContent()\n   *\/",1274],["T_WHITESPACE","\n  ",1287],["T_PROTECTED","protected",1288],["T_WHITESPACE"," ",1288],["T_FUNCTION","function",1288],["T_WHITESPACE"," ",1288],["T_STRING","drupalGet",1288],"(",["T_VARIABLE","$path",1288],",",["T_WHITESPACE"," ",1288],["T_ARRAY","array",1288],["T_WHITESPACE"," ",1288],["T_VARIABLE","$options",1288],["T_WHITESPACE"," ",1288],"=",["T_WHITESPACE"," ",1288],["T_ARRAY","array",1288],"(",")",",",["T_WHITESPACE"," ",1288],["T_ARRAY","array",1288],["T_WHITESPACE"," ",1288],["T_VARIABLE","$headers",1288],["T_WHITESPACE"," ",1288],"=",["T_WHITESPACE"," ",1288],["T_ARRAY","array",1288],"(",")",")",["T_WHITESPACE"," ",1288],"{",["T_WHITESPACE","\n    ",1288],["T_COMMENT","\/\/ We re-using a CURL connection here. If that connection still has certain\n",1289],["T_WHITESPACE","    ",1290],["T_COMMENT","\/\/ options set, it might change the GET into a POST. Make sure we clear out\n",1290],["T_WHITESPACE","    ",1291],["T_COMMENT","\/\/ previous options.\n",1291],["T_WHITESPACE","    ",1292],["T_VARIABLE","$out",1292],["T_WHITESPACE"," ",1292],"=",["T_WHITESPACE"," ",1292],["T_VARIABLE","$this",1292],["T_OBJECT_OPERATOR","->",1292],["T_STRING","curlExec",1292],"(",["T_ARRAY","array",1292],"(",["T_STRING","CURLOPT_HTTPGET",1292],["T_WHITESPACE"," ",1292],["T_DOUBLE_ARROW","=>",1292],["T_WHITESPACE"," ",1292],["T_STRING","TRUE",1292],",",["T_WHITESPACE"," ",1292],["T_STRING","CURLOPT_URL",1292],["T_WHITESPACE"," ",1292],["T_DOUBLE_ARROW","=>",1292],["T_WHITESPACE"," ",1292],["T_VARIABLE","$this",1292],["T_OBJECT_OPERATOR","->",1292],["T_STRING","buildUrl",1292],"(",["T_VARIABLE","$path",1292],",",["T_WHITESPACE"," ",1292],["T_VARIABLE","$options",1292],")",",",["T_WHITESPACE"," ",1292],["T_STRING","CURLOPT_NOBODY",1292],["T_WHITESPACE"," ",1292],["T_DOUBLE_ARROW","=>",1292],["T_WHITESPACE"," ",1292],["T_STRING","FALSE",1292],",",["T_WHITESPACE"," ",1292],["T_STRING","CURLOPT_HTTPHEADER",1292],["T_WHITESPACE"," ",1292],["T_DOUBLE_ARROW","=>",1292],["T_WHITESPACE"," ",1292],["T_VARIABLE","$headers",1292],")",")",";",["T_WHITESPACE","\n    ",1292],["T_COMMENT","\/\/ Ensure that any changes to variables in the other thread are picked up.\n",1293],["T_WHITESPACE","    ",1294],["T_VARIABLE","$this",1294],["T_OBJECT_OPERATOR","->",1294],["T_STRING","refreshVariables",1294],"(",")",";",["T_WHITESPACE","\n\n    ",1294],["T_COMMENT","\/\/ Replace original page output with new output from redirected page(s).\n",1296],["T_WHITESPACE","    ",1297],["T_IF","if",1297],["T_WHITESPACE"," ",1297],"(",["T_VARIABLE","$new",1297],["T_WHITESPACE"," ",1297],"=",["T_WHITESPACE"," ",1297],["T_VARIABLE","$this",1297],["T_OBJECT_OPERATOR","->",1297],["T_STRING","checkForMetaRefresh",1297],"(",")",")",["T_WHITESPACE"," ",1297],"{",["T_WHITESPACE","\n      ",1297],["T_VARIABLE","$out",1298],["T_WHITESPACE"," ",1298],"=",["T_WHITESPACE"," ",1298],["T_VARIABLE","$new",1298],";",["T_WHITESPACE","\n      ",1298],["T_COMMENT","\/\/ We are finished with all meta refresh redirects, so reset the counter.\n",1299],["T_WHITESPACE","      ",1300],["T_VARIABLE","$this",1300],["T_OBJECT_OPERATOR","->",1300],["T_STRING","metaRefreshCount",1300],["T_WHITESPACE"," ",1300],"=",["T_WHITESPACE"," ",1300],["T_LNUMBER","0",1300],";",["T_WHITESPACE","\n    ",1300],"}",["T_WHITESPACE","\n\n    ",1301],["T_IF","if",1303],["T_WHITESPACE"," ",1303],"(",["T_VARIABLE","$path",1303],["T_WHITESPACE"," ",1303],["T_INSTANCEOF","instanceof",1303],["T_WHITESPACE"," ",1303],["T_STRING","Url",1303],")",["T_WHITESPACE"," ",1303],"{",["T_WHITESPACE","\n      ",1303],["T_VARIABLE","$path",1304],["T_WHITESPACE"," ",1304],"=",["T_WHITESPACE"," ",1304],["T_VARIABLE","$path",1304],["T_OBJECT_OPERATOR","->",1304],["T_STRING","toString",1304],"(",")",";",["T_WHITESPACE","\n    ",1304],"}",["T_WHITESPACE","\n\n    ",1305],["T_VARIABLE","$verbose",1307],["T_WHITESPACE"," ",1307],"=",["T_WHITESPACE"," ",1307],["T_CONSTANT_ENCAPSED_STRING","'GET request to: '",1307],["T_WHITESPACE"," ",1307],".",["T_WHITESPACE"," ",1307],["T_VARIABLE","$path",1307],["T_WHITESPACE"," ",1307],".",["T_WHITESPACE","\n               ",1307],["T_CONSTANT_ENCAPSED_STRING","'<hr \/>Ending URL: '",1308],["T_WHITESPACE"," ",1308],".",["T_WHITESPACE"," ",1308],["T_VARIABLE","$this",1308],["T_OBJECT_OPERATOR","->",1308],["T_STRING","getUrl",1308],"(",")",";",["T_WHITESPACE","\n    ",1308],["T_IF","if",1309],["T_WHITESPACE"," ",1309],"(",["T_VARIABLE","$this",1309],["T_OBJECT_OPERATOR","->",1309],["T_STRING","dumpHeaders",1309],")",["T_WHITESPACE"," ",1309],"{",["T_WHITESPACE","\n      ",1309],["T_VARIABLE","$verbose",1310],["T_WHITESPACE"," ",1310],["T_CONCAT_EQUAL",".=",1310],["T_WHITESPACE"," ",1310],["T_CONSTANT_ENCAPSED_STRING","'<hr \/>Headers: <pre>'",1310],["T_WHITESPACE"," ",1310],".",["T_WHITESPACE"," ",1310],["T_STRING","Html",1310],["T_DOUBLE_COLON","::",1310],["T_STRING","escape",1310],"(",["T_STRING","var_export",1310],"(",["T_STRING","array_map",1310],"(",["T_CONSTANT_ENCAPSED_STRING","'trim'",1310],",",["T_WHITESPACE"," ",1310],["T_VARIABLE","$this",1310],["T_OBJECT_OPERATOR","->",1310],["T_STRING","headers",1310],")",",",["T_WHITESPACE"," ",1310],["T_STRING","TRUE",1310],")",")",["T_WHITESPACE"," ",1310],".",["T_WHITESPACE"," ",1310],["T_CONSTANT_ENCAPSED_STRING","'<\/pre>'",1310],";",["T_WHITESPACE","\n    ",1310],"}",["T_WHITESPACE","\n    ",1311],["T_VARIABLE","$verbose",1312],["T_WHITESPACE"," ",1312],["T_CONCAT_EQUAL",".=",1312],["T_WHITESPACE"," ",1312],["T_CONSTANT_ENCAPSED_STRING","'<hr \/>'",1312],["T_WHITESPACE"," ",1312],".",["T_WHITESPACE"," ",1312],["T_VARIABLE","$out",1312],";",["T_WHITESPACE","\n\n    ",1312],["T_VARIABLE","$this",1314],["T_OBJECT_OPERATOR","->",1314],["T_STRING","verbose",1314],"(",["T_VARIABLE","$verbose",1314],")",";",["T_WHITESPACE","\n    ",1314],["T_RETURN","return",1315],["T_WHITESPACE"," ",1315],["T_VARIABLE","$out",1315],";",["T_WHITESPACE","\n  ",1315],"}",["T_WHITESPACE","\n\n  ",1316],["T_DOC_COMMENT","\/**\n   * Retrieves a Drupal path or an absolute path and JSON decodes the result.\n   *\n   * @param \\Drupal\\Core\\Url|string $path\n   *   Drupal path or URL to request AJAX from.\n   * @param array $options\n   *   Array of URL options.\n   * @param array $headers\n   *   Array of headers. Eg array('Accept: application\/vnd.drupal-ajax').\n   *\n   * @return array\n   *   Decoded json.\n   *\/",1318],["T_WHITESPACE","\n  ",1330],["T_PROTECTED","protected",1331],["T_WHITESPACE"," ",1331],["T_FUNCTION","function",1331],["T_WHITESPACE"," ",1331],["T_STRING","drupalGetJSON",1331],"(",["T_VARIABLE","$path",1331],",",["T_WHITESPACE"," ",1331],["T_ARRAY","array",1331],["T_WHITESPACE"," ",1331],["T_VARIABLE","$options",1331],["T_WHITESPACE"," ",1331],"=",["T_WHITESPACE"," ",1331],["T_ARRAY","array",1331],"(",")",",",["T_WHITESPACE"," ",1331],["T_ARRAY","array",1331],["T_WHITESPACE"," ",1331],["T_VARIABLE","$headers",1331],["T_WHITESPACE"," ",1331],"=",["T_WHITESPACE"," ",1331],["T_ARRAY","array",1331],"(",")",")",["T_WHITESPACE"," ",1331],"{",["T_WHITESPACE","\n    ",1331],["T_RETURN","return",1332],["T_WHITESPACE"," ",1332],["T_STRING","Json",1332],["T_DOUBLE_COLON","::",1332],["T_STRING","decode",1332],"(",["T_VARIABLE","$this",1332],["T_OBJECT_OPERATOR","->",1332],["T_STRING","drupalGetWithFormat",1332],"(",["T_VARIABLE","$path",1332],",",["T_WHITESPACE"," ",1332],["T_CONSTANT_ENCAPSED_STRING","'json'",1332],",",["T_WHITESPACE"," ",1332],["T_VARIABLE","$options",1332],",",["T_WHITESPACE"," ",1332],["T_VARIABLE","$headers",1332],")",")",";",["T_WHITESPACE","\n  ",1332],"}",["T_WHITESPACE","\n\n  ",1333],["T_DOC_COMMENT","\/**\n   * Retrieves a Drupal path or an absolute path for a given format.\n   *\n   * @param \\Drupal\\Core\\Url|string $path\n   *   Drupal path or URL to request given format from.\n   * @param string $format\n   *   The wanted request format.\n   * @param array $options\n   *   Array of URL options.\n   * @param array $headers\n   *   Array of headers.\n   *\n   * @return mixed\n   *   The result of the request.\n   *\/",1335],["T_WHITESPACE","\n  ",1349],["T_PROTECTED","protected",1350],["T_WHITESPACE"," ",1350],["T_FUNCTION","function",1350],["T_WHITESPACE"," ",1350],["T_STRING","drupalGetWithFormat",1350],"(",["T_VARIABLE","$path",1350],",",["T_WHITESPACE"," ",1350],["T_VARIABLE","$format",1350],",",["T_WHITESPACE"," ",1350],["T_ARRAY","array",1350],["T_WHITESPACE"," ",1350],["T_VARIABLE","$options",1350],["T_WHITESPACE"," ",1350],"=",["T_WHITESPACE"," ",1350],"[","]",",",["T_WHITESPACE"," ",1350],["T_ARRAY","array",1350],["T_WHITESPACE"," ",1350],["T_VARIABLE","$headers",1350],["T_WHITESPACE"," ",1350],"=",["T_WHITESPACE"," ",1350],"[","]",")",["T_WHITESPACE"," ",1350],"{",["T_WHITESPACE","\n    ",1350],["T_VARIABLE","$options",1351],["T_WHITESPACE"," ",1351],["T_PLUS_EQUAL","+=",1351],["T_WHITESPACE"," ",1351],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",1351],["T_WHITESPACE"," ",1351],["T_DOUBLE_ARROW","=>",1351],["T_WHITESPACE"," ",1351],"[",["T_CONSTANT_ENCAPSED_STRING","'_format'",1351],["T_WHITESPACE"," ",1351],["T_DOUBLE_ARROW","=>",1351],["T_WHITESPACE"," ",1351],["T_VARIABLE","$format",1351],"]","]",";",["T_WHITESPACE","\n    ",1351],["T_RETURN","return",1352],["T_WHITESPACE"," ",1352],["T_VARIABLE","$this",1352],["T_OBJECT_OPERATOR","->",1352],["T_STRING","drupalGet",1352],"(",["T_VARIABLE","$path",1352],",",["T_WHITESPACE"," ",1352],["T_VARIABLE","$options",1352],",",["T_WHITESPACE"," ",1352],["T_VARIABLE","$headers",1352],")",";",["T_WHITESPACE","\n  ",1352],"}",["T_WHITESPACE","\n\n  ",1353],["T_DOC_COMMENT","\/**\n   * Requests a path or URL in drupal_ajax format and JSON-decodes the response.\n   *\n   * @param \\Drupal\\Core\\Url|string $path\n   *   Drupal path or URL to request from.\n   * @param array $options\n   *   Array of URL options.\n   * @param array $headers\n   *   Array of headers.\n   *\n   * @return array\n   *   Decoded JSON.\n   *\/",1355],["T_WHITESPACE","\n  ",1367],["T_PROTECTED","protected",1368],["T_WHITESPACE"," ",1368],["T_FUNCTION","function",1368],["T_WHITESPACE"," ",1368],["T_STRING","drupalGetAjax",1368],"(",["T_VARIABLE","$path",1368],",",["T_WHITESPACE"," ",1368],["T_ARRAY","array",1368],["T_WHITESPACE"," ",1368],["T_VARIABLE","$options",1368],["T_WHITESPACE"," ",1368],"=",["T_WHITESPACE"," ",1368],["T_ARRAY","array",1368],"(",")",",",["T_WHITESPACE"," ",1368],["T_ARRAY","array",1368],["T_WHITESPACE"," ",1368],["T_VARIABLE","$headers",1368],["T_WHITESPACE"," ",1368],"=",["T_WHITESPACE"," ",1368],["T_ARRAY","array",1368],"(",")",")",["T_WHITESPACE"," ",1368],"{",["T_WHITESPACE","\n    ",1368],["T_IF","if",1369],["T_WHITESPACE"," ",1369],"(","!",["T_ISSET","isset",1369],"(",["T_VARIABLE","$options",1369],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",1369],"]","[",["T_STRING","MainContentViewSubscriber",1369],["T_DOUBLE_COLON","::",1369],["T_STRING","WRAPPER_FORMAT",1369],"]",")",")",["T_WHITESPACE"," ",1369],"{",["T_WHITESPACE","\n      ",1369],["T_VARIABLE","$options",1370],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",1370],"]","[",["T_STRING","MainContentViewSubscriber",1370],["T_DOUBLE_COLON","::",1370],["T_STRING","WRAPPER_FORMAT",1370],"]",["T_WHITESPACE"," ",1370],"=",["T_WHITESPACE"," ",1370],["T_CONSTANT_ENCAPSED_STRING","'drupal_ajax'",1370],";",["T_WHITESPACE","\n    ",1370],"}",["T_WHITESPACE","\n    ",1371],["T_RETURN","return",1372],["T_WHITESPACE"," ",1372],["T_STRING","Json",1372],["T_DOUBLE_COLON","::",1372],["T_STRING","decode",1372],"(",["T_VARIABLE","$this",1372],["T_OBJECT_OPERATOR","->",1372],["T_STRING","drupalGetXHR",1372],"(",["T_VARIABLE","$path",1372],",",["T_WHITESPACE"," ",1372],["T_VARIABLE","$options",1372],",",["T_WHITESPACE"," ",1372],["T_VARIABLE","$headers",1372],")",")",";",["T_WHITESPACE","\n  ",1372],"}",["T_WHITESPACE","\n\n  ",1373],["T_DOC_COMMENT","\/**\n   * Requests a Drupal path or an absolute path as if it is a XMLHttpRequest.\n   *\n   * @param \\Drupal\\Core\\Url|string $path\n   *   Drupal path or URL to request from.\n   * @param array $options\n   *   Array of URL options.\n   * @param array $headers\n   *   Array of headers.\n   *\n   * @return string\n   *   The retrieved content.\n   *\/",1375],["T_WHITESPACE","\n  ",1387],["T_PROTECTED","protected",1388],["T_WHITESPACE"," ",1388],["T_FUNCTION","function",1388],["T_WHITESPACE"," ",1388],["T_STRING","drupalGetXHR",1388],"(",["T_VARIABLE","$path",1388],",",["T_WHITESPACE"," ",1388],["T_ARRAY","array",1388],["T_WHITESPACE"," ",1388],["T_VARIABLE","$options",1388],["T_WHITESPACE"," ",1388],"=",["T_WHITESPACE"," ",1388],["T_ARRAY","array",1388],"(",")",",",["T_WHITESPACE"," ",1388],["T_ARRAY","array",1388],["T_WHITESPACE"," ",1388],["T_VARIABLE","$headers",1388],["T_WHITESPACE"," ",1388],"=",["T_WHITESPACE"," ",1388],["T_ARRAY","array",1388],"(",")",")",["T_WHITESPACE"," ",1388],"{",["T_WHITESPACE","\n    ",1388],["T_VARIABLE","$headers",1389],"[","]",["T_WHITESPACE"," ",1389],"=",["T_WHITESPACE"," ",1389],["T_CONSTANT_ENCAPSED_STRING","'X-Requested-With: XMLHttpRequest'",1389],";",["T_WHITESPACE","\n    ",1389],["T_RETURN","return",1390],["T_WHITESPACE"," ",1390],["T_VARIABLE","$this",1390],["T_OBJECT_OPERATOR","->",1390],["T_STRING","drupalGet",1390],"(",["T_VARIABLE","$path",1390],",",["T_WHITESPACE"," ",1390],["T_VARIABLE","$options",1390],",",["T_WHITESPACE"," ",1390],["T_VARIABLE","$headers",1390],")",";",["T_WHITESPACE","\n  ",1390],"}",["T_WHITESPACE","\n\n  ",1391],["T_DOC_COMMENT","\/**\n   * Executes a form submission.\n   *\n   * It will be done as usual POST request with SimpleBrowser.\n   *\n   * @param \\Drupal\\Core\\Url|string $path\n   *   Location of the post form. Either a Drupal path or an absolute path or\n   *   NULL to post to the current page. For multi-stage forms you can set the\n   *   path to NULL and have it post to the last received page. Example:\n   *\n   *   @code\n   *   \/\/ First step in form.\n   *   $edit = array(...);\n   *   $this->drupalPostForm('some_url', $edit, t('Save'));\n   *\n   *   \/\/ Second step in form.\n   *   $edit = array(...);\n   *   $this->drupalPostForm(NULL, $edit, t('Save'));\n   *   @endcode\n   * @param $edit\n   *   Field data in an associative array. Changes the current input fields\n   *   (where possible) to the values indicated.\n   *\n   *   When working with form tests, the keys for an $edit element should match\n   *   the 'name' parameter of the HTML of the form. For example, the 'body'\n   *   field for a node has the following HTML:\n   *   @code\n   *   <textarea id=\"edit-body-und-0-value\" class=\"text-full form-textarea\n   *    resize-vertical\" placeholder=\"\" cols=\"60\" rows=\"9\"\n   *    name=\"body[0][value]\"><\/textarea>\n   *   @endcode\n   *   When testing this field using an $edit parameter, the code becomes:\n   *   @code\n   *   $edit[\"body[0][value]\"] = 'My test value';\n   *   @endcode\n   *\n   *   A checkbox can be set to TRUE to be checked and should be set to FALSE to\n   *   be unchecked. Multiple select fields can be tested using 'name[]' and\n   *   setting each of the desired values in an array:\n   *   @code\n   *   $edit = array();\n   *   $edit['name[]'] = array('value1', 'value2');\n   *   @endcode\n   * @param $submit\n   *   Value of the submit button whose click is to be emulated. For example,\n   *   t('Save'). The processing of the request depends on this value. For\n   *   example, a form may have one button with the value t('Save') and another\n   *   button with the value t('Delete'), and execute different code depending\n   *   on which one is clicked.\n   *\n   *   This function can also be called to emulate an Ajax submission. In this\n   *   case, this value needs to be an array with the following keys:\n   *   - path: A path to submit the form values to for Ajax-specific processing.\n   *   - triggering_element: If the value for the 'path' key is a generic Ajax\n   *     processing path, this needs to be set to the name of the element. If\n   *     the name doesn't identify the element uniquely, then this should\n   *     instead be an array with a single key\/value pair, corresponding to the\n   *     element name and value. The \\Drupal\\Core\\Form\\FormAjaxResponseBuilder\n   *     uses this to find the #ajax information for the element, including\n   *     which specific callback to use for processing the request.\n   *\n   *   This can also be set to NULL in order to emulate an Internet Explorer\n   *   submission of a form with a single text field, and pressing ENTER in that\n   *   textfield: under these conditions, no button information is added to the\n   *   POST data.\n   * @param $options\n   *   Options to be forwarded to the url generator.\n   * @param $headers\n   *   An array containing additional HTTP request headers, each formatted as\n   *   \"name: value\".\n   * @param $form_html_id\n   *   (optional) HTML ID of the form to be submitted. On some pages\n   *   there are many identical forms, so just using the value of the submit\n   *   button is not enough. For example: 'trigger-node-presave-assign-form'.\n   *   Note that this is not the Drupal $form_id, but rather the HTML ID of the\n   *   form, which is typically the same thing but with hyphens replacing the\n   *   underscores.\n   * @param $extra_post\n   *   (optional) A string of additional data to append to the POST submission.\n   *   This can be used to add POST data for which there are no HTML fields, as\n   *   is done by drupalPostAjaxForm(). This string is literally appended to the\n   *   POST data, so it must already be urlencoded and contain a leading \"&\"\n   *   (e.g., \"&extra_var1=hello+world&extra_var2=you%26me\").\n   *\/",1393],["T_WHITESPACE","\n  ",1476],["T_PROTECTED","protected",1477],["T_WHITESPACE"," ",1477],["T_FUNCTION","function",1477],["T_WHITESPACE"," ",1477],["T_STRING","drupalPostForm",1477],"(",["T_VARIABLE","$path",1477],",",["T_WHITESPACE"," ",1477],["T_VARIABLE","$edit",1477],",",["T_WHITESPACE"," ",1477],["T_VARIABLE","$submit",1477],",",["T_WHITESPACE"," ",1477],["T_ARRAY","array",1477],["T_WHITESPACE"," ",1477],["T_VARIABLE","$options",1477],["T_WHITESPACE"," ",1477],"=",["T_WHITESPACE"," ",1477],["T_ARRAY","array",1477],"(",")",",",["T_WHITESPACE"," ",1477],["T_ARRAY","array",1477],["T_WHITESPACE"," ",1477],["T_VARIABLE","$headers",1477],["T_WHITESPACE"," ",1477],"=",["T_WHITESPACE"," ",1477],["T_ARRAY","array",1477],"(",")",",",["T_WHITESPACE"," ",1477],["T_VARIABLE","$form_html_id",1477],["T_WHITESPACE"," ",1477],"=",["T_WHITESPACE"," ",1477],["T_STRING","NULL",1477],",",["T_WHITESPACE"," ",1477],["T_VARIABLE","$extra_post",1477],["T_WHITESPACE"," ",1477],"=",["T_WHITESPACE"," ",1477],["T_STRING","NULL",1477],")",["T_WHITESPACE"," ",1477],"{",["T_WHITESPACE","\n    ",1477],["T_IF","if",1478],["T_WHITESPACE"," ",1478],"(",["T_STRING","is_object",1478],"(",["T_VARIABLE","$submit",1478],")",")",["T_WHITESPACE"," ",1478],"{",["T_WHITESPACE","\n      ",1478],["T_COMMENT","\/\/ Cast MarkupInterface objects to string.\n",1479],["T_WHITESPACE","      ",1480],["T_VARIABLE","$submit",1480],["T_WHITESPACE"," ",1480],"=",["T_WHITESPACE"," ",1480],["T_STRING_CAST","(string)",1480],["T_WHITESPACE"," ",1480],["T_VARIABLE","$submit",1480],";",["T_WHITESPACE","\n    ",1480],"}",["T_WHITESPACE","\n    ",1481],["T_IF","if",1482],["T_WHITESPACE"," ",1482],"(",["T_STRING","is_array",1482],"(",["T_VARIABLE","$edit",1482],")",")",["T_WHITESPACE"," ",1482],"{",["T_WHITESPACE","\n      ",1482],["T_VARIABLE","$edit",1483],["T_WHITESPACE"," ",1483],"=",["T_WHITESPACE"," ",1483],["T_VARIABLE","$this",1483],["T_OBJECT_OPERATOR","->",1483],["T_STRING","castSafeStrings",1483],"(",["T_VARIABLE","$edit",1483],")",";",["T_WHITESPACE","\n    ",1483],"}",["T_WHITESPACE","\n\n    ",1484],["T_VARIABLE","$submit_matches",1486],["T_WHITESPACE"," ",1486],"=",["T_WHITESPACE"," ",1486],["T_STRING","FALSE",1486],";",["T_WHITESPACE","\n    ",1486],["T_VARIABLE","$ajax",1487],["T_WHITESPACE"," ",1487],"=",["T_WHITESPACE"," ",1487],["T_STRING","is_array",1487],"(",["T_VARIABLE","$submit",1487],")",";",["T_WHITESPACE","\n    ",1487],["T_IF","if",1488],["T_WHITESPACE"," ",1488],"(",["T_ISSET","isset",1488],"(",["T_VARIABLE","$path",1488],")",")",["T_WHITESPACE"," ",1488],"{",["T_WHITESPACE","\n      ",1488],["T_VARIABLE","$this",1489],["T_OBJECT_OPERATOR","->",1489],["T_STRING","drupalGet",1489],"(",["T_VARIABLE","$path",1489],",",["T_WHITESPACE"," ",1489],["T_VARIABLE","$options",1489],")",";",["T_WHITESPACE","\n    ",1489],"}",["T_WHITESPACE","\n\n    ",1490],["T_IF","if",1492],["T_WHITESPACE"," ",1492],"(",["T_VARIABLE","$this",1492],["T_OBJECT_OPERATOR","->",1492],["T_STRING","parse",1492],"(",")",")",["T_WHITESPACE"," ",1492],"{",["T_WHITESPACE","\n      ",1492],["T_VARIABLE","$edit_save",1493],["T_WHITESPACE"," ",1493],"=",["T_WHITESPACE"," ",1493],["T_VARIABLE","$edit",1493],";",["T_WHITESPACE","\n      ",1493],["T_COMMENT","\/\/ Let's iterate over all the forms.\n",1494],["T_WHITESPACE","      ",1495],["T_VARIABLE","$xpath",1495],["T_WHITESPACE"," ",1495],"=",["T_WHITESPACE"," ",1495],["T_CONSTANT_ENCAPSED_STRING","\"\/\/form\"",1495],";",["T_WHITESPACE","\n      ",1495],["T_IF","if",1496],["T_WHITESPACE"," ",1496],"(","!",["T_EMPTY","empty",1496],"(",["T_VARIABLE","$form_html_id",1496],")",")",["T_WHITESPACE"," ",1496],"{",["T_WHITESPACE","\n        ",1496],["T_VARIABLE","$xpath",1497],["T_WHITESPACE"," ",1497],["T_CONCAT_EQUAL",".=",1497],["T_WHITESPACE"," ",1497],["T_CONSTANT_ENCAPSED_STRING","\"[@id='\"",1497],["T_WHITESPACE"," ",1497],".",["T_WHITESPACE"," ",1497],["T_VARIABLE","$form_html_id",1497],["T_WHITESPACE"," ",1497],".",["T_WHITESPACE"," ",1497],["T_CONSTANT_ENCAPSED_STRING","\"']\"",1497],";",["T_WHITESPACE","\n      ",1497],"}",["T_WHITESPACE","\n      ",1498],["T_VARIABLE","$forms",1499],["T_WHITESPACE"," ",1499],"=",["T_WHITESPACE"," ",1499],["T_VARIABLE","$this",1499],["T_OBJECT_OPERATOR","->",1499],["T_STRING","xpath",1499],"(",["T_VARIABLE","$xpath",1499],")",";",["T_WHITESPACE","\n      ",1499],["T_FOREACH","foreach",1500],["T_WHITESPACE"," ",1500],"(",["T_VARIABLE","$forms",1500],["T_WHITESPACE"," ",1500],["T_AS","as",1500],["T_WHITESPACE"," ",1500],["T_VARIABLE","$form",1500],")",["T_WHITESPACE"," ",1500],"{",["T_WHITESPACE","\n        ",1500],["T_COMMENT","\/\/ We try to set the fields of this form as specified in $edit.\n",1501],["T_WHITESPACE","        ",1502],["T_VARIABLE","$edit",1502],["T_WHITESPACE"," ",1502],"=",["T_WHITESPACE"," ",1502],["T_VARIABLE","$edit_save",1502],";",["T_WHITESPACE","\n        ",1502],["T_VARIABLE","$post",1503],["T_WHITESPACE"," ",1503],"=",["T_WHITESPACE"," ",1503],["T_ARRAY","array",1503],"(",")",";",["T_WHITESPACE","\n        ",1503],["T_VARIABLE","$upload",1504],["T_WHITESPACE"," ",1504],"=",["T_WHITESPACE"," ",1504],["T_ARRAY","array",1504],"(",")",";",["T_WHITESPACE","\n        ",1504],["T_VARIABLE","$submit_matches",1505],["T_WHITESPACE"," ",1505],"=",["T_WHITESPACE"," ",1505],["T_VARIABLE","$this",1505],["T_OBJECT_OPERATOR","->",1505],["T_STRING","handleForm",1505],"(",["T_VARIABLE","$post",1505],",",["T_WHITESPACE"," ",1505],["T_VARIABLE","$edit",1505],",",["T_WHITESPACE"," ",1505],["T_VARIABLE","$upload",1505],",",["T_WHITESPACE"," ",1505],["T_VARIABLE","$ajax",1505],["T_WHITESPACE"," ",1505],"?",["T_WHITESPACE"," ",1505],["T_STRING","NULL",1505],["T_WHITESPACE"," ",1505],":",["T_WHITESPACE"," ",1505],["T_VARIABLE","$submit",1505],",",["T_WHITESPACE"," ",1505],["T_VARIABLE","$form",1505],")",";",["T_WHITESPACE","\n        ",1505],["T_VARIABLE","$action",1506],["T_WHITESPACE"," ",1506],"=",["T_WHITESPACE"," ",1506],["T_ISSET","isset",1506],"(",["T_VARIABLE","$form",1506],"[",["T_CONSTANT_ENCAPSED_STRING","'action'",1506],"]",")",["T_WHITESPACE"," ",1506],"?",["T_WHITESPACE"," ",1506],["T_VARIABLE","$this",1506],["T_OBJECT_OPERATOR","->",1506],["T_STRING","getAbsoluteUrl",1506],"(",["T_STRING_CAST","(string)",1506],["T_WHITESPACE"," ",1506],["T_VARIABLE","$form",1506],"[",["T_CONSTANT_ENCAPSED_STRING","'action'",1506],"]",")",["T_WHITESPACE"," ",1506],":",["T_WHITESPACE"," ",1506],["T_VARIABLE","$this",1506],["T_OBJECT_OPERATOR","->",1506],["T_STRING","getUrl",1506],"(",")",";",["T_WHITESPACE","\n        ",1506],["T_IF","if",1507],["T_WHITESPACE"," ",1507],"(",["T_VARIABLE","$ajax",1507],")",["T_WHITESPACE"," ",1507],"{",["T_WHITESPACE","\n          ",1507],["T_IF","if",1508],["T_WHITESPACE"," ",1508],"(",["T_EMPTY","empty",1508],"(",["T_VARIABLE","$submit",1508],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",1508],"]",")",")",["T_WHITESPACE"," ",1508],"{",["T_WHITESPACE","\n            ",1508],["T_THROW","throw",1509],["T_WHITESPACE"," ",1509],["T_NEW","new",1509],["T_WHITESPACE"," ",1509],["T_NS_SEPARATOR","\\",1509],["T_STRING","Exception",1509],"(",["T_CONSTANT_ENCAPSED_STRING","'No #ajax path specified.'",1509],")",";",["T_WHITESPACE","\n          ",1509],"}",["T_WHITESPACE","\n          ",1510],["T_VARIABLE","$action",1511],["T_WHITESPACE"," ",1511],"=",["T_WHITESPACE"," ",1511],["T_VARIABLE","$this",1511],["T_OBJECT_OPERATOR","->",1511],["T_STRING","getAbsoluteUrl",1511],"(",["T_VARIABLE","$submit",1511],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",1511],"]",")",";",["T_WHITESPACE","\n          ",1511],["T_COMMENT","\/\/ Ajax callbacks verify the triggering element if necessary, so while\n",1512],["T_WHITESPACE","          ",1513],["T_COMMENT","\/\/ we may eventually want extra code that verifies it in the\n",1513],["T_WHITESPACE","          ",1514],["T_COMMENT","\/\/ handleForm() function, it's not currently a requirement.\n",1514],["T_WHITESPACE","          ",1515],["T_VARIABLE","$submit_matches",1515],["T_WHITESPACE"," ",1515],"=",["T_WHITESPACE"," ",1515],["T_STRING","TRUE",1515],";",["T_WHITESPACE","\n        ",1515],"}",["T_WHITESPACE","\n        ",1516],["T_COMMENT","\/\/ We post only if we managed to handle every field in edit and the\n",1517],["T_WHITESPACE","        ",1518],["T_COMMENT","\/\/ submit button matches.\n",1518],["T_WHITESPACE","        ",1519],["T_IF","if",1519],["T_WHITESPACE"," ",1519],"(","!",["T_VARIABLE","$edit",1519],["T_WHITESPACE"," ",1519],["T_BOOLEAN_AND","&&",1519],["T_WHITESPACE"," ",1519],"(",["T_VARIABLE","$submit_matches",1519],["T_WHITESPACE"," ",1519],["T_BOOLEAN_OR","||",1519],["T_WHITESPACE"," ",1519],"!",["T_ISSET","isset",1519],"(",["T_VARIABLE","$submit",1519],")",")",")",["T_WHITESPACE"," ",1519],"{",["T_WHITESPACE","\n          ",1519],["T_VARIABLE","$post_array",1520],["T_WHITESPACE"," ",1520],"=",["T_WHITESPACE"," ",1520],["T_VARIABLE","$post",1520],";",["T_WHITESPACE","\n          ",1520],["T_IF","if",1521],["T_WHITESPACE"," ",1521],"(",["T_VARIABLE","$upload",1521],")",["T_WHITESPACE"," ",1521],"{",["T_WHITESPACE","\n            ",1521],["T_FOREACH","foreach",1522],["T_WHITESPACE"," ",1522],"(",["T_VARIABLE","$upload",1522],["T_WHITESPACE"," ",1522],["T_AS","as",1522],["T_WHITESPACE"," ",1522],["T_VARIABLE","$key",1522],["T_WHITESPACE"," ",1522],["T_DOUBLE_ARROW","=>",1522],["T_WHITESPACE"," ",1522],["T_VARIABLE","$file",1522],")",["T_WHITESPACE"," ",1522],"{",["T_WHITESPACE","\n              ",1522],["T_IF","if",1523],["T_WHITESPACE"," ",1523],"(",["T_STRING","is_array",1523],"(",["T_VARIABLE","$file",1523],")",["T_WHITESPACE"," ",1523],["T_BOOLEAN_AND","&&",1523],["T_WHITESPACE"," ",1523],["T_STRING","count",1523],"(",["T_VARIABLE","$file",1523],")",")",["T_WHITESPACE"," ",1523],"{",["T_WHITESPACE","\n                ",1523],["T_COMMENT","\/\/ There seems to be no way via php's API to cURL to upload\n",1524],["T_WHITESPACE","                ",1525],["T_COMMENT","\/\/ several files with the same post field name. However, Drupal\n",1525],["T_WHITESPACE","                ",1526],["T_COMMENT","\/\/ still sees array-index syntax in a similar way.\n",1526],["T_WHITESPACE","                ",1527],["T_FOR","for",1527],["T_WHITESPACE"," ",1527],"(",["T_VARIABLE","$i",1527],["T_WHITESPACE"," ",1527],"=",["T_WHITESPACE"," ",1527],["T_LNUMBER","0",1527],";",["T_WHITESPACE"," ",1527],["T_VARIABLE","$i",1527],["T_WHITESPACE"," ",1527],"<",["T_WHITESPACE"," ",1527],["T_STRING","count",1527],"(",["T_VARIABLE","$file",1527],")",";",["T_WHITESPACE"," ",1527],["T_VARIABLE","$i",1527],["T_INC","++",1527],")",["T_WHITESPACE"," ",1527],"{",["T_WHITESPACE","\n                  ",1527],["T_VARIABLE","$postfield",1528],["T_WHITESPACE"," ",1528],"=",["T_WHITESPACE"," ",1528],["T_STRING","str_replace",1528],"(",["T_CONSTANT_ENCAPSED_STRING","'[]'",1528],",",["T_WHITESPACE"," ",1528],["T_CONSTANT_ENCAPSED_STRING","''",1528],",",["T_WHITESPACE"," ",1528],["T_VARIABLE","$key",1528],")",["T_WHITESPACE"," ",1528],".",["T_WHITESPACE"," ",1528],["T_CONSTANT_ENCAPSED_STRING","'['",1528],["T_WHITESPACE"," ",1528],".",["T_WHITESPACE"," ",1528],["T_VARIABLE","$i",1528],["T_WHITESPACE"," ",1528],".",["T_WHITESPACE"," ",1528],["T_CONSTANT_ENCAPSED_STRING","']'",1528],";",["T_WHITESPACE","\n                  ",1528],["T_VARIABLE","$file_path",1529],["T_WHITESPACE"," ",1529],"=",["T_WHITESPACE"," ",1529],["T_VARIABLE","$this",1529],["T_OBJECT_OPERATOR","->",1529],["T_STRING","container",1529],["T_OBJECT_OPERATOR","->",1529],["T_STRING","get",1529],"(",["T_CONSTANT_ENCAPSED_STRING","'file_system'",1529],")",["T_OBJECT_OPERATOR","->",1529],["T_STRING","realpath",1529],"(",["T_VARIABLE","$file",1529],"[",["T_VARIABLE","$i",1529],"]",")",";",["T_WHITESPACE","\n                  ",1529],["T_VARIABLE","$post",1530],"[",["T_VARIABLE","$postfield",1530],"]",["T_WHITESPACE"," ",1530],"=",["T_WHITESPACE"," ",1530],["T_STRING","curl_file_create",1530],"(",["T_VARIABLE","$file_path",1530],")",";",["T_WHITESPACE","\n                ",1530],"}",["T_WHITESPACE","\n              ",1531],"}",["T_WHITESPACE","\n              ",1532],["T_ELSE","else",1533],["T_WHITESPACE"," ",1533],"{",["T_WHITESPACE","\n                ",1533],["T_VARIABLE","$file",1534],["T_WHITESPACE"," ",1534],"=",["T_WHITESPACE"," ",1534],["T_VARIABLE","$this",1534],["T_OBJECT_OPERATOR","->",1534],["T_STRING","container",1534],["T_OBJECT_OPERATOR","->",1534],["T_STRING","get",1534],"(",["T_CONSTANT_ENCAPSED_STRING","'file_system'",1534],")",["T_OBJECT_OPERATOR","->",1534],["T_STRING","realpath",1534],"(",["T_VARIABLE","$file",1534],")",";",["T_WHITESPACE","\n                ",1534],["T_IF","if",1535],["T_WHITESPACE"," ",1535],"(",["T_VARIABLE","$file",1535],["T_WHITESPACE"," ",1535],["T_BOOLEAN_AND","&&",1535],["T_WHITESPACE"," ",1535],["T_STRING","is_file",1535],"(",["T_VARIABLE","$file",1535],")",")",["T_WHITESPACE"," ",1535],"{",["T_WHITESPACE","\n                  ",1535],["T_VARIABLE","$post",1536],"[",["T_VARIABLE","$key",1536],"]",["T_WHITESPACE"," ",1536],"=",["T_WHITESPACE"," ",1536],["T_STRING","curl_file_create",1536],"(",["T_VARIABLE","$file",1536],")",";",["T_WHITESPACE","\n                ",1536],"}",["T_WHITESPACE","\n              ",1537],"}",["T_WHITESPACE","\n            ",1538],"}",["T_WHITESPACE","\n          ",1539],"}",["T_WHITESPACE","\n          ",1540],["T_ELSE","else",1541],["T_WHITESPACE"," ",1541],"{",["T_WHITESPACE","\n            ",1541],["T_VARIABLE","$post",1542],["T_WHITESPACE"," ",1542],"=",["T_WHITESPACE"," ",1542],["T_VARIABLE","$this",1542],["T_OBJECT_OPERATOR","->",1542],["T_STRING","serializePostValues",1542],"(",["T_VARIABLE","$post",1542],")",["T_WHITESPACE"," ",1542],".",["T_WHITESPACE"," ",1542],["T_VARIABLE","$extra_post",1542],";",["T_WHITESPACE","\n          ",1542],"}",["T_WHITESPACE","\n          ",1543],["T_VARIABLE","$out",1544],["T_WHITESPACE"," ",1544],"=",["T_WHITESPACE"," ",1544],["T_VARIABLE","$this",1544],["T_OBJECT_OPERATOR","->",1544],["T_STRING","curlExec",1544],"(",["T_ARRAY","array",1544],"(",["T_STRING","CURLOPT_URL",1544],["T_WHITESPACE"," ",1544],["T_DOUBLE_ARROW","=>",1544],["T_WHITESPACE"," ",1544],["T_VARIABLE","$action",1544],",",["T_WHITESPACE"," ",1544],["T_STRING","CURLOPT_POST",1544],["T_WHITESPACE"," ",1544],["T_DOUBLE_ARROW","=>",1544],["T_WHITESPACE"," ",1544],["T_STRING","TRUE",1544],",",["T_WHITESPACE"," ",1544],["T_STRING","CURLOPT_POSTFIELDS",1544],["T_WHITESPACE"," ",1544],["T_DOUBLE_ARROW","=>",1544],["T_WHITESPACE"," ",1544],["T_VARIABLE","$post",1544],",",["T_WHITESPACE"," ",1544],["T_STRING","CURLOPT_HTTPHEADER",1544],["T_WHITESPACE"," ",1544],["T_DOUBLE_ARROW","=>",1544],["T_WHITESPACE"," ",1544],["T_VARIABLE","$headers",1544],")",")",";",["T_WHITESPACE","\n          ",1544],["T_COMMENT","\/\/ Ensure that any changes to variables in the other thread are picked\n",1545],["T_WHITESPACE","          ",1546],["T_COMMENT","\/\/ up.\n",1546],["T_WHITESPACE","          ",1547],["T_VARIABLE","$this",1547],["T_OBJECT_OPERATOR","->",1547],["T_STRING","refreshVariables",1547],"(",")",";",["T_WHITESPACE","\n\n          ",1547],["T_COMMENT","\/\/ Replace original page output with new output from redirected\n",1549],["T_WHITESPACE","          ",1550],["T_COMMENT","\/\/ page(s).\n",1550],["T_WHITESPACE","          ",1551],["T_IF","if",1551],["T_WHITESPACE"," ",1551],"(",["T_VARIABLE","$new",1551],["T_WHITESPACE"," ",1551],"=",["T_WHITESPACE"," ",1551],["T_VARIABLE","$this",1551],["T_OBJECT_OPERATOR","->",1551],["T_STRING","checkForMetaRefresh",1551],"(",")",")",["T_WHITESPACE"," ",1551],"{",["T_WHITESPACE","\n            ",1551],["T_VARIABLE","$out",1552],["T_WHITESPACE"," ",1552],"=",["T_WHITESPACE"," ",1552],["T_VARIABLE","$new",1552],";",["T_WHITESPACE","\n          ",1552],"}",["T_WHITESPACE","\n\n          ",1553],["T_IF","if",1555],["T_WHITESPACE"," ",1555],"(",["T_VARIABLE","$path",1555],["T_WHITESPACE"," ",1555],["T_INSTANCEOF","instanceof",1555],["T_WHITESPACE"," ",1555],["T_STRING","Url",1555],")",["T_WHITESPACE"," ",1555],"{",["T_WHITESPACE","\n            ",1555],["T_VARIABLE","$path",1556],["T_WHITESPACE"," ",1556],"=",["T_WHITESPACE"," ",1556],["T_VARIABLE","$path",1556],["T_OBJECT_OPERATOR","->",1556],["T_STRING","toString",1556],"(",")",";",["T_WHITESPACE","\n          ",1556],"}",["T_WHITESPACE","\n          ",1557],["T_VARIABLE","$verbose",1558],["T_WHITESPACE"," ",1558],"=",["T_WHITESPACE"," ",1558],["T_CONSTANT_ENCAPSED_STRING","'POST request to: '",1558],["T_WHITESPACE"," ",1558],".",["T_WHITESPACE"," ",1558],["T_VARIABLE","$path",1558],";",["T_WHITESPACE","\n          ",1558],["T_VARIABLE","$verbose",1559],["T_WHITESPACE"," ",1559],["T_CONCAT_EQUAL",".=",1559],["T_WHITESPACE"," ",1559],["T_CONSTANT_ENCAPSED_STRING","'<hr \/>Ending URL: '",1559],["T_WHITESPACE"," ",1559],".",["T_WHITESPACE"," ",1559],["T_VARIABLE","$this",1559],["T_OBJECT_OPERATOR","->",1559],["T_STRING","getUrl",1559],"(",")",";",["T_WHITESPACE","\n          ",1559],["T_IF","if",1560],["T_WHITESPACE"," ",1560],"(",["T_VARIABLE","$this",1560],["T_OBJECT_OPERATOR","->",1560],["T_STRING","dumpHeaders",1560],")",["T_WHITESPACE"," ",1560],"{",["T_WHITESPACE","\n            ",1560],["T_VARIABLE","$verbose",1561],["T_WHITESPACE"," ",1561],["T_CONCAT_EQUAL",".=",1561],["T_WHITESPACE"," ",1561],["T_CONSTANT_ENCAPSED_STRING","'<hr \/>Headers: <pre>'",1561],["T_WHITESPACE"," ",1561],".",["T_WHITESPACE"," ",1561],["T_STRING","Html",1561],["T_DOUBLE_COLON","::",1561],["T_STRING","escape",1561],"(",["T_STRING","var_export",1561],"(",["T_STRING","array_map",1561],"(",["T_CONSTANT_ENCAPSED_STRING","'trim'",1561],",",["T_WHITESPACE"," ",1561],["T_VARIABLE","$this",1561],["T_OBJECT_OPERATOR","->",1561],["T_STRING","headers",1561],")",",",["T_WHITESPACE"," ",1561],["T_STRING","TRUE",1561],")",")",["T_WHITESPACE"," ",1561],".",["T_WHITESPACE"," ",1561],["T_CONSTANT_ENCAPSED_STRING","'<\/pre>'",1561],";",["T_WHITESPACE","\n          ",1561],"}",["T_WHITESPACE","\n          ",1562],["T_VARIABLE","$verbose",1563],["T_WHITESPACE"," ",1563],["T_CONCAT_EQUAL",".=",1563],["T_WHITESPACE"," ",1563],["T_CONSTANT_ENCAPSED_STRING","'<hr \/>Fields: '",1563],["T_WHITESPACE"," ",1563],".",["T_WHITESPACE"," ",1563],["T_STRING","highlight_string",1563],"(",["T_CONSTANT_ENCAPSED_STRING","'<?php '",1563],["T_WHITESPACE"," ",1563],".",["T_WHITESPACE"," ",1563],["T_STRING","var_export",1563],"(",["T_VARIABLE","$post_array",1563],",",["T_WHITESPACE"," ",1563],["T_STRING","TRUE",1563],")",",",["T_WHITESPACE"," ",1563],["T_STRING","TRUE",1563],")",";",["T_WHITESPACE","\n          ",1563],["T_VARIABLE","$verbose",1564],["T_WHITESPACE"," ",1564],["T_CONCAT_EQUAL",".=",1564],["T_WHITESPACE"," ",1564],["T_CONSTANT_ENCAPSED_STRING","'<hr \/>'",1564],["T_WHITESPACE"," ",1564],".",["T_WHITESPACE"," ",1564],["T_VARIABLE","$out",1564],";",["T_WHITESPACE","\n\n          ",1564],["T_VARIABLE","$this",1566],["T_OBJECT_OPERATOR","->",1566],["T_STRING","verbose",1566],"(",["T_VARIABLE","$verbose",1566],")",";",["T_WHITESPACE","\n          ",1566],["T_RETURN","return",1567],["T_WHITESPACE"," ",1567],["T_VARIABLE","$out",1567],";",["T_WHITESPACE","\n        ",1567],"}",["T_WHITESPACE","\n      ",1568],"}",["T_WHITESPACE","\n      ",1569],["T_COMMENT","\/\/ We have not found a form which contained all fields of $edit.\n",1570],["T_WHITESPACE","      ",1571],["T_FOREACH","foreach",1571],["T_WHITESPACE"," ",1571],"(",["T_VARIABLE","$edit",1571],["T_WHITESPACE"," ",1571],["T_AS","as",1571],["T_WHITESPACE"," ",1571],["T_VARIABLE","$name",1571],["T_WHITESPACE"," ",1571],["T_DOUBLE_ARROW","=>",1571],["T_WHITESPACE"," ",1571],["T_VARIABLE","$value",1571],")",["T_WHITESPACE"," ",1571],"{",["T_WHITESPACE","\n        ",1571],["T_VARIABLE","$this",1572],["T_OBJECT_OPERATOR","->",1572],["T_STRING","fail",1572],"(",["T_STRING","SafeMarkup",1572],["T_DOUBLE_COLON","::",1572],["T_STRING","format",1572],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to set field @name to @value'",1572],",",["T_WHITESPACE"," ",1572],["T_ARRAY","array",1572],"(",["T_CONSTANT_ENCAPSED_STRING","'@name'",1572],["T_WHITESPACE"," ",1572],["T_DOUBLE_ARROW","=>",1572],["T_WHITESPACE"," ",1572],["T_VARIABLE","$name",1572],",",["T_WHITESPACE"," ",1572],["T_CONSTANT_ENCAPSED_STRING","'@value'",1572],["T_WHITESPACE"," ",1572],["T_DOUBLE_ARROW","=>",1572],["T_WHITESPACE"," ",1572],["T_VARIABLE","$value",1572],")",")",")",";",["T_WHITESPACE","\n      ",1572],"}",["T_WHITESPACE","\n      ",1573],["T_IF","if",1574],["T_WHITESPACE"," ",1574],"(","!",["T_VARIABLE","$ajax",1574],["T_WHITESPACE"," ",1574],["T_BOOLEAN_AND","&&",1574],["T_WHITESPACE"," ",1574],["T_ISSET","isset",1574],"(",["T_VARIABLE","$submit",1574],")",")",["T_WHITESPACE"," ",1574],"{",["T_WHITESPACE","\n        ",1574],["T_VARIABLE","$this",1575],["T_OBJECT_OPERATOR","->",1575],["T_STRING","assertTrue",1575],"(",["T_VARIABLE","$submit_matches",1575],",",["T_WHITESPACE"," ",1575],["T_STRING","format_string",1575],"(",["T_CONSTANT_ENCAPSED_STRING","'Found the @submit button'",1575],",",["T_WHITESPACE"," ",1575],["T_ARRAY","array",1575],"(",["T_CONSTANT_ENCAPSED_STRING","'@submit'",1575],["T_WHITESPACE"," ",1575],["T_DOUBLE_ARROW","=>",1575],["T_WHITESPACE"," ",1575],["T_VARIABLE","$submit",1575],")",")",")",";",["T_WHITESPACE","\n      ",1575],"}",["T_WHITESPACE","\n      ",1576],["T_VARIABLE","$this",1577],["T_OBJECT_OPERATOR","->",1577],["T_STRING","fail",1577],"(",["T_STRING","format_string",1577],"(",["T_CONSTANT_ENCAPSED_STRING","'Found the requested form fields at @path'",1577],",",["T_WHITESPACE"," ",1577],["T_ARRAY","array",1577],"(",["T_CONSTANT_ENCAPSED_STRING","'@path'",1577],["T_WHITESPACE"," ",1577],["T_DOUBLE_ARROW","=>",1577],["T_WHITESPACE"," ",1577],"(",["T_VARIABLE","$path",1577],["T_WHITESPACE"," ",1577],["T_INSTANCEOF","instanceof",1577],["T_WHITESPACE"," ",1577],["T_STRING","Url",1577],")",["T_WHITESPACE"," ",1577],"?",["T_WHITESPACE"," ",1577],["T_VARIABLE","$path",1577],["T_OBJECT_OPERATOR","->",1577],["T_STRING","toString",1577],"(",")",["T_WHITESPACE"," ",1577],":",["T_WHITESPACE"," ",1577],["T_VARIABLE","$path",1577],")",")",")",";",["T_WHITESPACE","\n    ",1577],"}",["T_WHITESPACE","\n  ",1578],"}",["T_WHITESPACE","\n\n  ",1579],["T_DOC_COMMENT","\/**\n   * Executes an Ajax form submission.\n   *\n   * This executes a POST as ajax.js does. The returned JSON data is used to\n   * update $this->content via drupalProcessAjaxResponse(). It also returns\n   * the array of AJAX commands received.\n   *\n   * @param \\Drupal\\Core\\Url|string $path\n   *   Location of the form containing the Ajax enabled element to test. Can be\n   *   either a Drupal path or an absolute path or NULL to use the current page.\n   * @param $edit\n   *   Field data in an associative array. Changes the current input fields\n   *   (where possible) to the values indicated.\n   * @param $triggering_element\n   *   The name of the form element that is responsible for triggering the Ajax\n   *   functionality to test. May be a string or, if the triggering element is\n   *   a button, an associative array where the key is the name of the button\n   *   and the value is the button label. i.e.) array('op' => t('Refresh')).\n   * @param $ajax_path\n   *   (optional) Override the path set by the Ajax settings of the triggering\n   *   element.\n   * @param $options\n   *   (optional) Options to be forwarded to the url generator.\n   * @param $headers\n   *   (optional) An array containing additional HTTP request headers, each\n   *   formatted as \"name: value\". Forwarded to drupalPostForm().\n   * @param $form_html_id\n   *   (optional) HTML ID of the form to be submitted, use when there is more\n   *   than one identical form on the same page and the value of the triggering\n   *   element is not enough to identify the form. Note this is not the Drupal\n   *   ID of the form but rather the HTML ID of the form.\n   * @param $ajax_settings\n   *   (optional) An array of Ajax settings which if specified will be used in\n   *   place of the Ajax settings of the triggering element.\n   *\n   * @return\n   *   An array of Ajax commands.\n   *\n   * @see drupalPostForm()\n   * @see drupalProcessAjaxResponse()\n   * @see ajax.js\n   *\/",1581],["T_WHITESPACE","\n  ",1622],["T_PROTECTED","protected",1623],["T_WHITESPACE"," ",1623],["T_FUNCTION","function",1623],["T_WHITESPACE"," ",1623],["T_STRING","drupalPostAjaxForm",1623],"(",["T_VARIABLE","$path",1623],",",["T_WHITESPACE"," ",1623],["T_VARIABLE","$edit",1623],",",["T_WHITESPACE"," ",1623],["T_VARIABLE","$triggering_element",1623],",",["T_WHITESPACE"," ",1623],["T_VARIABLE","$ajax_path",1623],["T_WHITESPACE"," ",1623],"=",["T_WHITESPACE"," ",1623],["T_STRING","NULL",1623],",",["T_WHITESPACE"," ",1623],["T_ARRAY","array",1623],["T_WHITESPACE"," ",1623],["T_VARIABLE","$options",1623],["T_WHITESPACE"," ",1623],"=",["T_WHITESPACE"," ",1623],["T_ARRAY","array",1623],"(",")",",",["T_WHITESPACE"," ",1623],["T_ARRAY","array",1623],["T_WHITESPACE"," ",1623],["T_VARIABLE","$headers",1623],["T_WHITESPACE"," ",1623],"=",["T_WHITESPACE"," ",1623],["T_ARRAY","array",1623],"(",")",",",["T_WHITESPACE"," ",1623],["T_VARIABLE","$form_html_id",1623],["T_WHITESPACE"," ",1623],"=",["T_WHITESPACE"," ",1623],["T_STRING","NULL",1623],",",["T_WHITESPACE"," ",1623],["T_VARIABLE","$ajax_settings",1623],["T_WHITESPACE"," ",1623],"=",["T_WHITESPACE"," ",1623],["T_STRING","NULL",1623],")",["T_WHITESPACE"," ",1623],"{",["T_WHITESPACE","\n\n    ",1623],["T_COMMENT","\/\/ Get the content of the initial page prior to calling drupalPostForm(),\n",1625],["T_WHITESPACE","    ",1626],["T_COMMENT","\/\/ since drupalPostForm() replaces $this->content.\n",1626],["T_WHITESPACE","    ",1627],["T_IF","if",1627],["T_WHITESPACE"," ",1627],"(",["T_ISSET","isset",1627],"(",["T_VARIABLE","$path",1627],")",")",["T_WHITESPACE"," ",1627],"{",["T_WHITESPACE","\n      ",1627],["T_COMMENT","\/\/ Avoid sending the wrapper query argument to drupalGet so we can fetch\n",1628],["T_WHITESPACE","      ",1629],["T_COMMENT","\/\/ the form and populate the internal WebTest values.\n",1629],["T_WHITESPACE","      ",1630],["T_VARIABLE","$get_options",1630],["T_WHITESPACE"," ",1630],"=",["T_WHITESPACE"," ",1630],["T_VARIABLE","$options",1630],";",["T_WHITESPACE","\n      ",1630],["T_UNSET","unset",1631],"(",["T_VARIABLE","$get_options",1631],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",1631],"]","[",["T_STRING","MainContentViewSubscriber",1631],["T_DOUBLE_COLON","::",1631],["T_STRING","WRAPPER_FORMAT",1631],"]",")",";",["T_WHITESPACE","\n      ",1631],["T_VARIABLE","$this",1632],["T_OBJECT_OPERATOR","->",1632],["T_STRING","drupalGet",1632],"(",["T_VARIABLE","$path",1632],",",["T_WHITESPACE"," ",1632],["T_VARIABLE","$get_options",1632],")",";",["T_WHITESPACE","\n    ",1632],"}",["T_WHITESPACE","\n    ",1633],["T_VARIABLE","$content",1634],["T_WHITESPACE"," ",1634],"=",["T_WHITESPACE"," ",1634],["T_VARIABLE","$this",1634],["T_OBJECT_OPERATOR","->",1634],["T_STRING","content",1634],";",["T_WHITESPACE","\n    ",1634],["T_VARIABLE","$drupal_settings",1635],["T_WHITESPACE"," ",1635],"=",["T_WHITESPACE"," ",1635],["T_VARIABLE","$this",1635],["T_OBJECT_OPERATOR","->",1635],["T_STRING","drupalSettings",1635],";",["T_WHITESPACE","\n\n    ",1635],["T_COMMENT","\/\/ Provide a default value for the wrapper envelope.\n",1637],["T_WHITESPACE","    ",1638],["T_VARIABLE","$options",1638],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",1638],"]","[",["T_STRING","MainContentViewSubscriber",1638],["T_DOUBLE_COLON","::",1638],["T_STRING","WRAPPER_FORMAT",1638],"]",["T_WHITESPACE"," ",1638],"=",["T_WHITESPACE","\n      ",1638],["T_ISSET","isset",1639],"(",["T_VARIABLE","$options",1639],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",1639],"]","[",["T_STRING","MainContentViewSubscriber",1639],["T_DOUBLE_COLON","::",1639],["T_STRING","WRAPPER_FORMAT",1639],"]",")",["T_WHITESPACE"," ",1639],"?",["T_WHITESPACE","\n        ",1639],["T_VARIABLE","$options",1640],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",1640],"]","[",["T_STRING","MainContentViewSubscriber",1640],["T_DOUBLE_COLON","::",1640],["T_STRING","WRAPPER_FORMAT",1640],"]",["T_WHITESPACE"," ",1640],":",["T_WHITESPACE","\n        ",1640],["T_CONSTANT_ENCAPSED_STRING","'drupal_ajax'",1641],";",["T_WHITESPACE","\n\n    ",1641],["T_COMMENT","\/\/ Get the Ajax settings bound to the triggering element.\n",1643],["T_WHITESPACE","    ",1644],["T_IF","if",1644],["T_WHITESPACE"," ",1644],"(","!",["T_ISSET","isset",1644],"(",["T_VARIABLE","$ajax_settings",1644],")",")",["T_WHITESPACE"," ",1644],"{",["T_WHITESPACE","\n      ",1644],["T_IF","if",1645],["T_WHITESPACE"," ",1645],"(",["T_STRING","is_array",1645],"(",["T_VARIABLE","$triggering_element",1645],")",")",["T_WHITESPACE"," ",1645],"{",["T_WHITESPACE","\n        ",1645],["T_VARIABLE","$xpath",1646],["T_WHITESPACE"," ",1646],"=",["T_WHITESPACE"," ",1646],["T_CONSTANT_ENCAPSED_STRING","'\/\/*[@name=\"'",1646],["T_WHITESPACE"," ",1646],".",["T_WHITESPACE"," ",1646],["T_STRING","key",1646],"(",["T_VARIABLE","$triggering_element",1646],")",["T_WHITESPACE"," ",1646],".",["T_WHITESPACE"," ",1646],["T_CONSTANT_ENCAPSED_STRING","'\" and @value=\"'",1646],["T_WHITESPACE"," ",1646],".",["T_WHITESPACE"," ",1646],["T_STRING","current",1646],"(",["T_VARIABLE","$triggering_element",1646],")",["T_WHITESPACE"," ",1646],".",["T_WHITESPACE"," ",1646],["T_CONSTANT_ENCAPSED_STRING","'\"]'",1646],";",["T_WHITESPACE","\n      ",1646],"}",["T_WHITESPACE","\n      ",1647],["T_ELSE","else",1648],["T_WHITESPACE"," ",1648],"{",["T_WHITESPACE","\n        ",1648],["T_VARIABLE","$xpath",1649],["T_WHITESPACE"," ",1649],"=",["T_WHITESPACE"," ",1649],["T_CONSTANT_ENCAPSED_STRING","'\/\/*[@name=\"'",1649],["T_WHITESPACE"," ",1649],".",["T_WHITESPACE"," ",1649],["T_VARIABLE","$triggering_element",1649],["T_WHITESPACE"," ",1649],".",["T_WHITESPACE"," ",1649],["T_CONSTANT_ENCAPSED_STRING","'\"]'",1649],";",["T_WHITESPACE","\n      ",1649],"}",["T_WHITESPACE","\n      ",1650],["T_IF","if",1651],["T_WHITESPACE"," ",1651],"(",["T_ISSET","isset",1651],"(",["T_VARIABLE","$form_html_id",1651],")",")",["T_WHITESPACE"," ",1651],"{",["T_WHITESPACE","\n        ",1651],["T_VARIABLE","$xpath",1652],["T_WHITESPACE"," ",1652],"=",["T_WHITESPACE"," ",1652],["T_CONSTANT_ENCAPSED_STRING","'\/\/form[@id=\"'",1652],["T_WHITESPACE"," ",1652],".",["T_WHITESPACE"," ",1652],["T_VARIABLE","$form_html_id",1652],["T_WHITESPACE"," ",1652],".",["T_WHITESPACE"," ",1652],["T_CONSTANT_ENCAPSED_STRING","'\"]'",1652],["T_WHITESPACE"," ",1652],".",["T_WHITESPACE"," ",1652],["T_VARIABLE","$xpath",1652],";",["T_WHITESPACE","\n      ",1652],"}",["T_WHITESPACE","\n      ",1653],["T_VARIABLE","$element",1654],["T_WHITESPACE"," ",1654],"=",["T_WHITESPACE"," ",1654],["T_VARIABLE","$this",1654],["T_OBJECT_OPERATOR","->",1654],["T_STRING","xpath",1654],"(",["T_VARIABLE","$xpath",1654],")",";",["T_WHITESPACE","\n      ",1654],["T_VARIABLE","$element_id",1655],["T_WHITESPACE"," ",1655],"=",["T_WHITESPACE"," ",1655],["T_STRING_CAST","(string)",1655],["T_WHITESPACE"," ",1655],["T_VARIABLE","$element",1655],"[",["T_LNUMBER","0",1655],"]","[",["T_CONSTANT_ENCAPSED_STRING","'id'",1655],"]",";",["T_WHITESPACE","\n      ",1655],["T_VARIABLE","$ajax_settings",1656],["T_WHITESPACE"," ",1656],"=",["T_WHITESPACE"," ",1656],["T_VARIABLE","$drupal_settings",1656],"[",["T_CONSTANT_ENCAPSED_STRING","'ajax'",1656],"]","[",["T_VARIABLE","$element_id",1656],"]",";",["T_WHITESPACE","\n    ",1656],"}",["T_WHITESPACE","\n\n    ",1657],["T_COMMENT","\/\/ Add extra information to the POST data as ajax.js does.\n",1659],["T_WHITESPACE","    ",1660],["T_VARIABLE","$extra_post",1660],["T_WHITESPACE"," ",1660],"=",["T_WHITESPACE"," ",1660],["T_ARRAY","array",1660],"(",")",";",["T_WHITESPACE","\n    ",1660],["T_IF","if",1661],["T_WHITESPACE"," ",1661],"(",["T_ISSET","isset",1661],"(",["T_VARIABLE","$ajax_settings",1661],"[",["T_CONSTANT_ENCAPSED_STRING","'submit'",1661],"]",")",")",["T_WHITESPACE"," ",1661],"{",["T_WHITESPACE","\n      ",1661],["T_FOREACH","foreach",1662],["T_WHITESPACE"," ",1662],"(",["T_VARIABLE","$ajax_settings",1662],"[",["T_CONSTANT_ENCAPSED_STRING","'submit'",1662],"]",["T_WHITESPACE"," ",1662],["T_AS","as",1662],["T_WHITESPACE"," ",1662],["T_VARIABLE","$key",1662],["T_WHITESPACE"," ",1662],["T_DOUBLE_ARROW","=>",1662],["T_WHITESPACE"," ",1662],["T_VARIABLE","$value",1662],")",["T_WHITESPACE"," ",1662],"{",["T_WHITESPACE","\n        ",1662],["T_VARIABLE","$extra_post",1663],"[",["T_VARIABLE","$key",1663],"]",["T_WHITESPACE"," ",1663],"=",["T_WHITESPACE"," ",1663],["T_VARIABLE","$value",1663],";",["T_WHITESPACE","\n      ",1663],"}",["T_WHITESPACE","\n    ",1664],"}",["T_WHITESPACE","\n    ",1665],["T_VARIABLE","$extra_post",1666],"[",["T_STRING","AjaxResponseSubscriber",1666],["T_DOUBLE_COLON","::",1666],["T_STRING","AJAX_REQUEST_PARAMETER",1666],"]",["T_WHITESPACE"," ",1666],"=",["T_WHITESPACE"," ",1666],["T_LNUMBER","1",1666],";",["T_WHITESPACE","\n    ",1666],["T_VARIABLE","$extra_post",1667],["T_WHITESPACE"," ",1667],["T_PLUS_EQUAL","+=",1667],["T_WHITESPACE"," ",1667],["T_VARIABLE","$this",1667],["T_OBJECT_OPERATOR","->",1667],["T_STRING","getAjaxPageStatePostData",1667],"(",")",";",["T_WHITESPACE","\n    ",1667],["T_COMMENT","\/\/ Now serialize all the $extra_post values, and prepend it with an '&'.\n",1668],["T_WHITESPACE","    ",1669],["T_VARIABLE","$extra_post",1669],["T_WHITESPACE"," ",1669],"=",["T_WHITESPACE"," ",1669],["T_CONSTANT_ENCAPSED_STRING","'&'",1669],["T_WHITESPACE"," ",1669],".",["T_WHITESPACE"," ",1669],["T_VARIABLE","$this",1669],["T_OBJECT_OPERATOR","->",1669],["T_STRING","serializePostValues",1669],"(",["T_VARIABLE","$extra_post",1669],")",";",["T_WHITESPACE","\n\n    ",1669],["T_COMMENT","\/\/ Unless a particular path is specified, use the one specified by the\n",1671],["T_WHITESPACE","    ",1672],["T_COMMENT","\/\/ Ajax settings.\n",1672],["T_WHITESPACE","    ",1673],["T_IF","if",1673],["T_WHITESPACE"," ",1673],"(","!",["T_ISSET","isset",1673],"(",["T_VARIABLE","$ajax_path",1673],")",")",["T_WHITESPACE"," ",1673],"{",["T_WHITESPACE","\n      ",1673],["T_IF","if",1674],["T_WHITESPACE"," ",1674],"(",["T_ISSET","isset",1674],"(",["T_VARIABLE","$ajax_settings",1674],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",1674],"]",")",")",["T_WHITESPACE"," ",1674],"{",["T_WHITESPACE","\n        ",1674],["T_COMMENT","\/\/ In order to allow to set for example the wrapper envelope query\n",1675],["T_WHITESPACE","        ",1676],["T_COMMENT","\/\/ parameter we need to get the system path again.\n",1676],["T_WHITESPACE","        ",1677],["T_VARIABLE","$parsed_url",1677],["T_WHITESPACE"," ",1677],"=",["T_WHITESPACE"," ",1677],["T_STRING","UrlHelper",1677],["T_DOUBLE_COLON","::",1677],["T_STRING","parse",1677],"(",["T_VARIABLE","$ajax_settings",1677],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",1677],"]",")",";",["T_WHITESPACE","\n        ",1677],["T_VARIABLE","$options",1678],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",1678],"]",["T_WHITESPACE"," ",1678],"=",["T_WHITESPACE"," ",1678],["T_VARIABLE","$parsed_url",1678],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",1678],"]",["T_WHITESPACE"," ",1678],"+",["T_WHITESPACE"," ",1678],["T_VARIABLE","$options",1678],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",1678],"]",";",["T_WHITESPACE","\n        ",1678],["T_VARIABLE","$options",1679],["T_WHITESPACE"," ",1679],["T_PLUS_EQUAL","+=",1679],["T_WHITESPACE"," ",1679],"[",["T_CONSTANT_ENCAPSED_STRING","'fragment'",1679],["T_WHITESPACE"," ",1679],["T_DOUBLE_ARROW","=>",1679],["T_WHITESPACE"," ",1679],["T_VARIABLE","$parsed_url",1679],"[",["T_CONSTANT_ENCAPSED_STRING","'fragment'",1679],"]","]",";",["T_WHITESPACE","\n\n        ",1679],["T_COMMENT","\/\/ We know that $parsed_url['path'] is already with the base path\n",1681],["T_WHITESPACE","        ",1682],["T_COMMENT","\/\/ attached.\n",1682],["T_WHITESPACE","        ",1683],["T_VARIABLE","$ajax_path",1683],["T_WHITESPACE"," ",1683],"=",["T_WHITESPACE"," ",1683],["T_STRING","preg_replace",1683],"(",["T_WHITESPACE","\n          ",1683],["T_CONSTANT_ENCAPSED_STRING","'\/^'",1684],["T_WHITESPACE"," ",1684],".",["T_WHITESPACE"," ",1684],["T_STRING","preg_quote",1684],"(",["T_STRING","base_path",1684],"(",")",",",["T_WHITESPACE"," ",1684],["T_CONSTANT_ENCAPSED_STRING","'\/'",1684],")",["T_WHITESPACE"," ",1684],".",["T_WHITESPACE"," ",1684],["T_CONSTANT_ENCAPSED_STRING","'\/'",1684],",",["T_WHITESPACE","\n          ",1684],["T_CONSTANT_ENCAPSED_STRING","''",1685],",",["T_WHITESPACE","\n          ",1685],["T_VARIABLE","$parsed_url",1686],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",1686],"]",["T_WHITESPACE","\n        ",1686],")",";",["T_WHITESPACE","\n      ",1687],"}",["T_WHITESPACE","\n    ",1688],"}",["T_WHITESPACE","\n\n    ",1689],["T_IF","if",1691],["T_WHITESPACE"," ",1691],"(",["T_EMPTY","empty",1691],"(",["T_VARIABLE","$ajax_path",1691],")",")",["T_WHITESPACE"," ",1691],"{",["T_WHITESPACE","\n      ",1691],["T_THROW","throw",1692],["T_WHITESPACE"," ",1692],["T_NEW","new",1692],["T_WHITESPACE"," ",1692],["T_NS_SEPARATOR","\\",1692],["T_STRING","Exception",1692],"(",["T_CONSTANT_ENCAPSED_STRING","'No #ajax path specified.'",1692],")",";",["T_WHITESPACE","\n    ",1692],"}",["T_WHITESPACE","\n\n    ",1693],["T_VARIABLE","$ajax_path",1695],["T_WHITESPACE"," ",1695],"=",["T_WHITESPACE"," ",1695],["T_VARIABLE","$this",1695],["T_OBJECT_OPERATOR","->",1695],["T_STRING","container",1695],["T_OBJECT_OPERATOR","->",1695],["T_STRING","get",1695],"(",["T_CONSTANT_ENCAPSED_STRING","'unrouted_url_assembler'",1695],")",["T_OBJECT_OPERATOR","->",1695],["T_STRING","assemble",1695],"(",["T_CONSTANT_ENCAPSED_STRING","'base:\/\/'",1695],["T_WHITESPACE"," ",1695],".",["T_WHITESPACE"," ",1695],["T_VARIABLE","$ajax_path",1695],",",["T_WHITESPACE"," ",1695],["T_VARIABLE","$options",1695],")",";",["T_WHITESPACE","\n\n    ",1695],["T_COMMENT","\/\/ Submit the POST request.\n",1697],["T_WHITESPACE","    ",1698],["T_VARIABLE","$return",1698],["T_WHITESPACE"," ",1698],"=",["T_WHITESPACE"," ",1698],["T_STRING","Json",1698],["T_DOUBLE_COLON","::",1698],["T_STRING","decode",1698],"(",["T_VARIABLE","$this",1698],["T_OBJECT_OPERATOR","->",1698],["T_STRING","drupalPostForm",1698],"(",["T_STRING","NULL",1698],",",["T_WHITESPACE"," ",1698],["T_VARIABLE","$edit",1698],",",["T_WHITESPACE"," ",1698],["T_ARRAY","array",1698],"(",["T_CONSTANT_ENCAPSED_STRING","'path'",1698],["T_WHITESPACE"," ",1698],["T_DOUBLE_ARROW","=>",1698],["T_WHITESPACE"," ",1698],["T_VARIABLE","$ajax_path",1698],",",["T_WHITESPACE"," ",1698],["T_CONSTANT_ENCAPSED_STRING","'triggering_element'",1698],["T_WHITESPACE"," ",1698],["T_DOUBLE_ARROW","=>",1698],["T_WHITESPACE"," ",1698],["T_VARIABLE","$triggering_element",1698],")",",",["T_WHITESPACE"," ",1698],["T_VARIABLE","$options",1698],",",["T_WHITESPACE"," ",1698],["T_VARIABLE","$headers",1698],",",["T_WHITESPACE"," ",1698],["T_VARIABLE","$form_html_id",1698],",",["T_WHITESPACE"," ",1698],["T_VARIABLE","$extra_post",1698],")",")",";",["T_WHITESPACE","\n    ",1698],["T_IF","if",1699],["T_WHITESPACE"," ",1699],"(",["T_VARIABLE","$this",1699],["T_OBJECT_OPERATOR","->",1699],["T_STRING","assertAjaxHeader",1699],")",["T_WHITESPACE"," ",1699],"{",["T_WHITESPACE","\n      ",1699],["T_VARIABLE","$this",1700],["T_OBJECT_OPERATOR","->",1700],["T_STRING","assertIdentical",1700],"(",["T_VARIABLE","$this",1700],["T_OBJECT_OPERATOR","->",1700],["T_STRING","drupalGetHeader",1700],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Ajax-Token'",1700],")",",",["T_WHITESPACE"," ",1700],["T_CONSTANT_ENCAPSED_STRING","'1'",1700],",",["T_WHITESPACE"," ",1700],["T_CONSTANT_ENCAPSED_STRING","'Ajax response header found.'",1700],")",";",["T_WHITESPACE","\n    ",1700],"}",["T_WHITESPACE","\n\n    ",1701],["T_COMMENT","\/\/ Change the page content by applying the returned commands.\n",1703],["T_WHITESPACE","    ",1704],["T_IF","if",1704],["T_WHITESPACE"," ",1704],"(","!",["T_EMPTY","empty",1704],"(",["T_VARIABLE","$ajax_settings",1704],")",["T_WHITESPACE"," ",1704],["T_BOOLEAN_AND","&&",1704],["T_WHITESPACE"," ",1704],"!",["T_EMPTY","empty",1704],"(",["T_VARIABLE","$return",1704],")",")",["T_WHITESPACE"," ",1704],"{",["T_WHITESPACE","\n      ",1704],["T_VARIABLE","$this",1705],["T_OBJECT_OPERATOR","->",1705],["T_STRING","drupalProcessAjaxResponse",1705],"(",["T_VARIABLE","$content",1705],",",["T_WHITESPACE"," ",1705],["T_VARIABLE","$return",1705],",",["T_WHITESPACE"," ",1705],["T_VARIABLE","$ajax_settings",1705],",",["T_WHITESPACE"," ",1705],["T_VARIABLE","$drupal_settings",1705],")",";",["T_WHITESPACE","\n    ",1705],"}",["T_WHITESPACE","\n\n    ",1706],["T_VARIABLE","$verbose",1708],["T_WHITESPACE"," ",1708],"=",["T_WHITESPACE"," ",1708],["T_CONSTANT_ENCAPSED_STRING","'AJAX POST request to: '",1708],["T_WHITESPACE"," ",1708],".",["T_WHITESPACE"," ",1708],["T_VARIABLE","$path",1708],";",["T_WHITESPACE","\n    ",1708],["T_VARIABLE","$verbose",1709],["T_WHITESPACE"," ",1709],["T_CONCAT_EQUAL",".=",1709],["T_WHITESPACE"," ",1709],["T_CONSTANT_ENCAPSED_STRING","'<br \/>AJAX controller path: '",1709],["T_WHITESPACE"," ",1709],".",["T_WHITESPACE"," ",1709],["T_VARIABLE","$ajax_path",1709],";",["T_WHITESPACE","\n    ",1709],["T_VARIABLE","$verbose",1710],["T_WHITESPACE"," ",1710],["T_CONCAT_EQUAL",".=",1710],["T_WHITESPACE"," ",1710],["T_CONSTANT_ENCAPSED_STRING","'<hr \/>Ending URL: '",1710],["T_WHITESPACE"," ",1710],".",["T_WHITESPACE"," ",1710],["T_VARIABLE","$this",1710],["T_OBJECT_OPERATOR","->",1710],["T_STRING","getUrl",1710],"(",")",";",["T_WHITESPACE","\n    ",1710],["T_VARIABLE","$verbose",1711],["T_WHITESPACE"," ",1711],["T_CONCAT_EQUAL",".=",1711],["T_WHITESPACE"," ",1711],["T_CONSTANT_ENCAPSED_STRING","'<hr \/>'",1711],["T_WHITESPACE"," ",1711],".",["T_WHITESPACE"," ",1711],["T_VARIABLE","$this",1711],["T_OBJECT_OPERATOR","->",1711],["T_STRING","content",1711],";",["T_WHITESPACE","\n\n    ",1711],["T_VARIABLE","$this",1713],["T_OBJECT_OPERATOR","->",1713],["T_STRING","verbose",1713],"(",["T_VARIABLE","$verbose",1713],")",";",["T_WHITESPACE","\n\n    ",1713],["T_RETURN","return",1715],["T_WHITESPACE"," ",1715],["T_VARIABLE","$return",1715],";",["T_WHITESPACE","\n  ",1715],"}",["T_WHITESPACE","\n\n  ",1716],["T_DOC_COMMENT","\/**\n   * Processes an AJAX response into current content.\n   *\n   * This processes the AJAX response as ajax.js does. It uses the response's\n   * JSON data, an array of commands, to update $this->content using equivalent\n   * DOM manipulation as is used by ajax.js.\n   * It does not apply custom AJAX commands though, because emulation is only\n   * implemented for the AJAX commands that ship with Drupal core.\n   *\n   * @param string $content\n   *   The current HTML content.\n   * @param array $ajax_response\n   *   An array of AJAX commands.\n   * @param array $ajax_settings\n   *   An array of AJAX settings which will be used to process the response.\n   * @param array $drupal_settings\n   *   An array of settings to update the value of drupalSettings for the\n   *   currently-loaded page.\n   *\n   * @see drupalPostAjaxForm()\n   * @see ajax.js\n   *\/",1718],["T_WHITESPACE","\n  ",1739],["T_PROTECTED","protected",1740],["T_WHITESPACE"," ",1740],["T_FUNCTION","function",1740],["T_WHITESPACE"," ",1740],["T_STRING","drupalProcessAjaxResponse",1740],"(",["T_VARIABLE","$content",1740],",",["T_WHITESPACE"," ",1740],["T_ARRAY","array",1740],["T_WHITESPACE"," ",1740],["T_VARIABLE","$ajax_response",1740],",",["T_WHITESPACE"," ",1740],["T_ARRAY","array",1740],["T_WHITESPACE"," ",1740],["T_VARIABLE","$ajax_settings",1740],",",["T_WHITESPACE"," ",1740],["T_ARRAY","array",1740],["T_WHITESPACE"," ",1740],["T_VARIABLE","$drupal_settings",1740],")",["T_WHITESPACE"," ",1740],"{",["T_WHITESPACE","\n\n    ",1740],["T_COMMENT","\/\/ ajax.js applies some defaults to the settings object, so do the same\n",1742],["T_WHITESPACE","    ",1743],["T_COMMENT","\/\/ for what's used by this function.\n",1743],["T_WHITESPACE","    ",1744],["T_VARIABLE","$ajax_settings",1744],["T_WHITESPACE"," ",1744],["T_PLUS_EQUAL","+=",1744],["T_WHITESPACE"," ",1744],["T_ARRAY","array",1744],"(",["T_WHITESPACE","\n      ",1744],["T_CONSTANT_ENCAPSED_STRING","'method'",1745],["T_WHITESPACE"," ",1745],["T_DOUBLE_ARROW","=>",1745],["T_WHITESPACE"," ",1745],["T_CONSTANT_ENCAPSED_STRING","'replaceWith'",1745],",",["T_WHITESPACE","\n    ",1745],")",";",["T_WHITESPACE","\n    ",1746],["T_COMMENT","\/\/ DOM can load HTML soup. But, HTML soup can throw warnings, suppress\n",1747],["T_WHITESPACE","    ",1748],["T_COMMENT","\/\/ them.\n",1748],["T_WHITESPACE","    ",1749],["T_VARIABLE","$dom",1749],["T_WHITESPACE"," ",1749],"=",["T_WHITESPACE"," ",1749],["T_NEW","new",1749],["T_WHITESPACE"," ",1749],["T_NS_SEPARATOR","\\",1749],["T_STRING","DOMDocument",1749],"(",")",";",["T_WHITESPACE","\n    ",1749],"@",["T_VARIABLE","$dom",1750],["T_OBJECT_OPERATOR","->",1750],["T_STRING","loadHTML",1750],"(",["T_VARIABLE","$content",1750],")",";",["T_WHITESPACE","\n    ",1750],["T_COMMENT","\/\/ XPath allows for finding wrapper nodes better than DOM does.\n",1751],["T_WHITESPACE","    ",1752],["T_VARIABLE","$xpath",1752],["T_WHITESPACE"," ",1752],"=",["T_WHITESPACE"," ",1752],["T_NEW","new",1752],["T_WHITESPACE"," ",1752],["T_NS_SEPARATOR","\\",1752],["T_STRING","DOMXPath",1752],"(",["T_VARIABLE","$dom",1752],")",";",["T_WHITESPACE","\n    ",1752],["T_FOREACH","foreach",1753],["T_WHITESPACE"," ",1753],"(",["T_VARIABLE","$ajax_response",1753],["T_WHITESPACE"," ",1753],["T_AS","as",1753],["T_WHITESPACE"," ",1753],["T_VARIABLE","$command",1753],")",["T_WHITESPACE"," ",1753],"{",["T_WHITESPACE","\n      ",1753],["T_COMMENT","\/\/ Error messages might be not commands.\n",1754],["T_WHITESPACE","      ",1755],["T_IF","if",1755],["T_WHITESPACE"," ",1755],"(","!",["T_STRING","is_array",1755],"(",["T_VARIABLE","$command",1755],")",")",["T_WHITESPACE"," ",1755],"{",["T_WHITESPACE","\n        ",1755],["T_CONTINUE","continue",1756],";",["T_WHITESPACE","\n      ",1756],"}",["T_WHITESPACE","\n      ",1757],["T_SWITCH","switch",1758],["T_WHITESPACE"," ",1758],"(",["T_VARIABLE","$command",1758],"[",["T_CONSTANT_ENCAPSED_STRING","'command'",1758],"]",")",["T_WHITESPACE"," ",1758],"{",["T_WHITESPACE","\n        ",1758],["T_CASE","case",1759],["T_WHITESPACE"," ",1759],["T_CONSTANT_ENCAPSED_STRING","'settings'",1759],":",["T_WHITESPACE","\n          ",1759],["T_VARIABLE","$drupal_settings",1760],["T_WHITESPACE"," ",1760],"=",["T_WHITESPACE"," ",1760],["T_STRING","NestedArray",1760],["T_DOUBLE_COLON","::",1760],["T_STRING","mergeDeepArray",1760],"(","[",["T_VARIABLE","$drupal_settings",1760],",",["T_WHITESPACE"," ",1760],["T_VARIABLE","$command",1760],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",1760],"]","]",",",["T_WHITESPACE"," ",1760],["T_STRING","TRUE",1760],")",";",["T_WHITESPACE","\n          ",1760],["T_BREAK","break",1761],";",["T_WHITESPACE","\n\n        ",1761],["T_CASE","case",1763],["T_WHITESPACE"," ",1763],["T_CONSTANT_ENCAPSED_STRING","'insert'",1763],":",["T_WHITESPACE","\n          ",1763],["T_VARIABLE","$wrapperNode",1764],["T_WHITESPACE"," ",1764],"=",["T_WHITESPACE"," ",1764],["T_STRING","NULL",1764],";",["T_WHITESPACE","\n          ",1764],["T_COMMENT","\/\/ When a command doesn't specify a selector, use the\n",1765],["T_WHITESPACE","          ",1766],["T_COMMENT","\/\/ #ajax['wrapper'] which is always an HTML ID.\n",1766],["T_WHITESPACE","          ",1767],["T_IF","if",1767],["T_WHITESPACE"," ",1767],"(","!",["T_ISSET","isset",1767],"(",["T_VARIABLE","$command",1767],"[",["T_CONSTANT_ENCAPSED_STRING","'selector'",1767],"]",")",")",["T_WHITESPACE"," ",1767],"{",["T_WHITESPACE","\n            ",1767],["T_VARIABLE","$wrapperNode",1768],["T_WHITESPACE"," ",1768],"=",["T_WHITESPACE"," ",1768],["T_VARIABLE","$xpath",1768],["T_OBJECT_OPERATOR","->",1768],["T_STRING","query",1768],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/*[@id=\"'",1768],["T_WHITESPACE"," ",1768],".",["T_WHITESPACE"," ",1768],["T_VARIABLE","$ajax_settings",1768],"[",["T_CONSTANT_ENCAPSED_STRING","'wrapper'",1768],"]",["T_WHITESPACE"," ",1768],".",["T_WHITESPACE"," ",1768],["T_CONSTANT_ENCAPSED_STRING","'\"]'",1768],")",["T_OBJECT_OPERATOR","->",1768],["T_STRING","item",1768],"(",["T_LNUMBER","0",1768],")",";",["T_WHITESPACE","\n          ",1768],"}",["T_WHITESPACE","\n          ",1769],["T_COMMENT","\/\/ @todo Ajax commands can target any jQuery selector, but these are\n",1770],["T_WHITESPACE","          ",1771],["T_COMMENT","\/\/   hard to fully emulate with XPath. For now, just handle 'head'\n",1771],["T_WHITESPACE","          ",1772],["T_COMMENT","\/\/   and 'body', since these are used by the Ajax renderer.\n",1772],["T_WHITESPACE","          ",1773],["T_ELSEIF","elseif",1773],["T_WHITESPACE"," ",1773],"(",["T_STRING","in_array",1773],"(",["T_VARIABLE","$command",1773],"[",["T_CONSTANT_ENCAPSED_STRING","'selector'",1773],"]",",",["T_WHITESPACE"," ",1773],["T_ARRAY","array",1773],"(",["T_CONSTANT_ENCAPSED_STRING","'head'",1773],",",["T_WHITESPACE"," ",1773],["T_CONSTANT_ENCAPSED_STRING","'body'",1773],")",")",")",["T_WHITESPACE"," ",1773],"{",["T_WHITESPACE","\n            ",1773],["T_VARIABLE","$wrapperNode",1774],["T_WHITESPACE"," ",1774],"=",["T_WHITESPACE"," ",1774],["T_VARIABLE","$xpath",1774],["T_OBJECT_OPERATOR","->",1774],["T_STRING","query",1774],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/'",1774],["T_WHITESPACE"," ",1774],".",["T_WHITESPACE"," ",1774],["T_VARIABLE","$command",1774],"[",["T_CONSTANT_ENCAPSED_STRING","'selector'",1774],"]",")",["T_OBJECT_OPERATOR","->",1774],["T_STRING","item",1774],"(",["T_LNUMBER","0",1774],")",";",["T_WHITESPACE","\n          ",1774],"}",["T_WHITESPACE","\n          ",1775],["T_IF","if",1776],["T_WHITESPACE"," ",1776],"(",["T_VARIABLE","$wrapperNode",1776],")",["T_WHITESPACE"," ",1776],"{",["T_WHITESPACE","\n            ",1776],["T_COMMENT","\/\/ ajax.js adds an enclosing DIV to work around a Safari bug.\n",1777],["T_WHITESPACE","            ",1778],["T_VARIABLE","$newDom",1778],["T_WHITESPACE"," ",1778],"=",["T_WHITESPACE"," ",1778],["T_NEW","new",1778],["T_WHITESPACE"," ",1778],["T_NS_SEPARATOR","\\",1778],["T_STRING","DOMDocument",1778],"(",")",";",["T_WHITESPACE","\n            ",1778],["T_COMMENT","\/\/ DOM can load HTML soup. But, HTML soup can throw warnings,\n",1779],["T_WHITESPACE","            ",1780],["T_COMMENT","\/\/ suppress them.\n",1780],["T_WHITESPACE","            ",1781],"@",["T_VARIABLE","$newDom",1781],["T_OBJECT_OPERATOR","->",1781],["T_STRING","loadHTML",1781],"(",["T_CONSTANT_ENCAPSED_STRING","'<div>'",1781],["T_WHITESPACE"," ",1781],".",["T_WHITESPACE"," ",1781],["T_VARIABLE","$command",1781],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",1781],"]",["T_WHITESPACE"," ",1781],".",["T_WHITESPACE"," ",1781],["T_CONSTANT_ENCAPSED_STRING","'<\/div>'",1781],")",";",["T_WHITESPACE","\n            ",1781],["T_COMMENT","\/\/ Suppress warnings thrown when duplicate HTML IDs are encountered.\n",1782],["T_WHITESPACE","            ",1783],["T_COMMENT","\/\/ This probably means we are replacing an element with the same ID.\n",1783],["T_WHITESPACE","            ",1784],["T_VARIABLE","$newNode",1784],["T_WHITESPACE"," ",1784],"=",["T_WHITESPACE"," ",1784],"@",["T_VARIABLE","$dom",1784],["T_OBJECT_OPERATOR","->",1784],["T_STRING","importNode",1784],"(",["T_VARIABLE","$newDom",1784],["T_OBJECT_OPERATOR","->",1784],["T_STRING","documentElement",1784],["T_OBJECT_OPERATOR","->",1784],["T_STRING","firstChild",1784],["T_OBJECT_OPERATOR","->",1784],["T_STRING","firstChild",1784],",",["T_WHITESPACE"," ",1784],["T_STRING","TRUE",1784],")",";",["T_WHITESPACE","\n            ",1784],["T_VARIABLE","$method",1785],["T_WHITESPACE"," ",1785],"=",["T_WHITESPACE"," ",1785],["T_ISSET","isset",1785],"(",["T_VARIABLE","$command",1785],"[",["T_CONSTANT_ENCAPSED_STRING","'method'",1785],"]",")",["T_WHITESPACE"," ",1785],"?",["T_WHITESPACE"," ",1785],["T_VARIABLE","$command",1785],"[",["T_CONSTANT_ENCAPSED_STRING","'method'",1785],"]",["T_WHITESPACE"," ",1785],":",["T_WHITESPACE"," ",1785],["T_VARIABLE","$ajax_settings",1785],"[",["T_CONSTANT_ENCAPSED_STRING","'method'",1785],"]",";",["T_WHITESPACE","\n            ",1785],["T_COMMENT","\/\/ The \"method\" is a jQuery DOM manipulation function. Emulate\n",1786],["T_WHITESPACE","            ",1787],["T_COMMENT","\/\/ each one using PHP's DOMNode API.\n",1787],["T_WHITESPACE","            ",1788],["T_SWITCH","switch",1788],["T_WHITESPACE"," ",1788],"(",["T_VARIABLE","$method",1788],")",["T_WHITESPACE"," ",1788],"{",["T_WHITESPACE","\n              ",1788],["T_CASE","case",1789],["T_WHITESPACE"," ",1789],["T_CONSTANT_ENCAPSED_STRING","'replaceWith'",1789],":",["T_WHITESPACE","\n                ",1789],["T_VARIABLE","$wrapperNode",1790],["T_OBJECT_OPERATOR","->",1790],["T_STRING","parentNode",1790],["T_OBJECT_OPERATOR","->",1790],["T_STRING","replaceChild",1790],"(",["T_VARIABLE","$newNode",1790],",",["T_WHITESPACE"," ",1790],["T_VARIABLE","$wrapperNode",1790],")",";",["T_WHITESPACE","\n                ",1790],["T_BREAK","break",1791],";",["T_WHITESPACE","\n              ",1791],["T_CASE","case",1792],["T_WHITESPACE"," ",1792],["T_CONSTANT_ENCAPSED_STRING","'append'",1792],":",["T_WHITESPACE","\n                ",1792],["T_VARIABLE","$wrapperNode",1793],["T_OBJECT_OPERATOR","->",1793],["T_STRING","appendChild",1793],"(",["T_VARIABLE","$newNode",1793],")",";",["T_WHITESPACE","\n                ",1793],["T_BREAK","break",1794],";",["T_WHITESPACE","\n              ",1794],["T_CASE","case",1795],["T_WHITESPACE"," ",1795],["T_CONSTANT_ENCAPSED_STRING","'prepend'",1795],":",["T_WHITESPACE","\n                ",1795],["T_COMMENT","\/\/ If no firstChild, insertBefore() falls back to\n",1796],["T_WHITESPACE","                ",1797],["T_COMMENT","\/\/ appendChild().\n",1797],["T_WHITESPACE","                ",1798],["T_VARIABLE","$wrapperNode",1798],["T_OBJECT_OPERATOR","->",1798],["T_STRING","insertBefore",1798],"(",["T_VARIABLE","$newNode",1798],",",["T_WHITESPACE"," ",1798],["T_VARIABLE","$wrapperNode",1798],["T_OBJECT_OPERATOR","->",1798],["T_STRING","firstChild",1798],")",";",["T_WHITESPACE","\n                ",1798],["T_BREAK","break",1799],";",["T_WHITESPACE","\n              ",1799],["T_CASE","case",1800],["T_WHITESPACE"," ",1800],["T_CONSTANT_ENCAPSED_STRING","'before'",1800],":",["T_WHITESPACE","\n                ",1800],["T_VARIABLE","$wrapperNode",1801],["T_OBJECT_OPERATOR","->",1801],["T_STRING","parentNode",1801],["T_OBJECT_OPERATOR","->",1801],["T_STRING","insertBefore",1801],"(",["T_VARIABLE","$newNode",1801],",",["T_WHITESPACE"," ",1801],["T_VARIABLE","$wrapperNode",1801],")",";",["T_WHITESPACE","\n                ",1801],["T_BREAK","break",1802],";",["T_WHITESPACE","\n              ",1802],["T_CASE","case",1803],["T_WHITESPACE"," ",1803],["T_CONSTANT_ENCAPSED_STRING","'after'",1803],":",["T_WHITESPACE","\n                ",1803],["T_COMMENT","\/\/ If no nextSibling, insertBefore() falls back to\n",1804],["T_WHITESPACE","                ",1805],["T_COMMENT","\/\/ appendChild().\n",1805],["T_WHITESPACE","                ",1806],["T_VARIABLE","$wrapperNode",1806],["T_OBJECT_OPERATOR","->",1806],["T_STRING","parentNode",1806],["T_OBJECT_OPERATOR","->",1806],["T_STRING","insertBefore",1806],"(",["T_VARIABLE","$newNode",1806],",",["T_WHITESPACE"," ",1806],["T_VARIABLE","$wrapperNode",1806],["T_OBJECT_OPERATOR","->",1806],["T_STRING","nextSibling",1806],")",";",["T_WHITESPACE","\n                ",1806],["T_BREAK","break",1807],";",["T_WHITESPACE","\n              ",1807],["T_CASE","case",1808],["T_WHITESPACE"," ",1808],["T_CONSTANT_ENCAPSED_STRING","'html'",1808],":",["T_WHITESPACE","\n                ",1808],["T_FOREACH","foreach",1809],["T_WHITESPACE"," ",1809],"(",["T_VARIABLE","$wrapperNode",1809],["T_OBJECT_OPERATOR","->",1809],["T_STRING","childNodes",1809],["T_WHITESPACE"," ",1809],["T_AS","as",1809],["T_WHITESPACE"," ",1809],["T_VARIABLE","$childNode",1809],")",["T_WHITESPACE"," ",1809],"{",["T_WHITESPACE","\n                  ",1809],["T_VARIABLE","$wrapperNode",1810],["T_OBJECT_OPERATOR","->",1810],["T_STRING","removeChild",1810],"(",["T_VARIABLE","$childNode",1810],")",";",["T_WHITESPACE","\n                ",1810],"}",["T_WHITESPACE","\n                ",1811],["T_VARIABLE","$wrapperNode",1812],["T_OBJECT_OPERATOR","->",1812],["T_STRING","appendChild",1812],"(",["T_VARIABLE","$newNode",1812],")",";",["T_WHITESPACE","\n                ",1812],["T_BREAK","break",1813],";",["T_WHITESPACE","\n            ",1813],"}",["T_WHITESPACE","\n          ",1814],"}",["T_WHITESPACE","\n          ",1815],["T_BREAK","break",1816],";",["T_WHITESPACE","\n\n        ",1816],["T_COMMENT","\/\/ @todo Add suitable implementations for these commands in order to\n",1818],["T_WHITESPACE","        ",1819],["T_COMMENT","\/\/   have full test coverage of what ajax.js can do.\n",1819],["T_WHITESPACE","        ",1820],["T_CASE","case",1820],["T_WHITESPACE"," ",1820],["T_CONSTANT_ENCAPSED_STRING","'remove'",1820],":",["T_WHITESPACE","\n          ",1820],["T_BREAK","break",1821],";",["T_WHITESPACE","\n        ",1821],["T_CASE","case",1822],["T_WHITESPACE"," ",1822],["T_CONSTANT_ENCAPSED_STRING","'changed'",1822],":",["T_WHITESPACE","\n          ",1822],["T_BREAK","break",1823],";",["T_WHITESPACE","\n        ",1823],["T_CASE","case",1824],["T_WHITESPACE"," ",1824],["T_CONSTANT_ENCAPSED_STRING","'css'",1824],":",["T_WHITESPACE","\n          ",1824],["T_BREAK","break",1825],";",["T_WHITESPACE","\n        ",1825],["T_CASE","case",1826],["T_WHITESPACE"," ",1826],["T_CONSTANT_ENCAPSED_STRING","'data'",1826],":",["T_WHITESPACE","\n          ",1826],["T_BREAK","break",1827],";",["T_WHITESPACE","\n        ",1827],["T_CASE","case",1828],["T_WHITESPACE"," ",1828],["T_CONSTANT_ENCAPSED_STRING","'restripe'",1828],":",["T_WHITESPACE","\n          ",1828],["T_BREAK","break",1829],";",["T_WHITESPACE","\n        ",1829],["T_CASE","case",1830],["T_WHITESPACE"," ",1830],["T_CONSTANT_ENCAPSED_STRING","'add_css'",1830],":",["T_WHITESPACE","\n          ",1830],["T_BREAK","break",1831],";",["T_WHITESPACE","\n        ",1831],["T_CASE","case",1832],["T_WHITESPACE"," ",1832],["T_CONSTANT_ENCAPSED_STRING","'update_build_id'",1832],":",["T_WHITESPACE","\n          ",1832],["T_VARIABLE","$buildId",1833],["T_WHITESPACE"," ",1833],"=",["T_WHITESPACE"," ",1833],["T_VARIABLE","$xpath",1833],["T_OBJECT_OPERATOR","->",1833],["T_STRING","query",1833],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/input[@name=\"form_build_id\" and @value=\"'",1833],["T_WHITESPACE"," ",1833],".",["T_WHITESPACE"," ",1833],["T_VARIABLE","$command",1833],"[",["T_CONSTANT_ENCAPSED_STRING","'old'",1833],"]",["T_WHITESPACE"," ",1833],".",["T_WHITESPACE"," ",1833],["T_CONSTANT_ENCAPSED_STRING","'\"]'",1833],")",["T_OBJECT_OPERATOR","->",1833],["T_STRING","item",1833],"(",["T_LNUMBER","0",1833],")",";",["T_WHITESPACE","\n          ",1833],["T_IF","if",1834],["T_WHITESPACE"," ",1834],"(",["T_VARIABLE","$buildId",1834],")",["T_WHITESPACE"," ",1834],"{",["T_WHITESPACE","\n            ",1834],["T_VARIABLE","$buildId",1835],["T_OBJECT_OPERATOR","->",1835],["T_STRING","setAttribute",1835],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",1835],",",["T_WHITESPACE"," ",1835],["T_VARIABLE","$command",1835],"[",["T_CONSTANT_ENCAPSED_STRING","'new'",1835],"]",")",";",["T_WHITESPACE","\n          ",1835],"}",["T_WHITESPACE","\n          ",1836],["T_BREAK","break",1837],";",["T_WHITESPACE","\n      ",1837],"}",["T_WHITESPACE","\n    ",1838],"}",["T_WHITESPACE","\n    ",1839],["T_VARIABLE","$content",1840],["T_WHITESPACE"," ",1840],"=",["T_WHITESPACE"," ",1840],["T_VARIABLE","$dom",1840],["T_OBJECT_OPERATOR","->",1840],["T_STRING","saveHTML",1840],"(",")",";",["T_WHITESPACE","\n    ",1840],["T_VARIABLE","$this",1841],["T_OBJECT_OPERATOR","->",1841],["T_STRING","setRawContent",1841],"(",["T_VARIABLE","$content",1841],")",";",["T_WHITESPACE","\n    ",1841],["T_VARIABLE","$this",1842],["T_OBJECT_OPERATOR","->",1842],["T_STRING","setDrupalSettings",1842],"(",["T_VARIABLE","$drupal_settings",1842],")",";",["T_WHITESPACE","\n  ",1842],"}",["T_WHITESPACE","\n\n  ",1843],["T_DOC_COMMENT","\/**\n   * Perform a POST HTTP request.\n   *\n   * @param string|\\Drupal\\Core\\Url $path\n   *   Drupal path or absolute path where the request should be POSTed.\n   * @param string $accept\n   *   The value for the \"Accept\" header. Usually either 'application\/json' or\n   *   'application\/vnd.drupal-ajax'.\n   * @param array $post\n   *   The POST data. When making a 'application\/vnd.drupal-ajax' request, the\n   *   Ajax page state data should be included. Use getAjaxPageStatePostData()\n   *   for that.\n   * @param array $options\n   *   (optional) Options to be forwarded to the url generator. The 'absolute'\n   *   option will automatically be enabled.\n   *\n   * @return\n   *   The content returned from the call to curl_exec().\n   *\n   * @see WebTestBase::getAjaxPageStatePostData()\n   * @see WebTestBase::curlExec()\n   *\/",1845],["T_WHITESPACE","\n  ",1866],["T_PROTECTED","protected",1867],["T_WHITESPACE"," ",1867],["T_FUNCTION","function",1867],["T_WHITESPACE"," ",1867],["T_STRING","drupalPost",1867],"(",["T_VARIABLE","$path",1867],",",["T_WHITESPACE"," ",1867],["T_VARIABLE","$accept",1867],",",["T_WHITESPACE"," ",1867],["T_ARRAY","array",1867],["T_WHITESPACE"," ",1867],["T_VARIABLE","$post",1867],",",["T_WHITESPACE"," ",1867],["T_VARIABLE","$options",1867],["T_WHITESPACE"," ",1867],"=",["T_WHITESPACE"," ",1867],["T_ARRAY","array",1867],"(",")",")",["T_WHITESPACE"," ",1867],"{",["T_WHITESPACE","\n    ",1867],["T_RETURN","return",1868],["T_WHITESPACE"," ",1868],["T_VARIABLE","$this",1868],["T_OBJECT_OPERATOR","->",1868],["T_STRING","curlExec",1868],"(",["T_ARRAY","array",1868],"(",["T_WHITESPACE","\n      ",1868],["T_STRING","CURLOPT_URL",1869],["T_WHITESPACE"," ",1869],["T_DOUBLE_ARROW","=>",1869],["T_WHITESPACE"," ",1869],["T_VARIABLE","$this",1869],["T_OBJECT_OPERATOR","->",1869],["T_STRING","buildUrl",1869],"(",["T_VARIABLE","$path",1869],",",["T_WHITESPACE"," ",1869],["T_VARIABLE","$options",1869],")",",",["T_WHITESPACE","\n      ",1869],["T_STRING","CURLOPT_POST",1870],["T_WHITESPACE"," ",1870],["T_DOUBLE_ARROW","=>",1870],["T_WHITESPACE"," ",1870],["T_STRING","TRUE",1870],",",["T_WHITESPACE","\n      ",1870],["T_STRING","CURLOPT_POSTFIELDS",1871],["T_WHITESPACE"," ",1871],["T_DOUBLE_ARROW","=>",1871],["T_WHITESPACE"," ",1871],["T_VARIABLE","$this",1871],["T_OBJECT_OPERATOR","->",1871],["T_STRING","serializePostValues",1871],"(",["T_VARIABLE","$post",1871],")",",",["T_WHITESPACE","\n      ",1871],["T_STRING","CURLOPT_HTTPHEADER",1872],["T_WHITESPACE"," ",1872],["T_DOUBLE_ARROW","=>",1872],["T_WHITESPACE"," ",1872],["T_ARRAY","array",1872],"(",["T_WHITESPACE","\n        ",1872],["T_CONSTANT_ENCAPSED_STRING","'Accept: '",1873],["T_WHITESPACE"," ",1873],".",["T_WHITESPACE"," ",1873],["T_VARIABLE","$accept",1873],",",["T_WHITESPACE","\n        ",1873],["T_CONSTANT_ENCAPSED_STRING","'Content-Type: application\/x-www-form-urlencoded'",1874],",",["T_WHITESPACE","\n      ",1874],")",",",["T_WHITESPACE","\n    ",1875],")",")",";",["T_WHITESPACE","\n  ",1876],"}",["T_WHITESPACE","\n\n  ",1877],["T_DOC_COMMENT","\/**\n   * Performs a POST HTTP request with a specific format.\n   *\n   * @param string|\\Drupal\\Core\\Url $path\n   *   Drupal path or absolute path where the request should be POSTed.\n   * @param string $format\n   *   The request format.\n   * @param array $post\n   *   The POST data. When making a 'application\/vnd.drupal-ajax' request, the\n   *   Ajax page state data should be included. Use getAjaxPageStatePostData()\n   *   for that.\n   * @param array $options\n   *   (optional) Options to be forwarded to the url generator. The 'absolute'\n   *   option will automatically be enabled.\n   *\n   * @return string\n   *   The content returned from the call to curl_exec().\n   *\n   * @see WebTestBase::drupalPost\n   * @see WebTestBase::getAjaxPageStatePostData()\n   * @see WebTestBase::curlExec()\n   *\/",1879],["T_WHITESPACE","\n  ",1900],["T_PROTECTED","protected",1901],["T_WHITESPACE"," ",1901],["T_FUNCTION","function",1901],["T_WHITESPACE"," ",1901],["T_STRING","drupalPostWithFormat",1901],"(",["T_VARIABLE","$path",1901],",",["T_WHITESPACE"," ",1901],["T_VARIABLE","$format",1901],",",["T_WHITESPACE"," ",1901],["T_ARRAY","array",1901],["T_WHITESPACE"," ",1901],["T_VARIABLE","$post",1901],",",["T_WHITESPACE"," ",1901],["T_VARIABLE","$options",1901],["T_WHITESPACE"," ",1901],"=",["T_WHITESPACE"," ",1901],"[","]",")",["T_WHITESPACE"," ",1901],"{",["T_WHITESPACE","\n    ",1901],["T_VARIABLE","$options",1902],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",1902],"]","[",["T_CONSTANT_ENCAPSED_STRING","'_format'",1902],"]",["T_WHITESPACE"," ",1902],"=",["T_WHITESPACE"," ",1902],["T_VARIABLE","$format",1902],";",["T_WHITESPACE","\n    ",1902],["T_RETURN","return",1903],["T_WHITESPACE"," ",1903],["T_VARIABLE","$this",1903],["T_OBJECT_OPERATOR","->",1903],["T_STRING","drupalPost",1903],"(",["T_VARIABLE","$path",1903],",",["T_WHITESPACE"," ",1903],["T_CONSTANT_ENCAPSED_STRING","''",1903],",",["T_WHITESPACE"," ",1903],["T_VARIABLE","$post",1903],",",["T_WHITESPACE"," ",1903],["T_VARIABLE","$options",1903],")",";",["T_WHITESPACE","\n  ",1903],"}",["T_WHITESPACE","\n\n  ",1904],["T_DOC_COMMENT","\/**\n   * Get the Ajax page state from drupalSettings and prepare it for POSTing.\n   *\n   * @return array\n   *   The Ajax page state POST data.\n   *\/",1906],["T_WHITESPACE","\n  ",1911],["T_PROTECTED","protected",1912],["T_WHITESPACE"," ",1912],["T_FUNCTION","function",1912],["T_WHITESPACE"," ",1912],["T_STRING","getAjaxPageStatePostData",1912],"(",")",["T_WHITESPACE"," ",1912],"{",["T_WHITESPACE","\n    ",1912],["T_VARIABLE","$post",1913],["T_WHITESPACE"," ",1913],"=",["T_WHITESPACE"," ",1913],["T_ARRAY","array",1913],"(",")",";",["T_WHITESPACE","\n    ",1913],["T_VARIABLE","$drupal_settings",1914],["T_WHITESPACE"," ",1914],"=",["T_WHITESPACE"," ",1914],["T_VARIABLE","$this",1914],["T_OBJECT_OPERATOR","->",1914],["T_STRING","drupalSettings",1914],";",["T_WHITESPACE","\n    ",1914],["T_IF","if",1915],["T_WHITESPACE"," ",1915],"(",["T_ISSET","isset",1915],"(",["T_VARIABLE","$drupal_settings",1915],"[",["T_CONSTANT_ENCAPSED_STRING","'ajaxPageState'",1915],"]","[",["T_CONSTANT_ENCAPSED_STRING","'theme'",1915],"]",")",")",["T_WHITESPACE"," ",1915],"{",["T_WHITESPACE","\n      ",1915],["T_VARIABLE","$post",1916],"[",["T_CONSTANT_ENCAPSED_STRING","'ajax_page_state[theme]'",1916],"]",["T_WHITESPACE"," ",1916],"=",["T_WHITESPACE"," ",1916],["T_VARIABLE","$drupal_settings",1916],"[",["T_CONSTANT_ENCAPSED_STRING","'ajaxPageState'",1916],"]","[",["T_CONSTANT_ENCAPSED_STRING","'theme'",1916],"]",";",["T_WHITESPACE","\n    ",1916],"}",["T_WHITESPACE","\n    ",1917],["T_IF","if",1918],["T_WHITESPACE"," ",1918],"(",["T_ISSET","isset",1918],"(",["T_VARIABLE","$drupal_settings",1918],"[",["T_CONSTANT_ENCAPSED_STRING","'ajaxPageState'",1918],"]","[",["T_CONSTANT_ENCAPSED_STRING","'theme_token'",1918],"]",")",")",["T_WHITESPACE"," ",1918],"{",["T_WHITESPACE","\n      ",1918],["T_VARIABLE","$post",1919],"[",["T_CONSTANT_ENCAPSED_STRING","'ajax_page_state[theme_token]'",1919],"]",["T_WHITESPACE"," ",1919],"=",["T_WHITESPACE"," ",1919],["T_VARIABLE","$drupal_settings",1919],"[",["T_CONSTANT_ENCAPSED_STRING","'ajaxPageState'",1919],"]","[",["T_CONSTANT_ENCAPSED_STRING","'theme_token'",1919],"]",";",["T_WHITESPACE","\n    ",1919],"}",["T_WHITESPACE","\n    ",1920],["T_IF","if",1921],["T_WHITESPACE"," ",1921],"(",["T_ISSET","isset",1921],"(",["T_VARIABLE","$drupal_settings",1921],"[",["T_CONSTANT_ENCAPSED_STRING","'ajaxPageState'",1921],"]","[",["T_CONSTANT_ENCAPSED_STRING","'libraries'",1921],"]",")",")",["T_WHITESPACE"," ",1921],"{",["T_WHITESPACE","\n      ",1921],["T_VARIABLE","$post",1922],"[",["T_CONSTANT_ENCAPSED_STRING","'ajax_page_state[libraries]'",1922],"]",["T_WHITESPACE"," ",1922],"=",["T_WHITESPACE"," ",1922],["T_VARIABLE","$drupal_settings",1922],"[",["T_CONSTANT_ENCAPSED_STRING","'ajaxPageState'",1922],"]","[",["T_CONSTANT_ENCAPSED_STRING","'libraries'",1922],"]",";",["T_WHITESPACE","\n    ",1922],"}",["T_WHITESPACE","\n    ",1923],["T_RETURN","return",1924],["T_WHITESPACE"," ",1924],["T_VARIABLE","$post",1924],";",["T_WHITESPACE","\n  ",1924],"}",["T_WHITESPACE","\n\n  ",1925],["T_DOC_COMMENT","\/**\n   * Serialize POST HTTP request values.\n   *\n   * Encode according to application\/x-www-form-urlencoded. Both names and\n   * values needs to be urlencoded, according to\n   * http:\/\/www.w3.org\/TR\/html4\/interact\/forms.html#h-17.13.4.1\n   *\n   * @param array $post\n   *   The array of values to be POSTed.\n   *\n   * @return string\n   *   The serialized result.\n   *\/",1927],["T_WHITESPACE","\n  ",1939],["T_PROTECTED","protected",1940],["T_WHITESPACE"," ",1940],["T_FUNCTION","function",1940],["T_WHITESPACE"," ",1940],["T_STRING","serializePostValues",1940],"(",["T_VARIABLE","$post",1940],["T_WHITESPACE"," ",1940],"=",["T_WHITESPACE"," ",1940],["T_ARRAY","array",1940],"(",")",")",["T_WHITESPACE"," ",1940],"{",["T_WHITESPACE","\n    ",1940],["T_FOREACH","foreach",1941],["T_WHITESPACE"," ",1941],"(",["T_VARIABLE","$post",1941],["T_WHITESPACE"," ",1941],["T_AS","as",1941],["T_WHITESPACE"," ",1941],["T_VARIABLE","$key",1941],["T_WHITESPACE"," ",1941],["T_DOUBLE_ARROW","=>",1941],["T_WHITESPACE"," ",1941],["T_VARIABLE","$value",1941],")",["T_WHITESPACE"," ",1941],"{",["T_WHITESPACE","\n      ",1941],["T_VARIABLE","$post",1942],"[",["T_VARIABLE","$key",1942],"]",["T_WHITESPACE"," ",1942],"=",["T_WHITESPACE"," ",1942],["T_STRING","urlencode",1942],"(",["T_VARIABLE","$key",1942],")",["T_WHITESPACE"," ",1942],".",["T_WHITESPACE"," ",1942],["T_CONSTANT_ENCAPSED_STRING","'='",1942],["T_WHITESPACE"," ",1942],".",["T_WHITESPACE"," ",1942],["T_STRING","urlencode",1942],"(",["T_VARIABLE","$value",1942],")",";",["T_WHITESPACE","\n    ",1942],"}",["T_WHITESPACE","\n    ",1943],["T_RETURN","return",1944],["T_WHITESPACE"," ",1944],["T_STRING","implode",1944],"(",["T_CONSTANT_ENCAPSED_STRING","'&'",1944],",",["T_WHITESPACE"," ",1944],["T_VARIABLE","$post",1944],")",";",["T_WHITESPACE","\n  ",1944],"}",["T_WHITESPACE","\n\n  ",1945],["T_DOC_COMMENT","\/**\n   * Transforms a nested array into a flat array suitable for WebTestBase::drupalPostForm().\n   *\n   * @param array $values\n   *   A multi-dimensional form values array to convert.\n   *\n   * @return array\n   *   The flattened $edit array suitable for WebTestBase::drupalPostForm().\n   *\/",1947],["T_WHITESPACE","\n  ",1955],["T_PROTECTED","protected",1956],["T_WHITESPACE"," ",1956],["T_FUNCTION","function",1956],["T_WHITESPACE"," ",1956],["T_STRING","translatePostValues",1956],"(",["T_ARRAY","array",1956],["T_WHITESPACE"," ",1956],["T_VARIABLE","$values",1956],")",["T_WHITESPACE"," ",1956],"{",["T_WHITESPACE","\n    ",1956],["T_VARIABLE","$edit",1957],["T_WHITESPACE"," ",1957],"=",["T_WHITESPACE"," ",1957],["T_ARRAY","array",1957],"(",")",";",["T_WHITESPACE","\n    ",1957],["T_COMMENT","\/\/ The easiest and most straightforward way to translate values suitable for\n",1958],["T_WHITESPACE","    ",1959],["T_COMMENT","\/\/ WebTestBase::drupalPostForm() is to actually build the POST data string\n",1959],["T_WHITESPACE","    ",1960],["T_COMMENT","\/\/ and convert the resulting key\/value pairs back into a flat array.\n",1960],["T_WHITESPACE","    ",1961],["T_VARIABLE","$query",1961],["T_WHITESPACE"," ",1961],"=",["T_WHITESPACE"," ",1961],["T_STRING","http_build_query",1961],"(",["T_VARIABLE","$values",1961],")",";",["T_WHITESPACE","\n    ",1961],["T_FOREACH","foreach",1962],["T_WHITESPACE"," ",1962],"(",["T_STRING","explode",1962],"(",["T_CONSTANT_ENCAPSED_STRING","'&'",1962],",",["T_WHITESPACE"," ",1962],["T_VARIABLE","$query",1962],")",["T_WHITESPACE"," ",1962],["T_AS","as",1962],["T_WHITESPACE"," ",1962],["T_VARIABLE","$item",1962],")",["T_WHITESPACE"," ",1962],"{",["T_WHITESPACE","\n      ",1962],["T_LIST","list",1963],"(",["T_VARIABLE","$key",1963],",",["T_WHITESPACE"," ",1963],["T_VARIABLE","$value",1963],")",["T_WHITESPACE"," ",1963],"=",["T_WHITESPACE"," ",1963],["T_STRING","explode",1963],"(",["T_CONSTANT_ENCAPSED_STRING","'='",1963],",",["T_WHITESPACE"," ",1963],["T_VARIABLE","$item",1963],")",";",["T_WHITESPACE","\n      ",1963],["T_VARIABLE","$edit",1964],"[",["T_STRING","urldecode",1964],"(",["T_VARIABLE","$key",1964],")","]",["T_WHITESPACE"," ",1964],"=",["T_WHITESPACE"," ",1964],["T_STRING","urldecode",1964],"(",["T_VARIABLE","$value",1964],")",";",["T_WHITESPACE","\n    ",1964],"}",["T_WHITESPACE","\n    ",1965],["T_RETURN","return",1966],["T_WHITESPACE"," ",1966],["T_VARIABLE","$edit",1966],";",["T_WHITESPACE","\n  ",1966],"}",["T_WHITESPACE","\n\n  ",1967],["T_DOC_COMMENT","\/**\n   * Runs cron in the Drupal installed by Simpletest.\n   *\/",1969],["T_WHITESPACE","\n  ",1971],["T_PROTECTED","protected",1972],["T_WHITESPACE"," ",1972],["T_FUNCTION","function",1972],["T_WHITESPACE"," ",1972],["T_STRING","cronRun",1972],"(",")",["T_WHITESPACE"," ",1972],"{",["T_WHITESPACE","\n    ",1972],["T_VARIABLE","$this",1973],["T_OBJECT_OPERATOR","->",1973],["T_STRING","drupalGet",1973],"(",["T_CONSTANT_ENCAPSED_STRING","'cron\/'",1973],["T_WHITESPACE"," ",1973],".",["T_WHITESPACE"," ",1973],["T_NS_SEPARATOR","\\",1973],["T_STRING","Drupal",1973],["T_DOUBLE_COLON","::",1973],["T_STRING","state",1973],"(",")",["T_OBJECT_OPERATOR","->",1973],["T_STRING","get",1973],"(",["T_CONSTANT_ENCAPSED_STRING","'system.cron_key'",1973],")",")",";",["T_WHITESPACE","\n  ",1973],"}",["T_WHITESPACE","\n\n  ",1974],["T_DOC_COMMENT","\/**\n   * Checks for meta refresh tag and if found call drupalGet() recursively.\n   *\n   * This function looks for the http-equiv attribute to be set to \"Refresh\" and\n   * is case-sensitive.\n   *\n   * @return\n   *   Either the new page content or FALSE.\n   *\/",1976],["T_WHITESPACE","\n  ",1984],["T_PROTECTED","protected",1985],["T_WHITESPACE"," ",1985],["T_FUNCTION","function",1985],["T_WHITESPACE"," ",1985],["T_STRING","checkForMetaRefresh",1985],"(",")",["T_WHITESPACE"," ",1985],"{",["T_WHITESPACE","\n    ",1985],["T_IF","if",1986],["T_WHITESPACE"," ",1986],"(",["T_STRING","strpos",1986],"(",["T_VARIABLE","$this",1986],["T_OBJECT_OPERATOR","->",1986],["T_STRING","getRawContent",1986],"(",")",",",["T_WHITESPACE"," ",1986],["T_CONSTANT_ENCAPSED_STRING","'<meta '",1986],")",["T_WHITESPACE"," ",1986],["T_BOOLEAN_AND","&&",1986],["T_WHITESPACE"," ",1986],["T_VARIABLE","$this",1986],["T_OBJECT_OPERATOR","->",1986],["T_STRING","parse",1986],"(",")",["T_WHITESPACE"," ",1986],["T_BOOLEAN_AND","&&",1986],["T_WHITESPACE"," ",1986],"(","!",["T_ISSET","isset",1986],"(",["T_VARIABLE","$this",1986],["T_OBJECT_OPERATOR","->",1986],["T_STRING","maximumMetaRefreshCount",1986],")",["T_WHITESPACE"," ",1986],["T_BOOLEAN_OR","||",1986],["T_WHITESPACE"," ",1986],["T_VARIABLE","$this",1986],["T_OBJECT_OPERATOR","->",1986],["T_STRING","metaRefreshCount",1986],["T_WHITESPACE"," ",1986],"<",["T_WHITESPACE"," ",1986],["T_VARIABLE","$this",1986],["T_OBJECT_OPERATOR","->",1986],["T_STRING","maximumMetaRefreshCount",1986],")",")",["T_WHITESPACE"," ",1986],"{",["T_WHITESPACE","\n      ",1986],["T_VARIABLE","$refresh",1987],["T_WHITESPACE"," ",1987],"=",["T_WHITESPACE"," ",1987],["T_VARIABLE","$this",1987],["T_OBJECT_OPERATOR","->",1987],["T_STRING","xpath",1987],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/meta[@http-equiv=\"Refresh\"]'",1987],")",";",["T_WHITESPACE","\n      ",1987],["T_IF","if",1988],["T_WHITESPACE"," ",1988],"(","!",["T_EMPTY","empty",1988],"(",["T_VARIABLE","$refresh",1988],")",")",["T_WHITESPACE"," ",1988],"{",["T_WHITESPACE","\n        ",1988],["T_COMMENT","\/\/ Parse the content attribute of the meta tag for the format:\n",1989],["T_WHITESPACE","        ",1990],["T_COMMENT","\/\/ \"[delay]: URL=[page_to_redirect_to]\".\n",1990],["T_WHITESPACE","        ",1991],["T_IF","if",1991],["T_WHITESPACE"," ",1991],"(",["T_STRING","preg_match",1991],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\d+;\\s*URL=(?<url>.*)\/i'",1991],",",["T_WHITESPACE"," ",1991],["T_VARIABLE","$refresh",1991],"[",["T_LNUMBER","0",1991],"]","[",["T_CONSTANT_ENCAPSED_STRING","'content'",1991],"]",",",["T_WHITESPACE"," ",1991],["T_VARIABLE","$match",1991],")",")",["T_WHITESPACE"," ",1991],"{",["T_WHITESPACE","\n          ",1991],["T_VARIABLE","$this",1992],["T_OBJECT_OPERATOR","->",1992],["T_STRING","metaRefreshCount",1992],["T_INC","++",1992],";",["T_WHITESPACE","\n          ",1992],["T_RETURN","return",1993],["T_WHITESPACE"," ",1993],["T_VARIABLE","$this",1993],["T_OBJECT_OPERATOR","->",1993],["T_STRING","drupalGet",1993],"(",["T_VARIABLE","$this",1993],["T_OBJECT_OPERATOR","->",1993],["T_STRING","getAbsoluteUrl",1993],"(",["T_STRING","Html",1993],["T_DOUBLE_COLON","::",1993],["T_STRING","decodeEntities",1993],"(",["T_VARIABLE","$match",1993],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",1993],"]",")",")",")",";",["T_WHITESPACE","\n        ",1993],"}",["T_WHITESPACE","\n      ",1994],"}",["T_WHITESPACE","\n    ",1995],"}",["T_WHITESPACE","\n    ",1996],["T_RETURN","return",1997],["T_WHITESPACE"," ",1997],["T_STRING","FALSE",1997],";",["T_WHITESPACE","\n  ",1997],"}",["T_WHITESPACE","\n\n  ",1998],["T_DOC_COMMENT","\/**\n   * Retrieves only the headers for a Drupal path or an absolute path.\n   *\n   * @param $path\n   *   Drupal path or URL to load into internal browser\n   * @param $options\n   *   Options to be forwarded to the url generator.\n   * @param $headers\n   *   An array containing additional HTTP request headers, each formatted as\n   *   \"name: value\".\n   *\n   * @return\n   *   The retrieved headers, also available as $this->getRawContent()\n   *\/",2000],["T_WHITESPACE","\n  ",2013],["T_PROTECTED","protected",2014],["T_WHITESPACE"," ",2014],["T_FUNCTION","function",2014],["T_WHITESPACE"," ",2014],["T_STRING","drupalHead",2014],"(",["T_VARIABLE","$path",2014],",",["T_WHITESPACE"," ",2014],["T_ARRAY","array",2014],["T_WHITESPACE"," ",2014],["T_VARIABLE","$options",2014],["T_WHITESPACE"," ",2014],"=",["T_WHITESPACE"," ",2014],["T_ARRAY","array",2014],"(",")",",",["T_WHITESPACE"," ",2014],["T_ARRAY","array",2014],["T_WHITESPACE"," ",2014],["T_VARIABLE","$headers",2014],["T_WHITESPACE"," ",2014],"=",["T_WHITESPACE"," ",2014],["T_ARRAY","array",2014],"(",")",")",["T_WHITESPACE"," ",2014],"{",["T_WHITESPACE","\n    ",2014],["T_VARIABLE","$options",2015],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",2015],"]",["T_WHITESPACE"," ",2015],"=",["T_WHITESPACE"," ",2015],["T_STRING","TRUE",2015],";",["T_WHITESPACE","\n    ",2015],["T_VARIABLE","$url",2016],["T_WHITESPACE"," ",2016],"=",["T_WHITESPACE"," ",2016],["T_VARIABLE","$this",2016],["T_OBJECT_OPERATOR","->",2016],["T_STRING","buildUrl",2016],"(",["T_VARIABLE","$path",2016],",",["T_WHITESPACE"," ",2016],["T_VARIABLE","$options",2016],")",";",["T_WHITESPACE","\n    ",2016],["T_VARIABLE","$out",2017],["T_WHITESPACE"," ",2017],"=",["T_WHITESPACE"," ",2017],["T_VARIABLE","$this",2017],["T_OBJECT_OPERATOR","->",2017],["T_STRING","curlExec",2017],"(",["T_ARRAY","array",2017],"(",["T_STRING","CURLOPT_NOBODY",2017],["T_WHITESPACE"," ",2017],["T_DOUBLE_ARROW","=>",2017],["T_WHITESPACE"," ",2017],["T_STRING","TRUE",2017],",",["T_WHITESPACE"," ",2017],["T_STRING","CURLOPT_URL",2017],["T_WHITESPACE"," ",2017],["T_DOUBLE_ARROW","=>",2017],["T_WHITESPACE"," ",2017],["T_VARIABLE","$url",2017],",",["T_WHITESPACE"," ",2017],["T_STRING","CURLOPT_HTTPHEADER",2017],["T_WHITESPACE"," ",2017],["T_DOUBLE_ARROW","=>",2017],["T_WHITESPACE"," ",2017],["T_VARIABLE","$headers",2017],")",")",";",["T_WHITESPACE","\n    ",2017],["T_COMMENT","\/\/ Ensure that any changes to variables in the other thread are picked up.\n",2018],["T_WHITESPACE","    ",2019],["T_VARIABLE","$this",2019],["T_OBJECT_OPERATOR","->",2019],["T_STRING","refreshVariables",2019],"(",")",";",["T_WHITESPACE","\n\n    ",2019],["T_IF","if",2021],["T_WHITESPACE"," ",2021],"(",["T_VARIABLE","$this",2021],["T_OBJECT_OPERATOR","->",2021],["T_STRING","dumpHeaders",2021],")",["T_WHITESPACE"," ",2021],"{",["T_WHITESPACE","\n      ",2021],["T_VARIABLE","$this",2022],["T_OBJECT_OPERATOR","->",2022],["T_STRING","verbose",2022],"(",["T_CONSTANT_ENCAPSED_STRING","'GET request to: '",2022],["T_WHITESPACE"," ",2022],".",["T_WHITESPACE"," ",2022],["T_VARIABLE","$path",2022],["T_WHITESPACE"," ",2022],".",["T_WHITESPACE","\n                     ",2022],["T_CONSTANT_ENCAPSED_STRING","'<hr \/>Ending URL: '",2023],["T_WHITESPACE"," ",2023],".",["T_WHITESPACE"," ",2023],["T_VARIABLE","$this",2023],["T_OBJECT_OPERATOR","->",2023],["T_STRING","getUrl",2023],"(",")",["T_WHITESPACE"," ",2023],".",["T_WHITESPACE","\n                     ",2023],["T_CONSTANT_ENCAPSED_STRING","'<hr \/>Headers: <pre>'",2024],["T_WHITESPACE"," ",2024],".",["T_WHITESPACE"," ",2024],["T_STRING","Html",2024],["T_DOUBLE_COLON","::",2024],["T_STRING","escape",2024],"(",["T_STRING","var_export",2024],"(",["T_STRING","array_map",2024],"(",["T_CONSTANT_ENCAPSED_STRING","'trim'",2024],",",["T_WHITESPACE"," ",2024],["T_VARIABLE","$this",2024],["T_OBJECT_OPERATOR","->",2024],["T_STRING","headers",2024],")",",",["T_WHITESPACE"," ",2024],["T_STRING","TRUE",2024],")",")",["T_WHITESPACE"," ",2024],".",["T_WHITESPACE"," ",2024],["T_CONSTANT_ENCAPSED_STRING","'<\/pre>'",2024],")",";",["T_WHITESPACE","\n    ",2024],"}",["T_WHITESPACE","\n\n    ",2025],["T_RETURN","return",2027],["T_WHITESPACE"," ",2027],["T_VARIABLE","$out",2027],";",["T_WHITESPACE","\n  ",2027],"}",["T_WHITESPACE","\n\n  ",2028],["T_DOC_COMMENT","\/**\n   * Handles form input related to drupalPostForm().\n   *\n   * Ensure that the specified fields exist and attempt to create POST data in\n   * the correct manner for the particular field type.\n   *\n   * @param $post\n   *   Reference to array of post values.\n   * @param $edit\n   *   Reference to array of edit values to be checked against the form.\n   * @param $submit\n   *   Form submit button value.\n   * @param $form\n   *   Array of form elements.\n   *\n   * @return\n   *   Submit value matches a valid submit input in the form.\n   *\/",2030],["T_WHITESPACE","\n  ",2047],["T_PROTECTED","protected",2048],["T_WHITESPACE"," ",2048],["T_FUNCTION","function",2048],["T_WHITESPACE"," ",2048],["T_STRING","handleForm",2048],"(","&",["T_VARIABLE","$post",2048],",",["T_WHITESPACE"," ",2048],"&",["T_VARIABLE","$edit",2048],",",["T_WHITESPACE"," ",2048],"&",["T_VARIABLE","$upload",2048],",",["T_WHITESPACE"," ",2048],["T_VARIABLE","$submit",2048],",",["T_WHITESPACE"," ",2048],["T_VARIABLE","$form",2048],")",["T_WHITESPACE"," ",2048],"{",["T_WHITESPACE","\n    ",2048],["T_COMMENT","\/\/ Retrieve the form elements.\n",2049],["T_WHITESPACE","    ",2050],["T_VARIABLE","$elements",2050],["T_WHITESPACE"," ",2050],"=",["T_WHITESPACE"," ",2050],["T_VARIABLE","$form",2050],["T_OBJECT_OPERATOR","->",2050],["T_STRING","xpath",2050],"(",["T_CONSTANT_ENCAPSED_STRING","'.\/\/input[not(@disabled)]|.\/\/textarea[not(@disabled)]|.\/\/select[not(@disabled)]'",2050],")",";",["T_WHITESPACE","\n    ",2050],["T_VARIABLE","$submit_matches",2051],["T_WHITESPACE"," ",2051],"=",["T_WHITESPACE"," ",2051],["T_STRING","FALSE",2051],";",["T_WHITESPACE","\n    ",2051],["T_FOREACH","foreach",2052],["T_WHITESPACE"," ",2052],"(",["T_VARIABLE","$elements",2052],["T_WHITESPACE"," ",2052],["T_AS","as",2052],["T_WHITESPACE"," ",2052],["T_VARIABLE","$element",2052],")",["T_WHITESPACE"," ",2052],"{",["T_WHITESPACE","\n      ",2052],["T_COMMENT","\/\/ SimpleXML objects need string casting all the time.\n",2053],["T_WHITESPACE","      ",2054],["T_VARIABLE","$name",2054],["T_WHITESPACE"," ",2054],"=",["T_WHITESPACE"," ",2054],["T_STRING_CAST","(string)",2054],["T_WHITESPACE"," ",2054],["T_VARIABLE","$element",2054],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",2054],"]",";",["T_WHITESPACE","\n      ",2054],["T_COMMENT","\/\/ This can either be the type of <input> or the name of the tag itself\n",2055],["T_WHITESPACE","      ",2056],["T_COMMENT","\/\/ for <select> or <textarea>.\n",2056],["T_WHITESPACE","      ",2057],["T_VARIABLE","$type",2057],["T_WHITESPACE"," ",2057],"=",["T_WHITESPACE"," ",2057],["T_ISSET","isset",2057],"(",["T_VARIABLE","$element",2057],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",2057],"]",")",["T_WHITESPACE"," ",2057],"?",["T_WHITESPACE"," ",2057],["T_STRING_CAST","(string)",2057],["T_WHITESPACE"," ",2057],["T_VARIABLE","$element",2057],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",2057],"]",["T_WHITESPACE"," ",2057],":",["T_WHITESPACE"," ",2057],["T_VARIABLE","$element",2057],["T_OBJECT_OPERATOR","->",2057],["T_STRING","getName",2057],"(",")",";",["T_WHITESPACE","\n      ",2057],["T_VARIABLE","$value",2058],["T_WHITESPACE"," ",2058],"=",["T_WHITESPACE"," ",2058],["T_ISSET","isset",2058],"(",["T_VARIABLE","$element",2058],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",2058],"]",")",["T_WHITESPACE"," ",2058],"?",["T_WHITESPACE"," ",2058],["T_STRING_CAST","(string)",2058],["T_WHITESPACE"," ",2058],["T_VARIABLE","$element",2058],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",2058],"]",["T_WHITESPACE"," ",2058],":",["T_WHITESPACE"," ",2058],["T_CONSTANT_ENCAPSED_STRING","''",2058],";",["T_WHITESPACE","\n      ",2058],["T_VARIABLE","$done",2059],["T_WHITESPACE"," ",2059],"=",["T_WHITESPACE"," ",2059],["T_STRING","FALSE",2059],";",["T_WHITESPACE","\n      ",2059],["T_IF","if",2060],["T_WHITESPACE"," ",2060],"(",["T_ISSET","isset",2060],"(",["T_VARIABLE","$edit",2060],"[",["T_VARIABLE","$name",2060],"]",")",")",["T_WHITESPACE"," ",2060],"{",["T_WHITESPACE","\n        ",2060],["T_SWITCH","switch",2061],["T_WHITESPACE"," ",2061],"(",["T_VARIABLE","$type",2061],")",["T_WHITESPACE"," ",2061],"{",["T_WHITESPACE","\n          ",2061],["T_CASE","case",2062],["T_WHITESPACE"," ",2062],["T_CONSTANT_ENCAPSED_STRING","'text'",2062],":",["T_WHITESPACE","\n          ",2062],["T_CASE","case",2063],["T_WHITESPACE"," ",2063],["T_CONSTANT_ENCAPSED_STRING","'tel'",2063],":",["T_WHITESPACE","\n          ",2063],["T_CASE","case",2064],["T_WHITESPACE"," ",2064],["T_CONSTANT_ENCAPSED_STRING","'textarea'",2064],":",["T_WHITESPACE","\n          ",2064],["T_CASE","case",2065],["T_WHITESPACE"," ",2065],["T_CONSTANT_ENCAPSED_STRING","'url'",2065],":",["T_WHITESPACE","\n          ",2065],["T_CASE","case",2066],["T_WHITESPACE"," ",2066],["T_CONSTANT_ENCAPSED_STRING","'number'",2066],":",["T_WHITESPACE","\n          ",2066],["T_CASE","case",2067],["T_WHITESPACE"," ",2067],["T_CONSTANT_ENCAPSED_STRING","'range'",2067],":",["T_WHITESPACE","\n          ",2067],["T_CASE","case",2068],["T_WHITESPACE"," ",2068],["T_CONSTANT_ENCAPSED_STRING","'color'",2068],":",["T_WHITESPACE","\n          ",2068],["T_CASE","case",2069],["T_WHITESPACE"," ",2069],["T_CONSTANT_ENCAPSED_STRING","'hidden'",2069],":",["T_WHITESPACE","\n          ",2069],["T_CASE","case",2070],["T_WHITESPACE"," ",2070],["T_CONSTANT_ENCAPSED_STRING","'password'",2070],":",["T_WHITESPACE","\n          ",2070],["T_CASE","case",2071],["T_WHITESPACE"," ",2071],["T_CONSTANT_ENCAPSED_STRING","'email'",2071],":",["T_WHITESPACE","\n          ",2071],["T_CASE","case",2072],["T_WHITESPACE"," ",2072],["T_CONSTANT_ENCAPSED_STRING","'search'",2072],":",["T_WHITESPACE","\n          ",2072],["T_CASE","case",2073],["T_WHITESPACE"," ",2073],["T_CONSTANT_ENCAPSED_STRING","'date'",2073],":",["T_WHITESPACE","\n          ",2073],["T_CASE","case",2074],["T_WHITESPACE"," ",2074],["T_CONSTANT_ENCAPSED_STRING","'time'",2074],":",["T_WHITESPACE","\n          ",2074],["T_CASE","case",2075],["T_WHITESPACE"," ",2075],["T_CONSTANT_ENCAPSED_STRING","'datetime'",2075],":",["T_WHITESPACE","\n          ",2075],["T_CASE","case",2076],["T_WHITESPACE"," ",2076],["T_CONSTANT_ENCAPSED_STRING","'datetime-local'",2076],";",["T_WHITESPACE","\n            ",2076],["T_VARIABLE","$post",2077],"[",["T_VARIABLE","$name",2077],"]",["T_WHITESPACE"," ",2077],"=",["T_WHITESPACE"," ",2077],["T_VARIABLE","$edit",2077],"[",["T_VARIABLE","$name",2077],"]",";",["T_WHITESPACE","\n            ",2077],["T_UNSET","unset",2078],"(",["T_VARIABLE","$edit",2078],"[",["T_VARIABLE","$name",2078],"]",")",";",["T_WHITESPACE","\n            ",2078],["T_BREAK","break",2079],";",["T_WHITESPACE","\n          ",2079],["T_CASE","case",2080],["T_WHITESPACE"," ",2080],["T_CONSTANT_ENCAPSED_STRING","'radio'",2080],":",["T_WHITESPACE","\n            ",2080],["T_IF","if",2081],["T_WHITESPACE"," ",2081],"(",["T_VARIABLE","$edit",2081],"[",["T_VARIABLE","$name",2081],"]",["T_WHITESPACE"," ",2081],["T_IS_EQUAL","==",2081],["T_WHITESPACE"," ",2081],["T_VARIABLE","$value",2081],")",["T_WHITESPACE"," ",2081],"{",["T_WHITESPACE","\n              ",2081],["T_VARIABLE","$post",2082],"[",["T_VARIABLE","$name",2082],"]",["T_WHITESPACE"," ",2082],"=",["T_WHITESPACE"," ",2082],["T_VARIABLE","$edit",2082],"[",["T_VARIABLE","$name",2082],"]",";",["T_WHITESPACE","\n              ",2082],["T_UNSET","unset",2083],"(",["T_VARIABLE","$edit",2083],"[",["T_VARIABLE","$name",2083],"]",")",";",["T_WHITESPACE","\n            ",2083],"}",["T_WHITESPACE","\n            ",2084],["T_BREAK","break",2085],";",["T_WHITESPACE","\n          ",2085],["T_CASE","case",2086],["T_WHITESPACE"," ",2086],["T_CONSTANT_ENCAPSED_STRING","'checkbox'",2086],":",["T_WHITESPACE","\n            ",2086],["T_COMMENT","\/\/ To prevent checkbox from being checked.pass in a FALSE,\n",2087],["T_WHITESPACE","            ",2088],["T_COMMENT","\/\/ otherwise the checkbox will be set to its value regardless\n",2088],["T_WHITESPACE","            ",2089],["T_COMMENT","\/\/ of $edit.\n",2089],["T_WHITESPACE","            ",2090],["T_IF","if",2090],["T_WHITESPACE"," ",2090],"(",["T_VARIABLE","$edit",2090],"[",["T_VARIABLE","$name",2090],"]",["T_WHITESPACE"," ",2090],["T_IS_IDENTICAL","===",2090],["T_WHITESPACE"," ",2090],["T_STRING","FALSE",2090],")",["T_WHITESPACE"," ",2090],"{",["T_WHITESPACE","\n              ",2090],["T_UNSET","unset",2091],"(",["T_VARIABLE","$edit",2091],"[",["T_VARIABLE","$name",2091],"]",")",";",["T_WHITESPACE","\n              ",2091],["T_CONTINUE","continue",2092],["T_WHITESPACE"," ",2092],["T_LNUMBER","2",2092],";",["T_WHITESPACE","\n            ",2092],"}",["T_WHITESPACE","\n            ",2093],["T_ELSE","else",2094],["T_WHITESPACE"," ",2094],"{",["T_WHITESPACE","\n              ",2094],["T_UNSET","unset",2095],"(",["T_VARIABLE","$edit",2095],"[",["T_VARIABLE","$name",2095],"]",")",";",["T_WHITESPACE","\n              ",2095],["T_VARIABLE","$post",2096],"[",["T_VARIABLE","$name",2096],"]",["T_WHITESPACE"," ",2096],"=",["T_WHITESPACE"," ",2096],["T_VARIABLE","$value",2096],";",["T_WHITESPACE","\n            ",2096],"}",["T_WHITESPACE","\n            ",2097],["T_BREAK","break",2098],";",["T_WHITESPACE","\n          ",2098],["T_CASE","case",2099],["T_WHITESPACE"," ",2099],["T_CONSTANT_ENCAPSED_STRING","'select'",2099],":",["T_WHITESPACE","\n            ",2099],["T_VARIABLE","$new_value",2100],["T_WHITESPACE"," ",2100],"=",["T_WHITESPACE"," ",2100],["T_VARIABLE","$edit",2100],"[",["T_VARIABLE","$name",2100],"]",";",["T_WHITESPACE","\n            ",2100],["T_VARIABLE","$options",2101],["T_WHITESPACE"," ",2101],"=",["T_WHITESPACE"," ",2101],["T_VARIABLE","$this",2101],["T_OBJECT_OPERATOR","->",2101],["T_STRING","getAllOptions",2101],"(",["T_VARIABLE","$element",2101],")",";",["T_WHITESPACE","\n            ",2101],["T_IF","if",2102],["T_WHITESPACE"," ",2102],"(",["T_STRING","is_array",2102],"(",["T_VARIABLE","$new_value",2102],")",")",["T_WHITESPACE"," ",2102],"{",["T_WHITESPACE","\n              ",2102],["T_COMMENT","\/\/ Multiple select box.\n",2103],["T_WHITESPACE","              ",2104],["T_IF","if",2104],["T_WHITESPACE"," ",2104],"(","!",["T_EMPTY","empty",2104],"(",["T_VARIABLE","$new_value",2104],")",")",["T_WHITESPACE"," ",2104],"{",["T_WHITESPACE","\n                ",2104],["T_VARIABLE","$index",2105],["T_WHITESPACE"," ",2105],"=",["T_WHITESPACE"," ",2105],["T_LNUMBER","0",2105],";",["T_WHITESPACE","\n                ",2105],["T_VARIABLE","$key",2106],["T_WHITESPACE"," ",2106],"=",["T_WHITESPACE"," ",2106],["T_STRING","preg_replace",2106],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\[\\]$\/'",2106],",",["T_WHITESPACE"," ",2106],["T_CONSTANT_ENCAPSED_STRING","''",2106],",",["T_WHITESPACE"," ",2106],["T_VARIABLE","$name",2106],")",";",["T_WHITESPACE","\n                ",2106],["T_FOREACH","foreach",2107],["T_WHITESPACE"," ",2107],"(",["T_VARIABLE","$options",2107],["T_WHITESPACE"," ",2107],["T_AS","as",2107],["T_WHITESPACE"," ",2107],["T_VARIABLE","$option",2107],")",["T_WHITESPACE"," ",2107],"{",["T_WHITESPACE","\n                  ",2107],["T_VARIABLE","$option_value",2108],["T_WHITESPACE"," ",2108],"=",["T_WHITESPACE"," ",2108],["T_STRING_CAST","(string)",2108],["T_WHITESPACE"," ",2108],["T_VARIABLE","$option",2108],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",2108],"]",";",["T_WHITESPACE","\n                  ",2108],["T_IF","if",2109],["T_WHITESPACE"," ",2109],"(",["T_STRING","in_array",2109],"(",["T_VARIABLE","$option_value",2109],",",["T_WHITESPACE"," ",2109],["T_VARIABLE","$new_value",2109],")",")",["T_WHITESPACE"," ",2109],"{",["T_WHITESPACE","\n                    ",2109],["T_VARIABLE","$post",2110],"[",["T_VARIABLE","$key",2110],["T_WHITESPACE"," ",2110],".",["T_WHITESPACE"," ",2110],["T_CONSTANT_ENCAPSED_STRING","'['",2110],["T_WHITESPACE"," ",2110],".",["T_WHITESPACE"," ",2110],["T_VARIABLE","$index",2110],["T_INC","++",2110],["T_WHITESPACE"," ",2110],".",["T_WHITESPACE"," ",2110],["T_CONSTANT_ENCAPSED_STRING","']'",2110],"]",["T_WHITESPACE"," ",2110],"=",["T_WHITESPACE"," ",2110],["T_VARIABLE","$option_value",2110],";",["T_WHITESPACE","\n                    ",2110],["T_VARIABLE","$done",2111],["T_WHITESPACE"," ",2111],"=",["T_WHITESPACE"," ",2111],["T_STRING","TRUE",2111],";",["T_WHITESPACE","\n                    ",2111],["T_UNSET","unset",2112],"(",["T_VARIABLE","$edit",2112],"[",["T_VARIABLE","$name",2112],"]",")",";",["T_WHITESPACE","\n                  ",2112],"}",["T_WHITESPACE","\n                ",2113],"}",["T_WHITESPACE","\n              ",2114],"}",["T_WHITESPACE","\n              ",2115],["T_ELSE","else",2116],["T_WHITESPACE"," ",2116],"{",["T_WHITESPACE","\n                ",2116],["T_COMMENT","\/\/ No options selected: do not include any POST data for the\n",2117],["T_WHITESPACE","                ",2118],["T_COMMENT","\/\/ element.\n",2118],["T_WHITESPACE","                ",2119],["T_VARIABLE","$done",2119],["T_WHITESPACE"," ",2119],"=",["T_WHITESPACE"," ",2119],["T_STRING","TRUE",2119],";",["T_WHITESPACE","\n                ",2119],["T_UNSET","unset",2120],"(",["T_VARIABLE","$edit",2120],"[",["T_VARIABLE","$name",2120],"]",")",";",["T_WHITESPACE","\n              ",2120],"}",["T_WHITESPACE","\n            ",2121],"}",["T_WHITESPACE","\n            ",2122],["T_ELSE","else",2123],["T_WHITESPACE"," ",2123],"{",["T_WHITESPACE","\n              ",2123],["T_COMMENT","\/\/ Single select box.\n",2124],["T_WHITESPACE","              ",2125],["T_FOREACH","foreach",2125],["T_WHITESPACE"," ",2125],"(",["T_VARIABLE","$options",2125],["T_WHITESPACE"," ",2125],["T_AS","as",2125],["T_WHITESPACE"," ",2125],["T_VARIABLE","$option",2125],")",["T_WHITESPACE"," ",2125],"{",["T_WHITESPACE","\n                ",2125],["T_IF","if",2126],["T_WHITESPACE"," ",2126],"(",["T_VARIABLE","$new_value",2126],["T_WHITESPACE"," ",2126],["T_IS_EQUAL","==",2126],["T_WHITESPACE"," ",2126],["T_VARIABLE","$option",2126],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",2126],"]",")",["T_WHITESPACE"," ",2126],"{",["T_WHITESPACE","\n                  ",2126],["T_VARIABLE","$post",2127],"[",["T_VARIABLE","$name",2127],"]",["T_WHITESPACE"," ",2127],"=",["T_WHITESPACE"," ",2127],["T_VARIABLE","$new_value",2127],";",["T_WHITESPACE","\n                  ",2127],["T_UNSET","unset",2128],"(",["T_VARIABLE","$edit",2128],"[",["T_VARIABLE","$name",2128],"]",")",";",["T_WHITESPACE","\n                  ",2128],["T_VARIABLE","$done",2129],["T_WHITESPACE"," ",2129],"=",["T_WHITESPACE"," ",2129],["T_STRING","TRUE",2129],";",["T_WHITESPACE","\n                  ",2129],["T_BREAK","break",2130],";",["T_WHITESPACE","\n                ",2130],"}",["T_WHITESPACE","\n              ",2131],"}",["T_WHITESPACE","\n            ",2132],"}",["T_WHITESPACE","\n            ",2133],["T_BREAK","break",2134],";",["T_WHITESPACE","\n          ",2134],["T_CASE","case",2135],["T_WHITESPACE"," ",2135],["T_CONSTANT_ENCAPSED_STRING","'file'",2135],":",["T_WHITESPACE","\n            ",2135],["T_VARIABLE","$upload",2136],"[",["T_VARIABLE","$name",2136],"]",["T_WHITESPACE"," ",2136],"=",["T_WHITESPACE"," ",2136],["T_VARIABLE","$edit",2136],"[",["T_VARIABLE","$name",2136],"]",";",["T_WHITESPACE","\n            ",2136],["T_UNSET","unset",2137],"(",["T_VARIABLE","$edit",2137],"[",["T_VARIABLE","$name",2137],"]",")",";",["T_WHITESPACE","\n            ",2137],["T_BREAK","break",2138],";",["T_WHITESPACE","\n        ",2138],"}",["T_WHITESPACE","\n      ",2139],"}",["T_WHITESPACE","\n      ",2140],["T_IF","if",2141],["T_WHITESPACE"," ",2141],"(","!",["T_ISSET","isset",2141],"(",["T_VARIABLE","$post",2141],"[",["T_VARIABLE","$name",2141],"]",")",["T_WHITESPACE"," ",2141],["T_BOOLEAN_AND","&&",2141],["T_WHITESPACE"," ",2141],"!",["T_VARIABLE","$done",2141],")",["T_WHITESPACE"," ",2141],"{",["T_WHITESPACE","\n        ",2141],["T_SWITCH","switch",2142],["T_WHITESPACE"," ",2142],"(",["T_VARIABLE","$type",2142],")",["T_WHITESPACE"," ",2142],"{",["T_WHITESPACE","\n          ",2142],["T_CASE","case",2143],["T_WHITESPACE"," ",2143],["T_CONSTANT_ENCAPSED_STRING","'textarea'",2143],":",["T_WHITESPACE","\n            ",2143],["T_VARIABLE","$post",2144],"[",["T_VARIABLE","$name",2144],"]",["T_WHITESPACE"," ",2144],"=",["T_WHITESPACE"," ",2144],["T_STRING_CAST","(string)",2144],["T_WHITESPACE"," ",2144],["T_VARIABLE","$element",2144],";",["T_WHITESPACE","\n            ",2144],["T_BREAK","break",2145],";",["T_WHITESPACE","\n          ",2145],["T_CASE","case",2146],["T_WHITESPACE"," ",2146],["T_CONSTANT_ENCAPSED_STRING","'select'",2146],":",["T_WHITESPACE","\n            ",2146],["T_VARIABLE","$single",2147],["T_WHITESPACE"," ",2147],"=",["T_WHITESPACE"," ",2147],["T_EMPTY","empty",2147],"(",["T_VARIABLE","$element",2147],"[",["T_CONSTANT_ENCAPSED_STRING","'multiple'",2147],"]",")",";",["T_WHITESPACE","\n            ",2147],["T_VARIABLE","$first",2148],["T_WHITESPACE"," ",2148],"=",["T_WHITESPACE"," ",2148],["T_STRING","TRUE",2148],";",["T_WHITESPACE","\n            ",2148],["T_VARIABLE","$index",2149],["T_WHITESPACE"," ",2149],"=",["T_WHITESPACE"," ",2149],["T_LNUMBER","0",2149],";",["T_WHITESPACE","\n            ",2149],["T_VARIABLE","$key",2150],["T_WHITESPACE"," ",2150],"=",["T_WHITESPACE"," ",2150],["T_STRING","preg_replace",2150],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\[\\]$\/'",2150],",",["T_WHITESPACE"," ",2150],["T_CONSTANT_ENCAPSED_STRING","''",2150],",",["T_WHITESPACE"," ",2150],["T_VARIABLE","$name",2150],")",";",["T_WHITESPACE","\n            ",2150],["T_VARIABLE","$options",2151],["T_WHITESPACE"," ",2151],"=",["T_WHITESPACE"," ",2151],["T_VARIABLE","$this",2151],["T_OBJECT_OPERATOR","->",2151],["T_STRING","getAllOptions",2151],"(",["T_VARIABLE","$element",2151],")",";",["T_WHITESPACE","\n            ",2151],["T_FOREACH","foreach",2152],["T_WHITESPACE"," ",2152],"(",["T_VARIABLE","$options",2152],["T_WHITESPACE"," ",2152],["T_AS","as",2152],["T_WHITESPACE"," ",2152],["T_VARIABLE","$option",2152],")",["T_WHITESPACE"," ",2152],"{",["T_WHITESPACE","\n              ",2152],["T_COMMENT","\/\/ For single select, we load the first option, if there is a\n",2153],["T_WHITESPACE","              ",2154],["T_COMMENT","\/\/ selected option that will overwrite it later.\n",2154],["T_WHITESPACE","              ",2155],["T_IF","if",2155],["T_WHITESPACE"," ",2155],"(",["T_VARIABLE","$option",2155],"[",["T_CONSTANT_ENCAPSED_STRING","'selected'",2155],"]",["T_WHITESPACE"," ",2155],["T_BOOLEAN_OR","||",2155],["T_WHITESPACE"," ",2155],"(",["T_VARIABLE","$first",2155],["T_WHITESPACE"," ",2155],["T_BOOLEAN_AND","&&",2155],["T_WHITESPACE"," ",2155],["T_VARIABLE","$single",2155],")",")",["T_WHITESPACE"," ",2155],"{",["T_WHITESPACE","\n                ",2155],["T_VARIABLE","$first",2156],["T_WHITESPACE"," ",2156],"=",["T_WHITESPACE"," ",2156],["T_STRING","FALSE",2156],";",["T_WHITESPACE","\n                ",2156],["T_IF","if",2157],["T_WHITESPACE"," ",2157],"(",["T_VARIABLE","$single",2157],")",["T_WHITESPACE"," ",2157],"{",["T_WHITESPACE","\n                  ",2157],["T_VARIABLE","$post",2158],"[",["T_VARIABLE","$name",2158],"]",["T_WHITESPACE"," ",2158],"=",["T_WHITESPACE"," ",2158],["T_STRING_CAST","(string)",2158],["T_WHITESPACE"," ",2158],["T_VARIABLE","$option",2158],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",2158],"]",";",["T_WHITESPACE","\n                ",2158],"}",["T_WHITESPACE","\n                ",2159],["T_ELSE","else",2160],["T_WHITESPACE"," ",2160],"{",["T_WHITESPACE","\n                  ",2160],["T_VARIABLE","$post",2161],"[",["T_VARIABLE","$key",2161],["T_WHITESPACE"," ",2161],".",["T_WHITESPACE"," ",2161],["T_CONSTANT_ENCAPSED_STRING","'['",2161],["T_WHITESPACE"," ",2161],".",["T_WHITESPACE"," ",2161],["T_VARIABLE","$index",2161],["T_INC","++",2161],["T_WHITESPACE"," ",2161],".",["T_WHITESPACE"," ",2161],["T_CONSTANT_ENCAPSED_STRING","']'",2161],"]",["T_WHITESPACE"," ",2161],"=",["T_WHITESPACE"," ",2161],["T_STRING_CAST","(string)",2161],["T_WHITESPACE"," ",2161],["T_VARIABLE","$option",2161],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",2161],"]",";",["T_WHITESPACE","\n                ",2161],"}",["T_WHITESPACE","\n              ",2162],"}",["T_WHITESPACE","\n            ",2163],"}",["T_WHITESPACE","\n            ",2164],["T_BREAK","break",2165],";",["T_WHITESPACE","\n          ",2165],["T_CASE","case",2166],["T_WHITESPACE"," ",2166],["T_CONSTANT_ENCAPSED_STRING","'file'",2166],":",["T_WHITESPACE","\n            ",2166],["T_BREAK","break",2167],";",["T_WHITESPACE","\n          ",2167],["T_CASE","case",2168],["T_WHITESPACE"," ",2168],["T_CONSTANT_ENCAPSED_STRING","'submit'",2168],":",["T_WHITESPACE","\n          ",2168],["T_CASE","case",2169],["T_WHITESPACE"," ",2169],["T_CONSTANT_ENCAPSED_STRING","'image'",2169],":",["T_WHITESPACE","\n            ",2169],["T_IF","if",2170],["T_WHITESPACE"," ",2170],"(",["T_ISSET","isset",2170],"(",["T_VARIABLE","$submit",2170],")",["T_WHITESPACE"," ",2170],["T_BOOLEAN_AND","&&",2170],["T_WHITESPACE"," ",2170],["T_VARIABLE","$submit",2170],["T_WHITESPACE"," ",2170],["T_IS_EQUAL","==",2170],["T_WHITESPACE"," ",2170],["T_VARIABLE","$value",2170],")",["T_WHITESPACE"," ",2170],"{",["T_WHITESPACE","\n              ",2170],["T_VARIABLE","$post",2171],"[",["T_VARIABLE","$name",2171],"]",["T_WHITESPACE"," ",2171],"=",["T_WHITESPACE"," ",2171],["T_VARIABLE","$value",2171],";",["T_WHITESPACE","\n              ",2171],["T_VARIABLE","$submit_matches",2172],["T_WHITESPACE"," ",2172],"=",["T_WHITESPACE"," ",2172],["T_STRING","TRUE",2172],";",["T_WHITESPACE","\n            ",2172],"}",["T_WHITESPACE","\n            ",2173],["T_BREAK","break",2174],";",["T_WHITESPACE","\n          ",2174],["T_CASE","case",2175],["T_WHITESPACE"," ",2175],["T_CONSTANT_ENCAPSED_STRING","'radio'",2175],":",["T_WHITESPACE","\n          ",2175],["T_CASE","case",2176],["T_WHITESPACE"," ",2176],["T_CONSTANT_ENCAPSED_STRING","'checkbox'",2176],":",["T_WHITESPACE","\n            ",2176],["T_IF","if",2177],["T_WHITESPACE"," ",2177],"(","!",["T_ISSET","isset",2177],"(",["T_VARIABLE","$element",2177],"[",["T_CONSTANT_ENCAPSED_STRING","'checked'",2177],"]",")",")",["T_WHITESPACE"," ",2177],"{",["T_WHITESPACE","\n              ",2177],["T_BREAK","break",2178],";",["T_WHITESPACE","\n            ",2178],"}",["T_WHITESPACE","\n            ",2179],["T_COMMENT","\/\/ Deliberate no break.\n",2180],["T_WHITESPACE","          ",2181],["T_DEFAULT","default",2181],":",["T_WHITESPACE","\n            ",2181],["T_VARIABLE","$post",2182],"[",["T_VARIABLE","$name",2182],"]",["T_WHITESPACE"," ",2182],"=",["T_WHITESPACE"," ",2182],["T_VARIABLE","$value",2182],";",["T_WHITESPACE","\n        ",2182],"}",["T_WHITESPACE","\n      ",2183],"}",["T_WHITESPACE","\n    ",2184],"}",["T_WHITESPACE","\n    ",2185],["T_COMMENT","\/\/ An empty name means the value is not sent.\n",2186],["T_WHITESPACE","    ",2187],["T_UNSET","unset",2187],"(",["T_VARIABLE","$post",2187],"[",["T_CONSTANT_ENCAPSED_STRING","''",2187],"]",")",";",["T_WHITESPACE","\n    ",2187],["T_RETURN","return",2188],["T_WHITESPACE"," ",2188],["T_VARIABLE","$submit_matches",2188],";",["T_WHITESPACE","\n  ",2188],"}",["T_WHITESPACE","\n\n  ",2189],["T_DOC_COMMENT","\/**\n   * Follows a link by complete name.\n   *\n   * Will click the first link found with this link text by default, or a later\n   * one if an index is given. Match is case sensitive with normalized space.\n   * The label is translated label.\n   *\n   * If the link is discovered and clicked, the test passes. Fail otherwise.\n   *\n   * @param string|\\Drupal\\Component\\Render\\MarkupInterface $label\n   *   Text between the anchor tags.\n   * @param int $index\n   *   Link position counting from zero.\n   *\n   * @return string|bool\n   *   Page contents on success, or FALSE on failure.\n   *\/",2191],["T_WHITESPACE","\n  ",2207],["T_PROTECTED","protected",2208],["T_WHITESPACE"," ",2208],["T_FUNCTION","function",2208],["T_WHITESPACE"," ",2208],["T_STRING","clickLink",2208],"(",["T_VARIABLE","$label",2208],",",["T_WHITESPACE"," ",2208],["T_VARIABLE","$index",2208],["T_WHITESPACE"," ",2208],"=",["T_WHITESPACE"," ",2208],["T_LNUMBER","0",2208],")",["T_WHITESPACE"," ",2208],"{",["T_WHITESPACE","\n    ",2208],["T_RETURN","return",2209],["T_WHITESPACE"," ",2209],["T_VARIABLE","$this",2209],["T_OBJECT_OPERATOR","->",2209],["T_STRING","clickLinkHelper",2209],"(",["T_VARIABLE","$label",2209],",",["T_WHITESPACE"," ",2209],["T_VARIABLE","$index",2209],",",["T_WHITESPACE"," ",2209],["T_CONSTANT_ENCAPSED_STRING","'\/\/a[normalize-space()=:label]'",2209],")",";",["T_WHITESPACE","\n  ",2209],"}",["T_WHITESPACE","\n\n  ",2210],["T_DOC_COMMENT","\/**\n   * Follows a link by partial name.\n   *\n   * If the link is discovered and clicked, the test passes. Fail otherwise.\n   *\n   * @param string|\\Drupal\\Component\\Render\\MarkupInterface $label\n   *   Text between the anchor tags, uses starts-with().\n   * @param int $index\n   *   Link position counting from zero.\n   *\n   * @return string|bool\n   *   Page contents on success, or FALSE on failure.\n   *\n   * @see ::clickLink()\n   *\/",2212],["T_WHITESPACE","\n  ",2226],["T_PROTECTED","protected",2227],["T_WHITESPACE"," ",2227],["T_FUNCTION","function",2227],["T_WHITESPACE"," ",2227],["T_STRING","clickLinkPartialName",2227],"(",["T_VARIABLE","$label",2227],",",["T_WHITESPACE"," ",2227],["T_VARIABLE","$index",2227],["T_WHITESPACE"," ",2227],"=",["T_WHITESPACE"," ",2227],["T_LNUMBER","0",2227],")",["T_WHITESPACE"," ",2227],"{",["T_WHITESPACE","\n    ",2227],["T_RETURN","return",2228],["T_WHITESPACE"," ",2228],["T_VARIABLE","$this",2228],["T_OBJECT_OPERATOR","->",2228],["T_STRING","clickLinkHelper",2228],"(",["T_VARIABLE","$label",2228],",",["T_WHITESPACE"," ",2228],["T_VARIABLE","$index",2228],",",["T_WHITESPACE"," ",2228],["T_CONSTANT_ENCAPSED_STRING","'\/\/a[starts-with(normalize-space(), :label)]'",2228],")",";",["T_WHITESPACE","\n  ",2228],"}",["T_WHITESPACE","\n\n  ",2229],["T_DOC_COMMENT","\/**\n   * Provides a helper for ::clickLink() and ::clickLinkPartialName().\n   *\n   * @param string|\\Drupal\\Component\\Render\\MarkupInterface $label\n   *   Text between the anchor tags, uses starts-with().\n   * @param int $index\n   *   Link position counting from zero.\n   * @param string $pattern\n   *   A pattern to use for the XPath.\n   *\n   * @return bool|string\n   *   Page contents on success, or FALSE on failure.\n   *\/",2231],["T_WHITESPACE","\n  ",2243],["T_PROTECTED","protected",2244],["T_WHITESPACE"," ",2244],["T_FUNCTION","function",2244],["T_WHITESPACE"," ",2244],["T_STRING","clickLinkHelper",2244],"(",["T_VARIABLE","$label",2244],",",["T_WHITESPACE"," ",2244],["T_VARIABLE","$index",2244],",",["T_WHITESPACE"," ",2244],["T_VARIABLE","$pattern",2244],")",["T_WHITESPACE"," ",2244],"{",["T_WHITESPACE","\n    ",2244],["T_COMMENT","\/\/ Cast MarkupInterface objects to string.\n",2245],["T_WHITESPACE","    ",2246],["T_VARIABLE","$label",2246],["T_WHITESPACE"," ",2246],"=",["T_WHITESPACE"," ",2246],["T_STRING_CAST","(string)",2246],["T_WHITESPACE"," ",2246],["T_VARIABLE","$label",2246],";",["T_WHITESPACE","\n    ",2246],["T_VARIABLE","$url_before",2247],["T_WHITESPACE"," ",2247],"=",["T_WHITESPACE"," ",2247],["T_VARIABLE","$this",2247],["T_OBJECT_OPERATOR","->",2247],["T_STRING","getUrl",2247],"(",")",";",["T_WHITESPACE","\n    ",2247],["T_VARIABLE","$urls",2248],["T_WHITESPACE"," ",2248],"=",["T_WHITESPACE"," ",2248],["T_VARIABLE","$this",2248],["T_OBJECT_OPERATOR","->",2248],["T_STRING","xpath",2248],"(",["T_VARIABLE","$pattern",2248],",",["T_WHITESPACE"," ",2248],["T_ARRAY","array",2248],"(",["T_CONSTANT_ENCAPSED_STRING","':label'",2248],["T_WHITESPACE"," ",2248],["T_DOUBLE_ARROW","=>",2248],["T_WHITESPACE"," ",2248],["T_VARIABLE","$label",2248],")",")",";",["T_WHITESPACE","\n    ",2248],["T_IF","if",2249],["T_WHITESPACE"," ",2249],"(",["T_ISSET","isset",2249],"(",["T_VARIABLE","$urls",2249],"[",["T_VARIABLE","$index",2249],"]",")",")",["T_WHITESPACE"," ",2249],"{",["T_WHITESPACE","\n      ",2249],["T_VARIABLE","$url_target",2250],["T_WHITESPACE"," ",2250],"=",["T_WHITESPACE"," ",2250],["T_VARIABLE","$this",2250],["T_OBJECT_OPERATOR","->",2250],["T_STRING","getAbsoluteUrl",2250],"(",["T_VARIABLE","$urls",2250],"[",["T_VARIABLE","$index",2250],"]","[",["T_CONSTANT_ENCAPSED_STRING","'href'",2250],"]",")",";",["T_WHITESPACE","\n      ",2250],["T_VARIABLE","$this",2251],["T_OBJECT_OPERATOR","->",2251],["T_STRING","pass",2251],"(",["T_STRING","SafeMarkup",2251],["T_DOUBLE_COLON","::",2251],["T_STRING","format",2251],"(",["T_CONSTANT_ENCAPSED_STRING","'Clicked link %label (@url_target) from @url_before'",2251],",",["T_WHITESPACE"," ",2251],["T_ARRAY","array",2251],"(",["T_CONSTANT_ENCAPSED_STRING","'%label'",2251],["T_WHITESPACE"," ",2251],["T_DOUBLE_ARROW","=>",2251],["T_WHITESPACE"," ",2251],["T_VARIABLE","$label",2251],",",["T_WHITESPACE"," ",2251],["T_CONSTANT_ENCAPSED_STRING","'@url_target'",2251],["T_WHITESPACE"," ",2251],["T_DOUBLE_ARROW","=>",2251],["T_WHITESPACE"," ",2251],["T_VARIABLE","$url_target",2251],",",["T_WHITESPACE"," ",2251],["T_CONSTANT_ENCAPSED_STRING","'@url_before'",2251],["T_WHITESPACE"," ",2251],["T_DOUBLE_ARROW","=>",2251],["T_WHITESPACE"," ",2251],["T_VARIABLE","$url_before",2251],")",")",",",["T_WHITESPACE"," ",2251],["T_CONSTANT_ENCAPSED_STRING","'Browser'",2251],")",";",["T_WHITESPACE","\n      ",2251],["T_RETURN","return",2252],["T_WHITESPACE"," ",2252],["T_VARIABLE","$this",2252],["T_OBJECT_OPERATOR","->",2252],["T_STRING","drupalGet",2252],"(",["T_VARIABLE","$url_target",2252],")",";",["T_WHITESPACE","\n    ",2252],"}",["T_WHITESPACE","\n    ",2253],["T_VARIABLE","$this",2254],["T_OBJECT_OPERATOR","->",2254],["T_STRING","fail",2254],"(",["T_STRING","SafeMarkup",2254],["T_DOUBLE_COLON","::",2254],["T_STRING","format",2254],"(",["T_CONSTANT_ENCAPSED_STRING","'Link %label does not exist on @url_before'",2254],",",["T_WHITESPACE"," ",2254],["T_ARRAY","array",2254],"(",["T_CONSTANT_ENCAPSED_STRING","'%label'",2254],["T_WHITESPACE"," ",2254],["T_DOUBLE_ARROW","=>",2254],["T_WHITESPACE"," ",2254],["T_VARIABLE","$label",2254],",",["T_WHITESPACE"," ",2254],["T_CONSTANT_ENCAPSED_STRING","'@url_before'",2254],["T_WHITESPACE"," ",2254],["T_DOUBLE_ARROW","=>",2254],["T_WHITESPACE"," ",2254],["T_VARIABLE","$url_before",2254],")",")",",",["T_WHITESPACE"," ",2254],["T_CONSTANT_ENCAPSED_STRING","'Browser'",2254],")",";",["T_WHITESPACE","\n    ",2254],["T_RETURN","return",2255],["T_WHITESPACE"," ",2255],["T_STRING","FALSE",2255],";",["T_WHITESPACE","\n  ",2255],"}",["T_WHITESPACE","\n\n  ",2256],["T_DOC_COMMENT","\/**\n   * Takes a path and returns an absolute path.\n   *\n   * This method is implemented in the way that browsers work, see\n   * https:\/\/url.spec.whatwg.org\/#relative-state for more information about the\n   * possible cases.\n   *\n   * @param string $path\n   *   A path from the internal browser content.\n   *\n   * @return string\n   *   The $path with $base_url prepended, if necessary.\n   *\/",2258],["T_WHITESPACE","\n  ",2270],["T_PROTECTED","protected",2271],["T_WHITESPACE"," ",2271],["T_FUNCTION","function",2271],["T_WHITESPACE"," ",2271],["T_STRING","getAbsoluteUrl",2271],"(",["T_VARIABLE","$path",2271],")",["T_WHITESPACE"," ",2271],"{",["T_WHITESPACE","\n    ",2271],["T_GLOBAL","global",2272],["T_WHITESPACE"," ",2272],["T_VARIABLE","$base_url",2272],",",["T_WHITESPACE"," ",2272],["T_VARIABLE","$base_path",2272],";",["T_WHITESPACE","\n\n    ",2272],["T_VARIABLE","$parts",2274],["T_WHITESPACE"," ",2274],"=",["T_WHITESPACE"," ",2274],["T_STRING","parse_url",2274],"(",["T_VARIABLE","$path",2274],")",";",["T_WHITESPACE","\n\n    ",2274],["T_COMMENT","\/\/ In case the $path has a host, it is already an absolute URL and we are\n",2276],["T_WHITESPACE","    ",2277],["T_COMMENT","\/\/ done.\n",2277],["T_WHITESPACE","    ",2278],["T_IF","if",2278],["T_WHITESPACE"," ",2278],"(","!",["T_EMPTY","empty",2278],"(",["T_VARIABLE","$parts",2278],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",2278],"]",")",")",["T_WHITESPACE"," ",2278],"{",["T_WHITESPACE","\n      ",2278],["T_RETURN","return",2279],["T_WHITESPACE"," ",2279],["T_VARIABLE","$path",2279],";",["T_WHITESPACE","\n    ",2279],"}",["T_WHITESPACE","\n\n    ",2280],["T_COMMENT","\/\/ In case the $path contains just a query, we turn it into an absolute URL\n",2282],["T_WHITESPACE","    ",2283],["T_COMMENT","\/\/ with the same scheme, host and path, see\n",2283],["T_WHITESPACE","    ",2284],["T_COMMENT","\/\/ https:\/\/url.spec.whatwg.org\/#relative-state.\n",2284],["T_WHITESPACE","    ",2285],["T_IF","if",2285],["T_WHITESPACE"," ",2285],"(",["T_STRING","array_keys",2285],"(",["T_VARIABLE","$parts",2285],")",["T_WHITESPACE"," ",2285],["T_IS_IDENTICAL","===",2285],["T_WHITESPACE"," ",2285],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",2285],"]",")",["T_WHITESPACE"," ",2285],"{",["T_WHITESPACE","\n      ",2285],["T_VARIABLE","$current_uri",2286],["T_WHITESPACE"," ",2286],"=",["T_WHITESPACE"," ",2286],["T_NEW","new",2286],["T_WHITESPACE"," ",2286],["T_STRING","Uri",2286],"(",["T_VARIABLE","$this",2286],["T_OBJECT_OPERATOR","->",2286],["T_STRING","getUrl",2286],"(",")",")",";",["T_WHITESPACE","\n      ",2286],["T_RETURN","return",2287],["T_WHITESPACE"," ",2287],["T_STRING_CAST","(string)",2287],["T_WHITESPACE"," ",2287],["T_VARIABLE","$current_uri",2287],["T_OBJECT_OPERATOR","->",2287],["T_STRING","withQuery",2287],"(",["T_VARIABLE","$parts",2287],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",2287],"]",")",";",["T_WHITESPACE","\n    ",2287],"}",["T_WHITESPACE","\n\n    ",2288],["T_IF","if",2290],["T_WHITESPACE"," ",2290],"(",["T_EMPTY","empty",2290],"(",["T_VARIABLE","$parts",2290],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",2290],"]",")",")",["T_WHITESPACE"," ",2290],"{",["T_WHITESPACE","\n      ",2290],["T_COMMENT","\/\/ Ensure that we have a string (and no xpath object).\n",2291],["T_WHITESPACE","      ",2292],["T_VARIABLE","$path",2292],["T_WHITESPACE"," ",2292],"=",["T_WHITESPACE"," ",2292],["T_STRING_CAST","(string)",2292],["T_WHITESPACE"," ",2292],["T_VARIABLE","$path",2292],";",["T_WHITESPACE","\n      ",2292],["T_COMMENT","\/\/ Strip $base_path, if existent.\n",2293],["T_WHITESPACE","      ",2294],["T_VARIABLE","$length",2294],["T_WHITESPACE"," ",2294],"=",["T_WHITESPACE"," ",2294],["T_STRING","strlen",2294],"(",["T_VARIABLE","$base_path",2294],")",";",["T_WHITESPACE","\n      ",2294],["T_IF","if",2295],["T_WHITESPACE"," ",2295],"(",["T_STRING","substr",2295],"(",["T_VARIABLE","$path",2295],",",["T_WHITESPACE"," ",2295],["T_LNUMBER","0",2295],",",["T_WHITESPACE"," ",2295],["T_VARIABLE","$length",2295],")",["T_WHITESPACE"," ",2295],["T_IS_IDENTICAL","===",2295],["T_WHITESPACE"," ",2295],["T_VARIABLE","$base_path",2295],")",["T_WHITESPACE"," ",2295],"{",["T_WHITESPACE","\n        ",2295],["T_VARIABLE","$path",2296],["T_WHITESPACE"," ",2296],"=",["T_WHITESPACE"," ",2296],["T_STRING","substr",2296],"(",["T_VARIABLE","$path",2296],",",["T_WHITESPACE"," ",2296],["T_VARIABLE","$length",2296],")",";",["T_WHITESPACE","\n      ",2296],"}",["T_WHITESPACE","\n      ",2297],["T_COMMENT","\/\/ Ensure that we have an absolute path.\n",2298],["T_WHITESPACE","      ",2299],["T_IF","if",2299],["T_WHITESPACE"," ",2299],"(",["T_EMPTY","empty",2299],"(",["T_VARIABLE","$path",2299],")",["T_WHITESPACE"," ",2299],["T_BOOLEAN_OR","||",2299],["T_WHITESPACE"," ",2299],["T_VARIABLE","$path",2299],"[",["T_LNUMBER","0",2299],"]",["T_WHITESPACE"," ",2299],["T_IS_NOT_IDENTICAL","!==",2299],["T_WHITESPACE"," ",2299],["T_CONSTANT_ENCAPSED_STRING","'\/'",2299],")",["T_WHITESPACE"," ",2299],"{",["T_WHITESPACE","\n        ",2299],["T_VARIABLE","$path",2300],["T_WHITESPACE"," ",2300],"=",["T_WHITESPACE"," ",2300],["T_CONSTANT_ENCAPSED_STRING","'\/'",2300],["T_WHITESPACE"," ",2300],".",["T_WHITESPACE"," ",2300],["T_VARIABLE","$path",2300],";",["T_WHITESPACE","\n      ",2300],"}",["T_WHITESPACE","\n      ",2301],["T_COMMENT","\/\/ Finally, prepend the $base_url.\n",2302],["T_WHITESPACE","      ",2303],["T_VARIABLE","$path",2303],["T_WHITESPACE"," ",2303],"=",["T_WHITESPACE"," ",2303],["T_VARIABLE","$base_url",2303],["T_WHITESPACE"," ",2303],".",["T_WHITESPACE"," ",2303],["T_VARIABLE","$path",2303],";",["T_WHITESPACE","\n    ",2303],"}",["T_WHITESPACE","\n    ",2304],["T_RETURN","return",2305],["T_WHITESPACE"," ",2305],["T_VARIABLE","$path",2305],";",["T_WHITESPACE","\n  ",2305],"}",["T_WHITESPACE","\n\n  ",2306],["T_DOC_COMMENT","\/**\n   * Gets the HTTP response headers of the requested page.\n   *\n   * Normally we are only interested in the headers returned by the last\n   * request. However, if a page is redirected or HTTP authentication is in use,\n   * multiple requests will be required to retrieve the page. Headers from all\n   * requests may be requested by passing TRUE to this function.\n   *\n   * @param $all_requests\n   *   Boolean value specifying whether to return headers from all requests\n   *   instead of just the last request. Defaults to FALSE.\n   *\n   * @return\n   *   A name\/value array if headers from only the last request are requested.\n   *   If headers from all requests are requested, an array of name\/value\n   *   arrays, one for each request.\n   *\n   *   The pseudonym \":status\" is used for the HTTP status line.\n   *\n   *   Values for duplicate headers are stored as a single comma-separated list.\n   *\/",2308],["T_WHITESPACE","\n  ",2328],["T_PROTECTED","protected",2329],["T_WHITESPACE"," ",2329],["T_FUNCTION","function",2329],["T_WHITESPACE"," ",2329],["T_STRING","drupalGetHeaders",2329],"(",["T_VARIABLE","$all_requests",2329],["T_WHITESPACE"," ",2329],"=",["T_WHITESPACE"," ",2329],["T_STRING","FALSE",2329],")",["T_WHITESPACE"," ",2329],"{",["T_WHITESPACE","\n    ",2329],["T_VARIABLE","$request",2330],["T_WHITESPACE"," ",2330],"=",["T_WHITESPACE"," ",2330],["T_LNUMBER","0",2330],";",["T_WHITESPACE","\n    ",2330],["T_VARIABLE","$headers",2331],["T_WHITESPACE"," ",2331],"=",["T_WHITESPACE"," ",2331],["T_ARRAY","array",2331],"(",["T_VARIABLE","$request",2331],["T_WHITESPACE"," ",2331],["T_DOUBLE_ARROW","=>",2331],["T_WHITESPACE"," ",2331],["T_ARRAY","array",2331],"(",")",")",";",["T_WHITESPACE","\n    ",2331],["T_FOREACH","foreach",2332],["T_WHITESPACE"," ",2332],"(",["T_VARIABLE","$this",2332],["T_OBJECT_OPERATOR","->",2332],["T_STRING","headers",2332],["T_WHITESPACE"," ",2332],["T_AS","as",2332],["T_WHITESPACE"," ",2332],["T_VARIABLE","$header",2332],")",["T_WHITESPACE"," ",2332],"{",["T_WHITESPACE","\n      ",2332],["T_VARIABLE","$header",2333],["T_WHITESPACE"," ",2333],"=",["T_WHITESPACE"," ",2333],["T_STRING","trim",2333],"(",["T_VARIABLE","$header",2333],")",";",["T_WHITESPACE","\n      ",2333],["T_IF","if",2334],["T_WHITESPACE"," ",2334],"(",["T_VARIABLE","$header",2334],["T_WHITESPACE"," ",2334],["T_IS_IDENTICAL","===",2334],["T_WHITESPACE"," ",2334],["T_CONSTANT_ENCAPSED_STRING","''",2334],")",["T_WHITESPACE"," ",2334],"{",["T_WHITESPACE","\n        ",2334],["T_VARIABLE","$request",2335],["T_INC","++",2335],";",["T_WHITESPACE","\n      ",2335],"}",["T_WHITESPACE","\n      ",2336],["T_ELSE","else",2337],["T_WHITESPACE"," ",2337],"{",["T_WHITESPACE","\n        ",2337],["T_IF","if",2338],["T_WHITESPACE"," ",2338],"(",["T_STRING","strpos",2338],"(",["T_VARIABLE","$header",2338],",",["T_WHITESPACE"," ",2338],["T_CONSTANT_ENCAPSED_STRING","'HTTP\/'",2338],")",["T_WHITESPACE"," ",2338],["T_IS_IDENTICAL","===",2338],["T_WHITESPACE"," ",2338],["T_LNUMBER","0",2338],")",["T_WHITESPACE"," ",2338],"{",["T_WHITESPACE","\n          ",2338],["T_VARIABLE","$name",2339],["T_WHITESPACE"," ",2339],"=",["T_WHITESPACE"," ",2339],["T_CONSTANT_ENCAPSED_STRING","':status'",2339],";",["T_WHITESPACE","\n          ",2339],["T_VARIABLE","$value",2340],["T_WHITESPACE"," ",2340],"=",["T_WHITESPACE"," ",2340],["T_VARIABLE","$header",2340],";",["T_WHITESPACE","\n        ",2340],"}",["T_WHITESPACE","\n        ",2341],["T_ELSE","else",2342],["T_WHITESPACE"," ",2342],"{",["T_WHITESPACE","\n          ",2342],["T_LIST","list",2343],"(",["T_VARIABLE","$name",2343],",",["T_WHITESPACE"," ",2343],["T_VARIABLE","$value",2343],")",["T_WHITESPACE"," ",2343],"=",["T_WHITESPACE"," ",2343],["T_STRING","explode",2343],"(",["T_CONSTANT_ENCAPSED_STRING","':'",2343],",",["T_WHITESPACE"," ",2343],["T_VARIABLE","$header",2343],",",["T_WHITESPACE"," ",2343],["T_LNUMBER","2",2343],")",";",["T_WHITESPACE","\n          ",2343],["T_VARIABLE","$name",2344],["T_WHITESPACE"," ",2344],"=",["T_WHITESPACE"," ",2344],["T_STRING","strtolower",2344],"(",["T_VARIABLE","$name",2344],")",";",["T_WHITESPACE","\n        ",2344],"}",["T_WHITESPACE","\n        ",2345],["T_IF","if",2346],["T_WHITESPACE"," ",2346],"(",["T_ISSET","isset",2346],"(",["T_VARIABLE","$headers",2346],"[",["T_VARIABLE","$request",2346],"]","[",["T_VARIABLE","$name",2346],"]",")",")",["T_WHITESPACE"," ",2346],"{",["T_WHITESPACE","\n          ",2346],["T_VARIABLE","$headers",2347],"[",["T_VARIABLE","$request",2347],"]","[",["T_VARIABLE","$name",2347],"]",["T_WHITESPACE"," ",2347],["T_CONCAT_EQUAL",".=",2347],["T_WHITESPACE"," ",2347],["T_CONSTANT_ENCAPSED_STRING","','",2347],["T_WHITESPACE"," ",2347],".",["T_WHITESPACE"," ",2347],["T_STRING","trim",2347],"(",["T_VARIABLE","$value",2347],")",";",["T_WHITESPACE","\n        ",2347],"}",["T_WHITESPACE","\n        ",2348],["T_ELSE","else",2349],["T_WHITESPACE"," ",2349],"{",["T_WHITESPACE","\n          ",2349],["T_VARIABLE","$headers",2350],"[",["T_VARIABLE","$request",2350],"]","[",["T_VARIABLE","$name",2350],"]",["T_WHITESPACE"," ",2350],"=",["T_WHITESPACE"," ",2350],["T_STRING","trim",2350],"(",["T_VARIABLE","$value",2350],")",";",["T_WHITESPACE","\n        ",2350],"}",["T_WHITESPACE","\n      ",2351],"}",["T_WHITESPACE","\n    ",2352],"}",["T_WHITESPACE","\n    ",2353],["T_IF","if",2354],["T_WHITESPACE"," ",2354],"(","!",["T_VARIABLE","$all_requests",2354],")",["T_WHITESPACE"," ",2354],"{",["T_WHITESPACE","\n      ",2354],["T_VARIABLE","$headers",2355],["T_WHITESPACE"," ",2355],"=",["T_WHITESPACE"," ",2355],["T_STRING","array_pop",2355],"(",["T_VARIABLE","$headers",2355],")",";",["T_WHITESPACE","\n    ",2355],"}",["T_WHITESPACE","\n    ",2356],["T_RETURN","return",2357],["T_WHITESPACE"," ",2357],["T_VARIABLE","$headers",2357],";",["T_WHITESPACE","\n  ",2357],"}",["T_WHITESPACE","\n\n  ",2358],["T_DOC_COMMENT","\/**\n   * Gets the value of an HTTP response header.\n   *\n   * If multiple requests were required to retrieve the page, only the headers\n   * from the last request will be checked by default. However, if TRUE is\n   * passed as the second argument, all requests will be processed from last to\n   * first until the header is found.\n   *\n   * @param $name\n   *   The name of the header to retrieve. Names are case-insensitive (see RFC\n   *   2616 section 4.2).\n   * @param $all_requests\n   *   Boolean value specifying whether to check all requests if the header is\n   *   not found in the last request. Defaults to FALSE.\n   *\n   * @return\n   *   The HTTP header value or FALSE if not found.\n   *\/",2360],["T_WHITESPACE","\n  ",2377],["T_PROTECTED","protected",2378],["T_WHITESPACE"," ",2378],["T_FUNCTION","function",2378],["T_WHITESPACE"," ",2378],["T_STRING","drupalGetHeader",2378],"(",["T_VARIABLE","$name",2378],",",["T_WHITESPACE"," ",2378],["T_VARIABLE","$all_requests",2378],["T_WHITESPACE"," ",2378],"=",["T_WHITESPACE"," ",2378],["T_STRING","FALSE",2378],")",["T_WHITESPACE"," ",2378],"{",["T_WHITESPACE","\n    ",2378],["T_VARIABLE","$name",2379],["T_WHITESPACE"," ",2379],"=",["T_WHITESPACE"," ",2379],["T_STRING","strtolower",2379],"(",["T_VARIABLE","$name",2379],")",";",["T_WHITESPACE","\n    ",2379],["T_VARIABLE","$header",2380],["T_WHITESPACE"," ",2380],"=",["T_WHITESPACE"," ",2380],["T_STRING","FALSE",2380],";",["T_WHITESPACE","\n    ",2380],["T_IF","if",2381],["T_WHITESPACE"," ",2381],"(",["T_VARIABLE","$all_requests",2381],")",["T_WHITESPACE"," ",2381],"{",["T_WHITESPACE","\n      ",2381],["T_FOREACH","foreach",2382],["T_WHITESPACE"," ",2382],"(",["T_STRING","array_reverse",2382],"(",["T_VARIABLE","$this",2382],["T_OBJECT_OPERATOR","->",2382],["T_STRING","drupalGetHeaders",2382],"(",["T_STRING","TRUE",2382],")",")",["T_WHITESPACE"," ",2382],["T_AS","as",2382],["T_WHITESPACE"," ",2382],["T_VARIABLE","$headers",2382],")",["T_WHITESPACE"," ",2382],"{",["T_WHITESPACE","\n        ",2382],["T_IF","if",2383],["T_WHITESPACE"," ",2383],"(",["T_ISSET","isset",2383],"(",["T_VARIABLE","$headers",2383],"[",["T_VARIABLE","$name",2383],"]",")",")",["T_WHITESPACE"," ",2383],"{",["T_WHITESPACE","\n          ",2383],["T_VARIABLE","$header",2384],["T_WHITESPACE"," ",2384],"=",["T_WHITESPACE"," ",2384],["T_VARIABLE","$headers",2384],"[",["T_VARIABLE","$name",2384],"]",";",["T_WHITESPACE","\n          ",2384],["T_BREAK","break",2385],";",["T_WHITESPACE","\n        ",2385],"}",["T_WHITESPACE","\n      ",2386],"}",["T_WHITESPACE","\n    ",2387],"}",["T_WHITESPACE","\n    ",2388],["T_ELSE","else",2389],["T_WHITESPACE"," ",2389],"{",["T_WHITESPACE","\n      ",2389],["T_VARIABLE","$headers",2390],["T_WHITESPACE"," ",2390],"=",["T_WHITESPACE"," ",2390],["T_VARIABLE","$this",2390],["T_OBJECT_OPERATOR","->",2390],["T_STRING","drupalGetHeaders",2390],"(",")",";",["T_WHITESPACE","\n      ",2390],["T_IF","if",2391],["T_WHITESPACE"," ",2391],"(",["T_ISSET","isset",2391],"(",["T_VARIABLE","$headers",2391],"[",["T_VARIABLE","$name",2391],"]",")",")",["T_WHITESPACE"," ",2391],"{",["T_WHITESPACE","\n        ",2391],["T_VARIABLE","$header",2392],["T_WHITESPACE"," ",2392],"=",["T_WHITESPACE"," ",2392],["T_VARIABLE","$headers",2392],"[",["T_VARIABLE","$name",2392],"]",";",["T_WHITESPACE","\n      ",2392],"}",["T_WHITESPACE","\n    ",2393],"}",["T_WHITESPACE","\n    ",2394],["T_RETURN","return",2395],["T_WHITESPACE"," ",2395],["T_VARIABLE","$header",2395],";",["T_WHITESPACE","\n  ",2395],"}",["T_WHITESPACE","\n\n  ",2396],["T_DOC_COMMENT","\/**\n   * Check if a HTTP response header exists and has the expected value.\n   *\n   * @param string $header\n   *   The header key, example: Content-Type\n   * @param string $value\n   *   The header value.\n   * @param string $message\n   *   (optional) A message to display with the assertion.\n   * @param string $group\n   *   (optional) The group this message is in, which is displayed in a column\n   *   in test output. Use 'Debug' to indicate this is debugging output. Do not\n   *   translate this string. Defaults to 'Other'; most tests do not override\n   *   this default.\n   *\n   * @return bool\n   *   TRUE if the assertion succeeded, FALSE otherwise.\n   *\/",2398],["T_WHITESPACE","\n  ",2415],["T_PROTECTED","protected",2416],["T_WHITESPACE"," ",2416],["T_FUNCTION","function",2416],["T_WHITESPACE"," ",2416],["T_STRING","assertHeader",2416],"(",["T_VARIABLE","$header",2416],",",["T_WHITESPACE"," ",2416],["T_VARIABLE","$value",2416],",",["T_WHITESPACE"," ",2416],["T_VARIABLE","$message",2416],["T_WHITESPACE"," ",2416],"=",["T_WHITESPACE"," ",2416],["T_CONSTANT_ENCAPSED_STRING","''",2416],",",["T_WHITESPACE"," ",2416],["T_VARIABLE","$group",2416],["T_WHITESPACE"," ",2416],"=",["T_WHITESPACE"," ",2416],["T_CONSTANT_ENCAPSED_STRING","'Browser'",2416],")",["T_WHITESPACE"," ",2416],"{",["T_WHITESPACE","\n    ",2416],["T_VARIABLE","$header_value",2417],["T_WHITESPACE"," ",2417],"=",["T_WHITESPACE"," ",2417],["T_VARIABLE","$this",2417],["T_OBJECT_OPERATOR","->",2417],["T_STRING","drupalGetHeader",2417],"(",["T_VARIABLE","$header",2417],")",";",["T_WHITESPACE","\n    ",2417],["T_RETURN","return",2418],["T_WHITESPACE"," ",2418],["T_VARIABLE","$this",2418],["T_OBJECT_OPERATOR","->",2418],["T_STRING","assertTrue",2418],"(",["T_VARIABLE","$header_value",2418],["T_WHITESPACE"," ",2418],["T_IS_EQUAL","==",2418],["T_WHITESPACE"," ",2418],["T_VARIABLE","$value",2418],",",["T_WHITESPACE"," ",2418],["T_VARIABLE","$message",2418],["T_WHITESPACE"," ",2418],"?",["T_WHITESPACE"," ",2418],["T_VARIABLE","$message",2418],["T_WHITESPACE"," ",2418],":",["T_WHITESPACE"," ",2418],["T_CONSTANT_ENCAPSED_STRING","'HTTP response header '",2418],["T_WHITESPACE"," ",2418],".",["T_WHITESPACE"," ",2418],["T_VARIABLE","$header",2418],["T_WHITESPACE"," ",2418],".",["T_WHITESPACE"," ",2418],["T_CONSTANT_ENCAPSED_STRING","' with value '",2418],["T_WHITESPACE"," ",2418],".",["T_WHITESPACE"," ",2418],["T_VARIABLE","$value",2418],["T_WHITESPACE"," ",2418],".",["T_WHITESPACE"," ",2418],["T_CONSTANT_ENCAPSED_STRING","' found, actual value: '",2418],["T_WHITESPACE"," ",2418],".",["T_WHITESPACE"," ",2418],["T_VARIABLE","$header_value",2418],",",["T_WHITESPACE"," ",2418],["T_VARIABLE","$group",2418],")",";",["T_WHITESPACE","\n  ",2418],"}",["T_WHITESPACE","\n\n  ",2419],["T_DOC_COMMENT","\/**\n   * Passes if the internal browser's URL matches the given path.\n   *\n   * @param \\Drupal\\Core\\Url|string $path\n   *   The expected system path or URL.\n   * @param $options\n   *   (optional) Any additional options to pass for $path to the url generator.\n   * @param $message\n   *   (optional) A message to display with the assertion. Do not translate\n   *   messages: use \\Drupal\\Component\\Utility\\SafeMarkup::format() to embed\n   *   variables in the message text, not t(). If left blank, a default message\n   *   will be displayed.\n   * @param $group\n   *   (optional) The group this message is in, which is displayed in a column\n   *   in test output. Use 'Debug' to indicate this is debugging output. Do not\n   *   translate this string. Defaults to 'Other'; most tests do not override\n   *   this default.\n   *\n   * @return\n   *   TRUE on pass, FALSE on fail.\n   *\/",2421],["T_WHITESPACE","\n  ",2441],["T_PROTECTED","protected",2442],["T_WHITESPACE"," ",2442],["T_FUNCTION","function",2442],["T_WHITESPACE"," ",2442],["T_STRING","assertUrl",2442],"(",["T_VARIABLE","$path",2442],",",["T_WHITESPACE"," ",2442],["T_ARRAY","array",2442],["T_WHITESPACE"," ",2442],["T_VARIABLE","$options",2442],["T_WHITESPACE"," ",2442],"=",["T_WHITESPACE"," ",2442],["T_ARRAY","array",2442],"(",")",",",["T_WHITESPACE"," ",2442],["T_VARIABLE","$message",2442],["T_WHITESPACE"," ",2442],"=",["T_WHITESPACE"," ",2442],["T_CONSTANT_ENCAPSED_STRING","''",2442],",",["T_WHITESPACE"," ",2442],["T_VARIABLE","$group",2442],["T_WHITESPACE"," ",2442],"=",["T_WHITESPACE"," ",2442],["T_CONSTANT_ENCAPSED_STRING","'Other'",2442],")",["T_WHITESPACE"," ",2442],"{",["T_WHITESPACE","\n    ",2442],["T_IF","if",2443],["T_WHITESPACE"," ",2443],"(",["T_VARIABLE","$path",2443],["T_WHITESPACE"," ",2443],["T_INSTANCEOF","instanceof",2443],["T_WHITESPACE"," ",2443],["T_STRING","Url",2443],")",["T_WHITESPACE"," ",2443],"{",["T_WHITESPACE","\n      ",2443],["T_VARIABLE","$url_obj",2444],["T_WHITESPACE"," ",2444],"=",["T_WHITESPACE"," ",2444],["T_VARIABLE","$path",2444],";",["T_WHITESPACE","\n    ",2444],"}",["T_WHITESPACE","\n    ",2445],["T_ELSEIF","elseif",2446],["T_WHITESPACE"," ",2446],"(",["T_STRING","UrlHelper",2446],["T_DOUBLE_COLON","::",2446],["T_STRING","isExternal",2446],"(",["T_VARIABLE","$path",2446],")",")",["T_WHITESPACE"," ",2446],"{",["T_WHITESPACE","\n      ",2446],["T_VARIABLE","$url_obj",2447],["T_WHITESPACE"," ",2447],"=",["T_WHITESPACE"," ",2447],["T_STRING","Url",2447],["T_DOUBLE_COLON","::",2447],["T_STRING","fromUri",2447],"(",["T_VARIABLE","$path",2447],",",["T_WHITESPACE"," ",2447],["T_VARIABLE","$options",2447],")",";",["T_WHITESPACE","\n    ",2447],"}",["T_WHITESPACE","\n    ",2448],["T_ELSE","else",2449],["T_WHITESPACE"," ",2449],"{",["T_WHITESPACE","\n      ",2449],["T_VARIABLE","$uri",2450],["T_WHITESPACE"," ",2450],"=",["T_WHITESPACE"," ",2450],["T_VARIABLE","$path",2450],["T_WHITESPACE"," ",2450],["T_IS_IDENTICAL","===",2450],["T_WHITESPACE"," ",2450],["T_CONSTANT_ENCAPSED_STRING","'<front>'",2450],["T_WHITESPACE"," ",2450],"?",["T_WHITESPACE"," ",2450],["T_CONSTANT_ENCAPSED_STRING","'base:\/'",2450],["T_WHITESPACE"," ",2450],":",["T_WHITESPACE"," ",2450],["T_CONSTANT_ENCAPSED_STRING","'base:\/'",2450],["T_WHITESPACE"," ",2450],".",["T_WHITESPACE"," ",2450],["T_VARIABLE","$path",2450],";",["T_WHITESPACE","\n      ",2450],["T_COMMENT","\/\/ This is needed for language prefixing.\n",2451],["T_WHITESPACE","      ",2452],["T_VARIABLE","$options",2452],"[",["T_CONSTANT_ENCAPSED_STRING","'path_processing'",2452],"]",["T_WHITESPACE"," ",2452],"=",["T_WHITESPACE"," ",2452],["T_STRING","TRUE",2452],";",["T_WHITESPACE","\n      ",2452],["T_VARIABLE","$url_obj",2453],["T_WHITESPACE"," ",2453],"=",["T_WHITESPACE"," ",2453],["T_STRING","Url",2453],["T_DOUBLE_COLON","::",2453],["T_STRING","fromUri",2453],"(",["T_VARIABLE","$uri",2453],",",["T_WHITESPACE"," ",2453],["T_VARIABLE","$options",2453],")",";",["T_WHITESPACE","\n    ",2453],"}",["T_WHITESPACE","\n    ",2454],["T_VARIABLE","$url",2455],["T_WHITESPACE"," ",2455],"=",["T_WHITESPACE"," ",2455],["T_VARIABLE","$url_obj",2455],["T_OBJECT_OPERATOR","->",2455],["T_STRING","setAbsolute",2455],"(",")",["T_OBJECT_OPERATOR","->",2455],["T_STRING","toString",2455],"(",")",";",["T_WHITESPACE","\n    ",2455],["T_IF","if",2456],["T_WHITESPACE"," ",2456],"(","!",["T_VARIABLE","$message",2456],")",["T_WHITESPACE"," ",2456],"{",["T_WHITESPACE","\n      ",2456],["T_VARIABLE","$message",2457],["T_WHITESPACE"," ",2457],"=",["T_WHITESPACE"," ",2457],["T_STRING","SafeMarkup",2457],["T_DOUBLE_COLON","::",2457],["T_STRING","format",2457],"(",["T_CONSTANT_ENCAPSED_STRING","'Expected @url matches current URL (@current_url).'",2457],",",["T_WHITESPACE"," ",2457],["T_ARRAY","array",2457],"(",["T_WHITESPACE","\n        ",2457],["T_CONSTANT_ENCAPSED_STRING","'@url'",2458],["T_WHITESPACE"," ",2458],["T_DOUBLE_ARROW","=>",2458],["T_WHITESPACE"," ",2458],["T_STRING","var_export",2458],"(",["T_VARIABLE","$url",2458],",",["T_WHITESPACE"," ",2458],["T_STRING","TRUE",2458],")",",",["T_WHITESPACE","\n        ",2458],["T_CONSTANT_ENCAPSED_STRING","'@current_url'",2459],["T_WHITESPACE"," ",2459],["T_DOUBLE_ARROW","=>",2459],["T_WHITESPACE"," ",2459],["T_VARIABLE","$this",2459],["T_OBJECT_OPERATOR","->",2459],["T_STRING","getUrl",2459],"(",")",",",["T_WHITESPACE","\n      ",2459],")",")",";",["T_WHITESPACE","\n    ",2460],"}",["T_WHITESPACE","\n    ",2461],["T_COMMENT","\/\/ Paths in query strings can be encoded or decoded with no functional\n",2462],["T_WHITESPACE","    ",2463],["T_COMMENT","\/\/ difference, decode them for comparison purposes.\n",2463],["T_WHITESPACE","    ",2464],["T_VARIABLE","$actual_url",2464],["T_WHITESPACE"," ",2464],"=",["T_WHITESPACE"," ",2464],["T_STRING","urldecode",2464],"(",["T_VARIABLE","$this",2464],["T_OBJECT_OPERATOR","->",2464],["T_STRING","getUrl",2464],"(",")",")",";",["T_WHITESPACE","\n    ",2464],["T_VARIABLE","$expected_url",2465],["T_WHITESPACE"," ",2465],"=",["T_WHITESPACE"," ",2465],["T_STRING","urldecode",2465],"(",["T_VARIABLE","$url",2465],")",";",["T_WHITESPACE","\n    ",2465],["T_RETURN","return",2466],["T_WHITESPACE"," ",2466],["T_VARIABLE","$this",2466],["T_OBJECT_OPERATOR","->",2466],["T_STRING","assertEqual",2466],"(",["T_VARIABLE","$actual_url",2466],",",["T_WHITESPACE"," ",2466],["T_VARIABLE","$expected_url",2466],",",["T_WHITESPACE"," ",2466],["T_VARIABLE","$message",2466],",",["T_WHITESPACE"," ",2466],["T_VARIABLE","$group",2466],")",";",["T_WHITESPACE","\n  ",2466],"}",["T_WHITESPACE","\n\n  ",2467],["T_DOC_COMMENT","\/**\n   * Asserts the page responds with the specified response code.\n   *\n   * @param $code\n   *   Response code. For example 200 is a successful page request. For a list\n   *   of all codes see http:\/\/www.w3.org\/Protocols\/rfc2616\/rfc2616-sec10.html.\n   * @param $message\n   *   (optional) A message to display with the assertion. Do not translate\n   *   messages: use \\Drupal\\Component\\Utility\\SafeMarkup::format() to embed\n   *   variables in the message text, not t(). If left blank, a default message\n   *   will be displayed.\n   * @param $group\n   *   (optional) The group this message is in, which is displayed in a column\n   *   in test output. Use 'Debug' to indicate this is debugging output. Do not\n   *   translate this string. Defaults to 'Browser'; most tests do not override\n   *   this default.\n   *\n   * @return\n   *   Assertion result.\n   *\/",2469],["T_WHITESPACE","\n  ",2488],["T_PROTECTED","protected",2489],["T_WHITESPACE"," ",2489],["T_FUNCTION","function",2489],["T_WHITESPACE"," ",2489],["T_STRING","assertResponse",2489],"(",["T_VARIABLE","$code",2489],",",["T_WHITESPACE"," ",2489],["T_VARIABLE","$message",2489],["T_WHITESPACE"," ",2489],"=",["T_WHITESPACE"," ",2489],["T_CONSTANT_ENCAPSED_STRING","''",2489],",",["T_WHITESPACE"," ",2489],["T_VARIABLE","$group",2489],["T_WHITESPACE"," ",2489],"=",["T_WHITESPACE"," ",2489],["T_CONSTANT_ENCAPSED_STRING","'Browser'",2489],")",["T_WHITESPACE"," ",2489],"{",["T_WHITESPACE","\n    ",2489],["T_VARIABLE","$curl_code",2490],["T_WHITESPACE"," ",2490],"=",["T_WHITESPACE"," ",2490],["T_STRING","curl_getinfo",2490],"(",["T_VARIABLE","$this",2490],["T_OBJECT_OPERATOR","->",2490],["T_STRING","curlHandle",2490],",",["T_WHITESPACE"," ",2490],["T_STRING","CURLINFO_HTTP_CODE",2490],")",";",["T_WHITESPACE","\n    ",2490],["T_VARIABLE","$match",2491],["T_WHITESPACE"," ",2491],"=",["T_WHITESPACE"," ",2491],["T_STRING","is_array",2491],"(",["T_VARIABLE","$code",2491],")",["T_WHITESPACE"," ",2491],"?",["T_WHITESPACE"," ",2491],["T_STRING","in_array",2491],"(",["T_VARIABLE","$curl_code",2491],",",["T_WHITESPACE"," ",2491],["T_VARIABLE","$code",2491],")",["T_WHITESPACE"," ",2491],":",["T_WHITESPACE"," ",2491],["T_VARIABLE","$curl_code",2491],["T_WHITESPACE"," ",2491],["T_IS_EQUAL","==",2491],["T_WHITESPACE"," ",2491],["T_VARIABLE","$code",2491],";",["T_WHITESPACE","\n    ",2491],["T_RETURN","return",2492],["T_WHITESPACE"," ",2492],["T_VARIABLE","$this",2492],["T_OBJECT_OPERATOR","->",2492],["T_STRING","assertTrue",2492],"(",["T_VARIABLE","$match",2492],",",["T_WHITESPACE"," ",2492],["T_VARIABLE","$message",2492],["T_WHITESPACE"," ",2492],"?",["T_WHITESPACE"," ",2492],["T_VARIABLE","$message",2492],["T_WHITESPACE"," ",2492],":",["T_WHITESPACE"," ",2492],["T_STRING","SafeMarkup",2492],["T_DOUBLE_COLON","::",2492],["T_STRING","format",2492],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP response expected @code, actual @curl_code'",2492],",",["T_WHITESPACE"," ",2492],["T_ARRAY","array",2492],"(",["T_CONSTANT_ENCAPSED_STRING","'@code'",2492],["T_WHITESPACE"," ",2492],["T_DOUBLE_ARROW","=>",2492],["T_WHITESPACE"," ",2492],["T_VARIABLE","$code",2492],",",["T_WHITESPACE"," ",2492],["T_CONSTANT_ENCAPSED_STRING","'@curl_code'",2492],["T_WHITESPACE"," ",2492],["T_DOUBLE_ARROW","=>",2492],["T_WHITESPACE"," ",2492],["T_VARIABLE","$curl_code",2492],")",")",",",["T_WHITESPACE"," ",2492],["T_VARIABLE","$group",2492],")",";",["T_WHITESPACE","\n  ",2492],"}",["T_WHITESPACE","\n\n  ",2493],["T_DOC_COMMENT","\/**\n   * Asserts the page did not return the specified response code.\n   *\n   * @param $code\n   *   Response code. For example 200 is a successful page request. For a list\n   *   of all codes see http:\/\/www.w3.org\/Protocols\/rfc2616\/rfc2616-sec10.html.\n   * @param $message\n   *   (optional) A message to display with the assertion. Do not translate\n   *   messages: use \\Drupal\\Component\\Utility\\SafeMarkup::format() to embed\n   *   variables in the message text, not t(). If left blank, a default message\n   *   will be displayed.\n   * @param $group\n   *   (optional) The group this message is in, which is displayed in a column\n   *   in test output. Use 'Debug' to indicate this is debugging output. Do not\n   *   translate this string. Defaults to 'Browser'; most tests do not override\n   *   this default.\n   *\n   * @return\n   *   Assertion result.\n   *\/",2495],["T_WHITESPACE","\n  ",2514],["T_PROTECTED","protected",2515],["T_WHITESPACE"," ",2515],["T_FUNCTION","function",2515],["T_WHITESPACE"," ",2515],["T_STRING","assertNoResponse",2515],"(",["T_VARIABLE","$code",2515],",",["T_WHITESPACE"," ",2515],["T_VARIABLE","$message",2515],["T_WHITESPACE"," ",2515],"=",["T_WHITESPACE"," ",2515],["T_CONSTANT_ENCAPSED_STRING","''",2515],",",["T_WHITESPACE"," ",2515],["T_VARIABLE","$group",2515],["T_WHITESPACE"," ",2515],"=",["T_WHITESPACE"," ",2515],["T_CONSTANT_ENCAPSED_STRING","'Browser'",2515],")",["T_WHITESPACE"," ",2515],"{",["T_WHITESPACE","\n    ",2515],["T_VARIABLE","$curl_code",2516],["T_WHITESPACE"," ",2516],"=",["T_WHITESPACE"," ",2516],["T_STRING","curl_getinfo",2516],"(",["T_VARIABLE","$this",2516],["T_OBJECT_OPERATOR","->",2516],["T_STRING","curlHandle",2516],",",["T_WHITESPACE"," ",2516],["T_STRING","CURLINFO_HTTP_CODE",2516],")",";",["T_WHITESPACE","\n    ",2516],["T_VARIABLE","$match",2517],["T_WHITESPACE"," ",2517],"=",["T_WHITESPACE"," ",2517],["T_STRING","is_array",2517],"(",["T_VARIABLE","$code",2517],")",["T_WHITESPACE"," ",2517],"?",["T_WHITESPACE"," ",2517],["T_STRING","in_array",2517],"(",["T_VARIABLE","$curl_code",2517],",",["T_WHITESPACE"," ",2517],["T_VARIABLE","$code",2517],")",["T_WHITESPACE"," ",2517],":",["T_WHITESPACE"," ",2517],["T_VARIABLE","$curl_code",2517],["T_WHITESPACE"," ",2517],["T_IS_EQUAL","==",2517],["T_WHITESPACE"," ",2517],["T_VARIABLE","$code",2517],";",["T_WHITESPACE","\n    ",2517],["T_RETURN","return",2518],["T_WHITESPACE"," ",2518],["T_VARIABLE","$this",2518],["T_OBJECT_OPERATOR","->",2518],["T_STRING","assertFalse",2518],"(",["T_VARIABLE","$match",2518],",",["T_WHITESPACE"," ",2518],["T_VARIABLE","$message",2518],["T_WHITESPACE"," ",2518],"?",["T_WHITESPACE"," ",2518],["T_VARIABLE","$message",2518],["T_WHITESPACE"," ",2518],":",["T_WHITESPACE"," ",2518],["T_STRING","SafeMarkup",2518],["T_DOUBLE_COLON","::",2518],["T_STRING","format",2518],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP response not expected @code, actual @curl_code'",2518],",",["T_WHITESPACE"," ",2518],["T_ARRAY","array",2518],"(",["T_CONSTANT_ENCAPSED_STRING","'@code'",2518],["T_WHITESPACE"," ",2518],["T_DOUBLE_ARROW","=>",2518],["T_WHITESPACE"," ",2518],["T_VARIABLE","$code",2518],",",["T_WHITESPACE"," ",2518],["T_CONSTANT_ENCAPSED_STRING","'@curl_code'",2518],["T_WHITESPACE"," ",2518],["T_DOUBLE_ARROW","=>",2518],["T_WHITESPACE"," ",2518],["T_VARIABLE","$curl_code",2518],")",")",",",["T_WHITESPACE"," ",2518],["T_VARIABLE","$group",2518],")",";",["T_WHITESPACE","\n  ",2518],"}",["T_WHITESPACE","\n\n  ",2519],["T_DOC_COMMENT","\/**\n   * Creates a mock request and sets it on the generator.\n   *\n   * This is used to manipulate how the generator generates paths during tests.\n   * It also ensures that calls to $this->drupalGet() will work when running\n   * from run-tests.sh because the url generator no longer looks at the global\n   * variables that are set there but relies on getting this information from a\n   * request object.\n   *\n   * @param bool $clean_urls\n   *   Whether to mock the request using clean urls.\n   * @param $override_server_vars\n   *   An array of server variables to override.\n   *\n   * @return \\Symfony\\Component\\HttpFoundation\\Request\n   *   The mocked request object.\n   *\/",2521],["T_WHITESPACE","\n  ",2537],["T_PROTECTED","protected",2538],["T_WHITESPACE"," ",2538],["T_FUNCTION","function",2538],["T_WHITESPACE"," ",2538],["T_STRING","prepareRequestForGenerator",2538],"(",["T_VARIABLE","$clean_urls",2538],["T_WHITESPACE"," ",2538],"=",["T_WHITESPACE"," ",2538],["T_STRING","TRUE",2538],",",["T_WHITESPACE"," ",2538],["T_VARIABLE","$override_server_vars",2538],["T_WHITESPACE"," ",2538],"=",["T_WHITESPACE"," ",2538],["T_ARRAY","array",2538],"(",")",")",["T_WHITESPACE"," ",2538],"{",["T_WHITESPACE","\n    ",2538],["T_VARIABLE","$request",2539],["T_WHITESPACE"," ",2539],"=",["T_WHITESPACE"," ",2539],["T_STRING","Request",2539],["T_DOUBLE_COLON","::",2539],["T_STRING","createFromGlobals",2539],"(",")",";",["T_WHITESPACE","\n    ",2539],["T_VARIABLE","$server",2540],["T_WHITESPACE"," ",2540],"=",["T_WHITESPACE"," ",2540],["T_VARIABLE","$request",2540],["T_OBJECT_OPERATOR","->",2540],["T_STRING","server",2540],["T_OBJECT_OPERATOR","->",2540],["T_STRING","all",2540],"(",")",";",["T_WHITESPACE","\n    ",2540],["T_IF","if",2541],["T_WHITESPACE"," ",2541],"(",["T_STRING","basename",2541],"(",["T_VARIABLE","$server",2541],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_FILENAME'",2541],"]",")",["T_WHITESPACE"," ",2541],["T_IS_NOT_EQUAL","!=",2541],["T_WHITESPACE"," ",2541],["T_STRING","basename",2541],"(",["T_VARIABLE","$server",2541],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",2541],"]",")",")",["T_WHITESPACE"," ",2541],"{",["T_WHITESPACE","\n      ",2541],["T_COMMENT","\/\/ We need this for when the test is executed by run-tests.sh.\n",2542],["T_WHITESPACE","      ",2543],["T_COMMENT","\/\/ @todo Remove this once run-tests.sh has been converted to use a Request\n",2543],["T_WHITESPACE","      ",2544],["T_COMMENT","\/\/   object.\n",2544],["T_WHITESPACE","      ",2545],["T_VARIABLE","$cwd",2545],["T_WHITESPACE"," ",2545],"=",["T_WHITESPACE"," ",2545],["T_STRING","getcwd",2545],"(",")",";",["T_WHITESPACE","\n      ",2545],["T_VARIABLE","$server",2546],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_FILENAME'",2546],"]",["T_WHITESPACE"," ",2546],"=",["T_WHITESPACE"," ",2546],["T_VARIABLE","$cwd",2546],["T_WHITESPACE"," ",2546],".",["T_WHITESPACE"," ",2546],["T_CONSTANT_ENCAPSED_STRING","'\/'",2546],["T_WHITESPACE"," ",2546],".",["T_WHITESPACE"," ",2546],["T_STRING","basename",2546],"(",["T_VARIABLE","$server",2546],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",2546],"]",")",";",["T_WHITESPACE","\n      ",2546],["T_VARIABLE","$base_path",2547],["T_WHITESPACE"," ",2547],"=",["T_WHITESPACE"," ",2547],["T_STRING","rtrim",2547],"(",["T_VARIABLE","$server",2547],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",2547],"]",",",["T_WHITESPACE"," ",2547],["T_CONSTANT_ENCAPSED_STRING","'\/'",2547],")",";",["T_WHITESPACE","\n    ",2547],"}",["T_WHITESPACE","\n    ",2548],["T_ELSE","else",2549],["T_WHITESPACE"," ",2549],"{",["T_WHITESPACE","\n      ",2549],["T_VARIABLE","$base_path",2550],["T_WHITESPACE"," ",2550],"=",["T_WHITESPACE"," ",2550],["T_VARIABLE","$request",2550],["T_OBJECT_OPERATOR","->",2550],["T_STRING","getBasePath",2550],"(",")",";",["T_WHITESPACE","\n    ",2550],"}",["T_WHITESPACE","\n    ",2551],["T_IF","if",2552],["T_WHITESPACE"," ",2552],"(",["T_VARIABLE","$clean_urls",2552],")",["T_WHITESPACE"," ",2552],"{",["T_WHITESPACE","\n      ",2552],["T_VARIABLE","$request_path",2553],["T_WHITESPACE"," ",2553],"=",["T_WHITESPACE"," ",2553],["T_VARIABLE","$base_path",2553],["T_WHITESPACE"," ",2553],"?",["T_WHITESPACE"," ",2553],["T_VARIABLE","$base_path",2553],["T_WHITESPACE"," ",2553],".",["T_WHITESPACE"," ",2553],["T_CONSTANT_ENCAPSED_STRING","'\/user'",2553],["T_WHITESPACE"," ",2553],":",["T_WHITESPACE"," ",2553],["T_CONSTANT_ENCAPSED_STRING","'user'",2553],";",["T_WHITESPACE","\n    ",2553],"}",["T_WHITESPACE","\n    ",2554],["T_ELSE","else",2555],["T_WHITESPACE"," ",2555],"{",["T_WHITESPACE","\n      ",2555],["T_VARIABLE","$request_path",2556],["T_WHITESPACE"," ",2556],"=",["T_WHITESPACE"," ",2556],["T_VARIABLE","$base_path",2556],["T_WHITESPACE"," ",2556],"?",["T_WHITESPACE"," ",2556],["T_VARIABLE","$base_path",2556],["T_WHITESPACE"," ",2556],".",["T_WHITESPACE"," ",2556],["T_CONSTANT_ENCAPSED_STRING","'\/index.php\/user'",2556],["T_WHITESPACE"," ",2556],":",["T_WHITESPACE"," ",2556],["T_CONSTANT_ENCAPSED_STRING","'\/index.php\/user'",2556],";",["T_WHITESPACE","\n    ",2556],"}",["T_WHITESPACE","\n    ",2557],["T_VARIABLE","$server",2558],["T_WHITESPACE"," ",2558],"=",["T_WHITESPACE"," ",2558],["T_STRING","array_merge",2558],"(",["T_VARIABLE","$server",2558],",",["T_WHITESPACE"," ",2558],["T_VARIABLE","$override_server_vars",2558],")",";",["T_WHITESPACE","\n\n    ",2558],["T_VARIABLE","$request",2560],["T_WHITESPACE"," ",2560],"=",["T_WHITESPACE"," ",2560],["T_STRING","Request",2560],["T_DOUBLE_COLON","::",2560],["T_STRING","create",2560],"(",["T_VARIABLE","$request_path",2560],",",["T_WHITESPACE"," ",2560],["T_CONSTANT_ENCAPSED_STRING","'GET'",2560],",",["T_WHITESPACE"," ",2560],["T_ARRAY","array",2560],"(",")",",",["T_WHITESPACE"," ",2560],["T_ARRAY","array",2560],"(",")",",",["T_WHITESPACE"," ",2560],["T_ARRAY","array",2560],"(",")",",",["T_WHITESPACE"," ",2560],["T_VARIABLE","$server",2560],")",";",["T_WHITESPACE","\n    ",2560],["T_COMMENT","\/\/ Ensure the request time is REQUEST_TIME to ensure that API calls\n",2561],["T_WHITESPACE","    ",2562],["T_COMMENT","\/\/ in the test use the right timestamp.\n",2562],["T_WHITESPACE","    ",2563],["T_VARIABLE","$request",2563],["T_OBJECT_OPERATOR","->",2563],["T_STRING","server",2563],["T_OBJECT_OPERATOR","->",2563],["T_STRING","set",2563],"(",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_TIME'",2563],",",["T_WHITESPACE"," ",2563],["T_STRING","REQUEST_TIME",2563],")",";",["T_WHITESPACE","\n    ",2563],["T_VARIABLE","$this",2564],["T_OBJECT_OPERATOR","->",2564],["T_STRING","container",2564],["T_OBJECT_OPERATOR","->",2564],["T_STRING","get",2564],"(",["T_CONSTANT_ENCAPSED_STRING","'request_stack'",2564],")",["T_OBJECT_OPERATOR","->",2564],["T_STRING","push",2564],"(",["T_VARIABLE","$request",2564],")",";",["T_WHITESPACE","\n\n    ",2564],["T_COMMENT","\/\/ The request context is normally set by the router_listener from within\n",2566],["T_WHITESPACE","    ",2567],["T_COMMENT","\/\/ its KernelEvents::REQUEST listener. In the simpletest parent site this\n",2567],["T_WHITESPACE","    ",2568],["T_COMMENT","\/\/ event is not fired, therefore it is necessary to updated the request\n",2568],["T_WHITESPACE","    ",2569],["T_COMMENT","\/\/ context manually here.\n",2569],["T_WHITESPACE","    ",2570],["T_VARIABLE","$this",2570],["T_OBJECT_OPERATOR","->",2570],["T_STRING","container",2570],["T_OBJECT_OPERATOR","->",2570],["T_STRING","get",2570],"(",["T_CONSTANT_ENCAPSED_STRING","'router.request_context'",2570],")",["T_OBJECT_OPERATOR","->",2570],["T_STRING","fromRequest",2570],"(",["T_VARIABLE","$request",2570],")",";",["T_WHITESPACE","\n\n    ",2570],["T_RETURN","return",2572],["T_WHITESPACE"," ",2572],["T_VARIABLE","$request",2572],";",["T_WHITESPACE","\n  ",2572],"}",["T_WHITESPACE","\n\n  ",2573],["T_DOC_COMMENT","\/**\n   * Builds an a absolute URL from a system path or a URL object.\n   *\n   * @param string|\\Drupal\\Core\\Url $path\n   *   A system path or a URL.\n   * @param array $options\n   *   Options to be passed to Url::fromUri().\n   *\n   * @return string\n   *   An absolute URL string.\n   *\/",2575],["T_WHITESPACE","\n  ",2585],["T_PROTECTED","protected",2586],["T_WHITESPACE"," ",2586],["T_FUNCTION","function",2586],["T_WHITESPACE"," ",2586],["T_STRING","buildUrl",2586],"(",["T_VARIABLE","$path",2586],",",["T_WHITESPACE"," ",2586],["T_ARRAY","array",2586],["T_WHITESPACE"," ",2586],["T_VARIABLE","$options",2586],["T_WHITESPACE"," ",2586],"=",["T_WHITESPACE"," ",2586],["T_ARRAY","array",2586],"(",")",")",["T_WHITESPACE"," ",2586],"{",["T_WHITESPACE","\n    ",2586],["T_IF","if",2587],["T_WHITESPACE"," ",2587],"(",["T_VARIABLE","$path",2587],["T_WHITESPACE"," ",2587],["T_INSTANCEOF","instanceof",2587],["T_WHITESPACE"," ",2587],["T_STRING","Url",2587],")",["T_WHITESPACE"," ",2587],"{",["T_WHITESPACE","\n      ",2587],["T_VARIABLE","$url_options",2588],["T_WHITESPACE"," ",2588],"=",["T_WHITESPACE"," ",2588],["T_VARIABLE","$path",2588],["T_OBJECT_OPERATOR","->",2588],["T_STRING","getOptions",2588],"(",")",";",["T_WHITESPACE","\n      ",2588],["T_VARIABLE","$options",2589],["T_WHITESPACE"," ",2589],"=",["T_WHITESPACE"," ",2589],["T_VARIABLE","$url_options",2589],["T_WHITESPACE"," ",2589],"+",["T_WHITESPACE"," ",2589],["T_VARIABLE","$options",2589],";",["T_WHITESPACE","\n      ",2589],["T_VARIABLE","$path",2590],["T_OBJECT_OPERATOR","->",2590],["T_STRING","setOptions",2590],"(",["T_VARIABLE","$options",2590],")",";",["T_WHITESPACE","\n      ",2590],["T_RETURN","return",2591],["T_WHITESPACE"," ",2591],["T_VARIABLE","$path",2591],["T_OBJECT_OPERATOR","->",2591],["T_STRING","setAbsolute",2591],"(",")",["T_OBJECT_OPERATOR","->",2591],["T_STRING","toString",2591],"(",")",";",["T_WHITESPACE","\n    ",2591],"}",["T_WHITESPACE","\n    ",2592],["T_COMMENT","\/\/ The URL generator service is not necessarily available yet; e.g., in\n",2593],["T_WHITESPACE","    ",2594],["T_COMMENT","\/\/ interactive installer tests.\n",2594],["T_WHITESPACE","    ",2595],["T_ELSEIF","elseif",2595],["T_WHITESPACE"," ",2595],"(",["T_VARIABLE","$this",2595],["T_OBJECT_OPERATOR","->",2595],["T_STRING","container",2595],["T_OBJECT_OPERATOR","->",2595],["T_STRING","has",2595],"(",["T_CONSTANT_ENCAPSED_STRING","'url_generator'",2595],")",")",["T_WHITESPACE"," ",2595],"{",["T_WHITESPACE","\n      ",2595],["T_VARIABLE","$force_internal",2596],["T_WHITESPACE"," ",2596],"=",["T_WHITESPACE"," ",2596],["T_ISSET","isset",2596],"(",["T_VARIABLE","$options",2596],"[",["T_CONSTANT_ENCAPSED_STRING","'external'",2596],"]",")",["T_WHITESPACE"," ",2596],["T_BOOLEAN_AND","&&",2596],["T_WHITESPACE"," ",2596],["T_VARIABLE","$options",2596],"[",["T_CONSTANT_ENCAPSED_STRING","'external'",2596],"]",["T_WHITESPACE"," ",2596],["T_IS_EQUAL","==",2596],["T_WHITESPACE"," ",2596],["T_STRING","FALSE",2596],";",["T_WHITESPACE","\n      ",2596],["T_IF","if",2597],["T_WHITESPACE"," ",2597],"(","!",["T_VARIABLE","$force_internal",2597],["T_WHITESPACE"," ",2597],["T_BOOLEAN_AND","&&",2597],["T_WHITESPACE"," ",2597],["T_STRING","UrlHelper",2597],["T_DOUBLE_COLON","::",2597],["T_STRING","isExternal",2597],"(",["T_VARIABLE","$path",2597],")",")",["T_WHITESPACE"," ",2597],"{",["T_WHITESPACE","\n        ",2597],["T_RETURN","return",2598],["T_WHITESPACE"," ",2598],["T_STRING","Url",2598],["T_DOUBLE_COLON","::",2598],["T_STRING","fromUri",2598],"(",["T_VARIABLE","$path",2598],",",["T_WHITESPACE"," ",2598],["T_VARIABLE","$options",2598],")",["T_OBJECT_OPERATOR","->",2598],["T_STRING","toString",2598],"(",")",";",["T_WHITESPACE","\n      ",2598],"}",["T_WHITESPACE","\n      ",2599],["T_ELSE","else",2600],["T_WHITESPACE"," ",2600],"{",["T_WHITESPACE","\n        ",2600],["T_VARIABLE","$uri",2601],["T_WHITESPACE"," ",2601],"=",["T_WHITESPACE"," ",2601],["T_VARIABLE","$path",2601],["T_WHITESPACE"," ",2601],["T_IS_IDENTICAL","===",2601],["T_WHITESPACE"," ",2601],["T_CONSTANT_ENCAPSED_STRING","'<front>'",2601],["T_WHITESPACE"," ",2601],"?",["T_WHITESPACE"," ",2601],["T_CONSTANT_ENCAPSED_STRING","'base:\/'",2601],["T_WHITESPACE"," ",2601],":",["T_WHITESPACE"," ",2601],["T_CONSTANT_ENCAPSED_STRING","'base:\/'",2601],["T_WHITESPACE"," ",2601],".",["T_WHITESPACE"," ",2601],["T_VARIABLE","$path",2601],";",["T_WHITESPACE","\n        ",2601],["T_COMMENT","\/\/ Path processing is needed for language prefixing.  Skip it when a\n",2602],["T_WHITESPACE","        ",2603],["T_COMMENT","\/\/ path that may look like an external URL is being used as internal.\n",2603],["T_WHITESPACE","        ",2604],["T_VARIABLE","$options",2604],"[",["T_CONSTANT_ENCAPSED_STRING","'path_processing'",2604],"]",["T_WHITESPACE"," ",2604],"=",["T_WHITESPACE"," ",2604],"!",["T_VARIABLE","$force_internal",2604],";",["T_WHITESPACE","\n        ",2604],["T_RETURN","return",2605],["T_WHITESPACE"," ",2605],["T_STRING","Url",2605],["T_DOUBLE_COLON","::",2605],["T_STRING","fromUri",2605],"(",["T_VARIABLE","$uri",2605],",",["T_WHITESPACE"," ",2605],["T_VARIABLE","$options",2605],")",["T_WHITESPACE","\n          ",2605],["T_OBJECT_OPERATOR","->",2606],["T_STRING","setAbsolute",2606],"(",")",["T_WHITESPACE","\n          ",2606],["T_OBJECT_OPERATOR","->",2607],["T_STRING","toString",2607],"(",")",";",["T_WHITESPACE","\n      ",2607],"}",["T_WHITESPACE","\n    ",2608],"}",["T_WHITESPACE","\n    ",2609],["T_ELSE","else",2610],["T_WHITESPACE"," ",2610],"{",["T_WHITESPACE","\n      ",2610],["T_RETURN","return",2611],["T_WHITESPACE"," ",2611],["T_VARIABLE","$this",2611],["T_OBJECT_OPERATOR","->",2611],["T_STRING","getAbsoluteUrl",2611],"(",["T_VARIABLE","$path",2611],")",";",["T_WHITESPACE","\n    ",2611],"}",["T_WHITESPACE","\n  ",2612],"}",["T_WHITESPACE","\n\n  ",2613],["T_DOC_COMMENT","\/**\n   * Asserts whether an expected cache tag was present in the last response.\n   *\n   * @param string $expected_cache_tag\n   *   The expected cache tag.\n   *\/",2615],["T_WHITESPACE","\n  ",2620],["T_PROTECTED","protected",2621],["T_WHITESPACE"," ",2621],["T_FUNCTION","function",2621],["T_WHITESPACE"," ",2621],["T_STRING","assertCacheTag",2621],"(",["T_VARIABLE","$expected_cache_tag",2621],")",["T_WHITESPACE"," ",2621],"{",["T_WHITESPACE","\n    ",2621],["T_VARIABLE","$cache_tags",2622],["T_WHITESPACE"," ",2622],"=",["T_WHITESPACE"," ",2622],["T_STRING","explode",2622],"(",["T_CONSTANT_ENCAPSED_STRING","' '",2622],",",["T_WHITESPACE"," ",2622],["T_VARIABLE","$this",2622],["T_OBJECT_OPERATOR","->",2622],["T_STRING","drupalGetHeader",2622],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache-Tags'",2622],")",")",";",["T_WHITESPACE","\n    ",2622],["T_VARIABLE","$this",2623],["T_OBJECT_OPERATOR","->",2623],["T_STRING","assertTrue",2623],"(",["T_STRING","in_array",2623],"(",["T_VARIABLE","$expected_cache_tag",2623],",",["T_WHITESPACE"," ",2623],["T_VARIABLE","$cache_tags",2623],")",",",["T_WHITESPACE"," ",2623],["T_CONSTANT_ENCAPSED_STRING","\"'\"",2623],["T_WHITESPACE"," ",2623],".",["T_WHITESPACE"," ",2623],["T_VARIABLE","$expected_cache_tag",2623],["T_WHITESPACE"," ",2623],".",["T_WHITESPACE"," ",2623],["T_CONSTANT_ENCAPSED_STRING","\"' is present in the X-Drupal-Cache-Tags header.\"",2623],")",";",["T_WHITESPACE","\n  ",2623],"}",["T_WHITESPACE","\n\n  ",2624],["T_DOC_COMMENT","\/**\n   * Asserts whether an expected cache tag was absent in the last response.\n   *\n   * @param string $cache_tag\n   *   The cache tag to check.\n   *\/",2626],["T_WHITESPACE","\n  ",2631],["T_PROTECTED","protected",2632],["T_WHITESPACE"," ",2632],["T_FUNCTION","function",2632],["T_WHITESPACE"," ",2632],["T_STRING","assertNoCacheTag",2632],"(",["T_VARIABLE","$cache_tag",2632],")",["T_WHITESPACE"," ",2632],"{",["T_WHITESPACE","\n    ",2632],["T_VARIABLE","$cache_tags",2633],["T_WHITESPACE"," ",2633],"=",["T_WHITESPACE"," ",2633],["T_STRING","explode",2633],"(",["T_CONSTANT_ENCAPSED_STRING","' '",2633],",",["T_WHITESPACE"," ",2633],["T_VARIABLE","$this",2633],["T_OBJECT_OPERATOR","->",2633],["T_STRING","drupalGetHeader",2633],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Drupal-Cache-Tags'",2633],")",")",";",["T_WHITESPACE","\n    ",2633],["T_VARIABLE","$this",2634],["T_OBJECT_OPERATOR","->",2634],["T_STRING","assertFalse",2634],"(",["T_STRING","in_array",2634],"(",["T_VARIABLE","$cache_tag",2634],",",["T_WHITESPACE"," ",2634],["T_VARIABLE","$cache_tags",2634],")",",",["T_WHITESPACE"," ",2634],["T_CONSTANT_ENCAPSED_STRING","\"'\"",2634],["T_WHITESPACE"," ",2634],".",["T_WHITESPACE"," ",2634],["T_VARIABLE","$cache_tag",2634],["T_WHITESPACE"," ",2634],".",["T_WHITESPACE"," ",2634],["T_CONSTANT_ENCAPSED_STRING","\"' is absent in the X-Drupal-Cache-Tags header.\"",2634],")",";",["T_WHITESPACE","\n  ",2634],"}",["T_WHITESPACE","\n\n  ",2635],["T_DOC_COMMENT","\/**\n   * Enables\/disables the cacheability headers.\n   *\n   * Sets the http.response.debug_cacheability_headers container parameter.\n   *\n   * @param bool $value\n   *   (optional) Whether the debugging cacheability headers should be sent.\n   *\/",2637],["T_WHITESPACE","\n  ",2644],["T_PROTECTED","protected",2645],["T_WHITESPACE"," ",2645],["T_FUNCTION","function",2645],["T_WHITESPACE"," ",2645],["T_STRING","setHttpResponseDebugCacheabilityHeaders",2645],"(",["T_VARIABLE","$value",2645],["T_WHITESPACE"," ",2645],"=",["T_WHITESPACE"," ",2645],["T_STRING","TRUE",2645],")",["T_WHITESPACE"," ",2645],"{",["T_WHITESPACE","\n    ",2645],["T_VARIABLE","$this",2646],["T_OBJECT_OPERATOR","->",2646],["T_STRING","setContainerParameter",2646],"(",["T_CONSTANT_ENCAPSED_STRING","'http.response.debug_cacheability_headers'",2646],",",["T_WHITESPACE"," ",2646],["T_VARIABLE","$value",2646],")",";",["T_WHITESPACE","\n    ",2646],["T_VARIABLE","$this",2647],["T_OBJECT_OPERATOR","->",2647],["T_STRING","rebuildContainer",2647],"(",")",";",["T_WHITESPACE","\n    ",2647],["T_VARIABLE","$this",2648],["T_OBJECT_OPERATOR","->",2648],["T_STRING","resetAll",2648],"(",")",";",["T_WHITESPACE","\n  ",2648],"}",["T_WHITESPACE","\n\n",2649],"}",["T_WHITESPACE","\n",2651]]