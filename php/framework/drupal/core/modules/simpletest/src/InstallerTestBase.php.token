[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","simpletest",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","DrupalKernel",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Language",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Language",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Session",7],["T_NS_SEPARATOR","\\",7],["T_STRING","UserSession",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Site",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Settings",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Symfony",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Component",9],["T_NS_SEPARATOR","\\",9],["T_STRING","DependencyInjection",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ContainerBuilder",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Symfony",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Component",10],["T_NS_SEPARATOR","\\",10],["T_STRING","DependencyInjection",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Reference",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Symfony",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Component",11],["T_NS_SEPARATOR","\\",11],["T_STRING","HttpFoundation",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Request",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","HttpFoundation",12],["T_NS_SEPARATOR","\\",12],["T_STRING","RequestStack",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Base class for testing the interactive installer.\n *\/",14],["T_WHITESPACE","\n",16],["T_ABSTRACT","abstract",17],["T_WHITESPACE"," ",17],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","InstallerTestBase",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_STRING","WebTestBase",17],["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * Custom settings.php values to write for a test run.\n   *\n   * @var array\n   *   An array of settings to write out, in the format expected by\n   *   drupal_rewrite_settings().\n   *\/",19],["T_WHITESPACE","\n  ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$settings",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_ARRAY","array",26],"(",")",";",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * The language code in which to install Drupal.\n   *\n   * @var string\n   *\/",28],["T_WHITESPACE","\n  ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$langcode",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'en'",33],";",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * The installation profile to install.\n   *\n   * @var string\n   *\/",35],["T_WHITESPACE","\n  ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$profile",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'testing'",40],";",["T_WHITESPACE","\n\n  ",40],["T_DOC_COMMENT","\/**\n   * Additional parameters to use for installer screens.\n   *\n   * @see WebTestBase::installParameters()\n   *\n   * @var array\n   *\/",42],["T_WHITESPACE","\n  ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$parameters",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",")",";",["T_WHITESPACE","\n\n  ",49],["T_DOC_COMMENT","\/**\n   * A string translation map used for translated installer screens.\n   *\n   * Keys are English strings, values are translated strings.\n   *\n   * @var array\n   *\/",51],["T_WHITESPACE","\n  ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$translations",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_ARRAY","array",58],"(",["T_WHITESPACE","\n    ",58],["T_CONSTANT_ENCAPSED_STRING","'Save and continue'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'Save and continue'",59],",",["T_WHITESPACE","\n  ",59],")",";",["T_WHITESPACE","\n\n  ",60],["T_DOC_COMMENT","\/**\n   * Whether the installer has completed.\n   *\n   * @var bool\n   *\/",62],["T_WHITESPACE","\n  ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$isInstalled",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","FALSE",67],";",["T_WHITESPACE","\n\n  ",67],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",69],["T_WHITESPACE","\n  ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","setUp",72],"(",")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","isInstalled",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_STRING","FALSE",73],";",["T_WHITESPACE","\n\n    ",73],["T_COMMENT","\/\/ Define information about the user 1 account.\n",75],["T_WHITESPACE","    ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","rootUser",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_NEW","new",76],["T_WHITESPACE"," ",76],["T_STRING","UserSession",76],"(",["T_ARRAY","array",76],"(",["T_WHITESPACE","\n      ",76],["T_CONSTANT_ENCAPSED_STRING","'uid'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_LNUMBER","1",77],",",["T_WHITESPACE","\n      ",77],["T_CONSTANT_ENCAPSED_STRING","'name'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'admin'",78],",",["T_WHITESPACE","\n      ",78],["T_CONSTANT_ENCAPSED_STRING","'mail'",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'admin@example.com'",79],",",["T_WHITESPACE","\n      ",79],["T_CONSTANT_ENCAPSED_STRING","'pass_raw'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","randomMachineName",80],"(",")",",",["T_WHITESPACE","\n    ",80],")",")",";",["T_WHITESPACE","\n\n    ",81],["T_COMMENT","\/\/ If any $settings are defined for this test, copy and prepare an actual\n",83],["T_WHITESPACE","    ",84],["T_COMMENT","\/\/ settings.php, so as to resemble a regular installation.\n",84],["T_WHITESPACE","    ",85],["T_IF","if",85],["T_WHITESPACE"," ",85],"(","!",["T_EMPTY","empty",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","settings",85],")",")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n      ",85],["T_COMMENT","\/\/ Not using File API; a potential error must trigger a PHP warning.\n",86],["T_WHITESPACE","      ",87],["T_STRING","copy",87],"(",["T_STRING","DRUPAL_ROOT",87],["T_WHITESPACE"," ",87],".",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'\/sites\/default\/default.settings.php'",87],",",["T_WHITESPACE"," ",87],["T_STRING","DRUPAL_ROOT",87],["T_WHITESPACE"," ",87],".",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'\/'",87],["T_WHITESPACE"," ",87],".",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","siteDirectory",87],["T_WHITESPACE"," ",87],".",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'\/settings.php'",87],")",";",["T_WHITESPACE","\n      ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","writeSettings",88],"(",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","settings",88],")",";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n    ",89],["T_COMMENT","\/\/ Note that WebTestBase::installParameters() returns form input values\n",91],["T_WHITESPACE","    ",92],["T_COMMENT","\/\/ suitable for a programmed \\Drupal::formBuilder()->submitForm().\n",92],["T_WHITESPACE","    ",93],["T_COMMENT","\/\/ @see WebTestBase::translatePostValues()\n",93],["T_WHITESPACE","    ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","parameters",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","installParameters",94],"(",")",";",["T_WHITESPACE","\n\n    ",94],["T_COMMENT","\/\/ Set up a minimal container (required by WebTestBase). Set cookie and\n",96],["T_WHITESPACE","    ",97],["T_COMMENT","\/\/ server information so that XDebug works.\n",97],["T_WHITESPACE","    ",98],["T_COMMENT","\/\/ @see install_begin_request()\n",98],["T_WHITESPACE","    ",99],["T_VARIABLE","$request",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_STRING","Request",99],["T_DOUBLE_COLON","::",99],["T_STRING","create",99],"(",["T_VARIABLE","$GLOBALS",99],"[",["T_CONSTANT_ENCAPSED_STRING","'base_url'",99],"]",["T_WHITESPACE"," ",99],".",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'\/core\/install.php'",99],",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'GET'",99],",",["T_WHITESPACE"," ",99],"[","]",",",["T_WHITESPACE"," ",99],["T_VARIABLE","$_COOKIE",99],",",["T_WHITESPACE"," ",99],"[","]",",",["T_WHITESPACE"," ",99],["T_VARIABLE","$_SERVER",99],")",";",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","container",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_NEW","new",100],["T_WHITESPACE"," ",100],["T_STRING","ContainerBuilder",100],"(",")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$request_stack",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_NEW","new",101],["T_WHITESPACE"," ",101],["T_STRING","RequestStack",101],"(",")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$request_stack",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","push",102],"(",["T_VARIABLE","$request",102],")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","container",103],["T_WHITESPACE","\n      ",103],["T_OBJECT_OPERATOR","->",104],["T_STRING","set",104],"(",["T_CONSTANT_ENCAPSED_STRING","'request_stack'",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$request_stack",104],")",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","container",105],["T_WHITESPACE","\n      ",105],["T_OBJECT_OPERATOR","->",106],["T_STRING","setParameter",106],"(",["T_CONSTANT_ENCAPSED_STRING","'language.default_values'",106],",",["T_WHITESPACE"," ",106],["T_STRING","Language",106],["T_DOUBLE_COLON","::",106],["T_VARIABLE","$defaultValues",106],")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","container",107],["T_WHITESPACE","\n      ",107],["T_OBJECT_OPERATOR","->",108],["T_STRING","register",108],"(",["T_CONSTANT_ENCAPSED_STRING","'language.default'",108],",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Language\\LanguageDefault'",108],")",["T_WHITESPACE","\n      ",108],["T_OBJECT_OPERATOR","->",109],["T_STRING","addArgument",109],"(",["T_CONSTANT_ENCAPSED_STRING","'%language.default_values%'",109],")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","container",110],["T_WHITESPACE","\n      ",110],["T_OBJECT_OPERATOR","->",111],["T_STRING","register",111],"(",["T_CONSTANT_ENCAPSED_STRING","'string_translation'",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\StringTranslation\\TranslationManager'",111],")",["T_WHITESPACE","\n      ",111],["T_OBJECT_OPERATOR","->",112],["T_STRING","addArgument",112],"(",["T_NEW","new",112],["T_WHITESPACE"," ",112],["T_STRING","Reference",112],"(",["T_CONSTANT_ENCAPSED_STRING","'language.default'",112],")",")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","container",113],["T_WHITESPACE","\n      ",113],["T_OBJECT_OPERATOR","->",114],["T_STRING","set",114],"(",["T_CONSTANT_ENCAPSED_STRING","'app.root'",114],",",["T_WHITESPACE"," ",114],["T_STRING","DRUPAL_ROOT",114],")",";",["T_WHITESPACE","\n    ",114],["T_NS_SEPARATOR","\\",115],["T_STRING","Drupal",115],["T_DOUBLE_COLON","::",115],["T_STRING","setContainer",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","container",115],")",";",["T_WHITESPACE","\n\n    ",115],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","visitInstaller",117],"(",")",";",["T_WHITESPACE","\n\n    ",117],["T_COMMENT","\/\/ Select language.\n",119],["T_WHITESPACE","    ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","setUpLanguage",120],"(",")",";",["T_WHITESPACE","\n\n    ",120],["T_COMMENT","\/\/ Select profile.\n",122],["T_WHITESPACE","    ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","setUpProfile",123],"(",")",";",["T_WHITESPACE","\n\n    ",123],["T_COMMENT","\/\/ Configure settings.\n",125],["T_WHITESPACE","    ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","setUpSettings",126],"(",")",";",["T_WHITESPACE","\n\n    ",126],["T_COMMENT","\/\/ @todo Allow test classes based on this class to act on further installer\n",128],["T_WHITESPACE","    ",129],["T_COMMENT","\/\/   screens.\n",129],["T_WHITESPACE","\n    ",130],["T_COMMENT","\/\/ Configure site.\n",131],["T_WHITESPACE","    ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","setUpSite",132],"(",")",";",["T_WHITESPACE","\n\n    ",132],["T_IF","if",134],["T_WHITESPACE"," ",134],"(",["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","isInstalled",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n      ",134],["T_COMMENT","\/\/ Import new settings.php written by the installer.\n",135],["T_WHITESPACE","      ",136],["T_VARIABLE","$request",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_STRING","Request",136],["T_DOUBLE_COLON","::",136],["T_STRING","createFromGlobals",136],"(",")",";",["T_WHITESPACE","\n      ",136],["T_VARIABLE","$class_loader",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_REQUIRE","require",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","container",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","get",137],"(",["T_CONSTANT_ENCAPSED_STRING","'app.root'",137],")",["T_WHITESPACE"," ",137],".",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'\/autoload.php'",137],";",["T_WHITESPACE","\n      ",137],["T_STRING","Settings",138],["T_DOUBLE_COLON","::",138],["T_STRING","initialize",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","container",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","get",138],"(",["T_CONSTANT_ENCAPSED_STRING","'app.root'",138],")",",",["T_WHITESPACE"," ",138],["T_STRING","DrupalKernel",138],["T_DOUBLE_COLON","::",138],["T_STRING","findSitePath",138],"(",["T_VARIABLE","$request",138],")",",",["T_WHITESPACE"," ",138],["T_VARIABLE","$class_loader",138],")",";",["T_WHITESPACE","\n      ",138],["T_FOREACH","foreach",139],["T_WHITESPACE"," ",139],"(",["T_VARIABLE","$GLOBALS",139],"[",["T_CONSTANT_ENCAPSED_STRING","'config_directories'",139],"]",["T_WHITESPACE"," ",139],["T_AS","as",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$type",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$path",139],")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","configDirectories",140],"[",["T_VARIABLE","$type",140],"]",["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$path",140],";",["T_WHITESPACE","\n      ",140],"}",["T_WHITESPACE","\n\n      ",141],["T_COMMENT","\/\/ After writing settings.php, the installer removes write permissions\n",143],["T_WHITESPACE","      ",144],["T_COMMENT","\/\/ from the site directory. To allow drupal_generate_test_ua() to write\n",144],["T_WHITESPACE","      ",145],["T_COMMENT","\/\/ a file containing the private key for drupal_valid_test_ua(), the site\n",145],["T_WHITESPACE","      ",146],["T_COMMENT","\/\/ directory has to be writable.\n",146],["T_WHITESPACE","      ",147],["T_COMMENT","\/\/ WebTestBase::tearDown() will delete the entire test site directory.\n",147],["T_WHITESPACE","      ",148],["T_COMMENT","\/\/ Not using File API; a potential error must trigger a PHP warning.\n",148],["T_WHITESPACE","      ",149],["T_STRING","chmod",149],"(",["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","container",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","get",149],"(",["T_CONSTANT_ENCAPSED_STRING","'app.root'",149],")",["T_WHITESPACE"," ",149],".",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'\/'",149],["T_WHITESPACE"," ",149],".",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","siteDirectory",149],",",["T_WHITESPACE"," ",149],["T_LNUMBER","0777",149],")",";",["T_WHITESPACE","\n      ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","kernel",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","DrupalKernel",150],["T_DOUBLE_COLON","::",150],["T_STRING","createFromRequest",150],"(",["T_VARIABLE","$request",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$class_loader",150],",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'prod'",150],",",["T_WHITESPACE"," ",150],["T_STRING","FALSE",150],")",";",["T_WHITESPACE","\n      ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","kernel",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","prepareLegacyRequest",151],"(",["T_VARIABLE","$request",151],")",";",["T_WHITESPACE","\n      ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","container",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","kernel",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getContainer",152],"(",")",";",["T_WHITESPACE","\n\n      ",152],["T_COMMENT","\/\/ Manually configure the test mail collector implementation to prevent\n",154],["T_WHITESPACE","      ",155],["T_COMMENT","\/\/ tests from sending out emails and collect them in state instead.\n",155],["T_WHITESPACE","      ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","container",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","get",156],"(",["T_CONSTANT_ENCAPSED_STRING","'config.factory'",156],")",["T_WHITESPACE","\n        ",156],["T_OBJECT_OPERATOR","->",157],["T_STRING","getEditable",157],"(",["T_CONSTANT_ENCAPSED_STRING","'system.mail'",157],")",["T_WHITESPACE","\n        ",157],["T_OBJECT_OPERATOR","->",158],["T_STRING","set",158],"(",["T_CONSTANT_ENCAPSED_STRING","'interface.default'",158],",",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'test_mail_collector'",158],")",["T_WHITESPACE","\n        ",158],["T_OBJECT_OPERATOR","->",159],["T_STRING","save",159],"(",")",";",["T_WHITESPACE","\n    ",159],"}",["T_WHITESPACE","\n  ",160],"}",["T_WHITESPACE","\n\n  ",161],["T_DOC_COMMENT","\/**\n   * Visits the interactive installer.\n   *\/",163],["T_WHITESPACE","\n  ",165],["T_PROTECTED","protected",166],["T_WHITESPACE"," ",166],["T_FUNCTION","function",166],["T_WHITESPACE"," ",166],["T_STRING","visitInstaller",166],"(",")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n    ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","drupalGet",167],"(",["T_VARIABLE","$GLOBALS",167],"[",["T_CONSTANT_ENCAPSED_STRING","'base_url'",167],"]",["T_WHITESPACE"," ",167],".",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'\/core\/install.php'",167],")",";",["T_WHITESPACE","\n  ",167],"}",["T_WHITESPACE","\n\n  ",168],["T_DOC_COMMENT","\/**\n   * Installer step: Select language.\n   *\/",170],["T_WHITESPACE","\n  ",172],["T_PROTECTED","protected",173],["T_WHITESPACE"," ",173],["T_FUNCTION","function",173],["T_WHITESPACE"," ",173],["T_STRING","setUpLanguage",173],"(",")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n    ",173],["T_VARIABLE","$edit",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_ARRAY","array",174],"(",["T_WHITESPACE","\n      ",174],["T_CONSTANT_ENCAPSED_STRING","'langcode'",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","langcode",175],",",["T_WHITESPACE","\n    ",175],")",";",["T_WHITESPACE","\n    ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","drupalPostForm",177],"(",["T_STRING","NULL",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$edit",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","translations",177],"[",["T_CONSTANT_ENCAPSED_STRING","'Save and continue'",177],"]",")",";",["T_WHITESPACE","\n  ",177],"}",["T_WHITESPACE","\n\n  ",178],["T_DOC_COMMENT","\/**\n   * Installer step: Select installation profile.\n   *\/",180],["T_WHITESPACE","\n  ",182],["T_PROTECTED","protected",183],["T_WHITESPACE"," ",183],["T_FUNCTION","function",183],["T_WHITESPACE"," ",183],["T_STRING","setUpProfile",183],"(",")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n    ",183],["T_VARIABLE","$edit",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_ARRAY","array",184],"(",["T_WHITESPACE","\n      ",184],["T_CONSTANT_ENCAPSED_STRING","'profile'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","profile",185],",",["T_WHITESPACE","\n    ",185],")",";",["T_WHITESPACE","\n    ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","drupalPostForm",187],"(",["T_STRING","NULL",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$edit",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","translations",187],"[",["T_CONSTANT_ENCAPSED_STRING","'Save and continue'",187],"]",")",";",["T_WHITESPACE","\n  ",187],"}",["T_WHITESPACE","\n\n  ",188],["T_DOC_COMMENT","\/**\n   * Installer step: Configure settings.\n   *\/",190],["T_WHITESPACE","\n  ",192],["T_PROTECTED","protected",193],["T_WHITESPACE"," ",193],["T_FUNCTION","function",193],["T_WHITESPACE"," ",193],["T_STRING","setUpSettings",193],"(",")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n    ",193],["T_VARIABLE","$edit",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","translatePostValues",194],"(",["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","parameters",194],"[",["T_CONSTANT_ENCAPSED_STRING","'forms'",194],"]","[",["T_CONSTANT_ENCAPSED_STRING","'install_settings_form'",194],"]",")",";",["T_WHITESPACE","\n    ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","drupalPostForm",195],"(",["T_STRING","NULL",195],",",["T_WHITESPACE"," ",195],["T_VARIABLE","$edit",195],",",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","translations",195],"[",["T_CONSTANT_ENCAPSED_STRING","'Save and continue'",195],"]",")",";",["T_WHITESPACE","\n  ",195],"}",["T_WHITESPACE","\n\n  ",196],["T_DOC_COMMENT","\/**\n   * Final installer step: Configure site.\n   *\/",198],["T_WHITESPACE","\n  ",200],["T_PROTECTED","protected",201],["T_WHITESPACE"," ",201],["T_FUNCTION","function",201],["T_WHITESPACE"," ",201],["T_STRING","setUpSite",201],"(",")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n    ",201],["T_VARIABLE","$edit",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","translatePostValues",202],"(",["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","parameters",202],"[",["T_CONSTANT_ENCAPSED_STRING","'forms'",202],"]","[",["T_CONSTANT_ENCAPSED_STRING","'install_configure_form'",202],"]",")",";",["T_WHITESPACE","\n    ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","drupalPostForm",203],"(",["T_STRING","NULL",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$edit",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","translations",203],"[",["T_CONSTANT_ENCAPSED_STRING","'Save and continue'",203],"]",")",";",["T_WHITESPACE","\n    ",203],["T_COMMENT","\/\/ If we've got to this point the site is installed using the regular\n",204],["T_WHITESPACE","    ",205],["T_COMMENT","\/\/ installation workflow.\n",205],["T_WHITESPACE","    ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","isInstalled",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_STRING","TRUE",206],";",["T_WHITESPACE","\n  ",206],"}",["T_WHITESPACE","\n\n  ",207],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\n   * WebTestBase::refreshVariables() tries to operate on persistent storage,\n   * which is only available after the installer completed.\n   *\/",209],["T_WHITESPACE","\n  ",214],["T_PROTECTED","protected",215],["T_WHITESPACE"," ",215],["T_FUNCTION","function",215],["T_WHITESPACE"," ",215],["T_STRING","refreshVariables",215],"(",")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n    ",215],["T_IF","if",216],["T_WHITESPACE"," ",216],"(",["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","isInstalled",216],")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n      ",216],["T_STRING","parent",217],["T_DOUBLE_COLON","::",217],["T_STRING","refreshVariables",217],"(",")",";",["T_WHITESPACE","\n    ",217],"}",["T_WHITESPACE","\n  ",218],"}",["T_WHITESPACE","\n\n",219],"}",["T_WHITESPACE","\n",221]]