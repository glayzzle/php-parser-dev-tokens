[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","simpletest",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","simpletest",5],["T_NS_SEPARATOR","\\",5],["T_STRING","WebTestBase",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests a test case that does not call parent::setUp().\n *\n * If a test case does not call parent::setUp(), running\n * \\Drupal\\simpletest\\WebTestBase::tearDown() would destroy the main site's\n * database tables. Therefore, we ensure that tests which are not set up\n * properly are skipped.\n *\n * @group simpletest\n * @see \\Drupal\\simpletest\\WebTestBase\n *\/",7],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","BrokenSetUpTest",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_STRING","WebTestBase",18],["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n\n  ",18],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",20],["T_WHITESPACE","\n  ",24],["T_PUBLIC","public",25],["T_WHITESPACE"," ",25],["T_STATIC","static",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$modules",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_ARRAY","array",25],"(",["T_CONSTANT_ENCAPSED_STRING","'simpletest'",25],")",";",["T_WHITESPACE","\n\n  ",25],["T_DOC_COMMENT","\/**\n   * The path to the shared trigger file.\n   *\n   * @var string\n   *\/",27],["T_WHITESPACE","\n  ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$sharedTriggerFile",32],";",["T_WHITESPACE","\n\n  ",32],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","setUp",34],"(",")",["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n    ",34],["T_COMMENT","\/\/ If the test is being run from the main site, set up normally.\n",35],["T_WHITESPACE","    ",36],["T_IF","if",36],["T_WHITESPACE"," ",36],"(","!",["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","isInChildSite",36],"(",")",")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n      ",36],["T_STRING","parent",37],["T_DOUBLE_COLON","::",37],["T_STRING","setUp",37],"(",")",";",["T_WHITESPACE","\n\n      ",37],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","sharedTriggerFile",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","publicFilesDirectory",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'\/trigger'",39],";",["T_WHITESPACE","\n\n      ",39],["T_COMMENT","\/\/ Create and log in user.\n",41],["T_WHITESPACE","      ",42],["T_VARIABLE","$admin_user",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","drupalCreateUser",42],"(",["T_ARRAY","array",42],"(",["T_CONSTANT_ENCAPSED_STRING","'administer unit tests'",42],")",")",";",["T_WHITESPACE","\n      ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","drupalLogin",43],"(",["T_VARIABLE","$admin_user",43],")",";",["T_WHITESPACE","\n    ",43],"}",["T_WHITESPACE","\n    ",44],["T_COMMENT","\/\/ If the test is being run from within simpletest, set up the broken test.\n",45],["T_WHITESPACE","    ",46],["T_ELSE","else",46],["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n      ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","sharedTriggerFile",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","originalFileDirectory",47],["T_WHITESPACE"," ",47],".",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'\/trigger'",47],";",["T_WHITESPACE","\n\n      ",47],["T_IF","if",49],["T_WHITESPACE"," ",49],"(",["T_STRING","file_get_contents",49],"(",["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","sharedTriggerFile",49],")",["T_WHITESPACE"," ",49],["T_IS_IDENTICAL","===",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'setup'",49],")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n        ",49],["T_THROW","throw",50],["T_WHITESPACE"," ",50],["T_NEW","new",50],["T_WHITESPACE"," ",50],["T_NS_SEPARATOR","\\",50],["T_STRING","Exception",50],"(",["T_CONSTANT_ENCAPSED_STRING","'Broken setup'",50],")",";",["T_WHITESPACE","\n      ",50],"}",["T_WHITESPACE","\n      ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","pass",52],"(",["T_CONSTANT_ENCAPSED_STRING","'The setUp() method has run.'",52],")",";",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n  ",53],"}",["T_WHITESPACE","\n\n  ",54],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],["T_STRING","tearDown",56],"(",")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n    ",56],["T_COMMENT","\/\/ If the test is being run from the main site, tear down normally.\n",57],["T_WHITESPACE","    ",58],["T_IF","if",58],["T_WHITESPACE"," ",58],"(","!",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","isInChildSite",58],"(",")",")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n      ",58],["T_STRING","unlink",59],"(",["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","sharedTriggerFile",59],")",";",["T_WHITESPACE","\n      ",59],["T_STRING","parent",60],["T_DOUBLE_COLON","::",60],["T_STRING","tearDown",60],"(",")",";",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n    ",61],["T_COMMENT","\/\/ If the test is being run from within simpletest, output a message.\n",62],["T_WHITESPACE","    ",63],["T_ELSE","else",63],["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n      ",63],["T_IF","if",64],["T_WHITESPACE"," ",64],"(",["T_STRING","file_get_contents",64],"(",["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","sharedTriggerFile",64],")",["T_WHITESPACE"," ",64],["T_IS_IDENTICAL","===",64],["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'teardown'",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n        ",64],["T_THROW","throw",65],["T_WHITESPACE"," ",65],["T_NEW","new",65],["T_WHITESPACE"," ",65],["T_NS_SEPARATOR","\\",65],["T_STRING","Exception",65],"(",["T_CONSTANT_ENCAPSED_STRING","'Broken teardown'",65],")",";",["T_WHITESPACE","\n      ",65],"}",["T_WHITESPACE","\n      ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","pass",67],"(",["T_CONSTANT_ENCAPSED_STRING","'The tearDown() method has run.'",67],")",";",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n  ",68],"}",["T_WHITESPACE","\n\n  ",69],["T_DOC_COMMENT","\/**\n   * Runs this test case from within the simpletest child site.\n   *\/",71],["T_WHITESPACE","\n  ",73],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","testMethod",74],"(",")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n    ",74],["T_COMMENT","\/\/ If the test is being run from the main site, run it again from the web\n",75],["T_WHITESPACE","    ",76],["T_COMMENT","\/\/ interface within the simpletest child site.\n",76],["T_WHITESPACE","    ",77],["T_IF","if",77],["T_WHITESPACE"," ",77],"(","!",["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","isInChildSite",77],"(",")",")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n      ",77],["T_COMMENT","\/\/ Verify that a broken setUp() method is caught.\n",78],["T_WHITESPACE","      ",79],["T_STRING","file_put_contents",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","sharedTriggerFile",79],",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'setup'",79],")",";",["T_WHITESPACE","\n      ",79],["T_VARIABLE","$edit",80],"[",["T_CONSTANT_ENCAPSED_STRING","'tests[Drupal\\simpletest\\Tests\\BrokenSetUpTest]'",80],"]",["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","TRUE",80],";",["T_WHITESPACE","\n      ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","drupalPostForm",81],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/development\/testing'",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$edit",81],",",["T_WHITESPACE"," ",81],["T_STRING","t",81],"(",["T_CONSTANT_ENCAPSED_STRING","'Run tests'",81],")",")",";",["T_WHITESPACE","\n      ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertRaw",82],"(",["T_CONSTANT_ENCAPSED_STRING","'Broken setup'",82],")",";",["T_WHITESPACE","\n      ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertNoRaw",83],"(",["T_CONSTANT_ENCAPSED_STRING","'The setUp() method has run.'",83],")",";",["T_WHITESPACE","\n      ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertNoRaw",84],"(",["T_CONSTANT_ENCAPSED_STRING","'Broken test'",84],")",";",["T_WHITESPACE","\n      ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertNoRaw",85],"(",["T_CONSTANT_ENCAPSED_STRING","'The test method has run.'",85],")",";",["T_WHITESPACE","\n      ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertNoRaw",86],"(",["T_CONSTANT_ENCAPSED_STRING","'Broken teardown'",86],")",";",["T_WHITESPACE","\n      ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertNoRaw",87],"(",["T_CONSTANT_ENCAPSED_STRING","'The tearDown() method has run.'",87],")",";",["T_WHITESPACE","\n\n      ",87],["T_COMMENT","\/\/ Verify that a broken tearDown() method is caught.\n",89],["T_WHITESPACE","      ",90],["T_STRING","file_put_contents",90],"(",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","sharedTriggerFile",90],",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'teardown'",90],")",";",["T_WHITESPACE","\n      ",90],["T_VARIABLE","$edit",91],"[",["T_CONSTANT_ENCAPSED_STRING","'tests[Drupal\\simpletest\\Tests\\BrokenSetUpTest]'",91],"]",["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_STRING","TRUE",91],";",["T_WHITESPACE","\n      ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","drupalPostForm",92],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/development\/testing'",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$edit",92],",",["T_WHITESPACE"," ",92],["T_STRING","t",92],"(",["T_CONSTANT_ENCAPSED_STRING","'Run tests'",92],")",")",";",["T_WHITESPACE","\n      ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertNoRaw",93],"(",["T_CONSTANT_ENCAPSED_STRING","'Broken setup'",93],")",";",["T_WHITESPACE","\n      ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertRaw",94],"(",["T_CONSTANT_ENCAPSED_STRING","'The setUp() method has run.'",94],")",";",["T_WHITESPACE","\n      ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertNoRaw",95],"(",["T_CONSTANT_ENCAPSED_STRING","'Broken test'",95],")",";",["T_WHITESPACE","\n      ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","assertRaw",96],"(",["T_CONSTANT_ENCAPSED_STRING","'The test method has run.'",96],")",";",["T_WHITESPACE","\n      ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","assertRaw",97],"(",["T_CONSTANT_ENCAPSED_STRING","'Broken teardown'",97],")",";",["T_WHITESPACE","\n      ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","assertNoRaw",98],"(",["T_CONSTANT_ENCAPSED_STRING","'The tearDown() method has run.'",98],")",";",["T_WHITESPACE","\n\n      ",98],["T_COMMENT","\/\/ Verify that a broken test method is caught.\n",100],["T_WHITESPACE","      ",101],["T_STRING","file_put_contents",101],"(",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","sharedTriggerFile",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'test'",101],")",";",["T_WHITESPACE","\n      ",101],["T_VARIABLE","$edit",102],"[",["T_CONSTANT_ENCAPSED_STRING","'tests[Drupal\\simpletest\\Tests\\BrokenSetUpTest]'",102],"]",["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","TRUE",102],";",["T_WHITESPACE","\n      ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","drupalPostForm",103],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/development\/testing'",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$edit",103],",",["T_WHITESPACE"," ",103],["T_STRING","t",103],"(",["T_CONSTANT_ENCAPSED_STRING","'Run tests'",103],")",")",";",["T_WHITESPACE","\n      ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","assertNoRaw",104],"(",["T_CONSTANT_ENCAPSED_STRING","'Broken setup'",104],")",";",["T_WHITESPACE","\n      ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertRaw",105],"(",["T_CONSTANT_ENCAPSED_STRING","'The setUp() method has run.'",105],")",";",["T_WHITESPACE","\n      ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertRaw",106],"(",["T_CONSTANT_ENCAPSED_STRING","'Broken test'",106],")",";",["T_WHITESPACE","\n      ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertNoRaw",107],"(",["T_CONSTANT_ENCAPSED_STRING","'The test method has run.'",107],")",";",["T_WHITESPACE","\n      ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","assertNoRaw",108],"(",["T_CONSTANT_ENCAPSED_STRING","'Broken teardown'",108],")",";",["T_WHITESPACE","\n      ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertRaw",109],"(",["T_CONSTANT_ENCAPSED_STRING","'The tearDown() method has run.'",109],")",";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n    ",110],["T_COMMENT","\/\/ If the test is being run from within simpletest, output a message.\n",111],["T_WHITESPACE","    ",112],["T_ELSE","else",112],["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n      ",112],["T_IF","if",113],["T_WHITESPACE"," ",113],"(",["T_STRING","file_get_contents",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","sharedTriggerFile",113],")",["T_WHITESPACE"," ",113],["T_IS_IDENTICAL","===",113],["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'test'",113],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n        ",113],["T_THROW","throw",114],["T_WHITESPACE"," ",114],["T_NEW","new",114],["T_WHITESPACE"," ",114],["T_NS_SEPARATOR","\\",114],["T_STRING","Exception",114],"(",["T_CONSTANT_ENCAPSED_STRING","'Broken test'",114],")",";",["T_WHITESPACE","\n      ",114],"}",["T_WHITESPACE","\n      ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","pass",116],"(",["T_CONSTANT_ENCAPSED_STRING","'The test method has run.'",116],")",";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n  ",117],"}",["T_WHITESPACE","\n\n",118],"}",["T_WHITESPACE","\n",120]]