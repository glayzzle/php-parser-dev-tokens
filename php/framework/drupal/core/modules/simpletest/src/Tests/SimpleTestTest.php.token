[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","simpletest",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Crypt",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","TestDatabase",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","simpletest",7],["T_NS_SEPARATOR","\\",7],["T_STRING","WebTestBase",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Tests SimpleTest's web interface: check that the intended tests were run and\n * ensure that test reports display the intended results. Also test SimpleTest's\n * internal browser and APIs implicitly.\n *\n * @group simpletest\n *\/",9],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","SimpleTestTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","WebTestBase",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",18],["T_WHITESPACE","\n  ",22],["T_PUBLIC","public",23],["T_WHITESPACE"," ",23],["T_STATIC","static",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$modules",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],"[",["T_CONSTANT_ENCAPSED_STRING","'simpletest'",23],"]",";",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * The results array that has been parsed by getTestResults().\n   *\n   * @var array\n   *\/",25],["T_WHITESPACE","\n  ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$childTestResults",30],";",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * Stores the test ID from each test run for comparison.\n   *\n   * Used to ensure they are incrementing.\n   *\/",32],["T_WHITESPACE","\n  ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$testIds",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_ARRAY","array",37],"(",")",";",["T_WHITESPACE","\n\n  ",37],["T_DOC_COMMENT","\/**\n   * Translated fail message.\n   *\n   * @var string\n   *\/",39],["T_WHITESPACE","\n  ",43],["T_PRIVATE","private",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$failMessage",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","''",44],";",["T_WHITESPACE","\n\n  ",44],["T_DOC_COMMENT","\/**\n   * Translated pass message.\n   * @var string\n   *\/",46],["T_WHITESPACE","\n  ",49],["T_PRIVATE","private",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$passMessage",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","''",50],";",["T_WHITESPACE","\n\n  ",50],["T_DOC_COMMENT","\/**\n   * A valid and recognized permission.\n   *\n   * @var string\n   *\/",52],["T_WHITESPACE","\n  ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$validPermission",57],";",["T_WHITESPACE","\n\n  ",57],["T_DOC_COMMENT","\/**\n   * An invalid or unrecognized permission.\n   *\n   * @var string\n   *\/",59],["T_WHITESPACE","\n  ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$invalidPermission",64],";",["T_WHITESPACE","\n\n  ",64],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","setUp",66],"(",")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n    ",66],["T_IF","if",67],["T_WHITESPACE"," ",67],"(","!",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","isInChildSite",67],"(",")",")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n      ",67],["T_VARIABLE","$php",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_START_HEREDOC","<<<'EOD'\n",68],["T_ENCAPSED_AND_WHITESPACE","<?php\n\n# Make sure that the $test_class variable is defined when this file is included.\nif ($test_class) {\n}\n\n# Define a function to be able to check that this file was loaded with\n# function_exists().\nif (!function_exists('simpletest_test_stub_settings_function')) {\n  function simpletest_test_stub_settings_function() {}\n}\n",69],["T_END_HEREDOC","EOD",80],";",["T_WHITESPACE","\n\n      ",80],["T_STRING","file_put_contents",82],"(",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","siteDirectory",82],["T_WHITESPACE"," ",82],".",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'\/'",82],["T_WHITESPACE"," ",82],".",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'settings.testing.php'",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$php",82],")",";",["T_WHITESPACE","\n      ",82],["T_COMMENT","\/\/ @see \\Drupal\\system\\Tests\\DrupalKernel\\DrupalKernelSiteTest\n",83],["T_WHITESPACE","      ",84],["T_VARIABLE","$class",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_CLASS_C","__CLASS__",84],";",["T_WHITESPACE","\n      ",84],["T_VARIABLE","$yaml",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_START_HEREDOC","<<<EOD\n",85],["T_ENCAPSED_AND_WHITESPACE","services:\n  # Add a new service.\n  site.service.yml:\n    class: ",86],["T_VARIABLE","$class",89],["T_ENCAPSED_AND_WHITESPACE","\n  # Swap out a core service.\n  cache.backend.database:\n    class: Drupal\\Core\\Cache\\MemoryBackendFactory\n",89],["T_END_HEREDOC","EOD",93],";",["T_WHITESPACE","\n      ",93],["T_STRING","file_put_contents",94],"(",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","siteDirectory",94],["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'\/testing.services.yml'",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$yaml",94],")",";",["T_WHITESPACE","\n\n      ",94],["T_VARIABLE","$original_container",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","originalContainer",96],";",["T_WHITESPACE","\n      ",96],["T_STRING","parent",97],["T_DOUBLE_COLON","::",97],["T_STRING","setUp",97],"(",")",";",["T_WHITESPACE","\n      ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","assertNotIdentical",98],"(",["T_NS_SEPARATOR","\\",98],["T_STRING","Drupal",98],["T_DOUBLE_COLON","::",98],["T_STRING","getContainer",98],"(",")",",",["T_WHITESPACE"," ",98],["T_VARIABLE","$original_container",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'WebTestBase test creates a new container.'",98],")",";",["T_WHITESPACE","\n      ",98],["T_COMMENT","\/\/ Create and log in an admin user.\n",99],["T_WHITESPACE","      ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","drupalLogin",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","drupalCreateUser",100],"(",["T_ARRAY","array",100],"(",["T_CONSTANT_ENCAPSED_STRING","'administer unit tests'",100],")",")",")",";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n    ",101],["T_ELSE","else",102],["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n      ",102],["T_COMMENT","\/\/ This causes three of the five fails that are asserted in\n",103],["T_WHITESPACE","      ",104],["T_COMMENT","\/\/ confirmStubResults().\n",104],["T_WHITESPACE","      ",105],["T_STRING","self",105],["T_DOUBLE_COLON","::",105],["T_VARIABLE","$modules",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_ARRAY","array",105],"(",["T_CONSTANT_ENCAPSED_STRING","'non_existent_module'",105],")",";",["T_WHITESPACE","\n      ",105],["T_STRING","parent",106],["T_DOUBLE_COLON","::",106],["T_STRING","setUp",106],"(",")",";",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n  ",107],"}",["T_WHITESPACE","\n\n  ",108],["T_DOC_COMMENT","\/**\n   * Ensures the tests selected through the web interface are run and displayed.\n   *\/",110],["T_WHITESPACE","\n  ",112],["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],["T_STRING","testWebTestRunner",113],"(",")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","passMessage",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_STRING","t",114],"(",["T_CONSTANT_ENCAPSED_STRING","'SimpleTest pass.'",114],")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","failMessage",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_STRING","t",115],"(",["T_CONSTANT_ENCAPSED_STRING","'SimpleTest fail.'",115],")",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","validPermission",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'access administration pages'",116],";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","invalidPermission",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'invalid permission'",117],";",["T_WHITESPACE","\n\n    ",117],["T_IF","if",119],["T_WHITESPACE"," ",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","isInChildSite",119],"(",")",")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n      ",119],["T_COMMENT","\/\/ Only run following code if this test is running itself through a CURL\n",120],["T_WHITESPACE","      ",121],["T_COMMENT","\/\/ request.\n",121],["T_WHITESPACE","      ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","stubTest",122],"(",")",";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n    ",123],["T_ELSE","else",124],["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n      ",124],["T_COMMENT","\/\/ Run twice so test_ids can be accumulated.\n",125],["T_WHITESPACE","      ",126],["T_FOR","for",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$i",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_LNUMBER","0",126],";",["T_WHITESPACE"," ",126],["T_VARIABLE","$i",126],["T_WHITESPACE"," ",126],"<",["T_WHITESPACE"," ",126],["T_LNUMBER","2",126],";",["T_WHITESPACE"," ",126],["T_VARIABLE","$i",126],["T_INC","++",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n        ",126],["T_COMMENT","\/\/ Run this test from web interface.\n",127],["T_WHITESPACE","        ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","drupalGet",128],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/development\/testing'",128],")",";",["T_WHITESPACE","\n\n        ",128],["T_VARIABLE","$edit",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_ARRAY","array",130],"(",")",";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$edit",131],"[",["T_CONSTANT_ENCAPSED_STRING","'tests[Drupal\\simpletest\\Tests\\SimpleTestTest]'",131],"]",["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_STRING","TRUE",131],";",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","drupalPostForm",132],"(",["T_STRING","NULL",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$edit",132],",",["T_WHITESPACE"," ",132],["T_STRING","t",132],"(",["T_CONSTANT_ENCAPSED_STRING","'Run tests'",132],")",")",";",["T_WHITESPACE","\n\n        ",132],["T_COMMENT","\/\/ Parse results and confirm that they are correct.\n",134],["T_WHITESPACE","        ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getTestResults",135],"(",")",";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","confirmStubTestResults",136],"(",")",";",["T_WHITESPACE","\n      ",136],"}",["T_WHITESPACE","\n\n      ",137],["T_COMMENT","\/\/ Regression test for #290316.\n",139],["T_WHITESPACE","      ",140],["T_COMMENT","\/\/ Check that test_id is incrementing.\n",140],["T_WHITESPACE","      ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","assertTrue",141],"(",["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","testIds",141],"[",["T_LNUMBER","0",141],"]",["T_WHITESPACE"," ",141],["T_IS_NOT_EQUAL","!=",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","testIds",141],"[",["T_LNUMBER","1",141],"]",",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'Test ID is incrementing.'",141],")",";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n  ",142],"}",["T_WHITESPACE","\n\n  ",143],["T_DOC_COMMENT","\/**\n   * Test to be run and the results confirmed.\n   *\n   * Here we force test results which must match the expected results from\n   * confirmStubResults().\n   *\/",145],["T_WHITESPACE","\n  ",150],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","stubTest",151],"(",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n    ",151],["T_COMMENT","\/\/ Ensure the .htkey file exists since this is only created just before a\n",152],["T_WHITESPACE","    ",153],["T_COMMENT","\/\/ request. This allows the stub test to make requests. The event does not\n",153],["T_WHITESPACE","    ",154],["T_COMMENT","\/\/ fire here and drupal_generate_test_ua() can not generate a key for a\n",154],["T_WHITESPACE","    ",155],["T_COMMENT","\/\/ test in a test since the prefix has changed.\n",155],["T_WHITESPACE","    ",156],["T_COMMENT","\/\/ @see \\Drupal\\Core\\Test\\HttpClientMiddleware\\TestHttpClientMiddleware::onBeforeSendRequest()\n",156],["T_WHITESPACE","    ",157],["T_COMMENT","\/\/ @see drupal_generate_test_ua();\n",157],["T_WHITESPACE","    ",158],["T_VARIABLE","$test_db",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_NEW","new",158],["T_WHITESPACE"," ",158],["T_STRING","TestDatabase",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","databasePrefix",158],")",";",["T_WHITESPACE","\n    ",158],["T_VARIABLE","$key_file",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_STRING","DRUPAL_ROOT",159],["T_WHITESPACE"," ",159],".",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'\/'",159],["T_WHITESPACE"," ",159],".",["T_WHITESPACE"," ",159],["T_VARIABLE","$test_db",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getTestSitePath",159],"(",")",["T_WHITESPACE"," ",159],".",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'\/.htkey'",159],";",["T_WHITESPACE","\n    ",159],["T_VARIABLE","$private_key",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_STRING","Crypt",160],["T_DOUBLE_COLON","::",160],["T_STRING","randomBytesBase64",160],"(",["T_LNUMBER","55",160],")",";",["T_WHITESPACE","\n    ",160],["T_VARIABLE","$site_path",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","container",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","get",161],"(",["T_CONSTANT_ENCAPSED_STRING","'site.path'",161],")",";",["T_WHITESPACE","\n    ",161],["T_STRING","file_put_contents",162],"(",["T_VARIABLE","$key_file",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$private_key",162],")",";",["T_WHITESPACE","\n\n    ",162],["T_COMMENT","\/\/ Check to see if runtime assertions are indeed on, if successful this\n",164],["T_WHITESPACE","    ",165],["T_COMMENT","\/\/ will be the first of sixteen passes asserted in confirmStubResults()\n",165],["T_WHITESPACE","    ",166],["T_TRY","try",166],["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n      ",166],["T_COMMENT","\/\/ Test with minimum possible arguments to make sure no notice for\n",167],["T_WHITESPACE","      ",168],["T_COMMENT","\/\/ missing argument is thrown.\n",168],["T_WHITESPACE","      ",169],["T_STRING","assert",169],"(",["T_STRING","FALSE",169],")",";",["T_WHITESPACE","\n      ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","fail",170],"(",["T_CONSTANT_ENCAPSED_STRING","'Runtime assertions are not working.'",170],")",";",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n    ",171],["T_CATCH","catch",172],["T_WHITESPACE"," ",172],"(",["T_NS_SEPARATOR","\\",172],["T_STRING","AssertionError",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$e",172],")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n      ",172],["T_TRY","try",173],["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n        ",173],["T_COMMENT","\/\/ Now test with an error message to ensure it is correctly passed\n",174],["T_WHITESPACE","        ",175],["T_COMMENT","\/\/ along by the rethrow.\n",175],["T_WHITESPACE","        ",176],["T_STRING","assert",176],"(",["T_STRING","FALSE",176],",",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'Lorem Ipsum'",176],")",";",["T_WHITESPACE","\n      ",176],"}",["T_WHITESPACE","\n      ",177],["T_CATCH","catch",178],["T_WHITESPACE"," ",178],"(",["T_WHITESPACE"," ",178],["T_NS_SEPARATOR","\\",178],["T_STRING","AssertionError",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$e",178],["T_WHITESPACE"," ",178],")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","assertEqual",179],"(",["T_VARIABLE","$e",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getMessage",179],"(",")",",",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'Lorem Ipsum'",179],",",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'Runtime assertions Enabled and running.'",179],")",";",["T_WHITESPACE","\n      ",179],"}",["T_WHITESPACE","\n    ",180],"}",["T_WHITESPACE","\n    ",181],["T_COMMENT","\/\/ This causes the second of the sixteen passes asserted in\n",182],["T_WHITESPACE","    ",183],["T_COMMENT","\/\/ confirmStubResults().\n",183],["T_WHITESPACE","    ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","pass",184],"(",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","passMessage",184],")",";",["T_WHITESPACE","\n\n    ",184],["T_COMMENT","\/\/ The first three fails are caused by enabling a non-existent module in\n",186],["T_WHITESPACE","    ",187],["T_COMMENT","\/\/ setUp().\n",187],["T_WHITESPACE","\n    ",188],["T_COMMENT","\/\/ This causes the fourth of the five fails asserted in\n",189],["T_WHITESPACE","    ",190],["T_COMMENT","\/\/ confirmStubResults().\n",190],["T_WHITESPACE","    ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","fail",191],"(",["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","failMessage",191],")",";",["T_WHITESPACE","\n\n    ",191],["T_COMMENT","\/\/ This causes the third to fifth of the sixteen passes asserted in\n",193],["T_WHITESPACE","    ",194],["T_COMMENT","\/\/ confirmStubResults().\n",194],["T_WHITESPACE","    ",195],["T_VARIABLE","$user",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","drupalCreateUser",195],"(",["T_ARRAY","array",195],"(",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","validPermission",195],")",",",["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","'SimpleTestTest'",195],")",";",["T_WHITESPACE","\n\n    ",195],["T_COMMENT","\/\/ This causes the fifth of the five fails asserted in confirmStubResults().\n",197],["T_WHITESPACE","    ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","drupalCreateUser",198],"(",["T_ARRAY","array",198],"(",["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","invalidPermission",198],")",")",";",["T_WHITESPACE","\n\n    ",198],["T_COMMENT","\/\/ Test logging in as a user.\n",200],["T_WHITESPACE","    ",201],["T_COMMENT","\/\/ This causes the sixth to tenth of the sixteen passes asserted in\n",201],["T_WHITESPACE","    ",202],["T_COMMENT","\/\/ confirmStubResults().\n",202],["T_WHITESPACE","    ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","drupalLogin",203],"(",["T_VARIABLE","$user",203],")",";",["T_WHITESPACE","\n\n    ",203],["T_COMMENT","\/\/ This causes the eleventh of the sixteen passes asserted in\n",205],["T_WHITESPACE","    ",206],["T_COMMENT","\/\/ confirmStubResults().\n",206],["T_WHITESPACE","    ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","pass",207],"(",["T_STRING","t",207],"(",["T_CONSTANT_ENCAPSED_STRING","'Test ID is @id.'",207],",",["T_WHITESPACE"," ",207],["T_ARRAY","array",207],"(",["T_CONSTANT_ENCAPSED_STRING","'@id'",207],["T_WHITESPACE"," ",207],["T_DOUBLE_ARROW","=>",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","testId",207],")",")",")",";",["T_WHITESPACE","\n\n    ",207],["T_COMMENT","\/\/ These cause the twelfth to fifteenth of the sixteen passes asserted in\n",209],["T_WHITESPACE","    ",210],["T_COMMENT","\/\/ confirmStubResults().\n",210],["T_WHITESPACE","    ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","assertTrue",211],"(",["T_STRING","file_exists",211],"(",["T_VARIABLE","$site_path",211],["T_WHITESPACE"," ",211],".",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'\/settings.testing.php'",211],")",")",";",["T_WHITESPACE","\n    ",211],["T_COMMENT","\/\/ Check the settings.testing.php file got included.\n",212],["T_WHITESPACE","    ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","assertTrue",213],"(",["T_STRING","function_exists",213],"(",["T_CONSTANT_ENCAPSED_STRING","'simpletest_test_stub_settings_function'",213],")",")",";",["T_WHITESPACE","\n    ",213],["T_COMMENT","\/\/ Check that the test-specific service file got loaded.\n",214],["T_WHITESPACE","    ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","assertTrue",215],"(",["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","container",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","has",215],"(",["T_CONSTANT_ENCAPSED_STRING","'site.service.yml'",215],")",")",";",["T_WHITESPACE","\n    ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","assertIdentical",216],"(",["T_STRING","get_class",216],"(",["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","container",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","get",216],"(",["T_CONSTANT_ENCAPSED_STRING","'cache.backend.database'",216],")",")",",",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Cache\\MemoryBackendFactory'",216],")",";",["T_WHITESPACE","\n\n    ",216],["T_COMMENT","\/\/ These cause the two exceptions asserted in confirmStubResults().\n",218],["T_WHITESPACE","    ",219],["T_COMMENT","\/\/ Call trigger_error() without the required argument to trigger an E_WARNING.\n",219],["T_WHITESPACE","    ",220],["T_STRING","trigger_error",220],"(",")",";",["T_WHITESPACE","\n    ",220],["T_COMMENT","\/\/ Generates a warning inside a PHP function.\n",221],["T_WHITESPACE","    ",222],["T_STRING","array_key_exists",222],"(",["T_STRING","NULL",222],",",["T_WHITESPACE"," ",222],["T_STRING","NULL",222],")",";",["T_WHITESPACE","\n\n    ",222],["T_COMMENT","\/\/ This causes the sixteenth of the sixteen passes asserted in\n",224],["T_WHITESPACE","    ",225],["T_COMMENT","\/\/ confirmStubResults().\n",225],["T_WHITESPACE","    ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","assertNothing",226],"(",")",";",["T_WHITESPACE","\n\n    ",226],["T_COMMENT","\/\/ This causes the debug message asserted in confirmStubResults().\n",228],["T_WHITESPACE","    ",229],["T_STRING","debug",229],"(",["T_CONSTANT_ENCAPSED_STRING","'Foo'",229],",",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'Debug'",229],",",["T_WHITESPACE"," ",229],["T_STRING","FALSE",229],")",";",["T_WHITESPACE","\n  ",229],"}",["T_WHITESPACE","\n\n  ",230],["T_DOC_COMMENT","\/**\n   * Assert nothing.\n   *\/",232],["T_WHITESPACE","\n  ",234],["T_FUNCTION","function",235],["T_WHITESPACE"," ",235],["T_STRING","assertNothing",235],"(",")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n    ",235],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","pass",236],"(",["T_CONSTANT_ENCAPSED_STRING","\"This is nothing.\"",236],")",";",["T_WHITESPACE","\n  ",236],"}",["T_WHITESPACE","\n\n  ",237],["T_DOC_COMMENT","\/**\n   * Confirm that the stub test produced the desired results.\n   *\/",239],["T_WHITESPACE","\n  ",241],["T_FUNCTION","function",242],["T_WHITESPACE"," ",242],["T_STRING","confirmStubTestResults",242],"(",")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n    ",242],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","assertAssertion",243],"(",["T_STRING","t",243],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to install modules %modules due to missing modules %missing.'",243],",",["T_WHITESPACE"," ",243],["T_ARRAY","array",243],"(",["T_CONSTANT_ENCAPSED_STRING","'%modules'",243],["T_WHITESPACE"," ",243],["T_DOUBLE_ARROW","=>",243],["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'non_existent_module'",243],",",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'%missing'",243],["T_WHITESPACE"," ",243],["T_DOUBLE_ARROW","=>",243],["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'non_existent_module'",243],")",")",",",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'Other'",243],",",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'Fail'",243],",",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'SimpleTestTest.php'",243],",",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\simpletest\\Tests\\SimpleTestTest->setUp()'",243],")",";",["T_WHITESPACE","\n\n    ",243],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","assertAssertion",245],"(",["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","passMessage",245],",",["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","'Other'",245],",",["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","'Pass'",245],",",["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","'SimpleTestTest.php'",245],",",["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\simpletest\\Tests\\SimpleTestTest->stubTest()'",245],")",";",["T_WHITESPACE","\n    ",245],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","assertAssertion",246],"(",["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","failMessage",246],",",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'Other'",246],",",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'Fail'",246],",",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'SimpleTestTest.php'",246],",",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\simpletest\\Tests\\SimpleTestTest->stubTest()'",246],")",";",["T_WHITESPACE","\n\n    ",246],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","assertAssertion",248],"(",["T_STRING","t",248],"(",["T_CONSTANT_ENCAPSED_STRING","'Created permissions: @perms'",248],",",["T_WHITESPACE"," ",248],["T_ARRAY","array",248],"(",["T_CONSTANT_ENCAPSED_STRING","'@perms'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","validPermission",248],")",")",",",["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'Role'",248],",",["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'Pass'",248],",",["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'SimpleTestTest.php'",248],",",["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\simpletest\\Tests\\SimpleTestTest->stubTest()'",248],")",";",["T_WHITESPACE","\n    ",248],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","assertAssertion",249],"(",["T_STRING","t",249],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid permission %permission.'",249],",",["T_WHITESPACE"," ",249],["T_ARRAY","array",249],"(",["T_CONSTANT_ENCAPSED_STRING","'%permission'",249],["T_WHITESPACE"," ",249],["T_DOUBLE_ARROW","=>",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","invalidPermission",249],")",")",",",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","'Role'",249],",",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","'Fail'",249],",",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","'SimpleTestTest.php'",249],",",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\simpletest\\Tests\\SimpleTestTest->stubTest()'",249],")",";",["T_WHITESPACE","\n\n    ",249],["T_COMMENT","\/\/ Check that the user was logged in successfully.\n",251],["T_WHITESPACE","    ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","assertAssertion",252],"(",["T_CONSTANT_ENCAPSED_STRING","'User SimpleTestTest successfully logged in.'",252],",",["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'User login'",252],",",["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'Pass'",252],",",["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'SimpleTestTest.php'",252],",",["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\simpletest\\Tests\\SimpleTestTest->stubTest()'",252],")",";",["T_WHITESPACE","\n\n    ",252],["T_COMMENT","\/\/ Check that a warning is caught by simpletest. The exact error message\n",254],["T_WHITESPACE","    ",255],["T_COMMENT","\/\/ differs between PHP versions so only the function name is checked.\n",255],["T_WHITESPACE","    ",256],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","assertAssertion",256],"(",["T_CONSTANT_ENCAPSED_STRING","'trigger_error()'",256],",",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'Warning'",256],",",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'Fail'",256],",",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'SimpleTestTest.php'",256],",",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\simpletest\\Tests\\SimpleTestTest->stubTest()'",256],")",";",["T_WHITESPACE","\n\n    ",256],["T_COMMENT","\/\/ Check that the backtracing code works for specific assert function.\n",258],["T_WHITESPACE","    ",259],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","assertAssertion",259],"(",["T_CONSTANT_ENCAPSED_STRING","'This is nothing.'",259],",",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'Other'",259],",",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'Pass'",259],",",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'SimpleTestTest.php'",259],",",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\simpletest\\Tests\\SimpleTestTest->stubTest()'",259],")",";",["T_WHITESPACE","\n\n    ",259],["T_COMMENT","\/\/ Check that errors that occur inside PHP internal functions are correctly\n",261],["T_WHITESPACE","    ",262],["T_COMMENT","\/\/ reported. The exact error message differs between PHP versions so we\n",262],["T_WHITESPACE","    ",263],["T_COMMENT","\/\/ check only the function name 'array_key_exists'.\n",263],["T_WHITESPACE","    ",264],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","assertAssertion",264],"(",["T_CONSTANT_ENCAPSED_STRING","'array_key_exists'",264],",",["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","'Warning'",264],",",["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","'Fail'",264],",",["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","'SimpleTestTest.php'",264],",",["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\simpletest\\Tests\\SimpleTestTest->stubTest()'",264],")",";",["T_WHITESPACE","\n\n    ",264],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","assertAssertion",266],"(",["T_CONSTANT_ENCAPSED_STRING","\"Debug: 'Foo'\"",266],",",["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","'Debug'",266],",",["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","'Fail'",266],",",["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","'SimpleTestTest.php'",266],",",["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\simpletest\\Tests\\SimpleTestTest->stubTest()'",266],")",";",["T_WHITESPACE","\n\n    ",266],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","assertEqual",268],"(",["T_CONSTANT_ENCAPSED_STRING","'16 passes, 3 fails, 2 exceptions, 3 debug messages'",268],",",["T_WHITESPACE"," ",268],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","childTestResults",268],"[",["T_CONSTANT_ENCAPSED_STRING","'summary'",268],"]",")",";",["T_WHITESPACE","\n\n    ",268],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","testIds",270],"[","]",["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_VARIABLE","$test_id",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","getTestIdFromResults",270],"(",")",";",["T_WHITESPACE","\n    ",270],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","assertTrue",271],"(",["T_VARIABLE","$test_id",271],",",["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","'Found test ID in results.'",271],")",";",["T_WHITESPACE","\n  ",271],"}",["T_WHITESPACE","\n\n  ",272],["T_DOC_COMMENT","\/**\n   * Fetch the test id from the test results.\n   *\/",274],["T_WHITESPACE","\n  ",276],["T_FUNCTION","function",277],["T_WHITESPACE"," ",277],["T_STRING","getTestIdFromResults",277],"(",")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n    ",277],["T_FOREACH","foreach",278],["T_WHITESPACE"," ",278],"(",["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","childTestResults",278],"[",["T_CONSTANT_ENCAPSED_STRING","'assertions'",278],"]",["T_WHITESPACE"," ",278],["T_AS","as",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$assertion",278],")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n      ",278],["T_IF","if",279],["T_WHITESPACE"," ",279],"(",["T_STRING","preg_match",279],"(",["T_CONSTANT_ENCAPSED_STRING","'@^Test ID is ([0-9]*)\\.$@'",279],",",["T_WHITESPACE"," ",279],["T_VARIABLE","$assertion",279],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",279],"]",",",["T_WHITESPACE"," ",279],["T_VARIABLE","$matches",279],")",")",["T_WHITESPACE"," ",279],"{",["T_WHITESPACE","\n        ",279],["T_RETURN","return",280],["T_WHITESPACE"," ",280],["T_VARIABLE","$matches",280],"[",["T_LNUMBER","1",280],"]",";",["T_WHITESPACE","\n      ",280],"}",["T_WHITESPACE","\n    ",281],"}",["T_WHITESPACE","\n    ",282],["T_RETURN","return",283],["T_WHITESPACE"," ",283],["T_STRING","NULL",283],";",["T_WHITESPACE","\n  ",283],"}",["T_WHITESPACE","\n\n  ",284],["T_DOC_COMMENT","\/**\n   * Asserts that an assertion with specified values is displayed in results.\n   *\n   * @param string $message\n   *   Assertion message.\n   * @param string $type\n   *   Assertion type.\n   * @param string $status\n   *   Assertion status.\n   * @param string $file\n   *   File where the assertion originated.\n   * @param string $function\n   *   Function where the assertion originated.\n   *\n   * @return Assertion result.\n   *\/",286],["T_WHITESPACE","\n  ",301],["T_FUNCTION","function",302],["T_WHITESPACE"," ",302],["T_STRING","assertAssertion",302],"(",["T_VARIABLE","$message",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$type",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$status",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$file",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$function",302],")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n    ",302],["T_VARIABLE","$message",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_STRING","trim",303],"(",["T_STRING","strip_tags",303],"(",["T_VARIABLE","$message",303],")",")",";",["T_WHITESPACE","\n    ",303],["T_VARIABLE","$found",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_STRING","FALSE",304],";",["T_WHITESPACE","\n    ",304],["T_FOREACH","foreach",305],["T_WHITESPACE"," ",305],"(",["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","childTestResults",305],"[",["T_CONSTANT_ENCAPSED_STRING","'assertions'",305],"]",["T_WHITESPACE"," ",305],["T_AS","as",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$assertion",305],")",["T_WHITESPACE"," ",305],"{",["T_WHITESPACE","\n      ",305],["T_IF","if",306],["T_WHITESPACE"," ",306],"(","(",["T_STRING","strpos",306],"(",["T_VARIABLE","$assertion",306],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",306],"]",",",["T_WHITESPACE"," ",306],["T_VARIABLE","$message",306],")",["T_WHITESPACE"," ",306],["T_IS_NOT_IDENTICAL","!==",306],["T_WHITESPACE"," ",306],["T_STRING","FALSE",306],")",["T_WHITESPACE"," ",306],["T_BOOLEAN_AND","&&",306],["T_WHITESPACE","\n          ",306],["T_VARIABLE","$assertion",307],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",307],"]",["T_WHITESPACE"," ",307],["T_IS_EQUAL","==",307],["T_WHITESPACE"," ",307],["T_VARIABLE","$type",307],["T_WHITESPACE"," ",307],["T_BOOLEAN_AND","&&",307],["T_WHITESPACE","\n          ",307],["T_VARIABLE","$assertion",308],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",308],"]",["T_WHITESPACE"," ",308],["T_IS_EQUAL","==",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$status",308],["T_WHITESPACE"," ",308],["T_BOOLEAN_AND","&&",308],["T_WHITESPACE","\n          ",308],["T_VARIABLE","$assertion",309],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",309],"]",["T_WHITESPACE"," ",309],["T_IS_EQUAL","==",309],["T_WHITESPACE"," ",309],["T_VARIABLE","$file",309],["T_WHITESPACE"," ",309],["T_BOOLEAN_AND","&&",309],["T_WHITESPACE","\n          ",309],["T_VARIABLE","$assertion",310],"[",["T_CONSTANT_ENCAPSED_STRING","'function'",310],"]",["T_WHITESPACE"," ",310],["T_IS_EQUAL","==",310],["T_WHITESPACE"," ",310],["T_VARIABLE","$function",310],")",["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n        ",310],["T_VARIABLE","$found",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_STRING","TRUE",311],";",["T_WHITESPACE","\n        ",311],["T_BREAK","break",312],";",["T_WHITESPACE","\n      ",312],"}",["T_WHITESPACE","\n    ",313],"}",["T_WHITESPACE","\n    ",314],["T_RETURN","return",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","assertTrue",315],"(",["T_VARIABLE","$found",315],",",["T_WHITESPACE"," ",315],["T_STRING","format_string",315],"(",["T_CONSTANT_ENCAPSED_STRING","'Found assertion {\"@message\", \"@type\", \"@status\", \"@file\", \"@function\"}.'",315],",",["T_WHITESPACE"," ",315],["T_ARRAY","array",315],"(",["T_CONSTANT_ENCAPSED_STRING","'@message'",315],["T_WHITESPACE"," ",315],["T_DOUBLE_ARROW","=>",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$message",315],",",["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","'@type'",315],["T_WHITESPACE"," ",315],["T_DOUBLE_ARROW","=>",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$type",315],",",["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","'@status'",315],["T_WHITESPACE"," ",315],["T_DOUBLE_ARROW","=>",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$status",315],",",["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","\"@file\"",315],["T_WHITESPACE"," ",315],["T_DOUBLE_ARROW","=>",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$file",315],",",["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","\"@function\"",315],["T_WHITESPACE"," ",315],["T_DOUBLE_ARROW","=>",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$function",315],")",")",")",";",["T_WHITESPACE","\n  ",315],"}",["T_WHITESPACE","\n\n  ",316],["T_DOC_COMMENT","\/**\n   * Get the results from a test and store them in the class array $results.\n   *\/",318],["T_WHITESPACE","\n  ",320],["T_FUNCTION","function",321],["T_WHITESPACE"," ",321],["T_STRING","getTestResults",321],"(",")",["T_WHITESPACE"," ",321],"{",["T_WHITESPACE","\n    ",321],["T_VARIABLE","$results",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_ARRAY","array",322],"(",")",";",["T_WHITESPACE","\n    ",322],["T_IF","if",323],["T_WHITESPACE"," ",323],"(",["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","parse",323],"(",")",")",["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n      ",323],["T_IF","if",324],["T_WHITESPACE"," ",324],"(",["T_VARIABLE","$details",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","getResultFieldSet",324],"(",")",")",["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n        ",324],["T_COMMENT","\/\/ Code assumes this is the only test in group.\n",325],["T_WHITESPACE","        ",326],["T_VARIABLE","$results",326],"[",["T_CONSTANT_ENCAPSED_STRING","'summary'",326],"]",["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","asText",326],"(",["T_VARIABLE","$details",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","div",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","div",326],"[",["T_LNUMBER","1",326],"]",")",";",["T_WHITESPACE","\n        ",326],["T_VARIABLE","$results",327],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",327],"]",["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","asText",327],"(",["T_VARIABLE","$details",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","summary",327],")",";",["T_WHITESPACE","\n\n        ",327],["T_VARIABLE","$results",329],"[",["T_CONSTANT_ENCAPSED_STRING","'assertions'",329],"]",["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_ARRAY","array",329],"(",")",";",["T_WHITESPACE","\n        ",329],["T_VARIABLE","$tbody",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_VARIABLE","$details",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","div",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","table",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","tbody",330],";",["T_WHITESPACE","\n        ",330],["T_FOREACH","foreach",331],["T_WHITESPACE"," ",331],"(",["T_VARIABLE","$tbody",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","tr",331],["T_WHITESPACE"," ",331],["T_AS","as",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$row",331],")",["T_WHITESPACE"," ",331],"{",["T_WHITESPACE","\n          ",331],["T_VARIABLE","$assertion",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_ARRAY","array",332],"(",")",";",["T_WHITESPACE","\n          ",332],["T_VARIABLE","$assertion",333],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",333],"]",["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","asText",333],"(",["T_VARIABLE","$row",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","td",333],"[",["T_LNUMBER","0",333],"]",")",";",["T_WHITESPACE","\n          ",333],["T_VARIABLE","$assertion",334],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",334],"]",["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","asText",334],"(",["T_VARIABLE","$row",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","td",334],"[",["T_LNUMBER","1",334],"]",")",";",["T_WHITESPACE","\n          ",334],["T_VARIABLE","$assertion",335],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",335],"]",["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","asText",335],"(",["T_VARIABLE","$row",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","td",335],"[",["T_LNUMBER","2",335],"]",")",";",["T_WHITESPACE","\n          ",335],["T_VARIABLE","$assertion",336],"[",["T_CONSTANT_ENCAPSED_STRING","'line'",336],"]",["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","asText",336],"(",["T_VARIABLE","$row",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","td",336],"[",["T_LNUMBER","3",336],"]",")",";",["T_WHITESPACE","\n          ",336],["T_VARIABLE","$assertion",337],"[",["T_CONSTANT_ENCAPSED_STRING","'function'",337],"]",["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","asText",337],"(",["T_VARIABLE","$row",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","td",337],"[",["T_LNUMBER","4",337],"]",")",";",["T_WHITESPACE","\n          ",337],["T_VARIABLE","$ok_url",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_STRING","file_url_transform_relative",338],"(",["T_STRING","file_create_url",338],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/misc\/icons\/73b355\/check.svg'",338],")",")",";",["T_WHITESPACE","\n          ",338],["T_VARIABLE","$assertion",339],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",339],"]",["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],"(",["T_VARIABLE","$row",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","td",339],"[",["T_LNUMBER","5",339],"]",["T_OBJECT_OPERATOR","->",339],["T_STRING","img",339],"[",["T_CONSTANT_ENCAPSED_STRING","'src'",339],"]",["T_WHITESPACE"," ",339],["T_IS_EQUAL","==",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$ok_url",339],")",["T_WHITESPACE"," ",339],"?",["T_WHITESPACE"," ",339],["T_CONSTANT_ENCAPSED_STRING","'Pass'",339],["T_WHITESPACE"," ",339],":",["T_WHITESPACE"," ",339],["T_CONSTANT_ENCAPSED_STRING","'Fail'",339],";",["T_WHITESPACE","\n          ",339],["T_VARIABLE","$results",340],"[",["T_CONSTANT_ENCAPSED_STRING","'assertions'",340],"]","[","]",["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_VARIABLE","$assertion",340],";",["T_WHITESPACE","\n        ",340],"}",["T_WHITESPACE","\n      ",341],"}",["T_WHITESPACE","\n    ",342],"}",["T_WHITESPACE","\n    ",343],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","childTestResults",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_VARIABLE","$results",344],";",["T_WHITESPACE","\n  ",344],"}",["T_WHITESPACE","\n\n  ",345],["T_DOC_COMMENT","\/**\n   * Get the details containing the results for group this test is in.\n   *\/",347],["T_WHITESPACE","\n  ",349],["T_FUNCTION","function",350],["T_WHITESPACE"," ",350],["T_STRING","getResultFieldSet",350],"(",")",["T_WHITESPACE"," ",350],"{",["T_WHITESPACE","\n    ",350],["T_VARIABLE","$all_details",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","xpath",351],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/details'",351],")",";",["T_WHITESPACE","\n    ",351],["T_FOREACH","foreach",352],["T_WHITESPACE"," ",352],"(",["T_VARIABLE","$all_details",352],["T_WHITESPACE"," ",352],["T_AS","as",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$details",352],")",["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n      ",352],["T_IF","if",353],["T_WHITESPACE"," ",353],"(",["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","asText",353],"(",["T_VARIABLE","$details",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","summary",353],")",["T_WHITESPACE"," ",353],["T_IS_EQUAL","==",353],["T_WHITESPACE"," ",353],["T_CLASS_C","__CLASS__",353],")",["T_WHITESPACE"," ",353],"{",["T_WHITESPACE","\n        ",353],["T_RETURN","return",354],["T_WHITESPACE"," ",354],["T_VARIABLE","$details",354],";",["T_WHITESPACE","\n      ",354],"}",["T_WHITESPACE","\n    ",355],"}",["T_WHITESPACE","\n    ",356],["T_RETURN","return",357],["T_WHITESPACE"," ",357],["T_STRING","FALSE",357],";",["T_WHITESPACE","\n  ",357],"}",["T_WHITESPACE","\n\n  ",358],["T_DOC_COMMENT","\/**\n   * Extract the text contained by the element.\n   *\n   * @param $element\n   *   Element to extract text from.\n   *\n   * @return\n   *   Extracted text.\n   *\/",360],["T_WHITESPACE","\n  ",368],["T_FUNCTION","function",369],["T_WHITESPACE"," ",369],["T_STRING","asText",369],"(",["T_NS_SEPARATOR","\\",369],["T_STRING","SimpleXMLElement",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$element",369],")",["T_WHITESPACE"," ",369],"{",["T_WHITESPACE","\n    ",369],["T_IF","if",370],["T_WHITESPACE"," ",370],"(","!",["T_STRING","is_object",370],"(",["T_VARIABLE","$element",370],")",")",["T_WHITESPACE"," ",370],"{",["T_WHITESPACE","\n      ",370],["T_RETURN","return",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","fail",371],"(",["T_CONSTANT_ENCAPSED_STRING","'The element is not an element.'",371],")",";",["T_WHITESPACE","\n    ",371],"}",["T_WHITESPACE","\n    ",372],["T_RETURN","return",373],["T_WHITESPACE"," ",373],["T_STRING","trim",373],"(",["T_STRING","html_entity_decode",373],"(",["T_STRING","strip_tags",373],"(",["T_VARIABLE","$element",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","asXML",373],"(",")",")",")",")",";",["T_WHITESPACE","\n  ",373],"}",["T_WHITESPACE","\n\n",374],"}",["T_WHITESPACE","\n",376]]