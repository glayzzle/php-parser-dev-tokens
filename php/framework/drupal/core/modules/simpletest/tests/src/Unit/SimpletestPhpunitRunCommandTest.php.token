[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","simpletest",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Unit",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","DependencyInjection",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ContainerBuilder",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","File",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FileSystemInterface",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests simpletest_run_phpunit_tests() handles PHPunit fatals correctly.\n *\n * @group simpletest\n *\n * @runTestsInSeparateProcesses\n *\/",8],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","SimpletestPhpunitRunCommandTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_NS_SEPARATOR","\\",15],["T_STRING","PHPUnit_Framework_TestCase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * Path to the app root.\n   *\n   * @var string\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_STATIC","static",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$root",22],";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",24],["T_WHITESPACE","\n  ",26],["T_PUBLIC","public",27],["T_WHITESPACE"," ",27],["T_STATIC","static",27],["T_WHITESPACE"," ",27],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","setUpBeforeClass",27],"(",")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n    ",27],["T_STRING","parent",28],["T_DOUBLE_COLON","::",28],["T_STRING","setUpBeforeClass",28],"(",")",";",["T_WHITESPACE","\n    ",28],["T_COMMENT","\/\/ Figure out our app root.\n",29],["T_WHITESPACE","    ",30],["T_STRING","self",30],["T_DOUBLE_COLON","::",30],["T_VARIABLE","$root",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_STRING","dirname",30],"(",["T_STRING","dirname",30],"(",["T_STRING","dirname",30],"(",["T_STRING","dirname",30],"(",["T_STRING","dirname",30],"(",["T_STRING","dirname",30],"(",["T_DIR","__DIR__",30],")",")",")",")",")",")",";",["T_WHITESPACE","\n    ",30],["T_COMMENT","\/\/ Include the files we need for tests. The stub test we will run is\n",31],["T_WHITESPACE","    ",32],["T_COMMENT","\/\/ SimpletestPhpunitRunCommandTestWillDie which is located in\n",32],["T_WHITESPACE","    ",33],["T_COMMENT","\/\/ simpletest_phpunit_run_command_test.php.\n",33],["T_WHITESPACE","    ",34],["T_INCLUDE_ONCE","include_once",34],["T_WHITESPACE"," ",34],["T_STRING","self",34],["T_DOUBLE_COLON","::",34],["T_VARIABLE","$root",34],["T_WHITESPACE"," ",34],".",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'\/core\/modules\/simpletest\/tests\/fixtures\/simpletest_phpunit_run_command_test.php'",34],";",["T_WHITESPACE","\n    ",34],["T_COMMENT","\/\/ Since we're testing simpletest_run_phpunit_tests(), we need to include\n",35],["T_WHITESPACE","    ",36],["T_COMMENT","\/\/ simpletest.module.\n",36],["T_WHITESPACE","    ",37],["T_INCLUDE_ONCE","include_once",37],["T_WHITESPACE"," ",37],["T_STRING","self",37],["T_DOUBLE_COLON","::",37],["T_VARIABLE","$root",37],["T_WHITESPACE"," ",37],".",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'\/core\/modules\/simpletest\/simpletest.module'",37],";",["T_WHITESPACE","\n  ",37],"}",["T_WHITESPACE","\n\n  ",38],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",40],["T_WHITESPACE","\n  ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","setUp",43],"(",")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n    ",43],["T_STRING","parent",44],["T_DOUBLE_COLON","::",44],["T_STRING","setUp",44],"(",")",";",["T_WHITESPACE","\n    ",44],["T_COMMENT","\/\/ Organize our mock container.\n",45],["T_WHITESPACE","    ",46],["T_VARIABLE","$container",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_NEW","new",46],["T_WHITESPACE"," ",46],["T_STRING","ContainerBuilder",46],"(",")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$container",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","set",47],"(",["T_CONSTANT_ENCAPSED_STRING","'app.root'",47],",",["T_WHITESPACE"," ",47],["T_STRING","self",47],["T_DOUBLE_COLON","::",47],["T_VARIABLE","$root",47],")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$file_system",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","prophesize",48],"(",["T_STRING","FileSystemInterface",48],["T_DOUBLE_COLON","::",48],["T_CLASS","class",48],")",";",["T_WHITESPACE","\n    ",48],["T_COMMENT","\/\/ The simpletest directory wrapper will always point to \/tmp.\n",49],["T_WHITESPACE","    ",50],["T_VARIABLE","$file_system",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","realpath",50],"(",["T_CONSTANT_ENCAPSED_STRING","'public:\/\/simpletest'",50],")",["T_OBJECT_OPERATOR","->",50],["T_STRING","willReturn",50],"(",["T_STRING","sys_get_temp_dir",50],"(",")",")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$container",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","set",51],"(",["T_CONSTANT_ENCAPSED_STRING","'file_system'",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$file_system",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","reveal",51],"(",")",")",";",["T_WHITESPACE","\n    ",51],["T_NS_SEPARATOR","\\",52],["T_STRING","Drupal",52],["T_DOUBLE_COLON","::",52],["T_STRING","setContainer",52],"(",["T_VARIABLE","$container",52],")",";",["T_WHITESPACE","\n  ",52],"}",["T_WHITESPACE","\n\n  ",53],["T_DOC_COMMENT","\/**\n   * Data provider for testSimpletestPhpUnitRunCommand().\n   *\n   * @return array\n   *   Arrays of status codes and the label they're expected to have.\n   *\/",55],["T_WHITESPACE","\n  ",60],["T_PUBLIC","public",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","provideStatusCodes",61],"(",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$data",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],"[",["T_WHITESPACE","\n      ",62],"[",["T_LNUMBER","0",63],",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'pass'",63],"]",",",["T_WHITESPACE","\n      ",63],"[",["T_LNUMBER","1",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'fail'",64],"]",",",["T_WHITESPACE","\n      ",64],"[",["T_LNUMBER","2",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'exception'",65],"]",",",["T_WHITESPACE","\n    ",65],"]",";",["T_WHITESPACE","\n    ",66],["T_COMMENT","\/\/ All status codes 3 and above should be labeled 'error'.\n",67],["T_WHITESPACE","    ",68],["T_COMMENT","\/\/ @todo: The valid values here would be 3 to 127. But since the test\n",68],["T_WHITESPACE","    ",69],["T_COMMENT","\/\/ touches the file system a lot, we only have 3, 4, and 127 for speed.\n",69],["T_WHITESPACE","    ",70],["T_FOREACH","foreach",70],["T_WHITESPACE"," ",70],"(","[",["T_LNUMBER","3",70],",",["T_WHITESPACE"," ",70],["T_LNUMBER","4",70],",",["T_WHITESPACE"," ",70],["T_LNUMBER","127",70],"]",["T_WHITESPACE"," ",70],["T_AS","as",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$status",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n      ",70],["T_VARIABLE","$data",71],"[","]",["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],"[",["T_VARIABLE","$status",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'error'",71],"]",";",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n    ",72],["T_RETURN","return",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$data",73],";",["T_WHITESPACE","\n  ",73],"}",["T_WHITESPACE","\n\n  ",74],["T_DOC_COMMENT","\/**\n   * Test the round trip for PHPUnit execution status codes.\n   *\n   * @covers ::simpletest_run_phpunit_tests\n   *\n   * @dataProvider provideStatusCodes\n   *\/",76],["T_WHITESPACE","\n  ",82],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","testSimpletestPhpUnitRunCommand",83],"(",["T_VARIABLE","$status",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$label",83],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$test_id",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_STRING","basename",84],"(",["T_STRING","tempnam",84],"(",["T_STRING","sys_get_temp_dir",84],"(",")",",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'xxx'",84],")",")",";",["T_WHITESPACE","\n    ",84],["T_STRING","putenv",85],"(",["T_CONSTANT_ENCAPSED_STRING","'SimpletestPhpunitRunCommandTestWillDie='",85],["T_WHITESPACE"," ",85],".",["T_WHITESPACE"," ",85],["T_VARIABLE","$status",85],")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$ret",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","simpletest_run_phpunit_tests",86],"(",["T_VARIABLE","$test_id",86],",",["T_WHITESPACE"," ",86],"[",["T_STRING","SimpletestPhpunitRunCommandTestWillDie",86],["T_DOUBLE_COLON","::",86],["T_CLASS","class",86],"]",")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertSame",87],"(",["T_VARIABLE","$ret",87],"[",["T_LNUMBER","0",87],"]","[",["T_CONSTANT_ENCAPSED_STRING","'status'",87],"]",",",["T_WHITESPACE"," ",87],["T_VARIABLE","$label",87],")",";",["T_WHITESPACE","\n    ",87],["T_STRING","putenv",88],"(",["T_CONSTANT_ENCAPSED_STRING","'SimpletestPhpunitRunCommandTestWillDie'",88],")",";",["T_WHITESPACE","\n    ",88],["T_STRING","unlink",89],"(",["T_STRING","simpletest_phpunit_xml_filepath",89],"(",["T_VARIABLE","$test_id",89],")",")",";",["T_WHITESPACE","\n  ",89],"}",["T_WHITESPACE","\n\n  ",90],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",92],["T_WHITESPACE","\n  ",94],["T_PROTECTED","protected",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","tearDown",95],"(",")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n    ",95],["T_COMMENT","\/\/ We unset the $base_url global, since the test code sets it as a\n",96],["T_WHITESPACE","    ",97],["T_COMMENT","\/\/ side-effect.\n",97],["T_WHITESPACE","    ",98],["T_UNSET","unset",98],"(",["T_VARIABLE","$GLOBALS",98],"[",["T_CONSTANT_ENCAPSED_STRING","'base_url'",98],"]",")",";",["T_WHITESPACE","\n    ",98],["T_STRING","parent",99],["T_DOUBLE_COLON","::",99],["T_STRING","tearDown",99],"(",")",";",["T_WHITESPACE","\n  ",99],"}",["T_WHITESPACE","\n\n",100],"}",["T_WHITESPACE","\n",102]]