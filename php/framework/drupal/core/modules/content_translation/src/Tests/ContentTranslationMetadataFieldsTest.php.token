[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","content_translation",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Tests the Content Translation metadata fields handling.\n *\n * @group content_translation\n *\/",5],["T_WHITESPACE","\n",9],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","ContentTranslationMetadataFieldsTest",10],["T_WHITESPACE"," ",10],["T_EXTENDS","extends",10],["T_WHITESPACE"," ",10],["T_STRING","ContentTranslationTestBase",10],["T_WHITESPACE"," ",10],"{",["T_WHITESPACE","\n\n  ",10],["T_DOC_COMMENT","\/**\n   * The entity type being tested.\n   *\n   * @var string\n   *\/",12],["T_WHITESPACE","\n  ",16],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$entityTypeId",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_CONSTANT_ENCAPSED_STRING","'node'",17],";",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * The bundle being tested.\n   *\n   * @var string\n   *\/",19],["T_WHITESPACE","\n  ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$bundle",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'article'",24],";",["T_WHITESPACE","\n\n  ",24],["T_DOC_COMMENT","\/**\n   * Modules to install.\n   *\n   * @var array\n   *\/",26],["T_WHITESPACE","\n  ",30],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_STATIC","static",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$modules",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_ARRAY","array",31],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'content_translation'",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'node'",31],")",";",["T_WHITESPACE","\n\n  ",31],["T_DOC_COMMENT","\/**\n   * The profile to install as a basis for testing.\n   *\n   * @var string\n   *\/",33],["T_WHITESPACE","\n  ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$profile",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'standard'",38],";",["T_WHITESPACE","\n\n  ",38],["T_DOC_COMMENT","\/**\n   * Tests skipping setting non translatable metadata fields.\n   *\/",40],["T_WHITESPACE","\n  ",42],["T_PUBLIC","public",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","testSkipUntranslatable",43],"(",")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","drupalLogin",44],"(",["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","translator",44],")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$entity_manager",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Drupal",45],["T_DOUBLE_COLON","::",45],["T_STRING","entityManager",45],"(",")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$fields",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$entity_manager",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getFieldDefinitions",46],"(",["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","entityTypeId",46],",",["T_WHITESPACE"," ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","bundle",46],")",";",["T_WHITESPACE","\n\n    ",46],["T_COMMENT","\/\/ Turn off translatability for the metadata fields on the current bundle.\n",48],["T_WHITESPACE","    ",49],["T_VARIABLE","$metadata_fields",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],"[",["T_CONSTANT_ENCAPSED_STRING","'created'",49],",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'changed'",49],",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'uid'",49],",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'status'",49],"]",";",["T_WHITESPACE","\n    ",49],["T_FOREACH","foreach",50],["T_WHITESPACE"," ",50],"(",["T_VARIABLE","$metadata_fields",50],["T_WHITESPACE"," ",50],["T_AS","as",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$field_name",50],")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n      ",50],["T_VARIABLE","$fields",51],"[",["T_VARIABLE","$field_name",51],"]",["T_WHITESPACE","\n        ",51],["T_OBJECT_OPERATOR","->",52],["T_STRING","getConfig",52],"(",["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","bundle",52],")",["T_WHITESPACE","\n        ",52],["T_OBJECT_OPERATOR","->",53],["T_STRING","setTranslatable",53],"(",["T_STRING","FALSE",53],")",["T_WHITESPACE","\n        ",53],["T_OBJECT_OPERATOR","->",54],["T_STRING","save",54],"(",")",";",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n\n    ",55],["T_COMMENT","\/\/ Create a new test entity with original values in the default language.\n",57],["T_WHITESPACE","    ",58],["T_VARIABLE","$default_langcode",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","langcodes",58],"[",["T_LNUMBER","0",58],"]",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$entity_id",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","createEntity",59],"(","[",["T_CONSTANT_ENCAPSED_STRING","'title'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","randomString",59],"(",")","]",",",["T_WHITESPACE"," ",59],["T_VARIABLE","$default_langcode",59],")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$storage",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$entity_manager",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getStorage",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","entityTypeId",60],")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$storage",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","resetCache",61],"(",")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$entity",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$storage",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","load",62],"(",["T_VARIABLE","$entity_id",62],")",";",["T_WHITESPACE","\n\n    ",62],["T_COMMENT","\/\/ Add a content translation.\n",64],["T_WHITESPACE","    ",65],["T_VARIABLE","$langcode",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'it'",65],";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$values",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$entity",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","toArray",66],"(",")",";",["T_WHITESPACE","\n    ",66],["T_COMMENT","\/\/ Apply a default value for the metadata fields.\n",67],["T_WHITESPACE","    ",68],["T_FOREACH","foreach",68],["T_WHITESPACE"," ",68],"(",["T_VARIABLE","$metadata_fields",68],["T_WHITESPACE"," ",68],["T_AS","as",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$field_name",68],")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n      ",68],["T_UNSET","unset",69],"(",["T_VARIABLE","$values",69],"[",["T_VARIABLE","$field_name",69],"]",")",";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$entity",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","addTranslation",71],"(",["T_VARIABLE","$langcode",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$values",71],")",";",["T_WHITESPACE","\n\n    ",71],["T_VARIABLE","$metadata_source_translation",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","manager",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getTranslationMetadata",73],"(",["T_VARIABLE","$entity",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getTranslation",73],"(",["T_VARIABLE","$default_langcode",73],")",")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$metadata_target_translation",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","manager",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getTranslationMetadata",74],"(",["T_VARIABLE","$entity",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getTranslation",74],"(",["T_VARIABLE","$langcode",74],")",")",";",["T_WHITESPACE","\n\n    ",74],["T_VARIABLE","$created_time",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$metadata_source_translation",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getCreatedTime",76],"(",")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$changed_time",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$metadata_source_translation",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getChangedTime",77],"(",")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$published",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$metadata_source_translation",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","isPublished",78],"(",")",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$author",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$metadata_source_translation",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getAuthor",79],"(",")",";",["T_WHITESPACE","\n\n    ",79],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertEqual",81],"(",["T_VARIABLE","$created_time",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$metadata_target_translation",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getCreatedTime",81],"(",")",",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'Metadata created field has the same value for both translations.'",81],")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertEqual",82],"(",["T_VARIABLE","$changed_time",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$metadata_target_translation",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getChangedTime",82],"(",")",",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'Metadata changed field has the same value for both translations.'",82],")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertEqual",83],"(",["T_VARIABLE","$published",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$metadata_target_translation",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","isPublished",83],"(",")",",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'Metadata published field has the same value for both translations.'",83],")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertEqual",84],"(",["T_VARIABLE","$author",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","id",84],"(",")",",",["T_WHITESPACE"," ",84],["T_VARIABLE","$metadata_target_translation",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getAuthor",84],"(",")",["T_OBJECT_OPERATOR","->",84],["T_STRING","id",84],"(",")",",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'Metadata author field has the same value for both translations.'",84],")",";",["T_WHITESPACE","\n\n    ",84],["T_VARIABLE","$metadata_target_translation",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","setCreatedTime",86],"(",["T_STRING","time",86],"(",")",["T_WHITESPACE"," ",86],"+",["T_WHITESPACE"," ",86],["T_LNUMBER","50",86],")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$metadata_target_translation",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","setChangedTime",87],"(",["T_STRING","time",87],"(",")",["T_WHITESPACE"," ",87],"+",["T_WHITESPACE"," ",87],["T_LNUMBER","50",87],")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$metadata_target_translation",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","setPublished",88],"(",["T_STRING","TRUE",88],")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$metadata_target_translation",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","setAuthor",89],"(",["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","editor",89],")",";",["T_WHITESPACE","\n\n    ",89],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","assertEqual",91],"(",["T_VARIABLE","$created_time",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$metadata_target_translation",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getCreatedTime",91],"(",")",",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'Metadata created field correctly not updated'",91],")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertEqual",92],"(",["T_VARIABLE","$changed_time",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$metadata_target_translation",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getChangedTime",92],"(",")",",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'Metadata changed field correctly not updated'",92],")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertEqual",93],"(",["T_VARIABLE","$published",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$metadata_target_translation",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","isPublished",93],"(",")",",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'Metadata published field correctly not updated'",93],")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertEqual",94],"(",["T_VARIABLE","$author",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","id",94],"(",")",",",["T_WHITESPACE"," ",94],["T_VARIABLE","$metadata_target_translation",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getAuthor",94],"(",")",["T_OBJECT_OPERATOR","->",94],["T_STRING","id",94],"(",")",",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'Metadata author field correctly not updated'",94],")",";",["T_WHITESPACE","\n  ",94],"}",["T_WHITESPACE","\n\n  ",95],["T_DOC_COMMENT","\/**\n   * Tests setting translatable metadata fields.\n   *\/",97],["T_WHITESPACE","\n  ",99],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","testSetTranslatable",100],"(",")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","drupalLogin",101],"(",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","translator",101],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$entity_manager",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_NS_SEPARATOR","\\",102],["T_STRING","Drupal",102],["T_DOUBLE_COLON","::",102],["T_STRING","entityManager",102],"(",")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$fields",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$entity_manager",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getFieldDefinitions",103],"(",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","entityTypeId",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","bundle",103],")",";",["T_WHITESPACE","\n\n    ",103],["T_COMMENT","\/\/ Turn off translatability for the metadata fields on the current bundle.\n",105],["T_WHITESPACE","    ",106],["T_VARIABLE","$metadata_fields",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],"[",["T_CONSTANT_ENCAPSED_STRING","'created'",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'changed'",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'uid'",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'status'",106],"]",";",["T_WHITESPACE","\n    ",106],["T_FOREACH","foreach",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$metadata_fields",107],["T_WHITESPACE"," ",107],["T_AS","as",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$field_name",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n      ",107],["T_VARIABLE","$fields",108],"[",["T_VARIABLE","$field_name",108],"]",["T_WHITESPACE","\n        ",108],["T_OBJECT_OPERATOR","->",109],["T_STRING","getConfig",109],"(",["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","bundle",109],")",["T_WHITESPACE","\n        ",109],["T_OBJECT_OPERATOR","->",110],["T_STRING","setTranslatable",110],"(",["T_STRING","TRUE",110],")",["T_WHITESPACE","\n        ",110],["T_OBJECT_OPERATOR","->",111],["T_STRING","save",111],"(",")",";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n\n    ",112],["T_COMMENT","\/\/ Create a new test entity with original values in the default language.\n",114],["T_WHITESPACE","    ",115],["T_VARIABLE","$default_langcode",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","langcodes",115],"[",["T_LNUMBER","0",115],"]",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$entity_id",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","createEntity",116],"(","[",["T_CONSTANT_ENCAPSED_STRING","'title'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","randomString",116],"(",")",",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'status'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_STRING","FALSE",116],"]",",",["T_WHITESPACE"," ",116],["T_VARIABLE","$default_langcode",116],")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$storage",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$entity_manager",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getStorage",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","entityTypeId",117],")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$storage",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","resetCache",118],"(",")",";",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$entity",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$storage",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","load",119],"(",["T_VARIABLE","$entity_id",119],")",";",["T_WHITESPACE","\n\n    ",119],["T_COMMENT","\/\/ Add a content translation.\n",121],["T_WHITESPACE","    ",122],["T_VARIABLE","$langcode",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'it'",122],";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$values",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$entity",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","toArray",123],"(",")",";",["T_WHITESPACE","\n    ",123],["T_COMMENT","\/\/ Apply a default value for the metadata fields.\n",124],["T_WHITESPACE","    ",125],["T_FOREACH","foreach",125],["T_WHITESPACE"," ",125],"(",["T_VARIABLE","$metadata_fields",125],["T_WHITESPACE"," ",125],["T_AS","as",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$field_name",125],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n      ",125],["T_UNSET","unset",126],"(",["T_VARIABLE","$values",126],"[",["T_VARIABLE","$field_name",126],"]",")",";",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$entity",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","addTranslation",128],"(",["T_VARIABLE","$langcode",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$values",128],")",";",["T_WHITESPACE","\n\n    ",128],["T_VARIABLE","$metadata_source_translation",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","manager",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getTranslationMetadata",130],"(",["T_VARIABLE","$entity",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getTranslation",130],"(",["T_VARIABLE","$default_langcode",130],")",")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$metadata_target_translation",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","manager",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getTranslationMetadata",131],"(",["T_VARIABLE","$entity",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getTranslation",131],"(",["T_VARIABLE","$langcode",131],")",")",";",["T_WHITESPACE","\n\n    ",131],["T_VARIABLE","$metadata_target_translation",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","setCreatedTime",133],"(",["T_STRING","time",133],"(",")",["T_WHITESPACE"," ",133],"+",["T_WHITESPACE"," ",133],["T_LNUMBER","50",133],")",";",["T_WHITESPACE","\n    ",133],["T_VARIABLE","$metadata_target_translation",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","setChangedTime",134],"(",["T_STRING","time",134],"(",")",["T_WHITESPACE"," ",134],"+",["T_WHITESPACE"," ",134],["T_LNUMBER","50",134],")",";",["T_WHITESPACE","\n    ",134],["T_VARIABLE","$metadata_target_translation",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","setPublished",135],"(",["T_STRING","TRUE",135],")",";",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$metadata_target_translation",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","setAuthor",136],"(",["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","editor",136],")",";",["T_WHITESPACE","\n\n    ",136],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","assertNotEqual",138],"(",["T_VARIABLE","$metadata_source_translation",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getCreatedTime",138],"(",")",",",["T_WHITESPACE"," ",138],["T_VARIABLE","$metadata_target_translation",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getCreatedTime",138],"(",")",",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'Metadata created field correctly different on both translations.'",138],")",";",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","assertNotEqual",139],"(",["T_VARIABLE","$metadata_source_translation",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getChangedTime",139],"(",")",",",["T_WHITESPACE"," ",139],["T_VARIABLE","$metadata_target_translation",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getChangedTime",139],"(",")",",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'Metadata changed field correctly different on both translations.'",139],")",";",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","assertNotEqual",140],"(",["T_VARIABLE","$metadata_source_translation",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","isPublished",140],"(",")",",",["T_WHITESPACE"," ",140],["T_VARIABLE","$metadata_target_translation",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","isPublished",140],"(",")",",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'Metadata published field correctly different on both translations.'",140],")",";",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","assertNotEqual",141],"(",["T_VARIABLE","$metadata_source_translation",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getAuthor",141],"(",")",["T_OBJECT_OPERATOR","->",141],["T_STRING","id",141],"(",")",",",["T_WHITESPACE"," ",141],["T_VARIABLE","$metadata_target_translation",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getAuthor",141],"(",")",["T_OBJECT_OPERATOR","->",141],["T_STRING","id",141],"(",")",",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'Metadata author field correctly different on both translations.'",141],")",";",["T_WHITESPACE","\n  ",141],"}",["T_WHITESPACE","\n\n",142],"}",["T_WHITESPACE","\n",144]]