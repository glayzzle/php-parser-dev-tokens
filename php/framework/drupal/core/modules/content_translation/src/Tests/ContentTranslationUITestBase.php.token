[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","content_translation",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Cache",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Cache",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","EntityInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Language",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Language",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Language",8],["T_NS_SEPARATOR","\\",8],["T_STRING","LanguageInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Url",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","language",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Entity",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ConfigurableLanguage",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Component",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Utility",11],["T_NS_SEPARATOR","\\",11],["T_STRING","SafeMarkup",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","system",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tests",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Cache",12],["T_NS_SEPARATOR","\\",12],["T_STRING","AssertPageCacheContextsAndTagsTrait",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Tests the Content Translation UI.\n *\/",14],["T_WHITESPACE","\n",16],["T_ABSTRACT","abstract",17],["T_WHITESPACE"," ",17],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","ContentTranslationUITestBase",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_STRING","ContentTranslationTestBase",17],["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n\n  ",17],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","AssertPageCacheContextsAndTagsTrait",19],";",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * The id of the entity being translated.\n   *\n   * @var mixed\n   *\/",21],["T_WHITESPACE","\n  ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$entityId",26],";",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * Whether the behavior of the language selector should be tested.\n   *\n   * @var bool\n   *\/",28],["T_WHITESPACE","\n  ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$testLanguageSelector",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_STRING","TRUE",33],";",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * Flag that tells whether the HTML escaping of all languages works or not\n   * after SafeMarkup change.\n   *\n   * @var bool\n   *\/",35],["T_WHITESPACE","\n  ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$testHTMLEscapeForAllLanguages",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_STRING","FALSE",41],";",["T_WHITESPACE","\n\n  ",41],["T_DOC_COMMENT","\/**\n   * Default cache contexts expected on a non-translated entity.\n   *\n   * Cache contexts will not be checked if this list is empty.\n   *\n   * @var string[]\n   *\/",43],["T_WHITESPACE","\n  ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$defaultCacheContexts",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],"[",["T_CONSTANT_ENCAPSED_STRING","'languages:language_interface'",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'theme'",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'url.query_args:_wrapper_format'",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'user.permissions'",50],"]",";",["T_WHITESPACE","\n\n  ",50],["T_DOC_COMMENT","\/**\n   * Tests the basic translation UI.\n   *\/",52],["T_WHITESPACE","\n  ",54],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","testTranslationUI",55],"(",")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","doTestBasicTranslation",56],"(",")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","doTestTranslationOverview",57],"(",")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","doTestOutdatedStatus",58],"(",")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","doTestPublishedStatus",59],"(",")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","doTestAuthoringInfo",60],"(",")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","doTestTranslationEdit",61],"(",")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","doTestTranslationChanged",62],"(",")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","doTestChangedTimeAfterSaveWithoutChanges",63],"(",")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","doTestTranslationDeletion",64],"(",")",";",["T_WHITESPACE","\n  ",64],"}",["T_WHITESPACE","\n\n  ",65],["T_DOC_COMMENT","\/**\n   * Tests the basic translation workflow.\n   *\/",67],["T_WHITESPACE","\n  ",69],["T_PROTECTED","protected",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","doTestBasicTranslation",70],"(",")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n    ",70],["T_COMMENT","\/\/ Create a new test entity with original values in the default language.\n",71],["T_WHITESPACE","    ",72],["T_VARIABLE","$default_langcode",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","langcodes",72],"[",["T_LNUMBER","0",72],"]",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$values",73],"[",["T_VARIABLE","$default_langcode",73],"]",["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getNewEntityValues",73],"(",["T_VARIABLE","$default_langcode",73],")",";",["T_WHITESPACE","\n    ",73],["T_COMMENT","\/\/ Create the entity with the editor as owner, so that afterwards a new\n",74],["T_WHITESPACE","    ",75],["T_COMMENT","\/\/ translation is created by the translator and the translation author is\n",75],["T_WHITESPACE","    ",76],["T_COMMENT","\/\/ tested.\n",76],["T_WHITESPACE","    ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","drupalLogin",77],"(",["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","editor",77],")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","entityId",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","createEntity",78],"(",["T_VARIABLE","$values",78],"[",["T_VARIABLE","$default_langcode",78],"]",",",["T_WHITESPACE"," ",78],["T_VARIABLE","$default_langcode",78],")",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","drupalLogin",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","translator",79],")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$storage",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","container",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","get",80],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",80],")",["T_WHITESPACE","\n      ",80],["T_OBJECT_OPERATOR","->",81],["T_STRING","getStorage",81],"(",["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","entityTypeId",81],")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$storage",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","resetCache",82],"(","[",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","entityId",82],"]",")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$entity",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$storage",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","load",83],"(",["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","entityId",83],")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertTrue",84],"(",["T_VARIABLE","$entity",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'Entity found in the database.'",84],")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","drupalGet",85],"(",["T_VARIABLE","$entity",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","urlInfo",85],"(",")",")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertResponse",86],"(",["T_LNUMBER","200",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'Entity URL is valid.'",86],")",";",["T_WHITESPACE","\n\n    ",86],["T_COMMENT","\/\/ Ensure that the content language cache context is not yet added to the\n",88],["T_WHITESPACE","    ",89],["T_COMMENT","\/\/ page.\n",89],["T_WHITESPACE","    ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertCacheContexts",90],"(",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","defaultCacheContexts",90],")",";",["T_WHITESPACE","\n\n    ",90],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","drupalGet",92],"(",["T_VARIABLE","$entity",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","urlInfo",92],"(",["T_CONSTANT_ENCAPSED_STRING","'drupal:content-translation-overview'",92],")",")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertNoText",93],"(",["T_CONSTANT_ENCAPSED_STRING","'Source language'",93],",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'Source language column correctly hidden.'",93],")",";",["T_WHITESPACE","\n\n    ",93],["T_VARIABLE","$translation",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getTranslation",95],"(",["T_VARIABLE","$entity",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$default_langcode",95],")",";",["T_WHITESPACE","\n    ",95],["T_FOREACH","foreach",96],["T_WHITESPACE"," ",96],"(",["T_VARIABLE","$values",96],"[",["T_VARIABLE","$default_langcode",96],"]",["T_WHITESPACE"," ",96],["T_AS","as",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$property",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$value",96],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n      ",96],["T_VARIABLE","$stored_value",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getValue",97],"(",["T_VARIABLE","$translation",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$property",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$default_langcode",97],")",";",["T_WHITESPACE","\n      ",97],["T_VARIABLE","$value",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","is_array",98],"(",["T_VARIABLE","$value",98],")",["T_WHITESPACE"," ",98],"?",["T_WHITESPACE"," ",98],["T_VARIABLE","$value",98],"[",["T_LNUMBER","0",98],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",98],"]",["T_WHITESPACE"," ",98],":",["T_WHITESPACE"," ",98],["T_VARIABLE","$value",98],";",["T_WHITESPACE","\n      ",98],["T_VARIABLE","$message",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_STRING","format_string",99],"(",["T_CONSTANT_ENCAPSED_STRING","'@property correctly stored in the default language.'",99],",",["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",["T_CONSTANT_ENCAPSED_STRING","'@property'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$property",99],")",")",";",["T_WHITESPACE","\n      ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertEqual",100],"(",["T_VARIABLE","$stored_value",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$value",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$message",100],")",";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n\n    ",101],["T_COMMENT","\/\/ Add a content translation.\n",103],["T_WHITESPACE","    ",104],["T_VARIABLE","$langcode",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'it'",104],";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$language",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","ConfigurableLanguage",105],["T_DOUBLE_COLON","::",105],["T_STRING","load",105],"(",["T_VARIABLE","$langcode",105],")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$values",106],"[",["T_VARIABLE","$langcode",106],"]",["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getNewEntityValues",106],"(",["T_VARIABLE","$langcode",106],")",";",["T_WHITESPACE","\n\n    ",106],["T_VARIABLE","$entity_type_id",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$entity",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getEntityTypeId",108],"(",")",";",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$add_url",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_STRING","Url",109],["T_DOUBLE_COLON","::",109],["T_STRING","fromRoute",109],"(","\"",["T_ENCAPSED_AND_WHITESPACE","entity.",109],["T_VARIABLE","$entity_type_id",109],["T_ENCAPSED_AND_WHITESPACE",".content_translation_add",109],"\"",",",["T_WHITESPACE"," ",109],"[",["T_WHITESPACE","\n      ",109],["T_VARIABLE","$entity",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getEntityTypeId",110],"(",")",["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$entity",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","id",110],"(",")",",",["T_WHITESPACE","\n      ",110],["T_CONSTANT_ENCAPSED_STRING","'source'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$default_langcode",111],",",["T_WHITESPACE","\n      ",111],["T_CONSTANT_ENCAPSED_STRING","'target'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$langcode",112],["T_WHITESPACE","\n    ",112],"]",",",["T_WHITESPACE"," ",113],["T_ARRAY","array",113],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$language",113],")",")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","drupalPostForm",114],"(",["T_VARIABLE","$add_url",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getEditValues",114],"(",["T_VARIABLE","$values",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$langcode",114],")",",",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getFormSubmitActionForNewTranslation",114],"(",["T_VARIABLE","$entity",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$langcode",114],")",")",";",["T_WHITESPACE","\n\n    ",114],["T_COMMENT","\/\/ Assert that HTML is escaped in \"all languages\" in UI after SafeMarkup\n",116],["T_WHITESPACE","    ",117],["T_COMMENT","\/\/ change.\n",117],["T_WHITESPACE","    ",118],["T_IF","if",118],["T_WHITESPACE"," ",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","testHTMLEscapeForAllLanguages",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n      ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertNoRaw",119],"(",["T_CONSTANT_ENCAPSED_STRING","'&lt;span class=&quot;translation-entity-all-languages&quot;&gt;(all languages)&lt;\/span&gt;'",119],")",";",["T_WHITESPACE","\n      ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","assertRaw",120],"(",["T_CONSTANT_ENCAPSED_STRING","'<span class=\"translation-entity-all-languages\">(all languages)<\/span>'",120],")",";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n\n    ",121],["T_COMMENT","\/\/ Ensure that the content language cache context is not yet added to the\n",123],["T_WHITESPACE","    ",124],["T_COMMENT","\/\/ page.\n",124],["T_WHITESPACE","    ",125],["T_VARIABLE","$storage",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","container",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","get",125],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",125],")",["T_WHITESPACE","\n      ",125],["T_OBJECT_OPERATOR","->",126],["T_STRING","getStorage",126],"(",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","entityTypeId",126],")",";",["T_WHITESPACE","\n    ",126],["T_VARIABLE","$storage",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","resetCache",127],"(","[",["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","entityId",127],"]",")",";",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$entity",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$storage",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","load",128],"(",["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","entityId",128],")",";",["T_WHITESPACE","\n    ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","drupalGet",129],"(",["T_VARIABLE","$entity",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","urlInfo",129],"(",")",")",";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","assertCacheContexts",130],"(",["T_STRING","Cache",130],["T_DOUBLE_COLON","::",130],["T_STRING","mergeContexts",130],"(","[",["T_CONSTANT_ENCAPSED_STRING","'languages:language_content'",130],"]",",",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","defaultCacheContexts",130],")",")",";",["T_WHITESPACE","\n\n    ",130],["T_COMMENT","\/\/ Reset the cache of the entity, so that the new translation gets the\n",132],["T_WHITESPACE","    ",133],["T_COMMENT","\/\/ updated values.\n",133],["T_WHITESPACE","    ",134],["T_VARIABLE","$metadata_source_translation",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","manager",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getTranslationMetadata",134],"(",["T_VARIABLE","$entity",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getTranslation",134],"(",["T_VARIABLE","$default_langcode",134],")",")",";",["T_WHITESPACE","\n    ",134],["T_VARIABLE","$metadata_target_translation",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","manager",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getTranslationMetadata",135],"(",["T_VARIABLE","$entity",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getTranslation",135],"(",["T_VARIABLE","$langcode",135],")",")",";",["T_WHITESPACE","\n\n    ",135],["T_VARIABLE","$author_field_name",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$entity",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","hasField",137],"(",["T_CONSTANT_ENCAPSED_STRING","'content_translation_uid'",137],")",["T_WHITESPACE"," ",137],"?",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'content_translation_uid'",137],["T_WHITESPACE"," ",137],":",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'uid'",137],";",["T_WHITESPACE","\n    ",137],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_VARIABLE","$entity",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getFieldDefinition",138],"(",["T_VARIABLE","$author_field_name",138],")",["T_OBJECT_OPERATOR","->",138],["T_STRING","isTranslatable",138],"(",")",")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n      ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","assertEqual",139],"(",["T_VARIABLE","$metadata_target_translation",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getAuthor",139],"(",")",["T_OBJECT_OPERATOR","->",139],["T_STRING","id",139],"(",")",",",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","translator",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","id",139],"(",")",",",["T_WHITESPACE","\n        ",139],["T_STRING","SafeMarkup",140],["T_DOUBLE_COLON","::",140],["T_STRING","format",140],"(",["T_CONSTANT_ENCAPSED_STRING","'Author of the target translation @langcode correctly stored for translatable owner field.'",140],",",["T_WHITESPACE"," ",140],["T_ARRAY","array",140],"(",["T_CONSTANT_ENCAPSED_STRING","'@langcode'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$langcode",140],")",")",")",";",["T_WHITESPACE","\n\n      ",140],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","assertNotEqual",142],"(",["T_VARIABLE","$metadata_target_translation",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getAuthor",142],"(",")",["T_OBJECT_OPERATOR","->",142],["T_STRING","id",142],"(",")",",",["T_WHITESPACE"," ",142],["T_VARIABLE","$metadata_source_translation",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getAuthor",142],"(",")",["T_OBJECT_OPERATOR","->",142],["T_STRING","id",142],"(",")",",",["T_WHITESPACE","\n        ",142],["T_STRING","SafeMarkup",143],["T_DOUBLE_COLON","::",143],["T_STRING","format",143],"(",["T_CONSTANT_ENCAPSED_STRING","'Author of the target translation @target different from the author of the source translation @source for translatable owner field.'",143],",",["T_WHITESPACE","\n          ",143],["T_ARRAY","array",144],"(",["T_CONSTANT_ENCAPSED_STRING","'@target'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$langcode",144],",",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'@source'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$default_langcode",144],")",")",")",";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n    ",145],["T_ELSE","else",146],["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n      ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","assertEqual",147],"(",["T_VARIABLE","$metadata_target_translation",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getAuthor",147],"(",")",["T_OBJECT_OPERATOR","->",147],["T_STRING","id",147],"(",")",",",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","editor",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","id",147],"(",")",",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'Author of the entity remained untouched after translation for non translatable owner field.'",147],")",";",["T_WHITESPACE","\n    ",147],"}",["T_WHITESPACE","\n\n    ",148],["T_VARIABLE","$created_field_name",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$entity",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","hasField",150],"(",["T_CONSTANT_ENCAPSED_STRING","'content_translation_created'",150],")",["T_WHITESPACE"," ",150],"?",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'content_translation_created'",150],["T_WHITESPACE"," ",150],":",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'created'",150],";",["T_WHITESPACE","\n    ",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$entity",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getFieldDefinition",151],"(",["T_VARIABLE","$created_field_name",151],")",["T_OBJECT_OPERATOR","->",151],["T_STRING","isTranslatable",151],"(",")",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n      ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","assertTrue",152],"(",["T_VARIABLE","$metadata_target_translation",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getCreatedTime",152],"(",")",["T_WHITESPACE"," ",152],">",["T_WHITESPACE"," ",152],["T_VARIABLE","$metadata_source_translation",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getCreatedTime",152],"(",")",",",["T_WHITESPACE","\n        ",152],["T_STRING","SafeMarkup",153],["T_DOUBLE_COLON","::",153],["T_STRING","format",153],"(",["T_CONSTANT_ENCAPSED_STRING","'Translation creation timestamp of the target translation @target is newer than the creation timestamp of the source translation @source for translatable created field.'",153],",",["T_WHITESPACE","\n          ",153],["T_ARRAY","array",154],"(",["T_CONSTANT_ENCAPSED_STRING","'@target'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$langcode",154],",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'@source'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$default_langcode",154],")",")",")",";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n    ",155],["T_ELSE","else",156],["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n      ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","assertEqual",157],"(",["T_VARIABLE","$metadata_target_translation",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getCreatedTime",157],"(",")",",",["T_WHITESPACE"," ",157],["T_VARIABLE","$metadata_source_translation",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getCreatedTime",157],"(",")",",",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'Creation timestamp of the entity remained untouched after translation for non translatable created field.'",157],")",";",["T_WHITESPACE","\n    ",157],"}",["T_WHITESPACE","\n\n    ",158],["T_IF","if",160],["T_WHITESPACE"," ",160],"(",["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","testLanguageSelector",160],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n      ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","assertNoFieldByXPath",161],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/select[@id=\"edit-langcode-0-value\"]'",161],",",["T_WHITESPACE"," ",161],["T_STRING","NULL",161],",",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'Language selector correctly disabled on translations.'",161],")",";",["T_WHITESPACE","\n    ",161],"}",["T_WHITESPACE","\n    ",162],["T_VARIABLE","$storage",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","resetCache",163],"(","[",["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","entityId",163],"]",")",";",["T_WHITESPACE","\n    ",163],["T_VARIABLE","$entity",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$storage",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","load",164],"(",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","entityId",164],")",";",["T_WHITESPACE","\n    ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","drupalGet",165],"(",["T_VARIABLE","$entity",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","urlInfo",165],"(",["T_CONSTANT_ENCAPSED_STRING","'drupal:content-translation-overview'",165],")",")",";",["T_WHITESPACE","\n    ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","assertNoText",166],"(",["T_CONSTANT_ENCAPSED_STRING","'Source language'",166],",",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'Source language column correctly hidden.'",166],")",";",["T_WHITESPACE","\n\n    ",166],["T_COMMENT","\/\/ Switch the source language.\n",168],["T_WHITESPACE","    ",169],["T_VARIABLE","$langcode",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'fr'",169],";",["T_WHITESPACE","\n    ",169],["T_VARIABLE","$language",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_STRING","ConfigurableLanguage",170],["T_DOUBLE_COLON","::",170],["T_STRING","load",170],"(",["T_VARIABLE","$langcode",170],")",";",["T_WHITESPACE","\n    ",170],["T_VARIABLE","$source_langcode",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'it'",171],";",["T_WHITESPACE","\n    ",171],["T_VARIABLE","$edit",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_ARRAY","array",172],"(",["T_CONSTANT_ENCAPSED_STRING","'source_langcode[source]'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$source_langcode",172],")",";",["T_WHITESPACE","\n    ",172],["T_VARIABLE","$entity_type_id",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$entity",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getEntityTypeId",173],"(",")",";",["T_WHITESPACE","\n    ",173],["T_VARIABLE","$add_url",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_STRING","Url",174],["T_DOUBLE_COLON","::",174],["T_STRING","fromRoute",174],"(","\"",["T_ENCAPSED_AND_WHITESPACE","entity.",174],["T_VARIABLE","$entity_type_id",174],["T_ENCAPSED_AND_WHITESPACE",".content_translation_add",174],"\"",",",["T_WHITESPACE"," ",174],"[",["T_WHITESPACE","\n      ",174],["T_VARIABLE","$entity",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getEntityTypeId",175],"(",")",["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$entity",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","id",175],"(",")",",",["T_WHITESPACE","\n      ",175],["T_CONSTANT_ENCAPSED_STRING","'source'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$default_langcode",176],",",["T_WHITESPACE","\n      ",176],["T_CONSTANT_ENCAPSED_STRING","'target'",177],["T_WHITESPACE"," ",177],["T_DOUBLE_ARROW","=>",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$langcode",177],["T_WHITESPACE","\n    ",177],"]",",",["T_WHITESPACE"," ",178],["T_ARRAY","array",178],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$language",178],")",")",";",["T_WHITESPACE","\n    ",178],["T_COMMENT","\/\/ This does not save anything, it merely reloads the form and fills in the\n",179],["T_WHITESPACE","    ",180],["T_COMMENT","\/\/ fields with the values from the different source language.\n",180],["T_WHITESPACE","    ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","drupalPostForm",181],"(",["T_VARIABLE","$add_url",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$edit",181],",",["T_WHITESPACE"," ",181],["T_STRING","t",181],"(",["T_CONSTANT_ENCAPSED_STRING","'Change'",181],")",")",";",["T_WHITESPACE","\n    ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","assertFieldByXPath",182],"(","\"",["T_ENCAPSED_AND_WHITESPACE","\/\/input[@name=\\\"",182],["T_CURLY_OPEN","{",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","fieldName",182],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value]\\\"]",182],"\"",",",["T_WHITESPACE"," ",182],["T_VARIABLE","$values",182],"[",["T_VARIABLE","$source_langcode",182],"]","[",["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","fieldName",182],"]","[",["T_LNUMBER","0",182],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",182],"]",",",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'Source language correctly switched.'",182],")",";",["T_WHITESPACE","\n\n    ",182],["T_COMMENT","\/\/ Add another translation and mark the other ones as outdated.\n",184],["T_WHITESPACE","    ",185],["T_VARIABLE","$values",185],"[",["T_VARIABLE","$langcode",185],"]",["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getNewEntityValues",185],"(",["T_VARIABLE","$langcode",185],")",";",["T_WHITESPACE","\n    ",185],["T_VARIABLE","$edit",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getEditValues",186],"(",["T_VARIABLE","$values",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$langcode",186],")",["T_WHITESPACE"," ",186],"+",["T_WHITESPACE"," ",186],["T_ARRAY","array",186],"(",["T_CONSTANT_ENCAPSED_STRING","'content_translation[retranslate]'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_STRING","TRUE",186],")",";",["T_WHITESPACE","\n    ",186],["T_VARIABLE","$entity_type_id",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$entity",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getEntityTypeId",187],"(",")",";",["T_WHITESPACE","\n    ",187],["T_VARIABLE","$add_url",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_STRING","Url",188],["T_DOUBLE_COLON","::",188],["T_STRING","fromRoute",188],"(","\"",["T_ENCAPSED_AND_WHITESPACE","entity.",188],["T_VARIABLE","$entity_type_id",188],["T_ENCAPSED_AND_WHITESPACE",".content_translation_add",188],"\"",",",["T_WHITESPACE"," ",188],"[",["T_WHITESPACE","\n      ",188],["T_VARIABLE","$entity",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getEntityTypeId",189],"(",")",["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$entity",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","id",189],"(",")",",",["T_WHITESPACE","\n      ",189],["T_CONSTANT_ENCAPSED_STRING","'source'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$source_langcode",190],",",["T_WHITESPACE","\n      ",190],["T_CONSTANT_ENCAPSED_STRING","'target'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$langcode",191],["T_WHITESPACE","\n    ",191],"]",",",["T_WHITESPACE"," ",192],["T_ARRAY","array",192],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$language",192],")",")",";",["T_WHITESPACE","\n    ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","drupalPostForm",193],"(",["T_VARIABLE","$add_url",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$edit",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","getFormSubmitActionForNewTranslation",193],"(",["T_VARIABLE","$entity",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$langcode",193],")",")",";",["T_WHITESPACE","\n    ",193],["T_VARIABLE","$storage",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","resetCache",194],"(","[",["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","entityId",194],"]",")",";",["T_WHITESPACE","\n    ",194],["T_VARIABLE","$entity",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$storage",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","load",195],"(",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","entityId",195],")",";",["T_WHITESPACE","\n    ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","drupalGet",196],"(",["T_VARIABLE","$entity",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","urlInfo",196],"(",["T_CONSTANT_ENCAPSED_STRING","'drupal:content-translation-overview'",196],")",")",";",["T_WHITESPACE","\n    ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","assertText",197],"(",["T_CONSTANT_ENCAPSED_STRING","'Source language'",197],",",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'Source language column correctly shown.'",197],")",";",["T_WHITESPACE","\n\n    ",197],["T_COMMENT","\/\/ Check that the entered values have been correctly stored.\n",199],["T_WHITESPACE","    ",200],["T_FOREACH","foreach",200],["T_WHITESPACE"," ",200],"(",["T_VARIABLE","$values",200],["T_WHITESPACE"," ",200],["T_AS","as",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$langcode",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$property_values",200],")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n      ",200],["T_VARIABLE","$translation",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getTranslation",201],"(",["T_VARIABLE","$entity",201],",",["T_WHITESPACE"," ",201],["T_VARIABLE","$langcode",201],")",";",["T_WHITESPACE","\n      ",201],["T_FOREACH","foreach",202],["T_WHITESPACE"," ",202],"(",["T_VARIABLE","$property_values",202],["T_WHITESPACE"," ",202],["T_AS","as",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$property",202],["T_WHITESPACE"," ",202],["T_DOUBLE_ARROW","=>",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$value",202],")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$stored_value",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getValue",203],"(",["T_VARIABLE","$translation",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$property",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$langcode",203],")",";",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$value",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_STRING","is_array",204],"(",["T_VARIABLE","$value",204],")",["T_WHITESPACE"," ",204],"?",["T_WHITESPACE"," ",204],["T_VARIABLE","$value",204],"[",["T_LNUMBER","0",204],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",204],"]",["T_WHITESPACE"," ",204],":",["T_WHITESPACE"," ",204],["T_VARIABLE","$value",204],";",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$message",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_STRING","format_string",205],"(",["T_CONSTANT_ENCAPSED_STRING","'%property correctly stored with language %language.'",205],",",["T_WHITESPACE"," ",205],["T_ARRAY","array",205],"(",["T_CONSTANT_ENCAPSED_STRING","'%property'",205],["T_WHITESPACE"," ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$property",205],",",["T_WHITESPACE"," ",205],["T_CONSTANT_ENCAPSED_STRING","'%language'",205],["T_WHITESPACE"," ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$langcode",205],")",")",";",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","assertEqual",206],"(",["T_VARIABLE","$stored_value",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$value",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$message",206],")",";",["T_WHITESPACE","\n      ",206],"}",["T_WHITESPACE","\n    ",207],"}",["T_WHITESPACE","\n  ",208],"}",["T_WHITESPACE","\n\n  ",209],["T_DOC_COMMENT","\/**\n   * Tests that the translation overview shows the correct values.\n   *\/",211],["T_WHITESPACE","\n  ",213],["T_PROTECTED","protected",214],["T_WHITESPACE"," ",214],["T_FUNCTION","function",214],["T_WHITESPACE"," ",214],["T_STRING","doTestTranslationOverview",214],"(",")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n    ",214],["T_VARIABLE","$storage",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","container",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","get",215],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",215],")",["T_WHITESPACE","\n      ",215],["T_OBJECT_OPERATOR","->",216],["T_STRING","getStorage",216],"(",["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","entityTypeId",216],")",";",["T_WHITESPACE","\n    ",216],["T_VARIABLE","$storage",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","resetCache",217],"(","[",["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","entityId",217],"]",")",";",["T_WHITESPACE","\n    ",217],["T_VARIABLE","$entity",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$storage",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","load",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","entityId",218],")",";",["T_WHITESPACE","\n    ",218],["T_VARIABLE","$translate_url",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$entity",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","urlInfo",219],"(",["T_CONSTANT_ENCAPSED_STRING","'drupal:content-translation-overview'",219],")",";",["T_WHITESPACE","\n    ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","drupalGet",220],"(",["T_VARIABLE","$translate_url",220],")",";",["T_WHITESPACE","\n    ",220],["T_VARIABLE","$translate_url",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","setAbsolute",221],"(",["T_STRING","FALSE",221],")",";",["T_WHITESPACE","\n\n    ",221],["T_FOREACH","foreach",223],["T_WHITESPACE"," ",223],"(",["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","langcodes",223],["T_WHITESPACE"," ",223],["T_AS","as",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$langcode",223],")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n      ",223],["T_IF","if",224],["T_WHITESPACE"," ",224],"(",["T_VARIABLE","$entity",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","hasTranslation",224],"(",["T_VARIABLE","$langcode",224],")",")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n        ",224],["T_VARIABLE","$language",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_NEW","new",225],["T_WHITESPACE"," ",225],["T_STRING","Language",225],"(",["T_ARRAY","array",225],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",225],["T_WHITESPACE"," ",225],["T_DOUBLE_ARROW","=>",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$langcode",225],")",")",";",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$view_url",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$entity",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","url",226],"(",["T_CONSTANT_ENCAPSED_STRING","'canonical'",226],",",["T_WHITESPACE"," ",226],"[",["T_CONSTANT_ENCAPSED_STRING","'language'",226],["T_WHITESPACE"," ",226],["T_DOUBLE_ARROW","=>",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$language",226],"]",")",";",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$elements",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","xpath",227],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/table\/\/a[@href=:href]'",227],",",["T_WHITESPACE"," ",227],"[",["T_CONSTANT_ENCAPSED_STRING","':href'",227],["T_WHITESPACE"," ",227],["T_DOUBLE_ARROW","=>",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$view_url",227],"]",")",";",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","assertEqual",228],"(",["T_STRING_CAST","(string)",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$elements",228],"[",["T_LNUMBER","0",228],"]",",",["T_WHITESPACE"," ",228],["T_VARIABLE","$entity",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","getTranslation",228],"(",["T_VARIABLE","$langcode",228],")",["T_OBJECT_OPERATOR","->",228],["T_STRING","label",228],"(",")",",",["T_WHITESPACE"," ",228],["T_STRING","format_string",228],"(",["T_CONSTANT_ENCAPSED_STRING","'Label correctly shown for %language translation.'",228],",",["T_WHITESPACE"," ",228],["T_ARRAY","array",228],"(",["T_CONSTANT_ENCAPSED_STRING","'%language'",228],["T_WHITESPACE"," ",228],["T_DOUBLE_ARROW","=>",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$langcode",228],")",")",")",";",["T_WHITESPACE","\n        ",228],["T_VARIABLE","$edit_path",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$entity",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","url",229],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-form'",229],",",["T_WHITESPACE"," ",229],["T_ARRAY","array",229],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",229],["T_WHITESPACE"," ",229],["T_DOUBLE_ARROW","=>",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$language",229],")",")",";",["T_WHITESPACE","\n        ",229],["T_VARIABLE","$elements",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","xpath",230],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/table\/\/ul[@class=\"dropbutton\"]\/li\/a[@href=:href]'",230],",",["T_WHITESPACE"," ",230],["T_ARRAY","array",230],"(",["T_CONSTANT_ENCAPSED_STRING","':href'",230],["T_WHITESPACE"," ",230],["T_DOUBLE_ARROW","=>",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$edit_path",230],")",")",";",["T_WHITESPACE","\n        ",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","assertEqual",231],"(",["T_STRING_CAST","(string)",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$elements",231],"[",["T_LNUMBER","0",231],"]",",",["T_WHITESPACE"," ",231],["T_STRING","t",231],"(",["T_CONSTANT_ENCAPSED_STRING","'Edit'",231],")",",",["T_WHITESPACE"," ",231],["T_STRING","format_string",231],"(",["T_CONSTANT_ENCAPSED_STRING","'Edit link correct for %language translation.'",231],",",["T_WHITESPACE"," ",231],["T_ARRAY","array",231],"(",["T_CONSTANT_ENCAPSED_STRING","'%language'",231],["T_WHITESPACE"," ",231],["T_DOUBLE_ARROW","=>",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$langcode",231],")",")",")",";",["T_WHITESPACE","\n      ",231],"}",["T_WHITESPACE","\n    ",232],"}",["T_WHITESPACE","\n  ",233],"}",["T_WHITESPACE","\n\n  ",234],["T_DOC_COMMENT","\/**\n   * Tests up-to-date status tracking.\n   *\/",236],["T_WHITESPACE","\n  ",238],["T_PROTECTED","protected",239],["T_WHITESPACE"," ",239],["T_FUNCTION","function",239],["T_WHITESPACE"," ",239],["T_STRING","doTestOutdatedStatus",239],"(",")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n    ",239],["T_VARIABLE","$storage",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","container",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","get",240],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",240],")",["T_WHITESPACE","\n      ",240],["T_OBJECT_OPERATOR","->",241],["T_STRING","getStorage",241],"(",["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","entityTypeId",241],")",";",["T_WHITESPACE","\n    ",241],["T_VARIABLE","$storage",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","resetCache",242],"(","[",["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","entityId",242],"]",")",";",["T_WHITESPACE","\n    ",242],["T_VARIABLE","$entity",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$storage",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","load",243],"(",["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","entityId",243],")",";",["T_WHITESPACE","\n    ",243],["T_VARIABLE","$langcode",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'fr'",244],";",["T_WHITESPACE","\n    ",244],["T_VARIABLE","$languages",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_NS_SEPARATOR","\\",245],["T_STRING","Drupal",245],["T_DOUBLE_COLON","::",245],["T_STRING","languageManager",245],"(",")",["T_OBJECT_OPERATOR","->",245],["T_STRING","getLanguages",245],"(",")",";",["T_WHITESPACE","\n\n    ",245],["T_COMMENT","\/\/ Mark translations as outdated.\n",247],["T_WHITESPACE","    ",248],["T_VARIABLE","$edit",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_ARRAY","array",248],"(",["T_CONSTANT_ENCAPSED_STRING","'content_translation[retranslate]'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_STRING","TRUE",248],")",";",["T_WHITESPACE","\n    ",248],["T_VARIABLE","$edit_path",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$entity",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","urlInfo",249],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-form'",249],",",["T_WHITESPACE"," ",249],["T_ARRAY","array",249],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",249],["T_WHITESPACE"," ",249],["T_DOUBLE_ARROW","=>",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$languages",249],"[",["T_VARIABLE","$langcode",249],"]",")",")",";",["T_WHITESPACE","\n    ",249],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","drupalPostForm",250],"(",["T_VARIABLE","$edit_path",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$edit",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","getFormSubmitAction",250],"(",["T_VARIABLE","$entity",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$langcode",250],")",")",";",["T_WHITESPACE","\n    ",250],["T_VARIABLE","$storage",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","resetCache",251],"(","[",["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","entityId",251],"]",")",";",["T_WHITESPACE","\n    ",251],["T_VARIABLE","$entity",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$storage",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","load",252],"(",["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","entityId",252],")",";",["T_WHITESPACE","\n\n    ",252],["T_COMMENT","\/\/ Check that every translation has the correct \"outdated\" status, and that\n",254],["T_WHITESPACE","    ",255],["T_COMMENT","\/\/ the Translation fieldset is open if the translation is \"outdated\".\n",255],["T_WHITESPACE","    ",256],["T_FOREACH","foreach",256],["T_WHITESPACE"," ",256],"(",["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","langcodes",256],["T_WHITESPACE"," ",256],["T_AS","as",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$added_langcode",256],")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n      ",256],["T_VARIABLE","$url",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_VARIABLE","$entity",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","urlInfo",257],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-form'",257],",",["T_WHITESPACE"," ",257],["T_ARRAY","array",257],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",257],["T_WHITESPACE"," ",257],["T_DOUBLE_ARROW","=>",257],["T_WHITESPACE"," ",257],["T_STRING","ConfigurableLanguage",257],["T_DOUBLE_COLON","::",257],["T_STRING","load",257],"(",["T_VARIABLE","$added_langcode",257],")",")",")",";",["T_WHITESPACE","\n      ",257],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","drupalGet",258],"(",["T_VARIABLE","$url",258],")",";",["T_WHITESPACE","\n      ",258],["T_IF","if",259],["T_WHITESPACE"," ",259],"(",["T_VARIABLE","$added_langcode",259],["T_WHITESPACE"," ",259],["T_IS_EQUAL","==",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$langcode",259],")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n        ",259],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","assertFieldByXPath",260],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/input[@name=\"content_translation[retranslate]\"]'",260],",",["T_WHITESPACE"," ",260],["T_STRING","FALSE",260],",",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'The retranslate flag is not checked by default.'",260],")",";",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","assertFalse",261],"(",["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","xpath",261],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/details[@id=\"edit-content-translation\" and @open=\"open\"]'",261],")",",",["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","'The translation tab should be collapsed by default.'",261],")",";",["T_WHITESPACE","\n      ",261],"}",["T_WHITESPACE","\n      ",262],["T_ELSE","else",263],["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","assertFieldByXPath",264],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/input[@name=\"content_translation[outdated]\"]'",264],",",["T_WHITESPACE"," ",264],["T_STRING","TRUE",264],",",["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","'The translate flag is checked by default.'",264],")",";",["T_WHITESPACE","\n        ",264],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","assertTrue",265],"(",["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","xpath",265],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/details[@id=\"edit-content-translation\" and @open=\"open\"]'",265],")",",",["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","'The translation tab is correctly expanded when the translation is outdated.'",265],")",";",["T_WHITESPACE","\n        ",265],["T_VARIABLE","$edit",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_ARRAY","array",266],"(",["T_CONSTANT_ENCAPSED_STRING","'content_translation[outdated]'",266],["T_WHITESPACE"," ",266],["T_DOUBLE_ARROW","=>",266],["T_WHITESPACE"," ",266],["T_STRING","FALSE",266],")",";",["T_WHITESPACE","\n        ",266],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","drupalPostForm",267],"(",["T_VARIABLE","$url",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$edit",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","getFormSubmitAction",267],"(",["T_VARIABLE","$entity",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$added_langcode",267],")",")",";",["T_WHITESPACE","\n        ",267],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","drupalGet",268],"(",["T_VARIABLE","$url",268],")",";",["T_WHITESPACE","\n        ",268],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","assertFieldByXPath",269],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/input[@name=\"content_translation[retranslate]\"]'",269],",",["T_WHITESPACE"," ",269],["T_STRING","FALSE",269],",",["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","'The retranslate flag is now shown.'",269],")",";",["T_WHITESPACE","\n        ",269],["T_VARIABLE","$storage",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","container",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","get",270],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",270],")",["T_WHITESPACE","\n          ",270],["T_OBJECT_OPERATOR","->",271],["T_STRING","getStorage",271],"(",["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","entityTypeId",271],")",";",["T_WHITESPACE","\n        ",271],["T_VARIABLE","$storage",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","resetCache",272],"(","[",["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","entityId",272],"]",")",";",["T_WHITESPACE","\n        ",272],["T_VARIABLE","$entity",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$storage",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","load",273],"(",["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","entityId",273],")",";",["T_WHITESPACE","\n        ",273],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","assertFalse",274],"(",["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","manager",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","getTranslationMetadata",274],"(",["T_VARIABLE","$entity",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","getTranslation",274],"(",["T_VARIABLE","$added_langcode",274],")",")",["T_OBJECT_OPERATOR","->",274],["T_STRING","isOutdated",274],"(",")",",",["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'The \"outdated\" status has been correctly stored.'",274],")",";",["T_WHITESPACE","\n      ",274],"}",["T_WHITESPACE","\n    ",275],"}",["T_WHITESPACE","\n  ",276],"}",["T_WHITESPACE","\n\n  ",277],["T_DOC_COMMENT","\/**\n   * Tests the translation publishing status.\n   *\/",279],["T_WHITESPACE","\n  ",281],["T_PROTECTED","protected",282],["T_WHITESPACE"," ",282],["T_FUNCTION","function",282],["T_WHITESPACE"," ",282],["T_STRING","doTestPublishedStatus",282],"(",")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n    ",282],["T_VARIABLE","$storage",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","container",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","get",283],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",283],")",["T_WHITESPACE","\n      ",283],["T_OBJECT_OPERATOR","->",284],["T_STRING","getStorage",284],"(",["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","entityTypeId",284],")",";",["T_WHITESPACE","\n    ",284],["T_VARIABLE","$storage",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","resetCache",285],"(","[",["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","entityId",285],"]",")",";",["T_WHITESPACE","\n    ",285],["T_VARIABLE","$entity",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_VARIABLE","$storage",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","load",286],"(",["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","entityId",286],")",";",["T_WHITESPACE","\n\n    ",286],["T_COMMENT","\/\/ Unpublish translations.\n",288],["T_WHITESPACE","    ",289],["T_FOREACH","foreach",289],["T_WHITESPACE"," ",289],"(",["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","langcodes",289],["T_WHITESPACE"," ",289],["T_AS","as",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$index",289],["T_WHITESPACE"," ",289],["T_DOUBLE_ARROW","=>",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$langcode",289],")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n      ",289],["T_IF","if",290],["T_WHITESPACE"," ",290],"(",["T_VARIABLE","$index",290],["T_WHITESPACE"," ",290],">",["T_WHITESPACE"," ",290],["T_LNUMBER","0",290],")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n        ",290],["T_VARIABLE","$url",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$entity",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","urlInfo",291],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-form'",291],",",["T_WHITESPACE"," ",291],["T_ARRAY","array",291],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",291],["T_WHITESPACE"," ",291],["T_DOUBLE_ARROW","=>",291],["T_WHITESPACE"," ",291],["T_STRING","ConfigurableLanguage",291],["T_DOUBLE_COLON","::",291],["T_STRING","load",291],"(",["T_VARIABLE","$langcode",291],")",")",")",";",["T_WHITESPACE","\n        ",291],["T_VARIABLE","$edit",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_ARRAY","array",292],"(",["T_CONSTANT_ENCAPSED_STRING","'content_translation[status]'",292],["T_WHITESPACE"," ",292],["T_DOUBLE_ARROW","=>",292],["T_WHITESPACE"," ",292],["T_STRING","FALSE",292],")",";",["T_WHITESPACE","\n        ",292],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","drupalPostForm",293],"(",["T_VARIABLE","$url",293],",",["T_WHITESPACE"," ",293],["T_VARIABLE","$edit",293],",",["T_WHITESPACE"," ",293],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","getFormSubmitAction",293],"(",["T_VARIABLE","$entity",293],",",["T_WHITESPACE"," ",293],["T_VARIABLE","$langcode",293],")",")",";",["T_WHITESPACE","\n        ",293],["T_VARIABLE","$storage",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","container",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","get",294],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",294],")",["T_WHITESPACE","\n          ",294],["T_OBJECT_OPERATOR","->",295],["T_STRING","getStorage",295],"(",["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","entityTypeId",295],")",";",["T_WHITESPACE","\n        ",295],["T_VARIABLE","$storage",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","resetCache",296],"(","[",["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","entityId",296],"]",")",";",["T_WHITESPACE","\n        ",296],["T_VARIABLE","$entity",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_VARIABLE","$storage",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","load",297],"(",["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","entityId",297],")",";",["T_WHITESPACE","\n        ",297],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","assertFalse",298],"(",["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","manager",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","getTranslationMetadata",298],"(",["T_VARIABLE","$entity",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","getTranslation",298],"(",["T_VARIABLE","$langcode",298],")",")",["T_OBJECT_OPERATOR","->",298],["T_STRING","isPublished",298],"(",")",",",["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","'The translation has been correctly unpublished.'",298],")",";",["T_WHITESPACE","\n      ",298],"}",["T_WHITESPACE","\n    ",299],"}",["T_WHITESPACE","\n\n    ",300],["T_COMMENT","\/\/ Check that the last published translation cannot be unpublished.\n",302],["T_WHITESPACE","    ",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","drupalGet",303],"(",["T_VARIABLE","$entity",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","urlInfo",303],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-form'",303],")",")",";",["T_WHITESPACE","\n    ",303],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","assertFieldByXPath",304],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/input[@name=\"content_translation[status]\" and @disabled=\"disabled\"]'",304],",",["T_WHITESPACE"," ",304],["T_STRING","TRUE",304],",",["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","'The last translation is published and cannot be unpublished.'",304],")",";",["T_WHITESPACE","\n  ",304],"}",["T_WHITESPACE","\n\n  ",305],["T_DOC_COMMENT","\/**\n   * Tests the translation authoring information.\n   *\/",307],["T_WHITESPACE","\n  ",309],["T_PROTECTED","protected",310],["T_WHITESPACE"," ",310],["T_FUNCTION","function",310],["T_WHITESPACE"," ",310],["T_STRING","doTestAuthoringInfo",310],"(",")",["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n    ",310],["T_VARIABLE","$storage",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","container",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","get",311],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",311],")",["T_WHITESPACE","\n      ",311],["T_OBJECT_OPERATOR","->",312],["T_STRING","getStorage",312],"(",["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","entityTypeId",312],")",";",["T_WHITESPACE","\n    ",312],["T_VARIABLE","$storage",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","resetCache",313],"(","[",["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","entityId",313],"]",")",";",["T_WHITESPACE","\n    ",313],["T_VARIABLE","$entity",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_VARIABLE","$storage",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","load",314],"(",["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","entityId",314],")",";",["T_WHITESPACE","\n    ",314],["T_VARIABLE","$values",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_ARRAY","array",315],"(",")",";",["T_WHITESPACE","\n\n    ",315],["T_COMMENT","\/\/ Post different authoring information for each translation.\n",317],["T_WHITESPACE","    ",318],["T_FOREACH","foreach",318],["T_WHITESPACE"," ",318],"(",["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","langcodes",318],["T_WHITESPACE"," ",318],["T_AS","as",318],["T_WHITESPACE"," ",318],["T_VARIABLE","$index",318],["T_WHITESPACE"," ",318],["T_DOUBLE_ARROW","=>",318],["T_WHITESPACE"," ",318],["T_VARIABLE","$langcode",318],")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n      ",318],["T_VARIABLE","$user",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","drupalCreateUser",319],"(",")",";",["T_WHITESPACE","\n      ",319],["T_VARIABLE","$values",320],"[",["T_VARIABLE","$langcode",320],"]",["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_ARRAY","array",320],"(",["T_WHITESPACE","\n        ",320],["T_CONSTANT_ENCAPSED_STRING","'uid'",321],["T_WHITESPACE"," ",321],["T_DOUBLE_ARROW","=>",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$user",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","id",321],"(",")",",",["T_WHITESPACE","\n        ",321],["T_CONSTANT_ENCAPSED_STRING","'created'",322],["T_WHITESPACE"," ",322],["T_DOUBLE_ARROW","=>",322],["T_WHITESPACE"," ",322],["T_STRING","REQUEST_TIME",322],["T_WHITESPACE"," ",322],"-",["T_WHITESPACE"," ",322],["T_STRING","mt_rand",322],"(",["T_LNUMBER","0",322],",",["T_WHITESPACE"," ",322],["T_LNUMBER","1000",322],")",",",["T_WHITESPACE","\n      ",322],")",";",["T_WHITESPACE","\n      ",323],["T_VARIABLE","$edit",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_ARRAY","array",324],"(",["T_WHITESPACE","\n        ",324],["T_CONSTANT_ENCAPSED_STRING","'content_translation[uid]'",325],["T_WHITESPACE"," ",325],["T_DOUBLE_ARROW","=>",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$user",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","getUsername",325],"(",")",",",["T_WHITESPACE","\n        ",325],["T_CONSTANT_ENCAPSED_STRING","'content_translation[created]'",326],["T_WHITESPACE"," ",326],["T_DOUBLE_ARROW","=>",326],["T_WHITESPACE"," ",326],["T_STRING","format_date",326],"(",["T_VARIABLE","$values",326],"[",["T_VARIABLE","$langcode",326],"]","[",["T_CONSTANT_ENCAPSED_STRING","'created'",326],"]",",",["T_WHITESPACE"," ",326],["T_CONSTANT_ENCAPSED_STRING","'custom'",326],",",["T_WHITESPACE"," ",326],["T_CONSTANT_ENCAPSED_STRING","'Y-m-d H:i:s O'",326],")",",",["T_WHITESPACE","\n      ",326],")",";",["T_WHITESPACE","\n      ",327],["T_VARIABLE","$url",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_VARIABLE","$entity",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","urlInfo",328],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-form'",328],",",["T_WHITESPACE"," ",328],["T_ARRAY","array",328],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",328],["T_WHITESPACE"," ",328],["T_DOUBLE_ARROW","=>",328],["T_WHITESPACE"," ",328],["T_STRING","ConfigurableLanguage",328],["T_DOUBLE_COLON","::",328],["T_STRING","load",328],"(",["T_VARIABLE","$langcode",328],")",")",")",";",["T_WHITESPACE","\n      ",328],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","drupalPostForm",329],"(",["T_VARIABLE","$url",329],",",["T_WHITESPACE"," ",329],["T_VARIABLE","$edit",329],",",["T_WHITESPACE"," ",329],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","getFormSubmitAction",329],"(",["T_VARIABLE","$entity",329],",",["T_WHITESPACE"," ",329],["T_VARIABLE","$langcode",329],")",")",";",["T_WHITESPACE","\n    ",329],"}",["T_WHITESPACE","\n\n    ",330],["T_VARIABLE","$storage",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","container",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","get",332],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",332],")",["T_WHITESPACE","\n      ",332],["T_OBJECT_OPERATOR","->",333],["T_STRING","getStorage",333],"(",["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","entityTypeId",333],")",";",["T_WHITESPACE","\n    ",333],["T_VARIABLE","$storage",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","resetCache",334],"(","[",["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","entityId",334],"]",")",";",["T_WHITESPACE","\n    ",334],["T_VARIABLE","$entity",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_VARIABLE","$storage",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","load",335],"(",["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","entityId",335],")",";",["T_WHITESPACE","\n    ",335],["T_FOREACH","foreach",336],["T_WHITESPACE"," ",336],"(",["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","langcodes",336],["T_WHITESPACE"," ",336],["T_AS","as",336],["T_WHITESPACE"," ",336],["T_VARIABLE","$langcode",336],")",["T_WHITESPACE"," ",336],"{",["T_WHITESPACE","\n      ",336],["T_VARIABLE","$metadata",337],["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","manager",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","getTranslationMetadata",337],"(",["T_VARIABLE","$entity",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","getTranslation",337],"(",["T_VARIABLE","$langcode",337],")",")",";",["T_WHITESPACE","\n      ",337],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","assertEqual",338],"(",["T_VARIABLE","$metadata",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","getAuthor",338],"(",")",["T_OBJECT_OPERATOR","->",338],["T_STRING","id",338],"(",")",",",["T_WHITESPACE"," ",338],["T_VARIABLE","$values",338],"[",["T_VARIABLE","$langcode",338],"]","[",["T_CONSTANT_ENCAPSED_STRING","'uid'",338],"]",",",["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","'Translation author correctly stored.'",338],")",";",["T_WHITESPACE","\n      ",338],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","assertEqual",339],"(",["T_VARIABLE","$metadata",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","getCreatedTime",339],"(",")",",",["T_WHITESPACE"," ",339],["T_VARIABLE","$values",339],"[",["T_VARIABLE","$langcode",339],"]","[",["T_CONSTANT_ENCAPSED_STRING","'created'",339],"]",",",["T_WHITESPACE"," ",339],["T_CONSTANT_ENCAPSED_STRING","'Translation date correctly stored.'",339],")",";",["T_WHITESPACE","\n    ",339],"}",["T_WHITESPACE","\n\n    ",340],["T_COMMENT","\/\/ Try to post non valid values and check that they are rejected.\n",342],["T_WHITESPACE","    ",343],["T_VARIABLE","$langcode",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_CONSTANT_ENCAPSED_STRING","'en'",343],";",["T_WHITESPACE","\n    ",343],["T_VARIABLE","$edit",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_ARRAY","array",344],"(",["T_WHITESPACE","\n      ",344],["T_COMMENT","\/\/ User names have by default length 8.\n",345],["T_WHITESPACE","      ",346],["T_CONSTANT_ENCAPSED_STRING","'content_translation[uid]'",346],["T_WHITESPACE"," ",346],["T_DOUBLE_ARROW","=>",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","randomMachineName",346],"(",["T_LNUMBER","12",346],")",",",["T_WHITESPACE","\n      ",346],["T_CONSTANT_ENCAPSED_STRING","'content_translation[created]'",347],["T_WHITESPACE"," ",347],["T_DOUBLE_ARROW","=>",347],["T_WHITESPACE"," ",347],["T_CONSTANT_ENCAPSED_STRING","'19\/11\/1978'",347],",",["T_WHITESPACE","\n    ",347],")",";",["T_WHITESPACE","\n    ",348],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","drupalPostForm",349],"(",["T_VARIABLE","$entity",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","urlInfo",349],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-form'",349],")",",",["T_WHITESPACE"," ",349],["T_VARIABLE","$edit",349],",",["T_WHITESPACE"," ",349],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","getFormSubmitAction",349],"(",["T_VARIABLE","$entity",349],",",["T_WHITESPACE"," ",349],["T_VARIABLE","$langcode",349],")",")",";",["T_WHITESPACE","\n    ",349],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","assertTrue",350],"(",["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","xpath",350],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/div[contains(@class, \"error\")]\/\/ul'",350],")",",",["T_WHITESPACE"," ",350],["T_CONSTANT_ENCAPSED_STRING","'Invalid values generate a list of form errors.'",350],")",";",["T_WHITESPACE","\n    ",350],["T_VARIABLE","$metadata",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","manager",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","getTranslationMetadata",351],"(",["T_VARIABLE","$entity",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","getTranslation",351],"(",["T_VARIABLE","$langcode",351],")",")",";",["T_WHITESPACE","\n    ",351],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","assertEqual",352],"(",["T_VARIABLE","$metadata",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","getAuthor",352],"(",")",["T_OBJECT_OPERATOR","->",352],["T_STRING","id",352],"(",")",",",["T_WHITESPACE"," ",352],["T_VARIABLE","$values",352],"[",["T_VARIABLE","$langcode",352],"]","[",["T_CONSTANT_ENCAPSED_STRING","'uid'",352],"]",",",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","'Translation author correctly kept.'",352],")",";",["T_WHITESPACE","\n    ",352],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","assertEqual",353],"(",["T_VARIABLE","$metadata",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","getCreatedTime",353],"(",")",",",["T_WHITESPACE"," ",353],["T_VARIABLE","$values",353],"[",["T_VARIABLE","$langcode",353],"]","[",["T_CONSTANT_ENCAPSED_STRING","'created'",353],"]",",",["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","'Translation date correctly kept.'",353],")",";",["T_WHITESPACE","\n  ",353],"}",["T_WHITESPACE","\n\n  ",354],["T_DOC_COMMENT","\/**\n   * Tests translation deletion.\n   *\/",356],["T_WHITESPACE","\n  ",358],["T_PROTECTED","protected",359],["T_WHITESPACE"," ",359],["T_FUNCTION","function",359],["T_WHITESPACE"," ",359],["T_STRING","doTestTranslationDeletion",359],"(",")",["T_WHITESPACE"," ",359],"{",["T_WHITESPACE","\n    ",359],["T_COMMENT","\/\/ Confirm and delete a translation.\n",360],["T_WHITESPACE","    ",361],["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","drupalLogin",361],"(",["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","translator",361],")",";",["T_WHITESPACE","\n    ",361],["T_VARIABLE","$langcode",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","'fr'",362],";",["T_WHITESPACE","\n    ",362],["T_VARIABLE","$storage",363],["T_WHITESPACE"," ",363],"=",["T_WHITESPACE"," ",363],["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","container",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","get",363],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",363],")",["T_WHITESPACE","\n      ",363],["T_OBJECT_OPERATOR","->",364],["T_STRING","getStorage",364],"(",["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","entityTypeId",364],")",";",["T_WHITESPACE","\n    ",364],["T_VARIABLE","$storage",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","resetCache",365],"(","[",["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","entityId",365],"]",")",";",["T_WHITESPACE","\n    ",365],["T_VARIABLE","$entity",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_VARIABLE","$storage",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","load",366],"(",["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","entityId",366],")",";",["T_WHITESPACE","\n    ",366],["T_VARIABLE","$language",367],["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_STRING","ConfigurableLanguage",367],["T_DOUBLE_COLON","::",367],["T_STRING","load",367],"(",["T_VARIABLE","$langcode",367],")",";",["T_WHITESPACE","\n    ",367],["T_VARIABLE","$url",368],["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],["T_VARIABLE","$entity",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","urlInfo",368],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-form'",368],",",["T_WHITESPACE"," ",368],["T_ARRAY","array",368],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",368],["T_WHITESPACE"," ",368],["T_DOUBLE_ARROW","=>",368],["T_WHITESPACE"," ",368],["T_VARIABLE","$language",368],")",")",";",["T_WHITESPACE","\n    ",368],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","drupalPostForm",369],"(",["T_VARIABLE","$url",369],",",["T_WHITESPACE"," ",369],["T_ARRAY","array",369],"(",")",",",["T_WHITESPACE"," ",369],["T_STRING","t",369],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete translation'",369],")",")",";",["T_WHITESPACE","\n    ",369],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","drupalPostForm",370],"(",["T_STRING","NULL",370],",",["T_WHITESPACE"," ",370],["T_ARRAY","array",370],"(",")",",",["T_WHITESPACE"," ",370],["T_STRING","t",370],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete @language translation'",370],",",["T_WHITESPACE"," ",370],["T_ARRAY","array",370],"(",["T_CONSTANT_ENCAPSED_STRING","'@language'",370],["T_WHITESPACE"," ",370],["T_DOUBLE_ARROW","=>",370],["T_WHITESPACE"," ",370],["T_VARIABLE","$language",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","getName",370],"(",")",")",")",")",";",["T_WHITESPACE","\n    ",370],["T_VARIABLE","$storage",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","resetCache",371],"(","[",["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","entityId",371],"]",")",";",["T_WHITESPACE","\n    ",371],["T_VARIABLE","$entity",372],["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_VARIABLE","$storage",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","load",372],"(",["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","entityId",372],",",["T_WHITESPACE"," ",372],["T_STRING","TRUE",372],")",";",["T_WHITESPACE","\n    ",372],["T_IF","if",373],["T_WHITESPACE"," ",373],"(",["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","assertTrue",373],"(",["T_STRING","is_object",373],"(",["T_VARIABLE","$entity",373],")",",",["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","'Entity found'",373],")",")",["T_WHITESPACE"," ",373],"{",["T_WHITESPACE","\n      ",373],["T_VARIABLE","$translations",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_VARIABLE","$entity",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","getTranslationLanguages",374],"(",")",";",["T_WHITESPACE","\n      ",374],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","assertTrue",375],"(",["T_STRING","count",375],"(",["T_VARIABLE","$translations",375],")",["T_WHITESPACE"," ",375],["T_IS_EQUAL","==",375],["T_WHITESPACE"," ",375],["T_LNUMBER","2",375],["T_WHITESPACE"," ",375],["T_BOOLEAN_AND","&&",375],["T_WHITESPACE"," ",375],["T_EMPTY","empty",375],"(",["T_VARIABLE","$translations",375],"[",["T_VARIABLE","$langcode",375],"]",")",",",["T_WHITESPACE"," ",375],["T_CONSTANT_ENCAPSED_STRING","'Translation successfully deleted.'",375],")",";",["T_WHITESPACE","\n    ",375],"}",["T_WHITESPACE","\n\n    ",376],["T_COMMENT","\/\/ Check that the translator cannot delete the original translation.\n",378],["T_WHITESPACE","    ",379],["T_VARIABLE","$args",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],"[",["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","entityTypeId",379],["T_WHITESPACE"," ",379],["T_DOUBLE_ARROW","=>",379],["T_WHITESPACE"," ",379],["T_VARIABLE","$entity",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","id",379],"(",")",",",["T_WHITESPACE"," ",379],["T_CONSTANT_ENCAPSED_STRING","'language'",379],["T_WHITESPACE"," ",379],["T_DOUBLE_ARROW","=>",379],["T_WHITESPACE"," ",379],["T_CONSTANT_ENCAPSED_STRING","'en'",379],"]",";",["T_WHITESPACE","\n    ",379],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","drupalGet",380],"(",["T_STRING","Url",380],["T_DOUBLE_COLON","::",380],["T_STRING","fromRoute",380],"(","\"",["T_ENCAPSED_AND_WHITESPACE","entity.",380],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","entityTypeId",380],["T_ENCAPSED_AND_WHITESPACE",".content_translation_delete",380],"\"",",",["T_WHITESPACE"," ",380],["T_VARIABLE","$args",380],")",")",";",["T_WHITESPACE","\n    ",380],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","assertResponse",381],"(",["T_LNUMBER","403",381],")",";",["T_WHITESPACE","\n  ",381],"}",["T_WHITESPACE","\n\n  ",382],["T_DOC_COMMENT","\/**\n   * Returns an array of entity field values to be tested.\n   *\/",384],["T_WHITESPACE","\n  ",386],["T_PROTECTED","protected",387],["T_WHITESPACE"," ",387],["T_FUNCTION","function",387],["T_WHITESPACE"," ",387],["T_STRING","getNewEntityValues",387],"(",["T_VARIABLE","$langcode",387],")",["T_WHITESPACE"," ",387],"{",["T_WHITESPACE","\n    ",387],["T_RETURN","return",388],["T_WHITESPACE"," ",388],["T_ARRAY","array",388],"(",["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","fieldName",388],["T_WHITESPACE"," ",388],["T_DOUBLE_ARROW","=>",388],["T_WHITESPACE"," ",388],["T_ARRAY","array",388],"(",["T_ARRAY","array",388],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",388],["T_WHITESPACE"," ",388],["T_DOUBLE_ARROW","=>",388],["T_WHITESPACE"," ",388],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","randomMachineName",388],"(",["T_LNUMBER","16",388],")",")",")",")",";",["T_WHITESPACE","\n  ",388],"}",["T_WHITESPACE","\n\n  ",389],["T_DOC_COMMENT","\/**\n   * Returns an edit array containing the values to be posted.\n   *\/",391],["T_WHITESPACE","\n  ",393],["T_PROTECTED","protected",394],["T_WHITESPACE"," ",394],["T_FUNCTION","function",394],["T_WHITESPACE"," ",394],["T_STRING","getEditValues",394],"(",["T_VARIABLE","$values",394],",",["T_WHITESPACE"," ",394],["T_VARIABLE","$langcode",394],",",["T_WHITESPACE"," ",394],["T_VARIABLE","$new",394],["T_WHITESPACE"," ",394],"=",["T_WHITESPACE"," ",394],["T_STRING","FALSE",394],")",["T_WHITESPACE"," ",394],"{",["T_WHITESPACE","\n    ",394],["T_VARIABLE","$edit",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_VARIABLE","$values",395],"[",["T_VARIABLE","$langcode",395],"]",";",["T_WHITESPACE","\n    ",395],["T_VARIABLE","$langcode",396],["T_WHITESPACE"," ",396],"=",["T_WHITESPACE"," ",396],["T_VARIABLE","$new",396],["T_WHITESPACE"," ",396],"?",["T_WHITESPACE"," ",396],["T_STRING","LanguageInterface",396],["T_DOUBLE_COLON","::",396],["T_STRING","LANGCODE_NOT_SPECIFIED",396],["T_WHITESPACE"," ",396],":",["T_WHITESPACE"," ",396],["T_VARIABLE","$langcode",396],";",["T_WHITESPACE","\n    ",396],["T_FOREACH","foreach",397],["T_WHITESPACE"," ",397],"(",["T_VARIABLE","$values",397],"[",["T_VARIABLE","$langcode",397],"]",["T_WHITESPACE"," ",397],["T_AS","as",397],["T_WHITESPACE"," ",397],["T_VARIABLE","$property",397],["T_WHITESPACE"," ",397],["T_DOUBLE_ARROW","=>",397],["T_WHITESPACE"," ",397],["T_VARIABLE","$value",397],")",["T_WHITESPACE"," ",397],"{",["T_WHITESPACE","\n      ",397],["T_IF","if",398],["T_WHITESPACE"," ",398],"(",["T_STRING","is_array",398],"(",["T_VARIABLE","$value",398],")",")",["T_WHITESPACE"," ",398],"{",["T_WHITESPACE","\n        ",398],["T_VARIABLE","$edit",399],"[","\"",["T_CURLY_OPEN","{",399],["T_VARIABLE","$property",399],"}",["T_ENCAPSED_AND_WHITESPACE","[0][value]",399],"\"","]",["T_WHITESPACE"," ",399],"=",["T_WHITESPACE"," ",399],["T_VARIABLE","$value",399],"[",["T_LNUMBER","0",399],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",399],"]",";",["T_WHITESPACE","\n        ",399],["T_UNSET","unset",400],"(",["T_VARIABLE","$edit",400],"[",["T_VARIABLE","$property",400],"]",")",";",["T_WHITESPACE","\n      ",400],"}",["T_WHITESPACE","\n    ",401],"}",["T_WHITESPACE","\n    ",402],["T_RETURN","return",403],["T_WHITESPACE"," ",403],["T_VARIABLE","$edit",403],";",["T_WHITESPACE","\n  ",403],"}",["T_WHITESPACE","\n\n  ",404],["T_DOC_COMMENT","\/**\n   * Returns the form action value when submitting a new translation.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityInterface $entity\n   *   The entity being tested.\n   * @param string $langcode\n   *   Language code for the form.\n   *\n   * @return string\n   *   Name of the button to hit.\n   *\/",406],["T_WHITESPACE","\n  ",416],["T_PROTECTED","protected",417],["T_WHITESPACE"," ",417],["T_FUNCTION","function",417],["T_WHITESPACE"," ",417],["T_STRING","getFormSubmitActionForNewTranslation",417],"(",["T_STRING","EntityInterface",417],["T_WHITESPACE"," ",417],["T_VARIABLE","$entity",417],",",["T_WHITESPACE"," ",417],["T_VARIABLE","$langcode",417],")",["T_WHITESPACE"," ",417],"{",["T_WHITESPACE","\n    ",417],["T_VARIABLE","$entity",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","addTranslation",418],"(",["T_VARIABLE","$langcode",418],",",["T_WHITESPACE"," ",418],["T_VARIABLE","$entity",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","toArray",418],"(",")",")",";",["T_WHITESPACE","\n    ",418],["T_RETURN","return",419],["T_WHITESPACE"," ",419],["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","getFormSubmitAction",419],"(",["T_VARIABLE","$entity",419],",",["T_WHITESPACE"," ",419],["T_VARIABLE","$langcode",419],")",";",["T_WHITESPACE","\n  ",419],"}",["T_WHITESPACE","\n\n  ",420],["T_DOC_COMMENT","\/**\n   * Returns the form action value to be used to submit the entity form.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityInterface $entity\n   *   The entity being tested.\n   * @param string $langcode\n   *   Language code for the form.\n   *\n   * @return string\n   *   Name of the button to hit.\n   *\/",422],["T_WHITESPACE","\n  ",432],["T_PROTECTED","protected",433],["T_WHITESPACE"," ",433],["T_FUNCTION","function",433],["T_WHITESPACE"," ",433],["T_STRING","getFormSubmitAction",433],"(",["T_STRING","EntityInterface",433],["T_WHITESPACE"," ",433],["T_VARIABLE","$entity",433],",",["T_WHITESPACE"," ",433],["T_VARIABLE","$langcode",433],")",["T_WHITESPACE"," ",433],"{",["T_WHITESPACE","\n    ",433],["T_RETURN","return",434],["T_WHITESPACE"," ",434],["T_STRING","t",434],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",434],")",["T_WHITESPACE"," ",434],".",["T_WHITESPACE"," ",434],["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","getFormSubmitSuffix",434],"(",["T_VARIABLE","$entity",434],",",["T_WHITESPACE"," ",434],["T_VARIABLE","$langcode",434],")",";",["T_WHITESPACE","\n  ",434],"}",["T_WHITESPACE","\n\n  ",435],["T_DOC_COMMENT","\/**\n   * Returns appropriate submit button suffix based on translatability.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityInterface $entity\n   *   The entity being tested.\n   * @param string $langcode\n   *   Language code for the form.\n   *\n   * @return string\n   *   Submit button suffix based on translatability.\n   *\/",437],["T_WHITESPACE","\n  ",447],["T_PROTECTED","protected",448],["T_WHITESPACE"," ",448],["T_FUNCTION","function",448],["T_WHITESPACE"," ",448],["T_STRING","getFormSubmitSuffix",448],"(",["T_STRING","EntityInterface",448],["T_WHITESPACE"," ",448],["T_VARIABLE","$entity",448],",",["T_WHITESPACE"," ",448],["T_VARIABLE","$langcode",448],")",["T_WHITESPACE"," ",448],"{",["T_WHITESPACE","\n    ",448],["T_RETURN","return",449],["T_WHITESPACE"," ",449],["T_CONSTANT_ENCAPSED_STRING","''",449],";",["T_WHITESPACE","\n  ",449],"}",["T_WHITESPACE","\n\n  ",450],["T_DOC_COMMENT","\/**\n   * Returns the translation object to use to retrieve the translated values.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityInterface $entity\n   *   The entity being tested.\n   * @param string $langcode\n   *   The language code identifying the translation to be retrieved.\n   *\n   * @return \\Drupal\\Core\\TypedData\\TranslatableInterface\n   *   The translation object to act on.\n   *\/",452],["T_WHITESPACE","\n  ",462],["T_PROTECTED","protected",463],["T_WHITESPACE"," ",463],["T_FUNCTION","function",463],["T_WHITESPACE"," ",463],["T_STRING","getTranslation",463],"(",["T_STRING","EntityInterface",463],["T_WHITESPACE"," ",463],["T_VARIABLE","$entity",463],",",["T_WHITESPACE"," ",463],["T_VARIABLE","$langcode",463],")",["T_WHITESPACE"," ",463],"{",["T_WHITESPACE","\n    ",463],["T_RETURN","return",464],["T_WHITESPACE"," ",464],["T_VARIABLE","$entity",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","getTranslation",464],"(",["T_VARIABLE","$langcode",464],")",";",["T_WHITESPACE","\n  ",464],"}",["T_WHITESPACE","\n\n  ",465],["T_DOC_COMMENT","\/**\n   * Returns the value for the specified property in the given language.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityInterface $translation\n   *   The translation object the property value should be retrieved from.\n   * @param string $property\n   *   The property name.\n   * @param string $langcode\n   *   The property value.\n   *\n   * @return\n   *   The property value.\n   *\/",467],["T_WHITESPACE","\n  ",479],["T_PROTECTED","protected",480],["T_WHITESPACE"," ",480],["T_FUNCTION","function",480],["T_WHITESPACE"," ",480],["T_STRING","getValue",480],"(",["T_STRING","EntityInterface",480],["T_WHITESPACE"," ",480],["T_VARIABLE","$translation",480],",",["T_WHITESPACE"," ",480],["T_VARIABLE","$property",480],",",["T_WHITESPACE"," ",480],["T_VARIABLE","$langcode",480],")",["T_WHITESPACE"," ",480],"{",["T_WHITESPACE","\n    ",480],["T_VARIABLE","$key",481],["T_WHITESPACE"," ",481],"=",["T_WHITESPACE"," ",481],["T_VARIABLE","$property",481],["T_WHITESPACE"," ",481],["T_IS_EQUAL","==",481],["T_WHITESPACE"," ",481],["T_CONSTANT_ENCAPSED_STRING","'user_id'",481],["T_WHITESPACE"," ",481],"?",["T_WHITESPACE"," ",481],["T_CONSTANT_ENCAPSED_STRING","'target_id'",481],["T_WHITESPACE"," ",481],":",["T_WHITESPACE"," ",481],["T_CONSTANT_ENCAPSED_STRING","'value'",481],";",["T_WHITESPACE","\n    ",481],["T_RETURN","return",482],["T_WHITESPACE"," ",482],["T_VARIABLE","$translation",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","get",482],"(",["T_VARIABLE","$property",482],")",["T_OBJECT_OPERATOR","->",482],"{",["T_VARIABLE","$key",482],"}",";",["T_WHITESPACE","\n  ",482],"}",["T_WHITESPACE","\n\n  ",483],["T_DOC_COMMENT","\/**\n   * Returns the name of the field that implements the changed timestamp.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityInterface $entity\n   *   The entity being tested.\n   *\n   * @return string\n   *   The field name.\n   *\/",485],["T_WHITESPACE","\n  ",493],["T_PROTECTED","protected",494],["T_WHITESPACE"," ",494],["T_FUNCTION","function",494],["T_WHITESPACE"," ",494],["T_STRING","getChangedFieldName",494],"(",["T_VARIABLE","$entity",494],")",["T_WHITESPACE"," ",494],"{",["T_WHITESPACE","\n    ",494],["T_RETURN","return",495],["T_WHITESPACE"," ",495],["T_VARIABLE","$entity",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","hasField",495],"(",["T_CONSTANT_ENCAPSED_STRING","'content_translation_changed'",495],")",["T_WHITESPACE"," ",495],"?",["T_WHITESPACE"," ",495],["T_CONSTANT_ENCAPSED_STRING","'content_translation_changed'",495],["T_WHITESPACE"," ",495],":",["T_WHITESPACE"," ",495],["T_CONSTANT_ENCAPSED_STRING","'changed'",495],";",["T_WHITESPACE","\n  ",495],"}",["T_WHITESPACE","\n\n  ",496],["T_DOC_COMMENT","\/**\n   * Tests edit content translation.\n   *\/",498],["T_WHITESPACE","\n  ",500],["T_PROTECTED","protected",501],["T_WHITESPACE"," ",501],["T_FUNCTION","function",501],["T_WHITESPACE"," ",501],["T_STRING","doTestTranslationEdit",501],"(",")",["T_WHITESPACE"," ",501],"{",["T_WHITESPACE","\n    ",501],["T_VARIABLE","$storage",502],["T_WHITESPACE"," ",502],"=",["T_WHITESPACE"," ",502],["T_VARIABLE","$this",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","container",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","get",502],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",502],")",["T_WHITESPACE","\n      ",502],["T_OBJECT_OPERATOR","->",503],["T_STRING","getStorage",503],"(",["T_VARIABLE","$this",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","entityTypeId",503],")",";",["T_WHITESPACE","\n    ",503],["T_VARIABLE","$storage",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","resetCache",504],"(","[",["T_VARIABLE","$this",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","entityId",504],"]",")",";",["T_WHITESPACE","\n    ",504],["T_VARIABLE","$entity",505],["T_WHITESPACE"," ",505],"=",["T_WHITESPACE"," ",505],["T_VARIABLE","$storage",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","load",505],"(",["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","entityId",505],")",";",["T_WHITESPACE","\n    ",505],["T_VARIABLE","$languages",506],["T_WHITESPACE"," ",506],"=",["T_WHITESPACE"," ",506],["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","container",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","get",506],"(",["T_CONSTANT_ENCAPSED_STRING","'language_manager'",506],")",["T_OBJECT_OPERATOR","->",506],["T_STRING","getLanguages",506],"(",")",";",["T_WHITESPACE","\n\n    ",506],["T_FOREACH","foreach",508],["T_WHITESPACE"," ",508],"(",["T_VARIABLE","$this",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","langcodes",508],["T_WHITESPACE"," ",508],["T_AS","as",508],["T_WHITESPACE"," ",508],["T_VARIABLE","$langcode",508],")",["T_WHITESPACE"," ",508],"{",["T_WHITESPACE","\n      ",508],["T_COMMENT","\/\/ We only want to test the title for non-english translations.\n",509],["T_WHITESPACE","      ",510],["T_IF","if",510],["T_WHITESPACE"," ",510],"(",["T_VARIABLE","$langcode",510],["T_WHITESPACE"," ",510],["T_IS_NOT_EQUAL","!=",510],["T_WHITESPACE"," ",510],["T_CONSTANT_ENCAPSED_STRING","'en'",510],")",["T_WHITESPACE"," ",510],"{",["T_WHITESPACE","\n        ",510],["T_VARIABLE","$options",511],["T_WHITESPACE"," ",511],"=",["T_WHITESPACE"," ",511],["T_ARRAY","array",511],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",511],["T_WHITESPACE"," ",511],["T_DOUBLE_ARROW","=>",511],["T_WHITESPACE"," ",511],["T_VARIABLE","$languages",511],"[",["T_VARIABLE","$langcode",511],"]",")",";",["T_WHITESPACE","\n        ",511],["T_VARIABLE","$url",512],["T_WHITESPACE"," ",512],"=",["T_WHITESPACE"," ",512],["T_VARIABLE","$entity",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","urlInfo",512],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-form'",512],",",["T_WHITESPACE"," ",512],["T_VARIABLE","$options",512],")",";",["T_WHITESPACE","\n        ",512],["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","drupalGet",513],"(",["T_VARIABLE","$url",513],")",";",["T_WHITESPACE","\n\n        ",513],["T_VARIABLE","$this",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","assertRaw",515],"(",["T_VARIABLE","$entity",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","getTranslation",515],"(",["T_VARIABLE","$langcode",515],")",["T_OBJECT_OPERATOR","->",515],["T_STRING","label",515],"(",")",")",";",["T_WHITESPACE","\n      ",515],"}",["T_WHITESPACE","\n    ",516],"}",["T_WHITESPACE","\n  ",517],"}",["T_WHITESPACE","\n\n  ",518],["T_DOC_COMMENT","\/**\n   * Tests the basic translation workflow.\n   *\/",520],["T_WHITESPACE","\n  ",522],["T_PROTECTED","protected",523],["T_WHITESPACE"," ",523],["T_FUNCTION","function",523],["T_WHITESPACE"," ",523],["T_STRING","doTestTranslationChanged",523],"(",")",["T_WHITESPACE"," ",523],"{",["T_WHITESPACE","\n    ",523],["T_VARIABLE","$storage",524],["T_WHITESPACE"," ",524],"=",["T_WHITESPACE"," ",524],["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","container",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","get",524],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",524],")",["T_WHITESPACE","\n      ",524],["T_OBJECT_OPERATOR","->",525],["T_STRING","getStorage",525],"(",["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","entityTypeId",525],")",";",["T_WHITESPACE","\n    ",525],["T_VARIABLE","$storage",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","resetCache",526],"(","[",["T_VARIABLE","$this",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","entityId",526],"]",")",";",["T_WHITESPACE","\n    ",526],["T_VARIABLE","$entity",527],["T_WHITESPACE"," ",527],"=",["T_WHITESPACE"," ",527],["T_VARIABLE","$storage",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","load",527],"(",["T_VARIABLE","$this",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","entityId",527],")",";",["T_WHITESPACE","\n    ",527],["T_VARIABLE","$changed_field_name",528],["T_WHITESPACE"," ",528],"=",["T_WHITESPACE"," ",528],["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","getChangedFieldName",528],"(",["T_VARIABLE","$entity",528],")",";",["T_WHITESPACE","\n    ",528],["T_VARIABLE","$definition",529],["T_WHITESPACE"," ",529],"=",["T_WHITESPACE"," ",529],["T_VARIABLE","$entity",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","getFieldDefinition",529],"(",["T_VARIABLE","$changed_field_name",529],")",";",["T_WHITESPACE","\n    ",529],["T_VARIABLE","$config",530],["T_WHITESPACE"," ",530],"=",["T_WHITESPACE"," ",530],["T_VARIABLE","$definition",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","getConfig",530],"(",["T_VARIABLE","$entity",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","bundle",530],"(",")",")",";",["T_WHITESPACE","\n\n    ",530],["T_FOREACH","foreach",532],["T_WHITESPACE"," ",532],"(","[",["T_STRING","FALSE",532],",",["T_WHITESPACE"," ",532],["T_STRING","TRUE",532],"]",["T_WHITESPACE"," ",532],["T_AS","as",532],["T_WHITESPACE"," ",532],["T_VARIABLE","$translatable_changed_field",532],")",["T_WHITESPACE"," ",532],"{",["T_WHITESPACE","\n      ",532],["T_IF","if",533],["T_WHITESPACE"," ",533],"(",["T_VARIABLE","$definition",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","isTranslatable",533],"(",")",")",["T_WHITESPACE"," ",533],"{",["T_WHITESPACE","\n        ",533],["T_COMMENT","\/\/ For entities defining a translatable changed field we want to test\n",534],["T_WHITESPACE","        ",535],["T_COMMENT","\/\/ the correct behavior of that field even if the translatability is\n",535],["T_WHITESPACE","        ",536],["T_COMMENT","\/\/ revoked. In that case the changed timestamp should be synchronized\n",536],["T_WHITESPACE","        ",537],["T_COMMENT","\/\/ across all translations.\n",537],["T_WHITESPACE","        ",538],["T_VARIABLE","$config",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","setTranslatable",538],"(",["T_VARIABLE","$translatable_changed_field",538],")",";",["T_WHITESPACE","\n        ",538],["T_VARIABLE","$config",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","save",539],"(",")",";",["T_WHITESPACE","\n      ",539],"}",["T_WHITESPACE","\n      ",540],["T_ELSEIF","elseif",541],["T_WHITESPACE"," ",541],"(",["T_VARIABLE","$translatable_changed_field",541],")",["T_WHITESPACE"," ",541],"{",["T_WHITESPACE","\n        ",541],["T_COMMENT","\/\/ For entities defining a non-translatable changed field we cannot\n",542],["T_WHITESPACE","        ",543],["T_COMMENT","\/\/ declare the field as translatable on the fly by modifying its config\n",543],["T_WHITESPACE","        ",544],["T_COMMENT","\/\/ because the schema doesn't support this.\n",544],["T_WHITESPACE","        ",545],["T_BREAK","break",545],";",["T_WHITESPACE","\n      ",545],"}",["T_WHITESPACE","\n\n      ",546],["T_FOREACH","foreach",548],["T_WHITESPACE"," ",548],"(",["T_VARIABLE","$entity",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","getTranslationLanguages",548],"(",")",["T_WHITESPACE"," ",548],["T_AS","as",548],["T_WHITESPACE"," ",548],["T_VARIABLE","$language",548],")",["T_WHITESPACE"," ",548],"{",["T_WHITESPACE","\n        ",548],["T_COMMENT","\/\/ Ensure different timestamps.\n",549],["T_WHITESPACE","        ",550],["T_STRING","sleep",550],"(",["T_LNUMBER","1",550],")",";",["T_WHITESPACE","\n\n        ",550],["T_VARIABLE","$langcode",552],["T_WHITESPACE"," ",552],"=",["T_WHITESPACE"," ",552],["T_VARIABLE","$language",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","getId",552],"(",")",";",["T_WHITESPACE","\n\n        ",552],["T_VARIABLE","$edit",554],["T_WHITESPACE"," ",554],"=",["T_WHITESPACE"," ",554],["T_ARRAY","array",554],"(",["T_WHITESPACE","\n          ",554],["T_VARIABLE","$this",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","fieldName",555],["T_WHITESPACE"," ",555],".",["T_WHITESPACE"," ",555],["T_CONSTANT_ENCAPSED_STRING","'[0][value]'",555],["T_WHITESPACE"," ",555],["T_DOUBLE_ARROW","=>",555],["T_WHITESPACE"," ",555],["T_VARIABLE","$this",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","randomString",555],"(",")",",",["T_WHITESPACE","\n        ",555],")",";",["T_WHITESPACE","\n        ",556],["T_VARIABLE","$edit_path",557],["T_WHITESPACE"," ",557],"=",["T_WHITESPACE"," ",557],["T_VARIABLE","$entity",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","urlInfo",557],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-form'",557],",",["T_WHITESPACE"," ",557],["T_ARRAY","array",557],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",557],["T_WHITESPACE"," ",557],["T_DOUBLE_ARROW","=>",557],["T_WHITESPACE"," ",557],["T_VARIABLE","$language",557],")",")",";",["T_WHITESPACE","\n        ",557],["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","drupalPostForm",558],"(",["T_VARIABLE","$edit_path",558],",",["T_WHITESPACE"," ",558],["T_VARIABLE","$edit",558],",",["T_WHITESPACE"," ",558],["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","getFormSubmitAction",558],"(",["T_VARIABLE","$entity",558],",",["T_WHITESPACE"," ",558],["T_VARIABLE","$langcode",558],")",")",";",["T_WHITESPACE","\n\n        ",558],["T_VARIABLE","$storage",560],["T_WHITESPACE"," ",560],"=",["T_WHITESPACE"," ",560],["T_VARIABLE","$this",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","container",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","get",560],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",560],")",["T_WHITESPACE","\n          ",560],["T_OBJECT_OPERATOR","->",561],["T_STRING","getStorage",561],"(",["T_VARIABLE","$this",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","entityTypeId",561],")",";",["T_WHITESPACE","\n        ",561],["T_VARIABLE","$storage",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","resetCache",562],"(","[",["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","entityId",562],"]",")",";",["T_WHITESPACE","\n        ",562],["T_VARIABLE","$entity",563],["T_WHITESPACE"," ",563],"=",["T_WHITESPACE"," ",563],["T_VARIABLE","$storage",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","load",563],"(",["T_VARIABLE","$this",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","entityId",563],")",";",["T_WHITESPACE","\n        ",563],["T_VARIABLE","$this",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","assertEqual",564],"(",["T_WHITESPACE","\n          ",564],["T_VARIABLE","$entity",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","getChangedTimeAcrossTranslations",565],"(",")",",",["T_WHITESPACE"," ",565],["T_VARIABLE","$entity",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","getTranslation",565],"(",["T_VARIABLE","$langcode",565],")",["T_OBJECT_OPERATOR","->",565],["T_STRING","getChangedTime",565],"(",")",",",["T_WHITESPACE","\n          ",565],["T_STRING","format_string",566],"(",["T_CONSTANT_ENCAPSED_STRING","'Changed time for language %language is the latest change over all languages.'",566],",",["T_WHITESPACE"," ",566],["T_ARRAY","array",566],"(",["T_CONSTANT_ENCAPSED_STRING","'%language'",566],["T_WHITESPACE"," ",566],["T_DOUBLE_ARROW","=>",566],["T_WHITESPACE"," ",566],["T_VARIABLE","$language",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","getName",566],"(",")",")",")",["T_WHITESPACE","\n        ",566],")",";",["T_WHITESPACE","\n      ",567],"}",["T_WHITESPACE","\n\n      ",568],["T_VARIABLE","$timestamps",570],["T_WHITESPACE"," ",570],"=",["T_WHITESPACE"," ",570],["T_ARRAY","array",570],"(",")",";",["T_WHITESPACE","\n      ",570],["T_FOREACH","foreach",571],["T_WHITESPACE"," ",571],"(",["T_VARIABLE","$entity",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","getTranslationLanguages",571],"(",")",["T_WHITESPACE"," ",571],["T_AS","as",571],["T_WHITESPACE"," ",571],["T_VARIABLE","$language",571],")",["T_WHITESPACE"," ",571],"{",["T_WHITESPACE","\n        ",571],["T_VARIABLE","$next_timestamp",572],["T_WHITESPACE"," ",572],"=",["T_WHITESPACE"," ",572],["T_VARIABLE","$entity",572],["T_OBJECT_OPERATOR","->",572],["T_STRING","getTranslation",572],"(",["T_VARIABLE","$language",572],["T_OBJECT_OPERATOR","->",572],["T_STRING","getId",572],"(",")",")",["T_OBJECT_OPERATOR","->",572],["T_STRING","getChangedTime",572],"(",")",";",["T_WHITESPACE","\n        ",572],["T_IF","if",573],["T_WHITESPACE"," ",573],"(","!",["T_STRING","in_array",573],"(",["T_VARIABLE","$next_timestamp",573],",",["T_WHITESPACE"," ",573],["T_VARIABLE","$timestamps",573],")",")",["T_WHITESPACE"," ",573],"{",["T_WHITESPACE","\n          ",573],["T_VARIABLE","$timestamps",574],"[","]",["T_WHITESPACE"," ",574],"=",["T_WHITESPACE"," ",574],["T_VARIABLE","$next_timestamp",574],";",["T_WHITESPACE","\n        ",574],"}",["T_WHITESPACE","\n      ",575],"}",["T_WHITESPACE","\n\n      ",576],["T_IF","if",578],["T_WHITESPACE"," ",578],"(",["T_VARIABLE","$translatable_changed_field",578],")",["T_WHITESPACE"," ",578],"{",["T_WHITESPACE","\n        ",578],["T_VARIABLE","$this",579],["T_OBJECT_OPERATOR","->",579],["T_STRING","assertEqual",579],"(",["T_WHITESPACE","\n          ",579],["T_STRING","count",580],"(",["T_VARIABLE","$timestamps",580],")",",",["T_WHITESPACE"," ",580],["T_STRING","count",580],"(",["T_VARIABLE","$entity",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","getTranslationLanguages",580],"(",")",")",",",["T_WHITESPACE","\n          ",580],["T_CONSTANT_ENCAPSED_STRING","'All timestamps from all languages are different.'",581],["T_WHITESPACE","\n        ",581],")",";",["T_WHITESPACE","\n      ",582],"}",["T_WHITESPACE","\n      ",583],["T_ELSE","else",584],["T_WHITESPACE"," ",584],"{",["T_WHITESPACE","\n        ",584],["T_VARIABLE","$this",585],["T_OBJECT_OPERATOR","->",585],["T_STRING","assertEqual",585],"(",["T_WHITESPACE","\n          ",585],["T_STRING","count",586],"(",["T_VARIABLE","$timestamps",586],")",",",["T_WHITESPACE"," ",586],["T_LNUMBER","1",586],",",["T_WHITESPACE","\n          ",586],["T_CONSTANT_ENCAPSED_STRING","'All timestamps from all languages are identical.'",587],["T_WHITESPACE","\n        ",587],")",";",["T_WHITESPACE","\n      ",588],"}",["T_WHITESPACE","\n    ",589],"}",["T_WHITESPACE","\n  ",590],"}",["T_WHITESPACE","\n\n  ",591],["T_DOC_COMMENT","\/**\n   * Test the changed time after API and FORM save without changes.\n   *\/",593],["T_WHITESPACE","\n  ",595],["T_PUBLIC","public",596],["T_WHITESPACE"," ",596],["T_FUNCTION","function",596],["T_WHITESPACE"," ",596],["T_STRING","doTestChangedTimeAfterSaveWithoutChanges",596],"(",")",["T_WHITESPACE"," ",596],"{",["T_WHITESPACE","\n    ",596],["T_VARIABLE","$storage",597],["T_WHITESPACE"," ",597],"=",["T_WHITESPACE"," ",597],["T_VARIABLE","$this",597],["T_OBJECT_OPERATOR","->",597],["T_STRING","container",597],["T_OBJECT_OPERATOR","->",597],["T_STRING","get",597],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",597],")",["T_WHITESPACE","\n      ",597],["T_OBJECT_OPERATOR","->",598],["T_STRING","getStorage",598],"(",["T_VARIABLE","$this",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","entityTypeId",598],")",";",["T_WHITESPACE","\n    ",598],["T_VARIABLE","$storage",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","resetCache",599],"(","[",["T_VARIABLE","$this",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","entityId",599],"]",")",";",["T_WHITESPACE","\n    ",599],["T_VARIABLE","$entity",600],["T_WHITESPACE"," ",600],"=",["T_WHITESPACE"," ",600],["T_VARIABLE","$storage",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","load",600],"(",["T_VARIABLE","$this",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","entityId",600],")",";",["T_WHITESPACE","\n    ",600],["T_COMMENT","\/\/ Test only entities, which implement the EntityChangedInterface.\n",601],["T_WHITESPACE","    ",602],["T_IF","if",602],["T_WHITESPACE"," ",602],"(",["T_VARIABLE","$entity",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","getEntityType",602],"(",")",["T_OBJECT_OPERATOR","->",602],["T_STRING","isSubclassOf",602],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Entity\\EntityChangedInterface'",602],")",")",["T_WHITESPACE"," ",602],"{",["T_WHITESPACE","\n      ",602],["T_VARIABLE","$changed_timestamp",603],["T_WHITESPACE"," ",603],"=",["T_WHITESPACE"," ",603],["T_VARIABLE","$entity",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","getChangedTime",603],"(",")",";",["T_WHITESPACE","\n\n      ",603],["T_VARIABLE","$entity",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","save",605],"(",")",";",["T_WHITESPACE","\n      ",605],["T_VARIABLE","$storage",606],["T_WHITESPACE"," ",606],"=",["T_WHITESPACE"," ",606],["T_VARIABLE","$this",606],["T_OBJECT_OPERATOR","->",606],["T_STRING","container",606],["T_OBJECT_OPERATOR","->",606],["T_STRING","get",606],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",606],")",["T_WHITESPACE","\n        ",606],["T_OBJECT_OPERATOR","->",607],["T_STRING","getStorage",607],"(",["T_VARIABLE","$this",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","entityTypeId",607],")",";",["T_WHITESPACE","\n      ",607],["T_VARIABLE","$storage",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","resetCache",608],"(","[",["T_VARIABLE","$this",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","entityId",608],"]",")",";",["T_WHITESPACE","\n      ",608],["T_VARIABLE","$entity",609],["T_WHITESPACE"," ",609],"=",["T_WHITESPACE"," ",609],["T_VARIABLE","$storage",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","load",609],"(",["T_VARIABLE","$this",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","entityId",609],")",";",["T_WHITESPACE","\n      ",609],["T_VARIABLE","$this",610],["T_OBJECT_OPERATOR","->",610],["T_STRING","assertEqual",610],"(",["T_VARIABLE","$changed_timestamp",610],",",["T_WHITESPACE"," ",610],["T_VARIABLE","$entity",610],["T_OBJECT_OPERATOR","->",610],["T_STRING","getChangedTime",610],"(",")",",",["T_WHITESPACE"," ",610],["T_CONSTANT_ENCAPSED_STRING","'The entity\\'s changed time wasn\\'t updated after API save without changes.'",610],")",";",["T_WHITESPACE","\n\n      ",610],["T_COMMENT","\/\/ Ensure different save timestamps.\n",612],["T_WHITESPACE","      ",613],["T_STRING","sleep",613],"(",["T_LNUMBER","1",613],")",";",["T_WHITESPACE","\n\n      ",613],["T_COMMENT","\/\/ Save the entity on the regular edit form.\n",615],["T_WHITESPACE","      ",616],["T_VARIABLE","$language",616],["T_WHITESPACE"," ",616],"=",["T_WHITESPACE"," ",616],["T_VARIABLE","$entity",616],["T_OBJECT_OPERATOR","->",616],["T_STRING","language",616],"(",")",";",["T_WHITESPACE","\n      ",616],["T_VARIABLE","$edit_path",617],["T_WHITESPACE"," ",617],"=",["T_WHITESPACE"," ",617],["T_VARIABLE","$entity",617],["T_OBJECT_OPERATOR","->",617],["T_STRING","urlInfo",617],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-form'",617],",",["T_WHITESPACE"," ",617],["T_ARRAY","array",617],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",617],["T_WHITESPACE"," ",617],["T_DOUBLE_ARROW","=>",617],["T_WHITESPACE"," ",617],["T_VARIABLE","$language",617],")",")",";",["T_WHITESPACE","\n      ",617],["T_VARIABLE","$this",618],["T_OBJECT_OPERATOR","->",618],["T_STRING","drupalPostForm",618],"(",["T_VARIABLE","$edit_path",618],",",["T_WHITESPACE"," ",618],"[","]",",",["T_WHITESPACE"," ",618],["T_VARIABLE","$this",618],["T_OBJECT_OPERATOR","->",618],["T_STRING","getFormSubmitAction",618],"(",["T_VARIABLE","$entity",618],",",["T_WHITESPACE"," ",618],["T_VARIABLE","$language",618],["T_OBJECT_OPERATOR","->",618],["T_STRING","getId",618],"(",")",")",")",";",["T_WHITESPACE","\n\n      ",618],["T_VARIABLE","$storage",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","resetCache",620],"(","[",["T_VARIABLE","$this",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","entityId",620],"]",")",";",["T_WHITESPACE","\n      ",620],["T_VARIABLE","$entity",621],["T_WHITESPACE"," ",621],"=",["T_WHITESPACE"," ",621],["T_VARIABLE","$storage",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","load",621],"(",["T_VARIABLE","$this",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","entityId",621],")",";",["T_WHITESPACE","\n      ",621],["T_VARIABLE","$this",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","assertNotEqual",622],"(",["T_VARIABLE","$changed_timestamp",622],",",["T_WHITESPACE"," ",622],["T_VARIABLE","$entity",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","getChangedTime",622],"(",")",",",["T_WHITESPACE"," ",622],["T_CONSTANT_ENCAPSED_STRING","'The entity\\'s changed time was updated after form save without changes.'",622],")",";",["T_WHITESPACE","\n    ",622],"}",["T_WHITESPACE","\n  ",623],"}",["T_WHITESPACE","\n\n",624],"}",["T_WHITESPACE","\n",626]]