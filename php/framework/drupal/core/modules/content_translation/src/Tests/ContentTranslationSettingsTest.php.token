[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","content_translation",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","comment",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Plugin",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Field",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FieldType",5],["T_NS_SEPARATOR","\\",5],["T_STRING","CommentItemInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","comment",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Tests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CommentTestTrait",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Field",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","BaseFieldOverride",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Language",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Language",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","field",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","FieldConfig",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","language",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Entity",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ContentLanguageSettings",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","simpletest",11],["T_NS_SEPARATOR","\\",11],["T_STRING","WebTestBase",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Tests the content translation settings UI.\n *\n * @group content_translation\n *\/",13],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","ContentTranslationSettingsTest",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_STRING","WebTestBase",18],["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n\n  ",18],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","CommentTestTrait",20],";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",22],["T_WHITESPACE","\n  ",26],["T_PUBLIC","public",27],["T_WHITESPACE"," ",27],["T_STATIC","static",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$modules",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_ARRAY","array",27],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'content_translation'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'node'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'comment'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'field_ui'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",27],")",";",["T_WHITESPACE","\n\n  ",27],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","setUp",29],"(",")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n    ",29],["T_STRING","parent",30],["T_DOUBLE_COLON","::",30],["T_STRING","setUp",30],"(",")",";",["T_WHITESPACE","\n\n    ",30],["T_COMMENT","\/\/ Set up two content types to test fields shared between different\n",32],["T_WHITESPACE","    ",33],["T_COMMENT","\/\/ bundles.\n",33],["T_WHITESPACE","    ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","drupalCreateContentType",34],"(",["T_ARRAY","array",34],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'article'",34],")",")",";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","drupalCreateContentType",35],"(",["T_ARRAY","array",35],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'page'",35],")",")",";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","addDefaultCommentField",36],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'article'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'comment_article'",36],",",["T_WHITESPACE"," ",36],["T_STRING","CommentItemInterface",36],["T_DOUBLE_COLON","::",36],["T_STRING","OPEN",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'comment_article'",36],")",";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","addDefaultCommentField",37],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'page'",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'comment_page'",37],")",";",["T_WHITESPACE","\n\n    ",37],["T_VARIABLE","$admin_user",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","drupalCreateUser",39],"(",["T_ARRAY","array",39],"(",["T_CONSTANT_ENCAPSED_STRING","'access administration pages'",39],",",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'administer languages'",39],",",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'administer content translation'",39],",",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'administer content types'",39],",",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'administer node fields'",39],",",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'administer comment fields'",39],",",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'administer comments'",39],",",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'administer comment types'",39],",",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'administer account settings'",39],")",")",";",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","drupalLogin",40],"(",["T_VARIABLE","$admin_user",40],")",";",["T_WHITESPACE","\n  ",40],"}",["T_WHITESPACE","\n\n  ",41],["T_DOC_COMMENT","\/**\n   * Tests that the settings UI works as expected.\n   *\/",43],["T_WHITESPACE","\n  ",45],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","testSettingsUI",46],"(",")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n    ",46],["T_COMMENT","\/\/ Check for the content_translation_menu_links_discovered_alter() changes.\n",47],["T_WHITESPACE","    ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","drupalGet",48],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config'",48],")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertLink",49],"(",["T_CONSTANT_ENCAPSED_STRING","'Content language and translation'",49],")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","assertText",50],"(",["T_CONSTANT_ENCAPSED_STRING","'Configure language and translation support for content.'",50],")",";",["T_WHITESPACE","\n    ",50],["T_COMMENT","\/\/ Test that the translation settings are ignored if the bundle is marked\n",51],["T_WHITESPACE","    ",52],["T_COMMENT","\/\/ translatable but the entity type is not.\n",52],["T_WHITESPACE","    ",53],["T_VARIABLE","$edit",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_ARRAY","array",53],"(",["T_CONSTANT_ENCAPSED_STRING","'settings[comment][comment_article][translatable]'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_STRING","TRUE",53],")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertSettings",54],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",54],",",["T_WHITESPACE"," ",54],["T_STRING","NULL",54],",",["T_WHITESPACE"," ",54],["T_STRING","FALSE",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$edit",54],")",";",["T_WHITESPACE","\n\n    ",54],["T_COMMENT","\/\/ Test that the translation settings are ignored if only a field is marked\n",56],["T_WHITESPACE","    ",57],["T_COMMENT","\/\/ as translatable and not the related entity type and bundle.\n",57],["T_WHITESPACE","    ",58],["T_VARIABLE","$edit",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_ARRAY","array",58],"(",["T_CONSTANT_ENCAPSED_STRING","'settings[comment][comment_article][fields][comment_body]'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_STRING","TRUE",58],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","assertSettings",59],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",59],",",["T_WHITESPACE"," ",59],["T_STRING","NULL",59],",",["T_WHITESPACE"," ",59],["T_STRING","FALSE",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$edit",59],")",";",["T_WHITESPACE","\n\n    ",59],["T_COMMENT","\/\/ Test that the translation settings are not stored if an entity type and\n",61],["T_WHITESPACE","    ",62],["T_COMMENT","\/\/ bundle are marked as translatable but no field is.\n",62],["T_WHITESPACE","    ",63],["T_VARIABLE","$edit",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_ARRAY","array",63],"(",["T_WHITESPACE","\n      ",63],["T_CONSTANT_ENCAPSED_STRING","'entity_types[comment]'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_STRING","TRUE",64],",",["T_WHITESPACE","\n      ",64],["T_CONSTANT_ENCAPSED_STRING","'settings[comment][comment_article][translatable]'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_STRING","TRUE",65],",",["T_WHITESPACE","\n      ",65],["T_COMMENT","\/\/ Base fields are translatable by default.\n",66],["T_WHITESPACE","      ",67],["T_CONSTANT_ENCAPSED_STRING","'settings[comment][comment_article][fields][changed]'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_STRING","FALSE",67],",",["T_WHITESPACE","\n      ",67],["T_CONSTANT_ENCAPSED_STRING","'settings[comment][comment_article][fields][created]'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_STRING","FALSE",68],",",["T_WHITESPACE","\n      ",68],["T_CONSTANT_ENCAPSED_STRING","'settings[comment][comment_article][fields][homepage]'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_STRING","FALSE",69],",",["T_WHITESPACE","\n      ",69],["T_CONSTANT_ENCAPSED_STRING","'settings[comment][comment_article][fields][hostname]'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_STRING","FALSE",70],",",["T_WHITESPACE","\n      ",70],["T_CONSTANT_ENCAPSED_STRING","'settings[comment][comment_article][fields][mail]'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_STRING","FALSE",71],",",["T_WHITESPACE","\n      ",71],["T_CONSTANT_ENCAPSED_STRING","'settings[comment][comment_article][fields][name]'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_STRING","FALSE",72],",",["T_WHITESPACE","\n      ",72],["T_CONSTANT_ENCAPSED_STRING","'settings[comment][comment_article][fields][status]'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_STRING","FALSE",73],",",["T_WHITESPACE","\n      ",73],["T_CONSTANT_ENCAPSED_STRING","'settings[comment][comment_article][fields][subject]'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_STRING","FALSE",74],",",["T_WHITESPACE","\n      ",74],["T_CONSTANT_ENCAPSED_STRING","'settings[comment][comment_article][fields][uid]'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_STRING","FALSE",75],",",["T_WHITESPACE","\n    ",75],")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assertSettings",77],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'comment_article'",77],",",["T_WHITESPACE"," ",77],["T_STRING","FALSE",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$edit",77],")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$xpath_err",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'\/\/div[contains(@class, \"error\")]'",78],";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","assertTrue",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","xpath",79],"(",["T_VARIABLE","$xpath_err",79],")",",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'Enabling translation only for entity bundles generates a form error.'",79],")",";",["T_WHITESPACE","\n\n    ",79],["T_COMMENT","\/\/ Test that the translation settings are not stored if a non-configurable\n",81],["T_WHITESPACE","    ",82],["T_COMMENT","\/\/ language is set as default and the language selector is hidden.\n",82],["T_WHITESPACE","    ",83],["T_VARIABLE","$edit",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_ARRAY","array",83],"(",["T_WHITESPACE","\n      ",83],["T_CONSTANT_ENCAPSED_STRING","'entity_types[comment]'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_STRING","TRUE",84],",",["T_WHITESPACE","\n      ",84],["T_CONSTANT_ENCAPSED_STRING","'settings[comment][comment_article][settings][language][langcode]'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_STRING","Language",85],["T_DOUBLE_COLON","::",85],["T_STRING","LANGCODE_NOT_SPECIFIED",85],",",["T_WHITESPACE","\n      ",85],["T_CONSTANT_ENCAPSED_STRING","'settings[comment][comment_article][settings][language][language_alterable]'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_STRING","FALSE",86],",",["T_WHITESPACE","\n      ",86],["T_CONSTANT_ENCAPSED_STRING","'settings[comment][comment_article][translatable]'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_STRING","TRUE",87],",",["T_WHITESPACE","\n      ",87],["T_CONSTANT_ENCAPSED_STRING","'settings[comment][comment_article][fields][comment_body]'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_STRING","TRUE",88],",",["T_WHITESPACE","\n    ",88],")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertSettings",90],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",90],",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'comment_article'",90],",",["T_WHITESPACE"," ",90],["T_STRING","FALSE",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$edit",90],")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","assertTrue",91],"(",["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","xpath",91],"(",["T_VARIABLE","$xpath_err",91],")",",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'Enabling translation with a fixed non-configurable language generates a form error.'",91],")",";",["T_WHITESPACE","\n\n    ",91],["T_COMMENT","\/\/ Test that a field shared among different bundles can be enabled without\n",93],["T_WHITESPACE","    ",94],["T_COMMENT","\/\/ needing to make all the related bundles translatable.\n",94],["T_WHITESPACE","    ",95],["T_VARIABLE","$edit",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_ARRAY","array",95],"(",["T_WHITESPACE","\n      ",95],["T_CONSTANT_ENCAPSED_STRING","'entity_types[comment]'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_STRING","TRUE",96],",",["T_WHITESPACE","\n      ",96],["T_CONSTANT_ENCAPSED_STRING","'settings[comment][comment_article][settings][language][langcode]'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'current_interface'",97],",",["T_WHITESPACE","\n      ",97],["T_CONSTANT_ENCAPSED_STRING","'settings[comment][comment_article][settings][language][language_alterable]'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_STRING","TRUE",98],",",["T_WHITESPACE","\n      ",98],["T_CONSTANT_ENCAPSED_STRING","'settings[comment][comment_article][translatable]'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_STRING","TRUE",99],",",["T_WHITESPACE","\n      ",99],["T_CONSTANT_ENCAPSED_STRING","'settings[comment][comment_article][fields][comment_body]'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_STRING","TRUE",100],",",["T_WHITESPACE","\n      ",100],["T_COMMENT","\/\/ Override both comment subject fields to untranslatable.\n",101],["T_WHITESPACE","      ",102],["T_CONSTANT_ENCAPSED_STRING","'settings[comment][comment_article][fields][subject]'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_STRING","FALSE",102],",",["T_WHITESPACE","\n      ",102],["T_CONSTANT_ENCAPSED_STRING","'settings[comment][comment][fields][subject]'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_STRING","FALSE",103],",",["T_WHITESPACE","\n    ",103],")",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertSettings",105],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'comment_article'",105],",",["T_WHITESPACE"," ",105],["T_STRING","TRUE",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$edit",105],")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$definition",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","entityManager",106],"(",")",["T_OBJECT_OPERATOR","->",106],["T_STRING","getFieldDefinitions",106],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'comment_article'",106],")","[",["T_CONSTANT_ENCAPSED_STRING","'comment_body'",106],"]",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertTrue",107],"(",["T_VARIABLE","$definition",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","isTranslatable",107],"(",")",",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'Article comment body is translatable.'",107],")",";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$definition",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","entityManager",108],"(",")",["T_OBJECT_OPERATOR","->",108],["T_STRING","getFieldDefinitions",108],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",108],",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'comment_article'",108],")","[",["T_CONSTANT_ENCAPSED_STRING","'subject'",108],"]",";",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertFalse",109],"(",["T_VARIABLE","$definition",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","isTranslatable",109],"(",")",",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'Article comment subject is not translatable.'",109],")",";",["T_WHITESPACE","\n\n    ",109],["T_VARIABLE","$definition",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","entityManager",111],"(",")",["T_OBJECT_OPERATOR","->",111],["T_STRING","getFieldDefinitions",111],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'comment'",111],")","[",["T_CONSTANT_ENCAPSED_STRING","'comment_body'",111],"]",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","assertFalse",112],"(",["T_VARIABLE","$definition",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","isTranslatable",112],"(",")",",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'Page comment body is not translatable.'",112],")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$definition",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","entityManager",113],"(",")",["T_OBJECT_OPERATOR","->",113],["T_STRING","getFieldDefinitions",113],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",113],",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'comment'",113],")","[",["T_CONSTANT_ENCAPSED_STRING","'subject'",113],"]",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","assertFalse",114],"(",["T_VARIABLE","$definition",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","isTranslatable",114],"(",")",",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'Page comment subject is not translatable.'",114],")",";",["T_WHITESPACE","\n\n    ",114],["T_COMMENT","\/\/ Test that translation can be enabled for base fields.\n",116],["T_WHITESPACE","    ",117],["T_VARIABLE","$edit",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_ARRAY","array",117],"(",["T_WHITESPACE","\n      ",117],["T_CONSTANT_ENCAPSED_STRING","'entity_types[entity_test_mul]'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_STRING","TRUE",118],",",["T_WHITESPACE","\n      ",118],["T_CONSTANT_ENCAPSED_STRING","'settings[entity_test_mul][entity_test_mul][translatable]'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_STRING","TRUE",119],",",["T_WHITESPACE","\n      ",119],["T_CONSTANT_ENCAPSED_STRING","'settings[entity_test_mul][entity_test_mul][fields][name]'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_STRING","TRUE",120],",",["T_WHITESPACE","\n      ",120],["T_CONSTANT_ENCAPSED_STRING","'settings[entity_test_mul][entity_test_mul][fields][user_id]'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_STRING","FALSE",121],",",["T_WHITESPACE","\n    ",121],")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","assertSettings",123],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_mul'",123],",",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'entity_test_mul'",123],",",["T_WHITESPACE"," ",123],["T_STRING","TRUE",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$edit",123],")",";",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$field_override",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","BaseFieldOverride",124],["T_DOUBLE_COLON","::",124],["T_STRING","loadByName",124],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_mul'",124],",",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'entity_test_mul'",124],",",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'name'",124],")",";",["T_WHITESPACE","\n    ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertTrue",125],"(",["T_VARIABLE","$field_override",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","isTranslatable",125],"(",")",",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'Base fields can be overridden with a base field bundle override entity.'",125],")",";",["T_WHITESPACE","\n    ",125],["T_VARIABLE","$definitions",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","entityManager",126],"(",")",["T_OBJECT_OPERATOR","->",126],["T_STRING","getFieldDefinitions",126],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_mul'",126],",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'entity_test_mul'",126],")",";",["T_WHITESPACE","\n    ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","assertTrue",127],"(",["T_VARIABLE","$definitions",127],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",127],"]",["T_OBJECT_OPERATOR","->",127],["T_STRING","isTranslatable",127],"(",")",["T_WHITESPACE"," ",127],["T_BOOLEAN_AND","&&",127],["T_WHITESPACE"," ",127],"!",["T_VARIABLE","$definitions",127],"[",["T_CONSTANT_ENCAPSED_STRING","'user_id'",127],"]",["T_OBJECT_OPERATOR","->",127],["T_STRING","isTranslatable",127],"(",")",",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'Base field bundle overrides were correctly altered.'",127],")",";",["T_WHITESPACE","\n\n    ",127],["T_COMMENT","\/\/ Test that language settings are correctly stored.\n",129],["T_WHITESPACE","    ",130],["T_VARIABLE","$language_configuration",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_STRING","ContentLanguageSettings",130],["T_DOUBLE_COLON","::",130],["T_STRING","loadByEntityTypeBundle",130],"(",["T_CONSTANT_ENCAPSED_STRING","'comment'",130],",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'comment_article'",130],")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","assertEqual",131],"(",["T_VARIABLE","$language_configuration",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getDefaultLangcode",131],"(",")",",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'current_interface'",131],",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'The default language for article comments is set to the interface text language selected for page.'",131],")",";",["T_WHITESPACE","\n    ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","assertTrue",132],"(",["T_VARIABLE","$language_configuration",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","isLanguageAlterable",132],"(",")",",",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'The language selector for article comments is shown.'",132],")",";",["T_WHITESPACE","\n\n    ",132],["T_COMMENT","\/\/ Verify language widget appears on comment type form.\n",134],["T_WHITESPACE","    ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","drupalGet",135],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/comment\/manage\/comment_article'",135],")",";",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","assertField",136],"(",["T_CONSTANT_ENCAPSED_STRING","'language_configuration[content_translation]'",136],")",";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","assertFieldChecked",137],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-language-configuration-content-translation'",137],")",";",["T_WHITESPACE","\n\n    ",137],["T_COMMENT","\/\/ Verify that translation may be enabled for the article content type.\n",139],["T_WHITESPACE","    ",140],["T_VARIABLE","$edit",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_ARRAY","array",140],"(",["T_WHITESPACE","\n      ",140],["T_CONSTANT_ENCAPSED_STRING","'language_configuration[content_translation]'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_STRING","TRUE",141],",",["T_WHITESPACE","\n    ",141],")",";",["T_WHITESPACE","\n    ",142],["T_COMMENT","\/\/ Make sure the checkbox is available and not checked by default.\n",143],["T_WHITESPACE","    ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","drupalGet",144],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/article'",144],")",";",["T_WHITESPACE","\n    ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","assertField",145],"(",["T_CONSTANT_ENCAPSED_STRING","'language_configuration[content_translation]'",145],")",";",["T_WHITESPACE","\n    ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","assertNoFieldChecked",146],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-language-configuration-content-translation'",146],")",";",["T_WHITESPACE","\n    ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","drupalPostForm",147],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/article'",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$edit",147],",",["T_WHITESPACE"," ",147],["T_STRING","t",147],"(",["T_CONSTANT_ENCAPSED_STRING","'Save content type'",147],")",")",";",["T_WHITESPACE","\n    ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","drupalGet",148],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/article'",148],")",";",["T_WHITESPACE","\n    ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","assertFieldChecked",149],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-language-configuration-content-translation'",149],")",";",["T_WHITESPACE","\n\n    ",149],["T_COMMENT","\/\/ Test that the title field of nodes is available in the settings form.\n",151],["T_WHITESPACE","    ",152],["T_VARIABLE","$edit",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_ARRAY","array",152],"(",["T_WHITESPACE","\n      ",152],["T_CONSTANT_ENCAPSED_STRING","'entity_types[node]'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_STRING","TRUE",153],",",["T_WHITESPACE","\n      ",153],["T_CONSTANT_ENCAPSED_STRING","'settings[node][article][settings][language][langcode]'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'current_interface'",154],",",["T_WHITESPACE","\n      ",154],["T_CONSTANT_ENCAPSED_STRING","'settings[node][article][settings][language][language_alterable]'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_STRING","TRUE",155],",",["T_WHITESPACE","\n      ",155],["T_CONSTANT_ENCAPSED_STRING","'settings[node][article][translatable]'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_STRING","TRUE",156],",",["T_WHITESPACE","\n      ",156],["T_CONSTANT_ENCAPSED_STRING","'settings[node][article][fields][title]'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_STRING","TRUE",157],["T_WHITESPACE","\n    ",157],")",";",["T_WHITESPACE","\n    ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","assertSettings",159],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",159],",",["T_WHITESPACE"," ",159],["T_STRING","NULL",159],",",["T_WHITESPACE"," ",159],["T_STRING","TRUE",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$edit",159],")",";",["T_WHITESPACE","\n\n    ",159],["T_FOREACH","foreach",161],["T_WHITESPACE"," ",161],"(",["T_ARRAY","array",161],"(",["T_STRING","TRUE",161],",",["T_WHITESPACE"," ",161],["T_STRING","FALSE",161],")",["T_WHITESPACE"," ",161],["T_AS","as",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$translatable",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n      ",161],["T_COMMENT","\/\/ Test that configurable field translatability is correctly switched.\n",162],["T_WHITESPACE","      ",163],["T_VARIABLE","$edit",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_ARRAY","array",163],"(",["T_CONSTANT_ENCAPSED_STRING","'settings[node][article][fields][body]'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$translatable",163],")",";",["T_WHITESPACE","\n      ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","assertSettings",164],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",164],",",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'article'",164],",",["T_WHITESPACE"," ",164],["T_STRING","TRUE",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$edit",164],")",";",["T_WHITESPACE","\n      ",164],["T_VARIABLE","$field",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_STRING","FieldConfig",165],["T_DOUBLE_COLON","::",165],["T_STRING","loadByName",165],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",165],",",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'article'",165],",",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'body'",165],")",";",["T_WHITESPACE","\n      ",165],["T_VARIABLE","$definitions",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_NS_SEPARATOR","\\",166],["T_STRING","Drupal",166],["T_DOUBLE_COLON","::",166],["T_STRING","entityManager",166],"(",")",["T_OBJECT_OPERATOR","->",166],["T_STRING","getFieldDefinitions",166],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",166],",",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'article'",166],")",";",["T_WHITESPACE","\n      ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","assertEqual",167],"(",["T_VARIABLE","$definitions",167],"[",["T_CONSTANT_ENCAPSED_STRING","'body'",167],"]",["T_OBJECT_OPERATOR","->",167],["T_STRING","isTranslatable",167],"(",")",",",["T_WHITESPACE"," ",167],["T_VARIABLE","$translatable",167],",",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'Field translatability correctly switched.'",167],")",";",["T_WHITESPACE","\n      ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","assertEqual",168],"(",["T_VARIABLE","$field",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","isTranslatable",168],"(",")",",",["T_WHITESPACE"," ",168],["T_VARIABLE","$definitions",168],"[",["T_CONSTANT_ENCAPSED_STRING","'body'",168],"]",["T_OBJECT_OPERATOR","->",168],["T_STRING","isTranslatable",168],"(",")",",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'Configurable field translatability correctly switched.'",168],")",";",["T_WHITESPACE","\n\n      ",168],["T_COMMENT","\/\/ Test that also the Field UI form behaves correctly.\n",170],["T_WHITESPACE","      ",171],["T_VARIABLE","$translatable",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],"!",["T_VARIABLE","$translatable",171],";",["T_WHITESPACE","\n      ",171],["T_VARIABLE","$edit",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_ARRAY","array",172],"(",["T_CONSTANT_ENCAPSED_STRING","'translatable'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$translatable",172],")",";",["T_WHITESPACE","\n      ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","drupalPostForm",173],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/article\/fields\/node.article.body'",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$edit",173],",",["T_WHITESPACE"," ",173],["T_STRING","t",173],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",173],")",")",";",["T_WHITESPACE","\n      ",173],["T_NS_SEPARATOR","\\",174],["T_STRING","Drupal",174],["T_DOUBLE_COLON","::",174],["T_STRING","entityManager",174],"(",")",["T_OBJECT_OPERATOR","->",174],["T_STRING","clearCachedFieldDefinitions",174],"(",")",";",["T_WHITESPACE","\n      ",174],["T_VARIABLE","$field",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_STRING","FieldConfig",175],["T_DOUBLE_COLON","::",175],["T_STRING","loadByName",175],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",175],",",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'article'",175],",",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'body'",175],")",";",["T_WHITESPACE","\n      ",175],["T_VARIABLE","$definitions",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Drupal",176],["T_DOUBLE_COLON","::",176],["T_STRING","entityManager",176],"(",")",["T_OBJECT_OPERATOR","->",176],["T_STRING","getFieldDefinitions",176],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",176],",",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'article'",176],")",";",["T_WHITESPACE","\n      ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","assertEqual",177],"(",["T_VARIABLE","$definitions",177],"[",["T_CONSTANT_ENCAPSED_STRING","'body'",177],"]",["T_OBJECT_OPERATOR","->",177],["T_STRING","isTranslatable",177],"(",")",",",["T_WHITESPACE"," ",177],["T_VARIABLE","$translatable",177],",",["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","'Field translatability correctly switched.'",177],")",";",["T_WHITESPACE","\n      ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","assertEqual",178],"(",["T_VARIABLE","$field",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","isTranslatable",178],"(",")",",",["T_WHITESPACE"," ",178],["T_VARIABLE","$definitions",178],"[",["T_CONSTANT_ENCAPSED_STRING","'body'",178],"]",["T_OBJECT_OPERATOR","->",178],["T_STRING","isTranslatable",178],"(",")",",",["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'Configurable field translatability correctly switched.'",178],")",";",["T_WHITESPACE","\n    ",178],"}",["T_WHITESPACE","\n\n    ",179],["T_COMMENT","\/\/ Test that the order of the language list is similar to other language\n",181],["T_WHITESPACE","    ",182],["T_COMMENT","\/\/ lists, such as in Views UI.\n",182],["T_WHITESPACE","    ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","drupalGet",183],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/content-language'",183],")",";",["T_WHITESPACE","\n\n    ",183],["T_VARIABLE","$expected_elements",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_ARRAY","array",185],"(",["T_WHITESPACE","\n      ",185],["T_CONSTANT_ENCAPSED_STRING","'site_default'",186],",",["T_WHITESPACE","\n      ",186],["T_CONSTANT_ENCAPSED_STRING","'current_interface'",187],",",["T_WHITESPACE","\n      ",187],["T_CONSTANT_ENCAPSED_STRING","'authors_default'",188],",",["T_WHITESPACE","\n      ",188],["T_CONSTANT_ENCAPSED_STRING","'en'",189],",",["T_WHITESPACE","\n      ",189],["T_CONSTANT_ENCAPSED_STRING","'und'",190],",",["T_WHITESPACE","\n      ",190],["T_CONSTANT_ENCAPSED_STRING","'zxx'",191],",",["T_WHITESPACE","\n    ",191],")",";",["T_WHITESPACE","\n    ",192],["T_VARIABLE","$elements",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","xpath",193],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/select[@id=\"edit-settings-node-article-settings-language-langcode\"]\/option'",193],")",";",["T_WHITESPACE","\n    ",193],["T_COMMENT","\/\/ Compare values inside the option elements with expected values.\n",194],["T_WHITESPACE","    ",195],["T_FOR","for",195],["T_WHITESPACE"," ",195],"(",["T_VARIABLE","$i",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_LNUMBER","0",195],";",["T_WHITESPACE"," ",195],["T_VARIABLE","$i",195],["T_WHITESPACE"," ",195],"<",["T_WHITESPACE"," ",195],["T_STRING","count",195],"(",["T_VARIABLE","$elements",195],")",";",["T_WHITESPACE"," ",195],["T_VARIABLE","$i",195],["T_INC","++",195],")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n      ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","assertEqual",196],"(",["T_VARIABLE","$elements",196],"[",["T_VARIABLE","$i",196],"]",["T_OBJECT_OPERATOR","->",196],["T_STRING","attributes",196],"(",")",["T_OBJECT_OPERATOR","->",196],"{",["T_CONSTANT_ENCAPSED_STRING","'value'",196],"}",",",["T_WHITESPACE"," ",196],["T_VARIABLE","$expected_elements",196],"[",["T_VARIABLE","$i",196],"]",")",";",["T_WHITESPACE","\n    ",196],"}",["T_WHITESPACE","\n  ",197],"}",["T_WHITESPACE","\n\n  ",198],["T_DOC_COMMENT","\/**\n   * Tests the language settings checkbox on account settings page.\n   *\/",200],["T_WHITESPACE","\n  ",202],["T_FUNCTION","function",203],["T_WHITESPACE"," ",203],["T_STRING","testAccountLanguageSettingsUI",203],"(",")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n    ",203],["T_COMMENT","\/\/ Make sure the checkbox is available and not checked by default.\n",204],["T_WHITESPACE","    ",205],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","drupalGet",205],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/people\/accounts'",205],")",";",["T_WHITESPACE","\n    ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","assertField",206],"(",["T_CONSTANT_ENCAPSED_STRING","'language[content_translation]'",206],")",";",["T_WHITESPACE","\n    ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","assertNoFieldChecked",207],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-language-content-translation'",207],")",";",["T_WHITESPACE","\n\n    ",207],["T_VARIABLE","$edit",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_ARRAY","array",209],"(",["T_WHITESPACE","\n      ",209],["T_CONSTANT_ENCAPSED_STRING","'language[content_translation]'",210],["T_WHITESPACE"," ",210],["T_DOUBLE_ARROW","=>",210],["T_WHITESPACE"," ",210],["T_STRING","TRUE",210],",",["T_WHITESPACE","\n    ",210],")",";",["T_WHITESPACE","\n    ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","drupalPostForm",212],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/people\/accounts'",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$edit",212],",",["T_WHITESPACE"," ",212],["T_STRING","t",212],"(",["T_CONSTANT_ENCAPSED_STRING","'Save configuration'",212],")",")",";",["T_WHITESPACE","\n    ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","drupalGet",213],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/people\/accounts'",213],")",";",["T_WHITESPACE","\n    ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","assertFieldChecked",214],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-language-content-translation'",214],")",";",["T_WHITESPACE","\n\n    ",214],["T_COMMENT","\/\/ Make sure account settings can be saved.\n",216],["T_WHITESPACE","    ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","drupalPostForm",217],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/people\/accounts'",217],",",["T_WHITESPACE"," ",217],["T_ARRAY","array",217],"(",["T_CONSTANT_ENCAPSED_STRING","'anonymous'",217],["T_WHITESPACE"," ",217],["T_DOUBLE_ARROW","=>",217],["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'Save me please!'",217],")",",",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'Save configuration'",217],")",";",["T_WHITESPACE","\n    ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","assertFieldByName",218],"(",["T_CONSTANT_ENCAPSED_STRING","'anonymous'",218],",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'Save me please!'",218],",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'Anonymous name has been changed.'",218],")",";",["T_WHITESPACE","\n    ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","assertText",219],"(",["T_CONSTANT_ENCAPSED_STRING","'The configuration options have been saved.'",219],")",";",["T_WHITESPACE","\n  ",219],"}",["T_WHITESPACE","\n\n  ",220],["T_DOC_COMMENT","\/**\n   * Asserts that translatability has the expected value for the given bundle.\n   *\n   * @param string $entity_type\n   *   The entity type for which to check translatability.\n   * @param string $bundle\n   *   The bundle for which to check translatability.\n   * @param bool $enabled\n   *   TRUE if translatability should be enabled, FALSE otherwise.\n   * @param array $edit\n   *   An array of values to submit to the content translation settings page.\n   *\n   * @return bool\n   *   TRUE if the assertion succeeded, FALSE otherwise.\n   *\/",222],["T_WHITESPACE","\n  ",236],["T_PROTECTED","protected",237],["T_WHITESPACE"," ",237],["T_FUNCTION","function",237],["T_WHITESPACE"," ",237],["T_STRING","assertSettings",237],"(",["T_VARIABLE","$entity_type",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$bundle",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$enabled",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$edit",237],")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n    ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","drupalPostForm",238],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/content-language'",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$edit",238],",",["T_WHITESPACE"," ",238],["T_STRING","t",238],"(",["T_CONSTANT_ENCAPSED_STRING","'Save configuration'",238],")",")",";",["T_WHITESPACE","\n    ",238],["T_VARIABLE","$args",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_ARRAY","array",239],"(",["T_CONSTANT_ENCAPSED_STRING","'@entity_type'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$entity_type",239],",",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'@bundle'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$bundle",239],",",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'@enabled'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$enabled",239],["T_WHITESPACE"," ",239],"?",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'enabled'",239],["T_WHITESPACE"," ",239],":",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'disabled'",239],")",";",["T_WHITESPACE","\n    ",239],["T_VARIABLE","$message",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_STRING","format_string",240],"(",["T_CONSTANT_ENCAPSED_STRING","'Translation for entity @entity_type (@bundle) is @enabled.'",240],",",["T_WHITESPACE"," ",240],["T_VARIABLE","$args",240],")",";",["T_WHITESPACE","\n    ",240],["T_NS_SEPARATOR","\\",241],["T_STRING","Drupal",241],["T_DOUBLE_COLON","::",241],["T_STRING","entityManager",241],"(",")",["T_OBJECT_OPERATOR","->",241],["T_STRING","clearCachedDefinitions",241],"(",")",";",["T_WHITESPACE","\n    ",241],["T_RETURN","return",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","assertEqual",242],"(",["T_NS_SEPARATOR","\\",242],["T_STRING","Drupal",242],["T_DOUBLE_COLON","::",242],["T_STRING","service",242],"(",["T_CONSTANT_ENCAPSED_STRING","'content_translation.manager'",242],")",["T_OBJECT_OPERATOR","->",242],["T_STRING","isEnabled",242],"(",["T_VARIABLE","$entity_type",242],",",["T_WHITESPACE"," ",242],["T_VARIABLE","$bundle",242],")",",",["T_WHITESPACE"," ",242],["T_VARIABLE","$enabled",242],",",["T_WHITESPACE"," ",242],["T_VARIABLE","$message",242],")",";",["T_WHITESPACE","\n  ",242],"}",["T_WHITESPACE","\n\n  ",243],["T_DOC_COMMENT","\/**\n   * Tests that field setting depends on bundle translatability.\n   *\/",245],["T_WHITESPACE","\n  ",247],["T_FUNCTION","function",248],["T_WHITESPACE"," ",248],["T_STRING","testFieldTranslatableSettingsUI",248],"(",")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n    ",248],["T_COMMENT","\/\/ At least one field needs to be translatable to enable article for\n",249],["T_WHITESPACE","    ",250],["T_COMMENT","\/\/ translation. Create an extra field to be used for this purpose. We use\n",250],["T_WHITESPACE","    ",251],["T_COMMENT","\/\/ the UI to test our form alterations.\n",251],["T_WHITESPACE","    ",252],["T_VARIABLE","$edit",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_ARRAY","array",252],"(",["T_WHITESPACE","\n      ",252],["T_CONSTANT_ENCAPSED_STRING","'new_storage_type'",253],["T_WHITESPACE"," ",253],["T_DOUBLE_ARROW","=>",253],["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'text'",253],",",["T_WHITESPACE","\n      ",253],["T_CONSTANT_ENCAPSED_STRING","'label'",254],["T_WHITESPACE"," ",254],["T_DOUBLE_ARROW","=>",254],["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'Test'",254],",",["T_WHITESPACE","\n      ",254],["T_CONSTANT_ENCAPSED_STRING","'field_name'",255],["T_WHITESPACE"," ",255],["T_DOUBLE_ARROW","=>",255],["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","'article_text'",255],",",["T_WHITESPACE","\n    ",255],")",";",["T_WHITESPACE","\n    ",256],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","drupalPostForm",257],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/article\/fields\/add-field'",257],",",["T_WHITESPACE"," ",257],["T_VARIABLE","$edit",257],",",["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'Save and continue'",257],")",";",["T_WHITESPACE","\n\n    ",257],["T_COMMENT","\/\/ Tests that field doesn't have translatable setting if bundle is not\n",259],["T_WHITESPACE","    ",260],["T_COMMENT","\/\/ translatable.\n",260],["T_WHITESPACE","    ",261],["T_VARIABLE","$path",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","'admin\/structure\/types\/manage\/article\/fields\/node.article.field_article_text'",261],";",["T_WHITESPACE","\n    ",261],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","drupalGet",262],"(",["T_VARIABLE","$path",262],")",";",["T_WHITESPACE","\n    ",262],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","assertFieldByXPath",263],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/input[@id=\"edit-translatable\" and @disabled=\"disabled\"]'",263],")",";",["T_WHITESPACE","\n    ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","assertText",264],"(",["T_CONSTANT_ENCAPSED_STRING","'To configure translation for this field, enable language support for this type.'",264],",",["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","'No translatable setting for field.'",264],")",";",["T_WHITESPACE","\n\n    ",264],["T_COMMENT","\/\/ Tests that field has translatable setting if bundle is translatable.\n",266],["T_WHITESPACE","    ",267],["T_COMMENT","\/\/ Note: this field is not translatable when enable bundle translatability.\n",267],["T_WHITESPACE","    ",268],["T_VARIABLE","$edit",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_ARRAY","array",268],"(",["T_WHITESPACE","\n      ",268],["T_CONSTANT_ENCAPSED_STRING","'entity_types[node]'",269],["T_WHITESPACE"," ",269],["T_DOUBLE_ARROW","=>",269],["T_WHITESPACE"," ",269],["T_STRING","TRUE",269],",",["T_WHITESPACE","\n      ",269],["T_CONSTANT_ENCAPSED_STRING","'settings[node][article][settings][language][language_alterable]'",270],["T_WHITESPACE"," ",270],["T_DOUBLE_ARROW","=>",270],["T_WHITESPACE"," ",270],["T_STRING","TRUE",270],",",["T_WHITESPACE","\n      ",270],["T_CONSTANT_ENCAPSED_STRING","'settings[node][article][translatable]'",271],["T_WHITESPACE"," ",271],["T_DOUBLE_ARROW","=>",271],["T_WHITESPACE"," ",271],["T_STRING","TRUE",271],",",["T_WHITESPACE","\n      ",271],["T_CONSTANT_ENCAPSED_STRING","'settings[node][article][fields][field_article_text]'",272],["T_WHITESPACE"," ",272],["T_DOUBLE_ARROW","=>",272],["T_WHITESPACE"," ",272],["T_STRING","TRUE",272],",",["T_WHITESPACE","\n    ",272],")",";",["T_WHITESPACE","\n    ",273],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","assertSettings",274],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",274],",",["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'article'",274],",",["T_WHITESPACE"," ",274],["T_STRING","TRUE",274],",",["T_WHITESPACE"," ",274],["T_VARIABLE","$edit",274],")",";",["T_WHITESPACE","\n    ",274],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","drupalGet",275],"(",["T_VARIABLE","$path",275],")",";",["T_WHITESPACE","\n    ",275],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","assertFieldByXPath",276],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/input[@id=\"edit-translatable\" and not(@disabled) and @checked=\"checked\"]'",276],")",";",["T_WHITESPACE","\n    ",276],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","assertNoText",277],"(",["T_CONSTANT_ENCAPSED_STRING","'To enable translation of this field, enable language support for this type.'",277],",",["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'Translatable setting for field available.'",277],")",";",["T_WHITESPACE","\n  ",277],"}",["T_WHITESPACE","\n\n  ",278],["T_DOC_COMMENT","\/**\n   * Tests the translatable settings checkbox for untranslatable entities.\n   *\/",280],["T_WHITESPACE","\n  ",282],["T_FUNCTION","function",283],["T_WHITESPACE"," ",283],["T_STRING","testNonTranslatableTranslationSettingsUI",283],"(",")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n    ",283],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","drupalGet",284],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/content-language'",284],")",";",["T_WHITESPACE","\n    ",284],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","assertNoField",285],"(",["T_CONSTANT_ENCAPSED_STRING","'settings[entity_test][entity_test][translatable]'",285],")",";",["T_WHITESPACE","\n  ",285],"}",["T_WHITESPACE","\n\n  ",286],["T_DOC_COMMENT","\/**\n   * Returns the entity manager.\n   *\n   * @return \\Drupal\\Core\\Entity\\EntityManagerInterface\n   *   The entity manager;\n   *\/",288],["T_WHITESPACE","\n  ",293],["T_PROTECTED","protected",294],["T_WHITESPACE"," ",294],["T_FUNCTION","function",294],["T_WHITESPACE"," ",294],["T_STRING","entityManager",294],"(",")",["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n    ",294],["T_RETURN","return",295],["T_WHITESPACE"," ",295],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","container",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","get",295],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",295],")",";",["T_WHITESPACE","\n  ",295],"}",["T_WHITESPACE","\n\n",296],"}",["T_WHITESPACE","\n",298]]