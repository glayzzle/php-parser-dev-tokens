[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","content_translation",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","EntityInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","field",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FieldConfig",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","field",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FieldStorageConfig",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","file",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","File",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Tests the field synchronization behavior for the image field.\n *\n * @group content_translation\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","ContentTranslationSyncImageTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","ContentTranslationTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * The cardinality of the image field.\n   *\n   * @var int\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$cardinality",22],";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * The test image files.\n   *\n   * @var array\n   *\/",24],["T_WHITESPACE","\n  ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$files",29],";",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",31],["T_WHITESPACE","\n  ",35],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_STATIC","static",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$modules",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_ARRAY","array",36],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'content_translation'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'image'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'field_ui'",36],")",";",["T_WHITESPACE","\n\n  ",36],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","setUp",38],"(",")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n    ",38],["T_STRING","parent",39],["T_DOUBLE_COLON","::",39],["T_STRING","setUp",39],"(",")",";",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","files",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","drupalGetTestFiles",40],"(",["T_CONSTANT_ENCAPSED_STRING","'image'",40],")",";",["T_WHITESPACE","\n  ",40],"}",["T_WHITESPACE","\n\n  ",41],["T_DOC_COMMENT","\/**\n   * Creates the test image field.\n   *\/",43],["T_WHITESPACE","\n  ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","setupTestFields",46],"(",")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","fieldName",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'field_test_et_ui_image'",47],";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","cardinality",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_LNUMBER","3",48],";",["T_WHITESPACE","\n\n    ",48],["T_STRING","FieldStorageConfig",50],["T_DOUBLE_COLON","::",50],["T_STRING","create",50],"(",["T_ARRAY","array",50],"(",["T_WHITESPACE","\n      ",50],["T_CONSTANT_ENCAPSED_STRING","'field_name'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","fieldName",51],",",["T_WHITESPACE","\n      ",51],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","entityTypeId",52],",",["T_WHITESPACE","\n      ",52],["T_CONSTANT_ENCAPSED_STRING","'type'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'image'",53],",",["T_WHITESPACE","\n      ",53],["T_CONSTANT_ENCAPSED_STRING","'cardinality'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","cardinality",54],",",["T_WHITESPACE","\n    ",54],")",")",["T_OBJECT_OPERATOR","->",55],["T_STRING","save",55],"(",")",";",["T_WHITESPACE","\n\n    ",55],["T_STRING","FieldConfig",57],["T_DOUBLE_COLON","::",57],["T_STRING","create",57],"(","[",["T_WHITESPACE","\n      ",57],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","entityTypeId",58],",",["T_WHITESPACE","\n      ",58],["T_CONSTANT_ENCAPSED_STRING","'field_name'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","fieldName",59],",",["T_WHITESPACE","\n      ",59],["T_CONSTANT_ENCAPSED_STRING","'bundle'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","entityTypeId",60],",",["T_WHITESPACE","\n      ",60],["T_CONSTANT_ENCAPSED_STRING","'label'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'Test translatable image field'",61],",",["T_WHITESPACE","\n      ",61],["T_CONSTANT_ENCAPSED_STRING","'third_party_settings'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_ARRAY","array",62],"(",["T_WHITESPACE","\n        ",62],["T_CONSTANT_ENCAPSED_STRING","'content_translation'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_ARRAY","array",63],"(",["T_WHITESPACE","\n          ",63],["T_CONSTANT_ENCAPSED_STRING","'translation_sync'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_ARRAY","array",64],"(",["T_WHITESPACE","\n            ",64],["T_CONSTANT_ENCAPSED_STRING","'file'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_STRING","FALSE",65],",",["T_WHITESPACE","\n            ",65],["T_CONSTANT_ENCAPSED_STRING","'alt'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'alt'",66],",",["T_WHITESPACE","\n            ",66],["T_CONSTANT_ENCAPSED_STRING","'title'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'title'",67],",",["T_WHITESPACE","\n          ",67],")",",",["T_WHITESPACE","\n        ",68],")",",",["T_WHITESPACE","\n      ",69],")",",",["T_WHITESPACE","\n    ",70],"]",")",["T_OBJECT_OPERATOR","->",71],["T_STRING","save",71],"(",")",";",["T_WHITESPACE","\n  ",71],"}",["T_WHITESPACE","\n\n  ",72],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",74],["T_WHITESPACE","\n  ",76],["T_PROTECTED","protected",77],["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","getEditorPermissions",77],"(",")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n    ",77],["T_COMMENT","\/\/ Every entity-type-specific test needs to define these.\n",78],["T_WHITESPACE","    ",79],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_ARRAY","array",79],"(",["T_CONSTANT_ENCAPSED_STRING","'administer entity_test_mul fields'",79],",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'administer languages'",79],",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'administer content translation'",79],")",";",["T_WHITESPACE","\n  ",79],"}",["T_WHITESPACE","\n\n  ",80],["T_DOC_COMMENT","\/**\n   * Tests image field field synchronization.\n   *\/",82],["T_WHITESPACE","\n  ",84],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","testImageFieldSync",85],"(",")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n    ",85],["T_COMMENT","\/\/ Check that the alt and title fields are enabled for the image field.\n",86],["T_WHITESPACE","    ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","drupalLogin",87],"(",["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","editor",87],")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","drupalGet",88],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_mul\/structure\/'",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","entityTypeId",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'\/fields\/'",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","entityTypeId",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'.'",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","entityTypeId",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'.'",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","fieldName",88],")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertFieldChecked",89],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-third-party-settings-content-translation-translation-sync-alt'",89],")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertFieldChecked",90],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-third-party-settings-content-translation-translation-sync-title'",90],")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$edit",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_ARRAY","array",91],"(",["T_WHITESPACE","\n      ",91],["T_CONSTANT_ENCAPSED_STRING","'third_party_settings[content_translation][translation_sync][alt]'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_STRING","FALSE",92],",",["T_WHITESPACE","\n      ",92],["T_CONSTANT_ENCAPSED_STRING","'third_party_settings[content_translation][translation_sync][title]'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_STRING","FALSE",93],",",["T_WHITESPACE","\n    ",93],")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","drupalPostForm",95],"(",["T_STRING","NULL",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$edit",95],",",["T_WHITESPACE"," ",95],["T_STRING","t",95],"(",["T_CONSTANT_ENCAPSED_STRING","'Save settings'",95],")",")",";",["T_WHITESPACE","\n\n    ",95],["T_COMMENT","\/\/ Check that the content translation settings page reflects the changes\n",97],["T_WHITESPACE","    ",98],["T_COMMENT","\/\/ performed in the field edit page.\n",98],["T_WHITESPACE","    ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","drupalGet",99],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/content-language'",99],")",";",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertNoFieldChecked",100],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-settings-entity-test-mul-entity-test-mul-columns-field-test-et-ui-image-alt'",100],")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertNoFieldChecked",101],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-settings-entity-test-mul-entity-test-mul-columns-field-test-et-ui-image-title'",101],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$edit",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_ARRAY","array",102],"(",["T_WHITESPACE","\n      ",102],["T_CONSTANT_ENCAPSED_STRING","'settings[entity_test_mul][entity_test_mul][fields][field_test_et_ui_image]'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_STRING","TRUE",103],",",["T_WHITESPACE","\n      ",103],["T_CONSTANT_ENCAPSED_STRING","'settings[entity_test_mul][entity_test_mul][columns][field_test_et_ui_image][alt]'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_STRING","TRUE",104],",",["T_WHITESPACE","\n      ",104],["T_CONSTANT_ENCAPSED_STRING","'settings[entity_test_mul][entity_test_mul][columns][field_test_et_ui_image][title]'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_STRING","TRUE",105],",",["T_WHITESPACE","\n    ",105],")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","drupalPostForm",107],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/regional\/content-language'",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$edit",107],",",["T_WHITESPACE"," ",107],["T_STRING","t",107],"(",["T_CONSTANT_ENCAPSED_STRING","'Save configuration'",107],")",")",";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$errors",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","xpath",108],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/div[contains(@class, \"messages--error\")]'",108],")",";",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertFalse",109],"(",["T_VARIABLE","$errors",109],",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'Settings correctly stored.'",109],")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertFieldChecked",110],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-settings-entity-test-mul-entity-test-mul-columns-field-test-et-ui-image-alt'",110],")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertFieldChecked",111],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-settings-entity-test-mul-entity-test-mul-columns-field-test-et-ui-image-title'",111],")",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","drupalLogin",112],"(",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","translator",112],")",";",["T_WHITESPACE","\n\n    ",112],["T_VARIABLE","$default_langcode",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","langcodes",114],"[",["T_LNUMBER","0",114],"]",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$langcode",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","langcodes",115],"[",["T_LNUMBER","1",115],"]",";",["T_WHITESPACE","\n\n    ",115],["T_COMMENT","\/\/ Populate the test entity with some random initial values.\n",117],["T_WHITESPACE","    ",118],["T_VARIABLE","$values",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_ARRAY","array",118],"(",["T_WHITESPACE","\n      ",118],["T_CONSTANT_ENCAPSED_STRING","'name'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","randomMachineName",119],"(",")",",",["T_WHITESPACE","\n      ",119],["T_CONSTANT_ENCAPSED_STRING","'user_id'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_STRING","mt_rand",120],"(",["T_LNUMBER","1",120],",",["T_WHITESPACE"," ",120],["T_LNUMBER","128",120],")",",",["T_WHITESPACE","\n      ",120],["T_CONSTANT_ENCAPSED_STRING","'langcode'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$default_langcode",121],",",["T_WHITESPACE","\n    ",121],")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$entity",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_STRING","entity_create",123],"(",["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","entityTypeId",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$values",123],")",";",["T_WHITESPACE","\n\n    ",123],["T_COMMENT","\/\/ Create some file entities from the generated test files and store them.\n",125],["T_WHITESPACE","    ",126],["T_VARIABLE","$values",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_ARRAY","array",126],"(",")",";",["T_WHITESPACE","\n    ",126],["T_FOR","for",127],["T_WHITESPACE"," ",127],"(",["T_VARIABLE","$delta",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_LNUMBER","0",127],";",["T_WHITESPACE"," ",127],["T_VARIABLE","$delta",127],["T_WHITESPACE"," ",127],"<",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","cardinality",127],";",["T_WHITESPACE"," ",127],["T_VARIABLE","$delta",127],["T_INC","++",127],")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n      ",127],["T_COMMENT","\/\/ For the default language use the same order for files and field items.\n",128],["T_WHITESPACE","      ",129],["T_VARIABLE","$index",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$delta",129],";",["T_WHITESPACE","\n\n      ",129],["T_COMMENT","\/\/ Create the file entity for the image being processed and record its\n",131],["T_WHITESPACE","      ",132],["T_COMMENT","\/\/ identifier.\n",132],["T_WHITESPACE","      ",133],["T_VARIABLE","$field_values",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_ARRAY","array",133],"(",["T_WHITESPACE","\n        ",133],["T_CONSTANT_ENCAPSED_STRING","'uri'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","files",134],"[",["T_VARIABLE","$index",134],"]",["T_OBJECT_OPERATOR","->",134],["T_STRING","uri",134],",",["T_WHITESPACE","\n        ",134],["T_CONSTANT_ENCAPSED_STRING","'uid'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_NS_SEPARATOR","\\",135],["T_STRING","Drupal",135],["T_DOUBLE_COLON","::",135],["T_STRING","currentUser",135],"(",")",["T_OBJECT_OPERATOR","->",135],["T_STRING","id",135],"(",")",",",["T_WHITESPACE","\n        ",135],["T_CONSTANT_ENCAPSED_STRING","'status'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_STRING","FILE_STATUS_PERMANENT",136],",",["T_WHITESPACE","\n      ",136],")",";",["T_WHITESPACE","\n      ",137],["T_VARIABLE","$file",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_STRING","File",138],["T_DOUBLE_COLON","::",138],["T_STRING","create",138],"(",["T_VARIABLE","$field_values",138],")",";",["T_WHITESPACE","\n      ",138],["T_VARIABLE","$file",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","save",139],"(",")",";",["T_WHITESPACE","\n      ",139],["T_VARIABLE","$fid",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$file",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","id",140],"(",")",";",["T_WHITESPACE","\n      ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","files",141],"[",["T_VARIABLE","$index",141],"]",["T_OBJECT_OPERATOR","->",141],["T_STRING","fid",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$fid",141],";",["T_WHITESPACE","\n\n      ",141],["T_COMMENT","\/\/ Generate the item for the current image file entity and attach it to\n",143],["T_WHITESPACE","      ",144],["T_COMMENT","\/\/ the entity.\n",144],["T_WHITESPACE","      ",145],["T_VARIABLE","$item",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_ARRAY","array",145],"(",["T_WHITESPACE","\n        ",145],["T_CONSTANT_ENCAPSED_STRING","'target_id'",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$fid",146],",",["T_WHITESPACE","\n        ",146],["T_CONSTANT_ENCAPSED_STRING","'alt'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$default_langcode",147],["T_WHITESPACE"," ",147],".",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'_'",147],["T_WHITESPACE"," ",147],".",["T_WHITESPACE"," ",147],["T_VARIABLE","$fid",147],["T_WHITESPACE"," ",147],".",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'_'",147],["T_WHITESPACE"," ",147],".",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","randomMachineName",147],"(",")",",",["T_WHITESPACE","\n        ",147],["T_CONSTANT_ENCAPSED_STRING","'title'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$default_langcode",148],["T_WHITESPACE"," ",148],".",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'_'",148],["T_WHITESPACE"," ",148],".",["T_WHITESPACE"," ",148],["T_VARIABLE","$fid",148],["T_WHITESPACE"," ",148],".",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'_'",148],["T_WHITESPACE"," ",148],".",["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","randomMachineName",148],"(",")",",",["T_WHITESPACE","\n      ",148],")",";",["T_WHITESPACE","\n      ",149],["T_VARIABLE","$entity",150],["T_OBJECT_OPERATOR","->",150],"{",["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","fieldName",150],"}","[","]",["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$item",150],";",["T_WHITESPACE","\n\n      ",150],["T_COMMENT","\/\/ Store the generated values keying them by fid for easier lookup.\n",152],["T_WHITESPACE","      ",153],["T_VARIABLE","$values",153],"[",["T_VARIABLE","$default_langcode",153],"]","[",["T_VARIABLE","$fid",153],"]",["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$item",153],";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$entity",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","saveEntity",155],"(",["T_VARIABLE","$entity",155],")",";",["T_WHITESPACE","\n\n    ",155],["T_COMMENT","\/\/ Create some field translations for the test image field. The translated\n",157],["T_WHITESPACE","    ",158],["T_COMMENT","\/\/ items will be one less than the original values to check that only the\n",158],["T_WHITESPACE","    ",159],["T_COMMENT","\/\/ translated ones will be preserved. In fact we want the same fids and\n",159],["T_WHITESPACE","    ",160],["T_COMMENT","\/\/ items order for both languages.\n",160],["T_WHITESPACE","    ",161],["T_VARIABLE","$translation",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$entity",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","addTranslation",161],"(",["T_VARIABLE","$langcode",161],")",";",["T_WHITESPACE","\n    ",161],["T_FOR","for",162],["T_WHITESPACE"," ",162],"(",["T_VARIABLE","$delta",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_LNUMBER","0",162],";",["T_WHITESPACE"," ",162],["T_VARIABLE","$delta",162],["T_WHITESPACE"," ",162],"<",["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","cardinality",162],["T_WHITESPACE"," ",162],"-",["T_WHITESPACE"," ",162],["T_LNUMBER","1",162],";",["T_WHITESPACE"," ",162],["T_VARIABLE","$delta",162],["T_INC","++",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n      ",162],["T_COMMENT","\/\/ Simulate a field reordering: items are shifted of one position ahead.\n",163],["T_WHITESPACE","      ",164],["T_COMMENT","\/\/ The modulo operator ensures we start from the beginning after reaching\n",164],["T_WHITESPACE","      ",165],["T_COMMENT","\/\/ the maximum allowed delta.\n",165],["T_WHITESPACE","      ",166],["T_VARIABLE","$index",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$delta",166],["T_WHITESPACE"," ",166],"+",["T_WHITESPACE"," ",166],["T_LNUMBER","1",166],")",["T_WHITESPACE"," ",166],"%",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","cardinality",166],";",["T_WHITESPACE","\n\n      ",166],["T_COMMENT","\/\/ Generate the item for the current image file entity and attach it to\n",168],["T_WHITESPACE","      ",169],["T_COMMENT","\/\/ the entity.\n",169],["T_WHITESPACE","      ",170],["T_VARIABLE","$fid",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","files",170],"[",["T_VARIABLE","$index",170],"]",["T_OBJECT_OPERATOR","->",170],["T_STRING","fid",170],";",["T_WHITESPACE","\n      ",170],["T_VARIABLE","$item",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_ARRAY","array",171],"(",["T_WHITESPACE","\n        ",171],["T_CONSTANT_ENCAPSED_STRING","'target_id'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$fid",172],",",["T_WHITESPACE","\n        ",172],["T_CONSTANT_ENCAPSED_STRING","'alt'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$langcode",173],["T_WHITESPACE"," ",173],".",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'_'",173],["T_WHITESPACE"," ",173],".",["T_WHITESPACE"," ",173],["T_VARIABLE","$fid",173],["T_WHITESPACE"," ",173],".",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'_'",173],["T_WHITESPACE"," ",173],".",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","randomMachineName",173],"(",")",",",["T_WHITESPACE","\n        ",173],["T_CONSTANT_ENCAPSED_STRING","'title'",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$langcode",174],["T_WHITESPACE"," ",174],".",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'_'",174],["T_WHITESPACE"," ",174],".",["T_WHITESPACE"," ",174],["T_VARIABLE","$fid",174],["T_WHITESPACE"," ",174],".",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'_'",174],["T_WHITESPACE"," ",174],".",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","randomMachineName",174],"(",")",",",["T_WHITESPACE","\n      ",174],")",";",["T_WHITESPACE","\n      ",175],["T_VARIABLE","$translation",176],["T_OBJECT_OPERATOR","->",176],"{",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","fieldName",176],"}","[","]",["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$item",176],";",["T_WHITESPACE","\n\n      ",176],["T_COMMENT","\/\/ Again store the generated values keying them by fid for easier lookup.\n",178],["T_WHITESPACE","      ",179],["T_VARIABLE","$values",179],"[",["T_VARIABLE","$langcode",179],"]","[",["T_VARIABLE","$fid",179],"]",["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$item",179],";",["T_WHITESPACE","\n    ",179],"}",["T_WHITESPACE","\n\n    ",180],["T_COMMENT","\/\/ Perform synchronization: the translation language is used as source,\n",182],["T_WHITESPACE","    ",183],["T_COMMENT","\/\/ while the default language is used as target.\n",183],["T_WHITESPACE","    ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","manager",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getTranslationMetadata",184],"(",["T_VARIABLE","$translation",184],")",["T_OBJECT_OPERATOR","->",184],["T_STRING","setSource",184],"(",["T_VARIABLE","$default_langcode",184],")",";",["T_WHITESPACE","\n    ",184],["T_VARIABLE","$entity",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","saveEntity",185],"(",["T_VARIABLE","$translation",185],")",";",["T_WHITESPACE","\n    ",185],["T_VARIABLE","$translation",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$entity",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getTranslation",186],"(",["T_VARIABLE","$langcode",186],")",";",["T_WHITESPACE","\n\n    ",186],["T_COMMENT","\/\/ Check that one value has been dropped from the original values.\n",188],["T_WHITESPACE","    ",189],["T_VARIABLE","$assert",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_STRING","count",189],"(",["T_VARIABLE","$entity",189],["T_OBJECT_OPERATOR","->",189],"{",["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","fieldName",189],"}",")",["T_WHITESPACE"," ",189],["T_IS_EQUAL","==",189],["T_WHITESPACE"," ",189],["T_LNUMBER","2",189],";",["T_WHITESPACE","\n    ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","assertTrue",190],"(",["T_VARIABLE","$assert",190],",",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'One item correctly removed from the synchronized field values.'",190],")",";",["T_WHITESPACE","\n\n    ",190],["T_COMMENT","\/\/ Check that fids have been synchronized and translatable column values\n",192],["T_WHITESPACE","    ",193],["T_COMMENT","\/\/ have been retained.\n",193],["T_WHITESPACE","    ",194],["T_VARIABLE","$fids",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_ARRAY","array",194],"(",")",";",["T_WHITESPACE","\n    ",194],["T_FOREACH","foreach",195],["T_WHITESPACE"," ",195],"(",["T_VARIABLE","$entity",195],["T_OBJECT_OPERATOR","->",195],"{",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","fieldName",195],"}",["T_WHITESPACE"," ",195],["T_AS","as",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$delta",195],["T_WHITESPACE"," ",195],["T_DOUBLE_ARROW","=>",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$item",195],")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n      ",195],["T_VARIABLE","$value",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$values",196],"[",["T_VARIABLE","$default_langcode",196],"]","[",["T_VARIABLE","$item",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","target_id",196],"]",";",["T_WHITESPACE","\n      ",196],["T_VARIABLE","$source_item",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$translation",197],["T_OBJECT_OPERATOR","->",197],"{",["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","fieldName",197],"}",["T_OBJECT_OPERATOR","->",197],["T_STRING","get",197],"(",["T_VARIABLE","$delta",197],")",";",["T_WHITESPACE","\n      ",197],["T_VARIABLE","$assert",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$item",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","target_id",198],["T_WHITESPACE"," ",198],["T_IS_EQUAL","==",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$source_item",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","target_id",198],["T_WHITESPACE"," ",198],["T_BOOLEAN_AND","&&",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$item",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","alt",198],["T_WHITESPACE"," ",198],["T_IS_EQUAL","==",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$value",198],"[",["T_CONSTANT_ENCAPSED_STRING","'alt'",198],"]",["T_WHITESPACE"," ",198],["T_BOOLEAN_AND","&&",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$item",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","title",198],["T_WHITESPACE"," ",198],["T_IS_EQUAL","==",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$value",198],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",198],"]",";",["T_WHITESPACE","\n      ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","assertTrue",199],"(",["T_VARIABLE","$assert",199],",",["T_WHITESPACE"," ",199],["T_STRING","format_string",199],"(",["T_CONSTANT_ENCAPSED_STRING","'Field item @fid has been successfully synchronized.'",199],",",["T_WHITESPACE"," ",199],["T_ARRAY","array",199],"(",["T_CONSTANT_ENCAPSED_STRING","'@fid'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$item",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","target_id",199],")",")",")",";",["T_WHITESPACE","\n      ",199],["T_VARIABLE","$fids",200],"[",["T_VARIABLE","$item",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","target_id",200],"]",["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_STRING","TRUE",200],";",["T_WHITESPACE","\n    ",200],"}",["T_WHITESPACE","\n\n    ",201],["T_COMMENT","\/\/ Check that the dropped value is the right one.\n",203],["T_WHITESPACE","    ",204],["T_VARIABLE","$removed_fid",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","files",204],"[",["T_LNUMBER","0",204],"]",["T_OBJECT_OPERATOR","->",204],["T_STRING","fid",204],";",["T_WHITESPACE","\n    ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","assertTrue",205],"(","!",["T_ISSET","isset",205],"(",["T_VARIABLE","$fids",205],"[",["T_VARIABLE","$removed_fid",205],"]",")",",",["T_WHITESPACE"," ",205],["T_STRING","format_string",205],"(",["T_CONSTANT_ENCAPSED_STRING","'Field item @fid has been correctly removed.'",205],",",["T_WHITESPACE"," ",205],["T_ARRAY","array",205],"(",["T_CONSTANT_ENCAPSED_STRING","'@fid'",205],["T_WHITESPACE"," ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$removed_fid",205],")",")",")",";",["T_WHITESPACE","\n\n    ",205],["T_COMMENT","\/\/ Add back an item for the dropped value and perform synchronization again.\n",207],["T_WHITESPACE","    ",208],["T_VARIABLE","$values",208],"[",["T_VARIABLE","$langcode",208],"]","[",["T_VARIABLE","$removed_fid",208],"]",["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_ARRAY","array",208],"(",["T_WHITESPACE","\n      ",208],["T_CONSTANT_ENCAPSED_STRING","'target_id'",209],["T_WHITESPACE"," ",209],["T_DOUBLE_ARROW","=>",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$removed_fid",209],",",["T_WHITESPACE","\n      ",209],["T_CONSTANT_ENCAPSED_STRING","'alt'",210],["T_WHITESPACE"," ",210],["T_DOUBLE_ARROW","=>",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$langcode",210],["T_WHITESPACE"," ",210],".",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'_'",210],["T_WHITESPACE"," ",210],".",["T_WHITESPACE"," ",210],["T_VARIABLE","$removed_fid",210],["T_WHITESPACE"," ",210],".",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'_'",210],["T_WHITESPACE"," ",210],".",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","randomMachineName",210],"(",")",",",["T_WHITESPACE","\n      ",210],["T_CONSTANT_ENCAPSED_STRING","'title'",211],["T_WHITESPACE"," ",211],["T_DOUBLE_ARROW","=>",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$langcode",211],["T_WHITESPACE"," ",211],".",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'_'",211],["T_WHITESPACE"," ",211],".",["T_WHITESPACE"," ",211],["T_VARIABLE","$removed_fid",211],["T_WHITESPACE"," ",211],".",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'_'",211],["T_WHITESPACE"," ",211],".",["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","randomMachineName",211],"(",")",",",["T_WHITESPACE","\n    ",211],")",";",["T_WHITESPACE","\n    ",212],["T_VARIABLE","$translation",213],["T_OBJECT_OPERATOR","->",213],"{",["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","fieldName",213],"}",["T_OBJECT_OPERATOR","->",213],["T_STRING","setValue",213],"(",["T_STRING","array_values",213],"(",["T_VARIABLE","$values",213],"[",["T_VARIABLE","$langcode",213],"]",")",")",";",["T_WHITESPACE","\n    ",213],["T_VARIABLE","$entity",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","saveEntity",214],"(",["T_VARIABLE","$translation",214],")",";",["T_WHITESPACE","\n    ",214],["T_VARIABLE","$translation",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$entity",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getTranslation",215],"(",["T_VARIABLE","$langcode",215],")",";",["T_WHITESPACE","\n\n    ",215],["T_COMMENT","\/\/ Check that the value has been added to the default language.\n",217],["T_WHITESPACE","    ",218],["T_VARIABLE","$assert",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_STRING","count",218],"(",["T_VARIABLE","$entity",218],["T_OBJECT_OPERATOR","->",218],"{",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","fieldName",218],"}",["T_OBJECT_OPERATOR","->",218],["T_STRING","getValue",218],"(",")",")",["T_WHITESPACE"," ",218],["T_IS_EQUAL","==",218],["T_WHITESPACE"," ",218],["T_LNUMBER","3",218],";",["T_WHITESPACE","\n    ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","assertTrue",219],"(",["T_VARIABLE","$assert",219],",",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'One item correctly added to the synchronized field values.'",219],")",";",["T_WHITESPACE","\n\n    ",219],["T_FOREACH","foreach",221],["T_WHITESPACE"," ",221],"(",["T_VARIABLE","$entity",221],["T_OBJECT_OPERATOR","->",221],"{",["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","fieldName",221],"}",["T_WHITESPACE"," ",221],["T_AS","as",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$delta",221],["T_WHITESPACE"," ",221],["T_DOUBLE_ARROW","=>",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$item",221],")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n      ",221],["T_COMMENT","\/\/ When adding an item its value is copied over all the target languages,\n",222],["T_WHITESPACE","      ",223],["T_COMMENT","\/\/ thus in this case the source language needs to be used to check the\n",223],["T_WHITESPACE","      ",224],["T_COMMENT","\/\/ values instead of the target one.\n",224],["T_WHITESPACE","      ",225],["T_VARIABLE","$fid_langcode",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$item",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","target_id",225],["T_WHITESPACE"," ",225],["T_IS_NOT_EQUAL","!=",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$removed_fid",225],["T_WHITESPACE"," ",225],"?",["T_WHITESPACE"," ",225],["T_VARIABLE","$default_langcode",225],["T_WHITESPACE"," ",225],":",["T_WHITESPACE"," ",225],["T_VARIABLE","$langcode",225],";",["T_WHITESPACE","\n      ",225],["T_VARIABLE","$value",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$values",226],"[",["T_VARIABLE","$fid_langcode",226],"]","[",["T_VARIABLE","$item",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","target_id",226],"]",";",["T_WHITESPACE","\n      ",226],["T_VARIABLE","$source_item",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$translation",227],["T_OBJECT_OPERATOR","->",227],"{",["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","fieldName",227],"}",["T_OBJECT_OPERATOR","->",227],["T_STRING","get",227],"(",["T_VARIABLE","$delta",227],")",";",["T_WHITESPACE","\n      ",227],["T_VARIABLE","$assert",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_VARIABLE","$item",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","target_id",228],["T_WHITESPACE"," ",228],["T_IS_EQUAL","==",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$source_item",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","target_id",228],["T_WHITESPACE"," ",228],["T_BOOLEAN_AND","&&",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$item",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","alt",228],["T_WHITESPACE"," ",228],["T_IS_EQUAL","==",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$value",228],"[",["T_CONSTANT_ENCAPSED_STRING","'alt'",228],"]",["T_WHITESPACE"," ",228],["T_BOOLEAN_AND","&&",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$item",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","title",228],["T_WHITESPACE"," ",228],["T_IS_EQUAL","==",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$value",228],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",228],"]",";",["T_WHITESPACE","\n      ",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","assertTrue",229],"(",["T_VARIABLE","$assert",229],",",["T_WHITESPACE"," ",229],["T_STRING","format_string",229],"(",["T_CONSTANT_ENCAPSED_STRING","'Field item @fid has been successfully synchronized.'",229],",",["T_WHITESPACE"," ",229],["T_ARRAY","array",229],"(",["T_CONSTANT_ENCAPSED_STRING","'@fid'",229],["T_WHITESPACE"," ",229],["T_DOUBLE_ARROW","=>",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$item",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","target_id",229],")",")",")",";",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n  ",230],"}",["T_WHITESPACE","\n\n  ",231],["T_DOC_COMMENT","\/**\n   * Saves the passed entity and reloads it, enabling compatibility mode.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityInterface $entity\n   *   The entity to be saved.\n   *\n   * @return \\Drupal\\Core\\Entity\\EntityInterface\n   *   The saved entity.\n   *\/",233],["T_WHITESPACE","\n  ",241],["T_PROTECTED","protected",242],["T_WHITESPACE"," ",242],["T_FUNCTION","function",242],["T_WHITESPACE"," ",242],["T_STRING","saveEntity",242],"(",["T_STRING","EntityInterface",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$entity",242],")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n    ",242],["T_VARIABLE","$entity",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","save",243],"(",")",";",["T_WHITESPACE","\n    ",243],["T_VARIABLE","$entity",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_STRING","entity_test_mul_load",244],"(",["T_VARIABLE","$entity",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","id",244],"(",")",",",["T_WHITESPACE"," ",244],["T_STRING","TRUE",244],")",";",["T_WHITESPACE","\n    ",244],["T_RETURN","return",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$entity",245],";",["T_WHITESPACE","\n  ",245],"}",["T_WHITESPACE","\n\n",246],"}",["T_WHITESPACE","\n",248]]