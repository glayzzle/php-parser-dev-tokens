[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","content_translation",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","EntityInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","EntityManagerInterface",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Provides common functionality for content translation.\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","ContentTranslationManager",11],["T_WHITESPACE"," ",11],["T_IMPLEMENTS","implements",11],["T_WHITESPACE"," ",11],["T_STRING","ContentTranslationManagerInterface",11],["T_WHITESPACE"," ",11],"{",["T_WHITESPACE","\n\n  ",11],["T_DOC_COMMENT","\/**\n   * The entity type manager.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityManagerInterface\n   *\/",13],["T_WHITESPACE","\n  ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$entityManager",18],";",["T_WHITESPACE","\n\n  ",18],["T_DOC_COMMENT","\/**\n   * The updates manager.\n   *\n   * @var \\Drupal\\content_translation\\ContentTranslationUpdatesManager\n   *\/",20],["T_WHITESPACE","\n  ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$updatesManager",25],";",["T_WHITESPACE","\n\n  ",25],["T_DOC_COMMENT","\/**\n   * Constructs a ContentTranslationManageAccessCheck object.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityManagerInterface $manager\n   *   The entity type manager.\n   * @param \\Drupal\\content_translation\\ContentTranslationUpdatesManager $updates_manager\n   *   The updates manager.\n   *\/",27],["T_WHITESPACE","\n  ",34],["T_PUBLIC","public",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","__construct",35],"(",["T_STRING","EntityManagerInterface",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$manager",35],",",["T_WHITESPACE"," ",35],["T_STRING","ContentTranslationUpdatesManager",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$updates_manager",35],")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","entityManager",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$manager",36],";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","updatesManager",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$updates_manager",37],";",["T_WHITESPACE","\n  ",37],"}",["T_WHITESPACE","\n\n  ",38],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",40],["T_WHITESPACE","\n  ",42],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","getTranslationHandler",43],"(",["T_VARIABLE","$entity_type_id",43],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n    ",43],["T_RETURN","return",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","entityManager",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","getHandler",44],"(",["T_VARIABLE","$entity_type_id",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'translation'",44],")",";",["T_WHITESPACE","\n  ",44],"}",["T_WHITESPACE","\n\n  ",45],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",47],["T_WHITESPACE","\n  ",49],["T_PUBLIC","public",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","getTranslationMetadata",50],"(",["T_STRING","EntityInterface",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$translation",50],")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n    ",50],["T_COMMENT","\/\/ We need a new instance of the metadata handler wrapping each translation.\n",51],["T_WHITESPACE","    ",52],["T_VARIABLE","$entity_type",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$translation",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getEntityType",52],"(",")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$class",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$entity_type",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","get",53],"(",["T_CONSTANT_ENCAPSED_STRING","'content_translation_metadata'",53],")",";",["T_WHITESPACE","\n    ",53],["T_RETURN","return",54],["T_WHITESPACE"," ",54],["T_NEW","new",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$class",54],"(",["T_VARIABLE","$translation",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getTranslationHandler",54],"(",["T_VARIABLE","$entity_type",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","id",54],"(",")",")",")",";",["T_WHITESPACE","\n  ",54],"}",["T_WHITESPACE","\n\n  ",55],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",57],["T_WHITESPACE","\n  ",59],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","isSupported",60],"(",["T_VARIABLE","$entity_type_id",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$entity_type",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","entityManager",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getDefinition",61],"(",["T_VARIABLE","$entity_type_id",61],")",";",["T_WHITESPACE","\n    ",61],["T_RETURN","return",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$entity_type",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","isTranslatable",62],"(",")",["T_WHITESPACE"," ",62],["T_BOOLEAN_AND","&&",62],["T_WHITESPACE"," ",62],"(",["T_VARIABLE","$entity_type",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","hasLinkTemplate",62],"(",["T_CONSTANT_ENCAPSED_STRING","'drupal:content-translation-overview'",62],")",["T_WHITESPACE"," ",62],["T_BOOLEAN_OR","||",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$entity_type",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","get",62],"(",["T_CONSTANT_ENCAPSED_STRING","'content_translation_ui_skip'",62],")",")",";",["T_WHITESPACE","\n  ",62],"}",["T_WHITESPACE","\n\n  ",63],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",65],["T_WHITESPACE","\n  ",67],["T_PUBLIC","public",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","getSupportedEntityTypes",68],"(",")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$supported_types",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_ARRAY","array",69],"(",")",";",["T_WHITESPACE","\n    ",69],["T_FOREACH","foreach",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","entityManager",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getDefinitions",70],"(",")",["T_WHITESPACE"," ",70],["T_AS","as",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$entity_type_id",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$entity_type",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n      ",70],["T_IF","if",71],["T_WHITESPACE"," ",71],"(",["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","isSupported",71],"(",["T_VARIABLE","$entity_type_id",71],")",")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$supported_types",72],"[",["T_VARIABLE","$entity_type_id",72],"]",["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$entity_type",72],";",["T_WHITESPACE","\n      ",72],"}",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n    ",74],["T_RETURN","return",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$supported_types",75],";",["T_WHITESPACE","\n  ",75],"}",["T_WHITESPACE","\n\n  ",76],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",78],["T_WHITESPACE","\n  ",80],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","setEnabled",81],"(",["T_VARIABLE","$entity_type_id",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$bundle",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$value",81],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$config",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","loadContentLanguageSettings",82],"(",["T_VARIABLE","$entity_type_id",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$bundle",82],")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$config",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","setThirdPartySetting",83],"(",["T_CONSTANT_ENCAPSED_STRING","'content_translation'",83],",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'enabled'",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$value",83],")",["T_OBJECT_OPERATOR","->",83],["T_STRING","save",83],"(",")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$entity_type",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","entityManager",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getDefinition",84],"(",["T_VARIABLE","$entity_type_id",84],")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","updatesManager",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","updateDefinitions",85],"(",["T_ARRAY","array",85],"(",["T_VARIABLE","$entity_type_id",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$entity_type",85],")",")",";",["T_WHITESPACE","\n  ",85],"}",["T_WHITESPACE","\n\n  ",86],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",88],["T_WHITESPACE","\n  ",90],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","isEnabled",91],"(",["T_VARIABLE","$entity_type_id",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$bundle",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_STRING","NULL",91],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$enabled",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_STRING","FALSE",92],";",["T_WHITESPACE","\n\n    ",92],["T_IF","if",94],["T_WHITESPACE"," ",94],"(",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","isSupported",94],"(",["T_VARIABLE","$entity_type_id",94],")",")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n      ",94],["T_VARIABLE","$bundles",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],"!",["T_EMPTY","empty",95],"(",["T_VARIABLE","$bundle",95],")",["T_WHITESPACE"," ",95],"?",["T_WHITESPACE"," ",95],["T_ARRAY","array",95],"(",["T_VARIABLE","$bundle",95],")",["T_WHITESPACE"," ",95],":",["T_WHITESPACE"," ",95],["T_STRING","array_keys",95],"(",["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","entityManager",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getBundleInfo",95],"(",["T_VARIABLE","$entity_type_id",95],")",")",";",["T_WHITESPACE","\n      ",95],["T_FOREACH","foreach",96],["T_WHITESPACE"," ",96],"(",["T_VARIABLE","$bundles",96],["T_WHITESPACE"," ",96],["T_AS","as",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$bundle",96],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$config",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","loadContentLanguageSettings",97],"(",["T_VARIABLE","$entity_type_id",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$bundle",97],")",";",["T_WHITESPACE","\n        ",97],["T_IF","if",98],["T_WHITESPACE"," ",98],"(",["T_VARIABLE","$config",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getThirdPartySetting",98],"(",["T_CONSTANT_ENCAPSED_STRING","'content_translation'",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'enabled'",98],",",["T_WHITESPACE"," ",98],["T_STRING","FALSE",98],")",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n          ",98],["T_VARIABLE","$enabled",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_STRING","TRUE",99],";",["T_WHITESPACE","\n          ",99],["T_BREAK","break",100],";",["T_WHITESPACE","\n        ",100],"}",["T_WHITESPACE","\n      ",101],"}",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_RETURN","return",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$enabled",105],";",["T_WHITESPACE","\n  ",105],"}",["T_WHITESPACE","\n\n  ",106],["T_DOC_COMMENT","\/**\n   * Loads a content language config entity based on the entity type and bundle.\n   *\n   * @param string $entity_type_id\n   *   ID of the entity type.\n   * @param string $bundle\n   *   Bundle name.\n   *\n   * @return \\Drupal\\language\\Entity\\ContentLanguageSettings\n   *   The content language config entity if one exists. Otherwise, returns\n   *   default values.\n   *\/",108],["T_WHITESPACE","\n  ",119],["T_PROTECTED","protected",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","loadContentLanguageSettings",120],"(",["T_VARIABLE","$entity_type_id",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$bundle",120],")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n    ",120],["T_IF","if",121],["T_WHITESPACE"," ",121],"(",["T_VARIABLE","$entity_type_id",121],["T_WHITESPACE"," ",121],["T_IS_EQUAL","==",121],["T_WHITESPACE"," ",121],["T_STRING","NULL",121],["T_WHITESPACE"," ",121],["T_BOOLEAN_OR","||",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$bundle",121],["T_WHITESPACE"," ",121],["T_IS_EQUAL","==",121],["T_WHITESPACE"," ",121],["T_STRING","NULL",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n      ",121],["T_RETURN","return",122],["T_WHITESPACE"," ",122],["T_STRING","NULL",122],";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$config",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","entityManager",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getStorage",124],"(",["T_CONSTANT_ENCAPSED_STRING","'language_content_settings'",124],")",["T_OBJECT_OPERATOR","->",124],["T_STRING","load",124],"(",["T_VARIABLE","$entity_type_id",124],["T_WHITESPACE"," ",124],".",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'.'",124],["T_WHITESPACE"," ",124],".",["T_WHITESPACE"," ",124],["T_VARIABLE","$bundle",124],")",";",["T_WHITESPACE","\n    ",124],["T_IF","if",125],["T_WHITESPACE"," ",125],"(",["T_VARIABLE","$config",125],["T_WHITESPACE"," ",125],["T_IS_EQUAL","==",125],["T_WHITESPACE"," ",125],["T_STRING","NULL",125],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n      ",125],["T_VARIABLE","$config",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","entityManager",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getStorage",126],"(",["T_CONSTANT_ENCAPSED_STRING","'language_content_settings'",126],")",["T_OBJECT_OPERATOR","->",126],["T_STRING","create",126],"(","[",["T_CONSTANT_ENCAPSED_STRING","'target_entity_type_id'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$entity_type_id",126],",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'target_bundle'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$bundle",126],"]",")",";",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n    ",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$config",128],";",["T_WHITESPACE","\n  ",128],"}",["T_WHITESPACE","\n\n",129],"}",["T_WHITESPACE","\n",131]]