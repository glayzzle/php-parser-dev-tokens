[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","aggregator",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","aggregator",3],["T_NS_SEPARATOR","\\",3],["T_STRING","parser",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","aggregator",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Plugin",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ParserInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","aggregator",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FeedInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Zend",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Feed",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Reader",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Reader",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Zend",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Feed",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Reader",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Exception",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ExceptionInterface",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Defines a default parser implementation.\n *\n * Parses RSS, Atom and RDF feeds.\n *\n * @AggregatorParser(\n *   id = \"aggregator\",\n *   title = @Translation(\"Default parser\"),\n *   description = @Translation(\"Default parser for RSS, Atom and RDF feeds.\")\n * )\n *\/",10],["T_WHITESPACE","\n",20],["T_CLASS","class",21],["T_WHITESPACE"," ",21],["T_STRING","DefaultParser",21],["T_WHITESPACE"," ",21],["T_IMPLEMENTS","implements",21],["T_WHITESPACE"," ",21],["T_STRING","ParserInterface",21],["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",23],["T_WHITESPACE","\n  ",25],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","parse",26],"(",["T_STRING","FeedInterface",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$feed",26],")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n    ",26],["T_COMMENT","\/\/ Set our bridge extension manager to Zend Feed.\n",27],["T_WHITESPACE","    ",28],["T_STRING","Reader",28],["T_DOUBLE_COLON","::",28],["T_STRING","setExtensionManager",28],"(",["T_NS_SEPARATOR","\\",28],["T_STRING","Drupal",28],["T_DOUBLE_COLON","::",28],["T_STRING","service",28],"(",["T_CONSTANT_ENCAPSED_STRING","'feed.bridge.reader'",28],")",")",";",["T_WHITESPACE","\n    ",28],["T_TRY","try",29],["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n      ",29],["T_VARIABLE","$channel",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_STRING","Reader",30],["T_DOUBLE_COLON","::",30],["T_STRING","importString",30],"(",["T_VARIABLE","$feed",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","source_string",30],")",";",["T_WHITESPACE","\n    ",30],"}",["T_WHITESPACE","\n    ",31],["T_CATCH","catch",32],["T_WHITESPACE"," ",32],"(",["T_STRING","ExceptionInterface",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$e",32],")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n      ",32],["T_STRING","watchdog_exception",33],"(",["T_CONSTANT_ENCAPSED_STRING","'aggregator'",33],",",["T_WHITESPACE"," ",33],["T_VARIABLE","$e",33],")",";",["T_WHITESPACE","\n      ",33],["T_STRING","drupal_set_message",34],"(",["T_STRING","t",34],"(",["T_CONSTANT_ENCAPSED_STRING","'The feed from %site seems to be broken because of error \"%error\".'",34],",",["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",["T_CONSTANT_ENCAPSED_STRING","'%site'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$feed",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","label",34],"(",")",",",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'%error'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$e",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","getMessage",34],"(",")",")",")",",",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'error'",34],")",";",["T_WHITESPACE","\n\n      ",34],["T_RETURN","return",36],["T_WHITESPACE"," ",36],["T_STRING","FALSE",36],";",["T_WHITESPACE","\n    ",36],"}",["T_WHITESPACE","\n\n    ",37],["T_VARIABLE","$feed",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","setWebsiteUrl",39],"(",["T_VARIABLE","$channel",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","getLink",39],"(",")",")",";",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$feed",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","setDescription",40],"(",["T_VARIABLE","$channel",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","getDescription",40],"(",")",")",";",["T_WHITESPACE","\n    ",40],["T_IF","if",41],["T_WHITESPACE"," ",41],"(",["T_VARIABLE","$image",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$channel",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getImage",41],"(",")",")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n      ",41],["T_VARIABLE","$feed",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","setImage",42],"(",["T_VARIABLE","$image",42],"[",["T_CONSTANT_ENCAPSED_STRING","'uri'",42],"]",")",";",["T_WHITESPACE","\n    ",42],"}",["T_WHITESPACE","\n    ",43],["T_COMMENT","\/\/ Initialize items array.\n",44],["T_WHITESPACE","    ",45],["T_VARIABLE","$feed",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","items",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_ARRAY","array",45],"(",")",";",["T_WHITESPACE","\n    ",45],["T_FOREACH","foreach",46],["T_WHITESPACE"," ",46],"(",["T_VARIABLE","$channel",46],["T_WHITESPACE"," ",46],["T_AS","as",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$item",46],")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n      ",46],["T_COMMENT","\/\/ Reset the parsed item.\n",47],["T_WHITESPACE","      ",48],["T_VARIABLE","$parsed_item",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_ARRAY","array",48],"(",")",";",["T_WHITESPACE","\n      ",48],["T_COMMENT","\/\/ Move the values to an array as expected by processors.\n",49],["T_WHITESPACE","      ",50],["T_VARIABLE","$parsed_item",50],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",50],"]",["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$item",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getTitle",50],"(",")",";",["T_WHITESPACE","\n      ",50],["T_VARIABLE","$parsed_item",51],"[",["T_CONSTANT_ENCAPSED_STRING","'guid'",51],"]",["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$item",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getId",51],"(",")",";",["T_WHITESPACE","\n      ",51],["T_VARIABLE","$parsed_item",52],"[",["T_CONSTANT_ENCAPSED_STRING","'link'",52],"]",["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$item",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getLink",52],"(",")",";",["T_WHITESPACE","\n      ",52],["T_VARIABLE","$parsed_item",53],"[",["T_CONSTANT_ENCAPSED_STRING","'description'",53],"]",["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$item",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getDescription",53],"(",")",";",["T_WHITESPACE","\n      ",53],["T_VARIABLE","$parsed_item",54],"[",["T_CONSTANT_ENCAPSED_STRING","'author'",54],"]",["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","''",54],";",["T_WHITESPACE","\n      ",54],["T_IF","if",55],["T_WHITESPACE"," ",55],"(",["T_VARIABLE","$author",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$item",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getAuthor",55],"(",")",")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$parsed_item",56],"[",["T_CONSTANT_ENCAPSED_STRING","'author'",56],"]",["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$author",56],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",56],"]",";",["T_WHITESPACE","\n      ",56],"}",["T_WHITESPACE","\n      ",57],["T_VARIABLE","$parsed_item",58],"[",["T_CONSTANT_ENCAPSED_STRING","'timestamp'",58],"]",["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","''",58],";",["T_WHITESPACE","\n      ",58],["T_IF","if",59],["T_WHITESPACE"," ",59],"(",["T_VARIABLE","$date",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$item",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getDateModified",59],"(",")",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$parsed_item",60],"[",["T_CONSTANT_ENCAPSED_STRING","'timestamp'",60],"]",["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$date",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getTimestamp",60],"(",")",";",["T_WHITESPACE","\n      ",60],"}",["T_WHITESPACE","\n      ",61],["T_COMMENT","\/\/ Store on $feed object. This is where processors will look for parsed items.\n",62],["T_WHITESPACE","      ",63],["T_VARIABLE","$feed",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","items",63],"[","]",["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$parsed_item",63],";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_RETURN","return",66],["T_WHITESPACE"," ",66],["T_STRING","TRUE",66],";",["T_WHITESPACE","\n  ",66],"}",["T_WHITESPACE","\n\n",67],"}",["T_WHITESPACE","\n",69]]