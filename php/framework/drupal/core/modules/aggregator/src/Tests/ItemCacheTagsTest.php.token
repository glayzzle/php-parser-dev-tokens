[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","aggregator",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","aggregator",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Feed",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","aggregator",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Item",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Cache",7],["T_NS_SEPARATOR","\\",7],["T_STRING","CacheBackendInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","system",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Tests",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","EntityCacheTagsTestBase",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","user",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Role",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","user",10],["T_NS_SEPARATOR","\\",10],["T_STRING","RoleInterface",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Tests the Item entity's cache tags.\n *\n * @group aggregator\n *\/",12],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","ItemCacheTagsTest",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_STRING","EntityCacheTagsTestBase",17],["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",19],["T_WHITESPACE","\n  ",21],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_STATIC","static",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$modules",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_ARRAY","array",22],"(",["T_CONSTANT_ENCAPSED_STRING","'aggregator'",22],")",";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",24],["T_WHITESPACE","\n  ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","setUp",27],"(",")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n    ",27],["T_STRING","parent",28],["T_DOUBLE_COLON","::",28],["T_STRING","setUp",28],"(",")",";",["T_WHITESPACE","\n\n    ",28],["T_COMMENT","\/\/ Give anonymous users permission to access feeds, so that we can verify\n",30],["T_WHITESPACE","    ",31],["T_COMMENT","\/\/ the cache tags of cached versions of feed items.\n",31],["T_WHITESPACE","    ",32],["T_VARIABLE","$user_role",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_STRING","Role",32],["T_DOUBLE_COLON","::",32],["T_STRING","load",32],"(",["T_STRING","RoleInterface",32],["T_DOUBLE_COLON","::",32],["T_STRING","ANONYMOUS_ID",32],")",";",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$user_role",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","grantPermission",33],"(",["T_CONSTANT_ENCAPSED_STRING","'access news feeds'",33],")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$user_role",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","save",34],"(",")",";",["T_WHITESPACE","\n  ",34],"}",["T_WHITESPACE","\n\n  ",35],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",37],["T_WHITESPACE","\n  ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","createEntity",40],"(",")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n    ",40],["T_COMMENT","\/\/ Create a \"Camelids\" feed.\n",41],["T_WHITESPACE","    ",42],["T_VARIABLE","$feed",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_STRING","Feed",42],["T_DOUBLE_COLON","::",42],["T_STRING","create",42],"(",["T_ARRAY","array",42],"(",["T_WHITESPACE","\n      ",42],["T_CONSTANT_ENCAPSED_STRING","'title'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'Camelids'",43],",",["T_WHITESPACE","\n      ",43],["T_CONSTANT_ENCAPSED_STRING","'url'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/groups.drupal.org\/not_used\/167169'",44],",",["T_WHITESPACE","\n      ",44],["T_CONSTANT_ENCAPSED_STRING","'refresh'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_LNUMBER","900",45],",",["T_WHITESPACE","\n      ",45],["T_CONSTANT_ENCAPSED_STRING","'checked'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_LNUMBER","1389919932",46],",",["T_WHITESPACE","\n      ",46],["T_CONSTANT_ENCAPSED_STRING","'description'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'Drupal Core Group feed'",47],",",["T_WHITESPACE","\n    ",47],")",")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$feed",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","save",49],"(",")",";",["T_WHITESPACE","\n\n    ",49],["T_COMMENT","\/\/ Create a \"Llama\" aggregator feed item.\n",51],["T_WHITESPACE","    ",52],["T_VARIABLE","$item",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_STRING","Item",52],["T_DOUBLE_COLON","::",52],["T_STRING","create",52],"(",["T_ARRAY","array",52],"(",["T_WHITESPACE","\n      ",52],["T_CONSTANT_ENCAPSED_STRING","'fid'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$feed",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","id",53],"(",")",",",["T_WHITESPACE","\n      ",53],["T_CONSTANT_ENCAPSED_STRING","'title'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_STRING","t",54],"(",["T_CONSTANT_ENCAPSED_STRING","'Llama'",54],")",",",["T_WHITESPACE","\n      ",54],["T_CONSTANT_ENCAPSED_STRING","'path'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.drupal.org\/'",55],",",["T_WHITESPACE","\n    ",55],")",")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$item",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","save",57],"(",")",";",["T_WHITESPACE","\n\n    ",57],["T_RETURN","return",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$item",59],";",["T_WHITESPACE","\n  ",59],"}",["T_WHITESPACE","\n\n  ",60],["T_DOC_COMMENT","\/**\n   * Tests that when creating a feed item, the feed tag is invalidated.\n   *\/",62],["T_WHITESPACE","\n  ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","testEntityCreation",65],"(",")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n    ",65],["T_COMMENT","\/\/ Create a cache entry that is tagged with a feed cache tag.\n",66],["T_WHITESPACE","    ",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Drupal",67],["T_DOUBLE_COLON","::",67],["T_STRING","cache",67],"(",["T_CONSTANT_ENCAPSED_STRING","'render'",67],")",["T_OBJECT_OPERATOR","->",67],["T_STRING","set",67],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'bar'",67],",",["T_WHITESPACE"," ",67],["T_STRING","CacheBackendInterface",67],["T_DOUBLE_COLON","::",67],["T_STRING","CACHE_PERMANENT",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","entity",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getCacheTags",67],"(",")",")",";",["T_WHITESPACE","\n\n    ",67],["T_COMMENT","\/\/ Verify a cache hit.\n",69],["T_WHITESPACE","    ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","verifyRenderCache",70],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",70],",",["T_WHITESPACE"," ",70],["T_ARRAY","array",70],"(",["T_CONSTANT_ENCAPSED_STRING","'aggregator_feed:1'",70],")",")",";",["T_WHITESPACE","\n\n    ",70],["T_COMMENT","\/\/ Now create a feed item in that feed.\n",72],["T_WHITESPACE","    ",73],["T_STRING","Item",73],["T_DOUBLE_COLON","::",73],["T_STRING","create",73],"(",["T_ARRAY","array",73],"(",["T_WHITESPACE","\n      ",73],["T_CONSTANT_ENCAPSED_STRING","'fid'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","entity",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getFeedId",74],"(",")",",",["T_WHITESPACE","\n      ",74],["T_CONSTANT_ENCAPSED_STRING","'title'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_STRING","t",75],"(",["T_CONSTANT_ENCAPSED_STRING","'Llama 2'",75],")",",",["T_WHITESPACE","\n      ",75],["T_CONSTANT_ENCAPSED_STRING","'path'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/groups.drupal.org\/'",76],",",["T_WHITESPACE","\n    ",76],")",")",["T_OBJECT_OPERATOR","->",77],["T_STRING","save",77],"(",")",";",["T_WHITESPACE","\n\n    ",77],["T_COMMENT","\/\/ Verify a cache miss.\n",79],["T_WHITESPACE","    ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertFalse",80],"(",["T_NS_SEPARATOR","\\",80],["T_STRING","Drupal",80],["T_DOUBLE_COLON","::",80],["T_STRING","cache",80],"(",["T_CONSTANT_ENCAPSED_STRING","'render'",80],")",["T_OBJECT_OPERATOR","->",80],["T_STRING","get",80],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",80],")",",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'Creating a new feed item invalidates the cache tag of the feed.'",80],")",";",["T_WHITESPACE","\n  ",80],"}",["T_WHITESPACE","\n\n",81],"}",["T_WHITESPACE","\n",83]]