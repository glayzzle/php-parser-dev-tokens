[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","aggregator",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Tests aggregator admin pages.\n *\n * @group aggregator\n *\/",5],["T_WHITESPACE","\n",9],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","AggregatorAdminTest",10],["T_WHITESPACE"," ",10],["T_EXTENDS","extends",10],["T_WHITESPACE"," ",10],["T_STRING","AggregatorTestBase",10],["T_WHITESPACE"," ",10],"{",["T_WHITESPACE","\n\n  ",10],["T_DOC_COMMENT","\/**\n   * Tests the settings form to ensure the correct default values are used.\n   *\/",12],["T_WHITESPACE","\n  ",14],["T_PUBLIC","public",15],["T_WHITESPACE"," ",15],["T_FUNCTION","function",15],["T_WHITESPACE"," ",15],["T_STRING","testSettingsPage",15],"(",")",["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n    ",15],["T_VARIABLE","$this",16],["T_OBJECT_OPERATOR","->",16],["T_STRING","drupalGet",16],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config'",16],")",";",["T_WHITESPACE","\n    ",16],["T_VARIABLE","$this",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","clickLink",17],"(",["T_CONSTANT_ENCAPSED_STRING","'Aggregator'",17],")",";",["T_WHITESPACE","\n    ",17],["T_VARIABLE","$this",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","clickLink",18],"(",["T_CONSTANT_ENCAPSED_STRING","'Settings'",18],")",";",["T_WHITESPACE","\n    ",18],["T_COMMENT","\/\/ Make sure that test plugins are present.\n",19],["T_WHITESPACE","    ",20],["T_VARIABLE","$this",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","assertText",20],"(",["T_CONSTANT_ENCAPSED_STRING","'Test fetcher'",20],")",";",["T_WHITESPACE","\n    ",20],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","assertText",21],"(",["T_CONSTANT_ENCAPSED_STRING","'Test parser'",21],")",";",["T_WHITESPACE","\n    ",21],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","assertText",22],"(",["T_CONSTANT_ENCAPSED_STRING","'Test processor'",22],")",";",["T_WHITESPACE","\n\n    ",22],["T_COMMENT","\/\/ Set new values and enable test plugins.\n",24],["T_WHITESPACE","    ",25],["T_VARIABLE","$edit",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_ARRAY","array",25],"(",["T_WHITESPACE","\n      ",25],["T_CONSTANT_ENCAPSED_STRING","'aggregator_allowed_html_tags'",26],["T_WHITESPACE"," ",26],["T_DOUBLE_ARROW","=>",26],["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'<a>'",26],",",["T_WHITESPACE","\n      ",26],["T_CONSTANT_ENCAPSED_STRING","'aggregator_summary_items'",27],["T_WHITESPACE"," ",27],["T_DOUBLE_ARROW","=>",27],["T_WHITESPACE"," ",27],["T_LNUMBER","10",27],",",["T_WHITESPACE","\n      ",27],["T_CONSTANT_ENCAPSED_STRING","'aggregator_clear'",28],["T_WHITESPACE"," ",28],["T_DOUBLE_ARROW","=>",28],["T_WHITESPACE"," ",28],["T_LNUMBER","3600",28],",",["T_WHITESPACE","\n      ",28],["T_CONSTANT_ENCAPSED_STRING","'aggregator_teaser_length'",29],["T_WHITESPACE"," ",29],["T_DOUBLE_ARROW","=>",29],["T_WHITESPACE"," ",29],["T_LNUMBER","200",29],",",["T_WHITESPACE","\n      ",29],["T_CONSTANT_ENCAPSED_STRING","'aggregator_fetcher'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'aggregator_test_fetcher'",30],",",["T_WHITESPACE","\n      ",30],["T_CONSTANT_ENCAPSED_STRING","'aggregator_parser'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'aggregator_test_parser'",31],",",["T_WHITESPACE","\n      ",31],["T_CONSTANT_ENCAPSED_STRING","'aggregator_processors[aggregator_test_processor]'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'aggregator_test_processor'",32],",",["T_WHITESPACE","\n    ",32],")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","drupalPostForm",34],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/services\/aggregator\/settings'",34],",",["T_WHITESPACE"," ",34],["T_VARIABLE","$edit",34],",",["T_WHITESPACE"," ",34],["T_STRING","t",34],"(",["T_CONSTANT_ENCAPSED_STRING","'Save configuration'",34],")",")",";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","assertText",35],"(",["T_STRING","t",35],"(",["T_CONSTANT_ENCAPSED_STRING","'The configuration options have been saved.'",35],")",")",";",["T_WHITESPACE","\n\n    ",35],["T_FOREACH","foreach",37],["T_WHITESPACE"," ",37],"(",["T_VARIABLE","$edit",37],["T_WHITESPACE"," ",37],["T_AS","as",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$name",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$value",37],")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n      ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","assertFieldByName",38],"(",["T_VARIABLE","$name",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$value",38],",",["T_WHITESPACE"," ",38],["T_STRING","format_string",38],"(",["T_CONSTANT_ENCAPSED_STRING","'\"@name\" has correct default value.'",38],",",["T_WHITESPACE"," ",38],["T_ARRAY","array",38],"(",["T_CONSTANT_ENCAPSED_STRING","'@name'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$name",38],")",")",")",";",["T_WHITESPACE","\n    ",38],"}",["T_WHITESPACE","\n\n    ",39],["T_COMMENT","\/\/ Check for our test processor settings form.\n",41],["T_WHITESPACE","    ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","assertText",42],"(",["T_STRING","t",42],"(",["T_CONSTANT_ENCAPSED_STRING","'Dummy length setting'",42],")",")",";",["T_WHITESPACE","\n    ",42],["T_COMMENT","\/\/ Change its value to ensure that settingsSubmit is called.\n",43],["T_WHITESPACE","    ",44],["T_VARIABLE","$edit",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_ARRAY","array",44],"(",["T_WHITESPACE","\n      ",44],["T_CONSTANT_ENCAPSED_STRING","'dummy_length'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_LNUMBER","100",45],",",["T_WHITESPACE","\n    ",45],")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","drupalPostForm",47],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/services\/aggregator\/settings'",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$edit",47],",",["T_WHITESPACE"," ",47],["T_STRING","t",47],"(",["T_CONSTANT_ENCAPSED_STRING","'Save configuration'",47],")",")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","assertText",48],"(",["T_STRING","t",48],"(",["T_CONSTANT_ENCAPSED_STRING","'The configuration options have been saved.'",48],")",")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertFieldByName",49],"(",["T_CONSTANT_ENCAPSED_STRING","'dummy_length'",49],",",["T_WHITESPACE"," ",49],["T_LNUMBER","100",49],",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'\"dummy_length\" has correct default value.'",49],")",";",["T_WHITESPACE","\n\n    ",49],["T_COMMENT","\/\/ Make sure settings form is still accessible even after uninstalling a module\n",51],["T_WHITESPACE","    ",52],["T_COMMENT","\/\/ that provides the selected plugins.\n",52],["T_WHITESPACE","    ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","container",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","get",53],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",53],")",["T_OBJECT_OPERATOR","->",53],["T_STRING","uninstall",53],"(",["T_ARRAY","array",53],"(",["T_CONSTANT_ENCAPSED_STRING","'aggregator_test'",53],")",")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","resetAll",54],"(",")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","drupalGet",55],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/services\/aggregator\/settings'",55],")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","assertResponse",56],"(",["T_LNUMBER","200",56],")",";",["T_WHITESPACE","\n  ",56],"}",["T_WHITESPACE","\n\n  ",57],["T_DOC_COMMENT","\/**\n   * Tests the overview page.\n   *\/",59],["T_WHITESPACE","\n  ",61],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","testOverviewPage",62],"(",")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$feed",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","createFeed",63],"(",["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getRSS091Sample",63],"(",")",")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","drupalGet",64],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/services\/aggregator'",64],")",";",["T_WHITESPACE","\n\n    ",64],["T_VARIABLE","$result",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","xpath",66],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/table\/tbody\/tr'",66],")",";",["T_WHITESPACE","\n    ",66],["T_COMMENT","\/\/ Check if the amount of feeds in the overview matches the amount created.\n",67],["T_WHITESPACE","    ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","assertEqual",68],"(",["T_LNUMBER","1",68],",",["T_WHITESPACE"," ",68],["T_STRING","count",68],"(",["T_VARIABLE","$result",68],")",",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'Created feed is found in the overview'",68],")",";",["T_WHITESPACE","\n    ",68],["T_COMMENT","\/\/ Check if the fields in the table match with what's expected.\n",69],["T_WHITESPACE","    ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertEqual",70],"(",["T_VARIABLE","$feed",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","label",70],"(",")",",",["T_WHITESPACE"," ",70],["T_STRING_CAST","(string)",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$result",70],"[",["T_LNUMBER","0",70],"]",["T_OBJECT_OPERATOR","->",70],["T_STRING","td",70],"[",["T_LNUMBER","0",70],"]",["T_OBJECT_OPERATOR","->",70],["T_STRING","a",70],")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$count",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","container",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","get",71],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",71],")",["T_OBJECT_OPERATOR","->",71],["T_STRING","getStorage",71],"(",["T_CONSTANT_ENCAPSED_STRING","'aggregator_item'",71],")",["T_OBJECT_OPERATOR","->",71],["T_STRING","getItemCount",71],"(",["T_VARIABLE","$feed",71],")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertEqual",72],"(",["T_NS_SEPARATOR","\\",72],["T_STRING","Drupal",72],["T_DOUBLE_COLON","::",72],["T_STRING","translation",72],"(",")",["T_OBJECT_OPERATOR","->",72],["T_STRING","formatPlural",72],"(",["T_VARIABLE","$count",72],",",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'1 item'",72],",",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'@count items'",72],")",",",["T_WHITESPACE"," ",72],["T_STRING_CAST","(string)",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$result",72],"[",["T_LNUMBER","0",72],"]",["T_OBJECT_OPERATOR","->",72],["T_STRING","td",72],"[",["T_LNUMBER","1",72],"]",")",";",["T_WHITESPACE","\n\n    ",72],["T_COMMENT","\/\/ Update the items of the first feed.\n",74],["T_WHITESPACE","    ",75],["T_VARIABLE","$feed",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","refreshItems",75],"(",")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","drupalGet",76],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/services\/aggregator'",76],")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$result",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","xpath",77],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/table\/tbody\/tr'",77],")",";",["T_WHITESPACE","\n    ",77],["T_COMMENT","\/\/ Check if the fields in the table match with what's expected.\n",78],["T_WHITESPACE","    ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","assertEqual",79],"(",["T_VARIABLE","$feed",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","label",79],"(",")",",",["T_WHITESPACE"," ",79],["T_STRING_CAST","(string)",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$result",79],"[",["T_LNUMBER","0",79],"]",["T_OBJECT_OPERATOR","->",79],["T_STRING","td",79],"[",["T_LNUMBER","0",79],"]",["T_OBJECT_OPERATOR","->",79],["T_STRING","a",79],")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$count",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","container",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","get",80],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",80],")",["T_OBJECT_OPERATOR","->",80],["T_STRING","getStorage",80],"(",["T_CONSTANT_ENCAPSED_STRING","'aggregator_item'",80],")",["T_OBJECT_OPERATOR","->",80],["T_STRING","getItemCount",80],"(",["T_VARIABLE","$feed",80],")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertEqual",81],"(",["T_NS_SEPARATOR","\\",81],["T_STRING","Drupal",81],["T_DOUBLE_COLON","::",81],["T_STRING","translation",81],"(",")",["T_OBJECT_OPERATOR","->",81],["T_STRING","formatPlural",81],"(",["T_VARIABLE","$count",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'1 item'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'@count items'",81],")",",",["T_WHITESPACE"," ",81],["T_STRING_CAST","(string)",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$result",81],"[",["T_LNUMBER","0",81],"]",["T_OBJECT_OPERATOR","->",81],["T_STRING","td",81],"[",["T_LNUMBER","1",81],"]",")",";",["T_WHITESPACE","\n  ",81],"}",["T_WHITESPACE","\n\n",82],"}",["T_WHITESPACE","\n",84]]