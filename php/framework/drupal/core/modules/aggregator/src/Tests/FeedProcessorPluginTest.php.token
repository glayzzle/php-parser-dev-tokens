[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","aggregator",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","aggregator",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Feed",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","aggregator",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Item",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests the processor plugins functionality and discoverability.\n *\n * @group aggregator\n *\n * @see \\Drupal\\aggregator_test\\Plugin\\aggregator\\processor\\TestProcessor.\n *\/",8],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","FeedProcessorPluginTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","AggregatorTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",17],["T_WHITESPACE","\n  ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_FUNCTION","function",20],["T_WHITESPACE"," ",20],["T_STRING","setUp",20],"(",")",["T_WHITESPACE"," ",20],"{",["T_WHITESPACE","\n    ",20],["T_STRING","parent",21],["T_DOUBLE_COLON","::",21],["T_STRING","setUp",21],"(",")",";",["T_WHITESPACE","\n    ",21],["T_COMMENT","\/\/ Enable test plugins.\n",22],["T_WHITESPACE","    ",23],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","enableTestPlugins",23],"(",")",";",["T_WHITESPACE","\n    ",23],["T_COMMENT","\/\/ Create some nodes.\n",24],["T_WHITESPACE","    ",25],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","createSampleNodes",25],"(",")",";",["T_WHITESPACE","\n  ",25],"}",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * Test processing functionality.\n   *\/",28],["T_WHITESPACE","\n  ",30],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","testProcess",31],"(",")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$feed",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","createFeed",32],"(",")",";",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","updateFeedItems",33],"(",["T_VARIABLE","$feed",33],")",";",["T_WHITESPACE","\n    ",33],["T_FOREACH","foreach",34],["T_WHITESPACE"," ",34],"(",["T_VARIABLE","$feed",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","items",34],["T_WHITESPACE"," ",34],["T_AS","as",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$iid",34],")",["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n      ",34],["T_VARIABLE","$item",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_STRING","Item",35],["T_DOUBLE_COLON","::",35],["T_STRING","load",35],"(",["T_VARIABLE","$iid",35],")",";",["T_WHITESPACE","\n      ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","assertTrue",36],"(",["T_STRING","strpos",36],"(",["T_VARIABLE","$item",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","label",36],"(",")",",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'testProcessor'",36],")",["T_WHITESPACE"," ",36],["T_IS_IDENTICAL","===",36],["T_WHITESPACE"," ",36],["T_LNUMBER","0",36],")",";",["T_WHITESPACE","\n    ",36],"}",["T_WHITESPACE","\n  ",37],"}",["T_WHITESPACE","\n\n  ",38],["T_DOC_COMMENT","\/**\n   * Test deleting functionality.\n   *\/",40],["T_WHITESPACE","\n  ",42],["T_PUBLIC","public",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","testDelete",43],"(",")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$feed",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","createFeed",44],"(",")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$description",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$feed",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","description",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","value",45],["T_WHITESPACE"," ",45],"?",":",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","''",45],";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","updateAndDelete",46],"(",["T_VARIABLE","$feed",46],",",["T_WHITESPACE"," ",46],["T_STRING","NULL",46],")",";",["T_WHITESPACE","\n    ",46],["T_COMMENT","\/\/ Make sure the feed title is changed.\n",47],["T_WHITESPACE","    ",48],["T_VARIABLE","$entities",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","entity_load_multiple_by_properties",48],"(",["T_CONSTANT_ENCAPSED_STRING","'aggregator_feed'",48],",",["T_WHITESPACE"," ",48],["T_ARRAY","array",48],"(",["T_CONSTANT_ENCAPSED_STRING","'description'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$description",48],")",")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertTrue",49],"(",["T_EMPTY","empty",49],"(",["T_VARIABLE","$entities",49],")",")",";",["T_WHITESPACE","\n  ",49],"}",["T_WHITESPACE","\n\n  ",50],["T_DOC_COMMENT","\/**\n   * Test post-processing functionality.\n   *\/",52],["T_WHITESPACE","\n  ",54],["T_PUBLIC","public",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","testPostProcess",55],"(",")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$feed",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","createFeed",56],"(",["T_STRING","NULL",56],",",["T_WHITESPACE"," ",56],["T_ARRAY","array",56],"(",["T_CONSTANT_ENCAPSED_STRING","'refresh'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_LNUMBER","1800",56],")",")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","updateFeedItems",57],"(",["T_VARIABLE","$feed",57],")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$feed_id",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$feed",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","id",58],"(",")",";",["T_WHITESPACE","\n    ",58],["T_COMMENT","\/\/ Reset entity cache manually.\n",59],["T_WHITESPACE","    ",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Drupal",60],["T_DOUBLE_COLON","::",60],["T_STRING","entityManager",60],"(",")",["T_OBJECT_OPERATOR","->",60],["T_STRING","getStorage",60],"(",["T_CONSTANT_ENCAPSED_STRING","'aggregator_feed'",60],")",["T_OBJECT_OPERATOR","->",60],["T_STRING","resetCache",60],"(",["T_ARRAY","array",60],"(",["T_VARIABLE","$feed_id",60],")",")",";",["T_WHITESPACE","\n    ",60],["T_COMMENT","\/\/ Reload the feed to get new values.\n",61],["T_WHITESPACE","    ",62],["T_VARIABLE","$feed",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_STRING","Feed",62],["T_DOUBLE_COLON","::",62],["T_STRING","load",62],"(",["T_VARIABLE","$feed_id",62],")",";",["T_WHITESPACE","\n    ",62],["T_COMMENT","\/\/ Make sure its refresh rate doubled.\n",63],["T_WHITESPACE","    ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","assertEqual",64],"(",["T_VARIABLE","$feed",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getRefreshRate",64],"(",")",",",["T_WHITESPACE"," ",64],["T_LNUMBER","3600",64],")",";",["T_WHITESPACE","\n  ",64],"}",["T_WHITESPACE","\n\n",65],"}",["T_WHITESPACE","\n",67]]