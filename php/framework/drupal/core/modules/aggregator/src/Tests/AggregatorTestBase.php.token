[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","aggregator",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","aggregator",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Feed",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Utility",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Html",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","simpletest",7],["T_NS_SEPARATOR","\\",7],["T_STRING","WebTestBase",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","aggregator",8],["T_NS_SEPARATOR","\\",8],["T_STRING","FeedInterface",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Defines a base class for testing the Aggregator module.\n *\/",10],["T_WHITESPACE","\n",12],["T_ABSTRACT","abstract",13],["T_WHITESPACE"," ",13],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","AggregatorTestBase",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","WebTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * A user with permission to administer feeds and create content.\n   *\n   * @var \\Drupal\\user\\Entity\\User\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$adminUser",20],";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * Modules to install.\n   *\n   * @var array\n   *\/",22],["T_WHITESPACE","\n  ",26],["T_PUBLIC","public",27],["T_WHITESPACE"," ",27],["T_STATIC","static",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$modules",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],"[",["T_CONSTANT_ENCAPSED_STRING","'block'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'node'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'aggregator'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'aggregator_test'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'views'",27],"]",";",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",29],["T_WHITESPACE","\n  ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","setUp",32],"(",")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n    ",32],["T_STRING","parent",33],["T_DOUBLE_COLON","::",33],["T_STRING","setUp",33],"(",")",";",["T_WHITESPACE","\n\n    ",33],["T_COMMENT","\/\/ Create an Article node type.\n",35],["T_WHITESPACE","    ",36],["T_IF","if",36],["T_WHITESPACE"," ",36],"(",["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","profile",36],["T_WHITESPACE"," ",36],["T_IS_NOT_EQUAL","!=",36],["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'standard'",36],")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n      ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","drupalCreateContentType",37],"(",["T_ARRAY","array",37],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'article'",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'name'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'Article'",37],")",")",";",["T_WHITESPACE","\n    ",37],"}",["T_WHITESPACE","\n\n    ",38],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","adminUser",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","drupalCreateUser",40],"(",["T_ARRAY","array",40],"(",["T_CONSTANT_ENCAPSED_STRING","'access administration pages'",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'administer news feeds'",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'access news feeds'",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'create article content'",40],")",")",";",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","drupalLogin",41],"(",["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","adminUser",41],")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","drupalPlaceBlock",42],"(",["T_CONSTANT_ENCAPSED_STRING","'local_tasks_block'",42],")",";",["T_WHITESPACE","\n  ",42],"}",["T_WHITESPACE","\n\n  ",43],["T_DOC_COMMENT","\/**\n   * Creates an aggregator feed.\n   *\n   * This method simulates the form submission on path aggregator\/sources\/add.\n   *\n   * @param string $feed_url\n   *   (optional) If given, feed will be created with this URL, otherwise\n   *   \/rss.xml will be used. Defaults to NULL.\n   * @param array $edit\n   *   Array with additional form fields.\n   *\n   * @return \\Drupal\\aggregator\\FeedInterface\n   *   Full feed object if possible.\n   *\n   * @see getFeedEditArray()\n   *\/",45],["T_WHITESPACE","\n  ",60],["T_PUBLIC","public",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","createFeed",61],"(",["T_VARIABLE","$feed_url",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","NULL",61],",",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$edit",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",")",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$edit",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getFeedEditArray",62],"(",["T_VARIABLE","$feed_url",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$edit",62],")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","drupalPostForm",63],"(",["T_CONSTANT_ENCAPSED_STRING","'aggregator\/sources\/add'",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$edit",63],",",["T_WHITESPACE"," ",63],["T_STRING","t",63],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",63],")",")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","assertText",64],"(",["T_STRING","t",64],"(",["T_CONSTANT_ENCAPSED_STRING","'The feed @name has been added.'",64],",",["T_WHITESPACE"," ",64],["T_ARRAY","array",64],"(",["T_CONSTANT_ENCAPSED_STRING","'@name'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$edit",64],"[",["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",64],"]",")",")",",",["T_WHITESPACE"," ",64],["T_STRING","format_string",64],"(",["T_CONSTANT_ENCAPSED_STRING","'The feed @name has been added.'",64],",",["T_WHITESPACE"," ",64],["T_ARRAY","array",64],"(",["T_CONSTANT_ENCAPSED_STRING","'@name'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$edit",64],"[",["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",64],"]",")",")",")",";",["T_WHITESPACE","\n\n    ",64],["T_COMMENT","\/\/ Verify that the creation message contains a link to a feed.\n",66],["T_WHITESPACE","    ",67],["T_VARIABLE","$view_link",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","xpath",67],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/div[@class=\"messages\"]\/\/a[contains(@href, :href)]'",67],",",["T_WHITESPACE"," ",67],["T_ARRAY","array",67],"(",["T_CONSTANT_ENCAPSED_STRING","':href'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'aggregator\/sources\/'",67],")",")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","assert",68],"(",["T_ISSET","isset",68],"(",["T_VARIABLE","$view_link",68],")",",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'The message area contains a link to a feed'",68],")",";",["T_WHITESPACE","\n\n    ",68],["T_VARIABLE","$fid",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","db_query",70],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT fid FROM {aggregator_feed} WHERE title = :title AND url = :url\"",70],",",["T_WHITESPACE"," ",70],["T_ARRAY","array",70],"(",["T_CONSTANT_ENCAPSED_STRING","':title'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$edit",70],"[",["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",70],"]",",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","':url'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$edit",70],"[",["T_CONSTANT_ENCAPSED_STRING","'url[0][value]'",70],"]",")",")",["T_OBJECT_OPERATOR","->",70],["T_STRING","fetchField",70],"(",")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertTrue",71],"(","!",["T_EMPTY","empty",71],"(",["T_VARIABLE","$fid",71],")",",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'The feed found in database.'",71],")",";",["T_WHITESPACE","\n    ",71],["T_RETURN","return",72],["T_WHITESPACE"," ",72],["T_STRING","Feed",72],["T_DOUBLE_COLON","::",72],["T_STRING","load",72],"(",["T_VARIABLE","$fid",72],")",";",["T_WHITESPACE","\n  ",72],"}",["T_WHITESPACE","\n\n  ",73],["T_DOC_COMMENT","\/**\n   * Deletes an aggregator feed.\n   *\n   * @param \\Drupal\\aggregator\\FeedInterface $feed\n   *   Feed object representing the feed.\n   *\/",75],["T_WHITESPACE","\n  ",80],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","deleteFeed",81],"(",["T_STRING","FeedInterface",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$feed",81],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","drupalPostForm",82],"(",["T_CONSTANT_ENCAPSED_STRING","'aggregator\/sources\/'",82],["T_WHITESPACE"," ",82],".",["T_WHITESPACE"," ",82],["T_VARIABLE","$feed",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","id",82],"(",")",["T_WHITESPACE"," ",82],".",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'\/delete'",82],",",["T_WHITESPACE"," ",82],["T_ARRAY","array",82],"(",")",",",["T_WHITESPACE"," ",82],["T_STRING","t",82],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete'",82],")",")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertRaw",83],"(",["T_STRING","t",83],"(",["T_CONSTANT_ENCAPSED_STRING","'The feed %title has been deleted.'",83],",",["T_WHITESPACE"," ",83],["T_ARRAY","array",83],"(",["T_CONSTANT_ENCAPSED_STRING","'%title'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$feed",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","label",83],"(",")",")",")",",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'Feed deleted successfully.'",83],")",";",["T_WHITESPACE","\n  ",83],"}",["T_WHITESPACE","\n\n  ",84],["T_DOC_COMMENT","\/**\n   * Returns a randomly generated feed edit array.\n   *\n   * @param string $feed_url\n   *   (optional) If given, feed will be created with this URL, otherwise\n   *   \/rss.xml will be used. Defaults to NULL.\n   * @param array $edit\n   *   Array with additional form fields.\n   *\n   * @return array\n   *   A feed array.\n   *\/",86],["T_WHITESPACE","\n  ",97],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","getFeedEditArray",98],"(",["T_VARIABLE","$feed_url",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","NULL",98],",",["T_WHITESPACE"," ",98],["T_ARRAY","array",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$edit",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_ARRAY","array",98],"(",")",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$feed_name",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","randomMachineName",99],"(",["T_LNUMBER","10",99],")",";",["T_WHITESPACE","\n    ",99],["T_IF","if",100],["T_WHITESPACE"," ",100],"(","!",["T_VARIABLE","$feed_url",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n      ",100],["T_VARIABLE","$feed_url",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Drupal",101],["T_DOUBLE_COLON","::",101],["T_STRING","url",101],"(",["T_CONSTANT_ENCAPSED_STRING","'view.frontpage.feed_1'",101],",",["T_WHITESPACE"," ",101],["T_ARRAY","array",101],"(",")",",",["T_WHITESPACE"," ",101],["T_ARRAY","array",101],"(",["T_WHITESPACE","\n        ",101],["T_CONSTANT_ENCAPSED_STRING","'query'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_ARRAY","array",102],"(",["T_CONSTANT_ENCAPSED_STRING","'feed'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$feed_name",102],")",",",["T_WHITESPACE","\n        ",102],["T_CONSTANT_ENCAPSED_STRING","'absolute'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_STRING","TRUE",103],",",["T_WHITESPACE","\n      ",103],")",")",";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$edit",106],["T_WHITESPACE"," ",106],["T_PLUS_EQUAL","+=",106],["T_WHITESPACE"," ",106],["T_ARRAY","array",106],"(",["T_WHITESPACE","\n      ",106],["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$feed_name",107],",",["T_WHITESPACE","\n      ",107],["T_CONSTANT_ENCAPSED_STRING","'url[0][value]'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$feed_url",108],",",["T_WHITESPACE","\n      ",108],["T_CONSTANT_ENCAPSED_STRING","'refresh'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'900'",109],",",["T_WHITESPACE","\n    ",109],")",";",["T_WHITESPACE","\n    ",110],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$edit",111],";",["T_WHITESPACE","\n  ",111],"}",["T_WHITESPACE","\n\n  ",112],["T_DOC_COMMENT","\/**\n   * Returns a randomly generated feed edit object.\n   *\n   * @param string $feed_url\n   *   (optional) If given, feed will be created with this URL, otherwise\n   *   \/rss.xml will be used. Defaults to NULL.\n   * @param array $values\n   *   (optional) Default values to initialize object properties with.\n   *\n   * @return \\Drupal\\aggregator\\FeedInterface\n   *   A feed object.\n   *\/",114],["T_WHITESPACE","\n  ",125],["T_PUBLIC","public",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","getFeedEditObject",126],"(",["T_VARIABLE","$feed_url",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_STRING","NULL",126],",",["T_WHITESPACE"," ",126],["T_ARRAY","array",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$values",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_ARRAY","array",126],"(",")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n    ",126],["T_VARIABLE","$feed_name",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","randomMachineName",127],"(",["T_LNUMBER","10",127],")",";",["T_WHITESPACE","\n    ",127],["T_IF","if",128],["T_WHITESPACE"," ",128],"(","!",["T_VARIABLE","$feed_url",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n      ",128],["T_VARIABLE","$feed_url",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Drupal",129],["T_DOUBLE_COLON","::",129],["T_STRING","url",129],"(",["T_CONSTANT_ENCAPSED_STRING","'view.frontpage.feed_1'",129],",",["T_WHITESPACE"," ",129],["T_ARRAY","array",129],"(",["T_WHITESPACE","\n        ",129],["T_CONSTANT_ENCAPSED_STRING","'query'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_ARRAY","array",130],"(",["T_CONSTANT_ENCAPSED_STRING","'feed'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$feed_name",130],")",",",["T_WHITESPACE","\n        ",130],["T_CONSTANT_ENCAPSED_STRING","'absolute'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_STRING","TRUE",131],",",["T_WHITESPACE","\n      ",131],")",")",";",["T_WHITESPACE","\n    ",132],"}",["T_WHITESPACE","\n    ",133],["T_VARIABLE","$values",134],["T_WHITESPACE"," ",134],["T_PLUS_EQUAL","+=",134],["T_WHITESPACE"," ",134],["T_ARRAY","array",134],"(",["T_WHITESPACE","\n      ",134],["T_CONSTANT_ENCAPSED_STRING","'title'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$feed_name",135],",",["T_WHITESPACE","\n      ",135],["T_CONSTANT_ENCAPSED_STRING","'url'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$feed_url",136],",",["T_WHITESPACE","\n      ",136],["T_CONSTANT_ENCAPSED_STRING","'refresh'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'900'",137],",",["T_WHITESPACE","\n    ",137],")",";",["T_WHITESPACE","\n    ",138],["T_RETURN","return",139],["T_WHITESPACE"," ",139],["T_STRING","Feed",139],["T_DOUBLE_COLON","::",139],["T_STRING","create",139],"(",["T_VARIABLE","$values",139],")",";",["T_WHITESPACE","\n  ",139],"}",["T_WHITESPACE","\n\n  ",140],["T_DOC_COMMENT","\/**\n   * Returns the count of the randomly created feed array.\n   *\n   * @return int\n   *   Number of feed items on default feed created by createFeed().\n   *\/",142],["T_WHITESPACE","\n  ",147],["T_PUBLIC","public",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","getDefaultFeedItemCount",148],"(",")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n    ",148],["T_COMMENT","\/\/ Our tests are based off of rss.xml, so let's find out how many elements should be related.\n",149],["T_WHITESPACE","    ",150],["T_VARIABLE","$feed_count",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","db_query_range",150],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT COUNT(DISTINCT nid) FROM {node_field_data} n WHERE n.promote = 1 AND n.status = 1'",150],",",["T_WHITESPACE"," ",150],["T_LNUMBER","0",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","config",150],"(",["T_CONSTANT_ENCAPSED_STRING","'system.rss'",150],")",["T_OBJECT_OPERATOR","->",150],["T_STRING","get",150],"(",["T_CONSTANT_ENCAPSED_STRING","'items.limit'",150],")",")",["T_OBJECT_OPERATOR","->",150],["T_STRING","fetchField",150],"(",")",";",["T_WHITESPACE","\n    ",150],["T_RETURN","return",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$feed_count",151],["T_WHITESPACE"," ",151],">",["T_WHITESPACE"," ",151],["T_LNUMBER","10",151],["T_WHITESPACE"," ",151],"?",["T_WHITESPACE"," ",151],["T_LNUMBER","10",151],["T_WHITESPACE"," ",151],":",["T_WHITESPACE"," ",151],["T_VARIABLE","$feed_count",151],";",["T_WHITESPACE","\n  ",151],"}",["T_WHITESPACE","\n\n  ",152],["T_DOC_COMMENT","\/**\n   * Updates the feed items.\n   *\n   * This method simulates a click to\n   * admin\/config\/services\/aggregator\/update\/$fid.\n   *\n   * @param \\Drupal\\aggregator\\FeedInterface $feed\n   *   Feed object representing the feed.\n   * @param int|null $expected_count\n   *   Expected number of feed items. If omitted no check will happen.\n   *\/",154],["T_WHITESPACE","\n  ",164],["T_PUBLIC","public",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","updateFeedItems",165],"(",["T_STRING","FeedInterface",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$feed",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$expected_count",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_STRING","NULL",165],")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n    ",165],["T_COMMENT","\/\/ First, let's ensure we can get to the rss xml.\n",166],["T_WHITESPACE","    ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","drupalGet",167],"(",["T_VARIABLE","$feed",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getUrl",167],"(",")",")",";",["T_WHITESPACE","\n    ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","assertResponse",168],"(",["T_LNUMBER","200",168],",",["T_WHITESPACE"," ",168],["T_STRING","format_string",168],"(",["T_CONSTANT_ENCAPSED_STRING","':url is reachable.'",168],",",["T_WHITESPACE"," ",168],["T_ARRAY","array",168],"(",["T_CONSTANT_ENCAPSED_STRING","':url'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$feed",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getUrl",168],"(",")",")",")",")",";",["T_WHITESPACE","\n\n    ",168],["T_COMMENT","\/\/ Attempt to access the update link directly without an access token.\n",170],["T_WHITESPACE","    ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","drupalGet",171],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/services\/aggregator\/update\/'",171],["T_WHITESPACE"," ",171],".",["T_WHITESPACE"," ",171],["T_VARIABLE","$feed",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","id",171],"(",")",")",";",["T_WHITESPACE","\n    ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","assertResponse",172],"(",["T_LNUMBER","403",172],")",";",["T_WHITESPACE","\n\n    ",172],["T_COMMENT","\/\/ Refresh the feed (simulated link click).\n",174],["T_WHITESPACE","    ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","drupalGet",175],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/services\/aggregator'",175],")",";",["T_WHITESPACE","\n    ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","clickLink",176],"(",["T_CONSTANT_ENCAPSED_STRING","'Update items'",176],")",";",["T_WHITESPACE","\n\n    ",176],["T_COMMENT","\/\/ Ensure we have the right number of items.\n",178],["T_WHITESPACE","    ",179],["T_VARIABLE","$result",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_STRING","db_query",179],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT iid FROM {aggregator_item} WHERE fid = :fid'",179],",",["T_WHITESPACE"," ",179],["T_ARRAY","array",179],"(",["T_CONSTANT_ENCAPSED_STRING","':fid'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$feed",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","id",179],"(",")",")",")",";",["T_WHITESPACE","\n    ",179],["T_VARIABLE","$feed",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","items",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_ARRAY","array",180],"(",")",";",["T_WHITESPACE","\n    ",180],["T_FOREACH","foreach",181],["T_WHITESPACE"," ",181],"(",["T_VARIABLE","$result",181],["T_WHITESPACE"," ",181],["T_AS","as",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$item",181],")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n      ",181],["T_VARIABLE","$feed",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","items",182],"[","]",["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$item",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","iid",182],";",["T_WHITESPACE","\n    ",182],"}",["T_WHITESPACE","\n\n    ",183],["T_IF","if",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$expected_count",185],["T_WHITESPACE"," ",185],["T_IS_NOT_IDENTICAL","!==",185],["T_WHITESPACE"," ",185],["T_STRING","NULL",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n      ",185],["T_VARIABLE","$feed",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","item_count",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_STRING","count",186],"(",["T_VARIABLE","$feed",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","items",186],")",";",["T_WHITESPACE","\n      ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","assertEqual",187],"(",["T_VARIABLE","$expected_count",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$feed",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","item_count",187],",",["T_WHITESPACE"," ",187],["T_STRING","format_string",187],"(",["T_CONSTANT_ENCAPSED_STRING","'Total items in feed equal to the total items in database (@val1 != @val2)'",187],",",["T_WHITESPACE"," ",187],["T_ARRAY","array",187],"(",["T_CONSTANT_ENCAPSED_STRING","'@val1'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$expected_count",187],",",["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'@val2'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$feed",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","item_count",187],")",")",")",";",["T_WHITESPACE","\n    ",187],"}",["T_WHITESPACE","\n  ",188],"}",["T_WHITESPACE","\n\n  ",189],["T_DOC_COMMENT","\/**\n   * Confirms an item removal from a feed.\n   *\n   * @param \\Drupal\\aggregator\\FeedInterface $feed\n   *   Feed object representing the feed.\n   *\/",191],["T_WHITESPACE","\n  ",196],["T_PUBLIC","public",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","deleteFeedItems",197],"(",["T_STRING","FeedInterface",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$feed",197],")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n    ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","drupalPostForm",198],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/services\/aggregator\/delete\/'",198],["T_WHITESPACE"," ",198],".",["T_WHITESPACE"," ",198],["T_VARIABLE","$feed",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","id",198],"(",")",",",["T_WHITESPACE"," ",198],["T_ARRAY","array",198],"(",")",",",["T_WHITESPACE"," ",198],["T_STRING","t",198],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete items'",198],")",")",";",["T_WHITESPACE","\n    ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","assertRaw",199],"(",["T_STRING","t",199],"(",["T_CONSTANT_ENCAPSED_STRING","'The news items from %title have been deleted.'",199],",",["T_WHITESPACE"," ",199],["T_ARRAY","array",199],"(",["T_CONSTANT_ENCAPSED_STRING","'%title'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$feed",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","label",199],"(",")",")",")",",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'Feed items deleted.'",199],")",";",["T_WHITESPACE","\n  ",199],"}",["T_WHITESPACE","\n\n  ",200],["T_DOC_COMMENT","\/**\n   * Adds and deletes feed items and ensure that the count is zero.\n   *\n   * @param \\Drupal\\aggregator\\FeedInterface $feed\n   *   Feed object representing the feed.\n   * @param int $expected_count\n   *   Expected number of feed items.\n   *\/",202],["T_WHITESPACE","\n  ",209],["T_PUBLIC","public",210],["T_WHITESPACE"," ",210],["T_FUNCTION","function",210],["T_WHITESPACE"," ",210],["T_STRING","updateAndDelete",210],"(",["T_STRING","FeedInterface",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$feed",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$expected_count",210],")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n    ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","updateFeedItems",211],"(",["T_VARIABLE","$feed",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$expected_count",211],")",";",["T_WHITESPACE","\n    ",211],["T_VARIABLE","$count",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_STRING","db_query",212],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT COUNT(*) FROM {aggregator_item} WHERE fid = :fid'",212],",",["T_WHITESPACE"," ",212],["T_ARRAY","array",212],"(",["T_CONSTANT_ENCAPSED_STRING","':fid'",212],["T_WHITESPACE"," ",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$feed",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","id",212],"(",")",")",")",["T_OBJECT_OPERATOR","->",212],["T_STRING","fetchField",212],"(",")",";",["T_WHITESPACE","\n    ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","assertTrue",213],"(",["T_VARIABLE","$count",213],")",";",["T_WHITESPACE","\n    ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","deleteFeedItems",214],"(",["T_VARIABLE","$feed",214],")",";",["T_WHITESPACE","\n    ",214],["T_VARIABLE","$count",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_STRING","db_query",215],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT COUNT(*) FROM {aggregator_item} WHERE fid = :fid'",215],",",["T_WHITESPACE"," ",215],["T_ARRAY","array",215],"(",["T_CONSTANT_ENCAPSED_STRING","':fid'",215],["T_WHITESPACE"," ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$feed",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","id",215],"(",")",")",")",["T_OBJECT_OPERATOR","->",215],["T_STRING","fetchField",215],"(",")",";",["T_WHITESPACE","\n    ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","assertTrue",216],"(",["T_VARIABLE","$count",216],["T_WHITESPACE"," ",216],["T_IS_EQUAL","==",216],["T_WHITESPACE"," ",216],["T_LNUMBER","0",216],")",";",["T_WHITESPACE","\n  ",216],"}",["T_WHITESPACE","\n\n  ",217],["T_DOC_COMMENT","\/**\n   * Checks whether the feed name and URL are unique.\n   *\n   * @param string $feed_name\n   *   String containing the feed name to check.\n   * @param string $feed_url\n   *   String containing the feed url to check.\n   *\n   * @return bool\n   *   TRUE if feed is unique.\n   *\/",219],["T_WHITESPACE","\n  ",229],["T_PUBLIC","public",230],["T_WHITESPACE"," ",230],["T_FUNCTION","function",230],["T_WHITESPACE"," ",230],["T_STRING","uniqueFeed",230],"(",["T_VARIABLE","$feed_name",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$feed_url",230],")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n    ",230],["T_VARIABLE","$result",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_STRING","db_query",231],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT COUNT(*) FROM {aggregator_feed} WHERE title = :title AND url = :url\"",231],",",["T_WHITESPACE"," ",231],["T_ARRAY","array",231],"(",["T_CONSTANT_ENCAPSED_STRING","':title'",231],["T_WHITESPACE"," ",231],["T_DOUBLE_ARROW","=>",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$feed_name",231],",",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","':url'",231],["T_WHITESPACE"," ",231],["T_DOUBLE_ARROW","=>",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$feed_url",231],")",")",["T_OBJECT_OPERATOR","->",231],["T_STRING","fetchField",231],"(",")",";",["T_WHITESPACE","\n    ",231],["T_RETURN","return",232],["T_WHITESPACE"," ",232],"(",["T_LNUMBER","1",232],["T_WHITESPACE"," ",232],["T_IS_EQUAL","==",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$result",232],")",";",["T_WHITESPACE","\n  ",232],"}",["T_WHITESPACE","\n\n  ",233],["T_DOC_COMMENT","\/**\n   * Creates a valid OPML file from an array of feeds.\n   *\n   * @param array $feeds\n   *   An array of feeds.\n   *\n   * @return string\n   *   Path to valid OPML file.\n   *\/",235],["T_WHITESPACE","\n  ",243],["T_PUBLIC","public",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","getValidOpml",244],"(",["T_ARRAY","array",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$feeds",244],")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n    ",244],["T_COMMENT","\/\/ Properly escape URLs so that XML parsers don't choke on them.\n",245],["T_WHITESPACE","    ",246],["T_FOREACH","foreach",246],["T_WHITESPACE"," ",246],"(",["T_VARIABLE","$feeds",246],["T_WHITESPACE"," ",246],["T_AS","as",246],["T_WHITESPACE"," ",246],"&",["T_VARIABLE","$feed",246],")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n      ",246],["T_VARIABLE","$feed",247],"[",["T_CONSTANT_ENCAPSED_STRING","'url[0][value]'",247],"]",["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_STRING","Html",247],["T_DOUBLE_COLON","::",247],["T_STRING","escape",247],"(",["T_VARIABLE","$feed",247],"[",["T_CONSTANT_ENCAPSED_STRING","'url[0][value]'",247],"]",")",";",["T_WHITESPACE","\n    ",247],"}",["T_WHITESPACE","\n    ",248],["T_DOC_COMMENT","\/**\n     * Does not have an XML declaration, must pass the parser.\n     *\/",249],["T_WHITESPACE","\n    ",251],["T_VARIABLE","$opml",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_START_HEREDOC","<<<EOF\n",252],["T_ENCAPSED_AND_WHITESPACE","<opml version=\"1.0\">\n  <head><\/head>\n  <body>\n    <!-- First feed to be imported. -->\n    <outline text=\"",253],["T_CURLY_OPEN","{",257],["T_VARIABLE","$feeds",257],"[",["T_LNUMBER","0",257],"]","[",["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",257],"]","}",["T_ENCAPSED_AND_WHITESPACE","\" xmlurl=\"",257],["T_CURLY_OPEN","{",257],["T_VARIABLE","$feeds",257],"[",["T_LNUMBER","0",257],"]","[",["T_CONSTANT_ENCAPSED_STRING","'url[0][value]'",257],"]","}",["T_ENCAPSED_AND_WHITESPACE","\" \/>\n\n    <!-- Second feed. Test string delimitation and attribute order. -->\n    <outline xmlurl='",257],["T_CURLY_OPEN","{",260],["T_VARIABLE","$feeds",260],"[",["T_LNUMBER","1",260],"]","[",["T_CONSTANT_ENCAPSED_STRING","'url[0][value]'",260],"]","}",["T_ENCAPSED_AND_WHITESPACE","' text='",260],["T_CURLY_OPEN","{",260],["T_VARIABLE","$feeds",260],"[",["T_LNUMBER","1",260],"]","[",["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",260],"]","}",["T_ENCAPSED_AND_WHITESPACE","'\/>\n\n    <!-- Test for duplicate URL and title. -->\n    <outline xmlurl=\"",260],["T_CURLY_OPEN","{",263],["T_VARIABLE","$feeds",263],"[",["T_LNUMBER","0",263],"]","[",["T_CONSTANT_ENCAPSED_STRING","'url[0][value]'",263],"]","}",["T_ENCAPSED_AND_WHITESPACE","\" text=\"Duplicate URL\"\/>\n    <outline xmlurl=\"http:\/\/duplicate.title\" text=\"",263],["T_CURLY_OPEN","{",264],["T_VARIABLE","$feeds",264],"[",["T_LNUMBER","1",264],"]","[",["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",264],"]","}",["T_ENCAPSED_AND_WHITESPACE","\"\/>\n\n    <!-- Test that feeds are only added with required attributes. -->\n    <outline text=\"",264],["T_CURLY_OPEN","{",267],["T_VARIABLE","$feeds",267],"[",["T_LNUMBER","2",267],"]","[",["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",267],"]","}",["T_ENCAPSED_AND_WHITESPACE","\" \/>\n    <outline xmlurl=\"",267],["T_CURLY_OPEN","{",268],["T_VARIABLE","$feeds",268],"[",["T_LNUMBER","2",268],"]","[",["T_CONSTANT_ENCAPSED_STRING","'url[0][value]'",268],"]","}",["T_ENCAPSED_AND_WHITESPACE","\" \/>\n  <\/body>\n<\/opml>\n",268],["T_END_HEREDOC","EOF",271],";",["T_WHITESPACE","\n\n    ",271],["T_VARIABLE","$path",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'public:\/\/valid-opml.xml'",273],";",["T_WHITESPACE","\n    ",273],["T_RETURN","return",274],["T_WHITESPACE"," ",274],["T_STRING","file_unmanaged_save_data",274],"(",["T_VARIABLE","$opml",274],",",["T_WHITESPACE"," ",274],["T_VARIABLE","$path",274],")",";",["T_WHITESPACE","\n  ",274],"}",["T_WHITESPACE","\n\n  ",275],["T_DOC_COMMENT","\/**\n   * Creates an invalid OPML file.\n   *\n   * @return string\n   *   Path to invalid OPML file.\n   *\/",277],["T_WHITESPACE","\n  ",282],["T_PUBLIC","public",283],["T_WHITESPACE"," ",283],["T_FUNCTION","function",283],["T_WHITESPACE"," ",283],["T_STRING","getInvalidOpml",283],"(",")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n    ",283],["T_VARIABLE","$opml",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_START_HEREDOC","<<<EOF\n",284],["T_ENCAPSED_AND_WHITESPACE","<opml>\n  <invalid>\n<\/opml>\n",285],["T_END_HEREDOC","EOF",288],";",["T_WHITESPACE","\n\n    ",288],["T_VARIABLE","$path",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_CONSTANT_ENCAPSED_STRING","'public:\/\/invalid-opml.xml'",290],";",["T_WHITESPACE","\n    ",290],["T_RETURN","return",291],["T_WHITESPACE"," ",291],["T_STRING","file_unmanaged_save_data",291],"(",["T_VARIABLE","$opml",291],",",["T_WHITESPACE"," ",291],["T_VARIABLE","$path",291],")",";",["T_WHITESPACE","\n  ",291],"}",["T_WHITESPACE","\n\n  ",292],["T_DOC_COMMENT","\/**\n   * Creates a valid but empty OPML file.\n   *\n   * @return string\n   *   Path to empty OPML file.\n   *\/",294],["T_WHITESPACE","\n  ",299],["T_PUBLIC","public",300],["T_WHITESPACE"," ",300],["T_FUNCTION","function",300],["T_WHITESPACE"," ",300],["T_STRING","getEmptyOpml",300],"(",")",["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n    ",300],["T_VARIABLE","$opml",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_START_HEREDOC","<<<EOF\n",301],["T_ENCAPSED_AND_WHITESPACE","<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<opml version=\"1.0\">\n  <head><\/head>\n  <body>\n    <outline text=\"Sample text\" \/>\n    <outline text=\"Sample text\" url=\"Sample URL\" \/>\n  <\/body>\n<\/opml>\n",302],["T_END_HEREDOC","EOF",310],";",["T_WHITESPACE","\n\n    ",310],["T_VARIABLE","$path",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","'public:\/\/empty-opml.xml'",312],";",["T_WHITESPACE","\n    ",312],["T_RETURN","return",313],["T_WHITESPACE"," ",313],["T_STRING","file_unmanaged_save_data",313],"(",["T_VARIABLE","$opml",313],",",["T_WHITESPACE"," ",313],["T_VARIABLE","$path",313],")",";",["T_WHITESPACE","\n  ",313],"}",["T_WHITESPACE","\n\n  ",314],["T_DOC_COMMENT","\/**\n   * Returns a example RSS091 feed.\n   *\n   * @return string\n   *   Path to the feed.\n   *\/",316],["T_WHITESPACE","\n  ",321],["T_PUBLIC","public",322],["T_WHITESPACE"," ",322],["T_FUNCTION","function",322],["T_WHITESPACE"," ",322],["T_STRING","getRSS091Sample",322],"(",")",["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n    ",322],["T_RETURN","return",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$GLOBALS",323],"[",["T_CONSTANT_ENCAPSED_STRING","'base_url'",323],"]",["T_WHITESPACE"," ",323],".",["T_WHITESPACE"," ",323],["T_CONSTANT_ENCAPSED_STRING","'\/'",323],["T_WHITESPACE"," ",323],".",["T_WHITESPACE"," ",323],["T_STRING","drupal_get_path",323],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",323],",",["T_WHITESPACE"," ",323],["T_CONSTANT_ENCAPSED_STRING","'aggregator'",323],")",["T_WHITESPACE"," ",323],".",["T_WHITESPACE"," ",323],["T_CONSTANT_ENCAPSED_STRING","'\/tests\/modules\/aggregator_test\/aggregator_test_rss091.xml'",323],";",["T_WHITESPACE","\n  ",323],"}",["T_WHITESPACE","\n\n  ",324],["T_DOC_COMMENT","\/**\n   * Returns a example Atom feed.\n   *\n   * @return string\n   *   Path to the feed.\n   *\/",326],["T_WHITESPACE","\n  ",331],["T_PUBLIC","public",332],["T_WHITESPACE"," ",332],["T_FUNCTION","function",332],["T_WHITESPACE"," ",332],["T_STRING","getAtomSample",332],"(",")",["T_WHITESPACE"," ",332],"{",["T_WHITESPACE","\n    ",332],["T_COMMENT","\/\/ The content of this sample ATOM feed is based directly off of the\n",333],["T_WHITESPACE","    ",334],["T_COMMENT","\/\/ example provided in RFC 4287.\n",334],["T_WHITESPACE","    ",335],["T_RETURN","return",335],["T_WHITESPACE"," ",335],["T_VARIABLE","$GLOBALS",335],"[",["T_CONSTANT_ENCAPSED_STRING","'base_url'",335],"]",["T_WHITESPACE"," ",335],".",["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'\/'",335],["T_WHITESPACE"," ",335],".",["T_WHITESPACE"," ",335],["T_STRING","drupal_get_path",335],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",335],",",["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'aggregator'",335],")",["T_WHITESPACE"," ",335],".",["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'\/tests\/modules\/aggregator_test\/aggregator_test_atom.xml'",335],";",["T_WHITESPACE","\n  ",335],"}",["T_WHITESPACE","\n\n  ",336],["T_DOC_COMMENT","\/**\n   * Returns a example feed.\n   *\n   * @return string\n   *   Path to the feed.\n   *\/",338],["T_WHITESPACE","\n  ",343],["T_PUBLIC","public",344],["T_WHITESPACE"," ",344],["T_FUNCTION","function",344],["T_WHITESPACE"," ",344],["T_STRING","getHtmlEntitiesSample",344],"(",")",["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n    ",344],["T_RETURN","return",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$GLOBALS",345],"[",["T_CONSTANT_ENCAPSED_STRING","'base_url'",345],"]",["T_WHITESPACE"," ",345],".",["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","'\/'",345],["T_WHITESPACE"," ",345],".",["T_WHITESPACE"," ",345],["T_STRING","drupal_get_path",345],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",345],",",["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","'aggregator'",345],")",["T_WHITESPACE"," ",345],".",["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","'\/tests\/modules\/aggregator_test\/aggregator_test_title_entities.xml'",345],";",["T_WHITESPACE","\n  ",345],"}",["T_WHITESPACE","\n\n  ",346],["T_DOC_COMMENT","\/**\n   * Creates sample article nodes.\n   *\n   * @param int $count\n   *   (optional) The number of nodes to generate. Defaults to five.\n   *\/",348],["T_WHITESPACE","\n  ",353],["T_PUBLIC","public",354],["T_WHITESPACE"," ",354],["T_FUNCTION","function",354],["T_WHITESPACE"," ",354],["T_STRING","createSampleNodes",354],"(",["T_VARIABLE","$count",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_LNUMBER","5",354],")",["T_WHITESPACE"," ",354],"{",["T_WHITESPACE","\n    ",354],["T_COMMENT","\/\/ Post $count article nodes.\n",355],["T_WHITESPACE","    ",356],["T_FOR","for",356],["T_WHITESPACE"," ",356],"(",["T_VARIABLE","$i",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_LNUMBER","0",356],";",["T_WHITESPACE"," ",356],["T_VARIABLE","$i",356],["T_WHITESPACE"," ",356],"<",["T_WHITESPACE"," ",356],["T_VARIABLE","$count",356],";",["T_WHITESPACE"," ",356],["T_VARIABLE","$i",356],["T_INC","++",356],")",["T_WHITESPACE"," ",356],"{",["T_WHITESPACE","\n      ",356],["T_VARIABLE","$edit",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_ARRAY","array",357],"(",")",";",["T_WHITESPACE","\n      ",357],["T_VARIABLE","$edit",358],"[",["T_CONSTANT_ENCAPSED_STRING","'title[0][value]'",358],"]",["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","randomMachineName",358],"(",")",";",["T_WHITESPACE","\n      ",358],["T_VARIABLE","$edit",359],"[",["T_CONSTANT_ENCAPSED_STRING","'body[0][value]'",359],"]",["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","randomMachineName",359],"(",")",";",["T_WHITESPACE","\n      ",359],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","drupalPostForm",360],"(",["T_CONSTANT_ENCAPSED_STRING","'node\/add\/article'",360],",",["T_WHITESPACE"," ",360],["T_VARIABLE","$edit",360],",",["T_WHITESPACE"," ",360],["T_STRING","t",360],"(",["T_CONSTANT_ENCAPSED_STRING","'Save'",360],")",")",";",["T_WHITESPACE","\n    ",360],"}",["T_WHITESPACE","\n  ",361],"}",["T_WHITESPACE","\n\n  ",362],["T_DOC_COMMENT","\/**\n   * Enable the plugins coming with aggregator_test module.\n   *\/",364],["T_WHITESPACE","\n  ",366],["T_PUBLIC","public",367],["T_WHITESPACE"," ",367],["T_FUNCTION","function",367],["T_WHITESPACE"," ",367],["T_STRING","enableTestPlugins",367],"(",")",["T_WHITESPACE"," ",367],"{",["T_WHITESPACE","\n    ",367],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","config",368],"(",["T_CONSTANT_ENCAPSED_STRING","'aggregator.settings'",368],")",["T_WHITESPACE","\n      ",368],["T_OBJECT_OPERATOR","->",369],["T_STRING","set",369],"(",["T_CONSTANT_ENCAPSED_STRING","'fetcher'",369],",",["T_WHITESPACE"," ",369],["T_CONSTANT_ENCAPSED_STRING","'aggregator_test_fetcher'",369],")",["T_WHITESPACE","\n      ",369],["T_OBJECT_OPERATOR","->",370],["T_STRING","set",370],"(",["T_CONSTANT_ENCAPSED_STRING","'parser'",370],",",["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'aggregator_test_parser'",370],")",["T_WHITESPACE","\n      ",370],["T_OBJECT_OPERATOR","->",371],["T_STRING","set",371],"(",["T_CONSTANT_ENCAPSED_STRING","'processors'",371],",",["T_WHITESPACE"," ",371],["T_ARRAY","array",371],"(",["T_WHITESPACE","\n        ",371],["T_CONSTANT_ENCAPSED_STRING","'aggregator_test_processor'",372],["T_WHITESPACE"," ",372],["T_DOUBLE_ARROW","=>",372],["T_WHITESPACE"," ",372],["T_CONSTANT_ENCAPSED_STRING","'aggregator_test_processor'",372],",",["T_WHITESPACE","\n        ",372],["T_CONSTANT_ENCAPSED_STRING","'aggregator'",373],["T_WHITESPACE"," ",373],["T_DOUBLE_ARROW","=>",373],["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","'aggregator'",373],",",["T_WHITESPACE","\n      ",373],")",")",["T_WHITESPACE","\n      ",374],["T_OBJECT_OPERATOR","->",375],["T_STRING","save",375],"(",")",";",["T_WHITESPACE","\n  ",375],"}",["T_WHITESPACE","\n\n",376],"}",["T_WHITESPACE","\n",378]]