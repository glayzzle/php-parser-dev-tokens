[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","aggregator",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Tests the display of a feed on the Aggregator list page.\n *\n * @group aggregator\n *\/",5],["T_WHITESPACE","\n",9],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","FeedAdminDisplayTest",10],["T_WHITESPACE"," ",10],["T_EXTENDS","extends",10],["T_WHITESPACE"," ",10],["T_STRING","AggregatorTestBase",10],["T_WHITESPACE"," ",10],"{",["T_WHITESPACE","\n\n  ",10],["T_DOC_COMMENT","\/**\n   * Tests the \"Next update\" and \"Last update\" fields.\n   *\/",12],["T_WHITESPACE","\n  ",14],["T_PUBLIC","public",15],["T_WHITESPACE"," ",15],["T_FUNCTION","function",15],["T_WHITESPACE"," ",15],["T_STRING","testFeedUpdateFields",15],"(",")",["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n    ",15],["T_COMMENT","\/\/ Create scheduled feed.\n",16],["T_WHITESPACE","    ",17],["T_VARIABLE","$scheduled_feed",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_VARIABLE","$this",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","createFeed",17],"(",["T_STRING","NULL",17],",",["T_WHITESPACE"," ",17],["T_ARRAY","array",17],"(",["T_CONSTANT_ENCAPSED_STRING","'refresh'",17],["T_WHITESPACE"," ",17],["T_DOUBLE_ARROW","=>",17],["T_WHITESPACE"," ",17],["T_CONSTANT_ENCAPSED_STRING","'900'",17],")",")",";",["T_WHITESPACE","\n\n    ",17],["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","drupalGet",19],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/services\/aggregator'",19],")",";",["T_WHITESPACE","\n    ",19],["T_VARIABLE","$this",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","assertResponse",20],"(",["T_LNUMBER","200",20],",",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'Aggregator feed overview page exists.'",20],")",";",["T_WHITESPACE","\n\n    ",20],["T_COMMENT","\/\/ The scheduled feed shows that it has not been updated yet and is\n",22],["T_WHITESPACE","    ",23],["T_COMMENT","\/\/ scheduled.\n",23],["T_WHITESPACE","    ",24],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","assertText",24],"(",["T_CONSTANT_ENCAPSED_STRING","'never'",24],",",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'The scheduled feed has not been updated yet.  Last update shows \"never\".'",24],")",";",["T_WHITESPACE","\n    ",24],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","assertText",25],"(",["T_CONSTANT_ENCAPSED_STRING","'imminently'",25],",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'The scheduled feed has not been updated yet. Next update shows \"imminently\".'",25],")",";",["T_WHITESPACE","\n    ",25],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","assertNoText",26],"(",["T_CONSTANT_ENCAPSED_STRING","'ago'",26],",",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'The scheduled feed has not been updated yet.  Last update does not show \"x x ago\".'",26],")",";",["T_WHITESPACE","\n    ",26],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","assertNoText",27],"(",["T_CONSTANT_ENCAPSED_STRING","'left'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'The scheduled feed has not been updated yet.  Next update does not show \"x x left\".'",27],")",";",["T_WHITESPACE","\n\n    ",27],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","updateFeedItems",29],"(",["T_VARIABLE","$scheduled_feed",29],")",";",["T_WHITESPACE","\n    ",29],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","drupalGet",30],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/services\/aggregator'",30],")",";",["T_WHITESPACE","\n\n    ",30],["T_COMMENT","\/\/ After the update, an interval should be displayed on both last updated\n",32],["T_WHITESPACE","    ",33],["T_COMMENT","\/\/ and next update.\n",33],["T_WHITESPACE","    ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","assertNoText",34],"(",["T_CONSTANT_ENCAPSED_STRING","'never'",34],",",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'The scheduled feed has been updated. Last updated changed.'",34],")",";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","assertNoText",35],"(",["T_CONSTANT_ENCAPSED_STRING","'imminently'",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'The scheduled feed has been updated. Next update changed.'",35],")",";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","assertText",36],"(",["T_CONSTANT_ENCAPSED_STRING","'ago'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'The scheduled feed been updated.  Last update shows \"x x ago\".'",36],")",";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","assertText",37],"(",["T_CONSTANT_ENCAPSED_STRING","'left'",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'The scheduled feed has been updated. Next update shows \"x x left\".'",37],")",";",["T_WHITESPACE","\n\n    ",37],["T_COMMENT","\/\/ Delete scheduled feed.\n",39],["T_WHITESPACE","    ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","deleteFeed",40],"(",["T_VARIABLE","$scheduled_feed",40],")",";",["T_WHITESPACE","\n\n    ",40],["T_COMMENT","\/\/ Create non-scheduled feed.\n",42],["T_WHITESPACE","    ",43],["T_VARIABLE","$non_scheduled_feed",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","createFeed",43],"(",["T_STRING","NULL",43],",",["T_WHITESPACE"," ",43],["T_ARRAY","array",43],"(",["T_CONSTANT_ENCAPSED_STRING","'refresh'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'0'",43],")",")",";",["T_WHITESPACE","\n\n    ",43],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","drupalGet",45],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/services\/aggregator'",45],")",";",["T_WHITESPACE","\n    ",45],["T_COMMENT","\/\/ The non scheduled feed shows that it has not been updated yet.\n",46],["T_WHITESPACE","    ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","assertText",47],"(",["T_CONSTANT_ENCAPSED_STRING","'never'",47],",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'The non scheduled feed has not been updated yet.  Last update shows \"never\".'",47],")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","assertNoText",48],"(",["T_CONSTANT_ENCAPSED_STRING","'imminently'",48],",",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'The non scheduled feed does not show \"imminently\" as next update.'",48],")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertNoText",49],"(",["T_CONSTANT_ENCAPSED_STRING","'ago'",49],",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'The non scheduled feed has not been updated. It does not show \"x x ago\" as last update.'",49],")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","assertNoText",50],"(",["T_CONSTANT_ENCAPSED_STRING","'left'",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'The feed is not scheduled. It does not show a timeframe \"x x left\" for next update.'",50],")",";",["T_WHITESPACE","\n\n    ",50],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","updateFeedItems",52],"(",["T_VARIABLE","$non_scheduled_feed",52],")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","drupalGet",53],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/config\/services\/aggregator'",53],")",";",["T_WHITESPACE","\n\n    ",53],["T_COMMENT","\/\/ After the feed update, we still need to see \"never\" as next update label.\n",55],["T_WHITESPACE","    ",56],["T_COMMENT","\/\/ Last update will show an interval.\n",56],["T_WHITESPACE","    ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","assertNoText",57],"(",["T_CONSTANT_ENCAPSED_STRING","'imminently'",57],",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'The updated non scheduled feed does not show \"imminently\" as next update.'",57],")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","assertText",58],"(",["T_CONSTANT_ENCAPSED_STRING","'never'",58],",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'The updated non scheduled feed still shows \"never\" as next update.'",58],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","assertText",59],"(",["T_CONSTANT_ENCAPSED_STRING","'ago'",59],",",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'The non scheduled feed has been updated. It shows \"x x ago\" as last update.'",59],")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertNoText",60],"(",["T_CONSTANT_ENCAPSED_STRING","'left'",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'The feed is not scheduled. It does not show a timeframe \"x x left\" for next update.'",60],")",";",["T_WHITESPACE","\n  ",60],"}",["T_WHITESPACE","\n\n",61],"}",["T_WHITESPACE","\n",63]]