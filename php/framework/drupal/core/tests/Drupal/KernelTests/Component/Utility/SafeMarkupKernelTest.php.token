[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Component",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Utility",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","SafeMarkup",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Url",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","KernelTests",7],["T_NS_SEPARATOR","\\",7],["T_STRING","KernelTestBase",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Provides a test covering integration of SafeMarkup with other systems.\n *\n * @group Utility\n*\/",9],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","SafeMarkupKernelTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","KernelTestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",16],["T_WHITESPACE","\n  ",18],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_STATIC","static",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$modules",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],"[",["T_CONSTANT_ENCAPSED_STRING","'system'",19],"]",";",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",21],["T_WHITESPACE","\n  ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_FUNCTION","function",24],["T_WHITESPACE"," ",24],["T_STRING","setUp",24],"(",")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n    ",24],["T_STRING","parent",25],["T_DOUBLE_COLON","::",25],["T_STRING","setUp",25],"(",")",";",["T_WHITESPACE","\n\n    ",25],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","container",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","get",27],"(",["T_CONSTANT_ENCAPSED_STRING","'router.builder'",27],")",["T_OBJECT_OPERATOR","->",27],["T_STRING","rebuild",27],"(",")",";",["T_WHITESPACE","\n  ",27],"}",["T_WHITESPACE","\n\n  ",28],["T_DOC_COMMENT","\/**\n   * Gets arguments for SafeMarkup::format() based on Url::fromUri() parameters.\n   *\n   * @param string $uri\n   *   The URI of the resource.\n   * @param array $options\n   *   The options to pass to Url::fromUri().\n   *\n   * @return array\n   *   Array containing:\n   *   - ':url': A URL string.\n   *\/",30],["T_WHITESPACE","\n  ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_STATIC","static",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","getSafeMarkupUriArgs",42],"(",["T_VARIABLE","$uri",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$options",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],"[","]",")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$args",43],"[",["T_CONSTANT_ENCAPSED_STRING","':url'",43],"]",["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_STRING","Url",43],["T_DOUBLE_COLON","::",43],["T_STRING","fromUri",43],"(",["T_VARIABLE","$uri",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$options",43],")",["T_OBJECT_OPERATOR","->",43],["T_STRING","toString",43],"(",")",";",["T_WHITESPACE","\n    ",43],["T_RETURN","return",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$args",44],";",["T_WHITESPACE","\n  ",44],"}",["T_WHITESPACE","\n\n  ",45],["T_DOC_COMMENT","\/**\n   * Tests URL \":placeholders\" in SafeMarkup::format().\n   *\n   * @dataProvider providerTestSafeMarkupUri\n   *\/",47],["T_WHITESPACE","\n  ",51],["T_PUBLIC","public",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","testSafeMarkupUri",52],"(",["T_VARIABLE","$string",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$uri",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$options",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$expected",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$args",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","self",53],["T_DOUBLE_COLON","::",53],["T_STRING","getSafeMarkupUriArgs",53],"(",["T_VARIABLE","$uri",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$options",53],")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertEquals",54],"(",["T_VARIABLE","$expected",54],",",["T_WHITESPACE"," ",54],["T_STRING","SafeMarkup",54],["T_DOUBLE_COLON","::",54],["T_STRING","format",54],"(",["T_VARIABLE","$string",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$args",54],")",")",";",["T_WHITESPACE","\n  ",54],"}",["T_WHITESPACE","\n\n  ",55],["T_DOC_COMMENT","\/**\n   * @return array\n   *\/",57],["T_WHITESPACE","\n  ",59],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","providerTestSafeMarkupUri",60],"(",")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$data",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],"[","]",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$data",62],"[",["T_CONSTANT_ENCAPSED_STRING","'routed-url'",62],"]",["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],"[",["T_WHITESPACE","\n      ",62],["T_CONSTANT_ENCAPSED_STRING","'Hey giraffe <a href=\":url\">MUUUH<\/a>'",63],",",["T_WHITESPACE","\n      ",63],["T_CONSTANT_ENCAPSED_STRING","'route:system.admin'",64],",",["T_WHITESPACE","\n      ",64],"[","]",",",["T_WHITESPACE","\n      ",65],["T_CONSTANT_ENCAPSED_STRING","'Hey giraffe <a href=\"\/admin\">MUUUH<\/a>'",66],",",["T_WHITESPACE","\n    ",66],"]",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$data",68],"[",["T_CONSTANT_ENCAPSED_STRING","'routed-with-query'",68],"]",["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],"[",["T_WHITESPACE","\n      ",68],["T_CONSTANT_ENCAPSED_STRING","'Hey giraffe <a href=\":url\">MUUUH<\/a>'",69],",",["T_WHITESPACE","\n      ",69],["T_CONSTANT_ENCAPSED_STRING","'route:system.admin'",70],",",["T_WHITESPACE","\n      ",70],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],"[",["T_CONSTANT_ENCAPSED_STRING","'bar'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'baz#'",71],"]","]",",",["T_WHITESPACE","\n      ",71],["T_CONSTANT_ENCAPSED_STRING","'Hey giraffe <a href=\"\/admin?bar=baz%23\">MUUUH<\/a>'",72],",",["T_WHITESPACE","\n    ",72],"]",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$data",74],"[",["T_CONSTANT_ENCAPSED_STRING","'routed-with-fragment'",74],"]",["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],"[",["T_WHITESPACE","\n      ",74],["T_CONSTANT_ENCAPSED_STRING","'Hey giraffe <a href=\":url\">MUUUH<\/a>'",75],",",["T_WHITESPACE","\n      ",75],["T_CONSTANT_ENCAPSED_STRING","'route:system.admin'",76],",",["T_WHITESPACE","\n      ",76],"[",["T_CONSTANT_ENCAPSED_STRING","'fragment'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'bar&lt;'",77],"]",",",["T_WHITESPACE","\n      ",77],["T_CONSTANT_ENCAPSED_STRING","'Hey giraffe <a href=\"\/admin#bar&amp;lt;\">MUUUH<\/a>'",78],",",["T_WHITESPACE","\n    ",78],"]",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$data",80],"[",["T_CONSTANT_ENCAPSED_STRING","'unrouted-url'",80],"]",["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],"[",["T_WHITESPACE","\n      ",80],["T_CONSTANT_ENCAPSED_STRING","'Hey giraffe <a href=\":url\">MUUUH<\/a>'",81],",",["T_WHITESPACE","\n      ",81],["T_CONSTANT_ENCAPSED_STRING","'base:\/\/foo'",82],",",["T_WHITESPACE","\n      ",82],"[","]",",",["T_WHITESPACE","\n      ",83],["T_CONSTANT_ENCAPSED_STRING","'Hey giraffe <a href=\"\/foo\">MUUUH<\/a>'",84],",",["T_WHITESPACE","\n    ",84],"]",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$data",86],"[",["T_CONSTANT_ENCAPSED_STRING","'unrouted-with-query'",86],"]",["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],"[",["T_WHITESPACE","\n      ",86],["T_CONSTANT_ENCAPSED_STRING","'Hey giraffe <a href=\":url\">MUUUH<\/a>'",87],",",["T_WHITESPACE","\n      ",87],["T_CONSTANT_ENCAPSED_STRING","'base:\/\/foo'",88],",",["T_WHITESPACE","\n      ",88],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],"[",["T_CONSTANT_ENCAPSED_STRING","'bar'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'baz#'",89],"]","]",",",["T_WHITESPACE","\n      ",89],["T_CONSTANT_ENCAPSED_STRING","'Hey giraffe <a href=\"\/foo?bar=baz%23\">MUUUH<\/a>'",90],",",["T_WHITESPACE","\n    ",90],"]",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$data",92],"[",["T_CONSTANT_ENCAPSED_STRING","'unrouted-with-fragment'",92],"]",["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],"[",["T_WHITESPACE","\n      ",92],["T_CONSTANT_ENCAPSED_STRING","'Hey giraffe <a href=\":url\">MUUUH<\/a>'",93],",",["T_WHITESPACE","\n      ",93],["T_CONSTANT_ENCAPSED_STRING","'base:\/\/foo'",94],",",["T_WHITESPACE","\n      ",94],"[",["T_CONSTANT_ENCAPSED_STRING","'fragment'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'bar&lt;'",95],"]",",",["T_WHITESPACE","\n      ",95],["T_CONSTANT_ENCAPSED_STRING","'Hey giraffe <a href=\"\/foo#bar&amp;lt;\">MUUUH<\/a>'",96],",",["T_WHITESPACE","\n    ",96],"]",";",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$data",98],"[",["T_CONSTANT_ENCAPSED_STRING","'mailto-protocol'",98],"]",["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],"[",["T_WHITESPACE","\n      ",98],["T_CONSTANT_ENCAPSED_STRING","'Hey giraffe <a href=\":url\">MUUUH<\/a>'",99],",",["T_WHITESPACE","\n      ",99],["T_CONSTANT_ENCAPSED_STRING","'mailto:test@example.com'",100],",",["T_WHITESPACE","\n      ",100],"[","]",",",["T_WHITESPACE","\n      ",101],["T_CONSTANT_ENCAPSED_STRING","'Hey giraffe <a href=\"mailto:test@example.com\">MUUUH<\/a>'",102],",",["T_WHITESPACE","\n    ",102],"]",";",["T_WHITESPACE","\n\n    ",103],["T_RETURN","return",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$data",105],";",["T_WHITESPACE","\n  ",105],"}",["T_WHITESPACE","\n\n  ",106],["T_DOC_COMMENT","\/**\n   * @dataProvider providerTestSafeMarkupUriWithException\n   * @expectedException \\InvalidArgumentException\n   *\/",108],["T_WHITESPACE","\n  ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","testSafeMarkupUriWithExceptionUri",112],"(",["T_VARIABLE","$string",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$uri",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n    ",112],["T_COMMENT","\/\/ Should throw an \\InvalidArgumentException, due to Uri::toString().\n",113],["T_WHITESPACE","    ",114],["T_VARIABLE","$args",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_STRING","self",114],["T_DOUBLE_COLON","::",114],["T_STRING","getSafeMarkupUriArgs",114],"(",["T_VARIABLE","$uri",114],")",";",["T_WHITESPACE","\n\n    ",114],["T_STRING","SafeMarkup",116],["T_DOUBLE_COLON","::",116],["T_STRING","format",116],"(",["T_VARIABLE","$string",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$args",116],")",";",["T_WHITESPACE","\n  ",116],"}",["T_WHITESPACE","\n\n  ",117],["T_DOC_COMMENT","\/**\n   * @return array\n   *\/",119],["T_WHITESPACE","\n  ",121],["T_PUBLIC","public",122],["T_WHITESPACE"," ",122],["T_FUNCTION","function",122],["T_WHITESPACE"," ",122],["T_STRING","providerTestSafeMarkupUriWithException",122],"(",")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$data",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],"[","]",";",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$data",124],"[",["T_CONSTANT_ENCAPSED_STRING","'js-protocol'",124],"]",["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],"[",["T_WHITESPACE","\n      ",124],["T_CONSTANT_ENCAPSED_STRING","'Hey giraffe <a href=\":url\">MUUUH<\/a>'",125],",",["T_WHITESPACE","\n      ",125],["T_CONSTANT_ENCAPSED_STRING","\"javascript:alert('xss')\"",126],",",["T_WHITESPACE","\n    ",126],"]",";",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$data",128],"[",["T_CONSTANT_ENCAPSED_STRING","'js-with-fromCharCode'",128],"]",["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],"[",["T_WHITESPACE","\n      ",128],["T_CONSTANT_ENCAPSED_STRING","'Hey giraffe <a href=\":url\">MUUUH<\/a>'",129],",",["T_WHITESPACE","\n      ",129],["T_CONSTANT_ENCAPSED_STRING","\"javascript:alert(String.fromCharCode(88,83,83))\"",130],",",["T_WHITESPACE","\n    ",130],"]",";",["T_WHITESPACE","\n    ",131],["T_VARIABLE","$data",132],"[",["T_CONSTANT_ENCAPSED_STRING","'non-url-with-colon'",132],"]",["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],"[",["T_WHITESPACE","\n      ",132],["T_CONSTANT_ENCAPSED_STRING","'Hey giraffe <a href=\":url\">MUUUH<\/a>'",133],",",["T_WHITESPACE","\n      ",133],["T_CONSTANT_ENCAPSED_STRING","\"llamas: they are not URLs\"",134],",",["T_WHITESPACE","\n    ",134],"]",";",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$data",136],"[",["T_CONSTANT_ENCAPSED_STRING","'non-url-with-html'",136],"]",["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],"[",["T_WHITESPACE","\n      ",136],["T_CONSTANT_ENCAPSED_STRING","'Hey giraffe <a href=\":url\">MUUUH<\/a>'",137],",",["T_WHITESPACE","\n      ",137],["T_CONSTANT_ENCAPSED_STRING","'<span>not a url<\/span>'",138],",",["T_WHITESPACE","\n    ",138],"]",";",["T_WHITESPACE","\n\n    ",139],["T_RETURN","return",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$data",141],";",["T_WHITESPACE","\n  ",141],"}",["T_WHITESPACE","\n\n",142],"}",["T_WHITESPACE","\n",144]]