[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Entity",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","TypedData",5],["T_NS_SEPARATOR","\\",5],["T_STRING","DataDefinition",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests validation constraints for EntityTypeConstraintValidator.\n *\n * @group Entity\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","EntityTypeConstraintValidatorTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","EntityKernelTestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * The typed data manager to use.\n   *\n   * @var \\Drupal\\Core\\TypedData\\TypedDataManager\n   *\/",14],["T_WHITESPACE","\n  ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$typedData",19],";",["T_WHITESPACE","\n\n  ",19],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_STATIC","static",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$modules",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_ARRAY","array",21],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'field'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'user'",21],")",";",["T_WHITESPACE","\n\n  ",21],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_FUNCTION","function",23],["T_WHITESPACE"," ",23],["T_STRING","setUp",23],"(",")",["T_WHITESPACE"," ",23],"{",["T_WHITESPACE","\n    ",23],["T_STRING","parent",24],["T_DOUBLE_COLON","::",24],["T_STRING","setUp",24],"(",")",";",["T_WHITESPACE","\n    ",24],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","typedData",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","container",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","get",25],"(",["T_CONSTANT_ENCAPSED_STRING","'typed_data_manager'",25],")",";",["T_WHITESPACE","\n  ",25],"}",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * Tests the EntityTypeConstraintValidator.\n   *\/",28],["T_WHITESPACE","\n  ",30],["T_PUBLIC","public",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","testValidation",31],"(",")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n    ",31],["T_COMMENT","\/\/ Create a typed data definition with an EntityType constraint.\n",32],["T_WHITESPACE","    ",33],["T_VARIABLE","$entity_type",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'node'",33],";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$definition",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_STRING","DataDefinition",34],["T_DOUBLE_COLON","::",34],["T_STRING","create",34],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_reference'",34],")",["T_WHITESPACE","\n      ",34],["T_OBJECT_OPERATOR","->",35],["T_STRING","setConstraints",35],"(",["T_ARRAY","array",35],"(",["T_WHITESPACE","\n        ",35],["T_CONSTANT_ENCAPSED_STRING","'EntityType'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$entity_type",36],",",["T_WHITESPACE","\n      ",36],")",["T_WHITESPACE","\n    ",37],")",";",["T_WHITESPACE","\n\n    ",38],["T_COMMENT","\/\/ Test the validation.\n",40],["T_WHITESPACE","    ",41],["T_VARIABLE","$node",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","container",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","get",41],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",41],")",["T_OBJECT_OPERATOR","->",41],["T_STRING","getStorage",41],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",41],")",["T_OBJECT_OPERATOR","->",41],["T_STRING","create",41],"(",["T_ARRAY","array",41],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'page'",41],")",")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$typed_data",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","typedData",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","create",42],"(",["T_VARIABLE","$definition",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$node",42],")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$violations",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$typed_data",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","validate",43],"(",")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","assertEqual",44],"(",["T_VARIABLE","$violations",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","count",44],"(",")",",",["T_WHITESPACE"," ",44],["T_LNUMBER","0",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'Validation passed for correct value.'",44],")",";",["T_WHITESPACE","\n\n    ",44],["T_COMMENT","\/\/ Test the validation when an invalid value (in this case a user entity)\n",46],["T_WHITESPACE","    ",47],["T_COMMENT","\/\/ is passed.\n",47],["T_WHITESPACE","    ",48],["T_VARIABLE","$account",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","createUser",48],"(",")",";",["T_WHITESPACE","\n\n    ",48],["T_VARIABLE","$typed_data",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","typedData",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","create",50],"(",["T_VARIABLE","$definition",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$account",50],")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$violations",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$typed_data",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","validate",51],"(",")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","assertEqual",52],"(",["T_VARIABLE","$violations",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","count",52],"(",")",",",["T_WHITESPACE"," ",52],["T_LNUMBER","1",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'Validation failed for incorrect value.'",52],")",";",["T_WHITESPACE","\n\n    ",52],["T_COMMENT","\/\/ Make sure the information provided by a violation is correct.\n",54],["T_WHITESPACE","    ",55],["T_VARIABLE","$violation",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$violations",55],"[",["T_LNUMBER","0",55],"]",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","assertEqual",56],"(",["T_VARIABLE","$violation",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getMessage",56],"(",")",",",["T_WHITESPACE"," ",56],["T_STRING","t",56],"(",["T_CONSTANT_ENCAPSED_STRING","'The entity must be of type %type.'",56],",",["T_WHITESPACE"," ",56],["T_ARRAY","array",56],"(",["T_CONSTANT_ENCAPSED_STRING","'%type'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$entity_type",56],")",")",",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'The message for invalid value is correct.'",56],")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","assertEqual",57],"(",["T_VARIABLE","$violation",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getRoot",57],"(",")",",",["T_WHITESPACE"," ",57],["T_VARIABLE","$typed_data",57],",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'Violation root is correct.'",57],")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","assertEqual",58],"(",["T_VARIABLE","$violation",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getInvalidValue",58],"(",")",",",["T_WHITESPACE"," ",58],["T_VARIABLE","$account",58],",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'The invalid value is set correctly in the violation.'",58],")",";",["T_WHITESPACE","\n  ",58],"}",["T_WHITESPACE","\n\n",59],"}",["T_WHITESPACE","\n",61]]