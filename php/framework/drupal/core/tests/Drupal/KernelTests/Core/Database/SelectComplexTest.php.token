[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Database",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Database",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Database",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Database",6],["T_NS_SEPARATOR","\\",6],["T_STRING","RowCountException",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","user",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","User",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Tests the Select query builder with more complex queries.\n *\n * @group Database\n *\/",9],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","SelectComplexTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","DatabaseTestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",16],["T_WHITESPACE","\n  ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_STATIC","static",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$modules",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_ARRAY","array",21],"(",["T_CONSTANT_ENCAPSED_STRING","'system'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'user'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'node_access_test'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'field'",21],")",";",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * Tests simple JOIN statements.\n   *\/",23],["T_WHITESPACE","\n  ",25],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","testDefaultJoin",26],"(",")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n    ",26],["T_VARIABLE","$query",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_STRING","db_select",27],"(",["T_CONSTANT_ENCAPSED_STRING","'test_task'",27],",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'t'",27],")",";",["T_WHITESPACE","\n    ",27],["T_VARIABLE","$people_alias",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_VARIABLE","$query",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","join",28],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'p'",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'t.pid = p.id'",28],")",";",["T_WHITESPACE","\n    ",28],["T_VARIABLE","$name_field",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_VARIABLE","$query",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","addField",29],"(",["T_VARIABLE","$people_alias",29],",",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'name'",29],",",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'name'",29],")",";",["T_WHITESPACE","\n    ",29],["T_VARIABLE","$query",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","addField",30],"(",["T_CONSTANT_ENCAPSED_STRING","'t'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'task'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'task'",30],")",";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$priority_field",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$query",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","addField",31],"(",["T_CONSTANT_ENCAPSED_STRING","'t'",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'priority'",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'priority'",31],")",";",["T_WHITESPACE","\n\n    ",31],["T_VARIABLE","$query",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","orderBy",33],"(",["T_VARIABLE","$priority_field",33],")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$result",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$query",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","execute",34],"(",")",";",["T_WHITESPACE","\n\n    ",34],["T_VARIABLE","$num_records",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_LNUMBER","0",36],";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$last_priority",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_LNUMBER","0",37],";",["T_WHITESPACE","\n    ",37],["T_FOREACH","foreach",38],["T_WHITESPACE"," ",38],"(",["T_VARIABLE","$result",38],["T_WHITESPACE"," ",38],["T_AS","as",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$record",38],")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n      ",38],["T_VARIABLE","$num_records",39],["T_INC","++",39],";",["T_WHITESPACE","\n      ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","assertTrue",40],"(",["T_VARIABLE","$record",40],["T_OBJECT_OPERATOR","->",40],["T_VARIABLE","$priority_field",40],["T_WHITESPACE"," ",40],["T_IS_GREATER_OR_EQUAL",">=",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$last_priority",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'Results returned in correct order.'",40],")",";",["T_WHITESPACE","\n      ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","assertNotEqual",41],"(",["T_VARIABLE","$record",41],["T_OBJECT_OPERATOR","->",41],["T_VARIABLE","$name_field",41],",",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'Ringo'",41],",",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'Taskless person not selected.'",41],")",";",["T_WHITESPACE","\n      ",41],["T_VARIABLE","$last_priority",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$record",42],["T_OBJECT_OPERATOR","->",42],["T_VARIABLE","$priority_field",42],";",["T_WHITESPACE","\n    ",42],"}",["T_WHITESPACE","\n\n    ",43],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","assertEqual",45],"(",["T_VARIABLE","$num_records",45],",",["T_WHITESPACE"," ",45],["T_LNUMBER","7",45],",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'Returned the correct number of rows.'",45],")",";",["T_WHITESPACE","\n  ",45],"}",["T_WHITESPACE","\n\n  ",46],["T_DOC_COMMENT","\/**\n   * Tests LEFT OUTER joins.\n   *\/",48],["T_WHITESPACE","\n  ",50],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","testLeftOuterJoin",51],"(",")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$query",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_STRING","db_select",52],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'p'",52],")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$people_alias",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$query",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","leftJoin",53],"(",["T_CONSTANT_ENCAPSED_STRING","'test_task'",53],",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'t'",53],",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'t.pid = p.id'",53],")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$name_field",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$query",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","addField",54],"(",["T_CONSTANT_ENCAPSED_STRING","'p'",54],",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'name'",54],",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'name'",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$query",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","addField",55],"(",["T_VARIABLE","$people_alias",55],",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'task'",55],",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'task'",55],")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$query",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","addField",56],"(",["T_VARIABLE","$people_alias",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'priority'",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'priority'",56],")",";",["T_WHITESPACE","\n\n    ",56],["T_VARIABLE","$query",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","orderBy",58],"(",["T_VARIABLE","$name_field",58],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$result",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$query",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","execute",59],"(",")",";",["T_WHITESPACE","\n\n    ",59],["T_VARIABLE","$num_records",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_LNUMBER","0",61],";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$last_name",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_LNUMBER","0",62],";",["T_WHITESPACE","\n\n    ",62],["T_FOREACH","foreach",64],["T_WHITESPACE"," ",64],"(",["T_VARIABLE","$result",64],["T_WHITESPACE"," ",64],["T_AS","as",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$record",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n      ",64],["T_VARIABLE","$num_records",65],["T_INC","++",65],";",["T_WHITESPACE","\n      ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","assertTrue",66],"(",["T_STRING","strcmp",66],"(",["T_VARIABLE","$record",66],["T_OBJECT_OPERATOR","->",66],["T_VARIABLE","$name_field",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$last_name",66],")",["T_WHITESPACE"," ",66],["T_IS_GREATER_OR_EQUAL",">=",66],["T_WHITESPACE"," ",66],["T_LNUMBER","0",66],",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'Results returned in correct order.'",66],")",";",["T_WHITESPACE","\n    ",66],"}",["T_WHITESPACE","\n\n    ",67],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertEqual",69],"(",["T_VARIABLE","$num_records",69],",",["T_WHITESPACE"," ",69],["T_LNUMBER","8",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'Returned the correct number of rows.'",69],")",";",["T_WHITESPACE","\n  ",69],"}",["T_WHITESPACE","\n\n  ",70],["T_DOC_COMMENT","\/**\n   * Tests GROUP BY clauses.\n   *\/",72],["T_WHITESPACE","\n  ",74],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","testGroupBy",75],"(",")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$query",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_STRING","db_select",76],"(",["T_CONSTANT_ENCAPSED_STRING","'test_task'",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'t'",76],")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$count_field",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$query",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","addExpression",77],"(",["T_CONSTANT_ENCAPSED_STRING","'COUNT(task)'",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'num'",77],")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$task_field",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$query",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","addField",78],"(",["T_CONSTANT_ENCAPSED_STRING","'t'",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'task'",78],")",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$query",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","orderBy",79],"(",["T_VARIABLE","$count_field",79],")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$query",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","groupBy",80],"(",["T_VARIABLE","$task_field",80],")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$result",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$query",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","execute",81],"(",")",";",["T_WHITESPACE","\n\n    ",81],["T_VARIABLE","$num_records",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_LNUMBER","0",83],";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$last_count",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_LNUMBER","0",84],";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$records",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_ARRAY","array",85],"(",")",";",["T_WHITESPACE","\n    ",85],["T_FOREACH","foreach",86],["T_WHITESPACE"," ",86],"(",["T_VARIABLE","$result",86],["T_WHITESPACE"," ",86],["T_AS","as",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$record",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n      ",86],["T_VARIABLE","$num_records",87],["T_INC","++",87],";",["T_WHITESPACE","\n      ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","assertTrue",88],"(",["T_VARIABLE","$record",88],["T_OBJECT_OPERATOR","->",88],["T_VARIABLE","$count_field",88],["T_WHITESPACE"," ",88],["T_IS_GREATER_OR_EQUAL",">=",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$last_count",88],",",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'Results returned in correct order.'",88],")",";",["T_WHITESPACE","\n      ",88],["T_VARIABLE","$last_count",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$record",89],["T_OBJECT_OPERATOR","->",89],["T_VARIABLE","$count_field",89],";",["T_WHITESPACE","\n      ",89],["T_VARIABLE","$records",90],"[",["T_VARIABLE","$record",90],["T_OBJECT_OPERATOR","->",90],["T_VARIABLE","$task_field",90],"]",["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$record",90],["T_OBJECT_OPERATOR","->",90],["T_VARIABLE","$count_field",90],";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n\n    ",91],["T_VARIABLE","$correct_results",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_ARRAY","array",93],"(",["T_WHITESPACE","\n      ",93],["T_CONSTANT_ENCAPSED_STRING","'eat'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_LNUMBER","1",94],",",["T_WHITESPACE","\n      ",94],["T_CONSTANT_ENCAPSED_STRING","'sleep'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_LNUMBER","2",95],",",["T_WHITESPACE","\n      ",95],["T_CONSTANT_ENCAPSED_STRING","'code'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_LNUMBER","1",96],",",["T_WHITESPACE","\n      ",96],["T_CONSTANT_ENCAPSED_STRING","'found new band'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_LNUMBER","1",97],",",["T_WHITESPACE","\n      ",97],["T_CONSTANT_ENCAPSED_STRING","'perform at superbowl'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_LNUMBER","1",98],",",["T_WHITESPACE","\n    ",98],")",";",["T_WHITESPACE","\n\n    ",99],["T_FOREACH","foreach",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$correct_results",101],["T_WHITESPACE"," ",101],["T_AS","as",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$task",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$count",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n      ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","assertEqual",102],"(",["T_VARIABLE","$records",102],"[",["T_VARIABLE","$task",102],"]",",",["T_WHITESPACE"," ",102],["T_VARIABLE","$count",102],",",["T_WHITESPACE"," ",102],["T_STRING","format_string",102],"(",["T_CONSTANT_ENCAPSED_STRING","\"Correct number of '@task' records found.\"",102],",",["T_WHITESPACE"," ",102],["T_ARRAY","array",102],"(",["T_CONSTANT_ENCAPSED_STRING","'@task'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$task",102],")",")",")",";",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertEqual",105],"(",["T_VARIABLE","$num_records",105],",",["T_WHITESPACE"," ",105],["T_LNUMBER","6",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'Returned the correct number of total rows.'",105],")",";",["T_WHITESPACE","\n  ",105],"}",["T_WHITESPACE","\n\n  ",106],["T_DOC_COMMENT","\/**\n   * Tests GROUP BY and HAVING clauses together.\n   *\/",108],["T_WHITESPACE","\n  ",110],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","testGroupByAndHaving",111],"(",")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$query",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","db_select",112],"(",["T_CONSTANT_ENCAPSED_STRING","'test_task'",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'t'",112],")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$count_field",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$query",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","addExpression",113],"(",["T_CONSTANT_ENCAPSED_STRING","'COUNT(task)'",113],",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'num'",113],")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$task_field",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$query",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","addField",114],"(",["T_CONSTANT_ENCAPSED_STRING","'t'",114],",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'task'",114],")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$query",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","orderBy",115],"(",["T_VARIABLE","$count_field",115],")",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$query",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","groupBy",116],"(",["T_VARIABLE","$task_field",116],")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$query",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","having",117],"(",["T_CONSTANT_ENCAPSED_STRING","'COUNT(task) >= 2'",117],")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$result",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$query",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","execute",118],"(",")",";",["T_WHITESPACE","\n\n    ",118],["T_VARIABLE","$num_records",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_LNUMBER","0",120],";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$last_count",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_LNUMBER","0",121],";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$records",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_ARRAY","array",122],"(",")",";",["T_WHITESPACE","\n    ",122],["T_FOREACH","foreach",123],["T_WHITESPACE"," ",123],"(",["T_VARIABLE","$result",123],["T_WHITESPACE"," ",123],["T_AS","as",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$record",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n      ",123],["T_VARIABLE","$num_records",124],["T_INC","++",124],";",["T_WHITESPACE","\n      ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertTrue",125],"(",["T_VARIABLE","$record",125],["T_OBJECT_OPERATOR","->",125],["T_VARIABLE","$count_field",125],["T_WHITESPACE"," ",125],["T_IS_GREATER_OR_EQUAL",">=",125],["T_WHITESPACE"," ",125],["T_LNUMBER","2",125],",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'Record has the minimum count.'",125],")",";",["T_WHITESPACE","\n      ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","assertTrue",126],"(",["T_VARIABLE","$record",126],["T_OBJECT_OPERATOR","->",126],["T_VARIABLE","$count_field",126],["T_WHITESPACE"," ",126],["T_IS_GREATER_OR_EQUAL",">=",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$last_count",126],",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'Results returned in correct order.'",126],")",";",["T_WHITESPACE","\n      ",126],["T_VARIABLE","$last_count",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$record",127],["T_OBJECT_OPERATOR","->",127],["T_VARIABLE","$count_field",127],";",["T_WHITESPACE","\n      ",127],["T_VARIABLE","$records",128],"[",["T_VARIABLE","$record",128],["T_OBJECT_OPERATOR","->",128],["T_VARIABLE","$task_field",128],"]",["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$record",128],["T_OBJECT_OPERATOR","->",128],["T_VARIABLE","$count_field",128],";",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n\n    ",129],["T_VARIABLE","$correct_results",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_ARRAY","array",131],"(",["T_WHITESPACE","\n      ",131],["T_CONSTANT_ENCAPSED_STRING","'sleep'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_LNUMBER","2",132],",",["T_WHITESPACE","\n    ",132],")",";",["T_WHITESPACE","\n\n    ",133],["T_FOREACH","foreach",135],["T_WHITESPACE"," ",135],"(",["T_VARIABLE","$correct_results",135],["T_WHITESPACE"," ",135],["T_AS","as",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$task",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$count",135],")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n      ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","assertEqual",136],"(",["T_VARIABLE","$records",136],"[",["T_VARIABLE","$task",136],"]",",",["T_WHITESPACE"," ",136],["T_VARIABLE","$count",136],",",["T_WHITESPACE"," ",136],["T_STRING","format_string",136],"(",["T_CONSTANT_ENCAPSED_STRING","\"Correct number of '@task' records found.\"",136],",",["T_WHITESPACE"," ",136],["T_ARRAY","array",136],"(",["T_CONSTANT_ENCAPSED_STRING","'@task'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$task",136],")",")",")",";",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n\n    ",137],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","assertEqual",139],"(",["T_VARIABLE","$num_records",139],",",["T_WHITESPACE"," ",139],["T_LNUMBER","1",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'Returned the correct number of total rows.'",139],")",";",["T_WHITESPACE","\n  ",139],"}",["T_WHITESPACE","\n\n  ",140],["T_DOC_COMMENT","\/**\n   * Tests range queries.\n   *\n   * The SQL clause varies with the database.\n   *\/",142],["T_WHITESPACE","\n  ",146],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","testRange",147],"(",")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n    ",147],["T_VARIABLE","$query",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_STRING","db_select",148],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",148],")",";",["T_WHITESPACE","\n    ",148],["T_VARIABLE","$query",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","addField",149],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",149],",",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'name'",149],")",";",["T_WHITESPACE","\n    ",149],["T_VARIABLE","$query",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","addField",150],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",150],",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'age'",150],",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'age'",150],")",";",["T_WHITESPACE","\n    ",150],["T_VARIABLE","$query",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","range",151],"(",["T_LNUMBER","0",151],",",["T_WHITESPACE"," ",151],["T_LNUMBER","2",151],")",";",["T_WHITESPACE","\n    ",151],["T_VARIABLE","$query_result",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$query",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","countQuery",152],"(",")",["T_OBJECT_OPERATOR","->",152],["T_STRING","execute",152],"(",")",["T_OBJECT_OPERATOR","->",152],["T_STRING","fetchField",152],"(",")",";",["T_WHITESPACE","\n\n    ",152],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","assertEqual",154],"(",["T_VARIABLE","$query_result",154],",",["T_WHITESPACE"," ",154],["T_LNUMBER","2",154],",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'Returned the correct number of rows.'",154],")",";",["T_WHITESPACE","\n  ",154],"}",["T_WHITESPACE","\n\n  ",155],["T_DOC_COMMENT","\/**\n   * Test whether the range property of a select clause can be undone.\n   *\/",157],["T_WHITESPACE","\n  ",159],["T_FUNCTION","function",160],["T_WHITESPACE"," ",160],["T_STRING","testRangeUndo",160],"(",")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n    ",160],["T_VARIABLE","$query",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_STRING","db_select",161],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",161],")",";",["T_WHITESPACE","\n    ",161],["T_VARIABLE","$name_field",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$query",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","addField",162],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",162],",",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'name'",162],")",";",["T_WHITESPACE","\n    ",162],["T_VARIABLE","$age_field",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$query",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","addField",163],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'age'",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'age'",163],")",";",["T_WHITESPACE","\n    ",163],["T_VARIABLE","$query",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","range",164],"(",["T_LNUMBER","0",164],",",["T_WHITESPACE"," ",164],["T_LNUMBER","2",164],")",";",["T_WHITESPACE","\n    ",164],["T_VARIABLE","$query",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","range",165],"(",["T_STRING","NULL",165],",",["T_WHITESPACE"," ",165],["T_STRING","NULL",165],")",";",["T_WHITESPACE","\n    ",165],["T_VARIABLE","$query_result",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$query",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","countQuery",166],"(",")",["T_OBJECT_OPERATOR","->",166],["T_STRING","execute",166],"(",")",["T_OBJECT_OPERATOR","->",166],["T_STRING","fetchField",166],"(",")",";",["T_WHITESPACE","\n\n    ",166],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","assertEqual",168],"(",["T_VARIABLE","$query_result",168],",",["T_WHITESPACE"," ",168],["T_LNUMBER","4",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'Returned the correct number of rows.'",168],")",";",["T_WHITESPACE","\n  ",168],"}",["T_WHITESPACE","\n\n  ",169],["T_DOC_COMMENT","\/**\n   * Tests distinct queries.\n   *\/",171],["T_WHITESPACE","\n  ",173],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","testDistinct",174],"(",")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n    ",174],["T_VARIABLE","$query",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_STRING","db_select",175],"(",["T_CONSTANT_ENCAPSED_STRING","'test_task'",175],")",";",["T_WHITESPACE","\n    ",175],["T_VARIABLE","$query",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","addField",176],"(",["T_CONSTANT_ENCAPSED_STRING","'test_task'",176],",",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'task'",176],")",";",["T_WHITESPACE","\n    ",176],["T_VARIABLE","$query",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","distinct",177],"(",")",";",["T_WHITESPACE","\n    ",177],["T_VARIABLE","$query_result",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$query",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","countQuery",178],"(",")",["T_OBJECT_OPERATOR","->",178],["T_STRING","execute",178],"(",")",["T_OBJECT_OPERATOR","->",178],["T_STRING","fetchField",178],"(",")",";",["T_WHITESPACE","\n\n    ",178],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","assertEqual",180],"(",["T_VARIABLE","$query_result",180],",",["T_WHITESPACE"," ",180],["T_LNUMBER","6",180],",",["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'Returned the correct number of rows.'",180],")",";",["T_WHITESPACE","\n  ",180],"}",["T_WHITESPACE","\n\n  ",181],["T_DOC_COMMENT","\/**\n   * Tests that we can generate a count query from a built query.\n   *\/",183],["T_WHITESPACE","\n  ",185],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","testCountQuery",186],"(",")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n    ",186],["T_VARIABLE","$query",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_STRING","db_select",187],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",187],")",";",["T_WHITESPACE","\n    ",187],["T_VARIABLE","$name_field",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$query",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","addField",188],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",188],",",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'name'",188],")",";",["T_WHITESPACE","\n    ",188],["T_VARIABLE","$age_field",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$query",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","addField",189],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",189],",",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'age'",189],",",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'age'",189],")",";",["T_WHITESPACE","\n    ",189],["T_VARIABLE","$query",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","orderBy",190],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",190],")",";",["T_WHITESPACE","\n\n    ",190],["T_VARIABLE","$count",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$query",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","countQuery",192],"(",")",["T_OBJECT_OPERATOR","->",192],["T_STRING","execute",192],"(",")",["T_OBJECT_OPERATOR","->",192],["T_STRING","fetchField",192],"(",")",";",["T_WHITESPACE","\n\n    ",192],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","assertEqual",194],"(",["T_VARIABLE","$count",194],",",["T_WHITESPACE"," ",194],["T_LNUMBER","4",194],",",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'Counted the correct number of records.'",194],")",";",["T_WHITESPACE","\n\n    ",194],["T_COMMENT","\/\/ Now make sure we didn't break the original query!  We should still have\n",196],["T_WHITESPACE","    ",197],["T_COMMENT","\/\/ all of the fields we asked for.\n",197],["T_WHITESPACE","    ",198],["T_VARIABLE","$record",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$query",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","execute",198],"(",")",["T_OBJECT_OPERATOR","->",198],["T_STRING","fetch",198],"(",")",";",["T_WHITESPACE","\n    ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","assertEqual",199],"(",["T_VARIABLE","$record",199],["T_OBJECT_OPERATOR","->",199],["T_VARIABLE","$name_field",199],",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'George'",199],",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'Correct data retrieved.'",199],")",";",["T_WHITESPACE","\n    ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","assertEqual",200],"(",["T_VARIABLE","$record",200],["T_OBJECT_OPERATOR","->",200],["T_VARIABLE","$age_field",200],",",["T_WHITESPACE"," ",200],["T_LNUMBER","27",200],",",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'Correct data retrieved.'",200],")",";",["T_WHITESPACE","\n  ",200],"}",["T_WHITESPACE","\n\n  ",201],["T_DOC_COMMENT","\/**\n   * Tests having queries.\n   *\/",203],["T_WHITESPACE","\n  ",205],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","testHavingCountQuery",206],"(",")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n    ",206],["T_VARIABLE","$query",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_STRING","db_select",207],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",207],")",["T_WHITESPACE","\n      ",207],["T_OBJECT_OPERATOR","->",208],["T_STRING","extend",208],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Database\\Query\\PagerSelectExtender'",208],")",["T_WHITESPACE","\n      ",208],["T_OBJECT_OPERATOR","->",209],["T_STRING","groupBy",209],"(",["T_CONSTANT_ENCAPSED_STRING","'age'",209],")",["T_WHITESPACE","\n      ",209],["T_OBJECT_OPERATOR","->",210],["T_STRING","having",210],"(",["T_CONSTANT_ENCAPSED_STRING","'age + 1 > 0'",210],")",";",["T_WHITESPACE","\n    ",210],["T_VARIABLE","$query",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","addField",211],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",211],",",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'age'",211],")",";",["T_WHITESPACE","\n    ",211],["T_VARIABLE","$query",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","addExpression",212],"(",["T_CONSTANT_ENCAPSED_STRING","'age + 1'",212],")",";",["T_WHITESPACE","\n    ",212],["T_VARIABLE","$count",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_STRING","count",213],"(",["T_VARIABLE","$query",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","execute",213],"(",")",["T_OBJECT_OPERATOR","->",213],["T_STRING","fetchCol",213],"(",")",")",";",["T_WHITESPACE","\n    ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","assertEqual",214],"(",["T_VARIABLE","$count",214],",",["T_WHITESPACE"," ",214],["T_LNUMBER","4",214],",",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'Counted the correct number of records.'",214],")",";",["T_WHITESPACE","\n  ",214],"}",["T_WHITESPACE","\n\n  ",215],["T_DOC_COMMENT","\/**\n   * Tests that countQuery removes 'all_fields' statements and ordering clauses.\n   *\/",217],["T_WHITESPACE","\n  ",219],["T_FUNCTION","function",220],["T_WHITESPACE"," ",220],["T_STRING","testCountQueryRemovals",220],"(",")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n    ",220],["T_VARIABLE","$query",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_STRING","db_select",221],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",221],")",";",["T_WHITESPACE","\n    ",221],["T_VARIABLE","$query",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","fields",222],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",222],")",";",["T_WHITESPACE","\n    ",222],["T_VARIABLE","$query",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","orderBy",223],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",223],")",";",["T_WHITESPACE","\n    ",223],["T_VARIABLE","$count",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$query",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","countQuery",224],"(",")",";",["T_WHITESPACE","\n\n    ",224],["T_COMMENT","\/\/ Check that the 'all_fields' statement is handled properly.\n",226],["T_WHITESPACE","    ",227],["T_VARIABLE","$tables",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$query",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getTables",227],"(",")",";",["T_WHITESPACE","\n    ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","assertEqual",228],"(",["T_VARIABLE","$tables",228],"[",["T_CONSTANT_ENCAPSED_STRING","'test'",228],"]","[",["T_CONSTANT_ENCAPSED_STRING","'all_fields'",228],"]",",",["T_WHITESPACE"," ",228],["T_LNUMBER","1",228],",",["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","'Query correctly sets \\'all_fields\\' statement.'",228],")",";",["T_WHITESPACE","\n    ",228],["T_VARIABLE","$tables",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$count",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getTables",229],"(",")",";",["T_WHITESPACE","\n    ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","assertFalse",230],"(",["T_ISSET","isset",230],"(",["T_VARIABLE","$tables",230],"[",["T_CONSTANT_ENCAPSED_STRING","'test'",230],"]","[",["T_CONSTANT_ENCAPSED_STRING","'all_fields'",230],"]",")",",",["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","'Count query correctly unsets \\'all_fields\\' statement.'",230],")",";",["T_WHITESPACE","\n\n    ",230],["T_COMMENT","\/\/ Check that the ordering clause is handled properly.\n",232],["T_WHITESPACE","    ",233],["T_VARIABLE","$orderby",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_VARIABLE","$query",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getOrderBy",233],"(",")",";",["T_WHITESPACE","\n    ",233],["T_COMMENT","\/\/ The orderby string is different for PostgreSQL.\n",234],["T_WHITESPACE","    ",235],["T_COMMENT","\/\/ @see Drupal\\Core\\Database\\Driver\\pgsql\\Select::orderBy()\n",235],["T_WHITESPACE","    ",236],["T_VARIABLE","$db_type",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_STRING","Database",236],["T_DOUBLE_COLON","::",236],["T_STRING","getConnection",236],"(",")",["T_OBJECT_OPERATOR","->",236],["T_STRING","databaseType",236],"(",")",";",["T_WHITESPACE","\n    ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","assertEqual",237],"(",["T_VARIABLE","$orderby",237],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",237],"]",",",["T_WHITESPACE"," ",237],"(",["T_VARIABLE","$db_type",237],["T_WHITESPACE"," ",237],["T_IS_EQUAL","==",237],["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'pgsql'",237],["T_WHITESPACE"," ",237],"?",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'ASC NULLS FIRST'",237],["T_WHITESPACE"," ",237],":",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'ASC'",237],")",",",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'Query correctly sets ordering clause.'",237],")",";",["T_WHITESPACE","\n    ",237],["T_VARIABLE","$orderby",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$count",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getOrderBy",238],"(",")",";",["T_WHITESPACE","\n    ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","assertFalse",239],"(",["T_ISSET","isset",239],"(",["T_VARIABLE","$orderby",239],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",239],"]",")",",",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'Count query correctly unsets ordering clause.'",239],")",";",["T_WHITESPACE","\n\n    ",239],["T_COMMENT","\/\/ Make sure that the count query works.\n",241],["T_WHITESPACE","    ",242],["T_VARIABLE","$count",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$count",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","execute",242],"(",")",["T_OBJECT_OPERATOR","->",242],["T_STRING","fetchField",242],"(",")",";",["T_WHITESPACE","\n\n    ",242],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","assertEqual",244],"(",["T_VARIABLE","$count",244],",",["T_WHITESPACE"," ",244],["T_LNUMBER","4",244],",",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'Counted the correct number of records.'",244],")",";",["T_WHITESPACE","\n  ",244],"}",["T_WHITESPACE","\n\n\n  ",245],["T_DOC_COMMENT","\/**\n   * Tests that countQuery properly removes fields and expressions.\n   *\/",248],["T_WHITESPACE","\n  ",250],["T_FUNCTION","function",251],["T_WHITESPACE"," ",251],["T_STRING","testCountQueryFieldRemovals",251],"(",")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n    ",251],["T_COMMENT","\/\/ countQuery should remove all fields and expressions, so this can be\n",252],["T_WHITESPACE","    ",253],["T_COMMENT","\/\/ tested by adding a non-existent field and expression: if it ends\n",253],["T_WHITESPACE","    ",254],["T_COMMENT","\/\/ up in the query, an error will be thrown. If not, it will return the\n",254],["T_WHITESPACE","    ",255],["T_COMMENT","\/\/ number of records, which in this case happens to be 4 (there are four\n",255],["T_WHITESPACE","    ",256],["T_COMMENT","\/\/ records in the {test} table).\n",256],["T_WHITESPACE","    ",257],["T_VARIABLE","$query",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_STRING","db_select",257],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",257],")",";",["T_WHITESPACE","\n    ",257],["T_VARIABLE","$query",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","fields",258],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",258],",",["T_WHITESPACE"," ",258],["T_ARRAY","array",258],"(",["T_CONSTANT_ENCAPSED_STRING","'fail'",258],")",")",";",["T_WHITESPACE","\n    ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","assertEqual",259],"(",["T_LNUMBER","4",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$query",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","countQuery",259],"(",")",["T_OBJECT_OPERATOR","->",259],["T_STRING","execute",259],"(",")",["T_OBJECT_OPERATOR","->",259],["T_STRING","fetchField",259],"(",")",",",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'Count Query removed fields'",259],")",";",["T_WHITESPACE","\n\n    ",259],["T_VARIABLE","$query",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_STRING","db_select",261],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",261],")",";",["T_WHITESPACE","\n    ",261],["T_VARIABLE","$query",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","addExpression",262],"(",["T_CONSTANT_ENCAPSED_STRING","'fail'",262],")",";",["T_WHITESPACE","\n    ",262],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","assertEqual",263],"(",["T_LNUMBER","4",263],",",["T_WHITESPACE"," ",263],["T_VARIABLE","$query",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","countQuery",263],"(",")",["T_OBJECT_OPERATOR","->",263],["T_STRING","execute",263],"(",")",["T_OBJECT_OPERATOR","->",263],["T_STRING","fetchField",263],"(",")",",",["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","'Count Query removed expressions'",263],")",";",["T_WHITESPACE","\n  ",263],"}",["T_WHITESPACE","\n\n  ",264],["T_DOC_COMMENT","\/**\n   * Tests that we can generate a count query from a query with distinct.\n   *\/",266],["T_WHITESPACE","\n  ",268],["T_FUNCTION","function",269],["T_WHITESPACE"," ",269],["T_STRING","testCountQueryDistinct",269],"(",")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n    ",269],["T_VARIABLE","$query",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_STRING","db_select",270],"(",["T_CONSTANT_ENCAPSED_STRING","'test_task'",270],")",";",["T_WHITESPACE","\n    ",270],["T_VARIABLE","$query",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","addField",271],"(",["T_CONSTANT_ENCAPSED_STRING","'test_task'",271],",",["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","'task'",271],")",";",["T_WHITESPACE","\n    ",271],["T_VARIABLE","$query",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","distinct",272],"(",")",";",["T_WHITESPACE","\n\n    ",272],["T_VARIABLE","$count",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_VARIABLE","$query",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","countQuery",274],"(",")",["T_OBJECT_OPERATOR","->",274],["T_STRING","execute",274],"(",")",["T_OBJECT_OPERATOR","->",274],["T_STRING","fetchField",274],"(",")",";",["T_WHITESPACE","\n\n    ",274],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","assertEqual",276],"(",["T_VARIABLE","$count",276],",",["T_WHITESPACE"," ",276],["T_LNUMBER","6",276],",",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'Counted the correct number of records.'",276],")",";",["T_WHITESPACE","\n  ",276],"}",["T_WHITESPACE","\n\n  ",277],["T_DOC_COMMENT","\/**\n   * Tests that we can generate a count query from a query with GROUP BY.\n   *\/",279],["T_WHITESPACE","\n  ",281],["T_FUNCTION","function",282],["T_WHITESPACE"," ",282],["T_STRING","testCountQueryGroupBy",282],"(",")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n    ",282],["T_VARIABLE","$query",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_STRING","db_select",283],"(",["T_CONSTANT_ENCAPSED_STRING","'test_task'",283],")",";",["T_WHITESPACE","\n    ",283],["T_VARIABLE","$query",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","addField",284],"(",["T_CONSTANT_ENCAPSED_STRING","'test_task'",284],",",["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'pid'",284],")",";",["T_WHITESPACE","\n    ",284],["T_VARIABLE","$query",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","groupBy",285],"(",["T_CONSTANT_ENCAPSED_STRING","'pid'",285],")",";",["T_WHITESPACE","\n\n    ",285],["T_VARIABLE","$count",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_VARIABLE","$query",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","countQuery",287],"(",")",["T_OBJECT_OPERATOR","->",287],["T_STRING","execute",287],"(",")",["T_OBJECT_OPERATOR","->",287],["T_STRING","fetchField",287],"(",")",";",["T_WHITESPACE","\n\n    ",287],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","assertEqual",289],"(",["T_VARIABLE","$count",289],",",["T_WHITESPACE"," ",289],["T_LNUMBER","3",289],",",["T_WHITESPACE"," ",289],["T_CONSTANT_ENCAPSED_STRING","'Counted the correct number of records.'",289],")",";",["T_WHITESPACE","\n\n    ",289],["T_COMMENT","\/\/ Use a column alias as, without one, the query can succeed for the wrong\n",291],["T_WHITESPACE","    ",292],["T_COMMENT","\/\/ reason.\n",292],["T_WHITESPACE","    ",293],["T_VARIABLE","$query",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_STRING","db_select",293],"(",["T_CONSTANT_ENCAPSED_STRING","'test_task'",293],")",";",["T_WHITESPACE","\n    ",293],["T_VARIABLE","$query",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","addField",294],"(",["T_CONSTANT_ENCAPSED_STRING","'test_task'",294],",",["T_WHITESPACE"," ",294],["T_CONSTANT_ENCAPSED_STRING","'pid'",294],",",["T_WHITESPACE"," ",294],["T_CONSTANT_ENCAPSED_STRING","'pid_alias'",294],")",";",["T_WHITESPACE","\n    ",294],["T_VARIABLE","$query",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","addExpression",295],"(",["T_CONSTANT_ENCAPSED_STRING","'COUNT(test_task.task)'",295],",",["T_WHITESPACE"," ",295],["T_CONSTANT_ENCAPSED_STRING","'count'",295],")",";",["T_WHITESPACE","\n    ",295],["T_VARIABLE","$query",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","groupBy",296],"(",["T_CONSTANT_ENCAPSED_STRING","'pid_alias'",296],")",";",["T_WHITESPACE","\n    ",296],["T_VARIABLE","$query",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","orderBy",297],"(",["T_CONSTANT_ENCAPSED_STRING","'pid_alias'",297],",",["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","'asc'",297],")",";",["T_WHITESPACE","\n\n    ",297],["T_VARIABLE","$count",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$query",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","countQuery",299],"(",")",["T_OBJECT_OPERATOR","->",299],["T_STRING","execute",299],"(",")",["T_OBJECT_OPERATOR","->",299],["T_STRING","fetchField",299],"(",")",";",["T_WHITESPACE","\n\n    ",299],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","assertEqual",301],"(",["T_VARIABLE","$count",301],",",["T_WHITESPACE"," ",301],["T_LNUMBER","3",301],",",["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'Counted the correct number of records.'",301],")",";",["T_WHITESPACE","\n  ",301],"}",["T_WHITESPACE","\n\n  ",302],["T_DOC_COMMENT","\/**\n   * Confirms that we can properly nest conditional clauses.\n   *\/",304],["T_WHITESPACE","\n  ",306],["T_FUNCTION","function",307],["T_WHITESPACE"," ",307],["T_STRING","testNestedConditions",307],"(",")",["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n    ",307],["T_COMMENT","\/\/ This query should translate to:\n",308],["T_WHITESPACE","    ",309],["T_COMMENT","\/\/ \"SELECT job FROM {test} WHERE name = 'Paul' AND (age = 26 OR age = 27)\"\n",309],["T_WHITESPACE","    ",310],["T_COMMENT","\/\/ That should find only one record. Yes it's a non-optimal way of writing\n",310],["T_WHITESPACE","    ",311],["T_COMMENT","\/\/ that query but that's not the point!\n",311],["T_WHITESPACE","    ",312],["T_VARIABLE","$query",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_STRING","db_select",312],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",312],")",";",["T_WHITESPACE","\n    ",312],["T_VARIABLE","$query",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","addField",313],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",313],",",["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","'job'",313],")",";",["T_WHITESPACE","\n    ",313],["T_VARIABLE","$query",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","condition",314],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",314],",",["T_WHITESPACE"," ",314],["T_CONSTANT_ENCAPSED_STRING","'Paul'",314],")",";",["T_WHITESPACE","\n    ",314],["T_VARIABLE","$query",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","condition",315],"(",["T_STRING","db_or",315],"(",")",["T_OBJECT_OPERATOR","->",315],["T_STRING","condition",315],"(",["T_CONSTANT_ENCAPSED_STRING","'age'",315],",",["T_WHITESPACE"," ",315],["T_LNUMBER","26",315],")",["T_OBJECT_OPERATOR","->",315],["T_STRING","condition",315],"(",["T_CONSTANT_ENCAPSED_STRING","'age'",315],",",["T_WHITESPACE"," ",315],["T_LNUMBER","27",315],")",")",";",["T_WHITESPACE","\n\n    ",315],["T_VARIABLE","$job",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_VARIABLE","$query",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","execute",317],"(",")",["T_OBJECT_OPERATOR","->",317],["T_STRING","fetchField",317],"(",")",";",["T_WHITESPACE","\n    ",317],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","assertEqual",318],"(",["T_VARIABLE","$job",318],",",["T_WHITESPACE"," ",318],["T_CONSTANT_ENCAPSED_STRING","'Songwriter'",318],",",["T_WHITESPACE"," ",318],["T_CONSTANT_ENCAPSED_STRING","'Correct data retrieved.'",318],")",";",["T_WHITESPACE","\n  ",318],"}",["T_WHITESPACE","\n\n  ",319],["T_DOC_COMMENT","\/**\n   * Confirms we can join on a single table twice with a dynamic alias.\n   *\/",321],["T_WHITESPACE","\n  ",323],["T_FUNCTION","function",324],["T_WHITESPACE"," ",324],["T_STRING","testJoinTwice",324],"(",")",["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n    ",324],["T_VARIABLE","$query",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_STRING","db_select",325],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",325],")",["T_OBJECT_OPERATOR","->",325],["T_STRING","fields",325],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",325],")",";",["T_WHITESPACE","\n    ",325],["T_VARIABLE","$alias",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_VARIABLE","$query",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","join",326],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",326],",",["T_WHITESPACE"," ",326],["T_CONSTANT_ENCAPSED_STRING","'test'",326],",",["T_WHITESPACE"," ",326],["T_CONSTANT_ENCAPSED_STRING","'test.job = %alias.job'",326],")",";",["T_WHITESPACE","\n    ",326],["T_VARIABLE","$query",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","addField",327],"(",["T_VARIABLE","$alias",327],",",["T_WHITESPACE"," ",327],["T_CONSTANT_ENCAPSED_STRING","'name'",327],",",["T_WHITESPACE"," ",327],["T_CONSTANT_ENCAPSED_STRING","'othername'",327],")",";",["T_WHITESPACE","\n    ",327],["T_VARIABLE","$query",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","addField",328],"(",["T_VARIABLE","$alias",328],",",["T_WHITESPACE"," ",328],["T_CONSTANT_ENCAPSED_STRING","'job'",328],",",["T_WHITESPACE"," ",328],["T_CONSTANT_ENCAPSED_STRING","'otherjob'",328],")",";",["T_WHITESPACE","\n    ",328],["T_VARIABLE","$query",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","where",329],"(","\"",["T_VARIABLE","$alias",329],["T_ENCAPSED_AND_WHITESPACE",".name <> test.name",329],"\"",")",";",["T_WHITESPACE","\n    ",329],["T_VARIABLE","$crowded_job",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_VARIABLE","$query",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","execute",330],"(",")",["T_OBJECT_OPERATOR","->",330],["T_STRING","fetch",330],"(",")",";",["T_WHITESPACE","\n    ",330],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","assertEqual",331],"(",["T_VARIABLE","$crowded_job",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","job",331],",",["T_WHITESPACE"," ",331],["T_VARIABLE","$crowded_job",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","otherjob",331],",",["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","'Correctly joined same table twice.'",331],")",";",["T_WHITESPACE","\n    ",331],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","assertNotEqual",332],"(",["T_VARIABLE","$crowded_job",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","name",332],",",["T_WHITESPACE"," ",332],["T_VARIABLE","$crowded_job",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","othername",332],",",["T_WHITESPACE"," ",332],["T_CONSTANT_ENCAPSED_STRING","'Correctly joined same table twice.'",332],")",";",["T_WHITESPACE","\n  ",332],"}",["T_WHITESPACE","\n\n  ",333],["T_DOC_COMMENT","\/**\n   * Tests that we can join on a query.\n   *\/",335],["T_WHITESPACE","\n  ",337],["T_FUNCTION","function",338],["T_WHITESPACE"," ",338],["T_STRING","testJoinSubquery",338],"(",")",["T_WHITESPACE"," ",338],"{",["T_WHITESPACE","\n    ",338],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","installSchema",339],"(",["T_CONSTANT_ENCAPSED_STRING","'system'",339],",",["T_WHITESPACE"," ",339],["T_CONSTANT_ENCAPSED_STRING","'sequences'",339],")",";",["T_WHITESPACE","\n\n    ",339],["T_VARIABLE","$account",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_STRING","User",341],["T_DOUBLE_COLON","::",341],["T_STRING","create",341],"(","[",["T_WHITESPACE","\n      ",341],["T_CONSTANT_ENCAPSED_STRING","'name'",342],["T_WHITESPACE"," ",342],["T_DOUBLE_ARROW","=>",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","randomMachineName",342],"(",")",",",["T_WHITESPACE","\n      ",342],["T_CONSTANT_ENCAPSED_STRING","'mail'",343],["T_WHITESPACE"," ",343],["T_DOUBLE_ARROW","=>",343],["T_WHITESPACE"," ",343],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","randomMachineName",343],"(",")",["T_WHITESPACE"," ",343],".",["T_WHITESPACE"," ",343],["T_CONSTANT_ENCAPSED_STRING","'@example.com'",343],",",["T_WHITESPACE","\n    ",343],"]",")",";",["T_WHITESPACE","\n\n    ",344],["T_VARIABLE","$query",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_STRING","db_select",346],"(",["T_CONSTANT_ENCAPSED_STRING","'test_task'",346],",",["T_WHITESPACE"," ",346],["T_CONSTANT_ENCAPSED_STRING","'tt'",346],",",["T_WHITESPACE"," ",346],["T_ARRAY","array",346],"(",["T_CONSTANT_ENCAPSED_STRING","'target'",346],["T_WHITESPACE"," ",346],["T_DOUBLE_ARROW","=>",346],["T_WHITESPACE"," ",346],["T_CONSTANT_ENCAPSED_STRING","'replica'",346],")",")",";",["T_WHITESPACE","\n    ",346],["T_VARIABLE","$query",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","addExpression",347],"(",["T_CONSTANT_ENCAPSED_STRING","'tt.pid + 1'",347],",",["T_WHITESPACE"," ",347],["T_CONSTANT_ENCAPSED_STRING","'abc'",347],")",";",["T_WHITESPACE","\n    ",347],["T_VARIABLE","$query",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","condition",348],"(",["T_CONSTANT_ENCAPSED_STRING","'priority'",348],",",["T_WHITESPACE"," ",348],["T_LNUMBER","1",348],",",["T_WHITESPACE"," ",348],["T_CONSTANT_ENCAPSED_STRING","'>'",348],")",";",["T_WHITESPACE","\n    ",348],["T_VARIABLE","$query",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","condition",349],"(",["T_CONSTANT_ENCAPSED_STRING","'priority'",349],",",["T_WHITESPACE"," ",349],["T_LNUMBER","100",349],",",["T_WHITESPACE"," ",349],["T_CONSTANT_ENCAPSED_STRING","'<'",349],")",";",["T_WHITESPACE","\n\n    ",349],["T_VARIABLE","$subquery",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_STRING","db_select",351],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",351],",",["T_WHITESPACE"," ",351],["T_CONSTANT_ENCAPSED_STRING","'tp'",351],")",";",["T_WHITESPACE","\n    ",351],["T_VARIABLE","$subquery",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","join",352],"(",["T_CONSTANT_ENCAPSED_STRING","'test_one_blob'",352],",",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","'tpb'",352],",",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","'tp.id = tpb.id'",352],")",";",["T_WHITESPACE","\n    ",352],["T_VARIABLE","$subquery",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","join",353],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",353],",",["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","'n'",353],",",["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","'tp.id = n.nid'",353],")",";",["T_WHITESPACE","\n    ",353],["T_VARIABLE","$subquery",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","addTag",354],"(",["T_CONSTANT_ENCAPSED_STRING","'node_access'",354],")",";",["T_WHITESPACE","\n    ",354],["T_VARIABLE","$subquery",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","addMetaData",355],"(",["T_CONSTANT_ENCAPSED_STRING","'account'",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$account",355],")",";",["T_WHITESPACE","\n    ",355],["T_VARIABLE","$subquery",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","addField",356],"(",["T_CONSTANT_ENCAPSED_STRING","'tp'",356],",",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'id'",356],")",";",["T_WHITESPACE","\n    ",356],["T_VARIABLE","$subquery",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","condition",357],"(",["T_CONSTANT_ENCAPSED_STRING","'age'",357],",",["T_WHITESPACE"," ",357],["T_LNUMBER","5",357],",",["T_WHITESPACE"," ",357],["T_CONSTANT_ENCAPSED_STRING","'>'",357],")",";",["T_WHITESPACE","\n    ",357],["T_VARIABLE","$subquery",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","condition",358],"(",["T_CONSTANT_ENCAPSED_STRING","'age'",358],",",["T_WHITESPACE"," ",358],["T_LNUMBER","500",358],",",["T_WHITESPACE"," ",358],["T_CONSTANT_ENCAPSED_STRING","'<'",358],")",";",["T_WHITESPACE","\n\n    ",358],["T_VARIABLE","$query",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","leftJoin",360],"(",["T_VARIABLE","$subquery",360],",",["T_WHITESPACE"," ",360],["T_CONSTANT_ENCAPSED_STRING","'sq'",360],",",["T_WHITESPACE"," ",360],["T_CONSTANT_ENCAPSED_STRING","'tt.pid = sq.id'",360],")",";",["T_WHITESPACE","\n    ",360],["T_VARIABLE","$query",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","join",361],"(",["T_CONSTANT_ENCAPSED_STRING","'test_one_blob'",361],",",["T_WHITESPACE"," ",361],["T_CONSTANT_ENCAPSED_STRING","'tb3'",361],",",["T_WHITESPACE"," ",361],["T_CONSTANT_ENCAPSED_STRING","'tt.pid = tb3.id'",361],")",";",["T_WHITESPACE","\n\n    ",361],["T_COMMENT","\/\/ Construct the query string.\n",363],["T_WHITESPACE","    ",364],["T_COMMENT","\/\/ This is the same sequence that SelectQuery::execute() goes through.\n",364],["T_WHITESPACE","    ",365],["T_VARIABLE","$query",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","preExecute",365],"(",")",";",["T_WHITESPACE","\n    ",365],["T_VARIABLE","$query",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","getArguments",366],"(",")",";",["T_WHITESPACE","\n    ",366],["T_VARIABLE","$str",367],["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_STRING_CAST","(string)",367],["T_WHITESPACE"," ",367],["T_VARIABLE","$query",367],";",["T_WHITESPACE","\n\n    ",367],["T_COMMENT","\/\/ Verify that the string only has one copy of condition placeholder 0.\n",369],["T_WHITESPACE","    ",370],["T_VARIABLE","$pos",370],["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],["T_STRING","strpos",370],"(",["T_VARIABLE","$str",370],",",["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'db_condition_placeholder_0'",370],",",["T_WHITESPACE"," ",370],["T_LNUMBER","0",370],")",";",["T_WHITESPACE","\n    ",370],["T_VARIABLE","$pos2",371],["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_STRING","strpos",371],"(",["T_VARIABLE","$str",371],",",["T_WHITESPACE"," ",371],["T_CONSTANT_ENCAPSED_STRING","'db_condition_placeholder_0'",371],",",["T_WHITESPACE"," ",371],["T_VARIABLE","$pos",371],["T_WHITESPACE"," ",371],"+",["T_WHITESPACE"," ",371],["T_LNUMBER","1",371],")",";",["T_WHITESPACE","\n    ",371],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","assertFalse",372],"(",["T_VARIABLE","$pos2",372],",",["T_WHITESPACE"," ",372],["T_CONSTANT_ENCAPSED_STRING","'Condition placeholder is not repeated.'",372],")",";",["T_WHITESPACE","\n  ",372],"}",["T_WHITESPACE","\n\n  ",373],["T_DOC_COMMENT","\/**\n   * Tests that rowCount() throws exception on SELECT query.\n   *\/",375],["T_WHITESPACE","\n  ",377],["T_FUNCTION","function",378],["T_WHITESPACE"," ",378],["T_STRING","testSelectWithRowCount",378],"(",")",["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n    ",378],["T_VARIABLE","$query",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_STRING","db_select",379],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",379],")",";",["T_WHITESPACE","\n    ",379],["T_VARIABLE","$query",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","addField",380],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",380],",",["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","'name'",380],")",";",["T_WHITESPACE","\n    ",380],["T_VARIABLE","$result",381],["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],["T_VARIABLE","$query",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","execute",381],"(",")",";",["T_WHITESPACE","\n    ",381],["T_TRY","try",382],["T_WHITESPACE"," ",382],"{",["T_WHITESPACE","\n      ",382],["T_VARIABLE","$result",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","rowCount",383],"(",")",";",["T_WHITESPACE","\n      ",383],["T_VARIABLE","$exception",384],["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],["T_STRING","FALSE",384],";",["T_WHITESPACE","\n    ",384],"}",["T_WHITESPACE","\n    ",385],["T_CATCH","catch",386],["T_WHITESPACE"," ",386],"(",["T_STRING","RowCountException",386],["T_WHITESPACE"," ",386],["T_VARIABLE","$e",386],")",["T_WHITESPACE"," ",386],"{",["T_WHITESPACE","\n      ",386],["T_VARIABLE","$exception",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_STRING","TRUE",387],";",["T_WHITESPACE","\n    ",387],"}",["T_WHITESPACE","\n    ",388],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","assertTrue",389],"(",["T_VARIABLE","$exception",389],",",["T_WHITESPACE"," ",389],["T_CONSTANT_ENCAPSED_STRING","'Exception was thrown'",389],")",";",["T_WHITESPACE","\n  ",389],"}",["T_WHITESPACE","\n\n  ",390],["T_DOC_COMMENT","\/**\n   * Test that join conditions can use Condition objects.\n   *\/",392],["T_WHITESPACE","\n  ",394],["T_PUBLIC","public",395],["T_WHITESPACE"," ",395],["T_FUNCTION","function",395],["T_WHITESPACE"," ",395],["T_STRING","testJoinConditionObject",395],"(",")",["T_WHITESPACE"," ",395],"{",["T_WHITESPACE","\n    ",395],["T_COMMENT","\/\/ Same test as testDefaultJoin, but with a Condition object.\n",396],["T_WHITESPACE","    ",397],["T_VARIABLE","$query",397],["T_WHITESPACE"," ",397],"=",["T_WHITESPACE"," ",397],["T_STRING","db_select",397],"(",["T_CONSTANT_ENCAPSED_STRING","'test_task'",397],",",["T_WHITESPACE"," ",397],["T_CONSTANT_ENCAPSED_STRING","'t'",397],")",";",["T_WHITESPACE","\n    ",397],["T_VARIABLE","$join_cond",398],["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],["T_STRING","db_and",398],"(",")",["T_OBJECT_OPERATOR","->",398],["T_STRING","where",398],"(",["T_CONSTANT_ENCAPSED_STRING","'t.pid = p.id'",398],")",";",["T_WHITESPACE","\n    ",398],["T_VARIABLE","$people_alias",399],["T_WHITESPACE"," ",399],"=",["T_WHITESPACE"," ",399],["T_VARIABLE","$query",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","join",399],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",399],",",["T_WHITESPACE"," ",399],["T_CONSTANT_ENCAPSED_STRING","'p'",399],",",["T_WHITESPACE"," ",399],["T_VARIABLE","$join_cond",399],")",";",["T_WHITESPACE","\n    ",399],["T_VARIABLE","$name_field",400],["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],["T_VARIABLE","$query",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","addField",400],"(",["T_VARIABLE","$people_alias",400],",",["T_WHITESPACE"," ",400],["T_CONSTANT_ENCAPSED_STRING","'name'",400],",",["T_WHITESPACE"," ",400],["T_CONSTANT_ENCAPSED_STRING","'name'",400],")",";",["T_WHITESPACE","\n    ",400],["T_VARIABLE","$query",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","addField",401],"(",["T_CONSTANT_ENCAPSED_STRING","'t'",401],",",["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","'task'",401],",",["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","'task'",401],")",";",["T_WHITESPACE","\n    ",401],["T_VARIABLE","$priority_field",402],["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],["T_VARIABLE","$query",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","addField",402],"(",["T_CONSTANT_ENCAPSED_STRING","'t'",402],",",["T_WHITESPACE"," ",402],["T_CONSTANT_ENCAPSED_STRING","'priority'",402],",",["T_WHITESPACE"," ",402],["T_CONSTANT_ENCAPSED_STRING","'priority'",402],")",";",["T_WHITESPACE","\n\n    ",402],["T_VARIABLE","$query",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","orderBy",404],"(",["T_VARIABLE","$priority_field",404],")",";",["T_WHITESPACE","\n    ",404],["T_VARIABLE","$result",405],["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_VARIABLE","$query",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","execute",405],"(",")",";",["T_WHITESPACE","\n\n    ",405],["T_VARIABLE","$num_records",407],["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],["T_LNUMBER","0",407],";",["T_WHITESPACE","\n    ",407],["T_VARIABLE","$last_priority",408],["T_WHITESPACE"," ",408],"=",["T_WHITESPACE"," ",408],["T_LNUMBER","0",408],";",["T_WHITESPACE","\n    ",408],["T_FOREACH","foreach",409],["T_WHITESPACE"," ",409],"(",["T_VARIABLE","$result",409],["T_WHITESPACE"," ",409],["T_AS","as",409],["T_WHITESPACE"," ",409],["T_VARIABLE","$record",409],")",["T_WHITESPACE"," ",409],"{",["T_WHITESPACE","\n      ",409],["T_VARIABLE","$num_records",410],["T_INC","++",410],";",["T_WHITESPACE","\n      ",410],["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","assertTrue",411],"(",["T_VARIABLE","$record",411],["T_OBJECT_OPERATOR","->",411],["T_VARIABLE","$priority_field",411],["T_WHITESPACE"," ",411],["T_IS_GREATER_OR_EQUAL",">=",411],["T_WHITESPACE"," ",411],["T_VARIABLE","$last_priority",411],",",["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","'Results returned in correct order.'",411],")",";",["T_WHITESPACE","\n      ",411],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","assertNotEqual",412],"(",["T_VARIABLE","$record",412],["T_OBJECT_OPERATOR","->",412],["T_VARIABLE","$name_field",412],",",["T_WHITESPACE"," ",412],["T_CONSTANT_ENCAPSED_STRING","'Ringo'",412],",",["T_WHITESPACE"," ",412],["T_CONSTANT_ENCAPSED_STRING","'Taskless person not selected.'",412],")",";",["T_WHITESPACE","\n      ",412],["T_VARIABLE","$last_priority",413],["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_VARIABLE","$record",413],["T_OBJECT_OPERATOR","->",413],["T_VARIABLE","$priority_field",413],";",["T_WHITESPACE","\n    ",413],"}",["T_WHITESPACE","\n\n    ",414],["T_VARIABLE","$this",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","assertEqual",416],"(",["T_VARIABLE","$num_records",416],",",["T_WHITESPACE"," ",416],["T_LNUMBER","7",416],",",["T_WHITESPACE"," ",416],["T_CONSTANT_ENCAPSED_STRING","'Returned the correct number of rows.'",416],")",";",["T_WHITESPACE","\n\n    ",416],["T_COMMENT","\/\/ Test a condition object that creates placeholders.\n",418],["T_WHITESPACE","    ",419],["T_VARIABLE","$t1_name",419],["T_WHITESPACE"," ",419],"=",["T_WHITESPACE"," ",419],["T_CONSTANT_ENCAPSED_STRING","'John'",419],";",["T_WHITESPACE","\n    ",419],["T_VARIABLE","$t2_name",420],["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_CONSTANT_ENCAPSED_STRING","'George'",420],";",["T_WHITESPACE","\n    ",420],["T_VARIABLE","$join_cond",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_STRING","db_and",421],"(",")",["T_WHITESPACE","\n      ",421],["T_OBJECT_OPERATOR","->",422],["T_STRING","condition",422],"(",["T_CONSTANT_ENCAPSED_STRING","'t1.name'",422],",",["T_WHITESPACE"," ",422],["T_VARIABLE","$t1_name",422],")",["T_WHITESPACE","\n      ",422],["T_OBJECT_OPERATOR","->",423],["T_STRING","condition",423],"(",["T_CONSTANT_ENCAPSED_STRING","'t2.name'",423],",",["T_WHITESPACE"," ",423],["T_VARIABLE","$t2_name",423],")",";",["T_WHITESPACE","\n    ",423],["T_VARIABLE","$query",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_STRING","db_select",424],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",424],",",["T_WHITESPACE"," ",424],["T_CONSTANT_ENCAPSED_STRING","'t1'",424],")",";",["T_WHITESPACE","\n    ",424],["T_VARIABLE","$query",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","innerJoin",425],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",425],",",["T_WHITESPACE"," ",425],["T_CONSTANT_ENCAPSED_STRING","'t2'",425],",",["T_WHITESPACE"," ",425],["T_VARIABLE","$join_cond",425],")",";",["T_WHITESPACE","\n    ",425],["T_VARIABLE","$query",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","addField",426],"(",["T_CONSTANT_ENCAPSED_STRING","'t1'",426],",",["T_WHITESPACE"," ",426],["T_CONSTANT_ENCAPSED_STRING","'name'",426],",",["T_WHITESPACE"," ",426],["T_CONSTANT_ENCAPSED_STRING","'t1_name'",426],")",";",["T_WHITESPACE","\n    ",426],["T_VARIABLE","$query",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","addField",427],"(",["T_CONSTANT_ENCAPSED_STRING","'t2'",427],",",["T_WHITESPACE"," ",427],["T_CONSTANT_ENCAPSED_STRING","'name'",427],",",["T_WHITESPACE"," ",427],["T_CONSTANT_ENCAPSED_STRING","'t2_name'",427],")",";",["T_WHITESPACE","\n\n    ",427],["T_VARIABLE","$num_records",429],["T_WHITESPACE"," ",429],"=",["T_WHITESPACE"," ",429],["T_VARIABLE","$query",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","countQuery",429],"(",")",["T_OBJECT_OPERATOR","->",429],["T_STRING","execute",429],"(",")",["T_OBJECT_OPERATOR","->",429],["T_STRING","fetchField",429],"(",")",";",["T_WHITESPACE","\n    ",429],["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","assertEqual",430],"(",["T_VARIABLE","$num_records",430],",",["T_WHITESPACE"," ",430],["T_LNUMBER","1",430],",",["T_WHITESPACE"," ",430],["T_CONSTANT_ENCAPSED_STRING","'Query expected to return 1 row. Actual: '",430],["T_WHITESPACE"," ",430],".",["T_WHITESPACE"," ",430],["T_VARIABLE","$num_records",430],")",";",["T_WHITESPACE","\n    ",430],["T_IF","if",431],["T_WHITESPACE"," ",431],"(",["T_VARIABLE","$num_records",431],["T_WHITESPACE"," ",431],["T_IS_EQUAL","==",431],["T_WHITESPACE"," ",431],["T_LNUMBER","1",431],")",["T_WHITESPACE"," ",431],"{",["T_WHITESPACE","\n      ",431],["T_VARIABLE","$record",432],["T_WHITESPACE"," ",432],"=",["T_WHITESPACE"," ",432],["T_VARIABLE","$query",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","execute",432],"(",")",["T_OBJECT_OPERATOR","->",432],["T_STRING","fetchObject",432],"(",")",";",["T_WHITESPACE","\n      ",432],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","assertEqual",433],"(",["T_VARIABLE","$record",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","t1_name",433],",",["T_WHITESPACE"," ",433],["T_VARIABLE","$t1_name",433],",",["T_WHITESPACE"," ",433],["T_CONSTANT_ENCAPSED_STRING","'Query expected to retrieve name '",433],["T_WHITESPACE"," ",433],".",["T_WHITESPACE"," ",433],["T_VARIABLE","$t1_name",433],["T_WHITESPACE"," ",433],".",["T_WHITESPACE"," ",433],["T_CONSTANT_ENCAPSED_STRING","' from table t1. Actual: '",433],["T_WHITESPACE"," ",433],".",["T_WHITESPACE"," ",433],["T_VARIABLE","$record",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","t1_name",433],")",";",["T_WHITESPACE","\n      ",433],["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","assertEqual",434],"(",["T_VARIABLE","$record",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","t2_name",434],",",["T_WHITESPACE"," ",434],["T_VARIABLE","$t2_name",434],",",["T_WHITESPACE"," ",434],["T_CONSTANT_ENCAPSED_STRING","'Query expected to retrieve name '",434],["T_WHITESPACE"," ",434],".",["T_WHITESPACE"," ",434],["T_VARIABLE","$t2_name",434],["T_WHITESPACE"," ",434],".",["T_WHITESPACE"," ",434],["T_CONSTANT_ENCAPSED_STRING","' from table t2. Actual: '",434],["T_WHITESPACE"," ",434],".",["T_WHITESPACE"," ",434],["T_VARIABLE","$record",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","t2_name",434],")",";",["T_WHITESPACE","\n    ",434],"}",["T_WHITESPACE","\n  ",435],"}",["T_WHITESPACE","\n\n",436],"}",["T_WHITESPACE","\n",438]]