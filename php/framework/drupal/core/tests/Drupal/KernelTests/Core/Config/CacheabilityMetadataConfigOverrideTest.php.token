[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Config",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","config_override_test",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Cache",5],["T_NS_SEPARATOR","\\",5],["T_STRING","PirateDayCacheContext",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","KernelTests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","KernelTestBase",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests if configuration overrides correctly affect cacheability metadata.\n *\n * @group config\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","CacheabilityMetadataConfigOverrideTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","KernelTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",15],["T_WHITESPACE","\n  ",17],["T_PUBLIC","public",18],["T_WHITESPACE"," ",18],["T_STATIC","static",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$modules",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],"[",["T_WHITESPACE","\n    ",18],["T_CONSTANT_ENCAPSED_STRING","'block'",19],",",["T_WHITESPACE","\n    ",19],["T_CONSTANT_ENCAPSED_STRING","'block_content'",20],",",["T_WHITESPACE","\n    ",20],["T_CONSTANT_ENCAPSED_STRING","'config'",21],",",["T_WHITESPACE","\n    ",21],["T_CONSTANT_ENCAPSED_STRING","'config_override_test'",22],",",["T_WHITESPACE","\n    ",22],["T_CONSTANT_ENCAPSED_STRING","'system'",23],",",["T_WHITESPACE","\n    ",23],["T_CONSTANT_ENCAPSED_STRING","'user'",24],["T_WHITESPACE","\n  ",24],"]",";",["T_WHITESPACE","\n\n  ",25],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",27],["T_WHITESPACE","\n  ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","setUp",30],"(",")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n    ",30],["T_STRING","parent",31],["T_DOUBLE_COLON","::",31],["T_STRING","setUp",31],"(",")",";",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","installEntitySchema",32],"(",["T_CONSTANT_ENCAPSED_STRING","'block_content'",32],")",";",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","installConfig",33],"(","[",["T_CONSTANT_ENCAPSED_STRING","'config_override_test'",33],"]",")",";",["T_WHITESPACE","\n  ",33],"}",["T_WHITESPACE","\n\n  ",34],["T_DOC_COMMENT","\/**\n   * Tests if config overrides correctly set cacheability metadata.\n   *\/",36],["T_WHITESPACE","\n  ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","testConfigOverride",39],"(",")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n    ",39],["T_COMMENT","\/\/ It's pirate day today!\n",40],["T_WHITESPACE","    ",41],["T_VARIABLE","$GLOBALS",41],"[",["T_CONSTANT_ENCAPSED_STRING","'it_is_pirate_day'",41],"]",["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_STRING","TRUE",41],";",["T_WHITESPACE","\n\n    ",41],["T_VARIABLE","$config_factory",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","container",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","get",43],"(",["T_CONSTANT_ENCAPSED_STRING","'config.factory'",43],")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$config",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$config_factory",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","get",44],"(",["T_CONSTANT_ENCAPSED_STRING","'system.theme'",44],")",";",["T_WHITESPACE","\n\n    ",44],["T_COMMENT","\/\/ Check that we are using the Pirate theme.\n",46],["T_WHITESPACE","    ",47],["T_VARIABLE","$theme",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$config",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","get",47],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",47],")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","assertEqual",48],"(",["T_CONSTANT_ENCAPSED_STRING","'pirate'",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$theme",48],")",";",["T_WHITESPACE","\n\n    ",48],["T_COMMENT","\/\/ Check that the cacheability metadata is correct.\n",50],["T_WHITESPACE","    ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertEqual",51],"(","[",["T_CONSTANT_ENCAPSED_STRING","'pirate_day'",51],"]",",",["T_WHITESPACE"," ",51],["T_VARIABLE","$config",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getCacheContexts",51],"(",")",")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","assertEqual",52],"(","[",["T_CONSTANT_ENCAPSED_STRING","'config:system.theme'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'pirate-day-tag'",52],"]",",",["T_WHITESPACE"," ",52],["T_VARIABLE","$config",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getCacheTags",52],"(",")",")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","assertEqual",53],"(",["T_STRING","PirateDayCacheContext",53],["T_DOUBLE_COLON","::",53],["T_STRING","PIRATE_DAY_MAX_AGE",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$config",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getCacheMaxAge",53],"(",")",")",";",["T_WHITESPACE","\n  ",53],"}",["T_WHITESPACE","\n\n  ",54],["T_DOC_COMMENT","\/**\n   * Tests if config overrides set cacheability metadata on config entities.\n   *\/",56],["T_WHITESPACE","\n  ",58],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","testConfigEntityOverride",59],"(",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n    ",59],["T_COMMENT","\/\/ It's pirate day today!\n",60],["T_WHITESPACE","    ",61],["T_VARIABLE","$GLOBALS",61],"[",["T_CONSTANT_ENCAPSED_STRING","'it_is_pirate_day'",61],"]",["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","TRUE",61],";",["T_WHITESPACE","\n\n    ",61],["T_COMMENT","\/\/ Load the User login block and check that its cacheability metadata is\n",63],["T_WHITESPACE","    ",64],["T_COMMENT","\/\/ overridden correctly. This verifies that the metadata is correctly\n",64],["T_WHITESPACE","    ",65],["T_COMMENT","\/\/ applied to config entities.\n",65],["T_WHITESPACE","    ",66],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Entity\\EntityManagerInterface $entity_manager *\/",66],["T_WHITESPACE","\n    ",66],["T_VARIABLE","$entity_manager",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","container",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","get",67],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",67],")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$block",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$entity_manager",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getStorage",68],"(",["T_CONSTANT_ENCAPSED_STRING","'block'",68],")",["T_OBJECT_OPERATOR","->",68],["T_STRING","load",68],"(",["T_CONSTANT_ENCAPSED_STRING","'call_to_action'",68],")",";",["T_WHITESPACE","\n\n    ",68],["T_COMMENT","\/\/ Check that our call to action message is appealing to filibusters.\n",70],["T_WHITESPACE","    ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertEqual",71],"(",["T_VARIABLE","$block",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","label",71],"(",")",",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'Draw yer cutlasses!'",71],")",";",["T_WHITESPACE","\n\n    ",71],["T_COMMENT","\/\/ Check that the cacheability metadata is correct.\n",73],["T_WHITESPACE","    ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertEqual",74],"(","[",["T_CONSTANT_ENCAPSED_STRING","'pirate_day'",74],"]",",",["T_WHITESPACE"," ",74],["T_VARIABLE","$block",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getCacheContexts",74],"(",")",")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertEqual",75],"(","[",["T_CONSTANT_ENCAPSED_STRING","'config:block.block.call_to_action'",75],",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'pirate-day-tag'",75],"]",",",["T_WHITESPACE"," ",75],["T_VARIABLE","$block",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getCacheTags",75],"(",")",")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","assertEqual",76],"(",["T_STRING","PirateDayCacheContext",76],["T_DOUBLE_COLON","::",76],["T_STRING","PIRATE_DAY_MAX_AGE",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$block",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getCacheMaxAge",76],"(",")",")",";",["T_WHITESPACE","\n\n    ",76],["T_COMMENT","\/\/ Check that duplicating a config entity does not have the original config\n",78],["T_WHITESPACE","    ",79],["T_COMMENT","\/\/ entity's cache tag.\n",79],["T_WHITESPACE","    ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertEqual",80],"(","[",["T_CONSTANT_ENCAPSED_STRING","'config:block.block.'",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'pirate-day-tag'",80],"]",",",["T_WHITESPACE"," ",80],["T_VARIABLE","$block",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","createDuplicate",80],"(",")",["T_OBJECT_OPERATOR","->",80],["T_STRING","getCacheTags",80],"(",")",")",";",["T_WHITESPACE","\n\n    ",80],["T_COMMENT","\/\/ Check that renaming a config entity does not have the original config\n",82],["T_WHITESPACE","    ",83],["T_COMMENT","\/\/ entity's cache tag.\n",83],["T_WHITESPACE","    ",84],["T_VARIABLE","$block",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","set",84],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'call_to_looting'",84],")",["T_OBJECT_OPERATOR","->",84],["T_STRING","save",84],"(",")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertEqual",85],"(","[",["T_CONSTANT_ENCAPSED_STRING","'pirate_day'",85],"]",",",["T_WHITESPACE"," ",85],["T_VARIABLE","$block",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getCacheContexts",85],"(",")",")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertEqual",86],"(","[",["T_CONSTANT_ENCAPSED_STRING","'config:block.block.call_to_looting'",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'pirate-day-tag'",86],"]",",",["T_WHITESPACE"," ",86],["T_VARIABLE","$block",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getCacheTags",86],"(",")",")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertEqual",87],"(",["T_STRING","PirateDayCacheContext",87],["T_DOUBLE_COLON","::",87],["T_STRING","PIRATE_DAY_MAX_AGE",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$block",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getCacheMaxAge",87],"(",")",")",";",["T_WHITESPACE","\n  ",87],"}",["T_WHITESPACE","\n\n",88],"}",["T_WHITESPACE","\n",90]]