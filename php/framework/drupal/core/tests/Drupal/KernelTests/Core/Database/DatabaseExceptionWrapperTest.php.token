[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Database",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Database",5],["T_NS_SEPARATOR","\\",5],["T_STRING","DatabaseExceptionWrapper",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Database",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Database",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","KernelTests",7],["T_NS_SEPARATOR","\\",7],["T_STRING","KernelTestBase",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Tests exceptions thrown by queries.\n *\n * @group Database\n *\/",9],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","DatabaseExceptionWrapperTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","KernelTestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * Tests the expected database exception thrown for prepared statements.\n   *\/",16],["T_WHITESPACE","\n  ",18],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_FUNCTION","function",19],["T_WHITESPACE"," ",19],["T_STRING","testPreparedStatement",19],"(",")",["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n    ",19],["T_VARIABLE","$connection",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_STRING","Database",20],["T_DOUBLE_COLON","::",20],["T_STRING","getConnection",20],"(",")",";",["T_WHITESPACE","\n    ",20],["T_TRY","try",21],["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n      ",21],["T_COMMENT","\/\/ SQLite validates the syntax upon preparing a statement already.\n",22],["T_WHITESPACE","      ",23],["T_COMMENT","\/\/ @throws \\PDOException\n",23],["T_WHITESPACE","      ",24],["T_VARIABLE","$query",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_VARIABLE","$connection",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","prepare",24],"(",["T_CONSTANT_ENCAPSED_STRING","'bananas'",24],")",";",["T_WHITESPACE","\n\n      ",24],["T_COMMENT","\/\/ MySQL only validates the syntax upon trying to execute a query.\n",26],["T_WHITESPACE","      ",27],["T_COMMENT","\/\/ @throws \\Drupal\\Core\\Database\\DatabaseExceptionWrapper\n",27],["T_WHITESPACE","      ",28],["T_VARIABLE","$connection",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","query",28],"(",["T_VARIABLE","$query",28],")",";",["T_WHITESPACE","\n\n      ",28],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","fail",30],"(",["T_CONSTANT_ENCAPSED_STRING","'Expected PDOException or DatabaseExceptionWrapper, none was thrown.'",30],")",";",["T_WHITESPACE","\n    ",30],"}",["T_WHITESPACE","\n    ",31],["T_CATCH","catch",32],["T_WHITESPACE"," ",32],"(",["T_NS_SEPARATOR","\\",32],["T_STRING","PDOException",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$e",32],")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n      ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","pass",33],"(",["T_CONSTANT_ENCAPSED_STRING","'Expected PDOException was thrown.'",33],")",";",["T_WHITESPACE","\n    ",33],"}",["T_WHITESPACE","\n    ",34],["T_CATCH","catch",35],["T_WHITESPACE"," ",35],"(",["T_STRING","DatabaseExceptionWrapper",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$e",35],")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n      ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","pass",36],"(",["T_CONSTANT_ENCAPSED_STRING","'Expected DatabaseExceptionWrapper was thrown.'",36],")",";",["T_WHITESPACE","\n    ",36],"}",["T_WHITESPACE","\n    ",37],["T_CATCH","catch",38],["T_WHITESPACE"," ",38],"(",["T_NS_SEPARATOR","\\",38],["T_STRING","Exception",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$e",38],")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n      ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","fail",39],"(",["T_CONSTANT_ENCAPSED_STRING","\"Thrown exception is not a PDOException:\\n\"",39],["T_WHITESPACE"," ",39],".",["T_WHITESPACE"," ",39],["T_STRING_CAST","(string)",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$e",39],")",";",["T_WHITESPACE","\n    ",39],"}",["T_WHITESPACE","\n  ",40],"}",["T_WHITESPACE","\n\n  ",41],["T_DOC_COMMENT","\/**\n   * Tests the expected database exception thrown for inexistent tables.\n   *\/",43],["T_WHITESPACE","\n  ",45],["T_PUBLIC","public",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","testQueryThrowsDatabaseExceptionWrapperException",46],"(",")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$connection",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_STRING","Database",47],["T_DOUBLE_COLON","::",47],["T_STRING","getConnection",47],"(",")",";",["T_WHITESPACE","\n    ",47],["T_TRY","try",48],["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n      ",48],["T_VARIABLE","$connection",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","query",49],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM {does_not_exist}'",49],")",";",["T_WHITESPACE","\n      ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","fail",50],"(",["T_CONSTANT_ENCAPSED_STRING","'Expected PDOException, none was thrown.'",50],")",";",["T_WHITESPACE","\n    ",50],"}",["T_WHITESPACE","\n    ",51],["T_CATCH","catch",52],["T_WHITESPACE"," ",52],"(",["T_STRING","DatabaseExceptionWrapper",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$e",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n      ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","pass",53],"(",["T_CONSTANT_ENCAPSED_STRING","'Expected DatabaseExceptionWrapper was thrown.'",53],")",";",["T_WHITESPACE","\n    ",53],"}",["T_WHITESPACE","\n    ",54],["T_CATCH","catch",55],["T_WHITESPACE"," ",55],"(",["T_NS_SEPARATOR","\\",55],["T_STRING","Exception",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$e",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n      ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","fail",56],"(",["T_CONSTANT_ENCAPSED_STRING","\"Thrown exception is not a DatabaseExceptionWrapper:\\n\"",56],["T_WHITESPACE"," ",56],".",["T_WHITESPACE"," ",56],["T_STRING_CAST","(string)",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$e",56],")",";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n  ",57],"}",["T_WHITESPACE","\n\n",58],"}",["T_WHITESPACE","\n",60]]