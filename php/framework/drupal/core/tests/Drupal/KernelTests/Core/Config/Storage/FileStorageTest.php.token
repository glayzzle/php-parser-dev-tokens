[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Config",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Storage",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Config",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FileStorage",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Config",6],["T_NS_SEPARATOR","\\",6],["T_STRING","UnsupportedDataTypeConfigException",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Serialization",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Yaml",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","StreamWrapper",8],["T_NS_SEPARATOR","\\",8],["T_STRING","PublicStream",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Tests FileStorage operations.\n *\n * @group config\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","FileStorageTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","ConfigStorageTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * A directory to store configuration in.\n   *\n   * @var string\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$directory",22],";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",24],["T_WHITESPACE","\n  ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","setUp",27],"(",")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n    ",27],["T_STRING","parent",28],["T_DOUBLE_COLON","::",28],["T_STRING","setUp",28],"(",")",";",["T_WHITESPACE","\n    ",28],["T_COMMENT","\/\/ Create a directory.\n",29],["T_WHITESPACE","    ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","directory",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_STRING","PublicStream",30],["T_DOUBLE_COLON","::",30],["T_STRING","basePath",30],"(",")",["T_WHITESPACE"," ",30],".",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'\/config'",30],";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","storage",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_NEW","new",31],["T_WHITESPACE"," ",31],["T_STRING","FileStorage",31],"(",["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","directory",31],")",";",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","invalidStorage",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_NEW","new",32],["T_WHITESPACE"," ",32],["T_STRING","FileStorage",32],"(",["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","directory",32],["T_WHITESPACE"," ",32],".",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'\/nonexisting'",32],")",";",["T_WHITESPACE","\n\n    ",32],["T_COMMENT","\/\/ FileStorage::listAll() requires other configuration data to exist.\n",34],["T_WHITESPACE","    ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","storage",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","write",35],"(",["T_CONSTANT_ENCAPSED_STRING","'system.performance'",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","config",35],"(",["T_CONSTANT_ENCAPSED_STRING","'system.performance'",35],")",["T_OBJECT_OPERATOR","->",35],["T_STRING","get",35],"(",")",")",";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","storage",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","write",36],"(",["T_CONSTANT_ENCAPSED_STRING","'core.extension'",36],",",["T_WHITESPACE"," ",36],["T_ARRAY","array",36],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_ARRAY","array",36],"(",")",")",")",";",["T_WHITESPACE","\n  ",36],"}",["T_WHITESPACE","\n\n  ",37],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","read",39],"(",["T_VARIABLE","$name",39],")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$data",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_STRING","file_get_contents",40],"(",["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","storage",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","getFilePath",40],"(",["T_VARIABLE","$name",40],")",")",";",["T_WHITESPACE","\n    ",40],["T_RETURN","return",41],["T_WHITESPACE"," ",41],["T_STRING","Yaml",41],["T_DOUBLE_COLON","::",41],["T_STRING","decode",41],"(",["T_VARIABLE","$data",41],")",";",["T_WHITESPACE","\n  ",41],"}",["T_WHITESPACE","\n\n  ",42],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","insert",44],"(",["T_VARIABLE","$name",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$data",44],")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n    ",44],["T_STRING","file_put_contents",45],"(",["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","storage",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getFilePath",45],"(",["T_VARIABLE","$name",45],")",",",["T_WHITESPACE"," ",45],["T_VARIABLE","$data",45],")",";",["T_WHITESPACE","\n  ",45],"}",["T_WHITESPACE","\n\n  ",46],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","update",48],"(",["T_VARIABLE","$name",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$data",48],")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n    ",48],["T_STRING","file_put_contents",49],"(",["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","storage",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getFilePath",49],"(",["T_VARIABLE","$name",49],")",",",["T_WHITESPACE"," ",49],["T_VARIABLE","$data",49],")",";",["T_WHITESPACE","\n  ",49],"}",["T_WHITESPACE","\n\n  ",50],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","delete",52],"(",["T_VARIABLE","$name",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n    ",52],["T_STRING","unlink",53],"(",["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","storage",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getFilePath",53],"(",["T_VARIABLE","$name",53],")",")",";",["T_WHITESPACE","\n  ",53],"}",["T_WHITESPACE","\n\n  ",54],["T_DOC_COMMENT","\/**\n   * Tests the FileStorage::listAll method with a relative and absolute path.\n   *\/",56],["T_WHITESPACE","\n  ",58],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","testlistAll",59],"(",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$expected_files",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_ARRAY","array",60],"(",["T_WHITESPACE","\n      ",60],["T_CONSTANT_ENCAPSED_STRING","'core.extension'",61],",",["T_WHITESPACE","\n      ",61],["T_CONSTANT_ENCAPSED_STRING","'system.performance'",62],",",["T_WHITESPACE","\n    ",62],")",";",["T_WHITESPACE","\n\n    ",63],["T_VARIABLE","$config_files",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","storage",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","listAll",65],"(",")",";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","assertIdentical",66],"(",["T_VARIABLE","$config_files",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$expected_files",66],",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'Relative path, two config files found.'",66],")",";",["T_WHITESPACE","\n\n    ",66],["T_COMMENT","\/\/ @todo https:\/\/www.drupal.org\/node\/2666954 FileStorage::listAll() is\n",68],["T_WHITESPACE","    ",69],["T_COMMENT","\/\/   case-sensitive. However, \\Drupal\\Core\\Config\\DatabaseStorage::listAll()\n",69],["T_WHITESPACE","    ",70],["T_COMMENT","\/\/   is case-insensitive.\n",70],["T_WHITESPACE","    ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertIdentical",71],"(","[",["T_CONSTANT_ENCAPSED_STRING","'system.performance'",71],"]",",",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","storage",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","listAll",71],"(",["T_CONSTANT_ENCAPSED_STRING","'system'",71],")",",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'The FileStorage::listAll() with prefix works.'",71],")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertIdentical",72],"(","[","]",",",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","storage",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","listAll",72],"(",["T_CONSTANT_ENCAPSED_STRING","'System'",72],")",",",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'The FileStorage::listAll() is case sensitive.'",72],")",";",["T_WHITESPACE","\n  ",72],"}",["T_WHITESPACE","\n\n  ",73],["T_DOC_COMMENT","\/**\n   * Test UnsupportedDataTypeConfigException displays path of\n   * erroneous file during read.\n   *\/",75],["T_WHITESPACE","\n  ",78],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","testReadUnsupportedDataTypeConfigException",79],"(",")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n    ",79],["T_STRING","file_put_contents",80],"(",["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","storage",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getFilePath",80],"(",["T_CONSTANT_ENCAPSED_STRING","'core.extension'",80],")",",",["T_WHITESPACE"," ",80],["T_STRING","PHP_EOL",80],["T_WHITESPACE"," ",80],".",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'foo : [bar}'",80],",",["T_WHITESPACE"," ",80],["T_STRING","FILE_APPEND",80],")",";",["T_WHITESPACE","\n    ",80],["T_TRY","try",81],["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n      ",81],["T_VARIABLE","$config_parsed",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","storage",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","read",82],"(",["T_CONSTANT_ENCAPSED_STRING","'core.extension'",82],")",";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n    ",83],["T_CATCH","catch",84],["T_WHITESPACE"," ",84],"(",["T_STRING","UnsupportedDataTypeConfigException",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$e",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n      ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","pass",85],"(",["T_CONSTANT_ENCAPSED_STRING","'Exception thrown when trying to read a field containing invalid data type.'",85],")",";",["T_WHITESPACE","\n      ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertTrue",86],"(","(",["T_STRING","strpos",86],"(",["T_VARIABLE","$e",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getMessage",86],"(",")",",",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","storage",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getFilePath",86],"(",["T_CONSTANT_ENCAPSED_STRING","'core.extension'",86],")",")",["T_WHITESPACE"," ",86],["T_IS_NOT_IDENTICAL","!==",86],["T_WHITESPACE"," ",86],["T_STRING","FALSE",86],")",",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'Erroneous file path is displayed.'",86],")",";",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n  ",87],"}",["T_WHITESPACE","\n\n",88],"}",["T_WHITESPACE","\n",90]]