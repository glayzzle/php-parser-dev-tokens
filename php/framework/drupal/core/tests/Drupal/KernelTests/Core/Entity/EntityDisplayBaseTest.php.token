[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Entity",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","comment",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","CommentType",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","EntityViewDisplay",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","field",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FieldConfig",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","field",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","FieldStorageConfig",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","KernelTests",9],["T_NS_SEPARATOR","\\",9],["T_STRING","KernelTestBase",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * @coversDefaultClass \\Drupal\\Core\\Entity\\EntityDisplayBase\n *\n * @group Entity\n *\/",11],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","EntityDisplayBaseTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","KernelTestBase",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",18],["T_WHITESPACE","\n  ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_STATIC","static",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$modules",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'entity_test_third_party'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'field'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'system'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'comment'",21],"]",";",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * @covers ::onDependencyRemoval\n   *\/",23],["T_WHITESPACE","\n  ",25],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","testOnDependencyRemoval",26],"(",")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n    ",26],["T_COMMENT","\/\/ Create a comment field for entity_test.\n",27],["T_WHITESPACE","    ",28],["T_VARIABLE","$comment_bundle",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_STRING","CommentType",28],["T_DOUBLE_COLON","::",28],["T_STRING","create",28],"(","[",["T_WHITESPACE","\n      ",28],["T_CONSTANT_ENCAPSED_STRING","'id'",29],["T_WHITESPACE"," ",29],["T_DOUBLE_ARROW","=>",29],["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",29],",",["T_WHITESPACE","\n      ",29],["T_CONSTANT_ENCAPSED_STRING","'label'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",30],",",["T_WHITESPACE","\n      ",30],["T_CONSTANT_ENCAPSED_STRING","'description'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","''",31],",",["T_WHITESPACE","\n      ",31],["T_CONSTANT_ENCAPSED_STRING","'target_entity_type_id'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",32],",",["T_WHITESPACE","\n    ",32],"]",")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$comment_bundle",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","save",34],"(",")",";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$comment_display",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_STRING","EntityViewDisplay",35],["T_DOUBLE_COLON","::",35],["T_STRING","create",35],"(","[",["T_WHITESPACE","\n      ",35],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'comment'",36],",",["T_WHITESPACE","\n      ",36],["T_CONSTANT_ENCAPSED_STRING","'bundle'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",37],",",["T_WHITESPACE","\n      ",37],["T_CONSTANT_ENCAPSED_STRING","'mode'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'default'",38],",",["T_WHITESPACE","\n      ",38],["T_CONSTANT_ENCAPSED_STRING","'status'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_STRING","TRUE",39],",",["T_WHITESPACE","\n      ",39],["T_CONSTANT_ENCAPSED_STRING","'third_party_settings'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],"[",["T_WHITESPACE","\n        ",40],["T_CONSTANT_ENCAPSED_STRING","'entity_test_third_party'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],"[",["T_WHITESPACE","\n          ",41],["T_CONSTANT_ENCAPSED_STRING","'key'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'value'",42],",",["T_WHITESPACE","\n        ",42],"]",",",["T_WHITESPACE","\n      ",43],"]",",",["T_WHITESPACE","\n    ",44],"]",")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$comment_display",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","save",46],"(",")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$field_storage",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_STRING","FieldStorageConfig",47],["T_DOUBLE_COLON","::",47],["T_STRING","create",47],"(","[",["T_WHITESPACE","\n      ",47],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",48],",",["T_WHITESPACE","\n      ",48],["T_CONSTANT_ENCAPSED_STRING","'field_name'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'test_field'",49],",",["T_WHITESPACE","\n      ",49],["T_CONSTANT_ENCAPSED_STRING","'type'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'comment'",50],",",["T_WHITESPACE","\n      ",50],["T_CONSTANT_ENCAPSED_STRING","'settings'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],"[",["T_WHITESPACE","\n        ",51],["T_CONSTANT_ENCAPSED_STRING","'comment_type'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",52],",",["T_WHITESPACE","\n      ",52],"]",",",["T_WHITESPACE","\n    ",53],"]",")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$field_storage",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","save",55],"(",")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$field",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","FieldConfig",56],["T_DOUBLE_COLON","::",56],["T_STRING","create",56],"(","[",["T_WHITESPACE","\n      ",56],["T_CONSTANT_ENCAPSED_STRING","'field_storage'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$field_storage",57],",",["T_WHITESPACE","\n      ",57],["T_CONSTANT_ENCAPSED_STRING","'label'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","randomMachineName",58],"(",")",",",["T_WHITESPACE","\n      ",58],["T_CONSTANT_ENCAPSED_STRING","'bundle'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",59],",",["T_WHITESPACE","\n    ",59],"]",")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$field",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","save",61],"(",")",";",["T_WHITESPACE","\n\n    ",61],["T_COMMENT","\/\/ Create an entity view display for entity_test.\n",63],["T_WHITESPACE","    ",64],["T_VARIABLE","$entity_display",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","EntityViewDisplay",64],["T_DOUBLE_COLON","::",64],["T_STRING","create",64],"(","[",["T_WHITESPACE","\n      ",64],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",65],",",["T_WHITESPACE","\n      ",65],["T_CONSTANT_ENCAPSED_STRING","'bundle'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",66],",",["T_WHITESPACE","\n      ",66],["T_CONSTANT_ENCAPSED_STRING","'mode'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'default'",67],",",["T_WHITESPACE","\n      ",67],["T_CONSTANT_ENCAPSED_STRING","'status'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_STRING","TRUE",68],",",["T_WHITESPACE","\n      ",68],["T_CONSTANT_ENCAPSED_STRING","'content'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],"[",["T_WHITESPACE","\n        ",69],["T_CONSTANT_ENCAPSED_STRING","'test_field'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'comment_default'",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'settings'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],"[",["T_CONSTANT_ENCAPSED_STRING","'view_mode'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'default'",70],"]",",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'label'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'hidden'",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'third_party_settings'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],"[","]","]",",",["T_WHITESPACE","\n      ",70],"]",",",["T_WHITESPACE","\n      ",71],["T_CONSTANT_ENCAPSED_STRING","'third_party_settings'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],"[",["T_WHITESPACE","\n        ",72],["T_CONSTANT_ENCAPSED_STRING","'entity_test_third_party'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],"[",["T_WHITESPACE","\n          ",73],["T_CONSTANT_ENCAPSED_STRING","'key'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'value'",74],",",["T_WHITESPACE","\n        ",74],"]",",",["T_WHITESPACE","\n      ",75],"]",",",["T_WHITESPACE","\n    ",76],"]",")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$entity_display",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","save",78],"(",")",";",["T_WHITESPACE","\n\n    ",78],["T_VARIABLE","$expected_component",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],"[",["T_WHITESPACE","\n      ",80],["T_CONSTANT_ENCAPSED_STRING","'type'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'comment_default'",81],",",["T_WHITESPACE","\n      ",81],["T_CONSTANT_ENCAPSED_STRING","'settings'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],"[",["T_CONSTANT_ENCAPSED_STRING","'view_mode'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'default'",82],"]",",",["T_WHITESPACE","\n      ",82],["T_CONSTANT_ENCAPSED_STRING","'label'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'hidden'",83],",",["T_WHITESPACE","\n      ",83],["T_CONSTANT_ENCAPSED_STRING","'third_party_settings'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],"[","]",",",["T_WHITESPACE","\n    ",84],"]",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$entity_display",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getComponent",86],"(",["T_CONSTANT_ENCAPSED_STRING","'test_field'",86],")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertEquals",87],"(",["T_VARIABLE","$expected_component",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$entity_display",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getComponent",87],"(",["T_CONSTANT_ENCAPSED_STRING","'test_field'",87],")",")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$expected_dependencies",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],"[",["T_WHITESPACE","\n      ",88],["T_CONSTANT_ENCAPSED_STRING","'config'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],"[",["T_WHITESPACE","\n        ",89],["T_CONSTANT_ENCAPSED_STRING","'core.entity_view_display.comment.entity_test.default'",90],",",["T_WHITESPACE","\n        ",90],["T_CONSTANT_ENCAPSED_STRING","'field.field.entity_test.entity_test.test_field'",91],",",["T_WHITESPACE","\n      ",91],"]",",",["T_WHITESPACE","\n      ",92],["T_CONSTANT_ENCAPSED_STRING","'module'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],"[",["T_WHITESPACE","\n        ",93],["T_CONSTANT_ENCAPSED_STRING","'comment'",94],",",["T_WHITESPACE","\n        ",94],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",95],",",["T_WHITESPACE","\n        ",95],["T_CONSTANT_ENCAPSED_STRING","'entity_test_third_party'",96],",",["T_WHITESPACE","\n      ",96],"]",",",["T_WHITESPACE","\n    ",97],"]",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","assertSame",99],"(",["T_VARIABLE","$expected_dependencies",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$entity_display",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getDependencies",99],"(",")",")",";",["T_WHITESPACE","\n\n    ",99],["T_COMMENT","\/\/ Uninstall the third-party settings provider and reload the display.\n",101],["T_WHITESPACE","    ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","container",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","get",102],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",102],")",["T_OBJECT_OPERATOR","->",102],["T_STRING","uninstall",102],"(","[",["T_CONSTANT_ENCAPSED_STRING","'entity_test_third_party'",102],"]",")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$entity_display",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","EntityViewDisplay",103],["T_DOUBLE_COLON","::",103],["T_STRING","load",103],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test.entity_test.default'",103],")",";",["T_WHITESPACE","\n\n    ",103],["T_COMMENT","\/\/ The component should remain unchanged.\n",105],["T_WHITESPACE","    ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertEquals",106],"(",["T_VARIABLE","$expected_component",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$entity_display",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getComponent",106],"(",["T_CONSTANT_ENCAPSED_STRING","'test_field'",106],")",")",";",["T_WHITESPACE","\n    ",106],["T_COMMENT","\/\/ The dependencies should no longer contain 'entity_test_third_party'.\n",107],["T_WHITESPACE","    ",108],["T_VARIABLE","$expected_dependencies",108],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",108],"]",["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],"[",["T_WHITESPACE","\n      ",108],["T_CONSTANT_ENCAPSED_STRING","'comment'",109],",",["T_WHITESPACE","\n      ",109],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",110],",",["T_WHITESPACE","\n    ",110],"]",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","assertSame",112],"(",["T_VARIABLE","$expected_dependencies",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$entity_display",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getDependencies",112],"(",")",")",";",["T_WHITESPACE","\n  ",112],"}",["T_WHITESPACE","\n\n",113],"}",["T_WHITESPACE","\n",115]]