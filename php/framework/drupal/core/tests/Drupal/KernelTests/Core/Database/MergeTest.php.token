[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Database",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Database",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Query",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Merge",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Database",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Query",6],["T_NS_SEPARATOR","\\",6],["T_STRING","InvalidMergeQueryException",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests the MERGE query builder.\n *\n * @group Database\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","MergeTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","DatabaseTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * Confirms that we can merge-insert a record successfully.\n   *\/",15],["T_WHITESPACE","\n  ",17],["T_FUNCTION","function",18],["T_WHITESPACE"," ",18],["T_STRING","testMergeInsert",18],"(",")",["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n    ",18],["T_VARIABLE","$num_records_before",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_STRING","db_query",19],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT COUNT(*) FROM {test_people}'",19],")",["T_OBJECT_OPERATOR","->",19],["T_STRING","fetchField",19],"(",")",";",["T_WHITESPACE","\n\n    ",19],["T_VARIABLE","$result",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_STRING","db_merge",21],"(",["T_CONSTANT_ENCAPSED_STRING","'test_people'",21],")",["T_WHITESPACE","\n      ",21],["T_OBJECT_OPERATOR","->",22],["T_STRING","key",22],"(",["T_CONSTANT_ENCAPSED_STRING","'job'",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'Presenter'",22],")",["T_WHITESPACE","\n      ",22],["T_OBJECT_OPERATOR","->",23],["T_STRING","fields",23],"(",["T_ARRAY","array",23],"(",["T_WHITESPACE","\n        ",23],["T_CONSTANT_ENCAPSED_STRING","'age'",24],["T_WHITESPACE"," ",24],["T_DOUBLE_ARROW","=>",24],["T_WHITESPACE"," ",24],["T_LNUMBER","31",24],",",["T_WHITESPACE","\n        ",24],["T_CONSTANT_ENCAPSED_STRING","'name'",25],["T_WHITESPACE"," ",25],["T_DOUBLE_ARROW","=>",25],["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'Tiffany'",25],",",["T_WHITESPACE","\n      ",25],")",")",["T_WHITESPACE","\n      ",26],["T_OBJECT_OPERATOR","->",27],["T_STRING","execute",27],"(",")",";",["T_WHITESPACE","\n\n    ",27],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","assertEqual",29],"(",["T_VARIABLE","$result",29],",",["T_WHITESPACE"," ",29],["T_STRING","Merge",29],["T_DOUBLE_COLON","::",29],["T_STRING","STATUS_INSERT",29],",",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'Insert status returned.'",29],")",";",["T_WHITESPACE","\n\n    ",29],["T_VARIABLE","$num_records_after",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_STRING","db_query",31],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT COUNT(*) FROM {test_people}'",31],")",["T_OBJECT_OPERATOR","->",31],["T_STRING","fetchField",31],"(",")",";",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","assertEqual",32],"(",["T_VARIABLE","$num_records_before",32],["T_WHITESPACE"," ",32],"+",["T_WHITESPACE"," ",32],["T_LNUMBER","1",32],",",["T_WHITESPACE"," ",32],["T_VARIABLE","$num_records_after",32],",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'Merge inserted properly.'",32],")",";",["T_WHITESPACE","\n\n    ",32],["T_VARIABLE","$person",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_STRING","db_query",34],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM {test_people} WHERE job = :job'",34],",",["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",["T_CONSTANT_ENCAPSED_STRING","':job'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'Presenter'",34],")",")",["T_OBJECT_OPERATOR","->",34],["T_STRING","fetch",34],"(",")",";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","assertEqual",35],"(",["T_VARIABLE","$person",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","name",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'Tiffany'",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'Name set correctly.'",35],")",";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","assertEqual",36],"(",["T_VARIABLE","$person",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","age",36],",",["T_WHITESPACE"," ",36],["T_LNUMBER","31",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'Age set correctly.'",36],")",";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","assertEqual",37],"(",["T_VARIABLE","$person",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","job",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'Presenter'",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'Job set correctly.'",37],")",";",["T_WHITESPACE","\n  ",37],"}",["T_WHITESPACE","\n\n  ",38],["T_DOC_COMMENT","\/**\n   * Confirms that we can merge-update a record successfully.\n   *\/",40],["T_WHITESPACE","\n  ",42],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","testMergeUpdate",43],"(",")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$num_records_before",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_STRING","db_query",44],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT COUNT(*) FROM {test_people}'",44],")",["T_OBJECT_OPERATOR","->",44],["T_STRING","fetchField",44],"(",")",";",["T_WHITESPACE","\n\n    ",44],["T_VARIABLE","$result",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","db_merge",46],"(",["T_CONSTANT_ENCAPSED_STRING","'test_people'",46],")",["T_WHITESPACE","\n      ",46],["T_OBJECT_OPERATOR","->",47],["T_STRING","key",47],"(",["T_CONSTANT_ENCAPSED_STRING","'job'",47],",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'Speaker'",47],")",["T_WHITESPACE","\n      ",47],["T_OBJECT_OPERATOR","->",48],["T_STRING","fields",48],"(",["T_ARRAY","array",48],"(",["T_WHITESPACE","\n        ",48],["T_CONSTANT_ENCAPSED_STRING","'age'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_LNUMBER","31",49],",",["T_WHITESPACE","\n        ",49],["T_CONSTANT_ENCAPSED_STRING","'name'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'Tiffany'",50],",",["T_WHITESPACE","\n      ",50],")",")",["T_WHITESPACE","\n      ",51],["T_OBJECT_OPERATOR","->",52],["T_STRING","execute",52],"(",")",";",["T_WHITESPACE","\n\n    ",52],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertEqual",54],"(",["T_VARIABLE","$result",54],",",["T_WHITESPACE"," ",54],["T_STRING","Merge",54],["T_DOUBLE_COLON","::",54],["T_STRING","STATUS_UPDATE",54],",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'Update status returned.'",54],")",";",["T_WHITESPACE","\n\n    ",54],["T_VARIABLE","$num_records_after",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","db_query",56],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT COUNT(*) FROM {test_people}'",56],")",["T_OBJECT_OPERATOR","->",56],["T_STRING","fetchField",56],"(",")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","assertEqual",57],"(",["T_VARIABLE","$num_records_before",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$num_records_after",57],",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'Merge updated properly.'",57],")",";",["T_WHITESPACE","\n\n    ",57],["T_VARIABLE","$person",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","db_query",59],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM {test_people} WHERE job = :job'",59],",",["T_WHITESPACE"," ",59],["T_ARRAY","array",59],"(",["T_CONSTANT_ENCAPSED_STRING","':job'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'Speaker'",59],")",")",["T_OBJECT_OPERATOR","->",59],["T_STRING","fetch",59],"(",")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertEqual",60],"(",["T_VARIABLE","$person",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","name",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'Tiffany'",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'Name set correctly.'",60],")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","assertEqual",61],"(",["T_VARIABLE","$person",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","age",61],",",["T_WHITESPACE"," ",61],["T_LNUMBER","31",61],",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'Age set correctly.'",61],")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertEqual",62],"(",["T_VARIABLE","$person",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","job",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'Speaker'",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'Job set correctly.'",62],")",";",["T_WHITESPACE","\n  ",62],"}",["T_WHITESPACE","\n\n  ",63],["T_DOC_COMMENT","\/**\n   * Confirms that we can merge-update a record successfully.\n   *\n   * This test varies from the previous test because it manually defines which\n   * fields are inserted, and which fields are updated.\n   *\/",65],["T_WHITESPACE","\n  ",70],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","testMergeUpdateExcept",71],"(",")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$num_records_before",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","db_query",72],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT COUNT(*) FROM {test_people}'",72],")",["T_OBJECT_OPERATOR","->",72],["T_STRING","fetchField",72],"(",")",";",["T_WHITESPACE","\n\n    ",72],["T_STRING","db_merge",74],"(",["T_CONSTANT_ENCAPSED_STRING","'test_people'",74],")",["T_WHITESPACE","\n      ",74],["T_OBJECT_OPERATOR","->",75],["T_STRING","key",75],"(",["T_CONSTANT_ENCAPSED_STRING","'job'",75],",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'Speaker'",75],")",["T_WHITESPACE","\n      ",75],["T_OBJECT_OPERATOR","->",76],["T_STRING","insertFields",76],"(",["T_ARRAY","array",76],"(",["T_CONSTANT_ENCAPSED_STRING","'age'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_LNUMBER","31",76],")",")",["T_WHITESPACE","\n      ",76],["T_OBJECT_OPERATOR","->",77],["T_STRING","updateFields",77],"(",["T_ARRAY","array",77],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'Tiffany'",77],")",")",["T_WHITESPACE","\n      ",77],["T_OBJECT_OPERATOR","->",78],["T_STRING","execute",78],"(",")",";",["T_WHITESPACE","\n\n    ",78],["T_VARIABLE","$num_records_after",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","db_query",80],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT COUNT(*) FROM {test_people}'",80],")",["T_OBJECT_OPERATOR","->",80],["T_STRING","fetchField",80],"(",")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertEqual",81],"(",["T_VARIABLE","$num_records_before",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$num_records_after",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'Merge updated properly.'",81],")",";",["T_WHITESPACE","\n\n    ",81],["T_VARIABLE","$person",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","db_query",83],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM {test_people} WHERE job = :job'",83],",",["T_WHITESPACE"," ",83],["T_ARRAY","array",83],"(",["T_CONSTANT_ENCAPSED_STRING","':job'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'Speaker'",83],")",")",["T_OBJECT_OPERATOR","->",83],["T_STRING","fetch",83],"(",")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertEqual",84],"(",["T_VARIABLE","$person",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","name",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'Tiffany'",84],",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'Name set correctly.'",84],")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertEqual",85],"(",["T_VARIABLE","$person",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","age",85],",",["T_WHITESPACE"," ",85],["T_LNUMBER","30",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'Age skipped correctly.'",85],")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertEqual",86],"(",["T_VARIABLE","$person",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","job",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'Speaker'",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'Job set correctly.'",86],")",";",["T_WHITESPACE","\n  ",86],"}",["T_WHITESPACE","\n\n  ",87],["T_DOC_COMMENT","\/**\n   * Confirms that we can merge-update a record, with alternate replacement.\n   *\/",89],["T_WHITESPACE","\n  ",91],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","testMergeUpdateExplicit",92],"(",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$num_records_before",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","db_query",93],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT COUNT(*) FROM {test_people}'",93],")",["T_OBJECT_OPERATOR","->",93],["T_STRING","fetchField",93],"(",")",";",["T_WHITESPACE","\n\n    ",93],["T_STRING","db_merge",95],"(",["T_CONSTANT_ENCAPSED_STRING","'test_people'",95],")",["T_WHITESPACE","\n      ",95],["T_OBJECT_OPERATOR","->",96],["T_STRING","key",96],"(",["T_CONSTANT_ENCAPSED_STRING","'job'",96],",",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'Speaker'",96],")",["T_WHITESPACE","\n      ",96],["T_OBJECT_OPERATOR","->",97],["T_STRING","insertFields",97],"(",["T_ARRAY","array",97],"(",["T_WHITESPACE","\n        ",97],["T_CONSTANT_ENCAPSED_STRING","'age'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_LNUMBER","31",98],",",["T_WHITESPACE","\n        ",98],["T_CONSTANT_ENCAPSED_STRING","'name'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'Tiffany'",99],",",["T_WHITESPACE","\n      ",99],")",")",["T_WHITESPACE","\n      ",100],["T_OBJECT_OPERATOR","->",101],["T_STRING","updateFields",101],"(",["T_ARRAY","array",101],"(",["T_WHITESPACE","\n        ",101],["T_CONSTANT_ENCAPSED_STRING","'name'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'Joe'",102],",",["T_WHITESPACE","\n      ",102],")",")",["T_WHITESPACE","\n      ",103],["T_OBJECT_OPERATOR","->",104],["T_STRING","execute",104],"(",")",";",["T_WHITESPACE","\n\n    ",104],["T_VARIABLE","$num_records_after",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","db_query",106],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT COUNT(*) FROM {test_people}'",106],")",["T_OBJECT_OPERATOR","->",106],["T_STRING","fetchField",106],"(",")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertEqual",107],"(",["T_VARIABLE","$num_records_before",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$num_records_after",107],",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'Merge updated properly.'",107],")",";",["T_WHITESPACE","\n\n    ",107],["T_VARIABLE","$person",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_STRING","db_query",109],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM {test_people} WHERE job = :job'",109],",",["T_WHITESPACE"," ",109],["T_ARRAY","array",109],"(",["T_CONSTANT_ENCAPSED_STRING","':job'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'Speaker'",109],")",")",["T_OBJECT_OPERATOR","->",109],["T_STRING","fetch",109],"(",")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertEqual",110],"(",["T_VARIABLE","$person",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","name",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'Joe'",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'Name set correctly.'",110],")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertEqual",111],"(",["T_VARIABLE","$person",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","age",111],",",["T_WHITESPACE"," ",111],["T_LNUMBER","30",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'Age skipped correctly.'",111],")",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","assertEqual",112],"(",["T_VARIABLE","$person",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","job",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'Speaker'",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'Job set correctly.'",112],")",";",["T_WHITESPACE","\n  ",112],"}",["T_WHITESPACE","\n\n  ",113],["T_DOC_COMMENT","\/**\n   * Confirms that we can merge-update a record successfully, with expressions.\n   *\/",115],["T_WHITESPACE","\n  ",117],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","testMergeUpdateExpression",118],"(",")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$num_records_before",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_STRING","db_query",119],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT COUNT(*) FROM {test_people}'",119],")",["T_OBJECT_OPERATOR","->",119],["T_STRING","fetchField",119],"(",")",";",["T_WHITESPACE","\n\n    ",119],["T_VARIABLE","$age_before",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_STRING","db_query",121],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT age FROM {test_people} WHERE job = :job'",121],",",["T_WHITESPACE"," ",121],["T_ARRAY","array",121],"(",["T_CONSTANT_ENCAPSED_STRING","':job'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'Speaker'",121],")",")",["T_OBJECT_OPERATOR","->",121],["T_STRING","fetchField",121],"(",")",";",["T_WHITESPACE","\n\n    ",121],["T_COMMENT","\/\/ This is a very contrived example, as I have no idea why you'd want to\n",123],["T_WHITESPACE","    ",124],["T_COMMENT","\/\/ change age this way, but that's beside the point.\n",124],["T_WHITESPACE","    ",125],["T_COMMENT","\/\/ Note that we are also double-setting age here, once as a literal and\n",125],["T_WHITESPACE","    ",126],["T_COMMENT","\/\/ once as an expression. This test will only pass if the expression wins,\n",126],["T_WHITESPACE","    ",127],["T_COMMENT","\/\/ which is what is supposed to happen.\n",127],["T_WHITESPACE","    ",128],["T_STRING","db_merge",128],"(",["T_CONSTANT_ENCAPSED_STRING","'test_people'",128],")",["T_WHITESPACE","\n      ",128],["T_OBJECT_OPERATOR","->",129],["T_STRING","key",129],"(",["T_CONSTANT_ENCAPSED_STRING","'job'",129],",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'Speaker'",129],")",["T_WHITESPACE","\n      ",129],["T_OBJECT_OPERATOR","->",130],["T_STRING","fields",130],"(",["T_ARRAY","array",130],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'Tiffany'",130],")",")",["T_WHITESPACE","\n      ",130],["T_OBJECT_OPERATOR","->",131],["T_STRING","insertFields",131],"(",["T_ARRAY","array",131],"(",["T_CONSTANT_ENCAPSED_STRING","'age'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_LNUMBER","31",131],")",")",["T_WHITESPACE","\n      ",131],["T_OBJECT_OPERATOR","->",132],["T_STRING","expression",132],"(",["T_CONSTANT_ENCAPSED_STRING","'age'",132],",",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'age + :age'",132],",",["T_WHITESPACE"," ",132],["T_ARRAY","array",132],"(",["T_CONSTANT_ENCAPSED_STRING","':age'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_LNUMBER","4",132],")",")",["T_WHITESPACE","\n      ",132],["T_OBJECT_OPERATOR","->",133],["T_STRING","execute",133],"(",")",";",["T_WHITESPACE","\n\n    ",133],["T_VARIABLE","$num_records_after",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_STRING","db_query",135],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT COUNT(*) FROM {test_people}'",135],")",["T_OBJECT_OPERATOR","->",135],["T_STRING","fetchField",135],"(",")",";",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","assertEqual",136],"(",["T_VARIABLE","$num_records_before",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$num_records_after",136],",",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'Merge updated properly.'",136],")",";",["T_WHITESPACE","\n\n    ",136],["T_VARIABLE","$person",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_STRING","db_query",138],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM {test_people} WHERE job = :job'",138],",",["T_WHITESPACE"," ",138],["T_ARRAY","array",138],"(",["T_CONSTANT_ENCAPSED_STRING","':job'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'Speaker'",138],")",")",["T_OBJECT_OPERATOR","->",138],["T_STRING","fetch",138],"(",")",";",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","assertEqual",139],"(",["T_VARIABLE","$person",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","name",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'Tiffany'",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'Name set correctly.'",139],")",";",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","assertEqual",140],"(",["T_VARIABLE","$person",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","age",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$age_before",140],["T_WHITESPACE"," ",140],"+",["T_WHITESPACE"," ",140],["T_LNUMBER","4",140],",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'Age updated correctly.'",140],")",";",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","assertEqual",141],"(",["T_VARIABLE","$person",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","job",141],",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'Speaker'",141],",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'Job set correctly.'",141],")",";",["T_WHITESPACE","\n  ",141],"}",["T_WHITESPACE","\n\n  ",142],["T_DOC_COMMENT","\/**\n   * Tests that we can merge-insert without any update fields.\n   *\/",144],["T_WHITESPACE","\n  ",146],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","testMergeInsertWithoutUpdate",147],"(",")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n    ",147],["T_VARIABLE","$num_records_before",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_STRING","db_query",148],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT COUNT(*) FROM {test_people}'",148],")",["T_OBJECT_OPERATOR","->",148],["T_STRING","fetchField",148],"(",")",";",["T_WHITESPACE","\n\n    ",148],["T_STRING","db_merge",150],"(",["T_CONSTANT_ENCAPSED_STRING","'test_people'",150],")",["T_WHITESPACE","\n      ",150],["T_OBJECT_OPERATOR","->",151],["T_STRING","key",151],"(",["T_CONSTANT_ENCAPSED_STRING","'job'",151],",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'Presenter'",151],")",["T_WHITESPACE","\n      ",151],["T_OBJECT_OPERATOR","->",152],["T_STRING","execute",152],"(",")",";",["T_WHITESPACE","\n\n    ",152],["T_VARIABLE","$num_records_after",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","db_query",154],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT COUNT(*) FROM {test_people}'",154],")",["T_OBJECT_OPERATOR","->",154],["T_STRING","fetchField",154],"(",")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","assertEqual",155],"(",["T_VARIABLE","$num_records_before",155],["T_WHITESPACE"," ",155],"+",["T_WHITESPACE"," ",155],["T_LNUMBER","1",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$num_records_after",155],",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'Merge inserted properly.'",155],")",";",["T_WHITESPACE","\n\n    ",155],["T_VARIABLE","$person",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_STRING","db_query",157],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM {test_people} WHERE job = :job'",157],",",["T_WHITESPACE"," ",157],["T_ARRAY","array",157],"(",["T_CONSTANT_ENCAPSED_STRING","':job'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'Presenter'",157],")",")",["T_OBJECT_OPERATOR","->",157],["T_STRING","fetch",157],"(",")",";",["T_WHITESPACE","\n    ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","assertEqual",158],"(",["T_VARIABLE","$person",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","name",158],",",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","''",158],",",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'Name set correctly.'",158],")",";",["T_WHITESPACE","\n    ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","assertEqual",159],"(",["T_VARIABLE","$person",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","age",159],",",["T_WHITESPACE"," ",159],["T_LNUMBER","0",159],",",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'Age set correctly.'",159],")",";",["T_WHITESPACE","\n    ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","assertEqual",160],"(",["T_VARIABLE","$person",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","job",160],",",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'Presenter'",160],",",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'Job set correctly.'",160],")",";",["T_WHITESPACE","\n  ",160],"}",["T_WHITESPACE","\n\n  ",161],["T_DOC_COMMENT","\/**\n   * Confirms that we can merge-update without any update fields.\n   *\/",163],["T_WHITESPACE","\n  ",165],["T_FUNCTION","function",166],["T_WHITESPACE"," ",166],["T_STRING","testMergeUpdateWithoutUpdate",166],"(",")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n    ",166],["T_VARIABLE","$num_records_before",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_STRING","db_query",167],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT COUNT(*) FROM {test_people}'",167],")",["T_OBJECT_OPERATOR","->",167],["T_STRING","fetchField",167],"(",")",";",["T_WHITESPACE","\n\n    ",167],["T_STRING","db_merge",169],"(",["T_CONSTANT_ENCAPSED_STRING","'test_people'",169],")",["T_WHITESPACE","\n      ",169],["T_OBJECT_OPERATOR","->",170],["T_STRING","key",170],"(",["T_CONSTANT_ENCAPSED_STRING","'job'",170],",",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'Speaker'",170],")",["T_WHITESPACE","\n      ",170],["T_OBJECT_OPERATOR","->",171],["T_STRING","execute",171],"(",")",";",["T_WHITESPACE","\n\n    ",171],["T_VARIABLE","$num_records_after",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_STRING","db_query",173],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT COUNT(*) FROM {test_people}'",173],")",["T_OBJECT_OPERATOR","->",173],["T_STRING","fetchField",173],"(",")",";",["T_WHITESPACE","\n    ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","assertEqual",174],"(",["T_VARIABLE","$num_records_before",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$num_records_after",174],",",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'Merge skipped properly.'",174],")",";",["T_WHITESPACE","\n\n    ",174],["T_VARIABLE","$person",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_STRING","db_query",176],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM {test_people} WHERE job = :job'",176],",",["T_WHITESPACE"," ",176],["T_ARRAY","array",176],"(",["T_CONSTANT_ENCAPSED_STRING","':job'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'Speaker'",176],")",")",["T_OBJECT_OPERATOR","->",176],["T_STRING","fetch",176],"(",")",";",["T_WHITESPACE","\n    ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","assertEqual",177],"(",["T_VARIABLE","$person",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","name",177],",",["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","'Meredith'",177],",",["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","'Name skipped correctly.'",177],")",";",["T_WHITESPACE","\n    ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","assertEqual",178],"(",["T_VARIABLE","$person",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","age",178],",",["T_WHITESPACE"," ",178],["T_LNUMBER","30",178],",",["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'Age skipped correctly.'",178],")",";",["T_WHITESPACE","\n    ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","assertEqual",179],"(",["T_VARIABLE","$person",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","job",179],",",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'Speaker'",179],",",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'Job skipped correctly.'",179],")",";",["T_WHITESPACE","\n\n    ",179],["T_STRING","db_merge",181],"(",["T_CONSTANT_ENCAPSED_STRING","'test_people'",181],")",["T_WHITESPACE","\n      ",181],["T_OBJECT_OPERATOR","->",182],["T_STRING","key",182],"(",["T_CONSTANT_ENCAPSED_STRING","'job'",182],",",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'Speaker'",182],")",["T_WHITESPACE","\n      ",182],["T_OBJECT_OPERATOR","->",183],["T_STRING","insertFields",183],"(",["T_ARRAY","array",183],"(",["T_CONSTANT_ENCAPSED_STRING","'age'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_LNUMBER","31",183],")",")",["T_WHITESPACE","\n      ",183],["T_OBJECT_OPERATOR","->",184],["T_STRING","execute",184],"(",")",";",["T_WHITESPACE","\n\n    ",184],["T_VARIABLE","$num_records_after",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_STRING","db_query",186],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT COUNT(*) FROM {test_people}'",186],")",["T_OBJECT_OPERATOR","->",186],["T_STRING","fetchField",186],"(",")",";",["T_WHITESPACE","\n    ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","assertEqual",187],"(",["T_VARIABLE","$num_records_before",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$num_records_after",187],",",["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'Merge skipped properly.'",187],")",";",["T_WHITESPACE","\n\n    ",187],["T_VARIABLE","$person",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_STRING","db_query",189],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM {test_people} WHERE job = :job'",189],",",["T_WHITESPACE"," ",189],["T_ARRAY","array",189],"(",["T_CONSTANT_ENCAPSED_STRING","':job'",189],["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'Speaker'",189],")",")",["T_OBJECT_OPERATOR","->",189],["T_STRING","fetch",189],"(",")",";",["T_WHITESPACE","\n    ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","assertEqual",190],"(",["T_VARIABLE","$person",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","name",190],",",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'Meredith'",190],",",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'Name skipped correctly.'",190],")",";",["T_WHITESPACE","\n    ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","assertEqual",191],"(",["T_VARIABLE","$person",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","age",191],",",["T_WHITESPACE"," ",191],["T_LNUMBER","30",191],",",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'Age skipped correctly.'",191],")",";",["T_WHITESPACE","\n    ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","assertEqual",192],"(",["T_VARIABLE","$person",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","job",192],",",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'Speaker'",192],",",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'Job skipped correctly.'",192],")",";",["T_WHITESPACE","\n  ",192],"}",["T_WHITESPACE","\n\n  ",193],["T_DOC_COMMENT","\/**\n   * Tests that an invalid merge query throws an exception.\n   *\/",195],["T_WHITESPACE","\n  ",197],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","testInvalidMerge",198],"(",")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n    ",198],["T_TRY","try",199],["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n      ",199],["T_COMMENT","\/\/ This query will fail because there is no key field specified.\n",200],["T_WHITESPACE","      ",201],["T_COMMENT","\/\/ Normally it would throw an exception but we are suppressing it with\n",201],["T_WHITESPACE","      ",202],["T_COMMENT","\/\/ the throw_exception option.\n",202],["T_WHITESPACE","      ",203],["T_VARIABLE","$options",203],"[",["T_CONSTANT_ENCAPSED_STRING","'throw_exception'",203],"]",["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_STRING","FALSE",203],";",["T_WHITESPACE","\n      ",203],["T_STRING","db_merge",204],"(",["T_CONSTANT_ENCAPSED_STRING","'test_people'",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$options",204],")",["T_WHITESPACE","\n        ",204],["T_OBJECT_OPERATOR","->",205],["T_STRING","fields",205],"(",["T_ARRAY","array",205],"(",["T_WHITESPACE","\n          ",205],["T_CONSTANT_ENCAPSED_STRING","'age'",206],["T_WHITESPACE"," ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_LNUMBER","31",206],",",["T_WHITESPACE","\n          ",206],["T_CONSTANT_ENCAPSED_STRING","'name'",207],["T_WHITESPACE"," ",207],["T_DOUBLE_ARROW","=>",207],["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'Tiffany'",207],",",["T_WHITESPACE","\n        ",207],")",")",["T_WHITESPACE","\n        ",208],["T_OBJECT_OPERATOR","->",209],["T_STRING","execute",209],"(",")",";",["T_WHITESPACE","\n      ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","pass",210],"(",["T_CONSTANT_ENCAPSED_STRING","'$options[\\'throw_exception\\'] is FALSE, no InvalidMergeQueryException thrown.'",210],")",";",["T_WHITESPACE","\n    ",210],"}",["T_WHITESPACE","\n    ",211],["T_CATCH","catch",212],["T_WHITESPACE"," ",212],"(",["T_STRING","InvalidMergeQueryException",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$e",212],")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n      ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","fail",213],"(",["T_CONSTANT_ENCAPSED_STRING","'$options[\\'throw_exception\\'] is FALSE, but InvalidMergeQueryException thrown for invalid query.'",213],")",";",["T_WHITESPACE","\n      ",213],["T_RETURN","return",214],";",["T_WHITESPACE","\n    ",214],"}",["T_WHITESPACE","\n\n    ",215],["T_TRY","try",217],["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n      ",217],["T_COMMENT","\/\/ This query will fail because there is no key field specified.\n",218],["T_WHITESPACE","      ",219],["T_STRING","db_merge",219],"(",["T_CONSTANT_ENCAPSED_STRING","'test_people'",219],")",["T_WHITESPACE","\n        ",219],["T_OBJECT_OPERATOR","->",220],["T_STRING","fields",220],"(",["T_ARRAY","array",220],"(",["T_WHITESPACE","\n          ",220],["T_CONSTANT_ENCAPSED_STRING","'age'",221],["T_WHITESPACE"," ",221],["T_DOUBLE_ARROW","=>",221],["T_WHITESPACE"," ",221],["T_LNUMBER","31",221],",",["T_WHITESPACE","\n          ",221],["T_CONSTANT_ENCAPSED_STRING","'name'",222],["T_WHITESPACE"," ",222],["T_DOUBLE_ARROW","=>",222],["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","'Tiffany'",222],",",["T_WHITESPACE","\n        ",222],")",")",["T_WHITESPACE","\n        ",223],["T_OBJECT_OPERATOR","->",224],["T_STRING","execute",224],"(",")",";",["T_WHITESPACE","\n    ",224],"}",["T_WHITESPACE","\n    ",225],["T_CATCH","catch",226],["T_WHITESPACE"," ",226],"(",["T_STRING","InvalidMergeQueryException",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$e",226],")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n      ",226],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","pass",227],"(",["T_CONSTANT_ENCAPSED_STRING","'InvalidMergeQueryException thrown for invalid query.'",227],")",";",["T_WHITESPACE","\n      ",227],["T_RETURN","return",228],";",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n    ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","fail",230],"(",["T_CONSTANT_ENCAPSED_STRING","'No InvalidMergeQueryException thrown'",230],")",";",["T_WHITESPACE","\n  ",230],"}",["T_WHITESPACE","\n\n",231],"}",["T_WHITESPACE","\n",233]]