[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Entity",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Unicode",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","language",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ConfigurableLanguage",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","field",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FieldConfig",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","field",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","FieldStorageConfig",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Base class for language-aware entity tests.\n *\/",10],["T_WHITESPACE","\n",12],["T_ABSTRACT","abstract",13],["T_WHITESPACE"," ",13],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","EntityLanguageTestBase",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","EntityKernelTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * The language manager service.\n   *\n   * @var \\Drupal\\Core\\Language\\LanguageManagerInterface\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$languageManager",20],";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * The available language codes.\n   *\n   * @var array\n   *\/",22],["T_WHITESPACE","\n  ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$langcodes",27],";",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * The test field name.\n   *\n   * @var string\n   *\/",29],["T_WHITESPACE","\n  ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$fieldName",34],";",["T_WHITESPACE","\n\n  ",34],["T_DOC_COMMENT","\/**\n   * The untranslatable test field name.\n   *\n   * @var string\n   *\/",36],["T_WHITESPACE","\n  ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$untranslatableFieldName",41],";",["T_WHITESPACE","\n\n  ",41],["T_PUBLIC","public",43],["T_WHITESPACE"," ",43],["T_STATIC","static",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$modules",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_ARRAY","array",43],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",43],",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",43],")",";",["T_WHITESPACE","\n\n  ",43],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","setUp",45],"(",")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n    ",45],["T_STRING","parent",46],["T_DOUBLE_COLON","::",46],["T_STRING","setUp",46],"(",")",";",["T_WHITESPACE","\n\n    ",46],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","languageManager",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","container",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","get",48],"(",["T_CONSTANT_ENCAPSED_STRING","'language_manager'",48],")",";",["T_WHITESPACE","\n\n    ",48],["T_FOREACH","foreach",50],["T_WHITESPACE"," ",50],"(",["T_STRING","entity_test_entity_types",50],"(",")",["T_WHITESPACE"," ",50],["T_AS","as",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$entity_type_id",50],")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n      ",50],["T_COMMENT","\/\/ The entity_test schema is installed by the parent.\n",51],["T_WHITESPACE","      ",52],["T_IF","if",52],["T_WHITESPACE"," ",52],"(",["T_VARIABLE","$entity_type_id",52],["T_WHITESPACE"," ",52],["T_IS_NOT_EQUAL","!=",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","installEntitySchema",53],"(",["T_VARIABLE","$entity_type_id",53],")",";",["T_WHITESPACE","\n      ",53],"}",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n\n    ",55],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","installConfig",57],"(",["T_ARRAY","array",57],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",57],")",")",";",["T_WHITESPACE","\n\n    ",57],["T_COMMENT","\/\/ Create the test field.\n",59],["T_WHITESPACE","    ",60],["T_STRING","module_load_install",60],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",60],")",";",["T_WHITESPACE","\n    ",60],["T_STRING","entity_test_install",61],"(",")",";",["T_WHITESPACE","\n\n    ",61],["T_COMMENT","\/\/ Enable translations for the test entity type.\n",63],["T_WHITESPACE","    ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","state",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","set",64],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test.translation'",64],",",["T_WHITESPACE"," ",64],["T_STRING","TRUE",64],")",";",["T_WHITESPACE","\n\n    ",64],["T_COMMENT","\/\/ Create a translatable test field.\n",66],["T_WHITESPACE","    ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","fieldName",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","Unicode",67],["T_DOUBLE_COLON","::",67],["T_STRING","strtolower",67],"(",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","randomMachineName",67],"(",")",["T_WHITESPACE"," ",67],".",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'_field_name'",67],")",";",["T_WHITESPACE","\n\n    ",67],["T_COMMENT","\/\/ Create an untranslatable test field.\n",69],["T_WHITESPACE","    ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","untranslatableFieldName",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","Unicode",70],["T_DOUBLE_COLON","::",70],["T_STRING","strtolower",70],"(",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","randomMachineName",70],"(",")",["T_WHITESPACE"," ",70],".",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'_field_name'",70],")",";",["T_WHITESPACE","\n\n    ",70],["T_COMMENT","\/\/ Create field fields in all entity variations.\n",72],["T_WHITESPACE","    ",73],["T_FOREACH","foreach",73],["T_WHITESPACE"," ",73],"(",["T_STRING","entity_test_entity_types",73],"(",")",["T_WHITESPACE"," ",73],["T_AS","as",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$entity_type",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n      ",73],["T_STRING","FieldStorageConfig",74],["T_DOUBLE_COLON","::",74],["T_STRING","create",74],"(",["T_ARRAY","array",74],"(",["T_WHITESPACE","\n        ",74],["T_CONSTANT_ENCAPSED_STRING","'field_name'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","fieldName",75],",",["T_WHITESPACE","\n        ",75],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$entity_type",76],",",["T_WHITESPACE","\n        ",76],["T_CONSTANT_ENCAPSED_STRING","'type'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'text'",77],",",["T_WHITESPACE","\n        ",77],["T_CONSTANT_ENCAPSED_STRING","'cardinality'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_LNUMBER","4",78],",",["T_WHITESPACE","\n      ",78],")",")",["T_OBJECT_OPERATOR","->",79],["T_STRING","save",79],"(",")",";",["T_WHITESPACE","\n      ",79],["T_STRING","FieldConfig",80],["T_DOUBLE_COLON","::",80],["T_STRING","create",80],"(","[",["T_WHITESPACE","\n        ",80],["T_CONSTANT_ENCAPSED_STRING","'field_name'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","fieldName",81],",",["T_WHITESPACE","\n        ",81],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$entity_type",82],",",["T_WHITESPACE","\n        ",82],["T_CONSTANT_ENCAPSED_STRING","'bundle'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$entity_type",83],",",["T_WHITESPACE","\n        ",83],["T_CONSTANT_ENCAPSED_STRING","'translatable'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_STRING","TRUE",84],",",["T_WHITESPACE","\n      ",84],"]",")",["T_OBJECT_OPERATOR","->",85],["T_STRING","save",85],"(",")",";",["T_WHITESPACE","\n\n      ",85],["T_STRING","FieldStorageConfig",87],["T_DOUBLE_COLON","::",87],["T_STRING","create",87],"(",["T_ARRAY","array",87],"(",["T_WHITESPACE","\n        ",87],["T_CONSTANT_ENCAPSED_STRING","'field_name'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","untranslatableFieldName",88],",",["T_WHITESPACE","\n        ",88],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$entity_type",89],",",["T_WHITESPACE","\n        ",89],["T_CONSTANT_ENCAPSED_STRING","'type'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'text'",90],",",["T_WHITESPACE","\n        ",90],["T_CONSTANT_ENCAPSED_STRING","'cardinality'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_LNUMBER","4",91],",",["T_WHITESPACE","\n      ",91],")",")",["T_OBJECT_OPERATOR","->",92],["T_STRING","save",92],"(",")",";",["T_WHITESPACE","\n      ",92],["T_STRING","FieldConfig",93],["T_DOUBLE_COLON","::",93],["T_STRING","create",93],"(","[",["T_WHITESPACE","\n        ",93],["T_CONSTANT_ENCAPSED_STRING","'field_name'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","untranslatableFieldName",94],",",["T_WHITESPACE","\n        ",94],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$entity_type",95],",",["T_WHITESPACE","\n        ",95],["T_CONSTANT_ENCAPSED_STRING","'bundle'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$entity_type",96],",",["T_WHITESPACE","\n        ",96],["T_CONSTANT_ENCAPSED_STRING","'translatable'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_STRING","FALSE",97],",",["T_WHITESPACE","\n      ",97],"]",")",["T_OBJECT_OPERATOR","->",98],["T_STRING","save",98],"(",")",";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n\n    ",99],["T_COMMENT","\/\/ Create the default languages.\n",101],["T_WHITESPACE","    ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","installConfig",102],"(",["T_ARRAY","array",102],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",102],")",")",";",["T_WHITESPACE","\n\n    ",102],["T_COMMENT","\/\/ Create test languages.\n",104],["T_WHITESPACE","    ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","langcodes",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_ARRAY","array",105],"(",")",";",["T_WHITESPACE","\n    ",105],["T_FOR","for",106],["T_WHITESPACE"," ",106],"(",["T_VARIABLE","$i",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_LNUMBER","0",106],";",["T_WHITESPACE"," ",106],["T_VARIABLE","$i",106],["T_WHITESPACE"," ",106],"<",["T_WHITESPACE"," ",106],["T_LNUMBER","3",106],";",["T_WHITESPACE"," ",106],["T_INC","++",106],["T_VARIABLE","$i",106],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n      ",106],["T_VARIABLE","$language",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_STRING","ConfigurableLanguage",107],["T_DOUBLE_COLON","::",107],["T_STRING","create",107],"(",["T_ARRAY","array",107],"(",["T_WHITESPACE","\n        ",107],["T_CONSTANT_ENCAPSED_STRING","'id'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'l'",108],["T_WHITESPACE"," ",108],".",["T_WHITESPACE"," ",108],["T_VARIABLE","$i",108],",",["T_WHITESPACE","\n        ",108],["T_CONSTANT_ENCAPSED_STRING","'label'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","randomString",109],"(",")",",",["T_WHITESPACE","\n        ",109],["T_CONSTANT_ENCAPSED_STRING","'weight'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$i",110],",",["T_WHITESPACE","\n      ",110],")",")",";",["T_WHITESPACE","\n      ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","langcodes",112],"[",["T_VARIABLE","$i",112],"]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$language",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getId",112],"(",")",";",["T_WHITESPACE","\n      ",112],["T_VARIABLE","$language",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","save",113],"(",")",";",["T_WHITESPACE","\n    ",113],"}",["T_WHITESPACE","\n  ",114],"}",["T_WHITESPACE","\n\n  ",115],["T_DOC_COMMENT","\/**\n   * Toggles field storage translatability.\n   *\n   * @param string $entity_type\n   *   The type of the entity fields are attached to.\n   *\/",117],["T_WHITESPACE","\n  ",122],["T_PROTECTED","protected",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","toggleFieldTranslatability",123],"(",["T_VARIABLE","$entity_type",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$bundle",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$fields",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_ARRAY","array",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","fieldName",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","untranslatableFieldName",124],")",";",["T_WHITESPACE","\n    ",124],["T_FOREACH","foreach",125],["T_WHITESPACE"," ",125],"(",["T_VARIABLE","$fields",125],["T_WHITESPACE"," ",125],["T_AS","as",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$field_name",125],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n      ",125],["T_VARIABLE","$field",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_STRING","FieldConfig",126],["T_DOUBLE_COLON","::",126],["T_STRING","loadByName",126],"(",["T_VARIABLE","$entity_type",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$bundle",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$field_name",126],")",";",["T_WHITESPACE","\n      ",126],["T_VARIABLE","$translatable",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],"!",["T_VARIABLE","$field",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","isTranslatable",127],"(",")",";",["T_WHITESPACE","\n      ",127],["T_VARIABLE","$field",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","set",128],"(",["T_CONSTANT_ENCAPSED_STRING","'translatable'",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$translatable",128],")",";",["T_WHITESPACE","\n      ",128],["T_VARIABLE","$field",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","save",129],"(",")",";",["T_WHITESPACE","\n      ",129],["T_VARIABLE","$field",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_STRING","FieldConfig",130],["T_DOUBLE_COLON","::",130],["T_STRING","loadByName",130],"(",["T_VARIABLE","$entity_type",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$bundle",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$field_name",130],")",";",["T_WHITESPACE","\n      ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","assertEqual",131],"(",["T_VARIABLE","$field",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","isTranslatable",131],"(",")",",",["T_WHITESPACE"," ",131],["T_VARIABLE","$translatable",131],",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'Field translatability changed.'",131],")",";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n    ",132],["T_NS_SEPARATOR","\\",133],["T_STRING","Drupal",133],["T_DOUBLE_COLON","::",133],["T_STRING","cache",133],"(",["T_CONSTANT_ENCAPSED_STRING","'entity'",133],")",["T_OBJECT_OPERATOR","->",133],["T_STRING","deleteAll",133],"(",")",";",["T_WHITESPACE","\n  ",133],"}",["T_WHITESPACE","\n\n",134],"}",["T_WHITESPACE","\n",136]]