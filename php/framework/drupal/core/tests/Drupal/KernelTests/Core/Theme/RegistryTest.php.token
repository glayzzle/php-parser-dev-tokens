[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Theme",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Theme",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Registry",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Utility",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ThemeRegistry",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","KernelTests",7],["T_NS_SEPARATOR","\\",7],["T_STRING","KernelTestBase",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Tests the behavior of the ThemeRegistry class.\n *\n * @group Theme\n *\/",9],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","RegistryTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","KernelTestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",16],["T_WHITESPACE","\n  ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_STATIC","static",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$modules",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_ARRAY","array",21],"(",["T_CONSTANT_ENCAPSED_STRING","'theme_test'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'system'",21],")",";",["T_WHITESPACE","\n\n  ",21],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$profile",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'testing'",23],";",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * Tests the behavior of the theme registry class.\n   *\/",25],["T_WHITESPACE","\n  ",27],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","testRaceCondition",28],"(",")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n    ",28],["T_COMMENT","\/\/ The theme registry is not marked as persistable in case we don't have a\n",29],["T_WHITESPACE","    ",30],["T_COMMENT","\/\/ proper request.\n",30],["T_WHITESPACE","    ",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Drupal",31],["T_DOUBLE_COLON","::",31],["T_STRING","request",31],"(",")",["T_OBJECT_OPERATOR","->",31],["T_STRING","setMethod",31],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",31],")",";",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$cid",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'test_theme_registry'",32],";",["T_WHITESPACE","\n\n    ",32],["T_COMMENT","\/\/ Directly instantiate the theme registry, this will cause a base cache\n",34],["T_WHITESPACE","    ",35],["T_COMMENT","\/\/ entry to be written in __construct().\n",35],["T_WHITESPACE","    ",36],["T_VARIABLE","$cache",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Drupal",36],["T_DOUBLE_COLON","::",36],["T_STRING","cache",36],"(",")",";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$lock_backend",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Drupal",37],["T_DOUBLE_COLON","::",37],["T_STRING","lock",37],"(",")",";",["T_WHITESPACE","\n    ",37],["T_VARIABLE","$registry",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_NEW","new",38],["T_WHITESPACE"," ",38],["T_STRING","ThemeRegistry",38],"(",["T_VARIABLE","$cid",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$cache",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$lock_backend",38],",",["T_WHITESPACE"," ",38],["T_ARRAY","array",38],"(",["T_CONSTANT_ENCAPSED_STRING","'theme_registry'",38],")",",",["T_WHITESPACE"," ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","container",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","get",38],"(",["T_CONSTANT_ENCAPSED_STRING","'module_handler'",38],")",["T_OBJECT_OPERATOR","->",38],["T_STRING","isLoaded",38],"(",")",")",";",["T_WHITESPACE","\n\n    ",38],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","assertTrue",40],"(",["T_NS_SEPARATOR","\\",40],["T_STRING","Drupal",40],["T_DOUBLE_COLON","::",40],["T_STRING","cache",40],"(",")",["T_OBJECT_OPERATOR","->",40],["T_STRING","get",40],"(",["T_VARIABLE","$cid",40],")",",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'Cache entry was created.'",40],")",";",["T_WHITESPACE","\n\n    ",40],["T_COMMENT","\/\/ Trigger a cache miss for an offset.\n",42],["T_WHITESPACE","    ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","assertTrue",43],"(",["T_VARIABLE","$registry",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","get",43],"(",["T_CONSTANT_ENCAPSED_STRING","'theme_test_template_test'",43],")",",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'Offset was returned correctly from the theme registry.'",43],")",";",["T_WHITESPACE","\n    ",43],["T_COMMENT","\/\/ This will cause the ThemeRegistry class to write an updated version of\n",44],["T_WHITESPACE","    ",45],["T_COMMENT","\/\/ the cache entry when it is destroyed, usually at the end of the request.\n",45],["T_WHITESPACE","    ",46],["T_COMMENT","\/\/ Before that happens, manually delete the cache entry we created earlier\n",46],["T_WHITESPACE","    ",47],["T_COMMENT","\/\/ so that the new entry is written from scratch.\n",47],["T_WHITESPACE","    ",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Drupal",48],["T_DOUBLE_COLON","::",48],["T_STRING","cache",48],"(",")",["T_OBJECT_OPERATOR","->",48],["T_STRING","delete",48],"(",["T_VARIABLE","$cid",48],")",";",["T_WHITESPACE","\n\n    ",48],["T_COMMENT","\/\/ Destroy the class so that it triggers a cache write for the offset.\n",50],["T_WHITESPACE","    ",51],["T_VARIABLE","$registry",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","destruct",51],"(",")",";",["T_WHITESPACE","\n\n    ",51],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","assertTrue",53],"(",["T_NS_SEPARATOR","\\",53],["T_STRING","Drupal",53],["T_DOUBLE_COLON","::",53],["T_STRING","cache",53],"(",")",["T_OBJECT_OPERATOR","->",53],["T_STRING","get",53],"(",["T_VARIABLE","$cid",53],")",",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'Cache entry was created.'",53],")",";",["T_WHITESPACE","\n\n    ",53],["T_COMMENT","\/\/ Create a new instance of the class. Confirm that both the offset\n",55],["T_WHITESPACE","    ",56],["T_COMMENT","\/\/ requested previously, and one that has not yet been requested are both\n",56],["T_WHITESPACE","    ",57],["T_COMMENT","\/\/ available.\n",57],["T_WHITESPACE","    ",58],["T_VARIABLE","$registry",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_NEW","new",58],["T_WHITESPACE"," ",58],["T_STRING","ThemeRegistry",58],"(",["T_VARIABLE","$cid",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$cache",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$lock_backend",58],",",["T_WHITESPACE"," ",58],["T_ARRAY","array",58],"(",["T_CONSTANT_ENCAPSED_STRING","'theme_registry'",58],")",",",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","container",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","get",58],"(",["T_CONSTANT_ENCAPSED_STRING","'module_handler'",58],")",["T_OBJECT_OPERATOR","->",58],["T_STRING","isLoaded",58],"(",")",")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","assertTrue",59],"(",["T_VARIABLE","$registry",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","get",59],"(",["T_CONSTANT_ENCAPSED_STRING","'theme_test_template_test'",59],")",",",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'Offset was returned correctly from the theme registry'",59],")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertTrue",60],"(",["T_VARIABLE","$registry",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","get",60],"(",["T_CONSTANT_ENCAPSED_STRING","'theme_test_template_test_2'",60],")",",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'Offset was returned correctly from the theme registry'",60],")",";",["T_WHITESPACE","\n  ",60],"}",["T_WHITESPACE","\n\n  ",61],["T_DOC_COMMENT","\/**\n   * Tests the theme registry with multiple subthemes.\n   *\/",63],["T_WHITESPACE","\n  ",65],["T_PUBLIC","public",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","testMultipleSubThemes",66],"(",")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$theme_handler",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_NS_SEPARATOR","\\",67],["T_STRING","Drupal",67],["T_DOUBLE_COLON","::",67],["T_STRING","service",67],"(",["T_CONSTANT_ENCAPSED_STRING","'theme_handler'",67],")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$theme_handler",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","install",68],"(","[",["T_CONSTANT_ENCAPSED_STRING","'test_basetheme'",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'test_subtheme'",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'test_subsubtheme'",68],"]",")",";",["T_WHITESPACE","\n\n    ",68],["T_VARIABLE","$registry_subsub_theme",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_NEW","new",70],["T_WHITESPACE"," ",70],["T_STRING","Registry",70],"(",["T_NS_SEPARATOR","\\",70],["T_STRING","Drupal",70],["T_DOUBLE_COLON","::",70],["T_STRING","root",70],"(",")",",",["T_WHITESPACE"," ",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Drupal",70],["T_DOUBLE_COLON","::",70],["T_STRING","cache",70],"(",")",",",["T_WHITESPACE"," ",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Drupal",70],["T_DOUBLE_COLON","::",70],["T_STRING","lock",70],"(",")",",",["T_WHITESPACE"," ",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Drupal",70],["T_DOUBLE_COLON","::",70],["T_STRING","moduleHandler",70],"(",")",",",["T_WHITESPACE"," ",70],["T_VARIABLE","$theme_handler",70],",",["T_WHITESPACE"," ",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Drupal",70],["T_DOUBLE_COLON","::",70],["T_STRING","service",70],"(",["T_CONSTANT_ENCAPSED_STRING","'theme.initialization'",70],")",",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'test_subsubtheme'",70],")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$registry_subsub_theme",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","setThemeManager",71],"(",["T_NS_SEPARATOR","\\",71],["T_STRING","Drupal",71],["T_DOUBLE_COLON","::",71],["T_STRING","theme",71],"(",")",")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$registry_sub_theme",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_NEW","new",72],["T_WHITESPACE"," ",72],["T_STRING","Registry",72],"(",["T_NS_SEPARATOR","\\",72],["T_STRING","Drupal",72],["T_DOUBLE_COLON","::",72],["T_STRING","root",72],"(",")",",",["T_WHITESPACE"," ",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Drupal",72],["T_DOUBLE_COLON","::",72],["T_STRING","cache",72],"(",")",",",["T_WHITESPACE"," ",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Drupal",72],["T_DOUBLE_COLON","::",72],["T_STRING","lock",72],"(",")",",",["T_WHITESPACE"," ",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Drupal",72],["T_DOUBLE_COLON","::",72],["T_STRING","moduleHandler",72],"(",")",",",["T_WHITESPACE"," ",72],["T_VARIABLE","$theme_handler",72],",",["T_WHITESPACE"," ",72],["T_NS_SEPARATOR","\\",72],["T_STRING","Drupal",72],["T_DOUBLE_COLON","::",72],["T_STRING","service",72],"(",["T_CONSTANT_ENCAPSED_STRING","'theme.initialization'",72],")",",",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'test_subtheme'",72],")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$registry_sub_theme",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","setThemeManager",73],"(",["T_NS_SEPARATOR","\\",73],["T_STRING","Drupal",73],["T_DOUBLE_COLON","::",73],["T_STRING","theme",73],"(",")",")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$registry_base_theme",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_NEW","new",74],["T_WHITESPACE"," ",74],["T_STRING","Registry",74],"(",["T_NS_SEPARATOR","\\",74],["T_STRING","Drupal",74],["T_DOUBLE_COLON","::",74],["T_STRING","root",74],"(",")",",",["T_WHITESPACE"," ",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Drupal",74],["T_DOUBLE_COLON","::",74],["T_STRING","cache",74],"(",")",",",["T_WHITESPACE"," ",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Drupal",74],["T_DOUBLE_COLON","::",74],["T_STRING","lock",74],"(",")",",",["T_WHITESPACE"," ",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Drupal",74],["T_DOUBLE_COLON","::",74],["T_STRING","moduleHandler",74],"(",")",",",["T_WHITESPACE"," ",74],["T_VARIABLE","$theme_handler",74],",",["T_WHITESPACE"," ",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Drupal",74],["T_DOUBLE_COLON","::",74],["T_STRING","service",74],"(",["T_CONSTANT_ENCAPSED_STRING","'theme.initialization'",74],")",",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'test_basetheme'",74],")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$registry_base_theme",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","setThemeManager",75],"(",["T_NS_SEPARATOR","\\",75],["T_STRING","Drupal",75],["T_DOUBLE_COLON","::",75],["T_STRING","theme",75],"(",")",")",";",["T_WHITESPACE","\n\n    ",75],["T_VARIABLE","$preprocess_functions",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$registry_subsub_theme",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","get",77],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","'theme_test_template_test'",77],"]","[",["T_CONSTANT_ENCAPSED_STRING","'preprocess functions'",77],"]",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","assertIdentical",78],"(","[",["T_WHITESPACE","\n      ",78],["T_CONSTANT_ENCAPSED_STRING","'template_preprocess'",79],",",["T_WHITESPACE","\n      ",79],["T_CONSTANT_ENCAPSED_STRING","'test_basetheme_preprocess_theme_test_template_test'",80],",",["T_WHITESPACE","\n      ",80],["T_CONSTANT_ENCAPSED_STRING","'test_subtheme_preprocess_theme_test_template_test'",81],",",["T_WHITESPACE","\n      ",81],["T_CONSTANT_ENCAPSED_STRING","'test_subsubtheme_preprocess_theme_test_template_test'",82],",",["T_WHITESPACE","\n    ",82],"]",",",["T_WHITESPACE"," ",83],["T_VARIABLE","$preprocess_functions",83],")",";",["T_WHITESPACE","\n\n    ",83],["T_VARIABLE","$preprocess_functions",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$registry_sub_theme",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","get",85],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","'theme_test_template_test'",85],"]","[",["T_CONSTANT_ENCAPSED_STRING","'preprocess functions'",85],"]",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertIdentical",86],"(","[",["T_WHITESPACE","\n      ",86],["T_CONSTANT_ENCAPSED_STRING","'template_preprocess'",87],",",["T_WHITESPACE","\n      ",87],["T_CONSTANT_ENCAPSED_STRING","'test_basetheme_preprocess_theme_test_template_test'",88],",",["T_WHITESPACE","\n      ",88],["T_CONSTANT_ENCAPSED_STRING","'test_subtheme_preprocess_theme_test_template_test'",89],",",["T_WHITESPACE","\n    ",89],"]",",",["T_WHITESPACE"," ",90],["T_VARIABLE","$preprocess_functions",90],")",";",["T_WHITESPACE","\n\n    ",90],["T_VARIABLE","$preprocess_functions",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$registry_base_theme",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","get",92],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","'theme_test_template_test'",92],"]","[",["T_CONSTANT_ENCAPSED_STRING","'preprocess functions'",92],"]",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertIdentical",93],"(","[",["T_WHITESPACE","\n      ",93],["T_CONSTANT_ENCAPSED_STRING","'template_preprocess'",94],",",["T_WHITESPACE","\n      ",94],["T_CONSTANT_ENCAPSED_STRING","'test_basetheme_preprocess_theme_test_template_test'",95],",",["T_WHITESPACE","\n    ",95],"]",",",["T_WHITESPACE"," ",96],["T_VARIABLE","$preprocess_functions",96],")",";",["T_WHITESPACE","\n\n    ",96],["T_VARIABLE","$preprocess_functions",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$registry_base_theme",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","get",98],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","'theme_test_function_suggestions'",98],"]","[",["T_CONSTANT_ENCAPSED_STRING","'preprocess functions'",98],"]",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","assertIdentical",99],"(","[",["T_WHITESPACE","\n       ",99],["T_CONSTANT_ENCAPSED_STRING","'template_preprocess_theme_test_function_suggestions'",100],",",["T_WHITESPACE","\n       ",100],["T_CONSTANT_ENCAPSED_STRING","'test_basetheme_preprocess_theme_test_function_suggestions'",101],",",["T_WHITESPACE","\n    ",101],"]",",",["T_WHITESPACE"," ",102],["T_VARIABLE","$preprocess_functions",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","\"Theme functions don't have template_preprocess but do have template_preprocess_HOOK\"",102],")",";",["T_WHITESPACE","\n  ",102],"}",["T_WHITESPACE","\n\n  ",103],["T_DOC_COMMENT","\/**\n   * Tests the theme registry with suggestions.\n   *\/",105],["T_WHITESPACE","\n  ",107],["T_PUBLIC","public",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","testSuggestionPreprocessFunctions",108],"(",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$theme_handler",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_NS_SEPARATOR","\\",109],["T_STRING","Drupal",109],["T_DOUBLE_COLON","::",109],["T_STRING","service",109],"(",["T_CONSTANT_ENCAPSED_STRING","'theme_handler'",109],")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$theme_handler",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","install",110],"(","[",["T_CONSTANT_ENCAPSED_STRING","'test_theme'",110],"]",")",";",["T_WHITESPACE","\n\n    ",110],["T_VARIABLE","$registry_theme",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_NEW","new",112],["T_WHITESPACE"," ",112],["T_STRING","Registry",112],"(",["T_NS_SEPARATOR","\\",112],["T_STRING","Drupal",112],["T_DOUBLE_COLON","::",112],["T_STRING","root",112],"(",")",",",["T_WHITESPACE"," ",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Drupal",112],["T_DOUBLE_COLON","::",112],["T_STRING","cache",112],"(",")",",",["T_WHITESPACE"," ",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Drupal",112],["T_DOUBLE_COLON","::",112],["T_STRING","lock",112],"(",")",",",["T_WHITESPACE"," ",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Drupal",112],["T_DOUBLE_COLON","::",112],["T_STRING","moduleHandler",112],"(",")",",",["T_WHITESPACE"," ",112],["T_VARIABLE","$theme_handler",112],",",["T_WHITESPACE"," ",112],["T_NS_SEPARATOR","\\",112],["T_STRING","Drupal",112],["T_DOUBLE_COLON","::",112],["T_STRING","service",112],"(",["T_CONSTANT_ENCAPSED_STRING","'theme.initialization'",112],")",",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'test_theme'",112],")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$registry_theme",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","setThemeManager",113],"(",["T_NS_SEPARATOR","\\",113],["T_STRING","Drupal",113],["T_DOUBLE_COLON","::",113],["T_STRING","theme",113],"(",")",")",";",["T_WHITESPACE","\n\n    ",113],["T_VARIABLE","$suggestions",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],"[",["T_CONSTANT_ENCAPSED_STRING","'__kitten'",115],",",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'__flamingo'",115],"]",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$expected_preprocess_functions",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],"[",["T_WHITESPACE","\n      ",116],["T_CONSTANT_ENCAPSED_STRING","'template_preprocess'",117],",",["T_WHITESPACE","\n      ",117],["T_CONSTANT_ENCAPSED_STRING","'theme_test_preprocess_theme_test_preprocess_suggestions'",118],",",["T_WHITESPACE","\n    ",118],"]",";",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$suggestion",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","''",120],";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$hook",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'theme_test_preprocess_suggestions'",121],";",["T_WHITESPACE","\n    ",121],["T_DO","do",122],["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n      ",122],["T_VARIABLE","$hook",123],["T_WHITESPACE"," ",123],["T_CONCAT_EQUAL",".=",123],["T_WHITESPACE"," ",123],"\"",["T_VARIABLE","$suggestion",123],"\"",";",["T_WHITESPACE","\n      ",123],["T_VARIABLE","$expected_preprocess_functions",124],"[","]",["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],"\"",["T_ENCAPSED_AND_WHITESPACE","test_theme_preprocess_",124],["T_VARIABLE","$hook",124],"\"",";",["T_WHITESPACE","\n      ",124],["T_VARIABLE","$preprocess_functions",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$registry_theme",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","get",125],"(",")","[",["T_VARIABLE","$hook",125],"]","[",["T_CONSTANT_ENCAPSED_STRING","'preprocess functions'",125],"]",";",["T_WHITESPACE","\n      ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","assertIdentical",126],"(",["T_VARIABLE","$expected_preprocess_functions",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$preprocess_functions",126],",",["T_WHITESPACE"," ",126],"\"",["T_VARIABLE","$hook",126],["T_ENCAPSED_AND_WHITESPACE"," has correct preprocess functions.",126],"\"",")",";",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE"," ",127],["T_WHILE","while",127],["T_WHITESPACE"," ",127],"(",["T_VARIABLE","$suggestion",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_STRING","array_shift",127],"(",["T_VARIABLE","$suggestions",127],")",")",";",["T_WHITESPACE","\n\n    ",127],["T_VARIABLE","$expected_preprocess_functions",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],"[",["T_WHITESPACE","\n      ",129],["T_CONSTANT_ENCAPSED_STRING","'template_preprocess'",130],",",["T_WHITESPACE","\n      ",130],["T_CONSTANT_ENCAPSED_STRING","'theme_test_preprocess_theme_test_preprocess_suggestions'",131],",",["T_WHITESPACE","\n      ",131],["T_CONSTANT_ENCAPSED_STRING","'test_theme_preprocess_theme_test_preprocess_suggestions'",132],",",["T_WHITESPACE","\n      ",132],["T_CONSTANT_ENCAPSED_STRING","'test_theme_preprocess_theme_test_preprocess_suggestions__kitten'",133],",",["T_WHITESPACE","\n    ",133],"]",";",["T_WHITESPACE","\n\n    ",134],["T_VARIABLE","$preprocess_functions",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$registry_theme",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","get",136],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","'theme_test_preprocess_suggestions__kitten__meerkat'",136],"]","[",["T_CONSTANT_ENCAPSED_STRING","'preprocess functions'",136],"]",";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","assertIdentical",137],"(",["T_VARIABLE","$expected_preprocess_functions",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$preprocess_functions",137],",",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'Suggestion implemented as a function correctly inherits preprocess functions.'",137],")",";",["T_WHITESPACE","\n\n    ",137],["T_VARIABLE","$preprocess_functions",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$registry_theme",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","get",139],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","'theme_test_preprocess_suggestions__kitten__bearcat'",139],"]","[",["T_CONSTANT_ENCAPSED_STRING","'preprocess functions'",139],"]",";",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","assertIdentical",140],"(",["T_VARIABLE","$expected_preprocess_functions",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$preprocess_functions",140],",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'Suggestion implemented as a template correctly inherits preprocess functions.'",140],")",";",["T_WHITESPACE","\n\n    ",140],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","assertTrue",142],"(",["T_ISSET","isset",142],"(",["T_VARIABLE","$registry_theme",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","get",142],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","'theme_test_preprocess_suggestions__kitten__meerkat__tarsier__moose'",142],"]",")",",",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'Preprocess function with an unimplemented lower-level suggestion is added to the registry.'",142],")",";",["T_WHITESPACE","\n  ",142],"}",["T_WHITESPACE","\n\n  ",143],["T_DOC_COMMENT","\/**\n   * Tests that the theme registry can be altered by themes.\n   *\/",145],["T_WHITESPACE","\n  ",147],["T_PUBLIC","public",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","testThemeRegistryAlterByTheme",148],"(",")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n\n    ",148],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Extension\\ThemeHandlerInterface $theme_handler *\/",150],["T_WHITESPACE","\n    ",150],["T_VARIABLE","$theme_handler",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_NS_SEPARATOR","\\",151],["T_STRING","Drupal",151],["T_DOUBLE_COLON","::",151],["T_STRING","service",151],"(",["T_CONSTANT_ENCAPSED_STRING","'theme_handler'",151],")",";",["T_WHITESPACE","\n    ",151],["T_VARIABLE","$theme_handler",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","install",152],"(","[",["T_CONSTANT_ENCAPSED_STRING","'test_theme'",152],"]",")",";",["T_WHITESPACE","\n    ",152],["T_VARIABLE","$theme_handler",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","setDefault",153],"(",["T_CONSTANT_ENCAPSED_STRING","'test_theme'",153],")",";",["T_WHITESPACE","\n\n    ",153],["T_VARIABLE","$registry",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_NEW","new",155],["T_WHITESPACE"," ",155],["T_STRING","Registry",155],"(",["T_NS_SEPARATOR","\\",155],["T_STRING","Drupal",155],["T_DOUBLE_COLON","::",155],["T_STRING","root",155],"(",")",",",["T_WHITESPACE"," ",155],["T_NS_SEPARATOR","\\",155],["T_STRING","Drupal",155],["T_DOUBLE_COLON","::",155],["T_STRING","cache",155],"(",")",",",["T_WHITESPACE"," ",155],["T_NS_SEPARATOR","\\",155],["T_STRING","Drupal",155],["T_DOUBLE_COLON","::",155],["T_STRING","lock",155],"(",")",",",["T_WHITESPACE"," ",155],["T_NS_SEPARATOR","\\",155],["T_STRING","Drupal",155],["T_DOUBLE_COLON","::",155],["T_STRING","moduleHandler",155],"(",")",",",["T_WHITESPACE"," ",155],["T_VARIABLE","$theme_handler",155],",",["T_WHITESPACE"," ",155],["T_NS_SEPARATOR","\\",155],["T_STRING","Drupal",155],["T_DOUBLE_COLON","::",155],["T_STRING","service",155],"(",["T_CONSTANT_ENCAPSED_STRING","'theme.initialization'",155],")",",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'test_theme'",155],")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$registry",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","setThemeManager",156],"(",["T_NS_SEPARATOR","\\",156],["T_STRING","Drupal",156],["T_DOUBLE_COLON","::",156],["T_STRING","theme",156],"(",")",")",";",["T_WHITESPACE","\n    ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","assertEqual",157],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$registry",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","get",157],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","'theme_test_template_test'",157],"]","[",["T_CONSTANT_ENCAPSED_STRING","'variables'",157],"]","[",["T_CONSTANT_ENCAPSED_STRING","'additional'",157],"]",")",";",["T_WHITESPACE","\n  ",157],"}",["T_WHITESPACE","\n\n",158],"}",["T_WHITESPACE","\n",160]]