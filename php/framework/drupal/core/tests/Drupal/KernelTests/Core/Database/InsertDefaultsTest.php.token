[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Database",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Database",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Query",5],["T_NS_SEPARATOR","\\",5],["T_STRING","NoFieldsException",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests the Insert query builder with default values.\n *\n * @group Database\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","InsertDefaultsTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","DatabaseTestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * Tests that we can run a query that uses default values for everything.\n   *\/",14],["T_WHITESPACE","\n  ",16],["T_FUNCTION","function",17],["T_WHITESPACE"," ",17],["T_STRING","testDefaultInsert",17],"(",")",["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n    ",17],["T_VARIABLE","$query",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_STRING","db_insert",18],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",18],")",["T_OBJECT_OPERATOR","->",18],["T_STRING","useDefaults",18],"(",["T_ARRAY","array",18],"(",["T_CONSTANT_ENCAPSED_STRING","'job'",18],")",")",";",["T_WHITESPACE","\n    ",18],["T_VARIABLE","$id",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_VARIABLE","$query",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","execute",19],"(",")",";",["T_WHITESPACE","\n\n    ",19],["T_VARIABLE","$schema",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_STRING","drupal_get_module_schema",21],"(",["T_CONSTANT_ENCAPSED_STRING","'database_test'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'test'",21],")",";",["T_WHITESPACE","\n\n    ",21],["T_VARIABLE","$job",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_STRING","db_query",23],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT job FROM {test} WHERE id = :id'",23],",",["T_WHITESPACE"," ",23],["T_ARRAY","array",23],"(",["T_CONSTANT_ENCAPSED_STRING","':id'",23],["T_WHITESPACE"," ",23],["T_DOUBLE_ARROW","=>",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$id",23],")",")",["T_OBJECT_OPERATOR","->",23],["T_STRING","fetchField",23],"(",")",";",["T_WHITESPACE","\n    ",23],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","assertEqual",24],"(",["T_VARIABLE","$job",24],",",["T_WHITESPACE"," ",24],["T_VARIABLE","$schema",24],"[",["T_CONSTANT_ENCAPSED_STRING","'fields'",24],"]","[",["T_CONSTANT_ENCAPSED_STRING","'job'",24],"]","[",["T_CONSTANT_ENCAPSED_STRING","'default'",24],"]",",",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'Default field value is set.'",24],")",";",["T_WHITESPACE","\n  ",24],"}",["T_WHITESPACE","\n\n  ",25],["T_DOC_COMMENT","\/**\n   * Tests that no action will be preformed if no fields are specified.\n   *\/",27],["T_WHITESPACE","\n  ",29],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","testDefaultEmptyInsert",30],"(",")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$num_records_before",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_INT_CAST","(int)",31],["T_WHITESPACE"," ",31],["T_STRING","db_query",31],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT COUNT(*) FROM {test}'",31],")",["T_OBJECT_OPERATOR","->",31],["T_STRING","fetchField",31],"(",")",";",["T_WHITESPACE","\n\n    ",31],["T_TRY","try",33],["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n      ",33],["T_STRING","db_insert",34],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",34],")",["T_OBJECT_OPERATOR","->",34],["T_STRING","execute",34],"(",")",";",["T_WHITESPACE","\n      ",34],["T_COMMENT","\/\/ This is only executed if no exception has been thrown.\n",35],["T_WHITESPACE","      ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","fail",36],"(",["T_CONSTANT_ENCAPSED_STRING","'Expected exception NoFieldsException has not been thrown.'",36],")",";",["T_WHITESPACE","\n    ",36],"}",["T_WHITESPACE","\n    ",37],["T_CATCH","catch",38],["T_WHITESPACE"," ",38],"(",["T_STRING","NoFieldsException",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$e",38],")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n      ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","pass",39],"(",["T_CONSTANT_ENCAPSED_STRING","'Expected exception NoFieldsException has been thrown.'",39],")",";",["T_WHITESPACE","\n    ",39],"}",["T_WHITESPACE","\n\n    ",40],["T_VARIABLE","$num_records_after",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_INT_CAST","(int)",42],["T_WHITESPACE"," ",42],["T_STRING","db_query",42],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT COUNT(*) FROM {test}'",42],")",["T_OBJECT_OPERATOR","->",42],["T_STRING","fetchField",42],"(",")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","assertIdentical",43],"(",["T_VARIABLE","$num_records_before",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$num_records_after",43],",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'Do nothing as no fields are specified.'",43],")",";",["T_WHITESPACE","\n  ",43],"}",["T_WHITESPACE","\n\n  ",44],["T_DOC_COMMENT","\/**\n   * Tests that we can insert fields with values and defaults in the same query.\n   *\/",46],["T_WHITESPACE","\n  ",48],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","testDefaultInsertWithFields",49],"(",")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$query",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","db_insert",50],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",50],")",["T_WHITESPACE","\n      ",50],["T_OBJECT_OPERATOR","->",51],["T_STRING","fields",51],"(",["T_ARRAY","array",51],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'Bob'",51],")",")",["T_WHITESPACE","\n      ",51],["T_OBJECT_OPERATOR","->",52],["T_STRING","useDefaults",52],"(",["T_ARRAY","array",52],"(",["T_CONSTANT_ENCAPSED_STRING","'job'",52],")",")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$id",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$query",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","execute",53],"(",")",";",["T_WHITESPACE","\n\n    ",53],["T_VARIABLE","$schema",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_STRING","drupal_get_module_schema",55],"(",["T_CONSTANT_ENCAPSED_STRING","'database_test'",55],",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'test'",55],")",";",["T_WHITESPACE","\n\n    ",55],["T_VARIABLE","$job",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","db_query",57],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT job FROM {test} WHERE id = :id'",57],",",["T_WHITESPACE"," ",57],["T_ARRAY","array",57],"(",["T_CONSTANT_ENCAPSED_STRING","':id'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$id",57],")",")",["T_OBJECT_OPERATOR","->",57],["T_STRING","fetchField",57],"(",")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","assertEqual",58],"(",["T_VARIABLE","$job",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$schema",58],"[",["T_CONSTANT_ENCAPSED_STRING","'fields'",58],"]","[",["T_CONSTANT_ENCAPSED_STRING","'job'",58],"]","[",["T_CONSTANT_ENCAPSED_STRING","'default'",58],"]",",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'Default field value is set.'",58],")",";",["T_WHITESPACE","\n  ",58],"}",["T_WHITESPACE","\n\n",59],"}",["T_WHITESPACE","\n",61]]