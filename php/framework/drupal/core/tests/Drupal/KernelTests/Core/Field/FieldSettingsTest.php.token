[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Field",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Field",5],["T_NS_SEPARATOR","\\",5],["T_STRING","BaseFieldDefinition",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","field",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FieldConfig",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","field",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FieldStorageConfig",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","KernelTests",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","EntityKernelTestBase",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Tests field settings methods on field definition structures.\n *\n * @group Field\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","FieldSettingsTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","EntityKernelTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_STATIC","static",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$modules",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_ARRAY","array",22],"(",["T_CONSTANT_ENCAPSED_STRING","'field'",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'field_test'",22],")",";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * @covers \\Drupal\\Core\\Field\\BaseFieldDefinition::getSettings\n   * @covers \\Drupal\\Core\\Field\\BaseFieldDefinition::setSettings\n   *\/",24],["T_WHITESPACE","\n  ",27],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","testBaseFieldSettings",28],"(",")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n    ",28],["T_VARIABLE","$base_field",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_STRING","BaseFieldDefinition",29],["T_DOUBLE_COLON","::",29],["T_STRING","create",29],"(",["T_CONSTANT_ENCAPSED_STRING","'test_field'",29],")",";",["T_WHITESPACE","\n\n    ",29],["T_COMMENT","\/\/ Check that the default settings have been populated.\n",31],["T_WHITESPACE","    ",32],["T_VARIABLE","$expected_settings",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],"[",["T_WHITESPACE","\n      ",32],["T_CONSTANT_ENCAPSED_STRING","'test_field_storage_setting'",33],["T_WHITESPACE"," ",33],["T_DOUBLE_ARROW","=>",33],["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'dummy test string'",33],",",["T_WHITESPACE","\n      ",33],["T_CONSTANT_ENCAPSED_STRING","'changeable'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'a changeable field storage setting'",34],",",["T_WHITESPACE","\n      ",34],["T_CONSTANT_ENCAPSED_STRING","'unchangeable'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'an unchangeable field storage setting'",35],",",["T_WHITESPACE","\n      ",35],["T_CONSTANT_ENCAPSED_STRING","'translatable_storage_setting'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'a translatable field storage setting'",36],",",["T_WHITESPACE","\n      ",36],["T_CONSTANT_ENCAPSED_STRING","'test_field_setting'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'dummy test string'",37],",",["T_WHITESPACE","\n      ",37],["T_CONSTANT_ENCAPSED_STRING","'translatable_field_setting'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'a translatable field setting'",38],",",["T_WHITESPACE","\n    ",38],"]",";",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","assertEqual",40],"(",["T_VARIABLE","$base_field",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","getSettings",40],"(",")",",",["T_WHITESPACE"," ",40],["T_VARIABLE","$expected_settings",40],")",";",["T_WHITESPACE","\n\n    ",40],["T_COMMENT","\/\/ Change one single setting using setSettings(), and check that the other\n",42],["T_WHITESPACE","    ",43],["T_COMMENT","\/\/ expected settings are still present.\n",43],["T_WHITESPACE","    ",44],["T_VARIABLE","$expected_settings",44],"[",["T_CONSTANT_ENCAPSED_STRING","'test_field_setting'",44],"]",["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'another test string'",44],";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$base_field",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","setSettings",45],"(","[",["T_CONSTANT_ENCAPSED_STRING","'test_field_setting'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$expected_settings",45],"[",["T_CONSTANT_ENCAPSED_STRING","'test_field_setting'",45],"]","]",")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","assertEqual",46],"(",["T_VARIABLE","$base_field",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getSettings",46],"(",")",",",["T_WHITESPACE"," ",46],["T_VARIABLE","$expected_settings",46],")",";",["T_WHITESPACE","\n  ",46],"}",["T_WHITESPACE","\n\n  ",47],["T_DOC_COMMENT","\/**\n   * @covers \\Drupal\\field\\Entity\\FieldStorageConfig::getSettings\n   * @covers \\Drupal\\field\\Entity\\FieldStorageConfig::setSettings\n   *\/",49],["T_WHITESPACE","\n  ",52],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","testConfigurableFieldStorageSettings",53],"(",")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$field_storage",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","FieldStorageConfig",54],["T_DOUBLE_COLON","::",54],["T_STRING","create",54],"(","[",["T_WHITESPACE","\n      ",54],["T_CONSTANT_ENCAPSED_STRING","'field_name'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'test_field'",55],",",["T_WHITESPACE","\n      ",55],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",56],",",["T_WHITESPACE","\n      ",56],["T_CONSTANT_ENCAPSED_STRING","'type'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'test_field'",57],["T_WHITESPACE","\n    ",57],"]",")",";",["T_WHITESPACE","\n\n    ",58],["T_COMMENT","\/\/ Check that the default settings have been populated.\n",60],["T_WHITESPACE","    ",61],["T_VARIABLE","$expected_settings",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],"[",["T_WHITESPACE","\n      ",61],["T_CONSTANT_ENCAPSED_STRING","'test_field_storage_setting'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'dummy test string'",62],",",["T_WHITESPACE","\n      ",62],["T_CONSTANT_ENCAPSED_STRING","'changeable'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'a changeable field storage setting'",63],",",["T_WHITESPACE","\n      ",63],["T_CONSTANT_ENCAPSED_STRING","'unchangeable'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'an unchangeable field storage setting'",64],",",["T_WHITESPACE","\n      ",64],["T_CONSTANT_ENCAPSED_STRING","'translatable_storage_setting'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'a translatable field storage setting'",65],",",["T_WHITESPACE","\n    ",65],"]",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","assertEqual",67],"(",["T_VARIABLE","$field_storage",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getSettings",67],"(",")",",",["T_WHITESPACE"," ",67],["T_VARIABLE","$expected_settings",67],")",";",["T_WHITESPACE","\n\n    ",67],["T_COMMENT","\/\/ Change one single setting using setSettings(), and check that the other\n",69],["T_WHITESPACE","    ",70],["T_COMMENT","\/\/ expected settings are still present.\n",70],["T_WHITESPACE","    ",71],["T_VARIABLE","$expected_settings",71],"[",["T_CONSTANT_ENCAPSED_STRING","'test_field_storage_setting'",71],"]",["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'another test string'",71],";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$field_storage",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","setSettings",72],"(","[",["T_CONSTANT_ENCAPSED_STRING","'test_field_storage_setting'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$expected_settings",72],"[",["T_CONSTANT_ENCAPSED_STRING","'test_field_storage_setting'",72],"]","]",")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertEqual",73],"(",["T_VARIABLE","$field_storage",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getSettings",73],"(",")",",",["T_WHITESPACE"," ",73],["T_VARIABLE","$expected_settings",73],")",";",["T_WHITESPACE","\n  ",73],"}",["T_WHITESPACE","\n\n  ",74],["T_DOC_COMMENT","\/**\n   * @covers \\Drupal\\field\\Entity\\FieldStorageConfig::getSettings\n   * @covers \\Drupal\\field\\Entity\\FieldStorageConfig::setSettings\n   *\/",76],["T_WHITESPACE","\n  ",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","testConfigurableFieldSettings",80],"(",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$field_storage",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","FieldStorageConfig",81],["T_DOUBLE_COLON","::",81],["T_STRING","create",81],"(","[",["T_WHITESPACE","\n      ",81],["T_CONSTANT_ENCAPSED_STRING","'field_name'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'test_field'",82],",",["T_WHITESPACE","\n      ",82],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",83],",",["T_WHITESPACE","\n      ",83],["T_CONSTANT_ENCAPSED_STRING","'type'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'test_field'",84],["T_WHITESPACE","\n    ",84],"]",")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$field",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","FieldConfig",86],["T_DOUBLE_COLON","::",86],["T_STRING","create",86],"(","[",["T_WHITESPACE","\n      ",86],["T_CONSTANT_ENCAPSED_STRING","'field_storage'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$field_storage",87],",",["T_WHITESPACE","\n      ",87],["T_CONSTANT_ENCAPSED_STRING","'bundle'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",88],["T_WHITESPACE","\n    ",88],"]",")",";",["T_WHITESPACE","\n    ",89],["T_COMMENT","\/\/ Note: FieldConfig does not populate default settings until the config\n",90],["T_WHITESPACE","    ",91],["T_COMMENT","\/\/ is saved.\n",91],["T_WHITESPACE","    ",92],["T_COMMENT","\/\/ @todo Remove once https:\/\/www.drupal.org\/node\/2327883 is fixed.\n",92],["T_WHITESPACE","    ",93],["T_VARIABLE","$field",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","save",93],"(",")",";",["T_WHITESPACE","\n\n    ",93],["T_COMMENT","\/\/ Check that the default settings have been populated. Note: getSettings()\n",95],["T_WHITESPACE","    ",96],["T_COMMENT","\/\/ returns both storage and field settings.\n",96],["T_WHITESPACE","    ",97],["T_VARIABLE","$expected_settings",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],"[",["T_WHITESPACE","\n      ",97],["T_CONSTANT_ENCAPSED_STRING","'test_field_storage_setting'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'dummy test string'",98],",",["T_WHITESPACE","\n      ",98],["T_CONSTANT_ENCAPSED_STRING","'changeable'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'a changeable field storage setting'",99],",",["T_WHITESPACE","\n      ",99],["T_CONSTANT_ENCAPSED_STRING","'unchangeable'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'an unchangeable field storage setting'",100],",",["T_WHITESPACE","\n      ",100],["T_CONSTANT_ENCAPSED_STRING","'translatable_storage_setting'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'a translatable field storage setting'",101],",",["T_WHITESPACE","\n      ",101],["T_CONSTANT_ENCAPSED_STRING","'test_field_setting'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'dummy test string'",102],",",["T_WHITESPACE","\n      ",102],["T_CONSTANT_ENCAPSED_STRING","'translatable_field_setting'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'a translatable field setting'",103],",",["T_WHITESPACE","\n      ",103],["T_CONSTANT_ENCAPSED_STRING","'field_setting_from_config_data'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'TRUE'",104],",",["T_WHITESPACE","\n    ",104],"]",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertEqual",106],"(",["T_VARIABLE","$field",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getSettings",106],"(",")",",",["T_WHITESPACE"," ",106],["T_VARIABLE","$expected_settings",106],")",";",["T_WHITESPACE","\n\n    ",106],["T_COMMENT","\/\/ Change one single setting using setSettings(), and check that the other\n",108],["T_WHITESPACE","    ",109],["T_COMMENT","\/\/ expected settings are still present.\n",109],["T_WHITESPACE","    ",110],["T_VARIABLE","$expected_settings",110],"[",["T_CONSTANT_ENCAPSED_STRING","'test_field_setting'",110],"]",["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'another test string'",110],";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$field",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","setSettings",111],"(","[",["T_CONSTANT_ENCAPSED_STRING","'test_field_setting'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$expected_settings",111],"[",["T_CONSTANT_ENCAPSED_STRING","'test_field_setting'",111],"]","]",")",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","assertEqual",112],"(",["T_VARIABLE","$field",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getSettings",112],"(",")",",",["T_WHITESPACE"," ",112],["T_VARIABLE","$expected_settings",112],")",";",["T_WHITESPACE","\n  ",112],"}",["T_WHITESPACE","\n\n",113],"}",["T_WHITESPACE","\n",115]]