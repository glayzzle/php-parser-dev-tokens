[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Cache",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Cache",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Cache",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","DependencyInjection",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ContainerBuilder",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","KernelTests",7],["T_NS_SEPARATOR","\\",7],["T_STRING","KernelTestBase",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Symfony",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Component",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DependencyInjection",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Reference",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Tests DatabaseBackend cache tag implementation.\n *\n * @group Cache\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","DatabaseBackendTagTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","KernelTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_STATIC","static",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$modules",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_ARRAY","array",22],"(",["T_CONSTANT_ENCAPSED_STRING","'system'",22],")",";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",24],["T_WHITESPACE","\n  ",26],["T_PUBLIC","public",27],["T_WHITESPACE"," ",27],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","register",27],"(",["T_STRING","ContainerBuilder",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$container",27],")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n    ",27],["T_STRING","parent",28],["T_DOUBLE_COLON","::",28],["T_STRING","register",28],"(",["T_VARIABLE","$container",28],")",";",["T_WHITESPACE","\n    ",28],["T_COMMENT","\/\/ Change container to database cache backends.\n",29],["T_WHITESPACE","    ",30],["T_VARIABLE","$container",30],["T_WHITESPACE","\n      ",30],["T_OBJECT_OPERATOR","->",31],["T_STRING","register",31],"(",["T_CONSTANT_ENCAPSED_STRING","'cache_factory'",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Cache\\CacheFactory'",31],")",["T_WHITESPACE","\n      ",31],["T_OBJECT_OPERATOR","->",32],["T_STRING","addArgument",32],"(",["T_NEW","new",32],["T_WHITESPACE"," ",32],["T_STRING","Reference",32],"(",["T_CONSTANT_ENCAPSED_STRING","'settings'",32],")",")",["T_WHITESPACE","\n      ",32],["T_OBJECT_OPERATOR","->",33],["T_STRING","addMethodCall",33],"(",["T_CONSTANT_ENCAPSED_STRING","'setContainer'",33],",",["T_WHITESPACE"," ",33],["T_ARRAY","array",33],"(",["T_NEW","new",33],["T_WHITESPACE"," ",33],["T_STRING","Reference",33],"(",["T_CONSTANT_ENCAPSED_STRING","'service_container'",33],")",")",")",";",["T_WHITESPACE","\n  ",33],"}",["T_WHITESPACE","\n\n  ",34],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","testTagInvalidations",36],"(",")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n    ",36],["T_COMMENT","\/\/ Create cache entry in multiple bins.\n",37],["T_WHITESPACE","    ",38],["T_VARIABLE","$tags",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_ARRAY","array",38],"(",["T_CONSTANT_ENCAPSED_STRING","'test_tag:1'",38],",",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'test_tag:2'",38],",",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'test_tag:3'",38],")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$bins",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_ARRAY","array",39],"(",["T_CONSTANT_ENCAPSED_STRING","'data'",39],",",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'bootstrap'",39],",",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'render'",39],")",";",["T_WHITESPACE","\n    ",39],["T_FOREACH","foreach",40],["T_WHITESPACE"," ",40],"(",["T_VARIABLE","$bins",40],["T_WHITESPACE"," ",40],["T_AS","as",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$bin",40],")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n      ",40],["T_VARIABLE","$bin",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_NS_SEPARATOR","\\",41],["T_STRING","Drupal",41],["T_DOUBLE_COLON","::",41],["T_STRING","cache",41],"(",["T_VARIABLE","$bin",41],")",";",["T_WHITESPACE","\n      ",41],["T_VARIABLE","$bin",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","set",42],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'value'",42],",",["T_WHITESPACE"," ",42],["T_STRING","Cache",42],["T_DOUBLE_COLON","::",42],["T_STRING","PERMANENT",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$tags",42],")",";",["T_WHITESPACE","\n      ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","assertTrue",43],"(",["T_VARIABLE","$bin",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","get",43],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",43],")",",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'Cache item was set in bin.'",43],")",";",["T_WHITESPACE","\n    ",43],"}",["T_WHITESPACE","\n\n    ",44],["T_VARIABLE","$invalidations_before",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","intval",46],"(",["T_STRING","db_select",46],"(",["T_CONSTANT_ENCAPSED_STRING","'cachetags'",46],")",["T_OBJECT_OPERATOR","->",46],["T_STRING","fields",46],"(",["T_CONSTANT_ENCAPSED_STRING","'cachetags'",46],",",["T_WHITESPACE"," ",46],["T_ARRAY","array",46],"(",["T_CONSTANT_ENCAPSED_STRING","'invalidations'",46],")",")",["T_OBJECT_OPERATOR","->",46],["T_STRING","condition",46],"(",["T_CONSTANT_ENCAPSED_STRING","'tag'",46],",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'test_tag:2'",46],")",["T_OBJECT_OPERATOR","->",46],["T_STRING","execute",46],"(",")",["T_OBJECT_OPERATOR","->",46],["T_STRING","fetchField",46],"(",")",")",";",["T_WHITESPACE","\n    ",46],["T_STRING","Cache",47],["T_DOUBLE_COLON","::",47],["T_STRING","invalidateTags",47],"(",["T_ARRAY","array",47],"(",["T_CONSTANT_ENCAPSED_STRING","'test_tag:2'",47],")",")",";",["T_WHITESPACE","\n\n    ",47],["T_COMMENT","\/\/ Test that cache entry has been invalidated in multiple bins.\n",49],["T_WHITESPACE","    ",50],["T_FOREACH","foreach",50],["T_WHITESPACE"," ",50],"(",["T_VARIABLE","$bins",50],["T_WHITESPACE"," ",50],["T_AS","as",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$bin",50],")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n      ",50],["T_VARIABLE","$bin",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Drupal",51],["T_DOUBLE_COLON","::",51],["T_STRING","cache",51],"(",["T_VARIABLE","$bin",51],")",";",["T_WHITESPACE","\n      ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","assertFalse",52],"(",["T_VARIABLE","$bin",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","get",52],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",52],")",",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'Tag invalidation affected item in bin.'",52],")",";",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n\n    ",53],["T_COMMENT","\/\/ Test that only one tag invalidation has occurred.\n",55],["T_WHITESPACE","    ",56],["T_VARIABLE","$invalidations_after",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","intval",56],"(",["T_STRING","db_select",56],"(",["T_CONSTANT_ENCAPSED_STRING","'cachetags'",56],")",["T_OBJECT_OPERATOR","->",56],["T_STRING","fields",56],"(",["T_CONSTANT_ENCAPSED_STRING","'cachetags'",56],",",["T_WHITESPACE"," ",56],["T_ARRAY","array",56],"(",["T_CONSTANT_ENCAPSED_STRING","'invalidations'",56],")",")",["T_OBJECT_OPERATOR","->",56],["T_STRING","condition",56],"(",["T_CONSTANT_ENCAPSED_STRING","'tag'",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'test_tag:2'",56],")",["T_OBJECT_OPERATOR","->",56],["T_STRING","execute",56],"(",")",["T_OBJECT_OPERATOR","->",56],["T_STRING","fetchField",56],"(",")",")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","assertEqual",57],"(",["T_VARIABLE","$invalidations_after",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$invalidations_before",57],["T_WHITESPACE"," ",57],"+",["T_WHITESPACE"," ",57],["T_LNUMBER","1",57],",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'Only one addition cache tag invalidation has occurred after invalidating a tag used in multiple bins.'",57],")",";",["T_WHITESPACE","\n  ",57],"}",["T_WHITESPACE","\n\n",58],"}",["T_WHITESPACE","\n",60]]