[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Config",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Crypt",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Utility",6],["T_NS_SEPARATOR","\\",6],["T_STRING","SafeMarkup",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Config",7],["T_NS_SEPARATOR","\\",7],["T_STRING","ConfigNameException",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Config",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ConfigValueException",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Config",9],["T_NS_SEPARATOR","\\",9],["T_STRING","InstallStorage",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Config",10],["T_NS_SEPARATOR","\\",10],["T_STRING","DatabaseStorage",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Config",11],["T_NS_SEPARATOR","\\",11],["T_STRING","UnsupportedDataTypeConfigException",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","KernelTests",12],["T_NS_SEPARATOR","\\",12],["T_STRING","KernelTestBase",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Tests CRUD operations on configuration objects.\n *\n * @group config\n *\/",14],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","ConfigCRUDTest",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_STRING","KernelTestBase",19],["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * Exempt from strict schema checking.\n   *\n   * @see \\Drupal\\Core\\Config\\Testing\\ConfigSchemaChecker\n   *\n   * @var bool\n   *\/",21],["T_WHITESPACE","\n  ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$strictConfigSchema",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_STRING","FALSE",28],";",["T_WHITESPACE","\n\n  ",28],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",30],["T_WHITESPACE","\n  ",34],["T_PUBLIC","public",35],["T_WHITESPACE"," ",35],["T_STATIC","static",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$modules",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_ARRAY","array",35],"(",["T_CONSTANT_ENCAPSED_STRING","'system'",35],")",";",["T_WHITESPACE","\n\n  ",35],["T_DOC_COMMENT","\/**\n   * Tests CRUD operations.\n   *\/",37],["T_WHITESPACE","\n  ",39],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","testCRUD",40],"(",")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$storage",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","container",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","get",41],"(",["T_CONSTANT_ENCAPSED_STRING","'config.storage'",41],")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$config_factory",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","container",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","get",42],"(",["T_CONSTANT_ENCAPSED_STRING","'config.factory'",42],")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$name",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'config_test.crud'",43],";",["T_WHITESPACE","\n\n    ",43],["T_VARIABLE","$config",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","config",45],"(",["T_VARIABLE","$name",45],")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","assertIdentical",46],"(",["T_VARIABLE","$config",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","isNew",46],"(",")",",",["T_WHITESPACE"," ",46],["T_STRING","TRUE",46],")",";",["T_WHITESPACE","\n\n    ",46],["T_COMMENT","\/\/ Create a new configuration object.\n",48],["T_WHITESPACE","    ",49],["T_VARIABLE","$config",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","set",49],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",49],",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'initial'",49],")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$config",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","save",50],"(",")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertIdentical",51],"(",["T_VARIABLE","$config",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","isNew",51],"(",")",",",["T_WHITESPACE"," ",51],["T_STRING","FALSE",51],")",";",["T_WHITESPACE","\n\n    ",51],["T_COMMENT","\/\/ Verify the active configuration contains the saved value.\n",53],["T_WHITESPACE","    ",54],["T_VARIABLE","$actual_data",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$storage",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","read",54],"(",["T_VARIABLE","$name",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertIdentical",55],"(",["T_VARIABLE","$actual_data",55],",",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'initial'",55],")",")",";",["T_WHITESPACE","\n\n    ",55],["T_COMMENT","\/\/ Update the configuration object instance.\n",57],["T_WHITESPACE","    ",58],["T_VARIABLE","$config",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","set",58],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",58],",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'instance-update'",58],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$config",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","save",59],"(",")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertIdentical",60],"(",["T_VARIABLE","$config",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","isNew",60],"(",")",",",["T_WHITESPACE"," ",60],["T_STRING","FALSE",60],")",";",["T_WHITESPACE","\n\n    ",60],["T_COMMENT","\/\/ Verify the active configuration contains the updated value.\n",62],["T_WHITESPACE","    ",63],["T_VARIABLE","$actual_data",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$storage",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","read",63],"(",["T_VARIABLE","$name",63],")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","assertIdentical",64],"(",["T_VARIABLE","$actual_data",64],",",["T_WHITESPACE"," ",64],["T_ARRAY","array",64],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'instance-update'",64],")",")",";",["T_WHITESPACE","\n\n    ",64],["T_COMMENT","\/\/ Verify a call to $this->config() immediately returns the updated value.\n",66],["T_WHITESPACE","    ",67],["T_VARIABLE","$new_config",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","config",67],"(",["T_VARIABLE","$name",67],")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","assertIdentical",68],"(",["T_VARIABLE","$new_config",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","get",68],"(",")",",",["T_WHITESPACE"," ",68],["T_VARIABLE","$config",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","get",68],"(",")",")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertIdentical",69],"(",["T_VARIABLE","$config",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","isNew",69],"(",")",",",["T_WHITESPACE"," ",69],["T_STRING","FALSE",69],")",";",["T_WHITESPACE","\n\n    ",69],["T_COMMENT","\/\/ Pollute the config factory static cache.\n",71],["T_WHITESPACE","    ",72],["T_VARIABLE","$config_factory",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getEditable",72],"(",["T_VARIABLE","$name",72],")",";",["T_WHITESPACE","\n\n    ",72],["T_COMMENT","\/\/ Delete the configuration object.\n",74],["T_WHITESPACE","    ",75],["T_VARIABLE","$config",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","delete",75],"(",")",";",["T_WHITESPACE","\n\n    ",75],["T_COMMENT","\/\/ Verify the configuration object is empty.\n",77],["T_WHITESPACE","    ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","assertIdentical",78],"(",["T_VARIABLE","$config",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","get",78],"(",")",",",["T_WHITESPACE"," ",78],["T_ARRAY","array",78],"(",")",")",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","assertIdentical",79],"(",["T_VARIABLE","$config",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","isNew",79],"(",")",",",["T_WHITESPACE"," ",79],["T_STRING","TRUE",79],")",";",["T_WHITESPACE","\n\n    ",79],["T_COMMENT","\/\/ Verify that all copies of the configuration has been removed from the\n",81],["T_WHITESPACE","    ",82],["T_COMMENT","\/\/ static cache.\n",82],["T_WHITESPACE","    ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertIdentical",83],"(",["T_VARIABLE","$config_factory",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getEditable",83],"(",["T_VARIABLE","$name",83],")",["T_OBJECT_OPERATOR","->",83],["T_STRING","isNew",83],"(",")",",",["T_WHITESPACE"," ",83],["T_STRING","TRUE",83],")",";",["T_WHITESPACE","\n\n    ",83],["T_COMMENT","\/\/ Verify the active configuration contains no value.\n",85],["T_WHITESPACE","    ",86],["T_VARIABLE","$actual_data",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$storage",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","read",86],"(",["T_VARIABLE","$name",86],")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertIdentical",87],"(",["T_VARIABLE","$actual_data",87],",",["T_WHITESPACE"," ",87],["T_STRING","FALSE",87],")",";",["T_WHITESPACE","\n\n    ",87],["T_COMMENT","\/\/ Verify $this->config() returns no data.\n",89],["T_WHITESPACE","    ",90],["T_VARIABLE","$new_config",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","config",90],"(",["T_VARIABLE","$name",90],")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","assertIdentical",91],"(",["T_VARIABLE","$new_config",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","get",91],"(",")",",",["T_WHITESPACE"," ",91],["T_VARIABLE","$config",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","get",91],"(",")",")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertIdentical",92],"(",["T_VARIABLE","$config",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","isNew",92],"(",")",",",["T_WHITESPACE"," ",92],["T_STRING","TRUE",92],")",";",["T_WHITESPACE","\n\n    ",92],["T_COMMENT","\/\/ Re-create the configuration object.\n",94],["T_WHITESPACE","    ",95],["T_VARIABLE","$config",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","set",95],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",95],",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'re-created'",95],")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$config",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","save",96],"(",")",";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","assertIdentical",97],"(",["T_VARIABLE","$config",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","isNew",97],"(",")",",",["T_WHITESPACE"," ",97],["T_STRING","FALSE",97],")",";",["T_WHITESPACE","\n\n    ",97],["T_COMMENT","\/\/ Verify the active configuration contains the updated value.\n",99],["T_WHITESPACE","    ",100],["T_VARIABLE","$actual_data",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$storage",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","read",100],"(",["T_VARIABLE","$name",100],")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertIdentical",101],"(",["T_VARIABLE","$actual_data",101],",",["T_WHITESPACE"," ",101],["T_ARRAY","array",101],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'re-created'",101],")",")",";",["T_WHITESPACE","\n\n    ",101],["T_COMMENT","\/\/ Verify a call to $this->config() immediately returns the updated value.\n",103],["T_WHITESPACE","    ",104],["T_VARIABLE","$new_config",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","config",104],"(",["T_VARIABLE","$name",104],")",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertIdentical",105],"(",["T_VARIABLE","$new_config",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","get",105],"(",")",",",["T_WHITESPACE"," ",105],["T_VARIABLE","$config",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","get",105],"(",")",")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertIdentical",106],"(",["T_VARIABLE","$config",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","isNew",106],"(",")",",",["T_WHITESPACE"," ",106],["T_STRING","FALSE",106],")",";",["T_WHITESPACE","\n\n    ",106],["T_COMMENT","\/\/ Rename the configuration object.\n",108],["T_WHITESPACE","    ",109],["T_VARIABLE","$new_name",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'config_test.crud_rename'",109],";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","container",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","get",110],"(",["T_CONSTANT_ENCAPSED_STRING","'config.factory'",110],")",["T_OBJECT_OPERATOR","->",110],["T_STRING","rename",110],"(",["T_VARIABLE","$name",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$new_name",110],")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$renamed_config",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","config",111],"(",["T_VARIABLE","$new_name",111],")",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","assertIdentical",112],"(",["T_VARIABLE","$renamed_config",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","get",112],"(",")",",",["T_WHITESPACE"," ",112],["T_VARIABLE","$config",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","get",112],"(",")",")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","assertIdentical",113],"(",["T_VARIABLE","$renamed_config",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","isNew",113],"(",")",",",["T_WHITESPACE"," ",113],["T_STRING","FALSE",113],")",";",["T_WHITESPACE","\n\n    ",113],["T_COMMENT","\/\/ Ensure that the old configuration object is removed from both the cache\n",115],["T_WHITESPACE","    ",116],["T_COMMENT","\/\/ and the configuration storage.\n",116],["T_WHITESPACE","    ",117],["T_VARIABLE","$config",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","config",117],"(",["T_VARIABLE","$name",117],")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","assertIdentical",118],"(",["T_VARIABLE","$config",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","get",118],"(",")",",",["T_WHITESPACE"," ",118],["T_ARRAY","array",118],"(",")",")",";",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertIdentical",119],"(",["T_VARIABLE","$config",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","isNew",119],"(",")",",",["T_WHITESPACE"," ",119],["T_STRING","TRUE",119],")",";",["T_WHITESPACE","\n\n    ",119],["T_COMMENT","\/\/ Test renaming when config.factory does not have the object in its static\n",121],["T_WHITESPACE","    ",122],["T_COMMENT","\/\/ cache.\n",122],["T_WHITESPACE","    ",123],["T_VARIABLE","$name",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'config_test.crud_rename'",123],";",["T_WHITESPACE","\n    ",123],["T_COMMENT","\/\/ Pollute the non-overrides static cache.\n",124],["T_WHITESPACE","    ",125],["T_VARIABLE","$config_factory",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getEditable",125],"(",["T_VARIABLE","$name",125],")",";",["T_WHITESPACE","\n    ",125],["T_COMMENT","\/\/ Pollute the overrides static cache.\n",126],["T_WHITESPACE","    ",127],["T_VARIABLE","$config",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$config_factory",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","get",127],"(",["T_VARIABLE","$name",127],")",";",["T_WHITESPACE","\n    ",127],["T_COMMENT","\/\/ Rename and ensure that happened properly.\n",128],["T_WHITESPACE","    ",129],["T_VARIABLE","$new_name",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'config_test.crud_rename_no_cache'",129],";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$config_factory",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","rename",130],"(",["T_VARIABLE","$name",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$new_name",130],")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$renamed_config",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$config_factory",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","get",131],"(",["T_VARIABLE","$new_name",131],")",";",["T_WHITESPACE","\n    ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","assertIdentical",132],"(",["T_VARIABLE","$renamed_config",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","get",132],"(",")",",",["T_WHITESPACE"," ",132],["T_VARIABLE","$config",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","get",132],"(",")",")",";",["T_WHITESPACE","\n    ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","assertIdentical",133],"(",["T_VARIABLE","$renamed_config",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","isNew",133],"(",")",",",["T_WHITESPACE"," ",133],["T_STRING","FALSE",133],")",";",["T_WHITESPACE","\n    ",133],["T_COMMENT","\/\/ Ensure the overrides static cache has been cleared.\n",134],["T_WHITESPACE","    ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","assertIdentical",135],"(",["T_VARIABLE","$config_factory",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","get",135],"(",["T_VARIABLE","$name",135],")",["T_OBJECT_OPERATOR","->",135],["T_STRING","isNew",135],"(",")",",",["T_WHITESPACE"," ",135],["T_STRING","TRUE",135],")",";",["T_WHITESPACE","\n    ",135],["T_COMMENT","\/\/ Ensure the non-overrides static cache has been cleared.\n",136],["T_WHITESPACE","    ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","assertIdentical",137],"(",["T_VARIABLE","$config_factory",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getEditable",137],"(",["T_VARIABLE","$name",137],")",["T_OBJECT_OPERATOR","->",137],["T_STRING","isNew",137],"(",")",",",["T_WHITESPACE"," ",137],["T_STRING","TRUE",137],")",";",["T_WHITESPACE","\n\n    ",137],["T_COMMENT","\/\/ Merge data into the configuration object.\n",139],["T_WHITESPACE","    ",140],["T_VARIABLE","$new_config",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","config",140],"(",["T_VARIABLE","$new_name",140],")",";",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$expected_values",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_ARRAY","array",141],"(",["T_WHITESPACE","\n      ",141],["T_CONSTANT_ENCAPSED_STRING","'value'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'herp'",142],",",["T_WHITESPACE","\n      ",142],["T_CONSTANT_ENCAPSED_STRING","'404'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'derp'",143],",",["T_WHITESPACE","\n    ",143],")",";",["T_WHITESPACE","\n    ",144],["T_VARIABLE","$new_config",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","merge",145],"(",["T_VARIABLE","$expected_values",145],")",";",["T_WHITESPACE","\n    ",145],["T_VARIABLE","$new_config",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","save",146],"(",")",";",["T_WHITESPACE","\n    ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","assertIdentical",147],"(",["T_VARIABLE","$new_config",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","get",147],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",147],")",",",["T_WHITESPACE"," ",147],["T_VARIABLE","$expected_values",147],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",147],"]",")",";",["T_WHITESPACE","\n    ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","assertIdentical",148],"(",["T_VARIABLE","$new_config",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","get",148],"(",["T_CONSTANT_ENCAPSED_STRING","'404'",148],")",",",["T_WHITESPACE"," ",148],["T_VARIABLE","$expected_values",148],"[",["T_CONSTANT_ENCAPSED_STRING","'404'",148],"]",")",";",["T_WHITESPACE","\n\n    ",148],["T_COMMENT","\/\/ Test that getMultiple() does not return new config objects that were\n",150],["T_WHITESPACE","    ",151],["T_COMMENT","\/\/ previously accessed with get()\n",151],["T_WHITESPACE","    ",152],["T_VARIABLE","$new_config",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$config_factory",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","get",152],"(",["T_CONSTANT_ENCAPSED_STRING","'non_existing_key'",152],")",";",["T_WHITESPACE","\n    ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","assertTrue",153],"(",["T_VARIABLE","$new_config",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","isNew",153],"(",")",")",";",["T_WHITESPACE","\n    ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","assertEqual",154],"(",["T_LNUMBER","0",154],",",["T_WHITESPACE"," ",154],["T_STRING","count",154],"(",["T_VARIABLE","$config_factory",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","loadMultiple",154],"(","[",["T_CONSTANT_ENCAPSED_STRING","'non_existing_key'",154],"]",")",")",",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'loadMultiple() does not return new objects'",154],")",";",["T_WHITESPACE","\n  ",154],"}",["T_WHITESPACE","\n\n  ",155],["T_DOC_COMMENT","\/**\n   * Tests the validation of configuration object names.\n   *\/",157],["T_WHITESPACE","\n  ",159],["T_FUNCTION","function",160],["T_WHITESPACE"," ",160],["T_STRING","testNameValidation",160],"(",")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n    ",160],["T_COMMENT","\/\/ Verify that an object name without namespace causes an exception.\n",161],["T_WHITESPACE","    ",162],["T_VARIABLE","$name",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'nonamespace'",162],";",["T_WHITESPACE","\n    ",162],["T_VARIABLE","$message",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'Expected ConfigNameException was thrown for a name without a namespace.'",163],";",["T_WHITESPACE","\n    ",163],["T_TRY","try",164],["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n      ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","config",165],"(",["T_VARIABLE","$name",165],")",["T_OBJECT_OPERATOR","->",165],["T_STRING","save",165],"(",")",";",["T_WHITESPACE","\n      ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","fail",166],"(",["T_VARIABLE","$message",166],")",";",["T_WHITESPACE","\n    ",166],"}",["T_WHITESPACE","\n    ",167],["T_CATCH","catch",168],["T_WHITESPACE"," ",168],"(",["T_STRING","ConfigNameException",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$e",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n      ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","pass",169],"(",["T_VARIABLE","$message",169],")",";",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n\n    ",170],["T_COMMENT","\/\/ Verify that a name longer than the maximum length causes an exception.\n",172],["T_WHITESPACE","    ",173],["T_VARIABLE","$name",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'config_test.herman_melville.moby_dick_or_the_whale.harper_1851.now_small_fowls_flew_screaming_over_the_yet_yawning_gulf_a_sullen_white_surf_beat_against_its_steep_sides_then_all_collapsed_and_the_great_shroud_of_the_sea_rolled_on_as_it_rolled_five_thousand_years_ago'",173],";",["T_WHITESPACE","\n    ",173],["T_VARIABLE","$message",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'Expected ConfigNameException was thrown for a name longer than Config::MAX_NAME_LENGTH.'",174],";",["T_WHITESPACE","\n    ",174],["T_TRY","try",175],["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n      ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","config",176],"(",["T_VARIABLE","$name",176],")",["T_OBJECT_OPERATOR","->",176],["T_STRING","save",176],"(",")",";",["T_WHITESPACE","\n      ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","fail",177],"(",["T_VARIABLE","$message",177],")",";",["T_WHITESPACE","\n    ",177],"}",["T_WHITESPACE","\n    ",178],["T_CATCH","catch",179],["T_WHITESPACE"," ",179],"(",["T_STRING","ConfigNameException",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$e",179],")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n      ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","pass",180],"(",["T_VARIABLE","$message",180],")",";",["T_WHITESPACE","\n    ",180],"}",["T_WHITESPACE","\n\n    ",181],["T_COMMENT","\/\/ Verify that disallowed characters in the name cause an exception.\n",183],["T_WHITESPACE","    ",184],["T_VARIABLE","$characters",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$test_characters",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_ARRAY","array",184],"(",["T_CONSTANT_ENCAPSED_STRING","':'",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'?'",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'*'",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'<'",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'>'",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'\"'",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'\\''",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'\/'",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",184],")",";",["T_WHITESPACE","\n    ",184],["T_FOREACH","foreach",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$test_characters",185],["T_WHITESPACE"," ",185],["T_AS","as",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$i",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$c",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n      ",185],["T_TRY","try",186],["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$name",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'namespace.object'",187],["T_WHITESPACE"," ",187],".",["T_WHITESPACE"," ",187],["T_VARIABLE","$c",187],";",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$config",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","config",188],"(",["T_VARIABLE","$name",188],")",";",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$config",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","save",189],"(",")",";",["T_WHITESPACE","\n      ",189],"}",["T_WHITESPACE","\n      ",190],["T_CATCH","catch",191],["T_WHITESPACE"," ",191],"(",["T_STRING","ConfigNameException",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$e",191],")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n        ",191],["T_UNSET","unset",192],"(",["T_VARIABLE","$test_characters",192],"[",["T_VARIABLE","$i",192],"]",")",";",["T_WHITESPACE","\n      ",192],"}",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n    ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","assertTrue",195],"(",["T_EMPTY","empty",195],"(",["T_VARIABLE","$test_characters",195],")",",",["T_WHITESPACE"," ",195],["T_STRING","format_string",195],"(",["T_CONSTANT_ENCAPSED_STRING","'Expected ConfigNameException was thrown for all invalid name characters: @characters'",195],",",["T_WHITESPACE"," ",195],["T_ARRAY","array",195],"(",["T_WHITESPACE","\n      ",195],["T_CONSTANT_ENCAPSED_STRING","'@characters'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_STRING","implode",196],"(",["T_CONSTANT_ENCAPSED_STRING","' '",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$characters",196],")",",",["T_WHITESPACE","\n    ",196],")",")",")",";",["T_WHITESPACE","\n\n    ",197],["T_COMMENT","\/\/ Verify that a valid config object name can be saved.\n",199],["T_WHITESPACE","    ",200],["T_VARIABLE","$name",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'namespace.object'",200],";",["T_WHITESPACE","\n    ",200],["T_VARIABLE","$message",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'ConfigNameException was not thrown for a valid object name.'",201],";",["T_WHITESPACE","\n    ",201],["T_TRY","try",202],["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n      ",202],["T_VARIABLE","$config",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","config",203],"(",["T_VARIABLE","$name",203],")",";",["T_WHITESPACE","\n      ",203],["T_VARIABLE","$config",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","save",204],"(",")",";",["T_WHITESPACE","\n      ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","pass",205],"(",["T_VARIABLE","$message",205],")",";",["T_WHITESPACE","\n    ",205],"}",["T_WHITESPACE","\n    ",206],["T_CATCH","catch",207],["T_WHITESPACE"," ",207],"(",["T_STRING","ConfigNameException",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$e",207],")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n      ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","fail",208],"(",["T_VARIABLE","$message",208],")",";",["T_WHITESPACE","\n    ",208],"}",["T_WHITESPACE","\n\n  ",209],"}",["T_WHITESPACE","\n\n  ",211],["T_DOC_COMMENT","\/**\n   * Tests the validation of configuration object values.\n   *\/",213],["T_WHITESPACE","\n  ",215],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","testValueValidation",216],"(",")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n    ",216],["T_COMMENT","\/\/ Verify that setData() will catch dotted keys.\n",217],["T_WHITESPACE","    ",218],["T_VARIABLE","$message",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'Expected ConfigValueException was thrown from setData() for value with dotted keys.'",218],";",["T_WHITESPACE","\n    ",218],["T_TRY","try",219],["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n      ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","config",220],"(",["T_CONSTANT_ENCAPSED_STRING","'namespace.object'",220],")",["T_OBJECT_OPERATOR","->",220],["T_STRING","setData",220],"(",["T_ARRAY","array",220],"(",["T_CONSTANT_ENCAPSED_STRING","'key.value'",220],["T_WHITESPACE"," ",220],["T_DOUBLE_ARROW","=>",220],["T_WHITESPACE"," ",220],["T_LNUMBER","12",220],")",")",["T_OBJECT_OPERATOR","->",220],["T_STRING","save",220],"(",")",";",["T_WHITESPACE","\n      ",220],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","fail",221],"(",["T_VARIABLE","$message",221],")",";",["T_WHITESPACE","\n    ",221],"}",["T_WHITESPACE","\n    ",222],["T_CATCH","catch",223],["T_WHITESPACE"," ",223],"(",["T_STRING","ConfigValueException",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$e",223],")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n      ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","pass",224],"(",["T_VARIABLE","$message",224],")",";",["T_WHITESPACE","\n    ",224],"}",["T_WHITESPACE","\n\n    ",225],["T_COMMENT","\/\/ Verify that set() will catch dotted keys.\n",227],["T_WHITESPACE","    ",228],["T_VARIABLE","$message",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","'Expected ConfigValueException was thrown from set() for value with dotted keys.'",228],";",["T_WHITESPACE","\n    ",228],["T_TRY","try",229],["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n      ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","config",230],"(",["T_CONSTANT_ENCAPSED_STRING","'namespace.object'",230],")",["T_OBJECT_OPERATOR","->",230],["T_STRING","set",230],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",230],",",["T_WHITESPACE"," ",230],["T_ARRAY","array",230],"(",["T_CONSTANT_ENCAPSED_STRING","'key.value'",230],["T_WHITESPACE"," ",230],["T_DOUBLE_ARROW","=>",230],["T_WHITESPACE"," ",230],["T_LNUMBER","12",230],")",")",["T_OBJECT_OPERATOR","->",230],["T_STRING","save",230],"(",")",";",["T_WHITESPACE","\n      ",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","fail",231],"(",["T_VARIABLE","$message",231],")",";",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n    ",232],["T_CATCH","catch",233],["T_WHITESPACE"," ",233],"(",["T_STRING","ConfigValueException",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$e",233],")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n      ",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","pass",234],"(",["T_VARIABLE","$message",234],")",";",["T_WHITESPACE","\n    ",234],"}",["T_WHITESPACE","\n  ",235],"}",["T_WHITESPACE","\n\n  ",236],["T_DOC_COMMENT","\/**\n   * Tests data type handling.\n   *\/",238],["T_WHITESPACE","\n  ",240],["T_PUBLIC","public",241],["T_WHITESPACE"," ",241],["T_FUNCTION","function",241],["T_WHITESPACE"," ",241],["T_STRING","testDataTypes",241],"(",")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n    ",241],["T_NS_SEPARATOR","\\",242],["T_STRING","Drupal",242],["T_DOUBLE_COLON","::",242],["T_STRING","service",242],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",242],")",["T_OBJECT_OPERATOR","->",242],["T_STRING","install",242],"(",["T_ARRAY","array",242],"(",["T_CONSTANT_ENCAPSED_STRING","'config_test'",242],")",")",";",["T_WHITESPACE","\n    ",242],["T_VARIABLE","$storage",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_NEW","new",243],["T_WHITESPACE"," ",243],["T_STRING","DatabaseStorage",243],"(",["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","container",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","get",243],"(",["T_CONSTANT_ENCAPSED_STRING","'database'",243],")",",",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'config'",243],")",";",["T_WHITESPACE","\n    ",243],["T_VARIABLE","$name",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'config_test.types'",244],";",["T_WHITESPACE","\n    ",244],["T_VARIABLE","$config",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","config",245],"(",["T_VARIABLE","$name",245],")",";",["T_WHITESPACE","\n    ",245],["T_VARIABLE","$original_content",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_STRING","file_get_contents",246],"(",["T_STRING","drupal_get_path",246],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",246],",",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'config_test'",246],")",["T_WHITESPACE"," ",246],".",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'\/'",246],["T_WHITESPACE"," ",246],".",["T_WHITESPACE"," ",246],["T_STRING","InstallStorage",246],["T_DOUBLE_COLON","::",246],["T_STRING","CONFIG_INSTALL_DIRECTORY",246],["T_WHITESPACE"," ",246],".",["T_WHITESPACE"," ",246],"\"",["T_ENCAPSED_AND_WHITESPACE","\/",246],["T_VARIABLE","$name",246],["T_ENCAPSED_AND_WHITESPACE",".yml",246],"\"",")",";",["T_WHITESPACE","\n    ",246],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","verbose",247],"(",["T_CONSTANT_ENCAPSED_STRING","'<pre>'",247],["T_WHITESPACE"," ",247],".",["T_WHITESPACE"," ",247],["T_VARIABLE","$original_content",247],["T_WHITESPACE"," ",247],".",["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",247],["T_WHITESPACE"," ",247],".",["T_WHITESPACE"," ",247],["T_STRING","var_export",247],"(",["T_VARIABLE","$storage",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","read",247],"(",["T_VARIABLE","$name",247],")",",",["T_WHITESPACE"," ",247],["T_STRING","TRUE",247],")",")",";",["T_WHITESPACE","\n\n    ",247],["T_COMMENT","\/\/ Verify variable data types are intact.\n",249],["T_WHITESPACE","    ",250],["T_VARIABLE","$data",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_ARRAY","array",250],"(",["T_WHITESPACE","\n      ",250],["T_CONSTANT_ENCAPSED_STRING","'array'",251],["T_WHITESPACE"," ",251],["T_DOUBLE_ARROW","=>",251],["T_WHITESPACE"," ",251],["T_ARRAY","array",251],"(",")",",",["T_WHITESPACE","\n      ",251],["T_CONSTANT_ENCAPSED_STRING","'boolean'",252],["T_WHITESPACE"," ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],["T_STRING","TRUE",252],",",["T_WHITESPACE","\n      ",252],["T_CONSTANT_ENCAPSED_STRING","'exp'",253],["T_WHITESPACE"," ",253],["T_DOUBLE_ARROW","=>",253],["T_WHITESPACE"," ",253],["T_DNUMBER","1.2e+34",253],",",["T_WHITESPACE","\n      ",253],["T_CONSTANT_ENCAPSED_STRING","'float'",254],["T_WHITESPACE"," ",254],["T_DOUBLE_ARROW","=>",254],["T_WHITESPACE"," ",254],["T_DNUMBER","3.14159",254],",",["T_WHITESPACE","\n      ",254],["T_CONSTANT_ENCAPSED_STRING","'float_as_integer'",255],["T_WHITESPACE"," ",255],["T_DOUBLE_ARROW","=>",255],["T_WHITESPACE"," ",255],["T_DOUBLE_CAST","(float)",255],["T_WHITESPACE"," ",255],["T_LNUMBER","1",255],",",["T_WHITESPACE","\n      ",255],["T_CONSTANT_ENCAPSED_STRING","'hex'",256],["T_WHITESPACE"," ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],["T_LNUMBER","0xC",256],",",["T_WHITESPACE","\n      ",256],["T_CONSTANT_ENCAPSED_STRING","'int'",257],["T_WHITESPACE"," ",257],["T_DOUBLE_ARROW","=>",257],["T_WHITESPACE"," ",257],["T_LNUMBER","99",257],",",["T_WHITESPACE","\n      ",257],["T_CONSTANT_ENCAPSED_STRING","'octal'",258],["T_WHITESPACE"," ",258],["T_DOUBLE_ARROW","=>",258],["T_WHITESPACE"," ",258],["T_LNUMBER","0775",258],",",["T_WHITESPACE","\n      ",258],["T_CONSTANT_ENCAPSED_STRING","'string'",259],["T_WHITESPACE"," ",259],["T_DOUBLE_ARROW","=>",259],["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'string'",259],",",["T_WHITESPACE","\n      ",259],["T_CONSTANT_ENCAPSED_STRING","'string_int'",260],["T_WHITESPACE"," ",260],["T_DOUBLE_ARROW","=>",260],["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'1'",260],",",["T_WHITESPACE","\n    ",260],")",";",["T_WHITESPACE","\n    ",261],["T_VARIABLE","$data",262],"[",["T_CONSTANT_ENCAPSED_STRING","'_core'",262],"]","[",["T_CONSTANT_ENCAPSED_STRING","'default_config_hash'",262],"]",["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_STRING","Crypt",262],["T_DOUBLE_COLON","::",262],["T_STRING","hashBase64",262],"(",["T_STRING","serialize",262],"(",["T_VARIABLE","$data",262],")",")",";",["T_WHITESPACE","\n    ",262],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","assertIdentical",263],"(",["T_VARIABLE","$config",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","get",263],"(",")",",",["T_WHITESPACE"," ",263],["T_VARIABLE","$data",263],")",";",["T_WHITESPACE","\n\n    ",263],["T_COMMENT","\/\/ Re-set each key using Config::set().\n",265],["T_WHITESPACE","    ",266],["T_FOREACH","foreach",266],["T_WHITESPACE"," ",266],"(",["T_VARIABLE","$data",266],["T_WHITESPACE"," ",266],["T_AS","as",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$key",266],["T_WHITESPACE"," ",266],["T_DOUBLE_ARROW","=>",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$value",266],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n      ",266],["T_VARIABLE","$config",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","set",267],"(",["T_VARIABLE","$key",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$value",267],")",";",["T_WHITESPACE","\n    ",267],"}",["T_WHITESPACE","\n    ",268],["T_VARIABLE","$config",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","save",269],"(",")",";",["T_WHITESPACE","\n    ",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","assertIdentical",270],"(",["T_VARIABLE","$config",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","get",270],"(",")",",",["T_WHITESPACE"," ",270],["T_VARIABLE","$data",270],")",";",["T_WHITESPACE","\n    ",270],["T_COMMENT","\/\/ Assert the data against the file storage.\n",271],["T_WHITESPACE","    ",272],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","assertIdentical",272],"(",["T_VARIABLE","$storage",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","read",272],"(",["T_VARIABLE","$name",272],")",",",["T_WHITESPACE"," ",272],["T_VARIABLE","$data",272],")",";",["T_WHITESPACE","\n    ",272],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","verbose",273],"(",["T_CONSTANT_ENCAPSED_STRING","'<pre>'",273],["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_VARIABLE","$name",273],["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_STRING","var_export",273],"(",["T_VARIABLE","$storage",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","read",273],"(",["T_VARIABLE","$name",273],")",",",["T_WHITESPACE"," ",273],["T_STRING","TRUE",273],")",")",";",["T_WHITESPACE","\n\n    ",273],["T_COMMENT","\/\/ Set data using config::setData().\n",275],["T_WHITESPACE","    ",276],["T_VARIABLE","$config",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","setData",276],"(",["T_VARIABLE","$data",276],")",["T_OBJECT_OPERATOR","->",276],["T_STRING","save",276],"(",")",";",["T_WHITESPACE","\n    ",276],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","assertIdentical",277],"(",["T_VARIABLE","$config",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","get",277],"(",")",",",["T_WHITESPACE"," ",277],["T_VARIABLE","$data",277],")",";",["T_WHITESPACE","\n    ",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","assertIdentical",278],"(",["T_VARIABLE","$storage",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","read",278],"(",["T_VARIABLE","$name",278],")",",",["T_WHITESPACE"," ",278],["T_VARIABLE","$data",278],")",";",["T_WHITESPACE","\n\n    ",278],["T_COMMENT","\/\/ Test that schema type enforcement can be overridden by trusting the data.\n",280],["T_WHITESPACE","    ",281],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","assertIdentical",281],"(",["T_LNUMBER","99",281],",",["T_WHITESPACE"," ",281],["T_VARIABLE","$config",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","get",281],"(",["T_CONSTANT_ENCAPSED_STRING","'int'",281],")",")",";",["T_WHITESPACE","\n    ",281],["T_VARIABLE","$config",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","set",282],"(",["T_CONSTANT_ENCAPSED_STRING","'int'",282],",",["T_WHITESPACE"," ",282],["T_CONSTANT_ENCAPSED_STRING","'99'",282],")",["T_OBJECT_OPERATOR","->",282],["T_STRING","save",282],"(",["T_STRING","TRUE",282],")",";",["T_WHITESPACE","\n    ",282],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","assertIdentical",283],"(",["T_CONSTANT_ENCAPSED_STRING","'99'",283],",",["T_WHITESPACE"," ",283],["T_VARIABLE","$config",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","get",283],"(",["T_CONSTANT_ENCAPSED_STRING","'int'",283],")",")",";",["T_WHITESPACE","\n    ",283],["T_COMMENT","\/\/ Test that re-saving without testing the data enforces the schema type.\n",284],["T_WHITESPACE","    ",285],["T_VARIABLE","$config",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","save",285],"(",")",";",["T_WHITESPACE","\n    ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","assertIdentical",286],"(",["T_VARIABLE","$data",286],",",["T_WHITESPACE"," ",286],["T_VARIABLE","$config",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","get",286],"(",")",")",";",["T_WHITESPACE","\n\n    ",286],["T_COMMENT","\/\/ Test that setting an unsupported type for a config object with a schema\n",288],["T_WHITESPACE","    ",289],["T_COMMENT","\/\/ fails.\n",289],["T_WHITESPACE","    ",290],["T_TRY","try",290],["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n      ",290],["T_VARIABLE","$config",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","set",291],"(",["T_CONSTANT_ENCAPSED_STRING","'stream'",291],",",["T_WHITESPACE"," ",291],["T_STRING","fopen",291],"(",["T_FILE","__FILE__",291],",",["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'r'",291],")",")",["T_OBJECT_OPERATOR","->",291],["T_STRING","save",291],"(",")",";",["T_WHITESPACE","\n      ",291],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","fail",292],"(",["T_CONSTANT_ENCAPSED_STRING","'No Exception thrown upon saving invalid data type.'",292],")",";",["T_WHITESPACE","\n    ",292],"}",["T_WHITESPACE","\n    ",293],["T_CATCH","catch",294],["T_WHITESPACE"," ",294],"(",["T_STRING","UnsupportedDataTypeConfigException",294],["T_WHITESPACE"," ",294],["T_VARIABLE","$e",294],")",["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n      ",294],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","pass",295],"(",["T_STRING","SafeMarkup",295],["T_DOUBLE_COLON","::",295],["T_STRING","format",295],"(",["T_CONSTANT_ENCAPSED_STRING","'%class thrown upon saving invalid data type.'",295],",",["T_WHITESPACE"," ",295],["T_ARRAY","array",295],"(",["T_WHITESPACE","\n        ",295],["T_CONSTANT_ENCAPSED_STRING","'%class'",296],["T_WHITESPACE"," ",296],["T_DOUBLE_ARROW","=>",296],["T_WHITESPACE"," ",296],["T_STRING","get_class",296],"(",["T_VARIABLE","$e",296],")",",",["T_WHITESPACE","\n      ",296],")",")",")",";",["T_WHITESPACE","\n    ",297],"}",["T_WHITESPACE","\n\n    ",298],["T_COMMENT","\/\/ Test that setting an unsupported type for a config object with no schema\n",300],["T_WHITESPACE","    ",301],["T_COMMENT","\/\/ also fails.\n",301],["T_WHITESPACE","    ",302],["T_VARIABLE","$typed_config_manager",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","container",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","get",302],"(",["T_CONSTANT_ENCAPSED_STRING","'config.typed'",302],")",";",["T_WHITESPACE","\n    ",302],["T_VARIABLE","$config_name",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","'config_test.no_schema'",303],";",["T_WHITESPACE","\n    ",303],["T_VARIABLE","$config",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","config",304],"(",["T_VARIABLE","$config_name",304],")",";",["T_WHITESPACE","\n    ",304],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","assertFalse",305],"(",["T_VARIABLE","$typed_config_manager",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","hasConfigSchema",305],"(",["T_VARIABLE","$config_name",305],")",")",";",["T_WHITESPACE","\n\n    ",305],["T_TRY","try",307],["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n      ",307],["T_VARIABLE","$config",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","set",308],"(",["T_CONSTANT_ENCAPSED_STRING","'stream'",308],",",["T_WHITESPACE"," ",308],["T_STRING","fopen",308],"(",["T_FILE","__FILE__",308],",",["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","'r'",308],")",")",["T_OBJECT_OPERATOR","->",308],["T_STRING","save",308],"(",")",";",["T_WHITESPACE","\n      ",308],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","fail",309],"(",["T_CONSTANT_ENCAPSED_STRING","'No Exception thrown upon saving invalid data type.'",309],")",";",["T_WHITESPACE","\n    ",309],"}",["T_WHITESPACE","\n    ",310],["T_CATCH","catch",311],["T_WHITESPACE"," ",311],"(",["T_STRING","UnsupportedDataTypeConfigException",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$e",311],")",["T_WHITESPACE"," ",311],"{",["T_WHITESPACE","\n      ",311],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","pass",312],"(",["T_STRING","SafeMarkup",312],["T_DOUBLE_COLON","::",312],["T_STRING","format",312],"(",["T_CONSTANT_ENCAPSED_STRING","'%class thrown upon saving invalid data type.'",312],",",["T_WHITESPACE"," ",312],["T_ARRAY","array",312],"(",["T_WHITESPACE","\n        ",312],["T_CONSTANT_ENCAPSED_STRING","'%class'",313],["T_WHITESPACE"," ",313],["T_DOUBLE_ARROW","=>",313],["T_WHITESPACE"," ",313],["T_STRING","get_class",313],"(",["T_VARIABLE","$e",313],")",",",["T_WHITESPACE","\n      ",313],")",")",")",";",["T_WHITESPACE","\n    ",314],"}",["T_WHITESPACE","\n  ",315],"}",["T_WHITESPACE","\n\n",316],"}",["T_WHITESPACE","\n",318]]