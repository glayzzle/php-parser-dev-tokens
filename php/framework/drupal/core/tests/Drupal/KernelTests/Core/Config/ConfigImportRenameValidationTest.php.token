[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Config",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","SafeMarkup",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Utility",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unicode",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Component",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Uuid",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Php",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Config",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ConfigImporter",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Config",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ConfigImporterException",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Config",10],["T_NS_SEPARATOR","\\",10],["T_STRING","StorageComparer",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","node",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Entity",11],["T_NS_SEPARATOR","\\",11],["T_STRING","NodeType",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","KernelTests",12],["T_NS_SEPARATOR","\\",12],["T_STRING","KernelTestBase",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Tests validating renamed configuration in a configuration import.\n *\n * @group config\n *\/",14],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","ConfigImportRenameValidationTest",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_STRING","KernelTestBase",19],["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * Config Importer object used for testing.\n   *\n   * @var \\Drupal\\Core\\Config\\ConfigImporter\n   *\/",21],["T_WHITESPACE","\n  ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$configImporter",26],";",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",28],["T_WHITESPACE","\n  ",32],["T_PUBLIC","public",33],["T_WHITESPACE"," ",33],["T_STATIC","static",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$modules",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],"[",["T_CONSTANT_ENCAPSED_STRING","'system'",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'user'",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'node'",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'field'",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'text'",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'config_test'",33],"]",";",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",35],["T_WHITESPACE","\n  ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","setUp",38],"(",")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n    ",38],["T_STRING","parent",39],["T_DOUBLE_COLON","::",39],["T_STRING","setUp",39],"(",")",";",["T_WHITESPACE","\n\n    ",39],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","installEntitySchema",41],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",41],")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","installEntitySchema",42],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",42],")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","installConfig",43],"(",["T_ARRAY","array",43],"(",["T_CONSTANT_ENCAPSED_STRING","'field'",43],")",")",";",["T_WHITESPACE","\n\n    ",43],["T_COMMENT","\/\/ Set up the ConfigImporter object for testing.\n",45],["T_WHITESPACE","    ",46],["T_VARIABLE","$storage_comparer",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_NEW","new",46],["T_WHITESPACE"," ",46],["T_STRING","StorageComparer",46],"(",["T_WHITESPACE","\n      ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","container",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","get",47],"(",["T_CONSTANT_ENCAPSED_STRING","'config.storage.sync'",47],")",",",["T_WHITESPACE","\n      ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","container",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","get",48],"(",["T_CONSTANT_ENCAPSED_STRING","'config.storage'",48],")",",",["T_WHITESPACE","\n      ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","container",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","get",49],"(",["T_CONSTANT_ENCAPSED_STRING","'config.manager'",49],")",["T_WHITESPACE","\n    ",49],")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","configImporter",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_NEW","new",51],["T_WHITESPACE"," ",51],["T_STRING","ConfigImporter",51],"(",["T_WHITESPACE","\n      ",51],["T_VARIABLE","$storage_comparer",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","createChangelist",52],"(",")",",",["T_WHITESPACE","\n      ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","container",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","get",53],"(",["T_CONSTANT_ENCAPSED_STRING","'event_dispatcher'",53],")",",",["T_WHITESPACE","\n      ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","container",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","get",54],"(",["T_CONSTANT_ENCAPSED_STRING","'config.manager'",54],")",",",["T_WHITESPACE","\n      ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","container",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","get",55],"(",["T_CONSTANT_ENCAPSED_STRING","'lock.persistent'",55],")",",",["T_WHITESPACE","\n      ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","container",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","get",56],"(",["T_CONSTANT_ENCAPSED_STRING","'config.typed'",56],")",",",["T_WHITESPACE","\n      ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","container",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","get",57],"(",["T_CONSTANT_ENCAPSED_STRING","'module_handler'",57],")",",",["T_WHITESPACE","\n      ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","container",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","get",58],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",58],")",",",["T_WHITESPACE","\n      ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","container",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","get",59],"(",["T_CONSTANT_ENCAPSED_STRING","'theme_handler'",59],")",",",["T_WHITESPACE","\n      ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","container",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","get",60],"(",["T_CONSTANT_ENCAPSED_STRING","'string_translation'",60],")",["T_WHITESPACE","\n    ",60],")",";",["T_WHITESPACE","\n  ",61],"}",["T_WHITESPACE","\n\n  ",62],["T_DOC_COMMENT","\/**\n   * Tests configuration renaming validation.\n   *\/",64],["T_WHITESPACE","\n  ",66],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","testRenameValidation",67],"(",")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n    ",67],["T_COMMENT","\/\/ Create a test entity.\n",68],["T_WHITESPACE","    ",69],["T_VARIABLE","$test_entity_id",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","randomMachineName",69],"(",")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$test_entity",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","entity_create",70],"(",["T_CONSTANT_ENCAPSED_STRING","'config_test'",70],",",["T_WHITESPACE"," ",70],["T_ARRAY","array",70],"(",["T_WHITESPACE","\n      ",70],["T_CONSTANT_ENCAPSED_STRING","'id'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$test_entity_id",71],",",["T_WHITESPACE","\n      ",71],["T_CONSTANT_ENCAPSED_STRING","'label'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","randomMachineName",72],"(",")",",",["T_WHITESPACE","\n    ",72],")",")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$test_entity",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","save",74],"(",")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$uuid",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$test_entity",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","uuid",75],"(",")",";",["T_WHITESPACE","\n\n    ",75],["T_COMMENT","\/\/ Stage the test entity and then delete it from the active storage.\n",77],["T_WHITESPACE","    ",78],["T_VARIABLE","$active",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","container",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","get",78],"(",["T_CONSTANT_ENCAPSED_STRING","'config.storage'",78],")",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$sync",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","container",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","get",79],"(",["T_CONSTANT_ENCAPSED_STRING","'config.storage.sync'",79],")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","copyConfig",80],"(",["T_VARIABLE","$active",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$sync",80],")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$test_entity",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","delete",81],"(",")",";",["T_WHITESPACE","\n\n    ",81],["T_COMMENT","\/\/ Create a content type with a matching UUID in the active storage.\n",83],["T_WHITESPACE","    ",84],["T_VARIABLE","$content_type",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_STRING","NodeType",84],["T_DOUBLE_COLON","::",84],["T_STRING","create",84],"(","[",["T_WHITESPACE","\n      ",84],["T_CONSTANT_ENCAPSED_STRING","'type'",85],["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_STRING","Unicode",85],["T_DOUBLE_COLON","::",85],["T_STRING","strtolower",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","randomMachineName",85],"(",["T_LNUMBER","16",85],")",")",",",["T_WHITESPACE","\n      ",85],["T_CONSTANT_ENCAPSED_STRING","'name'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","randomMachineName",86],"(",")",",",["T_WHITESPACE","\n      ",86],["T_CONSTANT_ENCAPSED_STRING","'uuid'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$uuid",87],",",["T_WHITESPACE","\n    ",87],"]",")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$content_type",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","save",89],"(",")",";",["T_WHITESPACE","\n\n    ",89],["T_COMMENT","\/\/ Confirm that the staged configuration is detected as a rename since the\n",91],["T_WHITESPACE","    ",92],["T_COMMENT","\/\/ UUIDs match.\n",92],["T_WHITESPACE","    ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","configImporter",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","reset",93],"(",")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$expected",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_ARRAY","array",94],"(",["T_WHITESPACE","\n      ",94],["T_CONSTANT_ENCAPSED_STRING","'node.type.'",95],["T_WHITESPACE"," ",95],".",["T_WHITESPACE"," ",95],["T_VARIABLE","$content_type",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","id",95],"(",")",["T_WHITESPACE"," ",95],".",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'::config_test.dynamic.'",95],["T_WHITESPACE"," ",95],".",["T_WHITESPACE"," ",95],["T_VARIABLE","$test_entity_id",95],",",["T_WHITESPACE","\n    ",95],")",";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$renames",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","configImporter",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getUnprocessedConfiguration",97],"(",["T_CONSTANT_ENCAPSED_STRING","'rename'",97],")",";",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","assertIdentical",98],"(",["T_VARIABLE","$expected",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$renames",98],")",";",["T_WHITESPACE","\n\n    ",98],["T_COMMENT","\/\/ Try to import the configuration. We expect an exception to be thrown\n",100],["T_WHITESPACE","    ",101],["T_COMMENT","\/\/ because the staged entity is of a different type.\n",101],["T_WHITESPACE","    ",102],["T_TRY","try",102],["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n      ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","configImporter",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","import",103],"(",")",";",["T_WHITESPACE","\n      ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","fail",104],"(",["T_CONSTANT_ENCAPSED_STRING","'Expected ConfigImporterException thrown when a renamed configuration entity does not match the existing entity type.'",104],")",";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n    ",105],["T_CATCH","catch",106],["T_WHITESPACE"," ",106],"(",["T_STRING","ConfigImporterException",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$e",106],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n      ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","pass",107],"(",["T_CONSTANT_ENCAPSED_STRING","'Expected ConfigImporterException thrown when a renamed configuration entity does not match the existing entity type.'",107],")",";",["T_WHITESPACE","\n      ",107],["T_VARIABLE","$expected",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_ARRAY","array",108],"(",["T_WHITESPACE","\n        ",108],["T_STRING","SafeMarkup",109],["T_DOUBLE_COLON","::",109],["T_STRING","format",109],"(",["T_CONSTANT_ENCAPSED_STRING","'Entity type mismatch on rename. @old_type not equal to @new_type for existing configuration @old_name and staged configuration @new_name.'",109],",",["T_WHITESPACE"," ",109],["T_ARRAY","array",109],"(",["T_CONSTANT_ENCAPSED_STRING","'@old_type'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'node_type'",109],",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'@new_type'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'config_test'",109],",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'@old_name'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'node.type.'",109],["T_WHITESPACE"," ",109],".",["T_WHITESPACE"," ",109],["T_VARIABLE","$content_type",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","id",109],"(",")",",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'@new_name'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'config_test.dynamic.'",109],["T_WHITESPACE"," ",109],".",["T_WHITESPACE"," ",109],["T_VARIABLE","$test_entity_id",109],")",")",["T_WHITESPACE","\n      ",109],")",";",["T_WHITESPACE","\n      ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assertEqual",111],"(",["T_VARIABLE","$expected",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","configImporter",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getErrors",111],"(",")",")",";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n  ",112],"}",["T_WHITESPACE","\n\n  ",113],["T_DOC_COMMENT","\/**\n   * Tests configuration renaming validation for simple configuration.\n   *\/",115],["T_WHITESPACE","\n  ",117],["T_PUBLIC","public",118],["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","testRenameSimpleConfigValidation",118],"(",")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$uuid",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_NEW","new",119],["T_WHITESPACE"," ",119],["T_STRING","Php",119],"(",")",";",["T_WHITESPACE","\n    ",119],["T_COMMENT","\/\/ Create a simple configuration with a UUID.\n",120],["T_WHITESPACE","    ",121],["T_VARIABLE","$config",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","config",121],"(",["T_CONSTANT_ENCAPSED_STRING","'config_test.new'",121],")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$uuid_value",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$uuid",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","generate",122],"(",")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$config",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","set",123],"(",["T_CONSTANT_ENCAPSED_STRING","'uuid'",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$uuid_value",123],")",["T_OBJECT_OPERATOR","->",123],["T_STRING","save",123],"(",")",";",["T_WHITESPACE","\n\n    ",123],["T_VARIABLE","$active",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","container",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","get",125],"(",["T_CONSTANT_ENCAPSED_STRING","'config.storage'",125],")",";",["T_WHITESPACE","\n    ",125],["T_VARIABLE","$sync",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","container",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","get",126],"(",["T_CONSTANT_ENCAPSED_STRING","'config.storage.sync'",126],")",";",["T_WHITESPACE","\n    ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","copyConfig",127],"(",["T_VARIABLE","$active",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$sync",127],")",";",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$config",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","delete",128],"(",")",";",["T_WHITESPACE","\n\n    ",128],["T_COMMENT","\/\/ Create another simple configuration with the same UUID.\n",130],["T_WHITESPACE","    ",131],["T_VARIABLE","$config",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","config",131],"(",["T_CONSTANT_ENCAPSED_STRING","'config_test.old'",131],")",";",["T_WHITESPACE","\n    ",131],["T_VARIABLE","$config",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","set",132],"(",["T_CONSTANT_ENCAPSED_STRING","'uuid'",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$uuid_value",132],")",["T_OBJECT_OPERATOR","->",132],["T_STRING","save",132],"(",")",";",["T_WHITESPACE","\n\n    ",132],["T_COMMENT","\/\/ Confirm that the staged configuration is detected as a rename since the\n",134],["T_WHITESPACE","    ",135],["T_COMMENT","\/\/ UUIDs match.\n",135],["T_WHITESPACE","    ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","configImporter",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","reset",136],"(",")",";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$expected",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_ARRAY","array",137],"(",["T_WHITESPACE","\n      ",137],["T_CONSTANT_ENCAPSED_STRING","'config_test.old::config_test.new'",138],["T_WHITESPACE","\n    ",138],")",";",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$renames",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","configImporter",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getUnprocessedConfiguration",140],"(",["T_CONSTANT_ENCAPSED_STRING","'rename'",140],")",";",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","assertIdentical",141],"(",["T_VARIABLE","$expected",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$renames",141],")",";",["T_WHITESPACE","\n\n    ",141],["T_COMMENT","\/\/ Try to import the configuration. We expect an exception to be thrown\n",143],["T_WHITESPACE","    ",144],["T_COMMENT","\/\/ because the rename is for simple configuration.\n",144],["T_WHITESPACE","    ",145],["T_TRY","try",145],["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n      ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","configImporter",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","import",146],"(",")",";",["T_WHITESPACE","\n      ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","fail",147],"(",["T_CONSTANT_ENCAPSED_STRING","'Expected ConfigImporterException thrown when simple configuration is renamed.'",147],")",";",["T_WHITESPACE","\n    ",147],"}",["T_WHITESPACE","\n    ",148],["T_CATCH","catch",149],["T_WHITESPACE"," ",149],"(",["T_STRING","ConfigImporterException",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$e",149],")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n      ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","pass",150],"(",["T_CONSTANT_ENCAPSED_STRING","'Expected ConfigImporterException thrown when simple configuration is renamed.'",150],")",";",["T_WHITESPACE","\n      ",150],["T_VARIABLE","$expected",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_ARRAY","array",151],"(",["T_WHITESPACE","\n        ",151],["T_STRING","SafeMarkup",152],["T_DOUBLE_COLON","::",152],["T_STRING","format",152],"(",["T_CONSTANT_ENCAPSED_STRING","'Rename operation for simple configuration. Existing configuration @old_name and staged configuration @new_name.'",152],",",["T_WHITESPACE"," ",152],["T_ARRAY","array",152],"(",["T_CONSTANT_ENCAPSED_STRING","'@old_name'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'config_test.old'",152],",",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'@new_name'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'config_test.new'",152],")",")",["T_WHITESPACE","\n      ",152],")",";",["T_WHITESPACE","\n      ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","assertEqual",154],"(",["T_VARIABLE","$expected",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","configImporter",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getErrors",154],"(",")",")",";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n  ",155],"}",["T_WHITESPACE","\n\n",156],"}",["T_WHITESPACE","\n",158]]