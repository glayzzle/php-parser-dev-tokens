[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Config",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Config",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FileStorage",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","KernelTests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","KernelTestBase",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests reading and writing of configuration files.\n *\n * @group config\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","ConfigFileContentTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","KernelTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * Exempt from strict schema checking.\n   *\n   * @see \\Drupal\\Core\\Config\\Testing\\ConfigSchemaChecker\n   *\n   * @var bool\n   *\/",15],["T_WHITESPACE","\n  ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$strictConfigSchema",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_STRING","FALSE",22],";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * Tests setting, writing, and reading of a configuration setting.\n   *\/",24],["T_WHITESPACE","\n  ",26],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","testReadWriteConfig",27],"(",")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n    ",27],["T_VARIABLE","$storage",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","container",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","get",28],"(",["T_CONSTANT_ENCAPSED_STRING","'config.storage'",28],")",";",["T_WHITESPACE","\n\n    ",28],["T_VARIABLE","$name",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'foo.bar'",30],";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$key",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'foo'",31],";",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$value",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'bar'",32],";",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$nested_key",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'biff.bang'",33],";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$nested_value",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'pow'",34],";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$array_key",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'array'",35],";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$array_value",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_ARRAY","array",36],"(",["T_WHITESPACE","\n      ",36],["T_CONSTANT_ENCAPSED_STRING","'foo'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'bar'",37],",",["T_WHITESPACE","\n      ",37],["T_CONSTANT_ENCAPSED_STRING","'biff'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_ARRAY","array",38],"(",["T_WHITESPACE","\n        ",38],["T_CONSTANT_ENCAPSED_STRING","'bang'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'pow'",39],",",["T_WHITESPACE","\n      ",39],")",",",["T_WHITESPACE","\n    ",40],")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$casting_array_key",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'casting_array'",42],";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$casting_array_false_value_key",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'casting_array.cast.false'",43],";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$casting_array_value",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_ARRAY","array",44],"(",["T_WHITESPACE","\n      ",44],["T_CONSTANT_ENCAPSED_STRING","'cast'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_ARRAY","array",45],"(",["T_WHITESPACE","\n        ",45],["T_CONSTANT_ENCAPSED_STRING","'false'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_STRING","FALSE",46],",",["T_WHITESPACE","\n      ",46],")",",",["T_WHITESPACE","\n    ",47],")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$nested_array_key",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'nested.array'",49],";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$true_key",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'true'",50],";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$false_key",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'false'",51],";",["T_WHITESPACE","\n\n    ",51],["T_COMMENT","\/\/ Attempt to read non-existing configuration.\n",53],["T_WHITESPACE","    ",54],["T_VARIABLE","$config",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","config",54],"(",["T_VARIABLE","$name",54],")",";",["T_WHITESPACE","\n\n    ",54],["T_COMMENT","\/\/ Verify a configuration object is returned.\n",56],["T_WHITESPACE","    ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","assertEqual",57],"(",["T_VARIABLE","$config",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getName",57],"(",")",",",["T_WHITESPACE"," ",57],["T_VARIABLE","$name",57],")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","assertTrue",58],"(",["T_VARIABLE","$config",58],",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'Config object created.'",58],")",";",["T_WHITESPACE","\n\n    ",58],["T_COMMENT","\/\/ Verify the configuration object is empty.\n",60],["T_WHITESPACE","    ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","assertEqual",61],"(",["T_VARIABLE","$config",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","get",61],"(",")",",",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",")",",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'New config object is empty.'",61],")",";",["T_WHITESPACE","\n\n    ",61],["T_COMMENT","\/\/ Verify nothing was saved.\n",63],["T_WHITESPACE","    ",64],["T_VARIABLE","$data",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$storage",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","read",64],"(",["T_VARIABLE","$name",64],")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","assertIdentical",65],"(",["T_VARIABLE","$data",65],",",["T_WHITESPACE"," ",65],["T_STRING","FALSE",65],")",";",["T_WHITESPACE","\n\n    ",65],["T_COMMENT","\/\/ Add a top level value.\n",67],["T_WHITESPACE","    ",68],["T_VARIABLE","$config",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","config",68],"(",["T_VARIABLE","$name",68],")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$config",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","set",69],"(",["T_VARIABLE","$key",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$value",69],")",";",["T_WHITESPACE","\n\n    ",69],["T_COMMENT","\/\/ Add a nested value.\n",71],["T_WHITESPACE","    ",72],["T_VARIABLE","$config",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","set",72],"(",["T_VARIABLE","$nested_key",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$nested_value",72],")",";",["T_WHITESPACE","\n\n    ",72],["T_COMMENT","\/\/ Add an array.\n",74],["T_WHITESPACE","    ",75],["T_VARIABLE","$config",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","set",75],"(",["T_VARIABLE","$array_key",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$array_value",75],")",";",["T_WHITESPACE","\n\n    ",75],["T_COMMENT","\/\/ Add a nested array.\n",77],["T_WHITESPACE","    ",78],["T_VARIABLE","$config",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","set",78],"(",["T_VARIABLE","$nested_array_key",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$array_value",78],")",";",["T_WHITESPACE","\n\n    ",78],["T_COMMENT","\/\/ Add a boolean false value. Should get cast to 0.\n",80],["T_WHITESPACE","    ",81],["T_VARIABLE","$config",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","set",81],"(",["T_VARIABLE","$false_key",81],",",["T_WHITESPACE"," ",81],["T_STRING","FALSE",81],")",";",["T_WHITESPACE","\n\n    ",81],["T_COMMENT","\/\/ Add a boolean true value. Should get cast to 1.\n",83],["T_WHITESPACE","    ",84],["T_VARIABLE","$config",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","set",84],"(",["T_VARIABLE","$true_key",84],",",["T_WHITESPACE"," ",84],["T_STRING","TRUE",84],")",";",["T_WHITESPACE","\n\n    ",84],["T_COMMENT","\/\/ Add a null value. Should get cast to an empty string.\n",86],["T_WHITESPACE","    ",87],["T_VARIABLE","$config",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","set",87],"(",["T_CONSTANT_ENCAPSED_STRING","'null'",87],",",["T_WHITESPACE"," ",87],["T_STRING","NULL",87],")",";",["T_WHITESPACE","\n\n    ",87],["T_COMMENT","\/\/ Add an array with a nested boolean false that should get cast to 0.\n",89],["T_WHITESPACE","    ",90],["T_VARIABLE","$config",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","set",90],"(",["T_VARIABLE","$casting_array_key",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$casting_array_value",90],")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$config",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","save",91],"(",")",";",["T_WHITESPACE","\n\n    ",91],["T_COMMENT","\/\/ Verify the database entry exists.\n",93],["T_WHITESPACE","    ",94],["T_VARIABLE","$data",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$storage",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","read",94],"(",["T_VARIABLE","$name",94],")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertTrue",95],"(",["T_VARIABLE","$data",95],")",";",["T_WHITESPACE","\n\n    ",95],["T_COMMENT","\/\/ Read top level value.\n",97],["T_WHITESPACE","    ",98],["T_VARIABLE","$config",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","config",98],"(",["T_VARIABLE","$name",98],")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","assertEqual",99],"(",["T_VARIABLE","$config",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getName",99],"(",")",",",["T_WHITESPACE"," ",99],["T_VARIABLE","$name",99],")",";",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertTrue",100],"(",["T_VARIABLE","$config",100],",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'Config object created.'",100],")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertEqual",101],"(",["T_VARIABLE","$config",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","get",101],"(",["T_VARIABLE","$key",101],")",",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'bar'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'Top level configuration value found.'",101],")",";",["T_WHITESPACE","\n\n    ",101],["T_COMMENT","\/\/ Read nested value.\n",103],["T_WHITESPACE","    ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","assertEqual",104],"(",["T_VARIABLE","$config",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","get",104],"(",["T_VARIABLE","$nested_key",104],")",",",["T_WHITESPACE"," ",104],["T_VARIABLE","$nested_value",104],",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'Nested configuration value found.'",104],")",";",["T_WHITESPACE","\n\n    ",104],["T_COMMENT","\/\/ Read array.\n",106],["T_WHITESPACE","    ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertEqual",107],"(",["T_VARIABLE","$config",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","get",107],"(",["T_VARIABLE","$array_key",107],")",",",["T_WHITESPACE"," ",107],["T_VARIABLE","$array_value",107],",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'Top level array configuration value found.'",107],")",";",["T_WHITESPACE","\n\n    ",107],["T_COMMENT","\/\/ Read nested array.\n",109],["T_WHITESPACE","    ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertEqual",110],"(",["T_VARIABLE","$config",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","get",110],"(",["T_VARIABLE","$nested_array_key",110],")",",",["T_WHITESPACE"," ",110],["T_VARIABLE","$array_value",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'Nested array configuration value found.'",110],")",";",["T_WHITESPACE","\n\n    ",110],["T_COMMENT","\/\/ Read a top level value that doesn't exist.\n",112],["T_WHITESPACE","    ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","assertNull",113],"(",["T_VARIABLE","$config",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","get",113],"(",["T_CONSTANT_ENCAPSED_STRING","'i_dont_exist'",113],")",",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'Non-existent top level value returned NULL.'",113],")",";",["T_WHITESPACE","\n\n    ",113],["T_COMMENT","\/\/ Read a nested value that doesn't exist.\n",115],["T_WHITESPACE","    ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","assertNull",116],"(",["T_VARIABLE","$config",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","get",116],"(",["T_CONSTANT_ENCAPSED_STRING","'i.dont.exist'",116],")",",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'Non-existent nested value returned NULL.'",116],")",";",["T_WHITESPACE","\n\n    ",116],["T_COMMENT","\/\/ Read false value.\n",118],["T_WHITESPACE","    ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertFalse",119],"(",["T_VARIABLE","$config",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","get",119],"(",["T_VARIABLE","$false_key",119],")",",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","\"Boolean FALSE value returned the FALSE.\"",119],")",";",["T_WHITESPACE","\n\n    ",119],["T_COMMENT","\/\/ Read true value.\n",121],["T_WHITESPACE","    ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertTrue",122],"(",["T_VARIABLE","$config",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","get",122],"(",["T_VARIABLE","$true_key",122],")",",",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","\"Boolean TRUE value returned the TRUE.\"",122],")",";",["T_WHITESPACE","\n\n    ",122],["T_COMMENT","\/\/ Read null value.\n",124],["T_WHITESPACE","    ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertIdentical",125],"(",["T_VARIABLE","$config",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","get",125],"(",["T_CONSTANT_ENCAPSED_STRING","'null'",125],")",",",["T_WHITESPACE"," ",125],["T_STRING","NULL",125],")",";",["T_WHITESPACE","\n\n    ",125],["T_COMMENT","\/\/ Read false that had been nested in an array value.\n",127],["T_WHITESPACE","    ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","assertSame",128],"(",["T_VARIABLE","$config",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","get",128],"(",["T_VARIABLE","$casting_array_false_value_key",128],")",",",["T_WHITESPACE"," ",128],["T_STRING","FALSE",128],",",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","\"Nested boolean FALSE value returned FALSE.\"",128],")",";",["T_WHITESPACE","\n\n    ",128],["T_COMMENT","\/\/ Unset a top level value.\n",130],["T_WHITESPACE","    ",131],["T_VARIABLE","$config",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","clear",131],"(",["T_VARIABLE","$key",131],")",";",["T_WHITESPACE","\n\n    ",131],["T_COMMENT","\/\/ Unset a nested value.\n",133],["T_WHITESPACE","    ",134],["T_VARIABLE","$config",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","clear",134],"(",["T_VARIABLE","$nested_key",134],")",";",["T_WHITESPACE","\n    ",134],["T_VARIABLE","$config",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","save",135],"(",")",";",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$config",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","config",136],"(",["T_VARIABLE","$name",136],")",";",["T_WHITESPACE","\n\n    ",136],["T_COMMENT","\/\/ Read unset top level value.\n",138],["T_WHITESPACE","    ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","assertNull",139],"(",["T_VARIABLE","$config",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","get",139],"(",["T_VARIABLE","$key",139],")",",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'Top level value unset.'",139],")",";",["T_WHITESPACE","\n\n    ",139],["T_COMMENT","\/\/ Read unset nested value.\n",141],["T_WHITESPACE","    ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","assertNull",142],"(",["T_VARIABLE","$config",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","get",142],"(",["T_VARIABLE","$nested_key",142],")",",",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'Nested value unset.'",142],")",";",["T_WHITESPACE","\n\n    ",142],["T_COMMENT","\/\/ Create two new configuration files to test listing.\n",144],["T_WHITESPACE","    ",145],["T_VARIABLE","$config",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","config",145],"(",["T_CONSTANT_ENCAPSED_STRING","'foo.baz'",145],")",";",["T_WHITESPACE","\n    ",145],["T_VARIABLE","$config",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","set",146],"(",["T_VARIABLE","$key",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$value",146],")",";",["T_WHITESPACE","\n    ",146],["T_VARIABLE","$config",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","save",147],"(",")",";",["T_WHITESPACE","\n\n    ",147],["T_COMMENT","\/\/ Test chained set()->save().\n",149],["T_WHITESPACE","    ",150],["T_VARIABLE","$chained_name",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'biff.bang'",150],";",["T_WHITESPACE","\n    ",150],["T_VARIABLE","$config",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","config",151],"(",["T_VARIABLE","$chained_name",151],")",";",["T_WHITESPACE","\n    ",151],["T_VARIABLE","$config",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","set",152],"(",["T_VARIABLE","$key",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$value",152],")",["T_OBJECT_OPERATOR","->",152],["T_STRING","save",152],"(",")",";",["T_WHITESPACE","\n\n    ",152],["T_COMMENT","\/\/ Verify the database entry exists from a chained save.\n",154],["T_WHITESPACE","    ",155],["T_VARIABLE","$data",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$storage",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","read",155],"(",["T_VARIABLE","$chained_name",155],")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","assertEqual",156],"(",["T_VARIABLE","$data",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$config",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","get",156],"(",")",")",";",["T_WHITESPACE","\n\n    ",156],["T_COMMENT","\/\/ Get file listing for all files starting with 'foo'. Should return\n",158],["T_WHITESPACE","    ",159],["T_COMMENT","\/\/ two elements.\n",159],["T_WHITESPACE","    ",160],["T_VARIABLE","$files",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$storage",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","listAll",160],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",160],")",";",["T_WHITESPACE","\n    ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","assertEqual",161],"(",["T_STRING","count",161],"(",["T_VARIABLE","$files",161],")",",",["T_WHITESPACE"," ",161],["T_LNUMBER","2",161],",",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'Two files listed with the prefix \\'foo\\'.'",161],")",";",["T_WHITESPACE","\n\n    ",161],["T_COMMENT","\/\/ Get file listing for all files starting with 'biff'. Should return\n",163],["T_WHITESPACE","    ",164],["T_COMMENT","\/\/ one element.\n",164],["T_WHITESPACE","    ",165],["T_VARIABLE","$files",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$storage",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","listAll",165],"(",["T_CONSTANT_ENCAPSED_STRING","'biff'",165],")",";",["T_WHITESPACE","\n    ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","assertEqual",166],"(",["T_STRING","count",166],"(",["T_VARIABLE","$files",166],")",",",["T_WHITESPACE"," ",166],["T_LNUMBER","1",166],",",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'One file listed with the prefix \\'biff\\'.'",166],")",";",["T_WHITESPACE","\n\n    ",166],["T_COMMENT","\/\/ Get file listing for all files starting with 'foo.bar'. Should return\n",168],["T_WHITESPACE","    ",169],["T_COMMENT","\/\/ one element.\n",169],["T_WHITESPACE","    ",170],["T_VARIABLE","$files",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$storage",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","listAll",170],"(",["T_CONSTANT_ENCAPSED_STRING","'foo.bar'",170],")",";",["T_WHITESPACE","\n    ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","assertEqual",171],"(",["T_STRING","count",171],"(",["T_VARIABLE","$files",171],")",",",["T_WHITESPACE"," ",171],["T_LNUMBER","1",171],",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'One file listed with the prefix \\'foo.bar\\'.'",171],")",";",["T_WHITESPACE","\n\n    ",171],["T_COMMENT","\/\/ Get file listing for all files starting with 'bar'. Should return\n",173],["T_WHITESPACE","    ",174],["T_COMMENT","\/\/ an empty array.\n",174],["T_WHITESPACE","    ",175],["T_VARIABLE","$files",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$storage",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","listAll",175],"(",["T_CONSTANT_ENCAPSED_STRING","'bar'",175],")",";",["T_WHITESPACE","\n    ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","assertEqual",176],"(",["T_VARIABLE","$files",176],",",["T_WHITESPACE"," ",176],["T_ARRAY","array",176],"(",")",",",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'No files listed with the prefix \\'bar\\'.'",176],")",";",["T_WHITESPACE","\n\n    ",176],["T_COMMENT","\/\/ Delete the configuration.\n",178],["T_WHITESPACE","    ",179],["T_VARIABLE","$config",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","config",179],"(",["T_VARIABLE","$name",179],")",";",["T_WHITESPACE","\n    ",179],["T_VARIABLE","$config",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","delete",180],"(",")",";",["T_WHITESPACE","\n\n    ",180],["T_COMMENT","\/\/ Verify the database entry no longer exists.\n",182],["T_WHITESPACE","    ",183],["T_VARIABLE","$data",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$storage",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","read",183],"(",["T_VARIABLE","$name",183],")",";",["T_WHITESPACE","\n    ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","assertIdentical",184],"(",["T_VARIABLE","$data",184],",",["T_WHITESPACE"," ",184],["T_STRING","FALSE",184],")",";",["T_WHITESPACE","\n  ",184],"}",["T_WHITESPACE","\n\n  ",185],["T_DOC_COMMENT","\/**\n   * Tests serialization of configuration to file.\n   *\/",187],["T_WHITESPACE","\n  ",189],["T_FUNCTION","function",190],["T_WHITESPACE"," ",190],["T_STRING","testSerialization",190],"(",")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n    ",190],["T_VARIABLE","$name",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","randomMachineName",191],"(",["T_LNUMBER","10",191],")",["T_WHITESPACE"," ",191],".",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'.'",191],["T_WHITESPACE"," ",191],".",["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","randomMachineName",191],"(",["T_LNUMBER","10",191],")",";",["T_WHITESPACE","\n    ",191],["T_VARIABLE","$config_data",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_ARRAY","array",192],"(",["T_WHITESPACE","\n      ",192],["T_COMMENT","\/\/ Indexed arrays; the order of elements is essential.\n",193],["T_WHITESPACE","      ",194],["T_CONSTANT_ENCAPSED_STRING","'numeric keys'",194],["T_WHITESPACE"," ",194],["T_DOUBLE_ARROW","=>",194],["T_WHITESPACE"," ",194],["T_ARRAY","array",194],"(",["T_CONSTANT_ENCAPSED_STRING","'i'",194],",",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'n'",194],",",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'d'",194],",",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'e'",194],",",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'x'",194],",",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'e'",194],",",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'d'",194],")",",",["T_WHITESPACE","\n      ",194],["T_COMMENT","\/\/ Infinitely nested keys using arbitrary element names.\n",195],["T_WHITESPACE","      ",196],["T_CONSTANT_ENCAPSED_STRING","'nested keys'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_ARRAY","array",196],"(",["T_WHITESPACE","\n        ",196],["T_COMMENT","\/\/ HTML\/XML in values.\n",197],["T_WHITESPACE","        ",198],["T_CONSTANT_ENCAPSED_STRING","'HTML'",198],["T_WHITESPACE"," ",198],["T_DOUBLE_ARROW","=>",198],["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'<strong> <bold> <em> <blockquote>'",198],",",["T_WHITESPACE","\n        ",198],["T_COMMENT","\/\/ UTF-8 in values.\n",199],["T_WHITESPACE","        ",200],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'Fran\u00c3\u00a7AIS is \u00c3\u009cBER-\u00c3\u00a5wesome'",200],",",["T_WHITESPACE","\n        ",200],["T_COMMENT","\/\/ Unicode in keys and values.\n",201],["T_WHITESPACE","        ",202],["T_CONSTANT_ENCAPSED_STRING","'\u00ce\u0091\u00ce\u0092\u00ce\u0093\u00ce\u0094\u00ce\u0095\u00ce\u0096\u00ce\u0097\u00ce\u0098\u00ce\u0099\u00ce\u009a\u00ce\u009b\u00ce\u009c\u00ce\u009d\u00ce\u009e\u00ce\u009f\u00ce\u00a3\u00e1\u00bd\u00a8'",202],["T_WHITESPACE"," ",202],["T_DOUBLE_ARROW","=>",202],["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'\u00ce\u00b1\u00ce\u00b2\u00ce\u00b3\u00ce\u00b4\u00ce\u00b5\u00ce\u00b6\u00ce\u00b7\u00ce\u00b8\u00ce\u00b9\u00ce\u00ba\u00ce\u00bb\u00ce\u00bc\u00ce\u00bd\u00ce\u00be\u00ce\u00bf\u00cf\u0083\u00e1\u00bd\u00a0'",202],",",["T_WHITESPACE","\n      ",202],")",",",["T_WHITESPACE","\n      ",203],["T_CONSTANT_ENCAPSED_STRING","'invalid xml'",204],["T_WHITESPACE"," ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","'<\/title><script type=\"text\/javascript\">alert(\"Title XSS!\");<\/script> & < > \" \\' '",204],",",["T_WHITESPACE","\n    ",204],")",";",["T_WHITESPACE","\n\n    ",205],["T_COMMENT","\/\/ Encode and write, and reload and decode the configuration data.\n",207],["T_WHITESPACE","    ",208],["T_VARIABLE","$filestorage",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_NEW","new",208],["T_WHITESPACE"," ",208],["T_STRING","FileStorage",208],"(",["T_STRING","config_get_config_directory",208],"(",["T_STRING","CONFIG_SYNC_DIRECTORY",208],")",")",";",["T_WHITESPACE","\n    ",208],["T_VARIABLE","$filestorage",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","write",209],"(",["T_VARIABLE","$name",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$config_data",209],")",";",["T_WHITESPACE","\n    ",209],["T_VARIABLE","$config_parsed",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$filestorage",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","read",210],"(",["T_VARIABLE","$name",210],")",";",["T_WHITESPACE","\n\n    ",210],["T_VARIABLE","$key",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'numeric keys'",212],";",["T_WHITESPACE","\n    ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","assertIdentical",213],"(",["T_VARIABLE","$config_data",213],"[",["T_VARIABLE","$key",213],"]",",",["T_WHITESPACE"," ",213],["T_VARIABLE","$config_parsed",213],"[",["T_VARIABLE","$key",213],"]",")",";",["T_WHITESPACE","\n\n    ",213],["T_VARIABLE","$key",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","'nested keys'",215],";",["T_WHITESPACE","\n    ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","assertIdentical",216],"(",["T_VARIABLE","$config_data",216],"[",["T_VARIABLE","$key",216],"]",",",["T_WHITESPACE"," ",216],["T_VARIABLE","$config_parsed",216],"[",["T_VARIABLE","$key",216],"]",")",";",["T_WHITESPACE","\n\n    ",216],["T_VARIABLE","$key",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'HTML'",218],";",["T_WHITESPACE","\n    ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","assertIdentical",219],"(",["T_VARIABLE","$config_data",219],"[",["T_CONSTANT_ENCAPSED_STRING","'nested keys'",219],"]","[",["T_VARIABLE","$key",219],"]",",",["T_WHITESPACE"," ",219],["T_VARIABLE","$config_parsed",219],"[",["T_CONSTANT_ENCAPSED_STRING","'nested keys'",219],"]","[",["T_VARIABLE","$key",219],"]",")",";",["T_WHITESPACE","\n\n    ",219],["T_VARIABLE","$key",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",221],";",["T_WHITESPACE","\n    ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","assertIdentical",222],"(",["T_VARIABLE","$config_data",222],"[",["T_CONSTANT_ENCAPSED_STRING","'nested keys'",222],"]","[",["T_VARIABLE","$key",222],"]",",",["T_WHITESPACE"," ",222],["T_VARIABLE","$config_parsed",222],"[",["T_CONSTANT_ENCAPSED_STRING","'nested keys'",222],"]","[",["T_VARIABLE","$key",222],"]",")",";",["T_WHITESPACE","\n\n    ",222],["T_VARIABLE","$key",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'\u00ce\u0091\u00ce\u0092\u00ce\u0093\u00ce\u0094\u00ce\u0095\u00ce\u0096\u00ce\u0097\u00ce\u0098\u00ce\u0099\u00ce\u009a\u00ce\u009b\u00ce\u009c\u00ce\u009d\u00ce\u009e\u00ce\u009f\u00ce\u00a3\u00e1\u00bd\u00a8'",224],";",["T_WHITESPACE","\n    ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","assertIdentical",225],"(",["T_VARIABLE","$config_data",225],"[",["T_CONSTANT_ENCAPSED_STRING","'nested keys'",225],"]","[",["T_VARIABLE","$key",225],"]",",",["T_WHITESPACE"," ",225],["T_VARIABLE","$config_parsed",225],"[",["T_CONSTANT_ENCAPSED_STRING","'nested keys'",225],"]","[",["T_VARIABLE","$key",225],"]",")",";",["T_WHITESPACE","\n\n    ",225],["T_VARIABLE","$key",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","'invalid xml'",227],";",["T_WHITESPACE","\n    ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","assertIdentical",228],"(",["T_VARIABLE","$config_data",228],"[",["T_VARIABLE","$key",228],"]",",",["T_WHITESPACE"," ",228],["T_VARIABLE","$config_parsed",228],"[",["T_VARIABLE","$key",228],"]",")",";",["T_WHITESPACE","\n  ",228],"}",["T_WHITESPACE","\n\n",229],"}",["T_WHITESPACE","\n",231]]