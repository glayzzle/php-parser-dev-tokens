[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KeyValueStore",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","EntityMalformedException",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","EntityStorageException",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","KernelTests",7],["T_NS_SEPARATOR","\\",7],["T_STRING","KernelTestBase",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","entity_test",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","EntityTestLabel",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Tests KeyValueEntityStorage for content entities.\n *\n * @group KeyValueStore\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","KeyValueContentEntityStorageTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","KernelTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_STATIC","static",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$modules",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_ARRAY","array",22],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'keyvalue_test'",22],")",";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",24],["T_WHITESPACE","\n  ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","setUp",27],"(",")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n    ",27],["T_STRING","parent",28],["T_DOUBLE_COLON","::",28],["T_STRING","setUp",28],"(",")",";",["T_WHITESPACE","\n    ",28],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","installEntitySchema",29],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",29],")",";",["T_WHITESPACE","\n  ",29],"}",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * Tests CRUD operations.\n   *\/",32],["T_WHITESPACE","\n  ",34],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","testCRUD",35],"(",")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$default_langcode",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Drupal",36],["T_DOUBLE_COLON","::",36],["T_STRING","languageManager",36],"(",")",["T_OBJECT_OPERATOR","->",36],["T_STRING","getDefaultLanguage",36],"(",")",["T_OBJECT_OPERATOR","->",36],["T_STRING","getId",36],"(",")",";",["T_WHITESPACE","\n    ",36],["T_COMMENT","\/\/ Verify default properties on a newly created empty entity.\n",37],["T_WHITESPACE","    ",38],["T_VARIABLE","$empty",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_STRING","EntityTestLabel",38],["T_DOUBLE_COLON","::",38],["T_STRING","create",38],"(",")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","assertIdentical",39],"(",["T_VARIABLE","$empty",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","id",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","value",39],",",["T_WHITESPACE"," ",39],["T_STRING","NULL",39],")",";",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","assertIdentical",40],"(",["T_VARIABLE","$empty",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","name",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","value",40],",",["T_WHITESPACE"," ",40],["T_STRING","NULL",40],")",";",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","assertTrue",41],"(",["T_VARIABLE","$empty",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","uuid",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","value",41],")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","assertIdentical",42],"(",["T_VARIABLE","$empty",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","langcode",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","value",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$default_langcode",42],")",";",["T_WHITESPACE","\n\n    ",42],["T_COMMENT","\/\/ Verify ConfigEntity properties\/methods on the newly created empty entity.\n",44],["T_WHITESPACE","    ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","assertIdentical",45],"(",["T_VARIABLE","$empty",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","isNew",45],"(",")",",",["T_WHITESPACE"," ",45],["T_STRING","TRUE",45],")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","assertIdentical",46],"(",["T_VARIABLE","$empty",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","bundle",46],"(",")",",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'entity_test_label'",46],")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","assertIdentical",47],"(",["T_VARIABLE","$empty",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","id",47],"(",")",",",["T_WHITESPACE"," ",47],["T_STRING","NULL",47],")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","assertTrue",48],"(",["T_VARIABLE","$empty",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","uuid",48],"(",")",")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertIdentical",49],"(",["T_VARIABLE","$empty",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","label",49],"(",")",",",["T_WHITESPACE"," ",49],["T_STRING","NULL",49],")",";",["T_WHITESPACE","\n\n    ",49],["T_COMMENT","\/\/ Verify Entity properties\/methods on the newly created empty entity.\n",51],["T_WHITESPACE","    ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","assertIdentical",52],"(",["T_VARIABLE","$empty",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getEntityTypeId",52],"(",")",",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'entity_test_label'",52],")",";",["T_WHITESPACE","\n    ",52],["T_COMMENT","\/\/ The URI can only be checked after saving.\n",53],["T_WHITESPACE","    ",54],["T_TRY","try",54],["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n      ",54],["T_VARIABLE","$empty",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","urlInfo",55],"(",")",";",["T_WHITESPACE","\n      ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","fail",56],"(",["T_CONSTANT_ENCAPSED_STRING","'EntityMalformedException was thrown.'",56],")",";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n    ",57],["T_CATCH","catch",58],["T_WHITESPACE"," ",58],"(",["T_STRING","EntityMalformedException",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$e",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n      ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","pass",59],"(",["T_CONSTANT_ENCAPSED_STRING","'EntityMalformedException was thrown.'",59],")",";",["T_WHITESPACE","\n    ",59],"}",["T_WHITESPACE","\n\n    ",60],["T_COMMENT","\/\/ Verify that an empty entity cannot be saved.\n",62],["T_WHITESPACE","    ",63],["T_TRY","try",63],["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n      ",63],["T_VARIABLE","$empty",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","save",64],"(",")",";",["T_WHITESPACE","\n      ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","fail",65],"(",["T_CONSTANT_ENCAPSED_STRING","'EntityMalformedException was thrown.'",65],")",";",["T_WHITESPACE","\n    ",65],"}",["T_WHITESPACE","\n    ",66],["T_CATCH","catch",67],["T_WHITESPACE"," ",67],"(",["T_STRING","EntityMalformedException",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$e",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n      ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","pass",68],"(",["T_CONSTANT_ENCAPSED_STRING","'EntityMalformedException was thrown.'",68],")",";",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n\n    ",69],["T_COMMENT","\/\/ Verify that an entity with an empty ID string is considered empty, too.\n",71],["T_WHITESPACE","    ",72],["T_VARIABLE","$empty_id",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","EntityTestLabel",72],["T_DOUBLE_COLON","::",72],["T_STRING","create",72],"(",["T_ARRAY","array",72],"(",["T_WHITESPACE","\n      ",72],["T_CONSTANT_ENCAPSED_STRING","'id'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","''",73],",",["T_WHITESPACE","\n    ",73],")",")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertIdentical",75],"(",["T_VARIABLE","$empty_id",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","isNew",75],"(",")",",",["T_WHITESPACE"," ",75],["T_STRING","TRUE",75],")",";",["T_WHITESPACE","\n    ",75],["T_TRY","try",76],["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n      ",76],["T_VARIABLE","$empty_id",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","save",77],"(",")",";",["T_WHITESPACE","\n      ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","fail",78],"(",["T_CONSTANT_ENCAPSED_STRING","'EntityMalformedException was thrown.'",78],")",";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n    ",79],["T_CATCH","catch",80],["T_WHITESPACE"," ",80],"(",["T_STRING","EntityMalformedException",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$e",80],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n      ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","pass",81],"(",["T_CONSTANT_ENCAPSED_STRING","'EntityMalformedException was thrown.'",81],")",";",["T_WHITESPACE","\n    ",81],"}",["T_WHITESPACE","\n\n    ",82],["T_COMMENT","\/\/ Verify properties on a newly created entity.\n",84],["T_WHITESPACE","    ",85],["T_VARIABLE","$entity_test",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","EntityTestLabel",85],["T_DOUBLE_COLON","::",85],["T_STRING","create",85],"(",["T_VARIABLE","$expected",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_ARRAY","array",85],"(",["T_WHITESPACE","\n      ",85],["T_CONSTANT_ENCAPSED_STRING","'id'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","randomMachineName",86],"(",")",",",["T_WHITESPACE","\n      ",86],["T_CONSTANT_ENCAPSED_STRING","'name'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","randomString",87],"(",")",",",["T_WHITESPACE","\n    ",87],")",")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertIdentical",89],"(",["T_VARIABLE","$entity_test",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","id",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","value",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$expected",89],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",89],"]",")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertTrue",90],"(",["T_VARIABLE","$entity_test",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","uuid",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","value",90],")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","assertNotEqual",91],"(",["T_VARIABLE","$entity_test",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","uuid",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","value",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$empty",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","uuid",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","value",91],")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertIdentical",92],"(",["T_VARIABLE","$entity_test",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","name",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","value",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$expected",92],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",92],"]",")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertIdentical",93],"(",["T_VARIABLE","$entity_test",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","langcode",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","value",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$default_langcode",93],")",";",["T_WHITESPACE","\n\n    ",93],["T_COMMENT","\/\/ Verify methods on the newly created entity.\n",95],["T_WHITESPACE","    ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","assertIdentical",96],"(",["T_VARIABLE","$entity_test",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","isNew",96],"(",")",",",["T_WHITESPACE"," ",96],["T_STRING","TRUE",96],")",";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","assertIdentical",97],"(",["T_VARIABLE","$entity_test",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","id",97],"(",")",",",["T_WHITESPACE"," ",97],["T_VARIABLE","$expected",97],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",97],"]",")",";",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","assertTrue",98],"(",["T_VARIABLE","$entity_test",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","uuid",98],"(",")",")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$expected",99],"[",["T_CONSTANT_ENCAPSED_STRING","'uuid'",99],"]",["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$entity_test",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","uuid",99],"(",")",";",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertIdentical",100],"(",["T_VARIABLE","$entity_test",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","label",100],"(",")",",",["T_WHITESPACE"," ",100],["T_VARIABLE","$expected",100],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",100],"]",")",";",["T_WHITESPACE","\n\n    ",100],["T_COMMENT","\/\/ Verify that the entity can be saved.\n",102],["T_WHITESPACE","    ",103],["T_TRY","try",103],["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n      ",103],["T_VARIABLE","$status",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$entity_test",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","save",104],"(",")",";",["T_WHITESPACE","\n      ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","pass",105],"(",["T_CONSTANT_ENCAPSED_STRING","'EntityMalformedException was not thrown.'",105],")",";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n    ",106],["T_CATCH","catch",107],["T_WHITESPACE"," ",107],"(",["T_STRING","EntityMalformedException",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$e",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n      ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","fail",108],"(",["T_CONSTANT_ENCAPSED_STRING","'EntityMalformedException was not thrown.'",108],")",";",["T_WHITESPACE","\n    ",108],"}",["T_WHITESPACE","\n\n    ",109],["T_COMMENT","\/\/ Verify that the correct status is returned and properties did not change.\n",111],["T_WHITESPACE","    ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","assertIdentical",112],"(",["T_VARIABLE","$status",112],",",["T_WHITESPACE"," ",112],["T_STRING","SAVED_NEW",112],")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","assertIdentical",113],"(",["T_VARIABLE","$entity_test",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","id",113],"(",")",",",["T_WHITESPACE"," ",113],["T_VARIABLE","$expected",113],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",113],"]",")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","assertIdentical",114],"(",["T_VARIABLE","$entity_test",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","uuid",114],"(",")",",",["T_WHITESPACE"," ",114],["T_VARIABLE","$expected",114],"[",["T_CONSTANT_ENCAPSED_STRING","'uuid'",114],"]",")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","assertIdentical",115],"(",["T_VARIABLE","$entity_test",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","label",115],"(",")",",",["T_WHITESPACE"," ",115],["T_VARIABLE","$expected",115],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",115],"]",")",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","assertIdentical",116],"(",["T_VARIABLE","$entity_test",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","isNew",116],"(",")",",",["T_WHITESPACE"," ",116],["T_STRING","FALSE",116],")",";",["T_WHITESPACE","\n\n    ",116],["T_COMMENT","\/\/ Save again, and verify correct status and properties again.\n",118],["T_WHITESPACE","    ",119],["T_VARIABLE","$status",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$entity_test",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","save",119],"(",")",";",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","assertIdentical",120],"(",["T_VARIABLE","$status",120],",",["T_WHITESPACE"," ",120],["T_STRING","SAVED_UPDATED",120],")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","assertIdentical",121],"(",["T_VARIABLE","$entity_test",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","id",121],"(",")",",",["T_WHITESPACE"," ",121],["T_VARIABLE","$expected",121],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",121],"]",")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertIdentical",122],"(",["T_VARIABLE","$entity_test",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","uuid",122],"(",")",",",["T_WHITESPACE"," ",122],["T_VARIABLE","$expected",122],"[",["T_CONSTANT_ENCAPSED_STRING","'uuid'",122],"]",")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","assertIdentical",123],"(",["T_VARIABLE","$entity_test",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","label",123],"(",")",",",["T_WHITESPACE"," ",123],["T_VARIABLE","$expected",123],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",123],"]",")",";",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","assertIdentical",124],"(",["T_VARIABLE","$entity_test",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","isNew",124],"(",")",",",["T_WHITESPACE"," ",124],["T_STRING","FALSE",124],")",";",["T_WHITESPACE","\n\n    ",124],["T_COMMENT","\/\/ Ensure that creating an entity with the same id as an existing one is not\n",126],["T_WHITESPACE","    ",127],["T_COMMENT","\/\/ possible.\n",127],["T_WHITESPACE","    ",128],["T_VARIABLE","$same_id",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_STRING","EntityTestLabel",128],["T_DOUBLE_COLON","::",128],["T_STRING","create",128],"(",["T_ARRAY","array",128],"(",["T_WHITESPACE","\n      ",128],["T_CONSTANT_ENCAPSED_STRING","'id'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$entity_test",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","id",129],"(",")",",",["T_WHITESPACE","\n    ",129],")",")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","assertIdentical",131],"(",["T_VARIABLE","$same_id",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","isNew",131],"(",")",",",["T_WHITESPACE"," ",131],["T_STRING","TRUE",131],")",";",["T_WHITESPACE","\n    ",131],["T_TRY","try",132],["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n      ",132],["T_VARIABLE","$same_id",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","save",133],"(",")",";",["T_WHITESPACE","\n      ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","fail",134],"(",["T_CONSTANT_ENCAPSED_STRING","'Not possible to overwrite an entity entity.'",134],")",";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n    ",135],["T_CATCH","catch",136],["T_WHITESPACE"," ",136],"(",["T_STRING","EntityStorageException",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$e",136],")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n      ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","pass",137],"(",["T_CONSTANT_ENCAPSED_STRING","'Not possible to overwrite an entity entity.'",137],")",";",["T_WHITESPACE","\n    ",137],"}",["T_WHITESPACE","\n\n    ",138],["T_COMMENT","\/\/ Verify that renaming the ID returns correct status and properties.\n",140],["T_WHITESPACE","    ",141],["T_VARIABLE","$ids",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_ARRAY","array",141],"(",["T_VARIABLE","$expected",141],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",141],"]",",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'second_'",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","randomMachineName",141],"(",["T_LNUMBER","4",141],")",",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'third_'",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","randomMachineName",141],"(",["T_LNUMBER","4",141],")",")",";",["T_WHITESPACE","\n    ",141],["T_FOR","for",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$i",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_LNUMBER","1",142],";",["T_WHITESPACE"," ",142],["T_VARIABLE","$i",142],["T_WHITESPACE"," ",142],"<",["T_WHITESPACE"," ",142],["T_LNUMBER","3",142],";",["T_WHITESPACE"," ",142],["T_VARIABLE","$i",142],["T_INC","++",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n      ",142],["T_VARIABLE","$old_id",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$ids",143],"[",["T_VARIABLE","$i",143],["T_WHITESPACE"," ",143],"-",["T_WHITESPACE"," ",143],["T_LNUMBER","1",143],"]",";",["T_WHITESPACE","\n      ",143],["T_VARIABLE","$new_id",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$ids",144],"[",["T_VARIABLE","$i",144],"]",";",["T_WHITESPACE","\n      ",144],["T_COMMENT","\/\/ Before renaming, everything should point to the current ID.\n",145],["T_WHITESPACE","      ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","assertIdentical",146],"(",["T_VARIABLE","$entity_test",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","id",146],"(",")",",",["T_WHITESPACE"," ",146],["T_VARIABLE","$old_id",146],")",";",["T_WHITESPACE","\n\n      ",146],["T_COMMENT","\/\/ Rename.\n",148],["T_WHITESPACE","      ",149],["T_VARIABLE","$entity_test",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","id",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$new_id",149],";",["T_WHITESPACE","\n      ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","assertIdentical",150],"(",["T_VARIABLE","$entity_test",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","id",150],"(",")",",",["T_WHITESPACE"," ",150],["T_VARIABLE","$new_id",150],")",";",["T_WHITESPACE","\n      ",150],["T_VARIABLE","$status",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$entity_test",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","save",151],"(",")",";",["T_WHITESPACE","\n      ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","assertIdentical",152],"(",["T_VARIABLE","$status",152],",",["T_WHITESPACE"," ",152],["T_STRING","SAVED_UPDATED",152],")",";",["T_WHITESPACE","\n      ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","assertIdentical",153],"(",["T_VARIABLE","$entity_test",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","isNew",153],"(",")",",",["T_WHITESPACE"," ",153],["T_STRING","FALSE",153],")",";",["T_WHITESPACE","\n\n      ",153],["T_COMMENT","\/\/ Verify that originalID points to new ID directly after renaming.\n",155],["T_WHITESPACE","      ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","assertIdentical",156],"(",["T_VARIABLE","$entity_test",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","id",156],"(",")",",",["T_WHITESPACE"," ",156],["T_VARIABLE","$new_id",156],")",";",["T_WHITESPACE","\n    ",156],"}",["T_WHITESPACE","\n  ",157],"}",["T_WHITESPACE","\n\n",158],"}",["T_WHITESPACE","\n",160]]