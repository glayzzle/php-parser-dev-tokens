[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Field",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Access",5],["T_NS_SEPARATOR","\\",5],["T_STRING","AccessResult",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","entity_test",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","EntityTest",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","KernelTests",7],["T_NS_SEPARATOR","\\",7],["T_STRING","KernelTestBase",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","user",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","User",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Tests Field level access hooks.\n *\n * @group Entity\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","FieldAccessTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","KernelTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * Modules to load code from.\n   *\n   * @var array\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_STATIC","static",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$modules",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'field'",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'system'",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'text'",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'filter'",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'user'",22],"]",";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * Holds the currently active global user ID that initiated the test run.\n   *\n   * The user ID gets replaced during the test and needs to be kept here so that\n   * it can be restored at the end of the test run.\n   *\n   * @var int\n   *\/",24],["T_WHITESPACE","\n  ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$activeUid",32],";",["T_WHITESPACE","\n\n  ",32],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","setUp",34],"(",")",["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n    ",34],["T_STRING","parent",35],["T_DOUBLE_COLON","::",35],["T_STRING","setUp",35],"(",")",";",["T_WHITESPACE","\n    ",35],["T_COMMENT","\/\/ Install field configuration.\n",36],["T_WHITESPACE","    ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","installConfig",37],"(",["T_ARRAY","array",37],"(",["T_CONSTANT_ENCAPSED_STRING","'field'",37],")",")",";",["T_WHITESPACE","\n    ",37],["T_COMMENT","\/\/ The users table is needed for creating dummy user accounts.\n",38],["T_WHITESPACE","    ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","installEntitySchema",39],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",39],")",";",["T_WHITESPACE","\n    ",39],["T_COMMENT","\/\/ Register entity_test text field.\n",40],["T_WHITESPACE","    ",41],["T_STRING","module_load_install",41],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",41],")",";",["T_WHITESPACE","\n    ",41],["T_STRING","entity_test_install",42],"(",")",";",["T_WHITESPACE","\n  ",42],"}",["T_WHITESPACE","\n\n  ",43],["T_DOC_COMMENT","\/**\n   * Tests hook_entity_field_access() and hook_entity_field_access_alter().\n   *\n   * @see entity_test_entity_field_access()\n   * @see entity_test_entity_field_access_alter()\n   *\/",45],["T_WHITESPACE","\n  ",50],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","testFieldAccess",51],"(",")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$values",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_ARRAY","array",52],"(",["T_WHITESPACE","\n      ",52],["T_CONSTANT_ENCAPSED_STRING","'name'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","randomMachineName",53],"(",")",",",["T_WHITESPACE","\n      ",53],["T_CONSTANT_ENCAPSED_STRING","'user_id'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_LNUMBER","1",54],",",["T_WHITESPACE","\n      ",54],["T_CONSTANT_ENCAPSED_STRING","'field_test_text'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",["T_WHITESPACE","\n        ",55],["T_CONSTANT_ENCAPSED_STRING","'value'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'no access value'",56],",",["T_WHITESPACE","\n        ",56],["T_CONSTANT_ENCAPSED_STRING","'format'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'full_html'",57],",",["T_WHITESPACE","\n      ",57],")",",",["T_WHITESPACE","\n    ",58],")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$entity",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_STRING","EntityTest",60],["T_DOUBLE_COLON","::",60],["T_STRING","create",60],"(",["T_VARIABLE","$values",60],")",";",["T_WHITESPACE","\n\n    ",60],["T_COMMENT","\/\/ Create a dummy user account for testing access with.\n",62],["T_WHITESPACE","    ",63],["T_VARIABLE","$values",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_ARRAY","array",63],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'test'",63],")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$account",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","User",64],["T_DOUBLE_COLON","::",64],["T_STRING","create",64],"(",["T_VARIABLE","$values",64],")",";",["T_WHITESPACE","\n\n    ",64],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","assertFalse",66],"(",["T_VARIABLE","$entity",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","field_test_text",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","access",66],"(",["T_CONSTANT_ENCAPSED_STRING","'view'",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$account",66],")",",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'Access to the field was denied.'",66],")",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$expected",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","AccessResult",67],["T_DOUBLE_COLON","::",67],["T_STRING","forbidden",67],"(",")",["T_OBJECT_OPERATOR","->",67],["T_STRING","addCacheableDependency",67],"(",["T_VARIABLE","$entity",67],")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","assertEqual",68],"(",["T_VARIABLE","$expected",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$entity",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","field_test_text",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","access",68],"(",["T_CONSTANT_ENCAPSED_STRING","'view'",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$account",68],",",["T_WHITESPACE"," ",68],["T_STRING","TRUE",68],")",",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'Access to the field was denied.'",68],")",";",["T_WHITESPACE","\n\n    ",68],["T_VARIABLE","$entity",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","field_test_text",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'access alter value'",70],";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertFalse",71],"(",["T_VARIABLE","$entity",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","field_test_text",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","access",71],"(",["T_CONSTANT_ENCAPSED_STRING","'view'",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$account",71],")",",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'Access to the field was denied.'",71],")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertEqual",72],"(",["T_VARIABLE","$expected",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$entity",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","field_test_text",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","access",72],"(",["T_CONSTANT_ENCAPSED_STRING","'view'",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$account",72],",",["T_WHITESPACE"," ",72],["T_STRING","TRUE",72],")",",",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'Access to the field was denied.'",72],")",";",["T_WHITESPACE","\n\n    ",72],["T_VARIABLE","$entity",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","field_test_text",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'standard value'",74],";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertTrue",75],"(",["T_VARIABLE","$entity",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","field_test_text",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","access",75],"(",["T_CONSTANT_ENCAPSED_STRING","'view'",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$account",75],")",",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'Access to the field was granted.'",75],")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","assertEqual",76],"(",["T_STRING","AccessResult",76],["T_DOUBLE_COLON","::",76],["T_STRING","allowed",76],"(",")",",",["T_WHITESPACE"," ",76],["T_VARIABLE","$entity",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","field_test_text",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","access",76],"(",["T_CONSTANT_ENCAPSED_STRING","'view'",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$account",76],",",["T_WHITESPACE"," ",76],["T_STRING","TRUE",76],")",",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'Access to the field was granted.'",76],")",";",["T_WHITESPACE","\n  ",76],"}",["T_WHITESPACE","\n\n",77],"}",["T_WHITESPACE","\n",79]]