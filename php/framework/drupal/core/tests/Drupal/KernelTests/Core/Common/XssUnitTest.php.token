[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Common",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","UrlHelper",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","KernelTests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","KernelTestBase",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Confirm that \\Drupal\\Component\\Utility\\Xss::filter() and check_url() work\n * correctly, including invalid multi-byte sequences.\n *\n * @group Common\n *\/",8],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","XssUnitTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","KernelTestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",16],["T_WHITESPACE","\n  ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_STATIC","static",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$modules",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_ARRAY","array",21],"(",["T_CONSTANT_ENCAPSED_STRING","'filter'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'system'",21],")",";",["T_WHITESPACE","\n\n  ",21],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_FUNCTION","function",23],["T_WHITESPACE"," ",23],["T_STRING","setUp",23],"(",")",["T_WHITESPACE"," ",23],"{",["T_WHITESPACE","\n    ",23],["T_STRING","parent",24],["T_DOUBLE_COLON","::",24],["T_STRING","setUp",24],"(",")",";",["T_WHITESPACE","\n    ",24],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","installConfig",25],"(",["T_ARRAY","array",25],"(",["T_CONSTANT_ENCAPSED_STRING","'system'",25],")",")",";",["T_WHITESPACE","\n  ",25],"}",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * Tests t() functionality.\n   *\/",28],["T_WHITESPACE","\n  ",30],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","testT",31],"(",")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$text",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_STRING","t",32],"(",["T_CONSTANT_ENCAPSED_STRING","'Simple text'",32],")",";",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","assertEqual",33],"(",["T_VARIABLE","$text",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'Simple text'",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'t leaves simple text alone.'",33],")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$text",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_STRING","t",34],"(",["T_CONSTANT_ENCAPSED_STRING","'Escaped text: @value'",34],",",["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",["T_CONSTANT_ENCAPSED_STRING","'@value'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'<script>'",34],")",")",";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","assertEqual",35],"(",["T_VARIABLE","$text",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'Escaped text: &lt;script&gt;'",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'t replaces and escapes string.'",35],")",";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$text",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_STRING","t",36],"(",["T_CONSTANT_ENCAPSED_STRING","'Placeholder text: %value'",36],",",["T_WHITESPACE"," ",36],["T_ARRAY","array",36],"(",["T_CONSTANT_ENCAPSED_STRING","'%value'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'<script>'",36],")",")",";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","assertEqual",37],"(",["T_VARIABLE","$text",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'Placeholder text: <em class=\"placeholder\">&lt;script&gt;<\/em>'",37],",",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'t replaces, escapes and themes string.'",37],")",";",["T_WHITESPACE","\n  ",37],"}",["T_WHITESPACE","\n\n  ",38],["T_DOC_COMMENT","\/**\n   * Checks that harmful protocols are stripped.\n   *\/",40],["T_WHITESPACE","\n  ",42],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","testBadProtocolStripping",43],"(",")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n    ",43],["T_COMMENT","\/\/ Ensure that check_url() strips out harmful protocols, and encodes for\n",44],["T_WHITESPACE","    ",45],["T_COMMENT","\/\/ HTML.\n",45],["T_WHITESPACE","    ",46],["T_COMMENT","\/\/ Ensure \\Drupal\\Component\\Utility\\UrlHelper::stripDangerousProtocols() can\n",46],["T_WHITESPACE","    ",47],["T_COMMENT","\/\/ be used to return a plain-text string stripped of harmful protocols.\n",47],["T_WHITESPACE","    ",48],["T_VARIABLE","$url",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'javascript:http:\/\/www.example.com\/?x=1&y=2'",48],";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$expected_plain",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/?x=1&y=2'",49],";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$expected_html",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.example.com\/?x=1&amp;y=2'",50],";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertIdentical",51],"(",["T_STRING","check_url",51],"(",["T_VARIABLE","$url",51],")",",",["T_WHITESPACE"," ",51],["T_VARIABLE","$expected_html",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'check_url() filters a URL and encodes it for HTML.'",51],")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","assertIdentical",52],"(",["T_STRING","UrlHelper",52],["T_DOUBLE_COLON","::",52],["T_STRING","filterBadProtocol",52],"(",["T_VARIABLE","$url",52],")",",",["T_WHITESPACE"," ",52],["T_VARIABLE","$expected_html",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Component\\Utility\\UrlHelper::filterBadProtocol() filters a URL and encodes it for HTML.'",52],")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","assertIdentical",53],"(",["T_STRING","UrlHelper",53],["T_DOUBLE_COLON","::",53],["T_STRING","stripDangerousProtocols",53],"(",["T_VARIABLE","$url",53],")",",",["T_WHITESPACE"," ",53],["T_VARIABLE","$expected_plain",53],",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Component\\Utility\\UrlHelper::stripDangerousProtocols() filters a URL and returns plain text.'",53],")",";",["T_WHITESPACE","\n\n  ",53],"}",["T_WHITESPACE","\n\n",55],"}",["T_WHITESPACE","\n",57]]