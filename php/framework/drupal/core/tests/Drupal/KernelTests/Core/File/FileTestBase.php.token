[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","File",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","DependencyInjection",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ContainerBuilder",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","KernelTests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","KernelTestBase",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Base class for file tests that adds some additional file specific\n * assertions and helper functions.\n *\/",8],["T_WHITESPACE","\n",11],["T_ABSTRACT","abstract",12],["T_WHITESPACE"," ",12],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","FileTestBase",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","KernelTestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",14],["T_WHITESPACE","\n  ",18],["T_PUBLIC","public",19],["T_WHITESPACE"," ",19],["T_STATIC","static",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$modules",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_ARRAY","array",19],"(",["T_CONSTANT_ENCAPSED_STRING","'system'",19],")",";",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * A stream wrapper scheme to register for the test.\n   *\n   * @var string\n   *\/",21],["T_WHITESPACE","\n  ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$scheme",26],";",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * A fully-qualified stream wrapper class name to register for the test.\n   *\n   * @var string\n   *\/",28],["T_WHITESPACE","\n  ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$classname",33],";",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",35],["T_WHITESPACE","\n  ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","setUp",38],"(",")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n    ",38],["T_STRING","parent",39],["T_DOUBLE_COLON","::",39],["T_STRING","setUp",39],"(",")",";",["T_WHITESPACE","\n\n    ",39],["T_NS_SEPARATOR","\\",41],["T_STRING","Drupal",41],["T_DOUBLE_COLON","::",41],["T_STRING","configFactory",41],"(",")",["T_OBJECT_OPERATOR","->",41],["T_STRING","getEditable",41],"(",["T_CONSTANT_ENCAPSED_STRING","'system.file'",41],")",["T_OBJECT_OPERATOR","->",41],["T_STRING","set",41],"(",["T_CONSTANT_ENCAPSED_STRING","'default_scheme'",41],",",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'public'",41],")",["T_OBJECT_OPERATOR","->",41],["T_STRING","save",41],"(",")",";",["T_WHITESPACE","\n  ",41],"}",["T_WHITESPACE","\n\n  ",42],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",44],["T_WHITESPACE","\n  ",46],["T_PUBLIC","public",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","register",47],"(",["T_STRING","ContainerBuilder",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$container",47],")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n    ",47],["T_STRING","parent",48],["T_DOUBLE_COLON","::",48],["T_STRING","register",48],"(",["T_VARIABLE","$container",48],")",";",["T_WHITESPACE","\n\n    ",48],["T_VARIABLE","$container",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","register",50],"(",["T_CONSTANT_ENCAPSED_STRING","'stream_wrapper.private'",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\StreamWrapper\\PrivateStream'",50],")",["T_WHITESPACE","\n      ",50],["T_OBJECT_OPERATOR","->",51],["T_STRING","addTag",51],"(",["T_CONSTANT_ENCAPSED_STRING","'stream_wrapper'",51],",",["T_WHITESPACE"," ",51],"[",["T_CONSTANT_ENCAPSED_STRING","'scheme'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'private'",51],"]",")",";",["T_WHITESPACE","\n\n    ",51],["T_IF","if",53],["T_WHITESPACE"," ",53],"(",["T_ISSET","isset",53],"(",["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","scheme",53],")",")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n      ",53],["T_VARIABLE","$container",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","register",54],"(",["T_CONSTANT_ENCAPSED_STRING","'stream_wrapper.'",54],["T_WHITESPACE"," ",54],".",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","scheme",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","classname",54],")",["T_WHITESPACE","\n        ",54],["T_OBJECT_OPERATOR","->",55],["T_STRING","addTag",55],"(",["T_CONSTANT_ENCAPSED_STRING","'stream_wrapper'",55],",",["T_WHITESPACE"," ",55],"[",["T_CONSTANT_ENCAPSED_STRING","'scheme'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","scheme",55],"]",")",";",["T_WHITESPACE","\n    ",55],"}",["T_WHITESPACE","\n  ",56],"}",["T_WHITESPACE","\n\n  ",57],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",59],["T_WHITESPACE","\n  ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","setUpFilesystem",62],"(",")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$public_file_directory",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","siteDirectory",63],["T_WHITESPACE"," ",63],".",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'\/files'",63],";",["T_WHITESPACE","\n\n    ",63],["T_REQUIRE_ONCE","require_once",65],["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'core\/includes\/file.inc'",65],";",["T_WHITESPACE","\n\n    ",65],["T_STRING","mkdir",67],"(",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","siteDirectory",67],",",["T_WHITESPACE"," ",67],["T_LNUMBER","0775",67],")",";",["T_WHITESPACE","\n    ",67],["T_STRING","mkdir",68],"(",["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","siteDirectory",68],["T_WHITESPACE"," ",68],".",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'\/files'",68],",",["T_WHITESPACE"," ",68],["T_LNUMBER","0775",68],")",";",["T_WHITESPACE","\n    ",68],["T_STRING","mkdir",69],"(",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","siteDirectory",69],["T_WHITESPACE"," ",69],".",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'\/files\/config\/'",69],["T_WHITESPACE"," ",69],".",["T_WHITESPACE"," ",69],["T_STRING","CONFIG_SYNC_DIRECTORY",69],",",["T_WHITESPACE"," ",69],["T_LNUMBER","0775",69],",",["T_WHITESPACE"," ",69],["T_STRING","TRUE",69],")",";",["T_WHITESPACE","\n\n    ",69],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","setSetting",71],"(",["T_CONSTANT_ENCAPSED_STRING","'file_public_path'",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$public_file_directory",71],")",";",["T_WHITESPACE","\n\n    ",71],["T_VARIABLE","$GLOBALS",73],"[",["T_CONSTANT_ENCAPSED_STRING","'config_directories'",73],"]",["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_ARRAY","array",73],"(",["T_WHITESPACE","\n      ",73],["T_STRING","CONFIG_SYNC_DIRECTORY",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","siteDirectory",74],["T_WHITESPACE"," ",74],".",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'\/files\/config\/sync'",74],",",["T_WHITESPACE","\n    ",74],")",";",["T_WHITESPACE","\n  ",75],"}",["T_WHITESPACE","\n\n  ",76],["T_DOC_COMMENT","\/**\n   * Helper function to test the permissions of a file.\n   *\n   * @param $filepath\n   *   String file path.\n   * @param $expected_mode\n   *   Octal integer like 0664 or 0777.\n   * @param $message\n   *   Optional message.\n   *\/",78],["T_WHITESPACE","\n  ",87],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","assertFilePermissions",88],"(",["T_VARIABLE","$filepath",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$expected_mode",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$message",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_STRING","NULL",88],")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n    ",88],["T_COMMENT","\/\/ Clear out PHP's file stat cache to be sure we see the current value.\n",89],["T_WHITESPACE","    ",90],["T_STRING","clearstatcache",90],"(",["T_STRING","TRUE",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$filepath",90],")",";",["T_WHITESPACE","\n\n    ",90],["T_COMMENT","\/\/ Mask out all but the last three octets.\n",92],["T_WHITESPACE","    ",93],["T_VARIABLE","$actual_mode",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","fileperms",93],"(",["T_VARIABLE","$filepath",93],")",["T_WHITESPACE"," ",93],"&",["T_WHITESPACE"," ",93],["T_LNUMBER","0777",93],";",["T_WHITESPACE","\n\n    ",93],["T_COMMENT","\/\/ PHP on Windows has limited support for file permissions. Usually each of\n",95],["T_WHITESPACE","    ",96],["T_COMMENT","\/\/ \"user\", \"group\" and \"other\" use one octal digit (3 bits) to represent the\n",96],["T_WHITESPACE","    ",97],["T_COMMENT","\/\/ read\/write\/execute bits. On Windows, chmod() ignores the \"group\" and\n",97],["T_WHITESPACE","    ",98],["T_COMMENT","\/\/ \"other\" bits, and fileperms() returns the \"user\" bits in all three\n",98],["T_WHITESPACE","    ",99],["T_COMMENT","\/\/ positions. $expected_mode is updated to reflect this.\n",99],["T_WHITESPACE","    ",100],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_STRING","substr",100],"(",["T_STRING","PHP_OS",100],",",["T_WHITESPACE"," ",100],["T_LNUMBER","0",100],",",["T_WHITESPACE"," ",100],["T_LNUMBER","3",100],")",["T_WHITESPACE"," ",100],["T_IS_EQUAL","==",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'WIN'",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n      ",100],["T_COMMENT","\/\/ Reset the \"group\" and \"other\" bits.\n",101],["T_WHITESPACE","      ",102],["T_VARIABLE","$expected_mode",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$expected_mode",102],["T_WHITESPACE"," ",102],"&",["T_WHITESPACE"," ",102],["T_LNUMBER","0700",102],";",["T_WHITESPACE","\n      ",102],["T_COMMENT","\/\/ Shift the \"user\" bits to the \"group\" and \"other\" positions also.\n",103],["T_WHITESPACE","      ",104],["T_VARIABLE","$expected_mode",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$expected_mode",104],["T_WHITESPACE"," ",104],"|",["T_WHITESPACE"," ",104],["T_VARIABLE","$expected_mode",104],["T_WHITESPACE"," ",104],["T_SR",">>",104],["T_WHITESPACE"," ",104],["T_LNUMBER","3",104],["T_WHITESPACE"," ",104],"|",["T_WHITESPACE"," ",104],["T_VARIABLE","$expected_mode",104],["T_WHITESPACE"," ",104],["T_SR",">>",104],["T_WHITESPACE"," ",104],["T_LNUMBER","6",104],";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_IF","if",107],["T_WHITESPACE"," ",107],"(","!",["T_ISSET","isset",107],"(",["T_VARIABLE","$message",107],")",")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n      ",107],["T_VARIABLE","$message",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_STRING","t",108],"(",["T_CONSTANT_ENCAPSED_STRING","'Expected file permission to be %expected, actually were %actual.'",108],",",["T_WHITESPACE"," ",108],["T_ARRAY","array",108],"(",["T_CONSTANT_ENCAPSED_STRING","'%actual'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_STRING","decoct",108],"(",["T_VARIABLE","$actual_mode",108],")",",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'%expected'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_STRING","decoct",108],"(",["T_VARIABLE","$expected_mode",108],")",")",")",";",["T_WHITESPACE","\n    ",108],"}",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertEqual",110],"(",["T_VARIABLE","$actual_mode",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$expected_mode",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$message",110],")",";",["T_WHITESPACE","\n  ",110],"}",["T_WHITESPACE","\n\n  ",111],["T_DOC_COMMENT","\/**\n   * Helper function to test the permissions of a directory.\n   *\n   * @param $directory\n   *   String directory path.\n   * @param $expected_mode\n   *   Octal integer like 0664 or 0777.\n   * @param $message\n   *   Optional message.\n   *\/",113],["T_WHITESPACE","\n  ",122],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","assertDirectoryPermissions",123],"(",["T_VARIABLE","$directory",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$expected_mode",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$message",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_STRING","NULL",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n    ",123],["T_COMMENT","\/\/ Clear out PHP's file stat cache to be sure we see the current value.\n",124],["T_WHITESPACE","    ",125],["T_STRING","clearstatcache",125],"(",["T_STRING","TRUE",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$directory",125],")",";",["T_WHITESPACE","\n\n    ",125],["T_COMMENT","\/\/ Mask out all but the last three octets.\n",127],["T_WHITESPACE","    ",128],["T_VARIABLE","$actual_mode",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_STRING","fileperms",128],"(",["T_VARIABLE","$directory",128],")",["T_WHITESPACE"," ",128],"&",["T_WHITESPACE"," ",128],["T_LNUMBER","0777",128],";",["T_WHITESPACE","\n    ",128],["T_VARIABLE","$expected_mode",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$expected_mode",129],["T_WHITESPACE"," ",129],"&",["T_WHITESPACE"," ",129],["T_LNUMBER","0777",129],";",["T_WHITESPACE","\n\n    ",129],["T_COMMENT","\/\/ PHP on Windows has limited support for file permissions. Usually each of\n",131],["T_WHITESPACE","    ",132],["T_COMMENT","\/\/ \"user\", \"group\" and \"other\" use one octal digit (3 bits) to represent the\n",132],["T_WHITESPACE","    ",133],["T_COMMENT","\/\/ read\/write\/execute bits. On Windows, chmod() ignores the \"group\" and\n",133],["T_WHITESPACE","    ",134],["T_COMMENT","\/\/ \"other\" bits, and fileperms() returns the \"user\" bits in all three\n",134],["T_WHITESPACE","    ",135],["T_COMMENT","\/\/ positions. $expected_mode is updated to reflect this.\n",135],["T_WHITESPACE","    ",136],["T_IF","if",136],["T_WHITESPACE"," ",136],"(",["T_STRING","substr",136],"(",["T_STRING","PHP_OS",136],",",["T_WHITESPACE"," ",136],["T_LNUMBER","0",136],",",["T_WHITESPACE"," ",136],["T_LNUMBER","3",136],")",["T_WHITESPACE"," ",136],["T_IS_EQUAL","==",136],["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'WIN'",136],")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n      ",136],["T_COMMENT","\/\/ Reset the \"group\" and \"other\" bits.\n",137],["T_WHITESPACE","      ",138],["T_VARIABLE","$expected_mode",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$expected_mode",138],["T_WHITESPACE"," ",138],"&",["T_WHITESPACE"," ",138],["T_LNUMBER","0700",138],";",["T_WHITESPACE","\n      ",138],["T_COMMENT","\/\/ Shift the \"user\" bits to the \"group\" and \"other\" positions also.\n",139],["T_WHITESPACE","      ",140],["T_VARIABLE","$expected_mode",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$expected_mode",140],["T_WHITESPACE"," ",140],"|",["T_WHITESPACE"," ",140],["T_VARIABLE","$expected_mode",140],["T_WHITESPACE"," ",140],["T_SR",">>",140],["T_WHITESPACE"," ",140],["T_LNUMBER","3",140],["T_WHITESPACE"," ",140],"|",["T_WHITESPACE"," ",140],["T_VARIABLE","$expected_mode",140],["T_WHITESPACE"," ",140],["T_SR",">>",140],["T_WHITESPACE"," ",140],["T_LNUMBER","6",140],";",["T_WHITESPACE","\n    ",140],"}",["T_WHITESPACE","\n\n    ",141],["T_IF","if",143],["T_WHITESPACE"," ",143],"(","!",["T_ISSET","isset",143],"(",["T_VARIABLE","$message",143],")",")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n      ",143],["T_VARIABLE","$message",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_STRING","t",144],"(",["T_CONSTANT_ENCAPSED_STRING","'Expected directory permission to be %expected, actually were %actual.'",144],",",["T_WHITESPACE"," ",144],["T_ARRAY","array",144],"(",["T_CONSTANT_ENCAPSED_STRING","'%actual'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_STRING","decoct",144],"(",["T_VARIABLE","$actual_mode",144],")",",",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'%expected'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_STRING","decoct",144],"(",["T_VARIABLE","$expected_mode",144],")",")",")",";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n    ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","assertEqual",146],"(",["T_VARIABLE","$actual_mode",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$expected_mode",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$message",146],")",";",["T_WHITESPACE","\n  ",146],"}",["T_WHITESPACE","\n\n  ",147],["T_DOC_COMMENT","\/**\n   * Create a directory and assert it exists.\n   *\n   * @param $path\n   *   Optional string with a directory path. If none is provided, a random\n   *   name in the site's files directory will be used.\n   * @return\n   *   The path to the directory.\n   *\/",149],["T_WHITESPACE","\n  ",157],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","createDirectory",158],"(",["T_VARIABLE","$path",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_STRING","NULL",158],")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n    ",158],["T_COMMENT","\/\/ A directory to operate on.\n",159],["T_WHITESPACE","    ",160],["T_IF","if",160],["T_WHITESPACE"," ",160],"(","!",["T_ISSET","isset",160],"(",["T_VARIABLE","$path",160],")",")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n      ",160],["T_VARIABLE","$path",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_STRING","file_default_scheme",161],"(",")",["T_WHITESPACE"," ",161],".",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","':\/\/'",161],["T_WHITESPACE"," ",161],".",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","randomMachineName",161],"(",")",";",["T_WHITESPACE","\n    ",161],"}",["T_WHITESPACE","\n    ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","assertTrue",163],"(",["T_STRING","drupal_mkdir",163],"(",["T_VARIABLE","$path",163],")",["T_WHITESPACE"," ",163],["T_BOOLEAN_AND","&&",163],["T_WHITESPACE"," ",163],["T_STRING","is_dir",163],"(",["T_VARIABLE","$path",163],")",",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'Directory was created successfully.'",163],")",";",["T_WHITESPACE","\n    ",163],["T_RETURN","return",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$path",164],";",["T_WHITESPACE","\n  ",164],"}",["T_WHITESPACE","\n\n  ",165],["T_DOC_COMMENT","\/**\n   * Create a file and return the URI of it.\n   *\n   * @param $filepath\n   *   Optional string specifying the file path. If none is provided then a\n   *   randomly named file will be created in the site's files directory.\n   * @param $contents\n   *   Optional contents to save into the file. If a NULL value is provided an\n   *   arbitrary string will be used.\n   * @param $scheme\n   *   Optional string indicating the stream scheme to use. Drupal core includes\n   *   public, private, and temporary. The public wrapper is the default.\n   * @return\n   *   File URI.\n   *\/",167],["T_WHITESPACE","\n  ",181],["T_FUNCTION","function",182],["T_WHITESPACE"," ",182],["T_STRING","createUri",182],"(",["T_VARIABLE","$filepath",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_STRING","NULL",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$contents",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_STRING","NULL",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$scheme",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_STRING","NULL",182],")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n    ",182],["T_IF","if",183],["T_WHITESPACE"," ",183],"(","!",["T_ISSET","isset",183],"(",["T_VARIABLE","$filepath",183],")",")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n      ",183],["T_COMMENT","\/\/ Prefix with non-latin characters to ensure that all file-related\n",184],["T_WHITESPACE","      ",185],["T_COMMENT","\/\/ tests work with international filenames.\n",185],["T_WHITESPACE","      ",186],["T_VARIABLE","$filepath",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'\u00d0\u00a4\u00d0\u00b0\u00d0\u00b9\u00d0\u00bb \u00d0\u00b4\u00d0\u00bb\u00d1\u008f \u00d1\u0082\u00d0\u00b5\u00d1\u0081\u00d1\u0082\u00d0\u00b8\u00d1\u0080\u00d0\u00be\u00d0\u00b2\u00d0\u00b0\u00d0\u00bd\u00d0\u00b8\u00d1\u008f '",186],["T_WHITESPACE"," ",186],".",["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","randomMachineName",186],"(",")",";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n    ",187],["T_IF","if",188],["T_WHITESPACE"," ",188],"(","!",["T_ISSET","isset",188],"(",["T_VARIABLE","$scheme",188],")",")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n      ",188],["T_VARIABLE","$scheme",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_STRING","file_default_scheme",189],"(",")",";",["T_WHITESPACE","\n    ",189],"}",["T_WHITESPACE","\n    ",190],["T_VARIABLE","$filepath",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$scheme",191],["T_WHITESPACE"," ",191],".",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","':\/\/'",191],["T_WHITESPACE"," ",191],".",["T_WHITESPACE"," ",191],["T_VARIABLE","$filepath",191],";",["T_WHITESPACE","\n\n    ",191],["T_IF","if",193],["T_WHITESPACE"," ",193],"(","!",["T_ISSET","isset",193],"(",["T_VARIABLE","$contents",193],")",")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n      ",193],["T_VARIABLE","$contents",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","\"file_put_contents() doesn't seem to appreciate empty strings so let's put in some data.\"",194],";",["T_WHITESPACE","\n    ",194],"}",["T_WHITESPACE","\n\n    ",195],["T_STRING","file_put_contents",197],"(",["T_VARIABLE","$filepath",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$contents",197],")",";",["T_WHITESPACE","\n    ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","assertTrue",198],"(",["T_STRING","is_file",198],"(",["T_VARIABLE","$filepath",198],")",",",["T_WHITESPACE"," ",198],["T_STRING","t",198],"(",["T_CONSTANT_ENCAPSED_STRING","'The test file exists on the disk.'",198],")",",",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'Create test file'",198],")",";",["T_WHITESPACE","\n    ",198],["T_RETURN","return",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$filepath",199],";",["T_WHITESPACE","\n  ",199],"}",["T_WHITESPACE","\n\n",200],"}",["T_WHITESPACE","\n",202]]