[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Asset",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Serialization",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Json",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Utility",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unicode",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Asset",7],["T_NS_SEPARATOR","\\",7],["T_STRING","AttachedAssets",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","KernelTests",8],["T_NS_SEPARATOR","\\",8],["T_STRING","KernelTestBase",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Tests #attached assets: attached asset libraries and JavaScript settings.\n *\n * i.e. tests:\n *\n * @code\n * $build['#attached']['library'] = \u00e2\u0080\u00a6\n * $build['#attached']['drupalSettings'] = \u00e2\u0080\u00a6\n * @endcode\n *\n * @group Common\n * @group Asset\n *\/",10],["T_WHITESPACE","\n",22],["T_CLASS","class",23],["T_WHITESPACE"," ",23],["T_STRING","AttachedAssetsTest",23],["T_WHITESPACE"," ",23],["T_EXTENDS","extends",23],["T_WHITESPACE"," ",23],["T_STRING","KernelTestBase",23],["T_WHITESPACE"," ",23],"{",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * The asset resolver service.\n   *\n   * @var \\Drupal\\Core\\Asset\\AssetResolverInterface\n   *\/",25],["T_WHITESPACE","\n  ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$assetResolver",30],";",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * The renderer service.\n   *\n   * @var \\Drupal\\Core\\Render\\RendererInterface\n   *\/",32],["T_WHITESPACE","\n  ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$renderer",37],";",["T_WHITESPACE","\n\n  ",37],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",39],["T_WHITESPACE","\n  ",41],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_STATIC","static",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$modules",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_ARRAY","array",42],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'simpletest'",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'common_test'",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'system'",42],")",";",["T_WHITESPACE","\n\n  ",42],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",44],["T_WHITESPACE","\n  ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","setUp",47],"(",")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n    ",47],["T_STRING","parent",48],["T_DOUBLE_COLON","::",48],["T_STRING","setUp",48],"(",")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","container",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","get",49],"(",["T_CONSTANT_ENCAPSED_STRING","'router.builder'",49],")",["T_OBJECT_OPERATOR","->",49],["T_STRING","rebuild",49],"(",")",";",["T_WHITESPACE","\n\n    ",49],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assetResolver",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","container",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","get",51],"(",["T_CONSTANT_ENCAPSED_STRING","'asset.resolver'",51],")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","renderer",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","container",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","get",52],"(",["T_CONSTANT_ENCAPSED_STRING","'renderer'",52],")",";",["T_WHITESPACE","\n  ",52],"}",["T_WHITESPACE","\n\n  ",53],["T_DOC_COMMENT","\/**\n   * Tests that default CSS and JavaScript is empty.\n   *\/",55],["T_WHITESPACE","\n  ",57],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","testDefault",58],"(",")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$assets",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_NEW","new",59],["T_WHITESPACE"," ",59],["T_STRING","AttachedAssets",59],"(",")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertEqual",60],"(",["T_ARRAY","array",60],"(",")",",",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assetResolver",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getCssAssets",60],"(",["T_VARIABLE","$assets",60],",",["T_WHITESPACE"," ",60],["T_STRING","FALSE",60],")",",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'Default CSS is empty.'",60],")",";",["T_WHITESPACE","\n    ",60],["T_LIST","list",61],"(",["T_VARIABLE","$js_assets_header",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$js_assets_footer",61],")",["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","assetResolver",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getJsAssets",61],"(",["T_VARIABLE","$assets",61],",",["T_WHITESPACE"," ",61],["T_STRING","FALSE",61],")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertEqual",62],"(",["T_ARRAY","array",62],"(",")",",",["T_WHITESPACE"," ",62],["T_VARIABLE","$js_assets_header",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'Default header JavaScript is empty.'",62],")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","assertEqual",63],"(",["T_ARRAY","array",63],"(",")",",",["T_WHITESPACE"," ",63],["T_VARIABLE","$js_assets_footer",63],",",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'Default footer JavaScript is empty.'",63],")",";",["T_WHITESPACE","\n  ",63],"}",["T_WHITESPACE","\n\n  ",64],["T_DOC_COMMENT","\/**\n   * Tests non-existing libraries.\n   *\/",66],["T_WHITESPACE","\n  ",68],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","testLibraryUnknown",69],"(",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$build",70],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",70],"]","[",["T_CONSTANT_ENCAPSED_STRING","'library'",70],"]","[","]",["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'core\/unknown'",70],";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$assets",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","AttachedAssets",71],["T_DOUBLE_COLON","::",71],["T_STRING","createFromRenderArray",71],"(",["T_VARIABLE","$build",71],")",";",["T_WHITESPACE","\n\n    ",71],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertIdentical",73],"(","[","]",",",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assetResolver",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getJsAssets",73],"(",["T_VARIABLE","$assets",73],",",["T_WHITESPACE"," ",73],["T_STRING","FALSE",73],")","[",["T_LNUMBER","0",73],"]",",",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'Unknown library was not added to the page.'",73],")",";",["T_WHITESPACE","\n  ",73],"}",["T_WHITESPACE","\n\n  ",74],["T_DOC_COMMENT","\/**\n   * Tests adding a CSS and a JavaScript file.\n   *\/",76],["T_WHITESPACE","\n  ",78],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","testAddFiles",79],"(",")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$build",80],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",80],"]","[",["T_CONSTANT_ENCAPSED_STRING","'library'",80],"]","[","]",["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'common_test\/files'",80],";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$assets",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","AttachedAssets",81],["T_DOUBLE_COLON","::",81],["T_STRING","createFromRenderArray",81],"(",["T_VARIABLE","$build",81],")",";",["T_WHITESPACE","\n\n    ",81],["T_VARIABLE","$css",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assetResolver",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getCssAssets",83],"(",["T_VARIABLE","$assets",83],",",["T_WHITESPACE"," ",83],["T_STRING","FALSE",83],")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$js",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assetResolver",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getJsAssets",84],"(",["T_VARIABLE","$assets",84],",",["T_WHITESPACE"," ",84],["T_STRING","FALSE",84],")","[",["T_LNUMBER","1",84],"]",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertTrue",85],"(",["T_STRING","array_key_exists",85],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/modules\/system\/tests\/modules\/common_test\/bar.css'",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$css",85],")",",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'CSS files are correctly added.'",85],")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertTrue",86],"(",["T_STRING","array_key_exists",86],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/modules\/system\/tests\/modules\/common_test\/foo.js'",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$js",86],")",",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'JavaScript files are correctly added.'",86],")",";",["T_WHITESPACE","\n\n    ",86],["T_VARIABLE","$css_render_array",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_NS_SEPARATOR","\\",88],["T_STRING","Drupal",88],["T_DOUBLE_COLON","::",88],["T_STRING","service",88],"(",["T_CONSTANT_ENCAPSED_STRING","'asset.css.collection_renderer'",88],")",["T_OBJECT_OPERATOR","->",88],["T_STRING","render",88],"(",["T_VARIABLE","$css",88],")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$js_render_array",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Drupal",89],["T_DOUBLE_COLON","::",89],["T_STRING","service",89],"(",["T_CONSTANT_ENCAPSED_STRING","'asset.js.collection_renderer'",89],")",["T_OBJECT_OPERATOR","->",89],["T_STRING","render",89],"(",["T_VARIABLE","$js",89],")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$rendered_css",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","renderer",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","renderPlain",90],"(",["T_VARIABLE","$css_render_array",90],")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$rendered_js",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","renderer",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","renderPlain",91],"(",["T_VARIABLE","$js_render_array",91],")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$query_string",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","container",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","get",92],"(",["T_CONSTANT_ENCAPSED_STRING","'state'",92],")",["T_OBJECT_OPERATOR","->",92],["T_STRING","get",92],"(",["T_CONSTANT_ENCAPSED_STRING","'system.css_js_query_string'",92],")",["T_WHITESPACE"," ",92],"?",":",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'0'",92],";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertNotIdentical",93],"(",["T_STRING","strpos",93],"(",["T_VARIABLE","$rendered_css",93],",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'<link rel=\"stylesheet\" href=\"'",93],["T_WHITESPACE"," ",93],".",["T_WHITESPACE"," ",93],["T_STRING","file_url_transform_relative",93],"(",["T_STRING","file_create_url",93],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/modules\/system\/tests\/modules\/common_test\/bar.css'",93],")",")",["T_WHITESPACE"," ",93],".",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'?'",93],["T_WHITESPACE"," ",93],".",["T_WHITESPACE"," ",93],["T_VARIABLE","$query_string",93],["T_WHITESPACE"," ",93],".",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'\" media=\"all\" \/>'",93],")",",",["T_WHITESPACE"," ",93],["T_STRING","FALSE",93],",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'Rendering an external CSS file.'",93],")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertNotIdentical",94],"(",["T_STRING","strpos",94],"(",["T_VARIABLE","$rendered_js",94],",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'<script src=\"'",94],["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_STRING","file_url_transform_relative",94],"(",["T_STRING","file_create_url",94],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/modules\/system\/tests\/modules\/common_test\/foo.js'",94],")",")",["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'?'",94],["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_VARIABLE","$query_string",94],["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'\"><\/script>'",94],")",",",["T_WHITESPACE"," ",94],["T_STRING","FALSE",94],",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'Rendering an external JavaScript file.'",94],")",";",["T_WHITESPACE","\n  ",94],"}",["T_WHITESPACE","\n\n  ",95],["T_DOC_COMMENT","\/**\n   * Tests adding JavaScript settings.\n   *\/",97],["T_WHITESPACE","\n  ",99],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","testAddJsSettings",100],"(",")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n    ",100],["T_COMMENT","\/\/ Add a file in order to test default settings.\n",101],["T_WHITESPACE","    ",102],["T_VARIABLE","$build",102],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",102],"]","[",["T_CONSTANT_ENCAPSED_STRING","'library'",102],"]","[","]",["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'core\/drupalSettings'",102],";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$assets",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","AttachedAssets",103],["T_DOUBLE_COLON","::",103],["T_STRING","createFromRenderArray",103],"(",["T_VARIABLE","$build",103],")",";",["T_WHITESPACE","\n\n    ",103],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertEqual",105],"(","[","]",",",["T_WHITESPACE"," ",105],["T_VARIABLE","$assets",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getSettings",105],"(",")",",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'JavaScript settings on $assets are empty.'",105],")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$javascript",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assetResolver",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getJsAssets",106],"(",["T_VARIABLE","$assets",106],",",["T_WHITESPACE"," ",106],["T_STRING","FALSE",106],")","[",["T_LNUMBER","1",106],"]",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertTrue",107],"(",["T_STRING","array_key_exists",107],"(",["T_CONSTANT_ENCAPSED_STRING","'currentPath'",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$javascript",107],"[",["T_CONSTANT_ENCAPSED_STRING","'drupalSettings'",107],"]","[",["T_CONSTANT_ENCAPSED_STRING","'data'",107],"]","[",["T_CONSTANT_ENCAPSED_STRING","'path'",107],"]",")",",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'The current path JavaScript setting is set correctly.'",107],")",";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","assertTrue",108],"(",["T_STRING","array_key_exists",108],"(",["T_CONSTANT_ENCAPSED_STRING","'currentPath'",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$assets",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getSettings",108],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","'path'",108],"]",")",",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'JavaScript settings on $assets are resolved after retrieving JavaScript assets, and are equal to the returned JavaScript settings.'",108],")",";",["T_WHITESPACE","\n\n    ",108],["T_VARIABLE","$assets",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","setSettings",110],"(","[",["T_CONSTANT_ENCAPSED_STRING","'drupal'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'rocks'",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'dries'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_LNUMBER","280342800",110],"]",")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$javascript",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","assetResolver",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getJsAssets",111],"(",["T_VARIABLE","$assets",111],",",["T_WHITESPACE"," ",111],["T_STRING","FALSE",111],")","[",["T_LNUMBER","1",111],"]",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","assertEqual",112],"(",["T_LNUMBER","280342800",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$javascript",112],"[",["T_CONSTANT_ENCAPSED_STRING","'drupalSettings'",112],"]","[",["T_CONSTANT_ENCAPSED_STRING","'data'",112],"]","[",["T_CONSTANT_ENCAPSED_STRING","'dries'",112],"]",",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'JavaScript setting is set correctly.'",112],")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","assertEqual",113],"(",["T_CONSTANT_ENCAPSED_STRING","'rocks'",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$javascript",113],"[",["T_CONSTANT_ENCAPSED_STRING","'drupalSettings'",113],"]","[",["T_CONSTANT_ENCAPSED_STRING","'data'",113],"]","[",["T_CONSTANT_ENCAPSED_STRING","'drupal'",113],"]",",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'The other JavaScript setting is set correctly.'",113],")",";",["T_WHITESPACE","\n  ",113],"}",["T_WHITESPACE","\n\n  ",114],["T_DOC_COMMENT","\/**\n   * Tests adding external CSS and JavaScript files.\n   *\/",116],["T_WHITESPACE","\n  ",118],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","testAddExternalFiles",119],"(",")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$build",120],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",120],"]","[",["T_CONSTANT_ENCAPSED_STRING","'library'",120],"]","[","]",["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'common_test\/external'",120],";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$assets",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_STRING","AttachedAssets",121],["T_DOUBLE_COLON","::",121],["T_STRING","createFromRenderArray",121],"(",["T_VARIABLE","$build",121],")",";",["T_WHITESPACE","\n\n    ",121],["T_VARIABLE","$css",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","assetResolver",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getCssAssets",123],"(",["T_VARIABLE","$assets",123],",",["T_WHITESPACE"," ",123],["T_STRING","FALSE",123],")",";",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$js",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","assetResolver",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getJsAssets",124],"(",["T_VARIABLE","$assets",124],",",["T_WHITESPACE"," ",124],["T_STRING","FALSE",124],")","[",["T_LNUMBER","1",124],"]",";",["T_WHITESPACE","\n    ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertTrue",125],"(",["T_STRING","array_key_exists",125],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/stylesheet.css'",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$css",125],")",",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'External CSS files are correctly added.'",125],")",";",["T_WHITESPACE","\n    ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","assertTrue",126],"(",["T_STRING","array_key_exists",126],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com\/script.js'",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$js",126],")",",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'External JavaScript files are correctly added.'",126],")",";",["T_WHITESPACE","\n\n    ",126],["T_VARIABLE","$css_render_array",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Drupal",128],["T_DOUBLE_COLON","::",128],["T_STRING","service",128],"(",["T_CONSTANT_ENCAPSED_STRING","'asset.css.collection_renderer'",128],")",["T_OBJECT_OPERATOR","->",128],["T_STRING","render",128],"(",["T_VARIABLE","$css",128],")",";",["T_WHITESPACE","\n    ",128],["T_VARIABLE","$js_render_array",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Drupal",129],["T_DOUBLE_COLON","::",129],["T_STRING","service",129],"(",["T_CONSTANT_ENCAPSED_STRING","'asset.js.collection_renderer'",129],")",["T_OBJECT_OPERATOR","->",129],["T_STRING","render",129],"(",["T_VARIABLE","$js",129],")",";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$rendered_css",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","renderer",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","renderPlain",130],"(",["T_VARIABLE","$css_render_array",130],")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$rendered_js",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","renderer",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","renderPlain",131],"(",["T_VARIABLE","$js_render_array",131],")",";",["T_WHITESPACE","\n    ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","assertNotIdentical",132],"(",["T_STRING","strpos",132],"(",["T_VARIABLE","$rendered_css",132],",",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'<link rel=\"stylesheet\" href=\"http:\/\/example.com\/stylesheet.css\" media=\"all\" \/>'",132],")",",",["T_WHITESPACE"," ",132],["T_STRING","FALSE",132],",",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'Rendering an external CSS file.'",132],")",";",["T_WHITESPACE","\n    ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","assertNotIdentical",133],"(",["T_STRING","strpos",133],"(",["T_VARIABLE","$rendered_js",133],",",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'<script src=\"http:\/\/example.com\/script.js\"><\/script>'",133],")",",",["T_WHITESPACE"," ",133],["T_STRING","FALSE",133],",",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'Rendering an external JavaScript file.'",133],")",";",["T_WHITESPACE","\n  ",133],"}",["T_WHITESPACE","\n\n  ",134],["T_DOC_COMMENT","\/**\n   * Tests adding JavaScript files with additional attributes.\n   *\/",136],["T_WHITESPACE","\n  ",138],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","testAttributes",139],"(",")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$build",140],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",140],"]","[",["T_CONSTANT_ENCAPSED_STRING","'library'",140],"]","[","]",["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'common_test\/js-attributes'",140],";",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$assets",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_STRING","AttachedAssets",141],["T_DOUBLE_COLON","::",141],["T_STRING","createFromRenderArray",141],"(",["T_VARIABLE","$build",141],")",";",["T_WHITESPACE","\n\n    ",141],["T_VARIABLE","$js",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","assetResolver",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getJsAssets",143],"(",["T_VARIABLE","$assets",143],",",["T_WHITESPACE"," ",143],["T_STRING","FALSE",143],")","[",["T_LNUMBER","1",143],"]",";",["T_WHITESPACE","\n    ",143],["T_VARIABLE","$js_render_array",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_NS_SEPARATOR","\\",144],["T_STRING","Drupal",144],["T_DOUBLE_COLON","::",144],["T_STRING","service",144],"(",["T_CONSTANT_ENCAPSED_STRING","'asset.js.collection_renderer'",144],")",["T_OBJECT_OPERATOR","->",144],["T_STRING","render",144],"(",["T_VARIABLE","$js",144],")",";",["T_WHITESPACE","\n    ",144],["T_VARIABLE","$rendered_js",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","renderer",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","renderPlain",145],"(",["T_VARIABLE","$js_render_array",145],")",";",["T_WHITESPACE","\n    ",145],["T_VARIABLE","$expected_1",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","'<script src=\"http:\/\/example.com\/deferred-external.js\" foo=\"bar\" defer><\/script>'",146],";",["T_WHITESPACE","\n    ",146],["T_VARIABLE","$expected_2",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'<script src=\"'",147],["T_WHITESPACE"," ",147],".",["T_WHITESPACE"," ",147],["T_STRING","file_url_transform_relative",147],"(",["T_STRING","file_create_url",147],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/modules\/system\/tests\/modules\/common_test\/deferred-internal.js'",147],")",")",["T_WHITESPACE"," ",147],".",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'?v=1\" defer bar=\"foo\"><\/script>'",147],";",["T_WHITESPACE","\n    ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","assertNotIdentical",148],"(",["T_STRING","strpos",148],"(",["T_VARIABLE","$rendered_js",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$expected_1",148],")",",",["T_WHITESPACE"," ",148],["T_STRING","FALSE",148],",",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'Rendered external JavaScript with correct defer and random attributes.'",148],")",";",["T_WHITESPACE","\n    ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","assertNotIdentical",149],"(",["T_STRING","strpos",149],"(",["T_VARIABLE","$rendered_js",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$expected_2",149],")",",",["T_WHITESPACE"," ",149],["T_STRING","FALSE",149],",",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'Rendered internal JavaScript with correct defer and random attributes.'",149],")",";",["T_WHITESPACE","\n  ",149],"}",["T_WHITESPACE","\n\n  ",150],["T_DOC_COMMENT","\/**\n   * Tests that attributes are maintained when JS aggregation is enabled.\n   *\/",152],["T_WHITESPACE","\n  ",154],["T_FUNCTION","function",155],["T_WHITESPACE"," ",155],["T_STRING","testAggregatedAttributes",155],"(",")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$build",156],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",156],"]","[",["T_CONSTANT_ENCAPSED_STRING","'library'",156],"]","[","]",["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'common_test\/js-attributes'",156],";",["T_WHITESPACE","\n    ",156],["T_VARIABLE","$assets",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_STRING","AttachedAssets",157],["T_DOUBLE_COLON","::",157],["T_STRING","createFromRenderArray",157],"(",["T_VARIABLE","$build",157],")",";",["T_WHITESPACE","\n\n    ",157],["T_VARIABLE","$js",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","assetResolver",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getJsAssets",159],"(",["T_VARIABLE","$assets",159],",",["T_WHITESPACE"," ",159],["T_STRING","TRUE",159],")","[",["T_LNUMBER","1",159],"]",";",["T_WHITESPACE","\n    ",159],["T_VARIABLE","$js_render_array",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_NS_SEPARATOR","\\",160],["T_STRING","Drupal",160],["T_DOUBLE_COLON","::",160],["T_STRING","service",160],"(",["T_CONSTANT_ENCAPSED_STRING","'asset.js.collection_renderer'",160],")",["T_OBJECT_OPERATOR","->",160],["T_STRING","render",160],"(",["T_VARIABLE","$js",160],")",";",["T_WHITESPACE","\n    ",160],["T_VARIABLE","$rendered_js",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","renderer",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","renderPlain",161],"(",["T_VARIABLE","$js_render_array",161],")",";",["T_WHITESPACE","\n    ",161],["T_VARIABLE","$expected_1",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'<script src=\"http:\/\/example.com\/deferred-external.js\" foo=\"bar\" defer><\/script>'",162],";",["T_WHITESPACE","\n    ",162],["T_VARIABLE","$expected_2",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'<script src=\"'",163],["T_WHITESPACE"," ",163],".",["T_WHITESPACE"," ",163],["T_STRING","file_url_transform_relative",163],"(",["T_STRING","file_create_url",163],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/modules\/system\/tests\/modules\/common_test\/deferred-internal.js'",163],")",")",["T_WHITESPACE"," ",163],".",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'?v=1\" defer bar=\"foo\"><\/script>'",163],";",["T_WHITESPACE","\n    ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","assertNotIdentical",164],"(",["T_STRING","strpos",164],"(",["T_VARIABLE","$rendered_js",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$expected_1",164],")",",",["T_WHITESPACE"," ",164],["T_STRING","FALSE",164],",",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'Rendered external JavaScript with correct defer and random attributes.'",164],")",";",["T_WHITESPACE","\n    ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","assertNotIdentical",165],"(",["T_STRING","strpos",165],"(",["T_VARIABLE","$rendered_js",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$expected_2",165],")",",",["T_WHITESPACE"," ",165],["T_STRING","FALSE",165],",",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'Rendered internal JavaScript with correct defer and random attributes.'",165],")",";",["T_WHITESPACE","\n  ",165],"}",["T_WHITESPACE","\n\n  ",166],["T_DOC_COMMENT","\/**\n   * Integration test for CSS\/JS aggregation.\n   *\/",168],["T_WHITESPACE","\n  ",170],["T_FUNCTION","function",171],["T_WHITESPACE"," ",171],["T_STRING","testAggregation",171],"(",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n    ",171],["T_VARIABLE","$build",172],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",172],"]","[",["T_CONSTANT_ENCAPSED_STRING","'library'",172],"]","[","]",["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'core\/drupal.timezone'",172],";",["T_WHITESPACE","\n    ",172],["T_VARIABLE","$build",173],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",173],"]","[",["T_CONSTANT_ENCAPSED_STRING","'library'",173],"]","[","]",["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'core\/drupal.vertical-tabs'",173],";",["T_WHITESPACE","\n    ",173],["T_VARIABLE","$assets",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_STRING","AttachedAssets",174],["T_DOUBLE_COLON","::",174],["T_STRING","createFromRenderArray",174],"(",["T_VARIABLE","$build",174],")",";",["T_WHITESPACE","\n\n    ",174],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","assertEqual",176],"(",["T_LNUMBER","1",176],",",["T_WHITESPACE"," ",176],["T_STRING","count",176],"(",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","assetResolver",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getCssAssets",176],"(",["T_VARIABLE","$assets",176],",",["T_WHITESPACE"," ",176],["T_STRING","TRUE",176],")",")",",",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'There is a sole aggregated CSS asset.'",176],")",";",["T_WHITESPACE","\n\n    ",176],["T_LIST","list",178],"(",["T_VARIABLE","$header_js",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$footer_js",178],")",["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","assetResolver",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getJsAssets",178],"(",["T_VARIABLE","$assets",178],",",["T_WHITESPACE"," ",178],["T_STRING","TRUE",178],")",";",["T_WHITESPACE","\n    ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","assertEqual",179],"(","[","]",",",["T_WHITESPACE"," ",179],["T_NS_SEPARATOR","\\",179],["T_STRING","Drupal",179],["T_DOUBLE_COLON","::",179],["T_STRING","service",179],"(",["T_CONSTANT_ENCAPSED_STRING","'asset.js.collection_renderer'",179],")",["T_OBJECT_OPERATOR","->",179],["T_STRING","render",179],"(",["T_VARIABLE","$header_js",179],")",",",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'There are 0 JavaScript assets in the header.'",179],")",";",["T_WHITESPACE","\n    ",179],["T_VARIABLE","$rendered_footer_js",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_NS_SEPARATOR","\\",180],["T_STRING","Drupal",180],["T_DOUBLE_COLON","::",180],["T_STRING","service",180],"(",["T_CONSTANT_ENCAPSED_STRING","'asset.js.collection_renderer'",180],")",["T_OBJECT_OPERATOR","->",180],["T_STRING","render",180],"(",["T_VARIABLE","$footer_js",180],")",";",["T_WHITESPACE","\n    ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","assertEqual",181],"(",["T_LNUMBER","2",181],",",["T_WHITESPACE"," ",181],["T_STRING","count",181],"(",["T_VARIABLE","$rendered_footer_js",181],")",",",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'There are 2 JavaScript assets in the footer.'",181],")",";",["T_WHITESPACE","\n    ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","assertEqual",182],"(",["T_CONSTANT_ENCAPSED_STRING","'drupal-settings-json'",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$rendered_footer_js",182],"[",["T_LNUMBER","0",182],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",182],"]","[",["T_CONSTANT_ENCAPSED_STRING","'data-drupal-selector'",182],"]",",",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'The first of the two JavaScript assets in the footer has drupal settings.'",182],")",";",["T_WHITESPACE","\n    ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","assertEqual",183],"(",["T_LNUMBER","0",183],",",["T_WHITESPACE"," ",183],["T_STRING","strpos",183],"(",["T_VARIABLE","$rendered_footer_js",183],"[",["T_LNUMBER","1",183],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",183],"]","[",["T_CONSTANT_ENCAPSED_STRING","'src'",183],"]",",",["T_WHITESPACE"," ",183],["T_STRING","base_path",183],"(",")",")",",",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'The second of the two JavaScript assets in the footer has the sole aggregated JavaScript asset.'",183],")",";",["T_WHITESPACE","\n  ",183],"}",["T_WHITESPACE","\n\n  ",184],["T_DOC_COMMENT","\/**\n   * Tests JavaScript settings.\n   *\/",186],["T_WHITESPACE","\n  ",188],["T_FUNCTION","function",189],["T_WHITESPACE"," ",189],["T_STRING","testSettings",189],"(",")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n    ",189],["T_VARIABLE","$build",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_ARRAY","array",190],"(",")",";",["T_WHITESPACE","\n    ",190],["T_VARIABLE","$build",191],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",191],"]","[",["T_CONSTANT_ENCAPSED_STRING","'library'",191],"]","[","]",["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'core\/drupalSettings'",191],";",["T_WHITESPACE","\n    ",191],["T_COMMENT","\/\/ Nonsensical value to verify if it's possible to override path settings.\n",192],["T_WHITESPACE","    ",193],["T_VARIABLE","$build",193],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",193],"]","[",["T_CONSTANT_ENCAPSED_STRING","'drupalSettings'",193],"]","[",["T_CONSTANT_ENCAPSED_STRING","'path'",193],"]","[",["T_CONSTANT_ENCAPSED_STRING","'pathPrefix'",193],"]",["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'yarhar'",193],";",["T_WHITESPACE","\n    ",193],["T_VARIABLE","$assets",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_STRING","AttachedAssets",194],["T_DOUBLE_COLON","::",194],["T_STRING","createFromRenderArray",194],"(",["T_VARIABLE","$build",194],")",";",["T_WHITESPACE","\n\n    ",194],["T_VARIABLE","$js",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","assetResolver",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getJsAssets",196],"(",["T_VARIABLE","$assets",196],",",["T_WHITESPACE"," ",196],["T_STRING","FALSE",196],")","[",["T_LNUMBER","1",196],"]",";",["T_WHITESPACE","\n    ",196],["T_VARIABLE","$js_render_array",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_NS_SEPARATOR","\\",197],["T_STRING","Drupal",197],["T_DOUBLE_COLON","::",197],["T_STRING","service",197],"(",["T_CONSTANT_ENCAPSED_STRING","'asset.js.collection_renderer'",197],")",["T_OBJECT_OPERATOR","->",197],["T_STRING","render",197],"(",["T_VARIABLE","$js",197],")",";",["T_WHITESPACE","\n    ",197],["T_COMMENT","\/\/ Cast to string since this returns a \\Drupal\\Core\\Render\\Markup object.\n",198],["T_WHITESPACE","    ",199],["T_VARIABLE","$rendered_js",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_STRING_CAST","(string)",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","renderer",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","renderPlain",199],"(",["T_VARIABLE","$js_render_array",199],")",";",["T_WHITESPACE","\n\n    ",199],["T_COMMENT","\/\/ Parse the generated drupalSettings <script> back to a PHP representation.\n",201],["T_WHITESPACE","    ",202],["T_VARIABLE","$startToken",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'{'",202],";",["T_WHITESPACE","\n    ",202],["T_VARIABLE","$endToken",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'}'",203],";",["T_WHITESPACE","\n    ",203],["T_VARIABLE","$start",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_STRING","strpos",204],"(",["T_VARIABLE","$rendered_js",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$startToken",204],")",";",["T_WHITESPACE","\n    ",204],["T_VARIABLE","$end",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_STRING","strrpos",205],"(",["T_VARIABLE","$rendered_js",205],",",["T_WHITESPACE"," ",205],["T_VARIABLE","$endToken",205],")",";",["T_WHITESPACE","\n    ",205],["T_COMMENT","\/\/ Convert to a string, as $renderer_js is a \\Drupal\\Core\\Render\\Markup\n",206],["T_WHITESPACE","    ",207],["T_COMMENT","\/\/ object.\n",207],["T_WHITESPACE","    ",208],["T_VARIABLE","$json",208],["T_WHITESPACE","  ",208],"=",["T_WHITESPACE"," ",208],["T_STRING","Unicode",208],["T_DOUBLE_COLON","::",208],["T_STRING","substr",208],"(",["T_VARIABLE","$rendered_js",208],",",["T_WHITESPACE"," ",208],["T_VARIABLE","$start",208],",",["T_WHITESPACE"," ",208],["T_VARIABLE","$end",208],["T_WHITESPACE"," ",208],"-",["T_WHITESPACE"," ",208],["T_VARIABLE","$start",208],["T_WHITESPACE"," ",208],"+",["T_WHITESPACE"," ",208],["T_LNUMBER","1",208],")",";",["T_WHITESPACE","\n    ",208],["T_VARIABLE","$parsed_settings",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_STRING","Json",209],["T_DOUBLE_COLON","::",209],["T_STRING","decode",209],"(",["T_VARIABLE","$json",209],")",";",["T_WHITESPACE","\n\n    ",209],["T_COMMENT","\/\/ Test whether the settings for core\/drupalSettings are available.\n",211],["T_WHITESPACE","    ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","assertTrue",212],"(",["T_ISSET","isset",212],"(",["T_VARIABLE","$parsed_settings",212],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",212],"]","[",["T_CONSTANT_ENCAPSED_STRING","'baseUrl'",212],"]",")",",",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'drupalSettings.path.baseUrl is present.'",212],")",";",["T_WHITESPACE","\n    ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","assertIdentical",213],"(",["T_VARIABLE","$parsed_settings",213],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",213],"]","[",["T_CONSTANT_ENCAPSED_STRING","'pathPrefix'",213],"]",",",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'yarhar'",213],",",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'drupalSettings.path.pathPrefix is present and has the correct (overridden) value.'",213],")",";",["T_WHITESPACE","\n    ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","assertIdentical",214],"(",["T_VARIABLE","$parsed_settings",214],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",214],"]","[",["T_CONSTANT_ENCAPSED_STRING","'currentPath'",214],"]",",",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","''",214],",",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'drupalSettings.path.currentPath is present and has the correct value.'",214],")",";",["T_WHITESPACE","\n    ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","assertIdentical",215],"(",["T_VARIABLE","$parsed_settings",215],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",215],"]","[",["T_CONSTANT_ENCAPSED_STRING","'currentPathIsAdmin'",215],"]",",",["T_WHITESPACE"," ",215],["T_STRING","FALSE",215],",",["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","'drupalSettings.path.currentPathIsAdmin is present and has the correct value.'",215],")",";",["T_WHITESPACE","\n    ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","assertIdentical",216],"(",["T_VARIABLE","$parsed_settings",216],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",216],"]","[",["T_CONSTANT_ENCAPSED_STRING","'isFront'",216],"]",",",["T_WHITESPACE"," ",216],["T_STRING","FALSE",216],",",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'drupalSettings.path.isFront is present and has the correct value.'",216],")",";",["T_WHITESPACE","\n    ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","assertIdentical",217],"(",["T_VARIABLE","$parsed_settings",217],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",217],"]","[",["T_CONSTANT_ENCAPSED_STRING","'currentLanguage'",217],"]",",",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'en'",217],",",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'drupalSettings.path.currentLanguage is present and has the correct value.'",217],")",";",["T_WHITESPACE","\n\n    ",217],["T_COMMENT","\/\/ Tests whether altering JavaScript settings via hook_js_settings_alter()\n",219],["T_WHITESPACE","    ",220],["T_COMMENT","\/\/ is working as expected.\n",220],["T_WHITESPACE","    ",221],["T_COMMENT","\/\/ @see common_test_js_settings_alter()\n",221],["T_WHITESPACE","    ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","assertIdentical",222],"(",["T_VARIABLE","$parsed_settings",222],"[",["T_CONSTANT_ENCAPSED_STRING","'pluralDelimiter'",222],"]",",",["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","'\u00e2\u0098\u0083'",222],")",";",["T_WHITESPACE","\n    ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","assertIdentical",223],"(",["T_VARIABLE","$parsed_settings",223],"[",["T_CONSTANT_ENCAPSED_STRING","'foo'",223],"]",",",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'bar'",223],")",";",["T_WHITESPACE","\n  ",223],"}",["T_WHITESPACE","\n\n  ",224],["T_DOC_COMMENT","\/**\n   * Tests JS assets depending on the 'core\/<head>' virtual library.\n   *\/",226],["T_WHITESPACE","\n  ",228],["T_FUNCTION","function",229],["T_WHITESPACE"," ",229],["T_STRING","testHeaderHTML",229],"(",")",["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n    ",229],["T_VARIABLE","$build",230],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",230],"]","[",["T_CONSTANT_ENCAPSED_STRING","'library'",230],"]","[","]",["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","'common_test\/js-header'",230],";",["T_WHITESPACE","\n    ",230],["T_VARIABLE","$assets",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_STRING","AttachedAssets",231],["T_DOUBLE_COLON","::",231],["T_STRING","createFromRenderArray",231],"(",["T_VARIABLE","$build",231],")",";",["T_WHITESPACE","\n\n    ",231],["T_VARIABLE","$js",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","assetResolver",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getJsAssets",233],"(",["T_VARIABLE","$assets",233],",",["T_WHITESPACE"," ",233],["T_STRING","FALSE",233],")","[",["T_LNUMBER","0",233],"]",";",["T_WHITESPACE","\n    ",233],["T_VARIABLE","$js_render_array",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_NS_SEPARATOR","\\",234],["T_STRING","Drupal",234],["T_DOUBLE_COLON","::",234],["T_STRING","service",234],"(",["T_CONSTANT_ENCAPSED_STRING","'asset.js.collection_renderer'",234],")",["T_OBJECT_OPERATOR","->",234],["T_STRING","render",234],"(",["T_VARIABLE","$js",234],")",";",["T_WHITESPACE","\n    ",234],["T_VARIABLE","$rendered_js",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","renderer",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","renderPlain",235],"(",["T_VARIABLE","$js_render_array",235],")",";",["T_WHITESPACE","\n    ",235],["T_VARIABLE","$query_string",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","container",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","get",236],"(",["T_CONSTANT_ENCAPSED_STRING","'state'",236],")",["T_OBJECT_OPERATOR","->",236],["T_STRING","get",236],"(",["T_CONSTANT_ENCAPSED_STRING","'system.css_js_query_string'",236],")",["T_WHITESPACE"," ",236],"?",":",["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","'0'",236],";",["T_WHITESPACE","\n    ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","assertNotIdentical",237],"(",["T_STRING","strpos",237],"(",["T_VARIABLE","$rendered_js",237],",",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'<script src=\"'",237],["T_WHITESPACE"," ",237],".",["T_WHITESPACE"," ",237],["T_STRING","file_url_transform_relative",237],"(",["T_STRING","file_create_url",237],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/modules\/system\/tests\/modules\/common_test\/header.js'",237],")",")",["T_WHITESPACE"," ",237],".",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'?'",237],["T_WHITESPACE"," ",237],".",["T_WHITESPACE"," ",237],["T_VARIABLE","$query_string",237],["T_WHITESPACE"," ",237],".",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'\"><\/script>'",237],")",",",["T_WHITESPACE"," ",237],["T_STRING","FALSE",237],",",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'The JS asset in common_test\/js-header appears in the header.'",237],")",";",["T_WHITESPACE","\n    ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","assertNotIdentical",238],"(",["T_STRING","strpos",238],"(",["T_VARIABLE","$rendered_js",238],",",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","'<script src=\"'",238],["T_WHITESPACE"," ",238],".",["T_WHITESPACE"," ",238],["T_STRING","file_url_transform_relative",238],"(",["T_STRING","file_create_url",238],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/misc\/drupal.js'",238],")",")",")",",",["T_WHITESPACE"," ",238],["T_STRING","FALSE",238],",",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","'The JS asset of the direct dependency (core\/drupal) of common_test\/js-header appears in the header.'",238],")",";",["T_WHITESPACE","\n    ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","assertNotIdentical",239],"(",["T_STRING","strpos",239],"(",["T_VARIABLE","$rendered_js",239],",",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'<script src=\"'",239],["T_WHITESPACE"," ",239],".",["T_WHITESPACE"," ",239],["T_STRING","file_url_transform_relative",239],"(",["T_STRING","file_create_url",239],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/assets\/vendor\/domready\/ready.min.js'",239],")",")",")",",",["T_WHITESPACE"," ",239],["T_STRING","FALSE",239],",",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'The JS asset of the indirect dependency (core\/domready) of common_test\/js-header appears in the header.'",239],")",";",["T_WHITESPACE","\n  ",239],"}",["T_WHITESPACE","\n\n  ",240],["T_DOC_COMMENT","\/**\n   * Tests that for assets with cache = FALSE, Drupal sets preprocess = FALSE.\n   *\/",242],["T_WHITESPACE","\n  ",244],["T_FUNCTION","function",245],["T_WHITESPACE"," ",245],["T_STRING","testNoCache",245],"(",")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n    ",245],["T_VARIABLE","$build",246],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",246],"]","[",["T_CONSTANT_ENCAPSED_STRING","'library'",246],"]","[","]",["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'common_test\/no-cache'",246],";",["T_WHITESPACE","\n    ",246],["T_VARIABLE","$assets",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_STRING","AttachedAssets",247],["T_DOUBLE_COLON","::",247],["T_STRING","createFromRenderArray",247],"(",["T_VARIABLE","$build",247],")",";",["T_WHITESPACE","\n\n    ",247],["T_VARIABLE","$js",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","assetResolver",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","getJsAssets",249],"(",["T_VARIABLE","$assets",249],",",["T_WHITESPACE"," ",249],["T_STRING","FALSE",249],")","[",["T_LNUMBER","1",249],"]",";",["T_WHITESPACE","\n    ",249],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","assertFalse",250],"(",["T_VARIABLE","$js",250],"[",["T_CONSTANT_ENCAPSED_STRING","'core\/modules\/system\/tests\/modules\/common_test\/nocache.js'",250],"]","[",["T_CONSTANT_ENCAPSED_STRING","'preprocess'",250],"]",",",["T_WHITESPACE"," ",250],["T_CONSTANT_ENCAPSED_STRING","'Setting cache to FALSE sets preprocess to FALSE when adding JavaScript.'",250],")",";",["T_WHITESPACE","\n  ",250],"}",["T_WHITESPACE","\n\n  ",251],["T_DOC_COMMENT","\/**\n   * Tests adding JavaScript within conditional comments.\n   *\n   * @see \\Drupal\\Core\\Render\\Element\\HtmlTag::preRenderConditionalComments()\n   *\/",253],["T_WHITESPACE","\n  ",257],["T_FUNCTION","function",258],["T_WHITESPACE"," ",258],["T_STRING","testBrowserConditionalComments",258],"(",")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n    ",258],["T_VARIABLE","$default_query_string",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","container",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","get",259],"(",["T_CONSTANT_ENCAPSED_STRING","'state'",259],")",["T_OBJECT_OPERATOR","->",259],["T_STRING","get",259],"(",["T_CONSTANT_ENCAPSED_STRING","'system.css_js_query_string'",259],")",["T_WHITESPACE"," ",259],"?",":",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'0'",259],";",["T_WHITESPACE","\n\n    ",259],["T_VARIABLE","$build",261],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",261],"]","[",["T_CONSTANT_ENCAPSED_STRING","'library'",261],"]","[","]",["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","'common_test\/browsers'",261],";",["T_WHITESPACE","\n    ",261],["T_VARIABLE","$assets",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_STRING","AttachedAssets",262],["T_DOUBLE_COLON","::",262],["T_STRING","createFromRenderArray",262],"(",["T_VARIABLE","$build",262],")",";",["T_WHITESPACE","\n\n    ",262],["T_VARIABLE","$js",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","assetResolver",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","getJsAssets",264],"(",["T_VARIABLE","$assets",264],",",["T_WHITESPACE"," ",264],["T_STRING","FALSE",264],")","[",["T_LNUMBER","1",264],"]",";",["T_WHITESPACE","\n    ",264],["T_VARIABLE","$js_render_array",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_NS_SEPARATOR","\\",265],["T_STRING","Drupal",265],["T_DOUBLE_COLON","::",265],["T_STRING","service",265],"(",["T_CONSTANT_ENCAPSED_STRING","'asset.js.collection_renderer'",265],")",["T_OBJECT_OPERATOR","->",265],["T_STRING","render",265],"(",["T_VARIABLE","$js",265],")",";",["T_WHITESPACE","\n    ",265],["T_VARIABLE","$rendered_js",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","renderer",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","renderPlain",266],"(",["T_VARIABLE","$js_render_array",266],")",";",["T_WHITESPACE","\n    ",266],["T_VARIABLE","$expected_1",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","\"<!--[if lte IE 8]>\\n\"",267],["T_WHITESPACE"," ",267],".",["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","'<script src=\"'",267],["T_WHITESPACE"," ",267],".",["T_WHITESPACE"," ",267],["T_STRING","file_url_transform_relative",267],"(",["T_STRING","file_create_url",267],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/modules\/system\/tests\/modules\/common_test\/old-ie.js'",267],")",")",["T_WHITESPACE"," ",267],".",["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","'?'",267],["T_WHITESPACE"," ",267],".",["T_WHITESPACE"," ",267],["T_VARIABLE","$default_query_string",267],["T_WHITESPACE"," ",267],".",["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","'\"><\/script>'",267],["T_WHITESPACE"," ",267],".",["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","\"\\n<![endif]-->\"",267],";",["T_WHITESPACE","\n    ",267],["T_VARIABLE","$expected_2",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","\"<!--[if !IE]><!-->\\n\"",268],["T_WHITESPACE"," ",268],".",["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","'<script src=\"'",268],["T_WHITESPACE"," ",268],".",["T_WHITESPACE"," ",268],["T_STRING","file_url_transform_relative",268],"(",["T_STRING","file_create_url",268],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/modules\/system\/tests\/modules\/common_test\/no-ie.js'",268],")",")",["T_WHITESPACE"," ",268],".",["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","'?'",268],["T_WHITESPACE"," ",268],".",["T_WHITESPACE"," ",268],["T_VARIABLE","$default_query_string",268],["T_WHITESPACE"," ",268],".",["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","'\"><\/script>'",268],["T_WHITESPACE"," ",268],".",["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","\"\\n<!--<![endif]-->\"",268],";",["T_WHITESPACE","\n\n    ",268],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","assertNotIdentical",270],"(",["T_STRING","strpos",270],"(",["T_VARIABLE","$rendered_js",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$expected_1",270],")",",",["T_WHITESPACE"," ",270],["T_STRING","FALSE",270],",",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'Rendered JavaScript within downlevel-hidden conditional comments.'",270],")",";",["T_WHITESPACE","\n    ",270],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","assertNotIdentical",271],"(",["T_STRING","strpos",271],"(",["T_VARIABLE","$rendered_js",271],",",["T_WHITESPACE"," ",271],["T_VARIABLE","$expected_2",271],")",",",["T_WHITESPACE"," ",271],["T_STRING","FALSE",271],",",["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","'Rendered JavaScript within downlevel-revealed conditional comments.'",271],")",";",["T_WHITESPACE","\n  ",271],"}",["T_WHITESPACE","\n\n  ",272],["T_DOC_COMMENT","\/**\n   * Tests JavaScript versioning.\n   *\/",274],["T_WHITESPACE","\n  ",276],["T_FUNCTION","function",277],["T_WHITESPACE"," ",277],["T_STRING","testVersionQueryString",277],"(",")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n    ",277],["T_VARIABLE","$build",278],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",278],"]","[",["T_CONSTANT_ENCAPSED_STRING","'library'",278],"]","[","]",["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'core\/backbone'",278],";",["T_WHITESPACE","\n    ",278],["T_VARIABLE","$build",279],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",279],"]","[",["T_CONSTANT_ENCAPSED_STRING","'library'",279],"]","[","]",["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'core\/domready'",279],";",["T_WHITESPACE","\n    ",279],["T_VARIABLE","$assets",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_STRING","AttachedAssets",280],["T_DOUBLE_COLON","::",280],["T_STRING","createFromRenderArray",280],"(",["T_VARIABLE","$build",280],")",";",["T_WHITESPACE","\n\n    ",280],["T_VARIABLE","$js",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","assetResolver",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","getJsAssets",282],"(",["T_VARIABLE","$assets",282],",",["T_WHITESPACE"," ",282],["T_STRING","FALSE",282],")","[",["T_LNUMBER","1",282],"]",";",["T_WHITESPACE","\n    ",282],["T_VARIABLE","$js_render_array",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_NS_SEPARATOR","\\",283],["T_STRING","Drupal",283],["T_DOUBLE_COLON","::",283],["T_STRING","service",283],"(",["T_CONSTANT_ENCAPSED_STRING","'asset.js.collection_renderer'",283],")",["T_OBJECT_OPERATOR","->",283],["T_STRING","render",283],"(",["T_VARIABLE","$js",283],")",";",["T_WHITESPACE","\n\n    ",283],["T_VARIABLE","$rendered_js",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","renderer",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","renderPlain",285],"(",["T_VARIABLE","$js_render_array",285],")",";",["T_WHITESPACE","\n    ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","assertTrue",286],"(",["T_STRING","strpos",286],"(",["T_VARIABLE","$rendered_js",286],",",["T_WHITESPACE"," ",286],["T_CONSTANT_ENCAPSED_STRING","'core\/assets\/vendor\/backbone\/backbone-min.js?v=1.2.3'",286],")",["T_WHITESPACE"," ",286],">",["T_WHITESPACE"," ",286],["T_LNUMBER","0",286],["T_WHITESPACE"," ",286],["T_BOOLEAN_AND","&&",286],["T_WHITESPACE"," ",286],["T_STRING","strpos",286],"(",["T_VARIABLE","$rendered_js",286],",",["T_WHITESPACE"," ",286],["T_CONSTANT_ENCAPSED_STRING","'core\/assets\/vendor\/domready\/ready.min.js?v=1.0.8'",286],")",["T_WHITESPACE"," ",286],">",["T_WHITESPACE"," ",286],["T_LNUMBER","0",286],",",["T_WHITESPACE"," ",286],["T_CONSTANT_ENCAPSED_STRING","'JavaScript version identifiers correctly appended to URLs'",286],")",";",["T_WHITESPACE","\n  ",286],"}",["T_WHITESPACE","\n\n  ",287],["T_DOC_COMMENT","\/**\n   * Tests JavaScript and CSS asset ordering.\n   *\/",289],["T_WHITESPACE","\n  ",291],["T_FUNCTION","function",292],["T_WHITESPACE"," ",292],["T_STRING","testRenderOrder",292],"(",")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n    ",292],["T_VARIABLE","$build",293],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",293],"]","[",["T_CONSTANT_ENCAPSED_STRING","'library'",293],"]","[","]",["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_CONSTANT_ENCAPSED_STRING","'common_test\/order'",293],";",["T_WHITESPACE","\n    ",293],["T_VARIABLE","$assets",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_STRING","AttachedAssets",294],["T_DOUBLE_COLON","::",294],["T_STRING","createFromRenderArray",294],"(",["T_VARIABLE","$build",294],")",";",["T_WHITESPACE","\n\n    ",294],["T_COMMENT","\/\/ Construct the expected result from the regex.\n",296],["T_WHITESPACE","    ",297],["T_VARIABLE","$expected_order_js",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],"[",["T_WHITESPACE","\n      ",297],["T_CONSTANT_ENCAPSED_STRING","\"-8_1\"",298],",",["T_WHITESPACE","\n      ",298],["T_CONSTANT_ENCAPSED_STRING","\"-8_2\"",299],",",["T_WHITESPACE","\n      ",299],["T_CONSTANT_ENCAPSED_STRING","\"-8_3\"",300],",",["T_WHITESPACE","\n      ",300],["T_CONSTANT_ENCAPSED_STRING","\"-8_4\"",301],",",["T_WHITESPACE","\n      ",301],["T_CONSTANT_ENCAPSED_STRING","\"-5_1\"",302],",",["T_WHITESPACE"," ",302],["T_COMMENT","\/\/ The external script.\n",302],["T_WHITESPACE","      ",303],["T_CONSTANT_ENCAPSED_STRING","\"-3_1\"",303],",",["T_WHITESPACE","\n      ",303],["T_CONSTANT_ENCAPSED_STRING","\"-3_2\"",304],",",["T_WHITESPACE","\n      ",304],["T_CONSTANT_ENCAPSED_STRING","\"0_1\"",305],",",["T_WHITESPACE","\n      ",305],["T_CONSTANT_ENCAPSED_STRING","\"0_2\"",306],",",["T_WHITESPACE","\n      ",306],["T_CONSTANT_ENCAPSED_STRING","\"0_3\"",307],",",["T_WHITESPACE","\n    ",307],"]",";",["T_WHITESPACE","\n\n    ",308],["T_COMMENT","\/\/ Retrieve the rendered JavaScript and test against the regex.\n",310],["T_WHITESPACE","    ",311],["T_VARIABLE","$js",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","assetResolver",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","getJsAssets",311],"(",["T_VARIABLE","$assets",311],",",["T_WHITESPACE"," ",311],["T_STRING","FALSE",311],")","[",["T_LNUMBER","1",311],"]",";",["T_WHITESPACE","\n    ",311],["T_VARIABLE","$js_render_array",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_NS_SEPARATOR","\\",312],["T_STRING","Drupal",312],["T_DOUBLE_COLON","::",312],["T_STRING","service",312],"(",["T_CONSTANT_ENCAPSED_STRING","'asset.js.collection_renderer'",312],")",["T_OBJECT_OPERATOR","->",312],["T_STRING","render",312],"(",["T_VARIABLE","$js",312],")",";",["T_WHITESPACE","\n    ",312],["T_VARIABLE","$rendered_js",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","renderer",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","renderPlain",313],"(",["T_VARIABLE","$js_render_array",313],")",";",["T_WHITESPACE","\n    ",313],["T_VARIABLE","$matches",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_ARRAY","array",314],"(",")",";",["T_WHITESPACE","\n    ",314],["T_IF","if",315],["T_WHITESPACE"," ",315],"(",["T_STRING","preg_match_all",315],"(",["T_CONSTANT_ENCAPSED_STRING","'\/weight_([-0-9]+_[0-9]+)\/'",315],",",["T_WHITESPACE"," ",315],["T_VARIABLE","$rendered_js",315],",",["T_WHITESPACE"," ",315],["T_VARIABLE","$matches",315],")",")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n      ",315],["T_VARIABLE","$result",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_VARIABLE","$matches",316],"[",["T_LNUMBER","1",316],"]",";",["T_WHITESPACE","\n    ",316],"}",["T_WHITESPACE","\n    ",317],["T_ELSE","else",318],["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n      ",318],["T_VARIABLE","$result",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_ARRAY","array",319],"(",")",";",["T_WHITESPACE","\n    ",319],"}",["T_WHITESPACE","\n    ",320],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","assertIdentical",321],"(",["T_VARIABLE","$result",321],",",["T_WHITESPACE"," ",321],["T_VARIABLE","$expected_order_js",321],",",["T_WHITESPACE"," ",321],["T_CONSTANT_ENCAPSED_STRING","'JavaScript is added in the expected weight order.'",321],")",";",["T_WHITESPACE","\n\n    ",321],["T_COMMENT","\/\/ Construct the expected result from the regex.\n",323],["T_WHITESPACE","    ",324],["T_VARIABLE","$expected_order_css",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],"[",["T_WHITESPACE","\n      ",324],["T_COMMENT","\/\/ Base.\n",325],["T_WHITESPACE","      ",326],["T_CONSTANT_ENCAPSED_STRING","'base_weight_-101_1'",326],",",["T_WHITESPACE","\n      ",326],["T_CONSTANT_ENCAPSED_STRING","'base_weight_-8_1'",327],",",["T_WHITESPACE","\n      ",327],["T_CONSTANT_ENCAPSED_STRING","'layout_weight_-101_1'",328],",",["T_WHITESPACE","\n      ",328],["T_CONSTANT_ENCAPSED_STRING","'base_weight_0_1'",329],",",["T_WHITESPACE","\n      ",329],["T_CONSTANT_ENCAPSED_STRING","'base_weight_0_2'",330],",",["T_WHITESPACE","\n      ",330],["T_COMMENT","\/\/ Layout.\n",331],["T_WHITESPACE","      ",332],["T_CONSTANT_ENCAPSED_STRING","'layout_weight_-8_1'",332],",",["T_WHITESPACE","\n      ",332],["T_CONSTANT_ENCAPSED_STRING","'component_weight_-101_1'",333],",",["T_WHITESPACE","\n      ",333],["T_CONSTANT_ENCAPSED_STRING","'layout_weight_0_1'",334],",",["T_WHITESPACE","\n      ",334],["T_CONSTANT_ENCAPSED_STRING","'layout_weight_0_2'",335],",",["T_WHITESPACE","\n      ",335],["T_COMMENT","\/\/ Component.\n",336],["T_WHITESPACE","      ",337],["T_CONSTANT_ENCAPSED_STRING","'component_weight_-8_1'",337],",",["T_WHITESPACE","\n      ",337],["T_CONSTANT_ENCAPSED_STRING","'state_weight_-101_1'",338],",",["T_WHITESPACE","\n      ",338],["T_CONSTANT_ENCAPSED_STRING","'component_weight_0_1'",339],",",["T_WHITESPACE","\n      ",339],["T_CONSTANT_ENCAPSED_STRING","'component_weight_0_2'",340],",",["T_WHITESPACE","\n      ",340],["T_COMMENT","\/\/ State.\n",341],["T_WHITESPACE","      ",342],["T_CONSTANT_ENCAPSED_STRING","'state_weight_-8_1'",342],",",["T_WHITESPACE","\n      ",342],["T_CONSTANT_ENCAPSED_STRING","'theme_weight_-101_1'",343],",",["T_WHITESPACE","\n      ",343],["T_CONSTANT_ENCAPSED_STRING","'state_weight_0_1'",344],",",["T_WHITESPACE","\n      ",344],["T_CONSTANT_ENCAPSED_STRING","'state_weight_0_2'",345],",",["T_WHITESPACE","\n      ",345],["T_COMMENT","\/\/ Theme.\n",346],["T_WHITESPACE","      ",347],["T_CONSTANT_ENCAPSED_STRING","'theme_weight_-8_1'",347],",",["T_WHITESPACE","\n      ",347],["T_CONSTANT_ENCAPSED_STRING","'theme_weight_0_1'",348],",",["T_WHITESPACE","\n      ",348],["T_CONSTANT_ENCAPSED_STRING","'theme_weight_0_2'",349],",",["T_WHITESPACE","\n    ",349],"]",";",["T_WHITESPACE","\n\n    ",350],["T_COMMENT","\/\/ Retrieve the rendered CSS and test against the regex.\n",352],["T_WHITESPACE","    ",353],["T_VARIABLE","$css",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","assetResolver",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","getCssAssets",353],"(",["T_VARIABLE","$assets",353],",",["T_WHITESPACE"," ",353],["T_STRING","FALSE",353],")",";",["T_WHITESPACE","\n    ",353],["T_VARIABLE","$css_render_array",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_NS_SEPARATOR","\\",354],["T_STRING","Drupal",354],["T_DOUBLE_COLON","::",354],["T_STRING","service",354],"(",["T_CONSTANT_ENCAPSED_STRING","'asset.css.collection_renderer'",354],")",["T_OBJECT_OPERATOR","->",354],["T_STRING","render",354],"(",["T_VARIABLE","$css",354],")",";",["T_WHITESPACE","\n    ",354],["T_VARIABLE","$rendered_css",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","renderer",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","renderPlain",355],"(",["T_VARIABLE","$css_render_array",355],")",";",["T_WHITESPACE","\n    ",355],["T_VARIABLE","$matches",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_ARRAY","array",356],"(",")",";",["T_WHITESPACE","\n    ",356],["T_IF","if",357],["T_WHITESPACE"," ",357],"(",["T_STRING","preg_match_all",357],"(",["T_CONSTANT_ENCAPSED_STRING","'\/([a-z]+)_weight_([-0-9]+_[0-9]+)\/'",357],",",["T_WHITESPACE"," ",357],["T_VARIABLE","$rendered_css",357],",",["T_WHITESPACE"," ",357],["T_VARIABLE","$matches",357],")",")",["T_WHITESPACE"," ",357],"{",["T_WHITESPACE","\n      ",357],["T_VARIABLE","$result",358],["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_VARIABLE","$matches",358],"[",["T_LNUMBER","0",358],"]",";",["T_WHITESPACE","\n    ",358],"}",["T_WHITESPACE","\n    ",359],["T_ELSE","else",360],["T_WHITESPACE"," ",360],"{",["T_WHITESPACE","\n      ",360],["T_VARIABLE","$result",361],["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_ARRAY","array",361],"(",")",";",["T_WHITESPACE","\n    ",361],"}",["T_WHITESPACE","\n    ",362],["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","assertIdentical",363],"(",["T_VARIABLE","$result",363],",",["T_WHITESPACE"," ",363],["T_VARIABLE","$expected_order_css",363],",",["T_WHITESPACE"," ",363],["T_CONSTANT_ENCAPSED_STRING","'CSS is added in the expected weight order.'",363],")",";",["T_WHITESPACE","\n  ",363],"}",["T_WHITESPACE","\n\n  ",364],["T_DOC_COMMENT","\/**\n   * Tests rendering the JavaScript with a file's weight above jQuery's.\n   *\/",366],["T_WHITESPACE","\n  ",368],["T_FUNCTION","function",369],["T_WHITESPACE"," ",369],["T_STRING","testRenderDifferentWeight",369],"(",")",["T_WHITESPACE"," ",369],"{",["T_WHITESPACE","\n    ",369],["T_COMMENT","\/\/ If a library contains assets A and B, and A is listed first, then B can\n",370],["T_WHITESPACE","    ",371],["T_COMMENT","\/\/ still make itself appear first by defining a lower weight.\n",371],["T_WHITESPACE","    ",372],["T_VARIABLE","$build",372],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",372],"]","[",["T_CONSTANT_ENCAPSED_STRING","'library'",372],"]","[","]",["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_CONSTANT_ENCAPSED_STRING","'core\/jquery'",372],";",["T_WHITESPACE","\n    ",372],["T_VARIABLE","$build",373],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",373],"]","[",["T_CONSTANT_ENCAPSED_STRING","'library'",373],"]","[","]",["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","'common_test\/weight'",373],";",["T_WHITESPACE","\n    ",373],["T_VARIABLE","$assets",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_STRING","AttachedAssets",374],["T_DOUBLE_COLON","::",374],["T_STRING","createFromRenderArray",374],"(",["T_VARIABLE","$build",374],")",";",["T_WHITESPACE","\n\n    ",374],["T_VARIABLE","$js",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","assetResolver",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","getJsAssets",376],"(",["T_VARIABLE","$assets",376],",",["T_WHITESPACE"," ",376],["T_STRING","FALSE",376],")","[",["T_LNUMBER","1",376],"]",";",["T_WHITESPACE","\n    ",376],["T_VARIABLE","$js_render_array",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_NS_SEPARATOR","\\",377],["T_STRING","Drupal",377],["T_DOUBLE_COLON","::",377],["T_STRING","service",377],"(",["T_CONSTANT_ENCAPSED_STRING","'asset.js.collection_renderer'",377],")",["T_OBJECT_OPERATOR","->",377],["T_STRING","render",377],"(",["T_VARIABLE","$js",377],")",";",["T_WHITESPACE","\n    ",377],["T_VARIABLE","$rendered_js",378],["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","renderer",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","renderPlain",378],"(",["T_VARIABLE","$js_render_array",378],")",";",["T_WHITESPACE","\n    ",378],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","assertTrue",379],"(",["T_STRING","strpos",379],"(",["T_VARIABLE","$rendered_js",379],",",["T_WHITESPACE"," ",379],["T_CONSTANT_ENCAPSED_STRING","'lighter.css'",379],")",["T_WHITESPACE"," ",379],"<",["T_WHITESPACE"," ",379],["T_STRING","strpos",379],"(",["T_VARIABLE","$rendered_js",379],",",["T_WHITESPACE"," ",379],["T_CONSTANT_ENCAPSED_STRING","'first.js'",379],")",",",["T_WHITESPACE"," ",379],["T_CONSTANT_ENCAPSED_STRING","'Lighter CSS assets are rendered first.'",379],")",";",["T_WHITESPACE","\n    ",379],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","assertTrue",380],"(",["T_STRING","strpos",380],"(",["T_VARIABLE","$rendered_js",380],",",["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","'lighter.js'",380],")",["T_WHITESPACE"," ",380],"<",["T_WHITESPACE"," ",380],["T_STRING","strpos",380],"(",["T_VARIABLE","$rendered_js",380],",",["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","'first.js'",380],")",",",["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","'Lighter JavaScript assets are rendered first.'",380],")",";",["T_WHITESPACE","\n    ",380],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","assertTrue",381],"(",["T_STRING","strpos",381],"(",["T_VARIABLE","$rendered_js",381],",",["T_WHITESPACE"," ",381],["T_CONSTANT_ENCAPSED_STRING","'before-jquery.js'",381],")",["T_WHITESPACE"," ",381],"<",["T_WHITESPACE"," ",381],["T_STRING","strpos",381],"(",["T_VARIABLE","$rendered_js",381],",",["T_WHITESPACE"," ",381],["T_CONSTANT_ENCAPSED_STRING","'core\/assets\/vendor\/jquery\/jquery.min.js'",381],")",",",["T_WHITESPACE"," ",381],["T_CONSTANT_ENCAPSED_STRING","'Rendering a JavaScript file above jQuery.'",381],")",";",["T_WHITESPACE","\n  ",381],"}",["T_WHITESPACE","\n\n  ",382],["T_DOC_COMMENT","\/**\n   * Tests altering a JavaScript's weight via hook_js_alter().\n   *\n   * @see simpletest_js_alter()\n   *\/",384],["T_WHITESPACE","\n  ",388],["T_FUNCTION","function",389],["T_WHITESPACE"," ",389],["T_STRING","testAlter",389],"(",")",["T_WHITESPACE"," ",389],"{",["T_WHITESPACE","\n    ",389],["T_COMMENT","\/\/ Add both tableselect.js and simpletest.js.\n",390],["T_WHITESPACE","    ",391],["T_VARIABLE","$build",391],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",391],"]","[",["T_CONSTANT_ENCAPSED_STRING","'library'",391],"]","[","]",["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","'core\/drupal.tableselect'",391],";",["T_WHITESPACE","\n    ",391],["T_VARIABLE","$build",392],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",392],"]","[",["T_CONSTANT_ENCAPSED_STRING","'library'",392],"]","[","]",["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],["T_CONSTANT_ENCAPSED_STRING","'simpletest\/drupal.simpletest'",392],";",["T_WHITESPACE","\n    ",392],["T_VARIABLE","$assets",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_STRING","AttachedAssets",393],["T_DOUBLE_COLON","::",393],["T_STRING","createFromRenderArray",393],"(",["T_VARIABLE","$build",393],")",";",["T_WHITESPACE","\n\n    ",393],["T_COMMENT","\/\/ Render the JavaScript, testing if simpletest.js was altered to be before\n",395],["T_WHITESPACE","    ",396],["T_COMMENT","\/\/ tableselect.js. See simpletest_js_alter() to see where this alteration\n",396],["T_WHITESPACE","    ",397],["T_COMMENT","\/\/ takes place.\n",397],["T_WHITESPACE","    ",398],["T_VARIABLE","$js",398],["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","assetResolver",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","getJsAssets",398],"(",["T_VARIABLE","$assets",398],",",["T_WHITESPACE"," ",398],["T_STRING","FALSE",398],")","[",["T_LNUMBER","1",398],"]",";",["T_WHITESPACE","\n    ",398],["T_VARIABLE","$js_render_array",399],["T_WHITESPACE"," ",399],"=",["T_WHITESPACE"," ",399],["T_NS_SEPARATOR","\\",399],["T_STRING","Drupal",399],["T_DOUBLE_COLON","::",399],["T_STRING","service",399],"(",["T_CONSTANT_ENCAPSED_STRING","'asset.js.collection_renderer'",399],")",["T_OBJECT_OPERATOR","->",399],["T_STRING","render",399],"(",["T_VARIABLE","$js",399],")",";",["T_WHITESPACE","\n    ",399],["T_VARIABLE","$rendered_js",400],["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","renderer",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","renderPlain",400],"(",["T_VARIABLE","$js_render_array",400],")",";",["T_WHITESPACE","\n    ",400],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","assertTrue",401],"(",["T_STRING","strpos",401],"(",["T_VARIABLE","$rendered_js",401],",",["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","'simpletest.js'",401],")",["T_WHITESPACE"," ",401],"<",["T_WHITESPACE"," ",401],["T_STRING","strpos",401],"(",["T_VARIABLE","$rendered_js",401],",",["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","'core\/misc\/tableselect.js'",401],")",",",["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","'Altering JavaScript weight through the alter hook.'",401],")",";",["T_WHITESPACE","\n  ",401],"}",["T_WHITESPACE","\n\n  ",402],["T_DOC_COMMENT","\/**\n   * Adds a JavaScript library to the page and alters it.\n   *\n   * @see common_test_library_info_alter()\n   *\/",404],["T_WHITESPACE","\n  ",408],["T_FUNCTION","function",409],["T_WHITESPACE"," ",409],["T_STRING","testLibraryAlter",409],"(",")",["T_WHITESPACE"," ",409],"{",["T_WHITESPACE","\n    ",409],["T_COMMENT","\/\/ Verify that common_test altered the title of Farbtastic.\n",410],["T_WHITESPACE","    ",411],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Asset\\LibraryDiscoveryInterface $library_discovery *\/",411],["T_WHITESPACE","\n    ",411],["T_VARIABLE","$library_discovery",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_NS_SEPARATOR","\\",412],["T_STRING","Drupal",412],["T_DOUBLE_COLON","::",412],["T_STRING","service",412],"(",["T_CONSTANT_ENCAPSED_STRING","'library.discovery'",412],")",";",["T_WHITESPACE","\n    ",412],["T_VARIABLE","$library",413],["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_VARIABLE","$library_discovery",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","getLibraryByName",413],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",413],",",["T_WHITESPACE"," ",413],["T_CONSTANT_ENCAPSED_STRING","'jquery.farbtastic'",413],")",";",["T_WHITESPACE","\n    ",413],["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","assertEqual",414],"(",["T_VARIABLE","$library",414],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",414],"]",",",["T_WHITESPACE"," ",414],["T_CONSTANT_ENCAPSED_STRING","'0.0'",414],",",["T_WHITESPACE"," ",414],["T_CONSTANT_ENCAPSED_STRING","'Registered libraries were altered.'",414],")",";",["T_WHITESPACE","\n\n    ",414],["T_COMMENT","\/\/ common_test_library_info_alter() also added a dependency on jQuery Form.\n",416],["T_WHITESPACE","    ",417],["T_VARIABLE","$build",417],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",417],"]","[",["T_CONSTANT_ENCAPSED_STRING","'library'",417],"]","[","]",["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],["T_CONSTANT_ENCAPSED_STRING","'core\/jquery.farbtastic'",417],";",["T_WHITESPACE","\n    ",417],["T_VARIABLE","$assets",418],["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],["T_STRING","AttachedAssets",418],["T_DOUBLE_COLON","::",418],["T_STRING","createFromRenderArray",418],"(",["T_VARIABLE","$build",418],")",";",["T_WHITESPACE","\n    ",418],["T_VARIABLE","$js",419],["T_WHITESPACE"," ",419],"=",["T_WHITESPACE"," ",419],["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","assetResolver",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","getJsAssets",419],"(",["T_VARIABLE","$assets",419],",",["T_WHITESPACE"," ",419],["T_STRING","FALSE",419],")","[",["T_LNUMBER","1",419],"]",";",["T_WHITESPACE","\n    ",419],["T_VARIABLE","$js_render_array",420],["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_NS_SEPARATOR","\\",420],["T_STRING","Drupal",420],["T_DOUBLE_COLON","::",420],["T_STRING","service",420],"(",["T_CONSTANT_ENCAPSED_STRING","'asset.js.collection_renderer'",420],")",["T_OBJECT_OPERATOR","->",420],["T_STRING","render",420],"(",["T_VARIABLE","$js",420],")",";",["T_WHITESPACE","\n    ",420],["T_VARIABLE","$rendered_js",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","renderer",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","renderPlain",421],"(",["T_VARIABLE","$js_render_array",421],")",";",["T_WHITESPACE","\n    ",421],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","assertTrue",422],"(",["T_STRING","strpos",422],"(",["T_VARIABLE","$rendered_js",422],",",["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","'core\/assets\/vendor\/jquery-form\/jquery.form.min.js'",422],")",",",["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","'Altered library dependencies are added to the page.'",422],")",";",["T_WHITESPACE","\n  ",422],"}",["T_WHITESPACE","\n\n  ",423],["T_DOC_COMMENT","\/**\n   * Dynamically defines an asset library and alters it.\n   *\/",425],["T_WHITESPACE","\n  ",427],["T_FUNCTION","function",428],["T_WHITESPACE"," ",428],["T_STRING","testDynamicLibrary",428],"(",")",["T_WHITESPACE"," ",428],"{",["T_WHITESPACE","\n    ",428],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Asset\\LibraryDiscoveryInterface $library_discovery *\/",429],["T_WHITESPACE","\n    ",429],["T_VARIABLE","$library_discovery",430],["T_WHITESPACE"," ",430],"=",["T_WHITESPACE"," ",430],["T_NS_SEPARATOR","\\",430],["T_STRING","Drupal",430],["T_DOUBLE_COLON","::",430],["T_STRING","service",430],"(",["T_CONSTANT_ENCAPSED_STRING","'library.discovery'",430],")",";",["T_WHITESPACE","\n    ",430],["T_COMMENT","\/\/ Retrieve a dynamic library definition.\n",431],["T_WHITESPACE","    ",432],["T_COMMENT","\/\/ @see common_test_library_info_build()\n",432],["T_WHITESPACE","    ",433],["T_NS_SEPARATOR","\\",433],["T_STRING","Drupal",433],["T_DOUBLE_COLON","::",433],["T_STRING","state",433],"(",")",["T_OBJECT_OPERATOR","->",433],["T_STRING","set",433],"(",["T_CONSTANT_ENCAPSED_STRING","'common_test.library_info_build_test'",433],",",["T_WHITESPACE"," ",433],["T_STRING","TRUE",433],")",";",["T_WHITESPACE","\n    ",433],["T_VARIABLE","$library_discovery",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","clearCachedDefinitions",434],"(",")",";",["T_WHITESPACE","\n    ",434],["T_VARIABLE","$dynamic_library",435],["T_WHITESPACE"," ",435],"=",["T_WHITESPACE"," ",435],["T_VARIABLE","$library_discovery",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","getLibraryByName",435],"(",["T_CONSTANT_ENCAPSED_STRING","'common_test'",435],",",["T_WHITESPACE"," ",435],["T_CONSTANT_ENCAPSED_STRING","'dynamic_library'",435],")",";",["T_WHITESPACE","\n    ",435],["T_VARIABLE","$this",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","assertTrue",436],"(",["T_STRING","is_array",436],"(",["T_VARIABLE","$dynamic_library",436],")",")",";",["T_WHITESPACE","\n    ",436],["T_IF","if",437],["T_WHITESPACE"," ",437],"(",["T_VARIABLE","$this",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","assertTrue",437],"(",["T_ISSET","isset",437],"(",["T_VARIABLE","$dynamic_library",437],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",437],"]",")",")",")",["T_WHITESPACE"," ",437],"{",["T_WHITESPACE","\n      ",437],["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","assertIdentical",438],"(",["T_CONSTANT_ENCAPSED_STRING","'1.0'",438],",",["T_WHITESPACE"," ",438],["T_VARIABLE","$dynamic_library",438],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",438],"]",")",";",["T_WHITESPACE","\n    ",438],"}",["T_WHITESPACE","\n    ",439],["T_COMMENT","\/\/ Make sure the dynamic library definition could be altered.\n",440],["T_WHITESPACE","    ",441],["T_COMMENT","\/\/ @see common_test_library_info_alter()\n",441],["T_WHITESPACE","    ",442],["T_IF","if",442],["T_WHITESPACE"," ",442],"(",["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","assertTrue",442],"(",["T_ISSET","isset",442],"(",["T_VARIABLE","$dynamic_library",442],"[",["T_CONSTANT_ENCAPSED_STRING","'dependencies'",442],"]",")",")",")",["T_WHITESPACE"," ",442],"{",["T_WHITESPACE","\n      ",442],["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","assertIdentical",443],"(","[",["T_CONSTANT_ENCAPSED_STRING","'core\/jquery'",443],"]",",",["T_WHITESPACE"," ",443],["T_VARIABLE","$dynamic_library",443],"[",["T_CONSTANT_ENCAPSED_STRING","'dependencies'",443],"]",")",";",["T_WHITESPACE","\n    ",443],"}",["T_WHITESPACE","\n  ",444],"}",["T_WHITESPACE","\n\n  ",445],["T_DOC_COMMENT","\/**\n   * Tests that multiple modules can implement libraries with the same name.\n   *\n   * @see common_test.library.yml\n   *\/",447],["T_WHITESPACE","\n  ",451],["T_FUNCTION","function",452],["T_WHITESPACE"," ",452],["T_STRING","testLibraryNameConflicts",452],"(",")",["T_WHITESPACE"," ",452],"{",["T_WHITESPACE","\n    ",452],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Asset\\LibraryDiscoveryInterface $library_discovery *\/",453],["T_WHITESPACE","\n    ",453],["T_VARIABLE","$library_discovery",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_NS_SEPARATOR","\\",454],["T_STRING","Drupal",454],["T_DOUBLE_COLON","::",454],["T_STRING","service",454],"(",["T_CONSTANT_ENCAPSED_STRING","'library.discovery'",454],")",";",["T_WHITESPACE","\n    ",454],["T_VARIABLE","$farbtastic",455],["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_VARIABLE","$library_discovery",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","getLibraryByName",455],"(",["T_CONSTANT_ENCAPSED_STRING","'common_test'",455],",",["T_WHITESPACE"," ",455],["T_CONSTANT_ENCAPSED_STRING","'jquery.farbtastic'",455],")",";",["T_WHITESPACE","\n    ",455],["T_VARIABLE","$this",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","assertEqual",456],"(",["T_VARIABLE","$farbtastic",456],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",456],"]",",",["T_WHITESPACE"," ",456],["T_CONSTANT_ENCAPSED_STRING","'0.1'",456],",",["T_WHITESPACE"," ",456],["T_CONSTANT_ENCAPSED_STRING","'Alternative libraries can be added to the page.'",456],")",";",["T_WHITESPACE","\n  ",456],"}",["T_WHITESPACE","\n\n  ",457],["T_DOC_COMMENT","\/**\n   * Tests JavaScript files that have querystrings attached get added right.\n   *\/",459],["T_WHITESPACE","\n  ",461],["T_FUNCTION","function",462],["T_WHITESPACE"," ",462],["T_STRING","testAddJsFileWithQueryString",462],"(",")",["T_WHITESPACE"," ",462],"{",["T_WHITESPACE","\n    ",462],["T_VARIABLE","$build",463],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",463],"]","[",["T_CONSTANT_ENCAPSED_STRING","'library'",463],"]","[","]",["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],["T_CONSTANT_ENCAPSED_STRING","'common_test\/querystring'",463],";",["T_WHITESPACE","\n    ",463],["T_VARIABLE","$assets",464],["T_WHITESPACE"," ",464],"=",["T_WHITESPACE"," ",464],["T_STRING","AttachedAssets",464],["T_DOUBLE_COLON","::",464],["T_STRING","createFromRenderArray",464],"(",["T_VARIABLE","$build",464],")",";",["T_WHITESPACE","\n\n    ",464],["T_VARIABLE","$css",466],["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","assetResolver",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","getCssAssets",466],"(",["T_VARIABLE","$assets",466],",",["T_WHITESPACE"," ",466],["T_STRING","FALSE",466],")",";",["T_WHITESPACE","\n    ",466],["T_VARIABLE","$js",467],["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","assetResolver",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","getJsAssets",467],"(",["T_VARIABLE","$assets",467],",",["T_WHITESPACE"," ",467],["T_STRING","FALSE",467],")","[",["T_LNUMBER","1",467],"]",";",["T_WHITESPACE","\n    ",467],["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","assertTrue",468],"(",["T_STRING","array_key_exists",468],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/modules\/system\/tests\/modules\/common_test\/querystring.css?arg1=value1&arg2=value2'",468],",",["T_WHITESPACE"," ",468],["T_VARIABLE","$css",468],")",",",["T_WHITESPACE"," ",468],["T_CONSTANT_ENCAPSED_STRING","'CSS file with query string is correctly added.'",468],")",";",["T_WHITESPACE","\n    ",468],["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","assertTrue",469],"(",["T_STRING","array_key_exists",469],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/modules\/system\/tests\/modules\/common_test\/querystring.js?arg1=value1&arg2=value2'",469],",",["T_WHITESPACE"," ",469],["T_VARIABLE","$js",469],")",",",["T_WHITESPACE"," ",469],["T_CONSTANT_ENCAPSED_STRING","'JavaScript file with query string is correctly added.'",469],")",";",["T_WHITESPACE","\n\n    ",469],["T_VARIABLE","$css_render_array",471],["T_WHITESPACE"," ",471],"=",["T_WHITESPACE"," ",471],["T_NS_SEPARATOR","\\",471],["T_STRING","Drupal",471],["T_DOUBLE_COLON","::",471],["T_STRING","service",471],"(",["T_CONSTANT_ENCAPSED_STRING","'asset.css.collection_renderer'",471],")",["T_OBJECT_OPERATOR","->",471],["T_STRING","render",471],"(",["T_VARIABLE","$css",471],")",";",["T_WHITESPACE","\n    ",471],["T_VARIABLE","$rendered_css",472],["T_WHITESPACE"," ",472],"=",["T_WHITESPACE"," ",472],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","renderer",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","renderPlain",472],"(",["T_VARIABLE","$css_render_array",472],")",";",["T_WHITESPACE","\n    ",472],["T_VARIABLE","$js_render_array",473],["T_WHITESPACE"," ",473],"=",["T_WHITESPACE"," ",473],["T_NS_SEPARATOR","\\",473],["T_STRING","Drupal",473],["T_DOUBLE_COLON","::",473],["T_STRING","service",473],"(",["T_CONSTANT_ENCAPSED_STRING","'asset.js.collection_renderer'",473],")",["T_OBJECT_OPERATOR","->",473],["T_STRING","render",473],"(",["T_VARIABLE","$js",473],")",";",["T_WHITESPACE","\n    ",473],["T_VARIABLE","$rendered_js",474],["T_WHITESPACE"," ",474],"=",["T_WHITESPACE"," ",474],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","renderer",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","renderPlain",474],"(",["T_VARIABLE","$js_render_array",474],")",";",["T_WHITESPACE","\n    ",474],["T_VARIABLE","$query_string",475],["T_WHITESPACE"," ",475],"=",["T_WHITESPACE"," ",475],["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","container",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","get",475],"(",["T_CONSTANT_ENCAPSED_STRING","'state'",475],")",["T_OBJECT_OPERATOR","->",475],["T_STRING","get",475],"(",["T_CONSTANT_ENCAPSED_STRING","'system.css_js_query_string'",475],")",["T_WHITESPACE"," ",475],"?",":",["T_WHITESPACE"," ",475],["T_CONSTANT_ENCAPSED_STRING","'0'",475],";",["T_WHITESPACE","\n    ",475],["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","assertNotIdentical",476],"(",["T_STRING","strpos",476],"(",["T_VARIABLE","$rendered_css",476],",",["T_WHITESPACE"," ",476],["T_CONSTANT_ENCAPSED_STRING","'<link rel=\"stylesheet\" href=\"'",476],["T_WHITESPACE"," ",476],".",["T_WHITESPACE"," ",476],["T_STRING","str_replace",476],"(",["T_CONSTANT_ENCAPSED_STRING","'&'",476],",",["T_WHITESPACE"," ",476],["T_CONSTANT_ENCAPSED_STRING","'&amp;'",476],",",["T_WHITESPACE"," ",476],["T_STRING","file_url_transform_relative",476],"(",["T_STRING","file_create_url",476],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/modules\/system\/tests\/modules\/common_test\/querystring.css?arg1=value1&arg2=value2'",476],")",")",")",["T_WHITESPACE"," ",476],".",["T_WHITESPACE"," ",476],["T_CONSTANT_ENCAPSED_STRING","'&amp;'",476],["T_WHITESPACE"," ",476],".",["T_WHITESPACE"," ",476],["T_VARIABLE","$query_string",476],["T_WHITESPACE"," ",476],".",["T_WHITESPACE"," ",476],["T_CONSTANT_ENCAPSED_STRING","'\" media=\"all\" \/>'",476],")",",",["T_WHITESPACE"," ",476],["T_STRING","FALSE",476],",",["T_WHITESPACE"," ",476],["T_CONSTANT_ENCAPSED_STRING","'CSS file with query string gets version query string correctly appended..'",476],")",";",["T_WHITESPACE","\n    ",476],["T_VARIABLE","$this",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","assertNotIdentical",477],"(",["T_STRING","strpos",477],"(",["T_VARIABLE","$rendered_js",477],",",["T_WHITESPACE"," ",477],["T_CONSTANT_ENCAPSED_STRING","'<script src=\"'",477],["T_WHITESPACE"," ",477],".",["T_WHITESPACE"," ",477],["T_STRING","str_replace",477],"(",["T_CONSTANT_ENCAPSED_STRING","'&'",477],",",["T_WHITESPACE"," ",477],["T_CONSTANT_ENCAPSED_STRING","'&amp;'",477],",",["T_WHITESPACE"," ",477],["T_STRING","file_url_transform_relative",477],"(",["T_STRING","file_create_url",477],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/modules\/system\/tests\/modules\/common_test\/querystring.js?arg1=value1&arg2=value2'",477],")",")",")",["T_WHITESPACE"," ",477],".",["T_WHITESPACE"," ",477],["T_CONSTANT_ENCAPSED_STRING","'&amp;'",477],["T_WHITESPACE"," ",477],".",["T_WHITESPACE"," ",477],["T_VARIABLE","$query_string",477],["T_WHITESPACE"," ",477],".",["T_WHITESPACE"," ",477],["T_CONSTANT_ENCAPSED_STRING","'\"><\/script>'",477],")",",",["T_WHITESPACE"," ",477],["T_STRING","FALSE",477],",",["T_WHITESPACE"," ",477],["T_CONSTANT_ENCAPSED_STRING","'JavaScript file with query string gets version query string correctly appended.'",477],")",";",["T_WHITESPACE","\n  ",477],"}",["T_WHITESPACE","\n\n",478],"}",["T_WHITESPACE","\n",480]]