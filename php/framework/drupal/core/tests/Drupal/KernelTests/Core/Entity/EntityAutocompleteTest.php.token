[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Entity",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Serialization",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Json",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Utility",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Crypt",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Component",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Utility",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Html",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Component",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Utility",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Tags",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Site",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Settings",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","system",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Controller",10],["T_NS_SEPARATOR","\\",10],["T_STRING","EntityAutocompleteController",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Symfony",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Component",11],["T_NS_SEPARATOR","\\",11],["T_STRING","HttpFoundation",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Request",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","HttpKernel",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Exception",12],["T_NS_SEPARATOR","\\",12],["T_STRING","AccessDeniedHttpException",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Tests the autocomplete functionality.\n *\n * @group Entity\n *\/",14],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","EntityAutocompleteTest",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_STRING","EntityKernelTestBase",19],["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * The entity type used in this test.\n   *\n   * @var string\n   *\/",21],["T_WHITESPACE","\n  ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$entityType",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",26],";",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * The bundle used in this test.\n   *\n   * @var string\n   *\/",28],["T_WHITESPACE","\n  ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$bundle",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",33],";",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",35],["T_WHITESPACE","\n  ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","setUp",38],"(",")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n    ",38],["T_STRING","parent",39],["T_DOUBLE_COLON","::",39],["T_STRING","setUp",39],"(",")",";",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","installSchema",40],"(",["T_CONSTANT_ENCAPSED_STRING","'system'",40],",",["T_WHITESPACE"," ",40],"[",["T_CONSTANT_ENCAPSED_STRING","'key_value'",40],"]",")",";",["T_WHITESPACE","\n  ",40],"}",["T_WHITESPACE","\n\n  ",41],["T_DOC_COMMENT","\/**\n   * Tests autocompletion edge cases with slashes in the names.\n   *\/",43],["T_WHITESPACE","\n  ",45],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","testEntityReferenceAutocompletion",46],"(",")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n    ",46],["T_COMMENT","\/\/ Add an entity with a slash in its name.\n",47],["T_WHITESPACE","    ",48],["T_VARIABLE","$entity_1",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","container",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","get",48],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",48],")",["T_WHITESPACE","\n      ",48],["T_OBJECT_OPERATOR","->",49],["T_STRING","getStorage",49],"(",["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","entityType",49],")",["T_WHITESPACE","\n      ",49],["T_OBJECT_OPERATOR","->",50],["T_STRING","create",50],"(",["T_ARRAY","array",50],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'10\/16\/2011'",50],")",")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$entity_1",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","save",51],"(",")",";",["T_WHITESPACE","\n\n    ",51],["T_COMMENT","\/\/ Add another entity that differs after the slash character.\n",53],["T_WHITESPACE","    ",54],["T_VARIABLE","$entity_2",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","container",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","get",54],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",54],")",["T_WHITESPACE","\n      ",54],["T_OBJECT_OPERATOR","->",55],["T_STRING","getStorage",55],"(",["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","entityType",55],")",["T_WHITESPACE","\n      ",55],["T_OBJECT_OPERATOR","->",56],["T_STRING","create",56],"(",["T_ARRAY","array",56],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'10\/17\/2011'",56],")",")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$entity_2",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","save",57],"(",")",";",["T_WHITESPACE","\n\n    ",57],["T_COMMENT","\/\/ Add another entity that has both a comma, a slash and markup.\n",59],["T_WHITESPACE","    ",60],["T_VARIABLE","$entity_3",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","container",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","get",60],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",60],")",["T_WHITESPACE","\n      ",60],["T_OBJECT_OPERATOR","->",61],["T_STRING","getStorage",61],"(",["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","entityType",61],")",["T_WHITESPACE","\n      ",61],["T_OBJECT_OPERATOR","->",62],["T_STRING","create",62],"(",["T_ARRAY","array",62],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'label with, and \/ test'",62],")",")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$entity_3",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","save",63],"(",")",";",["T_WHITESPACE","\n\n    ",63],["T_COMMENT","\/\/ Try to autocomplete a entity label that matches both entities.\n",65],["T_WHITESPACE","    ",66],["T_COMMENT","\/\/ We should get both entities in a JSON encoded string.\n",66],["T_WHITESPACE","    ",67],["T_VARIABLE","$input",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'10\/'",67],";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$data",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getAutocompleteResult",68],"(",["T_VARIABLE","$input",68],")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertIdentical",69],"(",["T_VARIABLE","$data",69],"[",["T_LNUMBER","0",69],"]","[",["T_CONSTANT_ENCAPSED_STRING","'label'",69],"]",",",["T_WHITESPACE"," ",69],["T_STRING","Html",69],["T_DOUBLE_COLON","::",69],["T_STRING","escape",69],"(",["T_VARIABLE","$entity_1",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","name",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","value",69],")",",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'Autocomplete returned the first matching entity'",69],")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertIdentical",70],"(",["T_VARIABLE","$data",70],"[",["T_LNUMBER","1",70],"]","[",["T_CONSTANT_ENCAPSED_STRING","'label'",70],"]",",",["T_WHITESPACE"," ",70],["T_STRING","Html",70],["T_DOUBLE_COLON","::",70],["T_STRING","escape",70],"(",["T_VARIABLE","$entity_2",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","name",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","value",70],")",",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'Autocomplete returned the second matching entity'",70],")",";",["T_WHITESPACE","\n\n    ",70],["T_COMMENT","\/\/ Try to autocomplete a entity label that matches the first entity.\n",72],["T_WHITESPACE","    ",73],["T_COMMENT","\/\/ We should only get the first entity in a JSON encoded string.\n",73],["T_WHITESPACE","    ",74],["T_VARIABLE","$input",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'10\/16'",74],";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$data",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getAutocompleteResult",75],"(",["T_VARIABLE","$input",75],")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$target",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_ARRAY","array",76],"(",["T_WHITESPACE","\n      ",76],["T_CONSTANT_ENCAPSED_STRING","'value'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$entity_1",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","name",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","value",77],["T_WHITESPACE"," ",77],".",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","' (1)'",77],",",["T_WHITESPACE","\n      ",77],["T_CONSTANT_ENCAPSED_STRING","'label'",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_STRING","Html",78],["T_DOUBLE_COLON","::",78],["T_STRING","escape",78],"(",["T_VARIABLE","$entity_1",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","name",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","value",78],")",",",["T_WHITESPACE","\n    ",78],")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertIdentical",80],"(",["T_STRING","reset",80],"(",["T_VARIABLE","$data",80],")",",",["T_WHITESPACE"," ",80],["T_VARIABLE","$target",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'Autocomplete returns only the expected matching entity.'",80],")",";",["T_WHITESPACE","\n\n    ",80],["T_COMMENT","\/\/ Try to autocomplete a entity label that matches the second entity, and\n",82],["T_WHITESPACE","    ",83],["T_COMMENT","\/\/ the first entity  is already typed in the autocomplete (tags) widget.\n",83],["T_WHITESPACE","    ",84],["T_VARIABLE","$input",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$entity_1",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","name",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","value",84],["T_WHITESPACE"," ",84],".",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","' (1), 10\/17'",84],";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$data",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getAutocompleteResult",85],"(",["T_VARIABLE","$input",85],")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertIdentical",86],"(",["T_VARIABLE","$data",86],"[",["T_LNUMBER","0",86],"]","[",["T_CONSTANT_ENCAPSED_STRING","'label'",86],"]",",",["T_WHITESPACE"," ",86],["T_STRING","Html",86],["T_DOUBLE_COLON","::",86],["T_STRING","escape",86],"(",["T_VARIABLE","$entity_2",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","name",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","value",86],")",",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'Autocomplete returned the second matching entity'",86],")",";",["T_WHITESPACE","\n\n    ",86],["T_COMMENT","\/\/ Try to autocomplete a entity label with both a comma, a slash and markup.\n",88],["T_WHITESPACE","    ",89],["T_VARIABLE","$input",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'\"label with, and \/\"'",89],";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$data",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getAutocompleteResult",90],"(",["T_VARIABLE","$input",90],")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$n",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$entity_3",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","name",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","value",91],["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","' (3)'",91],";",["T_WHITESPACE","\n    ",91],["T_COMMENT","\/\/ Entity labels containing commas or quotes must be wrapped in quotes.\n",92],["T_WHITESPACE","    ",93],["T_VARIABLE","$n",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","Tags",93],["T_DOUBLE_COLON","::",93],["T_STRING","encode",93],"(",["T_VARIABLE","$n",93],")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$target",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_ARRAY","array",94],"(",["T_WHITESPACE","\n      ",94],["T_CONSTANT_ENCAPSED_STRING","'value'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$n",95],",",["T_WHITESPACE","\n      ",95],["T_CONSTANT_ENCAPSED_STRING","'label'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_STRING","Html",96],["T_DOUBLE_COLON","::",96],["T_STRING","escape",96],"(",["T_VARIABLE","$entity_3",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","name",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","value",96],")",",",["T_WHITESPACE","\n    ",96],")",";",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","assertIdentical",98],"(",["T_STRING","reset",98],"(",["T_VARIABLE","$data",98],")",",",["T_WHITESPACE"," ",98],["T_VARIABLE","$target",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'Autocomplete returns an entity label containing a comma and a slash.'",98],")",";",["T_WHITESPACE","\n  ",98],"}",["T_WHITESPACE","\n\n  ",99],["T_DOC_COMMENT","\/**\n   * Tests that missing or invalid selection setting key are handled correctly.\n   *\/",101],["T_WHITESPACE","\n  ",103],["T_PUBLIC","public",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","testSelectionSettingsHandling",104],"(",")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$entity_reference_controller",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","EntityAutocompleteController",105],["T_DOUBLE_COLON","::",105],["T_STRING","create",105],"(",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","container",105],")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$request",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","Request",106],["T_DOUBLE_COLON","::",106],["T_STRING","create",106],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_reference_autocomplete\/'",106],["T_WHITESPACE"," ",106],".",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","entityType",106],["T_WHITESPACE"," ",106],".",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'\/default'",106],")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$request",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","query",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","set",107],"(",["T_CONSTANT_ENCAPSED_STRING","'q'",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","randomString",107],"(",")",")",";",["T_WHITESPACE","\n\n    ",107],["T_TRY","try",109],["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n      ",109],["T_COMMENT","\/\/ Pass an invalid selection settings key (i.e. one that does not exist\n",110],["T_WHITESPACE","      ",111],["T_COMMENT","\/\/ in the key\/value store).\n",111],["T_WHITESPACE","      ",112],["T_VARIABLE","$selection_settings_key",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","randomString",112],"(",")",";",["T_WHITESPACE","\n      ",112],["T_VARIABLE","$entity_reference_controller",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","handleAutocomplete",113],"(",["T_VARIABLE","$request",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","entityType",113],",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'default'",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$selection_settings_key",113],")",";",["T_WHITESPACE","\n\n      ",113],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","fail",115],"(",["T_CONSTANT_ENCAPSED_STRING","'Non-existent selection settings key throws an exception.'",115],")",";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n    ",116],["T_CATCH","catch",117],["T_WHITESPACE"," ",117],"(",["T_STRING","AccessDeniedHttpException",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$e",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n      ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","pass",118],"(",["T_CONSTANT_ENCAPSED_STRING","'Non-existent selection settings key throws an exception.'",118],")",";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n\n    ",119],["T_TRY","try",121],["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n      ",121],["T_COMMENT","\/\/ Generate a valid hash key but store a modified settings array.\n",122],["T_WHITESPACE","      ",123],["T_VARIABLE","$selection_settings",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],"[","]",";",["T_WHITESPACE","\n      ",123],["T_VARIABLE","$selection_settings_key",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","Crypt",124],["T_DOUBLE_COLON","::",124],["T_STRING","hmacBase64",124],"(",["T_STRING","serialize",124],"(",["T_VARIABLE","$selection_settings",124],")",["T_WHITESPACE"," ",124],".",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","entityType",124],["T_WHITESPACE"," ",124],".",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'default'",124],",",["T_WHITESPACE"," ",124],["T_STRING","Settings",124],["T_DOUBLE_COLON","::",124],["T_STRING","getHashSalt",124],"(",")",")",";",["T_WHITESPACE","\n\n      ",124],["T_VARIABLE","$selection_settings",126],"[",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","randomMachineName",126],"(",")","]",["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","randomString",126],"(",")",";",["T_WHITESPACE","\n      ",126],["T_NS_SEPARATOR","\\",127],["T_STRING","Drupal",127],["T_DOUBLE_COLON","::",127],["T_STRING","keyValue",127],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_autocomplete'",127],")",["T_OBJECT_OPERATOR","->",127],["T_STRING","set",127],"(",["T_VARIABLE","$selection_settings_key",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$selection_settings",127],")",";",["T_WHITESPACE","\n\n      ",127],["T_VARIABLE","$entity_reference_controller",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","handleAutocomplete",129],"(",["T_VARIABLE","$request",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","entityType",129],",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'default'",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$selection_settings_key",129],")",";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n    ",130],["T_CATCH","catch",131],["T_WHITESPACE"," ",131],"(",["T_STRING","AccessDeniedHttpException",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$e",131],")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n      ",131],["T_IF","if",132],["T_WHITESPACE"," ",132],"(",["T_VARIABLE","$e",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getMessage",132],"(",")",["T_WHITESPACE"," ",132],["T_IS_EQUAL","==",132],["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'Invalid selection settings key.'",132],")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","pass",133],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid selection settings key throws an exception.'",133],")",";",["T_WHITESPACE","\n      ",133],"}",["T_WHITESPACE","\n      ",134],["T_ELSE","else",135],["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","fail",136],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid selection settings key throws an exception.'",136],")",";",["T_WHITESPACE","\n      ",136],"}",["T_WHITESPACE","\n    ",137],"}",["T_WHITESPACE","\n\n  ",138],"}",["T_WHITESPACE","\n\n  ",140],["T_DOC_COMMENT","\/**\n   * Returns the result of an Entity reference autocomplete request.\n   *\n   * @param string $input\n   *   The label of the entity to query by.\n   *\n   * @return mixed\n   *   The JSON value encoded in its appropriate PHP type.\n   *\/",142],["T_WHITESPACE","\n  ",150],["T_PROTECTED","protected",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","getAutocompleteResult",151],"(",["T_VARIABLE","$input",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n    ",151],["T_VARIABLE","$request",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_STRING","Request",152],["T_DOUBLE_COLON","::",152],["T_STRING","create",152],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_reference_autocomplete\/'",152],["T_WHITESPACE"," ",152],".",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","entityType",152],["T_WHITESPACE"," ",152],".",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'\/default'",152],")",";",["T_WHITESPACE","\n    ",152],["T_VARIABLE","$request",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","query",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","set",153],"(",["T_CONSTANT_ENCAPSED_STRING","'q'",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$input",153],")",";",["T_WHITESPACE","\n\n    ",153],["T_VARIABLE","$selection_settings",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],"[","]",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$selection_settings_key",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_STRING","Crypt",156],["T_DOUBLE_COLON","::",156],["T_STRING","hmacBase64",156],"(",["T_STRING","serialize",156],"(",["T_VARIABLE","$selection_settings",156],")",["T_WHITESPACE"," ",156],".",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","entityType",156],["T_WHITESPACE"," ",156],".",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'default'",156],",",["T_WHITESPACE"," ",156],["T_STRING","Settings",156],["T_DOUBLE_COLON","::",156],["T_STRING","getHashSalt",156],"(",")",")",";",["T_WHITESPACE","\n    ",156],["T_NS_SEPARATOR","\\",157],["T_STRING","Drupal",157],["T_DOUBLE_COLON","::",157],["T_STRING","keyValue",157],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_autocomplete'",157],")",["T_OBJECT_OPERATOR","->",157],["T_STRING","set",157],"(",["T_VARIABLE","$selection_settings_key",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$selection_settings",157],")",";",["T_WHITESPACE","\n\n    ",157],["T_VARIABLE","$entity_reference_controller",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_STRING","EntityAutocompleteController",159],["T_DOUBLE_COLON","::",159],["T_STRING","create",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","container",159],")",";",["T_WHITESPACE","\n    ",159],["T_VARIABLE","$result",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$entity_reference_controller",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","handleAutocomplete",160],"(",["T_VARIABLE","$request",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","entityType",160],",",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'default'",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$selection_settings_key",160],")",["T_OBJECT_OPERATOR","->",160],["T_STRING","getContent",160],"(",")",";",["T_WHITESPACE","\n\n    ",160],["T_RETURN","return",162],["T_WHITESPACE"," ",162],["T_STRING","Json",162],["T_DOUBLE_COLON","::",162],["T_STRING","decode",162],"(",["T_VARIABLE","$result",162],")",";",["T_WHITESPACE","\n  ",162],"}",["T_WHITESPACE","\n\n",163],"}",["T_WHITESPACE","\n",165]]