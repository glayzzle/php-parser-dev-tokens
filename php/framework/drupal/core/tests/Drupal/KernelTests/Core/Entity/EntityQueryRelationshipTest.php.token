[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Entity",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Plugin",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Exception",5],["T_NS_SEPARATOR","\\",5],["T_STRING","PluginNotFoundException",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Utility",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unicode",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","entity_test",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","EntityTest",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","field",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Tests",8],["T_NS_SEPARATOR","\\",8],["T_STRING","EntityReference",8],["T_NS_SEPARATOR","\\",8],["T_STRING","EntityReferenceTestTrait",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","taxonomy",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Vocabulary",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","taxonomy",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Entity",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Term",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Tests the Entity Query relationship API.\n *\n * @group Entity\n *\/",12],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","EntityQueryRelationshipTest",17],["T_WHITESPACE"," ",17],["T_EXTENDS","extends",17],["T_WHITESPACE"," ",17],["T_STRING","EntityKernelTestBase",17],["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n\n  ",17],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","EntityReferenceTestTrait",19],";",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",21],["T_WHITESPACE","\n  ",25],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_STATIC","static",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$modules",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_ARRAY","array",26],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy'",26],")",";",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * @var \\Drupal\\Core\\Entity\\Query\\QueryFactory\n   *\/",28],["T_WHITESPACE","\n  ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_VARIABLE","$factory",31],";",["T_WHITESPACE","\n\n  ",31],["T_DOC_COMMENT","\/**\n   * Term entities.\n   *\n   * @var array\n   *\/",33],["T_WHITESPACE","\n  ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$terms",38],";",["T_WHITESPACE","\n\n  ",38],["T_DOC_COMMENT","\/**\n   * User entities.\n   *\n   * @var array\n   *\/",40],["T_WHITESPACE","\n  ",44],["T_PUBLIC","public",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$accounts",45],";",["T_WHITESPACE","\n\n  ",45],["T_DOC_COMMENT","\/**\n   * entity_test entities.\n   *\n   * @var array\n   *\/",47],["T_WHITESPACE","\n  ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$entities",52],";",["T_WHITESPACE","\n\n  ",52],["T_DOC_COMMENT","\/**\n   * The name of the taxonomy field used for test.\n   *\n   * @var string\n   *\/",54],["T_WHITESPACE","\n  ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$fieldName",59],";",["T_WHITESPACE","\n\n  ",59],["T_DOC_COMMENT","\/**\n   * The results returned by EntityQuery.\n   *\n   * @var array\n   *\/",61],["T_WHITESPACE","\n  ",65],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$queryResults",66],";",["T_WHITESPACE","\n\n  ",66],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","setUp",68],"(",")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n    ",68],["T_STRING","parent",69],["T_DOUBLE_COLON","::",69],["T_STRING","setUp",69],"(",")",";",["T_WHITESPACE","\n\n    ",69],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","installEntitySchema",71],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term'",71],")",";",["T_WHITESPACE","\n\n    ",71],["T_COMMENT","\/\/ We want an entity reference field. It needs a vocabulary, terms, a field\n",73],["T_WHITESPACE","    ",74],["T_COMMENT","\/\/ storage and a field. First, create the vocabulary.\n",74],["T_WHITESPACE","    ",75],["T_VARIABLE","$vocabulary",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","Vocabulary",75],["T_DOUBLE_COLON","::",75],["T_STRING","create",75],"(","[",["T_WHITESPACE","\n      ",75],["T_CONSTANT_ENCAPSED_STRING","'vid'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_STRING","Unicode",76],["T_DOUBLE_COLON","::",76],["T_STRING","strtolower",76],"(",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","randomMachineName",76],"(",")",")",",",["T_WHITESPACE","\n    ",76],"]",")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$vocabulary",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","save",78],"(",")",";",["T_WHITESPACE","\n\n    ",78],["T_COMMENT","\/\/ Second, create the field.\n",80],["T_WHITESPACE","    ",81],["T_STRING","entity_test_create_bundle",81],"(",["T_CONSTANT_ENCAPSED_STRING","'test_bundle'",81],")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","fieldName",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","strtolower",82],"(",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","randomMachineName",82],"(",")",")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$handler_settings",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_ARRAY","array",83],"(",["T_WHITESPACE","\n      ",83],["T_CONSTANT_ENCAPSED_STRING","'target_bundles'",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_ARRAY","array",84],"(",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$vocabulary",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","id",85],"(",")",["T_WHITESPACE"," ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$vocabulary",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","id",85],"(",")",",",["T_WHITESPACE","\n       ",85],")",",",["T_WHITESPACE","\n      ",86],["T_CONSTANT_ENCAPSED_STRING","'auto_create'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_STRING","TRUE",87],",",["T_WHITESPACE","\n    ",87],")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","createEntityReferenceField",89],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",89],",",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'test_bundle'",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","fieldName",89],",",["T_WHITESPACE"," ",89],["T_STRING","NULL",89],",",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term'",89],",",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'default'",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$handler_settings",89],")",";",["T_WHITESPACE","\n\n    ",89],["T_COMMENT","\/\/ Create two terms and also two accounts.\n",91],["T_WHITESPACE","    ",92],["T_FOR","for",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$i",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_LNUMBER","0",92],";",["T_WHITESPACE"," ",92],["T_VARIABLE","$i",92],["T_WHITESPACE"," ",92],["T_IS_SMALLER_OR_EQUAL","<=",92],["T_WHITESPACE"," ",92],["T_LNUMBER","1",92],";",["T_WHITESPACE"," ",92],["T_VARIABLE","$i",92],["T_INC","++",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n      ",92],["T_VARIABLE","$term",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","Term",93],["T_DOUBLE_COLON","::",93],["T_STRING","create",93],"(","[",["T_WHITESPACE","\n        ",93],["T_CONSTANT_ENCAPSED_STRING","'name'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","randomMachineName",94],"(",")",",",["T_WHITESPACE","\n        ",94],["T_CONSTANT_ENCAPSED_STRING","'vid'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$vocabulary",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","id",95],"(",")",",",["T_WHITESPACE","\n      ",95],"]",")",";",["T_WHITESPACE","\n      ",96],["T_VARIABLE","$term",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","save",97],"(",")",";",["T_WHITESPACE","\n      ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","terms",98],"[","]",["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$term",98],";",["T_WHITESPACE","\n      ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","accounts",99],"[","]",["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","createUser",99],"(",")",";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n    ",100],["T_COMMENT","\/\/ Create three entity_test entities, the 0th entity will point to the\n",101],["T_WHITESPACE","    ",102],["T_COMMENT","\/\/ 0th account and 0th term, the 1st and 2nd entity will point to the\n",102],["T_WHITESPACE","    ",103],["T_COMMENT","\/\/ 1st account and 1st term.\n",103],["T_WHITESPACE","    ",104],["T_FOR","for",104],["T_WHITESPACE"," ",104],"(",["T_VARIABLE","$i",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_LNUMBER","0",104],";",["T_WHITESPACE"," ",104],["T_VARIABLE","$i",104],["T_WHITESPACE"," ",104],["T_IS_SMALLER_OR_EQUAL","<=",104],["T_WHITESPACE"," ",104],["T_LNUMBER","2",104],";",["T_WHITESPACE"," ",104],["T_VARIABLE","$i",104],["T_INC","++",104],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n      ",104],["T_VARIABLE","$entity",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","EntityTest",105],["T_DOUBLE_COLON","::",105],["T_STRING","create",105],"(",["T_ARRAY","array",105],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'test_bundle'",105],")",")",";",["T_WHITESPACE","\n      ",105],["T_VARIABLE","$entity",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","name",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","value",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","randomMachineName",106],"(",")",";",["T_WHITESPACE","\n      ",106],["T_VARIABLE","$index",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$i",107],["T_WHITESPACE"," ",107],"?",["T_WHITESPACE"," ",107],["T_LNUMBER","1",107],["T_WHITESPACE"," ",107],":",["T_WHITESPACE"," ",107],["T_LNUMBER","0",107],";",["T_WHITESPACE","\n      ",107],["T_VARIABLE","$entity",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","user_id",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","target_id",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","accounts",108],"[",["T_VARIABLE","$index",108],"]",["T_OBJECT_OPERATOR","->",108],["T_STRING","id",108],"(",")",";",["T_WHITESPACE","\n      ",108],["T_VARIABLE","$entity",109],["T_OBJECT_OPERATOR","->",109],"{",["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","fieldName",109],"}",["T_OBJECT_OPERATOR","->",109],["T_STRING","target_id",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","terms",109],"[",["T_VARIABLE","$index",109],"]",["T_OBJECT_OPERATOR","->",109],["T_STRING","id",109],"(",")",";",["T_WHITESPACE","\n      ",109],["T_VARIABLE","$entity",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","save",110],"(",")",";",["T_WHITESPACE","\n      ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","entities",111],"[","]",["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$entity",111],";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","factory",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_NS_SEPARATOR","\\",113],["T_STRING","Drupal",113],["T_DOUBLE_COLON","::",113],["T_STRING","service",113],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.query'",113],")",";",["T_WHITESPACE","\n  ",113],"}",["T_WHITESPACE","\n\n  ",114],["T_DOC_COMMENT","\/**\n   * Tests querying.\n   *\/",116],["T_WHITESPACE","\n  ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","testQuery",119],"(",")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n    ",119],["T_COMMENT","\/\/ This returns the 0th entity as that's the only one pointing to the 0th\n",120],["T_WHITESPACE","    ",121],["T_COMMENT","\/\/ account.\n",121],["T_WHITESPACE","    ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","queryResults",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","factory",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","get",122],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",122],")",["T_WHITESPACE","\n      ",122],["T_OBJECT_OPERATOR","->",123],["T_STRING","condition",123],"(",["T_CONSTANT_ENCAPSED_STRING","\"user_id.entity.name\"",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","accounts",123],"[",["T_LNUMBER","0",123],"]",["T_OBJECT_OPERATOR","->",123],["T_STRING","getUsername",123],"(",")",")",["T_WHITESPACE","\n      ",123],["T_OBJECT_OPERATOR","->",124],["T_STRING","execute",124],"(",")",";",["T_WHITESPACE","\n    ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertResults",125],"(",["T_ARRAY","array",125],"(",["T_LNUMBER","0",125],")",")",";",["T_WHITESPACE","\n    ",125],["T_COMMENT","\/\/ This returns the 1st and 2nd entity as those point to the 1st account.\n",126],["T_WHITESPACE","    ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","queryResults",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","factory",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","get",127],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",127],")",["T_WHITESPACE","\n      ",127],["T_OBJECT_OPERATOR","->",128],["T_STRING","condition",128],"(",["T_CONSTANT_ENCAPSED_STRING","\"user_id.entity.name\"",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","accounts",128],"[",["T_LNUMBER","0",128],"]",["T_OBJECT_OPERATOR","->",128],["T_STRING","getUsername",128],"(",")",",",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'<>'",128],")",["T_WHITESPACE","\n      ",128],["T_OBJECT_OPERATOR","->",129],["T_STRING","execute",129],"(",")",";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","assertResults",130],"(",["T_ARRAY","array",130],"(",["T_LNUMBER","1",130],",",["T_WHITESPACE"," ",130],["T_LNUMBER","2",130],")",")",";",["T_WHITESPACE","\n    ",130],["T_COMMENT","\/\/ This returns all three entities because all of them point to an\n",131],["T_WHITESPACE","    ",132],["T_COMMENT","\/\/ account.\n",132],["T_WHITESPACE","    ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","queryResults",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","factory",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","get",133],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",133],")",["T_WHITESPACE","\n      ",133],["T_OBJECT_OPERATOR","->",134],["T_STRING","exists",134],"(",["T_CONSTANT_ENCAPSED_STRING","\"user_id.entity.name\"",134],")",["T_WHITESPACE","\n      ",134],["T_OBJECT_OPERATOR","->",135],["T_STRING","execute",135],"(",")",";",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","assertResults",136],"(",["T_ARRAY","array",136],"(",["T_LNUMBER","0",136],",",["T_WHITESPACE"," ",136],["T_LNUMBER","1",136],",",["T_WHITESPACE"," ",136],["T_LNUMBER","2",136],")",")",";",["T_WHITESPACE","\n    ",136],["T_COMMENT","\/\/ This returns no entities because all of them point to an account.\n",137],["T_WHITESPACE","    ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","queryResults",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","factory",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","get",138],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",138],")",["T_WHITESPACE","\n      ",138],["T_OBJECT_OPERATOR","->",139],["T_STRING","notExists",139],"(",["T_CONSTANT_ENCAPSED_STRING","\"user_id.entity.name\"",139],")",["T_WHITESPACE","\n      ",139],["T_OBJECT_OPERATOR","->",140],["T_STRING","execute",140],"(",")",";",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","assertEqual",141],"(",["T_STRING","count",141],"(",["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","queryResults",141],")",",",["T_WHITESPACE"," ",141],["T_LNUMBER","0",141],")",";",["T_WHITESPACE","\n    ",141],["T_COMMENT","\/\/ This returns the 0th entity as that's only one pointing to the 0th\n",142],["T_WHITESPACE","    ",143],["T_COMMENT","\/\/ term (test without specifying the field column).\n",143],["T_WHITESPACE","    ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","queryResults",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","factory",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","get",144],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",144],")",["T_WHITESPACE","\n      ",144],["T_OBJECT_OPERATOR","->",145],["T_STRING","condition",145],"(","\"",["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","fieldName",145],["T_ENCAPSED_AND_WHITESPACE",".entity.name",145],"\"",",",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","terms",145],"[",["T_LNUMBER","0",145],"]",["T_OBJECT_OPERATOR","->",145],["T_STRING","name",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","value",145],")",["T_WHITESPACE","\n      ",145],["T_OBJECT_OPERATOR","->",146],["T_STRING","execute",146],"(",")",";",["T_WHITESPACE","\n    ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","assertResults",147],"(",["T_ARRAY","array",147],"(",["T_LNUMBER","0",147],")",")",";",["T_WHITESPACE","\n    ",147],["T_COMMENT","\/\/ This returns the 0th entity as that's only one pointing to the 0th\n",148],["T_WHITESPACE","    ",149],["T_COMMENT","\/\/ term (test with specifying the column name).\n",149],["T_WHITESPACE","    ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","queryResults",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","factory",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","get",150],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",150],")",["T_WHITESPACE","\n      ",150],["T_OBJECT_OPERATOR","->",151],["T_STRING","condition",151],"(","\"",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","fieldName",151],["T_ENCAPSED_AND_WHITESPACE",".target_id.entity.name",151],"\"",",",["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","terms",151],"[",["T_LNUMBER","0",151],"]",["T_OBJECT_OPERATOR","->",151],["T_STRING","name",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","value",151],")",["T_WHITESPACE","\n      ",151],["T_OBJECT_OPERATOR","->",152],["T_STRING","execute",152],"(",")",";",["T_WHITESPACE","\n    ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","assertResults",153],"(",["T_ARRAY","array",153],"(",["T_LNUMBER","0",153],")",")",";",["T_WHITESPACE","\n    ",153],["T_COMMENT","\/\/ This returns the 1st and 2nd entity as those point to the 1st term.\n",154],["T_WHITESPACE","    ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","queryResults",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","factory",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","get",155],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",155],")",["T_WHITESPACE","\n      ",155],["T_OBJECT_OPERATOR","->",156],["T_STRING","condition",156],"(","\"",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","fieldName",156],["T_ENCAPSED_AND_WHITESPACE",".entity.name",156],"\"",",",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","terms",156],"[",["T_LNUMBER","0",156],"]",["T_OBJECT_OPERATOR","->",156],["T_STRING","name",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","value",156],",",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'<>'",156],")",["T_WHITESPACE","\n      ",156],["T_OBJECT_OPERATOR","->",157],["T_STRING","execute",157],"(",")",";",["T_WHITESPACE","\n    ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","assertResults",158],"(",["T_ARRAY","array",158],"(",["T_LNUMBER","1",158],",",["T_WHITESPACE"," ",158],["T_LNUMBER","2",158],")",")",";",["T_WHITESPACE","\n    ",158],["T_COMMENT","\/\/ This returns the 0th entity as that's only one pointing to the 0th\n",159],["T_WHITESPACE","    ",160],["T_COMMENT","\/\/ account.\n",160],["T_WHITESPACE","    ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","queryResults",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","factory",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","get",161],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",161],")",["T_WHITESPACE","\n      ",161],["T_OBJECT_OPERATOR","->",162],["T_STRING","condition",162],"(",["T_CONSTANT_ENCAPSED_STRING","\"user_id.entity:user.name\"",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","accounts",162],"[",["T_LNUMBER","0",162],"]",["T_OBJECT_OPERATOR","->",162],["T_STRING","getUsername",162],"(",")",")",["T_WHITESPACE","\n      ",162],["T_OBJECT_OPERATOR","->",163],["T_STRING","execute",163],"(",")",";",["T_WHITESPACE","\n    ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","assertResults",164],"(",["T_ARRAY","array",164],"(",["T_LNUMBER","0",164],")",")",";",["T_WHITESPACE","\n    ",164],["T_COMMENT","\/\/ This returns the 1st and 2nd entity as those point to the 1st account.\n",165],["T_WHITESPACE","    ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","queryResults",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","factory",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","get",166],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",166],")",["T_WHITESPACE","\n      ",166],["T_OBJECT_OPERATOR","->",167],["T_STRING","condition",167],"(",["T_CONSTANT_ENCAPSED_STRING","\"user_id.entity:user.name\"",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","accounts",167],"[",["T_LNUMBER","0",167],"]",["T_OBJECT_OPERATOR","->",167],["T_STRING","getUsername",167],"(",")",",",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'<>'",167],")",["T_WHITESPACE","\n      ",167],["T_OBJECT_OPERATOR","->",168],["T_STRING","execute",168],"(",")",";",["T_WHITESPACE","\n    ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","assertResults",169],"(",["T_ARRAY","array",169],"(",["T_LNUMBER","1",169],",",["T_WHITESPACE"," ",169],["T_LNUMBER","2",169],")",")",";",["T_WHITESPACE","\n    ",169],["T_COMMENT","\/\/ This returns all three entities because all of them point to an\n",170],["T_WHITESPACE","    ",171],["T_COMMENT","\/\/ account.\n",171],["T_WHITESPACE","    ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","queryResults",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","factory",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","get",172],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",172],")",["T_WHITESPACE","\n      ",172],["T_OBJECT_OPERATOR","->",173],["T_STRING","exists",173],"(",["T_CONSTANT_ENCAPSED_STRING","\"user_id.entity:user.name\"",173],")",["T_WHITESPACE","\n      ",173],["T_OBJECT_OPERATOR","->",174],["T_STRING","execute",174],"(",")",";",["T_WHITESPACE","\n    ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","assertResults",175],"(",["T_ARRAY","array",175],"(",["T_LNUMBER","0",175],",",["T_WHITESPACE"," ",175],["T_LNUMBER","1",175],",",["T_WHITESPACE"," ",175],["T_LNUMBER","2",175],")",")",";",["T_WHITESPACE","\n    ",175],["T_COMMENT","\/\/ This returns no entities because all of them point to an account.\n",176],["T_WHITESPACE","    ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","queryResults",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","factory",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","get",177],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",177],")",["T_WHITESPACE","\n      ",177],["T_OBJECT_OPERATOR","->",178],["T_STRING","notExists",178],"(",["T_CONSTANT_ENCAPSED_STRING","\"user_id.entity:user.name\"",178],")",["T_WHITESPACE","\n      ",178],["T_OBJECT_OPERATOR","->",179],["T_STRING","execute",179],"(",")",";",["T_WHITESPACE","\n    ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","assertEqual",180],"(",["T_STRING","count",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","queryResults",180],")",",",["T_WHITESPACE"," ",180],["T_LNUMBER","0",180],")",";",["T_WHITESPACE","\n    ",180],["T_COMMENT","\/\/ This returns the 0th entity as that's only one pointing to the 0th\n",181],["T_WHITESPACE","    ",182],["T_COMMENT","\/\/ term (test without specifying the field column).\n",182],["T_WHITESPACE","    ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","queryResults",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","factory",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","get",183],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",183],")",["T_WHITESPACE","\n      ",183],["T_OBJECT_OPERATOR","->",184],["T_STRING","condition",184],"(","\"",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","fieldName",184],["T_ENCAPSED_AND_WHITESPACE",".entity:taxonomy_term.name",184],"\"",",",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","terms",184],"[",["T_LNUMBER","0",184],"]",["T_OBJECT_OPERATOR","->",184],["T_STRING","name",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","value",184],")",["T_WHITESPACE","\n      ",184],["T_OBJECT_OPERATOR","->",185],["T_STRING","execute",185],"(",")",";",["T_WHITESPACE","\n    ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","assertResults",186],"(",["T_ARRAY","array",186],"(",["T_LNUMBER","0",186],")",")",";",["T_WHITESPACE","\n    ",186],["T_COMMENT","\/\/ This returns the 0th entity as that's only one pointing to the 0th\n",187],["T_WHITESPACE","    ",188],["T_COMMENT","\/\/ term (test with specifying the column name).\n",188],["T_WHITESPACE","    ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","queryResults",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","factory",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","get",189],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",189],")",["T_WHITESPACE","\n      ",189],["T_OBJECT_OPERATOR","->",190],["T_STRING","condition",190],"(","\"",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","fieldName",190],["T_ENCAPSED_AND_WHITESPACE",".target_id.entity:taxonomy_term.name",190],"\"",",",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","terms",190],"[",["T_LNUMBER","0",190],"]",["T_OBJECT_OPERATOR","->",190],["T_STRING","name",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","value",190],")",["T_WHITESPACE","\n      ",190],["T_OBJECT_OPERATOR","->",191],["T_STRING","execute",191],"(",")",";",["T_WHITESPACE","\n    ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","assertResults",192],"(",["T_ARRAY","array",192],"(",["T_LNUMBER","0",192],")",")",";",["T_WHITESPACE","\n    ",192],["T_COMMENT","\/\/ This returns the 1st and 2nd entity as those point to the 1st term.\n",193],["T_WHITESPACE","    ",194],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","queryResults",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","factory",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","get",194],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",194],")",["T_WHITESPACE","\n      ",194],["T_OBJECT_OPERATOR","->",195],["T_STRING","condition",195],"(","\"",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","fieldName",195],["T_ENCAPSED_AND_WHITESPACE",".entity:taxonomy_term.name",195],"\"",",",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","terms",195],"[",["T_LNUMBER","0",195],"]",["T_OBJECT_OPERATOR","->",195],["T_STRING","name",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","value",195],",",["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","'<>'",195],")",["T_WHITESPACE","\n      ",195],["T_OBJECT_OPERATOR","->",196],["T_STRING","execute",196],"(",")",";",["T_WHITESPACE","\n    ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","assertResults",197],"(",["T_ARRAY","array",197],"(",["T_LNUMBER","1",197],",",["T_WHITESPACE"," ",197],["T_LNUMBER","2",197],")",")",";",["T_WHITESPACE","\n  ",197],"}",["T_WHITESPACE","\n\n  ",198],["T_DOC_COMMENT","\/**\n   * Tests the invalid specifier in the query relationship.\n   *\/",200],["T_WHITESPACE","\n  ",202],["T_PUBLIC","public",203],["T_WHITESPACE"," ",203],["T_FUNCTION","function",203],["T_WHITESPACE"," ",203],["T_STRING","testInvalidSpecifier",203],"(",")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n    ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","setExpectedException",204],"(",["T_STRING","PluginNotFoundException",204],["T_DOUBLE_COLON","::",204],["T_CLASS","class",204],")",";",["T_WHITESPACE","\n    ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","factory",205],["T_WHITESPACE","\n      ",205],["T_OBJECT_OPERATOR","->",206],["T_STRING","get",206],"(",["T_CONSTANT_ENCAPSED_STRING","'taxonomy_term'",206],")",["T_WHITESPACE","\n      ",206],["T_OBJECT_OPERATOR","->",207],["T_STRING","condition",207],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode.language.foo'",207],",",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'bar'",207],")",["T_WHITESPACE","\n      ",207],["T_OBJECT_OPERATOR","->",208],["T_STRING","execute",208],"(",")",";",["T_WHITESPACE","\n  ",208],"}",["T_WHITESPACE","\n\n  ",209],["T_DOC_COMMENT","\/**\n   * Assert the results.\n   *\n   * @param array $expected\n   *   A list of indexes in the $this->entities array.\n   *\/",211],["T_WHITESPACE","\n  ",216],["T_PROTECTED","protected",217],["T_WHITESPACE"," ",217],["T_FUNCTION","function",217],["T_WHITESPACE"," ",217],["T_STRING","assertResults",217],"(",["T_VARIABLE","$expected",217],")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n    ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","assertEqual",218],"(",["T_STRING","count",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","queryResults",218],")",",",["T_WHITESPACE"," ",218],["T_STRING","count",218],"(",["T_VARIABLE","$expected",218],")",")",";",["T_WHITESPACE","\n    ",218],["T_FOREACH","foreach",219],["T_WHITESPACE"," ",219],"(",["T_VARIABLE","$expected",219],["T_WHITESPACE"," ",219],["T_AS","as",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$key",219],")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n      ",219],["T_VARIABLE","$id",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","entities",220],"[",["T_VARIABLE","$key",220],"]",["T_OBJECT_OPERATOR","->",220],["T_STRING","id",220],"(",")",";",["T_WHITESPACE","\n      ",220],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","assertEqual",221],"(",["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","queryResults",221],"[",["T_VARIABLE","$id",221],"]",",",["T_WHITESPACE"," ",221],["T_VARIABLE","$id",221],")",";",["T_WHITESPACE","\n    ",221],"}",["T_WHITESPACE","\n  ",222],"}",["T_WHITESPACE","\n\n",223],"}",["T_WHITESPACE","\n",225]]