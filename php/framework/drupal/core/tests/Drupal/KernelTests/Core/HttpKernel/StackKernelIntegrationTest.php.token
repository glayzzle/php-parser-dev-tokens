[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","HttpKernel",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Url",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","KernelTests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","KernelTestBase",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Symfony",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Component",7],["T_NS_SEPARATOR","\\",7],["T_STRING","HttpFoundation",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Request",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Symfony",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Component",8],["T_NS_SEPARATOR","\\",8],["T_STRING","HttpKernel",8],["T_NS_SEPARATOR","\\",8],["T_STRING","HttpKernelInterface",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Tests the stacked kernel functionality.\n *\n * @group Routing\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","StackKernelIntegrationTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","KernelTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_STATIC","static",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$modules",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_ARRAY","array",22],"(",["T_CONSTANT_ENCAPSED_STRING","'httpkernel_test'",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'system'",22],")",";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",24],["T_WHITESPACE","\n  ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","setUp",27],"(",")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n    ",27],["T_STRING","parent",28],["T_DOUBLE_COLON","::",28],["T_STRING","setUp",28],"(",")",";",["T_WHITESPACE","\n    ",28],["T_NS_SEPARATOR","\\",29],["T_STRING","Drupal",29],["T_DOUBLE_COLON","::",29],["T_STRING","service",29],"(",["T_CONSTANT_ENCAPSED_STRING","'router.builder'",29],")",["T_OBJECT_OPERATOR","->",29],["T_STRING","rebuild",29],"(",")",";",["T_WHITESPACE","\n  ",29],"}",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * Tests a request.\n   *\/",32],["T_WHITESPACE","\n  ",34],["T_PUBLIC","public",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","testRequest",35],"(",")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$request",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_STRING","Request",36],["T_DOUBLE_COLON","::",36],["T_STRING","create",36],"(","(",["T_NEW","new",36],["T_WHITESPACE"," ",36],["T_STRING","Url",36],"(",["T_CONSTANT_ENCAPSED_STRING","'httpkernel_test.empty'",36],")",")",["T_OBJECT_OPERATOR","->",36],["T_STRING","toString",36],"(",")",")",";",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/** @var \\Symfony\\Component\\HttpKernel\\HttpKernelInterface $http_kernel *\/",37],["T_WHITESPACE","\n    ",37],["T_VARIABLE","$http_kernel",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Drupal",38],["T_DOUBLE_COLON","::",38],["T_STRING","service",38],"(",["T_CONSTANT_ENCAPSED_STRING","'http_kernel'",38],")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$http_kernel",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","handle",39],"(",["T_VARIABLE","$request",39],",",["T_WHITESPACE"," ",39],["T_STRING","HttpKernelInterface",39],["T_DOUBLE_COLON","::",39],["T_STRING","MASTER_REQUEST",39],",",["T_WHITESPACE"," ",39],["T_STRING","FALSE",39],")",";",["T_WHITESPACE","\n\n    ",39],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","assertEqual",41],"(",["T_VARIABLE","$request",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","attributes",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","get",41],"(",["T_CONSTANT_ENCAPSED_STRING","'_hello'",41],")",",",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'world'",41],")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","assertEqual",42],"(",["T_VARIABLE","$request",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","attributes",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","get",42],"(",["T_CONSTANT_ENCAPSED_STRING","'_previous_optional_argument'",42],")",",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'test_argument'",42],")",";",["T_WHITESPACE","\n  ",42],"}",["T_WHITESPACE","\n\n  ",43],["T_DOC_COMMENT","\/**\n   * Tests that late middlewares are automatically flagged lazy.\n   *\/",45],["T_WHITESPACE","\n  ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","testLazyLateMiddlewares",48],"(",")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertFalse",49],"(",["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","container",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getDefinition",49],"(",["T_CONSTANT_ENCAPSED_STRING","'http_middleware.reverse_proxy'",49],")",["T_OBJECT_OPERATOR","->",49],["T_STRING","isLazy",49],"(",")",",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'lazy flag on http_middleware.reverse_proxy definition is not set'",49],")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","assertFalse",50],"(",["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","container",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getDefinition",50],"(",["T_CONSTANT_ENCAPSED_STRING","'http_middleware.kernel_pre_handle'",50],")",["T_OBJECT_OPERATOR","->",50],["T_STRING","isLazy",50],"(",")",",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'lazy flag on http_middleware.kernel_pre_handle definition is not set'",50],")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertFalse",51],"(",["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","container",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getDefinition",51],"(",["T_CONSTANT_ENCAPSED_STRING","'http_middleware.session'",51],")",["T_OBJECT_OPERATOR","->",51],["T_STRING","isLazy",51],"(",")",",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'lazy flag on http_middleware.session definition is not set'",51],")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","assertFalse",52],"(",["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","container",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getDefinition",52],"(",["T_CONSTANT_ENCAPSED_STRING","'http_kernel.basic'",52],")",["T_OBJECT_OPERATOR","->",52],["T_STRING","isLazy",52],"(",")",",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'lazy flag on http_kernel.basic definition is not set'",52],")",";",["T_WHITESPACE","\n\n    ",52],["T_NS_SEPARATOR","\\",54],["T_STRING","Drupal",54],["T_DOUBLE_COLON","::",54],["T_STRING","service",54],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",54],")",["T_OBJECT_OPERATOR","->",54],["T_STRING","install",54],"(","[",["T_CONSTANT_ENCAPSED_STRING","'page_cache'",54],"]",")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","container",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_NS_SEPARATOR","\\",55],["T_STRING","Drupal",55],["T_DOUBLE_COLON","::",55],["T_STRING","service",55],"(",["T_CONSTANT_ENCAPSED_STRING","'kernel'",55],")",["T_OBJECT_OPERATOR","->",55],["T_STRING","rebuildContainer",55],"(",")",";",["T_WHITESPACE","\n\n    ",55],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","assertFalse",57],"(",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","container",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getDefinition",57],"(",["T_CONSTANT_ENCAPSED_STRING","'http_middleware.reverse_proxy'",57],")",["T_OBJECT_OPERATOR","->",57],["T_STRING","isLazy",57],"(",")",",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'lazy flag on http_middleware.reverse_proxy definition is not set'",57],")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","assertFalse",58],"(",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","container",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getDefinition",58],"(",["T_CONSTANT_ENCAPSED_STRING","'http_middleware.page_cache'",58],")",["T_OBJECT_OPERATOR","->",58],["T_STRING","isLazy",58],"(",")",",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'lazy flag on http_middleware.page_cache definition is not set'",58],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","assertTrue",59],"(",["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","container",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getDefinition",59],"(",["T_CONSTANT_ENCAPSED_STRING","'http_middleware.kernel_pre_handle'",59],")",["T_OBJECT_OPERATOR","->",59],["T_STRING","isLazy",59],"(",")",",",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'lazy flag on http_middleware.kernel_pre_handle definition is automatically set if page_cache is enabled.'",59],")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","assertTrue",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","container",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getDefinition",60],"(",["T_CONSTANT_ENCAPSED_STRING","'http_middleware.session'",60],")",["T_OBJECT_OPERATOR","->",60],["T_STRING","isLazy",60],"(",")",",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'lazy flag on http_middleware.session definition is automatically set if page_cache is enabled.'",60],")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","assertTrue",61],"(",["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","container",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getDefinition",61],"(",["T_CONSTANT_ENCAPSED_STRING","'http_kernel.basic'",61],")",["T_OBJECT_OPERATOR","->",61],["T_STRING","isLazy",61],"(",")",",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'lazy flag on http_kernel.basic definition is automatically set if page_cache is enabled.'",61],")",";",["T_WHITESPACE","\n  ",61],"}",["T_WHITESPACE","\n\n",62],"}",["T_WHITESPACE","\n",64]]