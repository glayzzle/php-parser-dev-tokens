[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Database",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Tests the tagging capabilities of the Select builder.\n *\n * Tags are a way to flag queries for alter hooks so they know\n * what type of query it is, such as \"node_access\".\n *\n * @group Database\n *\/",5],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","TaggingTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","DatabaseTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * Confirms that a query has a tag added to it.\n   *\/",15],["T_WHITESPACE","\n  ",17],["T_FUNCTION","function",18],["T_WHITESPACE"," ",18],["T_STRING","testHasTag",18],"(",")",["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n    ",18],["T_VARIABLE","$query",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_STRING","db_select",19],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",19],")",";",["T_WHITESPACE","\n    ",19],["T_VARIABLE","$query",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","addField",20],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",20],",",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'name'",20],")",";",["T_WHITESPACE","\n    ",20],["T_VARIABLE","$query",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","addField",21],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'age'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'age'",21],")",";",["T_WHITESPACE","\n\n    ",21],["T_VARIABLE","$query",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","addTag",23],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",23],")",";",["T_WHITESPACE","\n\n    ",23],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","assertTrue",25],"(",["T_VARIABLE","$query",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","hasTag",25],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",25],")",",",["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'hasTag() returned true.'",25],")",";",["T_WHITESPACE","\n    ",25],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","assertFalse",26],"(",["T_VARIABLE","$query",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","hasTag",26],"(",["T_CONSTANT_ENCAPSED_STRING","'other'",26],")",",",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'hasTag() returned false.'",26],")",";",["T_WHITESPACE","\n  ",26],"}",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * Tests query tagging \"has all of these tags\" functionality.\n   *\/",29],["T_WHITESPACE","\n  ",31],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","testHasAllTags",32],"(",")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$query",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_STRING","db_select",33],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",33],")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$query",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","addField",34],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",34],",",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'name'",34],")",";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$query",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","addField",35],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'age'",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'age'",35],")",";",["T_WHITESPACE","\n\n    ",35],["T_VARIABLE","$query",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","addTag",37],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",37],")",";",["T_WHITESPACE","\n    ",37],["T_VARIABLE","$query",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","addTag",38],"(",["T_CONSTANT_ENCAPSED_STRING","'other'",38],")",";",["T_WHITESPACE","\n\n    ",38],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","assertTrue",40],"(",["T_VARIABLE","$query",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","hasAllTags",40],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'other'",40],")",",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'hasAllTags() returned true.'",40],")",";",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","assertFalse",41],"(",["T_VARIABLE","$query",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","hasAllTags",41],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",41],",",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'stuff'",41],")",",",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'hasAllTags() returned false.'",41],")",";",["T_WHITESPACE","\n  ",41],"}",["T_WHITESPACE","\n\n  ",42],["T_DOC_COMMENT","\/**\n   * Tests query tagging \"has at least one of these tags\" functionality.\n   *\/",44],["T_WHITESPACE","\n  ",46],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","testHasAnyTag",47],"(",")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$query",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","db_select",48],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",48],")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$query",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","addField",49],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",49],",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'name'",49],")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$query",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","addField",50],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'age'",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'age'",50],")",";",["T_WHITESPACE","\n\n    ",50],["T_VARIABLE","$query",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","addTag",52],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",52],")",";",["T_WHITESPACE","\n\n    ",52],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertTrue",54],"(",["T_VARIABLE","$query",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","hasAnyTag",54],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",54],",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'other'",54],")",",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'hasAnyTag() returned true.'",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertFalse",55],"(",["T_VARIABLE","$query",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","hasAnyTag",55],"(",["T_CONSTANT_ENCAPSED_STRING","'other'",55],",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'stuff'",55],")",",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'hasAnyTag() returned false.'",55],")",";",["T_WHITESPACE","\n  ",55],"}",["T_WHITESPACE","\n\n  ",56],["T_DOC_COMMENT","\/**\n   * Confirms that an extended query has a tag added to it.\n   *\/",58],["T_WHITESPACE","\n  ",60],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","testExtenderHasTag",61],"(",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$query",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_STRING","db_select",62],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",62],")",["T_WHITESPACE","\n      ",62],["T_OBJECT_OPERATOR","->",63],["T_STRING","extend",63],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Database\\Query\\SelectExtender'",63],")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$query",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","addField",64],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'name'",64],")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$query",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","addField",65],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'age'",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'age'",65],")",";",["T_WHITESPACE","\n\n    ",65],["T_VARIABLE","$query",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","addTag",67],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",67],")",";",["T_WHITESPACE","\n\n    ",67],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertTrue",69],"(",["T_VARIABLE","$query",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","hasTag",69],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",69],")",",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'hasTag() returned true.'",69],")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertFalse",70],"(",["T_VARIABLE","$query",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","hasTag",70],"(",["T_CONSTANT_ENCAPSED_STRING","'other'",70],")",",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'hasTag() returned false.'",70],")",";",["T_WHITESPACE","\n  ",70],"}",["T_WHITESPACE","\n\n  ",71],["T_DOC_COMMENT","\/**\n   * Tests extended query tagging \"has all of these tags\" functionality.\n   *\/",73],["T_WHITESPACE","\n  ",75],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","testExtenderHasAllTags",76],"(",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$query",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_STRING","db_select",77],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",77],")",["T_WHITESPACE","\n      ",77],["T_OBJECT_OPERATOR","->",78],["T_STRING","extend",78],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Database\\Query\\SelectExtender'",78],")",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$query",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","addField",79],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",79],",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'name'",79],")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$query",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","addField",80],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'age'",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'age'",80],")",";",["T_WHITESPACE","\n\n    ",80],["T_VARIABLE","$query",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","addTag",82],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",82],")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$query",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","addTag",83],"(",["T_CONSTANT_ENCAPSED_STRING","'other'",83],")",";",["T_WHITESPACE","\n\n    ",83],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertTrue",85],"(",["T_VARIABLE","$query",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","hasAllTags",85],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'other'",85],")",",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'hasAllTags() returned true.'",85],")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertFalse",86],"(",["T_VARIABLE","$query",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","hasAllTags",86],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'stuff'",86],")",",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'hasAllTags() returned false.'",86],")",";",["T_WHITESPACE","\n  ",86],"}",["T_WHITESPACE","\n\n  ",87],["T_DOC_COMMENT","\/**\n   * Tests extended query tagging \"has at least one of these tags\" functionality.\n   *\/",89],["T_WHITESPACE","\n  ",91],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","testExtenderHasAnyTag",92],"(",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$query",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","db_select",93],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",93],")",["T_WHITESPACE","\n      ",93],["T_OBJECT_OPERATOR","->",94],["T_STRING","extend",94],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Database\\Query\\SelectExtender'",94],")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$query",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","addField",95],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",95],",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'name'",95],")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$query",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","addField",96],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",96],",",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'age'",96],",",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'age'",96],")",";",["T_WHITESPACE","\n\n    ",96],["T_VARIABLE","$query",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","addTag",98],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",98],")",";",["T_WHITESPACE","\n\n    ",98],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertTrue",100],"(",["T_VARIABLE","$query",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","hasAnyTag",100],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",100],",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'other'",100],")",",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'hasAnyTag() returned true.'",100],")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertFalse",101],"(",["T_VARIABLE","$query",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","hasAnyTag",101],"(",["T_CONSTANT_ENCAPSED_STRING","'other'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'stuff'",101],")",",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'hasAnyTag() returned false.'",101],")",";",["T_WHITESPACE","\n  ",101],"}",["T_WHITESPACE","\n\n  ",102],["T_DOC_COMMENT","\/**\n   * Tests that we can attach metadata to a query object.\n   *\n   * This is how we pass additional context to alter hooks.\n   *\/",104],["T_WHITESPACE","\n  ",108],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","testMetaData",109],"(",")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$query",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_STRING","db_select",110],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",110],")",";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$query",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","addField",111],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'name'",111],")",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$query",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","addField",112],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'age'",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'age'",112],")",";",["T_WHITESPACE","\n\n    ",112],["T_VARIABLE","$data",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_ARRAY","array",114],"(",["T_WHITESPACE","\n      ",114],["T_CONSTANT_ENCAPSED_STRING","'a'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'A'",115],",",["T_WHITESPACE","\n      ",115],["T_CONSTANT_ENCAPSED_STRING","'b'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'B'",116],",",["T_WHITESPACE","\n    ",116],")",";",["T_WHITESPACE","\n\n    ",117],["T_VARIABLE","$query",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","addMetaData",119],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$data",119],")",";",["T_WHITESPACE","\n\n    ",119],["T_VARIABLE","$return",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$query",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getMetaData",121],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",121],")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertEqual",122],"(",["T_VARIABLE","$data",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$return",122],",",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'Correct metadata returned.'",122],")",";",["T_WHITESPACE","\n\n    ",122],["T_VARIABLE","$return",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$query",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getMetaData",124],"(",["T_CONSTANT_ENCAPSED_STRING","'nothere'",124],")",";",["T_WHITESPACE","\n    ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertNull",125],"(",["T_VARIABLE","$return",125],",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'Non-existent key returned NULL.'",125],")",";",["T_WHITESPACE","\n  ",125],"}",["T_WHITESPACE","\n\n",126],"}",["T_WHITESPACE","\n",128]]