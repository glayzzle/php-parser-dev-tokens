[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Form",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Form",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FormInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Form",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FormStateInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","KernelTests",7],["T_NS_SEPARATOR","\\",7],["T_STRING","KernelTestBase",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","user",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","User",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Symfony",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Component",9],["T_NS_SEPARATOR","\\",9],["T_STRING","HttpFoundation",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Request",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Ensures that form actions can't be tricked into sending to external URLs.\n *\n * @group system\n *\/",11],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","ExternalFormUrlTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","KernelTestBase",16],["T_WHITESPACE"," ",16],["T_IMPLEMENTS","implements",16],["T_WHITESPACE"," ",16],["T_STRING","FormInterface",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",18],["T_WHITESPACE","\n  ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_STATIC","static",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$modules",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'system'",21],"]",";",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",23],["T_WHITESPACE","\n  ",25],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","getFormId",26],"(",")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n    ",26],["T_RETURN","return",27],["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'external_form_url_test'",27],";",["T_WHITESPACE","\n  ",27],"}",["T_WHITESPACE","\n\n  ",28],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",30],["T_WHITESPACE","\n  ",32],["T_PUBLIC","public",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","buildForm",33],"(",["T_ARRAY","array",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$form",33],",",["T_WHITESPACE"," ",33],["T_STRING","FormStateInterface",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$form_state",33],")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$form",34],"[",["T_CONSTANT_ENCAPSED_STRING","'something'",34],"]",["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],"[",["T_WHITESPACE","\n      ",34],["T_CONSTANT_ENCAPSED_STRING","'#type'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'textfield'",35],",",["T_WHITESPACE","\n      ",35],["T_CONSTANT_ENCAPSED_STRING","'#title'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'What do you think?'",36],",",["T_WHITESPACE","\n    ",36],"]",";",["T_WHITESPACE","\n    ",37],["T_RETURN","return",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$form",38],";",["T_WHITESPACE","\n  ",38],"}",["T_WHITESPACE","\n\n  ",39],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",41],["T_WHITESPACE","\n  ",43],["T_PUBLIC","public",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","validateForm",44],"(",["T_ARRAY","array",44],["T_WHITESPACE"," ",44],"&",["T_VARIABLE","$form",44],",",["T_WHITESPACE"," ",44],["T_STRING","FormStateInterface",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$form_state",44],")",["T_WHITESPACE"," ",44],"{","}",["T_WHITESPACE","\n\n  ",44],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",46],["T_WHITESPACE","\n  ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","submitForm",49],"(",["T_ARRAY","array",49],["T_WHITESPACE"," ",49],"&",["T_VARIABLE","$form",49],",",["T_WHITESPACE"," ",49],["T_STRING","FormStateInterface",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$form_state",49],")",["T_WHITESPACE"," ",49],"{","}",["T_WHITESPACE","\n\n  ",49],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",51],["T_WHITESPACE","\n  ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","setUp",54],"(",")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n    ",54],["T_STRING","parent",55],["T_DOUBLE_COLON","::",55],["T_STRING","setUp",55],"(",")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","installSchema",56],"(",["T_CONSTANT_ENCAPSED_STRING","'system'",56],",",["T_WHITESPACE"," ",56],"[",["T_CONSTANT_ENCAPSED_STRING","'key_value_expire'",56],",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'sequences'",56],"]",")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","installEntitySchema",57],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",57],")",";",["T_WHITESPACE","\n\n    ",57],["T_VARIABLE","$test_user",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","User",59],["T_DOUBLE_COLON","::",59],["T_STRING","create",59],"(","[",["T_WHITESPACE","\n      ",59],["T_CONSTANT_ENCAPSED_STRING","'name'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'foobar'",60],",",["T_WHITESPACE","\n      ",60],["T_CONSTANT_ENCAPSED_STRING","'mail'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'foobar@example.com'",61],",",["T_WHITESPACE","\n    ",61],"]",")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$test_user",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","save",63],"(",")",";",["T_WHITESPACE","\n    ",63],["T_NS_SEPARATOR","\\",64],["T_STRING","Drupal",64],["T_DOUBLE_COLON","::",64],["T_STRING","service",64],"(",["T_CONSTANT_ENCAPSED_STRING","'current_user'",64],")",["T_OBJECT_OPERATOR","->",64],["T_STRING","setAccount",64],"(",["T_VARIABLE","$test_user",64],")",";",["T_WHITESPACE","\n  ",64],"}",["T_WHITESPACE","\n\n  ",65],["T_DOC_COMMENT","\/**\n   * Tests form behaviour.\n   *\/",67],["T_WHITESPACE","\n  ",69],["T_PUBLIC","public",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","testActionUrlBehavior",70],"(",")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n    ",70],["T_COMMENT","\/\/ Create a new request which has a request uri with multiple leading\n",71],["T_WHITESPACE","    ",72],["T_COMMENT","\/\/ slashes and make it the master request.\n",72],["T_WHITESPACE","    ",73],["T_VARIABLE","$request_stack",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_NS_SEPARATOR","\\",73],["T_STRING","Drupal",73],["T_DOUBLE_COLON","::",73],["T_STRING","service",73],"(",["T_CONSTANT_ENCAPSED_STRING","'request_stack'",73],")",";",["T_WHITESPACE","\n    ",73],["T_DOC_COMMENT","\/** @var \\Symfony\\Component\\HttpFoundation\\RequestStack $original_request *\/",74],["T_WHITESPACE","\n    ",74],["T_VARIABLE","$original_request",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$request_stack",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","pop",75],"(",")",";",["T_WHITESPACE","\n    ",75],["T_COMMENT","\/\/ Just request some more so there is no request left.\n",76],["T_WHITESPACE","    ",77],["T_VARIABLE","$request_stack",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","pop",77],"(",")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$request_stack",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","pop",78],"(",")",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$request",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_STRING","Request",79],["T_DOUBLE_COLON","::",79],["T_STRING","create",79],"(",["T_VARIABLE","$original_request",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getSchemeAndHttpHost",79],"(",")",["T_WHITESPACE"," ",79],".",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'\/\/example.org'",79],")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$request_stack",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","push",80],"(",["T_VARIABLE","$request",80],")",";",["T_WHITESPACE","\n\n    ",80],["T_VARIABLE","$form",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_NS_SEPARATOR","\\",82],["T_STRING","Drupal",82],["T_DOUBLE_COLON","::",82],["T_STRING","formBuilder",82],"(",")",["T_OBJECT_OPERATOR","->",82],["T_STRING","getForm",82],"(",["T_VARIABLE","$this",82],")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$markup",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Drupal",83],["T_DOUBLE_COLON","::",83],["T_STRING","service",83],"(",["T_CONSTANT_ENCAPSED_STRING","'renderer'",83],")",["T_OBJECT_OPERATOR","->",83],["T_STRING","renderRoot",83],"(",["T_VARIABLE","$form",83],")",";",["T_WHITESPACE","\n\n    ",83],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","setRawContent",85],"(",["T_VARIABLE","$markup",85],")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$elements",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","xpath",86],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/form\/@action'",86],")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$action",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING_CAST","(string)",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$elements",87],"[",["T_LNUMBER","0",87],"]",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","assertEqual",88],"(",["T_VARIABLE","$original_request",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getSchemeAndHttpHost",88],"(",")",["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'\/\/example.org'",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$action",88],")",";",["T_WHITESPACE","\n\n    ",88],["T_COMMENT","\/\/ Create a new request which has a request uri with a single leading slash\n",90],["T_WHITESPACE","    ",91],["T_COMMENT","\/\/ and make it the master request.\n",91],["T_WHITESPACE","    ",92],["T_VARIABLE","$request_stack",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_NS_SEPARATOR","\\",92],["T_STRING","Drupal",92],["T_DOUBLE_COLON","::",92],["T_STRING","service",92],"(",["T_CONSTANT_ENCAPSED_STRING","'request_stack'",92],")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$original_request",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$request_stack",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","pop",93],"(",")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$request",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_STRING","Request",94],["T_DOUBLE_COLON","::",94],["T_STRING","create",94],"(",["T_VARIABLE","$original_request",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getSchemeAndHttpHost",94],"(",")",["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'\/example.org'",94],")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$request_stack",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","push",95],"(",["T_VARIABLE","$request",95],")",";",["T_WHITESPACE","\n\n    ",95],["T_VARIABLE","$form",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Drupal",97],["T_DOUBLE_COLON","::",97],["T_STRING","formBuilder",97],"(",")",["T_OBJECT_OPERATOR","->",97],["T_STRING","getForm",97],"(",["T_VARIABLE","$this",97],")",";",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$markup",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_NS_SEPARATOR","\\",98],["T_STRING","Drupal",98],["T_DOUBLE_COLON","::",98],["T_STRING","service",98],"(",["T_CONSTANT_ENCAPSED_STRING","'renderer'",98],")",["T_OBJECT_OPERATOR","->",98],["T_STRING","renderRoot",98],"(",["T_VARIABLE","$form",98],")",";",["T_WHITESPACE","\n\n    ",98],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","setRawContent",100],"(",["T_VARIABLE","$markup",100],")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$elements",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","xpath",101],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/form\/@action'",101],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$action",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING_CAST","(string)",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$elements",102],"[",["T_LNUMBER","0",102],"]",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","assertEqual",103],"(",["T_CONSTANT_ENCAPSED_STRING","'\/example.org'",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$action",103],")",";",["T_WHITESPACE","\n  ",103],"}",["T_WHITESPACE","\n\n",104],"}",["T_WHITESPACE","\n",106]]