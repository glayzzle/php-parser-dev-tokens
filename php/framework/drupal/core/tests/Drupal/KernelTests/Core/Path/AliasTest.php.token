[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Path",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Cache",5],["T_NS_SEPARATOR","\\",5],["T_STRING","MemoryCounterBackend",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Path",6],["T_NS_SEPARATOR","\\",6],["T_STRING","AliasStorage",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Database",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Database",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Path",8],["T_NS_SEPARATOR","\\",8],["T_STRING","AliasManager",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Path",9],["T_NS_SEPARATOR","\\",9],["T_STRING","AliasWhitelist",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Tests path alias CRUD and lookup functionality.\n *\n * @group Path\n *\/",11],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","AliasTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","PathUnitTestBase",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_FUNCTION","function",18],["T_WHITESPACE"," ",18],["T_STRING","testCRUD",18],"(",")",["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n    ",18],["T_COMMENT","\/\/Prepare database table.\n",19],["T_WHITESPACE","    ",20],["T_VARIABLE","$connection",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_STRING","Database",20],["T_DOUBLE_COLON","::",20],["T_STRING","getConnection",20],"(",")",";",["T_WHITESPACE","\n    ",20],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","fixtures",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","createTables",21],"(",["T_VARIABLE","$connection",21],")",";",["T_WHITESPACE","\n\n    ",21],["T_COMMENT","\/\/Create Path object.\n",23],["T_WHITESPACE","    ",24],["T_VARIABLE","$aliasStorage",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_NEW","new",24],["T_WHITESPACE"," ",24],["T_STRING","AliasStorage",24],"(",["T_VARIABLE","$connection",24],",",["T_WHITESPACE"," ",24],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","container",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","get",24],"(",["T_CONSTANT_ENCAPSED_STRING","'module_handler'",24],")",")",";",["T_WHITESPACE","\n\n    ",24],["T_VARIABLE","$aliases",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","fixtures",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","sampleUrlAliases",26],"(",")",";",["T_WHITESPACE","\n\n    ",26],["T_COMMENT","\/\/Create a few aliases\n",28],["T_WHITESPACE","    ",29],["T_FOREACH","foreach",29],["T_WHITESPACE"," ",29],"(",["T_VARIABLE","$aliases",29],["T_WHITESPACE"," ",29],["T_AS","as",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$idx",29],["T_WHITESPACE"," ",29],["T_DOUBLE_ARROW","=>",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$alias",29],")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n      ",29],["T_VARIABLE","$aliasStorage",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","save",30],"(",["T_VARIABLE","$alias",30],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",30],"]",",",["T_WHITESPACE"," ",30],["T_VARIABLE","$alias",30],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",30],"]",",",["T_WHITESPACE"," ",30],["T_VARIABLE","$alias",30],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",30],"]",")",";",["T_WHITESPACE","\n\n      ",30],["T_VARIABLE","$result",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_VARIABLE","$connection",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","query",32],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM {url_alias} WHERE source = :source AND alias= :alias AND langcode = :langcode'",32],",",["T_WHITESPACE"," ",32],["T_ARRAY","array",32],"(",["T_CONSTANT_ENCAPSED_STRING","':source'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$alias",32],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",32],"]",",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","':alias'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$alias",32],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",32],"]",",",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","':langcode'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$alias",32],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",32],"]",")",")",";",["T_WHITESPACE","\n      ",32],["T_VARIABLE","$rows",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_VARIABLE","$result",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","fetchAll",33],"(",")",";",["T_WHITESPACE","\n\n      ",33],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","assertEqual",35],"(",["T_STRING","count",35],"(",["T_VARIABLE","$rows",35],")",",",["T_WHITESPACE"," ",35],["T_LNUMBER","1",35],",",["T_WHITESPACE"," ",35],["T_STRING","format_string",35],"(",["T_CONSTANT_ENCAPSED_STRING","'Created an entry for %alias.'",35],",",["T_WHITESPACE"," ",35],["T_ARRAY","array",35],"(",["T_CONSTANT_ENCAPSED_STRING","'%alias'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$alias",35],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",35],"]",")",")",")",";",["T_WHITESPACE","\n\n      ",35],["T_COMMENT","\/\/Cache the pid for further tests.\n",37],["T_WHITESPACE","      ",38],["T_VARIABLE","$aliases",38],"[",["T_VARIABLE","$idx",38],"]","[",["T_CONSTANT_ENCAPSED_STRING","'pid'",38],"]",["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$rows",38],"[",["T_LNUMBER","0",38],"]",["T_OBJECT_OPERATOR","->",38],["T_STRING","pid",38],";",["T_WHITESPACE","\n    ",38],"}",["T_WHITESPACE","\n\n    ",39],["T_COMMENT","\/\/Load a few aliases\n",41],["T_WHITESPACE","    ",42],["T_FOREACH","foreach",42],["T_WHITESPACE"," ",42],"(",["T_VARIABLE","$aliases",42],["T_WHITESPACE"," ",42],["T_AS","as",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$alias",42],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n      ",42],["T_VARIABLE","$pid",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$alias",43],"[",["T_CONSTANT_ENCAPSED_STRING","'pid'",43],"]",";",["T_WHITESPACE","\n      ",43],["T_VARIABLE","$loadedAlias",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$aliasStorage",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","load",44],"(",["T_ARRAY","array",44],"(",["T_CONSTANT_ENCAPSED_STRING","'pid'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$pid",44],")",")",";",["T_WHITESPACE","\n      ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","assertEqual",45],"(",["T_VARIABLE","$loadedAlias",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$alias",45],",",["T_WHITESPACE"," ",45],["T_STRING","format_string",45],"(",["T_CONSTANT_ENCAPSED_STRING","'Loaded the expected path with pid %pid.'",45],",",["T_WHITESPACE"," ",45],["T_ARRAY","array",45],"(",["T_CONSTANT_ENCAPSED_STRING","'%pid'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$pid",45],")",")",")",";",["T_WHITESPACE","\n    ",45],"}",["T_WHITESPACE","\n\n    ",46],["T_COMMENT","\/\/ Load alias by source path.\n",48],["T_WHITESPACE","    ",49],["T_VARIABLE","$loadedAlias",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$aliasStorage",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","load",49],"(",["T_ARRAY","array",49],"(",["T_CONSTANT_ENCAPSED_STRING","'source'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'\/node\/1'",49],")",")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","assertEqual",50],"(",["T_VARIABLE","$loadedAlias",50],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",50],"]",",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'\/alias_for_node_1_und'",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'The last created alias loaded by default.'",50],")",";",["T_WHITESPACE","\n\n    ",50],["T_COMMENT","\/\/Update a few aliases\n",52],["T_WHITESPACE","    ",53],["T_FOREACH","foreach",53],["T_WHITESPACE"," ",53],"(",["T_VARIABLE","$aliases",53],["T_WHITESPACE"," ",53],["T_AS","as",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$alias",53],")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n      ",53],["T_VARIABLE","$fields",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$aliasStorage",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","save",54],"(",["T_VARIABLE","$alias",54],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",54],"]",",",["T_WHITESPACE"," ",54],["T_VARIABLE","$alias",54],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",54],"]",["T_WHITESPACE"," ",54],".",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'_updated'",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$alias",54],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",54],"]",",",["T_WHITESPACE"," ",54],["T_VARIABLE","$alias",54],"[",["T_CONSTANT_ENCAPSED_STRING","'pid'",54],"]",")",";",["T_WHITESPACE","\n\n      ",54],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","assertEqual",56],"(",["T_VARIABLE","$alias",56],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",56],"]",",",["T_WHITESPACE"," ",56],["T_VARIABLE","$fields",56],"[",["T_CONSTANT_ENCAPSED_STRING","'original'",56],"]","[",["T_CONSTANT_ENCAPSED_STRING","'alias'",56],"]",")",";",["T_WHITESPACE","\n\n      ",56],["T_VARIABLE","$result",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$connection",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","query",58],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT pid FROM {url_alias} WHERE source = :source AND alias= :alias AND langcode = :langcode'",58],",",["T_WHITESPACE"," ",58],["T_ARRAY","array",58],"(",["T_CONSTANT_ENCAPSED_STRING","':source'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$alias",58],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",58],"]",",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","':alias'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$alias",58],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",58],"]",["T_WHITESPACE"," ",58],".",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'_updated'",58],",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","':langcode'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$alias",58],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",58],"]",")",")",";",["T_WHITESPACE","\n      ",58],["T_VARIABLE","$pid",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$result",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","fetchField",59],"(",")",";",["T_WHITESPACE","\n\n      ",59],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","assertEqual",61],"(",["T_VARIABLE","$pid",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$alias",61],"[",["T_CONSTANT_ENCAPSED_STRING","'pid'",61],"]",",",["T_WHITESPACE"," ",61],["T_STRING","format_string",61],"(",["T_CONSTANT_ENCAPSED_STRING","'Updated entry for pid %pid.'",61],",",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",["T_CONSTANT_ENCAPSED_STRING","'%pid'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$pid",61],")",")",")",";",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n\n    ",62],["T_COMMENT","\/\/Delete a few aliases\n",64],["T_WHITESPACE","    ",65],["T_FOREACH","foreach",65],["T_WHITESPACE"," ",65],"(",["T_VARIABLE","$aliases",65],["T_WHITESPACE"," ",65],["T_AS","as",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$alias",65],")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n      ",65],["T_VARIABLE","$pid",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$alias",66],"[",["T_CONSTANT_ENCAPSED_STRING","'pid'",66],"]",";",["T_WHITESPACE","\n      ",66],["T_VARIABLE","$aliasStorage",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","delete",67],"(",["T_ARRAY","array",67],"(",["T_CONSTANT_ENCAPSED_STRING","'pid'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$pid",67],")",")",";",["T_WHITESPACE","\n\n      ",67],["T_VARIABLE","$result",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$connection",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","query",69],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM {url_alias} WHERE pid = :pid'",69],",",["T_WHITESPACE"," ",69],["T_ARRAY","array",69],"(",["T_CONSTANT_ENCAPSED_STRING","':pid'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$pid",69],")",")",";",["T_WHITESPACE","\n      ",69],["T_VARIABLE","$rows",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$result",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","fetchAll",70],"(",")",";",["T_WHITESPACE","\n\n      ",70],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertEqual",72],"(",["T_STRING","count",72],"(",["T_VARIABLE","$rows",72],")",",",["T_WHITESPACE"," ",72],["T_LNUMBER","0",72],",",["T_WHITESPACE"," ",72],["T_STRING","format_string",72],"(",["T_CONSTANT_ENCAPSED_STRING","'Deleted entry with pid %pid.'",72],",",["T_WHITESPACE"," ",72],["T_ARRAY","array",72],"(",["T_CONSTANT_ENCAPSED_STRING","'%pid'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$pid",72],")",")",")",";",["T_WHITESPACE","\n    ",72],"}",["T_WHITESPACE","\n  ",73],"}",["T_WHITESPACE","\n\n  ",74],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","testLookupPath",76],"(",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n    ",76],["T_COMMENT","\/\/Prepare database table.\n",77],["T_WHITESPACE","    ",78],["T_VARIABLE","$connection",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_STRING","Database",78],["T_DOUBLE_COLON","::",78],["T_STRING","getConnection",78],"(",")",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","fixtures",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","createTables",79],"(",["T_VARIABLE","$connection",79],")",";",["T_WHITESPACE","\n\n    ",79],["T_COMMENT","\/\/Create AliasManager and Path object.\n",81],["T_WHITESPACE","    ",82],["T_VARIABLE","$aliasManager",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","container",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","get",82],"(",["T_CONSTANT_ENCAPSED_STRING","'path.alias_manager'",82],")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$aliasStorage",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_NEW","new",83],["T_WHITESPACE"," ",83],["T_STRING","AliasStorage",83],"(",["T_VARIABLE","$connection",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","container",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","get",83],"(",["T_CONSTANT_ENCAPSED_STRING","'module_handler'",83],")",")",";",["T_WHITESPACE","\n\n    ",83],["T_COMMENT","\/\/ Test the situation where the source is the same for multiple aliases.\n",85],["T_WHITESPACE","    ",86],["T_COMMENT","\/\/ Start with a language-neutral alias, which we will override.\n",86],["T_WHITESPACE","    ",87],["T_VARIABLE","$path",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_ARRAY","array",87],"(",["T_WHITESPACE","\n      ",87],["T_CONSTANT_ENCAPSED_STRING","'source'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","\"\/user\/1\"",88],",",["T_WHITESPACE","\n      ",88],["T_CONSTANT_ENCAPSED_STRING","'alias'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'\/foo'",89],",",["T_WHITESPACE","\n    ",89],")",";",["T_WHITESPACE","\n\n    ",90],["T_VARIABLE","$aliasStorage",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","save",92],"(",["T_VARIABLE","$path",92],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",92],"]",",",["T_WHITESPACE"," ",92],["T_VARIABLE","$path",92],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",92],"]",")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertEqual",93],"(",["T_VARIABLE","$aliasManager",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getAliasByPath",93],"(",["T_VARIABLE","$path",93],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",93],"]",")",",",["T_WHITESPACE"," ",93],["T_VARIABLE","$path",93],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",93],"]",",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'Basic alias lookup works.'",93],")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertEqual",94],"(",["T_VARIABLE","$aliasManager",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getPathByAlias",94],"(",["T_VARIABLE","$path",94],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",94],"]",")",",",["T_WHITESPACE"," ",94],["T_VARIABLE","$path",94],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",94],"]",",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'Basic source lookup works.'",94],")",";",["T_WHITESPACE","\n\n    ",94],["T_COMMENT","\/\/ Create a language specific alias for the default language (English).\n",96],["T_WHITESPACE","    ",97],["T_VARIABLE","$path",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_ARRAY","array",97],"(",["T_WHITESPACE","\n      ",97],["T_CONSTANT_ENCAPSED_STRING","'source'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","\"\/user\/1\"",98],",",["T_WHITESPACE","\n      ",98],["T_CONSTANT_ENCAPSED_STRING","'alias'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","\"\/users\/Dries\"",99],",",["T_WHITESPACE","\n      ",99],["T_CONSTANT_ENCAPSED_STRING","'langcode'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'en'",100],",",["T_WHITESPACE","\n    ",100],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$aliasStorage",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","save",102],"(",["T_VARIABLE","$path",102],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",102],"]",",",["T_WHITESPACE"," ",102],["T_VARIABLE","$path",102],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",102],"]",",",["T_WHITESPACE"," ",102],["T_VARIABLE","$path",102],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",102],"]",")",";",["T_WHITESPACE","\n    ",102],["T_COMMENT","\/\/ Hook that clears cache is not executed with unit tests.\n",103],["T_WHITESPACE","    ",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Drupal",104],["T_DOUBLE_COLON","::",104],["T_STRING","service",104],"(",["T_CONSTANT_ENCAPSED_STRING","'path.alias_manager'",104],")",["T_OBJECT_OPERATOR","->",104],["T_STRING","cacheClear",104],"(",")",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertEqual",105],"(",["T_VARIABLE","$aliasManager",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getAliasByPath",105],"(",["T_VARIABLE","$path",105],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",105],"]",")",",",["T_WHITESPACE"," ",105],["T_VARIABLE","$path",105],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",105],"]",",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'English alias overrides language-neutral alias.'",105],")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertEqual",106],"(",["T_VARIABLE","$aliasManager",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getPathByAlias",106],"(",["T_VARIABLE","$path",106],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",106],"]",")",",",["T_WHITESPACE"," ",106],["T_VARIABLE","$path",106],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",106],"]",",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'English source overrides language-neutral source.'",106],")",";",["T_WHITESPACE","\n\n    ",106],["T_COMMENT","\/\/ Create a language-neutral alias for the same path, again.\n",108],["T_WHITESPACE","    ",109],["T_VARIABLE","$path",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_ARRAY","array",109],"(",["T_WHITESPACE","\n      ",109],["T_CONSTANT_ENCAPSED_STRING","'source'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","\"\/user\/1\"",110],",",["T_WHITESPACE","\n      ",110],["T_CONSTANT_ENCAPSED_STRING","'alias'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'\/bar'",111],",",["T_WHITESPACE","\n    ",111],")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$aliasStorage",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","save",113],"(",["T_VARIABLE","$path",113],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",113],"]",",",["T_WHITESPACE"," ",113],["T_VARIABLE","$path",113],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",113],"]",")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","assertEqual",114],"(",["T_VARIABLE","$aliasManager",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getAliasByPath",114],"(",["T_VARIABLE","$path",114],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",114],"]",")",",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","\"\/users\/Dries\"",114],",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'English alias still returned after entering a language-neutral alias.'",114],")",";",["T_WHITESPACE","\n\n    ",114],["T_COMMENT","\/\/ Create a language-specific (xx-lolspeak) alias for the same path.\n",116],["T_WHITESPACE","    ",117],["T_VARIABLE","$path",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_ARRAY","array",117],"(",["T_WHITESPACE","\n      ",117],["T_CONSTANT_ENCAPSED_STRING","'source'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","\"\/user\/1\"",118],",",["T_WHITESPACE","\n      ",118],["T_CONSTANT_ENCAPSED_STRING","'alias'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'\/LOL'",119],",",["T_WHITESPACE","\n      ",119],["T_CONSTANT_ENCAPSED_STRING","'langcode'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'xx-lolspeak'",120],",",["T_WHITESPACE","\n    ",120],")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$aliasStorage",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","save",122],"(",["T_VARIABLE","$path",122],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",122],"]",",",["T_WHITESPACE"," ",122],["T_VARIABLE","$path",122],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",122],"]",",",["T_WHITESPACE"," ",122],["T_VARIABLE","$path",122],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",122],"]",")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","assertEqual",123],"(",["T_VARIABLE","$aliasManager",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getAliasByPath",123],"(",["T_VARIABLE","$path",123],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",123],"]",")",",",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","\"\/users\/Dries\"",123],",",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'English alias still returned after entering a LOLspeak alias.'",123],")",";",["T_WHITESPACE","\n    ",123],["T_COMMENT","\/\/ The LOLspeak alias should be returned if we really want LOLspeak.\n",124],["T_WHITESPACE","    ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertEqual",125],"(",["T_VARIABLE","$aliasManager",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getAliasByPath",125],"(",["T_VARIABLE","$path",125],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",125],"]",",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'xx-lolspeak'",125],")",",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'\/LOL'",125],",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'LOLspeak alias returned if we specify xx-lolspeak to the alias manager.'",125],")",";",["T_WHITESPACE","\n\n    ",125],["T_COMMENT","\/\/ Create a new alias for this path in English, which should override the\n",127],["T_WHITESPACE","    ",128],["T_COMMENT","\/\/ previous alias for \"user\/1\".\n",128],["T_WHITESPACE","    ",129],["T_VARIABLE","$path",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_ARRAY","array",129],"(",["T_WHITESPACE","\n      ",129],["T_CONSTANT_ENCAPSED_STRING","'source'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","\"\/user\/1\"",130],",",["T_WHITESPACE","\n      ",130],["T_CONSTANT_ENCAPSED_STRING","'alias'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'\/users\/my-new-path'",131],",",["T_WHITESPACE","\n      ",131],["T_CONSTANT_ENCAPSED_STRING","'langcode'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'en'",132],",",["T_WHITESPACE","\n    ",132],")",";",["T_WHITESPACE","\n    ",133],["T_VARIABLE","$aliasStorage",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","save",134],"(",["T_VARIABLE","$path",134],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",134],"]",",",["T_WHITESPACE"," ",134],["T_VARIABLE","$path",134],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",134],"]",",",["T_WHITESPACE"," ",134],["T_VARIABLE","$path",134],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",134],"]",")",";",["T_WHITESPACE","\n    ",134],["T_COMMENT","\/\/ Hook that clears cache is not executed with unit tests.\n",135],["T_WHITESPACE","    ",136],["T_VARIABLE","$aliasManager",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","cacheClear",136],"(",")",";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","assertEqual",137],"(",["T_VARIABLE","$aliasManager",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getAliasByPath",137],"(",["T_VARIABLE","$path",137],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",137],"]",")",",",["T_WHITESPACE"," ",137],["T_VARIABLE","$path",137],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",137],"]",",",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'Recently created English alias returned.'",137],")",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","assertEqual",138],"(",["T_VARIABLE","$aliasManager",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getPathByAlias",138],"(",["T_VARIABLE","$path",138],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",138],"]",")",",",["T_WHITESPACE"," ",138],["T_VARIABLE","$path",138],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",138],"]",",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'Recently created English source returned.'",138],")",";",["T_WHITESPACE","\n\n    ",138],["T_COMMENT","\/\/ Remove the English aliases, which should cause a fallback to the most\n",140],["T_WHITESPACE","    ",141],["T_COMMENT","\/\/ recently created language-neutral alias, 'bar'.\n",141],["T_WHITESPACE","    ",142],["T_VARIABLE","$aliasStorage",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","delete",142],"(",["T_ARRAY","array",142],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'en'",142],")",")",";",["T_WHITESPACE","\n    ",142],["T_COMMENT","\/\/ Hook that clears cache is not executed with unit tests.\n",143],["T_WHITESPACE","    ",144],["T_VARIABLE","$aliasManager",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","cacheClear",144],"(",")",";",["T_WHITESPACE","\n    ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","assertEqual",145],"(",["T_VARIABLE","$aliasManager",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getAliasByPath",145],"(",["T_VARIABLE","$path",145],"[",["T_CONSTANT_ENCAPSED_STRING","'source'",145],"]",")",",",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'\/bar'",145],",",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'Path lookup falls back to recently created language-neutral alias.'",145],")",";",["T_WHITESPACE","\n\n    ",145],["T_COMMENT","\/\/ Test the situation where the alias and language are the same, but\n",147],["T_WHITESPACE","    ",148],["T_COMMENT","\/\/ the source differs. The newer alias record should be returned.\n",148],["T_WHITESPACE","    ",149],["T_VARIABLE","$aliasStorage",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","save",149],"(",["T_CONSTANT_ENCAPSED_STRING","'\/user\/2'",149],",",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'\/bar'",149],")",";",["T_WHITESPACE","\n    ",149],["T_COMMENT","\/\/ Hook that clears cache is not executed with unit tests.\n",150],["T_WHITESPACE","    ",151],["T_VARIABLE","$aliasManager",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","cacheClear",151],"(",")",";",["T_WHITESPACE","\n    ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","assertEqual",152],"(",["T_VARIABLE","$aliasManager",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getPathByAlias",152],"(",["T_CONSTANT_ENCAPSED_STRING","'\/bar'",152],")",",",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'\/user\/2'",152],",",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'Newer alias record is returned when comparing two LanguageInterface::LANGCODE_NOT_SPECIFIED paths with the same alias.'",152],")",";",["T_WHITESPACE","\n  ",152],"}",["T_WHITESPACE","\n\n  ",153],["T_DOC_COMMENT","\/**\n   * Tests the alias whitelist.\n   *\/",155],["T_WHITESPACE","\n  ",157],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","testWhitelist",158],"(",")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n    ",158],["T_COMMENT","\/\/ Prepare database table.\n",159],["T_WHITESPACE","    ",160],["T_VARIABLE","$connection",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_STRING","Database",160],["T_DOUBLE_COLON","::",160],["T_STRING","getConnection",160],"(",")",";",["T_WHITESPACE","\n    ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","fixtures",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","createTables",161],"(",["T_VARIABLE","$connection",161],")",";",["T_WHITESPACE","\n\n    ",161],["T_VARIABLE","$memoryCounterBackend",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_NEW","new",163],["T_WHITESPACE"," ",163],["T_STRING","MemoryCounterBackend",163],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",163],")",";",["T_WHITESPACE","\n\n    ",163],["T_COMMENT","\/\/ Create AliasManager and Path object.\n",165],["T_WHITESPACE","    ",166],["T_VARIABLE","$aliasStorage",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_NEW","new",166],["T_WHITESPACE"," ",166],["T_STRING","AliasStorage",166],"(",["T_VARIABLE","$connection",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","container",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","get",166],"(",["T_CONSTANT_ENCAPSED_STRING","'module_handler'",166],")",")",";",["T_WHITESPACE","\n    ",166],["T_VARIABLE","$whitelist",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_NEW","new",167],["T_WHITESPACE"," ",167],["T_STRING","AliasWhitelist",167],"(",["T_CONSTANT_ENCAPSED_STRING","'path_alias_whitelist'",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$memoryCounterBackend",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","container",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","get",167],"(",["T_CONSTANT_ENCAPSED_STRING","'lock'",167],")",",",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","container",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","get",167],"(",["T_CONSTANT_ENCAPSED_STRING","'state'",167],")",",",["T_WHITESPACE"," ",167],["T_VARIABLE","$aliasStorage",167],")",";",["T_WHITESPACE","\n    ",167],["T_VARIABLE","$aliasManager",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_NEW","new",168],["T_WHITESPACE"," ",168],["T_STRING","AliasManager",168],"(",["T_VARIABLE","$aliasStorage",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$whitelist",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","container",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","get",168],"(",["T_CONSTANT_ENCAPSED_STRING","'language_manager'",168],")",",",["T_WHITESPACE"," ",168],["T_VARIABLE","$memoryCounterBackend",168],")",";",["T_WHITESPACE","\n\n    ",168],["T_COMMENT","\/\/ No alias for user and admin yet, so should be NULL.\n",170],["T_WHITESPACE","    ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","assertNull",171],"(",["T_VARIABLE","$whitelist",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","get",171],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",171],")",")",";",["T_WHITESPACE","\n    ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","assertNull",172],"(",["T_VARIABLE","$whitelist",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","get",172],"(",["T_CONSTANT_ENCAPSED_STRING","'admin'",172],")",")",";",["T_WHITESPACE","\n\n    ",172],["T_COMMENT","\/\/ Non-existing path roots should be NULL too. Use a length of 7 to avoid\n",174],["T_WHITESPACE","    ",175],["T_COMMENT","\/\/ possible conflict with random aliases below.\n",175],["T_WHITESPACE","    ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","assertNull",176],"(",["T_VARIABLE","$whitelist",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","get",176],"(",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","randomMachineName",176],"(",")",")",")",";",["T_WHITESPACE","\n\n    ",176],["T_COMMENT","\/\/ Add an alias for user\/1, user should get whitelisted now.\n",178],["T_WHITESPACE","    ",179],["T_VARIABLE","$aliasStorage",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","save",179],"(",["T_CONSTANT_ENCAPSED_STRING","'\/user\/1'",179],",",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'\/'",179],["T_WHITESPACE"," ",179],".",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","randomMachineName",179],"(",")",")",";",["T_WHITESPACE","\n    ",179],["T_VARIABLE","$aliasManager",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","cacheClear",180],"(",")",";",["T_WHITESPACE","\n    ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","assertTrue",181],"(",["T_VARIABLE","$whitelist",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","get",181],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",181],")",")",";",["T_WHITESPACE","\n    ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","assertNull",182],"(",["T_VARIABLE","$whitelist",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","get",182],"(",["T_CONSTANT_ENCAPSED_STRING","'admin'",182],")",")",";",["T_WHITESPACE","\n    ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","assertNull",183],"(",["T_VARIABLE","$whitelist",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","get",183],"(",["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","randomMachineName",183],"(",")",")",")",";",["T_WHITESPACE","\n\n    ",183],["T_COMMENT","\/\/ Add an alias for admin, both should get whitelisted now.\n",185],["T_WHITESPACE","    ",186],["T_VARIABLE","$aliasStorage",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","save",186],"(",["T_CONSTANT_ENCAPSED_STRING","'\/admin\/something'",186],",",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'\/'",186],["T_WHITESPACE"," ",186],".",["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","randomMachineName",186],"(",")",")",";",["T_WHITESPACE","\n    ",186],["T_VARIABLE","$aliasManager",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","cacheClear",187],"(",")",";",["T_WHITESPACE","\n    ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","assertTrue",188],"(",["T_VARIABLE","$whitelist",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","get",188],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",188],")",")",";",["T_WHITESPACE","\n    ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","assertTrue",189],"(",["T_VARIABLE","$whitelist",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","get",189],"(",["T_CONSTANT_ENCAPSED_STRING","'admin'",189],")",")",";",["T_WHITESPACE","\n    ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","assertNull",190],"(",["T_VARIABLE","$whitelist",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","get",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","randomMachineName",190],"(",")",")",")",";",["T_WHITESPACE","\n\n    ",190],["T_COMMENT","\/\/ Remove the user alias again, whitelist entry should be removed.\n",192],["T_WHITESPACE","    ",193],["T_VARIABLE","$aliasStorage",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","delete",193],"(",["T_ARRAY","array",193],"(",["T_CONSTANT_ENCAPSED_STRING","'source'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'\/user\/1'",193],")",")",";",["T_WHITESPACE","\n    ",193],["T_VARIABLE","$aliasManager",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","cacheClear",194],"(",")",";",["T_WHITESPACE","\n    ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","assertNull",195],"(",["T_VARIABLE","$whitelist",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","get",195],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",195],")",")",";",["T_WHITESPACE","\n    ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","assertTrue",196],"(",["T_VARIABLE","$whitelist",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","get",196],"(",["T_CONSTANT_ENCAPSED_STRING","'admin'",196],")",")",";",["T_WHITESPACE","\n    ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","assertNull",197],"(",["T_VARIABLE","$whitelist",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","get",197],"(",["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","randomMachineName",197],"(",")",")",")",";",["T_WHITESPACE","\n\n    ",197],["T_COMMENT","\/\/ Destruct the whitelist so that the caches are written.\n",199],["T_WHITESPACE","    ",200],["T_VARIABLE","$whitelist",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","destruct",200],"(",")",";",["T_WHITESPACE","\n    ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","assertEqual",201],"(",["T_VARIABLE","$memoryCounterBackend",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getCounter",201],"(",["T_CONSTANT_ENCAPSED_STRING","'set'",201],",",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'path_alias_whitelist'",201],")",",",["T_WHITESPACE"," ",201],["T_LNUMBER","1",201],")",";",["T_WHITESPACE","\n    ",201],["T_VARIABLE","$memoryCounterBackend",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","resetCounter",202],"(",")",";",["T_WHITESPACE","\n\n    ",202],["T_COMMENT","\/\/ Re-initialize the whitelist using the same cache backend, should load\n",204],["T_WHITESPACE","    ",205],["T_COMMENT","\/\/ from cache.\n",205],["T_WHITESPACE","    ",206],["T_VARIABLE","$whitelist",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_NEW","new",206],["T_WHITESPACE"," ",206],["T_STRING","AliasWhitelist",206],"(",["T_CONSTANT_ENCAPSED_STRING","'path_alias_whitelist'",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$memoryCounterBackend",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","container",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","get",206],"(",["T_CONSTANT_ENCAPSED_STRING","'lock'",206],")",",",["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","container",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","get",206],"(",["T_CONSTANT_ENCAPSED_STRING","'state'",206],")",",",["T_WHITESPACE"," ",206],["T_VARIABLE","$aliasStorage",206],")",";",["T_WHITESPACE","\n    ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","assertNull",207],"(",["T_VARIABLE","$whitelist",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","get",207],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",207],")",")",";",["T_WHITESPACE","\n    ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","assertTrue",208],"(",["T_VARIABLE","$whitelist",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","get",208],"(",["T_CONSTANT_ENCAPSED_STRING","'admin'",208],")",")",";",["T_WHITESPACE","\n    ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","assertNull",209],"(",["T_VARIABLE","$whitelist",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","get",209],"(",["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","randomMachineName",209],"(",")",")",")",";",["T_WHITESPACE","\n    ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","assertEqual",210],"(",["T_VARIABLE","$memoryCounterBackend",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getCounter",210],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",210],",",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'path_alias_whitelist'",210],")",",",["T_WHITESPACE"," ",210],["T_LNUMBER","1",210],")",";",["T_WHITESPACE","\n    ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","assertEqual",211],"(",["T_VARIABLE","$memoryCounterBackend",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","getCounter",211],"(",["T_CONSTANT_ENCAPSED_STRING","'set'",211],",",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'path_alias_whitelist'",211],")",",",["T_WHITESPACE"," ",211],["T_LNUMBER","0",211],")",";",["T_WHITESPACE","\n\n    ",211],["T_COMMENT","\/\/ Destruct the whitelist, should not attempt to write the cache again.\n",213],["T_WHITESPACE","    ",214],["T_VARIABLE","$whitelist",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","destruct",214],"(",")",";",["T_WHITESPACE","\n    ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","assertEqual",215],"(",["T_VARIABLE","$memoryCounterBackend",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getCounter",215],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",215],",",["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","'path_alias_whitelist'",215],")",",",["T_WHITESPACE"," ",215],["T_LNUMBER","1",215],")",";",["T_WHITESPACE","\n    ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","assertEqual",216],"(",["T_VARIABLE","$memoryCounterBackend",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getCounter",216],"(",["T_CONSTANT_ENCAPSED_STRING","'set'",216],",",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'path_alias_whitelist'",216],")",",",["T_WHITESPACE"," ",216],["T_LNUMBER","0",216],")",";",["T_WHITESPACE","\n  ",216],"}",["T_WHITESPACE","\n\n",217],"}",["T_WHITESPACE","\n",219]]