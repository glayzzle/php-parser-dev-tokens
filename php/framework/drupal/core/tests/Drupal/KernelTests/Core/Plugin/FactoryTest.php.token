[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Plugin",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Exception",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ExceptionInterface",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests that plugins are correctly instantiated.\n *\n * @group Plugin\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","FactoryTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","PluginTestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * Test that DefaultFactory can create a plugin instance.\n   *\/",14],["T_WHITESPACE","\n  ",16],["T_FUNCTION","function",17],["T_WHITESPACE"," ",17],["T_STRING","testDefaultFactory",17],"(",")",["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n    ",17],["T_COMMENT","\/\/ Ensure a non-derivative plugin can be instantiated.\n",18],["T_WHITESPACE","    ",19],["T_VARIABLE","$plugin",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_VARIABLE","$this",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","testPluginManager",19],["T_OBJECT_OPERATOR","->",19],["T_STRING","createInstance",19],"(",["T_CONSTANT_ENCAPSED_STRING","'user_login'",19],",",["T_WHITESPACE"," ",19],["T_ARRAY","array",19],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",19],["T_WHITESPACE"," ",19],["T_DOUBLE_ARROW","=>",19],["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'Please enter your login name and password'",19],")",")",";",["T_WHITESPACE","\n    ",19],["T_VARIABLE","$this",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","assertIdentical",20],"(",["T_STRING","get_class",20],"(",["T_VARIABLE","$plugin",20],")",",",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\plugin_test\\Plugin\\plugin_test\\mock_block\\MockUserLoginBlock'",20],",",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'Correct plugin class instantiated with default factory.'",20],")",";",["T_WHITESPACE","\n    ",20],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","assertIdentical",21],"(",["T_VARIABLE","$plugin",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","getTitle",21],"(",")",",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'Please enter your login name and password'",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'Plugin instance correctly configured.'",21],")",";",["T_WHITESPACE","\n\n    ",21],["T_COMMENT","\/\/ Ensure that attempting to instantiate non-existing plugins throws a\n",23],["T_WHITESPACE","    ",24],["T_COMMENT","\/\/ PluginException.\n",24],["T_WHITESPACE","    ",25],["T_TRY","try",25],["T_WHITESPACE"," ",25],"{",["T_WHITESPACE","\n      ",25],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","testPluginManager",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","createInstance",26],"(",["T_CONSTANT_ENCAPSED_STRING","'non_existing'",26],")",";",["T_WHITESPACE","\n      ",26],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","fail",27],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Component\\Plugin\\Exception\\ExceptionInterface expected'",27],")",";",["T_WHITESPACE","\n    ",27],"}",["T_WHITESPACE","\n    ",28],["T_CATCH","catch",29],["T_WHITESPACE"," ",29],"(",["T_STRING","ExceptionInterface",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$e",29],")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n      ",29],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","pass",30],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Component\\Plugin\\Exception\\ExceptionInterface expected and caught.'",30],")",";",["T_WHITESPACE","\n    ",30],"}",["T_WHITESPACE","\n    ",31],["T_CATCH","catch",32],["T_WHITESPACE"," ",32],"(",["T_NS_SEPARATOR","\\",32],["T_STRING","Exception",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$e",32],")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n      ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","fail",33],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Component\\Plugin\\Exception\\ExceptionInterface expected, but '",33],["T_WHITESPACE"," ",33],".",["T_WHITESPACE"," ",33],["T_STRING","get_class",33],"(",["T_VARIABLE","$e",33],")",["T_WHITESPACE"," ",33],".",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","' was thrown.'",33],")",";",["T_WHITESPACE","\n    ",33],"}",["T_WHITESPACE","\n  ",34],"}",["T_WHITESPACE","\n\n  ",35],["T_DOC_COMMENT","\/**\n   * Test that the Reflection factory can create a plugin instance.\n   *\n   * The mock plugin classes use different values for their constructors\n   * allowing us to test the reflection capabilities as well.\n   *\n   * We use derivative classes here because the block test type has the\n   * reflection factory and it provides some additional variety in plugin\n   * object creation.\n   *\/",37],["T_WHITESPACE","\n  ",46],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","testReflectionFactory",47],"(",")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n    ",47],["T_COMMENT","\/\/ Ensure a non-derivative plugin can be instantiated.\n",48],["T_WHITESPACE","    ",49],["T_VARIABLE","$plugin",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","mockBlockManager",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","createInstance",49],"(",["T_CONSTANT_ENCAPSED_STRING","'user_login'",49],",",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'Please enter your login name and password'",49],")",")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","assertIdentical",50],"(",["T_STRING","get_class",50],"(",["T_VARIABLE","$plugin",50],")",",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\plugin_test\\Plugin\\plugin_test\\mock_block\\MockUserLoginBlock'",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'Correct plugin class instantiated.'",50],")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertIdentical",51],"(",["T_VARIABLE","$plugin",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getTitle",51],"(",")",",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'Please enter your login name and password'",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'Plugin instance correctly configured.'",51],")",";",["T_WHITESPACE","\n\n    ",51],["T_COMMENT","\/\/ Ensure a derivative plugin can be instantiated.\n",53],["T_WHITESPACE","    ",54],["T_VARIABLE","$plugin",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","mockBlockManager",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","createInstance",54],"(",["T_CONSTANT_ENCAPSED_STRING","'menu:main_menu'",54],",",["T_WHITESPACE"," ",54],["T_ARRAY","array",54],"(",["T_CONSTANT_ENCAPSED_STRING","'depth'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_LNUMBER","2",54],")",")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertIdentical",55],"(",["T_VARIABLE","$plugin",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getContent",55],"(",")",",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'<ul><li>1<ul><li>1.1<\/li><\/ul><\/li><\/ul>'",55],",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'Derived plugin instance correctly instantiated and configured.'",55],")",";",["T_WHITESPACE","\n\n    ",55],["T_COMMENT","\/\/ Ensure that attempting to instantiate non-existing plugins throws a\n",57],["T_WHITESPACE","    ",58],["T_COMMENT","\/\/ PluginException. Test this for a non-existing base plugin, a non-existing\n",58],["T_WHITESPACE","    ",59],["T_COMMENT","\/\/ derivative plugin, and a base plugin that may not be used without\n",59],["T_WHITESPACE","    ",60],["T_COMMENT","\/\/ deriving.\n",60],["T_WHITESPACE","    ",61],["T_FOREACH","foreach",61],["T_WHITESPACE"," ",61],"(",["T_ARRAY","array",61],"(",["T_CONSTANT_ENCAPSED_STRING","'non_existing'",61],",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'menu:non_existing'",61],",",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'menu'",61],")",["T_WHITESPACE"," ",61],["T_AS","as",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$invalid_id",61],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n      ",61],["T_TRY","try",62],["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","mockBlockManager",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","createInstance",63],"(",["T_VARIABLE","$invalid_id",63],")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","fail",64],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Component\\Plugin\\Exception\\ExceptionInterface expected'",64],")",";",["T_WHITESPACE","\n      ",64],"}",["T_WHITESPACE","\n      ",65],["T_CATCH","catch",66],["T_WHITESPACE"," ",66],"(",["T_STRING","ExceptionInterface",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$e",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","pass",67],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Component\\Plugin\\Exception\\ExceptionInterface expected and caught.'",67],")",";",["T_WHITESPACE","\n      ",67],"}",["T_WHITESPACE","\n      ",68],["T_CATCH","catch",69],["T_WHITESPACE"," ",69],"(",["T_NS_SEPARATOR","\\",69],["T_STRING","Exception",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$e",69],")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","fail",70],"(",["T_CONSTANT_ENCAPSED_STRING","'An unexpected Exception of type \"'",70],["T_WHITESPACE"," ",70],".",["T_WHITESPACE"," ",70],["T_STRING","get_class",70],"(",["T_VARIABLE","$e",70],")",["T_WHITESPACE"," ",70],".",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'\" was thrown with message '",70],["T_WHITESPACE"," ",70],".",["T_WHITESPACE"," ",70],["T_VARIABLE","$e",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getMessage",70],"(",")",")",";",["T_WHITESPACE","\n      ",70],"}",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n  ",72],"}",["T_WHITESPACE","\n\n",73],"}",["T_WHITESPACE","\n",75]]