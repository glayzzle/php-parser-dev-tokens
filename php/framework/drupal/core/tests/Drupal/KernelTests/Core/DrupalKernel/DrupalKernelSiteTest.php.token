[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","DrupalKernel",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Site",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Settings",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","KernelTests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","KernelTestBase",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests site-specific service overrides.\n *\n * @group DrupalKernel\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","DrupalKernelSiteTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","KernelTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * Tests services.yml in site directory.\n   *\/",15],["T_WHITESPACE","\n  ",17],["T_PUBLIC","public",18],["T_WHITESPACE"," ",18],["T_FUNCTION","function",18],["T_WHITESPACE"," ",18],["T_STRING","testServicesYml",18],"(",")",["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n    ",18],["T_VARIABLE","$container_yamls",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_STRING","Settings",19],["T_DOUBLE_COLON","::",19],["T_STRING","get",19],"(",["T_CONSTANT_ENCAPSED_STRING","'container_yamls'",19],")",";",["T_WHITESPACE","\n    ",19],["T_VARIABLE","$container_yamls",20],"[","]",["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_VARIABLE","$this",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","siteDirectory",20],["T_WHITESPACE"," ",20],".",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'\/services.yml'",20],";",["T_WHITESPACE","\n    ",20],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","setSetting",21],"(",["T_CONSTANT_ENCAPSED_STRING","'container_yamls'",21],",",["T_WHITESPACE"," ",21],["T_VARIABLE","$container_yamls",21],")",";",["T_WHITESPACE","\n    ",21],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","assertFalse",22],"(",["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","container",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","has",22],"(",["T_CONSTANT_ENCAPSED_STRING","'site.service.yml'",22],")",")",";",["T_WHITESPACE","\n    ",22],["T_COMMENT","\/\/ A service provider class always has precedence over services.yml files.\n",23],["T_WHITESPACE","    ",24],["T_COMMENT","\/\/ KernelTestBase::buildContainer() swaps out many services with in-memory\n",24],["T_WHITESPACE","    ",25],["T_COMMENT","\/\/ implementations already, so those cannot be tested.\n",25],["T_WHITESPACE","    ",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","assertIdentical",26],"(",["T_STRING","get_class",26],"(",["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","container",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","get",26],"(",["T_CONSTANT_ENCAPSED_STRING","'cache.backend.database'",26],")",")",",",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Cache\\DatabaseBackendFactory'",26],")",";",["T_WHITESPACE","\n\n    ",26],["T_VARIABLE","$class",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_CLASS_C","__CLASS__",28],";",["T_WHITESPACE","\n    ",28],["T_VARIABLE","$doc",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_START_HEREDOC","<<<EOD\n",29],["T_ENCAPSED_AND_WHITESPACE","services:\n  # Add a new service.\n  site.service.yml:\n    class: ",30],["T_VARIABLE","$class",33],["T_ENCAPSED_AND_WHITESPACE","\n  # Swap out a core service.\n  cache.backend.database:\n    class: Drupal\\Core\\Cache\\MemoryBackendFactory\n",33],["T_END_HEREDOC","EOD",37],";",["T_WHITESPACE","\n    ",37],["T_STRING","file_put_contents",38],"(",["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","siteDirectory",38],["T_WHITESPACE"," ",38],".",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'\/services.yml'",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$doc",38],")",";",["T_WHITESPACE","\n\n    ",38],["T_COMMENT","\/\/ Rebuild the container.\n",40],["T_WHITESPACE","    ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","container",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","get",41],"(",["T_CONSTANT_ENCAPSED_STRING","'kernel'",41],")",["T_OBJECT_OPERATOR","->",41],["T_STRING","rebuildContainer",41],"(",")",";",["T_WHITESPACE","\n\n    ",41],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","assertTrue",43],"(",["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","container",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","has",43],"(",["T_CONSTANT_ENCAPSED_STRING","'site.service.yml'",43],")",")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","assertIdentical",44],"(",["T_STRING","get_class",44],"(",["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","container",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","get",44],"(",["T_CONSTANT_ENCAPSED_STRING","'cache.backend.database'",44],")",")",",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Cache\\MemoryBackendFactory'",44],")",";",["T_WHITESPACE","\n  ",44],"}",["T_WHITESPACE","\n\n",45],"}",["T_WHITESPACE","\n",47]]