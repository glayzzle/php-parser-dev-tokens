[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Config",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Storage",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","KernelTests",5],["T_NS_SEPARATOR","\\",5],["T_STRING","KernelTestBase",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Base class for testing storage operations.\n *\n * All configuration storages are expected to behave identically in\n * terms of reading, writing, listing, deleting, as well as error handling.\n *\n * Therefore, storage tests use an uncommon test case class structure;\n * the base class defines the test method(s) to execute, which are identical\n * for all storages. The storage specific test case classes supply the\n * necessary helper methods to interact with the raw\/native storage\n * directly.\n *\/",7],["T_WHITESPACE","\n",18],["T_ABSTRACT","abstract",19],["T_WHITESPACE"," ",19],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","ConfigStorageTestBase",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_STRING","KernelTestBase",19],["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * @var \\Drupal\\Core\\Config\\StorageInterface\n   *\/",21],["T_WHITESPACE","\n  ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$storage",24],";",["T_WHITESPACE","\n\n  ",24],["T_DOC_COMMENT","\/**\n   * @var \\Drupal\\Core\\Config\\StorageInterface\n   *\/",26],["T_WHITESPACE","\n  ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$invalidStorage",29],";",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * Tests storage CRUD operations.\n   *\n   * @todo Coverage: Trigger PDOExceptions \/ Database exceptions.\n   *\/",31],["T_WHITESPACE","\n  ",35],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","testCRUD",36],"(",")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$name",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'config_test.storage'",37],";",["T_WHITESPACE","\n\n    ",37],["T_COMMENT","\/\/ Checking whether a non-existing name exists returns FALSE.\n",39],["T_WHITESPACE","    ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","assertIdentical",40],"(",["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","storage",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","exists",40],"(",["T_VARIABLE","$name",40],")",",",["T_WHITESPACE"," ",40],["T_STRING","FALSE",40],")",";",["T_WHITESPACE","\n\n    ",40],["T_COMMENT","\/\/ Reading a non-existing name returns FALSE.\n",42],["T_WHITESPACE","    ",43],["T_VARIABLE","$data",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","storage",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","read",43],"(",["T_VARIABLE","$name",43],")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","assertIdentical",44],"(",["T_VARIABLE","$data",44],",",["T_WHITESPACE"," ",44],["T_STRING","FALSE",44],")",";",["T_WHITESPACE","\n\n    ",44],["T_COMMENT","\/\/ Writing data returns TRUE and the data has been written.\n",46],["T_WHITESPACE","    ",47],["T_VARIABLE","$data",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_ARRAY","array",47],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'bar'",47],")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$result",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","storage",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","write",48],"(",["T_VARIABLE","$name",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$data",48],")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertIdentical",49],"(",["T_VARIABLE","$result",49],",",["T_WHITESPACE"," ",49],["T_STRING","TRUE",49],")",";",["T_WHITESPACE","\n\n    ",49],["T_VARIABLE","$raw_data",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","read",51],"(",["T_VARIABLE","$name",51],")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","assertIdentical",52],"(",["T_VARIABLE","$raw_data",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$data",52],")",";",["T_WHITESPACE","\n\n    ",52],["T_COMMENT","\/\/ Checking whether an existing name exists returns TRUE.\n",54],["T_WHITESPACE","    ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertIdentical",55],"(",["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","storage",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","exists",55],"(",["T_VARIABLE","$name",55],")",",",["T_WHITESPACE"," ",55],["T_STRING","TRUE",55],")",";",["T_WHITESPACE","\n\n    ",55],["T_COMMENT","\/\/ Writing the identical data again still returns TRUE.\n",57],["T_WHITESPACE","    ",58],["T_VARIABLE","$result",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","storage",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","write",58],"(",["T_VARIABLE","$name",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$data",58],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","assertIdentical",59],"(",["T_VARIABLE","$result",59],",",["T_WHITESPACE"," ",59],["T_STRING","TRUE",59],")",";",["T_WHITESPACE","\n\n    ",59],["T_COMMENT","\/\/ Listing all names returns all.\n",61],["T_WHITESPACE","    ",62],["T_VARIABLE","$names",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","storage",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","listAll",62],"(",")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","assertTrue",63],"(",["T_STRING","in_array",63],"(",["T_CONSTANT_ENCAPSED_STRING","'system.performance'",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$names",63],")",")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","assertTrue",64],"(",["T_STRING","in_array",64],"(",["T_VARIABLE","$name",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$names",64],")",")",";",["T_WHITESPACE","\n\n    ",64],["T_COMMENT","\/\/ Listing all names with prefix returns names with that prefix only.\n",66],["T_WHITESPACE","    ",67],["T_VARIABLE","$names",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","storage",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","listAll",67],"(",["T_CONSTANT_ENCAPSED_STRING","'config_test.'",67],")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","assertFalse",68],"(",["T_STRING","in_array",68],"(",["T_CONSTANT_ENCAPSED_STRING","'system.performance'",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$names",68],")",")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertTrue",69],"(",["T_STRING","in_array",69],"(",["T_VARIABLE","$name",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$names",69],")",")",";",["T_WHITESPACE","\n\n    ",69],["T_COMMENT","\/\/ Rename the configuration storage object.\n",71],["T_WHITESPACE","    ",72],["T_VARIABLE","$new_name",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'config_test.storage_rename'",72],";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","storage",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","rename",73],"(",["T_VARIABLE","$name",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$new_name",73],")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$raw_data",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","read",74],"(",["T_VARIABLE","$new_name",74],")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertIdentical",75],"(",["T_VARIABLE","$raw_data",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$data",75],")",";",["T_WHITESPACE","\n    ",75],["T_COMMENT","\/\/ Rename it back so further tests work.\n",76],["T_WHITESPACE","    ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","storage",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","rename",77],"(",["T_VARIABLE","$new_name",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$name",77],")",";",["T_WHITESPACE","\n\n    ",77],["T_COMMENT","\/\/ Deleting an existing name returns TRUE.\n",79],["T_WHITESPACE","    ",80],["T_VARIABLE","$result",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","storage",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","delete",80],"(",["T_VARIABLE","$name",80],")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertIdentical",81],"(",["T_VARIABLE","$result",81],",",["T_WHITESPACE"," ",81],["T_STRING","TRUE",81],")",";",["T_WHITESPACE","\n\n    ",81],["T_COMMENT","\/\/ Deleting a non-existing name returns FALSE.\n",83],["T_WHITESPACE","    ",84],["T_VARIABLE","$result",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","storage",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","delete",84],"(",["T_VARIABLE","$name",84],")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertIdentical",85],"(",["T_VARIABLE","$result",85],",",["T_WHITESPACE"," ",85],["T_STRING","FALSE",85],")",";",["T_WHITESPACE","\n\n    ",85],["T_COMMENT","\/\/ Deleting all names with prefix deletes the appropriate data and returns\n",87],["T_WHITESPACE","    ",88],["T_COMMENT","\/\/ TRUE.\n",88],["T_WHITESPACE","    ",89],["T_VARIABLE","$files",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_ARRAY","array",89],"(",["T_WHITESPACE","\n      ",89],["T_CONSTANT_ENCAPSED_STRING","'config_test.test.biff'",90],",",["T_WHITESPACE","\n      ",90],["T_CONSTANT_ENCAPSED_STRING","'config_test.test.bang'",91],",",["T_WHITESPACE","\n      ",91],["T_CONSTANT_ENCAPSED_STRING","'config_test.test.pow'",92],",",["T_WHITESPACE","\n    ",92],")",";",["T_WHITESPACE","\n    ",93],["T_FOREACH","foreach",94],["T_WHITESPACE"," ",94],"(",["T_VARIABLE","$files",94],["T_WHITESPACE"," ",94],["T_AS","as",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$name",94],")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n      ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","storage",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","write",95],"(",["T_VARIABLE","$name",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$data",95],")",";",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n\n    ",96],["T_VARIABLE","$result",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","storage",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","deleteAll",98],"(",["T_CONSTANT_ENCAPSED_STRING","'config_test.'",98],")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$names",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","storage",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","listAll",99],"(",["T_CONSTANT_ENCAPSED_STRING","'config_test.'",99],")",";",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertIdentical",100],"(",["T_VARIABLE","$result",100],",",["T_WHITESPACE"," ",100],["T_STRING","TRUE",100],")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertIdentical",101],"(",["T_VARIABLE","$names",101],",",["T_WHITESPACE"," ",101],["T_ARRAY","array",101],"(",")",")",";",["T_WHITESPACE","\n\n    ",101],["T_COMMENT","\/\/ Test renaming an object that does not exist throws an exception.\n",103],["T_WHITESPACE","    ",104],["T_TRY","try",104],["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n      ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","storage",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","rename",105],"(",["T_CONSTANT_ENCAPSED_STRING","'config_test.storage_does_not_exist'",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'config_test.storage_does_not_exist_rename'",105],")",";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n    ",106],["T_CATCH","catch",107],["T_WHITESPACE"," ",107],"(",["T_NS_SEPARATOR","\\",107],["T_STRING","Exception",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$e",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n      ",107],["T_VARIABLE","$class",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_STRING","get_class",108],"(",["T_VARIABLE","$e",108],")",";",["T_WHITESPACE","\n      ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","pass",109],"(",["T_VARIABLE","$class",109],["T_WHITESPACE"," ",109],".",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","' thrown upon renaming a nonexistent storage bin.'",109],")",";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n    ",110],["T_COMMENT","\/\/ Test renaming to an object that already exists throws an exception.\n",112],["T_WHITESPACE","    ",113],["T_TRY","try",113],["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n      ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","storage",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","rename",114],"(",["T_CONSTANT_ENCAPSED_STRING","'system.cron'",114],",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'system.performance'",114],")",";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n    ",115],["T_CATCH","catch",116],["T_WHITESPACE"," ",116],"(",["T_NS_SEPARATOR","\\",116],["T_STRING","Exception",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$e",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n      ",116],["T_VARIABLE","$class",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_STRING","get_class",117],"(",["T_VARIABLE","$e",117],")",";",["T_WHITESPACE","\n      ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","pass",118],"(",["T_VARIABLE","$class",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","' thrown upon renaming a nonexistent storage bin.'",118],")",";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n  ",119],"}",["T_WHITESPACE","\n\n  ",120],["T_DOC_COMMENT","\/**\n   * Tests an invalid storage.\n   *\/",122],["T_WHITESPACE","\n  ",124],["T_PUBLIC","public",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","testInvalidStorage",125],"(",")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n    ",125],["T_VARIABLE","$name",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'config_test.storage'",126],";",["T_WHITESPACE","\n\n    ",126],["T_COMMENT","\/\/ Write something to the valid storage to prove that the storages do not\n",128],["T_WHITESPACE","    ",129],["T_COMMENT","\/\/ pollute one another.\n",129],["T_WHITESPACE","    ",130],["T_VARIABLE","$data",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_ARRAY","array",130],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'bar'",130],")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$result",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","storage",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","write",131],"(",["T_VARIABLE","$name",131],",",["T_WHITESPACE"," ",131],["T_VARIABLE","$data",131],")",";",["T_WHITESPACE","\n    ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","assertIdentical",132],"(",["T_VARIABLE","$result",132],",",["T_WHITESPACE"," ",132],["T_STRING","TRUE",132],")",";",["T_WHITESPACE","\n\n    ",132],["T_VARIABLE","$raw_data",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","read",134],"(",["T_VARIABLE","$name",134],")",";",["T_WHITESPACE","\n    ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","assertIdentical",135],"(",["T_VARIABLE","$raw_data",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$data",135],")",";",["T_WHITESPACE","\n\n    ",135],["T_COMMENT","\/\/ Reading from a non-existing storage bin returns FALSE.\n",137],["T_WHITESPACE","    ",138],["T_VARIABLE","$result",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","invalidStorage",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","read",138],"(",["T_VARIABLE","$name",138],")",";",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","assertIdentical",139],"(",["T_VARIABLE","$result",139],",",["T_WHITESPACE"," ",139],["T_STRING","FALSE",139],")",";",["T_WHITESPACE","\n\n    ",139],["T_COMMENT","\/\/ Deleting from a non-existing storage bin throws an exception.\n",141],["T_WHITESPACE","    ",142],["T_TRY","try",142],["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n      ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","invalidStorage",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","delete",143],"(",["T_VARIABLE","$name",143],")",";",["T_WHITESPACE","\n      ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","fail",144],"(",["T_CONSTANT_ENCAPSED_STRING","'Exception not thrown upon deleting from a non-existing storage bin.'",144],")",";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n    ",145],["T_CATCH","catch",146],["T_WHITESPACE"," ",146],"(",["T_NS_SEPARATOR","\\",146],["T_STRING","Exception",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$e",146],")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n      ",146],["T_VARIABLE","$class",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","get_class",147],"(",["T_VARIABLE","$e",147],")",";",["T_WHITESPACE","\n      ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","pass",148],"(",["T_VARIABLE","$class",148],["T_WHITESPACE"," ",148],".",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","' thrown upon deleting from a non-existing storage bin.'",148],")",";",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n\n    ",149],["T_COMMENT","\/\/ Listing on a non-existing storage bin returns an empty array.\n",151],["T_WHITESPACE","    ",152],["T_VARIABLE","$result",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","invalidStorage",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","listAll",152],"(",")",";",["T_WHITESPACE","\n    ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","assertIdentical",153],"(",["T_VARIABLE","$result",153],",",["T_WHITESPACE"," ",153],["T_ARRAY","array",153],"(",")",")",";",["T_WHITESPACE","\n    ",153],["T_COMMENT","\/\/ Writing to a non-existing storage bin creates the bin.\n",154],["T_WHITESPACE","    ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","invalidStorage",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","write",155],"(",["T_VARIABLE","$name",155],",",["T_WHITESPACE"," ",155],["T_ARRAY","array",155],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'bar'",155],")",")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$result",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","invalidStorage",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","read",156],"(",["T_VARIABLE","$name",156],")",";",["T_WHITESPACE","\n    ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","assertIdentical",157],"(",["T_VARIABLE","$result",157],",",["T_WHITESPACE"," ",157],["T_ARRAY","array",157],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'bar'",157],")",")",";",["T_WHITESPACE","\n  ",157],"}",["T_WHITESPACE","\n\n  ",158],["T_DOC_COMMENT","\/**\n   * Tests storage writing and reading data preserving data type.\n   *\/",160],["T_WHITESPACE","\n  ",162],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","testDataTypes",163],"(",")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n    ",163],["T_VARIABLE","$name",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'config_test.types'",164],";",["T_WHITESPACE","\n    ",164],["T_VARIABLE","$data",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_ARRAY","array",165],"(",["T_WHITESPACE","\n      ",165],["T_CONSTANT_ENCAPSED_STRING","'array'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_ARRAY","array",166],"(",")",",",["T_WHITESPACE","\n      ",166],["T_CONSTANT_ENCAPSED_STRING","'boolean'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_STRING","TRUE",167],",",["T_WHITESPACE","\n      ",167],["T_CONSTANT_ENCAPSED_STRING","'exp'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_DNUMBER","1.2e+34",168],",",["T_WHITESPACE","\n      ",168],["T_CONSTANT_ENCAPSED_STRING","'float'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_DNUMBER","3.14159",169],",",["T_WHITESPACE","\n      ",169],["T_CONSTANT_ENCAPSED_STRING","'hex'",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_LNUMBER","0xC",170],",",["T_WHITESPACE","\n      ",170],["T_CONSTANT_ENCAPSED_STRING","'int'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_LNUMBER","99",171],",",["T_WHITESPACE","\n      ",171],["T_CONSTANT_ENCAPSED_STRING","'octal'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_LNUMBER","0775",172],",",["T_WHITESPACE","\n      ",172],["T_CONSTANT_ENCAPSED_STRING","'string'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'string'",173],",",["T_WHITESPACE","\n      ",173],["T_CONSTANT_ENCAPSED_STRING","'string_int'",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'1'",174],",",["T_WHITESPACE","\n    ",174],")",";",["T_WHITESPACE","\n\n    ",175],["T_VARIABLE","$result",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","storage",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","write",177],"(",["T_VARIABLE","$name",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$data",177],")",";",["T_WHITESPACE","\n    ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","assertIdentical",178],"(",["T_VARIABLE","$result",178],",",["T_WHITESPACE"," ",178],["T_STRING","TRUE",178],")",";",["T_WHITESPACE","\n\n    ",178],["T_VARIABLE","$read_data",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","storage",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","read",180],"(",["T_VARIABLE","$name",180],")",";",["T_WHITESPACE","\n    ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","assertIdentical",181],"(",["T_VARIABLE","$read_data",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$data",181],")",";",["T_WHITESPACE","\n  ",181],"}",["T_WHITESPACE","\n\n  ",182],["T_DOC_COMMENT","\/**\n   * Tests that the storage supports collections.\n   *\/",184],["T_WHITESPACE","\n  ",186],["T_PUBLIC","public",187],["T_WHITESPACE"," ",187],["T_FUNCTION","function",187],["T_WHITESPACE"," ",187],["T_STRING","testCollection",187],"(",")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n    ",187],["T_VARIABLE","$name",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'config_test.storage'",188],";",["T_WHITESPACE","\n    ",188],["T_VARIABLE","$data",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_ARRAY","array",189],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",189],["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'bar'",189],")",";",["T_WHITESPACE","\n    ",189],["T_VARIABLE","$result",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","storage",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","write",190],"(",["T_VARIABLE","$name",190],",",["T_WHITESPACE"," ",190],["T_VARIABLE","$data",190],")",";",["T_WHITESPACE","\n    ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","assertIdentical",191],"(",["T_VARIABLE","$result",191],",",["T_WHITESPACE"," ",191],["T_STRING","TRUE",191],")",";",["T_WHITESPACE","\n    ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","assertIdentical",192],"(",["T_VARIABLE","$data",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","storage",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","read",192],"(",["T_VARIABLE","$name",192],")",")",";",["T_WHITESPACE","\n\n    ",192],["T_COMMENT","\/\/ Create configuration in a new collection.\n",194],["T_WHITESPACE","    ",195],["T_VARIABLE","$new_storage",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","storage",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","createCollection",195],"(",["T_CONSTANT_ENCAPSED_STRING","'collection.sub.new'",195],")",";",["T_WHITESPACE","\n    ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","assertFalse",196],"(",["T_VARIABLE","$new_storage",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","exists",196],"(",["T_VARIABLE","$name",196],")",")",";",["T_WHITESPACE","\n    ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","assertEqual",197],"(",["T_ARRAY","array",197],"(",")",",",["T_WHITESPACE"," ",197],["T_VARIABLE","$new_storage",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","listAll",197],"(",")",")",";",["T_WHITESPACE","\n    ",197],["T_VARIABLE","$new_storage",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","write",198],"(",["T_VARIABLE","$name",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$data",198],")",";",["T_WHITESPACE","\n    ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","assertIdentical",199],"(",["T_VARIABLE","$result",199],",",["T_WHITESPACE"," ",199],["T_STRING","TRUE",199],")",";",["T_WHITESPACE","\n    ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","assertIdentical",200],"(",["T_VARIABLE","$data",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$new_storage",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","read",200],"(",["T_VARIABLE","$name",200],")",")",";",["T_WHITESPACE","\n    ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","assertEqual",201],"(",["T_ARRAY","array",201],"(",["T_VARIABLE","$name",201],")",",",["T_WHITESPACE"," ",201],["T_VARIABLE","$new_storage",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","listAll",201],"(",")",")",";",["T_WHITESPACE","\n    ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","assertTrue",202],"(",["T_VARIABLE","$new_storage",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","exists",202],"(",["T_VARIABLE","$name",202],")",")",";",["T_WHITESPACE","\n    ",202],["T_VARIABLE","$new_data",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_ARRAY","array",203],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",203],["T_WHITESPACE"," ",203],["T_DOUBLE_ARROW","=>",203],["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'baz'",203],")",";",["T_WHITESPACE","\n    ",203],["T_VARIABLE","$new_storage",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","write",204],"(",["T_VARIABLE","$name",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$new_data",204],")",";",["T_WHITESPACE","\n    ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","assertIdentical",205],"(",["T_VARIABLE","$result",205],",",["T_WHITESPACE"," ",205],["T_STRING","TRUE",205],")",";",["T_WHITESPACE","\n    ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","assertIdentical",206],"(",["T_VARIABLE","$new_data",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$new_storage",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","read",206],"(",["T_VARIABLE","$name",206],")",")",";",["T_WHITESPACE","\n\n    ",206],["T_COMMENT","\/\/ Create configuration in another collection.\n",208],["T_WHITESPACE","    ",209],["T_VARIABLE","$another_storage",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","storage",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","createCollection",209],"(",["T_CONSTANT_ENCAPSED_STRING","'collection.sub.another'",209],")",";",["T_WHITESPACE","\n    ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","assertFalse",210],"(",["T_VARIABLE","$another_storage",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","exists",210],"(",["T_VARIABLE","$name",210],")",")",";",["T_WHITESPACE","\n    ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","assertEqual",211],"(",["T_ARRAY","array",211],"(",")",",",["T_WHITESPACE"," ",211],["T_VARIABLE","$another_storage",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","listAll",211],"(",")",")",";",["T_WHITESPACE","\n    ",211],["T_VARIABLE","$another_storage",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","write",212],"(",["T_VARIABLE","$name",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$new_data",212],")",";",["T_WHITESPACE","\n    ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","assertIdentical",213],"(",["T_VARIABLE","$result",213],",",["T_WHITESPACE"," ",213],["T_STRING","TRUE",213],")",";",["T_WHITESPACE","\n    ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","assertIdentical",214],"(",["T_VARIABLE","$new_data",214],",",["T_WHITESPACE"," ",214],["T_VARIABLE","$another_storage",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","read",214],"(",["T_VARIABLE","$name",214],")",")",";",["T_WHITESPACE","\n    ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","assertEqual",215],"(",["T_ARRAY","array",215],"(",["T_VARIABLE","$name",215],")",",",["T_WHITESPACE"," ",215],["T_VARIABLE","$another_storage",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","listAll",215],"(",")",")",";",["T_WHITESPACE","\n    ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","assertTrue",216],"(",["T_VARIABLE","$another_storage",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","exists",216],"(",["T_VARIABLE","$name",216],")",")",";",["T_WHITESPACE","\n\n    ",216],["T_COMMENT","\/\/ Create configuration in yet another collection.\n",218],["T_WHITESPACE","    ",219],["T_VARIABLE","$alt_storage",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","storage",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","createCollection",219],"(",["T_CONSTANT_ENCAPSED_STRING","'alternate'",219],")",";",["T_WHITESPACE","\n    ",219],["T_VARIABLE","$alt_storage",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","write",220],"(",["T_VARIABLE","$name",220],",",["T_WHITESPACE"," ",220],["T_VARIABLE","$new_data",220],")",";",["T_WHITESPACE","\n    ",220],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","assertIdentical",221],"(",["T_VARIABLE","$result",221],",",["T_WHITESPACE"," ",221],["T_STRING","TRUE",221],")",";",["T_WHITESPACE","\n    ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","assertIdentical",222],"(",["T_VARIABLE","$new_data",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$alt_storage",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","read",222],"(",["T_VARIABLE","$name",222],")",")",";",["T_WHITESPACE","\n\n    ",222],["T_COMMENT","\/\/ Switch back to the collection-less mode and check the data still exists\n",224],["T_WHITESPACE","    ",225],["T_COMMENT","\/\/ add has not been touched.\n",225],["T_WHITESPACE","    ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","assertIdentical",226],"(",["T_VARIABLE","$data",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","storage",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","read",226],"(",["T_VARIABLE","$name",226],")",")",";",["T_WHITESPACE","\n\n    ",226],["T_COMMENT","\/\/ Check that the getAllCollectionNames() method works.\n",228],["T_WHITESPACE","    ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","assertIdentical",229],"(",["T_ARRAY","array",229],"(",["T_CONSTANT_ENCAPSED_STRING","'alternate'",229],",",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'collection.sub.another'",229],",",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'collection.sub.new'",229],")",",",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","storage",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getAllCollectionNames",229],"(",")",")",";",["T_WHITESPACE","\n\n    ",229],["T_COMMENT","\/\/ Check that the collections are removed when they are empty.\n",231],["T_WHITESPACE","    ",232],["T_VARIABLE","$alt_storage",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","delete",232],"(",["T_VARIABLE","$name",232],")",";",["T_WHITESPACE","\n    ",232],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","assertIdentical",233],"(",["T_ARRAY","array",233],"(",["T_CONSTANT_ENCAPSED_STRING","'collection.sub.another'",233],",",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'collection.sub.new'",233],")",",",["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","storage",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getAllCollectionNames",233],"(",")",")",";",["T_WHITESPACE","\n\n    ",233],["T_COMMENT","\/\/ Create configuration in collection called 'collection'. This ensures that\n",235],["T_WHITESPACE","    ",236],["T_COMMENT","\/\/ FileStorage's collection storage works regardless of its use of\n",236],["T_WHITESPACE","    ",237],["T_COMMENT","\/\/ subdirectories.\n",237],["T_WHITESPACE","    ",238],["T_VARIABLE","$parent_storage",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","storage",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","createCollection",238],"(",["T_CONSTANT_ENCAPSED_STRING","'collection'",238],")",";",["T_WHITESPACE","\n    ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","assertFalse",239],"(",["T_VARIABLE","$parent_storage",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","exists",239],"(",["T_VARIABLE","$name",239],")",")",";",["T_WHITESPACE","\n    ",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","assertEqual",240],"(",["T_ARRAY","array",240],"(",")",",",["T_WHITESPACE"," ",240],["T_VARIABLE","$parent_storage",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","listAll",240],"(",")",")",";",["T_WHITESPACE","\n    ",240],["T_VARIABLE","$parent_storage",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","write",241],"(",["T_VARIABLE","$name",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$new_data",241],")",";",["T_WHITESPACE","\n    ",241],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","assertIdentical",242],"(",["T_VARIABLE","$result",242],",",["T_WHITESPACE"," ",242],["T_STRING","TRUE",242],")",";",["T_WHITESPACE","\n    ",242],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","assertIdentical",243],"(",["T_VARIABLE","$new_data",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$parent_storage",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","read",243],"(",["T_VARIABLE","$name",243],")",")",";",["T_WHITESPACE","\n    ",243],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","assertEqual",244],"(",["T_ARRAY","array",244],"(",["T_VARIABLE","$name",244],")",",",["T_WHITESPACE"," ",244],["T_VARIABLE","$parent_storage",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","listAll",244],"(",")",")",";",["T_WHITESPACE","\n    ",244],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","assertTrue",245],"(",["T_VARIABLE","$parent_storage",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","exists",245],"(",["T_VARIABLE","$name",245],")",")",";",["T_WHITESPACE","\n    ",245],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","assertIdentical",246],"(",["T_ARRAY","array",246],"(",["T_CONSTANT_ENCAPSED_STRING","'collection'",246],",",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'collection.sub.another'",246],",",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'collection.sub.new'",246],")",",",["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","storage",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","getAllCollectionNames",246],"(",")",")",";",["T_WHITESPACE","\n    ",246],["T_VARIABLE","$parent_storage",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","deleteAll",247],"(",")",";",["T_WHITESPACE","\n    ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","assertIdentical",248],"(",["T_ARRAY","array",248],"(",["T_CONSTANT_ENCAPSED_STRING","'collection.sub.another'",248],",",["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'collection.sub.new'",248],")",",",["T_WHITESPACE"," ",248],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","storage",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","getAllCollectionNames",248],"(",")",")",";",["T_WHITESPACE","\n\n    ",248],["T_COMMENT","\/\/ Check that the having an empty collection-less storage does not break\n",250],["T_WHITESPACE","    ",251],["T_COMMENT","\/\/ anything. Before deleting check that the previous delete did not affect\n",251],["T_WHITESPACE","    ",252],["T_COMMENT","\/\/ data in another collection.\n",252],["T_WHITESPACE","    ",253],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","assertIdentical",253],"(",["T_VARIABLE","$data",253],",",["T_WHITESPACE"," ",253],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","storage",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","read",253],"(",["T_VARIABLE","$name",253],")",")",";",["T_WHITESPACE","\n    ",253],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","storage",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","delete",254],"(",["T_VARIABLE","$name",254],")",";",["T_WHITESPACE","\n    ",254],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","assertIdentical",255],"(",["T_ARRAY","array",255],"(",["T_CONSTANT_ENCAPSED_STRING","'collection.sub.another'",255],",",["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","'collection.sub.new'",255],")",",",["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","storage",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getAllCollectionNames",255],"(",")",")",";",["T_WHITESPACE","\n  ",255],"}",["T_WHITESPACE","\n\n  ",256],["T_ABSTRACT","abstract",258],["T_WHITESPACE"," ",258],["T_PROTECTED","protected",258],["T_WHITESPACE"," ",258],["T_FUNCTION","function",258],["T_WHITESPACE"," ",258],["T_STRING","read",258],"(",["T_VARIABLE","$name",258],")",";",["T_WHITESPACE","\n\n  ",258],["T_ABSTRACT","abstract",260],["T_WHITESPACE"," ",260],["T_PROTECTED","protected",260],["T_WHITESPACE"," ",260],["T_FUNCTION","function",260],["T_WHITESPACE"," ",260],["T_STRING","insert",260],"(",["T_VARIABLE","$name",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$data",260],")",";",["T_WHITESPACE","\n\n  ",260],["T_ABSTRACT","abstract",262],["T_WHITESPACE"," ",262],["T_PROTECTED","protected",262],["T_WHITESPACE"," ",262],["T_FUNCTION","function",262],["T_WHITESPACE"," ",262],["T_STRING","update",262],"(",["T_VARIABLE","$name",262],",",["T_WHITESPACE"," ",262],["T_VARIABLE","$data",262],")",";",["T_WHITESPACE","\n\n  ",262],["T_ABSTRACT","abstract",264],["T_WHITESPACE"," ",264],["T_PROTECTED","protected",264],["T_WHITESPACE"," ",264],["T_FUNCTION","function",264],["T_WHITESPACE"," ",264],["T_STRING","delete",264],"(",["T_VARIABLE","$name",264],")",";",["T_WHITESPACE","\n\n",264],"}",["T_WHITESPACE","\n",266]]