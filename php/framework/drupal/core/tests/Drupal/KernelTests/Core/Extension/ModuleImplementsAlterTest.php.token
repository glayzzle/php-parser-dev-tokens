[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Extension",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","KernelTests",5],["T_NS_SEPARATOR","\\",5],["T_STRING","KernelTestBase",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests hook_module_implements_alter().\n *\n * @group Module\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","ModuleImplementsAlterTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","KernelTestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",14],["T_WHITESPACE","\n  ",16],["T_PUBLIC","public",17],["T_WHITESPACE"," ",17],["T_STATIC","static",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$modules",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],"[",["T_CONSTANT_ENCAPSED_STRING","'system'",17],"]",";",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * Tests hook_module_implements_alter() adding an implementation.\n   *\n   * @see \\Drupal\\Core\\Extension\\ModuleHandler::buildImplementationInfo()\n   * @see module_test_module_implements_alter()\n   *\/",19],["T_WHITESPACE","\n  ",24],["T_FUNCTION","function",25],["T_WHITESPACE"," ",25],["T_STRING","testModuleImplementsAlter",25],"(",")",["T_WHITESPACE"," ",25],"{",["T_WHITESPACE","\n\n    ",25],["T_COMMENT","\/\/ Get an instance of the module handler, to observe how it is going to be\n",27],["T_WHITESPACE","    ",28],["T_COMMENT","\/\/ replaced.\n",28],["T_WHITESPACE","    ",29],["T_VARIABLE","$module_handler",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Drupal",29],["T_DOUBLE_COLON","::",29],["T_STRING","moduleHandler",29],"(",")",";",["T_WHITESPACE","\n\n    ",29],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","assertTrue",31],"(",["T_VARIABLE","$module_handler",31],["T_WHITESPACE"," ",31],["T_IS_IDENTICAL","===",31],["T_WHITESPACE"," ",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Drupal",31],["T_DOUBLE_COLON","::",31],["T_STRING","moduleHandler",31],"(",")",",",["T_WHITESPACE","\n      ",31],["T_CONSTANT_ENCAPSED_STRING","'Module handler instance is still the same.'",32],")",";",["T_WHITESPACE","\n\n    ",32],["T_COMMENT","\/\/ Install the module_test module.\n",34],["T_WHITESPACE","    ",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Drupal",35],["T_DOUBLE_COLON","::",35],["T_STRING","service",35],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",35],")",["T_OBJECT_OPERATOR","->",35],["T_STRING","install",35],"(",["T_ARRAY","array",35],"(",["T_CONSTANT_ENCAPSED_STRING","'module_test'",35],")",")",";",["T_WHITESPACE","\n\n    ",35],["T_COMMENT","\/\/ Assert that the \\Drupal::moduleHandler() instance has been replaced.\n",37],["T_WHITESPACE","    ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","assertFalse",38],"(",["T_VARIABLE","$module_handler",38],["T_WHITESPACE"," ",38],["T_IS_IDENTICAL","===",38],["T_WHITESPACE"," ",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Drupal",38],["T_DOUBLE_COLON","::",38],["T_STRING","moduleHandler",38],"(",")",",",["T_WHITESPACE","\n      ",38],["T_CONSTANT_ENCAPSED_STRING","'The \\Drupal::moduleHandler() instance has been replaced during \\Drupal::moduleHandler()->install().'",39],")",";",["T_WHITESPACE","\n\n    ",39],["T_COMMENT","\/\/ Assert that module_test.module is now included.\n",41],["T_WHITESPACE","    ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","assertTrue",42],"(",["T_STRING","function_exists",42],"(",["T_CONSTANT_ENCAPSED_STRING","'module_test_modules_installed'",42],")",",",["T_WHITESPACE","\n      ",42],["T_CONSTANT_ENCAPSED_STRING","'The file module_test.module was successfully included.'",43],")",";",["T_WHITESPACE","\n\n    ",43],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","assertTrue",45],"(",["T_STRING","array_key_exists",45],"(",["T_CONSTANT_ENCAPSED_STRING","'module_test'",45],",",["T_WHITESPACE"," ",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Drupal",45],["T_DOUBLE_COLON","::",45],["T_STRING","moduleHandler",45],"(",")",["T_OBJECT_OPERATOR","->",45],["T_STRING","getModuleList",45],"(",")",")",",",["T_WHITESPACE","\n      ",45],["T_CONSTANT_ENCAPSED_STRING","'module_test is in the module list.'",46],")",";",["T_WHITESPACE","\n\n    ",46],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","assertTrue",48],"(",["T_STRING","in_array",48],"(",["T_CONSTANT_ENCAPSED_STRING","'module_test'",48],",",["T_WHITESPACE"," ",48],["T_NS_SEPARATOR","\\",48],["T_STRING","Drupal",48],["T_DOUBLE_COLON","::",48],["T_STRING","moduleHandler",48],"(",")",["T_OBJECT_OPERATOR","->",48],["T_STRING","getImplementations",48],"(",["T_CONSTANT_ENCAPSED_STRING","'modules_installed'",48],")",")",",",["T_WHITESPACE","\n      ",48],["T_CONSTANT_ENCAPSED_STRING","'module_test implements hook_modules_installed().'",49],")",";",["T_WHITESPACE","\n\n    ",49],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertTrue",51],"(",["T_STRING","in_array",51],"(",["T_CONSTANT_ENCAPSED_STRING","'module_test'",51],",",["T_WHITESPACE"," ",51],["T_NS_SEPARATOR","\\",51],["T_STRING","Drupal",51],["T_DOUBLE_COLON","::",51],["T_STRING","moduleHandler",51],"(",")",["T_OBJECT_OPERATOR","->",51],["T_STRING","getImplementations",51],"(",["T_CONSTANT_ENCAPSED_STRING","'module_implements_alter'",51],")",")",",",["T_WHITESPACE","\n      ",51],["T_CONSTANT_ENCAPSED_STRING","'module_test implements hook_module_implements_alter().'",52],")",";",["T_WHITESPACE","\n\n    ",52],["T_COMMENT","\/\/ Assert that module_test.implementations.inc is not included yet.\n",54],["T_WHITESPACE","    ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertFalse",55],"(",["T_STRING","function_exists",55],"(",["T_CONSTANT_ENCAPSED_STRING","'module_test_altered_test_hook'",55],")",",",["T_WHITESPACE","\n      ",55],["T_CONSTANT_ENCAPSED_STRING","'The file module_test.implementations.inc is not included yet.'",56],")",";",["T_WHITESPACE","\n\n    ",56],["T_COMMENT","\/\/ Trigger hook discovery for hook_altered_test_hook().\n",58],["T_WHITESPACE","    ",59],["T_COMMENT","\/\/ Assert that module_test_module_implements_alter(*, 'altered_test_hook')\n",59],["T_WHITESPACE","    ",60],["T_COMMENT","\/\/ has added an implementation.\n",60],["T_WHITESPACE","    ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","assertTrue",61],"(",["T_STRING","in_array",61],"(",["T_CONSTANT_ENCAPSED_STRING","'module_test'",61],",",["T_WHITESPACE"," ",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Drupal",61],["T_DOUBLE_COLON","::",61],["T_STRING","moduleHandler",61],"(",")",["T_OBJECT_OPERATOR","->",61],["T_STRING","getImplementations",61],"(",["T_CONSTANT_ENCAPSED_STRING","'altered_test_hook'",61],")",")",",",["T_WHITESPACE","\n      ",61],["T_CONSTANT_ENCAPSED_STRING","'module_test implements hook_altered_test_hook().'",62],")",";",["T_WHITESPACE","\n\n    ",62],["T_COMMENT","\/\/ Assert that module_test.implementations.inc was included as part of the process.\n",64],["T_WHITESPACE","    ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","assertTrue",65],"(",["T_STRING","function_exists",65],"(",["T_CONSTANT_ENCAPSED_STRING","'module_test_altered_test_hook'",65],")",",",["T_WHITESPACE","\n      ",65],["T_CONSTANT_ENCAPSED_STRING","'The file module_test.implementations.inc was included.'",66],")",";",["T_WHITESPACE","\n  ",66],"}",["T_WHITESPACE","\n\n  ",67],["T_DOC_COMMENT","\/**\n   * Tests what happens if hook_module_implements_alter() adds a non-existing\n   * function to the implementations.\n   *\n   * @see \\Drupal\\Core\\Extension\\ModuleHandler::buildImplementationInfo()\n   * @see module_test_module_implements_alter()\n   *\/",69],["T_WHITESPACE","\n  ",75],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","testModuleImplementsAlterNonExistingImplementation",76],"(",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n\n    ",76],["T_COMMENT","\/\/ Install the module_test module.\n",78],["T_WHITESPACE","    ",79],["T_NS_SEPARATOR","\\",79],["T_STRING","Drupal",79],["T_DOUBLE_COLON","::",79],["T_STRING","service",79],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",79],")",["T_OBJECT_OPERATOR","->",79],["T_STRING","install",79],"(",["T_ARRAY","array",79],"(",["T_CONSTANT_ENCAPSED_STRING","'module_test'",79],")",")",";",["T_WHITESPACE","\n\n    ",79],["T_TRY","try",81],["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n      ",81],["T_COMMENT","\/\/ Trigger hook discovery.\n",82],["T_WHITESPACE","      ",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Drupal",83],["T_DOUBLE_COLON","::",83],["T_STRING","moduleHandler",83],"(",")",["T_OBJECT_OPERATOR","->",83],["T_STRING","getImplementations",83],"(",["T_CONSTANT_ENCAPSED_STRING","'unimplemented_test_hook'",83],")",";",["T_WHITESPACE","\n      ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","fail",84],"(",["T_CONSTANT_ENCAPSED_STRING","'An exception should be thrown for the non-existing implementation.'",84],")",";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n    ",85],["T_CATCH","catch",86],["T_WHITESPACE"," ",86],"(",["T_NS_SEPARATOR","\\",86],["T_STRING","RuntimeException",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$e",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n      ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","pass",87],"(",["T_CONSTANT_ENCAPSED_STRING","'An exception should be thrown for the non-existing implementation.'",87],")",";",["T_WHITESPACE","\n      ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","assertEqual",88],"(",["T_VARIABLE","$e",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getMessage",88],"(",")",",",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'An invalid implementation module_test_unimplemented_test_hook was added by hook_module_implements_alter()'",88],")",";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n  ",89],"}",["T_WHITESPACE","\n\n",90],"}",["T_WHITESPACE","\n",92]]