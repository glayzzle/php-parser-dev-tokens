[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Config",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Unicode",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Config",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ConfigImporter",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Config",7],["T_NS_SEPARATOR","\\",7],["T_STRING","StorageComparer",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","KernelTests",8],["T_NS_SEPARATOR","\\",8],["T_STRING","KernelTestBase",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","node",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","NodeType",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Tests importing recreated configuration entities.\n *\n * @group config\n *\/",11],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","ConfigImportRecreateTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","KernelTestBase",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * Config Importer object used for testing.\n   *\n   * @var \\Drupal\\Core\\Config\\ConfigImporter\n   *\/",18],["T_WHITESPACE","\n  ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$configImporter",23],";",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",25],["T_WHITESPACE","\n  ",29],["T_PUBLIC","public",30],["T_WHITESPACE"," ",30],["T_STATIC","static",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$modules",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],"[",["T_CONSTANT_ENCAPSED_STRING","'system'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'field'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'text'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'user'",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'node'",30],"]",";",["T_WHITESPACE","\n\n  ",30],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","setUp",32],"(",")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n    ",32],["T_STRING","parent",33],["T_DOUBLE_COLON","::",33],["T_STRING","setUp",33],"(",")",";",["T_WHITESPACE","\n\n    ",33],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","installEntitySchema",35],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",35],")",";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","installConfig",36],"(",["T_ARRAY","array",36],"(",["T_CONSTANT_ENCAPSED_STRING","'field'",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'node'",36],")",")",";",["T_WHITESPACE","\n\n    ",36],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","copyConfig",38],"(",["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","container",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","get",38],"(",["T_CONSTANT_ENCAPSED_STRING","'config.storage'",38],")",",",["T_WHITESPACE"," ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","container",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","get",38],"(",["T_CONSTANT_ENCAPSED_STRING","'config.storage.sync'",38],")",")",";",["T_WHITESPACE","\n\n    ",38],["T_COMMENT","\/\/ Set up the ConfigImporter object for testing.\n",40],["T_WHITESPACE","    ",41],["T_VARIABLE","$storage_comparer",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_NEW","new",41],["T_WHITESPACE"," ",41],["T_STRING","StorageComparer",41],"(",["T_WHITESPACE","\n      ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","container",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","get",42],"(",["T_CONSTANT_ENCAPSED_STRING","'config.storage.sync'",42],")",",",["T_WHITESPACE","\n      ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","container",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","get",43],"(",["T_CONSTANT_ENCAPSED_STRING","'config.storage'",43],")",",",["T_WHITESPACE","\n      ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","container",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","get",44],"(",["T_CONSTANT_ENCAPSED_STRING","'config.manager'",44],")",["T_WHITESPACE","\n    ",44],")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","configImporter",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_NEW","new",46],["T_WHITESPACE"," ",46],["T_STRING","ConfigImporter",46],"(",["T_WHITESPACE","\n      ",46],["T_VARIABLE","$storage_comparer",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","createChangelist",47],"(",")",",",["T_WHITESPACE","\n      ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","container",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","get",48],"(",["T_CONSTANT_ENCAPSED_STRING","'event_dispatcher'",48],")",",",["T_WHITESPACE","\n      ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","container",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","get",49],"(",["T_CONSTANT_ENCAPSED_STRING","'config.manager'",49],")",",",["T_WHITESPACE","\n      ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","container",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","get",50],"(",["T_CONSTANT_ENCAPSED_STRING","'lock'",50],")",",",["T_WHITESPACE","\n      ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","container",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","get",51],"(",["T_CONSTANT_ENCAPSED_STRING","'config.typed'",51],")",",",["T_WHITESPACE","\n      ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","container",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","get",52],"(",["T_CONSTANT_ENCAPSED_STRING","'module_handler'",52],")",",",["T_WHITESPACE","\n      ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","container",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","get",53],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",53],")",",",["T_WHITESPACE","\n      ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","container",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","get",54],"(",["T_CONSTANT_ENCAPSED_STRING","'theme_handler'",54],")",",",["T_WHITESPACE","\n      ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","container",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","get",55],"(",["T_CONSTANT_ENCAPSED_STRING","'string_translation'",55],")",["T_WHITESPACE","\n    ",55],")",";",["T_WHITESPACE","\n  ",56],"}",["T_WHITESPACE","\n\n  ",57],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","testRecreateEntity",59],"(",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$type_name",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_STRING","Unicode",60],["T_DOUBLE_COLON","::",60],["T_STRING","strtolower",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","randomMachineName",60],"(",["T_LNUMBER","16",60],")",")",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$content_type",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","NodeType",61],["T_DOUBLE_COLON","::",61],["T_STRING","create",61],"(","[",["T_WHITESPACE","\n      ",61],["T_CONSTANT_ENCAPSED_STRING","'type'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$type_name",62],",",["T_WHITESPACE","\n      ",62],["T_CONSTANT_ENCAPSED_STRING","'name'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'Node type one'",63],",",["T_WHITESPACE","\n    ",63],"]",")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$content_type",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","save",65],"(",")",";",["T_WHITESPACE","\n    ",65],["T_STRING","node_add_body_field",66],"(",["T_VARIABLE","$content_type",66],")",";",["T_WHITESPACE","\n    ",66],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Config\\StorageInterface $active *\/",67],["T_WHITESPACE","\n    ",67],["T_VARIABLE","$active",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","container",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","get",68],"(",["T_CONSTANT_ENCAPSED_STRING","'config.storage'",68],")",";",["T_WHITESPACE","\n    ",68],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Config\\StorageInterface $sync *\/",69],["T_WHITESPACE","\n    ",69],["T_VARIABLE","$sync",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","container",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","get",70],"(",["T_CONSTANT_ENCAPSED_STRING","'config.storage.sync'",70],")",";",["T_WHITESPACE","\n\n    ",70],["T_VARIABLE","$config_name",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$content_type",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getEntityType",72],"(",")",["T_OBJECT_OPERATOR","->",72],["T_STRING","getConfigPrefix",72],"(",")",["T_WHITESPACE"," ",72],".",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'.'",72],["T_WHITESPACE"," ",72],".",["T_WHITESPACE"," ",72],["T_VARIABLE","$content_type",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","id",72],"(",")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","copyConfig",73],"(",["T_VARIABLE","$active",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$sync",73],")",";",["T_WHITESPACE","\n\n    ",73],["T_COMMENT","\/\/ Delete the content type. This will also delete a field storage, a field,\n",75],["T_WHITESPACE","    ",76],["T_COMMENT","\/\/ an entity view display and an entity form display.\n",76],["T_WHITESPACE","    ",77],["T_VARIABLE","$content_type",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","delete",77],"(",")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","assertFalse",78],"(",["T_VARIABLE","$active",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","exists",78],"(",["T_VARIABLE","$config_name",78],")",",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'Content type\\'s old name does not exist active store.'",78],")",";",["T_WHITESPACE","\n    ",78],["T_COMMENT","\/\/ Recreate with the same type - this will have a different UUID.\n",79],["T_WHITESPACE","    ",80],["T_VARIABLE","$content_type",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","NodeType",80],["T_DOUBLE_COLON","::",80],["T_STRING","create",80],"(","[",["T_WHITESPACE","\n      ",80],["T_CONSTANT_ENCAPSED_STRING","'type'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$type_name",81],",",["T_WHITESPACE","\n      ",81],["T_CONSTANT_ENCAPSED_STRING","'name'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'Node type two'",82],",",["T_WHITESPACE","\n    ",82],"]",")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$content_type",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","save",84],"(",")",";",["T_WHITESPACE","\n    ",84],["T_STRING","node_add_body_field",85],"(",["T_VARIABLE","$content_type",85],")",";",["T_WHITESPACE","\n\n    ",85],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","configImporter",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","reset",87],"(",")",";",["T_WHITESPACE","\n    ",87],["T_COMMENT","\/\/ A node type, a field, an entity view display and an entity form display\n",88],["T_WHITESPACE","    ",89],["T_COMMENT","\/\/ will be recreated.\n",89],["T_WHITESPACE","    ",90],["T_VARIABLE","$creates",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","configImporter",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getUnprocessedConfiguration",90],"(",["T_CONSTANT_ENCAPSED_STRING","'create'",90],")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$deletes",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","configImporter",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getUnprocessedConfiguration",91],"(",["T_CONSTANT_ENCAPSED_STRING","'delete'",91],")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertEqual",92],"(",["T_LNUMBER","5",92],",",["T_WHITESPACE"," ",92],["T_STRING","count",92],"(",["T_VARIABLE","$creates",92],")",",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'There are 5 configuration items to create.'",92],")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertEqual",93],"(",["T_LNUMBER","5",93],",",["T_WHITESPACE"," ",93],["T_STRING","count",93],"(",["T_VARIABLE","$deletes",93],")",",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'There are 5 configuration items to delete.'",93],")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertEqual",94],"(",["T_LNUMBER","0",94],",",["T_WHITESPACE"," ",94],["T_STRING","count",94],"(",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","configImporter",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getUnprocessedConfiguration",94],"(",["T_CONSTANT_ENCAPSED_STRING","'update'",94],")",")",",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'There are no configuration items to update.'",94],")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertIdentical",95],"(",["T_VARIABLE","$creates",95],",",["T_WHITESPACE"," ",95],["T_STRING","array_reverse",95],"(",["T_VARIABLE","$deletes",95],")",",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'Deletes and creates contain the same configuration names in opposite orders due to dependencies.'",95],")",";",["T_WHITESPACE","\n\n    ",95],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","configImporter",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","import",97],"(",")",";",["T_WHITESPACE","\n\n    ",97],["T_COMMENT","\/\/ Verify that there is nothing more to import.\n",99],["T_WHITESPACE","    ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertFalse",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","configImporter",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","reset",100],"(",")",["T_OBJECT_OPERATOR","->",100],["T_STRING","hasUnprocessedConfigurationChanges",100],"(",")",")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$content_type",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_STRING","NodeType",101],["T_DOUBLE_COLON","::",101],["T_STRING","load",101],"(",["T_VARIABLE","$type_name",101],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","assertEqual",102],"(",["T_CONSTANT_ENCAPSED_STRING","'Node type one'",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$content_type",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","label",102],"(",")",")",";",["T_WHITESPACE","\n  ",102],"}",["T_WHITESPACE","\n\n",103],"}",["T_WHITESPACE","\n",105]]