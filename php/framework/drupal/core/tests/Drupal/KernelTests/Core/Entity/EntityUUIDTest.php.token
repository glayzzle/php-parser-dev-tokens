[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Entity",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Tests creation, saving, and loading of entity UUIDs.\n *\n * @group Entity\n *\/",5],["T_WHITESPACE","\n",9],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","EntityUUIDTest",10],["T_WHITESPACE"," ",10],["T_EXTENDS","extends",10],["T_WHITESPACE"," ",10],["T_STRING","EntityKernelTestBase",10],["T_WHITESPACE"," ",10],"{",["T_WHITESPACE","\n\n  ",10],["T_PROTECTED","protected",12],["T_WHITESPACE"," ",12],["T_FUNCTION","function",12],["T_WHITESPACE"," ",12],["T_STRING","setUp",12],"(",")",["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n    ",12],["T_STRING","parent",13],["T_DOUBLE_COLON","::",13],["T_STRING","setUp",13],"(",")",";",["T_WHITESPACE","\n\n    ",13],["T_FOREACH","foreach",15],["T_WHITESPACE"," ",15],"(",["T_STRING","entity_test_entity_types",15],"(",")",["T_WHITESPACE"," ",15],["T_AS","as",15],["T_WHITESPACE"," ",15],["T_VARIABLE","$entity_type_id",15],")",["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n      ",15],["T_COMMENT","\/\/ The entity_test schema is installed by the parent.\n",16],["T_WHITESPACE","      ",17],["T_IF","if",17],["T_WHITESPACE"," ",17],"(",["T_VARIABLE","$entity_type_id",17],["T_WHITESPACE"," ",17],["T_IS_NOT_EQUAL","!=",17],["T_WHITESPACE"," ",17],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",17],")",["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n        ",17],["T_VARIABLE","$this",18],["T_OBJECT_OPERATOR","->",18],["T_STRING","installEntitySchema",18],"(",["T_VARIABLE","$entity_type_id",18],")",";",["T_WHITESPACE","\n      ",18],"}",["T_WHITESPACE","\n    ",19],"}",["T_WHITESPACE","\n  ",20],"}",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * Tests UUID generation in entity CRUD operations.\n   *\/",23],["T_WHITESPACE","\n  ",25],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","testCRUD",26],"(",")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n    ",26],["T_COMMENT","\/\/ All entity variations have to have the same results.\n",27],["T_WHITESPACE","    ",28],["T_FOREACH","foreach",28],["T_WHITESPACE"," ",28],"(",["T_STRING","entity_test_entity_types",28],"(",")",["T_WHITESPACE"," ",28],["T_AS","as",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$entity_type",28],")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n      ",28],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","assertCRUD",29],"(",["T_VARIABLE","$entity_type",29],")",";",["T_WHITESPACE","\n    ",29],"}",["T_WHITESPACE","\n  ",30],"}",["T_WHITESPACE","\n\n  ",31],["T_DOC_COMMENT","\/**\n   * Executes the UUID CRUD tests for the given entity type.\n   *\n   * @param string $entity_type\n   *   The entity type to run the tests with.\n   *\/",33],["T_WHITESPACE","\n  ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","assertCRUD",39],"(",["T_VARIABLE","$entity_type",39],")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n    ",39],["T_COMMENT","\/\/ Verify that no UUID is auto-generated when passing one for creation.\n",40],["T_WHITESPACE","    ",41],["T_VARIABLE","$uuid_service",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","container",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","get",41],"(",["T_CONSTANT_ENCAPSED_STRING","'uuid'",41],")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$uuid",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$uuid_service",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","generate",42],"(",")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$custom_entity",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","container",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","get",43],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",43],")",["T_WHITESPACE","\n      ",43],["T_OBJECT_OPERATOR","->",44],["T_STRING","getStorage",44],"(",["T_VARIABLE","$entity_type",44],")",["T_WHITESPACE","\n      ",44],["T_OBJECT_OPERATOR","->",45],["T_STRING","create",45],"(",["T_ARRAY","array",45],"(",["T_WHITESPACE","\n        ",45],["T_CONSTANT_ENCAPSED_STRING","'name'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","randomMachineName",46],"(",")",",",["T_WHITESPACE","\n        ",46],["T_CONSTANT_ENCAPSED_STRING","'uuid'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$uuid",47],",",["T_WHITESPACE","\n      ",47],")",")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertIdentical",49],"(",["T_VARIABLE","$custom_entity",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","uuid",49],"(",")",",",["T_WHITESPACE"," ",49],["T_VARIABLE","$uuid",49],")",";",["T_WHITESPACE","\n    ",49],["T_COMMENT","\/\/ Save this entity, so we have more than one later.\n",50],["T_WHITESPACE","    ",51],["T_VARIABLE","$custom_entity",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","save",51],"(",")",";",["T_WHITESPACE","\n\n    ",51],["T_COMMENT","\/\/ Verify that a new UUID is generated upon creating an entity.\n",53],["T_WHITESPACE","    ",54],["T_VARIABLE","$entity",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","container",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","get",54],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",54],")",["T_WHITESPACE","\n      ",54],["T_OBJECT_OPERATOR","->",55],["T_STRING","getStorage",55],"(",["T_VARIABLE","$entity_type",55],")",["T_WHITESPACE","\n      ",55],["T_OBJECT_OPERATOR","->",56],["T_STRING","create",56],"(",["T_ARRAY","array",56],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","randomMachineName",56],"(",")",")",")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$uuid",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$entity",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","uuid",57],"(",")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","assertTrue",58],"(",["T_VARIABLE","$uuid",58],")",";",["T_WHITESPACE","\n\n    ",58],["T_COMMENT","\/\/ Verify that the new UUID is different.\n",60],["T_WHITESPACE","    ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","assertNotEqual",61],"(",["T_VARIABLE","$custom_entity",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","uuid",61],"(",")",",",["T_WHITESPACE"," ",61],["T_VARIABLE","$uuid",61],")",";",["T_WHITESPACE","\n\n    ",61],["T_COMMENT","\/\/ Verify that the UUID is retained upon saving.\n",63],["T_WHITESPACE","    ",64],["T_VARIABLE","$entity",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","save",64],"(",")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","assertIdentical",65],"(",["T_VARIABLE","$entity",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","uuid",65],"(",")",",",["T_WHITESPACE"," ",65],["T_VARIABLE","$uuid",65],")",";",["T_WHITESPACE","\n\n    ",65],["T_COMMENT","\/\/ Verify that the UUID is retained upon loading.\n",67],["T_WHITESPACE","    ",68],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Entity\\EntityStorageInterface $storage *\/",68],["T_WHITESPACE","\n    ",68],["T_VARIABLE","$storage",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","container",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","get",69],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",69],")",["T_WHITESPACE","\n      ",69],["T_OBJECT_OPERATOR","->",70],["T_STRING","getStorage",70],"(",["T_VARIABLE","$entity_type",70],")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$storage",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","resetCache",71],"(","[",["T_VARIABLE","$entity",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","id",71],"(",")","]",")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$entity_loaded",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$storage",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","load",72],"(",["T_VARIABLE","$entity",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","id",72],"(",")",")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertIdentical",73],"(",["T_VARIABLE","$entity_loaded",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","uuid",73],"(",")",",",["T_WHITESPACE"," ",73],["T_VARIABLE","$uuid",73],")",";",["T_WHITESPACE","\n\n    ",73],["T_COMMENT","\/\/ Verify that \\Drupal::entityManager()->loadEntityByUuid() loads the same entity.\n",75],["T_WHITESPACE","    ",76],["T_VARIABLE","$entity_loaded_by_uuid",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Drupal",76],["T_DOUBLE_COLON","::",76],["T_STRING","entityManager",76],"(",")",["T_OBJECT_OPERATOR","->",76],["T_STRING","loadEntityByUuid",76],"(",["T_VARIABLE","$entity_type",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$uuid",76],",",["T_WHITESPACE"," ",76],["T_STRING","TRUE",76],")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assertIdentical",77],"(",["T_VARIABLE","$entity_loaded_by_uuid",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","uuid",77],"(",")",",",["T_WHITESPACE"," ",77],["T_VARIABLE","$uuid",77],")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","assertEqual",78],"(",["T_VARIABLE","$entity_loaded_by_uuid",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","id",78],"(",")",",",["T_WHITESPACE"," ",78],["T_VARIABLE","$entity_loaded",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","id",78],"(",")",")",";",["T_WHITESPACE","\n\n    ",78],["T_COMMENT","\/\/ Creating a duplicate needs to result in a new UUID.\n",80],["T_WHITESPACE","    ",81],["T_VARIABLE","$entity_duplicate",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$entity",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","createDuplicate",81],"(",")",";",["T_WHITESPACE","\n    ",81],["T_FOREACH","foreach",82],["T_WHITESPACE"," ",82],"(",["T_VARIABLE","$entity",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getFields",82],"(",")",["T_WHITESPACE"," ",82],["T_AS","as",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$property",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$value",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n      ",82],["T_SWITCH","switch",83],["T_WHITESPACE"," ",83],"(",["T_VARIABLE","$property",83],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n        ",83],["T_CASE","case",84],["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'uuid'",84],":",["T_WHITESPACE","\n          ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertNotNull",85],"(",["T_VARIABLE","$entity_duplicate",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","uuid",85],"(",")",")",";",["T_WHITESPACE","\n          ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertNotNull",86],"(",["T_VARIABLE","$entity",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","uuid",86],"(",")",")",";",["T_WHITESPACE","\n          ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","assertNotEqual",87],"(",["T_VARIABLE","$entity_duplicate",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","uuid",87],"(",")",",",["T_WHITESPACE"," ",87],["T_VARIABLE","$entity",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","uuid",87],"(",")",")",";",["T_WHITESPACE","\n          ",87],["T_BREAK","break",88],";",["T_WHITESPACE","\n        ",88],["T_CASE","case",89],["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'id'",89],":",["T_WHITESPACE","\n          ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertNull",90],"(",["T_VARIABLE","$entity_duplicate",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","id",90],"(",")",")",";",["T_WHITESPACE","\n          ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","assertNotNull",91],"(",["T_VARIABLE","$entity",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","id",91],"(",")",")",";",["T_WHITESPACE","\n          ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertNotEqual",92],"(",["T_VARIABLE","$entity_duplicate",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","id",92],"(",")",",",["T_WHITESPACE"," ",92],["T_VARIABLE","$entity",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","id",92],"(",")",")",";",["T_WHITESPACE","\n          ",92],["T_BREAK","break",93],";",["T_WHITESPACE","\n        ",93],["T_CASE","case",94],["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'revision_id'",94],":",["T_WHITESPACE","\n          ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertNull",95],"(",["T_VARIABLE","$entity_duplicate",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getRevisionId",95],"(",")",")",";",["T_WHITESPACE","\n          ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","assertNotNull",96],"(",["T_VARIABLE","$entity",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getRevisionId",96],"(",")",")",";",["T_WHITESPACE","\n          ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","assertNotEqual",97],"(",["T_VARIABLE","$entity_duplicate",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getRevisionId",97],"(",")",",",["T_WHITESPACE"," ",97],["T_VARIABLE","$entity",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getRevisionId",97],"(",")",")",";",["T_WHITESPACE","\n          ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","assertNotEqual",98],"(",["T_VARIABLE","$entity_duplicate",98],["T_OBJECT_OPERATOR","->",98],"{",["T_VARIABLE","$property",98],"}",["T_OBJECT_OPERATOR","->",98],["T_STRING","getValue",98],"(",")",",",["T_WHITESPACE"," ",98],["T_VARIABLE","$entity",98],["T_OBJECT_OPERATOR","->",98],"{",["T_VARIABLE","$property",98],"}",["T_OBJECT_OPERATOR","->",98],["T_STRING","getValue",98],"(",")",")",";",["T_WHITESPACE","\n          ",98],["T_BREAK","break",99],";",["T_WHITESPACE","\n        ",99],["T_DEFAULT","default",100],":",["T_WHITESPACE","\n          ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertEqual",101],"(",["T_VARIABLE","$entity_duplicate",101],["T_OBJECT_OPERATOR","->",101],"{",["T_VARIABLE","$property",101],"}",["T_OBJECT_OPERATOR","->",101],["T_STRING","getValue",101],"(",")",",",["T_WHITESPACE"," ",101],["T_VARIABLE","$entity",101],["T_OBJECT_OPERATOR","->",101],"{",["T_VARIABLE","$property",101],"}",["T_OBJECT_OPERATOR","->",101],["T_STRING","getValue",101],"(",")",")",";",["T_WHITESPACE","\n      ",101],"}",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$entity_duplicate",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","save",104],"(",")",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertNotEqual",105],"(",["T_VARIABLE","$entity",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","id",105],"(",")",",",["T_WHITESPACE"," ",105],["T_VARIABLE","$entity_duplicate",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","id",105],"(",")",")",";",["T_WHITESPACE","\n  ",105],"}",["T_WHITESPACE","\n\n",106],"}",["T_WHITESPACE","\n",108]]