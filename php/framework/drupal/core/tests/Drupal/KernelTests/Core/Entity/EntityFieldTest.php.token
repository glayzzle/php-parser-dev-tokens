[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Entity",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","EntityInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","TypedData",6],["T_NS_SEPARATOR","\\",6],["T_STRING","EntityDataDefinition",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","TypedData",7],["T_NS_SEPARATOR","\\",7],["T_STRING","EntityDataDefinitionInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Field",8],["T_NS_SEPARATOR","\\",8],["T_STRING","BaseFieldDefinition",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Field",9],["T_NS_SEPARATOR","\\",9],["T_STRING","FieldDefinitionInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Field",10],["T_NS_SEPARATOR","\\",10],["T_STRING","FieldItemInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Field",11],["T_NS_SEPARATOR","\\",11],["T_STRING","FieldItemListInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","TypedData",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ComplexDataDefinitionInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Core",13],["T_NS_SEPARATOR","\\",13],["T_STRING","TypedData",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ComplexDataInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Drupal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Core",14],["T_NS_SEPARATOR","\\",14],["T_STRING","TypedData",14],["T_NS_SEPARATOR","\\",14],["T_STRING","DataDefinitionInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Drupal",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Core",15],["T_NS_SEPARATOR","\\",15],["T_STRING","TypedData",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ListInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Drupal",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Core",16],["T_NS_SEPARATOR","\\",16],["T_STRING","TypedData",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Type",16],["T_NS_SEPARATOR","\\",16],["T_STRING","StringInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Drupal",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Core",17],["T_NS_SEPARATOR","\\",17],["T_STRING","TypedData",17],["T_NS_SEPARATOR","\\",17],["T_STRING","TypedDataInterface",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Drupal",18],["T_NS_SEPARATOR","\\",18],["T_STRING","node",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Entity",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Node",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Drupal",19],["T_NS_SEPARATOR","\\",19],["T_STRING","node",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Entity",19],["T_NS_SEPARATOR","\\",19],["T_STRING","NodeType",19],";",["T_WHITESPACE","\n\n",19],["T_DOC_COMMENT","\/**\n * Tests the Entity Field API.\n *\n * @group Entity\n *\/",21],["T_WHITESPACE","\n",25],["T_CLASS","class",26],["T_WHITESPACE"," ",26],["T_STRING","EntityFieldTest",26],["T_WHITESPACE"," ",26],["T_EXTENDS","extends",26],["T_WHITESPACE"," ",26],["T_STRING","EntityKernelTestBase",26],["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",28],["T_WHITESPACE","\n  ",32],["T_PUBLIC","public",33],["T_WHITESPACE"," ",33],["T_STATIC","static",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$modules",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_ARRAY","array",33],"(",["T_CONSTANT_ENCAPSED_STRING","'filter'",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'text'",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'node'",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'user'",33],",",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'field_test'",33],")",";",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * @var string\n   *\/",35],["T_WHITESPACE","\n  ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$entityName",38],";",["T_WHITESPACE","\n\n  ",38],["T_DOC_COMMENT","\/**\n   * @var \\Drupal\\user\\Entity\\User\n   *\/",40],["T_WHITESPACE","\n  ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$entityUser",43],";",["T_WHITESPACE","\n\n  ",43],["T_DOC_COMMENT","\/**\n   * @var string\n   *\/",45],["T_WHITESPACE","\n  ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$entityFieldText",48],";",["T_WHITESPACE","\n\n  ",48],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","setUp",50],"(",")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n    ",50],["T_STRING","parent",51],["T_DOUBLE_COLON","::",51],["T_STRING","setUp",51],"(",")",";",["T_WHITESPACE","\n\n    ",51],["T_FOREACH","foreach",53],["T_WHITESPACE"," ",53],"(",["T_STRING","entity_test_entity_types",53],"(",")",["T_WHITESPACE"," ",53],["T_AS","as",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$entity_type_id",53],")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n      ",53],["T_COMMENT","\/\/ The entity_test schema is installed by the parent.\n",54],["T_WHITESPACE","      ",55],["T_IF","if",55],["T_WHITESPACE"," ",55],"(",["T_VARIABLE","$entity_type_id",55],["T_WHITESPACE"," ",55],["T_IS_NOT_EQUAL","!=",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","installEntitySchema",56],"(",["T_VARIABLE","$entity_type_id",56],")",";",["T_WHITESPACE","\n      ",56],"}",["T_WHITESPACE","\n    ",57],"}",["T_WHITESPACE","\n\n    ",58],["T_COMMENT","\/\/ Create the test field.\n",60],["T_WHITESPACE","    ",61],["T_STRING","module_load_install",61],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",61],")",";",["T_WHITESPACE","\n    ",61],["T_STRING","entity_test_install",62],"(",")",";",["T_WHITESPACE","\n\n    ",62],["T_COMMENT","\/\/ Install required default configuration for filter module.\n",64],["T_WHITESPACE","    ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","installConfig",65],"(",["T_ARRAY","array",65],"(",["T_CONSTANT_ENCAPSED_STRING","'system'",65],",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'filter'",65],")",")",";",["T_WHITESPACE","\n  ",65],"}",["T_WHITESPACE","\n\n  ",66],["T_DOC_COMMENT","\/**\n   * Creates a test entity.\n   *\n   * @return \\Drupal\\Core\\Entity\\EntityInterface\n   *\/",68],["T_WHITESPACE","\n  ",72],["T_PROTECTED","protected",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","createTestEntity",73],"(",["T_VARIABLE","$entity_type",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","entityName",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","randomMachineName",74],"(",")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","entityUser",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","createUser",75],"(",")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","entityFieldText",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","randomMachineName",76],"(",")",";",["T_WHITESPACE","\n\n    ",76],["T_COMMENT","\/\/ Pass in the value of the name field when creating. With the user\n",78],["T_WHITESPACE","    ",79],["T_COMMENT","\/\/ field we test setting a field after creation.\n",79],["T_WHITESPACE","    ",80],["T_VARIABLE","$entity",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","container",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","get",80],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",80],")",["T_WHITESPACE","\n      ",80],["T_OBJECT_OPERATOR","->",81],["T_STRING","getStorage",81],"(",["T_VARIABLE","$entity_type",81],")",["T_WHITESPACE","\n      ",81],["T_OBJECT_OPERATOR","->",82],["T_STRING","create",82],"(",")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$entity",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","user_id",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","target_id",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","entityUser",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","id",83],"(",")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$entity",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","name",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","value",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","entityName",84],";",["T_WHITESPACE","\n\n    ",84],["T_COMMENT","\/\/ Set a value for the test field.\n",86],["T_WHITESPACE","    ",87],["T_VARIABLE","$entity",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","field_test_text",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","value",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","entityFieldText",87],";",["T_WHITESPACE","\n\n    ",87],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$entity",89],";",["T_WHITESPACE","\n  ",89],"}",["T_WHITESPACE","\n\n  ",90],["T_DOC_COMMENT","\/**\n   * Tests reading and writing properties and field items.\n   *\/",92],["T_WHITESPACE","\n  ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","testReadWrite",95],"(",")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n    ",95],["T_COMMENT","\/\/ All entity variations have to have the same results.\n",96],["T_WHITESPACE","    ",97],["T_FOREACH","foreach",97],["T_WHITESPACE"," ",97],"(",["T_STRING","entity_test_entity_types",97],"(",")",["T_WHITESPACE"," ",97],["T_AS","as",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$entity_type",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n      ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","doTestReadWrite",98],"(",["T_VARIABLE","$entity_type",98],")",";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n  ",99],"}",["T_WHITESPACE","\n\n  ",100],["T_DOC_COMMENT","\/**\n   * Executes the read write test set for a defined entity type.\n   *\n   * @param string $entity_type\n   *   The entity type to run the tests with.\n   *\/",102],["T_WHITESPACE","\n  ",107],["T_PROTECTED","protected",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","doTestReadWrite",108],"(",["T_VARIABLE","$entity_type",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$entity",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","createTestEntity",109],"(",["T_VARIABLE","$entity_type",109],")",";",["T_WHITESPACE","\n\n    ",109],["T_VARIABLE","$langcode",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'en'",111],";",["T_WHITESPACE","\n\n    ",111],["T_COMMENT","\/\/ Access the name field.\n",113],["T_WHITESPACE","    ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","assertTrue",114],"(",["T_VARIABLE","$entity",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","name",114],["T_WHITESPACE"," ",114],["T_INSTANCEOF","instanceof",114],["T_WHITESPACE"," ",114],["T_STRING","FieldItemListInterface",114],",",["T_WHITESPACE"," ",114],["T_STRING","format_string",114],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Field implements interface'",114],",",["T_WHITESPACE"," ",114],["T_ARRAY","array",114],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$entity_type",114],")",")",")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","assertTrue",115],"(",["T_VARIABLE","$entity",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","name",115],"[",["T_LNUMBER","0",115],"]",["T_WHITESPACE"," ",115],["T_INSTANCEOF","instanceof",115],["T_WHITESPACE"," ",115],["T_STRING","FieldItemInterface",115],",",["T_WHITESPACE"," ",115],["T_STRING","format_string",115],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Field item implements interface'",115],",",["T_WHITESPACE"," ",115],["T_ARRAY","array",115],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$entity_type",115],")",")",")",";",["T_WHITESPACE","\n\n    ",115],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","assertEqual",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","entityName",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$entity",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","name",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","value",117],",",["T_WHITESPACE"," ",117],["T_STRING","format_string",117],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name value can be read.'",117],",",["T_WHITESPACE"," ",117],["T_ARRAY","array",117],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$entity_type",117],")",")",")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","assertEqual",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","entityName",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$entity",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","name",118],"[",["T_LNUMBER","0",118],"]",["T_OBJECT_OPERATOR","->",118],["T_STRING","value",118],",",["T_WHITESPACE"," ",118],["T_STRING","format_string",118],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name value can be read through list access.'",118],",",["T_WHITESPACE"," ",118],["T_ARRAY","array",118],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$entity_type",118],")",")",")",";",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertEqual",119],"(",["T_VARIABLE","$entity",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","name",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getValue",119],"(",")",",",["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",["T_LNUMBER","0",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","entityName",119],")",")",",",["T_WHITESPACE"," ",119],["T_STRING","format_string",119],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Plain field value returned.'",119],",",["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$entity_type",119],")",")",")",";",["T_WHITESPACE","\n\n    ",119],["T_COMMENT","\/\/ Change the name.\n",121],["T_WHITESPACE","    ",122],["T_VARIABLE","$new_name",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","randomMachineName",122],"(",")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$entity",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","name",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","value",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$new_name",123],";",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","assertEqual",124],"(",["T_VARIABLE","$new_name",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$entity",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","name",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","value",124],",",["T_WHITESPACE"," ",124],["T_STRING","format_string",124],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name can be updated and read.'",124],",",["T_WHITESPACE"," ",124],["T_ARRAY","array",124],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$entity_type",124],")",")",")",";",["T_WHITESPACE","\n    ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertEqual",125],"(",["T_VARIABLE","$entity",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","name",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getValue",125],"(",")",",",["T_WHITESPACE"," ",125],["T_ARRAY","array",125],"(",["T_LNUMBER","0",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_ARRAY","array",125],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$new_name",125],")",")",",",["T_WHITESPACE"," ",125],["T_STRING","format_string",125],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Plain field value reflects the update.'",125],",",["T_WHITESPACE"," ",125],["T_ARRAY","array",125],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$entity_type",125],")",")",")",";",["T_WHITESPACE","\n\n    ",125],["T_VARIABLE","$new_name",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","randomMachineName",127],"(",")",";",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$entity",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","name",128],"[",["T_LNUMBER","0",128],"]",["T_OBJECT_OPERATOR","->",128],["T_STRING","value",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$new_name",128],";",["T_WHITESPACE","\n    ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","assertEqual",129],"(",["T_VARIABLE","$new_name",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$entity",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","name",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","value",129],",",["T_WHITESPACE"," ",129],["T_STRING","format_string",129],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name can be updated and read through list access.'",129],",",["T_WHITESPACE"," ",129],["T_ARRAY","array",129],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$entity_type",129],")",")",")",";",["T_WHITESPACE","\n\n    ",129],["T_COMMENT","\/\/ Access the user field.\n",131],["T_WHITESPACE","    ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","assertTrue",132],"(",["T_VARIABLE","$entity",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","user_id",132],["T_WHITESPACE"," ",132],["T_INSTANCEOF","instanceof",132],["T_WHITESPACE"," ",132],["T_STRING","FieldItemListInterface",132],",",["T_WHITESPACE"," ",132],["T_STRING","format_string",132],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Field implements interface'",132],",",["T_WHITESPACE"," ",132],["T_ARRAY","array",132],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$entity_type",132],")",")",")",";",["T_WHITESPACE","\n    ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","assertTrue",133],"(",["T_VARIABLE","$entity",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","user_id",133],"[",["T_LNUMBER","0",133],"]",["T_WHITESPACE"," ",133],["T_INSTANCEOF","instanceof",133],["T_WHITESPACE"," ",133],["T_STRING","FieldItemInterface",133],",",["T_WHITESPACE"," ",133],["T_STRING","format_string",133],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Field item implements interface'",133],",",["T_WHITESPACE"," ",133],["T_ARRAY","array",133],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$entity_type",133],")",")",")",";",["T_WHITESPACE","\n\n    ",133],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","assertEqual",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","entityUser",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","id",135],"(",")",",",["T_WHITESPACE"," ",135],["T_VARIABLE","$entity",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","user_id",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","target_id",135],",",["T_WHITESPACE"," ",135],["T_STRING","format_string",135],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: User id can be read.'",135],",",["T_WHITESPACE"," ",135],["T_ARRAY","array",135],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$entity_type",135],")",")",")",";",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","assertEqual",136],"(",["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","entityUser",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getUsername",136],"(",")",",",["T_WHITESPACE"," ",136],["T_VARIABLE","$entity",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","user_id",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","entity",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","name",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","value",136],",",["T_WHITESPACE"," ",136],["T_STRING","format_string",136],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: User name can be read.'",136],",",["T_WHITESPACE"," ",136],["T_ARRAY","array",136],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$entity_type",136],")",")",")",";",["T_WHITESPACE","\n\n    ",136],["T_COMMENT","\/\/ Change the assigned user by entity.\n",138],["T_WHITESPACE","    ",139],["T_VARIABLE","$new_user1",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","createUser",139],"(",")",";",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$entity",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","user_id",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","entity",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$new_user1",140],";",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","assertEqual",141],"(",["T_VARIABLE","$new_user1",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","id",141],"(",")",",",["T_WHITESPACE"," ",141],["T_VARIABLE","$entity",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","user_id",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","target_id",141],",",["T_WHITESPACE"," ",141],["T_STRING","format_string",141],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Updated user id can be read.'",141],",",["T_WHITESPACE"," ",141],["T_ARRAY","array",141],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$entity_type",141],")",")",")",";",["T_WHITESPACE","\n    ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","assertEqual",142],"(",["T_VARIABLE","$new_user1",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getUsername",142],"(",")",",",["T_WHITESPACE"," ",142],["T_VARIABLE","$entity",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","user_id",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","entity",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","name",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","value",142],",",["T_WHITESPACE"," ",142],["T_STRING","format_string",142],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Updated username value can be read.'",142],",",["T_WHITESPACE"," ",142],["T_ARRAY","array",142],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$entity_type",142],")",")",")",";",["T_WHITESPACE","\n\n    ",142],["T_COMMENT","\/\/ Change the assigned user by id.\n",144],["T_WHITESPACE","    ",145],["T_VARIABLE","$new_user2",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","createUser",145],"(",")",";",["T_WHITESPACE","\n    ",145],["T_VARIABLE","$entity",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","user_id",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","target_id",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$new_user2",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","id",146],"(",")",";",["T_WHITESPACE","\n    ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","assertEqual",147],"(",["T_VARIABLE","$new_user2",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","id",147],"(",")",",",["T_WHITESPACE"," ",147],["T_VARIABLE","$entity",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","user_id",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","target_id",147],",",["T_WHITESPACE"," ",147],["T_STRING","format_string",147],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Updated user id can be read.'",147],",",["T_WHITESPACE"," ",147],["T_ARRAY","array",147],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$entity_type",147],")",")",")",";",["T_WHITESPACE","\n    ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","assertEqual",148],"(",["T_VARIABLE","$new_user2",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getUsername",148],"(",")",",",["T_WHITESPACE"," ",148],["T_VARIABLE","$entity",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","user_id",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","entity",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","name",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","value",148],",",["T_WHITESPACE"," ",148],["T_STRING","format_string",148],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Updated username value can be read.'",148],",",["T_WHITESPACE"," ",148],["T_ARRAY","array",148],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$entity_type",148],")",")",")",";",["T_WHITESPACE","\n\n    ",148],["T_COMMENT","\/\/ Try unsetting a field property.\n",150],["T_WHITESPACE","    ",151],["T_VARIABLE","$entity",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","name",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","value",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","NULL",151],";",["T_WHITESPACE","\n    ",151],["T_VARIABLE","$entity",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","user_id",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","target_id",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_STRING","NULL",152],";",["T_WHITESPACE","\n    ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","assertNull",153],"(",["T_VARIABLE","$entity",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","name",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","value",153],",",["T_WHITESPACE"," ",153],["T_STRING","format_string",153],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name field is not set.'",153],",",["T_WHITESPACE"," ",153],["T_ARRAY","array",153],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$entity_type",153],")",")",")",";",["T_WHITESPACE","\n    ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","assertNull",154],"(",["T_VARIABLE","$entity",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","user_id",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","target_id",154],",",["T_WHITESPACE"," ",154],["T_STRING","format_string",154],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: User ID field is not set.'",154],",",["T_WHITESPACE"," ",154],["T_ARRAY","array",154],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",154],["T_WHITESPACE"," ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$entity_type",154],")",")",")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","assertNull",155],"(",["T_VARIABLE","$entity",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","user_id",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","entity",155],",",["T_WHITESPACE"," ",155],["T_STRING","format_string",155],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: User entity field is not set.'",155],",",["T_WHITESPACE"," ",155],["T_ARRAY","array",155],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$entity_type",155],")",")",")",";",["T_WHITESPACE","\n\n    ",155],["T_COMMENT","\/\/ Test setting the values via the typed data API works as well.\n",157],["T_WHITESPACE","    ",158],["T_COMMENT","\/\/ Change the assigned user by entity.\n",158],["T_WHITESPACE","    ",159],["T_VARIABLE","$entity",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","user_id",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","first",159],"(",")",["T_OBJECT_OPERATOR","->",159],["T_STRING","get",159],"(",["T_CONSTANT_ENCAPSED_STRING","'entity'",159],")",["T_OBJECT_OPERATOR","->",159],["T_STRING","setValue",159],"(",["T_VARIABLE","$new_user2",159],")",";",["T_WHITESPACE","\n    ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","assertEqual",160],"(",["T_VARIABLE","$new_user2",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","id",160],"(",")",",",["T_WHITESPACE"," ",160],["T_VARIABLE","$entity",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","user_id",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","target_id",160],",",["T_WHITESPACE"," ",160],["T_STRING","format_string",160],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Updated user id can be read.'",160],",",["T_WHITESPACE"," ",160],["T_ARRAY","array",160],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$entity_type",160],")",")",")",";",["T_WHITESPACE","\n    ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","assertEqual",161],"(",["T_VARIABLE","$new_user2",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getUsername",161],"(",")",",",["T_WHITESPACE"," ",161],["T_VARIABLE","$entity",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","user_id",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","entity",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","name",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","value",161],",",["T_WHITESPACE"," ",161],["T_STRING","format_string",161],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Updated user name value can be read.'",161],",",["T_WHITESPACE"," ",161],["T_ARRAY","array",161],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$entity_type",161],")",")",")",";",["T_WHITESPACE","\n\n    ",161],["T_COMMENT","\/\/ Change the assigned user by id.\n",163],["T_WHITESPACE","    ",164],["T_VARIABLE","$entity",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","user_id",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","first",164],"(",")",["T_OBJECT_OPERATOR","->",164],["T_STRING","get",164],"(",["T_CONSTANT_ENCAPSED_STRING","'target_id'",164],")",["T_OBJECT_OPERATOR","->",164],["T_STRING","setValue",164],"(",["T_VARIABLE","$new_user2",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","id",164],"(",")",")",";",["T_WHITESPACE","\n    ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","assertEqual",165],"(",["T_VARIABLE","$new_user2",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","id",165],"(",")",",",["T_WHITESPACE"," ",165],["T_VARIABLE","$entity",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","user_id",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","target_id",165],",",["T_WHITESPACE"," ",165],["T_STRING","format_string",165],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Updated user id can be read.'",165],",",["T_WHITESPACE"," ",165],["T_ARRAY","array",165],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$entity_type",165],")",")",")",";",["T_WHITESPACE","\n    ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","assertEqual",166],"(",["T_VARIABLE","$new_user2",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getUsername",166],"(",")",",",["T_WHITESPACE"," ",166],["T_VARIABLE","$entity",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","user_id",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","entity",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","name",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","value",166],",",["T_WHITESPACE"," ",166],["T_STRING","format_string",166],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Updated user name value can be read.'",166],",",["T_WHITESPACE"," ",166],["T_ARRAY","array",166],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$entity_type",166],")",")",")",";",["T_WHITESPACE","\n\n    ",166],["T_COMMENT","\/\/ Try unsetting a field.\n",168],["T_WHITESPACE","    ",169],["T_VARIABLE","$entity",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","name",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","first",169],"(",")",["T_OBJECT_OPERATOR","->",169],["T_STRING","get",169],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",169],")",["T_OBJECT_OPERATOR","->",169],["T_STRING","setValue",169],"(",["T_STRING","NULL",169],")",";",["T_WHITESPACE","\n    ",169],["T_VARIABLE","$entity",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","user_id",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","first",170],"(",")",["T_OBJECT_OPERATOR","->",170],["T_STRING","get",170],"(",["T_CONSTANT_ENCAPSED_STRING","'target_id'",170],")",["T_OBJECT_OPERATOR","->",170],["T_STRING","setValue",170],"(",["T_STRING","NULL",170],")",";",["T_WHITESPACE","\n    ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","assertNull",171],"(",["T_VARIABLE","$entity",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","name",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","value",171],",",["T_WHITESPACE"," ",171],["T_STRING","format_string",171],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name field is not set.'",171],",",["T_WHITESPACE"," ",171],["T_ARRAY","array",171],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$entity_type",171],")",")",")",";",["T_WHITESPACE","\n    ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","assertNull",172],"(",["T_VARIABLE","$entity",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","user_id",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","target_id",172],",",["T_WHITESPACE"," ",172],["T_STRING","format_string",172],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: User ID field is not set.'",172],",",["T_WHITESPACE"," ",172],["T_ARRAY","array",172],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$entity_type",172],")",")",")",";",["T_WHITESPACE","\n    ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","assertNull",173],"(",["T_VARIABLE","$entity",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","user_id",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","entity",173],",",["T_WHITESPACE"," ",173],["T_STRING","format_string",173],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: User entity field is not set.'",173],",",["T_WHITESPACE"," ",173],["T_ARRAY","array",173],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$entity_type",173],")",")",")",";",["T_WHITESPACE","\n\n    ",173],["T_COMMENT","\/\/ Create a fresh entity so target_id does not get its property object\n",175],["T_WHITESPACE","    ",176],["T_COMMENT","\/\/ instantiated, then verify setting a new value via typed data API works.\n",176],["T_WHITESPACE","    ",177],["T_VARIABLE","$entity2",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","container",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","get",177],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",177],")",["T_WHITESPACE","\n      ",177],["T_OBJECT_OPERATOR","->",178],["T_STRING","getStorage",178],"(",["T_VARIABLE","$entity_type",178],")",["T_WHITESPACE","\n      ",178],["T_OBJECT_OPERATOR","->",179],["T_STRING","create",179],"(",["T_ARRAY","array",179],"(",["T_WHITESPACE","\n        ",179],["T_CONSTANT_ENCAPSED_STRING","'user_id'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_ARRAY","array",180],"(",["T_CONSTANT_ENCAPSED_STRING","'target_id'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$new_user1",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","id",180],"(",")",")",",",["T_WHITESPACE","\n      ",180],")",")",";",["T_WHITESPACE","\n    ",181],["T_COMMENT","\/\/ Access the property object, and set a value.\n",182],["T_WHITESPACE","    ",183],["T_VARIABLE","$entity2",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","user_id",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","first",183],"(",")",["T_OBJECT_OPERATOR","->",183],["T_STRING","get",183],"(",["T_CONSTANT_ENCAPSED_STRING","'target_id'",183],")",["T_OBJECT_OPERATOR","->",183],["T_STRING","setValue",183],"(",["T_VARIABLE","$new_user2",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","id",183],"(",")",")",";",["T_WHITESPACE","\n    ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","assertEqual",184],"(",["T_VARIABLE","$new_user2",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","id",184],"(",")",",",["T_WHITESPACE"," ",184],["T_VARIABLE","$entity2",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","user_id",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","target_id",184],",",["T_WHITESPACE"," ",184],["T_STRING","format_string",184],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Updated user id can be read.'",184],",",["T_WHITESPACE"," ",184],["T_ARRAY","array",184],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$entity_type",184],")",")",")",";",["T_WHITESPACE","\n    ",184],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","assertEqual",185],"(",["T_VARIABLE","$new_user2",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","name",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","value",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$entity2",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","user_id",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","entity",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","name",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","value",185],",",["T_WHITESPACE"," ",185],["T_STRING","format_string",185],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Updated user name value can be read.'",185],",",["T_WHITESPACE"," ",185],["T_ARRAY","array",185],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$entity_type",185],")",")",")",";",["T_WHITESPACE","\n\n    ",185],["T_COMMENT","\/\/ Test using isset(), empty() and unset().\n",187],["T_WHITESPACE","    ",188],["T_VARIABLE","$entity",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","name",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","value",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'test unset'",188],";",["T_WHITESPACE","\n    ",188],["T_UNSET","unset",189],"(",["T_VARIABLE","$entity",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","name",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","value",189],")",";",["T_WHITESPACE","\n    ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","assertFalse",190],"(",["T_ISSET","isset",190],"(",["T_VARIABLE","$entity",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","name",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","value",190],")",",",["T_WHITESPACE"," ",190],["T_STRING","format_string",190],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name is not set.'",190],",",["T_WHITESPACE"," ",190],["T_ARRAY","array",190],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$entity_type",190],")",")",")",";",["T_WHITESPACE","\n    ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","assertFalse",191],"(",["T_ISSET","isset",191],"(",["T_VARIABLE","$entity",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","name",191],"[",["T_LNUMBER","0",191],"]",["T_OBJECT_OPERATOR","->",191],["T_STRING","value",191],")",",",["T_WHITESPACE"," ",191],["T_STRING","format_string",191],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name is not set.'",191],",",["T_WHITESPACE"," ",191],["T_ARRAY","array",191],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$entity_type",191],")",")",")",";",["T_WHITESPACE","\n    ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","assertTrue",192],"(",["T_EMPTY","empty",192],"(",["T_VARIABLE","$entity",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","name",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","value",192],")",",",["T_WHITESPACE"," ",192],["T_STRING","format_string",192],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name is empty.'",192],",",["T_WHITESPACE"," ",192],["T_ARRAY","array",192],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$entity_type",192],")",")",")",";",["T_WHITESPACE","\n    ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","assertTrue",193],"(",["T_EMPTY","empty",193],"(",["T_VARIABLE","$entity",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","name",193],"[",["T_LNUMBER","0",193],"]",["T_OBJECT_OPERATOR","->",193],["T_STRING","value",193],")",",",["T_WHITESPACE"," ",193],["T_STRING","format_string",193],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name is empty.'",193],",",["T_WHITESPACE"," ",193],["T_ARRAY","array",193],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$entity_type",193],")",")",")",";",["T_WHITESPACE","\n\n    ",193],["T_VARIABLE","$entity",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","name",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","value",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","'a value'",195],";",["T_WHITESPACE","\n    ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","assertTrue",196],"(",["T_ISSET","isset",196],"(",["T_VARIABLE","$entity",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","name",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","value",196],")",",",["T_WHITESPACE"," ",196],["T_STRING","format_string",196],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name is set.'",196],",",["T_WHITESPACE"," ",196],["T_ARRAY","array",196],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$entity_type",196],")",")",")",";",["T_WHITESPACE","\n    ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","assertTrue",197],"(",["T_ISSET","isset",197],"(",["T_VARIABLE","$entity",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","name",197],"[",["T_LNUMBER","0",197],"]",["T_OBJECT_OPERATOR","->",197],["T_STRING","value",197],")",",",["T_WHITESPACE"," ",197],["T_STRING","format_string",197],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name is set.'",197],",",["T_WHITESPACE"," ",197],["T_ARRAY","array",197],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$entity_type",197],")",")",")",";",["T_WHITESPACE","\n    ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","assertFalse",198],"(",["T_EMPTY","empty",198],"(",["T_VARIABLE","$entity",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","name",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","value",198],")",",",["T_WHITESPACE"," ",198],["T_STRING","format_string",198],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name is not empty.'",198],",",["T_WHITESPACE"," ",198],["T_ARRAY","array",198],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",198],["T_WHITESPACE"," ",198],["T_DOUBLE_ARROW","=>",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$entity_type",198],")",")",")",";",["T_WHITESPACE","\n    ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","assertFalse",199],"(",["T_EMPTY","empty",199],"(",["T_VARIABLE","$entity",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","name",199],"[",["T_LNUMBER","0",199],"]",["T_OBJECT_OPERATOR","->",199],["T_STRING","value",199],")",",",["T_WHITESPACE"," ",199],["T_STRING","format_string",199],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name is not empty.'",199],",",["T_WHITESPACE"," ",199],["T_ARRAY","array",199],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$entity_type",199],")",")",")",";",["T_WHITESPACE","\n    ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","assertTrue",200],"(",["T_ISSET","isset",200],"(",["T_VARIABLE","$entity",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","name",200],"[",["T_LNUMBER","0",200],"]",")",",",["T_WHITESPACE"," ",200],["T_STRING","format_string",200],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name string item is set.'",200],",",["T_WHITESPACE"," ",200],["T_ARRAY","array",200],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$entity_type",200],")",")",")",";",["T_WHITESPACE","\n    ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","assertFalse",201],"(",["T_ISSET","isset",201],"(",["T_VARIABLE","$entity",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","name",201],"[",["T_LNUMBER","1",201],"]",")",",",["T_WHITESPACE"," ",201],["T_STRING","format_string",201],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Second name string item is not set as it does not exist'",201],",",["T_WHITESPACE"," ",201],["T_ARRAY","array",201],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",201],["T_WHITESPACE"," ",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$entity_type",201],")",")",")",";",["T_WHITESPACE","\n    ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","assertTrue",202],"(",["T_ISSET","isset",202],"(",["T_VARIABLE","$entity",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","name",202],")",",",["T_WHITESPACE"," ",202],["T_STRING","format_string",202],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name field is set.'",202],",",["T_WHITESPACE"," ",202],["T_ARRAY","array",202],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",202],["T_WHITESPACE"," ",202],["T_DOUBLE_ARROW","=>",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$entity_type",202],")",")",")",";",["T_WHITESPACE","\n    ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","assertFalse",203],"(",["T_ISSET","isset",203],"(",["T_VARIABLE","$entity",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","nameInvalid",203],")",",",["T_WHITESPACE"," ",203],["T_STRING","format_string",203],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Not existing field is not set.'",203],",",["T_WHITESPACE"," ",203],["T_ARRAY","array",203],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",203],["T_WHITESPACE"," ",203],["T_DOUBLE_ARROW","=>",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$entity_type",203],")",")",")",";",["T_WHITESPACE","\n\n    ",203],["T_UNSET","unset",205],"(",["T_VARIABLE","$entity",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","name",205],"[",["T_LNUMBER","0",205],"]",")",";",["T_WHITESPACE","\n    ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","assertFalse",206],"(",["T_ISSET","isset",206],"(",["T_VARIABLE","$entity",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","name",206],"[",["T_LNUMBER","0",206],"]",")",",",["T_WHITESPACE"," ",206],["T_STRING","format_string",206],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name field item is not set.'",206],",",["T_WHITESPACE"," ",206],["T_ARRAY","array",206],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",206],["T_WHITESPACE"," ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$entity_type",206],")",")",")",";",["T_WHITESPACE","\n    ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","assertFalse",207],"(",["T_ISSET","isset",207],"(",["T_VARIABLE","$entity",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","name",207],"[",["T_LNUMBER","0",207],"]",["T_OBJECT_OPERATOR","->",207],["T_STRING","value",207],")",",",["T_WHITESPACE"," ",207],["T_STRING","format_string",207],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name is not set.'",207],",",["T_WHITESPACE"," ",207],["T_ARRAY","array",207],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",207],["T_WHITESPACE"," ",207],["T_DOUBLE_ARROW","=>",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$entity_type",207],")",")",")",";",["T_WHITESPACE","\n    ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","assertFalse",208],"(",["T_ISSET","isset",208],"(",["T_VARIABLE","$entity",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","name",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","value",208],")",",",["T_WHITESPACE"," ",208],["T_STRING","format_string",208],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name is not set.'",208],",",["T_WHITESPACE"," ",208],["T_ARRAY","array",208],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",208],["T_WHITESPACE"," ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$entity_type",208],")",")",")",";",["T_WHITESPACE","\n\n    ",208],["T_COMMENT","\/\/ Test emptying a field by assigning an empty value. NULL and array()\n",210],["T_WHITESPACE","    ",211],["T_COMMENT","\/\/ behave the same.\n",211],["T_WHITESPACE","    ",212],["T_FOREACH","foreach",212],["T_WHITESPACE"," ",212],"(","[",["T_STRING","NULL",212],",",["T_WHITESPACE"," ",212],["T_ARRAY","array",212],"(",")",",",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'unset'",212],"]",["T_WHITESPACE"," ",212],["T_AS","as",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$empty",212],")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n      ",212],["T_COMMENT","\/\/ Make sure a value is present\n",213],["T_WHITESPACE","      ",214],["T_VARIABLE","$entity",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","name",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","value",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'a value'",214],";",["T_WHITESPACE","\n      ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","assertTrue",215],"(",["T_ISSET","isset",215],"(",["T_VARIABLE","$entity",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","name",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","value",215],")",",",["T_WHITESPACE"," ",215],["T_STRING","format_string",215],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name is set.'",215],",",["T_WHITESPACE"," ",215],["T_ARRAY","array",215],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",215],["T_WHITESPACE"," ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$entity_type",215],")",")",")",";",["T_WHITESPACE","\n      ",215],["T_COMMENT","\/\/ Now, empty the field.\n",216],["T_WHITESPACE","      ",217],["T_IF","if",217],["T_WHITESPACE"," ",217],"(",["T_VARIABLE","$empty",217],["T_WHITESPACE"," ",217],["T_IS_IDENTICAL","===",217],["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'unset'",217],")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n        ",217],["T_UNSET","unset",218],"(",["T_VARIABLE","$entity",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","name",218],")",";",["T_WHITESPACE","\n      ",218],"}",["T_WHITESPACE","\n      ",219],["T_ELSE","else",220],["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$entity",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","name",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_VARIABLE","$empty",221],";",["T_WHITESPACE","\n      ",221],"}",["T_WHITESPACE","\n      ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","assertTrue",223],"(",["T_ISSET","isset",223],"(",["T_VARIABLE","$entity",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","name",223],")",",",["T_WHITESPACE"," ",223],["T_STRING","format_string",223],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name field is set.'",223],",",["T_WHITESPACE"," ",223],["T_ARRAY","array",223],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$entity_type",223],")",")",")",";",["T_WHITESPACE","\n      ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","assertTrue",224],"(",["T_VARIABLE","$entity",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","name",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","isEmpty",224],"(",")",",",["T_WHITESPACE"," ",224],["T_STRING","format_string",224],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name field is set.'",224],",",["T_WHITESPACE"," ",224],["T_ARRAY","array",224],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",224],["T_WHITESPACE"," ",224],["T_DOUBLE_ARROW","=>",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$entity_type",224],")",")",")",";",["T_WHITESPACE","\n      ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","assertIdentical",225],"(",["T_STRING","count",225],"(",["T_VARIABLE","$entity",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","name",225],")",",",["T_WHITESPACE"," ",225],["T_LNUMBER","0",225],",",["T_WHITESPACE"," ",225],["T_STRING","format_string",225],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name field contains no items.'",225],",",["T_WHITESPACE"," ",225],["T_ARRAY","array",225],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",225],["T_WHITESPACE"," ",225],["T_DOUBLE_ARROW","=>",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$entity_type",225],")",")",")",";",["T_WHITESPACE","\n      ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","assertIdentical",226],"(",["T_VARIABLE","$entity",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","name",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","getValue",226],"(",")",",",["T_WHITESPACE"," ",226],["T_ARRAY","array",226],"(",")",",",["T_WHITESPACE"," ",226],["T_STRING","format_string",226],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name field value is an empty array.'",226],",",["T_WHITESPACE"," ",226],["T_ARRAY","array",226],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",226],["T_WHITESPACE"," ",226],["T_DOUBLE_ARROW","=>",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$entity_type",226],")",")",")",";",["T_WHITESPACE","\n      ",226],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","assertFalse",227],"(",["T_ISSET","isset",227],"(",["T_VARIABLE","$entity",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","name",227],"[",["T_LNUMBER","0",227],"]",")",",",["T_WHITESPACE"," ",227],["T_STRING","format_string",227],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name field item is not set.'",227],",",["T_WHITESPACE"," ",227],["T_ARRAY","array",227],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",227],["T_WHITESPACE"," ",227],["T_DOUBLE_ARROW","=>",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$entity_type",227],")",")",")",";",["T_WHITESPACE","\n      ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","assertFalse",228],"(",["T_ISSET","isset",228],"(",["T_VARIABLE","$entity",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","name",228],"[",["T_LNUMBER","0",228],"]",["T_OBJECT_OPERATOR","->",228],["T_STRING","value",228],")",",",["T_WHITESPACE"," ",228],["T_STRING","format_string",228],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: First name item value is not set.'",228],",",["T_WHITESPACE"," ",228],["T_ARRAY","array",228],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",228],["T_WHITESPACE"," ",228],["T_DOUBLE_ARROW","=>",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$entity_type",228],")",")",")",";",["T_WHITESPACE","\n      ",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","assertFalse",229],"(",["T_ISSET","isset",229],"(",["T_VARIABLE","$entity",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","name",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","value",229],")",",",["T_WHITESPACE"," ",229],["T_STRING","format_string",229],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name value is not set.'",229],",",["T_WHITESPACE"," ",229],["T_ARRAY","array",229],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",229],["T_WHITESPACE"," ",229],["T_DOUBLE_ARROW","=>",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$entity_type",229],")",")",")",";",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n\n    ",230],["T_COMMENT","\/\/ Access the language field.\n",232],["T_WHITESPACE","    ",233],["T_VARIABLE","$langcode_key",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","entityManager",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getDefinition",233],"(",["T_VARIABLE","$entity_type",233],")",["T_OBJECT_OPERATOR","->",233],["T_STRING","getKey",233],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",233],")",";",["T_WHITESPACE","\n    ",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","assertEqual",234],"(",["T_VARIABLE","$langcode",234],",",["T_WHITESPACE"," ",234],["T_VARIABLE","$entity",234],["T_OBJECT_OPERATOR","->",234],"{",["T_VARIABLE","$langcode_key",234],"}",["T_OBJECT_OPERATOR","->",234],["T_STRING","value",234],",",["T_WHITESPACE"," ",234],["T_STRING","format_string",234],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Language code can be read.'",234],",",["T_WHITESPACE"," ",234],["T_ARRAY","array",234],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",234],["T_WHITESPACE"," ",234],["T_DOUBLE_ARROW","=>",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$entity_type",234],")",")",")",";",["T_WHITESPACE","\n    ",234],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","assertEqual",235],"(",["T_NS_SEPARATOR","\\",235],["T_STRING","Drupal",235],["T_DOUBLE_COLON","::",235],["T_STRING","languageManager",235],"(",")",["T_OBJECT_OPERATOR","->",235],["T_STRING","getLanguage",235],"(",["T_VARIABLE","$langcode",235],")",",",["T_WHITESPACE"," ",235],["T_VARIABLE","$entity",235],["T_OBJECT_OPERATOR","->",235],"{",["T_VARIABLE","$langcode_key",235],"}",["T_OBJECT_OPERATOR","->",235],["T_STRING","language",235],",",["T_WHITESPACE"," ",235],["T_STRING","format_string",235],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Language object can be read.'",235],",",["T_WHITESPACE"," ",235],["T_ARRAY","array",235],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",235],["T_WHITESPACE"," ",235],["T_DOUBLE_ARROW","=>",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$entity_type",235],")",")",")",";",["T_WHITESPACE","\n\n    ",235],["T_COMMENT","\/\/ Change the language by code.\n",237],["T_WHITESPACE","    ",238],["T_VARIABLE","$entity",238],["T_OBJECT_OPERATOR","->",238],"{",["T_VARIABLE","$langcode_key",238],"}",["T_OBJECT_OPERATOR","->",238],["T_STRING","value",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_NS_SEPARATOR","\\",238],["T_STRING","Drupal",238],["T_DOUBLE_COLON","::",238],["T_STRING","languageManager",238],"(",")",["T_OBJECT_OPERATOR","->",238],["T_STRING","getDefaultLanguage",238],"(",")",["T_OBJECT_OPERATOR","->",238],["T_STRING","getId",238],"(",")",";",["T_WHITESPACE","\n    ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","assertEqual",239],"(",["T_NS_SEPARATOR","\\",239],["T_STRING","Drupal",239],["T_DOUBLE_COLON","::",239],["T_STRING","languageManager",239],"(",")",["T_OBJECT_OPERATOR","->",239],["T_STRING","getDefaultLanguage",239],"(",")",["T_OBJECT_OPERATOR","->",239],["T_STRING","getId",239],"(",")",",",["T_WHITESPACE"," ",239],["T_VARIABLE","$entity",239],["T_OBJECT_OPERATOR","->",239],"{",["T_VARIABLE","$langcode_key",239],"}",["T_OBJECT_OPERATOR","->",239],["T_STRING","value",239],",",["T_WHITESPACE"," ",239],["T_STRING","format_string",239],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Language code can be read.'",239],",",["T_WHITESPACE"," ",239],["T_ARRAY","array",239],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$entity_type",239],")",")",")",";",["T_WHITESPACE","\n    ",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","assertEqual",240],"(",["T_NS_SEPARATOR","\\",240],["T_STRING","Drupal",240],["T_DOUBLE_COLON","::",240],["T_STRING","languageManager",240],"(",")",["T_OBJECT_OPERATOR","->",240],["T_STRING","getDefaultLanguage",240],"(",")",",",["T_WHITESPACE"," ",240],["T_VARIABLE","$entity",240],["T_OBJECT_OPERATOR","->",240],"{",["T_VARIABLE","$langcode_key",240],"}",["T_OBJECT_OPERATOR","->",240],["T_STRING","language",240],",",["T_WHITESPACE"," ",240],["T_STRING","format_string",240],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Language object can be read.'",240],",",["T_WHITESPACE"," ",240],["T_ARRAY","array",240],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$entity_type",240],")",")",")",";",["T_WHITESPACE","\n\n    ",240],["T_COMMENT","\/\/ Revert language by code then try setting it by language object.\n",242],["T_WHITESPACE","    ",243],["T_VARIABLE","$entity",243],["T_OBJECT_OPERATOR","->",243],"{",["T_VARIABLE","$langcode_key",243],"}",["T_OBJECT_OPERATOR","->",243],["T_STRING","value",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$langcode",243],";",["T_WHITESPACE","\n    ",243],["T_VARIABLE","$entity",244],["T_OBJECT_OPERATOR","->",244],"{",["T_VARIABLE","$langcode_key",244],"}",["T_OBJECT_OPERATOR","->",244],["T_STRING","language",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_NS_SEPARATOR","\\",244],["T_STRING","Drupal",244],["T_DOUBLE_COLON","::",244],["T_STRING","languageManager",244],"(",")",["T_OBJECT_OPERATOR","->",244],["T_STRING","getDefaultLanguage",244],"(",")",";",["T_WHITESPACE","\n    ",244],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","assertEqual",245],"(",["T_NS_SEPARATOR","\\",245],["T_STRING","Drupal",245],["T_DOUBLE_COLON","::",245],["T_STRING","languageManager",245],"(",")",["T_OBJECT_OPERATOR","->",245],["T_STRING","getDefaultLanguage",245],"(",")",["T_OBJECT_OPERATOR","->",245],["T_STRING","getId",245],"(",")",",",["T_WHITESPACE"," ",245],["T_VARIABLE","$entity",245],["T_OBJECT_OPERATOR","->",245],"{",["T_VARIABLE","$langcode_key",245],"}",["T_OBJECT_OPERATOR","->",245],["T_STRING","value",245],",",["T_WHITESPACE"," ",245],["T_STRING","format_string",245],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Language code can be read.'",245],",",["T_WHITESPACE"," ",245],["T_ARRAY","array",245],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",245],["T_WHITESPACE"," ",245],["T_DOUBLE_ARROW","=>",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$entity_type",245],")",")",")",";",["T_WHITESPACE","\n    ",245],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","assertEqual",246],"(",["T_NS_SEPARATOR","\\",246],["T_STRING","Drupal",246],["T_DOUBLE_COLON","::",246],["T_STRING","languageManager",246],"(",")",["T_OBJECT_OPERATOR","->",246],["T_STRING","getDefaultLanguage",246],"(",")",",",["T_WHITESPACE"," ",246],["T_VARIABLE","$entity",246],["T_OBJECT_OPERATOR","->",246],"{",["T_VARIABLE","$langcode_key",246],"}",["T_OBJECT_OPERATOR","->",246],["T_STRING","language",246],",",["T_WHITESPACE"," ",246],["T_STRING","format_string",246],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Language object can be read.'",246],",",["T_WHITESPACE"," ",246],["T_ARRAY","array",246],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",246],["T_WHITESPACE"," ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$entity_type",246],")",")",")",";",["T_WHITESPACE","\n\n    ",246],["T_COMMENT","\/\/ Access the text field and test updating.\n",248],["T_WHITESPACE","    ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","assertEqual",249],"(",["T_VARIABLE","$entity",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","field_test_text",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","value",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","entityFieldText",249],",",["T_WHITESPACE"," ",249],["T_STRING","format_string",249],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Text field can be read.'",249],",",["T_WHITESPACE"," ",249],["T_ARRAY","array",249],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",249],["T_WHITESPACE"," ",249],["T_DOUBLE_ARROW","=>",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$entity_type",249],")",")",")",";",["T_WHITESPACE","\n    ",249],["T_VARIABLE","$new_text",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","randomMachineName",250],"(",")",";",["T_WHITESPACE","\n    ",250],["T_VARIABLE","$entity",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","field_test_text",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","value",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_VARIABLE","$new_text",251],";",["T_WHITESPACE","\n    ",251],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","assertEqual",252],"(",["T_VARIABLE","$entity",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","field_test_text",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","value",252],",",["T_WHITESPACE"," ",252],["T_VARIABLE","$new_text",252],",",["T_WHITESPACE"," ",252],["T_STRING","format_string",252],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Updated text field can be read.'",252],",",["T_WHITESPACE"," ",252],["T_ARRAY","array",252],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",252],["T_WHITESPACE"," ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$entity_type",252],")",")",")",";",["T_WHITESPACE","\n\n    ",252],["T_COMMENT","\/\/ Test creating the entity by passing in plain values.\n",254],["T_WHITESPACE","    ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","entityName",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","randomMachineName",255],"(",")",";",["T_WHITESPACE","\n    ",255],["T_VARIABLE","$name_item",256],"[",["T_LNUMBER","0",256],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",256],"]",["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","entityName",256],";",["T_WHITESPACE","\n    ",256],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","entityUser",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","createUser",257],"(",")",";",["T_WHITESPACE","\n    ",257],["T_VARIABLE","$user_item",258],"[",["T_LNUMBER","0",258],"]","[",["T_CONSTANT_ENCAPSED_STRING","'target_id'",258],"]",["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","entityUser",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","id",258],"(",")",";",["T_WHITESPACE","\n    ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","entityFieldText",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","randomMachineName",259],"(",")",";",["T_WHITESPACE","\n    ",259],["T_VARIABLE","$text_item",260],"[",["T_LNUMBER","0",260],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",260],"]",["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","entityFieldText",260],";",["T_WHITESPACE","\n\n    ",260],["T_VARIABLE","$entity",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","container",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","get",262],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",262],")",["T_WHITESPACE","\n      ",262],["T_OBJECT_OPERATOR","->",263],["T_STRING","getStorage",263],"(",["T_VARIABLE","$entity_type",263],")",["T_WHITESPACE","\n      ",263],["T_OBJECT_OPERATOR","->",264],["T_STRING","create",264],"(",["T_ARRAY","array",264],"(",["T_WHITESPACE","\n        ",264],["T_CONSTANT_ENCAPSED_STRING","'name'",265],["T_WHITESPACE"," ",265],["T_DOUBLE_ARROW","=>",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$name_item",265],",",["T_WHITESPACE","\n        ",265],["T_CONSTANT_ENCAPSED_STRING","'user_id'",266],["T_WHITESPACE"," ",266],["T_DOUBLE_ARROW","=>",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$user_item",266],",",["T_WHITESPACE","\n        ",266],["T_CONSTANT_ENCAPSED_STRING","'field_test_text'",267],["T_WHITESPACE"," ",267],["T_DOUBLE_ARROW","=>",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$text_item",267],",",["T_WHITESPACE","\n      ",267],")",")",";",["T_WHITESPACE","\n    ",268],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","assertEqual",269],"(",["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","entityName",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$entity",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","name",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","value",269],",",["T_WHITESPACE"," ",269],["T_STRING","format_string",269],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name value can be read.'",269],",",["T_WHITESPACE"," ",269],["T_ARRAY","array",269],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",269],["T_WHITESPACE"," ",269],["T_DOUBLE_ARROW","=>",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$entity_type",269],")",")",")",";",["T_WHITESPACE","\n    ",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","assertEqual",270],"(",["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","entityUser",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","id",270],"(",")",",",["T_WHITESPACE"," ",270],["T_VARIABLE","$entity",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","user_id",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","target_id",270],",",["T_WHITESPACE"," ",270],["T_STRING","format_string",270],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: User id can be read.'",270],",",["T_WHITESPACE"," ",270],["T_ARRAY","array",270],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",270],["T_WHITESPACE"," ",270],["T_DOUBLE_ARROW","=>",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$entity_type",270],")",")",")",";",["T_WHITESPACE","\n    ",270],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","assertEqual",271],"(",["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","entityUser",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getUsername",271],"(",")",",",["T_WHITESPACE"," ",271],["T_VARIABLE","$entity",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","user_id",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","entity",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","name",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","value",271],",",["T_WHITESPACE"," ",271],["T_STRING","format_string",271],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: User name can be read.'",271],",",["T_WHITESPACE"," ",271],["T_ARRAY","array",271],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",271],["T_WHITESPACE"," ",271],["T_DOUBLE_ARROW","=>",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$entity_type",271],")",")",")",";",["T_WHITESPACE","\n    ",271],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","assertEqual",272],"(",["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","entityFieldText",272],",",["T_WHITESPACE"," ",272],["T_VARIABLE","$entity",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","field_test_text",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","value",272],",",["T_WHITESPACE"," ",272],["T_STRING","format_string",272],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Text field can be read.'",272],",",["T_WHITESPACE"," ",272],["T_ARRAY","array",272],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",272],["T_WHITESPACE"," ",272],["T_DOUBLE_ARROW","=>",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$entity_type",272],")",")",")",";",["T_WHITESPACE","\n\n    ",272],["T_COMMENT","\/\/ Tests copying field values by assigning the TypedData objects.\n",274],["T_WHITESPACE","    ",275],["T_VARIABLE","$entity2",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","createTestEntity",275],"(",["T_VARIABLE","$entity_type",275],")",";",["T_WHITESPACE","\n    ",275],["T_VARIABLE","$entity2",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","name",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$entity",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","name",276],";",["T_WHITESPACE","\n    ",276],["T_VARIABLE","$entity2",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","user_id",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_VARIABLE","$entity",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","user_id",277],";",["T_WHITESPACE","\n    ",277],["T_VARIABLE","$entity2",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","field_test_text",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_VARIABLE","$entity",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","field_test_text",278],";",["T_WHITESPACE","\n    ",278],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","assertFalse",279],"(",["T_VARIABLE","$entity",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","name",279],["T_WHITESPACE"," ",279],["T_IS_IDENTICAL","===",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$entity2",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","name",279],",",["T_WHITESPACE"," ",279],["T_STRING","format_string",279],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Copying properties results in a different field object.'",279],",",["T_WHITESPACE"," ",279],["T_ARRAY","array",279],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$entity_type",279],")",")",")",";",["T_WHITESPACE","\n    ",279],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","assertEqual",280],"(",["T_VARIABLE","$entity",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","name",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","value",280],",",["T_WHITESPACE"," ",280],["T_VARIABLE","$entity2",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","name",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","value",280],",",["T_WHITESPACE"," ",280],["T_STRING","format_string",280],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name field copied.'",280],",",["T_WHITESPACE"," ",280],["T_ARRAY","array",280],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",280],["T_WHITESPACE"," ",280],["T_DOUBLE_ARROW","=>",280],["T_WHITESPACE"," ",280],["T_VARIABLE","$entity_type",280],")",")",")",";",["T_WHITESPACE","\n    ",280],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","assertEqual",281],"(",["T_VARIABLE","$entity",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","user_id",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","target_id",281],",",["T_WHITESPACE"," ",281],["T_VARIABLE","$entity2",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","user_id",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","target_id",281],",",["T_WHITESPACE"," ",281],["T_STRING","format_string",281],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: User id field copied.'",281],",",["T_WHITESPACE"," ",281],["T_ARRAY","array",281],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",281],["T_WHITESPACE"," ",281],["T_DOUBLE_ARROW","=>",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$entity_type",281],")",")",")",";",["T_WHITESPACE","\n    ",281],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","assertEqual",282],"(",["T_VARIABLE","$entity",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","field_test_text",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","value",282],",",["T_WHITESPACE"," ",282],["T_VARIABLE","$entity2",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","field_test_text",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","value",282],",",["T_WHITESPACE"," ",282],["T_STRING","format_string",282],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Text field copied.'",282],",",["T_WHITESPACE"," ",282],["T_ARRAY","array",282],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",282],["T_WHITESPACE"," ",282],["T_DOUBLE_ARROW","=>",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$entity_type",282],")",")",")",";",["T_WHITESPACE","\n\n    ",282],["T_COMMENT","\/\/ Tests that assigning TypedData objects to non-field properties keeps the\n",284],["T_WHITESPACE","    ",285],["T_COMMENT","\/\/ assigned value as is.\n",285],["T_WHITESPACE","    ",286],["T_VARIABLE","$entity2",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","createTestEntity",286],"(",["T_VARIABLE","$entity_type",286],")",";",["T_WHITESPACE","\n    ",286],["T_VARIABLE","$entity2",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","_not_a_field",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_VARIABLE","$entity",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","name",287],";",["T_WHITESPACE","\n    ",287],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","assertTrue",288],"(",["T_VARIABLE","$entity2",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","_not_a_field",288],["T_WHITESPACE"," ",288],["T_IS_IDENTICAL","===",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$entity",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","name",288],",",["T_WHITESPACE"," ",288],["T_STRING","format_string",288],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Typed data objects can be copied to non-field properties as is.'",288],",",["T_WHITESPACE"," ",288],["T_ARRAY","array",288],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",288],["T_WHITESPACE"," ",288],["T_DOUBLE_ARROW","=>",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$entity_type",288],")",")",")",";",["T_WHITESPACE","\n\n    ",288],["T_COMMENT","\/\/ Tests adding a value to a field item list.\n",290],["T_WHITESPACE","    ",291],["T_VARIABLE","$entity",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","name",291],"[","]",["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'Another name'",291],";",["T_WHITESPACE","\n    ",291],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","assertEqual",292],"(",["T_VARIABLE","$entity",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","name",292],"[",["T_LNUMBER","1",292],"]",["T_OBJECT_OPERATOR","->",292],["T_STRING","value",292],",",["T_WHITESPACE"," ",292],["T_CONSTANT_ENCAPSED_STRING","'Another name'",292],",",["T_WHITESPACE"," ",292],["T_STRING","format_string",292],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: List item added via [] and the first property.'",292],",",["T_WHITESPACE"," ",292],["T_ARRAY","array",292],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",292],["T_WHITESPACE"," ",292],["T_DOUBLE_ARROW","=>",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$entity_type",292],")",")",")",";",["T_WHITESPACE","\n    ",292],["T_VARIABLE","$entity",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","name",293],"[","]",["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_ARRAY","array",293],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",293],["T_WHITESPACE"," ",293],["T_DOUBLE_ARROW","=>",293],["T_WHITESPACE"," ",293],["T_CONSTANT_ENCAPSED_STRING","'Third name'",293],")",";",["T_WHITESPACE","\n    ",293],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","assertEqual",294],"(",["T_VARIABLE","$entity",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","name",294],"[",["T_LNUMBER","2",294],"]",["T_OBJECT_OPERATOR","->",294],["T_STRING","value",294],",",["T_WHITESPACE"," ",294],["T_CONSTANT_ENCAPSED_STRING","'Third name'",294],",",["T_WHITESPACE"," ",294],["T_STRING","format_string",294],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: List item added via [] and an array of properties.'",294],",",["T_WHITESPACE"," ",294],["T_ARRAY","array",294],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",294],["T_WHITESPACE"," ",294],["T_DOUBLE_ARROW","=>",294],["T_WHITESPACE"," ",294],["T_VARIABLE","$entity_type",294],")",")",")",";",["T_WHITESPACE","\n    ",294],["T_VARIABLE","$entity",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","name",295],"[",["T_LNUMBER","3",295],"]",["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_ARRAY","array",295],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",295],["T_WHITESPACE"," ",295],["T_DOUBLE_ARROW","=>",295],["T_WHITESPACE"," ",295],["T_CONSTANT_ENCAPSED_STRING","'Fourth name'",295],")",";",["T_WHITESPACE","\n    ",295],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","assertEqual",296],"(",["T_VARIABLE","$entity",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","name",296],"[",["T_LNUMBER","3",296],"]",["T_OBJECT_OPERATOR","->",296],["T_STRING","value",296],",",["T_WHITESPACE"," ",296],["T_CONSTANT_ENCAPSED_STRING","'Fourth name'",296],",",["T_WHITESPACE"," ",296],["T_STRING","format_string",296],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: List item added via offset and an array of properties.'",296],",",["T_WHITESPACE"," ",296],["T_ARRAY","array",296],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",296],["T_WHITESPACE"," ",296],["T_DOUBLE_ARROW","=>",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$entity_type",296],")",")",")",";",["T_WHITESPACE","\n    ",296],["T_UNSET","unset",297],"(",["T_VARIABLE","$entity",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","name",297],"[",["T_LNUMBER","3",297],"]",")",";",["T_WHITESPACE","\n\n    ",297],["T_COMMENT","\/\/ Test removing and empty-ing list items.\n",299],["T_WHITESPACE","    ",300],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","assertEqual",300],"(",["T_STRING","count",300],"(",["T_VARIABLE","$entity",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","name",300],")",",",["T_WHITESPACE"," ",300],["T_LNUMBER","3",300],",",["T_WHITESPACE"," ",300],["T_STRING","format_string",300],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: List has 3 items.'",300],",",["T_WHITESPACE"," ",300],["T_ARRAY","array",300],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",300],["T_WHITESPACE"," ",300],["T_DOUBLE_ARROW","=>",300],["T_WHITESPACE"," ",300],["T_VARIABLE","$entity_type",300],")",")",")",";",["T_WHITESPACE","\n    ",300],["T_UNSET","unset",301],"(",["T_VARIABLE","$entity",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","name",301],"[",["T_LNUMBER","1",301],"]",")",";",["T_WHITESPACE","\n    ",301],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","assertEqual",302],"(",["T_STRING","count",302],"(",["T_VARIABLE","$entity",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","name",302],")",",",["T_WHITESPACE"," ",302],["T_LNUMBER","2",302],",",["T_WHITESPACE"," ",302],["T_STRING","format_string",302],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Second list item has been removed.'",302],",",["T_WHITESPACE"," ",302],["T_ARRAY","array",302],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",302],["T_WHITESPACE"," ",302],["T_DOUBLE_ARROW","=>",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$entity_type",302],")",")",")",";",["T_WHITESPACE","\n    ",302],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","assertEqual",303],"(",["T_VARIABLE","$entity",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","name",303],"[",["T_LNUMBER","1",303],"]",["T_OBJECT_OPERATOR","->",303],["T_STRING","value",303],",",["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","'Third name'",303],",",["T_WHITESPACE"," ",303],["T_STRING","format_string",303],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: The subsequent items have been shifted up.'",303],",",["T_WHITESPACE"," ",303],["T_ARRAY","array",303],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",303],["T_WHITESPACE"," ",303],["T_DOUBLE_ARROW","=>",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$entity_type",303],")",")",")",";",["T_WHITESPACE","\n    ",303],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","assertEqual",304],"(",["T_VARIABLE","$entity",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","name",304],"[",["T_LNUMBER","1",304],"]",["T_OBJECT_OPERATOR","->",304],["T_STRING","getName",304],"(",")",",",["T_WHITESPACE"," ",304],["T_LNUMBER","1",304],",",["T_WHITESPACE"," ",304],["T_STRING","format_string",304],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: The items names have been updated to their new delta.'",304],",",["T_WHITESPACE"," ",304],["T_ARRAY","array",304],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",304],["T_WHITESPACE"," ",304],["T_DOUBLE_ARROW","=>",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$entity_type",304],")",")",")",";",["T_WHITESPACE","\n    ",304],["T_VARIABLE","$entity",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","name",305],"[",["T_LNUMBER","1",305],"]",["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_STRING","NULL",305],";",["T_WHITESPACE","\n    ",305],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","assertEqual",306],"(",["T_STRING","count",306],"(",["T_VARIABLE","$entity",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","name",306],")",",",["T_WHITESPACE"," ",306],["T_LNUMBER","2",306],",",["T_WHITESPACE"," ",306],["T_STRING","format_string",306],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Assigning NULL does not reduce array count.'",306],",",["T_WHITESPACE"," ",306],["T_ARRAY","array",306],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",306],["T_WHITESPACE"," ",306],["T_DOUBLE_ARROW","=>",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$entity_type",306],")",")",")",";",["T_WHITESPACE","\n    ",306],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","assertTrue",307],"(",["T_VARIABLE","$entity",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","name",307],"[",["T_LNUMBER","1",307],"]",["T_OBJECT_OPERATOR","->",307],["T_STRING","isEmpty",307],"(",")",",",["T_WHITESPACE"," ",307],["T_STRING","format_string",307],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Assigning NULL empties the item.'",307],",",["T_WHITESPACE"," ",307],["T_ARRAY","array",307],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",307],["T_WHITESPACE"," ",307],["T_DOUBLE_ARROW","=>",307],["T_WHITESPACE"," ",307],["T_VARIABLE","$entity_type",307],")",")",")",";",["T_WHITESPACE","\n\n    ",307],["T_COMMENT","\/\/ Test using isEmpty().\n",309],["T_WHITESPACE","    ",310],["T_UNSET","unset",310],"(",["T_VARIABLE","$entity",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","name",310],"[",["T_LNUMBER","1",310],"]",")",";",["T_WHITESPACE","\n    ",310],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","assertFalse",311],"(",["T_VARIABLE","$entity",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","name",311],"[",["T_LNUMBER","0",311],"]",["T_OBJECT_OPERATOR","->",311],["T_STRING","isEmpty",311],"(",")",",",["T_WHITESPACE"," ",311],["T_STRING","format_string",311],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name item is not empty.'",311],",",["T_WHITESPACE"," ",311],["T_ARRAY","array",311],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",311],["T_WHITESPACE"," ",311],["T_DOUBLE_ARROW","=>",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$entity_type",311],")",")",")",";",["T_WHITESPACE","\n    ",311],["T_VARIABLE","$entity",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","name",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","value",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_STRING","NULL",312],";",["T_WHITESPACE","\n    ",312],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","assertTrue",313],"(",["T_VARIABLE","$entity",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","name",313],"[",["T_LNUMBER","0",313],"]",["T_OBJECT_OPERATOR","->",313],["T_STRING","isEmpty",313],"(",")",",",["T_WHITESPACE"," ",313],["T_STRING","format_string",313],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name item is empty.'",313],",",["T_WHITESPACE"," ",313],["T_ARRAY","array",313],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",313],["T_WHITESPACE"," ",313],["T_DOUBLE_ARROW","=>",313],["T_WHITESPACE"," ",313],["T_VARIABLE","$entity_type",313],")",")",")",";",["T_WHITESPACE","\n    ",313],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","assertTrue",314],"(",["T_VARIABLE","$entity",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","name",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","isEmpty",314],"(",")",",",["T_WHITESPACE"," ",314],["T_STRING","format_string",314],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name field is empty.'",314],",",["T_WHITESPACE"," ",314],["T_ARRAY","array",314],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",314],["T_WHITESPACE"," ",314],["T_DOUBLE_ARROW","=>",314],["T_WHITESPACE"," ",314],["T_VARIABLE","$entity_type",314],")",")",")",";",["T_WHITESPACE","\n    ",314],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","assertEqual",315],"(",["T_STRING","count",315],"(",["T_VARIABLE","$entity",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","name",315],")",",",["T_WHITESPACE"," ",315],["T_LNUMBER","1",315],",",["T_WHITESPACE"," ",315],["T_STRING","format_string",315],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Empty item is considered when counting.'",315],",",["T_WHITESPACE"," ",315],["T_ARRAY","array",315],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",315],["T_WHITESPACE"," ",315],["T_DOUBLE_ARROW","=>",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$entity_type",315],")",")",")",";",["T_WHITESPACE","\n    ",315],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","assertEqual",316],"(",["T_STRING","count",316],"(",["T_STRING","iterator_to_array",316],"(",["T_VARIABLE","$entity",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","name",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","getIterator",316],"(",")",")",")",",",["T_WHITESPACE"," ",316],["T_STRING","count",316],"(",["T_VARIABLE","$entity",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","name",316],")",",",["T_WHITESPACE"," ",316],["T_STRING","format_string",316],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Count matches iterator count.'",316],",",["T_WHITESPACE"," ",316],["T_ARRAY","array",316],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",316],["T_WHITESPACE"," ",316],["T_DOUBLE_ARROW","=>",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$entity_type",316],")",")",")",";",["T_WHITESPACE","\n    ",316],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","assertTrue",317],"(",["T_VARIABLE","$entity",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","name",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","getValue",317],"(",")",["T_WHITESPACE"," ",317],["T_IS_IDENTICAL","===",317],["T_WHITESPACE"," ",317],["T_ARRAY","array",317],"(",["T_LNUMBER","0",317],["T_WHITESPACE"," ",317],["T_DOUBLE_ARROW","=>",317],["T_WHITESPACE"," ",317],["T_ARRAY","array",317],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",317],["T_WHITESPACE"," ",317],["T_DOUBLE_ARROW","=>",317],["T_WHITESPACE"," ",317],["T_STRING","NULL",317],")",")",",",["T_WHITESPACE"," ",317],["T_STRING","format_string",317],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Name field value contains a NULL value.'",317],",",["T_WHITESPACE"," ",317],["T_ARRAY","array",317],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",317],["T_WHITESPACE"," ",317],["T_DOUBLE_ARROW","=>",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$entity_type",317],")",")",")",";",["T_WHITESPACE","\n\n    ",317],["T_COMMENT","\/\/ Test using filterEmptyItems().\n",319],["T_WHITESPACE","    ",320],["T_VARIABLE","$entity",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","name",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_ARRAY","array",320],"(",["T_STRING","NULL",320],",",["T_WHITESPACE"," ",320],["T_CONSTANT_ENCAPSED_STRING","'foo'",320],")",";",["T_WHITESPACE","\n    ",320],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","assertEqual",321],"(",["T_STRING","count",321],"(",["T_VARIABLE","$entity",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","name",321],")",",",["T_WHITESPACE"," ",321],["T_LNUMBER","2",321],",",["T_WHITESPACE"," ",321],["T_STRING","format_string",321],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: List has 2 items.'",321],",",["T_WHITESPACE"," ",321],["T_ARRAY","array",321],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",321],["T_WHITESPACE"," ",321],["T_DOUBLE_ARROW","=>",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$entity_type",321],")",")",")",";",["T_WHITESPACE","\n    ",321],["T_VARIABLE","$entity",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","name",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","filterEmptyItems",322],"(",")",";",["T_WHITESPACE","\n    ",322],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","assertEqual",323],"(",["T_STRING","count",323],"(",["T_VARIABLE","$entity",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","name",323],")",",",["T_WHITESPACE"," ",323],["T_LNUMBER","1",323],",",["T_WHITESPACE"," ",323],["T_STRING","format_string",323],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: The empty item was removed.'",323],",",["T_WHITESPACE"," ",323],["T_ARRAY","array",323],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",323],["T_WHITESPACE"," ",323],["T_DOUBLE_ARROW","=>",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$entity_type",323],")",")",")",";",["T_WHITESPACE","\n    ",323],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","assertEqual",324],"(",["T_VARIABLE","$entity",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","name",324],"[",["T_LNUMBER","0",324],"]",["T_OBJECT_OPERATOR","->",324],["T_STRING","value",324],",",["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","'foo'",324],",",["T_WHITESPACE"," ",324],["T_STRING","format_string",324],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: The items were renumbered.'",324],",",["T_WHITESPACE"," ",324],["T_ARRAY","array",324],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",324],["T_WHITESPACE"," ",324],["T_DOUBLE_ARROW","=>",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$entity_type",324],")",")",")",";",["T_WHITESPACE","\n    ",324],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","assertEqual",325],"(",["T_VARIABLE","$entity",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","name",325],"[",["T_LNUMBER","0",325],"]",["T_OBJECT_OPERATOR","->",325],["T_STRING","getName",325],"(",")",",",["T_WHITESPACE"," ",325],["T_LNUMBER","0",325],",",["T_WHITESPACE"," ",325],["T_STRING","format_string",325],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: The deltas were updated in the items.'",325],",",["T_WHITESPACE"," ",325],["T_ARRAY","array",325],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",325],["T_WHITESPACE"," ",325],["T_DOUBLE_ARROW","=>",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$entity_type",325],")",")",")",";",["T_WHITESPACE","\n\n    ",325],["T_COMMENT","\/\/ Test get and set field values.\n",327],["T_WHITESPACE","    ",328],["T_VARIABLE","$entity",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","name",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_CONSTANT_ENCAPSED_STRING","'foo'",328],";",["T_WHITESPACE","\n    ",328],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","assertEqual",329],"(",["T_VARIABLE","$entity",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","name",329],"[",["T_LNUMBER","0",329],"]",["T_OBJECT_OPERATOR","->",329],["T_STRING","toArray",329],"(",")",",",["T_WHITESPACE"," ",329],["T_ARRAY","array",329],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",329],["T_WHITESPACE"," ",329],["T_DOUBLE_ARROW","=>",329],["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'foo'",329],")",",",["T_WHITESPACE"," ",329],["T_STRING","format_string",329],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Field value has been retrieved via toArray()'",329],",",["T_WHITESPACE"," ",329],["T_ARRAY","array",329],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",329],["T_WHITESPACE"," ",329],["T_DOUBLE_ARROW","=>",329],["T_WHITESPACE"," ",329],["T_VARIABLE","$entity_type",329],")",")",")",";",["T_WHITESPACE","\n\n    ",329],["T_VARIABLE","$values",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_VARIABLE","$entity",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","toArray",331],"(",")",";",["T_WHITESPACE","\n    ",331],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","assertEqual",332],"(",["T_VARIABLE","$values",332],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",332],"]",",",["T_WHITESPACE"," ",332],["T_ARRAY","array",332],"(",["T_LNUMBER","0",332],["T_WHITESPACE"," ",332],["T_DOUBLE_ARROW","=>",332],["T_WHITESPACE"," ",332],["T_ARRAY","array",332],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",332],["T_WHITESPACE"," ",332],["T_DOUBLE_ARROW","=>",332],["T_WHITESPACE"," ",332],["T_CONSTANT_ENCAPSED_STRING","'foo'",332],")",")",",",["T_WHITESPACE"," ",332],["T_STRING","format_string",332],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Field value has been retrieved via toArray() from an entity.'",332],",",["T_WHITESPACE"," ",332],["T_ARRAY","array",332],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",332],["T_WHITESPACE"," ",332],["T_DOUBLE_ARROW","=>",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$entity_type",332],")",")",")",";",["T_WHITESPACE","\n\n    ",332],["T_COMMENT","\/\/ Make sure the user id can be set to zero.\n",334],["T_WHITESPACE","    ",335],["T_VARIABLE","$user_item",335],"[",["T_LNUMBER","0",335],"]","[",["T_CONSTANT_ENCAPSED_STRING","'target_id'",335],"]",["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_LNUMBER","0",335],";",["T_WHITESPACE","\n    ",335],["T_VARIABLE","$entity",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","container",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","get",336],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",336],")",["T_WHITESPACE","\n      ",336],["T_OBJECT_OPERATOR","->",337],["T_STRING","getStorage",337],"(",["T_VARIABLE","$entity_type",337],")",["T_WHITESPACE","\n      ",337],["T_OBJECT_OPERATOR","->",338],["T_STRING","create",338],"(",["T_ARRAY","array",338],"(",["T_WHITESPACE","\n        ",338],["T_CONSTANT_ENCAPSED_STRING","'name'",339],["T_WHITESPACE"," ",339],["T_DOUBLE_ARROW","=>",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$name_item",339],",",["T_WHITESPACE","\n        ",339],["T_CONSTANT_ENCAPSED_STRING","'user_id'",340],["T_WHITESPACE"," ",340],["T_DOUBLE_ARROW","=>",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$user_item",340],",",["T_WHITESPACE","\n        ",340],["T_CONSTANT_ENCAPSED_STRING","'field_test_text'",341],["T_WHITESPACE"," ",341],["T_DOUBLE_ARROW","=>",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$text_item",341],",",["T_WHITESPACE","\n      ",341],")",")",";",["T_WHITESPACE","\n    ",342],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","assertNotNull",343],"(",["T_VARIABLE","$entity",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","user_id",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","target_id",343],",",["T_WHITESPACE"," ",343],["T_STRING","format_string",343],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: User id is not NULL'",343],",",["T_WHITESPACE"," ",343],["T_ARRAY","array",343],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",343],["T_WHITESPACE"," ",343],["T_DOUBLE_ARROW","=>",343],["T_WHITESPACE"," ",343],["T_VARIABLE","$entity_type",343],")",")",")",";",["T_WHITESPACE","\n    ",343],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","assertIdentical",344],"(",["T_VARIABLE","$entity",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","user_id",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","target_id",344],",",["T_WHITESPACE"," ",344],["T_LNUMBER","0",344],",",["T_WHITESPACE"," ",344],["T_STRING","format_string",344],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: User id has been set to 0'",344],",",["T_WHITESPACE"," ",344],["T_ARRAY","array",344],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",344],["T_WHITESPACE"," ",344],["T_DOUBLE_ARROW","=>",344],["T_WHITESPACE"," ",344],["T_VARIABLE","$entity_type",344],")",")",")",";",["T_WHITESPACE","\n\n    ",344],["T_COMMENT","\/\/ Test setting the ID with the value only.\n",346],["T_WHITESPACE","    ",347],["T_VARIABLE","$entity",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","container",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","get",347],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",347],")",["T_WHITESPACE","\n      ",347],["T_OBJECT_OPERATOR","->",348],["T_STRING","getStorage",348],"(",["T_VARIABLE","$entity_type",348],")",["T_WHITESPACE","\n      ",348],["T_OBJECT_OPERATOR","->",349],["T_STRING","create",349],"(",["T_ARRAY","array",349],"(",["T_WHITESPACE","\n        ",349],["T_CONSTANT_ENCAPSED_STRING","'name'",350],["T_WHITESPACE"," ",350],["T_DOUBLE_ARROW","=>",350],["T_WHITESPACE"," ",350],["T_VARIABLE","$name_item",350],",",["T_WHITESPACE","\n        ",350],["T_CONSTANT_ENCAPSED_STRING","'user_id'",351],["T_WHITESPACE"," ",351],["T_DOUBLE_ARROW","=>",351],["T_WHITESPACE"," ",351],["T_LNUMBER","0",351],",",["T_WHITESPACE","\n        ",351],["T_CONSTANT_ENCAPSED_STRING","'field_test_text'",352],["T_WHITESPACE"," ",352],["T_DOUBLE_ARROW","=>",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$text_item",352],",",["T_WHITESPACE","\n      ",352],")",")",";",["T_WHITESPACE","\n    ",353],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","assertNotNull",354],"(",["T_VARIABLE","$entity",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","user_id",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","target_id",354],",",["T_WHITESPACE"," ",354],["T_STRING","format_string",354],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: User id is not NULL'",354],",",["T_WHITESPACE"," ",354],["T_ARRAY","array",354],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",354],["T_WHITESPACE"," ",354],["T_DOUBLE_ARROW","=>",354],["T_WHITESPACE"," ",354],["T_VARIABLE","$entity_type",354],")",")",")",";",["T_WHITESPACE","\n    ",354],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","assertIdentical",355],"(",["T_VARIABLE","$entity",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","user_id",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","target_id",355],",",["T_WHITESPACE"," ",355],["T_LNUMBER","0",355],",",["T_WHITESPACE"," ",355],["T_STRING","format_string",355],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: User id has been set to 0'",355],",",["T_WHITESPACE"," ",355],["T_ARRAY","array",355],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",355],["T_WHITESPACE"," ",355],["T_DOUBLE_ARROW","=>",355],["T_WHITESPACE"," ",355],["T_VARIABLE","$entity_type",355],")",")",")",";",["T_WHITESPACE","\n  ",355],"}",["T_WHITESPACE","\n\n  ",356],["T_DOC_COMMENT","\/**\n   * Tries to save and load an entity again.\n   *\/",358],["T_WHITESPACE","\n  ",360],["T_PUBLIC","public",361],["T_WHITESPACE"," ",361],["T_FUNCTION","function",361],["T_WHITESPACE"," ",361],["T_STRING","testSave",361],"(",")",["T_WHITESPACE"," ",361],"{",["T_WHITESPACE","\n    ",361],["T_COMMENT","\/\/ All entity variations have to have the same results.\n",362],["T_WHITESPACE","    ",363],["T_FOREACH","foreach",363],["T_WHITESPACE"," ",363],"(",["T_STRING","entity_test_entity_types",363],"(",")",["T_WHITESPACE"," ",363],["T_AS","as",363],["T_WHITESPACE"," ",363],["T_VARIABLE","$entity_type",363],")",["T_WHITESPACE"," ",363],"{",["T_WHITESPACE","\n      ",363],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","doTestSave",364],"(",["T_VARIABLE","$entity_type",364],")",";",["T_WHITESPACE","\n    ",364],"}",["T_WHITESPACE","\n  ",365],"}",["T_WHITESPACE","\n\n  ",366],["T_DOC_COMMENT","\/**\n   * Executes the save tests for the given entity type.\n   *\n   * @param string $entity_type\n   *   The entity type to run the tests with.\n   *\/",368],["T_WHITESPACE","\n  ",373],["T_PROTECTED","protected",374],["T_WHITESPACE"," ",374],["T_FUNCTION","function",374],["T_WHITESPACE"," ",374],["T_STRING","doTestSave",374],"(",["T_VARIABLE","$entity_type",374],")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n    ",374],["T_VARIABLE","$langcode_key",375],["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","entityManager",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","getDefinition",375],"(",["T_VARIABLE","$entity_type",375],")",["T_OBJECT_OPERATOR","->",375],["T_STRING","getKey",375],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",375],")",";",["T_WHITESPACE","\n    ",375],["T_VARIABLE","$entity",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","createTestEntity",376],"(",["T_VARIABLE","$entity_type",376],")",";",["T_WHITESPACE","\n    ",376],["T_VARIABLE","$entity",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","save",377],"(",")",";",["T_WHITESPACE","\n    ",377],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","assertTrue",378],"(",["T_BOOL_CAST","(bool)",378],["T_WHITESPACE"," ",378],["T_VARIABLE","$entity",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","id",378],"(",")",",",["T_WHITESPACE"," ",378],["T_STRING","format_string",378],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Entity has received an id.'",378],",",["T_WHITESPACE"," ",378],["T_ARRAY","array",378],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",378],["T_WHITESPACE"," ",378],["T_DOUBLE_ARROW","=>",378],["T_WHITESPACE"," ",378],["T_VARIABLE","$entity_type",378],")",")",")",";",["T_WHITESPACE","\n\n    ",378],["T_VARIABLE","$entity",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","container",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","get",380],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",380],")",["T_WHITESPACE","\n      ",380],["T_OBJECT_OPERATOR","->",381],["T_STRING","getStorage",381],"(",["T_VARIABLE","$entity_type",381],")",["T_WHITESPACE","\n      ",381],["T_OBJECT_OPERATOR","->",382],["T_STRING","load",382],"(",["T_VARIABLE","$entity",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","id",382],"(",")",")",";",["T_WHITESPACE","\n    ",382],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","assertTrue",383],"(",["T_BOOL_CAST","(bool)",383],["T_WHITESPACE"," ",383],["T_VARIABLE","$entity",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","id",383],"(",")",",",["T_WHITESPACE"," ",383],["T_STRING","format_string",383],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Entity loaded.'",383],",",["T_WHITESPACE"," ",383],["T_ARRAY","array",383],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",383],["T_WHITESPACE"," ",383],["T_DOUBLE_ARROW","=>",383],["T_WHITESPACE"," ",383],["T_VARIABLE","$entity_type",383],")",")",")",";",["T_WHITESPACE","\n\n    ",383],["T_COMMENT","\/\/ Access the name field.\n",385],["T_WHITESPACE","    ",386],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","assertEqual",386],"(",["T_LNUMBER","1",386],",",["T_WHITESPACE"," ",386],["T_VARIABLE","$entity",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","id",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","value",386],",",["T_WHITESPACE"," ",386],["T_STRING","format_string",386],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: ID value can be read.'",386],",",["T_WHITESPACE"," ",386],["T_ARRAY","array",386],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",386],["T_WHITESPACE"," ",386],["T_DOUBLE_ARROW","=>",386],["T_WHITESPACE"," ",386],["T_VARIABLE","$entity_type",386],")",")",")",";",["T_WHITESPACE","\n    ",386],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","assertTrue",387],"(",["T_STRING","is_string",387],"(",["T_VARIABLE","$entity",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","uuid",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","value",387],")",",",["T_WHITESPACE"," ",387],["T_STRING","format_string",387],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: UUID value can be read.'",387],",",["T_WHITESPACE"," ",387],["T_ARRAY","array",387],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",387],["T_WHITESPACE"," ",387],["T_DOUBLE_ARROW","=>",387],["T_WHITESPACE"," ",387],["T_VARIABLE","$entity_type",387],")",")",")",";",["T_WHITESPACE","\n    ",387],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","assertEqual",388],"(",["T_CONSTANT_ENCAPSED_STRING","'en'",388],",",["T_WHITESPACE"," ",388],["T_VARIABLE","$entity",388],["T_OBJECT_OPERATOR","->",388],"{",["T_VARIABLE","$langcode_key",388],"}",["T_OBJECT_OPERATOR","->",388],["T_STRING","value",388],",",["T_WHITESPACE"," ",388],["T_STRING","format_string",388],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Language code can be read.'",388],",",["T_WHITESPACE"," ",388],["T_ARRAY","array",388],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",388],["T_WHITESPACE"," ",388],["T_DOUBLE_ARROW","=>",388],["T_WHITESPACE"," ",388],["T_VARIABLE","$entity_type",388],")",")",")",";",["T_WHITESPACE","\n    ",388],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","assertEqual",389],"(",["T_NS_SEPARATOR","\\",389],["T_STRING","Drupal",389],["T_DOUBLE_COLON","::",389],["T_STRING","languageManager",389],"(",")",["T_OBJECT_OPERATOR","->",389],["T_STRING","getLanguage",389],"(",["T_CONSTANT_ENCAPSED_STRING","'en'",389],")",",",["T_WHITESPACE"," ",389],["T_VARIABLE","$entity",389],["T_OBJECT_OPERATOR","->",389],"{",["T_VARIABLE","$langcode_key",389],"}",["T_OBJECT_OPERATOR","->",389],["T_STRING","language",389],",",["T_WHITESPACE"," ",389],["T_STRING","format_string",389],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Language object can be read.'",389],",",["T_WHITESPACE"," ",389],["T_ARRAY","array",389],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",389],["T_WHITESPACE"," ",389],["T_DOUBLE_ARROW","=>",389],["T_WHITESPACE"," ",389],["T_VARIABLE","$entity_type",389],")",")",")",";",["T_WHITESPACE","\n    ",389],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","assertEqual",390],"(",["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","entityUser",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","id",390],"(",")",",",["T_WHITESPACE"," ",390],["T_VARIABLE","$entity",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","user_id",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","target_id",390],",",["T_WHITESPACE"," ",390],["T_STRING","format_string",390],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: User id can be read.'",390],",",["T_WHITESPACE"," ",390],["T_ARRAY","array",390],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",390],["T_WHITESPACE"," ",390],["T_DOUBLE_ARROW","=>",390],["T_WHITESPACE"," ",390],["T_VARIABLE","$entity_type",390],")",")",")",";",["T_WHITESPACE","\n    ",390],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","assertEqual",391],"(",["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","entityUser",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","getUsername",391],"(",")",",",["T_WHITESPACE"," ",391],["T_VARIABLE","$entity",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","user_id",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","entity",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","name",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","value",391],",",["T_WHITESPACE"," ",391],["T_STRING","format_string",391],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: User name can be read.'",391],",",["T_WHITESPACE"," ",391],["T_ARRAY","array",391],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",391],["T_WHITESPACE"," ",391],["T_DOUBLE_ARROW","=>",391],["T_WHITESPACE"," ",391],["T_VARIABLE","$entity_type",391],")",")",")",";",["T_WHITESPACE","\n    ",391],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","assertEqual",392],"(",["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","entityFieldText",392],",",["T_WHITESPACE"," ",392],["T_VARIABLE","$entity",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","field_test_text",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","value",392],",",["T_WHITESPACE"," ",392],["T_STRING","format_string",392],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Text field can be read.'",392],",",["T_WHITESPACE"," ",392],["T_ARRAY","array",392],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",392],["T_WHITESPACE"," ",392],["T_DOUBLE_ARROW","=>",392],["T_WHITESPACE"," ",392],["T_VARIABLE","$entity_type",392],")",")",")",";",["T_WHITESPACE","\n  ",392],"}",["T_WHITESPACE","\n\n  ",393],["T_DOC_COMMENT","\/**\n   * Tests introspection and getting metadata upfront.\n   *\/",395],["T_WHITESPACE","\n  ",397],["T_PUBLIC","public",398],["T_WHITESPACE"," ",398],["T_FUNCTION","function",398],["T_WHITESPACE"," ",398],["T_STRING","testIntrospection",398],"(",")",["T_WHITESPACE"," ",398],"{",["T_WHITESPACE","\n    ",398],["T_COMMENT","\/\/ All entity variations have to have the same results.\n",399],["T_WHITESPACE","    ",400],["T_FOREACH","foreach",400],["T_WHITESPACE"," ",400],"(",["T_STRING","entity_test_entity_types",400],"(",")",["T_WHITESPACE"," ",400],["T_AS","as",400],["T_WHITESPACE"," ",400],["T_VARIABLE","$entity_type",400],")",["T_WHITESPACE"," ",400],"{",["T_WHITESPACE","\n      ",400],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","doTestIntrospection",401],"(",["T_VARIABLE","$entity_type",401],")",";",["T_WHITESPACE","\n    ",401],"}",["T_WHITESPACE","\n  ",402],"}",["T_WHITESPACE","\n\n  ",403],["T_DOC_COMMENT","\/**\n   * Executes the introspection tests for the given entity type.\n   *\n   * @param string $entity_type\n   *   The entity type to run the tests with.\n   *\/",405],["T_WHITESPACE","\n  ",410],["T_PROTECTED","protected",411],["T_WHITESPACE"," ",411],["T_FUNCTION","function",411],["T_WHITESPACE"," ",411],["T_STRING","doTestIntrospection",411],"(",["T_VARIABLE","$entity_type",411],")",["T_WHITESPACE"," ",411],"{",["T_WHITESPACE","\n    ",411],["T_COMMENT","\/\/ Test getting metadata upfront. The entity types used for this test have\n",412],["T_WHITESPACE","    ",413],["T_COMMENT","\/\/ a default bundle that is the same as the entity type.\n",413],["T_WHITESPACE","    ",414],["T_VARIABLE","$definitions",414],["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_NS_SEPARATOR","\\",414],["T_STRING","Drupal",414],["T_DOUBLE_COLON","::",414],["T_STRING","entityManager",414],"(",")",["T_OBJECT_OPERATOR","->",414],["T_STRING","getFieldDefinitions",414],"(",["T_VARIABLE","$entity_type",414],",",["T_WHITESPACE"," ",414],["T_VARIABLE","$entity_type",414],")",";",["T_WHITESPACE","\n    ",414],["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","assertEqual",415],"(",["T_VARIABLE","$definitions",415],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",415],"]",["T_OBJECT_OPERATOR","->",415],["T_STRING","getType",415],"(",")",",",["T_WHITESPACE"," ",415],["T_CONSTANT_ENCAPSED_STRING","'string'",415],",",["T_WHITESPACE"," ",415],["T_VARIABLE","$entity_type",415],["T_WHITESPACE"," ",415],".",["T_WHITESPACE"," ",415],["T_CONSTANT_ENCAPSED_STRING","': Name field found.'",415],")",";",["T_WHITESPACE","\n    ",415],["T_VARIABLE","$this",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","assertEqual",416],"(",["T_VARIABLE","$definitions",416],"[",["T_CONSTANT_ENCAPSED_STRING","'user_id'",416],"]",["T_OBJECT_OPERATOR","->",416],["T_STRING","getType",416],"(",")",",",["T_WHITESPACE"," ",416],["T_CONSTANT_ENCAPSED_STRING","'entity_reference'",416],",",["T_WHITESPACE"," ",416],["T_VARIABLE","$entity_type",416],["T_WHITESPACE"," ",416],".",["T_WHITESPACE"," ",416],["T_CONSTANT_ENCAPSED_STRING","': User field found.'",416],")",";",["T_WHITESPACE","\n    ",416],["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","assertEqual",417],"(",["T_VARIABLE","$definitions",417],"[",["T_CONSTANT_ENCAPSED_STRING","'field_test_text'",417],"]",["T_OBJECT_OPERATOR","->",417],["T_STRING","getType",417],"(",")",",",["T_WHITESPACE"," ",417],["T_CONSTANT_ENCAPSED_STRING","'text'",417],",",["T_WHITESPACE"," ",417],["T_VARIABLE","$entity_type",417],["T_WHITESPACE"," ",417],".",["T_WHITESPACE"," ",417],["T_CONSTANT_ENCAPSED_STRING","': Test-text-field field found.'",417],")",";",["T_WHITESPACE","\n\n    ",417],["T_COMMENT","\/\/ Test deriving further metadata.\n",419],["T_WHITESPACE","    ",420],["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","assertTrue",420],"(",["T_VARIABLE","$definitions",420],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",420],"]",["T_WHITESPACE"," ",420],["T_INSTANCEOF","instanceof",420],["T_WHITESPACE"," ",420],["T_STRING","FieldDefinitionInterface",420],")",";",["T_WHITESPACE","\n    ",420],["T_VARIABLE","$field_item_definition",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_VARIABLE","$definitions",421],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",421],"]",["T_OBJECT_OPERATOR","->",421],["T_STRING","getItemDefinition",421],"(",")",";",["T_WHITESPACE","\n    ",421],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","assertTrue",422],"(",["T_VARIABLE","$field_item_definition",422],["T_WHITESPACE"," ",422],["T_INSTANCEOF","instanceof",422],["T_WHITESPACE"," ",422],["T_STRING","ComplexDataDefinitionInterface",422],")",";",["T_WHITESPACE","\n    ",422],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","assertEqual",423],"(",["T_VARIABLE","$field_item_definition",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","getDataType",423],"(",")",",",["T_WHITESPACE"," ",423],["T_CONSTANT_ENCAPSED_STRING","'field_item:string'",423],")",";",["T_WHITESPACE","\n    ",423],["T_VARIABLE","$value_definition",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_VARIABLE","$field_item_definition",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","getPropertyDefinition",424],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",424],")",";",["T_WHITESPACE","\n    ",424],["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","assertTrue",425],"(",["T_VARIABLE","$value_definition",425],["T_WHITESPACE"," ",425],["T_INSTANCEOF","instanceof",425],["T_WHITESPACE"," ",425],["T_STRING","DataDefinitionInterface",425],")",";",["T_WHITESPACE","\n    ",425],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","assertEqual",426],"(",["T_VARIABLE","$value_definition",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","getDataType",426],"(",")",",",["T_WHITESPACE"," ",426],["T_CONSTANT_ENCAPSED_STRING","'string'",426],")",";",["T_WHITESPACE","\n\n    ",426],["T_COMMENT","\/\/ Test deriving metadata from references.\n",428],["T_WHITESPACE","    ",429],["T_VARIABLE","$entity_definition",429],["T_WHITESPACE"," ",429],"=",["T_WHITESPACE"," ",429],["T_STRING","EntityDataDefinition",429],["T_DOUBLE_COLON","::",429],["T_STRING","create",429],"(",["T_VARIABLE","$entity_type",429],")",";",["T_WHITESPACE","\n    ",429],["T_VARIABLE","$langcode_key",430],["T_WHITESPACE"," ",430],"=",["T_WHITESPACE"," ",430],["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","entityManager",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","getDefinition",430],"(",["T_VARIABLE","$entity_type",430],")",["T_OBJECT_OPERATOR","->",430],["T_STRING","getKey",430],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",430],")",";",["T_WHITESPACE","\n    ",430],["T_VARIABLE","$reference_definition",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_VARIABLE","$entity_definition",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","getPropertyDefinition",431],"(",["T_VARIABLE","$langcode_key",431],")",["T_WHITESPACE","\n      ",431],["T_OBJECT_OPERATOR","->",432],["T_STRING","getPropertyDefinition",432],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",432],")",["T_WHITESPACE","\n      ",432],["T_OBJECT_OPERATOR","->",433],["T_STRING","getTargetDefinition",433],"(",")",";",["T_WHITESPACE","\n    ",433],["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","assertEqual",434],"(",["T_VARIABLE","$reference_definition",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","getDataType",434],"(",")",",",["T_WHITESPACE"," ",434],["T_CONSTANT_ENCAPSED_STRING","'language'",434],")",";",["T_WHITESPACE","\n\n    ",434],["T_VARIABLE","$reference_definition",436],["T_WHITESPACE"," ",436],"=",["T_WHITESPACE"," ",436],["T_VARIABLE","$entity_definition",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","getPropertyDefinition",436],"(",["T_CONSTANT_ENCAPSED_STRING","'user_id'",436],")",["T_WHITESPACE","\n      ",436],["T_OBJECT_OPERATOR","->",437],["T_STRING","getPropertyDefinition",437],"(",["T_CONSTANT_ENCAPSED_STRING","'entity'",437],")",["T_WHITESPACE","\n      ",437],["T_OBJECT_OPERATOR","->",438],["T_STRING","getTargetDefinition",438],"(",")",";",["T_WHITESPACE","\n\n    ",438],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","assertTrue",440],"(",["T_VARIABLE","$reference_definition",440],["T_WHITESPACE"," ",440],["T_INSTANCEOF","instanceof",440],["T_WHITESPACE"," ",440],["T_STRING","EntityDataDefinitionInterface",440],",",["T_WHITESPACE"," ",440],["T_CONSTANT_ENCAPSED_STRING","'Definition of the referenced user retrieved.'",440],")",";",["T_WHITESPACE","\n    ",440],["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","assertEqual",441],"(",["T_VARIABLE","$reference_definition",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","getEntityTypeId",441],"(",")",",",["T_WHITESPACE"," ",441],["T_CONSTANT_ENCAPSED_STRING","'user'",441],",",["T_WHITESPACE"," ",441],["T_CONSTANT_ENCAPSED_STRING","'Referenced entity is of type \"user\".'",441],")",";",["T_WHITESPACE","\n\n    ",441],["T_COMMENT","\/\/ Test propagating down.\n",443],["T_WHITESPACE","    ",444],["T_VARIABLE","$name_definition",444],["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_VARIABLE","$reference_definition",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","getPropertyDefinition",444],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",444],")",";",["T_WHITESPACE","\n    ",444],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","assertTrue",445],"(",["T_VARIABLE","$name_definition",445],["T_WHITESPACE"," ",445],["T_INSTANCEOF","instanceof",445],["T_WHITESPACE"," ",445],["T_STRING","FieldDefinitionInterface",445],")",";",["T_WHITESPACE","\n    ",445],["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","assertEqual",446],"(",["T_VARIABLE","$name_definition",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","getPropertyDefinition",446],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",446],")",["T_OBJECT_OPERATOR","->",446],["T_STRING","getDataType",446],"(",")",",",["T_WHITESPACE"," ",446],["T_CONSTANT_ENCAPSED_STRING","'string'",446],")",";",["T_WHITESPACE","\n\n    ",446],["T_COMMENT","\/\/ Test introspecting an entity object.\n",448],["T_WHITESPACE","    ",449],["T_COMMENT","\/\/ @todo: Add bundles and test bundles as well.\n",449],["T_WHITESPACE","    ",450],["T_VARIABLE","$entity",450],["T_WHITESPACE"," ",450],"=",["T_WHITESPACE"," ",450],["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","container",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","get",450],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",450],")",["T_WHITESPACE","\n      ",450],["T_OBJECT_OPERATOR","->",451],["T_STRING","getStorage",451],"(",["T_VARIABLE","$entity_type",451],")",["T_WHITESPACE","\n      ",451],["T_OBJECT_OPERATOR","->",452],["T_STRING","create",452],"(",")",";",["T_WHITESPACE","\n\n    ",452],["T_VARIABLE","$definitions",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_VARIABLE","$entity",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","getFieldDefinitions",454],"(",")",";",["T_WHITESPACE","\n    ",454],["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","assertEqual",455],"(",["T_VARIABLE","$definitions",455],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",455],"]",["T_OBJECT_OPERATOR","->",455],["T_STRING","getType",455],"(",")",",",["T_WHITESPACE"," ",455],["T_CONSTANT_ENCAPSED_STRING","'string'",455],",",["T_WHITESPACE"," ",455],["T_VARIABLE","$entity_type",455],["T_WHITESPACE"," ",455],".",["T_WHITESPACE"," ",455],["T_CONSTANT_ENCAPSED_STRING","': Name field found.'",455],")",";",["T_WHITESPACE","\n    ",455],["T_VARIABLE","$this",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","assertEqual",456],"(",["T_VARIABLE","$definitions",456],"[",["T_CONSTANT_ENCAPSED_STRING","'user_id'",456],"]",["T_OBJECT_OPERATOR","->",456],["T_STRING","getType",456],"(",")",",",["T_WHITESPACE"," ",456],["T_CONSTANT_ENCAPSED_STRING","'entity_reference'",456],",",["T_WHITESPACE"," ",456],["T_VARIABLE","$entity_type",456],["T_WHITESPACE"," ",456],".",["T_WHITESPACE"," ",456],["T_CONSTANT_ENCAPSED_STRING","': User field found.'",456],")",";",["T_WHITESPACE","\n    ",456],["T_VARIABLE","$this",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","assertEqual",457],"(",["T_VARIABLE","$definitions",457],"[",["T_CONSTANT_ENCAPSED_STRING","'field_test_text'",457],"]",["T_OBJECT_OPERATOR","->",457],["T_STRING","getType",457],"(",")",",",["T_WHITESPACE"," ",457],["T_CONSTANT_ENCAPSED_STRING","'text'",457],",",["T_WHITESPACE"," ",457],["T_VARIABLE","$entity_type",457],["T_WHITESPACE"," ",457],".",["T_WHITESPACE"," ",457],["T_CONSTANT_ENCAPSED_STRING","': Test-text-field field found.'",457],")",";",["T_WHITESPACE","\n\n    ",457],["T_VARIABLE","$name_properties",459],["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],["T_VARIABLE","$entity",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","name",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","getFieldDefinition",459],"(",")",["T_OBJECT_OPERATOR","->",459],["T_STRING","getPropertyDefinitions",459],"(",")",";",["T_WHITESPACE","\n    ",459],["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","assertEqual",460],"(",["T_VARIABLE","$name_properties",460],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",460],"]",["T_OBJECT_OPERATOR","->",460],["T_STRING","getDataType",460],"(",")",",",["T_WHITESPACE"," ",460],["T_CONSTANT_ENCAPSED_STRING","'string'",460],",",["T_WHITESPACE"," ",460],["T_VARIABLE","$entity_type",460],["T_WHITESPACE"," ",460],".",["T_WHITESPACE"," ",460],["T_CONSTANT_ENCAPSED_STRING","': String value property of the name found.'",460],")",";",["T_WHITESPACE","\n\n    ",460],["T_VARIABLE","$userref_properties",462],["T_WHITESPACE"," ",462],"=",["T_WHITESPACE"," ",462],["T_VARIABLE","$entity",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","user_id",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","getFieldDefinition",462],"(",")",["T_OBJECT_OPERATOR","->",462],["T_STRING","getPropertyDefinitions",462],"(",")",";",["T_WHITESPACE","\n    ",462],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","assertEqual",463],"(",["T_VARIABLE","$userref_properties",463],"[",["T_CONSTANT_ENCAPSED_STRING","'target_id'",463],"]",["T_OBJECT_OPERATOR","->",463],["T_STRING","getDataType",463],"(",")",",",["T_WHITESPACE"," ",463],["T_CONSTANT_ENCAPSED_STRING","'integer'",463],",",["T_WHITESPACE"," ",463],["T_VARIABLE","$entity_type",463],["T_WHITESPACE"," ",463],".",["T_WHITESPACE"," ",463],["T_CONSTANT_ENCAPSED_STRING","': Entity id property of the user found.'",463],")",";",["T_WHITESPACE","\n    ",463],["T_VARIABLE","$this",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","assertEqual",464],"(",["T_VARIABLE","$userref_properties",464],"[",["T_CONSTANT_ENCAPSED_STRING","'entity'",464],"]",["T_OBJECT_OPERATOR","->",464],["T_STRING","getDataType",464],"(",")",",",["T_WHITESPACE"," ",464],["T_CONSTANT_ENCAPSED_STRING","'entity_reference'",464],",",["T_WHITESPACE"," ",464],["T_VARIABLE","$entity_type",464],["T_WHITESPACE"," ",464],".",["T_WHITESPACE"," ",464],["T_CONSTANT_ENCAPSED_STRING","': Entity reference property of the user found.'",464],")",";",["T_WHITESPACE","\n\n    ",464],["T_VARIABLE","$textfield_properties",466],["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],["T_VARIABLE","$entity",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","field_test_text",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","getFieldDefinition",466],"(",")",["T_OBJECT_OPERATOR","->",466],["T_STRING","getFieldStorageDefinition",466],"(",")",["T_OBJECT_OPERATOR","->",466],["T_STRING","getPropertyDefinitions",466],"(",")",";",["T_WHITESPACE","\n    ",466],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","assertEqual",467],"(",["T_VARIABLE","$textfield_properties",467],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",467],"]",["T_OBJECT_OPERATOR","->",467],["T_STRING","getDataType",467],"(",")",",",["T_WHITESPACE"," ",467],["T_CONSTANT_ENCAPSED_STRING","'string'",467],",",["T_WHITESPACE"," ",467],["T_VARIABLE","$entity_type",467],["T_WHITESPACE"," ",467],".",["T_WHITESPACE"," ",467],["T_CONSTANT_ENCAPSED_STRING","': String value property of the test-text field found.'",467],")",";",["T_WHITESPACE","\n    ",467],["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","assertEqual",468],"(",["T_VARIABLE","$textfield_properties",468],"[",["T_CONSTANT_ENCAPSED_STRING","'format'",468],"]",["T_OBJECT_OPERATOR","->",468],["T_STRING","getDataType",468],"(",")",",",["T_WHITESPACE"," ",468],["T_CONSTANT_ENCAPSED_STRING","'filter_format'",468],",",["T_WHITESPACE"," ",468],["T_VARIABLE","$entity_type",468],["T_WHITESPACE"," ",468],".",["T_WHITESPACE"," ",468],["T_CONSTANT_ENCAPSED_STRING","': String format field of the test-text field found.'",468],")",";",["T_WHITESPACE","\n    ",468],["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","assertEqual",469],"(",["T_VARIABLE","$textfield_properties",469],"[",["T_CONSTANT_ENCAPSED_STRING","'processed'",469],"]",["T_OBJECT_OPERATOR","->",469],["T_STRING","getDataType",469],"(",")",",",["T_WHITESPACE"," ",469],["T_CONSTANT_ENCAPSED_STRING","'string'",469],",",["T_WHITESPACE"," ",469],["T_VARIABLE","$entity_type",469],["T_WHITESPACE"," ",469],".",["T_WHITESPACE"," ",469],["T_CONSTANT_ENCAPSED_STRING","': String processed property of the test-text field found.'",469],")",";",["T_WHITESPACE","\n\n    ",469],["T_COMMENT","\/\/ Make sure provided contextual information is right.\n",471],["T_WHITESPACE","    ",472],["T_VARIABLE","$entity_adapter",472],["T_WHITESPACE"," ",472],"=",["T_WHITESPACE"," ",472],["T_VARIABLE","$entity",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","getTypedData",472],"(",")",";",["T_WHITESPACE","\n    ",472],["T_VARIABLE","$this",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","assertIdentical",473],"(",["T_VARIABLE","$entity_adapter",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","getRoot",473],"(",")",",",["T_WHITESPACE"," ",473],["T_VARIABLE","$entity_adapter",473],",",["T_WHITESPACE"," ",473],["T_CONSTANT_ENCAPSED_STRING","'Entity is root object.'",473],")",";",["T_WHITESPACE","\n    ",473],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","assertEqual",474],"(",["T_VARIABLE","$entity_adapter",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","getPropertyPath",474],"(",")",",",["T_WHITESPACE"," ",474],["T_CONSTANT_ENCAPSED_STRING","''",474],")",";",["T_WHITESPACE","\n    ",474],["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","assertEqual",475],"(",["T_VARIABLE","$entity_adapter",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","getName",475],"(",")",",",["T_WHITESPACE"," ",475],["T_CONSTANT_ENCAPSED_STRING","''",475],")",";",["T_WHITESPACE","\n    ",475],["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","assertEqual",476],"(",["T_VARIABLE","$entity_adapter",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","getParent",476],"(",")",",",["T_WHITESPACE"," ",476],["T_STRING","NULL",476],")",";",["T_WHITESPACE","\n\n    ",476],["T_VARIABLE","$field",478],["T_WHITESPACE"," ",478],"=",["T_WHITESPACE"," ",478],["T_VARIABLE","$entity",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","user_id",478],";",["T_WHITESPACE","\n    ",478],["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","assertIdentical",479],"(",["T_VARIABLE","$field",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","getRoot",479],"(",")",["T_OBJECT_OPERATOR","->",479],["T_STRING","getValue",479],"(",")",",",["T_WHITESPACE"," ",479],["T_VARIABLE","$entity",479],",",["T_WHITESPACE"," ",479],["T_CONSTANT_ENCAPSED_STRING","'Entity is root object.'",479],")",";",["T_WHITESPACE","\n    ",479],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","assertIdentical",480],"(",["T_VARIABLE","$field",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","getEntity",480],"(",")",",",["T_WHITESPACE"," ",480],["T_VARIABLE","$entity",480],",",["T_WHITESPACE"," ",480],["T_CONSTANT_ENCAPSED_STRING","'getEntity() returns the entity.'",480],")",";",["T_WHITESPACE","\n    ",480],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","assertEqual",481],"(",["T_VARIABLE","$field",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","getPropertyPath",481],"(",")",",",["T_WHITESPACE"," ",481],["T_CONSTANT_ENCAPSED_STRING","'user_id'",481],")",";",["T_WHITESPACE","\n    ",481],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","assertEqual",482],"(",["T_VARIABLE","$field",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","getName",482],"(",")",",",["T_WHITESPACE"," ",482],["T_CONSTANT_ENCAPSED_STRING","'user_id'",482],")",";",["T_WHITESPACE","\n    ",482],["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","assertIdentical",483],"(",["T_VARIABLE","$field",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","getParent",483],"(",")",["T_OBJECT_OPERATOR","->",483],["T_STRING","getValue",483],"(",")",",",["T_WHITESPACE"," ",483],["T_VARIABLE","$entity",483],",",["T_WHITESPACE"," ",483],["T_CONSTANT_ENCAPSED_STRING","'Parent object matches.'",483],")",";",["T_WHITESPACE","\n\n    ",483],["T_VARIABLE","$field_item",485],["T_WHITESPACE"," ",485],"=",["T_WHITESPACE"," ",485],["T_VARIABLE","$field",485],"[",["T_LNUMBER","0",485],"]",";",["T_WHITESPACE","\n    ",485],["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","assertIdentical",486],"(",["T_VARIABLE","$field_item",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","getRoot",486],"(",")",["T_OBJECT_OPERATOR","->",486],["T_STRING","getValue",486],"(",")",",",["T_WHITESPACE"," ",486],["T_VARIABLE","$entity",486],",",["T_WHITESPACE"," ",486],["T_CONSTANT_ENCAPSED_STRING","'Entity is root object.'",486],")",";",["T_WHITESPACE","\n    ",486],["T_VARIABLE","$this",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","assertIdentical",487],"(",["T_VARIABLE","$field_item",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","getEntity",487],"(",")",",",["T_WHITESPACE"," ",487],["T_VARIABLE","$entity",487],",",["T_WHITESPACE"," ",487],["T_CONSTANT_ENCAPSED_STRING","'getEntity() returns the entity.'",487],")",";",["T_WHITESPACE","\n    ",487],["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","assertEqual",488],"(",["T_VARIABLE","$field_item",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","getPropertyPath",488],"(",")",",",["T_WHITESPACE"," ",488],["T_CONSTANT_ENCAPSED_STRING","'user_id.0'",488],")",";",["T_WHITESPACE","\n    ",488],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","assertEqual",489],"(",["T_VARIABLE","$field_item",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","getName",489],"(",")",",",["T_WHITESPACE"," ",489],["T_CONSTANT_ENCAPSED_STRING","'0'",489],")",";",["T_WHITESPACE","\n    ",489],["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","assertIdentical",490],"(",["T_VARIABLE","$field_item",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","getParent",490],"(",")",",",["T_WHITESPACE"," ",490],["T_VARIABLE","$field",490],",",["T_WHITESPACE"," ",490],["T_CONSTANT_ENCAPSED_STRING","'Parent object matches.'",490],")",";",["T_WHITESPACE","\n\n    ",490],["T_VARIABLE","$item_value",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_VARIABLE","$field_item",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","get",492],"(",["T_CONSTANT_ENCAPSED_STRING","'entity'",492],")",";",["T_WHITESPACE","\n    ",492],["T_VARIABLE","$this",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","assertIdentical",493],"(",["T_VARIABLE","$item_value",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","getRoot",493],"(",")",["T_OBJECT_OPERATOR","->",493],["T_STRING","getValue",493],"(",")",",",["T_WHITESPACE"," ",493],["T_VARIABLE","$entity",493],",",["T_WHITESPACE"," ",493],["T_CONSTANT_ENCAPSED_STRING","'Entity is root object.'",493],")",";",["T_WHITESPACE","\n    ",493],["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","assertEqual",494],"(",["T_VARIABLE","$item_value",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","getPropertyPath",494],"(",")",",",["T_WHITESPACE"," ",494],["T_CONSTANT_ENCAPSED_STRING","'user_id.0.entity'",494],")",";",["T_WHITESPACE","\n    ",494],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","assertEqual",495],"(",["T_VARIABLE","$item_value",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","getName",495],"(",")",",",["T_WHITESPACE"," ",495],["T_CONSTANT_ENCAPSED_STRING","'entity'",495],")",";",["T_WHITESPACE","\n    ",495],["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","assertIdentical",496],"(",["T_VARIABLE","$item_value",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","getParent",496],"(",")",",",["T_WHITESPACE"," ",496],["T_VARIABLE","$field_item",496],",",["T_WHITESPACE"," ",496],["T_CONSTANT_ENCAPSED_STRING","'Parent object matches.'",496],")",";",["T_WHITESPACE","\n  ",496],"}",["T_WHITESPACE","\n\n  ",497],["T_DOC_COMMENT","\/**\n   * Tests iterating over properties.\n   *\/",499],["T_WHITESPACE","\n  ",501],["T_PUBLIC","public",502],["T_WHITESPACE"," ",502],["T_FUNCTION","function",502],["T_WHITESPACE"," ",502],["T_STRING","testIterator",502],"(",")",["T_WHITESPACE"," ",502],"{",["T_WHITESPACE","\n    ",502],["T_COMMENT","\/\/ All entity variations have to have the same results.\n",503],["T_WHITESPACE","    ",504],["T_FOREACH","foreach",504],["T_WHITESPACE"," ",504],"(",["T_STRING","entity_test_entity_types",504],"(",")",["T_WHITESPACE"," ",504],["T_AS","as",504],["T_WHITESPACE"," ",504],["T_VARIABLE","$entity_type",504],")",["T_WHITESPACE"," ",504],"{",["T_WHITESPACE","\n      ",504],["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","doTestIterator",505],"(",["T_VARIABLE","$entity_type",505],")",";",["T_WHITESPACE","\n    ",505],"}",["T_WHITESPACE","\n  ",506],"}",["T_WHITESPACE","\n\n  ",507],["T_DOC_COMMENT","\/**\n   * Executes the iterator tests for the given entity type.\n   *\n   * @param string $entity_type\n   *   The entity type to run the tests with.\n   *\/",509],["T_WHITESPACE","\n  ",514],["T_PROTECTED","protected",515],["T_WHITESPACE"," ",515],["T_FUNCTION","function",515],["T_WHITESPACE"," ",515],["T_STRING","doTestIterator",515],"(",["T_VARIABLE","$entity_type",515],")",["T_WHITESPACE"," ",515],"{",["T_WHITESPACE","\n    ",515],["T_VARIABLE","$entity",516],["T_WHITESPACE"," ",516],"=",["T_WHITESPACE"," ",516],["T_VARIABLE","$this",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","createTestEntity",516],"(",["T_VARIABLE","$entity_type",516],")",";",["T_WHITESPACE","\n\n    ",516],["T_FOREACH","foreach",518],["T_WHITESPACE"," ",518],"(",["T_VARIABLE","$entity",518],["T_WHITESPACE"," ",518],["T_AS","as",518],["T_WHITESPACE"," ",518],["T_VARIABLE","$name",518],["T_WHITESPACE"," ",518],["T_DOUBLE_ARROW","=>",518],["T_WHITESPACE"," ",518],["T_VARIABLE","$field",518],")",["T_WHITESPACE"," ",518],"{",["T_WHITESPACE","\n      ",518],["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","assertTrue",519],"(",["T_VARIABLE","$field",519],["T_WHITESPACE"," ",519],["T_INSTANCEOF","instanceof",519],["T_WHITESPACE"," ",519],["T_STRING","FieldItemListInterface",519],",",["T_WHITESPACE"," ",519],["T_VARIABLE","$entity_type",519],["T_WHITESPACE"," ",519],".",["T_WHITESPACE"," ",519],"\"",["T_ENCAPSED_AND_WHITESPACE",": Field ",519],["T_VARIABLE","$name",519],["T_ENCAPSED_AND_WHITESPACE"," implements interface.",519],"\"",")",";",["T_WHITESPACE","\n\n      ",519],["T_FOREACH","foreach",521],["T_WHITESPACE"," ",521],"(",["T_VARIABLE","$field",521],["T_WHITESPACE"," ",521],["T_AS","as",521],["T_WHITESPACE"," ",521],["T_VARIABLE","$delta",521],["T_WHITESPACE"," ",521],["T_DOUBLE_ARROW","=>",521],["T_WHITESPACE"," ",521],["T_VARIABLE","$item",521],")",["T_WHITESPACE"," ",521],"{",["T_WHITESPACE","\n        ",521],["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","assertTrue",522],"(",["T_VARIABLE","$field",522],"[",["T_LNUMBER","0",522],"]",["T_WHITESPACE"," ",522],["T_INSTANCEOF","instanceof",522],["T_WHITESPACE"," ",522],["T_STRING","FieldItemInterface",522],",",["T_WHITESPACE"," ",522],["T_VARIABLE","$entity_type",522],["T_WHITESPACE"," ",522],".",["T_WHITESPACE"," ",522],"\"",["T_ENCAPSED_AND_WHITESPACE",": Item ",522],["T_VARIABLE","$delta",522],["T_ENCAPSED_AND_WHITESPACE"," of field ",522],["T_VARIABLE","$name",522],["T_ENCAPSED_AND_WHITESPACE"," implements interface.",522],"\"",")",";",["T_WHITESPACE","\n\n        ",522],["T_FOREACH","foreach",524],["T_WHITESPACE"," ",524],"(",["T_VARIABLE","$item",524],["T_WHITESPACE"," ",524],["T_AS","as",524],["T_WHITESPACE"," ",524],["T_VARIABLE","$value_name",524],["T_WHITESPACE"," ",524],["T_DOUBLE_ARROW","=>",524],["T_WHITESPACE"," ",524],["T_VARIABLE","$value_property",524],")",["T_WHITESPACE"," ",524],"{",["T_WHITESPACE","\n          ",524],["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","assertTrue",525],"(",["T_VARIABLE","$value_property",525],["T_WHITESPACE"," ",525],["T_INSTANCEOF","instanceof",525],["T_WHITESPACE"," ",525],["T_STRING","TypedDataInterface",525],",",["T_WHITESPACE"," ",525],["T_VARIABLE","$entity_type",525],["T_WHITESPACE"," ",525],".",["T_WHITESPACE"," ",525],"\"",["T_ENCAPSED_AND_WHITESPACE",": Value ",525],["T_VARIABLE","$value_name",525],["T_ENCAPSED_AND_WHITESPACE"," of item ",525],["T_VARIABLE","$delta",525],["T_ENCAPSED_AND_WHITESPACE"," of field ",525],["T_VARIABLE","$name",525],["T_ENCAPSED_AND_WHITESPACE"," implements interface.",525],"\"",")",";",["T_WHITESPACE","\n\n          ",525],["T_VARIABLE","$value",527],["T_WHITESPACE"," ",527],"=",["T_WHITESPACE"," ",527],["T_VARIABLE","$value_property",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","getValue",527],"(",")",";",["T_WHITESPACE","\n          ",527],["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","assertTrue",528],"(","!",["T_ISSET","isset",528],"(",["T_VARIABLE","$value",528],")",["T_WHITESPACE"," ",528],["T_BOOLEAN_OR","||",528],["T_WHITESPACE"," ",528],["T_STRING","is_scalar",528],"(",["T_VARIABLE","$value",528],")",["T_WHITESPACE"," ",528],["T_BOOLEAN_OR","||",528],["T_WHITESPACE"," ",528],["T_VARIABLE","$value",528],["T_WHITESPACE"," ",528],["T_INSTANCEOF","instanceof",528],["T_WHITESPACE"," ",528],["T_STRING","EntityInterface",528],",",["T_WHITESPACE"," ",528],["T_VARIABLE","$entity_type",528],["T_WHITESPACE"," ",528],".",["T_WHITESPACE"," ",528],"\"",["T_ENCAPSED_AND_WHITESPACE",": Value ",528],["T_VARIABLE","$value_name",528],["T_ENCAPSED_AND_WHITESPACE"," of item ",528],["T_VARIABLE","$delta",528],["T_ENCAPSED_AND_WHITESPACE"," of field ",528],["T_VARIABLE","$name",528],["T_ENCAPSED_AND_WHITESPACE"," is a primitive or an entity.",528],"\"",")",";",["T_WHITESPACE","\n        ",528],"}",["T_WHITESPACE","\n      ",529],"}",["T_WHITESPACE","\n    ",530],"}",["T_WHITESPACE","\n\n    ",531],["T_VARIABLE","$fields",533],["T_WHITESPACE"," ",533],"=",["T_WHITESPACE"," ",533],["T_VARIABLE","$entity",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","getFields",533],"(",")",";",["T_WHITESPACE","\n    ",533],["T_VARIABLE","$this",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","assertEqual",534],"(",["T_STRING","array_keys",534],"(",["T_VARIABLE","$fields",534],")",",",["T_WHITESPACE"," ",534],["T_STRING","array_keys",534],"(",["T_VARIABLE","$entity",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","getTypedData",534],"(",")",["T_OBJECT_OPERATOR","->",534],["T_STRING","getDataDefinition",534],"(",")",["T_OBJECT_OPERATOR","->",534],["T_STRING","getPropertyDefinitions",534],"(",")",")",",",["T_WHITESPACE"," ",534],["T_STRING","format_string",534],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: All fields returned.'",534],",",["T_WHITESPACE"," ",534],["T_ARRAY","array",534],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",534],["T_WHITESPACE"," ",534],["T_DOUBLE_ARROW","=>",534],["T_WHITESPACE"," ",534],["T_VARIABLE","$entity_type",534],")",")",")",";",["T_WHITESPACE","\n    ",534],["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","assertEqual",535],"(",["T_VARIABLE","$fields",535],",",["T_WHITESPACE"," ",535],["T_STRING","iterator_to_array",535],"(",["T_VARIABLE","$entity",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","getIterator",535],"(",")",")",",",["T_WHITESPACE"," ",535],["T_STRING","format_string",535],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Entity iterator iterates over all fields.'",535],",",["T_WHITESPACE"," ",535],["T_ARRAY","array",535],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",535],["T_WHITESPACE"," ",535],["T_DOUBLE_ARROW","=>",535],["T_WHITESPACE"," ",535],["T_VARIABLE","$entity_type",535],")",")",")",";",["T_WHITESPACE","\n  ",535],"}",["T_WHITESPACE","\n\n  ",536],["T_DOC_COMMENT","\/**\n   * Tests working with the entity based upon the TypedData API.\n   *\/",538],["T_WHITESPACE","\n  ",540],["T_PUBLIC","public",541],["T_WHITESPACE"," ",541],["T_FUNCTION","function",541],["T_WHITESPACE"," ",541],["T_STRING","testDataStructureInterfaces",541],"(",")",["T_WHITESPACE"," ",541],"{",["T_WHITESPACE","\n    ",541],["T_COMMENT","\/\/ All entity variations have to have the same results.\n",542],["T_WHITESPACE","    ",543],["T_FOREACH","foreach",543],["T_WHITESPACE"," ",543],"(",["T_STRING","entity_test_entity_types",543],"(",")",["T_WHITESPACE"," ",543],["T_AS","as",543],["T_WHITESPACE"," ",543],["T_VARIABLE","$entity_type",543],")",["T_WHITESPACE"," ",543],"{",["T_WHITESPACE","\n      ",543],["T_VARIABLE","$this",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","doTestDataStructureInterfaces",544],"(",["T_VARIABLE","$entity_type",544],")",";",["T_WHITESPACE","\n    ",544],"}",["T_WHITESPACE","\n  ",545],"}",["T_WHITESPACE","\n\n  ",546],["T_DOC_COMMENT","\/**\n   * Executes the data structure interfaces tests for the given entity type.\n   *\n   * @param string $entity_type\n   *   The entity type to run the tests with.\n   *\/",548],["T_WHITESPACE","\n  ",553],["T_PROTECTED","protected",554],["T_WHITESPACE"," ",554],["T_FUNCTION","function",554],["T_WHITESPACE"," ",554],["T_STRING","doTestDataStructureInterfaces",554],"(",["T_VARIABLE","$entity_type",554],")",["T_WHITESPACE"," ",554],"{",["T_WHITESPACE","\n    ",554],["T_VARIABLE","$entity",555],["T_WHITESPACE"," ",555],"=",["T_WHITESPACE"," ",555],["T_VARIABLE","$this",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","createTestEntity",555],"(",["T_VARIABLE","$entity_type",555],")",";",["T_WHITESPACE","\n\n    ",555],["T_COMMENT","\/\/ Test using the whole tree of typed data by navigating through the tree of\n",557],["T_WHITESPACE","    ",558],["T_COMMENT","\/\/ contained properties and getting all contained strings, limited by a\n",558],["T_WHITESPACE","    ",559],["T_COMMENT","\/\/ certain depth.\n",559],["T_WHITESPACE","    ",560],["T_VARIABLE","$strings",560],["T_WHITESPACE"," ",560],"=",["T_WHITESPACE"," ",560],["T_ARRAY","array",560],"(",")",";",["T_WHITESPACE","\n    ",560],["T_VARIABLE","$this",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","getContainedStrings",561],"(",["T_VARIABLE","$entity",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","getTypedData",561],"(",")",",",["T_WHITESPACE"," ",561],["T_LNUMBER","0",561],",",["T_WHITESPACE"," ",561],["T_VARIABLE","$strings",561],")",";",["T_WHITESPACE","\n\n    ",561],["T_COMMENT","\/\/ @todo: Once the user entity has defined properties this should contain\n",563],["T_WHITESPACE","    ",564],["T_COMMENT","\/\/ the user name and other user entity strings as well.\n",564],["T_WHITESPACE","    ",565],["T_VARIABLE","$target_strings",565],["T_WHITESPACE"," ",565],"=",["T_WHITESPACE"," ",565],["T_ARRAY","array",565],"(",["T_WHITESPACE","\n      ",565],["T_VARIABLE","$entity",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","uuid",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","value",566],",",["T_WHITESPACE","\n      ",566],["T_CONSTANT_ENCAPSED_STRING","'en'",567],",",["T_WHITESPACE","\n      ",567],["T_VARIABLE","$this",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","entityName",568],",",["T_WHITESPACE","\n      ",568],["T_COMMENT","\/\/ Bundle name.\n",569],["T_WHITESPACE","      ",570],["T_VARIABLE","$entity",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","bundle",570],"(",")",",",["T_WHITESPACE","\n      ",570],["T_VARIABLE","$this",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","entityFieldText",571],",",["T_WHITESPACE","\n      ",571],["T_COMMENT","\/\/ Field format.\n",572],["T_WHITESPACE","      ",573],["T_STRING","NULL",573],",",["T_WHITESPACE","\n    ",573],")",";",["T_WHITESPACE","\n    ",574],["T_STRING","asort",575],"(",["T_VARIABLE","$strings",575],")",";",["T_WHITESPACE","\n    ",575],["T_STRING","asort",576],"(",["T_VARIABLE","$target_strings",576],")",";",["T_WHITESPACE","\n    ",576],["T_VARIABLE","$this",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","assertEqual",577],"(",["T_STRING","array_values",577],"(",["T_VARIABLE","$strings",577],")",",",["T_WHITESPACE"," ",577],["T_STRING","array_values",577],"(",["T_VARIABLE","$target_strings",577],")",",",["T_WHITESPACE"," ",577],["T_STRING","format_string",577],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: All contained strings found.'",577],",",["T_WHITESPACE"," ",577],["T_ARRAY","array",577],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",577],["T_WHITESPACE"," ",577],["T_DOUBLE_ARROW","=>",577],["T_WHITESPACE"," ",577],["T_VARIABLE","$entity_type",577],")",")",")",";",["T_WHITESPACE","\n  ",577],"}",["T_WHITESPACE","\n\n  ",578],["T_DOC_COMMENT","\/**\n   * Recursive helper for getting all contained strings,\n   * i.e. properties of type string.\n   *\/",580],["T_WHITESPACE","\n  ",583],["T_PUBLIC","public",584],["T_WHITESPACE"," ",584],["T_FUNCTION","function",584],["T_WHITESPACE"," ",584],["T_STRING","getContainedStrings",584],"(",["T_STRING","TypedDataInterface",584],["T_WHITESPACE"," ",584],["T_VARIABLE","$wrapper",584],",",["T_WHITESPACE"," ",584],["T_VARIABLE","$depth",584],",",["T_WHITESPACE"," ",584],["T_ARRAY","array",584],["T_WHITESPACE"," ",584],"&",["T_VARIABLE","$strings",584],")",["T_WHITESPACE"," ",584],"{",["T_WHITESPACE","\n\n    ",584],["T_IF","if",586],["T_WHITESPACE"," ",586],"(",["T_VARIABLE","$wrapper",586],["T_WHITESPACE"," ",586],["T_INSTANCEOF","instanceof",586],["T_WHITESPACE"," ",586],["T_STRING","StringInterface",586],")",["T_WHITESPACE"," ",586],"{",["T_WHITESPACE","\n      ",586],["T_VARIABLE","$strings",587],"[","]",["T_WHITESPACE"," ",587],"=",["T_WHITESPACE"," ",587],["T_VARIABLE","$wrapper",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","getValue",587],"(",")",";",["T_WHITESPACE","\n    ",587],"}",["T_WHITESPACE","\n\n    ",588],["T_COMMENT","\/\/ Recurse until a certain depth is reached if possible.\n",590],["T_WHITESPACE","    ",591],["T_IF","if",591],["T_WHITESPACE"," ",591],"(",["T_VARIABLE","$depth",591],["T_WHITESPACE"," ",591],"<",["T_WHITESPACE"," ",591],["T_LNUMBER","7",591],")",["T_WHITESPACE"," ",591],"{",["T_WHITESPACE","\n      ",591],["T_IF","if",592],["T_WHITESPACE"," ",592],"(",["T_VARIABLE","$wrapper",592],["T_WHITESPACE"," ",592],["T_INSTANCEOF","instanceof",592],["T_WHITESPACE"," ",592],["T_STRING","ListInterface",592],")",["T_WHITESPACE"," ",592],"{",["T_WHITESPACE","\n        ",592],["T_FOREACH","foreach",593],["T_WHITESPACE"," ",593],"(",["T_VARIABLE","$wrapper",593],["T_WHITESPACE"," ",593],["T_AS","as",593],["T_WHITESPACE"," ",593],["T_VARIABLE","$item",593],")",["T_WHITESPACE"," ",593],"{",["T_WHITESPACE","\n          ",593],["T_VARIABLE","$this",594],["T_OBJECT_OPERATOR","->",594],["T_STRING","getContainedStrings",594],"(",["T_VARIABLE","$item",594],",",["T_WHITESPACE"," ",594],["T_VARIABLE","$depth",594],["T_WHITESPACE"," ",594],"+",["T_WHITESPACE"," ",594],["T_LNUMBER","1",594],",",["T_WHITESPACE"," ",594],["T_VARIABLE","$strings",594],")",";",["T_WHITESPACE","\n        ",594],"}",["T_WHITESPACE","\n      ",595],"}",["T_WHITESPACE","\n      ",596],["T_ELSEIF","elseif",597],["T_WHITESPACE"," ",597],"(",["T_VARIABLE","$wrapper",597],["T_WHITESPACE"," ",597],["T_INSTANCEOF","instanceof",597],["T_WHITESPACE"," ",597],["T_STRING","ComplexDataInterface",597],")",["T_WHITESPACE"," ",597],"{",["T_WHITESPACE","\n        ",597],["T_FOREACH","foreach",598],["T_WHITESPACE"," ",598],"(",["T_VARIABLE","$wrapper",598],["T_WHITESPACE"," ",598],["T_AS","as",598],["T_WHITESPACE"," ",598],["T_VARIABLE","$property",598],")",["T_WHITESPACE"," ",598],"{",["T_WHITESPACE","\n          ",598],["T_VARIABLE","$this",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","getContainedStrings",599],"(",["T_VARIABLE","$property",599],",",["T_WHITESPACE"," ",599],["T_VARIABLE","$depth",599],["T_WHITESPACE"," ",599],"+",["T_WHITESPACE"," ",599],["T_LNUMBER","1",599],",",["T_WHITESPACE"," ",599],["T_VARIABLE","$strings",599],")",";",["T_WHITESPACE","\n        ",599],"}",["T_WHITESPACE","\n      ",600],"}",["T_WHITESPACE","\n    ",601],"}",["T_WHITESPACE","\n  ",602],"}",["T_WHITESPACE","\n\n  ",603],["T_DOC_COMMENT","\/**\n   * Makes sure data types are correctly derived for all entity types.\n   *\/",605],["T_WHITESPACE","\n  ",607],["T_PUBLIC","public",608],["T_WHITESPACE"," ",608],["T_FUNCTION","function",608],["T_WHITESPACE"," ",608],["T_STRING","testDataTypes",608],"(",")",["T_WHITESPACE"," ",608],"{",["T_WHITESPACE","\n    ",608],["T_VARIABLE","$types",609],["T_WHITESPACE"," ",609],"=",["T_WHITESPACE"," ",609],["T_NS_SEPARATOR","\\",609],["T_STRING","Drupal",609],["T_DOUBLE_COLON","::",609],["T_STRING","typedDataManager",609],"(",")",["T_OBJECT_OPERATOR","->",609],["T_STRING","getDefinitions",609],"(",")",";",["T_WHITESPACE","\n    ",609],["T_FOREACH","foreach",610],["T_WHITESPACE"," ",610],"(",["T_STRING","entity_test_entity_types",610],"(",")",["T_WHITESPACE"," ",610],["T_AS","as",610],["T_WHITESPACE"," ",610],["T_VARIABLE","$entity_type",610],")",["T_WHITESPACE"," ",610],"{",["T_WHITESPACE","\n      ",610],["T_VARIABLE","$this",611],["T_OBJECT_OPERATOR","->",611],["T_STRING","assertTrue",611],"(",["T_VARIABLE","$types",611],"[",["T_CONSTANT_ENCAPSED_STRING","'entity:'",611],["T_WHITESPACE"," ",611],".",["T_WHITESPACE"," ",611],["T_VARIABLE","$entity_type",611],"]","[",["T_CONSTANT_ENCAPSED_STRING","'class'",611],"]",",",["T_WHITESPACE"," ",611],["T_CONSTANT_ENCAPSED_STRING","'Entity data type registered.'",611],")",";",["T_WHITESPACE","\n    ",611],"}",["T_WHITESPACE","\n    ",612],["T_COMMENT","\/\/ Check bundle types are provided as well.\n",613],["T_WHITESPACE","    ",614],["T_STRING","entity_test_create_bundle",614],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle'",614],")",";",["T_WHITESPACE","\n    ",614],["T_VARIABLE","$types",615],["T_WHITESPACE"," ",615],"=",["T_WHITESPACE"," ",615],["T_NS_SEPARATOR","\\",615],["T_STRING","Drupal",615],["T_DOUBLE_COLON","::",615],["T_STRING","typedDataManager",615],"(",")",["T_OBJECT_OPERATOR","->",615],["T_STRING","getDefinitions",615],"(",")",";",["T_WHITESPACE","\n    ",615],["T_VARIABLE","$this",616],["T_OBJECT_OPERATOR","->",616],["T_STRING","assertTrue",616],"(",["T_VARIABLE","$types",616],"[",["T_CONSTANT_ENCAPSED_STRING","'entity:entity_test:bundle'",616],"]","[",["T_CONSTANT_ENCAPSED_STRING","'class'",616],"]",",",["T_WHITESPACE"," ",616],["T_CONSTANT_ENCAPSED_STRING","'Entity bundle data type registered.'",616],")",";",["T_WHITESPACE","\n  ",616],"}",["T_WHITESPACE","\n\n  ",617],["T_DOC_COMMENT","\/**\n   * Tests a base field override on a non-existing base field.\n   *\n   * @see entity_test_entity_base_field_info_alter()\n   *\/",619],["T_WHITESPACE","\n  ",623],["T_PUBLIC","public",624],["T_WHITESPACE"," ",624],["T_FUNCTION","function",624],["T_WHITESPACE"," ",624],["T_STRING","testBaseFieldNonExistingBaseField",624],"(",")",["T_WHITESPACE"," ",624],"{",["T_WHITESPACE","\n    ",624],["T_VARIABLE","$this",625],["T_OBJECT_OPERATOR","->",625],["T_STRING","entityManager",625],["T_OBJECT_OPERATOR","->",625],["T_STRING","getStorage",625],"(",["T_CONSTANT_ENCAPSED_STRING","'node_type'",625],")",["T_OBJECT_OPERATOR","->",625],["T_STRING","create",625],"(",["T_ARRAY","array",625],"(",["T_WHITESPACE","\n      ",625],["T_CONSTANT_ENCAPSED_STRING","'type'",626],["T_WHITESPACE"," ",626],["T_DOUBLE_ARROW","=>",626],["T_WHITESPACE"," ",626],["T_CONSTANT_ENCAPSED_STRING","'page'",626],",",["T_WHITESPACE","\n      ",626],["T_CONSTANT_ENCAPSED_STRING","'name'",627],["T_WHITESPACE"," ",627],["T_DOUBLE_ARROW","=>",627],["T_WHITESPACE"," ",627],["T_CONSTANT_ENCAPSED_STRING","'page'",627],",",["T_WHITESPACE","\n    ",627],")",")",["T_OBJECT_OPERATOR","->",628],["T_STRING","save",628],"(",")",";",["T_WHITESPACE","\n    ",628],["T_VARIABLE","$this",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","entityManager",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","clearCachedFieldDefinitions",629],"(",")",";",["T_WHITESPACE","\n    ",629],["T_VARIABLE","$fields",630],["T_WHITESPACE"," ",630],"=",["T_WHITESPACE"," ",630],["T_VARIABLE","$this",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","entityManager",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","getFieldDefinitions",630],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",630],",",["T_WHITESPACE"," ",630],["T_CONSTANT_ENCAPSED_STRING","'page'",630],")",";",["T_WHITESPACE","\n    ",630],["T_VARIABLE","$override",631],["T_WHITESPACE"," ",631],"=",["T_WHITESPACE"," ",631],["T_VARIABLE","$fields",631],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",631],"]",["T_OBJECT_OPERATOR","->",631],["T_STRING","getConfig",631],"(",["T_CONSTANT_ENCAPSED_STRING","'page'",631],")",";",["T_WHITESPACE","\n    ",631],["T_VARIABLE","$override",632],["T_OBJECT_OPERATOR","->",632],["T_STRING","setLabel",632],"(",["T_VARIABLE","$this",632],["T_OBJECT_OPERATOR","->",632],["T_STRING","randomString",632],"(",")",")",["T_OBJECT_OPERATOR","->",632],["T_STRING","save",632],"(",")",";",["T_WHITESPACE","\n    ",632],["T_NS_SEPARATOR","\\",633],["T_STRING","Drupal",633],["T_DOUBLE_COLON","::",633],["T_STRING","state",633],"(",")",["T_OBJECT_OPERATOR","->",633],["T_STRING","set",633],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test.node_remove_status_field'",633],",",["T_WHITESPACE"," ",633],["T_STRING","TRUE",633],")",";",["T_WHITESPACE","\n    ",633],["T_VARIABLE","$this",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","entityManager",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","clearCachedFieldDefinitions",634],"(",")",";",["T_WHITESPACE","\n    ",634],["T_VARIABLE","$fields",635],["T_WHITESPACE"," ",635],"=",["T_WHITESPACE"," ",635],["T_VARIABLE","$this",635],["T_OBJECT_OPERATOR","->",635],["T_STRING","entityManager",635],["T_OBJECT_OPERATOR","->",635],["T_STRING","getFieldDefinitions",635],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",635],",",["T_WHITESPACE"," ",635],["T_CONSTANT_ENCAPSED_STRING","'page'",635],")",";",["T_WHITESPACE","\n    ",635],["T_COMMENT","\/\/ A base field override on a non-existing base field should not cause a\n",636],["T_WHITESPACE","    ",637],["T_COMMENT","\/\/ field definition to come into existence.\n",637],["T_WHITESPACE","    ",638],["T_VARIABLE","$this",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","assertFalse",638],"(",["T_ISSET","isset",638],"(",["T_VARIABLE","$fields",638],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",638],"]",")",",",["T_WHITESPACE"," ",638],["T_CONSTANT_ENCAPSED_STRING","'Node\\'s status base field does not exist.'",638],")",";",["T_WHITESPACE","\n  ",638],"}",["T_WHITESPACE","\n\n  ",639],["T_DOC_COMMENT","\/**\n   * Tests creating a field override config for a bundle field.\n   *\n   * @see entity_test_entity_base_field_info_alter()\n   *\/",641],["T_WHITESPACE","\n  ",645],["T_PUBLIC","public",646],["T_WHITESPACE"," ",646],["T_FUNCTION","function",646],["T_WHITESPACE"," ",646],["T_STRING","testFieldOverrideBundleField",646],"(",")",["T_WHITESPACE"," ",646],"{",["T_WHITESPACE","\n    ",646],["T_COMMENT","\/\/ First make sure the bundle field override in code, which is provided by\n",647],["T_WHITESPACE","    ",648],["T_COMMENT","\/\/ the test entity works.\n",648],["T_WHITESPACE","    ",649],["T_STRING","entity_test_create_bundle",649],"(",["T_CONSTANT_ENCAPSED_STRING","'some_test_bundle'",649],",",["T_WHITESPACE"," ",649],["T_CONSTANT_ENCAPSED_STRING","'Some test bundle'",649],",",["T_WHITESPACE"," ",649],["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_override'",649],")",";",["T_WHITESPACE","\n    ",649],["T_VARIABLE","$field_definitions",650],["T_WHITESPACE"," ",650],"=",["T_WHITESPACE"," ",650],["T_VARIABLE","$this",650],["T_OBJECT_OPERATOR","->",650],["T_STRING","entityManager",650],["T_OBJECT_OPERATOR","->",650],["T_STRING","getFieldDefinitions",650],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_override'",650],",",["T_WHITESPACE"," ",650],["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_override'",650],")",";",["T_WHITESPACE","\n    ",650],["T_VARIABLE","$this",651],["T_OBJECT_OPERATOR","->",651],["T_STRING","assertEqual",651],"(",["T_VARIABLE","$field_definitions",651],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",651],"]",["T_OBJECT_OPERATOR","->",651],["T_STRING","getDescription",651],"(",")",",",["T_WHITESPACE"," ",651],["T_CONSTANT_ENCAPSED_STRING","'The default description.'",651],")",";",["T_WHITESPACE","\n    ",651],["T_VARIABLE","$this",652],["T_OBJECT_OPERATOR","->",652],["T_STRING","assertNull",652],"(",["T_VARIABLE","$field_definitions",652],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",652],"]",["T_OBJECT_OPERATOR","->",652],["T_STRING","getTargetBundle",652],"(",")",")",";",["T_WHITESPACE","\n\n    ",652],["T_VARIABLE","$field_definitions",654],["T_WHITESPACE"," ",654],"=",["T_WHITESPACE"," ",654],["T_VARIABLE","$this",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","entityManager",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","getFieldDefinitions",654],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_override'",654],",",["T_WHITESPACE"," ",654],["T_CONSTANT_ENCAPSED_STRING","'some_test_bundle'",654],")",";",["T_WHITESPACE","\n    ",654],["T_VARIABLE","$this",655],["T_OBJECT_OPERATOR","->",655],["T_STRING","assertEqual",655],"(",["T_VARIABLE","$field_definitions",655],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",655],"]",["T_OBJECT_OPERATOR","->",655],["T_STRING","getDescription",655],"(",")",",",["T_WHITESPACE"," ",655],["T_CONSTANT_ENCAPSED_STRING","'Custom description.'",655],")",";",["T_WHITESPACE","\n    ",655],["T_VARIABLE","$this",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","assertEqual",656],"(",["T_VARIABLE","$field_definitions",656],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",656],"]",["T_OBJECT_OPERATOR","->",656],["T_STRING","getTargetBundle",656],"(",")",",",["T_WHITESPACE"," ",656],["T_CONSTANT_ENCAPSED_STRING","'some_test_bundle'",656],")",";",["T_WHITESPACE","\n\n    ",656],["T_COMMENT","\/\/ Now create a config override of the bundle field.\n",658],["T_WHITESPACE","    ",659],["T_VARIABLE","$field_config",659],["T_WHITESPACE"," ",659],"=",["T_WHITESPACE"," ",659],["T_VARIABLE","$field_definitions",659],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",659],"]",["T_OBJECT_OPERATOR","->",659],["T_STRING","getConfig",659],"(",["T_CONSTANT_ENCAPSED_STRING","'some_test_bundle'",659],")",";",["T_WHITESPACE","\n    ",659],["T_VARIABLE","$field_config",660],["T_OBJECT_OPERATOR","->",660],["T_STRING","setTranslatable",660],"(",["T_STRING","FALSE",660],")",";",["T_WHITESPACE","\n    ",660],["T_VARIABLE","$field_config",661],["T_OBJECT_OPERATOR","->",661],["T_STRING","save",661],"(",")",";",["T_WHITESPACE","\n\n    ",661],["T_COMMENT","\/\/ Make sure both overrides are present.\n",663],["T_WHITESPACE","    ",664],["T_VARIABLE","$this",664],["T_OBJECT_OPERATOR","->",664],["T_STRING","entityManager",664],["T_OBJECT_OPERATOR","->",664],["T_STRING","clearCachedFieldDefinitions",664],"(",")",";",["T_WHITESPACE","\n    ",664],["T_VARIABLE","$field_definitions",665],["T_WHITESPACE"," ",665],"=",["T_WHITESPACE"," ",665],["T_VARIABLE","$this",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","entityManager",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","getFieldDefinitions",665],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_override'",665],",",["T_WHITESPACE"," ",665],["T_CONSTANT_ENCAPSED_STRING","'some_test_bundle'",665],")",";",["T_WHITESPACE","\n    ",665],["T_VARIABLE","$this",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","assertEqual",666],"(",["T_VARIABLE","$field_definitions",666],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",666],"]",["T_OBJECT_OPERATOR","->",666],["T_STRING","getDescription",666],"(",")",",",["T_WHITESPACE"," ",666],["T_CONSTANT_ENCAPSED_STRING","'Custom description.'",666],")",";",["T_WHITESPACE","\n    ",666],["T_VARIABLE","$this",667],["T_OBJECT_OPERATOR","->",667],["T_STRING","assertEqual",667],"(",["T_VARIABLE","$field_definitions",667],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",667],"]",["T_OBJECT_OPERATOR","->",667],["T_STRING","getTargetBundle",667],"(",")",",",["T_WHITESPACE"," ",667],["T_CONSTANT_ENCAPSED_STRING","'some_test_bundle'",667],")",";",["T_WHITESPACE","\n    ",667],["T_VARIABLE","$this",668],["T_OBJECT_OPERATOR","->",668],["T_STRING","assertFalse",668],"(",["T_VARIABLE","$field_definitions",668],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",668],"]",["T_OBJECT_OPERATOR","->",668],["T_STRING","isTranslatable",668],"(",")",")",";",["T_WHITESPACE","\n  ",668],"}",["T_WHITESPACE","\n\n  ",669],["T_DOC_COMMENT","\/**\n   * Tests validation constraints provided by the Entity API.\n   *\/",671],["T_WHITESPACE","\n  ",673],["T_PUBLIC","public",674],["T_WHITESPACE"," ",674],["T_FUNCTION","function",674],["T_WHITESPACE"," ",674],["T_STRING","testEntityConstraintValidation",674],"(",")",["T_WHITESPACE"," ",674],"{",["T_WHITESPACE","\n    ",674],["T_VARIABLE","$entity",675],["T_WHITESPACE"," ",675],"=",["T_WHITESPACE"," ",675],["T_VARIABLE","$this",675],["T_OBJECT_OPERATOR","->",675],["T_STRING","createTestEntity",675],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",675],")",";",["T_WHITESPACE","\n    ",675],["T_VARIABLE","$entity",676],["T_OBJECT_OPERATOR","->",676],["T_STRING","save",676],"(",")",";",["T_WHITESPACE","\n    ",676],["T_COMMENT","\/\/ Create a reference field item and let it reference the entity.\n",677],["T_WHITESPACE","    ",678],["T_VARIABLE","$definition",678],["T_WHITESPACE"," ",678],"=",["T_WHITESPACE"," ",678],["T_STRING","BaseFieldDefinition",678],["T_DOUBLE_COLON","::",678],["T_STRING","create",678],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_reference'",678],")",["T_WHITESPACE","\n      ",678],["T_OBJECT_OPERATOR","->",679],["T_STRING","setLabel",679],"(",["T_CONSTANT_ENCAPSED_STRING","'Test entity'",679],")",["T_WHITESPACE","\n      ",679],["T_OBJECT_OPERATOR","->",680],["T_STRING","setSetting",680],"(",["T_CONSTANT_ENCAPSED_STRING","'target_type'",680],",",["T_WHITESPACE"," ",680],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",680],")",";",["T_WHITESPACE","\n    ",680],["T_VARIABLE","$reference_field",681],["T_WHITESPACE"," ",681],"=",["T_WHITESPACE"," ",681],["T_NS_SEPARATOR","\\",681],["T_STRING","Drupal",681],["T_DOUBLE_COLON","::",681],["T_STRING","typedDataManager",681],"(",")",["T_OBJECT_OPERATOR","->",681],["T_STRING","create",681],"(",["T_VARIABLE","$definition",681],")",";",["T_WHITESPACE","\n    ",681],["T_VARIABLE","$reference",682],["T_WHITESPACE"," ",682],"=",["T_WHITESPACE"," ",682],["T_VARIABLE","$reference_field",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","appendItem",682],"(",["T_ARRAY","array",682],"(",["T_CONSTANT_ENCAPSED_STRING","'entity'",682],["T_WHITESPACE"," ",682],["T_DOUBLE_ARROW","=>",682],["T_WHITESPACE"," ",682],["T_VARIABLE","$entity",682],")",")",["T_OBJECT_OPERATOR","->",682],["T_STRING","get",682],"(",["T_CONSTANT_ENCAPSED_STRING","'entity'",682],")",";",["T_WHITESPACE","\n\n    ",682],["T_COMMENT","\/\/ Test validation the typed data object.\n",684],["T_WHITESPACE","    ",685],["T_VARIABLE","$violations",685],["T_WHITESPACE"," ",685],"=",["T_WHITESPACE"," ",685],["T_VARIABLE","$reference",685],["T_OBJECT_OPERATOR","->",685],["T_STRING","validate",685],"(",")",";",["T_WHITESPACE","\n    ",685],["T_VARIABLE","$this",686],["T_OBJECT_OPERATOR","->",686],["T_STRING","assertEqual",686],"(",["T_VARIABLE","$violations",686],["T_OBJECT_OPERATOR","->",686],["T_STRING","count",686],"(",")",",",["T_WHITESPACE"," ",686],["T_LNUMBER","0",686],")",";",["T_WHITESPACE","\n\n    ",686],["T_COMMENT","\/\/ Test validating an entity of the wrong type.\n",688],["T_WHITESPACE","    ",689],["T_VARIABLE","$user",689],["T_WHITESPACE"," ",689],"=",["T_WHITESPACE"," ",689],["T_VARIABLE","$this",689],["T_OBJECT_OPERATOR","->",689],["T_STRING","createUser",689],"(",")",";",["T_WHITESPACE","\n    ",689],["T_VARIABLE","$user",690],["T_OBJECT_OPERATOR","->",690],["T_STRING","save",690],"(",")",";",["T_WHITESPACE","\n    ",690],["T_VARIABLE","$node",691],["T_WHITESPACE"," ",691],"=",["T_WHITESPACE"," ",691],["T_VARIABLE","$node",691],["T_WHITESPACE"," ",691],"=",["T_WHITESPACE"," ",691],["T_STRING","Node",691],["T_DOUBLE_COLON","::",691],["T_STRING","create",691],"(","[",["T_WHITESPACE","\n      ",691],["T_CONSTANT_ENCAPSED_STRING","'type'",692],["T_WHITESPACE"," ",692],["T_DOUBLE_ARROW","=>",692],["T_WHITESPACE"," ",692],["T_CONSTANT_ENCAPSED_STRING","'page'",692],",",["T_WHITESPACE","\n      ",692],["T_CONSTANT_ENCAPSED_STRING","'uid'",693],["T_WHITESPACE"," ",693],["T_DOUBLE_ARROW","=>",693],["T_WHITESPACE"," ",693],["T_VARIABLE","$user",693],["T_OBJECT_OPERATOR","->",693],["T_STRING","id",693],"(",")",",",["T_WHITESPACE","\n      ",693],["T_CONSTANT_ENCAPSED_STRING","'title'",694],["T_WHITESPACE"," ",694],["T_DOUBLE_ARROW","=>",694],["T_WHITESPACE"," ",694],["T_VARIABLE","$this",694],["T_OBJECT_OPERATOR","->",694],["T_STRING","randomString",694],"(",")",",",["T_WHITESPACE","\n    ",694],"]",")",";",["T_WHITESPACE","\n    ",695],["T_VARIABLE","$reference",696],["T_OBJECT_OPERATOR","->",696],["T_STRING","setValue",696],"(",["T_VARIABLE","$node",696],")",";",["T_WHITESPACE","\n    ",696],["T_VARIABLE","$violations",697],["T_WHITESPACE"," ",697],"=",["T_WHITESPACE"," ",697],["T_VARIABLE","$reference",697],["T_OBJECT_OPERATOR","->",697],["T_STRING","validate",697],"(",")",";",["T_WHITESPACE","\n    ",697],["T_VARIABLE","$this",698],["T_OBJECT_OPERATOR","->",698],["T_STRING","assertEqual",698],"(",["T_VARIABLE","$violations",698],["T_OBJECT_OPERATOR","->",698],["T_STRING","count",698],"(",")",",",["T_WHITESPACE"," ",698],["T_LNUMBER","1",698],")",";",["T_WHITESPACE","\n\n    ",698],["T_COMMENT","\/\/ Test bundle validation.\n",700],["T_WHITESPACE","    ",701],["T_STRING","NodeType",701],["T_DOUBLE_COLON","::",701],["T_STRING","create",701],"(",["T_ARRAY","array",701],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",701],["T_WHITESPACE"," ",701],["T_DOUBLE_ARROW","=>",701],["T_WHITESPACE"," ",701],["T_CONSTANT_ENCAPSED_STRING","'article'",701],")",")",["T_WHITESPACE","\n      ",701],["T_OBJECT_OPERATOR","->",702],["T_STRING","save",702],"(",")",";",["T_WHITESPACE","\n    ",702],["T_VARIABLE","$definition",703],["T_WHITESPACE"," ",703],"=",["T_WHITESPACE"," ",703],["T_STRING","BaseFieldDefinition",703],["T_DOUBLE_COLON","::",703],["T_STRING","create",703],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_reference'",703],")",["T_WHITESPACE","\n      ",703],["T_OBJECT_OPERATOR","->",704],["T_STRING","setLabel",704],"(",["T_CONSTANT_ENCAPSED_STRING","'Test entity'",704],")",["T_WHITESPACE","\n      ",704],["T_OBJECT_OPERATOR","->",705],["T_STRING","setSetting",705],"(",["T_CONSTANT_ENCAPSED_STRING","'target_type'",705],",",["T_WHITESPACE"," ",705],["T_CONSTANT_ENCAPSED_STRING","'node'",705],")",["T_WHITESPACE","\n      ",705],["T_OBJECT_OPERATOR","->",706],["T_STRING","setSetting",706],"(",["T_CONSTANT_ENCAPSED_STRING","'handler_settings'",706],",",["T_WHITESPACE"," ",706],"[",["T_CONSTANT_ENCAPSED_STRING","'target_bundles'",706],["T_WHITESPACE"," ",706],["T_DOUBLE_ARROW","=>",706],["T_WHITESPACE"," ",706],"[",["T_CONSTANT_ENCAPSED_STRING","'article'",706],["T_WHITESPACE"," ",706],["T_DOUBLE_ARROW","=>",706],["T_WHITESPACE"," ",706],["T_CONSTANT_ENCAPSED_STRING","'article'",706],"]","]",")",";",["T_WHITESPACE","\n    ",706],["T_VARIABLE","$reference_field",707],["T_WHITESPACE"," ",707],"=",["T_WHITESPACE"," ",707],["T_NS_SEPARATOR","\\",707],["T_STRING","Drupal",707],["T_DOUBLE_COLON","::",707],["T_STRING","TypedDataManager",707],"(",")",["T_OBJECT_OPERATOR","->",707],["T_STRING","create",707],"(",["T_VARIABLE","$definition",707],")",";",["T_WHITESPACE","\n    ",707],["T_VARIABLE","$reference_field",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","appendItem",708],"(",["T_ARRAY","array",708],"(",["T_CONSTANT_ENCAPSED_STRING","'entity'",708],["T_WHITESPACE"," ",708],["T_DOUBLE_ARROW","=>",708],["T_WHITESPACE"," ",708],["T_VARIABLE","$node",708],")",")",";",["T_WHITESPACE","\n    ",708],["T_VARIABLE","$violations",709],["T_WHITESPACE"," ",709],"=",["T_WHITESPACE"," ",709],["T_VARIABLE","$reference_field",709],["T_OBJECT_OPERATOR","->",709],["T_STRING","validate",709],"(",")",";",["T_WHITESPACE","\n    ",709],["T_VARIABLE","$this",710],["T_OBJECT_OPERATOR","->",710],["T_STRING","assertEqual",710],"(",["T_VARIABLE","$violations",710],["T_OBJECT_OPERATOR","->",710],["T_STRING","count",710],"(",")",",",["T_WHITESPACE"," ",710],["T_LNUMBER","1",710],")",";",["T_WHITESPACE","\n\n    ",710],["T_VARIABLE","$node",712],["T_WHITESPACE"," ",712],"=",["T_WHITESPACE"," ",712],["T_STRING","Node",712],["T_DOUBLE_COLON","::",712],["T_STRING","create",712],"(","[",["T_WHITESPACE","\n      ",712],["T_CONSTANT_ENCAPSED_STRING","'type'",713],["T_WHITESPACE"," ",713],["T_DOUBLE_ARROW","=>",713],["T_WHITESPACE"," ",713],["T_CONSTANT_ENCAPSED_STRING","'article'",713],",",["T_WHITESPACE","\n      ",713],["T_CONSTANT_ENCAPSED_STRING","'uid'",714],["T_WHITESPACE"," ",714],["T_DOUBLE_ARROW","=>",714],["T_WHITESPACE"," ",714],["T_VARIABLE","$user",714],["T_OBJECT_OPERATOR","->",714],["T_STRING","id",714],"(",")",",",["T_WHITESPACE","\n      ",714],["T_CONSTANT_ENCAPSED_STRING","'title'",715],["T_WHITESPACE"," ",715],["T_DOUBLE_ARROW","=>",715],["T_WHITESPACE"," ",715],["T_VARIABLE","$this",715],["T_OBJECT_OPERATOR","->",715],["T_STRING","randomString",715],"(",")",",",["T_WHITESPACE","\n    ",715],"]",")",";",["T_WHITESPACE","\n    ",716],["T_VARIABLE","$node",717],["T_OBJECT_OPERATOR","->",717],["T_STRING","save",717],"(",")",";",["T_WHITESPACE","\n    ",717],["T_VARIABLE","$reference_field",718],["T_OBJECT_OPERATOR","->",718],["T_STRING","entity",718],["T_WHITESPACE"," ",718],"=",["T_WHITESPACE"," ",718],["T_VARIABLE","$node",718],";",["T_WHITESPACE","\n    ",718],["T_VARIABLE","$violations",719],["T_WHITESPACE"," ",719],"=",["T_WHITESPACE"," ",719],["T_VARIABLE","$reference_field",719],["T_OBJECT_OPERATOR","->",719],["T_STRING","validate",719],"(",")",";",["T_WHITESPACE","\n    ",719],["T_VARIABLE","$this",720],["T_OBJECT_OPERATOR","->",720],["T_STRING","assertEqual",720],"(",["T_VARIABLE","$violations",720],["T_OBJECT_OPERATOR","->",720],["T_STRING","count",720],"(",")",",",["T_WHITESPACE"," ",720],["T_LNUMBER","0",720],")",";",["T_WHITESPACE","\n  ",720],"}",["T_WHITESPACE","\n\n  ",721],["T_DOC_COMMENT","\/**\n   * Tests getting processed property values via a computed property.\n   *\/",723],["T_WHITESPACE","\n  ",725],["T_PUBLIC","public",726],["T_WHITESPACE"," ",726],["T_FUNCTION","function",726],["T_WHITESPACE"," ",726],["T_STRING","testComputedProperties",726],"(",")",["T_WHITESPACE"," ",726],"{",["T_WHITESPACE","\n    ",726],["T_COMMENT","\/\/ All entity variations have to have the same results.\n",727],["T_WHITESPACE","    ",728],["T_FOREACH","foreach",728],["T_WHITESPACE"," ",728],"(",["T_STRING","entity_test_entity_types",728],"(",")",["T_WHITESPACE"," ",728],["T_AS","as",728],["T_WHITESPACE"," ",728],["T_VARIABLE","$entity_type",728],")",["T_WHITESPACE"," ",728],"{",["T_WHITESPACE","\n      ",728],["T_VARIABLE","$this",729],["T_OBJECT_OPERATOR","->",729],["T_STRING","doTestComputedProperties",729],"(",["T_VARIABLE","$entity_type",729],")",";",["T_WHITESPACE","\n    ",729],"}",["T_WHITESPACE","\n  ",730],"}",["T_WHITESPACE","\n\n  ",731],["T_DOC_COMMENT","\/**\n   * Executes the computed properties tests for the given entity type.\n   *\n   * @param string $entity_type\n   *   The entity type to run the tests with.\n   *\/",733],["T_WHITESPACE","\n  ",738],["T_PROTECTED","protected",739],["T_WHITESPACE"," ",739],["T_FUNCTION","function",739],["T_WHITESPACE"," ",739],["T_STRING","doTestComputedProperties",739],"(",["T_VARIABLE","$entity_type",739],")",["T_WHITESPACE"," ",739],"{",["T_WHITESPACE","\n    ",739],["T_VARIABLE","$entity",740],["T_WHITESPACE"," ",740],"=",["T_WHITESPACE"," ",740],["T_VARIABLE","$this",740],["T_OBJECT_OPERATOR","->",740],["T_STRING","createTestEntity",740],"(",["T_VARIABLE","$entity_type",740],")",";",["T_WHITESPACE","\n    ",740],["T_VARIABLE","$entity",741],["T_OBJECT_OPERATOR","->",741],["T_STRING","field_test_text",741],["T_OBJECT_OPERATOR","->",741],["T_STRING","value",741],["T_WHITESPACE"," ",741],"=",["T_WHITESPACE"," ",741],["T_CONSTANT_ENCAPSED_STRING","\"The <strong>text<\/strong> text to filter.\"",741],";",["T_WHITESPACE","\n    ",741],["T_VARIABLE","$entity",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","field_test_text",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","format",742],["T_WHITESPACE"," ",742],"=",["T_WHITESPACE"," ",742],["T_STRING","filter_default_format",742],"(",")",";",["T_WHITESPACE","\n\n    ",742],["T_VARIABLE","$target",744],["T_WHITESPACE"," ",744],"=",["T_WHITESPACE"," ",744],["T_CONSTANT_ENCAPSED_STRING","\"<p>The &lt;strong&gt;text&lt;\/strong&gt; text to filter.<\/p>\\n\"",744],";",["T_WHITESPACE","\n    ",744],["T_VARIABLE","$this",745],["T_OBJECT_OPERATOR","->",745],["T_STRING","assertEqual",745],"(",["T_VARIABLE","$entity",745],["T_OBJECT_OPERATOR","->",745],["T_STRING","field_test_text",745],["T_OBJECT_OPERATOR","->",745],["T_STRING","processed",745],",",["T_WHITESPACE"," ",745],["T_VARIABLE","$target",745],",",["T_WHITESPACE"," ",745],["T_STRING","format_string",745],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Text is processed with the default filter.'",745],",",["T_WHITESPACE"," ",745],["T_ARRAY","array",745],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",745],["T_WHITESPACE"," ",745],["T_DOUBLE_ARROW","=>",745],["T_WHITESPACE"," ",745],["T_VARIABLE","$entity_type",745],")",")",")",";",["T_WHITESPACE","\n\n    ",745],["T_COMMENT","\/\/ Save and load entity and make sure it still works.\n",747],["T_WHITESPACE","    ",748],["T_VARIABLE","$entity",748],["T_OBJECT_OPERATOR","->",748],["T_STRING","save",748],"(",")",";",["T_WHITESPACE","\n    ",748],["T_VARIABLE","$entity",749],["T_WHITESPACE"," ",749],"=",["T_WHITESPACE"," ",749],["T_VARIABLE","$this",749],["T_OBJECT_OPERATOR","->",749],["T_STRING","container",749],["T_OBJECT_OPERATOR","->",749],["T_STRING","get",749],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",749],")",["T_WHITESPACE","\n      ",749],["T_OBJECT_OPERATOR","->",750],["T_STRING","getStorage",750],"(",["T_VARIABLE","$entity_type",750],")",["T_WHITESPACE","\n      ",750],["T_OBJECT_OPERATOR","->",751],["T_STRING","load",751],"(",["T_VARIABLE","$entity",751],["T_OBJECT_OPERATOR","->",751],["T_STRING","id",751],"(",")",")",";",["T_WHITESPACE","\n    ",751],["T_VARIABLE","$this",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","assertEqual",752],"(",["T_VARIABLE","$entity",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","field_test_text",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","processed",752],",",["T_WHITESPACE"," ",752],["T_VARIABLE","$target",752],",",["T_WHITESPACE"," ",752],["T_STRING","format_string",752],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type: Text is processed with the default filter.'",752],",",["T_WHITESPACE"," ",752],["T_ARRAY","array",752],"(",["T_CONSTANT_ENCAPSED_STRING","'%entity_type'",752],["T_WHITESPACE"," ",752],["T_DOUBLE_ARROW","=>",752],["T_WHITESPACE"," ",752],["T_VARIABLE","$entity_type",752],")",")",")",";",["T_WHITESPACE","\n  ",752],"}",["T_WHITESPACE","\n\n",753],"}",["T_WHITESPACE","\n",755]]