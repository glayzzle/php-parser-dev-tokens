[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","TypedData",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","TypedData",5],["T_NS_SEPARATOR","\\",5],["T_STRING","DataDefinition",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","KernelTests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","KernelTestBase",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests AllowedValues validation constraint with both valid and invalid values.\n *\n * @group Validation\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","AllowedValuesConstraintValidatorTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","KernelTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * The typed data manager to use.\n   *\n   * @var \\Drupal\\Core\\TypedData\\TypedDataManager\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$typedData",20],";",["T_WHITESPACE","\n\n  ",20],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_FUNCTION","function",22],["T_WHITESPACE"," ",22],["T_STRING","setUp",22],"(",")",["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n    ",22],["T_STRING","parent",23],["T_DOUBLE_COLON","::",23],["T_STRING","setUp",23],"(",")",";",["T_WHITESPACE","\n    ",23],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","typedData",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","container",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","get",24],"(",["T_CONSTANT_ENCAPSED_STRING","'typed_data_manager'",24],")",";",["T_WHITESPACE","\n  ",24],"}",["T_WHITESPACE","\n\n  ",25],["T_DOC_COMMENT","\/**\n   * Tests the AllowedValues validation constraint validator.\n   *\n   * For testing we define an integer with a set of allowed values.\n   *\/",27],["T_WHITESPACE","\n  ",31],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","testValidation",32],"(",")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n    ",32],["T_COMMENT","\/\/ Create a definition that specifies some AllowedValues.\n",33],["T_WHITESPACE","    ",34],["T_VARIABLE","$definition",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_STRING","DataDefinition",34],["T_DOUBLE_COLON","::",34],["T_STRING","create",34],"(",["T_CONSTANT_ENCAPSED_STRING","'integer'",34],")",["T_WHITESPACE","\n      ",34],["T_OBJECT_OPERATOR","->",35],["T_STRING","addConstraint",35],"(",["T_CONSTANT_ENCAPSED_STRING","'AllowedValues'",35],",",["T_WHITESPACE"," ",35],["T_ARRAY","array",35],"(",["T_LNUMBER","1",35],",",["T_WHITESPACE"," ",35],["T_LNUMBER","2",35],",",["T_WHITESPACE"," ",35],["T_LNUMBER","3",35],")",")",";",["T_WHITESPACE","\n\n    ",35],["T_COMMENT","\/\/ Test the validation.\n",37],["T_WHITESPACE","    ",38],["T_VARIABLE","$typed_data",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","typedData",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","create",38],"(",["T_VARIABLE","$definition",38],",",["T_WHITESPACE"," ",38],["T_LNUMBER","1",38],")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$violations",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$typed_data",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","validate",39],"(",")",";",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","assertEqual",40],"(",["T_VARIABLE","$violations",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","count",40],"(",")",",",["T_WHITESPACE"," ",40],["T_LNUMBER","0",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'Validation passed for correct value.'",40],")",";",["T_WHITESPACE","\n\n    ",40],["T_COMMENT","\/\/ Test the validation when an invalid value is passed.\n",42],["T_WHITESPACE","    ",43],["T_VARIABLE","$typed_data",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","typedData",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","create",43],"(",["T_VARIABLE","$definition",43],",",["T_WHITESPACE"," ",43],["T_LNUMBER","4",43],")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$violations",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$typed_data",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","validate",44],"(",")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","assertEqual",45],"(",["T_VARIABLE","$violations",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","count",45],"(",")",",",["T_WHITESPACE"," ",45],["T_LNUMBER","1",45],",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'Validation failed for incorrect value.'",45],")",";",["T_WHITESPACE","\n\n    ",45],["T_COMMENT","\/\/ Make sure the information provided by a violation is correct.\n",47],["T_WHITESPACE","    ",48],["T_VARIABLE","$violation",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$violations",48],"[",["T_LNUMBER","0",48],"]",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertEqual",49],"(",["T_VARIABLE","$violation",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getMessage",49],"(",")",",",["T_WHITESPACE"," ",49],["T_STRING","t",49],"(",["T_CONSTANT_ENCAPSED_STRING","'The value you selected is not a valid choice.'",49],")",",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'The message for invalid value is correct.'",49],")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","assertEqual",50],"(",["T_VARIABLE","$violation",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getRoot",50],"(",")",",",["T_WHITESPACE"," ",50],["T_VARIABLE","$typed_data",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'Violation root is correct.'",50],")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertEqual",51],"(",["T_VARIABLE","$violation",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getInvalidValue",51],"(",")",",",["T_WHITESPACE"," ",51],["T_LNUMBER","4",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'The invalid value is set correctly in the violation.'",51],")",";",["T_WHITESPACE","\n  ",51],"}",["T_WHITESPACE","\n\n",52],"}",["T_WHITESPACE","\n",54]]