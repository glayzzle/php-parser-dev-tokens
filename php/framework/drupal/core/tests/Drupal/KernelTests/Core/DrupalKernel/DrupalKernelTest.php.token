[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","DrupalKernel",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","DrupalKernel",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","KernelTests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","KernelTestBase",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Symfony",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Component",7],["T_NS_SEPARATOR","\\",7],["T_STRING","HttpFoundation",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Request",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Tests DIC compilation to disk.\n *\n * @group DrupalKernel\n *\/",9],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","DrupalKernelTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","KernelTestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",16],["T_WHITESPACE","\n  ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_FUNCTION","function",19],["T_WHITESPACE"," ",19],["T_STRING","setUp",19],"(",")",["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n    ",19],["T_COMMENT","\/\/ DrupalKernel relies on global $config_directories and requires those\n",20],["T_WHITESPACE","    ",21],["T_COMMENT","\/\/ directories to exist. Therefore, create the directories, but do not\n",21],["T_WHITESPACE","    ",22],["T_COMMENT","\/\/ invoke KernelTestBase::setUp(), since that would set up further\n",22],["T_WHITESPACE","    ",23],["T_COMMENT","\/\/ environment aspects, which would distort this test, because it tests\n",23],["T_WHITESPACE","    ",24],["T_COMMENT","\/\/ the DrupalKernel (re-)building itself.\n",24],["T_WHITESPACE","    ",25],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","root",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_STATIC","static",25],["T_DOUBLE_COLON","::",25],["T_STRING","getDrupalRoot",25],"(",")",";",["T_WHITESPACE","\n    ",25],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","bootEnvironment",26],"(",")",";",["T_WHITESPACE","\n  ",26],"}",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * Build a kernel for testings.\n   *\n   * Because the bootstrap is in DrupalKernel::boot and that involved loading\n   * settings from the filesystem we need to go to extra lengths to build a kernel\n   * for testing.\n   *\n   * @param \\Symfony\\Component\\HttpFoundation\\Request $request\n   *   A request object to use in booting the kernel.\n   * @param array $modules_enabled\n   *   A list of modules to enable on the kernel.\n   *\n   * @return \\Drupal\\Core\\DrupalKernel\n   *   New kernel for testing.\n   *\/",29],["T_WHITESPACE","\n  ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","getTestKernel",44],"(",["T_STRING","Request",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$request",44],",",["T_WHITESPACE"," ",44],["T_ARRAY","array",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$modules_enabled",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_STRING","NULL",44],")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n    ",44],["T_COMMENT","\/\/ Manually create kernel to avoid replacing settings.\n",45],["T_WHITESPACE","    ",46],["T_VARIABLE","$class_loader",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_REQUIRE","require",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","root",46],["T_WHITESPACE"," ",46],".",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'\/autoload.php'",46],";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$kernel",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_STRING","DrupalKernel",47],["T_DOUBLE_COLON","::",47],["T_STRING","createFromRequest",47],"(",["T_VARIABLE","$request",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$class_loader",47],",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'testing'",47],")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","setSetting",48],"(",["T_CONSTANT_ENCAPSED_STRING","'container_yamls'",48],",",["T_WHITESPACE"," ",48],"[","]",")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","setSetting",49],"(",["T_CONSTANT_ENCAPSED_STRING","'hash_salt'",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","databasePrefix",49],")",";",["T_WHITESPACE","\n    ",49],["T_IF","if",50],["T_WHITESPACE"," ",50],"(",["T_ISSET","isset",50],"(",["T_VARIABLE","$modules_enabled",50],")",")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n      ",50],["T_VARIABLE","$kernel",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","updateModules",51],"(",["T_VARIABLE","$modules_enabled",51],")",";",["T_WHITESPACE","\n    ",51],"}",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$kernel",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","boot",53],"(",")",";",["T_WHITESPACE","\n\n    ",53],["T_RETURN","return",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$kernel",55],";",["T_WHITESPACE","\n  ",55],"}",["T_WHITESPACE","\n\n  ",56],["T_DOC_COMMENT","\/**\n   * Tests DIC compilation.\n   *\/",58],["T_WHITESPACE","\n  ",60],["T_PUBLIC","public",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","testCompileDIC",61],"(",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n    ",61],["T_COMMENT","\/\/ @todo: write a memory based storage backend for testing.\n",62],["T_WHITESPACE","    ",63],["T_VARIABLE","$modules_enabled",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_ARRAY","array",63],"(",["T_WHITESPACE","\n      ",63],["T_CONSTANT_ENCAPSED_STRING","'system'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'system'",64],",",["T_WHITESPACE","\n      ",64],["T_CONSTANT_ENCAPSED_STRING","'user'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'user'",65],",",["T_WHITESPACE","\n    ",65],")",";",["T_WHITESPACE","\n\n    ",66],["T_VARIABLE","$request",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","Request",68],["T_DOUBLE_COLON","::",68],["T_STRING","createFromGlobals",68],"(",")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getTestKernel",69],"(",["T_VARIABLE","$request",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$modules_enabled",69],")",";",["T_WHITESPACE","\n\n    ",69],["T_COMMENT","\/\/ Instantiate it a second time and we should get the compiled Container\n",71],["T_WHITESPACE","    ",72],["T_COMMENT","\/\/ class.\n",72],["T_WHITESPACE","    ",73],["T_VARIABLE","$kernel",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getTestKernel",73],"(",["T_VARIABLE","$request",73],")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$container",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$kernel",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getContainer",74],"(",")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$refClass",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_NEW","new",75],["T_WHITESPACE"," ",75],["T_NS_SEPARATOR","\\",75],["T_STRING","ReflectionClass",75],"(",["T_VARIABLE","$container",75],")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$is_compiled_container",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],"!",["T_VARIABLE","$refClass",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","isSubclassOf",76],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\DependencyInjection\\ContainerBuilder'",76],")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assertTrue",77],"(",["T_VARIABLE","$is_compiled_container",77],")",";",["T_WHITESPACE","\n    ",77],["T_COMMENT","\/\/ Verify that the list of modules is the same for the initial and the\n",78],["T_WHITESPACE","    ",79],["T_COMMENT","\/\/ compiled container.\n",79],["T_WHITESPACE","    ",80],["T_VARIABLE","$module_list",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","array_keys",80],"(",["T_VARIABLE","$container",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","get",80],"(",["T_CONSTANT_ENCAPSED_STRING","'module_handler'",80],")",["T_OBJECT_OPERATOR","->",80],["T_STRING","getModuleList",80],"(",")",")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertEqual",81],"(",["T_STRING","array_values",81],"(",["T_VARIABLE","$modules_enabled",81],")",",",["T_WHITESPACE"," ",81],["T_VARIABLE","$module_list",81],")",";",["T_WHITESPACE","\n\n    ",81],["T_COMMENT","\/\/ Get the container another time, simulating a \"production\" environment.\n",83],["T_WHITESPACE","    ",84],["T_VARIABLE","$container",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getTestKernel",84],"(",["T_VARIABLE","$request",84],",",["T_WHITESPACE"," ",84],["T_STRING","NULL",84],")",["T_WHITESPACE","\n      ",84],["T_OBJECT_OPERATOR","->",85],["T_STRING","getContainer",85],"(",")",";",["T_WHITESPACE","\n\n    ",85],["T_VARIABLE","$refClass",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_NEW","new",87],["T_WHITESPACE"," ",87],["T_NS_SEPARATOR","\\",87],["T_STRING","ReflectionClass",87],"(",["T_VARIABLE","$container",87],")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$is_compiled_container",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],"!",["T_VARIABLE","$refClass",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","isSubclassOf",88],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\DependencyInjection\\ContainerBuilder'",88],")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertTrue",89],"(",["T_VARIABLE","$is_compiled_container",89],")",";",["T_WHITESPACE","\n\n    ",89],["T_COMMENT","\/\/ Verify that the list of modules is the same for the initial and the\n",91],["T_WHITESPACE","    ",92],["T_COMMENT","\/\/ compiled container.\n",92],["T_WHITESPACE","    ",93],["T_VARIABLE","$module_list",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","array_keys",93],"(",["T_VARIABLE","$container",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","get",93],"(",["T_CONSTANT_ENCAPSED_STRING","'module_handler'",93],")",["T_OBJECT_OPERATOR","->",93],["T_STRING","getModuleList",93],"(",")",")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertEqual",94],"(",["T_STRING","array_values",94],"(",["T_VARIABLE","$modules_enabled",94],")",",",["T_WHITESPACE"," ",94],["T_VARIABLE","$module_list",94],")",";",["T_WHITESPACE","\n\n    ",94],["T_COMMENT","\/\/ Test that our synthetic services are there.\n",96],["T_WHITESPACE","    ",97],["T_VARIABLE","$class_loader",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$container",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","get",97],"(",["T_CONSTANT_ENCAPSED_STRING","'class_loader'",97],")",";",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$refClass",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_NEW","new",98],["T_WHITESPACE"," ",98],["T_NS_SEPARATOR","\\",98],["T_STRING","ReflectionClass",98],"(",["T_VARIABLE","$class_loader",98],")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","assertTrue",99],"(",["T_VARIABLE","$refClass",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","hasMethod",99],"(",["T_CONSTANT_ENCAPSED_STRING","'loadClass'",99],")",",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'Container has a class loader'",99],")",";",["T_WHITESPACE","\n\n    ",99],["T_COMMENT","\/\/ We make this assertion here purely to show that the new container below\n",101],["T_WHITESPACE","    ",102],["T_COMMENT","\/\/ is functioning correctly, i.e. we get a brand new ContainerBuilder\n",102],["T_WHITESPACE","    ",103],["T_COMMENT","\/\/ which has the required new services, after changing the list of enabled\n",103],["T_WHITESPACE","    ",104],["T_COMMENT","\/\/ modules.\n",104],["T_WHITESPACE","    ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertFalse",105],"(",["T_VARIABLE","$container",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","has",105],"(",["T_CONSTANT_ENCAPSED_STRING","'service_provider_test_class'",105],")",")",";",["T_WHITESPACE","\n\n    ",105],["T_COMMENT","\/\/ Add another module so that we can test that the new module's bundle is\n",107],["T_WHITESPACE","    ",108],["T_COMMENT","\/\/ registered to the new container.\n",108],["T_WHITESPACE","    ",109],["T_VARIABLE","$modules_enabled",109],"[",["T_CONSTANT_ENCAPSED_STRING","'service_provider_test'",109],"]",["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'service_provider_test'",109],";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getTestKernel",110],"(",["T_VARIABLE","$request",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$modules_enabled",110],")",";",["T_WHITESPACE","\n\n    ",110],["T_COMMENT","\/\/ Instantiate it a second time and we should not get a ContainerBuilder\n",112],["T_WHITESPACE","    ",113],["T_COMMENT","\/\/ class because we are loading the container definition from cache.\n",113],["T_WHITESPACE","    ",114],["T_VARIABLE","$kernel",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getTestKernel",114],"(",["T_VARIABLE","$request",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$modules_enabled",114],")",";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$container",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$kernel",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getContainer",115],"(",")",";",["T_WHITESPACE","\n\n    ",115],["T_VARIABLE","$refClass",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_NEW","new",117],["T_WHITESPACE"," ",117],["T_NS_SEPARATOR","\\",117],["T_STRING","ReflectionClass",117],"(",["T_VARIABLE","$container",117],")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$is_container_builder",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$refClass",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","isSubclassOf",118],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\DependencyInjection\\ContainerBuilder'",118],")",";",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertFalse",119],"(",["T_VARIABLE","$is_container_builder",119],",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'Container is not a builder'",119],")",";",["T_WHITESPACE","\n\n    ",119],["T_COMMENT","\/\/ Assert that the new module's bundle was registered to the new container.\n",121],["T_WHITESPACE","    ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertTrue",122],"(",["T_VARIABLE","$container",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","has",122],"(",["T_CONSTANT_ENCAPSED_STRING","'service_provider_test_class'",122],")",",",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'Container has test service'",122],")",";",["T_WHITESPACE","\n\n    ",122],["T_COMMENT","\/\/ Test that our synthetic services are there.\n",124],["T_WHITESPACE","    ",125],["T_VARIABLE","$class_loader",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$container",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","get",125],"(",["T_CONSTANT_ENCAPSED_STRING","'class_loader'",125],")",";",["T_WHITESPACE","\n    ",125],["T_VARIABLE","$refClass",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_NEW","new",126],["T_WHITESPACE"," ",126],["T_NS_SEPARATOR","\\",126],["T_STRING","ReflectionClass",126],"(",["T_VARIABLE","$class_loader",126],")",";",["T_WHITESPACE","\n    ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","assertTrue",127],"(",["T_VARIABLE","$refClass",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","hasMethod",127],"(",["T_CONSTANT_ENCAPSED_STRING","'loadClass'",127],")",",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'Container has a class loader'",127],")",";",["T_WHITESPACE","\n\n    ",127],["T_COMMENT","\/\/ Check that the location of the new module is registered.\n",129],["T_WHITESPACE","    ",130],["T_VARIABLE","$modules",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$container",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getParameter",130],"(",["T_CONSTANT_ENCAPSED_STRING","'container.modules'",130],")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","assertEqual",131],"(",["T_VARIABLE","$modules",131],"[",["T_CONSTANT_ENCAPSED_STRING","'service_provider_test'",131],"]",",",["T_WHITESPACE"," ",131],["T_ARRAY","array",131],"(",["T_WHITESPACE","\n      ",131],["T_CONSTANT_ENCAPSED_STRING","'type'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'module'",132],",",["T_WHITESPACE","\n      ",132],["T_CONSTANT_ENCAPSED_STRING","'pathname'",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_STRING","drupal_get_filename",133],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",133],",",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'service_provider_test'",133],")",",",["T_WHITESPACE","\n      ",133],["T_CONSTANT_ENCAPSED_STRING","'filename'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_STRING","NULL",134],",",["T_WHITESPACE","\n    ",134],")",")",";",["T_WHITESPACE","\n\n    ",135],["T_COMMENT","\/\/ Check that the container itself is not among the persist IDs because it\n",137],["T_WHITESPACE","    ",138],["T_COMMENT","\/\/ does not make sense to persist the container itself.\n",138],["T_WHITESPACE","    ",139],["T_VARIABLE","$persist_ids",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$container",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getParameter",139],"(",["T_CONSTANT_ENCAPSED_STRING","'persist_ids'",139],")",";",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","assertIdentical",140],"(",["T_STRING","FALSE",140],",",["T_WHITESPACE"," ",140],["T_STRING","array_search",140],"(",["T_CONSTANT_ENCAPSED_STRING","'service_container'",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$persist_ids",140],")",")",";",["T_WHITESPACE","\n  ",140],"}",["T_WHITESPACE","\n\n  ",141],["T_DOC_COMMENT","\/**\n   * Tests repeated loading of compiled DIC with different environment.\n   *\/",143],["T_WHITESPACE","\n  ",145],["T_PUBLIC","public",146],["T_WHITESPACE"," ",146],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],["T_STRING","testRepeatedBootWithDifferentEnvironment",146],"(",")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n    ",146],["T_VARIABLE","$request",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","Request",147],["T_DOUBLE_COLON","::",147],["T_STRING","createFromGlobals",147],"(",")",";",["T_WHITESPACE","\n    ",147],["T_VARIABLE","$class_loader",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_REQUIRE","require",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","root",148],["T_WHITESPACE"," ",148],".",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'\/autoload.php'",148],";",["T_WHITESPACE","\n\n    ",148],["T_VARIABLE","$environments",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],"[",["T_WHITESPACE","\n      ",150],["T_CONSTANT_ENCAPSED_STRING","'testing1'",151],",",["T_WHITESPACE","\n      ",151],["T_CONSTANT_ENCAPSED_STRING","'testing1'",152],",",["T_WHITESPACE","\n      ",152],["T_CONSTANT_ENCAPSED_STRING","'testing2'",153],",",["T_WHITESPACE","\n      ",153],["T_CONSTANT_ENCAPSED_STRING","'testing2'",154],",",["T_WHITESPACE","\n    ",154],"]",";",["T_WHITESPACE","\n\n    ",155],["T_FOREACH","foreach",157],["T_WHITESPACE"," ",157],"(",["T_VARIABLE","$environments",157],["T_WHITESPACE"," ",157],["T_AS","as",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$environment",157],")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n      ",157],["T_VARIABLE","$kernel",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_STRING","DrupalKernel",158],["T_DOUBLE_COLON","::",158],["T_STRING","createFromRequest",158],"(",["T_VARIABLE","$request",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$class_loader",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$environment",158],")",";",["T_WHITESPACE","\n      ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","setSetting",159],"(",["T_CONSTANT_ENCAPSED_STRING","'container_yamls'",159],",",["T_WHITESPACE"," ",159],"[","]",")",";",["T_WHITESPACE","\n      ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","setSetting",160],"(",["T_CONSTANT_ENCAPSED_STRING","'hash_salt'",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","databasePrefix",160],")",";",["T_WHITESPACE","\n      ",160],["T_VARIABLE","$kernel",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","boot",161],"(",")",";",["T_WHITESPACE","\n    ",161],"}",["T_WHITESPACE","\n\n    ",162],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","pass",164],"(",["T_CONSTANT_ENCAPSED_STRING","'Repeatedly loaded compiled DIC with different environment'",164],")",";",["T_WHITESPACE","\n  ",164],"}",["T_WHITESPACE","\n\n  ",165],["T_DOC_COMMENT","\/**\n   * Tests setting of site path after kernel boot.\n   *\/",167],["T_WHITESPACE","\n  ",169],["T_PUBLIC","public",170],["T_WHITESPACE"," ",170],["T_FUNCTION","function",170],["T_WHITESPACE"," ",170],["T_STRING","testPreventChangeOfSitePath",170],"(",")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n    ",170],["T_COMMENT","\/\/ @todo: write a memory based storage backend for testing.\n",171],["T_WHITESPACE","    ",172],["T_VARIABLE","$modules_enabled",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_ARRAY","array",172],"(",["T_WHITESPACE","\n      ",172],["T_CONSTANT_ENCAPSED_STRING","'system'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'system'",173],",",["T_WHITESPACE","\n      ",173],["T_CONSTANT_ENCAPSED_STRING","'user'",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'user'",174],",",["T_WHITESPACE","\n    ",174],")",";",["T_WHITESPACE","\n\n    ",175],["T_VARIABLE","$request",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_STRING","Request",177],["T_DOUBLE_COLON","::",177],["T_STRING","createFromGlobals",177],"(",")",";",["T_WHITESPACE","\n    ",177],["T_VARIABLE","$kernel",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getTestKernel",178],"(",["T_VARIABLE","$request",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$modules_enabled",178],")",";",["T_WHITESPACE","\n    ",178],["T_VARIABLE","$pass",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_STRING","FALSE",179],";",["T_WHITESPACE","\n    ",179],["T_TRY","try",180],["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n      ",180],["T_VARIABLE","$kernel",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","setSitePath",181],"(",["T_CONSTANT_ENCAPSED_STRING","'\/dev\/null'",181],")",";",["T_WHITESPACE","\n    ",181],"}",["T_WHITESPACE","\n    ",182],["T_CATCH","catch",183],["T_WHITESPACE"," ",183],"(",["T_NS_SEPARATOR","\\",183],["T_STRING","LogicException",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$e",183],")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n      ",183],["T_VARIABLE","$pass",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_STRING","TRUE",184],";",["T_WHITESPACE","\n    ",184],"}",["T_WHITESPACE","\n    ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","assertTrue",186],"(",["T_VARIABLE","$pass",186],",",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'Throws LogicException if DrupalKernel::setSitePath() is called after boot'",186],")",";",["T_WHITESPACE","\n  ",186],"}",["T_WHITESPACE","\n\n",187],"}",["T_WHITESPACE","\n",189]]