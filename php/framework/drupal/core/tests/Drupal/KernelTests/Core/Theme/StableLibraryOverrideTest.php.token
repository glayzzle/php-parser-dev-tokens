[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Theme",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","KernelTests",5],["T_NS_SEPARATOR","\\",5],["T_STRING","KernelTestBase",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests Stable's library overrides.\n *\n * @group Theme\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","StableLibraryOverrideTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","KernelTestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * The theme manager.\n   *\n   * @var \\Drupal\\Core\\Theme\\ThemeManagerInterface\n   *\/",14],["T_WHITESPACE","\n  ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$themeManager",19],";",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * The theme initialization.\n   *\n   * @var \\Drupal\\Core\\Theme\\ThemeInitializationInterface\n   *\/",21],["T_WHITESPACE","\n  ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$themeInitialization",26],";",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * The library discovery service.\n   *\n   * @var \\Drupal\\Core\\Asset\\LibraryDiscoveryInterface\n   *\/",28],["T_WHITESPACE","\n  ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$libraryDiscovery",33],";",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * A list of all core modules.\n   *\n   * @var string[]\n   *\/",35],["T_WHITESPACE","\n  ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$allModules",40],";",["T_WHITESPACE","\n\n  ",40],["T_DOC_COMMENT","\/**\n   * A list of libraries to skip checking, in the format extension\/library_name.\n   *\n   * @var string[]\n   *\/",42],["T_WHITESPACE","\n  ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$librariesToSkip",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],"[","]",";",["T_WHITESPACE","\n\n  ",47],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",49],["T_WHITESPACE","\n  ",51],["T_PUBLIC","public",52],["T_WHITESPACE"," ",52],["T_STATIC","static",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$modules",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],"[",["T_CONSTANT_ENCAPSED_STRING","'system'",52],"]",";",["T_WHITESPACE","\n\n  ",52],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",54],["T_WHITESPACE","\n  ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","setUp",57],"(",")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n    ",57],["T_STRING","parent",58],["T_DOUBLE_COLON","::",58],["T_STRING","setUp",58],"(",")",";",["T_WHITESPACE","\n\n    ",58],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","container",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","get",60],"(",["T_CONSTANT_ENCAPSED_STRING","'theme_installer'",60],")",["T_OBJECT_OPERATOR","->",60],["T_STRING","install",60],"(","[",["T_CONSTANT_ENCAPSED_STRING","'stable'",60],"]",")",";",["T_WHITESPACE","\n\n    ",60],["T_COMMENT","\/\/ Enable all core modules.\n",62],["T_WHITESPACE","    ",63],["T_VARIABLE","$all_modules",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_STRING","system_rebuild_module_data",63],"(",")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$all_modules",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","array_filter",64],"(",["T_VARIABLE","$all_modules",64],",",["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],"(",["T_VARIABLE","$module",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n      ",64],["T_COMMENT","\/\/ Filter contrib, hidden, experimental, already enabled modules, and\n",65],["T_WHITESPACE","      ",66],["T_COMMENT","\/\/ modules in the Testing package.\n",66],["T_WHITESPACE","      ",67],["T_IF","if",67],["T_WHITESPACE"," ",67],"(",["T_VARIABLE","$module",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","origin",67],["T_WHITESPACE"," ",67],["T_IS_NOT_IDENTICAL","!==",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'core'",67],["T_WHITESPACE"," ",67],["T_BOOLEAN_OR","||",67],["T_WHITESPACE"," ",67],"!",["T_EMPTY","empty",67],"(",["T_VARIABLE","$module",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","info",67],"[",["T_CONSTANT_ENCAPSED_STRING","'hidden'",67],"]",")",["T_WHITESPACE"," ",67],["T_BOOLEAN_OR","||",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$module",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","status",67],["T_WHITESPACE"," ",67],["T_IS_EQUAL","==",67],["T_WHITESPACE"," ",67],["T_STRING","TRUE",67],["T_WHITESPACE"," ",67],["T_BOOLEAN_OR","||",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$module",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","info",67],"[",["T_CONSTANT_ENCAPSED_STRING","'package'",67],"]",["T_WHITESPACE"," ",67],["T_IS_EQUAL","==",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'Testing'",67],["T_WHITESPACE"," ",67],["T_BOOLEAN_OR","||",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$module",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","info",67],"[",["T_CONSTANT_ENCAPSED_STRING","'package'",67],"]",["T_WHITESPACE"," ",67],["T_IS_EQUAL","==",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'Core (Experimental)'",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n        ",67],["T_RETURN","return",68],["T_WHITESPACE"," ",68],["T_STRING","FALSE",68],";",["T_WHITESPACE","\n      ",68],"}",["T_WHITESPACE","\n      ",69],["T_RETURN","return",70],["T_WHITESPACE"," ",70],["T_STRING","TRUE",70],";",["T_WHITESPACE","\n    ",70],"}",")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","allModules",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","array_keys",72],"(",["T_VARIABLE","$all_modules",72],")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","allModules",73],"[","]",["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'system'",73],";",["T_WHITESPACE","\n    ",73],["T_STRING","sort",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","allModules",74],")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","container",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","get",75],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",75],")",["T_OBJECT_OPERATOR","->",75],["T_STRING","install",75],"(",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","allModules",75],")",";",["T_WHITESPACE","\n\n    ",75],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","themeManager",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","container",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","get",77],"(",["T_CONSTANT_ENCAPSED_STRING","'theme.manager'",77],")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","themeInitialization",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","container",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","get",78],"(",["T_CONSTANT_ENCAPSED_STRING","'theme.initialization'",78],")",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","libraryDiscovery",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","container",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","get",79],"(",["T_CONSTANT_ENCAPSED_STRING","'library.discovery'",79],")",";",["T_WHITESPACE","\n  ",79],"}",["T_WHITESPACE","\n\n  ",80],["T_DOC_COMMENT","\/**\n   * Ensures that Stable overrides all relevant core library assets.\n   *\/",82],["T_WHITESPACE","\n  ",84],["T_PUBLIC","public",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","testStableLibraryOverrides",85],"(",")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n    ",85],["T_COMMENT","\/\/ First get the clean library definitions with no active theme.\n",86],["T_WHITESPACE","    ",87],["T_VARIABLE","$libraries_before",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getAllLibraries",87],"(",")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$libraries_before",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","removeVendorAssets",88],"(",["T_VARIABLE","$libraries_before",88],")",";",["T_WHITESPACE","\n\n    ",88],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","themeManager",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","setActiveTheme",90],"(",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","themeInitialization",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getActiveThemeByName",90],"(",["T_CONSTANT_ENCAPSED_STRING","'stable'",90],")",")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","libraryDiscovery",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","clearCachedDefinitions",91],"(",")",";",["T_WHITESPACE","\n\n    ",91],["T_COMMENT","\/\/ Now get the library definitions with Stable as the active theme.\n",93],["T_WHITESPACE","    ",94],["T_VARIABLE","$libraries_after",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getAllLibraries",94],"(",")",";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$libraries_after",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","removeVendorAssets",95],"(",["T_VARIABLE","$libraries_after",95],")",";",["T_WHITESPACE","\n\n    ",95],["T_VARIABLE","$root",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_NS_SEPARATOR","\\",97],["T_STRING","Drupal",97],["T_DOUBLE_COLON","::",97],["T_STRING","root",97],"(",")",";",["T_WHITESPACE","\n    ",97],["T_FOREACH","foreach",98],["T_WHITESPACE"," ",98],"(",["T_VARIABLE","$libraries_before",98],["T_WHITESPACE"," ",98],["T_AS","as",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$extension",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$libraries",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n      ",98],["T_FOREACH","foreach",99],["T_WHITESPACE"," ",99],"(",["T_VARIABLE","$libraries",99],["T_WHITESPACE"," ",99],["T_AS","as",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$library_name",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$library",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n        ",99],["T_COMMENT","\/\/ Allow skipping libraries.\n",100],["T_WHITESPACE","        ",101],["T_IF","if",101],["T_WHITESPACE"," ",101],"(",["T_STRING","in_array",101],"(","\"",["T_VARIABLE","$extension",101],["T_ENCAPSED_AND_WHITESPACE","\/",101],["T_VARIABLE","$library_name",101],"\"",",",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","librariesToSkip",101],")",")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n          ",101],["T_CONTINUE","continue",102],";",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$library_after",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$libraries_after",104],"[",["T_VARIABLE","$extension",104],"]","[",["T_VARIABLE","$library_name",104],"]",";",["T_WHITESPACE","\n\n        ",104],["T_COMMENT","\/\/ Check that all the CSS assets are overridden.\n",106],["T_WHITESPACE","        ",107],["T_FOREACH","foreach",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$library",107],"[",["T_CONSTANT_ENCAPSED_STRING","'css'",107],"]",["T_WHITESPACE"," ",107],["T_AS","as",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$index",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$asset",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n          ",107],["T_VARIABLE","$clean_path",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$asset",108],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",108],"]",";",["T_WHITESPACE","\n          ",108],["T_VARIABLE","$stable_path",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$library_after",109],"[",["T_CONSTANT_ENCAPSED_STRING","'css'",109],"]","[",["T_VARIABLE","$index",109],"]","[",["T_CONSTANT_ENCAPSED_STRING","'data'",109],"]",";",["T_WHITESPACE","\n          ",109],["T_COMMENT","\/\/ Make core\/misc assets look like they are coming from a \"core\"\n",110],["T_WHITESPACE","          ",111],["T_COMMENT","\/\/ module.\n",111],["T_WHITESPACE","          ",112],["T_VARIABLE","$replacements",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],"[",["T_WHITESPACE","\n            ",112],["T_CONSTANT_ENCAPSED_STRING","'core\/misc\/'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","\"core\/modules\/core\/css\/\"",113],",",["T_WHITESPACE","\n          ",113],"]",";",["T_WHITESPACE","\n          ",114],["T_VARIABLE","$expected_path",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_STRING","strtr",115],"(",["T_VARIABLE","$clean_path",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$replacements",115],")",";",["T_WHITESPACE","\n\n          ",115],["T_COMMENT","\/\/ Adjust the module asset paths to correspond with the Stable folder\n",117],["T_WHITESPACE","          ",118],["T_COMMENT","\/\/ structure.\n",118],["T_WHITESPACE","          ",119],["T_VARIABLE","$expected_path",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_STRING","str_replace",119],"(","\"",["T_ENCAPSED_AND_WHITESPACE","core\/modules\/",119],["T_VARIABLE","$extension",119],["T_ENCAPSED_AND_WHITESPACE","\/css\/",119],"\"",",",["T_WHITESPACE"," ",119],"\"",["T_ENCAPSED_AND_WHITESPACE","core\/themes\/stable\/css\/",119],["T_VARIABLE","$extension",119],["T_ENCAPSED_AND_WHITESPACE","\/",119],"\"",",",["T_WHITESPACE"," ",119],["T_VARIABLE","$expected_path",119],")",";",["T_WHITESPACE","\n          ",119],["T_VARIABLE","$assert_path",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_STRING","str_replace",120],"(","\"",["T_ENCAPSED_AND_WHITESPACE","core\/modules\/",120],["T_VARIABLE","$extension",120],["T_ENCAPSED_AND_WHITESPACE","\/",120],"\"",",",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","''",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$clean_path",120],")",";",["T_WHITESPACE","\n\n          ",120],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertEqual",122],"(",["T_VARIABLE","$expected_path",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$stable_path",122],",",["T_WHITESPACE"," ",122],"\"",["T_VARIABLE","$assert_path",122],["T_ENCAPSED_AND_WHITESPACE"," from the ",122],["T_VARIABLE","$extension",122],["T_ENCAPSED_AND_WHITESPACE","\/",122],["T_VARIABLE","$library_name",122],["T_ENCAPSED_AND_WHITESPACE"," library is overridden in Stable.",122],"\"",")",";",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE","\n      ",123],"}",["T_WHITESPACE","\n    ",124],"}",["T_WHITESPACE","\n  ",125],"}",["T_WHITESPACE","\n\n  ",126],["T_DOC_COMMENT","\/**\n   * Removes all vendor libraries and assets from the library definitions.\n   *\n   * @param array[] $all_libraries\n   *   An associative array of libraries keyed by extension, then by library\n   *   name, and so on.\n   *\n   * @return array[]\n   *   The reduced array of libraries.\n   *\/",128],["T_WHITESPACE","\n  ",137],["T_PROTECTED","protected",138],["T_WHITESPACE"," ",138],["T_FUNCTION","function",138],["T_WHITESPACE"," ",138],["T_STRING","removeVendorAssets",138],"(",["T_VARIABLE","$all_libraries",138],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n    ",138],["T_FOREACH","foreach",139],["T_WHITESPACE"," ",139],"(",["T_VARIABLE","$all_libraries",139],["T_WHITESPACE"," ",139],["T_AS","as",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$extension",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$libraries",139],")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n      ",139],["T_FOREACH","foreach",140],["T_WHITESPACE"," ",140],"(",["T_VARIABLE","$libraries",140],["T_WHITESPACE"," ",140],["T_AS","as",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$library_name",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$library",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n        ",140],["T_IF","if",141],["T_WHITESPACE"," ",141],"(",["T_ISSET","isset",141],"(",["T_VARIABLE","$library",141],"[",["T_CONSTANT_ENCAPSED_STRING","'remote'",141],"]",")",")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n          ",141],["T_UNSET","unset",142],"(",["T_VARIABLE","$all_libraries",142],"[",["T_VARIABLE","$extension",142],"]","[",["T_VARIABLE","$library_name",142],"]",")",";",["T_WHITESPACE","\n        ",142],"}",["T_WHITESPACE","\n        ",143],["T_FOREACH","foreach",144],["T_WHITESPACE"," ",144],"(","[",["T_CONSTANT_ENCAPSED_STRING","'css'",144],",",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'js'",144],"]",["T_WHITESPACE"," ",144],["T_AS","as",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$asset_type",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n          ",144],["T_FOREACH","foreach",145],["T_WHITESPACE"," ",145],"(",["T_VARIABLE","$library",145],"[",["T_VARIABLE","$asset_type",145],"]",["T_WHITESPACE"," ",145],["T_AS","as",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$index",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$asset",145],")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n            ",145],["T_IF","if",146],["T_WHITESPACE"," ",146],"(",["T_STRING","strpos",146],"(",["T_VARIABLE","$asset",146],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",146],"]",",",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","'core\/assets\/vendor'",146],")",["T_WHITESPACE"," ",146],["T_IS_NOT_IDENTICAL","!==",146],["T_WHITESPACE"," ",146],["T_STRING","FALSE",146],")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n              ",146],["T_UNSET","unset",147],"(",["T_VARIABLE","$all_libraries",147],"[",["T_VARIABLE","$extension",147],"]","[",["T_VARIABLE","$library_name",147],"]","[",["T_VARIABLE","$asset_type",147],"]","[",["T_VARIABLE","$index",147],"]",")",";",["T_WHITESPACE","\n              ",147],["T_COMMENT","\/\/ Re-key the array of assets. This is needed because\n",148],["T_WHITESPACE","              ",149],["T_COMMENT","\/\/ libraries-override doesn't always preserve the order.\n",149],["T_WHITESPACE","              ",150],["T_IF","if",150],["T_WHITESPACE"," ",150],"(","!",["T_EMPTY","empty",150],"(",["T_VARIABLE","$all_libraries",150],"[",["T_VARIABLE","$extension",150],"]","[",["T_VARIABLE","$library_name",150],"]","[",["T_VARIABLE","$asset_type",150],"]",")",")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n                ",150],["T_VARIABLE","$all_libraries",151],"[",["T_VARIABLE","$extension",151],"]","[",["T_VARIABLE","$library_name",151],"]","[",["T_VARIABLE","$asset_type",151],"]",["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","array_values",151],"(",["T_VARIABLE","$all_libraries",151],"[",["T_VARIABLE","$extension",151],"]","[",["T_VARIABLE","$library_name",151],"]","[",["T_VARIABLE","$asset_type",151],"]",")",";",["T_WHITESPACE","\n              ",151],"}",["T_WHITESPACE","\n            ",152],"}",["T_WHITESPACE","\n          ",153],"}",["T_WHITESPACE","\n        ",154],"}",["T_WHITESPACE","\n      ",155],"}",["T_WHITESPACE","\n    ",156],"}",["T_WHITESPACE","\n    ",157],["T_RETURN","return",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$all_libraries",158],";",["T_WHITESPACE","\n  ",158],"}",["T_WHITESPACE","\n\n  ",159],["T_DOC_COMMENT","\/**\n   * Gets all libraries for core and all installed modules.\n   *\n   * @return array[]\n   *   An associative array of libraries keyed by extension, then by library\n   *   name, and so on.\n   *\/",161],["T_WHITESPACE","\n  ",167],["T_PROTECTED","protected",168],["T_WHITESPACE"," ",168],["T_FUNCTION","function",168],["T_WHITESPACE"," ",168],["T_STRING","getAllLibraries",168],"(",")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n    ",168],["T_VARIABLE","$modules",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Drupal",169],["T_DOUBLE_COLON","::",169],["T_STRING","moduleHandler",169],"(",")",["T_OBJECT_OPERATOR","->",169],["T_STRING","getModuleList",169],"(",")",";",["T_WHITESPACE","\n    ",169],["T_VARIABLE","$module_list",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_STRING","array_keys",170],"(",["T_VARIABLE","$modules",170],")",";",["T_WHITESPACE","\n    ",170],["T_STRING","sort",171],"(",["T_VARIABLE","$module_list",171],")",";",["T_WHITESPACE","\n    ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","assertEqual",172],"(",["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","allModules",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$module_list",172],",",["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'All core modules are installed.'",172],")",";",["T_WHITESPACE","\n\n    ",172],["T_VARIABLE","$libraries",174],"[",["T_CONSTANT_ENCAPSED_STRING","'core'",174],"]",["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","libraryDiscovery",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getLibrariesByExtension",174],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",174],")",";",["T_WHITESPACE","\n\n    ",174],["T_VARIABLE","$root",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_NS_SEPARATOR","\\",176],["T_STRING","Drupal",176],["T_DOUBLE_COLON","::",176],["T_STRING","root",176],"(",")",";",["T_WHITESPACE","\n    ",176],["T_FOREACH","foreach",177],["T_WHITESPACE"," ",177],"(",["T_VARIABLE","$modules",177],["T_WHITESPACE"," ",177],["T_AS","as",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$module_name",177],["T_WHITESPACE"," ",177],["T_DOUBLE_ARROW","=>",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$module",177],")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n      ",177],["T_VARIABLE","$library_file",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$module",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getPath",178],"(",")",["T_WHITESPACE"," ",178],".",["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'\/'",178],["T_WHITESPACE"," ",178],".",["T_WHITESPACE"," ",178],["T_VARIABLE","$module_name",178],["T_WHITESPACE"," ",178],".",["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'.libraries.yml'",178],";",["T_WHITESPACE","\n      ",178],["T_IF","if",179],["T_WHITESPACE"," ",179],"(",["T_STRING","is_file",179],"(",["T_VARIABLE","$root",179],["T_WHITESPACE"," ",179],".",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'\/'",179],["T_WHITESPACE"," ",179],".",["T_WHITESPACE"," ",179],["T_VARIABLE","$library_file",179],")",")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$libraries",180],"[",["T_VARIABLE","$module_name",180],"]",["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","libraryDiscovery",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getLibrariesByExtension",180],"(",["T_VARIABLE","$module_name",180],")",";",["T_WHITESPACE","\n      ",180],"}",["T_WHITESPACE","\n    ",181],"}",["T_WHITESPACE","\n    ",182],["T_RETURN","return",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$libraries",183],";",["T_WHITESPACE","\n  ",183],"}",["T_WHITESPACE","\n\n",184],"}",["T_WHITESPACE","\n",186]]