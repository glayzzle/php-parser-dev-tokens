[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Url",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Render",5],["T_NS_SEPARATOR","\\",5],["T_STRING","MarkupInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Render",6],["T_NS_SEPARATOR","\\",6],["T_STRING","RenderContext",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Url",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","KernelTests",8],["T_NS_SEPARATOR","\\",8],["T_STRING","KernelTestBase",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Tests link generation with hooks.\n *\n * @group Utility\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","LinkGenerationTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","KernelTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_PUBLIC","public",17],["T_WHITESPACE"," ",17],["T_STATIC","static",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$modules",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],"[",["T_CONSTANT_ENCAPSED_STRING","'link_generation_test'",17],"]",";",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * Tests how hook_link_alter() can affect escaping of the link text.\n   *\/",19],["T_WHITESPACE","\n  ",21],["T_FUNCTION","function",22],["T_WHITESPACE"," ",22],["T_STRING","testHookLinkAlter",22],"(",")",["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n    ",22],["T_VARIABLE","$url",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_STRING","Url",23],["T_DOUBLE_COLON","::",23],["T_STRING","fromUri",23],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/example.com'",23],")",";",["T_WHITESPACE","\n    ",23],["T_VARIABLE","$renderer",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Drupal",24],["T_DOUBLE_COLON","::",24],["T_STRING","service",24],"(",["T_CONSTANT_ENCAPSED_STRING","'renderer'",24],")",";",["T_WHITESPACE","\n\n    ",24],["T_VARIABLE","$link",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$renderer",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","executeInRenderContext",26],"(",["T_NEW","new",26],["T_WHITESPACE"," ",26],["T_STRING","RenderContext",26],"(",")",",",["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],"(",")",["T_WHITESPACE"," ",26],["T_USE","use",26],["T_WHITESPACE"," ",26],"(",["T_VARIABLE","$url",26],")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n      ",26],["T_RETURN","return",27],["T_WHITESPACE"," ",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Drupal",27],["T_DOUBLE_COLON","::",27],["T_STRING","l",27],"(","[",["T_CONSTANT_ENCAPSED_STRING","'#markup'",27],["T_WHITESPACE"," ",27],["T_DOUBLE_ARROW","=>",27],["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'<em>link with markup<\/em>'",27],"]",",",["T_WHITESPACE"," ",27],["T_VARIABLE","$url",27],")",";",["T_WHITESPACE","\n    ",27],"}",")",";",["T_WHITESPACE","\n    ",28],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","setRawContent",29],"(",["T_VARIABLE","$link",29],")",";",["T_WHITESPACE","\n    ",29],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","assertTrue",30],"(",["T_VARIABLE","$link",30],["T_WHITESPACE"," ",30],["T_INSTANCEOF","instanceof",30],["T_WHITESPACE"," ",30],["T_STRING","MarkupInterface",30],",",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'The output of link generation is marked safe as it is a link.'",30],")",";",["T_WHITESPACE","\n    ",30],["T_COMMENT","\/\/ Ensure the content of the link is not escaped.\n",31],["T_WHITESPACE","    ",32],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","assertRaw",32],"(",["T_CONSTANT_ENCAPSED_STRING","'<em>link with markup<\/em>'",32],")",";",["T_WHITESPACE","\n\n    ",32],["T_COMMENT","\/\/ Test just adding text to an already safe string.\n",34],["T_WHITESPACE","    ",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Drupal",35],["T_DOUBLE_COLON","::",35],["T_STRING","state",35],"(",")",["T_OBJECT_OPERATOR","->",35],["T_STRING","set",35],"(",["T_CONSTANT_ENCAPSED_STRING","'link_generation_test_link_alter'",35],",",["T_WHITESPACE"," ",35],["T_STRING","TRUE",35],")",";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$link",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$renderer",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","executeInRenderContext",36],"(",["T_NEW","new",36],["T_WHITESPACE"," ",36],["T_STRING","RenderContext",36],"(",")",",",["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],"(",")",["T_WHITESPACE"," ",36],["T_USE","use",36],["T_WHITESPACE"," ",36],"(",["T_VARIABLE","$url",36],")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n      ",36],["T_RETURN","return",37],["T_WHITESPACE"," ",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Drupal",37],["T_DOUBLE_COLON","::",37],["T_STRING","l",37],"(","[",["T_CONSTANT_ENCAPSED_STRING","'#markup'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'<em>link with markup<\/em>'",37],"]",",",["T_WHITESPACE"," ",37],["T_VARIABLE","$url",37],")",";",["T_WHITESPACE","\n    ",37],"}",")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","setRawContent",39],"(",["T_VARIABLE","$link",39],")",";",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","assertTrue",40],"(",["T_VARIABLE","$link",40],["T_WHITESPACE"," ",40],["T_INSTANCEOF","instanceof",40],["T_WHITESPACE"," ",40],["T_STRING","MarkupInterface",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'The output of link generation is marked safe as it is a link.'",40],")",";",["T_WHITESPACE","\n    ",40],["T_COMMENT","\/\/ Ensure the content of the link is escaped.\n",41],["T_WHITESPACE","    ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","assertEscaped",42],"(",["T_CONSTANT_ENCAPSED_STRING","'<em>link with markup<\/em> <strong>Test!<\/strong>'",42],")",";",["T_WHITESPACE","\n\n    ",42],["T_COMMENT","\/\/ Test passing a safe string to t().\n",44],["T_WHITESPACE","    ",45],["T_NS_SEPARATOR","\\",45],["T_STRING","Drupal",45],["T_DOUBLE_COLON","::",45],["T_STRING","state",45],"(",")",["T_OBJECT_OPERATOR","->",45],["T_STRING","set",45],"(",["T_CONSTANT_ENCAPSED_STRING","'link_generation_test_link_alter_safe'",45],",",["T_WHITESPACE"," ",45],["T_STRING","TRUE",45],")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$link",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$renderer",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","executeInRenderContext",46],"(",["T_NEW","new",46],["T_WHITESPACE"," ",46],["T_STRING","RenderContext",46],"(",")",",",["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],"(",")",["T_WHITESPACE"," ",46],["T_USE","use",46],["T_WHITESPACE"," ",46],"(",["T_VARIABLE","$url",46],")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n      ",46],["T_RETURN","return",47],["T_WHITESPACE"," ",47],["T_NS_SEPARATOR","\\",47],["T_STRING","Drupal",47],["T_DOUBLE_COLON","::",47],["T_STRING","l",47],"(","[",["T_CONSTANT_ENCAPSED_STRING","'#markup'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'<em>link with markup<\/em>'",47],"]",",",["T_WHITESPACE"," ",47],["T_VARIABLE","$url",47],")",";",["T_WHITESPACE","\n    ",47],"}",")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","setRawContent",49],"(",["T_VARIABLE","$link",49],")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","assertTrue",50],"(",["T_VARIABLE","$link",50],["T_WHITESPACE"," ",50],["T_INSTANCEOF","instanceof",50],["T_WHITESPACE"," ",50],["T_STRING","MarkupInterface",50],",",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'The output of link generation is marked safe as it is a link.'",50],")",";",["T_WHITESPACE","\n    ",50],["T_COMMENT","\/\/ Ensure the content of the link is escaped.\n",51],["T_WHITESPACE","    ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","assertRaw",52],"(",["T_CONSTANT_ENCAPSED_STRING","'<em>link with markup<\/em> <strong>Test!<\/strong>'",52],")",";",["T_WHITESPACE","\n\n    ",52],["T_COMMENT","\/\/ Test passing an unsafe string to t().\n",54],["T_WHITESPACE","    ",55],["T_VARIABLE","$link",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$renderer",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","executeInRenderContext",55],"(",["T_NEW","new",55],["T_WHITESPACE"," ",55],["T_STRING","RenderContext",55],"(",")",",",["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],"(",")",["T_WHITESPACE"," ",55],["T_USE","use",55],["T_WHITESPACE"," ",55],"(",["T_VARIABLE","$url",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n      ",55],["T_RETURN","return",56],["T_WHITESPACE"," ",56],["T_NS_SEPARATOR","\\",56],["T_STRING","Drupal",56],["T_DOUBLE_COLON","::",56],["T_STRING","l",56],"(",["T_CONSTANT_ENCAPSED_STRING","'<em>link with markup<\/em>'",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$url",56],")",";",["T_WHITESPACE","\n    ",56],"}",")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","setRawContent",58],"(",["T_VARIABLE","$link",58],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","assertTrue",59],"(",["T_VARIABLE","$link",59],["T_WHITESPACE"," ",59],["T_INSTANCEOF","instanceof",59],["T_WHITESPACE"," ",59],["T_STRING","MarkupInterface",59],",",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'The output of link generation is marked safe as it is a link.'",59],")",";",["T_WHITESPACE","\n    ",59],["T_COMMENT","\/\/ Ensure the content of the link is escaped.\n",60],["T_WHITESPACE","    ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","assertEscaped",61],"(",["T_CONSTANT_ENCAPSED_STRING","'<em>link with markup<\/em>'",61],")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertRaw",62],"(",["T_CONSTANT_ENCAPSED_STRING","'<strong>Test!<\/strong>'",62],")",";",["T_WHITESPACE","\n  ",62],"}",["T_WHITESPACE","\n\n",63],"}",["T_WHITESPACE","\n",65]]