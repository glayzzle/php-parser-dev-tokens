[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Queue",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Database",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Database",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Queue",6],["T_NS_SEPARATOR","\\",6],["T_STRING","DatabaseQueue",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Queue",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Memory",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","KernelTests",8],["T_NS_SEPARATOR","\\",8],["T_STRING","KernelTestBase",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Queues and dequeues a set of items to check the basic queue functionality.\n *\n * @group Queue\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","QueueTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","KernelTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * Tests the System queue.\n   *\/",17],["T_WHITESPACE","\n  ",19],["T_PUBLIC","public",20],["T_WHITESPACE"," ",20],["T_FUNCTION","function",20],["T_WHITESPACE"," ",20],["T_STRING","testSystemQueue",20],"(",")",["T_WHITESPACE"," ",20],"{",["T_WHITESPACE","\n    ",20],["T_COMMENT","\/\/ Create two queues.\n",21],["T_WHITESPACE","    ",22],["T_VARIABLE","$queue1",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_NEW","new",22],["T_WHITESPACE"," ",22],["T_STRING","DatabaseQueue",22],"(",["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","randomMachineName",22],"(",")",",",["T_WHITESPACE"," ",22],["T_STRING","Database",22],["T_DOUBLE_COLON","::",22],["T_STRING","getConnection",22],"(",")",")",";",["T_WHITESPACE","\n    ",22],["T_VARIABLE","$queue1",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","createQueue",23],"(",")",";",["T_WHITESPACE","\n    ",23],["T_VARIABLE","$queue2",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_NEW","new",24],["T_WHITESPACE"," ",24],["T_STRING","DatabaseQueue",24],"(",["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","randomMachineName",24],"(",")",",",["T_WHITESPACE"," ",24],["T_STRING","Database",24],["T_DOUBLE_COLON","::",24],["T_STRING","getConnection",24],"(",")",")",";",["T_WHITESPACE","\n    ",24],["T_VARIABLE","$queue2",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","createQueue",25],"(",")",";",["T_WHITESPACE","\n\n    ",25],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","queueTest",27],"(",["T_VARIABLE","$queue1",27],",",["T_WHITESPACE"," ",27],["T_VARIABLE","$queue2",27],")",";",["T_WHITESPACE","\n  ",27],"}",["T_WHITESPACE","\n\n  ",28],["T_DOC_COMMENT","\/**\n   * Tests the Memory queue.\n   *\/",30],["T_WHITESPACE","\n  ",32],["T_PUBLIC","public",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","testMemoryQueue",33],"(",")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n    ",33],["T_COMMENT","\/\/ Create two queues.\n",34],["T_WHITESPACE","    ",35],["T_VARIABLE","$queue1",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_NEW","new",35],["T_WHITESPACE"," ",35],["T_STRING","Memory",35],"(",["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","randomMachineName",35],"(",")",")",";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$queue1",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","createQueue",36],"(",")",";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$queue2",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_NEW","new",37],["T_WHITESPACE"," ",37],["T_STRING","Memory",37],"(",["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","randomMachineName",37],"(",")",")",";",["T_WHITESPACE","\n    ",37],["T_VARIABLE","$queue2",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","createQueue",38],"(",")",";",["T_WHITESPACE","\n\n    ",38],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","queueTest",40],"(",["T_VARIABLE","$queue1",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$queue2",40],")",";",["T_WHITESPACE","\n  ",40],"}",["T_WHITESPACE","\n\n  ",41],["T_DOC_COMMENT","\/**\n   * Queues and dequeues a set of items to check the basic queue functionality.\n   *\n   * @param \\Drupal\\Core\\Queue\\QueueInterface $queue1\n   *   An instantiated queue object.\n   * @param \\Drupal\\Core\\Queue\\QueueInterface $queue2\n   *   An instantiated queue object.\n   *\/",43],["T_WHITESPACE","\n  ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","queueTest",51],"(",["T_VARIABLE","$queue1",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$queue2",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n    ",51],["T_COMMENT","\/\/ Create four items.\n",52],["T_WHITESPACE","    ",53],["T_VARIABLE","$data",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_ARRAY","array",53],"(",")",";",["T_WHITESPACE","\n    ",53],["T_FOR","for",54],["T_WHITESPACE"," ",54],"(",["T_VARIABLE","$i",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_LNUMBER","0",54],";",["T_WHITESPACE"," ",54],["T_VARIABLE","$i",54],["T_WHITESPACE"," ",54],"<",["T_WHITESPACE"," ",54],["T_LNUMBER","4",54],";",["T_WHITESPACE"," ",54],["T_VARIABLE","$i",54],["T_INC","++",54],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n      ",54],["T_VARIABLE","$data",55],"[","]",["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","randomMachineName",55],"(",")",["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","randomMachineName",55],"(",")",")",";",["T_WHITESPACE","\n    ",55],"}",["T_WHITESPACE","\n\n    ",56],["T_COMMENT","\/\/ Queue items 1 and 2 in the queue1.\n",58],["T_WHITESPACE","    ",59],["T_VARIABLE","$queue1",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","createItem",59],"(",["T_VARIABLE","$data",59],"[",["T_LNUMBER","0",59],"]",")",";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$queue1",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","createItem",60],"(",["T_VARIABLE","$data",60],"[",["T_LNUMBER","1",60],"]",")",";",["T_WHITESPACE","\n\n    ",60],["T_COMMENT","\/\/ Retrieve two items from queue1.\n",62],["T_WHITESPACE","    ",63],["T_VARIABLE","$items",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_ARRAY","array",63],"(",")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$new_items",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_ARRAY","array",64],"(",")",";",["T_WHITESPACE","\n\n    ",64],["T_VARIABLE","$items",66],"[","]",["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$item",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$queue1",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","claimItem",66],"(",")",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$new_items",67],"[","]",["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$item",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","data",67],";",["T_WHITESPACE","\n\n    ",67],["T_VARIABLE","$items",69],"[","]",["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$item",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$queue1",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","claimItem",69],"(",")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$new_items",70],"[","]",["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$item",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","data",70],";",["T_WHITESPACE","\n\n    ",70],["T_COMMENT","\/\/ First two dequeued items should match the first two items we queued.\n",72],["T_WHITESPACE","    ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertEqual",73],"(",["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","queueScore",73],"(",["T_VARIABLE","$data",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$new_items",73],")",",",["T_WHITESPACE"," ",73],["T_LNUMBER","2",73],",",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'Two items matched'",73],")",";",["T_WHITESPACE","\n\n    ",73],["T_COMMENT","\/\/ Add two more items.\n",75],["T_WHITESPACE","    ",76],["T_VARIABLE","$queue1",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","createItem",76],"(",["T_VARIABLE","$data",76],"[",["T_LNUMBER","2",76],"]",")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$queue1",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","createItem",77],"(",["T_VARIABLE","$data",77],"[",["T_LNUMBER","3",77],"]",")",";",["T_WHITESPACE","\n\n    ",77],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","assertTrue",79],"(",["T_VARIABLE","$queue1",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","numberOfItems",79],"(",")",",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'Queue 1 is not empty after adding items.'",79],")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertFalse",80],"(",["T_VARIABLE","$queue2",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","numberOfItems",80],"(",")",",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'Queue 2 is empty while Queue 1 has items'",80],")",";",["T_WHITESPACE","\n\n    ",80],["T_VARIABLE","$items",82],"[","]",["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$item",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$queue1",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","claimItem",82],"(",")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$new_items",83],"[","]",["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$item",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","data",83],";",["T_WHITESPACE","\n\n    ",83],["T_VARIABLE","$items",85],"[","]",["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$item",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$queue1",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","claimItem",85],"(",")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$new_items",86],"[","]",["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$item",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","data",86],";",["T_WHITESPACE","\n\n    ",86],["T_COMMENT","\/\/ All dequeued items should match the items we queued exactly once,\n",88],["T_WHITESPACE","    ",89],["T_COMMENT","\/\/ therefore the score must be exactly 4.\n",89],["T_WHITESPACE","    ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertEqual",90],"(",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","queueScore",90],"(",["T_VARIABLE","$data",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$new_items",90],")",",",["T_WHITESPACE"," ",90],["T_LNUMBER","4",90],",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'Four items matched'",90],")",";",["T_WHITESPACE","\n\n    ",90],["T_COMMENT","\/\/ There should be no duplicate items.\n",92],["T_WHITESPACE","    ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertEqual",93],"(",["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","queueScore",93],"(",["T_VARIABLE","$new_items",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$new_items",93],")",",",["T_WHITESPACE"," ",93],["T_LNUMBER","4",93],",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'Four items matched'",93],")",";",["T_WHITESPACE","\n\n    ",93],["T_COMMENT","\/\/ Delete all items from queue1.\n",95],["T_WHITESPACE","    ",96],["T_FOREACH","foreach",96],["T_WHITESPACE"," ",96],"(",["T_VARIABLE","$items",96],["T_WHITESPACE"," ",96],["T_AS","as",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$item",96],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n      ",96],["T_VARIABLE","$queue1",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","deleteItem",97],"(",["T_VARIABLE","$item",97],")",";",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n\n    ",98],["T_COMMENT","\/\/ Check that both queues are empty.\n",100],["T_WHITESPACE","    ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertFalse",101],"(",["T_VARIABLE","$queue1",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","numberOfItems",101],"(",")",",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'Queue 1 is empty'",101],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","assertFalse",102],"(",["T_VARIABLE","$queue2",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","numberOfItems",102],"(",")",",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'Queue 2 is empty'",102],")",";",["T_WHITESPACE","\n  ",102],"}",["T_WHITESPACE","\n\n  ",103],["T_DOC_COMMENT","\/**\n   * Returns the number of equal items in two arrays.\n   *\/",105],["T_WHITESPACE","\n  ",107],["T_PROTECTED","protected",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","queueScore",108],"(",["T_VARIABLE","$items",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$new_items",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$score",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_LNUMBER","0",109],";",["T_WHITESPACE","\n    ",109],["T_FOREACH","foreach",110],["T_WHITESPACE"," ",110],"(",["T_VARIABLE","$items",110],["T_WHITESPACE"," ",110],["T_AS","as",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$item",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n      ",110],["T_FOREACH","foreach",111],["T_WHITESPACE"," ",111],"(",["T_VARIABLE","$new_items",111],["T_WHITESPACE"," ",111],["T_AS","as",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$new_item",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n        ",111],["T_IF","if",112],["T_WHITESPACE"," ",112],"(",["T_VARIABLE","$item",112],["T_WHITESPACE"," ",112],["T_IS_IDENTICAL","===",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$new_item",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n          ",112],["T_VARIABLE","$score",113],["T_INC","++",113],";",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n      ",114],"}",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n    ",116],["T_RETURN","return",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$score",117],";",["T_WHITESPACE","\n  ",117],"}",["T_WHITESPACE","\n\n",118],"}",["T_WHITESPACE","\n",120]]