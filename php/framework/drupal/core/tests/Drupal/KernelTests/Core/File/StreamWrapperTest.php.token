[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","File",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","DrupalKernel",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Site",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Settings",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","StreamWrapper",7],["T_NS_SEPARATOR","\\",7],["T_STRING","PublicStream",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Symfony",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Component",8],["T_NS_SEPARATOR","\\",8],["T_STRING","HttpFoundation",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Request",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Tests stream wrapper functions.\n *\n * @group File\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","StreamWrapperTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","FileTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_STATIC","static",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$modules",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_ARRAY","array",22],"(",["T_CONSTANT_ENCAPSED_STRING","'file_test'",22],")",";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * A stream wrapper scheme to register for the test.\n   *\n   * @var string\n   *\/",24],["T_WHITESPACE","\n  ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$scheme",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'dummy'",29],";",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * A fully-qualified stream wrapper class name to register for the test.\n   *\n   * @var string\n   *\/",31],["T_WHITESPACE","\n  ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$classname",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\file_test\\StreamWrapper\\DummyStreamWrapper'",36],";",["T_WHITESPACE","\n\n  ",36],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","setUp",38],"(",")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n    ",38],["T_STRING","parent",39],["T_DOUBLE_COLON","::",39],["T_STRING","setUp",39],"(",")",";",["T_WHITESPACE","\n\n    ",39],["T_COMMENT","\/\/ Add file_private_path setting.\n",41],["T_WHITESPACE","    ",42],["T_VARIABLE","$request",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_STRING","Request",42],["T_DOUBLE_COLON","::",42],["T_STRING","create",42],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",42],")",";",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$site_path",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_STRING","DrupalKernel",43],["T_DOUBLE_COLON","::",43],["T_STRING","findSitePath",43],"(",["T_VARIABLE","$request",43],")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","setSetting",44],"(",["T_CONSTANT_ENCAPSED_STRING","'file_private_path'",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$site_path",44],["T_WHITESPACE"," ",44],".",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'\/private'",44],")",";",["T_WHITESPACE","\n  ",44],"}",["T_WHITESPACE","\n\n  ",45],["T_DOC_COMMENT","\/**\n   * Test the getClassName() function.\n   *\/",47],["T_WHITESPACE","\n  ",49],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","testGetClassName",50],"(",")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n    ",50],["T_COMMENT","\/\/ Check the dummy scheme.\n",51],["T_WHITESPACE","    ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","assertEqual",52],"(",["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","classname",52],",",["T_WHITESPACE"," ",52],["T_NS_SEPARATOR","\\",52],["T_STRING","Drupal",52],["T_DOUBLE_COLON","::",52],["T_STRING","service",52],"(",["T_CONSTANT_ENCAPSED_STRING","'stream_wrapper_manager'",52],")",["T_OBJECT_OPERATOR","->",52],["T_STRING","getClass",52],"(",["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","scheme",52],")",",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'Got correct class name for dummy scheme.'",52],")",";",["T_WHITESPACE","\n    ",52],["T_COMMENT","\/\/ Check core's scheme.\n",53],["T_WHITESPACE","    ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertEqual",54],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\StreamWrapper\\PublicStream'",54],",",["T_WHITESPACE"," ",54],["T_NS_SEPARATOR","\\",54],["T_STRING","Drupal",54],["T_DOUBLE_COLON","::",54],["T_STRING","service",54],"(",["T_CONSTANT_ENCAPSED_STRING","'stream_wrapper_manager'",54],")",["T_OBJECT_OPERATOR","->",54],["T_STRING","getClass",54],"(",["T_CONSTANT_ENCAPSED_STRING","'public'",54],")",",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'Got correct class name for public scheme.'",54],")",";",["T_WHITESPACE","\n  ",54],"}",["T_WHITESPACE","\n\n  ",55],["T_DOC_COMMENT","\/**\n   * Test the getViaScheme() method.\n   *\/",57],["T_WHITESPACE","\n  ",59],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","testGetInstanceByScheme",60],"(",")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$instance",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_NS_SEPARATOR","\\",61],["T_STRING","Drupal",61],["T_DOUBLE_COLON","::",61],["T_STRING","service",61],"(",["T_CONSTANT_ENCAPSED_STRING","'stream_wrapper_manager'",61],")",["T_OBJECT_OPERATOR","->",61],["T_STRING","getViaScheme",61],"(",["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","scheme",61],")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertEqual",62],"(",["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","classname",62],",",["T_WHITESPACE"," ",62],["T_STRING","get_class",62],"(",["T_VARIABLE","$instance",62],")",",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'Got correct class type for dummy scheme.'",62],")",";",["T_WHITESPACE","\n\n    ",62],["T_VARIABLE","$instance",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_NS_SEPARATOR","\\",64],["T_STRING","Drupal",64],["T_DOUBLE_COLON","::",64],["T_STRING","service",64],"(",["T_CONSTANT_ENCAPSED_STRING","'stream_wrapper_manager'",64],")",["T_OBJECT_OPERATOR","->",64],["T_STRING","getViaScheme",64],"(",["T_CONSTANT_ENCAPSED_STRING","'public'",64],")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","assertEqual",65],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\StreamWrapper\\PublicStream'",65],",",["T_WHITESPACE"," ",65],["T_STRING","get_class",65],"(",["T_VARIABLE","$instance",65],")",",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'Got correct class type for public scheme.'",65],")",";",["T_WHITESPACE","\n  ",65],"}",["T_WHITESPACE","\n\n  ",66],["T_DOC_COMMENT","\/**\n   * Test the getViaUri() and getViaScheme() methods and target functions.\n   *\/",68],["T_WHITESPACE","\n  ",70],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","testUriFunctions",71],"(",")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$config",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","config",72],"(",["T_CONSTANT_ENCAPSED_STRING","'system.file'",72],")",";",["T_WHITESPACE","\n\n    ",72],["T_VARIABLE","$instance",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_NS_SEPARATOR","\\",74],["T_STRING","Drupal",74],["T_DOUBLE_COLON","::",74],["T_STRING","service",74],"(",["T_CONSTANT_ENCAPSED_STRING","'stream_wrapper_manager'",74],")",["T_OBJECT_OPERATOR","->",74],["T_STRING","getViaUri",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","scheme",74],["T_WHITESPACE"," ",74],".",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","':\/\/foo'",74],")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertEqual",75],"(",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","classname",75],",",["T_WHITESPACE"," ",75],["T_STRING","get_class",75],"(",["T_VARIABLE","$instance",75],")",",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'Got correct class type for dummy URI.'",75],")",";",["T_WHITESPACE","\n\n    ",75],["T_VARIABLE","$instance",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_NS_SEPARATOR","\\",77],["T_STRING","Drupal",77],["T_DOUBLE_COLON","::",77],["T_STRING","service",77],"(",["T_CONSTANT_ENCAPSED_STRING","'stream_wrapper_manager'",77],")",["T_OBJECT_OPERATOR","->",77],["T_STRING","getViaUri",77],"(",["T_CONSTANT_ENCAPSED_STRING","'public:\/\/foo'",77],")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","assertEqual",78],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\StreamWrapper\\PublicStream'",78],",",["T_WHITESPACE"," ",78],["T_STRING","get_class",78],"(",["T_VARIABLE","$instance",78],")",",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'Got correct class type for public URI.'",78],")",";",["T_WHITESPACE","\n\n    ",78],["T_COMMENT","\/\/ Test file_uri_target().\n",80],["T_WHITESPACE","    ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertEqual",81],"(",["T_STRING","file_uri_target",81],"(",["T_CONSTANT_ENCAPSED_STRING","'public:\/\/foo\/bar.txt'",81],")",",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'foo\/bar.txt'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'Got a valid stream target from public:\/\/foo\/bar.txt.'",81],")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertEqual",82],"(",["T_STRING","file_uri_target",82],"(",["T_CONSTANT_ENCAPSED_STRING","'data:image\/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4\/\/8\/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg=='",82],")",",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'image\/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4\/\/8\/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg=='",82],",",["T_WHITESPACE"," ",82],["T_STRING","t",82],"(",["T_CONSTANT_ENCAPSED_STRING","'Got a valid stream target from a data URI.'",82],")",")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertFalse",83],"(",["T_STRING","file_uri_target",83],"(",["T_CONSTANT_ENCAPSED_STRING","'foo\/bar.txt'",83],")",",",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'foo\/bar.txt is not a valid stream.'",83],")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertFalse",84],"(",["T_STRING","file_uri_target",84],"(",["T_CONSTANT_ENCAPSED_STRING","'public:\/\/'",84],")",",",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'public:\/\/ has no target.'",84],")",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","assertFalse",85],"(",["T_STRING","file_uri_target",85],"(",["T_CONSTANT_ENCAPSED_STRING","'data:'",85],")",",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'data: has no target.'",85],")",";",["T_WHITESPACE","\n\n    ",85],["T_COMMENT","\/\/ Test file_build_uri() and\n",87],["T_WHITESPACE","    ",88],["T_COMMENT","\/\/ Drupal\\Core\\StreamWrapper\\LocalStream::getDirectoryPath().\n",88],["T_WHITESPACE","    ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertEqual",89],"(",["T_STRING","file_build_uri",89],"(",["T_CONSTANT_ENCAPSED_STRING","'foo\/bar.txt'",89],")",",",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'public:\/\/foo\/bar.txt'",89],",",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'Expected scheme was added.'",89],")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertEqual",90],"(",["T_NS_SEPARATOR","\\",90],["T_STRING","Drupal",90],["T_DOUBLE_COLON","::",90],["T_STRING","service",90],"(",["T_CONSTANT_ENCAPSED_STRING","'stream_wrapper_manager'",90],")",["T_OBJECT_OPERATOR","->",90],["T_STRING","getViaScheme",90],"(",["T_CONSTANT_ENCAPSED_STRING","'public'",90],")",["T_OBJECT_OPERATOR","->",90],["T_STRING","getDirectoryPath",90],"(",")",",",["T_WHITESPACE"," ",90],["T_STRING","PublicStream",90],["T_DOUBLE_COLON","::",90],["T_STRING","basePath",90],"(",")",",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'Expected default directory path was returned.'",90],")",";",["T_WHITESPACE","\n    ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","assertEqual",91],"(",["T_NS_SEPARATOR","\\",91],["T_STRING","Drupal",91],["T_DOUBLE_COLON","::",91],["T_STRING","service",91],"(",["T_CONSTANT_ENCAPSED_STRING","'stream_wrapper_manager'",91],")",["T_OBJECT_OPERATOR","->",91],["T_STRING","getViaScheme",91],"(",["T_CONSTANT_ENCAPSED_STRING","'temporary'",91],")",["T_OBJECT_OPERATOR","->",91],["T_STRING","getDirectoryPath",91],"(",")",",",["T_WHITESPACE"," ",91],["T_VARIABLE","$config",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","get",91],"(",["T_CONSTANT_ENCAPSED_STRING","'path.temporary'",91],")",",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'Expected temporary directory path was returned.'",91],")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$config",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","set",92],"(",["T_CONSTANT_ENCAPSED_STRING","'default_scheme'",92],",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'private'",92],")",["T_OBJECT_OPERATOR","->",92],["T_STRING","save",92],"(",")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertEqual",93],"(",["T_STRING","file_build_uri",93],"(",["T_CONSTANT_ENCAPSED_STRING","'foo\/bar.txt'",93],")",",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'private:\/\/foo\/bar.txt'",93],",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'Got a valid URI from foo\/bar.txt.'",93],")",";",["T_WHITESPACE","\n\n    ",93],["T_COMMENT","\/\/ Test file_create_url()\n",95],["T_WHITESPACE","    ",96],["T_COMMENT","\/\/ TemporaryStream::getExternalUrl() uses Url::fromRoute(), which needs\n",96],["T_WHITESPACE","    ",97],["T_COMMENT","\/\/ route information to work.\n",97],["T_WHITESPACE","    ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","container",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","get",98],"(",["T_CONSTANT_ENCAPSED_STRING","'router.builder'",98],")",["T_OBJECT_OPERATOR","->",98],["T_STRING","rebuild",98],"(",")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","assertTrue",99],"(",["T_STRING","strpos",99],"(",["T_STRING","file_create_url",99],"(",["T_CONSTANT_ENCAPSED_STRING","'temporary:\/\/test.txt'",99],")",",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'system\/temporary?file=test.txt'",99],")",",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'Temporary external URL correctly built.'",99],")",";",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertTrue",100],"(",["T_STRING","strpos",100],"(",["T_STRING","file_create_url",100],"(",["T_CONSTANT_ENCAPSED_STRING","'public:\/\/test.txt'",100],")",",",["T_WHITESPACE"," ",100],["T_STRING","Settings",100],["T_DOUBLE_COLON","::",100],["T_STRING","get",100],"(",["T_CONSTANT_ENCAPSED_STRING","'file_public_path'",100],")",["T_WHITESPACE"," ",100],".",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'\/test.txt'",100],")",",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'Public external URL correctly built.'",100],")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertTrue",101],"(",["T_STRING","strpos",101],"(",["T_STRING","file_create_url",101],"(",["T_CONSTANT_ENCAPSED_STRING","'private:\/\/test.txt'",101],")",",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'system\/files\/test.txt'",101],")",",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'Private external URL correctly built.'",101],")",";",["T_WHITESPACE","\n  ",101],"}",["T_WHITESPACE","\n\n  ",102],["T_DOC_COMMENT","\/**\n   * Test some file handle functions.\n   *\/",104],["T_WHITESPACE","\n  ",106],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],["T_STRING","testFileFunctions",107],"(",")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$filename",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'public:\/\/'",108],["T_WHITESPACE"," ",108],".",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","randomMachineName",108],"(",")",";",["T_WHITESPACE","\n    ",108],["T_STRING","file_put_contents",109],"(",["T_VARIABLE","$filename",109],",",["T_WHITESPACE"," ",109],["T_STRING","str_repeat",109],"(",["T_CONSTANT_ENCAPSED_STRING","'d'",109],",",["T_WHITESPACE"," ",109],["T_LNUMBER","1000",109],")",")",";",["T_WHITESPACE","\n\n    ",109],["T_COMMENT","\/\/ Open for rw and place pointer at beginning of file so select will return.\n",111],["T_WHITESPACE","    ",112],["T_VARIABLE","$handle",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","fopen",112],"(",["T_VARIABLE","$filename",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'c+'",112],")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","assertTrue",113],"(",["T_VARIABLE","$handle",113],",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'Able to open a file for appending, reading and writing.'",113],")",";",["T_WHITESPACE","\n\n    ",113],["T_COMMENT","\/\/ Attempt to change options on the file stream: should all fail.\n",115],["T_WHITESPACE","    ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","assertFalse",116],"(","@",["T_STRING","stream_set_blocking",116],"(",["T_VARIABLE","$handle",116],",",["T_WHITESPACE"," ",116],["T_LNUMBER","0",116],")",",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'Unable to set to non blocking using a local stream wrapper.'",116],")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","assertFalse",117],"(","@",["T_STRING","stream_set_blocking",117],"(",["T_VARIABLE","$handle",117],",",["T_WHITESPACE"," ",117],["T_LNUMBER","1",117],")",",",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'Unable to set to blocking using a local stream wrapper.'",117],")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","assertFalse",118],"(","@",["T_STRING","stream_set_timeout",118],"(",["T_VARIABLE","$handle",118],",",["T_WHITESPACE"," ",118],["T_LNUMBER","1",118],")",",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'Unable to set read time out using a local stream wrapper.'",118],")",";",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","assertEqual",119],"(","-",["T_LNUMBER","1",119],["T_WHITESPACE"," ",119],["T_COMMENT","\/*EOF*\/",119],",",["T_WHITESPACE"," ",119],"@",["T_STRING","stream_set_write_buffer",119],"(",["T_VARIABLE","$handle",119],",",["T_WHITESPACE"," ",119],["T_LNUMBER","512",119],")",",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'Unable to set write buffer using a local stream wrapper.'",119],")",";",["T_WHITESPACE","\n\n    ",119],["T_COMMENT","\/\/ This will test stream_cast().\n",121],["T_WHITESPACE","    ",122],["T_VARIABLE","$read",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_ARRAY","array",122],"(",["T_VARIABLE","$handle",122],")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$write",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_STRING","NULL",123],";",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$except",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","NULL",124],";",["T_WHITESPACE","\n    ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","assertEqual",125],"(",["T_LNUMBER","1",125],",",["T_WHITESPACE"," ",125],["T_STRING","stream_select",125],"(",["T_VARIABLE","$read",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$write",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$except",125],",",["T_WHITESPACE"," ",125],["T_LNUMBER","0",125],")",",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'Able to cast a stream via stream_select.'",125],")",";",["T_WHITESPACE","\n\n    ",125],["T_COMMENT","\/\/ This will test stream_truncate().\n",127],["T_WHITESPACE","    ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","assertEqual",128],"(",["T_LNUMBER","1",128],",",["T_WHITESPACE"," ",128],["T_STRING","ftruncate",128],"(",["T_VARIABLE","$handle",128],",",["T_WHITESPACE"," ",128],["T_LNUMBER","0",128],")",",",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'Able to truncate a stream via ftruncate().'",128],")",";",["T_WHITESPACE","\n    ",128],["T_STRING","fclose",129],"(",["T_VARIABLE","$handle",129],")",";",["T_WHITESPACE","\n    ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","assertEqual",130],"(",["T_LNUMBER","0",130],",",["T_WHITESPACE"," ",130],["T_STRING","filesize",130],"(",["T_VARIABLE","$filename",130],")",",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'Able to truncate a stream.'",130],")",";",["T_WHITESPACE","\n\n    ",130],["T_COMMENT","\/\/ Cleanup.\n",132],["T_WHITESPACE","    ",133],["T_STRING","unlink",133],"(",["T_VARIABLE","$filename",133],")",";",["T_WHITESPACE","\n  ",133],"}",["T_WHITESPACE","\n\n  ",134],["T_DOC_COMMENT","\/**\n   * Test the scheme functions.\n   *\/",136],["T_WHITESPACE","\n  ",138],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","testGetValidStreamScheme",139],"(",")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","assertEqual",140],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",140],",",["T_WHITESPACE"," ",140],["T_STRING","file_uri_scheme",140],"(",["T_CONSTANT_ENCAPSED_STRING","'foo:\/\/pork\/\/chops'",140],")",",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'Got the correct scheme from foo:\/\/asdf'",140],")",";",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","assertEqual",141],"(",["T_CONSTANT_ENCAPSED_STRING","'data'",141],",",["T_WHITESPACE"," ",141],["T_STRING","file_uri_scheme",141],"(",["T_CONSTANT_ENCAPSED_STRING","'data:image\/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4\/\/8\/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg=='",141],")",",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'Got the correct scheme from a data URI.'",141],")",";",["T_WHITESPACE","\n    ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","assertFalse",142],"(",["T_STRING","file_uri_scheme",142],"(",["T_CONSTANT_ENCAPSED_STRING","'foo\/bar.txt'",142],")",",",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'foo\/bar.txt is not a valid stream.'",142],")",";",["T_WHITESPACE","\n    ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","assertTrue",143],"(",["T_STRING","file_stream_wrapper_valid_scheme",143],"(",["T_STRING","file_uri_scheme",143],"(",["T_CONSTANT_ENCAPSED_STRING","'public:\/\/asdf'",143],")",")",",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'Got a valid stream scheme from public:\/\/asdf'",143],")",";",["T_WHITESPACE","\n    ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","assertFalse",144],"(",["T_STRING","file_stream_wrapper_valid_scheme",144],"(",["T_STRING","file_uri_scheme",144],"(",["T_CONSTANT_ENCAPSED_STRING","'foo:\/\/asdf'",144],")",")",",",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'Did not get a valid stream scheme from foo:\/\/asdf'",144],")",";",["T_WHITESPACE","\n  ",144],"}",["T_WHITESPACE","\n\n",145],"}",["T_WHITESPACE","\n",147]]