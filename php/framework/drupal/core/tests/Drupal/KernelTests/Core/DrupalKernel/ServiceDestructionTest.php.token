[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","DrupalKernel",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","KernelTests",5],["T_NS_SEPARATOR","\\",5],["T_STRING","KernelTestBase",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Symfony",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","HttpFoundation",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Response",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests that services are correctly destructed.\n *\n * @group DrupalKernel\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","ServiceDestructionTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","KernelTestBase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * Verifies that services are destructed when used.\n   *\/",15],["T_WHITESPACE","\n  ",17],["T_PUBLIC","public",18],["T_WHITESPACE"," ",18],["T_FUNCTION","function",18],["T_WHITESPACE"," ",18],["T_STRING","testDestructionUsed",18],"(",")",["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n    ",18],["T_COMMENT","\/\/ Enable the test module to add it to the container.\n",19],["T_WHITESPACE","    ",20],["T_VARIABLE","$this",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","enableModules",20],"(",["T_ARRAY","array",20],"(",["T_CONSTANT_ENCAPSED_STRING","'service_provider_test'",20],")",")",";",["T_WHITESPACE","\n\n    ",20],["T_VARIABLE","$request",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","container",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","get",22],"(",["T_CONSTANT_ENCAPSED_STRING","'request_stack'",22],")",["T_OBJECT_OPERATOR","->",22],["T_STRING","getCurrentRequest",22],"(",")",";",["T_WHITESPACE","\n    ",22],["T_VARIABLE","$kernel",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_VARIABLE","$this",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","container",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","get",23],"(",["T_CONSTANT_ENCAPSED_STRING","'kernel'",23],")",";",["T_WHITESPACE","\n    ",23],["T_VARIABLE","$kernel",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","preHandle",24],"(",["T_VARIABLE","$request",24],")",";",["T_WHITESPACE","\n\n    ",24],["T_COMMENT","\/\/ The service has not been destructed yet.\n",26],["T_WHITESPACE","    ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","assertNull",27],"(",["T_NS_SEPARATOR","\\",27],["T_STRING","Drupal",27],["T_DOUBLE_COLON","::",27],["T_STRING","state",27],"(",")",["T_OBJECT_OPERATOR","->",27],["T_STRING","get",27],"(",["T_CONSTANT_ENCAPSED_STRING","'service_provider_test.destructed'",27],")",")",";",["T_WHITESPACE","\n\n    ",27],["T_COMMENT","\/\/ Call the class and then terminate the kernel\n",29],["T_WHITESPACE","    ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","container",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","get",30],"(",["T_CONSTANT_ENCAPSED_STRING","'service_provider_test_class'",30],")",";",["T_WHITESPACE","\n\n    ",30],["T_VARIABLE","$response",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_NEW","new",32],["T_WHITESPACE"," ",32],["T_STRING","Response",32],"(",")",";",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$kernel",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","terminate",33],"(",["T_VARIABLE","$request",33],",",["T_WHITESPACE"," ",33],["T_VARIABLE","$response",33],")",";",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","assertTrue",34],"(",["T_NS_SEPARATOR","\\",34],["T_STRING","Drupal",34],["T_DOUBLE_COLON","::",34],["T_STRING","state",34],"(",")",["T_OBJECT_OPERATOR","->",34],["T_STRING","get",34],"(",["T_CONSTANT_ENCAPSED_STRING","'service_provider_test.destructed'",34],")",")",";",["T_WHITESPACE","\n  ",34],"}",["T_WHITESPACE","\n\n  ",35],["T_DOC_COMMENT","\/**\n   * Verifies that services are not unnecessarily destructed when not used.\n   *\/",37],["T_WHITESPACE","\n  ",39],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","testDestructionUnused",40],"(",")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n    ",40],["T_COMMENT","\/\/ Enable the test module to add it to the container.\n",41],["T_WHITESPACE","    ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","enableModules",42],"(",["T_ARRAY","array",42],"(",["T_CONSTANT_ENCAPSED_STRING","'service_provider_test'",42],")",")",";",["T_WHITESPACE","\n\n    ",42],["T_VARIABLE","$request",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","container",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","get",44],"(",["T_CONSTANT_ENCAPSED_STRING","'request_stack'",44],")",["T_OBJECT_OPERATOR","->",44],["T_STRING","getCurrentRequest",44],"(",")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$kernel",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","container",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","get",45],"(",["T_CONSTANT_ENCAPSED_STRING","'kernel'",45],")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$kernel",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","preHandle",46],"(",["T_VARIABLE","$request",46],")",";",["T_WHITESPACE","\n\n    ",46],["T_COMMENT","\/\/ The service has not been destructed yet.\n",48],["T_WHITESPACE","    ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertNull",49],"(",["T_NS_SEPARATOR","\\",49],["T_STRING","Drupal",49],["T_DOUBLE_COLON","::",49],["T_STRING","state",49],"(",")",["T_OBJECT_OPERATOR","->",49],["T_STRING","get",49],"(",["T_CONSTANT_ENCAPSED_STRING","'service_provider_test.destructed'",49],")",")",";",["T_WHITESPACE","\n\n    ",49],["T_COMMENT","\/\/ Terminate the kernel. The test class has not been called, so it should not\n",51],["T_WHITESPACE","    ",52],["T_COMMENT","\/\/ be destructed.\n",52],["T_WHITESPACE","    ",53],["T_VARIABLE","$response",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_NEW","new",53],["T_WHITESPACE"," ",53],["T_STRING","Response",53],"(",")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$kernel",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","terminate",54],"(",["T_VARIABLE","$request",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$response",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertNull",55],"(",["T_NS_SEPARATOR","\\",55],["T_STRING","Drupal",55],["T_DOUBLE_COLON","::",55],["T_STRING","state",55],"(",")",["T_OBJECT_OPERATOR","->",55],["T_STRING","get",55],"(",["T_CONSTANT_ENCAPSED_STRING","'service_provider_test.destructed'",55],")",")",";",["T_WHITESPACE","\n  ",55],"}",["T_WHITESPACE","\n\n",56],"}",["T_WHITESPACE","\n",58]]