[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Config",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Config",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ConfigDuplicateUUIDException",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","KernelTests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","KernelTestBase",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests sync and importing config entities with IDs and UUIDs that match\n * existing config.\n *\n * @group config\n *\/",8],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","ConfigEntityStorageTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","KernelTestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",16],["T_WHITESPACE","\n  ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_STATIC","static",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$modules",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_ARRAY","array",21],"(",["T_CONSTANT_ENCAPSED_STRING","'config_test'",21],")",";",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * Tests creating configuration entities with changed UUIDs.\n   *\/",23],["T_WHITESPACE","\n  ",25],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","testUUIDConflict",26],"(",")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n    ",26],["T_VARIABLE","$entity_type",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'config_test'",27],";",["T_WHITESPACE","\n    ",27],["T_VARIABLE","$id",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'test_1'",28],";",["T_WHITESPACE","\n    ",28],["T_COMMENT","\/\/ Load the original configuration entity.\n",29],["T_WHITESPACE","    ",30],["T_VARIABLE","$storage",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","container",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","get",30],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",30],")",["T_WHITESPACE","\n      ",30],["T_OBJECT_OPERATOR","->",31],["T_STRING","getStorage",31],"(",["T_VARIABLE","$entity_type",31],")",";",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$storage",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","create",32],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$id",32],"]",")",["T_OBJECT_OPERATOR","->",32],["T_STRING","save",32],"(",")",";",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$entity",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_VARIABLE","$storage",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","load",33],"(",["T_VARIABLE","$id",33],")",";",["T_WHITESPACE","\n\n    ",33],["T_VARIABLE","$original_properties",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$entity",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","toArray",35],"(",")",";",["T_WHITESPACE","\n\n    ",35],["T_COMMENT","\/\/ Override with a new UUID and try to save.\n",37],["T_WHITESPACE","    ",38],["T_VARIABLE","$new_uuid",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","container",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","get",38],"(",["T_CONSTANT_ENCAPSED_STRING","'uuid'",38],")",["T_OBJECT_OPERATOR","->",38],["T_STRING","generate",38],"(",")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$entity",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","set",39],"(",["T_CONSTANT_ENCAPSED_STRING","'uuid'",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$new_uuid",39],")",";",["T_WHITESPACE","\n\n    ",39],["T_TRY","try",41],["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n      ",41],["T_VARIABLE","$entity",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","save",42],"(",")",";",["T_WHITESPACE","\n      ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","fail",43],"(",["T_CONSTANT_ENCAPSED_STRING","'Exception thrown when attempting to save a configuration entity with a UUID that does not match the existing UUID.'",43],")",";",["T_WHITESPACE","\n    ",43],"}",["T_WHITESPACE","\n    ",44],["T_CATCH","catch",45],["T_WHITESPACE"," ",45],"(",["T_STRING","ConfigDuplicateUUIDException",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$e",45],")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n      ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","pass",46],"(",["T_STRING","format_string",46],"(",["T_CONSTANT_ENCAPSED_STRING","'Exception thrown when attempting to save a configuration entity with a UUID that does not match existing data: %e.'",46],",",["T_WHITESPACE"," ",46],["T_ARRAY","array",46],"(",["T_CONSTANT_ENCAPSED_STRING","'%e'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$e",46],")",")",")",";",["T_WHITESPACE","\n    ",46],"}",["T_WHITESPACE","\n\n    ",47],["T_COMMENT","\/\/ Ensure that the config entity was not corrupted.\n",49],["T_WHITESPACE","    ",50],["T_VARIABLE","$entity",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","entity_load",50],"(",["T_CONSTANT_ENCAPSED_STRING","'config_test'",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$entity",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","id",50],"(",")",",",["T_WHITESPACE"," ",50],["T_STRING","TRUE",50],")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertIdentical",51],"(",["T_VARIABLE","$entity",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","toArray",51],"(",")",",",["T_WHITESPACE"," ",51],["T_VARIABLE","$original_properties",51],")",";",["T_WHITESPACE","\n  ",51],"}",["T_WHITESPACE","\n\n",52],"}",["T_WHITESPACE","\n",54]]