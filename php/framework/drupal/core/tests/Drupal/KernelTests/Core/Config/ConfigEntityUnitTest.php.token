[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Config",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","KernelTests",5],["T_NS_SEPARATOR","\\",5],["T_STRING","KernelTestBase",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Unit tests for configuration entity base methods.\n *\n * @group config\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","ConfigEntityUnitTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","KernelTestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * Exempt from strict schema checking.\n   *\n   * @see \\Drupal\\Core\\Config\\Testing\\ConfigSchemaChecker\n   *\n   * @var bool\n   *\/",14],["T_WHITESPACE","\n  ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$strictConfigSchema",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_STRING","FALSE",21],";",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * @var array\n   *\/",23],["T_WHITESPACE","\n  ",27],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_STATIC","static",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$modules",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_ARRAY","array",28],"(",["T_CONSTANT_ENCAPSED_STRING","'config_test'",28],")",";",["T_WHITESPACE","\n\n  ",28],["T_DOC_COMMENT","\/**\n   * The config_test entity storage.\n   *\n   * @var \\Drupal\\Core\\Config\\Entity\\ConfigEntityStorageInterface\n   *\/",30],["T_WHITESPACE","\n  ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$storage",35],";",["T_WHITESPACE","\n\n  ",35],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",37],["T_WHITESPACE","\n  ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","setUp",40],"(",")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n    ",40],["T_STRING","parent",41],["T_DOUBLE_COLON","::",41],["T_STRING","setUp",41],"(",")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","storage",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","container",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","get",42],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",42],")",["T_OBJECT_OPERATOR","->",42],["T_STRING","getStorage",42],"(",["T_CONSTANT_ENCAPSED_STRING","'config_test'",42],")",";",["T_WHITESPACE","\n  ",42],"}",["T_WHITESPACE","\n\n  ",43],["T_DOC_COMMENT","\/**\n   * Tests storage methods.\n   *\/",45],["T_WHITESPACE","\n  ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","testStorageMethods",48],"(",")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$entity_type",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_NS_SEPARATOR","\\",49],["T_STRING","Drupal",49],["T_DOUBLE_COLON","::",49],["T_STRING","entityManager",49],"(",")",["T_OBJECT_OPERATOR","->",49],["T_STRING","getDefinition",49],"(",["T_CONSTANT_ENCAPSED_STRING","'config_test'",49],")",";",["T_WHITESPACE","\n\n    ",49],["T_COMMENT","\/\/ Test the static extractID() method.\n",51],["T_WHITESPACE","    ",52],["T_VARIABLE","$expected_id",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'test_id'",52],";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$config_name",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$entity_type",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getConfigPrefix",53],"(",")",["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'.'",53],["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_VARIABLE","$expected_id",53],";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$storage",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","storage",54],";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertIdentical",55],"(",["T_VARIABLE","$storage",55],["T_DOUBLE_COLON","::",55],["T_STRING","getIDFromConfigName",55],"(",["T_VARIABLE","$config_name",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$entity_type",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getConfigPrefix",55],"(",")",")",",",["T_WHITESPACE"," ",55],["T_VARIABLE","$expected_id",55],")",";",["T_WHITESPACE","\n\n    ",55],["T_COMMENT","\/\/ Create three entities, two with the same style.\n",57],["T_WHITESPACE","    ",58],["T_VARIABLE","$style",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","randomMachineName",58],"(",["T_LNUMBER","8",58],")",";",["T_WHITESPACE","\n    ",58],["T_FOR","for",59],["T_WHITESPACE"," ",59],"(",["T_VARIABLE","$i",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_LNUMBER","0",59],";",["T_WHITESPACE"," ",59],["T_VARIABLE","$i",59],["T_WHITESPACE"," ",59],"<",["T_WHITESPACE"," ",59],["T_LNUMBER","2",59],";",["T_WHITESPACE"," ",59],["T_VARIABLE","$i",59],["T_INC","++",59],")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n      ",59],["T_VARIABLE","$entity",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","storage",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","create",60],"(",["T_ARRAY","array",60],"(",["T_WHITESPACE","\n        ",60],["T_CONSTANT_ENCAPSED_STRING","'id'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","randomMachineName",61],"(",")",",",["T_WHITESPACE","\n        ",61],["T_CONSTANT_ENCAPSED_STRING","'label'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","randomString",62],"(",")",",",["T_WHITESPACE","\n        ",62],["T_CONSTANT_ENCAPSED_STRING","'style'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$style",63],",",["T_WHITESPACE","\n      ",63],")",")",";",["T_WHITESPACE","\n      ",64],["T_VARIABLE","$entity",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","save",65],"(",")",";",["T_WHITESPACE","\n    ",65],"}",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$entity",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","storage",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","create",67],"(",["T_ARRAY","array",67],"(",["T_WHITESPACE","\n      ",67],["T_CONSTANT_ENCAPSED_STRING","'id'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","randomMachineName",68],"(",")",",",["T_WHITESPACE","\n      ",68],["T_CONSTANT_ENCAPSED_STRING","'label'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","randomString",69],"(",")",",",["T_WHITESPACE","\n      ",69],["T_COMMENT","\/\/ Use a different length for the entity to ensure uniqueness.\n",70],["T_WHITESPACE","      ",71],["T_CONSTANT_ENCAPSED_STRING","'style'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","randomMachineName",71],"(",["T_LNUMBER","9",71],")",",",["T_WHITESPACE","\n    ",71],")",")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$entity",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","save",73],"(",")",";",["T_WHITESPACE","\n\n    ",73],["T_COMMENT","\/\/ Ensure that the configuration entity can be loaded by UUID.\n",75],["T_WHITESPACE","    ",76],["T_VARIABLE","$entity_loaded_by_uuid",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_NS_SEPARATOR","\\",76],["T_STRING","Drupal",76],["T_DOUBLE_COLON","::",76],["T_STRING","entityManager",76],"(",")",["T_OBJECT_OPERATOR","->",76],["T_STRING","loadEntityByUuid",76],"(",["T_VARIABLE","$entity_type",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","id",76],"(",")",",",["T_WHITESPACE"," ",76],["T_VARIABLE","$entity",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","uuid",76],"(",")",")",";",["T_WHITESPACE","\n    ",76],["T_IF","if",77],["T_WHITESPACE"," ",77],"(","!",["T_VARIABLE","$entity_loaded_by_uuid",77],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n      ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","fail",78],"(",["T_STRING","sprintf",78],"(",["T_CONSTANT_ENCAPSED_STRING","\"Failed to load '%s' entity ID '%s' by UUID '%s'.\"",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$entity_type",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","id",78],"(",")",",",["T_WHITESPACE"," ",78],["T_VARIABLE","$entity",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","id",78],"(",")",",",["T_WHITESPACE"," ",78],["T_VARIABLE","$entity",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","uuid",78],"(",")",")",")",";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n    ",79],["T_COMMENT","\/\/ Compare UUIDs as the objects are not identical since\n",80],["T_WHITESPACE","    ",81],["T_COMMENT","\/\/ $entity->enforceIsNew is FALSE and $entity_loaded_by_uuid->enforceIsNew\n",81],["T_WHITESPACE","    ",82],["T_COMMENT","\/\/ is NULL.\n",82],["T_WHITESPACE","    ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertIdentical",83],"(",["T_VARIABLE","$entity",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","uuid",83],"(",")",",",["T_WHITESPACE"," ",83],["T_VARIABLE","$entity_loaded_by_uuid",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","uuid",83],"(",")",")",";",["T_WHITESPACE","\n\n    ",83],["T_VARIABLE","$entities",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","storage",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","loadByProperties",85],"(",")",";",["T_WHITESPACE","\n    ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","assertEqual",86],"(",["T_STRING","count",86],"(",["T_VARIABLE","$entities",86],")",",",["T_WHITESPACE"," ",86],["T_LNUMBER","3",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'Three entities are loaded when no properties are specified.'",86],")",";",["T_WHITESPACE","\n\n    ",86],["T_VARIABLE","$entities",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","storage",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","loadByProperties",88],"(",["T_ARRAY","array",88],"(",["T_CONSTANT_ENCAPSED_STRING","'style'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$style",88],")",")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertEqual",89],"(",["T_STRING","count",89],"(",["T_VARIABLE","$entities",89],")",",",["T_WHITESPACE"," ",89],["T_LNUMBER","2",89],",",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'Two entities are loaded when the style property is specified.'",89],")",";",["T_WHITESPACE","\n\n    ",89],["T_COMMENT","\/\/ Assert that both returned entities have a matching style property.\n",91],["T_WHITESPACE","    ",92],["T_FOREACH","foreach",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$entities",92],["T_WHITESPACE"," ",92],["T_AS","as",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$entity",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n      ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertIdentical",93],"(",["T_VARIABLE","$entity",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","get",93],"(",["T_CONSTANT_ENCAPSED_STRING","'style'",93],")",",",["T_WHITESPACE"," ",93],["T_VARIABLE","$style",93],",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'The loaded entity has the correct style value specified.'",93],")",";",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE","\n\n    ",94],["T_COMMENT","\/\/ Test that schema type enforcement can be overridden by trusting the data.\n",96],["T_WHITESPACE","    ",97],["T_VARIABLE","$entity",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","storage",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","create",97],"(",["T_ARRAY","array",97],"(",["T_WHITESPACE","\n      ",97],["T_CONSTANT_ENCAPSED_STRING","'id'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","randomMachineName",98],"(",")",",",["T_WHITESPACE","\n      ",98],["T_CONSTANT_ENCAPSED_STRING","'label'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","randomString",99],"(",")",",",["T_WHITESPACE","\n      ",99],["T_CONSTANT_ENCAPSED_STRING","'style'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_LNUMBER","999",100],["T_WHITESPACE","\n    ",100],")",")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$entity",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","save",102],"(",")",";",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","assertIdentical",103],"(",["T_CONSTANT_ENCAPSED_STRING","'999'",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$entity",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","style",103],")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$entity",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","style",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_LNUMBER","999",104],";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$entity",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","trustData",105],"(",")",["T_OBJECT_OPERATOR","->",105],["T_STRING","save",105],"(",")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","assertIdentical",106],"(",["T_LNUMBER","999",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$entity",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","style",106],")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$entity",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","save",107],"(",")",";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","assertIdentical",108],"(",["T_CONSTANT_ENCAPSED_STRING","'999'",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$entity",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","style",108],")",";",["T_WHITESPACE","\n  ",108],"}",["T_WHITESPACE","\n\n",109],"}",["T_WHITESPACE","\n",111]]