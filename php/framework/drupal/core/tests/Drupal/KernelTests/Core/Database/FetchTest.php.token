[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Database",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Database",5],["T_NS_SEPARATOR","\\",5],["T_STRING","RowCountException",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Database",6],["T_NS_SEPARATOR","\\",6],["T_STRING","StatementInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","system",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Tests",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Database",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FakeRecord",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Tests the Database system's various fetch capabilities.\n *\n * We get timeout errors if we try to run too many tests at once.\n *\n * @group Database\n *\/",9],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","FetchTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","DatabaseTestBase",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * Confirms that we can fetch a record properly in default object mode.\n   *\/",18],["T_WHITESPACE","\n  ",20],["T_FUNCTION","function",21],["T_WHITESPACE"," ",21],["T_STRING","testQueryFetchDefault",21],"(",")",["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n    ",21],["T_VARIABLE","$records",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_ARRAY","array",22],"(",")",";",["T_WHITESPACE","\n    ",22],["T_VARIABLE","$result",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_STRING","db_query",23],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT name FROM {test} WHERE age = :age'",23],",",["T_WHITESPACE"," ",23],["T_ARRAY","array",23],"(",["T_CONSTANT_ENCAPSED_STRING","':age'",23],["T_WHITESPACE"," ",23],["T_DOUBLE_ARROW","=>",23],["T_WHITESPACE"," ",23],["T_LNUMBER","25",23],")",")",";",["T_WHITESPACE","\n    ",23],["T_VARIABLE","$this",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","assertTrue",24],"(",["T_VARIABLE","$result",24],["T_WHITESPACE"," ",24],["T_INSTANCEOF","instanceof",24],["T_WHITESPACE"," ",24],["T_STRING","StatementInterface",24],",",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'Result set is a Drupal statement object.'",24],")",";",["T_WHITESPACE","\n    ",24],["T_FOREACH","foreach",25],["T_WHITESPACE"," ",25],"(",["T_VARIABLE","$result",25],["T_WHITESPACE"," ",25],["T_AS","as",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$record",25],")",["T_WHITESPACE"," ",25],"{",["T_WHITESPACE","\n      ",25],["T_VARIABLE","$records",26],"[","]",["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$record",26],";",["T_WHITESPACE","\n      ",26],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","assertTrue",27],"(",["T_STRING","is_object",27],"(",["T_VARIABLE","$record",27],")",",",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'Record is an object.'",27],")",";",["T_WHITESPACE","\n      ",27],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","assertIdentical",28],"(",["T_VARIABLE","$record",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","name",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'John'",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'25 year old is John.'",28],")",";",["T_WHITESPACE","\n    ",28],"}",["T_WHITESPACE","\n\n    ",29],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","assertIdentical",31],"(",["T_STRING","count",31],"(",["T_VARIABLE","$records",31],")",",",["T_WHITESPACE"," ",31],["T_LNUMBER","1",31],",",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'There is only one record.'",31],")",";",["T_WHITESPACE","\n  ",31],"}",["T_WHITESPACE","\n\n  ",32],["T_DOC_COMMENT","\/**\n   * Confirms that we can fetch a record to an object explicitly.\n   *\/",34],["T_WHITESPACE","\n  ",36],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","testQueryFetchObject",37],"(",")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n    ",37],["T_VARIABLE","$records",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_ARRAY","array",38],"(",")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$result",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","db_query",39],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT name FROM {test} WHERE age = :age'",39],",",["T_WHITESPACE"," ",39],["T_ARRAY","array",39],"(",["T_CONSTANT_ENCAPSED_STRING","':age'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_LNUMBER","25",39],")",",",["T_WHITESPACE"," ",39],["T_ARRAY","array",39],"(",["T_CONSTANT_ENCAPSED_STRING","'fetch'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_NS_SEPARATOR","\\",39],["T_STRING","PDO",39],["T_DOUBLE_COLON","::",39],["T_STRING","FETCH_OBJ",39],")",")",";",["T_WHITESPACE","\n    ",39],["T_FOREACH","foreach",40],["T_WHITESPACE"," ",40],"(",["T_VARIABLE","$result",40],["T_WHITESPACE"," ",40],["T_AS","as",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$record",40],")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n      ",40],["T_VARIABLE","$records",41],"[","]",["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$record",41],";",["T_WHITESPACE","\n      ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","assertTrue",42],"(",["T_STRING","is_object",42],"(",["T_VARIABLE","$record",42],")",",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'Record is an object.'",42],")",";",["T_WHITESPACE","\n      ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","assertIdentical",43],"(",["T_VARIABLE","$record",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","name",43],",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'John'",43],",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'25 year old is John.'",43],")",";",["T_WHITESPACE","\n    ",43],"}",["T_WHITESPACE","\n\n    ",44],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","assertIdentical",46],"(",["T_STRING","count",46],"(",["T_VARIABLE","$records",46],")",",",["T_WHITESPACE"," ",46],["T_LNUMBER","1",46],",",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'There is only one record.'",46],")",";",["T_WHITESPACE","\n  ",46],"}",["T_WHITESPACE","\n\n  ",47],["T_DOC_COMMENT","\/**\n   * Confirms that we can fetch a record to an associative array explicitly.\n   *\/",49],["T_WHITESPACE","\n  ",51],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","testQueryFetchArray",52],"(",")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$records",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_ARRAY","array",53],"(",")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$result",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","db_query",54],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT name FROM {test} WHERE age = :age'",54],",",["T_WHITESPACE"," ",54],["T_ARRAY","array",54],"(",["T_CONSTANT_ENCAPSED_STRING","':age'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_LNUMBER","25",54],")",",",["T_WHITESPACE"," ",54],["T_ARRAY","array",54],"(",["T_CONSTANT_ENCAPSED_STRING","'fetch'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_NS_SEPARATOR","\\",54],["T_STRING","PDO",54],["T_DOUBLE_COLON","::",54],["T_STRING","FETCH_ASSOC",54],")",")",";",["T_WHITESPACE","\n    ",54],["T_FOREACH","foreach",55],["T_WHITESPACE"," ",55],"(",["T_VARIABLE","$result",55],["T_WHITESPACE"," ",55],["T_AS","as",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$record",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n      ",55],["T_VARIABLE","$records",56],"[","]",["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$record",56],";",["T_WHITESPACE","\n      ",56],["T_IF","if",57],["T_WHITESPACE"," ",57],"(",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","assertTrue",57],"(",["T_STRING","is_array",57],"(",["T_VARIABLE","$record",57],")",",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'Record is an array.'",57],")",")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","assertIdentical",58],"(",["T_VARIABLE","$record",58],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",58],"]",",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'John'",58],",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'Record can be accessed associatively.'",58],")",";",["T_WHITESPACE","\n      ",58],"}",["T_WHITESPACE","\n    ",59],"}",["T_WHITESPACE","\n\n    ",60],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertIdentical",62],"(",["T_STRING","count",62],"(",["T_VARIABLE","$records",62],")",",",["T_WHITESPACE"," ",62],["T_LNUMBER","1",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'There is only one record.'",62],")",";",["T_WHITESPACE","\n  ",62],"}",["T_WHITESPACE","\n\n  ",63],["T_DOC_COMMENT","\/**\n   * Confirms that we can fetch a record into a new instance of a custom class.\n   *\n   * @see \\Drupal\\system\\Tests\\Database\\FakeRecord\n   *\/",65],["T_WHITESPACE","\n  ",69],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","testQueryFetchClass",70],"(",")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$records",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_ARRAY","array",71],"(",")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$result",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","db_query",72],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT name FROM {test} WHERE age = :age'",72],",",["T_WHITESPACE"," ",72],["T_ARRAY","array",72],"(",["T_CONSTANT_ENCAPSED_STRING","':age'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_LNUMBER","25",72],")",",",["T_WHITESPACE"," ",72],["T_ARRAY","array",72],"(",["T_CONSTANT_ENCAPSED_STRING","'fetch'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\system\\Tests\\Database\\FakeRecord'",72],")",")",";",["T_WHITESPACE","\n    ",72],["T_FOREACH","foreach",73],["T_WHITESPACE"," ",73],"(",["T_VARIABLE","$result",73],["T_WHITESPACE"," ",73],["T_AS","as",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$record",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n      ",73],["T_VARIABLE","$records",74],"[","]",["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$record",74],";",["T_WHITESPACE","\n      ",74],["T_IF","if",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertTrue",75],"(",["T_VARIABLE","$record",75],["T_WHITESPACE"," ",75],["T_INSTANCEOF","instanceof",75],["T_WHITESPACE"," ",75],["T_STRING","FakeRecord",75],",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'Record is an object of class FakeRecord.'",75],")",")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","assertIdentical",76],"(",["T_VARIABLE","$record",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","name",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'John'",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'25 year old is John.'",76],")",";",["T_WHITESPACE","\n      ",76],"}",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertIdentical",80],"(",["T_STRING","count",80],"(",["T_VARIABLE","$records",80],")",",",["T_WHITESPACE"," ",80],["T_LNUMBER","1",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'There is only one record.'",80],")",";",["T_WHITESPACE","\n  ",80],"}",["T_WHITESPACE","\n\n  ",81],["T_DOC_COMMENT","\/**\n   * Confirms that we can fetch a record into an indexed array explicitly.\n   *\/",83],["T_WHITESPACE","\n  ",85],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","testQueryFetchNum",86],"(",")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$records",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_ARRAY","array",87],"(",")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$result",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_STRING","db_query",88],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT name FROM {test} WHERE age = :age'",88],",",["T_WHITESPACE"," ",88],["T_ARRAY","array",88],"(",["T_CONSTANT_ENCAPSED_STRING","':age'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_LNUMBER","25",88],")",",",["T_WHITESPACE"," ",88],["T_ARRAY","array",88],"(",["T_CONSTANT_ENCAPSED_STRING","'fetch'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_NS_SEPARATOR","\\",88],["T_STRING","PDO",88],["T_DOUBLE_COLON","::",88],["T_STRING","FETCH_NUM",88],")",")",";",["T_WHITESPACE","\n    ",88],["T_FOREACH","foreach",89],["T_WHITESPACE"," ",89],"(",["T_VARIABLE","$result",89],["T_WHITESPACE"," ",89],["T_AS","as",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$record",89],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n      ",89],["T_VARIABLE","$records",90],"[","]",["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$record",90],";",["T_WHITESPACE","\n      ",90],["T_IF","if",91],["T_WHITESPACE"," ",91],"(",["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","assertTrue",91],"(",["T_STRING","is_array",91],"(",["T_VARIABLE","$record",91],")",",",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'Record is an array.'",91],")",")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertIdentical",92],"(",["T_VARIABLE","$record",92],"[",["T_LNUMBER","0",92],"]",",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'John'",92],",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'Record can be accessed numerically.'",92],")",";",["T_WHITESPACE","\n      ",92],"}",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE","\n\n    ",94],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","assertIdentical",96],"(",["T_STRING","count",96],"(",["T_VARIABLE","$records",96],")",",",["T_WHITESPACE"," ",96],["T_LNUMBER","1",96],",",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'There is only one record'",96],")",";",["T_WHITESPACE","\n  ",96],"}",["T_WHITESPACE","\n\n  ",97],["T_DOC_COMMENT","\/**\n   * Confirms that we can fetch a record into a doubly-keyed array explicitly.\n   *\/",99],["T_WHITESPACE","\n  ",101],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","testQueryFetchBoth",102],"(",")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$records",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_ARRAY","array",103],"(",")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$result",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_STRING","db_query",104],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT name FROM {test} WHERE age = :age'",104],",",["T_WHITESPACE"," ",104],["T_ARRAY","array",104],"(",["T_CONSTANT_ENCAPSED_STRING","':age'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_LNUMBER","25",104],")",",",["T_WHITESPACE"," ",104],["T_ARRAY","array",104],"(",["T_CONSTANT_ENCAPSED_STRING","'fetch'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_NS_SEPARATOR","\\",104],["T_STRING","PDO",104],["T_DOUBLE_COLON","::",104],["T_STRING","FETCH_BOTH",104],")",")",";",["T_WHITESPACE","\n    ",104],["T_FOREACH","foreach",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$result",105],["T_WHITESPACE"," ",105],["T_AS","as",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$record",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n      ",105],["T_VARIABLE","$records",106],"[","]",["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$record",106],";",["T_WHITESPACE","\n      ",106],["T_IF","if",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertTrue",107],"(",["T_STRING","is_array",107],"(",["T_VARIABLE","$record",107],")",",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'Record is an array.'",107],")",")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","assertIdentical",108],"(",["T_VARIABLE","$record",108],"[",["T_LNUMBER","0",108],"]",",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'John'",108],",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'Record can be accessed numerically.'",108],")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","assertIdentical",109],"(",["T_VARIABLE","$record",109],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",109],"]",",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'John'",109],",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'Record can be accessed associatively.'",109],")",";",["T_WHITESPACE","\n      ",109],"}",["T_WHITESPACE","\n    ",110],"}",["T_WHITESPACE","\n\n    ",111],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","assertIdentical",113],"(",["T_STRING","count",113],"(",["T_VARIABLE","$records",113],")",",",["T_WHITESPACE"," ",113],["T_LNUMBER","1",113],",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'There is only one record.'",113],")",";",["T_WHITESPACE","\n  ",113],"}",["T_WHITESPACE","\n\n  ",114],["T_DOC_COMMENT","\/**\n   * Confirms that we can fetch all records into an array explicitly.\n   *\/",116],["T_WHITESPACE","\n  ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","testQueryFetchAllColumn",119],"(",")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$query",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_STRING","db_select",120],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",120],")",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$query",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","addField",121],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",121],",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'name'",121],")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$query",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","orderBy",122],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",122],")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$query_result",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$query",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","execute",123],"(",")",["T_OBJECT_OPERATOR","->",123],["T_STRING","fetchAll",123],"(",["T_NS_SEPARATOR","\\",123],["T_STRING","PDO",123],["T_DOUBLE_COLON","::",123],["T_STRING","FETCH_COLUMN",123],")",";",["T_WHITESPACE","\n\n    ",123],["T_VARIABLE","$expected_result",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],"[",["T_CONSTANT_ENCAPSED_STRING","'George'",125],",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'John'",125],",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'Paul'",125],",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'Ringo'",125],"]",";",["T_WHITESPACE","\n    ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","assertEqual",126],"(",["T_VARIABLE","$query_result",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$expected_result",126],",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'Returned the correct result.'",126],")",";",["T_WHITESPACE","\n  ",126],"}",["T_WHITESPACE","\n\n  ",127],["T_DOC_COMMENT","\/**\n   * Confirms that we can fetch an entire column of a result set at once.\n   *\/",129],["T_WHITESPACE","\n  ",131],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","testQueryFetchCol",132],"(",")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n    ",132],["T_VARIABLE","$result",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_STRING","db_query",133],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT name FROM {test} WHERE age > :age'",133],",",["T_WHITESPACE"," ",133],["T_ARRAY","array",133],"(",["T_CONSTANT_ENCAPSED_STRING","':age'",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_LNUMBER","25",133],")",")",";",["T_WHITESPACE","\n    ",133],["T_VARIABLE","$column",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$result",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","fetchCol",134],"(",")",";",["T_WHITESPACE","\n    ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","assertIdentical",135],"(",["T_STRING","count",135],"(",["T_VARIABLE","$column",135],")",",",["T_WHITESPACE"," ",135],["T_LNUMBER","3",135],",",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'fetchCol() returns the right number of records.'",135],")",";",["T_WHITESPACE","\n\n    ",135],["T_VARIABLE","$result",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_STRING","db_query",137],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT name FROM {test} WHERE age > :age'",137],",",["T_WHITESPACE"," ",137],["T_ARRAY","array",137],"(",["T_CONSTANT_ENCAPSED_STRING","':age'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_LNUMBER","25",137],")",")",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$i",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_LNUMBER","0",138],";",["T_WHITESPACE","\n    ",138],["T_FOREACH","foreach",139],["T_WHITESPACE"," ",139],"(",["T_VARIABLE","$result",139],["T_WHITESPACE"," ",139],["T_AS","as",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$record",139],")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n      ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","assertIdentical",140],"(",["T_VARIABLE","$record",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","name",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$column",140],"[",["T_VARIABLE","$i",140],["T_INC","++",140],"]",",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'Column matches direct access.'",140],")",";",["T_WHITESPACE","\n    ",140],"}",["T_WHITESPACE","\n  ",141],"}",["T_WHITESPACE","\n\n  ",142],["T_DOC_COMMENT","\/**\n   * Tests that rowCount() throws exception on SELECT query.\n   *\/",144],["T_WHITESPACE","\n  ",146],["T_PUBLIC","public",147],["T_WHITESPACE"," ",147],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","testRowCount",147],"(",")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n    ",147],["T_VARIABLE","$result",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_STRING","db_query",148],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT name FROM {test}'",148],")",";",["T_WHITESPACE","\n    ",148],["T_TRY","try",149],["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n      ",149],["T_VARIABLE","$result",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","rowCount",150],"(",")",";",["T_WHITESPACE","\n      ",150],["T_VARIABLE","$exception",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","FALSE",151],";",["T_WHITESPACE","\n    ",151],"}",["T_WHITESPACE","\n    ",152],["T_CATCH","catch",153],["T_WHITESPACE"," ",153],"(",["T_STRING","RowCountException",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$e",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n      ",153],["T_VARIABLE","$exception",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","TRUE",154],";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","assertTrue",156],"(",["T_VARIABLE","$exception",156],",",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'Exception was thrown'",156],")",";",["T_WHITESPACE","\n  ",156],"}",["T_WHITESPACE","\n\n",157],"}",["T_WHITESPACE","\n",159]]