[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","KernelTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Routing",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Html",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","KernelTests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","KernelTestBase",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Symfony",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Component",7],["T_NS_SEPARATOR","\\",7],["T_STRING","HttpFoundation",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Request",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Symfony",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Component",8],["T_NS_SEPARATOR","\\",8],["T_STRING","HttpFoundation",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Response",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Tests the exception handling for various cases.\n *\n * @group Routing\n *\/",10],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","ExceptionHandlingTest",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","KernelTestBase",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",17],["T_WHITESPACE","\n  ",19],["T_PUBLIC","public",20],["T_WHITESPACE"," ",20],["T_STATIC","static",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$modules",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],"[",["T_CONSTANT_ENCAPSED_STRING","'system'",20],",",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'router_test'",20],"]",";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",22],["T_WHITESPACE","\n  ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_FUNCTION","function",25],["T_WHITESPACE"," ",25],["T_STRING","setUp",25],"(",")",["T_WHITESPACE"," ",25],"{",["T_WHITESPACE","\n    ",25],["T_STRING","parent",26],["T_DOUBLE_COLON","::",26],["T_STRING","setUp",26],"(",")",";",["T_WHITESPACE","\n\n    ",26],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","installEntitySchema",28],"(",["T_CONSTANT_ENCAPSED_STRING","'date_format'",28],")",";",["T_WHITESPACE","\n  ",28],"}",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * Tests on a route with a non-supported HTTP method.\n   *\/",31],["T_WHITESPACE","\n  ",33],["T_PUBLIC","public",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","test405",34],"(",")",["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$request",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_STRING","Request",35],["T_DOUBLE_COLON","::",35],["T_STRING","create",35],"(",["T_CONSTANT_ENCAPSED_STRING","'\/router_test\/test15'",35],",",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'PATCH'",35],")",";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/** @var \\Symfony\\Component\\HttpKernel\\HttpKernelInterface $kernel *\/",37],["T_WHITESPACE","\n    ",37],["T_VARIABLE","$kernel",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Drupal",38],["T_DOUBLE_COLON","::",38],["T_STRING","getContainer",38],"(",")",["T_OBJECT_OPERATOR","->",38],["T_STRING","get",38],"(",["T_CONSTANT_ENCAPSED_STRING","'http_kernel'",38],")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$response",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$kernel",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","handle",39],"(",["T_VARIABLE","$request",39],")",";",["T_WHITESPACE","\n\n    ",39],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","assertEqual",41],"(",["T_STRING","Response",41],["T_DOUBLE_COLON","::",41],["T_STRING","HTTP_METHOD_NOT_ALLOWED",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$response",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","getStatusCode",41],"(",")",")",";",["T_WHITESPACE","\n  ",41],"}",["T_WHITESPACE","\n\n  ",42],["T_DOC_COMMENT","\/**\n   * Tests the exception handling for json and 403 status code.\n   *\/",44],["T_WHITESPACE","\n  ",46],["T_PUBLIC","public",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","testJson403",47],"(",")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$request",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","Request",48],["T_DOUBLE_COLON","::",48],["T_STRING","create",48],"(",["T_CONSTANT_ENCAPSED_STRING","'\/router_test\/test15'",48],")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$request",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","query",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","set",49],"(",["T_CONSTANT_ENCAPSED_STRING","'_format'",49],",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'json'",49],")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$request",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","setRequestFormat",50],"(",["T_CONSTANT_ENCAPSED_STRING","'json'",50],")",";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/** @var \\Symfony\\Component\\HttpKernel\\HttpKernelInterface $kernel *\/",52],["T_WHITESPACE","\n    ",52],["T_VARIABLE","$kernel",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_NS_SEPARATOR","\\",53],["T_STRING","Drupal",53],["T_DOUBLE_COLON","::",53],["T_STRING","getContainer",53],"(",")",["T_OBJECT_OPERATOR","->",53],["T_STRING","get",53],"(",["T_CONSTANT_ENCAPSED_STRING","'http_kernel'",53],")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$response",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$kernel",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","handle",54],"(",["T_VARIABLE","$request",54],")",";",["T_WHITESPACE","\n\n    ",54],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","assertEqual",56],"(",["T_VARIABLE","$response",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getStatusCode",56],"(",")",",",["T_WHITESPACE"," ",56],["T_STRING","Response",56],["T_DOUBLE_COLON","::",56],["T_STRING","HTTP_FORBIDDEN",56],")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","assertEqual",57],"(",["T_VARIABLE","$response",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","headers",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","get",57],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-type'",57],")",",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'application\/json'",57],")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","assertEqual",58],"(",["T_CONSTANT_ENCAPSED_STRING","'{\"message\":\"\"}'",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$response",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getContent",58],"(",")",")",";",["T_WHITESPACE","\n  ",58],"}",["T_WHITESPACE","\n\n  ",59],["T_DOC_COMMENT","\/**\n   * Tests the exception handling for json and 404 status code.\n   *\/",61],["T_WHITESPACE","\n  ",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","testJson404",64],"(",")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$request",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","Request",65],["T_DOUBLE_COLON","::",65],["T_STRING","create",65],"(",["T_CONSTANT_ENCAPSED_STRING","'\/not-found'",65],")",";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$request",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","query",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","set",66],"(",["T_CONSTANT_ENCAPSED_STRING","'_format'",66],",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'json'",66],")",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$request",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","setRequestFormat",67],"(",["T_CONSTANT_ENCAPSED_STRING","'json'",67],")",";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/** @var \\Symfony\\Component\\HttpKernel\\HttpKernelInterface $kernel *\/",69],["T_WHITESPACE","\n    ",69],["T_VARIABLE","$kernel",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Drupal",70],["T_DOUBLE_COLON","::",70],["T_STRING","getContainer",70],"(",")",["T_OBJECT_OPERATOR","->",70],["T_STRING","get",70],"(",["T_CONSTANT_ENCAPSED_STRING","'http_kernel'",70],")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$response",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$kernel",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","handle",71],"(",["T_VARIABLE","$request",71],")",";",["T_WHITESPACE","\n\n    ",71],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","assertEqual",73],"(",["T_VARIABLE","$response",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getStatusCode",73],"(",")",",",["T_WHITESPACE"," ",73],["T_STRING","Response",73],["T_DOUBLE_COLON","::",73],["T_STRING","HTTP_NOT_FOUND",73],")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertEqual",74],"(",["T_VARIABLE","$response",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","headers",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","get",74],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-type'",74],")",",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'application\/json'",74],")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertEqual",75],"(",["T_CONSTANT_ENCAPSED_STRING","'{\"message\":\"No route found for \\\\u0022GET \\\\\/not-found\\\\u0022\"}'",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$response",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getContent",75],"(",")",")",";",["T_WHITESPACE","\n  ",75],"}",["T_WHITESPACE","\n\n  ",76],["T_DOC_COMMENT","\/**\n   * Tests the exception handling for HTML and 403 status code.\n   *\/",78],["T_WHITESPACE","\n  ",80],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","testHtml403",81],"(",")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$request",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","Request",82],["T_DOUBLE_COLON","::",82],["T_STRING","create",82],"(",["T_CONSTANT_ENCAPSED_STRING","'\/router_test\/test15'",82],")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$request",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","setFormat",83],"(",["T_CONSTANT_ENCAPSED_STRING","'html'",83],",",["T_WHITESPACE"," ",83],"[",["T_CONSTANT_ENCAPSED_STRING","'text\/html'",83],"]",")",";",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/** @var \\Symfony\\Component\\HttpKernel\\HttpKernelInterface $kernel *\/",85],["T_WHITESPACE","\n    ",85],["T_VARIABLE","$kernel",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_NS_SEPARATOR","\\",86],["T_STRING","Drupal",86],["T_DOUBLE_COLON","::",86],["T_STRING","getContainer",86],"(",")",["T_OBJECT_OPERATOR","->",86],["T_STRING","get",86],"(",["T_CONSTANT_ENCAPSED_STRING","'http_kernel'",86],")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$response",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$kernel",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","handle",87],"(",["T_VARIABLE","$request",87],")",["T_OBJECT_OPERATOR","->",87],["T_STRING","prepare",87],"(",["T_VARIABLE","$request",87],")",";",["T_WHITESPACE","\n\n    ",87],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertEqual",89],"(",["T_VARIABLE","$response",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getStatusCode",89],"(",")",",",["T_WHITESPACE"," ",89],["T_STRING","Response",89],["T_DOUBLE_COLON","::",89],["T_STRING","HTTP_FORBIDDEN",89],")",";",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","assertEqual",90],"(",["T_VARIABLE","$response",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","headers",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","get",90],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-type'",90],")",",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'text\/html; charset=UTF-8'",90],")",";",["T_WHITESPACE","\n  ",90],"}",["T_WHITESPACE","\n\n  ",91],["T_DOC_COMMENT","\/**\n   * Tests the exception handling for HTML and 404 status code.\n   *\/",93],["T_WHITESPACE","\n  ",95],["T_PUBLIC","public",96],["T_WHITESPACE"," ",96],["T_FUNCTION","function",96],["T_WHITESPACE"," ",96],["T_STRING","testHtml404",96],"(",")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$request",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_STRING","Request",97],["T_DOUBLE_COLON","::",97],["T_STRING","create",97],"(",["T_CONSTANT_ENCAPSED_STRING","'\/not-found'",97],")",";",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$request",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","setFormat",98],"(",["T_CONSTANT_ENCAPSED_STRING","'html'",98],",",["T_WHITESPACE"," ",98],"[",["T_CONSTANT_ENCAPSED_STRING","'text\/html'",98],"]",")",";",["T_WHITESPACE","\n\n    ",98],["T_DOC_COMMENT","\/** @var \\Symfony\\Component\\HttpKernel\\HttpKernelInterface $kernel *\/",100],["T_WHITESPACE","\n    ",100],["T_VARIABLE","$kernel",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_NS_SEPARATOR","\\",101],["T_STRING","Drupal",101],["T_DOUBLE_COLON","::",101],["T_STRING","getContainer",101],"(",")",["T_OBJECT_OPERATOR","->",101],["T_STRING","get",101],"(",["T_CONSTANT_ENCAPSED_STRING","'http_kernel'",101],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$response",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$kernel",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","handle",102],"(",["T_VARIABLE","$request",102],")",["T_OBJECT_OPERATOR","->",102],["T_STRING","prepare",102],"(",["T_VARIABLE","$request",102],")",";",["T_WHITESPACE","\n\n    ",102],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","assertEqual",104],"(",["T_VARIABLE","$response",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getStatusCode",104],"(",")",",",["T_WHITESPACE"," ",104],["T_STRING","Response",104],["T_DOUBLE_COLON","::",104],["T_STRING","HTTP_NOT_FOUND",104],")",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","assertEqual",105],"(",["T_VARIABLE","$response",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","headers",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","get",105],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-type'",105],")",",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'text\/html; charset=UTF-8'",105],")",";",["T_WHITESPACE","\n  ",105],"}",["T_WHITESPACE","\n\n  ",106],["T_DOC_COMMENT","\/**\n   * Tests that the exception response is executed in the original context.\n   *\/",108],["T_WHITESPACE","\n  ",110],["T_PUBLIC","public",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","testExceptionResponseGeneratedForOriginalRequest",111],"(",")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n    ",111],["T_COMMENT","\/\/ Test with 404 path pointing to a route that uses '_controller'.\n",112],["T_WHITESPACE","    ",113],["T_VARIABLE","$response",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","doTest404Route",113],"(",["T_CONSTANT_ENCAPSED_STRING","'\/router_test\/test25'",113],")",";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","assertTrue",114],"(",["T_STRING","strpos",114],"(",["T_VARIABLE","$response",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getContent",114],"(",")",",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'\/not-found'",114],")",["T_WHITESPACE"," ",114],["T_IS_NOT_IDENTICAL","!==",114],["T_WHITESPACE"," ",114],["T_STRING","FALSE",114],")",";",["T_WHITESPACE","\n\n    ",114],["T_COMMENT","\/\/ Test with 404 path pointing to a route that uses '_form'.\n",116],["T_WHITESPACE","    ",117],["T_VARIABLE","$response",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","doTest404Route",117],"(",["T_CONSTANT_ENCAPSED_STRING","'\/router_test\/test26'",117],")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","assertTrue",118],"(",["T_STRING","strpos",118],"(",["T_VARIABLE","$response",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getContent",118],"(",")",",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'<form class=\"system-logging-settings\"'",118],")",["T_WHITESPACE"," ",118],["T_IS_NOT_IDENTICAL","!==",118],["T_WHITESPACE"," ",118],["T_STRING","FALSE",118],")",";",["T_WHITESPACE","\n\n    ",118],["T_COMMENT","\/\/ Test with 404 path pointing to a route that uses '_entity_form'.\n",120],["T_WHITESPACE","    ",121],["T_VARIABLE","$response",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","doTest404Route",121],"(",["T_CONSTANT_ENCAPSED_STRING","'\/router_test\/test27'",121],")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertTrue",122],"(",["T_STRING","strpos",122],"(",["T_VARIABLE","$response",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getContent",122],"(",")",",",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'<form class=\"date-format-add-form date-format-form\"'",122],")",["T_WHITESPACE"," ",122],["T_IS_NOT_IDENTICAL","!==",122],["T_WHITESPACE"," ",122],["T_STRING","FALSE",122],")",";",["T_WHITESPACE","\n  ",122],"}",["T_WHITESPACE","\n\n  ",123],["T_DOC_COMMENT","\/**\n   * Sets the given path to use as the 404 page and triggers a 404.\n   *\n   * @param string $path\n   * @return \\Drupal\\Core\\Render\\HtmlResponse\n   *\n   * @see \\Drupal\\system\\Tests\\Routing\\ExceptionHandlingTest::testExceptionResponseGeneratedForOriginalRequest()\n   *\/",125],["T_WHITESPACE","\n  ",132],["T_PROTECTED","protected",133],["T_WHITESPACE"," ",133],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],["T_STRING","doTest404Route",133],"(",["T_VARIABLE","$path",133],")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n    ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","config",134],"(",["T_CONSTANT_ENCAPSED_STRING","'system.site'",134],")",["T_OBJECT_OPERATOR","->",134],["T_STRING","set",134],"(",["T_CONSTANT_ENCAPSED_STRING","'page.404'",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$path",134],")",["T_OBJECT_OPERATOR","->",134],["T_STRING","save",134],"(",")",";",["T_WHITESPACE","\n\n    ",134],["T_VARIABLE","$request",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_STRING","Request",136],["T_DOUBLE_COLON","::",136],["T_STRING","create",136],"(",["T_CONSTANT_ENCAPSED_STRING","'\/not-found'",136],")",";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$request",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","setFormat",137],"(",["T_CONSTANT_ENCAPSED_STRING","'html'",137],",",["T_WHITESPACE"," ",137],"[",["T_CONSTANT_ENCAPSED_STRING","'text\/html'",137],"]",")",";",["T_WHITESPACE","\n\n    ",137],["T_DOC_COMMENT","\/** @var \\Symfony\\Component\\HttpKernel\\HttpKernelInterface $kernel *\/",139],["T_WHITESPACE","\n    ",139],["T_VARIABLE","$kernel",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_NS_SEPARATOR","\\",140],["T_STRING","Drupal",140],["T_DOUBLE_COLON","::",140],["T_STRING","getContainer",140],"(",")",["T_OBJECT_OPERATOR","->",140],["T_STRING","get",140],"(",["T_CONSTANT_ENCAPSED_STRING","'http_kernel'",140],")",";",["T_WHITESPACE","\n    ",140],["T_RETURN","return",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$kernel",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","handle",141],"(",["T_VARIABLE","$request",141],")",["T_OBJECT_OPERATOR","->",141],["T_STRING","prepare",141],"(",["T_VARIABLE","$request",141],")",";",["T_WHITESPACE","\n  ",141],"}",["T_WHITESPACE","\n\n  ",142],["T_DOC_COMMENT","\/**\n   * Tests if exception backtraces are properly escaped when output to HTML.\n   *\/",144],["T_WHITESPACE","\n  ",146],["T_PUBLIC","public",147],["T_WHITESPACE"," ",147],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","testBacktraceEscaping",147],"(",")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n    ",147],["T_COMMENT","\/\/ Enable verbose error logging.\n",148],["T_WHITESPACE","    ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","config",149],"(",["T_CONSTANT_ENCAPSED_STRING","'system.logging'",149],")",["T_OBJECT_OPERATOR","->",149],["T_STRING","set",149],"(",["T_CONSTANT_ENCAPSED_STRING","'error_level'",149],",",["T_WHITESPACE"," ",149],["T_STRING","ERROR_REPORTING_DISPLAY_VERBOSE",149],")",["T_OBJECT_OPERATOR","->",149],["T_STRING","save",149],"(",")",";",["T_WHITESPACE","\n\n    ",149],["T_VARIABLE","$request",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","Request",151],["T_DOUBLE_COLON","::",151],["T_STRING","create",151],"(",["T_CONSTANT_ENCAPSED_STRING","'\/router_test\/test17'",151],")",";",["T_WHITESPACE","\n    ",151],["T_VARIABLE","$request",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","setFormat",152],"(",["T_CONSTANT_ENCAPSED_STRING","'html'",152],",",["T_WHITESPACE"," ",152],"[",["T_CONSTANT_ENCAPSED_STRING","'text\/html'",152],"]",")",";",["T_WHITESPACE","\n\n    ",152],["T_DOC_COMMENT","\/** @var \\Symfony\\Component\\HttpKernel\\HttpKernelInterface $kernel *\/",154],["T_WHITESPACE","\n    ",154],["T_VARIABLE","$kernel",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_NS_SEPARATOR","\\",155],["T_STRING","Drupal",155],["T_DOUBLE_COLON","::",155],["T_STRING","getContainer",155],"(",")",["T_OBJECT_OPERATOR","->",155],["T_STRING","get",155],"(",["T_CONSTANT_ENCAPSED_STRING","'http_kernel'",155],")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$response",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$kernel",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","handle",156],"(",["T_VARIABLE","$request",156],")",["T_OBJECT_OPERATOR","->",156],["T_STRING","prepare",156],"(",["T_VARIABLE","$request",156],")",";",["T_WHITESPACE","\n    ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","assertEqual",157],"(",["T_VARIABLE","$response",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getStatusCode",157],"(",")",",",["T_WHITESPACE"," ",157],["T_STRING","Response",157],["T_DOUBLE_COLON","::",157],["T_STRING","HTTP_INTERNAL_SERVER_ERROR",157],")",";",["T_WHITESPACE","\n    ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","assertEqual",158],"(",["T_VARIABLE","$response",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","headers",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","get",158],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-type'",158],")",",",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'text\/html; charset=UTF-8'",158],")",";",["T_WHITESPACE","\n\n    ",158],["T_COMMENT","\/\/ Test both that the backtrace is properly escaped, and that the unescaped\n",160],["T_WHITESPACE","    ",161],["T_COMMENT","\/\/ string is not output at all.\n",161],["T_WHITESPACE","    ",162],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","assertTrue",162],"(",["T_STRING","strpos",162],"(",["T_VARIABLE","$response",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getContent",162],"(",")",",",["T_WHITESPACE"," ",162],["T_STRING","Html",162],["T_DOUBLE_COLON","::",162],["T_STRING","escape",162],"(",["T_CONSTANT_ENCAPSED_STRING","'<script>alert(\\'xss\\')<\/script>'",162],")",")",["T_WHITESPACE"," ",162],["T_IS_NOT_IDENTICAL","!==",162],["T_WHITESPACE"," ",162],["T_STRING","FALSE",162],")",";",["T_WHITESPACE","\n    ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","assertTrue",163],"(",["T_STRING","strpos",163],"(",["T_VARIABLE","$response",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getContent",163],"(",")",",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'<script>alert(\\'xss\\')<\/script>'",163],")",["T_WHITESPACE"," ",163],["T_IS_IDENTICAL","===",163],["T_WHITESPACE"," ",163],["T_STRING","FALSE",163],")",";",["T_WHITESPACE","\n  ",163],"}",["T_WHITESPACE","\n\n  ",164],["T_DOC_COMMENT","\/**\n   * Tests exception message escaping.\n   *\/",166],["T_WHITESPACE","\n  ",168],["T_PUBLIC","public",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","testExceptionEscaping",169],"(",")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n    ",169],["T_COMMENT","\/\/ Enable verbose error logging.\n",170],["T_WHITESPACE","    ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","config",171],"(",["T_CONSTANT_ENCAPSED_STRING","'system.logging'",171],")",["T_OBJECT_OPERATOR","->",171],["T_STRING","set",171],"(",["T_CONSTANT_ENCAPSED_STRING","'error_level'",171],",",["T_WHITESPACE"," ",171],["T_STRING","ERROR_REPORTING_DISPLAY_VERBOSE",171],")",["T_OBJECT_OPERATOR","->",171],["T_STRING","save",171],"(",")",";",["T_WHITESPACE","\n\n    ",171],["T_COMMENT","\/\/ Using SafeMarkup::format().\n",173],["T_WHITESPACE","    ",174],["T_VARIABLE","$request",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_STRING","Request",174],["T_DOUBLE_COLON","::",174],["T_STRING","create",174],"(",["T_CONSTANT_ENCAPSED_STRING","'\/router_test\/test24'",174],")",";",["T_WHITESPACE","\n    ",174],["T_VARIABLE","$request",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","setFormat",175],"(",["T_CONSTANT_ENCAPSED_STRING","'html'",175],",",["T_WHITESPACE"," ",175],"[",["T_CONSTANT_ENCAPSED_STRING","'text\/html'",175],"]",")",";",["T_WHITESPACE","\n\n    ",175],["T_DOC_COMMENT","\/** @var \\Symfony\\Component\\HttpKernel\\HttpKernelInterface $kernel *\/",177],["T_WHITESPACE","\n    ",177],["T_VARIABLE","$kernel",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_NS_SEPARATOR","\\",178],["T_STRING","Drupal",178],["T_DOUBLE_COLON","::",178],["T_STRING","getContainer",178],"(",")",["T_OBJECT_OPERATOR","->",178],["T_STRING","get",178],"(",["T_CONSTANT_ENCAPSED_STRING","'http_kernel'",178],")",";",["T_WHITESPACE","\n    ",178],["T_VARIABLE","$response",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$kernel",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","handle",179],"(",["T_VARIABLE","$request",179],")",["T_OBJECT_OPERATOR","->",179],["T_STRING","prepare",179],"(",["T_VARIABLE","$request",179],")",";",["T_WHITESPACE","\n    ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","assertEqual",180],"(",["T_VARIABLE","$response",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getStatusCode",180],"(",")",",",["T_WHITESPACE"," ",180],["T_STRING","Response",180],["T_DOUBLE_COLON","::",180],["T_STRING","HTTP_INTERNAL_SERVER_ERROR",180],")",";",["T_WHITESPACE","\n    ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","assertEqual",181],"(",["T_VARIABLE","$response",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","headers",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","get",181],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-type'",181],")",",",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'text\/html; charset=UTF-8'",181],")",";",["T_WHITESPACE","\n\n    ",181],["T_COMMENT","\/\/ Test message is properly escaped, and that the unescaped string is not\n",183],["T_WHITESPACE","    ",184],["T_COMMENT","\/\/ output at all.\n",184],["T_WHITESPACE","    ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","setRawContent",185],"(",["T_VARIABLE","$response",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getContent",185],"(",")",")",";",["T_WHITESPACE","\n    ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","assertRaw",186],"(",["T_STRING","Html",186],["T_DOUBLE_COLON","::",186],["T_STRING","escape",186],"(",["T_CONSTANT_ENCAPSED_STRING","'Escaped content: <p> <br> <h3>'",186],")",")",";",["T_WHITESPACE","\n    ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","assertNoRaw",187],"(",["T_CONSTANT_ENCAPSED_STRING","'<p> <br> <h3>'",187],")",";",["T_WHITESPACE","\n\n    ",187],["T_VARIABLE","$string",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'<script>alert(123);<\/script>'",189],";",["T_WHITESPACE","\n    ",189],["T_VARIABLE","$request",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_STRING","Request",190],["T_DOUBLE_COLON","::",190],["T_STRING","create",190],"(",["T_CONSTANT_ENCAPSED_STRING","'\/router_test\/test2?_format=json'",190],["T_WHITESPACE"," ",190],".",["T_WHITESPACE"," ",190],["T_STRING","urlencode",190],"(",["T_VARIABLE","$string",190],")",",",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'GET'",190],")",";",["T_WHITESPACE","\n\n    ",190],["T_VARIABLE","$kernel",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_NS_SEPARATOR","\\",192],["T_STRING","Drupal",192],["T_DOUBLE_COLON","::",192],["T_STRING","getContainer",192],"(",")",["T_OBJECT_OPERATOR","->",192],["T_STRING","get",192],"(",["T_CONSTANT_ENCAPSED_STRING","'http_kernel'",192],")",";",["T_WHITESPACE","\n    ",192],["T_VARIABLE","$response",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$kernel",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","handle",193],"(",["T_VARIABLE","$request",193],")",["T_OBJECT_OPERATOR","->",193],["T_STRING","prepare",193],"(",["T_VARIABLE","$request",193],")",";",["T_WHITESPACE","\n    ",193],["T_COMMENT","\/\/ As the Content-type is text\/plain the fact that the raw string is\n",194],["T_WHITESPACE","    ",195],["T_COMMENT","\/\/ contained in the output does not matter.\n",195],["T_WHITESPACE","    ",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","assertEqual",196],"(",["T_VARIABLE","$response",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","headers",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","get",196],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-type'",196],")",",",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'text\/plain; charset=UTF-8'",196],")",";",["T_WHITESPACE","\n    ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","setRawContent",197],"(",["T_VARIABLE","$response",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getContent",197],"(",")",")",";",["T_WHITESPACE","\n    ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","assertRaw",198],"(",["T_VARIABLE","$string",198],")",";",["T_WHITESPACE","\n  ",198],"}",["T_WHITESPACE","\n\n",199],"}",["T_WHITESPACE","\n",201]]