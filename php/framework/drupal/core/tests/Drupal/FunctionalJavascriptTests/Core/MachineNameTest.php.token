[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","FunctionalJavascriptTests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FunctionalJavascriptTests",5],["T_NS_SEPARATOR","\\",5],["T_STRING","JavascriptTestBase",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Tests for the machine name field.\n *\n * @group field\n *\/",7],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","MachineNameTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","JavascriptTestBase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * Required modules.\n   *\n   * Node is required because the machine name callback checks for\n   * access_content.\n   *\n   * @var array\n   *\/",14],["T_WHITESPACE","\n  ",21],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_STATIC","static",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$modules",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],"[",["T_CONSTANT_ENCAPSED_STRING","'node'",22],",",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'form_test'",22],"]",";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",24],["T_WHITESPACE","\n  ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","setUp",27],"(",")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n    ",27],["T_STRING","parent",28],["T_DOUBLE_COLON","::",28],["T_STRING","setUp",28],"(",")",";",["T_WHITESPACE","\n\n    ",28],["T_VARIABLE","$account",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","drupalCreateUser",30],"(",["T_ARRAY","array",30],"(",["T_WHITESPACE","\n      ",30],["T_CONSTANT_ENCAPSED_STRING","'access content'",31],",",["T_WHITESPACE","\n    ",31],")",")",";",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","drupalLogin",33],"(",["T_VARIABLE","$account",33],")",";",["T_WHITESPACE","\n  ",33],"}",["T_WHITESPACE","\n\n  ",34],["T_DOC_COMMENT","\/**\n   * Tests that machine name field functions.\n   *\n   * Makes sure that the machine name field automatically provides a valid\n   * machine name and that the manual editing mode functions.\n   *\/",36],["T_WHITESPACE","\n  ",41],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","testMachineName",42],"(",")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n    ",42],["T_COMMENT","\/\/ Visit the machine name test page which contains two machine name fields.\n",43],["T_WHITESPACE","    ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","drupalGet",44],"(",["T_CONSTANT_ENCAPSED_STRING","'form-test\/machine-name'",44],")",";",["T_WHITESPACE","\n\n    ",44],["T_COMMENT","\/\/ Test values for conversion.\n",46],["T_WHITESPACE","    ",47],["T_VARIABLE","$test_values",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],"[",["T_WHITESPACE","\n      ",47],"[",["T_WHITESPACE","\n        ",48],["T_CONSTANT_ENCAPSED_STRING","'input'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'Test value !0-9@'",49],",",["T_WHITESPACE","\n        ",49],["T_CONSTANT_ENCAPSED_STRING","'message'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'A title that should be transliterated must be equal to the php generated machine name'",50],",",["T_WHITESPACE","\n        ",50],["T_CONSTANT_ENCAPSED_STRING","'expected'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'test_value_0_9_'",51],",",["T_WHITESPACE","\n      ",51],"]",",",["T_WHITESPACE","\n      ",52],"[",["T_WHITESPACE","\n        ",53],["T_CONSTANT_ENCAPSED_STRING","'input'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'Test value'",54],",",["T_WHITESPACE","\n        ",54],["T_CONSTANT_ENCAPSED_STRING","'message'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'A title that should not be transliterated must be equal to the php generated machine name'",55],",",["T_WHITESPACE","\n        ",55],["T_CONSTANT_ENCAPSED_STRING","'expected'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'test_value'",56],",",["T_WHITESPACE","\n      ",56],"]",",",["T_WHITESPACE","\n    ",57],"]",";",["T_WHITESPACE","\n\n    ",58],["T_COMMENT","\/\/ Get page and session.\n",60],["T_WHITESPACE","    ",61],["T_VARIABLE","$page",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getSession",61],"(",")",["T_OBJECT_OPERATOR","->",61],["T_STRING","getPage",61],"(",")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$assert_session",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertSession",62],"(",")",";",["T_WHITESPACE","\n\n    ",62],["T_COMMENT","\/\/ Get elements from the page.\n",64],["T_WHITESPACE","    ",65],["T_VARIABLE","$title_1",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$page",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","findField",65],"(",["T_CONSTANT_ENCAPSED_STRING","'machine_name_1_label'",65],")",";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$machine_name_1_field",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$page",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","findField",66],"(",["T_CONSTANT_ENCAPSED_STRING","'machine_name_1'",66],")",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$machine_name_2_field",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$page",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","findField",67],"(",["T_CONSTANT_ENCAPSED_STRING","'machine_name_2'",67],")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$machine_name_1_wrapper",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$machine_name_1_field",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getParent",68],"(",")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$machine_name_2_wrapper",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$machine_name_2_field",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getParent",69],"(",")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$machine_name_1_value",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$page",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","find",70],"(",["T_CONSTANT_ENCAPSED_STRING","'css'",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'#edit-machine-name-1-label-machine-name-suffix .machine-name-value'",70],")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$machine_name_2_value",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$page",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","find",71],"(",["T_CONSTANT_ENCAPSED_STRING","'css'",71],",",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'#edit-machine-name-2-label-machine-name-suffix .machine-name-value'",71],")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$button_1",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$page",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","find",72],"(",["T_CONSTANT_ENCAPSED_STRING","'css'",72],",",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'#edit-machine-name-1-label-machine-name-suffix button.link'",72],")",";",["T_WHITESPACE","\n\n    ",72],["T_COMMENT","\/\/ Assert both fields are initialized correctly.\n",74],["T_WHITESPACE","    ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertNotEmpty",75],"(",["T_VARIABLE","$machine_name_1_value",75],",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'Machine name field 1 must be initialized'",75],")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","assertNotEmpty",76],"(",["T_VARIABLE","$machine_name_2_value",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'Machine name field 2 must be initialized'",76],")",";",["T_WHITESPACE","\n\n    ",76],["T_COMMENT","\/\/ Field must be present for the rest of the test to work.\n",78],["T_WHITESPACE","    ",79],["T_IF","if",79],["T_WHITESPACE"," ",79],"(",["T_EMPTY","empty",79],"(",["T_VARIABLE","$machine_name_1_value",79],")",")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n      ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","fail",80],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot finish test, missing machine name field'",80],")",";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n\n    ",81],["T_COMMENT","\/\/ Test each value for conversion to a machine name.\n",83],["T_WHITESPACE","    ",84],["T_FOREACH","foreach",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$test_values",84],["T_WHITESPACE"," ",84],["T_AS","as",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$test_info",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n      ",84],["T_COMMENT","\/\/ Set the value for the field, triggering the machine name update.\n",85],["T_WHITESPACE","      ",86],["T_VARIABLE","$title_1",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","setValue",86],"(",["T_VARIABLE","$test_info",86],"[",["T_CONSTANT_ENCAPSED_STRING","'input'",86],"]",")",";",["T_WHITESPACE","\n\n      ",86],["T_COMMENT","\/\/ Wait the set timeout for fetching the machine name.\n",88],["T_WHITESPACE","      ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertJsCondition",89],"(",["T_CONSTANT_ENCAPSED_STRING","'jQuery(\"#edit-machine-name-1-label-machine-name-suffix .machine-name-value\").html() == \"'",89],["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_VARIABLE","$test_info",89],"[",["T_CONSTANT_ENCAPSED_STRING","'expected'",89],"]",["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'\"'",89],")",";",["T_WHITESPACE","\n\n      ",89],["T_COMMENT","\/\/ Validate the generated machine name.\n",91],["T_WHITESPACE","      ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","assertEquals",92],"(",["T_VARIABLE","$test_info",92],"[",["T_CONSTANT_ENCAPSED_STRING","'expected'",92],"]",",",["T_WHITESPACE"," ",92],["T_VARIABLE","$machine_name_1_value",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getHtml",92],"(",")",",",["T_WHITESPACE"," ",92],["T_VARIABLE","$test_info",92],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",92],"]",")",";",["T_WHITESPACE","\n\n      ",92],["T_COMMENT","\/\/ Validate the second machine name field is empty.\n",94],["T_WHITESPACE","      ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","assertEmpty",95],"(",["T_VARIABLE","$machine_name_2_value",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getHtml",95],"(",")",",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'The second machine name field should still be empty'",95],")",";",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n\n    ",96],["T_COMMENT","\/\/ Validate the machine name field is hidden. Elements are visually hidden\n",98],["T_WHITESPACE","    ",99],["T_COMMENT","\/\/ using positioning, isVisible() will therefore not work.\n",99],["T_WHITESPACE","    ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","assertEquals",100],"(",["T_STRING","TRUE",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$machine_name_1_wrapper",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","hasClass",100],"(",["T_CONSTANT_ENCAPSED_STRING","'visually-hidden'",100],")",",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'The ID field must not be visible'",100],")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertEquals",101],"(",["T_STRING","TRUE",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$machine_name_2_wrapper",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","hasClass",101],"(",["T_CONSTANT_ENCAPSED_STRING","'visually-hidden'",101],")",",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'The ID field must not be visible'",101],")",";",["T_WHITESPACE","\n\n    ",101],["T_COMMENT","\/\/ Test switching back to the manual editing mode by clicking the edit link.\n",103],["T_WHITESPACE","    ",104],["T_VARIABLE","$button_1",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","click",104],"(",")",";",["T_WHITESPACE","\n\n    ",104],["T_COMMENT","\/\/ Validate the visibility of the machine name field.\n",106],["T_WHITESPACE","    ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","assertEquals",107],"(",["T_STRING","FALSE",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$machine_name_1_wrapper",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","hasClass",107],"(",["T_CONSTANT_ENCAPSED_STRING","'visually-hidden'",107],")",",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'The ID field must now be visible'",107],")",";",["T_WHITESPACE","\n\n    ",107],["T_COMMENT","\/\/ Validate the visibility of the second machine name field.\n",109],["T_WHITESPACE","    ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","assertEquals",110],"(",["T_STRING","TRUE",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$machine_name_2_wrapper",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","hasClass",110],"(",["T_CONSTANT_ENCAPSED_STRING","'visually-hidden'",110],")",",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'The ID field must not be visible'",110],")",";",["T_WHITESPACE","\n\n    ",110],["T_COMMENT","\/\/ Validate if the element contains the correct value.\n",112],["T_WHITESPACE","    ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","assertEquals",113],"(",["T_VARIABLE","$test_values",113],"[",["T_LNUMBER","1",113],"]","[",["T_CONSTANT_ENCAPSED_STRING","'expected'",113],"]",",",["T_WHITESPACE"," ",113],["T_VARIABLE","$machine_name_1_field",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getValue",113],"(",")",",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'The ID field value must be equal to the php generated machine name'",113],")",";",["T_WHITESPACE","\n  ",113],"}",["T_WHITESPACE","\n\n",114],"}",["T_WHITESPACE","\n",116]]