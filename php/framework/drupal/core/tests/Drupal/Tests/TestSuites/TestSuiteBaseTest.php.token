[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","TestSuites",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","org",5],["T_NS_SEPARATOR","\\",5],["T_STRING","bovigo",5],["T_NS_SEPARATOR","\\",5],["T_STRING","vfs",5],["T_NS_SEPARATOR","\\",5],["T_STRING","vfsStream",5],";",["T_WHITESPACE","\n\n",5],["T_COMMENT","\/\/ The test suite class is not part of the autoloader, we need to include it\n",7],["T_COMMENT","\/\/ manually.\n",8],["T_REQUIRE_ONCE","require_once",9],["T_WHITESPACE"," ",9],["T_DIR","__DIR__",9],["T_WHITESPACE"," ",9],".",["T_WHITESPACE"," ",9],["T_CONSTANT_ENCAPSED_STRING","'\/..\/..\/..\/TestSuites\/TestSuiteBase.php'",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * @coversDefaultClass \\Drupal\\Tests\\TestSuites\\TestSuiteBase\n *\n * @group TestSuite\n *\/",11],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","TestSuiteBaseTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_NS_SEPARATOR","\\",16],["T_STRING","PHPUnit_Framework_TestCase",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * Helper method to set up the file system.\n   *\n   * @return array[]\n   *   A Drupal filesystem suitable for use with vfsStream.\n   *\/",18],["T_WHITESPACE","\n  ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_FUNCTION","function",24],["T_WHITESPACE"," ",24],["T_STRING","getFilesystem",24],"(",")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n    ",24],["T_RETURN","return",25],["T_WHITESPACE"," ",25],"[",["T_WHITESPACE","\n      ",25],["T_CONSTANT_ENCAPSED_STRING","'core'",26],["T_WHITESPACE"," ",26],["T_DOUBLE_ARROW","=>",26],["T_WHITESPACE"," ",26],"[",["T_WHITESPACE","\n        ",26],["T_CONSTANT_ENCAPSED_STRING","'modules'",27],["T_WHITESPACE"," ",27],["T_DOUBLE_ARROW","=>",27],["T_WHITESPACE"," ",27],"[","]",",",["T_WHITESPACE","\n        ",27],["T_CONSTANT_ENCAPSED_STRING","'profiles'",28],["T_WHITESPACE"," ",28],["T_DOUBLE_ARROW","=>",28],["T_WHITESPACE"," ",28],"[","]",",",["T_WHITESPACE","\n        ",28],["T_CONSTANT_ENCAPSED_STRING","'tests'",29],["T_WHITESPACE"," ",29],["T_DOUBLE_ARROW","=>",29],["T_WHITESPACE"," ",29],"[",["T_WHITESPACE","\n          ",29],["T_CONSTANT_ENCAPSED_STRING","'Drupal'",30],["T_WHITESPACE"," ",30],["T_DOUBLE_ARROW","=>",30],["T_WHITESPACE"," ",30],"[",["T_WHITESPACE","\n            ",30],["T_CONSTANT_ENCAPSED_STRING","'NotUnitTests'",31],["T_WHITESPACE"," ",31],["T_DOUBLE_ARROW","=>",31],["T_WHITESPACE"," ",31],"[",["T_WHITESPACE","\n              ",31],["T_CONSTANT_ENCAPSED_STRING","'CoreNotUnitTest.php'",32],["T_WHITESPACE"," ",32],["T_DOUBLE_ARROW","=>",32],["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'<?php'",32],",",["T_WHITESPACE","\n            ",32],"]",",",["T_WHITESPACE","\n            ",33],["T_CONSTANT_ENCAPSED_STRING","'Tests'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],"[",["T_WHITESPACE","\n              ",34],["T_CONSTANT_ENCAPSED_STRING","'CoreUnitTest.php'",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'<?php'",35],",",["T_WHITESPACE","\n            ",35],"]",",",["T_WHITESPACE","\n          ",36],"]",",",["T_WHITESPACE","\n        ",37],"]",",",["T_WHITESPACE","\n      ",38],"]",",",["T_WHITESPACE","\n    ",39],"]",";",["T_WHITESPACE","\n  ",40],"}",["T_WHITESPACE","\n\n  ",41],["T_DOC_COMMENT","\/**\n   * @return array[]\n   *   Test data for testAddTestsBySuiteNamespaceCore(). An array of arrays:\n   *   - A filesystem array for vfsStream.\n   *   - The sub-namespace of the test suite.\n   *   - The array of tests expected to be discovered.\n   *\/",43],["T_WHITESPACE","\n  ",49],["T_PUBLIC","public",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","provideCoreTests",50],"(",")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$filesystem",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getFilesystem",51],"(",")",";",["T_WHITESPACE","\n    ",51],["T_RETURN","return",52],["T_WHITESPACE"," ",52],"[",["T_WHITESPACE","\n      ",52],["T_CONSTANT_ENCAPSED_STRING","'unit-tests'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],"[",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$filesystem",54],",",["T_WHITESPACE","\n        ",54],["T_CONSTANT_ENCAPSED_STRING","'Unit'",55],",",["T_WHITESPACE","\n        ",55],"[",["T_WHITESPACE","\n          ",56],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Tests\\CoreUnitTest'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'vfs:\/\/root\/core\/tests\/Drupal\/Tests\/CoreUnitTest.php'",57],",",["T_WHITESPACE","\n        ",57],"]",",",["T_WHITESPACE","\n      ",58],"]",",",["T_WHITESPACE","\n      ",59],["T_CONSTANT_ENCAPSED_STRING","'not-unit-tests'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],"[",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$filesystem",61],",",["T_WHITESPACE","\n        ",61],["T_CONSTANT_ENCAPSED_STRING","'NotUnit'",62],",",["T_WHITESPACE","\n        ",62],"[",["T_WHITESPACE","\n          ",63],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\NotUnitTests\\CoreNotUnitTest'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'vfs:\/\/root\/core\/tests\/Drupal\/NotUnitTests\/CoreNotUnitTest.php'",64],",",["T_WHITESPACE","\n        ",64],"]",",",["T_WHITESPACE","\n      ",65],"]",",",["T_WHITESPACE","\n    ",66],"]",";",["T_WHITESPACE","\n  ",67],"}",["T_WHITESPACE","\n\n  ",68],["T_DOC_COMMENT","\/**\n   * Tests for special case behavior of unit test suite namespaces in core.\n   *\n   * @covers ::addTestsBySuiteNamespace\n   *\n   * @dataProvider provideCoreTests\n   *\/",70],["T_WHITESPACE","\n  ",76],["T_PUBLIC","public",77],["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","testAddTestsBySuiteNamespaceCore",77],"(",["T_VARIABLE","$filesystem",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$suite_namespace",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$expected_tests",77],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n    ",77],["T_COMMENT","\/\/ Set up the file system.\n",78],["T_WHITESPACE","    ",79],["T_VARIABLE","$vfs",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_STRING","vfsStream",79],["T_DOUBLE_COLON","::",79],["T_STRING","setup",79],"(",["T_CONSTANT_ENCAPSED_STRING","'root'",79],")",";",["T_WHITESPACE","\n    ",79],["T_STRING","vfsStream",80],["T_DOUBLE_COLON","::",80],["T_STRING","create",80],"(",["T_VARIABLE","$filesystem",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$vfs",80],")",";",["T_WHITESPACE","\n\n    ",80],["T_COMMENT","\/\/ Make a stub suite base to test.\n",82],["T_WHITESPACE","    ",83],["T_VARIABLE","$stub",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_NEW","new",83],["T_WHITESPACE"," ",83],["T_STRING","StubTestSuiteBase",83],"(",["T_CONSTANT_ENCAPSED_STRING","'test_me'",83],")",";",["T_WHITESPACE","\n\n    ",83],["T_COMMENT","\/\/ Access addTestsBySuiteNamespace().\n",85],["T_WHITESPACE","    ",86],["T_VARIABLE","$ref_add_tests",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_NEW","new",86],["T_WHITESPACE"," ",86],["T_NS_SEPARATOR","\\",86],["T_STRING","ReflectionMethod",86],"(",["T_VARIABLE","$stub",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'addTestsBySuiteNamespace'",86],")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$ref_add_tests",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","setAccessible",87],"(",["T_STRING","TRUE",87],")",";",["T_WHITESPACE","\n\n    ",87],["T_COMMENT","\/\/ Invoke addTestsBySuiteNamespace().\n",89],["T_WHITESPACE","    ",90],["T_VARIABLE","$ref_add_tests",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","invokeArgs",90],"(",["T_VARIABLE","$stub",90],",",["T_WHITESPACE"," ",90],"[",["T_STRING","vfsStream",90],["T_DOUBLE_COLON","::",90],["T_STRING","url",90],"(",["T_CONSTANT_ENCAPSED_STRING","'root'",90],")",",",["T_WHITESPACE"," ",90],["T_VARIABLE","$suite_namespace",90],"]",")",";",["T_WHITESPACE","\n\n    ",90],["T_COMMENT","\/\/ Determine if we loaded the expected test files.\n",92],["T_WHITESPACE","    ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","assertNotEmpty",93],"(",["T_VARIABLE","$stub",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","testFiles",93],")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertEmpty",94],"(",["T_STRING","array_diff_assoc",94],"(",["T_VARIABLE","$expected_tests",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$stub",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","testFiles",94],")",")",";",["T_WHITESPACE","\n  ",94],"}",["T_WHITESPACE","\n\n",95],"}",["T_WHITESPACE","\n\n",97],["T_DOC_COMMENT","\/**\n * Stub subclass of TestSuiteBase.\n *\n * We use this class to alter the behavior of TestSuiteBase so it can be\n * testable.\n *\/",99],["T_WHITESPACE","\n",104],["T_CLASS","class",105],["T_WHITESPACE"," ",105],["T_STRING","StubTestSuiteBase",105],["T_WHITESPACE"," ",105],["T_EXTENDS","extends",105],["T_WHITESPACE"," ",105],["T_STRING","TestSuiteBase",105],["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n\n  ",105],["T_DOC_COMMENT","\/**\n   * Test files discovered by addTestsBySuiteNamespace().\n   *\n   * @var string[]\n   *\/",107],["T_WHITESPACE","\n  ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$testFiles",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],"[","]",";",["T_WHITESPACE","\n\n  ",112],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",114],["T_WHITESPACE","\n  ",116],["T_PROTECTED","protected",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","findExtensionDirectories",117],"(",["T_VARIABLE","$root",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n    ",117],["T_COMMENT","\/\/ We have to stub findExtensionDirectories() because we can't inject a\n",118],["T_WHITESPACE","    ",119],["T_COMMENT","\/\/ vfsStream filesystem into drupal_phpunit_find_extension_directories(),\n",119],["T_WHITESPACE","    ",120],["T_COMMENT","\/\/ which uses \\SplFileInfo->getRealPath(). getRealPath() resolves\n",120],["T_WHITESPACE","    ",121],["T_COMMENT","\/\/ stream-based paths to an empty string. See\n",121],["T_WHITESPACE","    ",122],["T_COMMENT","\/\/ https:\/\/github.com\/mikey179\/vfsStream\/wiki\/Known-Issues\n",122],["T_WHITESPACE","    ",123],["T_RETURN","return",123],["T_WHITESPACE"," ",123],"[","]",";",["T_WHITESPACE","\n  ",123],"}",["T_WHITESPACE","\n\n  ",124],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",126],["T_WHITESPACE","\n  ",128],["T_PUBLIC","public",129],["T_WHITESPACE"," ",129],["T_FUNCTION","function",129],["T_WHITESPACE"," ",129],["T_STRING","addTestFiles",129],"(",["T_VARIABLE","$filenames",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n    ",129],["T_COMMENT","\/\/ We stub addTestFiles() because the parent implementation can't deal with\n",130],["T_WHITESPACE","    ",131],["T_COMMENT","\/\/ vfsStream-based filesystems due to an error in\n",131],["T_WHITESPACE","    ",132],["T_COMMENT","\/\/ stream_resolve_include_path(). See\n",132],["T_WHITESPACE","    ",133],["T_COMMENT","\/\/ https:\/\/github.com\/mikey179\/vfsStream\/issues\/5 Here we just store the\n",133],["T_WHITESPACE","    ",134],["T_COMMENT","\/\/ test file being added in $this->testFiles.\n",134],["T_WHITESPACE","    ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","testFiles",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_STRING","array_merge",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","testFiles",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$filenames",135],")",";",["T_WHITESPACE","\n  ",135],"}",["T_WHITESPACE","\n\n",136],"}",["T_WHITESPACE","\n",138]]