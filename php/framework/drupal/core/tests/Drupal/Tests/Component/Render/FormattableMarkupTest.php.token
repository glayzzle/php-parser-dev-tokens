[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Component",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Render",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Render",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FormattableMarkup",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Tests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","UnitTestCase",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Tests the TranslatableMarkup class.\n *\n * @coversDefaultClass \\Drupal\\Component\\Render\\FormattableMarkup\n * @group utility\n *\/",8],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","FormattableMarkupTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","UnitTestCase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * The error message of the last error in the error handler.\n   *\n   * @var string\n   *\/",16],["T_WHITESPACE","\n  ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$lastErrorMessage",21],";",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * The error number of the last error in the error handler.\n   *\n   * @var int\n   *\/",23],["T_WHITESPACE","\n  ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$lastErrorNumber",28],";",["T_WHITESPACE","\n\n  ",28],["T_DOC_COMMENT","\/**\n   * @covers ::__toString\n   * @covers ::jsonSerialize\n   *\/",30],["T_WHITESPACE","\n  ",33],["T_PUBLIC","public",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","testToString",34],"(",")",["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$string",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'Can I please have a @replacement'",35],";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$formattable_string",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_NEW","new",36],["T_WHITESPACE"," ",36],["T_STRING","FormattableMarkup",36],"(",["T_VARIABLE","$string",36],",",["T_WHITESPACE"," ",36],"[",["T_CONSTANT_ENCAPSED_STRING","'@replacement'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'kitten'",36],"]",")",";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$text",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_STRING_CAST","(string)",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$formattable_string",37],";",["T_WHITESPACE","\n    ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","assertEquals",38],"(",["T_CONSTANT_ENCAPSED_STRING","'Can I please have a kitten'",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$text",38],")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$text",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$formattable_string",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","jsonSerialize",39],"(",")",";",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","assertEquals",40],"(",["T_CONSTANT_ENCAPSED_STRING","'Can I please have a kitten'",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$text",40],")",";",["T_WHITESPACE","\n  ",40],"}",["T_WHITESPACE","\n\n  ",41],["T_DOC_COMMENT","\/**\n   * @covers ::count\n   *\/",43],["T_WHITESPACE","\n  ",45],["T_PUBLIC","public",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","testCount",46],"(",")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$string",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'Can I please have a @replacement'",47],";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$formattable_string",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_NEW","new",48],["T_WHITESPACE"," ",48],["T_STRING","FormattableMarkup",48],"(",["T_VARIABLE","$string",48],",",["T_WHITESPACE"," ",48],"[",["T_CONSTANT_ENCAPSED_STRING","'@replacement'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'kitten'",48],"]",")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertEquals",49],"(",["T_STRING","strlen",49],"(",["T_VARIABLE","$string",49],")",",",["T_WHITESPACE"," ",49],["T_VARIABLE","$formattable_string",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","count",49],"(",")",")",";",["T_WHITESPACE","\n  ",49],"}",["T_WHITESPACE","\n\n  ",50],["T_DOC_COMMENT","\/**\n   * Custom error handler that saves the last error.\n   *\n   * We need this custom error handler because we cannot rely on the error to\n   * exception conversion as __toString is never allowed to leak any kind of\n   * exception.\n   *\n   * @param int $error_number\n   *   The error number.\n   * @param string $error_message\n   *   The error message.\n   *\/",52],["T_WHITESPACE","\n  ",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","errorHandler",64],"(",["T_VARIABLE","$error_number",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$error_message",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","lastErrorNumber",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$error_number",65],";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","lastErrorMessage",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$error_message",66],";",["T_WHITESPACE","\n  ",66],"}",["T_WHITESPACE","\n\n  ",67],["T_DOC_COMMENT","\/**\n   * @covers ::__toString\n   * @dataProvider providerTestUnexpectedPlaceholder\n   *\/",69],["T_WHITESPACE","\n  ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","testUnexpectedPlaceholder",73],"(",["T_VARIABLE","$string",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$arguments",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$error_number",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$error_message",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n    ",73],["T_COMMENT","\/\/ We set a custom error handler because of https:\/\/github.com\/sebastianbergmann\/phpunit\/issues\/487\n",74],["T_WHITESPACE","    ",75],["T_STRING","set_error_handler",75],"(","[",["T_VARIABLE","$this",75],",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'errorHandler'",75],"]",")",";",["T_WHITESPACE","\n    ",75],["T_COMMENT","\/\/ We want this to trigger an error.\n",76],["T_WHITESPACE","    ",77],["T_VARIABLE","$markup",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_NEW","new",77],["T_WHITESPACE"," ",77],["T_STRING","FormattableMarkup",77],"(",["T_VARIABLE","$string",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$arguments",77],")",";",["T_WHITESPACE","\n    ",77],["T_COMMENT","\/\/ Cast it to a string which will generate the errors.\n",78],["T_WHITESPACE","    ",79],["T_VARIABLE","$output",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_STRING_CAST","(string)",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$markup",79],";",["T_WHITESPACE","\n    ",79],["T_STRING","restore_error_handler",80],"(",")",";",["T_WHITESPACE","\n    ",80],["T_COMMENT","\/\/ The string should not change.\n",81],["T_WHITESPACE","    ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertEquals",82],"(",["T_VARIABLE","$string",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$output",82],")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","assertEquals",83],"(",["T_VARIABLE","$error_number",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","lastErrorNumber",83],")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","assertEquals",84],"(",["T_VARIABLE","$error_message",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","lastErrorMessage",84],")",";",["T_WHITESPACE","\n  ",84],"}",["T_WHITESPACE","\n\n  ",85],["T_DOC_COMMENT","\/**\n   * Data provider for FormattableMarkupTest::testUnexpectedPlaceholder().\n   *\n   * @return array\n   *\/",87],["T_WHITESPACE","\n  ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","providerTestUnexpectedPlaceholder",92],"(",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n    ",92],["T_RETURN","return",93],["T_WHITESPACE"," ",93],"[",["T_WHITESPACE","\n      ",93],"[",["T_CONSTANT_ENCAPSED_STRING","'Non alpha starting character: ~placeholder'",94],",",["T_WHITESPACE"," ",94],"[",["T_CONSTANT_ENCAPSED_STRING","'~placeholder'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'replaced'",94],"]",",",["T_WHITESPACE"," ",94],["T_STRING","E_USER_ERROR",94],",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'Invalid placeholder (~placeholder) in string: Non alpha starting character: ~placeholder'",94],"]",",",["T_WHITESPACE","\n      ",94],"[",["T_CONSTANT_ENCAPSED_STRING","'Alpha starting character: placeholder'",95],",",["T_WHITESPACE"," ",95],"[",["T_CONSTANT_ENCAPSED_STRING","'placeholder'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'replaced'",95],"]",",",["T_WHITESPACE"," ",95],["T_STRING","E_USER_DEPRECATED",95],",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'Invalid placeholder (placeholder) in string: Alpha starting character: placeholder'",95],"]",",",["T_WHITESPACE","\n      ",95],["T_COMMENT","\/\/ Ensure that where the placeholder is located in the the string is\n",96],["T_WHITESPACE","      ",97],["T_COMMENT","\/\/ irrelevant.\n",97],["T_WHITESPACE","      ",98],"[",["T_CONSTANT_ENCAPSED_STRING","'placeholder'",98],",",["T_WHITESPACE"," ",98],"[",["T_CONSTANT_ENCAPSED_STRING","'placeholder'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'replaced'",98],"]",",",["T_WHITESPACE"," ",98],["T_STRING","E_USER_DEPRECATED",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'Invalid placeholder (placeholder) in string: placeholder'",98],"]",",",["T_WHITESPACE","\n    ",98],"]",";",["T_WHITESPACE","\n  ",99],"}",["T_WHITESPACE","\n\n",100],"}",["T_WHITESPACE","\n",102]]