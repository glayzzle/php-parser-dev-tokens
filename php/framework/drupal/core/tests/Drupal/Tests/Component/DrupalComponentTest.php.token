[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Component",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Tests",5],["T_NS_SEPARATOR","\\",5],["T_STRING","UnitTestCase",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","org",6],["T_NS_SEPARATOR","\\",6],["T_STRING","bovigo",6],["T_NS_SEPARATOR","\\",6],["T_STRING","vfs",6],["T_NS_SEPARATOR","\\",6],["T_STRING","vfsStream",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * General tests for \\Drupal\\Component that can't go anywhere else.\n *\n * @group Component\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","DrupalComponentTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","UnitTestCase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * Tests that classes in Component do not use any Core class.\n   *\/",15],["T_WHITESPACE","\n  ",17],["T_PUBLIC","public",18],["T_WHITESPACE"," ",18],["T_FUNCTION","function",18],["T_WHITESPACE"," ",18],["T_STRING","testNoCoreInComponent",18],"(",")",["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n    ",18],["T_VARIABLE","$component_path",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_STRING","dirname",19],"(",["T_STRING","substr",19],"(",["T_DIR","__DIR__",19],",",["T_WHITESPACE"," ",19],["T_LNUMBER","0",19],",",["T_WHITESPACE"," ",19],"-",["T_STRING","strlen",19],"(",["T_NS_C","__NAMESPACE__",19],")",")",")",["T_WHITESPACE"," ",19],".",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'\/lib\/Drupal\/Component'",19],";",["T_WHITESPACE","\n    ",19],["T_FOREACH","foreach",20],["T_WHITESPACE"," ",20],"(",["T_VARIABLE","$this",20],["T_OBJECT_OPERATOR","->",20],["T_STRING","findPhpClasses",20],"(",["T_VARIABLE","$component_path",20],")",["T_WHITESPACE"," ",20],["T_AS","as",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$class",20],")",["T_WHITESPACE"," ",20],"{",["T_WHITESPACE","\n      ",20],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","assertNoCoreUsage",21],"(",["T_VARIABLE","$class",21],")",";",["T_WHITESPACE","\n    ",21],"}",["T_WHITESPACE","\n  ",22],"}",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * Tests that classes in Component Tests do not use any Core class.\n   *\/",25],["T_WHITESPACE","\n  ",27],["T_PUBLIC","public",28],["T_WHITESPACE"," ",28],["T_FUNCTION","function",28],["T_WHITESPACE"," ",28],["T_STRING","testNoCoreInComponentTests",28],"(",")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n    ",28],["T_VARIABLE","$component_path",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_STRING","dirname",29],"(",["T_STRING","substr",29],"(",["T_DIR","__DIR__",29],",",["T_WHITESPACE"," ",29],["T_LNUMBER","0",29],",",["T_WHITESPACE"," ",29],"-",["T_STRING","strlen",29],"(",["T_NS_C","__NAMESPACE__",29],")",")",")",["T_WHITESPACE"," ",29],".",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'\/tests\/Drupal\/Tests\/Component'",29],";",["T_WHITESPACE","\n    ",29],["T_FOREACH","foreach",30],["T_WHITESPACE"," ",30],"(",["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","findPhpClasses",30],"(",["T_VARIABLE","$component_path",30],")",["T_WHITESPACE"," ",30],["T_AS","as",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$class",30],")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n      ",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","assertNoCoreUsage",31],"(",["T_VARIABLE","$class",31],")",";",["T_WHITESPACE","\n    ",31],"}",["T_WHITESPACE","\n  ",32],"}",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * Searches a directory recursively for PHP classes.\n   *\n   * @param string $dir\n   *   The full path to the directory that should be checked.\n   *\n   * @return array\n   *   An array of class paths.\n   *\/",35],["T_WHITESPACE","\n  ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","findPhpClasses",44],"(",["T_VARIABLE","$dir",44],")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$classes",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_ARRAY","array",45],"(",")",";",["T_WHITESPACE","\n    ",45],["T_FOREACH","foreach",46],["T_WHITESPACE"," ",46],"(",["T_NEW","new",46],["T_WHITESPACE"," ",46],["T_NS_SEPARATOR","\\",46],["T_STRING","DirectoryIterator",46],"(",["T_VARIABLE","$dir",46],")",["T_WHITESPACE"," ",46],["T_AS","as",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$file",46],")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n      ",46],["T_IF","if",47],["T_WHITESPACE"," ",47],"(",["T_VARIABLE","$file",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","isDir",47],"(",")",["T_WHITESPACE"," ",47],["T_BOOLEAN_AND","&&",47],["T_WHITESPACE"," ",47],"!",["T_VARIABLE","$file",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","isDot",47],"(",")",")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$classes",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","array_merge",48],"(",["T_VARIABLE","$classes",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","findPhpClasses",48],"(",["T_VARIABLE","$file",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getPathname",48],"(",")",")",")",";",["T_WHITESPACE","\n      ",48],"}",["T_WHITESPACE","\n      ",49],["T_ELSEIF","elseif",50],["T_WHITESPACE"," ",50],"(",["T_VARIABLE","$file",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getExtension",50],"(",")",["T_WHITESPACE"," ",50],["T_IS_EQUAL","==",50],["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'php'",50],")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$classes",51],"[","]",["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$file",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getPathname",51],"(",")",";",["T_WHITESPACE","\n      ",51],"}",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n\n    ",53],["T_RETURN","return",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$classes",55],";",["T_WHITESPACE","\n  ",55],"}",["T_WHITESPACE","\n\n  ",56],["T_DOC_COMMENT","\/**\n   * Asserts that the given class is not using any class from Core namespace.\n   *\n   * @param string $class_path\n   *   The full path to the class that should be checked.\n   *\/",58],["T_WHITESPACE","\n  ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","assertNoCoreUsage",64],"(",["T_VARIABLE","$class_path",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$contents",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","file_get_contents",65],"(",["T_VARIABLE","$class_path",65],")",";",["T_WHITESPACE","\n    ",65],["T_STRING","preg_match_all",66],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^.*Drupal\\\\\\Core.*$\/m'",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$contents",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$matches",66],")",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$matches",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","array_filter",67],"(",["T_VARIABLE","$matches",67],"[",["T_LNUMBER","0",67],"]",",",["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],"(",["T_VARIABLE","$line",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n      ",67],["T_COMMENT","\/\/ Filter references to @see as they don't really matter.\n",68],["T_WHITESPACE","      ",69],["T_RETURN","return",69],["T_WHITESPACE"," ",69],["T_STRING","strpos",69],"(",["T_VARIABLE","$line",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'@see'",69],")",["T_WHITESPACE"," ",69],["T_IS_IDENTICAL","===",69],["T_WHITESPACE"," ",69],["T_STRING","FALSE",69],";",["T_WHITESPACE","\n    ",69],"}",")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertEmpty",71],"(",["T_VARIABLE","$matches",71],",",["T_WHITESPACE"," ",71],"\"",["T_ENCAPSED_AND_WHITESPACE","Checking for illegal reference to 'Drupal\\\\Core' namespace in ",71],["T_VARIABLE","$class_path",71],"\"",")",";",["T_WHITESPACE","\n  ",71],"}",["T_WHITESPACE","\n\n  ",72],["T_DOC_COMMENT","\/**\n   * Data provider for testAssertNoCoreUseage().\n   *\n   * @return array\n   *   Data for testAssertNoCoreUseage() in the form:\n   *   - TRUE if the test passes, FALSE otherwise.\n   *   - File data as a string. This will be used as a virtual file.\n   *\/",74],["T_WHITESPACE","\n  ",81],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","providerAssertNoCoreUseage",82],"(",")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n    ",82],["T_RETURN","return",83],["T_WHITESPACE"," ",83],["T_ARRAY","array",83],"(",["T_WHITESPACE","\n      ",83],["T_ARRAY","array",84],"(",["T_WHITESPACE","\n        ",84],["T_STRING","TRUE",85],",",["T_WHITESPACE","\n        ",85],["T_CONSTANT_ENCAPSED_STRING","'@see \\\\Drupal\\\\Core\\\\Something'",86],",",["T_WHITESPACE","\n      ",86],")",",",["T_WHITESPACE","\n      ",87],["T_ARRAY","array",88],"(",["T_WHITESPACE","\n        ",88],["T_STRING","FALSE",89],",",["T_WHITESPACE","\n        ",89],["T_CONSTANT_ENCAPSED_STRING","'\\\\Drupal\\\\Core\\\\Something'",90],",",["T_WHITESPACE","\n      ",90],")",",",["T_WHITESPACE","\n      ",91],["T_ARRAY","array",92],"(",["T_WHITESPACE","\n        ",92],["T_STRING","FALSE",93],",",["T_WHITESPACE","\n        ",93],["T_CONSTANT_ENCAPSED_STRING","\"@see \\\\Drupal\\\\Core\\\\Something\\n\"",94],["T_WHITESPACE"," ",94],".",["T_WHITESPACE","\n        ",94],["T_CONSTANT_ENCAPSED_STRING","'\\\\Drupal\\\\Core\\\\Something'",95],",",["T_WHITESPACE","\n      ",95],")",",",["T_WHITESPACE","\n      ",96],["T_ARRAY","array",97],"(",["T_WHITESPACE","\n        ",97],["T_STRING","FALSE",98],",",["T_WHITESPACE","\n        ",98],["T_CONSTANT_ENCAPSED_STRING","\"\\\\Drupal\\\\Core\\\\Something\\n\"",99],["T_WHITESPACE"," ",99],".",["T_WHITESPACE","\n        ",99],["T_CONSTANT_ENCAPSED_STRING","'@see \\\\Drupal\\\\Core\\\\Something'",100],",",["T_WHITESPACE","\n      ",100],")",",",["T_WHITESPACE","\n    ",101],")",";",["T_WHITESPACE","\n  ",102],"}",["T_WHITESPACE","\n\n  ",103],["T_DOC_COMMENT","\/**\n   * @covers \\Drupal\\Tests\\Component\\DrupalComponentTest::assertNoCoreUsage\n   * @dataProvider providerAssertNoCoreUseage\n   *\/",105],["T_WHITESPACE","\n  ",108],["T_PUBLIC","public",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","testAssertNoCoreUseage",109],"(",["T_VARIABLE","$expected_pass",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$file_data",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n    ",109],["T_COMMENT","\/\/ Set up a virtual file to read.\n",110],["T_WHITESPACE","    ",111],["T_VARIABLE","$vfs_root",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_STRING","vfsStream",111],["T_DOUBLE_COLON","::",111],["T_STRING","setup",111],"(",["T_CONSTANT_ENCAPSED_STRING","'root'",111],")",";",["T_WHITESPACE","\n    ",111],["T_STRING","vfsStream",112],["T_DOUBLE_COLON","::",112],["T_STRING","newFile",112],"(",["T_CONSTANT_ENCAPSED_STRING","'Test.php'",112],")",["T_OBJECT_OPERATOR","->",112],["T_STRING","at",112],"(",["T_VARIABLE","$vfs_root",112],")",["T_OBJECT_OPERATOR","->",112],["T_STRING","setContent",112],"(",["T_VARIABLE","$file_data",112],")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$file_uri",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","vfsStream",113],["T_DOUBLE_COLON","::",113],["T_STRING","url",113],"(",["T_CONSTANT_ENCAPSED_STRING","'root\/Test.php'",113],")",";",["T_WHITESPACE","\n\n    ",113],["T_TRY","try",115],["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n      ",115],["T_VARIABLE","$pass",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_STRING","TRUE",116],";",["T_WHITESPACE","\n      ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","assertNoCoreUsage",117],"(",["T_VARIABLE","$file_uri",117],")",";",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n    ",118],["T_CATCH","catch",119],["T_WHITESPACE"," ",119],"(",["T_NS_SEPARATOR","\\",119],["T_STRING","PHPUnit_Framework_AssertionFailedError",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$e",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n      ",119],["T_VARIABLE","$pass",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_STRING","FALSE",120],";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","assertEquals",122],"(",["T_VARIABLE","$expected_pass",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$pass",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$expected_pass",122],["T_WHITESPACE"," ",122],"?",["T_WHITESPACE","\n      ",122],["T_CONSTANT_ENCAPSED_STRING","'Test caused a false positive'",123],["T_WHITESPACE"," ",123],":",["T_WHITESPACE","\n      ",123],["T_CONSTANT_ENCAPSED_STRING","'Test failed to detect Core usage'",124],")",";",["T_WHITESPACE","\n  ",124],"}",["T_WHITESPACE","\n\n",125],"}",["T_WHITESPACE","\n",127]]