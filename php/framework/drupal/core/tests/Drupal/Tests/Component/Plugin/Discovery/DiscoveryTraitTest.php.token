[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Component",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Discovery",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Tests",5],["T_NS_SEPARATOR","\\",5],["T_STRING","UnitTestCase",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * @group Plugin\n * @coversDefaultClass \\Drupal\\Component\\Plugin\\Discovery\\DiscoveryTrait\n *\/",7],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","DiscoveryTraitTest",11],["T_WHITESPACE"," ",11],["T_EXTENDS","extends",11],["T_WHITESPACE"," ",11],["T_STRING","UnitTestCase",11],["T_WHITESPACE"," ",11],"{",["T_WHITESPACE","\n\n  ",11],["T_DOC_COMMENT","\/**\n   * Data provider for testDoGetDefinition().\n   *\n   * @return array\n   *   - Expected plugin definition.\n   *   - Plugin definition array, to pass to doGetDefinition().\n   *   - Plugin ID to get, passed to doGetDefinition().\n   *\/",13],["T_WHITESPACE","\n  ",20],["T_PUBLIC","public",21],["T_WHITESPACE"," ",21],["T_FUNCTION","function",21],["T_WHITESPACE"," ",21],["T_STRING","providerDoGetDefinition",21],"(",")",["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n    ",21],["T_RETURN","return",22],["T_WHITESPACE"," ",22],["T_ARRAY","array",22],"(",["T_WHITESPACE","\n      ",22],"[",["T_CONSTANT_ENCAPSED_STRING","'definition'",23],",",["T_WHITESPACE"," ",23],"[",["T_CONSTANT_ENCAPSED_STRING","'plugin_name'",23],["T_WHITESPACE"," ",23],["T_DOUBLE_ARROW","=>",23],["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'definition'",23],"]",",",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'plugin_name'",23],"]",",",["T_WHITESPACE","\n      ",23],"[",["T_STRING","NULL",24],",",["T_WHITESPACE"," ",24],"[",["T_CONSTANT_ENCAPSED_STRING","'plugin_name'",24],["T_WHITESPACE"," ",24],["T_DOUBLE_ARROW","=>",24],["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'definition'",24],"]",",",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'bad_plugin_name'",24],"]",",",["T_WHITESPACE","\n    ",24],")",";",["T_WHITESPACE","\n  ",25],"}",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * @covers ::doGetDefinition\n   * @dataProvider providerDoGetDefinition\n   *\/",28],["T_WHITESPACE","\n  ",31],["T_PUBLIC","public",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","testDoGetDefinition",32],"(",["T_VARIABLE","$expected",32],",",["T_WHITESPACE"," ",32],["T_VARIABLE","$definitions",32],",",["T_WHITESPACE"," ",32],["T_VARIABLE","$plugin_id",32],")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n    ",32],["T_COMMENT","\/\/ Mock the trait.\n",33],["T_WHITESPACE","    ",34],["T_VARIABLE","$trait",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","getMockForTrait",34],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Component\\Plugin\\Discovery\\DiscoveryTrait'",34],")",";",["T_WHITESPACE","\n    ",34],["T_COMMENT","\/\/ Un-protect the method using reflection.\n",35],["T_WHITESPACE","    ",36],["T_VARIABLE","$method_ref",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_NEW","new",36],["T_WHITESPACE"," ",36],["T_NS_SEPARATOR","\\",36],["T_STRING","ReflectionMethod",36],"(",["T_VARIABLE","$trait",36],",",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'doGetDefinition'",36],")",";",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$method_ref",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","setAccessible",37],"(",["T_STRING","TRUE",37],")",";",["T_WHITESPACE","\n    ",37],["T_COMMENT","\/\/ Call doGetDefinition, with $exception_on_invalid always FALSE.\n",38],["T_WHITESPACE","    ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","assertSame",39],"(",["T_WHITESPACE","\n      ",39],["T_VARIABLE","$expected",40],",",["T_WHITESPACE","\n      ",40],["T_VARIABLE","$method_ref",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","invoke",41],"(",["T_VARIABLE","$trait",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$definitions",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$plugin_id",41],",",["T_WHITESPACE"," ",41],["T_STRING","FALSE",41],")",["T_WHITESPACE","\n    ",41],")",";",["T_WHITESPACE","\n  ",42],"}",["T_WHITESPACE","\n\n  ",43],["T_DOC_COMMENT","\/**\n   * Data provider for testDoGetDefinitionException()\n   *\n   * @return array\n   *   - Expected plugin definition.\n   *   - Plugin definition array, to pass to doGetDefinition().\n   *   - Plugin ID to get, passed to doGetDefinition().\n   *\/",45],["T_WHITESPACE","\n  ",52],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","providerDoGetDefinitionException",53],"(",")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n    ",53],["T_RETURN","return",54],["T_WHITESPACE"," ",54],["T_ARRAY","array",54],"(",["T_WHITESPACE","\n      ",54],"[",["T_STRING","FALSE",55],",",["T_WHITESPACE"," ",55],"[",["T_CONSTANT_ENCAPSED_STRING","'plugin_name'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'definition'",55],"]",",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'bad_plugin_name'",55],"]",",",["T_WHITESPACE","\n    ",55],")",";",["T_WHITESPACE","\n  ",56],"}",["T_WHITESPACE","\n\n  ",57],["T_DOC_COMMENT","\/**\n   * @covers ::doGetDefinition\n   * @expectedException \\Drupal\\Component\\Plugin\\Exception\\PluginNotFoundException\n   * @dataProvider providerDoGetDefinitionException\n   * @uses \\Drupal\\Component\\Plugin\\Exception\\PluginNotFoundException\n   *\/",59],["T_WHITESPACE","\n  ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","testDoGetDefinitionException",65],"(",["T_VARIABLE","$expected",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$definitions",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$plugin_id",65],")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n    ",65],["T_COMMENT","\/\/ Mock the trait.\n",66],["T_WHITESPACE","    ",67],["T_VARIABLE","$trait",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getMockForTrait",67],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Component\\Plugin\\Discovery\\DiscoveryTrait'",67],")",";",["T_WHITESPACE","\n    ",67],["T_COMMENT","\/\/ Un-protect the method using reflection.\n",68],["T_WHITESPACE","    ",69],["T_VARIABLE","$method_ref",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_NEW","new",69],["T_WHITESPACE"," ",69],["T_NS_SEPARATOR","\\",69],["T_STRING","ReflectionMethod",69],"(",["T_VARIABLE","$trait",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'doGetDefinition'",69],")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$method_ref",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","setAccessible",70],"(",["T_STRING","TRUE",70],")",";",["T_WHITESPACE","\n    ",70],["T_COMMENT","\/\/ Call doGetDefinition, with $exception_on_invalid always TRUE.\n",71],["T_WHITESPACE","    ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertSame",72],"(",["T_WHITESPACE","\n      ",72],["T_VARIABLE","$expected",73],",",["T_WHITESPACE","\n      ",73],["T_VARIABLE","$method_ref",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","invoke",74],"(",["T_VARIABLE","$trait",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$definitions",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$plugin_id",74],",",["T_WHITESPACE"," ",74],["T_STRING","TRUE",74],")",["T_WHITESPACE","\n    ",74],")",";",["T_WHITESPACE","\n  ",75],"}",["T_WHITESPACE","\n\n  ",76],["T_DOC_COMMENT","\/**\n   * @covers ::getDefinition\n   * @dataProvider providerDoGetDefinition\n   *\/",78],["T_WHITESPACE","\n  ",81],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","testGetDefinition",82],"(",["T_VARIABLE","$expected",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$definitions",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$plugin_id",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n    ",82],["T_COMMENT","\/\/ Since getDefinition is a wrapper around doGetDefinition(), we can re-use\n",83],["T_WHITESPACE","    ",84],["T_COMMENT","\/\/ its data provider. We just have to tell abstract method getDefinitions()\n",84],["T_WHITESPACE","    ",85],["T_COMMENT","\/\/ to use the $definitions array.\n",85],["T_WHITESPACE","    ",86],["T_VARIABLE","$trait",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getMockForTrait",86],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Component\\Plugin\\Discovery\\DiscoveryTrait'",86],")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$trait",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","expects",87],"(",["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","once",87],"(",")",")",["T_WHITESPACE","\n      ",87],["T_OBJECT_OPERATOR","->",88],["T_STRING","method",88],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefinitions'",88],")",["T_WHITESPACE","\n      ",88],["T_OBJECT_OPERATOR","->",89],["T_STRING","willReturn",89],"(",["T_VARIABLE","$definitions",89],")",";",["T_WHITESPACE","\n    ",89],["T_COMMENT","\/\/ Call getDefinition(), with $exception_on_invalid always FALSE.\n",90],["T_WHITESPACE","    ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","assertSame",91],"(",["T_WHITESPACE","\n      ",91],["T_VARIABLE","$expected",92],",",["T_WHITESPACE","\n      ",92],["T_VARIABLE","$trait",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getDefinition",93],"(",["T_VARIABLE","$plugin_id",93],",",["T_WHITESPACE"," ",93],["T_STRING","FALSE",93],")",["T_WHITESPACE","\n    ",93],")",";",["T_WHITESPACE","\n  ",94],"}",["T_WHITESPACE","\n\n  ",95],["T_DOC_COMMENT","\/**\n   * @covers ::getDefinition\n   * @expectedException \\Drupal\\Component\\Plugin\\Exception\\PluginNotFoundException\n   * @dataProvider providerDoGetDefinitionException\n   * @uses \\Drupal\\Component\\Plugin\\Exception\\PluginNotFoundException\n   *\/",97],["T_WHITESPACE","\n  ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","testGetDefinitionException",103],"(",["T_VARIABLE","$expected",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$definitions",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$plugin_id",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n    ",103],["T_COMMENT","\/\/ Since getDefinition is a wrapper around doGetDefinition(), we can re-use\n",104],["T_WHITESPACE","    ",105],["T_COMMENT","\/\/ its data provider. We just have to tell abstract method getDefinitions()\n",105],["T_WHITESPACE","    ",106],["T_COMMENT","\/\/ to use the $definitions array.\n",106],["T_WHITESPACE","    ",107],["T_VARIABLE","$trait",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getMockForTrait",107],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Component\\Plugin\\Discovery\\DiscoveryTrait'",107],")",";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$trait",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","expects",108],"(",["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","once",108],"(",")",")",["T_WHITESPACE","\n      ",108],["T_OBJECT_OPERATOR","->",109],["T_STRING","method",109],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefinitions'",109],")",["T_WHITESPACE","\n      ",109],["T_OBJECT_OPERATOR","->",110],["T_STRING","willReturn",110],"(",["T_VARIABLE","$definitions",110],")",";",["T_WHITESPACE","\n    ",110],["T_COMMENT","\/\/ Call getDefinition(), with $exception_on_invalid always TRUE.\n",111],["T_WHITESPACE","    ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","assertSame",112],"(",["T_WHITESPACE","\n      ",112],["T_VARIABLE","$expected",113],",",["T_WHITESPACE","\n      ",113],["T_VARIABLE","$trait",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getDefinition",114],"(",["T_VARIABLE","$plugin_id",114],",",["T_WHITESPACE"," ",114],["T_STRING","TRUE",114],")",["T_WHITESPACE","\n    ",114],")",";",["T_WHITESPACE","\n  ",115],"}",["T_WHITESPACE","\n\n  ",116],["T_DOC_COMMENT","\/**\n   * Data provider for testHasDefinition().\n   *\n   * @return array\n   *   - Expected TRUE or FALSE.\n   *   - Plugin ID to look for.\n   *\/",118],["T_WHITESPACE","\n  ",124],["T_PUBLIC","public",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","providerHasDefinition",125],"(",")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n    ",125],["T_RETURN","return",126],["T_WHITESPACE"," ",126],["T_ARRAY","array",126],"(",["T_WHITESPACE","\n      ",126],"[",["T_STRING","TRUE",127],",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'valid'",127],"]",",",["T_WHITESPACE","\n      ",127],"[",["T_STRING","FALSE",128],",",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'not_valid'",128],"]",",",["T_WHITESPACE","\n    ",128],")",";",["T_WHITESPACE","\n  ",129],"}",["T_WHITESPACE","\n\n  ",130],["T_DOC_COMMENT","\/**\n   * @covers ::hasDefinition\n   * @dataProvider providerHasDefinition\n   *\/",132],["T_WHITESPACE","\n  ",135],["T_PUBLIC","public",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","testHasDefinition",136],"(",["T_VARIABLE","$expected",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$plugin_id",136],")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$trait",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getMockBuilder",137],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Component\\Plugin\\Discovery\\DiscoveryTrait'",137],")",["T_WHITESPACE","\n      ",137],["T_OBJECT_OPERATOR","->",138],["T_STRING","setMethods",138],"(",["T_ARRAY","array",138],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefinition'",138],")",")",["T_WHITESPACE","\n      ",138],["T_OBJECT_OPERATOR","->",139],["T_STRING","getMockForTrait",139],"(",")",";",["T_WHITESPACE","\n    ",139],["T_COMMENT","\/\/ Set up our mocked getDefinition() to return TRUE for 'valid' and FALSE\n",140],["T_WHITESPACE","    ",141],["T_COMMENT","\/\/ for 'not_valid'.\n",141],["T_WHITESPACE","    ",142],["T_VARIABLE","$trait",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","expects",142],"(",["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","once",142],"(",")",")",["T_WHITESPACE","\n      ",142],["T_OBJECT_OPERATOR","->",143],["T_STRING","method",143],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefinition'",143],")",["T_WHITESPACE","\n      ",143],["T_OBJECT_OPERATOR","->",144],["T_STRING","will",144],"(",["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","returnValueMap",144],"(",["T_ARRAY","array",144],"(",["T_WHITESPACE","\n        ",144],"[",["T_CONSTANT_ENCAPSED_STRING","'valid'",145],",",["T_WHITESPACE"," ",145],["T_STRING","FALSE",145],",",["T_WHITESPACE"," ",145],["T_STRING","TRUE",145],"]",",",["T_WHITESPACE","\n        ",145],"[",["T_CONSTANT_ENCAPSED_STRING","'not_valid'",146],",",["T_WHITESPACE"," ",146],["T_STRING","FALSE",146],",",["T_WHITESPACE"," ",146],["T_STRING","FALSE",146],"]",",",["T_WHITESPACE","\n      ",146],")",")",")",";",["T_WHITESPACE","\n    ",147],["T_COMMENT","\/\/ Call hasDefinition().\n",148],["T_WHITESPACE","    ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","assertSame",149],"(",["T_WHITESPACE","\n      ",149],["T_VARIABLE","$expected",150],",",["T_WHITESPACE","\n      ",150],["T_VARIABLE","$trait",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","hasDefinition",151],"(",["T_VARIABLE","$plugin_id",151],")",["T_WHITESPACE","\n    ",151],")",";",["T_WHITESPACE","\n  ",152],"}",["T_WHITESPACE","\n\n",153],"}",["T_WHITESPACE","\n",155]]