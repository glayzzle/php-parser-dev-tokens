[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Component",3],["T_NS_SEPARATOR","\\",3],["T_STRING","PhpStorage",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","PhpStorage",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FileStorage",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","PhpStorage",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FileReadOnlyStorage",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * @coversDefaultClass \\Drupal\\Component\\PhpStorage\\FileReadOnlyStorage\n *\n * @group Drupal\n * @group PhpStorage\n *\/",8],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","FileStorageReadOnlyTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","PhpStorageTestBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * Standard test settings to pass to storage instances.\n   *\n   * @var array\n   *\/",16],["T_WHITESPACE","\n  ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$standardSettings",21],";",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * Read only test settings to pass to storage instances.\n   *\n   * @var array\n   *\/",23],["T_WHITESPACE","\n  ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$readonlyStorage",28],";",["T_WHITESPACE","\n\n  ",28],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",30],["T_WHITESPACE","\n  ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","setUp",33],"(",")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n    ",33],["T_STRING","parent",34],["T_DOUBLE_COLON","::",34],["T_STRING","setUp",34],"(",")",";",["T_WHITESPACE","\n\n    ",34],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","standardSettings",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_ARRAY","array",36],"(",["T_WHITESPACE","\n      ",36],["T_CONSTANT_ENCAPSED_STRING","'directory'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","directory",37],",",["T_WHITESPACE","\n      ",37],["T_CONSTANT_ENCAPSED_STRING","'bin'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'test'",38],",",["T_WHITESPACE","\n    ",38],")",";",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","readonlyStorage",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_ARRAY","array",40],"(",["T_WHITESPACE","\n      ",40],["T_CONSTANT_ENCAPSED_STRING","'directory'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","directory",41],",",["T_WHITESPACE","\n      ",41],["T_COMMENT","\/\/ Let this read from the bin where the other instance is writing.\n",42],["T_WHITESPACE","      ",43],["T_CONSTANT_ENCAPSED_STRING","'bin'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'test'",43],",",["T_WHITESPACE","\n    ",43],")",";",["T_WHITESPACE","\n  ",44],"}",["T_WHITESPACE","\n\n  ",45],["T_DOC_COMMENT","\/**\n   * Tests writing with one class and reading with another.\n   *\/",47],["T_WHITESPACE","\n  ",49],["T_PUBLIC","public",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","testReadOnly",50],"(",")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$php",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_NEW","new",51],["T_WHITESPACE"," ",51],["T_STRING","FileStorage",51],"(",["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","standardSettings",51],")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$name",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","randomMachineName",52],"(",")",["T_WHITESPACE"," ",52],".",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'\/'",52],["T_WHITESPACE"," ",52],".",["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","randomMachineName",52],"(",")",["T_WHITESPACE"," ",52],".",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'.php'",52],";",["T_WHITESPACE","\n\n    ",52],["T_COMMENT","\/\/ Find a global that doesn't exist.\n",54],["T_WHITESPACE","    ",55],["T_DO","do",55],["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n      ",55],["T_VARIABLE","$random",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","mt_rand",56],"(",["T_LNUMBER","10000",56],",",["T_WHITESPACE"," ",56],["T_LNUMBER","100000",56],")",";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE"," ",57],["T_WHILE","while",57],["T_WHITESPACE"," ",57],"(",["T_ISSET","isset",57],"(",["T_VARIABLE","$GLOBALS",57],"[",["T_VARIABLE","$random",57],"]",")",")",";",["T_WHITESPACE","\n\n    ",57],["T_COMMENT","\/\/ Write out a PHP file and ensure it's successfully loaded.\n",59],["T_WHITESPACE","    ",60],["T_VARIABLE","$code",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],"\"",["T_ENCAPSED_AND_WHITESPACE","<?php\\n\\$GLOBALS[",60],["T_VARIABLE","$random",60],["T_ENCAPSED_AND_WHITESPACE","] = TRUE;",60],"\"",";",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$success",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$php",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","save",61],"(",["T_VARIABLE","$name",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$code",61],")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","assertSame",62],"(",["T_VARIABLE","$success",62],",",["T_WHITESPACE"," ",62],["T_STRING","TRUE",62],")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$php_read",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_NEW","new",63],["T_WHITESPACE"," ",63],["T_STRING","FileReadOnlyStorage",63],"(",["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","readonlyStorage",63],")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$php_read",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","load",64],"(",["T_VARIABLE","$name",64],")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","assertTrue",65],"(",["T_VARIABLE","$GLOBALS",65],"[",["T_VARIABLE","$random",65],"]",")",";",["T_WHITESPACE","\n\n    ",65],["T_COMMENT","\/\/ If the file was successfully loaded, it must also exist, but ensure the\n",67],["T_WHITESPACE","    ",68],["T_COMMENT","\/\/ exists() method returns that correctly.\n",68],["T_WHITESPACE","    ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertSame",69],"(",["T_VARIABLE","$php_read",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","exists",69],"(",["T_VARIABLE","$name",69],")",",",["T_WHITESPACE"," ",69],["T_STRING","TRUE",69],")",";",["T_WHITESPACE","\n    ",69],["T_COMMENT","\/\/ Saving and deleting should always fail.\n",70],["T_WHITESPACE","    ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","assertFalse",71],"(",["T_VARIABLE","$php_read",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","save",71],"(",["T_VARIABLE","$name",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$code",71],")",")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","assertFalse",72],"(",["T_VARIABLE","$php_read",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","delete",72],"(",["T_VARIABLE","$name",72],")",")",";",["T_WHITESPACE","\n    ",72],["T_UNSET","unset",73],"(",["T_VARIABLE","$GLOBALS",73],"[",["T_VARIABLE","$random",73],"]",")",";",["T_WHITESPACE","\n  ",73],"}",["T_WHITESPACE","\n\n  ",74],["T_DOC_COMMENT","\/**\n   * @covers ::writeable\n   *\/",76],["T_WHITESPACE","\n  ",78],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","testWriteable",79],"(",")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$php_read",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_NEW","new",80],["T_WHITESPACE"," ",80],["T_STRING","FileReadOnlyStorage",80],"(",["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","readonlyStorage",80],")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertFalse",81],"(",["T_VARIABLE","$php_read",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","writeable",81],"(",")",")",";",["T_WHITESPACE","\n  ",81],"}",["T_WHITESPACE","\n\n  ",82],["T_DOC_COMMENT","\/**\n   * @covers ::deleteAll\n   *\/",84],["T_WHITESPACE","\n  ",86],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","testDeleteAll",87],"(",")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$php",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_NEW","new",88],["T_WHITESPACE"," ",88],["T_STRING","FileStorage",88],"(",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","standardSettings",88],")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$name",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","randomMachineName",89],"(",")",["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'\/'",89],["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","randomMachineName",89],"(",")",["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'.php'",89],";",["T_WHITESPACE","\n\n    ",89],["T_COMMENT","\/\/ Find a global that doesn't exist.\n",91],["T_WHITESPACE","    ",92],["T_DO","do",92],["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n      ",92],["T_VARIABLE","$random",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","mt_rand",93],"(",["T_LNUMBER","10000",93],",",["T_WHITESPACE"," ",93],["T_LNUMBER","100000",93],")",";",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE"," ",94],["T_WHILE","while",94],["T_WHITESPACE"," ",94],"(",["T_ISSET","isset",94],"(",["T_VARIABLE","$GLOBALS",94],"[",["T_VARIABLE","$random",94],"]",")",")",";",["T_WHITESPACE","\n\n    ",94],["T_COMMENT","\/\/ Write our the file so we can test deleting.\n",96],["T_WHITESPACE","    ",97],["T_VARIABLE","$code",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],"\"",["T_ENCAPSED_AND_WHITESPACE","<?php\\n\\$GLOBALS[",97],["T_VARIABLE","$random",97],["T_ENCAPSED_AND_WHITESPACE","] = TRUE;",97],"\"",";",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","assertTrue",98],"(",["T_VARIABLE","$php",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","save",98],"(",["T_VARIABLE","$name",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$code",98],")",")",";",["T_WHITESPACE","\n\n    ",98],["T_VARIABLE","$php_read",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_NEW","new",100],["T_WHITESPACE"," ",100],["T_STRING","FileReadOnlyStorage",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","readonlyStorage",100],")",";",["T_WHITESPACE","\n    ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","assertFalse",101],"(",["T_VARIABLE","$php_read",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","deleteAll",101],"(",")",")",";",["T_WHITESPACE","\n\n    ",101],["T_COMMENT","\/\/ Make sure directory exists prior to removal.\n",103],["T_WHITESPACE","    ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","assertTrue",104],"(",["T_STRING","file_exists",104],"(",["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","directory",104],["T_WHITESPACE"," ",104],".",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'\/test'",104],")",",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'File storage directory does not exist.'",104],")",";",["T_WHITESPACE","\n  ",104],"}",["T_WHITESPACE","\n\n",105],"}",["T_WHITESPACE","\n",107]]