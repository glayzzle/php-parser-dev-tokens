[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Component",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Context",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Plugin",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Context",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Context",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Tests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","UnitTestCase",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * @coversDefaultClass \\Drupal\\Component\\Plugin\\Context\\Context\n * @group Plugin\n *\/",8],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","ContextTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","UnitTestCase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * Data provider for testGetContextValue.\n   *\/",14],["T_WHITESPACE","\n  ",16],["T_PUBLIC","public",17],["T_WHITESPACE"," ",17],["T_FUNCTION","function",17],["T_WHITESPACE"," ",17],["T_STRING","providerGetContextValue",17],"(",")",["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n    ",17],["T_RETURN","return",18],["T_WHITESPACE"," ",18],"[",["T_WHITESPACE","\n      ",18],"[",["T_CONSTANT_ENCAPSED_STRING","'context_value'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'context_value'",19],",",["T_WHITESPACE"," ",19],["T_STRING","FALSE",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'data_type'",19],"]",",",["T_WHITESPACE","\n      ",19],"[",["T_STRING","NULL",20],",",["T_WHITESPACE"," ",20],["T_STRING","NULL",20],",",["T_WHITESPACE"," ",20],["T_STRING","FALSE",20],",",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'data_type'",20],"]",",",["T_WHITESPACE","\n      ",20],"[",["T_CONSTANT_ENCAPSED_STRING","'will throw exception'",21],",",["T_WHITESPACE"," ",21],["T_STRING","NULL",21],",",["T_WHITESPACE"," ",21],["T_STRING","TRUE",21],",",["T_WHITESPACE"," ",21],["T_CONSTANT_ENCAPSED_STRING","'data_type'",21],"]",",",["T_WHITESPACE","\n    ",21],"]",";",["T_WHITESPACE","\n  ",22],"}",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * @covers ::getContextValue\n   * @dataProvider providerGetContextValue\n   *\/",25],["T_WHITESPACE","\n  ",28],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","testGetContextValue",29],"(",["T_VARIABLE","$expected",29],",",["T_WHITESPACE"," ",29],["T_VARIABLE","$context_value",29],",",["T_WHITESPACE"," ",29],["T_VARIABLE","$is_required",29],",",["T_WHITESPACE"," ",29],["T_VARIABLE","$data_type",29],")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n    ",29],["T_COMMENT","\/\/ Mock a Context object.\n",30],["T_WHITESPACE","    ",31],["T_VARIABLE","$mock_context",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","getMockBuilder",31],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Component\\Plugin\\Context\\Context'",31],")",["T_WHITESPACE","\n      ",31],["T_OBJECT_OPERATOR","->",32],["T_STRING","disableOriginalConstructor",32],"(",")",["T_WHITESPACE","\n      ",32],["T_OBJECT_OPERATOR","->",33],["T_STRING","setMethods",33],"(",["T_ARRAY","array",33],"(",["T_CONSTANT_ENCAPSED_STRING","'getContextDefinition'",33],")",")",["T_WHITESPACE","\n      ",33],["T_OBJECT_OPERATOR","->",34],["T_STRING","getMock",34],"(",")",";",["T_WHITESPACE","\n\n    ",34],["T_COMMENT","\/\/ If the context value exists, getContextValue() behaves like a normal\n",36],["T_WHITESPACE","    ",37],["T_COMMENT","\/\/ getter.\n",37],["T_WHITESPACE","    ",38],["T_IF","if",38],["T_WHITESPACE"," ",38],"(",["T_VARIABLE","$context_value",38],")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n      ",38],["T_COMMENT","\/\/ Set visibility of contextValue.\n",39],["T_WHITESPACE","      ",40],["T_VARIABLE","$ref_context_value",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_NEW","new",40],["T_WHITESPACE"," ",40],["T_NS_SEPARATOR","\\",40],["T_STRING","ReflectionProperty",40],"(",["T_VARIABLE","$mock_context",40],",",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'contextValue'",40],")",";",["T_WHITESPACE","\n      ",40],["T_VARIABLE","$ref_context_value",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","setAccessible",41],"(",["T_STRING","TRUE",41],")",";",["T_WHITESPACE","\n      ",41],["T_COMMENT","\/\/ Set contextValue to a testable state.\n",42],["T_WHITESPACE","      ",43],["T_VARIABLE","$ref_context_value",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","setValue",43],"(",["T_VARIABLE","$mock_context",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$context_value",43],")",";",["T_WHITESPACE","\n      ",43],["T_COMMENT","\/\/ Exercise getContextValue().\n",44],["T_WHITESPACE","      ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","assertEquals",45],"(",["T_VARIABLE","$context_value",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$mock_context",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getContextValue",45],"(",")",")",";",["T_WHITESPACE","\n    ",45],"}",["T_WHITESPACE","\n    ",46],["T_COMMENT","\/\/ If no context value exists, we have to cover either returning NULL or\n",47],["T_WHITESPACE","    ",48],["T_COMMENT","\/\/ throwing an exception if the definition requires it.\n",48],["T_WHITESPACE","    ",49],["T_ELSE","else",49],["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n      ",49],["T_COMMENT","\/\/ Create a mock definition.\n",50],["T_WHITESPACE","      ",51],["T_VARIABLE","$mock_definition",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getMockBuilder",51],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Component\\Plugin\\Context\\ContextDefinitionInterface'",51],")",["T_WHITESPACE","\n        ",51],["T_OBJECT_OPERATOR","->",52],["T_STRING","setMethods",52],"(",["T_ARRAY","array",52],"(",["T_CONSTANT_ENCAPSED_STRING","'isRequired'",52],",",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'getDataType'",52],")",")",["T_WHITESPACE","\n        ",52],["T_OBJECT_OPERATOR","->",53],["T_STRING","getMockForAbstractClass",53],"(",")",";",["T_WHITESPACE","\n\n      ",53],["T_COMMENT","\/\/ Set expectation for isRequired().\n",55],["T_WHITESPACE","      ",56],["T_VARIABLE","$mock_definition",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","expects",56],"(",["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","once",56],"(",")",")",["T_WHITESPACE","\n        ",56],["T_OBJECT_OPERATOR","->",57],["T_STRING","method",57],"(",["T_CONSTANT_ENCAPSED_STRING","'isRequired'",57],")",["T_WHITESPACE","\n        ",57],["T_OBJECT_OPERATOR","->",58],["T_STRING","willReturn",58],"(",["T_VARIABLE","$is_required",58],")",";",["T_WHITESPACE","\n\n      ",58],["T_COMMENT","\/\/ Set expectation for getDataType().\n",60],["T_WHITESPACE","      ",61],["T_VARIABLE","$mock_definition",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","expects",61],"(",["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","exactly",61],"(",["T_WHITESPACE","\n            ",61],["T_VARIABLE","$is_required",62],["T_WHITESPACE"," ",62],"?",["T_WHITESPACE"," ",62],["T_LNUMBER","1",62],["T_WHITESPACE"," ",62],":",["T_WHITESPACE"," ",62],["T_LNUMBER","0",62],["T_WHITESPACE","\n        ",62],")",")",["T_WHITESPACE","\n        ",63],["T_OBJECT_OPERATOR","->",64],["T_STRING","method",64],"(",["T_CONSTANT_ENCAPSED_STRING","'getDataType'",64],")",["T_WHITESPACE","\n        ",64],["T_OBJECT_OPERATOR","->",65],["T_STRING","willReturn",65],"(",["T_VARIABLE","$data_type",65],")",";",["T_WHITESPACE","\n\n      ",65],["T_COMMENT","\/\/ Set expectation for getContextDefinition().\n",67],["T_WHITESPACE","      ",68],["T_VARIABLE","$mock_context",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","expects",68],"(",["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","once",68],"(",")",")",["T_WHITESPACE","\n        ",68],["T_OBJECT_OPERATOR","->",69],["T_STRING","method",69],"(",["T_CONSTANT_ENCAPSED_STRING","'getContextDefinition'",69],")",["T_WHITESPACE","\n        ",69],["T_OBJECT_OPERATOR","->",70],["T_STRING","willReturn",70],"(",["T_VARIABLE","$mock_definition",70],")",";",["T_WHITESPACE","\n\n      ",70],["T_COMMENT","\/\/ Set expectation for exception.\n",72],["T_WHITESPACE","      ",73],["T_IF","if",73],["T_WHITESPACE"," ",73],"(",["T_VARIABLE","$is_required",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","setExpectedException",74],"(",["T_WHITESPACE","\n          ",74],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Component\\Plugin\\Exception\\ContextException'",75],",",["T_WHITESPACE","\n          ",75],["T_STRING","sprintf",76],"(",["T_CONSTANT_ENCAPSED_STRING","\"The %s context is required and not present.\"",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$data_type",76],")",["T_WHITESPACE","\n        ",76],")",";",["T_WHITESPACE","\n      ",77],"}",["T_WHITESPACE","\n\n      ",78],["T_COMMENT","\/\/ Exercise getContextValue().\n",80],["T_WHITESPACE","      ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertEquals",81],"(",["T_VARIABLE","$context_value",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$mock_context",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getContextValue",81],"(",")",")",";",["T_WHITESPACE","\n    ",81],"}",["T_WHITESPACE","\n  ",82],"}",["T_WHITESPACE","\n\n  ",83],["T_DOC_COMMENT","\/**\n   * @covers ::getContextValue\n   *\/",85],["T_WHITESPACE","\n  ",87],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","testDefaultValue",88],"(",")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$mock_definition",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getMockBuilder",89],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Component\\Plugin\\Context\\ContextDefinitionInterface'",89],")",["T_WHITESPACE","\n      ",89],["T_OBJECT_OPERATOR","->",90],["T_STRING","setMethods",90],"(",["T_ARRAY","array",90],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefaultValue'",90],")",")",["T_WHITESPACE","\n      ",90],["T_OBJECT_OPERATOR","->",91],["T_STRING","getMockForAbstractClass",91],"(",")",";",["T_WHITESPACE","\n\n    ",91],["T_VARIABLE","$mock_definition",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","expects",93],"(",["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","once",93],"(",")",")",["T_WHITESPACE","\n      ",93],["T_OBJECT_OPERATOR","->",94],["T_STRING","method",94],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefaultValue'",94],")",["T_WHITESPACE","\n      ",94],["T_OBJECT_OPERATOR","->",95],["T_STRING","willReturn",95],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",95],")",";",["T_WHITESPACE","\n\n    ",95],["T_VARIABLE","$context",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_NEW","new",97],["T_WHITESPACE"," ",97],["T_STRING","Context",97],"(",["T_VARIABLE","$mock_definition",97],")",";",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","assertEquals",98],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$context",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getContextValue",98],"(",")",")",";",["T_WHITESPACE","\n  ",98],"}",["T_WHITESPACE","\n\n",99],"}",["T_WHITESPACE","\n",101]]