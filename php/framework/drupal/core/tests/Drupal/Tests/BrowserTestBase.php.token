[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Behat",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Mink",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Driver",5],["T_NS_SEPARATOR","\\",5],["T_STRING","GoutteDriver",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Behat",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Mink",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Element",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Element",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Behat",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Mink",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Mink",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Behat",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Mink",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Session",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Component",9],["T_NS_SEPARATOR","\\",9],["T_STRING","FileCache",9],["T_NS_SEPARATOR","\\",9],["T_STRING","FileCacheFactory",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Component",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Serialization",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Json",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Component",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Utility",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Html",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Utility",12],["T_NS_SEPARATOR","\\",12],["T_STRING","SafeMarkup",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Component",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Utility",13],["T_NS_SEPARATOR","\\",13],["T_STRING","UrlHelper",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Drupal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Core",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Cache",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Cache",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Drupal",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Core",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Config",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Testing",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ConfigSchemaChecker",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Drupal",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Core",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Database",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Database",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Drupal",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Core",17],["T_NS_SEPARATOR","\\",17],["T_STRING","DrupalKernel",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Drupal",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Core",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Serialization",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Yaml",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Drupal",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Core",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Session",19],["T_NS_SEPARATOR","\\",19],["T_STRING","AccountInterface",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Drupal",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Core",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Session",20],["T_NS_SEPARATOR","\\",20],["T_STRING","AnonymousUserSession",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Drupal",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Core",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Session",21],["T_NS_SEPARATOR","\\",21],["T_STRING","UserSession",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Drupal",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Core",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Site",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Settings",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Drupal",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Core",23],["T_NS_SEPARATOR","\\",23],["T_STRING","StreamWrapper",23],["T_NS_SEPARATOR","\\",23],["T_STRING","StreamWrapperInterface",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Drupal",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Core",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Test",24],["T_NS_SEPARATOR","\\",24],["T_STRING","TestRunnerKernel",24],";",["T_WHITESPACE","\n",24],["T_USE","use",25],["T_WHITESPACE"," ",25],["T_STRING","Drupal",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Core",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Url",25],";",["T_WHITESPACE","\n",25],["T_USE","use",26],["T_WHITESPACE"," ",26],["T_STRING","Drupal",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Core",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Test",26],["T_NS_SEPARATOR","\\",26],["T_STRING","TestDatabase",26],";",["T_WHITESPACE","\n",26],["T_USE","use",27],["T_WHITESPACE"," ",27],["T_STRING","Drupal",27],["T_NS_SEPARATOR","\\",27],["T_STRING","FunctionalTests",27],["T_NS_SEPARATOR","\\",27],["T_STRING","AssertLegacyTrait",27],";",["T_WHITESPACE","\n",27],["T_USE","use",28],["T_WHITESPACE"," ",28],["T_STRING","Drupal",28],["T_NS_SEPARATOR","\\",28],["T_STRING","simpletest",28],["T_NS_SEPARATOR","\\",28],["T_STRING","AssertHelperTrait",28],";",["T_WHITESPACE","\n",28],["T_USE","use",29],["T_WHITESPACE"," ",29],["T_STRING","Drupal",29],["T_NS_SEPARATOR","\\",29],["T_STRING","simpletest",29],["T_NS_SEPARATOR","\\",29],["T_STRING","ContentTypeCreationTrait",29],";",["T_WHITESPACE","\n",29],["T_USE","use",30],["T_WHITESPACE"," ",30],["T_STRING","Drupal",30],["T_NS_SEPARATOR","\\",30],["T_STRING","simpletest",30],["T_NS_SEPARATOR","\\",30],["T_STRING","BlockCreationTrait",30],";",["T_WHITESPACE","\n",30],["T_USE","use",31],["T_WHITESPACE"," ",31],["T_STRING","Drupal",31],["T_NS_SEPARATOR","\\",31],["T_STRING","simpletest",31],["T_NS_SEPARATOR","\\",31],["T_STRING","NodeCreationTrait",31],";",["T_WHITESPACE","\n",31],["T_USE","use",32],["T_WHITESPACE"," ",32],["T_STRING","Drupal",32],["T_NS_SEPARATOR","\\",32],["T_STRING","simpletest",32],["T_NS_SEPARATOR","\\",32],["T_STRING","UserCreationTrait",32],";",["T_WHITESPACE","\n",32],["T_USE","use",33],["T_WHITESPACE"," ",33],["T_STRING","Symfony",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Component",33],["T_NS_SEPARATOR","\\",33],["T_STRING","CssSelector",33],["T_NS_SEPARATOR","\\",33],["T_STRING","CssSelectorConverter",33],";",["T_WHITESPACE","\n",33],["T_USE","use",34],["T_WHITESPACE"," ",34],["T_STRING","Symfony",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Component",34],["T_NS_SEPARATOR","\\",34],["T_STRING","HttpFoundation",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Request",34],";",["T_WHITESPACE","\n\n",34],["T_DOC_COMMENT","\/**\n * Provides a test case for functional Drupal tests.\n *\n * Tests extending BrowserTestBase must exist in the\n * Drupal\\Tests\\yourmodule\\Functional namespace and live in the\n * modules\/yourmodule\/tests\/src\/Functional directory.\n *\n * @ingroup testing\n *\/",36],["T_WHITESPACE","\n",44],["T_ABSTRACT","abstract",45],["T_WHITESPACE"," ",45],["T_CLASS","class",45],["T_WHITESPACE"," ",45],["T_STRING","BrowserTestBase",45],["T_WHITESPACE"," ",45],["T_EXTENDS","extends",45],["T_WHITESPACE"," ",45],["T_NS_SEPARATOR","\\",45],["T_STRING","PHPUnit_Framework_TestCase",45],["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n  ",45],["T_USE","use",46],["T_WHITESPACE"," ",46],["T_STRING","AssertHelperTrait",46],";",["T_WHITESPACE","\n  ",46],["T_USE","use",47],["T_WHITESPACE"," ",47],["T_STRING","BlockCreationTrait",47],["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n    ",47],["T_STRING","placeBlock",48],["T_WHITESPACE"," ",48],["T_AS","as",48],["T_WHITESPACE"," ",48],["T_STRING","drupalPlaceBlock",48],";",["T_WHITESPACE","\n  ",48],"}",["T_WHITESPACE","\n  ",49],["T_USE","use",50],["T_WHITESPACE"," ",50],["T_STRING","AssertLegacyTrait",50],";",["T_WHITESPACE","\n  ",50],["T_USE","use",51],["T_WHITESPACE"," ",51],["T_STRING","RandomGeneratorTrait",51],";",["T_WHITESPACE","\n  ",51],["T_USE","use",52],["T_WHITESPACE"," ",52],["T_STRING","SessionTestTrait",52],";",["T_WHITESPACE","\n  ",52],["T_USE","use",53],["T_WHITESPACE"," ",53],["T_STRING","NodeCreationTrait",53],["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n    ",53],["T_STRING","getNodeByTitle",54],["T_WHITESPACE"," ",54],["T_AS","as",54],["T_WHITESPACE"," ",54],["T_STRING","drupalGetNodeByTitle",54],";",["T_WHITESPACE","\n    ",54],["T_STRING","createNode",55],["T_WHITESPACE"," ",55],["T_AS","as",55],["T_WHITESPACE"," ",55],["T_STRING","drupalCreateNode",55],";",["T_WHITESPACE","\n  ",55],"}",["T_WHITESPACE","\n  ",56],["T_USE","use",57],["T_WHITESPACE"," ",57],["T_STRING","ContentTypeCreationTrait",57],["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n    ",57],["T_STRING","createContentType",58],["T_WHITESPACE"," ",58],["T_AS","as",58],["T_WHITESPACE"," ",58],["T_STRING","drupalCreateContentType",58],";",["T_WHITESPACE","\n  ",58],"}",["T_WHITESPACE","\n  ",59],["T_USE","use",60],["T_WHITESPACE"," ",60],["T_STRING","ConfigTestTrait",60],";",["T_WHITESPACE","\n  ",60],["T_USE","use",61],["T_WHITESPACE"," ",61],["T_STRING","UserCreationTrait",61],["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n    ",61],["T_STRING","createRole",62],["T_WHITESPACE"," ",62],["T_AS","as",62],["T_WHITESPACE"," ",62],["T_STRING","drupalCreateRole",62],";",["T_WHITESPACE","\n    ",62],["T_STRING","createUser",63],["T_WHITESPACE"," ",63],["T_AS","as",63],["T_WHITESPACE"," ",63],["T_STRING","drupalCreateUser",63],";",["T_WHITESPACE","\n  ",63],"}",["T_WHITESPACE","\n\n  ",64],["T_DOC_COMMENT","\/**\n   * Class loader.\n   *\n   * @var object\n   *\/",66],["T_WHITESPACE","\n  ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$classLoader",71],";",["T_WHITESPACE","\n\n  ",71],["T_DOC_COMMENT","\/**\n   * The site directory of this test run.\n   *\n   * @var string\n   *\/",73],["T_WHITESPACE","\n  ",77],["T_PROTECTED","protected",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$siteDirectory",78],";",["T_WHITESPACE","\n\n  ",78],["T_DOC_COMMENT","\/**\n   * The database prefix of this test run.\n   *\n   * @var string\n   *\/",80],["T_WHITESPACE","\n  ",84],["T_PROTECTED","protected",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$databasePrefix",85],";",["T_WHITESPACE","\n\n  ",85],["T_DOC_COMMENT","\/**\n   * The site directory of the original parent site.\n   *\n   * @var string\n   *\/",87],["T_WHITESPACE","\n  ",91],["T_PROTECTED","protected",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$originalSiteDirectory",92],";",["T_WHITESPACE","\n\n  ",92],["T_DOC_COMMENT","\/**\n   * Time limit in seconds for the test.\n   *\n   * @var int\n   *\/",94],["T_WHITESPACE","\n  ",98],["T_PROTECTED","protected",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$timeLimit",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_LNUMBER","500",99],";",["T_WHITESPACE","\n\n  ",99],["T_DOC_COMMENT","\/**\n   * The public file directory for the test environment.\n   *\n   * This is set in BrowserTestBase::prepareEnvironment().\n   *\n   * @var string\n   *\/",101],["T_WHITESPACE","\n  ",107],["T_PROTECTED","protected",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$publicFilesDirectory",108],";",["T_WHITESPACE","\n\n  ",108],["T_DOC_COMMENT","\/**\n   * The private file directory for the test environment.\n   *\n   * This is set in BrowserTestBase::prepareEnvironment().\n   *\n   * @var string\n   *\/",110],["T_WHITESPACE","\n  ",116],["T_PROTECTED","protected",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$privateFilesDirectory",117],";",["T_WHITESPACE","\n\n  ",117],["T_DOC_COMMENT","\/**\n   * The temp file directory for the test environment.\n   *\n   * This is set in BrowserTestBase::prepareEnvironment(). This value has to\n   * match the temporary directory created in install_base_system() for test\n   * installs.\n   *\n   * @see install_base_system()\n   *\n   * @var string\n   *\/",119],["T_WHITESPACE","\n  ",129],["T_PROTECTED","protected",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$tempFilesDirectory",130],";",["T_WHITESPACE","\n\n  ",130],["T_DOC_COMMENT","\/**\n   * The translation file directory for the test environment.\n   *\n   * This is set in BrowserTestBase::prepareEnvironment().\n   *\n   * @var string\n   *\/",132],["T_WHITESPACE","\n  ",138],["T_PROTECTED","protected",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$translationFilesDirectory",139],";",["T_WHITESPACE","\n\n  ",139],["T_DOC_COMMENT","\/**\n   * The DrupalKernel instance used in the test.\n   *\n   * @var \\Drupal\\Core\\DrupalKernel\n   *\/",141],["T_WHITESPACE","\n  ",145],["T_PROTECTED","protected",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$kernel",146],";",["T_WHITESPACE","\n\n  ",146],["T_DOC_COMMENT","\/**\n   * The dependency injection container used in the test.\n   *\n   * @var \\Symfony\\Component\\DependencyInjection\\ContainerInterface\n   *\/",148],["T_WHITESPACE","\n  ",152],["T_PROTECTED","protected",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$container",153],";",["T_WHITESPACE","\n\n  ",153],["T_DOC_COMMENT","\/**\n   * The config importer that can be used in a test.\n   *\n   * @var \\Drupal\\Core\\Config\\ConfigImporter\n   *\/",155],["T_WHITESPACE","\n  ",159],["T_PROTECTED","protected",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$configImporter",160],";",["T_WHITESPACE","\n\n  ",160],["T_DOC_COMMENT","\/**\n   * Set to TRUE to strict check all configuration saved.\n   *\n   * @see \\Drupal\\Core\\Config\\Testing\\ConfigSchemaChecker\n   *\n   * @var bool\n   *\/",162],["T_WHITESPACE","\n  ",168],["T_PROTECTED","protected",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$strictConfigSchema",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_STRING","TRUE",169],";",["T_WHITESPACE","\n\n  ",169],["T_DOC_COMMENT","\/**\n   * Modules to enable.\n   *\n   * The test runner will merge the $modules lists from this class, the class\n   * it extends, and so on up the class hierarchy. It is not necessary to\n   * include modules in your list that a parent class has already declared.\n   *\n   * @var string[]\n   *\n   * @see \\Drupal\\Tests\\BrowserTestBase::installDrupal()\n   *\/",171],["T_WHITESPACE","\n  ",181],["T_PROTECTED","protected",182],["T_WHITESPACE"," ",182],["T_STATIC","static",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$modules",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],"[","]",";",["T_WHITESPACE","\n\n  ",182],["T_DOC_COMMENT","\/**\n   * An array of config object names that are excluded from schema checking.\n   *\n   * @var string[]\n   *\/",184],["T_WHITESPACE","\n  ",188],["T_PROTECTED","protected",189],["T_WHITESPACE"," ",189],["T_STATIC","static",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$configSchemaCheckerExclusions",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_ARRAY","array",189],"(",["T_WHITESPACE","\n    ",189],["T_COMMENT","\/\/ Following are used to test lack of or partial schema. Where partial\n",190],["T_WHITESPACE","    ",191],["T_COMMENT","\/\/ schema is provided, that is explicitly tested in specific tests.\n",191],["T_WHITESPACE","    ",192],["T_CONSTANT_ENCAPSED_STRING","'config_schema_test.noschema'",192],",",["T_WHITESPACE","\n    ",192],["T_CONSTANT_ENCAPSED_STRING","'config_schema_test.someschema'",193],",",["T_WHITESPACE","\n    ",193],["T_CONSTANT_ENCAPSED_STRING","'config_schema_test.schema_data_types'",194],",",["T_WHITESPACE","\n    ",194],["T_CONSTANT_ENCAPSED_STRING","'config_schema_test.no_schema_data_types'",195],",",["T_WHITESPACE","\n    ",195],["T_COMMENT","\/\/ Used to test application of schema to filtering of configuration.\n",196],["T_WHITESPACE","    ",197],["T_CONSTANT_ENCAPSED_STRING","'config_test.dynamic.system'",197],",",["T_WHITESPACE","\n  ",197],")",";",["T_WHITESPACE","\n\n  ",198],["T_DOC_COMMENT","\/**\n   * The profile to install as a basis for testing.\n   *\n   * @var string\n   *\/",200],["T_WHITESPACE","\n  ",204],["T_PROTECTED","protected",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$profile",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_CONSTANT_ENCAPSED_STRING","'testing'",205],";",["T_WHITESPACE","\n\n  ",205],["T_DOC_COMMENT","\/**\n   * The current user logged in using the Mink controlled browser.\n   *\n   * @var \\Drupal\\user\\UserInterface\n   *\/",207],["T_WHITESPACE","\n  ",211],["T_PROTECTED","protected",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$loggedInUser",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_STRING","FALSE",212],";",["T_WHITESPACE","\n\n  ",212],["T_DOC_COMMENT","\/**\n   * The root user.\n   *\n   * @var \\Drupal\\Core\\Session\\UserSession\n   *\/",214],["T_WHITESPACE","\n  ",218],["T_PROTECTED","protected",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$rootUser",219],";",["T_WHITESPACE","\n\n  ",219],["T_DOC_COMMENT","\/**\n   * The config directories used in this test.\n   *\n   * @var array\n   *\/",221],["T_WHITESPACE","\n  ",225],["T_PROTECTED","protected",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$configDirectories",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_ARRAY","array",226],"(",")",";",["T_WHITESPACE","\n\n  ",226],["T_DOC_COMMENT","\/**\n   * An array of custom translations suitable for drupal_rewrite_settings().\n   *\n   * @var array\n   *\/",228],["T_WHITESPACE","\n  ",232],["T_PROTECTED","protected",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$customTranslations",233],";",["T_WHITESPACE","\n\n  ",233],["T_COMMENT","\/*\n   * Mink class for the default driver to use.\n   *\n   * Shoud be a fully qualified class name that implements\n   * Behat\\Mink\\Driver\\DriverInterface.\n   *\n   * Value can be overridden using the environment variable MINK_DRIVER_CLASS.\n   *\n   * @var string.\n   *\/",235],["T_WHITESPACE","\n  ",244],["T_PROTECTED","protected",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$minkDefaultDriverClass",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_STRING","GoutteDriver",245],["T_DOUBLE_COLON","::",245],["T_CLASS","class",245],";",["T_WHITESPACE","\n\n  ",245],["T_COMMENT","\/*\n   * Mink default driver params.\n   *\n   * If it's an array its contents are used as constructor params when default\n   * Mink driver class is instantiated.\n   *\n   * Can be overridden using the environment variable MINK_DRIVER_ARGS. In this\n   * case that variable should be a JSON array, for example:\n   * '[\"firefox\", null, \"http:\/\/localhost:4444\/wd\/hub\"]'.\n   *\n   *\n   * @var array\n   *\/",247],["T_WHITESPACE","\n  ",259],["T_PROTECTED","protected",260],["T_WHITESPACE"," ",260],["T_VARIABLE","$minkDefaultDriverArgs",260],";",["T_WHITESPACE","\n\n  ",260],["T_DOC_COMMENT","\/**\n   * Mink session manager.\n   *\n   * This will not be initialized if there was an error during the test setup.\n   *\n   * @var \\Behat\\Mink\\Mink|null\n   *\/",262],["T_WHITESPACE","\n  ",268],["T_PROTECTED","protected",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$mink",269],";",["T_WHITESPACE","\n\n  ",269],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\n   * Browser tests are run in separate processes to prevent collisions between\n   * code that may be loaded by tests.\n   *\/",271],["T_WHITESPACE","\n  ",276],["T_PROTECTED","protected",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$runTestInSeparateProcess",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_STRING","TRUE",277],";",["T_WHITESPACE","\n\n  ",277],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",279],["T_WHITESPACE","\n  ",281],["T_PROTECTED","protected",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$preserveGlobalState",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_STRING","FALSE",282],";",["T_WHITESPACE","\n\n  ",282],["T_DOC_COMMENT","\/**\n   * Class name for HTML output logging.\n   *\n   * @var string\n   *\/",284],["T_WHITESPACE","\n  ",288],["T_PROTECTED","protected",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$htmlOutputClassName",289],";",["T_WHITESPACE","\n\n  ",289],["T_DOC_COMMENT","\/**\n   * Directory name for HTML output logging.\n   *\n   * @var string\n   *\/",291],["T_WHITESPACE","\n  ",295],["T_PROTECTED","protected",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$htmlOutputDirectory",296],";",["T_WHITESPACE","\n\n  ",296],["T_DOC_COMMENT","\/**\n   * Counter storage for HTML output logging.\n   *\n   * @var string\n   *\/",298],["T_WHITESPACE","\n  ",302],["T_PROTECTED","protected",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$htmlOutputCounterStorage",303],";",["T_WHITESPACE","\n\n  ",303],["T_DOC_COMMENT","\/**\n   * Counter for HTML output logging.\n   *\n   * @var int\n   *\/",305],["T_WHITESPACE","\n  ",309],["T_PROTECTED","protected",310],["T_WHITESPACE"," ",310],["T_VARIABLE","$htmlOutputCounter",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_LNUMBER","1",310],";",["T_WHITESPACE","\n\n  ",310],["T_DOC_COMMENT","\/**\n   * HTML output output enabled.\n   *\n   * @var bool\n   *\/",312],["T_WHITESPACE","\n  ",316],["T_PROTECTED","protected",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$htmlOutputEnabled",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_STRING","FALSE",317],";",["T_WHITESPACE","\n\n  ",317],["T_DOC_COMMENT","\/**\n   * The file name to write the list of URLs to.\n   *\n   * This file is read by the PHPUnit result printer.\n   *\n   * @var string\n   *\n   * @see \\Drupal\\Tests\\Listeners\\HtmlOutputPrinter\n   *\/",319],["T_WHITESPACE","\n  ",327],["T_PROTECTED","protected",328],["T_WHITESPACE"," ",328],["T_VARIABLE","$htmlOutputFile",328],";",["T_WHITESPACE","\n\n  ",328],["T_DOC_COMMENT","\/**\n   * HTML output test ID.\n   *\n   * @var int\n   *\/",330],["T_WHITESPACE","\n  ",334],["T_PROTECTED","protected",335],["T_WHITESPACE"," ",335],["T_VARIABLE","$htmlOutputTestId",335],";",["T_WHITESPACE","\n\n  ",335],["T_DOC_COMMENT","\/**\n   * The base URL.\n   *\n   * @var string\n   *\/",337],["T_WHITESPACE","\n  ",341],["T_PROTECTED","protected",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$baseUrl",342],";",["T_WHITESPACE","\n\n  ",342],["T_DOC_COMMENT","\/**\n   * The original array of shutdown function callbacks.\n   *\n   * @var array\n   *\/",344],["T_WHITESPACE","\n  ",348],["T_PROTECTED","protected",349],["T_WHITESPACE"," ",349],["T_VARIABLE","$originalShutdownCallbacks",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],"[","]",";",["T_WHITESPACE","\n\n  ",349],["T_DOC_COMMENT","\/**\n   * Initializes Mink sessions.\n   *\/",351],["T_WHITESPACE","\n  ",353],["T_PROTECTED","protected",354],["T_WHITESPACE"," ",354],["T_FUNCTION","function",354],["T_WHITESPACE"," ",354],["T_STRING","initMink",354],"(",")",["T_WHITESPACE"," ",354],"{",["T_WHITESPACE","\n    ",354],["T_VARIABLE","$driver",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","getDefaultDriverInstance",355],"(",")",";",["T_WHITESPACE","\n\n    ",355],["T_IF","if",357],["T_WHITESPACE"," ",357],"(",["T_VARIABLE","$driver",357],["T_WHITESPACE"," ",357],["T_INSTANCEOF","instanceof",357],["T_WHITESPACE"," ",357],["T_STRING","GoutteDriver",357],")",["T_WHITESPACE"," ",357],"{",["T_WHITESPACE","\n      ",357],["T_COMMENT","\/\/ Turn off curl timeout. Having a timeout is not a problem in a normal\n",358],["T_WHITESPACE","      ",359],["T_COMMENT","\/\/ test running, but it is a problem when debugging.\n",359],["T_WHITESPACE","      ",360],["T_DOC_COMMENT","\/** @var \\GuzzleHttp\\Client $client *\/",360],["T_WHITESPACE","\n      ",360],["T_VARIABLE","$client",361],["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","container",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","get",361],"(",["T_CONSTANT_ENCAPSED_STRING","'http_client_factory'",361],")",["T_OBJECT_OPERATOR","->",361],["T_STRING","fromOptions",361],"(","[",["T_CONSTANT_ENCAPSED_STRING","'timeout'",361],["T_WHITESPACE"," ",361],["T_DOUBLE_ARROW","=>",361],["T_WHITESPACE"," ",361],["T_STRING","NULL",361],"]",")",";",["T_WHITESPACE","\n      ",361],["T_VARIABLE","$driver",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","getClient",362],"(",")",["T_OBJECT_OPERATOR","->",362],["T_STRING","setClient",362],"(",["T_VARIABLE","$client",362],")",";",["T_WHITESPACE","\n    ",362],"}",["T_WHITESPACE","\n\n    ",363],["T_VARIABLE","$session",365],["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],["T_NEW","new",365],["T_WHITESPACE"," ",365],["T_STRING","Session",365],"(",["T_VARIABLE","$driver",365],")",";",["T_WHITESPACE","\n    ",365],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","mink",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_NEW","new",366],["T_WHITESPACE"," ",366],["T_STRING","Mink",366],"(",")",";",["T_WHITESPACE","\n    ",366],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","mink",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","registerSession",367],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",367],",",["T_WHITESPACE"," ",367],["T_VARIABLE","$session",367],")",";",["T_WHITESPACE","\n    ",367],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","mink",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","setDefaultSessionName",368],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",368],")",";",["T_WHITESPACE","\n    ",368],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","registerSessions",369],"(",")",";",["T_WHITESPACE","\n\n    ",369],["T_COMMENT","\/\/ According to the W3C WebDriver specification a cookie can only be set if\n",371],["T_WHITESPACE","    ",372],["T_COMMENT","\/\/ the cookie domain is equal to the domain of the active document. When the\n",372],["T_WHITESPACE","    ",373],["T_COMMENT","\/\/ browser starts up the active document is not our domain but 'about:blank'\n",373],["T_WHITESPACE","    ",374],["T_COMMENT","\/\/ or similar. To be able to set our User-Agent and Xdebug cookies at the\n",374],["T_WHITESPACE","    ",375],["T_COMMENT","\/\/ start of the test we now do a request to the front page so the active\n",375],["T_WHITESPACE","    ",376],["T_COMMENT","\/\/ document matches the domain.\n",376],["T_WHITESPACE","    ",377],["T_COMMENT","\/\/ @see https:\/\/w3c.github.io\/webdriver\/webdriver-spec.html#add-cookie\n",377],["T_WHITESPACE","    ",378],["T_COMMENT","\/\/ @see https:\/\/www.w3.org\/Bugs\/Public\/show_bug.cgi?id=20975\n",378],["T_WHITESPACE","    ",379],["T_VARIABLE","$session",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","getSession",379],"(",")",";",["T_WHITESPACE","\n    ",379],["T_VARIABLE","$session",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","visit",380],"(",["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","baseUrl",380],")",";",["T_WHITESPACE","\n\n    ",380],["T_RETURN","return",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$session",382],";",["T_WHITESPACE","\n  ",382],"}",["T_WHITESPACE","\n\n  ",383],["T_DOC_COMMENT","\/**\n   * Gets an instance of the default Mink driver.\n   *\n   * @return Behat\\Mink\\Driver\\DriverInterface\n   *   Instance of default Mink driver.\n   *\n   * @throws \\InvalidArgumentException\n   *   When provided default Mink driver class can't be instantiated.\n   *\/",385],["T_WHITESPACE","\n  ",393],["T_PROTECTED","protected",394],["T_WHITESPACE"," ",394],["T_FUNCTION","function",394],["T_WHITESPACE"," ",394],["T_STRING","getDefaultDriverInstance",394],"(",")",["T_WHITESPACE"," ",394],"{",["T_WHITESPACE","\n    ",394],["T_COMMENT","\/\/ Get default driver params from environment if availables.\n",395],["T_WHITESPACE","    ",396],["T_IF","if",396],["T_WHITESPACE"," ",396],"(",["T_VARIABLE","$arg_json",396],["T_WHITESPACE"," ",396],"=",["T_WHITESPACE"," ",396],["T_STRING","getenv",396],"(",["T_CONSTANT_ENCAPSED_STRING","'MINK_DRIVER_ARGS'",396],")",")",["T_WHITESPACE"," ",396],"{",["T_WHITESPACE","\n      ",396],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","minkDefaultDriverArgs",397],["T_WHITESPACE"," ",397],"=",["T_WHITESPACE"," ",397],["T_STRING","json_decode",397],"(",["T_VARIABLE","$arg_json",397],")",";",["T_WHITESPACE","\n    ",397],"}",["T_WHITESPACE","\n\n    ",398],["T_COMMENT","\/\/ Get and check default driver class from environment if availables.\n",400],["T_WHITESPACE","    ",401],["T_IF","if",401],["T_WHITESPACE"," ",401],"(",["T_VARIABLE","$minkDriverClass",401],["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],["T_STRING","getenv",401],"(",["T_CONSTANT_ENCAPSED_STRING","'MINK_DRIVER_CLASS'",401],")",")",["T_WHITESPACE"," ",401],"{",["T_WHITESPACE","\n      ",401],["T_IF","if",402],["T_WHITESPACE"," ",402],"(",["T_STRING","class_exists",402],"(",["T_VARIABLE","$minkDriverClass",402],")",")",["T_WHITESPACE"," ",402],"{",["T_WHITESPACE","\n        ",402],["T_VARIABLE","$this",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","minkDefaultDriverClass",403],["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_VARIABLE","$minkDriverClass",403],";",["T_WHITESPACE","\n      ",403],"}",["T_WHITESPACE","\n      ",404],["T_ELSE","else",405],["T_WHITESPACE"," ",405],"{",["T_WHITESPACE","\n        ",405],["T_THROW","throw",406],["T_WHITESPACE"," ",406],["T_NEW","new",406],["T_WHITESPACE"," ",406],["T_NS_SEPARATOR","\\",406],["T_STRING","InvalidArgumentException",406],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Can't instantiate provided ",406],["T_VARIABLE","$minkDriverClass",406],["T_ENCAPSED_AND_WHITESPACE"," class by environment as default driver class.",406],"\"",")",";",["T_WHITESPACE","\n      ",406],"}",["T_WHITESPACE","\n    ",407],"}",["T_WHITESPACE","\n\n    ",408],["T_IF","if",410],["T_WHITESPACE"," ",410],"(",["T_STRING","is_array",410],"(",["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","minkDefaultDriverArgs",410],")",")",["T_WHITESPACE"," ",410],"{",["T_WHITESPACE","\n      ",410],["T_COMMENT","\/\/ Use ReflectionClass to instantiate class with received params.\n",411],["T_WHITESPACE","      ",412],["T_VARIABLE","$reflector",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_NEW","new",412],["T_WHITESPACE"," ",412],["T_NS_SEPARATOR","\\",412],["T_STRING","ReflectionClass",412],"(",["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","minkDefaultDriverClass",412],")",";",["T_WHITESPACE","\n      ",412],["T_VARIABLE","$driver",413],["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_VARIABLE","$reflector",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","newInstanceArgs",413],"(",["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","minkDefaultDriverArgs",413],")",";",["T_WHITESPACE","\n    ",413],"}",["T_WHITESPACE","\n    ",414],["T_ELSE","else",415],["T_WHITESPACE"," ",415],"{",["T_WHITESPACE","\n      ",415],["T_VARIABLE","$driver",416],["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],["T_NEW","new",416],["T_WHITESPACE"," ",416],["T_VARIABLE","$this",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","minkDefaultDriverClass",416],"(",")",";",["T_WHITESPACE","\n    ",416],"}",["T_WHITESPACE","\n    ",417],["T_RETURN","return",418],["T_WHITESPACE"," ",418],["T_VARIABLE","$driver",418],";",["T_WHITESPACE","\n  ",418],"}",["T_WHITESPACE","\n\n  ",419],["T_DOC_COMMENT","\/**\n   * Registers additional Mink sessions.\n   *\n   * Tests wishing to use a different driver or change the default driver should\n   * override this method.\n   *\n   * @code\n   *   \/\/ Register a new session that uses the MinkPonyDriver.\n   *   $pony = new MinkPonyDriver();\n   *   $session = new Session($pony);\n   *   $this->mink->registerSession('pony', $session);\n   * @endcode\n   *\/",421],["T_WHITESPACE","\n  ",433],["T_PROTECTED","protected",434],["T_WHITESPACE"," ",434],["T_FUNCTION","function",434],["T_WHITESPACE"," ",434],["T_STRING","registerSessions",434],"(",")",["T_WHITESPACE"," ",434],"{","}",["T_WHITESPACE","\n\n  ",434],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",436],["T_WHITESPACE","\n  ",438],["T_PROTECTED","protected",439],["T_WHITESPACE"," ",439],["T_FUNCTION","function",439],["T_WHITESPACE"," ",439],["T_STRING","setUp",439],"(",")",["T_WHITESPACE"," ",439],"{",["T_WHITESPACE","\n    ",439],["T_GLOBAL","global",440],["T_WHITESPACE"," ",440],["T_VARIABLE","$base_url",440],";",["T_WHITESPACE","\n    ",440],["T_STRING","parent",441],["T_DOUBLE_COLON","::",441],["T_STRING","setUp",441],"(",")",";",["T_WHITESPACE","\n\n    ",441],["T_COMMENT","\/\/ Get and set the domain of the environment we are running our test\n",443],["T_WHITESPACE","    ",444],["T_COMMENT","\/\/ coverage against.\n",444],["T_WHITESPACE","    ",445],["T_VARIABLE","$base_url",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_STRING","getenv",445],"(",["T_CONSTANT_ENCAPSED_STRING","'SIMPLETEST_BASE_URL'",445],")",";",["T_WHITESPACE","\n    ",445],["T_IF","if",446],["T_WHITESPACE"," ",446],"(","!",["T_VARIABLE","$base_url",446],")",["T_WHITESPACE"," ",446],"{",["T_WHITESPACE","\n      ",446],["T_THROW","throw",447],["T_WHITESPACE"," ",447],["T_NEW","new",447],["T_WHITESPACE"," ",447],["T_NS_SEPARATOR","\\",447],["T_STRING","Exception",447],"(",["T_WHITESPACE","\n        ",447],["T_CONSTANT_ENCAPSED_STRING","'You must provide a SIMPLETEST_BASE_URL environment variable to run some PHPUnit based functional tests.'",448],["T_WHITESPACE","\n      ",448],")",";",["T_WHITESPACE","\n    ",449],"}",["T_WHITESPACE","\n\n    ",450],["T_COMMENT","\/\/ Setup $_SERVER variable.\n",452],["T_WHITESPACE","    ",453],["T_VARIABLE","$parsed_url",453],["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],["T_STRING","parse_url",453],"(",["T_VARIABLE","$base_url",453],")",";",["T_WHITESPACE","\n    ",453],["T_VARIABLE","$host",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_VARIABLE","$parsed_url",454],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",454],"]",["T_WHITESPACE"," ",454],".",["T_WHITESPACE"," ",454],"(",["T_ISSET","isset",454],"(",["T_VARIABLE","$parsed_url",454],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",454],"]",")",["T_WHITESPACE"," ",454],"?",["T_WHITESPACE"," ",454],["T_CONSTANT_ENCAPSED_STRING","':'",454],["T_WHITESPACE"," ",454],".",["T_WHITESPACE"," ",454],["T_VARIABLE","$parsed_url",454],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",454],"]",["T_WHITESPACE"," ",454],":",["T_WHITESPACE"," ",454],["T_CONSTANT_ENCAPSED_STRING","''",454],")",";",["T_WHITESPACE","\n    ",454],["T_VARIABLE","$path",455],["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_ISSET","isset",455],"(",["T_VARIABLE","$parsed_url",455],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",455],"]",")",["T_WHITESPACE"," ",455],"?",["T_WHITESPACE"," ",455],["T_STRING","rtrim",455],"(",["T_STRING","rtrim",455],"(",["T_VARIABLE","$parsed_url",455],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",455],"]",")",",",["T_WHITESPACE"," ",455],["T_CONSTANT_ENCAPSED_STRING","'\/'",455],")",["T_WHITESPACE"," ",455],":",["T_WHITESPACE"," ",455],["T_CONSTANT_ENCAPSED_STRING","''",455],";",["T_WHITESPACE","\n    ",455],["T_VARIABLE","$port",456],["T_WHITESPACE"," ",456],"=",["T_WHITESPACE"," ",456],["T_ISSET","isset",456],"(",["T_VARIABLE","$parsed_url",456],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",456],"]",")",["T_WHITESPACE"," ",456],"?",["T_WHITESPACE"," ",456],["T_VARIABLE","$parsed_url",456],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",456],"]",["T_WHITESPACE"," ",456],":",["T_WHITESPACE"," ",456],["T_LNUMBER","80",456],";",["T_WHITESPACE","\n\n    ",456],["T_VARIABLE","$this",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","baseUrl",458],["T_WHITESPACE"," ",458],"=",["T_WHITESPACE"," ",458],["T_VARIABLE","$base_url",458],";",["T_WHITESPACE","\n\n    ",458],["T_COMMENT","\/\/ If the passed URL schema is 'https' then setup the $_SERVER variables\n",460],["T_WHITESPACE","    ",461],["T_COMMENT","\/\/ properly so that testing will run under HTTPS.\n",461],["T_WHITESPACE","    ",462],["T_IF","if",462],["T_WHITESPACE"," ",462],"(",["T_VARIABLE","$parsed_url",462],"[",["T_CONSTANT_ENCAPSED_STRING","'scheme'",462],"]",["T_WHITESPACE"," ",462],["T_IS_IDENTICAL","===",462],["T_WHITESPACE"," ",462],["T_CONSTANT_ENCAPSED_STRING","'https'",462],")",["T_WHITESPACE"," ",462],"{",["T_WHITESPACE","\n      ",462],["T_VARIABLE","$_SERVER",463],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",463],"]",["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],["T_CONSTANT_ENCAPSED_STRING","'on'",463],";",["T_WHITESPACE","\n    ",463],"}",["T_WHITESPACE","\n    ",464],["T_VARIABLE","$_SERVER",465],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",465],"]",["T_WHITESPACE"," ",465],"=",["T_WHITESPACE"," ",465],["T_VARIABLE","$host",465],";",["T_WHITESPACE","\n    ",465],["T_VARIABLE","$_SERVER",466],"[",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",466],"]",["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",466],";",["T_WHITESPACE","\n    ",466],["T_VARIABLE","$_SERVER",467],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_ADDR'",467],"]",["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",467],";",["T_WHITESPACE","\n    ",467],["T_VARIABLE","$_SERVER",468],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",468],"]",["T_WHITESPACE"," ",468],"=",["T_WHITESPACE"," ",468],["T_VARIABLE","$port",468],";",["T_WHITESPACE","\n    ",468],["T_VARIABLE","$_SERVER",469],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_SOFTWARE'",469],"]",["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],["T_STRING","NULL",469],";",["T_WHITESPACE","\n    ",469],["T_VARIABLE","$_SERVER",470],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_NAME'",470],"]",["T_WHITESPACE"," ",470],"=",["T_WHITESPACE"," ",470],["T_CONSTANT_ENCAPSED_STRING","'localhost'",470],";",["T_WHITESPACE","\n    ",470],["T_VARIABLE","$_SERVER",471],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",471],"]",["T_WHITESPACE"," ",471],"=",["T_WHITESPACE"," ",471],["T_VARIABLE","$path",471],["T_WHITESPACE"," ",471],".",["T_WHITESPACE"," ",471],["T_CONSTANT_ENCAPSED_STRING","'\/'",471],";",["T_WHITESPACE","\n    ",471],["T_VARIABLE","$_SERVER",472],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",472],"]",["T_WHITESPACE"," ",472],"=",["T_WHITESPACE"," ",472],["T_CONSTANT_ENCAPSED_STRING","'GET'",472],";",["T_WHITESPACE","\n    ",472],["T_VARIABLE","$_SERVER",473],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",473],"]",["T_WHITESPACE"," ",473],"=",["T_WHITESPACE"," ",473],["T_VARIABLE","$path",473],["T_WHITESPACE"," ",473],".",["T_WHITESPACE"," ",473],["T_CONSTANT_ENCAPSED_STRING","'\/index.php'",473],";",["T_WHITESPACE","\n    ",473],["T_VARIABLE","$_SERVER",474],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_FILENAME'",474],"]",["T_WHITESPACE"," ",474],"=",["T_WHITESPACE"," ",474],["T_VARIABLE","$path",474],["T_WHITESPACE"," ",474],".",["T_WHITESPACE"," ",474],["T_CONSTANT_ENCAPSED_STRING","'\/index.php'",474],";",["T_WHITESPACE","\n    ",474],["T_VARIABLE","$_SERVER",475],"[",["T_CONSTANT_ENCAPSED_STRING","'PHP_SELF'",475],"]",["T_WHITESPACE"," ",475],"=",["T_WHITESPACE"," ",475],["T_VARIABLE","$path",475],["T_WHITESPACE"," ",475],".",["T_WHITESPACE"," ",475],["T_CONSTANT_ENCAPSED_STRING","'\/index.php'",475],";",["T_WHITESPACE","\n    ",475],["T_VARIABLE","$_SERVER",476],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_USER_AGENT'",476],"]",["T_WHITESPACE"," ",476],"=",["T_WHITESPACE"," ",476],["T_CONSTANT_ENCAPSED_STRING","'Drupal command line'",476],";",["T_WHITESPACE","\n\n    ",476],["T_COMMENT","\/\/ Install Drupal test site.\n",478],["T_WHITESPACE","    ",479],["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","prepareEnvironment",479],"(",")",";",["T_WHITESPACE","\n    ",479],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","installDrupal",480],"(",")",";",["T_WHITESPACE","\n\n    ",480],["T_COMMENT","\/\/ Setup Mink.\n",482],["T_WHITESPACE","    ",483],["T_VARIABLE","$session",483],["T_WHITESPACE"," ",483],"=",["T_WHITESPACE"," ",483],["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","initMink",483],"(",")",";",["T_WHITESPACE","\n\n    ",483],["T_COMMENT","\/\/ In order to debug web tests you need to either set a cookie, have the\n",485],["T_WHITESPACE","    ",486],["T_COMMENT","\/\/ Xdebug session in the URL or set an environment variable in case of CLI\n",486],["T_WHITESPACE","    ",487],["T_COMMENT","\/\/ requests. If the developer listens to connection when running tests, by\n",487],["T_WHITESPACE","    ",488],["T_COMMENT","\/\/ default the cookie is not forwarded to the client side, so you cannot\n",488],["T_WHITESPACE","    ",489],["T_COMMENT","\/\/ debug the code running on the test site. In order to make debuggers work\n",489],["T_WHITESPACE","    ",490],["T_COMMENT","\/\/ this bit of information is forwarded. Make sure that the debugger listens\n",490],["T_WHITESPACE","    ",491],["T_COMMENT","\/\/ to at least three external connections.\n",491],["T_WHITESPACE","    ",492],["T_VARIABLE","$request",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_NS_SEPARATOR","\\",492],["T_STRING","Drupal",492],["T_DOUBLE_COLON","::",492],["T_STRING","request",492],"(",")",";",["T_WHITESPACE","\n    ",492],["T_VARIABLE","$cookie_params",493],["T_WHITESPACE"," ",493],"=",["T_WHITESPACE"," ",493],["T_VARIABLE","$request",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","cookies",493],";",["T_WHITESPACE","\n    ",493],["T_IF","if",494],["T_WHITESPACE"," ",494],"(",["T_VARIABLE","$cookie_params",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","has",494],"(",["T_CONSTANT_ENCAPSED_STRING","'XDEBUG_SESSION'",494],")",")",["T_WHITESPACE"," ",494],"{",["T_WHITESPACE","\n      ",494],["T_VARIABLE","$session",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","setCookie",495],"(",["T_CONSTANT_ENCAPSED_STRING","'XDEBUG_SESSION'",495],",",["T_WHITESPACE"," ",495],["T_VARIABLE","$cookie_params",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","get",495],"(",["T_CONSTANT_ENCAPSED_STRING","'XDEBUG_SESSION'",495],")",")",";",["T_WHITESPACE","\n    ",495],"}",["T_WHITESPACE","\n    ",496],["T_COMMENT","\/\/ For CLI requests, the information is stored in $_SERVER.\n",497],["T_WHITESPACE","    ",498],["T_VARIABLE","$server",498],["T_WHITESPACE"," ",498],"=",["T_WHITESPACE"," ",498],["T_VARIABLE","$request",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","server",498],";",["T_WHITESPACE","\n    ",498],["T_IF","if",499],["T_WHITESPACE"," ",499],"(",["T_VARIABLE","$server",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","has",499],"(",["T_CONSTANT_ENCAPSED_STRING","'XDEBUG_CONFIG'",499],")",")",["T_WHITESPACE"," ",499],"{",["T_WHITESPACE","\n      ",499],["T_COMMENT","\/\/ $_SERVER['XDEBUG_CONFIG'] has the form \"key1=value1 key2=value2 ...\".\n",500],["T_WHITESPACE","      ",501],["T_VARIABLE","$pairs",501],["T_WHITESPACE"," ",501],"=",["T_WHITESPACE"," ",501],["T_STRING","explode",501],"(",["T_CONSTANT_ENCAPSED_STRING","' '",501],",",["T_WHITESPACE"," ",501],["T_VARIABLE","$server",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","get",501],"(",["T_CONSTANT_ENCAPSED_STRING","'XDEBUG_CONFIG'",501],")",")",";",["T_WHITESPACE","\n      ",501],["T_FOREACH","foreach",502],["T_WHITESPACE"," ",502],"(",["T_VARIABLE","$pairs",502],["T_WHITESPACE"," ",502],["T_AS","as",502],["T_WHITESPACE"," ",502],["T_VARIABLE","$pair",502],")",["T_WHITESPACE"," ",502],"{",["T_WHITESPACE","\n        ",502],["T_LIST","list",503],"(",["T_VARIABLE","$key",503],",",["T_WHITESPACE"," ",503],["T_VARIABLE","$value",503],")",["T_WHITESPACE"," ",503],"=",["T_WHITESPACE"," ",503],["T_STRING","explode",503],"(",["T_CONSTANT_ENCAPSED_STRING","'='",503],",",["T_WHITESPACE"," ",503],["T_VARIABLE","$pair",503],")",";",["T_WHITESPACE","\n        ",503],["T_COMMENT","\/\/ Account for key-value pairs being separated by multiple spaces.\n",504],["T_WHITESPACE","        ",505],["T_IF","if",505],["T_WHITESPACE"," ",505],"(",["T_STRING","trim",505],"(",["T_VARIABLE","$key",505],")",["T_WHITESPACE"," ",505],["T_IS_EQUAL","==",505],["T_WHITESPACE"," ",505],["T_CONSTANT_ENCAPSED_STRING","'idekey'",505],")",["T_WHITESPACE"," ",505],"{",["T_WHITESPACE","\n          ",505],["T_VARIABLE","$session",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","setCookie",506],"(",["T_CONSTANT_ENCAPSED_STRING","'XDEBUG_SESSION'",506],",",["T_WHITESPACE"," ",506],["T_STRING","trim",506],"(",["T_VARIABLE","$value",506],")",")",";",["T_WHITESPACE","\n        ",506],"}",["T_WHITESPACE","\n      ",507],"}",["T_WHITESPACE","\n    ",508],"}",["T_WHITESPACE","\n\n    ",509],["T_COMMENT","\/\/ Creates the directory to store browser output in if a file to write\n",511],["T_WHITESPACE","    ",512],["T_COMMENT","\/\/ URLs to has been created by \\Drupal\\Tests\\Listeners\\HtmlOutputPrinter.\n",512],["T_WHITESPACE","    ",513],["T_VARIABLE","$browser_output_file",513],["T_WHITESPACE"," ",513],"=",["T_WHITESPACE"," ",513],["T_STRING","getenv",513],"(",["T_CONSTANT_ENCAPSED_STRING","'BROWSERTEST_OUTPUT_FILE'",513],")",";",["T_WHITESPACE","\n    ",513],["T_VARIABLE","$this",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","htmlOutputEnabled",514],["T_WHITESPACE"," ",514],"=",["T_WHITESPACE"," ",514],["T_STRING","is_file",514],"(",["T_VARIABLE","$browser_output_file",514],")",";",["T_WHITESPACE","\n    ",514],["T_IF","if",515],["T_WHITESPACE"," ",515],"(",["T_VARIABLE","$this",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","htmlOutputEnabled",515],")",["T_WHITESPACE"," ",515],"{",["T_WHITESPACE","\n      ",515],["T_VARIABLE","$this",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","htmlOutputFile",516],["T_WHITESPACE"," ",516],"=",["T_WHITESPACE"," ",516],["T_VARIABLE","$browser_output_file",516],";",["T_WHITESPACE","\n      ",516],["T_VARIABLE","$this",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","htmlOutputClassName",517],["T_WHITESPACE"," ",517],"=",["T_WHITESPACE"," ",517],["T_STRING","str_replace",517],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\\\\"",517],",",["T_WHITESPACE"," ",517],["T_CONSTANT_ENCAPSED_STRING","\"_\"",517],",",["T_WHITESPACE"," ",517],["T_STRING","get_called_class",517],"(",")",")",";",["T_WHITESPACE","\n      ",517],["T_VARIABLE","$this",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","htmlOutputDirectory",518],["T_WHITESPACE"," ",518],"=",["T_WHITESPACE"," ",518],["T_STRING","DRUPAL_ROOT",518],["T_WHITESPACE"," ",518],".",["T_WHITESPACE"," ",518],["T_CONSTANT_ENCAPSED_STRING","'\/sites\/simpletest\/browser_output'",518],";",["T_WHITESPACE","\n      ",518],["T_IF","if",519],["T_WHITESPACE"," ",519],"(",["T_STRING","file_prepare_directory",519],"(",["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","htmlOutputDirectory",519],",",["T_WHITESPACE"," ",519],["T_STRING","FILE_CREATE_DIRECTORY",519],")",["T_WHITESPACE"," ",519],["T_BOOLEAN_AND","&&",519],["T_WHITESPACE"," ",519],"!",["T_STRING","file_exists",519],"(",["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","htmlOutputDirectory",519],["T_WHITESPACE"," ",519],".",["T_WHITESPACE"," ",519],["T_CONSTANT_ENCAPSED_STRING","'\/.htaccess'",519],")",")",["T_WHITESPACE"," ",519],"{",["T_WHITESPACE","\n        ",519],["T_STRING","file_put_contents",520],"(",["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","htmlOutputDirectory",520],["T_WHITESPACE"," ",520],".",["T_WHITESPACE"," ",520],["T_CONSTANT_ENCAPSED_STRING","'\/.htaccess'",520],",",["T_WHITESPACE"," ",520],["T_CONSTANT_ENCAPSED_STRING","\"<IfModule mod_expires.c>\\nExpiresActive Off\\n<\/IfModule>\\n\"",520],")",";",["T_WHITESPACE","\n      ",520],"}",["T_WHITESPACE","\n      ",521],["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","htmlOutputCounterStorage",522],["T_WHITESPACE"," ",522],"=",["T_WHITESPACE"," ",522],["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","htmlOutputDirectory",522],["T_WHITESPACE"," ",522],".",["T_WHITESPACE"," ",522],["T_CONSTANT_ENCAPSED_STRING","'\/'",522],["T_WHITESPACE"," ",522],".",["T_WHITESPACE"," ",522],["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","htmlOutputClassName",522],["T_WHITESPACE"," ",522],".",["T_WHITESPACE"," ",522],["T_CONSTANT_ENCAPSED_STRING","'.counter'",522],";",["T_WHITESPACE","\n      ",522],["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","htmlOutputTestId",523],["T_WHITESPACE"," ",523],"=",["T_WHITESPACE"," ",523],["T_STRING","str_replace",523],"(",["T_CONSTANT_ENCAPSED_STRING","'sites\/simpletest\/'",523],",",["T_WHITESPACE"," ",523],["T_CONSTANT_ENCAPSED_STRING","''",523],",",["T_WHITESPACE"," ",523],["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","siteDirectory",523],")",";",["T_WHITESPACE","\n      ",523],["T_IF","if",524],["T_WHITESPACE"," ",524],"(",["T_STRING","is_file",524],"(",["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","htmlOutputCounterStorage",524],")",")",["T_WHITESPACE"," ",524],"{",["T_WHITESPACE","\n        ",524],["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","htmlOutputCounter",525],["T_WHITESPACE"," ",525],"=",["T_WHITESPACE"," ",525],["T_STRING","max",525],"(",["T_LNUMBER","1",525],",",["T_WHITESPACE"," ",525],["T_INT_CAST","(int)",525],["T_WHITESPACE"," ",525],["T_STRING","file_get_contents",525],"(",["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","htmlOutputCounterStorage",525],")",")",["T_WHITESPACE"," ",525],"+",["T_WHITESPACE"," ",525],["T_LNUMBER","1",525],";",["T_WHITESPACE","\n      ",525],"}",["T_WHITESPACE","\n    ",526],"}",["T_WHITESPACE","\n  ",527],"}",["T_WHITESPACE","\n\n  ",528],["T_DOC_COMMENT","\/**\n   * Ensures test files are deletable within file_unmanaged_delete_recursive().\n   *\n   * Some tests chmod generated files to be read only. During\n   * BrowserTestBase::cleanupEnvironment() and other cleanup operations,\n   * these files need to get deleted too.\n   *\n   * @param string $path\n   *   The file path.\n   *\/",530],["T_WHITESPACE","\n  ",539],["T_PUBLIC","public",540],["T_WHITESPACE"," ",540],["T_STATIC","static",540],["T_WHITESPACE"," ",540],["T_FUNCTION","function",540],["T_WHITESPACE"," ",540],["T_STRING","filePreDeleteCallback",540],"(",["T_VARIABLE","$path",540],")",["T_WHITESPACE"," ",540],"{",["T_WHITESPACE","\n    ",540],["T_COMMENT","\/\/ When the webserver runs with the same system user as phpunit, we can\n",541],["T_WHITESPACE","    ",542],["T_COMMENT","\/\/ make read-only files writable again. If not, chmod will fail while the\n",542],["T_WHITESPACE","    ",543],["T_COMMENT","\/\/ file deletion still works if file permissions have been configured\n",543],["T_WHITESPACE","    ",544],["T_COMMENT","\/\/ correctly. Thus, we ignore any problems while running chmod.\n",544],["T_WHITESPACE","    ",545],"@",["T_STRING","chmod",545],"(",["T_VARIABLE","$path",545],",",["T_WHITESPACE"," ",545],["T_LNUMBER","0700",545],")",";",["T_WHITESPACE","\n  ",545],"}",["T_WHITESPACE","\n\n  ",546],["T_DOC_COMMENT","\/**\n   * Clean up the Simpletest environment.\n   *\/",548],["T_WHITESPACE","\n  ",550],["T_PROTECTED","protected",551],["T_WHITESPACE"," ",551],["T_FUNCTION","function",551],["T_WHITESPACE"," ",551],["T_STRING","cleanupEnvironment",551],"(",")",["T_WHITESPACE"," ",551],"{",["T_WHITESPACE","\n    ",551],["T_COMMENT","\/\/ Remove all prefixed tables.\n",552],["T_WHITESPACE","    ",553],["T_VARIABLE","$original_connection_info",553],["T_WHITESPACE"," ",553],"=",["T_WHITESPACE"," ",553],["T_STRING","Database",553],["T_DOUBLE_COLON","::",553],["T_STRING","getConnectionInfo",553],"(",["T_CONSTANT_ENCAPSED_STRING","'simpletest_original_default'",553],")",";",["T_WHITESPACE","\n    ",553],["T_VARIABLE","$original_prefix",554],["T_WHITESPACE"," ",554],"=",["T_WHITESPACE"," ",554],["T_VARIABLE","$original_connection_info",554],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",554],"]","[",["T_CONSTANT_ENCAPSED_STRING","'prefix'",554],"]","[",["T_CONSTANT_ENCAPSED_STRING","'default'",554],"]",";",["T_WHITESPACE","\n    ",554],["T_VARIABLE","$test_connection_info",555],["T_WHITESPACE"," ",555],"=",["T_WHITESPACE"," ",555],["T_STRING","Database",555],["T_DOUBLE_COLON","::",555],["T_STRING","getConnectionInfo",555],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",555],")",";",["T_WHITESPACE","\n    ",555],["T_VARIABLE","$test_prefix",556],["T_WHITESPACE"," ",556],"=",["T_WHITESPACE"," ",556],["T_VARIABLE","$test_connection_info",556],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",556],"]","[",["T_CONSTANT_ENCAPSED_STRING","'prefix'",556],"]","[",["T_CONSTANT_ENCAPSED_STRING","'default'",556],"]",";",["T_WHITESPACE","\n    ",556],["T_IF","if",557],["T_WHITESPACE"," ",557],"(",["T_VARIABLE","$original_prefix",557],["T_WHITESPACE"," ",557],["T_IS_NOT_EQUAL","!=",557],["T_WHITESPACE"," ",557],["T_VARIABLE","$test_prefix",557],")",["T_WHITESPACE"," ",557],"{",["T_WHITESPACE","\n      ",557],["T_VARIABLE","$tables",558],["T_WHITESPACE"," ",558],"=",["T_WHITESPACE"," ",558],["T_STRING","Database",558],["T_DOUBLE_COLON","::",558],["T_STRING","getConnection",558],"(",")",["T_OBJECT_OPERATOR","->",558],["T_STRING","schema",558],"(",")",["T_OBJECT_OPERATOR","->",558],["T_STRING","findTables",558],"(",["T_CONSTANT_ENCAPSED_STRING","'%'",558],")",";",["T_WHITESPACE","\n      ",558],["T_FOREACH","foreach",559],["T_WHITESPACE"," ",559],"(",["T_VARIABLE","$tables",559],["T_WHITESPACE"," ",559],["T_AS","as",559],["T_WHITESPACE"," ",559],["T_VARIABLE","$table",559],")",["T_WHITESPACE"," ",559],"{",["T_WHITESPACE","\n        ",559],["T_IF","if",560],["T_WHITESPACE"," ",560],"(",["T_STRING","Database",560],["T_DOUBLE_COLON","::",560],["T_STRING","getConnection",560],"(",")",["T_OBJECT_OPERATOR","->",560],["T_STRING","schema",560],"(",")",["T_OBJECT_OPERATOR","->",560],["T_STRING","dropTable",560],"(",["T_VARIABLE","$table",560],")",")",["T_WHITESPACE"," ",560],"{",["T_WHITESPACE","\n          ",560],["T_UNSET","unset",561],"(",["T_VARIABLE","$tables",561],"[",["T_VARIABLE","$table",561],"]",")",";",["T_WHITESPACE","\n        ",561],"}",["T_WHITESPACE","\n      ",562],"}",["T_WHITESPACE","\n    ",563],"}",["T_WHITESPACE","\n\n    ",564],["T_COMMENT","\/\/ Delete test site directory.\n",566],["T_WHITESPACE","    ",567],["T_STRING","file_unmanaged_delete_recursive",567],"(",["T_VARIABLE","$this",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","siteDirectory",567],",",["T_WHITESPACE"," ",567],["T_ARRAY","array",567],"(",["T_VARIABLE","$this",567],",",["T_WHITESPACE"," ",567],["T_CONSTANT_ENCAPSED_STRING","'filePreDeleteCallback'",567],")",")",";",["T_WHITESPACE","\n  ",567],"}",["T_WHITESPACE","\n\n  ",568],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",570],["T_WHITESPACE","\n  ",572],["T_PROTECTED","protected",573],["T_WHITESPACE"," ",573],["T_FUNCTION","function",573],["T_WHITESPACE"," ",573],["T_STRING","tearDown",573],"(",")",["T_WHITESPACE"," ",573],"{",["T_WHITESPACE","\n    ",573],["T_STRING","parent",574],["T_DOUBLE_COLON","::",574],["T_STRING","tearDown",574],"(",")",";",["T_WHITESPACE","\n\n    ",574],["T_COMMENT","\/\/ Destroy the testing kernel.\n",576],["T_WHITESPACE","    ",577],["T_IF","if",577],["T_WHITESPACE"," ",577],"(",["T_ISSET","isset",577],"(",["T_VARIABLE","$this",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","kernel",577],")",")",["T_WHITESPACE"," ",577],"{",["T_WHITESPACE","\n      ",577],["T_VARIABLE","$this",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","cleanupEnvironment",578],"(",")",";",["T_WHITESPACE","\n      ",578],["T_VARIABLE","$this",579],["T_OBJECT_OPERATOR","->",579],["T_STRING","kernel",579],["T_OBJECT_OPERATOR","->",579],["T_STRING","shutdown",579],"(",")",";",["T_WHITESPACE","\n    ",579],"}",["T_WHITESPACE","\n\n    ",580],["T_COMMENT","\/\/ Ensure that internal logged in variable is reset.\n",582],["T_WHITESPACE","    ",583],["T_VARIABLE","$this",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","loggedInUser",583],["T_WHITESPACE"," ",583],"=",["T_WHITESPACE"," ",583],["T_STRING","FALSE",583],";",["T_WHITESPACE","\n\n    ",583],["T_IF","if",585],["T_WHITESPACE"," ",585],"(",["T_VARIABLE","$this",585],["T_OBJECT_OPERATOR","->",585],["T_STRING","mink",585],")",["T_WHITESPACE"," ",585],"{",["T_WHITESPACE","\n      ",585],["T_VARIABLE","$this",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","mink",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","stopSessions",586],"(",")",";",["T_WHITESPACE","\n    ",586],"}",["T_WHITESPACE","\n\n    ",587],["T_COMMENT","\/\/ Restore original shutdown callbacks.\n",589],["T_WHITESPACE","    ",590],["T_IF","if",590],["T_WHITESPACE"," ",590],"(",["T_STRING","function_exists",590],"(",["T_CONSTANT_ENCAPSED_STRING","'drupal_register_shutdown_function'",590],")",")",["T_WHITESPACE"," ",590],"{",["T_WHITESPACE","\n      ",590],["T_VARIABLE","$callbacks",591],["T_WHITESPACE"," ",591],"=",["T_WHITESPACE"," ",591],"&",["T_STRING","drupal_register_shutdown_function",591],"(",")",";",["T_WHITESPACE","\n      ",591],["T_VARIABLE","$callbacks",592],["T_WHITESPACE"," ",592],"=",["T_WHITESPACE"," ",592],["T_VARIABLE","$this",592],["T_OBJECT_OPERATOR","->",592],["T_STRING","originalShutdownCallbacks",592],";",["T_WHITESPACE","\n    ",592],"}",["T_WHITESPACE","\n  ",593],"}",["T_WHITESPACE","\n\n  ",594],["T_DOC_COMMENT","\/**\n   * Returns Mink session.\n   *\n   * @param string $name\n   *   (optional) Name of the session. Defaults to the active session.\n   *\n   * @return \\Behat\\Mink\\Session\n   *   The active Mink session object.\n   *\/",596],["T_WHITESPACE","\n  ",604],["T_PUBLIC","public",605],["T_WHITESPACE"," ",605],["T_FUNCTION","function",605],["T_WHITESPACE"," ",605],["T_STRING","getSession",605],"(",["T_VARIABLE","$name",605],["T_WHITESPACE"," ",605],"=",["T_WHITESPACE"," ",605],["T_STRING","NULL",605],")",["T_WHITESPACE"," ",605],"{",["T_WHITESPACE","\n    ",605],["T_RETURN","return",606],["T_WHITESPACE"," ",606],["T_VARIABLE","$this",606],["T_OBJECT_OPERATOR","->",606],["T_STRING","mink",606],["T_OBJECT_OPERATOR","->",606],["T_STRING","getSession",606],"(",["T_VARIABLE","$name",606],")",";",["T_WHITESPACE","\n  ",606],"}",["T_WHITESPACE","\n\n  ",607],["T_DOC_COMMENT","\/**\n   * Returns WebAssert object.\n   *\n   * @param string $name\n   *   (optional) Name of the session. Defaults to the active session.\n   *\n   * @return \\Drupal\\Tests\\WebAssert\n   *   A new web-assert option for asserting the presence of elements with.\n   *\/",609],["T_WHITESPACE","\n  ",617],["T_PUBLIC","public",618],["T_WHITESPACE"," ",618],["T_FUNCTION","function",618],["T_WHITESPACE"," ",618],["T_STRING","assertSession",618],"(",["T_VARIABLE","$name",618],["T_WHITESPACE"," ",618],"=",["T_WHITESPACE"," ",618],["T_STRING","NULL",618],")",["T_WHITESPACE"," ",618],"{",["T_WHITESPACE","\n    ",618],["T_RETURN","return",619],["T_WHITESPACE"," ",619],["T_NEW","new",619],["T_WHITESPACE"," ",619],["T_STRING","WebAssert",619],"(",["T_VARIABLE","$this",619],["T_OBJECT_OPERATOR","->",619],["T_STRING","getSession",619],"(",["T_VARIABLE","$name",619],")",",",["T_WHITESPACE"," ",619],["T_VARIABLE","$this",619],["T_OBJECT_OPERATOR","->",619],["T_STRING","baseUrl",619],")",";",["T_WHITESPACE","\n  ",619],"}",["T_WHITESPACE","\n\n  ",620],["T_DOC_COMMENT","\/**\n   * Prepare for a request to testing site.\n   *\n   * The testing site is protected via a SIMPLETEST_USER_AGENT cookie that is\n   * checked by drupal_valid_test_ua().\n   *\n   * @see drupal_valid_test_ua()\n   *\/",622],["T_WHITESPACE","\n  ",629],["T_PROTECTED","protected",630],["T_WHITESPACE"," ",630],["T_FUNCTION","function",630],["T_WHITESPACE"," ",630],["T_STRING","prepareRequest",630],"(",")",["T_WHITESPACE"," ",630],"{",["T_WHITESPACE","\n    ",630],["T_VARIABLE","$session",631],["T_WHITESPACE"," ",631],"=",["T_WHITESPACE"," ",631],["T_VARIABLE","$this",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","getSession",631],"(",")",";",["T_WHITESPACE","\n    ",631],["T_VARIABLE","$session",632],["T_OBJECT_OPERATOR","->",632],["T_STRING","setCookie",632],"(",["T_CONSTANT_ENCAPSED_STRING","'SIMPLETEST_USER_AGENT'",632],",",["T_WHITESPACE"," ",632],["T_STRING","drupal_generate_test_ua",632],"(",["T_VARIABLE","$this",632],["T_OBJECT_OPERATOR","->",632],["T_STRING","databasePrefix",632],")",")",";",["T_WHITESPACE","\n  ",632],"}",["T_WHITESPACE","\n\n  ",633],["T_DOC_COMMENT","\/**\n   * Builds an a absolute URL from a system path or a URL object.\n   *\n   * @param string|\\Drupal\\Core\\Url $path\n   *   A system path or a URL.\n   * @param array $options\n   *   Options to be passed to Url::fromUri().\n   *\n   * @return string\n   *   An absolute URL stsring.\n   *\/",635],["T_WHITESPACE","\n  ",645],["T_PROTECTED","protected",646],["T_WHITESPACE"," ",646],["T_FUNCTION","function",646],["T_WHITESPACE"," ",646],["T_STRING","buildUrl",646],"(",["T_VARIABLE","$path",646],",",["T_WHITESPACE"," ",646],["T_ARRAY","array",646],["T_WHITESPACE"," ",646],["T_VARIABLE","$options",646],["T_WHITESPACE"," ",646],"=",["T_WHITESPACE"," ",646],["T_ARRAY","array",646],"(",")",")",["T_WHITESPACE"," ",646],"{",["T_WHITESPACE","\n    ",646],["T_IF","if",647],["T_WHITESPACE"," ",647],"(",["T_VARIABLE","$path",647],["T_WHITESPACE"," ",647],["T_INSTANCEOF","instanceof",647],["T_WHITESPACE"," ",647],["T_STRING","Url",647],")",["T_WHITESPACE"," ",647],"{",["T_WHITESPACE","\n      ",647],["T_VARIABLE","$url_options",648],["T_WHITESPACE"," ",648],"=",["T_WHITESPACE"," ",648],["T_VARIABLE","$path",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","getOptions",648],"(",")",";",["T_WHITESPACE","\n      ",648],["T_VARIABLE","$options",649],["T_WHITESPACE"," ",649],"=",["T_WHITESPACE"," ",649],["T_VARIABLE","$url_options",649],["T_WHITESPACE"," ",649],"+",["T_WHITESPACE"," ",649],["T_VARIABLE","$options",649],";",["T_WHITESPACE","\n      ",649],["T_VARIABLE","$path",650],["T_OBJECT_OPERATOR","->",650],["T_STRING","setOptions",650],"(",["T_VARIABLE","$options",650],")",";",["T_WHITESPACE","\n      ",650],["T_RETURN","return",651],["T_WHITESPACE"," ",651],["T_VARIABLE","$path",651],["T_OBJECT_OPERATOR","->",651],["T_STRING","setAbsolute",651],"(",")",["T_OBJECT_OPERATOR","->",651],["T_STRING","toString",651],"(",")",";",["T_WHITESPACE","\n    ",651],"}",["T_WHITESPACE","\n    ",652],["T_COMMENT","\/\/ The URL generator service is not necessarily available yet; e.g., in\n",653],["T_WHITESPACE","    ",654],["T_COMMENT","\/\/ interactive installer tests.\n",654],["T_WHITESPACE","    ",655],["T_ELSEIF","elseif",655],["T_WHITESPACE"," ",655],"(",["T_VARIABLE","$this",655],["T_OBJECT_OPERATOR","->",655],["T_STRING","container",655],["T_OBJECT_OPERATOR","->",655],["T_STRING","has",655],"(",["T_CONSTANT_ENCAPSED_STRING","'url_generator'",655],")",")",["T_WHITESPACE"," ",655],"{",["T_WHITESPACE","\n      ",655],["T_VARIABLE","$force_internal",656],["T_WHITESPACE"," ",656],"=",["T_WHITESPACE"," ",656],["T_ISSET","isset",656],"(",["T_VARIABLE","$options",656],"[",["T_CONSTANT_ENCAPSED_STRING","'external'",656],"]",")",["T_WHITESPACE"," ",656],["T_BOOLEAN_AND","&&",656],["T_WHITESPACE"," ",656],["T_VARIABLE","$options",656],"[",["T_CONSTANT_ENCAPSED_STRING","'external'",656],"]",["T_WHITESPACE"," ",656],["T_IS_EQUAL","==",656],["T_WHITESPACE"," ",656],["T_STRING","FALSE",656],";",["T_WHITESPACE","\n      ",656],["T_IF","if",657],["T_WHITESPACE"," ",657],"(","!",["T_VARIABLE","$force_internal",657],["T_WHITESPACE"," ",657],["T_BOOLEAN_AND","&&",657],["T_WHITESPACE"," ",657],["T_STRING","UrlHelper",657],["T_DOUBLE_COLON","::",657],["T_STRING","isExternal",657],"(",["T_VARIABLE","$path",657],")",")",["T_WHITESPACE"," ",657],"{",["T_WHITESPACE","\n        ",657],["T_RETURN","return",658],["T_WHITESPACE"," ",658],["T_STRING","Url",658],["T_DOUBLE_COLON","::",658],["T_STRING","fromUri",658],"(",["T_VARIABLE","$path",658],",",["T_WHITESPACE"," ",658],["T_VARIABLE","$options",658],")",["T_OBJECT_OPERATOR","->",658],["T_STRING","toString",658],"(",")",";",["T_WHITESPACE","\n      ",658],"}",["T_WHITESPACE","\n      ",659],["T_ELSE","else",660],["T_WHITESPACE"," ",660],"{",["T_WHITESPACE","\n        ",660],["T_VARIABLE","$uri",661],["T_WHITESPACE"," ",661],"=",["T_WHITESPACE"," ",661],["T_VARIABLE","$path",661],["T_WHITESPACE"," ",661],["T_IS_IDENTICAL","===",661],["T_WHITESPACE"," ",661],["T_CONSTANT_ENCAPSED_STRING","'<front>'",661],["T_WHITESPACE"," ",661],"?",["T_WHITESPACE"," ",661],["T_CONSTANT_ENCAPSED_STRING","'base:\/'",661],["T_WHITESPACE"," ",661],":",["T_WHITESPACE"," ",661],["T_CONSTANT_ENCAPSED_STRING","'base:\/'",661],["T_WHITESPACE"," ",661],".",["T_WHITESPACE"," ",661],["T_VARIABLE","$path",661],";",["T_WHITESPACE","\n        ",661],["T_COMMENT","\/\/ Path processing is needed for language prefixing.  Skip it when a\n",662],["T_WHITESPACE","        ",663],["T_COMMENT","\/\/ path that may look like an external URL is being used as internal.\n",663],["T_WHITESPACE","        ",664],["T_VARIABLE","$options",664],"[",["T_CONSTANT_ENCAPSED_STRING","'path_processing'",664],"]",["T_WHITESPACE"," ",664],"=",["T_WHITESPACE"," ",664],"!",["T_VARIABLE","$force_internal",664],";",["T_WHITESPACE","\n        ",664],["T_RETURN","return",665],["T_WHITESPACE"," ",665],["T_STRING","Url",665],["T_DOUBLE_COLON","::",665],["T_STRING","fromUri",665],"(",["T_VARIABLE","$uri",665],",",["T_WHITESPACE"," ",665],["T_VARIABLE","$options",665],")",["T_WHITESPACE","\n          ",665],["T_OBJECT_OPERATOR","->",666],["T_STRING","setAbsolute",666],"(",")",["T_WHITESPACE","\n          ",666],["T_OBJECT_OPERATOR","->",667],["T_STRING","toString",667],"(",")",";",["T_WHITESPACE","\n      ",667],"}",["T_WHITESPACE","\n    ",668],"}",["T_WHITESPACE","\n    ",669],["T_ELSE","else",670],["T_WHITESPACE"," ",670],"{",["T_WHITESPACE","\n      ",670],["T_RETURN","return",671],["T_WHITESPACE"," ",671],["T_VARIABLE","$this",671],["T_OBJECT_OPERATOR","->",671],["T_STRING","getAbsoluteUrl",671],"(",["T_VARIABLE","$path",671],")",";",["T_WHITESPACE","\n    ",671],"}",["T_WHITESPACE","\n  ",672],"}",["T_WHITESPACE","\n\n  ",673],["T_DOC_COMMENT","\/**\n   * Retrieves a Drupal path or an absolute path.\n   *\n   * @param string|\\Drupal\\Core\\Url $path\n   *   Drupal path or URL to load into Mink controlled browser.\n   * @param array $options\n   *   (optional) Options to be forwarded to the url generator.\n   * @param string[] $headers\n   *   An array containing additional HTTP request headers, the array keys are\n   *   the header names and the array values the header values. This is useful\n   *   to set for example the \"Accept-Language\" header for requesting the page\n   *   in a different language. Note that not all headers are supported, for\n   *   example the \"Accept\" header is always overridden by the browser. For\n   *   testing REST APIs it is recommended to directly use an HTTP client such\n   *   as Guzzle instead.\n   *\n   * @return string\n   *   The retrieved HTML string, also available as $this->getRawContent()\n   *\/",675],["T_WHITESPACE","\n  ",693],["T_PROTECTED","protected",694],["T_WHITESPACE"," ",694],["T_FUNCTION","function",694],["T_WHITESPACE"," ",694],["T_STRING","drupalGet",694],"(",["T_VARIABLE","$path",694],",",["T_WHITESPACE"," ",694],["T_ARRAY","array",694],["T_WHITESPACE"," ",694],["T_VARIABLE","$options",694],["T_WHITESPACE"," ",694],"=",["T_WHITESPACE"," ",694],["T_ARRAY","array",694],"(",")",",",["T_WHITESPACE"," ",694],["T_ARRAY","array",694],["T_WHITESPACE"," ",694],["T_VARIABLE","$headers",694],["T_WHITESPACE"," ",694],"=",["T_WHITESPACE"," ",694],["T_ARRAY","array",694],"(",")",")",["T_WHITESPACE"," ",694],"{",["T_WHITESPACE","\n    ",694],["T_VARIABLE","$options",695],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",695],"]",["T_WHITESPACE"," ",695],"=",["T_WHITESPACE"," ",695],["T_STRING","TRUE",695],";",["T_WHITESPACE","\n    ",695],["T_VARIABLE","$url",696],["T_WHITESPACE"," ",696],"=",["T_WHITESPACE"," ",696],["T_VARIABLE","$this",696],["T_OBJECT_OPERATOR","->",696],["T_STRING","buildUrl",696],"(",["T_VARIABLE","$path",696],",",["T_WHITESPACE"," ",696],["T_VARIABLE","$options",696],")",";",["T_WHITESPACE","\n\n    ",696],["T_VARIABLE","$session",698],["T_WHITESPACE"," ",698],"=",["T_WHITESPACE"," ",698],["T_VARIABLE","$this",698],["T_OBJECT_OPERATOR","->",698],["T_STRING","getSession",698],"(",")",";",["T_WHITESPACE","\n\n    ",698],["T_VARIABLE","$this",700],["T_OBJECT_OPERATOR","->",700],["T_STRING","prepareRequest",700],"(",")",";",["T_WHITESPACE","\n    ",700],["T_FOREACH","foreach",701],["T_WHITESPACE"," ",701],"(",["T_VARIABLE","$headers",701],["T_WHITESPACE"," ",701],["T_AS","as",701],["T_WHITESPACE"," ",701],["T_VARIABLE","$header_name",701],["T_WHITESPACE"," ",701],["T_DOUBLE_ARROW","=>",701],["T_WHITESPACE"," ",701],["T_VARIABLE","$header_value",701],")",["T_WHITESPACE"," ",701],"{",["T_WHITESPACE","\n      ",701],["T_VARIABLE","$session",702],["T_OBJECT_OPERATOR","->",702],["T_STRING","setRequestHeader",702],"(",["T_VARIABLE","$header_name",702],",",["T_WHITESPACE"," ",702],["T_VARIABLE","$header_value",702],")",";",["T_WHITESPACE","\n    ",702],"}",["T_WHITESPACE","\n\n    ",703],["T_VARIABLE","$session",705],["T_OBJECT_OPERATOR","->",705],["T_STRING","visit",705],"(",["T_VARIABLE","$url",705],")",";",["T_WHITESPACE","\n    ",705],["T_VARIABLE","$out",706],["T_WHITESPACE"," ",706],"=",["T_WHITESPACE"," ",706],["T_VARIABLE","$session",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","getPage",706],"(",")",["T_OBJECT_OPERATOR","->",706],["T_STRING","getContent",706],"(",")",";",["T_WHITESPACE","\n\n    ",706],["T_COMMENT","\/\/ Ensure that any changes to variables in the other thread are picked up.\n",708],["T_WHITESPACE","    ",709],["T_VARIABLE","$this",709],["T_OBJECT_OPERATOR","->",709],["T_STRING","refreshVariables",709],"(",")",";",["T_WHITESPACE","\n\n    ",709],["T_IF","if",711],["T_WHITESPACE"," ",711],"(",["T_VARIABLE","$this",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","htmlOutputEnabled",711],")",["T_WHITESPACE"," ",711],"{",["T_WHITESPACE","\n      ",711],["T_VARIABLE","$html_output",712],["T_WHITESPACE"," ",712],"=",["T_WHITESPACE"," ",712],["T_CONSTANT_ENCAPSED_STRING","'GET request to: '",712],["T_WHITESPACE"," ",712],".",["T_WHITESPACE"," ",712],["T_VARIABLE","$url",712],["T_WHITESPACE"," ",712],".",["T_WHITESPACE","\n        ",712],["T_CONSTANT_ENCAPSED_STRING","'<hr \/>Ending URL: '",713],["T_WHITESPACE"," ",713],".",["T_WHITESPACE"," ",713],["T_VARIABLE","$this",713],["T_OBJECT_OPERATOR","->",713],["T_STRING","getSession",713],"(",")",["T_OBJECT_OPERATOR","->",713],["T_STRING","getCurrentUrl",713],"(",")",";",["T_WHITESPACE","\n      ",713],["T_VARIABLE","$html_output",714],["T_WHITESPACE"," ",714],["T_CONCAT_EQUAL",".=",714],["T_WHITESPACE"," ",714],["T_CONSTANT_ENCAPSED_STRING","'<hr \/>'",714],["T_WHITESPACE"," ",714],".",["T_WHITESPACE"," ",714],["T_VARIABLE","$out",714],";",["T_WHITESPACE","\n      ",714],["T_VARIABLE","$html_output",715],["T_WHITESPACE"," ",715],["T_CONCAT_EQUAL",".=",715],["T_WHITESPACE"," ",715],["T_VARIABLE","$this",715],["T_OBJECT_OPERATOR","->",715],["T_STRING","getHtmlOutputHeaders",715],"(",")",";",["T_WHITESPACE","\n      ",715],["T_VARIABLE","$this",716],["T_OBJECT_OPERATOR","->",716],["T_STRING","htmlOutput",716],"(",["T_VARIABLE","$html_output",716],")",";",["T_WHITESPACE","\n    ",716],"}",["T_WHITESPACE","\n\n    ",717],["T_RETURN","return",719],["T_WHITESPACE"," ",719],["T_VARIABLE","$out",719],";",["T_WHITESPACE","\n  ",719],"}",["T_WHITESPACE","\n\n  ",720],["T_DOC_COMMENT","\/**\n   * Takes a path and returns an absolute path.\n   *\n   * @param string $path\n   *   A path from the Mink controlled browser content.\n   *\n   * @return string\n   *   The $path with $base_url prepended, if necessary.\n   *\/",722],["T_WHITESPACE","\n  ",730],["T_PROTECTED","protected",731],["T_WHITESPACE"," ",731],["T_FUNCTION","function",731],["T_WHITESPACE"," ",731],["T_STRING","getAbsoluteUrl",731],"(",["T_VARIABLE","$path",731],")",["T_WHITESPACE"," ",731],"{",["T_WHITESPACE","\n    ",731],["T_GLOBAL","global",732],["T_WHITESPACE"," ",732],["T_VARIABLE","$base_url",732],",",["T_WHITESPACE"," ",732],["T_VARIABLE","$base_path",732],";",["T_WHITESPACE","\n\n    ",732],["T_VARIABLE","$parts",734],["T_WHITESPACE"," ",734],"=",["T_WHITESPACE"," ",734],["T_STRING","parse_url",734],"(",["T_VARIABLE","$path",734],")",";",["T_WHITESPACE","\n    ",734],["T_IF","if",735],["T_WHITESPACE"," ",735],"(",["T_EMPTY","empty",735],"(",["T_VARIABLE","$parts",735],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",735],"]",")",")",["T_WHITESPACE"," ",735],"{",["T_WHITESPACE","\n      ",735],["T_COMMENT","\/\/ Ensure that we have a string (and no xpath object).\n",736],["T_WHITESPACE","      ",737],["T_VARIABLE","$path",737],["T_WHITESPACE"," ",737],"=",["T_WHITESPACE"," ",737],["T_STRING_CAST","(string)",737],["T_WHITESPACE"," ",737],["T_VARIABLE","$path",737],";",["T_WHITESPACE","\n      ",737],["T_COMMENT","\/\/ Strip $base_path, if existent.\n",738],["T_WHITESPACE","      ",739],["T_VARIABLE","$length",739],["T_WHITESPACE"," ",739],"=",["T_WHITESPACE"," ",739],["T_STRING","strlen",739],"(",["T_VARIABLE","$base_path",739],")",";",["T_WHITESPACE","\n      ",739],["T_IF","if",740],["T_WHITESPACE"," ",740],"(",["T_STRING","substr",740],"(",["T_VARIABLE","$path",740],",",["T_WHITESPACE"," ",740],["T_LNUMBER","0",740],",",["T_WHITESPACE"," ",740],["T_VARIABLE","$length",740],")",["T_WHITESPACE"," ",740],["T_IS_IDENTICAL","===",740],["T_WHITESPACE"," ",740],["T_VARIABLE","$base_path",740],")",["T_WHITESPACE"," ",740],"{",["T_WHITESPACE","\n        ",740],["T_VARIABLE","$path",741],["T_WHITESPACE"," ",741],"=",["T_WHITESPACE"," ",741],["T_STRING","substr",741],"(",["T_VARIABLE","$path",741],",",["T_WHITESPACE"," ",741],["T_VARIABLE","$length",741],")",";",["T_WHITESPACE","\n      ",741],"}",["T_WHITESPACE","\n      ",742],["T_COMMENT","\/\/ Ensure that we have an absolute path.\n",743],["T_WHITESPACE","      ",744],["T_IF","if",744],["T_WHITESPACE"," ",744],"(",["T_EMPTY","empty",744],"(",["T_VARIABLE","$path",744],")",["T_WHITESPACE"," ",744],["T_BOOLEAN_OR","||",744],["T_WHITESPACE"," ",744],["T_VARIABLE","$path",744],"[",["T_LNUMBER","0",744],"]",["T_WHITESPACE"," ",744],["T_IS_NOT_IDENTICAL","!==",744],["T_WHITESPACE"," ",744],["T_CONSTANT_ENCAPSED_STRING","'\/'",744],")",["T_WHITESPACE"," ",744],"{",["T_WHITESPACE","\n        ",744],["T_VARIABLE","$path",745],["T_WHITESPACE"," ",745],"=",["T_WHITESPACE"," ",745],["T_CONSTANT_ENCAPSED_STRING","'\/'",745],["T_WHITESPACE"," ",745],".",["T_WHITESPACE"," ",745],["T_VARIABLE","$path",745],";",["T_WHITESPACE","\n      ",745],"}",["T_WHITESPACE","\n      ",746],["T_COMMENT","\/\/ Finally, prepend the $base_url.\n",747],["T_WHITESPACE","      ",748],["T_VARIABLE","$path",748],["T_WHITESPACE"," ",748],"=",["T_WHITESPACE"," ",748],["T_VARIABLE","$base_url",748],["T_WHITESPACE"," ",748],".",["T_WHITESPACE"," ",748],["T_VARIABLE","$path",748],";",["T_WHITESPACE","\n    ",748],"}",["T_WHITESPACE","\n    ",749],["T_RETURN","return",750],["T_WHITESPACE"," ",750],["T_VARIABLE","$path",750],";",["T_WHITESPACE","\n  ",750],"}",["T_WHITESPACE","\n\n  ",751],["T_DOC_COMMENT","\/**\n   * Logs in a user using the Mink controlled browser.\n   *\n   * If a user is already logged in, then the current user is logged out before\n   * logging in the specified user.\n   *\n   * Please note that neither the current user nor the passed-in user object is\n   * populated with data of the logged in user. If you need full access to the\n   * user object after logging in, it must be updated manually. If you also need\n   * access to the plain-text password of the user (set by drupalCreateUser()),\n   * e.g. to log in the same user again, then it must be re-assigned manually.\n   * For example:\n   * @code\n   *   \/\/ Create a user.\n   *   $account = $this->drupalCreateUser(array());\n   *   $this->drupalLogin($account);\n   *   \/\/ Load real user object.\n   *   $pass_raw = $account->passRaw;\n   *   $account = User::load($account->id());\n   *   $account->passRaw = $pass_raw;\n   * @endcode\n   *\n   * @param \\Drupal\\Core\\Session\\AccountInterface $account\n   *   User object representing the user to log in.\n   *\n   * @see drupalCreateUser()\n   *\/",753],["T_WHITESPACE","\n  ",779],["T_PROTECTED","protected",780],["T_WHITESPACE"," ",780],["T_FUNCTION","function",780],["T_WHITESPACE"," ",780],["T_STRING","drupalLogin",780],"(",["T_STRING","AccountInterface",780],["T_WHITESPACE"," ",780],["T_VARIABLE","$account",780],")",["T_WHITESPACE"," ",780],"{",["T_WHITESPACE","\n    ",780],["T_IF","if",781],["T_WHITESPACE"," ",781],"(",["T_VARIABLE","$this",781],["T_OBJECT_OPERATOR","->",781],["T_STRING","loggedInUser",781],")",["T_WHITESPACE"," ",781],"{",["T_WHITESPACE","\n      ",781],["T_VARIABLE","$this",782],["T_OBJECT_OPERATOR","->",782],["T_STRING","drupalLogout",782],"(",")",";",["T_WHITESPACE","\n    ",782],"}",["T_WHITESPACE","\n\n    ",783],["T_VARIABLE","$this",785],["T_OBJECT_OPERATOR","->",785],["T_STRING","drupalGet",785],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",785],")",";",["T_WHITESPACE","\n    ",785],["T_VARIABLE","$this",786],["T_OBJECT_OPERATOR","->",786],["T_STRING","assertSession",786],"(",")",["T_OBJECT_OPERATOR","->",786],["T_STRING","statusCodeEquals",786],"(",["T_LNUMBER","200",786],")",";",["T_WHITESPACE","\n    ",786],["T_VARIABLE","$this",787],["T_OBJECT_OPERATOR","->",787],["T_STRING","submitForm",787],"(",["T_ARRAY","array",787],"(",["T_WHITESPACE","\n      ",787],["T_CONSTANT_ENCAPSED_STRING","'name'",788],["T_WHITESPACE"," ",788],["T_DOUBLE_ARROW","=>",788],["T_WHITESPACE"," ",788],["T_VARIABLE","$account",788],["T_OBJECT_OPERATOR","->",788],["T_STRING","getUsername",788],"(",")",",",["T_WHITESPACE","\n      ",788],["T_CONSTANT_ENCAPSED_STRING","'pass'",789],["T_WHITESPACE"," ",789],["T_DOUBLE_ARROW","=>",789],["T_WHITESPACE"," ",789],["T_VARIABLE","$account",789],["T_OBJECT_OPERATOR","->",789],["T_STRING","passRaw",789],",",["T_WHITESPACE","\n    ",789],")",",",["T_WHITESPACE"," ",790],["T_STRING","t",790],"(",["T_CONSTANT_ENCAPSED_STRING","'Log in'",790],")",")",";",["T_WHITESPACE","\n\n    ",790],["T_COMMENT","\/\/ @see BrowserTestBase::drupalUserIsLoggedIn()\n",792],["T_WHITESPACE","    ",793],["T_VARIABLE","$account",793],["T_OBJECT_OPERATOR","->",793],["T_STRING","sessionId",793],["T_WHITESPACE"," ",793],"=",["T_WHITESPACE"," ",793],["T_VARIABLE","$this",793],["T_OBJECT_OPERATOR","->",793],["T_STRING","getSession",793],"(",")",["T_OBJECT_OPERATOR","->",793],["T_STRING","getCookie",793],"(",["T_VARIABLE","$this",793],["T_OBJECT_OPERATOR","->",793],["T_STRING","getSessionName",793],"(",")",")",";",["T_WHITESPACE","\n    ",793],["T_VARIABLE","$this",794],["T_OBJECT_OPERATOR","->",794],["T_STRING","assertTrue",794],"(",["T_VARIABLE","$this",794],["T_OBJECT_OPERATOR","->",794],["T_STRING","drupalUserIsLoggedIn",794],"(",["T_VARIABLE","$account",794],")",",",["T_WHITESPACE"," ",794],["T_STRING","SafeMarkup",794],["T_DOUBLE_COLON","::",794],["T_STRING","format",794],"(",["T_CONSTANT_ENCAPSED_STRING","'User %name successfully logged in.'",794],",",["T_WHITESPACE"," ",794],["T_ARRAY","array",794],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",794],["T_WHITESPACE"," ",794],["T_DOUBLE_ARROW","=>",794],["T_WHITESPACE"," ",794],["T_VARIABLE","$account",794],["T_OBJECT_OPERATOR","->",794],["T_STRING","getUsername",794],"(",")",")",")",")",";",["T_WHITESPACE","\n\n    ",794],["T_VARIABLE","$this",796],["T_OBJECT_OPERATOR","->",796],["T_STRING","loggedInUser",796],["T_WHITESPACE"," ",796],"=",["T_WHITESPACE"," ",796],["T_VARIABLE","$account",796],";",["T_WHITESPACE","\n    ",796],["T_VARIABLE","$this",797],["T_OBJECT_OPERATOR","->",797],["T_STRING","container",797],["T_OBJECT_OPERATOR","->",797],["T_STRING","get",797],"(",["T_CONSTANT_ENCAPSED_STRING","'current_user'",797],")",["T_OBJECT_OPERATOR","->",797],["T_STRING","setAccount",797],"(",["T_VARIABLE","$account",797],")",";",["T_WHITESPACE","\n  ",797],"}",["T_WHITESPACE","\n\n  ",798],["T_DOC_COMMENT","\/**\n   * Logs a user out of the Mink controlled browser and confirms.\n   *\n   * Confirms logout by checking the login page.\n   *\/",800],["T_WHITESPACE","\n  ",804],["T_PROTECTED","protected",805],["T_WHITESPACE"," ",805],["T_FUNCTION","function",805],["T_WHITESPACE"," ",805],["T_STRING","drupalLogout",805],"(",")",["T_WHITESPACE"," ",805],"{",["T_WHITESPACE","\n    ",805],["T_COMMENT","\/\/ Make a request to the logout page, and redirect to the user page, the\n",806],["T_WHITESPACE","    ",807],["T_COMMENT","\/\/ idea being if you were properly logged out you should be seeing a login\n",807],["T_WHITESPACE","    ",808],["T_COMMENT","\/\/ screen.\n",808],["T_WHITESPACE","    ",809],["T_VARIABLE","$assert_session",809],["T_WHITESPACE"," ",809],"=",["T_WHITESPACE"," ",809],["T_VARIABLE","$this",809],["T_OBJECT_OPERATOR","->",809],["T_STRING","assertSession",809],"(",")",";",["T_WHITESPACE","\n    ",809],["T_VARIABLE","$this",810],["T_OBJECT_OPERATOR","->",810],["T_STRING","drupalGet",810],"(",["T_CONSTANT_ENCAPSED_STRING","'user\/logout'",810],",",["T_WHITESPACE"," ",810],["T_ARRAY","array",810],"(",["T_CONSTANT_ENCAPSED_STRING","'query'",810],["T_WHITESPACE"," ",810],["T_DOUBLE_ARROW","=>",810],["T_WHITESPACE"," ",810],["T_ARRAY","array",810],"(",["T_CONSTANT_ENCAPSED_STRING","'destination'",810],["T_WHITESPACE"," ",810],["T_DOUBLE_ARROW","=>",810],["T_WHITESPACE"," ",810],["T_CONSTANT_ENCAPSED_STRING","'user'",810],")",")",")",";",["T_WHITESPACE","\n    ",810],["T_VARIABLE","$assert_session",811],["T_OBJECT_OPERATOR","->",811],["T_STRING","statusCodeEquals",811],"(",["T_LNUMBER","200",811],")",";",["T_WHITESPACE","\n    ",811],["T_VARIABLE","$assert_session",812],["T_OBJECT_OPERATOR","->",812],["T_STRING","fieldExists",812],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",812],")",";",["T_WHITESPACE","\n    ",812],["T_VARIABLE","$assert_session",813],["T_OBJECT_OPERATOR","->",813],["T_STRING","fieldExists",813],"(",["T_CONSTANT_ENCAPSED_STRING","'pass'",813],")",";",["T_WHITESPACE","\n\n    ",813],["T_COMMENT","\/\/ @see BrowserTestBase::drupalUserIsLoggedIn()\n",815],["T_WHITESPACE","    ",816],["T_UNSET","unset",816],"(",["T_VARIABLE","$this",816],["T_OBJECT_OPERATOR","->",816],["T_STRING","loggedInUser",816],["T_OBJECT_OPERATOR","->",816],["T_STRING","sessionId",816],")",";",["T_WHITESPACE","\n    ",816],["T_VARIABLE","$this",817],["T_OBJECT_OPERATOR","->",817],["T_STRING","loggedInUser",817],["T_WHITESPACE"," ",817],"=",["T_WHITESPACE"," ",817],["T_STRING","FALSE",817],";",["T_WHITESPACE","\n    ",817],["T_VARIABLE","$this",818],["T_OBJECT_OPERATOR","->",818],["T_STRING","container",818],["T_OBJECT_OPERATOR","->",818],["T_STRING","get",818],"(",["T_CONSTANT_ENCAPSED_STRING","'current_user'",818],")",["T_OBJECT_OPERATOR","->",818],["T_STRING","setAccount",818],"(",["T_NEW","new",818],["T_WHITESPACE"," ",818],["T_STRING","AnonymousUserSession",818],"(",")",")",";",["T_WHITESPACE","\n  ",818],"}",["T_WHITESPACE","\n\n  ",819],["T_DOC_COMMENT","\/**\n   * Fills and submits a form.\n   *\n   * @param array $edit\n   *   Field data in an associative array. Changes the current input fields\n   *   (where possible) to the values indicated.\n   *\n   *   A checkbox can be set to TRUE to be checked and should be set to FALSE to\n   *   be unchecked.\n   * @param string $submit\n   *   Value of the submit button whose click is to be emulated. For example,\n   *   t('Save'). The processing of the request depends on this value. For\n   *   example, a form may have one button with the value t('Save') and another\n   *   button with the value t('Delete'), and execute different code depending\n   *   on which one is clicked.\n   * @param string $form_html_id\n   *   (optional) HTML ID of the form to be submitted. On some pages\n   *   there are many identical forms, so just using the value of the submit\n   *   button is not enough. For example: 'trigger-node-presave-assign-form'.\n   *   Note that this is not the Drupal $form_id, but rather the HTML ID of the\n   *   form, which is typically the same thing but with hyphens replacing the\n   *   underscores.\n   *\/",821],["T_WHITESPACE","\n  ",843],["T_PROTECTED","protected",844],["T_WHITESPACE"," ",844],["T_FUNCTION","function",844],["T_WHITESPACE"," ",844],["T_STRING","submitForm",844],"(",["T_ARRAY","array",844],["T_WHITESPACE"," ",844],["T_VARIABLE","$edit",844],",",["T_WHITESPACE"," ",844],["T_VARIABLE","$submit",844],",",["T_WHITESPACE"," ",844],["T_VARIABLE","$form_html_id",844],["T_WHITESPACE"," ",844],"=",["T_WHITESPACE"," ",844],["T_STRING","NULL",844],")",["T_WHITESPACE"," ",844],"{",["T_WHITESPACE","\n    ",844],["T_VARIABLE","$assert_session",845],["T_WHITESPACE"," ",845],"=",["T_WHITESPACE"," ",845],["T_VARIABLE","$this",845],["T_OBJECT_OPERATOR","->",845],["T_STRING","assertSession",845],"(",")",";",["T_WHITESPACE","\n\n    ",845],["T_COMMENT","\/\/ Get the form.\n",847],["T_WHITESPACE","    ",848],["T_IF","if",848],["T_WHITESPACE"," ",848],"(",["T_ISSET","isset",848],"(",["T_VARIABLE","$form_html_id",848],")",")",["T_WHITESPACE"," ",848],"{",["T_WHITESPACE","\n      ",848],["T_VARIABLE","$form",849],["T_WHITESPACE"," ",849],"=",["T_WHITESPACE"," ",849],["T_VARIABLE","$assert_session",849],["T_OBJECT_OPERATOR","->",849],["T_STRING","elementExists",849],"(",["T_CONSTANT_ENCAPSED_STRING","'xpath'",849],",",["T_WHITESPACE"," ",849],"\"",["T_ENCAPSED_AND_WHITESPACE","\/\/form[@id='",849],["T_VARIABLE","$form_html_id",849],["T_ENCAPSED_AND_WHITESPACE","']",849],"\"",")",";",["T_WHITESPACE","\n      ",849],["T_VARIABLE","$submit_button",850],["T_WHITESPACE"," ",850],"=",["T_WHITESPACE"," ",850],["T_VARIABLE","$assert_session",850],["T_OBJECT_OPERATOR","->",850],["T_STRING","buttonExists",850],"(",["T_VARIABLE","$submit",850],",",["T_WHITESPACE"," ",850],["T_VARIABLE","$form",850],")",";",["T_WHITESPACE","\n      ",850],["T_VARIABLE","$action",851],["T_WHITESPACE"," ",851],"=",["T_WHITESPACE"," ",851],["T_VARIABLE","$form",851],["T_OBJECT_OPERATOR","->",851],["T_STRING","getAttribute",851],"(",["T_CONSTANT_ENCAPSED_STRING","'action'",851],")",";",["T_WHITESPACE","\n    ",851],"}",["T_WHITESPACE","\n    ",852],["T_ELSE","else",853],["T_WHITESPACE"," ",853],"{",["T_WHITESPACE","\n      ",853],["T_VARIABLE","$submit_button",854],["T_WHITESPACE"," ",854],"=",["T_WHITESPACE"," ",854],["T_VARIABLE","$assert_session",854],["T_OBJECT_OPERATOR","->",854],["T_STRING","buttonExists",854],"(",["T_VARIABLE","$submit",854],")",";",["T_WHITESPACE","\n      ",854],["T_VARIABLE","$form",855],["T_WHITESPACE"," ",855],"=",["T_WHITESPACE"," ",855],["T_VARIABLE","$assert_session",855],["T_OBJECT_OPERATOR","->",855],["T_STRING","elementExists",855],"(",["T_CONSTANT_ENCAPSED_STRING","'xpath'",855],",",["T_WHITESPACE"," ",855],["T_CONSTANT_ENCAPSED_STRING","'.\/ancestor::form'",855],",",["T_WHITESPACE"," ",855],["T_VARIABLE","$submit_button",855],")",";",["T_WHITESPACE","\n      ",855],["T_VARIABLE","$action",856],["T_WHITESPACE"," ",856],"=",["T_WHITESPACE"," ",856],["T_VARIABLE","$form",856],["T_OBJECT_OPERATOR","->",856],["T_STRING","getAttribute",856],"(",["T_CONSTANT_ENCAPSED_STRING","'action'",856],")",";",["T_WHITESPACE","\n    ",856],"}",["T_WHITESPACE","\n\n    ",857],["T_COMMENT","\/\/ Edit the form values.\n",859],["T_WHITESPACE","    ",860],["T_FOREACH","foreach",860],["T_WHITESPACE"," ",860],"(",["T_VARIABLE","$edit",860],["T_WHITESPACE"," ",860],["T_AS","as",860],["T_WHITESPACE"," ",860],["T_VARIABLE","$name",860],["T_WHITESPACE"," ",860],["T_DOUBLE_ARROW","=>",860],["T_WHITESPACE"," ",860],["T_VARIABLE","$value",860],")",["T_WHITESPACE"," ",860],"{",["T_WHITESPACE","\n      ",860],["T_VARIABLE","$field",861],["T_WHITESPACE"," ",861],"=",["T_WHITESPACE"," ",861],["T_VARIABLE","$assert_session",861],["T_OBJECT_OPERATOR","->",861],["T_STRING","fieldExists",861],"(",["T_VARIABLE","$name",861],",",["T_WHITESPACE"," ",861],["T_VARIABLE","$form",861],")",";",["T_WHITESPACE","\n\n      ",861],["T_COMMENT","\/\/ Provide support for the values '1' and '0' for checkboxes instead of\n",863],["T_WHITESPACE","      ",864],["T_COMMENT","\/\/ TRUE and FALSE.\n",864],["T_WHITESPACE","      ",865],["T_COMMENT","\/\/ @todo Get rid of supporting 1\/0 by converting all tests cases using\n",865],["T_WHITESPACE","      ",866],["T_COMMENT","\/\/ this to boolean values.\n",866],["T_WHITESPACE","      ",867],["T_VARIABLE","$field_type",867],["T_WHITESPACE"," ",867],"=",["T_WHITESPACE"," ",867],["T_VARIABLE","$field",867],["T_OBJECT_OPERATOR","->",867],["T_STRING","getAttribute",867],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",867],")",";",["T_WHITESPACE","\n      ",867],["T_IF","if",868],["T_WHITESPACE"," ",868],"(",["T_VARIABLE","$field_type",868],["T_WHITESPACE"," ",868],["T_IS_IDENTICAL","===",868],["T_WHITESPACE"," ",868],["T_CONSTANT_ENCAPSED_STRING","'checkbox'",868],")",["T_WHITESPACE"," ",868],"{",["T_WHITESPACE","\n        ",868],["T_VARIABLE","$value",869],["T_WHITESPACE"," ",869],"=",["T_WHITESPACE"," ",869],["T_BOOL_CAST","(bool)",869],["T_WHITESPACE"," ",869],["T_VARIABLE","$value",869],";",["T_WHITESPACE","\n      ",869],"}",["T_WHITESPACE","\n\n      ",870],["T_VARIABLE","$field",872],["T_OBJECT_OPERATOR","->",872],["T_STRING","setValue",872],"(",["T_VARIABLE","$value",872],")",";",["T_WHITESPACE","\n    ",872],"}",["T_WHITESPACE","\n\n    ",873],["T_COMMENT","\/\/ Submit form.\n",875],["T_WHITESPACE","    ",876],["T_VARIABLE","$this",876],["T_OBJECT_OPERATOR","->",876],["T_STRING","prepareRequest",876],"(",")",";",["T_WHITESPACE","\n    ",876],["T_VARIABLE","$submit_button",877],["T_OBJECT_OPERATOR","->",877],["T_STRING","press",877],"(",")",";",["T_WHITESPACE","\n\n    ",877],["T_COMMENT","\/\/ Ensure that any changes to variables in the other thread are picked up.\n",879],["T_WHITESPACE","    ",880],["T_VARIABLE","$this",880],["T_OBJECT_OPERATOR","->",880],["T_STRING","refreshVariables",880],"(",")",";",["T_WHITESPACE","\n    ",880],["T_IF","if",881],["T_WHITESPACE"," ",881],"(",["T_VARIABLE","$this",881],["T_OBJECT_OPERATOR","->",881],["T_STRING","htmlOutputEnabled",881],")",["T_WHITESPACE"," ",881],"{",["T_WHITESPACE","\n      ",881],["T_VARIABLE","$out",882],["T_WHITESPACE"," ",882],"=",["T_WHITESPACE"," ",882],["T_VARIABLE","$this",882],["T_OBJECT_OPERATOR","->",882],["T_STRING","getSession",882],"(",")",["T_OBJECT_OPERATOR","->",882],["T_STRING","getPage",882],"(",")",["T_OBJECT_OPERATOR","->",882],["T_STRING","getContent",882],"(",")",";",["T_WHITESPACE","\n      ",882],["T_VARIABLE","$html_output",883],["T_WHITESPACE"," ",883],"=",["T_WHITESPACE"," ",883],["T_CONSTANT_ENCAPSED_STRING","'POST request to: '",883],["T_WHITESPACE"," ",883],".",["T_WHITESPACE"," ",883],["T_VARIABLE","$action",883],["T_WHITESPACE"," ",883],".",["T_WHITESPACE","\n        ",883],["T_CONSTANT_ENCAPSED_STRING","'<hr \/>Ending URL: '",884],["T_WHITESPACE"," ",884],".",["T_WHITESPACE"," ",884],["T_VARIABLE","$this",884],["T_OBJECT_OPERATOR","->",884],["T_STRING","getSession",884],"(",")",["T_OBJECT_OPERATOR","->",884],["T_STRING","getCurrentUrl",884],"(",")",";",["T_WHITESPACE","\n      ",884],["T_VARIABLE","$html_output",885],["T_WHITESPACE"," ",885],["T_CONCAT_EQUAL",".=",885],["T_WHITESPACE"," ",885],["T_CONSTANT_ENCAPSED_STRING","'<hr \/>'",885],["T_WHITESPACE"," ",885],".",["T_WHITESPACE"," ",885],["T_VARIABLE","$out",885],";",["T_WHITESPACE","\n      ",885],["T_VARIABLE","$html_output",886],["T_WHITESPACE"," ",886],["T_CONCAT_EQUAL",".=",886],["T_WHITESPACE"," ",886],["T_VARIABLE","$this",886],["T_OBJECT_OPERATOR","->",886],["T_STRING","getHtmlOutputHeaders",886],"(",")",";",["T_WHITESPACE","\n      ",886],["T_VARIABLE","$this",887],["T_OBJECT_OPERATOR","->",887],["T_STRING","htmlOutput",887],"(",["T_VARIABLE","$html_output",887],")",";",["T_WHITESPACE","\n    ",887],"}",["T_WHITESPACE","\n  ",888],"}",["T_WHITESPACE","\n\n  ",889],["T_DOC_COMMENT","\/**\n   * Executes a form submission.\n   *\n   * It will be done as usual POST request with Mink.\n   *\n   * @param \\Drupal\\Core\\Url|string $path\n   *   Location of the post form. Either a Drupal path or an absolute path or\n   *   NULL to post to the current page. For multi-stage forms you can set the\n   *   path to NULL and have it post to the last received page. Example:\n   *\n   *   @code\n   *   \/\/ First step in form.\n   *   $edit = array(...);\n   *   $this->drupalPostForm('some_url', $edit, t('Save'));\n   *\n   *   \/\/ Second step in form.\n   *   $edit = array(...);\n   *   $this->drupalPostForm(NULL, $edit, t('Save'));\n   *   @endcode\n   * @param array $edit\n   *   Field data in an associative array. Changes the current input fields\n   *   (where possible) to the values indicated.\n   *\n   *   When working with form tests, the keys for an $edit element should match\n   *   the 'name' parameter of the HTML of the form. For example, the 'body'\n   *   field for a node has the following HTML:\n   *   @code\n   *   <textarea id=\"edit-body-und-0-value\" class=\"text-full form-textarea\n   *    resize-vertical\" placeholder=\"\" cols=\"60\" rows=\"9\"\n   *    name=\"body[0][value]\"><\/textarea>\n   *   @endcode\n   *   When testing this field using an $edit parameter, the code becomes:\n   *   @code\n   *   $edit[\"body[0][value]\"] = 'My test value';\n   *   @endcode\n   *\n   *   A checkbox can be set to TRUE to be checked and should be set to FALSE to\n   *   be unchecked. Multiple select fields can be tested using 'name[]' and\n   *   setting each of the desired values in an array:\n   *   @code\n   *   $edit = array();\n   *   $edit['name[]'] = array('value1', 'value2');\n   *   @endcode\n   * @param string $submit\n   *   Value of the submit button whose click is to be emulated. For example,\n   *   t('Save'). The processing of the request depends on this value. For\n   *   example, a form may have one button with the value t('Save') and another\n   *   button with the value t('Delete'), and execute different code depending\n   *   on which one is clicked.\n   *\n   *   This function can also be called to emulate an Ajax submission. In this\n   *   case, this value needs to be an array with the following keys:\n   *   - path: A path to submit the form values to for Ajax-specific processing.\n   *   - triggering_element: If the value for the 'path' key is a generic Ajax\n   *     processing path, this needs to be set to the name of the element. If\n   *     the name doesn't identify the element uniquely, then this should\n   *     instead be an array with a single key\/value pair, corresponding to the\n   *     element name and value. The \\Drupal\\Core\\Form\\FormAjaxResponseBuilder\n   *     uses this to find the #ajax information for the element, including\n   *     which specific callback to use for processing the request.\n   *\n   *   This can also be set to NULL in order to emulate an Internet Explorer\n   *   submission of a form with a single text field, and pressing ENTER in that\n   *   textfield: under these conditions, no button information is added to the\n   *   POST data.\n   * @param array $options\n   *   Options to be forwarded to the url generator.\n   *\/",891],["T_WHITESPACE","\n  ",958],["T_PROTECTED","protected",959],["T_WHITESPACE"," ",959],["T_FUNCTION","function",959],["T_WHITESPACE"," ",959],["T_STRING","drupalPostForm",959],"(",["T_VARIABLE","$path",959],",",["T_WHITESPACE"," ",959],["T_ARRAY","array",959],["T_WHITESPACE"," ",959],["T_VARIABLE","$edit",959],",",["T_WHITESPACE"," ",959],["T_VARIABLE","$submit",959],",",["T_WHITESPACE"," ",959],["T_ARRAY","array",959],["T_WHITESPACE"," ",959],["T_VARIABLE","$options",959],["T_WHITESPACE"," ",959],"=",["T_WHITESPACE"," ",959],["T_ARRAY","array",959],"(",")",")",["T_WHITESPACE"," ",959],"{",["T_WHITESPACE","\n    ",959],["T_IF","if",960],["T_WHITESPACE"," ",960],"(",["T_STRING","is_object",960],"(",["T_VARIABLE","$submit",960],")",")",["T_WHITESPACE"," ",960],"{",["T_WHITESPACE","\n      ",960],["T_COMMENT","\/\/ Cast MarkupInterface objects to string.\n",961],["T_WHITESPACE","      ",962],["T_VARIABLE","$submit",962],["T_WHITESPACE"," ",962],"=",["T_WHITESPACE"," ",962],["T_STRING_CAST","(string)",962],["T_WHITESPACE"," ",962],["T_VARIABLE","$submit",962],";",["T_WHITESPACE","\n    ",962],"}",["T_WHITESPACE","\n    ",963],["T_IF","if",964],["T_WHITESPACE"," ",964],"(",["T_STRING","is_array",964],"(",["T_VARIABLE","$edit",964],")",")",["T_WHITESPACE"," ",964],"{",["T_WHITESPACE","\n      ",964],["T_VARIABLE","$edit",965],["T_WHITESPACE"," ",965],"=",["T_WHITESPACE"," ",965],["T_VARIABLE","$this",965],["T_OBJECT_OPERATOR","->",965],["T_STRING","castSafeStrings",965],"(",["T_VARIABLE","$edit",965],")",";",["T_WHITESPACE","\n    ",965],"}",["T_WHITESPACE","\n\n    ",966],["T_IF","if",968],["T_WHITESPACE"," ",968],"(",["T_ISSET","isset",968],"(",["T_VARIABLE","$path",968],")",")",["T_WHITESPACE"," ",968],"{",["T_WHITESPACE","\n      ",968],["T_VARIABLE","$this",969],["T_OBJECT_OPERATOR","->",969],["T_STRING","drupalGet",969],"(",["T_VARIABLE","$path",969],",",["T_WHITESPACE"," ",969],["T_VARIABLE","$options",969],")",";",["T_WHITESPACE","\n    ",969],"}",["T_WHITESPACE","\n\n    ",970],["T_VARIABLE","$this",972],["T_OBJECT_OPERATOR","->",972],["T_STRING","submitForm",972],"(",["T_VARIABLE","$edit",972],",",["T_WHITESPACE"," ",972],["T_VARIABLE","$submit",972],")",";",["T_WHITESPACE","\n  ",972],"}",["T_WHITESPACE","\n\n  ",973],["T_DOC_COMMENT","\/**\n   * Helper function to get the options of select field.\n   *\n   * @param \\Behat\\Mink\\Element\\NodeElement|string $select\n   *   Name, ID, or Label of select field to assert.\n   * @param \\Behat\\Mink\\Element\\Element $container\n   *   (optional) Container element to check against. Defaults to current page.\n   *\n   * @return array\n   *   Associative array of option keys and values.\n   *\/",975],["T_WHITESPACE","\n  ",985],["T_PROTECTED","protected",986],["T_WHITESPACE"," ",986],["T_FUNCTION","function",986],["T_WHITESPACE"," ",986],["T_STRING","getOptions",986],"(",["T_VARIABLE","$select",986],",",["T_WHITESPACE"," ",986],["T_STRING","Element",986],["T_WHITESPACE"," ",986],["T_VARIABLE","$container",986],["T_WHITESPACE"," ",986],"=",["T_WHITESPACE"," ",986],["T_STRING","NULL",986],")",["T_WHITESPACE"," ",986],"{",["T_WHITESPACE","\n    ",986],["T_IF","if",987],["T_WHITESPACE"," ",987],"(",["T_STRING","is_string",987],"(",["T_VARIABLE","$select",987],")",")",["T_WHITESPACE"," ",987],"{",["T_WHITESPACE","\n      ",987],["T_VARIABLE","$select",988],["T_WHITESPACE"," ",988],"=",["T_WHITESPACE"," ",988],["T_VARIABLE","$this",988],["T_OBJECT_OPERATOR","->",988],["T_STRING","assertSession",988],"(",")",["T_OBJECT_OPERATOR","->",988],["T_STRING","selectExists",988],"(",["T_VARIABLE","$select",988],",",["T_WHITESPACE"," ",988],["T_VARIABLE","$container",988],")",";",["T_WHITESPACE","\n    ",988],"}",["T_WHITESPACE","\n    ",989],["T_VARIABLE","$options",990],["T_WHITESPACE"," ",990],"=",["T_WHITESPACE"," ",990],"[","]",";",["T_WHITESPACE","\n    ",990],["T_COMMENT","\/* @var \\Behat\\Mink\\Element\\NodeElement $option *\/",991],["T_WHITESPACE","\n    ",991],["T_FOREACH","foreach",992],["T_WHITESPACE"," ",992],"(",["T_VARIABLE","$select",992],["T_OBJECT_OPERATOR","->",992],["T_STRING","findAll",992],"(",["T_CONSTANT_ENCAPSED_STRING","'xpath'",992],",",["T_WHITESPACE"," ",992],["T_CONSTANT_ENCAPSED_STRING","'\/\/option'",992],")",["T_WHITESPACE"," ",992],["T_AS","as",992],["T_WHITESPACE"," ",992],["T_VARIABLE","$option",992],")",["T_WHITESPACE"," ",992],"{",["T_WHITESPACE","\n      ",992],["T_VARIABLE","$label",993],["T_WHITESPACE"," ",993],"=",["T_WHITESPACE"," ",993],["T_VARIABLE","$option",993],["T_OBJECT_OPERATOR","->",993],["T_STRING","getText",993],"(",")",";",["T_WHITESPACE","\n      ",993],["T_VARIABLE","$value",994],["T_WHITESPACE"," ",994],"=",["T_WHITESPACE"," ",994],["T_VARIABLE","$option",994],["T_OBJECT_OPERATOR","->",994],["T_STRING","getAttribute",994],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",994],")",["T_WHITESPACE"," ",994],"?",":",["T_WHITESPACE"," ",994],["T_VARIABLE","$label",994],";",["T_WHITESPACE","\n      ",994],["T_VARIABLE","$options",995],"[",["T_VARIABLE","$value",995],"]",["T_WHITESPACE"," ",995],"=",["T_WHITESPACE"," ",995],["T_VARIABLE","$label",995],";",["T_WHITESPACE","\n    ",995],"}",["T_WHITESPACE","\n    ",996],["T_RETURN","return",997],["T_WHITESPACE"," ",997],["T_VARIABLE","$options",997],";",["T_WHITESPACE","\n  ",997],"}",["T_WHITESPACE","\n\n  ",998],["T_DOC_COMMENT","\/**\n   * Installs Drupal into the Simpletest site.\n   *\/",1000],["T_WHITESPACE","\n  ",1002],["T_PUBLIC","public",1003],["T_WHITESPACE"," ",1003],["T_FUNCTION","function",1003],["T_WHITESPACE"," ",1003],["T_STRING","installDrupal",1003],"(",")",["T_WHITESPACE"," ",1003],"{",["T_WHITESPACE","\n    ",1003],["T_COMMENT","\/\/ Define information about the user 1 account.\n",1004],["T_WHITESPACE","    ",1005],["T_VARIABLE","$this",1005],["T_OBJECT_OPERATOR","->",1005],["T_STRING","rootUser",1005],["T_WHITESPACE"," ",1005],"=",["T_WHITESPACE"," ",1005],["T_NEW","new",1005],["T_WHITESPACE"," ",1005],["T_STRING","UserSession",1005],"(",["T_ARRAY","array",1005],"(",["T_WHITESPACE","\n      ",1005],["T_CONSTANT_ENCAPSED_STRING","'uid'",1006],["T_WHITESPACE"," ",1006],["T_DOUBLE_ARROW","=>",1006],["T_WHITESPACE"," ",1006],["T_LNUMBER","1",1006],",",["T_WHITESPACE","\n      ",1006],["T_CONSTANT_ENCAPSED_STRING","'name'",1007],["T_WHITESPACE"," ",1007],["T_DOUBLE_ARROW","=>",1007],["T_WHITESPACE"," ",1007],["T_CONSTANT_ENCAPSED_STRING","'admin'",1007],",",["T_WHITESPACE","\n      ",1007],["T_CONSTANT_ENCAPSED_STRING","'mail'",1008],["T_WHITESPACE"," ",1008],["T_DOUBLE_ARROW","=>",1008],["T_WHITESPACE"," ",1008],["T_CONSTANT_ENCAPSED_STRING","'admin@example.com'",1008],",",["T_WHITESPACE","\n      ",1008],["T_CONSTANT_ENCAPSED_STRING","'passRaw'",1009],["T_WHITESPACE"," ",1009],["T_DOUBLE_ARROW","=>",1009],["T_WHITESPACE"," ",1009],["T_VARIABLE","$this",1009],["T_OBJECT_OPERATOR","->",1009],["T_STRING","randomMachineName",1009],"(",")",",",["T_WHITESPACE","\n    ",1009],")",")",";",["T_WHITESPACE","\n\n    ",1010],["T_COMMENT","\/\/ The child site derives its session name from the database prefix when\n",1012],["T_WHITESPACE","    ",1013],["T_COMMENT","\/\/ running web tests.\n",1013],["T_WHITESPACE","    ",1014],["T_VARIABLE","$this",1014],["T_OBJECT_OPERATOR","->",1014],["T_STRING","generateSessionName",1014],"(",["T_VARIABLE","$this",1014],["T_OBJECT_OPERATOR","->",1014],["T_STRING","databasePrefix",1014],")",";",["T_WHITESPACE","\n\n    ",1014],["T_COMMENT","\/\/ Get parameters for install_drupal() before removing global variables.\n",1016],["T_WHITESPACE","    ",1017],["T_VARIABLE","$parameters",1017],["T_WHITESPACE"," ",1017],"=",["T_WHITESPACE"," ",1017],["T_VARIABLE","$this",1017],["T_OBJECT_OPERATOR","->",1017],["T_STRING","installParameters",1017],"(",")",";",["T_WHITESPACE","\n\n    ",1017],["T_COMMENT","\/\/ Prepare installer settings that are not install_drupal() parameters.\n",1019],["T_WHITESPACE","    ",1020],["T_COMMENT","\/\/ Copy and prepare an actual settings.php, so as to resemble a regular\n",1020],["T_WHITESPACE","    ",1021],["T_COMMENT","\/\/ installation.\n",1021],["T_WHITESPACE","    ",1022],["T_COMMENT","\/\/ Not using File API; a potential error must trigger a PHP warning.\n",1022],["T_WHITESPACE","    ",1023],["T_VARIABLE","$directory",1023],["T_WHITESPACE"," ",1023],"=",["T_WHITESPACE"," ",1023],["T_STRING","DRUPAL_ROOT",1023],["T_WHITESPACE"," ",1023],".",["T_WHITESPACE"," ",1023],["T_CONSTANT_ENCAPSED_STRING","'\/'",1023],["T_WHITESPACE"," ",1023],".",["T_WHITESPACE"," ",1023],["T_VARIABLE","$this",1023],["T_OBJECT_OPERATOR","->",1023],["T_STRING","siteDirectory",1023],";",["T_WHITESPACE","\n    ",1023],["T_STRING","copy",1024],"(",["T_STRING","DRUPAL_ROOT",1024],["T_WHITESPACE"," ",1024],".",["T_WHITESPACE"," ",1024],["T_CONSTANT_ENCAPSED_STRING","'\/sites\/default\/default.settings.php'",1024],",",["T_WHITESPACE"," ",1024],["T_VARIABLE","$directory",1024],["T_WHITESPACE"," ",1024],".",["T_WHITESPACE"," ",1024],["T_CONSTANT_ENCAPSED_STRING","'\/settings.php'",1024],")",";",["T_WHITESPACE","\n\n    ",1024],["T_COMMENT","\/\/ The public file system path is created during installation. Additionally,\n",1026],["T_WHITESPACE","    ",1027],["T_COMMENT","\/\/ during tests:\n",1027],["T_WHITESPACE","    ",1028],["T_COMMENT","\/\/ - The temporary directory is set and created by install_base_system().\n",1028],["T_WHITESPACE","    ",1029],["T_COMMENT","\/\/ - The private file directory is created post install by this method.\n",1029],["T_WHITESPACE","    ",1030],["T_COMMENT","\/\/ @see system_requirements()\n",1030],["T_WHITESPACE","    ",1031],["T_COMMENT","\/\/ @see TestBase::prepareEnvironment()\n",1031],["T_WHITESPACE","    ",1032],["T_COMMENT","\/\/ @see install_base_system()\n",1032],["T_WHITESPACE","    ",1033],["T_VARIABLE","$settings",1033],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",1033],"]","[",["T_CONSTANT_ENCAPSED_STRING","'file_public_path'",1033],"]",["T_WHITESPACE"," ",1033],"=",["T_WHITESPACE"," ",1033],["T_OBJECT_CAST","(object)",1033],["T_WHITESPACE"," ",1033],["T_ARRAY","array",1033],"(",["T_WHITESPACE","\n      ",1033],["T_CONSTANT_ENCAPSED_STRING","'value'",1034],["T_WHITESPACE"," ",1034],["T_DOUBLE_ARROW","=>",1034],["T_WHITESPACE"," ",1034],["T_VARIABLE","$this",1034],["T_OBJECT_OPERATOR","->",1034],["T_STRING","publicFilesDirectory",1034],",",["T_WHITESPACE","\n      ",1034],["T_CONSTANT_ENCAPSED_STRING","'required'",1035],["T_WHITESPACE"," ",1035],["T_DOUBLE_ARROW","=>",1035],["T_WHITESPACE"," ",1035],["T_STRING","TRUE",1035],",",["T_WHITESPACE","\n    ",1035],")",";",["T_WHITESPACE","\n    ",1036],["T_VARIABLE","$settings",1037],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",1037],"]","[",["T_CONSTANT_ENCAPSED_STRING","'file_private_path'",1037],"]",["T_WHITESPACE"," ",1037],"=",["T_WHITESPACE"," ",1037],["T_OBJECT_CAST","(object)",1037],["T_WHITESPACE"," ",1037],"[",["T_WHITESPACE","\n      ",1037],["T_CONSTANT_ENCAPSED_STRING","'value'",1038],["T_WHITESPACE"," ",1038],["T_DOUBLE_ARROW","=>",1038],["T_WHITESPACE"," ",1038],["T_VARIABLE","$this",1038],["T_OBJECT_OPERATOR","->",1038],["T_STRING","privateFilesDirectory",1038],",",["T_WHITESPACE","\n      ",1038],["T_CONSTANT_ENCAPSED_STRING","'required'",1039],["T_WHITESPACE"," ",1039],["T_DOUBLE_ARROW","=>",1039],["T_WHITESPACE"," ",1039],["T_STRING","TRUE",1039],",",["T_WHITESPACE","\n    ",1039],"]",";",["T_WHITESPACE","\n    ",1040],["T_VARIABLE","$this",1041],["T_OBJECT_OPERATOR","->",1041],["T_STRING","writeSettings",1041],"(",["T_VARIABLE","$settings",1041],")",";",["T_WHITESPACE","\n    ",1041],["T_COMMENT","\/\/ Allow for test-specific overrides.\n",1042],["T_WHITESPACE","    ",1043],["T_VARIABLE","$settings_testing_file",1043],["T_WHITESPACE"," ",1043],"=",["T_WHITESPACE"," ",1043],["T_STRING","DRUPAL_ROOT",1043],["T_WHITESPACE"," ",1043],".",["T_WHITESPACE"," ",1043],["T_CONSTANT_ENCAPSED_STRING","'\/'",1043],["T_WHITESPACE"," ",1043],".",["T_WHITESPACE"," ",1043],["T_VARIABLE","$this",1043],["T_OBJECT_OPERATOR","->",1043],["T_STRING","originalSiteDirectory",1043],["T_WHITESPACE"," ",1043],".",["T_WHITESPACE"," ",1043],["T_CONSTANT_ENCAPSED_STRING","'\/settings.testing.php'",1043],";",["T_WHITESPACE","\n    ",1043],["T_IF","if",1044],["T_WHITESPACE"," ",1044],"(",["T_STRING","file_exists",1044],"(",["T_VARIABLE","$settings_testing_file",1044],")",")",["T_WHITESPACE"," ",1044],"{",["T_WHITESPACE","\n      ",1044],["T_COMMENT","\/\/ Copy the testing-specific settings.php overrides in place.\n",1045],["T_WHITESPACE","      ",1046],["T_STRING","copy",1046],"(",["T_VARIABLE","$settings_testing_file",1046],",",["T_WHITESPACE"," ",1046],["T_VARIABLE","$directory",1046],["T_WHITESPACE"," ",1046],".",["T_WHITESPACE"," ",1046],["T_CONSTANT_ENCAPSED_STRING","'\/settings.testing.php'",1046],")",";",["T_WHITESPACE","\n      ",1046],["T_COMMENT","\/\/ Add the name of the testing class to settings.php and include the\n",1047],["T_WHITESPACE","      ",1048],["T_COMMENT","\/\/ testing specific overrides.\n",1048],["T_WHITESPACE","      ",1049],["T_STRING","file_put_contents",1049],"(",["T_VARIABLE","$directory",1049],["T_WHITESPACE"," ",1049],".",["T_WHITESPACE"," ",1049],["T_CONSTANT_ENCAPSED_STRING","'\/settings.php'",1049],",",["T_WHITESPACE"," ",1049],["T_CONSTANT_ENCAPSED_STRING","\"\\n\\$test_class = '\"",1049],["T_WHITESPACE"," ",1049],".",["T_WHITESPACE"," ",1049],["T_STRING","get_class",1049],"(",["T_VARIABLE","$this",1049],")",["T_WHITESPACE"," ",1049],".",["T_WHITESPACE"," ",1049],["T_CONSTANT_ENCAPSED_STRING","\"';\\n\"",1049],["T_WHITESPACE"," ",1049],".",["T_WHITESPACE"," ",1049],["T_CONSTANT_ENCAPSED_STRING","'include DRUPAL_ROOT . \\'\/\\' . $site_path . \\'\/settings.testing.php\\';'",1049],["T_WHITESPACE"," ",1049],".",["T_WHITESPACE"," ",1049],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",1049],",",["T_WHITESPACE"," ",1049],["T_STRING","FILE_APPEND",1049],")",";",["T_WHITESPACE","\n    ",1049],"}",["T_WHITESPACE","\n\n    ",1050],["T_VARIABLE","$settings_services_file",1052],["T_WHITESPACE"," ",1052],"=",["T_WHITESPACE"," ",1052],["T_STRING","DRUPAL_ROOT",1052],["T_WHITESPACE"," ",1052],".",["T_WHITESPACE"," ",1052],["T_CONSTANT_ENCAPSED_STRING","'\/'",1052],["T_WHITESPACE"," ",1052],".",["T_WHITESPACE"," ",1052],["T_VARIABLE","$this",1052],["T_OBJECT_OPERATOR","->",1052],["T_STRING","originalSiteDirectory",1052],["T_WHITESPACE"," ",1052],".",["T_WHITESPACE"," ",1052],["T_CONSTANT_ENCAPSED_STRING","'\/testing.services.yml'",1052],";",["T_WHITESPACE","\n    ",1052],["T_IF","if",1053],["T_WHITESPACE"," ",1053],"(","!",["T_STRING","file_exists",1053],"(",["T_VARIABLE","$settings_services_file",1053],")",")",["T_WHITESPACE"," ",1053],"{",["T_WHITESPACE","\n      ",1053],["T_COMMENT","\/\/ Otherwise, use the default services as a starting point for overrides.\n",1054],["T_WHITESPACE","      ",1055],["T_VARIABLE","$settings_services_file",1055],["T_WHITESPACE"," ",1055],"=",["T_WHITESPACE"," ",1055],["T_STRING","DRUPAL_ROOT",1055],["T_WHITESPACE"," ",1055],".",["T_WHITESPACE"," ",1055],["T_CONSTANT_ENCAPSED_STRING","'\/sites\/default\/default.services.yml'",1055],";",["T_WHITESPACE","\n    ",1055],"}",["T_WHITESPACE","\n    ",1056],["T_COMMENT","\/\/ Copy the testing-specific service overrides in place.\n",1057],["T_WHITESPACE","    ",1058],["T_STRING","copy",1058],"(",["T_VARIABLE","$settings_services_file",1058],",",["T_WHITESPACE"," ",1058],["T_VARIABLE","$directory",1058],["T_WHITESPACE"," ",1058],".",["T_WHITESPACE"," ",1058],["T_CONSTANT_ENCAPSED_STRING","'\/services.yml'",1058],")",";",["T_WHITESPACE","\n    ",1058],["T_IF","if",1059],["T_WHITESPACE"," ",1059],"(",["T_VARIABLE","$this",1059],["T_OBJECT_OPERATOR","->",1059],["T_STRING","strictConfigSchema",1059],")",["T_WHITESPACE"," ",1059],"{",["T_WHITESPACE","\n      ",1059],["T_COMMENT","\/\/ Add a listener to validate configuration schema on save.\n",1060],["T_WHITESPACE","      ",1061],["T_VARIABLE","$content",1061],["T_WHITESPACE"," ",1061],"=",["T_WHITESPACE"," ",1061],["T_STRING","file_get_contents",1061],"(",["T_VARIABLE","$directory",1061],["T_WHITESPACE"," ",1061],".",["T_WHITESPACE"," ",1061],["T_CONSTANT_ENCAPSED_STRING","'\/services.yml'",1061],")",";",["T_WHITESPACE","\n      ",1061],["T_VARIABLE","$services",1062],["T_WHITESPACE"," ",1062],"=",["T_WHITESPACE"," ",1062],["T_STRING","Yaml",1062],["T_DOUBLE_COLON","::",1062],["T_STRING","decode",1062],"(",["T_VARIABLE","$content",1062],")",";",["T_WHITESPACE","\n      ",1062],["T_VARIABLE","$services",1063],"[",["T_CONSTANT_ENCAPSED_STRING","'services'",1063],"]","[",["T_CONSTANT_ENCAPSED_STRING","'simpletest.config_schema_checker'",1063],"]",["T_WHITESPACE"," ",1063],"=",["T_WHITESPACE"," ",1063],"[",["T_WHITESPACE","\n        ",1063],["T_CONSTANT_ENCAPSED_STRING","'class'",1064],["T_WHITESPACE"," ",1064],["T_DOUBLE_ARROW","=>",1064],["T_WHITESPACE"," ",1064],["T_STRING","ConfigSchemaChecker",1064],["T_DOUBLE_COLON","::",1064],["T_CLASS","class",1064],",",["T_WHITESPACE","\n        ",1064],["T_CONSTANT_ENCAPSED_STRING","'arguments'",1065],["T_WHITESPACE"," ",1065],["T_DOUBLE_ARROW","=>",1065],["T_WHITESPACE"," ",1065],"[",["T_CONSTANT_ENCAPSED_STRING","'@config.typed'",1065],",",["T_WHITESPACE"," ",1065],["T_VARIABLE","$this",1065],["T_OBJECT_OPERATOR","->",1065],["T_STRING","getConfigSchemaExclusions",1065],"(",")","]",",",["T_WHITESPACE","\n        ",1065],["T_CONSTANT_ENCAPSED_STRING","'tags'",1066],["T_WHITESPACE"," ",1066],["T_DOUBLE_ARROW","=>",1066],["T_WHITESPACE"," ",1066],"[","[",["T_CONSTANT_ENCAPSED_STRING","'name'",1066],["T_WHITESPACE"," ",1066],["T_DOUBLE_ARROW","=>",1066],["T_WHITESPACE"," ",1066],["T_CONSTANT_ENCAPSED_STRING","'event_subscriber'",1066],"]","]",["T_WHITESPACE","\n      ",1066],"]",";",["T_WHITESPACE","\n      ",1067],["T_STRING","file_put_contents",1068],"(",["T_VARIABLE","$directory",1068],["T_WHITESPACE"," ",1068],".",["T_WHITESPACE"," ",1068],["T_CONSTANT_ENCAPSED_STRING","'\/services.yml'",1068],",",["T_WHITESPACE"," ",1068],["T_STRING","Yaml",1068],["T_DOUBLE_COLON","::",1068],["T_STRING","encode",1068],"(",["T_VARIABLE","$services",1068],")",")",";",["T_WHITESPACE","\n    ",1068],"}",["T_WHITESPACE","\n\n    ",1069],["T_COMMENT","\/\/ Since Drupal is bootstrapped already, install_begin_request() will not\n",1071],["T_WHITESPACE","    ",1072],["T_COMMENT","\/\/ bootstrap into DRUPAL_BOOTSTRAP_CONFIGURATION (again). Hence, we have to\n",1072],["T_WHITESPACE","    ",1073],["T_COMMENT","\/\/ reload the newly written custom settings.php manually.\n",1073],["T_WHITESPACE","    ",1074],["T_STRING","Settings",1074],["T_DOUBLE_COLON","::",1074],["T_STRING","initialize",1074],"(",["T_STRING","DRUPAL_ROOT",1074],",",["T_WHITESPACE"," ",1074],["T_VARIABLE","$directory",1074],",",["T_WHITESPACE"," ",1074],["T_VARIABLE","$this",1074],["T_OBJECT_OPERATOR","->",1074],["T_STRING","classLoader",1074],")",";",["T_WHITESPACE","\n\n    ",1074],["T_COMMENT","\/\/ Execute the non-interactive installer.\n",1076],["T_WHITESPACE","    ",1077],["T_REQUIRE_ONCE","require_once",1077],["T_WHITESPACE"," ",1077],["T_STRING","DRUPAL_ROOT",1077],["T_WHITESPACE"," ",1077],".",["T_WHITESPACE"," ",1077],["T_CONSTANT_ENCAPSED_STRING","'\/core\/includes\/install.core.inc'",1077],";",["T_WHITESPACE","\n    ",1077],["T_STRING","install_drupal",1078],"(",["T_VARIABLE","$parameters",1078],")",";",["T_WHITESPACE","\n\n    ",1078],["T_COMMENT","\/\/ Import new settings.php written by the installer.\n",1080],["T_WHITESPACE","    ",1081],["T_STRING","Settings",1081],["T_DOUBLE_COLON","::",1081],["T_STRING","initialize",1081],"(",["T_STRING","DRUPAL_ROOT",1081],",",["T_WHITESPACE"," ",1081],["T_VARIABLE","$directory",1081],",",["T_WHITESPACE"," ",1081],["T_VARIABLE","$this",1081],["T_OBJECT_OPERATOR","->",1081],["T_STRING","classLoader",1081],")",";",["T_WHITESPACE","\n    ",1081],["T_FOREACH","foreach",1082],["T_WHITESPACE"," ",1082],"(",["T_VARIABLE","$GLOBALS",1082],"[",["T_CONSTANT_ENCAPSED_STRING","'config_directories'",1082],"]",["T_WHITESPACE"," ",1082],["T_AS","as",1082],["T_WHITESPACE"," ",1082],["T_VARIABLE","$type",1082],["T_WHITESPACE"," ",1082],["T_DOUBLE_ARROW","=>",1082],["T_WHITESPACE"," ",1082],["T_VARIABLE","$path",1082],")",["T_WHITESPACE"," ",1082],"{",["T_WHITESPACE","\n      ",1082],["T_VARIABLE","$this",1083],["T_OBJECT_OPERATOR","->",1083],["T_STRING","configDirectories",1083],"[",["T_VARIABLE","$type",1083],"]",["T_WHITESPACE"," ",1083],"=",["T_WHITESPACE"," ",1083],["T_VARIABLE","$path",1083],";",["T_WHITESPACE","\n    ",1083],"}",["T_WHITESPACE","\n\n    ",1084],["T_COMMENT","\/\/ After writing settings.php, the installer removes write permissions from\n",1086],["T_WHITESPACE","    ",1087],["T_COMMENT","\/\/ the site directory. To allow drupal_generate_test_ua() to write a file\n",1087],["T_WHITESPACE","    ",1088],["T_COMMENT","\/\/ containing the private key for drupal_valid_test_ua(), the site directory\n",1088],["T_WHITESPACE","    ",1089],["T_COMMENT","\/\/ has to be writable.\n",1089],["T_WHITESPACE","    ",1090],["T_COMMENT","\/\/ TestBase::restoreEnvironment() will delete the entire site directory. Not\n",1090],["T_WHITESPACE","    ",1091],["T_COMMENT","\/\/ using File API; a potential error must trigger a PHP warning.\n",1091],["T_WHITESPACE","    ",1092],["T_STRING","chmod",1092],"(",["T_VARIABLE","$directory",1092],",",["T_WHITESPACE"," ",1092],["T_LNUMBER","0777",1092],")",";",["T_WHITESPACE","\n\n    ",1092],["T_COMMENT","\/\/ During tests, cacheable responses should get the debugging cacheability\n",1094],["T_WHITESPACE","    ",1095],["T_COMMENT","\/\/ headers by default.\n",1095],["T_WHITESPACE","    ",1096],["T_VARIABLE","$this",1096],["T_OBJECT_OPERATOR","->",1096],["T_STRING","setContainerParameter",1096],"(",["T_CONSTANT_ENCAPSED_STRING","'http.response.debug_cacheability_headers'",1096],",",["T_WHITESPACE"," ",1096],["T_STRING","TRUE",1096],")",";",["T_WHITESPACE","\n\n    ",1096],["T_VARIABLE","$request",1098],["T_WHITESPACE"," ",1098],"=",["T_WHITESPACE"," ",1098],["T_NS_SEPARATOR","\\",1098],["T_STRING","Drupal",1098],["T_DOUBLE_COLON","::",1098],["T_STRING","request",1098],"(",")",";",["T_WHITESPACE","\n    ",1098],["T_VARIABLE","$this",1099],["T_OBJECT_OPERATOR","->",1099],["T_STRING","kernel",1099],["T_WHITESPACE"," ",1099],"=",["T_WHITESPACE"," ",1099],["T_STRING","DrupalKernel",1099],["T_DOUBLE_COLON","::",1099],["T_STRING","createFromRequest",1099],"(",["T_VARIABLE","$request",1099],",",["T_WHITESPACE"," ",1099],["T_VARIABLE","$this",1099],["T_OBJECT_OPERATOR","->",1099],["T_STRING","classLoader",1099],",",["T_WHITESPACE"," ",1099],["T_CONSTANT_ENCAPSED_STRING","'prod'",1099],",",["T_WHITESPACE"," ",1099],["T_STRING","TRUE",1099],")",";",["T_WHITESPACE","\n    ",1099],["T_VARIABLE","$this",1100],["T_OBJECT_OPERATOR","->",1100],["T_STRING","kernel",1100],["T_OBJECT_OPERATOR","->",1100],["T_STRING","prepareLegacyRequest",1100],"(",["T_VARIABLE","$request",1100],")",";",["T_WHITESPACE","\n    ",1100],["T_COMMENT","\/\/ Force the container to be built from scratch instead of loaded from the\n",1101],["T_WHITESPACE","    ",1102],["T_COMMENT","\/\/ disk. This forces us to not accidentally load the parent site.\n",1102],["T_WHITESPACE","    ",1103],["T_VARIABLE","$container",1103],["T_WHITESPACE"," ",1103],"=",["T_WHITESPACE"," ",1103],["T_VARIABLE","$this",1103],["T_OBJECT_OPERATOR","->",1103],["T_STRING","kernel",1103],["T_OBJECT_OPERATOR","->",1103],["T_STRING","rebuildContainer",1103],"(",")",";",["T_WHITESPACE","\n\n    ",1103],["T_VARIABLE","$config",1105],["T_WHITESPACE"," ",1105],"=",["T_WHITESPACE"," ",1105],["T_VARIABLE","$container",1105],["T_OBJECT_OPERATOR","->",1105],["T_STRING","get",1105],"(",["T_CONSTANT_ENCAPSED_STRING","'config.factory'",1105],")",";",["T_WHITESPACE","\n\n    ",1105],["T_COMMENT","\/\/ Manually create the private directory.\n",1107],["T_WHITESPACE","    ",1108],["T_STRING","file_prepare_directory",1108],"(",["T_VARIABLE","$this",1108],["T_OBJECT_OPERATOR","->",1108],["T_STRING","privateFilesDirectory",1108],",",["T_WHITESPACE"," ",1108],["T_STRING","FILE_CREATE_DIRECTORY",1108],")",";",["T_WHITESPACE","\n\n    ",1108],["T_COMMENT","\/\/ Manually configure the test mail collector implementation to prevent\n",1110],["T_WHITESPACE","    ",1111],["T_COMMENT","\/\/ tests from sending out emails and collect them in state instead.\n",1111],["T_WHITESPACE","    ",1112],["T_COMMENT","\/\/ While this should be enforced via settings.php prior to installation,\n",1112],["T_WHITESPACE","    ",1113],["T_COMMENT","\/\/ some tests expect to be able to test mail system implementations.\n",1113],["T_WHITESPACE","    ",1114],["T_VARIABLE","$config",1114],["T_OBJECT_OPERATOR","->",1114],["T_STRING","getEditable",1114],"(",["T_CONSTANT_ENCAPSED_STRING","'system.mail'",1114],")",["T_WHITESPACE","\n      ",1114],["T_OBJECT_OPERATOR","->",1115],["T_STRING","set",1115],"(",["T_CONSTANT_ENCAPSED_STRING","'interface.default'",1115],",",["T_WHITESPACE"," ",1115],["T_CONSTANT_ENCAPSED_STRING","'test_mail_collector'",1115],")",["T_WHITESPACE","\n      ",1115],["T_OBJECT_OPERATOR","->",1116],["T_STRING","save",1116],"(",")",";",["T_WHITESPACE","\n\n    ",1116],["T_COMMENT","\/\/ By default, verbosely display all errors and disable all production\n",1118],["T_WHITESPACE","    ",1119],["T_COMMENT","\/\/ environment optimizations for all tests to avoid needless overhead and\n",1119],["T_WHITESPACE","    ",1120],["T_COMMENT","\/\/ ensure a sane default experience for test authors.\n",1120],["T_WHITESPACE","    ",1121],["T_COMMENT","\/\/ @see https:\/\/www.drupal.org\/node\/2259167\n",1121],["T_WHITESPACE","    ",1122],["T_VARIABLE","$config",1122],["T_OBJECT_OPERATOR","->",1122],["T_STRING","getEditable",1122],"(",["T_CONSTANT_ENCAPSED_STRING","'system.logging'",1122],")",["T_WHITESPACE","\n      ",1122],["T_OBJECT_OPERATOR","->",1123],["T_STRING","set",1123],"(",["T_CONSTANT_ENCAPSED_STRING","'error_level'",1123],",",["T_WHITESPACE"," ",1123],["T_CONSTANT_ENCAPSED_STRING","'verbose'",1123],")",["T_WHITESPACE","\n      ",1123],["T_OBJECT_OPERATOR","->",1124],["T_STRING","save",1124],"(",")",";",["T_WHITESPACE","\n    ",1124],["T_VARIABLE","$config",1125],["T_OBJECT_OPERATOR","->",1125],["T_STRING","getEditable",1125],"(",["T_CONSTANT_ENCAPSED_STRING","'system.performance'",1125],")",["T_WHITESPACE","\n      ",1125],["T_OBJECT_OPERATOR","->",1126],["T_STRING","set",1126],"(",["T_CONSTANT_ENCAPSED_STRING","'css.preprocess'",1126],",",["T_WHITESPACE"," ",1126],["T_STRING","FALSE",1126],")",["T_WHITESPACE","\n      ",1126],["T_OBJECT_OPERATOR","->",1127],["T_STRING","set",1127],"(",["T_CONSTANT_ENCAPSED_STRING","'js.preprocess'",1127],",",["T_WHITESPACE"," ",1127],["T_STRING","FALSE",1127],")",["T_WHITESPACE","\n      ",1127],["T_OBJECT_OPERATOR","->",1128],["T_STRING","save",1128],"(",")",";",["T_WHITESPACE","\n\n    ",1128],["T_COMMENT","\/\/ Collect modules to install.\n",1130],["T_WHITESPACE","    ",1131],["T_VARIABLE","$class",1131],["T_WHITESPACE"," ",1131],"=",["T_WHITESPACE"," ",1131],["T_STRING","get_class",1131],"(",["T_VARIABLE","$this",1131],")",";",["T_WHITESPACE","\n    ",1131],["T_VARIABLE","$modules",1132],["T_WHITESPACE"," ",1132],"=",["T_WHITESPACE"," ",1132],["T_ARRAY","array",1132],"(",")",";",["T_WHITESPACE","\n    ",1132],["T_WHILE","while",1133],["T_WHITESPACE"," ",1133],"(",["T_VARIABLE","$class",1133],")",["T_WHITESPACE"," ",1133],"{",["T_WHITESPACE","\n      ",1133],["T_IF","if",1134],["T_WHITESPACE"," ",1134],"(",["T_STRING","property_exists",1134],"(",["T_VARIABLE","$class",1134],",",["T_WHITESPACE"," ",1134],["T_CONSTANT_ENCAPSED_STRING","'modules'",1134],")",")",["T_WHITESPACE"," ",1134],"{",["T_WHITESPACE","\n        ",1134],["T_VARIABLE","$modules",1135],["T_WHITESPACE"," ",1135],"=",["T_WHITESPACE"," ",1135],["T_STRING","array_merge",1135],"(",["T_VARIABLE","$modules",1135],",",["T_WHITESPACE"," ",1135],["T_VARIABLE","$class",1135],["T_DOUBLE_COLON","::",1135],["T_VARIABLE","$modules",1135],")",";",["T_WHITESPACE","\n      ",1135],"}",["T_WHITESPACE","\n      ",1136],["T_VARIABLE","$class",1137],["T_WHITESPACE"," ",1137],"=",["T_WHITESPACE"," ",1137],["T_STRING","get_parent_class",1137],"(",["T_VARIABLE","$class",1137],")",";",["T_WHITESPACE","\n    ",1137],"}",["T_WHITESPACE","\n    ",1138],["T_IF","if",1139],["T_WHITESPACE"," ",1139],"(",["T_VARIABLE","$modules",1139],")",["T_WHITESPACE"," ",1139],"{",["T_WHITESPACE","\n      ",1139],["T_VARIABLE","$modules",1140],["T_WHITESPACE"," ",1140],"=",["T_WHITESPACE"," ",1140],["T_STRING","array_unique",1140],"(",["T_VARIABLE","$modules",1140],")",";",["T_WHITESPACE","\n      ",1140],["T_VARIABLE","$success",1141],["T_WHITESPACE"," ",1141],"=",["T_WHITESPACE"," ",1141],["T_VARIABLE","$container",1141],["T_OBJECT_OPERATOR","->",1141],["T_STRING","get",1141],"(",["T_CONSTANT_ENCAPSED_STRING","'module_installer'",1141],")",["T_OBJECT_OPERATOR","->",1141],["T_STRING","install",1141],"(",["T_VARIABLE","$modules",1141],",",["T_WHITESPACE"," ",1141],["T_STRING","TRUE",1141],")",";",["T_WHITESPACE","\n      ",1141],["T_VARIABLE","$this",1142],["T_OBJECT_OPERATOR","->",1142],["T_STRING","assertTrue",1142],"(",["T_VARIABLE","$success",1142],",",["T_WHITESPACE"," ",1142],["T_STRING","SafeMarkup",1142],["T_DOUBLE_COLON","::",1142],["T_STRING","format",1142],"(",["T_CONSTANT_ENCAPSED_STRING","'Enabled modules: %modules'",1142],",",["T_WHITESPACE"," ",1142],["T_ARRAY","array",1142],"(",["T_CONSTANT_ENCAPSED_STRING","'%modules'",1142],["T_WHITESPACE"," ",1142],["T_DOUBLE_ARROW","=>",1142],["T_WHITESPACE"," ",1142],["T_STRING","implode",1142],"(",["T_CONSTANT_ENCAPSED_STRING","', '",1142],",",["T_WHITESPACE"," ",1142],["T_VARIABLE","$modules",1142],")",")",")",")",";",["T_WHITESPACE","\n      ",1142],["T_VARIABLE","$this",1143],["T_OBJECT_OPERATOR","->",1143],["T_STRING","rebuildContainer",1143],"(",")",";",["T_WHITESPACE","\n    ",1143],"}",["T_WHITESPACE","\n\n    ",1144],["T_COMMENT","\/\/ Reset\/rebuild all data structures after enabling the modules, primarily\n",1146],["T_WHITESPACE","    ",1147],["T_COMMENT","\/\/ to synchronize all data structures and caches between the test runner and\n",1147],["T_WHITESPACE","    ",1148],["T_COMMENT","\/\/ the child site.\n",1148],["T_WHITESPACE","    ",1149],["T_COMMENT","\/\/ Affects e.g. StreamWrapperManagerInterface::getWrappers().\n",1149],["T_WHITESPACE","    ",1150],["T_COMMENT","\/\/ @see \\Drupal\\Core\\DrupalKernel::bootCode()\n",1150],["T_WHITESPACE","    ",1151],["T_COMMENT","\/\/ @todo Test-specific setUp() methods may set up further fixtures; find a\n",1151],["T_WHITESPACE","    ",1152],["T_COMMENT","\/\/   way to execute this after setUp() is done, or to eliminate it entirely.\n",1152],["T_WHITESPACE","    ",1153],["T_VARIABLE","$this",1153],["T_OBJECT_OPERATOR","->",1153],["T_STRING","resetAll",1153],"(",")",";",["T_WHITESPACE","\n    ",1153],["T_VARIABLE","$this",1154],["T_OBJECT_OPERATOR","->",1154],["T_STRING","kernel",1154],["T_OBJECT_OPERATOR","->",1154],["T_STRING","prepareLegacyRequest",1154],"(",["T_VARIABLE","$request",1154],")",";",["T_WHITESPACE","\n  ",1154],"}",["T_WHITESPACE","\n\n  ",1155],["T_DOC_COMMENT","\/**\n   * Returns the parameters that will be used when Simpletest installs Drupal.\n   *\n   * @see install_drupal()\n   * @see install_state_defaults()\n   *\/",1157],["T_WHITESPACE","\n  ",1162],["T_PROTECTED","protected",1163],["T_WHITESPACE"," ",1163],["T_FUNCTION","function",1163],["T_WHITESPACE"," ",1163],["T_STRING","installParameters",1163],"(",")",["T_WHITESPACE"," ",1163],"{",["T_WHITESPACE","\n    ",1163],["T_VARIABLE","$connection_info",1164],["T_WHITESPACE"," ",1164],"=",["T_WHITESPACE"," ",1164],["T_STRING","Database",1164],["T_DOUBLE_COLON","::",1164],["T_STRING","getConnectionInfo",1164],"(",")",";",["T_WHITESPACE","\n    ",1164],["T_VARIABLE","$driver",1165],["T_WHITESPACE"," ",1165],"=",["T_WHITESPACE"," ",1165],["T_VARIABLE","$connection_info",1165],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",1165],"]","[",["T_CONSTANT_ENCAPSED_STRING","'driver'",1165],"]",";",["T_WHITESPACE","\n    ",1165],["T_VARIABLE","$connection_info",1166],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",1166],"]","[",["T_CONSTANT_ENCAPSED_STRING","'prefix'",1166],"]",["T_WHITESPACE"," ",1166],"=",["T_WHITESPACE"," ",1166],["T_VARIABLE","$connection_info",1166],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",1166],"]","[",["T_CONSTANT_ENCAPSED_STRING","'prefix'",1166],"]","[",["T_CONSTANT_ENCAPSED_STRING","'default'",1166],"]",";",["T_WHITESPACE","\n    ",1166],["T_UNSET","unset",1167],"(",["T_VARIABLE","$connection_info",1167],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",1167],"]","[",["T_CONSTANT_ENCAPSED_STRING","'driver'",1167],"]",")",";",["T_WHITESPACE","\n    ",1167],["T_UNSET","unset",1168],"(",["T_VARIABLE","$connection_info",1168],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",1168],"]","[",["T_CONSTANT_ENCAPSED_STRING","'namespace'",1168],"]",")",";",["T_WHITESPACE","\n    ",1168],["T_UNSET","unset",1169],"(",["T_VARIABLE","$connection_info",1169],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",1169],"]","[",["T_CONSTANT_ENCAPSED_STRING","'pdo'",1169],"]",")",";",["T_WHITESPACE","\n    ",1169],["T_UNSET","unset",1170],"(",["T_VARIABLE","$connection_info",1170],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",1170],"]","[",["T_CONSTANT_ENCAPSED_STRING","'init_commands'",1170],"]",")",";",["T_WHITESPACE","\n    ",1170],["T_VARIABLE","$parameters",1171],["T_WHITESPACE"," ",1171],"=",["T_WHITESPACE"," ",1171],["T_ARRAY","array",1171],"(",["T_WHITESPACE","\n      ",1171],["T_CONSTANT_ENCAPSED_STRING","'interactive'",1172],["T_WHITESPACE"," ",1172],["T_DOUBLE_ARROW","=>",1172],["T_WHITESPACE"," ",1172],["T_STRING","FALSE",1172],",",["T_WHITESPACE","\n      ",1172],["T_CONSTANT_ENCAPSED_STRING","'parameters'",1173],["T_WHITESPACE"," ",1173],["T_DOUBLE_ARROW","=>",1173],["T_WHITESPACE"," ",1173],["T_ARRAY","array",1173],"(",["T_WHITESPACE","\n        ",1173],["T_CONSTANT_ENCAPSED_STRING","'profile'",1174],["T_WHITESPACE"," ",1174],["T_DOUBLE_ARROW","=>",1174],["T_WHITESPACE"," ",1174],["T_VARIABLE","$this",1174],["T_OBJECT_OPERATOR","->",1174],["T_STRING","profile",1174],",",["T_WHITESPACE","\n        ",1174],["T_CONSTANT_ENCAPSED_STRING","'langcode'",1175],["T_WHITESPACE"," ",1175],["T_DOUBLE_ARROW","=>",1175],["T_WHITESPACE"," ",1175],["T_CONSTANT_ENCAPSED_STRING","'en'",1175],",",["T_WHITESPACE","\n      ",1175],")",",",["T_WHITESPACE","\n      ",1176],["T_CONSTANT_ENCAPSED_STRING","'forms'",1177],["T_WHITESPACE"," ",1177],["T_DOUBLE_ARROW","=>",1177],["T_WHITESPACE"," ",1177],["T_ARRAY","array",1177],"(",["T_WHITESPACE","\n        ",1177],["T_CONSTANT_ENCAPSED_STRING","'install_settings_form'",1178],["T_WHITESPACE"," ",1178],["T_DOUBLE_ARROW","=>",1178],["T_WHITESPACE"," ",1178],["T_ARRAY","array",1178],"(",["T_WHITESPACE","\n          ",1178],["T_CONSTANT_ENCAPSED_STRING","'driver'",1179],["T_WHITESPACE"," ",1179],["T_DOUBLE_ARROW","=>",1179],["T_WHITESPACE"," ",1179],["T_VARIABLE","$driver",1179],",",["T_WHITESPACE","\n          ",1179],["T_VARIABLE","$driver",1180],["T_WHITESPACE"," ",1180],["T_DOUBLE_ARROW","=>",1180],["T_WHITESPACE"," ",1180],["T_VARIABLE","$connection_info",1180],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",1180],"]",",",["T_WHITESPACE","\n        ",1180],")",",",["T_WHITESPACE","\n        ",1181],["T_CONSTANT_ENCAPSED_STRING","'install_configure_form'",1182],["T_WHITESPACE"," ",1182],["T_DOUBLE_ARROW","=>",1182],["T_WHITESPACE"," ",1182],["T_ARRAY","array",1182],"(",["T_WHITESPACE","\n          ",1182],["T_CONSTANT_ENCAPSED_STRING","'site_name'",1183],["T_WHITESPACE"," ",1183],["T_DOUBLE_ARROW","=>",1183],["T_WHITESPACE"," ",1183],["T_CONSTANT_ENCAPSED_STRING","'Drupal'",1183],",",["T_WHITESPACE","\n          ",1183],["T_CONSTANT_ENCAPSED_STRING","'site_mail'",1184],["T_WHITESPACE"," ",1184],["T_DOUBLE_ARROW","=>",1184],["T_WHITESPACE"," ",1184],["T_CONSTANT_ENCAPSED_STRING","'simpletest@example.com'",1184],",",["T_WHITESPACE","\n          ",1184],["T_CONSTANT_ENCAPSED_STRING","'account'",1185],["T_WHITESPACE"," ",1185],["T_DOUBLE_ARROW","=>",1185],["T_WHITESPACE"," ",1185],["T_ARRAY","array",1185],"(",["T_WHITESPACE","\n            ",1185],["T_CONSTANT_ENCAPSED_STRING","'name'",1186],["T_WHITESPACE"," ",1186],["T_DOUBLE_ARROW","=>",1186],["T_WHITESPACE"," ",1186],["T_VARIABLE","$this",1186],["T_OBJECT_OPERATOR","->",1186],["T_STRING","rootUser",1186],["T_OBJECT_OPERATOR","->",1186],["T_STRING","name",1186],",",["T_WHITESPACE","\n            ",1186],["T_CONSTANT_ENCAPSED_STRING","'mail'",1187],["T_WHITESPACE"," ",1187],["T_DOUBLE_ARROW","=>",1187],["T_WHITESPACE"," ",1187],["T_VARIABLE","$this",1187],["T_OBJECT_OPERATOR","->",1187],["T_STRING","rootUser",1187],["T_OBJECT_OPERATOR","->",1187],["T_STRING","getEmail",1187],"(",")",",",["T_WHITESPACE","\n            ",1187],["T_CONSTANT_ENCAPSED_STRING","'pass'",1188],["T_WHITESPACE"," ",1188],["T_DOUBLE_ARROW","=>",1188],["T_WHITESPACE"," ",1188],["T_ARRAY","array",1188],"(",["T_WHITESPACE","\n              ",1188],["T_CONSTANT_ENCAPSED_STRING","'pass1'",1189],["T_WHITESPACE"," ",1189],["T_DOUBLE_ARROW","=>",1189],["T_WHITESPACE"," ",1189],["T_VARIABLE","$this",1189],["T_OBJECT_OPERATOR","->",1189],["T_STRING","rootUser",1189],["T_OBJECT_OPERATOR","->",1189],["T_STRING","passRaw",1189],",",["T_WHITESPACE","\n              ",1189],["T_CONSTANT_ENCAPSED_STRING","'pass2'",1190],["T_WHITESPACE"," ",1190],["T_DOUBLE_ARROW","=>",1190],["T_WHITESPACE"," ",1190],["T_VARIABLE","$this",1190],["T_OBJECT_OPERATOR","->",1190],["T_STRING","rootUser",1190],["T_OBJECT_OPERATOR","->",1190],["T_STRING","passRaw",1190],",",["T_WHITESPACE","\n            ",1190],")",",",["T_WHITESPACE","\n          ",1191],")",",",["T_WHITESPACE","\n          ",1192],["T_COMMENT","\/\/ form_type_checkboxes_value() requires NULL instead of FALSE values\n",1193],["T_WHITESPACE","          ",1194],["T_COMMENT","\/\/ for programmatic form submissions to disable a checkbox.\n",1194],["T_WHITESPACE","          ",1195],["T_CONSTANT_ENCAPSED_STRING","'update_status_module'",1195],["T_WHITESPACE"," ",1195],["T_DOUBLE_ARROW","=>",1195],["T_WHITESPACE"," ",1195],["T_ARRAY","array",1195],"(",["T_WHITESPACE","\n            ",1195],["T_LNUMBER","1",1196],["T_WHITESPACE"," ",1196],["T_DOUBLE_ARROW","=>",1196],["T_WHITESPACE"," ",1196],["T_STRING","NULL",1196],",",["T_WHITESPACE","\n            ",1196],["T_LNUMBER","2",1197],["T_WHITESPACE"," ",1197],["T_DOUBLE_ARROW","=>",1197],["T_WHITESPACE"," ",1197],["T_STRING","NULL",1197],",",["T_WHITESPACE","\n          ",1197],")",",",["T_WHITESPACE","\n        ",1198],")",",",["T_WHITESPACE","\n      ",1199],")",",",["T_WHITESPACE","\n    ",1200],")",";",["T_WHITESPACE","\n    ",1201],["T_RETURN","return",1202],["T_WHITESPACE"," ",1202],["T_VARIABLE","$parameters",1202],";",["T_WHITESPACE","\n  ",1202],"}",["T_WHITESPACE","\n\n  ",1203],["T_DOC_COMMENT","\/**\n   * Generates a database prefix for running tests.\n   *\n   * The database prefix is used by prepareEnvironment() to setup a public files\n   * directory for the test to be run, which also contains the PHP error log,\n   * which is written to in case of a fatal error. Since that directory is based\n   * on the database prefix, all tests (even unit tests) need to have one, in\n   * order to access and read the error log.\n   *\n   * The generated database table prefix is used for the Drupal installation\n   * being performed for the test. It is also used by the cookie value of\n   * SIMPLETEST_USER_AGENT by the Mink controlled browser. During early Drupal\n   * bootstrap, the cookie is parsed, and if it matches, all database queries\n   * use the database table prefix that has been generated here.\n   *\n   * @see drupal_valid_test_ua()\n   * @see BrowserTestBase::prepareEnvironment()\n   *\/",1205],["T_WHITESPACE","\n  ",1222],["T_PRIVATE","private",1223],["T_WHITESPACE"," ",1223],["T_FUNCTION","function",1223],["T_WHITESPACE"," ",1223],["T_STRING","prepareDatabasePrefix",1223],"(",")",["T_WHITESPACE"," ",1223],"{",["T_WHITESPACE","\n    ",1223],["T_VARIABLE","$test_db",1224],["T_WHITESPACE"," ",1224],"=",["T_WHITESPACE"," ",1224],["T_NEW","new",1224],["T_WHITESPACE"," ",1224],["T_STRING","TestDatabase",1224],"(",")",";",["T_WHITESPACE","\n    ",1224],["T_VARIABLE","$this",1225],["T_OBJECT_OPERATOR","->",1225],["T_STRING","siteDirectory",1225],["T_WHITESPACE"," ",1225],"=",["T_WHITESPACE"," ",1225],["T_VARIABLE","$test_db",1225],["T_OBJECT_OPERATOR","->",1225],["T_STRING","getTestSitePath",1225],"(",")",";",["T_WHITESPACE","\n    ",1225],["T_VARIABLE","$this",1226],["T_OBJECT_OPERATOR","->",1226],["T_STRING","databasePrefix",1226],["T_WHITESPACE"," ",1226],"=",["T_WHITESPACE"," ",1226],["T_VARIABLE","$test_db",1226],["T_OBJECT_OPERATOR","->",1226],["T_STRING","getDatabasePrefix",1226],"(",")",";",["T_WHITESPACE","\n  ",1226],"}",["T_WHITESPACE","\n\n  ",1227],["T_DOC_COMMENT","\/**\n   * Changes the database connection to the prefixed one.\n   *\n   * @see BrowserTestBase::prepareEnvironment()\n   *\/",1229],["T_WHITESPACE","\n  ",1233],["T_PRIVATE","private",1234],["T_WHITESPACE"," ",1234],["T_FUNCTION","function",1234],["T_WHITESPACE"," ",1234],["T_STRING","changeDatabasePrefix",1234],"(",")",["T_WHITESPACE"," ",1234],"{",["T_WHITESPACE","\n    ",1234],["T_IF","if",1235],["T_WHITESPACE"," ",1235],"(",["T_EMPTY","empty",1235],"(",["T_VARIABLE","$this",1235],["T_OBJECT_OPERATOR","->",1235],["T_STRING","databasePrefix",1235],")",")",["T_WHITESPACE"," ",1235],"{",["T_WHITESPACE","\n      ",1235],["T_VARIABLE","$this",1236],["T_OBJECT_OPERATOR","->",1236],["T_STRING","prepareDatabasePrefix",1236],"(",")",";",["T_WHITESPACE","\n    ",1236],"}",["T_WHITESPACE","\n\n    ",1237],["T_COMMENT","\/\/ If the test is run with argument dburl then use it.\n",1239],["T_WHITESPACE","    ",1240],["T_VARIABLE","$db_url",1240],["T_WHITESPACE"," ",1240],"=",["T_WHITESPACE"," ",1240],["T_STRING","getenv",1240],"(",["T_CONSTANT_ENCAPSED_STRING","'SIMPLETEST_DB'",1240],")",";",["T_WHITESPACE","\n    ",1240],["T_IF","if",1241],["T_WHITESPACE"," ",1241],"(","!",["T_EMPTY","empty",1241],"(",["T_VARIABLE","$db_url",1241],")",")",["T_WHITESPACE"," ",1241],"{",["T_WHITESPACE","\n      ",1241],["T_VARIABLE","$database",1242],["T_WHITESPACE"," ",1242],"=",["T_WHITESPACE"," ",1242],["T_STRING","Database",1242],["T_DOUBLE_COLON","::",1242],["T_STRING","convertDbUrlToConnectionInfo",1242],"(",["T_VARIABLE","$db_url",1242],",",["T_WHITESPACE"," ",1242],["T_STRING","DRUPAL_ROOT",1242],")",";",["T_WHITESPACE","\n      ",1242],["T_STRING","Database",1243],["T_DOUBLE_COLON","::",1243],["T_STRING","addConnectionInfo",1243],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",1243],",",["T_WHITESPACE"," ",1243],["T_CONSTANT_ENCAPSED_STRING","'default'",1243],",",["T_WHITESPACE"," ",1243],["T_VARIABLE","$database",1243],")",";",["T_WHITESPACE","\n    ",1243],"}",["T_WHITESPACE","\n\n    ",1244],["T_COMMENT","\/\/ Clone the current connection and replace the current prefix.\n",1246],["T_WHITESPACE","    ",1247],["T_VARIABLE","$connection_info",1247],["T_WHITESPACE"," ",1247],"=",["T_WHITESPACE"," ",1247],["T_STRING","Database",1247],["T_DOUBLE_COLON","::",1247],["T_STRING","getConnectionInfo",1247],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",1247],")",";",["T_WHITESPACE","\n    ",1247],["T_IF","if",1248],["T_WHITESPACE"," ",1248],"(",["T_STRING","is_null",1248],"(",["T_VARIABLE","$connection_info",1248],")",")",["T_WHITESPACE"," ",1248],"{",["T_WHITESPACE","\n      ",1248],["T_THROW","throw",1249],["T_WHITESPACE"," ",1249],["T_NEW","new",1249],["T_WHITESPACE"," ",1249],["T_NS_SEPARATOR","\\",1249],["T_STRING","InvalidArgumentException",1249],"(",["T_CONSTANT_ENCAPSED_STRING","'There is no database connection so no tests can be run. You must provide a SIMPLETEST_DB environment variable to run PHPUnit based functional tests outside of run-tests.sh.'",1249],")",";",["T_WHITESPACE","\n    ",1249],"}",["T_WHITESPACE","\n    ",1250],["T_ELSE","else",1251],["T_WHITESPACE"," ",1251],"{",["T_WHITESPACE","\n      ",1251],["T_STRING","Database",1252],["T_DOUBLE_COLON","::",1252],["T_STRING","renameConnection",1252],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",1252],",",["T_WHITESPACE"," ",1252],["T_CONSTANT_ENCAPSED_STRING","'simpletest_original_default'",1252],")",";",["T_WHITESPACE","\n      ",1252],["T_FOREACH","foreach",1253],["T_WHITESPACE"," ",1253],"(",["T_VARIABLE","$connection_info",1253],["T_WHITESPACE"," ",1253],["T_AS","as",1253],["T_WHITESPACE"," ",1253],["T_VARIABLE","$target",1253],["T_WHITESPACE"," ",1253],["T_DOUBLE_ARROW","=>",1253],["T_WHITESPACE"," ",1253],["T_VARIABLE","$value",1253],")",["T_WHITESPACE"," ",1253],"{",["T_WHITESPACE","\n        ",1253],["T_COMMENT","\/\/ Replace the full table prefix definition to ensure that no table\n",1254],["T_WHITESPACE","        ",1255],["T_COMMENT","\/\/ prefixes of the test runner leak into the test.\n",1255],["T_WHITESPACE","        ",1256],["T_VARIABLE","$connection_info",1256],"[",["T_VARIABLE","$target",1256],"]","[",["T_CONSTANT_ENCAPSED_STRING","'prefix'",1256],"]",["T_WHITESPACE"," ",1256],"=",["T_WHITESPACE"," ",1256],["T_ARRAY","array",1256],"(",["T_WHITESPACE","\n          ",1256],["T_CONSTANT_ENCAPSED_STRING","'default'",1257],["T_WHITESPACE"," ",1257],["T_DOUBLE_ARROW","=>",1257],["T_WHITESPACE"," ",1257],["T_VARIABLE","$value",1257],"[",["T_CONSTANT_ENCAPSED_STRING","'prefix'",1257],"]","[",["T_CONSTANT_ENCAPSED_STRING","'default'",1257],"]",["T_WHITESPACE"," ",1257],".",["T_WHITESPACE"," ",1257],["T_VARIABLE","$this",1257],["T_OBJECT_OPERATOR","->",1257],["T_STRING","databasePrefix",1257],",",["T_WHITESPACE","\n        ",1257],")",";",["T_WHITESPACE","\n      ",1258],"}",["T_WHITESPACE","\n      ",1259],["T_STRING","Database",1260],["T_DOUBLE_COLON","::",1260],["T_STRING","addConnectionInfo",1260],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",1260],",",["T_WHITESPACE"," ",1260],["T_CONSTANT_ENCAPSED_STRING","'default'",1260],",",["T_WHITESPACE"," ",1260],["T_VARIABLE","$connection_info",1260],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",1260],"]",")",";",["T_WHITESPACE","\n    ",1260],"}",["T_WHITESPACE","\n  ",1261],"}",["T_WHITESPACE","\n\n  ",1262],["T_DOC_COMMENT","\/**\n   * Prepares the current environment for running the test.\n   *\n   * Also sets up new resources for the testing environment, such as the public\n   * filesystem and configuration directories.\n   *\n   * This method is private as it must only be called once by\n   * BrowserTestBase::setUp() (multiple invocations for the same test would have\n   * unpredictable consequences) and it must not be callable or overridable by\n   * test classes.\n   *\/",1264],["T_WHITESPACE","\n  ",1274],["T_PROTECTED","protected",1275],["T_WHITESPACE"," ",1275],["T_FUNCTION","function",1275],["T_WHITESPACE"," ",1275],["T_STRING","prepareEnvironment",1275],"(",")",["T_WHITESPACE"," ",1275],"{",["T_WHITESPACE","\n    ",1275],["T_COMMENT","\/\/ Bootstrap Drupal so we can use Drupal's built in functions.\n",1276],["T_WHITESPACE","    ",1277],["T_VARIABLE","$this",1277],["T_OBJECT_OPERATOR","->",1277],["T_STRING","classLoader",1277],["T_WHITESPACE"," ",1277],"=",["T_WHITESPACE"," ",1277],["T_REQUIRE","require",1277],["T_WHITESPACE"," ",1277],["T_DIR","__DIR__",1277],["T_WHITESPACE"," ",1277],".",["T_WHITESPACE"," ",1277],["T_CONSTANT_ENCAPSED_STRING","'\/..\/..\/..\/..\/autoload.php'",1277],";",["T_WHITESPACE","\n    ",1277],["T_VARIABLE","$request",1278],["T_WHITESPACE"," ",1278],"=",["T_WHITESPACE"," ",1278],["T_STRING","Request",1278],["T_DOUBLE_COLON","::",1278],["T_STRING","createFromGlobals",1278],"(",")",";",["T_WHITESPACE","\n    ",1278],["T_VARIABLE","$kernel",1279],["T_WHITESPACE"," ",1279],"=",["T_WHITESPACE"," ",1279],["T_STRING","TestRunnerKernel",1279],["T_DOUBLE_COLON","::",1279],["T_STRING","createFromRequest",1279],"(",["T_VARIABLE","$request",1279],",",["T_WHITESPACE"," ",1279],["T_VARIABLE","$this",1279],["T_OBJECT_OPERATOR","->",1279],["T_STRING","classLoader",1279],")",";",["T_WHITESPACE","\n    ",1279],["T_COMMENT","\/\/ TestRunnerKernel expects the working directory to be DRUPAL_ROOT.\n",1280],["T_WHITESPACE","    ",1281],["T_STRING","chdir",1281],"(",["T_STRING","DRUPAL_ROOT",1281],")",";",["T_WHITESPACE","\n    ",1281],["T_VARIABLE","$kernel",1282],["T_OBJECT_OPERATOR","->",1282],["T_STRING","prepareLegacyRequest",1282],"(",["T_VARIABLE","$request",1282],")",";",["T_WHITESPACE","\n    ",1282],["T_VARIABLE","$this",1283],["T_OBJECT_OPERATOR","->",1283],["T_STRING","prepareDatabasePrefix",1283],"(",")",";",["T_WHITESPACE","\n\n    ",1283],["T_VARIABLE","$this",1285],["T_OBJECT_OPERATOR","->",1285],["T_STRING","originalSiteDirectory",1285],["T_WHITESPACE"," ",1285],"=",["T_WHITESPACE"," ",1285],["T_VARIABLE","$kernel",1285],["T_OBJECT_OPERATOR","->",1285],["T_STRING","findSitePath",1285],"(",["T_VARIABLE","$request",1285],")",";",["T_WHITESPACE","\n\n    ",1285],["T_COMMENT","\/\/ Create test directory ahead of installation so fatal errors and debug\n",1287],["T_WHITESPACE","    ",1288],["T_COMMENT","\/\/ information can be logged during installation process.\n",1288],["T_WHITESPACE","    ",1289],["T_STRING","file_prepare_directory",1289],"(",["T_VARIABLE","$this",1289],["T_OBJECT_OPERATOR","->",1289],["T_STRING","siteDirectory",1289],",",["T_WHITESPACE"," ",1289],["T_STRING","FILE_CREATE_DIRECTORY",1289],["T_WHITESPACE"," ",1289],"|",["T_WHITESPACE"," ",1289],["T_STRING","FILE_MODIFY_PERMISSIONS",1289],")",";",["T_WHITESPACE","\n\n    ",1289],["T_COMMENT","\/\/ Prepare filesystem directory paths.\n",1291],["T_WHITESPACE","    ",1292],["T_VARIABLE","$this",1292],["T_OBJECT_OPERATOR","->",1292],["T_STRING","publicFilesDirectory",1292],["T_WHITESPACE"," ",1292],"=",["T_WHITESPACE"," ",1292],["T_VARIABLE","$this",1292],["T_OBJECT_OPERATOR","->",1292],["T_STRING","siteDirectory",1292],["T_WHITESPACE"," ",1292],".",["T_WHITESPACE"," ",1292],["T_CONSTANT_ENCAPSED_STRING","'\/files'",1292],";",["T_WHITESPACE","\n    ",1292],["T_VARIABLE","$this",1293],["T_OBJECT_OPERATOR","->",1293],["T_STRING","privateFilesDirectory",1293],["T_WHITESPACE"," ",1293],"=",["T_WHITESPACE"," ",1293],["T_VARIABLE","$this",1293],["T_OBJECT_OPERATOR","->",1293],["T_STRING","siteDirectory",1293],["T_WHITESPACE"," ",1293],".",["T_WHITESPACE"," ",1293],["T_CONSTANT_ENCAPSED_STRING","'\/private'",1293],";",["T_WHITESPACE","\n    ",1293],["T_VARIABLE","$this",1294],["T_OBJECT_OPERATOR","->",1294],["T_STRING","tempFilesDirectory",1294],["T_WHITESPACE"," ",1294],"=",["T_WHITESPACE"," ",1294],["T_VARIABLE","$this",1294],["T_OBJECT_OPERATOR","->",1294],["T_STRING","siteDirectory",1294],["T_WHITESPACE"," ",1294],".",["T_WHITESPACE"," ",1294],["T_CONSTANT_ENCAPSED_STRING","'\/temp'",1294],";",["T_WHITESPACE","\n    ",1294],["T_VARIABLE","$this",1295],["T_OBJECT_OPERATOR","->",1295],["T_STRING","translationFilesDirectory",1295],["T_WHITESPACE"," ",1295],"=",["T_WHITESPACE"," ",1295],["T_VARIABLE","$this",1295],["T_OBJECT_OPERATOR","->",1295],["T_STRING","siteDirectory",1295],["T_WHITESPACE"," ",1295],".",["T_WHITESPACE"," ",1295],["T_CONSTANT_ENCAPSED_STRING","'\/translations'",1295],";",["T_WHITESPACE","\n\n    ",1295],["T_COMMENT","\/\/ Ensure the configImporter is refreshed for each test.\n",1297],["T_WHITESPACE","    ",1298],["T_VARIABLE","$this",1298],["T_OBJECT_OPERATOR","->",1298],["T_STRING","configImporter",1298],["T_WHITESPACE"," ",1298],"=",["T_WHITESPACE"," ",1298],["T_STRING","NULL",1298],";",["T_WHITESPACE","\n\n    ",1298],["T_COMMENT","\/\/ Unregister all custom stream wrappers of the parent site.\n",1300],["T_WHITESPACE","    ",1301],["T_VARIABLE","$wrappers",1301],["T_WHITESPACE"," ",1301],"=",["T_WHITESPACE"," ",1301],["T_NS_SEPARATOR","\\",1301],["T_STRING","Drupal",1301],["T_DOUBLE_COLON","::",1301],["T_STRING","service",1301],"(",["T_CONSTANT_ENCAPSED_STRING","'stream_wrapper_manager'",1301],")",["T_OBJECT_OPERATOR","->",1301],["T_STRING","getWrappers",1301],"(",["T_STRING","StreamWrapperInterface",1301],["T_DOUBLE_COLON","::",1301],["T_STRING","ALL",1301],")",";",["T_WHITESPACE","\n    ",1301],["T_FOREACH","foreach",1302],["T_WHITESPACE"," ",1302],"(",["T_VARIABLE","$wrappers",1302],["T_WHITESPACE"," ",1302],["T_AS","as",1302],["T_WHITESPACE"," ",1302],["T_VARIABLE","$scheme",1302],["T_WHITESPACE"," ",1302],["T_DOUBLE_ARROW","=>",1302],["T_WHITESPACE"," ",1302],["T_VARIABLE","$info",1302],")",["T_WHITESPACE"," ",1302],"{",["T_WHITESPACE","\n      ",1302],["T_STRING","stream_wrapper_unregister",1303],"(",["T_VARIABLE","$scheme",1303],")",";",["T_WHITESPACE","\n    ",1303],"}",["T_WHITESPACE","\n\n    ",1304],["T_COMMENT","\/\/ Reset statics.\n",1306],["T_WHITESPACE","    ",1307],["T_STRING","drupal_static_reset",1307],"(",")",";",["T_WHITESPACE","\n\n    ",1307],["T_COMMENT","\/\/ Ensure there is no service container.\n",1309],["T_WHITESPACE","    ",1310],["T_VARIABLE","$this",1310],["T_OBJECT_OPERATOR","->",1310],["T_STRING","container",1310],["T_WHITESPACE"," ",1310],"=",["T_WHITESPACE"," ",1310],["T_STRING","NULL",1310],";",["T_WHITESPACE","\n    ",1310],["T_NS_SEPARATOR","\\",1311],["T_STRING","Drupal",1311],["T_DOUBLE_COLON","::",1311],["T_STRING","unsetContainer",1311],"(",")",";",["T_WHITESPACE","\n\n    ",1311],["T_COMMENT","\/\/ Unset globals.\n",1313],["T_WHITESPACE","    ",1314],["T_UNSET","unset",1314],"(",["T_VARIABLE","$GLOBALS",1314],"[",["T_CONSTANT_ENCAPSED_STRING","'config_directories'",1314],"]",")",";",["T_WHITESPACE","\n    ",1314],["T_UNSET","unset",1315],"(",["T_VARIABLE","$GLOBALS",1315],"[",["T_CONSTANT_ENCAPSED_STRING","'config'",1315],"]",")",";",["T_WHITESPACE","\n    ",1315],["T_UNSET","unset",1316],"(",["T_VARIABLE","$GLOBALS",1316],"[",["T_CONSTANT_ENCAPSED_STRING","'conf'",1316],"]",")",";",["T_WHITESPACE","\n\n    ",1316],["T_COMMENT","\/\/ Log fatal errors.\n",1318],["T_WHITESPACE","    ",1319],["T_STRING","ini_set",1319],"(",["T_CONSTANT_ENCAPSED_STRING","'log_errors'",1319],",",["T_WHITESPACE"," ",1319],["T_LNUMBER","1",1319],")",";",["T_WHITESPACE","\n    ",1319],["T_STRING","ini_set",1320],"(",["T_CONSTANT_ENCAPSED_STRING","'error_log'",1320],",",["T_WHITESPACE"," ",1320],["T_STRING","DRUPAL_ROOT",1320],["T_WHITESPACE"," ",1320],".",["T_WHITESPACE"," ",1320],["T_CONSTANT_ENCAPSED_STRING","'\/'",1320],["T_WHITESPACE"," ",1320],".",["T_WHITESPACE"," ",1320],["T_VARIABLE","$this",1320],["T_OBJECT_OPERATOR","->",1320],["T_STRING","siteDirectory",1320],["T_WHITESPACE"," ",1320],".",["T_WHITESPACE"," ",1320],["T_CONSTANT_ENCAPSED_STRING","'\/error.log'",1320],")",";",["T_WHITESPACE","\n\n    ",1320],["T_COMMENT","\/\/ Change the database prefix.\n",1322],["T_WHITESPACE","    ",1323],["T_VARIABLE","$this",1323],["T_OBJECT_OPERATOR","->",1323],["T_STRING","changeDatabasePrefix",1323],"(",")",";",["T_WHITESPACE","\n\n    ",1323],["T_COMMENT","\/\/ After preparing the environment and changing the database prefix, we are\n",1325],["T_WHITESPACE","    ",1326],["T_COMMENT","\/\/ in a valid test environment.\n",1326],["T_WHITESPACE","    ",1327],["T_STRING","drupal_valid_test_ua",1327],"(",["T_VARIABLE","$this",1327],["T_OBJECT_OPERATOR","->",1327],["T_STRING","databasePrefix",1327],")",";",["T_WHITESPACE","\n\n    ",1327],["T_COMMENT","\/\/ Reset settings.\n",1329],["T_WHITESPACE","    ",1330],["T_NEW","new",1330],["T_WHITESPACE"," ",1330],["T_STRING","Settings",1330],"(",["T_ARRAY","array",1330],"(",["T_WHITESPACE","\n      ",1330],["T_COMMENT","\/\/ For performance, simply use the database prefix as hash salt.\n",1331],["T_WHITESPACE","      ",1332],["T_CONSTANT_ENCAPSED_STRING","'hash_salt'",1332],["T_WHITESPACE"," ",1332],["T_DOUBLE_ARROW","=>",1332],["T_WHITESPACE"," ",1332],["T_VARIABLE","$this",1332],["T_OBJECT_OPERATOR","->",1332],["T_STRING","databasePrefix",1332],",",["T_WHITESPACE","\n    ",1332],")",")",";",["T_WHITESPACE","\n\n    ",1333],["T_STRING","drupal_set_time_limit",1335],"(",["T_VARIABLE","$this",1335],["T_OBJECT_OPERATOR","->",1335],["T_STRING","timeLimit",1335],")",";",["T_WHITESPACE","\n\n    ",1335],["T_COMMENT","\/\/ Save and clean the shutdown callbacks array because it is static cached\n",1337],["T_WHITESPACE","    ",1338],["T_COMMENT","\/\/ and will be changed by the test run. Otherwise it will contain callbacks\n",1338],["T_WHITESPACE","    ",1339],["T_COMMENT","\/\/ from both environments and the testing environment will try to call the\n",1339],["T_WHITESPACE","    ",1340],["T_COMMENT","\/\/ handlers defined by the original one.\n",1340],["T_WHITESPACE","    ",1341],["T_VARIABLE","$callbacks",1341],["T_WHITESPACE"," ",1341],"=",["T_WHITESPACE"," ",1341],"&",["T_STRING","drupal_register_shutdown_function",1341],"(",")",";",["T_WHITESPACE","\n    ",1341],["T_VARIABLE","$this",1342],["T_OBJECT_OPERATOR","->",1342],["T_STRING","originalShutdownCallbacks",1342],["T_WHITESPACE"," ",1342],"=",["T_WHITESPACE"," ",1342],["T_VARIABLE","$callbacks",1342],";",["T_WHITESPACE","\n    ",1342],["T_VARIABLE","$callbacks",1343],["T_WHITESPACE"," ",1343],"=",["T_WHITESPACE"," ",1343],"[","]",";",["T_WHITESPACE","\n  ",1343],"}",["T_WHITESPACE","\n\n  ",1344],["T_DOC_COMMENT","\/**\n   * Returns the database connection to the site running Simpletest.\n   *\n   * @return \\Drupal\\Core\\Database\\Connection\n   *   The database connection to use for inserting assertions.\n   *\/",1346],["T_WHITESPACE","\n  ",1351],["T_PUBLIC","public",1352],["T_WHITESPACE"," ",1352],["T_STATIC","static",1352],["T_WHITESPACE"," ",1352],["T_FUNCTION","function",1352],["T_WHITESPACE"," ",1352],["T_STRING","getDatabaseConnection",1352],"(",")",["T_WHITESPACE"," ",1352],"{",["T_WHITESPACE","\n    ",1352],["T_RETURN","return",1353],["T_WHITESPACE"," ",1353],["T_STRING","TestDatabase",1353],["T_DOUBLE_COLON","::",1353],["T_STRING","getConnection",1353],"(",")",";",["T_WHITESPACE","\n  ",1353],"}",["T_WHITESPACE","\n\n  ",1354],["T_DOC_COMMENT","\/**\n   * Rewrites the settings.php file of the test site.\n   *\n   * @param array $settings\n   *   An array of settings to write out, in the format expected by\n   *   drupal_rewrite_settings().\n   *\n   * @see drupal_rewrite_settings()\n   *\/",1356],["T_WHITESPACE","\n  ",1364],["T_PROTECTED","protected",1365],["T_WHITESPACE"," ",1365],["T_FUNCTION","function",1365],["T_WHITESPACE"," ",1365],["T_STRING","writeSettings",1365],"(",["T_ARRAY","array",1365],["T_WHITESPACE"," ",1365],["T_VARIABLE","$settings",1365],")",["T_WHITESPACE"," ",1365],"{",["T_WHITESPACE","\n    ",1365],["T_INCLUDE_ONCE","include_once",1366],["T_WHITESPACE"," ",1366],["T_STRING","DRUPAL_ROOT",1366],["T_WHITESPACE"," ",1366],".",["T_WHITESPACE"," ",1366],["T_CONSTANT_ENCAPSED_STRING","'\/core\/includes\/install.inc'",1366],";",["T_WHITESPACE","\n    ",1366],["T_VARIABLE","$filename",1367],["T_WHITESPACE"," ",1367],"=",["T_WHITESPACE"," ",1367],["T_VARIABLE","$this",1367],["T_OBJECT_OPERATOR","->",1367],["T_STRING","siteDirectory",1367],["T_WHITESPACE"," ",1367],".",["T_WHITESPACE"," ",1367],["T_CONSTANT_ENCAPSED_STRING","'\/settings.php'",1367],";",["T_WHITESPACE","\n\n    ",1367],["T_COMMENT","\/\/ system_requirements() removes write permissions from settings.php\n",1369],["T_WHITESPACE","    ",1370],["T_COMMENT","\/\/ whenever it is invoked.\n",1370],["T_WHITESPACE","    ",1371],["T_COMMENT","\/\/ Not using File API; a potential error must trigger a PHP warning.\n",1371],["T_WHITESPACE","    ",1372],["T_STRING","chmod",1372],"(",["T_VARIABLE","$filename",1372],",",["T_WHITESPACE"," ",1372],["T_LNUMBER","0666",1372],")",";",["T_WHITESPACE","\n    ",1372],["T_STRING","drupal_rewrite_settings",1373],"(",["T_VARIABLE","$settings",1373],",",["T_WHITESPACE"," ",1373],["T_VARIABLE","$filename",1373],")",";",["T_WHITESPACE","\n  ",1373],"}",["T_WHITESPACE","\n\n  ",1374],["T_DOC_COMMENT","\/**\n   * Rebuilds \\Drupal::getContainer().\n   *\n   * Use this to build a new kernel and service container. For example, when the\n   * list of enabled modules is changed via the Mink controlled browser, in\n   * which case the test process still contains an old kernel and service\n   * container with an old module list.\n   *\n   * @see BrowserTestBase::prepareEnvironment()\n   * @see BrowserTestBase::restoreEnvironment()\n   *\n   * @todo Fix https:\/\/www.drupal.org\/node\/2021959 so that module enable\/disable\n   *   changes are immediately reflected in \\Drupal::getContainer(). Until then,\n   *   tests can invoke this workaround when requiring services from newly\n   *   enabled modules to be immediately available in the same request.\n   *\/",1376],["T_WHITESPACE","\n  ",1391],["T_PROTECTED","protected",1392],["T_WHITESPACE"," ",1392],["T_FUNCTION","function",1392],["T_WHITESPACE"," ",1392],["T_STRING","rebuildContainer",1392],"(",")",["T_WHITESPACE"," ",1392],"{",["T_WHITESPACE","\n    ",1392],["T_COMMENT","\/\/ Rebuild the kernel and bring it back to a fully bootstrapped state.\n",1393],["T_WHITESPACE","    ",1394],["T_VARIABLE","$this",1394],["T_OBJECT_OPERATOR","->",1394],["T_STRING","container",1394],["T_WHITESPACE"," ",1394],"=",["T_WHITESPACE"," ",1394],["T_VARIABLE","$this",1394],["T_OBJECT_OPERATOR","->",1394],["T_STRING","kernel",1394],["T_OBJECT_OPERATOR","->",1394],["T_STRING","rebuildContainer",1394],"(",")",";",["T_WHITESPACE","\n\n    ",1394],["T_COMMENT","\/\/ Make sure the url generator has a request object, otherwise calls to\n",1396],["T_WHITESPACE","    ",1397],["T_COMMENT","\/\/ $this->drupalGet() will fail.\n",1397],["T_WHITESPACE","    ",1398],["T_VARIABLE","$this",1398],["T_OBJECT_OPERATOR","->",1398],["T_STRING","prepareRequestForGenerator",1398],"(",")",";",["T_WHITESPACE","\n  ",1398],"}",["T_WHITESPACE","\n\n  ",1399],["T_DOC_COMMENT","\/**\n   * Creates a mock request and sets it on the generator.\n   *\n   * This is used to manipulate how the generator generates paths during tests.\n   * It also ensures that calls to $this->drupalGet() will work when running\n   * from run-tests.sh because the url generator no longer looks at the global\n   * variables that are set there but relies on getting this information from a\n   * request object.\n   *\n   * @param bool $clean_urls\n   *   Whether to mock the request using clean urls.\n   * @param array $override_server_vars\n   *   An array of server variables to override.\n   *\n   * @return Request\n   *   The mocked request object.\n   *\/",1401],["T_WHITESPACE","\n  ",1417],["T_PROTECTED","protected",1418],["T_WHITESPACE"," ",1418],["T_FUNCTION","function",1418],["T_WHITESPACE"," ",1418],["T_STRING","prepareRequestForGenerator",1418],"(",["T_VARIABLE","$clean_urls",1418],["T_WHITESPACE"," ",1418],"=",["T_WHITESPACE"," ",1418],["T_STRING","TRUE",1418],",",["T_WHITESPACE"," ",1418],["T_VARIABLE","$override_server_vars",1418],["T_WHITESPACE"," ",1418],"=",["T_WHITESPACE"," ",1418],["T_ARRAY","array",1418],"(",")",")",["T_WHITESPACE"," ",1418],"{",["T_WHITESPACE","\n    ",1418],["T_VARIABLE","$request",1419],["T_WHITESPACE"," ",1419],"=",["T_WHITESPACE"," ",1419],["T_STRING","Request",1419],["T_DOUBLE_COLON","::",1419],["T_STRING","createFromGlobals",1419],"(",")",";",["T_WHITESPACE","\n    ",1419],["T_VARIABLE","$server",1420],["T_WHITESPACE"," ",1420],"=",["T_WHITESPACE"," ",1420],["T_VARIABLE","$request",1420],["T_OBJECT_OPERATOR","->",1420],["T_STRING","server",1420],["T_OBJECT_OPERATOR","->",1420],["T_STRING","all",1420],"(",")",";",["T_WHITESPACE","\n    ",1420],["T_IF","if",1421],["T_WHITESPACE"," ",1421],"(",["T_STRING","basename",1421],"(",["T_VARIABLE","$server",1421],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_FILENAME'",1421],"]",")",["T_WHITESPACE"," ",1421],["T_IS_NOT_EQUAL","!=",1421],["T_WHITESPACE"," ",1421],["T_STRING","basename",1421],"(",["T_VARIABLE","$server",1421],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",1421],"]",")",")",["T_WHITESPACE"," ",1421],"{",["T_WHITESPACE","\n      ",1421],["T_COMMENT","\/\/ We need this for when the test is executed by run-tests.sh.\n",1422],["T_WHITESPACE","      ",1423],["T_COMMENT","\/\/ @todo Remove this once run-tests.sh has been converted to use a Request\n",1423],["T_WHITESPACE","      ",1424],["T_COMMENT","\/\/   object.\n",1424],["T_WHITESPACE","      ",1425],["T_VARIABLE","$cwd",1425],["T_WHITESPACE"," ",1425],"=",["T_WHITESPACE"," ",1425],["T_STRING","getcwd",1425],"(",")",";",["T_WHITESPACE","\n      ",1425],["T_VARIABLE","$server",1426],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_FILENAME'",1426],"]",["T_WHITESPACE"," ",1426],"=",["T_WHITESPACE"," ",1426],["T_VARIABLE","$cwd",1426],["T_WHITESPACE"," ",1426],".",["T_WHITESPACE"," ",1426],["T_CONSTANT_ENCAPSED_STRING","'\/'",1426],["T_WHITESPACE"," ",1426],".",["T_WHITESPACE"," ",1426],["T_STRING","basename",1426],"(",["T_VARIABLE","$server",1426],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",1426],"]",")",";",["T_WHITESPACE","\n      ",1426],["T_VARIABLE","$base_path",1427],["T_WHITESPACE"," ",1427],"=",["T_WHITESPACE"," ",1427],["T_STRING","rtrim",1427],"(",["T_VARIABLE","$server",1427],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",1427],"]",",",["T_WHITESPACE"," ",1427],["T_CONSTANT_ENCAPSED_STRING","'\/'",1427],")",";",["T_WHITESPACE","\n    ",1427],"}",["T_WHITESPACE","\n    ",1428],["T_ELSE","else",1429],["T_WHITESPACE"," ",1429],"{",["T_WHITESPACE","\n      ",1429],["T_VARIABLE","$base_path",1430],["T_WHITESPACE"," ",1430],"=",["T_WHITESPACE"," ",1430],["T_VARIABLE","$request",1430],["T_OBJECT_OPERATOR","->",1430],["T_STRING","getBasePath",1430],"(",")",";",["T_WHITESPACE","\n    ",1430],"}",["T_WHITESPACE","\n    ",1431],["T_IF","if",1432],["T_WHITESPACE"," ",1432],"(",["T_VARIABLE","$clean_urls",1432],")",["T_WHITESPACE"," ",1432],"{",["T_WHITESPACE","\n      ",1432],["T_VARIABLE","$request_path",1433],["T_WHITESPACE"," ",1433],"=",["T_WHITESPACE"," ",1433],["T_VARIABLE","$base_path",1433],["T_WHITESPACE"," ",1433],"?",["T_WHITESPACE"," ",1433],["T_VARIABLE","$base_path",1433],["T_WHITESPACE"," ",1433],".",["T_WHITESPACE"," ",1433],["T_CONSTANT_ENCAPSED_STRING","'\/user'",1433],["T_WHITESPACE"," ",1433],":",["T_WHITESPACE"," ",1433],["T_CONSTANT_ENCAPSED_STRING","'user'",1433],";",["T_WHITESPACE","\n    ",1433],"}",["T_WHITESPACE","\n    ",1434],["T_ELSE","else",1435],["T_WHITESPACE"," ",1435],"{",["T_WHITESPACE","\n      ",1435],["T_VARIABLE","$request_path",1436],["T_WHITESPACE"," ",1436],"=",["T_WHITESPACE"," ",1436],["T_VARIABLE","$base_path",1436],["T_WHITESPACE"," ",1436],"?",["T_WHITESPACE"," ",1436],["T_VARIABLE","$base_path",1436],["T_WHITESPACE"," ",1436],".",["T_WHITESPACE"," ",1436],["T_CONSTANT_ENCAPSED_STRING","'\/index.php\/user'",1436],["T_WHITESPACE"," ",1436],":",["T_WHITESPACE"," ",1436],["T_CONSTANT_ENCAPSED_STRING","'\/index.php\/user'",1436],";",["T_WHITESPACE","\n    ",1436],"}",["T_WHITESPACE","\n    ",1437],["T_VARIABLE","$server",1438],["T_WHITESPACE"," ",1438],"=",["T_WHITESPACE"," ",1438],["T_STRING","array_merge",1438],"(",["T_VARIABLE","$server",1438],",",["T_WHITESPACE"," ",1438],["T_VARIABLE","$override_server_vars",1438],")",";",["T_WHITESPACE","\n\n    ",1438],["T_VARIABLE","$request",1440],["T_WHITESPACE"," ",1440],"=",["T_WHITESPACE"," ",1440],["T_STRING","Request",1440],["T_DOUBLE_COLON","::",1440],["T_STRING","create",1440],"(",["T_VARIABLE","$request_path",1440],",",["T_WHITESPACE"," ",1440],["T_CONSTANT_ENCAPSED_STRING","'GET'",1440],",",["T_WHITESPACE"," ",1440],["T_ARRAY","array",1440],"(",")",",",["T_WHITESPACE"," ",1440],["T_ARRAY","array",1440],"(",")",",",["T_WHITESPACE"," ",1440],["T_ARRAY","array",1440],"(",")",",",["T_WHITESPACE"," ",1440],["T_VARIABLE","$server",1440],")",";",["T_WHITESPACE","\n    ",1440],["T_COMMENT","\/\/ Ensure the request time is REQUEST_TIME to ensure that API calls\n",1441],["T_WHITESPACE","    ",1442],["T_COMMENT","\/\/ in the test use the right timestamp.\n",1442],["T_WHITESPACE","    ",1443],["T_VARIABLE","$request",1443],["T_OBJECT_OPERATOR","->",1443],["T_STRING","server",1443],["T_OBJECT_OPERATOR","->",1443],["T_STRING","set",1443],"(",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_TIME'",1443],",",["T_WHITESPACE"," ",1443],["T_STRING","REQUEST_TIME",1443],")",";",["T_WHITESPACE","\n    ",1443],["T_VARIABLE","$this",1444],["T_OBJECT_OPERATOR","->",1444],["T_STRING","container",1444],["T_OBJECT_OPERATOR","->",1444],["T_STRING","get",1444],"(",["T_CONSTANT_ENCAPSED_STRING","'request_stack'",1444],")",["T_OBJECT_OPERATOR","->",1444],["T_STRING","push",1444],"(",["T_VARIABLE","$request",1444],")",";",["T_WHITESPACE","\n\n    ",1444],["T_COMMENT","\/\/ The request context is normally set by the router_listener from within\n",1446],["T_WHITESPACE","    ",1447],["T_COMMENT","\/\/ its KernelEvents::REQUEST listener. In the Simpletest parent site this\n",1447],["T_WHITESPACE","    ",1448],["T_COMMENT","\/\/ event is not fired, therefore it is necessary to updated the request\n",1448],["T_WHITESPACE","    ",1449],["T_COMMENT","\/\/ context manually here.\n",1449],["T_WHITESPACE","    ",1450],["T_VARIABLE","$this",1450],["T_OBJECT_OPERATOR","->",1450],["T_STRING","container",1450],["T_OBJECT_OPERATOR","->",1450],["T_STRING","get",1450],"(",["T_CONSTANT_ENCAPSED_STRING","'router.request_context'",1450],")",["T_OBJECT_OPERATOR","->",1450],["T_STRING","fromRequest",1450],"(",["T_VARIABLE","$request",1450],")",";",["T_WHITESPACE","\n\n    ",1450],["T_RETURN","return",1452],["T_WHITESPACE"," ",1452],["T_VARIABLE","$request",1452],";",["T_WHITESPACE","\n  ",1452],"}",["T_WHITESPACE","\n\n  ",1453],["T_DOC_COMMENT","\/**\n   * Resets all data structures after having enabled new modules.\n   *\n   * This method is called by \\Drupal\\simpletest\\BrowserTestBase::setUp() after\n   * enabling the requested modules. It must be called again when additional\n   * modules are enabled later.\n   *\/",1455],["T_WHITESPACE","\n  ",1461],["T_PROTECTED","protected",1462],["T_WHITESPACE"," ",1462],["T_FUNCTION","function",1462],["T_WHITESPACE"," ",1462],["T_STRING","resetAll",1462],"(",")",["T_WHITESPACE"," ",1462],"{",["T_WHITESPACE","\n    ",1462],["T_COMMENT","\/\/ Clear all database and static caches and rebuild data structures.\n",1463],["T_WHITESPACE","    ",1464],["T_STRING","drupal_flush_all_caches",1464],"(",")",";",["T_WHITESPACE","\n    ",1464],["T_VARIABLE","$this",1465],["T_OBJECT_OPERATOR","->",1465],["T_STRING","container",1465],["T_WHITESPACE"," ",1465],"=",["T_WHITESPACE"," ",1465],["T_NS_SEPARATOR","\\",1465],["T_STRING","Drupal",1465],["T_DOUBLE_COLON","::",1465],["T_STRING","getContainer",1465],"(",")",";",["T_WHITESPACE","\n\n    ",1465],["T_COMMENT","\/\/ Reset static variables and reload permissions.\n",1467],["T_WHITESPACE","    ",1468],["T_VARIABLE","$this",1468],["T_OBJECT_OPERATOR","->",1468],["T_STRING","refreshVariables",1468],"(",")",";",["T_WHITESPACE","\n  ",1468],"}",["T_WHITESPACE","\n\n  ",1469],["T_DOC_COMMENT","\/**\n   * Refreshes in-memory configuration and state information.\n   *\n   * Useful after a page request is made that changes configuration or state in\n   * a different thread.\n   *\n   * In other words calling a settings page with $this->submitForm() with a\n   * changed value would update configuration to reflect that change, but in the\n   * thread that made the call (thread running the test) the changed values\n   * would not be picked up.\n   *\n   * This method clears the cache and loads a fresh copy.\n   *\/",1471],["T_WHITESPACE","\n  ",1483],["T_PROTECTED","protected",1484],["T_WHITESPACE"," ",1484],["T_FUNCTION","function",1484],["T_WHITESPACE"," ",1484],["T_STRING","refreshVariables",1484],"(",")",["T_WHITESPACE"," ",1484],"{",["T_WHITESPACE","\n    ",1484],["T_COMMENT","\/\/ Clear the tag cache.\n",1485],["T_WHITESPACE","    ",1486],["T_VARIABLE","$this",1486],["T_OBJECT_OPERATOR","->",1486],["T_STRING","container",1486],["T_OBJECT_OPERATOR","->",1486],["T_STRING","get",1486],"(",["T_CONSTANT_ENCAPSED_STRING","'cache_tags.invalidator'",1486],")",["T_OBJECT_OPERATOR","->",1486],["T_STRING","resetChecksums",1486],"(",")",";",["T_WHITESPACE","\n    ",1486],["T_COMMENT","\/\/ @todo Replace drupal_static() usage within classes and provide a\n",1487],["T_WHITESPACE","    ",1488],["T_COMMENT","\/\/   proper interface for invoking reset() on a cache backend:\n",1488],["T_WHITESPACE","    ",1489],["T_COMMENT","\/\/   https:\/\/www.drupal.org\/node\/2311945.\n",1489],["T_WHITESPACE","    ",1490],["T_STRING","drupal_static_reset",1490],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Cache\\CacheBackendInterface::tagCache'",1490],")",";",["T_WHITESPACE","\n    ",1490],["T_STRING","drupal_static_reset",1491],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Cache\\DatabaseBackend::deletedTags'",1491],")",";",["T_WHITESPACE","\n    ",1491],["T_STRING","drupal_static_reset",1492],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Cache\\DatabaseBackend::invalidatedTags'",1492],")",";",["T_WHITESPACE","\n    ",1492],["T_FOREACH","foreach",1493],["T_WHITESPACE"," ",1493],"(",["T_STRING","Cache",1493],["T_DOUBLE_COLON","::",1493],["T_STRING","getBins",1493],"(",")",["T_WHITESPACE"," ",1493],["T_AS","as",1493],["T_WHITESPACE"," ",1493],["T_VARIABLE","$backend",1493],")",["T_WHITESPACE"," ",1493],"{",["T_WHITESPACE","\n      ",1493],["T_IF","if",1494],["T_WHITESPACE"," ",1494],"(",["T_STRING","is_callable",1494],"(",["T_ARRAY","array",1494],"(",["T_VARIABLE","$backend",1494],",",["T_WHITESPACE"," ",1494],["T_CONSTANT_ENCAPSED_STRING","'reset'",1494],")",")",")",["T_WHITESPACE"," ",1494],"{",["T_WHITESPACE","\n        ",1494],["T_VARIABLE","$backend",1495],["T_OBJECT_OPERATOR","->",1495],["T_STRING","reset",1495],"(",")",";",["T_WHITESPACE","\n      ",1495],"}",["T_WHITESPACE","\n    ",1496],"}",["T_WHITESPACE","\n\n    ",1497],["T_VARIABLE","$this",1499],["T_OBJECT_OPERATOR","->",1499],["T_STRING","container",1499],["T_OBJECT_OPERATOR","->",1499],["T_STRING","get",1499],"(",["T_CONSTANT_ENCAPSED_STRING","'config.factory'",1499],")",["T_OBJECT_OPERATOR","->",1499],["T_STRING","reset",1499],"(",")",";",["T_WHITESPACE","\n    ",1499],["T_VARIABLE","$this",1500],["T_OBJECT_OPERATOR","->",1500],["T_STRING","container",1500],["T_OBJECT_OPERATOR","->",1500],["T_STRING","get",1500],"(",["T_CONSTANT_ENCAPSED_STRING","'state'",1500],")",["T_OBJECT_OPERATOR","->",1500],["T_STRING","resetCache",1500],"(",")",";",["T_WHITESPACE","\n  ",1500],"}",["T_WHITESPACE","\n\n  ",1501],["T_DOC_COMMENT","\/**\n   * Returns whether a given user account is logged in.\n   *\n   * @param \\Drupal\\Core\\Session\\AccountInterface $account\n   *   The user account object to check.\n   *\n   * @return bool\n   *   Return TRUE if the user is logged in, FALSE otherwise.\n   *\/",1503],["T_WHITESPACE","\n  ",1511],["T_PROTECTED","protected",1512],["T_WHITESPACE"," ",1512],["T_FUNCTION","function",1512],["T_WHITESPACE"," ",1512],["T_STRING","drupalUserIsLoggedIn",1512],"(",["T_STRING","AccountInterface",1512],["T_WHITESPACE"," ",1512],["T_VARIABLE","$account",1512],")",["T_WHITESPACE"," ",1512],"{",["T_WHITESPACE","\n    ",1512],["T_VARIABLE","$logged_in",1513],["T_WHITESPACE"," ",1513],"=",["T_WHITESPACE"," ",1513],["T_STRING","FALSE",1513],";",["T_WHITESPACE","\n\n    ",1513],["T_IF","if",1515],["T_WHITESPACE"," ",1515],"(",["T_ISSET","isset",1515],"(",["T_VARIABLE","$account",1515],["T_OBJECT_OPERATOR","->",1515],["T_STRING","sessionId",1515],")",")",["T_WHITESPACE"," ",1515],"{",["T_WHITESPACE","\n      ",1515],["T_VARIABLE","$session_handler",1516],["T_WHITESPACE"," ",1516],"=",["T_WHITESPACE"," ",1516],["T_VARIABLE","$this",1516],["T_OBJECT_OPERATOR","->",1516],["T_STRING","container",1516],["T_OBJECT_OPERATOR","->",1516],["T_STRING","get",1516],"(",["T_CONSTANT_ENCAPSED_STRING","'session_handler.storage'",1516],")",";",["T_WHITESPACE","\n      ",1516],["T_VARIABLE","$logged_in",1517],["T_WHITESPACE"," ",1517],"=",["T_WHITESPACE"," ",1517],["T_BOOL_CAST","(bool)",1517],["T_WHITESPACE"," ",1517],["T_VARIABLE","$session_handler",1517],["T_OBJECT_OPERATOR","->",1517],["T_STRING","read",1517],"(",["T_VARIABLE","$account",1517],["T_OBJECT_OPERATOR","->",1517],["T_STRING","sessionId",1517],")",";",["T_WHITESPACE","\n    ",1517],"}",["T_WHITESPACE","\n\n    ",1518],["T_RETURN","return",1520],["T_WHITESPACE"," ",1520],["T_VARIABLE","$logged_in",1520],";",["T_WHITESPACE","\n  ",1520],"}",["T_WHITESPACE","\n\n  ",1521],["T_DOC_COMMENT","\/**\n   * Clicks the element with the given CSS selector.\n   *\n   * @param string $css_selector\n   *   The CSS selector identifying the element to click.\n   *\/",1523],["T_WHITESPACE","\n  ",1528],["T_PROTECTED","protected",1529],["T_WHITESPACE"," ",1529],["T_FUNCTION","function",1529],["T_WHITESPACE"," ",1529],["T_STRING","click",1529],"(",["T_VARIABLE","$css_selector",1529],")",["T_WHITESPACE"," ",1529],"{",["T_WHITESPACE","\n    ",1529],["T_VARIABLE","$this",1530],["T_OBJECT_OPERATOR","->",1530],["T_STRING","getSession",1530],"(",")",["T_OBJECT_OPERATOR","->",1530],["T_STRING","getDriver",1530],"(",")",["T_OBJECT_OPERATOR","->",1530],["T_STRING","click",1530],"(",["T_VARIABLE","$this",1530],["T_OBJECT_OPERATOR","->",1530],["T_STRING","cssSelectToXpath",1530],"(",["T_VARIABLE","$css_selector",1530],")",")",";",["T_WHITESPACE","\n  ",1530],"}",["T_WHITESPACE","\n\n  ",1531],["T_DOC_COMMENT","\/**\n   * Prevents serializing any properties.\n   *\n   * Browser tests are run in a separate process. To do this PHPUnit creates a\n   * script to run the test. If it fails, the test result object will contain a\n   * stack trace which includes the test object. It will attempt to serialize\n   * it. Returning an empty array prevents it from serializing anything it\n   * should not.\n   *\n   * @return array\n   *   An empty array.\n   *\n   * @see vendor\/phpunit\/phpunit\/src\/Util\/PHP\/Template\/TestCaseMethod.tpl.dist\n   *\/",1533],["T_WHITESPACE","\n  ",1546],["T_PUBLIC","public",1547],["T_WHITESPACE"," ",1547],["T_FUNCTION","function",1547],["T_WHITESPACE"," ",1547],["T_STRING","__sleep",1547],"(",")",["T_WHITESPACE"," ",1547],"{",["T_WHITESPACE","\n    ",1547],["T_RETURN","return",1548],["T_WHITESPACE"," ",1548],"[","]",";",["T_WHITESPACE","\n  ",1548],"}",["T_WHITESPACE","\n\n  ",1549],["T_DOC_COMMENT","\/**\n   * Logs a HTML output message in a text file.\n   *\n   * The link to the HTML output message will be printed by the results printer.\n   *\n   * @param string $message\n   *   The HTML output message to be stored.\n   *\n   * @see \\Drupal\\Tests\\Listeners\\VerbosePrinter::printResult()\n   *\/",1551],["T_WHITESPACE","\n  ",1560],["T_PROTECTED","protected",1561],["T_WHITESPACE"," ",1561],["T_FUNCTION","function",1561],["T_WHITESPACE"," ",1561],["T_STRING","htmlOutput",1561],"(",["T_VARIABLE","$message",1561],")",["T_WHITESPACE"," ",1561],"{",["T_WHITESPACE","\n    ",1561],["T_IF","if",1562],["T_WHITESPACE"," ",1562],"(","!",["T_VARIABLE","$this",1562],["T_OBJECT_OPERATOR","->",1562],["T_STRING","htmlOutputEnabled",1562],")",["T_WHITESPACE"," ",1562],"{",["T_WHITESPACE","\n      ",1562],["T_RETURN","return",1563],";",["T_WHITESPACE","\n    ",1563],"}",["T_WHITESPACE","\n    ",1564],["T_VARIABLE","$message",1565],["T_WHITESPACE"," ",1565],"=",["T_WHITESPACE"," ",1565],["T_CONSTANT_ENCAPSED_STRING","'<hr \/>ID #'",1565],["T_WHITESPACE"," ",1565],".",["T_WHITESPACE"," ",1565],["T_VARIABLE","$this",1565],["T_OBJECT_OPERATOR","->",1565],["T_STRING","htmlOutputCounter",1565],["T_WHITESPACE"," ",1565],".",["T_WHITESPACE"," ",1565],["T_CONSTANT_ENCAPSED_STRING","' (<a href=\"'",1565],["T_WHITESPACE"," ",1565],".",["T_WHITESPACE"," ",1565],["T_VARIABLE","$this",1565],["T_OBJECT_OPERATOR","->",1565],["T_STRING","htmlOutputClassName",1565],["T_WHITESPACE"," ",1565],".",["T_WHITESPACE"," ",1565],["T_CONSTANT_ENCAPSED_STRING","'-'",1565],["T_WHITESPACE"," ",1565],".",["T_WHITESPACE"," ",1565],"(",["T_VARIABLE","$this",1565],["T_OBJECT_OPERATOR","->",1565],["T_STRING","htmlOutputCounter",1565],["T_WHITESPACE"," ",1565],"-",["T_WHITESPACE"," ",1565],["T_LNUMBER","1",1565],")",["T_WHITESPACE"," ",1565],".",["T_WHITESPACE"," ",1565],["T_CONSTANT_ENCAPSED_STRING","'-'",1565],["T_WHITESPACE"," ",1565],".",["T_WHITESPACE"," ",1565],["T_VARIABLE","$this",1565],["T_OBJECT_OPERATOR","->",1565],["T_STRING","htmlOutputTestId",1565],["T_WHITESPACE"," ",1565],".",["T_WHITESPACE"," ",1565],["T_CONSTANT_ENCAPSED_STRING","'.html\">Previous<\/a> | <a href=\"'",1565],["T_WHITESPACE"," ",1565],".",["T_WHITESPACE"," ",1565],["T_VARIABLE","$this",1565],["T_OBJECT_OPERATOR","->",1565],["T_STRING","htmlOutputClassName",1565],["T_WHITESPACE"," ",1565],".",["T_WHITESPACE"," ",1565],["T_CONSTANT_ENCAPSED_STRING","'-'",1565],["T_WHITESPACE"," ",1565],".",["T_WHITESPACE"," ",1565],"(",["T_VARIABLE","$this",1565],["T_OBJECT_OPERATOR","->",1565],["T_STRING","htmlOutputCounter",1565],["T_WHITESPACE"," ",1565],"+",["T_WHITESPACE"," ",1565],["T_LNUMBER","1",1565],")",["T_WHITESPACE"," ",1565],".",["T_WHITESPACE"," ",1565],["T_CONSTANT_ENCAPSED_STRING","'-'",1565],["T_WHITESPACE"," ",1565],".",["T_WHITESPACE"," ",1565],["T_VARIABLE","$this",1565],["T_OBJECT_OPERATOR","->",1565],["T_STRING","htmlOutputTestId",1565],["T_WHITESPACE"," ",1565],".",["T_WHITESPACE"," ",1565],["T_CONSTANT_ENCAPSED_STRING","'.html\">Next<\/a>)<hr \/>'",1565],["T_WHITESPACE"," ",1565],".",["T_WHITESPACE"," ",1565],["T_VARIABLE","$message",1565],";",["T_WHITESPACE","\n    ",1565],["T_VARIABLE","$html_output_filename",1566],["T_WHITESPACE"," ",1566],"=",["T_WHITESPACE"," ",1566],["T_VARIABLE","$this",1566],["T_OBJECT_OPERATOR","->",1566],["T_STRING","htmlOutputClassName",1566],["T_WHITESPACE"," ",1566],".",["T_WHITESPACE"," ",1566],["T_CONSTANT_ENCAPSED_STRING","'-'",1566],["T_WHITESPACE"," ",1566],".",["T_WHITESPACE"," ",1566],["T_VARIABLE","$this",1566],["T_OBJECT_OPERATOR","->",1566],["T_STRING","htmlOutputCounter",1566],["T_WHITESPACE"," ",1566],".",["T_WHITESPACE"," ",1566],["T_CONSTANT_ENCAPSED_STRING","'-'",1566],["T_WHITESPACE"," ",1566],".",["T_WHITESPACE"," ",1566],["T_VARIABLE","$this",1566],["T_OBJECT_OPERATOR","->",1566],["T_STRING","htmlOutputTestId",1566],["T_WHITESPACE"," ",1566],".",["T_WHITESPACE"," ",1566],["T_CONSTANT_ENCAPSED_STRING","'.html'",1566],";",["T_WHITESPACE","\n    ",1566],["T_STRING","file_put_contents",1567],"(",["T_VARIABLE","$this",1567],["T_OBJECT_OPERATOR","->",1567],["T_STRING","htmlOutputDirectory",1567],["T_WHITESPACE"," ",1567],".",["T_WHITESPACE"," ",1567],["T_CONSTANT_ENCAPSED_STRING","'\/'",1567],["T_WHITESPACE"," ",1567],".",["T_WHITESPACE"," ",1567],["T_VARIABLE","$html_output_filename",1567],",",["T_WHITESPACE"," ",1567],["T_VARIABLE","$message",1567],")",";",["T_WHITESPACE","\n    ",1567],["T_STRING","file_put_contents",1568],"(",["T_VARIABLE","$this",1568],["T_OBJECT_OPERATOR","->",1568],["T_STRING","htmlOutputCounterStorage",1568],",",["T_WHITESPACE"," ",1568],["T_VARIABLE","$this",1568],["T_OBJECT_OPERATOR","->",1568],["T_STRING","htmlOutputCounter",1568],["T_INC","++",1568],")",";",["T_WHITESPACE","\n    ",1568],["T_STRING","file_put_contents",1569],"(",["T_VARIABLE","$this",1569],["T_OBJECT_OPERATOR","->",1569],["T_STRING","htmlOutputFile",1569],",",["T_WHITESPACE"," ",1569],["T_STRING","file_create_url",1569],"(",["T_CONSTANT_ENCAPSED_STRING","'sites\/simpletest\/browser_output\/'",1569],["T_WHITESPACE"," ",1569],".",["T_WHITESPACE"," ",1569],["T_VARIABLE","$html_output_filename",1569],")",["T_WHITESPACE"," ",1569],".",["T_WHITESPACE"," ",1569],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",1569],",",["T_WHITESPACE"," ",1569],["T_STRING","FILE_APPEND",1569],")",";",["T_WHITESPACE","\n  ",1569],"}",["T_WHITESPACE","\n\n  ",1570],["T_DOC_COMMENT","\/**\n   * Returns headers in HTML output format.\n   *\n   * @return string\n   *   HTML output headers.\n   *\/",1572],["T_WHITESPACE","\n  ",1577],["T_PROTECTED","protected",1578],["T_WHITESPACE"," ",1578],["T_FUNCTION","function",1578],["T_WHITESPACE"," ",1578],["T_STRING","getHtmlOutputHeaders",1578],"(",")",["T_WHITESPACE"," ",1578],"{",["T_WHITESPACE","\n    ",1578],["T_VARIABLE","$headers",1579],["T_WHITESPACE"," ",1579],"=",["T_WHITESPACE"," ",1579],["T_STRING","array_map",1579],"(",["T_FUNCTION","function",1579],"(",["T_VARIABLE","$headers",1579],")",["T_WHITESPACE"," ",1579],"{",["T_WHITESPACE","\n      ",1579],["T_IF","if",1580],["T_WHITESPACE"," ",1580],"(",["T_STRING","is_array",1580],"(",["T_VARIABLE","$headers",1580],")",")",["T_WHITESPACE"," ",1580],"{",["T_WHITESPACE","\n        ",1580],["T_RETURN","return",1581],["T_WHITESPACE"," ",1581],["T_STRING","implode",1581],"(",["T_CONSTANT_ENCAPSED_STRING","';'",1581],",",["T_WHITESPACE"," ",1581],["T_STRING","array_map",1581],"(",["T_CONSTANT_ENCAPSED_STRING","'trim'",1581],",",["T_WHITESPACE"," ",1581],["T_VARIABLE","$headers",1581],")",")",";",["T_WHITESPACE","\n      ",1581],"}",["T_WHITESPACE","\n      ",1582],["T_ELSE","else",1583],["T_WHITESPACE"," ",1583],"{",["T_WHITESPACE","\n        ",1583],["T_RETURN","return",1584],["T_WHITESPACE"," ",1584],["T_VARIABLE","$headers",1584],";",["T_WHITESPACE","\n      ",1584],"}",["T_WHITESPACE","\n    ",1585],"}",",",["T_WHITESPACE"," ",1586],["T_VARIABLE","$this",1586],["T_OBJECT_OPERATOR","->",1586],["T_STRING","getSession",1586],"(",")",["T_OBJECT_OPERATOR","->",1586],["T_STRING","getResponseHeaders",1586],"(",")",")",";",["T_WHITESPACE","\n    ",1586],["T_RETURN","return",1587],["T_WHITESPACE"," ",1587],["T_CONSTANT_ENCAPSED_STRING","'<hr \/>Headers: <pre>'",1587],["T_WHITESPACE"," ",1587],".",["T_WHITESPACE"," ",1587],["T_STRING","Html",1587],["T_DOUBLE_COLON","::",1587],["T_STRING","escape",1587],"(",["T_STRING","var_export",1587],"(",["T_VARIABLE","$headers",1587],",",["T_WHITESPACE"," ",1587],["T_STRING","TRUE",1587],")",")",["T_WHITESPACE"," ",1587],".",["T_WHITESPACE"," ",1587],["T_CONSTANT_ENCAPSED_STRING","'<\/pre>'",1587],";",["T_WHITESPACE","\n  ",1587],"}",["T_WHITESPACE","\n\n  ",1588],["T_DOC_COMMENT","\/**\n   * Translates a CSS expression to its XPath equivalent.\n   *\n   * The search is relative to the root element (HTML tag normally) of the page.\n   *\n   * @param string $selector\n   *   CSS selector to use in the search.\n   * @param bool $html\n   *   (optional) Enables HTML support. Disable it for XML documents.\n   * @param string $prefix\n   *   (optional) The prefix for the XPath expression.\n   *\n   * @return string\n   *   The equivalent XPath of a CSS expression.\n   *\/",1590],["T_WHITESPACE","\n  ",1604],["T_PROTECTED","protected",1605],["T_WHITESPACE"," ",1605],["T_FUNCTION","function",1605],["T_WHITESPACE"," ",1605],["T_STRING","cssSelectToXpath",1605],"(",["T_VARIABLE","$selector",1605],",",["T_WHITESPACE"," ",1605],["T_VARIABLE","$html",1605],["T_WHITESPACE"," ",1605],"=",["T_WHITESPACE"," ",1605],["T_STRING","TRUE",1605],",",["T_WHITESPACE"," ",1605],["T_VARIABLE","$prefix",1605],["T_WHITESPACE"," ",1605],"=",["T_WHITESPACE"," ",1605],["T_CONSTANT_ENCAPSED_STRING","'descendant-or-self::'",1605],")",["T_WHITESPACE"," ",1605],"{",["T_WHITESPACE","\n    ",1605],["T_RETURN","return",1606],["T_WHITESPACE"," ",1606],"(",["T_NEW","new",1606],["T_WHITESPACE"," ",1606],["T_STRING","CssSelectorConverter",1606],"(",["T_VARIABLE","$html",1606],")",")",["T_OBJECT_OPERATOR","->",1606],["T_STRING","toXPath",1606],"(",["T_VARIABLE","$selector",1606],",",["T_WHITESPACE"," ",1606],["T_VARIABLE","$prefix",1606],")",";",["T_WHITESPACE","\n  ",1606],"}",["T_WHITESPACE","\n\n  ",1607],["T_DOC_COMMENT","\/**\n   * Searches elements using a CSS selector in the raw content.\n   *\n   * The search is relative to the root element (HTML tag normally) of the page.\n   *\n   * @param string $selector\n   *   CSS selector to use in the search.\n   *\n   * @return \\Behat\\Mink\\Element\\NodeElement[]\n   *   The list of elements on the page that match the selector.\n   *\/",1609],["T_WHITESPACE","\n  ",1619],["T_PROTECTED","protected",1620],["T_WHITESPACE"," ",1620],["T_FUNCTION","function",1620],["T_WHITESPACE"," ",1620],["T_STRING","cssSelect",1620],"(",["T_VARIABLE","$selector",1620],")",["T_WHITESPACE"," ",1620],"{",["T_WHITESPACE","\n    ",1620],["T_RETURN","return",1621],["T_WHITESPACE"," ",1621],["T_VARIABLE","$this",1621],["T_OBJECT_OPERATOR","->",1621],["T_STRING","getSession",1621],"(",")",["T_OBJECT_OPERATOR","->",1621],["T_STRING","getPage",1621],"(",")",["T_OBJECT_OPERATOR","->",1621],["T_STRING","findAll",1621],"(",["T_CONSTANT_ENCAPSED_STRING","'css'",1621],",",["T_WHITESPACE"," ",1621],["T_VARIABLE","$selector",1621],")",";",["T_WHITESPACE","\n  ",1621],"}",["T_WHITESPACE","\n\n  ",1622],["T_DOC_COMMENT","\/**\n   * Follows a link by complete name.\n   *\n   * Will click the first link found with this link text.\n   *\n   * If the link is discovered and clicked, the test passes. Fail otherwise.\n   *\n   * @param string|\\Drupal\\Component\\Render\\MarkupInterface $label\n   *   Text between the anchor tags.\n   * @param int $index\n   *   (optional) The index number for cases where multiple links have the same\n   *   text. Defaults to 0.\n   *\/",1624],["T_WHITESPACE","\n  ",1636],["T_PROTECTED","protected",1637],["T_WHITESPACE"," ",1637],["T_FUNCTION","function",1637],["T_WHITESPACE"," ",1637],["T_STRING","clickLink",1637],"(",["T_VARIABLE","$label",1637],",",["T_WHITESPACE"," ",1637],["T_VARIABLE","$index",1637],["T_WHITESPACE"," ",1637],"=",["T_WHITESPACE"," ",1637],["T_LNUMBER","0",1637],")",["T_WHITESPACE"," ",1637],"{",["T_WHITESPACE","\n    ",1637],["T_VARIABLE","$label",1638],["T_WHITESPACE"," ",1638],"=",["T_WHITESPACE"," ",1638],["T_STRING_CAST","(string)",1638],["T_WHITESPACE"," ",1638],["T_VARIABLE","$label",1638],";",["T_WHITESPACE","\n    ",1638],["T_VARIABLE","$links",1639],["T_WHITESPACE"," ",1639],"=",["T_WHITESPACE"," ",1639],["T_VARIABLE","$this",1639],["T_OBJECT_OPERATOR","->",1639],["T_STRING","getSession",1639],"(",")",["T_OBJECT_OPERATOR","->",1639],["T_STRING","getPage",1639],"(",")",["T_OBJECT_OPERATOR","->",1639],["T_STRING","findAll",1639],"(",["T_CONSTANT_ENCAPSED_STRING","'named'",1639],",",["T_WHITESPACE"," ",1639],"[",["T_CONSTANT_ENCAPSED_STRING","'link'",1639],",",["T_WHITESPACE"," ",1639],["T_VARIABLE","$label",1639],"]",")",";",["T_WHITESPACE","\n    ",1639],["T_VARIABLE","$links",1640],"[",["T_VARIABLE","$index",1640],"]",["T_OBJECT_OPERATOR","->",1640],["T_STRING","click",1640],"(",")",";",["T_WHITESPACE","\n  ",1640],"}",["T_WHITESPACE","\n\n  ",1641],["T_DOC_COMMENT","\/**\n   * Retrieves the plain-text content from the current page.\n   *\/",1643],["T_WHITESPACE","\n  ",1645],["T_PROTECTED","protected",1646],["T_WHITESPACE"," ",1646],["T_FUNCTION","function",1646],["T_WHITESPACE"," ",1646],["T_STRING","getTextContent",1646],"(",")",["T_WHITESPACE"," ",1646],"{",["T_WHITESPACE","\n    ",1646],["T_RETURN","return",1647],["T_WHITESPACE"," ",1647],["T_VARIABLE","$this",1647],["T_OBJECT_OPERATOR","->",1647],["T_STRING","getSession",1647],"(",")",["T_OBJECT_OPERATOR","->",1647],["T_STRING","getPage",1647],"(",")",["T_OBJECT_OPERATOR","->",1647],["T_STRING","getText",1647],"(",")",";",["T_WHITESPACE","\n  ",1647],"}",["T_WHITESPACE","\n\n  ",1648],["T_DOC_COMMENT","\/**\n   * Performs an xpath search on the contents of the internal browser.\n   *\n   * The search is relative to the root element (HTML tag normally) of the page.\n   *\n   * @param string $xpath\n   *   The xpath string to use in the search.\n   * @param array $arguments\n   *   An array of arguments with keys in the form ':name' matching the\n   *   placeholders in the query. The values may be either strings or numeric\n   *   values.\n   *\n   * @return \\Behat\\Mink\\Element\\NodeElement[]\n   *   The list of elements matching the xpath expression.\n   *\/",1650],["T_WHITESPACE","\n  ",1664],["T_PROTECTED","protected",1665],["T_WHITESPACE"," ",1665],["T_FUNCTION","function",1665],["T_WHITESPACE"," ",1665],["T_STRING","xpath",1665],"(",["T_VARIABLE","$xpath",1665],",",["T_WHITESPACE"," ",1665],["T_ARRAY","array",1665],["T_WHITESPACE"," ",1665],["T_VARIABLE","$arguments",1665],["T_WHITESPACE"," ",1665],"=",["T_WHITESPACE"," ",1665],"[","]",")",["T_WHITESPACE"," ",1665],"{",["T_WHITESPACE","\n    ",1665],["T_VARIABLE","$xpath",1666],["T_WHITESPACE"," ",1666],"=",["T_WHITESPACE"," ",1666],["T_VARIABLE","$this",1666],["T_OBJECT_OPERATOR","->",1666],["T_STRING","assertSession",1666],"(",")",["T_OBJECT_OPERATOR","->",1666],["T_STRING","buildXPathQuery",1666],"(",["T_VARIABLE","$xpath",1666],",",["T_WHITESPACE"," ",1666],["T_VARIABLE","$arguments",1666],")",";",["T_WHITESPACE","\n    ",1666],["T_RETURN","return",1667],["T_WHITESPACE"," ",1667],["T_VARIABLE","$this",1667],["T_OBJECT_OPERATOR","->",1667],["T_STRING","getSession",1667],"(",")",["T_OBJECT_OPERATOR","->",1667],["T_STRING","getPage",1667],"(",")",["T_OBJECT_OPERATOR","->",1667],["T_STRING","findAll",1667],"(",["T_CONSTANT_ENCAPSED_STRING","'xpath'",1667],",",["T_WHITESPACE"," ",1667],["T_VARIABLE","$xpath",1667],")",";",["T_WHITESPACE","\n  ",1667],"}",["T_WHITESPACE","\n\n  ",1668],["T_DOC_COMMENT","\/**\n   * Configuration accessor for tests. Returns non-overridden configuration.\n   *\n   * @param string $name\n   *   Configuration name.\n   *\n   * @return \\Drupal\\Core\\Config\\Config\n   *   The configuration object with original configuration data.\n   *\/",1670],["T_WHITESPACE","\n  ",1678],["T_PROTECTED","protected",1679],["T_WHITESPACE"," ",1679],["T_FUNCTION","function",1679],["T_WHITESPACE"," ",1679],["T_STRING","config",1679],"(",["T_VARIABLE","$name",1679],")",["T_WHITESPACE"," ",1679],"{",["T_WHITESPACE","\n    ",1679],["T_RETURN","return",1680],["T_WHITESPACE"," ",1680],["T_VARIABLE","$this",1680],["T_OBJECT_OPERATOR","->",1680],["T_STRING","container",1680],["T_OBJECT_OPERATOR","->",1680],["T_STRING","get",1680],"(",["T_CONSTANT_ENCAPSED_STRING","'config.factory'",1680],")",["T_OBJECT_OPERATOR","->",1680],["T_STRING","getEditable",1680],"(",["T_VARIABLE","$name",1680],")",";",["T_WHITESPACE","\n  ",1680],"}",["T_WHITESPACE","\n\n  ",1681],["T_DOC_COMMENT","\/**\n   * Gets the value of an HTTP response header.\n   *\n   * If multiple requests were required to retrieve the page, only the headers\n   * from the last request will be checked by default.\n   *\n   * @param string $name\n   *   The name of the header to retrieve. Names are case-insensitive (see RFC\n   *   2616 section 4.2).\n   *\n   * @return string|null\n   *   The HTTP header value or NULL if not found.\n   *\/",1683],["T_WHITESPACE","\n  ",1695],["T_PROTECTED","protected",1696],["T_WHITESPACE"," ",1696],["T_FUNCTION","function",1696],["T_WHITESPACE"," ",1696],["T_STRING","drupalGetHeader",1696],"(",["T_VARIABLE","$name",1696],")",["T_WHITESPACE"," ",1696],"{",["T_WHITESPACE","\n    ",1696],["T_RETURN","return",1697],["T_WHITESPACE"," ",1697],["T_VARIABLE","$this",1697],["T_OBJECT_OPERATOR","->",1697],["T_STRING","getSession",1697],"(",")",["T_OBJECT_OPERATOR","->",1697],["T_STRING","getResponseHeader",1697],"(",["T_VARIABLE","$name",1697],")",";",["T_WHITESPACE","\n  ",1697],"}",["T_WHITESPACE","\n\n  ",1698],["T_DOC_COMMENT","\/**\n   * Get the current URL from the browser.\n   *\n   * @return string\n   *   The current URL.\n   *\/",1700],["T_WHITESPACE","\n  ",1705],["T_PROTECTED","protected",1706],["T_WHITESPACE"," ",1706],["T_FUNCTION","function",1706],["T_WHITESPACE"," ",1706],["T_STRING","getUrl",1706],"(",")",["T_WHITESPACE"," ",1706],"{",["T_WHITESPACE","\n    ",1706],["T_RETURN","return",1707],["T_WHITESPACE"," ",1707],["T_VARIABLE","$this",1707],["T_OBJECT_OPERATOR","->",1707],["T_STRING","getSession",1707],"(",")",["T_OBJECT_OPERATOR","->",1707],["T_STRING","getCurrentUrl",1707],"(",")",";",["T_WHITESPACE","\n  ",1707],"}",["T_WHITESPACE","\n\n  ",1708],["T_DOC_COMMENT","\/**\n   * Gets the JavaScript drupalSettings variable for the currently-loaded page.\n   *\n   * @return array\n   *   The JSON decoded drupalSettings value from the current page.\n   *\/",1710],["T_WHITESPACE","\n  ",1715],["T_PROTECTED","protected",1716],["T_WHITESPACE"," ",1716],["T_FUNCTION","function",1716],["T_WHITESPACE"," ",1716],["T_STRING","getDrupalSettings",1716],"(",")",["T_WHITESPACE"," ",1716],"{",["T_WHITESPACE","\n    ",1716],["T_VARIABLE","$html",1717],["T_WHITESPACE"," ",1717],"=",["T_WHITESPACE"," ",1717],["T_VARIABLE","$this",1717],["T_OBJECT_OPERATOR","->",1717],["T_STRING","getSession",1717],"(",")",["T_OBJECT_OPERATOR","->",1717],["T_STRING","getPage",1717],"(",")",["T_OBJECT_OPERATOR","->",1717],["T_STRING","getHtml",1717],"(",")",";",["T_WHITESPACE","\n    ",1717],["T_IF","if",1718],["T_WHITESPACE"," ",1718],"(",["T_STRING","preg_match",1718],"(",["T_CONSTANT_ENCAPSED_STRING","'@<script type=\"application\/json\" data-drupal-selector=\"drupal-settings-json\">([^<]*)<\/script>@'",1718],",",["T_WHITESPACE"," ",1718],["T_VARIABLE","$html",1718],",",["T_WHITESPACE"," ",1718],["T_VARIABLE","$matches",1718],")",")",["T_WHITESPACE"," ",1718],"{",["T_WHITESPACE","\n      ",1718],["T_RETURN","return",1719],["T_WHITESPACE"," ",1719],["T_STRING","Json",1719],["T_DOUBLE_COLON","::",1719],["T_STRING","decode",1719],"(",["T_VARIABLE","$matches",1719],"[",["T_LNUMBER","1",1719],"]",")",";",["T_WHITESPACE","\n    ",1719],"}",["T_WHITESPACE","\n    ",1720],["T_RETURN","return",1721],["T_WHITESPACE"," ",1721],"[","]",";",["T_WHITESPACE","\n  ",1721],"}",["T_WHITESPACE","\n\n  ",1722],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",1724],["T_WHITESPACE","\n  ",1726],["T_PUBLIC","public",1727],["T_WHITESPACE"," ",1727],["T_STATIC","static",1727],["T_WHITESPACE"," ",1727],["T_FUNCTION","function",1727],["T_WHITESPACE"," ",1727],["T_STRING","assertEquals",1727],"(",["T_VARIABLE","$expected",1727],",",["T_WHITESPACE"," ",1727],["T_VARIABLE","$actual",1727],",",["T_WHITESPACE"," ",1727],["T_VARIABLE","$message",1727],["T_WHITESPACE"," ",1727],"=",["T_WHITESPACE"," ",1727],["T_CONSTANT_ENCAPSED_STRING","''",1727],",",["T_WHITESPACE"," ",1727],["T_VARIABLE","$delta",1727],["T_WHITESPACE"," ",1727],"=",["T_WHITESPACE"," ",1727],["T_DNUMBER","0.0",1727],",",["T_WHITESPACE"," ",1727],["T_VARIABLE","$maxDepth",1727],["T_WHITESPACE"," ",1727],"=",["T_WHITESPACE"," ",1727],["T_LNUMBER","10",1727],",",["T_WHITESPACE"," ",1727],["T_VARIABLE","$canonicalize",1727],["T_WHITESPACE"," ",1727],"=",["T_WHITESPACE"," ",1727],["T_STRING","FALSE",1727],",",["T_WHITESPACE"," ",1727],["T_VARIABLE","$ignoreCase",1727],["T_WHITESPACE"," ",1727],"=",["T_WHITESPACE"," ",1727],["T_STRING","FALSE",1727],")",["T_WHITESPACE"," ",1727],"{",["T_WHITESPACE","\n    ",1727],["T_COMMENT","\/\/ Cast objects implementing MarkupInterface to string instead of\n",1728],["T_WHITESPACE","    ",1729],["T_COMMENT","\/\/ relying on PHP casting them to string depending on what they are being\n",1729],["T_WHITESPACE","    ",1730],["T_COMMENT","\/\/ comparing with.\n",1730],["T_WHITESPACE","    ",1731],["T_VARIABLE","$expected",1731],["T_WHITESPACE"," ",1731],"=",["T_WHITESPACE"," ",1731],["T_STATIC","static",1731],["T_DOUBLE_COLON","::",1731],["T_STRING","castSafeStrings",1731],"(",["T_VARIABLE","$expected",1731],")",";",["T_WHITESPACE","\n    ",1731],["T_VARIABLE","$actual",1732],["T_WHITESPACE"," ",1732],"=",["T_WHITESPACE"," ",1732],["T_STATIC","static",1732],["T_DOUBLE_COLON","::",1732],["T_STRING","castSafeStrings",1732],"(",["T_VARIABLE","$actual",1732],")",";",["T_WHITESPACE","\n    ",1732],["T_STRING","parent",1733],["T_DOUBLE_COLON","::",1733],["T_STRING","assertEquals",1733],"(",["T_VARIABLE","$expected",1733],",",["T_WHITESPACE"," ",1733],["T_VARIABLE","$actual",1733],",",["T_WHITESPACE"," ",1733],["T_VARIABLE","$message",1733],",",["T_WHITESPACE"," ",1733],["T_VARIABLE","$delta",1733],",",["T_WHITESPACE"," ",1733],["T_VARIABLE","$maxDepth",1733],",",["T_WHITESPACE"," ",1733],["T_VARIABLE","$canonicalize",1733],",",["T_WHITESPACE"," ",1733],["T_VARIABLE","$ignoreCase",1733],")",";",["T_WHITESPACE","\n  ",1733],"}",["T_WHITESPACE","\n\n  ",1734],["T_DOC_COMMENT","\/**\n   * Changes parameters in the services.yml file.\n   *\n   * @param string $name\n   *   The name of the parameter.\n   * @param mixed $value\n   *   The value of the parameter.\n   *\/",1736],["T_WHITESPACE","\n  ",1743],["T_PROTECTED","protected",1744],["T_WHITESPACE"," ",1744],["T_FUNCTION","function",1744],["T_WHITESPACE"," ",1744],["T_STRING","setContainerParameter",1744],"(",["T_VARIABLE","$name",1744],",",["T_WHITESPACE"," ",1744],["T_VARIABLE","$value",1744],")",["T_WHITESPACE"," ",1744],"{",["T_WHITESPACE","\n    ",1744],["T_VARIABLE","$filename",1745],["T_WHITESPACE"," ",1745],"=",["T_WHITESPACE"," ",1745],["T_VARIABLE","$this",1745],["T_OBJECT_OPERATOR","->",1745],["T_STRING","siteDirectory",1745],["T_WHITESPACE"," ",1745],".",["T_WHITESPACE"," ",1745],["T_CONSTANT_ENCAPSED_STRING","'\/services.yml'",1745],";",["T_WHITESPACE","\n    ",1745],["T_STRING","chmod",1746],"(",["T_VARIABLE","$filename",1746],",",["T_WHITESPACE"," ",1746],["T_LNUMBER","0666",1746],")",";",["T_WHITESPACE","\n\n    ",1746],["T_VARIABLE","$services",1748],["T_WHITESPACE"," ",1748],"=",["T_WHITESPACE"," ",1748],["T_STRING","Yaml",1748],["T_DOUBLE_COLON","::",1748],["T_STRING","decode",1748],"(",["T_STRING","file_get_contents",1748],"(",["T_VARIABLE","$filename",1748],")",")",";",["T_WHITESPACE","\n    ",1748],["T_VARIABLE","$services",1749],"[",["T_CONSTANT_ENCAPSED_STRING","'parameters'",1749],"]","[",["T_VARIABLE","$name",1749],"]",["T_WHITESPACE"," ",1749],"=",["T_WHITESPACE"," ",1749],["T_VARIABLE","$value",1749],";",["T_WHITESPACE","\n    ",1749],["T_STRING","file_put_contents",1750],"(",["T_VARIABLE","$filename",1750],",",["T_WHITESPACE"," ",1750],["T_STRING","Yaml",1750],["T_DOUBLE_COLON","::",1750],["T_STRING","encode",1750],"(",["T_VARIABLE","$services",1750],")",")",";",["T_WHITESPACE","\n\n    ",1750],["T_COMMENT","\/\/ Ensure that the cache is deleted for the yaml file loader.\n",1752],["T_WHITESPACE","    ",1753],["T_VARIABLE","$file_cache",1753],["T_WHITESPACE"," ",1753],"=",["T_WHITESPACE"," ",1753],["T_STRING","FileCacheFactory",1753],["T_DOUBLE_COLON","::",1753],["T_STRING","get",1753],"(",["T_CONSTANT_ENCAPSED_STRING","'container_yaml_loader'",1753],")",";",["T_WHITESPACE","\n    ",1753],["T_VARIABLE","$file_cache",1754],["T_OBJECT_OPERATOR","->",1754],["T_STRING","delete",1754],"(",["T_VARIABLE","$filename",1754],")",";",["T_WHITESPACE","\n  ",1754],"}",["T_WHITESPACE","\n\n  ",1755],["T_DOC_COMMENT","\/**\n   * Gets the config schema exclusions for this test.\n   *\n   * @return string[]\n   *   An array of config object names that are excluded from schema checking.\n   *\/",1757],["T_WHITESPACE","\n  ",1762],["T_PROTECTED","protected",1763],["T_WHITESPACE"," ",1763],["T_FUNCTION","function",1763],["T_WHITESPACE"," ",1763],["T_STRING","getConfigSchemaExclusions",1763],"(",")",["T_WHITESPACE"," ",1763],"{",["T_WHITESPACE","\n    ",1763],["T_VARIABLE","$class",1764],["T_WHITESPACE"," ",1764],"=",["T_WHITESPACE"," ",1764],["T_STRING","get_class",1764],"(",["T_VARIABLE","$this",1764],")",";",["T_WHITESPACE","\n    ",1764],["T_VARIABLE","$exceptions",1765],["T_WHITESPACE"," ",1765],"=",["T_WHITESPACE"," ",1765],"[","]",";",["T_WHITESPACE","\n    ",1765],["T_WHILE","while",1766],["T_WHITESPACE"," ",1766],"(",["T_VARIABLE","$class",1766],")",["T_WHITESPACE"," ",1766],"{",["T_WHITESPACE","\n      ",1766],["T_IF","if",1767],["T_WHITESPACE"," ",1767],"(",["T_STRING","property_exists",1767],"(",["T_VARIABLE","$class",1767],",",["T_WHITESPACE"," ",1767],["T_CONSTANT_ENCAPSED_STRING","'configSchemaCheckerExclusions'",1767],")",")",["T_WHITESPACE"," ",1767],"{",["T_WHITESPACE","\n        ",1767],["T_VARIABLE","$exceptions",1768],["T_WHITESPACE"," ",1768],"=",["T_WHITESPACE"," ",1768],["T_STRING","array_merge",1768],"(",["T_VARIABLE","$exceptions",1768],",",["T_WHITESPACE"," ",1768],["T_VARIABLE","$class",1768],["T_DOUBLE_COLON","::",1768],["T_VARIABLE","$configSchemaCheckerExclusions",1768],")",";",["T_WHITESPACE","\n      ",1768],"}",["T_WHITESPACE","\n      ",1769],["T_VARIABLE","$class",1770],["T_WHITESPACE"," ",1770],"=",["T_WHITESPACE"," ",1770],["T_STRING","get_parent_class",1770],"(",["T_VARIABLE","$class",1770],")",";",["T_WHITESPACE","\n    ",1770],"}",["T_WHITESPACE","\n    ",1771],["T_COMMENT","\/\/ Filter out any duplicates.\n",1772],["T_WHITESPACE","    ",1773],["T_RETURN","return",1773],["T_WHITESPACE"," ",1773],["T_STRING","array_unique",1773],"(",["T_VARIABLE","$exceptions",1773],")",";",["T_WHITESPACE","\n  ",1773],"}",["T_WHITESPACE","\n\n",1774],"}",["T_WHITESPACE","\n",1776]]