[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","PathProcessor",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Language",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Language",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Language",6],["T_NS_SEPARATOR","\\",6],["T_STRING","LanguageInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","PathProcessor",7],["T_NS_SEPARATOR","\\",7],["T_STRING","PathProcessorAlias",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","PathProcessor",8],["T_NS_SEPARATOR","\\",8],["T_STRING","PathProcessorDecode",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","PathProcessor",9],["T_NS_SEPARATOR","\\",9],["T_STRING","PathProcessorFront",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","PathProcessor",10],["T_NS_SEPARATOR","\\",10],["T_STRING","PathProcessorManager",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","language",11],["T_NS_SEPARATOR","\\",11],["T_STRING","HttpKernel",11],["T_NS_SEPARATOR","\\",11],["T_STRING","PathProcessorLanguage",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","language",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Plugin",12],["T_NS_SEPARATOR","\\",12],["T_STRING","LanguageNegotiation",12],["T_NS_SEPARATOR","\\",12],["T_STRING","LanguageNegotiationUrl",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Symfony",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Component",13],["T_NS_SEPARATOR","\\",13],["T_STRING","HttpFoundation",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Request",13],";",["T_WHITESPACE","\n\n",13],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Drupal",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Tests",15],["T_NS_SEPARATOR","\\",15],["T_STRING","UnitTestCase",15],";",["T_WHITESPACE","\n\n",15],["T_DOC_COMMENT","\/**\n * Tests processing of the inbound path.\n *\n * @group PathProcessor\n *\/",17],["T_WHITESPACE","\n",21],["T_CLASS","class",22],["T_WHITESPACE"," ",22],["T_STRING","PathProcessorTest",22],["T_WHITESPACE"," ",22],["T_EXTENDS","extends",22],["T_WHITESPACE"," ",22],["T_STRING","UnitTestCase",22],["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * Configuration for the languageManager stub.\n   *\n   * @var \\Drupal\\Core\\Language\\LanguageInterface[]\n   *\/",24],["T_WHITESPACE","\n  ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$languages",29],";",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * The language manager stub used to construct a PathProcessorLanguage object.\n   *\n   * @var \\Drupal\\language\\ConfigurableLanguageManagerInterface|\\PHPUnit_Framework_MockObject_MockBuilder\n   *\/",31],["T_WHITESPACE","\n  ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$languageManager",36],";",["T_WHITESPACE","\n\n  ",36],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","setUp",38],"(",")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n\n    ",38],["T_COMMENT","\/\/ Set up some languages to be used by the language-based path processor.\n",40],["T_WHITESPACE","    ",41],["T_VARIABLE","$languages",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_ARRAY","array",41],"(",")",";",["T_WHITESPACE","\n    ",41],["T_FOREACH","foreach",42],["T_WHITESPACE"," ",42],"(",["T_ARRAY","array",42],"(",["T_CONSTANT_ENCAPSED_STRING","'en'",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'fr'",42],")",["T_WHITESPACE"," ",42],["T_AS","as",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$langcode",42],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n      ",42],["T_VARIABLE","$language",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_NEW","new",43],["T_WHITESPACE"," ",43],["T_STRING","Language",43],"(",["T_ARRAY","array",43],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$langcode",43],")",")",";",["T_WHITESPACE","\n      ",43],["T_VARIABLE","$languages",44],"[",["T_VARIABLE","$langcode",44],"]",["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$language",44],";",["T_WHITESPACE","\n    ",44],"}",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","languages",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$languages",46],";",["T_WHITESPACE","\n\n    ",46],["T_COMMENT","\/\/ Create a stub configuration.\n",48],["T_WHITESPACE","    ",49],["T_VARIABLE","$language_prefixes",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","array_keys",49],"(",["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","languages",49],")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$config",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_ARRAY","array",50],"(",["T_WHITESPACE","\n      ",50],["T_CONSTANT_ENCAPSED_STRING","'url'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_ARRAY","array",51],"(",["T_WHITESPACE","\n        ",51],["T_CONSTANT_ENCAPSED_STRING","'prefixes'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_STRING","array_combine",52],"(",["T_VARIABLE","$language_prefixes",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$language_prefixes",52],")",["T_WHITESPACE","\n      ",52],")",["T_WHITESPACE","\n    ",53],")",";",["T_WHITESPACE","\n\n    ",54],["T_COMMENT","\/\/ Create a URL-based language negotiation method definition.\n",56],["T_WHITESPACE","    ",57],["T_VARIABLE","$method_definitions",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_ARRAY","array",57],"(",["T_WHITESPACE","\n      ",57],["T_STRING","LanguageNegotiationUrl",58],["T_DOUBLE_COLON","::",58],["T_STRING","METHOD_ID",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_ARRAY","array",58],"(",["T_WHITESPACE","\n        ",58],["T_CONSTANT_ENCAPSED_STRING","'class'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\language\\Plugin\\LanguageNegotiation\\LanguageNegotiationUrl'",59],",",["T_WHITESPACE","\n        ",59],["T_CONSTANT_ENCAPSED_STRING","'weight'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_LNUMBER","9",60],",",["T_WHITESPACE","\n      ",60],")",",",["T_WHITESPACE","\n    ",61],")",";",["T_WHITESPACE","\n\n    ",62],["T_COMMENT","\/\/ Create a URL-based language negotiation method.\n",64],["T_WHITESPACE","    ",65],["T_VARIABLE","$method_instance",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_NEW","new",65],["T_WHITESPACE"," ",65],["T_STRING","LanguageNegotiationUrl",65],"(",["T_VARIABLE","$config",65],")",";",["T_WHITESPACE","\n\n    ",65],["T_COMMENT","\/\/ Create a language manager stub.\n",67],["T_WHITESPACE","    ",68],["T_VARIABLE","$language_manager",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getMockBuilder",68],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\language\\ConfigurableLanguageManagerInterface'",68],")",["T_WHITESPACE","\n      ",68],["T_OBJECT_OPERATOR","->",69],["T_STRING","getMock",69],"(",")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$language_manager",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","expects",70],"(",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","any",70],"(",")",")",["T_WHITESPACE","\n      ",70],["T_OBJECT_OPERATOR","->",71],["T_STRING","method",71],"(",["T_CONSTANT_ENCAPSED_STRING","'getCurrentLanguage'",71],")",["T_WHITESPACE","\n      ",71],["T_OBJECT_OPERATOR","->",72],["T_STRING","will",72],"(",["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","returnValue",72],"(",["T_VARIABLE","$languages",72],"[",["T_CONSTANT_ENCAPSED_STRING","'en'",72],"]",")",")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$language_manager",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","expects",73],"(",["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","any",73],"(",")",")",["T_WHITESPACE","\n      ",73],["T_OBJECT_OPERATOR","->",74],["T_STRING","method",74],"(",["T_CONSTANT_ENCAPSED_STRING","'getLanguages'",74],")",["T_WHITESPACE","\n      ",74],["T_OBJECT_OPERATOR","->",75],["T_STRING","will",75],"(",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","returnValue",75],"(",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","languages",75],")",")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$language_manager",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","expects",76],"(",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","any",76],"(",")",")",["T_WHITESPACE","\n      ",76],["T_OBJECT_OPERATOR","->",77],["T_STRING","method",77],"(",["T_CONSTANT_ENCAPSED_STRING","'getLanguageTypes'",77],")",["T_WHITESPACE","\n      ",77],["T_OBJECT_OPERATOR","->",78],["T_STRING","will",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","returnValue",78],"(",["T_ARRAY","array",78],"(",["T_STRING","LanguageInterface",78],["T_DOUBLE_COLON","::",78],["T_STRING","TYPE_INTERFACE",78],")",")",")",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$language_manager",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","expects",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","any",79],"(",")",")",["T_WHITESPACE","\n      ",79],["T_OBJECT_OPERATOR","->",80],["T_STRING","method",80],"(",["T_CONSTANT_ENCAPSED_STRING","'getNegotiationMethods'",80],")",["T_WHITESPACE","\n      ",80],["T_OBJECT_OPERATOR","->",81],["T_STRING","will",81],"(",["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","returnValue",81],"(",["T_VARIABLE","$method_definitions",81],")",")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$language_manager",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","expects",82],"(",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","any",82],"(",")",")",["T_WHITESPACE","\n      ",82],["T_OBJECT_OPERATOR","->",83],["T_STRING","method",83],"(",["T_CONSTANT_ENCAPSED_STRING","'getNegotiationMethodInstance'",83],")",["T_WHITESPACE","\n      ",83],["T_OBJECT_OPERATOR","->",84],["T_STRING","will",84],"(",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","returnValue",84],"(",["T_VARIABLE","$method_instance",84],")",")",";",["T_WHITESPACE","\n\n    ",84],["T_VARIABLE","$method_instance",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","setLanguageManager",86],"(",["T_VARIABLE","$language_manager",86],")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","languageManager",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$language_manager",87],";",["T_WHITESPACE","\n  ",87],"}",["T_WHITESPACE","\n\n  ",88],["T_DOC_COMMENT","\/**\n   * Tests resolving the inbound path to the system path.\n   *\/",90],["T_WHITESPACE","\n  ",92],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","testProcessInbound",93],"(",")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n\n    ",93],["T_COMMENT","\/\/ Create an alias manager stub.\n",95],["T_WHITESPACE","    ",96],["T_VARIABLE","$alias_manager",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getMockBuilder",96],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Path\\AliasManager'",96],")",["T_WHITESPACE","\n      ",96],["T_OBJECT_OPERATOR","->",97],["T_STRING","disableOriginalConstructor",97],"(",")",["T_WHITESPACE","\n      ",97],["T_OBJECT_OPERATOR","->",98],["T_STRING","getMock",98],"(",")",";",["T_WHITESPACE","\n\n    ",98],["T_VARIABLE","$system_path_map",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_ARRAY","array",100],"(",["T_WHITESPACE","\n      ",100],["T_COMMENT","\/\/ Set up one proper alias that can be resolved to a system path.\n",101],["T_WHITESPACE","      ",102],["T_ARRAY","array",102],"(",["T_CONSTANT_ENCAPSED_STRING","'\/foo'",102],",",["T_WHITESPACE"," ",102],["T_STRING","NULL",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'\/user\/1'",102],")",",",["T_WHITESPACE","\n      ",102],["T_COMMENT","\/\/ Passing in anything else should return the same string.\n",103],["T_WHITESPACE","      ",104],["T_ARRAY","array",104],"(",["T_CONSTANT_ENCAPSED_STRING","'\/fr\/foo'",104],",",["T_WHITESPACE"," ",104],["T_STRING","NULL",104],",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'\/fr\/foo'",104],")",",",["T_WHITESPACE","\n      ",104],["T_ARRAY","array",105],"(",["T_CONSTANT_ENCAPSED_STRING","'\/fr'",105],",",["T_WHITESPACE"," ",105],["T_STRING","NULL",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'\/fr'",105],")",",",["T_WHITESPACE","\n      ",105],["T_ARRAY","array",106],"(",["T_CONSTANT_ENCAPSED_STRING","'\/user\/login'",106],",",["T_WHITESPACE"," ",106],["T_STRING","NULL",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'\/user\/login'",106],")",",",["T_WHITESPACE","\n    ",106],")",";",["T_WHITESPACE","\n\n    ",107],["T_VARIABLE","$alias_manager",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","expects",109],"(",["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","any",109],"(",")",")",["T_WHITESPACE","\n      ",109],["T_OBJECT_OPERATOR","->",110],["T_STRING","method",110],"(",["T_CONSTANT_ENCAPSED_STRING","'getPathByAlias'",110],")",["T_WHITESPACE","\n      ",110],["T_OBJECT_OPERATOR","->",111],["T_STRING","will",111],"(",["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","returnValueMap",111],"(",["T_VARIABLE","$system_path_map",111],")",")",";",["T_WHITESPACE","\n\n    ",111],["T_COMMENT","\/\/ Create a stub config factory with all config settings that will be checked\n",113],["T_WHITESPACE","    ",114],["T_COMMENT","\/\/ during this test.\n",114],["T_WHITESPACE","    ",115],["T_VARIABLE","$config_factory_stub",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getConfigFactoryStub",115],"(",["T_WHITESPACE","\n      ",115],["T_ARRAY","array",116],"(",["T_WHITESPACE","\n        ",116],["T_CONSTANT_ENCAPSED_STRING","'system.site'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_ARRAY","array",117],"(",["T_WHITESPACE","\n          ",117],["T_CONSTANT_ENCAPSED_STRING","'page.front'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'\/user\/login'",118],["T_WHITESPACE","\n        ",118],")",",",["T_WHITESPACE","\n        ",119],["T_CONSTANT_ENCAPSED_STRING","'language.negotiation'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_ARRAY","array",120],"(",["T_WHITESPACE","\n          ",120],["T_CONSTANT_ENCAPSED_STRING","'url'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_ARRAY","array",121],"(",["T_WHITESPACE","\n            ",121],["T_CONSTANT_ENCAPSED_STRING","'prefixes'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_ARRAY","array",122],"(",["T_CONSTANT_ENCAPSED_STRING","'fr'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'fr'",122],")",",",["T_WHITESPACE","\n          ",122],")",",",["T_WHITESPACE","\n        ",123],")",",",["T_WHITESPACE","\n      ",124],")",["T_WHITESPACE","\n    ",125],")",";",["T_WHITESPACE","\n\n    ",126],["T_COMMENT","\/\/ Create a language negotiator stub.\n",128],["T_WHITESPACE","    ",129],["T_VARIABLE","$negotiator",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getMockBuilder",129],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\language\\LanguageNegotiatorInterface'",129],")",["T_WHITESPACE","\n      ",129],["T_OBJECT_OPERATOR","->",130],["T_STRING","getMock",130],"(",")",";",["T_WHITESPACE","\n    ",130],["T_VARIABLE","$negotiator",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","expects",131],"(",["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","any",131],"(",")",")",["T_WHITESPACE","\n      ",131],["T_OBJECT_OPERATOR","->",132],["T_STRING","method",132],"(",["T_CONSTANT_ENCAPSED_STRING","'getNegotiationMethods'",132],")",["T_WHITESPACE","\n      ",132],["T_OBJECT_OPERATOR","->",133],["T_STRING","will",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","returnValue",133],"(",["T_ARRAY","array",133],"(",["T_STRING","LanguageNegotiationUrl",133],["T_DOUBLE_COLON","::",133],["T_STRING","METHOD_ID",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_ARRAY","array",133],"(",["T_WHITESPACE","\n        ",133],["T_CONSTANT_ENCAPSED_STRING","'class'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\language\\Plugin\\LanguageNegotiation\\LanguageNegotiationUrl'",134],",",["T_WHITESPACE","\n        ",134],["T_CONSTANT_ENCAPSED_STRING","'weight'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_LNUMBER","9",135],",",["T_WHITESPACE","\n        ",135],")",")",")",")",";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$method",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_NEW","new",137],["T_WHITESPACE"," ",137],["T_STRING","LanguageNegotiationUrl",137],"(",")",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$method",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","setConfig",138],"(",["T_VARIABLE","$config_factory_stub",138],")",";",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$method",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","setLanguageManager",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","languageManager",139],")",";",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$negotiator",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","expects",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","any",140],"(",")",")",["T_WHITESPACE","\n      ",140],["T_OBJECT_OPERATOR","->",141],["T_STRING","method",141],"(",["T_CONSTANT_ENCAPSED_STRING","'getNegotiationMethodInstance'",141],")",["T_WHITESPACE","\n      ",141],["T_OBJECT_OPERATOR","->",142],["T_STRING","will",142],"(",["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","returnValue",142],"(",["T_VARIABLE","$method",142],")",")",";",["T_WHITESPACE","\n\n    ",142],["T_COMMENT","\/\/ Create a user stub.\n",144],["T_WHITESPACE","    ",145],["T_VARIABLE","$current_user",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getMockBuilder",145],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Session\\AccountInterface'",145],")",["T_WHITESPACE","\n      ",145],["T_OBJECT_OPERATOR","->",146],["T_STRING","getMock",146],"(",")",";",["T_WHITESPACE","\n\n    ",146],["T_COMMENT","\/\/ Create a config event subscriber stub.\n",148],["T_WHITESPACE","    ",149],["T_VARIABLE","$config_subscriber",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getMockBuilder",149],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\language\\EventSubscriber\\ConfigSubscriber'",149],")",["T_WHITESPACE","\n      ",149],["T_OBJECT_OPERATOR","->",150],["T_STRING","disableOriginalConstructor",150],"(",")",["T_WHITESPACE","\n      ",150],["T_OBJECT_OPERATOR","->",151],["T_STRING","getMock",151],"(",")",";",["T_WHITESPACE","\n\n    ",151],["T_COMMENT","\/\/ Create the processors.\n",153],["T_WHITESPACE","    ",154],["T_VARIABLE","$alias_processor",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_NEW","new",154],["T_WHITESPACE"," ",154],["T_STRING","PathProcessorAlias",154],"(",["T_VARIABLE","$alias_manager",154],")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$decode_processor",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_NEW","new",155],["T_WHITESPACE"," ",155],["T_STRING","PathProcessorDecode",155],"(",")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$front_processor",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_NEW","new",156],["T_WHITESPACE"," ",156],["T_STRING","PathProcessorFront",156],"(",["T_VARIABLE","$config_factory_stub",156],")",";",["T_WHITESPACE","\n    ",156],["T_VARIABLE","$language_processor",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_NEW","new",157],["T_WHITESPACE"," ",157],["T_STRING","PathProcessorLanguage",157],"(",["T_VARIABLE","$config_factory_stub",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","languageManager",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$negotiator",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$current_user",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$config_subscriber",157],")",";",["T_WHITESPACE","\n\n    ",157],["T_COMMENT","\/\/ First, test the processor manager with the processors in the incorrect\n",159],["T_WHITESPACE","    ",160],["T_COMMENT","\/\/ order. The alias processor will run before the language processor, meaning\n",160],["T_WHITESPACE","    ",161],["T_COMMENT","\/\/ aliases will not be found.\n",161],["T_WHITESPACE","    ",162],["T_VARIABLE","$priorities",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_ARRAY","array",162],"(",["T_WHITESPACE","\n      ",162],["T_LNUMBER","1000",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$alias_processor",163],",",["T_WHITESPACE","\n      ",163],["T_LNUMBER","500",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$decode_processor",164],",",["T_WHITESPACE","\n      ",164],["T_LNUMBER","300",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$front_processor",165],",",["T_WHITESPACE","\n      ",165],["T_LNUMBER","200",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$language_processor",166],",",["T_WHITESPACE","\n    ",166],")",";",["T_WHITESPACE","\n\n    ",167],["T_COMMENT","\/\/ Create the processor manager and add the processors.\n",169],["T_WHITESPACE","    ",170],["T_VARIABLE","$processor_manager",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_NEW","new",170],["T_WHITESPACE"," ",170],["T_STRING","PathProcessorManager",170],"(",")",";",["T_WHITESPACE","\n    ",170],["T_FOREACH","foreach",171],["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$priorities",171],["T_WHITESPACE"," ",171],["T_AS","as",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$priority",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$processor",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n      ",171],["T_VARIABLE","$processor_manager",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","addInbound",172],"(",["T_VARIABLE","$processor",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$priority",172],")",";",["T_WHITESPACE","\n    ",172],"}",["T_WHITESPACE","\n\n    ",173],["T_COMMENT","\/\/ Test resolving the French homepage using the incorrect processor order.\n",175],["T_WHITESPACE","    ",176],["T_VARIABLE","$test_path",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'\/fr'",176],";",["T_WHITESPACE","\n    ",176],["T_VARIABLE","$request",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_STRING","Request",177],["T_DOUBLE_COLON","::",177],["T_STRING","create",177],"(",["T_VARIABLE","$test_path",177],")",";",["T_WHITESPACE","\n    ",177],["T_VARIABLE","$processed",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$processor_manager",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","processInbound",178],"(",["T_VARIABLE","$test_path",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$request",178],")",";",["T_WHITESPACE","\n    ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","assertEquals",179],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$processed",179],",",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'Processing in the incorrect order fails to resolve the system path from the empty path'",179],")",";",["T_WHITESPACE","\n\n    ",179],["T_COMMENT","\/\/ Test resolving an existing alias using the incorrect processor order.\n",181],["T_WHITESPACE","    ",182],["T_VARIABLE","$test_path",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'\/fr\/foo'",182],";",["T_WHITESPACE","\n    ",182],["T_VARIABLE","$request",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_STRING","Request",183],["T_DOUBLE_COLON","::",183],["T_STRING","create",183],"(",["T_VARIABLE","$test_path",183],")",";",["T_WHITESPACE","\n    ",183],["T_VARIABLE","$processed",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$processor_manager",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","processInbound",184],"(",["T_VARIABLE","$test_path",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$request",184],")",";",["T_WHITESPACE","\n    ",184],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","assertEquals",185],"(",["T_CONSTANT_ENCAPSED_STRING","'\/foo'",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$processed",185],",",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'Processing in the incorrect order fails to resolve the system path from an alias'",185],")",";",["T_WHITESPACE","\n\n    ",185],["T_COMMENT","\/\/ Now create a new processor manager and add the processors, this time in\n",187],["T_WHITESPACE","    ",188],["T_COMMENT","\/\/ the correct order.\n",188],["T_WHITESPACE","    ",189],["T_VARIABLE","$processor_manager",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_NEW","new",189],["T_WHITESPACE"," ",189],["T_STRING","PathProcessorManager",189],"(",")",";",["T_WHITESPACE","\n    ",189],["T_VARIABLE","$priorities",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_ARRAY","array",190],"(",["T_WHITESPACE","\n      ",190],["T_LNUMBER","1000",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$decode_processor",191],",",["T_WHITESPACE","\n      ",191],["T_LNUMBER","500",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$language_processor",192],",",["T_WHITESPACE","\n      ",192],["T_LNUMBER","300",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$front_processor",193],",",["T_WHITESPACE","\n      ",193],["T_LNUMBER","200",194],["T_WHITESPACE"," ",194],["T_DOUBLE_ARROW","=>",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$alias_processor",194],",",["T_WHITESPACE","\n    ",194],")",";",["T_WHITESPACE","\n    ",195],["T_FOREACH","foreach",196],["T_WHITESPACE"," ",196],"(",["T_VARIABLE","$priorities",196],["T_WHITESPACE"," ",196],["T_AS","as",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$priority",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$processor",196],")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n      ",196],["T_VARIABLE","$processor_manager",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","addInbound",197],"(",["T_VARIABLE","$processor",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$priority",197],")",";",["T_WHITESPACE","\n    ",197],"}",["T_WHITESPACE","\n\n    ",198],["T_COMMENT","\/\/ Test resolving the French homepage using the correct processor order.\n",200],["T_WHITESPACE","    ",201],["T_VARIABLE","$test_path",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'\/fr'",201],";",["T_WHITESPACE","\n    ",201],["T_VARIABLE","$request",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_STRING","Request",202],["T_DOUBLE_COLON","::",202],["T_STRING","create",202],"(",["T_VARIABLE","$test_path",202],")",";",["T_WHITESPACE","\n    ",202],["T_VARIABLE","$processed",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$processor_manager",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","processInbound",203],"(",["T_VARIABLE","$test_path",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$request",203],")",";",["T_WHITESPACE","\n    ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","assertEquals",204],"(",["T_CONSTANT_ENCAPSED_STRING","'\/user\/login'",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$processed",204],",",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","'Processing in the correct order resolves the system path from the empty path.'",204],")",";",["T_WHITESPACE","\n\n    ",204],["T_COMMENT","\/\/ Test resolving an existing alias using the correct processor order.\n",206],["T_WHITESPACE","    ",207],["T_VARIABLE","$test_path",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'\/fr\/foo'",207],";",["T_WHITESPACE","\n    ",207],["T_VARIABLE","$request",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_STRING","Request",208],["T_DOUBLE_COLON","::",208],["T_STRING","create",208],"(",["T_VARIABLE","$test_path",208],")",";",["T_WHITESPACE","\n    ",208],["T_VARIABLE","$processed",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$processor_manager",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","processInbound",209],"(",["T_VARIABLE","$test_path",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$request",209],")",";",["T_WHITESPACE","\n    ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","assertEquals",210],"(",["T_CONSTANT_ENCAPSED_STRING","'\/user\/1'",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$processed",210],",",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'Processing in the correct order resolves the system path from an alias.'",210],")",";",["T_WHITESPACE","\n  ",210],"}",["T_WHITESPACE","\n\n",211],"}",["T_WHITESPACE","\n",213]]