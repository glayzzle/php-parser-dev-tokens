[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Menu",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Access",5],["T_NS_SEPARATOR","\\",5],["T_STRING","AccessResult",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Cache",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Context",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CacheContextsManager",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","DependencyInjection",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Container",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Menu",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DefaultMenuLinkTreeManipulators",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Menu",9],["T_NS_SEPARATOR","\\",9],["T_STRING","MenuLinkTreeElement",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Tests",10],["T_NS_SEPARATOR","\\",10],["T_STRING","UnitTestCase",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Tests the default menu link tree manipulators.\n *\n * @group Menu\n *\n * @coversDefaultClass \\Drupal\\Core\\Menu\\DefaultMenuLinkTreeManipulators\n *\/",12],["T_WHITESPACE","\n",18],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","DefaultMenuLinkTreeManipulatorsTest",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_STRING","UnitTestCase",19],["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * The mocked access manager.\n   *\n   * @var \\Drupal\\Core\\Access\\AccessManagerInterface|\\PHPUnit_Framework_MockObject_MockObject\n   *\/",21],["T_WHITESPACE","\n  ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$accessManager",26],";",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * The mocked current user.\n   *\n   * @var \\Drupal\\Core\\Session\\AccountInterface|\\PHPUnit_Framework_MockObject_MockObject\n   *\/",28],["T_WHITESPACE","\n  ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$currentUser",33],";",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * The mocked query factory.\n   *\n   * @var \\Drupal\\Core\\Entity\\Query\\QueryFactory|\\PHPUnit_Framework_MockObject_MockObject\n   *\/",35],["T_WHITESPACE","\n  ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$queryFactory",40],";",["T_WHITESPACE","\n\n  ",40],["T_DOC_COMMENT","\/**\n   * The default menu link tree manipulators.\n   *\n   * @var \\Drupal\\Core\\Menu\\DefaultMenuLinkTreeManipulators\n   *\/",42],["T_WHITESPACE","\n  ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$defaultMenuTreeManipulators",47],";",["T_WHITESPACE","\n\n  ",47],["T_DOC_COMMENT","\/**\n   * The original menu tree build in mockTree().\n   *\n   * @var \\Drupal\\Core\\Menu\\MenuLinkTreeElement[]\n   *\/",49],["T_WHITESPACE","\n  ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$originalTree",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_ARRAY","array",54],"(",")",";",["T_WHITESPACE","\n\n  ",54],["T_DOC_COMMENT","\/**\n   * Array of menu link instances\n   *\n   * @var \\Drupal\\Core\\Menu\\MenuLinkInterface[]\n   *\/",56],["T_WHITESPACE","\n  ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$links",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",")",";",["T_WHITESPACE","\n\n  ",61],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",63],["T_WHITESPACE","\n  ",65],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","setUp",66],"(",")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n    ",66],["T_STRING","parent",67],["T_DOUBLE_COLON","::",67],["T_STRING","setUp",67],"(",")",";",["T_WHITESPACE","\n\n    ",67],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","accessManager",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getMock",69],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Core\\Access\\AccessManagerInterface'",69],")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","currentUser",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getMock",70],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Session\\AccountInterface'",70],")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","currentUser",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","method",71],"(",["T_CONSTANT_ENCAPSED_STRING","'isAuthenticated'",71],")",["T_WHITESPACE","\n      ",71],["T_OBJECT_OPERATOR","->",72],["T_STRING","willReturn",72],"(",["T_STRING","TRUE",72],")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","queryFactory",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getMockBuilder",73],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Entity\\Query\\QueryFactory'",73],")",["T_WHITESPACE","\n      ",73],["T_OBJECT_OPERATOR","->",74],["T_STRING","disableOriginalConstructor",74],"(",")",["T_WHITESPACE","\n      ",74],["T_OBJECT_OPERATOR","->",75],["T_STRING","getMock",75],"(",")",";",["T_WHITESPACE","\n\n    ",75],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","defaultMenuTreeManipulators",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_NEW","new",77],["T_WHITESPACE"," ",77],["T_STRING","DefaultMenuLinkTreeManipulators",77],"(",["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","accessManager",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","currentUser",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","queryFactory",77],")",";",["T_WHITESPACE","\n\n    ",77],["T_VARIABLE","$cache_contexts_manager",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","prophesize",79],"(",["T_STRING","CacheContextsManager",79],["T_DOUBLE_COLON","::",79],["T_CLASS","class",79],")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$cache_contexts_manager",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertValidTokens",80],"(",")",["T_OBJECT_OPERATOR","->",80],["T_STRING","willReturn",80],"(",["T_STRING","TRUE",80],")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$cache_contexts_manager",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","reveal",81],"(",")",";",["T_WHITESPACE","\n\n    ",81],["T_VARIABLE","$container",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_NEW","new",83],["T_WHITESPACE"," ",83],["T_STRING","Container",83],"(",")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$container",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","set",84],"(",["T_CONSTANT_ENCAPSED_STRING","'cache_contexts_manager'",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$cache_contexts_manager",84],")",";",["T_WHITESPACE","\n    ",84],["T_NS_SEPARATOR","\\",85],["T_STRING","Drupal",85],["T_DOUBLE_COLON","::",85],["T_STRING","setContainer",85],"(",["T_VARIABLE","$container",85],")",";",["T_WHITESPACE","\n  ",85],"}",["T_WHITESPACE","\n\n  ",86],["T_DOC_COMMENT","\/**\n   * Creates a mock tree.\n   *\n   * This mocks a tree with the following structure:\n   * - 1\n   * - 2\n   *   - 3\n   *     - 4\n   * - 5\n   *   - 7\n   * - 6\n   * - 8\n   * - 9\n   *\n   * With link 6 being the only external link.\n   *\/",88],["T_WHITESPACE","\n  ",103],["T_PROTECTED","protected",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","mockTree",104],"(",")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","links",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_ARRAY","array",105],"(",["T_WHITESPACE","\n      ",105],["T_LNUMBER","1",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_STRING","MenuLinkMock",106],["T_DOUBLE_COLON","::",106],["T_STRING","create",106],"(",["T_ARRAY","array",106],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'test.example1'",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'route_name'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'example1'",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'title'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'foo'",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'parent'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","''",106],")",")",",",["T_WHITESPACE","\n      ",106],["T_LNUMBER","2",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_STRING","MenuLinkMock",107],["T_DOUBLE_COLON","::",107],["T_STRING","create",107],"(",["T_ARRAY","array",107],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'test.example2'",107],",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'route_name'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'example2'",107],",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'title'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'bar'",107],",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'parent'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'test.example1'",107],",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'route_parameters'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_ARRAY","array",107],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'bar'",107],")",")",")",",",["T_WHITESPACE","\n      ",107],["T_LNUMBER","3",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_STRING","MenuLinkMock",108],["T_DOUBLE_COLON","::",108],["T_STRING","create",108],"(",["T_ARRAY","array",108],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'test.example3'",108],",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'route_name'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'example3'",108],",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'title'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'baz'",108],",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'parent'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'test.example2'",108],",",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'route_parameters'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_ARRAY","array",108],"(",["T_CONSTANT_ENCAPSED_STRING","'baz'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'qux'",108],")",")",")",",",["T_WHITESPACE","\n      ",108],["T_LNUMBER","4",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_STRING","MenuLinkMock",109],["T_DOUBLE_COLON","::",109],["T_STRING","create",109],"(",["T_ARRAY","array",109],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'test.example4'",109],",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'route_name'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'example4'",109],",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'title'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'qux'",109],",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'parent'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'test.example3'",109],")",")",",",["T_WHITESPACE","\n      ",109],["T_LNUMBER","5",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_STRING","MenuLinkMock",110],["T_DOUBLE_COLON","::",110],["T_STRING","create",110],"(",["T_ARRAY","array",110],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'test.example5'",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'route_name'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'example5'",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'title'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'foofoo'",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'parent'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","''",110],")",")",",",["T_WHITESPACE","\n      ",110],["T_LNUMBER","6",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_STRING","MenuLinkMock",111],["T_DOUBLE_COLON","::",111],["T_STRING","create",111],"(",["T_ARRAY","array",111],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'test.example6'",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'route_name'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","''",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'url'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.drupal.org\/'",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'title'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'barbar'",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'parent'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","''",111],")",")",",",["T_WHITESPACE","\n      ",111],["T_LNUMBER","7",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_STRING","MenuLinkMock",112],["T_DOUBLE_COLON","::",112],["T_STRING","create",112],"(",["T_ARRAY","array",112],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'test.example7'",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'route_name'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'example7'",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'title'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'bazbaz'",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'parent'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","''",112],")",")",",",["T_WHITESPACE","\n      ",112],["T_LNUMBER","8",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_STRING","MenuLinkMock",113],["T_DOUBLE_COLON","::",113],["T_STRING","create",113],"(",["T_ARRAY","array",113],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'test.example8'",113],",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'route_name'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'example8'",113],",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'title'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'quxqux'",113],",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'parent'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","''",113],")",")",",",["T_WHITESPACE","\n      ",113],["T_LNUMBER","9",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_STRING","DynamicMenuLinkMock",114],["T_DOUBLE_COLON","::",114],["T_STRING","create",114],"(",["T_ARRAY","array",114],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'test.example9'",114],",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'parent'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","''",114],")",")",["T_OBJECT_OPERATOR","->",114],["T_STRING","setCurrentUser",114],"(",["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","currentUser",114],")",",",["T_WHITESPACE","\n    ",114],")",";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","originalTree",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_ARRAY","array",116],"(",")",";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","originalTree",117],"[",["T_LNUMBER","1",117],"]",["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_NEW","new",117],["T_WHITESPACE"," ",117],["T_STRING","MenuLinkTreeElement",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","links",117],"[",["T_LNUMBER","1",117],"]",",",["T_WHITESPACE"," ",117],["T_STRING","FALSE",117],",",["T_WHITESPACE"," ",117],["T_LNUMBER","1",117],",",["T_WHITESPACE"," ",117],["T_STRING","FALSE",117],",",["T_WHITESPACE"," ",117],["T_ARRAY","array",117],"(",")",")",";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","originalTree",118],"[",["T_LNUMBER","2",118],"]",["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_NEW","new",118],["T_WHITESPACE"," ",118],["T_STRING","MenuLinkTreeElement",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","links",118],"[",["T_LNUMBER","2",118],"]",",",["T_WHITESPACE"," ",118],["T_STRING","TRUE",118],",",["T_WHITESPACE"," ",118],["T_LNUMBER","1",118],",",["T_WHITESPACE"," ",118],["T_STRING","FALSE",118],",",["T_WHITESPACE"," ",118],["T_ARRAY","array",118],"(",["T_WHITESPACE","\n      ",118],["T_LNUMBER","3",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_NEW","new",119],["T_WHITESPACE"," ",119],["T_STRING","MenuLinkTreeElement",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","links",119],"[",["T_LNUMBER","3",119],"]",",",["T_WHITESPACE"," ",119],["T_STRING","TRUE",119],",",["T_WHITESPACE"," ",119],["T_LNUMBER","2",119],",",["T_WHITESPACE"," ",119],["T_STRING","FALSE",119],",",["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",["T_WHITESPACE","\n        ",119],["T_LNUMBER","4",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_NEW","new",120],["T_WHITESPACE"," ",120],["T_STRING","MenuLinkTreeElement",120],"(",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","links",120],"[",["T_LNUMBER","4",120],"]",",",["T_WHITESPACE"," ",120],["T_STRING","FALSE",120],",",["T_WHITESPACE"," ",120],["T_LNUMBER","3",120],",",["T_WHITESPACE"," ",120],["T_STRING","FALSE",120],",",["T_WHITESPACE"," ",120],["T_ARRAY","array",120],"(",")",")",",",["T_WHITESPACE","\n      ",120],")",")",",",["T_WHITESPACE","\n    ",121],")",")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","originalTree",123],"[",["T_LNUMBER","5",123],"]",["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_NEW","new",123],["T_WHITESPACE"," ",123],["T_STRING","MenuLinkTreeElement",123],"(",["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","links",123],"[",["T_LNUMBER","5",123],"]",",",["T_WHITESPACE"," ",123],["T_STRING","TRUE",123],",",["T_WHITESPACE"," ",123],["T_LNUMBER","1",123],",",["T_WHITESPACE"," ",123],["T_STRING","FALSE",123],",",["T_WHITESPACE"," ",123],["T_ARRAY","array",123],"(",["T_WHITESPACE","\n      ",123],["T_LNUMBER","7",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_NEW","new",124],["T_WHITESPACE"," ",124],["T_STRING","MenuLinkTreeElement",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","links",124],"[",["T_LNUMBER","7",124],"]",",",["T_WHITESPACE"," ",124],["T_STRING","FALSE",124],",",["T_WHITESPACE"," ",124],["T_LNUMBER","2",124],",",["T_WHITESPACE"," ",124],["T_STRING","FALSE",124],",",["T_WHITESPACE"," ",124],["T_ARRAY","array",124],"(",")",")",",",["T_WHITESPACE","\n    ",124],")",")",";",["T_WHITESPACE","\n    ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","originalTree",126],"[",["T_LNUMBER","6",126],"]",["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_NEW","new",126],["T_WHITESPACE"," ",126],["T_STRING","MenuLinkTreeElement",126],"(",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","links",126],"[",["T_LNUMBER","6",126],"]",",",["T_WHITESPACE"," ",126],["T_STRING","FALSE",126],",",["T_WHITESPACE"," ",126],["T_LNUMBER","1",126],",",["T_WHITESPACE"," ",126],["T_STRING","FALSE",126],",",["T_WHITESPACE"," ",126],["T_ARRAY","array",126],"(",")",")",";",["T_WHITESPACE","\n    ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","originalTree",127],"[",["T_LNUMBER","8",127],"]",["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_NEW","new",127],["T_WHITESPACE"," ",127],["T_STRING","MenuLinkTreeElement",127],"(",["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","links",127],"[",["T_LNUMBER","8",127],"]",",",["T_WHITESPACE"," ",127],["T_STRING","FALSE",127],",",["T_WHITESPACE"," ",127],["T_LNUMBER","1",127],",",["T_WHITESPACE"," ",127],["T_STRING","FALSE",127],",",["T_WHITESPACE"," ",127],["T_ARRAY","array",127],"(",")",")",";",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","originalTree",128],"[",["T_LNUMBER","9",128],"]",["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_NEW","new",128],["T_WHITESPACE"," ",128],["T_STRING","MenuLinkTreeElement",128],"(",["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","links",128],"[",["T_LNUMBER","9",128],"]",",",["T_WHITESPACE"," ",128],["T_STRING","FALSE",128],",",["T_WHITESPACE"," ",128],["T_LNUMBER","1",128],",",["T_WHITESPACE"," ",128],["T_STRING","FALSE",128],",",["T_WHITESPACE"," ",128],["T_ARRAY","array",128],"(",")",")",";",["T_WHITESPACE","\n  ",128],"}",["T_WHITESPACE","\n\n  ",129],["T_DOC_COMMENT","\/**\n   * Tests the generateIndexAndSort() tree manipulator.\n   *\n   * @covers ::generateIndexAndSort\n   *\/",131],["T_WHITESPACE","\n  ",135],["T_PUBLIC","public",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","testGenerateIndexAndSort",136],"(",")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","mockTree",137],"(",")",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$tree",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","originalTree",138],";",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$tree",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","defaultMenuTreeManipulators",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","generateIndexAndSort",139],"(",["T_VARIABLE","$tree",139],")",";",["T_WHITESPACE","\n\n    ",139],["T_COMMENT","\/\/ Validate that parent elements #1, #2, #5 and #6 exist on the root level.\n",141],["T_WHITESPACE","    ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","assertEquals",142],"(",["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","links",142],"[",["T_LNUMBER","1",142],"]",["T_OBJECT_OPERATOR","->",142],["T_STRING","getPluginId",142],"(",")",",",["T_WHITESPACE"," ",142],["T_VARIABLE","$tree",142],"[",["T_CONSTANT_ENCAPSED_STRING","'50000 foo test.example1'",142],"]",["T_OBJECT_OPERATOR","->",142],["T_STRING","link",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getPluginId",142],"(",")",")",";",["T_WHITESPACE","\n    ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","assertEquals",143],"(",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","links",143],"[",["T_LNUMBER","2",143],"]",["T_OBJECT_OPERATOR","->",143],["T_STRING","getPluginId",143],"(",")",",",["T_WHITESPACE"," ",143],["T_VARIABLE","$tree",143],"[",["T_CONSTANT_ENCAPSED_STRING","'50000 bar test.example2'",143],"]",["T_OBJECT_OPERATOR","->",143],["T_STRING","link",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getPluginId",143],"(",")",")",";",["T_WHITESPACE","\n    ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","assertEquals",144],"(",["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","links",144],"[",["T_LNUMBER","5",144],"]",["T_OBJECT_OPERATOR","->",144],["T_STRING","getPluginId",144],"(",")",",",["T_WHITESPACE"," ",144],["T_VARIABLE","$tree",144],"[",["T_CONSTANT_ENCAPSED_STRING","'50000 foofoo test.example5'",144],"]",["T_OBJECT_OPERATOR","->",144],["T_STRING","link",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getPluginId",144],"(",")",")",";",["T_WHITESPACE","\n    ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","assertEquals",145],"(",["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","links",145],"[",["T_LNUMBER","6",145],"]",["T_OBJECT_OPERATOR","->",145],["T_STRING","getPluginId",145],"(",")",",",["T_WHITESPACE"," ",145],["T_VARIABLE","$tree",145],"[",["T_CONSTANT_ENCAPSED_STRING","'50000 barbar test.example6'",145],"]",["T_OBJECT_OPERATOR","->",145],["T_STRING","link",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getPluginId",145],"(",")",")",";",["T_WHITESPACE","\n    ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","assertEquals",146],"(",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","links",146],"[",["T_LNUMBER","8",146],"]",["T_OBJECT_OPERATOR","->",146],["T_STRING","getPluginId",146],"(",")",",",["T_WHITESPACE"," ",146],["T_VARIABLE","$tree",146],"[",["T_CONSTANT_ENCAPSED_STRING","'50000 quxqux test.example8'",146],"]",["T_OBJECT_OPERATOR","->",146],["T_STRING","link",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getPluginId",146],"(",")",")",";",["T_WHITESPACE","\n\n    ",146],["T_COMMENT","\/\/ Verify that child element #4 is at the correct location in the hierarchy.\n",148],["T_WHITESPACE","    ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","assertEquals",149],"(",["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","links",149],"[",["T_LNUMBER","4",149],"]",["T_OBJECT_OPERATOR","->",149],["T_STRING","getPluginId",149],"(",")",",",["T_WHITESPACE"," ",149],["T_VARIABLE","$tree",149],"[",["T_CONSTANT_ENCAPSED_STRING","'50000 bar test.example2'",149],"]",["T_OBJECT_OPERATOR","->",149],["T_STRING","subtree",149],"[",["T_CONSTANT_ENCAPSED_STRING","'50000 baz test.example3'",149],"]",["T_OBJECT_OPERATOR","->",149],["T_STRING","subtree",149],"[",["T_CONSTANT_ENCAPSED_STRING","'50000 qux test.example4'",149],"]",["T_OBJECT_OPERATOR","->",149],["T_STRING","link",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getPluginId",149],"(",")",")",";",["T_WHITESPACE","\n    ",149],["T_COMMENT","\/\/ Verify that child element #7 is at the correct location in the hierarchy.\n",150],["T_WHITESPACE","    ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","assertEquals",151],"(",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","links",151],"[",["T_LNUMBER","7",151],"]",["T_OBJECT_OPERATOR","->",151],["T_STRING","getPluginId",151],"(",")",",",["T_WHITESPACE"," ",151],["T_VARIABLE","$tree",151],"[",["T_CONSTANT_ENCAPSED_STRING","'50000 foofoo test.example5'",151],"]",["T_OBJECT_OPERATOR","->",151],["T_STRING","subtree",151],"[",["T_CONSTANT_ENCAPSED_STRING","'50000 bazbaz test.example7'",151],"]",["T_OBJECT_OPERATOR","->",151],["T_STRING","link",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getPluginId",151],"(",")",")",";",["T_WHITESPACE","\n  ",151],"}",["T_WHITESPACE","\n\n  ",152],["T_DOC_COMMENT","\/**\n   * Tests the checkAccess() tree manipulator.\n   *\n   * @covers ::checkAccess\n   * @covers ::menuLinkCheckAccess\n   *\/",154],["T_WHITESPACE","\n  ",159],["T_PUBLIC","public",160],["T_WHITESPACE"," ",160],["T_FUNCTION","function",160],["T_WHITESPACE"," ",160],["T_STRING","testCheckAccess",160],"(",")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n    ",160],["T_COMMENT","\/\/ Those menu links that are non-external will have their access checks\n",161],["T_WHITESPACE","    ",162],["T_COMMENT","\/\/ performed. 9 routes, but 1 is external, 2 already have their 'access'\n",162],["T_WHITESPACE","    ",163],["T_COMMENT","\/\/ property set, and 1 is a child if an inaccessible menu link, so only 5\n",163],["T_WHITESPACE","    ",164],["T_COMMENT","\/\/ calls will be made.\n",164],["T_WHITESPACE","    ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","accessManager",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","expects",165],"(",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","exactly",165],"(",["T_LNUMBER","5",165],")",")",["T_WHITESPACE","\n      ",165],["T_OBJECT_OPERATOR","->",166],["T_STRING","method",166],"(",["T_CONSTANT_ENCAPSED_STRING","'checkNamedRoute'",166],")",["T_WHITESPACE","\n      ",166],["T_OBJECT_OPERATOR","->",167],["T_STRING","will",167],"(",["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","returnValueMap",167],"(",["T_ARRAY","array",167],"(",["T_WHITESPACE","\n        ",167],["T_ARRAY","array",168],"(",["T_CONSTANT_ENCAPSED_STRING","'example1'",168],",",["T_WHITESPACE"," ",168],["T_ARRAY","array",168],"(",")",",",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","currentUser",168],",",["T_WHITESPACE"," ",168],["T_STRING","TRUE",168],",",["T_WHITESPACE"," ",168],["T_STRING","AccessResult",168],["T_DOUBLE_COLON","::",168],["T_STRING","forbidden",168],"(",")",")",",",["T_WHITESPACE","\n        ",168],["T_ARRAY","array",169],"(",["T_CONSTANT_ENCAPSED_STRING","'example2'",169],",",["T_WHITESPACE"," ",169],["T_ARRAY","array",169],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'bar'",169],")",",",["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","currentUser",169],",",["T_WHITESPACE"," ",169],["T_STRING","TRUE",169],",",["T_WHITESPACE"," ",169],["T_STRING","AccessResult",169],["T_DOUBLE_COLON","::",169],["T_STRING","allowed",169],"(",")",["T_OBJECT_OPERATOR","->",169],["T_STRING","cachePerPermissions",169],"(",")",")",",",["T_WHITESPACE","\n        ",169],["T_ARRAY","array",170],"(",["T_CONSTANT_ENCAPSED_STRING","'example3'",170],",",["T_WHITESPACE"," ",170],["T_ARRAY","array",170],"(",["T_CONSTANT_ENCAPSED_STRING","'baz'",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'qux'",170],")",",",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","currentUser",170],",",["T_WHITESPACE"," ",170],["T_STRING","TRUE",170],",",["T_WHITESPACE"," ",170],["T_STRING","AccessResult",170],["T_DOUBLE_COLON","::",170],["T_STRING","neutral",170],"(",")",")",",",["T_WHITESPACE","\n        ",170],["T_ARRAY","array",171],"(",["T_CONSTANT_ENCAPSED_STRING","'example5'",171],",",["T_WHITESPACE"," ",171],["T_ARRAY","array",171],"(",")",",",["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","currentUser",171],",",["T_WHITESPACE"," ",171],["T_STRING","TRUE",171],",",["T_WHITESPACE"," ",171],["T_STRING","AccessResult",171],["T_DOUBLE_COLON","::",171],["T_STRING","allowed",171],"(",")",")",",",["T_WHITESPACE","\n        ",171],["T_ARRAY","array",172],"(",["T_CONSTANT_ENCAPSED_STRING","'user.logout'",172],",",["T_WHITESPACE"," ",172],["T_ARRAY","array",172],"(",")",",",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","currentUser",172],",",["T_WHITESPACE"," ",172],["T_STRING","TRUE",172],",",["T_WHITESPACE"," ",172],["T_STRING","AccessResult",172],["T_DOUBLE_COLON","::",172],["T_STRING","allowed",172],"(",")",")",",",["T_WHITESPACE","\n      ",172],")",")",")",";",["T_WHITESPACE","\n\n    ",173],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","mockTree",175],"(",")",";",["T_WHITESPACE","\n    ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","originalTree",176],"[",["T_LNUMBER","5",176],"]",["T_OBJECT_OPERATOR","->",176],["T_STRING","subtree",176],"[",["T_LNUMBER","7",176],"]",["T_OBJECT_OPERATOR","->",176],["T_STRING","access",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_STRING","AccessResult",176],["T_DOUBLE_COLON","::",176],["T_STRING","neutral",176],"(",")",";",["T_WHITESPACE","\n    ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","originalTree",177],"[",["T_LNUMBER","8",177],"]",["T_OBJECT_OPERATOR","->",177],["T_STRING","access",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_STRING","AccessResult",177],["T_DOUBLE_COLON","::",177],["T_STRING","allowed",177],"(",")",["T_OBJECT_OPERATOR","->",177],["T_STRING","cachePerUser",177],"(",")",";",["T_WHITESPACE","\n\n    ",177],["T_COMMENT","\/\/ Since \\Drupal\\Core\\Menu\\DefaultMenuLinkTreeManipulators::checkAccess()\n",179],["T_WHITESPACE","    ",180],["T_COMMENT","\/\/ allows access to any link if the user has the 'link to any page'\n",180],["T_WHITESPACE","    ",181],["T_COMMENT","\/\/ permission, *every* single access result is varied by permissions.\n",181],["T_WHITESPACE","    ",182],["T_VARIABLE","$tree",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","defaultMenuTreeManipulators",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","checkAccess",182],"(",["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","originalTree",182],")",";",["T_WHITESPACE","\n\n    ",182],["T_COMMENT","\/\/ Menu link 1: route without parameters, access forbidden, but at level 0,\n",184],["T_WHITESPACE","    ",185],["T_COMMENT","\/\/ hence kept.\n",185],["T_WHITESPACE","    ",186],["T_VARIABLE","$element",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$tree",186],"[",["T_LNUMBER","1",186],"]",";",["T_WHITESPACE","\n    ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","assertEquals",187],"(",["T_STRING","AccessResult",187],["T_DOUBLE_COLON","::",187],["T_STRING","forbidden",187],"(",")",["T_OBJECT_OPERATOR","->",187],["T_STRING","cachePerPermissions",187],"(",")",",",["T_WHITESPACE"," ",187],["T_VARIABLE","$element",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","access",187],")",";",["T_WHITESPACE","\n    ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","assertInstanceOf",188],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Core\\Menu\\InaccessibleMenuLink'",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$element",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","link",188],")",";",["T_WHITESPACE","\n    ",188],["T_COMMENT","\/\/ Menu link 2: route with parameters, access granted.\n",189],["T_WHITESPACE","    ",190],["T_VARIABLE","$element",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$tree",190],"[",["T_LNUMBER","2",190],"]",";",["T_WHITESPACE","\n    ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","assertEquals",191],"(",["T_STRING","AccessResult",191],["T_DOUBLE_COLON","::",191],["T_STRING","allowed",191],"(",")",["T_OBJECT_OPERATOR","->",191],["T_STRING","cachePerPermissions",191],"(",")",",",["T_WHITESPACE"," ",191],["T_VARIABLE","$element",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","access",191],")",";",["T_WHITESPACE","\n    ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","assertNotInstanceOf",192],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Core\\Menu\\InaccessibleMenuLink'",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$element",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","link",192],")",";",["T_WHITESPACE","\n    ",192],["T_COMMENT","\/\/ Menu link 3: route with parameters, AccessResult::neutral(), top-level\n",193],["T_WHITESPACE","    ",194],["T_COMMENT","\/\/ inaccessible link, hence kept for its cacheability metadata.\n",194],["T_WHITESPACE","    ",195],["T_COMMENT","\/\/ Note that the permissions cache context is added automatically, because\n",195],["T_WHITESPACE","    ",196],["T_COMMENT","\/\/ we always check the \"link to any page\" permission.\n",196],["T_WHITESPACE","    ",197],["T_VARIABLE","$element",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$tree",197],"[",["T_LNUMBER","2",197],"]",["T_OBJECT_OPERATOR","->",197],["T_STRING","subtree",197],"[",["T_LNUMBER","3",197],"]",";",["T_WHITESPACE","\n    ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","assertEquals",198],"(",["T_STRING","AccessResult",198],["T_DOUBLE_COLON","::",198],["T_STRING","neutral",198],"(",")",["T_OBJECT_OPERATOR","->",198],["T_STRING","cachePerPermissions",198],"(",")",",",["T_WHITESPACE"," ",198],["T_VARIABLE","$element",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","access",198],")",";",["T_WHITESPACE","\n    ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","assertInstanceOf",199],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Core\\Menu\\InaccessibleMenuLink'",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$element",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","link",199],")",";",["T_WHITESPACE","\n    ",199],["T_COMMENT","\/\/ Menu link 4: child of menu link 3, which was AccessResult::neutral(),\n",200],["T_WHITESPACE","    ",201],["T_COMMENT","\/\/ hence menu link 3's subtree is removed, of which this menu link is one.\n",201],["T_WHITESPACE","    ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","assertFalse",202],"(",["T_STRING","array_key_exists",202],"(",["T_LNUMBER","4",202],",",["T_WHITESPACE"," ",202],["T_VARIABLE","$tree",202],"[",["T_LNUMBER","2",202],"]",["T_OBJECT_OPERATOR","->",202],["T_STRING","subtree",202],"[",["T_LNUMBER","3",202],"]",["T_OBJECT_OPERATOR","->",202],["T_STRING","subtree",202],")",")",";",["T_WHITESPACE","\n    ",202],["T_COMMENT","\/\/ Menu link 5: no route name, treated as external, hence access granted.\n",203],["T_WHITESPACE","    ",204],["T_VARIABLE","$element",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$tree",204],"[",["T_LNUMBER","5",204],"]",";",["T_WHITESPACE","\n    ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","assertEquals",205],"(",["T_STRING","AccessResult",205],["T_DOUBLE_COLON","::",205],["T_STRING","allowed",205],"(",")",["T_OBJECT_OPERATOR","->",205],["T_STRING","cachePerPermissions",205],"(",")",",",["T_WHITESPACE"," ",205],["T_VARIABLE","$element",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","access",205],")",";",["T_WHITESPACE","\n    ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","assertNotInstanceOf",206],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Core\\Menu\\InaccessibleMenuLink'",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$element",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","link",206],")",";",["T_WHITESPACE","\n    ",206],["T_COMMENT","\/\/ Menu link 6: external URL, hence access granted.\n",207],["T_WHITESPACE","    ",208],["T_VARIABLE","$element",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$tree",208],"[",["T_LNUMBER","6",208],"]",";",["T_WHITESPACE","\n    ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","assertEquals",209],"(",["T_STRING","AccessResult",209],["T_DOUBLE_COLON","::",209],["T_STRING","allowed",209],"(",")",["T_OBJECT_OPERATOR","->",209],["T_STRING","cachePerPermissions",209],"(",")",",",["T_WHITESPACE"," ",209],["T_VARIABLE","$element",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","access",209],")",";",["T_WHITESPACE","\n    ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","assertNotInstanceOf",210],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Core\\Menu\\InaccessibleMenuLink'",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$element",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","link",210],")",";",["T_WHITESPACE","\n    ",210],["T_COMMENT","\/\/ Menu link 7: 'access' already set: AccessResult::neutral(), top-level\n",211],["T_WHITESPACE","    ",212],["T_COMMENT","\/\/ inaccessible link, hence kept for its cacheability metadata.\n",212],["T_WHITESPACE","    ",213],["T_COMMENT","\/\/ Note that unlike for menu link 3, the permission cache context is absent,\n",213],["T_WHITESPACE","    ",214],["T_COMMENT","\/\/ because ::checkAccess() doesn't perform access checking when 'access' is\n",214],["T_WHITESPACE","    ",215],["T_COMMENT","\/\/ already set.\n",215],["T_WHITESPACE","    ",216],["T_VARIABLE","$element",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$tree",216],"[",["T_LNUMBER","5",216],"]",["T_OBJECT_OPERATOR","->",216],["T_STRING","subtree",216],"[",["T_LNUMBER","7",216],"]",";",["T_WHITESPACE","\n    ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","assertEquals",217],"(",["T_STRING","AccessResult",217],["T_DOUBLE_COLON","::",217],["T_STRING","neutral",217],"(",")",",",["T_WHITESPACE"," ",217],["T_VARIABLE","$element",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","access",217],")",";",["T_WHITESPACE","\n    ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","assertInstanceOf",218],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Core\\Menu\\InaccessibleMenuLink'",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$element",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","link",218],")",";",["T_WHITESPACE","\n    ",218],["T_COMMENT","\/\/ Menu link 8: 'access' already set, note that 'per permissions' caching\n",219],["T_WHITESPACE","    ",220],["T_COMMENT","\/\/ is not added.\n",220],["T_WHITESPACE","    ",221],["T_VARIABLE","$element",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_VARIABLE","$tree",221],"[",["T_LNUMBER","8",221],"]",";",["T_WHITESPACE","\n    ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","assertEquals",222],"(",["T_STRING","AccessResult",222],["T_DOUBLE_COLON","::",222],["T_STRING","allowed",222],"(",")",["T_OBJECT_OPERATOR","->",222],["T_STRING","cachePerUser",222],"(",")",",",["T_WHITESPACE"," ",222],["T_VARIABLE","$element",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","access",222],")",";",["T_WHITESPACE","\n    ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","assertNotInstanceOf",223],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Core\\Menu\\InaccessibleMenuLink'",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$element",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","link",223],")",";",["T_WHITESPACE","\n  ",223],"}",["T_WHITESPACE","\n\n  ",224],["T_DOC_COMMENT","\/**\n   * Tests checkAccess() tree manipulator with 'link to any page' permission.\n   *\n   * @covers ::checkAccess\n   * @covers ::menuLinkCheckAccess\n   *\/",226],["T_WHITESPACE","\n  ",231],["T_PUBLIC","public",232],["T_WHITESPACE"," ",232],["T_FUNCTION","function",232],["T_WHITESPACE"," ",232],["T_STRING","testCheckAccessWithLinkToAnyPagePermission",232],"(",")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n    ",232],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","mockTree",233],"(",")",";",["T_WHITESPACE","\n    ",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","currentUser",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","expects",234],"(",["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","exactly",234],"(",["T_LNUMBER","9",234],")",")",["T_WHITESPACE","\n      ",234],["T_OBJECT_OPERATOR","->",235],["T_STRING","method",235],"(",["T_CONSTANT_ENCAPSED_STRING","'hasPermission'",235],")",["T_WHITESPACE","\n      ",235],["T_OBJECT_OPERATOR","->",236],["T_STRING","with",236],"(",["T_CONSTANT_ENCAPSED_STRING","'link to any page'",236],")",["T_WHITESPACE","\n      ",236],["T_OBJECT_OPERATOR","->",237],["T_STRING","willReturn",237],"(",["T_STRING","TRUE",237],")",";",["T_WHITESPACE","\n\n    ",237],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","mockTree",239],"(",")",";",["T_WHITESPACE","\n    ",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","defaultMenuTreeManipulators",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","checkAccess",240],"(",["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","originalTree",240],")",";",["T_WHITESPACE","\n\n    ",240],["T_VARIABLE","$expected_access_result",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_STRING","AccessResult",242],["T_DOUBLE_COLON","::",242],["T_STRING","allowed",242],"(",")",["T_OBJECT_OPERATOR","->",242],["T_STRING","cachePerPermissions",242],"(",")",";",["T_WHITESPACE","\n    ",242],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","assertEquals",243],"(",["T_VARIABLE","$expected_access_result",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","originalTree",243],"[",["T_LNUMBER","1",243],"]",["T_OBJECT_OPERATOR","->",243],["T_STRING","access",243],")",";",["T_WHITESPACE","\n    ",243],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","assertEquals",244],"(",["T_VARIABLE","$expected_access_result",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","originalTree",244],"[",["T_LNUMBER","2",244],"]",["T_OBJECT_OPERATOR","->",244],["T_STRING","access",244],")",";",["T_WHITESPACE","\n    ",244],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","assertEquals",245],"(",["T_VARIABLE","$expected_access_result",245],",",["T_WHITESPACE"," ",245],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","originalTree",245],"[",["T_LNUMBER","2",245],"]",["T_OBJECT_OPERATOR","->",245],["T_STRING","subtree",245],"[",["T_LNUMBER","3",245],"]",["T_OBJECT_OPERATOR","->",245],["T_STRING","access",245],")",";",["T_WHITESPACE","\n    ",245],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","assertEquals",246],"(",["T_VARIABLE","$expected_access_result",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","originalTree",246],"[",["T_LNUMBER","2",246],"]",["T_OBJECT_OPERATOR","->",246],["T_STRING","subtree",246],"[",["T_LNUMBER","3",246],"]",["T_OBJECT_OPERATOR","->",246],["T_STRING","subtree",246],"[",["T_LNUMBER","4",246],"]",["T_OBJECT_OPERATOR","->",246],["T_STRING","access",246],")",";",["T_WHITESPACE","\n    ",246],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","assertEquals",247],"(",["T_VARIABLE","$expected_access_result",247],",",["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","originalTree",247],"[",["T_LNUMBER","5",247],"]",["T_OBJECT_OPERATOR","->",247],["T_STRING","subtree",247],"[",["T_LNUMBER","7",247],"]",["T_OBJECT_OPERATOR","->",247],["T_STRING","access",247],")",";",["T_WHITESPACE","\n    ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","assertEquals",248],"(",["T_VARIABLE","$expected_access_result",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","originalTree",248],"[",["T_LNUMBER","6",248],"]",["T_OBJECT_OPERATOR","->",248],["T_STRING","access",248],")",";",["T_WHITESPACE","\n    ",248],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","assertEquals",249],"(",["T_VARIABLE","$expected_access_result",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","originalTree",249],"[",["T_LNUMBER","8",249],"]",["T_OBJECT_OPERATOR","->",249],["T_STRING","access",249],")",";",["T_WHITESPACE","\n    ",249],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","assertEquals",250],"(",["T_VARIABLE","$expected_access_result",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","originalTree",250],"[",["T_LNUMBER","9",250],"]",["T_OBJECT_OPERATOR","->",250],["T_STRING","access",250],")",";",["T_WHITESPACE","\n  ",250],"}",["T_WHITESPACE","\n\n  ",251],["T_DOC_COMMENT","\/**\n   * Tests the flatten() tree manipulator.\n   *\n   * @covers ::flatten\n   *\/",253],["T_WHITESPACE","\n  ",257],["T_PUBLIC","public",258],["T_WHITESPACE"," ",258],["T_FUNCTION","function",258],["T_WHITESPACE"," ",258],["T_STRING","testFlatten",258],"(",")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n    ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","mockTree",259],"(",")",";",["T_WHITESPACE","\n    ",259],["T_VARIABLE","$tree",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","defaultMenuTreeManipulators",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","flatten",260],"(",["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","originalTree",260],")",";",["T_WHITESPACE","\n    ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","assertEquals",261],"(",["T_ARRAY","array",261],"(",["T_LNUMBER","1",261],",",["T_WHITESPACE"," ",261],["T_LNUMBER","2",261],",",["T_WHITESPACE"," ",261],["T_LNUMBER","5",261],",",["T_WHITESPACE"," ",261],["T_LNUMBER","6",261],",",["T_WHITESPACE"," ",261],["T_LNUMBER","8",261],",",["T_WHITESPACE"," ",261],["T_LNUMBER","9",261],")",",",["T_WHITESPACE"," ",261],["T_STRING","array_keys",261],"(",["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","originalTree",261],")",")",";",["T_WHITESPACE","\n    ",261],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","assertEquals",262],"(",["T_ARRAY","array",262],"(",["T_LNUMBER","1",262],",",["T_WHITESPACE"," ",262],["T_LNUMBER","2",262],",",["T_WHITESPACE"," ",262],["T_LNUMBER","5",262],",",["T_WHITESPACE"," ",262],["T_LNUMBER","6",262],",",["T_WHITESPACE"," ",262],["T_LNUMBER","8",262],",",["T_WHITESPACE"," ",262],["T_LNUMBER","9",262],",",["T_WHITESPACE"," ",262],["T_LNUMBER","3",262],",",["T_WHITESPACE"," ",262],["T_LNUMBER","4",262],",",["T_WHITESPACE"," ",262],["T_LNUMBER","7",262],")",",",["T_WHITESPACE"," ",262],["T_STRING","array_keys",262],"(",["T_VARIABLE","$tree",262],")",")",";",["T_WHITESPACE","\n  ",262],"}",["T_WHITESPACE","\n\n  ",263],["T_DOC_COMMENT","\/**\n   * Tests the optimized node access checking.\n   *\n   * @covers ::checkNodeAccess\n   * @covers ::collectNodeLinks\n   * @covers ::checkAccess\n   *\/",265],["T_WHITESPACE","\n  ",271],["T_PUBLIC","public",272],["T_WHITESPACE"," ",272],["T_FUNCTION","function",272],["T_WHITESPACE"," ",272],["T_STRING","testCheckNodeAccess",272],"(",")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n    ",272],["T_VARIABLE","$links",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_ARRAY","array",273],"(",["T_WHITESPACE","\n      ",273],["T_LNUMBER","1",274],["T_WHITESPACE"," ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],["T_STRING","MenuLinkMock",274],["T_DOUBLE_COLON","::",274],["T_STRING","create",274],"(",["T_ARRAY","array",274],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",274],["T_WHITESPACE"," ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'node.1'",274],",",["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'route_name'",274],["T_WHITESPACE"," ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'entity.node.canonical'",274],",",["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'title'",274],["T_WHITESPACE"," ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'foo'",274],",",["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'parent'",274],["T_WHITESPACE"," ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","''",274],",",["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'route_parameters'",274],["T_WHITESPACE"," ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],["T_ARRAY","array",274],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",274],["T_WHITESPACE"," ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],["T_LNUMBER","1",274],")",")",")",",",["T_WHITESPACE","\n      ",274],["T_LNUMBER","2",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_STRING","MenuLinkMock",275],["T_DOUBLE_COLON","::",275],["T_STRING","create",275],"(",["T_ARRAY","array",275],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'node.2'",275],",",["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'route_name'",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'entity.node.canonical'",275],",",["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'title'",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'bar'",275],",",["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'parent'",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","''",275],",",["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'route_parameters'",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_ARRAY","array",275],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_LNUMBER","2",275],")",")",")",",",["T_WHITESPACE","\n      ",275],["T_LNUMBER","3",276],["T_WHITESPACE"," ",276],["T_DOUBLE_ARROW","=>",276],["T_WHITESPACE"," ",276],["T_STRING","MenuLinkMock",276],["T_DOUBLE_COLON","::",276],["T_STRING","create",276],"(",["T_ARRAY","array",276],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",276],["T_WHITESPACE"," ",276],["T_DOUBLE_ARROW","=>",276],["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'node.3'",276],",",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'route_name'",276],["T_WHITESPACE"," ",276],["T_DOUBLE_ARROW","=>",276],["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'entity.node.canonical'",276],",",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'title'",276],["T_WHITESPACE"," ",276],["T_DOUBLE_ARROW","=>",276],["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'baz'",276],",",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'parent'",276],["T_WHITESPACE"," ",276],["T_DOUBLE_ARROW","=>",276],["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'node.2'",276],",",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'route_parameters'",276],["T_WHITESPACE"," ",276],["T_DOUBLE_ARROW","=>",276],["T_WHITESPACE"," ",276],["T_ARRAY","array",276],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",276],["T_WHITESPACE"," ",276],["T_DOUBLE_ARROW","=>",276],["T_WHITESPACE"," ",276],["T_LNUMBER","3",276],")",")",")",",",["T_WHITESPACE","\n      ",276],["T_LNUMBER","4",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_STRING","MenuLinkMock",277],["T_DOUBLE_COLON","::",277],["T_STRING","create",277],"(",["T_ARRAY","array",277],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'node.4'",277],",",["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'route_name'",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'entity.node.canonical'",277],",",["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'title'",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'qux'",277],",",["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'parent'",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'node.3'",277],",",["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'route_parameters'",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_ARRAY","array",277],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_LNUMBER","4",277],")",")",")",",",["T_WHITESPACE","\n      ",277],["T_LNUMBER","5",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_STRING","MenuLinkMock",278],["T_DOUBLE_COLON","::",278],["T_STRING","create",278],"(",["T_ARRAY","array",278],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'test.1'",278],",",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'route_name'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'test_route'",278],",",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'title'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'qux'",278],",",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'parent'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","''",278],")",")",",",["T_WHITESPACE","\n      ",278],["T_LNUMBER","6",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_STRING","MenuLinkMock",279],["T_DOUBLE_COLON","::",279],["T_STRING","create",279],"(",["T_ARRAY","array",279],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'test.2'",279],",",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'route_name'",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'test_route'",279],",",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'title'",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'qux'",279],",",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'parent'",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'test.1'",279],")",")",",",["T_WHITESPACE","\n    ",279],")",";",["T_WHITESPACE","\n    ",280],["T_VARIABLE","$tree",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_ARRAY","array",281],"(",")",";",["T_WHITESPACE","\n    ",281],["T_VARIABLE","$tree",282],"[",["T_LNUMBER","1",282],"]",["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_NEW","new",282],["T_WHITESPACE"," ",282],["T_STRING","MenuLinkTreeElement",282],"(",["T_VARIABLE","$links",282],"[",["T_LNUMBER","1",282],"]",",",["T_WHITESPACE"," ",282],["T_STRING","FALSE",282],",",["T_WHITESPACE"," ",282],["T_LNUMBER","1",282],",",["T_WHITESPACE"," ",282],["T_STRING","FALSE",282],",",["T_WHITESPACE"," ",282],["T_ARRAY","array",282],"(",")",")",";",["T_WHITESPACE","\n    ",282],["T_VARIABLE","$tree",283],"[",["T_LNUMBER","2",283],"]",["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_NEW","new",283],["T_WHITESPACE"," ",283],["T_STRING","MenuLinkTreeElement",283],"(",["T_VARIABLE","$links",283],"[",["T_LNUMBER","2",283],"]",",",["T_WHITESPACE"," ",283],["T_STRING","TRUE",283],",",["T_WHITESPACE"," ",283],["T_LNUMBER","1",283],",",["T_WHITESPACE"," ",283],["T_STRING","FALSE",283],",",["T_WHITESPACE"," ",283],["T_ARRAY","array",283],"(",["T_WHITESPACE","\n      ",283],["T_LNUMBER","3",284],["T_WHITESPACE"," ",284],["T_DOUBLE_ARROW","=>",284],["T_WHITESPACE"," ",284],["T_NEW","new",284],["T_WHITESPACE"," ",284],["T_STRING","MenuLinkTreeElement",284],"(",["T_VARIABLE","$links",284],"[",["T_LNUMBER","3",284],"]",",",["T_WHITESPACE"," ",284],["T_STRING","TRUE",284],",",["T_WHITESPACE"," ",284],["T_LNUMBER","2",284],",",["T_WHITESPACE"," ",284],["T_STRING","FALSE",284],",",["T_WHITESPACE"," ",284],["T_ARRAY","array",284],"(",["T_WHITESPACE","\n        ",284],["T_LNUMBER","4",285],["T_WHITESPACE"," ",285],["T_DOUBLE_ARROW","=>",285],["T_WHITESPACE"," ",285],["T_NEW","new",285],["T_WHITESPACE"," ",285],["T_STRING","MenuLinkTreeElement",285],"(",["T_VARIABLE","$links",285],"[",["T_LNUMBER","4",285],"]",",",["T_WHITESPACE"," ",285],["T_STRING","FALSE",285],",",["T_WHITESPACE"," ",285],["T_LNUMBER","3",285],",",["T_WHITESPACE"," ",285],["T_STRING","FALSE",285],",",["T_WHITESPACE"," ",285],["T_ARRAY","array",285],"(",")",")",",",["T_WHITESPACE","\n      ",285],")",")",",",["T_WHITESPACE","\n    ",286],")",")",";",["T_WHITESPACE","\n    ",287],["T_VARIABLE","$tree",288],"[",["T_LNUMBER","5",288],"]",["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_NEW","new",288],["T_WHITESPACE"," ",288],["T_STRING","MenuLinkTreeElement",288],"(",["T_VARIABLE","$links",288],"[",["T_LNUMBER","5",288],"]",",",["T_WHITESPACE"," ",288],["T_STRING","TRUE",288],",",["T_WHITESPACE"," ",288],["T_LNUMBER","1",288],",",["T_WHITESPACE"," ",288],["T_STRING","FALSE",288],",",["T_WHITESPACE"," ",288],["T_ARRAY","array",288],"(",["T_WHITESPACE","\n      ",288],["T_LNUMBER","6",289],["T_WHITESPACE"," ",289],["T_DOUBLE_ARROW","=>",289],["T_WHITESPACE"," ",289],["T_NEW","new",289],["T_WHITESPACE"," ",289],["T_STRING","MenuLinkTreeElement",289],"(",["T_VARIABLE","$links",289],"[",["T_LNUMBER","6",289],"]",",",["T_WHITESPACE"," ",289],["T_STRING","FALSE",289],",",["T_WHITESPACE"," ",289],["T_LNUMBER","2",289],",",["T_WHITESPACE"," ",289],["T_STRING","FALSE",289],",",["T_WHITESPACE"," ",289],["T_ARRAY","array",289],"(",")",")",",",["T_WHITESPACE","\n    ",289],")",")",";",["T_WHITESPACE","\n\n    ",290],["T_VARIABLE","$query",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","getMock",292],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Entity\\Query\\QueryInterface'",292],")",";",["T_WHITESPACE","\n    ",292],["T_VARIABLE","$query",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","expects",293],"(",["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","at",293],"(",["T_LNUMBER","0",293],")",")",["T_WHITESPACE","\n      ",293],["T_OBJECT_OPERATOR","->",294],["T_STRING","method",294],"(",["T_CONSTANT_ENCAPSED_STRING","'condition'",294],")",["T_WHITESPACE","\n      ",294],["T_OBJECT_OPERATOR","->",295],["T_STRING","with",295],"(",["T_CONSTANT_ENCAPSED_STRING","'nid'",295],",",["T_WHITESPACE"," ",295],["T_ARRAY","array",295],"(",["T_LNUMBER","1",295],",",["T_WHITESPACE"," ",295],["T_LNUMBER","2",295],",",["T_WHITESPACE"," ",295],["T_LNUMBER","3",295],",",["T_WHITESPACE"," ",295],["T_LNUMBER","4",295],")",")",";",["T_WHITESPACE","\n    ",295],["T_VARIABLE","$query",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","expects",296],"(",["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","at",296],"(",["T_LNUMBER","1",296],")",")",["T_WHITESPACE","\n      ",296],["T_OBJECT_OPERATOR","->",297],["T_STRING","method",297],"(",["T_CONSTANT_ENCAPSED_STRING","'condition'",297],")",["T_WHITESPACE","\n      ",297],["T_OBJECT_OPERATOR","->",298],["T_STRING","with",298],"(",["T_CONSTANT_ENCAPSED_STRING","'status'",298],",",["T_WHITESPACE"," ",298],["T_STRING","NODE_PUBLISHED",298],")",";",["T_WHITESPACE","\n    ",298],["T_VARIABLE","$query",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","expects",299],"(",["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","once",299],"(",")",")",["T_WHITESPACE","\n      ",299],["T_OBJECT_OPERATOR","->",300],["T_STRING","method",300],"(",["T_CONSTANT_ENCAPSED_STRING","'execute'",300],")",["T_WHITESPACE","\n      ",300],["T_OBJECT_OPERATOR","->",301],["T_STRING","willReturn",301],"(",["T_ARRAY","array",301],"(",["T_LNUMBER","1",301],",",["T_WHITESPACE"," ",301],["T_LNUMBER","2",301],",",["T_WHITESPACE"," ",301],["T_LNUMBER","4",301],")",")",";",["T_WHITESPACE","\n    ",301],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","queryFactory",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","expects",302],"(",["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","once",302],"(",")",")",["T_WHITESPACE","\n      ",302],["T_OBJECT_OPERATOR","->",303],["T_STRING","method",303],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",303],")",["T_WHITESPACE","\n      ",303],["T_OBJECT_OPERATOR","->",304],["T_STRING","with",304],"(",["T_CONSTANT_ENCAPSED_STRING","'node'",304],")",["T_WHITESPACE","\n      ",304],["T_OBJECT_OPERATOR","->",305],["T_STRING","willReturn",305],"(",["T_VARIABLE","$query",305],")",";",["T_WHITESPACE","\n\n    ",305],["T_VARIABLE","$node_access_result",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_STRING","AccessResult",307],["T_DOUBLE_COLON","::",307],["T_STRING","allowed",307],"(",")",["T_OBJECT_OPERATOR","->",307],["T_STRING","cachePerPermissions",307],"(",")",["T_OBJECT_OPERATOR","->",307],["T_STRING","addCacheContexts",307],"(","[",["T_CONSTANT_ENCAPSED_STRING","'user.node_grants:view'",307],"]",")",";",["T_WHITESPACE","\n\n    ",307],["T_VARIABLE","$tree",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","defaultMenuTreeManipulators",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","checkNodeAccess",309],"(",["T_VARIABLE","$tree",309],")",";",["T_WHITESPACE","\n    ",309],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","assertEquals",310],"(",["T_VARIABLE","$node_access_result",310],",",["T_WHITESPACE"," ",310],["T_VARIABLE","$tree",310],"[",["T_LNUMBER","1",310],"]",["T_OBJECT_OPERATOR","->",310],["T_STRING","access",310],")",";",["T_WHITESPACE","\n    ",310],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","assertEquals",311],"(",["T_VARIABLE","$node_access_result",311],",",["T_WHITESPACE"," ",311],["T_VARIABLE","$tree",311],"[",["T_LNUMBER","2",311],"]",["T_OBJECT_OPERATOR","->",311],["T_STRING","access",311],")",";",["T_WHITESPACE","\n    ",311],["T_COMMENT","\/\/ Ensure that access denied is set.\n",312],["T_WHITESPACE","    ",313],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","assertEquals",313],"(",["T_STRING","AccessResult",313],["T_DOUBLE_COLON","::",313],["T_STRING","neutral",313],"(",")",",",["T_WHITESPACE"," ",313],["T_VARIABLE","$tree",313],"[",["T_LNUMBER","2",313],"]",["T_OBJECT_OPERATOR","->",313],["T_STRING","subtree",313],"[",["T_LNUMBER","3",313],"]",["T_OBJECT_OPERATOR","->",313],["T_STRING","access",313],")",";",["T_WHITESPACE","\n    ",313],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","assertEquals",314],"(",["T_VARIABLE","$node_access_result",314],",",["T_WHITESPACE"," ",314],["T_VARIABLE","$tree",314],"[",["T_LNUMBER","2",314],"]",["T_OBJECT_OPERATOR","->",314],["T_STRING","subtree",314],"[",["T_LNUMBER","3",314],"]",["T_OBJECT_OPERATOR","->",314],["T_STRING","subtree",314],"[",["T_LNUMBER","4",314],"]",["T_OBJECT_OPERATOR","->",314],["T_STRING","access",314],")",";",["T_WHITESPACE","\n    ",314],["T_COMMENT","\/\/ Ensure that other routes than entity.node.canonical are set as well.\n",315],["T_WHITESPACE","    ",316],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","assertNull",316],"(",["T_VARIABLE","$tree",316],"[",["T_LNUMBER","5",316],"]",["T_OBJECT_OPERATOR","->",316],["T_STRING","access",316],")",";",["T_WHITESPACE","\n    ",316],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","assertNull",317],"(",["T_VARIABLE","$tree",317],"[",["T_LNUMBER","5",317],"]",["T_OBJECT_OPERATOR","->",317],["T_STRING","subtree",317],"[",["T_LNUMBER","6",317],"]",["T_OBJECT_OPERATOR","->",317],["T_STRING","access",317],")",";",["T_WHITESPACE","\n\n    ",317],["T_COMMENT","\/\/ On top of the node access checking now run the ordinary route based\n",319],["T_WHITESPACE","    ",320],["T_COMMENT","\/\/ access checkers.\n",320],["T_WHITESPACE","\n    ",321],["T_COMMENT","\/\/ Ensure that the access manager is just called for the non-node routes.\n",322],["T_WHITESPACE","    ",323],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","accessManager",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","expects",323],"(",["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","at",323],"(",["T_LNUMBER","0",323],")",")",["T_WHITESPACE","\n      ",323],["T_OBJECT_OPERATOR","->",324],["T_STRING","method",324],"(",["T_CONSTANT_ENCAPSED_STRING","'checkNamedRoute'",324],")",["T_WHITESPACE","\n      ",324],["T_OBJECT_OPERATOR","->",325],["T_STRING","with",325],"(",["T_CONSTANT_ENCAPSED_STRING","'test_route'",325],",",["T_WHITESPACE"," ",325],"[","]",",",["T_WHITESPACE"," ",325],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","currentUser",325],",",["T_WHITESPACE"," ",325],["T_STRING","TRUE",325],")",["T_WHITESPACE","\n      ",325],["T_OBJECT_OPERATOR","->",326],["T_STRING","willReturn",326],"(",["T_STRING","AccessResult",326],["T_DOUBLE_COLON","::",326],["T_STRING","allowed",326],"(",")",")",";",["T_WHITESPACE","\n    ",326],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","accessManager",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","expects",327],"(",["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","at",327],"(",["T_LNUMBER","1",327],")",")",["T_WHITESPACE","\n      ",327],["T_OBJECT_OPERATOR","->",328],["T_STRING","method",328],"(",["T_CONSTANT_ENCAPSED_STRING","'checkNamedRoute'",328],")",["T_WHITESPACE","\n      ",328],["T_OBJECT_OPERATOR","->",329],["T_STRING","with",329],"(",["T_CONSTANT_ENCAPSED_STRING","'test_route'",329],",",["T_WHITESPACE"," ",329],"[","]",",",["T_WHITESPACE"," ",329],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","currentUser",329],",",["T_WHITESPACE"," ",329],["T_STRING","TRUE",329],")",["T_WHITESPACE","\n      ",329],["T_OBJECT_OPERATOR","->",330],["T_STRING","willReturn",330],"(",["T_STRING","AccessResult",330],["T_DOUBLE_COLON","::",330],["T_STRING","neutral",330],"(",")",")",";",["T_WHITESPACE","\n    ",330],["T_VARIABLE","$tree",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","defaultMenuTreeManipulators",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","checkAccess",331],"(",["T_VARIABLE","$tree",331],")",";",["T_WHITESPACE","\n\n    ",331],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","assertEquals",333],"(",["T_VARIABLE","$node_access_result",333],",",["T_WHITESPACE"," ",333],["T_VARIABLE","$tree",333],"[",["T_LNUMBER","1",333],"]",["T_OBJECT_OPERATOR","->",333],["T_STRING","access",333],")",";",["T_WHITESPACE","\n    ",333],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","assertEquals",334],"(",["T_VARIABLE","$node_access_result",334],",",["T_WHITESPACE"," ",334],["T_VARIABLE","$tree",334],"[",["T_LNUMBER","2",334],"]",["T_OBJECT_OPERATOR","->",334],["T_STRING","access",334],")",";",["T_WHITESPACE","\n    ",334],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","assertEquals",335],"(",["T_STRING","AccessResult",335],["T_DOUBLE_COLON","::",335],["T_STRING","neutral",335],"(",")",",",["T_WHITESPACE"," ",335],["T_VARIABLE","$tree",335],"[",["T_LNUMBER","2",335],"]",["T_OBJECT_OPERATOR","->",335],["T_STRING","subtree",335],"[",["T_LNUMBER","3",335],"]",["T_OBJECT_OPERATOR","->",335],["T_STRING","access",335],")",";",["T_WHITESPACE","\n    ",335],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","assertEquals",336],"(",["T_STRING","AccessResult",336],["T_DOUBLE_COLON","::",336],["T_STRING","allowed",336],"(",")",["T_OBJECT_OPERATOR","->",336],["T_STRING","cachePerPermissions",336],"(",")",",",["T_WHITESPACE"," ",336],["T_VARIABLE","$tree",336],"[",["T_LNUMBER","5",336],"]",["T_OBJECT_OPERATOR","->",336],["T_STRING","access",336],")",";",["T_WHITESPACE","\n    ",336],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","assertEquals",337],"(",["T_STRING","AccessResult",337],["T_DOUBLE_COLON","::",337],["T_STRING","neutral",337],"(",")",["T_OBJECT_OPERATOR","->",337],["T_STRING","cachePerPermissions",337],"(",")",",",["T_WHITESPACE"," ",337],["T_VARIABLE","$tree",337],"[",["T_LNUMBER","5",337],"]",["T_OBJECT_OPERATOR","->",337],["T_STRING","subtree",337],"[",["T_LNUMBER","6",337],"]",["T_OBJECT_OPERATOR","->",337],["T_STRING","access",337],")",";",["T_WHITESPACE","\n  ",337],"}",["T_WHITESPACE","\n\n",338],"}",["T_WHITESPACE","\n\n",340],["T_IF","if",342],["T_WHITESPACE"," ",342],"(","!",["T_STRING","defined",342],"(",["T_CONSTANT_ENCAPSED_STRING","'NODE_PUBLISHED'",342],")",")",["T_WHITESPACE"," ",342],"{",["T_WHITESPACE","\n  ",342],["T_STRING","define",343],"(",["T_CONSTANT_ENCAPSED_STRING","'NODE_PUBLISHED'",343],",",["T_WHITESPACE"," ",343],["T_LNUMBER","1",343],")",";",["T_WHITESPACE","\n",343],"}",["T_WHITESPACE","\n",344]]