[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Discovery",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Plugin",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Discovery",5],["T_NS_SEPARATOR","\\",5],["T_STRING","DerivativeDiscoveryDecorator",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Tests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","UnitTestCase",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Unit tests for the derivative discovery decorator.\n *\n * @group Plugin\n *\/",8],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","DerivativeDiscoveryDecoratorTest",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","UnitTestCase",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * The mock main discovery object.\n   *\n   * @var \\Drupal\\Component\\Plugin\\Discovery\\DiscoveryInterface|\\PHPUnit_Framework_MockObject_MockObject\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$discoveryMain",20],";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",22],["T_WHITESPACE","\n  ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_FUNCTION","function",25],["T_WHITESPACE"," ",25],["T_STRING","setUp",25],"(",")",["T_WHITESPACE"," ",25],"{",["T_WHITESPACE","\n    ",25],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","discoveryMain",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$discovery_main",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","getMock",26],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Component\\Plugin\\Discovery\\DiscoveryInterface'",26],")",";",["T_WHITESPACE","\n  ",26],"}",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * Tests the getDerivativeFetcher method.\n   *\n   * @see \\Drupal\\Component\\Plugin\\Discovery\\DerivativeDiscoveryDecorator::getDerivativeFetcher()\n   *\/",29],["T_WHITESPACE","\n  ",33],["T_PUBLIC","public",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","testGetDerivativeFetcher",34],"(",")",["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$definitions",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_ARRAY","array",35],"(",")",";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$definitions",36],"[",["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery'",36],"]",["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_ARRAY","array",36],"(",["T_WHITESPACE","\n      ",36],["T_CONSTANT_ENCAPSED_STRING","'id'",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery'",37],",",["T_WHITESPACE","\n      ",37],["T_CONSTANT_ENCAPSED_STRING","'deriver'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Tests\\Core\\Plugin\\Discovery\\TestDerivativeDiscovery'",38],",",["T_WHITESPACE","\n    ",38],")",";",["T_WHITESPACE","\n\n    ",39],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","discoveryMain",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","expects",41],"(",["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","any",41],"(",")",")",["T_WHITESPACE","\n      ",41],["T_OBJECT_OPERATOR","->",42],["T_STRING","method",42],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefinitions'",42],")",["T_WHITESPACE","\n      ",42],["T_OBJECT_OPERATOR","->",43],["T_STRING","will",43],"(",["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","returnValue",43],"(",["T_VARIABLE","$definitions",43],")",")",";",["T_WHITESPACE","\n\n    ",43],["T_VARIABLE","$discovery",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_NEW","new",45],["T_WHITESPACE"," ",45],["T_STRING","DerivativeDiscoveryDecorator",45],"(",["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","discoveryMain",45],")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$definitions",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$discovery",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getDefinitions",46],"(",")",";",["T_WHITESPACE","\n\n    ",46],["T_COMMENT","\/\/ Ensure that both test derivatives got added.\n",48],["T_WHITESPACE","    ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","assertEquals",49],"(",["T_LNUMBER","2",49],",",["T_WHITESPACE"," ",49],["T_STRING","count",49],"(",["T_VARIABLE","$definitions",49],")",")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","assertEquals",50],"(",["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery'",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$definitions",50],"[",["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery:test_discovery_0'",50],"]","[",["T_CONSTANT_ENCAPSED_STRING","'id'",50],"]",")",";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertEquals",51],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Tests\\Core\\Plugin\\Discovery\\TestDerivativeDiscovery'",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$definitions",51],"[",["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery:test_discovery_0'",51],"]","[",["T_CONSTANT_ENCAPSED_STRING","'deriver'",51],"]",")",";",["T_WHITESPACE","\n\n    ",51],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","assertEquals",53],"(",["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery'",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$definitions",53],"[",["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery:test_discovery_1'",53],"]","[",["T_CONSTANT_ENCAPSED_STRING","'id'",53],"]",")",";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertEquals",54],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Tests\\Core\\Plugin\\Discovery\\TestDerivativeDiscovery'",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$definitions",54],"[",["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery:test_discovery_1'",54],"]","[",["T_CONSTANT_ENCAPSED_STRING","'deriver'",54],"]",")",";",["T_WHITESPACE","\n  ",54],"}",["T_WHITESPACE","\n\n  ",55],["T_DOC_COMMENT","\/**\n   * Tests the getDerivativeFetcher method with objects instead of arrays.\n   *\/",57],["T_WHITESPACE","\n  ",59],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","testGetDerivativeFetcherWithAnnotationObjects",60],"(",")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n    ",60],["T_VARIABLE","$definitions",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",")",";",["T_WHITESPACE","\n    ",61],["T_VARIABLE","$definitions",62],"[",["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery'",62],"]",["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_OBJECT_CAST","(object)",62],["T_WHITESPACE"," ",62],["T_ARRAY","array",62],"(",["T_WHITESPACE","\n      ",62],["T_CONSTANT_ENCAPSED_STRING","'id'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery'",63],",",["T_WHITESPACE","\n      ",63],["T_CONSTANT_ENCAPSED_STRING","'deriver'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Tests\\Core\\Plugin\\Discovery\\TestDerivativeDiscoveryWithObject'",64],",",["T_WHITESPACE","\n    ",64],")",";",["T_WHITESPACE","\n\n    ",65],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","discoveryMain",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","expects",67],"(",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","any",67],"(",")",")",["T_WHITESPACE","\n      ",67],["T_OBJECT_OPERATOR","->",68],["T_STRING","method",68],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefinitions'",68],")",["T_WHITESPACE","\n      ",68],["T_OBJECT_OPERATOR","->",69],["T_STRING","will",69],"(",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","returnValue",69],"(",["T_VARIABLE","$definitions",69],")",")",";",["T_WHITESPACE","\n\n    ",69],["T_VARIABLE","$discovery",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_NEW","new",71],["T_WHITESPACE"," ",71],["T_STRING","DerivativeDiscoveryDecorator",71],"(",["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","discoveryMain",71],")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$definitions",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$discovery",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getDefinitions",72],"(",")",";",["T_WHITESPACE","\n\n    ",72],["T_COMMENT","\/\/ Ensure that both test derivatives got added.\n",74],["T_WHITESPACE","    ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertEquals",75],"(",["T_LNUMBER","2",75],",",["T_WHITESPACE"," ",75],["T_STRING","count",75],"(",["T_VARIABLE","$definitions",75],")",")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","assertInstanceOf",76],"(",["T_CONSTANT_ENCAPSED_STRING","'\\stdClass'",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$definitions",76],"[",["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery:test_discovery_0'",76],"]",")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","assertEquals",77],"(",["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery'",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$definitions",77],"[",["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery:test_discovery_0'",77],"]",["T_OBJECT_OPERATOR","->",77],["T_STRING","id",77],")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","assertEquals",78],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Tests\\Core\\Plugin\\Discovery\\TestDerivativeDiscoveryWithObject'",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$definitions",78],"[",["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery:test_discovery_0'",78],"]",["T_OBJECT_OPERATOR","->",78],["T_STRING","deriver",78],")",";",["T_WHITESPACE","\n\n    ",78],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","assertInstanceOf",80],"(",["T_CONSTANT_ENCAPSED_STRING","'\\stdClass'",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$definitions",80],"[",["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery:test_discovery_1'",80],"]",")",";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","assertEquals",81],"(",["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery'",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$definitions",81],"[",["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery:test_discovery_1'",81],"]",["T_OBJECT_OPERATOR","->",81],["T_STRING","id",81],")",";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","assertEquals",82],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Tests\\Core\\Plugin\\Discovery\\TestDerivativeDiscoveryWithObject'",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$definitions",82],"[",["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery:test_discovery_1'",82],"]",["T_OBJECT_OPERATOR","->",82],["T_STRING","deriver",82],")",";",["T_WHITESPACE","\n  ",82],"}",["T_WHITESPACE","\n\n  ",83],["T_DOC_COMMENT","\/**\n   * Tests the getDerivativeFetcher method with a non-existent class.\n   *\n   * @see \\Drupal\\Component\\Plugin\\Discovery\\DerivativeDiscoveryDecorator::getDeriver().\\\n   *\n   * @expectedException \\Drupal\\Component\\Plugin\\Exception\\InvalidDeriverException\n   * @expectedExceptionMessage Plugin (non_existent_discovery) deriver \"\\Drupal\\system\\Tests\\Plugin\\NonExistentDeriver\" does not exist.\n   *\/",85],["T_WHITESPACE","\n  ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","testNonExistentDerivativeFetcher",93],"(",")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$definitions",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_ARRAY","array",94],"(",")",";",["T_WHITESPACE","\n    ",94],["T_COMMENT","\/\/ Do this with a class that doesn't exist.\n",95],["T_WHITESPACE","    ",96],["T_VARIABLE","$definitions",96],"[",["T_CONSTANT_ENCAPSED_STRING","'non_existent_discovery'",96],"]",["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_ARRAY","array",96],"(",["T_WHITESPACE","\n      ",96],["T_CONSTANT_ENCAPSED_STRING","'id'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'non_existent_discovery'",97],",",["T_WHITESPACE","\n      ",97],["T_CONSTANT_ENCAPSED_STRING","'deriver'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\system\\Tests\\Plugin\\NonExistentDeriver'",98],",",["T_WHITESPACE","\n    ",98],")",";",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","discoveryMain",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","expects",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","any",100],"(",")",")",["T_WHITESPACE","\n      ",100],["T_OBJECT_OPERATOR","->",101],["T_STRING","method",101],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefinitions'",101],")",["T_WHITESPACE","\n      ",101],["T_OBJECT_OPERATOR","->",102],["T_STRING","will",102],"(",["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","returnValue",102],"(",["T_VARIABLE","$definitions",102],")",")",";",["T_WHITESPACE","\n\n    ",102],["T_VARIABLE","$discovery",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_NEW","new",104],["T_WHITESPACE"," ",104],["T_STRING","DerivativeDiscoveryDecorator",104],"(",["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","discoveryMain",104],")",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$discovery",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getDefinitions",105],"(",")",";",["T_WHITESPACE","\n  ",105],"}",["T_WHITESPACE","\n\n  ",106],["T_DOC_COMMENT","\/**\n   * Tests the getDerivativeFetcher method with an invalid class.\n   *\n   * @see \\Drupal\\Component\\Plugin\\Discovery\\DerivativeDiscoveryDecorator::getDeriver().\\\n   *\n   * @expectedException \\Drupal\\Component\\Plugin\\Exception\\InvalidDeriverException\n   * @expectedExceptionMessage Plugin (invalid_discovery) deriver \"\\Drupal\\KernelTests\\Core\\Plugin\\DerivativeTest\" must implement \\Drupal\\Component\\Plugin\\Derivative\\DeriverInterface.\n   *\/",108],["T_WHITESPACE","\n  ",115],["T_PUBLIC","public",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","testInvalidDerivativeFetcher",116],"(",")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$definitions",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_ARRAY","array",117],"(",")",";",["T_WHITESPACE","\n    ",117],["T_COMMENT","\/\/ Do this with a class that doesn't implement the interface.\n",118],["T_WHITESPACE","    ",119],["T_VARIABLE","$definitions",119],"[",["T_CONSTANT_ENCAPSED_STRING","'invalid_discovery'",119],"]",["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",["T_WHITESPACE","\n      ",119],["T_CONSTANT_ENCAPSED_STRING","'id'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'invalid_discovery'",120],",",["T_WHITESPACE","\n      ",120],["T_CONSTANT_ENCAPSED_STRING","'deriver'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\KernelTests\\Core\\Plugin\\DerivativeTest'",121],",",["T_WHITESPACE","\n    ",121],")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","discoveryMain",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","expects",123],"(",["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","any",123],"(",")",")",["T_WHITESPACE","\n      ",123],["T_OBJECT_OPERATOR","->",124],["T_STRING","method",124],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefinitions'",124],")",["T_WHITESPACE","\n      ",124],["T_OBJECT_OPERATOR","->",125],["T_STRING","will",125],"(",["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","returnValue",125],"(",["T_VARIABLE","$definitions",125],")",")",";",["T_WHITESPACE","\n\n    ",125],["T_VARIABLE","$discovery",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_NEW","new",127],["T_WHITESPACE"," ",127],["T_STRING","DerivativeDiscoveryDecorator",127],"(",["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","discoveryMain",127],")",";",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$discovery",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getDefinitions",128],"(",")",";",["T_WHITESPACE","\n  ",128],"}",["T_WHITESPACE","\n\n  ",129],["T_DOC_COMMENT","\/**\n   * Tests derivative definitions when a definition already exists.\n   *\/",131],["T_WHITESPACE","\n  ",133],["T_PUBLIC","public",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","testExistingDerivative",134],"(",")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n    ",134],["T_VARIABLE","$definitions",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_ARRAY","array",135],"(",")",";",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$definitions",136],"[",["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery'",136],"]",["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_ARRAY","array",136],"(",["T_WHITESPACE","\n      ",136],["T_CONSTANT_ENCAPSED_STRING","'id'",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery'",137],",",["T_WHITESPACE","\n      ",137],["T_CONSTANT_ENCAPSED_STRING","'deriver'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Tests\\Core\\Plugin\\Discovery\\TestDerivativeDiscovery'",138],",",["T_WHITESPACE","\n      ",138],["T_CONSTANT_ENCAPSED_STRING","'string'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'string'",139],",",["T_WHITESPACE","\n      ",139],["T_CONSTANT_ENCAPSED_STRING","'empty_string'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'not_empty'",140],",",["T_WHITESPACE","\n      ",140],["T_CONSTANT_ENCAPSED_STRING","'array'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_ARRAY","array",141],"(",["T_CONSTANT_ENCAPSED_STRING","'one'",141],",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'two'",141],")",",",["T_WHITESPACE","\n      ",141],["T_CONSTANT_ENCAPSED_STRING","'empty_array'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_ARRAY","array",142],"(",["T_CONSTANT_ENCAPSED_STRING","'three'",142],")",",",["T_WHITESPACE","\n      ",142],["T_CONSTANT_ENCAPSED_STRING","'null_value'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_STRING","TRUE",143],",",["T_WHITESPACE","\n    ",143],")",";",["T_WHITESPACE","\n    ",144],["T_COMMENT","\/\/ This will clash with a derivative id.\n",145],["T_WHITESPACE","    ",146],["T_COMMENT","\/\/ @see \\Drupal\\Tests\\Core\\Plugin\\Discovery\\TestDerivativeDiscovery\n",146],["T_WHITESPACE","    ",147],["T_VARIABLE","$definitions",147],"[",["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery:test_discovery_1'",147],"]",["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_ARRAY","array",147],"(",["T_WHITESPACE","\n      ",147],["T_CONSTANT_ENCAPSED_STRING","'id'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery:test_discovery_1'",148],",",["T_WHITESPACE","\n      ",148],["T_CONSTANT_ENCAPSED_STRING","'string'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'string'",149],",",["T_WHITESPACE","\n      ",149],["T_CONSTANT_ENCAPSED_STRING","'empty_string'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","''",150],",",["T_WHITESPACE","\n      ",150],["T_CONSTANT_ENCAPSED_STRING","'array'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_ARRAY","array",151],"(",["T_CONSTANT_ENCAPSED_STRING","'one'",151],",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'two'",151],")",",",["T_WHITESPACE","\n      ",151],["T_CONSTANT_ENCAPSED_STRING","'empty_array'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_ARRAY","array",152],"(",")",",",["T_WHITESPACE","\n      ",152],["T_CONSTANT_ENCAPSED_STRING","'null_value'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_STRING","NULL",153],",",["T_WHITESPACE","\n    ",153],")",";",["T_WHITESPACE","\n\n    ",154],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","discoveryMain",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","expects",156],"(",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","any",156],"(",")",")",["T_WHITESPACE","\n      ",156],["T_OBJECT_OPERATOR","->",157],["T_STRING","method",157],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefinitions'",157],")",["T_WHITESPACE","\n      ",157],["T_OBJECT_OPERATOR","->",158],["T_STRING","will",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","returnValue",158],"(",["T_VARIABLE","$definitions",158],")",")",";",["T_WHITESPACE","\n\n    ",158],["T_VARIABLE","$discovery",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_NEW","new",160],["T_WHITESPACE"," ",160],["T_STRING","DerivativeDiscoveryDecorator",160],"(",["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","discoveryMain",160],")",";",["T_WHITESPACE","\n    ",160],["T_VARIABLE","$returned_definitions",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$discovery",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getDefinitions",161],"(",")",";",["T_WHITESPACE","\n\n    ",161],["T_COMMENT","\/\/ If the definition was merged, there should only be two.\n",163],["T_WHITESPACE","    ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","assertCount",164],"(",["T_LNUMBER","2",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$returned_definitions",164],")",";",["T_WHITESPACE","\n\n    ",164],["T_VARIABLE","$expected",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$definitions",166],"[",["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery'",166],"]",";",["T_WHITESPACE","\n    ",166],["T_VARIABLE","$expected",167],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",167],"]",["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery:test_discovery_1'",167],";",["T_WHITESPACE","\n    ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","assertArrayEquals",168],"(",["T_VARIABLE","$expected",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$returned_definitions",168],"[",["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery:test_discovery_1'",168],"]",")",";",["T_WHITESPACE","\n  ",168],"}",["T_WHITESPACE","\n\n  ",169],["T_DOC_COMMENT","\/**\n   * Tests a single definition when a derivative already exists.\n   *\/",171],["T_WHITESPACE","\n  ",173],["T_PUBLIC","public",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","testSingleExistingDerivative",174],"(",")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n    ",174],["T_VARIABLE","$base_definition",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_ARRAY","array",175],"(",["T_WHITESPACE","\n      ",175],["T_CONSTANT_ENCAPSED_STRING","'id'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery'",176],",",["T_WHITESPACE","\n      ",176],["T_CONSTANT_ENCAPSED_STRING","'deriver'",177],["T_WHITESPACE"," ",177],["T_DOUBLE_ARROW","=>",177],["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Tests\\Core\\Plugin\\Discovery\\TestDerivativeDiscovery'",177],",",["T_WHITESPACE","\n      ",177],["T_CONSTANT_ENCAPSED_STRING","'string'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'string'",178],",",["T_WHITESPACE","\n      ",178],["T_CONSTANT_ENCAPSED_STRING","'empty_string'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'not_empty'",179],",",["T_WHITESPACE","\n      ",179],["T_CONSTANT_ENCAPSED_STRING","'array'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_ARRAY","array",180],"(",["T_CONSTANT_ENCAPSED_STRING","'one'",180],",",["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'two'",180],")",",",["T_WHITESPACE","\n      ",180],["T_CONSTANT_ENCAPSED_STRING","'empty_array'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_ARRAY","array",181],"(",["T_CONSTANT_ENCAPSED_STRING","'three'",181],")",",",["T_WHITESPACE","\n      ",181],["T_CONSTANT_ENCAPSED_STRING","'null_value'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_STRING","TRUE",182],",",["T_WHITESPACE","\n    ",182],")",";",["T_WHITESPACE","\n    ",183],["T_COMMENT","\/\/ This will clash with a derivative id.\n",184],["T_WHITESPACE","    ",185],["T_COMMENT","\/\/ @see \\Drupal\\Tests\\Core\\Plugin\\Discovery\\TestDerivativeDiscovery\n",185],["T_WHITESPACE","    ",186],["T_VARIABLE","$derivative_definition",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_ARRAY","array",186],"(",["T_WHITESPACE","\n      ",186],["T_CONSTANT_ENCAPSED_STRING","'id'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery:test_discovery_1'",187],",",["T_WHITESPACE","\n      ",187],["T_CONSTANT_ENCAPSED_STRING","'string'",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'string'",188],",",["T_WHITESPACE","\n      ",188],["T_CONSTANT_ENCAPSED_STRING","'empty_string'",189],["T_WHITESPACE"," ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","''",189],",",["T_WHITESPACE","\n      ",189],["T_CONSTANT_ENCAPSED_STRING","'array'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_ARRAY","array",190],"(",["T_CONSTANT_ENCAPSED_STRING","'one'",190],",",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'two'",190],")",",",["T_WHITESPACE","\n      ",190],["T_CONSTANT_ENCAPSED_STRING","'empty_array'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_ARRAY","array",191],"(",")",",",["T_WHITESPACE","\n      ",191],["T_CONSTANT_ENCAPSED_STRING","'null_value'",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_STRING","NULL",192],",",["T_WHITESPACE","\n    ",192],")",";",["T_WHITESPACE","\n\n    ",193],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","discoveryMain",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","expects",195],"(",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","at",195],"(",["T_LNUMBER","0",195],")",")",["T_WHITESPACE","\n      ",195],["T_OBJECT_OPERATOR","->",196],["T_STRING","method",196],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefinition'",196],")",["T_WHITESPACE","\n      ",196],["T_OBJECT_OPERATOR","->",197],["T_STRING","with",197],"(",["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery:test_discovery_1'",197],")",["T_WHITESPACE","\n      ",197],["T_OBJECT_OPERATOR","->",198],["T_STRING","will",198],"(",["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","returnValue",198],"(",["T_VARIABLE","$derivative_definition",198],")",")",";",["T_WHITESPACE","\n    ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","discoveryMain",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","expects",199],"(",["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","at",199],"(",["T_LNUMBER","1",199],")",")",["T_WHITESPACE","\n      ",199],["T_OBJECT_OPERATOR","->",200],["T_STRING","method",200],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefinition'",200],")",["T_WHITESPACE","\n      ",200],["T_OBJECT_OPERATOR","->",201],["T_STRING","with",201],"(",["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery'",201],")",["T_WHITESPACE","\n      ",201],["T_OBJECT_OPERATOR","->",202],["T_STRING","will",202],"(",["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","returnValue",202],"(",["T_VARIABLE","$base_definition",202],")",")",";",["T_WHITESPACE","\n\n    ",202],["T_VARIABLE","$discovery",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_NEW","new",204],["T_WHITESPACE"," ",204],["T_STRING","DerivativeDiscoveryDecorator",204],"(",["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","discoveryMain",204],")",";",["T_WHITESPACE","\n\n    ",204],["T_VARIABLE","$expected",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$base_definition",206],";",["T_WHITESPACE","\n    ",206],["T_VARIABLE","$expected",207],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",207],"]",["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery:test_discovery_1'",207],";",["T_WHITESPACE","\n    ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","assertArrayEquals",208],"(",["T_VARIABLE","$expected",208],",",["T_WHITESPACE"," ",208],["T_VARIABLE","$discovery",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getDefinition",208],"(",["T_CONSTANT_ENCAPSED_STRING","'non_container_aware_discovery:test_discovery_1'",208],")",")",";",["T_WHITESPACE","\n  ",208],"}",["T_WHITESPACE","\n\n",209],"}",["T_WHITESPACE","\n",211]]