[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_DOC_COMMENT","\/**\n * @file\n * Contains \\Drupal\\Tests\\Core\\DependencyInjection\\Compiler\\BackendCompilerPassTest.\n *\/",3],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Tests",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DependencyInjection",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Compiler",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","DependencyInjection",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Compiler",10],["T_NS_SEPARATOR","\\",10],["T_STRING","BackendCompilerPass",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Tests",11],["T_NS_SEPARATOR","\\",11],["T_STRING","UnitTestCase",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","DependencyInjection",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Alias",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Symfony",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Component",13],["T_NS_SEPARATOR","\\",13],["T_STRING","DependencyInjection",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ContainerBuilder",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","DependencyInjection",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Definition",14],";",["T_WHITESPACE","\n\n",14],["T_DOC_COMMENT","\/**\n * @coversDefaultClass \\Drupal\\Core\\DependencyInjection\\Compiler\\BackendCompilerPass\n * @group DependencyInjection\n *\/",16],["T_WHITESPACE","\n",19],["T_CLASS","class",20],["T_WHITESPACE"," ",20],["T_STRING","BackendCompilerPassTest",20],["T_WHITESPACE"," ",20],["T_EXTENDS","extends",20],["T_WHITESPACE"," ",20],["T_STRING","UnitTestCase",20],["T_WHITESPACE"," ",20],"{",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * The tested backend compiler pass.\n   *\n   * @var \\Drupal\\Core\\DependencyInjection\\Compiler\\BackendCompilerPass\n   *\/",22],["T_WHITESPACE","\n  ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$backendPass",27],";",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",29],["T_WHITESPACE","\n  ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","setUp",32],"(",")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","backendPass",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_NEW","new",33],["T_WHITESPACE"," ",33],["T_STRING","BackendCompilerPass",33],"(",")",";",["T_WHITESPACE","\n  ",33],"}",["T_WHITESPACE","\n\n  ",34],["T_DOC_COMMENT","\/**\n   * Tests the process method.\n   *\n   * @param string $expected_class\n   *   The expected used class.\n   * @param \\Symfony\\Component\\DependencyInjection\\ContainerBuilder $container\n   *   The container.\n   *\n   * @dataProvider providerTestProcess\n   *\n   * @covers ::process\n   *\/",36],["T_WHITESPACE","\n  ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","testProcess",48],"(",["T_VARIABLE","$expected_class",48],",",["T_WHITESPACE"," ",48],["T_STRING","ContainerBuilder",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$container",48],")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","backendPass",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","process",49],"(",["T_VARIABLE","$container",49],")",";",["T_WHITESPACE","\n\n    ",49],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","assertEquals",51],"(",["T_VARIABLE","$expected_class",51],",",["T_WHITESPACE"," ",51],["T_STRING","get_class",51],"(",["T_VARIABLE","$container",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","get",51],"(",["T_CONSTANT_ENCAPSED_STRING","'service'",51],")",")",")",";",["T_WHITESPACE","\n  ",51],"}",["T_WHITESPACE","\n\n  ",52],["T_DOC_COMMENT","\/**\n   * Provides test data for testProcess().\n   *\n   * @return array\n   *\/",54],["T_WHITESPACE","\n  ",58],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","providerTestProcess",59],"(",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$data",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_ARRAY","array",60],"(",")",";",["T_WHITESPACE","\n    ",60],["T_COMMENT","\/\/ Add a container with no set default_backend.\n",61],["T_WHITESPACE","    ",62],["T_VARIABLE","$prefix",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_NS_C","__NAMESPACE__",62],["T_WHITESPACE"," ",62],".",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'\\\\ServiceClass'",62],";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$service",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],"(",["T_NEW","new",63],["T_WHITESPACE"," ",63],["T_STRING","Definition",63],"(",["T_VARIABLE","$prefix",63],["T_WHITESPACE"," ",63],".",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'Default'",63],")",")",["T_OBJECT_OPERATOR","->",63],["T_STRING","addTag",63],"(",["T_CONSTANT_ENCAPSED_STRING","'backend_overridable'",63],")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$container",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getMysqlContainer",64],"(",["T_VARIABLE","$service",64],")",";",["T_WHITESPACE","\n\n    ",64],["T_VARIABLE","$data",66],"[","]",["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_ARRAY","array",66],"(",["T_VARIABLE","$prefix",66],["T_WHITESPACE"," ",66],".",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'Default'",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$container",66],")",";",["T_WHITESPACE","\n\n    ",66],["T_COMMENT","\/\/ Set the default_backend so the mysql service should be used.\n",68],["T_WHITESPACE","    ",69],["T_VARIABLE","$container",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getMysqlContainer",69],"(",["T_VARIABLE","$service",69],")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$container",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","setParameter",70],"(",["T_CONSTANT_ENCAPSED_STRING","'default_backend'",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'mysql'",70],")",";",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$data",71],"[","]",["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_ARRAY","array",71],"(",["T_VARIABLE","$prefix",71],["T_WHITESPACE"," ",71],".",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'Mysql'",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$container",71],")",";",["T_WHITESPACE","\n\n    ",71],["T_COMMENT","\/\/ Configure a manual alias for the service, so ensure that it is not\n",73],["T_WHITESPACE","    ",74],["T_COMMENT","\/\/ overridden by the default backend.\n",74],["T_WHITESPACE","    ",75],["T_VARIABLE","$container",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getMysqlContainer",75],"(",["T_VARIABLE","$service",75],")",";",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$container",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","setParameter",76],"(",["T_CONSTANT_ENCAPSED_STRING","'default_backend'",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'mysql'",76],")",";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$container",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","setDefinition",77],"(",["T_CONSTANT_ENCAPSED_STRING","'mariadb.service'",77],",",["T_WHITESPACE"," ",77],["T_NEW","new",77],["T_WHITESPACE"," ",77],["T_STRING","Definition",77],"(",["T_VARIABLE","$prefix",77],["T_WHITESPACE"," ",77],".",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'MariaDb'",77],")",")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$container",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","setAlias",78],"(",["T_CONSTANT_ENCAPSED_STRING","'service'",78],",",["T_WHITESPACE"," ",78],["T_NEW","new",78],["T_WHITESPACE"," ",78],["T_STRING","Alias",78],"(",["T_CONSTANT_ENCAPSED_STRING","'mariadb.service'",78],")",")",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$data",79],"[","]",["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_ARRAY","array",79],"(",["T_VARIABLE","$prefix",79],["T_WHITESPACE"," ",79],".",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'MariaDb'",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$container",79],")",";",["T_WHITESPACE","\n\n    ",79],["T_COMMENT","\/\/ Check the database driver is the default.\n",81],["T_WHITESPACE","    ",82],["T_VARIABLE","$container",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getSqliteContainer",82],"(",["T_VARIABLE","$service",82],")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$data",83],"[","]",["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_ARRAY","array",83],"(",["T_VARIABLE","$prefix",83],["T_WHITESPACE"," ",83],".",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'Sqlite'",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$container",83],")",";",["T_WHITESPACE","\n\n    ",83],["T_COMMENT","\/\/ Test the opt out.\n",85],["T_WHITESPACE","    ",86],["T_VARIABLE","$container",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getSqliteContainer",86],"(",["T_VARIABLE","$service",86],")",";",["T_WHITESPACE","\n    ",86],["T_VARIABLE","$container",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","setParameter",87],"(",["T_CONSTANT_ENCAPSED_STRING","'default_backend'",87],",",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","''",87],")",";",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$data",88],"[","]",["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_ARRAY","array",88],"(",["T_VARIABLE","$prefix",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'Default'",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$container",88],")",";",["T_WHITESPACE","\n\n    ",88],["T_RETURN","return",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$data",90],";",["T_WHITESPACE","\n  ",90],"}",["T_WHITESPACE","\n\n  ",91],["T_DOC_COMMENT","\/**\n   * Creates a container with a sqlite database service in it.\n   *\n   * This is necessary because the container clone does not clone the parameter\n   * bag so the setParameter() call effects the parent container as well.\n   *\n   * @param $service\n   * @return ContainerBuilder\n   *\/",93],["T_WHITESPACE","\n  ",101],["T_PROTECTED","protected",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","getSqliteContainer",102],"(",["T_VARIABLE","$service",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$container",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_NEW","new",103],["T_WHITESPACE"," ",103],["T_STRING","ContainerBuilder",103],"(",")",";",["T_WHITESPACE","\n    ",103],["T_VARIABLE","$container",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","setDefinition",104],"(",["T_CONSTANT_ENCAPSED_STRING","'service'",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$service",104],")",";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$container",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","setDefinition",105],"(",["T_CONSTANT_ENCAPSED_STRING","'sqlite.service'",105],",",["T_WHITESPACE"," ",105],["T_NEW","new",105],["T_WHITESPACE"," ",105],["T_STRING","Definition",105],"(",["T_NS_C","__NAMESPACE__",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'\\\\ServiceClassSqlite'",105],")",")",";",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$mock",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getMockBuilder",106],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Database\\Driver\\sqlite\\Connection'",106],")",["T_OBJECT_OPERATOR","->",106],["T_STRING","setMethods",106],"(",["T_STRING","NULL",106],")",["T_OBJECT_OPERATOR","->",106],["T_STRING","disableOriginalConstructor",106],"(",")",["T_OBJECT_OPERATOR","->",106],["T_STRING","getMock",106],"(",")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$container",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","set",107],"(",["T_CONSTANT_ENCAPSED_STRING","'database'",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$mock",107],")",";",["T_WHITESPACE","\n    ",107],["T_RETURN","return",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$container",108],";",["T_WHITESPACE","\n  ",108],"}",["T_WHITESPACE","\n\n  ",109],["T_DOC_COMMENT","\/**\n   * Creates a container with a mysql database service definition in it.\n   *\n   * This is necessary because the container clone does not clone the parameter\n   * bag so the setParameter() call effects the parent container as well.\n   *\n   * @param $service\n   * @return ContainerBuilder\n   *\/",111],["T_WHITESPACE","\n  ",119],["T_PROTECTED","protected",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","getMysqlContainer",120],"(",["T_VARIABLE","$service",120],")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$container",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_NEW","new",121],["T_WHITESPACE"," ",121],["T_STRING","ContainerBuilder",121],"(",")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$container",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","setDefinition",122],"(",["T_CONSTANT_ENCAPSED_STRING","'service'",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$service",122],")",";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$container",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","setDefinition",123],"(",["T_CONSTANT_ENCAPSED_STRING","'mysql.service'",123],",",["T_WHITESPACE"," ",123],["T_NEW","new",123],["T_WHITESPACE"," ",123],["T_STRING","Definition",123],"(",["T_NS_C","__NAMESPACE__",123],["T_WHITESPACE"," ",123],".",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'\\\\ServiceClassMysql'",123],")",")",";",["T_WHITESPACE","\n    ",123],["T_RETURN","return",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$container",124],";",["T_WHITESPACE","\n  ",124],"}",["T_WHITESPACE","\n\n",125],"}",["T_WHITESPACE","\n\n",127],["T_CLASS","class",129],["T_WHITESPACE"," ",129],["T_STRING","ServiceClassDefault",129],["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n",129],"}",["T_WHITESPACE","\n\n",130],["T_CLASS","class",132],["T_WHITESPACE"," ",132],["T_STRING","ServiceClassMysql",132],["T_WHITESPACE"," ",132],["T_EXTENDS","extends",132],["T_WHITESPACE"," ",132],["T_STRING","ServiceClassDefault",132],["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n",132],"}",["T_WHITESPACE","\n\n",133],["T_CLASS","class",135],["T_WHITESPACE"," ",135],["T_STRING","ServiceClassMariaDb",135],["T_WHITESPACE"," ",135],["T_EXTENDS","extends",135],["T_WHITESPACE"," ",135],["T_STRING","ServiceClassMysql",135],["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n",135],"}",["T_WHITESPACE","\n\n",136],["T_CLASS","class",138],["T_WHITESPACE"," ",138],["T_STRING","ServiceClassSqlite",138],["T_WHITESPACE"," ",138],["T_EXTENDS","extends",138],["T_WHITESPACE"," ",138],["T_STRING","ServiceClassDefault",138],["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n",138],"}",["T_WHITESPACE","\n",139]]