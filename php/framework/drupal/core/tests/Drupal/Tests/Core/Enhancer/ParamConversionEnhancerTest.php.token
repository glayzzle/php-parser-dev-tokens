[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Enhancer",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Routing",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Enhancer",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ParamConversionEnhancer",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Tests",6],["T_NS_SEPARATOR","\\",6],["T_STRING","UnitTestCase",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Symfony",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Cmf",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Component",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Routing",7],["T_NS_SEPARATOR","\\",7],["T_STRING","RouteObjectInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Symfony",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Component",8],["T_NS_SEPARATOR","\\",8],["T_STRING","HttpFoundation",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ParameterBag",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Symfony",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Component",9],["T_NS_SEPARATOR","\\",9],["T_STRING","HttpFoundation",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Request",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Symfony",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Component",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Routing",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Route",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * @coversDefaultClass \\Drupal\\Core\\Routing\\Enhancer\\ParamConversionEnhancer\n * @group Enhancer\n *\/",12],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","ParamConversionEnhancerTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","UnitTestCase",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * @var \\Drupal\\Core\\Routing\\Enhancer\\ParamConversionEnhancer\n   *\/",18],["T_WHITESPACE","\n  ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$paramConversionEnhancer",21],";",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * @var \\Drupal\\Core\\ParamConverter\\ParamConverterManagerInterface|\\PHPUnit_Framework_MockObject_MockObject\n   *\/",23],["T_WHITESPACE","\n  ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$paramConverterManager",26],";",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",28],["T_WHITESPACE","\n  ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","setUp",31],"(",")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n    ",31],["T_STRING","parent",32],["T_DOUBLE_COLON","::",32],["T_STRING","setUp",32],"(",")",";",["T_WHITESPACE","\n\n    ",32],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","paramConverterManager",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","getMock",34],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\ParamConverter\\ParamConverterManagerInterface'",34],")",";",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","paramConversionEnhancer",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_NEW","new",35],["T_WHITESPACE"," ",35],["T_STRING","ParamConversionEnhancer",35],"(",["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","paramConverterManager",35],")",";",["T_WHITESPACE","\n  ",35],"}",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * @covers ::enhance\n   *\/",38],["T_WHITESPACE","\n  ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","testEnhance",41],"(",")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$route",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_NEW","new",42],["T_WHITESPACE"," ",42],["T_STRING","Route",42],"(",["T_CONSTANT_ENCAPSED_STRING","'\/test\/{id}\/{literal}\/{null}'",42],")",";",["T_WHITESPACE","\n\n    ",42],["T_VARIABLE","$raw_variables",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_ARRAY","array",44],"(",["T_WHITESPACE","\n      ",44],["T_CONSTANT_ENCAPSED_STRING","'id'",45],["T_WHITESPACE"," ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_LNUMBER","1",45],",",["T_WHITESPACE","\n      ",45],["T_CONSTANT_ENCAPSED_STRING","'literal'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'this is a literal'",46],",",["T_WHITESPACE","\n      ",46],["T_CONSTANT_ENCAPSED_STRING","'null'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_STRING","NULL",47],",",["T_WHITESPACE","\n    ",47],")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$defaults",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",["T_WHITESPACE","\n      ",49],["T_STRING","RouteObjectInterface",50],["T_DOUBLE_COLON","::",50],["T_STRING","ROUTE_OBJECT",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$route",50],",",["T_WHITESPACE","\n    ",50],")",["T_WHITESPACE"," ",51],"+",["T_WHITESPACE"," ",51],["T_VARIABLE","$raw_variables",51],";",["T_WHITESPACE","\n\n    ",51],["T_VARIABLE","$expected",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$defaults",53],";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$expected",54],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",54],"]",["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'something_better!'",54],";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$expected",55],"[",["T_CONSTANT_ENCAPSED_STRING","'_raw_variables'",55],"]",["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_NEW","new",55],["T_WHITESPACE"," ",55],["T_STRING","ParameterBag",55],"(",["T_VARIABLE","$raw_variables",55],")",";",["T_WHITESPACE","\n\n    ",55],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","paramConverterManager",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","expects",57],"(",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","once",57],"(",")",")",["T_WHITESPACE","\n      ",57],["T_OBJECT_OPERATOR","->",58],["T_STRING","method",58],"(",["T_CONSTANT_ENCAPSED_STRING","'convert'",58],")",["T_WHITESPACE","\n      ",58],["T_OBJECT_OPERATOR","->",59],["T_STRING","with",59],"(",["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","isType",59],"(",["T_CONSTANT_ENCAPSED_STRING","'array'",59],")",")",["T_WHITESPACE","\n      ",59],["T_OBJECT_OPERATOR","->",60],["T_STRING","will",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","returnValue",60],"(",["T_VARIABLE","$expected",60],")",")",";",["T_WHITESPACE","\n\n    ",60],["T_VARIABLE","$result",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","paramConversionEnhancer",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","enhance",62],"(",["T_VARIABLE","$defaults",62],",",["T_WHITESPACE"," ",62],["T_NEW","new",62],["T_WHITESPACE"," ",62],["T_STRING","Request",62],"(",")",")",";",["T_WHITESPACE","\n\n    ",62],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","assertEquals",64],"(",["T_VARIABLE","$expected",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$result",64],")",";",["T_WHITESPACE","\n\n    ",64],["T_COMMENT","\/\/ Now run with the results as the new defaults to ensure that the\n",66],["T_WHITESPACE","    ",67],["T_COMMENT","\/\/ conversion is just run once.\n",67],["T_WHITESPACE","    ",68],["T_VARIABLE","$result",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","paramConversionEnhancer",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","enhance",68],"(",["T_VARIABLE","$result",68],",",["T_WHITESPACE"," ",68],["T_NEW","new",68],["T_WHITESPACE"," ",68],["T_STRING","Request",68],"(",")",")",";",["T_WHITESPACE","\n\n    ",68],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertEquals",70],"(",["T_VARIABLE","$expected",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$result",70],")",";",["T_WHITESPACE","\n  ",70],"}",["T_WHITESPACE","\n\n  ",71],["T_DOC_COMMENT","\/**\n   * @covers ::copyRawVariables\n   *\/",73],["T_WHITESPACE","\n  ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","testCopyRawVariables",76],"(",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$route",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_NEW","new",77],["T_WHITESPACE"," ",77],["T_STRING","Route",77],"(",["T_CONSTANT_ENCAPSED_STRING","'\/test\/{id}'",77],")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$defaults",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_ARRAY","array",78],"(",["T_WHITESPACE","\n      ",78],["T_STRING","RouteObjectInterface",79],["T_DOUBLE_COLON","::",79],["T_STRING","ROUTE_OBJECT",79],["T_WHITESPACE"," ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$route",79],",",["T_WHITESPACE","\n      ",79],["T_CONSTANT_ENCAPSED_STRING","'id'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'1'",80],",",["T_WHITESPACE","\n    ",80],")",";",["T_WHITESPACE","\n    ",81],["T_COMMENT","\/\/ Set one default to mirror another by reference.\n",82],["T_WHITESPACE","    ",83],["T_VARIABLE","$defaults",83],"[",["T_CONSTANT_ENCAPSED_STRING","'bar'",83],"]",["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],"&",["T_VARIABLE","$defaults",83],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",83],"]",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","paramConverterManager",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","expects",84],"(",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","any",84],"(",")",")",["T_WHITESPACE","\n      ",84],["T_OBJECT_OPERATOR","->",85],["T_STRING","method",85],"(",["T_CONSTANT_ENCAPSED_STRING","'convert'",85],")",["T_WHITESPACE","\n      ",85],["T_OBJECT_OPERATOR","->",86],["T_STRING","with",86],"(",["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","isType",86],"(",["T_CONSTANT_ENCAPSED_STRING","'array'",86],")",")",["T_WHITESPACE","\n      ",86],["T_OBJECT_OPERATOR","->",87],["T_STRING","will",87],"(",["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","returnCallback",87],"(",["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],"(",["T_VARIABLE","$defaults",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n        ",87],["T_COMMENT","\/\/ Convert the mirrored default to another value.\n",88],["T_WHITESPACE","        ",89],["T_VARIABLE","$defaults",89],"[",["T_CONSTANT_ENCAPSED_STRING","'bar'",89],"]",["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'2'",89],";",["T_WHITESPACE","\n        ",89],["T_RETURN","return",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$defaults",90],";",["T_WHITESPACE","\n      ",90],"}",")",")",";",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$expected",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_NEW","new",92],["T_WHITESPACE"," ",92],["T_STRING","ParameterBag",92],"(",["T_ARRAY","array",92],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_LNUMBER","1",92],")",")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$result",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","paramConversionEnhancer",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","enhance",93],"(",["T_VARIABLE","$defaults",93],",",["T_WHITESPACE"," ",93],["T_NEW","new",93],["T_WHITESPACE"," ",93],["T_STRING","Request",93],"(",")",")",";",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","assertEquals",94],"(",["T_VARIABLE","$result",94],"[",["T_CONSTANT_ENCAPSED_STRING","'_raw_variables'",94],"]",",",["T_WHITESPACE"," ",94],["T_VARIABLE","$expected",94],")",";",["T_WHITESPACE","\n  ",94],"}",["T_WHITESPACE","\n\n",95],"}",["T_WHITESPACE","\n",97]]