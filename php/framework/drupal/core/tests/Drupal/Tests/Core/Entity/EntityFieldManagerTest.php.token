[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_DOC_COMMENT","\/**\n * @file\n * Contains \\Drupal\\Tests\\Core\\Entity\\EntityFieldManagerTest.\n *\/",3],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Tests",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Component",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Plugin",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Exception",10],["T_NS_SEPARATOR","\\",10],["T_STRING","PluginNotFoundException",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Cache",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Cache",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Cache",12],["T_NS_SEPARATOR","\\",12],["T_STRING","CacheBackendInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Core",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Cache",13],["T_NS_SEPARATOR","\\",13],["T_STRING","CacheTagsInvalidatorInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Drupal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Core",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Config",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Entity",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ConfigEntityStorageInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Drupal",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Core",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Entity",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ContentEntityInterface",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Drupal",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Core",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Entity",16],["T_NS_SEPARATOR","\\",16],["T_STRING","ContentEntityTypeInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Drupal",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Core",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Entity",17],["T_NS_SEPARATOR","\\",17],["T_STRING","EntityDisplayRepositoryInterface",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Drupal",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Core",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Entity",18],["T_NS_SEPARATOR","\\",18],["T_STRING","EntityFieldManager",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Drupal",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Core",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Entity",19],["T_NS_SEPARATOR","\\",19],["T_STRING","EntityInterface",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Drupal",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Core",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Entity",20],["T_NS_SEPARATOR","\\",20],["T_STRING","EntityTypeBundleInfoInterface",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Drupal",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Core",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Entity",21],["T_NS_SEPARATOR","\\",21],["T_STRING","EntityTypeInterface",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Drupal",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Core",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Entity",22],["T_NS_SEPARATOR","\\",22],["T_STRING","EntityTypeManagerInterface",22],";",["T_WHITESPACE","\n",22],["T_USE","use",23],["T_WHITESPACE"," ",23],["T_STRING","Drupal",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Core",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Entity",23],["T_NS_SEPARATOR","\\",23],["T_STRING","EntityTypeRepositoryInterface",23],";",["T_WHITESPACE","\n",23],["T_USE","use",24],["T_WHITESPACE"," ",24],["T_STRING","Drupal",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Core",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Entity",24],["T_NS_SEPARATOR","\\",24],["T_STRING","FieldableEntityInterface",24],";",["T_WHITESPACE","\n",24],["T_USE","use",25],["T_WHITESPACE"," ",25],["T_STRING","Drupal",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Core",25],["T_NS_SEPARATOR","\\",25],["T_STRING","Extension",25],["T_NS_SEPARATOR","\\",25],["T_STRING","ModuleHandlerInterface",25],";",["T_WHITESPACE","\n",25],["T_USE","use",26],["T_WHITESPACE"," ",26],["T_STRING","Drupal",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Core",26],["T_NS_SEPARATOR","\\",26],["T_STRING","Field",26],["T_NS_SEPARATOR","\\",26],["T_STRING","BaseFieldDefinition",26],";",["T_WHITESPACE","\n",26],["T_USE","use",27],["T_WHITESPACE"," ",27],["T_STRING","Drupal",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Core",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Field",27],["T_NS_SEPARATOR","\\",27],["T_STRING","FieldDefinitionInterface",27],";",["T_WHITESPACE","\n",27],["T_USE","use",28],["T_WHITESPACE"," ",28],["T_STRING","Drupal",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Core",28],["T_NS_SEPARATOR","\\",28],["T_STRING","Field",28],["T_NS_SEPARATOR","\\",28],["T_STRING","FieldStorageDefinitionInterface",28],";",["T_WHITESPACE","\n",28],["T_USE","use",29],["T_WHITESPACE"," ",29],["T_STRING","Drupal",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Core",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Field",29],["T_NS_SEPARATOR","\\",29],["T_STRING","FieldTypePluginManagerInterface",29],";",["T_WHITESPACE","\n",29],["T_USE","use",30],["T_WHITESPACE"," ",30],["T_STRING","Drupal",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Core",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Field",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Plugin",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Field",30],["T_NS_SEPARATOR","\\",30],["T_STRING","FieldType",30],["T_NS_SEPARATOR","\\",30],["T_STRING","BooleanItem",30],";",["T_WHITESPACE","\n",30],["T_USE","use",31],["T_WHITESPACE"," ",31],["T_STRING","Drupal",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Core",31],["T_NS_SEPARATOR","\\",31],["T_STRING","KeyValueStore",31],["T_NS_SEPARATOR","\\",31],["T_STRING","KeyValueFactoryInterface",31],";",["T_WHITESPACE","\n",31],["T_USE","use",32],["T_WHITESPACE"," ",32],["T_STRING","Drupal",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Core",32],["T_NS_SEPARATOR","\\",32],["T_STRING","KeyValueStore",32],["T_NS_SEPARATOR","\\",32],["T_STRING","KeyValueStoreInterface",32],";",["T_WHITESPACE","\n",32],["T_USE","use",33],["T_WHITESPACE"," ",33],["T_STRING","Drupal",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Core",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Language",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Language",33],";",["T_WHITESPACE","\n",33],["T_USE","use",34],["T_WHITESPACE"," ",34],["T_STRING","Drupal",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Core",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Language",34],["T_NS_SEPARATOR","\\",34],["T_STRING","LanguageManagerInterface",34],";",["T_WHITESPACE","\n",34],["T_USE","use",35],["T_WHITESPACE"," ",35],["T_STRING","Drupal",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Core",35],["T_NS_SEPARATOR","\\",35],["T_STRING","StringTranslation",35],["T_NS_SEPARATOR","\\",35],["T_STRING","TranslationInterface",35],";",["T_WHITESPACE","\n",35],["T_USE","use",36],["T_WHITESPACE"," ",36],["T_STRING","Drupal",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Core",36],["T_NS_SEPARATOR","\\",36],["T_STRING","TypedData",36],["T_NS_SEPARATOR","\\",36],["T_STRING","TypedDataManagerInterface",36],";",["T_WHITESPACE","\n",36],["T_USE","use",37],["T_WHITESPACE"," ",37],["T_STRING","Drupal",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Tests",37],["T_NS_SEPARATOR","\\",37],["T_STRING","UnitTestCase",37],";",["T_WHITESPACE","\n",37],["T_USE","use",38],["T_WHITESPACE"," ",38],["T_STRING","Prophecy",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Argument",38],";",["T_WHITESPACE","\n",38],["T_USE","use",39],["T_WHITESPACE"," ",39],["T_STRING","Symfony",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Component",39],["T_NS_SEPARATOR","\\",39],["T_STRING","DependencyInjection",39],["T_NS_SEPARATOR","\\",39],["T_STRING","ContainerInterface",39],";",["T_WHITESPACE","\n\n",39],["T_DOC_COMMENT","\/**\n * @coversDefaultClass \\Drupal\\Core\\Entity\\EntityFieldManager\n * @group Entity\n *\/",41],["T_WHITESPACE","\n",44],["T_CLASS","class",45],["T_WHITESPACE"," ",45],["T_STRING","EntityFieldManagerTest",45],["T_WHITESPACE"," ",45],["T_EXTENDS","extends",45],["T_WHITESPACE"," ",45],["T_STRING","UnitTestCase",45],["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n\n  ",45],["T_DOC_COMMENT","\/**\n   * The typed data manager.\n   *\n   * @var \\Drupal\\Core\\TypedData\\TypedDataManagerInterface|\\Prophecy\\Prophecy\\ProphecyInterface\n   *\/",47],["T_WHITESPACE","\n  ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$typedDataManager",52],";",["T_WHITESPACE","\n\n  ",52],["T_DOC_COMMENT","\/**\n   * The module handler.\n   *\n   * @var \\Drupal\\Core\\Extension\\ModuleHandlerInterface|\\Prophecy\\Prophecy\\ProphecyInterface\n   *\/",54],["T_WHITESPACE","\n  ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$moduleHandler",59],";",["T_WHITESPACE","\n\n  ",59],["T_DOC_COMMENT","\/**\n   * The cache backend to use.\n   *\n   * @var \\Drupal\\Core\\Cache\\CacheBackendInterface|\\Prophecy\\Prophecy\\ProphecyInterface\n   *\/",61],["T_WHITESPACE","\n  ",65],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$cacheBackend",66],";",["T_WHITESPACE","\n\n  ",66],["T_DOC_COMMENT","\/**\n   * The cache tags invalidator.\n   *\n   * @var \\Drupal\\Core\\Cache\\CacheTagsInvalidatorInterface|\\Prophecy\\Prophecy\\ProphecyInterface\n   *\/",68],["T_WHITESPACE","\n  ",72],["T_PROTECTED","protected",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$cacheTagsInvalidator",73],";",["T_WHITESPACE","\n\n  ",73],["T_DOC_COMMENT","\/**\n   * The language manager.\n   *\n   * @var \\Drupal\\Core\\Language\\LanguageManagerInterface|\\Prophecy\\Prophecy\\ProphecyInterface\n   *\/",75],["T_WHITESPACE","\n  ",79],["T_PROTECTED","protected",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$languageManager",80],";",["T_WHITESPACE","\n\n  ",80],["T_DOC_COMMENT","\/**\n   * The keyvalue factory.\n   *\n   * @var \\Drupal\\Core\\KeyValueStore\\KeyValueFactoryInterface|\\Prophecy\\Prophecy\\ProphecyInterface\n   *\/",82],["T_WHITESPACE","\n  ",86],["T_PROTECTED","protected",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$keyValueFactory",87],";",["T_WHITESPACE","\n\n  ",87],["T_DOC_COMMENT","\/**\n   * The event dispatcher.\n   *\n   * @var \\Symfony\\Component\\EventDispatcher\\EventDispatcherInterface|\\Prophecy\\Prophecy\\ProphecyInterface\n   *\/",89],["T_WHITESPACE","\n  ",93],["T_PROTECTED","protected",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$eventDispatcher",94],";",["T_WHITESPACE","\n\n  ",94],["T_DOC_COMMENT","\/**\n   * The entity type manager.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityTypeManagerInterface|\\Prophecy\\Prophecy\\ProphecyInterface\n   *\/",96],["T_WHITESPACE","\n  ",100],["T_PROTECTED","protected",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$entityTypeManager",101],";",["T_WHITESPACE","\n\n  ",101],["T_DOC_COMMENT","\/**\n   * The entity type repository.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityTypeRepositoryInterface|\\Prophecy\\Prophecy\\ProphecyInterface\n   *\/",103],["T_WHITESPACE","\n  ",107],["T_PROTECTED","protected",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$entityTypeRepository",108],";",["T_WHITESPACE","\n\n  ",108],["T_DOC_COMMENT","\/**\n   * The entity type bundle info.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityTypeBundleInfoInterface|\\Prophecy\\Prophecy\\ProphecyInterface\n   *\/",110],["T_WHITESPACE","\n  ",114],["T_PROTECTED","protected",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$entityTypeBundleInfo",115],";",["T_WHITESPACE","\n\n  ",115],["T_DOC_COMMENT","\/**\n   * The entity display repository.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityDisplayRepositoryInterface|\\Prophecy\\Prophecy\\ProphecyInterface\n   *\/",117],["T_WHITESPACE","\n  ",121],["T_PROTECTED","protected",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$entityDisplayRepository",122],";",["T_WHITESPACE","\n\n  ",122],["T_DOC_COMMENT","\/**\n   * The entity field manager under test.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityFieldManager\n   *\/",124],["T_WHITESPACE","\n  ",128],["T_PROTECTED","protected",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$entityFieldManager",129],";",["T_WHITESPACE","\n\n  ",129],["T_DOC_COMMENT","\/**\n   * The dependency injection container.\n   *\n   * @var \\Symfony\\Component\\DependencyInjection\\ContainerInterface|\\Prophecy\\Prophecy\\ProphecyInterface\n   *\/",131],["T_WHITESPACE","\n  ",135],["T_PROTECTED","protected",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$container",136],";",["T_WHITESPACE","\n\n  ",136],["T_DOC_COMMENT","\/**\n   * The entity type definition.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityTypeInterface|\\Prophecy\\Prophecy\\ProphecyInterface\n   *\/",138],["T_WHITESPACE","\n  ",142],["T_PROTECTED","protected",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$entityType",143],";",["T_WHITESPACE","\n\n  ",143],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",145],["T_WHITESPACE","\n  ",147],["T_PROTECTED","protected",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","setUp",148],"(",")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n    ",148],["T_STRING","parent",149],["T_DOUBLE_COLON","::",149],["T_STRING","setUp",149],"(",")",";",["T_WHITESPACE","\n\n    ",149],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","container",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","prophesize",151],"(",["T_STRING","ContainerInterface",151],["T_DOUBLE_COLON","::",151],["T_CLASS","class",151],")",";",["T_WHITESPACE","\n    ",151],["T_NS_SEPARATOR","\\",152],["T_STRING","Drupal",152],["T_DOUBLE_COLON","::",152],["T_STRING","setContainer",152],"(",["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","container",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","reveal",152],"(",")",")",";",["T_WHITESPACE","\n\n    ",152],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","typedDataManager",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","prophesize",154],"(",["T_STRING","TypedDataManagerInterface",154],["T_DOUBLE_COLON","::",154],["T_CLASS","class",154],")",";",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","typedDataManager",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getDefinition",155],"(",["T_CONSTANT_ENCAPSED_STRING","'field_item:boolean'",155],")",["T_OBJECT_OPERATOR","->",155],["T_STRING","willReturn",155],"(","[",["T_WHITESPACE","\n      ",155],["T_CONSTANT_ENCAPSED_STRING","'class'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_STRING","BooleanItem",156],["T_DOUBLE_COLON","::",156],["T_CLASS","class",156],",",["T_WHITESPACE","\n    ",156],"]",")",";",["T_WHITESPACE","\n    ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","container",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","get",158],"(",["T_CONSTANT_ENCAPSED_STRING","'typed_data_manager'",158],")",["T_OBJECT_OPERATOR","->",158],["T_STRING","willReturn",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","typedDataManager",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","reveal",158],"(",")",")",";",["T_WHITESPACE","\n\n    ",158],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","moduleHandler",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","prophesize",160],"(",["T_STRING","ModuleHandlerInterface",160],["T_DOUBLE_COLON","::",160],["T_CLASS","class",160],")",";",["T_WHITESPACE","\n    ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","moduleHandler",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","alter",161],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_base_field_info'",161],",",["T_WHITESPACE"," ",161],["T_STRING","Argument",161],["T_DOUBLE_COLON","::",161],["T_STRING","type",161],"(",["T_CONSTANT_ENCAPSED_STRING","'array'",161],")",",",["T_WHITESPACE"," ",161],["T_STRING","Argument",161],["T_DOUBLE_COLON","::",161],["T_STRING","any",161],"(",")",")",["T_OBJECT_OPERATOR","->",161],["T_STRING","willReturn",161],"(",["T_STRING","NULL",161],")",";",["T_WHITESPACE","\n    ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","moduleHandler",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","alter",162],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_bundle_field_info'",162],",",["T_WHITESPACE"," ",162],["T_STRING","Argument",162],["T_DOUBLE_COLON","::",162],["T_STRING","type",162],"(",["T_CONSTANT_ENCAPSED_STRING","'array'",162],")",",",["T_WHITESPACE"," ",162],["T_STRING","Argument",162],["T_DOUBLE_COLON","::",162],["T_STRING","any",162],"(",")",",",["T_WHITESPACE"," ",162],["T_STRING","Argument",162],["T_DOUBLE_COLON","::",162],["T_STRING","type",162],"(",["T_CONSTANT_ENCAPSED_STRING","'string'",162],")",")",["T_OBJECT_OPERATOR","->",162],["T_STRING","willReturn",162],"(",["T_STRING","NULL",162],")",";",["T_WHITESPACE","\n\n    ",162],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","cacheBackend",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","prophesize",164],"(",["T_STRING","CacheBackendInterface",164],["T_DOUBLE_COLON","::",164],["T_CLASS","class",164],")",";",["T_WHITESPACE","\n    ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","cacheTagsInvalidator",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","prophesize",165],"(",["T_STRING","CacheTagsInvalidatorInterface",165],["T_DOUBLE_COLON","::",165],["T_CLASS","class",165],")",";",["T_WHITESPACE","\n\n    ",165],["T_VARIABLE","$language",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_NEW","new",167],["T_WHITESPACE"," ",167],["T_STRING","Language",167],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'en'",167],"]",")",";",["T_WHITESPACE","\n    ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","languageManager",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","prophesize",168],"(",["T_STRING","LanguageManagerInterface",168],["T_DOUBLE_COLON","::",168],["T_CLASS","class",168],")",";",["T_WHITESPACE","\n    ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","languageManager",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getCurrentLanguage",169],"(",")",["T_OBJECT_OPERATOR","->",169],["T_STRING","willReturn",169],"(",["T_VARIABLE","$language",169],")",";",["T_WHITESPACE","\n    ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","languageManager",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getLanguages",170],"(",")",["T_OBJECT_OPERATOR","->",170],["T_STRING","willReturn",170],"(","[",["T_CONSTANT_ENCAPSED_STRING","'en'",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_OBJECT_CAST","(object)",170],["T_WHITESPACE"," ",170],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'en'",170],"]","]",")",";",["T_WHITESPACE","\n\n    ",170],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","keyValueFactory",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","prophesize",172],"(",["T_STRING","KeyValueFactoryInterface",172],["T_DOUBLE_COLON","::",172],["T_CLASS","class",172],")",";",["T_WHITESPACE","\n\n    ",172],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","entityTypeManager",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","prophesize",174],"(",["T_STRING","EntityTypeManagerInterface",174],["T_DOUBLE_COLON","::",174],["T_CLASS","class",174],")",";",["T_WHITESPACE","\n    ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","entityTypeRepository",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","prophesize",175],"(",["T_STRING","EntityTypeRepositoryInterface",175],["T_DOUBLE_COLON","::",175],["T_CLASS","class",175],")",";",["T_WHITESPACE","\n    ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","entityTypeBundleInfo",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","prophesize",176],"(",["T_STRING","EntityTypeBundleInfoInterface",176],["T_DOUBLE_COLON","::",176],["T_CLASS","class",176],")",";",["T_WHITESPACE","\n    ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","entityDisplayRepository",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","prophesize",177],"(",["T_STRING","EntityDisplayRepositoryInterface",177],["T_DOUBLE_COLON","::",177],["T_CLASS","class",177],")",";",["T_WHITESPACE","\n\n    ",177],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","entityFieldManager",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_NEW","new",179],["T_WHITESPACE"," ",179],["T_STRING","TestEntityFieldManager",179],"(",["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","entityTypeManager",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","reveal",179],"(",")",",",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","entityTypeBundleInfo",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","reveal",179],"(",")",",",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","entityDisplayRepository",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","reveal",179],"(",")",",",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","typedDataManager",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","reveal",179],"(",")",",",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","languageManager",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","reveal",179],"(",")",",",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","keyValueFactory",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","reveal",179],"(",")",",",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","moduleHandler",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","reveal",179],"(",")",",",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","cacheBackend",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","reveal",179],"(",")",")",";",["T_WHITESPACE","\n  ",179],"}",["T_WHITESPACE","\n\n  ",180],["T_DOC_COMMENT","\/**\n   * Sets up the entity type manager to be tested.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityTypeInterface[]|\\Prophecy\\Prophecy\\ProphecyInterface[] $definitions\n   *   (optional) An array of entity type definitions.\n   *\/",182],["T_WHITESPACE","\n  ",187],["T_PROTECTED","protected",188],["T_WHITESPACE"," ",188],["T_FUNCTION","function",188],["T_WHITESPACE"," ",188],["T_STRING","setUpEntityTypeDefinitions",188],"(",["T_VARIABLE","$definitions",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],"[","]",")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n    ",188],["T_VARIABLE","$class",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getMockClass",189],"(",["T_STRING","EntityInterface",189],["T_DOUBLE_COLON","::",189],["T_CLASS","class",189],")",";",["T_WHITESPACE","\n    ",189],["T_FOREACH","foreach",190],["T_WHITESPACE"," ",190],"(",["T_VARIABLE","$definitions",190],["T_WHITESPACE"," ",190],["T_AS","as",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$key",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$entity_type",190],")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n      ",190],["T_COMMENT","\/\/ \\Drupal\\Core\\Entity\\EntityTypeInterface::getLinkTemplates() is called\n",191],["T_WHITESPACE","      ",192],["T_COMMENT","\/\/ by \\Drupal\\Core\\Entity\\EntityManager::processDefinition() so it must\n",192],["T_WHITESPACE","      ",193],["T_COMMENT","\/\/ always be mocked.\n",193],["T_WHITESPACE","      ",194],["T_VARIABLE","$entity_type",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getLinkTemplates",194],"(",")",["T_OBJECT_OPERATOR","->",194],["T_STRING","willReturn",194],"(","[","]",")",";",["T_WHITESPACE","\n\n      ",194],["T_COMMENT","\/\/ Give the entity type a legitimate class to return.\n",196],["T_WHITESPACE","      ",197],["T_VARIABLE","$entity_type",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getClass",197],"(",")",["T_OBJECT_OPERATOR","->",197],["T_STRING","willReturn",197],"(",["T_VARIABLE","$class",197],")",";",["T_WHITESPACE","\n\n      ",197],["T_VARIABLE","$definitions",199],"[",["T_VARIABLE","$key",199],"]",["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$entity_type",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","reveal",199],"(",")",";",["T_WHITESPACE","\n    ",199],"}",["T_WHITESPACE","\n\n    ",200],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","entityTypeManager",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getDefinition",202],"(",["T_STRING","Argument",202],["T_DOUBLE_COLON","::",202],["T_STRING","type",202],"(",["T_CONSTANT_ENCAPSED_STRING","'string'",202],")",")",["T_WHITESPACE","\n      ",202],["T_OBJECT_OPERATOR","->",203],["T_STRING","will",203],"(",["T_FUNCTION","function",203],["T_WHITESPACE"," ",203],"(",["T_VARIABLE","$args",203],")",["T_WHITESPACE"," ",203],["T_USE","use",203],["T_WHITESPACE"," ",203],"(",["T_VARIABLE","$definitions",203],")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n        ",203],["T_IF","if",204],["T_WHITESPACE"," ",204],"(",["T_ISSET","isset",204],"(",["T_VARIABLE","$definitions",204],"[",["T_VARIABLE","$args",204],"[",["T_LNUMBER","0",204],"]","]",")",")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n          ",204],["T_RETURN","return",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$definitions",205],"[",["T_VARIABLE","$args",205],"[",["T_LNUMBER","0",205],"]","]",";",["T_WHITESPACE","\n        ",205],"}",["T_WHITESPACE","\n        ",206],["T_THROW","throw",207],["T_WHITESPACE"," ",207],["T_NEW","new",207],["T_WHITESPACE"," ",207],["T_STRING","PluginNotFoundException",207],"(",["T_VARIABLE","$args",207],"[",["T_LNUMBER","0",207],"]",")",";",["T_WHITESPACE","\n      ",207],"}",")",";",["T_WHITESPACE","\n    ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","entityTypeManager",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getDefinition",209],"(",["T_STRING","Argument",209],["T_DOUBLE_COLON","::",209],["T_STRING","type",209],"(",["T_CONSTANT_ENCAPSED_STRING","'string'",209],")",",",["T_WHITESPACE"," ",209],["T_STRING","FALSE",209],")",["T_WHITESPACE","\n      ",209],["T_OBJECT_OPERATOR","->",210],["T_STRING","will",210],"(",["T_FUNCTION","function",210],["T_WHITESPACE"," ",210],"(",["T_VARIABLE","$args",210],")",["T_WHITESPACE"," ",210],["T_USE","use",210],["T_WHITESPACE"," ",210],"(",["T_VARIABLE","$definitions",210],")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n        ",210],["T_IF","if",211],["T_WHITESPACE"," ",211],"(",["T_ISSET","isset",211],"(",["T_VARIABLE","$definitions",211],"[",["T_VARIABLE","$args",211],"[",["T_LNUMBER","0",211],"]","]",")",")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n          ",211],["T_RETURN","return",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$definitions",212],"[",["T_VARIABLE","$args",212],"[",["T_LNUMBER","0",212],"]","]",";",["T_WHITESPACE","\n        ",212],"}",["T_WHITESPACE","\n      ",213],"}",")",";",["T_WHITESPACE","\n    ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","entityTypeManager",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getDefinitions",215],"(",")",["T_OBJECT_OPERATOR","->",215],["T_STRING","willReturn",215],"(",["T_VARIABLE","$definitions",215],")",";",["T_WHITESPACE","\n\n  ",215],"}",["T_WHITESPACE","\n\n  ",217],["T_DOC_COMMENT","\/**\n   * Tests the getBaseFieldDefinitions() method.\n   *\n   * @covers ::getBaseFieldDefinitions\n   * @covers ::buildBaseFieldDefinitions\n   *\/",219],["T_WHITESPACE","\n  ",224],["T_PUBLIC","public",225],["T_WHITESPACE"," ",225],["T_FUNCTION","function",225],["T_WHITESPACE"," ",225],["T_STRING","testGetBaseFieldDefinitions",225],"(",")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n    ",225],["T_VARIABLE","$field_definition",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","setUpEntityWithFieldDefinition",226],"(",")",";",["T_WHITESPACE","\n\n    ",226],["T_VARIABLE","$expected",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",228],["T_WHITESPACE"," ",228],["T_DOUBLE_ARROW","=>",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$field_definition",228],"]",";",["T_WHITESPACE","\n    ",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","assertSame",229],"(",["T_VARIABLE","$expected",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","entityFieldManager",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getBaseFieldDefinitions",229],"(",["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",229],")",")",";",["T_WHITESPACE","\n  ",229],"}",["T_WHITESPACE","\n\n  ",230],["T_DOC_COMMENT","\/**\n   * Tests the getFieldDefinitions() method.\n   *\n   * @covers ::getFieldDefinitions\n   * @covers ::buildBundleFieldDefinitions\n   *\/",232],["T_WHITESPACE","\n  ",237],["T_PUBLIC","public",238],["T_WHITESPACE"," ",238],["T_FUNCTION","function",238],["T_WHITESPACE"," ",238],["T_STRING","testGetFieldDefinitions",238],"(",")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n    ",238],["T_VARIABLE","$field_definition",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","setUpEntityWithFieldDefinition",239],"(",")",";",["T_WHITESPACE","\n\n    ",239],["T_VARIABLE","$expected",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",241],["T_WHITESPACE"," ",241],["T_DOUBLE_ARROW","=>",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$field_definition",241],"]",";",["T_WHITESPACE","\n    ",241],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","assertSame",242],"(",["T_VARIABLE","$expected",242],",",["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","entityFieldManager",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getFieldDefinitions",242],"(",["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",242],",",["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","'test_entity_bundle'",242],")",")",";",["T_WHITESPACE","\n  ",242],"}",["T_WHITESPACE","\n\n  ",243],["T_DOC_COMMENT","\/**\n   * Tests the getFieldStorageDefinitions() method.\n   *\n   * @covers ::getFieldStorageDefinitions\n   * @covers ::buildFieldStorageDefinitions\n   *\/",245],["T_WHITESPACE","\n  ",250],["T_PUBLIC","public",251],["T_WHITESPACE"," ",251],["T_FUNCTION","function",251],["T_WHITESPACE"," ",251],["T_STRING","testGetFieldStorageDefinitions",251],"(",")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n    ",251],["T_VARIABLE","$field_definition",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","setUpEntityWithFieldDefinition",252],"(",["T_STRING","TRUE",252],")",";",["T_WHITESPACE","\n    ",252],["T_VARIABLE","$field_storage_definition",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","prophesize",253],"(",["T_STRING","FieldStorageDefinitionInterface",253],["T_DOUBLE_COLON","::",253],["T_CLASS","class",253],")",";",["T_WHITESPACE","\n    ",253],["T_VARIABLE","$field_storage_definition",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","getName",254],"(",")",["T_OBJECT_OPERATOR","->",254],["T_STRING","willReturn",254],"(",["T_CONSTANT_ENCAPSED_STRING","'field_storage'",254],")",";",["T_WHITESPACE","\n\n    ",254],["T_VARIABLE","$definitions",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],"[",["T_CONSTANT_ENCAPSED_STRING","'field_storage'",256],["T_WHITESPACE"," ",256],["T_DOUBLE_ARROW","=>",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$field_storage_definition",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","reveal",256],"(",")","]",";",["T_WHITESPACE","\n\n    ",256],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","moduleHandler",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getImplementations",258],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_base_field_info'",258],")",["T_OBJECT_OPERATOR","->",258],["T_STRING","willReturn",258],"(","[","]",")",";",["T_WHITESPACE","\n    ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","moduleHandler",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","getImplementations",259],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_field_storage_info'",259],")",["T_OBJECT_OPERATOR","->",259],["T_STRING","willReturn",259],"(","[",["T_CONSTANT_ENCAPSED_STRING","'example_module'",259],"]",")",";",["T_WHITESPACE","\n    ",259],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","moduleHandler",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","invoke",260],"(",["T_CONSTANT_ENCAPSED_STRING","'example_module'",260],",",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'entity_field_storage_info'",260],",",["T_WHITESPACE"," ",260],"[",["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","entityType",260],"]",")",["T_OBJECT_OPERATOR","->",260],["T_STRING","willReturn",260],"(",["T_VARIABLE","$definitions",260],")",";",["T_WHITESPACE","\n    ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","moduleHandler",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","alter",261],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_field_storage_info'",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$definitions",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","entityType",261],")",["T_OBJECT_OPERATOR","->",261],["T_STRING","willReturn",261],"(",["T_STRING","NULL",261],")",";",["T_WHITESPACE","\n\n    ",261],["T_VARIABLE","$expected",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],"[",["T_WHITESPACE","\n      ",263],["T_CONSTANT_ENCAPSED_STRING","'id'",264],["T_WHITESPACE"," ",264],["T_DOUBLE_ARROW","=>",264],["T_WHITESPACE"," ",264],["T_VARIABLE","$field_definition",264],",",["T_WHITESPACE","\n      ",264],["T_CONSTANT_ENCAPSED_STRING","'field_storage'",265],["T_WHITESPACE"," ",265],["T_DOUBLE_ARROW","=>",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$field_storage_definition",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","reveal",265],"(",")",",",["T_WHITESPACE","\n    ",265],"]",";",["T_WHITESPACE","\n    ",266],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","assertSame",267],"(",["T_VARIABLE","$expected",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","entityFieldManager",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","getFieldStorageDefinitions",267],"(",["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",267],")",")",";",["T_WHITESPACE","\n  ",267],"}",["T_WHITESPACE","\n\n  ",268],["T_DOC_COMMENT","\/**\n   * Tests the getBaseFieldDefinitions() method with a translatable entity type.\n   *\n   * @covers ::getBaseFieldDefinitions\n   * @covers ::buildBaseFieldDefinitions\n   *\n   * @dataProvider providerTestGetBaseFieldDefinitionsTranslatableEntityTypeDefaultLangcode\n   *\/",270],["T_WHITESPACE","\n  ",277],["T_PUBLIC","public",278],["T_WHITESPACE"," ",278],["T_FUNCTION","function",278],["T_WHITESPACE"," ",278],["T_STRING","testGetBaseFieldDefinitionsTranslatableEntityTypeDefaultLangcode",278],"(",["T_VARIABLE","$default_langcode_key",278],")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n    ",278],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","setUpEntityWithFieldDefinition",279],"(",["T_STRING","FALSE",279],",",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'id'",279],",",["T_WHITESPACE"," ",279],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'langcode'",279],",",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'default_langcode'",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$default_langcode_key",279],"]",")",";",["T_WHITESPACE","\n\n    ",279],["T_VARIABLE","$field_definition",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","prophesize",281],"(",")",["T_OBJECT_OPERATOR","->",281],["T_STRING","willImplement",281],"(",["T_STRING","FieldDefinitionInterface",281],["T_DOUBLE_COLON","::",281],["T_CLASS","class",281],")",["T_OBJECT_OPERATOR","->",281],["T_STRING","willImplement",281],"(",["T_STRING","FieldStorageDefinitionInterface",281],["T_DOUBLE_COLON","::",281],["T_CLASS","class",281],")",";",["T_WHITESPACE","\n    ",281],["T_VARIABLE","$field_definition",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","isTranslatable",282],"(",")",["T_OBJECT_OPERATOR","->",282],["T_STRING","willReturn",282],"(",["T_STRING","TRUE",282],")",";",["T_WHITESPACE","\n\n    ",282],["T_VARIABLE","$entity_class",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_STRING","EntityManagerTestEntity",284],["T_DOUBLE_COLON","::",284],["T_CLASS","class",284],";",["T_WHITESPACE","\n    ",284],["T_VARIABLE","$entity_class",285],["T_DOUBLE_COLON","::",285],["T_VARIABLE","$baseFieldDefinitions",285],["T_WHITESPACE"," ",285],["T_PLUS_EQUAL","+=",285],["T_WHITESPACE"," ",285],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",285],["T_WHITESPACE"," ",285],["T_DOUBLE_ARROW","=>",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$field_definition",285],"]",";",["T_WHITESPACE","\n\n    ",285],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","entityType",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","isTranslatable",287],"(",")",["T_OBJECT_OPERATOR","->",287],["T_STRING","willReturn",287],"(",["T_STRING","TRUE",287],")",";",["T_WHITESPACE","\n\n    ",287],["T_VARIABLE","$definitions",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","entityFieldManager",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","getBaseFieldDefinitions",289],"(",["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",289],")",";",["T_WHITESPACE","\n\n    ",289],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","assertTrue",291],"(",["T_ISSET","isset",291],"(",["T_VARIABLE","$definitions",291],"[",["T_VARIABLE","$default_langcode_key",291],"]",")",")",";",["T_WHITESPACE","\n  ",291],"}",["T_WHITESPACE","\n\n  ",292],["T_DOC_COMMENT","\/**\n   * Provides test data for testGetBaseFieldDefinitionsTranslatableEntityTypeDefaultLangcode().\n   *\n   * @return array\n   *   Test data.\n   *\/",294],["T_WHITESPACE","\n  ",299],["T_PUBLIC","public",300],["T_WHITESPACE"," ",300],["T_FUNCTION","function",300],["T_WHITESPACE"," ",300],["T_STRING","providerTestGetBaseFieldDefinitionsTranslatableEntityTypeDefaultLangcode",300],"(",")",["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n    ",300],["T_RETURN","return",301],["T_WHITESPACE"," ",301],"[",["T_WHITESPACE","\n      ",301],"[",["T_CONSTANT_ENCAPSED_STRING","'default_langcode'",302],"]",",",["T_WHITESPACE","\n      ",302],"[",["T_CONSTANT_ENCAPSED_STRING","'custom_default_langcode_key'",303],"]",",",["T_WHITESPACE","\n    ",303],"]",";",["T_WHITESPACE","\n  ",304],"}",["T_WHITESPACE","\n\n  ",305],["T_DOC_COMMENT","\/**\n   * Tests the getBaseFieldDefinitions() method with a translatable entity type.\n   *\n   * @covers ::getBaseFieldDefinitions\n   * @covers ::buildBaseFieldDefinitions\n   *\n   * @expectedException \\LogicException\n   * @expectedExceptionMessage The Test entity type cannot be translatable as it does not define a translatable \"langcode\" field.\n   *\n   * @dataProvider providerTestGetBaseFieldDefinitionsTranslatableEntityTypeLangcode\n   *\/",307],["T_WHITESPACE","\n  ",317],["T_PUBLIC","public",318],["T_WHITESPACE"," ",318],["T_FUNCTION","function",318],["T_WHITESPACE"," ",318],["T_STRING","testGetBaseFieldDefinitionsTranslatableEntityTypeLangcode",318],"(",["T_VARIABLE","$provide_key",318],",",["T_WHITESPACE"," ",318],["T_VARIABLE","$provide_field",318],",",["T_WHITESPACE"," ",318],["T_VARIABLE","$translatable",318],")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n    ",318],["T_VARIABLE","$keys",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_VARIABLE","$provide_key",319],["T_WHITESPACE"," ",319],"?",["T_WHITESPACE"," ",319],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",319],["T_WHITESPACE"," ",319],["T_DOUBLE_ARROW","=>",319],["T_WHITESPACE"," ",319],["T_CONSTANT_ENCAPSED_STRING","'langcode'",319],"]",["T_WHITESPACE"," ",319],":",["T_WHITESPACE"," ",319],"[","]",";",["T_WHITESPACE","\n    ",319],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","setUpEntityWithFieldDefinition",320],"(",["T_STRING","FALSE",320],",",["T_WHITESPACE"," ",320],["T_CONSTANT_ENCAPSED_STRING","'id'",320],",",["T_WHITESPACE"," ",320],["T_VARIABLE","$keys",320],")",";",["T_WHITESPACE","\n\n    ",320],["T_IF","if",322],["T_WHITESPACE"," ",322],"(",["T_VARIABLE","$provide_field",322],")",["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n      ",322],["T_VARIABLE","$field_definition",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","prophesize",323],"(",")",["T_OBJECT_OPERATOR","->",323],["T_STRING","willImplement",323],"(",["T_STRING","FieldDefinitionInterface",323],["T_DOUBLE_COLON","::",323],["T_CLASS","class",323],")",["T_OBJECT_OPERATOR","->",323],["T_STRING","willImplement",323],"(",["T_STRING","FieldStorageDefinitionInterface",323],["T_DOUBLE_COLON","::",323],["T_CLASS","class",323],")",";",["T_WHITESPACE","\n      ",323],["T_VARIABLE","$field_definition",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","isTranslatable",324],"(",")",["T_OBJECT_OPERATOR","->",324],["T_STRING","willReturn",324],"(",["T_VARIABLE","$translatable",324],")",";",["T_WHITESPACE","\n      ",324],["T_IF","if",325],["T_WHITESPACE"," ",325],"(","!",["T_VARIABLE","$translatable",325],")",["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n        ",325],["T_VARIABLE","$field_definition",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","setTranslatable",326],"(","!",["T_VARIABLE","$translatable",326],")",["T_OBJECT_OPERATOR","->",326],["T_STRING","shouldBeCalled",326],"(",")",";",["T_WHITESPACE","\n      ",326],"}",["T_WHITESPACE","\n\n      ",327],["T_VARIABLE","$entity_class",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_STRING","EntityManagerTestEntity",329],["T_DOUBLE_COLON","::",329],["T_CLASS","class",329],";",["T_WHITESPACE","\n      ",329],["T_VARIABLE","$entity_class",330],["T_DOUBLE_COLON","::",330],["T_VARIABLE","$baseFieldDefinitions",330],["T_WHITESPACE"," ",330],["T_PLUS_EQUAL","+=",330],["T_WHITESPACE"," ",330],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",330],["T_WHITESPACE"," ",330],["T_DOUBLE_ARROW","=>",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$field_definition",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","reveal",330],"(",")","]",";",["T_WHITESPACE","\n    ",330],"}",["T_WHITESPACE","\n\n    ",331],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","entityType",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","isTranslatable",333],"(",")",["T_OBJECT_OPERATOR","->",333],["T_STRING","willReturn",333],"(",["T_STRING","TRUE",333],")",";",["T_WHITESPACE","\n    ",333],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","entityType",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","getLabel",334],"(",")",["T_OBJECT_OPERATOR","->",334],["T_STRING","willReturn",334],"(",["T_CONSTANT_ENCAPSED_STRING","'Test'",334],")",";",["T_WHITESPACE","\n\n    ",334],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","entityFieldManager",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","getBaseFieldDefinitions",336],"(",["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",336],")",";",["T_WHITESPACE","\n  ",336],"}",["T_WHITESPACE","\n\n  ",337],["T_DOC_COMMENT","\/**\n   * Provides test data for testGetBaseFieldDefinitionsTranslatableEntityTypeLangcode().\n   *\n   * @return array\n   *   Test data.\n   *\/",339],["T_WHITESPACE","\n  ",344],["T_PUBLIC","public",345],["T_WHITESPACE"," ",345],["T_FUNCTION","function",345],["T_WHITESPACE"," ",345],["T_STRING","providerTestGetBaseFieldDefinitionsTranslatableEntityTypeLangcode",345],"(",")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n    ",345],["T_RETURN","return",346],["T_WHITESPACE"," ",346],"[",["T_WHITESPACE","\n      ",346],"[",["T_STRING","FALSE",347],",",["T_WHITESPACE"," ",347],["T_STRING","TRUE",347],",",["T_WHITESPACE"," ",347],["T_STRING","TRUE",347],"]",",",["T_WHITESPACE","\n      ",347],"[",["T_STRING","TRUE",348],",",["T_WHITESPACE"," ",348],["T_STRING","FALSE",348],",",["T_WHITESPACE"," ",348],["T_STRING","TRUE",348],"]",",",["T_WHITESPACE","\n      ",348],"[",["T_STRING","TRUE",349],",",["T_WHITESPACE"," ",349],["T_STRING","TRUE",349],",",["T_WHITESPACE"," ",349],["T_STRING","FALSE",349],"]",",",["T_WHITESPACE","\n    ",349],"]",";",["T_WHITESPACE","\n  ",350],"}",["T_WHITESPACE","\n\n  ",351],["T_DOC_COMMENT","\/**\n   * Tests the getBaseFieldDefinitions() method with caching.\n   *\n   * @covers ::getBaseFieldDefinitions\n   *\/",353],["T_WHITESPACE","\n  ",357],["T_PUBLIC","public",358],["T_WHITESPACE"," ",358],["T_FUNCTION","function",358],["T_WHITESPACE"," ",358],["T_STRING","testGetBaseFieldDefinitionsWithCaching",358],"(",")",["T_WHITESPACE"," ",358],"{",["T_WHITESPACE","\n    ",358],["T_VARIABLE","$field_definition",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","setUpEntityWithFieldDefinition",359],"(",")",";",["T_WHITESPACE","\n\n    ",359],["T_VARIABLE","$expected",361],["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",361],["T_WHITESPACE"," ",361],["T_DOUBLE_ARROW","=>",361],["T_WHITESPACE"," ",361],["T_VARIABLE","$field_definition",361],"]",";",["T_WHITESPACE","\n\n    ",361],["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","cacheBackend",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","get",363],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_base_field_definitions:test_entity_type:en'",363],")",["T_WHITESPACE","\n      ",363],["T_OBJECT_OPERATOR","->",364],["T_STRING","willReturn",364],"(",["T_STRING","FALSE",364],")",["T_WHITESPACE","\n      ",364],["T_OBJECT_OPERATOR","->",365],["T_STRING","shouldBeCalled",365],"(",")",";",["T_WHITESPACE","\n    ",365],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","cacheBackend",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","set",366],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_base_field_definitions:test_entity_type:en'",366],",",["T_WHITESPACE"," ",366],["T_STRING","Argument",366],["T_DOUBLE_COLON","::",366],["T_STRING","any",366],"(",")",",",["T_WHITESPACE"," ",366],["T_STRING","Cache",366],["T_DOUBLE_COLON","::",366],["T_STRING","PERMANENT",366],",",["T_WHITESPACE"," ",366],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_types'",366],",",["T_WHITESPACE"," ",366],["T_CONSTANT_ENCAPSED_STRING","'entity_field_info'",366],"]",")",["T_WHITESPACE","\n      ",366],["T_OBJECT_OPERATOR","->",367],["T_STRING","will",367],"(",["T_FUNCTION","function",367],["T_WHITESPACE"," ",367],"(",["T_VARIABLE","$args",367],")",["T_WHITESPACE"," ",367],"{",["T_WHITESPACE","\n        ",367],["T_VARIABLE","$data",368],["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],["T_OBJECT_CAST","(object)",368],["T_WHITESPACE"," ",368],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",368],["T_WHITESPACE"," ",368],["T_DOUBLE_ARROW","=>",368],["T_WHITESPACE"," ",368],["T_VARIABLE","$args",368],"[",["T_LNUMBER","1",368],"]","]",";",["T_WHITESPACE","\n        ",368],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","get",369],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_base_field_definitions:test_entity_type:en'",369],")",["T_WHITESPACE","\n          ",369],["T_OBJECT_OPERATOR","->",370],["T_STRING","willReturn",370],"(",["T_VARIABLE","$data",370],")",["T_WHITESPACE","\n          ",370],["T_OBJECT_OPERATOR","->",371],["T_STRING","shouldBeCalled",371],"(",")",";",["T_WHITESPACE","\n      ",371],"}",")",["T_WHITESPACE","\n      ",372],["T_OBJECT_OPERATOR","->",373],["T_STRING","shouldBeCalled",373],"(",")",";",["T_WHITESPACE","\n\n    ",373],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","assertSame",375],"(",["T_VARIABLE","$expected",375],",",["T_WHITESPACE"," ",375],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","entityFieldManager",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","getBaseFieldDefinitions",375],"(",["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",375],")",")",";",["T_WHITESPACE","\n    ",375],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","entityFieldManager",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","testClearEntityFieldInfo",376],"(",")",";",["T_WHITESPACE","\n    ",376],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","assertSame",377],"(",["T_VARIABLE","$expected",377],",",["T_WHITESPACE"," ",377],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","entityFieldManager",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","getBaseFieldDefinitions",377],"(",["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",377],")",")",";",["T_WHITESPACE","\n  ",377],"}",["T_WHITESPACE","\n\n  ",378],["T_DOC_COMMENT","\/**\n   * Tests the getFieldDefinitions() method with caching.\n   *\n   * @covers ::getFieldDefinitions\n   *\/",380],["T_WHITESPACE","\n  ",384],["T_PUBLIC","public",385],["T_WHITESPACE"," ",385],["T_FUNCTION","function",385],["T_WHITESPACE"," ",385],["T_STRING","testGetFieldDefinitionsWithCaching",385],"(",")",["T_WHITESPACE"," ",385],"{",["T_WHITESPACE","\n    ",385],["T_VARIABLE","$field_definition",386],["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","setUpEntityWithFieldDefinition",386],"(",["T_STRING","FALSE",386],",",["T_WHITESPACE"," ",386],["T_CONSTANT_ENCAPSED_STRING","'id'",386],")",";",["T_WHITESPACE","\n\n    ",386],["T_VARIABLE","$expected",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",388],["T_WHITESPACE"," ",388],["T_DOUBLE_ARROW","=>",388],["T_WHITESPACE"," ",388],["T_VARIABLE","$field_definition",388],"]",";",["T_WHITESPACE","\n\n    ",388],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","cacheBackend",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","get",390],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_base_field_definitions:test_entity_type:en'",390],")",["T_WHITESPACE","\n      ",390],["T_OBJECT_OPERATOR","->",391],["T_STRING","willReturn",391],"(",["T_OBJECT_CAST","(object)",391],["T_WHITESPACE"," ",391],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",391],["T_WHITESPACE"," ",391],["T_DOUBLE_ARROW","=>",391],["T_WHITESPACE"," ",391],["T_VARIABLE","$expected",391],"]",")",["T_WHITESPACE","\n      ",391],["T_OBJECT_OPERATOR","->",392],["T_STRING","shouldBeCalledTimes",392],"(",["T_LNUMBER","2",392],")",";",["T_WHITESPACE","\n    ",392],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","cacheBackend",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","get",393],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_bundle_field_definitions:test_entity_type:test_bundle:en'",393],")",["T_WHITESPACE","\n      ",393],["T_OBJECT_OPERATOR","->",394],["T_STRING","willReturn",394],"(",["T_STRING","FALSE",394],")",["T_WHITESPACE","\n      ",394],["T_OBJECT_OPERATOR","->",395],["T_STRING","shouldBeCalledTimes",395],"(",["T_LNUMBER","1",395],")",";",["T_WHITESPACE","\n    ",395],["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","cacheBackend",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","set",396],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_bundle_field_definitions:test_entity_type:test_bundle:en'",396],",",["T_WHITESPACE"," ",396],["T_STRING","Argument",396],["T_DOUBLE_COLON","::",396],["T_STRING","any",396],"(",")",",",["T_WHITESPACE"," ",396],["T_STRING","Cache",396],["T_DOUBLE_COLON","::",396],["T_STRING","PERMANENT",396],",",["T_WHITESPACE"," ",396],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_types'",396],",",["T_WHITESPACE"," ",396],["T_CONSTANT_ENCAPSED_STRING","'entity_field_info'",396],"]",")",["T_WHITESPACE","\n      ",396],["T_OBJECT_OPERATOR","->",397],["T_STRING","will",397],"(",["T_FUNCTION","function",397],["T_WHITESPACE"," ",397],"(",["T_VARIABLE","$args",397],")",["T_WHITESPACE"," ",397],"{",["T_WHITESPACE","\n        ",397],["T_VARIABLE","$data",398],["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],["T_OBJECT_CAST","(object)",398],["T_WHITESPACE"," ",398],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",398],["T_WHITESPACE"," ",398],["T_DOUBLE_ARROW","=>",398],["T_WHITESPACE"," ",398],["T_VARIABLE","$args",398],"[",["T_LNUMBER","1",398],"]","]",";",["T_WHITESPACE","\n        ",398],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","get",399],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_bundle_field_definitions:test_entity_type:test_bundle:en'",399],")",["T_WHITESPACE","\n          ",399],["T_OBJECT_OPERATOR","->",400],["T_STRING","willReturn",400],"(",["T_VARIABLE","$data",400],")",["T_WHITESPACE","\n          ",400],["T_OBJECT_OPERATOR","->",401],["T_STRING","shouldBeCalled",401],"(",")",";",["T_WHITESPACE","\n      ",401],"}",")",["T_WHITESPACE","\n      ",402],["T_OBJECT_OPERATOR","->",403],["T_STRING","shouldBeCalled",403],"(",")",";",["T_WHITESPACE","\n\n    ",403],["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","assertSame",405],"(",["T_VARIABLE","$expected",405],",",["T_WHITESPACE"," ",405],["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","entityFieldManager",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","getFieldDefinitions",405],"(",["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",405],",",["T_WHITESPACE"," ",405],["T_CONSTANT_ENCAPSED_STRING","'test_bundle'",405],")",")",";",["T_WHITESPACE","\n    ",405],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","entityFieldManager",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","testClearEntityFieldInfo",406],"(",")",";",["T_WHITESPACE","\n    ",406],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","assertSame",407],"(",["T_VARIABLE","$expected",407],",",["T_WHITESPACE"," ",407],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","entityFieldManager",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","getFieldDefinitions",407],"(",["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",407],",",["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","'test_bundle'",407],")",")",";",["T_WHITESPACE","\n  ",407],"}",["T_WHITESPACE","\n\n  ",408],["T_DOC_COMMENT","\/**\n   * Tests the getFieldStorageDefinitions() method with caching.\n   *\n   * @covers ::getFieldStorageDefinitions\n   *\/",410],["T_WHITESPACE","\n  ",414],["T_PUBLIC","public",415],["T_WHITESPACE"," ",415],["T_FUNCTION","function",415],["T_WHITESPACE"," ",415],["T_STRING","testGetFieldStorageDefinitionsWithCaching",415],"(",")",["T_WHITESPACE"," ",415],"{",["T_WHITESPACE","\n    ",415],["T_VARIABLE","$field_definition",416],["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],["T_VARIABLE","$this",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","setUpEntityWithFieldDefinition",416],"(",["T_STRING","TRUE",416],",",["T_WHITESPACE"," ",416],["T_CONSTANT_ENCAPSED_STRING","'id'",416],")",";",["T_WHITESPACE","\n    ",416],["T_VARIABLE","$field_storage_definition",417],["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","prophesize",417],"(",["T_STRING","FieldStorageDefinitionInterface",417],["T_DOUBLE_COLON","::",417],["T_CLASS","class",417],")",";",["T_WHITESPACE","\n    ",417],["T_VARIABLE","$field_storage_definition",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","getName",418],"(",")",["T_OBJECT_OPERATOR","->",418],["T_STRING","willReturn",418],"(",["T_CONSTANT_ENCAPSED_STRING","'field_storage'",418],")",";",["T_WHITESPACE","\n\n    ",418],["T_VARIABLE","$definitions",420],["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],"[",["T_CONSTANT_ENCAPSED_STRING","'field_storage'",420],["T_WHITESPACE"," ",420],["T_DOUBLE_ARROW","=>",420],["T_WHITESPACE"," ",420],["T_VARIABLE","$field_storage_definition",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","reveal",420],"(",")","]",";",["T_WHITESPACE","\n\n    ",420],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","moduleHandler",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","getImplementations",422],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_field_storage_info'",422],")",["T_OBJECT_OPERATOR","->",422],["T_STRING","willReturn",422],"(","[",["T_CONSTANT_ENCAPSED_STRING","'example_module'",422],"]",")",";",["T_WHITESPACE","\n    ",422],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","moduleHandler",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","invoke",423],"(",["T_CONSTANT_ENCAPSED_STRING","'example_module'",423],",",["T_WHITESPACE"," ",423],["T_CONSTANT_ENCAPSED_STRING","'entity_field_storage_info'",423],",",["T_WHITESPACE"," ",423],"[",["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","entityType",423],"]",")",["T_OBJECT_OPERATOR","->",423],["T_STRING","willReturn",423],"(",["T_VARIABLE","$definitions",423],")",";",["T_WHITESPACE","\n    ",423],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","moduleHandler",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","alter",424],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_field_storage_info'",424],",",["T_WHITESPACE"," ",424],["T_VARIABLE","$definitions",424],",",["T_WHITESPACE"," ",424],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","entityType",424],")",["T_OBJECT_OPERATOR","->",424],["T_STRING","willReturn",424],"(",["T_STRING","NULL",424],")",";",["T_WHITESPACE","\n\n    ",424],["T_VARIABLE","$expected",426],["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],"[",["T_WHITESPACE","\n      ",426],["T_CONSTANT_ENCAPSED_STRING","'id'",427],["T_WHITESPACE"," ",427],["T_DOUBLE_ARROW","=>",427],["T_WHITESPACE"," ",427],["T_VARIABLE","$field_definition",427],",",["T_WHITESPACE","\n      ",427],["T_CONSTANT_ENCAPSED_STRING","'field_storage'",428],["T_WHITESPACE"," ",428],["T_DOUBLE_ARROW","=>",428],["T_WHITESPACE"," ",428],["T_VARIABLE","$field_storage_definition",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","reveal",428],"(",")",",",["T_WHITESPACE","\n    ",428],"]",";",["T_WHITESPACE","\n\n    ",429],["T_VARIABLE","$this",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","cacheBackend",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","get",431],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_base_field_definitions:test_entity_type:en'",431],")",["T_WHITESPACE","\n      ",431],["T_OBJECT_OPERATOR","->",432],["T_STRING","willReturn",432],"(",["T_OBJECT_CAST","(object)",432],["T_WHITESPACE"," ",432],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",432],["T_WHITESPACE"," ",432],["T_DOUBLE_ARROW","=>",432],["T_WHITESPACE"," ",432],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",432],["T_WHITESPACE"," ",432],["T_DOUBLE_ARROW","=>",432],["T_WHITESPACE"," ",432],["T_VARIABLE","$expected",432],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",432],"]","]","]",")",["T_WHITESPACE","\n      ",432],["T_OBJECT_OPERATOR","->",433],["T_STRING","shouldBeCalledTimes",433],"(",["T_LNUMBER","2",433],")",";",["T_WHITESPACE","\n    ",433],["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","cacheBackend",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","get",434],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_field_storage_definitions:test_entity_type:en'",434],")",["T_OBJECT_OPERATOR","->",434],["T_STRING","willReturn",434],"(",["T_STRING","FALSE",434],")",";",["T_WHITESPACE","\n\n    ",434],["T_VARIABLE","$this",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","cacheBackend",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","set",436],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_field_storage_definitions:test_entity_type:en'",436],",",["T_WHITESPACE"," ",436],["T_STRING","Argument",436],["T_DOUBLE_COLON","::",436],["T_STRING","any",436],"(",")",",",["T_WHITESPACE"," ",436],["T_STRING","Cache",436],["T_DOUBLE_COLON","::",436],["T_STRING","PERMANENT",436],",",["T_WHITESPACE"," ",436],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_types'",436],",",["T_WHITESPACE"," ",436],["T_CONSTANT_ENCAPSED_STRING","'entity_field_info'",436],"]",")",["T_WHITESPACE","\n      ",436],["T_OBJECT_OPERATOR","->",437],["T_STRING","will",437],"(",["T_FUNCTION","function",437],["T_WHITESPACE"," ",437],"(",")",["T_WHITESPACE"," ",437],["T_USE","use",437],["T_WHITESPACE"," ",437],"(",["T_VARIABLE","$expected",437],")",["T_WHITESPACE"," ",437],"{",["T_WHITESPACE","\n        ",437],["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","get",438],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_field_storage_definitions:test_entity_type:en'",438],")",["T_WHITESPACE","\n          ",438],["T_OBJECT_OPERATOR","->",439],["T_STRING","willReturn",439],"(",["T_OBJECT_CAST","(object)",439],["T_WHITESPACE"," ",439],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",439],["T_WHITESPACE"," ",439],["T_DOUBLE_ARROW","=>",439],["T_WHITESPACE"," ",439],["T_VARIABLE","$expected",439],"]",")",["T_WHITESPACE","\n          ",439],["T_OBJECT_OPERATOR","->",440],["T_STRING","shouldBeCalled",440],"(",")",";",["T_WHITESPACE","\n      ",440],"}",")",["T_WHITESPACE","\n      ",441],["T_OBJECT_OPERATOR","->",442],["T_STRING","shouldBeCalled",442],"(",")",";",["T_WHITESPACE","\n\n\n    ",442],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","assertSame",445],"(",["T_VARIABLE","$expected",445],",",["T_WHITESPACE"," ",445],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","entityFieldManager",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","getFieldStorageDefinitions",445],"(",["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",445],")",")",";",["T_WHITESPACE","\n    ",445],["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","entityFieldManager",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","testClearEntityFieldInfo",446],"(",")",";",["T_WHITESPACE","\n    ",446],["T_VARIABLE","$this",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","assertSame",447],"(",["T_VARIABLE","$expected",447],",",["T_WHITESPACE"," ",447],["T_VARIABLE","$this",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","entityFieldManager",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","getFieldStorageDefinitions",447],"(",["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",447],")",")",";",["T_WHITESPACE","\n  ",447],"}",["T_WHITESPACE","\n\n  ",448],["T_DOC_COMMENT","\/**\n   * Tests the getBaseFieldDefinitions() method with an invalid definition.\n   *\n   * @covers ::getBaseFieldDefinitions\n   * @covers ::buildBaseFieldDefinitions\n   *\n   * @expectedException \\LogicException\n   *\/",450],["T_WHITESPACE","\n  ",457],["T_PUBLIC","public",458],["T_WHITESPACE"," ",458],["T_FUNCTION","function",458],["T_WHITESPACE"," ",458],["T_STRING","testGetBaseFieldDefinitionsInvalidDefinition",458],"(",")",["T_WHITESPACE"," ",458],"{",["T_WHITESPACE","\n    ",458],["T_VARIABLE","$this",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","setUpEntityWithFieldDefinition",459],"(",["T_STRING","FALSE",459],",",["T_WHITESPACE"," ",459],["T_CONSTANT_ENCAPSED_STRING","'langcode'",459],",",["T_WHITESPACE"," ",459],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",459],["T_WHITESPACE"," ",459],["T_DOUBLE_ARROW","=>",459],["T_WHITESPACE"," ",459],["T_CONSTANT_ENCAPSED_STRING","'langcode'",459],"]",")",";",["T_WHITESPACE","\n\n    ",459],["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","entityType",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","isTranslatable",461],"(",")",["T_OBJECT_OPERATOR","->",461],["T_STRING","willReturn",461],"(",["T_STRING","TRUE",461],")",";",["T_WHITESPACE","\n    ",461],["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","entityType",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","getLabel",462],"(",")",["T_OBJECT_OPERATOR","->",462],["T_STRING","willReturn",462],"(",["T_CONSTANT_ENCAPSED_STRING","'the_label'",462],")",";",["T_WHITESPACE","\n\n    ",462],["T_VARIABLE","$this",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","entityFieldManager",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","getBaseFieldDefinitions",464],"(",["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",464],")",";",["T_WHITESPACE","\n  ",464],"}",["T_WHITESPACE","\n\n  ",465],["T_DOC_COMMENT","\/**\n   * Tests that getFieldDefinitions() method sets the 'provider' definition key.\n   *\n   * @covers ::getFieldDefinitions\n   * @covers ::buildBundleFieldDefinitions\n   *\/",467],["T_WHITESPACE","\n  ",472],["T_PUBLIC","public",473],["T_WHITESPACE"," ",473],["T_FUNCTION","function",473],["T_WHITESPACE"," ",473],["T_STRING","testGetFieldDefinitionsProvider",473],"(",")",["T_WHITESPACE"," ",473],"{",["T_WHITESPACE","\n    ",473],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","setUpEntityWithFieldDefinition",474],"(",["T_STRING","TRUE",474],")",";",["T_WHITESPACE","\n\n    ",474],["T_VARIABLE","$module",476],["T_WHITESPACE"," ",476],"=",["T_WHITESPACE"," ",476],["T_CONSTANT_ENCAPSED_STRING","'entity_manager_test_module'",476],";",["T_WHITESPACE","\n\n    ",476],["T_COMMENT","\/\/ @todo Mock FieldDefinitionInterface once it exposes a proper provider\n",478],["T_WHITESPACE","    ",479],["T_COMMENT","\/\/   setter. See https:\/\/www.drupal.org\/node\/2225961.\n",479],["T_WHITESPACE","    ",480],["T_VARIABLE","$field_definition",480],["T_WHITESPACE"," ",480],"=",["T_WHITESPACE"," ",480],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","prophesize",480],"(",["T_STRING","BaseFieldDefinition",480],["T_DOUBLE_COLON","::",480],["T_CLASS","class",480],")",";",["T_WHITESPACE","\n\n    ",480],["T_COMMENT","\/\/ We expect two calls as the field definition will be returned from both\n",482],["T_WHITESPACE","    ",483],["T_COMMENT","\/\/ base and bundle entity field info hook implementations.\n",483],["T_WHITESPACE","    ",484],["T_VARIABLE","$field_definition",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","getProvider",484],"(",")",["T_OBJECT_OPERATOR","->",484],["T_STRING","shouldBeCalled",484],"(",")",";",["T_WHITESPACE","\n    ",484],["T_VARIABLE","$field_definition",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","setProvider",485],"(",["T_VARIABLE","$module",485],")",["T_OBJECT_OPERATOR","->",485],["T_STRING","shouldBeCalledTimes",485],"(",["T_LNUMBER","2",485],")",";",["T_WHITESPACE","\n    ",485],["T_VARIABLE","$field_definition",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","setName",486],"(",["T_LNUMBER","0",486],")",["T_OBJECT_OPERATOR","->",486],["T_STRING","shouldBeCalledTimes",486],"(",["T_LNUMBER","2",486],")",";",["T_WHITESPACE","\n    ",486],["T_VARIABLE","$field_definition",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","setTargetEntityTypeId",487],"(",["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",487],")",["T_OBJECT_OPERATOR","->",487],["T_STRING","shouldBeCalled",487],"(",")",";",["T_WHITESPACE","\n    ",487],["T_VARIABLE","$field_definition",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","setTargetBundle",488],"(",["T_STRING","NULL",488],")",["T_OBJECT_OPERATOR","->",488],["T_STRING","shouldBeCalled",488],"(",")",";",["T_WHITESPACE","\n    ",488],["T_VARIABLE","$field_definition",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","setTargetBundle",489],"(",["T_CONSTANT_ENCAPSED_STRING","'test_bundle'",489],")",["T_OBJECT_OPERATOR","->",489],["T_STRING","shouldBeCalled",489],"(",")",";",["T_WHITESPACE","\n\n    ",489],["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","moduleHandler",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","getImplementations",491],"(",["T_STRING","Argument",491],["T_DOUBLE_COLON","::",491],["T_STRING","type",491],"(",["T_CONSTANT_ENCAPSED_STRING","'string'",491],")",")",["T_OBJECT_OPERATOR","->",491],["T_STRING","willReturn",491],"(","[",["T_VARIABLE","$module",491],"]",")",";",["T_WHITESPACE","\n    ",491],["T_VARIABLE","$this",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","moduleHandler",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","invoke",492],"(",["T_VARIABLE","$module",492],",",["T_WHITESPACE"," ",492],["T_CONSTANT_ENCAPSED_STRING","'entity_base_field_info'",492],",",["T_WHITESPACE"," ",492],"[",["T_VARIABLE","$this",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","entityType",492],"]",")",["T_OBJECT_OPERATOR","->",492],["T_STRING","willReturn",492],"(","[",["T_VARIABLE","$field_definition",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","reveal",492],"(",")","]",")",";",["T_WHITESPACE","\n    ",492],["T_VARIABLE","$this",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","moduleHandler",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","invoke",493],"(",["T_VARIABLE","$module",493],",",["T_WHITESPACE"," ",493],["T_CONSTANT_ENCAPSED_STRING","'entity_bundle_field_info'",493],",",["T_WHITESPACE"," ",493],["T_STRING","Argument",493],["T_DOUBLE_COLON","::",493],["T_STRING","type",493],"(",["T_CONSTANT_ENCAPSED_STRING","'array'",493],")",")",["T_OBJECT_OPERATOR","->",493],["T_STRING","willReturn",493],"(","[",["T_VARIABLE","$field_definition",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","reveal",493],"(",")","]",")",";",["T_WHITESPACE","\n\n    ",493],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","entityFieldManager",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","getFieldDefinitions",495],"(",["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",495],",",["T_WHITESPACE"," ",495],["T_CONSTANT_ENCAPSED_STRING","'test_bundle'",495],")",";",["T_WHITESPACE","\n  ",495],"}",["T_WHITESPACE","\n\n  ",496],["T_DOC_COMMENT","\/**\n   * Prepares an entity that defines a field definition.\n   *\n   * @param bool $custom_invoke_all\n   *   (optional) Whether the test will set up its own\n   *   ModuleHandlerInterface::invokeAll() implementation. Defaults to FALSE.\n   * @param string $field_definition_id\n   *   (optional) The ID to use for the field definition. Defaults to 'id'.\n   * @param array $entity_keys\n   *   (optional) An array of entity keys for the mocked entity type. Defaults\n   *   to an empty array.\n   *\n   * @return \\Drupal\\Core\\Field\\BaseFieldDefinition|\\Prophecy\\Prophecy\\ProphecyInterface\n   *   A field definition object.\n   *\/",498],["T_WHITESPACE","\n  ",512],["T_PROTECTED","protected",513],["T_WHITESPACE"," ",513],["T_FUNCTION","function",513],["T_WHITESPACE"," ",513],["T_STRING","setUpEntityWithFieldDefinition",513],"(",["T_VARIABLE","$custom_invoke_all",513],["T_WHITESPACE"," ",513],"=",["T_WHITESPACE"," ",513],["T_STRING","FALSE",513],",",["T_WHITESPACE"," ",513],["T_VARIABLE","$field_definition_id",513],["T_WHITESPACE"," ",513],"=",["T_WHITESPACE"," ",513],["T_CONSTANT_ENCAPSED_STRING","'id'",513],",",["T_WHITESPACE"," ",513],["T_VARIABLE","$entity_keys",513],["T_WHITESPACE"," ",513],"=",["T_WHITESPACE"," ",513],"[","]",")",["T_WHITESPACE"," ",513],"{",["T_WHITESPACE","\n    ",513],["T_VARIABLE","$field_type_manager",514],["T_WHITESPACE"," ",514],"=",["T_WHITESPACE"," ",514],["T_VARIABLE","$this",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","prophesize",514],"(",["T_STRING","FieldTypePluginManagerInterface",514],["T_DOUBLE_COLON","::",514],["T_CLASS","class",514],")",";",["T_WHITESPACE","\n    ",514],["T_VARIABLE","$field_type_manager",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","getDefaultStorageSettings",515],"(",["T_CONSTANT_ENCAPSED_STRING","'boolean'",515],")",["T_OBJECT_OPERATOR","->",515],["T_STRING","willReturn",515],"(","[","]",")",";",["T_WHITESPACE","\n    ",515],["T_VARIABLE","$field_type_manager",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","getDefaultFieldSettings",516],"(",["T_CONSTANT_ENCAPSED_STRING","'boolean'",516],")",["T_OBJECT_OPERATOR","->",516],["T_STRING","willReturn",516],"(","[","]",")",";",["T_WHITESPACE","\n    ",516],["T_VARIABLE","$this",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","container",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","get",517],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.field.field_type'",517],")",["T_OBJECT_OPERATOR","->",517],["T_STRING","willReturn",517],"(",["T_VARIABLE","$field_type_manager",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","reveal",517],"(",")",")",";",["T_WHITESPACE","\n\n    ",517],["T_VARIABLE","$string_translation",519],["T_WHITESPACE"," ",519],"=",["T_WHITESPACE"," ",519],["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","prophesize",519],"(",["T_STRING","TranslationInterface",519],["T_DOUBLE_COLON","::",519],["T_CLASS","class",519],")",";",["T_WHITESPACE","\n    ",519],["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","container",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","get",520],"(",["T_CONSTANT_ENCAPSED_STRING","'string_translation'",520],")",["T_OBJECT_OPERATOR","->",520],["T_STRING","willReturn",520],"(",["T_VARIABLE","$string_translation",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","reveal",520],"(",")",")",";",["T_WHITESPACE","\n\n    ",520],["T_VARIABLE","$entity_class",522],["T_WHITESPACE"," ",522],"=",["T_WHITESPACE"," ",522],["T_STRING","EntityManagerTestEntity",522],["T_DOUBLE_COLON","::",522],["T_CLASS","class",522],";",["T_WHITESPACE","\n\n    ",522],["T_VARIABLE","$field_definition",524],["T_WHITESPACE"," ",524],"=",["T_WHITESPACE"," ",524],["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","prophesize",524],"(",")",["T_OBJECT_OPERATOR","->",524],["T_STRING","willImplement",524],"(",["T_STRING","FieldDefinitionInterface",524],["T_DOUBLE_COLON","::",524],["T_CLASS","class",524],")",["T_OBJECT_OPERATOR","->",524],["T_STRING","willImplement",524],"(",["T_STRING","FieldStorageDefinitionInterface",524],["T_DOUBLE_COLON","::",524],["T_CLASS","class",524],")",";",["T_WHITESPACE","\n    ",524],["T_VARIABLE","$entity_class",525],["T_DOUBLE_COLON","::",525],["T_VARIABLE","$baseFieldDefinitions",525],["T_WHITESPACE"," ",525],"=",["T_WHITESPACE"," ",525],"[",["T_WHITESPACE","\n      ",525],["T_VARIABLE","$field_definition_id",526],["T_WHITESPACE"," ",526],["T_DOUBLE_ARROW","=>",526],["T_WHITESPACE"," ",526],["T_VARIABLE","$field_definition",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","reveal",526],"(",")",",",["T_WHITESPACE","\n    ",526],"]",";",["T_WHITESPACE","\n    ",527],["T_VARIABLE","$entity_class",528],["T_DOUBLE_COLON","::",528],["T_VARIABLE","$bundleFieldDefinitions",528],["T_WHITESPACE"," ",528],"=",["T_WHITESPACE"," ",528],"[","]",";",["T_WHITESPACE","\n\n    ",528],["T_IF","if",530],["T_WHITESPACE"," ",530],"(","!",["T_VARIABLE","$custom_invoke_all",530],")",["T_WHITESPACE"," ",530],"{",["T_WHITESPACE","\n      ",530],["T_VARIABLE","$this",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","moduleHandler",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","getImplementations",531],"(",["T_STRING","Argument",531],["T_DOUBLE_COLON","::",531],["T_STRING","cetera",531],"(",")",")",["T_OBJECT_OPERATOR","->",531],["T_STRING","willReturn",531],"(","[","]",")",";",["T_WHITESPACE","\n    ",531],"}",["T_WHITESPACE","\n\n    ",532],["T_COMMENT","\/\/ Mock the base field definition override.\n",534],["T_WHITESPACE","    ",535],["T_VARIABLE","$override_entity_type",535],["T_WHITESPACE"," ",535],"=",["T_WHITESPACE"," ",535],["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","prophesize",535],"(",["T_STRING","EntityTypeInterface",535],["T_DOUBLE_COLON","::",535],["T_CLASS","class",535],")",";",["T_WHITESPACE","\n\n    ",535],["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","entityType",537],["T_WHITESPACE"," ",537],"=",["T_WHITESPACE"," ",537],["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","prophesize",537],"(",["T_STRING","EntityTypeInterface",537],["T_DOUBLE_COLON","::",537],["T_CLASS","class",537],")",";",["T_WHITESPACE","\n    ",537],["T_VARIABLE","$this",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","setUpEntityTypeDefinitions",538],"(","[",["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",538],["T_WHITESPACE"," ",538],["T_DOUBLE_ARROW","=>",538],["T_WHITESPACE"," ",538],["T_VARIABLE","$this",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","entityType",538],",",["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","'base_field_override'",538],["T_WHITESPACE"," ",538],["T_DOUBLE_ARROW","=>",538],["T_WHITESPACE"," ",538],["T_VARIABLE","$override_entity_type",538],"]",")",";",["T_WHITESPACE","\n\n    ",538],["T_VARIABLE","$storage",540],["T_WHITESPACE"," ",540],"=",["T_WHITESPACE"," ",540],["T_VARIABLE","$this",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","prophesize",540],"(",["T_STRING","ConfigEntityStorageInterface",540],["T_DOUBLE_COLON","::",540],["T_CLASS","class",540],")",";",["T_WHITESPACE","\n    ",540],["T_VARIABLE","$storage",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","loadMultiple",541],"(",["T_STRING","Argument",541],["T_DOUBLE_COLON","::",541],["T_STRING","type",541],"(",["T_CONSTANT_ENCAPSED_STRING","'array'",541],")",")",["T_OBJECT_OPERATOR","->",541],["T_STRING","willReturn",541],"(","[","]",")",";",["T_WHITESPACE","\n    ",541],["T_VARIABLE","$this",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","entityTypeManager",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","getStorage",542],"(",["T_CONSTANT_ENCAPSED_STRING","'base_field_override'",542],")",["T_OBJECT_OPERATOR","->",542],["T_STRING","willReturn",542],"(",["T_VARIABLE","$storage",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","reveal",542],"(",")",")",";",["T_WHITESPACE","\n\n    ",542],["T_VARIABLE","$this",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","entityType",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","getClass",544],"(",")",["T_OBJECT_OPERATOR","->",544],["T_STRING","willReturn",544],"(",["T_VARIABLE","$entity_class",544],")",";",["T_WHITESPACE","\n    ",544],["T_VARIABLE","$this",545],["T_OBJECT_OPERATOR","->",545],["T_STRING","entityType",545],["T_OBJECT_OPERATOR","->",545],["T_STRING","getKeys",545],"(",")",["T_OBJECT_OPERATOR","->",545],["T_STRING","willReturn",545],"(",["T_VARIABLE","$entity_keys",545],["T_WHITESPACE"," ",545],"+",["T_WHITESPACE"," ",545],"[",["T_CONSTANT_ENCAPSED_STRING","'default_langcode'",545],["T_WHITESPACE"," ",545],["T_DOUBLE_ARROW","=>",545],["T_WHITESPACE"," ",545],["T_CONSTANT_ENCAPSED_STRING","'default_langcode'",545],"]",")",";",["T_WHITESPACE","\n    ",545],["T_VARIABLE","$this",546],["T_OBJECT_OPERATOR","->",546],["T_STRING","entityType",546],["T_OBJECT_OPERATOR","->",546],["T_STRING","isSubclassOf",546],"(",["T_STRING","FieldableEntityInterface",546],["T_DOUBLE_COLON","::",546],["T_CLASS","class",546],")",["T_OBJECT_OPERATOR","->",546],["T_STRING","willReturn",546],"(",["T_STRING","TRUE",546],")",";",["T_WHITESPACE","\n    ",546],["T_VARIABLE","$this",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","entityType",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","isTranslatable",547],"(",")",["T_OBJECT_OPERATOR","->",547],["T_STRING","willReturn",547],"(",["T_STRING","FALSE",547],")",";",["T_WHITESPACE","\n    ",547],["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","entityType",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","getProvider",548],"(",")",["T_OBJECT_OPERATOR","->",548],["T_STRING","willReturn",548],"(",["T_CONSTANT_ENCAPSED_STRING","'the_provider'",548],")",";",["T_WHITESPACE","\n    ",548],["T_VARIABLE","$this",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","entityType",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","id",549],"(",")",["T_OBJECT_OPERATOR","->",549],["T_STRING","willReturn",549],"(",["T_CONSTANT_ENCAPSED_STRING","'the_entity_id'",549],")",";",["T_WHITESPACE","\n\n    ",549],["T_RETURN","return",551],["T_WHITESPACE"," ",551],["T_VARIABLE","$field_definition",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","reveal",551],"(",")",";",["T_WHITESPACE","\n  ",551],"}",["T_WHITESPACE","\n\n  ",552],["T_DOC_COMMENT","\/**\n   * Tests the clearCachedFieldDefinitions() method.\n   *\n   * @covers ::clearCachedFieldDefinitions\n   *\/",554],["T_WHITESPACE","\n  ",558],["T_PUBLIC","public",559],["T_WHITESPACE"," ",559],["T_FUNCTION","function",559],["T_WHITESPACE"," ",559],["T_STRING","testClearCachedFieldDefinitions",559],"(",")",["T_WHITESPACE"," ",559],"{",["T_WHITESPACE","\n    ",559],["T_VARIABLE","$this",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","setUpEntityTypeDefinitions",560],"(",")",";",["T_WHITESPACE","\n\n    ",560],["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","cacheTagsInvalidator",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","invalidateTags",562],"(","[",["T_CONSTANT_ENCAPSED_STRING","'entity_field_info'",562],"]",")",["T_OBJECT_OPERATOR","->",562],["T_STRING","shouldBeCalled",562],"(",")",";",["T_WHITESPACE","\n    ",562],["T_VARIABLE","$this",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","container",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","get",563],"(",["T_CONSTANT_ENCAPSED_STRING","'cache_tags.invalidator'",563],")",["T_OBJECT_OPERATOR","->",563],["T_STRING","willReturn",563],"(",["T_VARIABLE","$this",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","cacheTagsInvalidator",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","reveal",563],"(",")",")",["T_OBJECT_OPERATOR","->",563],["T_STRING","shouldBeCalled",563],"(",")",";",["T_WHITESPACE","\n\n    ",563],["T_VARIABLE","$this",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","typedDataManager",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","clearCachedDefinitions",565],"(",")",["T_OBJECT_OPERATOR","->",565],["T_STRING","shouldBeCalled",565],"(",")",";",["T_WHITESPACE","\n\n    ",565],["T_VARIABLE","$this",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","entityFieldManager",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","clearCachedFieldDefinitions",567],"(",")",";",["T_WHITESPACE","\n  ",567],"}",["T_WHITESPACE","\n\n  ",568],["T_DOC_COMMENT","\/**\n   * @covers ::getExtraFields\n   *\/",570],["T_WHITESPACE","\n  ",572],["T_FUNCTION","function",573],["T_WHITESPACE"," ",573],["T_STRING","testGetExtraFields",573],"(",")",["T_WHITESPACE"," ",573],"{",["T_WHITESPACE","\n    ",573],["T_VARIABLE","$this",574],["T_OBJECT_OPERATOR","->",574],["T_STRING","setUpEntityTypeDefinitions",574],"(",")",";",["T_WHITESPACE","\n\n    ",574],["T_VARIABLE","$entity_type_id",576],["T_WHITESPACE"," ",576],"=",["T_WHITESPACE"," ",576],["T_VARIABLE","$this",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","randomMachineName",576],"(",")",";",["T_WHITESPACE","\n    ",576],["T_VARIABLE","$bundle",577],["T_WHITESPACE"," ",577],"=",["T_WHITESPACE"," ",577],["T_VARIABLE","$this",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","randomMachineName",577],"(",")",";",["T_WHITESPACE","\n    ",577],["T_VARIABLE","$language_code",578],["T_WHITESPACE"," ",578],"=",["T_WHITESPACE"," ",578],["T_CONSTANT_ENCAPSED_STRING","'en'",578],";",["T_WHITESPACE","\n    ",578],["T_VARIABLE","$hook_bundle_extra_fields",579],["T_WHITESPACE"," ",579],"=",["T_WHITESPACE"," ",579],"[",["T_WHITESPACE","\n      ",579],["T_VARIABLE","$entity_type_id",580],["T_WHITESPACE"," ",580],["T_DOUBLE_ARROW","=>",580],["T_WHITESPACE"," ",580],"[",["T_WHITESPACE","\n        ",580],["T_VARIABLE","$bundle",581],["T_WHITESPACE"," ",581],["T_DOUBLE_ARROW","=>",581],["T_WHITESPACE"," ",581],"[",["T_WHITESPACE","\n          ",581],["T_CONSTANT_ENCAPSED_STRING","'form'",582],["T_WHITESPACE"," ",582],["T_DOUBLE_ARROW","=>",582],["T_WHITESPACE"," ",582],"[",["T_WHITESPACE","\n            ",582],["T_CONSTANT_ENCAPSED_STRING","'foo_extra_field'",583],["T_WHITESPACE"," ",583],["T_DOUBLE_ARROW","=>",583],["T_WHITESPACE"," ",583],"[",["T_WHITESPACE","\n              ",583],["T_CONSTANT_ENCAPSED_STRING","'label'",584],["T_WHITESPACE"," ",584],["T_DOUBLE_ARROW","=>",584],["T_WHITESPACE"," ",584],["T_CONSTANT_ENCAPSED_STRING","'Foo'",584],",",["T_WHITESPACE","\n            ",584],"]",",",["T_WHITESPACE","\n          ",585],"]",",",["T_WHITESPACE","\n        ",586],"]",",",["T_WHITESPACE","\n      ",587],"]",",",["T_WHITESPACE","\n    ",588],"]",";",["T_WHITESPACE","\n    ",589],["T_VARIABLE","$processed_hook_bundle_extra_fields",590],["T_WHITESPACE"," ",590],"=",["T_WHITESPACE"," ",590],["T_VARIABLE","$hook_bundle_extra_fields",590],";",["T_WHITESPACE","\n    ",590],["T_VARIABLE","$processed_hook_bundle_extra_fields",591],"[",["T_VARIABLE","$entity_type_id",591],"]","[",["T_VARIABLE","$bundle",591],"]",["T_WHITESPACE"," ",591],["T_PLUS_EQUAL","+=",591],["T_WHITESPACE"," ",591],"[",["T_WHITESPACE","\n      ",591],["T_CONSTANT_ENCAPSED_STRING","'display'",592],["T_WHITESPACE"," ",592],["T_DOUBLE_ARROW","=>",592],["T_WHITESPACE"," ",592],"[","]",",",["T_WHITESPACE","\n    ",592],"]",";",["T_WHITESPACE","\n    ",593],["T_VARIABLE","$cache_id",594],["T_WHITESPACE"," ",594],"=",["T_WHITESPACE"," ",594],["T_CONSTANT_ENCAPSED_STRING","'entity_bundle_extra_fields:'",594],["T_WHITESPACE"," ",594],".",["T_WHITESPACE"," ",594],["T_VARIABLE","$entity_type_id",594],["T_WHITESPACE"," ",594],".",["T_WHITESPACE"," ",594],["T_CONSTANT_ENCAPSED_STRING","':'",594],["T_WHITESPACE"," ",594],".",["T_WHITESPACE"," ",594],["T_VARIABLE","$bundle",594],["T_WHITESPACE"," ",594],".",["T_WHITESPACE"," ",594],["T_CONSTANT_ENCAPSED_STRING","':'",594],["T_WHITESPACE"," ",594],".",["T_WHITESPACE"," ",594],["T_VARIABLE","$language_code",594],";",["T_WHITESPACE","\n\n    ",594],["T_VARIABLE","$language",596],["T_WHITESPACE"," ",596],"=",["T_WHITESPACE"," ",596],["T_NEW","new",596],["T_WHITESPACE"," ",596],["T_STRING","Language",596],"(","[",["T_CONSTANT_ENCAPSED_STRING","'id'",596],["T_WHITESPACE"," ",596],["T_DOUBLE_ARROW","=>",596],["T_WHITESPACE"," ",596],["T_VARIABLE","$language_code",596],"]",")",";",["T_WHITESPACE","\n    ",596],["T_VARIABLE","$this",597],["T_OBJECT_OPERATOR","->",597],["T_STRING","languageManager",597],["T_OBJECT_OPERATOR","->",597],["T_STRING","getCurrentLanguage",597],"(",")",["T_WHITESPACE","\n      ",597],["T_OBJECT_OPERATOR","->",598],["T_STRING","willReturn",598],"(",["T_VARIABLE","$language",598],")",["T_WHITESPACE","\n      ",598],["T_OBJECT_OPERATOR","->",599],["T_STRING","shouldBeCalledTimes",599],"(",["T_LNUMBER","1",599],")",";",["T_WHITESPACE","\n\n    ",599],["T_VARIABLE","$this",601],["T_OBJECT_OPERATOR","->",601],["T_STRING","cacheBackend",601],["T_OBJECT_OPERATOR","->",601],["T_STRING","get",601],"(",["T_VARIABLE","$cache_id",601],")",["T_OBJECT_OPERATOR","->",601],["T_STRING","shouldBeCalled",601],"(",")",";",["T_WHITESPACE","\n\n    ",601],["T_VARIABLE","$this",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","moduleHandler",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","invokeAll",603],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_extra_field_info'",603],")",["T_OBJECT_OPERATOR","->",603],["T_STRING","willReturn",603],"(",["T_VARIABLE","$hook_bundle_extra_fields",603],")",";",["T_WHITESPACE","\n    ",603],["T_VARIABLE","$this",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","moduleHandler",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","alter",604],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_extra_field_info'",604],",",["T_WHITESPACE"," ",604],["T_VARIABLE","$hook_bundle_extra_fields",604],")",["T_OBJECT_OPERATOR","->",604],["T_STRING","shouldBeCalled",604],"(",")",";",["T_WHITESPACE","\n\n    ",604],["T_VARIABLE","$this",606],["T_OBJECT_OPERATOR","->",606],["T_STRING","cacheBackend",606],["T_OBJECT_OPERATOR","->",606],["T_STRING","set",606],"(",["T_VARIABLE","$cache_id",606],",",["T_WHITESPACE"," ",606],["T_VARIABLE","$processed_hook_bundle_extra_fields",606],"[",["T_VARIABLE","$entity_type_id",606],"]","[",["T_VARIABLE","$bundle",606],"]",",",["T_WHITESPACE"," ",606],["T_STRING","Cache",606],["T_DOUBLE_COLON","::",606],["T_STRING","PERMANENT",606],",",["T_WHITESPACE"," ",606],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_field_info'",606],"]",")",["T_OBJECT_OPERATOR","->",606],["T_STRING","shouldBeCalled",606],"(",")",";",["T_WHITESPACE","\n\n    ",606],["T_VARIABLE","$this",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","assertSame",608],"(",["T_VARIABLE","$processed_hook_bundle_extra_fields",608],"[",["T_VARIABLE","$entity_type_id",608],"]","[",["T_VARIABLE","$bundle",608],"]",",",["T_WHITESPACE"," ",608],["T_VARIABLE","$this",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","entityFieldManager",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","getExtraFields",608],"(",["T_VARIABLE","$entity_type_id",608],",",["T_WHITESPACE"," ",608],["T_VARIABLE","$bundle",608],")",")",";",["T_WHITESPACE","\n  ",608],"}",["T_WHITESPACE","\n\n  ",609],["T_DOC_COMMENT","\/**\n   * @covers ::getFieldMap\n   *\/",611],["T_WHITESPACE","\n  ",613],["T_PUBLIC","public",614],["T_WHITESPACE"," ",614],["T_FUNCTION","function",614],["T_WHITESPACE"," ",614],["T_STRING","testGetFieldMap",614],"(",")",["T_WHITESPACE"," ",614],"{",["T_WHITESPACE","\n    ",614],["T_VARIABLE","$this",615],["T_OBJECT_OPERATOR","->",615],["T_STRING","entityTypeBundleInfo",615],["T_OBJECT_OPERATOR","->",615],["T_STRING","getBundleInfo",615],"(",["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",615],")",["T_OBJECT_OPERATOR","->",615],["T_STRING","willReturn",615],"(","[","]",")",["T_OBJECT_OPERATOR","->",615],["T_STRING","shouldBeCalled",615],"(",")",";",["T_WHITESPACE","\n\n    ",615],["T_COMMENT","\/\/ Set up a content entity type.\n",617],["T_WHITESPACE","    ",618],["T_VARIABLE","$entity_type",618],["T_WHITESPACE"," ",618],"=",["T_WHITESPACE"," ",618],["T_VARIABLE","$this",618],["T_OBJECT_OPERATOR","->",618],["T_STRING","prophesize",618],"(",["T_STRING","ContentEntityTypeInterface",618],["T_DOUBLE_COLON","::",618],["T_CLASS","class",618],")",";",["T_WHITESPACE","\n    ",618],["T_VARIABLE","$entity_class",619],["T_WHITESPACE"," ",619],"=",["T_WHITESPACE"," ",619],["T_STRING","EntityManagerTestEntity",619],["T_DOUBLE_COLON","::",619],["T_CLASS","class",619],";",["T_WHITESPACE","\n\n    ",619],["T_COMMENT","\/\/ Define an ID field definition as a base field.\n",621],["T_WHITESPACE","    ",622],["T_VARIABLE","$id_definition",622],["T_WHITESPACE"," ",622],"=",["T_WHITESPACE"," ",622],["T_VARIABLE","$this",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","prophesize",622],"(",["T_STRING","FieldDefinitionInterface",622],["T_DOUBLE_COLON","::",622],["T_CLASS","class",622],")",";",["T_WHITESPACE","\n    ",622],["T_VARIABLE","$id_definition",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","getType",623],"(",")",["T_OBJECT_OPERATOR","->",623],["T_STRING","willReturn",623],"(",["T_CONSTANT_ENCAPSED_STRING","'integer'",623],")",";",["T_WHITESPACE","\n    ",623],["T_VARIABLE","$base_field_definitions",624],["T_WHITESPACE"," ",624],"=",["T_WHITESPACE"," ",624],"[",["T_WHITESPACE","\n      ",624],["T_CONSTANT_ENCAPSED_STRING","'id'",625],["T_WHITESPACE"," ",625],["T_DOUBLE_ARROW","=>",625],["T_WHITESPACE"," ",625],["T_VARIABLE","$id_definition",625],["T_OBJECT_OPERATOR","->",625],["T_STRING","reveal",625],"(",")",",",["T_WHITESPACE","\n    ",625],"]",";",["T_WHITESPACE","\n    ",626],["T_VARIABLE","$entity_class",627],["T_DOUBLE_COLON","::",627],["T_VARIABLE","$baseFieldDefinitions",627],["T_WHITESPACE"," ",627],"=",["T_WHITESPACE"," ",627],["T_VARIABLE","$base_field_definitions",627],";",["T_WHITESPACE","\n\n    ",627],["T_COMMENT","\/\/ Set up the stored bundle field map.\n",629],["T_WHITESPACE","    ",630],["T_VARIABLE","$key_value_store",630],["T_WHITESPACE"," ",630],"=",["T_WHITESPACE"," ",630],["T_VARIABLE","$this",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","prophesize",630],"(",["T_STRING","KeyValueStoreInterface",630],["T_DOUBLE_COLON","::",630],["T_CLASS","class",630],")",";",["T_WHITESPACE","\n    ",630],["T_VARIABLE","$this",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","keyValueFactory",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","get",631],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.definitions.bundle_field_map'",631],")",["T_OBJECT_OPERATOR","->",631],["T_STRING","willReturn",631],"(",["T_VARIABLE","$key_value_store",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","reveal",631],"(",")",")",";",["T_WHITESPACE","\n    ",631],["T_VARIABLE","$key_value_store",632],["T_OBJECT_OPERATOR","->",632],["T_STRING","getAll",632],"(",")",["T_OBJECT_OPERATOR","->",632],["T_STRING","willReturn",632],"(","[",["T_WHITESPACE","\n      ",632],["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",633],["T_WHITESPACE"," ",633],["T_DOUBLE_ARROW","=>",633],["T_WHITESPACE"," ",633],"[",["T_WHITESPACE","\n        ",633],["T_CONSTANT_ENCAPSED_STRING","'by_bundle'",634],["T_WHITESPACE"," ",634],["T_DOUBLE_ARROW","=>",634],["T_WHITESPACE"," ",634],"[",["T_WHITESPACE","\n          ",634],["T_CONSTANT_ENCAPSED_STRING","'type'",635],["T_WHITESPACE"," ",635],["T_DOUBLE_ARROW","=>",635],["T_WHITESPACE"," ",635],["T_CONSTANT_ENCAPSED_STRING","'string'",635],",",["T_WHITESPACE","\n          ",635],["T_CONSTANT_ENCAPSED_STRING","'bundles'",636],["T_WHITESPACE"," ",636],["T_DOUBLE_ARROW","=>",636],["T_WHITESPACE"," ",636],"[",["T_CONSTANT_ENCAPSED_STRING","'second_bundle'",636],["T_WHITESPACE"," ",636],["T_DOUBLE_ARROW","=>",636],["T_WHITESPACE"," ",636],["T_CONSTANT_ENCAPSED_STRING","'second_bundle'",636],"]",",",["T_WHITESPACE","\n        ",636],"]",",",["T_WHITESPACE","\n      ",637],"]",",",["T_WHITESPACE","\n    ",638],"]",")",";",["T_WHITESPACE","\n\n    ",639],["T_COMMENT","\/\/ Set up a non-content entity type.\n",641],["T_WHITESPACE","    ",642],["T_VARIABLE","$non_content_entity_type",642],["T_WHITESPACE"," ",642],"=",["T_WHITESPACE"," ",642],["T_VARIABLE","$this",642],["T_OBJECT_OPERATOR","->",642],["T_STRING","prophesize",642],"(",["T_STRING","EntityTypeInterface",642],["T_DOUBLE_COLON","::",642],["T_CLASS","class",642],")",";",["T_WHITESPACE","\n\n    ",642],["T_COMMENT","\/\/ Mock the base field definition override.\n",644],["T_WHITESPACE","    ",645],["T_VARIABLE","$override_entity_type",645],["T_WHITESPACE"," ",645],"=",["T_WHITESPACE"," ",645],["T_VARIABLE","$this",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","prophesize",645],"(",["T_STRING","EntityTypeInterface",645],["T_DOUBLE_COLON","::",645],["T_CLASS","class",645],")",";",["T_WHITESPACE","\n\n    ",645],["T_VARIABLE","$this",647],["T_OBJECT_OPERATOR","->",647],["T_STRING","setUpEntityTypeDefinitions",647],"(","[",["T_WHITESPACE","\n      ",647],["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",648],["T_WHITESPACE"," ",648],["T_DOUBLE_ARROW","=>",648],["T_WHITESPACE"," ",648],["T_VARIABLE","$entity_type",648],",",["T_WHITESPACE","\n      ",648],["T_CONSTANT_ENCAPSED_STRING","'non_fieldable'",649],["T_WHITESPACE"," ",649],["T_DOUBLE_ARROW","=>",649],["T_WHITESPACE"," ",649],["T_VARIABLE","$non_content_entity_type",649],",",["T_WHITESPACE","\n      ",649],["T_CONSTANT_ENCAPSED_STRING","'base_field_override'",650],["T_WHITESPACE"," ",650],["T_DOUBLE_ARROW","=>",650],["T_WHITESPACE"," ",650],["T_VARIABLE","$override_entity_type",650],",",["T_WHITESPACE","\n    ",650],"]",")",";",["T_WHITESPACE","\n\n    ",651],["T_VARIABLE","$entity_type",653],["T_OBJECT_OPERATOR","->",653],["T_STRING","getClass",653],"(",")",["T_OBJECT_OPERATOR","->",653],["T_STRING","willReturn",653],"(",["T_VARIABLE","$entity_class",653],")",";",["T_WHITESPACE","\n    ",653],["T_VARIABLE","$entity_type",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","getKeys",654],"(",")",["T_OBJECT_OPERATOR","->",654],["T_STRING","willReturn",654],"(","[",["T_CONSTANT_ENCAPSED_STRING","'default_langcode'",654],["T_WHITESPACE"," ",654],["T_DOUBLE_ARROW","=>",654],["T_WHITESPACE"," ",654],["T_CONSTANT_ENCAPSED_STRING","'default_langcode'",654],"]",")",";",["T_WHITESPACE","\n    ",654],["T_VARIABLE","$entity_type",655],["T_OBJECT_OPERATOR","->",655],["T_STRING","isSubclassOf",655],"(",["T_STRING","FieldableEntityInterface",655],["T_DOUBLE_COLON","::",655],["T_CLASS","class",655],")",["T_OBJECT_OPERATOR","->",655],["T_STRING","willReturn",655],"(",["T_STRING","TRUE",655],")",";",["T_WHITESPACE","\n    ",655],["T_VARIABLE","$entity_type",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","isTranslatable",656],"(",")",["T_OBJECT_OPERATOR","->",656],["T_STRING","shouldBeCalled",656],"(",")",";",["T_WHITESPACE","\n    ",656],["T_VARIABLE","$entity_type",657],["T_OBJECT_OPERATOR","->",657],["T_STRING","getProvider",657],"(",")",["T_OBJECT_OPERATOR","->",657],["T_STRING","shouldBeCalled",657],"(",")",";",["T_WHITESPACE","\n\n    ",657],["T_VARIABLE","$non_content_entity_type",659],["T_OBJECT_OPERATOR","->",659],["T_STRING","isSubclassOf",659],"(",["T_STRING","FieldableEntityInterface",659],["T_DOUBLE_COLON","::",659],["T_CLASS","class",659],")",["T_OBJECT_OPERATOR","->",659],["T_STRING","willReturn",659],"(",["T_STRING","FALSE",659],")",";",["T_WHITESPACE","\n\n    ",659],["T_VARIABLE","$override_entity_type",661],["T_OBJECT_OPERATOR","->",661],["T_STRING","isSubclassOf",661],"(",["T_STRING","FieldableEntityInterface",661],["T_DOUBLE_COLON","::",661],["T_CLASS","class",661],")",["T_OBJECT_OPERATOR","->",661],["T_STRING","willReturn",661],"(",["T_STRING","FALSE",661],")",";",["T_WHITESPACE","\n\n    ",661],["T_COMMENT","\/\/ Set up the entity type bundle info to return two bundles for the\n",663],["T_WHITESPACE","    ",664],["T_COMMENT","\/\/ fieldable entity type.\n",664],["T_WHITESPACE","    ",665],["T_VARIABLE","$this",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","entityTypeBundleInfo",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","getBundleInfo",665],"(",["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",665],")",["T_OBJECT_OPERATOR","->",665],["T_STRING","willReturn",665],"(","[",["T_WHITESPACE","\n      ",665],["T_CONSTANT_ENCAPSED_STRING","'first_bundle'",666],["T_WHITESPACE"," ",666],["T_DOUBLE_ARROW","=>",666],["T_WHITESPACE"," ",666],["T_CONSTANT_ENCAPSED_STRING","'first_bundle'",666],",",["T_WHITESPACE","\n      ",666],["T_CONSTANT_ENCAPSED_STRING","'second_bundle'",667],["T_WHITESPACE"," ",667],["T_DOUBLE_ARROW","=>",667],["T_WHITESPACE"," ",667],["T_CONSTANT_ENCAPSED_STRING","'second_bundle'",667],",",["T_WHITESPACE","\n    ",667],"]",")",["T_OBJECT_OPERATOR","->",668],["T_STRING","shouldBeCalled",668],"(",")",";",["T_WHITESPACE","\n    ",668],["T_VARIABLE","$this",669],["T_OBJECT_OPERATOR","->",669],["T_STRING","moduleHandler",669],["T_OBJECT_OPERATOR","->",669],["T_STRING","getImplementations",669],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_base_field_info'",669],")",["T_OBJECT_OPERATOR","->",669],["T_STRING","willReturn",669],"(","[","]",")",";",["T_WHITESPACE","\n\n    ",669],["T_VARIABLE","$expected",671],["T_WHITESPACE"," ",671],"=",["T_WHITESPACE"," ",671],"[",["T_WHITESPACE","\n      ",671],["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",672],["T_WHITESPACE"," ",672],["T_DOUBLE_ARROW","=>",672],["T_WHITESPACE"," ",672],"[",["T_WHITESPACE","\n        ",672],["T_CONSTANT_ENCAPSED_STRING","'id'",673],["T_WHITESPACE"," ",673],["T_DOUBLE_ARROW","=>",673],["T_WHITESPACE"," ",673],"[",["T_WHITESPACE","\n          ",673],["T_CONSTANT_ENCAPSED_STRING","'type'",674],["T_WHITESPACE"," ",674],["T_DOUBLE_ARROW","=>",674],["T_WHITESPACE"," ",674],["T_CONSTANT_ENCAPSED_STRING","'integer'",674],",",["T_WHITESPACE","\n          ",674],["T_CONSTANT_ENCAPSED_STRING","'bundles'",675],["T_WHITESPACE"," ",675],["T_DOUBLE_ARROW","=>",675],["T_WHITESPACE"," ",675],"[",["T_CONSTANT_ENCAPSED_STRING","'first_bundle'",675],["T_WHITESPACE"," ",675],["T_DOUBLE_ARROW","=>",675],["T_WHITESPACE"," ",675],["T_CONSTANT_ENCAPSED_STRING","'first_bundle'",675],",",["T_WHITESPACE"," ",675],["T_CONSTANT_ENCAPSED_STRING","'second_bundle'",675],["T_WHITESPACE"," ",675],["T_DOUBLE_ARROW","=>",675],["T_WHITESPACE"," ",675],["T_CONSTANT_ENCAPSED_STRING","'second_bundle'",675],"]",",",["T_WHITESPACE","\n        ",675],"]",",",["T_WHITESPACE","\n        ",676],["T_CONSTANT_ENCAPSED_STRING","'by_bundle'",677],["T_WHITESPACE"," ",677],["T_DOUBLE_ARROW","=>",677],["T_WHITESPACE"," ",677],"[",["T_WHITESPACE","\n          ",677],["T_CONSTANT_ENCAPSED_STRING","'type'",678],["T_WHITESPACE"," ",678],["T_DOUBLE_ARROW","=>",678],["T_WHITESPACE"," ",678],["T_CONSTANT_ENCAPSED_STRING","'string'",678],",",["T_WHITESPACE","\n          ",678],["T_CONSTANT_ENCAPSED_STRING","'bundles'",679],["T_WHITESPACE"," ",679],["T_DOUBLE_ARROW","=>",679],["T_WHITESPACE"," ",679],"[",["T_CONSTANT_ENCAPSED_STRING","'second_bundle'",679],["T_WHITESPACE"," ",679],["T_DOUBLE_ARROW","=>",679],["T_WHITESPACE"," ",679],["T_CONSTANT_ENCAPSED_STRING","'second_bundle'",679],"]",",",["T_WHITESPACE","\n        ",679],"]",",",["T_WHITESPACE","\n      ",680],"]",["T_WHITESPACE","\n    ",681],"]",";",["T_WHITESPACE","\n    ",682],["T_VARIABLE","$this",683],["T_OBJECT_OPERATOR","->",683],["T_STRING","assertEquals",683],"(",["T_VARIABLE","$expected",683],",",["T_WHITESPACE"," ",683],["T_VARIABLE","$this",683],["T_OBJECT_OPERATOR","->",683],["T_STRING","entityFieldManager",683],["T_OBJECT_OPERATOR","->",683],["T_STRING","getFieldMap",683],"(",")",")",";",["T_WHITESPACE","\n  ",683],"}",["T_WHITESPACE","\n\n  ",684],["T_DOC_COMMENT","\/**\n   * @covers ::getFieldMap\n   *\/",686],["T_WHITESPACE","\n  ",688],["T_PUBLIC","public",689],["T_WHITESPACE"," ",689],["T_FUNCTION","function",689],["T_WHITESPACE"," ",689],["T_STRING","testGetFieldMapFromCache",689],"(",")",["T_WHITESPACE"," ",689],"{",["T_WHITESPACE","\n    ",689],["T_VARIABLE","$expected",690],["T_WHITESPACE"," ",690],"=",["T_WHITESPACE"," ",690],"[",["T_WHITESPACE","\n      ",690],["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",691],["T_WHITESPACE"," ",691],["T_DOUBLE_ARROW","=>",691],["T_WHITESPACE"," ",691],"[",["T_WHITESPACE","\n        ",691],["T_CONSTANT_ENCAPSED_STRING","'id'",692],["T_WHITESPACE"," ",692],["T_DOUBLE_ARROW","=>",692],["T_WHITESPACE"," ",692],"[",["T_WHITESPACE","\n          ",692],["T_CONSTANT_ENCAPSED_STRING","'type'",693],["T_WHITESPACE"," ",693],["T_DOUBLE_ARROW","=>",693],["T_WHITESPACE"," ",693],["T_CONSTANT_ENCAPSED_STRING","'integer'",693],",",["T_WHITESPACE","\n          ",693],["T_CONSTANT_ENCAPSED_STRING","'bundles'",694],["T_WHITESPACE"," ",694],["T_DOUBLE_ARROW","=>",694],["T_WHITESPACE"," ",694],"[",["T_CONSTANT_ENCAPSED_STRING","'first_bundle'",694],["T_WHITESPACE"," ",694],["T_DOUBLE_ARROW","=>",694],["T_WHITESPACE"," ",694],["T_CONSTANT_ENCAPSED_STRING","'first_bundle'",694],",",["T_WHITESPACE"," ",694],["T_CONSTANT_ENCAPSED_STRING","'second_bundle'",694],["T_WHITESPACE"," ",694],["T_DOUBLE_ARROW","=>",694],["T_WHITESPACE"," ",694],["T_CONSTANT_ENCAPSED_STRING","'second_bundle'",694],"]",",",["T_WHITESPACE","\n        ",694],"]",",",["T_WHITESPACE","\n        ",695],["T_CONSTANT_ENCAPSED_STRING","'by_bundle'",696],["T_WHITESPACE"," ",696],["T_DOUBLE_ARROW","=>",696],["T_WHITESPACE"," ",696],"[",["T_WHITESPACE","\n          ",696],["T_CONSTANT_ENCAPSED_STRING","'type'",697],["T_WHITESPACE"," ",697],["T_DOUBLE_ARROW","=>",697],["T_WHITESPACE"," ",697],["T_CONSTANT_ENCAPSED_STRING","'string'",697],",",["T_WHITESPACE","\n          ",697],["T_CONSTANT_ENCAPSED_STRING","'bundles'",698],["T_WHITESPACE"," ",698],["T_DOUBLE_ARROW","=>",698],["T_WHITESPACE"," ",698],"[",["T_CONSTANT_ENCAPSED_STRING","'second_bundle'",698],["T_WHITESPACE"," ",698],["T_DOUBLE_ARROW","=>",698],["T_WHITESPACE"," ",698],["T_CONSTANT_ENCAPSED_STRING","'second_bundle'",698],"]",",",["T_WHITESPACE","\n        ",698],"]",",",["T_WHITESPACE","\n      ",699],"]",["T_WHITESPACE","\n    ",700],"]",";",["T_WHITESPACE","\n    ",701],["T_VARIABLE","$this",702],["T_OBJECT_OPERATOR","->",702],["T_STRING","setUpEntityTypeDefinitions",702],"(",")",";",["T_WHITESPACE","\n    ",702],["T_VARIABLE","$this",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","cacheBackend",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","get",703],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_field_map'",703],")",["T_OBJECT_OPERATOR","->",703],["T_STRING","willReturn",703],"(",["T_OBJECT_CAST","(object)",703],["T_WHITESPACE"," ",703],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",703],["T_WHITESPACE"," ",703],["T_DOUBLE_ARROW","=>",703],["T_WHITESPACE"," ",703],["T_VARIABLE","$expected",703],"]",")",";",["T_WHITESPACE","\n\n    ",703],["T_COMMENT","\/\/ Call the field map twice to make sure the static cache works.\n",705],["T_WHITESPACE","    ",706],["T_VARIABLE","$this",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","assertEquals",706],"(",["T_VARIABLE","$expected",706],",",["T_WHITESPACE"," ",706],["T_VARIABLE","$this",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","entityFieldManager",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","getFieldMap",706],"(",")",")",";",["T_WHITESPACE","\n    ",706],["T_VARIABLE","$this",707],["T_OBJECT_OPERATOR","->",707],["T_STRING","assertEquals",707],"(",["T_VARIABLE","$expected",707],",",["T_WHITESPACE"," ",707],["T_VARIABLE","$this",707],["T_OBJECT_OPERATOR","->",707],["T_STRING","entityFieldManager",707],["T_OBJECT_OPERATOR","->",707],["T_STRING","getFieldMap",707],"(",")",")",";",["T_WHITESPACE","\n  ",707],"}",["T_WHITESPACE","\n\n  ",708],["T_DOC_COMMENT","\/**\n   * @covers ::getFieldMapByFieldType\n   *\/",710],["T_WHITESPACE","\n  ",712],["T_PUBLIC","public",713],["T_WHITESPACE"," ",713],["T_FUNCTION","function",713],["T_WHITESPACE"," ",713],["T_STRING","testGetFieldMapByFieldType",713],"(",")",["T_WHITESPACE"," ",713],"{",["T_WHITESPACE","\n    ",713],["T_COMMENT","\/\/ Set up a content entity type.\n",714],["T_WHITESPACE","    ",715],["T_VARIABLE","$entity_type",715],["T_WHITESPACE"," ",715],"=",["T_WHITESPACE"," ",715],["T_VARIABLE","$this",715],["T_OBJECT_OPERATOR","->",715],["T_STRING","prophesize",715],"(",["T_STRING","ContentEntityTypeInterface",715],["T_DOUBLE_COLON","::",715],["T_CLASS","class",715],")",";",["T_WHITESPACE","\n    ",715],["T_VARIABLE","$entity_class",716],["T_WHITESPACE"," ",716],"=",["T_WHITESPACE"," ",716],["T_STRING","EntityManagerTestEntity",716],["T_DOUBLE_COLON","::",716],["T_CLASS","class",716],";",["T_WHITESPACE","\n\n    ",716],["T_COMMENT","\/\/ Set up the entity type bundle info to return two bundles for the\n",718],["T_WHITESPACE","    ",719],["T_COMMENT","\/\/ fieldable entity type.\n",719],["T_WHITESPACE","    ",720],["T_VARIABLE","$this",720],["T_OBJECT_OPERATOR","->",720],["T_STRING","entityTypeBundleInfo",720],["T_OBJECT_OPERATOR","->",720],["T_STRING","getBundleInfo",720],"(",["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",720],")",["T_OBJECT_OPERATOR","->",720],["T_STRING","willReturn",720],"(","[",["T_WHITESPACE","\n      ",720],["T_CONSTANT_ENCAPSED_STRING","'first_bundle'",721],["T_WHITESPACE"," ",721],["T_DOUBLE_ARROW","=>",721],["T_WHITESPACE"," ",721],["T_CONSTANT_ENCAPSED_STRING","'first_bundle'",721],",",["T_WHITESPACE","\n      ",721],["T_CONSTANT_ENCAPSED_STRING","'second_bundle'",722],["T_WHITESPACE"," ",722],["T_DOUBLE_ARROW","=>",722],["T_WHITESPACE"," ",722],["T_CONSTANT_ENCAPSED_STRING","'second_bundle'",722],",",["T_WHITESPACE","\n    ",722],"]",")",["T_OBJECT_OPERATOR","->",723],["T_STRING","shouldBeCalled",723],"(",")",";",["T_WHITESPACE","\n    ",723],["T_VARIABLE","$this",724],["T_OBJECT_OPERATOR","->",724],["T_STRING","moduleHandler",724],["T_OBJECT_OPERATOR","->",724],["T_STRING","getImplementations",724],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_base_field_info'",724],")",["T_OBJECT_OPERATOR","->",724],["T_STRING","willReturn",724],"(","[","]",")",["T_OBJECT_OPERATOR","->",724],["T_STRING","shouldBeCalled",724],"(",")",";",["T_WHITESPACE","\n\n    ",724],["T_COMMENT","\/\/ Define an ID field definition as a base field.\n",726],["T_WHITESPACE","    ",727],["T_VARIABLE","$id_definition",727],["T_WHITESPACE"," ",727],"=",["T_WHITESPACE"," ",727],["T_VARIABLE","$this",727],["T_OBJECT_OPERATOR","->",727],["T_STRING","prophesize",727],"(",["T_STRING","FieldDefinitionInterface",727],["T_DOUBLE_COLON","::",727],["T_CLASS","class",727],")",";",["T_WHITESPACE","\n    ",727],["T_VARIABLE","$id_definition",728],["T_OBJECT_OPERATOR","->",728],["T_STRING","getType",728],"(",")",["T_OBJECT_OPERATOR","->",728],["T_STRING","willReturn",728],"(",["T_CONSTANT_ENCAPSED_STRING","'integer'",728],")",["T_OBJECT_OPERATOR","->",728],["T_STRING","shouldBeCalled",728],"(",")",";",["T_WHITESPACE","\n    ",728],["T_VARIABLE","$base_field_definitions",729],["T_WHITESPACE"," ",729],"=",["T_WHITESPACE"," ",729],"[",["T_WHITESPACE","\n      ",729],["T_CONSTANT_ENCAPSED_STRING","'id'",730],["T_WHITESPACE"," ",730],["T_DOUBLE_ARROW","=>",730],["T_WHITESPACE"," ",730],["T_VARIABLE","$id_definition",730],["T_OBJECT_OPERATOR","->",730],["T_STRING","reveal",730],"(",")",",",["T_WHITESPACE","\n    ",730],"]",";",["T_WHITESPACE","\n    ",731],["T_VARIABLE","$entity_class",732],["T_DOUBLE_COLON","::",732],["T_VARIABLE","$baseFieldDefinitions",732],["T_WHITESPACE"," ",732],"=",["T_WHITESPACE"," ",732],["T_VARIABLE","$base_field_definitions",732],";",["T_WHITESPACE","\n\n    ",732],["T_COMMENT","\/\/ Set up the stored bundle field map.\n",734],["T_WHITESPACE","    ",735],["T_VARIABLE","$key_value_store",735],["T_WHITESPACE"," ",735],"=",["T_WHITESPACE"," ",735],["T_VARIABLE","$this",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","prophesize",735],"(",["T_STRING","KeyValueStoreInterface",735],["T_DOUBLE_COLON","::",735],["T_CLASS","class",735],")",";",["T_WHITESPACE","\n    ",735],["T_VARIABLE","$this",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","keyValueFactory",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","get",736],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.definitions.bundle_field_map'",736],")",["T_OBJECT_OPERATOR","->",736],["T_STRING","willReturn",736],"(",["T_VARIABLE","$key_value_store",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","reveal",736],"(",")",")",["T_OBJECT_OPERATOR","->",736],["T_STRING","shouldBeCalled",736],"(",")",";",["T_WHITESPACE","\n    ",736],["T_VARIABLE","$key_value_store",737],["T_OBJECT_OPERATOR","->",737],["T_STRING","getAll",737],"(",")",["T_OBJECT_OPERATOR","->",737],["T_STRING","willReturn",737],"(","[",["T_WHITESPACE","\n      ",737],["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",738],["T_WHITESPACE"," ",738],["T_DOUBLE_ARROW","=>",738],["T_WHITESPACE"," ",738],"[",["T_WHITESPACE","\n        ",738],["T_CONSTANT_ENCAPSED_STRING","'by_bundle'",739],["T_WHITESPACE"," ",739],["T_DOUBLE_ARROW","=>",739],["T_WHITESPACE"," ",739],"[",["T_WHITESPACE","\n          ",739],["T_CONSTANT_ENCAPSED_STRING","'type'",740],["T_WHITESPACE"," ",740],["T_DOUBLE_ARROW","=>",740],["T_WHITESPACE"," ",740],["T_CONSTANT_ENCAPSED_STRING","'string'",740],",",["T_WHITESPACE","\n          ",740],["T_CONSTANT_ENCAPSED_STRING","'bundles'",741],["T_WHITESPACE"," ",741],["T_DOUBLE_ARROW","=>",741],["T_WHITESPACE"," ",741],"[",["T_CONSTANT_ENCAPSED_STRING","'second_bundle'",741],["T_WHITESPACE"," ",741],["T_DOUBLE_ARROW","=>",741],["T_WHITESPACE"," ",741],["T_CONSTANT_ENCAPSED_STRING","'second_bundle'",741],"]",",",["T_WHITESPACE","\n        ",741],"]",",",["T_WHITESPACE","\n      ",742],"]",",",["T_WHITESPACE","\n    ",743],"]",")",["T_OBJECT_OPERATOR","->",744],["T_STRING","shouldBeCalled",744],"(",")",";",["T_WHITESPACE","\n\n    ",744],["T_COMMENT","\/\/ Mock the base field definition override.\n",746],["T_WHITESPACE","    ",747],["T_VARIABLE","$override_entity_type",747],["T_WHITESPACE"," ",747],"=",["T_WHITESPACE"," ",747],["T_VARIABLE","$this",747],["T_OBJECT_OPERATOR","->",747],["T_STRING","prophesize",747],"(",["T_STRING","EntityTypeInterface",747],["T_DOUBLE_COLON","::",747],["T_CLASS","class",747],")",";",["T_WHITESPACE","\n\n    ",747],["T_VARIABLE","$this",749],["T_OBJECT_OPERATOR","->",749],["T_STRING","setUpEntityTypeDefinitions",749],"(","[",["T_WHITESPACE","\n      ",749],["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",750],["T_WHITESPACE"," ",750],["T_DOUBLE_ARROW","=>",750],["T_WHITESPACE"," ",750],["T_VARIABLE","$entity_type",750],",",["T_WHITESPACE","\n      ",750],["T_CONSTANT_ENCAPSED_STRING","'base_field_override'",751],["T_WHITESPACE"," ",751],["T_DOUBLE_ARROW","=>",751],["T_WHITESPACE"," ",751],["T_VARIABLE","$override_entity_type",751],",",["T_WHITESPACE","\n    ",751],"]",")",";",["T_WHITESPACE","\n\n    ",752],["T_VARIABLE","$entity_type",754],["T_OBJECT_OPERATOR","->",754],["T_STRING","getClass",754],"(",")",["T_OBJECT_OPERATOR","->",754],["T_STRING","willReturn",754],"(",["T_VARIABLE","$entity_class",754],")",["T_OBJECT_OPERATOR","->",754],["T_STRING","shouldBeCalled",754],"(",")",";",["T_WHITESPACE","\n    ",754],["T_VARIABLE","$entity_type",755],["T_OBJECT_OPERATOR","->",755],["T_STRING","getKeys",755],"(",")",["T_OBJECT_OPERATOR","->",755],["T_STRING","willReturn",755],"(","[",["T_CONSTANT_ENCAPSED_STRING","'default_langcode'",755],["T_WHITESPACE"," ",755],["T_DOUBLE_ARROW","=>",755],["T_WHITESPACE"," ",755],["T_CONSTANT_ENCAPSED_STRING","'default_langcode'",755],"]",")",["T_OBJECT_OPERATOR","->",755],["T_STRING","shouldBeCalled",755],"(",")",";",["T_WHITESPACE","\n    ",755],["T_VARIABLE","$entity_type",756],["T_OBJECT_OPERATOR","->",756],["T_STRING","isSubclassOf",756],"(",["T_STRING","FieldableEntityInterface",756],["T_DOUBLE_COLON","::",756],["T_CLASS","class",756],")",["T_OBJECT_OPERATOR","->",756],["T_STRING","willReturn",756],"(",["T_STRING","TRUE",756],")",["T_OBJECT_OPERATOR","->",756],["T_STRING","shouldBeCalled",756],"(",")",";",["T_WHITESPACE","\n    ",756],["T_VARIABLE","$entity_type",757],["T_OBJECT_OPERATOR","->",757],["T_STRING","isTranslatable",757],"(",")",["T_OBJECT_OPERATOR","->",757],["T_STRING","shouldBeCalled",757],"(",")",";",["T_WHITESPACE","\n    ",757],["T_VARIABLE","$entity_type",758],["T_OBJECT_OPERATOR","->",758],["T_STRING","getProvider",758],"(",")",["T_OBJECT_OPERATOR","->",758],["T_STRING","shouldBeCalled",758],"(",")",";",["T_WHITESPACE","\n\n    ",758],["T_VARIABLE","$override_entity_type",760],["T_OBJECT_OPERATOR","->",760],["T_STRING","isSubclassOf",760],"(",["T_STRING","FieldableEntityInterface",760],["T_DOUBLE_COLON","::",760],["T_CLASS","class",760],")",["T_OBJECT_OPERATOR","->",760],["T_STRING","willReturn",760],"(",["T_STRING","FALSE",760],")",["T_OBJECT_OPERATOR","->",760],["T_STRING","shouldBeCalled",760],"(",")",";",["T_WHITESPACE","\n\n    ",760],["T_VARIABLE","$integerFields",762],["T_WHITESPACE"," ",762],"=",["T_WHITESPACE"," ",762],["T_VARIABLE","$this",762],["T_OBJECT_OPERATOR","->",762],["T_STRING","entityFieldManager",762],["T_OBJECT_OPERATOR","->",762],["T_STRING","getFieldMapByFieldType",762],"(",["T_CONSTANT_ENCAPSED_STRING","'integer'",762],")",";",["T_WHITESPACE","\n    ",762],["T_VARIABLE","$this",763],["T_OBJECT_OPERATOR","->",763],["T_STRING","assertCount",763],"(",["T_LNUMBER","1",763],",",["T_WHITESPACE"," ",763],["T_VARIABLE","$integerFields",763],"[",["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",763],"]",")",";",["T_WHITESPACE","\n    ",763],["T_VARIABLE","$this",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","assertArrayNotHasKey",764],"(",["T_CONSTANT_ENCAPSED_STRING","'non_fieldable'",764],",",["T_WHITESPACE"," ",764],["T_VARIABLE","$integerFields",764],")",";",["T_WHITESPACE","\n    ",764],["T_VARIABLE","$this",765],["T_OBJECT_OPERATOR","->",765],["T_STRING","assertArrayHasKey",765],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",765],",",["T_WHITESPACE"," ",765],["T_VARIABLE","$integerFields",765],"[",["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",765],"]",")",";",["T_WHITESPACE","\n    ",765],["T_VARIABLE","$this",766],["T_OBJECT_OPERATOR","->",766],["T_STRING","assertArrayNotHasKey",766],"(",["T_CONSTANT_ENCAPSED_STRING","'by_bundle'",766],",",["T_WHITESPACE"," ",766],["T_VARIABLE","$integerFields",766],"[",["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",766],"]",")",";",["T_WHITESPACE","\n\n    ",766],["T_VARIABLE","$stringFields",768],["T_WHITESPACE"," ",768],"=",["T_WHITESPACE"," ",768],["T_VARIABLE","$this",768],["T_OBJECT_OPERATOR","->",768],["T_STRING","entityFieldManager",768],["T_OBJECT_OPERATOR","->",768],["T_STRING","getFieldMapByFieldType",768],"(",["T_CONSTANT_ENCAPSED_STRING","'string'",768],")",";",["T_WHITESPACE","\n    ",768],["T_VARIABLE","$this",769],["T_OBJECT_OPERATOR","->",769],["T_STRING","assertCount",769],"(",["T_LNUMBER","1",769],",",["T_WHITESPACE"," ",769],["T_VARIABLE","$stringFields",769],"[",["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",769],"]",")",";",["T_WHITESPACE","\n    ",769],["T_VARIABLE","$this",770],["T_OBJECT_OPERATOR","->",770],["T_STRING","assertArrayNotHasKey",770],"(",["T_CONSTANT_ENCAPSED_STRING","'non_fieldable'",770],",",["T_WHITESPACE"," ",770],["T_VARIABLE","$stringFields",770],")",";",["T_WHITESPACE","\n    ",770],["T_VARIABLE","$this",771],["T_OBJECT_OPERATOR","->",771],["T_STRING","assertArrayHasKey",771],"(",["T_CONSTANT_ENCAPSED_STRING","'by_bundle'",771],",",["T_WHITESPACE"," ",771],["T_VARIABLE","$stringFields",771],"[",["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",771],"]",")",";",["T_WHITESPACE","\n    ",771],["T_VARIABLE","$this",772],["T_OBJECT_OPERATOR","->",772],["T_STRING","assertArrayNotHasKey",772],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",772],",",["T_WHITESPACE"," ",772],["T_VARIABLE","$stringFields",772],"[",["T_CONSTANT_ENCAPSED_STRING","'test_entity_type'",772],"]",")",";",["T_WHITESPACE","\n  ",772],"}",["T_WHITESPACE","\n\n",773],"}",["T_WHITESPACE","\n\n",775],["T_CLASS","class",777],["T_WHITESPACE"," ",777],["T_STRING","TestEntityFieldManager",777],["T_WHITESPACE"," ",777],["T_EXTENDS","extends",777],["T_WHITESPACE"," ",777],["T_STRING","EntityFieldManager",777],["T_WHITESPACE"," ",777],"{",["T_WHITESPACE","\n\n  ",777],["T_DOC_COMMENT","\/**\n   * Allows the static caches to be cleared.\n   *\/",779],["T_WHITESPACE","\n  ",781],["T_PUBLIC","public",782],["T_WHITESPACE"," ",782],["T_FUNCTION","function",782],["T_WHITESPACE"," ",782],["T_STRING","testClearEntityFieldInfo",782],"(",")",["T_WHITESPACE"," ",782],"{",["T_WHITESPACE","\n    ",782],["T_VARIABLE","$this",783],["T_OBJECT_OPERATOR","->",783],["T_STRING","baseFieldDefinitions",783],["T_WHITESPACE"," ",783],"=",["T_WHITESPACE"," ",783],"[","]",";",["T_WHITESPACE","\n    ",783],["T_VARIABLE","$this",784],["T_OBJECT_OPERATOR","->",784],["T_STRING","fieldDefinitions",784],["T_WHITESPACE"," ",784],"=",["T_WHITESPACE"," ",784],"[","]",";",["T_WHITESPACE","\n    ",784],["T_VARIABLE","$this",785],["T_OBJECT_OPERATOR","->",785],["T_STRING","fieldStorageDefinitions",785],["T_WHITESPACE"," ",785],"=",["T_WHITESPACE"," ",785],"[","]",";",["T_WHITESPACE","\n  ",785],"}",["T_WHITESPACE","\n\n",786],"}",["T_WHITESPACE","\n\n",788],["T_DOC_COMMENT","\/**\n * Provides a content entity with dummy static method implementations.\n *\/",790],["T_WHITESPACE","\n",792],["T_ABSTRACT","abstract",793],["T_WHITESPACE"," ",793],["T_CLASS","class",793],["T_WHITESPACE"," ",793],["T_STRING","EntityManagerTestEntity",793],["T_WHITESPACE"," ",793],["T_IMPLEMENTS","implements",793],["T_WHITESPACE"," ",793],["T_NS_SEPARATOR","\\",793],["T_STRING","Iterator",793],",",["T_WHITESPACE"," ",793],["T_STRING","ContentEntityInterface",793],["T_WHITESPACE"," ",793],"{",["T_WHITESPACE","\n\n  ",793],["T_DOC_COMMENT","\/**\n   * The base field definitions.\n   *\n   * @var \\Drupal\\Core\\Field\\FieldDefinitionInterface[]\n   *\/",795],["T_WHITESPACE","\n  ",799],["T_PUBLIC","public",800],["T_WHITESPACE"," ",800],["T_STATIC","static",800],["T_WHITESPACE"," ",800],["T_VARIABLE","$baseFieldDefinitions",800],["T_WHITESPACE"," ",800],"=",["T_WHITESPACE"," ",800],"[","]",";",["T_WHITESPACE","\n\n  ",800],["T_DOC_COMMENT","\/**\n   * The bundle field definitions.\n   *\n   * @var array[]\n   *   Keys are entity type IDs, values are arrays of which the keys are bundle\n   *   names and the values are field definitions.\n   *\/",802],["T_WHITESPACE","\n  ",808],["T_PUBLIC","public",809],["T_WHITESPACE"," ",809],["T_STATIC","static",809],["T_WHITESPACE"," ",809],["T_VARIABLE","$bundleFieldDefinitions",809],["T_WHITESPACE"," ",809],"=",["T_WHITESPACE"," ",809],"[","]",";",["T_WHITESPACE","\n\n  ",809],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",811],["T_WHITESPACE","\n  ",813],["T_PUBLIC","public",814],["T_WHITESPACE"," ",814],["T_STATIC","static",814],["T_WHITESPACE"," ",814],["T_FUNCTION","function",814],["T_WHITESPACE"," ",814],["T_STRING","baseFieldDefinitions",814],"(",["T_STRING","EntityTypeInterface",814],["T_WHITESPACE"," ",814],["T_VARIABLE","$entity_type",814],")",["T_WHITESPACE"," ",814],"{",["T_WHITESPACE","\n    ",814],["T_RETURN","return",815],["T_WHITESPACE"," ",815],["T_STATIC","static",815],["T_DOUBLE_COLON","::",815],["T_VARIABLE","$baseFieldDefinitions",815],";",["T_WHITESPACE","\n  ",815],"}",["T_WHITESPACE","\n\n  ",816],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",818],["T_WHITESPACE","\n  ",820],["T_PUBLIC","public",821],["T_WHITESPACE"," ",821],["T_STATIC","static",821],["T_WHITESPACE"," ",821],["T_FUNCTION","function",821],["T_WHITESPACE"," ",821],["T_STRING","bundleFieldDefinitions",821],"(",["T_STRING","EntityTypeInterface",821],["T_WHITESPACE"," ",821],["T_VARIABLE","$entity_type",821],",",["T_WHITESPACE"," ",821],["T_VARIABLE","$bundle",821],",",["T_WHITESPACE"," ",821],["T_ARRAY","array",821],["T_WHITESPACE"," ",821],["T_VARIABLE","$base_field_definitions",821],")",["T_WHITESPACE"," ",821],"{",["T_WHITESPACE","\n    ",821],["T_RETURN","return",822],["T_WHITESPACE"," ",822],["T_ISSET","isset",822],"(",["T_STATIC","static",822],["T_DOUBLE_COLON","::",822],["T_VARIABLE","$bundleFieldDefinitions",822],"[",["T_VARIABLE","$entity_type",822],["T_OBJECT_OPERATOR","->",822],["T_STRING","id",822],"(",")","]","[",["T_VARIABLE","$bundle",822],"]",")",["T_WHITESPACE"," ",822],"?",["T_WHITESPACE"," ",822],["T_STATIC","static",822],["T_DOUBLE_COLON","::",822],["T_VARIABLE","$bundleFieldDefinitions",822],"[",["T_VARIABLE","$entity_type",822],["T_OBJECT_OPERATOR","->",822],["T_STRING","id",822],"(",")","]","[",["T_VARIABLE","$bundle",822],"]",["T_WHITESPACE"," ",822],":",["T_WHITESPACE"," ",822],"[","]",";",["T_WHITESPACE","\n  ",822],"}",["T_WHITESPACE","\n\n",823],"}",["T_WHITESPACE","\n",825]]