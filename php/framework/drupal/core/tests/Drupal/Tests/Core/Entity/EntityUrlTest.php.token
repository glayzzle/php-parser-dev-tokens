[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Entity",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","EntityMalformedException",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","EntityManagerInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","EntityTypeInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Exception",9],["T_NS_SEPARATOR","\\",9],["T_STRING","UndefinedLinkTemplateException",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Entity",10],["T_NS_SEPARATOR","\\",10],["T_STRING","RevisionableInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Url",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Tests",12],["T_NS_SEPARATOR","\\",12],["T_STRING","UnitTestCase",12],";",["T_WHITESPACE","\n\n",12],["T_DOC_COMMENT","\/**\n * Tests URL handling of the \\Drupal\\Core\\Entity\\Entity class.\n *\n * @coversDefaultClass \\Drupal\\Core\\Entity\\Entity\n *\n * @group Entity\n *\/",14],["T_WHITESPACE","\n",20],["T_CLASS","class",21],["T_WHITESPACE"," ",21],["T_STRING","EntityUrlTest",21],["T_WHITESPACE"," ",21],["T_EXTENDS","extends",21],["T_WHITESPACE"," ",21],["T_STRING","UnitTestCase",21],["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * The entity manager mock used in this test.\n   *\n   * @var \\Prophecy\\Prophecy\\ProphecyInterface|\\Drupal\\Core\\Entity\\EntityManagerInterface\n   *\/",23],["T_WHITESPACE","\n  ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$entityManager",28],";",["T_WHITESPACE","\n\n  ",28],["T_DOC_COMMENT","\/**\n   * The ID of the entity type used in this test.\n   *\n   * @var string\n   *\/",30],["T_WHITESPACE","\n  ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$entityTypeId",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'test_entity'",35],";",["T_WHITESPACE","\n\n  ",35],["T_DOC_COMMENT","\/**\n   * The entity type mock used in this test.\n   *\n   * @var \\Prophecy\\Prophecy\\ProphecyInterface|\\Drupal\\Core\\Entity\\EntityTypeInterface\n   *\/",37],["T_WHITESPACE","\n  ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$entityType",42],";",["T_WHITESPACE","\n\n  ",42],["T_DOC_COMMENT","\/**\n   * The ID of the entity used in this test.\n   *\n   * @var int\n   *\/",44],["T_WHITESPACE","\n  ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$entityId",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_LNUMBER","1",49],";",["T_WHITESPACE","\n\n  ",49],["T_DOC_COMMENT","\/**\n   * The revision ID of the entity used in this test.\n   *\n   * @var int\n   *\/",51],["T_WHITESPACE","\n  ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$revisionId",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_LNUMBER","2",56],";",["T_WHITESPACE","\n\n  ",56],["T_DOC_COMMENT","\/**\n   * The language code of the entity used in this test.\n   *\n   * @var string\n   *\/",58],["T_WHITESPACE","\n  ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$langcode",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'en'",63],";",["T_WHITESPACE","\n\n  ",63],["T_DOC_COMMENT","\/**\n   * Indicator for default revisions.\n   *\n   * @var true\n   *\/",65],["T_WHITESPACE","\n  ",69],["T_CONST","const",70],["T_WHITESPACE"," ",70],["T_STRING","DEFAULT_REVISION",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","TRUE",70],";",["T_WHITESPACE","\n\n  ",70],["T_DOC_COMMENT","\/**\n   * Indicator for non-default revisions.\n   *\n   * @var false\n   *\/",72],["T_WHITESPACE","\n  ",76],["T_CONST","const",77],["T_WHITESPACE"," ",77],["T_STRING","NON_DEFAULT_REVISION",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_STRING","FALSE",77],";",["T_WHITESPACE","\n\n  ",77],["T_DOC_COMMENT","\/**\n   * Indicator that the test entity type has no bundle key.\n   *\n   * @var false\n   *\/",79],["T_WHITESPACE","\n  ",83],["T_CONST","const",84],["T_WHITESPACE"," ",84],["T_STRING","HAS_NO_BUNDLE_KEY",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_STRING","FALSE",84],";",["T_WHITESPACE","\n\n  ",84],["T_DOC_COMMENT","\/**\n   * Indicator that the test entity type has a bundle key.\n   *\n   * @var true\n   *\/",86],["T_WHITESPACE","\n  ",90],["T_CONST","const",91],["T_WHITESPACE"," ",91],["T_STRING","HAS_BUNDLE_KEY",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_STRING","TRUE",91],";",["T_WHITESPACE","\n\n  ",91],["T_DOC_COMMENT","\/**\n   * Tests the toUrl() method without an entity ID.\n   *\n   * @covers ::toUrl\n   *\/",93],["T_WHITESPACE","\n  ",97],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","testToUrlNoId",98],"(",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$entity",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getEntity",99],"(",["T_STRING","Entity",99],["T_DOUBLE_COLON","::",99],["T_CLASS","class",99],",",["T_WHITESPACE"," ",99],"[","]",")",";",["T_WHITESPACE","\n\n    ",99],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","setExpectedException",101],"(",["T_STRING","EntityMalformedException",101],["T_DOUBLE_COLON","::",101],["T_CLASS","class",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'The \"'",101],["T_WHITESPACE"," ",101],".",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","entityTypeId",101],["T_WHITESPACE"," ",101],".",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'\" entity cannot have a URI as it does not have an ID'",101],")",";",["T_WHITESPACE","\n    ",101],["T_VARIABLE","$entity",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","toUrl",102],"(",")",";",["T_WHITESPACE","\n  ",102],"}",["T_WHITESPACE","\n\n  ",103],["T_DOC_COMMENT","\/**\n   * Tests the toUrl() method with simple link templates.\n   *\n   * @param string $link_template\n   *   The link template to test.\n   * @param string $expected_route_name\n   *   The expected route name of the generated URL.\n   *\n   * @dataProvider providerTestToUrlLinkTemplates\n   *\n   * @covers ::toUrl\n   * @covers ::linkTemplates\n   * @covers ::urlRouteParameters\n   *\/",105],["T_WHITESPACE","\n  ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","testToUrlLinkTemplates",119],"(",["T_VARIABLE","$link_template",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$expected_route_name",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$values",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","entityId",120],",",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'langcode'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","langcode",120],"]",";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$entity",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getEntity",121],"(",["T_STRING","Entity",121],["T_DOUBLE_COLON","::",121],["T_CLASS","class",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$values",121],")",";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","registerLinkTemplate",122],"(",["T_VARIABLE","$link_template",122],")",";",["T_WHITESPACE","\n\n    ",122],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Url $url *\/",124],["T_WHITESPACE","\n    ",124],["T_VARIABLE","$url",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$entity",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","toUrl",125],"(",["T_VARIABLE","$link_template",125],")",";",["T_WHITESPACE","\n    ",125],["T_COMMENT","\/\/ The entity ID is the sole route parameter for the link templates tested\n",126],["T_WHITESPACE","    ",127],["T_COMMENT","\/\/ here.\n",127],["T_WHITESPACE","    ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","assertUrl",128],"(",["T_VARIABLE","$expected_route_name",128],",",["T_WHITESPACE"," ",128],"[",["T_CONSTANT_ENCAPSED_STRING","'test_entity'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","entityId",128],"]",",",["T_WHITESPACE"," ",128],["T_VARIABLE","$entity",128],",",["T_WHITESPACE"," ",128],["T_STRING","TRUE",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$url",128],")",";",["T_WHITESPACE","\n  ",128],"}",["T_WHITESPACE","\n\n  ",129],["T_DOC_COMMENT","\/**\n   * Provides data for testToUrlLinkTemplates().\n   *\n   * @return array\n   *   An array of test cases for testToUrlLinkTemplates().\n   *\/",131],["T_WHITESPACE","\n  ",136],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","providerTestToUrlLinkTemplates",137],"(",")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$test_cases",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],"[","]",";",["T_WHITESPACE","\n\n    ",138],["T_VARIABLE","$test_cases",140],"[",["T_CONSTANT_ENCAPSED_STRING","'canonical'",140],"]",["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],"[",["T_CONSTANT_ENCAPSED_STRING","'canonical'",140],",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'entity.test_entity.canonical'",140],"]",";",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$test_cases",141],"[",["T_CONSTANT_ENCAPSED_STRING","'version-history'",141],"]",["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],"[",["T_CONSTANT_ENCAPSED_STRING","'version-history'",141],",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'entity.test_entity.version_history'",141],"]",";",["T_WHITESPACE","\n    ",141],["T_VARIABLE","$test_cases",142],"[",["T_CONSTANT_ENCAPSED_STRING","'edit-form'",142],"]",["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],"[",["T_CONSTANT_ENCAPSED_STRING","'edit-form'",142],",",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'entity.test_entity.edit_form'",142],"]",";",["T_WHITESPACE","\n    ",142],["T_VARIABLE","$test_cases",143],"[",["T_CONSTANT_ENCAPSED_STRING","'delete-form'",143],"]",["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],"[",["T_CONSTANT_ENCAPSED_STRING","'delete-form'",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'entity.test_entity.delete_form'",143],"]",";",["T_WHITESPACE","\n    ",143],["T_VARIABLE","$test_cases",144],"[",["T_CONSTANT_ENCAPSED_STRING","'revision'",144],"]",["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],"[",["T_CONSTANT_ENCAPSED_STRING","'revision'",144],",",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'entity.test_entity.revision'",144],"]",";",["T_WHITESPACE","\n\n    ",144],["T_RETURN","return",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$test_cases",146],";",["T_WHITESPACE","\n  ",146],"}",["T_WHITESPACE","\n\n  ",147],["T_DOC_COMMENT","\/**\n   * Tests the toUrl() method with the 'revision' link template.\n   *\n   * @param bool $is_default_revision\n   *   Whether or not the mock entity should be the default revision.\n   * @param string $link_template\n   *   The link template to test.\n   * @param string $expected_route_name\n   *   The expected route name of the generated URL.\n   * @param array $expected_route_parameters\n   *   The expected route parameters of the generated URL.\n   *\n   * @dataProvider providerTestToUrlLinkTemplateRevision\n   *\n   * @covers ::toUrl\n   * @covers ::linkTemplates\n   * @covers ::urlRouteParameters\n   *\/",149],["T_WHITESPACE","\n  ",166],["T_PUBLIC","public",167],["T_WHITESPACE"," ",167],["T_FUNCTION","function",167],["T_WHITESPACE"," ",167],["T_STRING","testToUrlLinkTemplateRevision",167],"(",["T_VARIABLE","$is_default_revision",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$link_template",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$expected_route_name",167],",",["T_WHITESPACE"," ",167],["T_ARRAY","array",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$expected_route_parameters",167],")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n    ",167],["T_VARIABLE","$values",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","entityId",168],",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'langcode'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","langcode",168],"]",";",["T_WHITESPACE","\n    ",168],["T_VARIABLE","$entity",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getEntity",169],"(",["T_STRING","RevisionableEntity",169],["T_DOUBLE_COLON","::",169],["T_CLASS","class",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$values",169],")",";",["T_WHITESPACE","\n    ",169],["T_VARIABLE","$entity",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","method",170],"(",["T_CONSTANT_ENCAPSED_STRING","'getRevisionId'",170],")",["T_OBJECT_OPERATOR","->",170],["T_STRING","willReturn",170],"(",["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","revisionId",170],")",";",["T_WHITESPACE","\n    ",170],["T_VARIABLE","$entity",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","method",171],"(",["T_CONSTANT_ENCAPSED_STRING","'isDefaultRevision'",171],")",["T_OBJECT_OPERATOR","->",171],["T_STRING","willReturn",171],"(",["T_VARIABLE","$is_default_revision",171],")",";",["T_WHITESPACE","\n    ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","registerLinkTemplate",172],"(",["T_VARIABLE","$link_template",172],")",";",["T_WHITESPACE","\n    ",172],["T_COMMENT","\/\/ Even though this is tested with both the 'canonical' and the 'revision'\n",173],["T_WHITESPACE","    ",174],["T_COMMENT","\/\/ template registered with the entity, we always ask for the 'revision'\n",174],["T_WHITESPACE","    ",175],["T_COMMENT","\/\/ link template, to test that it falls back to the 'canonical' link\n",175],["T_WHITESPACE","    ",176],["T_COMMENT","\/\/ template in case of the default revision.\n",176],["T_WHITESPACE","    ",177],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Url $url *\/",177],["T_WHITESPACE","\n    ",177],["T_VARIABLE","$url",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$entity",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","toUrl",178],"(",["T_CONSTANT_ENCAPSED_STRING","'revision'",178],")",";",["T_WHITESPACE","\n    ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","assertUrl",179],"(",["T_VARIABLE","$expected_route_name",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$expected_route_parameters",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$entity",179],",",["T_WHITESPACE"," ",179],["T_STRING","TRUE",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$url",179],")",";",["T_WHITESPACE","\n\n  ",179],"}",["T_WHITESPACE","\n\n  ",181],["T_DOC_COMMENT","\/**\n   * Provides data for testToUrlLinkTemplateRevision().\n   *\n   * @return array\n   *   An array of test cases for testToUrlLinkTemplateRevision().\n   *\/",183],["T_WHITESPACE","\n  ",188],["T_PUBLIC","public",189],["T_WHITESPACE"," ",189],["T_FUNCTION","function",189],["T_WHITESPACE"," ",189],["T_STRING","providerTestToUrlLinkTemplateRevision",189],"(",")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n    ",189],["T_VARIABLE","$test_cases",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],"[","]",";",["T_WHITESPACE","\n\n    ",190],["T_VARIABLE","$route_parameters",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],"[",["T_CONSTANT_ENCAPSED_STRING","'test_entity'",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","entityId",192],"]",";",["T_WHITESPACE","\n    ",192],["T_VARIABLE","$test_cases",193],"[",["T_CONSTANT_ENCAPSED_STRING","'default_revision'",193],"]",["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],"[",["T_STATIC","static",193],["T_DOUBLE_COLON","::",193],["T_STRING","DEFAULT_REVISION",193],",",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'canonical'",193],",",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'entity.test_entity.canonical'",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$route_parameters",193],"]",";",["T_WHITESPACE","\n    ",193],["T_COMMENT","\/\/ Add the revision ID to the expected route parameters.\n",194],["T_WHITESPACE","    ",195],["T_VARIABLE","$route_parameters",195],"[",["T_CONSTANT_ENCAPSED_STRING","'test_entity_revision'",195],"]",["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","revisionId",195],";",["T_WHITESPACE","\n    ",195],["T_VARIABLE","$test_cases",196],"[",["T_CONSTANT_ENCAPSED_STRING","'non_default_revision'",196],"]",["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],"[",["T_STATIC","static",196],["T_DOUBLE_COLON","::",196],["T_STRING","NON_DEFAULT_REVISION",196],",",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'revision'",196],",",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'entity.test_entity.revision'",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$route_parameters",196],"]",";",["T_WHITESPACE","\n\n    ",196],["T_RETURN","return",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$test_cases",198],";",["T_WHITESPACE","\n  ",198],"}",["T_WHITESPACE","\n\n  ",199],["T_DOC_COMMENT","\/**\n   * Tests the toUrl() method with link templates without an entity ID.\n   *\n   * @param string $link_template\n   *   The link template to test.\n   * @param string $expected_route_name\n   *   The expected route name of the generated URL.\n   *\n   * @dataProvider providerTestToUrlLinkTemplateNoId\n   *\n   * @covers ::toUrl\n   * @covers ::linkTemplates\n   * @covers ::urlRouteParameters\n   *\/",201],["T_WHITESPACE","\n  ",214],["T_PUBLIC","public",215],["T_WHITESPACE"," ",215],["T_FUNCTION","function",215],["T_WHITESPACE"," ",215],["T_STRING","testToUrlLinkTemplateNoId",215],"(",["T_VARIABLE","$link_template",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$expected_route_name",215],")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n    ",215],["T_VARIABLE","$entity",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getEntity",216],"(",["T_STRING","Entity",216],["T_DOUBLE_COLON","::",216],["T_CLASS","class",216],",",["T_WHITESPACE"," ",216],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","entityId",216],"]",")",";",["T_WHITESPACE","\n    ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","registerLinkTemplate",217],"(",["T_VARIABLE","$link_template",217],")",";",["T_WHITESPACE","\n\n    ",217],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Url $url *\/",219],["T_WHITESPACE","\n    ",219],["T_VARIABLE","$url",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$entity",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","toUrl",220],"(",["T_VARIABLE","$link_template",220],")",";",["T_WHITESPACE","\n    ",220],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","assertUrl",221],"(",["T_VARIABLE","$expected_route_name",221],",",["T_WHITESPACE"," ",221],"[","]",",",["T_WHITESPACE"," ",221],["T_VARIABLE","$entity",221],",",["T_WHITESPACE"," ",221],["T_STRING","FALSE",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$url",221],")",";",["T_WHITESPACE","\n  ",221],"}",["T_WHITESPACE","\n\n  ",222],["T_DOC_COMMENT","\/**\n   * Provides data for testToUrlLinkTemplateNoId().\n   *\n   * @return array\n   *   An array of test cases for testToUrlLinkTemplateNoId().\n   *\/",224],["T_WHITESPACE","\n  ",229],["T_PUBLIC","public",230],["T_WHITESPACE"," ",230],["T_FUNCTION","function",230],["T_WHITESPACE"," ",230],["T_STRING","providerTestToUrlLinkTemplateNoId",230],"(",")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n    ",230],["T_VARIABLE","$test_cases",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],"[","]",";",["T_WHITESPACE","\n\n    ",231],["T_VARIABLE","$test_cases",233],"[",["T_CONSTANT_ENCAPSED_STRING","'collection'",233],"]",["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],"[",["T_CONSTANT_ENCAPSED_STRING","'collection'",233],",",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'entity.test_entity.collection'",233],"]",";",["T_WHITESPACE","\n    ",233],["T_VARIABLE","$test_cases",234],"[",["T_CONSTANT_ENCAPSED_STRING","'add-page'",234],"]",["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],"[",["T_CONSTANT_ENCAPSED_STRING","'add-page'",234],",",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'entity.test_entity.add_page'",234],"]",";",["T_WHITESPACE","\n\n    ",234],["T_RETURN","return",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$test_cases",236],";",["T_WHITESPACE","\n  ",236],"}",["T_WHITESPACE","\n\n  ",237],["T_DOC_COMMENT","\/**\n   * Tests the toUrl() method with the 'revision' link template.\n   *\n   * @param bool $has_bundle_key\n   *   Whether or not the mock entity type should have a bundle key.\n   * @param string|null $bundle_entity_type\n   *   The ID of the bundle entity type of the mock entity type, or NULL if the\n   *   mock entity type should not have a bundle entity type.\n   * @param string $bundle_key\n   *   The bundle key of the mock entity type or FALSE if the entity type should\n   *   not have a bundle key.\n   * @param array $expected_route_parameters\n   *   The expected route parameters of the generated URL.\n   *\n   * @dataProvider providerTestToUrlLinkTemplateAddForm\n   *\n   * @covers ::toUrl\n   * @covers ::linkTemplates\n   * @covers ::urlRouteParameters\n   *\/",239],["T_WHITESPACE","\n  ",258],["T_PUBLIC","public",259],["T_WHITESPACE"," ",259],["T_FUNCTION","function",259],["T_WHITESPACE"," ",259],["T_STRING","testToUrlLinkTemplateAddForm",259],"(",["T_VARIABLE","$has_bundle_key",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$bundle_entity_type",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$bundle_key",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$expected_route_parameters",259],")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n    ",259],["T_VARIABLE","$values",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",260],["T_WHITESPACE"," ",260],["T_DOUBLE_ARROW","=>",260],["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","entityId",260],",",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'langcode'",260],["T_WHITESPACE"," ",260],["T_DOUBLE_ARROW","=>",260],["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","langcode",260],"]",";",["T_WHITESPACE","\n    ",260],["T_VARIABLE","$entity",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","getEntity",261],"(",["T_STRING","Entity",261],["T_DOUBLE_COLON","::",261],["T_CLASS","class",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$values",261],")",";",["T_WHITESPACE","\n    ",261],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","entityType",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","hasKey",262],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle'",262],")",["T_OBJECT_OPERATOR","->",262],["T_STRING","willReturn",262],"(",["T_VARIABLE","$has_bundle_key",262],")",";",["T_WHITESPACE","\n    ",262],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","entityType",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","getBundleEntityType",263],"(",")",["T_OBJECT_OPERATOR","->",263],["T_STRING","willReturn",263],"(",["T_VARIABLE","$bundle_entity_type",263],")",";",["T_WHITESPACE","\n    ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","entityType",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","getKey",264],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle'",264],")",["T_OBJECT_OPERATOR","->",264],["T_STRING","willReturn",264],"(",["T_VARIABLE","$bundle_key",264],")",";",["T_WHITESPACE","\n    ",264],["T_VARIABLE","$link_template",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","'add-form'",265],";",["T_WHITESPACE","\n    ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","registerLinkTemplate",266],"(",["T_VARIABLE","$link_template",266],")",";",["T_WHITESPACE","\n\n    ",266],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Url $url *\/",268],["T_WHITESPACE","\n    ",268],["T_VARIABLE","$url",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$entity",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","toUrl",269],"(",["T_VARIABLE","$link_template",269],")",";",["T_WHITESPACE","\n    ",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","assertUrl",270],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.test_entity.add_form'",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$expected_route_parameters",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$entity",270],",",["T_WHITESPACE"," ",270],["T_STRING","FALSE",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$url",270],")",";",["T_WHITESPACE","\n  ",270],"}",["T_WHITESPACE","\n\n  ",271],["T_DOC_COMMENT","\/**\n   * Provides data for testToUrlLinkTemplateAddForm().\n   *\n   * @return array\n   *   An array of test cases for testToUrlLinkTemplateAddForm().\n   *\/",273],["T_WHITESPACE","\n  ",278],["T_PUBLIC","public",279],["T_WHITESPACE"," ",279],["T_FUNCTION","function",279],["T_WHITESPACE"," ",279],["T_STRING","providerTestToUrlLinkTemplateAddForm",279],"(",")",["T_WHITESPACE"," ",279],"{",["T_WHITESPACE","\n    ",279],["T_VARIABLE","$test_cases",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],"[","]",";",["T_WHITESPACE","\n\n    ",280],["T_VARIABLE","$route_parameters",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],"[","]",";",["T_WHITESPACE","\n    ",282],["T_VARIABLE","$test_cases",283],"[",["T_CONSTANT_ENCAPSED_STRING","'no_bundle_key'",283],"]",["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],"[",["T_STATIC","static",283],["T_DOUBLE_COLON","::",283],["T_STRING","HAS_NO_BUNDLE_KEY",283],",",["T_WHITESPACE"," ",283],["T_STRING","NULL",283],",",["T_WHITESPACE"," ",283],["T_STRING","FALSE",283],",",["T_WHITESPACE"," ",283],["T_VARIABLE","$route_parameters",283],"]",";",["T_WHITESPACE","\n\n    ",283],["T_VARIABLE","$route_parameters",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",285],["T_WHITESPACE"," ",285],["T_DOUBLE_ARROW","=>",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","entityTypeId",285],"]",";",["T_WHITESPACE","\n    ",285],["T_VARIABLE","$test_cases",286],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle_entity_type'",286],"]",["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],"[",["T_STATIC","static",286],["T_DOUBLE_COLON","::",286],["T_STRING","HAS_BUNDLE_KEY",286],",",["T_WHITESPACE"," ",286],["T_CONSTANT_ENCAPSED_STRING","'type'",286],",",["T_WHITESPACE"," ",286],["T_STRING","FALSE",286],",",["T_WHITESPACE"," ",286],["T_VARIABLE","$route_parameters",286],"]",";",["T_WHITESPACE","\n    ",286],["T_VARIABLE","$test_cases",287],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle_key'",287],"]",["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],"[",["T_STATIC","static",287],["T_DOUBLE_COLON","::",287],["T_STRING","HAS_BUNDLE_KEY",287],",",["T_WHITESPACE"," ",287],["T_STRING","NULL",287],",",["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","'type'",287],",",["T_WHITESPACE"," ",287],["T_VARIABLE","$route_parameters",287],"]",";",["T_WHITESPACE","\n\n    ",287],["T_RETURN","return",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$test_cases",289],";",["T_WHITESPACE","\n  ",289],"}",["T_WHITESPACE","\n\n  ",290],["T_DOC_COMMENT","\/**\n   * Tests the toUrl() method with neither link templates nor a URI callback.\n   *\n   * @param array $bundle_info\n   *   An array of bundle info to register.\n   * @param string $uri_callback\n   *   The entity type URI callback to register.\n   *\n   * @dataProvider providerTestToUrlUriCallbackUndefined\n   *\n   * @covers ::toUrl\n   * @covers ::linkTemplates\n   *\/",292],["T_WHITESPACE","\n  ",304],["T_PUBLIC","public",305],["T_WHITESPACE"," ",305],["T_FUNCTION","function",305],["T_WHITESPACE"," ",305],["T_STRING","testToUrlUriCallbackUndefined",305],"(",["T_ARRAY","array",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$bundle_info",305],",",["T_WHITESPACE"," ",305],["T_VARIABLE","$uri_callback",305],")",["T_WHITESPACE"," ",305],"{",["T_WHITESPACE","\n    ",305],["T_VARIABLE","$entity",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","getEntity",306],"(",["T_STRING","Entity",306],["T_DOUBLE_COLON","::",306],["T_CLASS","class",306],",",["T_WHITESPACE"," ",306],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",306],["T_WHITESPACE"," ",306],["T_DOUBLE_ARROW","=>",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","entityId",306],"]",")",";",["T_WHITESPACE","\n\n    ",306],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","registerBundleInfo",308],"(",["T_VARIABLE","$bundle_info",308],")",";",["T_WHITESPACE","\n    ",308],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","entityType",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","getUriCallback",309],"(",")",["T_OBJECT_OPERATOR","->",309],["T_STRING","willReturn",309],"(",["T_VARIABLE","$uri_callback",309],")",";",["T_WHITESPACE","\n\n    ",309],["T_VARIABLE","$link_template",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_CONSTANT_ENCAPSED_STRING","'canonical'",311],";",["T_WHITESPACE","\n    ",311],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","setExpectedException",312],"(",["T_STRING","UndefinedLinkTemplateException",312],["T_DOUBLE_COLON","::",312],["T_CLASS","class",312],",",["T_WHITESPACE"," ",312],"\"",["T_ENCAPSED_AND_WHITESPACE","No link template '",312],["T_VARIABLE","$link_template",312],["T_ENCAPSED_AND_WHITESPACE","' found for the '",312],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","entityTypeId",312],["T_ENCAPSED_AND_WHITESPACE","' entity type",312],"\"",")",";",["T_WHITESPACE","\n    ",312],["T_VARIABLE","$entity",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","toUrl",313],"(",["T_VARIABLE","$link_template",313],")",";",["T_WHITESPACE","\n  ",313],"}",["T_WHITESPACE","\n\n  ",314],["T_DOC_COMMENT","\/**\n   * Provides data for testToUrlUriCallbackUndefined().\n   *\n   * @return array\n   *   An array of test cases for testToUrlUriCallbackUndefined().\n   *\/",316],["T_WHITESPACE","\n  ",321],["T_PUBLIC","public",322],["T_WHITESPACE"," ",322],["T_FUNCTION","function",322],["T_WHITESPACE"," ",322],["T_STRING","providerTestToUrlUriCallbackUndefined",322],"(",")",["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n    ",322],["T_VARIABLE","$test_cases",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],"[","]",";",["T_WHITESPACE","\n\n    ",323],["T_VARIABLE","$test_cases",325],"[",["T_CONSTANT_ENCAPSED_STRING","'no_callback'",325],"]",["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],"[","[","]",",",["T_WHITESPACE"," ",325],["T_STRING","NULL",325],"]",";",["T_WHITESPACE","\n    ",325],["T_VARIABLE","$test_cases",326],"[",["T_CONSTANT_ENCAPSED_STRING","'uri_callback'",326],"]",["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],"[","[","]",",",["T_WHITESPACE"," ",326],["T_CONSTANT_ENCAPSED_STRING","'not_a_callable'",326],"]",";",["T_WHITESPACE","\n    ",326],["T_VARIABLE","$test_cases",327],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle_uri_callback'",327],"]",["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],"[","[",["T_CONSTANT_ENCAPSED_STRING","'uri_callback'",327],["T_WHITESPACE"," ",327],["T_DOUBLE_ARROW","=>",327],["T_WHITESPACE"," ",327],["T_CONSTANT_ENCAPSED_STRING","'not_a_callable'",327],"]",",",["T_WHITESPACE"," ",327],["T_STRING","NULL",327],"]",";",["T_WHITESPACE","\n\n    ",327],["T_RETURN","return",329],["T_WHITESPACE"," ",329],["T_VARIABLE","$test_cases",329],";",["T_WHITESPACE","\n  ",329],"}",["T_WHITESPACE","\n\n  ",330],["T_DOC_COMMENT","\/**\n   * Tests the toUrl() method with a URI callback.\n   *\n   * @param array $bundle_info\n   *   An array of bundle info to register.\n   * @param string $uri_callback\n   *   The entity type URI callback to register.\n   *\n   * @covers ::toUrl\n   * @covers ::linkTemplates\n   *\n   * @dataProvider providerTestToUrlUriCallback\n   *\/",332],["T_WHITESPACE","\n  ",344],["T_PUBLIC","public",345],["T_WHITESPACE"," ",345],["T_FUNCTION","function",345],["T_WHITESPACE"," ",345],["T_STRING","testToUrlUriCallback",345],"(",["T_ARRAY","array",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$bundle_info",345],",",["T_WHITESPACE"," ",345],["T_VARIABLE","$uri_callback",345],")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n    ",345],["T_VARIABLE","$entity",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","getEntity",346],"(",["T_STRING","Entity",346],["T_DOUBLE_COLON","::",346],["T_CLASS","class",346],",",["T_WHITESPACE"," ",346],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",346],["T_WHITESPACE"," ",346],["T_DOUBLE_ARROW","=>",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","entityId",346],",",["T_WHITESPACE"," ",346],["T_CONSTANT_ENCAPSED_STRING","'langcode'",346],["T_WHITESPACE"," ",346],["T_DOUBLE_ARROW","=>",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","langcode",346],"]",")",";",["T_WHITESPACE","\n\n    ",346],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","registerBundleInfo",348],"(",["T_VARIABLE","$bundle_info",348],")",";",["T_WHITESPACE","\n    ",348],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","entityType",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","getUriCallback",349],"(",")",["T_OBJECT_OPERATOR","->",349],["T_STRING","willReturn",349],"(",["T_VARIABLE","$uri_callback",349],")",";",["T_WHITESPACE","\n\n    ",349],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Url $url *\/",351],["T_WHITESPACE","\n    ",351],["T_VARIABLE","$url",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_VARIABLE","$entity",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","toUrl",352],"(",["T_CONSTANT_ENCAPSED_STRING","'canonical'",352],")",";",["T_WHITESPACE","\n    ",352],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","assertUrl",353],"(",["T_CONSTANT_ENCAPSED_STRING","'<none>'",353],",",["T_WHITESPACE"," ",353],"[","]",",",["T_WHITESPACE"," ",353],["T_VARIABLE","$entity",353],",",["T_WHITESPACE"," ",353],["T_STRING","TRUE",353],",",["T_WHITESPACE"," ",353],["T_VARIABLE","$url",353],")",";",["T_WHITESPACE","\n  ",353],"}",["T_WHITESPACE","\n\n  ",354],["T_DOC_COMMENT","\/**\n   * Provides data for testToUrlUriCallback().\n   *\n   * @return array\n   *   An array of test cases for testToUrlUriCallback().\n   *\/",356],["T_WHITESPACE","\n  ",361],["T_PUBLIC","public",362],["T_WHITESPACE"," ",362],["T_FUNCTION","function",362],["T_WHITESPACE"," ",362],["T_STRING","providerTestToUrlUriCallback",362],"(",")",["T_WHITESPACE"," ",362],"{",["T_WHITESPACE","\n    ",362],["T_VARIABLE","$test_cases",363],["T_WHITESPACE"," ",363],"=",["T_WHITESPACE"," ",363],"[","]",";",["T_WHITESPACE","\n\n    ",363],["T_VARIABLE","$uri_callback",365],["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],["T_FUNCTION","function",365],["T_WHITESPACE"," ",365],"(",")",["T_WHITESPACE"," ",365],"{",["T_WHITESPACE"," ",365],["T_RETURN","return",365],["T_WHITESPACE"," ",365],["T_STRING","Url",365],["T_DOUBLE_COLON","::",365],["T_STRING","fromRoute",365],"(",["T_CONSTANT_ENCAPSED_STRING","'<none>'",365],")",";",["T_WHITESPACE"," ",365],"}",";",["T_WHITESPACE","\n    ",365],["T_VARIABLE","$test_cases",366],"[",["T_CONSTANT_ENCAPSED_STRING","'uri_callback'",366],"]",["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],"[","[","]",",",["T_WHITESPACE"," ",366],["T_VARIABLE","$uri_callback",366],"]",";",["T_WHITESPACE","\n    ",366],["T_VARIABLE","$test_cases",367],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle_uri_callback'",367],"]",["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],"[","[",["T_CONSTANT_ENCAPSED_STRING","'uri_callback'",367],["T_WHITESPACE"," ",367],["T_DOUBLE_ARROW","=>",367],["T_WHITESPACE"," ",367],["T_VARIABLE","$uri_callback",367],"]",",",["T_WHITESPACE"," ",367],["T_STRING","NULL",367],"]",";",["T_WHITESPACE","\n\n    ",367],["T_RETURN","return",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$test_cases",369],";",["T_WHITESPACE","\n  ",369],"}",["T_WHITESPACE","\n\n  ",370],["T_DOC_COMMENT","\/**\n   * Tests the urlInfo() method.\n   *\n   * @param string $rel\n   *   The link relation to test.\n   * @param array $options\n   *   An array of URL options to test with.\n   *\n   * @covers ::urlInfo\n   *\n   * @dataProvider providerTestUrlInfo\n   *\/",372],["T_WHITESPACE","\n  ",383],["T_PUBLIC","public",384],["T_WHITESPACE"," ",384],["T_FUNCTION","function",384],["T_WHITESPACE"," ",384],["T_STRING","testUrlInfo",384],"(",["T_VARIABLE","$rel",384],",",["T_WHITESPACE"," ",384],["T_VARIABLE","$options",384],")",["T_WHITESPACE"," ",384],"{",["T_WHITESPACE","\n    ",384],["T_VARIABLE","$entity",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","getEntity",385],"(",["T_STRING","Entity",385],["T_DOUBLE_COLON","::",385],["T_CLASS","class",385],",",["T_WHITESPACE"," ",385],"[","]",",",["T_WHITESPACE"," ",385],"[",["T_CONSTANT_ENCAPSED_STRING","'toUrl'",385],"]",")",";",["T_WHITESPACE","\n    ",385],["T_VARIABLE","$entity",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","expects",386],"(",["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","once",386],"(",")",")",["T_WHITESPACE","\n      ",386],["T_OBJECT_OPERATOR","->",387],["T_STRING","method",387],"(",["T_CONSTANT_ENCAPSED_STRING","'toUrl'",387],")",["T_WHITESPACE","\n      ",387],["T_OBJECT_OPERATOR","->",388],["T_STRING","with",388],"(",["T_VARIABLE","$rel",388],",",["T_WHITESPACE"," ",388],["T_VARIABLE","$options",388],")",";",["T_WHITESPACE","\n\n    ",388],["T_VARIABLE","$entity",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","urlInfo",390],"(",["T_VARIABLE","$rel",390],",",["T_WHITESPACE"," ",390],["T_VARIABLE","$options",390],")",";",["T_WHITESPACE","\n  ",390],"}",["T_WHITESPACE","\n\n  ",391],["T_DOC_COMMENT","\/**\n   * Provides data for testUrlInfo().\n   *\n   * @return array\n   *   An array of test cases for testUrlInfo().\n   *\/",393],["T_WHITESPACE","\n  ",398],["T_PUBLIC","public",399],["T_WHITESPACE"," ",399],["T_FUNCTION","function",399],["T_WHITESPACE"," ",399],["T_STRING","providerTestUrlInfo",399],"(",")",["T_WHITESPACE"," ",399],"{",["T_WHITESPACE","\n    ",399],["T_VARIABLE","$test_cases",400],["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],"[","]",";",["T_WHITESPACE","\n\n    ",400],["T_VARIABLE","$test_cases",402],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",402],"]",["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],"[",["T_CONSTANT_ENCAPSED_STRING","'canonical'",402],",",["T_WHITESPACE"," ",402],"[","]","]",";",["T_WHITESPACE","\n    ",402],["T_VARIABLE","$test_cases",403],"[",["T_CONSTANT_ENCAPSED_STRING","'with_option'",403],"]",["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],"[",["T_CONSTANT_ENCAPSED_STRING","'canonical'",403],",",["T_WHITESPACE"," ",403],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",403],["T_WHITESPACE"," ",403],["T_DOUBLE_ARROW","=>",403],["T_WHITESPACE"," ",403],["T_STRING","TRUE",403],"]","]",";",["T_WHITESPACE","\n    ",403],["T_VARIABLE","$test_cases",404],"[",["T_CONSTANT_ENCAPSED_STRING","'revision'",404],"]",["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],"[",["T_CONSTANT_ENCAPSED_STRING","'revision'",404],",",["T_WHITESPACE"," ",404],"[","]","]",";",["T_WHITESPACE","\n\n    ",404],["T_RETURN","return",406],["T_WHITESPACE"," ",406],["T_VARIABLE","$test_cases",406],";",["T_WHITESPACE","\n  ",406],"}",["T_WHITESPACE","\n\n  ",407],["T_DOC_COMMENT","\/**\n   * Tests the url() method without an entity ID.\n   *\n   * @param string $rel\n   *   The link relation to test.\n   *\n   * @covers ::url\n   * @covers ::hasLinkTemplate\n   * @covers ::linkTemplates\n   *\n   * @dataProvider providerTestUrl\n   *\/",409],["T_WHITESPACE","\n  ",420],["T_PUBLIC","public",421],["T_WHITESPACE"," ",421],["T_FUNCTION","function",421],["T_WHITESPACE"," ",421],["T_STRING","testUrlEmpty",421],"(",["T_VARIABLE","$rel",421],")",["T_WHITESPACE"," ",421],"{",["T_WHITESPACE","\n    ",421],["T_VARIABLE","$entity",422],["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","getEntity",422],"(",["T_STRING","Entity",422],["T_DOUBLE_COLON","::",422],["T_CLASS","class",422],",",["T_WHITESPACE"," ",422],"[","]",")",";",["T_WHITESPACE","\n    ",422],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","assertEquals",423],"(",["T_CONSTANT_ENCAPSED_STRING","''",423],",",["T_WHITESPACE"," ",423],["T_VARIABLE","$entity",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","url",423],"(",["T_VARIABLE","$rel",423],")",")",";",["T_WHITESPACE","\n  ",423],"}",["T_WHITESPACE","\n\n  ",424],["T_DOC_COMMENT","\/**\n   * Provides data for testUrlEmpty().\n   *\n   * @return array\n   *   An array of test cases for testUrlEmpty().\n   *\/",426],["T_WHITESPACE","\n  ",431],["T_PUBLIC","public",432],["T_WHITESPACE"," ",432],["T_FUNCTION","function",432],["T_WHITESPACE"," ",432],["T_STRING","providerTestUrlEmpty",432],"(",")",["T_WHITESPACE"," ",432],"{",["T_WHITESPACE","\n    ",432],["T_VARIABLE","$test_cases",433],["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],"[","]",";",["T_WHITESPACE","\n\n    ",433],["T_VARIABLE","$test_cases",435],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",435],"]",["T_WHITESPACE"," ",435],"=",["T_WHITESPACE"," ",435],"[",["T_CONSTANT_ENCAPSED_STRING","'canonical'",435],",",["T_WHITESPACE"," ",435],"[","]","]",";",["T_WHITESPACE","\n    ",435],["T_VARIABLE","$test_cases",436],"[",["T_CONSTANT_ENCAPSED_STRING","'revision'",436],"]",["T_WHITESPACE"," ",436],"=",["T_WHITESPACE"," ",436],"[",["T_CONSTANT_ENCAPSED_STRING","'revision'",436],",",["T_WHITESPACE"," ",436],"[","]","]",";",["T_WHITESPACE","\n\n    ",436],["T_RETURN","return",438],["T_WHITESPACE"," ",438],["T_VARIABLE","$test_cases",438],";",["T_WHITESPACE","\n  ",438],"}",["T_WHITESPACE","\n\n  ",439],["T_DOC_COMMENT","\/**\n   * Tests the url() method.\n   *\n   * @param string $rel\n   *   The link relation to test.\n   * @param array $options\n   *   An array of URL options to call url() with.\n   * @param array $default_options\n   *   An array of URL options that toUrl() should generate.\n   * @param array $expected_options\n   *   An array of combined URL options that should be set on the final URL.\n   *\n   * @covers ::url\n   * @covers ::hasLinkTemplate\n   * @covers ::linkTemplates\n   *\n   * @dataProvider providerTestUrl\n   *\/",441],["T_WHITESPACE","\n  ",458],["T_PUBLIC","public",459],["T_WHITESPACE"," ",459],["T_FUNCTION","function",459],["T_WHITESPACE"," ",459],["T_STRING","testUrl",459],"(",["T_VARIABLE","$rel",459],",",["T_WHITESPACE"," ",459],["T_VARIABLE","$options",459],",",["T_WHITESPACE"," ",459],["T_VARIABLE","$default_options",459],",",["T_WHITESPACE"," ",459],["T_VARIABLE","$expected_options",459],")",["T_WHITESPACE"," ",459],"{",["T_WHITESPACE","\n    ",459],["T_VARIABLE","$entity",460],["T_WHITESPACE"," ",460],"=",["T_WHITESPACE"," ",460],["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","getEntity",460],"(",["T_STRING","Entity",460],["T_DOUBLE_COLON","::",460],["T_CLASS","class",460],",",["T_WHITESPACE"," ",460],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",460],["T_WHITESPACE"," ",460],["T_DOUBLE_ARROW","=>",460],["T_WHITESPACE"," ",460],["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","entityId",460],"]",",",["T_WHITESPACE"," ",460],"[",["T_CONSTANT_ENCAPSED_STRING","'toUrl'",460],"]",")",";",["T_WHITESPACE","\n    ",460],["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","registerLinkTemplate",461],"(",["T_VARIABLE","$rel",461],")",";",["T_WHITESPACE","\n\n    ",461],["T_VARIABLE","$uri",463],["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","prophesize",463],"(",["T_STRING","Url",463],["T_DOUBLE_COLON","::",463],["T_CLASS","class",463],")",";",["T_WHITESPACE","\n    ",463],["T_VARIABLE","$uri",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","getOptions",464],"(",")",["T_OBJECT_OPERATOR","->",464],["T_STRING","willReturn",464],"(",["T_VARIABLE","$default_options",464],")",";",["T_WHITESPACE","\n    ",464],["T_VARIABLE","$uri",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","setOptions",465],"(",["T_VARIABLE","$expected_options",465],")",["T_OBJECT_OPERATOR","->",465],["T_STRING","shouldBeCalled",465],"(",")",";",["T_WHITESPACE","\n\n    ",465],["T_VARIABLE","$url_string",467],["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],"\"",["T_ENCAPSED_AND_WHITESPACE","\/test-entity\/",467],["T_CURLY_OPEN","{",467],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","entityId",467],"}",["T_ENCAPSED_AND_WHITESPACE","\/",467],["T_VARIABLE","$rel",467],"\"",";",["T_WHITESPACE","\n    ",467],["T_VARIABLE","$uri",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","toString",468],"(",")",["T_OBJECT_OPERATOR","->",468],["T_STRING","willReturn",468],"(",["T_VARIABLE","$url_string",468],")",";",["T_WHITESPACE","\n\n    ",468],["T_VARIABLE","$entity",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","expects",470],"(",["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","once",470],"(",")",")",["T_WHITESPACE","\n      ",470],["T_OBJECT_OPERATOR","->",471],["T_STRING","method",471],"(",["T_CONSTANT_ENCAPSED_STRING","'toUrl'",471],")",["T_WHITESPACE","\n      ",471],["T_OBJECT_OPERATOR","->",472],["T_STRING","with",472],"(",["T_VARIABLE","$rel",472],")",["T_WHITESPACE","\n      ",472],["T_OBJECT_OPERATOR","->",473],["T_STRING","willReturn",473],"(",["T_VARIABLE","$uri",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","reveal",473],"(",")",")",";",["T_WHITESPACE","\n\n    ",473],["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","assertEquals",475],"(",["T_VARIABLE","$url_string",475],",",["T_WHITESPACE"," ",475],["T_VARIABLE","$entity",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","url",475],"(",["T_VARIABLE","$rel",475],",",["T_WHITESPACE"," ",475],["T_VARIABLE","$options",475],")",")",";",["T_WHITESPACE","\n  ",475],"}",["T_WHITESPACE","\n\n  ",476],["T_DOC_COMMENT","\/**\n   * Provides data for testUrl().\n   *\n   * @return array\n   *   An array of test cases for testUrl().\n   *\/",478],["T_WHITESPACE","\n  ",483],["T_PUBLIC","public",484],["T_WHITESPACE"," ",484],["T_FUNCTION","function",484],["T_WHITESPACE"," ",484],["T_STRING","providerTestUrl",484],"(",")",["T_WHITESPACE"," ",484],"{",["T_WHITESPACE","\n    ",484],["T_VARIABLE","$test_cases",485],["T_WHITESPACE"," ",485],"=",["T_WHITESPACE"," ",485],"[","]",";",["T_WHITESPACE","\n\n    ",485],["T_VARIABLE","$test_cases",487],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",487],"]",["T_WHITESPACE"," ",487],"=",["T_WHITESPACE"," ",487],"[",["T_CONSTANT_ENCAPSED_STRING","'canonical'",487],",",["T_WHITESPACE"," ",487],"[","]",",",["T_WHITESPACE"," ",487],"[","]",",",["T_WHITESPACE"," ",487],"[","]","]",";",["T_WHITESPACE","\n    ",487],["T_VARIABLE","$test_cases",488],"[",["T_CONSTANT_ENCAPSED_STRING","'revision'",488],"]",["T_WHITESPACE"," ",488],"=",["T_WHITESPACE"," ",488],"[",["T_CONSTANT_ENCAPSED_STRING","'revision'",488],",",["T_WHITESPACE"," ",488],"[","]",",",["T_WHITESPACE"," ",488],"[","]",",",["T_WHITESPACE"," ",488],"[","]","]",";",["T_WHITESPACE","\n    ",488],["T_VARIABLE","$test_cases",489],"[",["T_CONSTANT_ENCAPSED_STRING","'option'",489],"]",["T_WHITESPACE"," ",489],"=",["T_WHITESPACE"," ",489],"[",["T_CONSTANT_ENCAPSED_STRING","'canonical'",489],",",["T_WHITESPACE"," ",489],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",489],["T_WHITESPACE"," ",489],["T_DOUBLE_ARROW","=>",489],["T_WHITESPACE"," ",489],["T_STRING","TRUE",489],"]",",",["T_WHITESPACE"," ",489],"[","]",",",["T_WHITESPACE"," ",489],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",489],["T_WHITESPACE"," ",489],["T_DOUBLE_ARROW","=>",489],["T_WHITESPACE"," ",489],["T_STRING","TRUE",489],"]","]",";",["T_WHITESPACE","\n    ",489],["T_VARIABLE","$test_cases",490],"[",["T_CONSTANT_ENCAPSED_STRING","'default_option'",490],"]",["T_WHITESPACE"," ",490],"=",["T_WHITESPACE"," ",490],"[",["T_CONSTANT_ENCAPSED_STRING","'canonical'",490],",",["T_WHITESPACE"," ",490],"[","]",",",["T_WHITESPACE"," ",490],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",490],["T_WHITESPACE"," ",490],["T_DOUBLE_ARROW","=>",490],["T_WHITESPACE"," ",490],["T_STRING","TRUE",490],"]",",",["T_WHITESPACE"," ",490],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",490],["T_WHITESPACE"," ",490],["T_DOUBLE_ARROW","=>",490],["T_WHITESPACE"," ",490],["T_STRING","TRUE",490],"]","]",";",["T_WHITESPACE","\n    ",490],["T_VARIABLE","$test_cases",491],"[",["T_CONSTANT_ENCAPSED_STRING","'option_merge'",491],"]",["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],"[",["T_CONSTANT_ENCAPSED_STRING","'canonical'",491],",",["T_WHITESPACE"," ",491],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",491],["T_WHITESPACE"," ",491],["T_DOUBLE_ARROW","=>",491],["T_WHITESPACE"," ",491],["T_STRING","TRUE",491],"]",",",["T_WHITESPACE"," ",491],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_type'",491],["T_WHITESPACE"," ",491],["T_DOUBLE_ARROW","=>",491],["T_WHITESPACE"," ",491],["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","entityTypeId",491],"]",",",["T_WHITESPACE"," ",491],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",491],["T_WHITESPACE"," ",491],["T_DOUBLE_ARROW","=>",491],["T_WHITESPACE"," ",491],["T_STRING","TRUE",491],",",["T_WHITESPACE"," ",491],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",491],["T_WHITESPACE"," ",491],["T_DOUBLE_ARROW","=>",491],["T_WHITESPACE"," ",491],["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","entityTypeId",491],"]","]",";",["T_WHITESPACE","\n    ",491],["T_VARIABLE","$test_cases",492],"[",["T_CONSTANT_ENCAPSED_STRING","'option_override'",492],"]",["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],"[",["T_CONSTANT_ENCAPSED_STRING","'canonical'",492],",",["T_WHITESPACE"," ",492],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",492],["T_WHITESPACE"," ",492],["T_DOUBLE_ARROW","=>",492],["T_WHITESPACE"," ",492],["T_STRING","TRUE",492],"]",",",["T_WHITESPACE"," ",492],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",492],["T_WHITESPACE"," ",492],["T_DOUBLE_ARROW","=>",492],["T_WHITESPACE"," ",492],["T_STRING","FALSE",492],"]",",",["T_WHITESPACE"," ",492],"[",["T_CONSTANT_ENCAPSED_STRING","'absolute'",492],["T_WHITESPACE"," ",492],["T_DOUBLE_ARROW","=>",492],["T_WHITESPACE"," ",492],["T_STRING","TRUE",492],"]","]",";",["T_WHITESPACE","\n\n    ",492],["T_RETURN","return",494],["T_WHITESPACE"," ",494],["T_VARIABLE","$test_cases",494],";",["T_WHITESPACE","\n  ",494],"}",["T_WHITESPACE","\n\n  ",495],["T_DOC_COMMENT","\/**\n   * Returns a mock entity for testing.\n   *\n   * @param string $class\n   *   The class name to mock. Should be \\Drupal\\Core\\Entity\\Entity or a\n   *   subclass.\n   * @param array $values\n   *   An array of entity values to construct the mock entity with.\n   * @param array $methods\n   *   (optional) An array of additional methods to mock on the entity object.\n   *   The getEntityType() and entityManager() methods are always mocked.\n   *\n   * @return \\Drupal\\Core\\Entity\\Entity|\\PHPUnit_Framework_MockObject_MockObject\n   *\/",497],["T_WHITESPACE","\n  ",510],["T_PROTECTED","protected",511],["T_WHITESPACE"," ",511],["T_FUNCTION","function",511],["T_WHITESPACE"," ",511],["T_STRING","getEntity",511],"(",["T_VARIABLE","$class",511],",",["T_WHITESPACE"," ",511],["T_ARRAY","array",511],["T_WHITESPACE"," ",511],["T_VARIABLE","$values",511],",",["T_WHITESPACE"," ",511],["T_ARRAY","array",511],["T_WHITESPACE"," ",511],["T_VARIABLE","$methods",511],["T_WHITESPACE"," ",511],"=",["T_WHITESPACE"," ",511],"[","]",")",["T_WHITESPACE"," ",511],"{",["T_WHITESPACE","\n    ",511],["T_VARIABLE","$methods",512],["T_WHITESPACE"," ",512],"=",["T_WHITESPACE"," ",512],["T_STRING","array_merge",512],"(",["T_VARIABLE","$methods",512],",",["T_WHITESPACE"," ",512],"[",["T_CONSTANT_ENCAPSED_STRING","'getEntityType'",512],",",["T_WHITESPACE"," ",512],["T_CONSTANT_ENCAPSED_STRING","'entityManager'",512],"]",")",";",["T_WHITESPACE","\n\n    ",512],["T_COMMENT","\/\/ Prophecy does not allow prophesizing abstract classes while actually\n",514],["T_WHITESPACE","    ",515],["T_COMMENT","\/\/ calling their code. We use Prophecy below because that allows us to\n",515],["T_WHITESPACE","    ",516],["T_COMMENT","\/\/ add method prophecies later while still revealing the prophecy now.\n",516],["T_WHITESPACE","    ",517],["T_VARIABLE","$entity",517],["T_WHITESPACE"," ",517],"=",["T_WHITESPACE"," ",517],["T_VARIABLE","$this",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","getMockBuilder",517],"(",["T_VARIABLE","$class",517],")",["T_WHITESPACE","\n      ",517],["T_OBJECT_OPERATOR","->",518],["T_STRING","setConstructorArgs",518],"(","[",["T_VARIABLE","$values",518],",",["T_WHITESPACE"," ",518],["T_VARIABLE","$this",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","entityTypeId",518],"]",")",["T_WHITESPACE","\n      ",518],["T_OBJECT_OPERATOR","->",519],["T_STRING","setMethods",519],"(",["T_VARIABLE","$methods",519],")",["T_WHITESPACE","\n      ",519],["T_OBJECT_OPERATOR","->",520],["T_STRING","getMockForAbstractClass",520],"(",")",";",["T_WHITESPACE","\n\n    ",520],["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","entityType",522],["T_WHITESPACE"," ",522],"=",["T_WHITESPACE"," ",522],["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","prophesize",522],"(",["T_STRING","EntityTypeInterface",522],["T_DOUBLE_COLON","::",522],["T_CLASS","class",522],")",";",["T_WHITESPACE","\n    ",522],["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","entityType",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","getLinkTemplates",523],"(",")",["T_OBJECT_OPERATOR","->",523],["T_STRING","willReturn",523],"(","[","]",")",";",["T_WHITESPACE","\n    ",523],["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","entityType",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","getKey",524],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",524],")",["T_OBJECT_OPERATOR","->",524],["T_STRING","willReturn",524],"(",["T_STRING","FALSE",524],")",";",["T_WHITESPACE","\n    ",524],["T_VARIABLE","$entity",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","method",525],"(",["T_CONSTANT_ENCAPSED_STRING","'getEntityType'",525],")",["T_OBJECT_OPERATOR","->",525],["T_STRING","willReturn",525],"(",["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","entityType",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","reveal",525],"(",")",")",";",["T_WHITESPACE","\n\n    ",525],["T_VARIABLE","$this",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","entityManager",527],["T_WHITESPACE"," ",527],"=",["T_WHITESPACE"," ",527],["T_VARIABLE","$this",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","prophesize",527],"(",["T_STRING","EntityManagerInterface",527],["T_DOUBLE_COLON","::",527],["T_CLASS","class",527],")",";",["T_WHITESPACE","\n    ",527],["T_VARIABLE","$entity",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","method",528],"(",["T_CONSTANT_ENCAPSED_STRING","'entityManager'",528],")",["T_OBJECT_OPERATOR","->",528],["T_STRING","willReturn",528],"(",["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","entityManager",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","reveal",528],"(",")",")",";",["T_WHITESPACE","\n\n    ",528],["T_RETURN","return",530],["T_WHITESPACE"," ",530],["T_VARIABLE","$entity",530],";",["T_WHITESPACE","\n  ",530],"}",["T_WHITESPACE","\n\n  ",531],["T_DOC_COMMENT","\/**\n   * Asserts that a given URL object matches the expectations.\n   *\n   * @param string $expected_route_name\n   *   The expected route name of the generated URL.\n   * @param array $expected_route_parameters\n   *   The expected route parameters of the generated URL.\n   * @param \\Drupal\\Core\\Entity\\Entity|\\PHPUnit_Framework_MockObject_MockObject $entity\n   *   The entity that is expected to be set as a URL option.\n   * @param bool $has_language\n   *   Whether or not the URL is expected to have a language option.\n   * @param \\Drupal\\Core\\Url $url\n   *   The URL option to make the assertions on.\n   *\/",533],["T_WHITESPACE","\n  ",546],["T_PROTECTED","protected",547],["T_WHITESPACE"," ",547],["T_FUNCTION","function",547],["T_WHITESPACE"," ",547],["T_STRING","assertUrl",547],"(",["T_VARIABLE","$expected_route_name",547],",",["T_WHITESPACE"," ",547],["T_ARRAY","array",547],["T_WHITESPACE"," ",547],["T_VARIABLE","$expected_route_parameters",547],",",["T_WHITESPACE"," ",547],["T_VARIABLE","$entity",547],",",["T_WHITESPACE"," ",547],["T_VARIABLE","$has_language",547],",",["T_WHITESPACE"," ",547],["T_STRING","Url",547],["T_WHITESPACE"," ",547],["T_VARIABLE","$url",547],")",["T_WHITESPACE"," ",547],"{",["T_WHITESPACE","\n    ",547],["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","assertEquals",548],"(",["T_VARIABLE","$expected_route_name",548],",",["T_WHITESPACE"," ",548],["T_VARIABLE","$url",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","getRouteName",548],"(",")",")",";",["T_WHITESPACE","\n    ",548],["T_VARIABLE","$this",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","assertEquals",549],"(",["T_VARIABLE","$expected_route_parameters",549],",",["T_WHITESPACE"," ",549],["T_VARIABLE","$url",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","getRouteParameters",549],"(",")",")",";",["T_WHITESPACE","\n    ",549],["T_VARIABLE","$this",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","assertEquals",550],"(",["T_VARIABLE","$this",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","entityTypeId",550],",",["T_WHITESPACE"," ",550],["T_VARIABLE","$url",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","getOption",550],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type'",550],")",")",";",["T_WHITESPACE","\n    ",550],["T_VARIABLE","$this",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","assertEquals",551],"(",["T_VARIABLE","$entity",551],",",["T_WHITESPACE"," ",551],["T_VARIABLE","$url",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","getOption",551],"(",["T_CONSTANT_ENCAPSED_STRING","'entity'",551],")",")",";",["T_WHITESPACE","\n    ",551],["T_IF","if",552],["T_WHITESPACE"," ",552],"(",["T_VARIABLE","$has_language",552],")",["T_WHITESPACE"," ",552],"{",["T_WHITESPACE","\n      ",552],["T_VARIABLE","$this",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","assertEquals",553],"(",["T_VARIABLE","$this",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","langcode",553],",",["T_WHITESPACE"," ",553],["T_VARIABLE","$url",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","getOption",553],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",553],")",["T_OBJECT_OPERATOR","->",553],["T_STRING","getId",553],"(",")",")",";",["T_WHITESPACE","\n    ",553],"}",["T_WHITESPACE","\n    ",554],["T_ELSE","else",555],["T_WHITESPACE"," ",555],"{",["T_WHITESPACE","\n      ",555],["T_VARIABLE","$this",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","assertNull",556],"(",["T_VARIABLE","$url",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","getOption",556],"(",["T_CONSTANT_ENCAPSED_STRING","'language'",556],")",")",";",["T_WHITESPACE","\n    ",556],"}",["T_WHITESPACE","\n  ",557],"}",["T_WHITESPACE","\n\n  ",558],["T_DOC_COMMENT","\/**\n   * Registers a link template for the mock entity.\n   *\n   * @param string $link_template\n   *   The link template to register.\n   *\/",560],["T_WHITESPACE","\n  ",565],["T_PROTECTED","protected",566],["T_WHITESPACE"," ",566],["T_FUNCTION","function",566],["T_WHITESPACE"," ",566],["T_STRING","registerLinkTemplate",566],"(",["T_VARIABLE","$link_template",566],")",["T_WHITESPACE"," ",566],"{",["T_WHITESPACE","\n    ",566],["T_VARIABLE","$link_templates",567],["T_WHITESPACE"," ",567],"=",["T_WHITESPACE"," ",567],"[",["T_WHITESPACE","\n      ",567],["T_COMMENT","\/\/ The path is actually never used because we never invoke the URL\n",568],["T_WHITESPACE","      ",569],["T_COMMENT","\/\/ generator but perform assertions on the URL object directly.\n",569],["T_WHITESPACE","      ",570],["T_VARIABLE","$link_template",570],["T_WHITESPACE"," ",570],["T_DOUBLE_ARROW","=>",570],["T_WHITESPACE"," ",570],"\"",["T_ENCAPSED_AND_WHITESPACE","\/test-entity\/{test_entity}\/",570],["T_VARIABLE","$link_template",570],"\"",",",["T_WHITESPACE","\n    ",570],"]",";",["T_WHITESPACE","\n    ",571],["T_VARIABLE","$this",572],["T_OBJECT_OPERATOR","->",572],["T_STRING","entityType",572],["T_OBJECT_OPERATOR","->",572],["T_STRING","getLinkTemplates",572],"(",")",["T_OBJECT_OPERATOR","->",572],["T_STRING","willReturn",572],"(",["T_VARIABLE","$link_templates",572],")",";",["T_WHITESPACE","\n  ",572],"}",["T_WHITESPACE","\n\n  ",573],["T_DOC_COMMENT","\/**\n   * Registers bundle information for the mock entity type.\n   *\n   * @param array $bundle_info\n   *   The bundle information to register.\n   *\/",575],["T_WHITESPACE","\n  ",580],["T_PROTECTED","protected",581],["T_WHITESPACE"," ",581],["T_FUNCTION","function",581],["T_WHITESPACE"," ",581],["T_STRING","registerBundleInfo",581],"(",["T_VARIABLE","$bundle_info",581],")",["T_WHITESPACE"," ",581],"{",["T_WHITESPACE","\n    ",581],["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","entityManager",582],["T_WHITESPACE","\n      ",582],["T_OBJECT_OPERATOR","->",583],["T_STRING","getBundleInfo",583],"(",["T_VARIABLE","$this",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","entityTypeId",583],")",["T_WHITESPACE","\n      ",583],["T_OBJECT_OPERATOR","->",584],["T_STRING","willReturn",584],"(","[",["T_VARIABLE","$this",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","entityTypeId",584],["T_WHITESPACE"," ",584],["T_DOUBLE_ARROW","=>",584],["T_WHITESPACE"," ",584],["T_VARIABLE","$bundle_info",584],"]",")",["T_WHITESPACE","\n    ",584],";",["T_WHITESPACE","\n  ",585],"}",["T_WHITESPACE","\n\n",586],"}",["T_WHITESPACE","\n\n",588],["T_ABSTRACT","abstract",590],["T_WHITESPACE"," ",590],["T_CLASS","class",590],["T_WHITESPACE"," ",590],["T_STRING","RevisionableEntity",590],["T_WHITESPACE"," ",590],["T_EXTENDS","extends",590],["T_WHITESPACE"," ",590],["T_STRING","Entity",590],["T_WHITESPACE"," ",590],["T_IMPLEMENTS","implements",590],["T_WHITESPACE"," ",590],["T_STRING","RevisionableInterface",590],["T_WHITESPACE"," ",590],"{","}",["T_WHITESPACE","\n",590]]