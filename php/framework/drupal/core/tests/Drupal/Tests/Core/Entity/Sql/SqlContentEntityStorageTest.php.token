[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_DOC_COMMENT","\/**\n * @file\n * Contains \\Drupal\\Tests\\Core\\Entity\\Sql\\SqlContentEntityStorageTest.\n *\/",3],["T_WHITESPACE","\n\n",6],["T_NAMESPACE","namespace",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Tests",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Sql",8],";",["T_WHITESPACE","\n\n",8],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Cache",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CacheBackendInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Entity",11],["T_NS_SEPARATOR","\\",11],["T_STRING","EntityInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Entity",12],["T_NS_SEPARATOR","\\",12],["T_STRING","EntityStorageInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Core",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Entity",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Sql",13],["T_NS_SEPARATOR","\\",13],["T_STRING","SqlContentEntityStorage",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Drupal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Core",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Language",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Language",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Drupal",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Tests",15],["T_NS_SEPARATOR","\\",15],["T_STRING","UnitTestCase",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","DependencyInjection",16],["T_NS_SEPARATOR","\\",16],["T_STRING","ContainerBuilder",16],";",["T_WHITESPACE","\n\n",16],["T_DOC_COMMENT","\/**\n * @coversDefaultClass \\Drupal\\Core\\Entity\\Sql\\SqlContentEntityStorage\n * @group Entity\n *\/",18],["T_WHITESPACE","\n",21],["T_CLASS","class",22],["T_WHITESPACE"," ",22],["T_STRING","SqlContentEntityStorageTest",22],["T_WHITESPACE"," ",22],["T_EXTENDS","extends",22],["T_WHITESPACE"," ",22],["T_STRING","UnitTestCase",22],["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * The content entity database storage used in this test.\n   *\n   * @var \\Drupal\\Core\\Entity\\Sql\\SqlContentEntityStorage|\\PHPUnit_Framework_MockObject_MockObject\n   *\/",24],["T_WHITESPACE","\n  ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$entityStorage",29],";",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * The mocked entity type used in this test.\n   *\n   * @var \\Drupal\\Core\\Entity\\ContentEntityTypeInterface|\\PHPUnit_Framework_MockObject_MockObject\n   *\/",31],["T_WHITESPACE","\n  ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$entityType",36],";",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * An array of field definitions used for this test, keyed by field name.\n   *\n   * @var \\Drupal\\Core\\Field\\BaseFieldDefinition[]|\\PHPUnit_Framework_MockObject_MockObject[]\n   *\/",38],["T_WHITESPACE","\n  ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$fieldDefinitions",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_ARRAY","array",43],"(",")",";",["T_WHITESPACE","\n\n  ",43],["T_DOC_COMMENT","\/**\n   * The mocked entity manager used in this test.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityManagerInterface|\\PHPUnit_Framework_MockObject_MockObject\n   *\/",45],["T_WHITESPACE","\n  ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$entityManager",50],";",["T_WHITESPACE","\n\n  ",50],["T_DOC_COMMENT","\/**\n   * The entity type ID.\n   *\n   * @var string\n   *\/",52],["T_WHITESPACE","\n  ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$entityTypeId",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",57],";",["T_WHITESPACE","\n\n  ",57],["T_DOC_COMMENT","\/**\n   * The dependency injection container.\n   *\n   * @var \\Symfony\\Component\\DependencyInjection\\ContainerBuilder\n   *\/",59],["T_WHITESPACE","\n  ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$container",64],";",["T_WHITESPACE","\n\n  ",64],["T_DOC_COMMENT","\/**\n   * The module handler.\n   *\n   * @var \\Drupal\\Core\\Extension\\ModuleHandlerInterface|\\PHPUnit_Framework_MockObject_MockObject\n   *\/",66],["T_WHITESPACE","\n  ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$moduleHandler",71],";",["T_WHITESPACE","\n\n  ",71],["T_DOC_COMMENT","\/**\n   * The cache backend to use.\n   *\n   * @var \\Drupal\\Core\\Cache\\CacheBackendInterface|\\PHPUnit_Framework_MockObject_MockObject\n   *\/",73],["T_WHITESPACE","\n  ",77],["T_PROTECTED","protected",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$cache",78],";",["T_WHITESPACE","\n\n  ",78],["T_DOC_COMMENT","\/**\n   * The language manager.\n   *\n   * @var \\Drupal\\Core\\Language\\LanguageManagerInterface|\\PHPUnit_Framework_MockObject_MockObject\n   *\/",80],["T_WHITESPACE","\n  ",84],["T_PROTECTED","protected",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$languageManager",85],";",["T_WHITESPACE","\n\n  ",85],["T_DOC_COMMENT","\/**\n   * The database connection to use.\n   *\n   * @var \\Drupal\\Core\\Database\\Connection|\\PHPUnit_Framework_MockObject_MockObject\n   *\/",87],["T_WHITESPACE","\n  ",91],["T_PROTECTED","protected",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$connection",92],";",["T_WHITESPACE","\n\n  ",92],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",94],["T_WHITESPACE","\n  ",96],["T_PROTECTED","protected",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","setUp",97],"(",")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n    ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","entityType",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getMock",98],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Entity\\ContentEntityTypeInterface'",98],")",";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","entityType",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","expects",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","any",99],"(",")",")",["T_WHITESPACE","\n      ",99],["T_OBJECT_OPERATOR","->",100],["T_STRING","method",100],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",100],")",["T_WHITESPACE","\n      ",100],["T_OBJECT_OPERATOR","->",101],["T_STRING","will",101],"(",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","returnValue",101],"(",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","entityTypeId",101],")",")",";",["T_WHITESPACE","\n\n    ",101],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","container",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_NEW","new",103],["T_WHITESPACE"," ",103],["T_STRING","ContainerBuilder",103],"(",")",";",["T_WHITESPACE","\n    ",103],["T_NS_SEPARATOR","\\",104],["T_STRING","Drupal",104],["T_DOUBLE_COLON","::",104],["T_STRING","setContainer",104],"(",["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","container",104],")",";",["T_WHITESPACE","\n\n    ",104],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","entityManager",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getMock",106],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Entity\\EntityManagerInterface'",106],")",";",["T_WHITESPACE","\n    ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","moduleHandler",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getMock",107],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Extension\\ModuleHandlerInterface'",107],")",";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","cache",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getMock",108],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Cache\\CacheBackendInterface'",108],")",";",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","languageManager",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getMock",109],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Language\\LanguageManagerInterface'",109],")",";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","languageManager",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","expects",110],"(",["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","any",110],"(",")",")",["T_WHITESPACE","\n      ",110],["T_OBJECT_OPERATOR","->",111],["T_STRING","method",111],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefaultLanguage'",111],")",["T_WHITESPACE","\n      ",111],["T_OBJECT_OPERATOR","->",112],["T_STRING","will",112],"(",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","returnValue",112],"(",["T_NEW","new",112],["T_WHITESPACE"," ",112],["T_STRING","Language",112],"(",["T_ARRAY","array",112],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'en'",112],")",")",")",")",";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","connection",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getMockBuilder",113],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Database\\Connection'",113],")",["T_WHITESPACE","\n      ",113],["T_OBJECT_OPERATOR","->",114],["T_STRING","disableOriginalConstructor",114],"(",")",["T_WHITESPACE","\n      ",114],["T_OBJECT_OPERATOR","->",115],["T_STRING","getMock",115],"(",")",";",["T_WHITESPACE","\n  ",115],"}",["T_WHITESPACE","\n\n  ",116],["T_DOC_COMMENT","\/**\n   * Tests SqlContentEntityStorage::getBaseTable().\n   *\n   * @param string $base_table\n   *   The base table to be returned by the mocked entity type.\n   * @param string $expected\n   *   The expected return value of\n   *   SqlContentEntityStorage::getBaseTable().\n   *\n   * @covers ::__construct\n   * @covers ::getBaseTable\n   *\n   * @dataProvider providerTestGetBaseTable\n   *\/",118],["T_WHITESPACE","\n  ",131],["T_PUBLIC","public",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","testGetBaseTable",132],"(",["T_VARIABLE","$base_table",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$expected",132],")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n    ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","entityType",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","expects",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","once",133],"(",")",")",["T_WHITESPACE","\n      ",133],["T_OBJECT_OPERATOR","->",134],["T_STRING","method",134],"(",["T_CONSTANT_ENCAPSED_STRING","'getBaseTable'",134],")",["T_WHITESPACE","\n      ",134],["T_OBJECT_OPERATOR","->",135],["T_STRING","willReturn",135],"(",["T_VARIABLE","$base_table",135],")",";",["T_WHITESPACE","\n\n    ",135],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","setUpEntityStorage",137],"(",")",";",["T_WHITESPACE","\n\n    ",137],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","assertSame",139],"(",["T_VARIABLE","$expected",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","entityStorage",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getBaseTable",139],"(",")",")",";",["T_WHITESPACE","\n  ",139],"}",["T_WHITESPACE","\n\n  ",140],["T_DOC_COMMENT","\/**\n   * Provides test data for testGetBaseTable().\n   *\n   * @return array[]\n   *   An nested array where each inner array has the base table to be returned\n   *   by the mocked entity type as the first value and the expected return\n   *   value of SqlContentEntityStorage::getBaseTable() as the second\n   *   value.\n   *\/",142],["T_WHITESPACE","\n  ",150],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","providerTestGetBaseTable",151],"(",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n    ",151],["T_RETURN","return",152],["T_WHITESPACE"," ",152],["T_ARRAY","array",152],"(",["T_WHITESPACE","\n      ",152],["T_COMMENT","\/\/ Test that the entity type's base table is used, if provided.\n",153],["T_WHITESPACE","      ",154],["T_ARRAY","array",154],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",154],",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",154],")",",",["T_WHITESPACE","\n      ",154],["T_COMMENT","\/\/ Test that the storage falls back to the entity type ID.\n",155],["T_WHITESPACE","      ",156],["T_ARRAY","array",156],"(",["T_STRING","NULL",156],",",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",156],")",",",["T_WHITESPACE","\n    ",156],")",";",["T_WHITESPACE","\n  ",157],"}",["T_WHITESPACE","\n\n  ",158],["T_DOC_COMMENT","\/**\n   * Tests SqlContentEntityStorage::getRevisionTable().\n   *\n   * @param string $revision_table\n   *   The revision table to be returned by the mocked entity type.\n   * @param string $expected\n   *   The expected return value of\n   *   SqlContentEntityStorage::getRevisionTable().\n   *\n   * @covers ::__construct\n   * @covers ::getRevisionTable\n   *\n   * @dataProvider providerTestGetRevisionTable\n   *\/",160],["T_WHITESPACE","\n  ",173],["T_PUBLIC","public",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","testGetRevisionTable",174],"(",["T_VARIABLE","$revision_table",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$expected",174],")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n    ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","entityType",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","expects",175],"(",["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","once",175],"(",")",")",["T_WHITESPACE","\n      ",175],["T_OBJECT_OPERATOR","->",176],["T_STRING","method",176],"(",["T_CONSTANT_ENCAPSED_STRING","'isRevisionable'",176],")",["T_WHITESPACE","\n      ",176],["T_OBJECT_OPERATOR","->",177],["T_STRING","will",177],"(",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","returnValue",177],"(",["T_STRING","TRUE",177],")",")",";",["T_WHITESPACE","\n    ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","entityType",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","expects",178],"(",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","once",178],"(",")",")",["T_WHITESPACE","\n      ",178],["T_OBJECT_OPERATOR","->",179],["T_STRING","method",179],"(",["T_CONSTANT_ENCAPSED_STRING","'getRevisionTable'",179],")",["T_WHITESPACE","\n      ",179],["T_OBJECT_OPERATOR","->",180],["T_STRING","will",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","returnValue",180],"(",["T_VARIABLE","$revision_table",180],")",")",";",["T_WHITESPACE","\n\n    ",180],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","setUpEntityStorage",182],"(",")",";",["T_WHITESPACE","\n\n    ",182],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","assertSame",184],"(",["T_VARIABLE","$expected",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","entityStorage",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getRevisionTable",184],"(",")",")",";",["T_WHITESPACE","\n  ",184],"}",["T_WHITESPACE","\n\n  ",185],["T_DOC_COMMENT","\/**\n   * Provides test data for testGetRevisionTable().\n   *\n   * @return array[]\n   *   An nested array where each inner array has the revision table to be\n   *   returned by the mocked entity type as the first value and the expected\n   *   return value of SqlContentEntityStorage::getRevisionTable() as the\n   *   second value.\n   *\/",187],["T_WHITESPACE","\n  ",195],["T_PUBLIC","public",196],["T_WHITESPACE"," ",196],["T_FUNCTION","function",196],["T_WHITESPACE"," ",196],["T_STRING","providerTestGetRevisionTable",196],"(",")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n    ",196],["T_RETURN","return",197],["T_WHITESPACE"," ",197],["T_ARRAY","array",197],"(",["T_WHITESPACE","\n      ",197],["T_COMMENT","\/\/ Test that the entity type's revision table is used, if provided.\n",198],["T_WHITESPACE","      ",199],["T_ARRAY","array",199],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_revision'",199],",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'entity_test_revision'",199],")",",",["T_WHITESPACE","\n      ",199],["T_COMMENT","\/\/ Test that the storage falls back to the entity type ID with a\n",200],["T_WHITESPACE","      ",201],["T_COMMENT","\/\/ '_revision' suffix.\n",201],["T_WHITESPACE","      ",202],["T_ARRAY","array",202],"(",["T_STRING","NULL",202],",",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'entity_test_revision'",202],")",",",["T_WHITESPACE","\n    ",202],")",";",["T_WHITESPACE","\n  ",203],"}",["T_WHITESPACE","\n\n  ",204],["T_DOC_COMMENT","\/**\n   * Tests SqlContentEntityStorage::getDataTable().\n   *\n   * @covers ::__construct\n   * @covers ::getDataTable\n   *\/",206],["T_WHITESPACE","\n  ",211],["T_PUBLIC","public",212],["T_WHITESPACE"," ",212],["T_FUNCTION","function",212],["T_WHITESPACE"," ",212],["T_STRING","testGetDataTable",212],"(",")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n    ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","entityType",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","expects",213],"(",["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","once",213],"(",")",")",["T_WHITESPACE","\n      ",213],["T_OBJECT_OPERATOR","->",214],["T_STRING","method",214],"(",["T_CONSTANT_ENCAPSED_STRING","'isTranslatable'",214],")",["T_WHITESPACE","\n      ",214],["T_OBJECT_OPERATOR","->",215],["T_STRING","will",215],"(",["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","returnValue",215],"(",["T_STRING","TRUE",215],")",")",";",["T_WHITESPACE","\n    ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","entityType",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","expects",216],"(",["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","exactly",216],"(",["T_LNUMBER","1",216],")",")",["T_WHITESPACE","\n      ",216],["T_OBJECT_OPERATOR","->",217],["T_STRING","method",217],"(",["T_CONSTANT_ENCAPSED_STRING","'getDataTable'",217],")",["T_WHITESPACE","\n      ",217],["T_OBJECT_OPERATOR","->",218],["T_STRING","will",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","returnValue",218],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_data'",218],")",")",";",["T_WHITESPACE","\n\n    ",218],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","setUpEntityStorage",220],"(",")",";",["T_WHITESPACE","\n\n    ",220],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","assertSame",222],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_data'",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","entityStorage",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getDataTable",222],"(",")",")",";",["T_WHITESPACE","\n  ",222],"}",["T_WHITESPACE","\n\n  ",223],["T_DOC_COMMENT","\/**\n   * Tests SqlContentEntityStorage::getRevisionDataTable().\n   *\n   * @param string $revision_data_table\n   *   The revision data table to be returned by the mocked entity type.\n   * @param string $expected\n   *   The expected return value of\n   *   SqlContentEntityStorage::getRevisionDataTable().\n   *\n   * @covers ::__construct\n   * @covers ::getRevisionDataTable\n   *\n   * @dataProvider providerTestGetRevisionDataTable\n   *\/",225],["T_WHITESPACE","\n  ",238],["T_PUBLIC","public",239],["T_WHITESPACE"," ",239],["T_FUNCTION","function",239],["T_WHITESPACE"," ",239],["T_STRING","testGetRevisionDataTable",239],"(",["T_VARIABLE","$revision_data_table",239],",",["T_WHITESPACE"," ",239],["T_VARIABLE","$expected",239],")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n    ",239],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","entityType",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","expects",240],"(",["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","once",240],"(",")",")",["T_WHITESPACE","\n      ",240],["T_OBJECT_OPERATOR","->",241],["T_STRING","method",241],"(",["T_CONSTANT_ENCAPSED_STRING","'isRevisionable'",241],")",["T_WHITESPACE","\n      ",241],["T_OBJECT_OPERATOR","->",242],["T_STRING","will",242],"(",["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","returnValue",242],"(",["T_STRING","TRUE",242],")",")",";",["T_WHITESPACE","\n    ",242],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","entityType",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","expects",243],"(",["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","once",243],"(",")",")",["T_WHITESPACE","\n      ",243],["T_OBJECT_OPERATOR","->",244],["T_STRING","method",244],"(",["T_CONSTANT_ENCAPSED_STRING","'isTranslatable'",244],")",["T_WHITESPACE","\n      ",244],["T_OBJECT_OPERATOR","->",245],["T_STRING","will",245],"(",["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","returnValue",245],"(",["T_STRING","TRUE",245],")",")",";",["T_WHITESPACE","\n    ",245],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","entityType",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","expects",246],"(",["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","exactly",246],"(",["T_LNUMBER","1",246],")",")",["T_WHITESPACE","\n      ",246],["T_OBJECT_OPERATOR","->",247],["T_STRING","method",247],"(",["T_CONSTANT_ENCAPSED_STRING","'getDataTable'",247],")",["T_WHITESPACE","\n      ",247],["T_OBJECT_OPERATOR","->",248],["T_STRING","will",248],"(",["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","returnValue",248],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_data'",248],")",")",";",["T_WHITESPACE","\n    ",248],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","entityType",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","expects",249],"(",["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","once",249],"(",")",")",["T_WHITESPACE","\n      ",249],["T_OBJECT_OPERATOR","->",250],["T_STRING","method",250],"(",["T_CONSTANT_ENCAPSED_STRING","'getRevisionDataTable'",250],")",["T_WHITESPACE","\n      ",250],["T_OBJECT_OPERATOR","->",251],["T_STRING","will",251],"(",["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","returnValue",251],"(",["T_VARIABLE","$revision_data_table",251],")",")",";",["T_WHITESPACE","\n\n    ",251],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","setUpEntityStorage",253],"(",")",";",["T_WHITESPACE","\n\n    ",253],["T_VARIABLE","$actual",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","entityStorage",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getRevisionDataTable",255],"(",")",";",["T_WHITESPACE","\n    ",255],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","assertSame",256],"(",["T_VARIABLE","$expected",256],",",["T_WHITESPACE"," ",256],["T_VARIABLE","$actual",256],")",";",["T_WHITESPACE","\n  ",256],"}",["T_WHITESPACE","\n\n  ",257],["T_DOC_COMMENT","\/**\n   * Provides test data for testGetRevisionDataTable().\n   *\n   * @return array[]\n   *   An nested array where each inner array has the revision data table to be\n   *   returned by the mocked entity type as the first value and the expected\n   *   return value of SqlContentEntityStorage::getRevisionDataTable() as\n   *   the second value.\n   *\/",259],["T_WHITESPACE","\n  ",267],["T_PUBLIC","public",268],["T_WHITESPACE"," ",268],["T_FUNCTION","function",268],["T_WHITESPACE"," ",268],["T_STRING","providerTestGetRevisionDataTable",268],"(",")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n    ",268],["T_RETURN","return",269],["T_WHITESPACE"," ",269],["T_ARRAY","array",269],"(",["T_WHITESPACE","\n      ",269],["T_COMMENT","\/\/ Test that the entity type's revision data table is used, if provided.\n",270],["T_WHITESPACE","      ",271],["T_ARRAY","array",271],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_revision'",271],",",["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_revision'",271],")",",",["T_WHITESPACE","\n      ",271],["T_COMMENT","\/\/ Test that the storage falls back to the entity type ID with a\n",272],["T_WHITESPACE","      ",273],["T_COMMENT","\/\/ '_field_revision' suffix.\n",273],["T_WHITESPACE","      ",274],["T_ARRAY","array",274],"(",["T_STRING","NULL",274],",",["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_revision'",274],")",",",["T_WHITESPACE","\n    ",274],")",";",["T_WHITESPACE","\n  ",275],"}",["T_WHITESPACE","\n\n  ",276],["T_DOC_COMMENT","\/**\n   * Tests ContentEntityDatabaseStorage::onEntityTypeCreate().\n   *\n   * @covers ::__construct\n   * @covers ::onEntityTypeCreate\n   * @covers ::getTableMapping\n   *\/",278],["T_WHITESPACE","\n  ",284],["T_PUBLIC","public",285],["T_WHITESPACE"," ",285],["T_FUNCTION","function",285],["T_WHITESPACE"," ",285],["T_STRING","testOnEntityTypeCreate",285],"(",")",["T_WHITESPACE"," ",285],"{",["T_WHITESPACE","\n    ",285],["T_VARIABLE","$columns",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_ARRAY","array",286],"(",["T_WHITESPACE","\n      ",286],["T_CONSTANT_ENCAPSED_STRING","'value'",287],["T_WHITESPACE"," ",287],["T_DOUBLE_ARROW","=>",287],["T_WHITESPACE"," ",287],["T_ARRAY","array",287],"(",["T_WHITESPACE","\n        ",287],["T_CONSTANT_ENCAPSED_STRING","'type'",288],["T_WHITESPACE"," ",288],["T_DOUBLE_ARROW","=>",288],["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","'int'",288],",",["T_WHITESPACE","\n      ",288],")",",",["T_WHITESPACE","\n    ",289],")",";",["T_WHITESPACE","\n\n    ",290],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","fieldDefinitions",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","mockFieldDefinitions",292],"(",["T_ARRAY","array",292],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",292],")",")",";",["T_WHITESPACE","\n    ",292],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","fieldDefinitions",293],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",293],"]",["T_OBJECT_OPERATOR","->",293],["T_STRING","expects",293],"(",["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","any",293],"(",")",")",["T_WHITESPACE","\n      ",293],["T_OBJECT_OPERATOR","->",294],["T_STRING","method",294],"(",["T_CONSTANT_ENCAPSED_STRING","'getColumns'",294],")",["T_WHITESPACE","\n      ",294],["T_OBJECT_OPERATOR","->",295],["T_STRING","will",295],"(",["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","returnValue",295],"(",["T_VARIABLE","$columns",295],")",")",";",["T_WHITESPACE","\n    ",295],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","fieldDefinitions",296],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",296],"]",["T_OBJECT_OPERATOR","->",296],["T_STRING","expects",296],"(",["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","once",296],"(",")",")",["T_WHITESPACE","\n      ",296],["T_OBJECT_OPERATOR","->",297],["T_STRING","method",297],"(",["T_CONSTANT_ENCAPSED_STRING","'getSchema'",297],")",["T_WHITESPACE","\n      ",297],["T_OBJECT_OPERATOR","->",298],["T_STRING","will",298],"(",["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","returnValue",298],"(",["T_ARRAY","array",298],"(",["T_CONSTANT_ENCAPSED_STRING","'columns'",298],["T_WHITESPACE"," ",298],["T_DOUBLE_ARROW","=>",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$columns",298],")",")",")",";",["T_WHITESPACE","\n\n    ",298],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","entityType",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","expects",300],"(",["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","once",300],"(",")",")",["T_WHITESPACE","\n      ",300],["T_OBJECT_OPERATOR","->",301],["T_STRING","method",301],"(",["T_CONSTANT_ENCAPSED_STRING","'getKeys'",301],")",["T_WHITESPACE","\n      ",301],["T_OBJECT_OPERATOR","->",302],["T_STRING","will",302],"(",["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","returnValue",302],"(",["T_ARRAY","array",302],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",302],["T_WHITESPACE"," ",302],["T_DOUBLE_ARROW","=>",302],["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","'id'",302],")",")",")",";",["T_WHITESPACE","\n    ",302],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","entityType",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","expects",303],"(",["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","any",303],"(",")",")",["T_WHITESPACE","\n      ",303],["T_OBJECT_OPERATOR","->",304],["T_STRING","method",304],"(",["T_CONSTANT_ENCAPSED_STRING","'getKey'",304],")",["T_WHITESPACE","\n      ",304],["T_OBJECT_OPERATOR","->",305],["T_STRING","will",305],"(",["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","returnValueMap",305],"(",["T_ARRAY","array",305],"(",["T_WHITESPACE","\n        ",305],["T_COMMENT","\/\/ EntityStorageBase::__construct()\n",306],["T_WHITESPACE","        ",307],["T_ARRAY","array",307],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",307],",",["T_WHITESPACE"," ",307],["T_CONSTANT_ENCAPSED_STRING","'id'",307],")",",",["T_WHITESPACE","\n        ",307],["T_COMMENT","\/\/ ContentEntityStorageBase::__construct()\n",308],["T_WHITESPACE","        ",309],["T_ARRAY","array",309],"(",["T_CONSTANT_ENCAPSED_STRING","'uuid'",309],",",["T_WHITESPACE"," ",309],["T_STRING","NULL",309],")",",",["T_WHITESPACE","\n        ",309],["T_ARRAY","array",310],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle'",310],",",["T_WHITESPACE"," ",310],["T_STRING","NULL",310],")",",",["T_WHITESPACE","\n        ",310],["T_COMMENT","\/\/ SqlContentEntityStorageSchema::initializeBaseTable()\n",311],["T_WHITESPACE","        ",312],["T_ARRAY","array",312],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",312],["T_WHITESPACE"," ",312],["T_DOUBLE_ARROW","=>",312],["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","'id'",312],")",",",["T_WHITESPACE","\n        ",312],["T_COMMENT","\/\/ SqlContentEntityStorageSchema::processBaseTable()\n",313],["T_WHITESPACE","        ",314],["T_ARRAY","array",314],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",314],["T_WHITESPACE"," ",314],["T_DOUBLE_ARROW","=>",314],["T_WHITESPACE"," ",314],["T_CONSTANT_ENCAPSED_STRING","'id'",314],")",",",["T_WHITESPACE","\n      ",314],")",")",")",";",["T_WHITESPACE","\n\n    ",315],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","setUpEntityStorage",317],"(",")",";",["T_WHITESPACE","\n\n    ",317],["T_VARIABLE","$expected",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_ARRAY","array",319],"(",["T_WHITESPACE","\n      ",319],["T_CONSTANT_ENCAPSED_STRING","'description'",320],["T_WHITESPACE"," ",320],["T_DOUBLE_ARROW","=>",320],["T_WHITESPACE"," ",320],["T_CONSTANT_ENCAPSED_STRING","'The base table for entity_test entities.'",320],",",["T_WHITESPACE","\n      ",320],["T_CONSTANT_ENCAPSED_STRING","'fields'",321],["T_WHITESPACE"," ",321],["T_DOUBLE_ARROW","=>",321],["T_WHITESPACE"," ",321],["T_ARRAY","array",321],"(",["T_WHITESPACE","\n        ",321],["T_CONSTANT_ENCAPSED_STRING","'id'",322],["T_WHITESPACE"," ",322],["T_DOUBLE_ARROW","=>",322],["T_WHITESPACE"," ",322],["T_ARRAY","array",322],"(",["T_WHITESPACE","\n          ",322],["T_CONSTANT_ENCAPSED_STRING","'type'",323],["T_WHITESPACE"," ",323],["T_DOUBLE_ARROW","=>",323],["T_WHITESPACE"," ",323],["T_CONSTANT_ENCAPSED_STRING","'serial'",323],",",["T_WHITESPACE","\n          ",323],["T_CONSTANT_ENCAPSED_STRING","'not null'",324],["T_WHITESPACE"," ",324],["T_DOUBLE_ARROW","=>",324],["T_WHITESPACE"," ",324],["T_STRING","TRUE",324],",",["T_WHITESPACE","\n        ",324],")",",",["T_WHITESPACE","\n      ",325],")",",",["T_WHITESPACE","\n      ",326],["T_CONSTANT_ENCAPSED_STRING","'primary key'",327],["T_WHITESPACE"," ",327],["T_DOUBLE_ARROW","=>",327],["T_WHITESPACE"," ",327],["T_ARRAY","array",327],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",327],")",",",["T_WHITESPACE","\n      ",327],["T_CONSTANT_ENCAPSED_STRING","'unique keys'",328],["T_WHITESPACE"," ",328],["T_DOUBLE_ARROW","=>",328],["T_WHITESPACE"," ",328],["T_ARRAY","array",328],"(",")",",",["T_WHITESPACE","\n      ",328],["T_CONSTANT_ENCAPSED_STRING","'indexes'",329],["T_WHITESPACE"," ",329],["T_DOUBLE_ARROW","=>",329],["T_WHITESPACE"," ",329],["T_ARRAY","array",329],"(",")",",",["T_WHITESPACE","\n      ",329],["T_CONSTANT_ENCAPSED_STRING","'foreign keys'",330],["T_WHITESPACE"," ",330],["T_DOUBLE_ARROW","=>",330],["T_WHITESPACE"," ",330],["T_ARRAY","array",330],"(",")",",",["T_WHITESPACE","\n    ",330],")",";",["T_WHITESPACE","\n\n    ",331],["T_VARIABLE","$schema_handler",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","getMockBuilder",333],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Database\\Schema'",333],")",["T_WHITESPACE","\n      ",333],["T_OBJECT_OPERATOR","->",334],["T_STRING","disableOriginalConstructor",334],"(",")",["T_WHITESPACE","\n      ",334],["T_OBJECT_OPERATOR","->",335],["T_STRING","getMock",335],"(",")",";",["T_WHITESPACE","\n    ",335],["T_VARIABLE","$schema_handler",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","expects",336],"(",["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","any",336],"(",")",")",["T_WHITESPACE","\n      ",336],["T_OBJECT_OPERATOR","->",337],["T_STRING","method",337],"(",["T_CONSTANT_ENCAPSED_STRING","'createTable'",337],")",["T_WHITESPACE","\n      ",337],["T_OBJECT_OPERATOR","->",338],["T_STRING","with",338],"(",["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","equalTo",338],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",338],")",",",["T_WHITESPACE"," ",338],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","equalTo",338],"(",["T_VARIABLE","$expected",338],")",")",";",["T_WHITESPACE","\n\n    ",338],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","connection",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","expects",340],"(",["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","once",340],"(",")",")",["T_WHITESPACE","\n      ",340],["T_OBJECT_OPERATOR","->",341],["T_STRING","method",341],"(",["T_CONSTANT_ENCAPSED_STRING","'schema'",341],")",["T_WHITESPACE","\n      ",341],["T_OBJECT_OPERATOR","->",342],["T_STRING","will",342],"(",["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","returnValue",342],"(",["T_VARIABLE","$schema_handler",342],")",")",";",["T_WHITESPACE","\n\n    ",342],["T_VARIABLE","$storage",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","getMockBuilder",344],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Entity\\Sql\\SqlContentEntityStorage'",344],")",["T_WHITESPACE","\n      ",344],["T_OBJECT_OPERATOR","->",345],["T_STRING","setConstructorArgs",345],"(",["T_ARRAY","array",345],"(",["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","entityType",345],",",["T_WHITESPACE"," ",345],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","connection",345],",",["T_WHITESPACE"," ",345],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","entityManager",345],",",["T_WHITESPACE"," ",345],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","cache",345],",",["T_WHITESPACE"," ",345],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","languageManager",345],")",")",["T_WHITESPACE","\n      ",345],["T_OBJECT_OPERATOR","->",346],["T_STRING","setMethods",346],"(",["T_ARRAY","array",346],"(",["T_CONSTANT_ENCAPSED_STRING","'getStorageSchema'",346],")",")",["T_WHITESPACE","\n      ",346],["T_OBJECT_OPERATOR","->",347],["T_STRING","getMock",347],"(",")",";",["T_WHITESPACE","\n\n    ",347],["T_VARIABLE","$key_value",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","getMock",349],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\KeyValueStore\\KeyValueStoreInterface'",349],")",";",["T_WHITESPACE","\n    ",349],["T_VARIABLE","$schema_handler",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","getMockBuilder",350],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Entity\\Sql\\SqlContentEntityStorageSchema'",350],")",["T_WHITESPACE","\n      ",350],["T_OBJECT_OPERATOR","->",351],["T_STRING","setConstructorArgs",351],"(",["T_ARRAY","array",351],"(",["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","entityManager",351],",",["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","entityType",351],",",["T_WHITESPACE"," ",351],["T_VARIABLE","$storage",351],",",["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","connection",351],")",")",["T_WHITESPACE","\n      ",351],["T_OBJECT_OPERATOR","->",352],["T_STRING","setMethods",352],"(",["T_ARRAY","array",352],"(",["T_CONSTANT_ENCAPSED_STRING","'installedStorageSchema'",352],",",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","'createSharedTableSchema'",352],")",")",["T_WHITESPACE","\n      ",352],["T_OBJECT_OPERATOR","->",353],["T_STRING","getMock",353],"(",")",";",["T_WHITESPACE","\n    ",353],["T_VARIABLE","$schema_handler",354],["T_WHITESPACE","\n      ",354],["T_OBJECT_OPERATOR","->",355],["T_STRING","expects",355],"(",["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","any",355],"(",")",")",["T_WHITESPACE","\n      ",355],["T_OBJECT_OPERATOR","->",356],["T_STRING","method",356],"(",["T_CONSTANT_ENCAPSED_STRING","'installedStorageSchema'",356],")",["T_WHITESPACE","\n      ",356],["T_OBJECT_OPERATOR","->",357],["T_STRING","will",357],"(",["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","returnValue",357],"(",["T_VARIABLE","$key_value",357],")",")",";",["T_WHITESPACE","\n\n    ",357],["T_VARIABLE","$storage",359],["T_WHITESPACE","\n      ",359],["T_OBJECT_OPERATOR","->",360],["T_STRING","expects",360],"(",["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","any",360],"(",")",")",["T_WHITESPACE","\n      ",360],["T_OBJECT_OPERATOR","->",361],["T_STRING","method",361],"(",["T_CONSTANT_ENCAPSED_STRING","'getStorageSchema'",361],")",["T_WHITESPACE","\n      ",361],["T_OBJECT_OPERATOR","->",362],["T_STRING","will",362],"(",["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","returnValue",362],"(",["T_VARIABLE","$schema_handler",362],")",")",";",["T_WHITESPACE","\n\n    ",362],["T_VARIABLE","$storage",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","onEntityTypeCreate",364],"(",["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","entityType",364],")",";",["T_WHITESPACE","\n  ",364],"}",["T_WHITESPACE","\n\n  ",365],["T_DOC_COMMENT","\/**\n   * Tests getTableMapping() with an empty entity type.\n   *\n   * @covers ::__construct\n   * @covers ::getTableMapping\n   *\/",367],["T_WHITESPACE","\n  ",372],["T_PUBLIC","public",373],["T_WHITESPACE"," ",373],["T_FUNCTION","function",373],["T_WHITESPACE"," ",373],["T_STRING","testGetTableMappingEmpty",373],"(",")",["T_WHITESPACE"," ",373],"{",["T_WHITESPACE","\n    ",373],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","setUpEntityStorage",374],"(",")",";",["T_WHITESPACE","\n\n    ",374],["T_VARIABLE","$mapping",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","entityStorage",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","getTableMapping",376],"(",")",";",["T_WHITESPACE","\n    ",376],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","assertSame",377],"(",["T_ARRAY","array",377],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",377],")",",",["T_WHITESPACE"," ",377],["T_VARIABLE","$mapping",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","getTableNames",377],"(",")",")",";",["T_WHITESPACE","\n    ",377],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","assertSame",378],"(",["T_ARRAY","array",378],"(",")",",",["T_WHITESPACE"," ",378],["T_VARIABLE","$mapping",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","getFieldNames",378],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",378],")",")",";",["T_WHITESPACE","\n    ",378],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","assertSame",379],"(",["T_ARRAY","array",379],"(",")",",",["T_WHITESPACE"," ",379],["T_VARIABLE","$mapping",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","getExtraColumns",379],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",379],")",")",";",["T_WHITESPACE","\n  ",379],"}",["T_WHITESPACE","\n\n  ",380],["T_DOC_COMMENT","\/**\n   * Tests getTableMapping() with a simple entity type.\n   *\n   * @param string[] $entity_keys\n   *   A map of entity keys to use for the mocked entity type.\n   *\n   * @covers ::__construct\n   * @covers ::getTableMapping\n   *\n   * @dataProvider providerTestGetTableMappingSimple()\n   *\/",382],["T_WHITESPACE","\n  ",392],["T_PUBLIC","public",393],["T_WHITESPACE"," ",393],["T_FUNCTION","function",393],["T_WHITESPACE"," ",393],["T_STRING","testGetTableMappingSimple",393],"(",["T_ARRAY","array",393],["T_WHITESPACE"," ",393],["T_VARIABLE","$entity_keys",393],")",["T_WHITESPACE"," ",393],"{",["T_WHITESPACE","\n    ",393],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","entityType",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","expects",394],"(",["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","any",394],"(",")",")",["T_WHITESPACE","\n      ",394],["T_OBJECT_OPERATOR","->",395],["T_STRING","method",395],"(",["T_CONSTANT_ENCAPSED_STRING","'getKey'",395],")",["T_WHITESPACE","\n      ",395],["T_OBJECT_OPERATOR","->",396],["T_STRING","will",396],"(",["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","returnValueMap",396],"(",["T_ARRAY","array",396],"(",["T_WHITESPACE","\n        ",396],["T_ARRAY","array",397],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",397],",",["T_WHITESPACE"," ",397],["T_VARIABLE","$entity_keys",397],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",397],"]",")",",",["T_WHITESPACE","\n        ",397],["T_ARRAY","array",398],"(",["T_CONSTANT_ENCAPSED_STRING","'uuid'",398],",",["T_WHITESPACE"," ",398],["T_VARIABLE","$entity_keys",398],"[",["T_CONSTANT_ENCAPSED_STRING","'uuid'",398],"]",")",",",["T_WHITESPACE","\n        ",398],["T_ARRAY","array",399],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle'",399],",",["T_WHITESPACE"," ",399],["T_VARIABLE","$entity_keys",399],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",399],"]",")",",",["T_WHITESPACE","\n      ",399],")",")",")",";",["T_WHITESPACE","\n\n    ",400],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","setUpEntityStorage",402],"(",")",";",["T_WHITESPACE","\n\n    ",402],["T_VARIABLE","$mapping",404],["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","entityStorage",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","getTableMapping",404],"(",")",";",["T_WHITESPACE","\n\n    ",404],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","assertEquals",406],"(",["T_ARRAY","array",406],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",406],")",",",["T_WHITESPACE"," ",406],["T_VARIABLE","$mapping",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","getTableNames",406],"(",")",")",";",["T_WHITESPACE","\n\n    ",406],["T_VARIABLE","$expected",408],["T_WHITESPACE"," ",408],"=",["T_WHITESPACE"," ",408],["T_STRING","array_values",408],"(",["T_STRING","array_filter",408],"(",["T_VARIABLE","$entity_keys",408],")",")",";",["T_WHITESPACE","\n    ",408],["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","assertEquals",409],"(",["T_VARIABLE","$expected",409],",",["T_WHITESPACE"," ",409],["T_VARIABLE","$mapping",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","getFieldNames",409],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",409],")",")",";",["T_WHITESPACE","\n\n    ",409],["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","assertEquals",411],"(",["T_ARRAY","array",411],"(",")",",",["T_WHITESPACE"," ",411],["T_VARIABLE","$mapping",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","getExtraColumns",411],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",411],")",")",";",["T_WHITESPACE","\n  ",411],"}",["T_WHITESPACE","\n\n  ",412],["T_DOC_COMMENT","\/**\n   * Tests getTableMapping() with a simple entity type with some base fields.\n   *\n   * @param string[] $entity_keys\n   *   A map of entity keys to use for the mocked entity type.\n   *\n   * @covers ::__construct\n   * @covers ::getTableMapping\n   *\n   * @dataProvider providerTestGetTableMappingSimple()\n   *\/",414],["T_WHITESPACE","\n  ",424],["T_PUBLIC","public",425],["T_WHITESPACE"," ",425],["T_FUNCTION","function",425],["T_WHITESPACE"," ",425],["T_STRING","testGetTableMappingSimpleWithFields",425],"(",["T_ARRAY","array",425],["T_WHITESPACE"," ",425],["T_VARIABLE","$entity_keys",425],")",["T_WHITESPACE"," ",425],"{",["T_WHITESPACE","\n    ",425],["T_VARIABLE","$base_field_names",426],["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_ARRAY","array",426],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",426],",",["T_WHITESPACE"," ",426],["T_CONSTANT_ENCAPSED_STRING","'description'",426],",",["T_WHITESPACE"," ",426],["T_CONSTANT_ENCAPSED_STRING","'owner'",426],")",";",["T_WHITESPACE","\n    ",426],["T_VARIABLE","$field_names",427],["T_WHITESPACE"," ",427],"=",["T_WHITESPACE"," ",427],["T_STRING","array_merge",427],"(",["T_STRING","array_values",427],"(",["T_STRING","array_filter",427],"(",["T_VARIABLE","$entity_keys",427],")",")",",",["T_WHITESPACE"," ",427],["T_VARIABLE","$base_field_names",427],")",";",["T_WHITESPACE","\n    ",427],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","fieldDefinitions",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","mockFieldDefinitions",428],"(",["T_VARIABLE","$field_names",428],")",";",["T_WHITESPACE","\n    ",428],["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","setUpEntityStorage",429],"(",")",";",["T_WHITESPACE","\n\n    ",429],["T_VARIABLE","$mapping",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_VARIABLE","$this",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","entityStorage",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","getTableMapping",431],"(",")",";",["T_WHITESPACE","\n    ",431],["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","assertEquals",432],"(",["T_ARRAY","array",432],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",432],")",",",["T_WHITESPACE"," ",432],["T_VARIABLE","$mapping",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","getTableNames",432],"(",")",")",";",["T_WHITESPACE","\n    ",432],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","assertEquals",433],"(",["T_VARIABLE","$field_names",433],",",["T_WHITESPACE"," ",433],["T_VARIABLE","$mapping",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","getFieldNames",433],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",433],")",")",";",["T_WHITESPACE","\n    ",433],["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","assertEquals",434],"(",["T_ARRAY","array",434],"(",")",",",["T_WHITESPACE"," ",434],["T_VARIABLE","$mapping",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","getExtraColumns",434],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",434],")",")",";",["T_WHITESPACE","\n  ",434],"}",["T_WHITESPACE","\n\n  ",435],["T_DOC_COMMENT","\/**\n   * Provides test data for testGetTableMappingSimple().\n   *\n   * @return array[]\n   *   A nested array, where each inner array has a single value being a  map of\n   *   entity keys to use for the mocked entity type.\n   *\/",437],["T_WHITESPACE","\n  ",443],["T_PUBLIC","public",444],["T_WHITESPACE"," ",444],["T_FUNCTION","function",444],["T_WHITESPACE"," ",444],["T_STRING","providerTestGetTableMappingSimple",444],"(",")",["T_WHITESPACE"," ",444],"{",["T_WHITESPACE","\n    ",444],["T_RETURN","return",445],["T_WHITESPACE"," ",445],["T_ARRAY","array",445],"(",["T_WHITESPACE","\n      ",445],["T_ARRAY","array",446],"(",["T_ARRAY","array",446],"(",["T_WHITESPACE","\n        ",446],["T_CONSTANT_ENCAPSED_STRING","'id'",447],["T_WHITESPACE"," ",447],["T_DOUBLE_ARROW","=>",447],["T_WHITESPACE"," ",447],["T_CONSTANT_ENCAPSED_STRING","'test_id'",447],",",["T_WHITESPACE","\n        ",447],["T_CONSTANT_ENCAPSED_STRING","'bundle'",448],["T_WHITESPACE"," ",448],["T_DOUBLE_ARROW","=>",448],["T_WHITESPACE"," ",448],["T_STRING","NULL",448],",",["T_WHITESPACE","\n        ",448],["T_CONSTANT_ENCAPSED_STRING","'uuid'",449],["T_WHITESPACE"," ",449],["T_DOUBLE_ARROW","=>",449],["T_WHITESPACE"," ",449],["T_STRING","NULL",449],",",["T_WHITESPACE","\n      ",449],")",")",",",["T_WHITESPACE","\n      ",450],["T_ARRAY","array",451],"(",["T_ARRAY","array",451],"(",["T_WHITESPACE","\n        ",451],["T_CONSTANT_ENCAPSED_STRING","'id'",452],["T_WHITESPACE"," ",452],["T_DOUBLE_ARROW","=>",452],["T_WHITESPACE"," ",452],["T_CONSTANT_ENCAPSED_STRING","'test_id'",452],",",["T_WHITESPACE","\n        ",452],["T_CONSTANT_ENCAPSED_STRING","'bundle'",453],["T_WHITESPACE"," ",453],["T_DOUBLE_ARROW","=>",453],["T_WHITESPACE"," ",453],["T_CONSTANT_ENCAPSED_STRING","'test_bundle'",453],",",["T_WHITESPACE","\n        ",453],["T_CONSTANT_ENCAPSED_STRING","'uuid'",454],["T_WHITESPACE"," ",454],["T_DOUBLE_ARROW","=>",454],["T_WHITESPACE"," ",454],["T_STRING","NULL",454],",",["T_WHITESPACE","\n      ",454],")",")",",",["T_WHITESPACE","\n      ",455],["T_ARRAY","array",456],"(",["T_ARRAY","array",456],"(",["T_WHITESPACE","\n        ",456],["T_CONSTANT_ENCAPSED_STRING","'id'",457],["T_WHITESPACE"," ",457],["T_DOUBLE_ARROW","=>",457],["T_WHITESPACE"," ",457],["T_CONSTANT_ENCAPSED_STRING","'test_id'",457],",",["T_WHITESPACE","\n        ",457],["T_CONSTANT_ENCAPSED_STRING","'bundle'",458],["T_WHITESPACE"," ",458],["T_DOUBLE_ARROW","=>",458],["T_WHITESPACE"," ",458],["T_STRING","NULL",458],",",["T_WHITESPACE","\n        ",458],["T_CONSTANT_ENCAPSED_STRING","'uuid'",459],["T_WHITESPACE"," ",459],["T_DOUBLE_ARROW","=>",459],["T_WHITESPACE"," ",459],["T_CONSTANT_ENCAPSED_STRING","'test_uuid'",459],",",["T_WHITESPACE","\n      ",459],")",")",",",["T_WHITESPACE","\n      ",460],["T_ARRAY","array",461],"(",["T_ARRAY","array",461],"(",["T_WHITESPACE","\n        ",461],["T_CONSTANT_ENCAPSED_STRING","'id'",462],["T_WHITESPACE"," ",462],["T_DOUBLE_ARROW","=>",462],["T_WHITESPACE"," ",462],["T_CONSTANT_ENCAPSED_STRING","'test_id'",462],",",["T_WHITESPACE","\n        ",462],["T_CONSTANT_ENCAPSED_STRING","'bundle'",463],["T_WHITESPACE"," ",463],["T_DOUBLE_ARROW","=>",463],["T_WHITESPACE"," ",463],["T_CONSTANT_ENCAPSED_STRING","'test_bundle'",463],",",["T_WHITESPACE","\n        ",463],["T_CONSTANT_ENCAPSED_STRING","'uuid'",464],["T_WHITESPACE"," ",464],["T_DOUBLE_ARROW","=>",464],["T_WHITESPACE"," ",464],["T_CONSTANT_ENCAPSED_STRING","'test_uuid'",464],",",["T_WHITESPACE","\n      ",464],")",")",",",["T_WHITESPACE","\n    ",465],")",";",["T_WHITESPACE","\n  ",466],"}",["T_WHITESPACE","\n\n  ",467],["T_DOC_COMMENT","\/**\n   * Tests getTableMapping() with a base field that requires a dedicated table.\n   *\n   * @covers ::__construct\n   * @covers ::getTableMapping\n   *\/",469],["T_WHITESPACE","\n  ",474],["T_PUBLIC","public",475],["T_WHITESPACE"," ",475],["T_FUNCTION","function",475],["T_WHITESPACE"," ",475],["T_STRING","testGetTableMappingSimpleWithDedicatedStorageFields",475],"(",")",["T_WHITESPACE"," ",475],"{",["T_WHITESPACE","\n    ",475],["T_VARIABLE","$base_field_names",476],["T_WHITESPACE"," ",476],"=",["T_WHITESPACE"," ",476],"[",["T_CONSTANT_ENCAPSED_STRING","'multi_valued_base_field'",476],"]",";",["T_WHITESPACE","\n\n    ",476],["T_COMMENT","\/\/ Set up one entity key in order to have a base table.\n",478],["T_WHITESPACE","    ",479],["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","fieldDefinitions",479],["T_WHITESPACE"," ",479],"=",["T_WHITESPACE"," ",479],["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","mockFieldDefinitions",479],"(","[",["T_CONSTANT_ENCAPSED_STRING","'test_id'",479],"]",")",";",["T_WHITESPACE","\n\n    ",479],["T_COMMENT","\/\/ Set up the multi-valued base field.\n",481],["T_WHITESPACE","    ",482],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","fieldDefinitions",482],["T_WHITESPACE"," ",482],["T_PLUS_EQUAL","+=",482],["T_WHITESPACE"," ",482],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","mockFieldDefinitions",482],"(",["T_VARIABLE","$base_field_names",482],",",["T_WHITESPACE"," ",482],"[",["T_WHITESPACE","\n      ",482],["T_CONSTANT_ENCAPSED_STRING","'hasCustomStorage'",483],["T_WHITESPACE"," ",483],["T_DOUBLE_ARROW","=>",483],["T_WHITESPACE"," ",483],["T_STRING","FALSE",483],",",["T_WHITESPACE","\n      ",483],["T_CONSTANT_ENCAPSED_STRING","'isMultiple'",484],["T_WHITESPACE"," ",484],["T_DOUBLE_ARROW","=>",484],["T_WHITESPACE"," ",484],["T_STRING","TRUE",484],",",["T_WHITESPACE","\n      ",484],["T_CONSTANT_ENCAPSED_STRING","'getTargetEntityTypeId'",485],["T_WHITESPACE"," ",485],["T_DOUBLE_ARROW","=>",485],["T_WHITESPACE"," ",485],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",485],",",["T_WHITESPACE","\n    ",485],"]",")",";",["T_WHITESPACE","\n\n    ",486],["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","setUpEntityStorage",488],"(",")",";",["T_WHITESPACE","\n\n    ",488],["T_VARIABLE","$mapping",490],["T_WHITESPACE"," ",490],"=",["T_WHITESPACE"," ",490],["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","entityStorage",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","getTableMapping",490],"(",")",";",["T_WHITESPACE","\n    ",490],["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","assertEquals",491],"(","[",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",491],",",["T_WHITESPACE"," ",491],["T_CONSTANT_ENCAPSED_STRING","'entity_test__multi_valued_base_field'",491],"]",",",["T_WHITESPACE"," ",491],["T_VARIABLE","$mapping",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","getTableNames",491],"(",")",")",";",["T_WHITESPACE","\n    ",491],["T_VARIABLE","$this",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","assertEquals",492],"(",["T_VARIABLE","$base_field_names",492],",",["T_WHITESPACE"," ",492],["T_VARIABLE","$mapping",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","getFieldNames",492],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test__multi_valued_base_field'",492],")",")",";",["T_WHITESPACE","\n\n    ",492],["T_VARIABLE","$extra_columns",494],["T_WHITESPACE"," ",494],"=",["T_WHITESPACE"," ",494],["T_ARRAY","array",494],"(",["T_WHITESPACE","\n      ",494],["T_CONSTANT_ENCAPSED_STRING","'bundle'",495],",",["T_WHITESPACE","\n      ",495],["T_CONSTANT_ENCAPSED_STRING","'deleted'",496],",",["T_WHITESPACE","\n      ",496],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",497],",",["T_WHITESPACE","\n      ",497],["T_CONSTANT_ENCAPSED_STRING","'revision_id'",498],",",["T_WHITESPACE","\n      ",498],["T_CONSTANT_ENCAPSED_STRING","'langcode'",499],",",["T_WHITESPACE","\n      ",499],["T_CONSTANT_ENCAPSED_STRING","'delta'",500],",",["T_WHITESPACE","\n    ",500],")",";",["T_WHITESPACE","\n    ",501],["T_VARIABLE","$this",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","assertEquals",502],"(",["T_VARIABLE","$extra_columns",502],",",["T_WHITESPACE"," ",502],["T_VARIABLE","$mapping",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","getExtraColumns",502],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test__multi_valued_base_field'",502],")",")",";",["T_WHITESPACE","\n  ",502],"}",["T_WHITESPACE","\n\n  ",503],["T_DOC_COMMENT","\/**\n   * Tests getTableMapping() with a revisionable, non-translatable entity type.\n   *\n   * @param string[] $entity_keys\n   *   A map of entity keys to use for the mocked entity type.\n   *\n   * @covers ::__construct\n   * @covers ::getTableMapping\n   *\n   * @dataProvider providerTestGetTableMappingSimple()\n   *\/",505],["T_WHITESPACE","\n  ",515],["T_PUBLIC","public",516],["T_WHITESPACE"," ",516],["T_FUNCTION","function",516],["T_WHITESPACE"," ",516],["T_STRING","testGetTableMappingRevisionable",516],"(",["T_ARRAY","array",516],["T_WHITESPACE"," ",516],["T_VARIABLE","$entity_keys",516],")",["T_WHITESPACE"," ",516],"{",["T_WHITESPACE","\n    ",516],["T_COMMENT","\/\/ This allows to re-use the data provider.\n",517],["T_WHITESPACE","    ",518],["T_VARIABLE","$entity_keys",518],["T_WHITESPACE"," ",518],"=",["T_WHITESPACE"," ",518],["T_ARRAY","array",518],"(",["T_WHITESPACE","\n      ",518],["T_CONSTANT_ENCAPSED_STRING","'id'",519],["T_WHITESPACE"," ",519],["T_DOUBLE_ARROW","=>",519],["T_WHITESPACE"," ",519],["T_VARIABLE","$entity_keys",519],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",519],"]",",",["T_WHITESPACE","\n      ",519],["T_CONSTANT_ENCAPSED_STRING","'revision'",520],["T_WHITESPACE"," ",520],["T_DOUBLE_ARROW","=>",520],["T_WHITESPACE"," ",520],["T_CONSTANT_ENCAPSED_STRING","'test_revision'",520],",",["T_WHITESPACE","\n      ",520],["T_CONSTANT_ENCAPSED_STRING","'bundle'",521],["T_WHITESPACE"," ",521],["T_DOUBLE_ARROW","=>",521],["T_WHITESPACE"," ",521],["T_VARIABLE","$entity_keys",521],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",521],"]",",",["T_WHITESPACE","\n      ",521],["T_CONSTANT_ENCAPSED_STRING","'uuid'",522],["T_WHITESPACE"," ",522],["T_DOUBLE_ARROW","=>",522],["T_WHITESPACE"," ",522],["T_VARIABLE","$entity_keys",522],"[",["T_CONSTANT_ENCAPSED_STRING","'uuid'",522],"]",",",["T_WHITESPACE","\n    ",522],")",";",["T_WHITESPACE","\n\n    ",523],["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","entityType",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","expects",525],"(",["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","exactly",525],"(",["T_LNUMBER","2",525],")",")",["T_WHITESPACE","\n      ",525],["T_OBJECT_OPERATOR","->",526],["T_STRING","method",526],"(",["T_CONSTANT_ENCAPSED_STRING","'isRevisionable'",526],")",["T_WHITESPACE","\n      ",526],["T_OBJECT_OPERATOR","->",527],["T_STRING","will",527],"(",["T_VARIABLE","$this",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","returnValue",527],"(",["T_STRING","TRUE",527],")",")",";",["T_WHITESPACE","\n    ",527],["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","entityType",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","expects",528],"(",["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","any",528],"(",")",")",["T_WHITESPACE","\n      ",528],["T_OBJECT_OPERATOR","->",529],["T_STRING","method",529],"(",["T_CONSTANT_ENCAPSED_STRING","'getKey'",529],")",["T_WHITESPACE","\n      ",529],["T_OBJECT_OPERATOR","->",530],["T_STRING","will",530],"(",["T_VARIABLE","$this",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","returnValueMap",530],"(",["T_ARRAY","array",530],"(",["T_WHITESPACE","\n        ",530],["T_ARRAY","array",531],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",531],",",["T_WHITESPACE"," ",531],["T_VARIABLE","$entity_keys",531],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",531],"]",")",",",["T_WHITESPACE","\n        ",531],["T_ARRAY","array",532],"(",["T_CONSTANT_ENCAPSED_STRING","'uuid'",532],",",["T_WHITESPACE"," ",532],["T_VARIABLE","$entity_keys",532],"[",["T_CONSTANT_ENCAPSED_STRING","'uuid'",532],"]",")",",",["T_WHITESPACE","\n        ",532],["T_ARRAY","array",533],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle'",533],",",["T_WHITESPACE"," ",533],["T_VARIABLE","$entity_keys",533],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",533],"]",")",",",["T_WHITESPACE","\n        ",533],["T_ARRAY","array",534],"(",["T_CONSTANT_ENCAPSED_STRING","'revision'",534],",",["T_WHITESPACE"," ",534],["T_VARIABLE","$entity_keys",534],"[",["T_CONSTANT_ENCAPSED_STRING","'revision'",534],"]",")",",",["T_WHITESPACE","\n      ",534],")",")",")",";",["T_WHITESPACE","\n\n    ",535],["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","setUpEntityStorage",537],"(",")",";",["T_WHITESPACE","\n\n    ",537],["T_VARIABLE","$mapping",539],["T_WHITESPACE"," ",539],"=",["T_WHITESPACE"," ",539],["T_VARIABLE","$this",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","entityStorage",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","getTableMapping",539],"(",")",";",["T_WHITESPACE","\n\n    ",539],["T_VARIABLE","$expected",541],["T_WHITESPACE"," ",541],"=",["T_WHITESPACE"," ",541],["T_ARRAY","array",541],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",541],",",["T_WHITESPACE"," ",541],["T_CONSTANT_ENCAPSED_STRING","'entity_test_revision'",541],")",";",["T_WHITESPACE","\n    ",541],["T_VARIABLE","$this",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","assertEquals",542],"(",["T_VARIABLE","$expected",542],",",["T_WHITESPACE"," ",542],["T_VARIABLE","$mapping",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","getTableNames",542],"(",")",")",";",["T_WHITESPACE","\n\n    ",542],["T_VARIABLE","$expected",544],["T_WHITESPACE"," ",544],"=",["T_WHITESPACE"," ",544],["T_STRING","array_values",544],"(",["T_STRING","array_filter",544],"(",["T_VARIABLE","$entity_keys",544],")",")",";",["T_WHITESPACE","\n    ",544],["T_VARIABLE","$this",545],["T_OBJECT_OPERATOR","->",545],["T_STRING","assertEquals",545],"(",["T_VARIABLE","$expected",545],",",["T_WHITESPACE"," ",545],["T_VARIABLE","$mapping",545],["T_OBJECT_OPERATOR","->",545],["T_STRING","getFieldNames",545],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",545],")",")",";",["T_WHITESPACE","\n    ",545],["T_VARIABLE","$expected",546],["T_WHITESPACE"," ",546],"=",["T_WHITESPACE"," ",546],["T_ARRAY","array",546],"(",["T_VARIABLE","$entity_keys",546],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",546],"]",",",["T_WHITESPACE"," ",546],["T_VARIABLE","$entity_keys",546],"[",["T_CONSTANT_ENCAPSED_STRING","'revision'",546],"]",")",";",["T_WHITESPACE","\n    ",546],["T_VARIABLE","$this",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","assertEquals",547],"(",["T_VARIABLE","$expected",547],",",["T_WHITESPACE"," ",547],["T_VARIABLE","$mapping",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","getFieldNames",547],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_revision'",547],")",")",";",["T_WHITESPACE","\n\n    ",547],["T_VARIABLE","$this",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","assertEquals",549],"(",["T_ARRAY","array",549],"(",")",",",["T_WHITESPACE"," ",549],["T_VARIABLE","$mapping",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","getExtraColumns",549],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",549],")",")",";",["T_WHITESPACE","\n    ",549],["T_VARIABLE","$this",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","assertEquals",550],"(",["T_ARRAY","array",550],"(",")",",",["T_WHITESPACE"," ",550],["T_VARIABLE","$mapping",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","getExtraColumns",550],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_revision'",550],")",")",";",["T_WHITESPACE","\n  ",550],"}",["T_WHITESPACE","\n\n  ",551],["T_DOC_COMMENT","\/**\n   * Tests getTableMapping() with a revisionable entity type with fields.\n   *\n   * @param string[] $entity_keys\n   *   A map of entity keys to use for the mocked entity type.\n   *\n   * @covers ::__construct\n   * @covers ::getTableMapping\n   *\n   * @dataProvider providerTestGetTableMappingSimple()\n   *\/",553],["T_WHITESPACE","\n  ",563],["T_PUBLIC","public",564],["T_WHITESPACE"," ",564],["T_FUNCTION","function",564],["T_WHITESPACE"," ",564],["T_STRING","testGetTableMappingRevisionableWithFields",564],"(",["T_ARRAY","array",564],["T_WHITESPACE"," ",564],["T_VARIABLE","$entity_keys",564],")",["T_WHITESPACE"," ",564],"{",["T_WHITESPACE","\n    ",564],["T_COMMENT","\/\/ This allows to re-use the data provider.\n",565],["T_WHITESPACE","    ",566],["T_VARIABLE","$entity_keys",566],["T_WHITESPACE"," ",566],"=",["T_WHITESPACE"," ",566],["T_ARRAY","array",566],"(",["T_WHITESPACE","\n      ",566],["T_CONSTANT_ENCAPSED_STRING","'id'",567],["T_WHITESPACE"," ",567],["T_DOUBLE_ARROW","=>",567],["T_WHITESPACE"," ",567],["T_VARIABLE","$entity_keys",567],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",567],"]",",",["T_WHITESPACE","\n      ",567],["T_CONSTANT_ENCAPSED_STRING","'revision'",568],["T_WHITESPACE"," ",568],["T_DOUBLE_ARROW","=>",568],["T_WHITESPACE"," ",568],["T_CONSTANT_ENCAPSED_STRING","'test_revision'",568],",",["T_WHITESPACE","\n      ",568],["T_CONSTANT_ENCAPSED_STRING","'bundle'",569],["T_WHITESPACE"," ",569],["T_DOUBLE_ARROW","=>",569],["T_WHITESPACE"," ",569],["T_VARIABLE","$entity_keys",569],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",569],"]",",",["T_WHITESPACE","\n      ",569],["T_CONSTANT_ENCAPSED_STRING","'uuid'",570],["T_WHITESPACE"," ",570],["T_DOUBLE_ARROW","=>",570],["T_WHITESPACE"," ",570],["T_VARIABLE","$entity_keys",570],"[",["T_CONSTANT_ENCAPSED_STRING","'uuid'",570],"]",",",["T_WHITESPACE","\n    ",570],")",";",["T_WHITESPACE","\n\n    ",571],["T_COMMENT","\/\/ PHPUnit does not allow for multiple data providers.\n",573],["T_WHITESPACE","    ",574],["T_VARIABLE","$test_cases",574],["T_WHITESPACE"," ",574],"=",["T_WHITESPACE"," ",574],["T_ARRAY","array",574],"(",["T_WHITESPACE","\n      ",574],["T_ARRAY","array",575],"(",")",",",["T_WHITESPACE","\n      ",575],["T_ARRAY","array",576],"(",["T_CONSTANT_ENCAPSED_STRING","'revision_timestamp'",576],")",",",["T_WHITESPACE","\n      ",576],["T_ARRAY","array",577],"(",["T_CONSTANT_ENCAPSED_STRING","'revision_uid'",577],")",",",["T_WHITESPACE","\n      ",577],["T_ARRAY","array",578],"(",["T_CONSTANT_ENCAPSED_STRING","'revision_log'",578],")",",",["T_WHITESPACE","\n      ",578],["T_ARRAY","array",579],"(",["T_CONSTANT_ENCAPSED_STRING","'revision_timestamp'",579],",",["T_WHITESPACE"," ",579],["T_CONSTANT_ENCAPSED_STRING","'revision_uid'",579],")",",",["T_WHITESPACE","\n      ",579],["T_ARRAY","array",580],"(",["T_CONSTANT_ENCAPSED_STRING","'revision_timestamp'",580],",",["T_WHITESPACE"," ",580],["T_CONSTANT_ENCAPSED_STRING","'revision_log'",580],")",",",["T_WHITESPACE","\n      ",580],["T_ARRAY","array",581],"(",["T_CONSTANT_ENCAPSED_STRING","'revision_uid'",581],",",["T_WHITESPACE"," ",581],["T_CONSTANT_ENCAPSED_STRING","'revision_log'",581],")",",",["T_WHITESPACE","\n      ",581],["T_ARRAY","array",582],"(",["T_CONSTANT_ENCAPSED_STRING","'revision_timestamp'",582],",",["T_WHITESPACE"," ",582],["T_CONSTANT_ENCAPSED_STRING","'revision_uid'",582],",",["T_WHITESPACE"," ",582],["T_CONSTANT_ENCAPSED_STRING","'revision_log'",582],")",",",["T_WHITESPACE","\n    ",582],")",";",["T_WHITESPACE","\n    ",583],["T_FOREACH","foreach",584],["T_WHITESPACE"," ",584],"(",["T_VARIABLE","$test_cases",584],["T_WHITESPACE"," ",584],["T_AS","as",584],["T_WHITESPACE"," ",584],["T_VARIABLE","$revision_metadata_field_names",584],")",["T_WHITESPACE"," ",584],"{",["T_WHITESPACE","\n      ",584],["T_VARIABLE","$this",585],["T_OBJECT_OPERATOR","->",585],["T_STRING","setUp",585],"(",")",";",["T_WHITESPACE","\n\n      ",585],["T_VARIABLE","$base_field_names",587],["T_WHITESPACE"," ",587],"=",["T_WHITESPACE"," ",587],["T_ARRAY","array",587],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",587],")",";",["T_WHITESPACE","\n      ",587],["T_VARIABLE","$field_names",588],["T_WHITESPACE"," ",588],"=",["T_WHITESPACE"," ",588],["T_STRING","array_merge",588],"(",["T_STRING","array_values",588],"(",["T_STRING","array_filter",588],"(",["T_VARIABLE","$entity_keys",588],")",")",",",["T_WHITESPACE"," ",588],["T_VARIABLE","$base_field_names",588],")",";",["T_WHITESPACE","\n      ",588],["T_VARIABLE","$this",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","fieldDefinitions",589],["T_WHITESPACE"," ",589],"=",["T_WHITESPACE"," ",589],["T_VARIABLE","$this",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","mockFieldDefinitions",589],"(",["T_VARIABLE","$field_names",589],")",";",["T_WHITESPACE","\n\n      ",589],["T_VARIABLE","$revisionable_field_names",591],["T_WHITESPACE"," ",591],"=",["T_WHITESPACE"," ",591],["T_ARRAY","array",591],"(",["T_CONSTANT_ENCAPSED_STRING","'description'",591],",",["T_WHITESPACE"," ",591],["T_CONSTANT_ENCAPSED_STRING","'owner'",591],")",";",["T_WHITESPACE","\n      ",591],["T_VARIABLE","$field_names",592],["T_WHITESPACE"," ",592],"=",["T_WHITESPACE"," ",592],["T_STRING","array_merge",592],"(",["T_VARIABLE","$field_names",592],",",["T_WHITESPACE"," ",592],["T_VARIABLE","$revisionable_field_names",592],")",";",["T_WHITESPACE","\n      ",592],["T_VARIABLE","$this",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","fieldDefinitions",593],["T_WHITESPACE"," ",593],["T_PLUS_EQUAL","+=",593],["T_WHITESPACE"," ",593],["T_VARIABLE","$this",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","mockFieldDefinitions",593],"(",["T_STRING","array_merge",593],"(",["T_VARIABLE","$revisionable_field_names",593],",",["T_WHITESPACE"," ",593],["T_VARIABLE","$revision_metadata_field_names",593],")",",",["T_WHITESPACE"," ",593],["T_ARRAY","array",593],"(",["T_CONSTANT_ENCAPSED_STRING","'isRevisionable'",593],["T_WHITESPACE"," ",593],["T_DOUBLE_ARROW","=>",593],["T_WHITESPACE"," ",593],["T_STRING","TRUE",593],")",")",";",["T_WHITESPACE","\n\n      ",593],["T_VARIABLE","$this",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","entityType",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","expects",595],"(",["T_VARIABLE","$this",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","exactly",595],"(",["T_LNUMBER","2",595],")",")",["T_WHITESPACE","\n        ",595],["T_OBJECT_OPERATOR","->",596],["T_STRING","method",596],"(",["T_CONSTANT_ENCAPSED_STRING","'isRevisionable'",596],")",["T_WHITESPACE","\n        ",596],["T_OBJECT_OPERATOR","->",597],["T_STRING","will",597],"(",["T_VARIABLE","$this",597],["T_OBJECT_OPERATOR","->",597],["T_STRING","returnValue",597],"(",["T_STRING","TRUE",597],")",")",";",["T_WHITESPACE","\n      ",597],["T_VARIABLE","$this",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","entityType",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","expects",598],"(",["T_VARIABLE","$this",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","any",598],"(",")",")",["T_WHITESPACE","\n        ",598],["T_OBJECT_OPERATOR","->",599],["T_STRING","method",599],"(",["T_CONSTANT_ENCAPSED_STRING","'getKey'",599],")",["T_WHITESPACE","\n        ",599],["T_OBJECT_OPERATOR","->",600],["T_STRING","will",600],"(",["T_VARIABLE","$this",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","returnValueMap",600],"(",["T_ARRAY","array",600],"(",["T_WHITESPACE","\n          ",600],["T_ARRAY","array",601],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",601],",",["T_WHITESPACE"," ",601],["T_VARIABLE","$entity_keys",601],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",601],"]",")",",",["T_WHITESPACE","\n          ",601],["T_ARRAY","array",602],"(",["T_CONSTANT_ENCAPSED_STRING","'uuid'",602],",",["T_WHITESPACE"," ",602],["T_VARIABLE","$entity_keys",602],"[",["T_CONSTANT_ENCAPSED_STRING","'uuid'",602],"]",")",",",["T_WHITESPACE","\n          ",602],["T_ARRAY","array",603],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle'",603],",",["T_WHITESPACE"," ",603],["T_VARIABLE","$entity_keys",603],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",603],"]",")",",",["T_WHITESPACE","\n          ",603],["T_ARRAY","array",604],"(",["T_CONSTANT_ENCAPSED_STRING","'revision'",604],",",["T_WHITESPACE"," ",604],["T_VARIABLE","$entity_keys",604],"[",["T_CONSTANT_ENCAPSED_STRING","'revision'",604],"]",")",",",["T_WHITESPACE","\n        ",604],")",")",")",";",["T_WHITESPACE","\n\n      ",605],["T_VARIABLE","$this",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","setUpEntityStorage",607],"(",")",";",["T_WHITESPACE","\n\n      ",607],["T_VARIABLE","$mapping",609],["T_WHITESPACE"," ",609],"=",["T_WHITESPACE"," ",609],["T_VARIABLE","$this",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","entityStorage",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","getTableMapping",609],"(",")",";",["T_WHITESPACE","\n\n      ",609],["T_VARIABLE","$expected",611],["T_WHITESPACE"," ",611],"=",["T_WHITESPACE"," ",611],["T_ARRAY","array",611],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",611],",",["T_WHITESPACE"," ",611],["T_CONSTANT_ENCAPSED_STRING","'entity_test_revision'",611],")",";",["T_WHITESPACE","\n      ",611],["T_VARIABLE","$this",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","assertEquals",612],"(",["T_VARIABLE","$expected",612],",",["T_WHITESPACE"," ",612],["T_VARIABLE","$mapping",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","getTableNames",612],"(",")",")",";",["T_WHITESPACE","\n\n      ",612],["T_VARIABLE","$this",614],["T_OBJECT_OPERATOR","->",614],["T_STRING","assertEquals",614],"(",["T_VARIABLE","$field_names",614],",",["T_WHITESPACE"," ",614],["T_VARIABLE","$mapping",614],["T_OBJECT_OPERATOR","->",614],["T_STRING","getFieldNames",614],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",614],")",")",";",["T_WHITESPACE","\n      ",614],["T_VARIABLE","$expected",615],["T_WHITESPACE"," ",615],"=",["T_WHITESPACE"," ",615],["T_STRING","array_merge",615],"(",["T_WHITESPACE","\n        ",615],["T_ARRAY","array",616],"(",["T_VARIABLE","$entity_keys",616],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",616],"]",",",["T_WHITESPACE"," ",616],["T_VARIABLE","$entity_keys",616],"[",["T_CONSTANT_ENCAPSED_STRING","'revision'",616],"]",")",",",["T_WHITESPACE","\n        ",616],["T_VARIABLE","$revisionable_field_names",617],",",["T_WHITESPACE","\n        ",617],["T_VARIABLE","$revision_metadata_field_names",618],["T_WHITESPACE","\n      ",618],")",";",["T_WHITESPACE","\n      ",619],["T_VARIABLE","$this",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","assertEquals",620],"(",["T_VARIABLE","$expected",620],",",["T_WHITESPACE"," ",620],["T_VARIABLE","$mapping",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","getFieldNames",620],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_revision'",620],")",")",";",["T_WHITESPACE","\n\n      ",620],["T_VARIABLE","$this",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","assertEquals",622],"(",["T_ARRAY","array",622],"(",")",",",["T_WHITESPACE"," ",622],["T_VARIABLE","$mapping",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","getExtraColumns",622],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",622],")",")",";",["T_WHITESPACE","\n      ",622],["T_VARIABLE","$this",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","assertEquals",623],"(",["T_ARRAY","array",623],"(",")",",",["T_WHITESPACE"," ",623],["T_VARIABLE","$mapping",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","getExtraColumns",623],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_revision'",623],")",")",";",["T_WHITESPACE","\n    ",623],"}",["T_WHITESPACE","\n  ",624],"}",["T_WHITESPACE","\n\n  ",625],["T_DOC_COMMENT","\/**\n   * Tests getTableMapping() with a non-revisionable, translatable entity type.\n   *\n   * @param string[] $entity_keys\n   *   A map of entity keys to use for the mocked entity type.\n   *\n   * @covers ::__construct\n   * @covers ::getTableMapping\n   *\n   * @dataProvider providerTestGetTableMappingSimple()\n   *\/",627],["T_WHITESPACE","\n  ",637],["T_PUBLIC","public",638],["T_WHITESPACE"," ",638],["T_FUNCTION","function",638],["T_WHITESPACE"," ",638],["T_STRING","testGetTableMappingTranslatable",638],"(",["T_ARRAY","array",638],["T_WHITESPACE"," ",638],["T_VARIABLE","$entity_keys",638],")",["T_WHITESPACE"," ",638],"{",["T_WHITESPACE","\n    ",638],["T_COMMENT","\/\/ This allows to re-use the data provider.\n",639],["T_WHITESPACE","    ",640],["T_VARIABLE","$entity_keys",640],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",640],"]",["T_WHITESPACE"," ",640],"=",["T_WHITESPACE"," ",640],["T_CONSTANT_ENCAPSED_STRING","'langcode'",640],";",["T_WHITESPACE","\n\n    ",640],["T_VARIABLE","$this",642],["T_OBJECT_OPERATOR","->",642],["T_STRING","entityType",642],["T_OBJECT_OPERATOR","->",642],["T_STRING","expects",642],"(",["T_VARIABLE","$this",642],["T_OBJECT_OPERATOR","->",642],["T_STRING","atLeastOnce",642],"(",")",")",["T_WHITESPACE","\n      ",642],["T_OBJECT_OPERATOR","->",643],["T_STRING","method",643],"(",["T_CONSTANT_ENCAPSED_STRING","'isTranslatable'",643],")",["T_WHITESPACE","\n      ",643],["T_OBJECT_OPERATOR","->",644],["T_STRING","will",644],"(",["T_VARIABLE","$this",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","returnValue",644],"(",["T_STRING","TRUE",644],")",")",";",["T_WHITESPACE","\n    ",644],["T_VARIABLE","$this",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","entityType",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","expects",645],"(",["T_VARIABLE","$this",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","atLeastOnce",645],"(",")",")",["T_WHITESPACE","\n      ",645],["T_OBJECT_OPERATOR","->",646],["T_STRING","method",646],"(",["T_CONSTANT_ENCAPSED_STRING","'getDataTable'",646],")",["T_WHITESPACE","\n      ",646],["T_OBJECT_OPERATOR","->",647],["T_STRING","will",647],"(",["T_VARIABLE","$this",647],["T_OBJECT_OPERATOR","->",647],["T_STRING","returnValue",647],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_data'",647],")",")",";",["T_WHITESPACE","\n    ",647],["T_VARIABLE","$this",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","entityType",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","expects",648],"(",["T_VARIABLE","$this",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","any",648],"(",")",")",["T_WHITESPACE","\n      ",648],["T_OBJECT_OPERATOR","->",649],["T_STRING","method",649],"(",["T_CONSTANT_ENCAPSED_STRING","'getKey'",649],")",["T_WHITESPACE","\n      ",649],["T_OBJECT_OPERATOR","->",650],["T_STRING","will",650],"(",["T_VARIABLE","$this",650],["T_OBJECT_OPERATOR","->",650],["T_STRING","returnValueMap",650],"(",["T_ARRAY","array",650],"(",["T_WHITESPACE","\n        ",650],["T_ARRAY","array",651],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",651],",",["T_WHITESPACE"," ",651],["T_VARIABLE","$entity_keys",651],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",651],"]",")",",",["T_WHITESPACE","\n        ",651],["T_ARRAY","array",652],"(",["T_CONSTANT_ENCAPSED_STRING","'uuid'",652],",",["T_WHITESPACE"," ",652],["T_VARIABLE","$entity_keys",652],"[",["T_CONSTANT_ENCAPSED_STRING","'uuid'",652],"]",")",",",["T_WHITESPACE","\n        ",652],["T_ARRAY","array",653],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle'",653],",",["T_WHITESPACE"," ",653],["T_VARIABLE","$entity_keys",653],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",653],"]",")",",",["T_WHITESPACE","\n        ",653],["T_ARRAY","array",654],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",654],",",["T_WHITESPACE"," ",654],["T_VARIABLE","$entity_keys",654],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",654],"]",")",",",["T_WHITESPACE","\n      ",654],")",")",")",";",["T_WHITESPACE","\n\n    ",655],["T_VARIABLE","$this",657],["T_OBJECT_OPERATOR","->",657],["T_STRING","setUpEntityStorage",657],"(",")",";",["T_WHITESPACE","\n\n    ",657],["T_VARIABLE","$mapping",659],["T_WHITESPACE"," ",659],"=",["T_WHITESPACE"," ",659],["T_VARIABLE","$this",659],["T_OBJECT_OPERATOR","->",659],["T_STRING","entityStorage",659],["T_OBJECT_OPERATOR","->",659],["T_STRING","getTableMapping",659],"(",")",";",["T_WHITESPACE","\n\n    ",659],["T_VARIABLE","$expected",661],["T_WHITESPACE"," ",661],"=",["T_WHITESPACE"," ",661],["T_ARRAY","array",661],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",661],",",["T_WHITESPACE"," ",661],["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_data'",661],")",";",["T_WHITESPACE","\n    ",661],["T_VARIABLE","$this",662],["T_OBJECT_OPERATOR","->",662],["T_STRING","assertEquals",662],"(",["T_VARIABLE","$expected",662],",",["T_WHITESPACE"," ",662],["T_VARIABLE","$mapping",662],["T_OBJECT_OPERATOR","->",662],["T_STRING","getTableNames",662],"(",")",")",";",["T_WHITESPACE","\n\n    ",662],["T_VARIABLE","$expected",664],["T_WHITESPACE"," ",664],"=",["T_WHITESPACE"," ",664],["T_STRING","array_values",664],"(",["T_STRING","array_filter",664],"(",["T_VARIABLE","$entity_keys",664],")",")",";",["T_WHITESPACE","\n    ",664],["T_VARIABLE","$actual",665],["T_WHITESPACE"," ",665],"=",["T_WHITESPACE"," ",665],["T_VARIABLE","$mapping",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","getFieldNames",665],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",665],")",";",["T_WHITESPACE","\n    ",665],["T_VARIABLE","$this",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","assertEquals",666],"(",["T_VARIABLE","$expected",666],",",["T_WHITESPACE"," ",666],["T_VARIABLE","$actual",666],")",";",["T_WHITESPACE","\n    ",666],["T_COMMENT","\/\/ The UUID is not stored on the data table.\n",667],["T_WHITESPACE","    ",668],["T_VARIABLE","$expected",668],["T_WHITESPACE"," ",668],"=",["T_WHITESPACE"," ",668],["T_STRING","array_values",668],"(",["T_STRING","array_filter",668],"(",["T_ARRAY","array",668],"(",["T_WHITESPACE","\n      ",668],["T_VARIABLE","$entity_keys",669],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",669],"]",",",["T_WHITESPACE","\n      ",669],["T_VARIABLE","$entity_keys",670],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",670],"]",",",["T_WHITESPACE","\n      ",670],["T_VARIABLE","$entity_keys",671],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",671],"]",",",["T_WHITESPACE","\n    ",671],")",")",")",";",["T_WHITESPACE","\n    ",672],["T_VARIABLE","$actual",673],["T_WHITESPACE"," ",673],"=",["T_WHITESPACE"," ",673],["T_VARIABLE","$mapping",673],["T_OBJECT_OPERATOR","->",673],["T_STRING","getFieldNames",673],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_data'",673],")",";",["T_WHITESPACE","\n    ",673],["T_VARIABLE","$this",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","assertEquals",674],"(",["T_VARIABLE","$expected",674],",",["T_WHITESPACE"," ",674],["T_VARIABLE","$actual",674],")",";",["T_WHITESPACE","\n\n    ",674],["T_VARIABLE","$expected",676],["T_WHITESPACE"," ",676],"=",["T_WHITESPACE"," ",676],["T_ARRAY","array",676],"(",")",";",["T_WHITESPACE","\n    ",676],["T_VARIABLE","$actual",677],["T_WHITESPACE"," ",677],"=",["T_WHITESPACE"," ",677],["T_VARIABLE","$mapping",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","getExtraColumns",677],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",677],")",";",["T_WHITESPACE","\n    ",677],["T_VARIABLE","$this",678],["T_OBJECT_OPERATOR","->",678],["T_STRING","assertEquals",678],"(",["T_VARIABLE","$expected",678],",",["T_WHITESPACE"," ",678],["T_VARIABLE","$actual",678],")",";",["T_WHITESPACE","\n    ",678],["T_VARIABLE","$actual",679],["T_WHITESPACE"," ",679],"=",["T_WHITESPACE"," ",679],["T_VARIABLE","$mapping",679],["T_OBJECT_OPERATOR","->",679],["T_STRING","getExtraColumns",679],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_data'",679],")",";",["T_WHITESPACE","\n    ",679],["T_VARIABLE","$this",680],["T_OBJECT_OPERATOR","->",680],["T_STRING","assertEquals",680],"(",["T_VARIABLE","$expected",680],",",["T_WHITESPACE"," ",680],["T_VARIABLE","$actual",680],")",";",["T_WHITESPACE","\n  ",680],"}",["T_WHITESPACE","\n\n  ",681],["T_DOC_COMMENT","\/**\n   * Tests getTableMapping() with a translatable entity type with fields.\n   *\n   * @param string[] $entity_keys\n   *   A map of entity keys to use for the mocked entity type.\n   *\n   * @covers ::__construct\n   * @covers ::getTableMapping\n   *\n   * @dataProvider providerTestGetTableMappingSimple()\n   *\/",683],["T_WHITESPACE","\n  ",693],["T_PUBLIC","public",694],["T_WHITESPACE"," ",694],["T_FUNCTION","function",694],["T_WHITESPACE"," ",694],["T_STRING","testGetTableMappingTranslatableWithFields",694],"(",["T_ARRAY","array",694],["T_WHITESPACE"," ",694],["T_VARIABLE","$entity_keys",694],")",["T_WHITESPACE"," ",694],"{",["T_WHITESPACE","\n    ",694],["T_COMMENT","\/\/ This allows to re-use the data provider.\n",695],["T_WHITESPACE","    ",696],["T_VARIABLE","$entity_keys",696],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",696],"]",["T_WHITESPACE"," ",696],"=",["T_WHITESPACE"," ",696],["T_CONSTANT_ENCAPSED_STRING","'langcode'",696],";",["T_WHITESPACE","\n\n    ",696],["T_VARIABLE","$base_field_names",698],["T_WHITESPACE"," ",698],"=",["T_WHITESPACE"," ",698],["T_ARRAY","array",698],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",698],",",["T_WHITESPACE"," ",698],["T_CONSTANT_ENCAPSED_STRING","'description'",698],",",["T_WHITESPACE"," ",698],["T_CONSTANT_ENCAPSED_STRING","'owner'",698],")",";",["T_WHITESPACE","\n    ",698],["T_VARIABLE","$field_names",699],["T_WHITESPACE"," ",699],"=",["T_WHITESPACE"," ",699],["T_STRING","array_merge",699],"(",["T_STRING","array_values",699],"(",["T_STRING","array_filter",699],"(",["T_VARIABLE","$entity_keys",699],")",")",",",["T_WHITESPACE"," ",699],["T_VARIABLE","$base_field_names",699],")",";",["T_WHITESPACE","\n    ",699],["T_VARIABLE","$this",700],["T_OBJECT_OPERATOR","->",700],["T_STRING","fieldDefinitions",700],["T_WHITESPACE"," ",700],"=",["T_WHITESPACE"," ",700],["T_VARIABLE","$this",700],["T_OBJECT_OPERATOR","->",700],["T_STRING","mockFieldDefinitions",700],"(",["T_VARIABLE","$field_names",700],")",";",["T_WHITESPACE","\n\n    ",700],["T_VARIABLE","$this",702],["T_OBJECT_OPERATOR","->",702],["T_STRING","entityType",702],["T_OBJECT_OPERATOR","->",702],["T_STRING","expects",702],"(",["T_VARIABLE","$this",702],["T_OBJECT_OPERATOR","->",702],["T_STRING","atLeastOnce",702],"(",")",")",["T_WHITESPACE","\n      ",702],["T_OBJECT_OPERATOR","->",703],["T_STRING","method",703],"(",["T_CONSTANT_ENCAPSED_STRING","'isTranslatable'",703],")",["T_WHITESPACE","\n      ",703],["T_OBJECT_OPERATOR","->",704],["T_STRING","will",704],"(",["T_VARIABLE","$this",704],["T_OBJECT_OPERATOR","->",704],["T_STRING","returnValue",704],"(",["T_STRING","TRUE",704],")",")",";",["T_WHITESPACE","\n    ",704],["T_VARIABLE","$this",705],["T_OBJECT_OPERATOR","->",705],["T_STRING","entityType",705],["T_OBJECT_OPERATOR","->",705],["T_STRING","expects",705],"(",["T_VARIABLE","$this",705],["T_OBJECT_OPERATOR","->",705],["T_STRING","atLeastOnce",705],"(",")",")",["T_WHITESPACE","\n      ",705],["T_OBJECT_OPERATOR","->",706],["T_STRING","method",706],"(",["T_CONSTANT_ENCAPSED_STRING","'getDataTable'",706],")",["T_WHITESPACE","\n      ",706],["T_OBJECT_OPERATOR","->",707],["T_STRING","will",707],"(",["T_VARIABLE","$this",707],["T_OBJECT_OPERATOR","->",707],["T_STRING","returnValue",707],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_data'",707],")",")",";",["T_WHITESPACE","\n    ",707],["T_VARIABLE","$this",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","entityType",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","expects",708],"(",["T_VARIABLE","$this",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","any",708],"(",")",")",["T_WHITESPACE","\n      ",708],["T_OBJECT_OPERATOR","->",709],["T_STRING","method",709],"(",["T_CONSTANT_ENCAPSED_STRING","'getKey'",709],")",["T_WHITESPACE","\n      ",709],["T_OBJECT_OPERATOR","->",710],["T_STRING","will",710],"(",["T_VARIABLE","$this",710],["T_OBJECT_OPERATOR","->",710],["T_STRING","returnValueMap",710],"(",["T_ARRAY","array",710],"(",["T_WHITESPACE","\n        ",710],["T_ARRAY","array",711],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",711],",",["T_WHITESPACE"," ",711],["T_VARIABLE","$entity_keys",711],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",711],"]",")",",",["T_WHITESPACE","\n        ",711],["T_ARRAY","array",712],"(",["T_CONSTANT_ENCAPSED_STRING","'uuid'",712],",",["T_WHITESPACE"," ",712],["T_VARIABLE","$entity_keys",712],"[",["T_CONSTANT_ENCAPSED_STRING","'uuid'",712],"]",")",",",["T_WHITESPACE","\n        ",712],["T_ARRAY","array",713],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle'",713],",",["T_WHITESPACE"," ",713],["T_VARIABLE","$entity_keys",713],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",713],"]",")",",",["T_WHITESPACE","\n        ",713],["T_ARRAY","array",714],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",714],",",["T_WHITESPACE"," ",714],["T_VARIABLE","$entity_keys",714],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",714],"]",")",",",["T_WHITESPACE","\n      ",714],")",")",")",";",["T_WHITESPACE","\n\n    ",715],["T_VARIABLE","$this",717],["T_OBJECT_OPERATOR","->",717],["T_STRING","setUpEntityStorage",717],"(",")",";",["T_WHITESPACE","\n\n    ",717],["T_VARIABLE","$mapping",719],["T_WHITESPACE"," ",719],"=",["T_WHITESPACE"," ",719],["T_VARIABLE","$this",719],["T_OBJECT_OPERATOR","->",719],["T_STRING","entityStorage",719],["T_OBJECT_OPERATOR","->",719],["T_STRING","getTableMapping",719],"(",")",";",["T_WHITESPACE","\n\n    ",719],["T_VARIABLE","$expected",721],["T_WHITESPACE"," ",721],"=",["T_WHITESPACE"," ",721],["T_ARRAY","array",721],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",721],",",["T_WHITESPACE"," ",721],["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_data'",721],")",";",["T_WHITESPACE","\n    ",721],["T_VARIABLE","$this",722],["T_OBJECT_OPERATOR","->",722],["T_STRING","assertEquals",722],"(",["T_VARIABLE","$expected",722],",",["T_WHITESPACE"," ",722],["T_VARIABLE","$mapping",722],["T_OBJECT_OPERATOR","->",722],["T_STRING","getTableNames",722],"(",")",")",";",["T_WHITESPACE","\n\n    ",722],["T_VARIABLE","$expected",724],["T_WHITESPACE"," ",724],"=",["T_WHITESPACE"," ",724],["T_STRING","array_values",724],"(",["T_STRING","array_filter",724],"(",["T_VARIABLE","$entity_keys",724],")",")",";",["T_WHITESPACE","\n    ",724],["T_VARIABLE","$actual",725],["T_WHITESPACE"," ",725],"=",["T_WHITESPACE"," ",725],["T_VARIABLE","$mapping",725],["T_OBJECT_OPERATOR","->",725],["T_STRING","getFieldNames",725],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",725],")",";",["T_WHITESPACE","\n    ",725],["T_VARIABLE","$this",726],["T_OBJECT_OPERATOR","->",726],["T_STRING","assertEquals",726],"(",["T_VARIABLE","$expected",726],",",["T_WHITESPACE"," ",726],["T_VARIABLE","$actual",726],")",";",["T_WHITESPACE","\n    ",726],["T_COMMENT","\/\/ The UUID is not stored on the data table.\n",727],["T_WHITESPACE","    ",728],["T_VARIABLE","$expected",728],["T_WHITESPACE"," ",728],"=",["T_WHITESPACE"," ",728],["T_STRING","array_merge",728],"(",["T_STRING","array_filter",728],"(",["T_ARRAY","array",728],"(",["T_WHITESPACE","\n      ",728],["T_VARIABLE","$entity_keys",729],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",729],"]",",",["T_WHITESPACE","\n      ",729],["T_VARIABLE","$entity_keys",730],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",730],"]",",",["T_WHITESPACE","\n      ",730],["T_VARIABLE","$entity_keys",731],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",731],"]",",",["T_WHITESPACE","\n    ",731],")",")",",",["T_WHITESPACE"," ",732],["T_VARIABLE","$base_field_names",732],")",";",["T_WHITESPACE","\n    ",732],["T_VARIABLE","$actual",733],["T_WHITESPACE"," ",733],"=",["T_WHITESPACE"," ",733],["T_VARIABLE","$mapping",733],["T_OBJECT_OPERATOR","->",733],["T_STRING","getFieldNames",733],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_data'",733],")",";",["T_WHITESPACE","\n    ",733],["T_VARIABLE","$this",734],["T_OBJECT_OPERATOR","->",734],["T_STRING","assertEquals",734],"(",["T_VARIABLE","$expected",734],",",["T_WHITESPACE"," ",734],["T_VARIABLE","$actual",734],")",";",["T_WHITESPACE","\n\n    ",734],["T_VARIABLE","$expected",736],["T_WHITESPACE"," ",736],"=",["T_WHITESPACE"," ",736],["T_ARRAY","array",736],"(",")",";",["T_WHITESPACE","\n    ",736],["T_VARIABLE","$actual",737],["T_WHITESPACE"," ",737],"=",["T_WHITESPACE"," ",737],["T_VARIABLE","$mapping",737],["T_OBJECT_OPERATOR","->",737],["T_STRING","getExtraColumns",737],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",737],")",";",["T_WHITESPACE","\n    ",737],["T_VARIABLE","$this",738],["T_OBJECT_OPERATOR","->",738],["T_STRING","assertEquals",738],"(",["T_VARIABLE","$expected",738],",",["T_WHITESPACE"," ",738],["T_VARIABLE","$actual",738],")",";",["T_WHITESPACE","\n    ",738],["T_VARIABLE","$actual",739],["T_WHITESPACE"," ",739],"=",["T_WHITESPACE"," ",739],["T_VARIABLE","$mapping",739],["T_OBJECT_OPERATOR","->",739],["T_STRING","getExtraColumns",739],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_data'",739],")",";",["T_WHITESPACE","\n    ",739],["T_VARIABLE","$this",740],["T_OBJECT_OPERATOR","->",740],["T_STRING","assertEquals",740],"(",["T_VARIABLE","$expected",740],",",["T_WHITESPACE"," ",740],["T_VARIABLE","$actual",740],")",";",["T_WHITESPACE","\n  ",740],"}",["T_WHITESPACE","\n\n  ",741],["T_DOC_COMMENT","\/**\n   * Tests getTableMapping() with a revisionable, translatable entity type.\n   *\n   * @param string[] $entity_keys\n   *   A map of entity keys to use for the mocked entity type.\n   *\n   * @covers ::__construct\n   * @covers ::getTableMapping\n   *\n   * @dataProvider providerTestGetTableMappingSimple()\n   *\/",743],["T_WHITESPACE","\n  ",753],["T_PUBLIC","public",754],["T_WHITESPACE"," ",754],["T_FUNCTION","function",754],["T_WHITESPACE"," ",754],["T_STRING","testGetTableMappingRevisionableTranslatable",754],"(",["T_ARRAY","array",754],["T_WHITESPACE"," ",754],["T_VARIABLE","$entity_keys",754],")",["T_WHITESPACE"," ",754],"{",["T_WHITESPACE","\n    ",754],["T_COMMENT","\/\/ This allows to re-use the data provider.\n",755],["T_WHITESPACE","    ",756],["T_VARIABLE","$entity_keys",756],["T_WHITESPACE"," ",756],"=",["T_WHITESPACE"," ",756],["T_ARRAY","array",756],"(",["T_WHITESPACE","\n      ",756],["T_CONSTANT_ENCAPSED_STRING","'id'",757],["T_WHITESPACE"," ",757],["T_DOUBLE_ARROW","=>",757],["T_WHITESPACE"," ",757],["T_VARIABLE","$entity_keys",757],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",757],"]",",",["T_WHITESPACE","\n      ",757],["T_CONSTANT_ENCAPSED_STRING","'revision'",758],["T_WHITESPACE"," ",758],["T_DOUBLE_ARROW","=>",758],["T_WHITESPACE"," ",758],["T_CONSTANT_ENCAPSED_STRING","'test_revision'",758],",",["T_WHITESPACE","\n      ",758],["T_CONSTANT_ENCAPSED_STRING","'bundle'",759],["T_WHITESPACE"," ",759],["T_DOUBLE_ARROW","=>",759],["T_WHITESPACE"," ",759],["T_VARIABLE","$entity_keys",759],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",759],"]",",",["T_WHITESPACE","\n      ",759],["T_CONSTANT_ENCAPSED_STRING","'uuid'",760],["T_WHITESPACE"," ",760],["T_DOUBLE_ARROW","=>",760],["T_WHITESPACE"," ",760],["T_VARIABLE","$entity_keys",760],"[",["T_CONSTANT_ENCAPSED_STRING","'uuid'",760],"]",",",["T_WHITESPACE","\n      ",760],["T_CONSTANT_ENCAPSED_STRING","'langcode'",761],["T_WHITESPACE"," ",761],["T_DOUBLE_ARROW","=>",761],["T_WHITESPACE"," ",761],["T_CONSTANT_ENCAPSED_STRING","'langcode'",761],",",["T_WHITESPACE","\n    ",761],")",";",["T_WHITESPACE","\n\n    ",762],["T_VARIABLE","$this",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","entityType",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","expects",764],"(",["T_VARIABLE","$this",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","atLeastOnce",764],"(",")",")",["T_WHITESPACE","\n      ",764],["T_OBJECT_OPERATOR","->",765],["T_STRING","method",765],"(",["T_CONSTANT_ENCAPSED_STRING","'isRevisionable'",765],")",["T_WHITESPACE","\n      ",765],["T_OBJECT_OPERATOR","->",766],["T_STRING","will",766],"(",["T_VARIABLE","$this",766],["T_OBJECT_OPERATOR","->",766],["T_STRING","returnValue",766],"(",["T_STRING","TRUE",766],")",")",";",["T_WHITESPACE","\n    ",766],["T_VARIABLE","$this",767],["T_OBJECT_OPERATOR","->",767],["T_STRING","entityType",767],["T_OBJECT_OPERATOR","->",767],["T_STRING","expects",767],"(",["T_VARIABLE","$this",767],["T_OBJECT_OPERATOR","->",767],["T_STRING","atLeastOnce",767],"(",")",")",["T_WHITESPACE","\n      ",767],["T_OBJECT_OPERATOR","->",768],["T_STRING","method",768],"(",["T_CONSTANT_ENCAPSED_STRING","'isTranslatable'",768],")",["T_WHITESPACE","\n      ",768],["T_OBJECT_OPERATOR","->",769],["T_STRING","will",769],"(",["T_VARIABLE","$this",769],["T_OBJECT_OPERATOR","->",769],["T_STRING","returnValue",769],"(",["T_STRING","TRUE",769],")",")",";",["T_WHITESPACE","\n    ",769],["T_VARIABLE","$this",770],["T_OBJECT_OPERATOR","->",770],["T_STRING","entityType",770],["T_OBJECT_OPERATOR","->",770],["T_STRING","expects",770],"(",["T_VARIABLE","$this",770],["T_OBJECT_OPERATOR","->",770],["T_STRING","atLeastOnce",770],"(",")",")",["T_WHITESPACE","\n      ",770],["T_OBJECT_OPERATOR","->",771],["T_STRING","method",771],"(",["T_CONSTANT_ENCAPSED_STRING","'getDataTable'",771],")",["T_WHITESPACE","\n      ",771],["T_OBJECT_OPERATOR","->",772],["T_STRING","will",772],"(",["T_VARIABLE","$this",772],["T_OBJECT_OPERATOR","->",772],["T_STRING","returnValue",772],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_data'",772],")",")",";",["T_WHITESPACE","\n    ",772],["T_VARIABLE","$this",773],["T_OBJECT_OPERATOR","->",773],["T_STRING","entityType",773],["T_OBJECT_OPERATOR","->",773],["T_STRING","expects",773],"(",["T_VARIABLE","$this",773],["T_OBJECT_OPERATOR","->",773],["T_STRING","any",773],"(",")",")",["T_WHITESPACE","\n      ",773],["T_OBJECT_OPERATOR","->",774],["T_STRING","method",774],"(",["T_CONSTANT_ENCAPSED_STRING","'getKey'",774],")",["T_WHITESPACE","\n      ",774],["T_OBJECT_OPERATOR","->",775],["T_STRING","will",775],"(",["T_VARIABLE","$this",775],["T_OBJECT_OPERATOR","->",775],["T_STRING","returnValueMap",775],"(",["T_ARRAY","array",775],"(",["T_WHITESPACE","\n        ",775],["T_ARRAY","array",776],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",776],",",["T_WHITESPACE"," ",776],["T_VARIABLE","$entity_keys",776],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",776],"]",")",",",["T_WHITESPACE","\n        ",776],["T_ARRAY","array",777],"(",["T_CONSTANT_ENCAPSED_STRING","'uuid'",777],",",["T_WHITESPACE"," ",777],["T_VARIABLE","$entity_keys",777],"[",["T_CONSTANT_ENCAPSED_STRING","'uuid'",777],"]",")",",",["T_WHITESPACE","\n        ",777],["T_ARRAY","array",778],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle'",778],",",["T_WHITESPACE"," ",778],["T_VARIABLE","$entity_keys",778],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",778],"]",")",",",["T_WHITESPACE","\n        ",778],["T_ARRAY","array",779],"(",["T_CONSTANT_ENCAPSED_STRING","'revision'",779],",",["T_WHITESPACE"," ",779],["T_VARIABLE","$entity_keys",779],"[",["T_CONSTANT_ENCAPSED_STRING","'revision'",779],"]",")",",",["T_WHITESPACE","\n        ",779],["T_ARRAY","array",780],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",780],",",["T_WHITESPACE"," ",780],["T_VARIABLE","$entity_keys",780],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",780],"]",")",",",["T_WHITESPACE","\n      ",780],")",")",")",";",["T_WHITESPACE","\n\n    ",781],["T_VARIABLE","$this",783],["T_OBJECT_OPERATOR","->",783],["T_STRING","setUpEntityStorage",783],"(",")",";",["T_WHITESPACE","\n\n    ",783],["T_VARIABLE","$mapping",785],["T_WHITESPACE"," ",785],"=",["T_WHITESPACE"," ",785],["T_VARIABLE","$this",785],["T_OBJECT_OPERATOR","->",785],["T_STRING","entityStorage",785],["T_OBJECT_OPERATOR","->",785],["T_STRING","getTableMapping",785],"(",")",";",["T_WHITESPACE","\n\n    ",785],["T_VARIABLE","$expected",787],["T_WHITESPACE"," ",787],"=",["T_WHITESPACE"," ",787],["T_ARRAY","array",787],"(",["T_WHITESPACE","\n      ",787],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",788],",",["T_WHITESPACE","\n      ",788],["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_data'",789],",",["T_WHITESPACE","\n      ",789],["T_CONSTANT_ENCAPSED_STRING","'entity_test_revision'",790],",",["T_WHITESPACE","\n      ",790],["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_revision'",791],",",["T_WHITESPACE","\n    ",791],")",";",["T_WHITESPACE","\n    ",792],["T_VARIABLE","$this",793],["T_OBJECT_OPERATOR","->",793],["T_STRING","assertEquals",793],"(",["T_VARIABLE","$expected",793],",",["T_WHITESPACE"," ",793],["T_VARIABLE","$mapping",793],["T_OBJECT_OPERATOR","->",793],["T_STRING","getTableNames",793],"(",")",")",";",["T_WHITESPACE","\n\n    ",793],["T_COMMENT","\/\/ The default language code is stored on the base table.\n",795],["T_WHITESPACE","    ",796],["T_VARIABLE","$expected",796],["T_WHITESPACE"," ",796],"=",["T_WHITESPACE"," ",796],["T_STRING","array_values",796],"(",["T_STRING","array_filter",796],"(",["T_ARRAY","array",796],"(",["T_WHITESPACE","\n      ",796],["T_VARIABLE","$entity_keys",797],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",797],"]",",",["T_WHITESPACE","\n      ",797],["T_VARIABLE","$entity_keys",798],"[",["T_CONSTANT_ENCAPSED_STRING","'revision'",798],"]",",",["T_WHITESPACE","\n      ",798],["T_VARIABLE","$entity_keys",799],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",799],"]",",",["T_WHITESPACE","\n      ",799],["T_VARIABLE","$entity_keys",800],"[",["T_CONSTANT_ENCAPSED_STRING","'uuid'",800],"]",",",["T_WHITESPACE","\n      ",800],["T_VARIABLE","$entity_keys",801],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",801],"]",",",["T_WHITESPACE","\n    ",801],")",")",")",";",["T_WHITESPACE","\n    ",802],["T_VARIABLE","$actual",803],["T_WHITESPACE"," ",803],"=",["T_WHITESPACE"," ",803],["T_VARIABLE","$mapping",803],["T_OBJECT_OPERATOR","->",803],["T_STRING","getFieldNames",803],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",803],")",";",["T_WHITESPACE","\n    ",803],["T_VARIABLE","$this",804],["T_OBJECT_OPERATOR","->",804],["T_STRING","assertEquals",804],"(",["T_VARIABLE","$expected",804],",",["T_WHITESPACE"," ",804],["T_VARIABLE","$actual",804],")",";",["T_WHITESPACE","\n    ",804],["T_COMMENT","\/\/ The revision table on the other hand does not store the bundle and the\n",805],["T_WHITESPACE","    ",806],["T_COMMENT","\/\/ UUID.\n",806],["T_WHITESPACE","    ",807],["T_VARIABLE","$expected",807],["T_WHITESPACE"," ",807],"=",["T_WHITESPACE"," ",807],["T_STRING","array_values",807],"(",["T_STRING","array_filter",807],"(",["T_ARRAY","array",807],"(",["T_WHITESPACE","\n      ",807],["T_VARIABLE","$entity_keys",808],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",808],"]",",",["T_WHITESPACE","\n      ",808],["T_VARIABLE","$entity_keys",809],"[",["T_CONSTANT_ENCAPSED_STRING","'revision'",809],"]",",",["T_WHITESPACE","\n      ",809],["T_VARIABLE","$entity_keys",810],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",810],"]",",",["T_WHITESPACE","\n    ",810],")",")",")",";",["T_WHITESPACE","\n    ",811],["T_VARIABLE","$actual",812],["T_WHITESPACE"," ",812],"=",["T_WHITESPACE"," ",812],["T_VARIABLE","$mapping",812],["T_OBJECT_OPERATOR","->",812],["T_STRING","getFieldNames",812],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_revision'",812],")",";",["T_WHITESPACE","\n    ",812],["T_VARIABLE","$this",813],["T_OBJECT_OPERATOR","->",813],["T_STRING","assertEquals",813],"(",["T_VARIABLE","$expected",813],",",["T_WHITESPACE"," ",813],["T_VARIABLE","$actual",813],")",";",["T_WHITESPACE","\n    ",813],["T_COMMENT","\/\/ The UUID is not stored on the data table.\n",814],["T_WHITESPACE","    ",815],["T_VARIABLE","$expected",815],["T_WHITESPACE"," ",815],"=",["T_WHITESPACE"," ",815],["T_STRING","array_values",815],"(",["T_STRING","array_filter",815],"(",["T_ARRAY","array",815],"(",["T_WHITESPACE","\n      ",815],["T_VARIABLE","$entity_keys",816],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",816],"]",",",["T_WHITESPACE","\n      ",816],["T_VARIABLE","$entity_keys",817],"[",["T_CONSTANT_ENCAPSED_STRING","'revision'",817],"]",",",["T_WHITESPACE","\n      ",817],["T_VARIABLE","$entity_keys",818],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",818],"]",",",["T_WHITESPACE","\n      ",818],["T_VARIABLE","$entity_keys",819],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",819],"]",",",["T_WHITESPACE","\n    ",819],")",")",")",";",["T_WHITESPACE","\n    ",820],["T_VARIABLE","$actual",821],["T_WHITESPACE"," ",821],"=",["T_WHITESPACE"," ",821],["T_VARIABLE","$mapping",821],["T_OBJECT_OPERATOR","->",821],["T_STRING","getFieldNames",821],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_data'",821],")",";",["T_WHITESPACE","\n    ",821],["T_VARIABLE","$this",822],["T_OBJECT_OPERATOR","->",822],["T_STRING","assertEquals",822],"(",["T_VARIABLE","$expected",822],",",["T_WHITESPACE"," ",822],["T_VARIABLE","$actual",822],")",";",["T_WHITESPACE","\n    ",822],["T_COMMENT","\/\/ The data revision also does not store the bundle.\n",823],["T_WHITESPACE","    ",824],["T_VARIABLE","$expected",824],["T_WHITESPACE"," ",824],"=",["T_WHITESPACE"," ",824],["T_STRING","array_values",824],"(",["T_STRING","array_filter",824],"(",["T_ARRAY","array",824],"(",["T_WHITESPACE","\n      ",824],["T_VARIABLE","$entity_keys",825],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",825],"]",",",["T_WHITESPACE","\n      ",825],["T_VARIABLE","$entity_keys",826],"[",["T_CONSTANT_ENCAPSED_STRING","'revision'",826],"]",",",["T_WHITESPACE","\n      ",826],["T_VARIABLE","$entity_keys",827],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",827],"]",",",["T_WHITESPACE","\n    ",827],")",")",")",";",["T_WHITESPACE","\n    ",828],["T_VARIABLE","$actual",829],["T_WHITESPACE"," ",829],"=",["T_WHITESPACE"," ",829],["T_VARIABLE","$mapping",829],["T_OBJECT_OPERATOR","->",829],["T_STRING","getFieldNames",829],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_revision'",829],")",";",["T_WHITESPACE","\n    ",829],["T_VARIABLE","$this",830],["T_OBJECT_OPERATOR","->",830],["T_STRING","assertEquals",830],"(",["T_VARIABLE","$expected",830],",",["T_WHITESPACE"," ",830],["T_VARIABLE","$actual",830],")",";",["T_WHITESPACE","\n\n    ",830],["T_VARIABLE","$expected",832],["T_WHITESPACE"," ",832],"=",["T_WHITESPACE"," ",832],["T_ARRAY","array",832],"(",")",";",["T_WHITESPACE","\n    ",832],["T_VARIABLE","$actual",833],["T_WHITESPACE"," ",833],"=",["T_WHITESPACE"," ",833],["T_VARIABLE","$mapping",833],["T_OBJECT_OPERATOR","->",833],["T_STRING","getExtraColumns",833],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",833],")",";",["T_WHITESPACE","\n    ",833],["T_VARIABLE","$this",834],["T_OBJECT_OPERATOR","->",834],["T_STRING","assertEquals",834],"(",["T_VARIABLE","$expected",834],",",["T_WHITESPACE"," ",834],["T_VARIABLE","$actual",834],")",";",["T_WHITESPACE","\n    ",834],["T_VARIABLE","$actual",835],["T_WHITESPACE"," ",835],"=",["T_WHITESPACE"," ",835],["T_VARIABLE","$mapping",835],["T_OBJECT_OPERATOR","->",835],["T_STRING","getExtraColumns",835],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_revision'",835],")",";",["T_WHITESPACE","\n    ",835],["T_VARIABLE","$this",836],["T_OBJECT_OPERATOR","->",836],["T_STRING","assertEquals",836],"(",["T_VARIABLE","$expected",836],",",["T_WHITESPACE"," ",836],["T_VARIABLE","$actual",836],")",";",["T_WHITESPACE","\n    ",836],["T_VARIABLE","$actual",837],["T_WHITESPACE"," ",837],"=",["T_WHITESPACE"," ",837],["T_VARIABLE","$mapping",837],["T_OBJECT_OPERATOR","->",837],["T_STRING","getExtraColumns",837],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_data'",837],")",";",["T_WHITESPACE","\n    ",837],["T_VARIABLE","$this",838],["T_OBJECT_OPERATOR","->",838],["T_STRING","assertEquals",838],"(",["T_VARIABLE","$expected",838],",",["T_WHITESPACE"," ",838],["T_VARIABLE","$actual",838],")",";",["T_WHITESPACE","\n    ",838],["T_VARIABLE","$actual",839],["T_WHITESPACE"," ",839],"=",["T_WHITESPACE"," ",839],["T_VARIABLE","$mapping",839],["T_OBJECT_OPERATOR","->",839],["T_STRING","getExtraColumns",839],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_revision'",839],")",";",["T_WHITESPACE","\n    ",839],["T_VARIABLE","$this",840],["T_OBJECT_OPERATOR","->",840],["T_STRING","assertEquals",840],"(",["T_VARIABLE","$expected",840],",",["T_WHITESPACE"," ",840],["T_VARIABLE","$actual",840],")",";",["T_WHITESPACE","\n  ",840],"}",["T_WHITESPACE","\n\n  ",841],["T_DOC_COMMENT","\/**\n   * Tests getTableMapping() with a complex entity type with fields.\n   *\n   * @param string[] $entity_keys\n   *   A map of entity keys to use for the mocked entity type.\n   *\n   * @covers ::__construct\n   * @covers ::getTableMapping\n   *\n   * @dataProvider providerTestGetTableMappingSimple()\n   *\/",843],["T_WHITESPACE","\n  ",853],["T_PUBLIC","public",854],["T_WHITESPACE"," ",854],["T_FUNCTION","function",854],["T_WHITESPACE"," ",854],["T_STRING","testGetTableMappingRevisionableTranslatableWithFields",854],"(",["T_ARRAY","array",854],["T_WHITESPACE"," ",854],["T_VARIABLE","$entity_keys",854],")",["T_WHITESPACE"," ",854],"{",["T_WHITESPACE","\n    ",854],["T_COMMENT","\/\/ This allows to re-use the data provider.\n",855],["T_WHITESPACE","    ",856],["T_VARIABLE","$entity_keys",856],["T_WHITESPACE"," ",856],"=",["T_WHITESPACE"," ",856],["T_ARRAY","array",856],"(",["T_WHITESPACE","\n      ",856],["T_CONSTANT_ENCAPSED_STRING","'id'",857],["T_WHITESPACE"," ",857],["T_DOUBLE_ARROW","=>",857],["T_WHITESPACE"," ",857],["T_VARIABLE","$entity_keys",857],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",857],"]",",",["T_WHITESPACE","\n      ",857],["T_CONSTANT_ENCAPSED_STRING","'revision'",858],["T_WHITESPACE"," ",858],["T_DOUBLE_ARROW","=>",858],["T_WHITESPACE"," ",858],["T_CONSTANT_ENCAPSED_STRING","'test_revision'",858],",",["T_WHITESPACE","\n      ",858],["T_CONSTANT_ENCAPSED_STRING","'bundle'",859],["T_WHITESPACE"," ",859],["T_DOUBLE_ARROW","=>",859],["T_WHITESPACE"," ",859],["T_VARIABLE","$entity_keys",859],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",859],"]",",",["T_WHITESPACE","\n      ",859],["T_CONSTANT_ENCAPSED_STRING","'uuid'",860],["T_WHITESPACE"," ",860],["T_DOUBLE_ARROW","=>",860],["T_WHITESPACE"," ",860],["T_VARIABLE","$entity_keys",860],"[",["T_CONSTANT_ENCAPSED_STRING","'uuid'",860],"]",",",["T_WHITESPACE","\n      ",860],["T_CONSTANT_ENCAPSED_STRING","'langcode'",861],["T_WHITESPACE"," ",861],["T_DOUBLE_ARROW","=>",861],["T_WHITESPACE"," ",861],["T_CONSTANT_ENCAPSED_STRING","'langcode'",861],",",["T_WHITESPACE","\n    ",861],")",";",["T_WHITESPACE","\n\n    ",862],["T_COMMENT","\/\/ PHPUnit does not allow for multiple data providers.\n",864],["T_WHITESPACE","    ",865],["T_VARIABLE","$test_cases",865],["T_WHITESPACE"," ",865],"=",["T_WHITESPACE"," ",865],["T_ARRAY","array",865],"(",["T_WHITESPACE","\n      ",865],["T_ARRAY","array",866],"(",")",",",["T_WHITESPACE","\n      ",866],["T_ARRAY","array",867],"(",["T_CONSTANT_ENCAPSED_STRING","'revision_timestamp'",867],")",",",["T_WHITESPACE","\n      ",867],["T_ARRAY","array",868],"(",["T_CONSTANT_ENCAPSED_STRING","'revision_uid'",868],")",",",["T_WHITESPACE","\n      ",868],["T_ARRAY","array",869],"(",["T_CONSTANT_ENCAPSED_STRING","'revision_log'",869],")",",",["T_WHITESPACE","\n      ",869],["T_ARRAY","array",870],"(",["T_CONSTANT_ENCAPSED_STRING","'revision_timestamp'",870],",",["T_WHITESPACE"," ",870],["T_CONSTANT_ENCAPSED_STRING","'revision_uid'",870],")",",",["T_WHITESPACE","\n      ",870],["T_ARRAY","array",871],"(",["T_CONSTANT_ENCAPSED_STRING","'revision_timestamp'",871],",",["T_WHITESPACE"," ",871],["T_CONSTANT_ENCAPSED_STRING","'revision_log'",871],")",",",["T_WHITESPACE","\n      ",871],["T_ARRAY","array",872],"(",["T_CONSTANT_ENCAPSED_STRING","'revision_uid'",872],",",["T_WHITESPACE"," ",872],["T_CONSTANT_ENCAPSED_STRING","'revision_log'",872],")",",",["T_WHITESPACE","\n      ",872],["T_ARRAY","array",873],"(",["T_CONSTANT_ENCAPSED_STRING","'revision_timestamp'",873],",",["T_WHITESPACE"," ",873],["T_CONSTANT_ENCAPSED_STRING","'revision_uid'",873],",",["T_WHITESPACE"," ",873],["T_CONSTANT_ENCAPSED_STRING","'revision_log'",873],")",",",["T_WHITESPACE","\n    ",873],")",";",["T_WHITESPACE","\n    ",874],["T_FOREACH","foreach",875],["T_WHITESPACE"," ",875],"(",["T_VARIABLE","$test_cases",875],["T_WHITESPACE"," ",875],["T_AS","as",875],["T_WHITESPACE"," ",875],["T_VARIABLE","$revision_metadata_field_names",875],")",["T_WHITESPACE"," ",875],"{",["T_WHITESPACE","\n      ",875],["T_VARIABLE","$this",876],["T_OBJECT_OPERATOR","->",876],["T_STRING","setUp",876],"(",")",";",["T_WHITESPACE","\n\n      ",876],["T_VARIABLE","$base_field_names",878],["T_WHITESPACE"," ",878],"=",["T_WHITESPACE"," ",878],["T_ARRAY","array",878],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",878],")",";",["T_WHITESPACE","\n      ",878],["T_VARIABLE","$field_names",879],["T_WHITESPACE"," ",879],"=",["T_WHITESPACE"," ",879],["T_STRING","array_merge",879],"(",["T_STRING","array_values",879],"(",["T_STRING","array_filter",879],"(",["T_VARIABLE","$entity_keys",879],")",")",",",["T_WHITESPACE"," ",879],["T_VARIABLE","$base_field_names",879],")",";",["T_WHITESPACE","\n      ",879],["T_VARIABLE","$this",880],["T_OBJECT_OPERATOR","->",880],["T_STRING","fieldDefinitions",880],["T_WHITESPACE"," ",880],"=",["T_WHITESPACE"," ",880],["T_VARIABLE","$this",880],["T_OBJECT_OPERATOR","->",880],["T_STRING","mockFieldDefinitions",880],"(",["T_VARIABLE","$field_names",880],")",";",["T_WHITESPACE","\n\n      ",880],["T_VARIABLE","$revisionable_field_names",882],["T_WHITESPACE"," ",882],"=",["T_WHITESPACE"," ",882],["T_ARRAY","array",882],"(",["T_CONSTANT_ENCAPSED_STRING","'description'",882],",",["T_WHITESPACE"," ",882],["T_CONSTANT_ENCAPSED_STRING","'owner'",882],")",";",["T_WHITESPACE","\n      ",882],["T_VARIABLE","$this",883],["T_OBJECT_OPERATOR","->",883],["T_STRING","fieldDefinitions",883],["T_WHITESPACE"," ",883],["T_PLUS_EQUAL","+=",883],["T_WHITESPACE"," ",883],["T_VARIABLE","$this",883],["T_OBJECT_OPERATOR","->",883],["T_STRING","mockFieldDefinitions",883],"(",["T_STRING","array_merge",883],"(",["T_VARIABLE","$revisionable_field_names",883],",",["T_WHITESPACE"," ",883],["T_VARIABLE","$revision_metadata_field_names",883],")",",",["T_WHITESPACE"," ",883],["T_ARRAY","array",883],"(",["T_CONSTANT_ENCAPSED_STRING","'isRevisionable'",883],["T_WHITESPACE"," ",883],["T_DOUBLE_ARROW","=>",883],["T_WHITESPACE"," ",883],["T_STRING","TRUE",883],")",")",";",["T_WHITESPACE","\n\n      ",883],["T_VARIABLE","$this",885],["T_OBJECT_OPERATOR","->",885],["T_STRING","entityType",885],["T_OBJECT_OPERATOR","->",885],["T_STRING","expects",885],"(",["T_VARIABLE","$this",885],["T_OBJECT_OPERATOR","->",885],["T_STRING","atLeastOnce",885],"(",")",")",["T_WHITESPACE","\n        ",885],["T_OBJECT_OPERATOR","->",886],["T_STRING","method",886],"(",["T_CONSTANT_ENCAPSED_STRING","'isRevisionable'",886],")",["T_WHITESPACE","\n        ",886],["T_OBJECT_OPERATOR","->",887],["T_STRING","will",887],"(",["T_VARIABLE","$this",887],["T_OBJECT_OPERATOR","->",887],["T_STRING","returnValue",887],"(",["T_STRING","TRUE",887],")",")",";",["T_WHITESPACE","\n      ",887],["T_VARIABLE","$this",888],["T_OBJECT_OPERATOR","->",888],["T_STRING","entityType",888],["T_OBJECT_OPERATOR","->",888],["T_STRING","expects",888],"(",["T_VARIABLE","$this",888],["T_OBJECT_OPERATOR","->",888],["T_STRING","atLeastOnce",888],"(",")",")",["T_WHITESPACE","\n        ",888],["T_OBJECT_OPERATOR","->",889],["T_STRING","method",889],"(",["T_CONSTANT_ENCAPSED_STRING","'isTranslatable'",889],")",["T_WHITESPACE","\n        ",889],["T_OBJECT_OPERATOR","->",890],["T_STRING","will",890],"(",["T_VARIABLE","$this",890],["T_OBJECT_OPERATOR","->",890],["T_STRING","returnValue",890],"(",["T_STRING","TRUE",890],")",")",";",["T_WHITESPACE","\n      ",890],["T_VARIABLE","$this",891],["T_OBJECT_OPERATOR","->",891],["T_STRING","entityType",891],["T_OBJECT_OPERATOR","->",891],["T_STRING","expects",891],"(",["T_VARIABLE","$this",891],["T_OBJECT_OPERATOR","->",891],["T_STRING","atLeastOnce",891],"(",")",")",["T_WHITESPACE","\n        ",891],["T_OBJECT_OPERATOR","->",892],["T_STRING","method",892],"(",["T_CONSTANT_ENCAPSED_STRING","'getDataTable'",892],")",["T_WHITESPACE","\n        ",892],["T_OBJECT_OPERATOR","->",893],["T_STRING","will",893],"(",["T_VARIABLE","$this",893],["T_OBJECT_OPERATOR","->",893],["T_STRING","returnValue",893],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_data'",893],")",")",";",["T_WHITESPACE","\n      ",893],["T_VARIABLE","$this",894],["T_OBJECT_OPERATOR","->",894],["T_STRING","entityType",894],["T_OBJECT_OPERATOR","->",894],["T_STRING","expects",894],"(",["T_VARIABLE","$this",894],["T_OBJECT_OPERATOR","->",894],["T_STRING","any",894],"(",")",")",["T_WHITESPACE","\n        ",894],["T_OBJECT_OPERATOR","->",895],["T_STRING","method",895],"(",["T_CONSTANT_ENCAPSED_STRING","'getKey'",895],")",["T_WHITESPACE","\n        ",895],["T_OBJECT_OPERATOR","->",896],["T_STRING","will",896],"(",["T_VARIABLE","$this",896],["T_OBJECT_OPERATOR","->",896],["T_STRING","returnValueMap",896],"(",["T_ARRAY","array",896],"(",["T_WHITESPACE","\n          ",896],["T_ARRAY","array",897],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",897],",",["T_WHITESPACE"," ",897],["T_VARIABLE","$entity_keys",897],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",897],"]",")",",",["T_WHITESPACE","\n          ",897],["T_ARRAY","array",898],"(",["T_CONSTANT_ENCAPSED_STRING","'uuid'",898],",",["T_WHITESPACE"," ",898],["T_VARIABLE","$entity_keys",898],"[",["T_CONSTANT_ENCAPSED_STRING","'uuid'",898],"]",")",",",["T_WHITESPACE","\n          ",898],["T_ARRAY","array",899],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle'",899],",",["T_WHITESPACE"," ",899],["T_VARIABLE","$entity_keys",899],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",899],"]",")",",",["T_WHITESPACE","\n          ",899],["T_ARRAY","array",900],"(",["T_CONSTANT_ENCAPSED_STRING","'revision'",900],",",["T_WHITESPACE"," ",900],["T_VARIABLE","$entity_keys",900],"[",["T_CONSTANT_ENCAPSED_STRING","'revision'",900],"]",")",",",["T_WHITESPACE","\n          ",900],["T_ARRAY","array",901],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",901],",",["T_WHITESPACE"," ",901],["T_VARIABLE","$entity_keys",901],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",901],"]",")",",",["T_WHITESPACE","\n        ",901],")",")",")",";",["T_WHITESPACE","\n\n      ",902],["T_VARIABLE","$this",904],["T_OBJECT_OPERATOR","->",904],["T_STRING","setUpEntityStorage",904],"(",")",";",["T_WHITESPACE","\n\n      ",904],["T_VARIABLE","$mapping",906],["T_WHITESPACE"," ",906],"=",["T_WHITESPACE"," ",906],["T_VARIABLE","$this",906],["T_OBJECT_OPERATOR","->",906],["T_STRING","entityStorage",906],["T_OBJECT_OPERATOR","->",906],["T_STRING","getTableMapping",906],"(",")",";",["T_WHITESPACE","\n\n      ",906],["T_VARIABLE","$expected",908],["T_WHITESPACE"," ",908],"=",["T_WHITESPACE"," ",908],["T_ARRAY","array",908],"(",["T_WHITESPACE","\n        ",908],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",909],",",["T_WHITESPACE","\n        ",909],["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_data'",910],",",["T_WHITESPACE","\n        ",910],["T_CONSTANT_ENCAPSED_STRING","'entity_test_revision'",911],",",["T_WHITESPACE","\n        ",911],["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_revision'",912],",",["T_WHITESPACE","\n      ",912],")",";",["T_WHITESPACE","\n      ",913],["T_VARIABLE","$this",914],["T_OBJECT_OPERATOR","->",914],["T_STRING","assertEquals",914],"(",["T_VARIABLE","$expected",914],",",["T_WHITESPACE"," ",914],["T_VARIABLE","$mapping",914],["T_OBJECT_OPERATOR","->",914],["T_STRING","getTableNames",914],"(",")",")",";",["T_WHITESPACE","\n\n      ",914],["T_VARIABLE","$expected",916],["T_WHITESPACE"," ",916],"=",["T_WHITESPACE"," ",916],["T_ARRAY","array",916],"(",["T_WHITESPACE","\n        ",916],["T_CONSTANT_ENCAPSED_STRING","'entity_test'",917],",",["T_WHITESPACE","\n        ",917],["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_data'",918],",",["T_WHITESPACE","\n        ",918],["T_CONSTANT_ENCAPSED_STRING","'entity_test_revision'",919],",",["T_WHITESPACE","\n        ",919],["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_revision'",920],",",["T_WHITESPACE","\n      ",920],")",";",["T_WHITESPACE","\n      ",921],["T_VARIABLE","$this",922],["T_OBJECT_OPERATOR","->",922],["T_STRING","assertEquals",922],"(",["T_VARIABLE","$expected",922],",",["T_WHITESPACE"," ",922],["T_VARIABLE","$mapping",922],["T_OBJECT_OPERATOR","->",922],["T_STRING","getTableNames",922],"(",")",")",";",["T_WHITESPACE","\n\n      ",922],["T_COMMENT","\/\/ The default language code is not stored on the base table.\n",924],["T_WHITESPACE","      ",925],["T_VARIABLE","$expected",925],["T_WHITESPACE"," ",925],"=",["T_WHITESPACE"," ",925],["T_STRING","array_values",925],"(",["T_STRING","array_filter",925],"(",["T_ARRAY","array",925],"(",["T_WHITESPACE","\n        ",925],["T_VARIABLE","$entity_keys",926],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",926],"]",",",["T_WHITESPACE","\n        ",926],["T_VARIABLE","$entity_keys",927],"[",["T_CONSTANT_ENCAPSED_STRING","'revision'",927],"]",",",["T_WHITESPACE","\n        ",927],["T_VARIABLE","$entity_keys",928],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",928],"]",",",["T_WHITESPACE","\n        ",928],["T_VARIABLE","$entity_keys",929],"[",["T_CONSTANT_ENCAPSED_STRING","'uuid'",929],"]",",",["T_WHITESPACE","\n        ",929],["T_VARIABLE","$entity_keys",930],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",930],"]",",",["T_WHITESPACE","\n      ",930],")",")",")",";",["T_WHITESPACE","\n      ",931],["T_VARIABLE","$actual",932],["T_WHITESPACE"," ",932],"=",["T_WHITESPACE"," ",932],["T_VARIABLE","$mapping",932],["T_OBJECT_OPERATOR","->",932],["T_STRING","getFieldNames",932],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",932],")",";",["T_WHITESPACE","\n      ",932],["T_VARIABLE","$this",933],["T_OBJECT_OPERATOR","->",933],["T_STRING","assertEquals",933],"(",["T_VARIABLE","$expected",933],",",["T_WHITESPACE"," ",933],["T_VARIABLE","$actual",933],")",";",["T_WHITESPACE","\n      ",933],["T_COMMENT","\/\/ The revision table on the other hand does not store the bundle and the\n",934],["T_WHITESPACE","      ",935],["T_COMMENT","\/\/ UUID.\n",935],["T_WHITESPACE","      ",936],["T_VARIABLE","$expected",936],["T_WHITESPACE"," ",936],"=",["T_WHITESPACE"," ",936],["T_STRING","array_merge",936],"(",["T_STRING","array_filter",936],"(",["T_ARRAY","array",936],"(",["T_WHITESPACE","\n        ",936],["T_VARIABLE","$entity_keys",937],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",937],"]",",",["T_WHITESPACE","\n        ",937],["T_VARIABLE","$entity_keys",938],"[",["T_CONSTANT_ENCAPSED_STRING","'revision'",938],"]",",",["T_WHITESPACE","\n        ",938],["T_VARIABLE","$entity_keys",939],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",939],"]",",",["T_WHITESPACE","\n      ",939],")",")",",",["T_WHITESPACE"," ",940],["T_VARIABLE","$revision_metadata_field_names",940],")",";",["T_WHITESPACE","\n      ",940],["T_VARIABLE","$actual",941],["T_WHITESPACE"," ",941],"=",["T_WHITESPACE"," ",941],["T_VARIABLE","$mapping",941],["T_OBJECT_OPERATOR","->",941],["T_STRING","getFieldNames",941],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_revision'",941],")",";",["T_WHITESPACE","\n      ",941],["T_VARIABLE","$this",942],["T_OBJECT_OPERATOR","->",942],["T_STRING","assertEquals",942],"(",["T_VARIABLE","$expected",942],",",["T_WHITESPACE"," ",942],["T_VARIABLE","$actual",942],")",";",["T_WHITESPACE","\n      ",942],["T_COMMENT","\/\/ The UUID is not stored on the data table.\n",943],["T_WHITESPACE","      ",944],["T_VARIABLE","$expected",944],["T_WHITESPACE"," ",944],"=",["T_WHITESPACE"," ",944],["T_STRING","array_merge",944],"(",["T_STRING","array_filter",944],"(",["T_ARRAY","array",944],"(",["T_WHITESPACE","\n        ",944],["T_VARIABLE","$entity_keys",945],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",945],"]",",",["T_WHITESPACE","\n        ",945],["T_VARIABLE","$entity_keys",946],"[",["T_CONSTANT_ENCAPSED_STRING","'revision'",946],"]",",",["T_WHITESPACE","\n        ",946],["T_VARIABLE","$entity_keys",947],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",947],"]",",",["T_WHITESPACE","\n        ",947],["T_VARIABLE","$entity_keys",948],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",948],"]",",",["T_WHITESPACE","\n      ",948],")",")",",",["T_WHITESPACE"," ",949],["T_VARIABLE","$base_field_names",949],",",["T_WHITESPACE"," ",949],["T_VARIABLE","$revisionable_field_names",949],")",";",["T_WHITESPACE","\n      ",949],["T_VARIABLE","$actual",950],["T_WHITESPACE"," ",950],"=",["T_WHITESPACE"," ",950],["T_VARIABLE","$mapping",950],["T_OBJECT_OPERATOR","->",950],["T_STRING","getFieldNames",950],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_data'",950],")",";",["T_WHITESPACE","\n      ",950],["T_VARIABLE","$this",951],["T_OBJECT_OPERATOR","->",951],["T_STRING","assertEquals",951],"(",["T_VARIABLE","$expected",951],",",["T_WHITESPACE"," ",951],["T_VARIABLE","$actual",951],")",";",["T_WHITESPACE","\n      ",951],["T_COMMENT","\/\/ The data revision also does not store the bundle.\n",952],["T_WHITESPACE","      ",953],["T_VARIABLE","$expected",953],["T_WHITESPACE"," ",953],"=",["T_WHITESPACE"," ",953],["T_STRING","array_merge",953],"(",["T_STRING","array_filter",953],"(",["T_ARRAY","array",953],"(",["T_WHITESPACE","\n        ",953],["T_VARIABLE","$entity_keys",954],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",954],"]",",",["T_WHITESPACE","\n        ",954],["T_VARIABLE","$entity_keys",955],"[",["T_CONSTANT_ENCAPSED_STRING","'revision'",955],"]",",",["T_WHITESPACE","\n        ",955],["T_VARIABLE","$entity_keys",956],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",956],"]",",",["T_WHITESPACE","\n      ",956],")",")",",",["T_WHITESPACE"," ",957],["T_VARIABLE","$revisionable_field_names",957],")",";",["T_WHITESPACE","\n      ",957],["T_VARIABLE","$actual",958],["T_WHITESPACE"," ",958],"=",["T_WHITESPACE"," ",958],["T_VARIABLE","$mapping",958],["T_OBJECT_OPERATOR","->",958],["T_STRING","getFieldNames",958],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_revision'",958],")",";",["T_WHITESPACE","\n      ",958],["T_VARIABLE","$this",959],["T_OBJECT_OPERATOR","->",959],["T_STRING","assertEquals",959],"(",["T_VARIABLE","$expected",959],",",["T_WHITESPACE"," ",959],["T_VARIABLE","$actual",959],")",";",["T_WHITESPACE","\n\n      ",959],["T_VARIABLE","$expected",961],["T_WHITESPACE"," ",961],"=",["T_WHITESPACE"," ",961],["T_ARRAY","array",961],"(",")",";",["T_WHITESPACE","\n      ",961],["T_VARIABLE","$actual",962],["T_WHITESPACE"," ",962],"=",["T_WHITESPACE"," ",962],["T_VARIABLE","$mapping",962],["T_OBJECT_OPERATOR","->",962],["T_STRING","getExtraColumns",962],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test'",962],")",";",["T_WHITESPACE","\n      ",962],["T_VARIABLE","$this",963],["T_OBJECT_OPERATOR","->",963],["T_STRING","assertEquals",963],"(",["T_VARIABLE","$expected",963],",",["T_WHITESPACE"," ",963],["T_VARIABLE","$actual",963],")",";",["T_WHITESPACE","\n      ",963],["T_VARIABLE","$actual",964],["T_WHITESPACE"," ",964],"=",["T_WHITESPACE"," ",964],["T_VARIABLE","$mapping",964],["T_OBJECT_OPERATOR","->",964],["T_STRING","getExtraColumns",964],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_revision'",964],")",";",["T_WHITESPACE","\n      ",964],["T_VARIABLE","$this",965],["T_OBJECT_OPERATOR","->",965],["T_STRING","assertEquals",965],"(",["T_VARIABLE","$expected",965],",",["T_WHITESPACE"," ",965],["T_VARIABLE","$actual",965],")",";",["T_WHITESPACE","\n      ",965],["T_VARIABLE","$actual",966],["T_WHITESPACE"," ",966],"=",["T_WHITESPACE"," ",966],["T_VARIABLE","$mapping",966],["T_OBJECT_OPERATOR","->",966],["T_STRING","getExtraColumns",966],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_data'",966],")",";",["T_WHITESPACE","\n      ",966],["T_VARIABLE","$this",967],["T_OBJECT_OPERATOR","->",967],["T_STRING","assertEquals",967],"(",["T_VARIABLE","$expected",967],",",["T_WHITESPACE"," ",967],["T_VARIABLE","$actual",967],")",";",["T_WHITESPACE","\n      ",967],["T_VARIABLE","$actual",968],["T_WHITESPACE"," ",968],"=",["T_WHITESPACE"," ",968],["T_VARIABLE","$mapping",968],["T_OBJECT_OPERATOR","->",968],["T_STRING","getExtraColumns",968],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_test_field_revision'",968],")",";",["T_WHITESPACE","\n      ",968],["T_VARIABLE","$this",969],["T_OBJECT_OPERATOR","->",969],["T_STRING","assertEquals",969],"(",["T_VARIABLE","$expected",969],",",["T_WHITESPACE"," ",969],["T_VARIABLE","$actual",969],")",";",["T_WHITESPACE","\n    ",969],"}",["T_WHITESPACE","\n  ",970],"}",["T_WHITESPACE","\n\n  ",971],["T_DOC_COMMENT","\/**\n   * @covers ::create\n   *\/",973],["T_WHITESPACE","\n  ",975],["T_PUBLIC","public",976],["T_WHITESPACE"," ",976],["T_FUNCTION","function",976],["T_WHITESPACE"," ",976],["T_STRING","testCreate",976],"(",")",["T_WHITESPACE"," ",976],"{",["T_WHITESPACE","\n    ",976],["T_VARIABLE","$language_manager",977],["T_WHITESPACE"," ",977],"=",["T_WHITESPACE"," ",977],["T_VARIABLE","$this",977],["T_OBJECT_OPERATOR","->",977],["T_STRING","getMock",977],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Language\\LanguageManagerInterface'",977],")",";",["T_WHITESPACE","\n\n    ",977],["T_VARIABLE","$language",979],["T_WHITESPACE"," ",979],"=",["T_WHITESPACE"," ",979],["T_NEW","new",979],["T_WHITESPACE"," ",979],["T_STRING","Language",979],"(",["T_ARRAY","array",979],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",979],["T_WHITESPACE"," ",979],["T_DOUBLE_ARROW","=>",979],["T_WHITESPACE"," ",979],["T_CONSTANT_ENCAPSED_STRING","'en'",979],")",")",";",["T_WHITESPACE","\n    ",979],["T_VARIABLE","$language_manager",980],["T_OBJECT_OPERATOR","->",980],["T_STRING","expects",980],"(",["T_VARIABLE","$this",980],["T_OBJECT_OPERATOR","->",980],["T_STRING","any",980],"(",")",")",["T_WHITESPACE","\n      ",980],["T_OBJECT_OPERATOR","->",981],["T_STRING","method",981],"(",["T_CONSTANT_ENCAPSED_STRING","'getCurrentLanguage'",981],")",["T_WHITESPACE","\n      ",981],["T_OBJECT_OPERATOR","->",982],["T_STRING","will",982],"(",["T_VARIABLE","$this",982],["T_OBJECT_OPERATOR","->",982],["T_STRING","returnValue",982],"(",["T_VARIABLE","$language",982],")",")",";",["T_WHITESPACE","\n\n    ",982],["T_VARIABLE","$this",984],["T_OBJECT_OPERATOR","->",984],["T_STRING","container",984],["T_OBJECT_OPERATOR","->",984],["T_STRING","set",984],"(",["T_CONSTANT_ENCAPSED_STRING","'language_manager'",984],",",["T_WHITESPACE"," ",984],["T_VARIABLE","$language_manager",984],")",";",["T_WHITESPACE","\n    ",984],["T_VARIABLE","$this",985],["T_OBJECT_OPERATOR","->",985],["T_STRING","container",985],["T_OBJECT_OPERATOR","->",985],["T_STRING","set",985],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.manager'",985],",",["T_WHITESPACE"," ",985],["T_VARIABLE","$this",985],["T_OBJECT_OPERATOR","->",985],["T_STRING","entityManager",985],")",";",["T_WHITESPACE","\n    ",985],["T_VARIABLE","$this",986],["T_OBJECT_OPERATOR","->",986],["T_STRING","container",986],["T_OBJECT_OPERATOR","->",986],["T_STRING","set",986],"(",["T_CONSTANT_ENCAPSED_STRING","'module_handler'",986],",",["T_WHITESPACE"," ",986],["T_VARIABLE","$this",986],["T_OBJECT_OPERATOR","->",986],["T_STRING","moduleHandler",986],")",";",["T_WHITESPACE","\n\n    ",986],["T_VARIABLE","$entity",988],["T_WHITESPACE"," ",988],"=",["T_WHITESPACE"," ",988],["T_VARIABLE","$this",988],["T_OBJECT_OPERATOR","->",988],["T_STRING","getMockBuilder",988],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Entity\\ContentEntityBase'",988],")",["T_WHITESPACE","\n      ",988],["T_OBJECT_OPERATOR","->",989],["T_STRING","disableOriginalConstructor",989],"(",")",["T_WHITESPACE","\n      ",989],["T_OBJECT_OPERATOR","->",990],["T_STRING","setMethods",990],"(",["T_ARRAY","array",990],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",990],")",")",["T_WHITESPACE","\n      ",990],["T_OBJECT_OPERATOR","->",991],["T_STRING","getMockForAbstractClass",991],"(",")",";",["T_WHITESPACE","\n\n    ",991],["T_VARIABLE","$this",993],["T_OBJECT_OPERATOR","->",993],["T_STRING","entityType",993],["T_OBJECT_OPERATOR","->",993],["T_STRING","expects",993],"(",["T_VARIABLE","$this",993],["T_OBJECT_OPERATOR","->",993],["T_STRING","atLeastOnce",993],"(",")",")",["T_WHITESPACE","\n      ",993],["T_OBJECT_OPERATOR","->",994],["T_STRING","method",994],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",994],")",["T_WHITESPACE","\n      ",994],["T_OBJECT_OPERATOR","->",995],["T_STRING","will",995],"(",["T_VARIABLE","$this",995],["T_OBJECT_OPERATOR","->",995],["T_STRING","returnValue",995],"(",["T_VARIABLE","$this",995],["T_OBJECT_OPERATOR","->",995],["T_STRING","entityTypeId",995],")",")",";",["T_WHITESPACE","\n    ",995],["T_VARIABLE","$this",996],["T_OBJECT_OPERATOR","->",996],["T_STRING","entityType",996],["T_OBJECT_OPERATOR","->",996],["T_STRING","expects",996],"(",["T_VARIABLE","$this",996],["T_OBJECT_OPERATOR","->",996],["T_STRING","atLeastOnce",996],"(",")",")",["T_WHITESPACE","\n      ",996],["T_OBJECT_OPERATOR","->",997],["T_STRING","method",997],"(",["T_CONSTANT_ENCAPSED_STRING","'getClass'",997],")",["T_WHITESPACE","\n      ",997],["T_OBJECT_OPERATOR","->",998],["T_STRING","will",998],"(",["T_VARIABLE","$this",998],["T_OBJECT_OPERATOR","->",998],["T_STRING","returnValue",998],"(",["T_STRING","get_class",998],"(",["T_VARIABLE","$entity",998],")",")",")",";",["T_WHITESPACE","\n    ",998],["T_VARIABLE","$this",999],["T_OBJECT_OPERATOR","->",999],["T_STRING","entityType",999],["T_OBJECT_OPERATOR","->",999],["T_STRING","expects",999],"(",["T_VARIABLE","$this",999],["T_OBJECT_OPERATOR","->",999],["T_STRING","atLeastOnce",999],"(",")",")",["T_WHITESPACE","\n      ",999],["T_OBJECT_OPERATOR","->",1000],["T_STRING","method",1000],"(",["T_CONSTANT_ENCAPSED_STRING","'getKeys'",1000],")",["T_WHITESPACE","\n      ",1000],["T_OBJECT_OPERATOR","->",1001],["T_STRING","will",1001],"(",["T_VARIABLE","$this",1001],["T_OBJECT_OPERATOR","->",1001],["T_STRING","returnValue",1001],"(",["T_ARRAY","array",1001],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",1001],["T_WHITESPACE"," ",1001],["T_DOUBLE_ARROW","=>",1001],["T_WHITESPACE"," ",1001],["T_CONSTANT_ENCAPSED_STRING","'id'",1001],")",")",")",";",["T_WHITESPACE","\n\n    ",1001],["T_COMMENT","\/\/ ContentEntityStorageBase iterates over the entity which calls this method\n",1003],["T_WHITESPACE","    ",1004],["T_COMMENT","\/\/ internally in ContentEntityBase::getProperties().\n",1004],["T_WHITESPACE","    ",1005],["T_VARIABLE","$this",1005],["T_OBJECT_OPERATOR","->",1005],["T_STRING","entityManager",1005],["T_OBJECT_OPERATOR","->",1005],["T_STRING","expects",1005],"(",["T_VARIABLE","$this",1005],["T_OBJECT_OPERATOR","->",1005],["T_STRING","once",1005],"(",")",")",["T_WHITESPACE","\n      ",1005],["T_OBJECT_OPERATOR","->",1006],["T_STRING","method",1006],"(",["T_CONSTANT_ENCAPSED_STRING","'getFieldDefinitions'",1006],")",["T_WHITESPACE","\n      ",1006],["T_OBJECT_OPERATOR","->",1007],["T_STRING","will",1007],"(",["T_VARIABLE","$this",1007],["T_OBJECT_OPERATOR","->",1007],["T_STRING","returnValue",1007],"(",["T_ARRAY","array",1007],"(",")",")",")",";",["T_WHITESPACE","\n\n    ",1007],["T_VARIABLE","$this",1009],["T_OBJECT_OPERATOR","->",1009],["T_STRING","entityType",1009],["T_OBJECT_OPERATOR","->",1009],["T_STRING","expects",1009],"(",["T_VARIABLE","$this",1009],["T_OBJECT_OPERATOR","->",1009],["T_STRING","atLeastOnce",1009],"(",")",")",["T_WHITESPACE","\n      ",1009],["T_OBJECT_OPERATOR","->",1010],["T_STRING","method",1010],"(",["T_CONSTANT_ENCAPSED_STRING","'isRevisionable'",1010],")",["T_WHITESPACE","\n      ",1010],["T_OBJECT_OPERATOR","->",1011],["T_STRING","will",1011],"(",["T_VARIABLE","$this",1011],["T_OBJECT_OPERATOR","->",1011],["T_STRING","returnValue",1011],"(",["T_STRING","FALSE",1011],")",")",";",["T_WHITESPACE","\n    ",1011],["T_VARIABLE","$this",1012],["T_OBJECT_OPERATOR","->",1012],["T_STRING","entityManager",1012],["T_OBJECT_OPERATOR","->",1012],["T_STRING","expects",1012],"(",["T_VARIABLE","$this",1012],["T_OBJECT_OPERATOR","->",1012],["T_STRING","atLeastOnce",1012],"(",")",")",["T_WHITESPACE","\n      ",1012],["T_OBJECT_OPERATOR","->",1013],["T_STRING","method",1013],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefinition'",1013],")",["T_WHITESPACE","\n      ",1013],["T_OBJECT_OPERATOR","->",1014],["T_STRING","with",1014],"(",["T_VARIABLE","$this",1014],["T_OBJECT_OPERATOR","->",1014],["T_STRING","entityType",1014],["T_OBJECT_OPERATOR","->",1014],["T_STRING","id",1014],"(",")",")",["T_WHITESPACE","\n      ",1014],["T_OBJECT_OPERATOR","->",1015],["T_STRING","will",1015],"(",["T_VARIABLE","$this",1015],["T_OBJECT_OPERATOR","->",1015],["T_STRING","returnValue",1015],"(",["T_VARIABLE","$this",1015],["T_OBJECT_OPERATOR","->",1015],["T_STRING","entityType",1015],")",")",";",["T_WHITESPACE","\n\n    ",1015],["T_VARIABLE","$this",1017],["T_OBJECT_OPERATOR","->",1017],["T_STRING","setUpEntityStorage",1017],"(",")",";",["T_WHITESPACE","\n\n    ",1017],["T_VARIABLE","$entity",1019],["T_WHITESPACE"," ",1019],"=",["T_WHITESPACE"," ",1019],["T_VARIABLE","$this",1019],["T_OBJECT_OPERATOR","->",1019],["T_STRING","entityStorage",1019],["T_OBJECT_OPERATOR","->",1019],["T_STRING","create",1019],"(",")",";",["T_WHITESPACE","\n    ",1019],["T_VARIABLE","$entity",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","expects",1020],"(",["T_VARIABLE","$this",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","atLeastOnce",1020],"(",")",")",["T_WHITESPACE","\n      ",1020],["T_OBJECT_OPERATOR","->",1021],["T_STRING","method",1021],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",1021],")",["T_WHITESPACE","\n      ",1021],["T_OBJECT_OPERATOR","->",1022],["T_STRING","will",1022],"(",["T_VARIABLE","$this",1022],["T_OBJECT_OPERATOR","->",1022],["T_STRING","returnValue",1022],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",1022],")",")",";",["T_WHITESPACE","\n\n    ",1022],["T_VARIABLE","$this",1024],["T_OBJECT_OPERATOR","->",1024],["T_STRING","assertInstanceOf",1024],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Entity\\EntityInterface'",1024],",",["T_WHITESPACE"," ",1024],["T_VARIABLE","$entity",1024],")",";",["T_WHITESPACE","\n    ",1024],["T_VARIABLE","$this",1025],["T_OBJECT_OPERATOR","->",1025],["T_STRING","assertSame",1025],"(",["T_CONSTANT_ENCAPSED_STRING","'foo'",1025],",",["T_WHITESPACE"," ",1025],["T_VARIABLE","$entity",1025],["T_OBJECT_OPERATOR","->",1025],["T_STRING","id",1025],"(",")",")",";",["T_WHITESPACE","\n    ",1025],["T_VARIABLE","$this",1026],["T_OBJECT_OPERATOR","->",1026],["T_STRING","assertTrue",1026],"(",["T_VARIABLE","$entity",1026],["T_OBJECT_OPERATOR","->",1026],["T_STRING","isNew",1026],"(",")",")",";",["T_WHITESPACE","\n  ",1026],"}",["T_WHITESPACE","\n\n  ",1027],["T_DOC_COMMENT","\/**\n   * Returns a set of mock field definitions for the given names.\n   *\n   * @param array $field_names\n   *   An array of field names.\n   * @param array $methods\n   *   (optional) An associative array of mock method return values keyed by\n   *   method name.\n   *\n   * @return \\Drupal\\Tests\\Core\\Field\\TestBaseFieldDefinitionInterface[]|\\PHPUnit_Framework_MockObject_MockObject[]\n   *   An array of mock base field definitions.\n   *\/",1029],["T_WHITESPACE","\n  ",1040],["T_PROTECTED","protected",1041],["T_WHITESPACE"," ",1041],["T_FUNCTION","function",1041],["T_WHITESPACE"," ",1041],["T_STRING","mockFieldDefinitions",1041],"(",["T_ARRAY","array",1041],["T_WHITESPACE"," ",1041],["T_VARIABLE","$field_names",1041],",",["T_WHITESPACE"," ",1041],["T_VARIABLE","$methods",1041],["T_WHITESPACE"," ",1041],"=",["T_WHITESPACE"," ",1041],["T_ARRAY","array",1041],"(",")",")",["T_WHITESPACE"," ",1041],"{",["T_WHITESPACE","\n    ",1041],["T_VARIABLE","$field_definitions",1042],["T_WHITESPACE"," ",1042],"=",["T_WHITESPACE"," ",1042],["T_ARRAY","array",1042],"(",")",";",["T_WHITESPACE","\n    ",1042],["T_VARIABLE","$definition",1043],["T_WHITESPACE"," ",1043],"=",["T_WHITESPACE"," ",1043],["T_VARIABLE","$this",1043],["T_OBJECT_OPERATOR","->",1043],["T_STRING","getMock",1043],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Tests\\Core\\Field\\TestBaseFieldDefinitionInterface'",1043],")",";",["T_WHITESPACE","\n\n    ",1043],["T_COMMENT","\/\/ Assign common method return values.\n",1045],["T_WHITESPACE","    ",1046],["T_VARIABLE","$methods",1046],["T_WHITESPACE"," ",1046],["T_PLUS_EQUAL","+=",1046],["T_WHITESPACE"," ",1046],["T_ARRAY","array",1046],"(",["T_WHITESPACE","\n      ",1046],["T_CONSTANT_ENCAPSED_STRING","'isBaseField'",1047],["T_WHITESPACE"," ",1047],["T_DOUBLE_ARROW","=>",1047],["T_WHITESPACE"," ",1047],["T_STRING","TRUE",1047],",",["T_WHITESPACE","\n    ",1047],")",";",["T_WHITESPACE","\n    ",1048],["T_FOREACH","foreach",1049],["T_WHITESPACE"," ",1049],"(",["T_VARIABLE","$methods",1049],["T_WHITESPACE"," ",1049],["T_AS","as",1049],["T_WHITESPACE"," ",1049],["T_VARIABLE","$method",1049],["T_WHITESPACE"," ",1049],["T_DOUBLE_ARROW","=>",1049],["T_WHITESPACE"," ",1049],["T_VARIABLE","$result",1049],")",["T_WHITESPACE"," ",1049],"{",["T_WHITESPACE","\n      ",1049],["T_VARIABLE","$definition",1050],["T_WHITESPACE","\n        ",1050],["T_OBJECT_OPERATOR","->",1051],["T_STRING","expects",1051],"(",["T_VARIABLE","$this",1051],["T_OBJECT_OPERATOR","->",1051],["T_STRING","any",1051],"(",")",")",["T_WHITESPACE","\n        ",1051],["T_OBJECT_OPERATOR","->",1052],["T_STRING","method",1052],"(",["T_VARIABLE","$method",1052],")",["T_WHITESPACE","\n        ",1052],["T_OBJECT_OPERATOR","->",1053],["T_STRING","will",1053],"(",["T_VARIABLE","$this",1053],["T_OBJECT_OPERATOR","->",1053],["T_STRING","returnValue",1053],"(",["T_VARIABLE","$result",1053],")",")",";",["T_WHITESPACE","\n    ",1053],"}",["T_WHITESPACE","\n\n    ",1054],["T_COMMENT","\/\/ Assign field names to mock definitions.\n",1056],["T_WHITESPACE","    ",1057],["T_FOREACH","foreach",1057],["T_WHITESPACE"," ",1057],"(",["T_VARIABLE","$field_names",1057],["T_WHITESPACE"," ",1057],["T_AS","as",1057],["T_WHITESPACE"," ",1057],["T_VARIABLE","$field_name",1057],")",["T_WHITESPACE"," ",1057],"{",["T_WHITESPACE","\n      ",1057],["T_VARIABLE","$field_definitions",1058],"[",["T_VARIABLE","$field_name",1058],"]",["T_WHITESPACE"," ",1058],"=",["T_WHITESPACE"," ",1058],["T_CLONE","clone",1058],["T_WHITESPACE"," ",1058],["T_VARIABLE","$definition",1058],";",["T_WHITESPACE","\n      ",1058],["T_VARIABLE","$field_definitions",1059],"[",["T_VARIABLE","$field_name",1059],"]",["T_WHITESPACE","\n        ",1059],["T_OBJECT_OPERATOR","->",1060],["T_STRING","expects",1060],"(",["T_VARIABLE","$this",1060],["T_OBJECT_OPERATOR","->",1060],["T_STRING","any",1060],"(",")",")",["T_WHITESPACE","\n        ",1060],["T_OBJECT_OPERATOR","->",1061],["T_STRING","method",1061],"(",["T_CONSTANT_ENCAPSED_STRING","'getName'",1061],")",["T_WHITESPACE","\n        ",1061],["T_OBJECT_OPERATOR","->",1062],["T_STRING","will",1062],"(",["T_VARIABLE","$this",1062],["T_OBJECT_OPERATOR","->",1062],["T_STRING","returnValue",1062],"(",["T_VARIABLE","$field_name",1062],")",")",";",["T_WHITESPACE","\n    ",1062],"}",["T_WHITESPACE","\n\n    ",1063],["T_RETURN","return",1065],["T_WHITESPACE"," ",1065],["T_VARIABLE","$field_definitions",1065],";",["T_WHITESPACE","\n  ",1065],"}",["T_WHITESPACE","\n\n  ",1066],["T_DOC_COMMENT","\/**\n   * Sets up the content entity database storage.\n   *\/",1068],["T_WHITESPACE","\n  ",1070],["T_PROTECTED","protected",1071],["T_WHITESPACE"," ",1071],["T_FUNCTION","function",1071],["T_WHITESPACE"," ",1071],["T_STRING","setUpEntityStorage",1071],"(",")",["T_WHITESPACE"," ",1071],"{",["T_WHITESPACE","\n    ",1071],["T_VARIABLE","$this",1072],["T_OBJECT_OPERATOR","->",1072],["T_STRING","connection",1072],["T_WHITESPACE"," ",1072],"=",["T_WHITESPACE"," ",1072],["T_VARIABLE","$this",1072],["T_OBJECT_OPERATOR","->",1072],["T_STRING","getMockBuilder",1072],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Database\\Connection'",1072],")",["T_WHITESPACE","\n      ",1072],["T_OBJECT_OPERATOR","->",1073],["T_STRING","disableOriginalConstructor",1073],"(",")",["T_WHITESPACE","\n      ",1073],["T_OBJECT_OPERATOR","->",1074],["T_STRING","getMock",1074],"(",")",";",["T_WHITESPACE","\n\n    ",1074],["T_VARIABLE","$this",1076],["T_OBJECT_OPERATOR","->",1076],["T_STRING","entityManager",1076],["T_OBJECT_OPERATOR","->",1076],["T_STRING","expects",1076],"(",["T_VARIABLE","$this",1076],["T_OBJECT_OPERATOR","->",1076],["T_STRING","any",1076],"(",")",")",["T_WHITESPACE","\n      ",1076],["T_OBJECT_OPERATOR","->",1077],["T_STRING","method",1077],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefinition'",1077],")",["T_WHITESPACE","\n      ",1077],["T_OBJECT_OPERATOR","->",1078],["T_STRING","will",1078],"(",["T_VARIABLE","$this",1078],["T_OBJECT_OPERATOR","->",1078],["T_STRING","returnValue",1078],"(",["T_VARIABLE","$this",1078],["T_OBJECT_OPERATOR","->",1078],["T_STRING","entityType",1078],")",")",";",["T_WHITESPACE","\n\n    ",1078],["T_VARIABLE","$this",1080],["T_OBJECT_OPERATOR","->",1080],["T_STRING","entityManager",1080],["T_OBJECT_OPERATOR","->",1080],["T_STRING","expects",1080],"(",["T_VARIABLE","$this",1080],["T_OBJECT_OPERATOR","->",1080],["T_STRING","any",1080],"(",")",")",["T_WHITESPACE","\n      ",1080],["T_OBJECT_OPERATOR","->",1081],["T_STRING","method",1081],"(",["T_CONSTANT_ENCAPSED_STRING","'getFieldStorageDefinitions'",1081],")",["T_WHITESPACE","\n      ",1081],["T_OBJECT_OPERATOR","->",1082],["T_STRING","will",1082],"(",["T_VARIABLE","$this",1082],["T_OBJECT_OPERATOR","->",1082],["T_STRING","returnValue",1082],"(",["T_VARIABLE","$this",1082],["T_OBJECT_OPERATOR","->",1082],["T_STRING","fieldDefinitions",1082],")",")",";",["T_WHITESPACE","\n\n    ",1082],["T_VARIABLE","$this",1084],["T_OBJECT_OPERATOR","->",1084],["T_STRING","entityManager",1084],["T_OBJECT_OPERATOR","->",1084],["T_STRING","expects",1084],"(",["T_VARIABLE","$this",1084],["T_OBJECT_OPERATOR","->",1084],["T_STRING","any",1084],"(",")",")",["T_WHITESPACE","\n      ",1084],["T_OBJECT_OPERATOR","->",1085],["T_STRING","method",1085],"(",["T_CONSTANT_ENCAPSED_STRING","'getBaseFieldDefinitions'",1085],")",["T_WHITESPACE","\n      ",1085],["T_OBJECT_OPERATOR","->",1086],["T_STRING","will",1086],"(",["T_VARIABLE","$this",1086],["T_OBJECT_OPERATOR","->",1086],["T_STRING","returnValue",1086],"(",["T_VARIABLE","$this",1086],["T_OBJECT_OPERATOR","->",1086],["T_STRING","fieldDefinitions",1086],")",")",";",["T_WHITESPACE","\n\n    ",1086],["T_VARIABLE","$this",1088],["T_OBJECT_OPERATOR","->",1088],["T_STRING","entityStorage",1088],["T_WHITESPACE"," ",1088],"=",["T_WHITESPACE"," ",1088],["T_NEW","new",1088],["T_WHITESPACE"," ",1088],["T_STRING","SqlContentEntityStorage",1088],"(",["T_VARIABLE","$this",1088],["T_OBJECT_OPERATOR","->",1088],["T_STRING","entityType",1088],",",["T_WHITESPACE"," ",1088],["T_VARIABLE","$this",1088],["T_OBJECT_OPERATOR","->",1088],["T_STRING","connection",1088],",",["T_WHITESPACE"," ",1088],["T_VARIABLE","$this",1088],["T_OBJECT_OPERATOR","->",1088],["T_STRING","entityManager",1088],",",["T_WHITESPACE"," ",1088],["T_VARIABLE","$this",1088],["T_OBJECT_OPERATOR","->",1088],["T_STRING","cache",1088],",",["T_WHITESPACE"," ",1088],["T_VARIABLE","$this",1088],["T_OBJECT_OPERATOR","->",1088],["T_STRING","languageManager",1088],")",";",["T_WHITESPACE","\n  ",1088],"}",["T_WHITESPACE","\n\n  ",1089],["T_DOC_COMMENT","\/**\n   * @covers ::doLoadMultiple\n   * @covers ::buildCacheId\n   * @covers ::getFromPersistentCache\n   *\/",1091],["T_WHITESPACE","\n  ",1095],["T_PUBLIC","public",1096],["T_WHITESPACE"," ",1096],["T_FUNCTION","function",1096],["T_WHITESPACE"," ",1096],["T_STRING","testLoadMultiplePersistentCached",1096],"(",")",["T_WHITESPACE"," ",1096],"{",["T_WHITESPACE","\n    ",1096],["T_VARIABLE","$this",1097],["T_OBJECT_OPERATOR","->",1097],["T_STRING","setUpModuleHandlerNoImplementations",1097],"(",")",";",["T_WHITESPACE","\n\n    ",1097],["T_VARIABLE","$key",1099],["T_WHITESPACE"," ",1099],"=",["T_WHITESPACE"," ",1099],["T_CONSTANT_ENCAPSED_STRING","'values:'",1099],["T_WHITESPACE"," ",1099],".",["T_WHITESPACE"," ",1099],["T_VARIABLE","$this",1099],["T_OBJECT_OPERATOR","->",1099],["T_STRING","entityTypeId",1099],["T_WHITESPACE"," ",1099],".",["T_WHITESPACE"," ",1099],["T_CONSTANT_ENCAPSED_STRING","':1'",1099],";",["T_WHITESPACE","\n    ",1099],["T_VARIABLE","$id",1100],["T_WHITESPACE"," ",1100],"=",["T_WHITESPACE"," ",1100],["T_LNUMBER","1",1100],";",["T_WHITESPACE","\n    ",1100],["T_VARIABLE","$entity",1101],["T_WHITESPACE"," ",1101],"=",["T_WHITESPACE"," ",1101],["T_VARIABLE","$this",1101],["T_OBJECT_OPERATOR","->",1101],["T_STRING","getMockBuilder",1101],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Tests\\Core\\Entity\\Sql\\SqlContentEntityStorageTestEntityInterface'",1101],")",["T_WHITESPACE","\n      ",1101],["T_OBJECT_OPERATOR","->",1102],["T_STRING","getMockForAbstractClass",1102],"(",")",";",["T_WHITESPACE","\n    ",1102],["T_VARIABLE","$entity",1103],["T_OBJECT_OPERATOR","->",1103],["T_STRING","expects",1103],"(",["T_VARIABLE","$this",1103],["T_OBJECT_OPERATOR","->",1103],["T_STRING","any",1103],"(",")",")",["T_WHITESPACE","\n      ",1103],["T_OBJECT_OPERATOR","->",1104],["T_STRING","method",1104],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",1104],")",["T_WHITESPACE","\n      ",1104],["T_OBJECT_OPERATOR","->",1105],["T_STRING","will",1105],"(",["T_VARIABLE","$this",1105],["T_OBJECT_OPERATOR","->",1105],["T_STRING","returnValue",1105],"(",["T_VARIABLE","$id",1105],")",")",";",["T_WHITESPACE","\n\n    ",1105],["T_VARIABLE","$this",1107],["T_OBJECT_OPERATOR","->",1107],["T_STRING","entityType",1107],["T_OBJECT_OPERATOR","->",1107],["T_STRING","expects",1107],"(",["T_VARIABLE","$this",1107],["T_OBJECT_OPERATOR","->",1107],["T_STRING","atLeastOnce",1107],"(",")",")",["T_WHITESPACE","\n      ",1107],["T_OBJECT_OPERATOR","->",1108],["T_STRING","method",1108],"(",["T_CONSTANT_ENCAPSED_STRING","'isPersistentlyCacheable'",1108],")",["T_WHITESPACE","\n      ",1108],["T_OBJECT_OPERATOR","->",1109],["T_STRING","will",1109],"(",["T_VARIABLE","$this",1109],["T_OBJECT_OPERATOR","->",1109],["T_STRING","returnValue",1109],"(",["T_STRING","TRUE",1109],")",")",";",["T_WHITESPACE","\n    ",1109],["T_VARIABLE","$this",1110],["T_OBJECT_OPERATOR","->",1110],["T_STRING","entityType",1110],["T_OBJECT_OPERATOR","->",1110],["T_STRING","expects",1110],"(",["T_VARIABLE","$this",1110],["T_OBJECT_OPERATOR","->",1110],["T_STRING","atLeastOnce",1110],"(",")",")",["T_WHITESPACE","\n      ",1110],["T_OBJECT_OPERATOR","->",1111],["T_STRING","method",1111],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",1111],")",["T_WHITESPACE","\n      ",1111],["T_OBJECT_OPERATOR","->",1112],["T_STRING","will",1112],"(",["T_VARIABLE","$this",1112],["T_OBJECT_OPERATOR","->",1112],["T_STRING","returnValue",1112],"(",["T_VARIABLE","$this",1112],["T_OBJECT_OPERATOR","->",1112],["T_STRING","entityTypeId",1112],")",")",";",["T_WHITESPACE","\n    ",1112],["T_VARIABLE","$this",1113],["T_OBJECT_OPERATOR","->",1113],["T_STRING","entityType",1113],["T_OBJECT_OPERATOR","->",1113],["T_STRING","expects",1113],"(",["T_VARIABLE","$this",1113],["T_OBJECT_OPERATOR","->",1113],["T_STRING","atLeastOnce",1113],"(",")",")",["T_WHITESPACE","\n      ",1113],["T_OBJECT_OPERATOR","->",1114],["T_STRING","method",1114],"(",["T_CONSTANT_ENCAPSED_STRING","'getClass'",1114],")",["T_WHITESPACE","\n      ",1114],["T_OBJECT_OPERATOR","->",1115],["T_STRING","will",1115],"(",["T_VARIABLE","$this",1115],["T_OBJECT_OPERATOR","->",1115],["T_STRING","returnValue",1115],"(",["T_STRING","get_class",1115],"(",["T_VARIABLE","$entity",1115],")",")",")",";",["T_WHITESPACE","\n\n    ",1115],["T_VARIABLE","$this",1117],["T_OBJECT_OPERATOR","->",1117],["T_STRING","cache",1117],["T_OBJECT_OPERATOR","->",1117],["T_STRING","expects",1117],"(",["T_VARIABLE","$this",1117],["T_OBJECT_OPERATOR","->",1117],["T_STRING","once",1117],"(",")",")",["T_WHITESPACE","\n      ",1117],["T_OBJECT_OPERATOR","->",1118],["T_STRING","method",1118],"(",["T_CONSTANT_ENCAPSED_STRING","'getMultiple'",1118],")",["T_WHITESPACE","\n      ",1118],["T_OBJECT_OPERATOR","->",1119],["T_STRING","with",1119],"(",["T_ARRAY","array",1119],"(",["T_VARIABLE","$key",1119],")",")",["T_WHITESPACE","\n      ",1119],["T_OBJECT_OPERATOR","->",1120],["T_STRING","will",1120],"(",["T_VARIABLE","$this",1120],["T_OBJECT_OPERATOR","->",1120],["T_STRING","returnValue",1120],"(",["T_ARRAY","array",1120],"(",["T_VARIABLE","$key",1120],["T_WHITESPACE"," ",1120],["T_DOUBLE_ARROW","=>",1120],["T_WHITESPACE"," ",1120],["T_OBJECT_CAST","(object)",1120],["T_WHITESPACE"," ",1120],["T_ARRAY","array",1120],"(",["T_WHITESPACE","\n          ",1120],["T_CONSTANT_ENCAPSED_STRING","'data'",1121],["T_WHITESPACE"," ",1121],["T_DOUBLE_ARROW","=>",1121],["T_WHITESPACE"," ",1121],["T_VARIABLE","$entity",1121],",",["T_WHITESPACE","\n        ",1121],")",")",")",")",";",["T_WHITESPACE","\n    ",1122],["T_VARIABLE","$this",1123],["T_OBJECT_OPERATOR","->",1123],["T_STRING","cache",1123],["T_OBJECT_OPERATOR","->",1123],["T_STRING","expects",1123],"(",["T_VARIABLE","$this",1123],["T_OBJECT_OPERATOR","->",1123],["T_STRING","never",1123],"(",")",")",["T_WHITESPACE","\n      ",1123],["T_OBJECT_OPERATOR","->",1124],["T_STRING","method",1124],"(",["T_CONSTANT_ENCAPSED_STRING","'set'",1124],")",";",["T_WHITESPACE","\n\n    ",1124],["T_VARIABLE","$this",1126],["T_OBJECT_OPERATOR","->",1126],["T_STRING","setUpEntityStorage",1126],"(",")",";",["T_WHITESPACE","\n    ",1126],["T_VARIABLE","$entities",1127],["T_WHITESPACE"," ",1127],"=",["T_WHITESPACE"," ",1127],["T_VARIABLE","$this",1127],["T_OBJECT_OPERATOR","->",1127],["T_STRING","entityStorage",1127],["T_OBJECT_OPERATOR","->",1127],["T_STRING","loadMultiple",1127],"(",["T_ARRAY","array",1127],"(",["T_VARIABLE","$id",1127],")",")",";",["T_WHITESPACE","\n    ",1127],["T_VARIABLE","$this",1128],["T_OBJECT_OPERATOR","->",1128],["T_STRING","assertEquals",1128],"(",["T_VARIABLE","$entity",1128],",",["T_WHITESPACE"," ",1128],["T_VARIABLE","$entities",1128],"[",["T_VARIABLE","$id",1128],"]",")",";",["T_WHITESPACE","\n  ",1128],"}",["T_WHITESPACE","\n\n  ",1129],["T_DOC_COMMENT","\/**\n   * @covers ::doLoadMultiple\n   * @covers ::buildCacheId\n   * @covers ::getFromPersistentCache\n   * @covers ::setPersistentCache\n   *\/",1131],["T_WHITESPACE","\n  ",1136],["T_PUBLIC","public",1137],["T_WHITESPACE"," ",1137],["T_FUNCTION","function",1137],["T_WHITESPACE"," ",1137],["T_STRING","testLoadMultipleNoPersistentCache",1137],"(",")",["T_WHITESPACE"," ",1137],"{",["T_WHITESPACE","\n    ",1137],["T_VARIABLE","$this",1138],["T_OBJECT_OPERATOR","->",1138],["T_STRING","setUpModuleHandlerNoImplementations",1138],"(",")",";",["T_WHITESPACE","\n\n    ",1138],["T_VARIABLE","$id",1140],["T_WHITESPACE"," ",1140],"=",["T_WHITESPACE"," ",1140],["T_LNUMBER","1",1140],";",["T_WHITESPACE","\n    ",1140],["T_VARIABLE","$entity",1141],["T_WHITESPACE"," ",1141],"=",["T_WHITESPACE"," ",1141],["T_VARIABLE","$this",1141],["T_OBJECT_OPERATOR","->",1141],["T_STRING","getMockBuilder",1141],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Tests\\Core\\Entity\\Sql\\SqlContentEntityStorageTestEntityInterface'",1141],")",["T_WHITESPACE","\n      ",1141],["T_OBJECT_OPERATOR","->",1142],["T_STRING","getMockForAbstractClass",1142],"(",")",";",["T_WHITESPACE","\n    ",1142],["T_VARIABLE","$entity",1143],["T_OBJECT_OPERATOR","->",1143],["T_STRING","expects",1143],"(",["T_VARIABLE","$this",1143],["T_OBJECT_OPERATOR","->",1143],["T_STRING","any",1143],"(",")",")",["T_WHITESPACE","\n      ",1143],["T_OBJECT_OPERATOR","->",1144],["T_STRING","method",1144],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",1144],")",["T_WHITESPACE","\n      ",1144],["T_OBJECT_OPERATOR","->",1145],["T_STRING","will",1145],"(",["T_VARIABLE","$this",1145],["T_OBJECT_OPERATOR","->",1145],["T_STRING","returnValue",1145],"(",["T_VARIABLE","$id",1145],")",")",";",["T_WHITESPACE","\n\n    ",1145],["T_VARIABLE","$this",1147],["T_OBJECT_OPERATOR","->",1147],["T_STRING","entityType",1147],["T_OBJECT_OPERATOR","->",1147],["T_STRING","expects",1147],"(",["T_VARIABLE","$this",1147],["T_OBJECT_OPERATOR","->",1147],["T_STRING","any",1147],"(",")",")",["T_WHITESPACE","\n      ",1147],["T_OBJECT_OPERATOR","->",1148],["T_STRING","method",1148],"(",["T_CONSTANT_ENCAPSED_STRING","'isPersistentlyCacheable'",1148],")",["T_WHITESPACE","\n      ",1148],["T_OBJECT_OPERATOR","->",1149],["T_STRING","will",1149],"(",["T_VARIABLE","$this",1149],["T_OBJECT_OPERATOR","->",1149],["T_STRING","returnValue",1149],"(",["T_STRING","FALSE",1149],")",")",";",["T_WHITESPACE","\n    ",1149],["T_VARIABLE","$this",1150],["T_OBJECT_OPERATOR","->",1150],["T_STRING","entityType",1150],["T_OBJECT_OPERATOR","->",1150],["T_STRING","expects",1150],"(",["T_VARIABLE","$this",1150],["T_OBJECT_OPERATOR","->",1150],["T_STRING","atLeastOnce",1150],"(",")",")",["T_WHITESPACE","\n      ",1150],["T_OBJECT_OPERATOR","->",1151],["T_STRING","method",1151],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",1151],")",["T_WHITESPACE","\n      ",1151],["T_OBJECT_OPERATOR","->",1152],["T_STRING","will",1152],"(",["T_VARIABLE","$this",1152],["T_OBJECT_OPERATOR","->",1152],["T_STRING","returnValue",1152],"(",["T_VARIABLE","$this",1152],["T_OBJECT_OPERATOR","->",1152],["T_STRING","entityTypeId",1152],")",")",";",["T_WHITESPACE","\n    ",1152],["T_VARIABLE","$this",1153],["T_OBJECT_OPERATOR","->",1153],["T_STRING","entityType",1153],["T_OBJECT_OPERATOR","->",1153],["T_STRING","expects",1153],"(",["T_VARIABLE","$this",1153],["T_OBJECT_OPERATOR","->",1153],["T_STRING","atLeastOnce",1153],"(",")",")",["T_WHITESPACE","\n      ",1153],["T_OBJECT_OPERATOR","->",1154],["T_STRING","method",1154],"(",["T_CONSTANT_ENCAPSED_STRING","'getClass'",1154],")",["T_WHITESPACE","\n      ",1154],["T_OBJECT_OPERATOR","->",1155],["T_STRING","will",1155],"(",["T_VARIABLE","$this",1155],["T_OBJECT_OPERATOR","->",1155],["T_STRING","returnValue",1155],"(",["T_STRING","get_class",1155],"(",["T_VARIABLE","$entity",1155],")",")",")",";",["T_WHITESPACE","\n\n    ",1155],["T_COMMENT","\/\/ There should be no calls to the cache backend for an entity type without\n",1157],["T_WHITESPACE","    ",1158],["T_COMMENT","\/\/ persistent caching.\n",1158],["T_WHITESPACE","    ",1159],["T_VARIABLE","$this",1159],["T_OBJECT_OPERATOR","->",1159],["T_STRING","cache",1159],["T_OBJECT_OPERATOR","->",1159],["T_STRING","expects",1159],"(",["T_VARIABLE","$this",1159],["T_OBJECT_OPERATOR","->",1159],["T_STRING","never",1159],"(",")",")",["T_WHITESPACE","\n      ",1159],["T_OBJECT_OPERATOR","->",1160],["T_STRING","method",1160],"(",["T_CONSTANT_ENCAPSED_STRING","'getMultiple'",1160],")",";",["T_WHITESPACE","\n    ",1160],["T_VARIABLE","$this",1161],["T_OBJECT_OPERATOR","->",1161],["T_STRING","cache",1161],["T_OBJECT_OPERATOR","->",1161],["T_STRING","expects",1161],"(",["T_VARIABLE","$this",1161],["T_OBJECT_OPERATOR","->",1161],["T_STRING","never",1161],"(",")",")",["T_WHITESPACE","\n      ",1161],["T_OBJECT_OPERATOR","->",1162],["T_STRING","method",1162],"(",["T_CONSTANT_ENCAPSED_STRING","'set'",1162],")",";",["T_WHITESPACE","\n\n    ",1162],["T_VARIABLE","$entity_storage",1164],["T_WHITESPACE"," ",1164],"=",["T_WHITESPACE"," ",1164],["T_VARIABLE","$this",1164],["T_OBJECT_OPERATOR","->",1164],["T_STRING","getMockBuilder",1164],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Entity\\Sql\\SqlContentEntityStorage'",1164],")",["T_WHITESPACE","\n      ",1164],["T_OBJECT_OPERATOR","->",1165],["T_STRING","setConstructorArgs",1165],"(",["T_ARRAY","array",1165],"(",["T_VARIABLE","$this",1165],["T_OBJECT_OPERATOR","->",1165],["T_STRING","entityType",1165],",",["T_WHITESPACE"," ",1165],["T_VARIABLE","$this",1165],["T_OBJECT_OPERATOR","->",1165],["T_STRING","connection",1165],",",["T_WHITESPACE"," ",1165],["T_VARIABLE","$this",1165],["T_OBJECT_OPERATOR","->",1165],["T_STRING","entityManager",1165],",",["T_WHITESPACE"," ",1165],["T_VARIABLE","$this",1165],["T_OBJECT_OPERATOR","->",1165],["T_STRING","cache",1165],",",["T_WHITESPACE"," ",1165],["T_VARIABLE","$this",1165],["T_OBJECT_OPERATOR","->",1165],["T_STRING","languageManager",1165],")",")",["T_WHITESPACE","\n      ",1165],["T_OBJECT_OPERATOR","->",1166],["T_STRING","setMethods",1166],"(",["T_ARRAY","array",1166],"(",["T_CONSTANT_ENCAPSED_STRING","'getFromStorage'",1166],",",["T_WHITESPACE"," ",1166],["T_CONSTANT_ENCAPSED_STRING","'invokeStorageLoadHook'",1166],")",")",["T_WHITESPACE","\n      ",1166],["T_OBJECT_OPERATOR","->",1167],["T_STRING","getMock",1167],"(",")",";",["T_WHITESPACE","\n    ",1167],["T_VARIABLE","$entity_storage",1168],["T_OBJECT_OPERATOR","->",1168],["T_STRING","method",1168],"(",["T_CONSTANT_ENCAPSED_STRING","'invokeStorageLoadHook'",1168],")",["T_WHITESPACE","\n      ",1168],["T_OBJECT_OPERATOR","->",1169],["T_STRING","willReturn",1169],"(",["T_STRING","NULL",1169],")",";",["T_WHITESPACE","\n    ",1169],["T_VARIABLE","$entity_storage",1170],["T_OBJECT_OPERATOR","->",1170],["T_STRING","expects",1170],"(",["T_VARIABLE","$this",1170],["T_OBJECT_OPERATOR","->",1170],["T_STRING","once",1170],"(",")",")",["T_WHITESPACE","\n      ",1170],["T_OBJECT_OPERATOR","->",1171],["T_STRING","method",1171],"(",["T_CONSTANT_ENCAPSED_STRING","'getFromStorage'",1171],")",["T_WHITESPACE","\n      ",1171],["T_OBJECT_OPERATOR","->",1172],["T_STRING","with",1172],"(",["T_ARRAY","array",1172],"(",["T_VARIABLE","$id",1172],")",")",["T_WHITESPACE","\n      ",1172],["T_OBJECT_OPERATOR","->",1173],["T_STRING","will",1173],"(",["T_VARIABLE","$this",1173],["T_OBJECT_OPERATOR","->",1173],["T_STRING","returnValue",1173],"(",["T_ARRAY","array",1173],"(",["T_VARIABLE","$id",1173],["T_WHITESPACE"," ",1173],["T_DOUBLE_ARROW","=>",1173],["T_WHITESPACE"," ",1173],["T_VARIABLE","$entity",1173],")",")",")",";",["T_WHITESPACE","\n\n    ",1173],["T_VARIABLE","$entities",1175],["T_WHITESPACE"," ",1175],"=",["T_WHITESPACE"," ",1175],["T_VARIABLE","$entity_storage",1175],["T_OBJECT_OPERATOR","->",1175],["T_STRING","loadMultiple",1175],"(",["T_ARRAY","array",1175],"(",["T_VARIABLE","$id",1175],")",")",";",["T_WHITESPACE","\n    ",1175],["T_VARIABLE","$this",1176],["T_OBJECT_OPERATOR","->",1176],["T_STRING","assertEquals",1176],"(",["T_VARIABLE","$entity",1176],",",["T_WHITESPACE"," ",1176],["T_VARIABLE","$entities",1176],"[",["T_VARIABLE","$id",1176],"]",")",";",["T_WHITESPACE","\n  ",1176],"}",["T_WHITESPACE","\n\n  ",1177],["T_DOC_COMMENT","\/**\n   * @covers ::doLoadMultiple\n   * @covers ::buildCacheId\n   * @covers ::getFromPersistentCache\n   * @covers ::setPersistentCache\n   *\/",1179],["T_WHITESPACE","\n  ",1184],["T_PUBLIC","public",1185],["T_WHITESPACE"," ",1185],["T_FUNCTION","function",1185],["T_WHITESPACE"," ",1185],["T_STRING","testLoadMultiplePersistentCacheMiss",1185],"(",")",["T_WHITESPACE"," ",1185],"{",["T_WHITESPACE","\n    ",1185],["T_VARIABLE","$this",1186],["T_OBJECT_OPERATOR","->",1186],["T_STRING","setUpModuleHandlerNoImplementations",1186],"(",")",";",["T_WHITESPACE","\n\n    ",1186],["T_VARIABLE","$id",1188],["T_WHITESPACE"," ",1188],"=",["T_WHITESPACE"," ",1188],["T_LNUMBER","1",1188],";",["T_WHITESPACE","\n    ",1188],["T_VARIABLE","$entity",1189],["T_WHITESPACE"," ",1189],"=",["T_WHITESPACE"," ",1189],["T_VARIABLE","$this",1189],["T_OBJECT_OPERATOR","->",1189],["T_STRING","getMockBuilder",1189],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Tests\\Core\\Entity\\Sql\\SqlContentEntityStorageTestEntityInterface'",1189],")",["T_WHITESPACE","\n      ",1189],["T_OBJECT_OPERATOR","->",1190],["T_STRING","getMockForAbstractClass",1190],"(",")",";",["T_WHITESPACE","\n    ",1190],["T_VARIABLE","$entity",1191],["T_OBJECT_OPERATOR","->",1191],["T_STRING","expects",1191],"(",["T_VARIABLE","$this",1191],["T_OBJECT_OPERATOR","->",1191],["T_STRING","any",1191],"(",")",")",["T_WHITESPACE","\n      ",1191],["T_OBJECT_OPERATOR","->",1192],["T_STRING","method",1192],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",1192],")",["T_WHITESPACE","\n      ",1192],["T_OBJECT_OPERATOR","->",1193],["T_STRING","will",1193],"(",["T_VARIABLE","$this",1193],["T_OBJECT_OPERATOR","->",1193],["T_STRING","returnValue",1193],"(",["T_VARIABLE","$id",1193],")",")",";",["T_WHITESPACE","\n\n    ",1193],["T_VARIABLE","$this",1195],["T_OBJECT_OPERATOR","->",1195],["T_STRING","entityType",1195],["T_OBJECT_OPERATOR","->",1195],["T_STRING","expects",1195],"(",["T_VARIABLE","$this",1195],["T_OBJECT_OPERATOR","->",1195],["T_STRING","any",1195],"(",")",")",["T_WHITESPACE","\n      ",1195],["T_OBJECT_OPERATOR","->",1196],["T_STRING","method",1196],"(",["T_CONSTANT_ENCAPSED_STRING","'isPersistentlyCacheable'",1196],")",["T_WHITESPACE","\n      ",1196],["T_OBJECT_OPERATOR","->",1197],["T_STRING","will",1197],"(",["T_VARIABLE","$this",1197],["T_OBJECT_OPERATOR","->",1197],["T_STRING","returnValue",1197],"(",["T_STRING","TRUE",1197],")",")",";",["T_WHITESPACE","\n    ",1197],["T_VARIABLE","$this",1198],["T_OBJECT_OPERATOR","->",1198],["T_STRING","entityType",1198],["T_OBJECT_OPERATOR","->",1198],["T_STRING","expects",1198],"(",["T_VARIABLE","$this",1198],["T_OBJECT_OPERATOR","->",1198],["T_STRING","atLeastOnce",1198],"(",")",")",["T_WHITESPACE","\n      ",1198],["T_OBJECT_OPERATOR","->",1199],["T_STRING","method",1199],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",1199],")",["T_WHITESPACE","\n      ",1199],["T_OBJECT_OPERATOR","->",1200],["T_STRING","will",1200],"(",["T_VARIABLE","$this",1200],["T_OBJECT_OPERATOR","->",1200],["T_STRING","returnValue",1200],"(",["T_VARIABLE","$this",1200],["T_OBJECT_OPERATOR","->",1200],["T_STRING","entityTypeId",1200],")",")",";",["T_WHITESPACE","\n    ",1200],["T_VARIABLE","$this",1201],["T_OBJECT_OPERATOR","->",1201],["T_STRING","entityType",1201],["T_OBJECT_OPERATOR","->",1201],["T_STRING","expects",1201],"(",["T_VARIABLE","$this",1201],["T_OBJECT_OPERATOR","->",1201],["T_STRING","atLeastOnce",1201],"(",")",")",["T_WHITESPACE","\n      ",1201],["T_OBJECT_OPERATOR","->",1202],["T_STRING","method",1202],"(",["T_CONSTANT_ENCAPSED_STRING","'getClass'",1202],")",["T_WHITESPACE","\n      ",1202],["T_OBJECT_OPERATOR","->",1203],["T_STRING","will",1203],"(",["T_VARIABLE","$this",1203],["T_OBJECT_OPERATOR","->",1203],["T_STRING","returnValue",1203],"(",["T_STRING","get_class",1203],"(",["T_VARIABLE","$entity",1203],")",")",")",";",["T_WHITESPACE","\n\n    ",1203],["T_COMMENT","\/\/ In case of a cache miss, the entity is loaded from the storage and then\n",1205],["T_WHITESPACE","    ",1206],["T_COMMENT","\/\/ set in the cache.\n",1206],["T_WHITESPACE","    ",1207],["T_VARIABLE","$key",1207],["T_WHITESPACE"," ",1207],"=",["T_WHITESPACE"," ",1207],["T_CONSTANT_ENCAPSED_STRING","'values:'",1207],["T_WHITESPACE"," ",1207],".",["T_WHITESPACE"," ",1207],["T_VARIABLE","$this",1207],["T_OBJECT_OPERATOR","->",1207],["T_STRING","entityTypeId",1207],["T_WHITESPACE"," ",1207],".",["T_WHITESPACE"," ",1207],["T_CONSTANT_ENCAPSED_STRING","':1'",1207],";",["T_WHITESPACE","\n    ",1207],["T_VARIABLE","$this",1208],["T_OBJECT_OPERATOR","->",1208],["T_STRING","cache",1208],["T_OBJECT_OPERATOR","->",1208],["T_STRING","expects",1208],"(",["T_VARIABLE","$this",1208],["T_OBJECT_OPERATOR","->",1208],["T_STRING","once",1208],"(",")",")",["T_WHITESPACE","\n      ",1208],["T_OBJECT_OPERATOR","->",1209],["T_STRING","method",1209],"(",["T_CONSTANT_ENCAPSED_STRING","'getMultiple'",1209],")",["T_WHITESPACE","\n      ",1209],["T_OBJECT_OPERATOR","->",1210],["T_STRING","with",1210],"(",["T_ARRAY","array",1210],"(",["T_VARIABLE","$key",1210],")",")",["T_WHITESPACE","\n      ",1210],["T_OBJECT_OPERATOR","->",1211],["T_STRING","will",1211],"(",["T_VARIABLE","$this",1211],["T_OBJECT_OPERATOR","->",1211],["T_STRING","returnValue",1211],"(",["T_ARRAY","array",1211],"(",")",")",")",";",["T_WHITESPACE","\n    ",1211],["T_VARIABLE","$this",1212],["T_OBJECT_OPERATOR","->",1212],["T_STRING","cache",1212],["T_OBJECT_OPERATOR","->",1212],["T_STRING","expects",1212],"(",["T_VARIABLE","$this",1212],["T_OBJECT_OPERATOR","->",1212],["T_STRING","once",1212],"(",")",")",["T_WHITESPACE","\n      ",1212],["T_OBJECT_OPERATOR","->",1213],["T_STRING","method",1213],"(",["T_CONSTANT_ENCAPSED_STRING","'set'",1213],")",["T_WHITESPACE","\n      ",1213],["T_OBJECT_OPERATOR","->",1214],["T_STRING","with",1214],"(",["T_VARIABLE","$key",1214],",",["T_WHITESPACE"," ",1214],["T_VARIABLE","$entity",1214],",",["T_WHITESPACE"," ",1214],["T_STRING","CacheBackendInterface",1214],["T_DOUBLE_COLON","::",1214],["T_STRING","CACHE_PERMANENT",1214],",",["T_WHITESPACE"," ",1214],["T_ARRAY","array",1214],"(",["T_VARIABLE","$this",1214],["T_OBJECT_OPERATOR","->",1214],["T_STRING","entityTypeId",1214],["T_WHITESPACE"," ",1214],".",["T_WHITESPACE"," ",1214],["T_CONSTANT_ENCAPSED_STRING","'_values'",1214],",",["T_WHITESPACE"," ",1214],["T_CONSTANT_ENCAPSED_STRING","'entity_field_info'",1214],")",")",";",["T_WHITESPACE","\n\n    ",1214],["T_VARIABLE","$entity_storage",1216],["T_WHITESPACE"," ",1216],"=",["T_WHITESPACE"," ",1216],["T_VARIABLE","$this",1216],["T_OBJECT_OPERATOR","->",1216],["T_STRING","getMockBuilder",1216],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Entity\\Sql\\SqlContentEntityStorage'",1216],")",["T_WHITESPACE","\n      ",1216],["T_OBJECT_OPERATOR","->",1217],["T_STRING","setConstructorArgs",1217],"(",["T_ARRAY","array",1217],"(",["T_VARIABLE","$this",1217],["T_OBJECT_OPERATOR","->",1217],["T_STRING","entityType",1217],",",["T_WHITESPACE"," ",1217],["T_VARIABLE","$this",1217],["T_OBJECT_OPERATOR","->",1217],["T_STRING","connection",1217],",",["T_WHITESPACE"," ",1217],["T_VARIABLE","$this",1217],["T_OBJECT_OPERATOR","->",1217],["T_STRING","entityManager",1217],",",["T_WHITESPACE"," ",1217],["T_VARIABLE","$this",1217],["T_OBJECT_OPERATOR","->",1217],["T_STRING","cache",1217],",",["T_WHITESPACE"," ",1217],["T_VARIABLE","$this",1217],["T_OBJECT_OPERATOR","->",1217],["T_STRING","languageManager",1217],")",")",["T_WHITESPACE","\n      ",1217],["T_OBJECT_OPERATOR","->",1218],["T_STRING","setMethods",1218],"(",["T_ARRAY","array",1218],"(",["T_CONSTANT_ENCAPSED_STRING","'getFromStorage'",1218],",",["T_WHITESPACE"," ",1218],["T_CONSTANT_ENCAPSED_STRING","'invokeStorageLoadHook'",1218],")",")",["T_WHITESPACE","\n      ",1218],["T_OBJECT_OPERATOR","->",1219],["T_STRING","getMock",1219],"(",")",";",["T_WHITESPACE","\n    ",1219],["T_VARIABLE","$entity_storage",1220],["T_OBJECT_OPERATOR","->",1220],["T_STRING","method",1220],"(",["T_CONSTANT_ENCAPSED_STRING","'invokeStorageLoadHook'",1220],")",["T_WHITESPACE","\n      ",1220],["T_OBJECT_OPERATOR","->",1221],["T_STRING","willReturn",1221],"(",["T_STRING","NULL",1221],")",";",["T_WHITESPACE","\n    ",1221],["T_VARIABLE","$entity_storage",1222],["T_OBJECT_OPERATOR","->",1222],["T_STRING","expects",1222],"(",["T_VARIABLE","$this",1222],["T_OBJECT_OPERATOR","->",1222],["T_STRING","once",1222],"(",")",")",["T_WHITESPACE","\n      ",1222],["T_OBJECT_OPERATOR","->",1223],["T_STRING","method",1223],"(",["T_CONSTANT_ENCAPSED_STRING","'getFromStorage'",1223],")",["T_WHITESPACE","\n      ",1223],["T_OBJECT_OPERATOR","->",1224],["T_STRING","with",1224],"(",["T_ARRAY","array",1224],"(",["T_VARIABLE","$id",1224],")",")",["T_WHITESPACE","\n      ",1224],["T_OBJECT_OPERATOR","->",1225],["T_STRING","will",1225],"(",["T_VARIABLE","$this",1225],["T_OBJECT_OPERATOR","->",1225],["T_STRING","returnValue",1225],"(",["T_ARRAY","array",1225],"(",["T_VARIABLE","$id",1225],["T_WHITESPACE"," ",1225],["T_DOUBLE_ARROW","=>",1225],["T_WHITESPACE"," ",1225],["T_VARIABLE","$entity",1225],")",")",")",";",["T_WHITESPACE","\n\n    ",1225],["T_VARIABLE","$entities",1227],["T_WHITESPACE"," ",1227],"=",["T_WHITESPACE"," ",1227],["T_VARIABLE","$entity_storage",1227],["T_OBJECT_OPERATOR","->",1227],["T_STRING","loadMultiple",1227],"(",["T_ARRAY","array",1227],"(",["T_VARIABLE","$id",1227],")",")",";",["T_WHITESPACE","\n    ",1227],["T_VARIABLE","$this",1228],["T_OBJECT_OPERATOR","->",1228],["T_STRING","assertEquals",1228],"(",["T_VARIABLE","$entity",1228],",",["T_WHITESPACE"," ",1228],["T_VARIABLE","$entities",1228],"[",["T_VARIABLE","$id",1228],"]",")",";",["T_WHITESPACE","\n  ",1228],"}",["T_WHITESPACE","\n\n  ",1229],["T_DOC_COMMENT","\/**\n   * @covers ::hasData\n   *\/",1231],["T_WHITESPACE","\n  ",1233],["T_PUBLIC","public",1234],["T_WHITESPACE"," ",1234],["T_FUNCTION","function",1234],["T_WHITESPACE"," ",1234],["T_STRING","testHasData",1234],"(",")",["T_WHITESPACE"," ",1234],"{",["T_WHITESPACE","\n    ",1234],["T_VARIABLE","$query",1235],["T_WHITESPACE"," ",1235],"=",["T_WHITESPACE"," ",1235],["T_VARIABLE","$this",1235],["T_OBJECT_OPERATOR","->",1235],["T_STRING","getMock",1235],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Entity\\Query\\QueryInterface'",1235],")",";",["T_WHITESPACE","\n    ",1235],["T_VARIABLE","$query",1236],["T_OBJECT_OPERATOR","->",1236],["T_STRING","expects",1236],"(","(",["T_VARIABLE","$this",1236],["T_OBJECT_OPERATOR","->",1236],["T_STRING","once",1236],"(",")",")",")",["T_WHITESPACE","\n      ",1236],["T_OBJECT_OPERATOR","->",1237],["T_STRING","method",1237],"(",["T_CONSTANT_ENCAPSED_STRING","'accessCheck'",1237],")",["T_WHITESPACE","\n      ",1237],["T_OBJECT_OPERATOR","->",1238],["T_STRING","with",1238],"(",["T_STRING","FALSE",1238],")",["T_WHITESPACE","\n      ",1238],["T_OBJECT_OPERATOR","->",1239],["T_STRING","willReturn",1239],"(",["T_VARIABLE","$query",1239],")",";",["T_WHITESPACE","\n    ",1239],["T_VARIABLE","$query",1240],["T_OBJECT_OPERATOR","->",1240],["T_STRING","expects",1240],"(","(",["T_VARIABLE","$this",1240],["T_OBJECT_OPERATOR","->",1240],["T_STRING","once",1240],"(",")",")",")",["T_WHITESPACE","\n      ",1240],["T_OBJECT_OPERATOR","->",1241],["T_STRING","method",1241],"(",["T_CONSTANT_ENCAPSED_STRING","'range'",1241],")",["T_WHITESPACE","\n      ",1241],["T_OBJECT_OPERATOR","->",1242],["T_STRING","with",1242],"(",["T_LNUMBER","0",1242],",",["T_WHITESPACE"," ",1242],["T_LNUMBER","1",1242],")",["T_WHITESPACE","\n      ",1242],["T_OBJECT_OPERATOR","->",1243],["T_STRING","willReturn",1243],"(",["T_VARIABLE","$query",1243],")",";",["T_WHITESPACE","\n    ",1243],["T_VARIABLE","$query",1244],["T_OBJECT_OPERATOR","->",1244],["T_STRING","expects",1244],"(","(",["T_VARIABLE","$this",1244],["T_OBJECT_OPERATOR","->",1244],["T_STRING","once",1244],"(",")",")",")",["T_WHITESPACE","\n      ",1244],["T_OBJECT_OPERATOR","->",1245],["T_STRING","method",1245],"(",["T_CONSTANT_ENCAPSED_STRING","'execute'",1245],")",["T_WHITESPACE","\n      ",1245],["T_OBJECT_OPERATOR","->",1246],["T_STRING","willReturn",1246],"(",["T_ARRAY","array",1246],"(",["T_LNUMBER","5",1246],")",")",";",["T_WHITESPACE","\n\n    ",1246],["T_VARIABLE","$factory",1248],["T_WHITESPACE"," ",1248],"=",["T_WHITESPACE"," ",1248],["T_VARIABLE","$this",1248],["T_OBJECT_OPERATOR","->",1248],["T_STRING","getMockBuilder",1248],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Entity\\Query\\QueryFactory'",1248],")",["T_WHITESPACE","\n      ",1248],["T_OBJECT_OPERATOR","->",1249],["T_STRING","disableOriginalConstructor",1249],"(",")",["T_WHITESPACE","\n      ",1249],["T_OBJECT_OPERATOR","->",1250],["T_STRING","getMock",1250],"(",")",";",["T_WHITESPACE","\n    ",1250],["T_VARIABLE","$factory",1251],["T_OBJECT_OPERATOR","->",1251],["T_STRING","expects",1251],"(",["T_VARIABLE","$this",1251],["T_OBJECT_OPERATOR","->",1251],["T_STRING","once",1251],"(",")",")",["T_WHITESPACE","\n      ",1251],["T_OBJECT_OPERATOR","->",1252],["T_STRING","method",1252],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",1252],")",["T_WHITESPACE","\n      ",1252],["T_OBJECT_OPERATOR","->",1253],["T_STRING","with",1253],"(",["T_VARIABLE","$this",1253],["T_OBJECT_OPERATOR","->",1253],["T_STRING","entityType",1253],",",["T_WHITESPACE"," ",1253],["T_CONSTANT_ENCAPSED_STRING","'AND'",1253],")",["T_WHITESPACE","\n      ",1253],["T_OBJECT_OPERATOR","->",1254],["T_STRING","willReturn",1254],"(",["T_VARIABLE","$query",1254],")",";",["T_WHITESPACE","\n\n    ",1254],["T_VARIABLE","$this",1256],["T_OBJECT_OPERATOR","->",1256],["T_STRING","container",1256],["T_OBJECT_OPERATOR","->",1256],["T_STRING","set",1256],"(",["T_CONSTANT_ENCAPSED_STRING","'entity.query.sql'",1256],",",["T_WHITESPACE"," ",1256],["T_VARIABLE","$factory",1256],")",";",["T_WHITESPACE","\n\n    ",1256],["T_VARIABLE","$database",1258],["T_WHITESPACE"," ",1258],"=",["T_WHITESPACE"," ",1258],["T_VARIABLE","$this",1258],["T_OBJECT_OPERATOR","->",1258],["T_STRING","getMockBuilder",1258],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Database\\Connection'",1258],")",["T_WHITESPACE","\n      ",1258],["T_OBJECT_OPERATOR","->",1259],["T_STRING","disableOriginalConstructor",1259],"(",")",["T_WHITESPACE","\n      ",1259],["T_OBJECT_OPERATOR","->",1260],["T_STRING","getMock",1260],"(",")",";",["T_WHITESPACE","\n\n    ",1260],["T_VARIABLE","$this",1262],["T_OBJECT_OPERATOR","->",1262],["T_STRING","entityManager",1262],["T_OBJECT_OPERATOR","->",1262],["T_STRING","expects",1262],"(",["T_VARIABLE","$this",1262],["T_OBJECT_OPERATOR","->",1262],["T_STRING","any",1262],"(",")",")",["T_WHITESPACE","\n      ",1262],["T_OBJECT_OPERATOR","->",1263],["T_STRING","method",1263],"(",["T_CONSTANT_ENCAPSED_STRING","'getDefinition'",1263],")",["T_WHITESPACE","\n      ",1263],["T_OBJECT_OPERATOR","->",1264],["T_STRING","will",1264],"(",["T_VARIABLE","$this",1264],["T_OBJECT_OPERATOR","->",1264],["T_STRING","returnValue",1264],"(",["T_VARIABLE","$this",1264],["T_OBJECT_OPERATOR","->",1264],["T_STRING","entityType",1264],")",")",";",["T_WHITESPACE","\n\n    ",1264],["T_VARIABLE","$this",1266],["T_OBJECT_OPERATOR","->",1266],["T_STRING","entityManager",1266],["T_OBJECT_OPERATOR","->",1266],["T_STRING","expects",1266],"(",["T_VARIABLE","$this",1266],["T_OBJECT_OPERATOR","->",1266],["T_STRING","any",1266],"(",")",")",["T_WHITESPACE","\n      ",1266],["T_OBJECT_OPERATOR","->",1267],["T_STRING","method",1267],"(",["T_CONSTANT_ENCAPSED_STRING","'getFieldStorageDefinitions'",1267],")",["T_WHITESPACE","\n      ",1267],["T_OBJECT_OPERATOR","->",1268],["T_STRING","will",1268],"(",["T_VARIABLE","$this",1268],["T_OBJECT_OPERATOR","->",1268],["T_STRING","returnValue",1268],"(",["T_VARIABLE","$this",1268],["T_OBJECT_OPERATOR","->",1268],["T_STRING","fieldDefinitions",1268],")",")",";",["T_WHITESPACE","\n\n    ",1268],["T_VARIABLE","$this",1270],["T_OBJECT_OPERATOR","->",1270],["T_STRING","entityManager",1270],["T_OBJECT_OPERATOR","->",1270],["T_STRING","expects",1270],"(",["T_VARIABLE","$this",1270],["T_OBJECT_OPERATOR","->",1270],["T_STRING","any",1270],"(",")",")",["T_WHITESPACE","\n      ",1270],["T_OBJECT_OPERATOR","->",1271],["T_STRING","method",1271],"(",["T_CONSTANT_ENCAPSED_STRING","'getBaseFieldDefinitions'",1271],")",["T_WHITESPACE","\n      ",1271],["T_OBJECT_OPERATOR","->",1272],["T_STRING","will",1272],"(",["T_VARIABLE","$this",1272],["T_OBJECT_OPERATOR","->",1272],["T_STRING","returnValue",1272],"(",["T_VARIABLE","$this",1272],["T_OBJECT_OPERATOR","->",1272],["T_STRING","fieldDefinitions",1272],")",")",";",["T_WHITESPACE","\n\n    ",1272],["T_VARIABLE","$this",1274],["T_OBJECT_OPERATOR","->",1274],["T_STRING","entityStorage",1274],["T_WHITESPACE"," ",1274],"=",["T_WHITESPACE"," ",1274],["T_NEW","new",1274],["T_WHITESPACE"," ",1274],["T_STRING","SqlContentEntityStorage",1274],"(",["T_VARIABLE","$this",1274],["T_OBJECT_OPERATOR","->",1274],["T_STRING","entityType",1274],",",["T_WHITESPACE"," ",1274],["T_VARIABLE","$database",1274],",",["T_WHITESPACE"," ",1274],["T_VARIABLE","$this",1274],["T_OBJECT_OPERATOR","->",1274],["T_STRING","entityManager",1274],",",["T_WHITESPACE"," ",1274],["T_VARIABLE","$this",1274],["T_OBJECT_OPERATOR","->",1274],["T_STRING","cache",1274],",",["T_WHITESPACE"," ",1274],["T_VARIABLE","$this",1274],["T_OBJECT_OPERATOR","->",1274],["T_STRING","languageManager",1274],")",";",["T_WHITESPACE","\n\n    ",1274],["T_VARIABLE","$result",1276],["T_WHITESPACE"," ",1276],"=",["T_WHITESPACE"," ",1276],["T_VARIABLE","$this",1276],["T_OBJECT_OPERATOR","->",1276],["T_STRING","entityStorage",1276],["T_OBJECT_OPERATOR","->",1276],["T_STRING","hasData",1276],"(",")",";",["T_WHITESPACE","\n\n    ",1276],["T_VARIABLE","$this",1278],["T_OBJECT_OPERATOR","->",1278],["T_STRING","assertTrue",1278],"(",["T_VARIABLE","$result",1278],",",["T_WHITESPACE"," ",1278],["T_CONSTANT_ENCAPSED_STRING","'hasData returned TRUE'",1278],")",";",["T_WHITESPACE","\n  ",1278],"}",["T_WHITESPACE","\n\n  ",1279],["T_DOC_COMMENT","\/**\n   * Tests entity ID sanitization.\n   *\/",1281],["T_WHITESPACE","\n  ",1283],["T_PUBLIC","public",1284],["T_WHITESPACE"," ",1284],["T_FUNCTION","function",1284],["T_WHITESPACE"," ",1284],["T_STRING","testCleanIds",1284],"(",")",["T_WHITESPACE"," ",1284],"{",["T_WHITESPACE","\n    ",1284],["T_VARIABLE","$valid_ids",1285],["T_WHITESPACE"," ",1285],"=",["T_WHITESPACE"," ",1285],["T_ARRAY","array",1285],"(",["T_WHITESPACE","\n      ",1285],"-",["T_LNUMBER","1",1286],",",["T_WHITESPACE","\n      ",1286],["T_LNUMBER","0",1287],",",["T_WHITESPACE","\n      ",1287],["T_LNUMBER","1",1288],",",["T_WHITESPACE","\n      ",1288],["T_CONSTANT_ENCAPSED_STRING","'-1'",1289],",",["T_WHITESPACE","\n      ",1289],["T_CONSTANT_ENCAPSED_STRING","'0'",1290],",",["T_WHITESPACE","\n      ",1290],["T_CONSTANT_ENCAPSED_STRING","'1'",1291],",",["T_WHITESPACE","\n      ",1291],["T_LNUMBER","0123",1292],",",["T_WHITESPACE","\n      ",1292],"-",["T_LNUMBER","0x1A",1293],",",["T_WHITESPACE","\n      ",1293],["T_LNUMBER","0x1AFC",1294],",",["T_WHITESPACE","\n      ",1294],"-",["T_LNUMBER","0b111",1295],",",["T_WHITESPACE","\n      ",1295],["T_LNUMBER","0b101",1296],",",["T_WHITESPACE","\n      ",1296],["T_CONSTANT_ENCAPSED_STRING","'0123'",1297],",",["T_WHITESPACE","\n      ",1297],["T_CONSTANT_ENCAPSED_STRING","'00123'",1298],",",["T_WHITESPACE","\n      ",1298],["T_CONSTANT_ENCAPSED_STRING","'000123'",1299],",",["T_WHITESPACE","\n      ",1299],["T_CONSTANT_ENCAPSED_STRING","'-0123'",1300],",",["T_WHITESPACE","\n      ",1300],["T_CONSTANT_ENCAPSED_STRING","'-00123'",1301],",",["T_WHITESPACE","\n      ",1301],["T_CONSTANT_ENCAPSED_STRING","'-000123'",1302],",",["T_WHITESPACE","\n      ",1302],"-",["T_DNUMBER","10.0",1303],",",["T_WHITESPACE","\n      ",1303],"-",["T_DNUMBER","1.0",1304],",",["T_WHITESPACE","\n      ",1304],["T_DNUMBER","0.0",1305],",",["T_WHITESPACE","\n      ",1305],["T_DNUMBER","1.0",1306],",",["T_WHITESPACE","\n      ",1306],["T_DNUMBER","10.0",1307],",",["T_WHITESPACE","\n      ",1307],"-",["T_DNUMBER","10.00",1308],",",["T_WHITESPACE","\n      ",1308],"-",["T_DNUMBER","1.00",1309],",",["T_WHITESPACE","\n      ",1309],["T_DNUMBER","0.00",1310],",",["T_WHITESPACE","\n      ",1310],["T_DNUMBER","1.00",1311],",",["T_WHITESPACE","\n      ",1311],["T_DNUMBER","10.00",1312],",",["T_WHITESPACE","\n    ",1312],")",";",["T_WHITESPACE","\n\n    ",1313],["T_VARIABLE","$this",1315],["T_OBJECT_OPERATOR","->",1315],["T_STRING","fieldDefinitions",1315],["T_WHITESPACE"," ",1315],"=",["T_WHITESPACE"," ",1315],["T_VARIABLE","$this",1315],["T_OBJECT_OPERATOR","->",1315],["T_STRING","mockFieldDefinitions",1315],"(",["T_ARRAY","array",1315],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",1315],")",")",";",["T_WHITESPACE","\n    ",1315],["T_VARIABLE","$this",1316],["T_OBJECT_OPERATOR","->",1316],["T_STRING","fieldDefinitions",1316],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",1316],"]",["T_OBJECT_OPERATOR","->",1316],["T_STRING","expects",1316],"(",["T_VARIABLE","$this",1316],["T_OBJECT_OPERATOR","->",1316],["T_STRING","any",1316],"(",")",")",["T_WHITESPACE","\n      ",1316],["T_OBJECT_OPERATOR","->",1317],["T_STRING","method",1317],"(",["T_CONSTANT_ENCAPSED_STRING","'getType'",1317],")",["T_WHITESPACE","\n      ",1317],["T_OBJECT_OPERATOR","->",1318],["T_STRING","will",1318],"(",["T_VARIABLE","$this",1318],["T_OBJECT_OPERATOR","->",1318],["T_STRING","returnValue",1318],"(",["T_CONSTANT_ENCAPSED_STRING","'integer'",1318],")",")",";",["T_WHITESPACE","\n\n    ",1318],["T_VARIABLE","$this",1320],["T_OBJECT_OPERATOR","->",1320],["T_STRING","setUpEntityStorage",1320],"(",")",";",["T_WHITESPACE","\n\n    ",1320],["T_VARIABLE","$this",1322],["T_OBJECT_OPERATOR","->",1322],["T_STRING","entityType",1322],["T_OBJECT_OPERATOR","->",1322],["T_STRING","expects",1322],"(",["T_VARIABLE","$this",1322],["T_OBJECT_OPERATOR","->",1322],["T_STRING","any",1322],"(",")",")",["T_WHITESPACE","\n      ",1322],["T_OBJECT_OPERATOR","->",1323],["T_STRING","method",1323],"(",["T_CONSTANT_ENCAPSED_STRING","'getKey'",1323],")",["T_WHITESPACE","\n      ",1323],["T_OBJECT_OPERATOR","->",1324],["T_STRING","will",1324],"(",["T_VARIABLE","$this",1324],["T_OBJECT_OPERATOR","->",1324],["T_STRING","returnValueMap",1324],"(",["T_WHITESPACE","\n        ",1324],["T_ARRAY","array",1325],"(",["T_ARRAY","array",1325],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",1325],",",["T_WHITESPACE"," ",1325],["T_CONSTANT_ENCAPSED_STRING","'id'",1325],")",")",["T_WHITESPACE","\n      ",1325],")",")",";",["T_WHITESPACE","\n\n    ",1326],["T_VARIABLE","$method",1328],["T_WHITESPACE"," ",1328],"=",["T_WHITESPACE"," ",1328],["T_NEW","new",1328],["T_WHITESPACE"," ",1328],["T_NS_SEPARATOR","\\",1328],["T_STRING","ReflectionMethod",1328],"(",["T_VARIABLE","$this",1328],["T_OBJECT_OPERATOR","->",1328],["T_STRING","entityStorage",1328],",",["T_WHITESPACE"," ",1328],["T_CONSTANT_ENCAPSED_STRING","'cleanIds'",1328],")",";",["T_WHITESPACE","\n    ",1328],["T_VARIABLE","$method",1329],["T_OBJECT_OPERATOR","->",1329],["T_STRING","setAccessible",1329],"(",["T_STRING","TRUE",1329],")",";",["T_WHITESPACE","\n    ",1329],["T_VARIABLE","$this",1330],["T_OBJECT_OPERATOR","->",1330],["T_STRING","assertEquals",1330],"(",["T_VARIABLE","$valid_ids",1330],",",["T_WHITESPACE"," ",1330],["T_VARIABLE","$method",1330],["T_OBJECT_OPERATOR","->",1330],["T_STRING","invoke",1330],"(",["T_VARIABLE","$this",1330],["T_OBJECT_OPERATOR","->",1330],["T_STRING","entityStorage",1330],",",["T_WHITESPACE"," ",1330],["T_VARIABLE","$valid_ids",1330],")",")",";",["T_WHITESPACE","\n\n    ",1330],["T_VARIABLE","$invalid_ids",1332],["T_WHITESPACE"," ",1332],"=",["T_WHITESPACE"," ",1332],["T_ARRAY","array",1332],"(",["T_WHITESPACE","\n      ",1332],["T_CONSTANT_ENCAPSED_STRING","'--1'",1333],",",["T_WHITESPACE","\n      ",1333],["T_CONSTANT_ENCAPSED_STRING","'-0x1A'",1334],",",["T_WHITESPACE","\n      ",1334],["T_CONSTANT_ENCAPSED_STRING","'0x1AFC'",1335],",",["T_WHITESPACE","\n      ",1335],["T_CONSTANT_ENCAPSED_STRING","'-0b111'",1336],",",["T_WHITESPACE","\n      ",1336],["T_CONSTANT_ENCAPSED_STRING","'0b101'",1337],",",["T_WHITESPACE","\n      ",1337],["T_CONSTANT_ENCAPSED_STRING","'a'",1338],",",["T_WHITESPACE","\n      ",1338],["T_STRING","FALSE",1339],",",["T_WHITESPACE","\n      ",1339],["T_STRING","TRUE",1340],",",["T_WHITESPACE","\n      ",1340],["T_STRING","NULL",1341],",",["T_WHITESPACE","\n      ",1341],["T_CONSTANT_ENCAPSED_STRING","'32acb'",1342],",",["T_WHITESPACE","\n      ",1342],["T_DNUMBER","123.123",1343],",",["T_WHITESPACE","\n      ",1343],["T_DNUMBER","123.678",1344],",",["T_WHITESPACE","\n    ",1344],")",";",["T_WHITESPACE","\n    ",1345],["T_VARIABLE","$this",1346],["T_OBJECT_OPERATOR","->",1346],["T_STRING","assertEquals",1346],"(",["T_ARRAY","array",1346],"(",")",",",["T_WHITESPACE"," ",1346],["T_VARIABLE","$method",1346],["T_OBJECT_OPERATOR","->",1346],["T_STRING","invoke",1346],"(",["T_VARIABLE","$this",1346],["T_OBJECT_OPERATOR","->",1346],["T_STRING","entityStorage",1346],",",["T_WHITESPACE"," ",1346],["T_VARIABLE","$invalid_ids",1346],")",")",";",["T_WHITESPACE","\n\n  ",1346],"}",["T_WHITESPACE","\n\n  ",1348],["T_DOC_COMMENT","\/**\n   * Sets up the module handler with no implementations.\n   *\/",1350],["T_WHITESPACE","\n  ",1352],["T_PROTECTED","protected",1353],["T_WHITESPACE"," ",1353],["T_FUNCTION","function",1353],["T_WHITESPACE"," ",1353],["T_STRING","setUpModuleHandlerNoImplementations",1353],"(",")",["T_WHITESPACE"," ",1353],"{",["T_WHITESPACE","\n    ",1353],["T_VARIABLE","$this",1354],["T_OBJECT_OPERATOR","->",1354],["T_STRING","moduleHandler",1354],["T_OBJECT_OPERATOR","->",1354],["T_STRING","expects",1354],"(",["T_VARIABLE","$this",1354],["T_OBJECT_OPERATOR","->",1354],["T_STRING","any",1354],"(",")",")",["T_WHITESPACE","\n      ",1354],["T_OBJECT_OPERATOR","->",1355],["T_STRING","method",1355],"(",["T_CONSTANT_ENCAPSED_STRING","'getImplementations'",1355],")",["T_WHITESPACE","\n      ",1355],["T_OBJECT_OPERATOR","->",1356],["T_STRING","will",1356],"(",["T_VARIABLE","$this",1356],["T_OBJECT_OPERATOR","->",1356],["T_STRING","returnValueMap",1356],"(",["T_ARRAY","array",1356],"(",["T_WHITESPACE","\n        ",1356],["T_ARRAY","array",1357],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_load'",1357],",",["T_WHITESPACE"," ",1357],["T_ARRAY","array",1357],"(",")",")",",",["T_WHITESPACE","\n        ",1357],["T_ARRAY","array",1358],"(",["T_VARIABLE","$this",1358],["T_OBJECT_OPERATOR","->",1358],["T_STRING","entityTypeId",1358],["T_WHITESPACE"," ",1358],".",["T_WHITESPACE"," ",1358],["T_CONSTANT_ENCAPSED_STRING","'_load'",1358],",",["T_WHITESPACE"," ",1358],["T_ARRAY","array",1358],"(",")",")",["T_WHITESPACE","\n      ",1358],")",")",")",";",["T_WHITESPACE","\n\n    ",1359],["T_VARIABLE","$this",1361],["T_OBJECT_OPERATOR","->",1361],["T_STRING","container",1361],["T_OBJECT_OPERATOR","->",1361],["T_STRING","set",1361],"(",["T_CONSTANT_ENCAPSED_STRING","'module_handler'",1361],",",["T_WHITESPACE"," ",1361],["T_VARIABLE","$this",1361],["T_OBJECT_OPERATOR","->",1361],["T_STRING","moduleHandler",1361],")",";",["T_WHITESPACE","\n  ",1361],"}",["T_WHITESPACE","\n\n",1362],"}",["T_WHITESPACE","\n\n",1364],["T_DOC_COMMENT","\/**\n * Provides an entity with dummy implementations of static methods, because\n * those cannot be mocked.\n *\/",1366],["T_WHITESPACE","\n",1369],["T_ABSTRACT","abstract",1370],["T_WHITESPACE"," ",1370],["T_CLASS","class",1370],["T_WHITESPACE"," ",1370],["T_STRING","SqlContentEntityStorageTestEntityInterface",1370],["T_WHITESPACE"," ",1370],["T_IMPLEMENTS","implements",1370],["T_WHITESPACE"," ",1370],["T_STRING","EntityInterface",1370],["T_WHITESPACE"," ",1370],"{",["T_WHITESPACE","\n\n  ",1370],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",1372],["T_WHITESPACE","\n  ",1374],["T_PUBLIC","public",1375],["T_WHITESPACE"," ",1375],["T_STATIC","static",1375],["T_WHITESPACE"," ",1375],["T_FUNCTION","function",1375],["T_WHITESPACE"," ",1375],["T_STRING","postLoad",1375],"(",["T_STRING","EntityStorageInterface",1375],["T_WHITESPACE"," ",1375],["T_VARIABLE","$storage",1375],",",["T_WHITESPACE"," ",1375],["T_ARRAY","array",1375],["T_WHITESPACE"," ",1375],"&",["T_VARIABLE","$entities",1375],")",["T_WHITESPACE"," ",1375],"{",["T_WHITESPACE","\n  ",1375],"}",["T_WHITESPACE","\n\n",1376],"}",["T_WHITESPACE","\n",1378]]