[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Utility",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Tests",5],["T_NS_SEPARATOR","\\",5],["T_STRING","UnitTestCase",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Utility",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Error",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * @coversDefaultClass \\Drupal\\Core\\Utility\\Error\n * @group Utility\n *\/",8],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","ErrorTest",12],["T_WHITESPACE"," ",12],["T_EXTENDS","extends",12],["T_WHITESPACE"," ",12],["T_STRING","UnitTestCase",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * Tests the getLastCaller() method.\n   *\n   * @param array $backtrace\n   *   The test backtrace array.\n   * @param array $expected\n   *   The expected return array.\n   *\n   * @dataProvider providerTestGetLastCaller\n   *\/",14],["T_WHITESPACE","\n  ",23],["T_PUBLIC","public",24],["T_WHITESPACE"," ",24],["T_FUNCTION","function",24],["T_WHITESPACE"," ",24],["T_STRING","testGetLastCaller",24],"(",["T_VARIABLE","$backtrace",24],",",["T_WHITESPACE"," ",24],["T_VARIABLE","$expected",24],")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n    ",24],["T_VARIABLE","$this",25],["T_OBJECT_OPERATOR","->",25],["T_STRING","assertSame",25],"(",["T_VARIABLE","$expected",25],",",["T_WHITESPACE"," ",25],["T_STRING","Error",25],["T_DOUBLE_COLON","::",25],["T_STRING","getLastCaller",25],"(",["T_VARIABLE","$backtrace",25],")",")",";",["T_WHITESPACE","\n  ",25],"}",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * Data provider for testGetLastCaller.\n   *\n   * @return array\n   *   An array of parameter data.\n   *\/",28],["T_WHITESPACE","\n  ",33],["T_PUBLIC","public",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","providerTestGetLastCaller",34],"(",")",["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$data",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_ARRAY","array",35],"(",")",";",["T_WHITESPACE","\n\n    ",35],["T_COMMENT","\/\/ Test with just one item. This should default to the function being\n",37],["T_WHITESPACE","    ",38],["T_COMMENT","\/\/ main().\n",38],["T_WHITESPACE","    ",39],["T_VARIABLE","$single_item",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_ARRAY","array",39],"(",["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","createBacktraceItem",39],"(",")",")",";",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$data",40],"[","]",["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_ARRAY","array",40],"(",["T_VARIABLE","$single_item",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","createBacktraceItem",40],"(",["T_CONSTANT_ENCAPSED_STRING","'main()'",40],")",")",";",["T_WHITESPACE","\n\n    ",40],["T_COMMENT","\/\/ Add a second item, without a class.\n",42],["T_WHITESPACE","    ",43],["T_VARIABLE","$two_items",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$single_item",43],";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$two_items",44],"[","]",["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","createBacktraceItem",44],"(",["T_CONSTANT_ENCAPSED_STRING","'test_function_two'",44],")",";",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$data",45],"[","]",["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_ARRAY","array",45],"(",["T_VARIABLE","$two_items",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","createBacktraceItem",45],"(",["T_CONSTANT_ENCAPSED_STRING","'test_function_two()'",45],")",")",";",["T_WHITESPACE","\n\n    ",45],["T_COMMENT","\/\/ Add a second item, with a class.\n",47],["T_WHITESPACE","    ",48],["T_VARIABLE","$two_items",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$single_item",48],";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$two_items",49],"[","]",["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","createBacktraceItem",49],"(",["T_CONSTANT_ENCAPSED_STRING","'test_function_two'",49],",",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'TestClass'",49],")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$data",50],"[","]",["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_ARRAY","array",50],"(",["T_VARIABLE","$two_items",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","createBacktraceItem",50],"(",["T_CONSTANT_ENCAPSED_STRING","'TestClass->test_function_two()'",50],")",")",";",["T_WHITESPACE","\n\n    ",50],["T_COMMENT","\/\/ Add blacklist functions to backtrace. They should get removed.\n",52],["T_WHITESPACE","    ",53],["T_FOREACH","foreach",53],["T_WHITESPACE"," ",53],"(",["T_ARRAY","array",53],"(",["T_CONSTANT_ENCAPSED_STRING","'debug'",53],",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'_drupal_error_handler'",53],",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'_drupal_exception_handler'",53],")",["T_WHITESPACE"," ",53],["T_AS","as",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$function",53],")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n      ",53],["T_VARIABLE","$two_items",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$single_item",54],";",["T_WHITESPACE","\n      ",54],["T_COMMENT","\/\/ Push to the start of the backtrace.\n",55],["T_WHITESPACE","      ",56],["T_STRING","array_unshift",56],"(",["T_VARIABLE","$two_items",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","createBacktraceItem",56],"(",["T_VARIABLE","$function",56],")",")",";",["T_WHITESPACE","\n      ",56],["T_VARIABLE","$data",57],"[","]",["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_ARRAY","array",57],"(",["T_VARIABLE","$single_item",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","createBacktraceItem",57],"(",["T_CONSTANT_ENCAPSED_STRING","'main()'",57],")",")",";",["T_WHITESPACE","\n    ",57],"}",["T_WHITESPACE","\n\n    ",58],["T_RETURN","return",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$data",60],";",["T_WHITESPACE","\n  ",60],"}",["T_WHITESPACE","\n\n  ",61],["T_DOC_COMMENT","\/**\n   * Tests the formatBacktrace() method.\n   *\n   * @param array $backtrace\n   *   The test backtrace array.\n   * @param array $expected\n   *   The expected return array.\n   *\n   * @dataProvider providerTestFormatBacktrace\n   *\/",63],["T_WHITESPACE","\n  ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","testFormatBacktrace",73],"(",["T_VARIABLE","$backtrace",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$expected",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertSame",74],"(",["T_VARIABLE","$expected",74],",",["T_WHITESPACE"," ",74],["T_STRING","Error",74],["T_DOUBLE_COLON","::",74],["T_STRING","formatBacktrace",74],"(",["T_VARIABLE","$backtrace",74],")",")",";",["T_WHITESPACE","\n  ",74],"}",["T_WHITESPACE","\n\n  ",75],["T_DOC_COMMENT","\/**\n   * Data provider for testFormatBacktrace.\n   *\n   * @return array\n   *\/",77],["T_WHITESPACE","\n  ",81],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","providerTestFormatBacktrace",82],"(",")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$data",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_ARRAY","array",83],"(",")",";",["T_WHITESPACE","\n\n    ",83],["T_COMMENT","\/\/ Test with no function, main should be in the backtrace.\n",85],["T_WHITESPACE","    ",86],["T_VARIABLE","$data",86],"[","]",["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_ARRAY","array",86],"(",["T_ARRAY","array",86],"(",["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","createBacktraceItem",86],"(",["T_STRING","NULL",86],",",["T_WHITESPACE"," ",86],["T_STRING","NULL",86],")",")",",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","\"main() (Line: 10)\\n\"",86],")",";",["T_WHITESPACE","\n\n    ",86],["T_VARIABLE","$base",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_ARRAY","array",88],"(",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","createBacktraceItem",88],"(",")",")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$data",89],"[","]",["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_ARRAY","array",89],"(",["T_VARIABLE","$base",89],",",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","\"test_function() (Line: 10)\\n\"",89],")",";",["T_WHITESPACE","\n\n    ",89],["T_COMMENT","\/\/ Add a second item.\n",91],["T_WHITESPACE","    ",92],["T_VARIABLE","$second_item",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$base",92],";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$second_item",93],"[","]",["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","createBacktraceItem",93],"(",["T_CONSTANT_ENCAPSED_STRING","'test_function_2'",93],")",";",["T_WHITESPACE","\n\n    ",93],["T_VARIABLE","$data",95],"[","]",["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_ARRAY","array",95],"(",["T_VARIABLE","$second_item",95],",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","\"test_function() (Line: 10)\\ntest_function_2() (Line: 10)\\n\"",95],")",";",["T_WHITESPACE","\n\n    ",95],["T_COMMENT","\/\/ Add a second item, with a class.\n",97],["T_WHITESPACE","    ",98],["T_VARIABLE","$second_item_class",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$base",98],";",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$second_item_class",99],"[","]",["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","createBacktraceItem",99],"(",["T_CONSTANT_ENCAPSED_STRING","'test_function_2'",99],",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'TestClass'",99],")",";",["T_WHITESPACE","\n\n    ",99],["T_VARIABLE","$data",101],"[","]",["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_ARRAY","array",101],"(",["T_VARIABLE","$second_item_class",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","\"test_function() (Line: 10)\\nTestClass->test_function_2() (Line: 10)\\n\"",101],")",";",["T_WHITESPACE","\n\n    ",101],["T_COMMENT","\/\/ Add a second item, with a class.\n",103],["T_WHITESPACE","    ",104],["T_VARIABLE","$second_item_args",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$base",104],";",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$second_item_args",105],"[","]",["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","createBacktraceItem",105],"(",["T_CONSTANT_ENCAPSED_STRING","'test_function_2'",105],",",["T_WHITESPACE"," ",105],["T_STRING","NULL",105],",",["T_WHITESPACE"," ",105],["T_ARRAY","array",105],"(",["T_CONSTANT_ENCAPSED_STRING","'string'",105],",",["T_WHITESPACE"," ",105],["T_LNUMBER","10",105],",",["T_WHITESPACE"," ",105],["T_NEW","new",105],["T_WHITESPACE"," ",105],["T_NS_SEPARATOR","\\",105],["T_STRING","stdClass",105],"(",")",")",")",";",["T_WHITESPACE","\n\n    ",105],["T_VARIABLE","$data",107],"[","]",["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_ARRAY","array",107],"(",["T_VARIABLE","$second_item_args",107],",",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","\"test_function() (Line: 10)\\ntest_function_2('string', 10, Object) (Line: 10)\\n\"",107],")",";",["T_WHITESPACE","\n\n    ",107],["T_RETURN","return",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$data",109],";",["T_WHITESPACE","\n  ",109],"}",["T_WHITESPACE","\n\n  ",110],["T_DOC_COMMENT","\/**\n   * Creates a mock backtrace item.\n   *\n   * @param string|null $function\n   *   (optional) The function name to use in the backtrace item.\n   * @param string $class\n   *   (optional) The class to use in the backtrace item.\n   * @param array $args\n   *   (optional) An array of function arguments to add to the backtrace item.\n   * @param int $line\n   *   (optional) The line where the function was called.\n   *\n   * @return array\n   *   A backtrace array item.\n   *\/",112],["T_WHITESPACE","\n  ",126],["T_PROTECTED","protected",127],["T_WHITESPACE"," ",127],["T_FUNCTION","function",127],["T_WHITESPACE"," ",127],["T_STRING","createBacktraceItem",127],"(",["T_VARIABLE","$function",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'test_function'",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$class",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_STRING","NULL",127],",",["T_WHITESPACE"," ",127],["T_ARRAY","array",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$args",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_ARRAY","array",127],"(",")",",",["T_WHITESPACE"," ",127],["T_VARIABLE","$line",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_LNUMBER","10",127],")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$backtrace",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_ARRAY","array",128],"(",["T_WHITESPACE","\n      ",128],["T_CONSTANT_ENCAPSED_STRING","'file'",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'test_file'",129],",",["T_WHITESPACE","\n      ",129],["T_CONSTANT_ENCAPSED_STRING","'line'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$line",130],",",["T_WHITESPACE","\n      ",130],["T_CONSTANT_ENCAPSED_STRING","'function'",131],["T_WHITESPACE"," ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$function",131],",",["T_WHITESPACE","\n      ",131],["T_CONSTANT_ENCAPSED_STRING","'args'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_ARRAY","array",132],"(",")",",",["T_WHITESPACE","\n    ",132],")",";",["T_WHITESPACE","\n\n    ",133],["T_IF","if",135],["T_WHITESPACE"," ",135],"(",["T_ISSET","isset",135],"(",["T_VARIABLE","$class",135],")",")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n      ",135],["T_VARIABLE","$backtrace",136],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",136],"]",["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$class",136],";",["T_WHITESPACE","\n      ",136],["T_VARIABLE","$backtrace",137],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",137],"]",["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'->'",137],";",["T_WHITESPACE","\n    ",137],"}",["T_WHITESPACE","\n\n    ",138],["T_IF","if",140],["T_WHITESPACE"," ",140],"(","!",["T_EMPTY","empty",140],"(",["T_VARIABLE","$args",140],")",")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n      ",140],["T_VARIABLE","$backtrace",141],"[",["T_CONSTANT_ENCAPSED_STRING","'args'",141],"]",["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$args",141],";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$backtrace",144],";",["T_WHITESPACE","\n  ",144],"}",["T_WHITESPACE","\n\n",145],"}",["T_WHITESPACE","\n",147]]