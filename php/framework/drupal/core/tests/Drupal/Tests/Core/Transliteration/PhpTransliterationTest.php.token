[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Transliteration",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Random",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Transliteration",6],["T_NS_SEPARATOR","\\",6],["T_STRING","PhpTransliteration",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Tests",7],["T_NS_SEPARATOR","\\",7],["T_STRING","UnitTestCase",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Tests Transliteration component functionality.\n *\n * @group Transliteration\n *\n * @coversClass \\Drupal\\Core\\Transliteration\\PhpTransliteration\n *\/",9],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","PhpTransliterationTest",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","UnitTestCase",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * Tests the PhpTransliteration with an alter hook.\n   *\n   * @param string $langcode\n   *   The langcode of the string.\n   * @param string $original\n   *   The string which was not transliterated yet.\n   * @param string $expected\n   *   The string expected after the transliteration.\n   * @param string|null $printable\n   *   (optional) An alternative version of the original string which is\n   *   printable in the output.\n   *\n   * @dataProvider providerTestPhpTransliterationWithAlter\n   *\/",18],["T_WHITESPACE","\n  ",32],["T_PUBLIC","public",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","testPhpTransliterationWithAlter",33],"(",["T_VARIABLE","$langcode",33],",",["T_WHITESPACE"," ",33],["T_VARIABLE","$original",33],",",["T_WHITESPACE"," ",33],["T_VARIABLE","$expected",33],",",["T_WHITESPACE"," ",33],["T_VARIABLE","$printable",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_STRING","NULL",33],")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n    ",33],["T_IF","if",34],["T_WHITESPACE"," ",34],"(",["T_VARIABLE","$printable",34],["T_WHITESPACE"," ",34],["T_IS_IDENTICAL","===",34],["T_WHITESPACE"," ",34],["T_STRING","NULL",34],")",["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n      ",34],["T_VARIABLE","$printable",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_VARIABLE","$original",35],";",["T_WHITESPACE","\n    ",35],"}",["T_WHITESPACE","\n\n    ",36],["T_COMMENT","\/\/ Test each case both with a new instance of the transliteration class,\n",38],["T_WHITESPACE","    ",39],["T_COMMENT","\/\/ and with one that builds as it goes.\n",39],["T_WHITESPACE","    ",40],["T_VARIABLE","$module_handler",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","getMock",40],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Extension\\ModuleHandlerInterface'",40],")",";",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$module_handler",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","expects",41],"(",["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","any",41],"(",")",")",["T_WHITESPACE","\n      ",41],["T_OBJECT_OPERATOR","->",42],["T_STRING","method",42],"(",["T_CONSTANT_ENCAPSED_STRING","'alter'",42],")",["T_WHITESPACE","\n      ",42],["T_OBJECT_OPERATOR","->",43],["T_STRING","will",43],"(",["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","returnCallback",43],"(",["T_FUNCTION","function",43],"(",["T_VARIABLE","$hook",43],",",["T_WHITESPACE"," ",43],"&",["T_VARIABLE","$overrides",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$langcode",43],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n        ",43],["T_IF","if",44],["T_WHITESPACE"," ",44],"(",["T_VARIABLE","$langcode",44],["T_WHITESPACE"," ",44],["T_IS_EQUAL","==",44],["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'zz'",44],")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n          ",44],["T_COMMENT","\/\/ The default transliteration of \u00c3\u0084 is A, but change it to Z for testing.\n",45],["T_WHITESPACE","          ",46],["T_VARIABLE","$overrides",46],"[",["T_LNUMBER","0xC4",46],"]",["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'Z'",46],";",["T_WHITESPACE","\n          ",46],["T_COMMENT","\/\/ Also provide transliterations of two 5-byte characters from\n",47],["T_WHITESPACE","          ",48],["T_COMMENT","\/\/ http:\/\/wikipedia.org\/wiki\/Gothic_alphabet.\n",48],["T_WHITESPACE","          ",49],["T_VARIABLE","$overrides",49],"[",["T_LNUMBER","0x10330",49],"]",["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'A'",49],";",["T_WHITESPACE","\n          ",49],["T_VARIABLE","$overrides",50],"[",["T_LNUMBER","0x10338",50],"]",["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'Th'",50],";",["T_WHITESPACE","\n        ",50],"}",["T_WHITESPACE","\n      ",51],"}",")",")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$transliteration",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_NEW","new",53],["T_WHITESPACE"," ",53],["T_STRING","PhpTransliteration",53],"(",["T_STRING","NULL",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$module_handler",53],")",";",["T_WHITESPACE","\n\n    ",53],["T_VARIABLE","$actual",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$transliteration",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","transliterate",55],"(",["T_VARIABLE","$original",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$langcode",55],")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","assertSame",56],"(",["T_VARIABLE","$expected",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$actual",56],",",["T_WHITESPACE"," ",56],"\"",["T_ENCAPSED_AND_WHITESPACE","'",56],["T_VARIABLE","$printable",56],["T_ENCAPSED_AND_WHITESPACE","' transliteration to '",56],["T_VARIABLE","$actual",56],["T_ENCAPSED_AND_WHITESPACE","' is identical to '",56],["T_VARIABLE","$expected",56],["T_ENCAPSED_AND_WHITESPACE","' for language '",56],["T_VARIABLE","$langcode",56],["T_ENCAPSED_AND_WHITESPACE","' in service instance.",56],"\"",")",";",["T_WHITESPACE","\n  ",56],"}",["T_WHITESPACE","\n\n  ",57],["T_DOC_COMMENT","\/**\n   * Provides test data for testPhpTransliterationWithAlter.\n   *\n   * @return array\n   *\/",59],["T_WHITESPACE","\n  ",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","providerTestPhpTransliterationWithAlter",64],"(",")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$random_generator",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_NEW","new",65],["T_WHITESPACE"," ",65],["T_STRING","Random",65],"(",")",";",["T_WHITESPACE","\n    ",65],["T_VARIABLE","$random",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$random_generator",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","string",66],"(",["T_LNUMBER","10",66],")",";",["T_WHITESPACE","\n    ",66],["T_COMMENT","\/\/ Make some strings with two, three, and four-byte characters for testing.\n",67],["T_WHITESPACE","    ",68],["T_COMMENT","\/\/ Note that the 3-byte character is overridden by the 'kg' language.\n",68],["T_WHITESPACE","    ",69],["T_VARIABLE","$two_byte",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'\u00c3\u0084 \u00c3\u0096 \u00c3\u009c \u00c3\u0085 \u00c3\u0098 \u00c3\u00a4\u00c3\u00b6\u00c3\u00bc\u00c3\u00a5\u00c3\u00b8hello'",69],";",["T_WHITESPACE","\n    ",69],["T_COMMENT","\/\/ These are two Gothic alphabet letters. See\n",70],["T_WHITESPACE","    ",71],["T_COMMENT","\/\/ http:\/\/wikipedia.org\/wiki\/Gothic_alphabet\n",71],["T_WHITESPACE","    ",72],["T_COMMENT","\/\/ They are not in our tables, but should at least give us '?' (unknown).\n",72],["T_WHITESPACE","    ",73],["T_VARIABLE","$five_byte",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_STRING","html_entity_decode",73],"(",["T_CONSTANT_ENCAPSED_STRING","'&#x10330;&#x10338;'",73],",",["T_WHITESPACE"," ",73],["T_STRING","ENT_NOQUOTES",73],",",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",73],")",";",["T_WHITESPACE","\n    ",73],["T_COMMENT","\/\/ Five-byte characters do not work in MySQL, so make a printable version.\n",74],["T_WHITESPACE","    ",75],["T_VARIABLE","$five_byte_printable",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'&#x10330;&#x10338;'",75],";",["T_WHITESPACE","\n\n    ",75],["T_VARIABLE","$cases",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_ARRAY","array",77],"(",["T_WHITESPACE","\n      ",77],["T_COMMENT","\/\/ Test the language override hook in the test module, which changes\n",78],["T_WHITESPACE","      ",79],["T_COMMENT","\/\/ the transliteration of \u00c3\u0084 to Z and provides for the 5-byte characters.\n",79],["T_WHITESPACE","      ",80],["T_ARRAY","array",80],"(",["T_CONSTANT_ENCAPSED_STRING","'zz'",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$two_byte",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'Z O U A O aouaohello'",80],")",",",["T_WHITESPACE","\n      ",80],["T_ARRAY","array",81],"(",["T_CONSTANT_ENCAPSED_STRING","'zz'",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$random",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$random",81],")",",",["T_WHITESPACE","\n      ",81],["T_ARRAY","array",82],"(",["T_CONSTANT_ENCAPSED_STRING","'zz'",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$five_byte",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'ATh'",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$five_byte_printable",82],")",",",["T_WHITESPACE","\n    ",82],")",";",["T_WHITESPACE","\n\n    ",83],["T_RETURN","return",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$cases",85],";",["T_WHITESPACE","\n  ",85],"}",["T_WHITESPACE","\n\n",86],"}",["T_WHITESPACE","\n",88]]