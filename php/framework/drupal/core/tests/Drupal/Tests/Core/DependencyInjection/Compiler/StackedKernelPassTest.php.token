[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","DependencyInjection",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Compiler",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","DependencyInjection",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Compiler",5],["T_NS_SEPARATOR","\\",5],["T_STRING","StackedKernelPass",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","DependencyInjection",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ContainerBuilder",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Tests",7],["T_NS_SEPARATOR","\\",7],["T_STRING","UnitTestCase",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Symfony",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Component",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DependencyInjection",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Definition",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * @coversDefaultClass \\Drupal\\Core\\DependencyInjection\\Compiler\\StackedKernelPass\n * @group DependencyInjection\n *\/",10],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","StackedKernelPassTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","UnitTestCase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * The stacked kernel pass.\n   *\n   * @var \\Drupal\\Core\\DependencyInjection\\Compiler\\StackedKernelPass\n   *\/",16],["T_WHITESPACE","\n  ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$stackedKernelPass",21],";",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * @var \\Drupal\\Core\\DependencyInjection\\Container\n   *\/",23],["T_WHITESPACE","\n  ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$containerBuilder",26],";",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",28],["T_WHITESPACE","\n  ",30],["T_PROTECTED","protected",31],["T_WHITESPACE"," ",31],["T_FUNCTION","function",31],["T_WHITESPACE"," ",31],["T_STRING","setUp",31],"(",")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","stackedKernelPass",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_NEW","new",32],["T_WHITESPACE"," ",32],["T_STRING","StackedKernelPass",32],"(",")",";",["T_WHITESPACE","\n    ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","containerBuilder",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_NEW","new",33],["T_WHITESPACE"," ",33],["T_STRING","ContainerBuilder",33],"(",")",";",["T_WHITESPACE","\n  ",33],"}",["T_WHITESPACE","\n\n  ",34],["T_DOC_COMMENT","\/**\n   * @covers ::process\n   *\/",36],["T_WHITESPACE","\n  ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","testProcessWithStackedKernel",39],"(",")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$stacked_kernel",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_NEW","new",40],["T_WHITESPACE"," ",40],["T_STRING","Definition",40],"(",["T_CONSTANT_ENCAPSED_STRING","'Stack\\StackedHttpKernel'",40],")",";",["T_WHITESPACE","\n\n    ",40],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","containerBuilder",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","setDefinition",42],"(",["T_CONSTANT_ENCAPSED_STRING","'http_kernel'",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$stacked_kernel",42],")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","containerBuilder",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","setDefinition",43],"(",["T_CONSTANT_ENCAPSED_STRING","'http_kernel.basic'",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","createMiddlewareServiceDefinition",43],"(",["T_STRING","FALSE",43],",",["T_WHITESPACE"," ",43],["T_LNUMBER","0",43],")",")",";",["T_WHITESPACE","\n\n    ",43],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","containerBuilder",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","setDefinition",45],"(",["T_CONSTANT_ENCAPSED_STRING","'http_kernel.three'",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","createMiddlewareServiceDefinition",45],"(",")",")",";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","containerBuilder",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","setDefinition",46],"(",["T_CONSTANT_ENCAPSED_STRING","'http_kernel.one'",46],",",["T_WHITESPACE"," ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","createMiddlewareServiceDefinition",46],"(",["T_STRING","TRUE",46],",",["T_WHITESPACE"," ",46],["T_LNUMBER","10",46],")",")",";",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","containerBuilder",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","setDefinition",47],"(",["T_CONSTANT_ENCAPSED_STRING","'http_kernel.two'",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","createMiddlewareServiceDefinition",47],"(",["T_STRING","TRUE",47],",",["T_WHITESPACE"," ",47],["T_LNUMBER","5",47],")",")",";",["T_WHITESPACE","\n\n    ",47],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","stackedKernelPass",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","process",49],"(",["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","containerBuilder",49],")",";",["T_WHITESPACE","\n\n    ",49],["T_VARIABLE","$stacked_kernel_args",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","containerBuilder",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getDefinition",51],"(",["T_CONSTANT_ENCAPSED_STRING","'http_kernel'",51],")",["T_OBJECT_OPERATOR","->",51],["T_STRING","getArguments",51],"(",")",";",["T_WHITESPACE","\n\n    ",51],["T_COMMENT","\/\/ Check the stacked kernel args.\n",53],["T_WHITESPACE","    ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","assertSame",54],"(",["T_STRING_CAST","(string)",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$stacked_kernel_args",54],"[",["T_LNUMBER","0",54],"]",",",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'http_kernel.one'",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertCount",55],"(",["T_LNUMBER","4",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$stacked_kernel_args",55],"[",["T_LNUMBER","1",55],"]",")",";",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","assertSame",56],"(",["T_STRING_CAST","(string)",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$stacked_kernel_args",56],"[",["T_LNUMBER","1",56],"]","[",["T_LNUMBER","0",56],"]",",",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'http_kernel.one'",56],")",";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","assertSame",57],"(",["T_STRING_CAST","(string)",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$stacked_kernel_args",57],"[",["T_LNUMBER","1",57],"]","[",["T_LNUMBER","1",57],"]",",",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'http_kernel.two'",57],")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","assertSame",58],"(",["T_STRING_CAST","(string)",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$stacked_kernel_args",58],"[",["T_LNUMBER","1",58],"]","[",["T_LNUMBER","2",58],"]",",",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'http_kernel.three'",58],")",";",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","assertSame",59],"(",["T_STRING_CAST","(string)",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$stacked_kernel_args",59],"[",["T_LNUMBER","1",59],"]","[",["T_LNUMBER","3",59],"]",",",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'http_kernel.basic'",59],")",";",["T_WHITESPACE","\n\n    ",59],["T_COMMENT","\/\/ Check the modified definitions.\n",61],["T_WHITESPACE","    ",62],["T_VARIABLE","$definition",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","containerBuilder",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getDefinition",62],"(",["T_CONSTANT_ENCAPSED_STRING","'http_kernel.one'",62],")",";",["T_WHITESPACE","\n    ",62],["T_VARIABLE","$args",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$definition",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getArguments",63],"(",")",";",["T_WHITESPACE","\n    ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","assertSame",64],"(",["T_CONSTANT_ENCAPSED_STRING","'http_kernel.two'",64],",",["T_WHITESPACE"," ",64],["T_STRING_CAST","(string)",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$args",64],"[",["T_LNUMBER","0",64],"]",")",";",["T_WHITESPACE","\n    ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","assertSame",65],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$args",65],"[",["T_LNUMBER","1",65],"]",")",";",["T_WHITESPACE","\n\n    ",65],["T_VARIABLE","$definition",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","containerBuilder",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getDefinition",67],"(",["T_CONSTANT_ENCAPSED_STRING","'http_kernel.two'",67],")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$args",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$definition",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getArguments",68],"(",")",";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","assertSame",69],"(",["T_CONSTANT_ENCAPSED_STRING","'http_kernel.three'",69],",",["T_WHITESPACE"," ",69],["T_STRING_CAST","(string)",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$args",69],"[",["T_LNUMBER","0",69],"]",")",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","assertSame",70],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$args",70],"[",["T_LNUMBER","1",70],"]",")",";",["T_WHITESPACE","\n\n    ",70],["T_VARIABLE","$definition",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","containerBuilder",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getDefinition",72],"(",["T_CONSTANT_ENCAPSED_STRING","'http_kernel.three'",72],")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$args",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$definition",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getArguments",73],"(",")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","assertSame",74],"(",["T_CONSTANT_ENCAPSED_STRING","'http_kernel.basic'",74],",",["T_WHITESPACE"," ",74],["T_STRING_CAST","(string)",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$args",74],"[",["T_LNUMBER","0",74],"]",")",";",["T_WHITESPACE","\n    ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","assertSame",75],"(",["T_CONSTANT_ENCAPSED_STRING","'test'",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$args",75],"[",["T_LNUMBER","1",75],"]",")",";",["T_WHITESPACE","\n  ",75],"}",["T_WHITESPACE","\n\n  ",76],["T_DOC_COMMENT","\/**\n   * @covers ::process\n   *\/",78],["T_WHITESPACE","\n  ",80],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","testProcessWithHttpKernel",81],"(",")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$kernel",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_NEW","new",82],["T_WHITESPACE"," ",82],["T_STRING","Definition",82],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpKernel\\HttpKernelInterface'",82],")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","containerBuilder",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","setDefinition",83],"(",["T_CONSTANT_ENCAPSED_STRING","'http_kernel'",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$kernel",83],")",";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","stackedKernelPass",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","process",84],"(",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","containerBuilder",84],")",";",["T_WHITESPACE","\n\n    ",84],["T_VARIABLE","$unprocessed_kernel",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","containerBuilder",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getDefinition",86],"(",["T_CONSTANT_ENCAPSED_STRING","'http_kernel'",86],")",";",["T_WHITESPACE","\n\n    ",86],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","assertSame",88],"(",["T_VARIABLE","$kernel",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$unprocessed_kernel",88],")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","assertSame",89],"(",["T_VARIABLE","$kernel",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getArguments",89],"(",")",",",["T_WHITESPACE"," ",89],["T_VARIABLE","$unprocessed_kernel",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getArguments",89],"(",")",")",";",["T_WHITESPACE","\n  ",89],"}",["T_WHITESPACE","\n\n  ",90],["T_DOC_COMMENT","\/**\n   * Creates a middleware definition.\n   *\n   * @param bool $tag\n   *   Whether or not to set the http_middleware tag.\n   * @param int $priority\n   *   The priority to be used for the tag.\n   *\n   * @return \\Symfony\\Component\\DependencyInjection\\Definition\n   *\/",92],["T_WHITESPACE","\n  ",101],["T_PROTECTED","protected",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","createMiddlewareServiceDefinition",102],"(",["T_VARIABLE","$tag",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","TRUE",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$priority",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_LNUMBER","0",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n    ",102],["T_VARIABLE","$definition",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_NEW","new",103],["T_WHITESPACE"," ",103],["T_STRING","Definition",103],"(",["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\HttpKernel\\HttpKernelInterface'",103],",",["T_WHITESPACE"," ",103],"[",["T_CONSTANT_ENCAPSED_STRING","'test'",103],"]",")",";",["T_WHITESPACE","\n\n    ",103],["T_IF","if",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$tag",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n      ",105],["T_VARIABLE","$definition",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","addTag",106],"(",["T_CONSTANT_ENCAPSED_STRING","'http_middleware'",106],",",["T_WHITESPACE"," ",106],"[",["T_CONSTANT_ENCAPSED_STRING","'priority'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$priority",106],"]",")",";",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n\n    ",107],["T_RETURN","return",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$definition",109],";",["T_WHITESPACE","\n  ",109],"}",["T_WHITESPACE","\n\n",110],"}",["T_WHITESPACE","\n",112]]