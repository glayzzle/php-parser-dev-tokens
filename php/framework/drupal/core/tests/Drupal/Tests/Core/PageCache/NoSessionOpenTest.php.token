[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Tests",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","PageCache",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","PageCache",5],["T_NS_SEPARATOR","\\",5],["T_STRING","RequestPolicy",5],["T_NS_SEPARATOR","\\",5],["T_STRING","NoSessionOpen",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","PageCache",6],["T_NS_SEPARATOR","\\",6],["T_STRING","RequestPolicyInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Tests",7],["T_NS_SEPARATOR","\\",7],["T_STRING","UnitTestCase",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Symfony",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Component",8],["T_NS_SEPARATOR","\\",8],["T_STRING","HttpFoundation",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Request",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * @coversDefaultClass \\Drupal\\Core\\PageCache\\RequestPolicy\\NoSessionOpen\n * @group PageCache\n *\/",10],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","NoSessionOpenTest",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","UnitTestCase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * The session configuration.\n   *\n   * @var \\Drupal\\Core\\Session\\SessionConfigurationInterface|\\PHPUnit_Framework_MockObject_MockObject\n   *\/",16],["T_WHITESPACE","\n  ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$sessionConfiguration",21],";",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * The request policy under test.\n   *\n   * @var \\Drupal\\Core\\PageCache\\RequestPolicy\\NoSessionOpen\n   *\/",23],["T_WHITESPACE","\n  ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$policy",28],";",["T_WHITESPACE","\n\n  ",28],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","setUp",30],"(",")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","sessionConfiguration",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_VARIABLE","$this",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","getMock",31],"(",["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Session\\SessionConfigurationInterface'",31],")",";",["T_WHITESPACE","\n    ",31],["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","policy",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_NEW","new",32],["T_WHITESPACE"," ",32],["T_STRING","NoSessionOpen",32],"(",["T_VARIABLE","$this",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","sessionConfiguration",32],")",";",["T_WHITESPACE","\n  ",32],"}",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * Asserts that caching is allowed unless there is a session cookie present.\n   *\n   * @covers ::check\n   *\/",35],["T_WHITESPACE","\n  ",39],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","testNoAllowUnlessSessionCookiePresent",40],"(",")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$request_without_session",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_NEW","new",41],["T_WHITESPACE"," ",41],["T_STRING","Request",41],"(",")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$request_with_session",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_STRING","Request",42],["T_DOUBLE_COLON","::",42],["T_STRING","create",42],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",42],",",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'GET'",42],",",["T_WHITESPACE"," ",42],"[","]",",",["T_WHITESPACE"," ",42],"[",["T_CONSTANT_ENCAPSED_STRING","'some-session-name'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'some-session-id'",42],"]",")",";",["T_WHITESPACE","\n\n    ",42],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","sessionConfiguration",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","expects",44],"(",["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","at",44],"(",["T_LNUMBER","0",44],")",")",["T_WHITESPACE","\n      ",44],["T_OBJECT_OPERATOR","->",45],["T_STRING","method",45],"(",["T_CONSTANT_ENCAPSED_STRING","'hasSession'",45],")",["T_WHITESPACE","\n      ",45],["T_OBJECT_OPERATOR","->",46],["T_STRING","with",46],"(",["T_VARIABLE","$request_without_session",46],")",["T_WHITESPACE","\n      ",46],["T_OBJECT_OPERATOR","->",47],["T_STRING","will",47],"(",["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","returnValue",47],"(",["T_STRING","FALSE",47],")",")",";",["T_WHITESPACE","\n\n    ",47],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","sessionConfiguration",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","expects",49],"(",["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","at",49],"(",["T_LNUMBER","1",49],")",")",["T_WHITESPACE","\n      ",49],["T_OBJECT_OPERATOR","->",50],["T_STRING","method",50],"(",["T_CONSTANT_ENCAPSED_STRING","'hasSession'",50],")",["T_WHITESPACE","\n      ",50],["T_OBJECT_OPERATOR","->",51],["T_STRING","with",51],"(",["T_VARIABLE","$request_with_session",51],")",["T_WHITESPACE","\n      ",51],["T_OBJECT_OPERATOR","->",52],["T_STRING","will",52],"(",["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","returnValue",52],"(",["T_STRING","TRUE",52],")",")",";",["T_WHITESPACE","\n\n    ",52],["T_VARIABLE","$result",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","policy",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","check",54],"(",["T_VARIABLE","$request_without_session",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","assertSame",55],"(",["T_STRING","RequestPolicyInterface",55],["T_DOUBLE_COLON","::",55],["T_STRING","ALLOW",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$result",55],")",";",["T_WHITESPACE","\n\n    ",55],["T_VARIABLE","$result",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","policy",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","check",57],"(",["T_VARIABLE","$request_with_session",57],")",";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","assertSame",58],"(",["T_STRING","NULL",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$result",58],")",";",["T_WHITESPACE","\n  ",58],"}",["T_WHITESPACE","\n\n",59],"}",["T_WHITESPACE","\n",61]]