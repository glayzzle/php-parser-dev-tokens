[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_DOC_COMMENT","\/**\n * @file\n * Rebuilds all Drupal caches even when Drupal itself does not work.\n *\n * Needs a token query argument which can be calculated using the\n * scripts\/rebuild_token_calculator.sh script.\n *\n * @see drupal_rebuild()\n *\/",3],["T_WHITESPACE","\n\n",11],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Component",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Utility",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Crypt",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Drupal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Core",14],["T_NS_SEPARATOR","\\",14],["T_STRING","DrupalKernel",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Drupal",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Core",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Site",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Settings",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Symfony",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Component",16],["T_NS_SEPARATOR","\\",16],["T_STRING","HttpKernel",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Exception",16],["T_NS_SEPARATOR","\\",16],["T_STRING","HttpExceptionInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Symfony",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Component",17],["T_NS_SEPARATOR","\\",17],["T_STRING","HttpFoundation",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Request",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","HttpFoundation",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Response",18],";",["T_WHITESPACE","\n\n",18],["T_COMMENT","\/\/ Change the directory to the Drupal root.\n",20],["T_STRING","chdir",21],"(",["T_CONSTANT_ENCAPSED_STRING","'..'",21],")",";",["T_WHITESPACE","\n\n",21],["T_VARIABLE","$autoloader",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_REQUIRE_ONCE","require_once",23],["T_WHITESPACE"," ",23],["T_DIR","__DIR__",23],["T_WHITESPACE"," ",23],".",["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'\/..\/autoload.php'",23],";",["T_WHITESPACE","\n",23],["T_REQUIRE_ONCE","require_once",24],["T_WHITESPACE"," ",24],["T_DIR","__DIR__",24],["T_WHITESPACE"," ",24],".",["T_WHITESPACE"," ",24],["T_CONSTANT_ENCAPSED_STRING","'\/includes\/utility.inc'",24],";",["T_WHITESPACE","\n\n",24],["T_VARIABLE","$request",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_STRING","Request",26],["T_DOUBLE_COLON","::",26],["T_STRING","createFromGlobals",26],"(",")",";",["T_WHITESPACE","\n",26],["T_COMMENT","\/\/ Manually resemble early bootstrap of DrupalKernel::boot().\n",27],["T_REQUIRE_ONCE","require_once",28],["T_WHITESPACE"," ",28],["T_DIR","__DIR__",28],["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'\/includes\/bootstrap.inc'",28],";",["T_WHITESPACE","\n",28],["T_STRING","DrupalKernel",29],["T_DOUBLE_COLON","::",29],["T_STRING","bootEnvironment",29],"(",")",";",["T_WHITESPACE","\n\n",29],["T_TRY","try",31],["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n  ",31],["T_STRING","Settings",32],["T_DOUBLE_COLON","::",32],["T_STRING","initialize",32],"(",["T_STRING","dirname",32],"(",["T_DIR","__DIR__",32],")",",",["T_WHITESPACE"," ",32],["T_STRING","DrupalKernel",32],["T_DOUBLE_COLON","::",32],["T_STRING","findSitePath",32],"(",["T_VARIABLE","$request",32],")",",",["T_WHITESPACE"," ",32],["T_VARIABLE","$autoloader",32],")",";",["T_WHITESPACE","\n",32],"}",["T_WHITESPACE","\n",33],["T_CATCH","catch",34],["T_WHITESPACE"," ",34],"(",["T_STRING","HttpExceptionInterface",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$e",34],")",["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n  ",34],["T_VARIABLE","$response",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_NEW","new",35],["T_WHITESPACE"," ",35],["T_STRING","Response",35],"(",["T_CONSTANT_ENCAPSED_STRING","''",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$e",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","getStatusCode",35],"(",")",")",";",["T_WHITESPACE","\n  ",35],["T_VARIABLE","$response",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","prepare",36],"(",["T_VARIABLE","$request",36],")",["T_OBJECT_OPERATOR","->",36],["T_STRING","send",36],"(",")",";",["T_WHITESPACE","\n  ",36],["T_EXIT","exit",37],";",["T_WHITESPACE","\n",37],"}",["T_WHITESPACE","\n\n",38],["T_IF","if",40],["T_WHITESPACE"," ",40],"(",["T_STRING","Settings",40],["T_DOUBLE_COLON","::",40],["T_STRING","get",40],"(",["T_CONSTANT_ENCAPSED_STRING","'rebuild_access'",40],",",["T_WHITESPACE"," ",40],["T_STRING","FALSE",40],")",["T_WHITESPACE"," ",40],["T_BOOLEAN_OR","||",40],["T_WHITESPACE","\n  ",40],"(",["T_VARIABLE","$request",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","query",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","get",41],"(",["T_CONSTANT_ENCAPSED_STRING","'token'",41],")",["T_WHITESPACE"," ",41],["T_BOOLEAN_AND","&&",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$request",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","query",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","get",41],"(",["T_CONSTANT_ENCAPSED_STRING","'timestamp'",41],")",["T_WHITESPACE"," ",41],["T_BOOLEAN_AND","&&",41],["T_WHITESPACE","\n    ",41],"(","(",["T_STRING","REQUEST_TIME",42],["T_WHITESPACE"," ",42],"-",["T_WHITESPACE"," ",42],["T_VARIABLE","$request",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","query",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","get",42],"(",["T_CONSTANT_ENCAPSED_STRING","'timestamp'",42],")",")",["T_WHITESPACE"," ",42],"<",["T_WHITESPACE"," ",42],["T_LNUMBER","300",42],")",["T_WHITESPACE"," ",42],["T_BOOLEAN_AND","&&",42],["T_WHITESPACE","\n    ",42],["T_STRING","Crypt",43],["T_DOUBLE_COLON","::",43],["T_STRING","hashEquals",43],"(",["T_STRING","Crypt",43],["T_DOUBLE_COLON","::",43],["T_STRING","hmacBase64",43],"(",["T_VARIABLE","$request",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","query",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","get",43],"(",["T_CONSTANT_ENCAPSED_STRING","'timestamp'",43],")",",",["T_WHITESPACE"," ",43],["T_STRING","Settings",43],["T_DOUBLE_COLON","::",43],["T_STRING","get",43],"(",["T_CONSTANT_ENCAPSED_STRING","'hash_salt'",43],")",")",",",["T_WHITESPACE"," ",43],["T_VARIABLE","$request",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","query",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","get",43],"(",["T_CONSTANT_ENCAPSED_STRING","'token'",43],")",")",["T_WHITESPACE","\n  ",43],")",")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n  ",44],["T_COMMENT","\/\/ Clear the APCu cache to ensure APCu class loader is reset.\n",45],["T_WHITESPACE","  ",46],["T_IF","if",46],["T_WHITESPACE"," ",46],"(",["T_STRING","function_exists",46],"(",["T_CONSTANT_ENCAPSED_STRING","'apcu_clear_cache'",46],")",")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n    ",46],["T_STRING","apcu_clear_cache",47],"(",")",";",["T_WHITESPACE","\n  ",47],"}",["T_WHITESPACE","\n  ",48],["T_STRING","drupal_rebuild",49],"(",["T_VARIABLE","$autoloader",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$request",49],")",";",["T_WHITESPACE","\n  ",49],["T_STRING","drupal_set_message",50],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache rebuild complete.'",50],")",";",["T_WHITESPACE","\n",50],"}",["T_WHITESPACE","\n",51],["T_VARIABLE","$base_path",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_STRING","dirname",52],"(",["T_STRING","dirname",52],"(",["T_VARIABLE","$request",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getBaseUrl",52],"(",")",")",")",";",["T_WHITESPACE","\n",52],["T_STRING","header",53],"(",["T_CONSTANT_ENCAPSED_STRING","'Location: '",53],["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_VARIABLE","$base_path",53],")",";",["T_WHITESPACE","\n",53]]