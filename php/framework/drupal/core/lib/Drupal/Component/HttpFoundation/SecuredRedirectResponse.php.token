[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Component",3],["T_NS_SEPARATOR","\\",3],["T_STRING","HttpFoundation",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Symfony",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","HttpFoundation",5],["T_NS_SEPARATOR","\\",5],["T_STRING","RedirectResponse",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Provides a common base class for safe redirects.\n *\n * In case you want to redirect to external URLs use\n * TrustedRedirectResponse.\n *\n * For local URLs we use LocalRedirectResponse which opts\n * out of external redirects.\n *\/",7],["T_WHITESPACE","\n",15],["T_ABSTRACT","abstract",16],["T_WHITESPACE"," ",16],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","SecuredRedirectResponse",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","RedirectResponse",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * Copies an existing redirect response into a safe one.\n   *\n   * The safe one cannot accidentally redirect to an external URL, unless\n   * actively wanted (see TrustedRedirectResponse).\n   *\n   * @param \\Symfony\\Component\\HttpFoundation\\RedirectResponse $response\n   *   The original redirect.\n   *\n   * @return static\n   *\/",18],["T_WHITESPACE","\n  ",28],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_STATIC","static",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","createFromRedirectResponse",29],"(",["T_STRING","RedirectResponse",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$response",29],")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n    ",29],["T_VARIABLE","$safe_response",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_NEW","new",30],["T_WHITESPACE"," ",30],["T_STATIC","static",30],"(",["T_VARIABLE","$response",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","getTargetUrl",30],"(",")",",",["T_WHITESPACE"," ",30],["T_VARIABLE","$response",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","getStatusCode",30],"(",")",",",["T_WHITESPACE"," ",30],["T_VARIABLE","$response",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","headers",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","allPreserveCase",30],"(",")",")",";",["T_WHITESPACE","\n    ",30],["T_VARIABLE","$safe_response",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","fromResponse",31],"(",["T_VARIABLE","$response",31],")",";",["T_WHITESPACE","\n    ",31],["T_RETURN","return",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$safe_response",32],";",["T_WHITESPACE","\n  ",32],"}",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * Copies over the values from the given response.\n   *\n   * @param \\Symfony\\Component\\HttpFoundation\\RedirectResponse $response\n   *   The redirect reponse object.\n   *\/",35],["T_WHITESPACE","\n  ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","fromResponse",41],"(",["T_STRING","RedirectResponse",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$response",41],")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","setProtocolVersion",42],"(",["T_VARIABLE","$response",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","getProtocolVersion",42],"(",")",")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","setCharset",43],"(",["T_VARIABLE","$response",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","getCharset",43],"(",")",")",";",["T_WHITESPACE","\n    ",43],["T_COMMENT","\/\/ Cookies are separate from other headers and have to be copied over\n",44],["T_WHITESPACE","    ",45],["T_COMMENT","\/\/ directly.\n",45],["T_WHITESPACE","    ",46],["T_FOREACH","foreach",46],["T_WHITESPACE"," ",46],"(",["T_VARIABLE","$response",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","headers",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getCookies",46],"(",")",["T_WHITESPACE"," ",46],["T_AS","as",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$cookie",46],")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n      ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","headers",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","setCookie",47],"(",["T_VARIABLE","$cookie",47],")",";",["T_WHITESPACE","\n    ",47],"}",["T_WHITESPACE","\n  ",48],"}",["T_WHITESPACE","\n\n  ",49],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",51],["T_WHITESPACE","\n  ",53],["T_PUBLIC","public",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","setTargetUrl",54],"(",["T_VARIABLE","$url",54],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n    ",54],["T_IF","if",55],["T_WHITESPACE"," ",55],"(","!",["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","isSafe",55],"(",["T_VARIABLE","$url",55],")",")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n      ",55],["T_THROW","throw",56],["T_WHITESPACE"," ",56],["T_NEW","new",56],["T_WHITESPACE"," ",56],["T_NS_SEPARATOR","\\",56],["T_STRING","InvalidArgumentException",56],"(",["T_STRING","sprintf",56],"(",["T_CONSTANT_ENCAPSED_STRING","'It is not safe to redirect to %s'",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$url",56],")",")",";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n    ",57],["T_RETURN","return",58],["T_WHITESPACE"," ",58],["T_STRING","parent",58],["T_DOUBLE_COLON","::",58],["T_STRING","setTargetUrl",58],"(",["T_VARIABLE","$url",58],")",";",["T_WHITESPACE","\n  ",58],"}",["T_WHITESPACE","\n\n  ",59],["T_DOC_COMMENT","\/**\n   * Returns whether the URL is considered as safe to redirect to.\n   *\n   * @param string $url\n   *   The URL checked for safety.\n   *\n   * @return bool\n   *\/",61],["T_WHITESPACE","\n  ",68],["T_ABSTRACT","abstract",69],["T_WHITESPACE"," ",69],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","isSafe",69],"(",["T_VARIABLE","$url",69],")",";",["T_WHITESPACE","\n\n",69],"}",["T_WHITESPACE","\n",71]]