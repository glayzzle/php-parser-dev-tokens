[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Component",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Plugin",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Context",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ContextInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Plugin",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Exception",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ContextException",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Component",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Plugin",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Context",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Context",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Symfony",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Component",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Validator",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ConstraintViolationList",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Base class for plugins that are context aware.\n *\/",10],["T_WHITESPACE","\n",12],["T_ABSTRACT","abstract",13],["T_WHITESPACE"," ",13],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","ContextAwarePluginBase",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","PluginBase",13],["T_WHITESPACE"," ",13],["T_IMPLEMENTS","implements",13],["T_WHITESPACE"," ",13],["T_STRING","ContextAwarePluginInterface",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * The data objects representing the context of this plugin.\n   *\n   * @var \\Drupal\\Component\\Plugin\\Context\\ContextInterface[]\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$context",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],"[","]",";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * Overrides \\Drupal\\Component\\Plugin\\PluginBase::__construct().\n   *\n   * Overrides the construction of context aware plugins to allow for\n   * unvalidated constructor based injection of contexts.\n   *\n   * @param array $configuration\n   *   The plugin configuration, i.e. an array with configuration values keyed\n   *   by configuration option name. The special key 'context' may be used to\n   *   initialize the defined contexts by setting it to an array of context\n   *   values keyed by context names.\n   * @param string $plugin_id\n   *   The plugin_id for the plugin instance.\n   * @param mixed $plugin_definition\n   *   The plugin implementation definition.\n   *\/",22],["T_WHITESPACE","\n  ",37],["T_PUBLIC","public",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","__construct",38],"(",["T_ARRAY","array",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$configuration",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$plugin_id",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$plugin_definition",38],")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$context_configuration",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_ISSET","isset",39],"(",["T_VARIABLE","$configuration",39],"[",["T_CONSTANT_ENCAPSED_STRING","'context'",39],"]",")",["T_WHITESPACE"," ",39],"?",["T_WHITESPACE"," ",39],["T_VARIABLE","$configuration",39],"[",["T_CONSTANT_ENCAPSED_STRING","'context'",39],"]",["T_WHITESPACE"," ",39],":",["T_WHITESPACE"," ",39],"[","]",";",["T_WHITESPACE","\n    ",39],["T_UNSET","unset",40],"(",["T_VARIABLE","$configuration",40],"[",["T_CONSTANT_ENCAPSED_STRING","'context'",40],"]",")",";",["T_WHITESPACE","\n\n    ",40],["T_STRING","parent",42],["T_DOUBLE_COLON","::",42],["T_STRING","__construct",42],"(",["T_VARIABLE","$configuration",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$plugin_id",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$plugin_definition",42],")",";",["T_WHITESPACE","\n\n    ",42],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","contexts",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","createContextFromConfiguration",44],"(",["T_VARIABLE","$context_configuration",44],")",";",["T_WHITESPACE","\n  ",44],"}",["T_WHITESPACE","\n\n  ",45],["T_DOC_COMMENT","\/**\n   * Creates context objects from any context mappings in configuration.\n   *\n   * @param array $context_configuration\n   *   An associative array of context names and values.\n   *\n   * @return \\Drupal\\Component\\Plugin\\Context\\ContextInterface[]\n   *   An array of context objects.\n   *\/",47],["T_WHITESPACE","\n  ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],["T_STRING","createContextFromConfiguration",56],"(",["T_ARRAY","array",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$context_configuration",56],")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$contexts",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],"[","]",";",["T_WHITESPACE","\n    ",57],["T_FOREACH","foreach",58],["T_WHITESPACE"," ",58],"(",["T_VARIABLE","$context_configuration",58],["T_WHITESPACE"," ",58],["T_AS","as",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$key",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$value",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n      ",58],["T_VARIABLE","$context_definition",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getContextDefinition",59],"(",["T_VARIABLE","$key",59],")",";",["T_WHITESPACE","\n      ",59],["T_VARIABLE","$contexts",60],"[",["T_VARIABLE","$key",60],"]",["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_NEW","new",60],["T_WHITESPACE"," ",60],["T_STRING","Context",60],"(",["T_VARIABLE","$context_definition",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$value",60],")",";",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n    ",61],["T_RETURN","return",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$contexts",62],";",["T_WHITESPACE","\n  ",62],"}",["T_WHITESPACE","\n\n  ",63],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",65],["T_WHITESPACE","\n  ",67],["T_PUBLIC","public",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","getContextDefinitions",68],"(",")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$definition",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getPluginDefinition",69],"(",")",";",["T_WHITESPACE","\n    ",69],["T_RETURN","return",70],["T_WHITESPACE"," ",70],"!",["T_EMPTY","empty",70],"(",["T_VARIABLE","$definition",70],"[",["T_CONSTANT_ENCAPSED_STRING","'context'",70],"]",")",["T_WHITESPACE"," ",70],"?",["T_WHITESPACE"," ",70],["T_VARIABLE","$definition",70],"[",["T_CONSTANT_ENCAPSED_STRING","'context'",70],"]",["T_WHITESPACE"," ",70],":",["T_WHITESPACE"," ",70],["T_ARRAY","array",70],"(",")",";",["T_WHITESPACE","\n  ",70],"}",["T_WHITESPACE","\n\n  ",71],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",73],["T_WHITESPACE","\n  ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","getContextDefinition",76],"(",["T_VARIABLE","$name",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$definition",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getPluginDefinition",77],"(",")",";",["T_WHITESPACE","\n    ",77],["T_IF","if",78],["T_WHITESPACE"," ",78],"(",["T_EMPTY","empty",78],"(",["T_VARIABLE","$definition",78],"[",["T_CONSTANT_ENCAPSED_STRING","'context'",78],"]","[",["T_VARIABLE","$name",78],"]",")",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n      ",78],["T_THROW","throw",79],["T_WHITESPACE"," ",79],["T_NEW","new",79],["T_WHITESPACE"," ",79],["T_STRING","ContextException",79],"(",["T_STRING","sprintf",79],"(",["T_CONSTANT_ENCAPSED_STRING","\"The %s context is not a valid context.\"",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$name",79],")",")",";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n    ",80],["T_RETURN","return",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$definition",81],"[",["T_CONSTANT_ENCAPSED_STRING","'context'",81],"]","[",["T_VARIABLE","$name",81],"]",";",["T_WHITESPACE","\n  ",81],"}",["T_WHITESPACE","\n\n  ",82],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",84],["T_WHITESPACE","\n  ",86],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","getContexts",87],"(",")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n    ",87],["T_COMMENT","\/\/ Make sure all context objects are initialized.\n",88],["T_WHITESPACE","    ",89],["T_FOREACH","foreach",89],["T_WHITESPACE"," ",89],"(",["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getContextDefinitions",89],"(",")",["T_WHITESPACE"," ",89],["T_AS","as",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$name",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$definition",89],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n      ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getContext",90],"(",["T_VARIABLE","$name",90],")",";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n    ",91],["T_RETURN","return",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","context",92],";",["T_WHITESPACE","\n  ",92],"}",["T_WHITESPACE","\n\n  ",93],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",95],["T_WHITESPACE","\n  ",97],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","getContext",98],"(",["T_VARIABLE","$name",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n    ",98],["T_COMMENT","\/\/ Check for a valid context value.\n",99],["T_WHITESPACE","    ",100],["T_IF","if",100],["T_WHITESPACE"," ",100],"(","!",["T_ISSET","isset",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","context",100],"[",["T_VARIABLE","$name",100],"]",")",")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n      ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","context",101],"[",["T_VARIABLE","$name",101],"]",["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_NEW","new",101],["T_WHITESPACE"," ",101],["T_STRING","Context",101],"(",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getContextDefinition",101],"(",["T_VARIABLE","$name",101],")",")",";",["T_WHITESPACE","\n    ",101],"}",["T_WHITESPACE","\n    ",102],["T_RETURN","return",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","context",103],"[",["T_VARIABLE","$name",103],"]",";",["T_WHITESPACE","\n  ",103],"}",["T_WHITESPACE","\n\n  ",104],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",106],["T_WHITESPACE","\n  ",108],["T_PUBLIC","public",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","setContext",109],"(",["T_VARIABLE","$name",109],",",["T_WHITESPACE"," ",109],["T_STRING","ContextInterface",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$context",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","context",110],"[",["T_VARIABLE","$name",110],"]",["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$context",110],";",["T_WHITESPACE","\n  ",110],"}",["T_WHITESPACE","\n\n  ",111],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",113],["T_WHITESPACE","\n  ",115],["T_PUBLIC","public",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","getContextValues",116],"(",")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$values",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_ARRAY","array",117],"(",")",";",["T_WHITESPACE","\n    ",117],["T_FOREACH","foreach",118],["T_WHITESPACE"," ",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getContextDefinitions",118],"(",")",["T_WHITESPACE"," ",118],["T_AS","as",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$name",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$definition",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n      ",118],["T_VARIABLE","$values",119],"[",["T_VARIABLE","$name",119],"]",["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_ISSET","isset",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","context",119],"[",["T_VARIABLE","$name",119],"]",")",["T_WHITESPACE"," ",119],"?",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","context",119],"[",["T_VARIABLE","$name",119],"]",["T_OBJECT_OPERATOR","->",119],["T_STRING","getContextValue",119],"(",")",["T_WHITESPACE"," ",119],":",["T_WHITESPACE"," ",119],["T_STRING","NULL",119],";",["T_WHITESPACE","\n    ",119],"}",["T_WHITESPACE","\n    ",120],["T_RETURN","return",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$values",121],";",["T_WHITESPACE","\n  ",121],"}",["T_WHITESPACE","\n\n  ",122],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",124],["T_WHITESPACE","\n  ",126],["T_PUBLIC","public",127],["T_WHITESPACE"," ",127],["T_FUNCTION","function",127],["T_WHITESPACE"," ",127],["T_STRING","getContextValue",127],"(",["T_VARIABLE","$name",127],")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n    ",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getContext",128],"(",["T_VARIABLE","$name",128],")",["T_OBJECT_OPERATOR","->",128],["T_STRING","getContextValue",128],"(",")",";",["T_WHITESPACE","\n  ",128],"}",["T_WHITESPACE","\n\n  ",129],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",131],["T_WHITESPACE","\n  ",133],["T_PUBLIC","public",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","setContextValue",134],"(",["T_VARIABLE","$name",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$value",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n    ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","context",135],"[",["T_VARIABLE","$name",135],"]",["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_NEW","new",135],["T_WHITESPACE"," ",135],["T_STRING","Context",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getContextDefinition",135],"(",["T_VARIABLE","$name",135],")",",",["T_WHITESPACE"," ",135],["T_VARIABLE","$value",135],")",";",["T_WHITESPACE","\n    ",135],["T_RETURN","return",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],";",["T_WHITESPACE","\n  ",136],"}",["T_WHITESPACE","\n\n  ",137],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",139],["T_WHITESPACE","\n  ",141],["T_PUBLIC","public",142],["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],["T_STRING","validateContexts",142],"(",")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n    ",142],["T_VARIABLE","$violations",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_NEW","new",143],["T_WHITESPACE"," ",143],["T_STRING","ConstraintViolationList",143],"(",")",";",["T_WHITESPACE","\n    ",143],["T_COMMENT","\/\/ @todo: Implement symfony validator API to let the validator traverse\n",144],["T_WHITESPACE","    ",145],["T_COMMENT","\/\/ and set property paths accordingly.\n",145],["T_WHITESPACE","\n    ",146],["T_FOREACH","foreach",147],["T_WHITESPACE"," ",147],"(",["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getContexts",147],"(",")",["T_WHITESPACE"," ",147],["T_AS","as",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$context",147],")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n      ",147],["T_VARIABLE","$violations",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","addAll",148],"(",["T_VARIABLE","$context",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","validate",148],"(",")",")",";",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n    ",149],["T_RETURN","return",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$violations",150],";",["T_WHITESPACE","\n  ",150],"}",["T_WHITESPACE","\n\n",151],"}",["T_WHITESPACE","\n",153]]