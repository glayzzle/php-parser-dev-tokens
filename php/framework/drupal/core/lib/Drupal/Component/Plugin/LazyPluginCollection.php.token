[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Component",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Defines an object which stores multiple plugin instances to lazy load them.\n *\n * @ingroup plugin_api\n *\/",5],["T_WHITESPACE","\n",9],["T_ABSTRACT","abstract",10],["T_WHITESPACE"," ",10],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","LazyPluginCollection",10],["T_WHITESPACE"," ",10],["T_IMPLEMENTS","implements",10],["T_WHITESPACE"," ",10],["T_NS_SEPARATOR","\\",10],["T_STRING","IteratorAggregate",10],",",["T_WHITESPACE"," ",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Countable",10],["T_WHITESPACE"," ",10],"{",["T_WHITESPACE","\n\n  ",10],["T_DOC_COMMENT","\/**\n   * Stores all instantiated plugins.\n   *\n   * @var array\n   *\/",12],["T_WHITESPACE","\n  ",16],["T_PROTECTED","protected",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$pluginInstances",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_ARRAY","array",17],"(",")",";",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * Stores the IDs of all potential plugin instances.\n   *\n   * @var array\n   *\/",19],["T_WHITESPACE","\n  ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$instanceIDs",24],["T_WHITESPACE"," ",24],"=",["T_WHITESPACE"," ",24],["T_ARRAY","array",24],"(",")",";",["T_WHITESPACE","\n\n  ",24],["T_DOC_COMMENT","\/**\n   * Initializes and stores a plugin.\n   *\n   * @param string $instance_id\n   *   The ID of the plugin instance to initialize.\n   *\/",26],["T_WHITESPACE","\n  ",31],["T_ABSTRACT","abstract",32],["T_WHITESPACE"," ",32],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_FUNCTION","function",32],["T_WHITESPACE"," ",32],["T_STRING","initializePlugin",32],"(",["T_VARIABLE","$instance_id",32],")",";",["T_WHITESPACE","\n\n  ",32],["T_DOC_COMMENT","\/**\n   * Gets the current configuration of all plugins in this collection.\n   *\n   * @return array\n   *   An array of up-to-date plugin configuration.\n   *\/",34],["T_WHITESPACE","\n  ",39],["T_ABSTRACT","abstract",40],["T_WHITESPACE"," ",40],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","getConfiguration",40],"(",")",";",["T_WHITESPACE","\n\n  ",40],["T_DOC_COMMENT","\/**\n   * Sets the configuration for all plugins in this collection.\n   *\n   * @param array $configuration\n   *   An array of up-to-date plugin configuration.\n   *\n   * @return $this\n   *\/",42],["T_WHITESPACE","\n  ",49],["T_ABSTRACT","abstract",50],["T_WHITESPACE"," ",50],["T_PUBLIC","public",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","setConfiguration",50],"(",["T_VARIABLE","$configuration",50],")",";",["T_WHITESPACE","\n\n  ",50],["T_DOC_COMMENT","\/**\n   * Clears all instantiated plugins.\n   *\/",52],["T_WHITESPACE","\n  ",54],["T_PUBLIC","public",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","clear",55],"(",")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","pluginInstances",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_ARRAY","array",56],"(",")",";",["T_WHITESPACE","\n  ",56],"}",["T_WHITESPACE","\n\n  ",57],["T_DOC_COMMENT","\/**\n   * Determines if a plugin instance exists.\n   *\n   * @param string $instance_id\n   *   The ID of the plugin instance to check.\n   *\n   * @return bool\n   *   TRUE if the plugin instance exists, FALSE otherwise.\n   *\/",59],["T_WHITESPACE","\n  ",67],["T_PUBLIC","public",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","has",68],"(",["T_VARIABLE","$instance_id",68],")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n    ",68],["T_RETURN","return",69],["T_WHITESPACE"," ",69],["T_ISSET","isset",69],"(",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","pluginInstances",69],"[",["T_VARIABLE","$instance_id",69],"]",")",["T_WHITESPACE"," ",69],["T_BOOLEAN_OR","||",69],["T_WHITESPACE"," ",69],["T_ISSET","isset",69],"(",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","instanceIDs",69],"[",["T_VARIABLE","$instance_id",69],"]",")",";",["T_WHITESPACE","\n  ",69],"}",["T_WHITESPACE","\n\n  ",70],["T_DOC_COMMENT","\/**\n   * Gets a plugin instance, initializing it if necessary.\n   *\n   * @param string $instance_id\n   *   The ID of the plugin instance being retrieved.\n   *\/",72],["T_WHITESPACE","\n  ",77],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],"&",["T_STRING","get",78],"(",["T_VARIABLE","$instance_id",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n    ",78],["T_IF","if",79],["T_WHITESPACE"," ",79],"(","!",["T_ISSET","isset",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","pluginInstances",79],"[",["T_VARIABLE","$instance_id",79],"]",")",")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n      ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","initializePlugin",80],"(",["T_VARIABLE","$instance_id",80],")",";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n    ",81],["T_RETURN","return",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","pluginInstances",82],"[",["T_VARIABLE","$instance_id",82],"]",";",["T_WHITESPACE","\n  ",82],"}",["T_WHITESPACE","\n\n  ",83],["T_DOC_COMMENT","\/**\n   * Stores an initialized plugin.\n   *\n   * @param string $instance_id\n   *   The ID of the plugin instance being stored.\n   * @param mixed $value\n   *   An instantiated plugin.\n   *\/",85],["T_WHITESPACE","\n  ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","set",93],"(",["T_VARIABLE","$instance_id",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$value",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","pluginInstances",94],"[",["T_VARIABLE","$instance_id",94],"]",["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$value",94],";",["T_WHITESPACE","\n    ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","addInstanceId",95],"(",["T_VARIABLE","$instance_id",95],")",";",["T_WHITESPACE","\n  ",95],"}",["T_WHITESPACE","\n\n  ",96],["T_DOC_COMMENT","\/**\n   * Removes an initialized plugin.\n   *\n   * The plugin can still be used; it will be reinitialized.\n   *\n   * @param string $instance_id\n   *   The ID of the plugin instance to remove.\n   *\/",98],["T_WHITESPACE","\n  ",105],["T_PUBLIC","public",106],["T_WHITESPACE"," ",106],["T_FUNCTION","function",106],["T_WHITESPACE"," ",106],["T_STRING","remove",106],"(",["T_VARIABLE","$instance_id",106],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n    ",106],["T_UNSET","unset",107],"(",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","pluginInstances",107],"[",["T_VARIABLE","$instance_id",107],"]",")",";",["T_WHITESPACE","\n  ",107],"}",["T_WHITESPACE","\n\n  ",108],["T_DOC_COMMENT","\/**\n   * Adds an instance ID to the available instance IDs.\n   *\n   * @param string $id\n   *   The ID of the plugin instance to add.\n   * @param array|null $configuration\n   *   (optional) The configuration used by this instance. Defaults to NULL.\n   *\/",110],["T_WHITESPACE","\n  ",117],["T_PUBLIC","public",118],["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","addInstanceId",118],"(",["T_VARIABLE","$id",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$configuration",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","NULL",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n    ",118],["T_IF","if",119],["T_WHITESPACE"," ",119],"(","!",["T_ISSET","isset",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","instanceIDs",119],"[",["T_VARIABLE","$id",119],"]",")",")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n      ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","instanceIDs",120],"[",["T_VARIABLE","$id",120],"]",["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$id",120],";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n  ",121],"}",["T_WHITESPACE","\n\n  ",122],["T_DOC_COMMENT","\/**\n   * Gets all instance IDs.\n   *\n   * @return array\n   *   An array of all available instance IDs.\n   *\/",124],["T_WHITESPACE","\n  ",129],["T_PUBLIC","public",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","getInstanceIds",130],"(",")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n    ",130],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","instanceIDs",131],";",["T_WHITESPACE","\n  ",131],"}",["T_WHITESPACE","\n\n  ",132],["T_DOC_COMMENT","\/**\n   * Removes an instance ID.\n   *\n   * @param string $instance_id\n   *   The ID of the plugin instance to remove.\n   *\/",134],["T_WHITESPACE","\n  ",139],["T_PUBLIC","public",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","removeInstanceId",140],"(",["T_VARIABLE","$instance_id",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n    ",140],["T_UNSET","unset",141],"(",["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","instanceIDs",141],"[",["T_VARIABLE","$instance_id",141],"]",")",";",["T_WHITESPACE","\n    ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","remove",142],"(",["T_VARIABLE","$instance_id",142],")",";",["T_WHITESPACE","\n  ",142],"}",["T_WHITESPACE","\n\n  ",143],["T_PUBLIC","public",145],["T_WHITESPACE"," ",145],["T_FUNCTION","function",145],["T_WHITESPACE"," ",145],["T_STRING","getIterator",145],"(",")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n    ",145],["T_VARIABLE","$instances",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],"[","]",";",["T_WHITESPACE","\n    ",146],["T_FOREACH","foreach",147],["T_WHITESPACE"," ",147],"(",["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getInstanceIds",147],"(",")",["T_WHITESPACE"," ",147],["T_AS","as",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$instance_id",147],")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n      ",147],["T_VARIABLE","$instances",148],"[",["T_VARIABLE","$instance_id",148],"]",["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","get",148],"(",["T_VARIABLE","$instance_id",148],")",";",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n    ",149],["T_RETURN","return",150],["T_WHITESPACE"," ",150],["T_NEW","new",150],["T_WHITESPACE"," ",150],["T_NS_SEPARATOR","\\",150],["T_STRING","ArrayIterator",150],"(",["T_VARIABLE","$instances",150],")",";",["T_WHITESPACE","\n  ",150],"}",["T_WHITESPACE","\n\n  ",151],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",153],["T_WHITESPACE","\n  ",155],["T_PUBLIC","public",156],["T_WHITESPACE"," ",156],["T_FUNCTION","function",156],["T_WHITESPACE"," ",156],["T_STRING","count",156],"(",")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n    ",156],["T_RETURN","return",157],["T_WHITESPACE"," ",157],["T_STRING","count",157],"(",["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","instanceIDs",157],")",";",["T_WHITESPACE","\n  ",157],"}",["T_WHITESPACE","\n\n",158],"}",["T_WHITESPACE","\n",160]]