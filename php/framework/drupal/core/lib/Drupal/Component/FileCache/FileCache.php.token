[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Component",3],["T_NS_SEPARATOR","\\",3],["T_STRING","FileCache",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Allows to cache data based on file modification dates.\n *\/",5],["T_WHITESPACE","\n",7],["T_CLASS","class",8],["T_WHITESPACE"," ",8],["T_STRING","FileCache",8],["T_WHITESPACE"," ",8],["T_IMPLEMENTS","implements",8],["T_WHITESPACE"," ",8],["T_STRING","FileCacheInterface",8],["T_WHITESPACE"," ",8],"{",["T_WHITESPACE","\n\n  ",8],["T_DOC_COMMENT","\/**\n   * Prefix that is used for cache entries.\n   *\n   * @var string\n   *\/",10],["T_WHITESPACE","\n  ",14],["T_PROTECTED","protected",15],["T_WHITESPACE"," ",15],["T_VARIABLE","$prefix",15],";",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * Static cache that contains already loaded cache entries.\n   *\n   * @var array\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_STATIC","static",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$cached",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],"[","]",";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * The collection identifier of this cache.\n   *\n   * @var string\n   *\/",24],["T_WHITESPACE","\n  ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$collection",29],";",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * The cache backend backing this FileCache object.\n   *\n   * @var \\Drupal\\Component\\FileCache\\FileCacheBackendInterface\n   *\/",31],["T_WHITESPACE","\n  ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$cache",36],";",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * Constructs a FileCache object.\n   *\n   * @param string $prefix\n   *   The cache prefix.\n   * @param string $collection\n   *   A collection identifier to ensure that the same files could be cached for\n   *   different purposes without clashing.\n   * @param string|null $cache_backend_class\n   *   (optional) The class that should be used as cache backend.\n   * @param array $cache_backend_configuration\n   *   (optional) The configuration for the backend class.\n   *\/",38],["T_WHITESPACE","\n  ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","__construct",51],"(",["T_VARIABLE","$prefix",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$collection",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$cache_backend_class",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_STRING","NULL",51],",",["T_WHITESPACE"," ",51],["T_ARRAY","array",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$cache_backend_configuration",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],"[","]",")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n\n    ",51],["T_IF","if",53],["T_WHITESPACE"," ",53],"(",["T_EMPTY","empty",53],"(",["T_VARIABLE","$prefix",53],")",")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n      ",53],["T_THROW","throw",54],["T_WHITESPACE"," ",54],["T_NEW","new",54],["T_WHITESPACE"," ",54],["T_NS_SEPARATOR","\\",54],["T_STRING","InvalidArgumentException",54],"(",["T_CONSTANT_ENCAPSED_STRING","'Required prefix configuration is missing'",54],")",";",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n\n    ",55],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","prefix",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$prefix",57],";",["T_WHITESPACE","\n    ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","collection",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$collection",58],";",["T_WHITESPACE","\n\n    ",58],["T_IF","if",60],["T_WHITESPACE"," ",60],"(",["T_ISSET","isset",60],"(",["T_VARIABLE","$cache_backend_class",60],")",")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n      ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","cache",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_NEW","new",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$cache_backend_class",61],"(",["T_VARIABLE","$cache_backend_configuration",61],")",";",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n  ",62],"}",["T_WHITESPACE","\n\n  ",63],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",65],["T_WHITESPACE","\n  ",67],["T_PUBLIC","public",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","get",68],"(",["T_VARIABLE","$filepath",68],")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$filepaths",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],"[",["T_VARIABLE","$filepath",69],"]",";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$cached",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getMultiple",70],"(",["T_VARIABLE","$filepaths",70],")",";",["T_WHITESPACE","\n    ",70],["T_RETURN","return",71],["T_WHITESPACE"," ",71],["T_ISSET","isset",71],"(",["T_VARIABLE","$cached",71],"[",["T_VARIABLE","$filepath",71],"]",")",["T_WHITESPACE"," ",71],"?",["T_WHITESPACE"," ",71],["T_VARIABLE","$cached",71],"[",["T_VARIABLE","$filepath",71],"]",["T_WHITESPACE"," ",71],":",["T_WHITESPACE"," ",71],["T_STRING","NULL",71],";",["T_WHITESPACE","\n  ",71],"}",["T_WHITESPACE","\n\n  ",72],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",74],["T_WHITESPACE","\n  ",76],["T_PUBLIC","public",77],["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","getMultiple",77],"(",["T_ARRAY","array",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$filepaths",77],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$file_data",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],"[","]",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$remaining_cids",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],"[","]",";",["T_WHITESPACE","\n\n    ",79],["T_COMMENT","\/\/ First load from the static cache what we can.\n",81],["T_WHITESPACE","    ",82],["T_FOREACH","foreach",82],["T_WHITESPACE"," ",82],"(",["T_VARIABLE","$filepaths",82],["T_WHITESPACE"," ",82],["T_AS","as",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$filepath",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n      ",82],["T_IF","if",83],["T_WHITESPACE"," ",83],"(","!",["T_STRING","file_exists",83],"(",["T_VARIABLE","$filepath",83],")",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n        ",83],["T_CONTINUE","continue",84],";",["T_WHITESPACE","\n      ",84],"}",["T_WHITESPACE","\n\n      ",85],["T_VARIABLE","$realpath",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","realpath",87],"(",["T_VARIABLE","$filepath",87],")",";",["T_WHITESPACE","\n      ",87],["T_COMMENT","\/\/ If the file exists but realpath returns nothing, it is using a stream\n",88],["T_WHITESPACE","      ",89],["T_COMMENT","\/\/ wrapper, those are not supported.\n",89],["T_WHITESPACE","      ",90],["T_IF","if",90],["T_WHITESPACE"," ",90],"(",["T_EMPTY","empty",90],"(",["T_VARIABLE","$realpath",90],")",")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n        ",90],["T_CONTINUE","continue",91],";",["T_WHITESPACE","\n      ",91],"}",["T_WHITESPACE","\n\n      ",92],["T_VARIABLE","$cid",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","prefix",94],["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","':'",94],["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","collection",94],["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","':'",94],["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_VARIABLE","$realpath",94],";",["T_WHITESPACE","\n      ",94],["T_IF","if",95],["T_WHITESPACE"," ",95],"(",["T_ISSET","isset",95],"(",["T_STATIC","static",95],["T_DOUBLE_COLON","::",95],["T_VARIABLE","$cached",95],"[",["T_VARIABLE","$cid",95],"]",")",["T_WHITESPACE"," ",95],["T_BOOLEAN_AND","&&",95],["T_WHITESPACE"," ",95],["T_STATIC","static",95],["T_DOUBLE_COLON","::",95],["T_VARIABLE","$cached",95],"[",["T_VARIABLE","$cid",95],"]","[",["T_CONSTANT_ENCAPSED_STRING","'mtime'",95],"]",["T_WHITESPACE"," ",95],["T_IS_EQUAL","==",95],["T_WHITESPACE"," ",95],["T_STRING","filemtime",95],"(",["T_VARIABLE","$filepath",95],")",")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$file_data",96],"[",["T_VARIABLE","$filepath",96],"]",["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_STATIC","static",96],["T_DOUBLE_COLON","::",96],["T_VARIABLE","$cached",96],"[",["T_VARIABLE","$cid",96],"]","[",["T_CONSTANT_ENCAPSED_STRING","'data'",96],"]",";",["T_WHITESPACE","\n      ",96],"}",["T_WHITESPACE","\n      ",97],["T_ELSE","else",98],["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n        ",98],["T_COMMENT","\/\/ Collect a list of cache IDs that we still need to fetch from cache\n",99],["T_WHITESPACE","        ",100],["T_COMMENT","\/\/ backend.\n",100],["T_WHITESPACE","        ",101],["T_VARIABLE","$remaining_cids",101],"[",["T_VARIABLE","$cid",101],"]",["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$filepath",101],";",["T_WHITESPACE","\n      ",101],"}",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_COMMENT","\/\/ If there are any cache IDs left to fetch from the cache backend.\n",105],["T_WHITESPACE","    ",106],["T_IF","if",106],["T_WHITESPACE"," ",106],"(",["T_VARIABLE","$remaining_cids",106],["T_WHITESPACE"," ",106],["T_BOOLEAN_AND","&&",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","cache",106],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n      ",106],["T_VARIABLE","$cache_results",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","cache",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","fetch",107],"(",["T_STRING","array_keys",107],"(",["T_VARIABLE","$remaining_cids",107],")",")",["T_WHITESPACE"," ",107],"?",":",["T_WHITESPACE"," ",107],"[","]",";",["T_WHITESPACE","\n      ",107],["T_FOREACH","foreach",108],["T_WHITESPACE"," ",108],"(",["T_VARIABLE","$cache_results",108],["T_WHITESPACE"," ",108],["T_AS","as",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$cid",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$cached",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$filepath",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$remaining_cids",109],"[",["T_VARIABLE","$cid",109],"]",";",["T_WHITESPACE","\n        ",109],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_VARIABLE","$cached",110],"[",["T_CONSTANT_ENCAPSED_STRING","'mtime'",110],"]",["T_WHITESPACE"," ",110],["T_IS_EQUAL","==",110],["T_WHITESPACE"," ",110],["T_STRING","filemtime",110],"(",["T_VARIABLE","$filepath",110],")",")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n          ",110],["T_VARIABLE","$file_data",111],"[",["T_VARIABLE","$cached",111],"[",["T_CONSTANT_ENCAPSED_STRING","'filepath'",111],"]","]",["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$cached",111],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",111],"]",";",["T_WHITESPACE","\n          ",111],["T_STATIC","static",112],["T_DOUBLE_COLON","::",112],["T_VARIABLE","$cached",112],"[",["T_VARIABLE","$cid",112],"]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$cached",112],";",["T_WHITESPACE","\n        ",112],"}",["T_WHITESPACE","\n      ",113],"}",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n\n    ",115],["T_RETURN","return",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$file_data",117],";",["T_WHITESPACE","\n  ",117],"}",["T_WHITESPACE","\n\n  ",118],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",120],["T_WHITESPACE","\n  ",122],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","set",123],"(",["T_VARIABLE","$filepath",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$data",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$realpath",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","realpath",124],"(",["T_VARIABLE","$filepath",124],")",";",["T_WHITESPACE","\n    ",124],["T_VARIABLE","$cached",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],"[",["T_WHITESPACE","\n      ",125],["T_CONSTANT_ENCAPSED_STRING","'mtime'",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_STRING","filemtime",126],"(",["T_VARIABLE","$filepath",126],")",",",["T_WHITESPACE","\n      ",126],["T_CONSTANT_ENCAPSED_STRING","'filepath'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$filepath",127],",",["T_WHITESPACE","\n      ",127],["T_CONSTANT_ENCAPSED_STRING","'data'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$data",128],",",["T_WHITESPACE","\n    ",128],"]",";",["T_WHITESPACE","\n\n    ",129],["T_VARIABLE","$cid",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","prefix",131],["T_WHITESPACE"," ",131],".",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","':'",131],["T_WHITESPACE"," ",131],".",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","collection",131],["T_WHITESPACE"," ",131],".",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","':'",131],["T_WHITESPACE"," ",131],".",["T_WHITESPACE"," ",131],["T_VARIABLE","$realpath",131],";",["T_WHITESPACE","\n    ",131],["T_STATIC","static",132],["T_DOUBLE_COLON","::",132],["T_VARIABLE","$cached",132],"[",["T_VARIABLE","$cid",132],"]",["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$cached",132],";",["T_WHITESPACE","\n    ",132],["T_IF","if",133],["T_WHITESPACE"," ",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","cache",133],")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n      ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","cache",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","store",134],"(",["T_VARIABLE","$cid",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$cached",134],")",";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n  ",135],"}",["T_WHITESPACE","\n\n  ",136],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",138],["T_WHITESPACE","\n  ",140],["T_PUBLIC","public",141],["T_WHITESPACE"," ",141],["T_FUNCTION","function",141],["T_WHITESPACE"," ",141],["T_STRING","delete",141],"(",["T_VARIABLE","$filepath",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n    ",141],["T_VARIABLE","$realpath",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_STRING","realpath",142],"(",["T_VARIABLE","$filepath",142],")",";",["T_WHITESPACE","\n    ",142],["T_VARIABLE","$cid",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","prefix",143],["T_WHITESPACE"," ",143],".",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","':'",143],["T_WHITESPACE"," ",143],".",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","collection",143],["T_WHITESPACE"," ",143],".",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","':'",143],["T_WHITESPACE"," ",143],".",["T_WHITESPACE"," ",143],["T_VARIABLE","$realpath",143],";",["T_WHITESPACE","\n\n    ",143],["T_UNSET","unset",145],"(",["T_STATIC","static",145],["T_DOUBLE_COLON","::",145],["T_VARIABLE","$cached",145],"[",["T_VARIABLE","$cid",145],"]",")",";",["T_WHITESPACE","\n    ",145],["T_IF","if",146],["T_WHITESPACE"," ",146],"(",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","cache",146],")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n      ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","cache",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","delete",147],"(",["T_VARIABLE","$cid",147],")",";",["T_WHITESPACE","\n    ",147],"}",["T_WHITESPACE","\n  ",148],"}",["T_WHITESPACE","\n\n  ",149],["T_DOC_COMMENT","\/**\n   * Resets the static cache.\n   *\n   * @todo Replace this once https:\/\/www.drupal.org\/node\/2260187 is in.\n   *\/",151],["T_WHITESPACE","\n  ",155],["T_PUBLIC","public",156],["T_WHITESPACE"," ",156],["T_STATIC","static",156],["T_WHITESPACE"," ",156],["T_FUNCTION","function",156],["T_WHITESPACE"," ",156],["T_STRING","reset",156],"(",")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n    ",156],["T_STATIC","static",157],["T_DOUBLE_COLON","::",157],["T_VARIABLE","$cached",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],"[","]",";",["T_WHITESPACE","\n  ",157],"}",["T_WHITESPACE","\n\n",158],"}",["T_WHITESPACE","\n",160]]