[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Component",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Gettext",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","SafeMarkup",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Implements Gettext PO stream reader.\n *\n * The PO file format parsing is implemented according to the documentation at\n * http:\/\/www.gnu.org\/software\/gettext\/manual\/gettext.html#PO-Files\n *\/",7],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","PoStreamReader",13],["T_WHITESPACE"," ",13],["T_IMPLEMENTS","implements",13],["T_WHITESPACE"," ",13],["T_STRING","PoStreamInterface",13],",",["T_WHITESPACE"," ",13],["T_STRING","PoReaderInterface",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * Source line number of the stream being parsed.\n   *\n   * @var int\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PRIVATE","private",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$_line_number",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_LNUMBER","0",20],";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * Parser context for the stream reader state machine.\n   *\n   * Possible contexts are:\n   *  - 'COMMENT' (#)\n   *  - 'MSGID' (msgid)\n   *  - 'MSGID_PLURAL' (msgid_plural)\n   *  - 'MSGCTXT' (msgctxt)\n   *  - 'MSGSTR' (msgstr or msgstr[])\n   *  - 'MSGSTR_ARR' (msgstr_arg)\n   *\n   * @var string\n   *\/",22],["T_WHITESPACE","\n  ",34],["T_PRIVATE","private",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$_context",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'COMMENT'",35],";",["T_WHITESPACE","\n\n  ",35],["T_DOC_COMMENT","\/**\n   * Current entry being read. Incomplete.\n   *\n   * @var array\n   *\/",37],["T_WHITESPACE","\n  ",41],["T_PRIVATE","private",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_current_item",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_ARRAY","array",42],"(",")",";",["T_WHITESPACE","\n\n  ",42],["T_DOC_COMMENT","\/**\n   * Current plural index for plural translations.\n   *\n   * @var int\n   *\/",44],["T_WHITESPACE","\n  ",48],["T_PRIVATE","private",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_current_plural_index",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_LNUMBER","0",49],";",["T_WHITESPACE","\n\n  ",49],["T_DOC_COMMENT","\/**\n   * URI of the PO stream that is being read.\n   *\n   * @var string\n   *\/",51],["T_WHITESPACE","\n  ",55],["T_PRIVATE","private",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$_uri",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","''",56],";",["T_WHITESPACE","\n\n  ",56],["T_DOC_COMMENT","\/**\n   * Language code for the PO stream being read.\n   *\n   * @var string\n   *\/",58],["T_WHITESPACE","\n  ",62],["T_PRIVATE","private",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$_langcode",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_STRING","NULL",63],";",["T_WHITESPACE","\n\n  ",63],["T_DOC_COMMENT","\/**\n   * File handle of the current PO stream.\n   *\n   * @var resource\n   *\/",65],["T_WHITESPACE","\n  ",69],["T_PRIVATE","private",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$_fd",70],";",["T_WHITESPACE","\n\n  ",70],["T_DOC_COMMENT","\/**\n   * The PO stream header.\n   *\n   * @var \\Drupal\\Component\\Gettext\\PoHeader\n   *\/",72],["T_WHITESPACE","\n  ",76],["T_PRIVATE","private",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$_header",77],";",["T_WHITESPACE","\n\n  ",77],["T_DOC_COMMENT","\/**\n   * Object wrapper for the last read source\/translation pair.\n   *\n   * @var \\Drupal\\Component\\Gettext\\PoItem\n   *\/",79],["T_WHITESPACE","\n  ",83],["T_PRIVATE","private",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$_last_item",84],";",["T_WHITESPACE","\n\n  ",84],["T_DOC_COMMENT","\/**\n   * Indicator of whether the stream reading is finished.\n   *\n   * @var bool\n   *\/",86],["T_WHITESPACE","\n  ",90],["T_PRIVATE","private",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$_finished",91],";",["T_WHITESPACE","\n\n  ",91],["T_DOC_COMMENT","\/**\n   * Array of translated error strings recorded on reading this stream so far.\n   *\n   * @var array\n   *\/",93],["T_WHITESPACE","\n  ",97],["T_PRIVATE","private",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$_errors",98],";",["T_WHITESPACE","\n\n  ",98],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",100],["T_WHITESPACE","\n  ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","getLangcode",103],"(",")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n    ",103],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","_langcode",104],";",["T_WHITESPACE","\n  ",104],"}",["T_WHITESPACE","\n\n  ",105],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",107],["T_WHITESPACE","\n  ",109],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","setLangcode",110],"(",["T_VARIABLE","$langcode",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_langcode",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$langcode",111],";",["T_WHITESPACE","\n  ",111],"}",["T_WHITESPACE","\n\n  ",112],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",114],["T_WHITESPACE","\n  ",116],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","getHeader",117],"(",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n    ",117],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_header",118],";",["T_WHITESPACE","\n  ",118],"}",["T_WHITESPACE","\n\n  ",119],["T_DOC_COMMENT","\/**\n   * Implements Drupal\\Component\\Gettext\\PoMetadataInterface::setHeader().\n   *\n   * Not applicable to stream reading and therefore not implemented.\n   *\/",121],["T_WHITESPACE","\n  ",125],["T_PUBLIC","public",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","setHeader",126],"(",["T_STRING","PoHeader",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$header",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n  ",126],"}",["T_WHITESPACE","\n\n  ",127],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",129],["T_WHITESPACE","\n  ",131],["T_PUBLIC","public",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","getURI",132],"(",")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n    ",132],["T_RETURN","return",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","_uri",133],";",["T_WHITESPACE","\n  ",133],"}",["T_WHITESPACE","\n\n  ",134],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",136],["T_WHITESPACE","\n  ",138],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","setURI",139],"(",["T_VARIABLE","$uri",139],")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_uri",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$uri",140],";",["T_WHITESPACE","\n  ",140],"}",["T_WHITESPACE","\n\n  ",141],["T_DOC_COMMENT","\/**\n   * Implements Drupal\\Component\\Gettext\\PoStreamInterface::open().\n   *\n   * Opens the stream and reads the header. The stream is ready for reading\n   * items after.\n   *\n   * @throws Exception\n   *   If the URI is not yet set.\n   *\/",143],["T_WHITESPACE","\n  ",151],["T_PUBLIC","public",152],["T_WHITESPACE"," ",152],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","open",152],"(",")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n    ",152],["T_IF","if",153],["T_WHITESPACE"," ",153],"(","!",["T_EMPTY","empty",153],"(",["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_uri",153],")",")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n      ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_fd",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","fopen",154],"(",["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_uri",154],",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'rb'",154],")",";",["T_WHITESPACE","\n      ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","readHeader",155],"(",")",";",["T_WHITESPACE","\n    ",155],"}",["T_WHITESPACE","\n    ",156],["T_ELSE","else",157],["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n      ",157],["T_THROW","throw",158],["T_WHITESPACE"," ",158],["T_NEW","new",158],["T_WHITESPACE"," ",158],["T_NS_SEPARATOR","\\",158],["T_STRING","Exception",158],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot open stream without URI set.'",158],")",";",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n  ",159],"}",["T_WHITESPACE","\n\n  ",160],["T_DOC_COMMENT","\/**\n   * Implements Drupal\\Component\\Gettext\\PoStreamInterface::close().\n   *\n   * @throws Exception\n   *   If the stream is not open.\n   *\/",162],["T_WHITESPACE","\n  ",167],["T_PUBLIC","public",168],["T_WHITESPACE"," ",168],["T_FUNCTION","function",168],["T_WHITESPACE"," ",168],["T_STRING","close",168],"(",")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n    ",168],["T_IF","if",169],["T_WHITESPACE"," ",169],"(",["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","_fd",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n      ",169],["T_STRING","fclose",170],"(",["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","_fd",170],")",";",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n    ",171],["T_ELSE","else",172],["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n      ",172],["T_THROW","throw",173],["T_WHITESPACE"," ",173],["T_NEW","new",173],["T_WHITESPACE"," ",173],["T_NS_SEPARATOR","\\",173],["T_STRING","Exception",173],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot close stream that is not open.'",173],")",";",["T_WHITESPACE","\n    ",173],"}",["T_WHITESPACE","\n  ",174],"}",["T_WHITESPACE","\n\n  ",175],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",177],["T_WHITESPACE","\n  ",179],["T_PUBLIC","public",180],["T_WHITESPACE"," ",180],["T_FUNCTION","function",180],["T_WHITESPACE"," ",180],["T_STRING","readItem",180],"(",")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n    ",180],["T_COMMENT","\/\/ Clear out the last item.\n",181],["T_WHITESPACE","    ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_last_item",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_STRING","NULL",182],";",["T_WHITESPACE","\n\n    ",182],["T_COMMENT","\/\/ Read until finished with the stream or a complete item was identified.\n",184],["T_WHITESPACE","    ",185],["T_WHILE","while",185],["T_WHITESPACE"," ",185],"(","!",["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","_finished",185],["T_WHITESPACE"," ",185],["T_BOOLEAN_AND","&&",185],["T_WHITESPACE"," ",185],["T_STRING","is_null",185],"(",["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","_last_item",185],")",")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n      ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","readLine",186],"(",")",";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n\n    ",187],["T_RETURN","return",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_last_item",189],";",["T_WHITESPACE","\n  ",189],"}",["T_WHITESPACE","\n\n  ",190],["T_DOC_COMMENT","\/**\n   * Sets the seek position for the current PO stream.\n   *\n   * @param int $seek\n   *   The new seek position to set.\n   *\/",192],["T_WHITESPACE","\n  ",197],["T_PUBLIC","public",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","setSeek",198],"(",["T_VARIABLE","$seek",198],")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n    ",198],["T_STRING","fseek",199],"(",["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","_fd",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$seek",199],")",";",["T_WHITESPACE","\n  ",199],"}",["T_WHITESPACE","\n\n  ",200],["T_DOC_COMMENT","\/**\n   * Gets the pointer position of the current PO stream.\n   *\/",202],["T_WHITESPACE","\n  ",204],["T_PUBLIC","public",205],["T_WHITESPACE"," ",205],["T_FUNCTION","function",205],["T_WHITESPACE"," ",205],["T_STRING","getSeek",205],"(",")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n    ",205],["T_RETURN","return",206],["T_WHITESPACE"," ",206],["T_STRING","ftell",206],"(",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","_fd",206],")",";",["T_WHITESPACE","\n  ",206],"}",["T_WHITESPACE","\n\n  ",207],["T_DOC_COMMENT","\/**\n   * Read the header from the PO stream.\n   *\n   * The header is a special case PoItem, using the empty string as source and\n   * key-value pairs as translation. We just reuse the item reader logic to\n   * read the header.\n   *\/",209],["T_WHITESPACE","\n  ",215],["T_PRIVATE","private",216],["T_WHITESPACE"," ",216],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","readHeader",216],"(",")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n    ",216],["T_VARIABLE","$item",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","readItem",217],"(",")",";",["T_WHITESPACE","\n    ",217],["T_COMMENT","\/\/ Handle the case properly when the .po file is empty (0 bytes).\n",218],["T_WHITESPACE","    ",219],["T_IF","if",219],["T_WHITESPACE"," ",219],"(","!",["T_VARIABLE","$item",219],")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n      ",219],["T_RETURN","return",220],";",["T_WHITESPACE","\n    ",220],"}",["T_WHITESPACE","\n    ",221],["T_VARIABLE","$header",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_NEW","new",222],["T_WHITESPACE"," ",222],["T_STRING","PoHeader",222],"(",")",";",["T_WHITESPACE","\n    ",222],["T_VARIABLE","$header",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","setFromString",223],"(",["T_STRING","trim",223],"(",["T_VARIABLE","$item",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getTranslation",223],"(",")",")",")",";",["T_WHITESPACE","\n    ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","_header",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$header",224],";",["T_WHITESPACE","\n  ",224],"}",["T_WHITESPACE","\n\n  ",225],["T_DOC_COMMENT","\/**\n   * Reads a line from the PO stream and stores data internally.\n   *\n   * Expands $this->_current_item based on new data for the current item. If\n   * this line ends the current item, it is saved with setItemFromArray() with\n   * data from $this->_current_item.\n   *\n   * An internal state machine is maintained in this reader using\n   * $this->_context as the reading state. PO items are in between COMMENT\n   * states (when items have at least one line or comment in between them) or\n   * indicated by MSGSTR or MSGSTR_ARR followed immediately by an MSGID or\n   * MSGCTXT (when items closely follow each other).\n   *\n   * @return\n   *   FALSE if an error was logged, NULL otherwise. The errors are considered\n   *   non-blocking, so reading can continue, while the errors are collected\n   *   for later presentation.\n   *\/",227],["T_WHITESPACE","\n  ",244],["T_PRIVATE","private",245],["T_WHITESPACE"," ",245],["T_FUNCTION","function",245],["T_WHITESPACE"," ",245],["T_STRING","readLine",245],"(",")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n    ",245],["T_COMMENT","\/\/ Read a line and set the stream finished indicator if it was not\n",246],["T_WHITESPACE","    ",247],["T_COMMENT","\/\/ possible anymore.\n",247],["T_WHITESPACE","    ",248],["T_VARIABLE","$line",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_STRING","fgets",248],"(",["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_fd",248],")",";",["T_WHITESPACE","\n    ",248],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","_finished",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],"(",["T_VARIABLE","$line",249],["T_WHITESPACE"," ",249],["T_IS_IDENTICAL","===",249],["T_WHITESPACE"," ",249],["T_STRING","FALSE",249],")",";",["T_WHITESPACE","\n\n    ",249],["T_IF","if",251],["T_WHITESPACE"," ",251],"(","!",["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","_finished",251],")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n\n      ",251],["T_IF","if",253],["T_WHITESPACE"," ",253],"(",["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","_line_number",253],["T_WHITESPACE"," ",253],["T_IS_EQUAL","==",253],["T_WHITESPACE"," ",253],["T_LNUMBER","0",253],")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n        ",253],["T_COMMENT","\/\/ The first line might come with a UTF-8 BOM, which should be removed.\n",254],["T_WHITESPACE","        ",255],["T_VARIABLE","$line",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_STRING","str_replace",255],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\xEF\\xBB\\xBF\"",255],",",["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","''",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$line",255],")",";",["T_WHITESPACE","\n        ",255],["T_COMMENT","\/\/ Current plurality for 'msgstr[]'.\n",256],["T_WHITESPACE","        ",257],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","_current_plural_index",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_LNUMBER","0",257],";",["T_WHITESPACE","\n      ",257],"}",["T_WHITESPACE","\n\n      ",258],["T_COMMENT","\/\/ Track the line number for error reporting.\n",260],["T_WHITESPACE","      ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","_line_number",261],["T_INC","++",261],";",["T_WHITESPACE","\n\n      ",261],["T_COMMENT","\/\/ Initialize common values for error logging.\n",263],["T_WHITESPACE","      ",264],["T_VARIABLE","$log_vars",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_ARRAY","array",264],"(",["T_WHITESPACE","\n        ",264],["T_CONSTANT_ENCAPSED_STRING","'%uri'",265],["T_WHITESPACE"," ",265],["T_DOUBLE_ARROW","=>",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","getURI",265],"(",")",",",["T_WHITESPACE","\n        ",265],["T_CONSTANT_ENCAPSED_STRING","'%line'",266],["T_WHITESPACE"," ",266],["T_DOUBLE_ARROW","=>",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","_line_number",266],",",["T_WHITESPACE","\n      ",266],")",";",["T_WHITESPACE","\n\n      ",267],["T_COMMENT","\/\/ Trim away the linefeed. \\\\n might appear at the end of the string if\n",269],["T_WHITESPACE","      ",270],["T_COMMENT","\/\/ another line continuing the same string follows. We can remove that.\n",270],["T_WHITESPACE","      ",271],["T_VARIABLE","$line",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_STRING","trim",271],"(",["T_STRING","strtr",271],"(",["T_VARIABLE","$line",271],",",["T_WHITESPACE"," ",271],["T_ARRAY","array",271],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\\\\\n\"",271],["T_WHITESPACE"," ",271],["T_DOUBLE_ARROW","=>",271],["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","\"\"",271],")",")",")",";",["T_WHITESPACE","\n\n      ",271],["T_IF","if",273],["T_WHITESPACE"," ",273],"(","!",["T_STRING","strncmp",273],"(",["T_CONSTANT_ENCAPSED_STRING","'#'",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$line",273],",",["T_WHITESPACE"," ",273],["T_LNUMBER","1",273],")",")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n        ",273],["T_COMMENT","\/\/ Lines starting with '#' are comments.\n",274],["T_WHITESPACE","\n        ",275],["T_IF","if",276],["T_WHITESPACE"," ",276],"(",["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","_context",276],["T_WHITESPACE"," ",276],["T_IS_EQUAL","==",276],["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'COMMENT'",276],")",["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n          ",276],["T_COMMENT","\/\/ Already in comment context, add to current comment.\n",277],["T_WHITESPACE","          ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","_current_item",278],"[",["T_CONSTANT_ENCAPSED_STRING","'#'",278],"]","[","]",["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_STRING","substr",278],"(",["T_VARIABLE","$line",278],",",["T_WHITESPACE"," ",278],["T_LNUMBER","1",278],")",";",["T_WHITESPACE","\n        ",278],"}",["T_WHITESPACE","\n        ",279],["T_ELSEIF","elseif",280],["T_WHITESPACE"," ",280],"(","(",["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","_context",280],["T_WHITESPACE"," ",280],["T_IS_EQUAL","==",280],["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'MSGSTR'",280],")",["T_WHITESPACE"," ",280],["T_BOOLEAN_OR","||",280],["T_WHITESPACE"," ",280],"(",["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","_context",280],["T_WHITESPACE"," ",280],["T_IS_EQUAL","==",280],["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'MSGSTR_ARR'",280],")",")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n          ",280],["T_COMMENT","\/\/ We are currently in string context, save current item.\n",281],["T_WHITESPACE","          ",282],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","setItemFromArray",282],"(",["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","_current_item",282],")",";",["T_WHITESPACE","\n\n          ",282],["T_COMMENT","\/\/ Start a new entry for the comment.\n",284],["T_WHITESPACE","          ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","_current_item",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_ARRAY","array",285],"(",")",";",["T_WHITESPACE","\n          ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","_current_item",286],"[",["T_CONSTANT_ENCAPSED_STRING","'#'",286],"]","[","]",["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_STRING","substr",286],"(",["T_VARIABLE","$line",286],",",["T_WHITESPACE"," ",286],["T_LNUMBER","1",286],")",";",["T_WHITESPACE","\n\n          ",286],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","_context",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","'COMMENT'",288],";",["T_WHITESPACE","\n          ",288],["T_RETURN","return",289],";",["T_WHITESPACE","\n        ",289],"}",["T_WHITESPACE","\n        ",290],["T_ELSE","else",291],["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n          ",291],["T_COMMENT","\/\/ A comment following any other context is a syntax error.\n",292],["T_WHITESPACE","          ",293],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","_errors",293],"[","]",["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_STRING","SafeMarkup",293],["T_DOUBLE_COLON","::",293],["T_STRING","format",293],"(",["T_CONSTANT_ENCAPSED_STRING","'The translation stream %uri contains an error: \"msgstr\" was expected but not found on line %line.'",293],",",["T_WHITESPACE"," ",293],["T_VARIABLE","$log_vars",293],")",";",["T_WHITESPACE","\n          ",293],["T_RETURN","return",294],["T_WHITESPACE"," ",294],["T_STRING","FALSE",294],";",["T_WHITESPACE","\n        ",294],"}",["T_WHITESPACE","\n        ",295],["T_RETURN","return",296],";",["T_WHITESPACE","\n      ",296],"}",["T_WHITESPACE","\n      ",297],["T_ELSEIF","elseif",298],["T_WHITESPACE"," ",298],"(","!",["T_STRING","strncmp",298],"(",["T_CONSTANT_ENCAPSED_STRING","'msgid_plural'",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$line",298],",",["T_WHITESPACE"," ",298],["T_LNUMBER","12",298],")",")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n        ",298],["T_COMMENT","\/\/ A plural form for the current source string.\n",299],["T_WHITESPACE","\n        ",300],["T_IF","if",301],["T_WHITESPACE"," ",301],"(",["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","_context",301],["T_WHITESPACE"," ",301],["T_IS_NOT_EQUAL","!=",301],["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'MSGID'",301],")",["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n          ",301],["T_COMMENT","\/\/ A plural form can only be added to an msgid directly.\n",302],["T_WHITESPACE","          ",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","_errors",303],"[","]",["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_STRING","SafeMarkup",303],["T_DOUBLE_COLON","::",303],["T_STRING","format",303],"(",["T_CONSTANT_ENCAPSED_STRING","'The translation stream %uri contains an error: \"msgid_plural\" was expected but not found on line %line.'",303],",",["T_WHITESPACE"," ",303],["T_VARIABLE","$log_vars",303],")",";",["T_WHITESPACE","\n          ",303],["T_RETURN","return",304],["T_WHITESPACE"," ",304],["T_STRING","FALSE",304],";",["T_WHITESPACE","\n        ",304],"}",["T_WHITESPACE","\n\n        ",305],["T_COMMENT","\/\/ Remove 'msgid_plural' and trim away whitespace.\n",307],["T_WHITESPACE","        ",308],["T_VARIABLE","$line",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_STRING","trim",308],"(",["T_STRING","substr",308],"(",["T_VARIABLE","$line",308],",",["T_WHITESPACE"," ",308],["T_LNUMBER","12",308],")",")",";",["T_WHITESPACE","\n\n        ",308],["T_COMMENT","\/\/ Only the plural source string is left, parse it.\n",310],["T_WHITESPACE","        ",311],["T_VARIABLE","$quoted",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","parseQuoted",311],"(",["T_VARIABLE","$line",311],")",";",["T_WHITESPACE","\n        ",311],["T_IF","if",312],["T_WHITESPACE"," ",312],"(",["T_VARIABLE","$quoted",312],["T_WHITESPACE"," ",312],["T_IS_IDENTICAL","===",312],["T_WHITESPACE"," ",312],["T_STRING","FALSE",312],")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n          ",312],["T_COMMENT","\/\/ The plural form must be wrapped in quotes.\n",313],["T_WHITESPACE","          ",314],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","_errors",314],"[","]",["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_STRING","SafeMarkup",314],["T_DOUBLE_COLON","::",314],["T_STRING","format",314],"(",["T_CONSTANT_ENCAPSED_STRING","'The translation stream %uri contains a syntax error on line %line.'",314],",",["T_WHITESPACE"," ",314],["T_VARIABLE","$log_vars",314],")",";",["T_WHITESPACE","\n          ",314],["T_RETURN","return",315],["T_WHITESPACE"," ",315],["T_STRING","FALSE",315],";",["T_WHITESPACE","\n        ",315],"}",["T_WHITESPACE","\n\n        ",316],["T_COMMENT","\/\/ Append the plural source to the current entry.\n",318],["T_WHITESPACE","        ",319],["T_IF","if",319],["T_WHITESPACE"," ",319],"(",["T_STRING","is_string",319],"(",["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","_current_item",319],"[",["T_CONSTANT_ENCAPSED_STRING","'msgid'",319],"]",")",")",["T_WHITESPACE"," ",319],"{",["T_WHITESPACE","\n          ",319],["T_COMMENT","\/\/ The first value was stored as string. Now we know the context is\n",320],["T_WHITESPACE","          ",321],["T_COMMENT","\/\/ plural, it is converted to array.\n",321],["T_WHITESPACE","          ",322],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","_current_item",322],"[",["T_CONSTANT_ENCAPSED_STRING","'msgid'",322],"]",["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_ARRAY","array",322],"(",["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","_current_item",322],"[",["T_CONSTANT_ENCAPSED_STRING","'msgid'",322],"]",")",";",["T_WHITESPACE","\n        ",322],"}",["T_WHITESPACE","\n        ",323],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","_current_item",324],"[",["T_CONSTANT_ENCAPSED_STRING","'msgid'",324],"]","[","]",["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_VARIABLE","$quoted",324],";",["T_WHITESPACE","\n\n        ",324],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","_context",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_CONSTANT_ENCAPSED_STRING","'MSGID_PLURAL'",326],";",["T_WHITESPACE","\n        ",326],["T_RETURN","return",327],";",["T_WHITESPACE","\n      ",327],"}",["T_WHITESPACE","\n      ",328],["T_ELSEIF","elseif",329],["T_WHITESPACE"," ",329],"(","!",["T_STRING","strncmp",329],"(",["T_CONSTANT_ENCAPSED_STRING","'msgid'",329],",",["T_WHITESPACE"," ",329],["T_VARIABLE","$line",329],",",["T_WHITESPACE"," ",329],["T_LNUMBER","5",329],")",")",["T_WHITESPACE"," ",329],"{",["T_WHITESPACE","\n        ",329],["T_COMMENT","\/\/ Starting a new message.\n",330],["T_WHITESPACE","\n        ",331],["T_IF","if",332],["T_WHITESPACE"," ",332],"(","(",["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","_context",332],["T_WHITESPACE"," ",332],["T_IS_EQUAL","==",332],["T_WHITESPACE"," ",332],["T_CONSTANT_ENCAPSED_STRING","'MSGSTR'",332],")",["T_WHITESPACE"," ",332],["T_BOOLEAN_OR","||",332],["T_WHITESPACE"," ",332],"(",["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","_context",332],["T_WHITESPACE"," ",332],["T_IS_EQUAL","==",332],["T_WHITESPACE"," ",332],["T_CONSTANT_ENCAPSED_STRING","'MSGSTR_ARR'",332],")",")",["T_WHITESPACE"," ",332],"{",["T_WHITESPACE","\n          ",332],["T_COMMENT","\/\/ We are currently in string context, save current item.\n",333],["T_WHITESPACE","          ",334],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","setItemFromArray",334],"(",["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","_current_item",334],")",";",["T_WHITESPACE","\n\n          ",334],["T_COMMENT","\/\/ Start a new context for the msgid.\n",336],["T_WHITESPACE","          ",337],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","_current_item",337],["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_ARRAY","array",337],"(",")",";",["T_WHITESPACE","\n        ",337],"}",["T_WHITESPACE","\n        ",338],["T_ELSEIF","elseif",339],["T_WHITESPACE"," ",339],"(",["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","_context",339],["T_WHITESPACE"," ",339],["T_IS_EQUAL","==",339],["T_WHITESPACE"," ",339],["T_CONSTANT_ENCAPSED_STRING","'MSGID'",339],")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n          ",339],["T_COMMENT","\/\/ We are currently already in the context, meaning we passed an id with no data.\n",340],["T_WHITESPACE","          ",341],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","_errors",341],"[","]",["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_STRING","SafeMarkup",341],["T_DOUBLE_COLON","::",341],["T_STRING","format",341],"(",["T_CONSTANT_ENCAPSED_STRING","'The translation stream %uri contains an error: \"msgid\" is unexpected on line %line.'",341],",",["T_WHITESPACE"," ",341],["T_VARIABLE","$log_vars",341],")",";",["T_WHITESPACE","\n          ",341],["T_RETURN","return",342],["T_WHITESPACE"," ",342],["T_STRING","FALSE",342],";",["T_WHITESPACE","\n        ",342],"}",["T_WHITESPACE","\n\n        ",343],["T_COMMENT","\/\/ Remove 'msgid' and trim away whitespace.\n",345],["T_WHITESPACE","        ",346],["T_VARIABLE","$line",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_STRING","trim",346],"(",["T_STRING","substr",346],"(",["T_VARIABLE","$line",346],",",["T_WHITESPACE"," ",346],["T_LNUMBER","5",346],")",")",";",["T_WHITESPACE","\n\n        ",346],["T_COMMENT","\/\/ Only the message id string is left, parse it.\n",348],["T_WHITESPACE","        ",349],["T_VARIABLE","$quoted",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","parseQuoted",349],"(",["T_VARIABLE","$line",349],")",";",["T_WHITESPACE","\n        ",349],["T_IF","if",350],["T_WHITESPACE"," ",350],"(",["T_VARIABLE","$quoted",350],["T_WHITESPACE"," ",350],["T_IS_IDENTICAL","===",350],["T_WHITESPACE"," ",350],["T_STRING","FALSE",350],")",["T_WHITESPACE"," ",350],"{",["T_WHITESPACE","\n          ",350],["T_COMMENT","\/\/ The message id must be wrapped in quotes.\n",351],["T_WHITESPACE","          ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","_errors",352],"[","]",["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_STRING","SafeMarkup",352],["T_DOUBLE_COLON","::",352],["T_STRING","format",352],"(",["T_CONSTANT_ENCAPSED_STRING","'The translation stream %uri contains an error: invalid format for \"msgid\" on line %line.'",352],",",["T_WHITESPACE"," ",352],["T_VARIABLE","$log_vars",352],",",["T_WHITESPACE"," ",352],["T_VARIABLE","$log_vars",352],")",";",["T_WHITESPACE","\n          ",352],["T_RETURN","return",353],["T_WHITESPACE"," ",353],["T_STRING","FALSE",353],";",["T_WHITESPACE","\n        ",353],"}",["T_WHITESPACE","\n\n        ",354],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","_current_item",356],"[",["T_CONSTANT_ENCAPSED_STRING","'msgid'",356],"]",["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_VARIABLE","$quoted",356],";",["T_WHITESPACE","\n        ",356],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","_context",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_CONSTANT_ENCAPSED_STRING","'MSGID'",357],";",["T_WHITESPACE","\n        ",357],["T_RETURN","return",358],";",["T_WHITESPACE","\n      ",358],"}",["T_WHITESPACE","\n      ",359],["T_ELSEIF","elseif",360],["T_WHITESPACE"," ",360],"(","!",["T_STRING","strncmp",360],"(",["T_CONSTANT_ENCAPSED_STRING","'msgctxt'",360],",",["T_WHITESPACE"," ",360],["T_VARIABLE","$line",360],",",["T_WHITESPACE"," ",360],["T_LNUMBER","7",360],")",")",["T_WHITESPACE"," ",360],"{",["T_WHITESPACE","\n        ",360],["T_COMMENT","\/\/ Starting a new context.\n",361],["T_WHITESPACE","\n        ",362],["T_IF","if",363],["T_WHITESPACE"," ",363],"(","(",["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","_context",363],["T_WHITESPACE"," ",363],["T_IS_EQUAL","==",363],["T_WHITESPACE"," ",363],["T_CONSTANT_ENCAPSED_STRING","'MSGSTR'",363],")",["T_WHITESPACE"," ",363],["T_BOOLEAN_OR","||",363],["T_WHITESPACE"," ",363],"(",["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","_context",363],["T_WHITESPACE"," ",363],["T_IS_EQUAL","==",363],["T_WHITESPACE"," ",363],["T_CONSTANT_ENCAPSED_STRING","'MSGSTR_ARR'",363],")",")",["T_WHITESPACE"," ",363],"{",["T_WHITESPACE","\n          ",363],["T_COMMENT","\/\/ We are currently in string context, save current item.\n",364],["T_WHITESPACE","          ",365],["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","setItemFromArray",365],"(",["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","_current_item",365],")",";",["T_WHITESPACE","\n          ",365],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","_current_item",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_ARRAY","array",366],"(",")",";",["T_WHITESPACE","\n        ",366],"}",["T_WHITESPACE","\n        ",367],["T_ELSEIF","elseif",368],["T_WHITESPACE"," ",368],"(","!",["T_EMPTY","empty",368],"(",["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","_current_item",368],"[",["T_CONSTANT_ENCAPSED_STRING","'msgctxt'",368],"]",")",")",["T_WHITESPACE"," ",368],"{",["T_WHITESPACE","\n          ",368],["T_COMMENT","\/\/ A context cannot apply to another context.\n",369],["T_WHITESPACE","          ",370],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","_errors",370],"[","]",["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],["T_STRING","SafeMarkup",370],["T_DOUBLE_COLON","::",370],["T_STRING","format",370],"(",["T_CONSTANT_ENCAPSED_STRING","'The translation stream %uri contains an error: \"msgctxt\" is unexpected on line %line.'",370],",",["T_WHITESPACE"," ",370],["T_VARIABLE","$log_vars",370],")",";",["T_WHITESPACE","\n          ",370],["T_RETURN","return",371],["T_WHITESPACE"," ",371],["T_STRING","FALSE",371],";",["T_WHITESPACE","\n        ",371],"}",["T_WHITESPACE","\n\n        ",372],["T_COMMENT","\/\/ Remove 'msgctxt' and trim away whitespaces.\n",374],["T_WHITESPACE","        ",375],["T_VARIABLE","$line",375],["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_STRING","trim",375],"(",["T_STRING","substr",375],"(",["T_VARIABLE","$line",375],",",["T_WHITESPACE"," ",375],["T_LNUMBER","7",375],")",")",";",["T_WHITESPACE","\n\n        ",375],["T_COMMENT","\/\/ Only the msgctxt string is left, parse it.\n",377],["T_WHITESPACE","        ",378],["T_VARIABLE","$quoted",378],["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","parseQuoted",378],"(",["T_VARIABLE","$line",378],")",";",["T_WHITESPACE","\n        ",378],["T_IF","if",379],["T_WHITESPACE"," ",379],"(",["T_VARIABLE","$quoted",379],["T_WHITESPACE"," ",379],["T_IS_IDENTICAL","===",379],["T_WHITESPACE"," ",379],["T_STRING","FALSE",379],")",["T_WHITESPACE"," ",379],"{",["T_WHITESPACE","\n          ",379],["T_COMMENT","\/\/ The context string must be quoted.\n",380],["T_WHITESPACE","          ",381],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","_errors",381],"[","]",["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],["T_STRING","SafeMarkup",381],["T_DOUBLE_COLON","::",381],["T_STRING","format",381],"(",["T_CONSTANT_ENCAPSED_STRING","'The translation stream %uri contains an error: invalid format for \"msgctxt\" on line %line.'",381],",",["T_WHITESPACE"," ",381],["T_VARIABLE","$log_vars",381],")",";",["T_WHITESPACE","\n          ",381],["T_RETURN","return",382],["T_WHITESPACE"," ",382],["T_STRING","FALSE",382],";",["T_WHITESPACE","\n        ",382],"}",["T_WHITESPACE","\n\n        ",383],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","_current_item",385],"[",["T_CONSTANT_ENCAPSED_STRING","'msgctxt'",385],"]",["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_VARIABLE","$quoted",385],";",["T_WHITESPACE","\n\n        ",385],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","_context",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","'MSGCTXT'",387],";",["T_WHITESPACE","\n        ",387],["T_RETURN","return",388],";",["T_WHITESPACE","\n      ",388],"}",["T_WHITESPACE","\n      ",389],["T_ELSEIF","elseif",390],["T_WHITESPACE"," ",390],"(","!",["T_STRING","strncmp",390],"(",["T_CONSTANT_ENCAPSED_STRING","'msgstr['",390],",",["T_WHITESPACE"," ",390],["T_VARIABLE","$line",390],",",["T_WHITESPACE"," ",390],["T_LNUMBER","7",390],")",")",["T_WHITESPACE"," ",390],"{",["T_WHITESPACE","\n        ",390],["T_COMMENT","\/\/ A message string for a specific plurality.\n",391],["T_WHITESPACE","\n        ",392],["T_IF","if",393],["T_WHITESPACE"," ",393],"(","(",["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","_context",393],["T_WHITESPACE"," ",393],["T_IS_NOT_EQUAL","!=",393],["T_WHITESPACE"," ",393],["T_CONSTANT_ENCAPSED_STRING","'MSGID'",393],")",["T_WHITESPACE"," ",393],["T_BOOLEAN_AND","&&",393],["T_WHITESPACE","\n            ",393],"(",["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","_context",394],["T_WHITESPACE"," ",394],["T_IS_NOT_EQUAL","!=",394],["T_WHITESPACE"," ",394],["T_CONSTANT_ENCAPSED_STRING","'MSGCTXT'",394],")",["T_WHITESPACE"," ",394],["T_BOOLEAN_AND","&&",394],["T_WHITESPACE","\n            ",394],"(",["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","_context",395],["T_WHITESPACE"," ",395],["T_IS_NOT_EQUAL","!=",395],["T_WHITESPACE"," ",395],["T_CONSTANT_ENCAPSED_STRING","'MSGID_PLURAL'",395],")",["T_WHITESPACE"," ",395],["T_BOOLEAN_AND","&&",395],["T_WHITESPACE","\n            ",395],"(",["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","_context",396],["T_WHITESPACE"," ",396],["T_IS_NOT_EQUAL","!=",396],["T_WHITESPACE"," ",396],["T_CONSTANT_ENCAPSED_STRING","'MSGSTR_ARR'",396],")",")",["T_WHITESPACE"," ",396],"{",["T_WHITESPACE","\n          ",396],["T_COMMENT","\/\/ Plural message strings must come after msgid, msgxtxt,\n",397],["T_WHITESPACE","          ",398],["T_COMMENT","\/\/ msgid_plural, or other msgstr[] entries.\n",398],["T_WHITESPACE","          ",399],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","_errors",399],"[","]",["T_WHITESPACE"," ",399],"=",["T_WHITESPACE"," ",399],["T_STRING","SafeMarkup",399],["T_DOUBLE_COLON","::",399],["T_STRING","format",399],"(",["T_CONSTANT_ENCAPSED_STRING","'The translation stream %uri contains an error: \"msgstr[]\" is unexpected on line %line.'",399],",",["T_WHITESPACE"," ",399],["T_VARIABLE","$log_vars",399],")",";",["T_WHITESPACE","\n          ",399],["T_RETURN","return",400],["T_WHITESPACE"," ",400],["T_STRING","FALSE",400],";",["T_WHITESPACE","\n        ",400],"}",["T_WHITESPACE","\n\n        ",401],["T_COMMENT","\/\/ Ensure the plurality is terminated.\n",403],["T_WHITESPACE","        ",404],["T_IF","if",404],["T_WHITESPACE"," ",404],"(",["T_STRING","strpos",404],"(",["T_VARIABLE","$line",404],",",["T_WHITESPACE"," ",404],["T_CONSTANT_ENCAPSED_STRING","']'",404],")",["T_WHITESPACE"," ",404],["T_IS_IDENTICAL","===",404],["T_WHITESPACE"," ",404],["T_STRING","FALSE",404],")",["T_WHITESPACE"," ",404],"{",["T_WHITESPACE","\n          ",404],["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","_errors",405],"[","]",["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_STRING","SafeMarkup",405],["T_DOUBLE_COLON","::",405],["T_STRING","format",405],"(",["T_CONSTANT_ENCAPSED_STRING","'The translation stream %uri contains an error: invalid format for \"msgstr[]\" on line %line.'",405],",",["T_WHITESPACE"," ",405],["T_VARIABLE","$log_vars",405],")",";",["T_WHITESPACE","\n          ",405],["T_RETURN","return",406],["T_WHITESPACE"," ",406],["T_STRING","FALSE",406],";",["T_WHITESPACE","\n        ",406],"}",["T_WHITESPACE","\n\n        ",407],["T_COMMENT","\/\/ Extract the plurality.\n",409],["T_WHITESPACE","        ",410],["T_VARIABLE","$frombracket",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_STRING","strstr",410],"(",["T_VARIABLE","$line",410],",",["T_WHITESPACE"," ",410],["T_CONSTANT_ENCAPSED_STRING","'['",410],")",";",["T_WHITESPACE","\n        ",410],["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","_current_plural_index",411],["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_STRING","substr",411],"(",["T_VARIABLE","$frombracket",411],",",["T_WHITESPACE"," ",411],["T_LNUMBER","1",411],",",["T_WHITESPACE"," ",411],["T_STRING","strpos",411],"(",["T_VARIABLE","$frombracket",411],",",["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","']'",411],")",["T_WHITESPACE"," ",411],"-",["T_WHITESPACE"," ",411],["T_LNUMBER","1",411],")",";",["T_WHITESPACE","\n\n        ",411],["T_COMMENT","\/\/ Skip to the next whitespace and trim away any further whitespace,\n",413],["T_WHITESPACE","        ",414],["T_COMMENT","\/\/ bringing $line to the message text only.\n",414],["T_WHITESPACE","        ",415],["T_VARIABLE","$line",415],["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_STRING","trim",415],"(",["T_STRING","strstr",415],"(",["T_VARIABLE","$line",415],",",["T_WHITESPACE"," ",415],["T_CONSTANT_ENCAPSED_STRING","\" \"",415],")",")",";",["T_WHITESPACE","\n\n        ",415],["T_VARIABLE","$quoted",417],["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","parseQuoted",417],"(",["T_VARIABLE","$line",417],")",";",["T_WHITESPACE","\n        ",417],["T_IF","if",418],["T_WHITESPACE"," ",418],"(",["T_VARIABLE","$quoted",418],["T_WHITESPACE"," ",418],["T_IS_IDENTICAL","===",418],["T_WHITESPACE"," ",418],["T_STRING","FALSE",418],")",["T_WHITESPACE"," ",418],"{",["T_WHITESPACE","\n          ",418],["T_COMMENT","\/\/ The string must be quoted.\n",419],["T_WHITESPACE","          ",420],["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","_errors",420],"[","]",["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_STRING","SafeMarkup",420],["T_DOUBLE_COLON","::",420],["T_STRING","format",420],"(",["T_CONSTANT_ENCAPSED_STRING","'The translation stream %uri contains an error: invalid format for \"msgstr[]\" on line %line.'",420],",",["T_WHITESPACE"," ",420],["T_VARIABLE","$log_vars",420],")",";",["T_WHITESPACE","\n          ",420],["T_RETURN","return",421],["T_WHITESPACE"," ",421],["T_STRING","FALSE",421],";",["T_WHITESPACE","\n        ",421],"}",["T_WHITESPACE","\n        ",422],["T_IF","if",423],["T_WHITESPACE"," ",423],"(","!",["T_ISSET","isset",423],"(",["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","_current_item",423],"[",["T_CONSTANT_ENCAPSED_STRING","'msgstr'",423],"]",")",["T_WHITESPACE"," ",423],["T_BOOLEAN_OR","||",423],["T_WHITESPACE"," ",423],"!",["T_STRING","is_array",423],"(",["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","_current_item",423],"[",["T_CONSTANT_ENCAPSED_STRING","'msgstr'",423],"]",")",")",["T_WHITESPACE"," ",423],"{",["T_WHITESPACE","\n          ",423],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","_current_item",424],"[",["T_CONSTANT_ENCAPSED_STRING","'msgstr'",424],"]",["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_ARRAY","array",424],"(",")",";",["T_WHITESPACE","\n        ",424],"}",["T_WHITESPACE","\n\n        ",425],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","_current_item",427],"[",["T_CONSTANT_ENCAPSED_STRING","'msgstr'",427],"]","[",["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","_current_plural_index",427],"]",["T_WHITESPACE"," ",427],"=",["T_WHITESPACE"," ",427],["T_VARIABLE","$quoted",427],";",["T_WHITESPACE","\n\n        ",427],["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","_context",429],["T_WHITESPACE"," ",429],"=",["T_WHITESPACE"," ",429],["T_CONSTANT_ENCAPSED_STRING","'MSGSTR_ARR'",429],";",["T_WHITESPACE","\n        ",429],["T_RETURN","return",430],";",["T_WHITESPACE","\n      ",430],"}",["T_WHITESPACE","\n      ",431],["T_ELSEIF","elseif",432],["T_WHITESPACE"," ",432],"(","!",["T_STRING","strncmp",432],"(",["T_CONSTANT_ENCAPSED_STRING","\"msgstr\"",432],",",["T_WHITESPACE"," ",432],["T_VARIABLE","$line",432],",",["T_WHITESPACE"," ",432],["T_LNUMBER","6",432],")",")",["T_WHITESPACE"," ",432],"{",["T_WHITESPACE","\n        ",432],["T_COMMENT","\/\/ A string pair for an msgid (with optional context).\n",433],["T_WHITESPACE","\n        ",434],["T_IF","if",435],["T_WHITESPACE"," ",435],"(","(",["T_VARIABLE","$this",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","_context",435],["T_WHITESPACE"," ",435],["T_IS_NOT_EQUAL","!=",435],["T_WHITESPACE"," ",435],["T_CONSTANT_ENCAPSED_STRING","'MSGID'",435],")",["T_WHITESPACE"," ",435],["T_BOOLEAN_AND","&&",435],["T_WHITESPACE"," ",435],"(",["T_VARIABLE","$this",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","_context",435],["T_WHITESPACE"," ",435],["T_IS_NOT_EQUAL","!=",435],["T_WHITESPACE"," ",435],["T_CONSTANT_ENCAPSED_STRING","'MSGCTXT'",435],")",")",["T_WHITESPACE"," ",435],"{",["T_WHITESPACE","\n          ",435],["T_COMMENT","\/\/ Strings are only valid within an id or context scope.\n",436],["T_WHITESPACE","          ",437],["T_VARIABLE","$this",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","_errors",437],"[","]",["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],["T_STRING","SafeMarkup",437],["T_DOUBLE_COLON","::",437],["T_STRING","format",437],"(",["T_CONSTANT_ENCAPSED_STRING","'The translation stream %uri contains an error: \"msgstr\" is unexpected on line %line.'",437],",",["T_WHITESPACE"," ",437],["T_VARIABLE","$log_vars",437],")",";",["T_WHITESPACE","\n          ",437],["T_RETURN","return",438],["T_WHITESPACE"," ",438],["T_STRING","FALSE",438],";",["T_WHITESPACE","\n        ",438],"}",["T_WHITESPACE","\n\n        ",439],["T_COMMENT","\/\/ Remove 'msgstr' and trim away away whitespaces.\n",441],["T_WHITESPACE","        ",442],["T_VARIABLE","$line",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_STRING","trim",442],"(",["T_STRING","substr",442],"(",["T_VARIABLE","$line",442],",",["T_WHITESPACE"," ",442],["T_LNUMBER","6",442],")",")",";",["T_WHITESPACE","\n\n        ",442],["T_COMMENT","\/\/ Only the msgstr string is left, parse it.\n",444],["T_WHITESPACE","        ",445],["T_VARIABLE","$quoted",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","parseQuoted",445],"(",["T_VARIABLE","$line",445],")",";",["T_WHITESPACE","\n        ",445],["T_IF","if",446],["T_WHITESPACE"," ",446],"(",["T_VARIABLE","$quoted",446],["T_WHITESPACE"," ",446],["T_IS_IDENTICAL","===",446],["T_WHITESPACE"," ",446],["T_STRING","FALSE",446],")",["T_WHITESPACE"," ",446],"{",["T_WHITESPACE","\n          ",446],["T_COMMENT","\/\/ The string must be quoted.\n",447],["T_WHITESPACE","          ",448],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","_errors",448],"[","]",["T_WHITESPACE"," ",448],"=",["T_WHITESPACE"," ",448],["T_STRING","SafeMarkup",448],["T_DOUBLE_COLON","::",448],["T_STRING","format",448],"(",["T_CONSTANT_ENCAPSED_STRING","'The translation stream %uri contains an error: invalid format for \"msgstr\" on line %line.'",448],",",["T_WHITESPACE"," ",448],["T_VARIABLE","$log_vars",448],")",";",["T_WHITESPACE","\n          ",448],["T_RETURN","return",449],["T_WHITESPACE"," ",449],["T_STRING","FALSE",449],";",["T_WHITESPACE","\n        ",449],"}",["T_WHITESPACE","\n\n        ",450],["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","_current_item",452],"[",["T_CONSTANT_ENCAPSED_STRING","'msgstr'",452],"]",["T_WHITESPACE"," ",452],"=",["T_WHITESPACE"," ",452],["T_VARIABLE","$quoted",452],";",["T_WHITESPACE","\n\n        ",452],["T_VARIABLE","$this",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","_context",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_CONSTANT_ENCAPSED_STRING","'MSGSTR'",454],";",["T_WHITESPACE","\n        ",454],["T_RETURN","return",455],";",["T_WHITESPACE","\n      ",455],"}",["T_WHITESPACE","\n      ",456],["T_ELSEIF","elseif",457],["T_WHITESPACE"," ",457],"(",["T_VARIABLE","$line",457],["T_WHITESPACE"," ",457],["T_IS_NOT_EQUAL","!=",457],["T_WHITESPACE"," ",457],["T_CONSTANT_ENCAPSED_STRING","''",457],")",["T_WHITESPACE"," ",457],"{",["T_WHITESPACE","\n        ",457],["T_COMMENT","\/\/ Anything that is not a token may be a continuation of a previous token.\n",458],["T_WHITESPACE","\n        ",459],["T_VARIABLE","$quoted",460],["T_WHITESPACE"," ",460],"=",["T_WHITESPACE"," ",460],["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","parseQuoted",460],"(",["T_VARIABLE","$line",460],")",";",["T_WHITESPACE","\n        ",460],["T_IF","if",461],["T_WHITESPACE"," ",461],"(",["T_VARIABLE","$quoted",461],["T_WHITESPACE"," ",461],["T_IS_IDENTICAL","===",461],["T_WHITESPACE"," ",461],["T_STRING","FALSE",461],")",["T_WHITESPACE"," ",461],"{",["T_WHITESPACE","\n          ",461],["T_COMMENT","\/\/ This string must be quoted.\n",462],["T_WHITESPACE","          ",463],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","_errors",463],"[","]",["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],["T_STRING","SafeMarkup",463],["T_DOUBLE_COLON","::",463],["T_STRING","format",463],"(",["T_CONSTANT_ENCAPSED_STRING","'The translation stream %uri contains an error: string continuation expected on line %line.'",463],",",["T_WHITESPACE"," ",463],["T_VARIABLE","$log_vars",463],")",";",["T_WHITESPACE","\n          ",463],["T_RETURN","return",464],["T_WHITESPACE"," ",464],["T_STRING","FALSE",464],";",["T_WHITESPACE","\n        ",464],"}",["T_WHITESPACE","\n\n        ",465],["T_COMMENT","\/\/ Append the string to the current item.\n",467],["T_WHITESPACE","        ",468],["T_IF","if",468],["T_WHITESPACE"," ",468],"(","(",["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","_context",468],["T_WHITESPACE"," ",468],["T_IS_EQUAL","==",468],["T_WHITESPACE"," ",468],["T_CONSTANT_ENCAPSED_STRING","'MSGID'",468],")",["T_WHITESPACE"," ",468],["T_BOOLEAN_OR","||",468],["T_WHITESPACE"," ",468],"(",["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","_context",468],["T_WHITESPACE"," ",468],["T_IS_EQUAL","==",468],["T_WHITESPACE"," ",468],["T_CONSTANT_ENCAPSED_STRING","'MSGID_PLURAL'",468],")",")",["T_WHITESPACE"," ",468],"{",["T_WHITESPACE","\n          ",468],["T_IF","if",469],["T_WHITESPACE"," ",469],"(",["T_STRING","is_array",469],"(",["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","_current_item",469],"[",["T_CONSTANT_ENCAPSED_STRING","'msgid'",469],"]",")",")",["T_WHITESPACE"," ",469],"{",["T_WHITESPACE","\n            ",469],["T_COMMENT","\/\/ Add string to last array element for plural sources.\n",470],["T_WHITESPACE","            ",471],["T_VARIABLE","$last_index",471],["T_WHITESPACE"," ",471],"=",["T_WHITESPACE"," ",471],["T_STRING","count",471],"(",["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","_current_item",471],"[",["T_CONSTANT_ENCAPSED_STRING","'msgid'",471],"]",")",["T_WHITESPACE"," ",471],"-",["T_WHITESPACE"," ",471],["T_LNUMBER","1",471],";",["T_WHITESPACE","\n            ",471],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","_current_item",472],"[",["T_CONSTANT_ENCAPSED_STRING","'msgid'",472],"]","[",["T_VARIABLE","$last_index",472],"]",["T_WHITESPACE"," ",472],["T_CONCAT_EQUAL",".=",472],["T_WHITESPACE"," ",472],["T_VARIABLE","$quoted",472],";",["T_WHITESPACE","\n          ",472],"}",["T_WHITESPACE","\n          ",473],["T_ELSE","else",474],["T_WHITESPACE"," ",474],"{",["T_WHITESPACE","\n            ",474],["T_COMMENT","\/\/ Singular source, just append the string.\n",475],["T_WHITESPACE","            ",476],["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","_current_item",476],"[",["T_CONSTANT_ENCAPSED_STRING","'msgid'",476],"]",["T_WHITESPACE"," ",476],["T_CONCAT_EQUAL",".=",476],["T_WHITESPACE"," ",476],["T_VARIABLE","$quoted",476],";",["T_WHITESPACE","\n          ",476],"}",["T_WHITESPACE","\n        ",477],"}",["T_WHITESPACE","\n        ",478],["T_ELSEIF","elseif",479],["T_WHITESPACE"," ",479],"(",["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","_context",479],["T_WHITESPACE"," ",479],["T_IS_EQUAL","==",479],["T_WHITESPACE"," ",479],["T_CONSTANT_ENCAPSED_STRING","'MSGCTXT'",479],")",["T_WHITESPACE"," ",479],"{",["T_WHITESPACE","\n          ",479],["T_COMMENT","\/\/ Multiline context name.\n",480],["T_WHITESPACE","          ",481],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","_current_item",481],"[",["T_CONSTANT_ENCAPSED_STRING","'msgctxt'",481],"]",["T_WHITESPACE"," ",481],["T_CONCAT_EQUAL",".=",481],["T_WHITESPACE"," ",481],["T_VARIABLE","$quoted",481],";",["T_WHITESPACE","\n        ",481],"}",["T_WHITESPACE","\n        ",482],["T_ELSEIF","elseif",483],["T_WHITESPACE"," ",483],"(",["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","_context",483],["T_WHITESPACE"," ",483],["T_IS_EQUAL","==",483],["T_WHITESPACE"," ",483],["T_CONSTANT_ENCAPSED_STRING","'MSGSTR'",483],")",["T_WHITESPACE"," ",483],"{",["T_WHITESPACE","\n          ",483],["T_COMMENT","\/\/ Multiline translation string.\n",484],["T_WHITESPACE","          ",485],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","_current_item",485],"[",["T_CONSTANT_ENCAPSED_STRING","'msgstr'",485],"]",["T_WHITESPACE"," ",485],["T_CONCAT_EQUAL",".=",485],["T_WHITESPACE"," ",485],["T_VARIABLE","$quoted",485],";",["T_WHITESPACE","\n        ",485],"}",["T_WHITESPACE","\n        ",486],["T_ELSEIF","elseif",487],["T_WHITESPACE"," ",487],"(",["T_VARIABLE","$this",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","_context",487],["T_WHITESPACE"," ",487],["T_IS_EQUAL","==",487],["T_WHITESPACE"," ",487],["T_CONSTANT_ENCAPSED_STRING","'MSGSTR_ARR'",487],")",["T_WHITESPACE"," ",487],"{",["T_WHITESPACE","\n          ",487],["T_COMMENT","\/\/ Multiline plural translation string.\n",488],["T_WHITESPACE","          ",489],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","_current_item",489],"[",["T_CONSTANT_ENCAPSED_STRING","'msgstr'",489],"]","[",["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","_current_plural_index",489],"]",["T_WHITESPACE"," ",489],["T_CONCAT_EQUAL",".=",489],["T_WHITESPACE"," ",489],["T_VARIABLE","$quoted",489],";",["T_WHITESPACE","\n        ",489],"}",["T_WHITESPACE","\n        ",490],["T_ELSE","else",491],["T_WHITESPACE"," ",491],"{",["T_WHITESPACE","\n          ",491],["T_COMMENT","\/\/ No valid context to append to.\n",492],["T_WHITESPACE","          ",493],["T_VARIABLE","$this",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","_errors",493],"[","]",["T_WHITESPACE"," ",493],"=",["T_WHITESPACE"," ",493],["T_STRING","SafeMarkup",493],["T_DOUBLE_COLON","::",493],["T_STRING","format",493],"(",["T_CONSTANT_ENCAPSED_STRING","'The translation stream %uri contains an error: unexpected string on line %line.'",493],",",["T_WHITESPACE"," ",493],["T_VARIABLE","$log_vars",493],")",";",["T_WHITESPACE","\n          ",493],["T_RETURN","return",494],["T_WHITESPACE"," ",494],["T_STRING","FALSE",494],";",["T_WHITESPACE","\n        ",494],"}",["T_WHITESPACE","\n        ",495],["T_RETURN","return",496],";",["T_WHITESPACE","\n      ",496],"}",["T_WHITESPACE","\n    ",497],"}",["T_WHITESPACE","\n\n    ",498],["T_COMMENT","\/\/ Empty line read or EOF of PO stream, close out the last entry.\n",500],["T_WHITESPACE","    ",501],["T_IF","if",501],["T_WHITESPACE"," ",501],"(","(",["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","_context",501],["T_WHITESPACE"," ",501],["T_IS_EQUAL","==",501],["T_WHITESPACE"," ",501],["T_CONSTANT_ENCAPSED_STRING","'MSGSTR'",501],")",["T_WHITESPACE"," ",501],["T_BOOLEAN_OR","||",501],["T_WHITESPACE"," ",501],"(",["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","_context",501],["T_WHITESPACE"," ",501],["T_IS_EQUAL","==",501],["T_WHITESPACE"," ",501],["T_CONSTANT_ENCAPSED_STRING","'MSGSTR_ARR'",501],")",")",["T_WHITESPACE"," ",501],"{",["T_WHITESPACE","\n      ",501],["T_VARIABLE","$this",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","setItemFromArray",502],"(",["T_VARIABLE","$this",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","_current_item",502],")",";",["T_WHITESPACE","\n      ",502],["T_VARIABLE","$this",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","_current_item",503],["T_WHITESPACE"," ",503],"=",["T_WHITESPACE"," ",503],["T_ARRAY","array",503],"(",")",";",["T_WHITESPACE","\n    ",503],"}",["T_WHITESPACE","\n    ",504],["T_ELSEIF","elseif",505],["T_WHITESPACE"," ",505],"(",["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","_context",505],["T_WHITESPACE"," ",505],["T_IS_NOT_EQUAL","!=",505],["T_WHITESPACE"," ",505],["T_CONSTANT_ENCAPSED_STRING","'COMMENT'",505],")",["T_WHITESPACE"," ",505],"{",["T_WHITESPACE","\n      ",505],["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","_errors",506],"[","]",["T_WHITESPACE"," ",506],"=",["T_WHITESPACE"," ",506],["T_STRING","SafeMarkup",506],["T_DOUBLE_COLON","::",506],["T_STRING","format",506],"(",["T_CONSTANT_ENCAPSED_STRING","'The translation stream %uri ended unexpectedly at line %line.'",506],",",["T_WHITESPACE"," ",506],["T_VARIABLE","$log_vars",506],")",";",["T_WHITESPACE","\n      ",506],["T_RETURN","return",507],["T_WHITESPACE"," ",507],["T_STRING","FALSE",507],";",["T_WHITESPACE","\n    ",507],"}",["T_WHITESPACE","\n  ",508],"}",["T_WHITESPACE","\n\n  ",509],["T_DOC_COMMENT","\/**\n   * Store the parsed values as a PoItem object.\n   *\/",511],["T_WHITESPACE","\n  ",513],["T_PUBLIC","public",514],["T_WHITESPACE"," ",514],["T_FUNCTION","function",514],["T_WHITESPACE"," ",514],["T_STRING","setItemFromArray",514],"(",["T_VARIABLE","$value",514],")",["T_WHITESPACE"," ",514],"{",["T_WHITESPACE","\n    ",514],["T_VARIABLE","$plural",515],["T_WHITESPACE"," ",515],"=",["T_WHITESPACE"," ",515],["T_STRING","FALSE",515],";",["T_WHITESPACE","\n\n    ",515],["T_VARIABLE","$comments",517],["T_WHITESPACE"," ",517],"=",["T_WHITESPACE"," ",517],["T_CONSTANT_ENCAPSED_STRING","''",517],";",["T_WHITESPACE","\n    ",517],["T_IF","if",518],["T_WHITESPACE"," ",518],"(",["T_ISSET","isset",518],"(",["T_VARIABLE","$value",518],"[",["T_CONSTANT_ENCAPSED_STRING","'#'",518],"]",")",")",["T_WHITESPACE"," ",518],"{",["T_WHITESPACE","\n      ",518],["T_VARIABLE","$comments",519],["T_WHITESPACE"," ",519],"=",["T_WHITESPACE"," ",519],["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","shortenComments",519],"(",["T_VARIABLE","$value",519],"[",["T_CONSTANT_ENCAPSED_STRING","'#'",519],"]",")",";",["T_WHITESPACE","\n    ",519],"}",["T_WHITESPACE","\n\n    ",520],["T_IF","if",522],["T_WHITESPACE"," ",522],"(",["T_STRING","is_array",522],"(",["T_VARIABLE","$value",522],"[",["T_CONSTANT_ENCAPSED_STRING","'msgstr'",522],"]",")",")",["T_WHITESPACE"," ",522],"{",["T_WHITESPACE","\n      ",522],["T_COMMENT","\/\/ Sort plural variants by their form index.\n",523],["T_WHITESPACE","      ",524],["T_STRING","ksort",524],"(",["T_VARIABLE","$value",524],"[",["T_CONSTANT_ENCAPSED_STRING","'msgstr'",524],"]",")",";",["T_WHITESPACE","\n      ",524],["T_VARIABLE","$plural",525],["T_WHITESPACE"," ",525],"=",["T_WHITESPACE"," ",525],["T_STRING","TRUE",525],";",["T_WHITESPACE","\n    ",525],"}",["T_WHITESPACE","\n\n    ",526],["T_VARIABLE","$item",528],["T_WHITESPACE"," ",528],"=",["T_WHITESPACE"," ",528],["T_NEW","new",528],["T_WHITESPACE"," ",528],["T_STRING","PoItem",528],"(",")",";",["T_WHITESPACE","\n    ",528],["T_VARIABLE","$item",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","setContext",529],"(",["T_ISSET","isset",529],"(",["T_VARIABLE","$value",529],"[",["T_CONSTANT_ENCAPSED_STRING","'msgctxt'",529],"]",")",["T_WHITESPACE"," ",529],"?",["T_WHITESPACE"," ",529],["T_VARIABLE","$value",529],"[",["T_CONSTANT_ENCAPSED_STRING","'msgctxt'",529],"]",["T_WHITESPACE"," ",529],":",["T_WHITESPACE"," ",529],["T_CONSTANT_ENCAPSED_STRING","''",529],")",";",["T_WHITESPACE","\n    ",529],["T_VARIABLE","$item",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","setSource",530],"(",["T_VARIABLE","$value",530],"[",["T_CONSTANT_ENCAPSED_STRING","'msgid'",530],"]",")",";",["T_WHITESPACE","\n    ",530],["T_VARIABLE","$item",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","setTranslation",531],"(",["T_VARIABLE","$value",531],"[",["T_CONSTANT_ENCAPSED_STRING","'msgstr'",531],"]",")",";",["T_WHITESPACE","\n    ",531],["T_VARIABLE","$item",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","setPlural",532],"(",["T_VARIABLE","$plural",532],")",";",["T_WHITESPACE","\n    ",532],["T_VARIABLE","$item",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","setComment",533],"(",["T_VARIABLE","$comments",533],")",";",["T_WHITESPACE","\n    ",533],["T_VARIABLE","$item",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","setLangcode",534],"(",["T_VARIABLE","$this",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","_langcode",534],")",";",["T_WHITESPACE","\n\n    ",534],["T_VARIABLE","$this",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","_last_item",536],["T_WHITESPACE"," ",536],"=",["T_WHITESPACE"," ",536],["T_VARIABLE","$item",536],";",["T_WHITESPACE","\n\n    ",536],["T_VARIABLE","$this",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","_context",538],["T_WHITESPACE"," ",538],"=",["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","'COMMENT'",538],";",["T_WHITESPACE","\n  ",538],"}",["T_WHITESPACE","\n\n  ",539],["T_DOC_COMMENT","\/**\n   * Parses a string in quotes.\n   *\n   * @param $string\n   *   A string specified with enclosing quotes.\n   *\n   * @return\n   *   The string parsed from inside the quotes.\n   *\/",541],["T_WHITESPACE","\n  ",549],["T_FUNCTION","function",550],["T_WHITESPACE"," ",550],["T_STRING","parseQuoted",550],"(",["T_VARIABLE","$string",550],")",["T_WHITESPACE"," ",550],"{",["T_WHITESPACE","\n    ",550],["T_IF","if",551],["T_WHITESPACE"," ",551],"(",["T_STRING","substr",551],"(",["T_VARIABLE","$string",551],",",["T_WHITESPACE"," ",551],["T_LNUMBER","0",551],",",["T_WHITESPACE"," ",551],["T_LNUMBER","1",551],")",["T_WHITESPACE"," ",551],["T_IS_NOT_EQUAL","!=",551],["T_WHITESPACE"," ",551],["T_STRING","substr",551],"(",["T_VARIABLE","$string",551],",",["T_WHITESPACE"," ",551],"-",["T_LNUMBER","1",551],",",["T_WHITESPACE"," ",551],["T_LNUMBER","1",551],")",")",["T_WHITESPACE"," ",551],"{",["T_WHITESPACE","\n      ",551],["T_COMMENT","\/\/ Start and end quotes must be the same.\n",552],["T_WHITESPACE","      ",553],["T_RETURN","return",553],["T_WHITESPACE"," ",553],["T_STRING","FALSE",553],";",["T_WHITESPACE","\n    ",553],"}",["T_WHITESPACE","\n    ",554],["T_VARIABLE","$quote",555],["T_WHITESPACE"," ",555],"=",["T_WHITESPACE"," ",555],["T_STRING","substr",555],"(",["T_VARIABLE","$string",555],",",["T_WHITESPACE"," ",555],["T_LNUMBER","0",555],",",["T_WHITESPACE"," ",555],["T_LNUMBER","1",555],")",";",["T_WHITESPACE","\n    ",555],["T_VARIABLE","$string",556],["T_WHITESPACE"," ",556],"=",["T_WHITESPACE"," ",556],["T_STRING","substr",556],"(",["T_VARIABLE","$string",556],",",["T_WHITESPACE"," ",556],["T_LNUMBER","1",556],",",["T_WHITESPACE"," ",556],"-",["T_LNUMBER","1",556],")",";",["T_WHITESPACE","\n    ",556],["T_IF","if",557],["T_WHITESPACE"," ",557],"(",["T_VARIABLE","$quote",557],["T_WHITESPACE"," ",557],["T_IS_EQUAL","==",557],["T_WHITESPACE"," ",557],["T_CONSTANT_ENCAPSED_STRING","'\"'",557],")",["T_WHITESPACE"," ",557],"{",["T_WHITESPACE","\n      ",557],["T_COMMENT","\/\/ Double quotes: strip slashes.\n",558],["T_WHITESPACE","      ",559],["T_RETURN","return",559],["T_WHITESPACE"," ",559],["T_STRING","stripcslashes",559],"(",["T_VARIABLE","$string",559],")",";",["T_WHITESPACE","\n    ",559],"}",["T_WHITESPACE","\n    ",560],["T_ELSEIF","elseif",561],["T_WHITESPACE"," ",561],"(",["T_VARIABLE","$quote",561],["T_WHITESPACE"," ",561],["T_IS_EQUAL","==",561],["T_WHITESPACE"," ",561],["T_CONSTANT_ENCAPSED_STRING","\"'\"",561],")",["T_WHITESPACE"," ",561],"{",["T_WHITESPACE","\n      ",561],["T_COMMENT","\/\/ Simple quote: return as-is.\n",562],["T_WHITESPACE","      ",563],["T_RETURN","return",563],["T_WHITESPACE"," ",563],["T_VARIABLE","$string",563],";",["T_WHITESPACE","\n    ",563],"}",["T_WHITESPACE","\n    ",564],["T_ELSE","else",565],["T_WHITESPACE"," ",565],"{",["T_WHITESPACE","\n      ",565],["T_COMMENT","\/\/ Unrecognized quote.\n",566],["T_WHITESPACE","      ",567],["T_RETURN","return",567],["T_WHITESPACE"," ",567],["T_STRING","FALSE",567],";",["T_WHITESPACE","\n    ",567],"}",["T_WHITESPACE","\n  ",568],"}",["T_WHITESPACE","\n\n  ",569],["T_DOC_COMMENT","\/**\n   * Generates a short, one-string version of the passed comment array.\n   *\n   * @param $comment\n   *   An array of strings containing a comment.\n   *\n   * @return\n   *   Short one-string version of the comment.\n   *\/",571],["T_WHITESPACE","\n  ",579],["T_PRIVATE","private",580],["T_WHITESPACE"," ",580],["T_FUNCTION","function",580],["T_WHITESPACE"," ",580],["T_STRING","shortenComments",580],"(",["T_VARIABLE","$comment",580],")",["T_WHITESPACE"," ",580],"{",["T_WHITESPACE","\n    ",580],["T_VARIABLE","$comm",581],["T_WHITESPACE"," ",581],"=",["T_WHITESPACE"," ",581],["T_CONSTANT_ENCAPSED_STRING","''",581],";",["T_WHITESPACE","\n    ",581],["T_WHILE","while",582],["T_WHITESPACE"," ",582],"(",["T_STRING","count",582],"(",["T_VARIABLE","$comment",582],")",")",["T_WHITESPACE"," ",582],"{",["T_WHITESPACE","\n      ",582],["T_VARIABLE","$test",583],["T_WHITESPACE"," ",583],"=",["T_WHITESPACE"," ",583],["T_VARIABLE","$comm",583],["T_WHITESPACE"," ",583],".",["T_WHITESPACE"," ",583],["T_STRING","substr",583],"(",["T_STRING","array_shift",583],"(",["T_VARIABLE","$comment",583],")",",",["T_WHITESPACE"," ",583],["T_LNUMBER","1",583],")",["T_WHITESPACE"," ",583],".",["T_WHITESPACE"," ",583],["T_CONSTANT_ENCAPSED_STRING","', '",583],";",["T_WHITESPACE","\n      ",583],["T_IF","if",584],["T_WHITESPACE"," ",584],"(",["T_STRING","strlen",584],"(",["T_VARIABLE","$comm",584],")",["T_WHITESPACE"," ",584],"<",["T_WHITESPACE"," ",584],["T_LNUMBER","130",584],")",["T_WHITESPACE"," ",584],"{",["T_WHITESPACE","\n        ",584],["T_VARIABLE","$comm",585],["T_WHITESPACE"," ",585],"=",["T_WHITESPACE"," ",585],["T_VARIABLE","$test",585],";",["T_WHITESPACE","\n      ",585],"}",["T_WHITESPACE","\n      ",586],["T_ELSE","else",587],["T_WHITESPACE"," ",587],"{",["T_WHITESPACE","\n        ",587],["T_BREAK","break",588],";",["T_WHITESPACE","\n      ",588],"}",["T_WHITESPACE","\n    ",589],"}",["T_WHITESPACE","\n    ",590],["T_RETURN","return",591],["T_WHITESPACE"," ",591],["T_STRING","trim",591],"(",["T_STRING","substr",591],"(",["T_VARIABLE","$comm",591],",",["T_WHITESPACE"," ",591],["T_LNUMBER","0",591],",",["T_WHITESPACE"," ",591],"-",["T_LNUMBER","2",591],")",")",";",["T_WHITESPACE","\n  ",591],"}",["T_WHITESPACE","\n\n",592],"}",["T_WHITESPACE","\n",594]]