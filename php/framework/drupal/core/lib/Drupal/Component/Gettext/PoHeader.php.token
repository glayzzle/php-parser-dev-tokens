[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Component",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Gettext",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Gettext PO header handler.\n *\n * Possible Gettext PO header elements are explained in\n * http:\/\/www.gnu.org\/software\/gettext\/manual\/gettext.html#Header-Entry,\n * but we only support a subset of these directly.\n *\n * Example header:\n *\n * \"Project-Id-Version: Drupal core (7.11)\\n\"\n * \"POT-Creation-Date: 2012-02-12 22:59+0000\\n\"\n * \"PO-Revision-Date: YYYY-mm-DD HH:MM+ZZZZ\\n\"\n * \"Language-Team: Catalan\\n\"\n * \"MIME-Version: 1.0\\n\"\n * \"Content-Type: text\/plain; charset=utf-8\\n\"\n * \"Content-Transfer-Encoding: 8bit\\n\"\n * \"Plural-Forms: nplurals=2; plural=(n>1);\\n\"\n *\/",5],["T_WHITESPACE","\n",22],["T_CLASS","class",23],["T_WHITESPACE"," ",23],["T_STRING","PoHeader",23],["T_WHITESPACE"," ",23],"{",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * Language code.\n   *\n   * @var string\n   *\/",25],["T_WHITESPACE","\n  ",29],["T_PRIVATE","private",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$_langcode",30],";",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * Formula for the plural form.\n   *\n   * @var string\n   *\/",32],["T_WHITESPACE","\n  ",36],["T_PRIVATE","private",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$_pluralForms",37],";",["T_WHITESPACE","\n\n  ",37],["T_DOC_COMMENT","\/**\n   * Author(s) of the file.\n   *\n   * @var string\n   *\/",39],["T_WHITESPACE","\n  ",43],["T_PRIVATE","private",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$_authors",44],";",["T_WHITESPACE","\n\n  ",44],["T_DOC_COMMENT","\/**\n   * Date the po file got created.\n   *\n   * @var string\n   *\/",46],["T_WHITESPACE","\n  ",50],["T_PRIVATE","private",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$_po_date",51],";",["T_WHITESPACE","\n\n  ",51],["T_DOC_COMMENT","\/**\n   * Human readable language name.\n   *\n   * @var string\n   *\/",53],["T_WHITESPACE","\n  ",57],["T_PRIVATE","private",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$_languageName",58],";",["T_WHITESPACE","\n\n  ",58],["T_DOC_COMMENT","\/**\n   * Name of the project the translation belongs to.\n   *\n   * @var string\n   *\/",60],["T_WHITESPACE","\n  ",64],["T_PRIVATE","private",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$_projectName",65],";",["T_WHITESPACE","\n\n  ",65],["T_DOC_COMMENT","\/**\n   * Constructor, creates a PoHeader with default values.\n   *\n   * @param string $langcode\n   *   Language code.\n   *\/",67],["T_WHITESPACE","\n  ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","__construct",73],"(",["T_VARIABLE","$langcode",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_STRING","NULL",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","_langcode",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$langcode",74],";",["T_WHITESPACE","\n    ",74],["T_COMMENT","\/\/ Ignore errors when run during site installation before\n",75],["T_WHITESPACE","    ",76],["T_COMMENT","\/\/ date_default_timezone_set() is called.\n",76],["T_WHITESPACE","    ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_po_date",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],"@",["T_STRING","date",77],"(",["T_CONSTANT_ENCAPSED_STRING","\"Y-m-d H:iO\"",77],")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_pluralForms",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'nplurals=2; plural=(n > 1);'",78],";",["T_WHITESPACE","\n  ",78],"}",["T_WHITESPACE","\n\n  ",79],["T_DOC_COMMENT","\/**\n   * Gets the plural form.\n   *\n   * @return string\n   *   Plural form component from the header, for example:\n   *   'nplurals=2; plural=(n > 1);'.\n   *\/",81],["T_WHITESPACE","\n  ",87],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","getPluralForms",88],"(",")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n    ",88],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_pluralForms",89],";",["T_WHITESPACE","\n  ",89],"}",["T_WHITESPACE","\n\n  ",90],["T_DOC_COMMENT","\/**\n   * Set the human readable language name.\n   *\n   * @param string $languageName\n   *   Human readable language name.\n   *\/",92],["T_WHITESPACE","\n  ",97],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","setLanguageName",98],"(",["T_VARIABLE","$languageName",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","_languageName",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$languageName",99],";",["T_WHITESPACE","\n  ",99],"}",["T_WHITESPACE","\n\n  ",100],["T_DOC_COMMENT","\/**\n   * Gets the human readable language name.\n   *\n   * @return string\n   *   The human readable language name.\n   *\/",102],["T_WHITESPACE","\n  ",107],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","getLanguageName",108],"(",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n    ",108],["T_RETURN","return",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","_languageName",109],";",["T_WHITESPACE","\n  ",109],"}",["T_WHITESPACE","\n\n  ",110],["T_DOC_COMMENT","\/**\n   * Set the project name.\n   *\n   * @param string $projectName\n   *   Human readable project name.\n   *\/",112],["T_WHITESPACE","\n  ",117],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","setProjectName",118],"(",["T_VARIABLE","$projectName",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","_projectName",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$projectName",119],";",["T_WHITESPACE","\n  ",119],"}",["T_WHITESPACE","\n\n  ",120],["T_DOC_COMMENT","\/**\n   * Gets the project name.\n   *\n   * @return string\n   *   The human readable project name.\n   *\/",122],["T_WHITESPACE","\n  ",127],["T_FUNCTION","function",128],["T_WHITESPACE"," ",128],["T_STRING","getProjectName",128],"(",")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n    ",128],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_projectName",129],";",["T_WHITESPACE","\n  ",129],"}",["T_WHITESPACE","\n\n  ",130],["T_DOC_COMMENT","\/**\n   * Populate internal values from a string.\n   *\n   * @param string $header\n   *   Full header string with key-value pairs.\n   *\/",132],["T_WHITESPACE","\n  ",137],["T_PUBLIC","public",138],["T_WHITESPACE"," ",138],["T_FUNCTION","function",138],["T_WHITESPACE"," ",138],["T_STRING","setFromString",138],"(",["T_VARIABLE","$header",138],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n    ",138],["T_COMMENT","\/\/ Get an array of all header values for processing.\n",139],["T_WHITESPACE","    ",140],["T_VARIABLE","$values",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","parseHeader",140],"(",["T_VARIABLE","$header",140],")",";",["T_WHITESPACE","\n\n    ",140],["T_COMMENT","\/\/ There is only one value relevant for our header implementation when\n",142],["T_WHITESPACE","    ",143],["T_COMMENT","\/\/ reading, and that is the plural formula.\n",143],["T_WHITESPACE","    ",144],["T_IF","if",144],["T_WHITESPACE"," ",144],"(","!",["T_EMPTY","empty",144],"(",["T_VARIABLE","$values",144],"[",["T_CONSTANT_ENCAPSED_STRING","'Plural-Forms'",144],"]",")",")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n      ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","_pluralForms",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$values",145],"[",["T_CONSTANT_ENCAPSED_STRING","'Plural-Forms'",145],"]",";",["T_WHITESPACE","\n    ",145],"}",["T_WHITESPACE","\n  ",146],"}",["T_WHITESPACE","\n\n  ",147],["T_DOC_COMMENT","\/**\n   * Generate a Gettext PO formatted header string based on data set earlier.\n   *\/",149],["T_WHITESPACE","\n  ",151],["T_PUBLIC","public",152],["T_WHITESPACE"," ",152],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","__toString",152],"(",")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n    ",152],["T_VARIABLE","$output",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","''",153],";",["T_WHITESPACE","\n\n    ",153],["T_VARIABLE","$isTemplate",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_EMPTY","empty",155],"(",["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_languageName",155],")",";",["T_WHITESPACE","\n\n    ",155],["T_VARIABLE","$output",157],["T_WHITESPACE"," ",157],["T_CONCAT_EQUAL",".=",157],["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'# '",157],["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],"(",["T_VARIABLE","$isTemplate",157],["T_WHITESPACE"," ",157],"?",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'LANGUAGE'",157],["T_WHITESPACE"," ",157],":",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_languageName",157],")",["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","' translation of '",157],["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],"(",["T_VARIABLE","$isTemplate",157],["T_WHITESPACE"," ",157],"?",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'PROJECT'",157],["T_WHITESPACE"," ",157],":",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_projectName",157],")",["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",157],";",["T_WHITESPACE","\n    ",157],["T_IF","if",158],["T_WHITESPACE"," ",158],"(","!",["T_EMPTY","empty",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_authors",158],")",")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n      ",158],["T_VARIABLE","$output",159],["T_WHITESPACE"," ",159],["T_CONCAT_EQUAL",".=",159],["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'# Generated by '",159],["T_WHITESPACE"," ",159],".",["T_WHITESPACE"," ",159],["T_STRING","implode",159],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n# \"",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_authors",159],")",["T_WHITESPACE"," ",159],".",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",159],";",["T_WHITESPACE","\n    ",159],"}",["T_WHITESPACE","\n    ",160],["T_VARIABLE","$output",161],["T_WHITESPACE"," ",161],["T_CONCAT_EQUAL",".=",161],["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","\"#\\n\"",161],";",["T_WHITESPACE","\n\n    ",161],["T_COMMENT","\/\/ Add the actual header information.\n",163],["T_WHITESPACE","    ",164],["T_VARIABLE","$output",164],["T_WHITESPACE"," ",164],["T_CONCAT_EQUAL",".=",164],["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","\"msgid \\\"\\\"\\n\"",164],";",["T_WHITESPACE","\n    ",164],["T_VARIABLE","$output",165],["T_WHITESPACE"," ",165],["T_CONCAT_EQUAL",".=",165],["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","\"msgstr \\\"\\\"\\n\"",165],";",["T_WHITESPACE","\n    ",165],["T_VARIABLE","$output",166],["T_WHITESPACE"," ",166],["T_CONCAT_EQUAL",".=",166],["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","\"\\\"Project-Id-Version: PROJECT VERSION\\\\n\\\"\\n\"",166],";",["T_WHITESPACE","\n    ",166],["T_VARIABLE","$output",167],["T_WHITESPACE"," ",167],["T_CONCAT_EQUAL",".=",167],["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","\"\\\"POT-Creation-Date: \"",167],["T_WHITESPACE"," ",167],".",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","_po_date",167],["T_WHITESPACE"," ",167],".",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","\"\\\\n\\\"\\n\"",167],";",["T_WHITESPACE","\n    ",167],["T_VARIABLE","$output",168],["T_WHITESPACE"," ",168],["T_CONCAT_EQUAL",".=",168],["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","\"\\\"PO-Revision-Date: \"",168],["T_WHITESPACE"," ",168],".",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","_po_date",168],["T_WHITESPACE"," ",168],".",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","\"\\\\n\\\"\\n\"",168],";",["T_WHITESPACE","\n    ",168],["T_VARIABLE","$output",169],["T_WHITESPACE"," ",169],["T_CONCAT_EQUAL",".=",169],["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","\"\\\"Last-Translator: NAME <EMAIL@ADDRESS>\\\\n\\\"\\n\"",169],";",["T_WHITESPACE","\n    ",169],["T_VARIABLE","$output",170],["T_WHITESPACE"," ",170],["T_CONCAT_EQUAL",".=",170],["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","\"\\\"Language-Team: LANGUAGE <EMAIL@ADDRESS>\\\\n\\\"\\n\"",170],";",["T_WHITESPACE","\n    ",170],["T_VARIABLE","$output",171],["T_WHITESPACE"," ",171],["T_CONCAT_EQUAL",".=",171],["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","\"\\\"MIME-Version: 1.0\\\\n\\\"\\n\"",171],";",["T_WHITESPACE","\n    ",171],["T_VARIABLE","$output",172],["T_WHITESPACE"," ",172],["T_CONCAT_EQUAL",".=",172],["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","\"\\\"Content-Type: text\/plain; charset=utf-8\\\\n\\\"\\n\"",172],";",["T_WHITESPACE","\n    ",172],["T_VARIABLE","$output",173],["T_WHITESPACE"," ",173],["T_CONCAT_EQUAL",".=",173],["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","\"\\\"Content-Transfer-Encoding: 8bit\\\\n\\\"\\n\"",173],";",["T_WHITESPACE","\n    ",173],["T_VARIABLE","$output",174],["T_WHITESPACE"," ",174],["T_CONCAT_EQUAL",".=",174],["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","\"\\\"Plural-Forms: \"",174],["T_WHITESPACE"," ",174],".",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","_pluralForms",174],["T_WHITESPACE"," ",174],".",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","\"\\\\n\\\"\\n\"",174],";",["T_WHITESPACE","\n    ",174],["T_VARIABLE","$output",175],["T_WHITESPACE"," ",175],["T_CONCAT_EQUAL",".=",175],["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",175],";",["T_WHITESPACE","\n\n    ",175],["T_RETURN","return",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$output",177],";",["T_WHITESPACE","\n  ",177],"}",["T_WHITESPACE","\n\n  ",178],["T_DOC_COMMENT","\/**\n   * Parses a Plural-Forms entry from a Gettext Portable Object file header.\n   *\n   * @param string $pluralforms\n   *   The Plural-Forms entry value.\n   *\n   * @return\n   *   An indexed array of parsed plural formula data. Containing:\n   *   - 'nplurals': The number of plural forms defined by the plural formula.\n   *   - 'plurals': Array of plural positions keyed by plural value.\n   *\n   * @throws Exception\n   *\/",180],["T_WHITESPACE","\n  ",192],["T_FUNCTION","function",193],["T_WHITESPACE"," ",193],["T_STRING","parsePluralForms",193],"(",["T_VARIABLE","$pluralforms",193],")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n    ",193],["T_VARIABLE","$plurals",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_ARRAY","array",194],"(",")",";",["T_WHITESPACE","\n    ",194],["T_COMMENT","\/\/ First, delete all whitespace.\n",195],["T_WHITESPACE","    ",196],["T_VARIABLE","$pluralforms",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_STRING","strtr",196],"(",["T_VARIABLE","$pluralforms",196],",",["T_WHITESPACE"," ",196],["T_ARRAY","array",196],"(",["T_CONSTANT_ENCAPSED_STRING","\" \"",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","\"\"",196],",",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","\"\\t\"",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","\"\"",196],")",")",";",["T_WHITESPACE","\n\n    ",196],["T_COMMENT","\/\/ Select the parts that define nplurals and plural.\n",198],["T_WHITESPACE","    ",199],["T_VARIABLE","$nplurals",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_STRING","strstr",199],"(",["T_VARIABLE","$pluralforms",199],",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","\"nplurals=\"",199],")",";",["T_WHITESPACE","\n    ",199],["T_IF","if",200],["T_WHITESPACE"," ",200],"(",["T_STRING","strpos",200],"(",["T_VARIABLE","$nplurals",200],",",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","\";\"",200],")",")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n      ",200],["T_COMMENT","\/\/ We want the string from the 10th char, because \"nplurals=\" length is 9.\n",201],["T_WHITESPACE","      ",202],["T_VARIABLE","$nplurals",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_STRING","substr",202],"(",["T_VARIABLE","$nplurals",202],",",["T_WHITESPACE"," ",202],["T_LNUMBER","9",202],",",["T_WHITESPACE"," ",202],["T_STRING","strpos",202],"(",["T_VARIABLE","$nplurals",202],",",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","\";\"",202],")",["T_WHITESPACE"," ",202],"-",["T_WHITESPACE"," ",202],["T_LNUMBER","9",202],")",";",["T_WHITESPACE","\n    ",202],"}",["T_WHITESPACE","\n    ",203],["T_ELSE","else",204],["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n      ",204],["T_RETURN","return",205],["T_WHITESPACE"," ",205],["T_STRING","FALSE",205],";",["T_WHITESPACE","\n    ",205],"}",["T_WHITESPACE","\n    ",206],["T_VARIABLE","$plural",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_STRING","strstr",207],"(",["T_VARIABLE","$pluralforms",207],",",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","\"plural=\"",207],")",";",["T_WHITESPACE","\n    ",207],["T_IF","if",208],["T_WHITESPACE"," ",208],"(",["T_STRING","strpos",208],"(",["T_VARIABLE","$plural",208],",",["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","\";\"",208],")",")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n      ",208],["T_COMMENT","\/\/ We want the string from the 8th char, because \"plural=\" length is 7.\n",209],["T_WHITESPACE","      ",210],["T_VARIABLE","$plural",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_STRING","substr",210],"(",["T_VARIABLE","$plural",210],",",["T_WHITESPACE"," ",210],["T_LNUMBER","7",210],",",["T_WHITESPACE"," ",210],["T_STRING","strpos",210],"(",["T_VARIABLE","$plural",210],",",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","\";\"",210],")",["T_WHITESPACE"," ",210],"-",["T_WHITESPACE"," ",210],["T_LNUMBER","7",210],")",";",["T_WHITESPACE","\n    ",210],"}",["T_WHITESPACE","\n    ",211],["T_ELSE","else",212],["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n      ",212],["T_RETURN","return",213],["T_WHITESPACE"," ",213],["T_STRING","FALSE",213],";",["T_WHITESPACE","\n    ",213],"}",["T_WHITESPACE","\n\n    ",214],["T_COMMENT","\/\/ If the number of plurals is zero, we return a default result.\n",216],["T_WHITESPACE","    ",217],["T_IF","if",217],["T_WHITESPACE"," ",217],"(",["T_VARIABLE","$nplurals",217],["T_WHITESPACE"," ",217],["T_IS_EQUAL","==",217],["T_WHITESPACE"," ",217],["T_LNUMBER","0",217],")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n      ",217],["T_RETURN","return",218],["T_WHITESPACE"," ",218],["T_ARRAY","array",218],"(",["T_VARIABLE","$nplurals",218],",",["T_WHITESPACE"," ",218],["T_ARRAY","array",218],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_LNUMBER","0",218],")",")",";",["T_WHITESPACE","\n    ",218],"}",["T_WHITESPACE","\n\n    ",219],["T_COMMENT","\/\/ Calculate possible plural positions of different plural values. All known\n",221],["T_WHITESPACE","    ",222],["T_COMMENT","\/\/ plural formula's are repetitive above 100.\n",222],["T_WHITESPACE","    ",223],["T_COMMENT","\/\/ For data compression we store the last position the array value\n",223],["T_WHITESPACE","    ",224],["T_COMMENT","\/\/ changes and store it as default.\n",224],["T_WHITESPACE","    ",225],["T_VARIABLE","$element_stack",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","parseArithmetic",225],"(",["T_VARIABLE","$plural",225],")",";",["T_WHITESPACE","\n    ",225],["T_IF","if",226],["T_WHITESPACE"," ",226],"(",["T_VARIABLE","$element_stack",226],["T_WHITESPACE"," ",226],["T_IS_NOT_IDENTICAL","!==",226],["T_WHITESPACE"," ",226],["T_STRING","FALSE",226],")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n      ",226],["T_FOR","for",227],["T_WHITESPACE"," ",227],"(",["T_VARIABLE","$i",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_LNUMBER","0",227],";",["T_WHITESPACE"," ",227],["T_VARIABLE","$i",227],["T_WHITESPACE"," ",227],["T_IS_SMALLER_OR_EQUAL","<=",227],["T_WHITESPACE"," ",227],["T_LNUMBER","199",227],";",["T_WHITESPACE"," ",227],["T_VARIABLE","$i",227],["T_INC","++",227],")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$plurals",228],"[",["T_VARIABLE","$i",228],"]",["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","evaluatePlural",228],"(",["T_VARIABLE","$element_stack",228],",",["T_WHITESPACE"," ",228],["T_VARIABLE","$i",228],")",";",["T_WHITESPACE","\n      ",228],"}",["T_WHITESPACE","\n      ",229],["T_VARIABLE","$default",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_VARIABLE","$plurals",230],"[",["T_VARIABLE","$i",230],["T_WHITESPACE"," ",230],"-",["T_WHITESPACE"," ",230],["T_LNUMBER","1",230],"]",";",["T_WHITESPACE","\n      ",230],["T_VARIABLE","$plurals",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_STRING","array_filter",231],"(",["T_VARIABLE","$plurals",231],",",["T_WHITESPACE"," ",231],["T_FUNCTION","function",231],["T_WHITESPACE"," ",231],"(",["T_VARIABLE","$value",231],")",["T_WHITESPACE"," ",231],["T_USE","use",231],["T_WHITESPACE"," ",231],"(",["T_VARIABLE","$default",231],")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n        ",231],["T_RETURN","return",232],["T_WHITESPACE"," ",232],"(",["T_VARIABLE","$value",232],["T_WHITESPACE"," ",232],["T_IS_NOT_EQUAL","!=",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$default",232],")",";",["T_WHITESPACE","\n      ",232],"}",")",";",["T_WHITESPACE","\n      ",233],["T_VARIABLE","$plurals",234],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",234],"]",["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_VARIABLE","$default",234],";",["T_WHITESPACE","\n\n      ",234],["T_RETURN","return",236],["T_WHITESPACE"," ",236],["T_ARRAY","array",236],"(",["T_VARIABLE","$nplurals",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$plurals",236],")",";",["T_WHITESPACE","\n    ",236],"}",["T_WHITESPACE","\n    ",237],["T_ELSE","else",238],["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n      ",238],["T_THROW","throw",239],["T_WHITESPACE"," ",239],["T_NEW","new",239],["T_WHITESPACE"," ",239],["T_NS_SEPARATOR","\\",239],["T_STRING","Exception",239],"(",["T_CONSTANT_ENCAPSED_STRING","'The plural formula could not be parsed.'",239],")",";",["T_WHITESPACE","\n    ",239],"}",["T_WHITESPACE","\n  ",240],"}",["T_WHITESPACE","\n\n  ",241],["T_DOC_COMMENT","\/**\n   * Parses a Gettext Portable Object file header.\n   *\n   * @param string $header\n   *   A string containing the complete header.\n   *\n   * @return array\n   *   An associative array of key-value pairs.\n   *\/",243],["T_WHITESPACE","\n  ",251],["T_PRIVATE","private",252],["T_WHITESPACE"," ",252],["T_FUNCTION","function",252],["T_WHITESPACE"," ",252],["T_STRING","parseHeader",252],"(",["T_VARIABLE","$header",252],")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n    ",252],["T_VARIABLE","$header_parsed",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_ARRAY","array",253],"(",")",";",["T_WHITESPACE","\n    ",253],["T_VARIABLE","$lines",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_STRING","array_map",254],"(",["T_CONSTANT_ENCAPSED_STRING","'trim'",254],",",["T_WHITESPACE"," ",254],["T_STRING","explode",254],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",254],",",["T_WHITESPACE"," ",254],["T_VARIABLE","$header",254],")",")",";",["T_WHITESPACE","\n    ",254],["T_FOREACH","foreach",255],["T_WHITESPACE"," ",255],"(",["T_VARIABLE","$lines",255],["T_WHITESPACE"," ",255],["T_AS","as",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$line",255],")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n      ",255],["T_IF","if",256],["T_WHITESPACE"," ",256],"(",["T_VARIABLE","$line",256],")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n        ",256],["T_LIST","list",257],"(",["T_VARIABLE","$tag",257],",",["T_WHITESPACE"," ",257],["T_VARIABLE","$contents",257],")",["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_STRING","explode",257],"(",["T_CONSTANT_ENCAPSED_STRING","\":\"",257],",",["T_WHITESPACE"," ",257],["T_VARIABLE","$line",257],",",["T_WHITESPACE"," ",257],["T_LNUMBER","2",257],")",";",["T_WHITESPACE","\n        ",257],["T_VARIABLE","$header_parsed",258],"[",["T_STRING","trim",258],"(",["T_VARIABLE","$tag",258],")","]",["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_STRING","trim",258],"(",["T_VARIABLE","$contents",258],")",";",["T_WHITESPACE","\n      ",258],"}",["T_WHITESPACE","\n    ",259],"}",["T_WHITESPACE","\n    ",260],["T_RETURN","return",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$header_parsed",261],";",["T_WHITESPACE","\n  ",261],"}",["T_WHITESPACE","\n\n  ",262],["T_DOC_COMMENT","\/**\n   * Parses and sanitizes an arithmetic formula into a plural element stack.\n   *\n   * While parsing, we ensure, that the operators have the right\n   * precedence and associativity.\n   *\n   * @param string $string\n   *   A string containing the arithmetic formula.\n   *\n   * @return\n   *   A stack of values and operations to be evaluated.\n   *\/",264],["T_WHITESPACE","\n  ",275],["T_PRIVATE","private",276],["T_WHITESPACE"," ",276],["T_FUNCTION","function",276],["T_WHITESPACE"," ",276],["T_STRING","parseArithmetic",276],"(",["T_VARIABLE","$string",276],")",["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n    ",276],["T_COMMENT","\/\/ Operator precedence table.\n",277],["T_WHITESPACE","    ",278],["T_VARIABLE","$precedence",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_ARRAY","array",278],"(",["T_CONSTANT_ENCAPSED_STRING","\"(\"",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],"-",["T_LNUMBER","1",278],",",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","\")\"",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],"-",["T_LNUMBER","1",278],",",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","\"?\"",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_LNUMBER","1",278],",",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","\":\"",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_LNUMBER","1",278],",",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","\"||\"",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_LNUMBER","3",278],",",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","\"&&\"",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_LNUMBER","4",278],",",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","\"==\"",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_LNUMBER","5",278],",",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","\"!=\"",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_LNUMBER","5",278],",",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","\"<\"",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_LNUMBER","6",278],",",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","\">\"",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_LNUMBER","6",278],",",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","\"<=\"",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_LNUMBER","6",278],",",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","\">=\"",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_LNUMBER","6",278],",",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","\"+\"",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_LNUMBER","7",278],",",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","\"-\"",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_LNUMBER","7",278],",",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","\"*\"",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_LNUMBER","8",278],",",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","\"\/\"",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_LNUMBER","8",278],",",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","\"%\"",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_LNUMBER","8",278],")",";",["T_WHITESPACE","\n    ",278],["T_COMMENT","\/\/ Right associativity.\n",279],["T_WHITESPACE","    ",280],["T_VARIABLE","$right_associativity",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_ARRAY","array",280],"(",["T_CONSTANT_ENCAPSED_STRING","\"?\"",280],["T_WHITESPACE"," ",280],["T_DOUBLE_ARROW","=>",280],["T_WHITESPACE"," ",280],["T_LNUMBER","1",280],",",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","\":\"",280],["T_WHITESPACE"," ",280],["T_DOUBLE_ARROW","=>",280],["T_WHITESPACE"," ",280],["T_LNUMBER","1",280],")",";",["T_WHITESPACE","\n\n    ",280],["T_VARIABLE","$tokens",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","tokenizeFormula",282],"(",["T_VARIABLE","$string",282],")",";",["T_WHITESPACE","\n\n    ",282],["T_COMMENT","\/\/ Parse by converting into infix notation then back into postfix\n",284],["T_WHITESPACE","    ",285],["T_COMMENT","\/\/ Operator stack - holds math operators and symbols.\n",285],["T_WHITESPACE","    ",286],["T_VARIABLE","$operator_stack",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_ARRAY","array",286],"(",")",";",["T_WHITESPACE","\n    ",286],["T_COMMENT","\/\/ Element Stack - holds data to be operated on.\n",287],["T_WHITESPACE","    ",288],["T_VARIABLE","$element_stack",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_ARRAY","array",288],"(",")",";",["T_WHITESPACE","\n\n    ",288],["T_FOREACH","foreach",290],["T_WHITESPACE"," ",290],"(",["T_VARIABLE","$tokens",290],["T_WHITESPACE"," ",290],["T_AS","as",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$token",290],")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n      ",290],["T_VARIABLE","$current_token",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$token",291],";",["T_WHITESPACE","\n\n      ",291],["T_COMMENT","\/\/ Numbers and the $n variable are simply pushed into $element_stack.\n",293],["T_WHITESPACE","      ",294],["T_IF","if",294],["T_WHITESPACE"," ",294],"(",["T_STRING","is_numeric",294],"(",["T_VARIABLE","$token",294],")",")",["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n        ",294],["T_VARIABLE","$element_stack",295],"[","]",["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$current_token",295],";",["T_WHITESPACE","\n      ",295],"}",["T_WHITESPACE","\n      ",296],["T_ELSEIF","elseif",297],["T_WHITESPACE"," ",297],"(",["T_VARIABLE","$current_token",297],["T_WHITESPACE"," ",297],["T_IS_EQUAL","==",297],["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","\"n\"",297],")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n        ",297],["T_VARIABLE","$element_stack",298],"[","]",["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","'$n'",298],";",["T_WHITESPACE","\n      ",298],"}",["T_WHITESPACE","\n      ",299],["T_ELSEIF","elseif",300],["T_WHITESPACE"," ",300],"(",["T_VARIABLE","$current_token",300],["T_WHITESPACE"," ",300],["T_IS_EQUAL","==",300],["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","\"(\"",300],")",["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n        ",300],["T_VARIABLE","$operator_stack",301],"[","]",["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_VARIABLE","$current_token",301],";",["T_WHITESPACE","\n      ",301],"}",["T_WHITESPACE","\n      ",302],["T_ELSEIF","elseif",303],["T_WHITESPACE"," ",303],"(",["T_VARIABLE","$current_token",303],["T_WHITESPACE"," ",303],["T_IS_EQUAL","==",303],["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","\")\"",303],")",["T_WHITESPACE"," ",303],"{",["T_WHITESPACE","\n        ",303],["T_VARIABLE","$topop",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_STRING","array_pop",304],"(",["T_VARIABLE","$operator_stack",304],")",";",["T_WHITESPACE","\n        ",304],["T_WHILE","while",305],["T_WHITESPACE"," ",305],"(",["T_ISSET","isset",305],"(",["T_VARIABLE","$topop",305],")",["T_WHITESPACE"," ",305],["T_BOOLEAN_AND","&&",305],["T_WHITESPACE"," ",305],"(",["T_VARIABLE","$topop",305],["T_WHITESPACE"," ",305],["T_IS_NOT_EQUAL","!=",305],["T_WHITESPACE"," ",305],["T_CONSTANT_ENCAPSED_STRING","\"(\"",305],")",")",["T_WHITESPACE"," ",305],"{",["T_WHITESPACE","\n          ",305],["T_VARIABLE","$element_stack",306],"[","]",["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_VARIABLE","$topop",306],";",["T_WHITESPACE","\n          ",306],["T_VARIABLE","$topop",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_STRING","array_pop",307],"(",["T_VARIABLE","$operator_stack",307],")",";",["T_WHITESPACE","\n        ",307],"}",["T_WHITESPACE","\n      ",308],"}",["T_WHITESPACE","\n      ",309],["T_ELSEIF","elseif",310],["T_WHITESPACE"," ",310],"(","!",["T_EMPTY","empty",310],"(",["T_VARIABLE","$precedence",310],"[",["T_VARIABLE","$current_token",310],"]",")",")",["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n        ",310],["T_COMMENT","\/\/ If it's an operator, then pop from $operator_stack into\n",311],["T_WHITESPACE","        ",312],["T_COMMENT","\/\/ $element_stack until the precedence in $operator_stack is less\n",312],["T_WHITESPACE","        ",313],["T_COMMENT","\/\/ than current, then push into $operator_stack.\n",313],["T_WHITESPACE","        ",314],["T_VARIABLE","$topop",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_STRING","array_pop",314],"(",["T_VARIABLE","$operator_stack",314],")",";",["T_WHITESPACE","\n        ",314],["T_WHILE","while",315],["T_WHITESPACE"," ",315],"(",["T_ISSET","isset",315],"(",["T_VARIABLE","$topop",315],")",["T_WHITESPACE"," ",315],["T_BOOLEAN_AND","&&",315],["T_WHITESPACE"," ",315],"(",["T_VARIABLE","$precedence",315],"[",["T_VARIABLE","$topop",315],"]",["T_WHITESPACE"," ",315],["T_IS_GREATER_OR_EQUAL",">=",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$precedence",315],"[",["T_VARIABLE","$current_token",315],"]",")",["T_WHITESPACE"," ",315],["T_BOOLEAN_AND","&&",315],["T_WHITESPACE"," ",315],"!","(","(",["T_VARIABLE","$precedence",315],"[",["T_VARIABLE","$topop",315],"]",["T_WHITESPACE"," ",315],["T_IS_EQUAL","==",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$precedence",315],"[",["T_VARIABLE","$current_token",315],"]",")",["T_WHITESPACE"," ",315],["T_BOOLEAN_AND","&&",315],["T_WHITESPACE"," ",315],"!",["T_EMPTY","empty",315],"(",["T_VARIABLE","$right_associativity",315],"[",["T_VARIABLE","$topop",315],"]",")",["T_WHITESPACE"," ",315],["T_BOOLEAN_AND","&&",315],["T_WHITESPACE"," ",315],"!",["T_EMPTY","empty",315],"(",["T_VARIABLE","$right_associativity",315],"[",["T_VARIABLE","$current_token",315],"]",")",")",")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n          ",315],["T_VARIABLE","$element_stack",316],"[","]",["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_VARIABLE","$topop",316],";",["T_WHITESPACE","\n          ",316],["T_VARIABLE","$topop",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_STRING","array_pop",317],"(",["T_VARIABLE","$operator_stack",317],")",";",["T_WHITESPACE","\n        ",317],"}",["T_WHITESPACE","\n        ",318],["T_IF","if",319],["T_WHITESPACE"," ",319],"(",["T_VARIABLE","$topop",319],")",["T_WHITESPACE"," ",319],"{",["T_WHITESPACE","\n          ",319],["T_COMMENT","\/\/ Return element to top.\n",320],["T_WHITESPACE","          ",321],["T_VARIABLE","$operator_stack",321],"[","]",["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_VARIABLE","$topop",321],";",["T_WHITESPACE","\n        ",321],"}",["T_WHITESPACE","\n        ",322],["T_COMMENT","\/\/ Parentheses are not needed.\n",323],["T_WHITESPACE","        ",324],["T_VARIABLE","$operator_stack",324],"[","]",["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_VARIABLE","$current_token",324],";",["T_WHITESPACE","\n      ",324],"}",["T_WHITESPACE","\n      ",325],["T_ELSE","else",326],["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n        ",326],["T_RETURN","return",327],["T_WHITESPACE"," ",327],["T_STRING","FALSE",327],";",["T_WHITESPACE","\n      ",327],"}",["T_WHITESPACE","\n    ",328],"}",["T_WHITESPACE","\n\n    ",329],["T_COMMENT","\/\/ Flush operator stack.\n",331],["T_WHITESPACE","    ",332],["T_VARIABLE","$topop",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_STRING","array_pop",332],"(",["T_VARIABLE","$operator_stack",332],")",";",["T_WHITESPACE","\n    ",332],["T_WHILE","while",333],["T_WHITESPACE"," ",333],"(",["T_VARIABLE","$topop",333],["T_WHITESPACE"," ",333],["T_IS_NOT_EQUAL","!=",333],["T_WHITESPACE"," ",333],["T_STRING","NULL",333],")",["T_WHITESPACE"," ",333],"{",["T_WHITESPACE","\n      ",333],["T_VARIABLE","$element_stack",334],"[","]",["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_VARIABLE","$topop",334],";",["T_WHITESPACE","\n      ",334],["T_VARIABLE","$topop",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_STRING","array_pop",335],"(",["T_VARIABLE","$operator_stack",335],")",";",["T_WHITESPACE","\n    ",335],"}",["T_WHITESPACE","\n    ",336],["T_VARIABLE","$return",337],["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_VARIABLE","$element_stack",337],";",["T_WHITESPACE","\n\n    ",337],["T_COMMENT","\/\/ Now validate stack.\n",339],["T_WHITESPACE","    ",340],["T_VARIABLE","$previous_size",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_STRING","count",340],"(",["T_VARIABLE","$element_stack",340],")",["T_WHITESPACE"," ",340],"+",["T_WHITESPACE"," ",340],["T_LNUMBER","1",340],";",["T_WHITESPACE","\n    ",340],["T_WHILE","while",341],["T_WHITESPACE"," ",341],"(",["T_STRING","count",341],"(",["T_VARIABLE","$element_stack",341],")",["T_WHITESPACE"," ",341],"<",["T_WHITESPACE"," ",341],["T_VARIABLE","$previous_size",341],")",["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\n      ",341],["T_VARIABLE","$previous_size",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_STRING","count",342],"(",["T_VARIABLE","$element_stack",342],")",";",["T_WHITESPACE","\n      ",342],["T_FOR","for",343],["T_WHITESPACE"," ",343],"(",["T_VARIABLE","$i",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_LNUMBER","2",343],";",["T_WHITESPACE"," ",343],["T_VARIABLE","$i",343],["T_WHITESPACE"," ",343],"<",["T_WHITESPACE"," ",343],["T_STRING","count",343],"(",["T_VARIABLE","$element_stack",343],")",";",["T_WHITESPACE"," ",343],["T_VARIABLE","$i",343],["T_INC","++",343],")",["T_WHITESPACE"," ",343],"{",["T_WHITESPACE","\n        ",343],["T_VARIABLE","$op",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_VARIABLE","$element_stack",344],"[",["T_VARIABLE","$i",344],"]",";",["T_WHITESPACE","\n        ",344],["T_IF","if",345],["T_WHITESPACE"," ",345],"(","!",["T_EMPTY","empty",345],"(",["T_VARIABLE","$precedence",345],"[",["T_VARIABLE","$op",345],"]",")",")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n          ",345],["T_IF","if",346],["T_WHITESPACE"," ",346],"(",["T_VARIABLE","$op",346],["T_WHITESPACE"," ",346],["T_IS_EQUAL","==",346],["T_WHITESPACE"," ",346],["T_CONSTANT_ENCAPSED_STRING","\":\"",346],")",["T_WHITESPACE"," ",346],"{",["T_WHITESPACE","\n            ",346],["T_VARIABLE","$f",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_VARIABLE","$element_stack",347],"[",["T_VARIABLE","$i",347],["T_WHITESPACE"," ",347],"-",["T_WHITESPACE"," ",347],["T_LNUMBER","2",347],"]",["T_WHITESPACE"," ",347],".",["T_WHITESPACE"," ",347],["T_CONSTANT_ENCAPSED_STRING","\"):\"",347],["T_WHITESPACE"," ",347],".",["T_WHITESPACE"," ",347],["T_VARIABLE","$element_stack",347],"[",["T_VARIABLE","$i",347],["T_WHITESPACE"," ",347],"-",["T_WHITESPACE"," ",347],["T_LNUMBER","1",347],"]",["T_WHITESPACE"," ",347],".",["T_WHITESPACE"," ",347],["T_CONSTANT_ENCAPSED_STRING","\")\"",347],";",["T_WHITESPACE","\n          ",347],"}",["T_WHITESPACE","\n          ",348],["T_ELSEIF","elseif",349],["T_WHITESPACE"," ",349],"(",["T_VARIABLE","$op",349],["T_WHITESPACE"," ",349],["T_IS_EQUAL","==",349],["T_WHITESPACE"," ",349],["T_CONSTANT_ENCAPSED_STRING","\"?\"",349],")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n            ",349],["T_VARIABLE","$f",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_CONSTANT_ENCAPSED_STRING","\"(\"",350],["T_WHITESPACE"," ",350],".",["T_WHITESPACE"," ",350],["T_VARIABLE","$element_stack",350],"[",["T_VARIABLE","$i",350],["T_WHITESPACE"," ",350],"-",["T_WHITESPACE"," ",350],["T_LNUMBER","2",350],"]",["T_WHITESPACE"," ",350],".",["T_WHITESPACE"," ",350],["T_CONSTANT_ENCAPSED_STRING","\"?(\"",350],["T_WHITESPACE"," ",350],".",["T_WHITESPACE"," ",350],["T_VARIABLE","$element_stack",350],"[",["T_VARIABLE","$i",350],["T_WHITESPACE"," ",350],"-",["T_WHITESPACE"," ",350],["T_LNUMBER","1",350],"]",";",["T_WHITESPACE","\n          ",350],"}",["T_WHITESPACE","\n          ",351],["T_ELSE","else",352],["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n            ",352],["T_VARIABLE","$f",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","\"(\"",353],["T_WHITESPACE"," ",353],".",["T_WHITESPACE"," ",353],["T_VARIABLE","$element_stack",353],"[",["T_VARIABLE","$i",353],["T_WHITESPACE"," ",353],"-",["T_WHITESPACE"," ",353],["T_LNUMBER","2",353],"]",["T_WHITESPACE"," ",353],".",["T_WHITESPACE"," ",353],["T_VARIABLE","$op",353],["T_WHITESPACE"," ",353],".",["T_WHITESPACE"," ",353],["T_VARIABLE","$element_stack",353],"[",["T_VARIABLE","$i",353],["T_WHITESPACE"," ",353],"-",["T_WHITESPACE"," ",353],["T_LNUMBER","1",353],"]",["T_WHITESPACE"," ",353],".",["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","\")\"",353],";",["T_WHITESPACE","\n          ",353],"}",["T_WHITESPACE","\n          ",354],["T_STRING","array_splice",355],"(",["T_VARIABLE","$element_stack",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$i",355],["T_WHITESPACE"," ",355],"-",["T_WHITESPACE"," ",355],["T_LNUMBER","2",355],",",["T_WHITESPACE"," ",355],["T_LNUMBER","3",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$f",355],")",";",["T_WHITESPACE","\n          ",355],["T_BREAK","break",356],";",["T_WHITESPACE","\n        ",356],"}",["T_WHITESPACE","\n      ",357],"}",["T_WHITESPACE","\n    ",358],"}",["T_WHITESPACE","\n\n    ",359],["T_COMMENT","\/\/ If only one element is left, the number of operators is appropriate.\n",361],["T_WHITESPACE","    ",362],["T_RETURN","return",362],["T_WHITESPACE"," ",362],["T_STRING","count",362],"(",["T_VARIABLE","$element_stack",362],")",["T_WHITESPACE"," ",362],["T_IS_EQUAL","==",362],["T_WHITESPACE"," ",362],["T_LNUMBER","1",362],["T_WHITESPACE"," ",362],"?",["T_WHITESPACE"," ",362],["T_VARIABLE","$return",362],["T_WHITESPACE"," ",362],":",["T_WHITESPACE"," ",362],["T_STRING","FALSE",362],";",["T_WHITESPACE","\n  ",362],"}",["T_WHITESPACE","\n\n  ",363],["T_DOC_COMMENT","\/**\n   * Tokenize the formula.\n   *\n   * @param string $formula\n   *   A string containing the arithmetic formula.\n   *\n   * @return array\n   *   List of arithmetic tokens identified in the formula.\n   *\/",365],["T_WHITESPACE","\n  ",373],["T_PRIVATE","private",374],["T_WHITESPACE"," ",374],["T_FUNCTION","function",374],["T_WHITESPACE"," ",374],["T_STRING","tokenizeFormula",374],"(",["T_VARIABLE","$formula",374],")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n    ",374],["T_VARIABLE","$formula",375],["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_STRING","str_replace",375],"(",["T_CONSTANT_ENCAPSED_STRING","\" \"",375],",",["T_WHITESPACE"," ",375],["T_CONSTANT_ENCAPSED_STRING","\"\"",375],",",["T_WHITESPACE"," ",375],["T_VARIABLE","$formula",375],")",";",["T_WHITESPACE","\n    ",375],["T_VARIABLE","$tokens",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],["T_ARRAY","array",376],"(",")",";",["T_WHITESPACE","\n    ",376],["T_FOR","for",377],["T_WHITESPACE"," ",377],"(",["T_VARIABLE","$i",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_LNUMBER","0",377],";",["T_WHITESPACE"," ",377],["T_VARIABLE","$i",377],["T_WHITESPACE"," ",377],"<",["T_WHITESPACE"," ",377],["T_STRING","strlen",377],"(",["T_VARIABLE","$formula",377],")",";",["T_WHITESPACE"," ",377],["T_VARIABLE","$i",377],["T_INC","++",377],")",["T_WHITESPACE"," ",377],"{",["T_WHITESPACE","\n      ",377],["T_IF","if",378],["T_WHITESPACE"," ",378],"(",["T_STRING","is_numeric",378],"(",["T_VARIABLE","$formula",378],"[",["T_VARIABLE","$i",378],"]",")",")",["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n        ",378],["T_VARIABLE","$num",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_VARIABLE","$formula",379],"[",["T_VARIABLE","$i",379],"]",";",["T_WHITESPACE","\n        ",379],["T_VARIABLE","$j",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_VARIABLE","$i",380],["T_WHITESPACE"," ",380],"+",["T_WHITESPACE"," ",380],["T_LNUMBER","1",380],";",["T_WHITESPACE","\n        ",380],["T_WHILE","while",381],["T_WHITESPACE"," ",381],"(",["T_VARIABLE","$j",381],["T_WHITESPACE"," ",381],"<",["T_WHITESPACE"," ",381],["T_STRING","strlen",381],"(",["T_VARIABLE","$formula",381],")",["T_WHITESPACE"," ",381],["T_BOOLEAN_AND","&&",381],["T_WHITESPACE"," ",381],["T_STRING","is_numeric",381],"(",["T_VARIABLE","$formula",381],"[",["T_VARIABLE","$j",381],"]",")",")",["T_WHITESPACE"," ",381],"{",["T_WHITESPACE","\n          ",381],["T_VARIABLE","$num",382],["T_WHITESPACE"," ",382],["T_CONCAT_EQUAL",".=",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$formula",382],"[",["T_VARIABLE","$j",382],"]",";",["T_WHITESPACE","\n          ",382],["T_VARIABLE","$j",383],["T_INC","++",383],";",["T_WHITESPACE","\n        ",383],"}",["T_WHITESPACE","\n        ",384],["T_VARIABLE","$i",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_VARIABLE","$j",385],["T_WHITESPACE"," ",385],"-",["T_WHITESPACE"," ",385],["T_LNUMBER","1",385],";",["T_WHITESPACE","\n        ",385],["T_VARIABLE","$tokens",386],"[","]",["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_VARIABLE","$num",386],";",["T_WHITESPACE","\n      ",386],"}",["T_WHITESPACE","\n      ",387],["T_ELSEIF","elseif",388],["T_WHITESPACE"," ",388],"(",["T_VARIABLE","$pos",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_STRING","strpos",388],"(",["T_CONSTANT_ENCAPSED_STRING","\" =<>!&|\"",388],",",["T_WHITESPACE"," ",388],["T_VARIABLE","$formula",388],"[",["T_VARIABLE","$i",388],"]",")",")",["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n        ",388],["T_VARIABLE","$next",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_VARIABLE","$formula",389],"[",["T_VARIABLE","$i",389],["T_WHITESPACE"," ",389],"+",["T_WHITESPACE"," ",389],["T_LNUMBER","1",389],"]",";",["T_WHITESPACE","\n        ",389],["T_SWITCH","switch",390],["T_WHITESPACE"," ",390],"(",["T_VARIABLE","$pos",390],")",["T_WHITESPACE"," ",390],"{",["T_WHITESPACE","\n          ",390],["T_CASE","case",391],["T_WHITESPACE"," ",391],["T_LNUMBER","1",391],":",["T_WHITESPACE","\n          ",391],["T_CASE","case",392],["T_WHITESPACE"," ",392],["T_LNUMBER","2",392],":",["T_WHITESPACE","\n          ",392],["T_CASE","case",393],["T_WHITESPACE"," ",393],["T_LNUMBER","3",393],":",["T_WHITESPACE","\n          ",393],["T_CASE","case",394],["T_WHITESPACE"," ",394],["T_LNUMBER","4",394],":",["T_WHITESPACE","\n            ",394],["T_IF","if",395],["T_WHITESPACE"," ",395],"(",["T_VARIABLE","$next",395],["T_WHITESPACE"," ",395],["T_IS_EQUAL","==",395],["T_WHITESPACE"," ",395],["T_CONSTANT_ENCAPSED_STRING","'='",395],")",["T_WHITESPACE"," ",395],"{",["T_WHITESPACE","\n              ",395],["T_VARIABLE","$tokens",396],"[","]",["T_WHITESPACE"," ",396],"=",["T_WHITESPACE"," ",396],["T_VARIABLE","$formula",396],"[",["T_VARIABLE","$i",396],"]",["T_WHITESPACE"," ",396],".",["T_WHITESPACE"," ",396],["T_CONSTANT_ENCAPSED_STRING","'='",396],";",["T_WHITESPACE","\n              ",396],["T_VARIABLE","$i",397],["T_INC","++",397],";",["T_WHITESPACE","\n            ",397],"}",["T_WHITESPACE","\n            ",398],["T_ELSE","else",399],["T_WHITESPACE"," ",399],"{",["T_WHITESPACE","\n              ",399],["T_VARIABLE","$tokens",400],"[","]",["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],["T_VARIABLE","$formula",400],"[",["T_VARIABLE","$i",400],"]",";",["T_WHITESPACE","\n            ",400],"}",["T_WHITESPACE","\n            ",401],["T_BREAK","break",402],";",["T_WHITESPACE","\n          ",402],["T_CASE","case",403],["T_WHITESPACE"," ",403],["T_LNUMBER","5",403],":",["T_WHITESPACE","\n            ",403],["T_IF","if",404],["T_WHITESPACE"," ",404],"(",["T_VARIABLE","$next",404],["T_WHITESPACE"," ",404],["T_IS_EQUAL","==",404],["T_WHITESPACE"," ",404],["T_CONSTANT_ENCAPSED_STRING","'&'",404],")",["T_WHITESPACE"," ",404],"{",["T_WHITESPACE","\n              ",404],["T_VARIABLE","$tokens",405],"[","]",["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_CONSTANT_ENCAPSED_STRING","'&&'",405],";",["T_WHITESPACE","\n              ",405],["T_VARIABLE","$i",406],["T_INC","++",406],";",["T_WHITESPACE","\n            ",406],"}",["T_WHITESPACE","\n            ",407],["T_ELSE","else",408],["T_WHITESPACE"," ",408],"{",["T_WHITESPACE","\n              ",408],["T_VARIABLE","$tokens",409],"[","]",["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_VARIABLE","$formula",409],"[",["T_VARIABLE","$i",409],"]",";",["T_WHITESPACE","\n            ",409],"}",["T_WHITESPACE","\n            ",410],["T_BREAK","break",411],";",["T_WHITESPACE","\n          ",411],["T_CASE","case",412],["T_WHITESPACE"," ",412],["T_LNUMBER","6",412],":",["T_WHITESPACE","\n            ",412],["T_IF","if",413],["T_WHITESPACE"," ",413],"(",["T_VARIABLE","$next",413],["T_WHITESPACE"," ",413],["T_IS_EQUAL","==",413],["T_WHITESPACE"," ",413],["T_CONSTANT_ENCAPSED_STRING","'|'",413],")",["T_WHITESPACE"," ",413],"{",["T_WHITESPACE","\n              ",413],["T_VARIABLE","$tokens",414],"[","]",["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_CONSTANT_ENCAPSED_STRING","'||'",414],";",["T_WHITESPACE","\n              ",414],["T_VARIABLE","$i",415],["T_INC","++",415],";",["T_WHITESPACE","\n            ",415],"}",["T_WHITESPACE","\n            ",416],["T_ELSE","else",417],["T_WHITESPACE"," ",417],"{",["T_WHITESPACE","\n              ",417],["T_VARIABLE","$tokens",418],"[","]",["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],["T_VARIABLE","$formula",418],"[",["T_VARIABLE","$i",418],"]",";",["T_WHITESPACE","\n            ",418],"}",["T_WHITESPACE","\n            ",419],["T_BREAK","break",420],";",["T_WHITESPACE","\n        ",420],"}",["T_WHITESPACE","\n      ",421],"}",["T_WHITESPACE","\n      ",422],["T_ELSE","else",423],["T_WHITESPACE"," ",423],"{",["T_WHITESPACE","\n        ",423],["T_VARIABLE","$tokens",424],"[","]",["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_VARIABLE","$formula",424],"[",["T_VARIABLE","$i",424],"]",";",["T_WHITESPACE","\n      ",424],"}",["T_WHITESPACE","\n    ",425],"}",["T_WHITESPACE","\n    ",426],["T_RETURN","return",427],["T_WHITESPACE"," ",427],["T_VARIABLE","$tokens",427],";",["T_WHITESPACE","\n  ",427],"}",["T_WHITESPACE","\n\n  ",428],["T_DOC_COMMENT","\/**\n   * Evaluate the plural element stack using a plural value.\n   *\n   * Using an element stack, which represents a plural formula, we calculate\n   * which plural string should be used for a given plural value.\n   *\n   * An example of plural formula parting and evaluation:\n   *   Plural formula: 'n!=1'\n   * This formula is parsed by parseArithmetic() to a stack (array) of elements:\n   *   array(\n   *     0 => '$n',\n   *     1 => '1',\n   *     2 => '!=',\n   *   );\n   * The evaluatePlural() method evaluates the $element_stack using the plural\n   * value $n. Before the actual evaluation, the '$n' in the array is replaced\n   * by the value of $n.\n   *   For example: $n = 2 results in:\n   *   array(\n   *     0 => '2',\n   *     1 => '1',\n   *     2 => '!=',\n   *   );\n   * The stack is processed until only one element is (the result) is left. In\n   * every iteration the top elements of the stack, up until the first operator,\n   * are evaluated. After evaluation the arguments and the operator itself are\n   * removed and replaced by the evaluation result. This is typically 2\n   * arguments and 1 element for the operator.\n   *   Because the operator is '!=' the example stack is evaluated as:\n   *   $f = (int) 2 != 1;\n   *   The resulting stack is:\n   *   array(\n   *     0 => 1,\n   *   );\n   * With only one element left in the stack (the final result) the loop is\n   * terminated and the result is returned.\n   *\n   * @param array $element_stack\n   *   Array of plural formula values and operators create by parseArithmetic().\n   * @param int $n\n   *   The @count number for which we are determining the right plural position.\n   *\n   * @return int\n   *   Number of the plural string to be used for the given plural value.\n   *\n   * @see parseArithmetic()\n   * @throws Exception\n   *\/",430],["T_WHITESPACE","\n  ",477],["T_PROTECTED","protected",478],["T_WHITESPACE"," ",478],["T_FUNCTION","function",478],["T_WHITESPACE"," ",478],["T_STRING","evaluatePlural",478],"(",["T_VARIABLE","$element_stack",478],",",["T_WHITESPACE"," ",478],["T_VARIABLE","$n",478],")",["T_WHITESPACE"," ",478],"{",["T_WHITESPACE","\n    ",478],["T_VARIABLE","$count",479],["T_WHITESPACE"," ",479],"=",["T_WHITESPACE"," ",479],["T_STRING","count",479],"(",["T_VARIABLE","$element_stack",479],")",";",["T_WHITESPACE","\n    ",479],["T_VARIABLE","$limit",480],["T_WHITESPACE"," ",480],"=",["T_WHITESPACE"," ",480],["T_VARIABLE","$count",480],";",["T_WHITESPACE","\n    ",480],["T_COMMENT","\/\/ Replace the '$n' value in the formula by the plural value.\n",481],["T_WHITESPACE","    ",482],["T_FOR","for",482],["T_WHITESPACE"," ",482],"(",["T_VARIABLE","$i",482],["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],["T_LNUMBER","0",482],";",["T_WHITESPACE"," ",482],["T_VARIABLE","$i",482],["T_WHITESPACE"," ",482],"<",["T_WHITESPACE"," ",482],["T_VARIABLE","$count",482],";",["T_WHITESPACE"," ",482],["T_VARIABLE","$i",482],["T_INC","++",482],")",["T_WHITESPACE"," ",482],"{",["T_WHITESPACE","\n      ",482],["T_IF","if",483],["T_WHITESPACE"," ",483],"(",["T_VARIABLE","$element_stack",483],"[",["T_VARIABLE","$i",483],"]",["T_WHITESPACE"," ",483],["T_IS_IDENTICAL","===",483],["T_WHITESPACE"," ",483],["T_CONSTANT_ENCAPSED_STRING","'$n'",483],")",["T_WHITESPACE"," ",483],"{",["T_WHITESPACE","\n        ",483],["T_VARIABLE","$element_stack",484],"[",["T_VARIABLE","$i",484],"]",["T_WHITESPACE"," ",484],"=",["T_WHITESPACE"," ",484],["T_VARIABLE","$n",484],";",["T_WHITESPACE","\n      ",484],"}",["T_WHITESPACE","\n    ",485],"}",["T_WHITESPACE","\n\n    ",486],["T_COMMENT","\/\/ We process the stack until only one element is (the result) is left.\n",488],["T_WHITESPACE","    ",489],["T_COMMENT","\/\/ We limit the number of evaluation cycles to prevent an endless loop in\n",489],["T_WHITESPACE","    ",490],["T_COMMENT","\/\/ case the stack contains an error.\n",490],["T_WHITESPACE","    ",491],["T_WHILE","while",491],["T_WHITESPACE"," ",491],"(",["T_ISSET","isset",491],"(",["T_VARIABLE","$element_stack",491],"[",["T_LNUMBER","1",491],"]",")",")",["T_WHITESPACE"," ",491],"{",["T_WHITESPACE","\n      ",491],["T_FOR","for",492],["T_WHITESPACE"," ",492],"(",["T_VARIABLE","$i",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_LNUMBER","2",492],";",["T_WHITESPACE"," ",492],["T_VARIABLE","$i",492],["T_WHITESPACE"," ",492],"<",["T_WHITESPACE"," ",492],["T_VARIABLE","$count",492],";",["T_WHITESPACE"," ",492],["T_VARIABLE","$i",492],["T_INC","++",492],")",["T_WHITESPACE"," ",492],"{",["T_WHITESPACE","\n        ",492],["T_COMMENT","\/\/ There's no point in checking non-symbols. Also, switch(TRUE) would\n",493],["T_WHITESPACE","        ",494],["T_COMMENT","\/\/ match any case and so it would break.\n",494],["T_WHITESPACE","        ",495],["T_IF","if",495],["T_WHITESPACE"," ",495],"(",["T_STRING","is_bool",495],"(",["T_VARIABLE","$element_stack",495],"[",["T_VARIABLE","$i",495],"]",")",["T_WHITESPACE"," ",495],["T_BOOLEAN_OR","||",495],["T_WHITESPACE"," ",495],["T_STRING","is_numeric",495],"(",["T_VARIABLE","$element_stack",495],"[",["T_VARIABLE","$i",495],"]",")",")",["T_WHITESPACE"," ",495],"{",["T_WHITESPACE","\n          ",495],["T_CONTINUE","continue",496],";",["T_WHITESPACE","\n        ",496],"}",["T_WHITESPACE","\n        ",497],["T_VARIABLE","$f",498],["T_WHITESPACE"," ",498],"=",["T_WHITESPACE"," ",498],["T_STRING","NULL",498],";",["T_WHITESPACE","\n        ",498],["T_VARIABLE","$length",499],["T_WHITESPACE"," ",499],"=",["T_WHITESPACE"," ",499],["T_LNUMBER","3",499],";",["T_WHITESPACE","\n        ",499],["T_VARIABLE","$delta",500],["T_WHITESPACE"," ",500],"=",["T_WHITESPACE"," ",500],["T_LNUMBER","2",500],";",["T_WHITESPACE","\n        ",500],["T_SWITCH","switch",501],["T_WHITESPACE"," ",501],"(",["T_VARIABLE","$element_stack",501],"[",["T_VARIABLE","$i",501],"]",")",["T_WHITESPACE"," ",501],"{",["T_WHITESPACE","\n          ",501],["T_CASE","case",502],["T_WHITESPACE"," ",502],["T_CONSTANT_ENCAPSED_STRING","'=='",502],":",["T_WHITESPACE","\n            ",502],["T_VARIABLE","$f",503],["T_WHITESPACE"," ",503],"=",["T_WHITESPACE"," ",503],["T_VARIABLE","$element_stack",503],"[",["T_VARIABLE","$i",503],["T_WHITESPACE"," ",503],"-",["T_WHITESPACE"," ",503],["T_LNUMBER","2",503],"]",["T_WHITESPACE"," ",503],["T_IS_EQUAL","==",503],["T_WHITESPACE"," ",503],["T_VARIABLE","$element_stack",503],"[",["T_VARIABLE","$i",503],["T_WHITESPACE"," ",503],"-",["T_WHITESPACE"," ",503],["T_LNUMBER","1",503],"]",";",["T_WHITESPACE","\n            ",503],["T_BREAK","break",504],";",["T_WHITESPACE","\n          ",504],["T_CASE","case",505],["T_WHITESPACE"," ",505],["T_CONSTANT_ENCAPSED_STRING","'!='",505],":",["T_WHITESPACE","\n            ",505],["T_VARIABLE","$f",506],["T_WHITESPACE"," ",506],"=",["T_WHITESPACE"," ",506],["T_VARIABLE","$element_stack",506],"[",["T_VARIABLE","$i",506],["T_WHITESPACE"," ",506],"-",["T_WHITESPACE"," ",506],["T_LNUMBER","2",506],"]",["T_WHITESPACE"," ",506],["T_IS_NOT_EQUAL","!=",506],["T_WHITESPACE"," ",506],["T_VARIABLE","$element_stack",506],"[",["T_VARIABLE","$i",506],["T_WHITESPACE"," ",506],"-",["T_WHITESPACE"," ",506],["T_LNUMBER","1",506],"]",";",["T_WHITESPACE","\n            ",506],["T_BREAK","break",507],";",["T_WHITESPACE","\n          ",507],["T_CASE","case",508],["T_WHITESPACE"," ",508],["T_CONSTANT_ENCAPSED_STRING","'<='",508],":",["T_WHITESPACE","\n            ",508],["T_VARIABLE","$f",509],["T_WHITESPACE"," ",509],"=",["T_WHITESPACE"," ",509],["T_VARIABLE","$element_stack",509],"[",["T_VARIABLE","$i",509],["T_WHITESPACE"," ",509],"-",["T_WHITESPACE"," ",509],["T_LNUMBER","2",509],"]",["T_WHITESPACE"," ",509],["T_IS_SMALLER_OR_EQUAL","<=",509],["T_WHITESPACE"," ",509],["T_VARIABLE","$element_stack",509],"[",["T_VARIABLE","$i",509],["T_WHITESPACE"," ",509],"-",["T_WHITESPACE"," ",509],["T_LNUMBER","1",509],"]",";",["T_WHITESPACE","\n            ",509],["T_BREAK","break",510],";",["T_WHITESPACE","\n          ",510],["T_CASE","case",511],["T_WHITESPACE"," ",511],["T_CONSTANT_ENCAPSED_STRING","'>='",511],":",["T_WHITESPACE","\n            ",511],["T_VARIABLE","$f",512],["T_WHITESPACE"," ",512],"=",["T_WHITESPACE"," ",512],["T_VARIABLE","$element_stack",512],"[",["T_VARIABLE","$i",512],["T_WHITESPACE"," ",512],"-",["T_WHITESPACE"," ",512],["T_LNUMBER","2",512],"]",["T_WHITESPACE"," ",512],["T_IS_GREATER_OR_EQUAL",">=",512],["T_WHITESPACE"," ",512],["T_VARIABLE","$element_stack",512],"[",["T_VARIABLE","$i",512],["T_WHITESPACE"," ",512],"-",["T_WHITESPACE"," ",512],["T_LNUMBER","1",512],"]",";",["T_WHITESPACE","\n            ",512],["T_BREAK","break",513],";",["T_WHITESPACE","\n          ",513],["T_CASE","case",514],["T_WHITESPACE"," ",514],["T_CONSTANT_ENCAPSED_STRING","'<'",514],":",["T_WHITESPACE","\n            ",514],["T_VARIABLE","$f",515],["T_WHITESPACE"," ",515],"=",["T_WHITESPACE"," ",515],["T_VARIABLE","$element_stack",515],"[",["T_VARIABLE","$i",515],["T_WHITESPACE"," ",515],"-",["T_WHITESPACE"," ",515],["T_LNUMBER","2",515],"]",["T_WHITESPACE"," ",515],"<",["T_WHITESPACE"," ",515],["T_VARIABLE","$element_stack",515],"[",["T_VARIABLE","$i",515],["T_WHITESPACE"," ",515],"-",["T_WHITESPACE"," ",515],["T_LNUMBER","1",515],"]",";",["T_WHITESPACE","\n            ",515],["T_BREAK","break",516],";",["T_WHITESPACE","\n          ",516],["T_CASE","case",517],["T_WHITESPACE"," ",517],["T_CONSTANT_ENCAPSED_STRING","'>'",517],":",["T_WHITESPACE","\n            ",517],["T_VARIABLE","$f",518],["T_WHITESPACE"," ",518],"=",["T_WHITESPACE"," ",518],["T_VARIABLE","$element_stack",518],"[",["T_VARIABLE","$i",518],["T_WHITESPACE"," ",518],"-",["T_WHITESPACE"," ",518],["T_LNUMBER","2",518],"]",["T_WHITESPACE"," ",518],">",["T_WHITESPACE"," ",518],["T_VARIABLE","$element_stack",518],"[",["T_VARIABLE","$i",518],["T_WHITESPACE"," ",518],"-",["T_WHITESPACE"," ",518],["T_LNUMBER","1",518],"]",";",["T_WHITESPACE","\n            ",518],["T_BREAK","break",519],";",["T_WHITESPACE","\n          ",519],["T_CASE","case",520],["T_WHITESPACE"," ",520],["T_CONSTANT_ENCAPSED_STRING","'+'",520],":",["T_WHITESPACE","\n            ",520],["T_VARIABLE","$f",521],["T_WHITESPACE"," ",521],"=",["T_WHITESPACE"," ",521],["T_VARIABLE","$element_stack",521],"[",["T_VARIABLE","$i",521],["T_WHITESPACE"," ",521],"-",["T_WHITESPACE"," ",521],["T_LNUMBER","2",521],"]",["T_WHITESPACE"," ",521],"+",["T_WHITESPACE"," ",521],["T_VARIABLE","$element_stack",521],"[",["T_VARIABLE","$i",521],["T_WHITESPACE"," ",521],"-",["T_WHITESPACE"," ",521],["T_LNUMBER","1",521],"]",";",["T_WHITESPACE","\n            ",521],["T_BREAK","break",522],";",["T_WHITESPACE","\n          ",522],["T_CASE","case",523],["T_WHITESPACE"," ",523],["T_CONSTANT_ENCAPSED_STRING","'-'",523],":",["T_WHITESPACE","\n            ",523],["T_VARIABLE","$f",524],["T_WHITESPACE"," ",524],"=",["T_WHITESPACE"," ",524],["T_VARIABLE","$element_stack",524],"[",["T_VARIABLE","$i",524],["T_WHITESPACE"," ",524],"-",["T_WHITESPACE"," ",524],["T_LNUMBER","2",524],"]",["T_WHITESPACE"," ",524],"-",["T_WHITESPACE"," ",524],["T_VARIABLE","$element_stack",524],"[",["T_VARIABLE","$i",524],["T_WHITESPACE"," ",524],"-",["T_WHITESPACE"," ",524],["T_LNUMBER","1",524],"]",";",["T_WHITESPACE","\n            ",524],["T_BREAK","break",525],";",["T_WHITESPACE","\n          ",525],["T_CASE","case",526],["T_WHITESPACE"," ",526],["T_CONSTANT_ENCAPSED_STRING","'*'",526],":",["T_WHITESPACE","\n            ",526],["T_VARIABLE","$f",527],["T_WHITESPACE"," ",527],"=",["T_WHITESPACE"," ",527],["T_VARIABLE","$element_stack",527],"[",["T_VARIABLE","$i",527],["T_WHITESPACE"," ",527],"-",["T_WHITESPACE"," ",527],["T_LNUMBER","2",527],"]",["T_WHITESPACE"," ",527],"*",["T_WHITESPACE"," ",527],["T_VARIABLE","$element_stack",527],"[",["T_VARIABLE","$i",527],["T_WHITESPACE"," ",527],"-",["T_WHITESPACE"," ",527],["T_LNUMBER","1",527],"]",";",["T_WHITESPACE","\n            ",527],["T_BREAK","break",528],";",["T_WHITESPACE","\n          ",528],["T_CASE","case",529],["T_WHITESPACE"," ",529],["T_CONSTANT_ENCAPSED_STRING","'\/'",529],":",["T_WHITESPACE","\n            ",529],["T_VARIABLE","$f",530],["T_WHITESPACE"," ",530],"=",["T_WHITESPACE"," ",530],["T_VARIABLE","$element_stack",530],"[",["T_VARIABLE","$i",530],["T_WHITESPACE"," ",530],"-",["T_WHITESPACE"," ",530],["T_LNUMBER","2",530],"]",["T_WHITESPACE"," ",530],"\/",["T_WHITESPACE"," ",530],["T_VARIABLE","$element_stack",530],"[",["T_VARIABLE","$i",530],["T_WHITESPACE"," ",530],"-",["T_WHITESPACE"," ",530],["T_LNUMBER","1",530],"]",";",["T_WHITESPACE","\n            ",530],["T_BREAK","break",531],";",["T_WHITESPACE","\n          ",531],["T_CASE","case",532],["T_WHITESPACE"," ",532],["T_CONSTANT_ENCAPSED_STRING","'%'",532],":",["T_WHITESPACE","\n            ",532],["T_VARIABLE","$f",533],["T_WHITESPACE"," ",533],"=",["T_WHITESPACE"," ",533],["T_VARIABLE","$element_stack",533],"[",["T_VARIABLE","$i",533],["T_WHITESPACE"," ",533],"-",["T_WHITESPACE"," ",533],["T_LNUMBER","2",533],"]",["T_WHITESPACE"," ",533],"%",["T_WHITESPACE"," ",533],["T_VARIABLE","$element_stack",533],"[",["T_VARIABLE","$i",533],["T_WHITESPACE"," ",533],"-",["T_WHITESPACE"," ",533],["T_LNUMBER","1",533],"]",";",["T_WHITESPACE","\n            ",533],["T_BREAK","break",534],";",["T_WHITESPACE","\n          ",534],["T_CASE","case",535],["T_WHITESPACE"," ",535],["T_CONSTANT_ENCAPSED_STRING","'&&'",535],":",["T_WHITESPACE","\n            ",535],["T_VARIABLE","$f",536],["T_WHITESPACE"," ",536],"=",["T_WHITESPACE"," ",536],["T_VARIABLE","$element_stack",536],"[",["T_VARIABLE","$i",536],["T_WHITESPACE"," ",536],"-",["T_WHITESPACE"," ",536],["T_LNUMBER","2",536],"]",["T_WHITESPACE"," ",536],["T_BOOLEAN_AND","&&",536],["T_WHITESPACE"," ",536],["T_VARIABLE","$element_stack",536],"[",["T_VARIABLE","$i",536],["T_WHITESPACE"," ",536],"-",["T_WHITESPACE"," ",536],["T_LNUMBER","1",536],"]",";",["T_WHITESPACE","\n            ",536],["T_BREAK","break",537],";",["T_WHITESPACE","\n          ",537],["T_CASE","case",538],["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","'||'",538],":",["T_WHITESPACE","\n            ",538],["T_VARIABLE","$f",539],["T_WHITESPACE"," ",539],"=",["T_WHITESPACE"," ",539],["T_VARIABLE","$element_stack",539],"[",["T_VARIABLE","$i",539],["T_WHITESPACE"," ",539],"-",["T_WHITESPACE"," ",539],["T_LNUMBER","2",539],"]",["T_WHITESPACE"," ",539],["T_BOOLEAN_OR","||",539],["T_WHITESPACE"," ",539],["T_VARIABLE","$element_stack",539],"[",["T_VARIABLE","$i",539],["T_WHITESPACE"," ",539],"-",["T_WHITESPACE"," ",539],["T_LNUMBER","1",539],"]",";",["T_WHITESPACE","\n            ",539],["T_BREAK","break",540],";",["T_WHITESPACE","\n          ",540],["T_CASE","case",541],["T_WHITESPACE"," ",541],["T_CONSTANT_ENCAPSED_STRING","':'",541],":",["T_WHITESPACE","\n            ",541],["T_VARIABLE","$f",542],["T_WHITESPACE"," ",542],"=",["T_WHITESPACE"," ",542],["T_VARIABLE","$element_stack",542],"[",["T_VARIABLE","$i",542],["T_WHITESPACE"," ",542],"-",["T_WHITESPACE"," ",542],["T_LNUMBER","3",542],"]",["T_WHITESPACE"," ",542],"?",["T_WHITESPACE"," ",542],["T_VARIABLE","$element_stack",542],"[",["T_VARIABLE","$i",542],["T_WHITESPACE"," ",542],"-",["T_WHITESPACE"," ",542],["T_LNUMBER","2",542],"]",["T_WHITESPACE"," ",542],":",["T_WHITESPACE"," ",542],["T_VARIABLE","$element_stack",542],"[",["T_VARIABLE","$i",542],["T_WHITESPACE"," ",542],"-",["T_WHITESPACE"," ",542],["T_LNUMBER","1",542],"]",";",["T_WHITESPACE","\n            ",542],["T_COMMENT","\/\/ This operator has 3 preceding elements, instead of the default 2.\n",543],["T_WHITESPACE","            ",544],["T_VARIABLE","$length",544],["T_WHITESPACE"," ",544],"=",["T_WHITESPACE"," ",544],["T_LNUMBER","5",544],";",["T_WHITESPACE","\n            ",544],["T_VARIABLE","$delta",545],["T_WHITESPACE"," ",545],"=",["T_WHITESPACE"," ",545],["T_LNUMBER","3",545],";",["T_WHITESPACE","\n            ",545],["T_BREAK","break",546],";",["T_WHITESPACE","\n        ",546],"}",["T_WHITESPACE","\n\n        ",547],["T_COMMENT","\/\/ If the element is an operator we remove the processed elements and\n",549],["T_WHITESPACE","        ",550],["T_COMMENT","\/\/ store the result.\n",550],["T_WHITESPACE","        ",551],["T_IF","if",551],["T_WHITESPACE"," ",551],"(",["T_ISSET","isset",551],"(",["T_VARIABLE","$f",551],")",")",["T_WHITESPACE"," ",551],"{",["T_WHITESPACE","\n          ",551],["T_STRING","array_splice",552],"(",["T_VARIABLE","$element_stack",552],",",["T_WHITESPACE"," ",552],["T_VARIABLE","$i",552],["T_WHITESPACE"," ",552],"-",["T_WHITESPACE"," ",552],["T_VARIABLE","$delta",552],",",["T_WHITESPACE"," ",552],["T_VARIABLE","$length",552],",",["T_WHITESPACE"," ",552],["T_VARIABLE","$f",552],")",";",["T_WHITESPACE","\n          ",552],["T_BREAK","break",553],";",["T_WHITESPACE","\n        ",553],"}",["T_WHITESPACE","\n      ",554],"}",["T_WHITESPACE","\n    ",555],"}",["T_WHITESPACE","\n    ",556],["T_IF","if",557],["T_WHITESPACE"," ",557],"(","!",["T_VARIABLE","$limit",557],")",["T_WHITESPACE"," ",557],"{",["T_WHITESPACE","\n      ",557],["T_THROW","throw",558],["T_WHITESPACE"," ",558],["T_NEW","new",558],["T_WHITESPACE"," ",558],["T_NS_SEPARATOR","\\",558],["T_STRING","Exception",558],"(",["T_CONSTANT_ENCAPSED_STRING","'The plural formula could not be evaluated.'",558],")",";",["T_WHITESPACE","\n    ",558],"}",["T_WHITESPACE","\n    ",559],["T_RETURN","return",560],["T_WHITESPACE"," ",560],["T_INT_CAST","(int)",560],["T_WHITESPACE"," ",560],["T_VARIABLE","$element_stack",560],"[",["T_LNUMBER","0",560],"]",";",["T_WHITESPACE","\n  ",560],"}",["T_WHITESPACE","\n\n",561],"}",["T_WHITESPACE","\n",563]]