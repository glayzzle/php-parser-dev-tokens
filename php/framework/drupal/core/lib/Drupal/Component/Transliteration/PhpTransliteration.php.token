[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Component",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Transliteration",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Implements transliteration without using the PECL extensions.\n *\n * Transliterations are done character-by-character, by looking up non-US-ASCII\n * characters in a transliteration database.\n *\n * The database comes from two types of files, both of which are searched for in\n * the PhpTransliteration::$dataDirectory directory. First, language-specific\n * overrides are searched (see PhpTransliteration::readLanguageOverrides()). If\n * there is no language-specific override for a character, the generic\n * transliteration character tables are searched (see\n * PhpTransliteration::readGenericData()). If looking up the character in the\n * generic table results in a NULL value, or an illegal character is\n * encountered, then a substitute character is returned.\n *\n * Some parts of this code were derived from the MediaWiki project's UtfNormal\n * class, Copyright \u00c2\u00a9 2004 Brion Vibber <brion@pobox.com>,\n * http:\/\/www.mediawiki.org\/\n *\/",5],["T_WHITESPACE","\n",23],["T_CLASS","class",24],["T_WHITESPACE"," ",24],["T_STRING","PhpTransliteration",24],["T_WHITESPACE"," ",24],["T_IMPLEMENTS","implements",24],["T_WHITESPACE"," ",24],["T_STRING","TransliterationInterface",24],["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n\n  ",24],["T_DOC_COMMENT","\/**\n   * Directory where data for transliteration resides.\n   *\n   * The constructor sets this (by default) to subdirectory 'data' underneath\n   * the directory where the class's PHP file resides.\n   *\n   * @var string\n   *\/",26],["T_WHITESPACE","\n  ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$dataDirectory",34],";",["T_WHITESPACE","\n\n  ",34],["T_DOC_COMMENT","\/**\n   * Associative array of language-specific character transliteration tables.\n   *\n   * The outermost array keys are language codes. For each language code key,\n   * the value is an array whose keys are Unicode character codes, and whose\n   * values are the transliterations of those characters to US-ASCII. This is\n   * set up as needed in PhpTransliteration::replace() by calling\n   * PhpTransliteration::readLanguageOverrides().\n   *\n   * @var array\n   *\/",36],["T_WHITESPACE","\n  ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$languageOverrides",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_ARRAY","array",47],"(",")",";",["T_WHITESPACE","\n\n  ",47],["T_DOC_COMMENT","\/**\n   * Non-language-specific transliteration tables.\n   *\n   * Array whose keys are the upper two bytes of the Unicode character, and\n   * whose values are an array of transliterations for each lower-two bytes\n   * character code. This is set up as needed in PhpTransliteration::replace()\n   * by calling PhpTransliteration::readGenericData().\n   *\n   * @var array\n   *\/",49],["T_WHITESPACE","\n  ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$genericMap",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_ARRAY","array",59],"(",")",";",["T_WHITESPACE","\n\n  ",59],["T_DOC_COMMENT","\/**\n   * Constructs a transliteration object.\n   *\n   * @param string $data_directory\n   *   (optional) The directory where data files reside. If omitted, defaults\n   *   to subdirectory 'data' underneath the directory where the class's PHP\n   *   file resides.\n   *\/",61],["T_WHITESPACE","\n  ",68],["T_PUBLIC","public",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","__construct",69],"(",["T_VARIABLE","$data_directory",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","NULL",69],")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","dataDirectory",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],"(",["T_ISSET","isset",70],"(",["T_VARIABLE","$data_directory",70],")",")",["T_WHITESPACE"," ",70],"?",["T_WHITESPACE"," ",70],["T_VARIABLE","$data_directory",70],["T_WHITESPACE"," ",70],":",["T_WHITESPACE"," ",70],["T_DIR","__DIR__",70],["T_WHITESPACE"," ",70],".",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'\/data'",70],";",["T_WHITESPACE","\n  ",70],"}",["T_WHITESPACE","\n\n  ",71],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",73],["T_WHITESPACE","\n  ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","removeDiacritics",76],"(",["T_VARIABLE","$string",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$result",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","''",77],";",["T_WHITESPACE","\n\n    ",77],["T_FOREACH","foreach",79],["T_WHITESPACE"," ",79],"(",["T_STRING","preg_split",79],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/u'",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$string",79],",",["T_WHITESPACE"," ",79],["T_LNUMBER","0",79],",",["T_WHITESPACE"," ",79],["T_STRING","PREG_SPLIT_NO_EMPTY",79],")",["T_WHITESPACE"," ",79],["T_AS","as",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$character",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n      ",79],["T_VARIABLE","$code",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","self",80],["T_DOUBLE_COLON","::",80],["T_STRING","ordUTF8",80],"(",["T_VARIABLE","$character",80],")",";",["T_WHITESPACE","\n\n      ",80],["T_COMMENT","\/\/ These two Unicode ranges include the accented US-ASCII letters, with a\n",82],["T_WHITESPACE","      ",83],["T_COMMENT","\/\/ few characters that aren't accented letters mixed in. So define the\n",83],["T_WHITESPACE","      ",84],["T_COMMENT","\/\/ ranges and the excluded characters.\n",84],["T_WHITESPACE","      ",85],["T_VARIABLE","$range1",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$code",85],["T_WHITESPACE"," ",85],">",["T_WHITESPACE"," ",85],["T_LNUMBER","0x00bf",85],["T_WHITESPACE"," ",85],["T_BOOLEAN_AND","&&",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$code",85],["T_WHITESPACE"," ",85],"<",["T_WHITESPACE"," ",85],["T_LNUMBER","0x017f",85],";",["T_WHITESPACE","\n      ",85],["T_VARIABLE","$exclusions_range1",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_ARRAY","array",86],"(",["T_LNUMBER","0x00d0",86],",",["T_WHITESPACE"," ",86],["T_LNUMBER","0x00d7",86],",",["T_WHITESPACE"," ",86],["T_LNUMBER","0x00f0",86],",",["T_WHITESPACE"," ",86],["T_LNUMBER","0x00f7",86],",",["T_WHITESPACE"," ",86],["T_LNUMBER","0x0138",86],",",["T_WHITESPACE"," ",86],["T_LNUMBER","0x014a",86],",",["T_WHITESPACE"," ",86],["T_LNUMBER","0x014b",86],")",";",["T_WHITESPACE","\n      ",86],["T_VARIABLE","$range2",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$code",87],["T_WHITESPACE"," ",87],">",["T_WHITESPACE"," ",87],["T_LNUMBER","0x01cc",87],["T_WHITESPACE"," ",87],["T_BOOLEAN_AND","&&",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$code",87],["T_WHITESPACE"," ",87],"<",["T_WHITESPACE"," ",87],["T_LNUMBER","0x0250",87],";",["T_WHITESPACE","\n      ",87],["T_VARIABLE","$exclusions_range2",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_ARRAY","array",88],"(",["T_LNUMBER","0x01DD",88],",",["T_WHITESPACE"," ",88],["T_LNUMBER","0x01f7",88],",",["T_WHITESPACE"," ",88],["T_LNUMBER","0x021c",88],",",["T_WHITESPACE"," ",88],["T_LNUMBER","0x021d",88],",",["T_WHITESPACE"," ",88],["T_LNUMBER","0x0220",88],",",["T_WHITESPACE"," ",88],["T_LNUMBER","0x0221",88],",",["T_WHITESPACE"," ",88],["T_LNUMBER","0x0241",88],",",["T_WHITESPACE"," ",88],["T_LNUMBER","0x0242",88],",",["T_WHITESPACE"," ",88],["T_LNUMBER","0x0245",88],")",";",["T_WHITESPACE","\n\n      ",88],["T_VARIABLE","$replacement",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$character",90],";",["T_WHITESPACE","\n      ",90],["T_IF","if",91],["T_WHITESPACE"," ",91],"(","(",["T_VARIABLE","$range1",91],["T_WHITESPACE"," ",91],["T_BOOLEAN_AND","&&",91],["T_WHITESPACE"," ",91],"!",["T_STRING","in_array",91],"(",["T_VARIABLE","$code",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$exclusions_range1",91],")",")",["T_WHITESPACE"," ",91],["T_BOOLEAN_OR","||",91],["T_WHITESPACE"," ",91],"(",["T_VARIABLE","$range2",91],["T_WHITESPACE"," ",91],["T_BOOLEAN_AND","&&",91],["T_WHITESPACE"," ",91],"!",["T_STRING","in_array",91],"(",["T_VARIABLE","$code",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$exclusions_range2",91],")",")",")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$to_add",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","lookupReplacement",92],"(",["T_VARIABLE","$code",92],",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'xyz'",92],")",";",["T_WHITESPACE","\n        ",92],["T_IF","if",93],["T_WHITESPACE"," ",93],"(",["T_STRING","strlen",93],"(",["T_VARIABLE","$to_add",93],")",["T_WHITESPACE"," ",93],["T_IS_IDENTICAL","===",93],["T_WHITESPACE"," ",93],["T_LNUMBER","1",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n          ",93],["T_VARIABLE","$replacement",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$to_add",94],";",["T_WHITESPACE","\n        ",94],"}",["T_WHITESPACE","\n      ",95],"}",["T_WHITESPACE","\n\n      ",96],["T_VARIABLE","$result",98],["T_WHITESPACE"," ",98],["T_CONCAT_EQUAL",".=",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$replacement",98],";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n\n    ",99],["T_RETURN","return",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$result",101],";",["T_WHITESPACE","\n  ",101],"}",["T_WHITESPACE","\n\n  ",102],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",104],["T_WHITESPACE","\n  ",106],["T_PUBLIC","public",107],["T_WHITESPACE"," ",107],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],["T_STRING","transliterate",107],"(",["T_VARIABLE","$string",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$langcode",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'en'",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$unknown_character",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'?'",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$max_length",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_STRING","NULL",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$result",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","''",108],";",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$length",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_LNUMBER","0",109],";",["T_WHITESPACE","\n    ",109],["T_COMMENT","\/\/ Split into Unicode characters and transliterate each one.\n",110],["T_WHITESPACE","    ",111],["T_FOREACH","foreach",111],["T_WHITESPACE"," ",111],"(",["T_STRING","preg_split",111],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/u'",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$string",111],",",["T_WHITESPACE"," ",111],["T_LNUMBER","0",111],",",["T_WHITESPACE"," ",111],["T_STRING","PREG_SPLIT_NO_EMPTY",111],")",["T_WHITESPACE"," ",111],["T_AS","as",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$character",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n      ",111],["T_VARIABLE","$code",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","self",112],["T_DOUBLE_COLON","::",112],["T_STRING","ordUTF8",112],"(",["T_VARIABLE","$character",112],")",";",["T_WHITESPACE","\n      ",112],["T_IF","if",113],["T_WHITESPACE"," ",113],"(",["T_VARIABLE","$code",113],["T_WHITESPACE"," ",113],["T_IS_EQUAL","==",113],["T_WHITESPACE"," ",113],"-",["T_LNUMBER","1",113],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$to_add",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$unknown_character",114],";",["T_WHITESPACE","\n      ",114],"}",["T_WHITESPACE","\n      ",115],["T_ELSE","else",116],["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$to_add",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","replace",117],"(",["T_VARIABLE","$code",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$langcode",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$unknown_character",117],")",";",["T_WHITESPACE","\n      ",117],"}",["T_WHITESPACE","\n\n      ",118],["T_COMMENT","\/\/ Check if this exceeds the maximum allowed length.\n",120],["T_WHITESPACE","      ",121],["T_IF","if",121],["T_WHITESPACE"," ",121],"(",["T_ISSET","isset",121],"(",["T_VARIABLE","$max_length",121],")",")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$length",122],["T_WHITESPACE"," ",122],["T_PLUS_EQUAL","+=",122],["T_WHITESPACE"," ",122],["T_STRING","strlen",122],"(",["T_VARIABLE","$to_add",122],")",";",["T_WHITESPACE","\n        ",122],["T_IF","if",123],["T_WHITESPACE"," ",123],"(",["T_VARIABLE","$length",123],["T_WHITESPACE"," ",123],">",["T_WHITESPACE"," ",123],["T_VARIABLE","$max_length",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n          ",123],["T_COMMENT","\/\/ There is no more space.\n",124],["T_WHITESPACE","          ",125],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$result",125],";",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE","\n      ",126],"}",["T_WHITESPACE","\n\n      ",127],["T_VARIABLE","$result",129],["T_WHITESPACE"," ",129],["T_CONCAT_EQUAL",".=",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$to_add",129],";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_RETURN","return",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$result",132],";",["T_WHITESPACE","\n  ",132],"}",["T_WHITESPACE","\n\n  ",133],["T_DOC_COMMENT","\/**\n   * Finds the character code for a UTF-8 character: like ord() but for UTF-8.\n   *\n   * @param string $character\n   *   A single UTF-8 character.\n   *\n   * @return int\n   *   The character code, or -1 if an illegal character is found.\n   *\/",135],["T_WHITESPACE","\n  ",143],["T_PROTECTED","protected",144],["T_WHITESPACE"," ",144],["T_STATIC","static",144],["T_WHITESPACE"," ",144],["T_FUNCTION","function",144],["T_WHITESPACE"," ",144],["T_STRING","ordUTF8",144],"(",["T_VARIABLE","$character",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n    ",144],["T_VARIABLE","$first_byte",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_STRING","ord",145],"(",["T_VARIABLE","$character",145],"[",["T_LNUMBER","0",145],"]",")",";",["T_WHITESPACE","\n\n    ",145],["T_IF","if",147],["T_WHITESPACE"," ",147],"(","(",["T_VARIABLE","$first_byte",147],["T_WHITESPACE"," ",147],"&",["T_WHITESPACE"," ",147],["T_LNUMBER","0x80",147],")",["T_WHITESPACE"," ",147],["T_IS_EQUAL","==",147],["T_WHITESPACE"," ",147],["T_LNUMBER","0",147],")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n      ",147],["T_COMMENT","\/\/ Single-byte form: 0xxxxxxxx.\n",148],["T_WHITESPACE","      ",149],["T_RETURN","return",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$first_byte",149],";",["T_WHITESPACE","\n    ",149],"}",["T_WHITESPACE","\n    ",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(","(",["T_VARIABLE","$first_byte",151],["T_WHITESPACE"," ",151],"&",["T_WHITESPACE"," ",151],["T_LNUMBER","0xe0",151],")",["T_WHITESPACE"," ",151],["T_IS_EQUAL","==",151],["T_WHITESPACE"," ",151],["T_LNUMBER","0xc0",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n      ",151],["T_COMMENT","\/\/ Two-byte form: 110xxxxx 10xxxxxx.\n",152],["T_WHITESPACE","      ",153],["T_RETURN","return",153],["T_WHITESPACE"," ",153],"(","(",["T_VARIABLE","$first_byte",153],["T_WHITESPACE"," ",153],"&",["T_WHITESPACE"," ",153],["T_LNUMBER","0x1f",153],")",["T_WHITESPACE"," ",153],["T_SL","<<",153],["T_WHITESPACE"," ",153],["T_LNUMBER","6",153],")",["T_WHITESPACE"," ",153],"+",["T_WHITESPACE"," ",153],"(",["T_STRING","ord",153],"(",["T_VARIABLE","$character",153],"[",["T_LNUMBER","1",153],"]",")",["T_WHITESPACE"," ",153],"&",["T_WHITESPACE"," ",153],["T_LNUMBER","0x3f",153],")",";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n    ",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(","(",["T_VARIABLE","$first_byte",155],["T_WHITESPACE"," ",155],"&",["T_WHITESPACE"," ",155],["T_LNUMBER","0xf0",155],")",["T_WHITESPACE"," ",155],["T_IS_EQUAL","==",155],["T_WHITESPACE"," ",155],["T_LNUMBER","0xe0",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n      ",155],["T_COMMENT","\/\/ Three-byte form: 1110xxxx 10xxxxxx 10xxxxxx.\n",156],["T_WHITESPACE","      ",157],["T_RETURN","return",157],["T_WHITESPACE"," ",157],"(","(",["T_VARIABLE","$first_byte",157],["T_WHITESPACE"," ",157],"&",["T_WHITESPACE"," ",157],["T_LNUMBER","0x0f",157],")",["T_WHITESPACE"," ",157],["T_SL","<<",157],["T_WHITESPACE"," ",157],["T_LNUMBER","12",157],")",["T_WHITESPACE"," ",157],"+",["T_WHITESPACE"," ",157],"(","(",["T_STRING","ord",157],"(",["T_VARIABLE","$character",157],"[",["T_LNUMBER","1",157],"]",")",["T_WHITESPACE"," ",157],"&",["T_WHITESPACE"," ",157],["T_LNUMBER","0x3f",157],")",["T_WHITESPACE"," ",157],["T_SL","<<",157],["T_WHITESPACE"," ",157],["T_LNUMBER","6",157],")",["T_WHITESPACE"," ",157],"+",["T_WHITESPACE"," ",157],"(",["T_STRING","ord",157],"(",["T_VARIABLE","$character",157],"[",["T_LNUMBER","2",157],"]",")",["T_WHITESPACE"," ",157],"&",["T_WHITESPACE"," ",157],["T_LNUMBER","0x3f",157],")",";",["T_WHITESPACE","\n    ",157],"}",["T_WHITESPACE","\n    ",158],["T_IF","if",159],["T_WHITESPACE"," ",159],"(","(",["T_VARIABLE","$first_byte",159],["T_WHITESPACE"," ",159],"&",["T_WHITESPACE"," ",159],["T_LNUMBER","0xf8",159],")",["T_WHITESPACE"," ",159],["T_IS_EQUAL","==",159],["T_WHITESPACE"," ",159],["T_LNUMBER","0xf0",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n      ",159],["T_COMMENT","\/\/ Four-byte form: 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx.\n",160],["T_WHITESPACE","      ",161],["T_RETURN","return",161],["T_WHITESPACE"," ",161],"(","(",["T_VARIABLE","$first_byte",161],["T_WHITESPACE"," ",161],"&",["T_WHITESPACE"," ",161],["T_LNUMBER","0x07",161],")",["T_WHITESPACE"," ",161],["T_SL","<<",161],["T_WHITESPACE"," ",161],["T_LNUMBER","18",161],")",["T_WHITESPACE"," ",161],"+",["T_WHITESPACE"," ",161],"(","(",["T_STRING","ord",161],"(",["T_VARIABLE","$character",161],"[",["T_LNUMBER","1",161],"]",")",["T_WHITESPACE"," ",161],"&",["T_WHITESPACE"," ",161],["T_LNUMBER","0x3f",161],")",["T_WHITESPACE"," ",161],["T_SL","<<",161],["T_WHITESPACE"," ",161],["T_LNUMBER","12",161],")",["T_WHITESPACE"," ",161],"+",["T_WHITESPACE"," ",161],"(","(",["T_STRING","ord",161],"(",["T_VARIABLE","$character",161],"[",["T_LNUMBER","2",161],"]",")",["T_WHITESPACE"," ",161],"&",["T_WHITESPACE"," ",161],["T_LNUMBER","0x3f",161],")",["T_WHITESPACE"," ",161],["T_SL","<<",161],["T_WHITESPACE"," ",161],["T_LNUMBER","6",161],")",["T_WHITESPACE"," ",161],"+",["T_WHITESPACE"," ",161],"(",["T_STRING","ord",161],"(",["T_VARIABLE","$character",161],"[",["T_LNUMBER","3",161],"]",")",["T_WHITESPACE"," ",161],"&",["T_WHITESPACE"," ",161],["T_LNUMBER","0x3f",161],")",";",["T_WHITESPACE","\n    ",161],"}",["T_WHITESPACE","\n\n    ",162],["T_COMMENT","\/\/ Other forms are not legal.\n",164],["T_WHITESPACE","    ",165],["T_RETURN","return",165],["T_WHITESPACE"," ",165],"-",["T_LNUMBER","1",165],";",["T_WHITESPACE","\n  ",165],"}",["T_WHITESPACE","\n\n  ",166],["T_DOC_COMMENT","\/**\n   * Replaces a single Unicode character using the transliteration database.\n   *\n   * @param int $code\n   *   The character code of a Unicode character.\n   * @param string $langcode\n   *   The language code of the language the character is in.\n   * @param string $unknown_character\n   *   The character to substitute for characters without transliterated\n   *   equivalents.\n   *\n   * @return string\n   *   US-ASCII replacement character. If it has a mapping, it is returned;\n   *   otherwise, $unknown_character is returned. The replacement can contain\n   *   multiple characters.\n   *\/",168],["T_WHITESPACE","\n  ",183],["T_PROTECTED","protected",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","replace",184],"(",["T_VARIABLE","$code",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$langcode",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$unknown_character",184],")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n    ",184],["T_IF","if",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$code",185],["T_WHITESPACE"," ",185],"<",["T_WHITESPACE"," ",185],["T_LNUMBER","0x80",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n      ",185],["T_COMMENT","\/\/ Already lower ASCII.\n",186],["T_WHITESPACE","      ",187],["T_RETURN","return",187],["T_WHITESPACE"," ",187],["T_STRING","chr",187],"(",["T_VARIABLE","$code",187],")",";",["T_WHITESPACE","\n    ",187],"}",["T_WHITESPACE","\n\n    ",188],["T_COMMENT","\/\/ See if there is a language-specific override for this character.\n",190],["T_WHITESPACE","    ",191],["T_IF","if",191],["T_WHITESPACE"," ",191],"(","!",["T_ISSET","isset",191],"(",["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","languageOverrides",191],"[",["T_VARIABLE","$langcode",191],"]",")",")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n      ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","readLanguageOverrides",192],"(",["T_VARIABLE","$langcode",192],")",";",["T_WHITESPACE","\n    ",192],"}",["T_WHITESPACE","\n    ",193],["T_IF","if",194],["T_WHITESPACE"," ",194],"(",["T_ISSET","isset",194],"(",["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","languageOverrides",194],"[",["T_VARIABLE","$langcode",194],"]","[",["T_VARIABLE","$code",194],"]",")",")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n      ",194],["T_RETURN","return",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","languageOverrides",195],"[",["T_VARIABLE","$langcode",195],"]","[",["T_VARIABLE","$code",195],"]",";",["T_WHITESPACE","\n    ",195],"}",["T_WHITESPACE","\n\n    ",196],["T_RETURN","return",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","lookupReplacement",198],"(",["T_VARIABLE","$code",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$unknown_character",198],")",";",["T_WHITESPACE","\n  ",198],"}",["T_WHITESPACE","\n\n  ",199],["T_DOC_COMMENT","\/**\n   * Look up the generic replacement for a UTF-8 character code.\n   *\n   * @param $code\n   *   The UTF-8 character code.\n   * @param string $unknown_character\n   *   (optional) The character to substitute for characters without entries in\n   *   the replacement tables.\n   *\n   * @return string\n   *   US-ASCII replacement characters. If it has a mapping, it is returned;\n   *   otherwise, $unknown_character is returned. The replacement can contain\n   *   multiple characters.\n   *\/",201],["T_WHITESPACE","\n  ",214],["T_PROTECTED","protected",215],["T_WHITESPACE"," ",215],["T_FUNCTION","function",215],["T_WHITESPACE"," ",215],["T_STRING","lookupReplacement",215],"(",["T_VARIABLE","$code",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$unknown_character",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","'?'",215],")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n    ",215],["T_COMMENT","\/\/ See if there is a generic mapping for this character.\n",216],["T_WHITESPACE","    ",217],["T_VARIABLE","$bank",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$code",217],["T_WHITESPACE"," ",217],["T_SR",">>",217],["T_WHITESPACE"," ",217],["T_LNUMBER","8",217],";",["T_WHITESPACE","\n    ",217],["T_IF","if",218],["T_WHITESPACE"," ",218],"(","!",["T_ISSET","isset",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","genericMap",218],"[",["T_VARIABLE","$bank",218],"]",")",")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n      ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","readGenericData",219],"(",["T_VARIABLE","$bank",219],")",";",["T_WHITESPACE","\n    ",219],"}",["T_WHITESPACE","\n    ",220],["T_VARIABLE","$code",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_VARIABLE","$code",221],["T_WHITESPACE"," ",221],"&",["T_WHITESPACE"," ",221],["T_LNUMBER","0xff",221],";",["T_WHITESPACE","\n    ",221],["T_RETURN","return",222],["T_WHITESPACE"," ",222],["T_ISSET","isset",222],"(",["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","genericMap",222],"[",["T_VARIABLE","$bank",222],"]","[",["T_VARIABLE","$code",222],"]",")",["T_WHITESPACE"," ",222],"?",["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","genericMap",222],"[",["T_VARIABLE","$bank",222],"]","[",["T_VARIABLE","$code",222],"]",["T_WHITESPACE"," ",222],":",["T_WHITESPACE"," ",222],["T_VARIABLE","$unknown_character",222],";",["T_WHITESPACE","\n  ",222],"}",["T_WHITESPACE","\n\n  ",223],["T_DOC_COMMENT","\/**\n   * Reads in language overrides for a language code.\n   *\n   * The data is read from files named \"$langcode.php\" in\n   * PhpTransliteration::$dataDirectory. These files should set up an array\n   * variable $overrides with an element whose key is $langcode and whose value\n   * is an array whose keys are character codes, and whose values are their\n   * transliterations in this language. The character codes can be for any valid\n   * Unicode character, independent of the number of bytes.\n   *\n   * @param $langcode\n   *   Code for the language to read.\n   *\/",225],["T_WHITESPACE","\n  ",237],["T_PROTECTED","protected",238],["T_WHITESPACE"," ",238],["T_FUNCTION","function",238],["T_WHITESPACE"," ",238],["T_STRING","readLanguageOverrides",238],"(",["T_VARIABLE","$langcode",238],")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n    ",238],["T_COMMENT","\/\/ Figure out the file name to use by sanitizing the language code,\n",239],["T_WHITESPACE","    ",240],["T_COMMENT","\/\/ just in case.\n",240],["T_WHITESPACE","    ",241],["T_VARIABLE","$file",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","dataDirectory",241],["T_WHITESPACE"," ",241],".",["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","'\/'",241],["T_WHITESPACE"," ",241],".",["T_WHITESPACE"," ",241],["T_STRING","preg_replace",241],"(",["T_CONSTANT_ENCAPSED_STRING","'\/[^a-zA-Z\\-]\/'",241],",",["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","''",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$langcode",241],")",["T_WHITESPACE"," ",241],".",["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","'.php'",241],";",["T_WHITESPACE","\n\n    ",241],["T_COMMENT","\/\/ Read in this file, which should set up a variable called $overrides,\n",243],["T_WHITESPACE","    ",244],["T_COMMENT","\/\/ which will be local to this function.\n",244],["T_WHITESPACE","    ",245],["T_IF","if",245],["T_WHITESPACE"," ",245],"(",["T_STRING","is_file",245],"(",["T_VARIABLE","$file",245],")",")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n      ",245],["T_INCLUDE","include",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$file",246],";",["T_WHITESPACE","\n    ",246],"}",["T_WHITESPACE","\n    ",247],["T_IF","if",248],["T_WHITESPACE"," ",248],"(","!",["T_ISSET","isset",248],"(",["T_VARIABLE","$overrides",248],")",["T_WHITESPACE"," ",248],["T_BOOLEAN_OR","||",248],["T_WHITESPACE"," ",248],"!",["T_STRING","is_array",248],"(",["T_VARIABLE","$overrides",248],")",")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n      ",248],["T_VARIABLE","$overrides",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_ARRAY","array",249],"(",["T_VARIABLE","$langcode",249],["T_WHITESPACE"," ",249],["T_DOUBLE_ARROW","=>",249],["T_WHITESPACE"," ",249],["T_ARRAY","array",249],"(",")",")",";",["T_WHITESPACE","\n    ",249],"}",["T_WHITESPACE","\n    ",250],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","languageOverrides",251],"[",["T_VARIABLE","$langcode",251],"]",["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_VARIABLE","$overrides",251],"[",["T_VARIABLE","$langcode",251],"]",";",["T_WHITESPACE","\n  ",251],"}",["T_WHITESPACE","\n\n  ",252],["T_DOC_COMMENT","\/**\n   * Reads in generic transliteration data for a bank of characters.\n   *\n   * The data is read in from a file named \"x$bank.php\" (with $bank in\n   * hexadecimal notation) in PhpTransliteration::$dataDirectory. These files\n   * should set up a variable $bank containing an array whose numerical indices\n   * are the remaining two bytes of the character code, and whose values are the\n   * transliterations of these characters into US-ASCII. Note that the maximum\n   * Unicode character that can be encoded in this way is 4 bytes.\n   *\n   * @param $bank\n   *   First two bytes of the Unicode character, or 0 for the ASCII range.\n   *\/",254],["T_WHITESPACE","\n  ",266],["T_PROTECTED","protected",267],["T_WHITESPACE"," ",267],["T_FUNCTION","function",267],["T_WHITESPACE"," ",267],["T_STRING","readGenericData",267],"(",["T_VARIABLE","$bank",267],")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n    ",267],["T_COMMENT","\/\/ Figure out the file name.\n",268],["T_WHITESPACE","    ",269],["T_VARIABLE","$file",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","dataDirectory",269],["T_WHITESPACE"," ",269],".",["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","'\/x'",269],["T_WHITESPACE"," ",269],".",["T_WHITESPACE"," ",269],["T_STRING","sprintf",269],"(",["T_CONSTANT_ENCAPSED_STRING","'%02x'",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$bank",269],")",["T_WHITESPACE"," ",269],".",["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","'.php'",269],";",["T_WHITESPACE","\n\n    ",269],["T_COMMENT","\/\/ Read in this file, which should set up a variable called $base, which\n",271],["T_WHITESPACE","    ",272],["T_COMMENT","\/\/ will be local to this function.\n",272],["T_WHITESPACE","    ",273],["T_IF","if",273],["T_WHITESPACE"," ",273],"(",["T_STRING","is_file",273],"(",["T_VARIABLE","$file",273],")",")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n      ",273],["T_INCLUDE","include",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$file",274],";",["T_WHITESPACE","\n    ",274],"}",["T_WHITESPACE","\n    ",275],["T_IF","if",276],["T_WHITESPACE"," ",276],"(","!",["T_ISSET","isset",276],"(",["T_VARIABLE","$base",276],")",["T_WHITESPACE"," ",276],["T_BOOLEAN_OR","||",276],["T_WHITESPACE"," ",276],"!",["T_STRING","is_array",276],"(",["T_VARIABLE","$base",276],")",")",["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n      ",276],["T_VARIABLE","$base",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_ARRAY","array",277],"(",")",";",["T_WHITESPACE","\n    ",277],"}",["T_WHITESPACE","\n\n    ",278],["T_COMMENT","\/\/ Save this data.\n",280],["T_WHITESPACE","    ",281],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","genericMap",281],"[",["T_VARIABLE","$bank",281],"]",["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_VARIABLE","$base",281],";",["T_WHITESPACE","\n  ",281],"}",["T_WHITESPACE","\n\n",282],"}",["T_WHITESPACE","\n",284]]