[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Component",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Utility",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Provides helper to filter for cross-site scripting.\n *\n * @ingroup utility\n *\/",5],["T_WHITESPACE","\n",9],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","Xss",10],["T_WHITESPACE"," ",10],"{",["T_WHITESPACE","\n\n  ",10],["T_DOC_COMMENT","\/**\n   * The list of HTML tags allowed by filterAdmin().\n   *\n   * @var array\n   *\n   * @see \\Drupal\\Component\\Utility\\Xss::filterAdmin()\n   *\/",12],["T_WHITESPACE","\n  ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_STATIC","static",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$adminTags",19],["T_WHITESPACE"," ",19],"=",["T_WHITESPACE"," ",19],["T_ARRAY","array",19],"(",["T_CONSTANT_ENCAPSED_STRING","'a'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'abbr'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'acronym'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'address'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'article'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'aside'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'b'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'bdi'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'bdo'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'big'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'blockquote'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'br'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'caption'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'cite'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'code'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'col'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'colgroup'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'command'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'dd'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'del'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'details'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'dfn'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'div'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'dl'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'dt'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'em'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'figcaption'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'figure'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'footer'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'h1'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'h2'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'h3'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'h4'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'h5'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'h6'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'header'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'hgroup'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'hr'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'i'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'img'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'ins'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'kbd'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'li'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'mark'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'menu'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'meter'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'nav'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'ol'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'output'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'p'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'pre'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'progress'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'q'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'rp'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'rt'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'ruby'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'s'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'samp'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'section'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'small'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'span'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'strong'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'sub'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'summary'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'sup'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'table'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'tbody'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'td'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'tfoot'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'th'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'thead'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'time'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'tr'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'tt'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'u'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'ul'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'var'",19],",",["T_WHITESPACE"," ",19],["T_CONSTANT_ENCAPSED_STRING","'wbr'",19],")",";",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * The default list of HTML tags allowed by filter().\n   *\n   * @var array\n   *\n   * @see \\Drupal\\Component\\Utility\\Xss::filter()\n   *\/",21],["T_WHITESPACE","\n  ",27],["T_PROTECTED","protected",28],["T_WHITESPACE"," ",28],["T_STATIC","static",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$htmlTags",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_ARRAY","array",28],"(",["T_CONSTANT_ENCAPSED_STRING","'a'",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'em'",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'strong'",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'cite'",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'blockquote'",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'code'",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'ul'",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'ol'",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'li'",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'dl'",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'dt'",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'dd'",28],")",";",["T_WHITESPACE","\n\n  ",28],["T_DOC_COMMENT","\/**\n   * Filters HTML to prevent cross-site-scripting (XSS) vulnerabilities.\n   *\n   * Based on kses by Ulf Harnhammar, see http:\/\/sourceforge.net\/projects\/kses.\n   * For examples of various XSS attacks, see: http:\/\/ha.ckers.org\/xss.html.\n   *\n   * This code does four things:\n   * - Removes characters and constructs that can trick browsers.\n   * - Makes sure all HTML entities are well-formed.\n   * - Makes sure all HTML tags and attributes are well-formed.\n   * - Makes sure no HTML tags contain URLs with a disallowed protocol (e.g.\n   *   javascript:).\n   *\n   * @param $string\n   *   The string with raw HTML in it. It will be stripped of everything that\n   *   can cause an XSS attack.\n   * @param array $html_tags\n   *   An array of HTML tags.\n   *\n   * @return string\n   *   An XSS safe version of $string, or an empty string if $string is not\n   *   valid UTF-8.\n   *\n   * @see \\Drupal\\Component\\Utility\\Unicode::validateUtf8()\n   *\n   * @ingroup sanitization\n   *\/",30],["T_WHITESPACE","\n  ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_STATIC","static",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","filter",57],"(",["T_VARIABLE","$string",57],",",["T_WHITESPACE"," ",57],["T_ARRAY","array",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$html_tags",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","NULL",57],")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n    ",57],["T_IF","if",58],["T_WHITESPACE"," ",58],"(",["T_STRING","is_null",58],"(",["T_VARIABLE","$html_tags",58],")",")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n      ",58],["T_VARIABLE","$html_tags",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STATIC","static",59],["T_DOUBLE_COLON","::",59],["T_VARIABLE","$htmlTags",59],";",["T_WHITESPACE","\n    ",59],"}",["T_WHITESPACE","\n    ",60],["T_COMMENT","\/\/ Only operate on valid UTF-8 strings. This is necessary to prevent cross\n",61],["T_WHITESPACE","    ",62],["T_COMMENT","\/\/ site scripting issues on Internet Explorer 6.\n",62],["T_WHITESPACE","    ",63],["T_IF","if",63],["T_WHITESPACE"," ",63],"(","!",["T_STRING","Unicode",63],["T_DOUBLE_COLON","::",63],["T_STRING","validateUtf8",63],"(",["T_VARIABLE","$string",63],")",")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n      ",63],["T_RETURN","return",64],["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","''",64],";",["T_WHITESPACE","\n    ",64],"}",["T_WHITESPACE","\n    ",65],["T_COMMENT","\/\/ Remove NULL characters (ignored by some browsers).\n",66],["T_WHITESPACE","    ",67],["T_VARIABLE","$string",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","str_replace",67],"(",["T_STRING","chr",67],"(",["T_LNUMBER","0",67],")",",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","''",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$string",67],")",";",["T_WHITESPACE","\n    ",67],["T_COMMENT","\/\/ Remove Netscape 4 JS entities.\n",68],["T_WHITESPACE","    ",69],["T_VARIABLE","$string",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","preg_replace",69],"(",["T_CONSTANT_ENCAPSED_STRING","'%&\\s*\\{[^}]*(\\}\\s*;?|$)%'",69],",",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","''",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$string",69],")",";",["T_WHITESPACE","\n\n    ",69],["T_COMMENT","\/\/ Defuse all HTML entities.\n",71],["T_WHITESPACE","    ",72],["T_VARIABLE","$string",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","str_replace",72],"(",["T_CONSTANT_ENCAPSED_STRING","'&'",72],",",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'&amp;'",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$string",72],")",";",["T_WHITESPACE","\n    ",72],["T_COMMENT","\/\/ Change back only well-formed entities in our whitelist:\n",73],["T_WHITESPACE","    ",74],["T_COMMENT","\/\/ Decimal numeric entities.\n",74],["T_WHITESPACE","    ",75],["T_VARIABLE","$string",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","preg_replace",75],"(",["T_CONSTANT_ENCAPSED_STRING","'\/&amp;#([0-9]+;)\/'",75],",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'&#\\1'",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$string",75],")",";",["T_WHITESPACE","\n    ",75],["T_COMMENT","\/\/ Hexadecimal numeric entities.\n",76],["T_WHITESPACE","    ",77],["T_VARIABLE","$string",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_STRING","preg_replace",77],"(",["T_CONSTANT_ENCAPSED_STRING","'\/&amp;#[Xx]0*((?:[0-9A-Fa-f]{2})+;)\/'",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'&#x\\1'",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$string",77],")",";",["T_WHITESPACE","\n    ",77],["T_COMMENT","\/\/ Named entities.\n",78],["T_WHITESPACE","    ",79],["T_VARIABLE","$string",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_STRING","preg_replace",79],"(",["T_CONSTANT_ENCAPSED_STRING","'\/&amp;([A-Za-z][A-Za-z0-9]*;)\/'",79],",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'&\\1'",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$string",79],")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$html_tags",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","array_flip",80],"(",["T_VARIABLE","$html_tags",80],")",";",["T_WHITESPACE","\n    ",80],["T_COMMENT","\/\/ Late static binding does not work inside anonymous functions.\n",81],["T_WHITESPACE","    ",82],["T_VARIABLE","$class",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","get_called_class",82],"(",")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$splitter",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],"(",["T_VARIABLE","$matches",83],")",["T_WHITESPACE"," ",83],["T_USE","use",83],["T_WHITESPACE"," ",83],"(",["T_VARIABLE","$html_tags",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$class",83],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n      ",83],["T_RETURN","return",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$class",84],["T_DOUBLE_COLON","::",84],["T_STRING","split",84],"(",["T_VARIABLE","$matches",84],"[",["T_LNUMBER","1",84],"]",",",["T_WHITESPACE"," ",84],["T_VARIABLE","$html_tags",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$class",84],")",";",["T_WHITESPACE","\n    ",84],"}",";",["T_WHITESPACE","\n    ",85],["T_COMMENT","\/\/ Strip any tags that are not in the whitelist.\n",86],["T_WHITESPACE","    ",87],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_STRING","preg_replace_callback",87],"(",["T_CONSTANT_ENCAPSED_STRING","'%\n      (\n      <(?=[^a-zA-Z!\/])  # a lone <\n      |                 # or\n      <!--.*?-->        # a comment\n      |                 # or\n      <[^>]*(>|$)       # a string that starts with a <, up until the > or the end of the string\n      |                 # or\n      >                 # just a >\n      )%x'",87],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$splitter",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$string",96],")",";",["T_WHITESPACE","\n  ",96],"}",["T_WHITESPACE","\n\n  ",97],["T_DOC_COMMENT","\/**\n   * Applies a very permissive XSS\/HTML filter for admin-only use.\n   *\n   * Use only for fields where it is impractical to use the\n   * whole filter system, but where some (mainly inline) mark-up\n   * is desired (so \\Drupal\\Component\\Utility\\Html::escape() is\n   * not acceptable).\n   *\n   * Allows all tags that can be used inside an HTML body, save\n   * for scripts and styles.\n   *\n   * @param string $string\n   *   The string to apply the filter to.\n   *\n   * @return string\n   *   The filtered string.\n   *\n   * @ingroup sanitization\n   *\n   * @see \\Drupal\\Component\\Utility\\Xss::getAdminTagList()\n   *\/",99],["T_WHITESPACE","\n  ",119],["T_PUBLIC","public",120],["T_WHITESPACE"," ",120],["T_STATIC","static",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","filterAdmin",120],"(",["T_VARIABLE","$string",120],")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n    ",120],["T_RETURN","return",121],["T_WHITESPACE"," ",121],["T_STATIC","static",121],["T_DOUBLE_COLON","::",121],["T_STRING","filter",121],"(",["T_VARIABLE","$string",121],",",["T_WHITESPACE"," ",121],["T_STATIC","static",121],["T_DOUBLE_COLON","::",121],["T_VARIABLE","$adminTags",121],")",";",["T_WHITESPACE","\n  ",121],"}",["T_WHITESPACE","\n\n  ",122],["T_DOC_COMMENT","\/**\n   * Processes an HTML tag.\n   *\n   * @param string $string\n   *   The HTML tag to process.\n   * @param array $html_tags\n   *   An array where the keys are the allowed tags and the values are not\n   *   used.\n   * @param string $class\n   *   The called class. This method is called from an anonymous function which\n   *   breaks late static binding. See https:\/\/bugs.php.net\/bug.php?id=66622 for\n   *   more information.\n   *\n   * @return string\n   *   If the element isn't allowed, an empty string. Otherwise, the cleaned up\n   *   version of the HTML element.\n   *\/",124],["T_WHITESPACE","\n  ",140],["T_PROTECTED","protected",141],["T_WHITESPACE"," ",141],["T_STATIC","static",141],["T_WHITESPACE"," ",141],["T_FUNCTION","function",141],["T_WHITESPACE"," ",141],["T_STRING","split",141],"(",["T_VARIABLE","$string",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$html_tags",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$class",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n    ",141],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_STRING","substr",142],"(",["T_VARIABLE","$string",142],",",["T_WHITESPACE"," ",142],["T_LNUMBER","0",142],",",["T_WHITESPACE"," ",142],["T_LNUMBER","1",142],")",["T_WHITESPACE"," ",142],["T_IS_NOT_EQUAL","!=",142],["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'<'",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n      ",142],["T_COMMENT","\/\/ We matched a lone \">\" character.\n",143],["T_WHITESPACE","      ",144],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'&gt;'",144],";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n    ",145],["T_ELSEIF","elseif",146],["T_WHITESPACE"," ",146],"(",["T_STRING","strlen",146],"(",["T_VARIABLE","$string",146],")",["T_WHITESPACE"," ",146],["T_IS_EQUAL","==",146],["T_WHITESPACE"," ",146],["T_LNUMBER","1",146],")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n      ",146],["T_COMMENT","\/\/ We matched a lone \"<\" character.\n",147],["T_WHITESPACE","      ",148],["T_RETURN","return",148],["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'&lt;'",148],";",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n\n    ",149],["T_IF","if",151],["T_WHITESPACE"," ",151],"(","!",["T_STRING","preg_match",151],"(",["T_CONSTANT_ENCAPSED_STRING","'%^<\\s*(\/\\s*)?([a-zA-Z0-9\\-]+)\\s*([^>]*)>?|(<!--.*?-->)$%'",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$string",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$matches",151],")",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n      ",151],["T_COMMENT","\/\/ Seriously malformed.\n",152],["T_WHITESPACE","      ",153],["T_RETURN","return",153],["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","''",153],";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$slash",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_STRING","trim",155],"(",["T_VARIABLE","$matches",155],"[",["T_LNUMBER","1",155],"]",")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$elem",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],"&",["T_VARIABLE","$matches",156],"[",["T_LNUMBER","2",156],"]",";",["T_WHITESPACE","\n    ",156],["T_VARIABLE","$attrlist",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],"&",["T_VARIABLE","$matches",157],"[",["T_LNUMBER","3",157],"]",";",["T_WHITESPACE","\n    ",157],["T_VARIABLE","$comment",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],"&",["T_VARIABLE","$matches",158],"[",["T_LNUMBER","4",158],"]",";",["T_WHITESPACE","\n\n    ",158],["T_IF","if",160],["T_WHITESPACE"," ",160],"(",["T_VARIABLE","$comment",160],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n      ",160],["T_VARIABLE","$elem",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'!--'",161],";",["T_WHITESPACE","\n    ",161],"}",["T_WHITESPACE","\n\n    ",162],["T_COMMENT","\/\/ When in whitelist mode, an element is disallowed when not listed.\n",164],["T_WHITESPACE","    ",165],["T_IF","if",165],["T_WHITESPACE"," ",165],"(",["T_VARIABLE","$class",165],["T_DOUBLE_COLON","::",165],["T_STRING","needsRemoval",165],"(",["T_VARIABLE","$html_tags",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$elem",165],")",")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n      ",165],["T_RETURN","return",166],["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","''",166],";",["T_WHITESPACE","\n    ",166],"}",["T_WHITESPACE","\n\n    ",167],["T_IF","if",169],["T_WHITESPACE"," ",169],"(",["T_VARIABLE","$comment",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n      ",169],["T_RETURN","return",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$comment",170],";",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n\n    ",171],["T_IF","if",173],["T_WHITESPACE"," ",173],"(",["T_VARIABLE","$slash",173],["T_WHITESPACE"," ",173],["T_IS_NOT_EQUAL","!=",173],["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","''",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n      ",173],["T_RETURN","return",174],["T_WHITESPACE"," ",174],"\"",["T_ENCAPSED_AND_WHITESPACE","<\/",174],["T_VARIABLE","$elem",174],["T_ENCAPSED_AND_WHITESPACE",">",174],"\"",";",["T_WHITESPACE","\n    ",174],"}",["T_WHITESPACE","\n\n    ",175],["T_COMMENT","\/\/ Is there a closing XHTML slash at the end of the attributes?\n",177],["T_WHITESPACE","    ",178],["T_VARIABLE","$attrlist",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_STRING","preg_replace",178],"(",["T_CONSTANT_ENCAPSED_STRING","'%(\\s?)\/\\s*$%'",178],",",["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'\\1'",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$attrlist",178],",",["T_WHITESPACE"," ",178],"-",["T_LNUMBER","1",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$count",178],")",";",["T_WHITESPACE","\n    ",178],["T_VARIABLE","$xhtml_slash",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$count",179],["T_WHITESPACE"," ",179],"?",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","' \/'",179],["T_WHITESPACE"," ",179],":",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","''",179],";",["T_WHITESPACE","\n\n    ",179],["T_COMMENT","\/\/ Clean up attributes.\n",181],["T_WHITESPACE","    ",182],["T_VARIABLE","$attr2",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_STRING","implode",182],"(",["T_CONSTANT_ENCAPSED_STRING","' '",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$class",182],["T_DOUBLE_COLON","::",182],["T_STRING","attributes",182],"(",["T_VARIABLE","$attrlist",182],")",")",";",["T_WHITESPACE","\n    ",182],["T_VARIABLE","$attr2",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_STRING","preg_replace",183],"(",["T_CONSTANT_ENCAPSED_STRING","'\/[<>]\/'",183],",",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","''",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$attr2",183],")",";",["T_WHITESPACE","\n    ",183],["T_VARIABLE","$attr2",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_STRING","strlen",184],"(",["T_VARIABLE","$attr2",184],")",["T_WHITESPACE"," ",184],"?",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","' '",184],["T_WHITESPACE"," ",184],".",["T_WHITESPACE"," ",184],["T_VARIABLE","$attr2",184],["T_WHITESPACE"," ",184],":",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","''",184],";",["T_WHITESPACE","\n\n    ",184],["T_RETURN","return",186],["T_WHITESPACE"," ",186],"\"",["T_ENCAPSED_AND_WHITESPACE","<",186],["T_VARIABLE","$elem",186],["T_VARIABLE","$attr2",186],["T_VARIABLE","$xhtml_slash",186],["T_ENCAPSED_AND_WHITESPACE",">",186],"\"",";",["T_WHITESPACE","\n  ",186],"}",["T_WHITESPACE","\n\n  ",187],["T_DOC_COMMENT","\/**\n   * Processes a string of HTML attributes.\n   *\n   * @param string $attributes\n   *   The html attribute to process.\n   *\n   * @return string\n   *   Cleaned up version of the HTML attributes.\n   *\/",189],["T_WHITESPACE","\n  ",197],["T_PROTECTED","protected",198],["T_WHITESPACE"," ",198],["T_STATIC","static",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","attributes",198],"(",["T_VARIABLE","$attributes",198],")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n    ",198],["T_VARIABLE","$attributes_array",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_ARRAY","array",199],"(",")",";",["T_WHITESPACE","\n    ",199],["T_VARIABLE","$mode",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_LNUMBER","0",200],";",["T_WHITESPACE","\n    ",200],["T_VARIABLE","$attribute_name",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","''",201],";",["T_WHITESPACE","\n    ",201],["T_VARIABLE","$skip",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_STRING","FALSE",202],";",["T_WHITESPACE","\n    ",202],["T_VARIABLE","$skip_protocol_filtering",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_STRING","FALSE",203],";",["T_WHITESPACE","\n\n    ",203],["T_WHILE","while",205],["T_WHITESPACE"," ",205],"(",["T_STRING","strlen",205],"(",["T_VARIABLE","$attributes",205],")",["T_WHITESPACE"," ",205],["T_IS_NOT_EQUAL","!=",205],["T_WHITESPACE"," ",205],["T_LNUMBER","0",205],")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n      ",205],["T_COMMENT","\/\/ Was the last operation successful?\n",206],["T_WHITESPACE","      ",207],["T_VARIABLE","$working",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_LNUMBER","0",207],";",["T_WHITESPACE","\n\n      ",207],["T_SWITCH","switch",209],["T_WHITESPACE"," ",209],"(",["T_VARIABLE","$mode",209],")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n        ",209],["T_CASE","case",210],["T_WHITESPACE"," ",210],["T_LNUMBER","0",210],":",["T_WHITESPACE","\n          ",210],["T_COMMENT","\/\/ Attribute name, href for instance.\n",211],["T_WHITESPACE","          ",212],["T_IF","if",212],["T_WHITESPACE"," ",212],"(",["T_STRING","preg_match",212],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^([-a-zA-Z][-a-zA-Z0-9]*)\/'",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$attributes",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$match",212],")",")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n            ",212],["T_VARIABLE","$attribute_name",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_STRING","strtolower",213],"(",["T_VARIABLE","$match",213],"[",["T_LNUMBER","1",213],"]",")",";",["T_WHITESPACE","\n            ",213],["T_VARIABLE","$skip",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],"(",["T_VARIABLE","$attribute_name",214],["T_WHITESPACE"," ",214],["T_IS_EQUAL","==",214],["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'style'",214],["T_WHITESPACE"," ",214],["T_BOOLEAN_OR","||",214],["T_WHITESPACE"," ",214],["T_STRING","substr",214],"(",["T_VARIABLE","$attribute_name",214],",",["T_WHITESPACE"," ",214],["T_LNUMBER","0",214],",",["T_WHITESPACE"," ",214],["T_LNUMBER","2",214],")",["T_WHITESPACE"," ",214],["T_IS_EQUAL","==",214],["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'on'",214],")",";",["T_WHITESPACE","\n\n            ",214],["T_COMMENT","\/\/ Values for attributes of type URI should be filtered for\n",216],["T_WHITESPACE","            ",217],["T_COMMENT","\/\/ potentially malicious protocols (for example, an href-attribute\n",217],["T_WHITESPACE","            ",218],["T_COMMENT","\/\/ starting with \"javascript:\"). However, for some non-URI\n",218],["T_WHITESPACE","            ",219],["T_COMMENT","\/\/ attributes performing this filtering causes valid and safe data\n",219],["T_WHITESPACE","            ",220],["T_COMMENT","\/\/ to be mangled. We prevent this by skipping protocol filtering on\n",220],["T_WHITESPACE","            ",221],["T_COMMENT","\/\/ such attributes.\n",221],["T_WHITESPACE","            ",222],["T_COMMENT","\/\/ @see \\Drupal\\Component\\Utility\\UrlHelper::filterBadProtocol()\n",222],["T_WHITESPACE","            ",223],["T_COMMENT","\/\/ @see http:\/\/www.w3.org\/TR\/html4\/index\/attributes.html\n",223],["T_WHITESPACE","            ",224],["T_VARIABLE","$skip_protocol_filtering",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_STRING","substr",224],"(",["T_VARIABLE","$attribute_name",224],",",["T_WHITESPACE"," ",224],["T_LNUMBER","0",224],",",["T_WHITESPACE"," ",224],["T_LNUMBER","5",224],")",["T_WHITESPACE"," ",224],["T_IS_IDENTICAL","===",224],["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'data-'",224],["T_WHITESPACE"," ",224],["T_BOOLEAN_OR","||",224],["T_WHITESPACE"," ",224],["T_STRING","in_array",224],"(",["T_VARIABLE","$attribute_name",224],",",["T_WHITESPACE"," ",224],["T_ARRAY","array",224],"(",["T_WHITESPACE","\n              ",224],["T_CONSTANT_ENCAPSED_STRING","'title'",225],",",["T_WHITESPACE","\n              ",225],["T_CONSTANT_ENCAPSED_STRING","'alt'",226],",",["T_WHITESPACE","\n              ",226],["T_CONSTANT_ENCAPSED_STRING","'rel'",227],",",["T_WHITESPACE","\n              ",227],["T_CONSTANT_ENCAPSED_STRING","'property'",228],",",["T_WHITESPACE","\n            ",228],")",")",";",["T_WHITESPACE","\n\n            ",229],["T_VARIABLE","$working",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_VARIABLE","$mode",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_LNUMBER","1",231],";",["T_WHITESPACE","\n            ",231],["T_VARIABLE","$attributes",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_STRING","preg_replace",232],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^[-a-zA-Z][-a-zA-Z0-9]*\/'",232],",",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","''",232],",",["T_WHITESPACE"," ",232],["T_VARIABLE","$attributes",232],")",";",["T_WHITESPACE","\n          ",232],"}",["T_WHITESPACE","\n          ",233],["T_BREAK","break",234],";",["T_WHITESPACE","\n\n        ",234],["T_CASE","case",236],["T_WHITESPACE"," ",236],["T_LNUMBER","1",236],":",["T_WHITESPACE","\n          ",236],["T_COMMENT","\/\/ Equals sign or valueless (\"selected\").\n",237],["T_WHITESPACE","          ",238],["T_IF","if",238],["T_WHITESPACE"," ",238],"(",["T_STRING","preg_match",238],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^\\s*=\\s*\/'",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$attributes",238],")",")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n            ",238],["T_VARIABLE","$working",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_LNUMBER","1",239],";",["T_WHITESPACE"," ",239],["T_VARIABLE","$mode",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_LNUMBER","2",239],";",["T_WHITESPACE","\n            ",239],["T_VARIABLE","$attributes",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_STRING","preg_replace",240],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^\\s*=\\s*\/'",240],",",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","''",240],",",["T_WHITESPACE"," ",240],["T_VARIABLE","$attributes",240],")",";",["T_WHITESPACE","\n            ",240],["T_BREAK","break",241],";",["T_WHITESPACE","\n          ",241],"}",["T_WHITESPACE","\n\n          ",242],["T_IF","if",244],["T_WHITESPACE"," ",244],"(",["T_STRING","preg_match",244],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^\\s+\/'",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$attributes",244],")",")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n            ",244],["T_VARIABLE","$working",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_LNUMBER","1",245],";",["T_WHITESPACE"," ",245],["T_VARIABLE","$mode",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_LNUMBER","0",245],";",["T_WHITESPACE","\n            ",245],["T_IF","if",246],["T_WHITESPACE"," ",246],"(","!",["T_VARIABLE","$skip",246],")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n              ",246],["T_VARIABLE","$attributes_array",247],"[","]",["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$attribute_name",247],";",["T_WHITESPACE","\n            ",247],"}",["T_WHITESPACE","\n            ",248],["T_VARIABLE","$attributes",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_STRING","preg_replace",249],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^\\s+\/'",249],",",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","''",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$attributes",249],")",";",["T_WHITESPACE","\n          ",249],"}",["T_WHITESPACE","\n          ",250],["T_BREAK","break",251],";",["T_WHITESPACE","\n\n        ",251],["T_CASE","case",253],["T_WHITESPACE"," ",253],["T_LNUMBER","2",253],":",["T_WHITESPACE","\n          ",253],["T_COMMENT","\/\/ Attribute value, a URL after href= for instance.\n",254],["T_WHITESPACE","          ",255],["T_IF","if",255],["T_WHITESPACE"," ",255],"(",["T_STRING","preg_match",255],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^\"([^\"]*)\"(\\s+|$)\/'",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$attributes",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$match",255],")",")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n            ",255],["T_VARIABLE","$thisval",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$skip_protocol_filtering",256],["T_WHITESPACE"," ",256],"?",["T_WHITESPACE"," ",256],["T_VARIABLE","$match",256],"[",["T_LNUMBER","1",256],"]",["T_WHITESPACE"," ",256],":",["T_WHITESPACE"," ",256],["T_STRING","UrlHelper",256],["T_DOUBLE_COLON","::",256],["T_STRING","filterBadProtocol",256],"(",["T_VARIABLE","$match",256],"[",["T_LNUMBER","1",256],"]",")",";",["T_WHITESPACE","\n\n            ",256],["T_IF","if",258],["T_WHITESPACE"," ",258],"(","!",["T_VARIABLE","$skip",258],")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n              ",258],["T_VARIABLE","$attributes_array",259],"[","]",["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],"\"",["T_VARIABLE","$attribute_name",259],["T_ENCAPSED_AND_WHITESPACE","=\\\"",259],["T_VARIABLE","$thisval",259],["T_ENCAPSED_AND_WHITESPACE","\\\"",259],"\"",";",["T_WHITESPACE","\n            ",259],"}",["T_WHITESPACE","\n            ",260],["T_VARIABLE","$working",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_LNUMBER","1",261],";",["T_WHITESPACE","\n            ",261],["T_VARIABLE","$mode",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_LNUMBER","0",262],";",["T_WHITESPACE","\n            ",262],["T_VARIABLE","$attributes",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_STRING","preg_replace",263],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^\"[^\"]*\"(\\s+|$)\/'",263],",",["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","''",263],",",["T_WHITESPACE"," ",263],["T_VARIABLE","$attributes",263],")",";",["T_WHITESPACE","\n            ",263],["T_BREAK","break",264],";",["T_WHITESPACE","\n          ",264],"}",["T_WHITESPACE","\n\n          ",265],["T_IF","if",267],["T_WHITESPACE"," ",267],"(",["T_STRING","preg_match",267],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/^'([^']*)'(\\s+|$)\/\"",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$attributes",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$match",267],")",")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n            ",267],["T_VARIABLE","$thisval",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_VARIABLE","$skip_protocol_filtering",268],["T_WHITESPACE"," ",268],"?",["T_WHITESPACE"," ",268],["T_VARIABLE","$match",268],"[",["T_LNUMBER","1",268],"]",["T_WHITESPACE"," ",268],":",["T_WHITESPACE"," ",268],["T_STRING","UrlHelper",268],["T_DOUBLE_COLON","::",268],["T_STRING","filterBadProtocol",268],"(",["T_VARIABLE","$match",268],"[",["T_LNUMBER","1",268],"]",")",";",["T_WHITESPACE","\n\n            ",268],["T_IF","if",270],["T_WHITESPACE"," ",270],"(","!",["T_VARIABLE","$skip",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n              ",270],["T_VARIABLE","$attributes_array",271],"[","]",["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],"\"",["T_VARIABLE","$attribute_name",271],["T_ENCAPSED_AND_WHITESPACE","='",271],["T_VARIABLE","$thisval",271],["T_ENCAPSED_AND_WHITESPACE","'",271],"\"",";",["T_WHITESPACE","\n            ",271],"}",["T_WHITESPACE","\n            ",272],["T_VARIABLE","$working",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_LNUMBER","1",273],";",["T_WHITESPACE"," ",273],["T_VARIABLE","$mode",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_LNUMBER","0",273],";",["T_WHITESPACE","\n            ",273],["T_VARIABLE","$attributes",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_STRING","preg_replace",274],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/^'[^']*'(\\s+|$)\/\"",274],",",["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","''",274],",",["T_WHITESPACE"," ",274],["T_VARIABLE","$attributes",274],")",";",["T_WHITESPACE","\n            ",274],["T_BREAK","break",275],";",["T_WHITESPACE","\n          ",275],"}",["T_WHITESPACE","\n\n          ",276],["T_IF","if",278],["T_WHITESPACE"," ",278],"(",["T_STRING","preg_match",278],"(",["T_CONSTANT_ENCAPSED_STRING","\"%^([^\\s\\\"']+)(\\s+|$)%\"",278],",",["T_WHITESPACE"," ",278],["T_VARIABLE","$attributes",278],",",["T_WHITESPACE"," ",278],["T_VARIABLE","$match",278],")",")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n            ",278],["T_VARIABLE","$thisval",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_VARIABLE","$skip_protocol_filtering",279],["T_WHITESPACE"," ",279],"?",["T_WHITESPACE"," ",279],["T_VARIABLE","$match",279],"[",["T_LNUMBER","1",279],"]",["T_WHITESPACE"," ",279],":",["T_WHITESPACE"," ",279],["T_STRING","UrlHelper",279],["T_DOUBLE_COLON","::",279],["T_STRING","filterBadProtocol",279],"(",["T_VARIABLE","$match",279],"[",["T_LNUMBER","1",279],"]",")",";",["T_WHITESPACE","\n\n            ",279],["T_IF","if",281],["T_WHITESPACE"," ",281],"(","!",["T_VARIABLE","$skip",281],")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n              ",281],["T_VARIABLE","$attributes_array",282],"[","]",["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],"\"",["T_VARIABLE","$attribute_name",282],["T_ENCAPSED_AND_WHITESPACE","=\\\"",282],["T_VARIABLE","$thisval",282],["T_ENCAPSED_AND_WHITESPACE","\\\"",282],"\"",";",["T_WHITESPACE","\n            ",282],"}",["T_WHITESPACE","\n            ",283],["T_VARIABLE","$working",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_LNUMBER","1",284],";",["T_WHITESPACE"," ",284],["T_VARIABLE","$mode",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_LNUMBER","0",284],";",["T_WHITESPACE","\n            ",284],["T_VARIABLE","$attributes",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_STRING","preg_replace",285],"(",["T_CONSTANT_ENCAPSED_STRING","\"%^[^\\s\\\"']+(\\s+|$)%\"",285],",",["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","''",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$attributes",285],")",";",["T_WHITESPACE","\n          ",285],"}",["T_WHITESPACE","\n          ",286],["T_BREAK","break",287],";",["T_WHITESPACE","\n      ",287],"}",["T_WHITESPACE","\n\n      ",288],["T_IF","if",290],["T_WHITESPACE"," ",290],"(",["T_VARIABLE","$working",290],["T_WHITESPACE"," ",290],["T_IS_EQUAL","==",290],["T_WHITESPACE"," ",290],["T_LNUMBER","0",290],")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n        ",290],["T_COMMENT","\/\/ Not well formed; remove and try again.\n",291],["T_WHITESPACE","        ",292],["T_VARIABLE","$attributes",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_STRING","preg_replace",292],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\n          ^\n          (\n          \"[^\"]*(\"|$)     # - a string that starts with a double quote, up until the next double quote or the end of the string\n          |               # or\n          \\'[^\\']*(\\'|$)| # - a string that starts with a quote, up until the next quote or the end of the string\n          |               # or\n          \\S              # - a non-whitespace character\n          )*              # any number of the above three\n          \\s*             # any number of whitespaces\n          \/x'",292],",",["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","''",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$attributes",302],")",";",["T_WHITESPACE","\n        ",302],["T_VARIABLE","$mode",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_LNUMBER","0",303],";",["T_WHITESPACE","\n      ",303],"}",["T_WHITESPACE","\n    ",304],"}",["T_WHITESPACE","\n\n    ",305],["T_COMMENT","\/\/ The attribute list ends with a valueless attribute like \"selected\".\n",307],["T_WHITESPACE","    ",308],["T_IF","if",308],["T_WHITESPACE"," ",308],"(",["T_VARIABLE","$mode",308],["T_WHITESPACE"," ",308],["T_IS_EQUAL","==",308],["T_WHITESPACE"," ",308],["T_LNUMBER","1",308],["T_WHITESPACE"," ",308],["T_BOOLEAN_AND","&&",308],["T_WHITESPACE"," ",308],"!",["T_VARIABLE","$skip",308],")",["T_WHITESPACE"," ",308],"{",["T_WHITESPACE","\n      ",308],["T_VARIABLE","$attributes_array",309],"[","]",["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_VARIABLE","$attribute_name",309],";",["T_WHITESPACE","\n    ",309],"}",["T_WHITESPACE","\n    ",310],["T_RETURN","return",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$attributes_array",311],";",["T_WHITESPACE","\n  ",311],"}",["T_WHITESPACE","\n\n  ",312],["T_DOC_COMMENT","\/**\n   * Whether this element needs to be removed altogether.\n   *\n   * @param $html_tags\n   *   The list of HTML tags.\n   * @param $elem\n   *   The name of the HTML element.\n   *\n   * @return bool\n   *   TRUE if this element needs to be removed.\n   *\/",314],["T_WHITESPACE","\n  ",324],["T_PROTECTED","protected",325],["T_WHITESPACE"," ",325],["T_STATIC","static",325],["T_WHITESPACE"," ",325],["T_FUNCTION","function",325],["T_WHITESPACE"," ",325],["T_STRING","needsRemoval",325],"(",["T_VARIABLE","$html_tags",325],",",["T_WHITESPACE"," ",325],["T_VARIABLE","$elem",325],")",["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n    ",325],["T_RETURN","return",326],["T_WHITESPACE"," ",326],"!",["T_ISSET","isset",326],"(",["T_VARIABLE","$html_tags",326],"[",["T_STRING","strtolower",326],"(",["T_VARIABLE","$elem",326],")","]",")",";",["T_WHITESPACE","\n  ",326],"}",["T_WHITESPACE","\n\n  ",327],["T_DOC_COMMENT","\/**\n   * Gets the list of HTML tags allowed by Xss::filterAdmin().\n   *\n   * @return array\n   *   The list of HTML tags allowed by filterAdmin().\n   *\/",329],["T_WHITESPACE","\n  ",334],["T_PUBLIC","public",335],["T_WHITESPACE"," ",335],["T_STATIC","static",335],["T_WHITESPACE"," ",335],["T_FUNCTION","function",335],["T_WHITESPACE"," ",335],["T_STRING","getAdminTagList",335],"(",")",["T_WHITESPACE"," ",335],"{",["T_WHITESPACE","\n    ",335],["T_RETURN","return",336],["T_WHITESPACE"," ",336],["T_STATIC","static",336],["T_DOUBLE_COLON","::",336],["T_VARIABLE","$adminTags",336],";",["T_WHITESPACE","\n  ",336],"}",["T_WHITESPACE","\n\n  ",337],["T_DOC_COMMENT","\/**\n   * Gets the standard list of HTML tags allowed by Xss::filter().\n   *\n   * @return array\n   *   The list of HTML tags allowed by Xss::filter().\n   *\/",339],["T_WHITESPACE","\n  ",344],["T_PUBLIC","public",345],["T_WHITESPACE"," ",345],["T_STATIC","static",345],["T_WHITESPACE"," ",345],["T_FUNCTION","function",345],["T_WHITESPACE"," ",345],["T_STRING","getHtmlTagList",345],"(",")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n    ",345],["T_RETURN","return",346],["T_WHITESPACE"," ",346],["T_STATIC","static",346],["T_DOUBLE_COLON","::",346],["T_VARIABLE","$htmlTags",346],";",["T_WHITESPACE","\n  ",346],"}",["T_WHITESPACE","\n\n",347],"}",["T_WHITESPACE","\n",349]]