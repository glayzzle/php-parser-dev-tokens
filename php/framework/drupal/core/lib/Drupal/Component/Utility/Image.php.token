[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Component",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Utility",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Provides helpers to operate on images.\n *\n * @ingroup utility\n *\/",5],["T_WHITESPACE","\n",9],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","Image",10],["T_WHITESPACE"," ",10],"{",["T_WHITESPACE","\n\n  ",10],["T_DOC_COMMENT","\/**\n   * Scales image dimensions while maintaining aspect ratio.\n   *\n   * The resulting dimensions can be smaller for one or both target dimensions.\n   *\n   * @param array $dimensions\n   *   Dimensions to be modified - an array with components width and height, in\n   *   pixels.\n   * @param int $width\n   *   (optional) The target width, in pixels. If this value is NULL then the\n   *   scaling will be based only on the height value.\n   * @param int $height\n   *   (optional) The target height, in pixels. If this value is NULL then the\n   *   scaling will be based only on the width value.\n   * @param bool $upscale\n   *   (optional) Boolean indicating that images smaller than the target\n   *   dimensions will be scaled up. This generally results in a low quality\n   *   image.\n   *\n   * @return bool\n   *   TRUE if $dimensions was modified, FALSE otherwise.\n   *\n   * @see image_scale()\n   *\/",12],["T_WHITESPACE","\n  ",35],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_STATIC","static",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","scaleDimensions",36],"(",["T_ARRAY","array",36],["T_WHITESPACE"," ",36],"&",["T_VARIABLE","$dimensions",36],",",["T_WHITESPACE"," ",36],["T_VARIABLE","$width",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_STRING","NULL",36],",",["T_WHITESPACE"," ",36],["T_VARIABLE","$height",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_STRING","NULL",36],",",["T_WHITESPACE"," ",36],["T_VARIABLE","$upscale",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_STRING","FALSE",36],")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$aspect",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$dimensions",37],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",37],"]",["T_WHITESPACE"," ",37],"\/",["T_WHITESPACE"," ",37],["T_VARIABLE","$dimensions",37],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",37],"]",";",["T_WHITESPACE","\n\n    ",37],["T_COMMENT","\/\/ Calculate one of the dimensions from the other target dimension,\n",39],["T_WHITESPACE","    ",40],["T_COMMENT","\/\/ ensuring the same aspect ratio as the source dimensions. If one of the\n",40],["T_WHITESPACE","    ",41],["T_COMMENT","\/\/ target dimensions is missing, that is the one that is calculated. If both\n",41],["T_WHITESPACE","    ",42],["T_COMMENT","\/\/ are specified then the dimension calculated is the one that would not be\n",42],["T_WHITESPACE","    ",43],["T_COMMENT","\/\/ calculated to be bigger than its target.\n",43],["T_WHITESPACE","    ",44],["T_IF","if",44],["T_WHITESPACE"," ",44],"(","(",["T_VARIABLE","$width",44],["T_WHITESPACE"," ",44],["T_BOOLEAN_AND","&&",44],["T_WHITESPACE"," ",44],"!",["T_VARIABLE","$height",44],")",["T_WHITESPACE"," ",44],["T_BOOLEAN_OR","||",44],["T_WHITESPACE"," ",44],"(",["T_VARIABLE","$width",44],["T_WHITESPACE"," ",44],["T_BOOLEAN_AND","&&",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$height",44],["T_WHITESPACE"," ",44],["T_BOOLEAN_AND","&&",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$aspect",44],["T_WHITESPACE"," ",44],"<",["T_WHITESPACE"," ",44],["T_VARIABLE","$height",44],["T_WHITESPACE"," ",44],"\/",["T_WHITESPACE"," ",44],["T_VARIABLE","$width",44],")",")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n      ",44],["T_VARIABLE","$height",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_INT_CAST","(int)",45],["T_WHITESPACE"," ",45],["T_STRING","round",45],"(",["T_VARIABLE","$width",45],["T_WHITESPACE"," ",45],"*",["T_WHITESPACE"," ",45],["T_VARIABLE","$aspect",45],")",";",["T_WHITESPACE","\n    ",45],"}",["T_WHITESPACE","\n    ",46],["T_ELSE","else",47],["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n      ",47],["T_VARIABLE","$width",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_INT_CAST","(int)",48],["T_WHITESPACE"," ",48],["T_STRING","round",48],"(",["T_VARIABLE","$height",48],["T_WHITESPACE"," ",48],"\/",["T_WHITESPACE"," ",48],["T_VARIABLE","$aspect",48],")",";",["T_WHITESPACE","\n    ",48],"}",["T_WHITESPACE","\n\n    ",49],["T_COMMENT","\/\/ Don't upscale if the option isn't enabled.\n",51],["T_WHITESPACE","    ",52],["T_IF","if",52],["T_WHITESPACE"," ",52],"(","!",["T_VARIABLE","$upscale",52],["T_WHITESPACE"," ",52],["T_BOOLEAN_AND","&&",52],["T_WHITESPACE"," ",52],"(",["T_VARIABLE","$width",52],["T_WHITESPACE"," ",52],["T_IS_GREATER_OR_EQUAL",">=",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$dimensions",52],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",52],"]",["T_WHITESPACE"," ",52],["T_BOOLEAN_OR","||",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$height",52],["T_WHITESPACE"," ",52],["T_IS_GREATER_OR_EQUAL",">=",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$dimensions",52],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",52],"]",")",")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n      ",52],["T_RETURN","return",53],["T_WHITESPACE"," ",53],["T_STRING","FALSE",53],";",["T_WHITESPACE","\n    ",53],"}",["T_WHITESPACE","\n\n    ",54],["T_VARIABLE","$dimensions",56],"[",["T_CONSTANT_ENCAPSED_STRING","'width'",56],"]",["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$width",56],";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$dimensions",57],"[",["T_CONSTANT_ENCAPSED_STRING","'height'",57],"]",["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$height",57],";",["T_WHITESPACE","\n    ",57],["T_RETURN","return",58],["T_WHITESPACE"," ",58],["T_STRING","TRUE",58],";",["T_WHITESPACE","\n  ",58],"}",["T_WHITESPACE","\n\n",59],"}",["T_WHITESPACE","\n",61]]