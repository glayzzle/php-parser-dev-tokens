[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Component",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Diff",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Engine",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Unicode",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Class used internally by Diff to actually compute the diffs.\n *\n * The algorithm used here is mostly lifted from the perl module\n * Algorithm::Diff (version 1.06) by Ned Konz, which is available at:\n *   http:\/\/www.perl.com\/CPAN\/authors\/id\/N\/NE\/NEDKONZ\/Algorithm-Diff-1.06.zip\n *\n * More ideas are taken from:\n *   http:\/\/www.ics.uci.edu\/~eppstein\/161\/960229.html\n *\n * Some ideas (and a bit of code) are from analyze.c, from GNU\n * diffutils-2.7, which can be found at:\n *   ftp:\/\/gnudist.gnu.org\/pub\/gnu\/diffutils\/diffutils-2.7.tar.gz\n *\n * closingly, some ideas (subdivision by NCHUNKS > 2, and some optimizations)\n * are my own.\n *\n * Line length limits for robustness added by Tim Starling, 2005-08-31\n *\n * @author Geoffrey T. Dairiki, Tim Starling\n * @private\n * @subpackage DifferenceEngine\n *\/",7],["T_WHITESPACE","\n",29],["T_CLASS","class",30],["T_WHITESPACE"," ",30],["T_STRING","DiffEngine",30],["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n\n  ",30],["T_CONST","const",32],["T_WHITESPACE"," ",32],["T_STRING","USE_ASSERTS",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_STRING","FALSE",32],";",["T_WHITESPACE","\n\n  ",32],["T_CONST","const",34],["T_WHITESPACE"," ",34],["T_STRING","MAX_XREF_LENGTH",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_LNUMBER","10000",34],";",["T_WHITESPACE","\n\n  ",34],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","diff",36],"(",["T_VARIABLE","$from_lines",36],",",["T_WHITESPACE"," ",36],["T_VARIABLE","$to_lines",36],")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n\n    ",36],["T_VARIABLE","$n_from",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_STRING","sizeof",38],"(",["T_VARIABLE","$from_lines",38],")",";",["T_WHITESPACE","\n    ",38],["T_VARIABLE","$n_to",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_STRING","sizeof",39],"(",["T_VARIABLE","$to_lines",39],")",";",["T_WHITESPACE","\n\n    ",39],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","xchanged",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","ychanged",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_ARRAY","array",41],"(",")",";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","xv",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","yv",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_ARRAY","array",42],"(",")",";",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","xind",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","yind",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_ARRAY","array",43],"(",")",";",["T_WHITESPACE","\n    ",43],["T_UNSET","unset",44],"(",["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","seq",44],")",";",["T_WHITESPACE","\n    ",44],["T_UNSET","unset",45],"(",["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","in_seq",45],")",";",["T_WHITESPACE","\n    ",45],["T_UNSET","unset",46],"(",["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","lcs",46],")",";",["T_WHITESPACE","\n\n    ",46],["T_COMMENT","\/\/ Skip leading common lines.\n",48],["T_WHITESPACE","    ",49],["T_FOR","for",49],["T_WHITESPACE"," ",49],"(",["T_VARIABLE","$skip",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_LNUMBER","0",49],";",["T_WHITESPACE"," ",49],["T_VARIABLE","$skip",49],["T_WHITESPACE"," ",49],"<",["T_WHITESPACE"," ",49],["T_VARIABLE","$n_from",49],["T_WHITESPACE"," ",49],["T_BOOLEAN_AND","&&",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$skip",49],["T_WHITESPACE"," ",49],"<",["T_WHITESPACE"," ",49],["T_VARIABLE","$n_to",49],";",["T_WHITESPACE"," ",49],["T_VARIABLE","$skip",49],["T_INC","++",49],")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n      ",49],["T_IF","if",50],["T_WHITESPACE"," ",50],"(",["T_VARIABLE","$from_lines",50],"[",["T_VARIABLE","$skip",50],"]",["T_WHITESPACE"," ",50],["T_IS_NOT_IDENTICAL","!==",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$to_lines",50],"[",["T_VARIABLE","$skip",50],"]",")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n        ",50],["T_BREAK","break",51],";",["T_WHITESPACE","\n      ",51],"}",["T_WHITESPACE","\n      ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","xchanged",53],"[",["T_VARIABLE","$skip",53],"]",["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","ychanged",53],"[",["T_VARIABLE","$skip",53],"]",["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","FALSE",53],";",["T_WHITESPACE","\n    ",53],"}",["T_WHITESPACE","\n    ",54],["T_COMMENT","\/\/ Skip trailing common lines.\n",55],["T_WHITESPACE","    ",56],["T_VARIABLE","$xi",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$n_from",56],";",["T_WHITESPACE","\n    ",56],["T_VARIABLE","$yi",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$n_to",57],";",["T_WHITESPACE","\n    ",57],["T_FOR","for",58],["T_WHITESPACE"," ",58],"(",["T_VARIABLE","$endskip",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_LNUMBER","0",58],";",["T_WHITESPACE"," ",58],["T_DEC","--",58],["T_VARIABLE","$xi",58],["T_WHITESPACE"," ",58],">",["T_WHITESPACE"," ",58],["T_VARIABLE","$skip",58],["T_WHITESPACE"," ",58],["T_BOOLEAN_AND","&&",58],["T_WHITESPACE"," ",58],["T_DEC","--",58],["T_VARIABLE","$yi",58],["T_WHITESPACE"," ",58],">",["T_WHITESPACE"," ",58],["T_VARIABLE","$skip",58],";",["T_WHITESPACE"," ",58],["T_VARIABLE","$endskip",58],["T_INC","++",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n      ",58],["T_IF","if",59],["T_WHITESPACE"," ",59],"(",["T_VARIABLE","$from_lines",59],"[",["T_VARIABLE","$xi",59],"]",["T_WHITESPACE"," ",59],["T_IS_NOT_IDENTICAL","!==",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$to_lines",59],"[",["T_VARIABLE","$yi",59],"]",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n        ",59],["T_BREAK","break",60],";",["T_WHITESPACE","\n      ",60],"}",["T_WHITESPACE","\n      ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","xchanged",62],"[",["T_VARIABLE","$xi",62],"]",["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","ychanged",62],"[",["T_VARIABLE","$yi",62],"]",["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_STRING","FALSE",62],";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n\n    ",63],["T_COMMENT","\/\/ Ignore lines which do not exist in both files.\n",65],["T_WHITESPACE","    ",66],["T_FOR","for",66],["T_WHITESPACE"," ",66],"(",["T_VARIABLE","$xi",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$skip",66],";",["T_WHITESPACE"," ",66],["T_VARIABLE","$xi",66],["T_WHITESPACE"," ",66],"<",["T_WHITESPACE"," ",66],["T_VARIABLE","$n_from",66],["T_WHITESPACE"," ",66],"-",["T_WHITESPACE"," ",66],["T_VARIABLE","$endskip",66],";",["T_WHITESPACE"," ",66],["T_VARIABLE","$xi",66],["T_INC","++",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n      ",66],["T_VARIABLE","$xhash",67],"[",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_line_hash",67],"(",["T_VARIABLE","$from_lines",67],"[",["T_VARIABLE","$xi",67],"]",")","]",["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_LNUMBER","1",67],";",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n\n    ",68],["T_FOR","for",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$yi",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$skip",70],";",["T_WHITESPACE"," ",70],["T_VARIABLE","$yi",70],["T_WHITESPACE"," ",70],"<",["T_WHITESPACE"," ",70],["T_VARIABLE","$n_to",70],["T_WHITESPACE"," ",70],"-",["T_WHITESPACE"," ",70],["T_VARIABLE","$endskip",70],";",["T_WHITESPACE"," ",70],["T_VARIABLE","$yi",70],["T_INC","++",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n      ",70],["T_VARIABLE","$line",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$to_lines",71],"[",["T_VARIABLE","$yi",71],"]",";",["T_WHITESPACE","\n      ",71],["T_IF","if",72],["T_WHITESPACE"," ",72],"(",["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","ychanged",72],"[",["T_VARIABLE","$yi",72],"]",["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_EMPTY","empty",72],"(",["T_VARIABLE","$xhash",72],"[",["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","_line_hash",72],"(",["T_VARIABLE","$line",72],")","]",")",")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n        ",72],["T_CONTINUE","continue",73],";",["T_WHITESPACE","\n      ",73],"}",["T_WHITESPACE","\n      ",74],["T_VARIABLE","$yhash",75],"[",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","_line_hash",75],"(",["T_VARIABLE","$line",75],")","]",["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_LNUMBER","1",75],";",["T_WHITESPACE","\n      ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","yv",76],"[","]",["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$line",76],";",["T_WHITESPACE","\n      ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","yind",77],"[","]",["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$yi",77],";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n    ",78],["T_FOR","for",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$xi",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$skip",79],";",["T_WHITESPACE"," ",79],["T_VARIABLE","$xi",79],["T_WHITESPACE"," ",79],"<",["T_WHITESPACE"," ",79],["T_VARIABLE","$n_from",79],["T_WHITESPACE"," ",79],"-",["T_WHITESPACE"," ",79],["T_VARIABLE","$endskip",79],";",["T_WHITESPACE"," ",79],["T_VARIABLE","$xi",79],["T_INC","++",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n      ",79],["T_VARIABLE","$line",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$from_lines",80],"[",["T_VARIABLE","$xi",80],"]",";",["T_WHITESPACE","\n      ",80],["T_IF","if",81],["T_WHITESPACE"," ",81],"(",["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","xchanged",81],"[",["T_VARIABLE","$xi",81],"]",["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_EMPTY","empty",81],"(",["T_VARIABLE","$yhash",81],"[",["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","_line_hash",81],"(",["T_VARIABLE","$line",81],")","]",")",")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n        ",81],["T_CONTINUE","continue",82],";",["T_WHITESPACE","\n      ",82],"}",["T_WHITESPACE","\n      ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","xv",84],"[","]",["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$line",84],";",["T_WHITESPACE","\n      ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","xind",85],"[","]",["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$xi",85],";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_COMMENT","\/\/ Find the LCS.\n",88],["T_WHITESPACE","    ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_compareseq",89],"(",["T_LNUMBER","0",89],",",["T_WHITESPACE"," ",89],["T_STRING","sizeof",89],"(",["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","xv",89],")",",",["T_WHITESPACE"," ",89],["T_LNUMBER","0",89],",",["T_WHITESPACE"," ",89],["T_STRING","sizeof",89],"(",["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","yv",89],")",")",";",["T_WHITESPACE","\n\n    ",89],["T_COMMENT","\/\/ Merge edits when possible\n",91],["T_WHITESPACE","    ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","_shift_boundaries",92],"(",["T_VARIABLE","$from_lines",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","xchanged",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","ychanged",92],")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_shift_boundaries",93],"(",["T_VARIABLE","$to_lines",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","ychanged",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","xchanged",93],")",";",["T_WHITESPACE","\n\n    ",93],["T_COMMENT","\/\/ Compute the edit operations.\n",95],["T_WHITESPACE","    ",96],["T_VARIABLE","$edits",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_ARRAY","array",96],"(",")",";",["T_WHITESPACE","\n    ",96],["T_VARIABLE","$xi",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$yi",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_LNUMBER","0",97],";",["T_WHITESPACE","\n    ",97],["T_WHILE","while",98],["T_WHITESPACE"," ",98],"(",["T_VARIABLE","$xi",98],["T_WHITESPACE"," ",98],"<",["T_WHITESPACE"," ",98],["T_VARIABLE","$n_from",98],["T_WHITESPACE"," ",98],["T_BOOLEAN_OR","||",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$yi",98],["T_WHITESPACE"," ",98],"<",["T_WHITESPACE"," ",98],["T_VARIABLE","$n_to",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n      ",98],["T_VARIABLE","$this",99],["T_DOUBLE_COLON","::",99],["T_STRING","USE_ASSERTS",99],["T_WHITESPACE"," ",99],["T_BOOLEAN_AND","&&",99],["T_WHITESPACE"," ",99],["T_STRING","assert",99],"(",["T_VARIABLE","$yi",99],["T_WHITESPACE"," ",99],"<",["T_WHITESPACE"," ",99],["T_VARIABLE","$n_to",99],["T_WHITESPACE"," ",99],["T_BOOLEAN_OR","||",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","xchanged",99],"[",["T_VARIABLE","$xi",99],"]",")",";",["T_WHITESPACE","\n      ",99],["T_VARIABLE","$this",100],["T_DOUBLE_COLON","::",100],["T_STRING","USE_ASSERTS",100],["T_WHITESPACE"," ",100],["T_BOOLEAN_AND","&&",100],["T_WHITESPACE"," ",100],["T_STRING","assert",100],"(",["T_VARIABLE","$xi",100],["T_WHITESPACE"," ",100],"<",["T_WHITESPACE"," ",100],["T_VARIABLE","$n_from",100],["T_WHITESPACE"," ",100],["T_BOOLEAN_OR","||",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","ychanged",100],"[",["T_VARIABLE","$yi",100],"]",")",";",["T_WHITESPACE","\n\n      ",100],["T_COMMENT","\/\/ Skip matching \"snake\".\n",102],["T_WHITESPACE","      ",103],["T_VARIABLE","$copy",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_ARRAY","array",103],"(",")",";",["T_WHITESPACE","\n      ",103],["T_WHILE","while",104],["T_WHITESPACE"," ",104],"(",["T_WHITESPACE"," ",104],["T_VARIABLE","$xi",104],["T_WHITESPACE"," ",104],"<",["T_WHITESPACE"," ",104],["T_VARIABLE","$n_from",104],["T_WHITESPACE"," ",104],["T_BOOLEAN_AND","&&",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$yi",104],["T_WHITESPACE"," ",104],"<",["T_WHITESPACE"," ",104],["T_VARIABLE","$n_to",104],["T_WHITESPACE"," ",104],["T_BOOLEAN_AND","&&",104],["T_WHITESPACE"," ",104],"!",["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","xchanged",104],"[",["T_VARIABLE","$xi",104],"]",["T_WHITESPACE"," ",104],["T_BOOLEAN_AND","&&",104],["T_WHITESPACE"," ",104],"!",["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","ychanged",104],"[",["T_VARIABLE","$yi",104],"]",")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$copy",105],"[","]",["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$from_lines",105],"[",["T_VARIABLE","$xi",105],["T_INC","++",105],"]",";",["T_WHITESPACE","\n        ",105],["T_INC","++",106],["T_VARIABLE","$yi",106],";",["T_WHITESPACE","\n      ",106],"}",["T_WHITESPACE","\n      ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_VARIABLE","$copy",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$edits",109],"[","]",["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_NEW","new",109],["T_WHITESPACE"," ",109],["T_STRING","DiffOpCopy",109],"(",["T_VARIABLE","$copy",109],")",";",["T_WHITESPACE","\n      ",109],"}",["T_WHITESPACE","\n      ",110],["T_COMMENT","\/\/ Find deletes & adds.\n",111],["T_WHITESPACE","      ",112],["T_VARIABLE","$delete",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_ARRAY","array",112],"(",")",";",["T_WHITESPACE","\n      ",112],["T_WHILE","while",113],["T_WHITESPACE"," ",113],"(",["T_VARIABLE","$xi",113],["T_WHITESPACE"," ",113],"<",["T_WHITESPACE"," ",113],["T_VARIABLE","$n_from",113],["T_WHITESPACE"," ",113],["T_BOOLEAN_AND","&&",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","xchanged",113],"[",["T_VARIABLE","$xi",113],"]",")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$delete",114],"[","]",["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$from_lines",114],"[",["T_VARIABLE","$xi",114],["T_INC","++",114],"]",";",["T_WHITESPACE","\n      ",114],"}",["T_WHITESPACE","\n      ",115],["T_VARIABLE","$add",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_ARRAY","array",116],"(",")",";",["T_WHITESPACE","\n      ",116],["T_WHILE","while",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$yi",117],["T_WHITESPACE"," ",117],"<",["T_WHITESPACE"," ",117],["T_VARIABLE","$n_to",117],["T_WHITESPACE"," ",117],["T_BOOLEAN_AND","&&",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","ychanged",117],"[",["T_VARIABLE","$yi",117],"]",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$add",118],"[","]",["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$to_lines",118],"[",["T_VARIABLE","$yi",118],["T_INC","++",118],"]",";",["T_WHITESPACE","\n      ",118],"}",["T_WHITESPACE","\n      ",119],["T_IF","if",120],["T_WHITESPACE"," ",120],"(",["T_VARIABLE","$delete",120],["T_WHITESPACE"," ",120],["T_BOOLEAN_AND","&&",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$add",120],")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$edits",121],"[","]",["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_NEW","new",121],["T_WHITESPACE"," ",121],["T_STRING","DiffOpChange",121],"(",["T_VARIABLE","$delete",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$add",121],")",";",["T_WHITESPACE","\n      ",121],"}",["T_WHITESPACE","\n      ",122],["T_ELSEIF","elseif",123],["T_WHITESPACE"," ",123],"(",["T_VARIABLE","$delete",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$edits",124],"[","]",["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_NEW","new",124],["T_WHITESPACE"," ",124],["T_STRING","DiffOpDelete",124],"(",["T_VARIABLE","$delete",124],")",";",["T_WHITESPACE","\n      ",124],"}",["T_WHITESPACE","\n      ",125],["T_ELSEIF","elseif",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$add",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$edits",127],"[","]",["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_NEW","new",127],["T_WHITESPACE"," ",127],["T_STRING","DiffOpAdd",127],"(",["T_VARIABLE","$add",127],")",";",["T_WHITESPACE","\n      ",127],"}",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n    ",129],["T_RETURN","return",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$edits",130],";",["T_WHITESPACE","\n  ",130],"}",["T_WHITESPACE","\n\n  ",131],["T_DOC_COMMENT","\/**\n   * Returns the whole line if it's small enough, or the MD5 hash otherwise.\n   *\/",133],["T_WHITESPACE","\n  ",135],["T_PROTECTED","protected",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","_line_hash",136],"(",["T_VARIABLE","$line",136],")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n    ",136],["T_IF","if",137],["T_WHITESPACE"," ",137],"(",["T_STRING","Unicode",137],["T_DOUBLE_COLON","::",137],["T_STRING","strlen",137],"(",["T_VARIABLE","$line",137],")",["T_WHITESPACE"," ",137],">",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_DOUBLE_COLON","::",137],["T_STRING","MAX_XREF_LENGTH",137],")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n      ",137],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_STRING","md5",138],"(",["T_VARIABLE","$line",138],")",";",["T_WHITESPACE","\n    ",138],"}",["T_WHITESPACE","\n    ",139],["T_ELSE","else",140],["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n      ",140],["T_RETURN","return",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$line",141],";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n  ",142],"}",["T_WHITESPACE","\n\n\n  ",143],["T_DOC_COMMENT","\/**\n   * Divide the Largest Common Subsequence (LCS) of the sequences\n   * [XOFF, XLIM) and [YOFF, YLIM) into NCHUNKS approximately equally\n   * sized segments.\n   *\n   * Returns (LCS, PTS).  LCS is the length of the LCS. PTS is an\n   * array of NCHUNKS+1 (X, Y) indexes giving the diving points between\n   * sub sequences.  The first sub-sequence is contained in [X0, X1),\n   * [Y0, Y1), the second in [X1, X2), [Y1, Y2) and so on.  Note\n   * that (X0, Y0) == (XOFF, YOFF) and\n   * (X[NCHUNKS], Y[NCHUNKS]) == (XLIM, YLIM).\n   *\n   * This function assumes that the first lines of the specified portions\n   * of the two files do not match, and likewise that the last lines do not\n   * match.  The caller must trim matching lines from the beginning and end\n   * of the portions it is going to specify.\n   *\/",146],["T_WHITESPACE","\n  ",162],["T_PROTECTED","protected",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","_diag",163],"(",["T_VARIABLE","$xoff",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$xlim",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$yoff",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$ylim",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$nchunks",163],")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n    ",163],["T_VARIABLE","$flip",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_STRING","FALSE",164],";",["T_WHITESPACE","\n\n    ",164],["T_IF","if",166],["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$xlim",166],["T_WHITESPACE"," ",166],"-",["T_WHITESPACE"," ",166],["T_VARIABLE","$xoff",166],["T_WHITESPACE"," ",166],">",["T_WHITESPACE"," ",166],["T_VARIABLE","$ylim",166],["T_WHITESPACE"," ",166],"-",["T_WHITESPACE"," ",166],["T_VARIABLE","$yoff",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n      ",166],["T_COMMENT","\/\/ Things seems faster (I'm not sure I understand why)\n",167],["T_WHITESPACE","      ",168],["T_COMMENT","\/\/ when the shortest sequence in X.\n",168],["T_WHITESPACE","      ",169],["T_VARIABLE","$flip",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_STRING","TRUE",169],";",["T_WHITESPACE","\n      ",169],["T_LIST","list",170],"(",["T_VARIABLE","$xoff",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$xlim",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$yoff",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$ylim",170],")",["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_ARRAY","array",170],"(",["T_VARIABLE","$yoff",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$ylim",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$xoff",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$xlim",170],")",";",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n\n    ",171],["T_IF","if",173],["T_WHITESPACE"," ",173],"(",["T_VARIABLE","$flip",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n      ",173],["T_FOR","for",174],["T_WHITESPACE"," ",174],"(",["T_VARIABLE","$i",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$ylim",174],["T_WHITESPACE"," ",174],"-",["T_WHITESPACE"," ",174],["T_LNUMBER","1",174],";",["T_WHITESPACE"," ",174],["T_VARIABLE","$i",174],["T_WHITESPACE"," ",174],["T_IS_GREATER_OR_EQUAL",">=",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$yoff",174],";",["T_WHITESPACE"," ",174],["T_VARIABLE","$i",174],["T_DEC","--",174],")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$ymatches",175],"[",["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","xv",175],"[",["T_VARIABLE","$i",175],"]","]","[","]",["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$i",175],";",["T_WHITESPACE","\n      ",175],"}",["T_WHITESPACE","\n    ",176],"}",["T_WHITESPACE","\n    ",177],["T_ELSE","else",178],["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n      ",178],["T_FOR","for",179],["T_WHITESPACE"," ",179],"(",["T_VARIABLE","$i",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$ylim",179],["T_WHITESPACE"," ",179],"-",["T_WHITESPACE"," ",179],["T_LNUMBER","1",179],";",["T_WHITESPACE"," ",179],["T_VARIABLE","$i",179],["T_WHITESPACE"," ",179],["T_IS_GREATER_OR_EQUAL",">=",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$yoff",179],";",["T_WHITESPACE"," ",179],["T_VARIABLE","$i",179],["T_DEC","--",179],")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$ymatches",180],"[",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","yv",180],"[",["T_VARIABLE","$i",180],"]","]","[","]",["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$i",180],";",["T_WHITESPACE","\n      ",180],"}",["T_WHITESPACE","\n    ",181],"}",["T_WHITESPACE","\n    ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","lcs",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_LNUMBER","0",183],";",["T_WHITESPACE","\n    ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","seq",184],"[",["T_LNUMBER","0",184],"]",["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$yoff",184],["T_WHITESPACE"," ",184],"-",["T_WHITESPACE"," ",184],["T_LNUMBER","1",184],";",["T_WHITESPACE","\n    ",184],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","in_seq",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_ARRAY","array",185],"(",")",";",["T_WHITESPACE","\n    ",185],["T_VARIABLE","$ymids",186],"[",["T_LNUMBER","0",186],"]",["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_ARRAY","array",186],"(",")",";",["T_WHITESPACE","\n\n    ",186],["T_VARIABLE","$numer",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$xlim",188],["T_WHITESPACE"," ",188],"-",["T_WHITESPACE"," ",188],["T_VARIABLE","$xoff",188],["T_WHITESPACE"," ",188],"+",["T_WHITESPACE"," ",188],["T_VARIABLE","$nchunks",188],["T_WHITESPACE"," ",188],"-",["T_WHITESPACE"," ",188],["T_LNUMBER","1",188],";",["T_WHITESPACE","\n    ",188],["T_VARIABLE","$x",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$xoff",189],";",["T_WHITESPACE","\n    ",189],["T_FOR","for",190],["T_WHITESPACE"," ",190],"(",["T_VARIABLE","$chunk",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_LNUMBER","0",190],";",["T_WHITESPACE"," ",190],["T_VARIABLE","$chunk",190],["T_WHITESPACE"," ",190],"<",["T_WHITESPACE"," ",190],["T_VARIABLE","$nchunks",190],";",["T_WHITESPACE"," ",190],["T_VARIABLE","$chunk",190],["T_INC","++",190],")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n      ",190],["T_IF","if",191],["T_WHITESPACE"," ",191],"(",["T_VARIABLE","$chunk",191],["T_WHITESPACE"," ",191],">",["T_WHITESPACE"," ",191],["T_LNUMBER","0",191],")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n        ",191],["T_FOR","for",192],["T_WHITESPACE"," ",192],"(",["T_VARIABLE","$i",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_LNUMBER","0",192],";",["T_WHITESPACE"," ",192],["T_VARIABLE","$i",192],["T_WHITESPACE"," ",192],["T_IS_SMALLER_OR_EQUAL","<=",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","lcs",192],";",["T_WHITESPACE"," ",192],["T_VARIABLE","$i",192],["T_INC","++",192],")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n          ",192],["T_VARIABLE","$ymids",193],"[",["T_VARIABLE","$i",193],"]","[",["T_VARIABLE","$chunk",193],["T_WHITESPACE"," ",193],"-",["T_WHITESPACE"," ",193],["T_LNUMBER","1",193],"]",["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","seq",193],"[",["T_VARIABLE","$i",193],"]",";",["T_WHITESPACE","\n        ",193],"}",["T_WHITESPACE","\n      ",194],"}",["T_WHITESPACE","\n\n      ",195],["T_VARIABLE","$x1",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$xoff",197],["T_WHITESPACE"," ",197],"+",["T_WHITESPACE"," ",197],["T_INT_CAST","(int)",197],"(","(",["T_VARIABLE","$numer",197],["T_WHITESPACE"," ",197],"+",["T_WHITESPACE"," ",197],"(",["T_VARIABLE","$xlim",197],["T_WHITESPACE"," ",197],"-",["T_WHITESPACE"," ",197],["T_VARIABLE","$xoff",197],")",["T_WHITESPACE"," ",197],"*",["T_WHITESPACE"," ",197],["T_VARIABLE","$chunk",197],")",["T_WHITESPACE"," ",197],"\/",["T_WHITESPACE"," ",197],["T_VARIABLE","$nchunks",197],")",";",["T_WHITESPACE","\n      ",197],["T_FOR","for",198],["T_WHITESPACE"," ",198],"(",["T_WHITESPACE"," ",198],";",["T_WHITESPACE"," ",198],["T_VARIABLE","$x",198],["T_WHITESPACE"," ",198],"<",["T_WHITESPACE"," ",198],["T_VARIABLE","$x1",198],";",["T_WHITESPACE"," ",198],["T_VARIABLE","$x",198],["T_INC","++",198],")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$line",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$flip",199],["T_WHITESPACE"," ",199],"?",["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","yv",199],"[",["T_VARIABLE","$x",199],"]",["T_WHITESPACE"," ",199],":",["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","xv",199],"[",["T_VARIABLE","$x",199],"]",";",["T_WHITESPACE","\n        ",199],["T_IF","if",200],["T_WHITESPACE"," ",200],"(",["T_EMPTY","empty",200],"(",["T_VARIABLE","$ymatches",200],"[",["T_VARIABLE","$line",200],"]",")",")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n          ",200],["T_CONTINUE","continue",201],";",["T_WHITESPACE","\n        ",201],"}",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$matches",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$ymatches",203],"[",["T_VARIABLE","$line",203],"]",";",["T_WHITESPACE","\n        ",203],["T_STRING","reset",204],"(",["T_VARIABLE","$matches",204],")",";",["T_WHITESPACE","\n        ",204],["T_WHILE","while",205],["T_WHITESPACE"," ",205],"(",["T_LIST","list",205],["T_WHITESPACE"," ",205],"(",["T_VARIABLE","$junk",205],",",["T_WHITESPACE"," ",205],["T_VARIABLE","$y",205],")",["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_STRING","each",205],"(",["T_VARIABLE","$matches",205],")",")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n          ",205],["T_IF","if",206],["T_WHITESPACE"," ",206],"(",["T_EMPTY","empty",206],"(",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","in_seq",206],"[",["T_VARIABLE","$y",206],"]",")",")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n            ",206],["T_VARIABLE","$k",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_lcs_pos",207],"(",["T_VARIABLE","$y",207],")",";",["T_WHITESPACE","\n            ",207],["T_VARIABLE","$this",208],["T_DOUBLE_COLON","::",208],["T_STRING","USE_ASSERTS",208],["T_WHITESPACE"," ",208],["T_BOOLEAN_AND","&&",208],["T_WHITESPACE"," ",208],["T_STRING","assert",208],"(",["T_VARIABLE","$k",208],["T_WHITESPACE"," ",208],">",["T_WHITESPACE"," ",208],["T_LNUMBER","0",208],")",";",["T_WHITESPACE","\n            ",208],["T_VARIABLE","$ymids",209],"[",["T_VARIABLE","$k",209],"]",["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$ymids",209],"[",["T_VARIABLE","$k",209],["T_WHITESPACE"," ",209],"-",["T_WHITESPACE"," ",209],["T_LNUMBER","1",209],"]",";",["T_WHITESPACE","\n            ",209],["T_BREAK","break",210],";",["T_WHITESPACE","\n          ",210],"}",["T_WHITESPACE","\n        ",211],"}",["T_WHITESPACE","\n        ",212],["T_WHILE","while",213],["T_WHITESPACE"," ",213],"(",["T_LIST","list",213],["T_WHITESPACE"," ",213],"(",["T_VARIABLE","$junk",213],",",["T_WHITESPACE"," ",213],["T_VARIABLE","$y",213],")",["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_STRING","each",213],"(",["T_VARIABLE","$matches",213],")",")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n          ",213],["T_IF","if",214],["T_WHITESPACE"," ",214],"(",["T_VARIABLE","$y",214],["T_WHITESPACE"," ",214],">",["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","seq",214],"[",["T_VARIABLE","$k",214],["T_WHITESPACE"," ",214],"-",["T_WHITESPACE"," ",214],["T_LNUMBER","1",214],"]",")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n            ",214],["T_VARIABLE","$this",215],["T_DOUBLE_COLON","::",215],["T_STRING","USE_ASSERTS",215],["T_WHITESPACE"," ",215],["T_BOOLEAN_AND","&&",215],["T_WHITESPACE"," ",215],["T_STRING","assert",215],"(",["T_VARIABLE","$y",215],["T_WHITESPACE"," ",215],"<",["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","seq",215],"[",["T_VARIABLE","$k",215],"]",")",";",["T_WHITESPACE","\n            ",215],["T_COMMENT","\/\/ Optimization: this is a common case:\n",216],["T_WHITESPACE","            ",217],["T_COMMENT","\/\/ next match is just replacing previous match.\n",217],["T_WHITESPACE","            ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","in_seq",218],"[",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","seq",218],"[",["T_VARIABLE","$k",218],"]","]",["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_STRING","FALSE",218],";",["T_WHITESPACE","\n            ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","seq",219],"[",["T_VARIABLE","$k",219],"]",["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$y",219],";",["T_WHITESPACE","\n            ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","in_seq",220],"[",["T_VARIABLE","$y",220],"]",["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_LNUMBER","1",220],";",["T_WHITESPACE","\n          ",220],"}",["T_WHITESPACE","\n          ",221],["T_ELSEIF","elseif",222],["T_WHITESPACE"," ",222],"(",["T_EMPTY","empty",222],"(",["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","in_seq",222],"[",["T_VARIABLE","$y",222],"]",")",")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n            ",222],["T_VARIABLE","$k",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","_lcs_pos",223],"(",["T_VARIABLE","$y",223],")",";",["T_WHITESPACE","\n            ",223],["T_VARIABLE","$this",224],["T_DOUBLE_COLON","::",224],["T_STRING","USE_ASSERTS",224],["T_WHITESPACE"," ",224],["T_BOOLEAN_AND","&&",224],["T_WHITESPACE"," ",224],["T_STRING","assert",224],"(",["T_VARIABLE","$k",224],["T_WHITESPACE"," ",224],">",["T_WHITESPACE"," ",224],["T_LNUMBER","0",224],")",";",["T_WHITESPACE","\n            ",224],["T_VARIABLE","$ymids",225],"[",["T_VARIABLE","$k",225],"]",["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$ymids",225],"[",["T_VARIABLE","$k",225],["T_WHITESPACE"," ",225],"-",["T_WHITESPACE"," ",225],["T_LNUMBER","1",225],"]",";",["T_WHITESPACE","\n          ",225],"}",["T_WHITESPACE","\n        ",226],"}",["T_WHITESPACE","\n      ",227],"}",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n\n    ",229],["T_VARIABLE","$seps",231],"[","]",["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_VARIABLE","$flip",231],["T_WHITESPACE"," ",231],"?",["T_WHITESPACE"," ",231],["T_ARRAY","array",231],"(",["T_VARIABLE","$yoff",231],",",["T_WHITESPACE"," ",231],["T_VARIABLE","$xoff",231],")",["T_WHITESPACE"," ",231],":",["T_WHITESPACE"," ",231],["T_ARRAY","array",231],"(",["T_VARIABLE","$xoff",231],",",["T_WHITESPACE"," ",231],["T_VARIABLE","$yoff",231],")",";",["T_WHITESPACE","\n    ",231],["T_VARIABLE","$ymid",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$ymids",232],"[",["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","lcs",232],"]",";",["T_WHITESPACE","\n    ",232],["T_FOR","for",233],["T_WHITESPACE"," ",233],"(",["T_VARIABLE","$n",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_LNUMBER","0",233],";",["T_WHITESPACE"," ",233],["T_VARIABLE","$n",233],["T_WHITESPACE"," ",233],"<",["T_WHITESPACE"," ",233],["T_VARIABLE","$nchunks",233],["T_WHITESPACE"," ",233],"-",["T_WHITESPACE"," ",233],["T_LNUMBER","1",233],";",["T_WHITESPACE"," ",233],["T_VARIABLE","$n",233],["T_INC","++",233],")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n      ",233],["T_VARIABLE","$x1",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_VARIABLE","$xoff",234],["T_WHITESPACE"," ",234],"+",["T_WHITESPACE"," ",234],["T_INT_CAST","(int)",234],"(","(",["T_VARIABLE","$numer",234],["T_WHITESPACE"," ",234],"+",["T_WHITESPACE"," ",234],"(",["T_VARIABLE","$xlim",234],["T_WHITESPACE"," ",234],"-",["T_WHITESPACE"," ",234],["T_VARIABLE","$xoff",234],")",["T_WHITESPACE"," ",234],"*",["T_WHITESPACE"," ",234],["T_VARIABLE","$n",234],")",["T_WHITESPACE"," ",234],"\/",["T_WHITESPACE"," ",234],["T_VARIABLE","$nchunks",234],")",";",["T_WHITESPACE","\n      ",234],["T_VARIABLE","$y1",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_VARIABLE","$ymid",235],"[",["T_VARIABLE","$n",235],"]",["T_WHITESPACE"," ",235],"+",["T_WHITESPACE"," ",235],["T_LNUMBER","1",235],";",["T_WHITESPACE","\n      ",235],["T_VARIABLE","$seps",236],"[","]",["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$flip",236],["T_WHITESPACE"," ",236],"?",["T_WHITESPACE"," ",236],["T_ARRAY","array",236],"(",["T_VARIABLE","$y1",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$x1",236],")",["T_WHITESPACE"," ",236],":",["T_WHITESPACE"," ",236],["T_ARRAY","array",236],"(",["T_VARIABLE","$x1",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$y1",236],")",";",["T_WHITESPACE","\n    ",236],"}",["T_WHITESPACE","\n    ",237],["T_VARIABLE","$seps",238],"[","]",["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$flip",238],["T_WHITESPACE"," ",238],"?",["T_WHITESPACE"," ",238],["T_ARRAY","array",238],"(",["T_VARIABLE","$ylim",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$xlim",238],")",["T_WHITESPACE"," ",238],":",["T_WHITESPACE"," ",238],["T_ARRAY","array",238],"(",["T_VARIABLE","$xlim",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$ylim",238],")",";",["T_WHITESPACE","\n\n    ",238],["T_RETURN","return",240],["T_WHITESPACE"," ",240],["T_ARRAY","array",240],"(",["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","lcs",240],",",["T_WHITESPACE"," ",240],["T_VARIABLE","$seps",240],")",";",["T_WHITESPACE","\n  ",240],"}",["T_WHITESPACE","\n\n  ",241],["T_PROTECTED","protected",243],["T_WHITESPACE"," ",243],["T_FUNCTION","function",243],["T_WHITESPACE"," ",243],["T_STRING","_lcs_pos",243],"(",["T_VARIABLE","$ypos",243],")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n\n    ",243],["T_VARIABLE","$end",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","lcs",245],";",["T_WHITESPACE","\n    ",245],["T_IF","if",246],["T_WHITESPACE"," ",246],"(",["T_VARIABLE","$end",246],["T_WHITESPACE"," ",246],["T_IS_EQUAL","==",246],["T_WHITESPACE"," ",246],["T_LNUMBER","0",246],["T_WHITESPACE"," ",246],["T_BOOLEAN_OR","||",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$ypos",246],["T_WHITESPACE"," ",246],">",["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","seq",246],"[",["T_VARIABLE","$end",246],"]",")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n      ",246],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","seq",247],"[",["T_INC","++",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","lcs",247],"]",["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$ypos",247],";",["T_WHITESPACE","\n      ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","in_seq",248],"[",["T_VARIABLE","$ypos",248],"]",["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_LNUMBER","1",248],";",["T_WHITESPACE","\n      ",248],["T_RETURN","return",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","lcs",249],";",["T_WHITESPACE","\n    ",249],"}",["T_WHITESPACE","\n\n    ",250],["T_VARIABLE","$beg",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_LNUMBER","1",252],";",["T_WHITESPACE","\n    ",252],["T_WHILE","while",253],["T_WHITESPACE"," ",253],"(",["T_VARIABLE","$beg",253],["T_WHITESPACE"," ",253],"<",["T_WHITESPACE"," ",253],["T_VARIABLE","$end",253],")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n      ",253],["T_VARIABLE","$mid",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_INT_CAST","(int)",254],"(","(",["T_VARIABLE","$beg",254],["T_WHITESPACE"," ",254],"+",["T_WHITESPACE"," ",254],["T_VARIABLE","$end",254],")",["T_WHITESPACE"," ",254],"\/",["T_WHITESPACE"," ",254],["T_LNUMBER","2",254],")",";",["T_WHITESPACE","\n      ",254],["T_IF","if",255],["T_WHITESPACE"," ",255],"(",["T_VARIABLE","$ypos",255],["T_WHITESPACE"," ",255],">",["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","seq",255],"[",["T_VARIABLE","$mid",255],"]",")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n        ",255],["T_VARIABLE","$beg",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$mid",256],["T_WHITESPACE"," ",256],"+",["T_WHITESPACE"," ",256],["T_LNUMBER","1",256],";",["T_WHITESPACE","\n      ",256],"}",["T_WHITESPACE","\n      ",257],["T_ELSE","else",258],["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n        ",258],["T_VARIABLE","$end",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$mid",259],";",["T_WHITESPACE","\n      ",259],"}",["T_WHITESPACE","\n    ",260],"}",["T_WHITESPACE","\n\n    ",261],["T_VARIABLE","$this",263],["T_DOUBLE_COLON","::",263],["T_STRING","USE_ASSERTS",263],["T_WHITESPACE"," ",263],["T_BOOLEAN_AND","&&",263],["T_WHITESPACE"," ",263],["T_STRING","assert",263],"(",["T_VARIABLE","$ypos",263],["T_WHITESPACE"," ",263],["T_IS_NOT_EQUAL","!=",263],["T_WHITESPACE"," ",263],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","seq",263],"[",["T_VARIABLE","$end",263],"]",")",";",["T_WHITESPACE","\n\n    ",263],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","in_seq",265],"[",["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","seq",265],"[",["T_VARIABLE","$end",265],"]","]",["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_STRING","FALSE",265],";",["T_WHITESPACE","\n    ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","seq",266],"[",["T_VARIABLE","$end",266],"]",["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_VARIABLE","$ypos",266],";",["T_WHITESPACE","\n    ",266],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","in_seq",267],"[",["T_VARIABLE","$ypos",267],"]",["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_LNUMBER","1",267],";",["T_WHITESPACE","\n    ",267],["T_RETURN","return",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$end",268],";",["T_WHITESPACE","\n  ",268],"}",["T_WHITESPACE","\n\n  ",269],["T_DOC_COMMENT","\/**\n   * Find LCS of two sequences.\n   *\n   * The results are recorded in the vectors $this->{x,y}changed[], by\n   * storing a 1 in the element for each line that is an insertion\n   * or deletion (ie. is not in the LCS).\n   *\n   * The subsequence of file 0 is [XOFF, XLIM) and likewise for file 1.\n   *\n   * Note that XLIM, YLIM are exclusive bounds.\n   * All line numbers are origin-0 and discarded lines are not counted.\n   *\/",271],["T_WHITESPACE","\n  ",282],["T_PROTECTED","protected",283],["T_WHITESPACE"," ",283],["T_FUNCTION","function",283],["T_WHITESPACE"," ",283],["T_STRING","_compareseq",283],"(",["T_VARIABLE","$xoff",283],",",["T_WHITESPACE"," ",283],["T_VARIABLE","$xlim",283],",",["T_WHITESPACE"," ",283],["T_VARIABLE","$yoff",283],",",["T_WHITESPACE"," ",283],["T_VARIABLE","$ylim",283],")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n\n    ",283],["T_COMMENT","\/\/ Slide down the bottom initial diagonal.\n",285],["T_WHITESPACE","    ",286],["T_WHILE","while",286],["T_WHITESPACE"," ",286],"(",["T_VARIABLE","$xoff",286],["T_WHITESPACE"," ",286],"<",["T_WHITESPACE"," ",286],["T_VARIABLE","$xlim",286],["T_WHITESPACE"," ",286],["T_BOOLEAN_AND","&&",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$yoff",286],["T_WHITESPACE"," ",286],"<",["T_WHITESPACE"," ",286],["T_VARIABLE","$ylim",286],["T_WHITESPACE"," ",286],["T_BOOLEAN_AND","&&",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","xv",286],"[",["T_VARIABLE","$xoff",286],"]",["T_WHITESPACE"," ",286],["T_IS_EQUAL","==",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","yv",286],"[",["T_VARIABLE","$yoff",286],"]",")",["T_WHITESPACE"," ",286],"{",["T_WHITESPACE","\n      ",286],["T_INC","++",287],["T_VARIABLE","$xoff",287],";",["T_WHITESPACE","\n      ",287],["T_INC","++",288],["T_VARIABLE","$yoff",288],";",["T_WHITESPACE","\n    ",288],"}",["T_WHITESPACE","\n\n    ",289],["T_COMMENT","\/\/ Slide up the top initial diagonal.\n",291],["T_WHITESPACE","    ",292],["T_WHILE","while",292],["T_WHITESPACE"," ",292],"(",["T_VARIABLE","$xlim",292],["T_WHITESPACE"," ",292],">",["T_WHITESPACE"," ",292],["T_VARIABLE","$xoff",292],["T_WHITESPACE"," ",292],["T_BOOLEAN_AND","&&",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$ylim",292],["T_WHITESPACE"," ",292],">",["T_WHITESPACE"," ",292],["T_VARIABLE","$yoff",292],["T_WHITESPACE"," ",292],["T_BOOLEAN_AND","&&",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","xv",292],"[",["T_VARIABLE","$xlim",292],["T_WHITESPACE"," ",292],"-",["T_WHITESPACE"," ",292],["T_LNUMBER","1",292],"]",["T_WHITESPACE"," ",292],["T_IS_EQUAL","==",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","yv",292],"[",["T_VARIABLE","$ylim",292],["T_WHITESPACE"," ",292],"-",["T_WHITESPACE"," ",292],["T_LNUMBER","1",292],"]",")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n      ",292],["T_DEC","--",293],["T_VARIABLE","$xlim",293],";",["T_WHITESPACE","\n      ",293],["T_DEC","--",294],["T_VARIABLE","$ylim",294],";",["T_WHITESPACE","\n    ",294],"}",["T_WHITESPACE","\n\n    ",295],["T_IF","if",297],["T_WHITESPACE"," ",297],"(",["T_VARIABLE","$xoff",297],["T_WHITESPACE"," ",297],["T_IS_EQUAL","==",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$xlim",297],["T_WHITESPACE"," ",297],["T_BOOLEAN_OR","||",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$yoff",297],["T_WHITESPACE"," ",297],["T_IS_EQUAL","==",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$ylim",297],")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n      ",297],["T_VARIABLE","$lcs",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_LNUMBER","0",298],";",["T_WHITESPACE","\n    ",298],"}",["T_WHITESPACE","\n    ",299],["T_ELSE","else",300],["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n      ",300],["T_COMMENT","\/\/ This is ad hoc but seems to work well.\n",301],["T_WHITESPACE","      ",302],["T_COMMENT","\/\/$nchunks = sqrt(min($xlim - $xoff, $ylim - $yoff) \/ 2.5);\n",302],["T_WHITESPACE","      ",303],["T_COMMENT","\/\/$nchunks = max(2, min(8, (int)$nchunks));\n",303],["T_WHITESPACE","      ",304],["T_VARIABLE","$nchunks",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_STRING","min",304],"(",["T_LNUMBER","7",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$xlim",304],["T_WHITESPACE"," ",304],"-",["T_WHITESPACE"," ",304],["T_VARIABLE","$xoff",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$ylim",304],["T_WHITESPACE"," ",304],"-",["T_WHITESPACE"," ",304],["T_VARIABLE","$yoff",304],")",["T_WHITESPACE"," ",304],"+",["T_WHITESPACE"," ",304],["T_LNUMBER","1",304],";",["T_WHITESPACE","\n      ",304],["T_LIST","list",305],"(",["T_VARIABLE","$lcs",305],",",["T_WHITESPACE"," ",305],["T_VARIABLE","$seps",305],")",["T_WHITESPACE","\n      ",305],"=",["T_WHITESPACE"," ",306],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","_diag",306],"(",["T_VARIABLE","$xoff",306],",",["T_WHITESPACE"," ",306],["T_VARIABLE","$xlim",306],",",["T_WHITESPACE"," ",306],["T_VARIABLE","$yoff",306],",",["T_WHITESPACE"," ",306],["T_VARIABLE","$ylim",306],",",["T_WHITESPACE"," ",306],["T_VARIABLE","$nchunks",306],")",";",["T_WHITESPACE","\n    ",306],"}",["T_WHITESPACE","\n\n    ",307],["T_IF","if",309],["T_WHITESPACE"," ",309],"(",["T_VARIABLE","$lcs",309],["T_WHITESPACE"," ",309],["T_IS_EQUAL","==",309],["T_WHITESPACE"," ",309],["T_LNUMBER","0",309],")",["T_WHITESPACE"," ",309],"{",["T_WHITESPACE","\n      ",309],["T_COMMENT","\/\/ X and Y sequences have no common subsequence:\n",310],["T_WHITESPACE","      ",311],["T_COMMENT","\/\/ mark all changed.\n",311],["T_WHITESPACE","      ",312],["T_WHILE","while",312],["T_WHITESPACE"," ",312],"(",["T_VARIABLE","$yoff",312],["T_WHITESPACE"," ",312],"<",["T_WHITESPACE"," ",312],["T_VARIABLE","$ylim",312],")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n        ",312],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","ychanged",313],"[",["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","yind",313],"[",["T_VARIABLE","$yoff",313],["T_INC","++",313],"]","]",["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_LNUMBER","1",313],";",["T_WHITESPACE","\n      ",313],"}",["T_WHITESPACE","\n      ",314],["T_WHILE","while",315],["T_WHITESPACE"," ",315],"(",["T_VARIABLE","$xoff",315],["T_WHITESPACE"," ",315],"<",["T_WHITESPACE"," ",315],["T_VARIABLE","$xlim",315],")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n        ",315],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","xchanged",316],"[",["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","xind",316],"[",["T_VARIABLE","$xoff",316],["T_INC","++",316],"]","]",["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_LNUMBER","1",316],";",["T_WHITESPACE","\n      ",316],"}",["T_WHITESPACE","\n    ",317],"}",["T_WHITESPACE","\n    ",318],["T_ELSE","else",319],["T_WHITESPACE"," ",319],"{",["T_WHITESPACE","\n      ",319],["T_COMMENT","\/\/ Use the partitions to split this problem into subproblems.\n",320],["T_WHITESPACE","      ",321],["T_STRING","reset",321],"(",["T_VARIABLE","$seps",321],")",";",["T_WHITESPACE","\n      ",321],["T_VARIABLE","$pt1",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_VARIABLE","$seps",322],"[",["T_LNUMBER","0",322],"]",";",["T_WHITESPACE","\n      ",322],["T_WHILE","while",323],["T_WHITESPACE"," ",323],"(",["T_VARIABLE","$pt2",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_STRING","next",323],"(",["T_VARIABLE","$seps",323],")",")",["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n        ",323],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","_compareseq",324],["T_WHITESPACE"," ",324],"(",["T_VARIABLE","$pt1",324],"[",["T_LNUMBER","0",324],"]",",",["T_WHITESPACE"," ",324],["T_VARIABLE","$pt2",324],"[",["T_LNUMBER","0",324],"]",",",["T_WHITESPACE"," ",324],["T_VARIABLE","$pt1",324],"[",["T_LNUMBER","1",324],"]",",",["T_WHITESPACE"," ",324],["T_VARIABLE","$pt2",324],"[",["T_LNUMBER","1",324],"]",")",";",["T_WHITESPACE","\n        ",324],["T_VARIABLE","$pt1",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_VARIABLE","$pt2",325],";",["T_WHITESPACE","\n      ",325],"}",["T_WHITESPACE","\n    ",326],"}",["T_WHITESPACE","\n  ",327],"}",["T_WHITESPACE","\n\n  ",328],["T_DOC_COMMENT","\/**\n   * Adjust inserts\/deletes of identical lines to join changes\n   * as much as possible.\n   *\n   * We do something when a run of changed lines include a\n   * line at one end and has an excluded, identical line at the other.\n   * We are free to choose which identical line is included.\n   * `compareseq' usually chooses the one at the beginning,\n   * but usually it is cleaner to consider the following identical line\n   * to be the \"change\".\n   *\n   * This is extracted verbatim from analyze.c (GNU diffutils-2.7).\n   *\/",330],["T_WHITESPACE","\n  ",342],["T_PROTECTED","protected",343],["T_WHITESPACE"," ",343],["T_FUNCTION","function",343],["T_WHITESPACE"," ",343],["T_STRING","_shift_boundaries",343],"(",["T_VARIABLE","$lines",343],",",["T_WHITESPACE"," ",343],"&",["T_VARIABLE","$changed",343],",",["T_WHITESPACE"," ",343],["T_VARIABLE","$other_changed",343],")",["T_WHITESPACE"," ",343],"{",["T_WHITESPACE","\n    ",343],["T_VARIABLE","$i",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_LNUMBER","0",344],";",["T_WHITESPACE","\n    ",344],["T_VARIABLE","$j",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_LNUMBER","0",345],";",["T_WHITESPACE","\n\n    ",345],["T_VARIABLE","$this",347],["T_DOUBLE_COLON","::",347],["T_STRING","USE_ASSERTS",347],["T_WHITESPACE"," ",347],["T_BOOLEAN_AND","&&",347],["T_WHITESPACE"," ",347],["T_STRING","assert",347],"(",["T_CONSTANT_ENCAPSED_STRING","'sizeof($lines) == sizeof($changed)'",347],")",";",["T_WHITESPACE","\n    ",347],["T_VARIABLE","$len",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_STRING","sizeof",348],"(",["T_VARIABLE","$lines",348],")",";",["T_WHITESPACE","\n    ",348],["T_VARIABLE","$other_len",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_STRING","sizeof",349],"(",["T_VARIABLE","$other_changed",349],")",";",["T_WHITESPACE","\n\n    ",349],["T_WHILE","while",351],["T_WHITESPACE"," ",351],"(",["T_LNUMBER","1",351],")",["T_WHITESPACE"," ",351],"{",["T_WHITESPACE","\n      ",351],["T_COMMENT","\/*\n       * Scan forwards to find beginning of another run of changes.\n       * Also keep track of the corresponding point in the other file.\n       *\n       * Throughout this code, $i and $j are adjusted together so that\n       * the first $i elements of $changed and the first $j elements\n       * of $other_changed both contain the same number of zeros\n       * (unchanged lines).\n       * Furthermore, $j is always kept so that $j == $other_len or\n       * $other_changed[$j] == FALSE.\n       *\/",352],["T_WHITESPACE","\n      ",362],["T_WHILE","while",363],["T_WHITESPACE"," ",363],"(",["T_VARIABLE","$j",363],["T_WHITESPACE"," ",363],"<",["T_WHITESPACE"," ",363],["T_VARIABLE","$other_len",363],["T_WHITESPACE"," ",363],["T_BOOLEAN_AND","&&",363],["T_WHITESPACE"," ",363],["T_VARIABLE","$other_changed",363],"[",["T_VARIABLE","$j",363],"]",")",["T_WHITESPACE"," ",363],"{",["T_WHITESPACE","\n        ",363],["T_VARIABLE","$j",364],["T_INC","++",364],";",["T_WHITESPACE","\n      ",364],"}",["T_WHITESPACE","\n      ",365],["T_WHILE","while",366],["T_WHITESPACE"," ",366],"(",["T_VARIABLE","$i",366],["T_WHITESPACE"," ",366],"<",["T_WHITESPACE"," ",366],["T_VARIABLE","$len",366],["T_WHITESPACE"," ",366],["T_BOOLEAN_AND","&&",366],["T_WHITESPACE"," ",366],"!",["T_VARIABLE","$changed",366],"[",["T_VARIABLE","$i",366],"]",")",["T_WHITESPACE"," ",366],"{",["T_WHITESPACE","\n        ",366],["T_VARIABLE","$this",367],["T_DOUBLE_COLON","::",367],["T_STRING","USE_ASSERTS",367],["T_WHITESPACE"," ",367],["T_BOOLEAN_AND","&&",367],["T_WHITESPACE"," ",367],["T_STRING","assert",367],"(",["T_CONSTANT_ENCAPSED_STRING","'$j < $other_len && ! $other_changed[$j]'",367],")",";",["T_WHITESPACE","\n        ",367],["T_VARIABLE","$i",368],["T_INC","++",368],";",["T_WHITESPACE","\n        ",368],["T_VARIABLE","$j",369],["T_INC","++",369],";",["T_WHITESPACE","\n        ",369],["T_WHILE","while",370],["T_WHITESPACE"," ",370],"(",["T_VARIABLE","$j",370],["T_WHITESPACE"," ",370],"<",["T_WHITESPACE"," ",370],["T_VARIABLE","$other_len",370],["T_WHITESPACE"," ",370],["T_BOOLEAN_AND","&&",370],["T_WHITESPACE"," ",370],["T_VARIABLE","$other_changed",370],"[",["T_VARIABLE","$j",370],"]",")",["T_WHITESPACE"," ",370],"{",["T_WHITESPACE","\n          ",370],["T_VARIABLE","$j",371],["T_INC","++",371],";",["T_WHITESPACE","\n        ",371],"}",["T_WHITESPACE","\n      ",372],"}",["T_WHITESPACE","\n\n      ",373],["T_IF","if",375],["T_WHITESPACE"," ",375],"(",["T_VARIABLE","$i",375],["T_WHITESPACE"," ",375],["T_IS_EQUAL","==",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$len",375],")",["T_WHITESPACE"," ",375],"{",["T_WHITESPACE","\n        ",375],["T_BREAK","break",376],";",["T_WHITESPACE","\n      ",376],"}",["T_WHITESPACE","\n      ",377],["T_VARIABLE","$start",378],["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],["T_VARIABLE","$i",378],";",["T_WHITESPACE","\n\n      ",378],["T_COMMENT","\/\/ Find the end of this run of changes.\n",380],["T_WHITESPACE","      ",381],["T_WHILE","while",381],["T_WHITESPACE"," ",381],"(",["T_INC","++",381],["T_VARIABLE","$i",381],["T_WHITESPACE"," ",381],"<",["T_WHITESPACE"," ",381],["T_VARIABLE","$len",381],["T_WHITESPACE"," ",381],["T_BOOLEAN_AND","&&",381],["T_WHITESPACE"," ",381],["T_VARIABLE","$changed",381],"[",["T_VARIABLE","$i",381],"]",")",["T_WHITESPACE"," ",381],"{",["T_WHITESPACE","\n        ",381],["T_CONTINUE","continue",382],";",["T_WHITESPACE","\n      ",382],"}",["T_WHITESPACE","\n\n      ",383],["T_DO","do",385],["T_WHITESPACE"," ",385],"{",["T_WHITESPACE","\n        ",385],["T_COMMENT","\/*\n         * Record the length of this run of changes, so that\n         * we can later determine whether the run has grown.\n         *\/",386],["T_WHITESPACE","\n        ",389],["T_VARIABLE","$runlength",390],["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_VARIABLE","$i",390],["T_WHITESPACE"," ",390],"-",["T_WHITESPACE"," ",390],["T_VARIABLE","$start",390],";",["T_WHITESPACE","\n\n        ",390],["T_COMMENT","\/*\n         * Move the changed region back, so long as the\n         * previous unchanged line matches the last changed one.\n         * This merges with previous changed regions.\n         *\/",392],["T_WHITESPACE","\n        ",396],["T_WHILE","while",397],["T_WHITESPACE"," ",397],"(",["T_VARIABLE","$start",397],["T_WHITESPACE"," ",397],">",["T_WHITESPACE"," ",397],["T_LNUMBER","0",397],["T_WHITESPACE"," ",397],["T_BOOLEAN_AND","&&",397],["T_WHITESPACE"," ",397],["T_VARIABLE","$lines",397],"[",["T_VARIABLE","$start",397],["T_WHITESPACE"," ",397],"-",["T_WHITESPACE"," ",397],["T_LNUMBER","1",397],"]",["T_WHITESPACE"," ",397],["T_IS_EQUAL","==",397],["T_WHITESPACE"," ",397],["T_VARIABLE","$lines",397],"[",["T_VARIABLE","$i",397],["T_WHITESPACE"," ",397],"-",["T_WHITESPACE"," ",397],["T_LNUMBER","1",397],"]",")",["T_WHITESPACE"," ",397],"{",["T_WHITESPACE","\n          ",397],["T_VARIABLE","$changed",398],"[",["T_DEC","--",398],["T_VARIABLE","$start",398],"]",["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],["T_LNUMBER","1",398],";",["T_WHITESPACE","\n          ",398],["T_VARIABLE","$changed",399],"[",["T_DEC","--",399],["T_VARIABLE","$i",399],"]",["T_WHITESPACE"," ",399],"=",["T_WHITESPACE"," ",399],["T_STRING","FALSE",399],";",["T_WHITESPACE","\n          ",399],["T_WHILE","while",400],["T_WHITESPACE"," ",400],"(",["T_VARIABLE","$start",400],["T_WHITESPACE"," ",400],">",["T_WHITESPACE"," ",400],["T_LNUMBER","0",400],["T_WHITESPACE"," ",400],["T_BOOLEAN_AND","&&",400],["T_WHITESPACE"," ",400],["T_VARIABLE","$changed",400],"[",["T_VARIABLE","$start",400],["T_WHITESPACE"," ",400],"-",["T_WHITESPACE"," ",400],["T_LNUMBER","1",400],"]",")",["T_WHITESPACE"," ",400],"{",["T_WHITESPACE","\n            ",400],["T_VARIABLE","$start",401],["T_DEC","--",401],";",["T_WHITESPACE","\n          ",401],"}",["T_WHITESPACE","\n          ",402],["T_VARIABLE","$this",403],["T_DOUBLE_COLON","::",403],["T_STRING","USE_ASSERTS",403],["T_WHITESPACE"," ",403],["T_BOOLEAN_AND","&&",403],["T_WHITESPACE"," ",403],["T_STRING","assert",403],"(",["T_CONSTANT_ENCAPSED_STRING","'$j > 0'",403],")",";",["T_WHITESPACE","\n          ",403],["T_WHILE","while",404],["T_WHITESPACE"," ",404],"(",["T_VARIABLE","$other_changed",404],"[",["T_DEC","--",404],["T_VARIABLE","$j",404],"]",")",["T_WHITESPACE"," ",404],"{",["T_WHITESPACE","\n            ",404],["T_CONTINUE","continue",405],";",["T_WHITESPACE","\n          ",405],"}",["T_WHITESPACE","\n          ",406],["T_VARIABLE","$this",407],["T_DOUBLE_COLON","::",407],["T_STRING","USE_ASSERTS",407],["T_WHITESPACE"," ",407],["T_BOOLEAN_AND","&&",407],["T_WHITESPACE"," ",407],["T_STRING","assert",407],"(",["T_CONSTANT_ENCAPSED_STRING","'$j >= 0 && !$other_changed[$j]'",407],")",";",["T_WHITESPACE","\n        ",407],"}",["T_WHITESPACE","\n\n        ",408],["T_COMMENT","\/*\n         * Set CORRESPONDING to the end of the changed run, at the last\n         * point where it corresponds to a changed run in the other file.\n         * CORRESPONDING == LEN means no such point has been found.\n         *\/",410],["T_WHITESPACE","\n        ",414],["T_VARIABLE","$corresponding",415],["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_VARIABLE","$j",415],["T_WHITESPACE"," ",415],"<",["T_WHITESPACE"," ",415],["T_VARIABLE","$other_len",415],["T_WHITESPACE"," ",415],"?",["T_WHITESPACE"," ",415],["T_VARIABLE","$i",415],["T_WHITESPACE"," ",415],":",["T_WHITESPACE"," ",415],["T_VARIABLE","$len",415],";",["T_WHITESPACE","\n\n        ",415],["T_COMMENT","\/*\n         * Move the changed region forward, so long as the\n         * first changed line matches the following unchanged one.\n         * This merges with following changed regions.\n         * Do this second, so that if there are no merges,\n         * the changed region is moved forward as far as possible.\n         *\/",417],["T_WHITESPACE","\n        ",423],["T_WHILE","while",424],["T_WHITESPACE"," ",424],"(",["T_VARIABLE","$i",424],["T_WHITESPACE"," ",424],"<",["T_WHITESPACE"," ",424],["T_VARIABLE","$len",424],["T_WHITESPACE"," ",424],["T_BOOLEAN_AND","&&",424],["T_WHITESPACE"," ",424],["T_VARIABLE","$lines",424],"[",["T_VARIABLE","$start",424],"]",["T_WHITESPACE"," ",424],["T_IS_EQUAL","==",424],["T_WHITESPACE"," ",424],["T_VARIABLE","$lines",424],"[",["T_VARIABLE","$i",424],"]",")",["T_WHITESPACE"," ",424],"{",["T_WHITESPACE","\n          ",424],["T_VARIABLE","$changed",425],"[",["T_VARIABLE","$start",425],["T_INC","++",425],"]",["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_STRING","FALSE",425],";",["T_WHITESPACE","\n          ",425],["T_VARIABLE","$changed",426],"[",["T_VARIABLE","$i",426],["T_INC","++",426],"]",["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_LNUMBER","1",426],";",["T_WHITESPACE","\n          ",426],["T_WHILE","while",427],["T_WHITESPACE"," ",427],"(",["T_VARIABLE","$i",427],["T_WHITESPACE"," ",427],"<",["T_WHITESPACE"," ",427],["T_VARIABLE","$len",427],["T_WHITESPACE"," ",427],["T_BOOLEAN_AND","&&",427],["T_WHITESPACE"," ",427],["T_VARIABLE","$changed",427],"[",["T_VARIABLE","$i",427],"]",")",["T_WHITESPACE"," ",427],"{",["T_WHITESPACE","\n            ",427],["T_VARIABLE","$i",428],["T_INC","++",428],";",["T_WHITESPACE","\n          ",428],"}",["T_WHITESPACE","\n          ",429],["T_VARIABLE","$this",430],["T_DOUBLE_COLON","::",430],["T_STRING","USE_ASSERTS",430],["T_WHITESPACE"," ",430],["T_BOOLEAN_AND","&&",430],["T_WHITESPACE"," ",430],["T_STRING","assert",430],"(",["T_CONSTANT_ENCAPSED_STRING","'$j < $other_len && ! $other_changed[$j]'",430],")",";",["T_WHITESPACE","\n          ",430],["T_VARIABLE","$j",431],["T_INC","++",431],";",["T_WHITESPACE","\n          ",431],["T_IF","if",432],["T_WHITESPACE"," ",432],"(",["T_VARIABLE","$j",432],["T_WHITESPACE"," ",432],"<",["T_WHITESPACE"," ",432],["T_VARIABLE","$other_len",432],["T_WHITESPACE"," ",432],["T_BOOLEAN_AND","&&",432],["T_WHITESPACE"," ",432],["T_VARIABLE","$other_changed",432],"[",["T_VARIABLE","$j",432],"]",")",["T_WHITESPACE"," ",432],"{",["T_WHITESPACE","\n            ",432],["T_VARIABLE","$corresponding",433],["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_VARIABLE","$i",433],";",["T_WHITESPACE","\n            ",433],["T_WHILE","while",434],["T_WHITESPACE"," ",434],"(",["T_VARIABLE","$j",434],["T_WHITESPACE"," ",434],"<",["T_WHITESPACE"," ",434],["T_VARIABLE","$other_len",434],["T_WHITESPACE"," ",434],["T_BOOLEAN_AND","&&",434],["T_WHITESPACE"," ",434],["T_VARIABLE","$other_changed",434],"[",["T_VARIABLE","$j",434],"]",")",["T_WHITESPACE"," ",434],"{",["T_WHITESPACE","\n              ",434],["T_VARIABLE","$j",435],["T_INC","++",435],";",["T_WHITESPACE","\n            ",435],"}",["T_WHITESPACE","\n          ",436],"}",["T_WHITESPACE","\n        ",437],"}",["T_WHITESPACE","\n      ",438],"}",["T_WHITESPACE"," ",439],["T_WHILE","while",439],["T_WHITESPACE"," ",439],"(",["T_VARIABLE","$runlength",439],["T_WHITESPACE"," ",439],["T_IS_NOT_EQUAL","!=",439],["T_WHITESPACE"," ",439],["T_VARIABLE","$i",439],["T_WHITESPACE"," ",439],"-",["T_WHITESPACE"," ",439],["T_VARIABLE","$start",439],")",";",["T_WHITESPACE","\n\n      ",439],["T_COMMENT","\/*\n       * If possible, move the fully-merged run of changes\n       * back to a corresponding run in the other file.\n       *\/",441],["T_WHITESPACE","\n      ",444],["T_WHILE","while",445],["T_WHITESPACE"," ",445],"(",["T_VARIABLE","$corresponding",445],["T_WHITESPACE"," ",445],"<",["T_WHITESPACE"," ",445],["T_VARIABLE","$i",445],")",["T_WHITESPACE"," ",445],"{",["T_WHITESPACE","\n        ",445],["T_VARIABLE","$changed",446],"[",["T_DEC","--",446],["T_VARIABLE","$start",446],"]",["T_WHITESPACE"," ",446],"=",["T_WHITESPACE"," ",446],["T_LNUMBER","1",446],";",["T_WHITESPACE","\n        ",446],["T_VARIABLE","$changed",447],"[",["T_DEC","--",447],["T_VARIABLE","$i",447],"]",["T_WHITESPACE"," ",447],"=",["T_WHITESPACE"," ",447],["T_LNUMBER","0",447],";",["T_WHITESPACE","\n        ",447],["T_VARIABLE","$this",448],["T_DOUBLE_COLON","::",448],["T_STRING","USE_ASSERTS",448],["T_WHITESPACE"," ",448],["T_BOOLEAN_AND","&&",448],["T_WHITESPACE"," ",448],["T_STRING","assert",448],"(",["T_CONSTANT_ENCAPSED_STRING","'$j > 0'",448],")",";",["T_WHITESPACE","\n        ",448],["T_WHILE","while",449],["T_WHITESPACE"," ",449],"(",["T_VARIABLE","$other_changed",449],"[",["T_DEC","--",449],["T_VARIABLE","$j",449],"]",")",["T_WHITESPACE"," ",449],"{",["T_WHITESPACE","\n          ",449],["T_CONTINUE","continue",450],";",["T_WHITESPACE","\n        ",450],"}",["T_WHITESPACE","\n        ",451],["T_VARIABLE","$this",452],["T_DOUBLE_COLON","::",452],["T_STRING","USE_ASSERTS",452],["T_WHITESPACE"," ",452],["T_BOOLEAN_AND","&&",452],["T_WHITESPACE"," ",452],["T_STRING","assert",452],"(",["T_CONSTANT_ENCAPSED_STRING","'$j >= 0 && !$other_changed[$j]'",452],")",";",["T_WHITESPACE","\n      ",452],"}",["T_WHITESPACE","\n    ",453],"}",["T_WHITESPACE","\n  ",454],"}",["T_WHITESPACE","\n\n",455],"}",["T_WHITESPACE","\n",457]]