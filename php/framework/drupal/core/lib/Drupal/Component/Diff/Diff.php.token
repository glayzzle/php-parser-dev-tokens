[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Component",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Diff",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Diff",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Engine",5],["T_NS_SEPARATOR","\\",5],["T_STRING","DiffEngine",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Class representing a 'diff' between two sequences of strings.\n * @todo document\n * @subpackage DifferenceEngine\n *\n * Copied from https:\/\/www.drupal.org\/project\/diff which was based PHP diff\n * engine for phpwiki. (Taken from phpwiki-1.3.3) The original code in phpwiki\n * was copyright (C) 2000, 2001 Geoffrey T. Dairiki <dairiki@dairiki.org> and\n * licensed under GPL.\n *\/",7],["T_WHITESPACE","\n",16],["T_CLASS","class",17],["T_WHITESPACE"," ",17],["T_STRING","Diff",17],["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * The list of differences as an array of diff operations.\n   *\n   * @var \\Drupal\\Component\\Diff\\Engine\\DiffOp[]\n   *\/",19],["T_WHITESPACE","\n  ",23],["T_PROTECTED","protected",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$edits",24],";",["T_WHITESPACE","\n\n  ",24],["T_DOC_COMMENT","\/**\n   * Constructor.\n   * Computes diff between sequences of strings.\n   *\n   * @param $from_lines array An array of strings.\n   *      (Typically these are lines from a file.)\n   * @param $to_lines array An array of strings.\n   *\/",26],["T_WHITESPACE","\n  ",33],["T_PUBLIC","public",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","__construct",34],"(",["T_VARIABLE","$from_lines",34],",",["T_WHITESPACE"," ",34],["T_VARIABLE","$to_lines",34],")",["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n    ",34],["T_VARIABLE","$eng",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_NEW","new",35],["T_WHITESPACE"," ",35],["T_STRING","DiffEngine",35],"(",")",";",["T_WHITESPACE","\n    ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","edits",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_VARIABLE","$eng",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","diff",36],"(",["T_VARIABLE","$from_lines",36],",",["T_WHITESPACE"," ",36],["T_VARIABLE","$to_lines",36],")",";",["T_WHITESPACE","\n    ",36],["T_COMMENT","\/\/$this->_check($from_lines, $to_lines);\n",37],["T_WHITESPACE","  ",38],"}",["T_WHITESPACE","\n\n  ",38],["T_DOC_COMMENT","\/**\n   * Compute reversed Diff.\n   *\n   * SYNOPSIS:\n   *\n   *  $diff = new Diff($lines1, $lines2);\n   *  $rev = $diff->reverse();\n   * @return object A Diff object representing the inverse of the\n   *          original diff.\n   *\/",40],["T_WHITESPACE","\n  ",49],["T_PUBLIC","public",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","reverse",50],"(",")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$rev",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$rev",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","edits",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_ARRAY","array",52],"(",")",";",["T_WHITESPACE","\n    ",52],["T_FOREACH","foreach",53],["T_WHITESPACE"," ",53],"(",["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","edits",53],["T_WHITESPACE"," ",53],["T_AS","as",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$edit",53],")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n      ",53],["T_VARIABLE","$rev",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","edits",54],"[","]",["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$edit",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","reverse",54],"(",")",";",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n    ",55],["T_RETURN","return",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$rev",56],";",["T_WHITESPACE","\n  ",56],"}",["T_WHITESPACE","\n\n  ",57],["T_DOC_COMMENT","\/**\n   * Check for empty diff.\n   *\n   * @return bool True iff two sequences were identical.\n   *\/",59],["T_WHITESPACE","\n  ",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","isEmpty",64],"(",")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n    ",64],["T_FOREACH","foreach",65],["T_WHITESPACE"," ",65],"(",["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","edits",65],["T_WHITESPACE"," ",65],["T_AS","as",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$edit",65],")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n      ",65],["T_IF","if",66],["T_WHITESPACE"," ",66],"(",["T_VARIABLE","$edit",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","type",66],["T_WHITESPACE"," ",66],["T_IS_NOT_EQUAL","!=",66],["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'copy'",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n        ",66],["T_RETURN","return",67],["T_WHITESPACE"," ",67],["T_STRING","FALSE",67],";",["T_WHITESPACE","\n      ",67],"}",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n    ",69],["T_RETURN","return",70],["T_WHITESPACE"," ",70],["T_STRING","TRUE",70],";",["T_WHITESPACE","\n  ",70],"}",["T_WHITESPACE","\n\n  ",71],["T_DOC_COMMENT","\/**\n   * Compute the length of the Longest Common Subsequence (LCS).\n   *\n   * This is mostly for diagnostic purposed.\n   *\n   * @return int The length of the LCS.\n   *\/",73],["T_WHITESPACE","\n  ",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","lcs",80],"(",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$lcs",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_LNUMBER","0",81],";",["T_WHITESPACE","\n    ",81],["T_FOREACH","foreach",82],["T_WHITESPACE"," ",82],"(",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","edits",82],["T_WHITESPACE"," ",82],["T_AS","as",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$edit",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n      ",82],["T_IF","if",83],["T_WHITESPACE"," ",83],"(",["T_VARIABLE","$edit",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","type",83],["T_WHITESPACE"," ",83],["T_IS_EQUAL","==",83],["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'copy'",83],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$lcs",84],["T_WHITESPACE"," ",84],["T_PLUS_EQUAL","+=",84],["T_WHITESPACE"," ",84],["T_STRING","sizeof",84],"(",["T_VARIABLE","$edit",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","orig",84],")",";",["T_WHITESPACE","\n      ",84],"}",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n    ",86],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$lcs",87],";",["T_WHITESPACE","\n  ",87],"}",["T_WHITESPACE","\n\n  ",88],["T_DOC_COMMENT","\/**\n   * Gets the original set of lines.\n   *\n   * This reconstructs the $from_lines parameter passed to the\n   * constructor.\n   *\n   * @return array The original sequence of strings.\n   *\/",90],["T_WHITESPACE","\n  ",97],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","orig",98],"(",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$lines",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",")",";",["T_WHITESPACE","\n\n    ",99],["T_FOREACH","foreach",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","edits",101],["T_WHITESPACE"," ",101],["T_AS","as",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$edit",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n      ",101],["T_IF","if",102],["T_WHITESPACE"," ",102],"(",["T_VARIABLE","$edit",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","orig",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n        ",102],["T_STRING","array_splice",103],"(",["T_VARIABLE","$lines",103],",",["T_WHITESPACE"," ",103],["T_STRING","sizeof",103],"(",["T_VARIABLE","$lines",103],")",",",["T_WHITESPACE"," ",103],["T_LNUMBER","0",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$edit",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","orig",103],")",";",["T_WHITESPACE","\n      ",103],"}",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n    ",105],["T_RETURN","return",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$lines",106],";",["T_WHITESPACE","\n  ",106],"}",["T_WHITESPACE","\n\n  ",107],["T_DOC_COMMENT","\/**\n   * Gets the closing set of lines.\n   *\n   * This reconstructs the $to_lines parameter passed to the\n   * constructor.\n   *\n   * @return array The sequence of strings.\n   *\/",109],["T_WHITESPACE","\n  ",116],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","closing",117],"(",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$lines",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_ARRAY","array",118],"(",")",";",["T_WHITESPACE","\n\n    ",118],["T_FOREACH","foreach",120],["T_WHITESPACE"," ",120],"(",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","edits",120],["T_WHITESPACE"," ",120],["T_AS","as",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$edit",120],")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n      ",120],["T_IF","if",121],["T_WHITESPACE"," ",121],"(",["T_VARIABLE","$edit",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","closing",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n        ",121],["T_STRING","array_splice",122],"(",["T_VARIABLE","$lines",122],",",["T_WHITESPACE"," ",122],["T_STRING","sizeof",122],"(",["T_VARIABLE","$lines",122],")",",",["T_WHITESPACE"," ",122],["T_LNUMBER","0",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$edit",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","closing",122],")",";",["T_WHITESPACE","\n      ",122],"}",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n    ",124],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$lines",125],";",["T_WHITESPACE","\n  ",125],"}",["T_WHITESPACE","\n\n  ",126],["T_DOC_COMMENT","\/**\n   * Check a Diff for validity.\n   *\n   * This is here only for debugging purposes.\n   *\/",128],["T_WHITESPACE","\n  ",132],["T_PUBLIC","public",133],["T_WHITESPACE"," ",133],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],["T_STRING","check",133],"(",["T_VARIABLE","$from_lines",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$to_lines",133],")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n    ",133],["T_IF","if",134],["T_WHITESPACE"," ",134],"(",["T_STRING","serialize",134],"(",["T_VARIABLE","$from_lines",134],")",["T_WHITESPACE"," ",134],["T_IS_NOT_EQUAL","!=",134],["T_WHITESPACE"," ",134],["T_STRING","serialize",134],"(",["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","orig",134],"(",")",")",")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n      ",134],["T_STRING","trigger_error",135],"(",["T_CONSTANT_ENCAPSED_STRING","\"Reconstructed original doesn't match\"",135],",",["T_WHITESPACE"," ",135],["T_STRING","E_USER_ERROR",135],")",";",["T_WHITESPACE","\n    ",135],"}",["T_WHITESPACE","\n    ",136],["T_IF","if",137],["T_WHITESPACE"," ",137],"(",["T_STRING","serialize",137],"(",["T_VARIABLE","$to_lines",137],")",["T_WHITESPACE"," ",137],["T_IS_NOT_EQUAL","!=",137],["T_WHITESPACE"," ",137],["T_STRING","serialize",137],"(",["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","closing",137],"(",")",")",")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n      ",137],["T_STRING","trigger_error",138],"(",["T_CONSTANT_ENCAPSED_STRING","\"Reconstructed closing doesn't match\"",138],",",["T_WHITESPACE"," ",138],["T_STRING","E_USER_ERROR",138],")",";",["T_WHITESPACE","\n    ",138],"}",["T_WHITESPACE","\n\n    ",139],["T_VARIABLE","$rev",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","reverse",141],"(",")",";",["T_WHITESPACE","\n    ",141],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_STRING","serialize",142],"(",["T_VARIABLE","$to_lines",142],")",["T_WHITESPACE"," ",142],["T_IS_NOT_EQUAL","!=",142],["T_WHITESPACE"," ",142],["T_STRING","serialize",142],"(",["T_VARIABLE","$rev",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","orig",142],"(",")",")",")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n      ",142],["T_STRING","trigger_error",143],"(",["T_CONSTANT_ENCAPSED_STRING","\"Reversed original doesn't match\"",143],",",["T_WHITESPACE"," ",143],["T_STRING","E_USER_ERROR",143],")",";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n    ",144],["T_IF","if",145],["T_WHITESPACE"," ",145],"(",["T_STRING","serialize",145],"(",["T_VARIABLE","$from_lines",145],")",["T_WHITESPACE"," ",145],["T_IS_NOT_EQUAL","!=",145],["T_WHITESPACE"," ",145],["T_STRING","serialize",145],"(",["T_VARIABLE","$rev",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","closing",145],"(",")",")",")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n      ",145],["T_STRING","trigger_error",146],"(",["T_CONSTANT_ENCAPSED_STRING","\"Reversed closing doesn't match\"",146],",",["T_WHITESPACE"," ",146],["T_STRING","E_USER_ERROR",146],")",";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n\n\n    ",147],["T_VARIABLE","$prevtype",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'none'",150],";",["T_WHITESPACE","\n    ",150],["T_FOREACH","foreach",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","edits",151],["T_WHITESPACE"," ",151],["T_AS","as",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$edit",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n      ",151],["T_IF","if",152],["T_WHITESPACE"," ",152],"(",["T_WHITESPACE"," ",152],["T_VARIABLE","$prevtype",152],["T_WHITESPACE"," ",152],["T_IS_EQUAL","==",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$edit",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","type",152],["T_WHITESPACE"," ",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n        ",152],["T_STRING","trigger_error",153],"(",["T_CONSTANT_ENCAPSED_STRING","\"Edit sequence is non-optimal\"",153],",",["T_WHITESPACE"," ",153],["T_STRING","E_USER_ERROR",153],")",";",["T_WHITESPACE","\n      ",153],"}",["T_WHITESPACE","\n      ",154],["T_VARIABLE","$prevtype",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$edit",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","type",155],";",["T_WHITESPACE","\n    ",155],"}",["T_WHITESPACE","\n\n    ",156],["T_VARIABLE","$lcs",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","lcs",158],"(",")",";",["T_WHITESPACE","\n    ",158],["T_STRING","trigger_error",159],"(",["T_CONSTANT_ENCAPSED_STRING","'Diff okay: LCS = '",159],["T_WHITESPACE"," ",159],".",["T_WHITESPACE"," ",159],["T_VARIABLE","$lcs",159],",",["T_WHITESPACE"," ",159],["T_STRING","E_USER_NOTICE",159],")",";",["T_WHITESPACE","\n  ",159],"}",["T_WHITESPACE","\n\n  ",160],["T_DOC_COMMENT","\/**\n   * Gets the list of differences as an array of diff operations.\n   *\n   * @return \\Drupal\\Component\\Diff\\Engine\\DiffOp[]\n   *   The list of differences as an array of diff operations.\n   *\/",162],["T_WHITESPACE","\n  ",167],["T_PUBLIC","public",168],["T_WHITESPACE"," ",168],["T_FUNCTION","function",168],["T_WHITESPACE"," ",168],["T_STRING","getEdits",168],"(",")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n    ",168],["T_RETURN","return",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","edits",169],";",["T_WHITESPACE","\n  ",169],"}",["T_WHITESPACE","\n\n",170],"}",["T_WHITESPACE","\n",172]]