[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Component",3],["T_NS_SEPARATOR","\\",3],["T_STRING","FileSystem",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Provides file system functions.\n *\/",5],["T_WHITESPACE","\n",7],["T_CLASS","class",8],["T_WHITESPACE"," ",8],["T_STRING","FileSystem",8],["T_WHITESPACE"," ",8],"{",["T_WHITESPACE","\n\n  ",8],["T_DOC_COMMENT","\/**\n   * Discovers a writable system-appropriate temporary directory.\n   *\n   * @return string|false\n   *   A string containing the path to the temporary directory, or FALSE if no\n   *   suitable temporary directory can be found.\n   *\/",10],["T_WHITESPACE","\n  ",16],["T_PUBLIC","public",17],["T_WHITESPACE"," ",17],["T_STATIC","static",17],["T_WHITESPACE"," ",17],["T_FUNCTION","function",17],["T_WHITESPACE"," ",17],["T_STRING","getOsTemporaryDirectory",17],"(",")",["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n    ",17],["T_VARIABLE","$directories",18],["T_WHITESPACE"," ",18],"=",["T_WHITESPACE"," ",18],["T_ARRAY","array",18],"(",")",";",["T_WHITESPACE","\n\n    ",18],["T_COMMENT","\/\/ Has PHP been set with an upload_tmp_dir?\n",20],["T_WHITESPACE","    ",21],["T_IF","if",21],["T_WHITESPACE"," ",21],"(",["T_STRING","ini_get",21],"(",["T_CONSTANT_ENCAPSED_STRING","'upload_tmp_dir'",21],")",")",["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n      ",21],["T_VARIABLE","$directories",22],"[","]",["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_STRING","ini_get",22],"(",["T_CONSTANT_ENCAPSED_STRING","'upload_tmp_dir'",22],")",";",["T_WHITESPACE","\n    ",22],"}",["T_WHITESPACE","\n\n    ",23],["T_COMMENT","\/\/ Operating system specific dirs.\n",25],["T_WHITESPACE","    ",26],["T_IF","if",26],["T_WHITESPACE"," ",26],"(",["T_STRING","substr",26],"(",["T_STRING","PHP_OS",26],",",["T_WHITESPACE"," ",26],["T_LNUMBER","0",26],",",["T_WHITESPACE"," ",26],["T_LNUMBER","3",26],")",["T_WHITESPACE"," ",26],["T_IS_EQUAL","==",26],["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'WIN'",26],")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n      ",26],["T_VARIABLE","$directories",27],"[","]",["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_CONSTANT_ENCAPSED_STRING","'c:\\\\windows\\\\temp'",27],";",["T_WHITESPACE","\n      ",27],["T_VARIABLE","$directories",28],"[","]",["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'c:\\\\winnt\\\\temp'",28],";",["T_WHITESPACE","\n    ",28],"}",["T_WHITESPACE","\n    ",29],["T_ELSE","else",30],["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n      ",30],["T_VARIABLE","$directories",31],"[","]",["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'\/tmp'",31],";",["T_WHITESPACE","\n    ",31],"}",["T_WHITESPACE","\n    ",32],["T_COMMENT","\/\/ PHP may be able to find an alternative tmp directory.\n",33],["T_WHITESPACE","    ",34],["T_VARIABLE","$directories",34],"[","]",["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_STRING","sys_get_temp_dir",34],"(",")",";",["T_WHITESPACE","\n\n    ",34],["T_FOREACH","foreach",36],["T_WHITESPACE"," ",36],"(",["T_VARIABLE","$directories",36],["T_WHITESPACE"," ",36],["T_AS","as",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$directory",36],")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n      ",36],["T_IF","if",37],["T_WHITESPACE"," ",37],"(",["T_STRING","is_dir",37],"(",["T_VARIABLE","$directory",37],")",["T_WHITESPACE"," ",37],["T_BOOLEAN_AND","&&",37],["T_WHITESPACE"," ",37],["T_STRING","is_writable",37],"(",["T_VARIABLE","$directory",37],")",")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n        ",37],["T_COMMENT","\/\/ Both sys_get_temp_dir() and ini_get('upload_tmp_dir') can return paths\n",38],["T_WHITESPACE","        ",39],["T_COMMENT","\/\/ with a trailing directory separator.\n",39],["T_WHITESPACE","        ",40],["T_RETURN","return",40],["T_WHITESPACE"," ",40],["T_STRING","rtrim",40],"(",["T_VARIABLE","$directory",40],",",["T_WHITESPACE"," ",40],["T_STRING","DIRECTORY_SEPARATOR",40],")",";",["T_WHITESPACE","\n      ",40],"}",["T_WHITESPACE","\n    ",41],"}",["T_WHITESPACE","\n    ",42],["T_RETURN","return",43],["T_WHITESPACE"," ",43],["T_STRING","FALSE",43],";",["T_WHITESPACE","\n  ",43],"}",["T_WHITESPACE","\n\n",44],"}",["T_WHITESPACE","\n",46]]