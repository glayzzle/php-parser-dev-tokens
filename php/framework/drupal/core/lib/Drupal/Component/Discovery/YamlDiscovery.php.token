[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Component",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Discovery",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Serialization",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Yaml",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FileCache",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FileCacheFactory",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Provides discovery for YAML files within a given set of directories.\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","YamlDiscovery",11],["T_WHITESPACE"," ",11],["T_IMPLEMENTS","implements",11],["T_WHITESPACE"," ",11],["T_STRING","DiscoverableInterface",11],["T_WHITESPACE"," ",11],"{",["T_WHITESPACE","\n\n  ",11],["T_DOC_COMMENT","\/**\n   * The base filename to look for in each directory.\n   *\n   * @var string\n   *\/",13],["T_WHITESPACE","\n  ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$name",18],";",["T_WHITESPACE","\n\n  ",18],["T_DOC_COMMENT","\/**\n   * An array of directories to scan, keyed by the provider.\n   *\n   * @var array\n   *\/",20],["T_WHITESPACE","\n  ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$directories",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_ARRAY","array",25],"(",")",";",["T_WHITESPACE","\n\n  ",25],["T_DOC_COMMENT","\/**\n   * Constructs a YamlDiscovery object.\n   *\n   * @param string $name\n   *   The base filename to look for in each directory. The format will be\n   *   $provider.$name.yml.\n   * @param array $directories\n   *   An array of directories to scan, keyed by the provider.\n   *\/",27],["T_WHITESPACE","\n  ",35],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","__construct",36],"(",["T_VARIABLE","$name",36],",",["T_WHITESPACE"," ",36],["T_ARRAY","array",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$directories",36],")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n    ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","name",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_VARIABLE","$name",37],";",["T_WHITESPACE","\n    ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","directories",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_VARIABLE","$directories",38],";",["T_WHITESPACE","\n  ",38],"}",["T_WHITESPACE","\n\n  ",39],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",41],["T_WHITESPACE","\n  ",43],["T_PUBLIC","public",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","findAll",44],"(",")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$all",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_ARRAY","array",45],"(",")",";",["T_WHITESPACE","\n\n    ",45],["T_VARIABLE","$files",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","findFiles",47],"(",")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$provider_by_files",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","array_flip",48],"(",["T_VARIABLE","$files",48],")",";",["T_WHITESPACE","\n\n    ",48],["T_VARIABLE","$file_cache",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","FileCacheFactory",50],["T_DOUBLE_COLON","::",50],["T_STRING","get",50],"(",["T_CONSTANT_ENCAPSED_STRING","'yaml_discovery:'",50],["T_WHITESPACE"," ",50],".",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","name",50],")",";",["T_WHITESPACE","\n\n    ",50],["T_COMMENT","\/\/ Try to load from the file cache first.\n",52],["T_WHITESPACE","    ",53],["T_FOREACH","foreach",53],["T_WHITESPACE"," ",53],"(",["T_VARIABLE","$file_cache",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getMultiple",53],"(",["T_VARIABLE","$files",53],")",["T_WHITESPACE"," ",53],["T_AS","as",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$file",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$data",53],")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n      ",53],["T_VARIABLE","$all",54],"[",["T_VARIABLE","$provider_by_files",54],"[",["T_VARIABLE","$file",54],"]","]",["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$data",54],";",["T_WHITESPACE","\n      ",54],["T_UNSET","unset",55],"(",["T_VARIABLE","$provider_by_files",55],"[",["T_VARIABLE","$file",55],"]",")",";",["T_WHITESPACE","\n    ",55],"}",["T_WHITESPACE","\n\n    ",56],["T_COMMENT","\/\/ If there are files left that were not returned from the cache, load and\n",58],["T_WHITESPACE","    ",59],["T_COMMENT","\/\/ parse them now. This list was flipped above and is keyed by filename.\n",59],["T_WHITESPACE","    ",60],["T_IF","if",60],["T_WHITESPACE"," ",60],"(",["T_VARIABLE","$provider_by_files",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n      ",60],["T_FOREACH","foreach",61],["T_WHITESPACE"," ",61],"(",["T_VARIABLE","$provider_by_files",61],["T_WHITESPACE"," ",61],["T_AS","as",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$file",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$provider",61],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n        ",61],["T_COMMENT","\/\/ If a file is empty or its contents are commented out, return an empty\n",62],["T_WHITESPACE","        ",63],["T_COMMENT","\/\/ array instead of NULL for type consistency.\n",63],["T_WHITESPACE","        ",64],["T_VARIABLE","$all",64],"[",["T_VARIABLE","$provider",64],"]",["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","decode",64],"(",["T_VARIABLE","$file",64],")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$file_cache",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","set",65],"(",["T_VARIABLE","$file",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$all",65],"[",["T_VARIABLE","$provider",65],"]",")",";",["T_WHITESPACE","\n      ",65],"}",["T_WHITESPACE","\n    ",66],"}",["T_WHITESPACE","\n\n    ",67],["T_RETURN","return",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$all",69],";",["T_WHITESPACE","\n  ",69],"}",["T_WHITESPACE","\n\n  ",70],["T_DOC_COMMENT","\/**\n   * Decode a YAML file.\n   *\n   * @param string $file\n   *   Yaml file path.\n   * @return array\n   *\/",72],["T_WHITESPACE","\n  ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","decode",79],"(",["T_VARIABLE","$file",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n    ",79],["T_RETURN","return",80],["T_WHITESPACE"," ",80],["T_STRING","Yaml",80],["T_DOUBLE_COLON","::",80],["T_STRING","decode",80],"(",["T_STRING","file_get_contents",80],"(",["T_VARIABLE","$file",80],")",")",["T_WHITESPACE"," ",80],"?",":",["T_WHITESPACE"," ",80],"[","]",";",["T_WHITESPACE","\n  ",80],"}",["T_WHITESPACE","\n\n  ",81],["T_DOC_COMMENT","\/**\n   * Returns an array of file paths, keyed by provider.\n   *\n   * @return array\n   *\/",83],["T_WHITESPACE","\n  ",87],["T_PROTECTED","protected",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","findFiles",88],"(",")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$files",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_ARRAY","array",89],"(",")",";",["T_WHITESPACE","\n    ",89],["T_FOREACH","foreach",90],["T_WHITESPACE"," ",90],"(",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","directories",90],["T_WHITESPACE"," ",90],["T_AS","as",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$provider",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$directory",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n      ",90],["T_VARIABLE","$file",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$directory",91],["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'\/'",91],["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],["T_VARIABLE","$provider",91],["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'.'",91],["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","name",91],["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'.yml'",91],";",["T_WHITESPACE","\n      ",91],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_STRING","file_exists",92],"(",["T_VARIABLE","$file",92],")",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$files",93],"[",["T_VARIABLE","$provider",93],"]",["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$file",93],";",["T_WHITESPACE","\n      ",93],"}",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n    ",95],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$files",96],";",["T_WHITESPACE","\n  ",96],"}",["T_WHITESPACE","\n\n",97],"}",["T_WHITESPACE","\n",99]]