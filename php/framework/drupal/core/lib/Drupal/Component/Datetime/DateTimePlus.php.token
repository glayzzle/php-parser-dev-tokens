[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Component",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Datetime",3],";",["T_WHITESPACE","\n",3],["T_USE","use",4],["T_WHITESPACE"," ",4],["T_STRING","Drupal",4],["T_NS_SEPARATOR","\\",4],["T_STRING","Component",4],["T_NS_SEPARATOR","\\",4],["T_STRING","Utility",4],["T_NS_SEPARATOR","\\",4],["T_STRING","ToStringTrait",4],";",["T_WHITESPACE","\n\n",4],["T_DOC_COMMENT","\/**\n * Wraps DateTime().\n *\n * This class wraps the PHP DateTime class with more flexible initialization\n * parameters, allowing a date to be created from an existing date object,\n * a timestamp, a string with an unknown format, a string with a known\n * format, or an array of date parts. It also adds an errors array\n * and a __toString() method to the date object.\n *\n * This class is less lenient than the DateTime class. It changes\n * the default behavior for handling date values like '2011-00-00'.\n * The DateTime class would convert that value to '2010-11-30' and report\n * a warning but not an error. This extension treats that as an error.\n *\n * As with the DateTime class, a date object may be created even if it has\n * errors. It has an errors array attached to it that explains what the\n * errors are. This is less disruptive than allowing datetime exceptions\n * to abort processing. The calling script can decide what to do about\n * errors using hasErrors() and getErrors().\n *\/",6],["T_WHITESPACE","\n",25],["T_CLASS","class",26],["T_WHITESPACE"," ",26],["T_STRING","DateTimePlus",26],["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n\n  ",26],["T_USE","use",28],["T_WHITESPACE"," ",28],["T_STRING","ToStringTrait",28],";",["T_WHITESPACE","\n\n  ",28],["T_CONST","const",30],["T_WHITESPACE"," ",30],["T_STRING","FORMAT",30],["T_WHITESPACE","   ",30],"=",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'Y-m-d H:i:s'",30],";",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * A RFC7231 Compliant date.\n   *\n   * http:\/\/tools.ietf.org\/html\/rfc7231#section-7.1.1.1\n   *\n   * Example: Sun, 06 Nov 1994 08:49:37 GMT\n   *\/",32],["T_WHITESPACE","\n  ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","RFC7231",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'D, d M Y H:i:s \\G\\M\\T'",39],";",["T_WHITESPACE","\n\n  ",39],["T_DOC_COMMENT","\/**\n   * An array of possible date parts.\n   *\/",41],["T_WHITESPACE","\n  ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_STATIC","static",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$dateParts",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_ARRAY","array",44],"(",["T_WHITESPACE","\n    ",44],["T_CONSTANT_ENCAPSED_STRING","'year'",45],",",["T_WHITESPACE","\n    ",45],["T_CONSTANT_ENCAPSED_STRING","'month'",46],",",["T_WHITESPACE","\n    ",46],["T_CONSTANT_ENCAPSED_STRING","'day'",47],",",["T_WHITESPACE","\n    ",47],["T_CONSTANT_ENCAPSED_STRING","'hour'",48],",",["T_WHITESPACE","\n    ",48],["T_CONSTANT_ENCAPSED_STRING","'minute'",49],",",["T_WHITESPACE","\n    ",49],["T_CONSTANT_ENCAPSED_STRING","'second'",50],",",["T_WHITESPACE","\n  ",50],")",";",["T_WHITESPACE","\n\n  ",51],["T_DOC_COMMENT","\/**\n   * The value of the time value passed to the constructor.\n   *\/",53],["T_WHITESPACE","\n  ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$inputTimeRaw",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","''",56],";",["T_WHITESPACE","\n\n  ",56],["T_DOC_COMMENT","\/**\n   * The prepared time, without timezone, for this date.\n   *\/",58],["T_WHITESPACE","\n  ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$inputTimeAdjusted",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","''",61],";",["T_WHITESPACE","\n\n  ",61],["T_DOC_COMMENT","\/**\n   * The value of the timezone passed to the constructor.\n   *\/",63],["T_WHITESPACE","\n  ",65],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$inputTimeZoneRaw",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","''",66],";",["T_WHITESPACE","\n\n  ",66],["T_DOC_COMMENT","\/**\n   * The prepared timezone object used to construct this date.\n   *\/",68],["T_WHITESPACE","\n  ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$inputTimeZoneAdjusted",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","''",71],";",["T_WHITESPACE","\n\n  ",71],["T_DOC_COMMENT","\/**\n   * The value of the format passed to the constructor.\n   *\/",73],["T_WHITESPACE","\n  ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$inputFormatRaw",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","''",76],";",["T_WHITESPACE","\n\n  ",76],["T_DOC_COMMENT","\/**\n   * The prepared format, if provided.\n   *\/",78],["T_WHITESPACE","\n  ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$inputFormatAdjusted",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","''",81],";",["T_WHITESPACE","\n\n  ",81],["T_DOC_COMMENT","\/**\n   * The value of the language code passed to the constructor.\n   *\/",83],["T_WHITESPACE","\n  ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$langcode",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","NULL",86],";",["T_WHITESPACE","\n\n  ",86],["T_DOC_COMMENT","\/**\n   * An array of errors encountered when creating this date.\n   *\/",88],["T_WHITESPACE","\n  ",90],["T_PROTECTED","protected",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$errors",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_ARRAY","array",91],"(",")",";",["T_WHITESPACE","\n\n  ",91],["T_DOC_COMMENT","\/**\n   * The DateTime object.\n   *\n   * @var \\DateTime\n   *\/",93],["T_WHITESPACE","\n  ",97],["T_PROTECTED","protected",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$dateTimeObject",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","NULL",98],";",["T_WHITESPACE","\n\n  ",98],["T_DOC_COMMENT","\/**\n   * Creates a date object from an input date object.\n   *\n   * @param \\DateTime $datetime\n   *   A DateTime object.\n   * @param array $settings\n   *   @see __construct()\n   *\n   * @return static\n   *   A new DateTimePlus object.\n   *\/",100],["T_WHITESPACE","\n  ",110],["T_PUBLIC","public",111],["T_WHITESPACE"," ",111],["T_STATIC","static",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","createFromDateTime",111],"(",["T_NS_SEPARATOR","\\",111],["T_STRING","DateTime",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$datetime",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$settings",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_ARRAY","array",111],"(",")",")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n    ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_NEW","new",112],["T_WHITESPACE"," ",112],["T_STATIC","static",112],"(",["T_VARIABLE","$datetime",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","format",112],"(",["T_STATIC","static",112],["T_DOUBLE_COLON","::",112],["T_STRING","FORMAT",112],")",",",["T_WHITESPACE"," ",112],["T_VARIABLE","$datetime",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getTimezone",112],"(",")",",",["T_WHITESPACE"," ",112],["T_VARIABLE","$settings",112],")",";",["T_WHITESPACE","\n  ",112],"}",["T_WHITESPACE","\n\n  ",113],["T_DOC_COMMENT","\/**\n   * Creates a date object from an array of date parts.\n   *\n   * Converts the input value into an ISO date, forcing a full ISO\n   * date even if some values are missing.\n   *\n   * @param array $date_parts\n   *   An array of date parts, like ('year' => 2014, 'month' => 4).\n   * @param mixed $timezone\n   *   (optional) \\DateTimeZone object, time zone string or NULL. NULL uses the\n   *   default system time zone. Defaults to NULL.\n   * @param array $settings\n   *   (optional) A keyed array for settings, suitable for passing on to\n   *   __construct().\n   *\n   * @return static\n   *   A new DateTimePlus object.\n   *\n   * @throws \\Exception\n   *   If the array date values or value combination is not correct.\n   *\/",115],["T_WHITESPACE","\n  ",135],["T_PUBLIC","public",136],["T_WHITESPACE"," ",136],["T_STATIC","static",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","createFromArray",136],"(",["T_ARRAY","array",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$date_parts",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$timezone",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_STRING","NULL",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$settings",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_ARRAY","array",136],"(",")",")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$date_parts",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_STATIC","static",137],["T_DOUBLE_COLON","::",137],["T_STRING","prepareArray",137],"(",["T_VARIABLE","$date_parts",137],",",["T_WHITESPACE"," ",137],["T_STRING","TRUE",137],")",";",["T_WHITESPACE","\n    ",137],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_STATIC","static",138],["T_DOUBLE_COLON","::",138],["T_STRING","checkArray",138],"(",["T_VARIABLE","$date_parts",138],")",")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n      ",138],["T_COMMENT","\/\/ Even with validation, we can end up with a value that the\n",139],["T_WHITESPACE","      ",140],["T_COMMENT","\/\/ DateTime class won't handle, like a year outside the range\n",140],["T_WHITESPACE","      ",141],["T_COMMENT","\/\/ of -9999 to 9999, which will pass checkdate() but\n",141],["T_WHITESPACE","      ",142],["T_COMMENT","\/\/ fail to construct a date object.\n",142],["T_WHITESPACE","      ",143],["T_VARIABLE","$iso_date",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_STATIC","static",143],["T_DOUBLE_COLON","::",143],["T_STRING","arrayToISO",143],"(",["T_VARIABLE","$date_parts",143],")",";",["T_WHITESPACE","\n      ",143],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_NEW","new",144],["T_WHITESPACE"," ",144],["T_STATIC","static",144],"(",["T_VARIABLE","$iso_date",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$timezone",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$settings",144],")",";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n    ",145],["T_ELSE","else",146],["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n      ",146],["T_THROW","throw",147],["T_WHITESPACE"," ",147],["T_NEW","new",147],["T_WHITESPACE"," ",147],["T_NS_SEPARATOR","\\",147],["T_STRING","Exception",147],"(",["T_CONSTANT_ENCAPSED_STRING","'The array contains invalid values.'",147],")",";",["T_WHITESPACE","\n    ",147],"}",["T_WHITESPACE","\n  ",148],"}",["T_WHITESPACE","\n\n  ",149],["T_DOC_COMMENT","\/**\n   * Creates a date object from timestamp input.\n   *\n   * The timezone of a timestamp is always UTC. The timezone for a\n   * timestamp indicates the timezone used by the format() method.\n   *\n   * @param int $timestamp\n   *   A UNIX timestamp.\n   * @param mixed $timezone\n   *   @see __construct()\n   * @param array $settings\n   *   @see __construct()\n   *\n   * @return static\n   *   A new DateTimePlus object.\n   *\n   * @throws \\Exception\n   *   If the timestamp is not numeric.\n   *\/",151],["T_WHITESPACE","\n  ",169],["T_PUBLIC","public",170],["T_WHITESPACE"," ",170],["T_STATIC","static",170],["T_WHITESPACE"," ",170],["T_FUNCTION","function",170],["T_WHITESPACE"," ",170],["T_STRING","createFromTimestamp",170],"(",["T_VARIABLE","$timestamp",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$timezone",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_STRING","NULL",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$settings",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_ARRAY","array",170],"(",")",")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n    ",170],["T_IF","if",171],["T_WHITESPACE"," ",171],"(","!",["T_STRING","is_numeric",171],"(",["T_VARIABLE","$timestamp",171],")",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n      ",171],["T_THROW","throw",172],["T_WHITESPACE"," ",172],["T_NEW","new",172],["T_WHITESPACE"," ",172],["T_NS_SEPARATOR","\\",172],["T_STRING","Exception",172],"(",["T_CONSTANT_ENCAPSED_STRING","'The timestamp must be numeric.'",172],")",";",["T_WHITESPACE","\n    ",172],"}",["T_WHITESPACE","\n    ",173],["T_VARIABLE","$datetime",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_NEW","new",174],["T_WHITESPACE"," ",174],["T_STATIC","static",174],"(",["T_CONSTANT_ENCAPSED_STRING","''",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$timezone",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$settings",174],")",";",["T_WHITESPACE","\n    ",174],["T_VARIABLE","$datetime",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","setTimestamp",175],"(",["T_VARIABLE","$timestamp",175],")",";",["T_WHITESPACE","\n    ",175],["T_RETURN","return",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$datetime",176],";",["T_WHITESPACE","\n  ",176],"}",["T_WHITESPACE","\n\n  ",177],["T_DOC_COMMENT","\/**\n   * Creates a date object from an input format.\n   *\n   * @param string $format\n   *   PHP date() type format for parsing the input. This is recommended\n   *   to use things like negative years, which php's parser fails on, or\n   *   any other specialized input with a known format. If provided the\n   *   date will be created using the createFromFormat() method.\n   *   @see http:\/\/php.net\/manual\/datetime.createfromformat.php\n   * @param mixed $time\n   *   @see __construct()\n   * @param mixed $timezone\n   *   @see __construct()\n   * @param array $settings\n   *   - validate_format: (optional) Boolean choice to validate the\n   *     created date using the input format. The format used in\n   *     createFromFormat() allows slightly different values than format().\n   *     Using an input format that works in both functions makes it\n   *     possible to a validation step to confirm that the date created\n   *     from a format string exactly matches the input. This option\n   *     indicates the format can be used for validation. Defaults to TRUE.\n   *   @see __construct()\n   *\n   * @return static\n   *   A new DateTimePlus object.\n   *\n   * @throws \\Exception\n   *   If the a date cannot be created from the given format, or if the\n   *   created date does not match the input value.\n   *\/",179],["T_WHITESPACE","\n  ",208],["T_PUBLIC","public",209],["T_WHITESPACE"," ",209],["T_STATIC","static",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","createFromFormat",209],"(",["T_VARIABLE","$format",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$time",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$timezone",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_STRING","NULL",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$settings",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_ARRAY","array",209],"(",")",")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n    ",209],["T_IF","if",210],["T_WHITESPACE"," ",210],"(","!",["T_ISSET","isset",210],"(",["T_VARIABLE","$settings",210],"[",["T_CONSTANT_ENCAPSED_STRING","'validate_format'",210],"]",")",")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n      ",210],["T_VARIABLE","$settings",211],"[",["T_CONSTANT_ENCAPSED_STRING","'validate_format'",211],"]",["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_STRING","TRUE",211],";",["T_WHITESPACE","\n    ",211],"}",["T_WHITESPACE","\n\n    ",212],["T_COMMENT","\/\/ Tries to create a date from the format and use it if possible.\n",214],["T_WHITESPACE","    ",215],["T_COMMENT","\/\/ A regular try\/catch won't work right here, if the value is\n",215],["T_WHITESPACE","    ",216],["T_COMMENT","\/\/ invalid it doesn't return an exception.\n",216],["T_WHITESPACE","    ",217],["T_VARIABLE","$datetimeplus",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_NEW","new",217],["T_WHITESPACE"," ",217],["T_STATIC","static",217],"(",["T_CONSTANT_ENCAPSED_STRING","''",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$timezone",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$settings",217],")",";",["T_WHITESPACE","\n\n    ",217],["T_VARIABLE","$date",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_NS_SEPARATOR","\\",219],["T_STRING","DateTime",219],["T_DOUBLE_COLON","::",219],["T_STRING","createFromFormat",219],"(",["T_VARIABLE","$format",219],",",["T_WHITESPACE"," ",219],["T_VARIABLE","$time",219],",",["T_WHITESPACE"," ",219],["T_VARIABLE","$datetimeplus",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getTimezone",219],"(",")",")",";",["T_WHITESPACE","\n    ",219],["T_IF","if",220],["T_WHITESPACE"," ",220],"(","!",["T_VARIABLE","$date",220],["T_WHITESPACE"," ",220],["T_INSTANCEOF","instanceof",220],["T_WHITESPACE"," ",220],["T_NS_SEPARATOR","\\",220],["T_STRING","DateTime",220],")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n      ",220],["T_THROW","throw",221],["T_WHITESPACE"," ",221],["T_NEW","new",221],["T_WHITESPACE"," ",221],["T_NS_SEPARATOR","\\",221],["T_STRING","Exception",221],"(",["T_CONSTANT_ENCAPSED_STRING","'The date cannot be created from a format.'",221],")",";",["T_WHITESPACE","\n    ",221],"}",["T_WHITESPACE","\n    ",222],["T_ELSE","else",223],["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n      ",223],["T_COMMENT","\/\/ Functions that parse date is forgiving, it might create a date that\n",224],["T_WHITESPACE","      ",225],["T_COMMENT","\/\/ is not exactly a match for the provided value, so test for that by\n",225],["T_WHITESPACE","      ",226],["T_COMMENT","\/\/ re-creating the date\/time formatted string and comparing it to the input. For\n",226],["T_WHITESPACE","      ",227],["T_COMMENT","\/\/ instance, an input value of '11' using a format of Y (4 digits) gets\n",227],["T_WHITESPACE","      ",228],["T_COMMENT","\/\/ created as '0011' instead of '2011'.\n",228],["T_WHITESPACE","      ",229],["T_IF","if",229],["T_WHITESPACE"," ",229],"(",["T_VARIABLE","$date",229],["T_WHITESPACE"," ",229],["T_INSTANCEOF","instanceof",229],["T_WHITESPACE"," ",229],["T_STRING","DateTimePlus",229],")",["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n        ",229],["T_VARIABLE","$test_time",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_VARIABLE","$date",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","format",230],"(",["T_VARIABLE","$format",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$settings",230],")",";",["T_WHITESPACE","\n      ",230],"}",["T_WHITESPACE","\n      ",231],["T_ELSEIF","elseif",232],["T_WHITESPACE"," ",232],"(",["T_VARIABLE","$date",232],["T_WHITESPACE"," ",232],["T_INSTANCEOF","instanceof",232],["T_WHITESPACE"," ",232],["T_NS_SEPARATOR","\\",232],["T_STRING","DateTime",232],")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$test_time",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_VARIABLE","$date",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","format",233],"(",["T_VARIABLE","$format",233],")",";",["T_WHITESPACE","\n      ",233],"}",["T_WHITESPACE","\n      ",234],["T_VARIABLE","$datetimeplus",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","setTimestamp",235],"(",["T_VARIABLE","$date",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getTimestamp",235],"(",")",")",";",["T_WHITESPACE","\n      ",235],["T_VARIABLE","$datetimeplus",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","setTimezone",236],"(",["T_VARIABLE","$date",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getTimezone",236],"(",")",")",";",["T_WHITESPACE","\n\n      ",236],["T_IF","if",238],["T_WHITESPACE"," ",238],"(",["T_VARIABLE","$settings",238],"[",["T_CONSTANT_ENCAPSED_STRING","'validate_format'",238],"]",["T_WHITESPACE"," ",238],["T_BOOLEAN_AND","&&",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$test_time",238],["T_WHITESPACE"," ",238],["T_IS_NOT_EQUAL","!=",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$time",238],")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n        ",238],["T_THROW","throw",239],["T_WHITESPACE"," ",239],["T_NEW","new",239],["T_WHITESPACE"," ",239],["T_NS_SEPARATOR","\\",239],["T_STRING","Exception",239],"(",["T_CONSTANT_ENCAPSED_STRING","'The created date does not match the input value.'",239],")",";",["T_WHITESPACE","\n      ",239],"}",["T_WHITESPACE","\n    ",240],"}",["T_WHITESPACE","\n    ",241],["T_RETURN","return",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$datetimeplus",242],";",["T_WHITESPACE","\n  ",242],"}",["T_WHITESPACE","\n\n  ",243],["T_DOC_COMMENT","\/**\n   * Constructs a date object set to a requested date and timezone.\n   *\n   * @param string $time\n   *   (optional) A date\/time string. Defaults to 'now'.\n   * @param mixed $timezone\n   *   (optional) \\DateTimeZone object, time zone string or NULL. NULL uses the\n   *   default system time zone. Defaults to NULL.\n   * @param array $settings\n   *   (optional) Keyed array of settings. Defaults to empty array.\n   *   - langcode: (optional) String two letter language code used to control\n   *     the result of the format(). Defaults to NULL.\n   *   - debug: (optional) Boolean choice to leave debug values in the\n   *     date object for debugging purposes. Defaults to FALSE.\n   *\/",245],["T_WHITESPACE","\n  ",259],["T_PUBLIC","public",260],["T_WHITESPACE"," ",260],["T_FUNCTION","function",260],["T_WHITESPACE"," ",260],["T_STRING","__construct",260],"(",["T_VARIABLE","$time",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'now'",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$timezone",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_STRING","NULL",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$settings",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_ARRAY","array",260],"(",")",")",["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n\n    ",260],["T_COMMENT","\/\/ Unpack settings.\n",262],["T_WHITESPACE","    ",263],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","langcode",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],"!",["T_EMPTY","empty",263],"(",["T_VARIABLE","$settings",263],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",263],"]",")",["T_WHITESPACE"," ",263],"?",["T_WHITESPACE"," ",263],["T_VARIABLE","$settings",263],"[",["T_CONSTANT_ENCAPSED_STRING","'langcode'",263],"]",["T_WHITESPACE"," ",263],":",["T_WHITESPACE"," ",263],["T_STRING","NULL",263],";",["T_WHITESPACE","\n\n    ",263],["T_COMMENT","\/\/ Massage the input values as necessary.\n",265],["T_WHITESPACE","    ",266],["T_VARIABLE","$prepared_time",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","prepareTime",266],"(",["T_VARIABLE","$time",266],")",";",["T_WHITESPACE","\n    ",266],["T_VARIABLE","$prepared_timezone",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","prepareTimezone",267],"(",["T_VARIABLE","$timezone",267],")",";",["T_WHITESPACE","\n\n    ",267],["T_TRY","try",269],["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n      ",269],["T_IF","if",270],["T_WHITESPACE"," ",270],"(","!",["T_EMPTY","empty",270],"(",["T_VARIABLE","$prepared_time",270],")",")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n        ",270],["T_VARIABLE","$test",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_STRING","date_parse",271],"(",["T_VARIABLE","$prepared_time",271],")",";",["T_WHITESPACE","\n        ",271],["T_IF","if",272],["T_WHITESPACE"," ",272],"(","!",["T_EMPTY","empty",272],"(",["T_VARIABLE","$test",272],"[",["T_CONSTANT_ENCAPSED_STRING","'errors'",272],"]",")",")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n          ",272],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","errors",273],"[","]",["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$test",273],"[",["T_CONSTANT_ENCAPSED_STRING","'errors'",273],"]",";",["T_WHITESPACE","\n        ",273],"}",["T_WHITESPACE","\n      ",274],"}",["T_WHITESPACE","\n\n      ",275],["T_IF","if",277],["T_WHITESPACE"," ",277],"(",["T_EMPTY","empty",277],"(",["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","errors",277],")",")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n        ",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","dateTimeObject",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_NEW","new",278],["T_WHITESPACE"," ",278],["T_NS_SEPARATOR","\\",278],["T_STRING","DateTime",278],"(",["T_VARIABLE","$prepared_time",278],",",["T_WHITESPACE"," ",278],["T_VARIABLE","$prepared_timezone",278],")",";",["T_WHITESPACE","\n      ",278],"}",["T_WHITESPACE","\n    ",279],"}",["T_WHITESPACE","\n    ",280],["T_CATCH","catch",281],["T_WHITESPACE"," ",281],"(",["T_NS_SEPARATOR","\\",281],["T_STRING","Exception",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$e",281],")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n      ",281],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","errors",282],"[","]",["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_VARIABLE","$e",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","getMessage",282],"(",")",";",["T_WHITESPACE","\n    ",282],"}",["T_WHITESPACE","\n\n    ",283],["T_COMMENT","\/\/ Clean up the error messages.\n",285],["T_WHITESPACE","    ",286],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","checkErrors",286],"(",")",";",["T_WHITESPACE","\n    ",286],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","errors",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_STRING","array_unique",287],"(",["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","errors",287],")",";",["T_WHITESPACE","\n  ",287],"}",["T_WHITESPACE","\n\n  ",288],["T_DOC_COMMENT","\/**\n   * Renders the timezone name.\n   *\n   * @return string\n   *\/",290],["T_WHITESPACE","\n  ",294],["T_PUBLIC","public",295],["T_WHITESPACE"," ",295],["T_FUNCTION","function",295],["T_WHITESPACE"," ",295],["T_STRING","render",295],"(",")",["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n    ",295],["T_RETURN","return",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","format",296],"(",["T_STATIC","static",296],["T_DOUBLE_COLON","::",296],["T_STRING","FORMAT",296],")",["T_WHITESPACE"," ",296],".",["T_WHITESPACE"," ",296],["T_CONSTANT_ENCAPSED_STRING","' '",296],["T_WHITESPACE"," ",296],".",["T_WHITESPACE"," ",296],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","getTimeZone",296],"(",")",["T_OBJECT_OPERATOR","->",296],["T_STRING","getName",296],"(",")",";",["T_WHITESPACE","\n  ",296],"}",["T_WHITESPACE","\n\n  ",297],["T_DOC_COMMENT","\/**\n   * Implements the magic __call method.\n   *\n   * Passes through all unknown calls onto the DateTime object.\n   *\/",299],["T_WHITESPACE","\n  ",303],["T_PUBLIC","public",304],["T_WHITESPACE"," ",304],["T_FUNCTION","function",304],["T_WHITESPACE"," ",304],["T_STRING","__call",304],"(",["T_VARIABLE","$method",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$args",304],")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n    ",304],["T_COMMENT","\/\/ @todo consider using assert() as per https:\/\/www.drupal.org\/node\/2451793.\n",305],["T_WHITESPACE","    ",306],["T_IF","if",306],["T_WHITESPACE"," ",306],"(","!",["T_ISSET","isset",306],"(",["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","dateTimeObject",306],")",")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n      ",306],["T_THROW","throw",307],["T_WHITESPACE"," ",307],["T_NEW","new",307],["T_WHITESPACE"," ",307],["T_NS_SEPARATOR","\\",307],["T_STRING","Exception",307],"(",["T_CONSTANT_ENCAPSED_STRING","'DateTime object not set.'",307],")",";",["T_WHITESPACE","\n    ",307],"}",["T_WHITESPACE","\n    ",308],["T_IF","if",309],["T_WHITESPACE"," ",309],"(","!",["T_STRING","method_exists",309],"(",["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","dateTimeObject",309],",",["T_WHITESPACE"," ",309],["T_VARIABLE","$method",309],")",")",["T_WHITESPACE"," ",309],"{",["T_WHITESPACE","\n      ",309],["T_THROW","throw",310],["T_WHITESPACE"," ",310],["T_NEW","new",310],["T_WHITESPACE"," ",310],["T_NS_SEPARATOR","\\",310],["T_STRING","BadMethodCallException",310],"(",["T_STRING","sprintf",310],"(",["T_CONSTANT_ENCAPSED_STRING","'Call to undefined method %s::%s()'",310],",",["T_WHITESPACE"," ",310],["T_STRING","get_class",310],"(",["T_VARIABLE","$this",310],")",",",["T_WHITESPACE"," ",310],["T_VARIABLE","$method",310],")",")",";",["T_WHITESPACE","\n    ",310],"}",["T_WHITESPACE","\n    ",311],["T_RETURN","return",312],["T_WHITESPACE"," ",312],["T_STRING","call_user_func_array",312],"(",["T_ARRAY","array",312],"(",["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","dateTimeObject",312],",",["T_WHITESPACE"," ",312],["T_VARIABLE","$method",312],")",",",["T_WHITESPACE"," ",312],["T_VARIABLE","$args",312],")",";",["T_WHITESPACE","\n  ",312],"}",["T_WHITESPACE","\n\n  ",313],["T_DOC_COMMENT","\/**\n   * Returns the difference between two DateTimePlus objects.\n   *\n   * @param \\Drupal\\Component\\Datetime\\DateTimePlus|\\DateTime $datetime2\n   *    The date to compare to.\n   * @param bool $absolute\n   *    Should the interval be forced to be positive?\n   *\n   * @return \\DateInterval\n   *    A DateInterval object representing the difference between the two dates.\n   *\n   * @throws \\BadMethodCallException\n   *    If the input isn't a DateTime or DateTimePlus object.\n   *\/",315],["T_WHITESPACE","\n  ",328],["T_PUBLIC","public",329],["T_WHITESPACE"," ",329],["T_FUNCTION","function",329],["T_WHITESPACE"," ",329],["T_STRING","diff",329],"(",["T_VARIABLE","$datetime2",329],",",["T_WHITESPACE"," ",329],["T_VARIABLE","$absolute",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_STRING","FALSE",329],")",["T_WHITESPACE"," ",329],"{",["T_WHITESPACE","\n    ",329],["T_IF","if",330],["T_WHITESPACE"," ",330],"(",["T_VARIABLE","$datetime2",330],["T_WHITESPACE"," ",330],["T_INSTANCEOF","instanceof",330],["T_WHITESPACE"," ",330],["T_STRING","DateTimePlus",330],")",["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n      ",330],["T_VARIABLE","$datetime2",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_VARIABLE","$datetime2",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","dateTimeObject",331],";",["T_WHITESPACE","\n    ",331],"}",["T_WHITESPACE","\n    ",332],["T_IF","if",333],["T_WHITESPACE"," ",333],"(","!","(",["T_VARIABLE","$datetime2",333],["T_WHITESPACE"," ",333],["T_INSTANCEOF","instanceof",333],["T_WHITESPACE"," ",333],["T_NS_SEPARATOR","\\",333],["T_STRING","DateTime",333],")",")",["T_WHITESPACE"," ",333],"{",["T_WHITESPACE","\n      ",333],["T_THROW","throw",334],["T_WHITESPACE"," ",334],["T_NEW","new",334],["T_WHITESPACE"," ",334],["T_NS_SEPARATOR","\\",334],["T_STRING","BadMethodCallException",334],"(",["T_STRING","sprintf",334],"(",["T_CONSTANT_ENCAPSED_STRING","'Method %s expects parameter 1 to be a \\DateTime or \\Drupal\\Component\\Datetime\\DateTimePlus object'",334],",",["T_WHITESPACE"," ",334],["T_METHOD_C","__METHOD__",334],")",")",";",["T_WHITESPACE","\n    ",334],"}",["T_WHITESPACE","\n    ",335],["T_RETURN","return",336],["T_WHITESPACE"," ",336],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","dateTimeObject",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","diff",336],"(",["T_VARIABLE","$datetime2",336],",",["T_WHITESPACE"," ",336],["T_VARIABLE","$absolute",336],")",";",["T_WHITESPACE","\n  ",336],"}",["T_WHITESPACE","\n\n  ",337],["T_DOC_COMMENT","\/**\n   * Implements the magic __callStatic method.\n   *\n   * Passes through all unknown static calls onto the DateTime object.\n   *\/",339],["T_WHITESPACE","\n  ",343],["T_PUBLIC","public",344],["T_WHITESPACE"," ",344],["T_STATIC","static",344],["T_WHITESPACE"," ",344],["T_FUNCTION","function",344],["T_WHITESPACE"," ",344],["T_STRING","__callStatic",344],"(",["T_VARIABLE","$method",344],",",["T_WHITESPACE"," ",344],["T_VARIABLE","$args",344],")",["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n    ",344],["T_IF","if",345],["T_WHITESPACE"," ",345],"(","!",["T_STRING","method_exists",345],"(",["T_CONSTANT_ENCAPSED_STRING","'\\DateTime'",345],",",["T_WHITESPACE"," ",345],["T_VARIABLE","$method",345],")",")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n      ",345],["T_THROW","throw",346],["T_WHITESPACE"," ",346],["T_NEW","new",346],["T_WHITESPACE"," ",346],["T_NS_SEPARATOR","\\",346],["T_STRING","BadMethodCallException",346],"(",["T_STRING","sprintf",346],"(",["T_CONSTANT_ENCAPSED_STRING","'Call to undefined method %s::%s()'",346],",",["T_WHITESPACE"," ",346],["T_STRING","get_called_class",346],"(",")",",",["T_WHITESPACE"," ",346],["T_VARIABLE","$method",346],")",")",";",["T_WHITESPACE","\n    ",346],"}",["T_WHITESPACE","\n    ",347],["T_RETURN","return",348],["T_WHITESPACE"," ",348],["T_STRING","call_user_func_array",348],"(",["T_ARRAY","array",348],"(",["T_CONSTANT_ENCAPSED_STRING","'\\DateTime'",348],",",["T_WHITESPACE"," ",348],["T_VARIABLE","$method",348],")",",",["T_WHITESPACE"," ",348],["T_VARIABLE","$args",348],")",";",["T_WHITESPACE","\n  ",348],"}",["T_WHITESPACE","\n\n  ",349],["T_DOC_COMMENT","\/**\n   * Implements the magic __clone method.\n   *\n   * Deep-clones the DateTime object we're wrapping.\n   *\/",351],["T_WHITESPACE","\n  ",355],["T_PUBLIC","public",356],["T_WHITESPACE"," ",356],["T_FUNCTION","function",356],["T_WHITESPACE"," ",356],["T_STRING","__clone",356],"(",")",["T_WHITESPACE"," ",356],"{",["T_WHITESPACE","\n    ",356],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","dateTimeObject",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_CLONE","clone",357],"(",["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","dateTimeObject",357],")",";",["T_WHITESPACE","\n  ",357],"}",["T_WHITESPACE","\n\n  ",358],["T_DOC_COMMENT","\/**\n   * Prepares the input time value.\n   *\n   * Changes the input value before trying to use it, if necessary.\n   * Can be overridden to handle special cases.\n   *\n   * @param mixed $time\n   *   An input value, which could be a timestamp, a string,\n   *   or an array of date parts.\n   *\n   * @return mixed\n   *   The massaged time.\n   *\/",360],["T_WHITESPACE","\n  ",372],["T_PROTECTED","protected",373],["T_WHITESPACE"," ",373],["T_FUNCTION","function",373],["T_WHITESPACE"," ",373],["T_STRING","prepareTime",373],"(",["T_VARIABLE","$time",373],")",["T_WHITESPACE"," ",373],"{",["T_WHITESPACE","\n    ",373],["T_RETURN","return",374],["T_WHITESPACE"," ",374],["T_VARIABLE","$time",374],";",["T_WHITESPACE","\n  ",374],"}",["T_WHITESPACE","\n\n  ",375],["T_DOC_COMMENT","\/**\n   * Prepares the input timezone value.\n   *\n   * Changes the timezone before trying to use it, if necessary.\n   * Most importantly, makes sure there is a valid timezone\n   * object before moving further.\n   *\n   * @param mixed $timezone\n   *   Either a timezone name or a timezone object or NULL.\n   *\n   * @return \\DateTimeZone\n   *   The massaged time zone.\n   *\/",377],["T_WHITESPACE","\n  ",389],["T_PROTECTED","protected",390],["T_WHITESPACE"," ",390],["T_FUNCTION","function",390],["T_WHITESPACE"," ",390],["T_STRING","prepareTimezone",390],"(",["T_VARIABLE","$timezone",390],")",["T_WHITESPACE"," ",390],"{",["T_WHITESPACE","\n    ",390],["T_COMMENT","\/\/ If the input timezone is a valid timezone object, use it.\n",391],["T_WHITESPACE","    ",392],["T_IF","if",392],["T_WHITESPACE"," ",392],"(",["T_VARIABLE","$timezone",392],["T_WHITESPACE"," ",392],["T_INSTANCEOF","instanceof",392],["T_WHITESPACE"," ",392],["T_NS_SEPARATOR","\\",392],["T_STRING","DateTimezone",392],")",["T_WHITESPACE"," ",392],"{",["T_WHITESPACE","\n      ",392],["T_VARIABLE","$timezone_adjusted",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_VARIABLE","$timezone",393],";",["T_WHITESPACE","\n    ",393],"}",["T_WHITESPACE","\n\n    ",394],["T_COMMENT","\/\/ Allow string timezone input, and create a timezone from it.\n",396],["T_WHITESPACE","    ",397],["T_ELSEIF","elseif",397],["T_WHITESPACE"," ",397],"(","!",["T_EMPTY","empty",397],"(",["T_VARIABLE","$timezone",397],")",["T_WHITESPACE"," ",397],["T_BOOLEAN_AND","&&",397],["T_WHITESPACE"," ",397],["T_STRING","is_string",397],"(",["T_VARIABLE","$timezone",397],")",")",["T_WHITESPACE"," ",397],"{",["T_WHITESPACE","\n      ",397],["T_VARIABLE","$timezone_adjusted",398],["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],["T_NEW","new",398],["T_WHITESPACE"," ",398],["T_NS_SEPARATOR","\\",398],["T_STRING","DateTimeZone",398],"(",["T_VARIABLE","$timezone",398],")",";",["T_WHITESPACE","\n    ",398],"}",["T_WHITESPACE","\n\n    ",399],["T_COMMENT","\/\/ Default to the system timezone when not explicitly provided.\n",401],["T_WHITESPACE","    ",402],["T_COMMENT","\/\/ If the system timezone is missing, use 'UTC'.\n",402],["T_WHITESPACE","    ",403],["T_IF","if",403],["T_WHITESPACE"," ",403],"(",["T_EMPTY","empty",403],"(",["T_VARIABLE","$timezone_adjusted",403],")",["T_WHITESPACE"," ",403],["T_BOOLEAN_OR","||",403],["T_WHITESPACE"," ",403],"!",["T_VARIABLE","$timezone_adjusted",403],["T_WHITESPACE"," ",403],["T_INSTANCEOF","instanceof",403],["T_WHITESPACE"," ",403],["T_NS_SEPARATOR","\\",403],["T_STRING","DateTimezone",403],")",["T_WHITESPACE"," ",403],"{",["T_WHITESPACE","\n      ",403],["T_VARIABLE","$system_timezone",404],["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_STRING","date_default_timezone_get",404],"(",")",";",["T_WHITESPACE","\n      ",404],["T_VARIABLE","$timezone_name",405],["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],"!",["T_EMPTY","empty",405],"(",["T_VARIABLE","$system_timezone",405],")",["T_WHITESPACE"," ",405],"?",["T_WHITESPACE"," ",405],["T_VARIABLE","$system_timezone",405],["T_WHITESPACE"," ",405],":",["T_WHITESPACE"," ",405],["T_CONSTANT_ENCAPSED_STRING","'UTC'",405],";",["T_WHITESPACE","\n      ",405],["T_VARIABLE","$timezone_adjusted",406],["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_NEW","new",406],["T_WHITESPACE"," ",406],["T_NS_SEPARATOR","\\",406],["T_STRING","DateTimeZone",406],"(",["T_VARIABLE","$timezone_name",406],")",";",["T_WHITESPACE","\n    ",406],"}",["T_WHITESPACE","\n\n    ",407],["T_COMMENT","\/\/ We are finally certain that we have a usable timezone.\n",409],["T_WHITESPACE","    ",410],["T_RETURN","return",410],["T_WHITESPACE"," ",410],["T_VARIABLE","$timezone_adjusted",410],";",["T_WHITESPACE","\n  ",410],"}",["T_WHITESPACE","\n\n  ",411],["T_DOC_COMMENT","\/**\n   * Prepares the input format value.\n   *\n   * Changes the input format before trying to use it, if necessary.\n   * Can be overridden to handle special cases.\n   *\n   * @param string $format\n   *   A PHP format string.\n   *\n   * @return string\n   *   The massaged PHP format string.\n   *\/",413],["T_WHITESPACE","\n  ",424],["T_PROTECTED","protected",425],["T_WHITESPACE"," ",425],["T_FUNCTION","function",425],["T_WHITESPACE"," ",425],["T_STRING","prepareFormat",425],"(",["T_VARIABLE","$format",425],")",["T_WHITESPACE"," ",425],"{",["T_WHITESPACE","\n    ",425],["T_RETURN","return",426],["T_WHITESPACE"," ",426],["T_VARIABLE","$format",426],";",["T_WHITESPACE","\n  ",426],"}",["T_WHITESPACE","\n\n\n\n  ",427],["T_DOC_COMMENT","\/**\n   * Examines getLastErrors() to see what errors to report.\n   *\n   * Two kinds of errors are important: anything that DateTime\n   * considers an error, and also a warning that the date was invalid.\n   * PHP creates a valid date from invalid data with only a warning,\n   * 2011-02-30 becomes 2011-03-03, for instance, but we don't want that.\n   *\n   * @see http:\/\/php.net\/manual\/time.getlasterrors.php\n   *\/",431],["T_WHITESPACE","\n  ",440],["T_PUBLIC","public",441],["T_WHITESPACE"," ",441],["T_FUNCTION","function",441],["T_WHITESPACE"," ",441],["T_STRING","checkErrors",441],"(",")",["T_WHITESPACE"," ",441],"{",["T_WHITESPACE","\n    ",441],["T_VARIABLE","$errors",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_NS_SEPARATOR","\\",442],["T_STRING","DateTime",442],["T_DOUBLE_COLON","::",442],["T_STRING","getLastErrors",442],"(",")",";",["T_WHITESPACE","\n    ",442],["T_IF","if",443],["T_WHITESPACE"," ",443],"(","!",["T_EMPTY","empty",443],"(",["T_VARIABLE","$errors",443],"[",["T_CONSTANT_ENCAPSED_STRING","'errors'",443],"]",")",")",["T_WHITESPACE"," ",443],"{",["T_WHITESPACE","\n      ",443],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","errors",444],["T_WHITESPACE"," ",444],["T_PLUS_EQUAL","+=",444],["T_WHITESPACE"," ",444],["T_VARIABLE","$errors",444],"[",["T_CONSTANT_ENCAPSED_STRING","'errors'",444],"]",";",["T_WHITESPACE","\n    ",444],"}",["T_WHITESPACE","\n    ",445],["T_COMMENT","\/\/ Most warnings are messages that the date could not be parsed\n",446],["T_WHITESPACE","    ",447],["T_COMMENT","\/\/ which causes it to be altered. For validation purposes, a warning\n",447],["T_WHITESPACE","    ",448],["T_COMMENT","\/\/ as bad as an error, because it means the constructed date does\n",448],["T_WHITESPACE","    ",449],["T_COMMENT","\/\/ not match the input value.\n",449],["T_WHITESPACE","    ",450],["T_IF","if",450],["T_WHITESPACE"," ",450],"(","!",["T_EMPTY","empty",450],"(",["T_VARIABLE","$errors",450],"[",["T_CONSTANT_ENCAPSED_STRING","'warnings'",450],"]",")",")",["T_WHITESPACE"," ",450],"{",["T_WHITESPACE","\n      ",450],["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","errors",451],"[","]",["T_WHITESPACE"," ",451],"=",["T_WHITESPACE"," ",451],["T_CONSTANT_ENCAPSED_STRING","'The date is invalid.'",451],";",["T_WHITESPACE","\n    ",451],"}",["T_WHITESPACE","\n  ",452],"}",["T_WHITESPACE","\n\n  ",453],["T_DOC_COMMENT","\/**\n   * Detects if there were errors in the processing of this date.\n   *\n   * @return bool\n   *   TRUE if there were errors in the processing of this date, FALSE\n   *   otherwise.\n   *\/",455],["T_WHITESPACE","\n  ",461],["T_PUBLIC","public",462],["T_WHITESPACE"," ",462],["T_FUNCTION","function",462],["T_WHITESPACE"," ",462],["T_STRING","hasErrors",462],"(",")",["T_WHITESPACE"," ",462],"{",["T_WHITESPACE","\n    ",462],["T_RETURN","return",463],["T_WHITESPACE"," ",463],["T_BOOL_CAST","(boolean)",463],["T_WHITESPACE"," ",463],["T_STRING","count",463],"(",["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","errors",463],")",";",["T_WHITESPACE","\n  ",463],"}",["T_WHITESPACE","\n\n  ",464],["T_DOC_COMMENT","\/**\n   * Gets error messages.\n   *\n   * Public function to return the error messages.\n   *\n   * @return array\n   *   An array of errors encountered when creating this date.\n   *\/",466],["T_WHITESPACE","\n  ",473],["T_PUBLIC","public",474],["T_WHITESPACE"," ",474],["T_FUNCTION","function",474],["T_WHITESPACE"," ",474],["T_STRING","getErrors",474],"(",")",["T_WHITESPACE"," ",474],"{",["T_WHITESPACE","\n    ",474],["T_RETURN","return",475],["T_WHITESPACE"," ",475],["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","errors",475],";",["T_WHITESPACE","\n  ",475],"}",["T_WHITESPACE","\n\n  ",476],["T_DOC_COMMENT","\/**\n   * Creates an ISO date from an array of values.\n   *\n   * @param array $array\n   *   An array of date values keyed by date part.\n   * @param bool $force_valid_date\n   *   (optional) Whether to force a full date by filling in missing\n   *   values. Defaults to FALSE.\n   *\n   * @return string\n   *   The date as an ISO string.\n   *\/",478],["T_WHITESPACE","\n  ",489],["T_PUBLIC","public",490],["T_WHITESPACE"," ",490],["T_STATIC","static",490],["T_WHITESPACE"," ",490],["T_FUNCTION","function",490],["T_WHITESPACE"," ",490],["T_STRING","arrayToISO",490],"(",["T_VARIABLE","$array",490],",",["T_WHITESPACE"," ",490],["T_VARIABLE","$force_valid_date",490],["T_WHITESPACE"," ",490],"=",["T_WHITESPACE"," ",490],["T_STRING","FALSE",490],")",["T_WHITESPACE"," ",490],"{",["T_WHITESPACE","\n    ",490],["T_VARIABLE","$array",491],["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],["T_STATIC","static",491],["T_DOUBLE_COLON","::",491],["T_STRING","prepareArray",491],"(",["T_VARIABLE","$array",491],",",["T_WHITESPACE"," ",491],["T_VARIABLE","$force_valid_date",491],")",";",["T_WHITESPACE","\n    ",491],["T_VARIABLE","$input_time",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_CONSTANT_ENCAPSED_STRING","''",492],";",["T_WHITESPACE","\n    ",492],["T_IF","if",493],["T_WHITESPACE"," ",493],"(",["T_VARIABLE","$array",493],"[",["T_CONSTANT_ENCAPSED_STRING","'year'",493],"]",["T_WHITESPACE"," ",493],["T_IS_NOT_IDENTICAL","!==",493],["T_WHITESPACE"," ",493],["T_CONSTANT_ENCAPSED_STRING","''",493],")",["T_WHITESPACE"," ",493],"{",["T_WHITESPACE","\n      ",493],["T_VARIABLE","$input_time",494],["T_WHITESPACE"," ",494],"=",["T_WHITESPACE"," ",494],["T_STATIC","static",494],["T_DOUBLE_COLON","::",494],["T_STRING","datePad",494],"(",["T_STRING","intval",494],"(",["T_VARIABLE","$array",494],"[",["T_CONSTANT_ENCAPSED_STRING","'year'",494],"]",")",",",["T_WHITESPACE"," ",494],["T_LNUMBER","4",494],")",";",["T_WHITESPACE","\n      ",494],["T_IF","if",495],["T_WHITESPACE"," ",495],"(",["T_VARIABLE","$force_valid_date",495],["T_WHITESPACE"," ",495],["T_BOOLEAN_OR","||",495],["T_WHITESPACE"," ",495],["T_VARIABLE","$array",495],"[",["T_CONSTANT_ENCAPSED_STRING","'month'",495],"]",["T_WHITESPACE"," ",495],["T_IS_NOT_IDENTICAL","!==",495],["T_WHITESPACE"," ",495],["T_CONSTANT_ENCAPSED_STRING","''",495],")",["T_WHITESPACE"," ",495],"{",["T_WHITESPACE","\n        ",495],["T_VARIABLE","$input_time",496],["T_WHITESPACE"," ",496],["T_CONCAT_EQUAL",".=",496],["T_WHITESPACE"," ",496],["T_CONSTANT_ENCAPSED_STRING","'-'",496],["T_WHITESPACE"," ",496],".",["T_WHITESPACE"," ",496],["T_STATIC","static",496],["T_DOUBLE_COLON","::",496],["T_STRING","datePad",496],"(",["T_STRING","intval",496],"(",["T_VARIABLE","$array",496],"[",["T_CONSTANT_ENCAPSED_STRING","'month'",496],"]",")",")",";",["T_WHITESPACE","\n        ",496],["T_IF","if",497],["T_WHITESPACE"," ",497],"(",["T_VARIABLE","$force_valid_date",497],["T_WHITESPACE"," ",497],["T_BOOLEAN_OR","||",497],["T_WHITESPACE"," ",497],["T_VARIABLE","$array",497],"[",["T_CONSTANT_ENCAPSED_STRING","'day'",497],"]",["T_WHITESPACE"," ",497],["T_IS_NOT_IDENTICAL","!==",497],["T_WHITESPACE"," ",497],["T_CONSTANT_ENCAPSED_STRING","''",497],")",["T_WHITESPACE"," ",497],"{",["T_WHITESPACE","\n          ",497],["T_VARIABLE","$input_time",498],["T_WHITESPACE"," ",498],["T_CONCAT_EQUAL",".=",498],["T_WHITESPACE"," ",498],["T_CONSTANT_ENCAPSED_STRING","'-'",498],["T_WHITESPACE"," ",498],".",["T_WHITESPACE"," ",498],["T_STATIC","static",498],["T_DOUBLE_COLON","::",498],["T_STRING","datePad",498],"(",["T_STRING","intval",498],"(",["T_VARIABLE","$array",498],"[",["T_CONSTANT_ENCAPSED_STRING","'day'",498],"]",")",")",";",["T_WHITESPACE","\n        ",498],"}",["T_WHITESPACE","\n      ",499],"}",["T_WHITESPACE","\n    ",500],"}",["T_WHITESPACE","\n    ",501],["T_IF","if",502],["T_WHITESPACE"," ",502],"(",["T_VARIABLE","$array",502],"[",["T_CONSTANT_ENCAPSED_STRING","'hour'",502],"]",["T_WHITESPACE"," ",502],["T_IS_NOT_IDENTICAL","!==",502],["T_WHITESPACE"," ",502],["T_CONSTANT_ENCAPSED_STRING","''",502],")",["T_WHITESPACE"," ",502],"{",["T_WHITESPACE","\n      ",502],["T_VARIABLE","$input_time",503],["T_WHITESPACE"," ",503],["T_CONCAT_EQUAL",".=",503],["T_WHITESPACE"," ",503],["T_VARIABLE","$input_time",503],["T_WHITESPACE"," ",503],"?",["T_WHITESPACE"," ",503],["T_CONSTANT_ENCAPSED_STRING","'T'",503],["T_WHITESPACE"," ",503],":",["T_WHITESPACE"," ",503],["T_CONSTANT_ENCAPSED_STRING","''",503],";",["T_WHITESPACE","\n      ",503],["T_VARIABLE","$input_time",504],["T_WHITESPACE"," ",504],["T_CONCAT_EQUAL",".=",504],["T_WHITESPACE"," ",504],["T_STATIC","static",504],["T_DOUBLE_COLON","::",504],["T_STRING","datePad",504],"(",["T_STRING","intval",504],"(",["T_VARIABLE","$array",504],"[",["T_CONSTANT_ENCAPSED_STRING","'hour'",504],"]",")",")",";",["T_WHITESPACE","\n      ",504],["T_IF","if",505],["T_WHITESPACE"," ",505],"(",["T_VARIABLE","$force_valid_date",505],["T_WHITESPACE"," ",505],["T_BOOLEAN_OR","||",505],["T_WHITESPACE"," ",505],["T_VARIABLE","$array",505],"[",["T_CONSTANT_ENCAPSED_STRING","'minute'",505],"]",["T_WHITESPACE"," ",505],["T_IS_NOT_IDENTICAL","!==",505],["T_WHITESPACE"," ",505],["T_CONSTANT_ENCAPSED_STRING","''",505],")",["T_WHITESPACE"," ",505],"{",["T_WHITESPACE","\n        ",505],["T_VARIABLE","$input_time",506],["T_WHITESPACE"," ",506],["T_CONCAT_EQUAL",".=",506],["T_WHITESPACE"," ",506],["T_CONSTANT_ENCAPSED_STRING","':'",506],["T_WHITESPACE"," ",506],".",["T_WHITESPACE"," ",506],["T_STATIC","static",506],["T_DOUBLE_COLON","::",506],["T_STRING","datePad",506],"(",["T_STRING","intval",506],"(",["T_VARIABLE","$array",506],"[",["T_CONSTANT_ENCAPSED_STRING","'minute'",506],"]",")",")",";",["T_WHITESPACE","\n        ",506],["T_IF","if",507],["T_WHITESPACE"," ",507],"(",["T_VARIABLE","$force_valid_date",507],["T_WHITESPACE"," ",507],["T_BOOLEAN_OR","||",507],["T_WHITESPACE"," ",507],["T_VARIABLE","$array",507],"[",["T_CONSTANT_ENCAPSED_STRING","'second'",507],"]",["T_WHITESPACE"," ",507],["T_IS_NOT_IDENTICAL","!==",507],["T_WHITESPACE"," ",507],["T_CONSTANT_ENCAPSED_STRING","''",507],")",["T_WHITESPACE"," ",507],"{",["T_WHITESPACE","\n          ",507],["T_VARIABLE","$input_time",508],["T_WHITESPACE"," ",508],["T_CONCAT_EQUAL",".=",508],["T_WHITESPACE"," ",508],["T_CONSTANT_ENCAPSED_STRING","':'",508],["T_WHITESPACE"," ",508],".",["T_WHITESPACE"," ",508],["T_STATIC","static",508],["T_DOUBLE_COLON","::",508],["T_STRING","datePad",508],"(",["T_STRING","intval",508],"(",["T_VARIABLE","$array",508],"[",["T_CONSTANT_ENCAPSED_STRING","'second'",508],"]",")",")",";",["T_WHITESPACE","\n        ",508],"}",["T_WHITESPACE","\n      ",509],"}",["T_WHITESPACE","\n    ",510],"}",["T_WHITESPACE","\n    ",511],["T_RETURN","return",512],["T_WHITESPACE"," ",512],["T_VARIABLE","$input_time",512],";",["T_WHITESPACE","\n  ",512],"}",["T_WHITESPACE","\n\n  ",513],["T_DOC_COMMENT","\/**\n   * Creates a complete array from a possibly incomplete array of date parts.\n   *\n   * @param array $array\n   *   An array of date values keyed by date part.\n   * @param bool $force_valid_date\n   *   (optional) Whether to force a valid date by filling in missing\n   *   values with valid values or just to use empty values instead.\n   *   Defaults to FALSE.\n   *\n   * @return array\n   *   A complete array of date parts.\n   *\/",515],["T_WHITESPACE","\n  ",527],["T_PUBLIC","public",528],["T_WHITESPACE"," ",528],["T_STATIC","static",528],["T_WHITESPACE"," ",528],["T_FUNCTION","function",528],["T_WHITESPACE"," ",528],["T_STRING","prepareArray",528],"(",["T_VARIABLE","$array",528],",",["T_WHITESPACE"," ",528],["T_VARIABLE","$force_valid_date",528],["T_WHITESPACE"," ",528],"=",["T_WHITESPACE"," ",528],["T_STRING","FALSE",528],")",["T_WHITESPACE"," ",528],"{",["T_WHITESPACE","\n    ",528],["T_IF","if",529],["T_WHITESPACE"," ",529],"(",["T_VARIABLE","$force_valid_date",529],")",["T_WHITESPACE"," ",529],"{",["T_WHITESPACE","\n      ",529],["T_VARIABLE","$now",530],["T_WHITESPACE"," ",530],"=",["T_WHITESPACE"," ",530],["T_NEW","new",530],["T_WHITESPACE"," ",530],["T_NS_SEPARATOR","\\",530],["T_STRING","DateTime",530],"(",")",";",["T_WHITESPACE","\n      ",530],["T_VARIABLE","$array",531],["T_WHITESPACE"," ",531],["T_PLUS_EQUAL","+=",531],["T_WHITESPACE"," ",531],["T_ARRAY","array",531],"(",["T_WHITESPACE","\n        ",531],["T_CONSTANT_ENCAPSED_STRING","'year'",532],["T_WHITESPACE","   ",532],["T_DOUBLE_ARROW","=>",532],["T_WHITESPACE"," ",532],["T_VARIABLE","$now",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","format",532],"(",["T_CONSTANT_ENCAPSED_STRING","'Y'",532],")",",",["T_WHITESPACE","\n        ",532],["T_CONSTANT_ENCAPSED_STRING","'month'",533],["T_WHITESPACE","  ",533],["T_DOUBLE_ARROW","=>",533],["T_WHITESPACE"," ",533],["T_LNUMBER","1",533],",",["T_WHITESPACE","\n        ",533],["T_CONSTANT_ENCAPSED_STRING","'day'",534],["T_WHITESPACE","    ",534],["T_DOUBLE_ARROW","=>",534],["T_WHITESPACE"," ",534],["T_LNUMBER","1",534],",",["T_WHITESPACE","\n        ",534],["T_CONSTANT_ENCAPSED_STRING","'hour'",535],["T_WHITESPACE","   ",535],["T_DOUBLE_ARROW","=>",535],["T_WHITESPACE"," ",535],["T_LNUMBER","0",535],",",["T_WHITESPACE","\n        ",535],["T_CONSTANT_ENCAPSED_STRING","'minute'",536],["T_WHITESPACE"," ",536],["T_DOUBLE_ARROW","=>",536],["T_WHITESPACE"," ",536],["T_LNUMBER","0",536],",",["T_WHITESPACE","\n        ",536],["T_CONSTANT_ENCAPSED_STRING","'second'",537],["T_WHITESPACE"," ",537],["T_DOUBLE_ARROW","=>",537],["T_WHITESPACE"," ",537],["T_LNUMBER","0",537],",",["T_WHITESPACE","\n      ",537],")",";",["T_WHITESPACE","\n    ",538],"}",["T_WHITESPACE","\n    ",539],["T_ELSE","else",540],["T_WHITESPACE"," ",540],"{",["T_WHITESPACE","\n      ",540],["T_VARIABLE","$array",541],["T_WHITESPACE"," ",541],["T_PLUS_EQUAL","+=",541],["T_WHITESPACE"," ",541],["T_ARRAY","array",541],"(",["T_WHITESPACE","\n        ",541],["T_CONSTANT_ENCAPSED_STRING","'year'",542],["T_WHITESPACE","   ",542],["T_DOUBLE_ARROW","=>",542],["T_WHITESPACE"," ",542],["T_CONSTANT_ENCAPSED_STRING","''",542],",",["T_WHITESPACE","\n        ",542],["T_CONSTANT_ENCAPSED_STRING","'month'",543],["T_WHITESPACE","  ",543],["T_DOUBLE_ARROW","=>",543],["T_WHITESPACE"," ",543],["T_CONSTANT_ENCAPSED_STRING","''",543],",",["T_WHITESPACE","\n        ",543],["T_CONSTANT_ENCAPSED_STRING","'day'",544],["T_WHITESPACE","    ",544],["T_DOUBLE_ARROW","=>",544],["T_WHITESPACE"," ",544],["T_CONSTANT_ENCAPSED_STRING","''",544],",",["T_WHITESPACE","\n        ",544],["T_CONSTANT_ENCAPSED_STRING","'hour'",545],["T_WHITESPACE","   ",545],["T_DOUBLE_ARROW","=>",545],["T_WHITESPACE"," ",545],["T_CONSTANT_ENCAPSED_STRING","''",545],",",["T_WHITESPACE","\n        ",545],["T_CONSTANT_ENCAPSED_STRING","'minute'",546],["T_WHITESPACE"," ",546],["T_DOUBLE_ARROW","=>",546],["T_WHITESPACE"," ",546],["T_CONSTANT_ENCAPSED_STRING","''",546],",",["T_WHITESPACE","\n        ",546],["T_CONSTANT_ENCAPSED_STRING","'second'",547],["T_WHITESPACE"," ",547],["T_DOUBLE_ARROW","=>",547],["T_WHITESPACE"," ",547],["T_CONSTANT_ENCAPSED_STRING","''",547],",",["T_WHITESPACE","\n      ",547],")",";",["T_WHITESPACE","\n    ",548],"}",["T_WHITESPACE","\n    ",549],["T_RETURN","return",550],["T_WHITESPACE"," ",550],["T_VARIABLE","$array",550],";",["T_WHITESPACE","\n  ",550],"}",["T_WHITESPACE","\n\n  ",551],["T_DOC_COMMENT","\/**\n   * Checks that arrays of date parts will create a valid date.\n   *\n   * Checks that an array of date parts has a year, month, and day,\n   * and that those values create a valid date. If time is provided,\n   * verifies that the time values are valid. Sort of an\n   * equivalent to checkdate().\n   *\n   * @param array $array\n   *   An array of datetime values keyed by date part.\n   *\n   * @return bool\n   *   TRUE if the datetime parts contain valid values, otherwise FALSE.\n   *\/",553],["T_WHITESPACE","\n  ",566],["T_PUBLIC","public",567],["T_WHITESPACE"," ",567],["T_STATIC","static",567],["T_WHITESPACE"," ",567],["T_FUNCTION","function",567],["T_WHITESPACE"," ",567],["T_STRING","checkArray",567],"(",["T_VARIABLE","$array",567],")",["T_WHITESPACE"," ",567],"{",["T_WHITESPACE","\n    ",567],["T_VARIABLE","$valid_date",568],["T_WHITESPACE"," ",568],"=",["T_WHITESPACE"," ",568],["T_STRING","FALSE",568],";",["T_WHITESPACE","\n    ",568],["T_VARIABLE","$valid_time",569],["T_WHITESPACE"," ",569],"=",["T_WHITESPACE"," ",569],["T_STRING","TRUE",569],";",["T_WHITESPACE","\n    ",569],["T_COMMENT","\/\/ Check for a valid date using checkdate(). Only values that\n",570],["T_WHITESPACE","    ",571],["T_COMMENT","\/\/ meet that test are valid.\n",571],["T_WHITESPACE","    ",572],["T_IF","if",572],["T_WHITESPACE"," ",572],"(",["T_STRING","array_key_exists",572],"(",["T_CONSTANT_ENCAPSED_STRING","'year'",572],",",["T_WHITESPACE"," ",572],["T_VARIABLE","$array",572],")",["T_WHITESPACE"," ",572],["T_BOOLEAN_AND","&&",572],["T_WHITESPACE"," ",572],["T_STRING","array_key_exists",572],"(",["T_CONSTANT_ENCAPSED_STRING","'month'",572],",",["T_WHITESPACE"," ",572],["T_VARIABLE","$array",572],")",["T_WHITESPACE"," ",572],["T_BOOLEAN_AND","&&",572],["T_WHITESPACE"," ",572],["T_STRING","array_key_exists",572],"(",["T_CONSTANT_ENCAPSED_STRING","'day'",572],",",["T_WHITESPACE"," ",572],["T_VARIABLE","$array",572],")",")",["T_WHITESPACE"," ",572],"{",["T_WHITESPACE","\n      ",572],["T_IF","if",573],["T_WHITESPACE"," ",573],"(","@",["T_STRING","checkdate",573],"(",["T_VARIABLE","$array",573],"[",["T_CONSTANT_ENCAPSED_STRING","'month'",573],"]",",",["T_WHITESPACE"," ",573],["T_VARIABLE","$array",573],"[",["T_CONSTANT_ENCAPSED_STRING","'day'",573],"]",",",["T_WHITESPACE"," ",573],["T_VARIABLE","$array",573],"[",["T_CONSTANT_ENCAPSED_STRING","'year'",573],"]",")",")",["T_WHITESPACE"," ",573],"{",["T_WHITESPACE","\n        ",573],["T_VARIABLE","$valid_date",574],["T_WHITESPACE"," ",574],"=",["T_WHITESPACE"," ",574],["T_STRING","TRUE",574],";",["T_WHITESPACE","\n      ",574],"}",["T_WHITESPACE","\n    ",575],"}",["T_WHITESPACE","\n    ",576],["T_COMMENT","\/\/ Testing for valid time is reversed. Missing time is OK,\n",577],["T_WHITESPACE","    ",578],["T_COMMENT","\/\/ but incorrect values are not.\n",578],["T_WHITESPACE","    ",579],["T_FOREACH","foreach",579],["T_WHITESPACE"," ",579],"(",["T_ARRAY","array",579],"(",["T_CONSTANT_ENCAPSED_STRING","'hour'",579],",",["T_WHITESPACE"," ",579],["T_CONSTANT_ENCAPSED_STRING","'minute'",579],",",["T_WHITESPACE"," ",579],["T_CONSTANT_ENCAPSED_STRING","'second'",579],")",["T_WHITESPACE"," ",579],["T_AS","as",579],["T_WHITESPACE"," ",579],["T_VARIABLE","$key",579],")",["T_WHITESPACE"," ",579],"{",["T_WHITESPACE","\n      ",579],["T_IF","if",580],["T_WHITESPACE"," ",580],"(",["T_STRING","array_key_exists",580],"(",["T_VARIABLE","$key",580],",",["T_WHITESPACE"," ",580],["T_VARIABLE","$array",580],")",")",["T_WHITESPACE"," ",580],"{",["T_WHITESPACE","\n        ",580],["T_VARIABLE","$value",581],["T_WHITESPACE"," ",581],"=",["T_WHITESPACE"," ",581],["T_VARIABLE","$array",581],"[",["T_VARIABLE","$key",581],"]",";",["T_WHITESPACE","\n        ",581],["T_SWITCH","switch",582],["T_WHITESPACE"," ",582],"(",["T_VARIABLE","$key",582],")",["T_WHITESPACE"," ",582],"{",["T_WHITESPACE","\n          ",582],["T_CASE","case",583],["T_WHITESPACE"," ",583],["T_CONSTANT_ENCAPSED_STRING","'hour'",583],":",["T_WHITESPACE","\n            ",583],["T_IF","if",584],["T_WHITESPACE"," ",584],"(","!",["T_STRING","preg_match",584],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^([1-2][0-3]|[01]?[0-9])$\/'",584],",",["T_WHITESPACE"," ",584],["T_VARIABLE","$value",584],")",")",["T_WHITESPACE"," ",584],"{",["T_WHITESPACE","\n              ",584],["T_VARIABLE","$valid_time",585],["T_WHITESPACE"," ",585],"=",["T_WHITESPACE"," ",585],["T_STRING","FALSE",585],";",["T_WHITESPACE","\n            ",585],"}",["T_WHITESPACE","\n            ",586],["T_BREAK","break",587],";",["T_WHITESPACE","\n          ",587],["T_CASE","case",588],["T_WHITESPACE"," ",588],["T_CONSTANT_ENCAPSED_STRING","'minute'",588],":",["T_WHITESPACE","\n          ",588],["T_CASE","case",589],["T_WHITESPACE"," ",589],["T_CONSTANT_ENCAPSED_STRING","'second'",589],":",["T_WHITESPACE","\n          ",589],["T_DEFAULT","default",590],":",["T_WHITESPACE","\n            ",590],["T_IF","if",591],["T_WHITESPACE"," ",591],"(","!",["T_STRING","preg_match",591],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^([0-5][0-9]|[0-9])$\/'",591],",",["T_WHITESPACE"," ",591],["T_VARIABLE","$value",591],")",")",["T_WHITESPACE"," ",591],"{",["T_WHITESPACE","\n              ",591],["T_VARIABLE","$valid_time",592],["T_WHITESPACE"," ",592],"=",["T_WHITESPACE"," ",592],["T_STRING","FALSE",592],";",["T_WHITESPACE","\n            ",592],"}",["T_WHITESPACE","\n            ",593],["T_BREAK","break",594],";",["T_WHITESPACE","\n        ",594],"}",["T_WHITESPACE","\n      ",595],"}",["T_WHITESPACE","\n    ",596],"}",["T_WHITESPACE","\n    ",597],["T_RETURN","return",598],["T_WHITESPACE"," ",598],["T_VARIABLE","$valid_date",598],["T_WHITESPACE"," ",598],["T_BOOLEAN_AND","&&",598],["T_WHITESPACE"," ",598],["T_VARIABLE","$valid_time",598],";",["T_WHITESPACE","\n  ",598],"}",["T_WHITESPACE","\n\n  ",599],["T_DOC_COMMENT","\/**\n   * Pads date parts with zeros.\n   *\n   * Helper function for a task that is often required when working with dates.\n   *\n   * @param int $value\n   *   The value to pad.\n   * @param int $size\n   *   (optional) Size expected, usually 2 or 4. Defaults to 2.\n   *\n   * @return string\n   *   The padded value.\n   *\/",601],["T_WHITESPACE","\n  ",613],["T_PUBLIC","public",614],["T_WHITESPACE"," ",614],["T_STATIC","static",614],["T_WHITESPACE"," ",614],["T_FUNCTION","function",614],["T_WHITESPACE"," ",614],["T_STRING","datePad",614],"(",["T_VARIABLE","$value",614],",",["T_WHITESPACE"," ",614],["T_VARIABLE","$size",614],["T_WHITESPACE"," ",614],"=",["T_WHITESPACE"," ",614],["T_LNUMBER","2",614],")",["T_WHITESPACE"," ",614],"{",["T_WHITESPACE","\n    ",614],["T_RETURN","return",615],["T_WHITESPACE"," ",615],["T_STRING","sprintf",615],"(",["T_CONSTANT_ENCAPSED_STRING","\"%0\"",615],["T_WHITESPACE"," ",615],".",["T_WHITESPACE"," ",615],["T_VARIABLE","$size",615],["T_WHITESPACE"," ",615],".",["T_WHITESPACE"," ",615],["T_CONSTANT_ENCAPSED_STRING","\"d\"",615],",",["T_WHITESPACE"," ",615],["T_VARIABLE","$value",615],")",";",["T_WHITESPACE","\n  ",615],"}",["T_WHITESPACE","\n\n  ",616],["T_DOC_COMMENT","\/**\n   * Formats the date for display.\n   *\n   * @param string $format\n   *   A format string using either PHP's date().\n   * @param array $settings\n   *   - timezone: (optional) String timezone name. Defaults to the timezone\n   *     of the date object.\n   *\n   * @return string\n   *   The formatted value of the date.\n   *\/",618],["T_WHITESPACE","\n  ",629],["T_PUBLIC","public",630],["T_WHITESPACE"," ",630],["T_FUNCTION","function",630],["T_WHITESPACE"," ",630],["T_STRING","format",630],"(",["T_VARIABLE","$format",630],",",["T_WHITESPACE"," ",630],["T_VARIABLE","$settings",630],["T_WHITESPACE"," ",630],"=",["T_WHITESPACE"," ",630],["T_ARRAY","array",630],"(",")",")",["T_WHITESPACE"," ",630],"{",["T_WHITESPACE","\n\n    ",630],["T_COMMENT","\/\/ If there were construction errors, we can't format the date.\n",632],["T_WHITESPACE","    ",633],["T_IF","if",633],["T_WHITESPACE"," ",633],"(",["T_VARIABLE","$this",633],["T_OBJECT_OPERATOR","->",633],["T_STRING","hasErrors",633],"(",")",")",["T_WHITESPACE"," ",633],"{",["T_WHITESPACE","\n      ",633],["T_RETURN","return",634],";",["T_WHITESPACE","\n    ",634],"}",["T_WHITESPACE","\n\n    ",635],["T_COMMENT","\/\/ Format the date and catch errors.\n",637],["T_WHITESPACE","    ",638],["T_TRY","try",638],["T_WHITESPACE"," ",638],"{",["T_WHITESPACE","\n      ",638],["T_COMMENT","\/\/ Clone the date\/time object so we can change the time zone without\n",639],["T_WHITESPACE","      ",640],["T_COMMENT","\/\/ disturbing the value stored in the object.\n",640],["T_WHITESPACE","      ",641],["T_VARIABLE","$dateTimeObject",641],["T_WHITESPACE"," ",641],"=",["T_WHITESPACE"," ",641],["T_CLONE","clone",641],["T_WHITESPACE"," ",641],["T_VARIABLE","$this",641],["T_OBJECT_OPERATOR","->",641],["T_STRING","dateTimeObject",641],";",["T_WHITESPACE","\n      ",641],["T_IF","if",642],["T_WHITESPACE"," ",642],"(",["T_ISSET","isset",642],"(",["T_VARIABLE","$settings",642],"[",["T_CONSTANT_ENCAPSED_STRING","'timezone'",642],"]",")",")",["T_WHITESPACE"," ",642],"{",["T_WHITESPACE","\n        ",642],["T_VARIABLE","$dateTimeObject",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","setTimezone",643],"(",["T_NEW","new",643],["T_WHITESPACE"," ",643],["T_NS_SEPARATOR","\\",643],["T_STRING","DateTimeZone",643],"(",["T_VARIABLE","$settings",643],"[",["T_CONSTANT_ENCAPSED_STRING","'timezone'",643],"]",")",")",";",["T_WHITESPACE","\n      ",643],"}",["T_WHITESPACE","\n      ",644],["T_VARIABLE","$value",645],["T_WHITESPACE"," ",645],"=",["T_WHITESPACE"," ",645],["T_VARIABLE","$dateTimeObject",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","format",645],"(",["T_VARIABLE","$format",645],")",";",["T_WHITESPACE","\n    ",645],"}",["T_WHITESPACE","\n    ",646],["T_CATCH","catch",647],["T_WHITESPACE"," ",647],"(",["T_NS_SEPARATOR","\\",647],["T_STRING","Exception",647],["T_WHITESPACE"," ",647],["T_VARIABLE","$e",647],")",["T_WHITESPACE"," ",647],"{",["T_WHITESPACE","\n      ",647],["T_VARIABLE","$this",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","errors",648],"[","]",["T_WHITESPACE"," ",648],"=",["T_WHITESPACE"," ",648],["T_VARIABLE","$e",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","getMessage",648],"(",")",";",["T_WHITESPACE","\n    ",648],"}",["T_WHITESPACE","\n\n    ",649],["T_RETURN","return",651],["T_WHITESPACE"," ",651],["T_VARIABLE","$value",651],";",["T_WHITESPACE","\n  ",651],"}",["T_WHITESPACE","\n\n",652],"}",["T_WHITESPACE","\n",654]]