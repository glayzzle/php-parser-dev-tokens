[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","StringTranslation",5],["T_NS_SEPARATOR","\\",5],["T_STRING","StringTranslationTrait",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Provides a trait for the CategorizingPluginManagerInterface.\n *\n * The trait provides methods for categorizing plugin definitions based on a\n * 'category' key. The plugin manager should make sure there is a default\n * category. For that the trait's processDefinitionCategory() method can be\n * invoked from the processDefinition() method.\n *\n * @see \\Drupal\\Component\\Plugin\\CategorizingPluginManagerInterface\n *\/",7],["T_WHITESPACE","\n",16],["T_TRAIT","trait",17],["T_WHITESPACE"," ",17],["T_STRING","CategorizingPluginManagerTrait",17],["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n\n  ",17],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","StringTranslationTrait",19],";",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * Processes a plugin definition to ensure there is a category.\n   *\n   * If the definition lacks a category, it defaults to the providing module.\n   *\n   * @param array $definition\n   *   The plugin definition.\n   *\/",21],["T_WHITESPACE","\n  ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","processDefinitionCategory",29],"(","&",["T_VARIABLE","$definition",29],")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n    ",29],["T_COMMENT","\/\/ Ensure that every plugin has a category.\n",30],["T_WHITESPACE","    ",31],["T_IF","if",31],["T_WHITESPACE"," ",31],"(",["T_EMPTY","empty",31],"(",["T_VARIABLE","$definition",31],"[",["T_CONSTANT_ENCAPSED_STRING","'category'",31],"]",")",")",["T_WHITESPACE"," ",31],"{",["T_WHITESPACE","\n      ",31],["T_COMMENT","\/\/ Default to the human readable module name if the provider is a module;\n",32],["T_WHITESPACE","      ",33],["T_COMMENT","\/\/ otherwise the provider machine name is used.\n",33],["T_WHITESPACE","      ",34],["T_VARIABLE","$definition",34],"[",["T_CONSTANT_ENCAPSED_STRING","'category'",34],"]",["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","getProviderName",34],"(",["T_VARIABLE","$definition",34],"[",["T_CONSTANT_ENCAPSED_STRING","'provider'",34],"]",")",";",["T_WHITESPACE","\n    ",34],"}",["T_WHITESPACE","\n  ",35],"}",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * Gets the name of a provider.\n   *\n   * @param string $provider\n   *   The machine name of a plugin provider.\n   *\n   * @return string\n   *   The human-readable module name if it exists, otherwise the\n   *   machine-readable name passed.\n   *\/",38],["T_WHITESPACE","\n  ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","getProviderName",48],"(",["T_VARIABLE","$provider",48],")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$list",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getModuleHandler",49],"(",")",["T_OBJECT_OPERATOR","->",49],["T_STRING","getModuleList",49],"(",")",";",["T_WHITESPACE","\n    ",49],["T_COMMENT","\/\/ If the module exists, return its human-readable name.\n",50],["T_WHITESPACE","    ",51],["T_IF","if",51],["T_WHITESPACE"," ",51],"(",["T_ISSET","isset",51],"(",["T_VARIABLE","$list",51],"[",["T_VARIABLE","$provider",51],"]",")",")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n      ",51],["T_RETURN","return",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getModuleHandler",52],"(",")",["T_OBJECT_OPERATOR","->",52],["T_STRING","getName",52],"(",["T_VARIABLE","$provider",52],")",";",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n    ",53],["T_COMMENT","\/\/ Otherwise, return the machine name.\n",54],["T_WHITESPACE","    ",55],["T_RETURN","return",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$provider",55],";",["T_WHITESPACE","\n  ",55],"}",["T_WHITESPACE","\n\n  ",56],["T_DOC_COMMENT","\/**\n   * Returns the module handler used.\n   *\n   * @return \\Drupal\\Core\\Extension\\ModuleHandlerInterface\n   *   The module handler.\n   *\/",58],["T_WHITESPACE","\n  ",63],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","getModuleHandler",64],"(",")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n    ",64],["T_COMMENT","\/\/ If the class has an injected module handler, use it. Otherwise fall back\n",65],["T_WHITESPACE","    ",66],["T_COMMENT","\/\/ to fetch it from the service container.\n",66],["T_WHITESPACE","    ",67],["T_IF","if",67],["T_WHITESPACE"," ",67],"(",["T_ISSET","isset",67],"(",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","moduleHandler",67],")",")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n      ",67],["T_RETURN","return",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","moduleHandler",68],";",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n    ",69],["T_RETURN","return",70],["T_WHITESPACE"," ",70],["T_NS_SEPARATOR","\\",70],["T_STRING","Drupal",70],["T_DOUBLE_COLON","::",70],["T_STRING","moduleHandler",70],"(",")",";",["T_WHITESPACE","\n  ",70],"}",["T_WHITESPACE","\n\n  ",71],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",73],["T_WHITESPACE","\n  ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","getCategories",76],"(",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n    ",76],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Plugin\\CategorizingPluginManagerTrait|\\Drupal\\Component\\Plugin\\PluginManagerInterface $this *\/",77],["T_WHITESPACE","\n    ",77],["T_COMMENT","\/\/ Fetch all categories from definitions and remove duplicates.\n",78],["T_WHITESPACE","    ",79],["T_VARIABLE","$categories",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_STRING","array_unique",79],"(",["T_STRING","array_values",79],"(",["T_STRING","array_map",79],"(",["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$definition",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n      ",79],["T_RETURN","return",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$definition",80],"[",["T_CONSTANT_ENCAPSED_STRING","'category'",80],"]",";",["T_WHITESPACE","\n    ",80],"}",",",["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getDefinitions",81],"(",")",")",")",")",";",["T_WHITESPACE","\n    ",81],["T_STRING","natcasesort",82],"(",["T_VARIABLE","$categories",82],")",";",["T_WHITESPACE","\n    ",82],["T_RETURN","return",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$categories",83],";",["T_WHITESPACE","\n  ",83],"}",["T_WHITESPACE","\n\n  ",84],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",86],["T_WHITESPACE","\n  ",88],["T_PUBLIC","public",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","getSortedDefinitions",89],"(",["T_ARRAY","array",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$definitions",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_STRING","NULL",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$label_key",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'label'",89],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n    ",89],["T_COMMENT","\/\/ Sort the plugins first by category, then by label.\n",90],["T_WHITESPACE","    ",91],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Plugin\\CategorizingPluginManagerTrait|\\Drupal\\Component\\Plugin\\PluginManagerInterface $this *\/",91],["T_WHITESPACE","\n    ",91],["T_VARIABLE","$definitions",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_ISSET","isset",92],"(",["T_VARIABLE","$definitions",92],")",["T_WHITESPACE"," ",92],"?",["T_WHITESPACE"," ",92],["T_VARIABLE","$definitions",92],["T_WHITESPACE"," ",92],":",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getDefinitions",92],"(",")",";",["T_WHITESPACE","\n    ",92],["T_STRING","uasort",93],"(",["T_VARIABLE","$definitions",93],",",["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],"(",["T_VARIABLE","$a",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$b",93],")",["T_WHITESPACE"," ",93],["T_USE","use",93],["T_WHITESPACE"," ",93],"(",["T_VARIABLE","$label_key",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n      ",93],["T_IF","if",94],["T_WHITESPACE"," ",94],"(",["T_VARIABLE","$a",94],"[",["T_CONSTANT_ENCAPSED_STRING","'category'",94],"]",["T_WHITESPACE"," ",94],["T_IS_NOT_EQUAL","!=",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$b",94],"[",["T_CONSTANT_ENCAPSED_STRING","'category'",94],"]",")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n        ",94],["T_RETURN","return",95],["T_WHITESPACE"," ",95],["T_STRING","strnatcasecmp",95],"(",["T_VARIABLE","$a",95],"[",["T_CONSTANT_ENCAPSED_STRING","'category'",95],"]",",",["T_WHITESPACE"," ",95],["T_VARIABLE","$b",95],"[",["T_CONSTANT_ENCAPSED_STRING","'category'",95],"]",")",";",["T_WHITESPACE","\n      ",95],"}",["T_WHITESPACE","\n      ",96],["T_RETURN","return",97],["T_WHITESPACE"," ",97],["T_STRING","strnatcasecmp",97],"(",["T_VARIABLE","$a",97],"[",["T_VARIABLE","$label_key",97],"]",",",["T_WHITESPACE"," ",97],["T_VARIABLE","$b",97],"[",["T_VARIABLE","$label_key",97],"]",")",";",["T_WHITESPACE","\n    ",97],"}",")",";",["T_WHITESPACE","\n    ",98],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$definitions",99],";",["T_WHITESPACE","\n  ",99],"}",["T_WHITESPACE","\n\n  ",100],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",102],["T_WHITESPACE","\n  ",104],["T_PUBLIC","public",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","getGroupedDefinitions",105],"(",["T_ARRAY","array",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$definitions",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","NULL",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$label_key",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'label'",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n    ",105],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Plugin\\CategorizingPluginManagerTrait|\\Drupal\\Component\\Plugin\\PluginManagerInterface $this *\/",106],["T_WHITESPACE","\n    ",106],["T_VARIABLE","$definitions",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getSortedDefinitions",107],"(",["T_ISSET","isset",107],"(",["T_VARIABLE","$definitions",107],")",["T_WHITESPACE"," ",107],"?",["T_WHITESPACE"," ",107],["T_VARIABLE","$definitions",107],["T_WHITESPACE"," ",107],":",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getDefinitions",107],"(",")",",",["T_WHITESPACE"," ",107],["T_VARIABLE","$label_key",107],")",";",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$grouped_definitions",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_ARRAY","array",108],"(",")",";",["T_WHITESPACE","\n    ",108],["T_FOREACH","foreach",109],["T_WHITESPACE"," ",109],"(",["T_VARIABLE","$definitions",109],["T_WHITESPACE"," ",109],["T_AS","as",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$id",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$definition",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n      ",109],["T_VARIABLE","$grouped_definitions",110],"[",["T_STRING_CAST","(string)",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$definition",110],"[",["T_CONSTANT_ENCAPSED_STRING","'category'",110],"]","]","[",["T_VARIABLE","$id",110],"]",["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$definition",110],";",["T_WHITESPACE","\n    ",110],"}",["T_WHITESPACE","\n    ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$grouped_definitions",112],";",["T_WHITESPACE","\n  ",112],"}",["T_WHITESPACE","\n\n",113],"}",["T_WHITESPACE","\n",115]]