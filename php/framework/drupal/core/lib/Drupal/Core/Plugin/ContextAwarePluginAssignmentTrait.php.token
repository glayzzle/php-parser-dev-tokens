[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Handles context assignments for context-aware plugins.\n *\/",5],["T_WHITESPACE","\n",7],["T_TRAIT","trait",8],["T_WHITESPACE"," ",8],["T_STRING","ContextAwarePluginAssignmentTrait",8],["T_WHITESPACE"," ",8],"{",["T_WHITESPACE","\n\n  ",8],["T_DOC_COMMENT","\/**\n   * Ensures the t() method is available.\n   *\n   * @see \\Drupal\\Core\\StringTranslation\\StringTranslationTrait\n   *\/",10],["T_WHITESPACE","\n  ",14],["T_ABSTRACT","abstract",15],["T_WHITESPACE"," ",15],["T_PROTECTED","protected",15],["T_WHITESPACE"," ",15],["T_FUNCTION","function",15],["T_WHITESPACE"," ",15],["T_STRING","t",15],"(",["T_VARIABLE","$string",15],",",["T_WHITESPACE"," ",15],["T_ARRAY","array",15],["T_WHITESPACE"," ",15],["T_VARIABLE","$args",15],["T_WHITESPACE"," ",15],"=",["T_WHITESPACE"," ",15],["T_ARRAY","array",15],"(",")",",",["T_WHITESPACE"," ",15],["T_ARRAY","array",15],["T_WHITESPACE"," ",15],["T_VARIABLE","$options",15],["T_WHITESPACE"," ",15],"=",["T_WHITESPACE"," ",15],["T_ARRAY","array",15],"(",")",")",";",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * Wraps the context handler.\n   *\n   * @return \\Drupal\\Core\\Plugin\\Context\\ContextHandlerInterface\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_FUNCTION","function",22],["T_WHITESPACE"," ",22],["T_STRING","contextHandler",22],"(",")",["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n    ",22],["T_RETURN","return",23],["T_WHITESPACE"," ",23],["T_NS_SEPARATOR","\\",23],["T_STRING","Drupal",23],["T_DOUBLE_COLON","::",23],["T_STRING","service",23],"(",["T_CONSTANT_ENCAPSED_STRING","'context.handler'",23],")",";",["T_WHITESPACE","\n  ",23],"}",["T_WHITESPACE","\n\n  ",24],["T_DOC_COMMENT","\/**\n   * Builds a form element for assigning a context to a given slot.\n   *\n   * @param \\Drupal\\Core\\Plugin\\ContextAwarePluginInterface $plugin\n   *   The context-aware plugin.\n   * @param \\Drupal\\Component\\Plugin\\Context\\ContextInterface[] $contexts\n   *   An array of contexts.\n   *\n   * @return array\n   *   A form element for assigning context.\n   *\/",26],["T_WHITESPACE","\n  ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","addContextAssignmentElement",37],"(",["T_STRING","ContextAwarePluginInterface",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$plugin",37],",",["T_WHITESPACE"," ",37],["T_ARRAY","array",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$contexts",37],")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n    ",37],["T_VARIABLE","$element",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],"[","]",";",["T_WHITESPACE","\n    ",38],["T_FOREACH","foreach",39],["T_WHITESPACE"," ",39],"(",["T_VARIABLE","$plugin",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","getContextDefinitions",39],"(",")",["T_WHITESPACE"," ",39],["T_AS","as",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$context_slot",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$definition",39],")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n      ",39],["T_VARIABLE","$valid_contexts",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","contextHandler",40],"(",")",["T_OBJECT_OPERATOR","->",40],["T_STRING","getMatchingContexts",40],"(",["T_VARIABLE","$contexts",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$definition",40],")",";",["T_WHITESPACE","\n      ",40],["T_VARIABLE","$options",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],"[","]",";",["T_WHITESPACE","\n      ",41],["T_FOREACH","foreach",42],["T_WHITESPACE"," ",42],"(",["T_VARIABLE","$valid_contexts",42],["T_WHITESPACE"," ",42],["T_AS","as",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$context_id",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$context",42],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$element",43],"[",["T_CONSTANT_ENCAPSED_STRING","'#tree'",43],"]",["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_STRING","TRUE",43],";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$options",44],"[",["T_VARIABLE","$context_id",44],"]",["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$context",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","getContextDefinition",44],"(",")",["T_OBJECT_OPERATOR","->",44],["T_STRING","getLabel",44],"(",")",";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$element",45],"[",["T_VARIABLE","$context_slot",45],"]",["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],"[",["T_WHITESPACE","\n          ",45],["T_CONSTANT_ENCAPSED_STRING","'#type'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'value'",46],",",["T_WHITESPACE","\n          ",46],["T_CONSTANT_ENCAPSED_STRING","'#value'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$context_id",47],",",["T_WHITESPACE","\n        ",47],"]",";",["T_WHITESPACE","\n      ",48],"}",["T_WHITESPACE","\n\n      ",49],["T_IF","if",51],["T_WHITESPACE"," ",51],"(",["T_STRING","count",51],"(",["T_VARIABLE","$options",51],")",["T_WHITESPACE"," ",51],">",["T_WHITESPACE"," ",51],["T_LNUMBER","1",51],["T_WHITESPACE"," ",51],["T_BOOLEAN_OR","||",51],["T_WHITESPACE"," ",51],"!",["T_VARIABLE","$definition",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","isRequired",51],"(",")",")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$assignments",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$plugin",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getContextMapping",52],"(",")",";",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$element",53],"[",["T_VARIABLE","$context_slot",53],"]",["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],"[",["T_WHITESPACE","\n          ",53],["T_CONSTANT_ENCAPSED_STRING","'#title'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$definition",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getLabel",54],"(",")",["T_WHITESPACE"," ",54],"?",":",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","t",54],"(",["T_CONSTANT_ENCAPSED_STRING","'Select a @context value:'",54],",",["T_WHITESPACE"," ",54],"[",["T_CONSTANT_ENCAPSED_STRING","'@context'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$context_slot",54],"]",")",",",["T_WHITESPACE","\n          ",54],["T_CONSTANT_ENCAPSED_STRING","'#type'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'select'",55],",",["T_WHITESPACE","\n          ",55],["T_CONSTANT_ENCAPSED_STRING","'#options'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$options",56],",",["T_WHITESPACE","\n          ",56],["T_CONSTANT_ENCAPSED_STRING","'#required'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$definition",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","isRequired",57],"(",")",",",["T_WHITESPACE","\n          ",57],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],"!",["T_EMPTY","empty",58],"(",["T_VARIABLE","$assignments",58],"[",["T_VARIABLE","$context_slot",58],"]",")",["T_WHITESPACE"," ",58],"?",["T_WHITESPACE"," ",58],["T_VARIABLE","$assignments",58],"[",["T_VARIABLE","$context_slot",58],"]",["T_WHITESPACE"," ",58],":",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","''",58],",",["T_WHITESPACE","\n          ",58],["T_CONSTANT_ENCAPSED_STRING","'#description'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$definition",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getDescription",59],"(",")",",",["T_WHITESPACE","\n        ",59],"]",";",["T_WHITESPACE","\n        ",60],["T_IF","if",61],["T_WHITESPACE"," ",61],"(","!",["T_VARIABLE","$definition",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","isRequired",61],"(",")",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n          ",61],["T_VARIABLE","$element",62],"[",["T_VARIABLE","$context_slot",62],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#empty_value'",62],"]",["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","''",62],";",["T_WHITESPACE","\n        ",62],"}",["T_WHITESPACE","\n      ",63],"}",["T_WHITESPACE","\n    ",64],"}",["T_WHITESPACE","\n    ",65],["T_RETURN","return",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$element",66],";",["T_WHITESPACE","\n  ",66],"}",["T_WHITESPACE","\n\n",67],"}",["T_WHITESPACE","\n",69]]