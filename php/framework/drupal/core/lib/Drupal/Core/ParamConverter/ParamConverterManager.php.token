[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","ParamConverter",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Symfony",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Cmf",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Routing",5],["T_NS_SEPARATOR","\\",5],["T_STRING","RouteObjectInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Symfony",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Routing",6],["T_NS_SEPARATOR","\\",6],["T_STRING","RouteCollection",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Manages converter services for converting request parameters to full objects.\n *\n * A typical use case for this would be upcasting (converting) a node id to a\n * node entity.\n *\/",8],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","ParamConverterManager",14],["T_WHITESPACE"," ",14],["T_IMPLEMENTS","implements",14],["T_WHITESPACE"," ",14],["T_STRING","ParamConverterManagerInterface",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * Array of loaded converter services keyed by their ids.\n   *\n   * @var array\n   *\/",16],["T_WHITESPACE","\n  ",20],["T_PROTECTED","protected",21],["T_WHITESPACE"," ",21],["T_VARIABLE","$converters",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_ARRAY","array",21],"(",")",";",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",23],["T_WHITESPACE","\n  ",25],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","addConverter",26],"(",["T_STRING","ParamConverterInterface",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$param_converter",26],",",["T_WHITESPACE"," ",26],["T_VARIABLE","$id",26],")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n    ",26],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","converters",27],"[",["T_VARIABLE","$id",27],"]",["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$param_converter",27],";",["T_WHITESPACE","\n    ",27],["T_RETURN","return",28],["T_WHITESPACE"," ",28],["T_VARIABLE","$this",28],";",["T_WHITESPACE","\n  ",28],"}",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",31],["T_WHITESPACE","\n  ",33],["T_PUBLIC","public",34],["T_WHITESPACE"," ",34],["T_FUNCTION","function",34],["T_WHITESPACE"," ",34],["T_STRING","getConverter",34],"(",["T_VARIABLE","$converter",34],")",["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n    ",34],["T_IF","if",35],["T_WHITESPACE"," ",35],"(",["T_ISSET","isset",35],"(",["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","converters",35],"[",["T_VARIABLE","$converter",35],"]",")",")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n      ",35],["T_RETURN","return",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","converters",36],"[",["T_VARIABLE","$converter",36],"]",";",["T_WHITESPACE","\n    ",36],"}",["T_WHITESPACE","\n    ",37],["T_ELSE","else",38],["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n      ",38],["T_THROW","throw",39],["T_WHITESPACE"," ",39],["T_NEW","new",39],["T_WHITESPACE"," ",39],["T_NS_SEPARATOR","\\",39],["T_STRING","InvalidArgumentException",39],"(",["T_STRING","sprintf",39],"(",["T_CONSTANT_ENCAPSED_STRING","'No converter has been registered for %s'",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$converter",39],")",")",";",["T_WHITESPACE","\n    ",39],"}",["T_WHITESPACE","\n  ",40],"}",["T_WHITESPACE","\n\n  ",41],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",43],["T_WHITESPACE","\n  ",45],["T_PUBLIC","public",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","setRouteParameterConverters",46],"(",["T_STRING","RouteCollection",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$routes",46],")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n    ",46],["T_FOREACH","foreach",47],["T_WHITESPACE"," ",47],"(",["T_VARIABLE","$routes",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","all",47],"(",")",["T_WHITESPACE"," ",47],["T_AS","as",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$route",47],")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n      ",47],["T_IF","if",48],["T_WHITESPACE"," ",48],"(","!",["T_VARIABLE","$parameters",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$route",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getOption",48],"(",["T_CONSTANT_ENCAPSED_STRING","'parameters'",48],")",")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n        ",48],["T_COMMENT","\/\/ Continue with the next route if no parameters have been defined.\n",49],["T_WHITESPACE","        ",50],["T_CONTINUE","continue",50],";",["T_WHITESPACE","\n      ",50],"}",["T_WHITESPACE","\n\n      ",51],["T_COMMENT","\/\/ Loop over all defined parameters and look up the right converter.\n",53],["T_WHITESPACE","      ",54],["T_FOREACH","foreach",54],["T_WHITESPACE"," ",54],"(",["T_VARIABLE","$parameters",54],["T_WHITESPACE"," ",54],["T_AS","as",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$name",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],"&",["T_VARIABLE","$definition",54],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n        ",54],["T_IF","if",55],["T_WHITESPACE"," ",55],"(",["T_ISSET","isset",55],"(",["T_VARIABLE","$definition",55],"[",["T_CONSTANT_ENCAPSED_STRING","'converter'",55],"]",")",")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n          ",55],["T_COMMENT","\/\/ Skip parameters that already have a manually set converter.\n",56],["T_WHITESPACE","          ",57],["T_CONTINUE","continue",57],";",["T_WHITESPACE","\n        ",57],"}",["T_WHITESPACE","\n\n        ",58],["T_FOREACH","foreach",60],["T_WHITESPACE"," ",60],"(",["T_STRING","array_keys",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","converters",60],")",["T_WHITESPACE"," ",60],["T_AS","as",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$converter",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n          ",60],["T_IF","if",61],["T_WHITESPACE"," ",61],"(",["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getConverter",61],"(",["T_VARIABLE","$converter",61],")",["T_OBJECT_OPERATOR","->",61],["T_STRING","applies",61],"(",["T_VARIABLE","$definition",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$name",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$route",61],")",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n            ",61],["T_VARIABLE","$definition",62],"[",["T_CONSTANT_ENCAPSED_STRING","'converter'",62],"]",["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$converter",62],";",["T_WHITESPACE","\n            ",62],["T_BREAK","break",63],";",["T_WHITESPACE","\n          ",63],"}",["T_WHITESPACE","\n        ",64],"}",["T_WHITESPACE","\n      ",65],"}",["T_WHITESPACE","\n\n      ",66],["T_COMMENT","\/\/ Override the parameters array.\n",68],["T_WHITESPACE","      ",69],["T_VARIABLE","$route",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","setOption",69],"(",["T_CONSTANT_ENCAPSED_STRING","'parameters'",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$parameters",69],")",";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n  ",70],"}",["T_WHITESPACE","\n\n  ",71],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",73],["T_WHITESPACE","\n  ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","convert",76],"(",["T_ARRAY","array",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$defaults",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n    ",76],["T_DOC_COMMENT","\/** @var $route \\Symfony\\Component\\Routing\\Route *\/",77],["T_WHITESPACE","\n    ",77],["T_VARIABLE","$route",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$defaults",78],"[",["T_STRING","RouteObjectInterface",78],["T_DOUBLE_COLON","::",78],["T_STRING","ROUTE_OBJECT",78],"]",";",["T_WHITESPACE","\n\n    ",78],["T_COMMENT","\/\/ Skip this enhancer if there are no parameter definitions.\n",80],["T_WHITESPACE","    ",81],["T_IF","if",81],["T_WHITESPACE"," ",81],"(","!",["T_VARIABLE","$parameters",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$route",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getOption",81],"(",["T_CONSTANT_ENCAPSED_STRING","'parameters'",81],")",")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n      ",81],["T_RETURN","return",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$defaults",82],";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_COMMENT","\/\/ Invoke the registered converter for each parameter.\n",85],["T_WHITESPACE","    ",86],["T_FOREACH","foreach",86],["T_WHITESPACE"," ",86],"(",["T_VARIABLE","$parameters",86],["T_WHITESPACE"," ",86],["T_AS","as",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$name",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$definition",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n      ",86],["T_IF","if",87],["T_WHITESPACE"," ",87],"(","!",["T_ISSET","isset",87],"(",["T_VARIABLE","$defaults",87],"[",["T_VARIABLE","$name",87],"]",")",")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n        ",87],["T_COMMENT","\/\/ Do not try to convert anything that is already set to NULL.\n",88],["T_WHITESPACE","        ",89],["T_CONTINUE","continue",89],";",["T_WHITESPACE","\n      ",89],"}",["T_WHITESPACE","\n\n      ",90],["T_IF","if",92],["T_WHITESPACE"," ",92],"(","!",["T_ISSET","isset",92],"(",["T_VARIABLE","$definition",92],"[",["T_CONSTANT_ENCAPSED_STRING","'converter'",92],"]",")",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n        ",92],["T_COMMENT","\/\/ Continue if no converter has been specified.\n",93],["T_WHITESPACE","        ",94],["T_CONTINUE","continue",94],";",["T_WHITESPACE","\n      ",94],"}",["T_WHITESPACE","\n\n      ",95],["T_COMMENT","\/\/ If a converter returns NULL it means that the parameter could not be\n",97],["T_WHITESPACE","      ",98],["T_COMMENT","\/\/ converted.\n",98],["T_WHITESPACE","      ",99],["T_VARIABLE","$defaults",99],"[",["T_VARIABLE","$name",99],"]",["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getConverter",99],"(",["T_VARIABLE","$definition",99],"[",["T_CONSTANT_ENCAPSED_STRING","'converter'",99],"]",")",["T_OBJECT_OPERATOR","->",99],["T_STRING","convert",99],"(",["T_VARIABLE","$defaults",99],"[",["T_VARIABLE","$name",99],"]",",",["T_WHITESPACE"," ",99],["T_VARIABLE","$definition",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$name",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$defaults",99],")",";",["T_WHITESPACE","\n      ",99],["T_IF","if",100],["T_WHITESPACE"," ",100],"(","!",["T_ISSET","isset",100],"(",["T_VARIABLE","$defaults",100],"[",["T_VARIABLE","$name",100],"]",")",")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n        ",100],["T_THROW","throw",101],["T_WHITESPACE"," ",101],["T_NEW","new",101],["T_WHITESPACE"," ",101],["T_STRING","ParamNotConvertedException",101],"(",["T_STRING","sprintf",101],"(",["T_CONSTANT_ENCAPSED_STRING","'The \"%s\" parameter was not converted for the path \"%s\" (route name: \"%s\")'",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$name",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$route",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getPath",101],"(",")",",",["T_WHITESPACE"," ",101],["T_VARIABLE","$defaults",101],"[",["T_STRING","RouteObjectInterface",101],["T_DOUBLE_COLON","::",101],["T_STRING","ROUTE_NAME",101],"]",")",")",";",["T_WHITESPACE","\n      ",101],"}",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_RETURN","return",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$defaults",105],";",["T_WHITESPACE","\n  ",105],"}",["T_WHITESPACE","\n\n",106],"}",["T_WHITESPACE","\n",108]]