[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","ImageToolkit",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Plugin",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Exception",5],["T_NS_SEPARATOR","\\",5],["T_STRING","PluginNotFoundException",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Config",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ConfigFactoryInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Form",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FormStateInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Plugin",8],["T_NS_SEPARATOR","\\",8],["T_STRING","PluginBase",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Psr",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Log",9],["T_NS_SEPARATOR","\\",9],["T_STRING","LoggerInterface",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Provides a base class for image toolkit plugins.\n *\n * @see \\Drupal\\Core\\ImageToolkit\\Annotation\\ImageToolkit\n * @see \\Drupal\\Core\\ImageToolkit\\ImageToolkitInterface\n * @see \\Drupal\\Core\\ImageToolkit\\ImageToolkitManager\n * @see plugin_api\n *\/",11],["T_WHITESPACE","\n",18],["T_ABSTRACT","abstract",19],["T_WHITESPACE"," ",19],["T_CLASS","class",19],["T_WHITESPACE"," ",19],["T_STRING","ImageToolkitBase",19],["T_WHITESPACE"," ",19],["T_EXTENDS","extends",19],["T_WHITESPACE"," ",19],["T_STRING","PluginBase",19],["T_WHITESPACE"," ",19],["T_IMPLEMENTS","implements",19],["T_WHITESPACE"," ",19],["T_STRING","ImageToolkitInterface",19],["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * The config factory.\n   *\n   * @var \\Drupal\\Core\\Config\\ConfigFactoryInterface\n   *\/",21],["T_WHITESPACE","\n  ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$configFactory",26],";",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * Path of the image file.\n   *\n   * @var string\n   *\/",28],["T_WHITESPACE","\n  ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$source",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","''",33],";",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * The image toolkit operation manager.\n   *\n   * @var \\Drupal\\Core\\ImageToolkit\\ImageToolkitOperationManagerInterface\n   *\/",35],["T_WHITESPACE","\n  ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$operationManager",40],";",["T_WHITESPACE","\n\n  ",40],["T_DOC_COMMENT","\/**\n   * A logger instance.\n   *\n   * @var \\Psr\\Log\\LoggerInterface\n   *\/",42],["T_WHITESPACE","\n  ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$logger",47],";",["T_WHITESPACE","\n\n\n  ",47],["T_DOC_COMMENT","\/**\n   * Constructs an ImageToolkitBase object.\n   *\n   * @param array $configuration\n   *   A configuration array containing information about the plugin instance.\n   * @param string $plugin_id\n   *   The plugin_id for the plugin instance.\n   * @param array $plugin_definition\n   *   The plugin implementation definition.\n   * @param \\Drupal\\Core\\ImageToolkit\\ImageToolkitOperationManagerInterface $operation_manager\n   *   The toolkit operation manager.\n   * @param \\Psr\\Log\\LoggerInterface $logger\n   *   A logger instance.\n   * @param \\Drupal\\Core\\Config\\ConfigFactoryInterface $config_factory\n   *   The config factory.\n   *\/",50],["T_WHITESPACE","\n  ",65],["T_PUBLIC","public",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","__construct",66],"(",["T_ARRAY","array",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$configuration",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$plugin_id",66],",",["T_WHITESPACE"," ",66],["T_ARRAY","array",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$plugin_definition",66],",",["T_WHITESPACE"," ",66],["T_STRING","ImageToolkitOperationManagerInterface",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$operation_manager",66],",",["T_WHITESPACE"," ",66],["T_STRING","LoggerInterface",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$logger",66],",",["T_WHITESPACE"," ",66],["T_STRING","ConfigFactoryInterface",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$config_factory",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n    ",66],["T_STRING","parent",67],["T_DOUBLE_COLON","::",67],["T_STRING","__construct",67],"(",["T_VARIABLE","$configuration",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$plugin_id",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$plugin_definition",67],")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","operationManager",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$operation_manager",68],";",["T_WHITESPACE","\n    ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","logger",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$logger",69],";",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","configFactory",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$config_factory",70],";",["T_WHITESPACE","\n  ",70],"}",["T_WHITESPACE","\n\n  ",71],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",73],["T_WHITESPACE","\n  ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","validateConfigurationForm",76],"(",["T_ARRAY","array",76],["T_WHITESPACE"," ",76],"&",["T_VARIABLE","$form",76],",",["T_WHITESPACE"," ",76],["T_STRING","FormStateInterface",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$form_state",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","  ",76],"}",["T_WHITESPACE","\n\n  ",76],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",78],["T_WHITESPACE","\n  ",80],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","setSource",81],"(",["T_VARIABLE","$source",81],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n    ",81],["T_COMMENT","\/\/ If a previous image has been loaded, there is no way to know if the\n",82],["T_WHITESPACE","    ",83],["T_COMMENT","\/\/ toolkit implementation needs to perform any additional actions like\n",83],["T_WHITESPACE","    ",84],["T_COMMENT","\/\/ freeing memory. Therefore, the source image cannot be changed once set.\n",84],["T_WHITESPACE","    ",85],["T_IF","if",85],["T_WHITESPACE"," ",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","source",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n      ",85],["T_THROW","throw",86],["T_WHITESPACE"," ",86],["T_NEW","new",86],["T_WHITESPACE"," ",86],["T_NS_SEPARATOR","\\",86],["T_STRING","BadMethodCallException",86],"(",["T_METHOD_C","__METHOD__",86],["T_WHITESPACE"," ",86],".",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'() may only be called once'",86],")",";",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n    ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","source",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$source",88],";",["T_WHITESPACE","\n    ",88],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],";",["T_WHITESPACE","\n  ",89],"}",["T_WHITESPACE","\n\n  ",90],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",92],["T_WHITESPACE","\n  ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","getSource",95],"(",")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n    ",95],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","source",96],";",["T_WHITESPACE","\n  ",96],"}",["T_WHITESPACE","\n\n  ",97],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",99],["T_WHITESPACE","\n  ",101],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","getRequirements",102],"(",")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n    ",102],["T_RETURN","return",103],["T_WHITESPACE"," ",103],["T_ARRAY","array",103],"(",")",";",["T_WHITESPACE","\n  ",103],"}",["T_WHITESPACE","\n\n  ",104],["T_DOC_COMMENT","\/**\n   * Gets a toolkit operation plugin instance.\n   *\n   * @param string $operation\n   *   The toolkit operation requested.\n   *\n   * @return \\Drupal\\Core\\ImageToolkit\\ImageToolkitOperationInterface\n   *   An instance of the requested toolkit operation plugin.\n   *\/",106],["T_WHITESPACE","\n  ",114],["T_PROTECTED","protected",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","getToolkitOperation",115],"(",["T_VARIABLE","$operation",115],")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n    ",115],["T_RETURN","return",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","operationManager",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getToolkitOperation",116],"(",["T_VARIABLE","$this",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$operation",116],")",";",["T_WHITESPACE","\n  ",116],"}",["T_WHITESPACE","\n\n  ",117],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",119],["T_WHITESPACE","\n  ",121],["T_PUBLIC","public",122],["T_WHITESPACE"," ",122],["T_FUNCTION","function",122],["T_WHITESPACE"," ",122],["T_STRING","apply",122],"(",["T_VARIABLE","$operation",122],",",["T_WHITESPACE"," ",122],["T_ARRAY","array",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$arguments",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_ARRAY","array",122],"(",")",")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n    ",122],["T_TRY","try",123],["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n      ",123],["T_COMMENT","\/\/ Get the plugin to use for the operation and apply the operation.\n",124],["T_WHITESPACE","      ",125],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getToolkitOperation",125],"(",["T_VARIABLE","$operation",125],")",["T_OBJECT_OPERATOR","->",125],["T_STRING","apply",125],"(",["T_VARIABLE","$arguments",125],")",";",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n    ",126],["T_CATCH","catch",127],["T_WHITESPACE"," ",127],"(",["T_STRING","PluginNotFoundException",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$e",127],")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n      ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","logger",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","error",128],"(",["T_CONSTANT_ENCAPSED_STRING","\"The selected image handling toolkit '@toolkit' can not process operation '@operation'.\"",128],",",["T_WHITESPACE"," ",128],["T_ARRAY","array",128],"(",["T_CONSTANT_ENCAPSED_STRING","'@toolkit'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getPluginId",128],"(",")",",",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'@operation'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$operation",128],")",")",";",["T_WHITESPACE","\n      ",128],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_STRING","FALSE",129],";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n    ",130],["T_CATCH","catch",131],["T_WHITESPACE"," ",131],"(",["T_NS_SEPARATOR","\\",131],["T_STRING","InvalidArgumentException",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$e",131],")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n      ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","logger",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","warning",132],"(",["T_VARIABLE","$e",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getMessage",132],"(",")",",",["T_WHITESPACE"," ",132],["T_ARRAY","array",132],"(",")",")",";",["T_WHITESPACE","\n      ",132],["T_RETURN","return",133],["T_WHITESPACE"," ",133],["T_STRING","FALSE",133],";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n  ",134],"}",["T_WHITESPACE","\n\n",135],"}",["T_WHITESPACE","\n",137]]