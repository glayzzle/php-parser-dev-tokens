[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","ImageToolkit",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Cache",5],["T_NS_SEPARATOR","\\",5],["T_STRING","CacheBackendInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Config",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ConfigFactoryInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Extension",7],["T_NS_SEPARATOR","\\",7],["T_STRING","ModuleHandlerInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Plugin",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DefaultPluginManager",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Manages image toolkit plugins.\n *\n * @see \\Drupal\\Core\\ImageToolkit\\Annotation\\ImageToolkit\n * @see \\Drupal\\Core\\ImageToolkit\\ImageToolkitInterface\n * @see \\Drupal\\Core\\ImageToolkit\\ImageToolkitBase\n * @see plugin_api\n *\/",10],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","ImageToolkitManager",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_STRING","DefaultPluginManager",18],["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n\n  ",18],["T_DOC_COMMENT","\/**\n   * The config factory.\n   *\n   * @var \\Drupal\\Core\\Config\\ConfigFactoryInterface\n   *\/",20],["T_WHITESPACE","\n  ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$configFactory",25],";",["T_WHITESPACE","\n\n  ",25],["T_DOC_COMMENT","\/**\n   * Constructs the ImageToolkitManager object.\n   *\n   * @param \\Traversable $namespaces\n   *   An object that implements \\Traversable which contains the root paths\n   *   keyed by the corresponding namespace to look for plugin implementations.\n   * @param \\Drupal\\Core\\Cache\\CacheBackendInterface $cache_backend\n   *   Cache backend instance to use.\n   * @param \\Drupal\\Core\\Extension\\ModuleHandlerInterface $module_handler\n   *   The module handler.\n   * @param \\Drupal\\Core\\Config\\ConfigFactoryInterface $config_factory\n   *   The config factory.\n   *\/",27],["T_WHITESPACE","\n  ",39],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","__construct",40],"(",["T_NS_SEPARATOR","\\",40],["T_STRING","Traversable",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$namespaces",40],",",["T_WHITESPACE"," ",40],["T_STRING","CacheBackendInterface",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$cache_backend",40],",",["T_WHITESPACE"," ",40],["T_STRING","ModuleHandlerInterface",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$module_handler",40],",",["T_WHITESPACE"," ",40],["T_STRING","ConfigFactoryInterface",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$config_factory",40],")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n    ",40],["T_STRING","parent",41],["T_DOUBLE_COLON","::",41],["T_STRING","__construct",41],"(",["T_CONSTANT_ENCAPSED_STRING","'Plugin\/ImageToolkit'",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$namespaces",41],",",["T_WHITESPACE"," ",41],["T_VARIABLE","$module_handler",41],",",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\ImageToolkit\\ImageToolkitInterface'",41],",",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\ImageToolkit\\Annotation\\ImageToolkit'",41],")",";",["T_WHITESPACE","\n\n    ",41],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","setCacheBackend",43],"(",["T_VARIABLE","$cache_backend",43],",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'image_toolkit_plugins'",43],")",";",["T_WHITESPACE","\n    ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","configFactory",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_VARIABLE","$config_factory",44],";",["T_WHITESPACE","\n  ",44],"}",["T_WHITESPACE","\n\n  ",45],["T_DOC_COMMENT","\/**\n   * Gets the default image toolkit ID.\n   *\n   * @return string|bool\n   *   ID of the default toolkit, or FALSE on error.\n   *\/",47],["T_WHITESPACE","\n  ",52],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","getDefaultToolkitId",53],"(",")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$toolkit_id",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","configFactory",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","get",54],"(",["T_CONSTANT_ENCAPSED_STRING","'system.image'",54],")",["T_OBJECT_OPERATOR","->",54],["T_STRING","get",54],"(",["T_CONSTANT_ENCAPSED_STRING","'toolkit'",54],")",";",["T_WHITESPACE","\n    ",54],["T_VARIABLE","$toolkits",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getAvailableToolkits",55],"(",")",";",["T_WHITESPACE","\n\n    ",55],["T_IF","if",57],["T_WHITESPACE"," ",57],"(","!",["T_ISSET","isset",57],"(",["T_VARIABLE","$toolkits",57],"[",["T_VARIABLE","$toolkit_id",57],"]",")",["T_WHITESPACE"," ",57],["T_BOOLEAN_OR","||",57],["T_WHITESPACE"," ",57],"!",["T_STRING","class_exists",57],"(",["T_VARIABLE","$toolkits",57],"[",["T_VARIABLE","$toolkit_id",57],"]","[",["T_CONSTANT_ENCAPSED_STRING","'class'",57],"]",")",")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n      ",57],["T_COMMENT","\/\/ The selected toolkit isn't available so return the first one found. If\n",58],["T_WHITESPACE","      ",59],["T_COMMENT","\/\/ none are available this will return FALSE.\n",59],["T_WHITESPACE","      ",60],["T_STRING","reset",60],"(",["T_VARIABLE","$toolkits",60],")",";",["T_WHITESPACE","\n      ",60],["T_VARIABLE","$toolkit_id",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","key",61],"(",["T_VARIABLE","$toolkits",61],")",";",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n\n    ",62],["T_RETURN","return",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$toolkit_id",64],";",["T_WHITESPACE","\n  ",64],"}",["T_WHITESPACE","\n\n  ",65],["T_DOC_COMMENT","\/**\n   * Gets the default image toolkit.\n   *\n   * @return \\Drupal\\Core\\ImageToolkit\\ImageToolkitInterface\n   *   Object of the default toolkit, or FALSE on error.\n   *\/",67],["T_WHITESPACE","\n  ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","getDefaultToolkit",73],"(",")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n    ",73],["T_IF","if",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$toolkit_id",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getDefaultToolkitId",74],"(",")",")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n      ",74],["T_RETURN","return",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","createInstance",75],"(",["T_VARIABLE","$toolkit_id",75],")",";",["T_WHITESPACE","\n    ",75],"}",["T_WHITESPACE","\n    ",76],["T_RETURN","return",77],["T_WHITESPACE"," ",77],["T_STRING","FALSE",77],";",["T_WHITESPACE","\n  ",77],"}",["T_WHITESPACE","\n\n  ",78],["T_DOC_COMMENT","\/**\n   * Gets a list of available toolkits.\n   *\n   * @return array\n   *   An array with the toolkit names as keys and the descriptions as values.\n   *\/",80],["T_WHITESPACE","\n  ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","getAvailableToolkits",86],"(",")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n    ",86],["T_COMMENT","\/\/ Use plugin system to get list of available toolkits.\n",87],["T_WHITESPACE","    ",88],["T_VARIABLE","$toolkits",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getDefinitions",88],"(",")",";",["T_WHITESPACE","\n\n    ",88],["T_VARIABLE","$output",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_ARRAY","array",90],"(",")",";",["T_WHITESPACE","\n    ",90],["T_FOREACH","foreach",91],["T_WHITESPACE"," ",91],"(",["T_VARIABLE","$toolkits",91],["T_WHITESPACE"," ",91],["T_AS","as",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$id",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$definition",91],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n      ",91],["T_COMMENT","\/\/ Only allow modules that aren't marked as unavailable.\n",92],["T_WHITESPACE","      ",93],["T_IF","if",93],["T_WHITESPACE"," ",93],"(",["T_STRING","call_user_func",93],"(",["T_VARIABLE","$definition",93],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",93],"]",["T_WHITESPACE"," ",93],".",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'::isAvailable'",93],")",")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$output",94],"[",["T_VARIABLE","$id",94],"]",["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$definition",94],";",["T_WHITESPACE","\n      ",94],"}",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n\n    ",96],["T_RETURN","return",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$output",98],";",["T_WHITESPACE","\n  ",98],"}",["T_WHITESPACE","\n\n",99],"}",["T_WHITESPACE","\n",101]]