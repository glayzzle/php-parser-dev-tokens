[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Cache",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Database",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Connection",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Database",6],["T_NS_SEPARATOR","\\",6],["T_STRING","SchemaObjectExistsException",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Cache tags invalidations checksum implementation that uses the database.\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","DatabaseCacheTagsChecksum",11],["T_WHITESPACE"," ",11],["T_IMPLEMENTS","implements",11],["T_WHITESPACE"," ",11],["T_STRING","CacheTagsChecksumInterface",11],",",["T_WHITESPACE"," ",11],["T_STRING","CacheTagsInvalidatorInterface",11],["T_WHITESPACE"," ",11],"{",["T_WHITESPACE","\n\n  ",11],["T_DOC_COMMENT","\/**\n   * The database connection.\n   *\n   * @var \\Drupal\\Core\\Database\\Connection\n   *\/",13],["T_WHITESPACE","\n  ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$connection",18],";",["T_WHITESPACE","\n\n  ",18],["T_DOC_COMMENT","\/**\n   * Contains already loaded cache invalidations from the database.\n   *\n   * @var array\n   *\/",20],["T_WHITESPACE","\n  ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$tagCache",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_ARRAY","array",25],"(",")",";",["T_WHITESPACE","\n\n  ",25],["T_DOC_COMMENT","\/**\n   * A list of tags that have already been invalidated in this request.\n   *\n   * Used to prevent the invalidation of the same cache tag multiple times.\n   *\n   * @var array\n   *\/",27],["T_WHITESPACE","\n  ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$invalidatedTags",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",")",";",["T_WHITESPACE","\n\n  ",34],["T_DOC_COMMENT","\/**\n   * Constructs a DatabaseCacheTagsChecksum object.\n   *\n   * @param \\Drupal\\Core\\Database\\Connection $connection\n   *   The database connection.\n   *\/",36],["T_WHITESPACE","\n  ",41],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","__construct",42],"(",["T_STRING","Connection",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$connection",42],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n    ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","connection",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$connection",43],";",["T_WHITESPACE","\n  ",43],"}",["T_WHITESPACE","\n\n  ",44],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",46],["T_WHITESPACE","\n  ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","invalidateTags",49],"(",["T_ARRAY","array",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$tags",49],")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n    ",49],["T_TRY","try",50],["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n      ",50],["T_FOREACH","foreach",51],["T_WHITESPACE"," ",51],"(",["T_VARIABLE","$tags",51],["T_WHITESPACE"," ",51],["T_AS","as",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$tag",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n        ",51],["T_COMMENT","\/\/ Only invalidate tags once per request unless they are written again.\n",52],["T_WHITESPACE","        ",53],["T_IF","if",53],["T_WHITESPACE"," ",53],"(",["T_ISSET","isset",53],"(",["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","invalidatedTags",53],"[",["T_VARIABLE","$tag",53],"]",")",")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n          ",53],["T_CONTINUE","continue",54],";",["T_WHITESPACE","\n        ",54],"}",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","invalidatedTags",56],"[",["T_VARIABLE","$tag",56],"]",["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","TRUE",56],";",["T_WHITESPACE","\n        ",56],["T_UNSET","unset",57],"(",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","tagCache",57],"[",["T_VARIABLE","$tag",57],"]",")",";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","connection",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","merge",58],"(",["T_CONSTANT_ENCAPSED_STRING","'cachetags'",58],")",["T_WHITESPACE","\n          ",58],["T_OBJECT_OPERATOR","->",59],["T_STRING","insertFields",59],"(",["T_ARRAY","array",59],"(",["T_CONSTANT_ENCAPSED_STRING","'invalidations'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_LNUMBER","1",59],")",")",["T_WHITESPACE","\n          ",59],["T_OBJECT_OPERATOR","->",60],["T_STRING","expression",60],"(",["T_CONSTANT_ENCAPSED_STRING","'invalidations'",60],",",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'invalidations + 1'",60],")",["T_WHITESPACE","\n          ",60],["T_OBJECT_OPERATOR","->",61],["T_STRING","key",61],"(",["T_CONSTANT_ENCAPSED_STRING","'tag'",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$tag",61],")",["T_WHITESPACE","\n          ",61],["T_OBJECT_OPERATOR","->",62],["T_STRING","execute",62],"(",")",";",["T_WHITESPACE","\n      ",62],"}",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n    ",64],["T_CATCH","catch",65],["T_WHITESPACE"," ",65],"(",["T_NS_SEPARATOR","\\",65],["T_STRING","Exception",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$e",65],")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n      ",65],["T_COMMENT","\/\/ Create the cache table, which will be empty. This fixes cases during\n",66],["T_WHITESPACE","      ",67],["T_COMMENT","\/\/ core install where cache tags are invalidated before the table is\n",67],["T_WHITESPACE","      ",68],["T_COMMENT","\/\/ created.\n",68],["T_WHITESPACE","      ",69],["T_IF","if",69],["T_WHITESPACE"," ",69],"(","!",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","ensureTableExists",69],"(",")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","catchException",70],"(",["T_VARIABLE","$e",70],")",";",["T_WHITESPACE","\n      ",70],"}",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n  ",72],"}",["T_WHITESPACE","\n\n  ",73],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",75],["T_WHITESPACE","\n  ",77],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","getCurrentChecksum",78],"(",["T_ARRAY","array",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$tags",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n    ",78],["T_COMMENT","\/\/ Remove tags that were already invalidated during this request from the\n",79],["T_WHITESPACE","    ",80],["T_COMMENT","\/\/ static caches so that another invalidation can occur later in the same\n",80],["T_WHITESPACE","    ",81],["T_COMMENT","\/\/ request. Without that, written cache items would not be invalidated\n",81],["T_WHITESPACE","    ",82],["T_COMMENT","\/\/ correctly.\n",82],["T_WHITESPACE","    ",83],["T_FOREACH","foreach",83],["T_WHITESPACE"," ",83],"(",["T_VARIABLE","$tags",83],["T_WHITESPACE"," ",83],["T_AS","as",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$tag",83],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n      ",83],["T_UNSET","unset",84],"(",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","invalidatedTags",84],"[",["T_VARIABLE","$tag",84],"]",")",";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n    ",85],["T_RETURN","return",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","calculateChecksum",86],"(",["T_VARIABLE","$tags",86],")",";",["T_WHITESPACE","\n  ",86],"}",["T_WHITESPACE","\n\n  ",87],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",89],["T_WHITESPACE","\n  ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","isValid",92],"(",["T_VARIABLE","$checksum",92],",",["T_WHITESPACE"," ",92],["T_ARRAY","array",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$tags",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n    ",92],["T_RETURN","return",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$checksum",93],["T_WHITESPACE"," ",93],["T_IS_EQUAL","==",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","calculateChecksum",93],"(",["T_VARIABLE","$tags",93],")",";",["T_WHITESPACE","\n  ",93],"}",["T_WHITESPACE","\n\n  ",94],["T_DOC_COMMENT","\/**\n   * Calculates the current checksum for a given set of tags.\n   *\n   * @param array $tags\n   *   The array of tags to calculate the checksum for.\n   *\n   * @return int\n   *   The calculated checksum.\n   *\/",96],["T_WHITESPACE","\n  ",104],["T_PROTECTED","protected",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","calculateChecksum",105],"(",["T_ARRAY","array",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$tags",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$checksum",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_LNUMBER","0",106],";",["T_WHITESPACE","\n\n    ",106],["T_VARIABLE","$query_tags",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_STRING","array_diff",108],"(",["T_VARIABLE","$tags",108],",",["T_WHITESPACE"," ",108],["T_STRING","array_keys",108],"(",["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","tagCache",108],")",")",";",["T_WHITESPACE","\n    ",108],["T_IF","if",109],["T_WHITESPACE"," ",109],"(",["T_VARIABLE","$query_tags",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n      ",109],["T_VARIABLE","$db_tags",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_ARRAY","array",110],"(",")",";",["T_WHITESPACE","\n      ",110],["T_TRY","try",111],["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$db_tags",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","connection",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","query",112],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT tag, invalidations FROM {cachetags} WHERE tag IN ( :tags[] )'",112],",",["T_WHITESPACE"," ",112],["T_ARRAY","array",112],"(",["T_CONSTANT_ENCAPSED_STRING","':tags[]'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$query_tags",112],")",")",["T_WHITESPACE","\n          ",112],["T_OBJECT_OPERATOR","->",113],["T_STRING","fetchAllKeyed",113],"(",")",";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","tagCache",114],["T_WHITESPACE"," ",114],["T_PLUS_EQUAL","+=",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$db_tags",114],";",["T_WHITESPACE","\n      ",114],"}",["T_WHITESPACE","\n      ",115],["T_CATCH","catch",116],["T_WHITESPACE"," ",116],"(",["T_NS_SEPARATOR","\\",116],["T_STRING","Exception",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$e",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n        ",116],["T_COMMENT","\/\/ If the table does not exist yet, create.\n",117],["T_WHITESPACE","        ",118],["T_IF","if",118],["T_WHITESPACE"," ",118],"(","!",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","ensureTableExists",118],"(",")",")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n          ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","catchException",119],"(",["T_VARIABLE","$e",119],")",";",["T_WHITESPACE","\n        ",119],"}",["T_WHITESPACE","\n      ",120],"}",["T_WHITESPACE","\n      ",121],["T_COMMENT","\/\/ Fill static cache with empty objects for tags not found in the database.\n",122],["T_WHITESPACE","      ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","tagCache",123],["T_WHITESPACE"," ",123],["T_PLUS_EQUAL","+=",123],["T_WHITESPACE"," ",123],["T_STRING","array_fill_keys",123],"(",["T_STRING","array_diff",123],"(",["T_VARIABLE","$query_tags",123],",",["T_WHITESPACE"," ",123],["T_STRING","array_keys",123],"(",["T_VARIABLE","$db_tags",123],")",")",",",["T_WHITESPACE"," ",123],["T_LNUMBER","0",123],")",";",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n\n    ",124],["T_FOREACH","foreach",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$tags",126],["T_WHITESPACE"," ",126],["T_AS","as",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$tag",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n      ",126],["T_VARIABLE","$checksum",127],["T_WHITESPACE"," ",127],["T_PLUS_EQUAL","+=",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","tagCache",127],"[",["T_VARIABLE","$tag",127],"]",";",["T_WHITESPACE","\n    ",127],"}",["T_WHITESPACE","\n\n    ",128],["T_RETURN","return",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$checksum",130],";",["T_WHITESPACE","\n  ",130],"}",["T_WHITESPACE","\n\n  ",131],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",133],["T_WHITESPACE","\n  ",135],["T_PUBLIC","public",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","reset",136],"(",")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","tagCache",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_ARRAY","array",137],"(",")",";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","invalidatedTags",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_ARRAY","array",138],"(",")",";",["T_WHITESPACE","\n  ",138],"}",["T_WHITESPACE","\n\n  ",139],["T_DOC_COMMENT","\/**\n   * Check if the cache tags table exists and create it if not.\n   *\/",141],["T_WHITESPACE","\n  ",143],["T_PROTECTED","protected",144],["T_WHITESPACE"," ",144],["T_FUNCTION","function",144],["T_WHITESPACE"," ",144],["T_STRING","ensureTableExists",144],"(",")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n    ",144],["T_TRY","try",145],["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n      ",145],["T_VARIABLE","$database_schema",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","connection",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","schema",146],"(",")",";",["T_WHITESPACE","\n      ",146],["T_COMMENT","\/\/ Create the cache tags table if it does not exist.\n",147],["T_WHITESPACE","      ",148],["T_IF","if",148],["T_WHITESPACE"," ",148],"(","!",["T_VARIABLE","$database_schema",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","tableExists",148],"(",["T_CONSTANT_ENCAPSED_STRING","'cachetags'",148],")",")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$schema_definition",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","schemaDefinition",149],"(",")",";",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$database_schema",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","createTable",150],"(",["T_CONSTANT_ENCAPSED_STRING","'cachetags'",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$schema_definition",150],")",";",["T_WHITESPACE","\n\n        ",150],["T_RETURN","return",152],["T_WHITESPACE"," ",152],["T_STRING","TRUE",152],";",["T_WHITESPACE","\n      ",152],"}",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n    ",154],["T_COMMENT","\/\/ If another process has already created the cachetags table, attempting to\n",155],["T_WHITESPACE","    ",156],["T_COMMENT","\/\/ recreate it will throw an exception. In this case just catch the\n",156],["T_WHITESPACE","    ",157],["T_COMMENT","\/\/ exception and do nothing.\n",157],["T_WHITESPACE","    ",158],["T_CATCH","catch",158],["T_WHITESPACE"," ",158],"(",["T_STRING","SchemaObjectExistsException",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$e",158],")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n      ",158],["T_RETURN","return",159],["T_WHITESPACE"," ",159],["T_STRING","TRUE",159],";",["T_WHITESPACE","\n    ",159],"}",["T_WHITESPACE","\n    ",160],["T_RETURN","return",161],["T_WHITESPACE"," ",161],["T_STRING","FALSE",161],";",["T_WHITESPACE","\n  ",161],"}",["T_WHITESPACE","\n\n  ",162],["T_DOC_COMMENT","\/**\n   * Defines the schema for the {cachetags} table.\n   *\/",164],["T_WHITESPACE","\n  ",166],["T_PUBLIC","public",167],["T_WHITESPACE"," ",167],["T_FUNCTION","function",167],["T_WHITESPACE"," ",167],["T_STRING","schemaDefinition",167],"(",")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n    ",167],["T_VARIABLE","$schema",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_ARRAY","array",168],"(",["T_WHITESPACE","\n      ",168],["T_CONSTANT_ENCAPSED_STRING","'description'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'Cache table for tracking cache tag invalidations.'",169],",",["T_WHITESPACE","\n      ",169],["T_CONSTANT_ENCAPSED_STRING","'fields'",170],["T_WHITESPACE"," ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_ARRAY","array",170],"(",["T_WHITESPACE","\n        ",170],["T_CONSTANT_ENCAPSED_STRING","'tag'",171],["T_WHITESPACE"," ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_ARRAY","array",171],"(",["T_WHITESPACE","\n          ",171],["T_CONSTANT_ENCAPSED_STRING","'description'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'Namespace-prefixed tag string.'",172],",",["T_WHITESPACE","\n          ",172],["T_CONSTANT_ENCAPSED_STRING","'type'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'varchar_ascii'",173],",",["T_WHITESPACE","\n          ",173],["T_CONSTANT_ENCAPSED_STRING","'length'",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_LNUMBER","255",174],",",["T_WHITESPACE","\n          ",174],["T_CONSTANT_ENCAPSED_STRING","'not null'",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_STRING","TRUE",175],",",["T_WHITESPACE","\n          ",175],["T_CONSTANT_ENCAPSED_STRING","'default'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","''",176],",",["T_WHITESPACE","\n        ",176],")",",",["T_WHITESPACE","\n        ",177],["T_CONSTANT_ENCAPSED_STRING","'invalidations'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_ARRAY","array",178],"(",["T_WHITESPACE","\n          ",178],["T_CONSTANT_ENCAPSED_STRING","'description'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'Number incremented when the tag is invalidated.'",179],",",["T_WHITESPACE","\n          ",179],["T_CONSTANT_ENCAPSED_STRING","'type'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'int'",180],",",["T_WHITESPACE","\n          ",180],["T_CONSTANT_ENCAPSED_STRING","'not null'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_STRING","TRUE",181],",",["T_WHITESPACE","\n          ",181],["T_CONSTANT_ENCAPSED_STRING","'default'",182],["T_WHITESPACE"," ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_LNUMBER","0",182],",",["T_WHITESPACE","\n        ",182],")",",",["T_WHITESPACE","\n      ",183],")",",",["T_WHITESPACE","\n      ",184],["T_CONSTANT_ENCAPSED_STRING","'primary key'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_ARRAY","array",185],"(",["T_CONSTANT_ENCAPSED_STRING","'tag'",185],")",",",["T_WHITESPACE","\n    ",185],")",";",["T_WHITESPACE","\n    ",186],["T_RETURN","return",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$schema",187],";",["T_WHITESPACE","\n  ",187],"}",["T_WHITESPACE","\n\n  ",188],["T_DOC_COMMENT","\/**\n   * Act on an exception when cache might be stale.\n   *\n   * If the {cachetags} table does not yet exist, that's fine but if the table\n   * exists and yet the query failed, then the cache is stale and the\n   * exception needs to propagate.\n   *\n   * @param \\Exception $e\n   *   The exception.\n   *\n   * @throws \\Exception\n   *\/",190],["T_WHITESPACE","\n  ",201],["T_PROTECTED","protected",202],["T_WHITESPACE"," ",202],["T_FUNCTION","function",202],["T_WHITESPACE"," ",202],["T_STRING","catchException",202],"(",["T_NS_SEPARATOR","\\",202],["T_STRING","Exception",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$e",202],")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n    ",202],["T_IF","if",203],["T_WHITESPACE"," ",203],"(",["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","connection",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","schema",203],"(",")",["T_OBJECT_OPERATOR","->",203],["T_STRING","tableExists",203],"(",["T_CONSTANT_ENCAPSED_STRING","'cachetags'",203],")",")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n      ",203],["T_THROW","throw",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$e",204],";",["T_WHITESPACE","\n    ",204],"}",["T_WHITESPACE","\n  ",205],"}",["T_WHITESPACE","\n\n",206],"}",["T_WHITESPACE","\n",208]]