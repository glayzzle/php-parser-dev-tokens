[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Cache",3],";",["T_WHITESPACE","\n",3],["T_USE","use",4],["T_WHITESPACE"," ",4],["T_STRING","Drupal",4],["T_NS_SEPARATOR","\\",4],["T_STRING","Core",4],["T_NS_SEPARATOR","\\",4],["T_STRING","Site",4],["T_NS_SEPARATOR","\\",4],["T_STRING","Settings",4],";",["T_WHITESPACE","\n",4],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Symfony",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","DependencyInjection",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ContainerAwareTrait",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Defines the chained fast cache backend factory.\n *\/",7],["T_WHITESPACE","\n",9],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","ChainedFastBackendFactory",10],["T_WHITESPACE"," ",10],["T_IMPLEMENTS","implements",10],["T_WHITESPACE"," ",10],["T_STRING","CacheFactoryInterface",10],["T_WHITESPACE"," ",10],"{",["T_WHITESPACE","\n\n  ",10],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","ContainerAwareTrait",12],";",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * The service name of the consistent backend factory.\n   *\n   * @var string\n   *\/",14],["T_WHITESPACE","\n  ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$consistentServiceName",19],";",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * The service name of the fast backend factory.\n   *\n   * @var string\n   *\/",21],["T_WHITESPACE","\n  ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$fastServiceName",26],";",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * Constructs ChainedFastBackendFactory object.\n   *\n   * @param \\Drupal\\Core\\Site\\Settings|null $settings\n   *   (optional) The settings object.\n   * @param string|null $consistent_service_name\n   *   (optional) The service name of the consistent backend factory. Defaults\n   *   to:\n   *   - $settings->get('cache')['default'] (if specified)\n   *   - 'cache.backend.database' (if the above isn't specified)\n   * @param string|null $fast_service_name\n   *   (optional) The service name of the fast backend factory. Defaults to:\n   *   - 'cache.backend.apcu' (if the PHP process has APCu enabled)\n   *   - NULL (if the PHP process doesn't have APCu enabled)\n   *\/",28],["T_WHITESPACE","\n  ",42],["T_PUBLIC","public",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","__construct",43],"(",["T_STRING","Settings",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$settings",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_STRING","NULL",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$consistent_service_name",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_STRING","NULL",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$fast_service_name",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_STRING","NULL",43],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n    ",43],["T_COMMENT","\/\/ Default the consistent backend to the site's default backend.\n",44],["T_WHITESPACE","    ",45],["T_IF","if",45],["T_WHITESPACE"," ",45],"(","!",["T_ISSET","isset",45],"(",["T_VARIABLE","$consistent_service_name",45],")",")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n      ",45],["T_VARIABLE","$cache_settings",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_ISSET","isset",46],"(",["T_VARIABLE","$settings",46],")",["T_WHITESPACE"," ",46],"?",["T_WHITESPACE"," ",46],["T_VARIABLE","$settings",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","get",46],"(",["T_CONSTANT_ENCAPSED_STRING","'cache'",46],")",["T_WHITESPACE"," ",46],":",["T_WHITESPACE"," ",46],["T_ARRAY","array",46],"(",")",";",["T_WHITESPACE","\n      ",46],["T_VARIABLE","$consistent_service_name",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_ISSET","isset",47],"(",["T_VARIABLE","$cache_settings",47],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",47],"]",")",["T_WHITESPACE"," ",47],"?",["T_WHITESPACE"," ",47],["T_VARIABLE","$cache_settings",47],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",47],"]",["T_WHITESPACE"," ",47],":",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'cache.backend.database'",47],";",["T_WHITESPACE","\n    ",47],"}",["T_WHITESPACE","\n\n    ",48],["T_COMMENT","\/\/ Default the fast backend to APCu if it's available.\n",50],["T_WHITESPACE","    ",51],["T_IF","if",51],["T_WHITESPACE"," ",51],"(","!",["T_ISSET","isset",51],"(",["T_VARIABLE","$fast_service_name",51],")",["T_WHITESPACE"," ",51],["T_BOOLEAN_AND","&&",51],["T_WHITESPACE"," ",51],["T_STRING","function_exists",51],"(",["T_CONSTANT_ENCAPSED_STRING","'apcu_fetch'",51],")",")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n      ",51],["T_VARIABLE","$fast_service_name",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'cache.backend.apcu'",52],";",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n\n    ",53],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","consistentServiceName",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$consistent_service_name",55],";",["T_WHITESPACE","\n\n    ",55],["T_COMMENT","\/\/ Do not use the fast chained backend during installation. In those cases,\n",57],["T_WHITESPACE","    ",58],["T_COMMENT","\/\/ we expect many cache invalidations and writes, the fast chained cache\n",58],["T_WHITESPACE","    ",59],["T_COMMENT","\/\/ backend performs badly in such a scenario.\n",59],["T_WHITESPACE","    ",60],["T_IF","if",60],["T_WHITESPACE"," ",60],"(","!",["T_STRING","drupal_installation_attempted",60],"(",")",")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n      ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","fastServiceName",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$fast_service_name",61],";",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n  ",62],"}",["T_WHITESPACE","\n\n  ",63],["T_DOC_COMMENT","\/**\n   * Instantiates a chained, fast cache backend class for a given cache bin.\n   *\n   * @param string $bin\n   *   The cache bin for which a cache backend object should be returned.\n   *\n   * @return \\Drupal\\Core\\Cache\\CacheBackendInterface\n   *   The cache backend object associated with the specified bin.\n   *\/",65],["T_WHITESPACE","\n  ",73],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","get",74],"(",["T_VARIABLE","$bin",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n    ",74],["T_COMMENT","\/\/ Use the chained backend only if there is a fast backend available;\n",75],["T_WHITESPACE","    ",76],["T_COMMENT","\/\/ otherwise, just return the consistent backend directly.\n",76],["T_WHITESPACE","    ",77],["T_IF","if",77],["T_WHITESPACE"," ",77],"(",["T_ISSET","isset",77],"(",["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","fastServiceName",77],")",")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n      ",77],["T_RETURN","return",78],["T_WHITESPACE"," ",78],["T_NEW","new",78],["T_WHITESPACE"," ",78],["T_STRING","ChainedFastBackend",78],"(",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","container",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","get",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","consistentServiceName",79],")",["T_OBJECT_OPERATOR","->",79],["T_STRING","get",79],"(",["T_VARIABLE","$bin",79],")",",",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","container",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","get",80],"(",["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","fastServiceName",80],")",["T_OBJECT_OPERATOR","->",80],["T_STRING","get",80],"(",["T_VARIABLE","$bin",80],")",",",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$bin",81],["T_WHITESPACE","\n      ",81],")",";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n    ",83],["T_ELSE","else",84],["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n      ",84],["T_RETURN","return",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","container",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","get",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","consistentServiceName",85],")",["T_OBJECT_OPERATOR","->",85],["T_STRING","get",85],"(",["T_VARIABLE","$bin",85],")",";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n  ",86],"}",["T_WHITESPACE","\n\n",87],"}",["T_WHITESPACE","\n",89]]