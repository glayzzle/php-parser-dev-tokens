[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Cache",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Defines a memory cache implementation that counts set and get calls.\n *\n * This can be used to mock a cache backend where one needs to know how\n * many times a cache entry was set or requested.\n *\n * @todo On the longrun this backend should be replaced by phpunit mock objects.\n *\/",5],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","MemoryCounterBackend",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","MemoryBackend",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * Stores a list of cache cid calls keyed by function name.\n   *\n   * @var array\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$counter",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_ARRAY","array",20],"(",")",";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",22],["T_WHITESPACE","\n  ",24],["T_PUBLIC","public",25],["T_WHITESPACE"," ",25],["T_FUNCTION","function",25],["T_WHITESPACE"," ",25],["T_STRING","get",25],"(",["T_VARIABLE","$cid",25],",",["T_WHITESPACE"," ",25],["T_VARIABLE","$allow_invalid",25],["T_WHITESPACE"," ",25],"=",["T_WHITESPACE"," ",25],["T_STRING","FALSE",25],")",["T_WHITESPACE"," ",25],"{",["T_WHITESPACE","\n    ",25],["T_VARIABLE","$this",26],["T_OBJECT_OPERATOR","->",26],["T_STRING","increaseCounter",26],"(",["T_FUNC_C","__FUNCTION__",26],",",["T_WHITESPACE"," ",26],["T_VARIABLE","$cid",26],")",";",["T_WHITESPACE","\n    ",26],["T_RETURN","return",27],["T_WHITESPACE"," ",27],["T_STRING","parent",27],["T_DOUBLE_COLON","::",27],["T_STRING","get",27],"(",["T_VARIABLE","$cid",27],",",["T_WHITESPACE"," ",27],["T_VARIABLE","$allow_invalid",27],")",";",["T_WHITESPACE","\n  ",27],"}",["T_WHITESPACE","\n\n  ",28],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",30],["T_WHITESPACE","\n  ",32],["T_PUBLIC","public",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","set",33],"(",["T_VARIABLE","$cid",33],",",["T_WHITESPACE"," ",33],["T_VARIABLE","$data",33],",",["T_WHITESPACE"," ",33],["T_VARIABLE","$expire",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_STRING","Cache",33],["T_DOUBLE_COLON","::",33],["T_STRING","PERMANENT",33],",",["T_WHITESPACE"," ",33],["T_ARRAY","array",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$tags",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_ARRAY","array",33],"(",")",")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n    ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","increaseCounter",34],"(",["T_FUNC_C","__FUNCTION__",34],",",["T_WHITESPACE"," ",34],["T_VARIABLE","$cid",34],")",";",["T_WHITESPACE","\n    ",34],["T_STRING","parent",35],["T_DOUBLE_COLON","::",35],["T_STRING","set",35],"(",["T_VARIABLE","$cid",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$data",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$expire",35],",",["T_WHITESPACE"," ",35],["T_VARIABLE","$tags",35],")",";",["T_WHITESPACE","\n  ",35],"}",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",38],["T_WHITESPACE","\n  ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","delete",41],"(",["T_VARIABLE","$cid",41],")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","increaseCounter",42],"(",["T_FUNC_C","__FUNCTION__",42],",",["T_WHITESPACE"," ",42],["T_VARIABLE","$cid",42],")",";",["T_WHITESPACE","\n    ",42],["T_STRING","parent",43],["T_DOUBLE_COLON","::",43],["T_STRING","delete",43],"(",["T_VARIABLE","$cid",43],")",";",["T_WHITESPACE","\n  ",43],"}",["T_WHITESPACE","\n\n  ",44],["T_DOC_COMMENT","\/**\n   * Increase the counter for a function with a certain cid.\n   *\n   * @param string $function\n   *   The called function.\n   * @param string $cid\n   *   The cache ID of the cache entry to increase the counter.\n   *\/",46],["T_WHITESPACE","\n  ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","increaseCounter",54],"(",["T_VARIABLE","$function",54],",",["T_WHITESPACE"," ",54],["T_VARIABLE","$cid",54],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n    ",54],["T_IF","if",55],["T_WHITESPACE"," ",55],"(","!",["T_ISSET","isset",55],"(",["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","counter",55],"[",["T_VARIABLE","$function",55],"]","[",["T_VARIABLE","$cid",55],"]",")",")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n      ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","counter",56],"[",["T_VARIABLE","$function",56],"]","[",["T_VARIABLE","$cid",56],"]",["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_LNUMBER","1",56],";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n    ",57],["T_ELSE","else",58],["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n      ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","counter",59],"[",["T_VARIABLE","$function",59],"]","[",["T_VARIABLE","$cid",59],"]",["T_INC","++",59],";",["T_WHITESPACE","\n    ",59],"}",["T_WHITESPACE","\n  ",60],"}",["T_WHITESPACE","\n\n  ",61],["T_DOC_COMMENT","\/**\n   * Returns the call counter for the get, set and delete methods.\n   *\n   * @param string $method\n   *   (optional) The name of the method to return the call counter for.\n   * @param string $cid\n   *   (optional) The name of the cache id to return the call counter for.\n   *\n   * @return int|array\n   *   An integer if both method and cid is given, an array otherwise.\n   *\/",63],["T_WHITESPACE","\n  ",73],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","getCounter",74],"(",["T_VARIABLE","$method",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","NULL",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$cid",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","NULL",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n    ",74],["T_IF","if",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$method",75],["T_WHITESPACE"," ",75],["T_BOOLEAN_AND","&&",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$cid",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n      ",75],["T_RETURN","return",76],["T_WHITESPACE"," ",76],["T_ISSET","isset",76],"(",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","counter",76],"[",["T_VARIABLE","$method",76],"]","[",["T_VARIABLE","$cid",76],"]",")",["T_WHITESPACE"," ",76],"?",["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","counter",76],"[",["T_VARIABLE","$method",76],"]","[",["T_VARIABLE","$cid",76],"]",["T_WHITESPACE"," ",76],":",["T_WHITESPACE"," ",76],["T_LNUMBER","0",76],";",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n    ",77],["T_ELSEIF","elseif",78],["T_WHITESPACE"," ",78],"(",["T_VARIABLE","$method",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n      ",78],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_ISSET","isset",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","counter",79],"[",["T_VARIABLE","$method",79],"]",")",["T_WHITESPACE"," ",79],"?",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","counter",79],"[",["T_VARIABLE","$method",79],"]",["T_WHITESPACE"," ",79],":",["T_WHITESPACE"," ",79],["T_ARRAY","array",79],"(",")",";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n    ",80],["T_ELSE","else",81],["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n      ",81],["T_RETURN","return",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","counter",82],";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n  ",83],"}",["T_WHITESPACE","\n\n  ",84],["T_DOC_COMMENT","\/**\n   * Resets the call counter.\n   *\/",86],["T_WHITESPACE","\n  ",88],["T_PUBLIC","public",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","resetCounter",89],"(",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n    ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","counter",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_ARRAY","array",90],"(",")",";",["T_WHITESPACE","\n  ",90],"}",["T_WHITESPACE","\n\n",91],"}",["T_WHITESPACE","\n",93]]