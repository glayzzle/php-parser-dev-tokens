[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Logger",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Parses log messages and their placeholders.\n *\/",5],["T_WHITESPACE","\n",7],["T_CLASS","class",8],["T_WHITESPACE"," ",8],["T_STRING","LogMessageParser",8],["T_WHITESPACE"," ",8],["T_IMPLEMENTS","implements",8],["T_WHITESPACE"," ",8],["T_STRING","LogMessageParserInterface",8],["T_WHITESPACE"," ",8],"{",["T_WHITESPACE","\n\n  ",8],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",10],["T_WHITESPACE","\n  ",12],["T_PUBLIC","public",13],["T_WHITESPACE"," ",13],["T_FUNCTION","function",13],["T_WHITESPACE"," ",13],["T_STRING","parseMessagePlaceholders",13],"(","&",["T_VARIABLE","$message",13],",",["T_WHITESPACE"," ",13],["T_ARRAY","array",13],["T_WHITESPACE"," ",13],"&",["T_VARIABLE","$context",13],")",["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n    ",13],["T_VARIABLE","$variables",14],["T_WHITESPACE"," ",14],"=",["T_WHITESPACE"," ",14],["T_ARRAY","array",14],"(",")",";",["T_WHITESPACE","\n    ",14],["T_VARIABLE","$has_psr3",15],["T_WHITESPACE"," ",15],"=",["T_WHITESPACE"," ",15],["T_STRING","FALSE",15],";",["T_WHITESPACE","\n    ",15],["T_IF","if",16],["T_WHITESPACE"," ",16],"(","(",["T_VARIABLE","$start",16],["T_WHITESPACE"," ",16],"=",["T_WHITESPACE"," ",16],["T_STRING","strpos",16],"(",["T_VARIABLE","$message",16],",",["T_WHITESPACE"," ",16],["T_CONSTANT_ENCAPSED_STRING","'{'",16],")",")",["T_WHITESPACE"," ",16],["T_IS_NOT_IDENTICAL","!==",16],["T_WHITESPACE"," ",16],["T_STRING","FALSE",16],["T_WHITESPACE"," ",16],["T_BOOLEAN_AND","&&",16],["T_WHITESPACE"," ",16],["T_STRING","strpos",16],"(",["T_VARIABLE","$message",16],",",["T_WHITESPACE"," ",16],["T_CONSTANT_ENCAPSED_STRING","'}'",16],")",["T_WHITESPACE"," ",16],">",["T_WHITESPACE"," ",16],["T_VARIABLE","$start",16],")",["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n      ",16],["T_VARIABLE","$has_psr3",17],["T_WHITESPACE"," ",17],"=",["T_WHITESPACE"," ",17],["T_STRING","TRUE",17],";",["T_WHITESPACE","\n      ",17],["T_COMMENT","\/\/ Transform PSR3 style messages containing placeholders to\n",18],["T_WHITESPACE","      ",19],["T_COMMENT","\/\/ \\Drupal\\Component\\Utility\\SafeMarkup::format() style.\n",19],["T_WHITESPACE","      ",20],["T_VARIABLE","$message",20],["T_WHITESPACE"," ",20],"=",["T_WHITESPACE"," ",20],["T_STRING","preg_replace",20],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\{(.*)\\}\/U'",20],",",["T_WHITESPACE"," ",20],["T_CONSTANT_ENCAPSED_STRING","'@$1'",20],",",["T_WHITESPACE"," ",20],["T_VARIABLE","$message",20],")",";",["T_WHITESPACE","\n    ",20],"}",["T_WHITESPACE","\n    ",21],["T_FOREACH","foreach",22],["T_WHITESPACE"," ",22],"(",["T_VARIABLE","$context",22],["T_WHITESPACE"," ",22],["T_AS","as",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$key",22],["T_WHITESPACE"," ",22],["T_DOUBLE_ARROW","=>",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$variable",22],")",["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n      ",22],["T_COMMENT","\/\/ PSR3 style placeholders.\n",23],["T_WHITESPACE","      ",24],["T_IF","if",24],["T_WHITESPACE"," ",24],"(",["T_VARIABLE","$has_psr3",24],")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n        ",24],["T_COMMENT","\/\/ Keys are not prefixed with anything according to PSR3 specs.\n",25],["T_WHITESPACE","        ",26],["T_COMMENT","\/\/ If the message is \"User {username} created\" the variable key will be\n",26],["T_WHITESPACE","        ",27],["T_COMMENT","\/\/ just \"username\".\n",27],["T_WHITESPACE","        ",28],["T_IF","if",28],["T_WHITESPACE"," ",28],"(",["T_STRING","strpos",28],"(",["T_VARIABLE","$message",28],",",["T_WHITESPACE"," ",28],["T_CONSTANT_ENCAPSED_STRING","'@'",28],["T_WHITESPACE"," ",28],".",["T_WHITESPACE"," ",28],["T_VARIABLE","$key",28],")",["T_WHITESPACE"," ",28],["T_IS_NOT_IDENTICAL","!==",28],["T_WHITESPACE"," ",28],["T_STRING","FALSE",28],")",["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n          ",28],["T_VARIABLE","$key",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_CONSTANT_ENCAPSED_STRING","'@'",29],["T_WHITESPACE"," ",29],".",["T_WHITESPACE"," ",29],["T_VARIABLE","$key",29],";",["T_WHITESPACE","\n        ",29],"}",["T_WHITESPACE","\n      ",30],"}",["T_WHITESPACE","\n      ",31],["T_IF","if",32],["T_WHITESPACE"," ",32],"(","!",["T_EMPTY","empty",32],"(",["T_VARIABLE","$key",32],")",["T_WHITESPACE"," ",32],["T_BOOLEAN_AND","&&",32],["T_WHITESPACE"," ",32],"(",["T_VARIABLE","$key",32],"[",["T_LNUMBER","0",32],"]",["T_WHITESPACE"," ",32],["T_IS_IDENTICAL","===",32],["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'@'",32],["T_WHITESPACE"," ",32],["T_BOOLEAN_OR","||",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$key",32],"[",["T_LNUMBER","0",32],"]",["T_WHITESPACE"," ",32],["T_IS_IDENTICAL","===",32],["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'%'",32],["T_WHITESPACE"," ",32],["T_BOOLEAN_OR","||",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$key",32],"[",["T_LNUMBER","0",32],"]",["T_WHITESPACE"," ",32],["T_IS_IDENTICAL","===",32],["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'!'",32],")",")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n        ",32],["T_COMMENT","\/\/ The key is now in \\Drupal\\Component\\Utility\\SafeMarkup::format() style.\n",33],["T_WHITESPACE","        ",34],["T_VARIABLE","$variables",34],"[",["T_VARIABLE","$key",34],"]",["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_VARIABLE","$variable",34],";",["T_WHITESPACE","\n      ",34],"}",["T_WHITESPACE","\n    ",35],"}",["T_WHITESPACE","\n\n    ",36],["T_RETURN","return",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$variables",38],";",["T_WHITESPACE","\n  ",38],"}",["T_WHITESPACE","\n\n",39],"}",["T_WHITESPACE","\n",41]]