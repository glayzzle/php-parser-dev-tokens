[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Config",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Crypt",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Utility",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Unicode",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Config",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","ConfigDependencyManager",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Config",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ConfigEntityDependency",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Site",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Settings",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Symfony",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Component",10],["T_NS_SEPARATOR","\\",10],["T_STRING","EventDispatcher",10],["T_NS_SEPARATOR","\\",10],["T_STRING","EventDispatcherInterface",10],";",["T_WHITESPACE","\n\n",10],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","ConfigInstaller",12],["T_WHITESPACE"," ",12],["T_IMPLEMENTS","implements",12],["T_WHITESPACE"," ",12],["T_STRING","ConfigInstallerInterface",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * The configuration factory.\n   *\n   * @var \\Drupal\\Core\\Config\\ConfigFactoryInterface\n   *\/",14],["T_WHITESPACE","\n  ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$configFactory",19],";",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * The active configuration storages, keyed by collection.\n   *\n   * @var \\Drupal\\Core\\Config\\StorageInterface[]\n   *\/",21],["T_WHITESPACE","\n  ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$activeStorages",26],";",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * The typed configuration manager.\n   *\n   * @var \\Drupal\\Core\\Config\\TypedConfigManagerInterface\n   *\/",28],["T_WHITESPACE","\n  ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$typedConfig",33],";",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * The configuration manager.\n   *\n   * @var \\Drupal\\Core\\Config\\ConfigManagerInterface\n   *\/",35],["T_WHITESPACE","\n  ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$configManager",40],";",["T_WHITESPACE","\n\n  ",40],["T_DOC_COMMENT","\/**\n   * The event dispatcher.\n   *\n   * @var \\Symfony\\Component\\EventDispatcher\\EventDispatcherInterface\n   *\/",42],["T_WHITESPACE","\n  ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$eventDispatcher",47],";",["T_WHITESPACE","\n\n  ",47],["T_DOC_COMMENT","\/**\n   * The configuration storage that provides the default configuration.\n   *\n   * @var \\Drupal\\Core\\Config\\StorageInterface\n   *\/",49],["T_WHITESPACE","\n  ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$sourceStorage",54],";",["T_WHITESPACE","\n\n  ",54],["T_DOC_COMMENT","\/**\n   * Is configuration being created as part of a configuration sync.\n   *\n   * @var bool\n   *\/",56],["T_WHITESPACE","\n  ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$isSyncing",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","FALSE",61],";",["T_WHITESPACE","\n\n  ",61],["T_DOC_COMMENT","\/**\n   * Constructs the configuration installer.\n   *\n   * @param \\Drupal\\Core\\Config\\ConfigFactoryInterface $config_factory\n   *   The configuration factory.\n   * @param \\Drupal\\Core\\Config\\StorageInterface $active_storage\n   *   The active configuration storage.\n   * @param \\Drupal\\Core\\Config\\TypedConfigManagerInterface $typed_config\n   *   The typed configuration manager.\n   * @param \\Drupal\\Core\\Config\\ConfigManagerInterface $config_manager\n   *   The configuration manager.\n   * @param \\Symfony\\Component\\EventDispatcher\\EventDispatcherInterface $event_dispatcher\n   *   The event dispatcher.\n   *\/",63],["T_WHITESPACE","\n  ",76],["T_PUBLIC","public",77],["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","__construct",77],"(",["T_STRING","ConfigFactoryInterface",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$config_factory",77],",",["T_WHITESPACE"," ",77],["T_STRING","StorageInterface",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$active_storage",77],",",["T_WHITESPACE"," ",77],["T_STRING","TypedConfigManagerInterface",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$typed_config",77],",",["T_WHITESPACE"," ",77],["T_STRING","ConfigManagerInterface",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$config_manager",77],",",["T_WHITESPACE"," ",77],["T_STRING","EventDispatcherInterface",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$event_dispatcher",77],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","configFactory",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$config_factory",78],";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","activeStorages",79],"[",["T_VARIABLE","$active_storage",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getCollectionName",79],"(",")","]",["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$active_storage",79],";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","typedConfig",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$typed_config",80],";",["T_WHITESPACE","\n    ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","configManager",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$config_manager",81],";",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","eventDispatcher",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$event_dispatcher",82],";",["T_WHITESPACE","\n  ",82],"}",["T_WHITESPACE","\n\n  ",83],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",85],["T_WHITESPACE","\n  ",87],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","installDefaultConfig",88],"(",["T_VARIABLE","$type",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$name",88],")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$extension_path",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","drupalGetPath",89],"(",["T_VARIABLE","$type",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$name",89],")",";",["T_WHITESPACE","\n    ",89],["T_COMMENT","\/\/ Refresh the schema cache if the extension provides configuration schema\n",90],["T_WHITESPACE","    ",91],["T_COMMENT","\/\/ or is a theme.\n",91],["T_WHITESPACE","    ",92],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_STRING","is_dir",92],"(",["T_VARIABLE","$extension_path",92],["T_WHITESPACE"," ",92],".",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'\/'",92],["T_WHITESPACE"," ",92],".",["T_WHITESPACE"," ",92],["T_STRING","InstallStorage",92],["T_DOUBLE_COLON","::",92],["T_STRING","CONFIG_SCHEMA_DIRECTORY",92],")",["T_WHITESPACE"," ",92],["T_BOOLEAN_OR","||",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$type",92],["T_WHITESPACE"," ",92],["T_IS_EQUAL","==",92],["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'theme'",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n      ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","typedConfig",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","clearCachedDefinitions",93],"(",")",";",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE","\n\n    ",94],["T_VARIABLE","$default_install_path",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getDefaultConfigDirectory",96],"(",["T_VARIABLE","$type",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$name",96],")",";",["T_WHITESPACE","\n    ",96],["T_IF","if",97],["T_WHITESPACE"," ",97],"(",["T_STRING","is_dir",97],"(",["T_VARIABLE","$default_install_path",97],")",")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n      ",97],["T_IF","if",98],["T_WHITESPACE"," ",98],"(","!",["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","isSyncing",98],"(",")",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$storage",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_NEW","new",99],["T_WHITESPACE"," ",99],["T_STRING","FileStorage",99],"(",["T_VARIABLE","$default_install_path",99],",",["T_WHITESPACE"," ",99],["T_STRING","StorageInterface",99],["T_DOUBLE_COLON","::",99],["T_STRING","DEFAULT_COLLECTION",99],")",";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$prefix",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","''",100],";",["T_WHITESPACE","\n      ",100],"}",["T_WHITESPACE","\n      ",101],["T_ELSE","else",102],["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n        ",102],["T_COMMENT","\/\/ The configuration importer sets the source storage on the config\n",103],["T_WHITESPACE","        ",104],["T_COMMENT","\/\/ installer. The configuration importer handles all of the\n",104],["T_WHITESPACE","        ",105],["T_COMMENT","\/\/ configuration entity imports. We only need to ensure that simple\n",105],["T_WHITESPACE","        ",106],["T_COMMENT","\/\/ configuration is created when the extension is installed.\n",106],["T_WHITESPACE","        ",107],["T_VARIABLE","$storage",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getSourceStorage",107],"(",")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$prefix",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$name",108],["T_WHITESPACE"," ",108],".",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'.'",108],";",["T_WHITESPACE","\n      ",108],"}",["T_WHITESPACE","\n\n      ",109],["T_COMMENT","\/\/ Gets profile storages to search for overrides if necessary.\n",111],["T_WHITESPACE","      ",112],["T_VARIABLE","$profile_storages",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getProfileStorages",112],"(",["T_VARIABLE","$name",112],")",";",["T_WHITESPACE","\n\n      ",112],["T_COMMENT","\/\/ Gather information about all the supported collections.\n",114],["T_WHITESPACE","      ",115],["T_VARIABLE","$collection_info",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","configManager",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getConfigCollectionInfo",115],"(",")",";",["T_WHITESPACE","\n      ",115],["T_FOREACH","foreach",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$collection_info",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getCollectionNames",116],"(",")",["T_WHITESPACE"," ",116],["T_AS","as",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$collection",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$config_to_create",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getConfigToCreate",117],"(",["T_VARIABLE","$storage",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$collection",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$prefix",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$profile_storages",117],")",";",["T_WHITESPACE","\n        ",117],["T_COMMENT","\/\/ If we're installing a profile ensure configuration that is overriding\n",118],["T_WHITESPACE","        ",119],["T_COMMENT","\/\/ is excluded.\n",119],["T_WHITESPACE","        ",120],["T_IF","if",120],["T_WHITESPACE"," ",120],"(",["T_VARIABLE","$name",120],["T_WHITESPACE"," ",120],["T_IS_EQUAL","==",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","drupalGetProfile",120],"(",")",")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n          ",120],["T_VARIABLE","$existing_configuration",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getActiveStorages",121],"(",["T_VARIABLE","$collection",121],")",["T_OBJECT_OPERATOR","->",121],["T_STRING","listAll",121],"(",")",";",["T_WHITESPACE","\n          ",121],["T_VARIABLE","$config_to_create",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_STRING","array_diff_key",122],"(",["T_VARIABLE","$config_to_create",122],",",["T_WHITESPACE"," ",122],["T_STRING","array_flip",122],"(",["T_VARIABLE","$existing_configuration",122],")",")",";",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE","\n        ",123],["T_IF","if",124],["T_WHITESPACE"," ",124],"(","!",["T_EMPTY","empty",124],"(",["T_VARIABLE","$config_to_create",124],")",")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n          ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","createConfiguration",125],"(",["T_VARIABLE","$collection",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$config_to_create",125],")",";",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE","\n      ",126],"}",["T_WHITESPACE","\n    ",127],"}",["T_WHITESPACE","\n\n    ",128],["T_COMMENT","\/\/ During a drupal installation optional configuration is installed at the\n",130],["T_WHITESPACE","    ",131],["T_COMMENT","\/\/ end of the installation process.\n",131],["T_WHITESPACE","    ",132],["T_COMMENT","\/\/ @see install_install_profile()\n",132],["T_WHITESPACE","    ",133],["T_IF","if",133],["T_WHITESPACE"," ",133],"(","!",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","isSyncing",133],"(",")",["T_WHITESPACE"," ",133],["T_BOOLEAN_AND","&&",133],["T_WHITESPACE"," ",133],"!",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","drupalInstallationAttempted",133],"(",")",")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n      ",133],["T_VARIABLE","$optional_install_path",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$extension_path",134],["T_WHITESPACE"," ",134],".",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'\/'",134],["T_WHITESPACE"," ",134],".",["T_WHITESPACE"," ",134],["T_STRING","InstallStorage",134],["T_DOUBLE_COLON","::",134],["T_STRING","CONFIG_OPTIONAL_DIRECTORY",134],";",["T_WHITESPACE","\n      ",134],["T_IF","if",135],["T_WHITESPACE"," ",135],"(",["T_STRING","is_dir",135],"(",["T_VARIABLE","$optional_install_path",135],")",")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n        ",135],["T_COMMENT","\/\/ Install any optional config the module provides.\n",136],["T_WHITESPACE","        ",137],["T_VARIABLE","$storage",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_NEW","new",137],["T_WHITESPACE"," ",137],["T_STRING","FileStorage",137],"(",["T_VARIABLE","$optional_install_path",137],",",["T_WHITESPACE"," ",137],["T_STRING","StorageInterface",137],["T_DOUBLE_COLON","::",137],["T_STRING","DEFAULT_COLLECTION",137],")",";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","installOptionalConfig",138],"(",["T_VARIABLE","$storage",138],",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","''",138],")",";",["T_WHITESPACE","\n      ",138],"}",["T_WHITESPACE","\n      ",139],["T_COMMENT","\/\/ Install any optional configuration entities whose dependencies can now\n",140],["T_WHITESPACE","      ",141],["T_COMMENT","\/\/ be met. This searches all the installed modules config\/optional\n",141],["T_WHITESPACE","      ",142],["T_COMMENT","\/\/ directories.\n",142],["T_WHITESPACE","      ",143],["T_VARIABLE","$storage",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_NEW","new",143],["T_WHITESPACE"," ",143],["T_STRING","ExtensionInstallStorage",143],"(",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getActiveStorages",143],"(",["T_STRING","StorageInterface",143],["T_DOUBLE_COLON","::",143],["T_STRING","DEFAULT_COLLECTION",143],")",",",["T_WHITESPACE"," ",143],["T_STRING","InstallStorage",143],["T_DOUBLE_COLON","::",143],["T_STRING","CONFIG_OPTIONAL_DIRECTORY",143],",",["T_WHITESPACE"," ",143],["T_STRING","StorageInterface",143],["T_DOUBLE_COLON","::",143],["T_STRING","DEFAULT_COLLECTION",143],",",["T_WHITESPACE"," ",143],["T_STRING","FALSE",143],")",";",["T_WHITESPACE","\n      ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","installOptionalConfig",144],"(",["T_VARIABLE","$storage",144],",",["T_WHITESPACE"," ",144],"[",["T_VARIABLE","$type",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$name",144],"]",")",";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n\n    ",145],["T_COMMENT","\/\/ Reset all the static caches and list caches.\n",147],["T_WHITESPACE","    ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","configFactory",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","reset",148],"(",")",";",["T_WHITESPACE","\n  ",148],"}",["T_WHITESPACE","\n\n  ",149],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",151],["T_WHITESPACE","\n  ",153],["T_PUBLIC","public",154],["T_WHITESPACE"," ",154],["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],["T_STRING","installOptionalConfig",154],"(",["T_STRING","StorageInterface",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$storage",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","NULL",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$dependency",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],"[","]",")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n    ",154],["T_VARIABLE","$profile",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","drupalGetProfile",155],"(",")",";",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$optional_profile_config",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],"[","]",";",["T_WHITESPACE","\n    ",156],["T_IF","if",157],["T_WHITESPACE"," ",157],"(","!",["T_VARIABLE","$storage",157],")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n      ",157],["T_COMMENT","\/\/ Search the install profile's optional configuration too.\n",158],["T_WHITESPACE","      ",159],["T_VARIABLE","$storage",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_NEW","new",159],["T_WHITESPACE"," ",159],["T_STRING","ExtensionInstallStorage",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getActiveStorages",159],"(",["T_STRING","StorageInterface",159],["T_DOUBLE_COLON","::",159],["T_STRING","DEFAULT_COLLECTION",159],")",",",["T_WHITESPACE"," ",159],["T_STRING","InstallStorage",159],["T_DOUBLE_COLON","::",159],["T_STRING","CONFIG_OPTIONAL_DIRECTORY",159],",",["T_WHITESPACE"," ",159],["T_STRING","StorageInterface",159],["T_DOUBLE_COLON","::",159],["T_STRING","DEFAULT_COLLECTION",159],",",["T_WHITESPACE"," ",159],["T_STRING","TRUE",159],")",";",["T_WHITESPACE","\n      ",159],["T_COMMENT","\/\/ The extension install storage ensures that overrides are used.\n",160],["T_WHITESPACE","      ",161],["T_VARIABLE","$profile_storage",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_STRING","NULL",161],";",["T_WHITESPACE","\n    ",161],"}",["T_WHITESPACE","\n    ",162],["T_ELSEIF","elseif",163],["T_WHITESPACE"," ",163],"(",["T_ISSET","isset",163],"(",["T_VARIABLE","$profile",163],")",")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n      ",163],["T_COMMENT","\/\/ Creates a profile storage to search for overrides.\n",164],["T_WHITESPACE","      ",165],["T_VARIABLE","$profile_install_path",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","drupalGetPath",165],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$profile",165],")",["T_WHITESPACE"," ",165],".",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'\/'",165],["T_WHITESPACE"," ",165],".",["T_WHITESPACE"," ",165],["T_STRING","InstallStorage",165],["T_DOUBLE_COLON","::",165],["T_STRING","CONFIG_OPTIONAL_DIRECTORY",165],";",["T_WHITESPACE","\n      ",165],["T_VARIABLE","$profile_storage",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_NEW","new",166],["T_WHITESPACE"," ",166],["T_STRING","FileStorage",166],"(",["T_VARIABLE","$profile_install_path",166],",",["T_WHITESPACE"," ",166],["T_STRING","StorageInterface",166],["T_DOUBLE_COLON","::",166],["T_STRING","DEFAULT_COLLECTION",166],")",";",["T_WHITESPACE","\n      ",166],["T_VARIABLE","$optional_profile_config",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$profile_storage",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","listAll",167],"(",")",";",["T_WHITESPACE","\n    ",167],"}",["T_WHITESPACE","\n    ",168],["T_ELSE","else",169],["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n      ",169],["T_COMMENT","\/\/ Profile has not been set yet. For example during the first steps of the\n",170],["T_WHITESPACE","      ",171],["T_COMMENT","\/\/ installer or during unit tests.\n",171],["T_WHITESPACE","      ",172],["T_VARIABLE","$profile_storage",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_STRING","NULL",172],";",["T_WHITESPACE","\n    ",172],"}",["T_WHITESPACE","\n\n    ",173],["T_VARIABLE","$enabled_extensions",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getEnabledExtensions",175],"(",")",";",["T_WHITESPACE","\n    ",175],["T_VARIABLE","$existing_config",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getActiveStorages",176],"(",")",["T_OBJECT_OPERATOR","->",176],["T_STRING","listAll",176],"(",")",";",["T_WHITESPACE","\n\n    ",176],["T_VARIABLE","$list",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_STRING","array_unique",178],"(",["T_STRING","array_merge",178],"(",["T_VARIABLE","$storage",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","listAll",178],"(",")",",",["T_WHITESPACE"," ",178],["T_VARIABLE","$optional_profile_config",178],")",")",";",["T_WHITESPACE","\n    ",178],["T_VARIABLE","$list",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_STRING","array_filter",179],"(",["T_VARIABLE","$list",179],",",["T_WHITESPACE"," ",179],["T_FUNCTION","function",179],"(",["T_VARIABLE","$config_name",179],")",["T_WHITESPACE"," ",179],["T_USE","use",179],["T_WHITESPACE"," ",179],"(",["T_VARIABLE","$existing_config",179],")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n      ",179],["T_COMMENT","\/\/ Only list configuration that:\n",180],["T_WHITESPACE","      ",181],["T_COMMENT","\/\/ - does not already exist\n",181],["T_WHITESPACE","      ",182],["T_COMMENT","\/\/ - is a configuration entity (this also excludes config that has an\n",182],["T_WHITESPACE","      ",183],["T_COMMENT","\/\/   implicit dependency on modules that are not yet installed)\n",183],["T_WHITESPACE","      ",184],["T_RETURN","return",184],["T_WHITESPACE"," ",184],"!",["T_STRING","in_array",184],"(",["T_VARIABLE","$config_name",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$existing_config",184],")",["T_WHITESPACE"," ",184],["T_BOOLEAN_AND","&&",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","configManager",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getEntityTypeIdByName",184],"(",["T_VARIABLE","$config_name",184],")",";",["T_WHITESPACE","\n    ",184],"}",")",";",["T_WHITESPACE","\n\n    ",185],["T_VARIABLE","$all_config",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_STRING","array_merge",187],"(",["T_VARIABLE","$existing_config",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$list",187],")",";",["T_WHITESPACE","\n    ",187],["T_VARIABLE","$all_config",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_STRING","array_combine",188],"(",["T_VARIABLE","$all_config",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$all_config",188],")",";",["T_WHITESPACE","\n    ",188],["T_VARIABLE","$config_to_create",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$storage",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","readMultiple",189],"(",["T_VARIABLE","$list",189],")",";",["T_WHITESPACE","\n    ",189],["T_COMMENT","\/\/ Check to see if the corresponding override storage has any overrides or\n",190],["T_WHITESPACE","    ",191],["T_COMMENT","\/\/ new configuration that can be installed.\n",191],["T_WHITESPACE","    ",192],["T_IF","if",192],["T_WHITESPACE"," ",192],"(",["T_VARIABLE","$profile_storage",192],")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n      ",192],["T_VARIABLE","$config_to_create",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$profile_storage",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","readMultiple",193],"(",["T_VARIABLE","$list",193],")",["T_WHITESPACE"," ",193],"+",["T_WHITESPACE"," ",193],["T_VARIABLE","$config_to_create",193],";",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n    ",194],["T_COMMENT","\/\/ Sort $config_to_create in the order of the least dependent first.\n",195],["T_WHITESPACE","    ",196],["T_VARIABLE","$dependency_manager",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_NEW","new",196],["T_WHITESPACE"," ",196],["T_STRING","ConfigDependencyManager",196],"(",")",";",["T_WHITESPACE","\n    ",196],["T_VARIABLE","$dependency_manager",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","setData",197],"(",["T_VARIABLE","$config_to_create",197],")",";",["T_WHITESPACE","\n    ",197],["T_VARIABLE","$config_to_create",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_STRING","array_merge",198],"(",["T_STRING","array_flip",198],"(",["T_VARIABLE","$dependency_manager",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","sortAll",198],"(",")",")",",",["T_WHITESPACE"," ",198],["T_VARIABLE","$config_to_create",198],")",";",["T_WHITESPACE","\n\n    ",198],["T_FOREACH","foreach",200],["T_WHITESPACE"," ",200],"(",["T_VARIABLE","$config_to_create",200],["T_WHITESPACE"," ",200],["T_AS","as",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$config_name",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$data",200],")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n      ",200],["T_COMMENT","\/\/ Remove configuration where its dependencies cannot be met.\n",201],["T_WHITESPACE","      ",202],["T_VARIABLE","$remove",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],"!",["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","validateDependencies",202],"(",["T_VARIABLE","$config_name",202],",",["T_WHITESPACE"," ",202],["T_VARIABLE","$data",202],",",["T_WHITESPACE"," ",202],["T_VARIABLE","$enabled_extensions",202],",",["T_WHITESPACE"," ",202],["T_VARIABLE","$all_config",202],")",";",["T_WHITESPACE","\n      ",202],["T_COMMENT","\/\/ If $dependency is defined, remove configuration that does not have a\n",203],["T_WHITESPACE","      ",204],["T_COMMENT","\/\/ matching dependency.\n",204],["T_WHITESPACE","      ",205],["T_IF","if",205],["T_WHITESPACE"," ",205],"(","!",["T_VARIABLE","$remove",205],["T_WHITESPACE"," ",205],["T_BOOLEAN_AND","&&",205],["T_WHITESPACE"," ",205],"!",["T_EMPTY","empty",205],"(",["T_VARIABLE","$dependency",205],")",")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n        ",205],["T_COMMENT","\/\/ Create a light weight dependency object to check dependencies.\n",206],["T_WHITESPACE","        ",207],["T_VARIABLE","$config_entity",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_NEW","new",207],["T_WHITESPACE"," ",207],["T_STRING","ConfigEntityDependency",207],"(",["T_VARIABLE","$config_name",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$data",207],")",";",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$remove",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],"!",["T_VARIABLE","$config_entity",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","hasDependency",208],"(",["T_STRING","key",208],"(",["T_VARIABLE","$dependency",208],")",",",["T_WHITESPACE"," ",208],["T_STRING","reset",208],"(",["T_VARIABLE","$dependency",208],")",")",";",["T_WHITESPACE","\n      ",208],"}",["T_WHITESPACE","\n\n      ",209],["T_IF","if",211],["T_WHITESPACE"," ",211],"(",["T_VARIABLE","$remove",211],")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n        ",211],["T_COMMENT","\/\/ Remove from the list of configuration to create.\n",212],["T_WHITESPACE","        ",213],["T_UNSET","unset",213],"(",["T_VARIABLE","$config_to_create",213],"[",["T_VARIABLE","$config_name",213],"]",")",";",["T_WHITESPACE","\n        ",213],["T_COMMENT","\/\/ Remove from the list of all configuration. This ensures that any\n",214],["T_WHITESPACE","        ",215],["T_COMMENT","\/\/ configuration that depends on this configuration is also removed.\n",215],["T_WHITESPACE","        ",216],["T_UNSET","unset",216],"(",["T_VARIABLE","$all_config",216],"[",["T_VARIABLE","$config_name",216],"]",")",";",["T_WHITESPACE","\n      ",216],"}",["T_WHITESPACE","\n    ",217],"}",["T_WHITESPACE","\n    ",218],["T_IF","if",219],["T_WHITESPACE"," ",219],"(","!",["T_EMPTY","empty",219],"(",["T_VARIABLE","$config_to_create",219],")",")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n      ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","createConfiguration",220],"(",["T_STRING","StorageInterface",220],["T_DOUBLE_COLON","::",220],["T_STRING","DEFAULT_COLLECTION",220],",",["T_WHITESPACE"," ",220],["T_VARIABLE","$config_to_create",220],",",["T_WHITESPACE"," ",220],["T_STRING","TRUE",220],")",";",["T_WHITESPACE","\n    ",220],"}",["T_WHITESPACE","\n  ",221],"}",["T_WHITESPACE","\n\n  ",222],["T_DOC_COMMENT","\/**\n   * Gets configuration data from the provided storage to create.\n   *\n   * @param StorageInterface $storage\n   *   The configuration storage to read configuration from.\n   * @param string $collection\n   *   The configuration collection to use.\n   * @param string $prefix\n   *   (optional) Limit to configuration starting with the provided string.\n   * @param \\Drupal\\Core\\Config\\StorageInterface[] $profile_storages\n   *   An array of storage interfaces containing profile configuration to check\n   *   for overrides.\n   *\n   * @return array\n   *   An array of configuration data read from the source storage keyed by the\n   *   configuration object name.\n   *\/",224],["T_WHITESPACE","\n  ",240],["T_PROTECTED","protected",241],["T_WHITESPACE"," ",241],["T_FUNCTION","function",241],["T_WHITESPACE"," ",241],["T_STRING","getConfigToCreate",241],"(",["T_STRING","StorageInterface",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$storage",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$collection",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$prefix",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","''",241],",",["T_WHITESPACE"," ",241],["T_ARRAY","array",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$profile_storages",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],"[","]",")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n    ",241],["T_IF","if",242],["T_WHITESPACE"," ",242],"(",["T_VARIABLE","$storage",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getCollectionName",242],"(",")",["T_WHITESPACE"," ",242],["T_IS_NOT_EQUAL","!=",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$collection",242],")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n      ",242],["T_VARIABLE","$storage",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$storage",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","createCollection",243],"(",["T_VARIABLE","$collection",243],")",";",["T_WHITESPACE","\n    ",243],"}",["T_WHITESPACE","\n    ",244],["T_VARIABLE","$data",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$storage",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","readMultiple",245],"(",["T_VARIABLE","$storage",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","listAll",245],"(",["T_VARIABLE","$prefix",245],")",")",";",["T_WHITESPACE","\n\n    ",245],["T_COMMENT","\/\/ Check to see if the corresponding override storage has any overrides.\n",247],["T_WHITESPACE","    ",248],["T_FOREACH","foreach",248],["T_WHITESPACE"," ",248],"(",["T_VARIABLE","$profile_storages",248],["T_WHITESPACE"," ",248],["T_AS","as",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$profile_storage",248],")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n      ",248],["T_IF","if",249],["T_WHITESPACE"," ",249],"(",["T_VARIABLE","$profile_storage",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","getCollectionName",249],"(",")",["T_WHITESPACE"," ",249],["T_IS_NOT_EQUAL","!=",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$collection",249],")",["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n        ",249],["T_VARIABLE","$profile_storage",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_VARIABLE","$profile_storage",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","createCollection",250],"(",["T_VARIABLE","$collection",250],")",";",["T_WHITESPACE","\n      ",250],"}",["T_WHITESPACE","\n      ",251],["T_VARIABLE","$data",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$profile_storage",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","readMultiple",252],"(",["T_STRING","array_keys",252],"(",["T_VARIABLE","$data",252],")",")",["T_WHITESPACE"," ",252],"+",["T_WHITESPACE"," ",252],["T_VARIABLE","$data",252],";",["T_WHITESPACE","\n    ",252],"}",["T_WHITESPACE","\n    ",253],["T_RETURN","return",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$data",254],";",["T_WHITESPACE","\n  ",254],"}",["T_WHITESPACE","\n\n  ",255],["T_DOC_COMMENT","\/**\n   * Creates configuration in a collection based on the provided list.\n   *\n   * @param string $collection\n   *   The configuration collection.\n   * @param array $config_to_create\n   *   An array of configuration data to create, keyed by name.\n   *\/",257],["T_WHITESPACE","\n  ",264],["T_PROTECTED","protected",265],["T_WHITESPACE"," ",265],["T_FUNCTION","function",265],["T_WHITESPACE"," ",265],["T_STRING","createConfiguration",265],"(",["T_VARIABLE","$collection",265],",",["T_WHITESPACE"," ",265],["T_ARRAY","array",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$config_to_create",265],")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n    ",265],["T_COMMENT","\/\/ Order the configuration to install in the order of dependencies.\n",266],["T_WHITESPACE","    ",267],["T_IF","if",267],["T_WHITESPACE"," ",267],"(",["T_VARIABLE","$collection",267],["T_WHITESPACE"," ",267],["T_IS_EQUAL","==",267],["T_WHITESPACE"," ",267],["T_STRING","StorageInterface",267],["T_DOUBLE_COLON","::",267],["T_STRING","DEFAULT_COLLECTION",267],")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n      ",267],["T_VARIABLE","$dependency_manager",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_NEW","new",268],["T_WHITESPACE"," ",268],["T_STRING","ConfigDependencyManager",268],"(",")",";",["T_WHITESPACE","\n      ",268],["T_VARIABLE","$config_names",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$dependency_manager",269],["T_WHITESPACE","\n        ",269],["T_OBJECT_OPERATOR","->",270],["T_STRING","setData",270],"(",["T_VARIABLE","$config_to_create",270],")",["T_WHITESPACE","\n        ",270],["T_OBJECT_OPERATOR","->",271],["T_STRING","sortAll",271],"(",")",";",["T_WHITESPACE","\n    ",271],"}",["T_WHITESPACE","\n    ",272],["T_ELSE","else",273],["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n      ",273],["T_VARIABLE","$config_names",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_STRING","array_keys",274],"(",["T_VARIABLE","$config_to_create",274],")",";",["T_WHITESPACE","\n    ",274],"}",["T_WHITESPACE","\n\n    ",275],["T_FOREACH","foreach",277],["T_WHITESPACE"," ",277],"(",["T_VARIABLE","$config_names",277],["T_WHITESPACE"," ",277],["T_AS","as",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$name",277],")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n      ",277],["T_COMMENT","\/\/ Allow config factory overriders to use a custom configuration object if\n",278],["T_WHITESPACE","      ",279],["T_COMMENT","\/\/ they are responsible for the collection.\n",279],["T_WHITESPACE","      ",280],["T_VARIABLE","$overrider",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","configManager",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","getConfigCollectionInfo",280],"(",")",["T_OBJECT_OPERATOR","->",280],["T_STRING","getOverrideService",280],"(",["T_VARIABLE","$collection",280],")",";",["T_WHITESPACE","\n      ",280],["T_IF","if",281],["T_WHITESPACE"," ",281],"(",["T_VARIABLE","$overrider",281],")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n        ",281],["T_VARIABLE","$new_config",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_VARIABLE","$overrider",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","createConfigObject",282],"(",["T_VARIABLE","$name",282],",",["T_WHITESPACE"," ",282],["T_VARIABLE","$collection",282],")",";",["T_WHITESPACE","\n      ",282],"}",["T_WHITESPACE","\n      ",283],["T_ELSE","else",284],["T_WHITESPACE"," ",284],"{",["T_WHITESPACE","\n        ",284],["T_VARIABLE","$new_config",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_NEW","new",285],["T_WHITESPACE"," ",285],["T_STRING","Config",285],"(",["T_VARIABLE","$name",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","getActiveStorages",285],"(",["T_VARIABLE","$collection",285],")",",",["T_WHITESPACE"," ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","eventDispatcher",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","typedConfig",285],")",";",["T_WHITESPACE","\n      ",285],"}",["T_WHITESPACE","\n      ",286],["T_IF","if",287],["T_WHITESPACE"," ",287],"(",["T_VARIABLE","$config_to_create",287],"[",["T_VARIABLE","$name",287],"]",["T_WHITESPACE"," ",287],["T_IS_NOT_IDENTICAL","!==",287],["T_WHITESPACE"," ",287],["T_STRING","FALSE",287],")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n        ",287],["T_VARIABLE","$new_config",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","setData",288],"(",["T_VARIABLE","$config_to_create",288],"[",["T_VARIABLE","$name",288],"]",")",";",["T_WHITESPACE","\n        ",288],["T_COMMENT","\/\/ Add a hash to configuration created through the installer so it is\n",289],["T_WHITESPACE","        ",290],["T_COMMENT","\/\/ possible to know if the configuration was created by installing an\n",290],["T_WHITESPACE","        ",291],["T_COMMENT","\/\/ extension and to track which version of the default config was used.\n",291],["T_WHITESPACE","        ",292],["T_IF","if",292],["T_WHITESPACE"," ",292],"(","!",["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","isSyncing",292],"(",")",["T_WHITESPACE"," ",292],["T_BOOLEAN_AND","&&",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$collection",292],["T_WHITESPACE"," ",292],["T_IS_EQUAL","==",292],["T_WHITESPACE"," ",292],["T_STRING","StorageInterface",292],["T_DOUBLE_COLON","::",292],["T_STRING","DEFAULT_COLLECTION",292],")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n          ",292],["T_VARIABLE","$new_config",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","set",293],"(",["T_CONSTANT_ENCAPSED_STRING","'_core.default_config_hash'",293],",",["T_WHITESPACE"," ",293],["T_STRING","Crypt",293],["T_DOUBLE_COLON","::",293],["T_STRING","hashBase64",293],"(",["T_STRING","serialize",293],"(",["T_VARIABLE","$config_to_create",293],"[",["T_VARIABLE","$name",293],"]",")",")",")",";",["T_WHITESPACE","\n        ",293],"}",["T_WHITESPACE","\n      ",294],"}",["T_WHITESPACE","\n      ",295],["T_IF","if",296],["T_WHITESPACE"," ",296],"(",["T_VARIABLE","$collection",296],["T_WHITESPACE"," ",296],["T_IS_EQUAL","==",296],["T_WHITESPACE"," ",296],["T_STRING","StorageInterface",296],["T_DOUBLE_COLON","::",296],["T_STRING","DEFAULT_COLLECTION",296],["T_WHITESPACE"," ",296],["T_BOOLEAN_AND","&&",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$entity_type",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","configManager",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","getEntityTypeIdByName",296],"(",["T_VARIABLE","$name",296],")",")",["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n        ",296],["T_COMMENT","\/\/ If we are syncing do not create configuration entities. Pluggable\n",297],["T_WHITESPACE","        ",298],["T_COMMENT","\/\/ configuration entities can have dependencies on modules that are\n",298],["T_WHITESPACE","        ",299],["T_COMMENT","\/\/ not yet enabled. This approach means that any code that expects\n",299],["T_WHITESPACE","        ",300],["T_COMMENT","\/\/ default configuration entities to exist will be unstable after the\n",300],["T_WHITESPACE","        ",301],["T_COMMENT","\/\/ module has been enabled and before the config entity has been\n",301],["T_WHITESPACE","        ",302],["T_COMMENT","\/\/ imported.\n",302],["T_WHITESPACE","        ",303],["T_IF","if",303],["T_WHITESPACE"," ",303],"(",["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","isSyncing",303],"(",")",")",["T_WHITESPACE"," ",303],"{",["T_WHITESPACE","\n          ",303],["T_CONTINUE","continue",304],";",["T_WHITESPACE","\n        ",304],"}",["T_WHITESPACE","\n        ",305],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Config\\Entity\\ConfigEntityStorageInterface $entity_storage *\/",306],["T_WHITESPACE","\n        ",306],["T_VARIABLE","$entity_storage",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","configManager",307],["T_WHITESPACE","\n          ",307],["T_OBJECT_OPERATOR","->",308],["T_STRING","getEntityManager",308],"(",")",["T_WHITESPACE","\n          ",308],["T_OBJECT_OPERATOR","->",309],["T_STRING","getStorage",309],"(",["T_VARIABLE","$entity_type",309],")",";",["T_WHITESPACE","\n        ",309],["T_COMMENT","\/\/ It is possible that secondary writes can occur during configuration\n",310],["T_WHITESPACE","        ",311],["T_COMMENT","\/\/ creation. Updates of such configuration are allowed.\n",311],["T_WHITESPACE","        ",312],["T_IF","if",312],["T_WHITESPACE"," ",312],"(",["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","getActiveStorages",312],"(",["T_VARIABLE","$collection",312],")",["T_OBJECT_OPERATOR","->",312],["T_STRING","exists",312],"(",["T_VARIABLE","$name",312],")",")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n          ",312],["T_VARIABLE","$id",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_VARIABLE","$entity_storage",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","getIDFromConfigName",313],"(",["T_VARIABLE","$name",313],",",["T_WHITESPACE"," ",313],["T_VARIABLE","$entity_storage",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","getEntityType",313],"(",")",["T_OBJECT_OPERATOR","->",313],["T_STRING","getConfigPrefix",313],"(",")",")",";",["T_WHITESPACE","\n          ",313],["T_VARIABLE","$entity",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_VARIABLE","$entity_storage",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","load",314],"(",["T_VARIABLE","$id",314],")",";",["T_WHITESPACE","\n          ",314],["T_VARIABLE","$entity",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_VARIABLE","$entity_storage",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","updateFromStorageRecord",315],"(",["T_VARIABLE","$entity",315],",",["T_WHITESPACE"," ",315],["T_VARIABLE","$new_config",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","get",315],"(",")",")",";",["T_WHITESPACE","\n        ",315],"}",["T_WHITESPACE","\n        ",316],["T_ELSE","else",317],["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n          ",317],["T_VARIABLE","$entity",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_VARIABLE","$entity_storage",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","createFromStorageRecord",318],"(",["T_VARIABLE","$new_config",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","get",318],"(",")",")",";",["T_WHITESPACE","\n        ",318],"}",["T_WHITESPACE","\n        ",319],["T_IF","if",320],["T_WHITESPACE"," ",320],"(",["T_VARIABLE","$entity",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","isInstallable",320],"(",")",")",["T_WHITESPACE"," ",320],"{",["T_WHITESPACE","\n          ",320],["T_VARIABLE","$entity",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","trustData",321],"(",")",["T_OBJECT_OPERATOR","->",321],["T_STRING","save",321],"(",")",";",["T_WHITESPACE","\n        ",321],"}",["T_WHITESPACE","\n      ",322],"}",["T_WHITESPACE","\n      ",323],["T_ELSE","else",324],["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n        ",324],["T_VARIABLE","$new_config",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","save",325],"(",["T_STRING","TRUE",325],")",";",["T_WHITESPACE","\n      ",325],"}",["T_WHITESPACE","\n    ",326],"}",["T_WHITESPACE","\n  ",327],"}",["T_WHITESPACE","\n\n  ",328],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",330],["T_WHITESPACE","\n  ",332],["T_PUBLIC","public",333],["T_WHITESPACE"," ",333],["T_FUNCTION","function",333],["T_WHITESPACE"," ",333],["T_STRING","installCollectionDefaultConfig",333],"(",["T_VARIABLE","$collection",333],")",["T_WHITESPACE"," ",333],"{",["T_WHITESPACE","\n    ",333],["T_VARIABLE","$storage",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_NEW","new",334],["T_WHITESPACE"," ",334],["T_STRING","ExtensionInstallStorage",334],"(",["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","getActiveStorages",334],"(",["T_STRING","StorageInterface",334],["T_DOUBLE_COLON","::",334],["T_STRING","DEFAULT_COLLECTION",334],")",",",["T_WHITESPACE"," ",334],["T_STRING","InstallStorage",334],["T_DOUBLE_COLON","::",334],["T_STRING","CONFIG_INSTALL_DIRECTORY",334],",",["T_WHITESPACE"," ",334],["T_VARIABLE","$collection",334],",",["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","drupalInstallationAttempted",334],"(",")",")",";",["T_WHITESPACE","\n    ",334],["T_COMMENT","\/\/ Only install configuration for enabled extensions.\n",335],["T_WHITESPACE","    ",336],["T_VARIABLE","$enabled_extensions",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","getEnabledExtensions",336],"(",")",";",["T_WHITESPACE","\n    ",336],["T_VARIABLE","$config_to_install",337],["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_STRING","array_filter",337],"(",["T_VARIABLE","$storage",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","listAll",337],"(",")",",",["T_WHITESPACE"," ",337],["T_FUNCTION","function",337],["T_WHITESPACE"," ",337],"(",["T_VARIABLE","$config_name",337],")",["T_WHITESPACE"," ",337],["T_USE","use",337],["T_WHITESPACE"," ",337],"(",["T_VARIABLE","$enabled_extensions",337],")",["T_WHITESPACE"," ",337],"{",["T_WHITESPACE","\n      ",337],["T_VARIABLE","$provider",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_STRING","Unicode",338],["T_DOUBLE_COLON","::",338],["T_STRING","substr",338],"(",["T_VARIABLE","$config_name",338],",",["T_WHITESPACE"," ",338],["T_LNUMBER","0",338],",",["T_WHITESPACE"," ",338],["T_STRING","strpos",338],"(",["T_VARIABLE","$config_name",338],",",["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","'.'",338],")",")",";",["T_WHITESPACE","\n      ",338],["T_RETURN","return",339],["T_WHITESPACE"," ",339],["T_STRING","in_array",339],"(",["T_VARIABLE","$provider",339],",",["T_WHITESPACE"," ",339],["T_VARIABLE","$enabled_extensions",339],")",";",["T_WHITESPACE","\n    ",339],"}",")",";",["T_WHITESPACE","\n    ",340],["T_IF","if",341],["T_WHITESPACE"," ",341],"(","!",["T_EMPTY","empty",341],"(",["T_VARIABLE","$config_to_install",341],")",")",["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\n      ",341],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","createConfiguration",342],"(",["T_VARIABLE","$collection",342],",",["T_WHITESPACE"," ",342],["T_VARIABLE","$storage",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","readMultiple",342],"(",["T_VARIABLE","$config_to_install",342],")",")",";",["T_WHITESPACE","\n      ",342],["T_COMMENT","\/\/ Reset all the static caches and list caches.\n",343],["T_WHITESPACE","      ",344],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","configFactory",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","reset",344],"(",")",";",["T_WHITESPACE","\n    ",344],"}",["T_WHITESPACE","\n  ",345],"}",["T_WHITESPACE","\n\n  ",346],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",348],["T_WHITESPACE","\n  ",350],["T_PUBLIC","public",351],["T_WHITESPACE"," ",351],["T_FUNCTION","function",351],["T_WHITESPACE"," ",351],["T_STRING","setSourceStorage",351],"(",["T_STRING","StorageInterface",351],["T_WHITESPACE"," ",351],["T_VARIABLE","$storage",351],")",["T_WHITESPACE"," ",351],"{",["T_WHITESPACE","\n    ",351],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","sourceStorage",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_VARIABLE","$storage",352],";",["T_WHITESPACE","\n    ",352],["T_RETURN","return",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$this",353],";",["T_WHITESPACE","\n  ",353],"}",["T_WHITESPACE","\n\n  ",354],["T_DOC_COMMENT","\/**\n   * Gets the configuration storage that provides the default configuration.\n   *\n   * @return \\Drupal\\Core\\Config\\StorageInterface|null\n   *   The configuration storage that provides the default configuration.\n   *   Returns null if the source storage has not been set.\n   *\/",356],["T_WHITESPACE","\n  ",362],["T_PUBLIC","public",363],["T_WHITESPACE"," ",363],["T_FUNCTION","function",363],["T_WHITESPACE"," ",363],["T_STRING","getSourceStorage",363],"(",")",["T_WHITESPACE"," ",363],"{",["T_WHITESPACE","\n    ",363],["T_RETURN","return",364],["T_WHITESPACE"," ",364],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","sourceStorage",364],";",["T_WHITESPACE","\n  ",364],"}",["T_WHITESPACE","\n\n  ",365],["T_DOC_COMMENT","\/**\n   * Gets the configuration storage that provides the active configuration.\n   *\n   * @param string $collection\n   *   (optional) The configuration collection. Defaults to the default\n   *   collection.\n   *\n   * @return \\Drupal\\Core\\Config\\StorageInterface\n   *   The configuration storage that provides the default configuration.\n   *\/",367],["T_WHITESPACE","\n  ",376],["T_PROTECTED","protected",377],["T_WHITESPACE"," ",377],["T_FUNCTION","function",377],["T_WHITESPACE"," ",377],["T_STRING","getActiveStorages",377],"(",["T_VARIABLE","$collection",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_STRING","StorageInterface",377],["T_DOUBLE_COLON","::",377],["T_STRING","DEFAULT_COLLECTION",377],")",["T_WHITESPACE"," ",377],"{",["T_WHITESPACE","\n    ",377],["T_IF","if",378],["T_WHITESPACE"," ",378],"(","!",["T_ISSET","isset",378],"(",["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","activeStorages",378],"[",["T_VARIABLE","$collection",378],"]",")",")",["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n      ",378],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","activeStorages",379],"[",["T_VARIABLE","$collection",379],"]",["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_STRING","reset",379],"(",["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","activeStorages",379],")",["T_OBJECT_OPERATOR","->",379],["T_STRING","createCollection",379],"(",["T_VARIABLE","$collection",379],")",";",["T_WHITESPACE","\n    ",379],"}",["T_WHITESPACE","\n    ",380],["T_RETURN","return",381],["T_WHITESPACE"," ",381],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","activeStorages",381],"[",["T_VARIABLE","$collection",381],"]",";",["T_WHITESPACE","\n  ",381],"}",["T_WHITESPACE","\n\n  ",382],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",384],["T_WHITESPACE","\n  ",386],["T_PUBLIC","public",387],["T_WHITESPACE"," ",387],["T_FUNCTION","function",387],["T_WHITESPACE"," ",387],["T_STRING","setSyncing",387],"(",["T_VARIABLE","$status",387],")",["T_WHITESPACE"," ",387],"{",["T_WHITESPACE","\n    ",387],["T_IF","if",388],["T_WHITESPACE"," ",388],"(","!",["T_VARIABLE","$status",388],")",["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n      ",388],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","sourceStorage",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_STRING","NULL",389],";",["T_WHITESPACE","\n    ",389],"}",["T_WHITESPACE","\n    ",390],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","isSyncing",391],["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_VARIABLE","$status",391],";",["T_WHITESPACE","\n    ",391],["T_RETURN","return",392],["T_WHITESPACE"," ",392],["T_VARIABLE","$this",392],";",["T_WHITESPACE","\n  ",392],"}",["T_WHITESPACE","\n\n  ",393],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",395],["T_WHITESPACE","\n  ",397],["T_PUBLIC","public",398],["T_WHITESPACE"," ",398],["T_FUNCTION","function",398],["T_WHITESPACE"," ",398],["T_STRING","isSyncing",398],"(",")",["T_WHITESPACE"," ",398],"{",["T_WHITESPACE","\n    ",398],["T_RETURN","return",399],["T_WHITESPACE"," ",399],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","isSyncing",399],";",["T_WHITESPACE","\n  ",399],"}",["T_WHITESPACE","\n\n  ",400],["T_DOC_COMMENT","\/**\n   * Finds pre-existing configuration objects for the provided extension.\n   *\n   * Extensions can not be installed if configuration objects exist in the\n   * active storage with the same names. This can happen in a number of ways,\n   * commonly:\n   * - if a user has created configuration with the same name as that provided\n   *   by the extension.\n   * - if the extension provides default configuration that does not depend on\n   *   it and the extension has been uninstalled and is about to the\n   *   reinstalled.\n   *\n   * @return array\n   *   Array of configuration object names that already exist keyed by\n   *   collection.\n   *\/",402],["T_WHITESPACE","\n  ",417],["T_PROTECTED","protected",418],["T_WHITESPACE"," ",418],["T_FUNCTION","function",418],["T_WHITESPACE"," ",418],["T_STRING","findPreExistingConfiguration",418],"(",["T_STRING","StorageInterface",418],["T_WHITESPACE"," ",418],["T_VARIABLE","$storage",418],")",["T_WHITESPACE"," ",418],"{",["T_WHITESPACE","\n    ",418],["T_VARIABLE","$existing_configuration",419],["T_WHITESPACE"," ",419],"=",["T_WHITESPACE"," ",419],["T_ARRAY","array",419],"(",")",";",["T_WHITESPACE","\n    ",419],["T_COMMENT","\/\/ Gather information about all the supported collections.\n",420],["T_WHITESPACE","    ",421],["T_VARIABLE","$collection_info",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","configManager",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","getConfigCollectionInfo",421],"(",")",";",["T_WHITESPACE","\n\n    ",421],["T_FOREACH","foreach",423],["T_WHITESPACE"," ",423],"(",["T_VARIABLE","$collection_info",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","getCollectionNames",423],"(",")",["T_WHITESPACE"," ",423],["T_AS","as",423],["T_WHITESPACE"," ",423],["T_VARIABLE","$collection",423],")",["T_WHITESPACE"," ",423],"{",["T_WHITESPACE","\n      ",423],["T_VARIABLE","$config_to_create",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_STRING","array_keys",424],"(",["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","getConfigToCreate",424],"(",["T_VARIABLE","$storage",424],",",["T_WHITESPACE"," ",424],["T_VARIABLE","$collection",424],")",")",";",["T_WHITESPACE","\n      ",424],["T_VARIABLE","$active_storage",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","getActiveStorages",425],"(",["T_VARIABLE","$collection",425],")",";",["T_WHITESPACE","\n      ",425],["T_FOREACH","foreach",426],["T_WHITESPACE"," ",426],"(",["T_VARIABLE","$config_to_create",426],["T_WHITESPACE"," ",426],["T_AS","as",426],["T_WHITESPACE"," ",426],["T_VARIABLE","$config_name",426],")",["T_WHITESPACE"," ",426],"{",["T_WHITESPACE","\n        ",426],["T_IF","if",427],["T_WHITESPACE"," ",427],"(",["T_VARIABLE","$active_storage",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","exists",427],"(",["T_VARIABLE","$config_name",427],")",")",["T_WHITESPACE"," ",427],"{",["T_WHITESPACE","\n          ",427],["T_VARIABLE","$existing_configuration",428],"[",["T_VARIABLE","$collection",428],"]","[","]",["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_VARIABLE","$config_name",428],";",["T_WHITESPACE","\n        ",428],"}",["T_WHITESPACE","\n      ",429],"}",["T_WHITESPACE","\n    ",430],"}",["T_WHITESPACE","\n    ",431],["T_RETURN","return",432],["T_WHITESPACE"," ",432],["T_VARIABLE","$existing_configuration",432],";",["T_WHITESPACE","\n  ",432],"}",["T_WHITESPACE","\n\n  ",433],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",435],["T_WHITESPACE","\n  ",437],["T_PUBLIC","public",438],["T_WHITESPACE"," ",438],["T_FUNCTION","function",438],["T_WHITESPACE"," ",438],["T_STRING","checkConfigurationToInstall",438],"(",["T_VARIABLE","$type",438],",",["T_WHITESPACE"," ",438],["T_VARIABLE","$name",438],")",["T_WHITESPACE"," ",438],"{",["T_WHITESPACE","\n    ",438],["T_IF","if",439],["T_WHITESPACE"," ",439],"(",["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","isSyncing",439],"(",")",")",["T_WHITESPACE"," ",439],"{",["T_WHITESPACE","\n      ",439],["T_COMMENT","\/\/ Configuration is assumed to already be checked by the config importer\n",440],["T_WHITESPACE","      ",441],["T_COMMENT","\/\/ validation events.\n",441],["T_WHITESPACE","      ",442],["T_RETURN","return",442],";",["T_WHITESPACE","\n    ",442],"}",["T_WHITESPACE","\n    ",443],["T_VARIABLE","$config_install_path",444],["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","getDefaultConfigDirectory",444],"(",["T_VARIABLE","$type",444],",",["T_WHITESPACE"," ",444],["T_VARIABLE","$name",444],")",";",["T_WHITESPACE","\n    ",444],["T_IF","if",445],["T_WHITESPACE"," ",445],"(","!",["T_STRING","is_dir",445],"(",["T_VARIABLE","$config_install_path",445],")",")",["T_WHITESPACE"," ",445],"{",["T_WHITESPACE","\n      ",445],["T_RETURN","return",446],";",["T_WHITESPACE","\n    ",446],"}",["T_WHITESPACE","\n\n    ",447],["T_VARIABLE","$storage",449],["T_WHITESPACE"," ",449],"=",["T_WHITESPACE"," ",449],["T_NEW","new",449],["T_WHITESPACE"," ",449],["T_STRING","FileStorage",449],"(",["T_VARIABLE","$config_install_path",449],",",["T_WHITESPACE"," ",449],["T_STRING","StorageInterface",449],["T_DOUBLE_COLON","::",449],["T_STRING","DEFAULT_COLLECTION",449],")",";",["T_WHITESPACE","\n\n    ",449],["T_VARIABLE","$enabled_extensions",451],["T_WHITESPACE"," ",451],"=",["T_WHITESPACE"," ",451],["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","getEnabledExtensions",451],"(",")",";",["T_WHITESPACE","\n    ",451],["T_COMMENT","\/\/ Add the extension that will be enabled to the list of enabled extensions.\n",452],["T_WHITESPACE","    ",453],["T_VARIABLE","$enabled_extensions",453],"[","]",["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],["T_VARIABLE","$name",453],";",["T_WHITESPACE","\n    ",453],["T_COMMENT","\/\/ Gets profile storages to search for overrides if necessary.\n",454],["T_WHITESPACE","    ",455],["T_VARIABLE","$profile_storages",455],["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","getProfileStorages",455],"(",["T_VARIABLE","$name",455],")",";",["T_WHITESPACE","\n\n    ",455],["T_COMMENT","\/\/ Check the dependencies of configuration provided by the module.\n",457],["T_WHITESPACE","    ",458],["T_VARIABLE","$invalid_default_config",458],["T_WHITESPACE"," ",458],"=",["T_WHITESPACE"," ",458],["T_VARIABLE","$this",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","findDefaultConfigWithUnmetDependencies",458],"(",["T_VARIABLE","$storage",458],",",["T_WHITESPACE"," ",458],["T_VARIABLE","$enabled_extensions",458],",",["T_WHITESPACE"," ",458],["T_VARIABLE","$profile_storages",458],")",";",["T_WHITESPACE","\n    ",458],["T_IF","if",459],["T_WHITESPACE"," ",459],"(","!",["T_EMPTY","empty",459],"(",["T_VARIABLE","$invalid_default_config",459],")",")",["T_WHITESPACE"," ",459],"{",["T_WHITESPACE","\n      ",459],["T_THROW","throw",460],["T_WHITESPACE"," ",460],["T_STRING","UnmetDependenciesException",460],["T_DOUBLE_COLON","::",460],["T_STRING","create",460],"(",["T_VARIABLE","$name",460],",",["T_WHITESPACE"," ",460],["T_VARIABLE","$invalid_default_config",460],")",";",["T_WHITESPACE","\n    ",460],"}",["T_WHITESPACE","\n\n    ",461],["T_COMMENT","\/\/ Install profiles can not have config clashes. Configuration that\n",463],["T_WHITESPACE","    ",464],["T_COMMENT","\/\/ has the same name as a module's configuration will be used instead.\n",464],["T_WHITESPACE","    ",465],["T_IF","if",465],["T_WHITESPACE"," ",465],"(",["T_VARIABLE","$name",465],["T_WHITESPACE"," ",465],["T_IS_NOT_EQUAL","!=",465],["T_WHITESPACE"," ",465],["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","drupalGetProfile",465],"(",")",")",["T_WHITESPACE"," ",465],"{",["T_WHITESPACE","\n      ",465],["T_COMMENT","\/\/ Throw an exception if the module being installed contains configuration\n",466],["T_WHITESPACE","      ",467],["T_COMMENT","\/\/ that already exists. Additionally, can not continue installing more\n",467],["T_WHITESPACE","      ",468],["T_COMMENT","\/\/ modules because those may depend on the current module being installed.\n",468],["T_WHITESPACE","      ",469],["T_VARIABLE","$existing_configuration",469],["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","findPreExistingConfiguration",469],"(",["T_VARIABLE","$storage",469],")",";",["T_WHITESPACE","\n      ",469],["T_IF","if",470],["T_WHITESPACE"," ",470],"(","!",["T_EMPTY","empty",470],"(",["T_VARIABLE","$existing_configuration",470],")",")",["T_WHITESPACE"," ",470],"{",["T_WHITESPACE","\n        ",470],["T_THROW","throw",471],["T_WHITESPACE"," ",471],["T_STRING","PreExistingConfigException",471],["T_DOUBLE_COLON","::",471],["T_STRING","create",471],"(",["T_VARIABLE","$name",471],",",["T_WHITESPACE"," ",471],["T_VARIABLE","$existing_configuration",471],")",";",["T_WHITESPACE","\n      ",471],"}",["T_WHITESPACE","\n    ",472],"}",["T_WHITESPACE","\n  ",473],"}",["T_WHITESPACE","\n\n  ",474],["T_DOC_COMMENT","\/**\n   * Finds default configuration with unmet dependencies.\n   *\n   * @param \\Drupal\\Core\\Config\\StorageInterface $storage\n   *   The storage containing the default configuration.\n   * @param array $enabled_extensions\n   *   A list of all the currently enabled modules and themes.\n   * @param \\Drupal\\Core\\Config\\StorageInterface[] $profile_storages\n   *   An array of storage interfaces containing profile configuration to check\n   *   for overrides.\n   *\n   * @return array\n   *   List of configuration that has unmet dependencies\n   *\/",476],["T_WHITESPACE","\n  ",489],["T_PROTECTED","protected",490],["T_WHITESPACE"," ",490],["T_FUNCTION","function",490],["T_WHITESPACE"," ",490],["T_STRING","findDefaultConfigWithUnmetDependencies",490],"(",["T_STRING","StorageInterface",490],["T_WHITESPACE"," ",490],["T_VARIABLE","$storage",490],",",["T_WHITESPACE"," ",490],["T_ARRAY","array",490],["T_WHITESPACE"," ",490],["T_VARIABLE","$enabled_extensions",490],",",["T_WHITESPACE"," ",490],["T_ARRAY","array",490],["T_WHITESPACE"," ",490],["T_VARIABLE","$profile_storages",490],["T_WHITESPACE"," ",490],"=",["T_WHITESPACE"," ",490],"[","]",")",["T_WHITESPACE"," ",490],"{",["T_WHITESPACE","\n    ",490],["T_VARIABLE","$config_to_create",491],["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","getConfigToCreate",491],"(",["T_VARIABLE","$storage",491],",",["T_WHITESPACE"," ",491],["T_STRING","StorageInterface",491],["T_DOUBLE_COLON","::",491],["T_STRING","DEFAULT_COLLECTION",491],",",["T_WHITESPACE"," ",491],["T_CONSTANT_ENCAPSED_STRING","''",491],",",["T_WHITESPACE"," ",491],["T_VARIABLE","$profile_storages",491],")",";",["T_WHITESPACE","\n    ",491],["T_VARIABLE","$all_config",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_STRING","array_merge",492],"(",["T_VARIABLE","$this",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","configFactory",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","listAll",492],"(",")",",",["T_WHITESPACE"," ",492],["T_STRING","array_keys",492],"(",["T_VARIABLE","$config_to_create",492],")",")",";",["T_WHITESPACE","\n    ",492],["T_RETURN","return",493],["T_WHITESPACE"," ",493],["T_STRING","array_filter",493],"(",["T_STRING","array_keys",493],"(",["T_VARIABLE","$config_to_create",493],")",",",["T_WHITESPACE"," ",493],["T_FUNCTION","function",493],"(",["T_VARIABLE","$config_name",493],")",["T_WHITESPACE"," ",493],["T_USE","use",493],["T_WHITESPACE"," ",493],"(",["T_VARIABLE","$enabled_extensions",493],",",["T_WHITESPACE"," ",493],["T_VARIABLE","$all_config",493],",",["T_WHITESPACE"," ",493],["T_VARIABLE","$config_to_create",493],")",["T_WHITESPACE"," ",493],"{",["T_WHITESPACE","\n      ",493],["T_RETURN","return",494],["T_WHITESPACE"," ",494],"!",["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","validateDependencies",494],"(",["T_VARIABLE","$config_name",494],",",["T_WHITESPACE"," ",494],["T_VARIABLE","$config_to_create",494],"[",["T_VARIABLE","$config_name",494],"]",",",["T_WHITESPACE"," ",494],["T_VARIABLE","$enabled_extensions",494],",",["T_WHITESPACE"," ",494],["T_VARIABLE","$all_config",494],")",";",["T_WHITESPACE","\n    ",494],"}",")",";",["T_WHITESPACE","\n  ",495],"}",["T_WHITESPACE","\n\n  ",496],["T_DOC_COMMENT","\/**\n   * Validates an array of config data that contains dependency information.\n   *\n   * @param string $config_name\n   *   The name of the configuration object that is being validated.\n   * @param array $data\n   *   Configuration data.\n   * @param array $enabled_extensions\n   *   A list of all the currently enabled modules and themes.\n   * @param array $all_config\n   *   A list of all the active configuration names.\n   *\n   * @return bool\n   *   TRUE if the dependencies are met, FALSE if not.\n   *\/",498],["T_WHITESPACE","\n  ",512],["T_PROTECTED","protected",513],["T_WHITESPACE"," ",513],["T_FUNCTION","function",513],["T_WHITESPACE"," ",513],["T_STRING","validateDependencies",513],"(",["T_VARIABLE","$config_name",513],",",["T_WHITESPACE"," ",513],["T_ARRAY","array",513],["T_WHITESPACE"," ",513],["T_VARIABLE","$data",513],",",["T_WHITESPACE"," ",513],["T_ARRAY","array",513],["T_WHITESPACE"," ",513],["T_VARIABLE","$enabled_extensions",513],",",["T_WHITESPACE"," ",513],["T_ARRAY","array",513],["T_WHITESPACE"," ",513],["T_VARIABLE","$all_config",513],")",["T_WHITESPACE"," ",513],"{",["T_WHITESPACE","\n    ",513],["T_LIST","list",514],"(",["T_VARIABLE","$provider",514],")",["T_WHITESPACE"," ",514],"=",["T_WHITESPACE"," ",514],["T_STRING","explode",514],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",514],",",["T_WHITESPACE"," ",514],["T_VARIABLE","$config_name",514],",",["T_WHITESPACE"," ",514],["T_LNUMBER","2",514],")",";",["T_WHITESPACE","\n    ",514],["T_IF","if",515],["T_WHITESPACE"," ",515],"(",["T_ISSET","isset",515],"(",["T_VARIABLE","$data",515],"[",["T_CONSTANT_ENCAPSED_STRING","'dependencies'",515],"]",")",")",["T_WHITESPACE"," ",515],"{",["T_WHITESPACE","\n      ",515],["T_VARIABLE","$all_dependencies",516],["T_WHITESPACE"," ",516],"=",["T_WHITESPACE"," ",516],["T_VARIABLE","$data",516],"[",["T_CONSTANT_ENCAPSED_STRING","'dependencies'",516],"]",";",["T_WHITESPACE","\n\n      ",516],["T_COMMENT","\/\/ Ensure enforced dependencies are included.\n",518],["T_WHITESPACE","      ",519],["T_IF","if",519],["T_WHITESPACE"," ",519],"(",["T_ISSET","isset",519],"(",["T_VARIABLE","$all_dependencies",519],"[",["T_CONSTANT_ENCAPSED_STRING","'enforced'",519],"]",")",")",["T_WHITESPACE"," ",519],"{",["T_WHITESPACE","\n        ",519],["T_VARIABLE","$all_dependencies",520],["T_WHITESPACE"," ",520],"=",["T_WHITESPACE"," ",520],["T_STRING","array_merge",520],"(",["T_VARIABLE","$all_dependencies",520],",",["T_WHITESPACE"," ",520],["T_VARIABLE","$data",520],"[",["T_CONSTANT_ENCAPSED_STRING","'dependencies'",520],"]","[",["T_CONSTANT_ENCAPSED_STRING","'enforced'",520],"]",")",";",["T_WHITESPACE","\n        ",520],["T_UNSET","unset",521],"(",["T_VARIABLE","$all_dependencies",521],"[",["T_CONSTANT_ENCAPSED_STRING","'enforced'",521],"]",")",";",["T_WHITESPACE","\n      ",521],"}",["T_WHITESPACE","\n      ",522],["T_COMMENT","\/\/ Ensure the configuration entity type provider is in the list of\n",523],["T_WHITESPACE","      ",524],["T_COMMENT","\/\/ dependencies.\n",524],["T_WHITESPACE","      ",525],["T_IF","if",525],["T_WHITESPACE"," ",525],"(","!",["T_ISSET","isset",525],"(",["T_VARIABLE","$all_dependencies",525],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",525],"]",")",")",["T_WHITESPACE"," ",525],"{",["T_WHITESPACE","\n        ",525],["T_VARIABLE","$all_dependencies",526],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",526],"]","[","]",["T_WHITESPACE"," ",526],"=",["T_WHITESPACE"," ",526],["T_VARIABLE","$provider",526],";",["T_WHITESPACE","\n      ",526],"}",["T_WHITESPACE","\n      ",527],["T_ELSEIF","elseif",528],["T_WHITESPACE"," ",528],"(","!",["T_STRING","in_array",528],"(",["T_VARIABLE","$provider",528],",",["T_WHITESPACE"," ",528],["T_VARIABLE","$all_dependencies",528],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",528],"]",")",")",["T_WHITESPACE"," ",528],"{",["T_WHITESPACE","\n        ",528],["T_VARIABLE","$all_dependencies",529],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",529],"]","[","]",["T_WHITESPACE"," ",529],"=",["T_WHITESPACE"," ",529],["T_VARIABLE","$provider",529],";",["T_WHITESPACE","\n      ",529],"}",["T_WHITESPACE","\n\n      ",530],["T_FOREACH","foreach",532],["T_WHITESPACE"," ",532],"(",["T_VARIABLE","$all_dependencies",532],["T_WHITESPACE"," ",532],["T_AS","as",532],["T_WHITESPACE"," ",532],["T_VARIABLE","$type",532],["T_WHITESPACE"," ",532],["T_DOUBLE_ARROW","=>",532],["T_WHITESPACE"," ",532],["T_VARIABLE","$dependencies",532],")",["T_WHITESPACE"," ",532],"{",["T_WHITESPACE","\n        ",532],["T_VARIABLE","$list_to_check",533],["T_WHITESPACE"," ",533],"=",["T_WHITESPACE"," ",533],"[","]",";",["T_WHITESPACE","\n        ",533],["T_SWITCH","switch",534],["T_WHITESPACE"," ",534],"(",["T_VARIABLE","$type",534],")",["T_WHITESPACE"," ",534],"{",["T_WHITESPACE","\n          ",534],["T_CASE","case",535],["T_WHITESPACE"," ",535],["T_CONSTANT_ENCAPSED_STRING","'module'",535],":",["T_WHITESPACE","\n          ",535],["T_CASE","case",536],["T_WHITESPACE"," ",536],["T_CONSTANT_ENCAPSED_STRING","'theme'",536],":",["T_WHITESPACE","\n            ",536],["T_VARIABLE","$list_to_check",537],["T_WHITESPACE"," ",537],"=",["T_WHITESPACE"," ",537],["T_VARIABLE","$enabled_extensions",537],";",["T_WHITESPACE","\n            ",537],["T_BREAK","break",538],";",["T_WHITESPACE","\n          ",538],["T_CASE","case",539],["T_WHITESPACE"," ",539],["T_CONSTANT_ENCAPSED_STRING","'config'",539],":",["T_WHITESPACE","\n            ",539],["T_VARIABLE","$list_to_check",540],["T_WHITESPACE"," ",540],"=",["T_WHITESPACE"," ",540],["T_VARIABLE","$all_config",540],";",["T_WHITESPACE","\n            ",540],["T_BREAK","break",541],";",["T_WHITESPACE","\n        ",541],"}",["T_WHITESPACE","\n        ",542],["T_IF","if",543],["T_WHITESPACE"," ",543],"(","!",["T_EMPTY","empty",543],"(",["T_VARIABLE","$list_to_check",543],")",")",["T_WHITESPACE"," ",543],"{",["T_WHITESPACE","\n          ",543],["T_VARIABLE","$missing",544],["T_WHITESPACE"," ",544],"=",["T_WHITESPACE"," ",544],["T_STRING","array_diff",544],"(",["T_VARIABLE","$dependencies",544],",",["T_WHITESPACE"," ",544],["T_VARIABLE","$list_to_check",544],")",";",["T_WHITESPACE","\n          ",544],["T_IF","if",545],["T_WHITESPACE"," ",545],"(","!",["T_EMPTY","empty",545],"(",["T_VARIABLE","$missing",545],")",")",["T_WHITESPACE"," ",545],"{",["T_WHITESPACE","\n            ",545],["T_RETURN","return",546],["T_WHITESPACE"," ",546],["T_STRING","FALSE",546],";",["T_WHITESPACE","\n          ",546],"}",["T_WHITESPACE","\n        ",547],"}",["T_WHITESPACE","\n      ",548],"}",["T_WHITESPACE","\n    ",549],"}",["T_WHITESPACE","\n    ",550],["T_ELSE","else",551],["T_WHITESPACE"," ",551],"{",["T_WHITESPACE","\n      ",551],["T_COMMENT","\/\/ Simple config or a config entity without dependencies.\n",552],["T_WHITESPACE","      ",553],["T_RETURN","return",553],["T_WHITESPACE"," ",553],["T_STRING","in_array",553],"(",["T_VARIABLE","$provider",553],",",["T_WHITESPACE"," ",553],["T_VARIABLE","$enabled_extensions",553],",",["T_WHITESPACE"," ",553],["T_STRING","TRUE",553],")",";",["T_WHITESPACE","\n    ",553],"}",["T_WHITESPACE","\n    ",554],["T_RETURN","return",555],["T_WHITESPACE"," ",555],["T_STRING","TRUE",555],";",["T_WHITESPACE","\n  ",555],"}",["T_WHITESPACE","\n\n  ",556],["T_DOC_COMMENT","\/**\n   * Gets the list of enabled extensions including both modules and themes.\n   *\n   * @return array\n   *   A list of enabled extensions which includes both modules and themes.\n   *\/",558],["T_WHITESPACE","\n  ",563],["T_PROTECTED","protected",564],["T_WHITESPACE"," ",564],["T_FUNCTION","function",564],["T_WHITESPACE"," ",564],["T_STRING","getEnabledExtensions",564],"(",")",["T_WHITESPACE"," ",564],"{",["T_WHITESPACE","\n    ",564],["T_COMMENT","\/\/ Read enabled extensions directly from configuration to avoid circular\n",565],["T_WHITESPACE","    ",566],["T_COMMENT","\/\/ dependencies on ModuleHandler and ThemeHandler.\n",566],["T_WHITESPACE","    ",567],["T_VARIABLE","$extension_config",567],["T_WHITESPACE"," ",567],"=",["T_WHITESPACE"," ",567],["T_VARIABLE","$this",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","configFactory",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","get",567],"(",["T_CONSTANT_ENCAPSED_STRING","'core.extension'",567],")",";",["T_WHITESPACE","\n    ",567],["T_VARIABLE","$enabled_extensions",568],["T_WHITESPACE"," ",568],"=",["T_WHITESPACE"," ",568],["T_ARRAY_CAST","(array)",568],["T_WHITESPACE"," ",568],["T_VARIABLE","$extension_config",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","get",568],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",568],")",";",["T_WHITESPACE","\n    ",568],["T_VARIABLE","$enabled_extensions",569],["T_WHITESPACE"," ",569],["T_PLUS_EQUAL","+=",569],["T_WHITESPACE"," ",569],["T_ARRAY_CAST","(array)",569],["T_WHITESPACE"," ",569],["T_VARIABLE","$extension_config",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","get",569],"(",["T_CONSTANT_ENCAPSED_STRING","'theme'",569],")",";",["T_WHITESPACE","\n    ",569],["T_COMMENT","\/\/ Core can provide configuration.\n",570],["T_WHITESPACE","    ",571],["T_VARIABLE","$enabled_extensions",571],"[",["T_CONSTANT_ENCAPSED_STRING","'core'",571],"]",["T_WHITESPACE"," ",571],"=",["T_WHITESPACE"," ",571],["T_CONSTANT_ENCAPSED_STRING","'core'",571],";",["T_WHITESPACE","\n    ",571],["T_RETURN","return",572],["T_WHITESPACE"," ",572],["T_STRING","array_keys",572],"(",["T_VARIABLE","$enabled_extensions",572],")",";",["T_WHITESPACE","\n  ",572],"}",["T_WHITESPACE","\n\n  ",573],["T_DOC_COMMENT","\/**\n   * Gets the profile storage to use to check for profile overrides.\n   *\n   * The install profile can override module configuration during a module\n   * install. Both the install and optional directories are checked for matching\n   * configuration. This allows profiles to override default configuration for\n   * modules they do not depend on.\n   *\n   * @param string $installing_name\n   *   (optional) The name of the extension currently being installed.\n   *\n   * @return \\Drupal\\Core\\Config\\StorageInterface[]|null\n   *   Storages to access configuration from the installation profile. If we're\n   *   installing the profile itself, then it will return an empty array as the\n   *   profile storage should not be used.\n   *\/",575],["T_WHITESPACE","\n  ",590],["T_PROTECTED","protected",591],["T_WHITESPACE"," ",591],["T_FUNCTION","function",591],["T_WHITESPACE"," ",591],["T_STRING","getProfileStorages",591],"(",["T_VARIABLE","$installing_name",591],["T_WHITESPACE"," ",591],"=",["T_WHITESPACE"," ",591],["T_CONSTANT_ENCAPSED_STRING","''",591],")",["T_WHITESPACE"," ",591],"{",["T_WHITESPACE","\n    ",591],["T_VARIABLE","$profile",592],["T_WHITESPACE"," ",592],"=",["T_WHITESPACE"," ",592],["T_VARIABLE","$this",592],["T_OBJECT_OPERATOR","->",592],["T_STRING","drupalGetProfile",592],"(",")",";",["T_WHITESPACE","\n    ",592],["T_VARIABLE","$profile_storages",593],["T_WHITESPACE"," ",593],"=",["T_WHITESPACE"," ",593],"[","]",";",["T_WHITESPACE","\n    ",593],["T_IF","if",594],["T_WHITESPACE"," ",594],"(",["T_VARIABLE","$profile",594],["T_WHITESPACE"," ",594],["T_BOOLEAN_AND","&&",594],["T_WHITESPACE"," ",594],["T_VARIABLE","$profile",594],["T_WHITESPACE"," ",594],["T_IS_NOT_EQUAL","!=",594],["T_WHITESPACE"," ",594],["T_VARIABLE","$installing_name",594],")",["T_WHITESPACE"," ",594],"{",["T_WHITESPACE","\n      ",594],["T_VARIABLE","$profile_path",595],["T_WHITESPACE"," ",595],"=",["T_WHITESPACE"," ",595],["T_VARIABLE","$this",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","drupalGetPath",595],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",595],",",["T_WHITESPACE"," ",595],["T_VARIABLE","$profile",595],")",";",["T_WHITESPACE","\n      ",595],["T_FOREACH","foreach",596],["T_WHITESPACE"," ",596],"(","[",["T_STRING","InstallStorage",596],["T_DOUBLE_COLON","::",596],["T_STRING","CONFIG_INSTALL_DIRECTORY",596],",",["T_WHITESPACE"," ",596],["T_STRING","InstallStorage",596],["T_DOUBLE_COLON","::",596],["T_STRING","CONFIG_OPTIONAL_DIRECTORY",596],"]",["T_WHITESPACE"," ",596],["T_AS","as",596],["T_WHITESPACE"," ",596],["T_VARIABLE","$directory",596],")",["T_WHITESPACE"," ",596],"{",["T_WHITESPACE","\n        ",596],["T_IF","if",597],["T_WHITESPACE"," ",597],"(",["T_STRING","is_dir",597],"(",["T_VARIABLE","$profile_path",597],["T_WHITESPACE"," ",597],".",["T_WHITESPACE"," ",597],["T_CONSTANT_ENCAPSED_STRING","'\/'",597],["T_WHITESPACE"," ",597],".",["T_WHITESPACE"," ",597],["T_VARIABLE","$directory",597],")",")",["T_WHITESPACE"," ",597],"{",["T_WHITESPACE","\n          ",597],["T_VARIABLE","$profile_storages",598],"[","]",["T_WHITESPACE"," ",598],"=",["T_WHITESPACE"," ",598],["T_NEW","new",598],["T_WHITESPACE"," ",598],["T_STRING","FileStorage",598],"(",["T_VARIABLE","$profile_path",598],["T_WHITESPACE"," ",598],".",["T_WHITESPACE"," ",598],["T_CONSTANT_ENCAPSED_STRING","'\/'",598],["T_WHITESPACE"," ",598],".",["T_WHITESPACE"," ",598],["T_VARIABLE","$directory",598],",",["T_WHITESPACE"," ",598],["T_STRING","StorageInterface",598],["T_DOUBLE_COLON","::",598],["T_STRING","DEFAULT_COLLECTION",598],")",";",["T_WHITESPACE","\n        ",598],"}",["T_WHITESPACE","\n      ",599],"}",["T_WHITESPACE","\n    ",600],"}",["T_WHITESPACE","\n    ",601],["T_RETURN","return",602],["T_WHITESPACE"," ",602],["T_VARIABLE","$profile_storages",602],";",["T_WHITESPACE","\n  ",602],"}",["T_WHITESPACE","\n\n  ",603],["T_DOC_COMMENT","\/**\n   * Gets an extension's default configuration directory.\n   *\n   * @param string $type\n   *   Type of extension to install.\n   * @param string $name\n   *   Name of extension to install.\n   *\n   * @return string\n   *   The extension's default configuration directory.\n   *\/",605],["T_WHITESPACE","\n  ",615],["T_PROTECTED","protected",616],["T_WHITESPACE"," ",616],["T_FUNCTION","function",616],["T_WHITESPACE"," ",616],["T_STRING","getDefaultConfigDirectory",616],"(",["T_VARIABLE","$type",616],",",["T_WHITESPACE"," ",616],["T_VARIABLE","$name",616],")",["T_WHITESPACE"," ",616],"{",["T_WHITESPACE","\n    ",616],["T_RETURN","return",617],["T_WHITESPACE"," ",617],["T_VARIABLE","$this",617],["T_OBJECT_OPERATOR","->",617],["T_STRING","drupalGetPath",617],"(",["T_VARIABLE","$type",617],",",["T_WHITESPACE"," ",617],["T_VARIABLE","$name",617],")",["T_WHITESPACE"," ",617],".",["T_WHITESPACE"," ",617],["T_CONSTANT_ENCAPSED_STRING","'\/'",617],["T_WHITESPACE"," ",617],".",["T_WHITESPACE"," ",617],["T_STRING","InstallStorage",617],["T_DOUBLE_COLON","::",617],["T_STRING","CONFIG_INSTALL_DIRECTORY",617],";",["T_WHITESPACE","\n  ",617],"}",["T_WHITESPACE","\n\n  ",618],["T_DOC_COMMENT","\/**\n   * Wrapper for drupal_get_path().\n   *\n   * @param $type\n   *   The type of the item; one of 'core', 'profile', 'module', 'theme', or\n   *   'theme_engine'.\n   * @param $name\n   *   The name of the item for which the path is requested. Ignored for\n   *   $type 'core'.\n   *\n   * @return string\n   *   The path to the requested item or an empty string if the item is not\n   *   found.\n   *\/",620],["T_WHITESPACE","\n  ",633],["T_PROTECTED","protected",634],["T_WHITESPACE"," ",634],["T_FUNCTION","function",634],["T_WHITESPACE"," ",634],["T_STRING","drupalGetPath",634],"(",["T_VARIABLE","$type",634],",",["T_WHITESPACE"," ",634],["T_VARIABLE","$name",634],")",["T_WHITESPACE"," ",634],"{",["T_WHITESPACE","\n    ",634],["T_RETURN","return",635],["T_WHITESPACE"," ",635],["T_STRING","drupal_get_path",635],"(",["T_VARIABLE","$type",635],",",["T_WHITESPACE"," ",635],["T_VARIABLE","$name",635],")",";",["T_WHITESPACE","\n  ",635],"}",["T_WHITESPACE","\n\n  ",636],["T_DOC_COMMENT","\/**\n   * Gets the install profile from settings.\n   *\n   * @return string|null $profile\n   *   The name of the installation profile or NULL if no installation profile\n   *   is currently active. This is the case for example during the first steps\n   *   of the installer or during unit tests.\n   *\/",638],["T_WHITESPACE","\n  ",645],["T_PROTECTED","protected",646],["T_WHITESPACE"," ",646],["T_FUNCTION","function",646],["T_WHITESPACE"," ",646],["T_STRING","drupalGetProfile",646],"(",")",["T_WHITESPACE"," ",646],"{",["T_WHITESPACE","\n    ",646],["T_COMMENT","\/\/ Settings is safe to use because settings.php is written before any module\n",647],["T_WHITESPACE","    ",648],["T_COMMENT","\/\/ is installed.\n",648],["T_WHITESPACE","    ",649],["T_RETURN","return",649],["T_WHITESPACE"," ",649],["T_STRING","Settings",649],["T_DOUBLE_COLON","::",649],["T_STRING","get",649],"(",["T_CONSTANT_ENCAPSED_STRING","'install_profile'",649],")",";",["T_WHITESPACE","\n  ",649],"}",["T_WHITESPACE","\n\n  ",650],["T_DOC_COMMENT","\/**\n   * Wrapper for drupal_installation_attempted().\n   *\n   * @return bool\n   *   TRUE if a Drupal installation is currently being attempted.\n   *\/",652],["T_WHITESPACE","\n  ",657],["T_PROTECTED","protected",658],["T_WHITESPACE"," ",658],["T_FUNCTION","function",658],["T_WHITESPACE"," ",658],["T_STRING","drupalInstallationAttempted",658],"(",")",["T_WHITESPACE"," ",658],"{",["T_WHITESPACE","\n    ",658],["T_RETURN","return",659],["T_WHITESPACE"," ",659],["T_STRING","drupal_installation_attempted",659],"(",")",";",["T_WHITESPACE","\n  ",659],"}",["T_WHITESPACE","\n\n",660],"}",["T_WHITESPACE","\n",662]]