[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Config",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FileCache",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FileCacheFactory",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Serialization",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Exception",6],["T_NS_SEPARATOR","\\",6],["T_STRING","InvalidDataTypeException",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Serialization",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Yaml",7],";",["T_WHITESPACE","\n\n",7],["T_DOC_COMMENT","\/**\n * Defines the file storage.\n *\/",9],["T_WHITESPACE","\n",11],["T_CLASS","class",12],["T_WHITESPACE"," ",12],["T_STRING","FileStorage",12],["T_WHITESPACE"," ",12],["T_IMPLEMENTS","implements",12],["T_WHITESPACE"," ",12],["T_STRING","StorageInterface",12],["T_WHITESPACE"," ",12],"{",["T_WHITESPACE","\n\n  ",12],["T_DOC_COMMENT","\/**\n   * The storage collection.\n   *\n   * @var string\n   *\/",14],["T_WHITESPACE","\n  ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_VARIABLE","$collection",19],";",["T_WHITESPACE","\n\n  ",19],["T_DOC_COMMENT","\/**\n   * The filesystem path for configuration objects.\n   *\n   * @var string\n   *\/",21],["T_WHITESPACE","\n  ",25],["T_PROTECTED","protected",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$directory",26],["T_WHITESPACE"," ",26],"=",["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","''",26],";",["T_WHITESPACE","\n\n  ",26],["T_DOC_COMMENT","\/**\n   * The file cache object.\n   *\n   * @var \\Drupal\\Component\\FileCache\\FileCacheInterface\n   *\/",28],["T_WHITESPACE","\n  ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$fileCache",33],";",["T_WHITESPACE","\n\n  ",33],["T_DOC_COMMENT","\/**\n   * Constructs a new FileStorage.\n   *\n   * @param string $directory\n   *   A directory path to use for reading and writing of configuration files.\n   * @param string $collection\n   *   (optional) The collection to store configuration in. Defaults to the\n   *   default collection.\n   *\/",35],["T_WHITESPACE","\n  ",43],["T_PUBLIC","public",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","__construct",44],"(",["T_VARIABLE","$directory",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$collection",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_STRING","StorageInterface",44],["T_DOUBLE_COLON","::",44],["T_STRING","DEFAULT_COLLECTION",44],")",["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n    ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","directory",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$directory",45],";",["T_WHITESPACE","\n    ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","collection",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$collection",46],";",["T_WHITESPACE","\n\n    ",46],["T_COMMENT","\/\/ Use a NULL File Cache backend by default. This will ensure only the\n",48],["T_WHITESPACE","    ",49],["T_COMMENT","\/\/ internal statc caching of FileCache is used and thus avoids blowing up\n",49],["T_WHITESPACE","    ",50],["T_COMMENT","\/\/ the APCu cache.\n",50],["T_WHITESPACE","    ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","fileCache",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_STRING","FileCacheFactory",51],["T_DOUBLE_COLON","::",51],["T_STRING","get",51],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",51],",",["T_WHITESPACE"," ",51],"[",["T_CONSTANT_ENCAPSED_STRING","'cache_backend_class'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_STRING","NULL",51],"]",")",";",["T_WHITESPACE","\n  ",51],"}",["T_WHITESPACE","\n\n  ",52],["T_DOC_COMMENT","\/**\n   * Returns the path to the configuration file.\n   *\n   * @return string\n   *   The path to the configuration file.\n   *\/",54],["T_WHITESPACE","\n  ",59],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","getFilePath",60],"(",["T_VARIABLE","$name",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n    ",60],["T_RETURN","return",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getCollectionDirectory",61],"(",")",["T_WHITESPACE"," ",61],".",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'\/'",61],["T_WHITESPACE"," ",61],".",["T_WHITESPACE"," ",61],["T_VARIABLE","$name",61],["T_WHITESPACE"," ",61],".",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'.'",61],["T_WHITESPACE"," ",61],".",["T_WHITESPACE"," ",61],["T_STATIC","static",61],["T_DOUBLE_COLON","::",61],["T_STRING","getFileExtension",61],"(",")",";",["T_WHITESPACE","\n  ",61],"}",["T_WHITESPACE","\n\n  ",62],["T_DOC_COMMENT","\/**\n   * Returns the file extension used by the file storage for all configuration files.\n   *\n   * @return string\n   *   The file extension.\n   *\/",64],["T_WHITESPACE","\n  ",69],["T_PUBLIC","public",70],["T_WHITESPACE"," ",70],["T_STATIC","static",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","getFileExtension",70],"(",")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n    ",70],["T_RETURN","return",71],["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'yml'",71],";",["T_WHITESPACE","\n  ",71],"}",["T_WHITESPACE","\n\n  ",72],["T_DOC_COMMENT","\/**\n   * Check if the directory exists and create it if not.\n   *\/",74],["T_WHITESPACE","\n  ",76],["T_PROTECTED","protected",77],["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","ensureStorage",77],"(",")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$dir",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getCollectionDirectory",78],"(",")",";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$success",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_STRING","file_prepare_directory",79],"(",["T_VARIABLE","$dir",79],",",["T_WHITESPACE"," ",79],["T_STRING","FILE_CREATE_DIRECTORY",79],["T_WHITESPACE"," ",79],"|",["T_WHITESPACE"," ",79],["T_STRING","FILE_MODIFY_PERMISSIONS",79],")",";",["T_WHITESPACE","\n    ",79],["T_COMMENT","\/\/ Only create .htaccess file in root directory.\n",80],["T_WHITESPACE","    ",81],["T_IF","if",81],["T_WHITESPACE"," ",81],"(",["T_VARIABLE","$dir",81],["T_WHITESPACE"," ",81],["T_IS_EQUAL","==",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","directory",81],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n      ",81],["T_VARIABLE","$success",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$success",82],["T_WHITESPACE"," ",82],["T_BOOLEAN_AND","&&",82],["T_WHITESPACE"," ",82],["T_STRING","file_save_htaccess",82],"(",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","directory",82],",",["T_WHITESPACE"," ",82],["T_STRING","TRUE",82],",",["T_WHITESPACE"," ",82],["T_STRING","TRUE",82],")",";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n    ",83],["T_IF","if",84],["T_WHITESPACE"," ",84],"(","!",["T_VARIABLE","$success",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n      ",84],["T_THROW","throw",85],["T_WHITESPACE"," ",85],["T_NEW","new",85],["T_WHITESPACE"," ",85],["T_STRING","StorageException",85],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to create config directory '",85],["T_WHITESPACE"," ",85],".",["T_WHITESPACE"," ",85],["T_VARIABLE","$dir",85],")",";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n    ",86],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],";",["T_WHITESPACE","\n  ",87],"}",["T_WHITESPACE","\n\n  ",88],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",90],["T_WHITESPACE","\n  ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","exists",93],"(",["T_VARIABLE","$name",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n    ",93],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_STRING","file_exists",94],"(",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getFilePath",94],"(",["T_VARIABLE","$name",94],")",")",";",["T_WHITESPACE","\n  ",94],"}",["T_WHITESPACE","\n\n  ",95],["T_DOC_COMMENT","\/**\n   * Implements Drupal\\Core\\Config\\StorageInterface::read().\n   *\n   * @throws \\Drupal\\Core\\Config\\UnsupportedDataTypeConfigException\n   *\/",97],["T_WHITESPACE","\n  ",101],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","read",102],"(",["T_VARIABLE","$name",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n    ",102],["T_IF","if",103],["T_WHITESPACE"," ",103],"(","!",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","exists",103],"(",["T_VARIABLE","$name",103],")",")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n      ",103],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_STRING","FALSE",104],";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_VARIABLE","$filepath",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getFilePath",107],"(",["T_VARIABLE","$name",107],")",";",["T_WHITESPACE","\n    ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_VARIABLE","$data",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","fileCache",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","get",108],"(",["T_VARIABLE","$filepath",108],")",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n      ",108],["T_RETURN","return",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$data",109],";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n    ",110],["T_VARIABLE","$data",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","file_get_contents",112],"(",["T_VARIABLE","$filepath",112],")",";",["T_WHITESPACE","\n    ",112],["T_TRY","try",113],["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n      ",113],["T_VARIABLE","$data",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","decode",114],"(",["T_VARIABLE","$data",114],")",";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n    ",115],["T_CATCH","catch",116],["T_WHITESPACE"," ",116],"(",["T_STRING","InvalidDataTypeException",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$e",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n      ",116],["T_THROW","throw",117],["T_WHITESPACE"," ",117],["T_NEW","new",117],["T_WHITESPACE"," ",117],["T_STRING","UnsupportedDataTypeConfigException",117],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid data type in config '",117],["T_WHITESPACE"," ",117],".",["T_WHITESPACE"," ",117],["T_VARIABLE","$name",117],["T_WHITESPACE"," ",117],".",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","', found in file'",117],["T_WHITESPACE"," ",117],".",["T_WHITESPACE"," ",117],["T_VARIABLE","$filepath",117],["T_WHITESPACE"," ",117],".",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","' : '",117],["T_WHITESPACE"," ",117],".",["T_WHITESPACE"," ",117],["T_VARIABLE","$e",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getMessage",117],"(",")",")",";",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n    ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","fileCache",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","set",119],"(",["T_VARIABLE","$filepath",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$data",119],")",";",["T_WHITESPACE","\n\n    ",119],["T_RETURN","return",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$data",121],";",["T_WHITESPACE","\n  ",121],"}",["T_WHITESPACE","\n\n  ",122],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",124],["T_WHITESPACE","\n  ",126],["T_PUBLIC","public",127],["T_WHITESPACE"," ",127],["T_FUNCTION","function",127],["T_WHITESPACE"," ",127],["T_STRING","readMultiple",127],"(",["T_ARRAY","array",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$names",127],")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n    ",127],["T_VARIABLE","$list",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_ARRAY","array",128],"(",")",";",["T_WHITESPACE","\n    ",128],["T_FOREACH","foreach",129],["T_WHITESPACE"," ",129],"(",["T_VARIABLE","$names",129],["T_WHITESPACE"," ",129],["T_AS","as",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$name",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n      ",129],["T_IF","if",130],["T_WHITESPACE"," ",130],"(",["T_VARIABLE","$data",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","read",130],"(",["T_VARIABLE","$name",130],")",")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$list",131],"[",["T_VARIABLE","$name",131],"]",["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$data",131],";",["T_WHITESPACE","\n      ",131],"}",["T_WHITESPACE","\n    ",132],"}",["T_WHITESPACE","\n    ",133],["T_RETURN","return",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$list",134],";",["T_WHITESPACE","\n  ",134],"}",["T_WHITESPACE","\n\n  ",135],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",137],["T_WHITESPACE","\n  ",139],["T_PUBLIC","public",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","write",140],"(",["T_VARIABLE","$name",140],",",["T_WHITESPACE"," ",140],["T_ARRAY","array",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$data",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n    ",140],["T_TRY","try",141],["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n      ",141],["T_VARIABLE","$encoded_data",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","encode",142],"(",["T_VARIABLE","$data",142],")",";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n    ",143],["T_CATCH","catch",144],["T_WHITESPACE"," ",144],"(",["T_STRING","InvalidDataTypeException",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$e",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n      ",144],["T_THROW","throw",145],["T_WHITESPACE"," ",145],["T_NEW","new",145],["T_WHITESPACE"," ",145],["T_STRING","StorageException",145],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Invalid data type in config ",145],["T_VARIABLE","$name",145],["T_ENCAPSED_AND_WHITESPACE",": ",145],["T_CURLY_OPEN","{",145],["T_VARIABLE","$e",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getMessage",145],"(",")","}","\"",")",";",["T_WHITESPACE","\n    ",145],"}",["T_WHITESPACE","\n\n    ",146],["T_VARIABLE","$target",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getFilePath",148],"(",["T_VARIABLE","$name",148],")",";",["T_WHITESPACE","\n    ",148],["T_VARIABLE","$status",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],"@",["T_STRING","file_put_contents",149],"(",["T_VARIABLE","$target",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$encoded_data",149],")",";",["T_WHITESPACE","\n    ",149],["T_IF","if",150],["T_WHITESPACE"," ",150],"(",["T_VARIABLE","$status",150],["T_WHITESPACE"," ",150],["T_IS_IDENTICAL","===",150],["T_WHITESPACE"," ",150],["T_STRING","FALSE",150],")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n      ",150],["T_COMMENT","\/\/ Try to make sure the directory exists and try writing again.\n",151],["T_WHITESPACE","      ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","ensureStorage",152],"(",")",";",["T_WHITESPACE","\n      ",152],["T_VARIABLE","$status",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],"@",["T_STRING","file_put_contents",153],"(",["T_VARIABLE","$target",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$encoded_data",153],")",";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n    ",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$status",155],["T_WHITESPACE"," ",155],["T_IS_IDENTICAL","===",155],["T_WHITESPACE"," ",155],["T_STRING","FALSE",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n      ",155],["T_THROW","throw",156],["T_WHITESPACE"," ",156],["T_NEW","new",156],["T_WHITESPACE"," ",156],["T_STRING","StorageException",156],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to write configuration file: '",156],["T_WHITESPACE"," ",156],".",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getFilePath",156],"(",["T_VARIABLE","$name",156],")",")",";",["T_WHITESPACE","\n    ",156],"}",["T_WHITESPACE","\n    ",157],["T_ELSE","else",158],["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n      ",158],["T_STRING","drupal_chmod",159],"(",["T_VARIABLE","$target",159],")",";",["T_WHITESPACE","\n    ",159],"}",["T_WHITESPACE","\n\n    ",160],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","fileCache",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","set",162],"(",["T_VARIABLE","$target",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$data",162],")",";",["T_WHITESPACE","\n\n    ",162],["T_RETURN","return",164],["T_WHITESPACE"," ",164],["T_STRING","TRUE",164],";",["T_WHITESPACE","\n  ",164],"}",["T_WHITESPACE","\n\n  ",165],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",167],["T_WHITESPACE","\n  ",169],["T_PUBLIC","public",170],["T_WHITESPACE"," ",170],["T_FUNCTION","function",170],["T_WHITESPACE"," ",170],["T_STRING","delete",170],"(",["T_VARIABLE","$name",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n    ",170],["T_IF","if",171],["T_WHITESPACE"," ",171],"(","!",["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","exists",171],"(",["T_VARIABLE","$name",171],")",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n      ",171],["T_VARIABLE","$dir",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getCollectionDirectory",172],"(",")",";",["T_WHITESPACE","\n      ",172],["T_IF","if",173],["T_WHITESPACE"," ",173],"(","!",["T_STRING","file_exists",173],"(",["T_VARIABLE","$dir",173],")",")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n        ",173],["T_THROW","throw",174],["T_WHITESPACE"," ",174],["T_NEW","new",174],["T_WHITESPACE"," ",174],["T_STRING","StorageException",174],"(",["T_VARIABLE","$dir",174],["T_WHITESPACE"," ",174],".",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'\/ not found.'",174],")",";",["T_WHITESPACE","\n      ",174],"}",["T_WHITESPACE","\n      ",175],["T_RETURN","return",176],["T_WHITESPACE"," ",176],["T_STRING","FALSE",176],";",["T_WHITESPACE","\n    ",176],"}",["T_WHITESPACE","\n    ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","fileCache",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","delete",178],"(",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getFilePath",178],"(",["T_VARIABLE","$name",178],")",")",";",["T_WHITESPACE","\n    ",178],["T_RETURN","return",179],["T_WHITESPACE"," ",179],["T_STRING","drupal_unlink",179],"(",["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getFilePath",179],"(",["T_VARIABLE","$name",179],")",")",";",["T_WHITESPACE","\n  ",179],"}",["T_WHITESPACE","\n\n  ",180],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",182],["T_WHITESPACE","\n  ",184],["T_PUBLIC","public",185],["T_WHITESPACE"," ",185],["T_FUNCTION","function",185],["T_WHITESPACE"," ",185],["T_STRING","rename",185],"(",["T_VARIABLE","$name",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$new_name",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n    ",185],["T_VARIABLE","$status",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],"@",["T_STRING","rename",186],"(",["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getFilePath",186],"(",["T_VARIABLE","$name",186],")",",",["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getFilePath",186],"(",["T_VARIABLE","$new_name",186],")",")",";",["T_WHITESPACE","\n    ",186],["T_IF","if",187],["T_WHITESPACE"," ",187],"(",["T_VARIABLE","$status",187],["T_WHITESPACE"," ",187],["T_IS_IDENTICAL","===",187],["T_WHITESPACE"," ",187],["T_STRING","FALSE",187],")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n      ",187],["T_THROW","throw",188],["T_WHITESPACE"," ",188],["T_NEW","new",188],["T_WHITESPACE"," ",188],["T_STRING","StorageException",188],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to rename configuration file from: '",188],["T_WHITESPACE"," ",188],".",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","getFilePath",188],"(",["T_VARIABLE","$name",188],")",["T_WHITESPACE"," ",188],".",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","' to: '",188],["T_WHITESPACE"," ",188],".",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","getFilePath",188],"(",["T_VARIABLE","$new_name",188],")",")",";",["T_WHITESPACE","\n    ",188],"}",["T_WHITESPACE","\n    ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","fileCache",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","delete",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getFilePath",190],"(",["T_VARIABLE","$name",190],")",")",";",["T_WHITESPACE","\n    ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","fileCache",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","delete",191],"(",["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getFilePath",191],"(",["T_VARIABLE","$new_name",191],")",")",";",["T_WHITESPACE","\n    ",191],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_STRING","TRUE",192],";",["T_WHITESPACE","\n  ",192],"}",["T_WHITESPACE","\n\n  ",193],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",195],["T_WHITESPACE","\n  ",197],["T_PUBLIC","public",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","encode",198],"(",["T_VARIABLE","$data",198],")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n    ",198],["T_RETURN","return",199],["T_WHITESPACE"," ",199],["T_STRING","Yaml",199],["T_DOUBLE_COLON","::",199],["T_STRING","encode",199],"(",["T_VARIABLE","$data",199],")",";",["T_WHITESPACE","\n  ",199],"}",["T_WHITESPACE","\n\n  ",200],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",202],["T_WHITESPACE","\n  ",204],["T_PUBLIC","public",205],["T_WHITESPACE"," ",205],["T_FUNCTION","function",205],["T_WHITESPACE"," ",205],["T_STRING","decode",205],"(",["T_VARIABLE","$raw",205],")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n    ",205],["T_VARIABLE","$data",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_STRING","Yaml",206],["T_DOUBLE_COLON","::",206],["T_STRING","decode",206],"(",["T_VARIABLE","$raw",206],")",";",["T_WHITESPACE","\n    ",206],["T_COMMENT","\/\/ A simple string is valid YAML for any reason.\n",207],["T_WHITESPACE","    ",208],["T_IF","if",208],["T_WHITESPACE"," ",208],"(","!",["T_STRING","is_array",208],"(",["T_VARIABLE","$data",208],")",")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n      ",208],["T_RETURN","return",209],["T_WHITESPACE"," ",209],["T_STRING","FALSE",209],";",["T_WHITESPACE","\n    ",209],"}",["T_WHITESPACE","\n    ",210],["T_RETURN","return",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$data",211],";",["T_WHITESPACE","\n  ",211],"}",["T_WHITESPACE","\n\n  ",212],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",214],["T_WHITESPACE","\n  ",216],["T_PUBLIC","public",217],["T_WHITESPACE"," ",217],["T_FUNCTION","function",217],["T_WHITESPACE"," ",217],["T_STRING","listAll",217],"(",["T_VARIABLE","$prefix",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","''",217],")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n    ",217],["T_VARIABLE","$dir",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getCollectionDirectory",218],"(",")",";",["T_WHITESPACE","\n    ",218],["T_IF","if",219],["T_WHITESPACE"," ",219],"(","!",["T_STRING","is_dir",219],"(",["T_VARIABLE","$dir",219],")",")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n      ",219],["T_RETURN","return",220],["T_WHITESPACE"," ",220],["T_ARRAY","array",220],"(",")",";",["T_WHITESPACE","\n    ",220],"}",["T_WHITESPACE","\n    ",221],["T_VARIABLE","$extension",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","'.'",222],["T_WHITESPACE"," ",222],".",["T_WHITESPACE"," ",222],["T_STATIC","static",222],["T_DOUBLE_COLON","::",222],["T_STRING","getFileExtension",222],"(",")",";",["T_WHITESPACE","\n\n    ",222],["T_COMMENT","\/\/ glob() directly calls into libc glob(), which is not aware of PHP stream\n",224],["T_WHITESPACE","    ",225],["T_COMMENT","\/\/ wrappers. Same for \\GlobIterator (which additionally requires an absolute\n",225],["T_WHITESPACE","    ",226],["T_COMMENT","\/\/ realpath() on Windows).\n",226],["T_WHITESPACE","    ",227],["T_COMMENT","\/\/ @see https:\/\/github.com\/mikey179\/vfsStream\/issues\/2\n",227],["T_WHITESPACE","    ",228],["T_VARIABLE","$files",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_STRING","scandir",228],"(",["T_VARIABLE","$dir",228],")",";",["T_WHITESPACE","\n\n    ",228],["T_VARIABLE","$names",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_ARRAY","array",230],"(",")",";",["T_WHITESPACE","\n    ",230],["T_VARIABLE","$pattern",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'\/^'",231],["T_WHITESPACE"," ",231],".",["T_WHITESPACE"," ",231],["T_STRING","preg_quote",231],"(",["T_VARIABLE","$prefix",231],",",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'\/'",231],")",["T_WHITESPACE"," ",231],".",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'.*'",231],["T_WHITESPACE"," ",231],".",["T_WHITESPACE"," ",231],["T_STRING","preg_quote",231],"(",["T_VARIABLE","$extension",231],",",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'\/'",231],")",["T_WHITESPACE"," ",231],".",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'$\/'",231],";",["T_WHITESPACE","\n    ",231],["T_FOREACH","foreach",232],["T_WHITESPACE"," ",232],"(",["T_VARIABLE","$files",232],["T_WHITESPACE"," ",232],["T_AS","as",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$file",232],")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n      ",232],["T_IF","if",233],["T_WHITESPACE"," ",233],"(",["T_VARIABLE","$file",233],"[",["T_LNUMBER","0",233],"]",["T_WHITESPACE"," ",233],["T_IS_NOT_IDENTICAL","!==",233],["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'.'",233],["T_WHITESPACE"," ",233],["T_BOOLEAN_AND","&&",233],["T_WHITESPACE"," ",233],["T_STRING","preg_match",233],"(",["T_VARIABLE","$pattern",233],",",["T_WHITESPACE"," ",233],["T_VARIABLE","$file",233],")",")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$names",234],"[","]",["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_STRING","basename",234],"(",["T_VARIABLE","$file",234],",",["T_WHITESPACE"," ",234],["T_VARIABLE","$extension",234],")",";",["T_WHITESPACE","\n      ",234],"}",["T_WHITESPACE","\n    ",235],"}",["T_WHITESPACE","\n\n    ",236],["T_RETURN","return",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$names",238],";",["T_WHITESPACE","\n  ",238],"}",["T_WHITESPACE","\n\n  ",239],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",241],["T_WHITESPACE","\n  ",243],["T_PUBLIC","public",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","deleteAll",244],"(",["T_VARIABLE","$prefix",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","''",244],")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n    ",244],["T_VARIABLE","$success",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_STRING","TRUE",245],";",["T_WHITESPACE","\n    ",245],["T_VARIABLE","$files",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","listAll",246],"(",["T_VARIABLE","$prefix",246],")",";",["T_WHITESPACE","\n    ",246],["T_FOREACH","foreach",247],["T_WHITESPACE"," ",247],"(",["T_VARIABLE","$files",247],["T_WHITESPACE"," ",247],["T_AS","as",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$name",247],")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n      ",247],["T_IF","if",248],["T_WHITESPACE"," ",248],"(","!",["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","delete",248],"(",["T_VARIABLE","$name",248],")",["T_WHITESPACE"," ",248],["T_BOOLEAN_AND","&&",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$success",248],")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n        ",248],["T_VARIABLE","$success",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_STRING","FALSE",249],";",["T_WHITESPACE","\n      ",249],"}",["T_WHITESPACE","\n    ",250],"}",["T_WHITESPACE","\n    ",251],["T_IF","if",252],["T_WHITESPACE"," ",252],"(",["T_VARIABLE","$success",252],["T_WHITESPACE"," ",252],["T_BOOLEAN_AND","&&",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","collection",252],["T_WHITESPACE"," ",252],["T_IS_NOT_EQUAL","!=",252],["T_WHITESPACE"," ",252],["T_STRING","StorageInterface",252],["T_DOUBLE_COLON","::",252],["T_STRING","DEFAULT_COLLECTION",252],")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n      ",252],["T_COMMENT","\/\/ Remove empty directories.\n",253],["T_WHITESPACE","      ",254],["T_IF","if",254],["T_WHITESPACE"," ",254],"(","!","(",["T_NEW","new",254],["T_WHITESPACE"," ",254],["T_NS_SEPARATOR","\\",254],["T_STRING","FilesystemIterator",254],"(",["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","getCollectionDirectory",254],"(",")",")",")",["T_OBJECT_OPERATOR","->",254],["T_STRING","valid",254],"(",")",")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n        ",254],["T_STRING","drupal_rmdir",255],"(",["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getCollectionDirectory",255],"(",")",")",";",["T_WHITESPACE","\n      ",255],"}",["T_WHITESPACE","\n    ",256],"}",["T_WHITESPACE","\n    ",257],["T_RETURN","return",258],["T_WHITESPACE"," ",258],["T_VARIABLE","$success",258],";",["T_WHITESPACE","\n  ",258],"}",["T_WHITESPACE","\n\n  ",259],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",261],["T_WHITESPACE","\n  ",263],["T_PUBLIC","public",264],["T_WHITESPACE"," ",264],["T_FUNCTION","function",264],["T_WHITESPACE"," ",264],["T_STRING","createCollection",264],"(",["T_VARIABLE","$collection",264],")",["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n    ",264],["T_RETURN","return",265],["T_WHITESPACE"," ",265],["T_NEW","new",265],["T_WHITESPACE"," ",265],["T_STATIC","static",265],"(",["T_WHITESPACE","\n      ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","directory",266],",",["T_WHITESPACE","\n      ",266],["T_VARIABLE","$collection",267],["T_WHITESPACE","\n    ",267],")",";",["T_WHITESPACE","\n  ",268],"}",["T_WHITESPACE","\n\n  ",269],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",271],["T_WHITESPACE","\n  ",273],["T_PUBLIC","public",274],["T_WHITESPACE"," ",274],["T_FUNCTION","function",274],["T_WHITESPACE"," ",274],["T_STRING","getCollectionName",274],"(",")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n    ",274],["T_RETURN","return",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","collection",275],";",["T_WHITESPACE","\n  ",275],"}",["T_WHITESPACE","\n\n  ",276],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",278],["T_WHITESPACE","\n  ",280],["T_PUBLIC","public",281],["T_WHITESPACE"," ",281],["T_FUNCTION","function",281],["T_WHITESPACE"," ",281],["T_STRING","getAllCollectionNames",281],"(",")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n    ",281],["T_VARIABLE","$collections",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","getAllCollectionNamesHelper",282],"(",["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","directory",282],")",";",["T_WHITESPACE","\n    ",282],["T_STRING","sort",283],"(",["T_VARIABLE","$collections",283],")",";",["T_WHITESPACE","\n    ",283],["T_RETURN","return",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$collections",284],";",["T_WHITESPACE","\n  ",284],"}",["T_WHITESPACE","\n\n  ",285],["T_DOC_COMMENT","\/**\n   * Helper function for getAllCollectionNames().\n   *\n   * If the file storage has the following subdirectory structure:\n   *   .\/another_collection\/one\n   *   .\/another_collection\/two\n   *   .\/collection\/sub\/one\n   *   .\/collection\/sub\/two\n   * this function will return:\n   * @code\n   *   array(\n   *     'another_collection.one',\n   *     'another_collection.two',\n   *     'collection.sub.one',\n   *     'collection.sub.two',\n   *   );\n   * @endcode\n   *\n   * @param string $directory\n   *   The directory to check for sub directories. This allows this\n   *   function to be used recursively to discover all the collections in the\n   *   storage.\n   *\n   * @return array\n   *   A list of collection names contained within the provided directory.\n   *\/",287],["T_WHITESPACE","\n  ",312],["T_PROTECTED","protected",313],["T_WHITESPACE"," ",313],["T_FUNCTION","function",313],["T_WHITESPACE"," ",313],["T_STRING","getAllCollectionNamesHelper",313],"(",["T_VARIABLE","$directory",313],")",["T_WHITESPACE"," ",313],"{",["T_WHITESPACE","\n    ",313],["T_VARIABLE","$collections",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_ARRAY","array",314],"(",")",";",["T_WHITESPACE","\n    ",314],["T_VARIABLE","$pattern",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","'\/\\.'",315],["T_WHITESPACE"," ",315],".",["T_WHITESPACE"," ",315],["T_STRING","preg_quote",315],"(",["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","getFileExtension",315],"(",")",",",["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","'\/'",315],")",["T_WHITESPACE"," ",315],".",["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","'$\/'",315],";",["T_WHITESPACE","\n    ",315],["T_FOREACH","foreach",316],["T_WHITESPACE"," ",316],"(",["T_NEW","new",316],["T_WHITESPACE"," ",316],["T_NS_SEPARATOR","\\",316],["T_STRING","DirectoryIterator",316],"(",["T_VARIABLE","$directory",316],")",["T_WHITESPACE"," ",316],["T_AS","as",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$fileinfo",316],")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n      ",316],["T_IF","if",317],["T_WHITESPACE"," ",317],"(",["T_VARIABLE","$fileinfo",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","isDir",317],"(",")",["T_WHITESPACE"," ",317],["T_BOOLEAN_AND","&&",317],["T_WHITESPACE"," ",317],"!",["T_VARIABLE","$fileinfo",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","isDot",317],"(",")",")",["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n        ",317],["T_VARIABLE","$collection",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_VARIABLE","$fileinfo",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","getFilename",318],"(",")",";",["T_WHITESPACE","\n        ",318],["T_COMMENT","\/\/ Recursively call getAllCollectionNamesHelper() to discover if there\n",319],["T_WHITESPACE","        ",320],["T_COMMENT","\/\/ are subdirectories. Subdirectories represent a dotted collection\n",320],["T_WHITESPACE","        ",321],["T_COMMENT","\/\/ name.\n",321],["T_WHITESPACE","        ",322],["T_VARIABLE","$sub_collections",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","getAllCollectionNamesHelper",322],"(",["T_VARIABLE","$directory",322],["T_WHITESPACE"," ",322],".",["T_WHITESPACE"," ",322],["T_CONSTANT_ENCAPSED_STRING","'\/'",322],["T_WHITESPACE"," ",322],".",["T_WHITESPACE"," ",322],["T_VARIABLE","$collection",322],")",";",["T_WHITESPACE","\n        ",322],["T_IF","if",323],["T_WHITESPACE"," ",323],"(","!",["T_EMPTY","empty",323],"(",["T_VARIABLE","$sub_collections",323],")",")",["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n          ",323],["T_COMMENT","\/\/ Build up the collection name by concatenating the subdirectory\n",324],["T_WHITESPACE","          ",325],["T_COMMENT","\/\/ names with the current directory name.\n",325],["T_WHITESPACE","          ",326],["T_FOREACH","foreach",326],["T_WHITESPACE"," ",326],"(",["T_VARIABLE","$sub_collections",326],["T_WHITESPACE"," ",326],["T_AS","as",326],["T_WHITESPACE"," ",326],["T_VARIABLE","$sub_collection",326],")",["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n            ",326],["T_VARIABLE","$collections",327],"[","]",["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_VARIABLE","$collection",327],["T_WHITESPACE"," ",327],".",["T_WHITESPACE"," ",327],["T_CONSTANT_ENCAPSED_STRING","'.'",327],["T_WHITESPACE"," ",327],".",["T_WHITESPACE"," ",327],["T_VARIABLE","$sub_collection",327],";",["T_WHITESPACE","\n          ",327],"}",["T_WHITESPACE","\n        ",328],"}",["T_WHITESPACE","\n        ",329],["T_COMMENT","\/\/ Check that the collection is valid by searching it for configuration\n",330],["T_WHITESPACE","        ",331],["T_COMMENT","\/\/ objects. A directory without any configuration objects is not a valid\n",331],["T_WHITESPACE","        ",332],["T_COMMENT","\/\/ collection.\n",332],["T_WHITESPACE","        ",333],["T_COMMENT","\/\/ @see \\Drupal\\Core\\Config\\FileStorage::listAll()\n",333],["T_WHITESPACE","        ",334],["T_FOREACH","foreach",334],["T_WHITESPACE"," ",334],"(",["T_STRING","scandir",334],"(",["T_VARIABLE","$directory",334],["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","'\/'",334],["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_VARIABLE","$collection",334],")",["T_WHITESPACE"," ",334],["T_AS","as",334],["T_WHITESPACE"," ",334],["T_VARIABLE","$file",334],")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n          ",334],["T_IF","if",335],["T_WHITESPACE"," ",335],"(",["T_VARIABLE","$file",335],"[",["T_LNUMBER","0",335],"]",["T_WHITESPACE"," ",335],["T_IS_NOT_IDENTICAL","!==",335],["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'.'",335],["T_WHITESPACE"," ",335],["T_BOOLEAN_AND","&&",335],["T_WHITESPACE"," ",335],["T_STRING","preg_match",335],"(",["T_VARIABLE","$pattern",335],",",["T_WHITESPACE"," ",335],["T_VARIABLE","$file",335],")",")",["T_WHITESPACE"," ",335],"{",["T_WHITESPACE","\n            ",335],["T_VARIABLE","$collections",336],"[","]",["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_VARIABLE","$collection",336],";",["T_WHITESPACE","\n            ",336],["T_BREAK","break",337],";",["T_WHITESPACE","\n          ",337],"}",["T_WHITESPACE","\n        ",338],"}",["T_WHITESPACE","\n      ",339],"}",["T_WHITESPACE","\n    ",340],"}",["T_WHITESPACE","\n    ",341],["T_RETURN","return",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$collections",342],";",["T_WHITESPACE","\n  ",342],"}",["T_WHITESPACE","\n\n  ",343],["T_DOC_COMMENT","\/**\n   * Gets the directory for the collection.\n   *\n   * @return string\n   *   The directory for the collection.\n   *\/",345],["T_WHITESPACE","\n  ",350],["T_PROTECTED","protected",351],["T_WHITESPACE"," ",351],["T_FUNCTION","function",351],["T_WHITESPACE"," ",351],["T_STRING","getCollectionDirectory",351],"(",")",["T_WHITESPACE"," ",351],"{",["T_WHITESPACE","\n    ",351],["T_IF","if",352],["T_WHITESPACE"," ",352],"(",["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","collection",352],["T_WHITESPACE"," ",352],["T_IS_EQUAL","==",352],["T_WHITESPACE"," ",352],["T_STRING","StorageInterface",352],["T_DOUBLE_COLON","::",352],["T_STRING","DEFAULT_COLLECTION",352],")",["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n      ",352],["T_VARIABLE","$dir",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","directory",353],";",["T_WHITESPACE","\n    ",353],"}",["T_WHITESPACE","\n    ",354],["T_ELSE","else",355],["T_WHITESPACE"," ",355],"{",["T_WHITESPACE","\n      ",355],["T_VARIABLE","$dir",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","directory",356],["T_WHITESPACE"," ",356],".",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'\/'",356],["T_WHITESPACE"," ",356],".",["T_WHITESPACE"," ",356],["T_STRING","str_replace",356],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",356],",",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'\/'",356],",",["T_WHITESPACE"," ",356],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","collection",356],")",";",["T_WHITESPACE","\n    ",356],"}",["T_WHITESPACE","\n    ",357],["T_RETURN","return",358],["T_WHITESPACE"," ",358],["T_VARIABLE","$dir",358],";",["T_WHITESPACE","\n  ",358],"}",["T_WHITESPACE","\n\n",359],"}",["T_WHITESPACE","\n",361]]