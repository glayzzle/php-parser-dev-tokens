[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Config",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Entity",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Config",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ConfigNameException",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","EntityStorageInterface",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * A base class for config entity types that act as bundles.\n *\n * Entity types that want to use this base class must use bundle_of in their\n * annotation to specify for which entity type they are providing bundles for.\n *\/",8],["T_WHITESPACE","\n",13],["T_ABSTRACT","abstract",14],["T_WHITESPACE"," ",14],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","ConfigEntityBundleBase",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","ConfigEntityBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * Deletes display if a bundle is deleted.\n   *\/",16],["T_WHITESPACE","\n  ",18],["T_PROTECTED","protected",19],["T_WHITESPACE"," ",19],["T_FUNCTION","function",19],["T_WHITESPACE"," ",19],["T_STRING","deleteDisplays",19],"(",")",["T_WHITESPACE"," ",19],"{",["T_WHITESPACE","\n    ",19],["T_COMMENT","\/\/ Remove entity displays of the deleted bundle.\n",20],["T_WHITESPACE","    ",21],["T_IF","if",21],["T_WHITESPACE"," ",21],"(",["T_VARIABLE","$displays",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_VARIABLE","$this",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","loadDisplays",21],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_view_display'",21],")",")",["T_WHITESPACE"," ",21],"{",["T_WHITESPACE","\n      ",21],["T_VARIABLE","$storage",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_VARIABLE","$this",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","entityManager",22],"(",")",["T_OBJECT_OPERATOR","->",22],["T_STRING","getStorage",22],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_view_display'",22],")",";",["T_WHITESPACE","\n      ",22],["T_VARIABLE","$storage",23],["T_OBJECT_OPERATOR","->",23],["T_STRING","delete",23],"(",["T_VARIABLE","$displays",23],")",";",["T_WHITESPACE","\n    ",23],"}",["T_WHITESPACE","\n\n    ",24],["T_COMMENT","\/\/ Remove entity form displays of the deleted bundle.\n",26],["T_WHITESPACE","    ",27],["T_IF","if",27],["T_WHITESPACE"," ",27],"(",["T_VARIABLE","$displays",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","loadDisplays",27],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_form_display'",27],")",")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n      ",27],["T_VARIABLE","$storage",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_VARIABLE","$this",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","entityManager",28],"(",")",["T_OBJECT_OPERATOR","->",28],["T_STRING","getStorage",28],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_form_display'",28],")",";",["T_WHITESPACE","\n      ",28],["T_VARIABLE","$storage",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","delete",29],"(",["T_VARIABLE","$displays",29],")",";",["T_WHITESPACE","\n    ",29],"}",["T_WHITESPACE","\n  ",30],"}",["T_WHITESPACE","\n\n  ",31],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",33],["T_WHITESPACE","\n  ",35],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","postSave",36],"(",["T_STRING","EntityStorageInterface",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$storage",36],",",["T_WHITESPACE"," ",36],["T_VARIABLE","$update",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_STRING","TRUE",36],")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n    ",36],["T_STRING","parent",37],["T_DOUBLE_COLON","::",37],["T_STRING","postSave",37],"(",["T_VARIABLE","$storage",37],",",["T_WHITESPACE"," ",37],["T_VARIABLE","$update",37],")",";",["T_WHITESPACE","\n\n    ",37],["T_VARIABLE","$entity_manager",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","entityManager",39],"(",")",";",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$bundle_of",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","getEntityType",40],"(",")",["T_OBJECT_OPERATOR","->",40],["T_STRING","getBundleOf",40],"(",")",";",["T_WHITESPACE","\n    ",40],["T_IF","if",41],["T_WHITESPACE"," ",41],"(","!",["T_VARIABLE","$update",41],")",["T_WHITESPACE"," ",41],"{",["T_WHITESPACE","\n      ",41],["T_VARIABLE","$entity_manager",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","onBundleCreate",42],"(",["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","id",42],"(",")",",",["T_WHITESPACE"," ",42],["T_VARIABLE","$bundle_of",42],")",";",["T_WHITESPACE","\n    ",42],"}",["T_WHITESPACE","\n    ",43],["T_ELSE","else",44],["T_WHITESPACE"," ",44],"{",["T_WHITESPACE","\n      ",44],["T_COMMENT","\/\/ Invalidate the render cache of entities for which this entity\n",45],["T_WHITESPACE","      ",46],["T_COMMENT","\/\/ is a bundle.\n",46],["T_WHITESPACE","      ",47],["T_IF","if",47],["T_WHITESPACE"," ",47],"(",["T_VARIABLE","$entity_manager",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","hasHandler",47],"(",["T_VARIABLE","$bundle_of",47],",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'view_builder'",47],")",")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$entity_manager",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getViewBuilder",48],"(",["T_VARIABLE","$bundle_of",48],")",["T_OBJECT_OPERATOR","->",48],["T_STRING","resetCache",48],"(",")",";",["T_WHITESPACE","\n      ",48],"}",["T_WHITESPACE","\n      ",49],["T_COMMENT","\/\/ Entity bundle field definitions may depend on bundle settings.\n",50],["T_WHITESPACE","      ",51],["T_VARIABLE","$entity_manager",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","clearCachedFieldDefinitions",51],"(",")",";",["T_WHITESPACE","\n      ",51],["T_VARIABLE","$entity_manager",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","clearCachedBundles",52],"(",")",";",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n  ",53],"}",["T_WHITESPACE","\n\n  ",54],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",56],["T_WHITESPACE","\n  ",58],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_STATIC","static",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","postDelete",59],"(",["T_STRING","EntityStorageInterface",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$storage",59],",",["T_WHITESPACE"," ",59],["T_ARRAY","array",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$entities",59],")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n    ",59],["T_STRING","parent",60],["T_DOUBLE_COLON","::",60],["T_STRING","postDelete",60],"(",["T_VARIABLE","$storage",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$entities",60],")",";",["T_WHITESPACE","\n\n    ",60],["T_FOREACH","foreach",62],["T_WHITESPACE"," ",62],"(",["T_VARIABLE","$entities",62],["T_WHITESPACE"," ",62],["T_AS","as",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$entity",62],")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n      ",62],["T_VARIABLE","$entity",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","deleteDisplays",63],"(",")",";",["T_WHITESPACE","\n      ",63],["T_NS_SEPARATOR","\\",64],["T_STRING","Drupal",64],["T_DOUBLE_COLON","::",64],["T_STRING","entityManager",64],"(",")",["T_OBJECT_OPERATOR","->",64],["T_STRING","onBundleDelete",64],"(",["T_VARIABLE","$entity",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","id",64],"(",")",",",["T_WHITESPACE"," ",64],["T_VARIABLE","$entity",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getEntityType",64],"(",")",["T_OBJECT_OPERATOR","->",64],["T_STRING","getBundleOf",64],"(",")",")",";",["T_WHITESPACE","\n    ",64],"}",["T_WHITESPACE","\n  ",65],"}",["T_WHITESPACE","\n\n  ",66],["T_DOC_COMMENT","\/**\n   * Acts on an entity before the presave hook is invoked.\n   *\n   * Used before the entity is saved and before invoking the presave hook.\n   *\n   * Ensure that config entities which are bundles of other entities cannot have\n   * their ID changed.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityStorageInterface $storage\n   *   The entity storage object.\n   *\n   * @throws \\Drupal\\Core\\Config\\ConfigNameException\n   *   Thrown when attempting to rename a bundle entity.\n   *\/",68],["T_WHITESPACE","\n  ",81],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","preSave",82],"(",["T_STRING","EntityStorageInterface",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$storage",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n    ",82],["T_STRING","parent",83],["T_DOUBLE_COLON","::",83],["T_STRING","preSave",83],"(",["T_VARIABLE","$storage",83],")",";",["T_WHITESPACE","\n\n    ",83],["T_COMMENT","\/\/ Only handle renames, not creations.\n",85],["T_WHITESPACE","    ",86],["T_IF","if",86],["T_WHITESPACE"," ",86],"(","!",["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","isNew",86],"(",")",["T_WHITESPACE"," ",86],["T_BOOLEAN_AND","&&",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getOriginalId",86],"(",")",["T_WHITESPACE"," ",86],["T_IS_NOT_IDENTICAL","!==",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","id",86],"(",")",")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n      ",86],["T_VARIABLE","$bundle_type",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getEntityType",87],"(",")",";",["T_WHITESPACE","\n      ",87],["T_VARIABLE","$bundle_of",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$bundle_type",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getBundleOf",88],"(",")",";",["T_WHITESPACE","\n      ",88],["T_IF","if",89],["T_WHITESPACE"," ",89],"(","!",["T_EMPTY","empty",89],"(",["T_VARIABLE","$bundle_of",89],")",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n        ",89],["T_THROW","throw",90],["T_WHITESPACE"," ",90],["T_NEW","new",90],["T_WHITESPACE"," ",90],["T_STRING","ConfigNameException",90],"(","\"",["T_ENCAPSED_AND_WHITESPACE","The machine name of the '",90],["T_CURLY_OPEN","{",90],["T_VARIABLE","$bundle_type",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getLabel",90],"(",")","}",["T_ENCAPSED_AND_WHITESPACE","' bundle cannot be changed.",90],"\"",")",";",["T_WHITESPACE","\n      ",90],"}",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n  ",92],"}",["T_WHITESPACE","\n\n  ",93],["T_DOC_COMMENT","\/**\n   * Returns view or form displays for this bundle.\n   *\n   * @param string $entity_type_id\n   *   The entity type ID of the display type to load.\n   *\n   * @return \\Drupal\\Core\\Entity\\Display\\EntityDisplayInterface[]\n   *   A list of matching displays.\n   *\/",95],["T_WHITESPACE","\n  ",103],["T_PROTECTED","protected",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","loadDisplays",104],"(",["T_VARIABLE","$entity_type_id",104],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n    ",104],["T_VARIABLE","$ids",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_NS_SEPARATOR","\\",105],["T_STRING","Drupal",105],["T_DOUBLE_COLON","::",105],["T_STRING","entityQuery",105],"(",["T_VARIABLE","$entity_type_id",105],")",["T_WHITESPACE","\n      ",105],["T_OBJECT_OPERATOR","->",106],["T_STRING","condition",106],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getEntityType",106],"(",")",["T_OBJECT_OPERATOR","->",106],["T_STRING","getBundleOf",106],"(",")",["T_WHITESPACE"," ",106],".",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'.'",106],["T_WHITESPACE"," ",106],".",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getOriginalId",106],"(",")",["T_WHITESPACE"," ",106],".",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'.'",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'STARTS_WITH'",106],")",["T_WHITESPACE","\n      ",106],["T_OBJECT_OPERATOR","->",107],["T_STRING","execute",107],"(",")",";",["T_WHITESPACE","\n    ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_VARIABLE","$ids",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n      ",108],["T_VARIABLE","$storage",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","entityManager",109],"(",")",["T_OBJECT_OPERATOR","->",109],["T_STRING","getStorage",109],"(",["T_VARIABLE","$entity_type_id",109],")",";",["T_WHITESPACE","\n      ",109],["T_RETURN","return",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$storage",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","loadMultiple",110],"(",["T_VARIABLE","$ids",110],")",";",["T_WHITESPACE","\n    ",110],"}",["T_WHITESPACE","\n    ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_ARRAY","array",112],"(",")",";",["T_WHITESPACE","\n  ",112],"}",["T_WHITESPACE","\n\n",113],"}",["T_WHITESPACE","\n",115]]