[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Config",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","NestedArray",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Cache",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CacheBackendInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Config",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Schema",7],["T_NS_SEPARATOR","\\",7],["T_STRING","ConfigSchemaAlterException",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Config",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Schema",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ConfigSchemaDiscovery",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Extension",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ModuleHandlerInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TypedData",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TypedDataManager",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Manages config schema type plugins.\n *\/",12],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","TypedConfigManager",15],["T_WHITESPACE"," ",15],["T_EXTENDS","extends",15],["T_WHITESPACE"," ",15],["T_STRING","TypedDataManager",15],["T_WHITESPACE"," ",15],["T_IMPLEMENTS","implements",15],["T_WHITESPACE"," ",15],["T_STRING","TypedConfigManagerInterface",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * A storage instance for reading configuration data.\n   *\n   * @var \\Drupal\\Core\\Config\\StorageInterface\n   *\/",17],["T_WHITESPACE","\n  ",21],["T_PROTECTED","protected",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$configStorage",22],";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * A storage instance for reading configuration schema data.\n   *\n   * @var \\Drupal\\Core\\Config\\StorageInterface\n   *\/",24],["T_WHITESPACE","\n  ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$schemaStorage",29],";",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * The array of plugin definitions, keyed by plugin id.\n   *\n   * @var array\n   *\/",31],["T_WHITESPACE","\n  ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$definitions",36],";",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * Creates a new typed configuration manager.\n   *\n   * @param \\Drupal\\Core\\Config\\StorageInterface $configStorage\n   *   The storage object to use for reading schema data\n   * @param \\Drupal\\Core\\Config\\StorageInterface $schemaStorage\n   *   The storage object to use for reading schema data\n   * @param \\Drupal\\Core\\Cache\\CacheBackendInterface $cache\n   *   The cache backend to use for caching the definitions.\n   *\/",38],["T_WHITESPACE","\n  ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","__construct",48],"(",["T_STRING","StorageInterface",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$configStorage",48],",",["T_WHITESPACE"," ",48],["T_STRING","StorageInterface",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$schemaStorage",48],",",["T_WHITESPACE"," ",48],["T_STRING","CacheBackendInterface",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$cache",48],",",["T_WHITESPACE"," ",48],["T_STRING","ModuleHandlerInterface",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$module_handler",48],")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","configStorage",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$configStorage",49],";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","schemaStorage",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$schemaStorage",50],";",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","setCacheBackend",51],"(",["T_VARIABLE","$cache",51],",",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'typed_config_definitions'",51],")",";",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","alterInfo",52],"(",["T_CONSTANT_ENCAPSED_STRING","'config_schema_info'",52],")",";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","moduleHandler",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$module_handler",53],";",["T_WHITESPACE","\n  ",53],"}",["T_WHITESPACE","\n\n  ",54],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",56],["T_WHITESPACE","\n  ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","getDiscovery",59],"(",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n    ",59],["T_IF","if",60],["T_WHITESPACE"," ",60],"(","!",["T_ISSET","isset",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","discovery",60],")",")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n      ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","discovery",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_NEW","new",61],["T_WHITESPACE"," ",61],["T_STRING","ConfigSchemaDiscovery",61],"(",["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","schemaStorage",61],")",";",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n    ",62],["T_RETURN","return",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","discovery",63],";",["T_WHITESPACE","\n  ",63],"}",["T_WHITESPACE","\n\n\n  ",64],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",67],["T_WHITESPACE","\n  ",69],["T_PUBLIC","public",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","get",70],"(",["T_VARIABLE","$name",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n    ",70],["T_VARIABLE","$data",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","configStorage",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","read",71],"(",["T_VARIABLE","$name",71],")",";",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$type_definition",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getDefinition",72],"(",["T_VARIABLE","$name",72],")",";",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$data_definition",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","buildDataDefinition",73],"(",["T_VARIABLE","$type_definition",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$data",73],")",";",["T_WHITESPACE","\n    ",73],["T_RETURN","return",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","create",74],"(",["T_VARIABLE","$data_definition",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$data",74],")",";",["T_WHITESPACE","\n  ",74],"}",["T_WHITESPACE","\n\n  ",75],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",77],["T_WHITESPACE","\n  ",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","buildDataDefinition",80],"(",["T_ARRAY","array",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$definition",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$value",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$name",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","NULL",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$parent",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","NULL",80],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n    ",80],["T_COMMENT","\/\/ Add default values for data type and replace variables.\n",81],["T_WHITESPACE","    ",82],["T_VARIABLE","$definition",82],["T_WHITESPACE"," ",82],["T_PLUS_EQUAL","+=",82],["T_WHITESPACE"," ",82],["T_ARRAY","array",82],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'undefined'",82],")",";",["T_WHITESPACE","\n\n    ",82],["T_VARIABLE","$replace",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],"[","]",";",["T_WHITESPACE","\n    ",84],["T_VARIABLE","$type",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$definition",85],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",85],"]",";",["T_WHITESPACE","\n    ",85],["T_IF","if",86],["T_WHITESPACE"," ",86],"(",["T_STRING","strpos",86],"(",["T_VARIABLE","$type",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","']'",86],")",")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n      ",86],["T_COMMENT","\/\/ Replace variable names in definition.\n",87],["T_WHITESPACE","      ",88],["T_VARIABLE","$replace",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_STRING","is_array",88],"(",["T_VARIABLE","$value",88],")",["T_WHITESPACE"," ",88],"?",["T_WHITESPACE"," ",88],["T_VARIABLE","$value",88],["T_WHITESPACE"," ",88],":",["T_WHITESPACE"," ",88],["T_ARRAY","array",88],"(",")",";",["T_WHITESPACE","\n      ",88],["T_IF","if",89],["T_WHITESPACE"," ",89],"(",["T_ISSET","isset",89],"(",["T_VARIABLE","$parent",89],")",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$replace",90],"[",["T_CONSTANT_ENCAPSED_STRING","'%parent'",90],"]",["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$parent",90],";",["T_WHITESPACE","\n      ",90],"}",["T_WHITESPACE","\n      ",91],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_ISSET","isset",92],"(",["T_VARIABLE","$name",92],")",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$replace",93],"[",["T_CONSTANT_ENCAPSED_STRING","'%key'",93],"]",["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$name",93],";",["T_WHITESPACE","\n      ",93],"}",["T_WHITESPACE","\n      ",94],["T_VARIABLE","$type",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","replaceName",95],"(",["T_VARIABLE","$type",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$replace",95],")",";",["T_WHITESPACE","\n      ",95],["T_COMMENT","\/\/ Remove the type from the definition so that it is replaced with the\n",96],["T_WHITESPACE","      ",97],["T_COMMENT","\/\/ concrete type from schema definitions.\n",97],["T_WHITESPACE","      ",98],["T_UNSET","unset",98],"(",["T_VARIABLE","$definition",98],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",98],"]",")",";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n    ",99],["T_COMMENT","\/\/ Add default values from type definition.\n",100],["T_WHITESPACE","    ",101],["T_VARIABLE","$definition",101],["T_WHITESPACE"," ",101],["T_PLUS_EQUAL","+=",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getDefinitionWithReplacements",101],"(",["T_VARIABLE","$type",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$replace",101],")",";",["T_WHITESPACE","\n\n    ",101],["T_VARIABLE","$data_definition",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","createDataDefinition",103],"(",["T_VARIABLE","$definition",103],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",103],"]",")",";",["T_WHITESPACE","\n\n    ",103],["T_COMMENT","\/\/ Pass remaining values from definition array to data definition.\n",105],["T_WHITESPACE","    ",106],["T_FOREACH","foreach",106],["T_WHITESPACE"," ",106],"(",["T_VARIABLE","$definition",106],["T_WHITESPACE"," ",106],["T_AS","as",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$key",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$value",106],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n      ",106],["T_IF","if",107],["T_WHITESPACE"," ",107],"(","!",["T_ISSET","isset",107],"(",["T_VARIABLE","$data_definition",107],"[",["T_VARIABLE","$key",107],"]",")",")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$data_definition",108],"[",["T_VARIABLE","$key",108],"]",["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$value",108],";",["T_WHITESPACE","\n      ",108],"}",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n    ",110],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$data_definition",111],";",["T_WHITESPACE","\n  ",111],"}",["T_WHITESPACE","\n\n  ",112],["T_DOC_COMMENT","\/**\n   * Determines the typed config type for a plugin ID.\n   *\n   * @param string $base_plugin_id\n   *   The plugin ID.\n   * @param array $definitions\n   *   An array of typed config definitions.\n   *\n   * @return string\n   *   The typed config type for the given plugin ID.\n   *\/",114],["T_WHITESPACE","\n  ",124],["T_PROTECTED","protected",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","determineType",125],"(",["T_VARIABLE","$base_plugin_id",125],",",["T_WHITESPACE"," ",125],["T_ARRAY","array",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$definitions",125],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n    ",125],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_ISSET","isset",126],"(",["T_VARIABLE","$definitions",126],"[",["T_VARIABLE","$base_plugin_id",126],"]",")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n      ",126],["T_VARIABLE","$type",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$base_plugin_id",127],";",["T_WHITESPACE","\n    ",127],"}",["T_WHITESPACE","\n    ",128],["T_ELSEIF","elseif",129],["T_WHITESPACE"," ",129],"(",["T_STRING","strpos",129],"(",["T_VARIABLE","$base_plugin_id",129],",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'.'",129],")",["T_WHITESPACE"," ",129],["T_BOOLEAN_AND","&&",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$name",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getFallbackName",129],"(",["T_VARIABLE","$base_plugin_id",129],")",")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n      ",129],["T_COMMENT","\/\/ Found a generic name, replacing the last element by '*'.\n",130],["T_WHITESPACE","      ",131],["T_VARIABLE","$type",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$name",131],";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n    ",132],["T_ELSE","else",133],["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n      ",133],["T_COMMENT","\/\/ If we don't have definition, return the 'undefined' element.\n",134],["T_WHITESPACE","      ",135],["T_VARIABLE","$type",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'undefined'",135],";",["T_WHITESPACE","\n    ",135],"}",["T_WHITESPACE","\n    ",136],["T_RETURN","return",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$type",137],";",["T_WHITESPACE","\n  ",137],"}",["T_WHITESPACE","\n\n  ",138],["T_DOC_COMMENT","\/**\n   * Gets a schema definition with replacements for dynamic names.\n   *\n   * @param string $base_plugin_id\n   *   A plugin ID.\n   * @param array $replacements\n   *   An array of replacements for dynamic type names.\n   * @param bool $exception_on_invalid\n   *   (optional) This parameter is passed along to self::getDefinition().\n   *   However, self::getDefinition() does not respect this parameter, so it is\n   *   effectively useless in this context.\n   *\n   * @return array\n   *   A schema definition array.\n   *\/",140],["T_WHITESPACE","\n  ",154],["T_PROTECTED","protected",155],["T_WHITESPACE"," ",155],["T_FUNCTION","function",155],["T_WHITESPACE"," ",155],["T_STRING","getDefinitionWithReplacements",155],"(",["T_VARIABLE","$base_plugin_id",155],",",["T_WHITESPACE"," ",155],["T_ARRAY","array",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$replacements",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$exception_on_invalid",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_STRING","TRUE",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n    ",155],["T_VARIABLE","$definitions",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getDefinitions",156],"(",")",";",["T_WHITESPACE","\n    ",156],["T_VARIABLE","$type",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","determineType",157],"(",["T_VARIABLE","$base_plugin_id",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$definitions",157],")",";",["T_WHITESPACE","\n    ",157],["T_VARIABLE","$definition",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$definitions",158],"[",["T_VARIABLE","$type",158],"]",";",["T_WHITESPACE","\n    ",158],["T_COMMENT","\/\/ Check whether this type is an extension of another one and compile it.\n",159],["T_WHITESPACE","    ",160],["T_IF","if",160],["T_WHITESPACE"," ",160],"(",["T_ISSET","isset",160],"(",["T_VARIABLE","$definition",160],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",160],"]",")",")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n      ",160],["T_VARIABLE","$merge",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getDefinition",161],"(",["T_VARIABLE","$definition",161],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",161],"]",",",["T_WHITESPACE"," ",161],["T_VARIABLE","$exception_on_invalid",161],")",";",["T_WHITESPACE","\n      ",161],["T_COMMENT","\/\/ Preserve integer keys on merge, so sequence item types can override\n",162],["T_WHITESPACE","      ",163],["T_COMMENT","\/\/ parent settings as opposed to adding unused second, third, etc. items.\n",163],["T_WHITESPACE","      ",164],["T_VARIABLE","$definition",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_STRING","NestedArray",164],["T_DOUBLE_COLON","::",164],["T_STRING","mergeDeepArray",164],"(",["T_ARRAY","array",164],"(",["T_VARIABLE","$merge",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$definition",164],")",",",["T_WHITESPACE"," ",164],["T_STRING","TRUE",164],")",";",["T_WHITESPACE","\n\n      ",164],["T_COMMENT","\/\/ Replace dynamic portions of the definition type.\n",166],["T_WHITESPACE","      ",167],["T_IF","if",167],["T_WHITESPACE"," ",167],"(","!",["T_EMPTY","empty",167],"(",["T_VARIABLE","$replacements",167],")",["T_WHITESPACE"," ",167],["T_BOOLEAN_AND","&&",167],["T_WHITESPACE"," ",167],["T_STRING","strpos",167],"(",["T_VARIABLE","$definition",167],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",167],"]",",",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","']'",167],")",")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$sub_type",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","determineType",168],"(",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","replaceName",168],"(",["T_VARIABLE","$definition",168],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",168],"]",",",["T_WHITESPACE"," ",168],["T_VARIABLE","$replacements",168],")",",",["T_WHITESPACE"," ",168],["T_VARIABLE","$definitions",168],")",";",["T_WHITESPACE","\n        ",168],["T_COMMENT","\/\/ Merge the newly determined subtype definition with the original\n",169],["T_WHITESPACE","        ",170],["T_COMMENT","\/\/ definition.\n",170],["T_WHITESPACE","        ",171],["T_VARIABLE","$definition",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_STRING","NestedArray",171],["T_DOUBLE_COLON","::",171],["T_STRING","mergeDeepArray",171],"(","[",["T_VARIABLE","$definitions",171],"[",["T_VARIABLE","$sub_type",171],"]",",",["T_WHITESPACE"," ",171],["T_VARIABLE","$definition",171],"]",",",["T_WHITESPACE"," ",171],["T_STRING","TRUE",171],")",";",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$type",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],"\"",["T_VARIABLE","$type",172],["T_ENCAPSED_AND_WHITESPACE","||",172],["T_VARIABLE","$sub_type",172],"\"",";",["T_WHITESPACE","\n      ",172],"}",["T_WHITESPACE","\n      ",173],["T_COMMENT","\/\/ Unset type so we try the merge only once per type.\n",174],["T_WHITESPACE","      ",175],["T_UNSET","unset",175],"(",["T_VARIABLE","$definition",175],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",175],"]",")",";",["T_WHITESPACE","\n      ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","definitions",176],"[",["T_VARIABLE","$type",176],"]",["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$definition",176],";",["T_WHITESPACE","\n    ",176],"}",["T_WHITESPACE","\n    ",177],["T_COMMENT","\/\/ Add type and default definition class.\n",178],["T_WHITESPACE","    ",179],["T_VARIABLE","$definition",179],["T_WHITESPACE"," ",179],["T_PLUS_EQUAL","+=",179],["T_WHITESPACE"," ",179],["T_ARRAY","array",179],"(",["T_WHITESPACE","\n      ",179],["T_CONSTANT_ENCAPSED_STRING","'definition_class'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Core\\TypedData\\DataDefinition'",180],",",["T_WHITESPACE","\n      ",180],["T_CONSTANT_ENCAPSED_STRING","'type'",181],["T_WHITESPACE"," ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$type",181],",",["T_WHITESPACE","\n    ",181],")",";",["T_WHITESPACE","\n    ",182],["T_RETURN","return",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$definition",183],";",["T_WHITESPACE","\n  ",183],"}",["T_WHITESPACE","\n\n  ",184],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",186],["T_WHITESPACE","\n  ",188],["T_PUBLIC","public",189],["T_WHITESPACE"," ",189],["T_FUNCTION","function",189],["T_WHITESPACE"," ",189],["T_STRING","getDefinition",189],"(",["T_VARIABLE","$base_plugin_id",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$exception_on_invalid",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_STRING","TRUE",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n    ",189],["T_RETURN","return",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getDefinitionWithReplacements",190],"(",["T_VARIABLE","$base_plugin_id",190],",",["T_WHITESPACE"," ",190],"[","]",",",["T_WHITESPACE"," ",190],["T_VARIABLE","$exception_on_invalid",190],")",";",["T_WHITESPACE","\n  ",190],"}",["T_WHITESPACE","\n\n  ",191],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",193],["T_WHITESPACE","\n  ",195],["T_PUBLIC","public",196],["T_WHITESPACE"," ",196],["T_FUNCTION","function",196],["T_WHITESPACE"," ",196],["T_STRING","clearCachedDefinitions",196],"(",")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n    ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","schemaStorage",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","reset",197],"(",")",";",["T_WHITESPACE","\n    ",197],["T_STRING","parent",198],["T_DOUBLE_COLON","::",198],["T_STRING","clearCachedDefinitions",198],"(",")",";",["T_WHITESPACE","\n  ",198],"}",["T_WHITESPACE","\n\n  ",199],["T_DOC_COMMENT","\/**\n   * Gets fallback configuration schema name.\n   *\n   * @param string $name\n   *   Configuration name or key.\n   *\n   * @return null|string\n   *   The resolved schema name for the given configuration name or key. Returns\n   *   null if there is no schema name to fallback to. For example,\n   *   breakpoint.breakpoint.module.toolbar.narrow will check for definitions in\n   *   the following order:\n   *     breakpoint.breakpoint.module.toolbar.*\n   *     breakpoint.breakpoint.module.*.*\n   *     breakpoint.breakpoint.module.*\n   *     breakpoint.breakpoint.*.*.*\n   *     breakpoint.breakpoint.*\n   *     breakpoint.*.*.*.*\n   *     breakpoint.*\n   *   Colons are also used, for example,\n   *   block.settings.system_menu_block:footer will check for definitions in the\n   *   following order:\n   *     block.settings.system_menu_block:*\n   *     block.settings.*:*\n   *     block.settings.*\n   *     block.*.*:*\n   *     block.*\n   *\/",201],["T_WHITESPACE","\n  ",227],["T_PROTECTED","protected",228],["T_WHITESPACE"," ",228],["T_FUNCTION","function",228],["T_WHITESPACE"," ",228],["T_STRING","getFallbackName",228],"(",["T_VARIABLE","$name",228],")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n    ",228],["T_COMMENT","\/\/ Check for definition of $name with filesystem marker.\n",229],["T_WHITESPACE","    ",230],["T_VARIABLE","$replaced",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_STRING","preg_replace",230],"(",["T_CONSTANT_ENCAPSED_STRING","'\/([^\\.:]+)([\\.:\\*]*)$\/'",230],",",["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","'*\\2'",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$name",230],")",";",["T_WHITESPACE","\n    ",230],["T_IF","if",231],["T_WHITESPACE"," ",231],"(",["T_VARIABLE","$replaced",231],["T_WHITESPACE"," ",231],["T_IS_NOT_EQUAL","!=",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$name",231],")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n      ",231],["T_IF","if",232],["T_WHITESPACE"," ",232],"(",["T_ISSET","isset",232],"(",["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","definitions",232],"[",["T_VARIABLE","$replaced",232],"]",")",")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n        ",232],["T_RETURN","return",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$replaced",233],";",["T_WHITESPACE","\n      ",233],"}",["T_WHITESPACE","\n      ",234],["T_ELSE","else",235],["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n        ",235],["T_COMMENT","\/\/ No definition for this level. Collapse multiple wildcards to a single\n",236],["T_WHITESPACE","        ",237],["T_COMMENT","\/\/ wildcard to see if there is a greedy match. For example,\n",237],["T_WHITESPACE","        ",238],["T_COMMENT","\/\/ breakpoint.breakpoint.*.* becomes\n",238],["T_WHITESPACE","        ",239],["T_COMMENT","\/\/ breakpoint.breakpoint.*\n",239],["T_WHITESPACE","        ",240],["T_VARIABLE","$one_star",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_STRING","preg_replace",240],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\.([:\\.\\*]*)$\/'",240],",",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'.*'",240],",",["T_WHITESPACE"," ",240],["T_VARIABLE","$replaced",240],")",";",["T_WHITESPACE","\n        ",240],["T_IF","if",241],["T_WHITESPACE"," ",241],"(",["T_VARIABLE","$one_star",241],["T_WHITESPACE"," ",241],["T_IS_NOT_EQUAL","!=",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$replaced",241],["T_WHITESPACE"," ",241],["T_BOOLEAN_AND","&&",241],["T_WHITESPACE"," ",241],["T_ISSET","isset",241],"(",["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","definitions",241],"[",["T_VARIABLE","$one_star",241],"]",")",")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n          ",241],["T_RETURN","return",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$one_star",242],";",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE","\n        ",243],["T_COMMENT","\/\/ Check for next level. For example, if breakpoint.breakpoint.* has\n",244],["T_WHITESPACE","        ",245],["T_COMMENT","\/\/ been checked and no match found then check breakpoint.*.*\n",245],["T_WHITESPACE","        ",246],["T_RETURN","return",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","getFallbackName",246],"(",["T_VARIABLE","$replaced",246],")",";",["T_WHITESPACE","\n      ",246],"}",["T_WHITESPACE","\n    ",247],"}",["T_WHITESPACE","\n  ",248],"}",["T_WHITESPACE","\n\n  ",249],["T_DOC_COMMENT","\/**\n   * Replaces variables in configuration name.\n   *\n   * The configuration name may contain one or more variables to be replaced,\n   * enclosed in square brackets like '[name]' and will follow the replacement\n   * rules defined by the replaceVariable() method.\n   *\n   * @param string $name\n   *   Configuration name with variables in square brackets.\n   * @param mixed $data\n   *   Configuration data for the element.\n   * @return string\n   *   Configuration name with variables replaced.\n   *\/",251],["T_WHITESPACE","\n  ",264],["T_PROTECTED","protected",265],["T_WHITESPACE"," ",265],["T_FUNCTION","function",265],["T_WHITESPACE"," ",265],["T_STRING","replaceName",265],"(",["T_VARIABLE","$name",265],",",["T_WHITESPACE"," ",265],["T_VARIABLE","$data",265],")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n    ",265],["T_IF","if",266],["T_WHITESPACE"," ",266],"(",["T_STRING","preg_match_all",266],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\\[(.*)\\]\/U\"",266],",",["T_WHITESPACE"," ",266],["T_VARIABLE","$name",266],",",["T_WHITESPACE"," ",266],["T_VARIABLE","$matches",266],")",")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n      ",266],["T_COMMENT","\/\/ Build our list of '[value]' => replacement.\n",267],["T_WHITESPACE","      ",268],["T_VARIABLE","$replace",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_ARRAY","array",268],"(",")",";",["T_WHITESPACE","\n      ",268],["T_FOREACH","foreach",269],["T_WHITESPACE"," ",269],"(",["T_STRING","array_combine",269],"(",["T_VARIABLE","$matches",269],"[",["T_LNUMBER","0",269],"]",",",["T_WHITESPACE"," ",269],["T_VARIABLE","$matches",269],"[",["T_LNUMBER","1",269],"]",")",["T_WHITESPACE"," ",269],["T_AS","as",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$key",269],["T_WHITESPACE"," ",269],["T_DOUBLE_ARROW","=>",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$value",269],")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n        ",269],["T_VARIABLE","$replace",270],"[",["T_VARIABLE","$key",270],"]",["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","replaceVariable",270],"(",["T_VARIABLE","$value",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$data",270],")",";",["T_WHITESPACE","\n      ",270],"}",["T_WHITESPACE","\n      ",271],["T_RETURN","return",272],["T_WHITESPACE"," ",272],["T_STRING","strtr",272],"(",["T_VARIABLE","$name",272],",",["T_WHITESPACE"," ",272],["T_VARIABLE","$replace",272],")",";",["T_WHITESPACE","\n    ",272],"}",["T_WHITESPACE","\n    ",273],["T_ELSE","else",274],["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n      ",274],["T_RETURN","return",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$name",275],";",["T_WHITESPACE","\n    ",275],"}",["T_WHITESPACE","\n  ",276],"}",["T_WHITESPACE","\n\n  ",277],["T_DOC_COMMENT","\/**\n   * Replaces variable values in included names with configuration data.\n   *\n   * Variable values are nested configuration keys that will be replaced by\n   * their value or some of these special strings:\n   * - '%key', will be replaced by the element's key.\n   * - '%parent', to reference the parent element.\n   * - '%type', to reference the schema definition type. Can only be used in\n   *   combination with %parent.\n   *\n   * There may be nested configuration keys separated by dots or more complex\n   * patterns like '%parent.name' which references the 'name' value of the\n   * parent element.\n   *\n   * Example patterns:\n   * - 'name.subkey', indicates a nested value of the current element.\n   * - '%parent.name', will be replaced by the 'name' value of the parent.\n   * - '%parent.%key', will be replaced by the parent element's key.\n   * - '%parent.%type', will be replaced by the schema type of the parent.\n   * - '%parent.%parent.%type', will be replaced by the schema type of the\n   *   parent's parent.\n   *\n   * @param string $value\n   *   Variable value to be replaced.\n   * @param mixed $data\n   *   Configuration data for the element.\n   *\n   * @return string\n   *   The replaced value if a replacement found or the original value if not.\n   *\/",279],["T_WHITESPACE","\n  ",308],["T_PROTECTED","protected",309],["T_WHITESPACE"," ",309],["T_FUNCTION","function",309],["T_WHITESPACE"," ",309],["T_STRING","replaceVariable",309],"(",["T_VARIABLE","$value",309],",",["T_WHITESPACE"," ",309],["T_VARIABLE","$data",309],")",["T_WHITESPACE"," ",309],"{",["T_WHITESPACE","\n    ",309],["T_VARIABLE","$parts",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_STRING","explode",310],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",310],",",["T_WHITESPACE"," ",310],["T_VARIABLE","$value",310],")",";",["T_WHITESPACE","\n    ",310],["T_COMMENT","\/\/ Process each value part, one at a time.\n",311],["T_WHITESPACE","    ",312],["T_WHILE","while",312],["T_WHITESPACE"," ",312],"(",["T_VARIABLE","$name",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_STRING","array_shift",312],"(",["T_VARIABLE","$parts",312],")",")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n      ",312],["T_IF","if",313],["T_WHITESPACE"," ",313],"(","!",["T_STRING","is_array",313],"(",["T_VARIABLE","$data",313],")",["T_WHITESPACE"," ",313],["T_BOOLEAN_OR","||",313],["T_WHITESPACE"," ",313],"!",["T_ISSET","isset",313],"(",["T_VARIABLE","$data",313],"[",["T_VARIABLE","$name",313],"]",")",")",["T_WHITESPACE"," ",313],"{",["T_WHITESPACE","\n        ",313],["T_COMMENT","\/\/ Key not found, return original value\n",314],["T_WHITESPACE","        ",315],["T_RETURN","return",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$value",315],";",["T_WHITESPACE","\n      ",315],"}",["T_WHITESPACE","\n      ",316],["T_ELSEIF","elseif",317],["T_WHITESPACE"," ",317],"(","!",["T_VARIABLE","$parts",317],")",["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n        ",317],["T_VARIABLE","$value",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_VARIABLE","$data",318],"[",["T_VARIABLE","$name",318],"]",";",["T_WHITESPACE","\n        ",318],["T_IF","if",319],["T_WHITESPACE"," ",319],"(",["T_STRING","is_bool",319],"(",["T_VARIABLE","$value",319],")",")",["T_WHITESPACE"," ",319],"{",["T_WHITESPACE","\n          ",319],["T_VARIABLE","$value",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_INT_CAST","(int)",320],["T_WHITESPACE"," ",320],["T_VARIABLE","$value",320],";",["T_WHITESPACE","\n        ",320],"}",["T_WHITESPACE","\n        ",321],["T_COMMENT","\/\/ If no more parts left, this is the final property.\n",322],["T_WHITESPACE","        ",323],["T_RETURN","return",323],["T_WHITESPACE"," ",323],["T_STRING_CAST","(string)",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$value",323],";",["T_WHITESPACE","\n      ",323],"}",["T_WHITESPACE","\n      ",324],["T_ELSE","else",325],["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n        ",325],["T_COMMENT","\/\/ Get nested value and continue processing.\n",326],["T_WHITESPACE","        ",327],["T_IF","if",327],["T_WHITESPACE"," ",327],"(",["T_VARIABLE","$name",327],["T_WHITESPACE"," ",327],["T_IS_EQUAL","==",327],["T_WHITESPACE"," ",327],["T_CONSTANT_ENCAPSED_STRING","'%parent'",327],")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n          ",327],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Config\\Schema\\ArrayElement $parent *\/",328],["T_WHITESPACE","\n          ",328],["T_COMMENT","\/\/ Switch replacement values with values from the parent.\n",329],["T_WHITESPACE","          ",330],["T_VARIABLE","$parent",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_VARIABLE","$data",330],"[",["T_CONSTANT_ENCAPSED_STRING","'%parent'",330],"]",";",["T_WHITESPACE","\n          ",330],["T_VARIABLE","$data",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_VARIABLE","$parent",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getValue",331],"(",")",";",["T_WHITESPACE","\n          ",331],["T_VARIABLE","$data",332],"[",["T_CONSTANT_ENCAPSED_STRING","'%type'",332],"]",["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_VARIABLE","$parent",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","getDataDefinition",332],"(",")",["T_OBJECT_OPERATOR","->",332],["T_STRING","getDataType",332],"(",")",";",["T_WHITESPACE","\n          ",332],["T_COMMENT","\/\/ The special %parent and %key values now need to point one level up.\n",333],["T_WHITESPACE","          ",334],["T_IF","if",334],["T_WHITESPACE"," ",334],"(",["T_VARIABLE","$new_parent",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_VARIABLE","$parent",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","getParent",334],"(",")",")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n            ",334],["T_VARIABLE","$data",335],"[",["T_CONSTANT_ENCAPSED_STRING","'%parent'",335],"]",["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_VARIABLE","$new_parent",335],";",["T_WHITESPACE","\n            ",335],["T_VARIABLE","$data",336],"[",["T_CONSTANT_ENCAPSED_STRING","'%key'",336],"]",["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_VARIABLE","$new_parent",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","getName",336],"(",")",";",["T_WHITESPACE","\n          ",336],"}",["T_WHITESPACE","\n        ",337],"}",["T_WHITESPACE","\n        ",338],["T_ELSE","else",339],["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n          ",339],["T_VARIABLE","$data",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_VARIABLE","$data",340],"[",["T_VARIABLE","$name",340],"]",";",["T_WHITESPACE","\n        ",340],"}",["T_WHITESPACE","\n      ",341],"}",["T_WHITESPACE","\n    ",342],"}",["T_WHITESPACE","\n  ",343],"}",["T_WHITESPACE","\n\n  ",344],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",346],["T_WHITESPACE","\n  ",348],["T_PUBLIC","public",349],["T_WHITESPACE"," ",349],["T_FUNCTION","function",349],["T_WHITESPACE"," ",349],["T_STRING","hasConfigSchema",349],"(",["T_VARIABLE","$name",349],")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n    ",349],["T_COMMENT","\/\/ The schema system falls back on the Undefined class for unknown types.\n",350],["T_WHITESPACE","    ",351],["T_VARIABLE","$definition",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","getDefinition",351],"(",["T_VARIABLE","$name",351],")",";",["T_WHITESPACE","\n    ",351],["T_RETURN","return",352],["T_WHITESPACE"," ",352],["T_STRING","is_array",352],"(",["T_VARIABLE","$definition",352],")",["T_WHITESPACE"," ",352],["T_BOOLEAN_AND","&&",352],["T_WHITESPACE"," ",352],"(",["T_VARIABLE","$definition",352],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",352],"]",["T_WHITESPACE"," ",352],["T_IS_NOT_EQUAL","!=",352],["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Core\\Config\\Schema\\Undefined'",352],")",";",["T_WHITESPACE","\n  ",352],"}",["T_WHITESPACE","\n\n  ",353],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",355],["T_WHITESPACE","\n  ",357],["T_PROTECTED","protected",358],["T_WHITESPACE"," ",358],["T_FUNCTION","function",358],["T_WHITESPACE"," ",358],["T_STRING","alterDefinitions",358],"(","&",["T_VARIABLE","$definitions",358],")",["T_WHITESPACE"," ",358],"{",["T_WHITESPACE","\n    ",358],["T_VARIABLE","$discovered_schema",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_STRING","array_keys",359],"(",["T_VARIABLE","$definitions",359],")",";",["T_WHITESPACE","\n    ",359],["T_STRING","parent",360],["T_DOUBLE_COLON","::",360],["T_STRING","alterDefinitions",360],"(",["T_VARIABLE","$definitions",360],")",";",["T_WHITESPACE","\n    ",360],["T_VARIABLE","$altered_schema",361],["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_STRING","array_keys",361],"(",["T_VARIABLE","$definitions",361],")",";",["T_WHITESPACE","\n    ",361],["T_IF","if",362],["T_WHITESPACE"," ",362],"(",["T_VARIABLE","$discovered_schema",362],["T_WHITESPACE"," ",362],["T_IS_NOT_EQUAL","!=",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$altered_schema",362],")",["T_WHITESPACE"," ",362],"{",["T_WHITESPACE","\n      ",362],["T_VARIABLE","$added_keys",363],["T_WHITESPACE"," ",363],"=",["T_WHITESPACE"," ",363],["T_STRING","implode",363],"(",["T_CONSTANT_ENCAPSED_STRING","','",363],",",["T_WHITESPACE"," ",363],["T_STRING","array_diff",363],"(",["T_VARIABLE","$altered_schema",363],",",["T_WHITESPACE"," ",363],["T_VARIABLE","$discovered_schema",363],")",")",";",["T_WHITESPACE","\n      ",363],["T_VARIABLE","$removed_keys",364],["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_STRING","implode",364],"(",["T_CONSTANT_ENCAPSED_STRING","','",364],",",["T_WHITESPACE"," ",364],["T_STRING","array_diff",364],"(",["T_VARIABLE","$discovered_schema",364],",",["T_WHITESPACE"," ",364],["T_VARIABLE","$altered_schema",364],")",")",";",["T_WHITESPACE","\n      ",364],["T_IF","if",365],["T_WHITESPACE"," ",365],"(","!",["T_EMPTY","empty",365],"(",["T_VARIABLE","$added_keys",365],")",["T_WHITESPACE"," ",365],["T_BOOLEAN_AND","&&",365],["T_WHITESPACE"," ",365],"!",["T_EMPTY","empty",365],"(",["T_VARIABLE","$removed_keys",365],")",")",["T_WHITESPACE"," ",365],"{",["T_WHITESPACE","\n        ",365],["T_VARIABLE","$message",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],"\"",["T_ENCAPSED_AND_WHITESPACE","Invoking hook_config_schema_info_alter() has added (",366],["T_VARIABLE","$added_keys",366],["T_ENCAPSED_AND_WHITESPACE",") and removed (",366],["T_VARIABLE","$removed_keys",366],["T_ENCAPSED_AND_WHITESPACE",") schema definitions",366],"\"",";",["T_WHITESPACE","\n      ",366],"}",["T_WHITESPACE","\n      ",367],["T_ELSEIF","elseif",368],["T_WHITESPACE"," ",368],"(","!",["T_EMPTY","empty",368],"(",["T_VARIABLE","$added_keys",368],")",")",["T_WHITESPACE"," ",368],"{",["T_WHITESPACE","\n        ",368],["T_VARIABLE","$message",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],"\"",["T_ENCAPSED_AND_WHITESPACE","Invoking hook_config_schema_info_alter() has added (",369],["T_VARIABLE","$added_keys",369],["T_ENCAPSED_AND_WHITESPACE",") schema definitions",369],"\"",";",["T_WHITESPACE","\n      ",369],"}",["T_WHITESPACE","\n      ",370],["T_ELSE","else",371],["T_WHITESPACE"," ",371],"{",["T_WHITESPACE","\n        ",371],["T_VARIABLE","$message",372],["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],"\"",["T_ENCAPSED_AND_WHITESPACE","Invoking hook_config_schema_info_alter() has removed (",372],["T_VARIABLE","$removed_keys",372],["T_ENCAPSED_AND_WHITESPACE",") schema definitions",372],"\"",";",["T_WHITESPACE","\n      ",372],"}",["T_WHITESPACE","\n      ",373],["T_THROW","throw",374],["T_WHITESPACE"," ",374],["T_NEW","new",374],["T_WHITESPACE"," ",374],["T_STRING","ConfigSchemaAlterException",374],"(",["T_VARIABLE","$message",374],")",";",["T_WHITESPACE","\n    ",374],"}",["T_WHITESPACE","\n  ",375],"}",["T_WHITESPACE","\n\n",376],"}",["T_WHITESPACE","\n",378]]