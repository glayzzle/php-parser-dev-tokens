[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Entity",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Plugin",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Exception",5],["T_NS_SEPARATOR","\\",5],["T_STRING","InvalidPluginDefinitionException",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Plugin",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Exception",6],["T_NS_SEPARATOR","\\",6],["T_STRING","PluginNotFoundException",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Cache",7],["T_NS_SEPARATOR","\\",7],["T_STRING","CacheBackendInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DependencyInjection",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ClassResolverInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Exception",9],["T_NS_SEPARATOR","\\",9],["T_STRING","InvalidLinkTemplateException",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Extension",10],["T_NS_SEPARATOR","\\",10],["T_STRING","ModuleHandlerInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Plugin",11],["T_NS_SEPARATOR","\\",11],["T_STRING","DefaultPluginManager",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Plugin",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Discovery",12],["T_NS_SEPARATOR","\\",12],["T_STRING","AnnotatedClassDiscovery",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Core",13],["T_NS_SEPARATOR","\\",13],["T_STRING","StringTranslation",13],["T_NS_SEPARATOR","\\",13],["T_STRING","TranslationInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Symfony",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Component",14],["T_NS_SEPARATOR","\\",14],["T_STRING","DependencyInjection",14],["T_NS_SEPARATOR","\\",14],["T_STRING","ContainerAwareInterface",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Symfony",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Component",15],["T_NS_SEPARATOR","\\",15],["T_STRING","DependencyInjection",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ContainerAwareTrait",15],";",["T_WHITESPACE","\n\n",15],["T_DOC_COMMENT","\/**\n * Manages entity type plugin definitions.\n *\n * Each entity type definition array is set in the entity type's annotation and\n * altered by hook_entity_type_alter().\n *\n * Do not use hook_entity_type_alter() hook to add information to entity types,\n * unless one of the following is true:\n * - You are filling in default values.\n * - You need to dynamically add information only in certain circumstances.\n * - Your hook needs to run after hook_entity_type_build() implementations.\n * Use hook_entity_type_build() instead in all other cases.\n *\n * @see \\Drupal\\Core\\Entity\\Annotation\\EntityType\n * @see \\Drupal\\Core\\Entity\\EntityInterface\n * @see \\Drupal\\Core\\Entity\\EntityTypeInterface\n * @see hook_entity_type_alter()\n * @see hook_entity_type_build()\n *\/",17],["T_WHITESPACE","\n",35],["T_CLASS","class",36],["T_WHITESPACE"," ",36],["T_STRING","EntityTypeManager",36],["T_WHITESPACE"," ",36],["T_EXTENDS","extends",36],["T_WHITESPACE"," ",36],["T_STRING","DefaultPluginManager",36],["T_WHITESPACE"," ",36],["T_IMPLEMENTS","implements",36],["T_WHITESPACE"," ",36],["T_STRING","EntityTypeManagerInterface",36],",",["T_WHITESPACE"," ",36],["T_STRING","ContainerAwareInterface",36],["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n\n  ",36],["T_USE","use",38],["T_WHITESPACE"," ",38],["T_STRING","ContainerAwareTrait",38],";",["T_WHITESPACE","\n\n  ",38],["T_DOC_COMMENT","\/**\n   * Contains instantiated handlers keyed by handler type and entity type.\n   *\n   * @var array\n   *\/",40],["T_WHITESPACE","\n  ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$handlers",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],"[","]",";",["T_WHITESPACE","\n\n  ",45],["T_DOC_COMMENT","\/**\n   * The string translation service.\n   *\n   * @var \\Drupal\\Core\\StringTranslation\\TranslationInterface\n   *\/",47],["T_WHITESPACE","\n  ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$stringTranslation",52],";",["T_WHITESPACE","\n\n  ",52],["T_DOC_COMMENT","\/**\n   * The class resolver.\n   *\n   * @var \\Drupal\\Core\\DependencyInjection\\ClassResolverInterface\n   *\/",54],["T_WHITESPACE","\n  ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$classResolver",59],";",["T_WHITESPACE","\n\n  ",59],["T_DOC_COMMENT","\/**\n   * Constructs a new Entity plugin manager.\n   *\n   * @param \\Traversable $namespaces\n   *   An object that implements \\Traversable which contains the root paths\n   *   keyed by the corresponding namespace to look for plugin implementations,\n   * @param \\Drupal\\Core\\Extension\\ModuleHandlerInterface $module_handler\n   *   The module handler.\n   * @param \\Drupal\\Core\\Cache\\CacheBackendInterface $cache\n   *   The cache backend to use.\n   * @param \\Drupal\\Core\\StringTranslation\\TranslationInterface $string_translation\n   *   The string translation.\n   * @param \\Drupal\\Core\\DependencyInjection\\ClassResolverInterface $class_resolver\n   *   The class resolver.\n   *\/",61],["T_WHITESPACE","\n  ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","__construct",76],"(",["T_NS_SEPARATOR","\\",76],["T_STRING","Traversable",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$namespaces",76],",",["T_WHITESPACE"," ",76],["T_STRING","ModuleHandlerInterface",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$module_handler",76],",",["T_WHITESPACE"," ",76],["T_STRING","CacheBackendInterface",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$cache",76],",",["T_WHITESPACE"," ",76],["T_STRING","TranslationInterface",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$string_translation",76],",",["T_WHITESPACE"," ",76],["T_STRING","ClassResolverInterface",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$class_resolver",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n    ",76],["T_STRING","parent",77],["T_DOUBLE_COLON","::",77],["T_STRING","__construct",77],"(",["T_CONSTANT_ENCAPSED_STRING","'Entity'",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$namespaces",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$module_handler",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Entity\\EntityInterface'",77],")",";",["T_WHITESPACE","\n\n    ",77],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","setCacheBackend",79],"(",["T_VARIABLE","$cache",79],",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",79],",",["T_WHITESPACE"," ",79],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_types'",79],"]",")",";",["T_WHITESPACE","\n    ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","alterInfo",80],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type'",80],")",";",["T_WHITESPACE","\n\n    ",80],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","discovery",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_NEW","new",82],["T_WHITESPACE"," ",82],["T_STRING","AnnotatedClassDiscovery",82],"(",["T_CONSTANT_ENCAPSED_STRING","'Entity'",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$namespaces",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Entity\\Annotation\\EntityType'",82],")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","stringTranslation",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$string_translation",83],";",["T_WHITESPACE","\n    ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","classResolver",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$class_resolver",84],";",["T_WHITESPACE","\n  ",84],"}",["T_WHITESPACE","\n\n  ",85],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",87],["T_WHITESPACE","\n  ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","processDefinition",90],"(","&",["T_VARIABLE","$definition",90],",",["T_WHITESPACE"," ",90],["T_VARIABLE","$plugin_id",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n    ",90],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Entity\\EntityTypeInterface $definition *\/",91],["T_WHITESPACE","\n    ",91],["T_STRING","parent",92],["T_DOUBLE_COLON","::",92],["T_STRING","processDefinition",92],"(",["T_VARIABLE","$definition",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$plugin_id",92],")",";",["T_WHITESPACE","\n\n    ",92],["T_COMMENT","\/\/ All link templates must have a leading slash.\n",94],["T_WHITESPACE","    ",95],["T_FOREACH","foreach",95],["T_WHITESPACE"," ",95],"(",["T_ARRAY_CAST","(array)",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$definition",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getLinkTemplates",95],"(",")",["T_WHITESPACE"," ",95],["T_AS","as",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$link_relation_name",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$link_template",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n      ",95],["T_IF","if",96],["T_WHITESPACE"," ",96],"(",["T_VARIABLE","$link_template",96],"[",["T_LNUMBER","0",96],"]",["T_WHITESPACE"," ",96],["T_IS_NOT_EQUAL","!=",96],["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'\/'",96],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n        ",96],["T_THROW","throw",97],["T_WHITESPACE"," ",97],["T_NEW","new",97],["T_WHITESPACE"," ",97],["T_STRING","InvalidLinkTemplateException",97],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Link template '",97],["T_VARIABLE","$link_relation_name",97],["T_ENCAPSED_AND_WHITESPACE","' for entity type '",97],["T_VARIABLE","$plugin_id",97],["T_ENCAPSED_AND_WHITESPACE","' must start with a leading slash, the current link template is '",97],["T_VARIABLE","$link_template",97],["T_ENCAPSED_AND_WHITESPACE","'",97],"\"",")",";",["T_WHITESPACE","\n      ",97],"}",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n  ",99],"}",["T_WHITESPACE","\n\n  ",100],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",102],["T_WHITESPACE","\n  ",104],["T_PROTECTED","protected",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","findDefinitions",105],"(",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n    ",105],["T_VARIABLE","$definitions",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getDiscovery",106],"(",")",["T_OBJECT_OPERATOR","->",106],["T_STRING","getDefinitions",106],"(",")",";",["T_WHITESPACE","\n\n    ",106],["T_COMMENT","\/\/ Directly call the hook implementations to pass the definitions to them\n",108],["T_WHITESPACE","    ",109],["T_COMMENT","\/\/ by reference, so new entity types can be added.\n",109],["T_WHITESPACE","    ",110],["T_FOREACH","foreach",110],["T_WHITESPACE"," ",110],"(",["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","moduleHandler",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getImplementations",110],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type_build'",110],")",["T_WHITESPACE"," ",110],["T_AS","as",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$module",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n      ",110],["T_VARIABLE","$function",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$module",111],["T_WHITESPACE"," ",111],".",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'_'",111],["T_WHITESPACE"," ",111],".",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'entity_type_build'",111],";",["T_WHITESPACE","\n      ",111],["T_VARIABLE","$function",112],"(",["T_VARIABLE","$definitions",112],")",";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n    ",113],["T_FOREACH","foreach",114],["T_WHITESPACE"," ",114],"(",["T_VARIABLE","$definitions",114],["T_WHITESPACE"," ",114],["T_AS","as",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$plugin_id",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$definition",114],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n      ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","processDefinition",115],"(",["T_VARIABLE","$definition",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$plugin_id",115],")",";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","alterDefinitions",117],"(",["T_VARIABLE","$definitions",117],")",";",["T_WHITESPACE","\n\n    ",117],["T_RETURN","return",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$definitions",119],";",["T_WHITESPACE","\n  ",119],"}",["T_WHITESPACE","\n\n  ",120],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",122],["T_WHITESPACE","\n  ",124],["T_PUBLIC","public",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","getDefinition",125],"(",["T_VARIABLE","$entity_type_id",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$exception_on_invalid",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_STRING","TRUE",125],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n    ",125],["T_IF","if",126],["T_WHITESPACE"," ",126],"(","(",["T_VARIABLE","$entity_type",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_STRING","parent",126],["T_DOUBLE_COLON","::",126],["T_STRING","getDefinition",126],"(",["T_VARIABLE","$entity_type_id",126],",",["T_WHITESPACE"," ",126],["T_STRING","FALSE",126],")",")",["T_WHITESPACE"," ",126],["T_BOOLEAN_AND","&&",126],["T_WHITESPACE"," ",126],["T_STRING","class_exists",126],"(",["T_VARIABLE","$entity_type",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getClass",126],"(",")",")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n      ",126],["T_RETURN","return",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$entity_type",127],";",["T_WHITESPACE","\n    ",127],"}",["T_WHITESPACE","\n    ",128],["T_ELSEIF","elseif",129],["T_WHITESPACE"," ",129],"(","!",["T_VARIABLE","$exception_on_invalid",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n      ",129],["T_RETURN","return",130],["T_WHITESPACE"," ",130],["T_STRING","NULL",130],";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n\n    ",131],["T_THROW","throw",133],["T_WHITESPACE"," ",133],["T_NEW","new",133],["T_WHITESPACE"," ",133],["T_STRING","PluginNotFoundException",133],"(",["T_VARIABLE","$entity_type_id",133],",",["T_WHITESPACE"," ",133],["T_STRING","sprintf",133],"(",["T_CONSTANT_ENCAPSED_STRING","'The \"%s\" entity type does not exist.'",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$entity_type_id",133],")",")",";",["T_WHITESPACE","\n  ",133],"}",["T_WHITESPACE","\n\n  ",134],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",136],["T_WHITESPACE","\n  ",138],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","clearCachedDefinitions",139],"(",")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n    ",139],["T_STRING","parent",140],["T_DOUBLE_COLON","::",140],["T_STRING","clearCachedDefinitions",140],"(",")",";",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","handlers",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],"[","]",";",["T_WHITESPACE","\n  ",141],"}",["T_WHITESPACE","\n\n  ",142],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",144],["T_WHITESPACE","\n  ",146],["T_PUBLIC","public",147],["T_WHITESPACE"," ",147],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","useCaches",147],"(",["T_VARIABLE","$use_caches",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","FALSE",147],")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n    ",147],["T_STRING","parent",148],["T_DOUBLE_COLON","::",148],["T_STRING","useCaches",148],"(",["T_VARIABLE","$use_caches",148],")",";",["T_WHITESPACE","\n    ",148],["T_IF","if",149],["T_WHITESPACE"," ",149],"(","!",["T_VARIABLE","$use_caches",149],")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n      ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","handlers",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],"[","]",";",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n  ",151],"}",["T_WHITESPACE","\n\n  ",152],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",154],["T_WHITESPACE","\n  ",156],["T_PUBLIC","public",157],["T_WHITESPACE"," ",157],["T_FUNCTION","function",157],["T_WHITESPACE"," ",157],["T_STRING","hasHandler",157],"(",["T_VARIABLE","$entity_type",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$handler_type",157],")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n    ",157],["T_IF","if",158],["T_WHITESPACE"," ",158],"(",["T_VARIABLE","$definition",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getDefinition",158],"(",["T_VARIABLE","$entity_type",158],",",["T_WHITESPACE"," ",158],["T_STRING","FALSE",158],")",")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n      ",158],["T_RETURN","return",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$definition",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","hasHandlerClass",159],"(",["T_VARIABLE","$handler_type",159],")",";",["T_WHITESPACE","\n    ",159],"}",["T_WHITESPACE","\n\n    ",160],["T_RETURN","return",162],["T_WHITESPACE"," ",162],["T_STRING","FALSE",162],";",["T_WHITESPACE","\n  ",162],"}",["T_WHITESPACE","\n\n  ",163],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",165],["T_WHITESPACE","\n  ",167],["T_PUBLIC","public",168],["T_WHITESPACE"," ",168],["T_FUNCTION","function",168],["T_WHITESPACE"," ",168],["T_STRING","getStorage",168],"(",["T_VARIABLE","$entity_type",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n    ",168],["T_RETURN","return",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getHandler",169],"(",["T_VARIABLE","$entity_type",169],",",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'storage'",169],")",";",["T_WHITESPACE","\n  ",169],"}",["T_WHITESPACE","\n\n  ",170],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",172],["T_WHITESPACE","\n  ",174],["T_PUBLIC","public",175],["T_WHITESPACE"," ",175],["T_FUNCTION","function",175],["T_WHITESPACE"," ",175],["T_STRING","getListBuilder",175],"(",["T_VARIABLE","$entity_type",175],")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n    ",175],["T_RETURN","return",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getHandler",176],"(",["T_VARIABLE","$entity_type",176],",",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'list_builder'",176],")",";",["T_WHITESPACE","\n  ",176],"}",["T_WHITESPACE","\n\n  ",177],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",179],["T_WHITESPACE","\n  ",181],["T_PUBLIC","public",182],["T_WHITESPACE"," ",182],["T_FUNCTION","function",182],["T_WHITESPACE"," ",182],["T_STRING","getFormObject",182],"(",["T_VARIABLE","$entity_type",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$operation",182],")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n    ",182],["T_IF","if",183],["T_WHITESPACE"," ",183],"(","!",["T_VARIABLE","$class",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getDefinition",183],"(",["T_VARIABLE","$entity_type",183],",",["T_WHITESPACE"," ",183],["T_STRING","TRUE",183],")",["T_OBJECT_OPERATOR","->",183],["T_STRING","getFormClass",183],"(",["T_VARIABLE","$operation",183],")",")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n      ",183],["T_THROW","throw",184],["T_WHITESPACE"," ",184],["T_NEW","new",184],["T_WHITESPACE"," ",184],["T_STRING","InvalidPluginDefinitionException",184],"(",["T_VARIABLE","$entity_type",184],",",["T_WHITESPACE"," ",184],["T_STRING","sprintf",184],"(",["T_CONSTANT_ENCAPSED_STRING","'The \"%s\" entity type did not specify a \"%s\" form class.'",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$entity_type",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$operation",184],")",")",";",["T_WHITESPACE","\n    ",184],"}",["T_WHITESPACE","\n\n    ",185],["T_VARIABLE","$form_object",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","classResolver",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getInstanceFromDefinition",187],"(",["T_VARIABLE","$class",187],")",";",["T_WHITESPACE","\n\n    ",187],["T_RETURN","return",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$form_object",189],["T_WHITESPACE","\n      ",189],["T_OBJECT_OPERATOR","->",190],["T_STRING","setStringTranslation",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","stringTranslation",190],")",["T_WHITESPACE","\n      ",190],["T_OBJECT_OPERATOR","->",191],["T_STRING","setModuleHandler",191],"(",["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","moduleHandler",191],")",["T_WHITESPACE","\n      ",191],["T_OBJECT_OPERATOR","->",192],["T_STRING","setEntityTypeManager",192],"(",["T_VARIABLE","$this",192],")",["T_WHITESPACE","\n      ",192],["T_OBJECT_OPERATOR","->",193],["T_STRING","setOperation",193],"(",["T_VARIABLE","$operation",193],")",["T_WHITESPACE","\n      ",193],["T_COMMENT","\/\/ The entity manager cannot be injected due to a circular dependency.\n",194],["T_WHITESPACE","      ",195],["T_COMMENT","\/\/ @todo Remove this set call in https:\/\/www.drupal.org\/node\/2603542.\n",195],["T_WHITESPACE","      ",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","setEntityManager",196],"(",["T_NS_SEPARATOR","\\",196],["T_STRING","Drupal",196],["T_DOUBLE_COLON","::",196],["T_STRING","entityManager",196],"(",")",")",";",["T_WHITESPACE","\n  ",196],"}",["T_WHITESPACE","\n\n  ",197],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",199],["T_WHITESPACE","\n  ",201],["T_PUBLIC","public",202],["T_WHITESPACE"," ",202],["T_FUNCTION","function",202],["T_WHITESPACE"," ",202],["T_STRING","getRouteProviders",202],"(",["T_VARIABLE","$entity_type",202],")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n    ",202],["T_IF","if",203],["T_WHITESPACE"," ",203],"(","!",["T_ISSET","isset",203],"(",["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","handlers",203],"[",["T_CONSTANT_ENCAPSED_STRING","'route_provider'",203],"]","[",["T_VARIABLE","$entity_type",203],"]",")",")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n      ",203],["T_VARIABLE","$route_provider_classes",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","getDefinition",204],"(",["T_VARIABLE","$entity_type",204],",",["T_WHITESPACE"," ",204],["T_STRING","TRUE",204],")",["T_OBJECT_OPERATOR","->",204],["T_STRING","getRouteProviderClasses",204],"(",")",";",["T_WHITESPACE","\n\n      ",204],["T_FOREACH","foreach",206],["T_WHITESPACE"," ",206],"(",["T_VARIABLE","$route_provider_classes",206],["T_WHITESPACE"," ",206],["T_AS","as",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$type",206],["T_WHITESPACE"," ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$class",206],")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","handlers",207],"[",["T_CONSTANT_ENCAPSED_STRING","'route_provider'",207],"]","[",["T_VARIABLE","$entity_type",207],"]","[",["T_VARIABLE","$type",207],"]",["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","createHandlerInstance",207],"(",["T_VARIABLE","$class",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getDefinition",207],"(",["T_VARIABLE","$entity_type",207],")",")",";",["T_WHITESPACE","\n      ",207],"}",["T_WHITESPACE","\n    ",208],"}",["T_WHITESPACE","\n\n    ",209],["T_RETURN","return",211],["T_WHITESPACE"," ",211],["T_ISSET","isset",211],"(",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","handlers",211],"[",["T_CONSTANT_ENCAPSED_STRING","'route_provider'",211],"]","[",["T_VARIABLE","$entity_type",211],"]",")",["T_WHITESPACE"," ",211],"?",["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","handlers",211],"[",["T_CONSTANT_ENCAPSED_STRING","'route_provider'",211],"]","[",["T_VARIABLE","$entity_type",211],"]",["T_WHITESPACE"," ",211],":",["T_WHITESPACE"," ",211],"[","]",";",["T_WHITESPACE","\n  ",211],"}",["T_WHITESPACE","\n\n  ",212],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",214],["T_WHITESPACE","\n  ",216],["T_PUBLIC","public",217],["T_WHITESPACE"," ",217],["T_FUNCTION","function",217],["T_WHITESPACE"," ",217],["T_STRING","getViewBuilder",217],"(",["T_VARIABLE","$entity_type",217],")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n    ",217],["T_RETURN","return",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getHandler",218],"(",["T_VARIABLE","$entity_type",218],",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'view_builder'",218],")",";",["T_WHITESPACE","\n  ",218],"}",["T_WHITESPACE","\n\n  ",219],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",221],["T_WHITESPACE","\n  ",223],["T_PUBLIC","public",224],["T_WHITESPACE"," ",224],["T_FUNCTION","function",224],["T_WHITESPACE"," ",224],["T_STRING","getAccessControlHandler",224],"(",["T_VARIABLE","$entity_type",224],")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n    ",224],["T_RETURN","return",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","getHandler",225],"(",["T_VARIABLE","$entity_type",225],",",["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","'access'",225],")",";",["T_WHITESPACE","\n  ",225],"}",["T_WHITESPACE","\n\n  ",226],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",228],["T_WHITESPACE","\n  ",230],["T_PUBLIC","public",231],["T_WHITESPACE"," ",231],["T_FUNCTION","function",231],["T_WHITESPACE"," ",231],["T_STRING","getHandler",231],"(",["T_VARIABLE","$entity_type",231],",",["T_WHITESPACE"," ",231],["T_VARIABLE","$handler_type",231],")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n    ",231],["T_IF","if",232],["T_WHITESPACE"," ",232],"(","!",["T_ISSET","isset",232],"(",["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","handlers",232],"[",["T_VARIABLE","$handler_type",232],"]","[",["T_VARIABLE","$entity_type",232],"]",")",")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n      ",232],["T_VARIABLE","$definition",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getDefinition",233],"(",["T_VARIABLE","$entity_type",233],")",";",["T_WHITESPACE","\n      ",233],["T_VARIABLE","$class",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_VARIABLE","$definition",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","getHandlerClass",234],"(",["T_VARIABLE","$handler_type",234],")",";",["T_WHITESPACE","\n      ",234],["T_IF","if",235],["T_WHITESPACE"," ",235],"(","!",["T_VARIABLE","$class",235],")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n        ",235],["T_THROW","throw",236],["T_WHITESPACE"," ",236],["T_NEW","new",236],["T_WHITESPACE"," ",236],["T_STRING","InvalidPluginDefinitionException",236],"(",["T_VARIABLE","$entity_type",236],",",["T_WHITESPACE"," ",236],["T_STRING","sprintf",236],"(",["T_CONSTANT_ENCAPSED_STRING","'The \"%s\" entity type did not specify a %s handler.'",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$entity_type",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$handler_type",236],")",")",";",["T_WHITESPACE","\n      ",236],"}",["T_WHITESPACE","\n      ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","handlers",238],"[",["T_VARIABLE","$handler_type",238],"]","[",["T_VARIABLE","$entity_type",238],"]",["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","createHandlerInstance",238],"(",["T_VARIABLE","$class",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$definition",238],")",";",["T_WHITESPACE","\n    ",238],"}",["T_WHITESPACE","\n\n    ",239],["T_RETURN","return",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","handlers",241],"[",["T_VARIABLE","$handler_type",241],"]","[",["T_VARIABLE","$entity_type",241],"]",";",["T_WHITESPACE","\n  ",241],"}",["T_WHITESPACE","\n\n  ",242],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",244],["T_WHITESPACE","\n  ",246],["T_PUBLIC","public",247],["T_WHITESPACE"," ",247],["T_FUNCTION","function",247],["T_WHITESPACE"," ",247],["T_STRING","createHandlerInstance",247],"(",["T_VARIABLE","$class",247],",",["T_WHITESPACE"," ",247],["T_STRING","EntityTypeInterface",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$definition",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_STRING","NULL",247],")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n    ",247],["T_IF","if",248],["T_WHITESPACE"," ",248],"(",["T_STRING","is_subclass_of",248],"(",["T_VARIABLE","$class",248],",",["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Entity\\EntityHandlerInterface'",248],")",")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n      ",248],["T_VARIABLE","$handler",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$class",249],["T_DOUBLE_COLON","::",249],["T_STRING","createInstance",249],"(",["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","container",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$definition",249],")",";",["T_WHITESPACE","\n    ",249],"}",["T_WHITESPACE","\n    ",250],["T_ELSE","else",251],["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n      ",251],["T_VARIABLE","$handler",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_NEW","new",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$class",252],"(",["T_VARIABLE","$definition",252],")",";",["T_WHITESPACE","\n    ",252],"}",["T_WHITESPACE","\n    ",253],["T_IF","if",254],["T_WHITESPACE"," ",254],"(",["T_STRING","method_exists",254],"(",["T_VARIABLE","$handler",254],",",["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'setModuleHandler'",254],")",")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n      ",254],["T_VARIABLE","$handler",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","setModuleHandler",255],"(",["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","moduleHandler",255],")",";",["T_WHITESPACE","\n    ",255],"}",["T_WHITESPACE","\n    ",256],["T_IF","if",257],["T_WHITESPACE"," ",257],"(",["T_STRING","method_exists",257],"(",["T_VARIABLE","$handler",257],",",["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'setStringTranslation'",257],")",")",["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n      ",257],["T_VARIABLE","$handler",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","setStringTranslation",258],"(",["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","stringTranslation",258],")",";",["T_WHITESPACE","\n    ",258],"}",["T_WHITESPACE","\n\n    ",259],["T_RETURN","return",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$handler",261],";",["T_WHITESPACE","\n  ",261],"}",["T_WHITESPACE","\n\n",262],"}",["T_WHITESPACE","\n",264]]