[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Entity",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Entity",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","NestedArray",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Display",6],["T_NS_SEPARATOR","\\",6],["T_STRING","EntityViewDisplayInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","EntityDisplayPluginCollection",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","EntityStorageInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","FieldableEntityInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Entity",10],["T_NS_SEPARATOR","\\",10],["T_STRING","EntityDisplayBase",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","TypedData",11],["T_NS_SEPARATOR","\\",11],["T_STRING","TranslatableInterface",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Configuration entity that contains display options for all components of a\n * rendered entity in a given view mode.\n *\n * @ConfigEntityType(\n *   id = \"entity_view_display\",\n *   label = @Translation(\"Entity view display\"),\n *   entity_keys = {\n *     \"id\" = \"id\",\n *     \"status\" = \"status\"\n *   },\n *   config_export = {\n *     \"id\",\n *     \"targetEntityType\",\n *     \"bundle\",\n *     \"mode\",\n *     \"content\",\n *     \"hidden\",\n *   }\n * )\n *\/",13],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","EntityViewDisplay",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","EntityDisplayBase",34],["T_WHITESPACE"," ",34],["T_IMPLEMENTS","implements",34],["T_WHITESPACE"," ",34],["T_STRING","EntityViewDisplayInterface",34],["T_WHITESPACE"," ",34],"{",["T_WHITESPACE","\n\n  ",34],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",36],["T_WHITESPACE","\n  ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$displayContext",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'view'",39],";",["T_WHITESPACE","\n\n  ",39],["T_DOC_COMMENT","\/**\n   * Returns the display objects used to render a set of entities.\n   *\n   * Depending on the configuration of the view mode for each bundle, this can\n   * be either the display object associated with the view mode, or the\n   * 'default' display.\n   *\n   * This method should only be used internally when rendering an entity. When\n   * assigning suggested display options for a component in a given view mode,\n   * entity_get_display() should be used instead, in order to avoid\n   * inadvertently modifying the output of other view modes that might happen to\n   * use the 'default' display too. Those options will then be effectively\n   * applied only if the view mode is configured to use them.\n   *\n   * hook_entity_view_display_alter() is invoked on each display, allowing 3rd\n   * party code to alter the display options held in the display before they are\n   * used to generate render arrays.\n   *\n   * @param \\Drupal\\Core\\Entity\\FieldableEntityInterface[] $entities\n   *   The entities being rendered. They should all be of the same entity type.\n   * @param string $view_mode\n   *   The view mode being rendered.\n   *\n   * @return \\Drupal\\Core\\Entity\\Display\\EntityViewDisplayInterface[]\n   *   The display objects to use to render the entities, keyed by entity\n   *   bundle.\n   *\n   * @see entity_get_display()\n   * @see hook_entity_view_display_alter()\n   *\/",41],["T_WHITESPACE","\n  ",70],["T_PUBLIC","public",71],["T_WHITESPACE"," ",71],["T_STATIC","static",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","collectRenderDisplays",71],"(",["T_VARIABLE","$entities",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$view_mode",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n    ",71],["T_IF","if",72],["T_WHITESPACE"," ",72],"(",["T_EMPTY","empty",72],"(",["T_VARIABLE","$entities",72],")",")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n      ",72],["T_RETURN","return",73],["T_WHITESPACE"," ",73],["T_ARRAY","array",73],"(",")",";",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n\n    ",74],["T_COMMENT","\/\/ Collect entity type and bundles.\n",76],["T_WHITESPACE","    ",77],["T_VARIABLE","$entity_type",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_STRING","current",77],"(",["T_VARIABLE","$entities",77],")",["T_OBJECT_OPERATOR","->",77],["T_STRING","getEntityTypeId",77],"(",")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$bundles",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_ARRAY","array",78],"(",")",";",["T_WHITESPACE","\n    ",78],["T_FOREACH","foreach",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$entities",79],["T_WHITESPACE"," ",79],["T_AS","as",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$entity",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n      ",79],["T_VARIABLE","$bundles",80],"[",["T_VARIABLE","$entity",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","bundle",80],"(",")","]",["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","TRUE",80],";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$bundles",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","array_keys",82],"(",["T_VARIABLE","$bundles",82],")",";",["T_WHITESPACE","\n\n    ",82],["T_COMMENT","\/\/ For each bundle, check the existence and status of:\n",84],["T_WHITESPACE","    ",85],["T_COMMENT","\/\/ - the display for the view mode,\n",85],["T_WHITESPACE","    ",86],["T_COMMENT","\/\/ - the 'default' display.\n",86],["T_WHITESPACE","    ",87],["T_VARIABLE","$candidate_ids",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_ARRAY","array",87],"(",")",";",["T_WHITESPACE","\n    ",87],["T_FOREACH","foreach",88],["T_WHITESPACE"," ",88],"(",["T_VARIABLE","$bundles",88],["T_WHITESPACE"," ",88],["T_AS","as",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$bundle",88],")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n      ",88],["T_IF","if",89],["T_WHITESPACE"," ",89],"(",["T_VARIABLE","$view_mode",89],["T_WHITESPACE"," ",89],["T_IS_NOT_EQUAL","!=",89],["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'default'",89],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$candidate_ids",90],"[",["T_VARIABLE","$bundle",90],"]","[","]",["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$entity_type",90],["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'.'",90],["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_VARIABLE","$bundle",90],["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'.'",90],["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_VARIABLE","$view_mode",90],";",["T_WHITESPACE","\n      ",90],"}",["T_WHITESPACE","\n      ",91],["T_VARIABLE","$candidate_ids",92],"[",["T_VARIABLE","$bundle",92],"]","[","]",["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$entity_type",92],["T_WHITESPACE"," ",92],".",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'.'",92],["T_WHITESPACE"," ",92],".",["T_WHITESPACE"," ",92],["T_VARIABLE","$bundle",92],["T_WHITESPACE"," ",92],".",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'.default'",92],";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n    ",93],["T_VARIABLE","$results",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_NS_SEPARATOR","\\",94],["T_STRING","Drupal",94],["T_DOUBLE_COLON","::",94],["T_STRING","entityQuery",94],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_view_display'",94],")",["T_WHITESPACE","\n      ",94],["T_OBJECT_OPERATOR","->",95],["T_STRING","condition",95],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",95],",",["T_WHITESPACE"," ",95],["T_STRING","NestedArray",95],["T_DOUBLE_COLON","::",95],["T_STRING","mergeDeepArray",95],"(",["T_VARIABLE","$candidate_ids",95],")",")",["T_WHITESPACE","\n      ",95],["T_OBJECT_OPERATOR","->",96],["T_STRING","condition",96],"(",["T_CONSTANT_ENCAPSED_STRING","'status'",96],",",["T_WHITESPACE"," ",96],["T_STRING","TRUE",96],")",["T_WHITESPACE","\n      ",96],["T_OBJECT_OPERATOR","->",97],["T_STRING","execute",97],"(",")",";",["T_WHITESPACE","\n\n    ",97],["T_COMMENT","\/\/ For each bundle, select the first valid candidate display, if any.\n",99],["T_WHITESPACE","    ",100],["T_VARIABLE","$load_ids",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_ARRAY","array",100],"(",")",";",["T_WHITESPACE","\n    ",100],["T_FOREACH","foreach",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$bundles",101],["T_WHITESPACE"," ",101],["T_AS","as",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$bundle",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n      ",101],["T_FOREACH","foreach",102],["T_WHITESPACE"," ",102],"(",["T_VARIABLE","$candidate_ids",102],"[",["T_VARIABLE","$bundle",102],"]",["T_WHITESPACE"," ",102],["T_AS","as",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$candidate_id",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n        ",102],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_ISSET","isset",103],"(",["T_VARIABLE","$results",103],"[",["T_VARIABLE","$candidate_id",103],"]",")",")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n          ",103],["T_VARIABLE","$load_ids",104],"[",["T_VARIABLE","$bundle",104],"]",["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$candidate_id",104],";",["T_WHITESPACE","\n          ",104],["T_BREAK","break",105],";",["T_WHITESPACE","\n        ",105],"}",["T_WHITESPACE","\n      ",106],"}",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_COMMENT","\/\/ Load the selected displays.\n",110],["T_WHITESPACE","    ",111],["T_VARIABLE","$storage",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_NS_SEPARATOR","\\",111],["T_STRING","Drupal",111],["T_DOUBLE_COLON","::",111],["T_STRING","entityManager",111],"(",")",["T_OBJECT_OPERATOR","->",111],["T_STRING","getStorage",111],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_view_display'",111],")",";",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$displays",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$storage",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","loadMultiple",112],"(",["T_VARIABLE","$load_ids",112],")",";",["T_WHITESPACE","\n\n    ",112],["T_VARIABLE","$displays_by_bundle",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_ARRAY","array",114],"(",")",";",["T_WHITESPACE","\n    ",114],["T_FOREACH","foreach",115],["T_WHITESPACE"," ",115],"(",["T_VARIABLE","$bundles",115],["T_WHITESPACE"," ",115],["T_AS","as",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$bundle",115],")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n      ",115],["T_COMMENT","\/\/ Use the selected display if any, or create a fresh runtime object.\n",116],["T_WHITESPACE","      ",117],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_ISSET","isset",117],"(",["T_VARIABLE","$load_ids",117],"[",["T_VARIABLE","$bundle",117],"]",")",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$display",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$displays",118],"[",["T_VARIABLE","$load_ids",118],"[",["T_VARIABLE","$bundle",118],"]","]",";",["T_WHITESPACE","\n      ",118],"}",["T_WHITESPACE","\n      ",119],["T_ELSE","else",120],["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$display",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$storage",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","create",121],"(",["T_ARRAY","array",121],"(",["T_WHITESPACE","\n          ",121],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$entity_type",122],",",["T_WHITESPACE","\n          ",122],["T_CONSTANT_ENCAPSED_STRING","'bundle'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$bundle",123],",",["T_WHITESPACE","\n          ",123],["T_CONSTANT_ENCAPSED_STRING","'mode'",124],["T_WHITESPACE"," ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$view_mode",124],",",["T_WHITESPACE","\n          ",124],["T_CONSTANT_ENCAPSED_STRING","'status'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_STRING","TRUE",125],",",["T_WHITESPACE","\n        ",125],")",")",";",["T_WHITESPACE","\n      ",126],"}",["T_WHITESPACE","\n\n      ",127],["T_COMMENT","\/\/ Let the display know which view mode was originally requested.\n",129],["T_WHITESPACE","      ",130],["T_VARIABLE","$display",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","originalMode",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$view_mode",130],";",["T_WHITESPACE","\n\n      ",130],["T_COMMENT","\/\/ Let modules alter the display.\n",132],["T_WHITESPACE","      ",133],["T_VARIABLE","$display_context",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_ARRAY","array",133],"(",["T_WHITESPACE","\n        ",133],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$entity_type",134],",",["T_WHITESPACE","\n        ",134],["T_CONSTANT_ENCAPSED_STRING","'bundle'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$bundle",135],",",["T_WHITESPACE","\n        ",135],["T_CONSTANT_ENCAPSED_STRING","'view_mode'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$view_mode",136],",",["T_WHITESPACE","\n      ",136],")",";",["T_WHITESPACE","\n      ",137],["T_NS_SEPARATOR","\\",138],["T_STRING","Drupal",138],["T_DOUBLE_COLON","::",138],["T_STRING","moduleHandler",138],"(",")",["T_OBJECT_OPERATOR","->",138],["T_STRING","alter",138],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_view_display'",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$display",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$display_context",138],")",";",["T_WHITESPACE","\n\n      ",138],["T_VARIABLE","$displays_by_bundle",140],"[",["T_VARIABLE","$bundle",140],"]",["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$display",140],";",["T_WHITESPACE","\n    ",140],"}",["T_WHITESPACE","\n\n    ",141],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$displays_by_bundle",143],";",["T_WHITESPACE","\n  ",143],"}",["T_WHITESPACE","\n\n  ",144],["T_DOC_COMMENT","\/**\n   * Returns the display object used to render an entity.\n   *\n   * See the collectRenderDisplays() method for details.\n   *\n   * @param \\Drupal\\Core\\Entity\\FieldableEntityInterface $entity\n   *   The entity being rendered.\n   * @param string $view_mode\n   *   The view mode.\n   *\n   * @return \\Drupal\\Core\\Entity\\Display\\EntityViewDisplayInterface\n   *   The display object that should be used to render the entity.\n   *\n   * @see \\Drupal\\Core\\Entity\\Entity\\EntityViewDisplay::collectRenderDisplays()\n   *\/",146],["T_WHITESPACE","\n  ",160],["T_PUBLIC","public",161],["T_WHITESPACE"," ",161],["T_STATIC","static",161],["T_WHITESPACE"," ",161],["T_FUNCTION","function",161],["T_WHITESPACE"," ",161],["T_STRING","collectRenderDisplay",161],"(",["T_STRING","FieldableEntityInterface",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$entity",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$view_mode",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n    ",161],["T_VARIABLE","$displays",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_STATIC","static",162],["T_DOUBLE_COLON","::",162],["T_STRING","collectRenderDisplays",162],"(",["T_ARRAY","array",162],"(",["T_VARIABLE","$entity",162],")",",",["T_WHITESPACE"," ",162],["T_VARIABLE","$view_mode",162],")",";",["T_WHITESPACE","\n    ",162],["T_RETURN","return",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$displays",163],"[",["T_VARIABLE","$entity",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","bundle",163],"(",")","]",";",["T_WHITESPACE","\n  ",163],"}",["T_WHITESPACE","\n\n  ",164],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",166],["T_WHITESPACE","\n  ",168],["T_PUBLIC","public",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","__construct",169],"(",["T_ARRAY","array",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$values",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$entity_type",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n    ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","pluginManager",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_NS_SEPARATOR","\\",170],["T_STRING","Drupal",170],["T_DOUBLE_COLON","::",170],["T_STRING","service",170],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.field.formatter'",170],")",";",["T_WHITESPACE","\n\n    ",170],["T_STRING","parent",172],["T_DOUBLE_COLON","::",172],["T_STRING","__construct",172],"(",["T_VARIABLE","$values",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$entity_type",172],")",";",["T_WHITESPACE","\n  ",172],"}",["T_WHITESPACE","\n\n  ",173],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",175],["T_WHITESPACE","\n  ",177],["T_PUBLIC","public",178],["T_WHITESPACE"," ",178],["T_FUNCTION","function",178],["T_WHITESPACE"," ",178],["T_STRING","postSave",178],"(",["T_STRING","EntityStorageInterface",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$storage",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$update",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_STRING","TRUE",178],")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n    ",178],["T_COMMENT","\/\/ Reset the render cache for the target entity type.\n",179],["T_WHITESPACE","    ",180],["T_STRING","parent",180],["T_DOUBLE_COLON","::",180],["T_STRING","postSave",180],"(",["T_VARIABLE","$storage",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$update",180],")",";",["T_WHITESPACE","\n    ",180],["T_IF","if",181],["T_WHITESPACE"," ",181],"(",["T_NS_SEPARATOR","\\",181],["T_STRING","Drupal",181],["T_DOUBLE_COLON","::",181],["T_STRING","entityManager",181],"(",")",["T_OBJECT_OPERATOR","->",181],["T_STRING","hasHandler",181],"(",["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","targetEntityType",181],",",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'view_builder'",181],")",")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n      ",181],["T_NS_SEPARATOR","\\",182],["T_STRING","Drupal",182],["T_DOUBLE_COLON","::",182],["T_STRING","entityManager",182],"(",")",["T_OBJECT_OPERATOR","->",182],["T_STRING","getViewBuilder",182],"(",["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","targetEntityType",182],")",["T_OBJECT_OPERATOR","->",182],["T_STRING","resetCache",182],"(",")",";",["T_WHITESPACE","\n    ",182],"}",["T_WHITESPACE","\n  ",183],"}",["T_WHITESPACE","\n\n  ",184],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",186],["T_WHITESPACE","\n  ",188],["T_PUBLIC","public",189],["T_WHITESPACE"," ",189],["T_FUNCTION","function",189],["T_WHITESPACE"," ",189],["T_STRING","getRenderer",189],"(",["T_VARIABLE","$field_name",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n    ",189],["T_IF","if",190],["T_WHITESPACE"," ",190],"(",["T_ISSET","isset",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","plugins",190],"[",["T_VARIABLE","$field_name",190],"]",")",")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n      ",190],["T_RETURN","return",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","plugins",191],"[",["T_VARIABLE","$field_name",191],"]",";",["T_WHITESPACE","\n    ",191],"}",["T_WHITESPACE","\n\n    ",192],["T_COMMENT","\/\/ Instantiate the formatter object from the stored display properties.\n",194],["T_WHITESPACE","    ",195],["T_IF","if",195],["T_WHITESPACE"," ",195],"(","(",["T_VARIABLE","$configuration",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getComponent",195],"(",["T_VARIABLE","$field_name",195],")",")",["T_WHITESPACE"," ",195],["T_BOOLEAN_AND","&&",195],["T_WHITESPACE"," ",195],["T_ISSET","isset",195],"(",["T_VARIABLE","$configuration",195],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",195],"]",")",["T_WHITESPACE"," ",195],["T_BOOLEAN_AND","&&",195],["T_WHITESPACE"," ",195],"(",["T_VARIABLE","$definition",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getFieldDefinition",195],"(",["T_VARIABLE","$field_name",195],")",")",")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n      ",195],["T_VARIABLE","$formatter",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","pluginManager",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getInstance",196],"(",["T_ARRAY","array",196],"(",["T_WHITESPACE","\n        ",196],["T_CONSTANT_ENCAPSED_STRING","'field_definition'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$definition",197],",",["T_WHITESPACE","\n        ",197],["T_CONSTANT_ENCAPSED_STRING","'view_mode'",198],["T_WHITESPACE"," ",198],["T_DOUBLE_ARROW","=>",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","originalMode",198],",",["T_WHITESPACE","\n        ",198],["T_COMMENT","\/\/ No need to prepare, defaults have been merged in setComponent().\n",199],["T_WHITESPACE","        ",200],["T_CONSTANT_ENCAPSED_STRING","'prepare'",200],["T_WHITESPACE"," ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_STRING","FALSE",200],",",["T_WHITESPACE","\n        ",200],["T_CONSTANT_ENCAPSED_STRING","'configuration'",201],["T_WHITESPACE"," ",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$configuration",201],["T_WHITESPACE","\n      ",201],")",")",";",["T_WHITESPACE","\n    ",202],"}",["T_WHITESPACE","\n    ",203],["T_ELSE","else",204],["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n      ",204],["T_VARIABLE","$formatter",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_STRING","NULL",205],";",["T_WHITESPACE","\n    ",205],"}",["T_WHITESPACE","\n\n    ",206],["T_COMMENT","\/\/ Persist the formatter object.\n",208],["T_WHITESPACE","    ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","plugins",209],"[",["T_VARIABLE","$field_name",209],"]",["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$formatter",209],";",["T_WHITESPACE","\n    ",209],["T_RETURN","return",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$formatter",210],";",["T_WHITESPACE","\n  ",210],"}",["T_WHITESPACE","\n\n  ",211],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",213],["T_WHITESPACE","\n  ",215],["T_PUBLIC","public",216],["T_WHITESPACE"," ",216],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","build",216],"(",["T_STRING","FieldableEntityInterface",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$entity",216],")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n    ",216],["T_VARIABLE","$build",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","buildMultiple",217],"(",["T_ARRAY","array",217],"(",["T_VARIABLE","$entity",217],")",")",";",["T_WHITESPACE","\n    ",217],["T_RETURN","return",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$build",218],"[",["T_LNUMBER","0",218],"]",";",["T_WHITESPACE","\n  ",218],"}",["T_WHITESPACE","\n\n  ",219],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",221],["T_WHITESPACE","\n  ",223],["T_PUBLIC","public",224],["T_WHITESPACE"," ",224],["T_FUNCTION","function",224],["T_WHITESPACE"," ",224],["T_STRING","buildMultiple",224],"(",["T_ARRAY","array",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$entities",224],")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n    ",224],["T_VARIABLE","$build_list",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_ARRAY","array",225],"(",")",";",["T_WHITESPACE","\n    ",225],["T_FOREACH","foreach",226],["T_WHITESPACE"," ",226],"(",["T_VARIABLE","$entities",226],["T_WHITESPACE"," ",226],["T_AS","as",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$key",226],["T_WHITESPACE"," ",226],["T_DOUBLE_ARROW","=>",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$entity",226],")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n      ",226],["T_VARIABLE","$build_list",227],"[",["T_VARIABLE","$key",227],"]",["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_ARRAY","array",227],"(",")",";",["T_WHITESPACE","\n    ",227],"}",["T_WHITESPACE","\n\n    ",228],["T_COMMENT","\/\/ Run field formatters.\n",230],["T_WHITESPACE","    ",231],["T_FOREACH","foreach",231],["T_WHITESPACE"," ",231],"(",["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","getComponents",231],"(",")",["T_WHITESPACE"," ",231],["T_AS","as",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$name",231],["T_WHITESPACE"," ",231],["T_DOUBLE_ARROW","=>",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$options",231],")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n      ",231],["T_IF","if",232],["T_WHITESPACE"," ",232],"(",["T_VARIABLE","$formatter",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","getRenderer",232],"(",["T_VARIABLE","$name",232],")",")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n        ",232],["T_COMMENT","\/\/ Group items across all entities and pass them to the formatter's\n",233],["T_WHITESPACE","        ",234],["T_COMMENT","\/\/ prepareView() method.\n",234],["T_WHITESPACE","        ",235],["T_VARIABLE","$grouped_items",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_ARRAY","array",235],"(",")",";",["T_WHITESPACE","\n        ",235],["T_FOREACH","foreach",236],["T_WHITESPACE"," ",236],"(",["T_VARIABLE","$entities",236],["T_WHITESPACE"," ",236],["T_AS","as",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$id",236],["T_WHITESPACE"," ",236],["T_DOUBLE_ARROW","=>",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$entity",236],")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n          ",236],["T_VARIABLE","$items",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$entity",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","get",237],"(",["T_VARIABLE","$name",237],")",";",["T_WHITESPACE","\n          ",237],["T_VARIABLE","$items",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","filterEmptyItems",238],"(",")",";",["T_WHITESPACE","\n          ",238],["T_VARIABLE","$grouped_items",239],"[",["T_VARIABLE","$id",239],"]",["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$items",239],";",["T_WHITESPACE","\n        ",239],"}",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$formatter",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","prepareView",241],"(",["T_VARIABLE","$grouped_items",241],")",";",["T_WHITESPACE","\n\n        ",241],["T_COMMENT","\/\/ Then let the formatter build the output for each entity.\n",243],["T_WHITESPACE","        ",244],["T_FOREACH","foreach",244],["T_WHITESPACE"," ",244],"(",["T_VARIABLE","$entities",244],["T_WHITESPACE"," ",244],["T_AS","as",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$id",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$entity",244],")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n          ",244],["T_VARIABLE","$items",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$grouped_items",245],"[",["T_VARIABLE","$id",245],"]",";",["T_WHITESPACE","\n          ",245],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Access\\AccessResultInterface $field_access *\/",246],["T_WHITESPACE","\n          ",246],["T_VARIABLE","$field_access",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$items",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","access",247],"(",["T_CONSTANT_ENCAPSED_STRING","'view'",247],",",["T_WHITESPACE"," ",247],["T_STRING","NULL",247],",",["T_WHITESPACE"," ",247],["T_STRING","TRUE",247],")",";",["T_WHITESPACE","\n          ",247],["T_COMMENT","\/\/ The language of the field values to display is already determined\n",248],["T_WHITESPACE","          ",249],["T_COMMENT","\/\/ in the incoming $entity. The formatter should build its output of\n",249],["T_WHITESPACE","          ",250],["T_COMMENT","\/\/ those values using:\n",250],["T_WHITESPACE","          ",251],["T_COMMENT","\/\/ - the entity language if the entity is translatable,\n",251],["T_WHITESPACE","          ",252],["T_COMMENT","\/\/ - the current \"content language\" otherwise.\n",252],["T_WHITESPACE","          ",253],["T_IF","if",253],["T_WHITESPACE"," ",253],"(",["T_VARIABLE","$entity",253],["T_WHITESPACE"," ",253],["T_INSTANCEOF","instanceof",253],["T_WHITESPACE"," ",253],["T_STRING","TranslatableInterface",253],["T_WHITESPACE"," ",253],["T_BOOLEAN_AND","&&",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$entity",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","isTranslatable",253],"(",")",")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n            ",253],["T_VARIABLE","$view_langcode",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$entity",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","language",254],"(",")",["T_OBJECT_OPERATOR","->",254],["T_STRING","getId",254],"(",")",";",["T_WHITESPACE","\n          ",254],"}",["T_WHITESPACE","\n          ",255],["T_ELSE","else",256],["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n            ",256],["T_VARIABLE","$view_langcode",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_STRING","NULL",257],";",["T_WHITESPACE","\n          ",257],"}",["T_WHITESPACE","\n          ",258],["T_VARIABLE","$build_list",259],"[",["T_VARIABLE","$id",259],"]","[",["T_VARIABLE","$name",259],"]",["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$field_access",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","isAllowed",259],"(",")",["T_WHITESPACE"," ",259],"?",["T_WHITESPACE"," ",259],["T_VARIABLE","$formatter",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","view",259],"(",["T_VARIABLE","$items",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$view_langcode",259],")",["T_WHITESPACE"," ",259],":",["T_WHITESPACE"," ",259],"[","]",";",["T_WHITESPACE","\n          ",259],["T_COMMENT","\/\/ Apply the field access cacheability metadata to the render array.\n",260],["T_WHITESPACE","          ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","renderer",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","addCacheableDependency",261],"(",["T_VARIABLE","$build_list",261],"[",["T_VARIABLE","$id",261],"]","[",["T_VARIABLE","$name",261],"]",",",["T_WHITESPACE"," ",261],["T_VARIABLE","$field_access",261],")",";",["T_WHITESPACE","\n        ",261],"}",["T_WHITESPACE","\n      ",262],"}",["T_WHITESPACE","\n    ",263],"}",["T_WHITESPACE","\n\n    ",264],["T_FOREACH","foreach",266],["T_WHITESPACE"," ",266],"(",["T_VARIABLE","$entities",266],["T_WHITESPACE"," ",266],["T_AS","as",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$id",266],["T_WHITESPACE"," ",266],["T_DOUBLE_ARROW","=>",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$entity",266],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n      ",266],["T_COMMENT","\/\/ Assign the configured weights.\n",267],["T_WHITESPACE","      ",268],["T_FOREACH","foreach",268],["T_WHITESPACE"," ",268],"(",["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","getComponents",268],"(",")",["T_WHITESPACE"," ",268],["T_AS","as",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$name",268],["T_WHITESPACE"," ",268],["T_DOUBLE_ARROW","=>",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$options",268],")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n        ",268],["T_IF","if",269],["T_WHITESPACE"," ",269],"(",["T_ISSET","isset",269],"(",["T_VARIABLE","$build_list",269],"[",["T_VARIABLE","$id",269],"]","[",["T_VARIABLE","$name",269],"]",")",")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n          ",269],["T_VARIABLE","$build_list",270],"[",["T_VARIABLE","$id",270],"]","[",["T_VARIABLE","$name",270],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#weight'",270],"]",["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_VARIABLE","$options",270],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",270],"]",";",["T_WHITESPACE","\n        ",270],"}",["T_WHITESPACE","\n      ",271],"}",["T_WHITESPACE","\n\n      ",272],["T_COMMENT","\/\/ Let other modules alter the renderable array.\n",274],["T_WHITESPACE","      ",275],["T_VARIABLE","$context",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_ARRAY","array",275],"(",["T_WHITESPACE","\n        ",275],["T_CONSTANT_ENCAPSED_STRING","'entity'",276],["T_WHITESPACE"," ",276],["T_DOUBLE_ARROW","=>",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$entity",276],",",["T_WHITESPACE","\n        ",276],["T_CONSTANT_ENCAPSED_STRING","'view_mode'",277],["T_WHITESPACE"," ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","originalMode",277],",",["T_WHITESPACE","\n        ",277],["T_CONSTANT_ENCAPSED_STRING","'display'",278],["T_WHITESPACE"," ",278],["T_DOUBLE_ARROW","=>",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],",",["T_WHITESPACE","\n      ",278],")",";",["T_WHITESPACE","\n      ",279],["T_NS_SEPARATOR","\\",280],["T_STRING","Drupal",280],["T_DOUBLE_COLON","::",280],["T_STRING","moduleHandler",280],"(",")",["T_OBJECT_OPERATOR","->",280],["T_STRING","alter",280],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_display_build'",280],",",["T_WHITESPACE"," ",280],["T_VARIABLE","$build_list",280],"[",["T_VARIABLE","$id",280],"]",",",["T_WHITESPACE"," ",280],["T_VARIABLE","$context",280],")",";",["T_WHITESPACE","\n    ",280],"}",["T_WHITESPACE","\n\n    ",281],["T_RETURN","return",283],["T_WHITESPACE"," ",283],["T_VARIABLE","$build_list",283],";",["T_WHITESPACE","\n  ",283],"}",["T_WHITESPACE","\n\n  ",284],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",286],["T_WHITESPACE","\n  ",288],["T_PUBLIC","public",289],["T_WHITESPACE"," ",289],["T_FUNCTION","function",289],["T_WHITESPACE"," ",289],["T_STRING","getPluginCollections",289],"(",")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n    ",289],["T_VARIABLE","$configurations",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_ARRAY","array",290],"(",")",";",["T_WHITESPACE","\n    ",290],["T_FOREACH","foreach",291],["T_WHITESPACE"," ",291],"(",["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","getComponents",291],"(",")",["T_WHITESPACE"," ",291],["T_AS","as",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$field_name",291],["T_WHITESPACE"," ",291],["T_DOUBLE_ARROW","=>",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$configuration",291],")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n      ",291],["T_IF","if",292],["T_WHITESPACE"," ",292],"(","!",["T_EMPTY","empty",292],"(",["T_VARIABLE","$configuration",292],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",292],"]",")",["T_WHITESPACE"," ",292],["T_BOOLEAN_AND","&&",292],["T_WHITESPACE"," ",292],"(",["T_VARIABLE","$field_definition",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","getFieldDefinition",292],"(",["T_VARIABLE","$field_name",292],")",")",")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n        ",292],["T_VARIABLE","$configurations",293],"[",["T_VARIABLE","$configuration",293],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",293],"]","]",["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_VARIABLE","$configuration",293],["T_WHITESPACE"," ",293],"+",["T_WHITESPACE"," ",293],["T_ARRAY","array",293],"(",["T_WHITESPACE","\n          ",293],["T_CONSTANT_ENCAPSED_STRING","'field_definition'",294],["T_WHITESPACE"," ",294],["T_DOUBLE_ARROW","=>",294],["T_WHITESPACE"," ",294],["T_VARIABLE","$field_definition",294],",",["T_WHITESPACE","\n          ",294],["T_CONSTANT_ENCAPSED_STRING","'view_mode'",295],["T_WHITESPACE"," ",295],["T_DOUBLE_ARROW","=>",295],["T_WHITESPACE"," ",295],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","originalMode",295],",",["T_WHITESPACE","\n        ",295],")",";",["T_WHITESPACE","\n      ",296],"}",["T_WHITESPACE","\n    ",297],"}",["T_WHITESPACE","\n\n    ",298],["T_RETURN","return",300],["T_WHITESPACE"," ",300],["T_ARRAY","array",300],"(",["T_WHITESPACE","\n      ",300],["T_CONSTANT_ENCAPSED_STRING","'formatters'",301],["T_WHITESPACE"," ",301],["T_DOUBLE_ARROW","=>",301],["T_WHITESPACE"," ",301],["T_NEW","new",301],["T_WHITESPACE"," ",301],["T_STRING","EntityDisplayPluginCollection",301],"(",["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","pluginManager",301],",",["T_WHITESPACE"," ",301],["T_VARIABLE","$configurations",301],")",["T_WHITESPACE","\n    ",301],")",";",["T_WHITESPACE","\n  ",302],"}",["T_WHITESPACE","\n\n",303],"}",["T_WHITESPACE","\n",305]]