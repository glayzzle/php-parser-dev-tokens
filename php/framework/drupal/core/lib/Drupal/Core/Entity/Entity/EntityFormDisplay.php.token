[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Entity",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Entity",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","EntityConstraintViolationListInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","EntityDisplayPluginCollection",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FieldableEntityInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Display",8],["T_NS_SEPARATOR","\\",8],["T_STRING","EntityFormDisplayInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","EntityDisplayBase",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Form",10],["T_NS_SEPARATOR","\\",10],["T_STRING","FormStateInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Symfony",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Component",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Validator",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ConstraintViolation",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Symfony",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Validator",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ConstraintViolationList",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Symfony",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Component",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Validator",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ConstraintViolationListInterface",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * Configuration entity that contains widget options for all components of a\n * entity form in a given form mode.\n *\n * @ConfigEntityType(\n *   id = \"entity_form_display\",\n *   label = @Translation(\"Entity form display\"),\n *   entity_keys = {\n *     \"id\" = \"id\",\n *     \"status\" = \"status\"\n *   },\n *   config_export = {\n *     \"id\",\n *     \"targetEntityType\",\n *     \"bundle\",\n *     \"mode\",\n *     \"content\",\n *     \"hidden\",\n *   }\n * )\n *\/",15],["T_WHITESPACE","\n",35],["T_CLASS","class",36],["T_WHITESPACE"," ",36],["T_STRING","EntityFormDisplay",36],["T_WHITESPACE"," ",36],["T_EXTENDS","extends",36],["T_WHITESPACE"," ",36],["T_STRING","EntityDisplayBase",36],["T_WHITESPACE"," ",36],["T_IMPLEMENTS","implements",36],["T_WHITESPACE"," ",36],["T_STRING","EntityFormDisplayInterface",36],["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",38],["T_WHITESPACE","\n  ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$displayContext",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'form'",41],";",["T_WHITESPACE","\n\n  ",41],["T_DOC_COMMENT","\/**\n   * Returns the entity_form_display object used to build an entity form.\n   *\n   * Depending on the configuration of the form mode for the entity bundle, this\n   * can be either the display object associated with the form mode, or the\n   * 'default' display.\n   *\n   * This method should only be used internally when rendering an entity form.\n   * When assigning suggested display options for a component in a given form\n   * mode, entity_get_form_display() should be used instead, in order to avoid\n   * inadvertently modifying the output of other form modes that might happen to\n   * use the 'default' display too. Those options will then be effectively\n   * applied only if the form mode is configured to use them.\n   *\n   * hook_entity_form_display_alter() is invoked on each display, allowing 3rd\n   * party code to alter the display options held in the display before they are\n   * used to generate render arrays.\n   *\n   * @param \\Drupal\\Core\\Entity\\FieldableEntityInterface $entity\n   *   The entity for which the form is being built.\n   * @param string $form_mode\n   *   The form mode.\n   *\n   * @return \\Drupal\\Core\\Entity\\Display\\EntityFormDisplayInterface\n   *   The display object that should be used to build the entity form.\n   *\n   * @see entity_get_form_display()\n   * @see hook_entity_form_display_alter()\n   *\/",43],["T_WHITESPACE","\n  ",71],["T_PUBLIC","public",72],["T_WHITESPACE"," ",72],["T_STATIC","static",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","collectRenderDisplay",72],"(",["T_STRING","FieldableEntityInterface",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$entity",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$form_mode",72],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n    ",72],["T_VARIABLE","$entity_type",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$entity",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getEntityTypeId",73],"(",")",";",["T_WHITESPACE","\n    ",73],["T_VARIABLE","$bundle",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$entity",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","bundle",74],"(",")",";",["T_WHITESPACE","\n\n    ",74],["T_COMMENT","\/\/ Check the existence and status of:\n",76],["T_WHITESPACE","    ",77],["T_COMMENT","\/\/ - the display for the form mode,\n",77],["T_WHITESPACE","    ",78],["T_COMMENT","\/\/ - the 'default' display.\n",78],["T_WHITESPACE","    ",79],["T_IF","if",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$form_mode",79],["T_WHITESPACE"," ",79],["T_IS_NOT_EQUAL","!=",79],["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'default'",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n      ",79],["T_VARIABLE","$candidate_ids",80],"[","]",["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$entity_type",80],["T_WHITESPACE"," ",80],".",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'.'",80],["T_WHITESPACE"," ",80],".",["T_WHITESPACE"," ",80],["T_VARIABLE","$bundle",80],["T_WHITESPACE"," ",80],".",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'.'",80],["T_WHITESPACE"," ",80],".",["T_WHITESPACE"," ",80],["T_VARIABLE","$form_mode",80],";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n    ",81],["T_VARIABLE","$candidate_ids",82],"[","]",["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$entity_type",82],["T_WHITESPACE"," ",82],".",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'.'",82],["T_WHITESPACE"," ",82],".",["T_WHITESPACE"," ",82],["T_VARIABLE","$bundle",82],["T_WHITESPACE"," ",82],".",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'.default'",82],";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$results",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_NS_SEPARATOR","\\",83],["T_STRING","Drupal",83],["T_DOUBLE_COLON","::",83],["T_STRING","entityQuery",83],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_form_display'",83],")",["T_WHITESPACE","\n      ",83],["T_OBJECT_OPERATOR","->",84],["T_STRING","condition",84],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$candidate_ids",84],")",["T_WHITESPACE","\n      ",84],["T_OBJECT_OPERATOR","->",85],["T_STRING","condition",85],"(",["T_CONSTANT_ENCAPSED_STRING","'status'",85],",",["T_WHITESPACE"," ",85],["T_STRING","TRUE",85],")",["T_WHITESPACE","\n      ",85],["T_OBJECT_OPERATOR","->",86],["T_STRING","execute",86],"(",")",";",["T_WHITESPACE","\n\n    ",86],["T_COMMENT","\/\/ Load the first valid candidate display, if any.\n",88],["T_WHITESPACE","    ",89],["T_VARIABLE","$storage",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_NS_SEPARATOR","\\",89],["T_STRING","Drupal",89],["T_DOUBLE_COLON","::",89],["T_STRING","entityManager",89],"(",")",["T_OBJECT_OPERATOR","->",89],["T_STRING","getStorage",89],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_form_display'",89],")",";",["T_WHITESPACE","\n    ",89],["T_FOREACH","foreach",90],["T_WHITESPACE"," ",90],"(",["T_VARIABLE","$candidate_ids",90],["T_WHITESPACE"," ",90],["T_AS","as",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$candidate_id",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n      ",90],["T_IF","if",91],["T_WHITESPACE"," ",91],"(",["T_ISSET","isset",91],"(",["T_VARIABLE","$results",91],"[",["T_VARIABLE","$candidate_id",91],"]",")",")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$display",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$storage",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","load",92],"(",["T_VARIABLE","$candidate_id",92],")",";",["T_WHITESPACE","\n        ",92],["T_BREAK","break",93],";",["T_WHITESPACE","\n      ",93],"}",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n    ",95],["T_COMMENT","\/\/ Else create a fresh runtime object.\n",96],["T_WHITESPACE","    ",97],["T_IF","if",97],["T_WHITESPACE"," ",97],"(",["T_EMPTY","empty",97],"(",["T_VARIABLE","$display",97],")",")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n      ",97],["T_VARIABLE","$display",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$storage",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","create",98],"(",["T_ARRAY","array",98],"(",["T_WHITESPACE","\n        ",98],["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$entity_type",99],",",["T_WHITESPACE","\n        ",99],["T_CONSTANT_ENCAPSED_STRING","'bundle'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$bundle",100],",",["T_WHITESPACE","\n        ",100],["T_CONSTANT_ENCAPSED_STRING","'mode'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$form_mode",101],",",["T_WHITESPACE","\n        ",101],["T_CONSTANT_ENCAPSED_STRING","'status'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_STRING","TRUE",102],",",["T_WHITESPACE","\n      ",102],")",")",";",["T_WHITESPACE","\n    ",103],"}",["T_WHITESPACE","\n\n    ",104],["T_COMMENT","\/\/ Let the display know which form mode was originally requested.\n",106],["T_WHITESPACE","    ",107],["T_VARIABLE","$display",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","originalMode",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$form_mode",107],";",["T_WHITESPACE","\n\n    ",107],["T_COMMENT","\/\/ Let modules alter the display.\n",109],["T_WHITESPACE","    ",110],["T_VARIABLE","$display_context",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_ARRAY","array",110],"(",["T_WHITESPACE","\n      ",110],["T_CONSTANT_ENCAPSED_STRING","'entity_type'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$entity_type",111],",",["T_WHITESPACE","\n      ",111],["T_CONSTANT_ENCAPSED_STRING","'bundle'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$bundle",112],",",["T_WHITESPACE","\n      ",112],["T_CONSTANT_ENCAPSED_STRING","'form_mode'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$form_mode",113],",",["T_WHITESPACE","\n    ",113],")",";",["T_WHITESPACE","\n    ",114],["T_NS_SEPARATOR","\\",115],["T_STRING","Drupal",115],["T_DOUBLE_COLON","::",115],["T_STRING","moduleHandler",115],"(",")",["T_OBJECT_OPERATOR","->",115],["T_STRING","alter",115],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_form_display'",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$display",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$display_context",115],")",";",["T_WHITESPACE","\n\n    ",115],["T_RETURN","return",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$display",117],";",["T_WHITESPACE","\n  ",117],"}",["T_WHITESPACE","\n\n  ",118],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",120],["T_WHITESPACE","\n  ",122],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","__construct",123],"(",["T_ARRAY","array",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$values",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$entity_type",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","pluginManager",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_NS_SEPARATOR","\\",124],["T_STRING","Drupal",124],["T_DOUBLE_COLON","::",124],["T_STRING","service",124],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.field.widget'",124],")",";",["T_WHITESPACE","\n\n    ",124],["T_STRING","parent",126],["T_DOUBLE_COLON","::",126],["T_STRING","__construct",126],"(",["T_VARIABLE","$values",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$entity_type",126],")",";",["T_WHITESPACE","\n  ",126],"}",["T_WHITESPACE","\n\n  ",127],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",129],["T_WHITESPACE","\n  ",131],["T_PUBLIC","public",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","getRenderer",132],"(",["T_VARIABLE","$field_name",132],")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n    ",132],["T_IF","if",133],["T_WHITESPACE"," ",133],"(",["T_ISSET","isset",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","plugins",133],"[",["T_VARIABLE","$field_name",133],"]",")",")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n      ",133],["T_RETURN","return",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","plugins",134],"[",["T_VARIABLE","$field_name",134],"]",";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n\n    ",135],["T_COMMENT","\/\/ Instantiate the widget object from the stored display properties.\n",137],["T_WHITESPACE","    ",138],["T_IF","if",138],["T_WHITESPACE"," ",138],"(","(",["T_VARIABLE","$configuration",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getComponent",138],"(",["T_VARIABLE","$field_name",138],")",")",["T_WHITESPACE"," ",138],["T_BOOLEAN_AND","&&",138],["T_WHITESPACE"," ",138],["T_ISSET","isset",138],"(",["T_VARIABLE","$configuration",138],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",138],"]",")",["T_WHITESPACE"," ",138],["T_BOOLEAN_AND","&&",138],["T_WHITESPACE"," ",138],"(",["T_VARIABLE","$definition",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getFieldDefinition",138],"(",["T_VARIABLE","$field_name",138],")",")",")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n      ",138],["T_VARIABLE","$widget",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","pluginManager",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getInstance",139],"(",["T_ARRAY","array",139],"(",["T_WHITESPACE","\n        ",139],["T_CONSTANT_ENCAPSED_STRING","'field_definition'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$definition",140],",",["T_WHITESPACE","\n        ",140],["T_CONSTANT_ENCAPSED_STRING","'form_mode'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","originalMode",141],",",["T_WHITESPACE","\n        ",141],["T_COMMENT","\/\/ No need to prepare, defaults have been merged in setComponent().\n",142],["T_WHITESPACE","        ",143],["T_CONSTANT_ENCAPSED_STRING","'prepare'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_STRING","FALSE",143],",",["T_WHITESPACE","\n        ",143],["T_CONSTANT_ENCAPSED_STRING","'configuration'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$configuration",144],["T_WHITESPACE","\n      ",144],")",")",";",["T_WHITESPACE","\n    ",145],"}",["T_WHITESPACE","\n    ",146],["T_ELSE","else",147],["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n      ",147],["T_VARIABLE","$widget",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_STRING","NULL",148],";",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n\n    ",149],["T_COMMENT","\/\/ Persist the widget object.\n",151],["T_WHITESPACE","    ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","plugins",152],"[",["T_VARIABLE","$field_name",152],"]",["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$widget",152],";",["T_WHITESPACE","\n    ",152],["T_RETURN","return",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$widget",153],";",["T_WHITESPACE","\n  ",153],"}",["T_WHITESPACE","\n\n  ",154],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",156],["T_WHITESPACE","\n  ",158],["T_PUBLIC","public",159],["T_WHITESPACE"," ",159],["T_FUNCTION","function",159],["T_WHITESPACE"," ",159],["T_STRING","buildForm",159],"(",["T_STRING","FieldableEntityInterface",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$entity",159],",",["T_WHITESPACE"," ",159],["T_ARRAY","array",159],["T_WHITESPACE"," ",159],"&",["T_VARIABLE","$form",159],",",["T_WHITESPACE"," ",159],["T_STRING","FormStateInterface",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$form_state",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n    ",159],["T_COMMENT","\/\/ Set #parents to 'top-level' by default.\n",160],["T_WHITESPACE","    ",161],["T_VARIABLE","$form",161],["T_WHITESPACE"," ",161],["T_PLUS_EQUAL","+=",161],["T_WHITESPACE"," ",161],["T_ARRAY","array",161],"(",["T_CONSTANT_ENCAPSED_STRING","'#parents'",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_ARRAY","array",161],"(",")",")",";",["T_WHITESPACE","\n\n    ",161],["T_COMMENT","\/\/ Let each widget generate the form elements.\n",163],["T_WHITESPACE","    ",164],["T_FOREACH","foreach",164],["T_WHITESPACE"," ",164],"(",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getComponents",164],"(",")",["T_WHITESPACE"," ",164],["T_AS","as",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$name",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$options",164],")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n      ",164],["T_IF","if",165],["T_WHITESPACE"," ",165],"(",["T_VARIABLE","$widget",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getRenderer",165],"(",["T_VARIABLE","$name",165],")",")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$items",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$entity",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","get",166],"(",["T_VARIABLE","$name",166],")",";",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$items",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","filterEmptyItems",167],"(",")",";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$form",168],"[",["T_VARIABLE","$name",168],"]",["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$widget",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","form",168],"(",["T_VARIABLE","$items",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$form",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$form_state",168],")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$form",169],"[",["T_VARIABLE","$name",169],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#access'",169],"]",["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$items",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","access",169],"(",["T_CONSTANT_ENCAPSED_STRING","'edit'",169],")",";",["T_WHITESPACE","\n\n        ",169],["T_COMMENT","\/\/ Assign the correct weight. This duplicates the reordering done in\n",171],["T_WHITESPACE","        ",172],["T_COMMENT","\/\/ processForm(), but is needed for other forms calling this method\n",172],["T_WHITESPACE","        ",173],["T_COMMENT","\/\/ directly.\n",173],["T_WHITESPACE","        ",174],["T_VARIABLE","$form",174],"[",["T_VARIABLE","$name",174],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#weight'",174],"]",["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$options",174],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",174],"]",";",["T_WHITESPACE","\n\n        ",174],["T_COMMENT","\/\/ Associate the cache tags for the field definition & field storage\n",176],["T_WHITESPACE","        ",177],["T_COMMENT","\/\/ definition.\n",177],["T_WHITESPACE","        ",178],["T_VARIABLE","$field_definition",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getFieldDefinition",178],"(",["T_VARIABLE","$name",178],")",";",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","renderer",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","addCacheableDependency",179],"(",["T_VARIABLE","$form",179],"[",["T_VARIABLE","$name",179],"]",",",["T_WHITESPACE"," ",179],["T_VARIABLE","$field_definition",179],")",";",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","renderer",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","addCacheableDependency",180],"(",["T_VARIABLE","$form",180],"[",["T_VARIABLE","$name",180],"]",",",["T_WHITESPACE"," ",180],["T_VARIABLE","$field_definition",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getFieldStorageDefinition",180],"(",")",")",";",["T_WHITESPACE","\n      ",180],"}",["T_WHITESPACE","\n    ",181],"}",["T_WHITESPACE","\n\n    ",182],["T_COMMENT","\/\/ Associate the cache tags for the form display.\n",184],["T_WHITESPACE","    ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","renderer",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","addCacheableDependency",185],"(",["T_VARIABLE","$form",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],")",";",["T_WHITESPACE","\n\n    ",185],["T_COMMENT","\/\/ Add a process callback so we can assign weights and hide extra fields.\n",187],["T_WHITESPACE","    ",188],["T_VARIABLE","$form",188],"[",["T_CONSTANT_ENCAPSED_STRING","'#process'",188],"]","[","]",["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_ARRAY","array",188],"(",["T_VARIABLE","$this",188],",",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'processForm'",188],")",";",["T_WHITESPACE","\n  ",188],"}",["T_WHITESPACE","\n\n  ",189],["T_DOC_COMMENT","\/**\n   * Process callback: assigns weights and hides extra fields.\n   *\n   * @see \\Drupal\\Core\\Entity\\Entity\\EntityFormDisplay::buildForm()\n   *\/",191],["T_WHITESPACE","\n  ",195],["T_PUBLIC","public",196],["T_WHITESPACE"," ",196],["T_FUNCTION","function",196],["T_WHITESPACE"," ",196],["T_STRING","processForm",196],"(",["T_VARIABLE","$element",196],",",["T_WHITESPACE"," ",196],["T_STRING","FormStateInterface",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$form_state",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$form",196],")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n    ",196],["T_COMMENT","\/\/ Assign the weights configured in the form display.\n",197],["T_WHITESPACE","    ",198],["T_FOREACH","foreach",198],["T_WHITESPACE"," ",198],"(",["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","getComponents",198],"(",")",["T_WHITESPACE"," ",198],["T_AS","as",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$name",198],["T_WHITESPACE"," ",198],["T_DOUBLE_ARROW","=>",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$options",198],")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n      ",198],["T_IF","if",199],["T_WHITESPACE"," ",199],"(",["T_ISSET","isset",199],"(",["T_VARIABLE","$element",199],"[",["T_VARIABLE","$name",199],"]",")",")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$element",200],"[",["T_VARIABLE","$name",200],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#weight'",200],"]",["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$options",200],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",200],"]",";",["T_WHITESPACE","\n      ",200],"}",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n\n    ",202],["T_COMMENT","\/\/ Hide extra fields.\n",204],["T_WHITESPACE","    ",205],["T_VARIABLE","$extra_fields",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_NS_SEPARATOR","\\",205],["T_STRING","Drupal",205],["T_DOUBLE_COLON","::",205],["T_STRING","entityManager",205],"(",")",["T_OBJECT_OPERATOR","->",205],["T_STRING","getExtraFields",205],"(",["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","targetEntityType",205],",",["T_WHITESPACE"," ",205],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","bundle",205],")",";",["T_WHITESPACE","\n    ",205],["T_VARIABLE","$extra_fields",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_ISSET","isset",206],"(",["T_VARIABLE","$extra_fields",206],"[",["T_CONSTANT_ENCAPSED_STRING","'form'",206],"]",")",["T_WHITESPACE"," ",206],"?",["T_WHITESPACE"," ",206],["T_VARIABLE","$extra_fields",206],"[",["T_CONSTANT_ENCAPSED_STRING","'form'",206],"]",["T_WHITESPACE"," ",206],":",["T_WHITESPACE"," ",206],["T_ARRAY","array",206],"(",")",";",["T_WHITESPACE","\n    ",206],["T_FOREACH","foreach",207],["T_WHITESPACE"," ",207],"(",["T_VARIABLE","$extra_fields",207],["T_WHITESPACE"," ",207],["T_AS","as",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$extra_field",207],["T_WHITESPACE"," ",207],["T_DOUBLE_ARROW","=>",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$info",207],")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n      ",207],["T_IF","if",208],["T_WHITESPACE"," ",208],"(","!",["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getComponent",208],"(",["T_VARIABLE","$extra_field",208],")",")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$element",209],"[",["T_VARIABLE","$extra_field",209],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#access'",209],"]",["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_STRING","FALSE",209],";",["T_WHITESPACE","\n      ",209],"}",["T_WHITESPACE","\n    ",210],"}",["T_WHITESPACE","\n    ",211],["T_RETURN","return",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$element",212],";",["T_WHITESPACE","\n  ",212],"}",["T_WHITESPACE","\n\n  ",213],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",215],["T_WHITESPACE","\n  ",217],["T_PUBLIC","public",218],["T_WHITESPACE"," ",218],["T_FUNCTION","function",218],["T_WHITESPACE"," ",218],["T_STRING","extractFormValues",218],"(",["T_STRING","FieldableEntityInterface",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$entity",218],",",["T_WHITESPACE"," ",218],["T_ARRAY","array",218],["T_WHITESPACE"," ",218],"&",["T_VARIABLE","$form",218],",",["T_WHITESPACE"," ",218],["T_STRING","FormStateInterface",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$form_state",218],")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n    ",218],["T_VARIABLE","$extracted",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_ARRAY","array",219],"(",")",";",["T_WHITESPACE","\n    ",219],["T_FOREACH","foreach",220],["T_WHITESPACE"," ",220],"(",["T_VARIABLE","$entity",220],["T_WHITESPACE"," ",220],["T_AS","as",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$name",220],["T_WHITESPACE"," ",220],["T_DOUBLE_ARROW","=>",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$items",220],")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n      ",220],["T_IF","if",221],["T_WHITESPACE"," ",221],"(",["T_VARIABLE","$widget",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getRenderer",221],"(",["T_VARIABLE","$name",221],")",")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$widget",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","extractFormValues",222],"(",["T_VARIABLE","$items",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$form",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$form_state",222],")",";",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$extracted",223],"[",["T_VARIABLE","$name",223],"]",["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$name",223],";",["T_WHITESPACE","\n      ",223],"}",["T_WHITESPACE","\n    ",224],"}",["T_WHITESPACE","\n    ",225],["T_RETURN","return",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$extracted",226],";",["T_WHITESPACE","\n  ",226],"}",["T_WHITESPACE","\n\n  ",227],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",229],["T_WHITESPACE","\n  ",231],["T_PUBLIC","public",232],["T_WHITESPACE"," ",232],["T_FUNCTION","function",232],["T_WHITESPACE"," ",232],["T_STRING","validateFormValues",232],"(",["T_STRING","FieldableEntityInterface",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$entity",232],",",["T_WHITESPACE"," ",232],["T_ARRAY","array",232],["T_WHITESPACE"," ",232],"&",["T_VARIABLE","$form",232],",",["T_WHITESPACE"," ",232],["T_STRING","FormStateInterface",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$form_state",232],")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n    ",232],["T_VARIABLE","$violations",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_VARIABLE","$entity",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","validate",233],"(",")",";",["T_WHITESPACE","\n    ",233],["T_VARIABLE","$violations",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","filterByFieldAccess",234],"(",")",";",["T_WHITESPACE","\n\n    ",234],["T_COMMENT","\/\/ Flag entity level violations.\n",236],["T_WHITESPACE","    ",237],["T_FOREACH","foreach",237],["T_WHITESPACE"," ",237],"(",["T_VARIABLE","$violations",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","getEntityViolations",237],"(",")",["T_WHITESPACE"," ",237],["T_AS","as",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$violation",237],")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n      ",237],["T_DOC_COMMENT","\/** @var \\Symfony\\Component\\Validator\\ConstraintViolationInterface $violation *\/",238],["T_WHITESPACE","\n      ",238],["T_VARIABLE","$form_state",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","setError",239],"(",["T_VARIABLE","$form",239],",",["T_WHITESPACE"," ",239],["T_VARIABLE","$violation",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getMessage",239],"(",")",")",";",["T_WHITESPACE","\n    ",239],"}",["T_WHITESPACE","\n\n    ",240],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","flagWidgetsErrorsFromViolations",242],"(",["T_VARIABLE","$violations",242],",",["T_WHITESPACE"," ",242],["T_VARIABLE","$form",242],",",["T_WHITESPACE"," ",242],["T_VARIABLE","$form_state",242],")",";",["T_WHITESPACE","\n  ",242],"}",["T_WHITESPACE","\n\n  ",243],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",245],["T_WHITESPACE","\n  ",247],["T_PUBLIC","public",248],["T_WHITESPACE"," ",248],["T_FUNCTION","function",248],["T_WHITESPACE"," ",248],["T_STRING","flagWidgetsErrorsFromViolations",248],"(",["T_STRING","EntityConstraintViolationListInterface",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$violations",248],",",["T_WHITESPACE"," ",248],["T_ARRAY","array",248],["T_WHITESPACE"," ",248],"&",["T_VARIABLE","$form",248],",",["T_WHITESPACE"," ",248],["T_STRING","FormStateInterface",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$form_state",248],")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n    ",248],["T_VARIABLE","$entity",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$violations",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","getEntity",249],"(",")",";",["T_WHITESPACE","\n    ",249],["T_FOREACH","foreach",250],["T_WHITESPACE"," ",250],"(",["T_VARIABLE","$violations",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","getFieldNames",250],"(",")",["T_WHITESPACE"," ",250],["T_AS","as",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$field_name",250],")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n      ",250],["T_COMMENT","\/\/ Only show violations for fields that actually appear in the form, and\n",251],["T_WHITESPACE","      ",252],["T_COMMENT","\/\/ let the widget assign the violations to the correct form elements.\n",252],["T_WHITESPACE","      ",253],["T_IF","if",253],["T_WHITESPACE"," ",253],"(",["T_VARIABLE","$widget",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","getRenderer",253],"(",["T_VARIABLE","$field_name",253],")",")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n        ",253],["T_VARIABLE","$field_violations",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","movePropertyPathViolationsRelativeToField",254],"(",["T_VARIABLE","$field_name",254],",",["T_WHITESPACE"," ",254],["T_VARIABLE","$violations",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","getByField",254],"(",["T_VARIABLE","$field_name",254],")",")",";",["T_WHITESPACE","\n        ",254],["T_VARIABLE","$widget",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","flagErrors",255],"(",["T_VARIABLE","$entity",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","get",255],"(",["T_VARIABLE","$field_name",255],")",",",["T_WHITESPACE"," ",255],["T_VARIABLE","$field_violations",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$form",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$form_state",255],")",";",["T_WHITESPACE","\n      ",255],"}",["T_WHITESPACE","\n    ",256],"}",["T_WHITESPACE","\n  ",257],"}",["T_WHITESPACE","\n\n  ",258],["T_DOC_COMMENT","\/**\n   * Moves the property path to be relative to field level.\n   *\n   * @param string $field_name\n   *   The field name.\n   * @param \\Symfony\\Component\\Validator\\ConstraintViolationListInterface $violations\n   *   The violations.\n   *\n   * @return \\Symfony\\Component\\Validator\\ConstraintViolationList\n   *   A new constraint violation list with the changed property path.\n   *\/",260],["T_WHITESPACE","\n  ",270],["T_PROTECTED","protected",271],["T_WHITESPACE"," ",271],["T_FUNCTION","function",271],["T_WHITESPACE"," ",271],["T_STRING","movePropertyPathViolationsRelativeToField",271],"(",["T_VARIABLE","$field_name",271],",",["T_WHITESPACE"," ",271],["T_STRING","ConstraintViolationListInterface",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$violations",271],")",["T_WHITESPACE"," ",271],"{",["T_WHITESPACE","\n    ",271],["T_VARIABLE","$new_violations",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_NEW","new",272],["T_WHITESPACE"," ",272],["T_STRING","ConstraintViolationList",272],"(",")",";",["T_WHITESPACE","\n    ",272],["T_FOREACH","foreach",273],["T_WHITESPACE"," ",273],"(",["T_VARIABLE","$violations",273],["T_WHITESPACE"," ",273],["T_AS","as",273],["T_WHITESPACE"," ",273],["T_VARIABLE","$violation",273],")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n      ",273],["T_COMMENT","\/\/ All the logic below is necessary to change the property path of the\n",274],["T_WHITESPACE","      ",275],["T_COMMENT","\/\/ violations to be relative to the item list, so like title.0.value gets\n",275],["T_WHITESPACE","      ",276],["T_COMMENT","\/\/ changed to 0.value. Sadly constraints in Symfony don't have setters so\n",276],["T_WHITESPACE","      ",277],["T_COMMENT","\/\/ we have to create new objects.\n",277],["T_WHITESPACE","      ",278],["T_DOC_COMMENT","\/** @var \\Symfony\\Component\\Validator\\ConstraintViolationInterface $violation *\/",278],["T_WHITESPACE","\n      ",278],["T_COMMENT","\/\/ Create a new violation object with just a different property path.\n",279],["T_WHITESPACE","      ",280],["T_VARIABLE","$violation_path",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$violation",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","getPropertyPath",280],"(",")",";",["T_WHITESPACE","\n      ",280],["T_VARIABLE","$path_parts",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_STRING","explode",281],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",281],",",["T_WHITESPACE"," ",281],["T_VARIABLE","$violation_path",281],")",";",["T_WHITESPACE","\n      ",281],["T_IF","if",282],["T_WHITESPACE"," ",282],"(",["T_VARIABLE","$path_parts",282],"[",["T_LNUMBER","0",282],"]",["T_WHITESPACE"," ",282],["T_IS_IDENTICAL","===",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$field_name",282],")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n        ",282],["T_UNSET","unset",283],"(",["T_VARIABLE","$path_parts",283],"[",["T_LNUMBER","0",283],"]",")",";",["T_WHITESPACE","\n      ",283],"}",["T_WHITESPACE","\n      ",284],["T_VARIABLE","$new_path",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_STRING","implode",285],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$path_parts",285],")",";",["T_WHITESPACE","\n\n      ",285],["T_VARIABLE","$constraint",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_STRING","NULL",287],";",["T_WHITESPACE","\n      ",287],["T_VARIABLE","$cause",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_STRING","NULL",288],";",["T_WHITESPACE","\n      ",288],["T_VARIABLE","$parameters",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],"[","]",";",["T_WHITESPACE","\n      ",289],["T_VARIABLE","$plural",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_STRING","NULL",290],";",["T_WHITESPACE","\n      ",290],["T_IF","if",291],["T_WHITESPACE"," ",291],"(",["T_VARIABLE","$violation",291],["T_WHITESPACE"," ",291],["T_INSTANCEOF","instanceof",291],["T_WHITESPACE"," ",291],["T_STRING","ConstraintViolation",291],")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n        ",291],["T_VARIABLE","$constraint",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_VARIABLE","$violation",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","getConstraint",292],"(",")",";",["T_WHITESPACE","\n        ",292],["T_VARIABLE","$cause",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_VARIABLE","$violation",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","getCause",293],"(",")",";",["T_WHITESPACE","\n        ",293],["T_VARIABLE","$parameters",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_VARIABLE","$violation",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","getParameters",294],"(",")",";",["T_WHITESPACE","\n        ",294],["T_VARIABLE","$plural",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$violation",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","getPlural",295],"(",")",";",["T_WHITESPACE","\n      ",295],"}",["T_WHITESPACE","\n\n      ",296],["T_VARIABLE","$new_violation",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_NEW","new",298],["T_WHITESPACE"," ",298],["T_STRING","ConstraintViolation",298],"(",["T_WHITESPACE","\n        ",298],["T_VARIABLE","$violation",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","getMessage",299],"(",")",",",["T_WHITESPACE","\n        ",299],["T_VARIABLE","$violation",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","getMessageTemplate",300],"(",")",",",["T_WHITESPACE","\n        ",300],["T_VARIABLE","$parameters",301],",",["T_WHITESPACE","\n        ",301],["T_VARIABLE","$violation",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","getRoot",302],"(",")",",",["T_WHITESPACE","\n        ",302],["T_VARIABLE","$new_path",303],",",["T_WHITESPACE","\n        ",303],["T_VARIABLE","$violation",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","getInvalidValue",304],"(",")",",",["T_WHITESPACE","\n        ",304],["T_VARIABLE","$plural",305],",",["T_WHITESPACE","\n        ",305],["T_VARIABLE","$violation",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","getCode",306],"(",")",",",["T_WHITESPACE","\n        ",306],["T_VARIABLE","$constraint",307],",",["T_WHITESPACE","\n        ",307],["T_VARIABLE","$cause",308],["T_WHITESPACE","\n      ",308],")",";",["T_WHITESPACE","\n      ",309],["T_VARIABLE","$new_violations",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","add",310],"(",["T_VARIABLE","$new_violation",310],")",";",["T_WHITESPACE","\n    ",310],"}",["T_WHITESPACE","\n    ",311],["T_RETURN","return",312],["T_WHITESPACE"," ",312],["T_VARIABLE","$new_violations",312],";",["T_WHITESPACE","\n  ",312],"}",["T_WHITESPACE","\n\n  ",313],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",315],["T_WHITESPACE","\n  ",317],["T_PUBLIC","public",318],["T_WHITESPACE"," ",318],["T_FUNCTION","function",318],["T_WHITESPACE"," ",318],["T_STRING","getPluginCollections",318],"(",")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n    ",318],["T_VARIABLE","$configurations",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_ARRAY","array",319],"(",")",";",["T_WHITESPACE","\n    ",319],["T_FOREACH","foreach",320],["T_WHITESPACE"," ",320],"(",["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","getComponents",320],"(",")",["T_WHITESPACE"," ",320],["T_AS","as",320],["T_WHITESPACE"," ",320],["T_VARIABLE","$field_name",320],["T_WHITESPACE"," ",320],["T_DOUBLE_ARROW","=>",320],["T_WHITESPACE"," ",320],["T_VARIABLE","$configuration",320],")",["T_WHITESPACE"," ",320],"{",["T_WHITESPACE","\n      ",320],["T_IF","if",321],["T_WHITESPACE"," ",321],"(","!",["T_EMPTY","empty",321],"(",["T_VARIABLE","$configuration",321],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",321],"]",")",["T_WHITESPACE"," ",321],["T_BOOLEAN_AND","&&",321],["T_WHITESPACE"," ",321],"(",["T_VARIABLE","$field_definition",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","getFieldDefinition",321],"(",["T_VARIABLE","$field_name",321],")",")",")",["T_WHITESPACE"," ",321],"{",["T_WHITESPACE","\n        ",321],["T_VARIABLE","$configurations",322],"[",["T_VARIABLE","$configuration",322],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",322],"]","]",["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_VARIABLE","$configuration",322],["T_WHITESPACE"," ",322],"+",["T_WHITESPACE"," ",322],["T_ARRAY","array",322],"(",["T_WHITESPACE","\n          ",322],["T_CONSTANT_ENCAPSED_STRING","'field_definition'",323],["T_WHITESPACE"," ",323],["T_DOUBLE_ARROW","=>",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$field_definition",323],",",["T_WHITESPACE","\n          ",323],["T_CONSTANT_ENCAPSED_STRING","'form_mode'",324],["T_WHITESPACE"," ",324],["T_DOUBLE_ARROW","=>",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","mode",324],",",["T_WHITESPACE","\n        ",324],")",";",["T_WHITESPACE","\n      ",325],"}",["T_WHITESPACE","\n    ",326],"}",["T_WHITESPACE","\n\n    ",327],["T_RETURN","return",329],["T_WHITESPACE"," ",329],["T_ARRAY","array",329],"(",["T_WHITESPACE","\n      ",329],["T_CONSTANT_ENCAPSED_STRING","'widgets'",330],["T_WHITESPACE"," ",330],["T_DOUBLE_ARROW","=>",330],["T_WHITESPACE"," ",330],["T_NEW","new",330],["T_WHITESPACE"," ",330],["T_STRING","EntityDisplayPluginCollection",330],"(",["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","pluginManager",330],",",["T_WHITESPACE"," ",330],["T_VARIABLE","$configurations",330],")",["T_WHITESPACE","\n    ",330],")",";",["T_WHITESPACE","\n  ",331],"}",["T_WHITESPACE","\n\n",332],"}",["T_WHITESPACE","\n",334]]