[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Entity",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Plugin",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Validation",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Constraint",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","DependencyInjection",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ContainerInjectionInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","EntityReferenceSelection",6],["T_NS_SEPARATOR","\\",6],["T_STRING","SelectionPluginManagerInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","EntityReferenceSelection",7],["T_NS_SEPARATOR","\\",7],["T_STRING","SelectionWithAutocreateInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","EntityTypeManagerInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Symfony",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Component",9],["T_NS_SEPARATOR","\\",9],["T_STRING","DependencyInjection",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ContainerInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Symfony",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Component",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Validator",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Constraint",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Symfony",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Component",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Validator",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ConstraintValidator",11],";",["T_WHITESPACE","\n\n",11],["T_DOC_COMMENT","\/**\n * Checks if referenced entities are valid.\n *\/",13],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","ValidReferenceConstraintValidator",16],["T_WHITESPACE"," ",16],["T_EXTENDS","extends",16],["T_WHITESPACE"," ",16],["T_STRING","ConstraintValidator",16],["T_WHITESPACE"," ",16],["T_IMPLEMENTS","implements",16],["T_WHITESPACE"," ",16],["T_STRING","ContainerInjectionInterface",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * The selection plugin manager.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityReferenceSelection\\SelectionPluginManagerInterface\n   *\/",18],["T_WHITESPACE","\n  ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$selectionManager",23],";",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * The entity type manager.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityTypeManagerInterface\n   *\/",25],["T_WHITESPACE","\n  ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$entityTypeManager",30],";",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * Constructs a ValidReferenceConstraintValidator object.\n   *\n   * @param \\Drupal\\Core\\Entity\\EntityReferenceSelection\\SelectionPluginManagerInterface $selection_manager\n   *   The selection plugin manager.\n   * @param \\Drupal\\Core\\Entity\\EntityTypeManagerInterface $entity_type_manager\n   *   The entity type manager.\n   *\/",32],["T_WHITESPACE","\n  ",39],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","__construct",40],"(",["T_STRING","SelectionPluginManagerInterface",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$selection_manager",40],",",["T_WHITESPACE"," ",40],["T_STRING","EntityTypeManagerInterface",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$entity_type_manager",40],")",["T_WHITESPACE"," ",40],"{",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","selectionManager",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$selection_manager",41],";",["T_WHITESPACE","\n    ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","entityTypeManager",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$entity_type_manager",42],";",["T_WHITESPACE","\n  ",42],"}",["T_WHITESPACE","\n\n  ",43],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",45],["T_WHITESPACE","\n  ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_STATIC","static",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","create",48],"(",["T_STRING","ContainerInterface",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$container",48],")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n    ",48],["T_RETURN","return",49],["T_WHITESPACE"," ",49],["T_NEW","new",49],["T_WHITESPACE"," ",49],["T_STATIC","static",49],"(",["T_WHITESPACE","\n      ",49],["T_VARIABLE","$container",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","get",50],"(",["T_CONSTANT_ENCAPSED_STRING","'plugin.manager.entity_reference_selection'",50],")",",",["T_WHITESPACE","\n      ",50],["T_VARIABLE","$container",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","get",51],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type.manager'",51],")",["T_WHITESPACE","\n    ",51],")",";",["T_WHITESPACE","\n  ",52],"}",["T_WHITESPACE","\n\n  ",53],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",55],["T_WHITESPACE","\n  ",57],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","validate",58],"(",["T_VARIABLE","$value",58],",",["T_WHITESPACE"," ",58],["T_STRING","Constraint",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$constraint",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n    ",58],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Field\\FieldItemListInterface $value *\/",59],["T_WHITESPACE","\n    ",59],["T_DOC_COMMENT","\/** @var ValidReferenceConstraint $constraint *\/",60],["T_WHITESPACE","\n    ",60],["T_IF","if",61],["T_WHITESPACE"," ",61],"(","!",["T_ISSET","isset",61],"(",["T_VARIABLE","$value",61],")",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n      ",61],["T_RETURN","return",62],";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n\n    ",63],["T_COMMENT","\/\/ Collect new entities and IDs of existing entities across the field items.\n",65],["T_WHITESPACE","    ",66],["T_VARIABLE","$new_entities",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],"[","]",";",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$target_ids",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],"[","]",";",["T_WHITESPACE","\n    ",67],["T_FOREACH","foreach",68],["T_WHITESPACE"," ",68],"(",["T_VARIABLE","$value",68],["T_WHITESPACE"," ",68],["T_AS","as",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$delta",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$item",68],")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n      ",68],["T_VARIABLE","$target_id",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$item",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","target_id",69],";",["T_WHITESPACE","\n      ",69],["T_COMMENT","\/\/ We don't use a regular NotNull constraint for the target_id property as\n",70],["T_WHITESPACE","      ",71],["T_COMMENT","\/\/ NULL is allowed if the entity property contains an unsaved entity.\n",71],["T_WHITESPACE","      ",72],["T_COMMENT","\/\/ @see \\Drupal\\Core\\TypedData\\DataReferenceTargetDefinition::getConstraints()\n",72],["T_WHITESPACE","      ",73],["T_IF","if",73],["T_WHITESPACE"," ",73],"(","!",["T_VARIABLE","$item",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","isEmpty",73],"(",")",["T_WHITESPACE"," ",73],["T_BOOLEAN_AND","&&",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$target_id",73],["T_WHITESPACE"," ",73],["T_IS_IDENTICAL","===",73],["T_WHITESPACE"," ",73],["T_STRING","NULL",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n        ",73],["T_IF","if",74],["T_WHITESPACE"," ",74],"(","!",["T_VARIABLE","$item",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","entity",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","isNew",74],"(",")",")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n          ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","context",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","buildViolation",75],"(",["T_VARIABLE","$constraint",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","nullMessage",75],")",["T_WHITESPACE","\n            ",75],["T_OBJECT_OPERATOR","->",76],["T_STRING","atPath",76],"(",["T_STRING_CAST","(string)",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$delta",76],")",["T_WHITESPACE","\n            ",76],["T_OBJECT_OPERATOR","->",77],["T_STRING","addViolation",77],"(",")",";",["T_WHITESPACE","\n          ",77],["T_RETURN","return",78],";",["T_WHITESPACE","\n        ",78],"}",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$new_entities",80],"[",["T_VARIABLE","$delta",80],"]",["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$item",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","entity",80],";",["T_WHITESPACE","\n      ",80],"}",["T_WHITESPACE","\n\n      ",81],["T_COMMENT","\/\/ '0' or NULL are considered valid empty references.\n",83],["T_WHITESPACE","      ",84],["T_IF","if",84],["T_WHITESPACE"," ",84],"(","!",["T_EMPTY","empty",84],"(",["T_VARIABLE","$target_id",84],")",")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$target_ids",85],"[",["T_VARIABLE","$delta",85],"]",["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$target_id",85],";",["T_WHITESPACE","\n      ",85],"}",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n\n    ",87],["T_COMMENT","\/\/ Early opt-out if nothing to validate.\n",89],["T_WHITESPACE","    ",90],["T_IF","if",90],["T_WHITESPACE"," ",90],"(","!",["T_VARIABLE","$new_entities",90],["T_WHITESPACE"," ",90],["T_BOOLEAN_AND","&&",90],["T_WHITESPACE"," ",90],"!",["T_VARIABLE","$target_ids",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n      ",90],["T_RETURN","return",91],";",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Entity\\EntityReferenceSelection\\SelectionInterface $handler * *\/",94],["T_WHITESPACE","\n    ",94],["T_VARIABLE","$handler",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","selectionManager",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getSelectionHandler",95],"(",["T_VARIABLE","$value",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getFieldDefinition",95],"(",")",")",";",["T_WHITESPACE","\n    ",95],["T_VARIABLE","$target_type_id",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$value",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getFieldDefinition",96],"(",")",["T_OBJECT_OPERATOR","->",96],["T_STRING","getSetting",96],"(",["T_CONSTANT_ENCAPSED_STRING","'target_type'",96],")",";",["T_WHITESPACE","\n\n    ",96],["T_COMMENT","\/\/ Add violations on deltas with a new entity that is not valid.\n",98],["T_WHITESPACE","    ",99],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_VARIABLE","$new_entities",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n      ",99],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$handler",100],["T_WHITESPACE"," ",100],["T_INSTANCEOF","instanceof",100],["T_WHITESPACE"," ",100],["T_STRING","SelectionWithAutocreateInterface",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$valid_new_entities",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$handler",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","validateReferenceableNewEntities",101],"(",["T_VARIABLE","$new_entities",101],")",";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$invalid_new_entities",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","array_diff_key",102],"(",["T_VARIABLE","$new_entities",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$valid_new_entities",102],")",";",["T_WHITESPACE","\n      ",102],"}",["T_WHITESPACE","\n      ",103],["T_ELSE","else",104],["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n        ",104],["T_COMMENT","\/\/ If the selection handler does not support referencing newly created\n",105],["T_WHITESPACE","        ",106],["T_COMMENT","\/\/ entities, all of them should be invalidated.\n",106],["T_WHITESPACE","        ",107],["T_VARIABLE","$invalid_new_entities",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$new_entities",107],";",["T_WHITESPACE","\n      ",107],"}",["T_WHITESPACE","\n\n      ",108],["T_FOREACH","foreach",110],["T_WHITESPACE"," ",110],"(",["T_VARIABLE","$invalid_new_entities",110],["T_WHITESPACE"," ",110],["T_AS","as",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$delta",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$entity",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","context",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","buildViolation",111],"(",["T_VARIABLE","$constraint",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","invalidAutocreateMessage",111],")",["T_WHITESPACE","\n          ",111],["T_OBJECT_OPERATOR","->",112],["T_STRING","setParameter",112],"(",["T_CONSTANT_ENCAPSED_STRING","'%type'",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$target_type_id",112],")",["T_WHITESPACE","\n          ",112],["T_OBJECT_OPERATOR","->",113],["T_STRING","setParameter",113],"(",["T_CONSTANT_ENCAPSED_STRING","'%label'",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$entity",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","label",113],"(",")",")",["T_WHITESPACE","\n          ",113],["T_OBJECT_OPERATOR","->",114],["T_STRING","atPath",114],"(",["T_STRING_CAST","(string)",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$delta",114],["T_WHITESPACE"," ",114],".",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'.entity'",114],")",["T_WHITESPACE","\n          ",114],["T_OBJECT_OPERATOR","->",115],["T_STRING","setInvalidValue",115],"(",["T_VARIABLE","$entity",115],")",["T_WHITESPACE","\n          ",115],["T_OBJECT_OPERATOR","->",116],["T_STRING","addViolation",116],"(",")",";",["T_WHITESPACE","\n      ",116],"}",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n    ",118],["T_COMMENT","\/\/ Add violations on deltas with a target_id that is not valid.\n",120],["T_WHITESPACE","    ",121],["T_IF","if",121],["T_WHITESPACE"," ",121],"(",["T_VARIABLE","$target_ids",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n      ",121],["T_VARIABLE","$valid_target_ids",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$handler",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","validateReferenceableEntities",122],"(",["T_VARIABLE","$target_ids",122],")",";",["T_WHITESPACE","\n      ",122],["T_IF","if",123],["T_WHITESPACE"," ",123],"(",["T_VARIABLE","$invalid_target_ids",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_STRING","array_diff",123],"(",["T_VARIABLE","$target_ids",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$valid_target_ids",123],")",")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n        ",123],["T_COMMENT","\/\/ For accuracy of the error message, differentiate non-referenceable\n",124],["T_WHITESPACE","        ",125],["T_COMMENT","\/\/ and non-existent entities.\n",125],["T_WHITESPACE","        ",126],["T_VARIABLE","$target_type",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","entityTypeManager",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getDefinition",126],"(",["T_VARIABLE","$target_type_id",126],")",";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$existing_ids",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","entityTypeManager",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getStorage",127],"(",["T_VARIABLE","$target_type_id",127],")",["T_OBJECT_OPERATOR","->",127],["T_STRING","getQuery",127],"(",")",["T_WHITESPACE","\n          ",127],["T_OBJECT_OPERATOR","->",128],["T_STRING","condition",128],"(",["T_VARIABLE","$target_type",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getKey",128],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",128],")",",",["T_WHITESPACE"," ",128],["T_VARIABLE","$invalid_target_ids",128],",",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'IN'",128],")",["T_WHITESPACE","\n          ",128],["T_OBJECT_OPERATOR","->",129],["T_STRING","execute",129],"(",")",";",["T_WHITESPACE","\n        ",129],["T_FOREACH","foreach",130],["T_WHITESPACE"," ",130],"(",["T_VARIABLE","$invalid_target_ids",130],["T_WHITESPACE"," ",130],["T_AS","as",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$delta",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$target_id",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n          ",130],["T_VARIABLE","$message",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_STRING","in_array",131],"(",["T_VARIABLE","$target_id",131],",",["T_WHITESPACE"," ",131],["T_VARIABLE","$existing_ids",131],")",["T_WHITESPACE"," ",131],"?",["T_WHITESPACE"," ",131],["T_VARIABLE","$constraint",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","message",131],["T_WHITESPACE"," ",131],":",["T_WHITESPACE"," ",131],["T_VARIABLE","$constraint",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","nonExistingMessage",131],";",["T_WHITESPACE","\n          ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","context",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","buildViolation",132],"(",["T_VARIABLE","$message",132],")",["T_WHITESPACE","\n            ",132],["T_OBJECT_OPERATOR","->",133],["T_STRING","setParameter",133],"(",["T_CONSTANT_ENCAPSED_STRING","'%type'",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$target_type_id",133],")",["T_WHITESPACE","\n            ",133],["T_OBJECT_OPERATOR","->",134],["T_STRING","setParameter",134],"(",["T_CONSTANT_ENCAPSED_STRING","'%id'",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$target_id",134],")",["T_WHITESPACE","\n            ",134],["T_OBJECT_OPERATOR","->",135],["T_STRING","atPath",135],"(",["T_STRING_CAST","(string)",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$delta",135],["T_WHITESPACE"," ",135],".",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'.target_id'",135],")",["T_WHITESPACE","\n            ",135],["T_OBJECT_OPERATOR","->",136],["T_STRING","setInvalidValue",136],"(",["T_VARIABLE","$target_id",136],")",["T_WHITESPACE","\n            ",136],["T_OBJECT_OPERATOR","->",137],["T_STRING","addViolation",137],"(",")",";",["T_WHITESPACE","\n        ",137],"}",["T_WHITESPACE","\n      ",138],"}",["T_WHITESPACE","\n    ",139],"}",["T_WHITESPACE","\n  ",140],"}",["T_WHITESPACE","\n\n",141],"}",["T_WHITESPACE","\n",143]]