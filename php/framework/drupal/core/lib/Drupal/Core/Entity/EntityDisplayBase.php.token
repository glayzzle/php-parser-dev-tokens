[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Entity",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Config",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Entity",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ConfigEntityBase",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Config",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","ConfigEntityInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Field",7],["T_NS_SEPARATOR","\\",7],["T_STRING","FieldDefinitionInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Display",8],["T_NS_SEPARATOR","\\",8],["T_STRING","EntityDisplayInterface",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * Provides a common base class for entity view and form displays.\n *\/",10],["T_WHITESPACE","\n",12],["T_ABSTRACT","abstract",13],["T_WHITESPACE"," ",13],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","EntityDisplayBase",13],["T_WHITESPACE"," ",13],["T_EXTENDS","extends",13],["T_WHITESPACE"," ",13],["T_STRING","ConfigEntityBase",13],["T_WHITESPACE"," ",13],["T_IMPLEMENTS","implements",13],["T_WHITESPACE"," ",13],["T_STRING","EntityDisplayInterface",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * The 'mode' for runtime EntityDisplay objects used to render entities with\n   * arbitrary display options rather than a configured view mode or form mode.\n   *\n   * @todo Prevent creation of a mode with this ID\n   *   https:\/\/www.drupal.org\/node\/2410727\n   *\/",15],["T_WHITESPACE","\n  ",21],["T_CONST","const",22],["T_WHITESPACE"," ",22],["T_STRING","CUSTOM_MODE",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_CONSTANT_ENCAPSED_STRING","'_custom'",22],";",["T_WHITESPACE","\n\n  ",22],["T_DOC_COMMENT","\/**\n   * Unique ID for the config entity.\n   *\n   * @var string\n   *\/",24],["T_WHITESPACE","\n  ",28],["T_PROTECTED","protected",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$id",29],";",["T_WHITESPACE","\n\n  ",29],["T_DOC_COMMENT","\/**\n   * Entity type to be displayed.\n   *\n   * @var string\n   *\/",31],["T_WHITESPACE","\n  ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$targetEntityType",36],";",["T_WHITESPACE","\n\n  ",36],["T_DOC_COMMENT","\/**\n   * Bundle to be displayed.\n   *\n   * @var string\n   *\/",38],["T_WHITESPACE","\n  ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$bundle",43],";",["T_WHITESPACE","\n\n  ",43],["T_DOC_COMMENT","\/**\n   * A list of field definitions eligible for configuration in this display.\n   *\n   * @var \\Drupal\\Core\\Field\\FieldDefinitionInterface[]\n   *\/",45],["T_WHITESPACE","\n  ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$fieldDefinitions",50],";",["T_WHITESPACE","\n\n  ",50],["T_DOC_COMMENT","\/**\n   * View or form mode to be displayed.\n   *\n   * @var string\n   *\/",52],["T_WHITESPACE","\n  ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$mode",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","self",57],["T_DOUBLE_COLON","::",57],["T_STRING","CUSTOM_MODE",57],";",["T_WHITESPACE","\n\n  ",57],["T_DOC_COMMENT","\/**\n   * Whether this display is enabled or not. If the entity (form) display\n   * is disabled, we'll fall back to the 'default' display.\n   *\n   * @var bool\n   *\/",59],["T_WHITESPACE","\n  ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$status",65],";",["T_WHITESPACE","\n\n  ",65],["T_DOC_COMMENT","\/**\n   * List of component display options, keyed by component name.\n   *\n   * @var array\n   *\/",67],["T_WHITESPACE","\n  ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$content",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_ARRAY","array",72],"(",")",";",["T_WHITESPACE","\n\n  ",72],["T_DOC_COMMENT","\/**\n   * List of components that are set to be hidden.\n   *\n   * @var array\n   *\/",74],["T_WHITESPACE","\n  ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$hidden",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_ARRAY","array",79],"(",")",";",["T_WHITESPACE","\n\n  ",79],["T_DOC_COMMENT","\/**\n   * The original view or form mode that was requested (case of view\/form modes\n   * being configured to fall back to the 'default' display).\n   *\n   * @var string\n   *\/",81],["T_WHITESPACE","\n  ",86],["T_PROTECTED","protected",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$originalMode",87],";",["T_WHITESPACE","\n\n  ",87],["T_DOC_COMMENT","\/**\n   * The plugin objects used for this display, keyed by field name.\n   *\n   * @var array\n   *\/",89],["T_WHITESPACE","\n  ",93],["T_PROTECTED","protected",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$plugins",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_ARRAY","array",94],"(",")",";",["T_WHITESPACE","\n\n  ",94],["T_DOC_COMMENT","\/**\n   * Context in which this entity will be used (e.g. 'view', 'form').\n   *\n   * @var string\n   *\/",96],["T_WHITESPACE","\n  ",100],["T_PROTECTED","protected",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$displayContext",101],";",["T_WHITESPACE","\n\n  ",101],["T_DOC_COMMENT","\/**\n   * The plugin manager used by this entity type.\n   *\n   * @var \\Drupal\\Component\\Plugin\\PluginManagerBase\n   *\/",103],["T_WHITESPACE","\n  ",107],["T_PROTECTED","protected",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$pluginManager",108],";",["T_WHITESPACE","\n\n  ",108],["T_DOC_COMMENT","\/**\n   * The renderer.\n   *\n   * @var \\Drupal\\Core\\Render\\RendererInterface\n   *\/",110],["T_WHITESPACE","\n  ",114],["T_PROTECTED","protected",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$renderer",115],";",["T_WHITESPACE","\n\n  ",115],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",117],["T_WHITESPACE","\n  ",119],["T_PUBLIC","public",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","__construct",120],"(",["T_ARRAY","array",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$values",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$entity_type",120],")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n    ",120],["T_IF","if",121],["T_WHITESPACE"," ",121],"(","!",["T_ISSET","isset",121],"(",["T_VARIABLE","$values",121],"[",["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",121],"]",")",["T_WHITESPACE"," ",121],["T_BOOLEAN_OR","||",121],["T_WHITESPACE"," ",121],"!",["T_ISSET","isset",121],"(",["T_VARIABLE","$values",121],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle'",121],"]",")",")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n      ",121],["T_THROW","throw",122],["T_WHITESPACE"," ",122],["T_NEW","new",122],["T_WHITESPACE"," ",122],["T_NS_SEPARATOR","\\",122],["T_STRING","InvalidArgumentException",122],"(",["T_CONSTANT_ENCAPSED_STRING","'Missing required properties for an EntityDisplay entity.'",122],")",";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n\n    ",123],["T_IF","if",125],["T_WHITESPACE"," ",125],"(","!",["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","entityManager",125],"(",")",["T_OBJECT_OPERATOR","->",125],["T_STRING","getDefinition",125],"(",["T_VARIABLE","$values",125],"[",["T_CONSTANT_ENCAPSED_STRING","'targetEntityType'",125],"]",")",["T_OBJECT_OPERATOR","->",125],["T_STRING","isSubclassOf",125],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Core\\Entity\\FieldableEntityInterface'",125],")",")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n      ",125],["T_THROW","throw",126],["T_WHITESPACE"," ",126],["T_NEW","new",126],["T_WHITESPACE"," ",126],["T_NS_SEPARATOR","\\",126],["T_STRING","InvalidArgumentException",126],"(",["T_CONSTANT_ENCAPSED_STRING","'EntityDisplay entities can only handle fieldable entity types.'",126],")",";",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n\n    ",127],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","renderer",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_NS_SEPARATOR","\\",129],["T_STRING","Drupal",129],["T_DOUBLE_COLON","::",129],["T_STRING","service",129],"(",["T_CONSTANT_ENCAPSED_STRING","'renderer'",129],")",";",["T_WHITESPACE","\n\n    ",129],["T_COMMENT","\/\/ A plugin manager and a context type needs to be set by extending classes.\n",131],["T_WHITESPACE","    ",132],["T_IF","if",132],["T_WHITESPACE"," ",132],"(","!",["T_ISSET","isset",132],"(",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","pluginManager",132],")",")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n      ",132],["T_THROW","throw",133],["T_WHITESPACE"," ",133],["T_NEW","new",133],["T_WHITESPACE"," ",133],["T_NS_SEPARATOR","\\",133],["T_STRING","RuntimeException",133],"(",["T_CONSTANT_ENCAPSED_STRING","'Missing plugin manager.'",133],")",";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n    ",134],["T_IF","if",135],["T_WHITESPACE"," ",135],"(","!",["T_ISSET","isset",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","displayContext",135],")",")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n      ",135],["T_THROW","throw",136],["T_WHITESPACE"," ",136],["T_NEW","new",136],["T_WHITESPACE"," ",136],["T_NS_SEPARATOR","\\",136],["T_STRING","RuntimeException",136],"(",["T_CONSTANT_ENCAPSED_STRING","'Missing display context type.'",136],")",";",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n\n    ",137],["T_STRING","parent",139],["T_DOUBLE_COLON","::",139],["T_STRING","__construct",139],"(",["T_VARIABLE","$values",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$entity_type",139],")",";",["T_WHITESPACE","\n\n    ",139],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","originalMode",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","mode",141],";",["T_WHITESPACE","\n\n    ",141],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","init",143],"(",")",";",["T_WHITESPACE","\n  ",143],"}",["T_WHITESPACE","\n\n  ",144],["T_DOC_COMMENT","\/**\n   * Initializes the display.\n   *\n   * This fills in default options for components:\n   * - that are not explicitly known as either \"visible\" or \"hidden\" in the\n   *   display,\n   * - or that are not supposed to be configurable.\n   *\/",146],["T_WHITESPACE","\n  ",153],["T_PROTECTED","protected",154],["T_WHITESPACE"," ",154],["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],["T_STRING","init",154],"(",")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n    ",154],["T_COMMENT","\/\/ Only populate defaults for \"official\" view modes and form modes.\n",155],["T_WHITESPACE","    ",156],["T_IF","if",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","mode",156],["T_WHITESPACE"," ",156],["T_IS_NOT_IDENTICAL","!==",156],["T_WHITESPACE"," ",156],["T_STATIC","static",156],["T_DOUBLE_COLON","::",156],["T_STRING","CUSTOM_MODE",156],")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n      ",156],["T_COMMENT","\/\/ Fill in defaults for extra fields.\n",157],["T_WHITESPACE","      ",158],["T_VARIABLE","$context",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","displayContext",158],["T_WHITESPACE"," ",158],["T_IS_EQUAL","==",158],["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'view'",158],["T_WHITESPACE"," ",158],"?",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'display'",158],["T_WHITESPACE"," ",158],":",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","displayContext",158],";",["T_WHITESPACE","\n      ",158],["T_VARIABLE","$extra_fields",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_NS_SEPARATOR","\\",159],["T_STRING","Drupal",159],["T_DOUBLE_COLON","::",159],["T_STRING","entityManager",159],"(",")",["T_OBJECT_OPERATOR","->",159],["T_STRING","getExtraFields",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","targetEntityType",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","bundle",159],")",";",["T_WHITESPACE","\n      ",159],["T_VARIABLE","$extra_fields",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_ISSET","isset",160],"(",["T_VARIABLE","$extra_fields",160],"[",["T_VARIABLE","$context",160],"]",")",["T_WHITESPACE"," ",160],"?",["T_WHITESPACE"," ",160],["T_VARIABLE","$extra_fields",160],"[",["T_VARIABLE","$context",160],"]",["T_WHITESPACE"," ",160],":",["T_WHITESPACE"," ",160],["T_ARRAY","array",160],"(",")",";",["T_WHITESPACE","\n      ",160],["T_FOREACH","foreach",161],["T_WHITESPACE"," ",161],"(",["T_VARIABLE","$extra_fields",161],["T_WHITESPACE"," ",161],["T_AS","as",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$name",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$definition",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n        ",161],["T_IF","if",162],["T_WHITESPACE"," ",162],"(","!",["T_ISSET","isset",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","content",162],"[",["T_VARIABLE","$name",162],"]",")",["T_WHITESPACE"," ",162],["T_BOOLEAN_AND","&&",162],["T_WHITESPACE"," ",162],"!",["T_ISSET","isset",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","hidden",162],"[",["T_VARIABLE","$name",162],"]",")",")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n          ",162],["T_COMMENT","\/\/ Extra fields are visible by default unless they explicitly say so.\n",163],["T_WHITESPACE","          ",164],["T_IF","if",164],["T_WHITESPACE"," ",164],"(","!",["T_ISSET","isset",164],"(",["T_VARIABLE","$definition",164],"[",["T_CONSTANT_ENCAPSED_STRING","'visible'",164],"]",")",["T_WHITESPACE"," ",164],["T_BOOLEAN_OR","||",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$definition",164],"[",["T_CONSTANT_ENCAPSED_STRING","'visible'",164],"]",["T_WHITESPACE"," ",164],["T_IS_EQUAL","==",164],["T_WHITESPACE"," ",164],["T_STRING","TRUE",164],")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n            ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","content",165],"[",["T_VARIABLE","$name",165],"]",["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_ARRAY","array",165],"(",["T_WHITESPACE","\n              ",165],["T_CONSTANT_ENCAPSED_STRING","'weight'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$definition",166],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",166],"]",["T_WHITESPACE","\n            ",166],")",";",["T_WHITESPACE","\n          ",167],"}",["T_WHITESPACE","\n          ",168],["T_ELSE","else",169],["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n            ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","hidden",170],"[",["T_VARIABLE","$name",170],"]",["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_STRING","TRUE",170],";",["T_WHITESPACE","\n          ",170],"}",["T_WHITESPACE","\n        ",171],"}",["T_WHITESPACE","\n      ",172],"}",["T_WHITESPACE","\n\n      ",173],["T_COMMENT","\/\/ Fill in defaults for fields.\n",175],["T_WHITESPACE","      ",176],["T_VARIABLE","$fields",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getFieldDefinitions",176],"(",")",";",["T_WHITESPACE","\n      ",176],["T_FOREACH","foreach",177],["T_WHITESPACE"," ",177],"(",["T_VARIABLE","$fields",177],["T_WHITESPACE"," ",177],["T_AS","as",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$name",177],["T_WHITESPACE"," ",177],["T_DOUBLE_ARROW","=>",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$definition",177],")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n        ",177],["T_IF","if",178],["T_WHITESPACE"," ",178],"(","!",["T_VARIABLE","$definition",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","isDisplayConfigurable",178],"(",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","displayContext",178],")",["T_WHITESPACE"," ",178],["T_BOOLEAN_OR","||",178],["T_WHITESPACE"," ",178],"(","!",["T_ISSET","isset",178],"(",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","content",178],"[",["T_VARIABLE","$name",178],"]",")",["T_WHITESPACE"," ",178],["T_BOOLEAN_AND","&&",178],["T_WHITESPACE"," ",178],"!",["T_ISSET","isset",178],"(",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","hidden",178],"[",["T_VARIABLE","$name",178],"]",")",")",")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n          ",178],["T_VARIABLE","$options",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$definition",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getDisplayOptions",179],"(",["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","displayContext",179],")",";",["T_WHITESPACE","\n\n          ",179],["T_IF","if",181],["T_WHITESPACE"," ",181],"(","!",["T_EMPTY","empty",181],"(",["T_VARIABLE","$options",181],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",181],"]",")",["T_WHITESPACE"," ",181],["T_BOOLEAN_AND","&&",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$options",181],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",181],"]",["T_WHITESPACE"," ",181],["T_IS_EQUAL","==",181],["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'hidden'",181],")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n            ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","hidden",182],"[",["T_VARIABLE","$name",182],"]",["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_STRING","TRUE",182],";",["T_WHITESPACE","\n          ",182],"}",["T_WHITESPACE","\n          ",183],["T_ELSEIF","elseif",184],["T_WHITESPACE"," ",184],"(",["T_VARIABLE","$options",184],")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n            ",184],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","content",185],"[",["T_VARIABLE","$name",185],"]",["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","pluginManager",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","prepareConfiguration",185],"(",["T_VARIABLE","$definition",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getType",185],"(",")",",",["T_WHITESPACE"," ",185],["T_VARIABLE","$options",185],")",";",["T_WHITESPACE","\n          ",185],"}",["T_WHITESPACE","\n          ",186],["T_COMMENT","\/\/ Note: (base) fields that do not specify display options are not\n",187],["T_WHITESPACE","          ",188],["T_COMMENT","\/\/ tracked in the display at all, in order to avoid cluttering the\n",188],["T_WHITESPACE","          ",189],["T_COMMENT","\/\/ configuration that gets saved back.\n",189],["T_WHITESPACE","        ",190],"}",["T_WHITESPACE","\n      ",190],"}",["T_WHITESPACE","\n    ",191],"}",["T_WHITESPACE","\n  ",192],"}",["T_WHITESPACE","\n\n  ",193],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",195],["T_WHITESPACE","\n  ",197],["T_PUBLIC","public",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","getTargetEntityTypeId",198],"(",")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n    ",198],["T_RETURN","return",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","targetEntityType",199],";",["T_WHITESPACE","\n  ",199],"}",["T_WHITESPACE","\n\n  ",200],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",202],["T_WHITESPACE","\n  ",204],["T_PUBLIC","public",205],["T_WHITESPACE"," ",205],["T_FUNCTION","function",205],["T_WHITESPACE"," ",205],["T_STRING","getMode",205],"(",")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n    ",205],["T_RETURN","return",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","get",206],"(",["T_CONSTANT_ENCAPSED_STRING","'mode'",206],")",";",["T_WHITESPACE","\n  ",206],"}",["T_WHITESPACE","\n\n  ",207],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",209],["T_WHITESPACE","\n  ",211],["T_PUBLIC","public",212],["T_WHITESPACE"," ",212],["T_FUNCTION","function",212],["T_WHITESPACE"," ",212],["T_STRING","getOriginalMode",212],"(",")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n    ",212],["T_RETURN","return",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","get",213],"(",["T_CONSTANT_ENCAPSED_STRING","'originalMode'",213],")",";",["T_WHITESPACE","\n  ",213],"}",["T_WHITESPACE","\n\n  ",214],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",216],["T_WHITESPACE","\n  ",218],["T_PUBLIC","public",219],["T_WHITESPACE"," ",219],["T_FUNCTION","function",219],["T_WHITESPACE"," ",219],["T_STRING","getTargetBundle",219],"(",")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n    ",219],["T_RETURN","return",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","bundle",220],";",["T_WHITESPACE","\n  ",220],"}",["T_WHITESPACE","\n\n  ",221],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",223],["T_WHITESPACE","\n  ",225],["T_PUBLIC","public",226],["T_WHITESPACE"," ",226],["T_FUNCTION","function",226],["T_WHITESPACE"," ",226],["T_STRING","setTargetBundle",226],"(",["T_VARIABLE","$bundle",226],")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n    ",226],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","set",227],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle'",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$bundle",227],")",";",["T_WHITESPACE","\n    ",227],["T_RETURN","return",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$this",228],";",["T_WHITESPACE","\n  ",228],"}",["T_WHITESPACE","\n\n  ",229],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",231],["T_WHITESPACE","\n  ",233],["T_PUBLIC","public",234],["T_WHITESPACE"," ",234],["T_FUNCTION","function",234],["T_WHITESPACE"," ",234],["T_STRING","id",234],"(",")",["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n    ",234],["T_RETURN","return",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","targetEntityType",235],["T_WHITESPACE"," ",235],".",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'.'",235],["T_WHITESPACE"," ",235],".",["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","bundle",235],["T_WHITESPACE"," ",235],".",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'.'",235],["T_WHITESPACE"," ",235],".",["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","mode",235],";",["T_WHITESPACE","\n  ",235],"}",["T_WHITESPACE","\n\n  ",236],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",238],["T_WHITESPACE","\n  ",240],["T_PUBLIC","public",241],["T_WHITESPACE"," ",241],["T_FUNCTION","function",241],["T_WHITESPACE"," ",241],["T_STRING","preSave",241],"(",["T_STRING","EntityStorageInterface",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$storage",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$update",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_STRING","TRUE",241],")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n    ",241],["T_STRING","ksort",242],"(",["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","content",242],")",";",["T_WHITESPACE","\n    ",242],["T_STRING","ksort",243],"(",["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","hidden",243],")",";",["T_WHITESPACE","\n    ",243],["T_STRING","parent",244],["T_DOUBLE_COLON","::",244],["T_STRING","preSave",244],"(",["T_VARIABLE","$storage",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$update",244],")",";",["T_WHITESPACE","\n  ",244],"}",["T_WHITESPACE","\n\n  ",245],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",247],["T_WHITESPACE","\n  ",249],["T_PUBLIC","public",250],["T_WHITESPACE"," ",250],["T_FUNCTION","function",250],["T_WHITESPACE"," ",250],["T_STRING","calculateDependencies",250],"(",")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n    ",250],["T_STRING","parent",251],["T_DOUBLE_COLON","::",251],["T_STRING","calculateDependencies",251],"(",")",";",["T_WHITESPACE","\n    ",251],["T_VARIABLE","$target_entity_type",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","entityManager",252],"(",")",["T_OBJECT_OPERATOR","->",252],["T_STRING","getDefinition",252],"(",["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","targetEntityType",252],")",";",["T_WHITESPACE","\n\n    ",252],["T_COMMENT","\/\/ Create dependency on the bundle.\n",254],["T_WHITESPACE","    ",255],["T_VARIABLE","$bundle_config_dependency",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$target_entity_type",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getBundleConfigDependency",255],"(",["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","bundle",255],")",";",["T_WHITESPACE","\n    ",255],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","addDependency",256],"(",["T_VARIABLE","$bundle_config_dependency",256],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",256],"]",",",["T_WHITESPACE"," ",256],["T_VARIABLE","$bundle_config_dependency",256],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",256],"]",")",";",["T_WHITESPACE","\n\n    ",256],["T_COMMENT","\/\/ If field.module is enabled, add dependencies on 'field_config' entities\n",258],["T_WHITESPACE","    ",259],["T_COMMENT","\/\/ for both displayed and hidden fields. We intentionally leave out base\n",259],["T_WHITESPACE","    ",260],["T_COMMENT","\/\/ field overrides, since the field still exists without them.\n",260],["T_WHITESPACE","    ",261],["T_IF","if",261],["T_WHITESPACE"," ",261],"(",["T_NS_SEPARATOR","\\",261],["T_STRING","Drupal",261],["T_DOUBLE_COLON","::",261],["T_STRING","moduleHandler",261],"(",")",["T_OBJECT_OPERATOR","->",261],["T_STRING","moduleExists",261],"(",["T_CONSTANT_ENCAPSED_STRING","'field'",261],")",")",["T_WHITESPACE"," ",261],"{",["T_WHITESPACE","\n      ",261],["T_VARIABLE","$components",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","content",262],["T_WHITESPACE"," ",262],"+",["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","hidden",262],";",["T_WHITESPACE","\n      ",262],["T_VARIABLE","$field_definitions",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","entityManager",263],"(",")",["T_OBJECT_OPERATOR","->",263],["T_STRING","getFieldDefinitions",263],"(",["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","targetEntityType",263],",",["T_WHITESPACE"," ",263],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","bundle",263],")",";",["T_WHITESPACE","\n      ",263],["T_FOREACH","foreach",264],["T_WHITESPACE"," ",264],"(",["T_STRING","array_intersect_key",264],"(",["T_VARIABLE","$field_definitions",264],",",["T_WHITESPACE"," ",264],["T_VARIABLE","$components",264],")",["T_WHITESPACE"," ",264],["T_AS","as",264],["T_WHITESPACE"," ",264],["T_VARIABLE","$field_name",264],["T_WHITESPACE"," ",264],["T_DOUBLE_ARROW","=>",264],["T_WHITESPACE"," ",264],["T_VARIABLE","$field_definition",264],")",["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n        ",264],["T_IF","if",265],["T_WHITESPACE"," ",265],"(",["T_VARIABLE","$field_definition",265],["T_WHITESPACE"," ",265],["T_INSTANCEOF","instanceof",265],["T_WHITESPACE"," ",265],["T_STRING","ConfigEntityInterface",265],["T_WHITESPACE"," ",265],["T_BOOLEAN_AND","&&",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$field_definition",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","getEntityTypeId",265],"(",")",["T_WHITESPACE"," ",265],["T_IS_EQUAL","==",265],["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","'field_config'",265],")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n          ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","addDependency",266],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",266],",",["T_WHITESPACE"," ",266],["T_VARIABLE","$field_definition",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getConfigDependencyName",266],"(",")",")",";",["T_WHITESPACE","\n        ",266],"}",["T_WHITESPACE","\n      ",267],"}",["T_WHITESPACE","\n    ",268],"}",["T_WHITESPACE","\n\n    ",269],["T_COMMENT","\/\/ Depend on configured modes.\n",271],["T_WHITESPACE","    ",272],["T_IF","if",272],["T_WHITESPACE"," ",272],"(",["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","mode",272],["T_WHITESPACE"," ",272],["T_IS_NOT_EQUAL","!=",272],["T_WHITESPACE"," ",272],["T_CONSTANT_ENCAPSED_STRING","'default'",272],")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n      ",272],["T_VARIABLE","$mode_entity",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","entityManager",273],"(",")",["T_OBJECT_OPERATOR","->",273],["T_STRING","getStorage",273],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_'",273],["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","displayContext",273],["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'_mode'",273],")",["T_OBJECT_OPERATOR","->",273],["T_STRING","load",273],"(",["T_VARIABLE","$target_entity_type",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","id",273],"(",")",["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'.'",273],["T_WHITESPACE"," ",273],".",["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","mode",273],")",";",["T_WHITESPACE","\n      ",273],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","addDependency",274],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",274],",",["T_WHITESPACE"," ",274],["T_VARIABLE","$mode_entity",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","getConfigDependencyName",274],"(",")",")",";",["T_WHITESPACE","\n    ",274],"}",["T_WHITESPACE","\n    ",275],["T_RETURN","return",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],";",["T_WHITESPACE","\n  ",276],"}",["T_WHITESPACE","\n\n  ",277],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",279],["T_WHITESPACE","\n  ",281],["T_PUBLIC","public",282],["T_WHITESPACE"," ",282],["T_FUNCTION","function",282],["T_WHITESPACE"," ",282],["T_STRING","toArray",282],"(",")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n    ",282],["T_VARIABLE","$properties",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_STRING","parent",283],["T_DOUBLE_COLON","::",283],["T_STRING","toArray",283],"(",")",";",["T_WHITESPACE","\n    ",283],["T_COMMENT","\/\/ Do not store options for fields whose display is not set to be\n",284],["T_WHITESPACE","    ",285],["T_COMMENT","\/\/ configurable.\n",285],["T_WHITESPACE","    ",286],["T_FOREACH","foreach",286],["T_WHITESPACE"," ",286],"(",["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","getFieldDefinitions",286],"(",")",["T_WHITESPACE"," ",286],["T_AS","as",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$field_name",286],["T_WHITESPACE"," ",286],["T_DOUBLE_ARROW","=>",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$definition",286],")",["T_WHITESPACE"," ",286],"{",["T_WHITESPACE","\n      ",286],["T_IF","if",287],["T_WHITESPACE"," ",287],"(","!",["T_VARIABLE","$definition",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","isDisplayConfigurable",287],"(",["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","displayContext",287],")",")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n        ",287],["T_UNSET","unset",288],"(",["T_VARIABLE","$properties",288],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",288],"]","[",["T_VARIABLE","$field_name",288],"]",")",";",["T_WHITESPACE","\n        ",288],["T_UNSET","unset",289],"(",["T_VARIABLE","$properties",289],"[",["T_CONSTANT_ENCAPSED_STRING","'hidden'",289],"]","[",["T_VARIABLE","$field_name",289],"]",")",";",["T_WHITESPACE","\n      ",289],"}",["T_WHITESPACE","\n    ",290],"}",["T_WHITESPACE","\n\n    ",291],["T_RETURN","return",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$properties",293],";",["T_WHITESPACE","\n  ",293],"}",["T_WHITESPACE","\n\n  ",294],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",296],["T_WHITESPACE","\n  ",298],["T_PUBLIC","public",299],["T_WHITESPACE"," ",299],["T_FUNCTION","function",299],["T_WHITESPACE"," ",299],["T_STRING","createCopy",299],"(",["T_VARIABLE","$mode",299],")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n    ",299],["T_VARIABLE","$display",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","createDuplicate",300],"(",")",";",["T_WHITESPACE","\n    ",300],["T_VARIABLE","$display",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","mode",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_VARIABLE","$display",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","originalMode",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_VARIABLE","$mode",301],";",["T_WHITESPACE","\n    ",301],["T_RETURN","return",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$display",302],";",["T_WHITESPACE","\n  ",302],"}",["T_WHITESPACE","\n\n  ",303],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",305],["T_WHITESPACE","\n  ",307],["T_PUBLIC","public",308],["T_WHITESPACE"," ",308],["T_FUNCTION","function",308],["T_WHITESPACE"," ",308],["T_STRING","getComponents",308],"(",")",["T_WHITESPACE"," ",308],"{",["T_WHITESPACE","\n    ",308],["T_RETURN","return",309],["T_WHITESPACE"," ",309],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","content",309],";",["T_WHITESPACE","\n  ",309],"}",["T_WHITESPACE","\n\n  ",310],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",312],["T_WHITESPACE","\n  ",314],["T_PUBLIC","public",315],["T_WHITESPACE"," ",315],["T_FUNCTION","function",315],["T_WHITESPACE"," ",315],["T_STRING","getComponent",315],"(",["T_VARIABLE","$name",315],")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n    ",315],["T_RETURN","return",316],["T_WHITESPACE"," ",316],["T_ISSET","isset",316],"(",["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","content",316],"[",["T_VARIABLE","$name",316],"]",")",["T_WHITESPACE"," ",316],"?",["T_WHITESPACE"," ",316],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","content",316],"[",["T_VARIABLE","$name",316],"]",["T_WHITESPACE"," ",316],":",["T_WHITESPACE"," ",316],["T_STRING","NULL",316],";",["T_WHITESPACE","\n  ",316],"}",["T_WHITESPACE","\n\n  ",317],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",319],["T_WHITESPACE","\n  ",321],["T_PUBLIC","public",322],["T_WHITESPACE"," ",322],["T_FUNCTION","function",322],["T_WHITESPACE"," ",322],["T_STRING","setComponent",322],"(",["T_VARIABLE","$name",322],",",["T_WHITESPACE"," ",322],["T_ARRAY","array",322],["T_WHITESPACE"," ",322],["T_VARIABLE","$options",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_ARRAY","array",322],"(",")",")",["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n    ",322],["T_COMMENT","\/\/ If no weight specified, make sure the field sinks at the bottom.\n",323],["T_WHITESPACE","    ",324],["T_IF","if",324],["T_WHITESPACE"," ",324],"(","!",["T_ISSET","isset",324],"(",["T_VARIABLE","$options",324],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",324],"]",")",")",["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n      ",324],["T_VARIABLE","$max",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","getHighestWeight",325],"(",")",";",["T_WHITESPACE","\n      ",325],["T_VARIABLE","$options",326],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",326],"]",["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_ISSET","isset",326],"(",["T_VARIABLE","$max",326],")",["T_WHITESPACE"," ",326],"?",["T_WHITESPACE"," ",326],["T_VARIABLE","$max",326],["T_WHITESPACE"," ",326],"+",["T_WHITESPACE"," ",326],["T_LNUMBER","1",326],["T_WHITESPACE"," ",326],":",["T_WHITESPACE"," ",326],["T_LNUMBER","0",326],";",["T_WHITESPACE","\n    ",326],"}",["T_WHITESPACE","\n\n    ",327],["T_COMMENT","\/\/ For a field, fill in default options.\n",329],["T_WHITESPACE","    ",330],["T_IF","if",330],["T_WHITESPACE"," ",330],"(",["T_VARIABLE","$field_definition",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","getFieldDefinition",330],"(",["T_VARIABLE","$name",330],")",")",["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n      ",330],["T_VARIABLE","$options",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","pluginManager",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","prepareConfiguration",331],"(",["T_VARIABLE","$field_definition",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getType",331],"(",")",",",["T_WHITESPACE"," ",331],["T_VARIABLE","$options",331],")",";",["T_WHITESPACE","\n    ",331],"}",["T_WHITESPACE","\n\n    ",332],["T_COMMENT","\/\/ Ensure we always have an empty settings and array.\n",334],["T_WHITESPACE","    ",335],["T_VARIABLE","$options",335],["T_WHITESPACE"," ",335],["T_PLUS_EQUAL","+=",335],["T_WHITESPACE"," ",335],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",335],["T_WHITESPACE"," ",335],["T_DOUBLE_ARROW","=>",335],["T_WHITESPACE"," ",335],"[","]",",",["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'third_party_settings'",335],["T_WHITESPACE"," ",335],["T_DOUBLE_ARROW","=>",335],["T_WHITESPACE"," ",335],"[","]","]",";",["T_WHITESPACE","\n\n    ",335],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","content",337],"[",["T_VARIABLE","$name",337],"]",["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_VARIABLE","$options",337],";",["T_WHITESPACE","\n    ",337],["T_UNSET","unset",338],"(",["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","hidden",338],"[",["T_VARIABLE","$name",338],"]",")",";",["T_WHITESPACE","\n    ",338],["T_UNSET","unset",339],"(",["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","plugins",339],"[",["T_VARIABLE","$name",339],"]",")",";",["T_WHITESPACE","\n\n    ",339],["T_RETURN","return",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$this",341],";",["T_WHITESPACE","\n  ",341],"}",["T_WHITESPACE","\n\n  ",342],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",344],["T_WHITESPACE","\n  ",346],["T_PUBLIC","public",347],["T_WHITESPACE"," ",347],["T_FUNCTION","function",347],["T_WHITESPACE"," ",347],["T_STRING","removeComponent",347],"(",["T_VARIABLE","$name",347],")",["T_WHITESPACE"," ",347],"{",["T_WHITESPACE","\n    ",347],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","hidden",348],"[",["T_VARIABLE","$name",348],"]",["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_STRING","TRUE",348],";",["T_WHITESPACE","\n    ",348],["T_UNSET","unset",349],"(",["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","content",349],"[",["T_VARIABLE","$name",349],"]",")",";",["T_WHITESPACE","\n    ",349],["T_UNSET","unset",350],"(",["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","plugins",350],"[",["T_VARIABLE","$name",350],"]",")",";",["T_WHITESPACE","\n\n    ",350],["T_RETURN","return",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],";",["T_WHITESPACE","\n  ",352],"}",["T_WHITESPACE","\n\n  ",353],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",355],["T_WHITESPACE","\n  ",357],["T_PUBLIC","public",358],["T_WHITESPACE"," ",358],["T_FUNCTION","function",358],["T_WHITESPACE"," ",358],["T_STRING","getHighestWeight",358],"(",")",["T_WHITESPACE"," ",358],"{",["T_WHITESPACE","\n    ",358],["T_VARIABLE","$weights",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_ARRAY","array",359],"(",")",";",["T_WHITESPACE","\n\n    ",359],["T_COMMENT","\/\/ Collect weights for the components in the display.\n",361],["T_WHITESPACE","    ",362],["T_FOREACH","foreach",362],["T_WHITESPACE"," ",362],"(",["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","content",362],["T_WHITESPACE"," ",362],["T_AS","as",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$options",362],")",["T_WHITESPACE"," ",362],"{",["T_WHITESPACE","\n      ",362],["T_IF","if",363],["T_WHITESPACE"," ",363],"(",["T_ISSET","isset",363],"(",["T_VARIABLE","$options",363],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",363],"]",")",")",["T_WHITESPACE"," ",363],"{",["T_WHITESPACE","\n        ",363],["T_VARIABLE","$weights",364],"[","]",["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_VARIABLE","$options",364],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",364],"]",";",["T_WHITESPACE","\n      ",364],"}",["T_WHITESPACE","\n    ",365],"}",["T_WHITESPACE","\n\n    ",366],["T_COMMENT","\/\/ Let other modules feedback about their own additions.\n",368],["T_WHITESPACE","    ",369],["T_VARIABLE","$weights",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_STRING","array_merge",369],"(",["T_VARIABLE","$weights",369],",",["T_WHITESPACE"," ",369],["T_NS_SEPARATOR","\\",369],["T_STRING","Drupal",369],["T_DOUBLE_COLON","::",369],["T_STRING","moduleHandler",369],"(",")",["T_OBJECT_OPERATOR","->",369],["T_STRING","invokeAll",369],"(",["T_CONSTANT_ENCAPSED_STRING","'field_info_max_weight'",369],",",["T_WHITESPACE"," ",369],["T_ARRAY","array",369],"(",["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","targetEntityType",369],",",["T_WHITESPACE"," ",369],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","bundle",369],",",["T_WHITESPACE"," ",369],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","displayContext",369],",",["T_WHITESPACE"," ",369],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","mode",369],")",")",")",";",["T_WHITESPACE","\n\n    ",369],["T_RETURN","return",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$weights",371],["T_WHITESPACE"," ",371],"?",["T_WHITESPACE"," ",371],["T_STRING","max",371],"(",["T_VARIABLE","$weights",371],")",["T_WHITESPACE"," ",371],":",["T_WHITESPACE"," ",371],["T_STRING","NULL",371],";",["T_WHITESPACE","\n  ",371],"}",["T_WHITESPACE","\n\n  ",372],["T_DOC_COMMENT","\/**\n   * Gets the field definition of a field.\n   *\/",374],["T_WHITESPACE","\n  ",376],["T_PROTECTED","protected",377],["T_WHITESPACE"," ",377],["T_FUNCTION","function",377],["T_WHITESPACE"," ",377],["T_STRING","getFieldDefinition",377],"(",["T_VARIABLE","$field_name",377],")",["T_WHITESPACE"," ",377],"{",["T_WHITESPACE","\n    ",377],["T_VARIABLE","$definitions",378],["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","getFieldDefinitions",378],"(",")",";",["T_WHITESPACE","\n    ",378],["T_RETURN","return",379],["T_WHITESPACE"," ",379],["T_ISSET","isset",379],"(",["T_VARIABLE","$definitions",379],"[",["T_VARIABLE","$field_name",379],"]",")",["T_WHITESPACE"," ",379],"?",["T_WHITESPACE"," ",379],["T_VARIABLE","$definitions",379],"[",["T_VARIABLE","$field_name",379],"]",["T_WHITESPACE"," ",379],":",["T_WHITESPACE"," ",379],["T_STRING","NULL",379],";",["T_WHITESPACE","\n  ",379],"}",["T_WHITESPACE","\n\n  ",380],["T_DOC_COMMENT","\/**\n   * Gets the definitions of the fields that are candidate for display.\n   *\/",382],["T_WHITESPACE","\n  ",384],["T_PROTECTED","protected",385],["T_WHITESPACE"," ",385],["T_FUNCTION","function",385],["T_WHITESPACE"," ",385],["T_STRING","getFieldDefinitions",385],"(",")",["T_WHITESPACE"," ",385],"{",["T_WHITESPACE","\n    ",385],["T_IF","if",386],["T_WHITESPACE"," ",386],"(","!",["T_ISSET","isset",386],"(",["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","fieldDefinitions",386],")",")",["T_WHITESPACE"," ",386],"{",["T_WHITESPACE","\n      ",386],["T_VARIABLE","$definitions",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_NS_SEPARATOR","\\",387],["T_STRING","Drupal",387],["T_DOUBLE_COLON","::",387],["T_STRING","entityManager",387],"(",")",["T_OBJECT_OPERATOR","->",387],["T_STRING","getFieldDefinitions",387],"(",["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","targetEntityType",387],",",["T_WHITESPACE"," ",387],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","bundle",387],")",";",["T_WHITESPACE","\n      ",387],["T_COMMENT","\/\/ For \"official\" view modes and form modes, ignore fields whose\n",388],["T_WHITESPACE","      ",389],["T_COMMENT","\/\/ definition states they should not be displayed.\n",389],["T_WHITESPACE","      ",390],["T_IF","if",390],["T_WHITESPACE"," ",390],"(",["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","mode",390],["T_WHITESPACE"," ",390],["T_IS_NOT_IDENTICAL","!==",390],["T_WHITESPACE"," ",390],["T_STATIC","static",390],["T_DOUBLE_COLON","::",390],["T_STRING","CUSTOM_MODE",390],")",["T_WHITESPACE"," ",390],"{",["T_WHITESPACE","\n        ",390],["T_VARIABLE","$definitions",391],["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_STRING","array_filter",391],"(",["T_VARIABLE","$definitions",391],",",["T_WHITESPACE"," ",391],["T_ARRAY","array",391],"(",["T_VARIABLE","$this",391],",",["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","'fieldHasDisplayOptions'",391],")",")",";",["T_WHITESPACE","\n      ",391],"}",["T_WHITESPACE","\n      ",392],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","fieldDefinitions",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_VARIABLE","$definitions",393],";",["T_WHITESPACE","\n    ",393],"}",["T_WHITESPACE","\n\n    ",394],["T_RETURN","return",396],["T_WHITESPACE"," ",396],["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","fieldDefinitions",396],";",["T_WHITESPACE","\n  ",396],"}",["T_WHITESPACE","\n\n  ",397],["T_DOC_COMMENT","\/**\n   * Determines if a field has options for a given display.\n   *\n   * @param FieldDefinitionInterface $definition\n   *   A field definition.\n   * @return array|null\n   *\/",399],["T_WHITESPACE","\n  ",405],["T_PRIVATE","private",406],["T_WHITESPACE"," ",406],["T_FUNCTION","function",406],["T_WHITESPACE"," ",406],["T_STRING","fieldHasDisplayOptions",406],"(",["T_STRING","FieldDefinitionInterface",406],["T_WHITESPACE"," ",406],["T_VARIABLE","$definition",406],")",["T_WHITESPACE"," ",406],"{",["T_WHITESPACE","\n    ",406],["T_COMMENT","\/\/ The display only cares about fields that specify display options.\n",407],["T_WHITESPACE","    ",408],["T_COMMENT","\/\/ Discard base fields that are not rendered through formatters \/ widgets.\n",408],["T_WHITESPACE","    ",409],["T_RETURN","return",409],["T_WHITESPACE"," ",409],["T_VARIABLE","$definition",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","getDisplayOptions",409],"(",["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","displayContext",409],")",";",["T_WHITESPACE","\n  ",409],"}",["T_WHITESPACE","\n\n  ",410],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",412],["T_WHITESPACE","\n  ",414],["T_PUBLIC","public",415],["T_WHITESPACE"," ",415],["T_FUNCTION","function",415],["T_WHITESPACE"," ",415],["T_STRING","onDependencyRemoval",415],"(",["T_ARRAY","array",415],["T_WHITESPACE"," ",415],["T_VARIABLE","$dependencies",415],")",["T_WHITESPACE"," ",415],"{",["T_WHITESPACE","\n    ",415],["T_VARIABLE","$changed",416],["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],["T_STRING","parent",416],["T_DOUBLE_COLON","::",416],["T_STRING","onDependencyRemoval",416],"(",["T_VARIABLE","$dependencies",416],")",";",["T_WHITESPACE","\n    ",416],["T_FOREACH","foreach",417],["T_WHITESPACE"," ",417],"(",["T_VARIABLE","$dependencies",417],"[",["T_CONSTANT_ENCAPSED_STRING","'config'",417],"]",["T_WHITESPACE"," ",417],["T_AS","as",417],["T_WHITESPACE"," ",417],["T_VARIABLE","$entity",417],")",["T_WHITESPACE"," ",417],"{",["T_WHITESPACE","\n      ",417],["T_IF","if",418],["T_WHITESPACE"," ",418],"(",["T_VARIABLE","$entity",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","getEntityTypeId",418],"(",")",["T_WHITESPACE"," ",418],["T_IS_EQUAL","==",418],["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","'field_config'",418],")",["T_WHITESPACE"," ",418],"{",["T_WHITESPACE","\n        ",418],["T_COMMENT","\/\/ Remove components for fields that are being deleted.\n",419],["T_WHITESPACE","        ",420],["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","removeComponent",420],"(",["T_VARIABLE","$entity",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","getName",420],"(",")",")",";",["T_WHITESPACE","\n        ",420],["T_UNSET","unset",421],"(",["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","hidden",421],"[",["T_VARIABLE","$entity",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","getName",421],"(",")","]",")",";",["T_WHITESPACE","\n        ",421],["T_VARIABLE","$changed",422],["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],["T_STRING","TRUE",422],";",["T_WHITESPACE","\n      ",422],"}",["T_WHITESPACE","\n    ",423],"}",["T_WHITESPACE","\n    ",424],["T_FOREACH","foreach",425],["T_WHITESPACE"," ",425],"(",["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","getComponents",425],"(",")",["T_WHITESPACE"," ",425],["T_AS","as",425],["T_WHITESPACE"," ",425],["T_VARIABLE","$name",425],["T_WHITESPACE"," ",425],["T_DOUBLE_ARROW","=>",425],["T_WHITESPACE"," ",425],["T_VARIABLE","$component",425],")",["T_WHITESPACE"," ",425],"{",["T_WHITESPACE","\n      ",425],["T_IF","if",426],["T_WHITESPACE"," ",426],"(",["T_VARIABLE","$renderer",426],["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","getRenderer",426],"(",["T_VARIABLE","$name",426],")",")",["T_WHITESPACE"," ",426],"{",["T_WHITESPACE","\n        ",426],["T_IF","if",427],["T_WHITESPACE"," ",427],"(",["T_STRING","in_array",427],"(",["T_VARIABLE","$renderer",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","getPluginDefinition",427],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","'provider'",427],"]",",",["T_WHITESPACE"," ",427],["T_VARIABLE","$dependencies",427],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",427],"]",")",")",["T_WHITESPACE"," ",427],"{",["T_WHITESPACE","\n          ",427],["T_COMMENT","\/\/ Revert to the defaults if the plugin that supplies the widget or\n",428],["T_WHITESPACE","          ",429],["T_COMMENT","\/\/ formatter depends on a module that is being uninstalled.\n",429],["T_WHITESPACE","          ",430],["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","setComponent",430],"(",["T_VARIABLE","$name",430],")",";",["T_WHITESPACE","\n          ",430],["T_VARIABLE","$changed",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_STRING","TRUE",431],";",["T_WHITESPACE","\n        ",431],"}",["T_WHITESPACE","\n\n        ",432],["T_COMMENT","\/\/ Give this component the opportunity to react on dependency removal.\n",434],["T_WHITESPACE","        ",435],["T_VARIABLE","$component_removed_dependencies",435],["T_WHITESPACE"," ",435],"=",["T_WHITESPACE"," ",435],["T_VARIABLE","$this",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","getPluginRemovedDependencies",435],"(",["T_VARIABLE","$renderer",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","calculateDependencies",435],"(",")",",",["T_WHITESPACE"," ",435],["T_VARIABLE","$dependencies",435],")",";",["T_WHITESPACE","\n        ",435],["T_IF","if",436],["T_WHITESPACE"," ",436],"(",["T_VARIABLE","$component_removed_dependencies",436],")",["T_WHITESPACE"," ",436],"{",["T_WHITESPACE","\n          ",436],["T_IF","if",437],["T_WHITESPACE"," ",437],"(",["T_VARIABLE","$renderer",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","onDependencyRemoval",437],"(",["T_VARIABLE","$component_removed_dependencies",437],")",")",["T_WHITESPACE"," ",437],"{",["T_WHITESPACE","\n            ",437],["T_COMMENT","\/\/ Update component settings to reflect changes.\n",438],["T_WHITESPACE","            ",439],["T_VARIABLE","$component",439],"[",["T_CONSTANT_ENCAPSED_STRING","'settings'",439],"]",["T_WHITESPACE"," ",439],"=",["T_WHITESPACE"," ",439],["T_VARIABLE","$renderer",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","getSettings",439],"(",")",";",["T_WHITESPACE","\n            ",439],["T_VARIABLE","$component",440],"[",["T_CONSTANT_ENCAPSED_STRING","'third_party_settings'",440],"]",["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],"[","]",";",["T_WHITESPACE","\n            ",440],["T_FOREACH","foreach",441],["T_WHITESPACE"," ",441],"(",["T_VARIABLE","$renderer",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","getThirdPartyProviders",441],"(",")",["T_WHITESPACE"," ",441],["T_AS","as",441],["T_WHITESPACE"," ",441],["T_VARIABLE","$module",441],")",["T_WHITESPACE"," ",441],"{",["T_WHITESPACE","\n              ",441],["T_VARIABLE","$component",442],"[",["T_CONSTANT_ENCAPSED_STRING","'third_party_settings'",442],"]","[",["T_VARIABLE","$module",442],"]",["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_VARIABLE","$renderer",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","getThirdPartySettings",442],"(",["T_VARIABLE","$module",442],")",";",["T_WHITESPACE","\n            ",442],"}",["T_WHITESPACE","\n            ",443],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","setComponent",444],"(",["T_VARIABLE","$name",444],",",["T_WHITESPACE"," ",444],["T_VARIABLE","$component",444],")",";",["T_WHITESPACE","\n            ",444],["T_VARIABLE","$changed",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_STRING","TRUE",445],";",["T_WHITESPACE","\n          ",445],"}",["T_WHITESPACE","\n          ",446],["T_COMMENT","\/\/ If there are unresolved deleted dependencies left, disable this\n",447],["T_WHITESPACE","          ",448],["T_COMMENT","\/\/ component to avoid the removal of the entire display entity.\n",448],["T_WHITESPACE","          ",449],["T_IF","if",449],["T_WHITESPACE"," ",449],"(",["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","getPluginRemovedDependencies",449],"(",["T_VARIABLE","$renderer",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","calculateDependencies",449],"(",")",",",["T_WHITESPACE"," ",449],["T_VARIABLE","$dependencies",449],")",")",["T_WHITESPACE"," ",449],"{",["T_WHITESPACE","\n            ",449],["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","removeComponent",450],"(",["T_VARIABLE","$name",450],")",";",["T_WHITESPACE","\n            ",450],["T_VARIABLE","$arguments",451],["T_WHITESPACE"," ",451],"=",["T_WHITESPACE"," ",451],"[",["T_WHITESPACE","\n              ",451],["T_CONSTANT_ENCAPSED_STRING","'@display'",452],["T_WHITESPACE"," ",452],["T_DOUBLE_ARROW","=>",452],["T_WHITESPACE"," ",452],["T_STRING_CAST","(string)",452],["T_WHITESPACE"," ",452],["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","getEntityType",452],"(",")",["T_OBJECT_OPERATOR","->",452],["T_STRING","getLabel",452],"(",")",",",["T_WHITESPACE","\n              ",452],["T_CONSTANT_ENCAPSED_STRING","'@id'",453],["T_WHITESPACE"," ",453],["T_DOUBLE_ARROW","=>",453],["T_WHITESPACE"," ",453],["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","id",453],"(",")",",",["T_WHITESPACE","\n              ",453],["T_CONSTANT_ENCAPSED_STRING","'@name'",454],["T_WHITESPACE"," ",454],["T_DOUBLE_ARROW","=>",454],["T_WHITESPACE"," ",454],["T_VARIABLE","$name",454],",",["T_WHITESPACE","\n            ",454],"]",";",["T_WHITESPACE","\n            ",455],["T_VARIABLE","$this",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","getLogger",456],"(",")",["T_OBJECT_OPERATOR","->",456],["T_STRING","warning",456],"(",["T_CONSTANT_ENCAPSED_STRING","\"@display '@id': Component '@name' was disabled because its settings depend on removed dependencies.\"",456],",",["T_WHITESPACE"," ",456],["T_VARIABLE","$arguments",456],")",";",["T_WHITESPACE","\n            ",456],["T_VARIABLE","$changed",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_STRING","TRUE",457],";",["T_WHITESPACE","\n          ",457],"}",["T_WHITESPACE","\n        ",458],"}",["T_WHITESPACE","\n      ",459],"}",["T_WHITESPACE","\n    ",460],"}",["T_WHITESPACE","\n    ",461],["T_RETURN","return",462],["T_WHITESPACE"," ",462],["T_VARIABLE","$changed",462],";",["T_WHITESPACE","\n  ",462],"}",["T_WHITESPACE","\n\n  ",463],["T_DOC_COMMENT","\/**\n   * Returns the plugin dependencies being removed.\n   *\n   * The function recursively computes the intersection between all plugin\n   * dependencies and all removed dependencies.\n   *\n   * Note: The two arguments do not have the same structure.\n   *\n   * @param array[] $plugin_dependencies\n   *   A list of dependencies having the same structure as the return value of\n   *   ConfigEntityInterface::calculateDependencies().\n   * @param array[] $removed_dependencies\n   *   A list of dependencies having the same structure as the input argument of\n   *   ConfigEntityInterface::onDependencyRemoval().\n   *\n   * @return array\n   *   A recursively computed intersection.\n   *\n   * @see \\Drupal\\Core\\Config\\Entity\\ConfigEntityInterface::calculateDependencies()\n   * @see \\Drupal\\Core\\Config\\Entity\\ConfigEntityInterface::onDependencyRemoval()\n   *\/",465],["T_WHITESPACE","\n  ",485],["T_PROTECTED","protected",486],["T_WHITESPACE"," ",486],["T_FUNCTION","function",486],["T_WHITESPACE"," ",486],["T_STRING","getPluginRemovedDependencies",486],"(",["T_ARRAY","array",486],["T_WHITESPACE"," ",486],["T_VARIABLE","$plugin_dependencies",486],",",["T_WHITESPACE"," ",486],["T_ARRAY","array",486],["T_WHITESPACE"," ",486],["T_VARIABLE","$removed_dependencies",486],")",["T_WHITESPACE"," ",486],"{",["T_WHITESPACE","\n    ",486],["T_VARIABLE","$intersect",487],["T_WHITESPACE"," ",487],"=",["T_WHITESPACE"," ",487],"[","]",";",["T_WHITESPACE","\n    ",487],["T_FOREACH","foreach",488],["T_WHITESPACE"," ",488],"(",["T_VARIABLE","$plugin_dependencies",488],["T_WHITESPACE"," ",488],["T_AS","as",488],["T_WHITESPACE"," ",488],["T_VARIABLE","$type",488],["T_WHITESPACE"," ",488],["T_DOUBLE_ARROW","=>",488],["T_WHITESPACE"," ",488],["T_VARIABLE","$dependencies",488],")",["T_WHITESPACE"," ",488],"{",["T_WHITESPACE","\n      ",488],["T_IF","if",489],["T_WHITESPACE"," ",489],"(",["T_VARIABLE","$removed_dependencies",489],"[",["T_VARIABLE","$type",489],"]",")",["T_WHITESPACE"," ",489],"{",["T_WHITESPACE","\n        ",489],["T_COMMENT","\/\/ Config and content entities have the dependency names as keys while\n",490],["T_WHITESPACE","        ",491],["T_COMMENT","\/\/ module and theme dependencies are indexed arrays of dependency names.\n",491],["T_WHITESPACE","        ",492],["T_COMMENT","\/\/ @see \\Drupal\\Core\\Config\\ConfigManager::callOnDependencyRemoval()\n",492],["T_WHITESPACE","        ",493],["T_IF","if",493],["T_WHITESPACE"," ",493],"(",["T_STRING","in_array",493],"(",["T_VARIABLE","$type",493],",",["T_WHITESPACE"," ",493],"[",["T_CONSTANT_ENCAPSED_STRING","'config'",493],",",["T_WHITESPACE"," ",493],["T_CONSTANT_ENCAPSED_STRING","'content'",493],"]",")",")",["T_WHITESPACE"," ",493],"{",["T_WHITESPACE","\n          ",493],["T_VARIABLE","$removed",494],["T_WHITESPACE"," ",494],"=",["T_WHITESPACE"," ",494],["T_STRING","array_intersect_key",494],"(",["T_VARIABLE","$removed_dependencies",494],"[",["T_VARIABLE","$type",494],"]",",",["T_WHITESPACE"," ",494],["T_STRING","array_flip",494],"(",["T_VARIABLE","$dependencies",494],")",")",";",["T_WHITESPACE","\n        ",494],"}",["T_WHITESPACE","\n        ",495],["T_ELSE","else",496],["T_WHITESPACE"," ",496],"{",["T_WHITESPACE","\n          ",496],["T_VARIABLE","$removed",497],["T_WHITESPACE"," ",497],"=",["T_WHITESPACE"," ",497],["T_STRING","array_values",497],"(",["T_STRING","array_intersect",497],"(",["T_VARIABLE","$removed_dependencies",497],"[",["T_VARIABLE","$type",497],"]",",",["T_WHITESPACE"," ",497],["T_VARIABLE","$dependencies",497],")",")",";",["T_WHITESPACE","\n        ",497],"}",["T_WHITESPACE","\n        ",498],["T_IF","if",499],["T_WHITESPACE"," ",499],"(",["T_VARIABLE","$removed",499],")",["T_WHITESPACE"," ",499],"{",["T_WHITESPACE","\n          ",499],["T_VARIABLE","$intersect",500],"[",["T_VARIABLE","$type",500],"]",["T_WHITESPACE"," ",500],"=",["T_WHITESPACE"," ",500],["T_VARIABLE","$removed",500],";",["T_WHITESPACE","\n        ",500],"}",["T_WHITESPACE","\n      ",501],"}",["T_WHITESPACE","\n    ",502],"}",["T_WHITESPACE","\n    ",503],["T_RETURN","return",504],["T_WHITESPACE"," ",504],["T_VARIABLE","$intersect",504],";",["T_WHITESPACE","\n  ",504],"}",["T_WHITESPACE","\n\n  ",505],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",507],["T_WHITESPACE","\n  ",509],["T_PUBLIC","public",510],["T_WHITESPACE"," ",510],["T_FUNCTION","function",510],["T_WHITESPACE"," ",510],["T_STRING","__sleep",510],"(",")",["T_WHITESPACE"," ",510],"{",["T_WHITESPACE","\n    ",510],["T_COMMENT","\/\/ Only store the definition, not external objects or derived data.\n",511],["T_WHITESPACE","    ",512],["T_VARIABLE","$keys",512],["T_WHITESPACE"," ",512],"=",["T_WHITESPACE"," ",512],["T_STRING","array_keys",512],"(",["T_VARIABLE","$this",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","toArray",512],"(",")",")",";",["T_WHITESPACE","\n    ",512],["T_COMMENT","\/\/ In addition, we need to keep the entity type and the \"is new\" status.\n",513],["T_WHITESPACE","    ",514],["T_VARIABLE","$keys",514],"[","]",["T_WHITESPACE"," ",514],"=",["T_WHITESPACE"," ",514],["T_CONSTANT_ENCAPSED_STRING","'entityTypeId'",514],";",["T_WHITESPACE","\n    ",514],["T_VARIABLE","$keys",515],"[","]",["T_WHITESPACE"," ",515],"=",["T_WHITESPACE"," ",515],["T_CONSTANT_ENCAPSED_STRING","'enforceIsNew'",515],";",["T_WHITESPACE","\n    ",515],["T_COMMENT","\/\/ Keep track of the serialized keys, to avoid calling toArray() again in\n",516],["T_WHITESPACE","    ",517],["T_COMMENT","\/\/ __wakeup(). Because of the way __sleep() works, the data has to be\n",517],["T_WHITESPACE","    ",518],["T_COMMENT","\/\/ present in the object to be included in the serialized values.\n",518],["T_WHITESPACE","    ",519],["T_VARIABLE","$keys",519],"[","]",["T_WHITESPACE"," ",519],"=",["T_WHITESPACE"," ",519],["T_CONSTANT_ENCAPSED_STRING","'_serializedKeys'",519],";",["T_WHITESPACE","\n    ",519],["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","_serializedKeys",520],["T_WHITESPACE"," ",520],"=",["T_WHITESPACE"," ",520],["T_VARIABLE","$keys",520],";",["T_WHITESPACE","\n    ",520],["T_RETURN","return",521],["T_WHITESPACE"," ",521],["T_VARIABLE","$keys",521],";",["T_WHITESPACE","\n  ",521],"}",["T_WHITESPACE","\n\n  ",522],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",524],["T_WHITESPACE","\n  ",526],["T_PUBLIC","public",527],["T_WHITESPACE"," ",527],["T_FUNCTION","function",527],["T_WHITESPACE"," ",527],["T_STRING","__wakeup",527],"(",")",["T_WHITESPACE"," ",527],"{",["T_WHITESPACE","\n    ",527],["T_COMMENT","\/\/ Determine what were the properties from toArray() that were saved in\n",528],["T_WHITESPACE","    ",529],["T_COMMENT","\/\/ __sleep().\n",529],["T_WHITESPACE","    ",530],["T_VARIABLE","$keys",530],["T_WHITESPACE"," ",530],"=",["T_WHITESPACE"," ",530],["T_VARIABLE","$this",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","_serializedKeys",530],";",["T_WHITESPACE","\n    ",530],["T_UNSET","unset",531],"(",["T_VARIABLE","$this",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","_serializedKeys",531],")",";",["T_WHITESPACE","\n    ",531],["T_VARIABLE","$values",532],["T_WHITESPACE"," ",532],"=",["T_WHITESPACE"," ",532],["T_STRING","array_intersect_key",532],"(",["T_STRING","get_object_vars",532],"(",["T_VARIABLE","$this",532],")",",",["T_WHITESPACE"," ",532],["T_STRING","array_flip",532],"(",["T_VARIABLE","$keys",532],")",")",";",["T_WHITESPACE","\n    ",532],["T_COMMENT","\/\/ Run those values through the __construct(), as if they came from a\n",533],["T_WHITESPACE","    ",534],["T_COMMENT","\/\/ regular entity load.\n",534],["T_WHITESPACE","    ",535],["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","__construct",535],"(",["T_VARIABLE","$values",535],",",["T_WHITESPACE"," ",535],["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","entityTypeId",535],")",";",["T_WHITESPACE","\n  ",535],"}",["T_WHITESPACE","\n\n  ",536],["T_DOC_COMMENT","\/**\n   * Provides the 'system' channel logger service.\n   *\n   * @return \\Psr\\Log\\LoggerInterface\n   *   The 'system' channel logger.\n   *\/",538],["T_WHITESPACE","\n  ",543],["T_PROTECTED","protected",544],["T_WHITESPACE"," ",544],["T_FUNCTION","function",544],["T_WHITESPACE"," ",544],["T_STRING","getLogger",544],"(",")",["T_WHITESPACE"," ",544],"{",["T_WHITESPACE","\n    ",544],["T_RETURN","return",545],["T_WHITESPACE"," ",545],["T_NS_SEPARATOR","\\",545],["T_STRING","Drupal",545],["T_DOUBLE_COLON","::",545],["T_STRING","logger",545],"(",["T_CONSTANT_ENCAPSED_STRING","'system'",545],")",";",["T_WHITESPACE","\n  ",545],"}",["T_WHITESPACE","\n\n",546],"}",["T_WHITESPACE","\n",548]]