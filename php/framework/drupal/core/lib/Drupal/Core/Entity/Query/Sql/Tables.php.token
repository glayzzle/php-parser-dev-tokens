[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Entity",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Query",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Sql",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Database",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Query",5],["T_NS_SEPARATOR","\\",5],["T_STRING","SelectInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Entity",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Query",6],["T_NS_SEPARATOR","\\",6],["T_STRING","QueryException",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Entity",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Sql",7],["T_NS_SEPARATOR","\\",7],["T_STRING","SqlEntityStorageInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Entity",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Sql",8],["T_NS_SEPARATOR","\\",8],["T_STRING","TableMappingInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Entity",9],["T_NS_SEPARATOR","\\",9],["T_STRING","TypedData",9],["T_NS_SEPARATOR","\\",9],["T_STRING","EntityDataDefinitionInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","TypedData",10],["T_NS_SEPARATOR","\\",10],["T_STRING","DataReferenceDefinitionInterface",10],";",["T_WHITESPACE","\n\n",10],["T_DOC_COMMENT","\/**\n * Adds tables and fields to the SQL entity query.\n *\/",12],["T_WHITESPACE","\n",14],["T_CLASS","class",15],["T_WHITESPACE"," ",15],["T_STRING","Tables",15],["T_WHITESPACE"," ",15],["T_IMPLEMENTS","implements",15],["T_WHITESPACE"," ",15],["T_STRING","TablesInterface",15],["T_WHITESPACE"," ",15],"{",["T_WHITESPACE","\n\n  ",15],["T_DOC_COMMENT","\/**\n   * @var \\Drupal\\Core\\Database\\Query\\SelectInterface\n   *\/",17],["T_WHITESPACE","\n  ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$sqlQuery",20],";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * Entity table array, key is table name, value is alias.\n   *\n   * This array contains at most two entries: one for the data, one for the\n   * properties.\n   *\n   * @var array\n   *\/",22],["T_WHITESPACE","\n  ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$entityTables",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_ARRAY","array",30],"(",")",";",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * Field table array, key is table name, value is alias.\n   *\n   * This array contains one entry per field table.\n   *\n   * @var array\n   *\/",32],["T_WHITESPACE","\n  ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$fieldTables",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_ARRAY","array",39],"(",")",";",["T_WHITESPACE","\n\n  ",39],["T_DOC_COMMENT","\/**\n   * The entity manager.\n   *\n   * @var \\Drupal\\Core\\Entity\\EntityManager\n   *\/",41],["T_WHITESPACE","\n  ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$entityManager",46],";",["T_WHITESPACE","\n\n  ",46],["T_DOC_COMMENT","\/**\n   * List of case sensitive fields.\n   *\n   * @var array\n   *\/",48],["T_WHITESPACE","\n  ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$caseSensitiveFields",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_ARRAY","array",53],"(",")",";",["T_WHITESPACE","\n\n  ",53],["T_DOC_COMMENT","\/**\n   * @param \\Drupal\\Core\\Database\\Query\\SelectInterface $sql_query\n   *\/",55],["T_WHITESPACE","\n  ",57],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","__construct",58],"(",["T_STRING","SelectInterface",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$sql_query",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n    ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","sqlQuery",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$sql_query",59],";",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","entityManager",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_NS_SEPARATOR","\\",60],["T_STRING","Drupal",60],["T_DOUBLE_COLON","::",60],["T_STRING","entityManager",60],"(",")",";",["T_WHITESPACE","\n  ",60],"}",["T_WHITESPACE","\n\n  ",61],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",63],["T_WHITESPACE","\n  ",65],["T_PUBLIC","public",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","addField",66],"(",["T_VARIABLE","$field",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$type",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$langcode",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n    ",66],["T_VARIABLE","$entity_type_id",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","sqlQuery",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getMetaData",67],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type'",67],")",";",["T_WHITESPACE","\n    ",67],["T_VARIABLE","$all_revisions",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","sqlQuery",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getMetaData",68],"(",["T_CONSTANT_ENCAPSED_STRING","'all_revisions'",68],")",";",["T_WHITESPACE","\n    ",68],["T_COMMENT","\/\/ This variable ensures grouping works correctly. For example:\n",69],["T_WHITESPACE","    ",70],["T_COMMENT","\/\/ ->condition('tags', 2, '>')\n",70],["T_WHITESPACE","    ",71],["T_COMMENT","\/\/ ->condition('tags', 20, '<')\n",71],["T_WHITESPACE","    ",72],["T_COMMENT","\/\/ ->condition('node_reference.nid.entity.tags', 2)\n",72],["T_WHITESPACE","    ",73],["T_COMMENT","\/\/ The first two should use the same table but the last one needs to be a\n",73],["T_WHITESPACE","    ",74],["T_COMMENT","\/\/ new table. So for the first two, the table array index will be 'tags'\n",74],["T_WHITESPACE","    ",75],["T_COMMENT","\/\/ while the third will be 'node_reference.nid.tags'.\n",75],["T_WHITESPACE","    ",76],["T_VARIABLE","$index_prefix",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","''",76],";",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$specifiers",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_STRING","explode",77],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$field",77],")",";",["T_WHITESPACE","\n    ",77],["T_VARIABLE","$base_table",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'base_table'",78],";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$count",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_STRING","count",79],"(",["T_VARIABLE","$specifiers",79],")",["T_WHITESPACE"," ",79],"-",["T_WHITESPACE"," ",79],["T_LNUMBER","1",79],";",["T_WHITESPACE","\n    ",79],["T_COMMENT","\/\/ This will contain the definitions of the last specifier seen by the\n",80],["T_WHITESPACE","    ",81],["T_COMMENT","\/\/ system.\n",81],["T_WHITESPACE","    ",82],["T_VARIABLE","$propertyDefinitions",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_ARRAY","array",82],"(",")",";",["T_WHITESPACE","\n    ",82],["T_VARIABLE","$entity_type",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","entityManager",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getDefinition",83],"(",["T_VARIABLE","$entity_type_id",83],")",";",["T_WHITESPACE","\n\n    ",83],["T_VARIABLE","$field_storage_definitions",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","entityManager",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getFieldStorageDefinitions",85],"(",["T_VARIABLE","$entity_type_id",85],")",";",["T_WHITESPACE","\n    ",85],["T_FOR","for",86],["T_WHITESPACE"," ",86],"(",["T_VARIABLE","$key",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_LNUMBER","0",86],";",["T_WHITESPACE"," ",86],["T_VARIABLE","$key",86],["T_WHITESPACE"," ",86],["T_IS_SMALLER_OR_EQUAL","<=",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$count",86],";",["T_WHITESPACE"," ",86],["T_VARIABLE","$key",86],["T_INC","++",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n      ",86],["T_COMMENT","\/\/ This can either be the name of an entity base field or a configurable\n",87],["T_WHITESPACE","      ",88],["T_COMMENT","\/\/ field.\n",88],["T_WHITESPACE","      ",89],["T_VARIABLE","$specifier",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$specifiers",89],"[",["T_VARIABLE","$key",89],"]",";",["T_WHITESPACE","\n      ",89],["T_IF","if",90],["T_WHITESPACE"," ",90],"(",["T_ISSET","isset",90],"(",["T_VARIABLE","$field_storage_definitions",90],"[",["T_VARIABLE","$specifier",90],"]",")",")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$field_storage",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$field_storage_definitions",91],"[",["T_VARIABLE","$specifier",91],"]",";",["T_WHITESPACE","\n      ",91],"}",["T_WHITESPACE","\n      ",92],["T_ELSE","else",93],["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$field_storage",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_STRING","FALSE",94],";",["T_WHITESPACE","\n      ",94],"}",["T_WHITESPACE","\n\n      ",95],["T_COMMENT","\/\/ If there is revision support, only the current revisions are being\n",97],["T_WHITESPACE","      ",98],["T_COMMENT","\/\/ queried, and the field is revisionable then use the revision id.\n",98],["T_WHITESPACE","      ",99],["T_COMMENT","\/\/ Otherwise, the entity id will do.\n",99],["T_WHITESPACE","      ",100],["T_IF","if",100],["T_WHITESPACE"," ",100],"(","(",["T_VARIABLE","$revision_key",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$entity_type",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getKey",100],"(",["T_CONSTANT_ENCAPSED_STRING","'revision'",100],")",")",["T_WHITESPACE"," ",100],["T_BOOLEAN_AND","&&",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$all_revisions",100],["T_WHITESPACE"," ",100],["T_BOOLEAN_AND","&&",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$field_storage",100],["T_WHITESPACE"," ",100],["T_BOOLEAN_AND","&&",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$field_storage",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","isRevisionable",100],"(",")",")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n        ",100],["T_COMMENT","\/\/ This contains the relevant SQL field to be used when joining entity\n",101],["T_WHITESPACE","        ",102],["T_COMMENT","\/\/ tables.\n",102],["T_WHITESPACE","        ",103],["T_VARIABLE","$entity_id_field",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$revision_key",103],";",["T_WHITESPACE","\n        ",103],["T_COMMENT","\/\/ This contains the relevant SQL field to be used when joining field\n",104],["T_WHITESPACE","        ",105],["T_COMMENT","\/\/ tables.\n",105],["T_WHITESPACE","        ",106],["T_VARIABLE","$field_id_field",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'revision_id'",106],";",["T_WHITESPACE","\n      ",106],"}",["T_WHITESPACE","\n      ",107],["T_ELSE","else",108],["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$entity_id_field",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$entity_type",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getKey",109],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",109],")",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$field_id_field",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",110],";",["T_WHITESPACE","\n      ",110],"}",["T_WHITESPACE","\n\n      ",111],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Entity\\Sql\\DefaultTableMapping $table_mapping *\/",113],["T_WHITESPACE","\n      ",113],["T_VARIABLE","$table_mapping",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","entityManager",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getStorage",114],"(",["T_VARIABLE","$entity_type_id",114],")",["T_OBJECT_OPERATOR","->",114],["T_STRING","getTableMapping",114],"(",")",";",["T_WHITESPACE","\n\n      ",114],["T_COMMENT","\/\/ Check whether this field is stored in a dedicated table.\n",116],["T_WHITESPACE","      ",117],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$field_storage",117],["T_WHITESPACE"," ",117],["T_BOOLEAN_AND","&&",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$table_mapping",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","requiresDedicatedTableStorage",117],"(",["T_VARIABLE","$field_storage",117],")",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$delta",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","NULL",118],";",["T_WHITESPACE","\n        ",118],["T_COMMENT","\/\/ Find the field column.\n",119],["T_WHITESPACE","        ",120],["T_VARIABLE","$column",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$field_storage",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getMainPropertyName",120],"(",")",";",["T_WHITESPACE","\n\n        ",120],["T_IF","if",122],["T_WHITESPACE"," ",122],"(",["T_VARIABLE","$key",122],["T_WHITESPACE"," ",122],"<",["T_WHITESPACE"," ",122],["T_VARIABLE","$count",122],")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n          ",122],["T_VARIABLE","$next",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$specifiers",123],"[",["T_VARIABLE","$key",123],["T_WHITESPACE"," ",123],"+",["T_WHITESPACE"," ",123],["T_LNUMBER","1",123],"]",";",["T_WHITESPACE","\n          ",123],["T_COMMENT","\/\/ If this is a numeric specifier we're adding a condition on the\n",124],["T_WHITESPACE","          ",125],["T_COMMENT","\/\/ specific delta.\n",125],["T_WHITESPACE","          ",126],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_STRING","is_numeric",126],"(",["T_VARIABLE","$next",126],")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$delta",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$next",127],";",["T_WHITESPACE","\n            ",127],["T_VARIABLE","$index_prefix",128],["T_WHITESPACE"," ",128],["T_CONCAT_EQUAL",".=",128],["T_WHITESPACE"," ",128],"\"",["T_ENCAPSED_AND_WHITESPACE",".",128],["T_VARIABLE","$delta",128],"\"",";",["T_WHITESPACE","\n            ",128],["T_COMMENT","\/\/ Do not process it again.\n",129],["T_WHITESPACE","            ",130],["T_VARIABLE","$key",130],["T_INC","++",130],";",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$next",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$specifiers",131],"[",["T_VARIABLE","$key",131],["T_WHITESPACE"," ",131],"+",["T_WHITESPACE"," ",131],["T_LNUMBER","1",131],"]",";",["T_WHITESPACE","\n          ",131],"}",["T_WHITESPACE","\n          ",132],["T_COMMENT","\/\/ If this specifier is the reserved keyword \"%delta\" we're adding a\n",133],["T_WHITESPACE","          ",134],["T_COMMENT","\/\/ condition on a delta range.\n",134],["T_WHITESPACE","          ",135],["T_ELSEIF","elseif",135],["T_WHITESPACE"," ",135],"(",["T_VARIABLE","$next",135],["T_WHITESPACE"," ",135],["T_IS_EQUAL","==",135],["T_WHITESPACE"," ",135],["T_STRING","TableMappingInterface",135],["T_DOUBLE_COLON","::",135],["T_STRING","DELTA",135],")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$index_prefix",136],["T_WHITESPACE"," ",136],["T_CONCAT_EQUAL",".=",136],["T_WHITESPACE"," ",136],["T_STRING","TableMappingInterface",136],["T_DOUBLE_COLON","::",136],["T_STRING","DELTA",136],";",["T_WHITESPACE","\n            ",136],["T_COMMENT","\/\/ Do not process it again.\n",137],["T_WHITESPACE","            ",138],["T_VARIABLE","$key",138],["T_INC","++",138],";",["T_WHITESPACE","\n            ",138],["T_COMMENT","\/\/ If there are more specifiers to work with then continue\n",139],["T_WHITESPACE","            ",140],["T_COMMENT","\/\/ processing. If this is the last specifier then use the reserved\n",140],["T_WHITESPACE","            ",141],["T_COMMENT","\/\/ keyword as a column name.\n",141],["T_WHITESPACE","            ",142],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$key",142],["T_WHITESPACE"," ",142],"<",["T_WHITESPACE"," ",142],["T_VARIABLE","$count",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n              ",142],["T_VARIABLE","$next",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$specifiers",143],"[",["T_VARIABLE","$key",143],["T_WHITESPACE"," ",143],"+",["T_WHITESPACE"," ",143],["T_LNUMBER","1",143],"]",";",["T_WHITESPACE","\n            ",143],"}",["T_WHITESPACE","\n            ",144],["T_ELSE","else",145],["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n              ",145],["T_VARIABLE","$column",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_STRING","TableMappingInterface",146],["T_DOUBLE_COLON","::",146],["T_STRING","DELTA",146],";",["T_WHITESPACE","\n            ",146],"}",["T_WHITESPACE","\n          ",147],"}",["T_WHITESPACE","\n          ",148],["T_COMMENT","\/\/ Is this a field column?\n",149],["T_WHITESPACE","          ",150],["T_VARIABLE","$columns",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$field_storage",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getColumns",150],"(",")",";",["T_WHITESPACE","\n          ",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_ISSET","isset",151],"(",["T_VARIABLE","$columns",151],"[",["T_VARIABLE","$next",151],"]",")",["T_WHITESPACE"," ",151],["T_BOOLEAN_OR","||",151],["T_WHITESPACE"," ",151],["T_STRING","in_array",151],"(",["T_VARIABLE","$next",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$table_mapping",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getReservedColumns",151],"(",")",")",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n            ",151],["T_COMMENT","\/\/ Use it.\n",152],["T_WHITESPACE","            ",153],["T_VARIABLE","$column",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$next",153],";",["T_WHITESPACE","\n            ",153],["T_COMMENT","\/\/ Do not process it again.\n",154],["T_WHITESPACE","            ",155],["T_VARIABLE","$key",155],["T_INC","++",155],";",["T_WHITESPACE","\n          ",155],"}",["T_WHITESPACE","\n          ",156],["T_COMMENT","\/\/ If there are more specifiers, the next one must be a\n",157],["T_WHITESPACE","          ",158],["T_COMMENT","\/\/ relationship. Either the field name followed by a relationship\n",158],["T_WHITESPACE","          ",159],["T_COMMENT","\/\/ specifier, for example $node->field_image->entity. Or a field\n",159],["T_WHITESPACE","          ",160],["T_COMMENT","\/\/ column followed by a relationship specifier, for example\n",160],["T_WHITESPACE","          ",161],["T_COMMENT","\/\/ $node->field_image->fid->entity. In both cases, prepare the\n",161],["T_WHITESPACE","          ",162],["T_COMMENT","\/\/ property definitions for the relationship. In the first case,\n",162],["T_WHITESPACE","          ",163],["T_COMMENT","\/\/ also use the property definitions for column.\n",163],["T_WHITESPACE","          ",164],["T_IF","if",164],["T_WHITESPACE"," ",164],"(",["T_VARIABLE","$key",164],["T_WHITESPACE"," ",164],"<",["T_WHITESPACE"," ",164],["T_VARIABLE","$count",164],")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n            ",164],["T_VARIABLE","$relationship_specifier",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$specifiers",165],"[",["T_VARIABLE","$key",165],["T_WHITESPACE"," ",165],"+",["T_WHITESPACE"," ",165],["T_LNUMBER","1",165],"]",";",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$propertyDefinitions",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$field_storage",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getPropertyDefinitions",166],"(",")",";",["T_WHITESPACE","\n\n            ",166],["T_COMMENT","\/\/ Prepare the next index prefix.\n",168],["T_WHITESPACE","            ",169],["T_VARIABLE","$next_index_prefix",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],"\"",["T_VARIABLE","$relationship_specifier",169],["T_ENCAPSED_AND_WHITESPACE",".",169],["T_VARIABLE","$column",169],"\"",";",["T_WHITESPACE","\n          ",169],"}",["T_WHITESPACE","\n        ",170],"}",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$table",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","ensureFieldTable",172],"(",["T_VARIABLE","$index_prefix",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$field_storage",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$type",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$langcode",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$base_table",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$entity_id_field",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$field_id_field",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$delta",172],")",";",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$sql_column",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$table_mapping",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getFieldColumnName",173],"(",["T_VARIABLE","$field_storage",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$column",173],")",";",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$property_definitions",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$field_storage",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getPropertyDefinitions",174],"(",")",";",["T_WHITESPACE","\n        ",174],["T_IF","if",175],["T_WHITESPACE"," ",175],"(",["T_ISSET","isset",175],"(",["T_VARIABLE","$property_definitions",175],"[",["T_VARIABLE","$column",175],"]",")",")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n          ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","caseSensitiveFields",176],"[",["T_VARIABLE","$field",176],"]",["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$property_definitions",176],"[",["T_VARIABLE","$column",176],"]",["T_OBJECT_OPERATOR","->",176],["T_STRING","getSetting",176],"(",["T_CONSTANT_ENCAPSED_STRING","'case_sensitive'",176],")",";",["T_WHITESPACE","\n        ",176],"}",["T_WHITESPACE","\n      ",177],"}",["T_WHITESPACE","\n      ",178],["T_COMMENT","\/\/ The field is stored in a shared table.\n",179],["T_WHITESPACE","      ",180],["T_ELSE","else",180],["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n        ",180],["T_COMMENT","\/\/ ensureEntityTable() decides whether an entity property will be\n",181],["T_WHITESPACE","        ",182],["T_COMMENT","\/\/ queried from the data table or the base table based on where it\n",182],["T_WHITESPACE","        ",183],["T_COMMENT","\/\/ finds the property first. The data table is preferred, which is why\n",183],["T_WHITESPACE","        ",184],["T_COMMENT","\/\/ it gets added before the base table.\n",184],["T_WHITESPACE","        ",185],["T_VARIABLE","$entity_tables",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_ARRAY","array",185],"(",")",";",["T_WHITESPACE","\n        ",185],["T_IF","if",186],["T_WHITESPACE"," ",186],"(",["T_VARIABLE","$all_revisions",186],["T_WHITESPACE"," ",186],["T_BOOLEAN_AND","&&",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$field_storage",186],["T_WHITESPACE"," ",186],["T_BOOLEAN_AND","&&",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$field_storage",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","isRevisionable",186],"(",")",")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n          ",186],["T_VARIABLE","$data_table",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$entity_type",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getRevisionDataTable",187],"(",")",";",["T_WHITESPACE","\n          ",187],["T_VARIABLE","$entity_base_table",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$entity_type",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","getRevisionTable",188],"(",")",";",["T_WHITESPACE","\n        ",188],"}",["T_WHITESPACE","\n        ",189],["T_ELSE","else",190],["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n          ",190],["T_VARIABLE","$data_table",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$entity_type",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getDataTable",191],"(",")",";",["T_WHITESPACE","\n          ",191],["T_VARIABLE","$entity_base_table",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$entity_type",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getBaseTable",192],"(",")",";",["T_WHITESPACE","\n        ",192],"}",["T_WHITESPACE","\n        ",193],["T_IF","if",194],["T_WHITESPACE"," ",194],"(",["T_VARIABLE","$data_table",194],")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n          ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","sqlQuery",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","addMetaData",195],"(",["T_CONSTANT_ENCAPSED_STRING","'simple_query'",195],",",["T_WHITESPACE"," ",195],["T_STRING","FALSE",195],")",";",["T_WHITESPACE","\n          ",195],["T_VARIABLE","$entity_tables",196],"[",["T_VARIABLE","$data_table",196],"]",["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getTableMapping",196],"(",["T_VARIABLE","$data_table",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$entity_type_id",196],")",";",["T_WHITESPACE","\n        ",196],"}",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$entity_tables",198],"[",["T_VARIABLE","$entity_base_table",198],"]",["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","getTableMapping",198],"(",["T_VARIABLE","$entity_base_table",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$entity_type_id",198],")",";",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$sql_column",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$specifier",199],";",["T_WHITESPACE","\n\n        ",199],["T_COMMENT","\/\/ If there are more specifiers, get the right sql column name if the\n",201],["T_WHITESPACE","        ",202],["T_COMMENT","\/\/ next one is a column of this field.\n",202],["T_WHITESPACE","        ",203],["T_IF","if",203],["T_WHITESPACE"," ",203],"(",["T_VARIABLE","$key",203],["T_WHITESPACE"," ",203],"<",["T_WHITESPACE"," ",203],["T_VARIABLE","$count",203],")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n          ",203],["T_VARIABLE","$next",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$specifiers",204],"[",["T_VARIABLE","$key",204],["T_WHITESPACE"," ",204],"+",["T_WHITESPACE"," ",204],["T_LNUMBER","1",204],"]",";",["T_WHITESPACE","\n          ",204],["T_COMMENT","\/\/ If this specifier is the reserved keyword \"%delta\" we're adding a\n",205],["T_WHITESPACE","          ",206],["T_COMMENT","\/\/ condition on a delta range.\n",206],["T_WHITESPACE","          ",207],["T_IF","if",207],["T_WHITESPACE"," ",207],"(",["T_VARIABLE","$next",207],["T_WHITESPACE"," ",207],["T_IS_EQUAL","==",207],["T_WHITESPACE"," ",207],["T_STRING","TableMappingInterface",207],["T_DOUBLE_COLON","::",207],["T_STRING","DELTA",207],")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n            ",207],["T_VARIABLE","$key",208],["T_INC","++",208],";",["T_WHITESPACE","\n            ",208],["T_IF","if",209],["T_WHITESPACE"," ",209],"(",["T_VARIABLE","$key",209],["T_WHITESPACE"," ",209],"<",["T_WHITESPACE"," ",209],["T_VARIABLE","$count",209],")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n              ",209],["T_VARIABLE","$next",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$specifiers",210],"[",["T_VARIABLE","$key",210],["T_WHITESPACE"," ",210],"+",["T_WHITESPACE"," ",210],["T_LNUMBER","1",210],"]",";",["T_WHITESPACE","\n            ",210],"}",["T_WHITESPACE","\n            ",211],["T_ELSE","else",212],["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n              ",212],["T_RETURN","return",213],["T_WHITESPACE"," ",213],["T_LNUMBER","0",213],";",["T_WHITESPACE","\n            ",213],"}",["T_WHITESPACE","\n          ",214],"}",["T_WHITESPACE","\n          ",215],["T_COMMENT","\/\/ If this is a numeric specifier we're adding a condition on the\n",216],["T_WHITESPACE","          ",217],["T_COMMENT","\/\/ specific delta. Since we know that this is a single value base\n",217],["T_WHITESPACE","          ",218],["T_COMMENT","\/\/ field no other value than 0 makes sense.\n",218],["T_WHITESPACE","          ",219],["T_IF","if",219],["T_WHITESPACE"," ",219],"(",["T_STRING","is_numeric",219],"(",["T_VARIABLE","$next",219],")",")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n            ",219],["T_IF","if",220],["T_WHITESPACE"," ",220],"(",["T_VARIABLE","$next",220],["T_WHITESPACE"," ",220],">",["T_WHITESPACE"," ",220],["T_LNUMBER","0",220],")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n              ",220],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","sqlQuery",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","condition",221],"(",["T_CONSTANT_ENCAPSED_STRING","'1 <> 1'",221],")",";",["T_WHITESPACE","\n            ",221],"}",["T_WHITESPACE","\n            ",222],["T_VARIABLE","$key",223],["T_INC","++",223],";",["T_WHITESPACE","\n            ",223],["T_VARIABLE","$next",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$specifiers",224],"[",["T_VARIABLE","$key",224],["T_WHITESPACE"," ",224],"+",["T_WHITESPACE"," ",224],["T_LNUMBER","1",224],"]",";",["T_WHITESPACE","\n          ",224],"}",["T_WHITESPACE","\n          ",225],["T_COMMENT","\/\/ Is this a field column?\n",226],["T_WHITESPACE","          ",227],["T_VARIABLE","$columns",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$field_storage",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getColumns",227],"(",")",";",["T_WHITESPACE","\n          ",227],["T_IF","if",228],["T_WHITESPACE"," ",228],"(",["T_ISSET","isset",228],"(",["T_VARIABLE","$columns",228],"[",["T_VARIABLE","$next",228],"]",")",["T_WHITESPACE"," ",228],["T_BOOLEAN_OR","||",228],["T_WHITESPACE"," ",228],["T_STRING","in_array",228],"(",["T_VARIABLE","$next",228],",",["T_WHITESPACE"," ",228],["T_VARIABLE","$table_mapping",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","getReservedColumns",228],"(",")",")",")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n            ",228],["T_COMMENT","\/\/ Use it.\n",229],["T_WHITESPACE","            ",230],["T_VARIABLE","$sql_column",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_VARIABLE","$table_mapping",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","getFieldColumnName",230],"(",["T_VARIABLE","$field_storage",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$next",230],")",";",["T_WHITESPACE","\n            ",230],["T_COMMENT","\/\/ Do not process it again.\n",231],["T_WHITESPACE","            ",232],["T_VARIABLE","$key",232],["T_INC","++",232],";",["T_WHITESPACE","\n          ",232],"}",["T_WHITESPACE","\n        ",233],"}",["T_WHITESPACE","\n\n        ",234],["T_VARIABLE","$table",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","ensureEntityTable",236],"(",["T_VARIABLE","$index_prefix",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$sql_column",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$type",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$langcode",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$base_table",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$entity_id_field",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$entity_tables",236],")",";",["T_WHITESPACE","\n\n        ",236],["T_COMMENT","\/\/ If there is a field storage (some specifiers are not), check for case\n",238],["T_WHITESPACE","        ",239],["T_COMMENT","\/\/ sensitivity.\n",239],["T_WHITESPACE","        ",240],["T_IF","if",240],["T_WHITESPACE"," ",240],"(",["T_VARIABLE","$field_storage",240],")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n          ",240],["T_VARIABLE","$column",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_VARIABLE","$field_storage",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getMainPropertyName",241],"(",")",";",["T_WHITESPACE","\n          ",241],["T_VARIABLE","$base_field_property_definitions",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$field_storage",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getPropertyDefinitions",242],"(",")",";",["T_WHITESPACE","\n          ",242],["T_IF","if",243],["T_WHITESPACE"," ",243],"(",["T_ISSET","isset",243],"(",["T_VARIABLE","$base_field_property_definitions",243],"[",["T_VARIABLE","$column",243],"]",")",")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n            ",243],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","caseSensitiveFields",244],"[",["T_VARIABLE","$field",244],"]",["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_VARIABLE","$base_field_property_definitions",244],"[",["T_VARIABLE","$column",244],"]",["T_OBJECT_OPERATOR","->",244],["T_STRING","getSetting",244],"(",["T_CONSTANT_ENCAPSED_STRING","'case_sensitive'",244],")",";",["T_WHITESPACE","\n          ",244],"}",["T_WHITESPACE","\n        ",245],"}",["T_WHITESPACE","\n\n      ",246],"}",["T_WHITESPACE","\n      ",248],["T_COMMENT","\/\/ If there are more specifiers to come, it's a relationship.\n",249],["T_WHITESPACE","      ",250],["T_IF","if",250],["T_WHITESPACE"," ",250],"(",["T_VARIABLE","$field_storage",250],["T_WHITESPACE"," ",250],["T_BOOLEAN_AND","&&",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$key",250],["T_WHITESPACE"," ",250],"<",["T_WHITESPACE"," ",250],["T_VARIABLE","$count",250],")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n        ",250],["T_COMMENT","\/\/ Computed fields have prepared their property definition already, do\n",251],["T_WHITESPACE","        ",252],["T_COMMENT","\/\/ it for properties as well.\n",252],["T_WHITESPACE","        ",253],["T_IF","if",253],["T_WHITESPACE"," ",253],"(","!",["T_VARIABLE","$propertyDefinitions",253],")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n          ",253],["T_VARIABLE","$propertyDefinitions",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$field_storage",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","getPropertyDefinitions",254],"(",")",";",["T_WHITESPACE","\n          ",254],["T_VARIABLE","$relationship_specifier",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$specifiers",255],"[",["T_VARIABLE","$key",255],["T_WHITESPACE"," ",255],"+",["T_WHITESPACE"," ",255],["T_LNUMBER","1",255],"]",";",["T_WHITESPACE","\n          ",255],["T_VARIABLE","$next_index_prefix",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$relationship_specifier",256],";",["T_WHITESPACE","\n        ",256],"}",["T_WHITESPACE","\n        ",257],["T_VARIABLE","$entity_type_id",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_STRING","NULL",258],";",["T_WHITESPACE","\n        ",258],["T_COMMENT","\/\/ Relationship specifier can also contain the entity type ID, i.e.\n",259],["T_WHITESPACE","        ",260],["T_COMMENT","\/\/ entity:node, entity:user or entity:taxonomy.\n",260],["T_WHITESPACE","        ",261],["T_IF","if",261],["T_WHITESPACE"," ",261],"(",["T_STRING","strpos",261],"(",["T_VARIABLE","$relationship_specifier",261],",",["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","':'",261],")",["T_WHITESPACE"," ",261],["T_IS_NOT_IDENTICAL","!==",261],["T_WHITESPACE"," ",261],["T_STRING","FALSE",261],")",["T_WHITESPACE"," ",261],"{",["T_WHITESPACE","\n          ",261],["T_LIST","list",262],"(",["T_VARIABLE","$relationship_specifier",262],",",["T_WHITESPACE"," ",262],["T_VARIABLE","$entity_type_id",262],")",["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_STRING","explode",262],"(",["T_CONSTANT_ENCAPSED_STRING","':'",262],",",["T_WHITESPACE"," ",262],["T_VARIABLE","$relationship_specifier",262],",",["T_WHITESPACE"," ",262],["T_LNUMBER","2",262],")",";",["T_WHITESPACE","\n        ",262],"}",["T_WHITESPACE","\n        ",263],["T_COMMENT","\/\/ Check for a valid relationship.\n",264],["T_WHITESPACE","        ",265],["T_IF","if",265],["T_WHITESPACE"," ",265],"(",["T_ISSET","isset",265],"(",["T_VARIABLE","$propertyDefinitions",265],"[",["T_VARIABLE","$relationship_specifier",265],"]",")",["T_WHITESPACE"," ",265],["T_BOOLEAN_AND","&&",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$propertyDefinitions",265],"[",["T_VARIABLE","$relationship_specifier",265],"]",["T_WHITESPACE"," ",265],["T_INSTANCEOF","instanceof",265],["T_WHITESPACE"," ",265],["T_STRING","DataReferenceDefinitionInterface",265],")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n          ",265],["T_COMMENT","\/\/ If it is, use the entity type if specified already, otherwise use\n",266],["T_WHITESPACE","          ",267],["T_COMMENT","\/\/ the definition.\n",267],["T_WHITESPACE","          ",268],["T_VARIABLE","$target_definition",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_VARIABLE","$propertyDefinitions",268],"[",["T_VARIABLE","$relationship_specifier",268],"]",["T_OBJECT_OPERATOR","->",268],["T_STRING","getTargetDefinition",268],"(",")",";",["T_WHITESPACE","\n          ",268],["T_IF","if",269],["T_WHITESPACE"," ",269],"(","!",["T_VARIABLE","$entity_type_id",269],["T_WHITESPACE"," ",269],["T_BOOLEAN_AND","&&",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$target_definition",269],["T_WHITESPACE"," ",269],["T_INSTANCEOF","instanceof",269],["T_WHITESPACE"," ",269],["T_STRING","EntityDataDefinitionInterface",269],")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n            ",269],["T_VARIABLE","$entity_type_id",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_VARIABLE","$target_definition",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","getEntityTypeId",270],"(",")",";",["T_WHITESPACE","\n          ",270],"}",["T_WHITESPACE","\n          ",271],["T_VARIABLE","$entity_type",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","entityManager",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","getDefinition",272],"(",["T_VARIABLE","$entity_type_id",272],")",";",["T_WHITESPACE","\n          ",272],["T_VARIABLE","$field_storage_definitions",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","entityManager",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getFieldStorageDefinitions",273],"(",["T_VARIABLE","$entity_type_id",273],")",";",["T_WHITESPACE","\n          ",273],["T_COMMENT","\/\/ Add the new entity base table using the table and sql column.\n",274],["T_WHITESPACE","          ",275],["T_VARIABLE","$join_condition",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'%alias.'",275],["T_WHITESPACE"," ",275],".",["T_WHITESPACE"," ",275],["T_VARIABLE","$entity_type",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","getKey",275],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",275],")",["T_WHITESPACE"," ",275],".",["T_WHITESPACE"," ",275],"\"",["T_ENCAPSED_AND_WHITESPACE"," = ",275],["T_VARIABLE","$table",275],["T_ENCAPSED_AND_WHITESPACE",".",275],["T_VARIABLE","$sql_column",275],"\"",";",["T_WHITESPACE","\n          ",275],["T_VARIABLE","$base_table",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","sqlQuery",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","leftJoin",276],"(",["T_VARIABLE","$entity_type",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","getBaseTable",276],"(",")",",",["T_WHITESPACE"," ",276],["T_STRING","NULL",276],",",["T_WHITESPACE"," ",276],["T_VARIABLE","$join_condition",276],")",";",["T_WHITESPACE","\n          ",276],["T_VARIABLE","$propertyDefinitions",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_ARRAY","array",277],"(",")",";",["T_WHITESPACE","\n          ",277],["T_VARIABLE","$key",278],["T_INC","++",278],";",["T_WHITESPACE","\n          ",278],["T_VARIABLE","$index_prefix",279],["T_WHITESPACE"," ",279],["T_CONCAT_EQUAL",".=",279],["T_WHITESPACE"," ",279],"\"",["T_VARIABLE","$next_index_prefix",279],["T_ENCAPSED_AND_WHITESPACE",".",279],"\"",";",["T_WHITESPACE","\n        ",279],"}",["T_WHITESPACE","\n        ",280],["T_ELSE","else",281],["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n          ",281],["T_THROW","throw",282],["T_WHITESPACE"," ",282],["T_NEW","new",282],["T_WHITESPACE"," ",282],["T_STRING","QueryException",282],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Invalid specifier '",282],["T_VARIABLE","$relationship_specifier",282],["T_ENCAPSED_AND_WHITESPACE","'",282],"\"",")",";",["T_WHITESPACE","\n        ",282],"}",["T_WHITESPACE","\n      ",283],"}",["T_WHITESPACE","\n    ",284],"}",["T_WHITESPACE","\n    ",285],["T_RETURN","return",286],["T_WHITESPACE"," ",286],"\"",["T_VARIABLE","$table",286],["T_ENCAPSED_AND_WHITESPACE",".",286],["T_VARIABLE","$sql_column",286],"\"",";",["T_WHITESPACE","\n  ",286],"}",["T_WHITESPACE","\n\n  ",287],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",289],["T_WHITESPACE","\n  ",291],["T_PUBLIC","public",292],["T_WHITESPACE"," ",292],["T_FUNCTION","function",292],["T_WHITESPACE"," ",292],["T_STRING","isFieldCaseSensitive",292],"(",["T_VARIABLE","$field_name",292],")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n    ",292],["T_IF","if",293],["T_WHITESPACE"," ",293],"(",["T_ISSET","isset",293],"(",["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","caseSensitiveFields",293],"[",["T_VARIABLE","$field_name",293],"]",")",")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n      ",293],["T_RETURN","return",294],["T_WHITESPACE"," ",294],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","caseSensitiveFields",294],"[",["T_VARIABLE","$field_name",294],"]",";",["T_WHITESPACE","\n    ",294],"}",["T_WHITESPACE","\n  ",295],"}",["T_WHITESPACE","\n\n  ",296],["T_DOC_COMMENT","\/**\n   * Join entity table if necessary and return the alias for it.\n   *\n   * @param string $property\n   *\n   * @return string\n   *\n   * @throws \\Drupal\\Core\\Entity\\Query\\QueryException\n   *\/",298],["T_WHITESPACE","\n  ",306],["T_PROTECTED","protected",307],["T_WHITESPACE"," ",307],["T_FUNCTION","function",307],["T_WHITESPACE"," ",307],["T_STRING","ensureEntityTable",307],"(",["T_VARIABLE","$index_prefix",307],",",["T_WHITESPACE"," ",307],["T_VARIABLE","$property",307],",",["T_WHITESPACE"," ",307],["T_VARIABLE","$type",307],",",["T_WHITESPACE"," ",307],["T_VARIABLE","$langcode",307],",",["T_WHITESPACE"," ",307],["T_VARIABLE","$base_table",307],",",["T_WHITESPACE"," ",307],["T_VARIABLE","$id_field",307],",",["T_WHITESPACE"," ",307],["T_VARIABLE","$entity_tables",307],")",["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n    ",307],["T_FOREACH","foreach",308],["T_WHITESPACE"," ",308],"(",["T_VARIABLE","$entity_tables",308],["T_WHITESPACE"," ",308],["T_AS","as",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$table",308],["T_WHITESPACE"," ",308],["T_DOUBLE_ARROW","=>",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$mapping",308],")",["T_WHITESPACE"," ",308],"{",["T_WHITESPACE","\n      ",308],["T_IF","if",309],["T_WHITESPACE"," ",309],"(",["T_ISSET","isset",309],"(",["T_VARIABLE","$mapping",309],"[",["T_VARIABLE","$property",309],"]",")",")",["T_WHITESPACE"," ",309],"{",["T_WHITESPACE","\n        ",309],["T_IF","if",310],["T_WHITESPACE"," ",310],"(","!",["T_ISSET","isset",310],"(",["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","entityTables",310],"[",["T_VARIABLE","$index_prefix",310],["T_WHITESPACE"," ",310],".",["T_WHITESPACE"," ",310],["T_VARIABLE","$table",310],"]",")",")",["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n          ",310],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","entityTables",311],"[",["T_VARIABLE","$index_prefix",311],["T_WHITESPACE"," ",311],".",["T_WHITESPACE"," ",311],["T_VARIABLE","$table",311],"]",["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","addJoin",311],"(",["T_VARIABLE","$type",311],",",["T_WHITESPACE"," ",311],["T_VARIABLE","$table",311],",",["T_WHITESPACE"," ",311],"\"",["T_ENCAPSED_AND_WHITESPACE","%alias.",311],["T_VARIABLE","$id_field",311],["T_ENCAPSED_AND_WHITESPACE"," = ",311],["T_VARIABLE","$base_table",311],["T_ENCAPSED_AND_WHITESPACE",".",311],["T_VARIABLE","$id_field",311],"\"",",",["T_WHITESPACE"," ",311],["T_VARIABLE","$langcode",311],")",";",["T_WHITESPACE","\n        ",311],"}",["T_WHITESPACE","\n        ",312],["T_RETURN","return",313],["T_WHITESPACE"," ",313],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","entityTables",313],"[",["T_VARIABLE","$index_prefix",313],["T_WHITESPACE"," ",313],".",["T_WHITESPACE"," ",313],["T_VARIABLE","$table",313],"]",";",["T_WHITESPACE","\n      ",313],"}",["T_WHITESPACE","\n    ",314],"}",["T_WHITESPACE","\n    ",315],["T_THROW","throw",316],["T_WHITESPACE"," ",316],["T_NEW","new",316],["T_WHITESPACE"," ",316],["T_STRING","QueryException",316],"(","\"",["T_ENCAPSED_AND_WHITESPACE","'",316],["T_VARIABLE","$property",316],["T_ENCAPSED_AND_WHITESPACE","' not found",316],"\"",")",";",["T_WHITESPACE","\n  ",316],"}",["T_WHITESPACE","\n\n  ",317],["T_DOC_COMMENT","\/**\n   * Join field table if necessary.\n   *\n   * @param $field_name\n   *   Name of the field.\n   * @return string\n   * @throws \\Drupal\\Core\\Entity\\Query\\QueryException\n   *\/",319],["T_WHITESPACE","\n  ",326],["T_PROTECTED","protected",327],["T_WHITESPACE"," ",327],["T_FUNCTION","function",327],["T_WHITESPACE"," ",327],["T_STRING","ensureFieldTable",327],"(",["T_VARIABLE","$index_prefix",327],",",["T_WHITESPACE"," ",327],"&",["T_VARIABLE","$field",327],",",["T_WHITESPACE"," ",327],["T_VARIABLE","$type",327],",",["T_WHITESPACE"," ",327],["T_VARIABLE","$langcode",327],",",["T_WHITESPACE"," ",327],["T_VARIABLE","$base_table",327],",",["T_WHITESPACE"," ",327],["T_VARIABLE","$entity_id_field",327],",",["T_WHITESPACE"," ",327],["T_VARIABLE","$field_id_field",327],",",["T_WHITESPACE"," ",327],["T_VARIABLE","$delta",327],")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n    ",327],["T_VARIABLE","$field_name",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_VARIABLE","$field",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","getName",328],"(",")",";",["T_WHITESPACE","\n    ",328],["T_IF","if",329],["T_WHITESPACE"," ",329],"(","!",["T_ISSET","isset",329],"(",["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","fieldTables",329],"[",["T_VARIABLE","$index_prefix",329],["T_WHITESPACE"," ",329],".",["T_WHITESPACE"," ",329],["T_VARIABLE","$field_name",329],"]",")",")",["T_WHITESPACE"," ",329],"{",["T_WHITESPACE","\n      ",329],["T_VARIABLE","$entity_type_id",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","sqlQuery",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","getMetaData",330],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type'",330],")",";",["T_WHITESPACE","\n      ",330],["T_DOC_COMMENT","\/** @var \\Drupal\\Core\\Entity\\Sql\\DefaultTableMapping $table_mapping *\/",331],["T_WHITESPACE","\n      ",331],["T_VARIABLE","$table_mapping",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","entityManager",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","getStorage",332],"(",["T_VARIABLE","$entity_type_id",332],")",["T_OBJECT_OPERATOR","->",332],["T_STRING","getTableMapping",332],"(",")",";",["T_WHITESPACE","\n      ",332],["T_VARIABLE","$table",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],"!",["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","sqlQuery",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","getMetaData",333],"(",["T_CONSTANT_ENCAPSED_STRING","'all_revisions'",333],")",["T_WHITESPACE"," ",333],"?",["T_WHITESPACE"," ",333],["T_VARIABLE","$table_mapping",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","getDedicatedDataTableName",333],"(",["T_VARIABLE","$field",333],")",["T_WHITESPACE"," ",333],":",["T_WHITESPACE"," ",333],["T_VARIABLE","$table_mapping",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","getDedicatedRevisionTableName",333],"(",["T_VARIABLE","$field",333],")",";",["T_WHITESPACE","\n      ",333],["T_IF","if",334],["T_WHITESPACE"," ",334],"(",["T_VARIABLE","$field",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","getCardinality",334],"(",")",["T_WHITESPACE"," ",334],["T_IS_NOT_EQUAL","!=",334],["T_WHITESPACE"," ",334],["T_LNUMBER","1",334],")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n        ",334],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","sqlQuery",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","addMetaData",335],"(",["T_CONSTANT_ENCAPSED_STRING","'simple_query'",335],",",["T_WHITESPACE"," ",335],["T_STRING","FALSE",335],")",";",["T_WHITESPACE","\n      ",335],"}",["T_WHITESPACE","\n      ",336],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","fieldTables",337],"[",["T_VARIABLE","$index_prefix",337],["T_WHITESPACE"," ",337],".",["T_WHITESPACE"," ",337],["T_VARIABLE","$field_name",337],"]",["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","addJoin",337],"(",["T_VARIABLE","$type",337],",",["T_WHITESPACE"," ",337],["T_VARIABLE","$table",337],",",["T_WHITESPACE"," ",337],"\"",["T_ENCAPSED_AND_WHITESPACE","%alias.",337],["T_VARIABLE","$field_id_field",337],["T_ENCAPSED_AND_WHITESPACE"," = ",337],["T_VARIABLE","$base_table",337],["T_ENCAPSED_AND_WHITESPACE",".",337],["T_VARIABLE","$entity_id_field",337],"\"",",",["T_WHITESPACE"," ",337],["T_VARIABLE","$langcode",337],",",["T_WHITESPACE"," ",337],["T_VARIABLE","$delta",337],")",";",["T_WHITESPACE","\n    ",337],"}",["T_WHITESPACE","\n    ",338],["T_RETURN","return",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","fieldTables",339],"[",["T_VARIABLE","$index_prefix",339],["T_WHITESPACE"," ",339],".",["T_WHITESPACE"," ",339],["T_VARIABLE","$field_name",339],"]",";",["T_WHITESPACE","\n  ",339],"}",["T_WHITESPACE","\n\n  ",340],["T_PROTECTED","protected",342],["T_WHITESPACE"," ",342],["T_FUNCTION","function",342],["T_WHITESPACE"," ",342],["T_STRING","addJoin",342],"(",["T_VARIABLE","$type",342],",",["T_WHITESPACE"," ",342],["T_VARIABLE","$table",342],",",["T_WHITESPACE"," ",342],["T_VARIABLE","$join_condition",342],",",["T_WHITESPACE"," ",342],["T_VARIABLE","$langcode",342],",",["T_WHITESPACE"," ",342],["T_VARIABLE","$delta",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_STRING","NULL",342],")",["T_WHITESPACE"," ",342],"{",["T_WHITESPACE","\n    ",342],["T_VARIABLE","$arguments",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_ARRAY","array",343],"(",")",";",["T_WHITESPACE","\n    ",343],["T_IF","if",344],["T_WHITESPACE"," ",344],"(",["T_VARIABLE","$langcode",344],")",["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n      ",344],["T_VARIABLE","$entity_type_id",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","sqlQuery",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","getMetaData",345],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type'",345],")",";",["T_WHITESPACE","\n      ",345],["T_VARIABLE","$entity_type",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","entityManager",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","getDefinition",346],"(",["T_VARIABLE","$entity_type_id",346],")",";",["T_WHITESPACE","\n      ",346],["T_COMMENT","\/\/ Only the data table follows the entity language key, dedicated field\n",347],["T_WHITESPACE","      ",348],["T_COMMENT","\/\/ tables have an hard-coded 'langcode' column.\n",348],["T_WHITESPACE","      ",349],["T_VARIABLE","$langcode_key",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_VARIABLE","$entity_type",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","getDataTable",349],"(",")",["T_WHITESPACE"," ",349],["T_IS_EQUAL","==",349],["T_WHITESPACE"," ",349],["T_VARIABLE","$table",349],["T_WHITESPACE"," ",349],"?",["T_WHITESPACE"," ",349],["T_VARIABLE","$entity_type",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","getKey",349],"(",["T_CONSTANT_ENCAPSED_STRING","'langcode'",349],")",["T_WHITESPACE"," ",349],":",["T_WHITESPACE"," ",349],["T_CONSTANT_ENCAPSED_STRING","'langcode'",349],";",["T_WHITESPACE","\n      ",349],["T_VARIABLE","$placeholder",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_CONSTANT_ENCAPSED_STRING","':langcode'",350],["T_WHITESPACE"," ",350],".",["T_WHITESPACE"," ",350],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","sqlQuery",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","nextPlaceholder",350],"(",")",";",["T_WHITESPACE","\n      ",350],["T_VARIABLE","$join_condition",351],["T_WHITESPACE"," ",351],["T_CONCAT_EQUAL",".=",351],["T_WHITESPACE"," ",351],["T_CONSTANT_ENCAPSED_STRING","' AND %alias.'",351],["T_WHITESPACE"," ",351],".",["T_WHITESPACE"," ",351],["T_VARIABLE","$langcode_key",351],["T_WHITESPACE"," ",351],".",["T_WHITESPACE"," ",351],["T_CONSTANT_ENCAPSED_STRING","' = '",351],["T_WHITESPACE"," ",351],".",["T_WHITESPACE"," ",351],["T_VARIABLE","$placeholder",351],";",["T_WHITESPACE","\n      ",351],["T_VARIABLE","$arguments",352],"[",["T_VARIABLE","$placeholder",352],"]",["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_VARIABLE","$langcode",352],";",["T_WHITESPACE","\n    ",352],"}",["T_WHITESPACE","\n    ",353],["T_IF","if",354],["T_WHITESPACE"," ",354],"(",["T_ISSET","isset",354],"(",["T_VARIABLE","$delta",354],")",")",["T_WHITESPACE"," ",354],"{",["T_WHITESPACE","\n      ",354],["T_VARIABLE","$placeholder",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","':delta'",355],["T_WHITESPACE"," ",355],".",["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","sqlQuery",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","nextPlaceholder",355],"(",")",";",["T_WHITESPACE","\n      ",355],["T_VARIABLE","$join_condition",356],["T_WHITESPACE"," ",356],["T_CONCAT_EQUAL",".=",356],["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","' AND %alias.delta = '",356],["T_WHITESPACE"," ",356],".",["T_WHITESPACE"," ",356],["T_VARIABLE","$placeholder",356],";",["T_WHITESPACE","\n      ",356],["T_VARIABLE","$arguments",357],"[",["T_VARIABLE","$placeholder",357],"]",["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_VARIABLE","$delta",357],";",["T_WHITESPACE","\n    ",357],"}",["T_WHITESPACE","\n    ",358],["T_RETURN","return",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","sqlQuery",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","addJoin",359],"(",["T_VARIABLE","$type",359],",",["T_WHITESPACE"," ",359],["T_VARIABLE","$table",359],",",["T_WHITESPACE"," ",359],["T_STRING","NULL",359],",",["T_WHITESPACE"," ",359],["T_VARIABLE","$join_condition",359],",",["T_WHITESPACE"," ",359],["T_VARIABLE","$arguments",359],")",";",["T_WHITESPACE","\n  ",359],"}",["T_WHITESPACE","\n\n  ",360],["T_DOC_COMMENT","\/**\n   * Gets the schema for the given table.\n   *\n   * @param string $table\n   *   The table name.\n   *\n   * @return array|bool\n   *   The table field mapping for the given table or FALSE if not available.\n   *\/",362],["T_WHITESPACE","\n  ",370],["T_PROTECTED","protected",371],["T_WHITESPACE"," ",371],["T_FUNCTION","function",371],["T_WHITESPACE"," ",371],["T_STRING","getTableMapping",371],"(",["T_VARIABLE","$table",371],",",["T_WHITESPACE"," ",371],["T_VARIABLE","$entity_type_id",371],")",["T_WHITESPACE"," ",371],"{",["T_WHITESPACE","\n    ",371],["T_VARIABLE","$storage",372],["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","entityManager",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","getStorage",372],"(",["T_VARIABLE","$entity_type_id",372],")",";",["T_WHITESPACE","\n    ",372],["T_IF","if",373],["T_WHITESPACE"," ",373],"(",["T_VARIABLE","$storage",373],["T_WHITESPACE"," ",373],["T_INSTANCEOF","instanceof",373],["T_WHITESPACE"," ",373],["T_STRING","SqlEntityStorageInterface",373],")",["T_WHITESPACE"," ",373],"{",["T_WHITESPACE","\n      ",373],["T_VARIABLE","$mapping",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_VARIABLE","$storage",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","getTableMapping",374],"(",")",["T_OBJECT_OPERATOR","->",374],["T_STRING","getAllColumns",374],"(",["T_VARIABLE","$table",374],")",";",["T_WHITESPACE","\n    ",374],"}",["T_WHITESPACE","\n    ",375],["T_ELSE","else",376],["T_WHITESPACE"," ",376],"{",["T_WHITESPACE","\n      ",376],["T_RETURN","return",377],["T_WHITESPACE"," ",377],["T_STRING","FALSE",377],";",["T_WHITESPACE","\n    ",377],"}",["T_WHITESPACE","\n    ",378],["T_RETURN","return",379],["T_WHITESPACE"," ",379],["T_STRING","array_flip",379],"(",["T_VARIABLE","$mapping",379],")",";",["T_WHITESPACE","\n  ",379],"}",["T_WHITESPACE","\n\n",380],"}",["T_WHITESPACE","\n",382]]