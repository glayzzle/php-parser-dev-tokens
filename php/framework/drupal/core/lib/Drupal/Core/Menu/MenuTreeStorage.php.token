[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Menu",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Plugin",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Exception",5],["T_NS_SEPARATOR","\\",5],["T_STRING","PluginException",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Utility",6],["T_NS_SEPARATOR","\\",6],["T_STRING","UrlHelper",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Cache",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Cache",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Cache",8],["T_NS_SEPARATOR","\\",8],["T_STRING","CacheBackendInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Cache",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CacheTagsInvalidatorInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Database",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Connection",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Database",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Database",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Database",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Query",12],["T_NS_SEPARATOR","\\",12],["T_STRING","SelectInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Core",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Database",13],["T_NS_SEPARATOR","\\",13],["T_STRING","SchemaObjectExistsException",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * Provides a menu tree storage using the database.\n *\/",15],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","MenuTreeStorage",18],["T_WHITESPACE"," ",18],["T_IMPLEMENTS","implements",18],["T_WHITESPACE"," ",18],["T_STRING","MenuTreeStorageInterface",18],["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n\n  ",18],["T_DOC_COMMENT","\/**\n   * The maximum depth of a menu links tree.\n   *\/",20],["T_WHITESPACE","\n  ",22],["T_CONST","const",23],["T_WHITESPACE"," ",23],["T_STRING","MAX_DEPTH",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_LNUMBER","9",23],";",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * The database connection.\n   *\n   * @var \\Drupal\\Core\\Database\\Connection\n   *\/",25],["T_WHITESPACE","\n  ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$connection",30],";",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * Cache backend instance for the extracted tree data.\n   *\n   * @var \\Drupal\\Core\\Cache\\CacheBackendInterface\n   *\/",32],["T_WHITESPACE","\n  ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$menuCacheBackend",37],";",["T_WHITESPACE","\n\n  ",37],["T_DOC_COMMENT","\/**\n   * The cache tags invalidator.\n   *\n   * @var \\Drupal\\Core\\Cache\\CacheTagsInvalidatorInterface\n   *\/",39],["T_WHITESPACE","\n  ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$cacheTagsInvalidator",44],";",["T_WHITESPACE","\n\n  ",44],["T_DOC_COMMENT","\/**\n   * The database table name.\n   *\n   * @var string\n   *\/",46],["T_WHITESPACE","\n  ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$table",51],";",["T_WHITESPACE","\n\n  ",51],["T_DOC_COMMENT","\/**\n   * Additional database connection options to use in queries.\n   *\n   * @var array\n   *\/",53],["T_WHITESPACE","\n  ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$options",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_ARRAY","array",58],"(",")",";",["T_WHITESPACE","\n\n  ",58],["T_DOC_COMMENT","\/**\n   * Stores definitions that have already been loaded for better performance.\n   *\n   * An array of plugin definition arrays, keyed by plugin ID.\n   *\n   * @var array\n   *\/",60],["T_WHITESPACE","\n  ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$definitions",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_ARRAY","array",67],"(",")",";",["T_WHITESPACE","\n\n  ",67],["T_DOC_COMMENT","\/**\n   * List of serialized fields.\n   *\n   * @var array\n   *\/",69],["T_WHITESPACE","\n  ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$serializedFields",74],";",["T_WHITESPACE","\n\n  ",74],["T_DOC_COMMENT","\/**\n   * List of plugin definition fields.\n   *\n   * @todo Decide how to keep these field definitions in sync.\n   *   https:\/\/www.drupal.org\/node\/2302085\n   *\n   * @see \\Drupal\\Core\\Menu\\MenuLinkManager::$defaults\n   *\n   * @var array\n   *\/",76],["T_WHITESPACE","\n  ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$definitionFields",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_ARRAY","array",86],"(",["T_WHITESPACE","\n    ",86],["T_CONSTANT_ENCAPSED_STRING","'menu_name'",87],",",["T_WHITESPACE","\n    ",87],["T_CONSTANT_ENCAPSED_STRING","'route_name'",88],",",["T_WHITESPACE","\n    ",88],["T_CONSTANT_ENCAPSED_STRING","'route_parameters'",89],",",["T_WHITESPACE","\n    ",89],["T_CONSTANT_ENCAPSED_STRING","'url'",90],",",["T_WHITESPACE","\n    ",90],["T_CONSTANT_ENCAPSED_STRING","'title'",91],",",["T_WHITESPACE","\n    ",91],["T_CONSTANT_ENCAPSED_STRING","'description'",92],",",["T_WHITESPACE","\n    ",92],["T_CONSTANT_ENCAPSED_STRING","'parent'",93],",",["T_WHITESPACE","\n    ",93],["T_CONSTANT_ENCAPSED_STRING","'weight'",94],",",["T_WHITESPACE","\n    ",94],["T_CONSTANT_ENCAPSED_STRING","'options'",95],",",["T_WHITESPACE","\n    ",95],["T_CONSTANT_ENCAPSED_STRING","'expanded'",96],",",["T_WHITESPACE","\n    ",96],["T_CONSTANT_ENCAPSED_STRING","'enabled'",97],",",["T_WHITESPACE","\n    ",97],["T_CONSTANT_ENCAPSED_STRING","'provider'",98],",",["T_WHITESPACE","\n    ",98],["T_CONSTANT_ENCAPSED_STRING","'metadata'",99],",",["T_WHITESPACE","\n    ",99],["T_CONSTANT_ENCAPSED_STRING","'class'",100],",",["T_WHITESPACE","\n    ",100],["T_CONSTANT_ENCAPSED_STRING","'form_class'",101],",",["T_WHITESPACE","\n    ",101],["T_CONSTANT_ENCAPSED_STRING","'id'",102],",",["T_WHITESPACE","\n  ",102],")",";",["T_WHITESPACE","\n\n  ",103],["T_DOC_COMMENT","\/**\n   * Constructs a new \\Drupal\\Core\\Menu\\MenuTreeStorage.\n   *\n   * @param \\Drupal\\Core\\Database\\Connection $connection\n   *   A Database connection to use for reading and writing configuration data.\n   * @param \\Drupal\\Core\\Cache\\CacheBackendInterface $menu_cache_backend\n   *   Cache backend instance for the extracted tree data.\n   * @param \\Drupal\\Core\\Cache\\CacheTagsInvalidatorInterface $cache_tags_invalidator\n   *   The cache tags invalidator.\n   * @param string $table\n   *   A database table name to store configuration data in.\n   * @param array $options\n   *   (optional) Any additional database connection options to use in queries.\n   *\/",105],["T_WHITESPACE","\n  ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","__construct",119],"(",["T_STRING","Connection",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$connection",119],",",["T_WHITESPACE"," ",119],["T_STRING","CacheBackendInterface",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$menu_cache_backend",119],",",["T_WHITESPACE"," ",119],["T_STRING","CacheTagsInvalidatorInterface",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$cache_tags_invalidator",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$table",119],",",["T_WHITESPACE"," ",119],["T_ARRAY","array",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$options",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",")",")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n    ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","connection",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$connection",120],";",["T_WHITESPACE","\n    ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","menuCacheBackend",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$menu_cache_backend",121],";",["T_WHITESPACE","\n    ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","cacheTagsInvalidator",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$cache_tags_invalidator",122],";",["T_WHITESPACE","\n    ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","table",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$table",123],";",["T_WHITESPACE","\n    ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","options",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$options",124],";",["T_WHITESPACE","\n  ",124],"}",["T_WHITESPACE","\n\n  ",125],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",127],["T_WHITESPACE","\n  ",129],["T_PUBLIC","public",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","maxDepth",130],"(",")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n    ",130],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_STATIC","static",131],["T_DOUBLE_COLON","::",131],["T_STRING","MAX_DEPTH",131],";",["T_WHITESPACE","\n  ",131],"}",["T_WHITESPACE","\n\n  ",132],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",134],["T_WHITESPACE","\n  ",136],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","resetDefinitions",137],"(",")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","definitions",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_ARRAY","array",138],"(",")",";",["T_WHITESPACE","\n  ",138],"}",["T_WHITESPACE","\n\n  ",139],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",141],["T_WHITESPACE","\n  ",143],["T_PUBLIC","public",144],["T_WHITESPACE"," ",144],["T_FUNCTION","function",144],["T_WHITESPACE"," ",144],["T_STRING","rebuild",144],"(",["T_ARRAY","array",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$definitions",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n    ",144],["T_VARIABLE","$links",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_ARRAY","array",145],"(",")",";",["T_WHITESPACE","\n    ",145],["T_VARIABLE","$children",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_ARRAY","array",146],"(",")",";",["T_WHITESPACE","\n    ",146],["T_VARIABLE","$top_links",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_ARRAY","array",147],"(",")",";",["T_WHITESPACE","\n    ",147],["T_COMMENT","\/\/ Fetch the list of existing menus, in case some are not longer populated\n",148],["T_WHITESPACE","    ",149],["T_COMMENT","\/\/ after the rebuild.\n",149],["T_WHITESPACE","    ",150],["T_VARIABLE","$before_menus",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getMenuNames",150],"(",")",";",["T_WHITESPACE","\n    ",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$definitions",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n      ",151],["T_FOREACH","foreach",152],["T_WHITESPACE"," ",152],"(",["T_VARIABLE","$definitions",152],["T_WHITESPACE"," ",152],["T_AS","as",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$id",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$link",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n        ",152],["T_COMMENT","\/\/ Flag this link as discovered, i.e. saved via rebuild().\n",153],["T_WHITESPACE","        ",154],["T_VARIABLE","$link",154],"[",["T_CONSTANT_ENCAPSED_STRING","'discovered'",154],"]",["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_LNUMBER","1",154],";",["T_WHITESPACE","\n        ",154],["T_COMMENT","\/\/ Note: The parent we set here might be just stored in the {menu_tree}\n",155],["T_WHITESPACE","        ",156],["T_COMMENT","\/\/ table, so it will not end up in $top_links. Therefore the later loop\n",156],["T_WHITESPACE","        ",157],["T_COMMENT","\/\/ on the orphan links, will handle those cases.\n",157],["T_WHITESPACE","        ",158],["T_IF","if",158],["T_WHITESPACE"," ",158],"(","!",["T_EMPTY","empty",158],"(",["T_VARIABLE","$link",158],"[",["T_CONSTANT_ENCAPSED_STRING","'parent'",158],"]",")",")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n          ",158],["T_VARIABLE","$children",159],"[",["T_VARIABLE","$link",159],"[",["T_CONSTANT_ENCAPSED_STRING","'parent'",159],"]","]","[",["T_VARIABLE","$id",159],"]",["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$id",159],";",["T_WHITESPACE","\n        ",159],"}",["T_WHITESPACE","\n        ",160],["T_ELSE","else",161],["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n          ",161],["T_COMMENT","\/\/ A top level link - we need them to root our tree.\n",162],["T_WHITESPACE","          ",163],["T_VARIABLE","$top_links",163],"[",["T_VARIABLE","$id",163],"]",["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$id",163],";",["T_WHITESPACE","\n          ",163],["T_VARIABLE","$link",164],"[",["T_CONSTANT_ENCAPSED_STRING","'parent'",164],"]",["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","''",164],";",["T_WHITESPACE","\n        ",164],"}",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$links",166],"[",["T_VARIABLE","$id",166],"]",["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$link",166],";",["T_WHITESPACE","\n      ",166],"}",["T_WHITESPACE","\n    ",167],"}",["T_WHITESPACE","\n    ",168],["T_FOREACH","foreach",169],["T_WHITESPACE"," ",169],"(",["T_VARIABLE","$top_links",169],["T_WHITESPACE"," ",169],["T_AS","as",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$id",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n      ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","saveRecursive",170],"(",["T_VARIABLE","$id",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$children",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$links",170],")",";",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n    ",171],["T_COMMENT","\/\/ Handle any children we didn't find starting from top-level links.\n",172],["T_WHITESPACE","    ",173],["T_FOREACH","foreach",173],["T_WHITESPACE"," ",173],"(",["T_VARIABLE","$children",173],["T_WHITESPACE"," ",173],["T_AS","as",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$orphan_links",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n      ",173],["T_FOREACH","foreach",174],["T_WHITESPACE"," ",174],"(",["T_VARIABLE","$orphan_links",174],["T_WHITESPACE"," ",174],["T_AS","as",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$id",174],")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n        ",174],["T_COMMENT","\/\/ Check for a parent that is not loaded above since only internal links\n",175],["T_WHITESPACE","        ",176],["T_COMMENT","\/\/ are loaded above.\n",176],["T_WHITESPACE","        ",177],["T_VARIABLE","$parent",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","loadFull",177],"(",["T_VARIABLE","$links",177],"[",["T_VARIABLE","$id",177],"]","[",["T_CONSTANT_ENCAPSED_STRING","'parent'",177],"]",")",";",["T_WHITESPACE","\n        ",177],["T_COMMENT","\/\/ If there is a parent add it to the links to be used in\n",178],["T_WHITESPACE","        ",179],["T_COMMENT","\/\/ ::saveRecursive().\n",179],["T_WHITESPACE","        ",180],["T_IF","if",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$parent",180],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n          ",180],["T_VARIABLE","$links",181],"[",["T_VARIABLE","$links",181],"[",["T_VARIABLE","$id",181],"]","[",["T_CONSTANT_ENCAPSED_STRING","'parent'",181],"]","]",["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$parent",181],";",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE","\n        ",182],["T_ELSE","else",183],["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n          ",183],["T_COMMENT","\/\/ Force it to the top level.\n",184],["T_WHITESPACE","          ",185],["T_VARIABLE","$links",185],"[",["T_VARIABLE","$id",185],"]","[",["T_CONSTANT_ENCAPSED_STRING","'parent'",185],"]",["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","''",185],";",["T_WHITESPACE","\n        ",185],"}",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","saveRecursive",187],"(",["T_VARIABLE","$id",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$children",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$links",187],")",";",["T_WHITESPACE","\n      ",187],"}",["T_WHITESPACE","\n    ",188],"}",["T_WHITESPACE","\n    ",189],["T_VARIABLE","$result",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","findNoLongerExistingLinks",190],"(",["T_VARIABLE","$definitions",190],")",";",["T_WHITESPACE","\n\n    ",190],["T_COMMENT","\/\/ Remove all such items.\n",192],["T_WHITESPACE","    ",193],["T_IF","if",193],["T_WHITESPACE"," ",193],"(",["T_VARIABLE","$result",193],")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n      ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","purgeMultiple",194],"(",["T_VARIABLE","$result",194],")",";",["T_WHITESPACE","\n    ",194],"}",["T_WHITESPACE","\n    ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","resetDefinitions",196],"(",")",";",["T_WHITESPACE","\n    ",196],["T_VARIABLE","$affected_menus",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getMenuNames",197],"(",")",["T_WHITESPACE"," ",197],"+",["T_WHITESPACE"," ",197],["T_VARIABLE","$before_menus",197],";",["T_WHITESPACE","\n    ",197],["T_COMMENT","\/\/ Invalidate any cache tagged with any menu name.\n",198],["T_WHITESPACE","    ",199],["T_VARIABLE","$cache_tags",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_STRING","Cache",199],["T_DOUBLE_COLON","::",199],["T_STRING","buildTags",199],"(",["T_CONSTANT_ENCAPSED_STRING","'config:system.menu'",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$affected_menus",199],",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'.'",199],")",";",["T_WHITESPACE","\n    ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","cacheTagsInvalidator",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","invalidateTags",200],"(",["T_VARIABLE","$cache_tags",200],")",";",["T_WHITESPACE","\n    ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","resetDefinitions",201],"(",")",";",["T_WHITESPACE","\n    ",201],["T_COMMENT","\/\/ Every item in the cache bin should have one of the menu cache tags but it\n",202],["T_WHITESPACE","    ",203],["T_COMMENT","\/\/ is not guaranteed, so invalidate everything in the bin.\n",203],["T_WHITESPACE","    ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","menuCacheBackend",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","invalidateAll",204],"(",")",";",["T_WHITESPACE","\n  ",204],"}",["T_WHITESPACE","\n\n  ",205],["T_DOC_COMMENT","\/**\n   * Purges multiple menu links that no longer exist.\n   *\n   * @param array $ids\n   *   An array of menu link IDs.\n   *\/",207],["T_WHITESPACE","\n  ",212],["T_PROTECTED","protected",213],["T_WHITESPACE"," ",213],["T_FUNCTION","function",213],["T_WHITESPACE"," ",213],["T_STRING","purgeMultiple",213],"(",["T_ARRAY","array",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$ids",213],")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n    ",213],["T_VARIABLE","$loaded",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","loadFullMultiple",214],"(",["T_VARIABLE","$ids",214],")",";",["T_WHITESPACE","\n    ",214],["T_FOREACH","foreach",215],["T_WHITESPACE"," ",215],"(",["T_VARIABLE","$loaded",215],["T_WHITESPACE"," ",215],["T_AS","as",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$id",215],["T_WHITESPACE"," ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$link",215],")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n      ",215],["T_IF","if",216],["T_WHITESPACE"," ",216],"(",["T_VARIABLE","$link",216],"[",["T_CONSTANT_ENCAPSED_STRING","'has_children'",216],"]",")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$children",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","loadByProperties",217],"(",["T_ARRAY","array",217],"(",["T_CONSTANT_ENCAPSED_STRING","'parent'",217],["T_WHITESPACE"," ",217],["T_DOUBLE_ARROW","=>",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$id",217],")",")",";",["T_WHITESPACE","\n        ",217],["T_FOREACH","foreach",218],["T_WHITESPACE"," ",218],"(",["T_VARIABLE","$children",218],["T_WHITESPACE"," ",218],["T_AS","as",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$child",218],")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n          ",218],["T_VARIABLE","$child",219],"[",["T_CONSTANT_ENCAPSED_STRING","'parent'",219],"]",["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$link",219],"[",["T_CONSTANT_ENCAPSED_STRING","'parent'",219],"]",";",["T_WHITESPACE","\n          ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","save",220],"(",["T_VARIABLE","$child",220],")",";",["T_WHITESPACE","\n        ",220],"}",["T_WHITESPACE","\n      ",221],"}",["T_WHITESPACE","\n    ",222],"}",["T_WHITESPACE","\n    ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","doDeleteMultiple",224],"(",["T_VARIABLE","$ids",224],")",";",["T_WHITESPACE","\n  ",224],"}",["T_WHITESPACE","\n\n  ",225],["T_DOC_COMMENT","\/**\n   * Executes a select query while making sure the database table exists.\n   *\n   * @param \\Drupal\\Core\\Database\\Query\\SelectInterface $query\n   *   The select object to be executed.\n   *\n   * @return \\Drupal\\Core\\Database\\StatementInterface|null\n   *   A prepared statement, or NULL if the query is not valid.\n   *\n   * @throws \\Exception\n   *   Thrown if the table could not be created or the database connection\n   *   failed.\n   *\/",227],["T_WHITESPACE","\n  ",239],["T_PROTECTED","protected",240],["T_WHITESPACE"," ",240],["T_FUNCTION","function",240],["T_WHITESPACE"," ",240],["T_STRING","safeExecuteSelect",240],"(",["T_STRING","SelectInterface",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$query",240],")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n    ",240],["T_TRY","try",241],["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n      ",241],["T_RETURN","return",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$query",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","execute",242],"(",")",";",["T_WHITESPACE","\n    ",242],"}",["T_WHITESPACE","\n    ",243],["T_CATCH","catch",244],["T_WHITESPACE"," ",244],"(",["T_NS_SEPARATOR","\\",244],["T_STRING","Exception",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$e",244],")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n      ",244],["T_COMMENT","\/\/ If there was an exception, try to create the table.\n",245],["T_WHITESPACE","      ",246],["T_IF","if",246],["T_WHITESPACE"," ",246],"(",["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","ensureTableExists",246],"(",")",")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n        ",246],["T_RETURN","return",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$query",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","execute",247],"(",")",";",["T_WHITESPACE","\n      ",247],"}",["T_WHITESPACE","\n      ",248],["T_COMMENT","\/\/ Some other failure that we can not recover from.\n",249],["T_WHITESPACE","      ",250],["T_THROW","throw",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$e",250],";",["T_WHITESPACE","\n    ",250],"}",["T_WHITESPACE","\n  ",251],"}",["T_WHITESPACE","\n\n  ",252],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",254],["T_WHITESPACE","\n  ",256],["T_PUBLIC","public",257],["T_WHITESPACE"," ",257],["T_FUNCTION","function",257],["T_WHITESPACE"," ",257],["T_STRING","save",257],"(",["T_ARRAY","array",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$link",257],")",["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n    ",257],["T_VARIABLE","$affected_menus",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","doSave",258],"(",["T_VARIABLE","$link",258],")",";",["T_WHITESPACE","\n    ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","resetDefinitions",259],"(",")",";",["T_WHITESPACE","\n    ",259],["T_VARIABLE","$cache_tags",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_STRING","Cache",260],["T_DOUBLE_COLON","::",260],["T_STRING","buildTags",260],"(",["T_CONSTANT_ENCAPSED_STRING","'config:system.menu'",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$affected_menus",260],",",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'.'",260],")",";",["T_WHITESPACE","\n    ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","cacheTagsInvalidator",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","invalidateTags",261],"(",["T_VARIABLE","$cache_tags",261],")",";",["T_WHITESPACE","\n    ",261],["T_RETURN","return",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$affected_menus",262],";",["T_WHITESPACE","\n  ",262],"}",["T_WHITESPACE","\n\n  ",263],["T_DOC_COMMENT","\/**\n   * Saves a link without clearing caches.\n   *\n   * @param array $link\n   *   A definition, according to $definitionFields, for a\n   *   \\Drupal\\Core\\Menu\\MenuLinkInterface plugin.\n   *\n   * @return array\n   *   The menu names affected by the save operation. This will be one menu\n   *   name if the link is saved to the sane menu, or two if it is saved to a\n   *   new menu.\n   *\n   * @throws \\Exception\n   *   Thrown if the storage back-end does not exist and could not be created.\n   * @throws \\Drupal\\Component\\Plugin\\Exception\\PluginException\n   *   Thrown if the definition is invalid, for example, if the specified parent\n   *   would cause the links children to be moved to greater than the maximum\n   *   depth.\n   *\/",265],["T_WHITESPACE","\n  ",283],["T_PROTECTED","protected",284],["T_WHITESPACE"," ",284],["T_FUNCTION","function",284],["T_WHITESPACE"," ",284],["T_STRING","doSave",284],"(",["T_ARRAY","array",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$link",284],")",["T_WHITESPACE"," ",284],"{",["T_WHITESPACE","\n    ",284],["T_VARIABLE","$original",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","loadFull",285],"(",["T_VARIABLE","$link",285],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",285],"]",")",";",["T_WHITESPACE","\n    ",285],["T_COMMENT","\/\/ @todo Should we just return here if the link values match the original\n",286],["T_WHITESPACE","    ",287],["T_COMMENT","\/\/   values completely?\n",287],["T_WHITESPACE","    ",288],["T_COMMENT","\/\/   https:\/\/www.drupal.org\/node\/2302137\n",288],["T_WHITESPACE","    ",289],["T_VARIABLE","$affected_menus",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_ARRAY","array",289],"(",")",";",["T_WHITESPACE","\n\n    ",289],["T_VARIABLE","$transaction",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","connection",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","startTransaction",291],"(",")",";",["T_WHITESPACE","\n    ",291],["T_TRY","try",292],["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n      ",292],["T_IF","if",293],["T_WHITESPACE"," ",293],"(",["T_VARIABLE","$original",293],")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n        ",293],["T_VARIABLE","$link",294],"[",["T_CONSTANT_ENCAPSED_STRING","'mlid'",294],"]",["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_VARIABLE","$original",294],"[",["T_CONSTANT_ENCAPSED_STRING","'mlid'",294],"]",";",["T_WHITESPACE","\n        ",294],["T_VARIABLE","$link",295],"[",["T_CONSTANT_ENCAPSED_STRING","'has_children'",295],"]",["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$original",295],"[",["T_CONSTANT_ENCAPSED_STRING","'has_children'",295],"]",";",["T_WHITESPACE","\n        ",295],["T_VARIABLE","$affected_menus",296],"[",["T_VARIABLE","$original",296],"[",["T_CONSTANT_ENCAPSED_STRING","'menu_name'",296],"]","]",["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_VARIABLE","$original",296],"[",["T_CONSTANT_ENCAPSED_STRING","'menu_name'",296],"]",";",["T_WHITESPACE","\n      ",296],"}",["T_WHITESPACE","\n      ",297],["T_ELSE","else",298],["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n        ",298],["T_COMMENT","\/\/ Generate a new mlid.\n",299],["T_WHITESPACE","        ",300],["T_VARIABLE","$options",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_ARRAY","array",300],"(",["T_CONSTANT_ENCAPSED_STRING","'return'",300],["T_WHITESPACE"," ",300],["T_DOUBLE_ARROW","=>",300],["T_WHITESPACE"," ",300],["T_STRING","Database",300],["T_DOUBLE_COLON","::",300],["T_STRING","RETURN_INSERT_ID",300],")",["T_WHITESPACE"," ",300],"+",["T_WHITESPACE"," ",300],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","options",300],";",["T_WHITESPACE","\n        ",300],["T_VARIABLE","$link",301],"[",["T_CONSTANT_ENCAPSED_STRING","'mlid'",301],"]",["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","connection",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","insert",301],"(",["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","table",301],",",["T_WHITESPACE"," ",301],["T_VARIABLE","$options",301],")",["T_WHITESPACE","\n          ",301],["T_OBJECT_OPERATOR","->",302],["T_STRING","fields",302],"(",["T_ARRAY","array",302],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",302],["T_WHITESPACE"," ",302],["T_DOUBLE_ARROW","=>",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$link",302],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",302],"]",",",["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","'menu_name'",302],["T_WHITESPACE"," ",302],["T_DOUBLE_ARROW","=>",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$link",302],"[",["T_CONSTANT_ENCAPSED_STRING","'menu_name'",302],"]",")",")",["T_WHITESPACE","\n          ",302],["T_OBJECT_OPERATOR","->",303],["T_STRING","execute",303],"(",")",";",["T_WHITESPACE","\n      ",303],"}",["T_WHITESPACE","\n      ",304],["T_VARIABLE","$fields",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","preSave",305],"(",["T_VARIABLE","$link",305],",",["T_WHITESPACE"," ",305],["T_VARIABLE","$original",305],")",";",["T_WHITESPACE","\n      ",305],["T_COMMENT","\/\/ We may be moving the link to a new menu.\n",306],["T_WHITESPACE","      ",307],["T_VARIABLE","$affected_menus",307],"[",["T_VARIABLE","$fields",307],"[",["T_CONSTANT_ENCAPSED_STRING","'menu_name'",307],"]","]",["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_VARIABLE","$fields",307],"[",["T_CONSTANT_ENCAPSED_STRING","'menu_name'",307],"]",";",["T_WHITESPACE","\n      ",307],["T_VARIABLE","$query",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","connection",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","update",308],"(",["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","table",308],",",["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","options",308],")",";",["T_WHITESPACE","\n      ",308],["T_VARIABLE","$query",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","condition",309],"(",["T_CONSTANT_ENCAPSED_STRING","'mlid'",309],",",["T_WHITESPACE"," ",309],["T_VARIABLE","$link",309],"[",["T_CONSTANT_ENCAPSED_STRING","'mlid'",309],"]",")",";",["T_WHITESPACE","\n      ",309],["T_VARIABLE","$query",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","fields",310],"(",["T_VARIABLE","$fields",310],")",["T_WHITESPACE","\n        ",310],["T_OBJECT_OPERATOR","->",311],["T_STRING","execute",311],"(",")",";",["T_WHITESPACE","\n      ",311],["T_IF","if",312],["T_WHITESPACE"," ",312],"(",["T_VARIABLE","$original",312],")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n        ",312],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","updateParentalStatus",313],"(",["T_VARIABLE","$original",313],")",";",["T_WHITESPACE","\n      ",313],"}",["T_WHITESPACE","\n      ",314],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","updateParentalStatus",315],"(",["T_VARIABLE","$link",315],")",";",["T_WHITESPACE","\n    ",315],"}",["T_WHITESPACE","\n    ",316],["T_CATCH","catch",317],["T_WHITESPACE"," ",317],"(",["T_NS_SEPARATOR","\\",317],["T_STRING","Exception",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$e",317],")",["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n      ",317],["T_VARIABLE","$transaction",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","rollback",318],"(",")",";",["T_WHITESPACE","\n      ",318],["T_THROW","throw",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$e",319],";",["T_WHITESPACE","\n    ",319],"}",["T_WHITESPACE","\n    ",320],["T_RETURN","return",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$affected_menus",321],";",["T_WHITESPACE","\n  ",321],"}",["T_WHITESPACE","\n\n  ",322],["T_DOC_COMMENT","\/**\n   * Fills in all the fields the database save needs, using the link definition.\n   *\n   * @param array $link\n   *   The link definition to be updated.\n   * @param array $original\n   *   The link definition before the changes. May be empty if not found.\n   *\n   * @return array\n   *   The values which will be stored.\n   *\n   * @throws \\Drupal\\Component\\Plugin\\Exception\\PluginException\n   *   Thrown when the specific depth exceeds the maximum.\n   *\/",324],["T_WHITESPACE","\n  ",337],["T_PROTECTED","protected",338],["T_WHITESPACE"," ",338],["T_FUNCTION","function",338],["T_WHITESPACE"," ",338],["T_STRING","preSave",338],"(",["T_ARRAY","array",338],["T_WHITESPACE"," ",338],"&",["T_VARIABLE","$link",338],",",["T_WHITESPACE"," ",338],["T_ARRAY","array",338],["T_WHITESPACE"," ",338],["T_VARIABLE","$original",338],")",["T_WHITESPACE"," ",338],"{",["T_WHITESPACE","\n    ",338],["T_STATIC","static",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$schema_fields",339],",",["T_WHITESPACE"," ",339],["T_VARIABLE","$schema_defaults",339],";",["T_WHITESPACE","\n    ",339],["T_IF","if",340],["T_WHITESPACE"," ",340],"(",["T_EMPTY","empty",340],"(",["T_VARIABLE","$schema_fields",340],")",")",["T_WHITESPACE"," ",340],"{",["T_WHITESPACE","\n      ",340],["T_VARIABLE","$schema",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_STATIC","static",341],["T_DOUBLE_COLON","::",341],["T_STRING","schemaDefinition",341],"(",")",";",["T_WHITESPACE","\n      ",341],["T_VARIABLE","$schema_fields",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_VARIABLE","$schema",342],"[",["T_CONSTANT_ENCAPSED_STRING","'fields'",342],"]",";",["T_WHITESPACE","\n      ",342],["T_FOREACH","foreach",343],["T_WHITESPACE"," ",343],"(",["T_VARIABLE","$schema_fields",343],["T_WHITESPACE"," ",343],["T_AS","as",343],["T_WHITESPACE"," ",343],["T_VARIABLE","$name",343],["T_WHITESPACE"," ",343],["T_DOUBLE_ARROW","=>",343],["T_WHITESPACE"," ",343],["T_VARIABLE","$spec",343],")",["T_WHITESPACE"," ",343],"{",["T_WHITESPACE","\n        ",343],["T_IF","if",344],["T_WHITESPACE"," ",344],"(",["T_ISSET","isset",344],"(",["T_VARIABLE","$spec",344],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",344],"]",")",")",["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n          ",344],["T_VARIABLE","$schema_defaults",345],"[",["T_VARIABLE","$name",345],"]",["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_VARIABLE","$spec",345],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",345],"]",";",["T_WHITESPACE","\n        ",345],"}",["T_WHITESPACE","\n      ",346],"}",["T_WHITESPACE","\n    ",347],"}",["T_WHITESPACE","\n\n    ",348],["T_COMMENT","\/\/ Try to find a parent link. If found, assign it and derive its menu.\n",350],["T_WHITESPACE","    ",351],["T_VARIABLE","$parent",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","findParent",351],"(",["T_VARIABLE","$link",351],",",["T_WHITESPACE"," ",351],["T_VARIABLE","$original",351],")",";",["T_WHITESPACE","\n    ",351],["T_IF","if",352],["T_WHITESPACE"," ",352],"(",["T_VARIABLE","$parent",352],")",["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n      ",352],["T_VARIABLE","$link",353],"[",["T_CONSTANT_ENCAPSED_STRING","'parent'",353],"]",["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_VARIABLE","$parent",353],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",353],"]",";",["T_WHITESPACE","\n      ",353],["T_VARIABLE","$link",354],"[",["T_CONSTANT_ENCAPSED_STRING","'menu_name'",354],"]",["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_VARIABLE","$parent",354],"[",["T_CONSTANT_ENCAPSED_STRING","'menu_name'",354],"]",";",["T_WHITESPACE","\n    ",354],"}",["T_WHITESPACE","\n    ",355],["T_ELSE","else",356],["T_WHITESPACE"," ",356],"{",["T_WHITESPACE","\n      ",356],["T_VARIABLE","$link",357],"[",["T_CONSTANT_ENCAPSED_STRING","'parent'",357],"]",["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_CONSTANT_ENCAPSED_STRING","''",357],";",["T_WHITESPACE","\n    ",357],"}",["T_WHITESPACE","\n\n    ",358],["T_COMMENT","\/\/ If no corresponding parent link was found, move the link to the\n",360],["T_WHITESPACE","    ",361],["T_COMMENT","\/\/ top-level.\n",361],["T_WHITESPACE","    ",362],["T_FOREACH","foreach",362],["T_WHITESPACE"," ",362],"(",["T_VARIABLE","$schema_defaults",362],["T_WHITESPACE"," ",362],["T_AS","as",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$name",362],["T_WHITESPACE"," ",362],["T_DOUBLE_ARROW","=>",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$default",362],")",["T_WHITESPACE"," ",362],"{",["T_WHITESPACE","\n      ",362],["T_IF","if",363],["T_WHITESPACE"," ",363],"(","!",["T_ISSET","isset",363],"(",["T_VARIABLE","$link",363],"[",["T_VARIABLE","$name",363],"]",")",")",["T_WHITESPACE"," ",363],"{",["T_WHITESPACE","\n        ",363],["T_VARIABLE","$link",364],"[",["T_VARIABLE","$name",364],"]",["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_VARIABLE","$default",364],";",["T_WHITESPACE","\n      ",364],"}",["T_WHITESPACE","\n    ",365],"}",["T_WHITESPACE","\n    ",366],["T_VARIABLE","$fields",367],["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_STRING","array_intersect_key",367],"(",["T_VARIABLE","$link",367],",",["T_WHITESPACE"," ",367],["T_VARIABLE","$schema_fields",367],")",";",["T_WHITESPACE","\n    ",367],["T_COMMENT","\/\/ Sort the route parameters so that the query string will be the same.\n",368],["T_WHITESPACE","    ",369],["T_STRING","asort",369],"(",["T_VARIABLE","$fields",369],"[",["T_CONSTANT_ENCAPSED_STRING","'route_parameters'",369],"]",")",";",["T_WHITESPACE","\n    ",369],["T_COMMENT","\/\/ Since this will be urlencoded, it's safe to store and match against a\n",370],["T_WHITESPACE","    ",371],["T_COMMENT","\/\/ text field.\n",371],["T_WHITESPACE","    ",372],["T_VARIABLE","$fields",372],"[",["T_CONSTANT_ENCAPSED_STRING","'route_param_key'",372],"]",["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_VARIABLE","$fields",372],"[",["T_CONSTANT_ENCAPSED_STRING","'route_parameters'",372],"]",["T_WHITESPACE"," ",372],"?",["T_WHITESPACE"," ",372],["T_STRING","UrlHelper",372],["T_DOUBLE_COLON","::",372],["T_STRING","buildQuery",372],"(",["T_VARIABLE","$fields",372],"[",["T_CONSTANT_ENCAPSED_STRING","'route_parameters'",372],"]",")",["T_WHITESPACE"," ",372],":",["T_WHITESPACE"," ",372],["T_CONSTANT_ENCAPSED_STRING","''",372],";",["T_WHITESPACE","\n\n    ",372],["T_FOREACH","foreach",374],["T_WHITESPACE"," ",374],"(",["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","serializedFields",374],"(",")",["T_WHITESPACE"," ",374],["T_AS","as",374],["T_WHITESPACE"," ",374],["T_VARIABLE","$name",374],")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n      ",374],["T_IF","if",375],["T_WHITESPACE"," ",375],"(",["T_ISSET","isset",375],"(",["T_VARIABLE","$fields",375],"[",["T_VARIABLE","$name",375],"]",")",")",["T_WHITESPACE"," ",375],"{",["T_WHITESPACE","\n        ",375],["T_VARIABLE","$fields",376],"[",["T_VARIABLE","$name",376],"]",["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],["T_STRING","serialize",376],"(",["T_VARIABLE","$fields",376],"[",["T_VARIABLE","$name",376],"]",")",";",["T_WHITESPACE","\n      ",376],"}",["T_WHITESPACE","\n    ",377],"}",["T_WHITESPACE","\n    ",378],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","setParents",379],"(",["T_VARIABLE","$fields",379],",",["T_WHITESPACE"," ",379],["T_VARIABLE","$parent",379],",",["T_WHITESPACE"," ",379],["T_VARIABLE","$original",379],")",";",["T_WHITESPACE","\n\n    ",379],["T_COMMENT","\/\/ Need to check both parent and menu_name, since parent can be empty in any\n",381],["T_WHITESPACE","    ",382],["T_COMMENT","\/\/ menu.\n",382],["T_WHITESPACE","    ",383],["T_IF","if",383],["T_WHITESPACE"," ",383],"(",["T_VARIABLE","$original",383],["T_WHITESPACE"," ",383],["T_BOOLEAN_AND","&&",383],["T_WHITESPACE"," ",383],"(",["T_VARIABLE","$link",383],"[",["T_CONSTANT_ENCAPSED_STRING","'parent'",383],"]",["T_WHITESPACE"," ",383],["T_IS_NOT_EQUAL","!=",383],["T_WHITESPACE"," ",383],["T_VARIABLE","$original",383],"[",["T_CONSTANT_ENCAPSED_STRING","'parent'",383],"]",["T_WHITESPACE"," ",383],["T_BOOLEAN_OR","||",383],["T_WHITESPACE"," ",383],["T_VARIABLE","$link",383],"[",["T_CONSTANT_ENCAPSED_STRING","'menu_name'",383],"]",["T_WHITESPACE"," ",383],["T_IS_NOT_EQUAL","!=",383],["T_WHITESPACE"," ",383],["T_VARIABLE","$original",383],"[",["T_CONSTANT_ENCAPSED_STRING","'menu_name'",383],"]",")",")",["T_WHITESPACE"," ",383],"{",["T_WHITESPACE","\n      ",383],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","moveChildren",384],"(",["T_VARIABLE","$fields",384],",",["T_WHITESPACE"," ",384],["T_VARIABLE","$original",384],")",";",["T_WHITESPACE","\n    ",384],"}",["T_WHITESPACE","\n    ",385],["T_COMMENT","\/\/ We needed the mlid above, but not in the update query.\n",386],["T_WHITESPACE","    ",387],["T_UNSET","unset",387],"(",["T_VARIABLE","$fields",387],"[",["T_CONSTANT_ENCAPSED_STRING","'mlid'",387],"]",")",";",["T_WHITESPACE","\n\n    ",387],["T_COMMENT","\/\/ Cast Booleans to int, if needed.\n",389],["T_WHITESPACE","    ",390],["T_VARIABLE","$fields",390],"[",["T_CONSTANT_ENCAPSED_STRING","'enabled'",390],"]",["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_INT_CAST","(int)",390],["T_WHITESPACE"," ",390],["T_VARIABLE","$fields",390],"[",["T_CONSTANT_ENCAPSED_STRING","'enabled'",390],"]",";",["T_WHITESPACE","\n    ",390],["T_VARIABLE","$fields",391],"[",["T_CONSTANT_ENCAPSED_STRING","'expanded'",391],"]",["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_INT_CAST","(int)",391],["T_WHITESPACE"," ",391],["T_VARIABLE","$fields",391],"[",["T_CONSTANT_ENCAPSED_STRING","'expanded'",391],"]",";",["T_WHITESPACE","\n    ",391],["T_RETURN","return",392],["T_WHITESPACE"," ",392],["T_VARIABLE","$fields",392],";",["T_WHITESPACE","\n  ",392],"}",["T_WHITESPACE","\n\n  ",393],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",395],["T_WHITESPACE","\n  ",397],["T_PUBLIC","public",398],["T_WHITESPACE"," ",398],["T_FUNCTION","function",398],["T_WHITESPACE"," ",398],["T_STRING","delete",398],"(",["T_VARIABLE","$id",398],")",["T_WHITESPACE"," ",398],"{",["T_WHITESPACE","\n    ",398],["T_COMMENT","\/\/ Children get re-attached to the menu link's parent.\n",399],["T_WHITESPACE","    ",400],["T_VARIABLE","$item",400],["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","loadFull",400],"(",["T_VARIABLE","$id",400],")",";",["T_WHITESPACE","\n    ",400],["T_COMMENT","\/\/ It's possible the link is already deleted.\n",401],["T_WHITESPACE","    ",402],["T_IF","if",402],["T_WHITESPACE"," ",402],"(",["T_VARIABLE","$item",402],")",["T_WHITESPACE"," ",402],"{",["T_WHITESPACE","\n      ",402],["T_VARIABLE","$parent",403],["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_VARIABLE","$item",403],"[",["T_CONSTANT_ENCAPSED_STRING","'parent'",403],"]",";",["T_WHITESPACE","\n      ",403],["T_VARIABLE","$children",404],["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","loadByProperties",404],"(",["T_ARRAY","array",404],"(",["T_CONSTANT_ENCAPSED_STRING","'parent'",404],["T_WHITESPACE"," ",404],["T_DOUBLE_ARROW","=>",404],["T_WHITESPACE"," ",404],["T_VARIABLE","$id",404],")",")",";",["T_WHITESPACE","\n      ",404],["T_FOREACH","foreach",405],["T_WHITESPACE"," ",405],"(",["T_VARIABLE","$children",405],["T_WHITESPACE"," ",405],["T_AS","as",405],["T_WHITESPACE"," ",405],["T_VARIABLE","$child",405],")",["T_WHITESPACE"," ",405],"{",["T_WHITESPACE","\n        ",405],["T_VARIABLE","$child",406],"[",["T_CONSTANT_ENCAPSED_STRING","'parent'",406],"]",["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_VARIABLE","$parent",406],";",["T_WHITESPACE","\n        ",406],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","save",407],"(",["T_VARIABLE","$child",407],")",";",["T_WHITESPACE","\n      ",407],"}",["T_WHITESPACE","\n\n      ",408],["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","doDeleteMultiple",410],"(","[",["T_VARIABLE","$id",410],"]",")",";",["T_WHITESPACE","\n\n      ",410],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","updateParentalStatus",412],"(",["T_VARIABLE","$item",412],")",";",["T_WHITESPACE","\n      ",412],["T_COMMENT","\/\/ Many children may have moved.\n",413],["T_WHITESPACE","      ",414],["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","resetDefinitions",414],"(",")",";",["T_WHITESPACE","\n      ",414],["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","cacheTagsInvalidator",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","invalidateTags",415],"(","[",["T_CONSTANT_ENCAPSED_STRING","'config:system.menu.'",415],["T_WHITESPACE"," ",415],".",["T_WHITESPACE"," ",415],["T_VARIABLE","$item",415],"[",["T_CONSTANT_ENCAPSED_STRING","'menu_name'",415],"]","]",")",";",["T_WHITESPACE","\n    ",415],"}",["T_WHITESPACE","\n  ",416],"}",["T_WHITESPACE","\n\n  ",417],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",419],["T_WHITESPACE","\n  ",421],["T_PUBLIC","public",422],["T_WHITESPACE"," ",422],["T_FUNCTION","function",422],["T_WHITESPACE"," ",422],["T_STRING","getSubtreeHeight",422],"(",["T_VARIABLE","$id",422],")",["T_WHITESPACE"," ",422],"{",["T_WHITESPACE","\n    ",422],["T_VARIABLE","$original",423],["T_WHITESPACE"," ",423],"=",["T_WHITESPACE"," ",423],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","loadFull",423],"(",["T_VARIABLE","$id",423],")",";",["T_WHITESPACE","\n    ",423],["T_RETURN","return",424],["T_WHITESPACE"," ",424],["T_VARIABLE","$original",424],["T_WHITESPACE"," ",424],"?",["T_WHITESPACE"," ",424],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","doFindChildrenRelativeDepth",424],"(",["T_VARIABLE","$original",424],")",["T_WHITESPACE"," ",424],"+",["T_WHITESPACE"," ",424],["T_LNUMBER","1",424],["T_WHITESPACE"," ",424],":",["T_WHITESPACE"," ",424],["T_LNUMBER","0",424],";",["T_WHITESPACE","\n  ",424],"}",["T_WHITESPACE","\n\n  ",425],["T_DOC_COMMENT","\/**\n   * Finds the relative depth of this link's deepest child.\n   *\n   * @param array $original\n   *   The parent definition used to find the depth.\n   *\n   * @return int\n   *   Returns the relative depth.\n   *\/",427],["T_WHITESPACE","\n  ",435],["T_PROTECTED","protected",436],["T_WHITESPACE"," ",436],["T_FUNCTION","function",436],["T_WHITESPACE"," ",436],["T_STRING","doFindChildrenRelativeDepth",436],"(",["T_ARRAY","array",436],["T_WHITESPACE"," ",436],["T_VARIABLE","$original",436],")",["T_WHITESPACE"," ",436],"{",["T_WHITESPACE","\n    ",436],["T_VARIABLE","$query",437],["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],["T_VARIABLE","$this",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","connection",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","select",437],"(",["T_VARIABLE","$this",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","table",437],",",["T_WHITESPACE"," ",437],["T_VARIABLE","$this",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","options",437],")",";",["T_WHITESPACE","\n    ",437],["T_VARIABLE","$query",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","addField",438],"(",["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","table",438],",",["T_WHITESPACE"," ",438],["T_CONSTANT_ENCAPSED_STRING","'depth'",438],")",";",["T_WHITESPACE","\n    ",438],["T_VARIABLE","$query",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","condition",439],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_name'",439],",",["T_WHITESPACE"," ",439],["T_VARIABLE","$original",439],"[",["T_CONSTANT_ENCAPSED_STRING","'menu_name'",439],"]",")",";",["T_WHITESPACE","\n    ",439],["T_VARIABLE","$query",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","orderBy",440],"(",["T_CONSTANT_ENCAPSED_STRING","'depth'",440],",",["T_WHITESPACE"," ",440],["T_CONSTANT_ENCAPSED_STRING","'DESC'",440],")",";",["T_WHITESPACE","\n    ",440],["T_VARIABLE","$query",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","range",441],"(",["T_LNUMBER","0",441],",",["T_WHITESPACE"," ",441],["T_LNUMBER","1",441],")",";",["T_WHITESPACE","\n\n    ",441],["T_FOR","for",443],["T_WHITESPACE"," ",443],"(",["T_VARIABLE","$i",443],["T_WHITESPACE"," ",443],"=",["T_WHITESPACE"," ",443],["T_LNUMBER","1",443],";",["T_WHITESPACE"," ",443],["T_VARIABLE","$i",443],["T_WHITESPACE"," ",443],["T_IS_SMALLER_OR_EQUAL","<=",443],["T_WHITESPACE"," ",443],["T_STATIC","static",443],["T_DOUBLE_COLON","::",443],["T_STRING","MAX_DEPTH",443],["T_WHITESPACE"," ",443],["T_BOOLEAN_AND","&&",443],["T_WHITESPACE"," ",443],["T_VARIABLE","$original",443],"[","\"",["T_ENCAPSED_AND_WHITESPACE","p",443],["T_VARIABLE","$i",443],"\"","]",";",["T_WHITESPACE"," ",443],["T_VARIABLE","$i",443],["T_INC","++",443],")",["T_WHITESPACE"," ",443],"{",["T_WHITESPACE","\n      ",443],["T_VARIABLE","$query",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","condition",444],"(","\"",["T_ENCAPSED_AND_WHITESPACE","p",444],["T_VARIABLE","$i",444],"\"",",",["T_WHITESPACE"," ",444],["T_VARIABLE","$original",444],"[","\"",["T_ENCAPSED_AND_WHITESPACE","p",444],["T_VARIABLE","$i",444],"\"","]",")",";",["T_WHITESPACE","\n    ",444],"}",["T_WHITESPACE","\n\n    ",445],["T_VARIABLE","$max_depth",447],["T_WHITESPACE"," ",447],"=",["T_WHITESPACE"," ",447],["T_VARIABLE","$this",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","safeExecuteSelect",447],"(",["T_VARIABLE","$query",447],")",["T_OBJECT_OPERATOR","->",447],["T_STRING","fetchField",447],"(",")",";",["T_WHITESPACE","\n\n    ",447],["T_RETURN","return",449],["T_WHITESPACE"," ",449],"(",["T_VARIABLE","$max_depth",449],["T_WHITESPACE"," ",449],">",["T_WHITESPACE"," ",449],["T_VARIABLE","$original",449],"[",["T_CONSTANT_ENCAPSED_STRING","'depth'",449],"]",")",["T_WHITESPACE"," ",449],"?",["T_WHITESPACE"," ",449],["T_VARIABLE","$max_depth",449],["T_WHITESPACE"," ",449],"-",["T_WHITESPACE"," ",449],["T_VARIABLE","$original",449],"[",["T_CONSTANT_ENCAPSED_STRING","'depth'",449],"]",["T_WHITESPACE"," ",449],":",["T_WHITESPACE"," ",449],["T_LNUMBER","0",449],";",["T_WHITESPACE","\n  ",449],"}",["T_WHITESPACE","\n\n  ",450],["T_DOC_COMMENT","\/**\n   * Sets the materialized path field values based on the parent.\n   *\n   * @param array $fields\n   *   The menu link.\n   * @param array|false $parent\n   *   The parent menu link.\n   * @param array $original\n   *   The original menu link.\n   *\/",452],["T_WHITESPACE","\n  ",461],["T_PROTECTED","protected",462],["T_WHITESPACE"," ",462],["T_FUNCTION","function",462],["T_WHITESPACE"," ",462],["T_STRING","setParents",462],"(",["T_ARRAY","array",462],["T_WHITESPACE"," ",462],"&",["T_VARIABLE","$fields",462],",",["T_WHITESPACE"," ",462],["T_VARIABLE","$parent",462],",",["T_WHITESPACE"," ",462],["T_ARRAY","array",462],["T_WHITESPACE"," ",462],["T_VARIABLE","$original",462],")",["T_WHITESPACE"," ",462],"{",["T_WHITESPACE","\n    ",462],["T_COMMENT","\/\/ Directly fill parents for top-level links.\n",463],["T_WHITESPACE","    ",464],["T_IF","if",464],["T_WHITESPACE"," ",464],"(",["T_EMPTY","empty",464],"(",["T_VARIABLE","$fields",464],"[",["T_CONSTANT_ENCAPSED_STRING","'parent'",464],"]",")",")",["T_WHITESPACE"," ",464],"{",["T_WHITESPACE","\n      ",464],["T_VARIABLE","$fields",465],"[",["T_CONSTANT_ENCAPSED_STRING","'p1'",465],"]",["T_WHITESPACE"," ",465],"=",["T_WHITESPACE"," ",465],["T_VARIABLE","$fields",465],"[",["T_CONSTANT_ENCAPSED_STRING","'mlid'",465],"]",";",["T_WHITESPACE","\n      ",465],["T_FOR","for",466],["T_WHITESPACE"," ",466],"(",["T_VARIABLE","$i",466],["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],["T_LNUMBER","2",466],";",["T_WHITESPACE"," ",466],["T_VARIABLE","$i",466],["T_WHITESPACE"," ",466],["T_IS_SMALLER_OR_EQUAL","<=",466],["T_WHITESPACE"," ",466],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","maxDepth",466],"(",")",";",["T_WHITESPACE"," ",466],["T_VARIABLE","$i",466],["T_INC","++",466],")",["T_WHITESPACE"," ",466],"{",["T_WHITESPACE","\n        ",466],["T_VARIABLE","$fields",467],"[","\"",["T_ENCAPSED_AND_WHITESPACE","p",467],["T_VARIABLE","$i",467],"\"","]",["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_LNUMBER","0",467],";",["T_WHITESPACE","\n      ",467],"}",["T_WHITESPACE","\n      ",468],["T_VARIABLE","$fields",469],"[",["T_CONSTANT_ENCAPSED_STRING","'depth'",469],"]",["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],["T_LNUMBER","1",469],";",["T_WHITESPACE","\n    ",469],"}",["T_WHITESPACE","\n    ",470],["T_COMMENT","\/\/ Otherwise, ensure that this link's depth is not beyond the maximum depth\n",471],["T_WHITESPACE","    ",472],["T_COMMENT","\/\/ and fill parents based on the parent link.\n",472],["T_WHITESPACE","    ",473],["T_ELSE","else",473],["T_WHITESPACE"," ",473],"{",["T_WHITESPACE","\n      ",473],["T_COMMENT","\/\/ @todo We want to also check $original['has_children'] here, but that\n",474],["T_WHITESPACE","      ",475],["T_COMMENT","\/\/   will be 0 even if there are children if those are not enabled.\n",475],["T_WHITESPACE","      ",476],["T_COMMENT","\/\/   has_children is really just the rendering hint. So, we either need\n",476],["T_WHITESPACE","      ",477],["T_COMMENT","\/\/   to define another column (has_any_children), or do the extra query.\n",477],["T_WHITESPACE","      ",478],["T_COMMENT","\/\/   https:\/\/www.drupal.org\/node\/2302149\n",478],["T_WHITESPACE","      ",479],["T_IF","if",479],["T_WHITESPACE"," ",479],"(",["T_VARIABLE","$original",479],")",["T_WHITESPACE"," ",479],"{",["T_WHITESPACE","\n        ",479],["T_VARIABLE","$limit",480],["T_WHITESPACE"," ",480],"=",["T_WHITESPACE"," ",480],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","maxDepth",480],"(",")",["T_WHITESPACE"," ",480],"-",["T_WHITESPACE"," ",480],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","doFindChildrenRelativeDepth",480],"(",["T_VARIABLE","$original",480],")",["T_WHITESPACE"," ",480],"-",["T_WHITESPACE"," ",480],["T_LNUMBER","1",480],";",["T_WHITESPACE","\n      ",480],"}",["T_WHITESPACE","\n      ",481],["T_ELSE","else",482],["T_WHITESPACE"," ",482],"{",["T_WHITESPACE","\n        ",482],["T_VARIABLE","$limit",483],["T_WHITESPACE"," ",483],"=",["T_WHITESPACE"," ",483],["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","maxDepth",483],"(",")",["T_WHITESPACE"," ",483],"-",["T_WHITESPACE"," ",483],["T_LNUMBER","1",483],";",["T_WHITESPACE","\n      ",483],"}",["T_WHITESPACE","\n      ",484],["T_IF","if",485],["T_WHITESPACE"," ",485],"(",["T_VARIABLE","$parent",485],"[",["T_CONSTANT_ENCAPSED_STRING","'depth'",485],"]",["T_WHITESPACE"," ",485],">",["T_WHITESPACE"," ",485],["T_VARIABLE","$limit",485],")",["T_WHITESPACE"," ",485],"{",["T_WHITESPACE","\n        ",485],["T_THROW","throw",486],["T_WHITESPACE"," ",486],["T_NEW","new",486],["T_WHITESPACE"," ",486],["T_STRING","PluginException",486],"(","\"",["T_ENCAPSED_AND_WHITESPACE","The link with ID ",486],["T_CURLY_OPEN","{",486],["T_VARIABLE","$fields",486],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",486],"]","}",["T_ENCAPSED_AND_WHITESPACE"," or its children exceeded the maximum depth of ",486],["T_CURLY_OPEN","{",486],["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","maxDepth",486],"(",")","}","\"",")",";",["T_WHITESPACE","\n      ",486],"}",["T_WHITESPACE","\n      ",487],["T_VARIABLE","$fields",488],"[",["T_CONSTANT_ENCAPSED_STRING","'depth'",488],"]",["T_WHITESPACE"," ",488],"=",["T_WHITESPACE"," ",488],["T_VARIABLE","$parent",488],"[",["T_CONSTANT_ENCAPSED_STRING","'depth'",488],"]",["T_WHITESPACE"," ",488],"+",["T_WHITESPACE"," ",488],["T_LNUMBER","1",488],";",["T_WHITESPACE","\n      ",488],["T_VARIABLE","$i",489],["T_WHITESPACE"," ",489],"=",["T_WHITESPACE"," ",489],["T_LNUMBER","1",489],";",["T_WHITESPACE","\n      ",489],["T_WHILE","while",490],["T_WHITESPACE"," ",490],"(",["T_VARIABLE","$i",490],["T_WHITESPACE"," ",490],"<",["T_WHITESPACE"," ",490],["T_VARIABLE","$fields",490],"[",["T_CONSTANT_ENCAPSED_STRING","'depth'",490],"]",")",["T_WHITESPACE"," ",490],"{",["T_WHITESPACE","\n        ",490],["T_VARIABLE","$p",491],["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],["T_CONSTANT_ENCAPSED_STRING","'p'",491],["T_WHITESPACE"," ",491],".",["T_WHITESPACE"," ",491],["T_VARIABLE","$i",491],["T_INC","++",491],";",["T_WHITESPACE","\n        ",491],["T_VARIABLE","$fields",492],"[",["T_VARIABLE","$p",492],"]",["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_VARIABLE","$parent",492],"[",["T_VARIABLE","$p",492],"]",";",["T_WHITESPACE","\n      ",492],"}",["T_WHITESPACE","\n      ",493],["T_VARIABLE","$p",494],["T_WHITESPACE"," ",494],"=",["T_WHITESPACE"," ",494],["T_CONSTANT_ENCAPSED_STRING","'p'",494],["T_WHITESPACE"," ",494],".",["T_WHITESPACE"," ",494],["T_VARIABLE","$i",494],["T_INC","++",494],";",["T_WHITESPACE","\n      ",494],["T_COMMENT","\/\/ The parent (p1 - p9) corresponding to the depth always equals the mlid.\n",495],["T_WHITESPACE","      ",496],["T_VARIABLE","$fields",496],"[",["T_VARIABLE","$p",496],"]",["T_WHITESPACE"," ",496],"=",["T_WHITESPACE"," ",496],["T_VARIABLE","$fields",496],"[",["T_CONSTANT_ENCAPSED_STRING","'mlid'",496],"]",";",["T_WHITESPACE","\n      ",496],["T_WHILE","while",497],["T_WHITESPACE"," ",497],"(",["T_VARIABLE","$i",497],["T_WHITESPACE"," ",497],["T_IS_SMALLER_OR_EQUAL","<=",497],["T_WHITESPACE"," ",497],["T_STATIC","static",497],["T_DOUBLE_COLON","::",497],["T_STRING","MAX_DEPTH",497],")",["T_WHITESPACE"," ",497],"{",["T_WHITESPACE","\n        ",497],["T_VARIABLE","$p",498],["T_WHITESPACE"," ",498],"=",["T_WHITESPACE"," ",498],["T_CONSTANT_ENCAPSED_STRING","'p'",498],["T_WHITESPACE"," ",498],".",["T_WHITESPACE"," ",498],["T_VARIABLE","$i",498],["T_INC","++",498],";",["T_WHITESPACE","\n        ",498],["T_VARIABLE","$fields",499],"[",["T_VARIABLE","$p",499],"]",["T_WHITESPACE"," ",499],"=",["T_WHITESPACE"," ",499],["T_LNUMBER","0",499],";",["T_WHITESPACE","\n      ",499],"}",["T_WHITESPACE","\n    ",500],"}",["T_WHITESPACE","\n  ",501],"}",["T_WHITESPACE","\n\n  ",502],["T_DOC_COMMENT","\/**\n   * Re-parents a link's children when the link itself is moved.\n   *\n   * @param array $fields\n   *   The changed menu link.\n   * @param array $original\n   *   The original menu link.\n   *\/",504],["T_WHITESPACE","\n  ",511],["T_PROTECTED","protected",512],["T_WHITESPACE"," ",512],["T_FUNCTION","function",512],["T_WHITESPACE"," ",512],["T_STRING","moveChildren",512],"(",["T_VARIABLE","$fields",512],",",["T_WHITESPACE"," ",512],["T_VARIABLE","$original",512],")",["T_WHITESPACE"," ",512],"{",["T_WHITESPACE","\n    ",512],["T_VARIABLE","$query",513],["T_WHITESPACE"," ",513],"=",["T_WHITESPACE"," ",513],["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","connection",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","update",513],"(",["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","table",513],",",["T_WHITESPACE"," ",513],["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","options",513],")",";",["T_WHITESPACE","\n\n    ",513],["T_VARIABLE","$query",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","fields",515],"(",["T_ARRAY","array",515],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_name'",515],["T_WHITESPACE"," ",515],["T_DOUBLE_ARROW","=>",515],["T_WHITESPACE"," ",515],["T_VARIABLE","$fields",515],"[",["T_CONSTANT_ENCAPSED_STRING","'menu_name'",515],"]",")",")",";",["T_WHITESPACE","\n\n    ",515],["T_VARIABLE","$expressions",517],["T_WHITESPACE"," ",517],"=",["T_WHITESPACE"," ",517],["T_ARRAY","array",517],"(",")",";",["T_WHITESPACE","\n    ",517],["T_FOR","for",518],["T_WHITESPACE"," ",518],"(",["T_VARIABLE","$i",518],["T_WHITESPACE"," ",518],"=",["T_WHITESPACE"," ",518],["T_LNUMBER","1",518],";",["T_WHITESPACE"," ",518],["T_VARIABLE","$i",518],["T_WHITESPACE"," ",518],["T_IS_SMALLER_OR_EQUAL","<=",518],["T_WHITESPACE"," ",518],["T_VARIABLE","$fields",518],"[",["T_CONSTANT_ENCAPSED_STRING","'depth'",518],"]",";",["T_WHITESPACE"," ",518],["T_VARIABLE","$i",518],["T_INC","++",518],")",["T_WHITESPACE"," ",518],"{",["T_WHITESPACE","\n      ",518],["T_VARIABLE","$expressions",519],"[","]",["T_WHITESPACE"," ",519],"=",["T_WHITESPACE"," ",519],["T_ARRAY","array",519],"(","\"",["T_ENCAPSED_AND_WHITESPACE","p",519],["T_VARIABLE","$i",519],"\"",",",["T_WHITESPACE"," ",519],"\"",["T_ENCAPSED_AND_WHITESPACE",":p_",519],["T_VARIABLE","$i",519],"\"",",",["T_WHITESPACE"," ",519],["T_ARRAY","array",519],"(","\"",["T_ENCAPSED_AND_WHITESPACE",":p_",519],["T_VARIABLE","$i",519],"\"",["T_WHITESPACE"," ",519],["T_DOUBLE_ARROW","=>",519],["T_WHITESPACE"," ",519],["T_VARIABLE","$fields",519],"[","\"",["T_ENCAPSED_AND_WHITESPACE","p",519],["T_VARIABLE","$i",519],"\"","]",")",")",";",["T_WHITESPACE","\n    ",519],"}",["T_WHITESPACE","\n    ",520],["T_VARIABLE","$j",521],["T_WHITESPACE"," ",521],"=",["T_WHITESPACE"," ",521],["T_VARIABLE","$original",521],"[",["T_CONSTANT_ENCAPSED_STRING","'depth'",521],"]",["T_WHITESPACE"," ",521],"+",["T_WHITESPACE"," ",521],["T_LNUMBER","1",521],";",["T_WHITESPACE","\n    ",521],["T_WHILE","while",522],["T_WHITESPACE"," ",522],"(",["T_VARIABLE","$i",522],["T_WHITESPACE"," ",522],["T_IS_SMALLER_OR_EQUAL","<=",522],["T_WHITESPACE"," ",522],["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","maxDepth",522],"(",")",["T_WHITESPACE"," ",522],["T_BOOLEAN_AND","&&",522],["T_WHITESPACE"," ",522],["T_VARIABLE","$j",522],["T_WHITESPACE"," ",522],["T_IS_SMALLER_OR_EQUAL","<=",522],["T_WHITESPACE"," ",522],["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","maxDepth",522],"(",")",")",["T_WHITESPACE"," ",522],"{",["T_WHITESPACE","\n      ",522],["T_VARIABLE","$expressions",523],"[","]",["T_WHITESPACE"," ",523],"=",["T_WHITESPACE"," ",523],["T_ARRAY","array",523],"(",["T_CONSTANT_ENCAPSED_STRING","'p'",523],["T_WHITESPACE"," ",523],".",["T_WHITESPACE"," ",523],["T_VARIABLE","$i",523],["T_INC","++",523],",",["T_WHITESPACE"," ",523],["T_CONSTANT_ENCAPSED_STRING","'p'",523],["T_WHITESPACE"," ",523],".",["T_WHITESPACE"," ",523],["T_VARIABLE","$j",523],["T_INC","++",523],",",["T_WHITESPACE"," ",523],["T_ARRAY","array",523],"(",")",")",";",["T_WHITESPACE","\n    ",523],"}",["T_WHITESPACE","\n    ",524],["T_WHILE","while",525],["T_WHITESPACE"," ",525],"(",["T_VARIABLE","$i",525],["T_WHITESPACE"," ",525],["T_IS_SMALLER_OR_EQUAL","<=",525],["T_WHITESPACE"," ",525],["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","maxDepth",525],"(",")",")",["T_WHITESPACE"," ",525],"{",["T_WHITESPACE","\n      ",525],["T_VARIABLE","$expressions",526],"[","]",["T_WHITESPACE"," ",526],"=",["T_WHITESPACE"," ",526],["T_ARRAY","array",526],"(",["T_CONSTANT_ENCAPSED_STRING","'p'",526],["T_WHITESPACE"," ",526],".",["T_WHITESPACE"," ",526],["T_VARIABLE","$i",526],["T_INC","++",526],",",["T_WHITESPACE"," ",526],["T_LNUMBER","0",526],",",["T_WHITESPACE"," ",526],["T_ARRAY","array",526],"(",")",")",";",["T_WHITESPACE","\n    ",526],"}",["T_WHITESPACE","\n\n    ",527],["T_VARIABLE","$shift",529],["T_WHITESPACE"," ",529],"=",["T_WHITESPACE"," ",529],["T_VARIABLE","$fields",529],"[",["T_CONSTANT_ENCAPSED_STRING","'depth'",529],"]",["T_WHITESPACE"," ",529],"-",["T_WHITESPACE"," ",529],["T_VARIABLE","$original",529],"[",["T_CONSTANT_ENCAPSED_STRING","'depth'",529],"]",";",["T_WHITESPACE","\n    ",529],["T_IF","if",530],["T_WHITESPACE"," ",530],"(",["T_VARIABLE","$shift",530],["T_WHITESPACE"," ",530],">",["T_WHITESPACE"," ",530],["T_LNUMBER","0",530],")",["T_WHITESPACE"," ",530],"{",["T_WHITESPACE","\n      ",530],["T_COMMENT","\/\/ The order of expressions must be reversed so the new values don't\n",531],["T_WHITESPACE","      ",532],["T_COMMENT","\/\/ overwrite the old ones before they can be used because \"Single-table\n",532],["T_WHITESPACE","      ",533],["T_COMMENT","\/\/ UPDATE assignments are generally evaluated from left to right\".\n",533],["T_WHITESPACE","      ",534],["T_COMMENT","\/\/ @see http:\/\/dev.mysql.com\/doc\/refman\/5.0\/en\/update.html\n",534],["T_WHITESPACE","      ",535],["T_VARIABLE","$expressions",535],["T_WHITESPACE"," ",535],"=",["T_WHITESPACE"," ",535],["T_STRING","array_reverse",535],"(",["T_VARIABLE","$expressions",535],")",";",["T_WHITESPACE","\n    ",535],"}",["T_WHITESPACE","\n    ",536],["T_FOREACH","foreach",537],["T_WHITESPACE"," ",537],"(",["T_VARIABLE","$expressions",537],["T_WHITESPACE"," ",537],["T_AS","as",537],["T_WHITESPACE"," ",537],["T_VARIABLE","$expression",537],")",["T_WHITESPACE"," ",537],"{",["T_WHITESPACE","\n      ",537],["T_VARIABLE","$query",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","expression",538],"(",["T_VARIABLE","$expression",538],"[",["T_LNUMBER","0",538],"]",",",["T_WHITESPACE"," ",538],["T_VARIABLE","$expression",538],"[",["T_LNUMBER","1",538],"]",",",["T_WHITESPACE"," ",538],["T_VARIABLE","$expression",538],"[",["T_LNUMBER","2",538],"]",")",";",["T_WHITESPACE","\n    ",538],"}",["T_WHITESPACE","\n\n    ",539],["T_VARIABLE","$query",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","expression",541],"(",["T_CONSTANT_ENCAPSED_STRING","'depth'",541],",",["T_WHITESPACE"," ",541],["T_CONSTANT_ENCAPSED_STRING","'depth + :depth'",541],",",["T_WHITESPACE"," ",541],["T_ARRAY","array",541],"(",["T_CONSTANT_ENCAPSED_STRING","':depth'",541],["T_WHITESPACE"," ",541],["T_DOUBLE_ARROW","=>",541],["T_WHITESPACE"," ",541],["T_VARIABLE","$shift",541],")",")",";",["T_WHITESPACE","\n    ",541],["T_VARIABLE","$query",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","condition",542],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_name'",542],",",["T_WHITESPACE"," ",542],["T_VARIABLE","$original",542],"[",["T_CONSTANT_ENCAPSED_STRING","'menu_name'",542],"]",")",";",["T_WHITESPACE","\n\n    ",542],["T_FOR","for",544],["T_WHITESPACE"," ",544],"(",["T_VARIABLE","$i",544],["T_WHITESPACE"," ",544],"=",["T_WHITESPACE"," ",544],["T_LNUMBER","1",544],";",["T_WHITESPACE"," ",544],["T_VARIABLE","$i",544],["T_WHITESPACE"," ",544],["T_IS_SMALLER_OR_EQUAL","<=",544],["T_WHITESPACE"," ",544],["T_VARIABLE","$this",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","maxDepth",544],"(",")",["T_WHITESPACE"," ",544],["T_BOOLEAN_AND","&&",544],["T_WHITESPACE"," ",544],["T_VARIABLE","$original",544],"[","\"",["T_ENCAPSED_AND_WHITESPACE","p",544],["T_VARIABLE","$i",544],"\"","]",";",["T_WHITESPACE"," ",544],["T_VARIABLE","$i",544],["T_INC","++",544],")",["T_WHITESPACE"," ",544],"{",["T_WHITESPACE","\n      ",544],["T_VARIABLE","$query",545],["T_OBJECT_OPERATOR","->",545],["T_STRING","condition",545],"(","\"",["T_ENCAPSED_AND_WHITESPACE","p",545],["T_VARIABLE","$i",545],"\"",",",["T_WHITESPACE"," ",545],["T_VARIABLE","$original",545],"[","\"",["T_ENCAPSED_AND_WHITESPACE","p",545],["T_VARIABLE","$i",545],"\"","]",")",";",["T_WHITESPACE","\n    ",545],"}",["T_WHITESPACE","\n\n    ",546],["T_VARIABLE","$query",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","execute",548],"(",")",";",["T_WHITESPACE","\n  ",548],"}",["T_WHITESPACE","\n\n  ",549],["T_DOC_COMMENT","\/**\n   * Loads the parent definition if it exists.\n   *\n   * @param array $link\n   *   The link definition to find the parent of.\n   * @param array|false $original\n   *   The original link that might be used to find the parent if the parent\n   *   is not set on the $link, or FALSE if the original could not be loaded.\n   *\n   * @return array|false\n   *   Returns a definition array, or FALSE if no parent was found.\n   *\/",551],["T_WHITESPACE","\n  ",562],["T_PROTECTED","protected",563],["T_WHITESPACE"," ",563],["T_FUNCTION","function",563],["T_WHITESPACE"," ",563],["T_STRING","findParent",563],"(",["T_VARIABLE","$link",563],",",["T_WHITESPACE"," ",563],["T_VARIABLE","$original",563],")",["T_WHITESPACE"," ",563],"{",["T_WHITESPACE","\n    ",563],["T_VARIABLE","$parent",564],["T_WHITESPACE"," ",564],"=",["T_WHITESPACE"," ",564],["T_STRING","FALSE",564],";",["T_WHITESPACE","\n\n    ",564],["T_COMMENT","\/\/ This item is explicitly top-level, skip the rest of the parenting.\n",566],["T_WHITESPACE","    ",567],["T_IF","if",567],["T_WHITESPACE"," ",567],"(",["T_ISSET","isset",567],"(",["T_VARIABLE","$link",567],"[",["T_CONSTANT_ENCAPSED_STRING","'parent'",567],"]",")",["T_WHITESPACE"," ",567],["T_BOOLEAN_AND","&&",567],["T_WHITESPACE"," ",567],["T_EMPTY","empty",567],"(",["T_VARIABLE","$link",567],"[",["T_CONSTANT_ENCAPSED_STRING","'parent'",567],"]",")",")",["T_WHITESPACE"," ",567],"{",["T_WHITESPACE","\n      ",567],["T_RETURN","return",568],["T_WHITESPACE"," ",568],["T_VARIABLE","$parent",568],";",["T_WHITESPACE","\n    ",568],"}",["T_WHITESPACE","\n\n    ",569],["T_COMMENT","\/\/ If we have a parent link ID, try to use that.\n",571],["T_WHITESPACE","    ",572],["T_VARIABLE","$candidates",572],["T_WHITESPACE"," ",572],"=",["T_WHITESPACE"," ",572],["T_ARRAY","array",572],"(",")",";",["T_WHITESPACE","\n    ",572],["T_IF","if",573],["T_WHITESPACE"," ",573],"(",["T_ISSET","isset",573],"(",["T_VARIABLE","$link",573],"[",["T_CONSTANT_ENCAPSED_STRING","'parent'",573],"]",")",")",["T_WHITESPACE"," ",573],"{",["T_WHITESPACE","\n      ",573],["T_VARIABLE","$candidates",574],"[","]",["T_WHITESPACE"," ",574],"=",["T_WHITESPACE"," ",574],["T_VARIABLE","$link",574],"[",["T_CONSTANT_ENCAPSED_STRING","'parent'",574],"]",";",["T_WHITESPACE","\n    ",574],"}",["T_WHITESPACE","\n    ",575],["T_ELSEIF","elseif",576],["T_WHITESPACE"," ",576],"(","!",["T_EMPTY","empty",576],"(",["T_VARIABLE","$original",576],"[",["T_CONSTANT_ENCAPSED_STRING","'parent'",576],"]",")",["T_WHITESPACE"," ",576],["T_BOOLEAN_AND","&&",576],["T_WHITESPACE"," ",576],["T_VARIABLE","$link",576],"[",["T_CONSTANT_ENCAPSED_STRING","'menu_name'",576],"]",["T_WHITESPACE"," ",576],["T_IS_EQUAL","==",576],["T_WHITESPACE"," ",576],["T_VARIABLE","$original",576],"[",["T_CONSTANT_ENCAPSED_STRING","'menu_name'",576],"]",")",["T_WHITESPACE"," ",576],"{",["T_WHITESPACE","\n      ",576],["T_COMMENT","\/\/ Otherwise, fall back to the original parent.\n",577],["T_WHITESPACE","      ",578],["T_VARIABLE","$candidates",578],"[","]",["T_WHITESPACE"," ",578],"=",["T_WHITESPACE"," ",578],["T_VARIABLE","$original",578],"[",["T_CONSTANT_ENCAPSED_STRING","'parent'",578],"]",";",["T_WHITESPACE","\n    ",578],"}",["T_WHITESPACE","\n\n    ",579],["T_FOREACH","foreach",581],["T_WHITESPACE"," ",581],"(",["T_VARIABLE","$candidates",581],["T_WHITESPACE"," ",581],["T_AS","as",581],["T_WHITESPACE"," ",581],["T_VARIABLE","$id",581],")",["T_WHITESPACE"," ",581],"{",["T_WHITESPACE","\n      ",581],["T_VARIABLE","$parent",582],["T_WHITESPACE"," ",582],"=",["T_WHITESPACE"," ",582],["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","loadFull",582],"(",["T_VARIABLE","$id",582],")",";",["T_WHITESPACE","\n      ",582],["T_IF","if",583],["T_WHITESPACE"," ",583],"(",["T_VARIABLE","$parent",583],")",["T_WHITESPACE"," ",583],"{",["T_WHITESPACE","\n        ",583],["T_BREAK","break",584],";",["T_WHITESPACE","\n      ",584],"}",["T_WHITESPACE","\n    ",585],"}",["T_WHITESPACE","\n    ",586],["T_RETURN","return",587],["T_WHITESPACE"," ",587],["T_VARIABLE","$parent",587],";",["T_WHITESPACE","\n  ",587],"}",["T_WHITESPACE","\n\n  ",588],["T_DOC_COMMENT","\/**\n   * Sets has_children for the link's parent if it has visible children.\n   *\n   * @param array $link\n   *   The link to get a parent ID from.\n   *\/",590],["T_WHITESPACE","\n  ",595],["T_PROTECTED","protected",596],["T_WHITESPACE"," ",596],["T_FUNCTION","function",596],["T_WHITESPACE"," ",596],["T_STRING","updateParentalStatus",596],"(",["T_ARRAY","array",596],["T_WHITESPACE"," ",596],["T_VARIABLE","$link",596],")",["T_WHITESPACE"," ",596],"{",["T_WHITESPACE","\n    ",596],["T_COMMENT","\/\/ If parent is empty, there is nothing to update.\n",597],["T_WHITESPACE","    ",598],["T_IF","if",598],["T_WHITESPACE"," ",598],"(","!",["T_EMPTY","empty",598],"(",["T_VARIABLE","$link",598],"[",["T_CONSTANT_ENCAPSED_STRING","'parent'",598],"]",")",")",["T_WHITESPACE"," ",598],"{",["T_WHITESPACE","\n      ",598],["T_COMMENT","\/\/ Check if at least one visible child exists in the table.\n",599],["T_WHITESPACE","      ",600],["T_VARIABLE","$query",600],["T_WHITESPACE"," ",600],"=",["T_WHITESPACE"," ",600],["T_VARIABLE","$this",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","connection",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","select",600],"(",["T_VARIABLE","$this",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","table",600],",",["T_WHITESPACE"," ",600],["T_VARIABLE","$this",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","options",600],")",";",["T_WHITESPACE","\n      ",600],["T_VARIABLE","$query",601],["T_OBJECT_OPERATOR","->",601],["T_STRING","addExpression",601],"(",["T_CONSTANT_ENCAPSED_STRING","'1'",601],")",";",["T_WHITESPACE","\n      ",601],["T_VARIABLE","$query",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","range",602],"(",["T_LNUMBER","0",602],",",["T_WHITESPACE"," ",602],["T_LNUMBER","1",602],")",";",["T_WHITESPACE","\n      ",602],["T_VARIABLE","$query",603],["T_WHITESPACE","\n        ",603],["T_OBJECT_OPERATOR","->",604],["T_STRING","condition",604],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_name'",604],",",["T_WHITESPACE"," ",604],["T_VARIABLE","$link",604],"[",["T_CONSTANT_ENCAPSED_STRING","'menu_name'",604],"]",")",["T_WHITESPACE","\n        ",604],["T_OBJECT_OPERATOR","->",605],["T_STRING","condition",605],"(",["T_CONSTANT_ENCAPSED_STRING","'parent'",605],",",["T_WHITESPACE"," ",605],["T_VARIABLE","$link",605],"[",["T_CONSTANT_ENCAPSED_STRING","'parent'",605],"]",")",["T_WHITESPACE","\n        ",605],["T_OBJECT_OPERATOR","->",606],["T_STRING","condition",606],"(",["T_CONSTANT_ENCAPSED_STRING","'enabled'",606],",",["T_WHITESPACE"," ",606],["T_LNUMBER","1",606],")",";",["T_WHITESPACE","\n\n      ",606],["T_VARIABLE","$parent_has_children",608],["T_WHITESPACE"," ",608],"=",["T_WHITESPACE"," ",608],"(",["T_BOOL_CAST","(bool)",608],["T_WHITESPACE"," ",608],["T_VARIABLE","$query",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","execute",608],"(",")",["T_OBJECT_OPERATOR","->",608],["T_STRING","fetchField",608],"(",")",")",["T_WHITESPACE"," ",608],"?",["T_WHITESPACE"," ",608],["T_LNUMBER","1",608],["T_WHITESPACE"," ",608],":",["T_WHITESPACE"," ",608],["T_LNUMBER","0",608],";",["T_WHITESPACE","\n      ",608],["T_VARIABLE","$this",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","connection",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","update",609],"(",["T_VARIABLE","$this",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","table",609],",",["T_WHITESPACE"," ",609],["T_VARIABLE","$this",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","options",609],")",["T_WHITESPACE","\n        ",609],["T_OBJECT_OPERATOR","->",610],["T_STRING","fields",610],"(",["T_ARRAY","array",610],"(",["T_CONSTANT_ENCAPSED_STRING","'has_children'",610],["T_WHITESPACE"," ",610],["T_DOUBLE_ARROW","=>",610],["T_WHITESPACE"," ",610],["T_VARIABLE","$parent_has_children",610],")",")",["T_WHITESPACE","\n        ",610],["T_OBJECT_OPERATOR","->",611],["T_STRING","condition",611],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",611],",",["T_WHITESPACE"," ",611],["T_VARIABLE","$link",611],"[",["T_CONSTANT_ENCAPSED_STRING","'parent'",611],"]",")",["T_WHITESPACE","\n        ",611],["T_OBJECT_OPERATOR","->",612],["T_STRING","execute",612],"(",")",";",["T_WHITESPACE","\n    ",612],"}",["T_WHITESPACE","\n  ",613],"}",["T_WHITESPACE","\n\n  ",614],["T_DOC_COMMENT","\/**\n   * Prepares a link by unserializing values and saving the definition.\n   *\n   * @param array $link\n   *   The data loaded in the query.\n   * @param bool $intersect\n   *   If TRUE, filter out values that are not part of the actual definition.\n   *\n   * @return array\n   *   The prepared link data.\n   *\/",616],["T_WHITESPACE","\n  ",626],["T_PROTECTED","protected",627],["T_WHITESPACE"," ",627],["T_FUNCTION","function",627],["T_WHITESPACE"," ",627],["T_STRING","prepareLink",627],"(",["T_ARRAY","array",627],["T_WHITESPACE"," ",627],["T_VARIABLE","$link",627],",",["T_WHITESPACE"," ",627],["T_VARIABLE","$intersect",627],["T_WHITESPACE"," ",627],"=",["T_WHITESPACE"," ",627],["T_STRING","FALSE",627],")",["T_WHITESPACE"," ",627],"{",["T_WHITESPACE","\n    ",627],["T_FOREACH","foreach",628],["T_WHITESPACE"," ",628],"(",["T_VARIABLE","$this",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","serializedFields",628],"(",")",["T_WHITESPACE"," ",628],["T_AS","as",628],["T_WHITESPACE"," ",628],["T_VARIABLE","$name",628],")",["T_WHITESPACE"," ",628],"{",["T_WHITESPACE","\n      ",628],["T_IF","if",629],["T_WHITESPACE"," ",629],"(",["T_ISSET","isset",629],"(",["T_VARIABLE","$link",629],"[",["T_VARIABLE","$name",629],"]",")",")",["T_WHITESPACE"," ",629],"{",["T_WHITESPACE","\n        ",629],["T_VARIABLE","$link",630],"[",["T_VARIABLE","$name",630],"]",["T_WHITESPACE"," ",630],"=",["T_WHITESPACE"," ",630],["T_STRING","unserialize",630],"(",["T_VARIABLE","$link",630],"[",["T_VARIABLE","$name",630],"]",")",";",["T_WHITESPACE","\n      ",630],"}",["T_WHITESPACE","\n    ",631],"}",["T_WHITESPACE","\n    ",632],["T_IF","if",633],["T_WHITESPACE"," ",633],"(",["T_VARIABLE","$intersect",633],")",["T_WHITESPACE"," ",633],"{",["T_WHITESPACE","\n      ",633],["T_VARIABLE","$link",634],["T_WHITESPACE"," ",634],"=",["T_WHITESPACE"," ",634],["T_STRING","array_intersect_key",634],"(",["T_VARIABLE","$link",634],",",["T_WHITESPACE"," ",634],["T_STRING","array_flip",634],"(",["T_VARIABLE","$this",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","definitionFields",634],"(",")",")",")",";",["T_WHITESPACE","\n    ",634],"}",["T_WHITESPACE","\n    ",635],["T_VARIABLE","$this",636],["T_OBJECT_OPERATOR","->",636],["T_STRING","definitions",636],"[",["T_VARIABLE","$link",636],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",636],"]","]",["T_WHITESPACE"," ",636],"=",["T_WHITESPACE"," ",636],["T_VARIABLE","$link",636],";",["T_WHITESPACE","\n    ",636],["T_RETURN","return",637],["T_WHITESPACE"," ",637],["T_VARIABLE","$link",637],";",["T_WHITESPACE","\n  ",637],"}",["T_WHITESPACE","\n\n  ",638],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",640],["T_WHITESPACE","\n  ",642],["T_PUBLIC","public",643],["T_WHITESPACE"," ",643],["T_FUNCTION","function",643],["T_WHITESPACE"," ",643],["T_STRING","loadByProperties",643],"(",["T_ARRAY","array",643],["T_WHITESPACE"," ",643],["T_VARIABLE","$properties",643],")",["T_WHITESPACE"," ",643],"{",["T_WHITESPACE","\n    ",643],["T_VARIABLE","$query",644],["T_WHITESPACE"," ",644],"=",["T_WHITESPACE"," ",644],["T_VARIABLE","$this",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","connection",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","select",644],"(",["T_VARIABLE","$this",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","table",644],",",["T_WHITESPACE"," ",644],["T_VARIABLE","$this",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","options",644],")",";",["T_WHITESPACE","\n    ",644],["T_VARIABLE","$query",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","fields",645],"(",["T_VARIABLE","$this",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","table",645],",",["T_WHITESPACE"," ",645],["T_VARIABLE","$this",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","definitionFields",645],"(",")",")",";",["T_WHITESPACE","\n    ",645],["T_FOREACH","foreach",646],["T_WHITESPACE"," ",646],"(",["T_VARIABLE","$properties",646],["T_WHITESPACE"," ",646],["T_AS","as",646],["T_WHITESPACE"," ",646],["T_VARIABLE","$name",646],["T_WHITESPACE"," ",646],["T_DOUBLE_ARROW","=>",646],["T_WHITESPACE"," ",646],["T_VARIABLE","$value",646],")",["T_WHITESPACE"," ",646],"{",["T_WHITESPACE","\n      ",646],["T_IF","if",647],["T_WHITESPACE"," ",647],"(","!",["T_STRING","in_array",647],"(",["T_VARIABLE","$name",647],",",["T_WHITESPACE"," ",647],["T_VARIABLE","$this",647],["T_OBJECT_OPERATOR","->",647],["T_STRING","definitionFields",647],"(",")",",",["T_WHITESPACE"," ",647],["T_STRING","TRUE",647],")",")",["T_WHITESPACE"," ",647],"{",["T_WHITESPACE","\n        ",647],["T_VARIABLE","$fields",648],["T_WHITESPACE"," ",648],"=",["T_WHITESPACE"," ",648],["T_STRING","implode",648],"(",["T_CONSTANT_ENCAPSED_STRING","', '",648],",",["T_WHITESPACE"," ",648],["T_VARIABLE","$this",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","definitionFields",648],"(",")",")",";",["T_WHITESPACE","\n        ",648],["T_THROW","throw",649],["T_WHITESPACE"," ",649],["T_NEW","new",649],["T_WHITESPACE"," ",649],["T_NS_SEPARATOR","\\",649],["T_STRING","InvalidArgumentException",649],"(","\"",["T_ENCAPSED_AND_WHITESPACE","An invalid property name, ",649],["T_VARIABLE","$name",649],["T_ENCAPSED_AND_WHITESPACE"," was specified. Allowed property names are: ",649],["T_VARIABLE","$fields",649],["T_ENCAPSED_AND_WHITESPACE",".",649],"\"",")",";",["T_WHITESPACE","\n      ",649],"}",["T_WHITESPACE","\n      ",650],["T_VARIABLE","$query",651],["T_OBJECT_OPERATOR","->",651],["T_STRING","condition",651],"(",["T_VARIABLE","$name",651],",",["T_WHITESPACE"," ",651],["T_VARIABLE","$value",651],")",";",["T_WHITESPACE","\n    ",651],"}",["T_WHITESPACE","\n    ",652],["T_VARIABLE","$loaded",653],["T_WHITESPACE"," ",653],"=",["T_WHITESPACE"," ",653],["T_VARIABLE","$this",653],["T_OBJECT_OPERATOR","->",653],["T_STRING","safeExecuteSelect",653],"(",["T_VARIABLE","$query",653],")",["T_OBJECT_OPERATOR","->",653],["T_STRING","fetchAllAssoc",653],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",653],",",["T_WHITESPACE"," ",653],["T_NS_SEPARATOR","\\",653],["T_STRING","PDO",653],["T_DOUBLE_COLON","::",653],["T_STRING","FETCH_ASSOC",653],")",";",["T_WHITESPACE","\n    ",653],["T_FOREACH","foreach",654],["T_WHITESPACE"," ",654],"(",["T_VARIABLE","$loaded",654],["T_WHITESPACE"," ",654],["T_AS","as",654],["T_WHITESPACE"," ",654],["T_VARIABLE","$id",654],["T_WHITESPACE"," ",654],["T_DOUBLE_ARROW","=>",654],["T_WHITESPACE"," ",654],["T_VARIABLE","$link",654],")",["T_WHITESPACE"," ",654],"{",["T_WHITESPACE","\n      ",654],["T_VARIABLE","$loaded",655],"[",["T_VARIABLE","$id",655],"]",["T_WHITESPACE"," ",655],"=",["T_WHITESPACE"," ",655],["T_VARIABLE","$this",655],["T_OBJECT_OPERATOR","->",655],["T_STRING","prepareLink",655],"(",["T_VARIABLE","$link",655],")",";",["T_WHITESPACE","\n    ",655],"}",["T_WHITESPACE","\n    ",656],["T_RETURN","return",657],["T_WHITESPACE"," ",657],["T_VARIABLE","$loaded",657],";",["T_WHITESPACE","\n  ",657],"}",["T_WHITESPACE","\n\n  ",658],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",660],["T_WHITESPACE","\n  ",662],["T_PUBLIC","public",663],["T_WHITESPACE"," ",663],["T_FUNCTION","function",663],["T_WHITESPACE"," ",663],["T_STRING","loadByRoute",663],"(",["T_VARIABLE","$route_name",663],",",["T_WHITESPACE"," ",663],["T_ARRAY","array",663],["T_WHITESPACE"," ",663],["T_VARIABLE","$route_parameters",663],["T_WHITESPACE"," ",663],"=",["T_WHITESPACE"," ",663],["T_ARRAY","array",663],"(",")",",",["T_WHITESPACE"," ",663],["T_VARIABLE","$menu_name",663],["T_WHITESPACE"," ",663],"=",["T_WHITESPACE"," ",663],["T_STRING","NULL",663],")",["T_WHITESPACE"," ",663],"{",["T_WHITESPACE","\n    ",663],["T_COMMENT","\/\/ Sort the route parameters so that the query string will be the same.\n",664],["T_WHITESPACE","    ",665],["T_STRING","asort",665],"(",["T_VARIABLE","$route_parameters",665],")",";",["T_WHITESPACE","\n    ",665],["T_COMMENT","\/\/ Since this will be urlencoded, it's safe to store and match against a\n",666],["T_WHITESPACE","    ",667],["T_COMMENT","\/\/ text field.\n",667],["T_WHITESPACE","    ",668],["T_COMMENT","\/\/ @todo Standardize an efficient way to load by route name and parameters\n",668],["T_WHITESPACE","    ",669],["T_COMMENT","\/\/   in place of system path. https:\/\/www.drupal.org\/node\/2302139\n",669],["T_WHITESPACE","    ",670],["T_VARIABLE","$param_key",670],["T_WHITESPACE"," ",670],"=",["T_WHITESPACE"," ",670],["T_VARIABLE","$route_parameters",670],["T_WHITESPACE"," ",670],"?",["T_WHITESPACE"," ",670],["T_STRING","UrlHelper",670],["T_DOUBLE_COLON","::",670],["T_STRING","buildQuery",670],"(",["T_VARIABLE","$route_parameters",670],")",["T_WHITESPACE"," ",670],":",["T_WHITESPACE"," ",670],["T_CONSTANT_ENCAPSED_STRING","''",670],";",["T_WHITESPACE","\n    ",670],["T_VARIABLE","$query",671],["T_WHITESPACE"," ",671],"=",["T_WHITESPACE"," ",671],["T_VARIABLE","$this",671],["T_OBJECT_OPERATOR","->",671],["T_STRING","connection",671],["T_OBJECT_OPERATOR","->",671],["T_STRING","select",671],"(",["T_VARIABLE","$this",671],["T_OBJECT_OPERATOR","->",671],["T_STRING","table",671],",",["T_WHITESPACE"," ",671],["T_VARIABLE","$this",671],["T_OBJECT_OPERATOR","->",671],["T_STRING","options",671],")",";",["T_WHITESPACE","\n    ",671],["T_VARIABLE","$query",672],["T_OBJECT_OPERATOR","->",672],["T_STRING","fields",672],"(",["T_VARIABLE","$this",672],["T_OBJECT_OPERATOR","->",672],["T_STRING","table",672],",",["T_WHITESPACE"," ",672],["T_VARIABLE","$this",672],["T_OBJECT_OPERATOR","->",672],["T_STRING","definitionFields",672],"(",")",")",";",["T_WHITESPACE","\n    ",672],["T_VARIABLE","$query",673],["T_OBJECT_OPERATOR","->",673],["T_STRING","condition",673],"(",["T_CONSTANT_ENCAPSED_STRING","'route_name'",673],",",["T_WHITESPACE"," ",673],["T_VARIABLE","$route_name",673],")",";",["T_WHITESPACE","\n    ",673],["T_VARIABLE","$query",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","condition",674],"(",["T_CONSTANT_ENCAPSED_STRING","'route_param_key'",674],",",["T_WHITESPACE"," ",674],["T_VARIABLE","$param_key",674],")",";",["T_WHITESPACE","\n    ",674],["T_IF","if",675],["T_WHITESPACE"," ",675],"(",["T_VARIABLE","$menu_name",675],")",["T_WHITESPACE"," ",675],"{",["T_WHITESPACE","\n      ",675],["T_VARIABLE","$query",676],["T_OBJECT_OPERATOR","->",676],["T_STRING","condition",676],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_name'",676],",",["T_WHITESPACE"," ",676],["T_VARIABLE","$menu_name",676],")",";",["T_WHITESPACE","\n    ",676],"}",["T_WHITESPACE","\n    ",677],["T_COMMENT","\/\/ Make the ordering deterministic.\n",678],["T_WHITESPACE","    ",679],["T_VARIABLE","$query",679],["T_OBJECT_OPERATOR","->",679],["T_STRING","orderBy",679],"(",["T_CONSTANT_ENCAPSED_STRING","'depth'",679],")",";",["T_WHITESPACE","\n    ",679],["T_VARIABLE","$query",680],["T_OBJECT_OPERATOR","->",680],["T_STRING","orderBy",680],"(",["T_CONSTANT_ENCAPSED_STRING","'weight'",680],")",";",["T_WHITESPACE","\n    ",680],["T_VARIABLE","$query",681],["T_OBJECT_OPERATOR","->",681],["T_STRING","orderBy",681],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",681],")",";",["T_WHITESPACE","\n    ",681],["T_VARIABLE","$loaded",682],["T_WHITESPACE"," ",682],"=",["T_WHITESPACE"," ",682],["T_VARIABLE","$this",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","safeExecuteSelect",682],"(",["T_VARIABLE","$query",682],")",["T_OBJECT_OPERATOR","->",682],["T_STRING","fetchAllAssoc",682],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",682],",",["T_WHITESPACE"," ",682],["T_NS_SEPARATOR","\\",682],["T_STRING","PDO",682],["T_DOUBLE_COLON","::",682],["T_STRING","FETCH_ASSOC",682],")",";",["T_WHITESPACE","\n    ",682],["T_FOREACH","foreach",683],["T_WHITESPACE"," ",683],"(",["T_VARIABLE","$loaded",683],["T_WHITESPACE"," ",683],["T_AS","as",683],["T_WHITESPACE"," ",683],["T_VARIABLE","$id",683],["T_WHITESPACE"," ",683],["T_DOUBLE_ARROW","=>",683],["T_WHITESPACE"," ",683],["T_VARIABLE","$link",683],")",["T_WHITESPACE"," ",683],"{",["T_WHITESPACE","\n      ",683],["T_VARIABLE","$loaded",684],"[",["T_VARIABLE","$id",684],"]",["T_WHITESPACE"," ",684],"=",["T_WHITESPACE"," ",684],["T_VARIABLE","$this",684],["T_OBJECT_OPERATOR","->",684],["T_STRING","prepareLink",684],"(",["T_VARIABLE","$link",684],")",";",["T_WHITESPACE","\n    ",684],"}",["T_WHITESPACE","\n    ",685],["T_RETURN","return",686],["T_WHITESPACE"," ",686],["T_VARIABLE","$loaded",686],";",["T_WHITESPACE","\n  ",686],"}",["T_WHITESPACE","\n\n  ",687],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",689],["T_WHITESPACE","\n  ",691],["T_PUBLIC","public",692],["T_WHITESPACE"," ",692],["T_FUNCTION","function",692],["T_WHITESPACE"," ",692],["T_STRING","loadMultiple",692],"(",["T_ARRAY","array",692],["T_WHITESPACE"," ",692],["T_VARIABLE","$ids",692],")",["T_WHITESPACE"," ",692],"{",["T_WHITESPACE","\n    ",692],["T_VARIABLE","$missing_ids",693],["T_WHITESPACE"," ",693],"=",["T_WHITESPACE"," ",693],["T_STRING","array_diff",693],"(",["T_VARIABLE","$ids",693],",",["T_WHITESPACE"," ",693],["T_STRING","array_keys",693],"(",["T_VARIABLE","$this",693],["T_OBJECT_OPERATOR","->",693],["T_STRING","definitions",693],")",")",";",["T_WHITESPACE","\n\n    ",693],["T_IF","if",695],["T_WHITESPACE"," ",695],"(",["T_VARIABLE","$missing_ids",695],")",["T_WHITESPACE"," ",695],"{",["T_WHITESPACE","\n      ",695],["T_VARIABLE","$query",696],["T_WHITESPACE"," ",696],"=",["T_WHITESPACE"," ",696],["T_VARIABLE","$this",696],["T_OBJECT_OPERATOR","->",696],["T_STRING","connection",696],["T_OBJECT_OPERATOR","->",696],["T_STRING","select",696],"(",["T_VARIABLE","$this",696],["T_OBJECT_OPERATOR","->",696],["T_STRING","table",696],",",["T_WHITESPACE"," ",696],["T_VARIABLE","$this",696],["T_OBJECT_OPERATOR","->",696],["T_STRING","options",696],")",";",["T_WHITESPACE","\n      ",696],["T_VARIABLE","$query",697],["T_OBJECT_OPERATOR","->",697],["T_STRING","fields",697],"(",["T_VARIABLE","$this",697],["T_OBJECT_OPERATOR","->",697],["T_STRING","table",697],",",["T_WHITESPACE"," ",697],["T_VARIABLE","$this",697],["T_OBJECT_OPERATOR","->",697],["T_STRING","definitionFields",697],"(",")",")",";",["T_WHITESPACE","\n      ",697],["T_VARIABLE","$query",698],["T_OBJECT_OPERATOR","->",698],["T_STRING","condition",698],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",698],",",["T_WHITESPACE"," ",698],["T_VARIABLE","$missing_ids",698],",",["T_WHITESPACE"," ",698],["T_CONSTANT_ENCAPSED_STRING","'IN'",698],")",";",["T_WHITESPACE","\n      ",698],["T_VARIABLE","$loaded",699],["T_WHITESPACE"," ",699],"=",["T_WHITESPACE"," ",699],["T_VARIABLE","$this",699],["T_OBJECT_OPERATOR","->",699],["T_STRING","safeExecuteSelect",699],"(",["T_VARIABLE","$query",699],")",["T_OBJECT_OPERATOR","->",699],["T_STRING","fetchAllAssoc",699],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",699],",",["T_WHITESPACE"," ",699],["T_NS_SEPARATOR","\\",699],["T_STRING","PDO",699],["T_DOUBLE_COLON","::",699],["T_STRING","FETCH_ASSOC",699],")",";",["T_WHITESPACE","\n      ",699],["T_FOREACH","foreach",700],["T_WHITESPACE"," ",700],"(",["T_VARIABLE","$loaded",700],["T_WHITESPACE"," ",700],["T_AS","as",700],["T_WHITESPACE"," ",700],["T_VARIABLE","$id",700],["T_WHITESPACE"," ",700],["T_DOUBLE_ARROW","=>",700],["T_WHITESPACE"," ",700],["T_VARIABLE","$link",700],")",["T_WHITESPACE"," ",700],"{",["T_WHITESPACE","\n        ",700],["T_VARIABLE","$this",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","definitions",701],"[",["T_VARIABLE","$id",701],"]",["T_WHITESPACE"," ",701],"=",["T_WHITESPACE"," ",701],["T_VARIABLE","$this",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","prepareLink",701],"(",["T_VARIABLE","$link",701],")",";",["T_WHITESPACE","\n      ",701],"}",["T_WHITESPACE","\n    ",702],"}",["T_WHITESPACE","\n    ",703],["T_RETURN","return",704],["T_WHITESPACE"," ",704],["T_STRING","array_intersect_key",704],"(",["T_VARIABLE","$this",704],["T_OBJECT_OPERATOR","->",704],["T_STRING","definitions",704],",",["T_WHITESPACE"," ",704],["T_STRING","array_flip",704],"(",["T_VARIABLE","$ids",704],")",")",";",["T_WHITESPACE","\n  ",704],"}",["T_WHITESPACE","\n\n  ",705],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",707],["T_WHITESPACE","\n  ",709],["T_PUBLIC","public",710],["T_WHITESPACE"," ",710],["T_FUNCTION","function",710],["T_WHITESPACE"," ",710],["T_STRING","load",710],"(",["T_VARIABLE","$id",710],")",["T_WHITESPACE"," ",710],"{",["T_WHITESPACE","\n    ",710],["T_IF","if",711],["T_WHITESPACE"," ",711],"(",["T_ISSET","isset",711],"(",["T_VARIABLE","$this",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","definitions",711],"[",["T_VARIABLE","$id",711],"]",")",")",["T_WHITESPACE"," ",711],"{",["T_WHITESPACE","\n      ",711],["T_RETURN","return",712],["T_WHITESPACE"," ",712],["T_VARIABLE","$this",712],["T_OBJECT_OPERATOR","->",712],["T_STRING","definitions",712],"[",["T_VARIABLE","$id",712],"]",";",["T_WHITESPACE","\n    ",712],"}",["T_WHITESPACE","\n    ",713],["T_VARIABLE","$loaded",714],["T_WHITESPACE"," ",714],"=",["T_WHITESPACE"," ",714],["T_VARIABLE","$this",714],["T_OBJECT_OPERATOR","->",714],["T_STRING","loadMultiple",714],"(",["T_ARRAY","array",714],"(",["T_VARIABLE","$id",714],")",")",";",["T_WHITESPACE","\n    ",714],["T_RETURN","return",715],["T_WHITESPACE"," ",715],["T_ISSET","isset",715],"(",["T_VARIABLE","$loaded",715],"[",["T_VARIABLE","$id",715],"]",")",["T_WHITESPACE"," ",715],"?",["T_WHITESPACE"," ",715],["T_VARIABLE","$loaded",715],"[",["T_VARIABLE","$id",715],"]",["T_WHITESPACE"," ",715],":",["T_WHITESPACE"," ",715],["T_STRING","FALSE",715],";",["T_WHITESPACE","\n  ",715],"}",["T_WHITESPACE","\n\n  ",716],["T_DOC_COMMENT","\/**\n   * Loads all table fields, not just those that are in the plugin definition.\n   *\n   * @param string $id\n   *   The menu link ID.\n   *\n   * @return array\n   *   The loaded menu link definition or an empty array if not be found.\n   *\/",718],["T_WHITESPACE","\n  ",726],["T_PROTECTED","protected",727],["T_WHITESPACE"," ",727],["T_FUNCTION","function",727],["T_WHITESPACE"," ",727],["T_STRING","loadFull",727],"(",["T_VARIABLE","$id",727],")",["T_WHITESPACE"," ",727],"{",["T_WHITESPACE","\n    ",727],["T_VARIABLE","$loaded",728],["T_WHITESPACE"," ",728],"=",["T_WHITESPACE"," ",728],["T_VARIABLE","$this",728],["T_OBJECT_OPERATOR","->",728],["T_STRING","loadFullMultiple",728],"(",["T_ARRAY","array",728],"(",["T_VARIABLE","$id",728],")",")",";",["T_WHITESPACE","\n    ",728],["T_RETURN","return",729],["T_WHITESPACE"," ",729],["T_ISSET","isset",729],"(",["T_VARIABLE","$loaded",729],"[",["T_VARIABLE","$id",729],"]",")",["T_WHITESPACE"," ",729],"?",["T_WHITESPACE"," ",729],["T_VARIABLE","$loaded",729],"[",["T_VARIABLE","$id",729],"]",["T_WHITESPACE"," ",729],":",["T_WHITESPACE"," ",729],["T_ARRAY","array",729],"(",")",";",["T_WHITESPACE","\n  ",729],"}",["T_WHITESPACE","\n\n  ",730],["T_DOC_COMMENT","\/**\n   * Loads all table fields for multiple menu link definitions by ID.\n   *\n   * @param array $ids\n   *   The IDs to load.\n   *\n   * @return array\n   *   The loaded menu link definitions.\n   *\/",732],["T_WHITESPACE","\n  ",740],["T_PROTECTED","protected",741],["T_WHITESPACE"," ",741],["T_FUNCTION","function",741],["T_WHITESPACE"," ",741],["T_STRING","loadFullMultiple",741],"(",["T_ARRAY","array",741],["T_WHITESPACE"," ",741],["T_VARIABLE","$ids",741],")",["T_WHITESPACE"," ",741],"{",["T_WHITESPACE","\n    ",741],["T_VARIABLE","$query",742],["T_WHITESPACE"," ",742],"=",["T_WHITESPACE"," ",742],["T_VARIABLE","$this",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","connection",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","select",742],"(",["T_VARIABLE","$this",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","table",742],",",["T_WHITESPACE"," ",742],["T_VARIABLE","$this",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","options",742],")",";",["T_WHITESPACE","\n    ",742],["T_VARIABLE","$query",743],["T_OBJECT_OPERATOR","->",743],["T_STRING","fields",743],"(",["T_VARIABLE","$this",743],["T_OBJECT_OPERATOR","->",743],["T_STRING","table",743],")",";",["T_WHITESPACE","\n    ",743],["T_VARIABLE","$query",744],["T_OBJECT_OPERATOR","->",744],["T_STRING","condition",744],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",744],",",["T_WHITESPACE"," ",744],["T_VARIABLE","$ids",744],",",["T_WHITESPACE"," ",744],["T_CONSTANT_ENCAPSED_STRING","'IN'",744],")",";",["T_WHITESPACE","\n    ",744],["T_VARIABLE","$loaded",745],["T_WHITESPACE"," ",745],"=",["T_WHITESPACE"," ",745],["T_VARIABLE","$this",745],["T_OBJECT_OPERATOR","->",745],["T_STRING","safeExecuteSelect",745],"(",["T_VARIABLE","$query",745],")",["T_OBJECT_OPERATOR","->",745],["T_STRING","fetchAllAssoc",745],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",745],",",["T_WHITESPACE"," ",745],["T_NS_SEPARATOR","\\",745],["T_STRING","PDO",745],["T_DOUBLE_COLON","::",745],["T_STRING","FETCH_ASSOC",745],")",";",["T_WHITESPACE","\n    ",745],["T_FOREACH","foreach",746],["T_WHITESPACE"," ",746],"(",["T_VARIABLE","$loaded",746],["T_WHITESPACE"," ",746],["T_AS","as",746],["T_WHITESPACE"," ",746],"&",["T_VARIABLE","$link",746],")",["T_WHITESPACE"," ",746],"{",["T_WHITESPACE","\n      ",746],["T_FOREACH","foreach",747],["T_WHITESPACE"," ",747],"(",["T_VARIABLE","$this",747],["T_OBJECT_OPERATOR","->",747],["T_STRING","serializedFields",747],"(",")",["T_WHITESPACE"," ",747],["T_AS","as",747],["T_WHITESPACE"," ",747],["T_VARIABLE","$name",747],")",["T_WHITESPACE"," ",747],"{",["T_WHITESPACE","\n        ",747],["T_IF","if",748],["T_WHITESPACE"," ",748],"(",["T_ISSET","isset",748],"(",["T_VARIABLE","$link",748],"[",["T_VARIABLE","$name",748],"]",")",")",["T_WHITESPACE"," ",748],"{",["T_WHITESPACE","\n          ",748],["T_VARIABLE","$link",749],"[",["T_VARIABLE","$name",749],"]",["T_WHITESPACE"," ",749],"=",["T_WHITESPACE"," ",749],["T_STRING","unserialize",749],"(",["T_VARIABLE","$link",749],"[",["T_VARIABLE","$name",749],"]",")",";",["T_WHITESPACE","\n        ",749],"}",["T_WHITESPACE","\n      ",750],"}",["T_WHITESPACE","\n    ",751],"}",["T_WHITESPACE","\n    ",752],["T_RETURN","return",753],["T_WHITESPACE"," ",753],["T_VARIABLE","$loaded",753],";",["T_WHITESPACE","\n  ",753],"}",["T_WHITESPACE","\n\n  ",754],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",756],["T_WHITESPACE","\n  ",758],["T_PUBLIC","public",759],["T_WHITESPACE"," ",759],["T_FUNCTION","function",759],["T_WHITESPACE"," ",759],["T_STRING","getRootPathIds",759],"(",["T_VARIABLE","$id",759],")",["T_WHITESPACE"," ",759],"{",["T_WHITESPACE","\n    ",759],["T_VARIABLE","$subquery",760],["T_WHITESPACE"," ",760],"=",["T_WHITESPACE"," ",760],["T_VARIABLE","$this",760],["T_OBJECT_OPERATOR","->",760],["T_STRING","connection",760],["T_OBJECT_OPERATOR","->",760],["T_STRING","select",760],"(",["T_VARIABLE","$this",760],["T_OBJECT_OPERATOR","->",760],["T_STRING","table",760],",",["T_WHITESPACE"," ",760],["T_VARIABLE","$this",760],["T_OBJECT_OPERATOR","->",760],["T_STRING","options",760],")",";",["T_WHITESPACE","\n    ",760],["T_COMMENT","\/\/ @todo Consider making this dynamic based on static::MAX_DEPTH or from the\n",761],["T_WHITESPACE","    ",762],["T_COMMENT","\/\/   schema if that is generated using static::MAX_DEPTH.\n",762],["T_WHITESPACE","    ",763],["T_COMMENT","\/\/   https:\/\/www.drupal.org\/node\/2302043\n",763],["T_WHITESPACE","    ",764],["T_VARIABLE","$subquery",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","fields",764],"(",["T_VARIABLE","$this",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","table",764],",",["T_WHITESPACE"," ",764],["T_ARRAY","array",764],"(",["T_CONSTANT_ENCAPSED_STRING","'p1'",764],",",["T_WHITESPACE"," ",764],["T_CONSTANT_ENCAPSED_STRING","'p2'",764],",",["T_WHITESPACE"," ",764],["T_CONSTANT_ENCAPSED_STRING","'p3'",764],",",["T_WHITESPACE"," ",764],["T_CONSTANT_ENCAPSED_STRING","'p4'",764],",",["T_WHITESPACE"," ",764],["T_CONSTANT_ENCAPSED_STRING","'p5'",764],",",["T_WHITESPACE"," ",764],["T_CONSTANT_ENCAPSED_STRING","'p6'",764],",",["T_WHITESPACE"," ",764],["T_CONSTANT_ENCAPSED_STRING","'p7'",764],",",["T_WHITESPACE"," ",764],["T_CONSTANT_ENCAPSED_STRING","'p8'",764],",",["T_WHITESPACE"," ",764],["T_CONSTANT_ENCAPSED_STRING","'p9'",764],")",")",";",["T_WHITESPACE","\n    ",764],["T_VARIABLE","$subquery",765],["T_OBJECT_OPERATOR","->",765],["T_STRING","condition",765],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",765],",",["T_WHITESPACE"," ",765],["T_VARIABLE","$id",765],")",";",["T_WHITESPACE","\n    ",765],["T_VARIABLE","$result",766],["T_WHITESPACE"," ",766],"=",["T_WHITESPACE"," ",766],["T_STRING","current",766],"(",["T_VARIABLE","$subquery",766],["T_OBJECT_OPERATOR","->",766],["T_STRING","execute",766],"(",")",["T_OBJECT_OPERATOR","->",766],["T_STRING","fetchAll",766],"(",["T_NS_SEPARATOR","\\",766],["T_STRING","PDO",766],["T_DOUBLE_COLON","::",766],["T_STRING","FETCH_ASSOC",766],")",")",";",["T_WHITESPACE","\n    ",766],["T_VARIABLE","$ids",767],["T_WHITESPACE"," ",767],"=",["T_WHITESPACE"," ",767],["T_STRING","array_filter",767],"(",["T_VARIABLE","$result",767],")",";",["T_WHITESPACE","\n    ",767],["T_IF","if",768],["T_WHITESPACE"," ",768],"(",["T_VARIABLE","$ids",768],")",["T_WHITESPACE"," ",768],"{",["T_WHITESPACE","\n      ",768],["T_VARIABLE","$query",769],["T_WHITESPACE"," ",769],"=",["T_WHITESPACE"," ",769],["T_VARIABLE","$this",769],["T_OBJECT_OPERATOR","->",769],["T_STRING","connection",769],["T_OBJECT_OPERATOR","->",769],["T_STRING","select",769],"(",["T_VARIABLE","$this",769],["T_OBJECT_OPERATOR","->",769],["T_STRING","table",769],",",["T_WHITESPACE"," ",769],["T_VARIABLE","$this",769],["T_OBJECT_OPERATOR","->",769],["T_STRING","options",769],")",";",["T_WHITESPACE","\n      ",769],["T_VARIABLE","$query",770],["T_OBJECT_OPERATOR","->",770],["T_STRING","fields",770],"(",["T_VARIABLE","$this",770],["T_OBJECT_OPERATOR","->",770],["T_STRING","table",770],",",["T_WHITESPACE"," ",770],["T_ARRAY","array",770],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",770],")",")",";",["T_WHITESPACE","\n      ",770],["T_VARIABLE","$query",771],["T_OBJECT_OPERATOR","->",771],["T_STRING","orderBy",771],"(",["T_CONSTANT_ENCAPSED_STRING","'depth'",771],",",["T_WHITESPACE"," ",771],["T_CONSTANT_ENCAPSED_STRING","'DESC'",771],")",";",["T_WHITESPACE","\n      ",771],["T_VARIABLE","$query",772],["T_OBJECT_OPERATOR","->",772],["T_STRING","condition",772],"(",["T_CONSTANT_ENCAPSED_STRING","'mlid'",772],",",["T_WHITESPACE"," ",772],["T_VARIABLE","$ids",772],",",["T_WHITESPACE"," ",772],["T_CONSTANT_ENCAPSED_STRING","'IN'",772],")",";",["T_WHITESPACE","\n      ",772],["T_COMMENT","\/\/ @todo Cache this result in memory if we find it is being used more\n",773],["T_WHITESPACE","      ",774],["T_COMMENT","\/\/   than once per page load. https:\/\/www.drupal.org\/node\/2302185\n",774],["T_WHITESPACE","      ",775],["T_RETURN","return",775],["T_WHITESPACE"," ",775],["T_VARIABLE","$this",775],["T_OBJECT_OPERATOR","->",775],["T_STRING","safeExecuteSelect",775],"(",["T_VARIABLE","$query",775],")",["T_OBJECT_OPERATOR","->",775],["T_STRING","fetchAllKeyed",775],"(",["T_LNUMBER","0",775],",",["T_WHITESPACE"," ",775],["T_LNUMBER","0",775],")",";",["T_WHITESPACE","\n    ",775],"}",["T_WHITESPACE","\n    ",776],["T_RETURN","return",777],["T_WHITESPACE"," ",777],["T_ARRAY","array",777],"(",")",";",["T_WHITESPACE","\n  ",777],"}",["T_WHITESPACE","\n\n  ",778],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",780],["T_WHITESPACE","\n  ",782],["T_PUBLIC","public",783],["T_WHITESPACE"," ",783],["T_FUNCTION","function",783],["T_WHITESPACE"," ",783],["T_STRING","getExpanded",783],"(",["T_VARIABLE","$menu_name",783],",",["T_WHITESPACE"," ",783],["T_ARRAY","array",783],["T_WHITESPACE"," ",783],["T_VARIABLE","$parents",783],")",["T_WHITESPACE"," ",783],"{",["T_WHITESPACE","\n    ",783],["T_COMMENT","\/\/ @todo Go back to tracking in state or some other way which menus have\n",784],["T_WHITESPACE","    ",785],["T_COMMENT","\/\/   expanded links? https:\/\/www.drupal.org\/node\/2302187\n",785],["T_WHITESPACE","    ",786],["T_DO","do",786],["T_WHITESPACE"," ",786],"{",["T_WHITESPACE","\n      ",786],["T_VARIABLE","$query",787],["T_WHITESPACE"," ",787],"=",["T_WHITESPACE"," ",787],["T_VARIABLE","$this",787],["T_OBJECT_OPERATOR","->",787],["T_STRING","connection",787],["T_OBJECT_OPERATOR","->",787],["T_STRING","select",787],"(",["T_VARIABLE","$this",787],["T_OBJECT_OPERATOR","->",787],["T_STRING","table",787],",",["T_WHITESPACE"," ",787],["T_VARIABLE","$this",787],["T_OBJECT_OPERATOR","->",787],["T_STRING","options",787],")",";",["T_WHITESPACE","\n      ",787],["T_VARIABLE","$query",788],["T_OBJECT_OPERATOR","->",788],["T_STRING","fields",788],"(",["T_VARIABLE","$this",788],["T_OBJECT_OPERATOR","->",788],["T_STRING","table",788],",",["T_WHITESPACE"," ",788],["T_ARRAY","array",788],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",788],")",")",";",["T_WHITESPACE","\n      ",788],["T_VARIABLE","$query",789],["T_OBJECT_OPERATOR","->",789],["T_STRING","condition",789],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_name'",789],",",["T_WHITESPACE"," ",789],["T_VARIABLE","$menu_name",789],")",";",["T_WHITESPACE","\n      ",789],["T_VARIABLE","$query",790],["T_OBJECT_OPERATOR","->",790],["T_STRING","condition",790],"(",["T_CONSTANT_ENCAPSED_STRING","'expanded'",790],",",["T_WHITESPACE"," ",790],["T_LNUMBER","1",790],")",";",["T_WHITESPACE","\n      ",790],["T_VARIABLE","$query",791],["T_OBJECT_OPERATOR","->",791],["T_STRING","condition",791],"(",["T_CONSTANT_ENCAPSED_STRING","'has_children'",791],",",["T_WHITESPACE"," ",791],["T_LNUMBER","1",791],")",";",["T_WHITESPACE","\n      ",791],["T_VARIABLE","$query",792],["T_OBJECT_OPERATOR","->",792],["T_STRING","condition",792],"(",["T_CONSTANT_ENCAPSED_STRING","'enabled'",792],",",["T_WHITESPACE"," ",792],["T_LNUMBER","1",792],")",";",["T_WHITESPACE","\n      ",792],["T_VARIABLE","$query",793],["T_OBJECT_OPERATOR","->",793],["T_STRING","condition",793],"(",["T_CONSTANT_ENCAPSED_STRING","'parent'",793],",",["T_WHITESPACE"," ",793],["T_VARIABLE","$parents",793],",",["T_WHITESPACE"," ",793],["T_CONSTANT_ENCAPSED_STRING","'IN'",793],")",";",["T_WHITESPACE","\n      ",793],["T_VARIABLE","$query",794],["T_OBJECT_OPERATOR","->",794],["T_STRING","condition",794],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",794],",",["T_WHITESPACE"," ",794],["T_VARIABLE","$parents",794],",",["T_WHITESPACE"," ",794],["T_CONSTANT_ENCAPSED_STRING","'NOT IN'",794],")",";",["T_WHITESPACE","\n      ",794],["T_VARIABLE","$result",795],["T_WHITESPACE"," ",795],"=",["T_WHITESPACE"," ",795],["T_VARIABLE","$this",795],["T_OBJECT_OPERATOR","->",795],["T_STRING","safeExecuteSelect",795],"(",["T_VARIABLE","$query",795],")",["T_OBJECT_OPERATOR","->",795],["T_STRING","fetchAllKeyed",795],"(",["T_LNUMBER","0",795],",",["T_WHITESPACE"," ",795],["T_LNUMBER","0",795],")",";",["T_WHITESPACE","\n      ",795],["T_VARIABLE","$parents",796],["T_WHITESPACE"," ",796],["T_PLUS_EQUAL","+=",796],["T_WHITESPACE"," ",796],["T_VARIABLE","$result",796],";",["T_WHITESPACE","\n    ",796],"}",["T_WHITESPACE"," ",797],["T_WHILE","while",797],["T_WHITESPACE"," ",797],"(","!",["T_EMPTY","empty",797],"(",["T_VARIABLE","$result",797],")",")",";",["T_WHITESPACE","\n    ",797],["T_RETURN","return",798],["T_WHITESPACE"," ",798],["T_VARIABLE","$parents",798],";",["T_WHITESPACE","\n  ",798],"}",["T_WHITESPACE","\n\n  ",799],["T_DOC_COMMENT","\/**\n   * Saves menu links recursively.\n   *\n   * @param string $id\n   *   The definition ID.\n   * @param array $children\n   *   An array of IDs of child links collected by parent ID.\n   * @param array $links\n   *   An array of all definitions keyed by ID.\n   *\/",801],["T_WHITESPACE","\n  ",810],["T_PROTECTED","protected",811],["T_WHITESPACE"," ",811],["T_FUNCTION","function",811],["T_WHITESPACE"," ",811],["T_STRING","saveRecursive",811],"(",["T_VARIABLE","$id",811],",",["T_WHITESPACE"," ",811],"&",["T_VARIABLE","$children",811],",",["T_WHITESPACE"," ",811],"&",["T_VARIABLE","$links",811],")",["T_WHITESPACE"," ",811],"{",["T_WHITESPACE","\n    ",811],["T_IF","if",812],["T_WHITESPACE"," ",812],"(","!",["T_EMPTY","empty",812],"(",["T_VARIABLE","$links",812],"[",["T_VARIABLE","$id",812],"]","[",["T_CONSTANT_ENCAPSED_STRING","'parent'",812],"]",")",["T_WHITESPACE"," ",812],["T_BOOLEAN_AND","&&",812],["T_WHITESPACE"," ",812],["T_EMPTY","empty",812],"(",["T_VARIABLE","$links",812],"[",["T_VARIABLE","$links",812],"[",["T_VARIABLE","$id",812],"]","[",["T_CONSTANT_ENCAPSED_STRING","'parent'",812],"]","]",")",")",["T_WHITESPACE"," ",812],"{",["T_WHITESPACE","\n      ",812],["T_COMMENT","\/\/ Invalid parent ID, so remove it.\n",813],["T_WHITESPACE","      ",814],["T_VARIABLE","$links",814],"[",["T_VARIABLE","$id",814],"]","[",["T_CONSTANT_ENCAPSED_STRING","'parent'",814],"]",["T_WHITESPACE"," ",814],"=",["T_WHITESPACE"," ",814],["T_CONSTANT_ENCAPSED_STRING","''",814],";",["T_WHITESPACE","\n    ",814],"}",["T_WHITESPACE","\n    ",815],["T_VARIABLE","$this",816],["T_OBJECT_OPERATOR","->",816],["T_STRING","doSave",816],"(",["T_VARIABLE","$links",816],"[",["T_VARIABLE","$id",816],"]",")",";",["T_WHITESPACE","\n\n    ",816],["T_IF","if",818],["T_WHITESPACE"," ",818],"(","!",["T_EMPTY","empty",818],"(",["T_VARIABLE","$children",818],"[",["T_VARIABLE","$id",818],"]",")",")",["T_WHITESPACE"," ",818],"{",["T_WHITESPACE","\n      ",818],["T_FOREACH","foreach",819],["T_WHITESPACE"," ",819],"(",["T_VARIABLE","$children",819],"[",["T_VARIABLE","$id",819],"]",["T_WHITESPACE"," ",819],["T_AS","as",819],["T_WHITESPACE"," ",819],["T_VARIABLE","$next_id",819],")",["T_WHITESPACE"," ",819],"{",["T_WHITESPACE","\n        ",819],["T_VARIABLE","$this",820],["T_OBJECT_OPERATOR","->",820],["T_STRING","saveRecursive",820],"(",["T_VARIABLE","$next_id",820],",",["T_WHITESPACE"," ",820],["T_VARIABLE","$children",820],",",["T_WHITESPACE"," ",820],["T_VARIABLE","$links",820],")",";",["T_WHITESPACE","\n      ",820],"}",["T_WHITESPACE","\n    ",821],"}",["T_WHITESPACE","\n    ",822],["T_COMMENT","\/\/ Remove processed link names so we can find stragglers.\n",823],["T_WHITESPACE","    ",824],["T_UNSET","unset",824],"(",["T_VARIABLE","$children",824],"[",["T_VARIABLE","$id",824],"]",")",";",["T_WHITESPACE","\n  ",824],"}",["T_WHITESPACE","\n\n  ",825],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",827],["T_WHITESPACE","\n  ",829],["T_PUBLIC","public",830],["T_WHITESPACE"," ",830],["T_FUNCTION","function",830],["T_WHITESPACE"," ",830],["T_STRING","loadTreeData",830],"(",["T_VARIABLE","$menu_name",830],",",["T_WHITESPACE"," ",830],["T_STRING","MenuTreeParameters",830],["T_WHITESPACE"," ",830],["T_VARIABLE","$parameters",830],")",["T_WHITESPACE"," ",830],"{",["T_WHITESPACE","\n    ",830],["T_COMMENT","\/\/ Build the cache ID; sort 'expanded' and 'conditions' to prevent duplicate\n",831],["T_WHITESPACE","    ",832],["T_COMMENT","\/\/ cache items.\n",832],["T_WHITESPACE","    ",833],["T_STRING","sort",833],"(",["T_VARIABLE","$parameters",833],["T_OBJECT_OPERATOR","->",833],["T_STRING","expandedParents",833],")",";",["T_WHITESPACE","\n    ",833],["T_STRING","asort",834],"(",["T_VARIABLE","$parameters",834],["T_OBJECT_OPERATOR","->",834],["T_STRING","conditions",834],")",";",["T_WHITESPACE","\n    ",834],["T_VARIABLE","$tree_cid",835],["T_WHITESPACE"," ",835],"=",["T_WHITESPACE"," ",835],"\"",["T_ENCAPSED_AND_WHITESPACE","tree-data:",835],["T_VARIABLE","$menu_name",835],["T_ENCAPSED_AND_WHITESPACE",":",835],"\"",["T_WHITESPACE"," ",835],".",["T_WHITESPACE"," ",835],["T_STRING","serialize",835],"(",["T_VARIABLE","$parameters",835],")",";",["T_WHITESPACE","\n    ",835],["T_VARIABLE","$cache",836],["T_WHITESPACE"," ",836],"=",["T_WHITESPACE"," ",836],["T_VARIABLE","$this",836],["T_OBJECT_OPERATOR","->",836],["T_STRING","menuCacheBackend",836],["T_OBJECT_OPERATOR","->",836],["T_STRING","get",836],"(",["T_VARIABLE","$tree_cid",836],")",";",["T_WHITESPACE","\n    ",836],["T_IF","if",837],["T_WHITESPACE"," ",837],"(",["T_VARIABLE","$cache",837],["T_WHITESPACE"," ",837],["T_BOOLEAN_AND","&&",837],["T_WHITESPACE"," ",837],["T_ISSET","isset",837],"(",["T_VARIABLE","$cache",837],["T_OBJECT_OPERATOR","->",837],["T_STRING","data",837],")",")",["T_WHITESPACE"," ",837],"{",["T_WHITESPACE","\n      ",837],["T_VARIABLE","$data",838],["T_WHITESPACE"," ",838],"=",["T_WHITESPACE"," ",838],["T_VARIABLE","$cache",838],["T_OBJECT_OPERATOR","->",838],["T_STRING","data",838],";",["T_WHITESPACE","\n      ",838],["T_COMMENT","\/\/ Cache the definitions in memory so they don't need to be loaded again.\n",839],["T_WHITESPACE","      ",840],["T_VARIABLE","$this",840],["T_OBJECT_OPERATOR","->",840],["T_STRING","definitions",840],["T_WHITESPACE"," ",840],["T_PLUS_EQUAL","+=",840],["T_WHITESPACE"," ",840],["T_VARIABLE","$data",840],"[",["T_CONSTANT_ENCAPSED_STRING","'definitions'",840],"]",";",["T_WHITESPACE","\n      ",840],["T_UNSET","unset",841],"(",["T_VARIABLE","$data",841],"[",["T_CONSTANT_ENCAPSED_STRING","'definitions'",841],"]",")",";",["T_WHITESPACE","\n    ",841],"}",["T_WHITESPACE","\n    ",842],["T_ELSE","else",843],["T_WHITESPACE"," ",843],"{",["T_WHITESPACE","\n      ",843],["T_VARIABLE","$links",844],["T_WHITESPACE"," ",844],"=",["T_WHITESPACE"," ",844],["T_VARIABLE","$this",844],["T_OBJECT_OPERATOR","->",844],["T_STRING","loadLinks",844],"(",["T_VARIABLE","$menu_name",844],",",["T_WHITESPACE"," ",844],["T_VARIABLE","$parameters",844],")",";",["T_WHITESPACE","\n      ",844],["T_VARIABLE","$data",845],"[",["T_CONSTANT_ENCAPSED_STRING","'tree'",845],"]",["T_WHITESPACE"," ",845],"=",["T_WHITESPACE"," ",845],["T_VARIABLE","$this",845],["T_OBJECT_OPERATOR","->",845],["T_STRING","doBuildTreeData",845],"(",["T_VARIABLE","$links",845],",",["T_WHITESPACE"," ",845],["T_VARIABLE","$parameters",845],["T_OBJECT_OPERATOR","->",845],["T_STRING","activeTrail",845],",",["T_WHITESPACE"," ",845],["T_VARIABLE","$parameters",845],["T_OBJECT_OPERATOR","->",845],["T_STRING","minDepth",845],")",";",["T_WHITESPACE","\n      ",845],["T_VARIABLE","$data",846],"[",["T_CONSTANT_ENCAPSED_STRING","'definitions'",846],"]",["T_WHITESPACE"," ",846],"=",["T_WHITESPACE"," ",846],["T_ARRAY","array",846],"(",")",";",["T_WHITESPACE","\n      ",846],["T_VARIABLE","$data",847],"[",["T_CONSTANT_ENCAPSED_STRING","'route_names'",847],"]",["T_WHITESPACE"," ",847],"=",["T_WHITESPACE"," ",847],["T_VARIABLE","$this",847],["T_OBJECT_OPERATOR","->",847],["T_STRING","collectRoutesAndDefinitions",847],"(",["T_VARIABLE","$data",847],"[",["T_CONSTANT_ENCAPSED_STRING","'tree'",847],"]",",",["T_WHITESPACE"," ",847],["T_VARIABLE","$data",847],"[",["T_CONSTANT_ENCAPSED_STRING","'definitions'",847],"]",")",";",["T_WHITESPACE","\n      ",847],["T_VARIABLE","$this",848],["T_OBJECT_OPERATOR","->",848],["T_STRING","menuCacheBackend",848],["T_OBJECT_OPERATOR","->",848],["T_STRING","set",848],"(",["T_VARIABLE","$tree_cid",848],",",["T_WHITESPACE"," ",848],["T_VARIABLE","$data",848],",",["T_WHITESPACE"," ",848],["T_STRING","Cache",848],["T_DOUBLE_COLON","::",848],["T_STRING","PERMANENT",848],",",["T_WHITESPACE"," ",848],"[",["T_CONSTANT_ENCAPSED_STRING","'config:system.menu.'",848],["T_WHITESPACE"," ",848],".",["T_WHITESPACE"," ",848],["T_VARIABLE","$menu_name",848],"]",")",";",["T_WHITESPACE","\n      ",848],["T_COMMENT","\/\/ The definitions were already added to $this->definitions in\n",849],["T_WHITESPACE","      ",850],["T_COMMENT","\/\/ $this->doBuildTreeData()\n",850],["T_WHITESPACE","      ",851],["T_UNSET","unset",851],"(",["T_VARIABLE","$data",851],"[",["T_CONSTANT_ENCAPSED_STRING","'definitions'",851],"]",")",";",["T_WHITESPACE","\n    ",851],"}",["T_WHITESPACE","\n    ",852],["T_RETURN","return",853],["T_WHITESPACE"," ",853],["T_VARIABLE","$data",853],";",["T_WHITESPACE","\n  ",853],"}",["T_WHITESPACE","\n\n  ",854],["T_DOC_COMMENT","\/**\n   * Loads links in the given menu, according to the given tree parameters.\n   *\n   * @param string $menu_name\n   *   A menu name.\n   * @param \\Drupal\\Core\\Menu\\MenuTreeParameters $parameters\n   *   The parameters to determine which menu links to be loaded into a tree.\n   *   This method will set the absolute minimum depth, which is used in\n   *   MenuTreeStorage::doBuildTreeData().\n   *\n   * @return array\n   *   A flat array of menu links that are part of the menu. Each array element\n   *   is an associative array of information about the menu link, containing\n   *   the fields from the {menu_tree} table. This array must be ordered\n   *   depth-first.\n   *\/",856],["T_WHITESPACE","\n  ",871],["T_PROTECTED","protected",872],["T_WHITESPACE"," ",872],["T_FUNCTION","function",872],["T_WHITESPACE"," ",872],["T_STRING","loadLinks",872],"(",["T_VARIABLE","$menu_name",872],",",["T_WHITESPACE"," ",872],["T_STRING","MenuTreeParameters",872],["T_WHITESPACE"," ",872],["T_VARIABLE","$parameters",872],")",["T_WHITESPACE"," ",872],"{",["T_WHITESPACE","\n    ",872],["T_VARIABLE","$query",873],["T_WHITESPACE"," ",873],"=",["T_WHITESPACE"," ",873],["T_VARIABLE","$this",873],["T_OBJECT_OPERATOR","->",873],["T_STRING","connection",873],["T_OBJECT_OPERATOR","->",873],["T_STRING","select",873],"(",["T_VARIABLE","$this",873],["T_OBJECT_OPERATOR","->",873],["T_STRING","table",873],",",["T_WHITESPACE"," ",873],["T_VARIABLE","$this",873],["T_OBJECT_OPERATOR","->",873],["T_STRING","options",873],")",";",["T_WHITESPACE","\n    ",873],["T_VARIABLE","$query",874],["T_OBJECT_OPERATOR","->",874],["T_STRING","fields",874],"(",["T_VARIABLE","$this",874],["T_OBJECT_OPERATOR","->",874],["T_STRING","table",874],")",";",["T_WHITESPACE","\n\n    ",874],["T_COMMENT","\/\/ Allow a custom root to be specified for loading a menu link tree. If\n",876],["T_WHITESPACE","    ",877],["T_COMMENT","\/\/ omitted, the default root (i.e. the actual root, '') is used.\n",877],["T_WHITESPACE","    ",878],["T_IF","if",878],["T_WHITESPACE"," ",878],"(",["T_VARIABLE","$parameters",878],["T_OBJECT_OPERATOR","->",878],["T_STRING","root",878],["T_WHITESPACE"," ",878],["T_IS_NOT_IDENTICAL","!==",878],["T_WHITESPACE"," ",878],["T_CONSTANT_ENCAPSED_STRING","''",878],")",["T_WHITESPACE"," ",878],"{",["T_WHITESPACE","\n      ",878],["T_VARIABLE","$root",879],["T_WHITESPACE"," ",879],"=",["T_WHITESPACE"," ",879],["T_VARIABLE","$this",879],["T_OBJECT_OPERATOR","->",879],["T_STRING","loadFull",879],"(",["T_VARIABLE","$parameters",879],["T_OBJECT_OPERATOR","->",879],["T_STRING","root",879],")",";",["T_WHITESPACE","\n\n      ",879],["T_COMMENT","\/\/ If the custom root does not exist, we cannot load the links below it.\n",881],["T_WHITESPACE","      ",882],["T_IF","if",882],["T_WHITESPACE"," ",882],"(","!",["T_VARIABLE","$root",882],")",["T_WHITESPACE"," ",882],"{",["T_WHITESPACE","\n        ",882],["T_RETURN","return",883],["T_WHITESPACE"," ",883],["T_ARRAY","array",883],"(",")",";",["T_WHITESPACE","\n      ",883],"}",["T_WHITESPACE","\n\n      ",884],["T_COMMENT","\/\/ When specifying a custom root, we only want to find links whose\n",886],["T_WHITESPACE","      ",887],["T_COMMENT","\/\/ parent IDs match that of the root; that's how we ignore the rest of the\n",887],["T_WHITESPACE","      ",888],["T_COMMENT","\/\/ tree. In other words: we exclude everything unreachable from the\n",888],["T_WHITESPACE","      ",889],["T_COMMENT","\/\/ custom root.\n",889],["T_WHITESPACE","      ",890],["T_FOR","for",890],["T_WHITESPACE"," ",890],"(",["T_VARIABLE","$i",890],["T_WHITESPACE"," ",890],"=",["T_WHITESPACE"," ",890],["T_LNUMBER","1",890],";",["T_WHITESPACE"," ",890],["T_VARIABLE","$i",890],["T_WHITESPACE"," ",890],["T_IS_SMALLER_OR_EQUAL","<=",890],["T_WHITESPACE"," ",890],["T_VARIABLE","$root",890],"[",["T_CONSTANT_ENCAPSED_STRING","'depth'",890],"]",";",["T_WHITESPACE"," ",890],["T_VARIABLE","$i",890],["T_INC","++",890],")",["T_WHITESPACE"," ",890],"{",["T_WHITESPACE","\n        ",890],["T_VARIABLE","$query",891],["T_OBJECT_OPERATOR","->",891],["T_STRING","condition",891],"(","\"",["T_ENCAPSED_AND_WHITESPACE","p",891],["T_VARIABLE","$i",891],"\"",",",["T_WHITESPACE"," ",891],["T_VARIABLE","$root",891],"[","\"",["T_ENCAPSED_AND_WHITESPACE","p",891],["T_VARIABLE","$i",891],"\"","]",")",";",["T_WHITESPACE","\n      ",891],"}",["T_WHITESPACE","\n\n      ",892],["T_COMMENT","\/\/ When specifying a custom root, the menu is determined by that root.\n",894],["T_WHITESPACE","      ",895],["T_VARIABLE","$menu_name",895],["T_WHITESPACE"," ",895],"=",["T_WHITESPACE"," ",895],["T_VARIABLE","$root",895],"[",["T_CONSTANT_ENCAPSED_STRING","'menu_name'",895],"]",";",["T_WHITESPACE","\n\n      ",895],["T_COMMENT","\/\/ If the custom root exists, then we must rewrite some of our\n",897],["T_WHITESPACE","      ",898],["T_COMMENT","\/\/ parameters; parameters are relative to the root (default or custom),\n",898],["T_WHITESPACE","      ",899],["T_COMMENT","\/\/ but the queries require absolute numbers, so adjust correspondingly.\n",899],["T_WHITESPACE","      ",900],["T_IF","if",900],["T_WHITESPACE"," ",900],"(",["T_ISSET","isset",900],"(",["T_VARIABLE","$parameters",900],["T_OBJECT_OPERATOR","->",900],["T_STRING","minDepth",900],")",")",["T_WHITESPACE"," ",900],"{",["T_WHITESPACE","\n        ",900],["T_VARIABLE","$parameters",901],["T_OBJECT_OPERATOR","->",901],["T_STRING","minDepth",901],["T_WHITESPACE"," ",901],["T_PLUS_EQUAL","+=",901],["T_WHITESPACE"," ",901],["T_VARIABLE","$root",901],"[",["T_CONSTANT_ENCAPSED_STRING","'depth'",901],"]",";",["T_WHITESPACE","\n      ",901],"}",["T_WHITESPACE","\n      ",902],["T_ELSE","else",903],["T_WHITESPACE"," ",903],"{",["T_WHITESPACE","\n        ",903],["T_VARIABLE","$parameters",904],["T_OBJECT_OPERATOR","->",904],["T_STRING","minDepth",904],["T_WHITESPACE"," ",904],"=",["T_WHITESPACE"," ",904],["T_VARIABLE","$root",904],"[",["T_CONSTANT_ENCAPSED_STRING","'depth'",904],"]",";",["T_WHITESPACE","\n      ",904],"}",["T_WHITESPACE","\n      ",905],["T_IF","if",906],["T_WHITESPACE"," ",906],"(",["T_ISSET","isset",906],"(",["T_VARIABLE","$parameters",906],["T_OBJECT_OPERATOR","->",906],["T_STRING","maxDepth",906],")",")",["T_WHITESPACE"," ",906],"{",["T_WHITESPACE","\n        ",906],["T_VARIABLE","$parameters",907],["T_OBJECT_OPERATOR","->",907],["T_STRING","maxDepth",907],["T_WHITESPACE"," ",907],["T_PLUS_EQUAL","+=",907],["T_WHITESPACE"," ",907],["T_VARIABLE","$root",907],"[",["T_CONSTANT_ENCAPSED_STRING","'depth'",907],"]",";",["T_WHITESPACE","\n      ",907],"}",["T_WHITESPACE","\n    ",908],"}",["T_WHITESPACE","\n\n    ",909],["T_COMMENT","\/\/ If no minimum depth is specified, then set the actual minimum depth,\n",911],["T_WHITESPACE","    ",912],["T_COMMENT","\/\/ depending on the root.\n",912],["T_WHITESPACE","    ",913],["T_IF","if",913],["T_WHITESPACE"," ",913],"(","!",["T_ISSET","isset",913],"(",["T_VARIABLE","$parameters",913],["T_OBJECT_OPERATOR","->",913],["T_STRING","minDepth",913],")",")",["T_WHITESPACE"," ",913],"{",["T_WHITESPACE","\n      ",913],["T_IF","if",914],["T_WHITESPACE"," ",914],"(",["T_VARIABLE","$parameters",914],["T_OBJECT_OPERATOR","->",914],["T_STRING","root",914],["T_WHITESPACE"," ",914],["T_IS_NOT_IDENTICAL","!==",914],["T_WHITESPACE"," ",914],["T_CONSTANT_ENCAPSED_STRING","''",914],["T_WHITESPACE"," ",914],["T_BOOLEAN_AND","&&",914],["T_WHITESPACE"," ",914],["T_VARIABLE","$root",914],")",["T_WHITESPACE"," ",914],"{",["T_WHITESPACE","\n        ",914],["T_VARIABLE","$parameters",915],["T_OBJECT_OPERATOR","->",915],["T_STRING","minDepth",915],["T_WHITESPACE"," ",915],"=",["T_WHITESPACE"," ",915],["T_VARIABLE","$root",915],"[",["T_CONSTANT_ENCAPSED_STRING","'depth'",915],"]",";",["T_WHITESPACE","\n      ",915],"}",["T_WHITESPACE","\n      ",916],["T_ELSE","else",917],["T_WHITESPACE"," ",917],"{",["T_WHITESPACE","\n        ",917],["T_VARIABLE","$parameters",918],["T_OBJECT_OPERATOR","->",918],["T_STRING","minDepth",918],["T_WHITESPACE"," ",918],"=",["T_WHITESPACE"," ",918],["T_LNUMBER","1",918],";",["T_WHITESPACE","\n      ",918],"}",["T_WHITESPACE","\n    ",919],"}",["T_WHITESPACE","\n\n    ",920],["T_FOR","for",922],["T_WHITESPACE"," ",922],"(",["T_VARIABLE","$i",922],["T_WHITESPACE"," ",922],"=",["T_WHITESPACE"," ",922],["T_LNUMBER","1",922],";",["T_WHITESPACE"," ",922],["T_VARIABLE","$i",922],["T_WHITESPACE"," ",922],["T_IS_SMALLER_OR_EQUAL","<=",922],["T_WHITESPACE"," ",922],["T_VARIABLE","$this",922],["T_OBJECT_OPERATOR","->",922],["T_STRING","maxDepth",922],"(",")",";",["T_WHITESPACE"," ",922],["T_VARIABLE","$i",922],["T_INC","++",922],")",["T_WHITESPACE"," ",922],"{",["T_WHITESPACE","\n      ",922],["T_VARIABLE","$query",923],["T_OBJECT_OPERATOR","->",923],["T_STRING","orderBy",923],"(",["T_CONSTANT_ENCAPSED_STRING","'p'",923],["T_WHITESPACE"," ",923],".",["T_WHITESPACE"," ",923],["T_VARIABLE","$i",923],",",["T_WHITESPACE"," ",923],["T_CONSTANT_ENCAPSED_STRING","'ASC'",923],")",";",["T_WHITESPACE","\n    ",923],"}",["T_WHITESPACE","\n\n    ",924],["T_VARIABLE","$query",926],["T_OBJECT_OPERATOR","->",926],["T_STRING","condition",926],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_name'",926],",",["T_WHITESPACE"," ",926],["T_VARIABLE","$menu_name",926],")",";",["T_WHITESPACE","\n\n    ",926],["T_IF","if",928],["T_WHITESPACE"," ",928],"(","!",["T_EMPTY","empty",928],"(",["T_VARIABLE","$parameters",928],["T_OBJECT_OPERATOR","->",928],["T_STRING","expandedParents",928],")",")",["T_WHITESPACE"," ",928],"{",["T_WHITESPACE","\n      ",928],["T_VARIABLE","$query",929],["T_OBJECT_OPERATOR","->",929],["T_STRING","condition",929],"(",["T_CONSTANT_ENCAPSED_STRING","'parent'",929],",",["T_WHITESPACE"," ",929],["T_VARIABLE","$parameters",929],["T_OBJECT_OPERATOR","->",929],["T_STRING","expandedParents",929],",",["T_WHITESPACE"," ",929],["T_CONSTANT_ENCAPSED_STRING","'IN'",929],")",";",["T_WHITESPACE","\n    ",929],"}",["T_WHITESPACE","\n    ",930],["T_IF","if",931],["T_WHITESPACE"," ",931],"(",["T_ISSET","isset",931],"(",["T_VARIABLE","$parameters",931],["T_OBJECT_OPERATOR","->",931],["T_STRING","minDepth",931],")",["T_WHITESPACE"," ",931],["T_BOOLEAN_AND","&&",931],["T_WHITESPACE"," ",931],["T_VARIABLE","$parameters",931],["T_OBJECT_OPERATOR","->",931],["T_STRING","minDepth",931],["T_WHITESPACE"," ",931],">",["T_WHITESPACE"," ",931],["T_LNUMBER","1",931],")",["T_WHITESPACE"," ",931],"{",["T_WHITESPACE","\n      ",931],["T_VARIABLE","$query",932],["T_OBJECT_OPERATOR","->",932],["T_STRING","condition",932],"(",["T_CONSTANT_ENCAPSED_STRING","'depth'",932],",",["T_WHITESPACE"," ",932],["T_VARIABLE","$parameters",932],["T_OBJECT_OPERATOR","->",932],["T_STRING","minDepth",932],",",["T_WHITESPACE"," ",932],["T_CONSTANT_ENCAPSED_STRING","'>='",932],")",";",["T_WHITESPACE","\n    ",932],"}",["T_WHITESPACE","\n    ",933],["T_IF","if",934],["T_WHITESPACE"," ",934],"(",["T_ISSET","isset",934],"(",["T_VARIABLE","$parameters",934],["T_OBJECT_OPERATOR","->",934],["T_STRING","maxDepth",934],")",")",["T_WHITESPACE"," ",934],"{",["T_WHITESPACE","\n      ",934],["T_VARIABLE","$query",935],["T_OBJECT_OPERATOR","->",935],["T_STRING","condition",935],"(",["T_CONSTANT_ENCAPSED_STRING","'depth'",935],",",["T_WHITESPACE"," ",935],["T_VARIABLE","$parameters",935],["T_OBJECT_OPERATOR","->",935],["T_STRING","maxDepth",935],",",["T_WHITESPACE"," ",935],["T_CONSTANT_ENCAPSED_STRING","'<='",935],")",";",["T_WHITESPACE","\n    ",935],"}",["T_WHITESPACE","\n    ",936],["T_COMMENT","\/\/ Add custom query conditions, if any were passed.\n",937],["T_WHITESPACE","    ",938],["T_IF","if",938],["T_WHITESPACE"," ",938],"(","!",["T_EMPTY","empty",938],"(",["T_VARIABLE","$parameters",938],["T_OBJECT_OPERATOR","->",938],["T_STRING","conditions",938],")",")",["T_WHITESPACE"," ",938],"{",["T_WHITESPACE","\n      ",938],["T_COMMENT","\/\/ Only allow conditions that are testing definition fields.\n",939],["T_WHITESPACE","      ",940],["T_VARIABLE","$parameters",940],["T_OBJECT_OPERATOR","->",940],["T_STRING","conditions",940],["T_WHITESPACE"," ",940],"=",["T_WHITESPACE"," ",940],["T_STRING","array_intersect_key",940],"(",["T_VARIABLE","$parameters",940],["T_OBJECT_OPERATOR","->",940],["T_STRING","conditions",940],",",["T_WHITESPACE"," ",940],["T_STRING","array_flip",940],"(",["T_VARIABLE","$this",940],["T_OBJECT_OPERATOR","->",940],["T_STRING","definitionFields",940],"(",")",")",")",";",["T_WHITESPACE","\n      ",940],["T_VARIABLE","$serialized_fields",941],["T_WHITESPACE"," ",941],"=",["T_WHITESPACE"," ",941],["T_VARIABLE","$this",941],["T_OBJECT_OPERATOR","->",941],["T_STRING","serializedFields",941],"(",")",";",["T_WHITESPACE","\n      ",941],["T_FOREACH","foreach",942],["T_WHITESPACE"," ",942],"(",["T_VARIABLE","$parameters",942],["T_OBJECT_OPERATOR","->",942],["T_STRING","conditions",942],["T_WHITESPACE"," ",942],["T_AS","as",942],["T_WHITESPACE"," ",942],["T_VARIABLE","$column",942],["T_WHITESPACE"," ",942],["T_DOUBLE_ARROW","=>",942],["T_WHITESPACE"," ",942],["T_VARIABLE","$value",942],")",["T_WHITESPACE"," ",942],"{",["T_WHITESPACE","\n        ",942],["T_IF","if",943],["T_WHITESPACE"," ",943],"(",["T_STRING","is_array",943],"(",["T_VARIABLE","$value",943],")",")",["T_WHITESPACE"," ",943],"{",["T_WHITESPACE","\n          ",943],["T_VARIABLE","$operator",944],["T_WHITESPACE"," ",944],"=",["T_WHITESPACE"," ",944],["T_VARIABLE","$value",944],"[",["T_LNUMBER","1",944],"]",";",["T_WHITESPACE","\n          ",944],["T_VARIABLE","$value",945],["T_WHITESPACE"," ",945],"=",["T_WHITESPACE"," ",945],["T_VARIABLE","$value",945],"[",["T_LNUMBER","0",945],"]",";",["T_WHITESPACE","\n        ",945],"}",["T_WHITESPACE","\n        ",946],["T_ELSE","else",947],["T_WHITESPACE"," ",947],"{",["T_WHITESPACE","\n          ",947],["T_VARIABLE","$operator",948],["T_WHITESPACE"," ",948],"=",["T_WHITESPACE"," ",948],["T_CONSTANT_ENCAPSED_STRING","'='",948],";",["T_WHITESPACE","\n        ",948],"}",["T_WHITESPACE","\n        ",949],["T_IF","if",950],["T_WHITESPACE"," ",950],"(",["T_STRING","in_array",950],"(",["T_VARIABLE","$column",950],",",["T_WHITESPACE"," ",950],["T_VARIABLE","$serialized_fields",950],")",")",["T_WHITESPACE"," ",950],"{",["T_WHITESPACE","\n          ",950],["T_VARIABLE","$value",951],["T_WHITESPACE"," ",951],"=",["T_WHITESPACE"," ",951],["T_STRING","serialize",951],"(",["T_VARIABLE","$value",951],")",";",["T_WHITESPACE","\n        ",951],"}",["T_WHITESPACE","\n        ",952],["T_VARIABLE","$query",953],["T_OBJECT_OPERATOR","->",953],["T_STRING","condition",953],"(",["T_VARIABLE","$column",953],",",["T_WHITESPACE"," ",953],["T_VARIABLE","$value",953],",",["T_WHITESPACE"," ",953],["T_VARIABLE","$operator",953],")",";",["T_WHITESPACE","\n      ",953],"}",["T_WHITESPACE","\n    ",954],"}",["T_WHITESPACE","\n\n    ",955],["T_VARIABLE","$links",957],["T_WHITESPACE"," ",957],"=",["T_WHITESPACE"," ",957],["T_VARIABLE","$this",957],["T_OBJECT_OPERATOR","->",957],["T_STRING","safeExecuteSelect",957],"(",["T_VARIABLE","$query",957],")",["T_OBJECT_OPERATOR","->",957],["T_STRING","fetchAllAssoc",957],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",957],",",["T_WHITESPACE"," ",957],["T_NS_SEPARATOR","\\",957],["T_STRING","PDO",957],["T_DOUBLE_COLON","::",957],["T_STRING","FETCH_ASSOC",957],")",";",["T_WHITESPACE","\n\n    ",957],["T_RETURN","return",959],["T_WHITESPACE"," ",959],["T_VARIABLE","$links",959],";",["T_WHITESPACE","\n  ",959],"}",["T_WHITESPACE","\n\n  ",960],["T_DOC_COMMENT","\/**\n   * Traverses the menu tree and collects all the route names and definitions.\n   *\n   * @param array $tree\n   *   The menu tree you wish to operate on.\n   * @param array $definitions\n   *   An array to accumulate definitions by reference.\n   *\n   * @return array\n   *   Array of route names, with all values being unique.\n   *\/",962],["T_WHITESPACE","\n  ",972],["T_PROTECTED","protected",973],["T_WHITESPACE"," ",973],["T_FUNCTION","function",973],["T_WHITESPACE"," ",973],["T_STRING","collectRoutesAndDefinitions",973],"(",["T_ARRAY","array",973],["T_WHITESPACE"," ",973],["T_VARIABLE","$tree",973],",",["T_WHITESPACE"," ",973],["T_ARRAY","array",973],["T_WHITESPACE"," ",973],"&",["T_VARIABLE","$definitions",973],")",["T_WHITESPACE"," ",973],"{",["T_WHITESPACE","\n    ",973],["T_RETURN","return",974],["T_WHITESPACE"," ",974],["T_STRING","array_values",974],"(",["T_VARIABLE","$this",974],["T_OBJECT_OPERATOR","->",974],["T_STRING","doCollectRoutesAndDefinitions",974],"(",["T_VARIABLE","$tree",974],",",["T_WHITESPACE"," ",974],["T_VARIABLE","$definitions",974],")",")",";",["T_WHITESPACE","\n  ",974],"}",["T_WHITESPACE","\n\n  ",975],["T_DOC_COMMENT","\/**\n   * Collects all the route names and definitions.\n   *\n   * @param array $tree\n   *   A menu link tree from MenuTreeStorage::doBuildTreeData()\n   * @param array $definitions\n   *   The collected definitions which are populated by reference.\n   *\n   * @return array\n   *   The collected route names.\n   *\/",977],["T_WHITESPACE","\n  ",987],["T_PROTECTED","protected",988],["T_WHITESPACE"," ",988],["T_FUNCTION","function",988],["T_WHITESPACE"," ",988],["T_STRING","doCollectRoutesAndDefinitions",988],"(",["T_ARRAY","array",988],["T_WHITESPACE"," ",988],["T_VARIABLE","$tree",988],",",["T_WHITESPACE"," ",988],["T_ARRAY","array",988],["T_WHITESPACE"," ",988],"&",["T_VARIABLE","$definitions",988],")",["T_WHITESPACE"," ",988],"{",["T_WHITESPACE","\n    ",988],["T_VARIABLE","$route_names",989],["T_WHITESPACE"," ",989],"=",["T_WHITESPACE"," ",989],["T_ARRAY","array",989],"(",")",";",["T_WHITESPACE","\n    ",989],["T_FOREACH","foreach",990],["T_WHITESPACE"," ",990],"(",["T_STRING","array_keys",990],"(",["T_VARIABLE","$tree",990],")",["T_WHITESPACE"," ",990],["T_AS","as",990],["T_WHITESPACE"," ",990],["T_VARIABLE","$id",990],")",["T_WHITESPACE"," ",990],"{",["T_WHITESPACE","\n      ",990],["T_VARIABLE","$definitions",991],"[",["T_VARIABLE","$id",991],"]",["T_WHITESPACE"," ",991],"=",["T_WHITESPACE"," ",991],["T_VARIABLE","$this",991],["T_OBJECT_OPERATOR","->",991],["T_STRING","definitions",991],"[",["T_VARIABLE","$id",991],"]",";",["T_WHITESPACE","\n      ",991],["T_IF","if",992],["T_WHITESPACE"," ",992],"(","!",["T_EMPTY","empty",992],"(",["T_VARIABLE","$definition",992],"[",["T_CONSTANT_ENCAPSED_STRING","'route_name'",992],"]",")",")",["T_WHITESPACE"," ",992],"{",["T_WHITESPACE","\n        ",992],["T_VARIABLE","$route_names",993],"[",["T_VARIABLE","$definition",993],"[",["T_CONSTANT_ENCAPSED_STRING","'route_name'",993],"]","]",["T_WHITESPACE"," ",993],"=",["T_WHITESPACE"," ",993],["T_VARIABLE","$definition",993],"[",["T_CONSTANT_ENCAPSED_STRING","'route_name'",993],"]",";",["T_WHITESPACE","\n      ",993],"}",["T_WHITESPACE","\n      ",994],["T_IF","if",995],["T_WHITESPACE"," ",995],"(",["T_VARIABLE","$tree",995],"[",["T_VARIABLE","$id",995],"]","[",["T_CONSTANT_ENCAPSED_STRING","'subtree'",995],"]",")",["T_WHITESPACE"," ",995],"{",["T_WHITESPACE","\n        ",995],["T_VARIABLE","$route_names",996],["T_WHITESPACE"," ",996],["T_PLUS_EQUAL","+=",996],["T_WHITESPACE"," ",996],["T_VARIABLE","$this",996],["T_OBJECT_OPERATOR","->",996],["T_STRING","doCollectRoutesAndDefinitions",996],"(",["T_VARIABLE","$tree",996],"[",["T_VARIABLE","$id",996],"]","[",["T_CONSTANT_ENCAPSED_STRING","'subtree'",996],"]",",",["T_WHITESPACE"," ",996],["T_VARIABLE","$definitions",996],")",";",["T_WHITESPACE","\n      ",996],"}",["T_WHITESPACE","\n    ",997],"}",["T_WHITESPACE","\n    ",998],["T_RETURN","return",999],["T_WHITESPACE"," ",999],["T_VARIABLE","$route_names",999],";",["T_WHITESPACE","\n  ",999],"}",["T_WHITESPACE","\n\n  ",1000],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",1002],["T_WHITESPACE","\n  ",1004],["T_PUBLIC","public",1005],["T_WHITESPACE"," ",1005],["T_FUNCTION","function",1005],["T_WHITESPACE"," ",1005],["T_STRING","loadSubtreeData",1005],"(",["T_VARIABLE","$id",1005],",",["T_WHITESPACE"," ",1005],["T_VARIABLE","$max_relative_depth",1005],["T_WHITESPACE"," ",1005],"=",["T_WHITESPACE"," ",1005],["T_STRING","NULL",1005],")",["T_WHITESPACE"," ",1005],"{",["T_WHITESPACE","\n    ",1005],["T_VARIABLE","$tree",1006],["T_WHITESPACE"," ",1006],"=",["T_WHITESPACE"," ",1006],["T_ARRAY","array",1006],"(",")",";",["T_WHITESPACE","\n    ",1006],["T_VARIABLE","$root",1007],["T_WHITESPACE"," ",1007],"=",["T_WHITESPACE"," ",1007],["T_VARIABLE","$this",1007],["T_OBJECT_OPERATOR","->",1007],["T_STRING","loadFull",1007],"(",["T_VARIABLE","$id",1007],")",";",["T_WHITESPACE","\n    ",1007],["T_IF","if",1008],["T_WHITESPACE"," ",1008],"(","!",["T_VARIABLE","$root",1008],")",["T_WHITESPACE"," ",1008],"{",["T_WHITESPACE","\n      ",1008],["T_RETURN","return",1009],["T_WHITESPACE"," ",1009],["T_VARIABLE","$tree",1009],";",["T_WHITESPACE","\n    ",1009],"}",["T_WHITESPACE","\n    ",1010],["T_VARIABLE","$parameters",1011],["T_WHITESPACE"," ",1011],"=",["T_WHITESPACE"," ",1011],["T_NEW","new",1011],["T_WHITESPACE"," ",1011],["T_STRING","MenuTreeParameters",1011],"(",")",";",["T_WHITESPACE","\n    ",1011],["T_VARIABLE","$parameters",1012],["T_OBJECT_OPERATOR","->",1012],["T_STRING","setRoot",1012],"(",["T_VARIABLE","$id",1012],")",["T_OBJECT_OPERATOR","->",1012],["T_STRING","onlyEnabledLinks",1012],"(",")",";",["T_WHITESPACE","\n    ",1012],["T_RETURN","return",1013],["T_WHITESPACE"," ",1013],["T_VARIABLE","$this",1013],["T_OBJECT_OPERATOR","->",1013],["T_STRING","loadTreeData",1013],"(",["T_VARIABLE","$root",1013],"[",["T_CONSTANT_ENCAPSED_STRING","'menu_name'",1013],"]",",",["T_WHITESPACE"," ",1013],["T_VARIABLE","$parameters",1013],")",";",["T_WHITESPACE","\n  ",1013],"}",["T_WHITESPACE","\n\n  ",1014],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",1016],["T_WHITESPACE","\n  ",1018],["T_PUBLIC","public",1019],["T_WHITESPACE"," ",1019],["T_FUNCTION","function",1019],["T_WHITESPACE"," ",1019],["T_STRING","menuNameInUse",1019],"(",["T_VARIABLE","$menu_name",1019],")",["T_WHITESPACE"," ",1019],"{",["T_WHITESPACE","\n    ",1019],["T_VARIABLE","$query",1020],["T_WHITESPACE"," ",1020],"=",["T_WHITESPACE"," ",1020],["T_VARIABLE","$this",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","connection",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","select",1020],"(",["T_VARIABLE","$this",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","table",1020],",",["T_WHITESPACE"," ",1020],["T_VARIABLE","$this",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","options",1020],")",";",["T_WHITESPACE","\n    ",1020],["T_VARIABLE","$query",1021],["T_OBJECT_OPERATOR","->",1021],["T_STRING","addField",1021],"(",["T_VARIABLE","$this",1021],["T_OBJECT_OPERATOR","->",1021],["T_STRING","table",1021],",",["T_WHITESPACE"," ",1021],["T_CONSTANT_ENCAPSED_STRING","'mlid'",1021],")",";",["T_WHITESPACE","\n    ",1021],["T_VARIABLE","$query",1022],["T_OBJECT_OPERATOR","->",1022],["T_STRING","condition",1022],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_name'",1022],",",["T_WHITESPACE"," ",1022],["T_VARIABLE","$menu_name",1022],")",";",["T_WHITESPACE","\n    ",1022],["T_VARIABLE","$query",1023],["T_OBJECT_OPERATOR","->",1023],["T_STRING","range",1023],"(",["T_LNUMBER","0",1023],",",["T_WHITESPACE"," ",1023],["T_LNUMBER","1",1023],")",";",["T_WHITESPACE","\n    ",1023],["T_RETURN","return",1024],["T_WHITESPACE"," ",1024],["T_BOOL_CAST","(bool)",1024],["T_WHITESPACE"," ",1024],["T_VARIABLE","$this",1024],["T_OBJECT_OPERATOR","->",1024],["T_STRING","safeExecuteSelect",1024],"(",["T_VARIABLE","$query",1024],")",";",["T_WHITESPACE","\n  ",1024],"}",["T_WHITESPACE","\n\n  ",1025],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",1027],["T_WHITESPACE","\n  ",1029],["T_PUBLIC","public",1030],["T_WHITESPACE"," ",1030],["T_FUNCTION","function",1030],["T_WHITESPACE"," ",1030],["T_STRING","getMenuNames",1030],"(",")",["T_WHITESPACE"," ",1030],"{",["T_WHITESPACE","\n    ",1030],["T_VARIABLE","$query",1031],["T_WHITESPACE"," ",1031],"=",["T_WHITESPACE"," ",1031],["T_VARIABLE","$this",1031],["T_OBJECT_OPERATOR","->",1031],["T_STRING","connection",1031],["T_OBJECT_OPERATOR","->",1031],["T_STRING","select",1031],"(",["T_VARIABLE","$this",1031],["T_OBJECT_OPERATOR","->",1031],["T_STRING","table",1031],",",["T_WHITESPACE"," ",1031],["T_VARIABLE","$this",1031],["T_OBJECT_OPERATOR","->",1031],["T_STRING","options",1031],")",";",["T_WHITESPACE","\n    ",1031],["T_VARIABLE","$query",1032],["T_OBJECT_OPERATOR","->",1032],["T_STRING","addField",1032],"(",["T_VARIABLE","$this",1032],["T_OBJECT_OPERATOR","->",1032],["T_STRING","table",1032],",",["T_WHITESPACE"," ",1032],["T_CONSTANT_ENCAPSED_STRING","'menu_name'",1032],")",";",["T_WHITESPACE","\n    ",1032],["T_VARIABLE","$query",1033],["T_OBJECT_OPERATOR","->",1033],["T_STRING","distinct",1033],"(",")",";",["T_WHITESPACE","\n    ",1033],["T_RETURN","return",1034],["T_WHITESPACE"," ",1034],["T_VARIABLE","$this",1034],["T_OBJECT_OPERATOR","->",1034],["T_STRING","safeExecuteSelect",1034],"(",["T_VARIABLE","$query",1034],")",["T_OBJECT_OPERATOR","->",1034],["T_STRING","fetchAllKeyed",1034],"(",["T_LNUMBER","0",1034],",",["T_WHITESPACE"," ",1034],["T_LNUMBER","0",1034],")",";",["T_WHITESPACE","\n  ",1034],"}",["T_WHITESPACE","\n\n  ",1035],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",1037],["T_WHITESPACE","\n  ",1039],["T_PUBLIC","public",1040],["T_WHITESPACE"," ",1040],["T_FUNCTION","function",1040],["T_WHITESPACE"," ",1040],["T_STRING","countMenuLinks",1040],"(",["T_VARIABLE","$menu_name",1040],["T_WHITESPACE"," ",1040],"=",["T_WHITESPACE"," ",1040],["T_STRING","NULL",1040],")",["T_WHITESPACE"," ",1040],"{",["T_WHITESPACE","\n    ",1040],["T_VARIABLE","$query",1041],["T_WHITESPACE"," ",1041],"=",["T_WHITESPACE"," ",1041],["T_VARIABLE","$this",1041],["T_OBJECT_OPERATOR","->",1041],["T_STRING","connection",1041],["T_OBJECT_OPERATOR","->",1041],["T_STRING","select",1041],"(",["T_VARIABLE","$this",1041],["T_OBJECT_OPERATOR","->",1041],["T_STRING","table",1041],",",["T_WHITESPACE"," ",1041],["T_VARIABLE","$this",1041],["T_OBJECT_OPERATOR","->",1041],["T_STRING","options",1041],")",";",["T_WHITESPACE","\n    ",1041],["T_IF","if",1042],["T_WHITESPACE"," ",1042],"(",["T_VARIABLE","$menu_name",1042],")",["T_WHITESPACE"," ",1042],"{",["T_WHITESPACE","\n      ",1042],["T_VARIABLE","$query",1043],["T_OBJECT_OPERATOR","->",1043],["T_STRING","condition",1043],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_name'",1043],",",["T_WHITESPACE"," ",1043],["T_VARIABLE","$menu_name",1043],")",";",["T_WHITESPACE","\n    ",1043],"}",["T_WHITESPACE","\n    ",1044],["T_RETURN","return",1045],["T_WHITESPACE"," ",1045],["T_VARIABLE","$this",1045],["T_OBJECT_OPERATOR","->",1045],["T_STRING","safeExecuteSelect",1045],"(",["T_VARIABLE","$query",1045],["T_OBJECT_OPERATOR","->",1045],["T_STRING","countQuery",1045],"(",")",")",["T_OBJECT_OPERATOR","->",1045],["T_STRING","fetchField",1045],"(",")",";",["T_WHITESPACE","\n  ",1045],"}",["T_WHITESPACE","\n\n  ",1046],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",1048],["T_WHITESPACE","\n  ",1050],["T_PUBLIC","public",1051],["T_WHITESPACE"," ",1051],["T_FUNCTION","function",1051],["T_WHITESPACE"," ",1051],["T_STRING","getAllChildIds",1051],"(",["T_VARIABLE","$id",1051],")",["T_WHITESPACE"," ",1051],"{",["T_WHITESPACE","\n    ",1051],["T_VARIABLE","$root",1052],["T_WHITESPACE"," ",1052],"=",["T_WHITESPACE"," ",1052],["T_VARIABLE","$this",1052],["T_OBJECT_OPERATOR","->",1052],["T_STRING","loadFull",1052],"(",["T_VARIABLE","$id",1052],")",";",["T_WHITESPACE","\n    ",1052],["T_IF","if",1053],["T_WHITESPACE"," ",1053],"(","!",["T_VARIABLE","$root",1053],")",["T_WHITESPACE"," ",1053],"{",["T_WHITESPACE","\n      ",1053],["T_RETURN","return",1054],["T_WHITESPACE"," ",1054],["T_ARRAY","array",1054],"(",")",";",["T_WHITESPACE","\n    ",1054],"}",["T_WHITESPACE","\n    ",1055],["T_VARIABLE","$query",1056],["T_WHITESPACE"," ",1056],"=",["T_WHITESPACE"," ",1056],["T_VARIABLE","$this",1056],["T_OBJECT_OPERATOR","->",1056],["T_STRING","connection",1056],["T_OBJECT_OPERATOR","->",1056],["T_STRING","select",1056],"(",["T_VARIABLE","$this",1056],["T_OBJECT_OPERATOR","->",1056],["T_STRING","table",1056],",",["T_WHITESPACE"," ",1056],["T_VARIABLE","$this",1056],["T_OBJECT_OPERATOR","->",1056],["T_STRING","options",1056],")",";",["T_WHITESPACE","\n    ",1056],["T_VARIABLE","$query",1057],["T_OBJECT_OPERATOR","->",1057],["T_STRING","fields",1057],"(",["T_VARIABLE","$this",1057],["T_OBJECT_OPERATOR","->",1057],["T_STRING","table",1057],",",["T_WHITESPACE"," ",1057],["T_ARRAY","array",1057],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",1057],")",")",";",["T_WHITESPACE","\n    ",1057],["T_VARIABLE","$query",1058],["T_OBJECT_OPERATOR","->",1058],["T_STRING","condition",1058],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_name'",1058],",",["T_WHITESPACE"," ",1058],["T_VARIABLE","$root",1058],"[",["T_CONSTANT_ENCAPSED_STRING","'menu_name'",1058],"]",")",";",["T_WHITESPACE","\n    ",1058],["T_FOR","for",1059],["T_WHITESPACE"," ",1059],"(",["T_VARIABLE","$i",1059],["T_WHITESPACE"," ",1059],"=",["T_WHITESPACE"," ",1059],["T_LNUMBER","1",1059],";",["T_WHITESPACE"," ",1059],["T_VARIABLE","$i",1059],["T_WHITESPACE"," ",1059],["T_IS_SMALLER_OR_EQUAL","<=",1059],["T_WHITESPACE"," ",1059],["T_VARIABLE","$root",1059],"[",["T_CONSTANT_ENCAPSED_STRING","'depth'",1059],"]",";",["T_WHITESPACE"," ",1059],["T_VARIABLE","$i",1059],["T_INC","++",1059],")",["T_WHITESPACE"," ",1059],"{",["T_WHITESPACE","\n      ",1059],["T_VARIABLE","$query",1060],["T_OBJECT_OPERATOR","->",1060],["T_STRING","condition",1060],"(","\"",["T_ENCAPSED_AND_WHITESPACE","p",1060],["T_VARIABLE","$i",1060],"\"",",",["T_WHITESPACE"," ",1060],["T_VARIABLE","$root",1060],"[","\"",["T_ENCAPSED_AND_WHITESPACE","p",1060],["T_VARIABLE","$i",1060],"\"","]",")",";",["T_WHITESPACE","\n    ",1060],"}",["T_WHITESPACE","\n    ",1061],["T_COMMENT","\/\/ The next p column should not be empty. This excludes the root link.\n",1062],["T_WHITESPACE","    ",1063],["T_VARIABLE","$query",1063],["T_OBJECT_OPERATOR","->",1063],["T_STRING","condition",1063],"(","\"",["T_ENCAPSED_AND_WHITESPACE","p",1063],["T_VARIABLE","$i",1063],"\"",",",["T_WHITESPACE"," ",1063],["T_LNUMBER","0",1063],",",["T_WHITESPACE"," ",1063],["T_CONSTANT_ENCAPSED_STRING","'>'",1063],")",";",["T_WHITESPACE","\n    ",1063],["T_RETURN","return",1064],["T_WHITESPACE"," ",1064],["T_VARIABLE","$this",1064],["T_OBJECT_OPERATOR","->",1064],["T_STRING","safeExecuteSelect",1064],"(",["T_VARIABLE","$query",1064],")",["T_OBJECT_OPERATOR","->",1064],["T_STRING","fetchAllKeyed",1064],"(",["T_LNUMBER","0",1064],",",["T_WHITESPACE"," ",1064],["T_LNUMBER","0",1064],")",";",["T_WHITESPACE","\n  ",1064],"}",["T_WHITESPACE","\n\n  ",1065],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",1067],["T_WHITESPACE","\n  ",1069],["T_PUBLIC","public",1070],["T_WHITESPACE"," ",1070],["T_FUNCTION","function",1070],["T_WHITESPACE"," ",1070],["T_STRING","loadAllChildren",1070],"(",["T_VARIABLE","$id",1070],",",["T_WHITESPACE"," ",1070],["T_VARIABLE","$max_relative_depth",1070],["T_WHITESPACE"," ",1070],"=",["T_WHITESPACE"," ",1070],["T_STRING","NULL",1070],")",["T_WHITESPACE"," ",1070],"{",["T_WHITESPACE","\n    ",1070],["T_VARIABLE","$parameters",1071],["T_WHITESPACE"," ",1071],"=",["T_WHITESPACE"," ",1071],["T_NEW","new",1071],["T_WHITESPACE"," ",1071],["T_STRING","MenuTreeParameters",1071],"(",")",";",["T_WHITESPACE","\n    ",1071],["T_VARIABLE","$parameters",1072],["T_OBJECT_OPERATOR","->",1072],["T_STRING","setRoot",1072],"(",["T_VARIABLE","$id",1072],")",["T_OBJECT_OPERATOR","->",1072],["T_STRING","excludeRoot",1072],"(",")",["T_OBJECT_OPERATOR","->",1072],["T_STRING","setMaxDepth",1072],"(",["T_VARIABLE","$max_relative_depth",1072],")",["T_OBJECT_OPERATOR","->",1072],["T_STRING","onlyEnabledLinks",1072],"(",")",";",["T_WHITESPACE","\n    ",1072],["T_VARIABLE","$links",1073],["T_WHITESPACE"," ",1073],"=",["T_WHITESPACE"," ",1073],["T_VARIABLE","$this",1073],["T_OBJECT_OPERATOR","->",1073],["T_STRING","loadLinks",1073],"(",["T_STRING","NULL",1073],",",["T_WHITESPACE"," ",1073],["T_VARIABLE","$parameters",1073],")",";",["T_WHITESPACE","\n    ",1073],["T_FOREACH","foreach",1074],["T_WHITESPACE"," ",1074],"(",["T_VARIABLE","$links",1074],["T_WHITESPACE"," ",1074],["T_AS","as",1074],["T_WHITESPACE"," ",1074],["T_VARIABLE","$id",1074],["T_WHITESPACE"," ",1074],["T_DOUBLE_ARROW","=>",1074],["T_WHITESPACE"," ",1074],["T_VARIABLE","$link",1074],")",["T_WHITESPACE"," ",1074],"{",["T_WHITESPACE","\n      ",1074],["T_VARIABLE","$links",1075],"[",["T_VARIABLE","$id",1075],"]",["T_WHITESPACE"," ",1075],"=",["T_WHITESPACE"," ",1075],["T_VARIABLE","$this",1075],["T_OBJECT_OPERATOR","->",1075],["T_STRING","prepareLink",1075],"(",["T_VARIABLE","$link",1075],")",";",["T_WHITESPACE","\n    ",1075],"}",["T_WHITESPACE","\n    ",1076],["T_RETURN","return",1077],["T_WHITESPACE"," ",1077],["T_VARIABLE","$links",1077],";",["T_WHITESPACE","\n  ",1077],"}",["T_WHITESPACE","\n\n  ",1078],["T_DOC_COMMENT","\/**\n   * Prepares the data for calling $this->treeDataRecursive().\n   *\/",1080],["T_WHITESPACE","\n  ",1082],["T_PROTECTED","protected",1083],["T_WHITESPACE"," ",1083],["T_FUNCTION","function",1083],["T_WHITESPACE"," ",1083],["T_STRING","doBuildTreeData",1083],"(",["T_ARRAY","array",1083],["T_WHITESPACE"," ",1083],["T_VARIABLE","$links",1083],",",["T_WHITESPACE"," ",1083],["T_ARRAY","array",1083],["T_WHITESPACE"," ",1083],["T_VARIABLE","$parents",1083],["T_WHITESPACE"," ",1083],"=",["T_WHITESPACE"," ",1083],["T_ARRAY","array",1083],"(",")",",",["T_WHITESPACE"," ",1083],["T_VARIABLE","$depth",1083],["T_WHITESPACE"," ",1083],"=",["T_WHITESPACE"," ",1083],["T_LNUMBER","1",1083],")",["T_WHITESPACE"," ",1083],"{",["T_WHITESPACE","\n    ",1083],["T_COMMENT","\/\/ Reverse the array so we can use the more efficient array_pop() function.\n",1084],["T_WHITESPACE","    ",1085],["T_VARIABLE","$links",1085],["T_WHITESPACE"," ",1085],"=",["T_WHITESPACE"," ",1085],["T_STRING","array_reverse",1085],"(",["T_VARIABLE","$links",1085],")",";",["T_WHITESPACE","\n    ",1085],["T_RETURN","return",1086],["T_WHITESPACE"," ",1086],["T_VARIABLE","$this",1086],["T_OBJECT_OPERATOR","->",1086],["T_STRING","treeDataRecursive",1086],"(",["T_VARIABLE","$links",1086],",",["T_WHITESPACE"," ",1086],["T_VARIABLE","$parents",1086],",",["T_WHITESPACE"," ",1086],["T_VARIABLE","$depth",1086],")",";",["T_WHITESPACE","\n  ",1086],"}",["T_WHITESPACE","\n\n  ",1087],["T_DOC_COMMENT","\/**\n   * Builds the data representing a menu tree.\n   *\n   * The function is a bit complex because the rendering of a link depends on\n   * the next menu link.\n   *\n   * @param array $links\n   *   A flat array of menu links that are part of the menu. Each array element\n   *   is an associative array of information about the menu link, containing\n   *   the fields from the $this->table. This array must be ordered\n   *   depth-first. MenuTreeStorage::loadTreeData() includes a sample query.\n   * @param array $parents\n   *   An array of the menu link ID values that are in the path from the current\n   *   page to the root of the menu tree.\n   * @param int $depth\n   *   The minimum depth to include in the returned menu tree.\n   *\n   * @return array\n   *   The fully built tree.\n   *\n   * @see \\Drupal\\Core\\Menu\\MenuTreeStorage::loadTreeData()\n   *\/",1089],["T_WHITESPACE","\n  ",1110],["T_PROTECTED","protected",1111],["T_WHITESPACE"," ",1111],["T_FUNCTION","function",1111],["T_WHITESPACE"," ",1111],["T_STRING","treeDataRecursive",1111],"(",["T_ARRAY","array",1111],["T_WHITESPACE"," ",1111],"&",["T_VARIABLE","$links",1111],",",["T_WHITESPACE"," ",1111],["T_ARRAY","array",1111],["T_WHITESPACE"," ",1111],["T_VARIABLE","$parents",1111],",",["T_WHITESPACE"," ",1111],["T_VARIABLE","$depth",1111],")",["T_WHITESPACE"," ",1111],"{",["T_WHITESPACE","\n    ",1111],["T_VARIABLE","$tree",1112],["T_WHITESPACE"," ",1112],"=",["T_WHITESPACE"," ",1112],["T_ARRAY","array",1112],"(",")",";",["T_WHITESPACE","\n    ",1112],["T_WHILE","while",1113],["T_WHITESPACE"," ",1113],"(",["T_VARIABLE","$tree_link_definition",1113],["T_WHITESPACE"," ",1113],"=",["T_WHITESPACE"," ",1113],["T_STRING","array_pop",1113],"(",["T_VARIABLE","$links",1113],")",")",["T_WHITESPACE"," ",1113],"{",["T_WHITESPACE","\n      ",1113],["T_VARIABLE","$tree",1114],"[",["T_VARIABLE","$tree_link_definition",1114],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",1114],"]","]",["T_WHITESPACE"," ",1114],"=",["T_WHITESPACE"," ",1114],["T_ARRAY","array",1114],"(",["T_WHITESPACE","\n        ",1114],["T_CONSTANT_ENCAPSED_STRING","'definition'",1115],["T_WHITESPACE"," ",1115],["T_DOUBLE_ARROW","=>",1115],["T_WHITESPACE"," ",1115],["T_VARIABLE","$this",1115],["T_OBJECT_OPERATOR","->",1115],["T_STRING","prepareLink",1115],"(",["T_VARIABLE","$tree_link_definition",1115],",",["T_WHITESPACE"," ",1115],["T_STRING","TRUE",1115],")",",",["T_WHITESPACE","\n        ",1115],["T_CONSTANT_ENCAPSED_STRING","'has_children'",1116],["T_WHITESPACE"," ",1116],["T_DOUBLE_ARROW","=>",1116],["T_WHITESPACE"," ",1116],["T_VARIABLE","$tree_link_definition",1116],"[",["T_CONSTANT_ENCAPSED_STRING","'has_children'",1116],"]",",",["T_WHITESPACE","\n        ",1116],["T_COMMENT","\/\/ We need to determine if we're on the path to root so we can later\n",1117],["T_WHITESPACE","        ",1118],["T_COMMENT","\/\/ build the correct active trail.\n",1118],["T_WHITESPACE","        ",1119],["T_CONSTANT_ENCAPSED_STRING","'in_active_trail'",1119],["T_WHITESPACE"," ",1119],["T_DOUBLE_ARROW","=>",1119],["T_WHITESPACE"," ",1119],["T_STRING","in_array",1119],"(",["T_VARIABLE","$tree_link_definition",1119],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",1119],"]",",",["T_WHITESPACE"," ",1119],["T_VARIABLE","$parents",1119],")",",",["T_WHITESPACE","\n        ",1119],["T_CONSTANT_ENCAPSED_STRING","'subtree'",1120],["T_WHITESPACE"," ",1120],["T_DOUBLE_ARROW","=>",1120],["T_WHITESPACE"," ",1120],["T_ARRAY","array",1120],"(",")",",",["T_WHITESPACE","\n        ",1120],["T_CONSTANT_ENCAPSED_STRING","'depth'",1121],["T_WHITESPACE"," ",1121],["T_DOUBLE_ARROW","=>",1121],["T_WHITESPACE"," ",1121],["T_VARIABLE","$tree_link_definition",1121],"[",["T_CONSTANT_ENCAPSED_STRING","'depth'",1121],"]",",",["T_WHITESPACE","\n      ",1121],")",";",["T_WHITESPACE","\n      ",1122],["T_COMMENT","\/\/ Look ahead to the next link, but leave it on the array so it's\n",1123],["T_WHITESPACE","      ",1124],["T_COMMENT","\/\/ available to other recursive function calls if we return or build a\n",1124],["T_WHITESPACE","      ",1125],["T_COMMENT","\/\/ sub-tree.\n",1125],["T_WHITESPACE","      ",1126],["T_VARIABLE","$next",1126],["T_WHITESPACE"," ",1126],"=",["T_WHITESPACE"," ",1126],["T_STRING","end",1126],"(",["T_VARIABLE","$links",1126],")",";",["T_WHITESPACE","\n      ",1126],["T_COMMENT","\/\/ Check whether the next link is the first in a new sub-tree.\n",1127],["T_WHITESPACE","      ",1128],["T_IF","if",1128],["T_WHITESPACE"," ",1128],"(",["T_VARIABLE","$next",1128],["T_WHITESPACE"," ",1128],["T_BOOLEAN_AND","&&",1128],["T_WHITESPACE"," ",1128],["T_VARIABLE","$next",1128],"[",["T_CONSTANT_ENCAPSED_STRING","'depth'",1128],"]",["T_WHITESPACE"," ",1128],">",["T_WHITESPACE"," ",1128],["T_VARIABLE","$depth",1128],")",["T_WHITESPACE"," ",1128],"{",["T_WHITESPACE","\n        ",1128],["T_COMMENT","\/\/ Recursively call doBuildTreeData to build the sub-tree.\n",1129],["T_WHITESPACE","        ",1130],["T_VARIABLE","$tree",1130],"[",["T_VARIABLE","$tree_link_definition",1130],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",1130],"]","]","[",["T_CONSTANT_ENCAPSED_STRING","'subtree'",1130],"]",["T_WHITESPACE"," ",1130],"=",["T_WHITESPACE"," ",1130],["T_VARIABLE","$this",1130],["T_OBJECT_OPERATOR","->",1130],["T_STRING","treeDataRecursive",1130],"(",["T_VARIABLE","$links",1130],",",["T_WHITESPACE"," ",1130],["T_VARIABLE","$parents",1130],",",["T_WHITESPACE"," ",1130],["T_VARIABLE","$next",1130],"[",["T_CONSTANT_ENCAPSED_STRING","'depth'",1130],"]",")",";",["T_WHITESPACE","\n        ",1130],["T_COMMENT","\/\/ Fetch next link after filling the sub-tree.\n",1131],["T_WHITESPACE","        ",1132],["T_VARIABLE","$next",1132],["T_WHITESPACE"," ",1132],"=",["T_WHITESPACE"," ",1132],["T_STRING","end",1132],"(",["T_VARIABLE","$links",1132],")",";",["T_WHITESPACE","\n      ",1132],"}",["T_WHITESPACE","\n      ",1133],["T_COMMENT","\/\/ Determine if we should exit the loop and return.\n",1134],["T_WHITESPACE","      ",1135],["T_IF","if",1135],["T_WHITESPACE"," ",1135],"(","!",["T_VARIABLE","$next",1135],["T_WHITESPACE"," ",1135],["T_BOOLEAN_OR","||",1135],["T_WHITESPACE"," ",1135],["T_VARIABLE","$next",1135],"[",["T_CONSTANT_ENCAPSED_STRING","'depth'",1135],"]",["T_WHITESPACE"," ",1135],"<",["T_WHITESPACE"," ",1135],["T_VARIABLE","$depth",1135],")",["T_WHITESPACE"," ",1135],"{",["T_WHITESPACE","\n        ",1135],["T_BREAK","break",1136],";",["T_WHITESPACE","\n      ",1136],"}",["T_WHITESPACE","\n    ",1137],"}",["T_WHITESPACE","\n    ",1138],["T_RETURN","return",1139],["T_WHITESPACE"," ",1139],["T_VARIABLE","$tree",1139],";",["T_WHITESPACE","\n  ",1139],"}",["T_WHITESPACE","\n\n  ",1140],["T_DOC_COMMENT","\/**\n   * Checks if the tree table exists and create it if not.\n   *\n   * @return bool\n   *   TRUE if the table was created, FALSE otherwise.\n   *\n   * @throws \\Drupal\\Component\\Plugin\\Exception\\PluginException\n   *   If a database error occurs.\n   *\/",1142],["T_WHITESPACE","\n  ",1150],["T_PROTECTED","protected",1151],["T_WHITESPACE"," ",1151],["T_FUNCTION","function",1151],["T_WHITESPACE"," ",1151],["T_STRING","ensureTableExists",1151],"(",")",["T_WHITESPACE"," ",1151],"{",["T_WHITESPACE","\n    ",1151],["T_TRY","try",1152],["T_WHITESPACE"," ",1152],"{",["T_WHITESPACE","\n      ",1152],["T_IF","if",1153],["T_WHITESPACE"," ",1153],"(","!",["T_VARIABLE","$this",1153],["T_OBJECT_OPERATOR","->",1153],["T_STRING","connection",1153],["T_OBJECT_OPERATOR","->",1153],["T_STRING","schema",1153],"(",")",["T_OBJECT_OPERATOR","->",1153],["T_STRING","tableExists",1153],"(",["T_VARIABLE","$this",1153],["T_OBJECT_OPERATOR","->",1153],["T_STRING","table",1153],")",")",["T_WHITESPACE"," ",1153],"{",["T_WHITESPACE","\n        ",1153],["T_VARIABLE","$this",1154],["T_OBJECT_OPERATOR","->",1154],["T_STRING","connection",1154],["T_OBJECT_OPERATOR","->",1154],["T_STRING","schema",1154],"(",")",["T_OBJECT_OPERATOR","->",1154],["T_STRING","createTable",1154],"(",["T_VARIABLE","$this",1154],["T_OBJECT_OPERATOR","->",1154],["T_STRING","table",1154],",",["T_WHITESPACE"," ",1154],["T_STATIC","static",1154],["T_DOUBLE_COLON","::",1154],["T_STRING","schemaDefinition",1154],"(",")",")",";",["T_WHITESPACE","\n        ",1154],["T_RETURN","return",1155],["T_WHITESPACE"," ",1155],["T_STRING","TRUE",1155],";",["T_WHITESPACE","\n      ",1155],"}",["T_WHITESPACE","\n    ",1156],"}",["T_WHITESPACE","\n    ",1157],["T_CATCH","catch",1158],["T_WHITESPACE"," ",1158],"(",["T_STRING","SchemaObjectExistsException",1158],["T_WHITESPACE"," ",1158],["T_VARIABLE","$e",1158],")",["T_WHITESPACE"," ",1158],"{",["T_WHITESPACE","\n      ",1158],["T_COMMENT","\/\/ If another process has already created the config table, attempting to\n",1159],["T_WHITESPACE","      ",1160],["T_COMMENT","\/\/ recreate it will throw an exception. In this case just catch the\n",1160],["T_WHITESPACE","      ",1161],["T_COMMENT","\/\/ exception and do nothing.\n",1161],["T_WHITESPACE","      ",1162],["T_RETURN","return",1162],["T_WHITESPACE"," ",1162],["T_STRING","TRUE",1162],";",["T_WHITESPACE","\n    ",1162],"}",["T_WHITESPACE","\n    ",1163],["T_CATCH","catch",1164],["T_WHITESPACE"," ",1164],"(",["T_NS_SEPARATOR","\\",1164],["T_STRING","Exception",1164],["T_WHITESPACE"," ",1164],["T_VARIABLE","$e",1164],")",["T_WHITESPACE"," ",1164],"{",["T_WHITESPACE","\n      ",1164],["T_THROW","throw",1165],["T_WHITESPACE"," ",1165],["T_NEW","new",1165],["T_WHITESPACE"," ",1165],["T_STRING","PluginException",1165],"(",["T_VARIABLE","$e",1165],["T_OBJECT_OPERATOR","->",1165],["T_STRING","getMessage",1165],"(",")",",",["T_WHITESPACE"," ",1165],["T_STRING","NULL",1165],",",["T_WHITESPACE"," ",1165],["T_VARIABLE","$e",1165],")",";",["T_WHITESPACE","\n    ",1165],"}",["T_WHITESPACE","\n    ",1166],["T_RETURN","return",1167],["T_WHITESPACE"," ",1167],["T_STRING","FALSE",1167],";",["T_WHITESPACE","\n  ",1167],"}",["T_WHITESPACE","\n\n  ",1168],["T_DOC_COMMENT","\/**\n   * Determines serialized fields in the storage.\n   *\n   * @return array\n   *   A list of fields that are serialized in the database.\n   *\/",1170],["T_WHITESPACE","\n  ",1175],["T_PROTECTED","protected",1176],["T_WHITESPACE"," ",1176],["T_FUNCTION","function",1176],["T_WHITESPACE"," ",1176],["T_STRING","serializedFields",1176],"(",")",["T_WHITESPACE"," ",1176],"{",["T_WHITESPACE","\n    ",1176],["T_IF","if",1177],["T_WHITESPACE"," ",1177],"(",["T_EMPTY","empty",1177],"(",["T_VARIABLE","$this",1177],["T_OBJECT_OPERATOR","->",1177],["T_STRING","serializedFields",1177],")",")",["T_WHITESPACE"," ",1177],"{",["T_WHITESPACE","\n      ",1177],["T_VARIABLE","$schema",1178],["T_WHITESPACE"," ",1178],"=",["T_WHITESPACE"," ",1178],["T_STATIC","static",1178],["T_DOUBLE_COLON","::",1178],["T_STRING","schemaDefinition",1178],"(",")",";",["T_WHITESPACE","\n      ",1178],["T_FOREACH","foreach",1179],["T_WHITESPACE"," ",1179],"(",["T_VARIABLE","$schema",1179],"[",["T_CONSTANT_ENCAPSED_STRING","'fields'",1179],"]",["T_WHITESPACE"," ",1179],["T_AS","as",1179],["T_WHITESPACE"," ",1179],["T_VARIABLE","$name",1179],["T_WHITESPACE"," ",1179],["T_DOUBLE_ARROW","=>",1179],["T_WHITESPACE"," ",1179],["T_VARIABLE","$field",1179],")",["T_WHITESPACE"," ",1179],"{",["T_WHITESPACE","\n        ",1179],["T_IF","if",1180],["T_WHITESPACE"," ",1180],"(","!",["T_EMPTY","empty",1180],"(",["T_VARIABLE","$field",1180],"[",["T_CONSTANT_ENCAPSED_STRING","'serialize'",1180],"]",")",")",["T_WHITESPACE"," ",1180],"{",["T_WHITESPACE","\n          ",1180],["T_VARIABLE","$this",1181],["T_OBJECT_OPERATOR","->",1181],["T_STRING","serializedFields",1181],"[","]",["T_WHITESPACE"," ",1181],"=",["T_WHITESPACE"," ",1181],["T_VARIABLE","$name",1181],";",["T_WHITESPACE","\n        ",1181],"}",["T_WHITESPACE","\n      ",1182],"}",["T_WHITESPACE","\n    ",1183],"}",["T_WHITESPACE","\n    ",1184],["T_RETURN","return",1185],["T_WHITESPACE"," ",1185],["T_VARIABLE","$this",1185],["T_OBJECT_OPERATOR","->",1185],["T_STRING","serializedFields",1185],";",["T_WHITESPACE","\n  ",1185],"}",["T_WHITESPACE","\n\n  ",1186],["T_DOC_COMMENT","\/**\n   * Determines fields that are part of the plugin definition.\n   *\n   * @return array\n   *   The list of the subset of fields that are part of the plugin definition.\n   *\/",1188],["T_WHITESPACE","\n  ",1193],["T_PROTECTED","protected",1194],["T_WHITESPACE"," ",1194],["T_FUNCTION","function",1194],["T_WHITESPACE"," ",1194],["T_STRING","definitionFields",1194],"(",")",["T_WHITESPACE"," ",1194],"{",["T_WHITESPACE","\n    ",1194],["T_RETURN","return",1195],["T_WHITESPACE"," ",1195],["T_VARIABLE","$this",1195],["T_OBJECT_OPERATOR","->",1195],["T_STRING","definitionFields",1195],";",["T_WHITESPACE","\n  ",1195],"}",["T_WHITESPACE","\n\n  ",1196],["T_DOC_COMMENT","\/**\n   * Defines the schema for the tree table.\n   *\n   * @return array\n   *   The schema API definition for the SQL storage table.\n   *\/",1198],["T_WHITESPACE","\n  ",1203],["T_PROTECTED","protected",1204],["T_WHITESPACE"," ",1204],["T_STATIC","static",1204],["T_WHITESPACE"," ",1204],["T_FUNCTION","function",1204],["T_WHITESPACE"," ",1204],["T_STRING","schemaDefinition",1204],"(",")",["T_WHITESPACE"," ",1204],"{",["T_WHITESPACE","\n    ",1204],["T_VARIABLE","$schema",1205],["T_WHITESPACE"," ",1205],"=",["T_WHITESPACE"," ",1205],["T_ARRAY","array",1205],"(",["T_WHITESPACE","\n      ",1205],["T_CONSTANT_ENCAPSED_STRING","'description'",1206],["T_WHITESPACE"," ",1206],["T_DOUBLE_ARROW","=>",1206],["T_WHITESPACE"," ",1206],["T_CONSTANT_ENCAPSED_STRING","'Contains the menu tree hierarchy.'",1206],",",["T_WHITESPACE","\n      ",1206],["T_CONSTANT_ENCAPSED_STRING","'fields'",1207],["T_WHITESPACE"," ",1207],["T_DOUBLE_ARROW","=>",1207],["T_WHITESPACE"," ",1207],["T_ARRAY","array",1207],"(",["T_WHITESPACE","\n        ",1207],["T_CONSTANT_ENCAPSED_STRING","'menu_name'",1208],["T_WHITESPACE"," ",1208],["T_DOUBLE_ARROW","=>",1208],["T_WHITESPACE"," ",1208],["T_ARRAY","array",1208],"(",["T_WHITESPACE","\n          ",1208],["T_CONSTANT_ENCAPSED_STRING","'description'",1209],["T_WHITESPACE"," ",1209],["T_DOUBLE_ARROW","=>",1209],["T_WHITESPACE"," ",1209],["T_CONSTANT_ENCAPSED_STRING","\"The menu name. All links with the same menu name (such as 'tools') are part of the same menu.\"",1209],",",["T_WHITESPACE","\n          ",1209],["T_CONSTANT_ENCAPSED_STRING","'type'",1210],["T_WHITESPACE"," ",1210],["T_DOUBLE_ARROW","=>",1210],["T_WHITESPACE"," ",1210],["T_CONSTANT_ENCAPSED_STRING","'varchar_ascii'",1210],",",["T_WHITESPACE","\n          ",1210],["T_CONSTANT_ENCAPSED_STRING","'length'",1211],["T_WHITESPACE"," ",1211],["T_DOUBLE_ARROW","=>",1211],["T_WHITESPACE"," ",1211],["T_LNUMBER","32",1211],",",["T_WHITESPACE","\n          ",1211],["T_CONSTANT_ENCAPSED_STRING","'not null'",1212],["T_WHITESPACE"," ",1212],["T_DOUBLE_ARROW","=>",1212],["T_WHITESPACE"," ",1212],["T_STRING","TRUE",1212],",",["T_WHITESPACE","\n          ",1212],["T_CONSTANT_ENCAPSED_STRING","'default'",1213],["T_WHITESPACE"," ",1213],["T_DOUBLE_ARROW","=>",1213],["T_WHITESPACE"," ",1213],["T_CONSTANT_ENCAPSED_STRING","''",1213],",",["T_WHITESPACE","\n        ",1213],")",",",["T_WHITESPACE","\n        ",1214],["T_CONSTANT_ENCAPSED_STRING","'mlid'",1215],["T_WHITESPACE"," ",1215],["T_DOUBLE_ARROW","=>",1215],["T_WHITESPACE"," ",1215],["T_ARRAY","array",1215],"(",["T_WHITESPACE","\n          ",1215],["T_CONSTANT_ENCAPSED_STRING","'description'",1216],["T_WHITESPACE"," ",1216],["T_DOUBLE_ARROW","=>",1216],["T_WHITESPACE"," ",1216],["T_CONSTANT_ENCAPSED_STRING","'The menu link ID (mlid) is the integer primary key.'",1216],",",["T_WHITESPACE","\n          ",1216],["T_CONSTANT_ENCAPSED_STRING","'type'",1217],["T_WHITESPACE"," ",1217],["T_DOUBLE_ARROW","=>",1217],["T_WHITESPACE"," ",1217],["T_CONSTANT_ENCAPSED_STRING","'serial'",1217],",",["T_WHITESPACE","\n          ",1217],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",1218],["T_WHITESPACE"," ",1218],["T_DOUBLE_ARROW","=>",1218],["T_WHITESPACE"," ",1218],["T_STRING","TRUE",1218],",",["T_WHITESPACE","\n          ",1218],["T_CONSTANT_ENCAPSED_STRING","'not null'",1219],["T_WHITESPACE"," ",1219],["T_DOUBLE_ARROW","=>",1219],["T_WHITESPACE"," ",1219],["T_STRING","TRUE",1219],",",["T_WHITESPACE","\n        ",1219],")",",",["T_WHITESPACE","\n        ",1220],["T_CONSTANT_ENCAPSED_STRING","'id'",1221],["T_WHITESPACE"," ",1221],["T_DOUBLE_ARROW","=>",1221],["T_WHITESPACE"," ",1221],["T_ARRAY","array",1221],"(",["T_WHITESPACE","\n          ",1221],["T_CONSTANT_ENCAPSED_STRING","'description'",1222],["T_WHITESPACE"," ",1222],["T_DOUBLE_ARROW","=>",1222],["T_WHITESPACE"," ",1222],["T_CONSTANT_ENCAPSED_STRING","'Unique machine name: the plugin ID.'",1222],",",["T_WHITESPACE","\n          ",1222],["T_CONSTANT_ENCAPSED_STRING","'type'",1223],["T_WHITESPACE"," ",1223],["T_DOUBLE_ARROW","=>",1223],["T_WHITESPACE"," ",1223],["T_CONSTANT_ENCAPSED_STRING","'varchar_ascii'",1223],",",["T_WHITESPACE","\n          ",1223],["T_CONSTANT_ENCAPSED_STRING","'length'",1224],["T_WHITESPACE"," ",1224],["T_DOUBLE_ARROW","=>",1224],["T_WHITESPACE"," ",1224],["T_LNUMBER","255",1224],",",["T_WHITESPACE","\n          ",1224],["T_CONSTANT_ENCAPSED_STRING","'not null'",1225],["T_WHITESPACE"," ",1225],["T_DOUBLE_ARROW","=>",1225],["T_WHITESPACE"," ",1225],["T_STRING","TRUE",1225],",",["T_WHITESPACE","\n        ",1225],")",",",["T_WHITESPACE","\n        ",1226],["T_CONSTANT_ENCAPSED_STRING","'parent'",1227],["T_WHITESPACE"," ",1227],["T_DOUBLE_ARROW","=>",1227],["T_WHITESPACE"," ",1227],["T_ARRAY","array",1227],"(",["T_WHITESPACE","\n          ",1227],["T_CONSTANT_ENCAPSED_STRING","'description'",1228],["T_WHITESPACE"," ",1228],["T_DOUBLE_ARROW","=>",1228],["T_WHITESPACE"," ",1228],["T_CONSTANT_ENCAPSED_STRING","'The plugin ID for the parent of this link.'",1228],",",["T_WHITESPACE","\n          ",1228],["T_CONSTANT_ENCAPSED_STRING","'type'",1229],["T_WHITESPACE"," ",1229],["T_DOUBLE_ARROW","=>",1229],["T_WHITESPACE"," ",1229],["T_CONSTANT_ENCAPSED_STRING","'varchar_ascii'",1229],",",["T_WHITESPACE","\n          ",1229],["T_CONSTANT_ENCAPSED_STRING","'length'",1230],["T_WHITESPACE"," ",1230],["T_DOUBLE_ARROW","=>",1230],["T_WHITESPACE"," ",1230],["T_LNUMBER","255",1230],",",["T_WHITESPACE","\n          ",1230],["T_CONSTANT_ENCAPSED_STRING","'not null'",1231],["T_WHITESPACE"," ",1231],["T_DOUBLE_ARROW","=>",1231],["T_WHITESPACE"," ",1231],["T_STRING","TRUE",1231],",",["T_WHITESPACE","\n          ",1231],["T_CONSTANT_ENCAPSED_STRING","'default'",1232],["T_WHITESPACE"," ",1232],["T_DOUBLE_ARROW","=>",1232],["T_WHITESPACE"," ",1232],["T_CONSTANT_ENCAPSED_STRING","''",1232],",",["T_WHITESPACE","\n        ",1232],")",",",["T_WHITESPACE","\n        ",1233],["T_CONSTANT_ENCAPSED_STRING","'route_name'",1234],["T_WHITESPACE"," ",1234],["T_DOUBLE_ARROW","=>",1234],["T_WHITESPACE"," ",1234],["T_ARRAY","array",1234],"(",["T_WHITESPACE","\n          ",1234],["T_CONSTANT_ENCAPSED_STRING","'description'",1235],["T_WHITESPACE"," ",1235],["T_DOUBLE_ARROW","=>",1235],["T_WHITESPACE"," ",1235],["T_CONSTANT_ENCAPSED_STRING","'The machine name of a defined Symfony Route this menu item represents.'",1235],",",["T_WHITESPACE","\n          ",1235],["T_CONSTANT_ENCAPSED_STRING","'type'",1236],["T_WHITESPACE"," ",1236],["T_DOUBLE_ARROW","=>",1236],["T_WHITESPACE"," ",1236],["T_CONSTANT_ENCAPSED_STRING","'varchar_ascii'",1236],",",["T_WHITESPACE","\n          ",1236],["T_CONSTANT_ENCAPSED_STRING","'length'",1237],["T_WHITESPACE"," ",1237],["T_DOUBLE_ARROW","=>",1237],["T_WHITESPACE"," ",1237],["T_LNUMBER","255",1237],",",["T_WHITESPACE","\n        ",1237],")",",",["T_WHITESPACE","\n        ",1238],["T_CONSTANT_ENCAPSED_STRING","'route_param_key'",1239],["T_WHITESPACE"," ",1239],["T_DOUBLE_ARROW","=>",1239],["T_WHITESPACE"," ",1239],["T_ARRAY","array",1239],"(",["T_WHITESPACE","\n          ",1239],["T_CONSTANT_ENCAPSED_STRING","'description'",1240],["T_WHITESPACE"," ",1240],["T_DOUBLE_ARROW","=>",1240],["T_WHITESPACE"," ",1240],["T_CONSTANT_ENCAPSED_STRING","'An encoded string of route parameters for loading by route.'",1240],",",["T_WHITESPACE","\n          ",1240],["T_CONSTANT_ENCAPSED_STRING","'type'",1241],["T_WHITESPACE"," ",1241],["T_DOUBLE_ARROW","=>",1241],["T_WHITESPACE"," ",1241],["T_CONSTANT_ENCAPSED_STRING","'varchar'",1241],",",["T_WHITESPACE","\n          ",1241],["T_CONSTANT_ENCAPSED_STRING","'length'",1242],["T_WHITESPACE"," ",1242],["T_DOUBLE_ARROW","=>",1242],["T_WHITESPACE"," ",1242],["T_LNUMBER","255",1242],",",["T_WHITESPACE","\n        ",1242],")",",",["T_WHITESPACE","\n        ",1243],["T_CONSTANT_ENCAPSED_STRING","'route_parameters'",1244],["T_WHITESPACE"," ",1244],["T_DOUBLE_ARROW","=>",1244],["T_WHITESPACE"," ",1244],["T_ARRAY","array",1244],"(",["T_WHITESPACE","\n          ",1244],["T_CONSTANT_ENCAPSED_STRING","'description'",1245],["T_WHITESPACE"," ",1245],["T_DOUBLE_ARROW","=>",1245],["T_WHITESPACE"," ",1245],["T_CONSTANT_ENCAPSED_STRING","'Serialized array of route parameters of this menu link.'",1245],",",["T_WHITESPACE","\n          ",1245],["T_CONSTANT_ENCAPSED_STRING","'type'",1246],["T_WHITESPACE"," ",1246],["T_DOUBLE_ARROW","=>",1246],["T_WHITESPACE"," ",1246],["T_CONSTANT_ENCAPSED_STRING","'blob'",1246],",",["T_WHITESPACE","\n          ",1246],["T_CONSTANT_ENCAPSED_STRING","'size'",1247],["T_WHITESPACE"," ",1247],["T_DOUBLE_ARROW","=>",1247],["T_WHITESPACE"," ",1247],["T_CONSTANT_ENCAPSED_STRING","'big'",1247],",",["T_WHITESPACE","\n          ",1247],["T_CONSTANT_ENCAPSED_STRING","'not null'",1248],["T_WHITESPACE"," ",1248],["T_DOUBLE_ARROW","=>",1248],["T_WHITESPACE"," ",1248],["T_STRING","FALSE",1248],",",["T_WHITESPACE","\n          ",1248],["T_CONSTANT_ENCAPSED_STRING","'serialize'",1249],["T_WHITESPACE"," ",1249],["T_DOUBLE_ARROW","=>",1249],["T_WHITESPACE"," ",1249],["T_STRING","TRUE",1249],",",["T_WHITESPACE","\n        ",1249],")",",",["T_WHITESPACE","\n        ",1250],["T_CONSTANT_ENCAPSED_STRING","'url'",1251],["T_WHITESPACE"," ",1251],["T_DOUBLE_ARROW","=>",1251],["T_WHITESPACE"," ",1251],["T_ARRAY","array",1251],"(",["T_WHITESPACE","\n          ",1251],["T_CONSTANT_ENCAPSED_STRING","'description'",1252],["T_WHITESPACE"," ",1252],["T_DOUBLE_ARROW","=>",1252],["T_WHITESPACE"," ",1252],["T_CONSTANT_ENCAPSED_STRING","'The external path this link points to (when not using a route).'",1252],",",["T_WHITESPACE","\n          ",1252],["T_CONSTANT_ENCAPSED_STRING","'type'",1253],["T_WHITESPACE"," ",1253],["T_DOUBLE_ARROW","=>",1253],["T_WHITESPACE"," ",1253],["T_CONSTANT_ENCAPSED_STRING","'varchar'",1253],",",["T_WHITESPACE","\n          ",1253],["T_CONSTANT_ENCAPSED_STRING","'length'",1254],["T_WHITESPACE"," ",1254],["T_DOUBLE_ARROW","=>",1254],["T_WHITESPACE"," ",1254],["T_LNUMBER","255",1254],",",["T_WHITESPACE","\n          ",1254],["T_CONSTANT_ENCAPSED_STRING","'not null'",1255],["T_WHITESPACE"," ",1255],["T_DOUBLE_ARROW","=>",1255],["T_WHITESPACE"," ",1255],["T_STRING","TRUE",1255],",",["T_WHITESPACE","\n          ",1255],["T_CONSTANT_ENCAPSED_STRING","'default'",1256],["T_WHITESPACE"," ",1256],["T_DOUBLE_ARROW","=>",1256],["T_WHITESPACE"," ",1256],["T_CONSTANT_ENCAPSED_STRING","''",1256],",",["T_WHITESPACE","\n        ",1256],")",",",["T_WHITESPACE","\n        ",1257],["T_CONSTANT_ENCAPSED_STRING","'title'",1258],["T_WHITESPACE"," ",1258],["T_DOUBLE_ARROW","=>",1258],["T_WHITESPACE"," ",1258],["T_ARRAY","array",1258],"(",["T_WHITESPACE","\n          ",1258],["T_CONSTANT_ENCAPSED_STRING","'description'",1259],["T_WHITESPACE"," ",1259],["T_DOUBLE_ARROW","=>",1259],["T_WHITESPACE"," ",1259],["T_CONSTANT_ENCAPSED_STRING","'The serialized title for the link. May be a TranslatableMarkup.'",1259],",",["T_WHITESPACE","\n          ",1259],["T_CONSTANT_ENCAPSED_STRING","'type'",1260],["T_WHITESPACE"," ",1260],["T_DOUBLE_ARROW","=>",1260],["T_WHITESPACE"," ",1260],["T_CONSTANT_ENCAPSED_STRING","'blob'",1260],",",["T_WHITESPACE","\n          ",1260],["T_CONSTANT_ENCAPSED_STRING","'size'",1261],["T_WHITESPACE"," ",1261],["T_DOUBLE_ARROW","=>",1261],["T_WHITESPACE"," ",1261],["T_CONSTANT_ENCAPSED_STRING","'big'",1261],",",["T_WHITESPACE","\n          ",1261],["T_CONSTANT_ENCAPSED_STRING","'not null'",1262],["T_WHITESPACE"," ",1262],["T_DOUBLE_ARROW","=>",1262],["T_WHITESPACE"," ",1262],["T_STRING","FALSE",1262],",",["T_WHITESPACE","\n          ",1262],["T_CONSTANT_ENCAPSED_STRING","'serialize'",1263],["T_WHITESPACE"," ",1263],["T_DOUBLE_ARROW","=>",1263],["T_WHITESPACE"," ",1263],["T_STRING","TRUE",1263],",",["T_WHITESPACE","\n        ",1263],")",",",["T_WHITESPACE","\n        ",1264],["T_CONSTANT_ENCAPSED_STRING","'description'",1265],["T_WHITESPACE"," ",1265],["T_DOUBLE_ARROW","=>",1265],["T_WHITESPACE"," ",1265],["T_ARRAY","array",1265],"(",["T_WHITESPACE","\n          ",1265],["T_CONSTANT_ENCAPSED_STRING","'description'",1266],["T_WHITESPACE"," ",1266],["T_DOUBLE_ARROW","=>",1266],["T_WHITESPACE"," ",1266],["T_CONSTANT_ENCAPSED_STRING","'The serialized description of this link - used for admin pages and title attribute. May be a TranslatableMarkup.'",1266],",",["T_WHITESPACE","\n          ",1266],["T_CONSTANT_ENCAPSED_STRING","'type'",1267],["T_WHITESPACE"," ",1267],["T_DOUBLE_ARROW","=>",1267],["T_WHITESPACE"," ",1267],["T_CONSTANT_ENCAPSED_STRING","'blob'",1267],",",["T_WHITESPACE","\n          ",1267],["T_CONSTANT_ENCAPSED_STRING","'size'",1268],["T_WHITESPACE"," ",1268],["T_DOUBLE_ARROW","=>",1268],["T_WHITESPACE"," ",1268],["T_CONSTANT_ENCAPSED_STRING","'big'",1268],",",["T_WHITESPACE","\n          ",1268],["T_CONSTANT_ENCAPSED_STRING","'not null'",1269],["T_WHITESPACE"," ",1269],["T_DOUBLE_ARROW","=>",1269],["T_WHITESPACE"," ",1269],["T_STRING","FALSE",1269],",",["T_WHITESPACE","\n          ",1269],["T_CONSTANT_ENCAPSED_STRING","'serialize'",1270],["T_WHITESPACE"," ",1270],["T_DOUBLE_ARROW","=>",1270],["T_WHITESPACE"," ",1270],["T_STRING","TRUE",1270],",",["T_WHITESPACE","\n        ",1270],")",",",["T_WHITESPACE","\n        ",1271],["T_CONSTANT_ENCAPSED_STRING","'class'",1272],["T_WHITESPACE"," ",1272],["T_DOUBLE_ARROW","=>",1272],["T_WHITESPACE"," ",1272],["T_ARRAY","array",1272],"(",["T_WHITESPACE","\n          ",1272],["T_CONSTANT_ENCAPSED_STRING","'description'",1273],["T_WHITESPACE"," ",1273],["T_DOUBLE_ARROW","=>",1273],["T_WHITESPACE"," ",1273],["T_CONSTANT_ENCAPSED_STRING","'The class for this link plugin.'",1273],",",["T_WHITESPACE","\n          ",1273],["T_CONSTANT_ENCAPSED_STRING","'type'",1274],["T_WHITESPACE"," ",1274],["T_DOUBLE_ARROW","=>",1274],["T_WHITESPACE"," ",1274],["T_CONSTANT_ENCAPSED_STRING","'text'",1274],",",["T_WHITESPACE","\n          ",1274],["T_CONSTANT_ENCAPSED_STRING","'not null'",1275],["T_WHITESPACE"," ",1275],["T_DOUBLE_ARROW","=>",1275],["T_WHITESPACE"," ",1275],["T_STRING","FALSE",1275],",",["T_WHITESPACE","\n        ",1275],")",",",["T_WHITESPACE","\n        ",1276],["T_CONSTANT_ENCAPSED_STRING","'options'",1277],["T_WHITESPACE"," ",1277],["T_DOUBLE_ARROW","=>",1277],["T_WHITESPACE"," ",1277],["T_ARRAY","array",1277],"(",["T_WHITESPACE","\n          ",1277],["T_CONSTANT_ENCAPSED_STRING","'description'",1278],["T_WHITESPACE"," ",1278],["T_DOUBLE_ARROW","=>",1278],["T_WHITESPACE"," ",1278],["T_CONSTANT_ENCAPSED_STRING","'A serialized array of URL options, such as a query string or HTML attributes.'",1278],",",["T_WHITESPACE","\n          ",1278],["T_CONSTANT_ENCAPSED_STRING","'type'",1279],["T_WHITESPACE"," ",1279],["T_DOUBLE_ARROW","=>",1279],["T_WHITESPACE"," ",1279],["T_CONSTANT_ENCAPSED_STRING","'blob'",1279],",",["T_WHITESPACE","\n          ",1279],["T_CONSTANT_ENCAPSED_STRING","'size'",1280],["T_WHITESPACE"," ",1280],["T_DOUBLE_ARROW","=>",1280],["T_WHITESPACE"," ",1280],["T_CONSTANT_ENCAPSED_STRING","'big'",1280],",",["T_WHITESPACE","\n          ",1280],["T_CONSTANT_ENCAPSED_STRING","'not null'",1281],["T_WHITESPACE"," ",1281],["T_DOUBLE_ARROW","=>",1281],["T_WHITESPACE"," ",1281],["T_STRING","FALSE",1281],",",["T_WHITESPACE","\n          ",1281],["T_CONSTANT_ENCAPSED_STRING","'serialize'",1282],["T_WHITESPACE"," ",1282],["T_DOUBLE_ARROW","=>",1282],["T_WHITESPACE"," ",1282],["T_STRING","TRUE",1282],",",["T_WHITESPACE","\n        ",1282],")",",",["T_WHITESPACE","\n        ",1283],["T_CONSTANT_ENCAPSED_STRING","'provider'",1284],["T_WHITESPACE"," ",1284],["T_DOUBLE_ARROW","=>",1284],["T_WHITESPACE"," ",1284],["T_ARRAY","array",1284],"(",["T_WHITESPACE","\n          ",1284],["T_CONSTANT_ENCAPSED_STRING","'description'",1285],["T_WHITESPACE"," ",1285],["T_DOUBLE_ARROW","=>",1285],["T_WHITESPACE"," ",1285],["T_CONSTANT_ENCAPSED_STRING","'The name of the module that generated this link.'",1285],",",["T_WHITESPACE","\n          ",1285],["T_CONSTANT_ENCAPSED_STRING","'type'",1286],["T_WHITESPACE"," ",1286],["T_DOUBLE_ARROW","=>",1286],["T_WHITESPACE"," ",1286],["T_CONSTANT_ENCAPSED_STRING","'varchar_ascii'",1286],",",["T_WHITESPACE","\n          ",1286],["T_CONSTANT_ENCAPSED_STRING","'length'",1287],["T_WHITESPACE"," ",1287],["T_DOUBLE_ARROW","=>",1287],["T_WHITESPACE"," ",1287],["T_STRING","DRUPAL_EXTENSION_NAME_MAX_LENGTH",1287],",",["T_WHITESPACE","\n          ",1287],["T_CONSTANT_ENCAPSED_STRING","'not null'",1288],["T_WHITESPACE"," ",1288],["T_DOUBLE_ARROW","=>",1288],["T_WHITESPACE"," ",1288],["T_STRING","TRUE",1288],",",["T_WHITESPACE","\n          ",1288],["T_CONSTANT_ENCAPSED_STRING","'default'",1289],["T_WHITESPACE"," ",1289],["T_DOUBLE_ARROW","=>",1289],["T_WHITESPACE"," ",1289],["T_CONSTANT_ENCAPSED_STRING","'system'",1289],",",["T_WHITESPACE","\n        ",1289],")",",",["T_WHITESPACE","\n        ",1290],["T_CONSTANT_ENCAPSED_STRING","'enabled'",1291],["T_WHITESPACE"," ",1291],["T_DOUBLE_ARROW","=>",1291],["T_WHITESPACE"," ",1291],["T_ARRAY","array",1291],"(",["T_WHITESPACE","\n          ",1291],["T_CONSTANT_ENCAPSED_STRING","'description'",1292],["T_WHITESPACE"," ",1292],["T_DOUBLE_ARROW","=>",1292],["T_WHITESPACE"," ",1292],["T_CONSTANT_ENCAPSED_STRING","'A flag for whether the link should be rendered in menus. (0 = a disabled menu item that may be shown on admin screens, 1 = a normal, visible link)'",1292],",",["T_WHITESPACE","\n          ",1292],["T_CONSTANT_ENCAPSED_STRING","'type'",1293],["T_WHITESPACE"," ",1293],["T_DOUBLE_ARROW","=>",1293],["T_WHITESPACE"," ",1293],["T_CONSTANT_ENCAPSED_STRING","'int'",1293],",",["T_WHITESPACE","\n          ",1293],["T_CONSTANT_ENCAPSED_STRING","'not null'",1294],["T_WHITESPACE"," ",1294],["T_DOUBLE_ARROW","=>",1294],["T_WHITESPACE"," ",1294],["T_STRING","TRUE",1294],",",["T_WHITESPACE","\n          ",1294],["T_CONSTANT_ENCAPSED_STRING","'default'",1295],["T_WHITESPACE"," ",1295],["T_DOUBLE_ARROW","=>",1295],["T_WHITESPACE"," ",1295],["T_LNUMBER","1",1295],",",["T_WHITESPACE","\n          ",1295],["T_CONSTANT_ENCAPSED_STRING","'size'",1296],["T_WHITESPACE"," ",1296],["T_DOUBLE_ARROW","=>",1296],["T_WHITESPACE"," ",1296],["T_CONSTANT_ENCAPSED_STRING","'small'",1296],",",["T_WHITESPACE","\n        ",1296],")",",",["T_WHITESPACE","\n        ",1297],["T_CONSTANT_ENCAPSED_STRING","'discovered'",1298],["T_WHITESPACE"," ",1298],["T_DOUBLE_ARROW","=>",1298],["T_WHITESPACE"," ",1298],["T_ARRAY","array",1298],"(",["T_WHITESPACE","\n          ",1298],["T_CONSTANT_ENCAPSED_STRING","'description'",1299],["T_WHITESPACE"," ",1299],["T_DOUBLE_ARROW","=>",1299],["T_WHITESPACE"," ",1299],["T_CONSTANT_ENCAPSED_STRING","'A flag for whether the link was discovered, so can be purged on rebuild'",1299],",",["T_WHITESPACE","\n          ",1299],["T_CONSTANT_ENCAPSED_STRING","'type'",1300],["T_WHITESPACE"," ",1300],["T_DOUBLE_ARROW","=>",1300],["T_WHITESPACE"," ",1300],["T_CONSTANT_ENCAPSED_STRING","'int'",1300],",",["T_WHITESPACE","\n          ",1300],["T_CONSTANT_ENCAPSED_STRING","'not null'",1301],["T_WHITESPACE"," ",1301],["T_DOUBLE_ARROW","=>",1301],["T_WHITESPACE"," ",1301],["T_STRING","TRUE",1301],",",["T_WHITESPACE","\n          ",1301],["T_CONSTANT_ENCAPSED_STRING","'default'",1302],["T_WHITESPACE"," ",1302],["T_DOUBLE_ARROW","=>",1302],["T_WHITESPACE"," ",1302],["T_LNUMBER","0",1302],",",["T_WHITESPACE","\n          ",1302],["T_CONSTANT_ENCAPSED_STRING","'size'",1303],["T_WHITESPACE"," ",1303],["T_DOUBLE_ARROW","=>",1303],["T_WHITESPACE"," ",1303],["T_CONSTANT_ENCAPSED_STRING","'small'",1303],",",["T_WHITESPACE","\n        ",1303],")",",",["T_WHITESPACE","\n        ",1304],["T_CONSTANT_ENCAPSED_STRING","'expanded'",1305],["T_WHITESPACE"," ",1305],["T_DOUBLE_ARROW","=>",1305],["T_WHITESPACE"," ",1305],["T_ARRAY","array",1305],"(",["T_WHITESPACE","\n          ",1305],["T_CONSTANT_ENCAPSED_STRING","'description'",1306],["T_WHITESPACE"," ",1306],["T_DOUBLE_ARROW","=>",1306],["T_WHITESPACE"," ",1306],["T_CONSTANT_ENCAPSED_STRING","'Flag for whether this link should be rendered as expanded in menus - expanded links always have their child links displayed, instead of only when the link is in the active trail (1 = expanded, 0 = not expanded)'",1306],",",["T_WHITESPACE","\n          ",1306],["T_CONSTANT_ENCAPSED_STRING","'type'",1307],["T_WHITESPACE"," ",1307],["T_DOUBLE_ARROW","=>",1307],["T_WHITESPACE"," ",1307],["T_CONSTANT_ENCAPSED_STRING","'int'",1307],",",["T_WHITESPACE","\n          ",1307],["T_CONSTANT_ENCAPSED_STRING","'not null'",1308],["T_WHITESPACE"," ",1308],["T_DOUBLE_ARROW","=>",1308],["T_WHITESPACE"," ",1308],["T_STRING","TRUE",1308],",",["T_WHITESPACE","\n          ",1308],["T_CONSTANT_ENCAPSED_STRING","'default'",1309],["T_WHITESPACE"," ",1309],["T_DOUBLE_ARROW","=>",1309],["T_WHITESPACE"," ",1309],["T_LNUMBER","0",1309],",",["T_WHITESPACE","\n          ",1309],["T_CONSTANT_ENCAPSED_STRING","'size'",1310],["T_WHITESPACE"," ",1310],["T_DOUBLE_ARROW","=>",1310],["T_WHITESPACE"," ",1310],["T_CONSTANT_ENCAPSED_STRING","'small'",1310],",",["T_WHITESPACE","\n        ",1310],")",",",["T_WHITESPACE","\n        ",1311],["T_CONSTANT_ENCAPSED_STRING","'weight'",1312],["T_WHITESPACE"," ",1312],["T_DOUBLE_ARROW","=>",1312],["T_WHITESPACE"," ",1312],["T_ARRAY","array",1312],"(",["T_WHITESPACE","\n          ",1312],["T_CONSTANT_ENCAPSED_STRING","'description'",1313],["T_WHITESPACE"," ",1313],["T_DOUBLE_ARROW","=>",1313],["T_WHITESPACE"," ",1313],["T_CONSTANT_ENCAPSED_STRING","'Link weight among links in the same menu at the same depth.'",1313],",",["T_WHITESPACE","\n          ",1313],["T_CONSTANT_ENCAPSED_STRING","'type'",1314],["T_WHITESPACE"," ",1314],["T_DOUBLE_ARROW","=>",1314],["T_WHITESPACE"," ",1314],["T_CONSTANT_ENCAPSED_STRING","'int'",1314],",",["T_WHITESPACE","\n          ",1314],["T_CONSTANT_ENCAPSED_STRING","'not null'",1315],["T_WHITESPACE"," ",1315],["T_DOUBLE_ARROW","=>",1315],["T_WHITESPACE"," ",1315],["T_STRING","TRUE",1315],",",["T_WHITESPACE","\n          ",1315],["T_CONSTANT_ENCAPSED_STRING","'default'",1316],["T_WHITESPACE"," ",1316],["T_DOUBLE_ARROW","=>",1316],["T_WHITESPACE"," ",1316],["T_LNUMBER","0",1316],",",["T_WHITESPACE","\n        ",1316],")",",",["T_WHITESPACE","\n        ",1317],["T_CONSTANT_ENCAPSED_STRING","'metadata'",1318],["T_WHITESPACE"," ",1318],["T_DOUBLE_ARROW","=>",1318],["T_WHITESPACE"," ",1318],["T_ARRAY","array",1318],"(",["T_WHITESPACE","\n          ",1318],["T_CONSTANT_ENCAPSED_STRING","'description'",1319],["T_WHITESPACE"," ",1319],["T_DOUBLE_ARROW","=>",1319],["T_WHITESPACE"," ",1319],["T_CONSTANT_ENCAPSED_STRING","'A serialized array of data that may be used by the plugin instance.'",1319],",",["T_WHITESPACE","\n          ",1319],["T_CONSTANT_ENCAPSED_STRING","'type'",1320],["T_WHITESPACE"," ",1320],["T_DOUBLE_ARROW","=>",1320],["T_WHITESPACE"," ",1320],["T_CONSTANT_ENCAPSED_STRING","'blob'",1320],",",["T_WHITESPACE","\n          ",1320],["T_CONSTANT_ENCAPSED_STRING","'size'",1321],["T_WHITESPACE"," ",1321],["T_DOUBLE_ARROW","=>",1321],["T_WHITESPACE"," ",1321],["T_CONSTANT_ENCAPSED_STRING","'big'",1321],",",["T_WHITESPACE","\n          ",1321],["T_CONSTANT_ENCAPSED_STRING","'not null'",1322],["T_WHITESPACE"," ",1322],["T_DOUBLE_ARROW","=>",1322],["T_WHITESPACE"," ",1322],["T_STRING","FALSE",1322],",",["T_WHITESPACE","\n          ",1322],["T_CONSTANT_ENCAPSED_STRING","'serialize'",1323],["T_WHITESPACE"," ",1323],["T_DOUBLE_ARROW","=>",1323],["T_WHITESPACE"," ",1323],["T_STRING","TRUE",1323],",",["T_WHITESPACE","\n        ",1323],")",",",["T_WHITESPACE","\n        ",1324],["T_CONSTANT_ENCAPSED_STRING","'has_children'",1325],["T_WHITESPACE"," ",1325],["T_DOUBLE_ARROW","=>",1325],["T_WHITESPACE"," ",1325],["T_ARRAY","array",1325],"(",["T_WHITESPACE","\n          ",1325],["T_CONSTANT_ENCAPSED_STRING","'description'",1326],["T_WHITESPACE"," ",1326],["T_DOUBLE_ARROW","=>",1326],["T_WHITESPACE"," ",1326],["T_CONSTANT_ENCAPSED_STRING","'Flag indicating whether any enabled links have this link as a parent (1 = enabled children exist, 0 = no enabled children).'",1326],",",["T_WHITESPACE","\n          ",1326],["T_CONSTANT_ENCAPSED_STRING","'type'",1327],["T_WHITESPACE"," ",1327],["T_DOUBLE_ARROW","=>",1327],["T_WHITESPACE"," ",1327],["T_CONSTANT_ENCAPSED_STRING","'int'",1327],",",["T_WHITESPACE","\n          ",1327],["T_CONSTANT_ENCAPSED_STRING","'not null'",1328],["T_WHITESPACE"," ",1328],["T_DOUBLE_ARROW","=>",1328],["T_WHITESPACE"," ",1328],["T_STRING","TRUE",1328],",",["T_WHITESPACE","\n          ",1328],["T_CONSTANT_ENCAPSED_STRING","'default'",1329],["T_WHITESPACE"," ",1329],["T_DOUBLE_ARROW","=>",1329],["T_WHITESPACE"," ",1329],["T_LNUMBER","0",1329],",",["T_WHITESPACE","\n          ",1329],["T_CONSTANT_ENCAPSED_STRING","'size'",1330],["T_WHITESPACE"," ",1330],["T_DOUBLE_ARROW","=>",1330],["T_WHITESPACE"," ",1330],["T_CONSTANT_ENCAPSED_STRING","'small'",1330],",",["T_WHITESPACE","\n        ",1330],")",",",["T_WHITESPACE","\n        ",1331],["T_CONSTANT_ENCAPSED_STRING","'depth'",1332],["T_WHITESPACE"," ",1332],["T_DOUBLE_ARROW","=>",1332],["T_WHITESPACE"," ",1332],["T_ARRAY","array",1332],"(",["T_WHITESPACE","\n          ",1332],["T_CONSTANT_ENCAPSED_STRING","'description'",1333],["T_WHITESPACE"," ",1333],["T_DOUBLE_ARROW","=>",1333],["T_WHITESPACE"," ",1333],["T_CONSTANT_ENCAPSED_STRING","'The depth relative to the top level. A link with empty parent will have depth == 1.'",1333],",",["T_WHITESPACE","\n          ",1333],["T_CONSTANT_ENCAPSED_STRING","'type'",1334],["T_WHITESPACE"," ",1334],["T_DOUBLE_ARROW","=>",1334],["T_WHITESPACE"," ",1334],["T_CONSTANT_ENCAPSED_STRING","'int'",1334],",",["T_WHITESPACE","\n          ",1334],["T_CONSTANT_ENCAPSED_STRING","'not null'",1335],["T_WHITESPACE"," ",1335],["T_DOUBLE_ARROW","=>",1335],["T_WHITESPACE"," ",1335],["T_STRING","TRUE",1335],",",["T_WHITESPACE","\n          ",1335],["T_CONSTANT_ENCAPSED_STRING","'default'",1336],["T_WHITESPACE"," ",1336],["T_DOUBLE_ARROW","=>",1336],["T_WHITESPACE"," ",1336],["T_LNUMBER","0",1336],",",["T_WHITESPACE","\n          ",1336],["T_CONSTANT_ENCAPSED_STRING","'size'",1337],["T_WHITESPACE"," ",1337],["T_DOUBLE_ARROW","=>",1337],["T_WHITESPACE"," ",1337],["T_CONSTANT_ENCAPSED_STRING","'small'",1337],",",["T_WHITESPACE","\n        ",1337],")",",",["T_WHITESPACE","\n        ",1338],["T_CONSTANT_ENCAPSED_STRING","'p1'",1339],["T_WHITESPACE"," ",1339],["T_DOUBLE_ARROW","=>",1339],["T_WHITESPACE"," ",1339],["T_ARRAY","array",1339],"(",["T_WHITESPACE","\n          ",1339],["T_CONSTANT_ENCAPSED_STRING","'description'",1340],["T_WHITESPACE"," ",1340],["T_DOUBLE_ARROW","=>",1340],["T_WHITESPACE"," ",1340],["T_CONSTANT_ENCAPSED_STRING","'The first mlid in the materialized path. If N = depth, then pN must equal the mlid. If depth > 1 then p(N-1) must equal the parent link mlid. All pX where X > depth must equal zero. The columns p1 .. p9 are also called the parents.'",1340],",",["T_WHITESPACE","\n          ",1340],["T_CONSTANT_ENCAPSED_STRING","'type'",1341],["T_WHITESPACE"," ",1341],["T_DOUBLE_ARROW","=>",1341],["T_WHITESPACE"," ",1341],["T_CONSTANT_ENCAPSED_STRING","'int'",1341],",",["T_WHITESPACE","\n          ",1341],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",1342],["T_WHITESPACE"," ",1342],["T_DOUBLE_ARROW","=>",1342],["T_WHITESPACE"," ",1342],["T_STRING","TRUE",1342],",",["T_WHITESPACE","\n          ",1342],["T_CONSTANT_ENCAPSED_STRING","'not null'",1343],["T_WHITESPACE"," ",1343],["T_DOUBLE_ARROW","=>",1343],["T_WHITESPACE"," ",1343],["T_STRING","TRUE",1343],",",["T_WHITESPACE","\n          ",1343],["T_CONSTANT_ENCAPSED_STRING","'default'",1344],["T_WHITESPACE"," ",1344],["T_DOUBLE_ARROW","=>",1344],["T_WHITESPACE"," ",1344],["T_LNUMBER","0",1344],",",["T_WHITESPACE","\n        ",1344],")",",",["T_WHITESPACE","\n        ",1345],["T_CONSTANT_ENCAPSED_STRING","'p2'",1346],["T_WHITESPACE"," ",1346],["T_DOUBLE_ARROW","=>",1346],["T_WHITESPACE"," ",1346],["T_ARRAY","array",1346],"(",["T_WHITESPACE","\n          ",1346],["T_CONSTANT_ENCAPSED_STRING","'description'",1347],["T_WHITESPACE"," ",1347],["T_DOUBLE_ARROW","=>",1347],["T_WHITESPACE"," ",1347],["T_CONSTANT_ENCAPSED_STRING","'The second mlid in the materialized path. See p1.'",1347],",",["T_WHITESPACE","\n          ",1347],["T_CONSTANT_ENCAPSED_STRING","'type'",1348],["T_WHITESPACE"," ",1348],["T_DOUBLE_ARROW","=>",1348],["T_WHITESPACE"," ",1348],["T_CONSTANT_ENCAPSED_STRING","'int'",1348],",",["T_WHITESPACE","\n          ",1348],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",1349],["T_WHITESPACE"," ",1349],["T_DOUBLE_ARROW","=>",1349],["T_WHITESPACE"," ",1349],["T_STRING","TRUE",1349],",",["T_WHITESPACE","\n          ",1349],["T_CONSTANT_ENCAPSED_STRING","'not null'",1350],["T_WHITESPACE"," ",1350],["T_DOUBLE_ARROW","=>",1350],["T_WHITESPACE"," ",1350],["T_STRING","TRUE",1350],",",["T_WHITESPACE","\n          ",1350],["T_CONSTANT_ENCAPSED_STRING","'default'",1351],["T_WHITESPACE"," ",1351],["T_DOUBLE_ARROW","=>",1351],["T_WHITESPACE"," ",1351],["T_LNUMBER","0",1351],",",["T_WHITESPACE","\n        ",1351],")",",",["T_WHITESPACE","\n        ",1352],["T_CONSTANT_ENCAPSED_STRING","'p3'",1353],["T_WHITESPACE"," ",1353],["T_DOUBLE_ARROW","=>",1353],["T_WHITESPACE"," ",1353],["T_ARRAY","array",1353],"(",["T_WHITESPACE","\n          ",1353],["T_CONSTANT_ENCAPSED_STRING","'description'",1354],["T_WHITESPACE"," ",1354],["T_DOUBLE_ARROW","=>",1354],["T_WHITESPACE"," ",1354],["T_CONSTANT_ENCAPSED_STRING","'The third mlid in the materialized path. See p1.'",1354],",",["T_WHITESPACE","\n          ",1354],["T_CONSTANT_ENCAPSED_STRING","'type'",1355],["T_WHITESPACE"," ",1355],["T_DOUBLE_ARROW","=>",1355],["T_WHITESPACE"," ",1355],["T_CONSTANT_ENCAPSED_STRING","'int'",1355],",",["T_WHITESPACE","\n          ",1355],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",1356],["T_WHITESPACE"," ",1356],["T_DOUBLE_ARROW","=>",1356],["T_WHITESPACE"," ",1356],["T_STRING","TRUE",1356],",",["T_WHITESPACE","\n          ",1356],["T_CONSTANT_ENCAPSED_STRING","'not null'",1357],["T_WHITESPACE"," ",1357],["T_DOUBLE_ARROW","=>",1357],["T_WHITESPACE"," ",1357],["T_STRING","TRUE",1357],",",["T_WHITESPACE","\n          ",1357],["T_CONSTANT_ENCAPSED_STRING","'default'",1358],["T_WHITESPACE"," ",1358],["T_DOUBLE_ARROW","=>",1358],["T_WHITESPACE"," ",1358],["T_LNUMBER","0",1358],",",["T_WHITESPACE","\n        ",1358],")",",",["T_WHITESPACE","\n        ",1359],["T_CONSTANT_ENCAPSED_STRING","'p4'",1360],["T_WHITESPACE"," ",1360],["T_DOUBLE_ARROW","=>",1360],["T_WHITESPACE"," ",1360],["T_ARRAY","array",1360],"(",["T_WHITESPACE","\n          ",1360],["T_CONSTANT_ENCAPSED_STRING","'description'",1361],["T_WHITESPACE"," ",1361],["T_DOUBLE_ARROW","=>",1361],["T_WHITESPACE"," ",1361],["T_CONSTANT_ENCAPSED_STRING","'The fourth mlid in the materialized path. See p1.'",1361],",",["T_WHITESPACE","\n          ",1361],["T_CONSTANT_ENCAPSED_STRING","'type'",1362],["T_WHITESPACE"," ",1362],["T_DOUBLE_ARROW","=>",1362],["T_WHITESPACE"," ",1362],["T_CONSTANT_ENCAPSED_STRING","'int'",1362],",",["T_WHITESPACE","\n          ",1362],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",1363],["T_WHITESPACE"," ",1363],["T_DOUBLE_ARROW","=>",1363],["T_WHITESPACE"," ",1363],["T_STRING","TRUE",1363],",",["T_WHITESPACE","\n          ",1363],["T_CONSTANT_ENCAPSED_STRING","'not null'",1364],["T_WHITESPACE"," ",1364],["T_DOUBLE_ARROW","=>",1364],["T_WHITESPACE"," ",1364],["T_STRING","TRUE",1364],",",["T_WHITESPACE","\n          ",1364],["T_CONSTANT_ENCAPSED_STRING","'default'",1365],["T_WHITESPACE"," ",1365],["T_DOUBLE_ARROW","=>",1365],["T_WHITESPACE"," ",1365],["T_LNUMBER","0",1365],",",["T_WHITESPACE","\n        ",1365],")",",",["T_WHITESPACE","\n        ",1366],["T_CONSTANT_ENCAPSED_STRING","'p5'",1367],["T_WHITESPACE"," ",1367],["T_DOUBLE_ARROW","=>",1367],["T_WHITESPACE"," ",1367],["T_ARRAY","array",1367],"(",["T_WHITESPACE","\n          ",1367],["T_CONSTANT_ENCAPSED_STRING","'description'",1368],["T_WHITESPACE"," ",1368],["T_DOUBLE_ARROW","=>",1368],["T_WHITESPACE"," ",1368],["T_CONSTANT_ENCAPSED_STRING","'The fifth mlid in the materialized path. See p1.'",1368],",",["T_WHITESPACE","\n          ",1368],["T_CONSTANT_ENCAPSED_STRING","'type'",1369],["T_WHITESPACE"," ",1369],["T_DOUBLE_ARROW","=>",1369],["T_WHITESPACE"," ",1369],["T_CONSTANT_ENCAPSED_STRING","'int'",1369],",",["T_WHITESPACE","\n          ",1369],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",1370],["T_WHITESPACE"," ",1370],["T_DOUBLE_ARROW","=>",1370],["T_WHITESPACE"," ",1370],["T_STRING","TRUE",1370],",",["T_WHITESPACE","\n          ",1370],["T_CONSTANT_ENCAPSED_STRING","'not null'",1371],["T_WHITESPACE"," ",1371],["T_DOUBLE_ARROW","=>",1371],["T_WHITESPACE"," ",1371],["T_STRING","TRUE",1371],",",["T_WHITESPACE","\n          ",1371],["T_CONSTANT_ENCAPSED_STRING","'default'",1372],["T_WHITESPACE"," ",1372],["T_DOUBLE_ARROW","=>",1372],["T_WHITESPACE"," ",1372],["T_LNUMBER","0",1372],",",["T_WHITESPACE","\n        ",1372],")",",",["T_WHITESPACE","\n        ",1373],["T_CONSTANT_ENCAPSED_STRING","'p6'",1374],["T_WHITESPACE"," ",1374],["T_DOUBLE_ARROW","=>",1374],["T_WHITESPACE"," ",1374],["T_ARRAY","array",1374],"(",["T_WHITESPACE","\n          ",1374],["T_CONSTANT_ENCAPSED_STRING","'description'",1375],["T_WHITESPACE"," ",1375],["T_DOUBLE_ARROW","=>",1375],["T_WHITESPACE"," ",1375],["T_CONSTANT_ENCAPSED_STRING","'The sixth mlid in the materialized path. See p1.'",1375],",",["T_WHITESPACE","\n          ",1375],["T_CONSTANT_ENCAPSED_STRING","'type'",1376],["T_WHITESPACE"," ",1376],["T_DOUBLE_ARROW","=>",1376],["T_WHITESPACE"," ",1376],["T_CONSTANT_ENCAPSED_STRING","'int'",1376],",",["T_WHITESPACE","\n          ",1376],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",1377],["T_WHITESPACE"," ",1377],["T_DOUBLE_ARROW","=>",1377],["T_WHITESPACE"," ",1377],["T_STRING","TRUE",1377],",",["T_WHITESPACE","\n          ",1377],["T_CONSTANT_ENCAPSED_STRING","'not null'",1378],["T_WHITESPACE"," ",1378],["T_DOUBLE_ARROW","=>",1378],["T_WHITESPACE"," ",1378],["T_STRING","TRUE",1378],",",["T_WHITESPACE","\n          ",1378],["T_CONSTANT_ENCAPSED_STRING","'default'",1379],["T_WHITESPACE"," ",1379],["T_DOUBLE_ARROW","=>",1379],["T_WHITESPACE"," ",1379],["T_LNUMBER","0",1379],",",["T_WHITESPACE","\n        ",1379],")",",",["T_WHITESPACE","\n        ",1380],["T_CONSTANT_ENCAPSED_STRING","'p7'",1381],["T_WHITESPACE"," ",1381],["T_DOUBLE_ARROW","=>",1381],["T_WHITESPACE"," ",1381],["T_ARRAY","array",1381],"(",["T_WHITESPACE","\n          ",1381],["T_CONSTANT_ENCAPSED_STRING","'description'",1382],["T_WHITESPACE"," ",1382],["T_DOUBLE_ARROW","=>",1382],["T_WHITESPACE"," ",1382],["T_CONSTANT_ENCAPSED_STRING","'The seventh mlid in the materialized path. See p1.'",1382],",",["T_WHITESPACE","\n          ",1382],["T_CONSTANT_ENCAPSED_STRING","'type'",1383],["T_WHITESPACE"," ",1383],["T_DOUBLE_ARROW","=>",1383],["T_WHITESPACE"," ",1383],["T_CONSTANT_ENCAPSED_STRING","'int'",1383],",",["T_WHITESPACE","\n          ",1383],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",1384],["T_WHITESPACE"," ",1384],["T_DOUBLE_ARROW","=>",1384],["T_WHITESPACE"," ",1384],["T_STRING","TRUE",1384],",",["T_WHITESPACE","\n          ",1384],["T_CONSTANT_ENCAPSED_STRING","'not null'",1385],["T_WHITESPACE"," ",1385],["T_DOUBLE_ARROW","=>",1385],["T_WHITESPACE"," ",1385],["T_STRING","TRUE",1385],",",["T_WHITESPACE","\n          ",1385],["T_CONSTANT_ENCAPSED_STRING","'default'",1386],["T_WHITESPACE"," ",1386],["T_DOUBLE_ARROW","=>",1386],["T_WHITESPACE"," ",1386],["T_LNUMBER","0",1386],",",["T_WHITESPACE","\n        ",1386],")",",",["T_WHITESPACE","\n        ",1387],["T_CONSTANT_ENCAPSED_STRING","'p8'",1388],["T_WHITESPACE"," ",1388],["T_DOUBLE_ARROW","=>",1388],["T_WHITESPACE"," ",1388],["T_ARRAY","array",1388],"(",["T_WHITESPACE","\n          ",1388],["T_CONSTANT_ENCAPSED_STRING","'description'",1389],["T_WHITESPACE"," ",1389],["T_DOUBLE_ARROW","=>",1389],["T_WHITESPACE"," ",1389],["T_CONSTANT_ENCAPSED_STRING","'The eighth mlid in the materialized path. See p1.'",1389],",",["T_WHITESPACE","\n          ",1389],["T_CONSTANT_ENCAPSED_STRING","'type'",1390],["T_WHITESPACE"," ",1390],["T_DOUBLE_ARROW","=>",1390],["T_WHITESPACE"," ",1390],["T_CONSTANT_ENCAPSED_STRING","'int'",1390],",",["T_WHITESPACE","\n          ",1390],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",1391],["T_WHITESPACE"," ",1391],["T_DOUBLE_ARROW","=>",1391],["T_WHITESPACE"," ",1391],["T_STRING","TRUE",1391],",",["T_WHITESPACE","\n          ",1391],["T_CONSTANT_ENCAPSED_STRING","'not null'",1392],["T_WHITESPACE"," ",1392],["T_DOUBLE_ARROW","=>",1392],["T_WHITESPACE"," ",1392],["T_STRING","TRUE",1392],",",["T_WHITESPACE","\n          ",1392],["T_CONSTANT_ENCAPSED_STRING","'default'",1393],["T_WHITESPACE"," ",1393],["T_DOUBLE_ARROW","=>",1393],["T_WHITESPACE"," ",1393],["T_LNUMBER","0",1393],",",["T_WHITESPACE","\n        ",1393],")",",",["T_WHITESPACE","\n        ",1394],["T_CONSTANT_ENCAPSED_STRING","'p9'",1395],["T_WHITESPACE"," ",1395],["T_DOUBLE_ARROW","=>",1395],["T_WHITESPACE"," ",1395],["T_ARRAY","array",1395],"(",["T_WHITESPACE","\n          ",1395],["T_CONSTANT_ENCAPSED_STRING","'description'",1396],["T_WHITESPACE"," ",1396],["T_DOUBLE_ARROW","=>",1396],["T_WHITESPACE"," ",1396],["T_CONSTANT_ENCAPSED_STRING","'The ninth mlid in the materialized path. See p1.'",1396],",",["T_WHITESPACE","\n          ",1396],["T_CONSTANT_ENCAPSED_STRING","'type'",1397],["T_WHITESPACE"," ",1397],["T_DOUBLE_ARROW","=>",1397],["T_WHITESPACE"," ",1397],["T_CONSTANT_ENCAPSED_STRING","'int'",1397],",",["T_WHITESPACE","\n          ",1397],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",1398],["T_WHITESPACE"," ",1398],["T_DOUBLE_ARROW","=>",1398],["T_WHITESPACE"," ",1398],["T_STRING","TRUE",1398],",",["T_WHITESPACE","\n          ",1398],["T_CONSTANT_ENCAPSED_STRING","'not null'",1399],["T_WHITESPACE"," ",1399],["T_DOUBLE_ARROW","=>",1399],["T_WHITESPACE"," ",1399],["T_STRING","TRUE",1399],",",["T_WHITESPACE","\n          ",1399],["T_CONSTANT_ENCAPSED_STRING","'default'",1400],["T_WHITESPACE"," ",1400],["T_DOUBLE_ARROW","=>",1400],["T_WHITESPACE"," ",1400],["T_LNUMBER","0",1400],",",["T_WHITESPACE","\n        ",1400],")",",",["T_WHITESPACE","\n        ",1401],["T_CONSTANT_ENCAPSED_STRING","'form_class'",1402],["T_WHITESPACE"," ",1402],["T_DOUBLE_ARROW","=>",1402],["T_WHITESPACE"," ",1402],["T_ARRAY","array",1402],"(",["T_WHITESPACE","\n          ",1402],["T_CONSTANT_ENCAPSED_STRING","'description'",1403],["T_WHITESPACE"," ",1403],["T_DOUBLE_ARROW","=>",1403],["T_WHITESPACE"," ",1403],["T_CONSTANT_ENCAPSED_STRING","'meh'",1403],",",["T_WHITESPACE","\n          ",1403],["T_CONSTANT_ENCAPSED_STRING","'type'",1404],["T_WHITESPACE"," ",1404],["T_DOUBLE_ARROW","=>",1404],["T_WHITESPACE"," ",1404],["T_CONSTANT_ENCAPSED_STRING","'varchar'",1404],",",["T_WHITESPACE","\n          ",1404],["T_CONSTANT_ENCAPSED_STRING","'length'",1405],["T_WHITESPACE"," ",1405],["T_DOUBLE_ARROW","=>",1405],["T_WHITESPACE"," ",1405],["T_LNUMBER","255",1405],",",["T_WHITESPACE","\n        ",1405],")",",",["T_WHITESPACE","\n      ",1406],")",",",["T_WHITESPACE","\n      ",1407],["T_CONSTANT_ENCAPSED_STRING","'indexes'",1408],["T_WHITESPACE"," ",1408],["T_DOUBLE_ARROW","=>",1408],["T_WHITESPACE"," ",1408],["T_ARRAY","array",1408],"(",["T_WHITESPACE","\n        ",1408],["T_CONSTANT_ENCAPSED_STRING","'menu_parents'",1409],["T_WHITESPACE"," ",1409],["T_DOUBLE_ARROW","=>",1409],["T_WHITESPACE"," ",1409],["T_ARRAY","array",1409],"(",["T_WHITESPACE","\n          ",1409],["T_CONSTANT_ENCAPSED_STRING","'menu_name'",1410],",",["T_WHITESPACE","\n          ",1410],["T_CONSTANT_ENCAPSED_STRING","'p1'",1411],",",["T_WHITESPACE","\n          ",1411],["T_CONSTANT_ENCAPSED_STRING","'p2'",1412],",",["T_WHITESPACE","\n          ",1412],["T_CONSTANT_ENCAPSED_STRING","'p3'",1413],",",["T_WHITESPACE","\n          ",1413],["T_CONSTANT_ENCAPSED_STRING","'p4'",1414],",",["T_WHITESPACE","\n          ",1414],["T_CONSTANT_ENCAPSED_STRING","'p5'",1415],",",["T_WHITESPACE","\n          ",1415],["T_CONSTANT_ENCAPSED_STRING","'p6'",1416],",",["T_WHITESPACE","\n          ",1416],["T_CONSTANT_ENCAPSED_STRING","'p7'",1417],",",["T_WHITESPACE","\n          ",1417],["T_CONSTANT_ENCAPSED_STRING","'p8'",1418],",",["T_WHITESPACE","\n          ",1418],["T_CONSTANT_ENCAPSED_STRING","'p9'",1419],",",["T_WHITESPACE","\n        ",1419],")",",",["T_WHITESPACE","\n        ",1420],["T_COMMENT","\/\/ @todo Test this index for effectiveness.\n",1421],["T_WHITESPACE","        ",1422],["T_COMMENT","\/\/   https:\/\/www.drupal.org\/node\/2302197\n",1422],["T_WHITESPACE","        ",1423],["T_CONSTANT_ENCAPSED_STRING","'menu_parent_expand_child'",1423],["T_WHITESPACE"," ",1423],["T_DOUBLE_ARROW","=>",1423],["T_WHITESPACE"," ",1423],["T_ARRAY","array",1423],"(",["T_WHITESPACE","\n          ",1423],["T_CONSTANT_ENCAPSED_STRING","'menu_name'",1424],",",["T_WHITESPACE"," ",1424],["T_CONSTANT_ENCAPSED_STRING","'expanded'",1424],",",["T_WHITESPACE","\n          ",1424],["T_CONSTANT_ENCAPSED_STRING","'has_children'",1425],",",["T_WHITESPACE","\n          ",1425],["T_ARRAY","array",1426],"(",["T_CONSTANT_ENCAPSED_STRING","'parent'",1426],",",["T_WHITESPACE"," ",1426],["T_LNUMBER","16",1426],")",",",["T_WHITESPACE","\n        ",1426],")",",",["T_WHITESPACE","\n        ",1427],["T_CONSTANT_ENCAPSED_STRING","'route_values'",1428],["T_WHITESPACE"," ",1428],["T_DOUBLE_ARROW","=>",1428],["T_WHITESPACE"," ",1428],["T_ARRAY","array",1428],"(",["T_WHITESPACE","\n          ",1428],["T_ARRAY","array",1429],"(",["T_CONSTANT_ENCAPSED_STRING","'route_name'",1429],",",["T_WHITESPACE"," ",1429],["T_LNUMBER","32",1429],")",",",["T_WHITESPACE","\n          ",1429],["T_ARRAY","array",1430],"(",["T_CONSTANT_ENCAPSED_STRING","'route_param_key'",1430],",",["T_WHITESPACE"," ",1430],["T_LNUMBER","16",1430],")",",",["T_WHITESPACE","\n        ",1430],")",",",["T_WHITESPACE","\n      ",1431],")",",",["T_WHITESPACE","\n      ",1432],["T_CONSTANT_ENCAPSED_STRING","'primary key'",1433],["T_WHITESPACE"," ",1433],["T_DOUBLE_ARROW","=>",1433],["T_WHITESPACE"," ",1433],["T_ARRAY","array",1433],"(",["T_CONSTANT_ENCAPSED_STRING","'mlid'",1433],")",",",["T_WHITESPACE","\n      ",1433],["T_CONSTANT_ENCAPSED_STRING","'unique keys'",1434],["T_WHITESPACE"," ",1434],["T_DOUBLE_ARROW","=>",1434],["T_WHITESPACE"," ",1434],["T_ARRAY","array",1434],"(",["T_WHITESPACE","\n        ",1434],["T_CONSTANT_ENCAPSED_STRING","'id'",1435],["T_WHITESPACE"," ",1435],["T_DOUBLE_ARROW","=>",1435],["T_WHITESPACE"," ",1435],["T_ARRAY","array",1435],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",1435],")",",",["T_WHITESPACE","\n      ",1435],")",",",["T_WHITESPACE","\n    ",1436],")",";",["T_WHITESPACE","\n\n    ",1437],["T_RETURN","return",1439],["T_WHITESPACE"," ",1439],["T_VARIABLE","$schema",1439],";",["T_WHITESPACE","\n  ",1439],"}",["T_WHITESPACE","\n\n  ",1440],["T_DOC_COMMENT","\/**\n   * Find any previously discovered menu links that no longer exist.\n   *\n   * @param array $definitions\n   *   The new menu link definitions.\n   * @return array\n   *   A list of menu link IDs that no longer exist.\n   *\/",1442],["T_WHITESPACE","\n  ",1449],["T_PROTECTED","protected",1450],["T_WHITESPACE"," ",1450],["T_FUNCTION","function",1450],["T_WHITESPACE"," ",1450],["T_STRING","findNoLongerExistingLinks",1450],"(",["T_ARRAY","array",1450],["T_WHITESPACE"," ",1450],["T_VARIABLE","$definitions",1450],")",["T_WHITESPACE"," ",1450],"{",["T_WHITESPACE","\n    ",1450],["T_IF","if",1451],["T_WHITESPACE"," ",1451],"(",["T_VARIABLE","$definitions",1451],")",["T_WHITESPACE"," ",1451],"{",["T_WHITESPACE","\n      ",1451],["T_VARIABLE","$query",1452],["T_WHITESPACE"," ",1452],"=",["T_WHITESPACE"," ",1452],["T_VARIABLE","$this",1452],["T_OBJECT_OPERATOR","->",1452],["T_STRING","connection",1452],["T_OBJECT_OPERATOR","->",1452],["T_STRING","select",1452],"(",["T_VARIABLE","$this",1452],["T_OBJECT_OPERATOR","->",1452],["T_STRING","table",1452],",",["T_WHITESPACE"," ",1452],["T_STRING","NULL",1452],",",["T_WHITESPACE"," ",1452],["T_VARIABLE","$this",1452],["T_OBJECT_OPERATOR","->",1452],["T_STRING","options",1452],")",";",["T_WHITESPACE","\n      ",1452],["T_VARIABLE","$query",1453],["T_OBJECT_OPERATOR","->",1453],["T_STRING","addField",1453],"(",["T_VARIABLE","$this",1453],["T_OBJECT_OPERATOR","->",1453],["T_STRING","table",1453],",",["T_WHITESPACE"," ",1453],["T_CONSTANT_ENCAPSED_STRING","'id'",1453],")",";",["T_WHITESPACE","\n      ",1453],["T_VARIABLE","$query",1454],["T_OBJECT_OPERATOR","->",1454],["T_STRING","condition",1454],"(",["T_CONSTANT_ENCAPSED_STRING","'discovered'",1454],",",["T_WHITESPACE"," ",1454],["T_LNUMBER","1",1454],")",";",["T_WHITESPACE","\n      ",1454],["T_VARIABLE","$query",1455],["T_OBJECT_OPERATOR","->",1455],["T_STRING","condition",1455],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",1455],",",["T_WHITESPACE"," ",1455],["T_STRING","array_keys",1455],"(",["T_VARIABLE","$definitions",1455],")",",",["T_WHITESPACE"," ",1455],["T_CONSTANT_ENCAPSED_STRING","'NOT IN'",1455],")",";",["T_WHITESPACE","\n      ",1455],["T_COMMENT","\/\/ Starting from links with the greatest depth will minimize the amount\n",1456],["T_WHITESPACE","      ",1457],["T_COMMENT","\/\/ of re-parenting done by the menu storage.\n",1457],["T_WHITESPACE","      ",1458],["T_VARIABLE","$query",1458],["T_OBJECT_OPERATOR","->",1458],["T_STRING","orderBy",1458],"(",["T_CONSTANT_ENCAPSED_STRING","'depth'",1458],",",["T_WHITESPACE"," ",1458],["T_CONSTANT_ENCAPSED_STRING","'DESC'",1458],")",";",["T_WHITESPACE","\n      ",1458],["T_VARIABLE","$result",1459],["T_WHITESPACE"," ",1459],"=",["T_WHITESPACE"," ",1459],["T_VARIABLE","$query",1459],["T_OBJECT_OPERATOR","->",1459],["T_STRING","execute",1459],"(",")",["T_OBJECT_OPERATOR","->",1459],["T_STRING","fetchCol",1459],"(",")",";",["T_WHITESPACE","\n    ",1459],"}",["T_WHITESPACE","\n    ",1460],["T_ELSE","else",1461],["T_WHITESPACE"," ",1461],"{",["T_WHITESPACE","\n      ",1461],["T_VARIABLE","$result",1462],["T_WHITESPACE"," ",1462],"=",["T_WHITESPACE"," ",1462],["T_ARRAY","array",1462],"(",")",";",["T_WHITESPACE","\n    ",1462],"}",["T_WHITESPACE","\n    ",1463],["T_RETURN","return",1464],["T_WHITESPACE"," ",1464],["T_VARIABLE","$result",1464],";",["T_WHITESPACE","\n  ",1464],"}",["T_WHITESPACE","\n\n  ",1465],["T_DOC_COMMENT","\/**\n   * Purge menu links from the database.\n   *\n   * @param array $ids\n   *   A list of menu link IDs to be purged.\n   *\/",1467],["T_WHITESPACE","\n  ",1472],["T_PROTECTED","protected",1473],["T_WHITESPACE"," ",1473],["T_FUNCTION","function",1473],["T_WHITESPACE"," ",1473],["T_STRING","doDeleteMultiple",1473],"(",["T_ARRAY","array",1473],["T_WHITESPACE"," ",1473],["T_VARIABLE","$ids",1473],")",["T_WHITESPACE"," ",1473],"{",["T_WHITESPACE","\n    ",1473],["T_VARIABLE","$this",1474],["T_OBJECT_OPERATOR","->",1474],["T_STRING","connection",1474],["T_OBJECT_OPERATOR","->",1474],["T_STRING","delete",1474],"(",["T_VARIABLE","$this",1474],["T_OBJECT_OPERATOR","->",1474],["T_STRING","table",1474],",",["T_WHITESPACE"," ",1474],["T_VARIABLE","$this",1474],["T_OBJECT_OPERATOR","->",1474],["T_STRING","options",1474],")",["T_WHITESPACE","\n      ",1474],["T_OBJECT_OPERATOR","->",1475],["T_STRING","condition",1475],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",1475],",",["T_WHITESPACE"," ",1475],["T_VARIABLE","$ids",1475],",",["T_WHITESPACE"," ",1475],["T_CONSTANT_ENCAPSED_STRING","'IN'",1475],")",["T_WHITESPACE","\n      ",1475],["T_OBJECT_OPERATOR","->",1476],["T_STRING","execute",1476],"(",")",";",["T_WHITESPACE","\n  ",1476],"}",["T_WHITESPACE","\n\n",1477],"}",["T_WHITESPACE","\n",1479]]