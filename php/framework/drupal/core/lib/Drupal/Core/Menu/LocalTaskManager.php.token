[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Menu",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Plugin",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Exception",5],["T_NS_SEPARATOR","\\",5],["T_STRING","PluginException",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Access",6],["T_NS_SEPARATOR","\\",6],["T_STRING","AccessManagerInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Cache",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Cache",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Cache",8],["T_NS_SEPARATOR","\\",8],["T_STRING","CacheableMetadata",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Cache",9],["T_NS_SEPARATOR","\\",9],["T_STRING","CacheBackendInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Cache",10],["T_NS_SEPARATOR","\\",10],["T_STRING","RefinableCacheableDependencyInterface",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Controller",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ControllerResolverInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Extension",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ModuleHandlerInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Core",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Language",13],["T_NS_SEPARATOR","\\",13],["T_STRING","LanguageManagerInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Drupal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Core",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Plugin",14],["T_NS_SEPARATOR","\\",14],["T_STRING","DefaultPluginManager",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Drupal",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Core",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Plugin",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Discovery",15],["T_NS_SEPARATOR","\\",15],["T_STRING","ContainerDerivativeDiscoveryDecorator",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Drupal",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Core",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Plugin",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Discovery",16],["T_NS_SEPARATOR","\\",16],["T_STRING","YamlDiscovery",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Drupal",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Core",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Plugin",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Factory",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ContainerFactory",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Drupal",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Core",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Routing",18],["T_NS_SEPARATOR","\\",18],["T_STRING","RouteMatchInterface",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Drupal",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Core",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Routing",19],["T_NS_SEPARATOR","\\",19],["T_STRING","RouteProviderInterface",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Drupal",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Core",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Session",20],["T_NS_SEPARATOR","\\",20],["T_STRING","AccountInterface",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Drupal",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Core",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Url",21],";",["T_WHITESPACE","\n",21],["T_USE","use",22],["T_WHITESPACE"," ",22],["T_STRING","Symfony",22],["T_NS_SEPARATOR","\\",22],["T_STRING","Component",22],["T_NS_SEPARATOR","\\",22],["T_STRING","HttpFoundation",22],["T_NS_SEPARATOR","\\",22],["T_STRING","RequestStack",22],";",["T_WHITESPACE","\n\n",22],["T_DOC_COMMENT","\/**\n * Provides the default local task manager using YML as primary definition.\n *\/",24],["T_WHITESPACE","\n",26],["T_CLASS","class",27],["T_WHITESPACE"," ",27],["T_STRING","LocalTaskManager",27],["T_WHITESPACE"," ",27],["T_EXTENDS","extends",27],["T_WHITESPACE"," ",27],["T_STRING","DefaultPluginManager",27],["T_WHITESPACE"," ",27],["T_IMPLEMENTS","implements",27],["T_WHITESPACE"," ",27],["T_STRING","LocalTaskManagerInterface",27],["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",29],["T_WHITESPACE","\n  ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$defaults",32],["T_WHITESPACE"," ",32],"=",["T_WHITESPACE"," ",32],["T_ARRAY","array",32],"(",["T_WHITESPACE","\n    ",32],["T_COMMENT","\/\/ (required) The name of the route this task links to.\n",33],["T_WHITESPACE","    ",34],["T_CONSTANT_ENCAPSED_STRING","'route_name'",34],["T_WHITESPACE"," ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","''",34],",",["T_WHITESPACE","\n    ",34],["T_COMMENT","\/\/ Parameters for route variables when generating a link.\n",35],["T_WHITESPACE","    ",36],["T_CONSTANT_ENCAPSED_STRING","'route_parameters'",36],["T_WHITESPACE"," ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_ARRAY","array",36],"(",")",",",["T_WHITESPACE","\n    ",36],["T_COMMENT","\/\/ The static title for the local task.\n",37],["T_WHITESPACE","    ",38],["T_CONSTANT_ENCAPSED_STRING","'title'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","''",38],",",["T_WHITESPACE","\n    ",38],["T_COMMENT","\/\/ The route name where the root tab appears.\n",39],["T_WHITESPACE","    ",40],["T_CONSTANT_ENCAPSED_STRING","'base_route'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","''",40],",",["T_WHITESPACE","\n    ",40],["T_COMMENT","\/\/ The plugin ID of the parent tab (or NULL for the top-level tab).\n",41],["T_WHITESPACE","    ",42],["T_CONSTANT_ENCAPSED_STRING","'parent_id'",42],["T_WHITESPACE"," ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_STRING","NULL",42],",",["T_WHITESPACE","\n    ",42],["T_COMMENT","\/\/ The weight of the tab.\n",43],["T_WHITESPACE","    ",44],["T_CONSTANT_ENCAPSED_STRING","'weight'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_STRING","NULL",44],",",["T_WHITESPACE","\n    ",44],["T_COMMENT","\/\/ The default link options.\n",45],["T_WHITESPACE","    ",46],["T_CONSTANT_ENCAPSED_STRING","'options'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_ARRAY","array",46],"(",")",",",["T_WHITESPACE","\n    ",46],["T_COMMENT","\/\/ Default class for local task implementations.\n",47],["T_WHITESPACE","    ",48],["T_CONSTANT_ENCAPSED_STRING","'class'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Menu\\LocalTaskDefault'",48],",",["T_WHITESPACE","\n    ",48],["T_COMMENT","\/\/ The plugin id. Set by the plugin system based on the top-level YAML key.\n",49],["T_WHITESPACE","    ",50],["T_CONSTANT_ENCAPSED_STRING","'id'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","''",50],",",["T_WHITESPACE","\n  ",50],")",";",["T_WHITESPACE","\n\n  ",51],["T_DOC_COMMENT","\/**\n   * A controller resolver object.\n   *\n   * @var \\Drupal\\Core\\Controller\\ControllerResolverInterface\n   *\/",53],["T_WHITESPACE","\n  ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$controllerResolver",58],";",["T_WHITESPACE","\n\n  ",58],["T_DOC_COMMENT","\/**\n   * The request stack.\n   *\n   * @var \\Symfony\\Component\\HttpFoundation\\RequestStack\n   *\/",60],["T_WHITESPACE","\n  ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$requestStack",65],";",["T_WHITESPACE","\n\n  ",65],["T_DOC_COMMENT","\/**\n   * The current route match.\n   *\n   * @var \\Drupal\\Core\\Routing\\RouteMatchInterface\n   *\/",67],["T_WHITESPACE","\n  ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$routeMatch",72],";",["T_WHITESPACE","\n\n  ",72],["T_DOC_COMMENT","\/**\n   * The plugin instances.\n   *\n   * @var array\n   *\/",74],["T_WHITESPACE","\n  ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$instances",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_ARRAY","array",79],"(",")",";",["T_WHITESPACE","\n\n  ",79],["T_DOC_COMMENT","\/**\n   * The local task render arrays for the current route.\n   *\n   * @var array\n   *\/",81],["T_WHITESPACE","\n  ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$taskData",86],";",["T_WHITESPACE","\n\n  ",86],["T_DOC_COMMENT","\/**\n   * The route provider to load routes by name.\n   *\n   * @var \\Drupal\\Core\\Routing\\RouteProviderInterface\n   *\/",88],["T_WHITESPACE","\n  ",92],["T_PROTECTED","protected",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$routeProvider",93],";",["T_WHITESPACE","\n\n  ",93],["T_DOC_COMMENT","\/**\n   * The access manager.\n   *\n   * @var \\Drupal\\Core\\Access\\AccessManagerInterface\n   *\/",95],["T_WHITESPACE","\n  ",99],["T_PROTECTED","protected",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$accessManager",100],";",["T_WHITESPACE","\n\n  ",100],["T_DOC_COMMENT","\/**\n   * The current user.\n   *\n   * @var \\Drupal\\Core\\Session\\AccountInterface\n   *\/",102],["T_WHITESPACE","\n  ",106],["T_PROTECTED","protected",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$account",107],";",["T_WHITESPACE","\n\n  ",107],["T_DOC_COMMENT","\/**\n   * Constructs a \\Drupal\\Core\\Menu\\LocalTaskManager object.\n   *\n   * @param \\Drupal\\Core\\Controller\\ControllerResolverInterface $controller_resolver\n   *   An object to use in introspecting route methods.\n   * @param \\Symfony\\Component\\HttpFoundation\\RequestStack $request_stack\n   *   The request object to use for building titles and paths for plugin instances.\n   * @param \\Drupal\\Core\\Routing\\RouteMatchInterface $route_match\n   *   The current route match.\n   * @param \\Drupal\\Core\\Routing\\RouteProviderInterface $route_provider\n   *   The route provider to load routes by name.\n   * @param \\Drupal\\Core\\Extension\\ModuleHandlerInterface $module_handler\n   *   The module handler.\n   * @param \\Drupal\\Core\\Cache\\CacheBackendInterface $cache\n   *   The cache backend.\n   * @param \\Drupal\\Core\\Language\\LanguageManagerInterface $language_manager\n   *   The language manager.\n   * @param \\Drupal\\Core\\Access\\AccessManagerInterface $access_manager\n   *   The access manager.\n   * @param \\Drupal\\Core\\Session\\AccountInterface $account\n   *   The current user.\n   *\/",109],["T_WHITESPACE","\n  ",130],["T_PUBLIC","public",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","__construct",131],"(",["T_STRING","ControllerResolverInterface",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$controller_resolver",131],",",["T_WHITESPACE"," ",131],["T_STRING","RequestStack",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$request_stack",131],",",["T_WHITESPACE"," ",131],["T_STRING","RouteMatchInterface",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$route_match",131],",",["T_WHITESPACE"," ",131],["T_STRING","RouteProviderInterface",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$route_provider",131],",",["T_WHITESPACE"," ",131],["T_STRING","ModuleHandlerInterface",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$module_handler",131],",",["T_WHITESPACE"," ",131],["T_STRING","CacheBackendInterface",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$cache",131],",",["T_WHITESPACE"," ",131],["T_STRING","LanguageManagerInterface",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$language_manager",131],",",["T_WHITESPACE"," ",131],["T_STRING","AccessManagerInterface",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$access_manager",131],",",["T_WHITESPACE"," ",131],["T_STRING","AccountInterface",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$account",131],")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n    ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","factory",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_NEW","new",132],["T_WHITESPACE"," ",132],["T_STRING","ContainerFactory",132],"(",["T_VARIABLE","$this",132],",",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Core\\Menu\\LocalTaskInterface'",132],")",";",["T_WHITESPACE","\n    ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","controllerResolver",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$controller_resolver",133],";",["T_WHITESPACE","\n    ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","requestStack",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$request_stack",134],";",["T_WHITESPACE","\n    ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","routeMatch",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$route_match",135],";",["T_WHITESPACE","\n    ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","routeProvider",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$route_provider",136],";",["T_WHITESPACE","\n    ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","accessManager",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$access_manager",137],";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","account",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$account",138],";",["T_WHITESPACE","\n    ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","moduleHandler",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$module_handler",139],";",["T_WHITESPACE","\n    ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","alterInfo",140],"(",["T_CONSTANT_ENCAPSED_STRING","'local_tasks'",140],")",";",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","setCacheBackend",141],"(",["T_VARIABLE","$cache",141],",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'local_task_plugins:'",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_VARIABLE","$language_manager",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getCurrentLanguage",141],"(",")",["T_OBJECT_OPERATOR","->",141],["T_STRING","getId",141],"(",")",",",["T_WHITESPACE"," ",141],["T_ARRAY","array",141],"(",["T_CONSTANT_ENCAPSED_STRING","'local_task'",141],")",")",";",["T_WHITESPACE","\n  ",141],"}",["T_WHITESPACE","\n\n  ",142],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",144],["T_WHITESPACE","\n  ",146],["T_PROTECTED","protected",147],["T_WHITESPACE"," ",147],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","getDiscovery",147],"(",")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n    ",147],["T_IF","if",148],["T_WHITESPACE"," ",148],"(","!",["T_ISSET","isset",148],"(",["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","discovery",148],")",")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n      ",148],["T_VARIABLE","$yaml_discovery",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_NEW","new",149],["T_WHITESPACE"," ",149],["T_STRING","YamlDiscovery",149],"(",["T_CONSTANT_ENCAPSED_STRING","'links.task'",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","moduleHandler",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getModuleDirectories",149],"(",")",")",";",["T_WHITESPACE","\n      ",149],["T_VARIABLE","$yaml_discovery",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","addTranslatableProperty",150],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",150],",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'title_context'",150],")",";",["T_WHITESPACE","\n      ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","discovery",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_NEW","new",151],["T_WHITESPACE"," ",151],["T_STRING","ContainerDerivativeDiscoveryDecorator",151],"(",["T_VARIABLE","$yaml_discovery",151],")",";",["T_WHITESPACE","\n    ",151],"}",["T_WHITESPACE","\n    ",152],["T_RETURN","return",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","discovery",153],";",["T_WHITESPACE","\n  ",153],"}",["T_WHITESPACE","\n\n  ",154],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",156],["T_WHITESPACE","\n  ",158],["T_PUBLIC","public",159],["T_WHITESPACE"," ",159],["T_FUNCTION","function",159],["T_WHITESPACE"," ",159],["T_STRING","processDefinition",159],"(","&",["T_VARIABLE","$definition",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$plugin_id",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n    ",159],["T_STRING","parent",160],["T_DOUBLE_COLON","::",160],["T_STRING","processDefinition",160],"(",["T_VARIABLE","$definition",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$plugin_id",160],")",";",["T_WHITESPACE","\n    ",160],["T_COMMENT","\/\/ If there is no route name, this is a broken definition.\n",161],["T_WHITESPACE","    ",162],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_EMPTY","empty",162],"(",["T_VARIABLE","$definition",162],"[",["T_CONSTANT_ENCAPSED_STRING","'route_name'",162],"]",")",")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n      ",162],["T_THROW","throw",163],["T_WHITESPACE"," ",163],["T_NEW","new",163],["T_WHITESPACE"," ",163],["T_STRING","PluginException",163],"(",["T_STRING","sprintf",163],"(",["T_CONSTANT_ENCAPSED_STRING","'Plugin (%s) definition must include \"route_name\"'",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$plugin_id",163],")",")",";",["T_WHITESPACE","\n    ",163],"}",["T_WHITESPACE","\n  ",164],"}",["T_WHITESPACE","\n\n  ",165],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",167],["T_WHITESPACE","\n  ",169],["T_PUBLIC","public",170],["T_WHITESPACE"," ",170],["T_FUNCTION","function",170],["T_WHITESPACE"," ",170],["T_STRING","getTitle",170],"(",["T_STRING","LocalTaskInterface",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$local_task",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n    ",170],["T_VARIABLE","$controller",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_ARRAY","array",171],"(",["T_VARIABLE","$local_task",171],",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'getTitle'",171],")",";",["T_WHITESPACE","\n    ",171],["T_VARIABLE","$request",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","requestStack",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getCurrentRequest",172],"(",")",";",["T_WHITESPACE","\n    ",172],["T_VARIABLE","$arguments",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","controllerResolver",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getArguments",173],"(",["T_VARIABLE","$request",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$controller",173],")",";",["T_WHITESPACE","\n    ",173],["T_RETURN","return",174],["T_WHITESPACE"," ",174],["T_STRING","call_user_func_array",174],"(",["T_VARIABLE","$controller",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$arguments",174],")",";",["T_WHITESPACE","\n  ",174],"}",["T_WHITESPACE","\n\n  ",175],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",177],["T_WHITESPACE","\n  ",179],["T_PUBLIC","public",180],["T_WHITESPACE"," ",180],["T_FUNCTION","function",180],["T_WHITESPACE"," ",180],["T_STRING","getDefinitions",180],"(",")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n    ",180],["T_VARIABLE","$definitions",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_STRING","parent",181],["T_DOUBLE_COLON","::",181],["T_STRING","getDefinitions",181],"(",")",";",["T_WHITESPACE","\n\n    ",181],["T_VARIABLE","$count",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_LNUMBER","0",183],";",["T_WHITESPACE","\n    ",183],["T_FOREACH","foreach",184],["T_WHITESPACE"," ",184],"(",["T_VARIABLE","$definitions",184],["T_WHITESPACE"," ",184],["T_AS","as",184],["T_WHITESPACE"," ",184],"&",["T_VARIABLE","$definition",184],")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n      ",184],["T_IF","if",185],["T_WHITESPACE"," ",185],"(",["T_ISSET","isset",185],"(",["T_VARIABLE","$definition",185],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",185],"]",")",")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n        ",185],["T_COMMENT","\/\/ Add some micro weight.\n",186],["T_WHITESPACE","        ",187],["T_VARIABLE","$definition",187],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",187],"]",["T_WHITESPACE"," ",187],["T_PLUS_EQUAL","+=",187],["T_WHITESPACE"," ",187],"(",["T_VARIABLE","$count",187],["T_INC","++",187],")",["T_WHITESPACE"," ",187],"*",["T_WHITESPACE"," ",187],["T_DNUMBER","1e-6",187],";",["T_WHITESPACE","\n      ",187],"}",["T_WHITESPACE","\n    ",188],"}",["T_WHITESPACE","\n\n    ",189],["T_RETURN","return",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$definitions",191],";",["T_WHITESPACE","\n  ",191],"}",["T_WHITESPACE","\n\n  ",192],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",194],["T_WHITESPACE","\n  ",196],["T_PUBLIC","public",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","getLocalTasksForRoute",197],"(",["T_VARIABLE","$route_name",197],")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n    ",197],["T_IF","if",198],["T_WHITESPACE"," ",198],"(","!",["T_ISSET","isset",198],"(",["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","instances",198],"[",["T_VARIABLE","$route_name",198],"]",")",")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n      ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","instances",199],"[",["T_VARIABLE","$route_name",199],"]",["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_ARRAY","array",199],"(",")",";",["T_WHITESPACE","\n      ",199],["T_IF","if",200],["T_WHITESPACE"," ",200],"(",["T_VARIABLE","$cache",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","cacheBackend",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","get",200],"(",["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","cacheKey",200],["T_WHITESPACE"," ",200],".",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","':'",200],["T_WHITESPACE"," ",200],".",["T_WHITESPACE"," ",200],["T_VARIABLE","$route_name",200],")",")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$base_routes",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$cache",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","data",201],"[",["T_CONSTANT_ENCAPSED_STRING","'base_routes'",201],"]",";",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$parents",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$cache",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","data",202],"[",["T_CONSTANT_ENCAPSED_STRING","'parents'",202],"]",";",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$children",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$cache",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","data",203],"[",["T_CONSTANT_ENCAPSED_STRING","'children'",203],"]",";",["T_WHITESPACE","\n      ",203],"}",["T_WHITESPACE","\n      ",204],["T_ELSE","else",205],["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$definitions",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","getDefinitions",206],"(",")",";",["T_WHITESPACE","\n        ",206],["T_COMMENT","\/\/ We build the hierarchy by finding all tabs that should\n",207],["T_WHITESPACE","        ",208],["T_COMMENT","\/\/ appear on the current route.\n",208],["T_WHITESPACE","        ",209],["T_VARIABLE","$base_routes",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_ARRAY","array",209],"(",")",";",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$parents",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_ARRAY","array",210],"(",")",";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$children",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_ARRAY","array",211],"(",")",";",["T_WHITESPACE","\n        ",211],["T_FOREACH","foreach",212],["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$definitions",212],["T_WHITESPACE"," ",212],["T_AS","as",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$plugin_id",212],["T_WHITESPACE"," ",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$task_info",212],")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n          ",212],["T_COMMENT","\/\/ Fill in the base_route from the parent to insure consistency.\n",213],["T_WHITESPACE","          ",214],["T_IF","if",214],["T_WHITESPACE"," ",214],"(","!",["T_EMPTY","empty",214],"(",["T_VARIABLE","$task_info",214],"[",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",214],"]",")",["T_WHITESPACE"," ",214],["T_BOOLEAN_AND","&&",214],["T_WHITESPACE"," ",214],"!",["T_EMPTY","empty",214],"(",["T_VARIABLE","$definitions",214],"[",["T_VARIABLE","$task_info",214],"[",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",214],"]","]",")",")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n            ",214],["T_VARIABLE","$task_info",215],"[",["T_CONSTANT_ENCAPSED_STRING","'base_route'",215],"]",["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$definitions",215],"[",["T_VARIABLE","$task_info",215],"[",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",215],"]","]","[",["T_CONSTANT_ENCAPSED_STRING","'base_route'",215],"]",";",["T_WHITESPACE","\n            ",215],["T_COMMENT","\/\/ Populate the definitions we use in the next loop. Using a\n",216],["T_WHITESPACE","            ",217],["T_COMMENT","\/\/ reference like &$task_info causes bugs.\n",217],["T_WHITESPACE","            ",218],["T_VARIABLE","$definitions",218],"[",["T_VARIABLE","$plugin_id",218],"]","[",["T_CONSTANT_ENCAPSED_STRING","'base_route'",218],"]",["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$definitions",218],"[",["T_VARIABLE","$task_info",218],"[",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",218],"]","]","[",["T_CONSTANT_ENCAPSED_STRING","'base_route'",218],"]",";",["T_WHITESPACE","\n          ",218],"}",["T_WHITESPACE","\n          ",219],["T_IF","if",220],["T_WHITESPACE"," ",220],"(",["T_VARIABLE","$route_name",220],["T_WHITESPACE"," ",220],["T_IS_EQUAL","==",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$task_info",220],"[",["T_CONSTANT_ENCAPSED_STRING","'route_name'",220],"]",")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n            ",220],["T_IF","if",221],["T_WHITESPACE"," ",221],"(","!",["T_EMPTY","empty",221],"(",["T_VARIABLE","$task_info",221],"[",["T_CONSTANT_ENCAPSED_STRING","'base_route'",221],"]",")",")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n              ",221],["T_VARIABLE","$base_routes",222],"[",["T_VARIABLE","$task_info",222],"[",["T_CONSTANT_ENCAPSED_STRING","'base_route'",222],"]","]",["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$task_info",222],"[",["T_CONSTANT_ENCAPSED_STRING","'base_route'",222],"]",";",["T_WHITESPACE","\n            ",222],"}",["T_WHITESPACE","\n            ",223],["T_COMMENT","\/\/ Tabs that link to the current route are viable parents\n",224],["T_WHITESPACE","            ",225],["T_COMMENT","\/\/ and their parent and children should be visible also.\n",225],["T_WHITESPACE","            ",226],["T_COMMENT","\/\/ @todo - this only works for 2 levels of tabs.\n",226],["T_WHITESPACE","            ",227],["T_COMMENT","\/\/ instead need to iterate up.\n",227],["T_WHITESPACE","            ",228],["T_VARIABLE","$parents",228],"[",["T_VARIABLE","$plugin_id",228],"]",["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_STRING","TRUE",228],";",["T_WHITESPACE","\n            ",228],["T_IF","if",229],["T_WHITESPACE"," ",229],"(","!",["T_EMPTY","empty",229],"(",["T_VARIABLE","$task_info",229],"[",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",229],"]",")",")",["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n              ",229],["T_VARIABLE","$parents",230],"[",["T_VARIABLE","$task_info",230],"[",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",230],"]","]",["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_STRING","TRUE",230],";",["T_WHITESPACE","\n            ",230],"}",["T_WHITESPACE","\n          ",231],"}",["T_WHITESPACE","\n        ",232],"}",["T_WHITESPACE","\n        ",233],["T_IF","if",234],["T_WHITESPACE"," ",234],"(",["T_VARIABLE","$base_routes",234],")",["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n          ",234],["T_COMMENT","\/\/ Find all the plugins with the same root and that are at the top\n",235],["T_WHITESPACE","          ",236],["T_COMMENT","\/\/ level or that have a visible parent.\n",236],["T_WHITESPACE","          ",237],["T_FOREACH","foreach",237],["T_WHITESPACE"," ",237],"(",["T_VARIABLE","$definitions",237],["T_WHITESPACE","  ",237],["T_AS","as",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$plugin_id",237],["T_WHITESPACE"," ",237],["T_DOUBLE_ARROW","=>",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$task_info",237],")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n            ",237],["T_IF","if",238],["T_WHITESPACE"," ",238],"(","!",["T_EMPTY","empty",238],"(",["T_VARIABLE","$base_routes",238],"[",["T_VARIABLE","$task_info",238],"[",["T_CONSTANT_ENCAPSED_STRING","'base_route'",238],"]","]",")",["T_WHITESPACE"," ",238],["T_BOOLEAN_AND","&&",238],["T_WHITESPACE"," ",238],"(",["T_EMPTY","empty",238],"(",["T_VARIABLE","$task_info",238],"[",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",238],"]",")",["T_WHITESPACE"," ",238],["T_BOOLEAN_OR","||",238],["T_WHITESPACE"," ",238],"!",["T_EMPTY","empty",238],"(",["T_VARIABLE","$parents",238],"[",["T_VARIABLE","$task_info",238],"[",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",238],"]","]",")",")",")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n              ",238],["T_COMMENT","\/\/ Concat '> ' with root ID for the parent of top-level tabs.\n",239],["T_WHITESPACE","              ",240],["T_VARIABLE","$parent",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_EMPTY","empty",240],"(",["T_VARIABLE","$task_info",240],"[",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",240],"]",")",["T_WHITESPACE"," ",240],"?",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'> '",240],["T_WHITESPACE"," ",240],".",["T_WHITESPACE"," ",240],["T_VARIABLE","$task_info",240],"[",["T_CONSTANT_ENCAPSED_STRING","'base_route'",240],"]",["T_WHITESPACE"," ",240],":",["T_WHITESPACE"," ",240],["T_VARIABLE","$task_info",240],"[",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",240],"]",";",["T_WHITESPACE","\n              ",240],["T_VARIABLE","$children",241],"[",["T_VARIABLE","$parent",241],"]","[",["T_VARIABLE","$plugin_id",241],"]",["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_VARIABLE","$task_info",241],";",["T_WHITESPACE","\n            ",241],"}",["T_WHITESPACE","\n          ",242],"}",["T_WHITESPACE","\n        ",243],"}",["T_WHITESPACE","\n        ",244],["T_VARIABLE","$data",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_ARRAY","array",245],"(",["T_WHITESPACE","\n          ",245],["T_CONSTANT_ENCAPSED_STRING","'base_routes'",246],["T_WHITESPACE"," ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$base_routes",246],",",["T_WHITESPACE","\n          ",246],["T_CONSTANT_ENCAPSED_STRING","'parents'",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$parents",247],",",["T_WHITESPACE","\n          ",247],["T_CONSTANT_ENCAPSED_STRING","'children'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$children",248],",",["T_WHITESPACE","\n        ",248],")",";",["T_WHITESPACE","\n        ",249],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","cacheBackend",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","set",250],"(",["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","cacheKey",250],["T_WHITESPACE"," ",250],".",["T_WHITESPACE"," ",250],["T_CONSTANT_ENCAPSED_STRING","':'",250],["T_WHITESPACE"," ",250],".",["T_WHITESPACE"," ",250],["T_VARIABLE","$route_name",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$data",250],",",["T_WHITESPACE"," ",250],["T_STRING","Cache",250],["T_DOUBLE_COLON","::",250],["T_STRING","PERMANENT",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","cacheTags",250],")",";",["T_WHITESPACE","\n      ",250],"}",["T_WHITESPACE","\n      ",251],["T_COMMENT","\/\/ Create a plugin instance for each element of the hierarchy.\n",252],["T_WHITESPACE","      ",253],["T_FOREACH","foreach",253],["T_WHITESPACE"," ",253],"(",["T_VARIABLE","$base_routes",253],["T_WHITESPACE"," ",253],["T_AS","as",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$base_route",253],")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n        ",253],["T_COMMENT","\/\/ Convert the tree keyed by plugin IDs into a simple one with\n",254],["T_WHITESPACE","        ",255],["T_COMMENT","\/\/ integer depth.  Create instances for each plugin along the way.\n",255],["T_WHITESPACE","        ",256],["T_VARIABLE","$level",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_LNUMBER","0",256],";",["T_WHITESPACE","\n        ",256],["T_COMMENT","\/\/ We used this above as the top-level parent array key.\n",257],["T_WHITESPACE","        ",258],["T_VARIABLE","$next_parent",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","'> '",258],["T_WHITESPACE"," ",258],".",["T_WHITESPACE"," ",258],["T_VARIABLE","$base_route",258],";",["T_WHITESPACE","\n        ",258],["T_DO","do",259],["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n          ",259],["T_VARIABLE","$parent",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$next_parent",260],";",["T_WHITESPACE","\n          ",260],["T_VARIABLE","$next_parent",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_STRING","FALSE",261],";",["T_WHITESPACE","\n          ",261],["T_FOREACH","foreach",262],["T_WHITESPACE"," ",262],"(",["T_VARIABLE","$children",262],"[",["T_VARIABLE","$parent",262],"]",["T_WHITESPACE"," ",262],["T_AS","as",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$plugin_id",262],["T_WHITESPACE"," ",262],["T_DOUBLE_ARROW","=>",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$task_info",262],")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n            ",262],["T_VARIABLE","$plugin",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","createInstance",263],"(",["T_VARIABLE","$plugin_id",263],")",";",["T_WHITESPACE","\n            ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","instances",264],"[",["T_VARIABLE","$route_name",264],"]","[",["T_VARIABLE","$level",264],"]","[",["T_VARIABLE","$plugin_id",264],"]",["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_VARIABLE","$plugin",264],";",["T_WHITESPACE","\n            ",264],["T_COMMENT","\/\/ Normally, the link generator compares the href of every link with\n",265],["T_WHITESPACE","            ",266],["T_COMMENT","\/\/ the current path and sets the active class accordingly. But the\n",266],["T_WHITESPACE","            ",267],["T_COMMENT","\/\/ parents of the current local task may be on a different route in\n",267],["T_WHITESPACE","            ",268],["T_COMMENT","\/\/ which case we have to set the class manually by flagging it\n",268],["T_WHITESPACE","            ",269],["T_COMMENT","\/\/ active.\n",269],["T_WHITESPACE","            ",270],["T_IF","if",270],["T_WHITESPACE"," ",270],"(","!",["T_EMPTY","empty",270],"(",["T_VARIABLE","$parents",270],"[",["T_VARIABLE","$plugin_id",270],"]",")",["T_WHITESPACE"," ",270],["T_BOOLEAN_AND","&&",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$route_name",270],["T_WHITESPACE"," ",270],["T_IS_NOT_EQUAL","!=",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$task_info",270],"[",["T_CONSTANT_ENCAPSED_STRING","'route_name'",270],"]",")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n              ",270],["T_VARIABLE","$plugin",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","setActive",271],"(",")",";",["T_WHITESPACE","\n            ",271],"}",["T_WHITESPACE","\n            ",272],["T_IF","if",273],["T_WHITESPACE"," ",273],"(",["T_ISSET","isset",273],"(",["T_VARIABLE","$children",273],"[",["T_VARIABLE","$plugin_id",273],"]",")",")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n              ",273],["T_COMMENT","\/\/ This tab has visible children.\n",274],["T_WHITESPACE","              ",275],["T_VARIABLE","$next_parent",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$plugin_id",275],";",["T_WHITESPACE","\n            ",275],"}",["T_WHITESPACE","\n          ",276],"}",["T_WHITESPACE","\n          ",277],["T_VARIABLE","$level",278],["T_INC","++",278],";",["T_WHITESPACE","\n        ",278],"}",["T_WHITESPACE"," ",279],["T_WHILE","while",279],["T_WHITESPACE"," ",279],"(",["T_VARIABLE","$next_parent",279],")",";",["T_WHITESPACE","\n      ",279],"}",["T_WHITESPACE","\n\n    ",280],"}",["T_WHITESPACE","\n    ",282],["T_RETURN","return",283],["T_WHITESPACE"," ",283],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","instances",283],"[",["T_VARIABLE","$route_name",283],"]",";",["T_WHITESPACE","\n  ",283],"}",["T_WHITESPACE","\n\n  ",284],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",286],["T_WHITESPACE","\n  ",288],["T_PUBLIC","public",289],["T_WHITESPACE"," ",289],["T_FUNCTION","function",289],["T_WHITESPACE"," ",289],["T_STRING","getTasksBuild",289],"(",["T_VARIABLE","$current_route_name",289],",",["T_WHITESPACE"," ",289],["T_STRING","RefinableCacheableDependencyInterface",289],["T_WHITESPACE"," ",289],"&",["T_VARIABLE","$cacheability",289],")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n    ",289],["T_VARIABLE","$tree",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","getLocalTasksForRoute",290],"(",["T_VARIABLE","$current_route_name",290],")",";",["T_WHITESPACE","\n    ",290],["T_VARIABLE","$build",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_ARRAY","array",291],"(",")",";",["T_WHITESPACE","\n\n    ",291],["T_COMMENT","\/\/ Collect all route names.\n",293],["T_WHITESPACE","    ",294],["T_VARIABLE","$route_names",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_ARRAY","array",294],"(",")",";",["T_WHITESPACE","\n    ",294],["T_FOREACH","foreach",295],["T_WHITESPACE"," ",295],"(",["T_VARIABLE","$tree",295],["T_WHITESPACE"," ",295],["T_AS","as",295],["T_WHITESPACE"," ",295],["T_VARIABLE","$instances",295],")",["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n      ",295],["T_FOREACH","foreach",296],["T_WHITESPACE"," ",296],"(",["T_VARIABLE","$instances",296],["T_WHITESPACE"," ",296],["T_AS","as",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$child",296],")",["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n        ",296],["T_VARIABLE","$route_names",297],"[","]",["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_VARIABLE","$child",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","getRouteName",297],"(",")",";",["T_WHITESPACE","\n      ",297],"}",["T_WHITESPACE","\n    ",298],"}",["T_WHITESPACE","\n    ",299],["T_COMMENT","\/\/ Pre-fetch all routes involved in the tree. This reduces the number\n",300],["T_WHITESPACE","    ",301],["T_COMMENT","\/\/ of SQL queries that would otherwise be triggered by the access manager.\n",301],["T_WHITESPACE","    ",302],["T_IF","if",302],["T_WHITESPACE"," ",302],"(",["T_VARIABLE","$route_names",302],")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n      ",302],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","routeProvider",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","getRoutesByNames",303],"(",["T_VARIABLE","$route_names",303],")",";",["T_WHITESPACE","\n    ",303],"}",["T_WHITESPACE","\n\n    ",304],["T_FOREACH","foreach",306],["T_WHITESPACE"," ",306],"(",["T_VARIABLE","$tree",306],["T_WHITESPACE"," ",306],["T_AS","as",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$level",306],["T_WHITESPACE"," ",306],["T_DOUBLE_ARROW","=>",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$instances",306],")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n      ",306],["T_DOC_COMMENT","\/** @var $instances \\Drupal\\Core\\Menu\\LocalTaskInterface[] *\/",307],["T_WHITESPACE","\n      ",307],["T_FOREACH","foreach",308],["T_WHITESPACE"," ",308],"(",["T_VARIABLE","$instances",308],["T_WHITESPACE"," ",308],["T_AS","as",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$plugin_id",308],["T_WHITESPACE"," ",308],["T_DOUBLE_ARROW","=>",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$child",308],")",["T_WHITESPACE"," ",308],"{",["T_WHITESPACE","\n        ",308],["T_VARIABLE","$route_name",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_VARIABLE","$child",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","getRouteName",309],"(",")",";",["T_WHITESPACE","\n        ",309],["T_VARIABLE","$route_parameters",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_VARIABLE","$child",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","getRouteParameters",310],"(",["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","routeMatch",310],")",";",["T_WHITESPACE","\n\n        ",310],["T_COMMENT","\/\/ Given that the active flag depends on the route we have to add the\n",312],["T_WHITESPACE","        ",313],["T_COMMENT","\/\/ route cache context.\n",313],["T_WHITESPACE","        ",314],["T_VARIABLE","$cacheability",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","addCacheContexts",314],"(","[",["T_CONSTANT_ENCAPSED_STRING","'route'",314],"]",")",";",["T_WHITESPACE","\n        ",314],["T_VARIABLE","$active",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","isRouteActive",315],"(",["T_VARIABLE","$current_route_name",315],",",["T_WHITESPACE"," ",315],["T_VARIABLE","$route_name",315],",",["T_WHITESPACE"," ",315],["T_VARIABLE","$route_parameters",315],")",";",["T_WHITESPACE","\n\n        ",315],["T_COMMENT","\/\/ The plugin may have been set active in getLocalTasksForRoute() if\n",317],["T_WHITESPACE","        ",318],["T_COMMENT","\/\/ one of its child tabs is the active tab.\n",318],["T_WHITESPACE","        ",319],["T_VARIABLE","$active",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_VARIABLE","$active",319],["T_WHITESPACE"," ",319],["T_BOOLEAN_OR","||",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$child",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","getActive",319],"(",")",";",["T_WHITESPACE","\n        ",319],["T_COMMENT","\/\/ @todo It might make sense to use link render elements instead.\n",320],["T_WHITESPACE","\n        ",321],["T_VARIABLE","$link",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],"[",["T_WHITESPACE","\n          ",322],["T_CONSTANT_ENCAPSED_STRING","'title'",323],["T_WHITESPACE"," ",323],["T_DOUBLE_ARROW","=>",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","getTitle",323],"(",["T_VARIABLE","$child",323],")",",",["T_WHITESPACE","\n          ",323],["T_CONSTANT_ENCAPSED_STRING","'url'",324],["T_WHITESPACE"," ",324],["T_DOUBLE_ARROW","=>",324],["T_WHITESPACE"," ",324],["T_STRING","Url",324],["T_DOUBLE_COLON","::",324],["T_STRING","fromRoute",324],"(",["T_VARIABLE","$route_name",324],",",["T_WHITESPACE"," ",324],["T_VARIABLE","$route_parameters",324],")",",",["T_WHITESPACE","\n          ",324],["T_CONSTANT_ENCAPSED_STRING","'localized_options'",325],["T_WHITESPACE"," ",325],["T_DOUBLE_ARROW","=>",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$child",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","getOptions",325],"(",["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","routeMatch",325],")",",",["T_WHITESPACE","\n        ",325],"]",";",["T_WHITESPACE","\n        ",326],["T_VARIABLE","$access",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","accessManager",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","checkNamedRoute",327],"(",["T_VARIABLE","$route_name",327],",",["T_WHITESPACE"," ",327],["T_VARIABLE","$route_parameters",327],",",["T_WHITESPACE"," ",327],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","account",327],",",["T_WHITESPACE"," ",327],["T_STRING","TRUE",327],")",";",["T_WHITESPACE","\n        ",327],["T_VARIABLE","$build",328],"[",["T_VARIABLE","$level",328],"]","[",["T_VARIABLE","$plugin_id",328],"]",["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],"[",["T_WHITESPACE","\n          ",328],["T_CONSTANT_ENCAPSED_STRING","'#theme'",329],["T_WHITESPACE"," ",329],["T_DOUBLE_ARROW","=>",329],["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'menu_local_task'",329],",",["T_WHITESPACE","\n          ",329],["T_CONSTANT_ENCAPSED_STRING","'#link'",330],["T_WHITESPACE"," ",330],["T_DOUBLE_ARROW","=>",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$link",330],",",["T_WHITESPACE","\n          ",330],["T_CONSTANT_ENCAPSED_STRING","'#active'",331],["T_WHITESPACE"," ",331],["T_DOUBLE_ARROW","=>",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$active",331],",",["T_WHITESPACE","\n          ",331],["T_CONSTANT_ENCAPSED_STRING","'#weight'",332],["T_WHITESPACE"," ",332],["T_DOUBLE_ARROW","=>",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$child",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","getWeight",332],"(",")",",",["T_WHITESPACE","\n          ",332],["T_CONSTANT_ENCAPSED_STRING","'#access'",333],["T_WHITESPACE"," ",333],["T_DOUBLE_ARROW","=>",333],["T_WHITESPACE"," ",333],["T_VARIABLE","$access",333],",",["T_WHITESPACE","\n        ",333],"]",";",["T_WHITESPACE","\n        ",334],["T_VARIABLE","$cacheability",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","addCacheableDependency",335],"(",["T_VARIABLE","$access",335],")",["T_OBJECT_OPERATOR","->",335],["T_STRING","addCacheableDependency",335],"(",["T_VARIABLE","$child",335],")",";",["T_WHITESPACE","\n      ",335],"}",["T_WHITESPACE","\n    ",336],"}",["T_WHITESPACE","\n\n    ",337],["T_RETURN","return",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$build",339],";",["T_WHITESPACE","\n  ",339],"}",["T_WHITESPACE","\n\n  ",340],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",342],["T_WHITESPACE","\n  ",344],["T_PUBLIC","public",345],["T_WHITESPACE"," ",345],["T_FUNCTION","function",345],["T_WHITESPACE"," ",345],["T_STRING","getLocalTasks",345],"(",["T_VARIABLE","$route_name",345],",",["T_WHITESPACE"," ",345],["T_VARIABLE","$level",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_LNUMBER","0",345],")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n    ",345],["T_IF","if",346],["T_WHITESPACE"," ",346],"(","!",["T_ISSET","isset",346],"(",["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","taskData",346],"[",["T_VARIABLE","$route_name",346],"]",")",")",["T_WHITESPACE"," ",346],"{",["T_WHITESPACE","\n      ",346],["T_VARIABLE","$cacheability",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_NEW","new",347],["T_WHITESPACE"," ",347],["T_STRING","CacheableMetadata",347],"(",")",";",["T_WHITESPACE","\n      ",347],["T_VARIABLE","$cacheability",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","addCacheContexts",348],"(","[",["T_CONSTANT_ENCAPSED_STRING","'route'",348],"]",")",";",["T_WHITESPACE","\n      ",348],["T_COMMENT","\/\/ Look for route-based tabs.\n",349],["T_WHITESPACE","      ",350],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","taskData",350],"[",["T_VARIABLE","$route_name",350],"]",["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],"[",["T_WHITESPACE","\n        ",350],["T_CONSTANT_ENCAPSED_STRING","'tabs'",351],["T_WHITESPACE"," ",351],["T_DOUBLE_ARROW","=>",351],["T_WHITESPACE"," ",351],"[","]",",",["T_WHITESPACE","\n        ",351],["T_CONSTANT_ENCAPSED_STRING","'cacheability'",352],["T_WHITESPACE"," ",352],["T_DOUBLE_ARROW","=>",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$cacheability",352],",",["T_WHITESPACE","\n      ",352],"]",";",["T_WHITESPACE","\n\n      ",353],["T_IF","if",355],["T_WHITESPACE"," ",355],"(","!",["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","requestStack",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","getCurrentRequest",355],"(",")",["T_OBJECT_OPERATOR","->",355],["T_STRING","attributes",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","has",355],"(",["T_CONSTANT_ENCAPSED_STRING","'exception'",355],")",")",["T_WHITESPACE"," ",355],"{",["T_WHITESPACE","\n        ",355],["T_COMMENT","\/\/ Safe to build tasks only when no exceptions raised.\n",356],["T_WHITESPACE","        ",357],["T_VARIABLE","$data",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],"[","]",";",["T_WHITESPACE","\n        ",357],["T_VARIABLE","$local_tasks",358],["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","getTasksBuild",358],"(",["T_VARIABLE","$route_name",358],",",["T_WHITESPACE"," ",358],["T_VARIABLE","$cacheability",358],")",";",["T_WHITESPACE","\n        ",358],["T_FOREACH","foreach",359],["T_WHITESPACE"," ",359],"(",["T_VARIABLE","$local_tasks",359],["T_WHITESPACE"," ",359],["T_AS","as",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$tab_level",359],["T_WHITESPACE"," ",359],["T_DOUBLE_ARROW","=>",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$items",359],")",["T_WHITESPACE"," ",359],"{",["T_WHITESPACE","\n          ",359],["T_VARIABLE","$data",360],"[",["T_VARIABLE","$tab_level",360],"]",["T_WHITESPACE"," ",360],"=",["T_WHITESPACE"," ",360],["T_EMPTY","empty",360],"(",["T_VARIABLE","$data",360],"[",["T_VARIABLE","$tab_level",360],"]",")",["T_WHITESPACE"," ",360],"?",["T_WHITESPACE"," ",360],["T_VARIABLE","$items",360],["T_WHITESPACE"," ",360],":",["T_WHITESPACE"," ",360],["T_STRING","array_merge",360],"(",["T_VARIABLE","$data",360],"[",["T_VARIABLE","$tab_level",360],"]",",",["T_WHITESPACE"," ",360],["T_VARIABLE","$items",360],")",";",["T_WHITESPACE","\n        ",360],"}",["T_WHITESPACE","\n        ",361],["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","taskData",362],"[",["T_VARIABLE","$route_name",362],"]","[",["T_CONSTANT_ENCAPSED_STRING","'tabs'",362],"]",["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_VARIABLE","$data",362],";",["T_WHITESPACE","\n        ",362],["T_COMMENT","\/\/ Allow modules to alter local tasks.\n",363],["T_WHITESPACE","        ",364],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","moduleHandler",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","alter",364],"(",["T_CONSTANT_ENCAPSED_STRING","'menu_local_tasks'",364],",",["T_WHITESPACE"," ",364],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","taskData",364],"[",["T_VARIABLE","$route_name",364],"]",",",["T_WHITESPACE"," ",364],["T_VARIABLE","$route_name",364],",",["T_WHITESPACE"," ",364],["T_VARIABLE","$cacheability",364],")",";",["T_WHITESPACE","\n        ",364],["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","taskData",365],"[",["T_VARIABLE","$route_name",365],"]","[",["T_CONSTANT_ENCAPSED_STRING","'cacheability'",365],"]",["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],["T_VARIABLE","$cacheability",365],";",["T_WHITESPACE","\n      ",365],"}",["T_WHITESPACE","\n    ",366],"}",["T_WHITESPACE","\n\n    ",367],["T_IF","if",369],["T_WHITESPACE"," ",369],"(",["T_ISSET","isset",369],"(",["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","taskData",369],"[",["T_VARIABLE","$route_name",369],"]","[",["T_CONSTANT_ENCAPSED_STRING","'tabs'",369],"]","[",["T_VARIABLE","$level",369],"]",")",")",["T_WHITESPACE"," ",369],"{",["T_WHITESPACE","\n      ",369],["T_RETURN","return",370],["T_WHITESPACE"," ",370],"[",["T_WHITESPACE","\n        ",370],["T_CONSTANT_ENCAPSED_STRING","'tabs'",371],["T_WHITESPACE"," ",371],["T_DOUBLE_ARROW","=>",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","taskData",371],"[",["T_VARIABLE","$route_name",371],"]","[",["T_CONSTANT_ENCAPSED_STRING","'tabs'",371],"]","[",["T_VARIABLE","$level",371],"]",",",["T_WHITESPACE","\n        ",371],["T_CONSTANT_ENCAPSED_STRING","'route_name'",372],["T_WHITESPACE"," ",372],["T_DOUBLE_ARROW","=>",372],["T_WHITESPACE"," ",372],["T_VARIABLE","$route_name",372],",",["T_WHITESPACE","\n        ",372],["T_CONSTANT_ENCAPSED_STRING","'cacheability'",373],["T_WHITESPACE"," ",373],["T_DOUBLE_ARROW","=>",373],["T_WHITESPACE"," ",373],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","taskData",373],"[",["T_VARIABLE","$route_name",373],"]","[",["T_CONSTANT_ENCAPSED_STRING","'cacheability'",373],"]",",",["T_WHITESPACE","\n      ",373],"]",";",["T_WHITESPACE","\n    ",374],"}",["T_WHITESPACE","\n\n    ",375],["T_RETURN","return",377],["T_WHITESPACE"," ",377],"[",["T_WHITESPACE","\n      ",377],["T_CONSTANT_ENCAPSED_STRING","'tabs'",378],["T_WHITESPACE"," ",378],["T_DOUBLE_ARROW","=>",378],["T_WHITESPACE"," ",378],"[","]",",",["T_WHITESPACE","\n      ",378],["T_CONSTANT_ENCAPSED_STRING","'route_name'",379],["T_WHITESPACE"," ",379],["T_DOUBLE_ARROW","=>",379],["T_WHITESPACE"," ",379],["T_VARIABLE","$route_name",379],",",["T_WHITESPACE","\n      ",379],["T_CONSTANT_ENCAPSED_STRING","'cacheability'",380],["T_WHITESPACE"," ",380],["T_DOUBLE_ARROW","=>",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","taskData",380],"[",["T_VARIABLE","$route_name",380],"]","[",["T_CONSTANT_ENCAPSED_STRING","'cacheability'",380],"]",",",["T_WHITESPACE","\n    ",380],"]",";",["T_WHITESPACE","\n  ",381],"}",["T_WHITESPACE","\n\n  ",382],["T_DOC_COMMENT","\/**\n   * Determines whether the route of a certain local task is currently active.\n   *\n   * @param string $current_route_name\n   *   The route name of the current main request.\n   * @param string $route_name\n   *   The route name of the local task to determine the active status.\n   * @param array $route_parameters\n   *\n   * @return bool\n   *   Returns TRUE if the passed route_name and route_parameters is considered\n   *   as the same as the one from the request, otherwise FALSE.\n   *\/",384],["T_WHITESPACE","\n  ",396],["T_PROTECTED","protected",397],["T_WHITESPACE"," ",397],["T_FUNCTION","function",397],["T_WHITESPACE"," ",397],["T_STRING","isRouteActive",397],"(",["T_VARIABLE","$current_route_name",397],",",["T_WHITESPACE"," ",397],["T_VARIABLE","$route_name",397],",",["T_WHITESPACE"," ",397],["T_VARIABLE","$route_parameters",397],")",["T_WHITESPACE"," ",397],"{",["T_WHITESPACE","\n    ",397],["T_COMMENT","\/\/ Flag the list element as active if this tab's route and parameters match\n",398],["T_WHITESPACE","    ",399],["T_COMMENT","\/\/ the current request's route and route variables.\n",399],["T_WHITESPACE","    ",400],["T_VARIABLE","$active",400],["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],["T_VARIABLE","$current_route_name",400],["T_WHITESPACE"," ",400],["T_IS_EQUAL","==",400],["T_WHITESPACE"," ",400],["T_VARIABLE","$route_name",400],";",["T_WHITESPACE","\n    ",400],["T_IF","if",401],["T_WHITESPACE"," ",401],"(",["T_VARIABLE","$active",401],")",["T_WHITESPACE"," ",401],"{",["T_WHITESPACE","\n      ",401],["T_COMMENT","\/\/ The request is injected, so we need to verify that we have the expected\n",402],["T_WHITESPACE","      ",403],["T_COMMENT","\/\/ _raw_variables attribute.\n",403],["T_WHITESPACE","      ",404],["T_VARIABLE","$raw_variables_bag",404],["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","routeMatch",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","getRawParameters",404],"(",")",";",["T_WHITESPACE","\n      ",404],["T_COMMENT","\/\/ If we don't have _raw_variables, we assume the attributes are still the\n",405],["T_WHITESPACE","      ",406],["T_COMMENT","\/\/ original values.\n",406],["T_WHITESPACE","      ",407],["T_VARIABLE","$raw_variables",407],["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],["T_VARIABLE","$raw_variables_bag",407],["T_WHITESPACE"," ",407],"?",["T_WHITESPACE"," ",407],["T_VARIABLE","$raw_variables_bag",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","all",407],"(",")",["T_WHITESPACE"," ",407],":",["T_WHITESPACE"," ",407],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","routeMatch",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","getParameters",407],"(",")",["T_OBJECT_OPERATOR","->",407],["T_STRING","all",407],"(",")",";",["T_WHITESPACE","\n      ",407],["T_VARIABLE","$active",408],["T_WHITESPACE"," ",408],"=",["T_WHITESPACE"," ",408],["T_STRING","array_intersect_assoc",408],"(",["T_VARIABLE","$route_parameters",408],",",["T_WHITESPACE"," ",408],["T_VARIABLE","$raw_variables",408],")",["T_WHITESPACE"," ",408],["T_IS_EQUAL","==",408],["T_WHITESPACE"," ",408],["T_VARIABLE","$route_parameters",408],";",["T_WHITESPACE","\n    ",408],"}",["T_WHITESPACE","\n    ",409],["T_RETURN","return",410],["T_WHITESPACE"," ",410],["T_VARIABLE","$active",410],";",["T_WHITESPACE","\n  ",410],"}",["T_WHITESPACE","\n\n",411],"}",["T_WHITESPACE","\n",413]]