[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Path",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Cache",5],["T_NS_SEPARATOR","\\",5],["T_STRING","CacheBackendInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CacheDecorator",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CacheDecoratorInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Language",7],["T_NS_SEPARATOR","\\",7],["T_STRING","LanguageInterface",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Language",8],["T_NS_SEPARATOR","\\",8],["T_STRING","LanguageManagerInterface",8],";",["T_WHITESPACE","\n\n",8],["T_DOC_COMMENT","\/**\n * The default alias manager implementation.\n *\/",10],["T_WHITESPACE","\n",12],["T_CLASS","class",13],["T_WHITESPACE"," ",13],["T_STRING","AliasManager",13],["T_WHITESPACE"," ",13],["T_IMPLEMENTS","implements",13],["T_WHITESPACE"," ",13],["T_STRING","AliasManagerInterface",13],",",["T_WHITESPACE"," ",13],["T_STRING","CacheDecoratorInterface",13],["T_WHITESPACE"," ",13],"{",["T_WHITESPACE","\n\n  ",13],["T_DOC_COMMENT","\/**\n   * The alias storage service.\n   *\n   * @var \\Drupal\\Core\\Path\\AliasStorageInterface\n   *\/",15],["T_WHITESPACE","\n  ",19],["T_PROTECTED","protected",20],["T_WHITESPACE"," ",20],["T_VARIABLE","$storage",20],";",["T_WHITESPACE","\n\n  ",20],["T_DOC_COMMENT","\/**\n   * Cache backend service.\n   *\n   * @var \\Drupal\\Core\\Cache\\CacheBackendInterface;\n   *\/",22],["T_WHITESPACE","\n  ",26],["T_PROTECTED","protected",27],["T_WHITESPACE"," ",27],["T_VARIABLE","$cache",27],";",["T_WHITESPACE","\n\n  ",27],["T_DOC_COMMENT","\/**\n   * The cache key to use when caching paths.\n   *\n   * @var string\n   *\/",29],["T_WHITESPACE","\n  ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$cacheKey",34],";",["T_WHITESPACE","\n\n  ",34],["T_DOC_COMMENT","\/**\n   * Whether the cache needs to be written.\n   *\n   * @var bool\n   *\/",36],["T_WHITESPACE","\n  ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$cacheNeedsWriting",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_STRING","FALSE",41],";",["T_WHITESPACE","\n\n  ",41],["T_DOC_COMMENT","\/**\n   * Language manager for retrieving the default langcode when none is specified.\n   *\n   * @var \\Drupal\\Core\\Language\\LanguageManagerInterface\n   *\/",43],["T_WHITESPACE","\n  ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$languageManager",48],";",["T_WHITESPACE","\n\n  ",48],["T_DOC_COMMENT","\/**\n   * Holds the map of path lookups per language.\n   *\n   * @var array\n   *\/",50],["T_WHITESPACE","\n  ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$lookupMap",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",")",";",["T_WHITESPACE","\n\n  ",55],["T_DOC_COMMENT","\/**\n   * Holds an array of aliases for which no path was found.\n   *\n   * @var array\n   *\/",57],["T_WHITESPACE","\n  ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$noPath",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_ARRAY","array",62],"(",")",";",["T_WHITESPACE","\n\n  ",62],["T_DOC_COMMENT","\/**\n   * Holds the array of whitelisted path aliases.\n   *\n   * @var \\Drupal\\Core\\Path\\AliasWhitelistInterface\n   *\/",64],["T_WHITESPACE","\n  ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$whitelist",69],";",["T_WHITESPACE","\n\n  ",69],["T_DOC_COMMENT","\/**\n   * Holds an array of paths that have no alias.\n   *\n   * @var array\n   *\/",71],["T_WHITESPACE","\n  ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$noAlias",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_ARRAY","array",76],"(",")",";",["T_WHITESPACE","\n\n  ",76],["T_DOC_COMMENT","\/**\n   * Whether preloaded path lookups has already been loaded.\n   *\n   * @var array\n   *\/",78],["T_WHITESPACE","\n  ",82],["T_PROTECTED","protected",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$langcodePreloaded",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_ARRAY","array",83],"(",")",";",["T_WHITESPACE","\n\n  ",83],["T_DOC_COMMENT","\/**\n   * Holds an array of previously looked up paths for the current request path.\n   *\n   * This will only get populated if a cache key has been set, which for example\n   * happens if the alias manager is used in the context of a request.\n   *\n   * @var array\n   *\/",85],["T_WHITESPACE","\n  ",92],["T_PROTECTED","protected",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$preloadedPathLookups",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","FALSE",93],";",["T_WHITESPACE","\n\n  ",93],["T_DOC_COMMENT","\/**\n   * Constructs an AliasManager.\n   *\n   * @param \\Drupal\\Core\\Path\\AliasStorageInterface $storage\n   *   The alias storage service.\n   * @param \\Drupal\\Core\\Path\\AliasWhitelistInterface $whitelist\n   *   The whitelist implementation to use.\n   * @param \\Drupal\\Core\\Language\\LanguageManagerInterface $language_manager\n   *   The language manager.\n   * @param \\Drupal\\Core\\Cache\\CacheBackendInterface $cache\n   *   Cache backend.\n   *\/",95],["T_WHITESPACE","\n  ",106],["T_PUBLIC","public",107],["T_WHITESPACE"," ",107],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],["T_STRING","__construct",107],"(",["T_STRING","AliasStorageInterface",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$storage",107],",",["T_WHITESPACE"," ",107],["T_STRING","AliasWhitelistInterface",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$whitelist",107],",",["T_WHITESPACE"," ",107],["T_STRING","LanguageManagerInterface",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$language_manager",107],",",["T_WHITESPACE"," ",107],["T_STRING","CacheBackendInterface",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$cache",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n    ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","storage",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$storage",108],";",["T_WHITESPACE","\n    ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","languageManager",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$language_manager",109],";",["T_WHITESPACE","\n    ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","whitelist",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$whitelist",110],";",["T_WHITESPACE","\n    ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","cache",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$cache",111],";",["T_WHITESPACE","\n  ",111],"}",["T_WHITESPACE","\n\n  ",112],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",114],["T_WHITESPACE","\n  ",116],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","setCacheKey",117],"(",["T_VARIABLE","$key",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n    ",117],["T_COMMENT","\/\/ Prefix the cache key to avoid clashes with other caches.\n",118],["T_WHITESPACE","    ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","cacheKey",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'preload-paths:'",119],["T_WHITESPACE"," ",119],".",["T_WHITESPACE"," ",119],["T_VARIABLE","$key",119],";",["T_WHITESPACE","\n  ",119],"}",["T_WHITESPACE","\n\n  ",120],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\n   * Cache an array of the paths available on each page. We assume that aliases\n   * will be needed for the majority of these paths during subsequent requests,\n   * and load them in a single query during path alias lookup.\n   *\/",122],["T_WHITESPACE","\n  ",128],["T_PUBLIC","public",129],["T_WHITESPACE"," ",129],["T_FUNCTION","function",129],["T_WHITESPACE"," ",129],["T_STRING","writeCache",129],"(",")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n    ",129],["T_COMMENT","\/\/ Check if the paths for this page were loaded from cache in this request\n",130],["T_WHITESPACE","    ",131],["T_COMMENT","\/\/ to avoid writing to cache on every request.\n",131],["T_WHITESPACE","    ",132],["T_IF","if",132],["T_WHITESPACE"," ",132],"(",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","cacheNeedsWriting",132],["T_WHITESPACE"," ",132],["T_BOOLEAN_AND","&&",132],["T_WHITESPACE"," ",132],"!",["T_EMPTY","empty",132],"(",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","cacheKey",132],")",")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n      ",132],["T_COMMENT","\/\/ Start with the preloaded path lookups, so that cached entries for other\n",133],["T_WHITESPACE","      ",134],["T_COMMENT","\/\/ languages will not be lost.\n",134],["T_WHITESPACE","      ",135],["T_VARIABLE","$path_lookups",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","preloadedPathLookups",135],["T_WHITESPACE"," ",135],"?",":",["T_WHITESPACE"," ",135],["T_ARRAY","array",135],"(",")",";",["T_WHITESPACE","\n      ",135],["T_FOREACH","foreach",136],["T_WHITESPACE"," ",136],"(",["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","lookupMap",136],["T_WHITESPACE"," ",136],["T_AS","as",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$langcode",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$lookups",136],")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$path_lookups",137],"[",["T_VARIABLE","$langcode",137],"]",["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_STRING","array_keys",137],"(",["T_VARIABLE","$lookups",137],")",";",["T_WHITESPACE","\n        ",137],["T_IF","if",138],["T_WHITESPACE"," ",138],"(","!",["T_EMPTY","empty",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","noAlias",138],"[",["T_VARIABLE","$langcode",138],"]",")",")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n          ",138],["T_VARIABLE","$path_lookups",139],"[",["T_VARIABLE","$langcode",139],"]",["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","array_merge",139],"(",["T_VARIABLE","$path_lookups",139],"[",["T_VARIABLE","$langcode",139],"]",",",["T_WHITESPACE"," ",139],["T_STRING","array_keys",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","noAlias",139],"[",["T_VARIABLE","$langcode",139],"]",")",")",";",["T_WHITESPACE","\n        ",139],"}",["T_WHITESPACE","\n      ",140],"}",["T_WHITESPACE","\n\n      ",141],["T_VARIABLE","$twenty_four_hours",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_LNUMBER","60",143],["T_WHITESPACE"," ",143],"*",["T_WHITESPACE"," ",143],["T_LNUMBER","60",143],["T_WHITESPACE"," ",143],"*",["T_WHITESPACE"," ",143],["T_LNUMBER","24",143],";",["T_WHITESPACE","\n      ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","cache",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","set",144],"(",["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","cacheKey",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$path_lookups",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getRequestTime",144],"(",")",["T_WHITESPACE"," ",144],"+",["T_WHITESPACE"," ",144],["T_VARIABLE","$twenty_four_hours",144],")",";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n  ",145],"}",["T_WHITESPACE","\n\n  ",146],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",148],["T_WHITESPACE","\n  ",150],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","getPathByAlias",151],"(",["T_VARIABLE","$alias",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$langcode",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","NULL",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n    ",151],["T_COMMENT","\/\/ If no language is explicitly specified we default to the current URL\n",152],["T_WHITESPACE","    ",153],["T_COMMENT","\/\/ language. If we used a language different from the one conveyed by the\n",153],["T_WHITESPACE","    ",154],["T_COMMENT","\/\/ requested URL, we might end up being unable to check if there is a path\n",154],["T_WHITESPACE","    ",155],["T_COMMENT","\/\/ alias matching the URL path.\n",155],["T_WHITESPACE","    ",156],["T_VARIABLE","$langcode",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$langcode",156],["T_WHITESPACE"," ",156],"?",":",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","languageManager",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getCurrentLanguage",156],"(",["T_STRING","LanguageInterface",156],["T_DOUBLE_COLON","::",156],["T_STRING","TYPE_URL",156],")",["T_OBJECT_OPERATOR","->",156],["T_STRING","getId",156],"(",")",";",["T_WHITESPACE","\n\n    ",156],["T_COMMENT","\/\/ If we already know that there are no paths for this alias simply return.\n",158],["T_WHITESPACE","    ",159],["T_IF","if",159],["T_WHITESPACE"," ",159],"(",["T_EMPTY","empty",159],"(",["T_VARIABLE","$alias",159],")",["T_WHITESPACE"," ",159],["T_BOOLEAN_OR","||",159],["T_WHITESPACE"," ",159],"!",["T_EMPTY","empty",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","noPath",159],"[",["T_VARIABLE","$langcode",159],"]","[",["T_VARIABLE","$alias",159],"]",")",")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n      ",159],["T_RETURN","return",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$alias",160],";",["T_WHITESPACE","\n    ",160],"}",["T_WHITESPACE","\n\n    ",161],["T_COMMENT","\/\/ Look for the alias within the cached map.\n",163],["T_WHITESPACE","    ",164],["T_IF","if",164],["T_WHITESPACE"," ",164],"(",["T_ISSET","isset",164],"(",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","lookupMap",164],"[",["T_VARIABLE","$langcode",164],"]",")",["T_WHITESPACE"," ",164],["T_BOOLEAN_AND","&&",164],["T_WHITESPACE"," ",164],"(",["T_VARIABLE","$path",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_STRING","array_search",164],"(",["T_VARIABLE","$alias",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","lookupMap",164],"[",["T_VARIABLE","$langcode",164],"]",")",")",")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n      ",164],["T_RETURN","return",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$path",165],";",["T_WHITESPACE","\n    ",165],"}",["T_WHITESPACE","\n\n    ",166],["T_COMMENT","\/\/ Look for path in storage.\n",168],["T_WHITESPACE","    ",169],["T_IF","if",169],["T_WHITESPACE"," ",169],"(",["T_VARIABLE","$path",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","storage",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","lookupPathSource",169],"(",["T_VARIABLE","$alias",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$langcode",169],")",")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n      ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","lookupMap",170],"[",["T_VARIABLE","$langcode",170],"]","[",["T_VARIABLE","$path",170],"]",["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$alias",170],";",["T_WHITESPACE","\n      ",170],["T_RETURN","return",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$path",171],";",["T_WHITESPACE","\n    ",171],"}",["T_WHITESPACE","\n\n    ",172],["T_COMMENT","\/\/ We can't record anything into $this->lookupMap because we didn't find any\n",174],["T_WHITESPACE","    ",175],["T_COMMENT","\/\/ paths for this alias. Thus cache to $this->noPath.\n",175],["T_WHITESPACE","    ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","noPath",176],"[",["T_VARIABLE","$langcode",176],"]","[",["T_VARIABLE","$alias",176],"]",["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_STRING","TRUE",176],";",["T_WHITESPACE","\n\n    ",176],["T_RETURN","return",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$alias",178],";",["T_WHITESPACE","\n  ",178],"}",["T_WHITESPACE","\n\n  ",179],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",181],["T_WHITESPACE","\n  ",183],["T_PUBLIC","public",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","getAliasByPath",184],"(",["T_VARIABLE","$path",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$langcode",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_STRING","NULL",184],")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n    ",184],["T_IF","if",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$path",185],"[",["T_LNUMBER","0",185],"]",["T_WHITESPACE"," ",185],["T_IS_NOT_IDENTICAL","!==",185],["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'\/'",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n      ",185],["T_THROW","throw",186],["T_WHITESPACE"," ",186],["T_NEW","new",186],["T_WHITESPACE"," ",186],["T_NS_SEPARATOR","\\",186],["T_STRING","InvalidArgumentException",186],"(",["T_STRING","sprintf",186],"(",["T_CONSTANT_ENCAPSED_STRING","'Source path %s has to start with a slash.'",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$path",186],")",")",";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n    ",187],["T_COMMENT","\/\/ If no language is explicitly specified we default to the current URL\n",188],["T_WHITESPACE","    ",189],["T_COMMENT","\/\/ language. If we used a language different from the one conveyed by the\n",189],["T_WHITESPACE","    ",190],["T_COMMENT","\/\/ requested URL, we might end up being unable to check if there is a path\n",190],["T_WHITESPACE","    ",191],["T_COMMENT","\/\/ alias matching the URL path.\n",191],["T_WHITESPACE","    ",192],["T_VARIABLE","$langcode",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$langcode",192],["T_WHITESPACE"," ",192],"?",":",["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","languageManager",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getCurrentLanguage",192],"(",["T_STRING","LanguageInterface",192],["T_DOUBLE_COLON","::",192],["T_STRING","TYPE_URL",192],")",["T_OBJECT_OPERATOR","->",192],["T_STRING","getId",192],"(",")",";",["T_WHITESPACE","\n\n    ",192],["T_COMMENT","\/\/ Check the path whitelist, if the top-level part before the first \/\n",194],["T_WHITESPACE","    ",195],["T_COMMENT","\/\/ is not in the list, then there is no need to do anything further,\n",195],["T_WHITESPACE","    ",196],["T_COMMENT","\/\/ it is not in the database.\n",196],["T_WHITESPACE","    ",197],["T_IF","if",197],["T_WHITESPACE"," ",197],"(",["T_VARIABLE","$path",197],["T_WHITESPACE"," ",197],["T_IS_IDENTICAL","===",197],["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'\/'",197],["T_WHITESPACE"," ",197],["T_BOOLEAN_OR","||",197],["T_WHITESPACE"," ",197],"!",["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","whitelist",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","get",197],"(",["T_STRING","strtok",197],"(",["T_STRING","trim",197],"(",["T_VARIABLE","$path",197],",",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'\/'",197],")",",",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'\/'",197],")",")",")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n      ",197],["T_RETURN","return",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$path",198],";",["T_WHITESPACE","\n    ",198],"}",["T_WHITESPACE","\n\n    ",199],["T_COMMENT","\/\/ During the first call to this method per language, load the expected\n",201],["T_WHITESPACE","    ",202],["T_COMMENT","\/\/ paths for the page from cache.\n",202],["T_WHITESPACE","    ",203],["T_IF","if",203],["T_WHITESPACE"," ",203],"(",["T_EMPTY","empty",203],"(",["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","langcodePreloaded",203],"[",["T_VARIABLE","$langcode",203],"]",")",")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n      ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","langcodePreloaded",204],"[",["T_VARIABLE","$langcode",204],"]",["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_STRING","TRUE",204],";",["T_WHITESPACE","\n      ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","lookupMap",205],"[",["T_VARIABLE","$langcode",205],"]",["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_ARRAY","array",205],"(",")",";",["T_WHITESPACE","\n\n      ",205],["T_COMMENT","\/\/ Load the cached paths that should be used for preloading. This only\n",207],["T_WHITESPACE","      ",208],["T_COMMENT","\/\/ happens if a cache key has been set.\n",208],["T_WHITESPACE","      ",209],["T_IF","if",209],["T_WHITESPACE"," ",209],"(",["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","preloadedPathLookups",209],["T_WHITESPACE"," ",209],["T_IS_IDENTICAL","===",209],["T_WHITESPACE"," ",209],["T_STRING","FALSE",209],")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","preloadedPathLookups",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_ARRAY","array",210],"(",")",";",["T_WHITESPACE","\n        ",210],["T_IF","if",211],["T_WHITESPACE"," ",211],"(",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","cacheKey",211],")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n          ",211],["T_IF","if",212],["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$cached",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","cache",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","get",212],"(",["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","cacheKey",212],")",")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n            ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","preloadedPathLookups",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$cached",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","data",213],";",["T_WHITESPACE","\n          ",213],"}",["T_WHITESPACE","\n          ",214],["T_ELSE","else",215],["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n            ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","cacheNeedsWriting",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_STRING","TRUE",216],";",["T_WHITESPACE","\n          ",216],"}",["T_WHITESPACE","\n        ",217],"}",["T_WHITESPACE","\n      ",218],"}",["T_WHITESPACE","\n\n      ",219],["T_COMMENT","\/\/ Load paths from cache.\n",221],["T_WHITESPACE","      ",222],["T_IF","if",222],["T_WHITESPACE"," ",222],"(","!",["T_EMPTY","empty",222],"(",["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","preloadedPathLookups",222],"[",["T_VARIABLE","$langcode",222],"]",")",")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","lookupMap",223],"[",["T_VARIABLE","$langcode",223],"]",["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","storage",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","preloadPathAlias",223],"(",["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","preloadedPathLookups",223],"[",["T_VARIABLE","$langcode",223],"]",",",["T_WHITESPACE"," ",223],["T_VARIABLE","$langcode",223],")",";",["T_WHITESPACE","\n        ",223],["T_COMMENT","\/\/ Keep a record of paths with no alias to avoid querying twice.\n",224],["T_WHITESPACE","        ",225],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","noAlias",225],"[",["T_VARIABLE","$langcode",225],"]",["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_STRING","array_flip",225],"(",["T_STRING","array_diff_key",225],"(",["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","preloadedPathLookups",225],"[",["T_VARIABLE","$langcode",225],"]",",",["T_WHITESPACE"," ",225],["T_STRING","array_keys",225],"(",["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","lookupMap",225],"[",["T_VARIABLE","$langcode",225],"]",")",")",")",";",["T_WHITESPACE","\n      ",225],"}",["T_WHITESPACE","\n    ",226],"}",["T_WHITESPACE","\n\n    ",227],["T_COMMENT","\/\/ If we already know that there are no aliases for this path simply return.\n",229],["T_WHITESPACE","    ",230],["T_IF","if",230],["T_WHITESPACE"," ",230],"(","!",["T_EMPTY","empty",230],"(",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","noAlias",230],"[",["T_VARIABLE","$langcode",230],"]","[",["T_VARIABLE","$path",230],"]",")",")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n      ",230],["T_RETURN","return",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$path",231],";",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n\n    ",232],["T_COMMENT","\/\/ If the alias has already been loaded, return it from static cache.\n",234],["T_WHITESPACE","    ",235],["T_IF","if",235],["T_WHITESPACE"," ",235],"(",["T_ISSET","isset",235],"(",["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","lookupMap",235],"[",["T_VARIABLE","$langcode",235],"]","[",["T_VARIABLE","$path",235],"]",")",")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n      ",235],["T_RETURN","return",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","lookupMap",236],"[",["T_VARIABLE","$langcode",236],"]","[",["T_VARIABLE","$path",236],"]",";",["T_WHITESPACE","\n    ",236],"}",["T_WHITESPACE","\n\n    ",237],["T_COMMENT","\/\/ Try to load alias from storage.\n",239],["T_WHITESPACE","    ",240],["T_IF","if",240],["T_WHITESPACE"," ",240],"(",["T_VARIABLE","$alias",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","storage",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","lookupPathAlias",240],"(",["T_VARIABLE","$path",240],",",["T_WHITESPACE"," ",240],["T_VARIABLE","$langcode",240],")",")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n      ",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","lookupMap",241],"[",["T_VARIABLE","$langcode",241],"]","[",["T_VARIABLE","$path",241],"]",["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_VARIABLE","$alias",241],";",["T_WHITESPACE","\n      ",241],["T_RETURN","return",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$alias",242],";",["T_WHITESPACE","\n    ",242],"}",["T_WHITESPACE","\n\n    ",243],["T_COMMENT","\/\/ We can't record anything into $this->lookupMap because we didn't find any\n",245],["T_WHITESPACE","    ",246],["T_COMMENT","\/\/ aliases for this path. Thus cache to $this->noAlias.\n",246],["T_WHITESPACE","    ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","noAlias",247],"[",["T_VARIABLE","$langcode",247],"]","[",["T_VARIABLE","$path",247],"]",["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_STRING","TRUE",247],";",["T_WHITESPACE","\n    ",247],["T_RETURN","return",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$path",248],";",["T_WHITESPACE","\n  ",248],"}",["T_WHITESPACE","\n\n  ",249],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",251],["T_WHITESPACE","\n  ",253],["T_PUBLIC","public",254],["T_WHITESPACE"," ",254],["T_FUNCTION","function",254],["T_WHITESPACE"," ",254],["T_STRING","cacheClear",254],"(",["T_VARIABLE","$source",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_STRING","NULL",254],")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n    ",254],["T_IF","if",255],["T_WHITESPACE"," ",255],"(",["T_VARIABLE","$source",255],")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n      ",255],["T_FOREACH","foreach",256],["T_WHITESPACE"," ",256],"(",["T_STRING","array_keys",256],"(",["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","lookupMap",256],")",["T_WHITESPACE"," ",256],["T_AS","as",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$lang",256],")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n        ",256],["T_UNSET","unset",257],"(",["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","lookupMap",257],"[",["T_VARIABLE","$lang",257],"]","[",["T_VARIABLE","$source",257],"]",")",";",["T_WHITESPACE","\n      ",257],"}",["T_WHITESPACE","\n    ",258],"}",["T_WHITESPACE","\n    ",259],["T_ELSE","else",260],["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n      ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","lookupMap",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_ARRAY","array",261],"(",")",";",["T_WHITESPACE","\n    ",261],"}",["T_WHITESPACE","\n    ",262],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","noPath",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_ARRAY","array",263],"(",")",";",["T_WHITESPACE","\n    ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","noAlias",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_ARRAY","array",264],"(",")",";",["T_WHITESPACE","\n    ",264],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","langcodePreloaded",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_ARRAY","array",265],"(",")",";",["T_WHITESPACE","\n    ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","preloadedPathLookups",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_ARRAY","array",266],"(",")",";",["T_WHITESPACE","\n    ",266],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","cache",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","delete",267],"(",["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","cacheKey",267],")",";",["T_WHITESPACE","\n    ",267],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","pathAliasWhitelistRebuild",268],"(",["T_VARIABLE","$source",268],")",";",["T_WHITESPACE","\n  ",268],"}",["T_WHITESPACE","\n\n  ",269],["T_DOC_COMMENT","\/**\n   * Rebuild the path alias white list.\n   *\n   * @param string $path\n   *   An optional path for which an alias is being inserted.\n   *\n   * @return\n   *   An array containing a white list of path aliases.\n   *\/",271],["T_WHITESPACE","\n  ",279],["T_PROTECTED","protected",280],["T_WHITESPACE"," ",280],["T_FUNCTION","function",280],["T_WHITESPACE"," ",280],["T_STRING","pathAliasWhitelistRebuild",280],"(",["T_VARIABLE","$path",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_STRING","NULL",280],")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n    ",280],["T_COMMENT","\/\/ When paths are inserted, only rebuild the whitelist if the path has a top\n",281],["T_WHITESPACE","    ",282],["T_COMMENT","\/\/ level component which is not already in the whitelist.\n",282],["T_WHITESPACE","    ",283],["T_IF","if",283],["T_WHITESPACE"," ",283],"(","!",["T_EMPTY","empty",283],"(",["T_VARIABLE","$path",283],")",")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n      ",283],["T_IF","if",284],["T_WHITESPACE"," ",284],"(",["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","whitelist",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","get",284],"(",["T_STRING","strtok",284],"(",["T_VARIABLE","$path",284],",",["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'\/'",284],")",")",")",["T_WHITESPACE"," ",284],"{",["T_WHITESPACE","\n        ",284],["T_RETURN","return",285],";",["T_WHITESPACE","\n      ",285],"}",["T_WHITESPACE","\n    ",286],"}",["T_WHITESPACE","\n    ",287],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","whitelist",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","clear",288],"(",")",";",["T_WHITESPACE","\n  ",288],"}",["T_WHITESPACE","\n\n  ",289],["T_DOC_COMMENT","\/**\n   * Wrapper method for REQUEST_TIME constant.\n   *\n   * @return int\n   *\/",291],["T_WHITESPACE","\n  ",295],["T_PROTECTED","protected",296],["T_WHITESPACE"," ",296],["T_FUNCTION","function",296],["T_WHITESPACE"," ",296],["T_STRING","getRequestTime",296],"(",")",["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n    ",296],["T_RETURN","return",297],["T_WHITESPACE"," ",297],["T_STRING","defined",297],"(",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_TIME'",297],")",["T_WHITESPACE"," ",297],"?",["T_WHITESPACE"," ",297],["T_STRING","REQUEST_TIME",297],["T_WHITESPACE"," ",297],":",["T_WHITESPACE"," ",297],["T_INT_CAST","(int)",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$_SERVER",297],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_TIME'",297],"]",";",["T_WHITESPACE","\n  ",297],"}",["T_WHITESPACE","\n\n",298],"}",["T_WHITESPACE","\n",300]]