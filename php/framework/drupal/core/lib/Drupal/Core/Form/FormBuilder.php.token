[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Form",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Crypt",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Utility",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Html",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Component",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Utility",7],["T_NS_SEPARATOR","\\",7],["T_STRING","NestedArray",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Component",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Utility",8],["T_NS_SEPARATOR","\\",8],["T_STRING","UrlHelper",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Access",9],["T_NS_SEPARATOR","\\",9],["T_STRING","AccessResultInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Access",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CsrfTokenGenerator",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","DependencyInjection",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ClassResolverInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","EventSubscriber",12],["T_NS_SEPARATOR","\\",12],["T_STRING","MainContentViewSubscriber",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Core",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Extension",13],["T_NS_SEPARATOR","\\",13],["T_STRING","ModuleHandlerInterface",13],";",["T_WHITESPACE","\n",13],["T_USE","use",14],["T_WHITESPACE"," ",14],["T_STRING","Drupal",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Core",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Form",14],["T_NS_SEPARATOR","\\",14],["T_STRING","Exception",14],["T_NS_SEPARATOR","\\",14],["T_STRING","BrokenPostRequestException",14],";",["T_WHITESPACE","\n",14],["T_USE","use",15],["T_WHITESPACE"," ",15],["T_STRING","Drupal",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Core",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Render",15],["T_NS_SEPARATOR","\\",15],["T_STRING","Element",15],";",["T_WHITESPACE","\n",15],["T_USE","use",16],["T_WHITESPACE"," ",16],["T_STRING","Drupal",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Core",16],["T_NS_SEPARATOR","\\",16],["T_STRING","Render",16],["T_NS_SEPARATOR","\\",16],["T_STRING","ElementInfoManagerInterface",16],";",["T_WHITESPACE","\n",16],["T_USE","use",17],["T_WHITESPACE"," ",17],["T_STRING","Drupal",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Core",17],["T_NS_SEPARATOR","\\",17],["T_STRING","Theme",17],["T_NS_SEPARATOR","\\",17],["T_STRING","ThemeManagerInterface",17],";",["T_WHITESPACE","\n",17],["T_USE","use",18],["T_WHITESPACE"," ",18],["T_STRING","Symfony",18],["T_NS_SEPARATOR","\\",18],["T_STRING","Component",18],["T_NS_SEPARATOR","\\",18],["T_STRING","EventDispatcher",18],["T_NS_SEPARATOR","\\",18],["T_STRING","EventDispatcherInterface",18],";",["T_WHITESPACE","\n",18],["T_USE","use",19],["T_WHITESPACE"," ",19],["T_STRING","Symfony",19],["T_NS_SEPARATOR","\\",19],["T_STRING","Component",19],["T_NS_SEPARATOR","\\",19],["T_STRING","HttpFoundation",19],["T_NS_SEPARATOR","\\",19],["T_STRING","FileBag",19],";",["T_WHITESPACE","\n",19],["T_USE","use",20],["T_WHITESPACE"," ",20],["T_STRING","Symfony",20],["T_NS_SEPARATOR","\\",20],["T_STRING","Component",20],["T_NS_SEPARATOR","\\",20],["T_STRING","HttpFoundation",20],["T_NS_SEPARATOR","\\",20],["T_STRING","RequestStack",20],";",["T_WHITESPACE","\n",20],["T_USE","use",21],["T_WHITESPACE"," ",21],["T_STRING","Symfony",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Component",21],["T_NS_SEPARATOR","\\",21],["T_STRING","HttpFoundation",21],["T_NS_SEPARATOR","\\",21],["T_STRING","Response",21],";",["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/**\n * Provides form building and processing.\n *\n * @ingroup form_api\n *\/",23],["T_WHITESPACE","\n",27],["T_CLASS","class",28],["T_WHITESPACE"," ",28],["T_STRING","FormBuilder",28],["T_WHITESPACE"," ",28],["T_IMPLEMENTS","implements",28],["T_WHITESPACE"," ",28],["T_STRING","FormBuilderInterface",28],",",["T_WHITESPACE"," ",28],["T_STRING","FormValidatorInterface",28],",",["T_WHITESPACE"," ",28],["T_STRING","FormSubmitterInterface",28],",",["T_WHITESPACE"," ",28],["T_STRING","FormCacheInterface",28],["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n\n  ",28],["T_DOC_COMMENT","\/**\n   * The module handler.\n   *\n   * @var \\Drupal\\Core\\Extension\\ModuleHandlerInterface\n   *\/",30],["T_WHITESPACE","\n  ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$moduleHandler",35],";",["T_WHITESPACE","\n\n  ",35],["T_DOC_COMMENT","\/**\n   * The event dispatcher.\n   *\n   * @var \\Symfony\\Component\\EventDispatcher\\EventDispatcherInterface\n   *\/",37],["T_WHITESPACE","\n  ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$eventDispatcher",42],";",["T_WHITESPACE","\n\n  ",42],["T_DOC_COMMENT","\/**\n   * The request stack.\n   *\n   * @var \\Symfony\\Component\\HttpFoundation\\RequestStack\n   *\/",44],["T_WHITESPACE","\n  ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$requestStack",49],";",["T_WHITESPACE","\n\n  ",49],["T_DOC_COMMENT","\/**\n   * The element info manager.\n   *\n   * @var \\Drupal\\Core\\Render\\ElementInfoManagerInterface\n   *\/",51],["T_WHITESPACE","\n  ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$elementInfo",56],";",["T_WHITESPACE","\n\n  ",56],["T_DOC_COMMENT","\/**\n   * The CSRF token generator to validate the form token.\n   *\n   * @var \\Drupal\\Core\\Access\\CsrfTokenGenerator\n   *\/",58],["T_WHITESPACE","\n  ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$csrfToken",63],";",["T_WHITESPACE","\n\n  ",63],["T_DOC_COMMENT","\/**\n   * The class resolver.\n   *\n   * @var \\Drupal\\Core\\DependencyInjection\\ClassResolverInterface\n   *\/",65],["T_WHITESPACE","\n  ",69],["T_PROTECTED","protected",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$classResolver",70],";",["T_WHITESPACE","\n\n  ",70],["T_DOC_COMMENT","\/**\n   * The current user.\n   *\n   * @var \\Drupal\\Core\\Session\\AccountInterface\n   *\/",72],["T_WHITESPACE","\n  ",76],["T_PROTECTED","protected",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$currentUser",77],";",["T_WHITESPACE","\n\n  ",77],["T_DOC_COMMENT","\/**\n   * The theme manager.\n   *\n   * @var \\Drupal\\Core\\Theme\\ThemeManagerInterface\n   *\/",79],["T_WHITESPACE","\n  ",83],["T_PROTECTED","protected",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$themeManager",84],";",["T_WHITESPACE","\n\n  ",84],["T_DOC_COMMENT","\/**\n   * @var \\Drupal\\Core\\Form\\FormValidatorInterface\n   *\/",86],["T_WHITESPACE","\n  ",88],["T_PROTECTED","protected",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$formValidator",89],";",["T_WHITESPACE","\n\n  ",89],["T_DOC_COMMENT","\/**\n   * @var \\Drupal\\Core\\Form\\FormSubmitterInterface\n   *\/",91],["T_WHITESPACE","\n  ",93],["T_PROTECTED","protected",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$formSubmitter",94],";",["T_WHITESPACE","\n\n  ",94],["T_DOC_COMMENT","\/**\n   * The form cache.\n   *\n   * @var \\Drupal\\Core\\Form\\FormCacheInterface\n   *\/",96],["T_WHITESPACE","\n  ",100],["T_PROTECTED","protected",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$formCache",101],";",["T_WHITESPACE","\n\n  ",101],["T_DOC_COMMENT","\/**\n   * Defines element value callables which are safe to run even when the form\n   * state has an invalid CSRF token.\n   *\n   * Excluded from this list on purpose:\n   *  - Drupal\\file\\Element\\ManagedFile::valueCallback\n   *  - Drupal\\Core\\Datetime\\Element\\Datelist::valueCallback\n   *  - Drupal\\Core\\Datetime\\Element\\Datetime::valueCallback\n   *  - Drupal\\Core\\Render\\Element\\ImageButton::valueCallback\n   *  - Drupal\\file\\Plugin\\Field\\FieldWidget\\FileWidget::value\n   *  - color_palette_color_value\n   *\n   * @var array\n   *\/",103],["T_WHITESPACE","\n  ",116],["T_PROTECTED","protected",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$safeCoreValueCallables",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],"[",["T_WHITESPACE","\n    ",117],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Render\\Element\\Checkbox::valueCallback'",118],",",["T_WHITESPACE","\n    ",118],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Render\\Element\\Checkboxes::valueCallback'",119],",",["T_WHITESPACE","\n    ",119],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Render\\Element\\Email::valueCallback'",120],",",["T_WHITESPACE","\n    ",120],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Render\\Element\\FormElement::valueCallback'",121],",",["T_WHITESPACE","\n    ",121],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Render\\Element\\MachineName::valueCallback'",122],",",["T_WHITESPACE","\n    ",122],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Render\\Element\\Number::valueCallback'",123],",",["T_WHITESPACE","\n    ",123],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Render\\Element\\PathElement::valueCallback'",124],",",["T_WHITESPACE","\n    ",124],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Render\\Element\\Password::valueCallback'",125],",",["T_WHITESPACE","\n    ",125],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Render\\Element\\PasswordConfirm::valueCallback'",126],",",["T_WHITESPACE","\n    ",126],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Render\\Element\\Radio::valueCallback'",127],",",["T_WHITESPACE","\n    ",127],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Render\\Element\\Radios::valueCallback'",128],",",["T_WHITESPACE","\n    ",128],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Render\\Element\\Range::valueCallback'",129],",",["T_WHITESPACE","\n    ",129],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Render\\Element\\Search::valueCallback'",130],",",["T_WHITESPACE","\n    ",130],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Render\\Element\\Select::valueCallback'",131],",",["T_WHITESPACE","\n    ",131],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Render\\Element\\Tableselect::valueCallback'",132],",",["T_WHITESPACE","\n    ",132],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Render\\Element\\Table::valueCallback'",133],",",["T_WHITESPACE","\n    ",133],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Render\\Element\\Tel::valueCallback'",134],",",["T_WHITESPACE","\n    ",134],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Render\\Element\\Textarea::valueCallback'",135],",",["T_WHITESPACE","\n    ",135],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Render\\Element\\Textfield::valueCallback'",136],",",["T_WHITESPACE","\n    ",136],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Render\\Element\\Token::valueCallback'",137],",",["T_WHITESPACE","\n    ",137],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Render\\Element\\Url::valueCallback'",138],",",["T_WHITESPACE","\n    ",138],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Render\\Element\\Weight::valueCallback'",139],",",["T_WHITESPACE","\n  ",139],"]",";",["T_WHITESPACE","\n\n  ",140],["T_DOC_COMMENT","\/**\n   * Constructs a new FormBuilder.\n   *\n   * @param \\Drupal\\Core\\Form\\FormValidatorInterface $form_validator\n   *   The form validator.\n   * @param \\Drupal\\Core\\Form\\FormSubmitterInterface $form_submitter\n   *   The form submission processor.\n   * @param \\Drupal\\Core\\Form\\FormCacheInterface $form_cache\n   *   The form cache.\n   * @param \\Drupal\\Core\\Extension\\ModuleHandlerInterface $module_handler\n   *   The module handler.\n   * @param \\Symfony\\Component\\EventDispatcher\\EventDispatcherInterface $event_dispatcher\n   *   The event dispatcher.\n   * @param \\Symfony\\Component\\HttpFoundation\\RequestStack $request_stack\n   *   The request stack.\n   * @param \\Drupal\\Core\\DependencyInjection\\ClassResolverInterface $class_resolver\n   *   The class resolver.\n   * @param \\Drupal\\Core\\Render\\ElementInfoManagerInterface $element_info\n   *   The element info manager.\n   * @param \\Drupal\\Core\\Theme\\ThemeManagerInterface $theme_manager\n   *   The theme manager.\n   * @param \\Drupal\\Core\\Access\\CsrfTokenGenerator $csrf_token\n   *   The CSRF token generator.\n   *\/",142],["T_WHITESPACE","\n  ",165],["T_PUBLIC","public",166],["T_WHITESPACE"," ",166],["T_FUNCTION","function",166],["T_WHITESPACE"," ",166],["T_STRING","__construct",166],"(",["T_STRING","FormValidatorInterface",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$form_validator",166],",",["T_WHITESPACE"," ",166],["T_STRING","FormSubmitterInterface",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$form_submitter",166],",",["T_WHITESPACE"," ",166],["T_STRING","FormCacheInterface",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$form_cache",166],",",["T_WHITESPACE"," ",166],["T_STRING","ModuleHandlerInterface",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$module_handler",166],",",["T_WHITESPACE"," ",166],["T_STRING","EventDispatcherInterface",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$event_dispatcher",166],",",["T_WHITESPACE"," ",166],["T_STRING","RequestStack",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$request_stack",166],",",["T_WHITESPACE"," ",166],["T_STRING","ClassResolverInterface",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$class_resolver",166],",",["T_WHITESPACE"," ",166],["T_STRING","ElementInfoManagerInterface",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$element_info",166],",",["T_WHITESPACE"," ",166],["T_STRING","ThemeManagerInterface",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$theme_manager",166],",",["T_WHITESPACE"," ",166],["T_STRING","CsrfTokenGenerator",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$csrf_token",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_STRING","NULL",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n    ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","formValidator",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$form_validator",167],";",["T_WHITESPACE","\n    ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","formSubmitter",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$form_submitter",168],";",["T_WHITESPACE","\n    ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","formCache",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$form_cache",169],";",["T_WHITESPACE","\n    ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","moduleHandler",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$module_handler",170],";",["T_WHITESPACE","\n    ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","eventDispatcher",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$event_dispatcher",171],";",["T_WHITESPACE","\n    ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","requestStack",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$request_stack",172],";",["T_WHITESPACE","\n    ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","classResolver",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$class_resolver",173],";",["T_WHITESPACE","\n    ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","elementInfo",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$element_info",174],";",["T_WHITESPACE","\n    ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","csrfToken",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$csrf_token",175],";",["T_WHITESPACE","\n    ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","themeManager",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$theme_manager",176],";",["T_WHITESPACE","\n  ",176],"}",["T_WHITESPACE","\n\n  ",177],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",179],["T_WHITESPACE","\n  ",181],["T_PUBLIC","public",182],["T_WHITESPACE"," ",182],["T_FUNCTION","function",182],["T_WHITESPACE"," ",182],["T_STRING","getFormId",182],"(",["T_VARIABLE","$form_arg",182],",",["T_WHITESPACE"," ",182],["T_STRING","FormStateInterface",182],["T_WHITESPACE"," ",182],"&",["T_VARIABLE","$form_state",182],")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n    ",182],["T_COMMENT","\/\/ If the $form_arg is the name of a class, instantiate it. Don't allow\n",183],["T_WHITESPACE","    ",184],["T_COMMENT","\/\/ arbitrary strings to be passed to the class resolver.\n",184],["T_WHITESPACE","    ",185],["T_IF","if",185],["T_WHITESPACE"," ",185],"(",["T_STRING","is_string",185],"(",["T_VARIABLE","$form_arg",185],")",["T_WHITESPACE"," ",185],["T_BOOLEAN_AND","&&",185],["T_WHITESPACE"," ",185],["T_STRING","class_exists",185],"(",["T_VARIABLE","$form_arg",185],")",")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n      ",185],["T_VARIABLE","$form_arg",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","classResolver",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getInstanceFromDefinition",186],"(",["T_VARIABLE","$form_arg",186],")",";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n\n    ",187],["T_IF","if",189],["T_WHITESPACE"," ",189],"(","!",["T_STRING","is_object",189],"(",["T_VARIABLE","$form_arg",189],")",["T_WHITESPACE"," ",189],["T_BOOLEAN_OR","||",189],["T_WHITESPACE"," ",189],"!","(",["T_VARIABLE","$form_arg",189],["T_WHITESPACE"," ",189],["T_INSTANCEOF","instanceof",189],["T_WHITESPACE"," ",189],["T_STRING","FormInterface",189],")",")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n      ",189],["T_THROW","throw",190],["T_WHITESPACE"," ",190],["T_NEW","new",190],["T_WHITESPACE"," ",190],["T_NS_SEPARATOR","\\",190],["T_STRING","InvalidArgumentException",190],"(","\"",["T_ENCAPSED_AND_WHITESPACE","The form argument ",190],["T_VARIABLE","$form_arg",190],["T_ENCAPSED_AND_WHITESPACE"," is not a valid form.",190],"\"",")",";",["T_WHITESPACE","\n    ",190],"}",["T_WHITESPACE","\n\n    ",191],["T_COMMENT","\/\/ Add the $form_arg as the callback object and determine the form ID.\n",193],["T_WHITESPACE","    ",194],["T_VARIABLE","$form_state",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","setFormObject",194],"(",["T_VARIABLE","$form_arg",194],")",";",["T_WHITESPACE","\n    ",194],["T_IF","if",195],["T_WHITESPACE"," ",195],"(",["T_VARIABLE","$form_arg",195],["T_WHITESPACE"," ",195],["T_INSTANCEOF","instanceof",195],["T_WHITESPACE"," ",195],["T_STRING","BaseFormIdInterface",195],")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n      ",195],["T_VARIABLE","$form_state",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","addBuildInfo",196],"(",["T_CONSTANT_ENCAPSED_STRING","'base_form_id'",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$form_arg",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getBaseFormId",196],"(",")",")",";",["T_WHITESPACE","\n    ",196],"}",["T_WHITESPACE","\n    ",197],["T_RETURN","return",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$form_arg",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","getFormId",198],"(",")",";",["T_WHITESPACE","\n  ",198],"}",["T_WHITESPACE","\n\n  ",199],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",201],["T_WHITESPACE","\n  ",203],["T_PUBLIC","public",204],["T_WHITESPACE"," ",204],["T_FUNCTION","function",204],["T_WHITESPACE"," ",204],["T_STRING","getForm",204],"(",["T_VARIABLE","$form_arg",204],")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n    ",204],["T_VARIABLE","$form_state",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_NEW","new",205],["T_WHITESPACE"," ",205],["T_STRING","FormState",205],"(",")",";",["T_WHITESPACE","\n\n    ",205],["T_VARIABLE","$args",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_STRING","func_get_args",207],"(",")",";",["T_WHITESPACE","\n    ",207],["T_COMMENT","\/\/ Remove $form_arg from the arguments.\n",208],["T_WHITESPACE","    ",209],["T_UNSET","unset",209],"(",["T_VARIABLE","$args",209],"[",["T_LNUMBER","0",209],"]",")",";",["T_WHITESPACE","\n    ",209],["T_VARIABLE","$form_state",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","addBuildInfo",210],"(",["T_CONSTANT_ENCAPSED_STRING","'args'",210],",",["T_WHITESPACE"," ",210],["T_STRING","array_values",210],"(",["T_VARIABLE","$args",210],")",")",";",["T_WHITESPACE","\n\n    ",210],["T_RETURN","return",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","buildForm",212],"(",["T_VARIABLE","$form_arg",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$form_state",212],")",";",["T_WHITESPACE","\n  ",212],"}",["T_WHITESPACE","\n\n  ",213],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",215],["T_WHITESPACE","\n  ",217],["T_PUBLIC","public",218],["T_WHITESPACE"," ",218],["T_FUNCTION","function",218],["T_WHITESPACE"," ",218],["T_STRING","buildForm",218],"(",["T_VARIABLE","$form_id",218],",",["T_WHITESPACE"," ",218],["T_STRING","FormStateInterface",218],["T_WHITESPACE"," ",218],"&",["T_VARIABLE","$form_state",218],")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n    ",218],["T_COMMENT","\/\/ Ensure the form ID is prepared.\n",219],["T_WHITESPACE","    ",220],["T_VARIABLE","$form_id",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","getFormId",220],"(",["T_VARIABLE","$form_id",220],",",["T_WHITESPACE"," ",220],["T_VARIABLE","$form_state",220],")",";",["T_WHITESPACE","\n\n    ",220],["T_VARIABLE","$request",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","requestStack",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getCurrentRequest",222],"(",")",";",["T_WHITESPACE","\n\n    ",222],["T_COMMENT","\/\/ Inform $form_state about the request method that's building it, so that\n",224],["T_WHITESPACE","    ",225],["T_COMMENT","\/\/ it can prevent persisting state changes during HTTP methods for which\n",225],["T_WHITESPACE","    ",226],["T_COMMENT","\/\/ that is disallowed by HTTP: GET and HEAD.\n",226],["T_WHITESPACE","    ",227],["T_VARIABLE","$form_state",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","setRequestMethod",227],"(",["T_VARIABLE","$request",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getMethod",227],"(",")",")",";",["T_WHITESPACE","\n\n    ",227],["T_COMMENT","\/\/ Initialize the form's user input. The user input should include only the\n",229],["T_WHITESPACE","    ",230],["T_COMMENT","\/\/ input meant to be treated as part of what is submitted to the form, so\n",230],["T_WHITESPACE","    ",231],["T_COMMENT","\/\/ we base it on the form's method rather than the request's method. For\n",231],["T_WHITESPACE","    ",232],["T_COMMENT","\/\/ example, when someone does a GET request for\n",232],["T_WHITESPACE","    ",233],["T_COMMENT","\/\/ \/node\/add\/article?destination=foo, which is a form that expects its\n",233],["T_WHITESPACE","    ",234],["T_COMMENT","\/\/ submission method to be POST, the user input during the GET request\n",234],["T_WHITESPACE","    ",235],["T_COMMENT","\/\/ should be initialized to empty rather than to ['destination' => 'foo'].\n",235],["T_WHITESPACE","    ",236],["T_VARIABLE","$input",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$form_state",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getUserInput",236],"(",")",";",["T_WHITESPACE","\n    ",236],["T_IF","if",237],["T_WHITESPACE"," ",237],"(","!",["T_ISSET","isset",237],"(",["T_VARIABLE","$input",237],")",")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n      ",237],["T_VARIABLE","$input",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$form_state",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","isMethodType",238],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",238],")",["T_WHITESPACE"," ",238],"?",["T_WHITESPACE"," ",238],["T_VARIABLE","$request",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","query",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","all",238],"(",")",["T_WHITESPACE"," ",238],":",["T_WHITESPACE"," ",238],["T_VARIABLE","$request",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","request",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","all",238],"(",")",";",["T_WHITESPACE","\n      ",238],["T_VARIABLE","$form_state",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","setUserInput",239],"(",["T_VARIABLE","$input",239],")",";",["T_WHITESPACE","\n    ",239],"}",["T_WHITESPACE","\n\n    ",240],["T_IF","if",242],["T_WHITESPACE"," ",242],"(",["T_ISSET","isset",242],"(",["T_VARIABLE","$_SESSION",242],"[",["T_CONSTANT_ENCAPSED_STRING","'batch_form_state'",242],"]",")",")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n      ",242],["T_COMMENT","\/\/ We've been redirected here after a batch processing. The form has\n",243],["T_WHITESPACE","      ",244],["T_COMMENT","\/\/ already been processed, but needs to be rebuilt. See _batch_finished().\n",244],["T_WHITESPACE","      ",245],["T_VARIABLE","$form_state",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$_SESSION",245],"[",["T_CONSTANT_ENCAPSED_STRING","'batch_form_state'",245],"]",";",["T_WHITESPACE","\n      ",245],["T_UNSET","unset",246],"(",["T_VARIABLE","$_SESSION",246],"[",["T_CONSTANT_ENCAPSED_STRING","'batch_form_state'",246],"]",")",";",["T_WHITESPACE","\n      ",246],["T_RETURN","return",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","rebuildForm",247],"(",["T_VARIABLE","$form_id",247],",",["T_WHITESPACE"," ",247],["T_VARIABLE","$form_state",247],")",";",["T_WHITESPACE","\n    ",247],"}",["T_WHITESPACE","\n\n    ",248],["T_COMMENT","\/\/ If the incoming input contains a form_build_id, we'll check the cache for\n",250],["T_WHITESPACE","    ",251],["T_COMMENT","\/\/ a copy of the form in question. If it's there, we don't have to rebuild\n",251],["T_WHITESPACE","    ",252],["T_COMMENT","\/\/ the form to proceed. In addition, if there is stored form_state data from\n",252],["T_WHITESPACE","    ",253],["T_COMMENT","\/\/ a previous step, we'll retrieve it so it can be passed on to the form\n",253],["T_WHITESPACE","    ",254],["T_COMMENT","\/\/ processing code.\n",254],["T_WHITESPACE","    ",255],["T_VARIABLE","$check_cache",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_ISSET","isset",255],"(",["T_VARIABLE","$input",255],"[",["T_CONSTANT_ENCAPSED_STRING","'form_id'",255],"]",")",["T_WHITESPACE"," ",255],["T_BOOLEAN_AND","&&",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$input",255],"[",["T_CONSTANT_ENCAPSED_STRING","'form_id'",255],"]",["T_WHITESPACE"," ",255],["T_IS_EQUAL","==",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$form_id",255],["T_WHITESPACE"," ",255],["T_BOOLEAN_AND","&&",255],["T_WHITESPACE"," ",255],"!",["T_EMPTY","empty",255],"(",["T_VARIABLE","$input",255],"[",["T_CONSTANT_ENCAPSED_STRING","'form_build_id'",255],"]",")",";",["T_WHITESPACE","\n    ",255],["T_IF","if",256],["T_WHITESPACE"," ",256],"(",["T_VARIABLE","$check_cache",256],")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n      ",256],["T_VARIABLE","$form",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","getCache",257],"(",["T_VARIABLE","$input",257],"[",["T_CONSTANT_ENCAPSED_STRING","'form_build_id'",257],"]",",",["T_WHITESPACE"," ",257],["T_VARIABLE","$form_state",257],")",";",["T_WHITESPACE","\n    ",257],"}",["T_WHITESPACE","\n\n    ",258],["T_COMMENT","\/\/ If the previous bit of code didn't result in a populated $form object, we\n",260],["T_WHITESPACE","    ",261],["T_COMMENT","\/\/ are hitting the form for the first time and we need to build it from\n",261],["T_WHITESPACE","    ",262],["T_COMMENT","\/\/ scratch.\n",262],["T_WHITESPACE","    ",263],["T_IF","if",263],["T_WHITESPACE"," ",263],"(","!",["T_ISSET","isset",263],"(",["T_VARIABLE","$form",263],")",")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n      ",263],["T_COMMENT","\/\/ If we attempted to serve the form from cache, uncacheable $form_state\n",264],["T_WHITESPACE","      ",265],["T_COMMENT","\/\/ keys need to be removed after retrieving and preparing the form, except\n",265],["T_WHITESPACE","      ",266],["T_COMMENT","\/\/ any that were already set prior to retrieving the form.\n",266],["T_WHITESPACE","      ",267],["T_IF","if",267],["T_WHITESPACE"," ",267],"(",["T_VARIABLE","$check_cache",267],")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n        ",267],["T_VARIABLE","$form_state_before_retrieval",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_CLONE","clone",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$form_state",268],";",["T_WHITESPACE","\n      ",268],"}",["T_WHITESPACE","\n\n      ",269],["T_VARIABLE","$form",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","retrieveForm",271],"(",["T_VARIABLE","$form_id",271],",",["T_WHITESPACE"," ",271],["T_VARIABLE","$form_state",271],")",";",["T_WHITESPACE","\n      ",271],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","prepareForm",272],"(",["T_VARIABLE","$form_id",272],",",["T_WHITESPACE"," ",272],["T_VARIABLE","$form",272],",",["T_WHITESPACE"," ",272],["T_VARIABLE","$form_state",272],")",";",["T_WHITESPACE","\n\n      ",272],["T_COMMENT","\/\/ self::setCache() removes uncacheable $form_state keys (see properties\n",274],["T_WHITESPACE","      ",275],["T_COMMENT","\/\/ in \\Drupal\\Core\\Form\\FormState) in order for multi-step forms to work\n",275],["T_WHITESPACE","      ",276],["T_COMMENT","\/\/ properly. This means that form processing logic for single-step forms\n",276],["T_WHITESPACE","      ",277],["T_COMMENT","\/\/ using $form_state->isCached() may depend on data stored in those keys\n",277],["T_WHITESPACE","      ",278],["T_COMMENT","\/\/ during self::retrieveForm()\/self::prepareForm(), but form processing\n",278],["T_WHITESPACE","      ",279],["T_COMMENT","\/\/ should not depend on whether the form is cached or not, so $form_state\n",279],["T_WHITESPACE","      ",280],["T_COMMENT","\/\/ is adjusted to match what it would be after a\n",280],["T_WHITESPACE","      ",281],["T_COMMENT","\/\/ self::setCache()\/self::getCache() sequence. These exceptions are\n",281],["T_WHITESPACE","      ",282],["T_COMMENT","\/\/ allowed to survive here:\n",282],["T_WHITESPACE","      ",283],["T_COMMENT","\/\/ - always_process: Does not make sense in conjunction with form caching\n",283],["T_WHITESPACE","      ",284],["T_COMMENT","\/\/   in the first place, since passing form_build_id as a GET parameter is\n",284],["T_WHITESPACE","      ",285],["T_COMMENT","\/\/   not desired.\n",285],["T_WHITESPACE","      ",286],["T_COMMENT","\/\/ - temporary: Any assigned data is expected to survives within the same\n",286],["T_WHITESPACE","      ",287],["T_COMMENT","\/\/   page request.\n",287],["T_WHITESPACE","      ",288],["T_IF","if",288],["T_WHITESPACE"," ",288],"(",["T_VARIABLE","$check_cache",288],")",["T_WHITESPACE"," ",288],"{",["T_WHITESPACE","\n        ",288],["T_VARIABLE","$cache_form_state",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_VARIABLE","$form_state",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","getCacheableArray",289],"(",")",";",["T_WHITESPACE","\n        ",289],["T_VARIABLE","$cache_form_state",290],"[",["T_CONSTANT_ENCAPSED_STRING","'always_process'",290],"]",["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$form_state",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","getAlwaysProcess",290],"(",")",";",["T_WHITESPACE","\n        ",290],["T_VARIABLE","$cache_form_state",291],"[",["T_CONSTANT_ENCAPSED_STRING","'temporary'",291],"]",["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$form_state",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","getTemporary",291],"(",")",";",["T_WHITESPACE","\n        ",291],["T_VARIABLE","$form_state",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_VARIABLE","$form_state_before_retrieval",292],";",["T_WHITESPACE","\n        ",292],["T_VARIABLE","$form_state",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","setFormState",293],"(",["T_VARIABLE","$cache_form_state",293],")",";",["T_WHITESPACE","\n      ",293],"}",["T_WHITESPACE","\n    ",294],"}",["T_WHITESPACE","\n\n    ",295],["T_COMMENT","\/\/ If this form is an AJAX request, disable all form redirects.\n",297],["T_WHITESPACE","    ",298],["T_VARIABLE","$request",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","requestStack",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","getCurrentRequest",298],"(",")",";",["T_WHITESPACE","\n    ",298],["T_IF","if",299],["T_WHITESPACE"," ",299],"(",["T_VARIABLE","$ajax_form_request",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$request",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","query",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","has",299],"(",["T_STATIC","static",299],["T_DOUBLE_COLON","::",299],["T_STRING","AJAX_FORM_REQUEST",299],")",")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n      ",299],["T_VARIABLE","$form_state",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","disableRedirect",300],"(",")",";",["T_WHITESPACE","\n    ",300],"}",["T_WHITESPACE","\n\n    ",301],["T_COMMENT","\/\/ Now that we have a constructed form, process it. This is where:\n",303],["T_WHITESPACE","    ",304],["T_COMMENT","\/\/ - Element #process functions get called to further refine $form.\n",304],["T_WHITESPACE","    ",305],["T_COMMENT","\/\/ - User input, if any, gets incorporated in the #value property of the\n",305],["T_WHITESPACE","    ",306],["T_COMMENT","\/\/   corresponding elements and into $form_state->getValues().\n",306],["T_WHITESPACE","    ",307],["T_COMMENT","\/\/ - Validation and submission handlers are called.\n",307],["T_WHITESPACE","    ",308],["T_COMMENT","\/\/ - If this submission is part of a multistep workflow, the form is rebuilt\n",308],["T_WHITESPACE","    ",309],["T_COMMENT","\/\/   to contain the information of the next step.\n",309],["T_WHITESPACE","    ",310],["T_COMMENT","\/\/ - If necessary, the form and form state are cached or re-cached, so that\n",310],["T_WHITESPACE","    ",311],["T_COMMENT","\/\/   appropriate information persists to the next page request.\n",311],["T_WHITESPACE","    ",312],["T_COMMENT","\/\/ All of the handlers in the pipeline receive $form_state by reference and\n",312],["T_WHITESPACE","    ",313],["T_COMMENT","\/\/ can use it to know or update information about the state of the form.\n",313],["T_WHITESPACE","    ",314],["T_VARIABLE","$response",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","processForm",314],"(",["T_VARIABLE","$form_id",314],",",["T_WHITESPACE"," ",314],["T_VARIABLE","$form",314],",",["T_WHITESPACE"," ",314],["T_VARIABLE","$form_state",314],")",";",["T_WHITESPACE","\n\n    ",314],["T_COMMENT","\/\/ In case the post request exceeds the configured allowed size\n",316],["T_WHITESPACE","    ",317],["T_COMMENT","\/\/ (post_max_size), the post request is potentially broken. Add some\n",317],["T_WHITESPACE","    ",318],["T_COMMENT","\/\/ protection against that and at the same time have a nice error message.\n",318],["T_WHITESPACE","    ",319],["T_IF","if",319],["T_WHITESPACE"," ",319],"(",["T_VARIABLE","$ajax_form_request",319],["T_WHITESPACE"," ",319],["T_BOOLEAN_AND","&&",319],["T_WHITESPACE"," ",319],"!",["T_VARIABLE","$request",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","request",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","has",319],"(",["T_CONSTANT_ENCAPSED_STRING","'form_id'",319],")",")",["T_WHITESPACE"," ",319],"{",["T_WHITESPACE","\n      ",319],["T_THROW","throw",320],["T_WHITESPACE"," ",320],["T_NEW","new",320],["T_WHITESPACE"," ",320],["T_STRING","BrokenPostRequestException",320],"(",["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","getFileUploadMaxSize",320],"(",")",")",";",["T_WHITESPACE","\n    ",320],"}",["T_WHITESPACE","\n\n    ",321],["T_COMMENT","\/\/ After processing the form, if this is an AJAX form request, interrupt\n",323],["T_WHITESPACE","    ",324],["T_COMMENT","\/\/ form rendering and return by throwing an exception that contains the\n",324],["T_WHITESPACE","    ",325],["T_COMMENT","\/\/ processed form and form state. This exception will be caught by\n",325],["T_WHITESPACE","    ",326],["T_COMMENT","\/\/ \\Drupal\\Core\\Form\\EventSubscriber\\FormAjaxSubscriber::onException() and\n",326],["T_WHITESPACE","    ",327],["T_COMMENT","\/\/ then passed through\n",327],["T_WHITESPACE","    ",328],["T_COMMENT","\/\/ \\Drupal\\Core\\Form\\FormAjaxResponseBuilderInterface::buildResponse() to\n",328],["T_WHITESPACE","    ",329],["T_COMMENT","\/\/ build a proper AJAX response.\n",329],["T_WHITESPACE","    ",330],["T_COMMENT","\/\/ Only do this when the form ID matches, since there is no guarantee from\n",330],["T_WHITESPACE","    ",331],["T_COMMENT","\/\/ $ajax_form_request that it's an AJAX request for this particular form.\n",331],["T_WHITESPACE","    ",332],["T_IF","if",332],["T_WHITESPACE"," ",332],"(",["T_VARIABLE","$ajax_form_request",332],["T_WHITESPACE"," ",332],["T_BOOLEAN_AND","&&",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$form_state",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","isProcessingInput",332],"(",")",["T_WHITESPACE"," ",332],["T_BOOLEAN_AND","&&",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$request",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","request",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","get",332],"(",["T_CONSTANT_ENCAPSED_STRING","'form_id'",332],")",["T_WHITESPACE"," ",332],["T_IS_EQUAL","==",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$form_id",332],")",["T_WHITESPACE"," ",332],"{",["T_WHITESPACE","\n      ",332],["T_THROW","throw",333],["T_WHITESPACE"," ",333],["T_NEW","new",333],["T_WHITESPACE"," ",333],["T_STRING","FormAjaxException",333],"(",["T_VARIABLE","$form",333],",",["T_WHITESPACE"," ",333],["T_VARIABLE","$form_state",333],")",";",["T_WHITESPACE","\n    ",333],"}",["T_WHITESPACE","\n\n    ",334],["T_COMMENT","\/\/ If the form returns a response, skip subsequent page construction by\n",336],["T_WHITESPACE","    ",337],["T_COMMENT","\/\/ throwing an exception.\n",337],["T_WHITESPACE","    ",338],["T_COMMENT","\/\/ @see Drupal\\Core\\EventSubscriber\\EnforcedFormResponseSubscriber\n",338],["T_WHITESPACE","    ",339],["T_COMMENT","\/\/\n",339],["T_WHITESPACE","    ",340],["T_COMMENT","\/\/ @todo Exceptions should not be used for code flow control. However, the\n",340],["T_WHITESPACE","    ",341],["T_COMMENT","\/\/   Form API does not integrate with the HTTP Kernel based architecture of\n",341],["T_WHITESPACE","    ",342],["T_COMMENT","\/\/   Drupal 8. In order to resolve this issue properly it is necessary to\n",342],["T_WHITESPACE","    ",343],["T_COMMENT","\/\/   completely separate form submission from rendering.\n",343],["T_WHITESPACE","    ",344],["T_COMMENT","\/\/   @see https:\/\/www.drupal.org\/node\/2367555\n",344],["T_WHITESPACE","    ",345],["T_IF","if",345],["T_WHITESPACE"," ",345],"(",["T_VARIABLE","$response",345],["T_WHITESPACE"," ",345],["T_INSTANCEOF","instanceof",345],["T_WHITESPACE"," ",345],["T_STRING","Response",345],")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n      ",345],["T_THROW","throw",346],["T_WHITESPACE"," ",346],["T_NEW","new",346],["T_WHITESPACE"," ",346],["T_STRING","EnforcedResponseException",346],"(",["T_VARIABLE","$response",346],")",";",["T_WHITESPACE","\n    ",346],"}",["T_WHITESPACE","\n\n    ",347],["T_COMMENT","\/\/ If this was a successful submission of a single-step form or the last\n",349],["T_WHITESPACE","    ",350],["T_COMMENT","\/\/ step of a multi-step form, then self::processForm() issued a redirect to\n",350],["T_WHITESPACE","    ",351],["T_COMMENT","\/\/ another page, or back to this page, but as a new request. Therefore, if\n",351],["T_WHITESPACE","    ",352],["T_COMMENT","\/\/ we're here, it means that this is either a form being viewed initially\n",352],["T_WHITESPACE","    ",353],["T_COMMENT","\/\/ before any user input, or there was a validation error requiring the form\n",353],["T_WHITESPACE","    ",354],["T_COMMENT","\/\/ to be re-displayed, or we're in a multi-step workflow and need to display\n",354],["T_WHITESPACE","    ",355],["T_COMMENT","\/\/ the form's next step. In any case, we have what we need in $form, and can\n",355],["T_WHITESPACE","    ",356],["T_COMMENT","\/\/ return it for rendering.\n",356],["T_WHITESPACE","    ",357],["T_RETURN","return",357],["T_WHITESPACE"," ",357],["T_VARIABLE","$form",357],";",["T_WHITESPACE","\n  ",357],"}",["T_WHITESPACE","\n\n  ",358],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",360],["T_WHITESPACE","\n  ",362],["T_PUBLIC","public",363],["T_WHITESPACE"," ",363],["T_FUNCTION","function",363],["T_WHITESPACE"," ",363],["T_STRING","rebuildForm",363],"(",["T_VARIABLE","$form_id",363],",",["T_WHITESPACE"," ",363],["T_STRING","FormStateInterface",363],["T_WHITESPACE"," ",363],"&",["T_VARIABLE","$form_state",363],",",["T_WHITESPACE"," ",363],["T_VARIABLE","$old_form",363],["T_WHITESPACE"," ",363],"=",["T_WHITESPACE"," ",363],["T_STRING","NULL",363],")",["T_WHITESPACE"," ",363],"{",["T_WHITESPACE","\n    ",363],["T_VARIABLE","$form",364],["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","retrieveForm",364],"(",["T_VARIABLE","$form_id",364],",",["T_WHITESPACE"," ",364],["T_VARIABLE","$form_state",364],")",";",["T_WHITESPACE","\n\n    ",364],["T_COMMENT","\/\/ Only GET and POST are valid form methods. If the form receives its input\n",366],["T_WHITESPACE","    ",367],["T_COMMENT","\/\/ via POST, then $form_state must be persisted when it is rebuilt between\n",367],["T_WHITESPACE","    ",368],["T_COMMENT","\/\/ submissions. If the form receives its input via GET, then persisting\n",368],["T_WHITESPACE","    ",369],["T_COMMENT","\/\/ state is forbidden by $form_state->setCached(), and the form must use\n",369],["T_WHITESPACE","    ",370],["T_COMMENT","\/\/ the URL itself to transfer its state across steps. Although $form_state\n",370],["T_WHITESPACE","    ",371],["T_COMMENT","\/\/ throws an exception based on the request method rather than the form's\n",371],["T_WHITESPACE","    ",372],["T_COMMENT","\/\/ method, we base the decision to cache on the form method, because:\n",372],["T_WHITESPACE","    ",373],["T_COMMENT","\/\/ - It's the form method that defines what the form needs to do to manage\n",373],["T_WHITESPACE","    ",374],["T_COMMENT","\/\/   its state.\n",374],["T_WHITESPACE","    ",375],["T_COMMENT","\/\/ - rebuildForm() should only be called after successful input processing,\n",375],["T_WHITESPACE","    ",376],["T_COMMENT","\/\/   which means the request method matches the form method, and if not,\n",376],["T_WHITESPACE","    ",377],["T_COMMENT","\/\/   there's some other error, so it's ok if an exception is thrown.\n",377],["T_WHITESPACE","    ",378],["T_IF","if",378],["T_WHITESPACE"," ",378],"(",["T_VARIABLE","$form_state",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","isMethodType",378],"(",["T_CONSTANT_ENCAPSED_STRING","'POST'",378],")",")",["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n      ",378],["T_VARIABLE","$form_state",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","setCached",379],"(",")",";",["T_WHITESPACE","\n    ",379],"}",["T_WHITESPACE","\n\n    ",380],["T_COMMENT","\/\/ If only parts of the form will be returned to the browser (e.g., Ajax or\n",382],["T_WHITESPACE","    ",383],["T_COMMENT","\/\/ RIA clients), or if the form already had a new build ID regenerated when\n",383],["T_WHITESPACE","    ",384],["T_COMMENT","\/\/ it was retrieved from the form cache, reuse the existing #build_id.\n",384],["T_WHITESPACE","    ",385],["T_COMMENT","\/\/ Otherwise, a new #build_id is generated, to not clobber the previous\n",385],["T_WHITESPACE","    ",386],["T_COMMENT","\/\/ build's data in the form cache; also allowing the user to go back to an\n",386],["T_WHITESPACE","    ",387],["T_COMMENT","\/\/ earlier build, make changes, and re-submit.\n",387],["T_WHITESPACE","    ",388],["T_COMMENT","\/\/ @see self::prepareForm()\n",388],["T_WHITESPACE","    ",389],["T_VARIABLE","$rebuild_info",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_VARIABLE","$form_state",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","getRebuildInfo",389],"(",")",";",["T_WHITESPACE","\n    ",389],["T_VARIABLE","$enforce_old_build_id",390],["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_ISSET","isset",390],"(",["T_VARIABLE","$old_form",390],"[",["T_CONSTANT_ENCAPSED_STRING","'#build_id'",390],"]",")",["T_WHITESPACE"," ",390],["T_BOOLEAN_AND","&&",390],["T_WHITESPACE"," ",390],"!",["T_EMPTY","empty",390],"(",["T_VARIABLE","$rebuild_info",390],"[",["T_CONSTANT_ENCAPSED_STRING","'copy'",390],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#build_id'",390],"]",")",";",["T_WHITESPACE","\n    ",390],["T_VARIABLE","$old_form_is_mutable_copy",391],["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_ISSET","isset",391],"(",["T_VARIABLE","$old_form",391],"[",["T_CONSTANT_ENCAPSED_STRING","'#build_id_old'",391],"]",")",";",["T_WHITESPACE","\n    ",391],["T_IF","if",392],["T_WHITESPACE"," ",392],"(",["T_VARIABLE","$enforce_old_build_id",392],["T_WHITESPACE"," ",392],["T_BOOLEAN_OR","||",392],["T_WHITESPACE"," ",392],["T_VARIABLE","$old_form_is_mutable_copy",392],")",["T_WHITESPACE"," ",392],"{",["T_WHITESPACE","\n      ",392],["T_VARIABLE","$form",393],"[",["T_CONSTANT_ENCAPSED_STRING","'#build_id'",393],"]",["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_VARIABLE","$old_form",393],"[",["T_CONSTANT_ENCAPSED_STRING","'#build_id'",393],"]",";",["T_WHITESPACE","\n      ",393],["T_IF","if",394],["T_WHITESPACE"," ",394],"(",["T_VARIABLE","$old_form_is_mutable_copy",394],")",["T_WHITESPACE"," ",394],"{",["T_WHITESPACE","\n        ",394],["T_VARIABLE","$form",395],"[",["T_CONSTANT_ENCAPSED_STRING","'#build_id_old'",395],"]",["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_VARIABLE","$old_form",395],"[",["T_CONSTANT_ENCAPSED_STRING","'#build_id_old'",395],"]",";",["T_WHITESPACE","\n      ",395],"}",["T_WHITESPACE","\n    ",396],"}",["T_WHITESPACE","\n    ",397],["T_ELSE","else",398],["T_WHITESPACE"," ",398],"{",["T_WHITESPACE","\n      ",398],["T_IF","if",399],["T_WHITESPACE"," ",399],"(",["T_ISSET","isset",399],"(",["T_VARIABLE","$old_form",399],"[",["T_CONSTANT_ENCAPSED_STRING","'#build_id'",399],"]",")",")",["T_WHITESPACE"," ",399],"{",["T_WHITESPACE","\n        ",399],["T_VARIABLE","$form",400],"[",["T_CONSTANT_ENCAPSED_STRING","'#build_id_old'",400],"]",["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],["T_VARIABLE","$old_form",400],"[",["T_CONSTANT_ENCAPSED_STRING","'#build_id'",400],"]",";",["T_WHITESPACE","\n      ",400],"}",["T_WHITESPACE","\n      ",401],["T_VARIABLE","$form",402],"[",["T_CONSTANT_ENCAPSED_STRING","'#build_id'",402],"]",["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],["T_CONSTANT_ENCAPSED_STRING","'form-'",402],["T_WHITESPACE"," ",402],".",["T_WHITESPACE"," ",402],["T_STRING","Crypt",402],["T_DOUBLE_COLON","::",402],["T_STRING","randomBytesBase64",402],"(",")",";",["T_WHITESPACE","\n    ",402],"}",["T_WHITESPACE","\n\n    ",403],["T_COMMENT","\/\/ #action defaults to $request->getRequestUri(), but in case of Ajax and\n",405],["T_WHITESPACE","    ",406],["T_COMMENT","\/\/ other partial rebuilds, the form is submitted to an alternate URL, and\n",406],["T_WHITESPACE","    ",407],["T_COMMENT","\/\/ the original #action needs to be retained.\n",407],["T_WHITESPACE","    ",408],["T_IF","if",408],["T_WHITESPACE"," ",408],"(",["T_ISSET","isset",408],"(",["T_VARIABLE","$old_form",408],"[",["T_CONSTANT_ENCAPSED_STRING","'#action'",408],"]",")",["T_WHITESPACE"," ",408],["T_BOOLEAN_AND","&&",408],["T_WHITESPACE"," ",408],"!",["T_EMPTY","empty",408],"(",["T_VARIABLE","$rebuild_info",408],"[",["T_CONSTANT_ENCAPSED_STRING","'copy'",408],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#action'",408],"]",")",")",["T_WHITESPACE"," ",408],"{",["T_WHITESPACE","\n      ",408],["T_VARIABLE","$form",409],"[",["T_CONSTANT_ENCAPSED_STRING","'#action'",409],"]",["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_VARIABLE","$old_form",409],"[",["T_CONSTANT_ENCAPSED_STRING","'#action'",409],"]",";",["T_WHITESPACE","\n    ",409],"}",["T_WHITESPACE","\n\n    ",410],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","prepareForm",412],"(",["T_VARIABLE","$form_id",412],",",["T_WHITESPACE"," ",412],["T_VARIABLE","$form",412],",",["T_WHITESPACE"," ",412],["T_VARIABLE","$form_state",412],")",";",["T_WHITESPACE","\n\n    ",412],["T_COMMENT","\/\/ Caching is normally done in self::processForm(), but what needs to be\n",414],["T_WHITESPACE","    ",415],["T_COMMENT","\/\/ cached is the $form structure before it passes through\n",415],["T_WHITESPACE","    ",416],["T_COMMENT","\/\/ self::doBuildForm(), so we need to do it here.\n",416],["T_WHITESPACE","    ",417],["T_COMMENT","\/\/ @todo For Drupal 8, find a way to avoid this code duplication.\n",417],["T_WHITESPACE","    ",418],["T_IF","if",418],["T_WHITESPACE"," ",418],"(",["T_VARIABLE","$form_state",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","isCached",418],"(",")",")",["T_WHITESPACE"," ",418],"{",["T_WHITESPACE","\n      ",418],["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","setCache",419],"(",["T_VARIABLE","$form",419],"[",["T_CONSTANT_ENCAPSED_STRING","'#build_id'",419],"]",",",["T_WHITESPACE"," ",419],["T_VARIABLE","$form",419],",",["T_WHITESPACE"," ",419],["T_VARIABLE","$form_state",419],")",";",["T_WHITESPACE","\n    ",419],"}",["T_WHITESPACE","\n\n    ",420],["T_COMMENT","\/\/ Clear out all group associations as these might be different when\n",422],["T_WHITESPACE","    ",423],["T_COMMENT","\/\/ re-rendering the form.\n",423],["T_WHITESPACE","    ",424],["T_VARIABLE","$form_state",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","setGroups",424],"(","[","]",")",";",["T_WHITESPACE","\n\n    ",424],["T_COMMENT","\/\/ Return a fully built form that is ready for rendering.\n",426],["T_WHITESPACE","    ",427],["T_RETURN","return",427],["T_WHITESPACE"," ",427],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","doBuildForm",427],"(",["T_VARIABLE","$form_id",427],",",["T_WHITESPACE"," ",427],["T_VARIABLE","$form",427],",",["T_WHITESPACE"," ",427],["T_VARIABLE","$form_state",427],")",";",["T_WHITESPACE","\n  ",427],"}",["T_WHITESPACE","\n\n  ",428],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",430],["T_WHITESPACE","\n  ",432],["T_PUBLIC","public",433],["T_WHITESPACE"," ",433],["T_FUNCTION","function",433],["T_WHITESPACE"," ",433],["T_STRING","getCache",433],"(",["T_VARIABLE","$form_build_id",433],",",["T_WHITESPACE"," ",433],["T_STRING","FormStateInterface",433],["T_WHITESPACE"," ",433],["T_VARIABLE","$form_state",433],")",["T_WHITESPACE"," ",433],"{",["T_WHITESPACE","\n    ",433],["T_RETURN","return",434],["T_WHITESPACE"," ",434],["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","formCache",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","getCache",434],"(",["T_VARIABLE","$form_build_id",434],",",["T_WHITESPACE"," ",434],["T_VARIABLE","$form_state",434],")",";",["T_WHITESPACE","\n  ",434],"}",["T_WHITESPACE","\n\n  ",435],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",437],["T_WHITESPACE","\n  ",439],["T_PUBLIC","public",440],["T_WHITESPACE"," ",440],["T_FUNCTION","function",440],["T_WHITESPACE"," ",440],["T_STRING","setCache",440],"(",["T_VARIABLE","$form_build_id",440],",",["T_WHITESPACE"," ",440],["T_VARIABLE","$form",440],",",["T_WHITESPACE"," ",440],["T_STRING","FormStateInterface",440],["T_WHITESPACE"," ",440],["T_VARIABLE","$form_state",440],")",["T_WHITESPACE"," ",440],"{",["T_WHITESPACE","\n    ",440],["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","formCache",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","setCache",441],"(",["T_VARIABLE","$form_build_id",441],",",["T_WHITESPACE"," ",441],["T_VARIABLE","$form",441],",",["T_WHITESPACE"," ",441],["T_VARIABLE","$form_state",441],")",";",["T_WHITESPACE","\n  ",441],"}",["T_WHITESPACE","\n\n  ",442],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",444],["T_WHITESPACE","\n  ",446],["T_PUBLIC","public",447],["T_WHITESPACE"," ",447],["T_FUNCTION","function",447],["T_WHITESPACE"," ",447],["T_STRING","deleteCache",447],"(",["T_VARIABLE","$form_build_id",447],")",["T_WHITESPACE"," ",447],"{",["T_WHITESPACE","\n    ",447],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","formCache",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","deleteCache",448],"(",["T_VARIABLE","$form_build_id",448],")",";",["T_WHITESPACE","\n  ",448],"}",["T_WHITESPACE","\n\n  ",449],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",451],["T_WHITESPACE","\n  ",453],["T_PUBLIC","public",454],["T_WHITESPACE"," ",454],["T_FUNCTION","function",454],["T_WHITESPACE"," ",454],["T_STRING","submitForm",454],"(",["T_VARIABLE","$form_arg",454],",",["T_WHITESPACE"," ",454],["T_STRING","FormStateInterface",454],["T_WHITESPACE"," ",454],"&",["T_VARIABLE","$form_state",454],")",["T_WHITESPACE"," ",454],"{",["T_WHITESPACE","\n    ",454],["T_VARIABLE","$build_info",455],["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_VARIABLE","$form_state",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","getBuildInfo",455],"(",")",";",["T_WHITESPACE","\n    ",455],["T_IF","if",456],["T_WHITESPACE"," ",456],"(",["T_EMPTY","empty",456],"(",["T_VARIABLE","$build_info",456],"[",["T_CONSTANT_ENCAPSED_STRING","'args'",456],"]",")",")",["T_WHITESPACE"," ",456],"{",["T_WHITESPACE","\n      ",456],["T_VARIABLE","$args",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_STRING","func_get_args",457],"(",")",";",["T_WHITESPACE","\n      ",457],["T_COMMENT","\/\/ Remove $form and $form_state from the arguments.\n",458],["T_WHITESPACE","      ",459],["T_UNSET","unset",459],"(",["T_VARIABLE","$args",459],"[",["T_LNUMBER","0",459],"]",",",["T_WHITESPACE"," ",459],["T_VARIABLE","$args",459],"[",["T_LNUMBER","1",459],"]",")",";",["T_WHITESPACE","\n      ",459],["T_VARIABLE","$form_state",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","addBuildInfo",460],"(",["T_CONSTANT_ENCAPSED_STRING","'args'",460],",",["T_WHITESPACE"," ",460],["T_STRING","array_values",460],"(",["T_VARIABLE","$args",460],")",")",";",["T_WHITESPACE","\n    ",460],"}",["T_WHITESPACE","\n\n    ",461],["T_COMMENT","\/\/ Populate FormState::$input with the submitted values before retrieving\n",463],["T_WHITESPACE","    ",464],["T_COMMENT","\/\/ the form, to be consistent with what self::buildForm() does for\n",464],["T_WHITESPACE","    ",465],["T_COMMENT","\/\/ non-programmatic submissions (form builder functions may expect it to be\n",465],["T_WHITESPACE","    ",466],["T_COMMENT","\/\/ there).\n",466],["T_WHITESPACE","    ",467],["T_VARIABLE","$form_state",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","setUserInput",467],"(",["T_VARIABLE","$form_state",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","getValues",467],"(",")",")",";",["T_WHITESPACE","\n\n    ",467],["T_VARIABLE","$form_state",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","setProgrammed",469],"(",")",";",["T_WHITESPACE","\n\n    ",469],["T_VARIABLE","$form_id",471],["T_WHITESPACE"," ",471],"=",["T_WHITESPACE"," ",471],["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","getFormId",471],"(",["T_VARIABLE","$form_arg",471],",",["T_WHITESPACE"," ",471],["T_VARIABLE","$form_state",471],")",";",["T_WHITESPACE","\n    ",471],["T_VARIABLE","$form",472],["T_WHITESPACE"," ",472],"=",["T_WHITESPACE"," ",472],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","retrieveForm",472],"(",["T_VARIABLE","$form_id",472],",",["T_WHITESPACE"," ",472],["T_VARIABLE","$form_state",472],")",";",["T_WHITESPACE","\n    ",472],["T_COMMENT","\/\/ Programmed forms are always submitted.\n",473],["T_WHITESPACE","    ",474],["T_VARIABLE","$form_state",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","setSubmitted",474],"(",")",";",["T_WHITESPACE","\n\n    ",474],["T_COMMENT","\/\/ Reset form validation.\n",476],["T_WHITESPACE","    ",477],["T_VARIABLE","$form_state",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","setValidationEnforced",477],"(",")",";",["T_WHITESPACE","\n    ",477],["T_VARIABLE","$form_state",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","clearErrors",478],"(",")",";",["T_WHITESPACE","\n\n    ",478],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","prepareForm",480],"(",["T_VARIABLE","$form_id",480],",",["T_WHITESPACE"," ",480],["T_VARIABLE","$form",480],",",["T_WHITESPACE"," ",480],["T_VARIABLE","$form_state",480],")",";",["T_WHITESPACE","\n    ",480],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","processForm",481],"(",["T_VARIABLE","$form_id",481],",",["T_WHITESPACE"," ",481],["T_VARIABLE","$form",481],",",["T_WHITESPACE"," ",481],["T_VARIABLE","$form_state",481],")",";",["T_WHITESPACE","\n  ",481],"}",["T_WHITESPACE","\n\n  ",482],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",484],["T_WHITESPACE","\n  ",486],["T_PUBLIC","public",487],["T_WHITESPACE"," ",487],["T_FUNCTION","function",487],["T_WHITESPACE"," ",487],["T_STRING","retrieveForm",487],"(",["T_VARIABLE","$form_id",487],",",["T_WHITESPACE"," ",487],["T_STRING","FormStateInterface",487],["T_WHITESPACE"," ",487],"&",["T_VARIABLE","$form_state",487],")",["T_WHITESPACE"," ",487],"{",["T_WHITESPACE","\n    ",487],["T_COMMENT","\/\/ Record the $form_id.\n",488],["T_WHITESPACE","    ",489],["T_VARIABLE","$form_state",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","addBuildInfo",489],"(",["T_CONSTANT_ENCAPSED_STRING","'form_id'",489],",",["T_WHITESPACE"," ",489],["T_VARIABLE","$form_id",489],")",";",["T_WHITESPACE","\n\n    ",489],["T_COMMENT","\/\/ We save two copies of the incoming arguments: one for modules to use\n",491],["T_WHITESPACE","    ",492],["T_COMMENT","\/\/ when mapping form ids to constructor functions, and another to pass to\n",492],["T_WHITESPACE","    ",493],["T_COMMENT","\/\/ the constructor function itself.\n",493],["T_WHITESPACE","    ",494],["T_VARIABLE","$build_info",494],["T_WHITESPACE"," ",494],"=",["T_WHITESPACE"," ",494],["T_VARIABLE","$form_state",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","getBuildInfo",494],"(",")",";",["T_WHITESPACE","\n    ",494],["T_VARIABLE","$args",495],["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],["T_VARIABLE","$build_info",495],"[",["T_CONSTANT_ENCAPSED_STRING","'args'",495],"]",";",["T_WHITESPACE","\n\n    ",495],["T_VARIABLE","$callback",497],["T_WHITESPACE"," ",497],"=",["T_WHITESPACE"," ",497],"[",["T_VARIABLE","$form_state",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","getFormObject",497],"(",")",",",["T_WHITESPACE"," ",497],["T_CONSTANT_ENCAPSED_STRING","'buildForm'",497],"]",";",["T_WHITESPACE","\n\n    ",497],["T_VARIABLE","$form",499],["T_WHITESPACE"," ",499],"=",["T_WHITESPACE"," ",499],["T_ARRAY","array",499],"(",")",";",["T_WHITESPACE","\n    ",499],["T_COMMENT","\/\/ Assign a default CSS class name based on $form_id.\n",500],["T_WHITESPACE","    ",501],["T_COMMENT","\/\/ This happens here and not in self::prepareForm() in order to allow the\n",501],["T_WHITESPACE","    ",502],["T_COMMENT","\/\/ form constructor function to override or remove the default class.\n",502],["T_WHITESPACE","    ",503],["T_VARIABLE","$form",503],"[",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",503],"]","[",["T_CONSTANT_ENCAPSED_STRING","'class'",503],"]","[","]",["T_WHITESPACE"," ",503],"=",["T_WHITESPACE"," ",503],["T_STRING","Html",503],["T_DOUBLE_COLON","::",503],["T_STRING","getClass",503],"(",["T_VARIABLE","$form_id",503],")",";",["T_WHITESPACE","\n    ",503],["T_COMMENT","\/\/ Same for the base form ID, if any.\n",504],["T_WHITESPACE","    ",505],["T_IF","if",505],["T_WHITESPACE"," ",505],"(",["T_ISSET","isset",505],"(",["T_VARIABLE","$build_info",505],"[",["T_CONSTANT_ENCAPSED_STRING","'base_form_id'",505],"]",")",")",["T_WHITESPACE"," ",505],"{",["T_WHITESPACE","\n      ",505],["T_VARIABLE","$form",506],"[",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",506],"]","[",["T_CONSTANT_ENCAPSED_STRING","'class'",506],"]","[","]",["T_WHITESPACE"," ",506],"=",["T_WHITESPACE"," ",506],["T_STRING","Html",506],["T_DOUBLE_COLON","::",506],["T_STRING","getClass",506],"(",["T_VARIABLE","$build_info",506],"[",["T_CONSTANT_ENCAPSED_STRING","'base_form_id'",506],"]",")",";",["T_WHITESPACE","\n    ",506],"}",["T_WHITESPACE","\n\n    ",507],["T_COMMENT","\/\/ We need to pass $form_state by reference in order for forms to modify it,\n",509],["T_WHITESPACE","    ",510],["T_COMMENT","\/\/ since call_user_func_array() requires that referenced variables are\n",510],["T_WHITESPACE","    ",511],["T_COMMENT","\/\/ passed explicitly.\n",511],["T_WHITESPACE","    ",512],["T_VARIABLE","$args",512],["T_WHITESPACE"," ",512],"=",["T_WHITESPACE"," ",512],["T_STRING","array_merge",512],"(",["T_ARRAY","array",512],"(",["T_VARIABLE","$form",512],",",["T_WHITESPACE"," ",512],"&",["T_VARIABLE","$form_state",512],")",",",["T_WHITESPACE"," ",512],["T_VARIABLE","$args",512],")",";",["T_WHITESPACE","\n\n    ",512],["T_VARIABLE","$form",514],["T_WHITESPACE"," ",514],"=",["T_WHITESPACE"," ",514],["T_STRING","call_user_func_array",514],"(",["T_VARIABLE","$callback",514],",",["T_WHITESPACE"," ",514],["T_VARIABLE","$args",514],")",";",["T_WHITESPACE","\n    ",514],["T_COMMENT","\/\/ If the form returns a response, skip subsequent page construction by\n",515],["T_WHITESPACE","    ",516],["T_COMMENT","\/\/ throwing an exception.\n",516],["T_WHITESPACE","    ",517],["T_COMMENT","\/\/ @see Drupal\\Core\\EventSubscriber\\EnforcedFormResponseSubscriber\n",517],["T_WHITESPACE","    ",518],["T_COMMENT","\/\/\n",518],["T_WHITESPACE","    ",519],["T_COMMENT","\/\/ @todo Exceptions should not be used for code flow control. However, the\n",519],["T_WHITESPACE","    ",520],["T_COMMENT","\/\/   Form API currently allows any form builder functions to return a\n",520],["T_WHITESPACE","    ",521],["T_COMMENT","\/\/   response.\n",521],["T_WHITESPACE","    ",522],["T_COMMENT","\/\/   @see https:\/\/www.drupal.org\/node\/2363189\n",522],["T_WHITESPACE","    ",523],["T_IF","if",523],["T_WHITESPACE"," ",523],"(",["T_VARIABLE","$form",523],["T_WHITESPACE"," ",523],["T_INSTANCEOF","instanceof",523],["T_WHITESPACE"," ",523],["T_STRING","Response",523],")",["T_WHITESPACE"," ",523],"{",["T_WHITESPACE","\n      ",523],["T_THROW","throw",524],["T_WHITESPACE"," ",524],["T_NEW","new",524],["T_WHITESPACE"," ",524],["T_STRING","EnforcedResponseException",524],"(",["T_VARIABLE","$form",524],")",";",["T_WHITESPACE","\n    ",524],"}",["T_WHITESPACE","\n    ",525],["T_VARIABLE","$form",526],"[",["T_CONSTANT_ENCAPSED_STRING","'#form_id'",526],"]",["T_WHITESPACE"," ",526],"=",["T_WHITESPACE"," ",526],["T_VARIABLE","$form_id",526],";",["T_WHITESPACE","\n\n    ",526],["T_RETURN","return",528],["T_WHITESPACE"," ",528],["T_VARIABLE","$form",528],";",["T_WHITESPACE","\n  ",528],"}",["T_WHITESPACE","\n\n  ",529],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",531],["T_WHITESPACE","\n  ",533],["T_PUBLIC","public",534],["T_WHITESPACE"," ",534],["T_FUNCTION","function",534],["T_WHITESPACE"," ",534],["T_STRING","processForm",534],"(",["T_VARIABLE","$form_id",534],",",["T_WHITESPACE"," ",534],"&",["T_VARIABLE","$form",534],",",["T_WHITESPACE"," ",534],["T_STRING","FormStateInterface",534],["T_WHITESPACE"," ",534],"&",["T_VARIABLE","$form_state",534],")",["T_WHITESPACE"," ",534],"{",["T_WHITESPACE","\n    ",534],["T_VARIABLE","$form_state",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","setValues",535],"(","[","]",")",";",["T_WHITESPACE","\n\n    ",535],["T_COMMENT","\/\/ With GET, these forms are always submitted if requested.\n",537],["T_WHITESPACE","    ",538],["T_IF","if",538],["T_WHITESPACE"," ",538],"(",["T_VARIABLE","$form_state",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","isMethodType",538],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",538],")",["T_WHITESPACE"," ",538],["T_BOOLEAN_AND","&&",538],["T_WHITESPACE"," ",538],["T_VARIABLE","$form_state",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","getAlwaysProcess",538],"(",")",")",["T_WHITESPACE"," ",538],"{",["T_WHITESPACE","\n      ",538],["T_VARIABLE","$input",539],["T_WHITESPACE"," ",539],"=",["T_WHITESPACE"," ",539],["T_VARIABLE","$form_state",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","getUserInput",539],"(",")",";",["T_WHITESPACE","\n      ",539],["T_IF","if",540],["T_WHITESPACE"," ",540],"(","!",["T_ISSET","isset",540],"(",["T_VARIABLE","$input",540],"[",["T_CONSTANT_ENCAPSED_STRING","'form_build_id'",540],"]",")",")",["T_WHITESPACE"," ",540],"{",["T_WHITESPACE","\n        ",540],["T_VARIABLE","$input",541],"[",["T_CONSTANT_ENCAPSED_STRING","'form_build_id'",541],"]",["T_WHITESPACE"," ",541],"=",["T_WHITESPACE"," ",541],["T_VARIABLE","$form",541],"[",["T_CONSTANT_ENCAPSED_STRING","'#build_id'",541],"]",";",["T_WHITESPACE","\n      ",541],"}",["T_WHITESPACE","\n      ",542],["T_IF","if",543],["T_WHITESPACE"," ",543],"(","!",["T_ISSET","isset",543],"(",["T_VARIABLE","$input",543],"[",["T_CONSTANT_ENCAPSED_STRING","'form_id'",543],"]",")",")",["T_WHITESPACE"," ",543],"{",["T_WHITESPACE","\n        ",543],["T_VARIABLE","$input",544],"[",["T_CONSTANT_ENCAPSED_STRING","'form_id'",544],"]",["T_WHITESPACE"," ",544],"=",["T_WHITESPACE"," ",544],["T_VARIABLE","$form_id",544],";",["T_WHITESPACE","\n      ",544],"}",["T_WHITESPACE","\n      ",545],["T_IF","if",546],["T_WHITESPACE"," ",546],"(","!",["T_ISSET","isset",546],"(",["T_VARIABLE","$input",546],"[",["T_CONSTANT_ENCAPSED_STRING","'form_token'",546],"]",")",["T_WHITESPACE"," ",546],["T_BOOLEAN_AND","&&",546],["T_WHITESPACE"," ",546],["T_ISSET","isset",546],"(",["T_VARIABLE","$form",546],"[",["T_CONSTANT_ENCAPSED_STRING","'#token'",546],"]",")",")",["T_WHITESPACE"," ",546],"{",["T_WHITESPACE","\n        ",546],["T_VARIABLE","$input",547],"[",["T_CONSTANT_ENCAPSED_STRING","'form_token'",547],"]",["T_WHITESPACE"," ",547],"=",["T_WHITESPACE"," ",547],["T_VARIABLE","$this",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","csrfToken",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","get",547],"(",["T_VARIABLE","$form",547],"[",["T_CONSTANT_ENCAPSED_STRING","'#token'",547],"]",")",";",["T_WHITESPACE","\n      ",547],"}",["T_WHITESPACE","\n      ",548],["T_VARIABLE","$form_state",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","setUserInput",549],"(",["T_VARIABLE","$input",549],")",";",["T_WHITESPACE","\n    ",549],"}",["T_WHITESPACE","\n\n    ",550],["T_COMMENT","\/\/ self::doBuildForm() finishes building the form by calling element\n",552],["T_WHITESPACE","    ",553],["T_COMMENT","\/\/ #process functions and mapping user input, if any, to #value properties,\n",553],["T_WHITESPACE","    ",554],["T_COMMENT","\/\/ and also storing the values in $form_state->getValues(). We need to\n",554],["T_WHITESPACE","    ",555],["T_COMMENT","\/\/ retain the unprocessed $form in case it needs to be cached.\n",555],["T_WHITESPACE","    ",556],["T_VARIABLE","$unprocessed_form",556],["T_WHITESPACE"," ",556],"=",["T_WHITESPACE"," ",556],["T_VARIABLE","$form",556],";",["T_WHITESPACE","\n    ",556],["T_VARIABLE","$form",557],["T_WHITESPACE"," ",557],"=",["T_WHITESPACE"," ",557],["T_VARIABLE","$this",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","doBuildForm",557],"(",["T_VARIABLE","$form_id",557],",",["T_WHITESPACE"," ",557],["T_VARIABLE","$form",557],",",["T_WHITESPACE"," ",557],["T_VARIABLE","$form_state",557],")",";",["T_WHITESPACE","\n\n    ",557],["T_COMMENT","\/\/ Only process the input if we have a correct form submission.\n",559],["T_WHITESPACE","    ",560],["T_IF","if",560],["T_WHITESPACE"," ",560],"(",["T_VARIABLE","$form_state",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","isProcessingInput",560],"(",")",")",["T_WHITESPACE"," ",560],"{",["T_WHITESPACE","\n      ",560],["T_COMMENT","\/\/ Form values for programmed form submissions typically do not include a\n",561],["T_WHITESPACE","      ",562],["T_COMMENT","\/\/ value for the submit button. But without a triggering element, a\n",562],["T_WHITESPACE","      ",563],["T_COMMENT","\/\/ potentially existing #limit_validation_errors property on the primary\n",563],["T_WHITESPACE","      ",564],["T_COMMENT","\/\/ submit button is not taken account. Therefore, check whether there is\n",564],["T_WHITESPACE","      ",565],["T_COMMENT","\/\/ exactly one submit button in the form, and if so, automatically use it\n",565],["T_WHITESPACE","      ",566],["T_COMMENT","\/\/ as triggering_element.\n",566],["T_WHITESPACE","      ",567],["T_VARIABLE","$buttons",567],["T_WHITESPACE"," ",567],"=",["T_WHITESPACE"," ",567],["T_VARIABLE","$form_state",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","getButtons",567],"(",")",";",["T_WHITESPACE","\n      ",567],["T_IF","if",568],["T_WHITESPACE"," ",568],"(",["T_VARIABLE","$form_state",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","isProgrammed",568],"(",")",["T_WHITESPACE"," ",568],["T_BOOLEAN_AND","&&",568],["T_WHITESPACE"," ",568],"!",["T_VARIABLE","$form_state",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","getTriggeringElement",568],"(",")",["T_WHITESPACE"," ",568],["T_BOOLEAN_AND","&&",568],["T_WHITESPACE"," ",568],["T_STRING","count",568],"(",["T_VARIABLE","$buttons",568],")",["T_WHITESPACE"," ",568],["T_IS_EQUAL","==",568],["T_WHITESPACE"," ",568],["T_LNUMBER","1",568],")",["T_WHITESPACE"," ",568],"{",["T_WHITESPACE","\n        ",568],["T_VARIABLE","$form_state",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","setTriggeringElement",569],"(",["T_STRING","reset",569],"(",["T_VARIABLE","$buttons",569],")",")",";",["T_WHITESPACE","\n      ",569],"}",["T_WHITESPACE","\n      ",570],["T_VARIABLE","$this",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","formValidator",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","validateForm",571],"(",["T_VARIABLE","$form_id",571],",",["T_WHITESPACE"," ",571],["T_VARIABLE","$form",571],",",["T_WHITESPACE"," ",571],["T_VARIABLE","$form_state",571],")",";",["T_WHITESPACE","\n\n      ",571],["T_COMMENT","\/\/ \\Drupal\\Component\\Utility\\Html::getUniqueId() maintains a cache of\n",573],["T_WHITESPACE","      ",574],["T_COMMENT","\/\/ element IDs it has seen, so it can prevent duplicates. We want to be\n",574],["T_WHITESPACE","      ",575],["T_COMMENT","\/\/ sure we reset that cache when a form is processed, so scenarios that\n",575],["T_WHITESPACE","      ",576],["T_COMMENT","\/\/ result in the form being built behind the scenes and again for the\n",576],["T_WHITESPACE","      ",577],["T_COMMENT","\/\/ browser don't increment all the element IDs needlessly.\n",577],["T_WHITESPACE","      ",578],["T_IF","if",578],["T_WHITESPACE"," ",578],"(","!",["T_STRING","FormState",578],["T_DOUBLE_COLON","::",578],["T_STRING","hasAnyErrors",578],"(",")",")",["T_WHITESPACE"," ",578],"{",["T_WHITESPACE","\n        ",578],["T_COMMENT","\/\/ In case of errors, do not break HTML IDs of other forms.\n",579],["T_WHITESPACE","        ",580],["T_STRING","Html",580],["T_DOUBLE_COLON","::",580],["T_STRING","resetSeenIds",580],"(",")",";",["T_WHITESPACE","\n      ",580],"}",["T_WHITESPACE","\n\n      ",581],["T_COMMENT","\/\/ If there are no errors and the form is not rebuilding, submit the form.\n",583],["T_WHITESPACE","      ",584],["T_IF","if",584],["T_WHITESPACE"," ",584],"(","!",["T_VARIABLE","$form_state",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","isRebuilding",584],"(",")",["T_WHITESPACE"," ",584],["T_BOOLEAN_AND","&&",584],["T_WHITESPACE"," ",584],"!",["T_STRING","FormState",584],["T_DOUBLE_COLON","::",584],["T_STRING","hasAnyErrors",584],"(",")",")",["T_WHITESPACE"," ",584],"{",["T_WHITESPACE","\n        ",584],["T_VARIABLE","$submit_response",585],["T_WHITESPACE"," ",585],"=",["T_WHITESPACE"," ",585],["T_VARIABLE","$this",585],["T_OBJECT_OPERATOR","->",585],["T_STRING","formSubmitter",585],["T_OBJECT_OPERATOR","->",585],["T_STRING","doSubmitForm",585],"(",["T_VARIABLE","$form",585],",",["T_WHITESPACE"," ",585],["T_VARIABLE","$form_state",585],")",";",["T_WHITESPACE","\n        ",585],["T_COMMENT","\/\/ If this form was cached, delete it from the cache after submission.\n",586],["T_WHITESPACE","        ",587],["T_IF","if",587],["T_WHITESPACE"," ",587],"(",["T_VARIABLE","$form_state",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","isCached",587],"(",")",")",["T_WHITESPACE"," ",587],"{",["T_WHITESPACE","\n          ",587],["T_VARIABLE","$this",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","deleteCache",588],"(",["T_VARIABLE","$form",588],"[",["T_CONSTANT_ENCAPSED_STRING","'#build_id'",588],"]",")",";",["T_WHITESPACE","\n        ",588],"}",["T_WHITESPACE","\n        ",589],["T_COMMENT","\/\/ If the form submission directly returned a response, return it now.\n",590],["T_WHITESPACE","        ",591],["T_IF","if",591],["T_WHITESPACE"," ",591],"(",["T_VARIABLE","$submit_response",591],")",["T_WHITESPACE"," ",591],"{",["T_WHITESPACE","\n          ",591],["T_RETURN","return",592],["T_WHITESPACE"," ",592],["T_VARIABLE","$submit_response",592],";",["T_WHITESPACE","\n        ",592],"}",["T_WHITESPACE","\n      ",593],"}",["T_WHITESPACE","\n\n      ",594],["T_COMMENT","\/\/ Don't rebuild or cache form submissions invoked via self::submitForm().\n",596],["T_WHITESPACE","      ",597],["T_IF","if",597],["T_WHITESPACE"," ",597],"(",["T_VARIABLE","$form_state",597],["T_OBJECT_OPERATOR","->",597],["T_STRING","isProgrammed",597],"(",")",")",["T_WHITESPACE"," ",597],"{",["T_WHITESPACE","\n        ",597],["T_RETURN","return",598],";",["T_WHITESPACE","\n      ",598],"}",["T_WHITESPACE","\n\n      ",599],["T_COMMENT","\/\/ If $form_state->isRebuilding() has been set and input has been\n",601],["T_WHITESPACE","      ",602],["T_COMMENT","\/\/ processed without validation errors, we are in a multi-step workflow\n",602],["T_WHITESPACE","      ",603],["T_COMMENT","\/\/ that is not yet complete. A new $form needs to be constructed based on\n",603],["T_WHITESPACE","      ",604],["T_COMMENT","\/\/ the changes made to $form_state during this request. Normally, a submit\n",604],["T_WHITESPACE","      ",605],["T_COMMENT","\/\/ handler sets $form_state->isRebuilding() if a fully executed form\n",605],["T_WHITESPACE","      ",606],["T_COMMENT","\/\/ requires another step. However, for forms that have not been fully\n",606],["T_WHITESPACE","      ",607],["T_COMMENT","\/\/ executed (e.g., Ajax submissions triggered by non-buttons), there is no\n",607],["T_WHITESPACE","      ",608],["T_COMMENT","\/\/ submit handler to set $form_state->isRebuilding(). It would not make\n",608],["T_WHITESPACE","      ",609],["T_COMMENT","\/\/ sense to redisplay the identical form without an error for the user to\n",609],["T_WHITESPACE","      ",610],["T_COMMENT","\/\/ correct, so we also rebuild error-free non-executed forms, regardless\n",610],["T_WHITESPACE","      ",611],["T_COMMENT","\/\/ of $form_state->isRebuilding().\n",611],["T_WHITESPACE","      ",612],["T_COMMENT","\/\/ @todo Simplify this logic; considering Ajax and non-HTML front-ends,\n",612],["T_WHITESPACE","      ",613],["T_COMMENT","\/\/   along with element-level #submit properties, it makes no sense to\n",613],["T_WHITESPACE","      ",614],["T_COMMENT","\/\/   have divergent form execution based on whether the triggering element\n",614],["T_WHITESPACE","      ",615],["T_COMMENT","\/\/   has #executes_submit_callback set to TRUE.\n",615],["T_WHITESPACE","      ",616],["T_IF","if",616],["T_WHITESPACE"," ",616],"(","(",["T_VARIABLE","$form_state",616],["T_OBJECT_OPERATOR","->",616],["T_STRING","isRebuilding",616],"(",")",["T_WHITESPACE"," ",616],["T_BOOLEAN_OR","||",616],["T_WHITESPACE"," ",616],"!",["T_VARIABLE","$form_state",616],["T_OBJECT_OPERATOR","->",616],["T_STRING","isExecuted",616],"(",")",")",["T_WHITESPACE"," ",616],["T_BOOLEAN_AND","&&",616],["T_WHITESPACE"," ",616],"!",["T_STRING","FormState",616],["T_DOUBLE_COLON","::",616],["T_STRING","hasAnyErrors",616],"(",")",")",["T_WHITESPACE"," ",616],"{",["T_WHITESPACE","\n        ",616],["T_COMMENT","\/\/ Form building functions (e.g., self::handleInputElement()) may use\n",617],["T_WHITESPACE","        ",618],["T_COMMENT","\/\/ $form_state->isRebuilding() to determine if they are running in the\n",618],["T_WHITESPACE","        ",619],["T_COMMENT","\/\/ context of a rebuild, so ensure it is set.\n",619],["T_WHITESPACE","        ",620],["T_VARIABLE","$form_state",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","setRebuild",620],"(",")",";",["T_WHITESPACE","\n        ",620],["T_VARIABLE","$form",621],["T_WHITESPACE"," ",621],"=",["T_WHITESPACE"," ",621],["T_VARIABLE","$this",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","rebuildForm",621],"(",["T_VARIABLE","$form_id",621],",",["T_WHITESPACE"," ",621],["T_VARIABLE","$form_state",621],",",["T_WHITESPACE"," ",621],["T_VARIABLE","$form",621],")",";",["T_WHITESPACE","\n      ",621],"}",["T_WHITESPACE","\n    ",622],"}",["T_WHITESPACE","\n\n    ",623],["T_COMMENT","\/\/ After processing the form, the form builder or a #process callback may\n",625],["T_WHITESPACE","    ",626],["T_COMMENT","\/\/ have called $form_state->setCached() to indicate that the form and form\n",626],["T_WHITESPACE","    ",627],["T_COMMENT","\/\/ state shall be cached. But the form may only be cached if\n",627],["T_WHITESPACE","    ",628],["T_COMMENT","\/\/ $form_state->disableCache() is not called. Only cache $form as it was\n",628],["T_WHITESPACE","    ",629],["T_COMMENT","\/\/ prior to self::doBuildForm(), because self::doBuildForm() must run for\n",629],["T_WHITESPACE","    ",630],["T_COMMENT","\/\/ each request to accommodate new user input. Rebuilt forms are not cached\n",630],["T_WHITESPACE","    ",631],["T_COMMENT","\/\/ here, because self::rebuildForm() already takes care of that.\n",631],["T_WHITESPACE","    ",632],["T_IF","if",632],["T_WHITESPACE"," ",632],"(","!",["T_VARIABLE","$form_state",632],["T_OBJECT_OPERATOR","->",632],["T_STRING","isRebuilding",632],"(",")",["T_WHITESPACE"," ",632],["T_BOOLEAN_AND","&&",632],["T_WHITESPACE"," ",632],["T_VARIABLE","$form_state",632],["T_OBJECT_OPERATOR","->",632],["T_STRING","isCached",632],"(",")",")",["T_WHITESPACE"," ",632],"{",["T_WHITESPACE","\n      ",632],["T_VARIABLE","$this",633],["T_OBJECT_OPERATOR","->",633],["T_STRING","setCache",633],"(",["T_VARIABLE","$form",633],"[",["T_CONSTANT_ENCAPSED_STRING","'#build_id'",633],"]",",",["T_WHITESPACE"," ",633],["T_VARIABLE","$unprocessed_form",633],",",["T_WHITESPACE"," ",633],["T_VARIABLE","$form_state",633],")",";",["T_WHITESPACE","\n    ",633],"}",["T_WHITESPACE","\n  ",634],"}",["T_WHITESPACE","\n\n  ",635],["T_DOC_COMMENT","\/**\n   * #lazy_builder callback; renders a form action URL.\n   *\n   * @return array\n   *   A renderable array representing the form action.\n   *\/",637],["T_WHITESPACE","\n  ",642],["T_PUBLIC","public",643],["T_WHITESPACE"," ",643],["T_FUNCTION","function",643],["T_WHITESPACE"," ",643],["T_STRING","renderPlaceholderFormAction",643],"(",")",["T_WHITESPACE"," ",643],"{",["T_WHITESPACE","\n    ",643],["T_RETURN","return",644],["T_WHITESPACE"," ",644],"[",["T_WHITESPACE","\n      ",644],["T_CONSTANT_ENCAPSED_STRING","'#type'",645],["T_WHITESPACE"," ",645],["T_DOUBLE_ARROW","=>",645],["T_WHITESPACE"," ",645],["T_CONSTANT_ENCAPSED_STRING","'markup'",645],",",["T_WHITESPACE","\n      ",645],["T_CONSTANT_ENCAPSED_STRING","'#markup'",646],["T_WHITESPACE"," ",646],["T_DOUBLE_ARROW","=>",646],["T_WHITESPACE"," ",646],["T_VARIABLE","$this",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","buildFormAction",646],"(",")",",",["T_WHITESPACE","\n      ",646],["T_CONSTANT_ENCAPSED_STRING","'#cache'",647],["T_WHITESPACE"," ",647],["T_DOUBLE_ARROW","=>",647],["T_WHITESPACE"," ",647],"[",["T_CONSTANT_ENCAPSED_STRING","'contexts'",647],["T_WHITESPACE"," ",647],["T_DOUBLE_ARROW","=>",647],["T_WHITESPACE"," ",647],"[",["T_CONSTANT_ENCAPSED_STRING","'url.path'",647],",",["T_WHITESPACE"," ",647],["T_CONSTANT_ENCAPSED_STRING","'url.query_args'",647],"]","]",",",["T_WHITESPACE","\n    ",647],"]",";",["T_WHITESPACE","\n  ",648],"}",["T_WHITESPACE","\n\n  ",649],["T_DOC_COMMENT","\/**\n   * #lazy_builder callback; renders form CSRF token.\n   *\n   * @param string $placeholder\n   *   A string containing a placeholder, matching the value of the form's\n   *   #token.\n   *\n   * @return array\n   *   A renderable array containing the CSRF token.\n   *\/",651],["T_WHITESPACE","\n  ",660],["T_PUBLIC","public",661],["T_WHITESPACE"," ",661],["T_FUNCTION","function",661],["T_WHITESPACE"," ",661],["T_STRING","renderFormTokenPlaceholder",661],"(",["T_VARIABLE","$placeholder",661],")",["T_WHITESPACE"," ",661],"{",["T_WHITESPACE","\n    ",661],["T_RETURN","return",662],["T_WHITESPACE"," ",662],"[",["T_WHITESPACE","\n      ",662],["T_CONSTANT_ENCAPSED_STRING","'#markup'",663],["T_WHITESPACE"," ",663],["T_DOUBLE_ARROW","=>",663],["T_WHITESPACE"," ",663],["T_VARIABLE","$this",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","csrfToken",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","get",663],"(",["T_VARIABLE","$placeholder",663],")",",",["T_WHITESPACE","\n      ",663],["T_CONSTANT_ENCAPSED_STRING","'#cache'",664],["T_WHITESPACE"," ",664],["T_DOUBLE_ARROW","=>",664],["T_WHITESPACE"," ",664],"[",["T_WHITESPACE","\n        ",664],["T_CONSTANT_ENCAPSED_STRING","'contexts'",665],["T_WHITESPACE"," ",665],["T_DOUBLE_ARROW","=>",665],["T_WHITESPACE"," ",665],"[",["T_WHITESPACE","\n          ",665],["T_CONSTANT_ENCAPSED_STRING","'session'",666],",",["T_WHITESPACE","\n        ",666],"]",",",["T_WHITESPACE","\n      ",667],"]",",",["T_WHITESPACE","\n    ",668],"]",";",["T_WHITESPACE","\n  ",669],"}",["T_WHITESPACE","\n\n  ",670],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",672],["T_WHITESPACE","\n  ",674],["T_PUBLIC","public",675],["T_WHITESPACE"," ",675],["T_FUNCTION","function",675],["T_WHITESPACE"," ",675],["T_STRING","prepareForm",675],"(",["T_VARIABLE","$form_id",675],",",["T_WHITESPACE"," ",675],"&",["T_VARIABLE","$form",675],",",["T_WHITESPACE"," ",675],["T_STRING","FormStateInterface",675],["T_WHITESPACE"," ",675],"&",["T_VARIABLE","$form_state",675],")",["T_WHITESPACE"," ",675],"{",["T_WHITESPACE","\n    ",675],["T_VARIABLE","$user",676],["T_WHITESPACE"," ",676],"=",["T_WHITESPACE"," ",676],["T_VARIABLE","$this",676],["T_OBJECT_OPERATOR","->",676],["T_STRING","currentUser",676],"(",")",";",["T_WHITESPACE","\n\n    ",676],["T_VARIABLE","$form",678],"[",["T_CONSTANT_ENCAPSED_STRING","'#type'",678],"]",["T_WHITESPACE"," ",678],"=",["T_WHITESPACE"," ",678],["T_CONSTANT_ENCAPSED_STRING","'form'",678],";",["T_WHITESPACE","\n\n    ",678],["T_COMMENT","\/\/ Only update the action if it is not already set.\n",680],["T_WHITESPACE","    ",681],["T_IF","if",681],["T_WHITESPACE"," ",681],"(","!",["T_ISSET","isset",681],"(",["T_VARIABLE","$form",681],"[",["T_CONSTANT_ENCAPSED_STRING","'#action'",681],"]",")",")",["T_WHITESPACE"," ",681],"{",["T_WHITESPACE","\n      ",681],["T_COMMENT","\/\/ Instead of setting an actual action URL, we set the placeholder, which\n",682],["T_WHITESPACE","      ",683],["T_COMMENT","\/\/ will be replaced at the very last moment. This ensures forms with\n",683],["T_WHITESPACE","      ",684],["T_COMMENT","\/\/ dynamically generated action URLs don't have poor cacheability.\n",684],["T_WHITESPACE","      ",685],["T_COMMENT","\/\/ Use the proper API to generate the placeholder, when we have one. See\n",685],["T_WHITESPACE","      ",686],["T_COMMENT","\/\/ https:\/\/www.drupal.org\/node\/2562341.\n",686],["T_WHITESPACE","      ",687],["T_VARIABLE","$placeholder",687],["T_WHITESPACE"," ",687],"=",["T_WHITESPACE"," ",687],["T_CONSTANT_ENCAPSED_STRING","'form_action_'",687],["T_WHITESPACE"," ",687],".",["T_WHITESPACE"," ",687],["T_STRING","hash",687],"(",["T_CONSTANT_ENCAPSED_STRING","'crc32b'",687],",",["T_WHITESPACE"," ",687],["T_METHOD_C","__METHOD__",687],")",";",["T_WHITESPACE","\n\n      ",687],["T_VARIABLE","$form",689],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",689],"]","[",["T_CONSTANT_ENCAPSED_STRING","'placeholders'",689],"]","[",["T_VARIABLE","$placeholder",689],"]",["T_WHITESPACE"," ",689],"=",["T_WHITESPACE"," ",689],"[",["T_WHITESPACE","\n        ",689],["T_CONSTANT_ENCAPSED_STRING","'#lazy_builder'",690],["T_WHITESPACE"," ",690],["T_DOUBLE_ARROW","=>",690],["T_WHITESPACE"," ",690],"[",["T_CONSTANT_ENCAPSED_STRING","'form_builder:renderPlaceholderFormAction'",690],",",["T_WHITESPACE"," ",690],"[","]","]",",",["T_WHITESPACE","\n      ",690],"]",";",["T_WHITESPACE","\n      ",691],["T_VARIABLE","$form",692],"[",["T_CONSTANT_ENCAPSED_STRING","'#action'",692],"]",["T_WHITESPACE"," ",692],"=",["T_WHITESPACE"," ",692],["T_VARIABLE","$placeholder",692],";",["T_WHITESPACE","\n    ",692],"}",["T_WHITESPACE","\n\n    ",693],["T_COMMENT","\/\/ Fix the form method, if it is 'get' in $form_state, but not in $form.\n",695],["T_WHITESPACE","    ",696],["T_IF","if",696],["T_WHITESPACE"," ",696],"(",["T_VARIABLE","$form_state",696],["T_OBJECT_OPERATOR","->",696],["T_STRING","isMethodType",696],"(",["T_CONSTANT_ENCAPSED_STRING","'get'",696],")",["T_WHITESPACE"," ",696],["T_BOOLEAN_AND","&&",696],["T_WHITESPACE"," ",696],"!",["T_ISSET","isset",696],"(",["T_VARIABLE","$form",696],"[",["T_CONSTANT_ENCAPSED_STRING","'#method'",696],"]",")",")",["T_WHITESPACE"," ",696],"{",["T_WHITESPACE","\n      ",696],["T_VARIABLE","$form",697],"[",["T_CONSTANT_ENCAPSED_STRING","'#method'",697],"]",["T_WHITESPACE"," ",697],"=",["T_WHITESPACE"," ",697],["T_CONSTANT_ENCAPSED_STRING","'get'",697],";",["T_WHITESPACE","\n    ",697],"}",["T_WHITESPACE","\n\n    ",698],["T_COMMENT","\/\/ GET forms should not use a CSRF token.\n",700],["T_WHITESPACE","    ",701],["T_IF","if",701],["T_WHITESPACE"," ",701],"(",["T_ISSET","isset",701],"(",["T_VARIABLE","$form",701],"[",["T_CONSTANT_ENCAPSED_STRING","'#method'",701],"]",")",["T_WHITESPACE"," ",701],["T_BOOLEAN_AND","&&",701],["T_WHITESPACE"," ",701],["T_VARIABLE","$form",701],"[",["T_CONSTANT_ENCAPSED_STRING","'#method'",701],"]",["T_WHITESPACE"," ",701],["T_IS_IDENTICAL","===",701],["T_WHITESPACE"," ",701],["T_CONSTANT_ENCAPSED_STRING","'get'",701],")",["T_WHITESPACE"," ",701],"{",["T_WHITESPACE","\n      ",701],["T_COMMENT","\/\/ Merges in a default, this means if you've explicitly set #token to the\n",702],["T_WHITESPACE","      ",703],["T_COMMENT","\/\/ the $form_id on a GET form, which we don't recommend, it will work.\n",703],["T_WHITESPACE","      ",704],["T_VARIABLE","$form",704],["T_WHITESPACE"," ",704],["T_PLUS_EQUAL","+=",704],["T_WHITESPACE"," ",704],"[",["T_WHITESPACE","\n        ",704],["T_CONSTANT_ENCAPSED_STRING","'#token'",705],["T_WHITESPACE"," ",705],["T_DOUBLE_ARROW","=>",705],["T_WHITESPACE"," ",705],["T_STRING","FALSE",705],",",["T_WHITESPACE","\n      ",705],"]",";",["T_WHITESPACE","\n    ",706],"}",["T_WHITESPACE","\n\n    ",707],["T_COMMENT","\/\/ Generate a new #build_id for this form, if none has been set already.\n",709],["T_WHITESPACE","    ",710],["T_COMMENT","\/\/ The form_build_id is used as key to cache a particular build of the form.\n",710],["T_WHITESPACE","    ",711],["T_COMMENT","\/\/ For multi-step forms, this allows the user to go back to an earlier\n",711],["T_WHITESPACE","    ",712],["T_COMMENT","\/\/ build, make changes, and re-submit.\n",712],["T_WHITESPACE","    ",713],["T_COMMENT","\/\/ @see self::buildForm()\n",713],["T_WHITESPACE","    ",714],["T_COMMENT","\/\/ @see self::rebuildForm()\n",714],["T_WHITESPACE","    ",715],["T_IF","if",715],["T_WHITESPACE"," ",715],"(","!",["T_ISSET","isset",715],"(",["T_VARIABLE","$form",715],"[",["T_CONSTANT_ENCAPSED_STRING","'#build_id'",715],"]",")",")",["T_WHITESPACE"," ",715],"{",["T_WHITESPACE","\n      ",715],["T_VARIABLE","$form",716],"[",["T_CONSTANT_ENCAPSED_STRING","'#build_id'",716],"]",["T_WHITESPACE"," ",716],"=",["T_WHITESPACE"," ",716],["T_CONSTANT_ENCAPSED_STRING","'form-'",716],["T_WHITESPACE"," ",716],".",["T_WHITESPACE"," ",716],["T_STRING","Crypt",716],["T_DOUBLE_COLON","::",716],["T_STRING","randomBytesBase64",716],"(",")",";",["T_WHITESPACE","\n    ",716],"}",["T_WHITESPACE","\n    ",717],["T_VARIABLE","$form",718],"[",["T_CONSTANT_ENCAPSED_STRING","'form_build_id'",718],"]",["T_WHITESPACE"," ",718],"=",["T_WHITESPACE"," ",718],["T_ARRAY","array",718],"(",["T_WHITESPACE","\n      ",718],["T_CONSTANT_ENCAPSED_STRING","'#type'",719],["T_WHITESPACE"," ",719],["T_DOUBLE_ARROW","=>",719],["T_WHITESPACE"," ",719],["T_CONSTANT_ENCAPSED_STRING","'hidden'",719],",",["T_WHITESPACE","\n      ",719],["T_CONSTANT_ENCAPSED_STRING","'#value'",720],["T_WHITESPACE"," ",720],["T_DOUBLE_ARROW","=>",720],["T_WHITESPACE"," ",720],["T_VARIABLE","$form",720],"[",["T_CONSTANT_ENCAPSED_STRING","'#build_id'",720],"]",",",["T_WHITESPACE","\n      ",720],["T_CONSTANT_ENCAPSED_STRING","'#id'",721],["T_WHITESPACE"," ",721],["T_DOUBLE_ARROW","=>",721],["T_WHITESPACE"," ",721],["T_VARIABLE","$form",721],"[",["T_CONSTANT_ENCAPSED_STRING","'#build_id'",721],"]",",",["T_WHITESPACE","\n      ",721],["T_CONSTANT_ENCAPSED_STRING","'#name'",722],["T_WHITESPACE"," ",722],["T_DOUBLE_ARROW","=>",722],["T_WHITESPACE"," ",722],["T_CONSTANT_ENCAPSED_STRING","'form_build_id'",722],",",["T_WHITESPACE","\n      ",722],["T_COMMENT","\/\/ Form processing and validation requires this value, so ensure the\n",723],["T_WHITESPACE","      ",724],["T_COMMENT","\/\/ submitted form value appears literally, regardless of custom #tree\n",724],["T_WHITESPACE","      ",725],["T_COMMENT","\/\/ and #parents being set elsewhere.\n",725],["T_WHITESPACE","      ",726],["T_CONSTANT_ENCAPSED_STRING","'#parents'",726],["T_WHITESPACE"," ",726],["T_DOUBLE_ARROW","=>",726],["T_WHITESPACE"," ",726],["T_ARRAY","array",726],"(",["T_CONSTANT_ENCAPSED_STRING","'form_build_id'",726],")",",",["T_WHITESPACE","\n    ",726],")",";",["T_WHITESPACE","\n\n    ",727],["T_COMMENT","\/\/ Add a token, based on either #token or form_id, to any form displayed to\n",729],["T_WHITESPACE","    ",730],["T_COMMENT","\/\/ authenticated users. This ensures that any submitted form was actually\n",730],["T_WHITESPACE","    ",731],["T_COMMENT","\/\/ requested previously by the user and protects against cross site request\n",731],["T_WHITESPACE","    ",732],["T_COMMENT","\/\/ forgeries.\n",732],["T_WHITESPACE","    ",733],["T_COMMENT","\/\/ This does not apply to programmatically submitted forms. Furthermore,\n",733],["T_WHITESPACE","    ",734],["T_COMMENT","\/\/ since tokens are session-bound and forms displayed to anonymous users are\n",734],["T_WHITESPACE","    ",735],["T_COMMENT","\/\/ very likely cached, we cannot assign a token for them.\n",735],["T_WHITESPACE","    ",736],["T_COMMENT","\/\/ During installation, there is no $user yet.\n",736],["T_WHITESPACE","    ",737],["T_COMMENT","\/\/ Form constructors may explicitly set #token to FALSE when cross site\n",737],["T_WHITESPACE","    ",738],["T_COMMENT","\/\/ request forgery is irrelevant to the form, such as search forms.\n",738],["T_WHITESPACE","    ",739],["T_IF","if",739],["T_WHITESPACE"," ",739],"(",["T_VARIABLE","$form_state",739],["T_OBJECT_OPERATOR","->",739],["T_STRING","isProgrammed",739],"(",")",["T_WHITESPACE"," ",739],["T_BOOLEAN_OR","||",739],["T_WHITESPACE"," ",739],"(",["T_ISSET","isset",739],"(",["T_VARIABLE","$form",739],"[",["T_CONSTANT_ENCAPSED_STRING","'#token'",739],"]",")",["T_WHITESPACE"," ",739],["T_BOOLEAN_AND","&&",739],["T_WHITESPACE"," ",739],["T_VARIABLE","$form",739],"[",["T_CONSTANT_ENCAPSED_STRING","'#token'",739],"]",["T_WHITESPACE"," ",739],["T_IS_IDENTICAL","===",739],["T_WHITESPACE"," ",739],["T_STRING","FALSE",739],")",")",["T_WHITESPACE"," ",739],"{",["T_WHITESPACE","\n      ",739],["T_UNSET","unset",740],"(",["T_VARIABLE","$form",740],"[",["T_CONSTANT_ENCAPSED_STRING","'#token'",740],"]",")",";",["T_WHITESPACE","\n    ",740],"}",["T_WHITESPACE","\n    ",741],["T_ELSE","else",742],["T_WHITESPACE"," ",742],"{",["T_WHITESPACE","\n      ",742],["T_VARIABLE","$form",743],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",743],"]","[",["T_CONSTANT_ENCAPSED_STRING","'contexts'",743],"]","[","]",["T_WHITESPACE"," ",743],"=",["T_WHITESPACE"," ",743],["T_CONSTANT_ENCAPSED_STRING","'user.roles:authenticated'",743],";",["T_WHITESPACE","\n      ",743],["T_IF","if",744],["T_WHITESPACE"," ",744],"(",["T_VARIABLE","$user",744],["T_WHITESPACE"," ",744],["T_BOOLEAN_AND","&&",744],["T_WHITESPACE"," ",744],["T_VARIABLE","$user",744],["T_OBJECT_OPERATOR","->",744],["T_STRING","isAuthenticated",744],"(",")",")",["T_WHITESPACE"," ",744],"{",["T_WHITESPACE","\n        ",744],["T_COMMENT","\/\/ Generate a public token based on the form id.\n",745],["T_WHITESPACE","        ",746],["T_COMMENT","\/\/ Generates a placeholder based on the form ID.\n",746],["T_WHITESPACE","        ",747],["T_VARIABLE","$placeholder",747],["T_WHITESPACE"," ",747],"=",["T_WHITESPACE"," ",747],["T_CONSTANT_ENCAPSED_STRING","'form_token_placeholder_'",747],["T_WHITESPACE"," ",747],".",["T_WHITESPACE"," ",747],["T_STRING","hash",747],"(",["T_CONSTANT_ENCAPSED_STRING","'crc32b'",747],",",["T_WHITESPACE"," ",747],["T_VARIABLE","$form_id",747],")",";",["T_WHITESPACE","\n        ",747],["T_VARIABLE","$form",748],"[",["T_CONSTANT_ENCAPSED_STRING","'#token'",748],"]",["T_WHITESPACE"," ",748],"=",["T_WHITESPACE"," ",748],["T_VARIABLE","$placeholder",748],";",["T_WHITESPACE","\n\n        ",748],["T_VARIABLE","$form",750],"[",["T_CONSTANT_ENCAPSED_STRING","'form_token'",750],"]",["T_WHITESPACE"," ",750],"=",["T_WHITESPACE"," ",750],["T_ARRAY","array",750],"(",["T_WHITESPACE","\n          ",750],["T_CONSTANT_ENCAPSED_STRING","'#id'",751],["T_WHITESPACE"," ",751],["T_DOUBLE_ARROW","=>",751],["T_WHITESPACE"," ",751],["T_STRING","Html",751],["T_DOUBLE_COLON","::",751],["T_STRING","getUniqueId",751],"(",["T_CONSTANT_ENCAPSED_STRING","'edit-'",751],["T_WHITESPACE"," ",751],".",["T_WHITESPACE"," ",751],["T_VARIABLE","$form_id",751],["T_WHITESPACE"," ",751],".",["T_WHITESPACE"," ",751],["T_CONSTANT_ENCAPSED_STRING","'-form-token'",751],")",",",["T_WHITESPACE","\n          ",751],["T_CONSTANT_ENCAPSED_STRING","'#type'",752],["T_WHITESPACE"," ",752],["T_DOUBLE_ARROW","=>",752],["T_WHITESPACE"," ",752],["T_CONSTANT_ENCAPSED_STRING","'token'",752],",",["T_WHITESPACE","\n          ",752],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",753],["T_WHITESPACE"," ",753],["T_DOUBLE_ARROW","=>",753],["T_WHITESPACE"," ",753],["T_VARIABLE","$placeholder",753],",",["T_WHITESPACE","\n          ",753],["T_COMMENT","\/\/ Form processing and validation requires this value, so ensure the\n",754],["T_WHITESPACE","          ",755],["T_COMMENT","\/\/ submitted form value appears literally, regardless of custom #tree\n",755],["T_WHITESPACE","          ",756],["T_COMMENT","\/\/ and #parents being set elsewhere.\n",756],["T_WHITESPACE","          ",757],["T_CONSTANT_ENCAPSED_STRING","'#parents'",757],["T_WHITESPACE"," ",757],["T_DOUBLE_ARROW","=>",757],["T_WHITESPACE"," ",757],["T_ARRAY","array",757],"(",["T_CONSTANT_ENCAPSED_STRING","'form_token'",757],")",",",["T_WHITESPACE","\n          ",757],["T_COMMENT","\/\/ Instead of setting an actual CSRF token, we've set the placeholder\n",758],["T_WHITESPACE","          ",759],["T_COMMENT","\/\/ in form_token's #default_value and #placeholder. These will be\n",759],["T_WHITESPACE","          ",760],["T_COMMENT","\/\/ replaced at the very last moment. This ensures forms with a CSRF\n",760],["T_WHITESPACE","          ",761],["T_COMMENT","\/\/ token don't have poor cacheability.\n",761],["T_WHITESPACE","          ",762],["T_CONSTANT_ENCAPSED_STRING","'#attached'",762],["T_WHITESPACE"," ",762],["T_DOUBLE_ARROW","=>",762],["T_WHITESPACE"," ",762],"[",["T_WHITESPACE","\n            ",762],["T_CONSTANT_ENCAPSED_STRING","'placeholders'",763],["T_WHITESPACE"," ",763],["T_DOUBLE_ARROW","=>",763],["T_WHITESPACE"," ",763],"[",["T_WHITESPACE","\n              ",763],["T_VARIABLE","$placeholder",764],["T_WHITESPACE"," ",764],["T_DOUBLE_ARROW","=>",764],["T_WHITESPACE"," ",764],"[",["T_WHITESPACE","\n                ",764],["T_CONSTANT_ENCAPSED_STRING","'#lazy_builder'",765],["T_WHITESPACE"," ",765],["T_DOUBLE_ARROW","=>",765],["T_WHITESPACE"," ",765],"[",["T_CONSTANT_ENCAPSED_STRING","'form_builder:renderFormTokenPlaceholder'",765],",",["T_WHITESPACE"," ",765],"[",["T_VARIABLE","$placeholder",765],"]","]",["T_WHITESPACE","\n              ",765],"]",["T_WHITESPACE","\n            ",766],"]",["T_WHITESPACE","\n          ",767],"]",",",["T_WHITESPACE","\n          ",768],["T_CONSTANT_ENCAPSED_STRING","'#cache'",769],["T_WHITESPACE"," ",769],["T_DOUBLE_ARROW","=>",769],["T_WHITESPACE"," ",769],"[",["T_WHITESPACE","\n            ",769],["T_CONSTANT_ENCAPSED_STRING","'max-age'",770],["T_WHITESPACE"," ",770],["T_DOUBLE_ARROW","=>",770],["T_WHITESPACE"," ",770],["T_LNUMBER","0",770],",",["T_WHITESPACE","\n          ",770],"]",",",["T_WHITESPACE","\n        ",771],")",";",["T_WHITESPACE","\n      ",772],"}",["T_WHITESPACE","\n    ",773],"}",["T_WHITESPACE","\n\n    ",774],["T_IF","if",776],["T_WHITESPACE"," ",776],"(",["T_ISSET","isset",776],"(",["T_VARIABLE","$form_id",776],")",")",["T_WHITESPACE"," ",776],"{",["T_WHITESPACE","\n      ",776],["T_VARIABLE","$form",777],"[",["T_CONSTANT_ENCAPSED_STRING","'form_id'",777],"]",["T_WHITESPACE"," ",777],"=",["T_WHITESPACE"," ",777],["T_ARRAY","array",777],"(",["T_WHITESPACE","\n        ",777],["T_CONSTANT_ENCAPSED_STRING","'#type'",778],["T_WHITESPACE"," ",778],["T_DOUBLE_ARROW","=>",778],["T_WHITESPACE"," ",778],["T_CONSTANT_ENCAPSED_STRING","'hidden'",778],",",["T_WHITESPACE","\n        ",778],["T_CONSTANT_ENCAPSED_STRING","'#value'",779],["T_WHITESPACE"," ",779],["T_DOUBLE_ARROW","=>",779],["T_WHITESPACE"," ",779],["T_VARIABLE","$form_id",779],",",["T_WHITESPACE","\n        ",779],["T_CONSTANT_ENCAPSED_STRING","'#id'",780],["T_WHITESPACE"," ",780],["T_DOUBLE_ARROW","=>",780],["T_WHITESPACE"," ",780],["T_STRING","Html",780],["T_DOUBLE_COLON","::",780],["T_STRING","getUniqueId",780],"(","\"",["T_ENCAPSED_AND_WHITESPACE","edit-",780],["T_VARIABLE","$form_id",780],"\"",")",",",["T_WHITESPACE","\n        ",780],["T_COMMENT","\/\/ Form processing and validation requires this value, so ensure the\n",781],["T_WHITESPACE","        ",782],["T_COMMENT","\/\/ submitted form value appears literally, regardless of custom #tree\n",782],["T_WHITESPACE","        ",783],["T_COMMENT","\/\/ and #parents being set elsewhere.\n",783],["T_WHITESPACE","        ",784],["T_CONSTANT_ENCAPSED_STRING","'#parents'",784],["T_WHITESPACE"," ",784],["T_DOUBLE_ARROW","=>",784],["T_WHITESPACE"," ",784],["T_ARRAY","array",784],"(",["T_CONSTANT_ENCAPSED_STRING","'form_id'",784],")",",",["T_WHITESPACE","\n      ",784],")",";",["T_WHITESPACE","\n    ",785],"}",["T_WHITESPACE","\n    ",786],["T_IF","if",787],["T_WHITESPACE"," ",787],"(","!",["T_ISSET","isset",787],"(",["T_VARIABLE","$form",787],"[",["T_CONSTANT_ENCAPSED_STRING","'#id'",787],"]",")",")",["T_WHITESPACE"," ",787],"{",["T_WHITESPACE","\n      ",787],["T_VARIABLE","$form",788],"[",["T_CONSTANT_ENCAPSED_STRING","'#id'",788],"]",["T_WHITESPACE"," ",788],"=",["T_WHITESPACE"," ",788],["T_STRING","Html",788],["T_DOUBLE_COLON","::",788],["T_STRING","getUniqueId",788],"(",["T_VARIABLE","$form_id",788],")",";",["T_WHITESPACE","\n      ",788],["T_COMMENT","\/\/ Provide a selector usable by JavaScript. As the ID is unique, its not\n",789],["T_WHITESPACE","      ",790],["T_COMMENT","\/\/ possible to rely on it in JavaScript.\n",790],["T_WHITESPACE","      ",791],["T_VARIABLE","$form",791],"[",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",791],"]","[",["T_CONSTANT_ENCAPSED_STRING","'data-drupal-selector'",791],"]",["T_WHITESPACE"," ",791],"=",["T_WHITESPACE"," ",791],["T_STRING","Html",791],["T_DOUBLE_COLON","::",791],["T_STRING","getId",791],"(",["T_VARIABLE","$form_id",791],")",";",["T_WHITESPACE","\n    ",791],"}",["T_WHITESPACE","\n\n    ",792],["T_VARIABLE","$form",794],["T_WHITESPACE"," ",794],["T_PLUS_EQUAL","+=",794],["T_WHITESPACE"," ",794],["T_VARIABLE","$this",794],["T_OBJECT_OPERATOR","->",794],["T_STRING","elementInfo",794],["T_OBJECT_OPERATOR","->",794],["T_STRING","getInfo",794],"(",["T_CONSTANT_ENCAPSED_STRING","'form'",794],")",";",["T_WHITESPACE","\n    ",794],["T_VARIABLE","$form",795],["T_WHITESPACE"," ",795],["T_PLUS_EQUAL","+=",795],["T_WHITESPACE"," ",795],["T_ARRAY","array",795],"(",["T_CONSTANT_ENCAPSED_STRING","'#tree'",795],["T_WHITESPACE"," ",795],["T_DOUBLE_ARROW","=>",795],["T_WHITESPACE"," ",795],["T_STRING","FALSE",795],",",["T_WHITESPACE"," ",795],["T_CONSTANT_ENCAPSED_STRING","'#parents'",795],["T_WHITESPACE"," ",795],["T_DOUBLE_ARROW","=>",795],["T_WHITESPACE"," ",795],["T_ARRAY","array",795],"(",")",")",";",["T_WHITESPACE","\n    ",795],["T_VARIABLE","$form",796],"[",["T_CONSTANT_ENCAPSED_STRING","'#validate'",796],"]","[","]",["T_WHITESPACE"," ",796],"=",["T_WHITESPACE"," ",796],["T_CONSTANT_ENCAPSED_STRING","'::validateForm'",796],";",["T_WHITESPACE","\n    ",796],["T_VARIABLE","$form",797],"[",["T_CONSTANT_ENCAPSED_STRING","'#submit'",797],"]","[","]",["T_WHITESPACE"," ",797],"=",["T_WHITESPACE"," ",797],["T_CONSTANT_ENCAPSED_STRING","'::submitForm'",797],";",["T_WHITESPACE","\n\n    ",797],["T_VARIABLE","$build_info",799],["T_WHITESPACE"," ",799],"=",["T_WHITESPACE"," ",799],["T_VARIABLE","$form_state",799],["T_OBJECT_OPERATOR","->",799],["T_STRING","getBuildInfo",799],"(",")",";",["T_WHITESPACE","\n    ",799],["T_COMMENT","\/\/ If no #theme has been set, automatically apply theme suggestions.\n",800],["T_WHITESPACE","    ",801],["T_COMMENT","\/\/ The form theme hook itself, which is rendered by form.html.twig,\n",801],["T_WHITESPACE","    ",802],["T_COMMENT","\/\/ is in #theme_wrappers. Therefore, the #theme function only has to care\n",802],["T_WHITESPACE","    ",803],["T_COMMENT","\/\/ for rendering the inner form elements, not the form itself.\n",803],["T_WHITESPACE","    ",804],["T_IF","if",804],["T_WHITESPACE"," ",804],"(","!",["T_ISSET","isset",804],"(",["T_VARIABLE","$form",804],"[",["T_CONSTANT_ENCAPSED_STRING","'#theme'",804],"]",")",")",["T_WHITESPACE"," ",804],"{",["T_WHITESPACE","\n      ",804],["T_VARIABLE","$form",805],"[",["T_CONSTANT_ENCAPSED_STRING","'#theme'",805],"]",["T_WHITESPACE"," ",805],"=",["T_WHITESPACE"," ",805],["T_ARRAY","array",805],"(",["T_VARIABLE","$form_id",805],")",";",["T_WHITESPACE","\n      ",805],["T_IF","if",806],["T_WHITESPACE"," ",806],"(",["T_ISSET","isset",806],"(",["T_VARIABLE","$build_info",806],"[",["T_CONSTANT_ENCAPSED_STRING","'base_form_id'",806],"]",")",")",["T_WHITESPACE"," ",806],"{",["T_WHITESPACE","\n        ",806],["T_VARIABLE","$form",807],"[",["T_CONSTANT_ENCAPSED_STRING","'#theme'",807],"]","[","]",["T_WHITESPACE"," ",807],"=",["T_WHITESPACE"," ",807],["T_VARIABLE","$build_info",807],"[",["T_CONSTANT_ENCAPSED_STRING","'base_form_id'",807],"]",";",["T_WHITESPACE","\n      ",807],"}",["T_WHITESPACE","\n    ",808],"}",["T_WHITESPACE","\n\n    ",809],["T_COMMENT","\/\/ Invoke hook_form_alter(), hook_form_BASE_FORM_ID_alter(), and\n",811],["T_WHITESPACE","    ",812],["T_COMMENT","\/\/ hook_form_FORM_ID_alter() implementations.\n",812],["T_WHITESPACE","    ",813],["T_VARIABLE","$hooks",813],["T_WHITESPACE"," ",813],"=",["T_WHITESPACE"," ",813],["T_ARRAY","array",813],"(",["T_CONSTANT_ENCAPSED_STRING","'form'",813],")",";",["T_WHITESPACE","\n    ",813],["T_IF","if",814],["T_WHITESPACE"," ",814],"(",["T_ISSET","isset",814],"(",["T_VARIABLE","$build_info",814],"[",["T_CONSTANT_ENCAPSED_STRING","'base_form_id'",814],"]",")",")",["T_WHITESPACE"," ",814],"{",["T_WHITESPACE","\n      ",814],["T_VARIABLE","$hooks",815],"[","]",["T_WHITESPACE"," ",815],"=",["T_WHITESPACE"," ",815],["T_CONSTANT_ENCAPSED_STRING","'form_'",815],["T_WHITESPACE"," ",815],".",["T_WHITESPACE"," ",815],["T_VARIABLE","$build_info",815],"[",["T_CONSTANT_ENCAPSED_STRING","'base_form_id'",815],"]",";",["T_WHITESPACE","\n    ",815],"}",["T_WHITESPACE","\n    ",816],["T_VARIABLE","$hooks",817],"[","]",["T_WHITESPACE"," ",817],"=",["T_WHITESPACE"," ",817],["T_CONSTANT_ENCAPSED_STRING","'form_'",817],["T_WHITESPACE"," ",817],".",["T_WHITESPACE"," ",817],["T_VARIABLE","$form_id",817],";",["T_WHITESPACE","\n    ",817],["T_VARIABLE","$this",818],["T_OBJECT_OPERATOR","->",818],["T_STRING","moduleHandler",818],["T_OBJECT_OPERATOR","->",818],["T_STRING","alter",818],"(",["T_VARIABLE","$hooks",818],",",["T_WHITESPACE"," ",818],["T_VARIABLE","$form",818],",",["T_WHITESPACE"," ",818],["T_VARIABLE","$form_state",818],",",["T_WHITESPACE"," ",818],["T_VARIABLE","$form_id",818],")",";",["T_WHITESPACE","\n    ",818],["T_VARIABLE","$this",819],["T_OBJECT_OPERATOR","->",819],["T_STRING","themeManager",819],["T_OBJECT_OPERATOR","->",819],["T_STRING","alter",819],"(",["T_VARIABLE","$hooks",819],",",["T_WHITESPACE"," ",819],["T_VARIABLE","$form",819],",",["T_WHITESPACE"," ",819],["T_VARIABLE","$form_state",819],",",["T_WHITESPACE"," ",819],["T_VARIABLE","$form_id",819],")",";",["T_WHITESPACE","\n  ",819],"}",["T_WHITESPACE","\n\n  ",820],["T_DOC_COMMENT","\/**\n   * Builds the $form['#action'].\n   *\n   * @return string\n   *   The URL to be used as the $form['#action'].\n   *\/",822],["T_WHITESPACE","\n  ",827],["T_PROTECTED","protected",828],["T_WHITESPACE"," ",828],["T_FUNCTION","function",828],["T_WHITESPACE"," ",828],["T_STRING","buildFormAction",828],"(",")",["T_WHITESPACE"," ",828],"{",["T_WHITESPACE","\n    ",828],["T_COMMENT","\/\/ @todo Use <current> instead of the master request in\n",829],["T_WHITESPACE","    ",830],["T_COMMENT","\/\/   https:\/\/www.drupal.org\/node\/2505339.\n",830],["T_WHITESPACE","    ",831],["T_VARIABLE","$request",831],["T_WHITESPACE"," ",831],"=",["T_WHITESPACE"," ",831],["T_VARIABLE","$this",831],["T_OBJECT_OPERATOR","->",831],["T_STRING","requestStack",831],["T_OBJECT_OPERATOR","->",831],["T_STRING","getMasterRequest",831],"(",")",";",["T_WHITESPACE","\n    ",831],["T_VARIABLE","$request_uri",832],["T_WHITESPACE"," ",832],"=",["T_WHITESPACE"," ",832],["T_VARIABLE","$request",832],["T_OBJECT_OPERATOR","->",832],["T_STRING","getRequestUri",832],"(",")",";",["T_WHITESPACE","\n\n    ",832],["T_COMMENT","\/\/ Prevent cross site requests via the Form API by using an absolute URL\n",834],["T_WHITESPACE","    ",835],["T_COMMENT","\/\/ when the request uri starts with multiple slashes..\n",835],["T_WHITESPACE","    ",836],["T_IF","if",836],["T_WHITESPACE"," ",836],"(",["T_STRING","strpos",836],"(",["T_VARIABLE","$request_uri",836],",",["T_WHITESPACE"," ",836],["T_CONSTANT_ENCAPSED_STRING","'\/\/'",836],")",["T_WHITESPACE"," ",836],["T_IS_IDENTICAL","===",836],["T_WHITESPACE"," ",836],["T_LNUMBER","0",836],")",["T_WHITESPACE"," ",836],"{",["T_WHITESPACE","\n      ",836],["T_VARIABLE","$request_uri",837],["T_WHITESPACE"," ",837],"=",["T_WHITESPACE"," ",837],["T_VARIABLE","$request",837],["T_OBJECT_OPERATOR","->",837],["T_STRING","getUri",837],"(",")",";",["T_WHITESPACE","\n    ",837],"}",["T_WHITESPACE","\n\n    ",838],["T_COMMENT","\/\/ @todo Remove this parsing once these are removed from the request in\n",840],["T_WHITESPACE","    ",841],["T_COMMENT","\/\/   https:\/\/www.drupal.org\/node\/2504709.\n",841],["T_WHITESPACE","    ",842],["T_VARIABLE","$parsed",842],["T_WHITESPACE"," ",842],"=",["T_WHITESPACE"," ",842],["T_STRING","UrlHelper",842],["T_DOUBLE_COLON","::",842],["T_STRING","parse",842],"(",["T_VARIABLE","$request_uri",842],")",";",["T_WHITESPACE","\n    ",842],["T_UNSET","unset",843],"(",["T_VARIABLE","$parsed",843],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",843],"]","[",["T_STATIC","static",843],["T_DOUBLE_COLON","::",843],["T_STRING","AJAX_FORM_REQUEST",843],"]",",",["T_WHITESPACE"," ",843],["T_VARIABLE","$parsed",843],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",843],"]","[",["T_STRING","MainContentViewSubscriber",843],["T_DOUBLE_COLON","::",843],["T_STRING","WRAPPER_FORMAT",843],"]",")",";",["T_WHITESPACE","\n    ",843],["T_RETURN","return",844],["T_WHITESPACE"," ",844],["T_VARIABLE","$parsed",844],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",844],"]",["T_WHITESPACE"," ",844],".",["T_WHITESPACE"," ",844],"(",["T_VARIABLE","$parsed",844],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",844],"]",["T_WHITESPACE"," ",844],"?",["T_WHITESPACE"," ",844],"(",["T_CONSTANT_ENCAPSED_STRING","'?'",844],["T_WHITESPACE"," ",844],".",["T_WHITESPACE"," ",844],["T_STRING","UrlHelper",844],["T_DOUBLE_COLON","::",844],["T_STRING","buildQuery",844],"(",["T_VARIABLE","$parsed",844],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",844],"]",")",")",["T_WHITESPACE"," ",844],":",["T_WHITESPACE"," ",844],["T_CONSTANT_ENCAPSED_STRING","''",844],")",";",["T_WHITESPACE","\n  ",844],"}",["T_WHITESPACE","\n\n  ",845],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",847],["T_WHITESPACE","\n  ",849],["T_PUBLIC","public",850],["T_WHITESPACE"," ",850],["T_FUNCTION","function",850],["T_WHITESPACE"," ",850],["T_STRING","setInvalidTokenError",850],"(",["T_STRING","FormStateInterface",850],["T_WHITESPACE"," ",850],["T_VARIABLE","$form_state",850],")",["T_WHITESPACE"," ",850],"{",["T_WHITESPACE","\n    ",850],["T_VARIABLE","$this",851],["T_OBJECT_OPERATOR","->",851],["T_STRING","formValidator",851],["T_OBJECT_OPERATOR","->",851],["T_STRING","setInvalidTokenError",851],"(",["T_VARIABLE","$form_state",851],")",";",["T_WHITESPACE","\n  ",851],"}",["T_WHITESPACE","\n\n  ",852],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",854],["T_WHITESPACE","\n  ",856],["T_PUBLIC","public",857],["T_WHITESPACE"," ",857],["T_FUNCTION","function",857],["T_WHITESPACE"," ",857],["T_STRING","validateForm",857],"(",["T_VARIABLE","$form_id",857],",",["T_WHITESPACE"," ",857],"&",["T_VARIABLE","$form",857],",",["T_WHITESPACE"," ",857],["T_STRING","FormStateInterface",857],["T_WHITESPACE"," ",857],"&",["T_VARIABLE","$form_state",857],")",["T_WHITESPACE"," ",857],"{",["T_WHITESPACE","\n    ",857],["T_VARIABLE","$this",858],["T_OBJECT_OPERATOR","->",858],["T_STRING","formValidator",858],["T_OBJECT_OPERATOR","->",858],["T_STRING","validateForm",858],"(",["T_VARIABLE","$form_id",858],",",["T_WHITESPACE"," ",858],["T_VARIABLE","$form",858],",",["T_WHITESPACE"," ",858],["T_VARIABLE","$form_state",858],")",";",["T_WHITESPACE","\n  ",858],"}",["T_WHITESPACE","\n\n  ",859],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",861],["T_WHITESPACE","\n  ",863],["T_PUBLIC","public",864],["T_WHITESPACE"," ",864],["T_FUNCTION","function",864],["T_WHITESPACE"," ",864],["T_STRING","redirectForm",864],"(",["T_STRING","FormStateInterface",864],["T_WHITESPACE"," ",864],["T_VARIABLE","$form_state",864],")",["T_WHITESPACE"," ",864],"{",["T_WHITESPACE","\n    ",864],["T_RETURN","return",865],["T_WHITESPACE"," ",865],["T_VARIABLE","$this",865],["T_OBJECT_OPERATOR","->",865],["T_STRING","formSubmitter",865],["T_OBJECT_OPERATOR","->",865],["T_STRING","redirectForm",865],"(",["T_VARIABLE","$form_state",865],")",";",["T_WHITESPACE","\n  ",865],"}",["T_WHITESPACE","\n\n  ",866],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",868],["T_WHITESPACE","\n  ",870],["T_PUBLIC","public",871],["T_WHITESPACE"," ",871],["T_FUNCTION","function",871],["T_WHITESPACE"," ",871],["T_STRING","executeValidateHandlers",871],"(","&",["T_VARIABLE","$form",871],",",["T_WHITESPACE"," ",871],["T_STRING","FormStateInterface",871],["T_WHITESPACE"," ",871],"&",["T_VARIABLE","$form_state",871],")",["T_WHITESPACE"," ",871],"{",["T_WHITESPACE","\n    ",871],["T_VARIABLE","$this",872],["T_OBJECT_OPERATOR","->",872],["T_STRING","formValidator",872],["T_OBJECT_OPERATOR","->",872],["T_STRING","executeValidateHandlers",872],"(",["T_VARIABLE","$form",872],",",["T_WHITESPACE"," ",872],["T_VARIABLE","$form_state",872],")",";",["T_WHITESPACE","\n  ",872],"}",["T_WHITESPACE","\n\n  ",873],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",875],["T_WHITESPACE","\n  ",877],["T_PUBLIC","public",878],["T_WHITESPACE"," ",878],["T_FUNCTION","function",878],["T_WHITESPACE"," ",878],["T_STRING","executeSubmitHandlers",878],"(","&",["T_VARIABLE","$form",878],",",["T_WHITESPACE"," ",878],["T_STRING","FormStateInterface",878],["T_WHITESPACE"," ",878],"&",["T_VARIABLE","$form_state",878],")",["T_WHITESPACE"," ",878],"{",["T_WHITESPACE","\n    ",878],["T_VARIABLE","$this",879],["T_OBJECT_OPERATOR","->",879],["T_STRING","formSubmitter",879],["T_OBJECT_OPERATOR","->",879],["T_STRING","executeSubmitHandlers",879],"(",["T_VARIABLE","$form",879],",",["T_WHITESPACE"," ",879],["T_VARIABLE","$form_state",879],")",";",["T_WHITESPACE","\n  ",879],"}",["T_WHITESPACE","\n\n  ",880],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",882],["T_WHITESPACE","\n  ",884],["T_PUBLIC","public",885],["T_WHITESPACE"," ",885],["T_FUNCTION","function",885],["T_WHITESPACE"," ",885],["T_STRING","doSubmitForm",885],"(","&",["T_VARIABLE","$form",885],",",["T_WHITESPACE"," ",885],["T_STRING","FormStateInterface",885],["T_WHITESPACE"," ",885],"&",["T_VARIABLE","$form_state",885],")",["T_WHITESPACE"," ",885],"{",["T_WHITESPACE","\n    ",885],["T_THROW","throw",886],["T_WHITESPACE"," ",886],["T_NEW","new",886],["T_WHITESPACE"," ",886],["T_NS_SEPARATOR","\\",886],["T_STRING","LogicException",886],"(",["T_CONSTANT_ENCAPSED_STRING","'Use FormBuilderInterface::processForm() instead.'",886],")",";",["T_WHITESPACE","\n  ",886],"}",["T_WHITESPACE","\n\n  ",887],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",889],["T_WHITESPACE","\n  ",891],["T_PUBLIC","public",892],["T_WHITESPACE"," ",892],["T_FUNCTION","function",892],["T_WHITESPACE"," ",892],["T_STRING","doBuildForm",892],"(",["T_VARIABLE","$form_id",892],",",["T_WHITESPACE"," ",892],"&",["T_VARIABLE","$element",892],",",["T_WHITESPACE"," ",892],["T_STRING","FormStateInterface",892],["T_WHITESPACE"," ",892],"&",["T_VARIABLE","$form_state",892],")",["T_WHITESPACE"," ",892],"{",["T_WHITESPACE","\n    ",892],["T_COMMENT","\/\/ Initialize as unprocessed.\n",893],["T_WHITESPACE","    ",894],["T_VARIABLE","$element",894],"[",["T_CONSTANT_ENCAPSED_STRING","'#processed'",894],"]",["T_WHITESPACE"," ",894],"=",["T_WHITESPACE"," ",894],["T_STRING","FALSE",894],";",["T_WHITESPACE","\n\n    ",894],["T_COMMENT","\/\/ Use element defaults.\n",896],["T_WHITESPACE","    ",897],["T_IF","if",897],["T_WHITESPACE"," ",897],"(",["T_ISSET","isset",897],"(",["T_VARIABLE","$element",897],"[",["T_CONSTANT_ENCAPSED_STRING","'#type'",897],"]",")",["T_WHITESPACE"," ",897],["T_BOOLEAN_AND","&&",897],["T_WHITESPACE"," ",897],["T_EMPTY","empty",897],"(",["T_VARIABLE","$element",897],"[",["T_CONSTANT_ENCAPSED_STRING","'#defaults_loaded'",897],"]",")",["T_WHITESPACE"," ",897],["T_BOOLEAN_AND","&&",897],["T_WHITESPACE"," ",897],"(",["T_VARIABLE","$info",897],["T_WHITESPACE"," ",897],"=",["T_WHITESPACE"," ",897],["T_VARIABLE","$this",897],["T_OBJECT_OPERATOR","->",897],["T_STRING","elementInfo",897],["T_OBJECT_OPERATOR","->",897],["T_STRING","getInfo",897],"(",["T_VARIABLE","$element",897],"[",["T_CONSTANT_ENCAPSED_STRING","'#type'",897],"]",")",")",")",["T_WHITESPACE"," ",897],"{",["T_WHITESPACE","\n      ",897],["T_COMMENT","\/\/ Overlay $info onto $element, retaining preexisting keys in $element.\n",898],["T_WHITESPACE","      ",899],["T_VARIABLE","$element",899],["T_WHITESPACE"," ",899],["T_PLUS_EQUAL","+=",899],["T_WHITESPACE"," ",899],["T_VARIABLE","$info",899],";",["T_WHITESPACE","\n      ",899],["T_VARIABLE","$element",900],"[",["T_CONSTANT_ENCAPSED_STRING","'#defaults_loaded'",900],"]",["T_WHITESPACE"," ",900],"=",["T_WHITESPACE"," ",900],["T_STRING","TRUE",900],";",["T_WHITESPACE","\n    ",900],"}",["T_WHITESPACE","\n    ",901],["T_COMMENT","\/\/ Assign basic defaults common for all form elements.\n",902],["T_WHITESPACE","    ",903],["T_VARIABLE","$element",903],["T_WHITESPACE"," ",903],["T_PLUS_EQUAL","+=",903],["T_WHITESPACE"," ",903],["T_ARRAY","array",903],"(",["T_WHITESPACE","\n      ",903],["T_CONSTANT_ENCAPSED_STRING","'#required'",904],["T_WHITESPACE"," ",904],["T_DOUBLE_ARROW","=>",904],["T_WHITESPACE"," ",904],["T_STRING","FALSE",904],",",["T_WHITESPACE","\n      ",904],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",905],["T_WHITESPACE"," ",905],["T_DOUBLE_ARROW","=>",905],["T_WHITESPACE"," ",905],["T_ARRAY","array",905],"(",")",",",["T_WHITESPACE","\n      ",905],["T_CONSTANT_ENCAPSED_STRING","'#title_display'",906],["T_WHITESPACE"," ",906],["T_DOUBLE_ARROW","=>",906],["T_WHITESPACE"," ",906],["T_CONSTANT_ENCAPSED_STRING","'before'",906],",",["T_WHITESPACE","\n      ",906],["T_CONSTANT_ENCAPSED_STRING","'#description_display'",907],["T_WHITESPACE"," ",907],["T_DOUBLE_ARROW","=>",907],["T_WHITESPACE"," ",907],["T_CONSTANT_ENCAPSED_STRING","'after'",907],",",["T_WHITESPACE","\n      ",907],["T_CONSTANT_ENCAPSED_STRING","'#errors'",908],["T_WHITESPACE"," ",908],["T_DOUBLE_ARROW","=>",908],["T_WHITESPACE"," ",908],["T_STRING","NULL",908],",",["T_WHITESPACE","\n    ",908],")",";",["T_WHITESPACE","\n\n    ",909],["T_COMMENT","\/\/ Special handling if we're on the top level form element.\n",911],["T_WHITESPACE","    ",912],["T_IF","if",912],["T_WHITESPACE"," ",912],"(",["T_ISSET","isset",912],"(",["T_VARIABLE","$element",912],"[",["T_CONSTANT_ENCAPSED_STRING","'#type'",912],"]",")",["T_WHITESPACE"," ",912],["T_BOOLEAN_AND","&&",912],["T_WHITESPACE"," ",912],["T_VARIABLE","$element",912],"[",["T_CONSTANT_ENCAPSED_STRING","'#type'",912],"]",["T_WHITESPACE"," ",912],["T_IS_EQUAL","==",912],["T_WHITESPACE"," ",912],["T_CONSTANT_ENCAPSED_STRING","'form'",912],")",["T_WHITESPACE"," ",912],"{",["T_WHITESPACE","\n      ",912],["T_IF","if",913],["T_WHITESPACE"," ",913],"(","!",["T_EMPTY","empty",913],"(",["T_VARIABLE","$element",913],"[",["T_CONSTANT_ENCAPSED_STRING","'#https'",913],"]",")",["T_WHITESPACE"," ",913],["T_BOOLEAN_AND","&&",913],["T_WHITESPACE"," ",913],"!",["T_STRING","UrlHelper",913],["T_DOUBLE_COLON","::",913],["T_STRING","isExternal",913],"(",["T_VARIABLE","$element",913],"[",["T_CONSTANT_ENCAPSED_STRING","'#action'",913],"]",")",")",["T_WHITESPACE"," ",913],"{",["T_WHITESPACE","\n        ",913],["T_GLOBAL","global",914],["T_WHITESPACE"," ",914],["T_VARIABLE","$base_root",914],";",["T_WHITESPACE","\n\n        ",914],["T_COMMENT","\/\/ Not an external URL so ensure that it is secure.\n",916],["T_WHITESPACE","        ",917],["T_VARIABLE","$element",917],"[",["T_CONSTANT_ENCAPSED_STRING","'#action'",917],"]",["T_WHITESPACE"," ",917],"=",["T_WHITESPACE"," ",917],["T_STRING","str_replace",917],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/'",917],",",["T_WHITESPACE"," ",917],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/'",917],",",["T_WHITESPACE"," ",917],["T_VARIABLE","$base_root",917],")",["T_WHITESPACE"," ",917],".",["T_WHITESPACE"," ",917],["T_VARIABLE","$element",917],"[",["T_CONSTANT_ENCAPSED_STRING","'#action'",917],"]",";",["T_WHITESPACE","\n      ",917],"}",["T_WHITESPACE","\n\n      ",918],["T_COMMENT","\/\/ Store a reference to the complete form in $form_state prior to building\n",920],["T_WHITESPACE","      ",921],["T_COMMENT","\/\/ the form. This allows advanced #process and #after_build callbacks to\n",921],["T_WHITESPACE","      ",922],["T_COMMENT","\/\/ perform changes elsewhere in the form.\n",922],["T_WHITESPACE","      ",923],["T_VARIABLE","$form_state",923],["T_OBJECT_OPERATOR","->",923],["T_STRING","setCompleteForm",923],"(",["T_VARIABLE","$element",923],")",";",["T_WHITESPACE","\n\n      ",923],["T_COMMENT","\/\/ Set a flag if we have a correct form submission. This is always TRUE\n",925],["T_WHITESPACE","      ",926],["T_COMMENT","\/\/ for programmed forms coming from self::submitForm(), or if the form_id\n",926],["T_WHITESPACE","      ",927],["T_COMMENT","\/\/ coming from the POST data is set and matches the current form_id.\n",927],["T_WHITESPACE","      ",928],["T_VARIABLE","$input",928],["T_WHITESPACE"," ",928],"=",["T_WHITESPACE"," ",928],["T_VARIABLE","$form_state",928],["T_OBJECT_OPERATOR","->",928],["T_STRING","getUserInput",928],"(",")",";",["T_WHITESPACE","\n      ",928],["T_IF","if",929],["T_WHITESPACE"," ",929],"(",["T_VARIABLE","$form_state",929],["T_OBJECT_OPERATOR","->",929],["T_STRING","isProgrammed",929],"(",")",["T_WHITESPACE"," ",929],["T_BOOLEAN_OR","||",929],["T_WHITESPACE"," ",929],"(","!",["T_EMPTY","empty",929],"(",["T_VARIABLE","$input",929],")",["T_WHITESPACE"," ",929],["T_BOOLEAN_AND","&&",929],["T_WHITESPACE"," ",929],"(",["T_ISSET","isset",929],"(",["T_VARIABLE","$input",929],"[",["T_CONSTANT_ENCAPSED_STRING","'form_id'",929],"]",")",["T_WHITESPACE"," ",929],["T_BOOLEAN_AND","&&",929],["T_WHITESPACE"," ",929],"(",["T_VARIABLE","$input",929],"[",["T_CONSTANT_ENCAPSED_STRING","'form_id'",929],"]",["T_WHITESPACE"," ",929],["T_IS_EQUAL","==",929],["T_WHITESPACE"," ",929],["T_VARIABLE","$form_id",929],")",")",")",")",["T_WHITESPACE"," ",929],"{",["T_WHITESPACE","\n        ",929],["T_VARIABLE","$form_state",930],["T_OBJECT_OPERATOR","->",930],["T_STRING","setProcessInput",930],"(",")",";",["T_WHITESPACE","\n        ",930],["T_IF","if",931],["T_WHITESPACE"," ",931],"(",["T_ISSET","isset",931],"(",["T_VARIABLE","$element",931],"[",["T_CONSTANT_ENCAPSED_STRING","'#token'",931],"]",")",")",["T_WHITESPACE"," ",931],"{",["T_WHITESPACE","\n          ",931],["T_VARIABLE","$input",932],["T_WHITESPACE"," ",932],"=",["T_WHITESPACE"," ",932],["T_VARIABLE","$form_state",932],["T_OBJECT_OPERATOR","->",932],["T_STRING","getUserInput",932],"(",")",";",["T_WHITESPACE","\n          ",932],["T_IF","if",933],["T_WHITESPACE"," ",933],"(",["T_EMPTY","empty",933],"(",["T_VARIABLE","$input",933],"[",["T_CONSTANT_ENCAPSED_STRING","'form_token'",933],"]",")",["T_WHITESPACE"," ",933],["T_BOOLEAN_OR","||",933],["T_WHITESPACE"," ",933],"!",["T_VARIABLE","$this",933],["T_OBJECT_OPERATOR","->",933],["T_STRING","csrfToken",933],["T_OBJECT_OPERATOR","->",933],["T_STRING","validate",933],"(",["T_VARIABLE","$input",933],"[",["T_CONSTANT_ENCAPSED_STRING","'form_token'",933],"]",",",["T_WHITESPACE"," ",933],["T_VARIABLE","$element",933],"[",["T_CONSTANT_ENCAPSED_STRING","'#token'",933],"]",")",")",["T_WHITESPACE"," ",933],"{",["T_WHITESPACE","\n            ",933],["T_COMMENT","\/\/ Set an early form error to block certain input processing since\n",934],["T_WHITESPACE","            ",935],["T_COMMENT","\/\/ that opens the door for CSRF vulnerabilities.\n",935],["T_WHITESPACE","            ",936],["T_VARIABLE","$this",936],["T_OBJECT_OPERATOR","->",936],["T_STRING","setInvalidTokenError",936],"(",["T_VARIABLE","$form_state",936],")",";",["T_WHITESPACE","\n\n            ",936],["T_COMMENT","\/\/ This value is checked in self::handleInputElement().\n",938],["T_WHITESPACE","            ",939],["T_VARIABLE","$form_state",939],["T_OBJECT_OPERATOR","->",939],["T_STRING","setInvalidToken",939],"(",["T_STRING","TRUE",939],")",";",["T_WHITESPACE","\n\n            ",939],["T_COMMENT","\/\/ Make sure file uploads do not get processed.\n",941],["T_WHITESPACE","            ",942],["T_VARIABLE","$this",942],["T_OBJECT_OPERATOR","->",942],["T_STRING","requestStack",942],["T_OBJECT_OPERATOR","->",942],["T_STRING","getCurrentRequest",942],"(",")",["T_OBJECT_OPERATOR","->",942],["T_STRING","files",942],["T_WHITESPACE"," ",942],"=",["T_WHITESPACE"," ",942],["T_NEW","new",942],["T_WHITESPACE"," ",942],["T_STRING","FileBag",942],"(",")",";",["T_WHITESPACE","\n          ",942],"}",["T_WHITESPACE","\n        ",943],"}",["T_WHITESPACE","\n      ",944],"}",["T_WHITESPACE","\n      ",945],["T_ELSE","else",946],["T_WHITESPACE"," ",946],"{",["T_WHITESPACE","\n        ",946],["T_VARIABLE","$form_state",947],["T_OBJECT_OPERATOR","->",947],["T_STRING","setProcessInput",947],"(",["T_STRING","FALSE",947],")",";",["T_WHITESPACE","\n      ",947],"}",["T_WHITESPACE","\n\n      ",948],["T_COMMENT","\/\/ All form elements should have an #array_parents property.\n",950],["T_WHITESPACE","      ",951],["T_VARIABLE","$element",951],"[",["T_CONSTANT_ENCAPSED_STRING","'#array_parents'",951],"]",["T_WHITESPACE"," ",951],"=",["T_WHITESPACE"," ",951],["T_ARRAY","array",951],"(",")",";",["T_WHITESPACE","\n    ",951],"}",["T_WHITESPACE","\n\n    ",952],["T_IF","if",954],["T_WHITESPACE"," ",954],"(","!",["T_ISSET","isset",954],"(",["T_VARIABLE","$element",954],"[",["T_CONSTANT_ENCAPSED_STRING","'#id'",954],"]",")",")",["T_WHITESPACE"," ",954],"{",["T_WHITESPACE","\n      ",954],["T_VARIABLE","$unprocessed_id",955],["T_WHITESPACE"," ",955],"=",["T_WHITESPACE"," ",955],["T_CONSTANT_ENCAPSED_STRING","'edit-'",955],["T_WHITESPACE"," ",955],".",["T_WHITESPACE"," ",955],["T_STRING","implode",955],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",955],",",["T_WHITESPACE"," ",955],["T_VARIABLE","$element",955],"[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",955],"]",")",";",["T_WHITESPACE","\n      ",955],["T_VARIABLE","$element",956],"[",["T_CONSTANT_ENCAPSED_STRING","'#id'",956],"]",["T_WHITESPACE"," ",956],"=",["T_WHITESPACE"," ",956],["T_STRING","Html",956],["T_DOUBLE_COLON","::",956],["T_STRING","getUniqueId",956],"(",["T_VARIABLE","$unprocessed_id",956],")",";",["T_WHITESPACE","\n      ",956],["T_COMMENT","\/\/ Provide a selector usable by JavaScript. As the ID is unique, its not\n",957],["T_WHITESPACE","      ",958],["T_COMMENT","\/\/ possible to rely on it in JavaScript.\n",958],["T_WHITESPACE","      ",959],["T_VARIABLE","$element",959],"[",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",959],"]","[",["T_CONSTANT_ENCAPSED_STRING","'data-drupal-selector'",959],"]",["T_WHITESPACE"," ",959],"=",["T_WHITESPACE"," ",959],["T_STRING","Html",959],["T_DOUBLE_COLON","::",959],["T_STRING","getId",959],"(",["T_VARIABLE","$unprocessed_id",959],")",";",["T_WHITESPACE","\n    ",959],"}",["T_WHITESPACE","\n    ",960],["T_ELSE","else",961],["T_WHITESPACE"," ",961],"{",["T_WHITESPACE","\n      ",961],["T_COMMENT","\/\/ Provide a selector usable by JavaScript. As the ID is unique, its not\n",962],["T_WHITESPACE","      ",963],["T_COMMENT","\/\/ possible to rely on it in JavaScript.\n",963],["T_WHITESPACE","      ",964],["T_VARIABLE","$element",964],"[",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",964],"]","[",["T_CONSTANT_ENCAPSED_STRING","'data-drupal-selector'",964],"]",["T_WHITESPACE"," ",964],"=",["T_WHITESPACE"," ",964],["T_STRING","Html",964],["T_DOUBLE_COLON","::",964],["T_STRING","getId",964],"(",["T_VARIABLE","$element",964],"[",["T_CONSTANT_ENCAPSED_STRING","'#id'",964],"]",")",";",["T_WHITESPACE","\n    ",964],"}",["T_WHITESPACE","\n\n    ",965],["T_COMMENT","\/\/ Add the aria-describedby attribute to associate the form control with its\n",967],["T_WHITESPACE","    ",968],["T_COMMENT","\/\/ description.\n",968],["T_WHITESPACE","    ",969],["T_IF","if",969],["T_WHITESPACE"," ",969],"(","!",["T_EMPTY","empty",969],"(",["T_VARIABLE","$element",969],"[",["T_CONSTANT_ENCAPSED_STRING","'#description'",969],"]",")",")",["T_WHITESPACE"," ",969],"{",["T_WHITESPACE","\n      ",969],["T_VARIABLE","$element",970],"[",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",970],"]","[",["T_CONSTANT_ENCAPSED_STRING","'aria-describedby'",970],"]",["T_WHITESPACE"," ",970],"=",["T_WHITESPACE"," ",970],["T_VARIABLE","$element",970],"[",["T_CONSTANT_ENCAPSED_STRING","'#id'",970],"]",["T_WHITESPACE"," ",970],".",["T_WHITESPACE"," ",970],["T_CONSTANT_ENCAPSED_STRING","'--description'",970],";",["T_WHITESPACE","\n    ",970],"}",["T_WHITESPACE","\n    ",971],["T_COMMENT","\/\/ Handle input elements.\n",972],["T_WHITESPACE","    ",973],["T_IF","if",973],["T_WHITESPACE"," ",973],"(","!",["T_EMPTY","empty",973],"(",["T_VARIABLE","$element",973],"[",["T_CONSTANT_ENCAPSED_STRING","'#input'",973],"]",")",")",["T_WHITESPACE"," ",973],"{",["T_WHITESPACE","\n      ",973],["T_VARIABLE","$this",974],["T_OBJECT_OPERATOR","->",974],["T_STRING","handleInputElement",974],"(",["T_VARIABLE","$form_id",974],",",["T_WHITESPACE"," ",974],["T_VARIABLE","$element",974],",",["T_WHITESPACE"," ",974],["T_VARIABLE","$form_state",974],")",";",["T_WHITESPACE","\n    ",974],"}",["T_WHITESPACE","\n    ",975],["T_COMMENT","\/\/ Allow for elements to expand to multiple elements, e.g., radios,\n",976],["T_WHITESPACE","    ",977],["T_COMMENT","\/\/ checkboxes and files.\n",977],["T_WHITESPACE","    ",978],["T_IF","if",978],["T_WHITESPACE"," ",978],"(",["T_ISSET","isset",978],"(",["T_VARIABLE","$element",978],"[",["T_CONSTANT_ENCAPSED_STRING","'#process'",978],"]",")",["T_WHITESPACE"," ",978],["T_BOOLEAN_AND","&&",978],["T_WHITESPACE"," ",978],"!",["T_VARIABLE","$element",978],"[",["T_CONSTANT_ENCAPSED_STRING","'#processed'",978],"]",")",["T_WHITESPACE"," ",978],"{",["T_WHITESPACE","\n      ",978],["T_FOREACH","foreach",979],["T_WHITESPACE"," ",979],"(",["T_VARIABLE","$element",979],"[",["T_CONSTANT_ENCAPSED_STRING","'#process'",979],"]",["T_WHITESPACE"," ",979],["T_AS","as",979],["T_WHITESPACE"," ",979],["T_VARIABLE","$callback",979],")",["T_WHITESPACE"," ",979],"{",["T_WHITESPACE","\n        ",979],["T_VARIABLE","$complete_form",980],["T_WHITESPACE"," ",980],"=",["T_WHITESPACE"," ",980],"&",["T_VARIABLE","$form_state",980],["T_OBJECT_OPERATOR","->",980],["T_STRING","getCompleteForm",980],"(",")",";",["T_WHITESPACE","\n        ",980],["T_VARIABLE","$element",981],["T_WHITESPACE"," ",981],"=",["T_WHITESPACE"," ",981],["T_STRING","call_user_func_array",981],"(",["T_VARIABLE","$form_state",981],["T_OBJECT_OPERATOR","->",981],["T_STRING","prepareCallback",981],"(",["T_VARIABLE","$callback",981],")",",",["T_WHITESPACE"," ",981],["T_ARRAY","array",981],"(","&",["T_VARIABLE","$element",981],",",["T_WHITESPACE"," ",981],"&",["T_VARIABLE","$form_state",981],",",["T_WHITESPACE"," ",981],"&",["T_VARIABLE","$complete_form",981],")",")",";",["T_WHITESPACE","\n      ",981],"}",["T_WHITESPACE","\n      ",982],["T_VARIABLE","$element",983],"[",["T_CONSTANT_ENCAPSED_STRING","'#processed'",983],"]",["T_WHITESPACE"," ",983],"=",["T_WHITESPACE"," ",983],["T_STRING","TRUE",983],";",["T_WHITESPACE","\n    ",983],"}",["T_WHITESPACE","\n\n    ",984],["T_COMMENT","\/\/ We start off assuming all form elements are in the correct order.\n",986],["T_WHITESPACE","    ",987],["T_VARIABLE","$element",987],"[",["T_CONSTANT_ENCAPSED_STRING","'#sorted'",987],"]",["T_WHITESPACE"," ",987],"=",["T_WHITESPACE"," ",987],["T_STRING","TRUE",987],";",["T_WHITESPACE","\n\n    ",987],["T_COMMENT","\/\/ Recurse through all child elements.\n",989],["T_WHITESPACE","    ",990],["T_VARIABLE","$count",990],["T_WHITESPACE"," ",990],"=",["T_WHITESPACE"," ",990],["T_LNUMBER","0",990],";",["T_WHITESPACE","\n    ",990],["T_IF","if",991],["T_WHITESPACE"," ",991],"(",["T_ISSET","isset",991],"(",["T_VARIABLE","$element",991],"[",["T_CONSTANT_ENCAPSED_STRING","'#access'",991],"]",")",")",["T_WHITESPACE"," ",991],"{",["T_WHITESPACE","\n      ",991],["T_VARIABLE","$access",992],["T_WHITESPACE"," ",992],"=",["T_WHITESPACE"," ",992],["T_VARIABLE","$element",992],"[",["T_CONSTANT_ENCAPSED_STRING","'#access'",992],"]",";",["T_WHITESPACE","\n      ",992],["T_VARIABLE","$inherited_access",993],["T_WHITESPACE"," ",993],"=",["T_WHITESPACE"," ",993],["T_STRING","NULL",993],";",["T_WHITESPACE","\n      ",993],["T_IF","if",994],["T_WHITESPACE"," ",994],"(","(",["T_VARIABLE","$access",994],["T_WHITESPACE"," ",994],["T_INSTANCEOF","instanceof",994],["T_WHITESPACE"," ",994],["T_STRING","AccessResultInterface",994],["T_WHITESPACE"," ",994],["T_BOOLEAN_AND","&&",994],["T_WHITESPACE"," ",994],"!",["T_VARIABLE","$access",994],["T_OBJECT_OPERATOR","->",994],["T_STRING","isAllowed",994],"(",")",")",["T_WHITESPACE"," ",994],["T_BOOLEAN_OR","||",994],["T_WHITESPACE"," ",994],["T_VARIABLE","$access",994],["T_WHITESPACE"," ",994],["T_IS_IDENTICAL","===",994],["T_WHITESPACE"," ",994],["T_STRING","FALSE",994],")",["T_WHITESPACE"," ",994],"{",["T_WHITESPACE","\n        ",994],["T_VARIABLE","$inherited_access",995],["T_WHITESPACE"," ",995],"=",["T_WHITESPACE"," ",995],["T_VARIABLE","$access",995],";",["T_WHITESPACE","\n      ",995],"}",["T_WHITESPACE","\n    ",996],"}",["T_WHITESPACE","\n    ",997],["T_FOREACH","foreach",998],["T_WHITESPACE"," ",998],"(",["T_STRING","Element",998],["T_DOUBLE_COLON","::",998],["T_STRING","children",998],"(",["T_VARIABLE","$element",998],")",["T_WHITESPACE"," ",998],["T_AS","as",998],["T_WHITESPACE"," ",998],["T_VARIABLE","$key",998],")",["T_WHITESPACE"," ",998],"{",["T_WHITESPACE","\n      ",998],["T_COMMENT","\/\/ Prior to checking properties of child elements, their default\n",999],["T_WHITESPACE","      ",1000],["T_COMMENT","\/\/ properties need to be loaded.\n",1000],["T_WHITESPACE","      ",1001],["T_IF","if",1001],["T_WHITESPACE"," ",1001],"(",["T_ISSET","isset",1001],"(",["T_VARIABLE","$element",1001],"[",["T_VARIABLE","$key",1001],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#type'",1001],"]",")",["T_WHITESPACE"," ",1001],["T_BOOLEAN_AND","&&",1001],["T_WHITESPACE"," ",1001],["T_EMPTY","empty",1001],"(",["T_VARIABLE","$element",1001],"[",["T_VARIABLE","$key",1001],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#defaults_loaded'",1001],"]",")",["T_WHITESPACE"," ",1001],["T_BOOLEAN_AND","&&",1001],["T_WHITESPACE"," ",1001],"(",["T_VARIABLE","$info",1001],["T_WHITESPACE"," ",1001],"=",["T_WHITESPACE"," ",1001],["T_VARIABLE","$this",1001],["T_OBJECT_OPERATOR","->",1001],["T_STRING","elementInfo",1001],["T_OBJECT_OPERATOR","->",1001],["T_STRING","getInfo",1001],"(",["T_VARIABLE","$element",1001],"[",["T_VARIABLE","$key",1001],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#type'",1001],"]",")",")",")",["T_WHITESPACE"," ",1001],"{",["T_WHITESPACE","\n        ",1001],["T_VARIABLE","$element",1002],"[",["T_VARIABLE","$key",1002],"]",["T_WHITESPACE"," ",1002],["T_PLUS_EQUAL","+=",1002],["T_WHITESPACE"," ",1002],["T_VARIABLE","$info",1002],";",["T_WHITESPACE","\n        ",1002],["T_VARIABLE","$element",1003],"[",["T_VARIABLE","$key",1003],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#defaults_loaded'",1003],"]",["T_WHITESPACE"," ",1003],"=",["T_WHITESPACE"," ",1003],["T_STRING","TRUE",1003],";",["T_WHITESPACE","\n      ",1003],"}",["T_WHITESPACE","\n\n      ",1004],["T_COMMENT","\/\/ Don't squash an existing tree value.\n",1006],["T_WHITESPACE","      ",1007],["T_IF","if",1007],["T_WHITESPACE"," ",1007],"(","!",["T_ISSET","isset",1007],"(",["T_VARIABLE","$element",1007],"[",["T_VARIABLE","$key",1007],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#tree'",1007],"]",")",")",["T_WHITESPACE"," ",1007],"{",["T_WHITESPACE","\n        ",1007],["T_VARIABLE","$element",1008],"[",["T_VARIABLE","$key",1008],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#tree'",1008],"]",["T_WHITESPACE"," ",1008],"=",["T_WHITESPACE"," ",1008],["T_VARIABLE","$element",1008],"[",["T_CONSTANT_ENCAPSED_STRING","'#tree'",1008],"]",";",["T_WHITESPACE","\n      ",1008],"}",["T_WHITESPACE","\n\n      ",1009],["T_COMMENT","\/\/ Children inherit #access from parent.\n",1011],["T_WHITESPACE","      ",1012],["T_IF","if",1012],["T_WHITESPACE"," ",1012],"(",["T_ISSET","isset",1012],"(",["T_VARIABLE","$inherited_access",1012],")",")",["T_WHITESPACE"," ",1012],"{",["T_WHITESPACE","\n        ",1012],["T_VARIABLE","$element",1013],"[",["T_VARIABLE","$key",1013],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#access'",1013],"]",["T_WHITESPACE"," ",1013],"=",["T_WHITESPACE"," ",1013],["T_VARIABLE","$inherited_access",1013],";",["T_WHITESPACE","\n      ",1013],"}",["T_WHITESPACE","\n\n      ",1014],["T_COMMENT","\/\/ Make child elements inherit their parent's #disabled and #allow_focus\n",1016],["T_WHITESPACE","      ",1017],["T_COMMENT","\/\/ values unless they specify their own.\n",1017],["T_WHITESPACE","      ",1018],["T_FOREACH","foreach",1018],["T_WHITESPACE"," ",1018],"(",["T_ARRAY","array",1018],"(",["T_CONSTANT_ENCAPSED_STRING","'#disabled'",1018],",",["T_WHITESPACE"," ",1018],["T_CONSTANT_ENCAPSED_STRING","'#allow_focus'",1018],")",["T_WHITESPACE"," ",1018],["T_AS","as",1018],["T_WHITESPACE"," ",1018],["T_VARIABLE","$property",1018],")",["T_WHITESPACE"," ",1018],"{",["T_WHITESPACE","\n        ",1018],["T_IF","if",1019],["T_WHITESPACE"," ",1019],"(",["T_ISSET","isset",1019],"(",["T_VARIABLE","$element",1019],"[",["T_VARIABLE","$property",1019],"]",")",["T_WHITESPACE"," ",1019],["T_BOOLEAN_AND","&&",1019],["T_WHITESPACE"," ",1019],"!",["T_ISSET","isset",1019],"(",["T_VARIABLE","$element",1019],"[",["T_VARIABLE","$key",1019],"]","[",["T_VARIABLE","$property",1019],"]",")",")",["T_WHITESPACE"," ",1019],"{",["T_WHITESPACE","\n          ",1019],["T_VARIABLE","$element",1020],"[",["T_VARIABLE","$key",1020],"]","[",["T_VARIABLE","$property",1020],"]",["T_WHITESPACE"," ",1020],"=",["T_WHITESPACE"," ",1020],["T_VARIABLE","$element",1020],"[",["T_VARIABLE","$property",1020],"]",";",["T_WHITESPACE","\n        ",1020],"}",["T_WHITESPACE","\n      ",1021],"}",["T_WHITESPACE","\n\n      ",1022],["T_COMMENT","\/\/ Don't squash existing parents value.\n",1024],["T_WHITESPACE","      ",1025],["T_IF","if",1025],["T_WHITESPACE"," ",1025],"(","!",["T_ISSET","isset",1025],"(",["T_VARIABLE","$element",1025],"[",["T_VARIABLE","$key",1025],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",1025],"]",")",")",["T_WHITESPACE"," ",1025],"{",["T_WHITESPACE","\n        ",1025],["T_COMMENT","\/\/ Check to see if a tree of child elements is present. If so,\n",1026],["T_WHITESPACE","        ",1027],["T_COMMENT","\/\/ continue down the tree if required.\n",1027],["T_WHITESPACE","        ",1028],["T_VARIABLE","$element",1028],"[",["T_VARIABLE","$key",1028],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",1028],"]",["T_WHITESPACE"," ",1028],"=",["T_WHITESPACE"," ",1028],["T_VARIABLE","$element",1028],"[",["T_VARIABLE","$key",1028],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#tree'",1028],"]",["T_WHITESPACE"," ",1028],["T_BOOLEAN_AND","&&",1028],["T_WHITESPACE"," ",1028],["T_VARIABLE","$element",1028],"[",["T_CONSTANT_ENCAPSED_STRING","'#tree'",1028],"]",["T_WHITESPACE"," ",1028],"?",["T_WHITESPACE"," ",1028],["T_STRING","array_merge",1028],"(",["T_VARIABLE","$element",1028],"[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",1028],"]",",",["T_WHITESPACE"," ",1028],["T_ARRAY","array",1028],"(",["T_VARIABLE","$key",1028],")",")",["T_WHITESPACE"," ",1028],":",["T_WHITESPACE"," ",1028],["T_ARRAY","array",1028],"(",["T_VARIABLE","$key",1028],")",";",["T_WHITESPACE","\n      ",1028],"}",["T_WHITESPACE","\n      ",1029],["T_COMMENT","\/\/ Ensure #array_parents follows the actual form structure.\n",1030],["T_WHITESPACE","      ",1031],["T_VARIABLE","$array_parents",1031],["T_WHITESPACE"," ",1031],"=",["T_WHITESPACE"," ",1031],["T_VARIABLE","$element",1031],"[",["T_CONSTANT_ENCAPSED_STRING","'#array_parents'",1031],"]",";",["T_WHITESPACE","\n      ",1031],["T_VARIABLE","$array_parents",1032],"[","]",["T_WHITESPACE"," ",1032],"=",["T_WHITESPACE"," ",1032],["T_VARIABLE","$key",1032],";",["T_WHITESPACE","\n      ",1032],["T_VARIABLE","$element",1033],"[",["T_VARIABLE","$key",1033],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#array_parents'",1033],"]",["T_WHITESPACE"," ",1033],"=",["T_WHITESPACE"," ",1033],["T_VARIABLE","$array_parents",1033],";",["T_WHITESPACE","\n\n      ",1033],["T_COMMENT","\/\/ Assign a decimal placeholder weight to preserve original array order.\n",1035],["T_WHITESPACE","      ",1036],["T_IF","if",1036],["T_WHITESPACE"," ",1036],"(","!",["T_ISSET","isset",1036],"(",["T_VARIABLE","$element",1036],"[",["T_VARIABLE","$key",1036],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#weight'",1036],"]",")",")",["T_WHITESPACE"," ",1036],"{",["T_WHITESPACE","\n        ",1036],["T_VARIABLE","$element",1037],"[",["T_VARIABLE","$key",1037],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#weight'",1037],"]",["T_WHITESPACE"," ",1037],"=",["T_WHITESPACE"," ",1037],["T_VARIABLE","$count",1037],["T_WHITESPACE"," ",1037],"\/",["T_WHITESPACE"," ",1037],["T_LNUMBER","1000",1037],";",["T_WHITESPACE","\n      ",1037],"}",["T_WHITESPACE","\n      ",1038],["T_ELSE","else",1039],["T_WHITESPACE"," ",1039],"{",["T_WHITESPACE","\n        ",1039],["T_COMMENT","\/\/ If one of the child elements has a weight then we will need to sort\n",1040],["T_WHITESPACE","        ",1041],["T_COMMENT","\/\/ later.\n",1041],["T_WHITESPACE","        ",1042],["T_UNSET","unset",1042],"(",["T_VARIABLE","$element",1042],"[",["T_CONSTANT_ENCAPSED_STRING","'#sorted'",1042],"]",")",";",["T_WHITESPACE","\n      ",1042],"}",["T_WHITESPACE","\n      ",1043],["T_VARIABLE","$element",1044],"[",["T_VARIABLE","$key",1044],"]",["T_WHITESPACE"," ",1044],"=",["T_WHITESPACE"," ",1044],["T_VARIABLE","$this",1044],["T_OBJECT_OPERATOR","->",1044],["T_STRING","doBuildForm",1044],"(",["T_VARIABLE","$form_id",1044],",",["T_WHITESPACE"," ",1044],["T_VARIABLE","$element",1044],"[",["T_VARIABLE","$key",1044],"]",",",["T_WHITESPACE"," ",1044],["T_VARIABLE","$form_state",1044],")",";",["T_WHITESPACE","\n      ",1044],["T_VARIABLE","$count",1045],["T_INC","++",1045],";",["T_WHITESPACE","\n    ",1045],"}",["T_WHITESPACE","\n\n    ",1046],["T_COMMENT","\/\/ The #after_build flag allows any piece of a form to be altered\n",1048],["T_WHITESPACE","    ",1049],["T_COMMENT","\/\/ after normal input parsing has been completed.\n",1049],["T_WHITESPACE","    ",1050],["T_IF","if",1050],["T_WHITESPACE"," ",1050],"(",["T_ISSET","isset",1050],"(",["T_VARIABLE","$element",1050],"[",["T_CONSTANT_ENCAPSED_STRING","'#after_build'",1050],"]",")",["T_WHITESPACE"," ",1050],["T_BOOLEAN_AND","&&",1050],["T_WHITESPACE"," ",1050],"!",["T_ISSET","isset",1050],"(",["T_VARIABLE","$element",1050],"[",["T_CONSTANT_ENCAPSED_STRING","'#after_build_done'",1050],"]",")",")",["T_WHITESPACE"," ",1050],"{",["T_WHITESPACE","\n      ",1050],["T_FOREACH","foreach",1051],["T_WHITESPACE"," ",1051],"(",["T_VARIABLE","$element",1051],"[",["T_CONSTANT_ENCAPSED_STRING","'#after_build'",1051],"]",["T_WHITESPACE"," ",1051],["T_AS","as",1051],["T_WHITESPACE"," ",1051],["T_VARIABLE","$callback",1051],")",["T_WHITESPACE"," ",1051],"{",["T_WHITESPACE","\n        ",1051],["T_VARIABLE","$element",1052],["T_WHITESPACE"," ",1052],"=",["T_WHITESPACE"," ",1052],["T_STRING","call_user_func_array",1052],"(",["T_VARIABLE","$form_state",1052],["T_OBJECT_OPERATOR","->",1052],["T_STRING","prepareCallback",1052],"(",["T_VARIABLE","$callback",1052],")",",",["T_WHITESPACE"," ",1052],["T_ARRAY","array",1052],"(",["T_VARIABLE","$element",1052],",",["T_WHITESPACE"," ",1052],"&",["T_VARIABLE","$form_state",1052],")",")",";",["T_WHITESPACE","\n      ",1052],"}",["T_WHITESPACE","\n      ",1053],["T_VARIABLE","$element",1054],"[",["T_CONSTANT_ENCAPSED_STRING","'#after_build_done'",1054],"]",["T_WHITESPACE"," ",1054],"=",["T_WHITESPACE"," ",1054],["T_STRING","TRUE",1054],";",["T_WHITESPACE","\n    ",1054],"}",["T_WHITESPACE","\n\n    ",1055],["T_COMMENT","\/\/ If there is a file element, we need to flip a flag so later the\n",1057],["T_WHITESPACE","    ",1058],["T_COMMENT","\/\/ form encoding can be set.\n",1058],["T_WHITESPACE","    ",1059],["T_IF","if",1059],["T_WHITESPACE"," ",1059],"(",["T_ISSET","isset",1059],"(",["T_VARIABLE","$element",1059],"[",["T_CONSTANT_ENCAPSED_STRING","'#type'",1059],"]",")",["T_WHITESPACE"," ",1059],["T_BOOLEAN_AND","&&",1059],["T_WHITESPACE"," ",1059],["T_VARIABLE","$element",1059],"[",["T_CONSTANT_ENCAPSED_STRING","'#type'",1059],"]",["T_WHITESPACE"," ",1059],["T_IS_EQUAL","==",1059],["T_WHITESPACE"," ",1059],["T_CONSTANT_ENCAPSED_STRING","'file'",1059],")",["T_WHITESPACE"," ",1059],"{",["T_WHITESPACE","\n      ",1059],["T_VARIABLE","$form_state",1060],["T_OBJECT_OPERATOR","->",1060],["T_STRING","setHasFileElement",1060],"(",")",";",["T_WHITESPACE","\n    ",1060],"}",["T_WHITESPACE","\n\n    ",1061],["T_COMMENT","\/\/ Final tasks for the form element after self::doBuildForm() has run for\n",1063],["T_WHITESPACE","    ",1064],["T_COMMENT","\/\/ all other elements.\n",1064],["T_WHITESPACE","    ",1065],["T_IF","if",1065],["T_WHITESPACE"," ",1065],"(",["T_ISSET","isset",1065],"(",["T_VARIABLE","$element",1065],"[",["T_CONSTANT_ENCAPSED_STRING","'#type'",1065],"]",")",["T_WHITESPACE"," ",1065],["T_BOOLEAN_AND","&&",1065],["T_WHITESPACE"," ",1065],["T_VARIABLE","$element",1065],"[",["T_CONSTANT_ENCAPSED_STRING","'#type'",1065],"]",["T_WHITESPACE"," ",1065],["T_IS_EQUAL","==",1065],["T_WHITESPACE"," ",1065],["T_CONSTANT_ENCAPSED_STRING","'form'",1065],")",["T_WHITESPACE"," ",1065],"{",["T_WHITESPACE","\n      ",1065],["T_COMMENT","\/\/ If there is a file element, we set the form encoding.\n",1066],["T_WHITESPACE","      ",1067],["T_IF","if",1067],["T_WHITESPACE"," ",1067],"(",["T_VARIABLE","$form_state",1067],["T_OBJECT_OPERATOR","->",1067],["T_STRING","hasFileElement",1067],"(",")",")",["T_WHITESPACE"," ",1067],"{",["T_WHITESPACE","\n        ",1067],["T_VARIABLE","$element",1068],"[",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",1068],"]","[",["T_CONSTANT_ENCAPSED_STRING","'enctype'",1068],"]",["T_WHITESPACE"," ",1068],"=",["T_WHITESPACE"," ",1068],["T_CONSTANT_ENCAPSED_STRING","'multipart\/form-data'",1068],";",["T_WHITESPACE","\n      ",1068],"}",["T_WHITESPACE","\n\n      ",1069],["T_COMMENT","\/\/ Allow Ajax submissions to the form action to bypass verification. This\n",1071],["T_WHITESPACE","      ",1072],["T_COMMENT","\/\/ is especially useful for multipart forms, which cannot be verified via\n",1072],["T_WHITESPACE","      ",1073],["T_COMMENT","\/\/ a response header.\n",1073],["T_WHITESPACE","      ",1074],["T_VARIABLE","$element",1074],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",1074],"]","[",["T_CONSTANT_ENCAPSED_STRING","'drupalSettings'",1074],"]","[",["T_CONSTANT_ENCAPSED_STRING","'ajaxTrustedUrl'",1074],"]","[",["T_VARIABLE","$element",1074],"[",["T_CONSTANT_ENCAPSED_STRING","'#action'",1074],"]","]",["T_WHITESPACE"," ",1074],"=",["T_WHITESPACE"," ",1074],["T_STRING","TRUE",1074],";",["T_WHITESPACE","\n\n      ",1074],["T_COMMENT","\/\/ If a form contains a single textfield, and the ENTER key is pressed\n",1076],["T_WHITESPACE","      ",1077],["T_COMMENT","\/\/ within it, Internet Explorer submits the form with no POST data\n",1077],["T_WHITESPACE","      ",1078],["T_COMMENT","\/\/ identifying any submit button. Other browsers submit POST data as\n",1078],["T_WHITESPACE","      ",1079],["T_COMMENT","\/\/ though the user clicked the first button. Therefore, to be as\n",1079],["T_WHITESPACE","      ",1080],["T_COMMENT","\/\/ consistent as we can be across browsers, if no 'triggering_element' has\n",1080],["T_WHITESPACE","      ",1081],["T_COMMENT","\/\/ been identified yet, default it to the first button.\n",1081],["T_WHITESPACE","      ",1082],["T_VARIABLE","$buttons",1082],["T_WHITESPACE"," ",1082],"=",["T_WHITESPACE"," ",1082],["T_VARIABLE","$form_state",1082],["T_OBJECT_OPERATOR","->",1082],["T_STRING","getButtons",1082],"(",")",";",["T_WHITESPACE","\n      ",1082],["T_IF","if",1083],["T_WHITESPACE"," ",1083],"(","!",["T_VARIABLE","$form_state",1083],["T_OBJECT_OPERATOR","->",1083],["T_STRING","isProgrammed",1083],"(",")",["T_WHITESPACE"," ",1083],["T_BOOLEAN_AND","&&",1083],["T_WHITESPACE"," ",1083],"!",["T_VARIABLE","$form_state",1083],["T_OBJECT_OPERATOR","->",1083],["T_STRING","getTriggeringElement",1083],"(",")",["T_WHITESPACE"," ",1083],["T_BOOLEAN_AND","&&",1083],["T_WHITESPACE"," ",1083],"!",["T_EMPTY","empty",1083],"(",["T_VARIABLE","$buttons",1083],")",")",["T_WHITESPACE"," ",1083],"{",["T_WHITESPACE","\n        ",1083],["T_VARIABLE","$form_state",1084],["T_OBJECT_OPERATOR","->",1084],["T_STRING","setTriggeringElement",1084],"(",["T_VARIABLE","$buttons",1084],"[",["T_LNUMBER","0",1084],"]",")",";",["T_WHITESPACE","\n      ",1084],"}",["T_WHITESPACE","\n\n      ",1085],["T_VARIABLE","$triggering_element",1087],["T_WHITESPACE"," ",1087],"=",["T_WHITESPACE"," ",1087],["T_VARIABLE","$form_state",1087],["T_OBJECT_OPERATOR","->",1087],["T_STRING","getTriggeringElement",1087],"(",")",";",["T_WHITESPACE","\n      ",1087],["T_COMMENT","\/\/ If the triggering element specifies \"button-level\" validation and\n",1088],["T_WHITESPACE","      ",1089],["T_COMMENT","\/\/ submit handlers to run instead of the default form-level ones, then add\n",1089],["T_WHITESPACE","      ",1090],["T_COMMENT","\/\/ those to the form state.\n",1090],["T_WHITESPACE","      ",1091],["T_IF","if",1091],["T_WHITESPACE"," ",1091],"(",["T_ISSET","isset",1091],"(",["T_VARIABLE","$triggering_element",1091],"[",["T_CONSTANT_ENCAPSED_STRING","'#validate'",1091],"]",")",")",["T_WHITESPACE"," ",1091],"{",["T_WHITESPACE","\n        ",1091],["T_VARIABLE","$form_state",1092],["T_OBJECT_OPERATOR","->",1092],["T_STRING","setValidateHandlers",1092],"(",["T_VARIABLE","$triggering_element",1092],"[",["T_CONSTANT_ENCAPSED_STRING","'#validate'",1092],"]",")",";",["T_WHITESPACE","\n      ",1092],"}",["T_WHITESPACE","\n      ",1093],["T_IF","if",1094],["T_WHITESPACE"," ",1094],"(",["T_ISSET","isset",1094],"(",["T_VARIABLE","$triggering_element",1094],"[",["T_CONSTANT_ENCAPSED_STRING","'#submit'",1094],"]",")",")",["T_WHITESPACE"," ",1094],"{",["T_WHITESPACE","\n        ",1094],["T_VARIABLE","$form_state",1095],["T_OBJECT_OPERATOR","->",1095],["T_STRING","setSubmitHandlers",1095],"(",["T_VARIABLE","$triggering_element",1095],"[",["T_CONSTANT_ENCAPSED_STRING","'#submit'",1095],"]",")",";",["T_WHITESPACE","\n      ",1095],"}",["T_WHITESPACE","\n\n      ",1096],["T_COMMENT","\/\/ If the triggering element executes submit handlers, then set the form\n",1098],["T_WHITESPACE","      ",1099],["T_COMMENT","\/\/ state key that's needed for those handlers to run.\n",1099],["T_WHITESPACE","      ",1100],["T_IF","if",1100],["T_WHITESPACE"," ",1100],"(","!",["T_EMPTY","empty",1100],"(",["T_VARIABLE","$triggering_element",1100],"[",["T_CONSTANT_ENCAPSED_STRING","'#executes_submit_callback'",1100],"]",")",")",["T_WHITESPACE"," ",1100],"{",["T_WHITESPACE","\n        ",1100],["T_VARIABLE","$form_state",1101],["T_OBJECT_OPERATOR","->",1101],["T_STRING","setSubmitted",1101],"(",")",";",["T_WHITESPACE","\n      ",1101],"}",["T_WHITESPACE","\n\n      ",1102],["T_COMMENT","\/\/ Special processing if the triggering element is a button.\n",1104],["T_WHITESPACE","      ",1105],["T_IF","if",1105],["T_WHITESPACE"," ",1105],"(","!",["T_EMPTY","empty",1105],"(",["T_VARIABLE","$triggering_element",1105],"[",["T_CONSTANT_ENCAPSED_STRING","'#is_button'",1105],"]",")",")",["T_WHITESPACE"," ",1105],"{",["T_WHITESPACE","\n        ",1105],["T_COMMENT","\/\/ Because there are several ways in which the triggering element could\n",1106],["T_WHITESPACE","        ",1107],["T_COMMENT","\/\/ have been determined (including from input variables set by\n",1107],["T_WHITESPACE","        ",1108],["T_COMMENT","\/\/ JavaScript or fallback behavior implemented for IE), and because\n",1108],["T_WHITESPACE","        ",1109],["T_COMMENT","\/\/ buttons often have their #name property not derived from their\n",1109],["T_WHITESPACE","        ",1110],["T_COMMENT","\/\/ #parents property, we can't assume that input processing that's\n",1110],["T_WHITESPACE","        ",1111],["T_COMMENT","\/\/ happened up until here has resulted in\n",1111],["T_WHITESPACE","        ",1112],["T_COMMENT","\/\/ $form_state->getValue(BUTTON_NAME) being set. But it's common for\n",1112],["T_WHITESPACE","        ",1113],["T_COMMENT","\/\/ forms to have several buttons named 'op' and switch on\n",1113],["T_WHITESPACE","        ",1114],["T_COMMENT","\/\/ $form_state->getValue('op') during submit handler execution.\n",1114],["T_WHITESPACE","        ",1115],["T_VARIABLE","$form_state",1115],["T_OBJECT_OPERATOR","->",1115],["T_STRING","setValue",1115],"(",["T_VARIABLE","$triggering_element",1115],"[",["T_CONSTANT_ENCAPSED_STRING","'#name'",1115],"]",",",["T_WHITESPACE"," ",1115],["T_VARIABLE","$triggering_element",1115],"[",["T_CONSTANT_ENCAPSED_STRING","'#value'",1115],"]",")",";",["T_WHITESPACE","\n      ",1115],"}",["T_WHITESPACE","\n    ",1116],"}",["T_WHITESPACE","\n    ",1117],["T_RETURN","return",1118],["T_WHITESPACE"," ",1118],["T_VARIABLE","$element",1118],";",["T_WHITESPACE","\n  ",1118],"}",["T_WHITESPACE","\n\n  ",1119],["T_DOC_COMMENT","\/**\n   * Helper function to normalize the different callable formats.\n   *\n   * @param callable $value_callable\n   *   The callable to be checked.\n   *\n   * @return bool\n   *   TRUE if the callable is safe even if the CSRF token is invalid, FALSE\n   *   otherwise.\n   *\/",1121],["T_WHITESPACE","\n  ",1130],["T_PROTECTED","protected",1131],["T_WHITESPACE"," ",1131],["T_FUNCTION","function",1131],["T_WHITESPACE"," ",1131],["T_STRING","valueCallableIsSafe",1131],"(",["T_CALLABLE","callable",1131],["T_WHITESPACE"," ",1131],["T_VARIABLE","$value_callable",1131],")",["T_WHITESPACE"," ",1131],"{",["T_WHITESPACE","\n    ",1131],["T_COMMENT","\/\/ The same static class method callable may be formatted in two array and\n",1132],["T_WHITESPACE","    ",1133],["T_COMMENT","\/\/ two string forms:\n",1133],["T_WHITESPACE","    ",1134],["T_COMMENT","\/\/ ['\\Classname', 'methodname']\n",1134],["T_WHITESPACE","    ",1135],["T_COMMENT","\/\/ ['Classname', 'methodname']\n",1135],["T_WHITESPACE","    ",1136],["T_COMMENT","\/\/ '\\Classname::methodname'\n",1136],["T_WHITESPACE","    ",1137],["T_COMMENT","\/\/ 'Classname::methodname'\n",1137],["T_WHITESPACE","    ",1138],["T_IF","if",1138],["T_WHITESPACE"," ",1138],"(",["T_STRING","is_callable",1138],"(",["T_VARIABLE","$value_callable",1138],",",["T_WHITESPACE"," ",1138],["T_STRING","FALSE",1138],",",["T_WHITESPACE"," ",1138],["T_VARIABLE","$callable_name",1138],")",")",["T_WHITESPACE"," ",1138],"{",["T_WHITESPACE","\n      ",1138],["T_COMMENT","\/\/ The third parameter of is_callable() is set to a string form, but we\n",1139],["T_WHITESPACE","      ",1140],["T_COMMENT","\/\/ still have to normalize further by stripping a leading '\\'.\n",1140],["T_WHITESPACE","      ",1141],["T_RETURN","return",1141],["T_WHITESPACE"," ",1141],["T_STRING","in_array",1141],"(",["T_STRING","ltrim",1141],"(",["T_VARIABLE","$callable_name",1141],",",["T_WHITESPACE"," ",1141],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",1141],")",",",["T_WHITESPACE"," ",1141],["T_VARIABLE","$this",1141],["T_OBJECT_OPERATOR","->",1141],["T_STRING","safeCoreValueCallables",1141],")",";",["T_WHITESPACE","\n    ",1141],"}",["T_WHITESPACE","\n    ",1142],["T_RETURN","return",1143],["T_WHITESPACE"," ",1143],["T_STRING","FALSE",1143],";",["T_WHITESPACE","\n  ",1143],"}",["T_WHITESPACE","\n\n  ",1144],["T_DOC_COMMENT","\/**\n   * Adds the #name and #value properties of an input element before rendering.\n   *\/",1146],["T_WHITESPACE","\n  ",1148],["T_PROTECTED","protected",1149],["T_WHITESPACE"," ",1149],["T_FUNCTION","function",1149],["T_WHITESPACE"," ",1149],["T_STRING","handleInputElement",1149],"(",["T_VARIABLE","$form_id",1149],",",["T_WHITESPACE"," ",1149],"&",["T_VARIABLE","$element",1149],",",["T_WHITESPACE"," ",1149],["T_STRING","FormStateInterface",1149],["T_WHITESPACE"," ",1149],"&",["T_VARIABLE","$form_state",1149],")",["T_WHITESPACE"," ",1149],"{",["T_WHITESPACE","\n    ",1149],["T_IF","if",1150],["T_WHITESPACE"," ",1150],"(","!",["T_ISSET","isset",1150],"(",["T_VARIABLE","$element",1150],"[",["T_CONSTANT_ENCAPSED_STRING","'#name'",1150],"]",")",")",["T_WHITESPACE"," ",1150],"{",["T_WHITESPACE","\n      ",1150],["T_VARIABLE","$name",1151],["T_WHITESPACE"," ",1151],"=",["T_WHITESPACE"," ",1151],["T_STRING","array_shift",1151],"(",["T_VARIABLE","$element",1151],"[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",1151],"]",")",";",["T_WHITESPACE","\n      ",1151],["T_VARIABLE","$element",1152],"[",["T_CONSTANT_ENCAPSED_STRING","'#name'",1152],"]",["T_WHITESPACE"," ",1152],"=",["T_WHITESPACE"," ",1152],["T_VARIABLE","$name",1152],";",["T_WHITESPACE","\n      ",1152],["T_IF","if",1153],["T_WHITESPACE"," ",1153],"(",["T_VARIABLE","$element",1153],"[",["T_CONSTANT_ENCAPSED_STRING","'#type'",1153],"]",["T_WHITESPACE"," ",1153],["T_IS_EQUAL","==",1153],["T_WHITESPACE"," ",1153],["T_CONSTANT_ENCAPSED_STRING","'file'",1153],")",["T_WHITESPACE"," ",1153],"{",["T_WHITESPACE","\n        ",1153],["T_COMMENT","\/\/ To make it easier to handle files in file.inc, we place all\n",1154],["T_WHITESPACE","        ",1155],["T_COMMENT","\/\/ file fields in the 'files' array. Also, we do not support\n",1155],["T_WHITESPACE","        ",1156],["T_COMMENT","\/\/ nested file names.\n",1156],["T_WHITESPACE","        ",1157],["T_COMMENT","\/\/ @todo Remove this files prefix now?\n",1157],["T_WHITESPACE","        ",1158],["T_VARIABLE","$element",1158],"[",["T_CONSTANT_ENCAPSED_STRING","'#name'",1158],"]",["T_WHITESPACE"," ",1158],"=",["T_WHITESPACE"," ",1158],["T_CONSTANT_ENCAPSED_STRING","'files['",1158],["T_WHITESPACE"," ",1158],".",["T_WHITESPACE"," ",1158],["T_VARIABLE","$element",1158],"[",["T_CONSTANT_ENCAPSED_STRING","'#name'",1158],"]",["T_WHITESPACE"," ",1158],".",["T_WHITESPACE"," ",1158],["T_CONSTANT_ENCAPSED_STRING","']'",1158],";",["T_WHITESPACE","\n      ",1158],"}",["T_WHITESPACE","\n      ",1159],["T_ELSEIF","elseif",1160],["T_WHITESPACE"," ",1160],"(",["T_STRING","count",1160],"(",["T_VARIABLE","$element",1160],"[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",1160],"]",")",")",["T_WHITESPACE"," ",1160],"{",["T_WHITESPACE","\n        ",1160],["T_VARIABLE","$element",1161],"[",["T_CONSTANT_ENCAPSED_STRING","'#name'",1161],"]",["T_WHITESPACE"," ",1161],["T_CONCAT_EQUAL",".=",1161],["T_WHITESPACE"," ",1161],["T_CONSTANT_ENCAPSED_STRING","'['",1161],["T_WHITESPACE"," ",1161],".",["T_WHITESPACE"," ",1161],["T_STRING","implode",1161],"(",["T_CONSTANT_ENCAPSED_STRING","']['",1161],",",["T_WHITESPACE"," ",1161],["T_VARIABLE","$element",1161],"[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",1161],"]",")",["T_WHITESPACE"," ",1161],".",["T_WHITESPACE"," ",1161],["T_CONSTANT_ENCAPSED_STRING","']'",1161],";",["T_WHITESPACE","\n      ",1161],"}",["T_WHITESPACE","\n      ",1162],["T_STRING","array_unshift",1163],"(",["T_VARIABLE","$element",1163],"[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",1163],"]",",",["T_WHITESPACE"," ",1163],["T_VARIABLE","$name",1163],")",";",["T_WHITESPACE","\n    ",1163],"}",["T_WHITESPACE","\n\n    ",1164],["T_COMMENT","\/\/ Setting #disabled to TRUE results in user input being ignored regardless\n",1166],["T_WHITESPACE","    ",1167],["T_COMMENT","\/\/ of how the element is themed or whether JavaScript is used to change the\n",1167],["T_WHITESPACE","    ",1168],["T_COMMENT","\/\/ control's attributes. However, it's good UI to let the user know that\n",1168],["T_WHITESPACE","    ",1169],["T_COMMENT","\/\/ input is not wanted for the control. HTML supports two attributes for:\n",1169],["T_WHITESPACE","    ",1170],["T_COMMENT","\/\/ this: http:\/\/www.w3.org\/TR\/html401\/interact\/forms.html#h-17.12. If a form\n",1170],["T_WHITESPACE","    ",1171],["T_COMMENT","\/\/ wants to start a control off with one of these attributes for UI\n",1171],["T_WHITESPACE","    ",1172],["T_COMMENT","\/\/ purposes, only, but still allow input to be processed if it's submitted,\n",1172],["T_WHITESPACE","    ",1173],["T_COMMENT","\/\/ it can set the desired attribute in #attributes directly rather than\n",1173],["T_WHITESPACE","    ",1174],["T_COMMENT","\/\/ using #disabled. However, developers should think carefully about the\n",1174],["T_WHITESPACE","    ",1175],["T_COMMENT","\/\/ accessibility implications of doing so: if the form expects input to be\n",1175],["T_WHITESPACE","    ",1176],["T_COMMENT","\/\/ enterable under some condition triggered by JavaScript, how would someone\n",1176],["T_WHITESPACE","    ",1177],["T_COMMENT","\/\/ who has JavaScript disabled trigger that condition? Instead, developers\n",1177],["T_WHITESPACE","    ",1178],["T_COMMENT","\/\/ should consider whether a multi-step form would be more appropriate\n",1178],["T_WHITESPACE","    ",1179],["T_COMMENT","\/\/ (#disabled can be changed from step to step). If one still decides to use\n",1179],["T_WHITESPACE","    ",1180],["T_COMMENT","\/\/ JavaScript to affect when a control is enabled, then it is best for\n",1180],["T_WHITESPACE","    ",1181],["T_COMMENT","\/\/ accessibility for the control to be enabled in the HTML, and disabled by\n",1181],["T_WHITESPACE","    ",1182],["T_COMMENT","\/\/ JavaScript on document ready.\n",1182],["T_WHITESPACE","    ",1183],["T_IF","if",1183],["T_WHITESPACE"," ",1183],"(","!",["T_EMPTY","empty",1183],"(",["T_VARIABLE","$element",1183],"[",["T_CONSTANT_ENCAPSED_STRING","'#disabled'",1183],"]",")",")",["T_WHITESPACE"," ",1183],"{",["T_WHITESPACE","\n      ",1183],["T_IF","if",1184],["T_WHITESPACE"," ",1184],"(","!",["T_EMPTY","empty",1184],"(",["T_VARIABLE","$element",1184],"[",["T_CONSTANT_ENCAPSED_STRING","'#allow_focus'",1184],"]",")",")",["T_WHITESPACE"," ",1184],"{",["T_WHITESPACE","\n        ",1184],["T_VARIABLE","$element",1185],"[",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",1185],"]","[",["T_CONSTANT_ENCAPSED_STRING","'readonly'",1185],"]",["T_WHITESPACE"," ",1185],"=",["T_WHITESPACE"," ",1185],["T_CONSTANT_ENCAPSED_STRING","'readonly'",1185],";",["T_WHITESPACE","\n      ",1185],"}",["T_WHITESPACE","\n      ",1186],["T_ELSE","else",1187],["T_WHITESPACE"," ",1187],"{",["T_WHITESPACE","\n        ",1187],["T_VARIABLE","$element",1188],"[",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",1188],"]","[",["T_CONSTANT_ENCAPSED_STRING","'disabled'",1188],"]",["T_WHITESPACE"," ",1188],"=",["T_WHITESPACE"," ",1188],["T_CONSTANT_ENCAPSED_STRING","'disabled'",1188],";",["T_WHITESPACE","\n      ",1188],"}",["T_WHITESPACE","\n    ",1189],"}",["T_WHITESPACE","\n\n    ",1190],["T_COMMENT","\/\/ With JavaScript or other easy hacking, input can be submitted even for\n",1192],["T_WHITESPACE","    ",1193],["T_COMMENT","\/\/ elements with #access=FALSE or #disabled=TRUE. For security, these must\n",1193],["T_WHITESPACE","    ",1194],["T_COMMENT","\/\/ not be processed. Forms that set #disabled=TRUE on an element do not\n",1194],["T_WHITESPACE","    ",1195],["T_COMMENT","\/\/ expect input for the element, and even forms submitted with\n",1195],["T_WHITESPACE","    ",1196],["T_COMMENT","\/\/ self::submitForm() must not be able to get around this. Forms that set\n",1196],["T_WHITESPACE","    ",1197],["T_COMMENT","\/\/ #access=FALSE on an element usually allow access for some users, so forms\n",1197],["T_WHITESPACE","    ",1198],["T_COMMENT","\/\/ submitted with self::submitForm() may bypass access restriction and be\n",1198],["T_WHITESPACE","    ",1199],["T_COMMENT","\/\/ treated as high-privilege users instead.\n",1199],["T_WHITESPACE","    ",1200],["T_VARIABLE","$process_input",1200],["T_WHITESPACE"," ",1200],"=",["T_WHITESPACE"," ",1200],["T_EMPTY","empty",1200],"(",["T_VARIABLE","$element",1200],"[",["T_CONSTANT_ENCAPSED_STRING","'#disabled'",1200],"]",")",["T_WHITESPACE"," ",1200],["T_BOOLEAN_AND","&&",1200],["T_WHITESPACE"," ",1200],"(","(",["T_VARIABLE","$form_state",1200],["T_OBJECT_OPERATOR","->",1200],["T_STRING","isProgrammed",1200],"(",")",["T_WHITESPACE"," ",1200],["T_BOOLEAN_AND","&&",1200],["T_WHITESPACE"," ",1200],["T_VARIABLE","$form_state",1200],["T_OBJECT_OPERATOR","->",1200],["T_STRING","isBypassingProgrammedAccessChecks",1200],"(",")",")",["T_WHITESPACE"," ",1200],["T_BOOLEAN_OR","||",1200],["T_WHITESPACE"," ",1200],"(",["T_VARIABLE","$form_state",1200],["T_OBJECT_OPERATOR","->",1200],["T_STRING","isProcessingInput",1200],"(",")",["T_WHITESPACE"," ",1200],["T_BOOLEAN_AND","&&",1200],["T_WHITESPACE"," ",1200],"(","!",["T_ISSET","isset",1200],"(",["T_VARIABLE","$element",1200],"[",["T_CONSTANT_ENCAPSED_STRING","'#access'",1200],"]",")",["T_WHITESPACE"," ",1200],["T_BOOLEAN_OR","||",1200],["T_WHITESPACE"," ",1200],["T_VARIABLE","$element",1200],"[",["T_CONSTANT_ENCAPSED_STRING","'#access'",1200],"]",")",")",")",";",["T_WHITESPACE","\n\n    ",1200],["T_COMMENT","\/\/ Set the element's #value property.\n",1202],["T_WHITESPACE","    ",1203],["T_IF","if",1203],["T_WHITESPACE"," ",1203],"(","!",["T_ISSET","isset",1203],"(",["T_VARIABLE","$element",1203],"[",["T_CONSTANT_ENCAPSED_STRING","'#value'",1203],"]",")",["T_WHITESPACE"," ",1203],["T_BOOLEAN_AND","&&",1203],["T_WHITESPACE"," ",1203],"!",["T_STRING","array_key_exists",1203],"(",["T_CONSTANT_ENCAPSED_STRING","'#value'",1203],",",["T_WHITESPACE"," ",1203],["T_VARIABLE","$element",1203],")",")",["T_WHITESPACE"," ",1203],"{",["T_WHITESPACE","\n      ",1203],["T_COMMENT","\/\/ @todo Once all elements are converted to plugins in\n",1204],["T_WHITESPACE","      ",1205],["T_COMMENT","\/\/   https:\/\/www.drupal.org\/node\/2311393, rely on\n",1205],["T_WHITESPACE","      ",1206],["T_COMMENT","\/\/   $element['#value_callback'] directly.\n",1206],["T_WHITESPACE","      ",1207],["T_VARIABLE","$value_callable",1207],["T_WHITESPACE"," ",1207],"=",["T_WHITESPACE"," ",1207],"!",["T_EMPTY","empty",1207],"(",["T_VARIABLE","$element",1207],"[",["T_CONSTANT_ENCAPSED_STRING","'#value_callback'",1207],"]",")",["T_WHITESPACE"," ",1207],"?",["T_WHITESPACE"," ",1207],["T_VARIABLE","$element",1207],"[",["T_CONSTANT_ENCAPSED_STRING","'#value_callback'",1207],"]",["T_WHITESPACE"," ",1207],":",["T_WHITESPACE"," ",1207],["T_CONSTANT_ENCAPSED_STRING","'form_type_'",1207],["T_WHITESPACE"," ",1207],".",["T_WHITESPACE"," ",1207],["T_VARIABLE","$element",1207],"[",["T_CONSTANT_ENCAPSED_STRING","'#type'",1207],"]",["T_WHITESPACE"," ",1207],".",["T_WHITESPACE"," ",1207],["T_CONSTANT_ENCAPSED_STRING","'_value'",1207],";",["T_WHITESPACE","\n      ",1207],["T_IF","if",1208],["T_WHITESPACE"," ",1208],"(","!",["T_STRING","is_callable",1208],"(",["T_VARIABLE","$value_callable",1208],")",")",["T_WHITESPACE"," ",1208],"{",["T_WHITESPACE","\n        ",1208],["T_VARIABLE","$value_callable",1209],["T_WHITESPACE"," ",1209],"=",["T_WHITESPACE"," ",1209],["T_CONSTANT_ENCAPSED_STRING","'\\Drupal\\Core\\Render\\Element\\FormElement::valueCallback'",1209],";",["T_WHITESPACE","\n      ",1209],"}",["T_WHITESPACE","\n\n      ",1210],["T_IF","if",1212],["T_WHITESPACE"," ",1212],"(",["T_VARIABLE","$process_input",1212],")",["T_WHITESPACE"," ",1212],"{",["T_WHITESPACE","\n        ",1212],["T_COMMENT","\/\/ Get the input for the current element. NULL values in the input need\n",1213],["T_WHITESPACE","        ",1214],["T_COMMENT","\/\/ to be explicitly distinguished from missing input. (see below)\n",1214],["T_WHITESPACE","        ",1215],["T_VARIABLE","$input_exists",1215],["T_WHITESPACE"," ",1215],"=",["T_WHITESPACE"," ",1215],["T_STRING","NULL",1215],";",["T_WHITESPACE","\n        ",1215],["T_VARIABLE","$input",1216],["T_WHITESPACE"," ",1216],"=",["T_WHITESPACE"," ",1216],["T_STRING","NestedArray",1216],["T_DOUBLE_COLON","::",1216],["T_STRING","getValue",1216],"(",["T_VARIABLE","$form_state",1216],["T_OBJECT_OPERATOR","->",1216],["T_STRING","getUserInput",1216],"(",")",",",["T_WHITESPACE"," ",1216],["T_VARIABLE","$element",1216],"[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",1216],"]",",",["T_WHITESPACE"," ",1216],["T_VARIABLE","$input_exists",1216],")",";",["T_WHITESPACE","\n        ",1216],["T_COMMENT","\/\/ For browser-submitted forms, the submitted values do not contain\n",1217],["T_WHITESPACE","        ",1218],["T_COMMENT","\/\/ values for certain elements (empty multiple select, unchecked\n",1218],["T_WHITESPACE","        ",1219],["T_COMMENT","\/\/ checkbox). During initial form processing, we add explicit NULL\n",1219],["T_WHITESPACE","        ",1220],["T_COMMENT","\/\/ values for such elements in FormState::$input. When rebuilding the\n",1220],["T_WHITESPACE","        ",1221],["T_COMMENT","\/\/ form, we can distinguish elements having NULL input from elements\n",1221],["T_WHITESPACE","        ",1222],["T_COMMENT","\/\/ that were not part of the initially submitted form and can therefore\n",1222],["T_WHITESPACE","        ",1223],["T_COMMENT","\/\/ use default values for the latter, if required. Programmatically\n",1223],["T_WHITESPACE","        ",1224],["T_COMMENT","\/\/ submitted forms can submit explicit NULL values when calling\n",1224],["T_WHITESPACE","        ",1225],["T_COMMENT","\/\/ self::submitForm() so we do not modify FormState::$input for them.\n",1225],["T_WHITESPACE","        ",1226],["T_IF","if",1226],["T_WHITESPACE"," ",1226],"(","!",["T_VARIABLE","$input_exists",1226],["T_WHITESPACE"," ",1226],["T_BOOLEAN_AND","&&",1226],["T_WHITESPACE"," ",1226],"!",["T_VARIABLE","$form_state",1226],["T_OBJECT_OPERATOR","->",1226],["T_STRING","isRebuilding",1226],"(",")",["T_WHITESPACE"," ",1226],["T_BOOLEAN_AND","&&",1226],["T_WHITESPACE"," ",1226],"!",["T_VARIABLE","$form_state",1226],["T_OBJECT_OPERATOR","->",1226],["T_STRING","isProgrammed",1226],"(",")",")",["T_WHITESPACE"," ",1226],"{",["T_WHITESPACE","\n          ",1226],["T_COMMENT","\/\/ Add the necessary parent keys to FormState::$input and sets the\n",1227],["T_WHITESPACE","          ",1228],["T_COMMENT","\/\/ element's input value to NULL.\n",1228],["T_WHITESPACE","          ",1229],["T_STRING","NestedArray",1229],["T_DOUBLE_COLON","::",1229],["T_STRING","setValue",1229],"(",["T_VARIABLE","$form_state",1229],["T_OBJECT_OPERATOR","->",1229],["T_STRING","getUserInput",1229],"(",")",",",["T_WHITESPACE"," ",1229],["T_VARIABLE","$element",1229],"[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",1229],"]",",",["T_WHITESPACE"," ",1229],["T_STRING","NULL",1229],")",";",["T_WHITESPACE","\n          ",1229],["T_VARIABLE","$input_exists",1230],["T_WHITESPACE"," ",1230],"=",["T_WHITESPACE"," ",1230],["T_STRING","TRUE",1230],";",["T_WHITESPACE","\n        ",1230],"}",["T_WHITESPACE","\n        ",1231],["T_COMMENT","\/\/ If we have input for the current element, assign it to the #value\n",1232],["T_WHITESPACE","        ",1233],["T_COMMENT","\/\/ property, optionally filtered through $value_callback.\n",1233],["T_WHITESPACE","        ",1234],["T_IF","if",1234],["T_WHITESPACE"," ",1234],"(",["T_VARIABLE","$input_exists",1234],")",["T_WHITESPACE"," ",1234],"{",["T_WHITESPACE","\n          ",1234],["T_COMMENT","\/\/ Skip all value callbacks except safe ones like text if the CSRF\n",1235],["T_WHITESPACE","          ",1236],["T_COMMENT","\/\/ token was invalid.\n",1236],["T_WHITESPACE","          ",1237],["T_IF","if",1237],["T_WHITESPACE"," ",1237],"(","!",["T_VARIABLE","$form_state",1237],["T_OBJECT_OPERATOR","->",1237],["T_STRING","hasInvalidToken",1237],"(",")",["T_WHITESPACE"," ",1237],["T_BOOLEAN_OR","||",1237],["T_WHITESPACE"," ",1237],["T_VARIABLE","$this",1237],["T_OBJECT_OPERATOR","->",1237],["T_STRING","valueCallableIsSafe",1237],"(",["T_VARIABLE","$value_callable",1237],")",")",["T_WHITESPACE"," ",1237],"{",["T_WHITESPACE","\n            ",1237],["T_VARIABLE","$element",1238],"[",["T_CONSTANT_ENCAPSED_STRING","'#value'",1238],"]",["T_WHITESPACE"," ",1238],"=",["T_WHITESPACE"," ",1238],["T_STRING","call_user_func_array",1238],"(",["T_VARIABLE","$value_callable",1238],",",["T_WHITESPACE"," ",1238],["T_ARRAY","array",1238],"(","&",["T_VARIABLE","$element",1238],",",["T_WHITESPACE"," ",1238],["T_VARIABLE","$input",1238],",",["T_WHITESPACE"," ",1238],"&",["T_VARIABLE","$form_state",1238],")",")",";",["T_WHITESPACE","\n          ",1238],"}",["T_WHITESPACE","\n          ",1239],["T_ELSE","else",1240],["T_WHITESPACE"," ",1240],"{",["T_WHITESPACE","\n            ",1240],["T_VARIABLE","$input",1241],["T_WHITESPACE"," ",1241],"=",["T_WHITESPACE"," ",1241],["T_STRING","NULL",1241],";",["T_WHITESPACE","\n          ",1241],"}",["T_WHITESPACE","\n\n          ",1242],["T_IF","if",1244],["T_WHITESPACE"," ",1244],"(","!",["T_ISSET","isset",1244],"(",["T_VARIABLE","$element",1244],"[",["T_CONSTANT_ENCAPSED_STRING","'#value'",1244],"]",")",["T_WHITESPACE"," ",1244],["T_BOOLEAN_AND","&&",1244],["T_WHITESPACE"," ",1244],["T_ISSET","isset",1244],"(",["T_VARIABLE","$input",1244],")",")",["T_WHITESPACE"," ",1244],"{",["T_WHITESPACE","\n            ",1244],["T_VARIABLE","$element",1245],"[",["T_CONSTANT_ENCAPSED_STRING","'#value'",1245],"]",["T_WHITESPACE"," ",1245],"=",["T_WHITESPACE"," ",1245],["T_VARIABLE","$input",1245],";",["T_WHITESPACE","\n          ",1245],"}",["T_WHITESPACE","\n        ",1246],"}",["T_WHITESPACE","\n        ",1247],["T_COMMENT","\/\/ Mark all posted values for validation.\n",1248],["T_WHITESPACE","        ",1249],["T_IF","if",1249],["T_WHITESPACE"," ",1249],"(",["T_ISSET","isset",1249],"(",["T_VARIABLE","$element",1249],"[",["T_CONSTANT_ENCAPSED_STRING","'#value'",1249],"]",")",["T_WHITESPACE"," ",1249],["T_BOOLEAN_OR","||",1249],["T_WHITESPACE"," ",1249],"(","!",["T_EMPTY","empty",1249],"(",["T_VARIABLE","$element",1249],"[",["T_CONSTANT_ENCAPSED_STRING","'#required'",1249],"]",")",")",")",["T_WHITESPACE"," ",1249],"{",["T_WHITESPACE","\n          ",1249],["T_VARIABLE","$element",1250],"[",["T_CONSTANT_ENCAPSED_STRING","'#needs_validation'",1250],"]",["T_WHITESPACE"," ",1250],"=",["T_WHITESPACE"," ",1250],["T_STRING","TRUE",1250],";",["T_WHITESPACE","\n        ",1250],"}",["T_WHITESPACE","\n      ",1251],"}",["T_WHITESPACE","\n      ",1252],["T_COMMENT","\/\/ Load defaults.\n",1253],["T_WHITESPACE","      ",1254],["T_IF","if",1254],["T_WHITESPACE"," ",1254],"(","!",["T_ISSET","isset",1254],"(",["T_VARIABLE","$element",1254],"[",["T_CONSTANT_ENCAPSED_STRING","'#value'",1254],"]",")",")",["T_WHITESPACE"," ",1254],"{",["T_WHITESPACE","\n        ",1254],["T_COMMENT","\/\/ Call #type_value without a second argument to request default_value\n",1255],["T_WHITESPACE","        ",1256],["T_COMMENT","\/\/ handling.\n",1256],["T_WHITESPACE","        ",1257],["T_VARIABLE","$element",1257],"[",["T_CONSTANT_ENCAPSED_STRING","'#value'",1257],"]",["T_WHITESPACE"," ",1257],"=",["T_WHITESPACE"," ",1257],["T_STRING","call_user_func_array",1257],"(",["T_VARIABLE","$value_callable",1257],",",["T_WHITESPACE"," ",1257],["T_ARRAY","array",1257],"(","&",["T_VARIABLE","$element",1257],",",["T_WHITESPACE"," ",1257],["T_STRING","FALSE",1257],",",["T_WHITESPACE"," ",1257],"&",["T_VARIABLE","$form_state",1257],")",")",";",["T_WHITESPACE","\n\n        ",1257],["T_COMMENT","\/\/ Final catch. If we haven't set a value yet, use the explicit default\n",1259],["T_WHITESPACE","        ",1260],["T_COMMENT","\/\/ value. Avoid image buttons (which come with garbage value), so we\n",1260],["T_WHITESPACE","        ",1261],["T_COMMENT","\/\/ only get value for the button actually clicked.\n",1261],["T_WHITESPACE","        ",1262],["T_IF","if",1262],["T_WHITESPACE"," ",1262],"(","!",["T_ISSET","isset",1262],"(",["T_VARIABLE","$element",1262],"[",["T_CONSTANT_ENCAPSED_STRING","'#value'",1262],"]",")",["T_WHITESPACE"," ",1262],["T_BOOLEAN_AND","&&",1262],["T_WHITESPACE"," ",1262],["T_EMPTY","empty",1262],"(",["T_VARIABLE","$element",1262],"[",["T_CONSTANT_ENCAPSED_STRING","'#has_garbage_value'",1262],"]",")",")",["T_WHITESPACE"," ",1262],"{",["T_WHITESPACE","\n          ",1262],["T_VARIABLE","$element",1263],"[",["T_CONSTANT_ENCAPSED_STRING","'#value'",1263],"]",["T_WHITESPACE"," ",1263],"=",["T_WHITESPACE"," ",1263],["T_ISSET","isset",1263],"(",["T_VARIABLE","$element",1263],"[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",1263],"]",")",["T_WHITESPACE"," ",1263],"?",["T_WHITESPACE"," ",1263],["T_VARIABLE","$element",1263],"[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",1263],"]",["T_WHITESPACE"," ",1263],":",["T_WHITESPACE"," ",1263],["T_CONSTANT_ENCAPSED_STRING","''",1263],";",["T_WHITESPACE","\n        ",1263],"}",["T_WHITESPACE","\n      ",1264],"}",["T_WHITESPACE","\n    ",1265],"}",["T_WHITESPACE","\n\n    ",1266],["T_COMMENT","\/\/ Determine which element (if any) triggered the submission of the form and\n",1268],["T_WHITESPACE","    ",1269],["T_COMMENT","\/\/ keep track of all the clickable buttons in the form for\n",1269],["T_WHITESPACE","    ",1270],["T_COMMENT","\/\/ \\Drupal\\Core\\Form\\FormState::cleanValues(). Enforce the same input\n",1270],["T_WHITESPACE","    ",1271],["T_COMMENT","\/\/ processing restrictions as above.\n",1271],["T_WHITESPACE","    ",1272],["T_IF","if",1272],["T_WHITESPACE"," ",1272],"(",["T_VARIABLE","$process_input",1272],")",["T_WHITESPACE"," ",1272],"{",["T_WHITESPACE","\n      ",1272],["T_COMMENT","\/\/ Detect if the element triggered the submission via Ajax.\n",1273],["T_WHITESPACE","      ",1274],["T_IF","if",1274],["T_WHITESPACE"," ",1274],"(",["T_VARIABLE","$this",1274],["T_OBJECT_OPERATOR","->",1274],["T_STRING","elementTriggeredScriptedSubmission",1274],"(",["T_VARIABLE","$element",1274],",",["T_WHITESPACE"," ",1274],["T_VARIABLE","$form_state",1274],")",")",["T_WHITESPACE"," ",1274],"{",["T_WHITESPACE","\n        ",1274],["T_VARIABLE","$form_state",1275],["T_OBJECT_OPERATOR","->",1275],["T_STRING","setTriggeringElement",1275],"(",["T_VARIABLE","$element",1275],")",";",["T_WHITESPACE","\n      ",1275],"}",["T_WHITESPACE","\n\n      ",1276],["T_COMMENT","\/\/ If the form was submitted by the browser rather than via Ajax, then it\n",1278],["T_WHITESPACE","      ",1279],["T_COMMENT","\/\/ can only have been triggered by a button, and we need to determine\n",1279],["T_WHITESPACE","      ",1280],["T_COMMENT","\/\/ which button within the constraints of how browsers provide this\n",1280],["T_WHITESPACE","      ",1281],["T_COMMENT","\/\/ information.\n",1281],["T_WHITESPACE","      ",1282],["T_IF","if",1282],["T_WHITESPACE"," ",1282],"(","!",["T_EMPTY","empty",1282],"(",["T_VARIABLE","$element",1282],"[",["T_CONSTANT_ENCAPSED_STRING","'#is_button'",1282],"]",")",")",["T_WHITESPACE"," ",1282],"{",["T_WHITESPACE","\n        ",1282],["T_COMMENT","\/\/ All buttons in the form need to be tracked for\n",1283],["T_WHITESPACE","        ",1284],["T_COMMENT","\/\/ \\Drupal\\Core\\Form\\FormState::cleanValues() and for the\n",1284],["T_WHITESPACE","        ",1285],["T_COMMENT","\/\/ self::doBuildForm() code that handles a form submission containing no\n",1285],["T_WHITESPACE","        ",1286],["T_COMMENT","\/\/ button information in \\Drupal::request()->request.\n",1286],["T_WHITESPACE","        ",1287],["T_VARIABLE","$buttons",1287],["T_WHITESPACE"," ",1287],"=",["T_WHITESPACE"," ",1287],["T_VARIABLE","$form_state",1287],["T_OBJECT_OPERATOR","->",1287],["T_STRING","getButtons",1287],"(",")",";",["T_WHITESPACE","\n        ",1287],["T_VARIABLE","$buttons",1288],"[","]",["T_WHITESPACE"," ",1288],"=",["T_WHITESPACE"," ",1288],["T_VARIABLE","$element",1288],";",["T_WHITESPACE","\n        ",1288],["T_VARIABLE","$form_state",1289],["T_OBJECT_OPERATOR","->",1289],["T_STRING","setButtons",1289],"(",["T_VARIABLE","$buttons",1289],")",";",["T_WHITESPACE","\n        ",1289],["T_IF","if",1290],["T_WHITESPACE"," ",1290],"(",["T_VARIABLE","$this",1290],["T_OBJECT_OPERATOR","->",1290],["T_STRING","buttonWasClicked",1290],"(",["T_VARIABLE","$element",1290],",",["T_WHITESPACE"," ",1290],["T_VARIABLE","$form_state",1290],")",")",["T_WHITESPACE"," ",1290],"{",["T_WHITESPACE","\n          ",1290],["T_VARIABLE","$form_state",1291],["T_OBJECT_OPERATOR","->",1291],["T_STRING","setTriggeringElement",1291],"(",["T_VARIABLE","$element",1291],")",";",["T_WHITESPACE","\n        ",1291],"}",["T_WHITESPACE","\n      ",1292],"}",["T_WHITESPACE","\n    ",1293],"}",["T_WHITESPACE","\n\n    ",1294],["T_COMMENT","\/\/ Set the element's value in $form_state->getValues(), but only, if its key\n",1296],["T_WHITESPACE","    ",1297],["T_COMMENT","\/\/ does not exist yet (a #value_callback may have already populated it).\n",1297],["T_WHITESPACE","    ",1298],["T_IF","if",1298],["T_WHITESPACE"," ",1298],"(","!",["T_STRING","NestedArray",1298],["T_DOUBLE_COLON","::",1298],["T_STRING","keyExists",1298],"(",["T_VARIABLE","$form_state",1298],["T_OBJECT_OPERATOR","->",1298],["T_STRING","getValues",1298],"(",")",",",["T_WHITESPACE"," ",1298],["T_VARIABLE","$element",1298],"[",["T_CONSTANT_ENCAPSED_STRING","'#parents'",1298],"]",")",")",["T_WHITESPACE"," ",1298],"{",["T_WHITESPACE","\n      ",1298],["T_VARIABLE","$form_state",1299],["T_OBJECT_OPERATOR","->",1299],["T_STRING","setValueForElement",1299],"(",["T_VARIABLE","$element",1299],",",["T_WHITESPACE"," ",1299],["T_VARIABLE","$element",1299],"[",["T_CONSTANT_ENCAPSED_STRING","'#value'",1299],"]",")",";",["T_WHITESPACE","\n    ",1299],"}",["T_WHITESPACE","\n  ",1300],"}",["T_WHITESPACE","\n\n  ",1301],["T_DOC_COMMENT","\/**\n   * Detects if an element triggered the form submission via Ajax.\n   *\n   * This detects button or non-button controls that trigger a form submission\n   * via Ajax or some other scriptable environment. These environments can set\n   * the special input key '_triggering_element_name' to identify the triggering\n   * element. If the name alone doesn't identify the element uniquely, the input\n   * key '_triggering_element_value' may also be set to require a match on\n   * element value. An example where this is needed is if there are several\n   * \/\/ buttons all named 'op', and only differing in their value.\n   *\/",1303],["T_WHITESPACE","\n  ",1313],["T_PROTECTED","protected",1314],["T_WHITESPACE"," ",1314],["T_FUNCTION","function",1314],["T_WHITESPACE"," ",1314],["T_STRING","elementTriggeredScriptedSubmission",1314],"(",["T_VARIABLE","$element",1314],",",["T_WHITESPACE"," ",1314],["T_STRING","FormStateInterface",1314],["T_WHITESPACE"," ",1314],"&",["T_VARIABLE","$form_state",1314],")",["T_WHITESPACE"," ",1314],"{",["T_WHITESPACE","\n    ",1314],["T_VARIABLE","$input",1315],["T_WHITESPACE"," ",1315],"=",["T_WHITESPACE"," ",1315],["T_VARIABLE","$form_state",1315],["T_OBJECT_OPERATOR","->",1315],["T_STRING","getUserInput",1315],"(",")",";",["T_WHITESPACE","\n    ",1315],["T_IF","if",1316],["T_WHITESPACE"," ",1316],"(","!",["T_EMPTY","empty",1316],"(",["T_VARIABLE","$input",1316],"[",["T_CONSTANT_ENCAPSED_STRING","'_triggering_element_name'",1316],"]",")",["T_WHITESPACE"," ",1316],["T_BOOLEAN_AND","&&",1316],["T_WHITESPACE"," ",1316],["T_VARIABLE","$element",1316],"[",["T_CONSTANT_ENCAPSED_STRING","'#name'",1316],"]",["T_WHITESPACE"," ",1316],["T_IS_EQUAL","==",1316],["T_WHITESPACE"," ",1316],["T_VARIABLE","$input",1316],"[",["T_CONSTANT_ENCAPSED_STRING","'_triggering_element_name'",1316],"]",")",["T_WHITESPACE"," ",1316],"{",["T_WHITESPACE","\n      ",1316],["T_IF","if",1317],["T_WHITESPACE"," ",1317],"(",["T_EMPTY","empty",1317],"(",["T_VARIABLE","$input",1317],"[",["T_CONSTANT_ENCAPSED_STRING","'_triggering_element_value'",1317],"]",")",["T_WHITESPACE"," ",1317],["T_BOOLEAN_OR","||",1317],["T_WHITESPACE"," ",1317],["T_VARIABLE","$input",1317],"[",["T_CONSTANT_ENCAPSED_STRING","'_triggering_element_value'",1317],"]",["T_WHITESPACE"," ",1317],["T_IS_EQUAL","==",1317],["T_WHITESPACE"," ",1317],["T_VARIABLE","$element",1317],"[",["T_CONSTANT_ENCAPSED_STRING","'#value'",1317],"]",")",["T_WHITESPACE"," ",1317],"{",["T_WHITESPACE","\n        ",1317],["T_RETURN","return",1318],["T_WHITESPACE"," ",1318],["T_STRING","TRUE",1318],";",["T_WHITESPACE","\n      ",1318],"}",["T_WHITESPACE","\n    ",1319],"}",["T_WHITESPACE","\n    ",1320],["T_RETURN","return",1321],["T_WHITESPACE"," ",1321],["T_STRING","FALSE",1321],";",["T_WHITESPACE","\n  ",1321],"}",["T_WHITESPACE","\n\n  ",1322],["T_DOC_COMMENT","\/**\n   * Determines if a given button triggered the form submission.\n   *\n   * This detects button controls that trigger a form submission by being\n   * clicked and having the click processed by the browser rather than being\n   * captured by JavaScript. Essentially, it detects if the button's name and\n   * value are part of the POST data, but with extra code to deal with the\n   * convoluted way in which browsers submit data for image button clicks.\n   *\n   * This does not detect button clicks processed by Ajax (that is done in\n   * self::elementTriggeredScriptedSubmission()) and it does not detect form\n   * submissions from Internet Explorer in response to an ENTER key pressed in a\n   * textfield (self::doBuildForm() has extra code for that).\n   *\n   * Because this function contains only part of the logic needed to determine\n   * $form_state->getTriggeringElement(), it should not be called from anywhere\n   * other than within the Form API. Form validation and submit handlers needing\n   * to know which button was clicked should get that information from\n   * $form_state->getTriggeringElement().\n   *\/",1324],["T_WHITESPACE","\n  ",1343],["T_PROTECTED","protected",1344],["T_WHITESPACE"," ",1344],["T_FUNCTION","function",1344],["T_WHITESPACE"," ",1344],["T_STRING","buttonWasClicked",1344],"(",["T_VARIABLE","$element",1344],",",["T_WHITESPACE"," ",1344],["T_STRING","FormStateInterface",1344],["T_WHITESPACE"," ",1344],"&",["T_VARIABLE","$form_state",1344],")",["T_WHITESPACE"," ",1344],"{",["T_WHITESPACE","\n    ",1344],["T_COMMENT","\/\/ First detect normal 'vanilla' button clicks. Traditionally, all standard\n",1345],["T_WHITESPACE","    ",1346],["T_COMMENT","\/\/ buttons on a form share the same name (usually 'op'), and the specific\n",1346],["T_WHITESPACE","    ",1347],["T_COMMENT","\/\/ return value is used to determine which was clicked. This ONLY works as\n",1347],["T_WHITESPACE","    ",1348],["T_COMMENT","\/\/ long as $form['#name'] puts the value at the top level of the tree of\n",1348],["T_WHITESPACE","    ",1349],["T_COMMENT","\/\/ \\Drupal::request()->request data.\n",1349],["T_WHITESPACE","    ",1350],["T_VARIABLE","$input",1350],["T_WHITESPACE"," ",1350],"=",["T_WHITESPACE"," ",1350],["T_VARIABLE","$form_state",1350],["T_OBJECT_OPERATOR","->",1350],["T_STRING","getUserInput",1350],"(",")",";",["T_WHITESPACE","\n    ",1350],["T_COMMENT","\/\/ The input value attribute is treated as CDATA by browsers. This means\n",1351],["T_WHITESPACE","    ",1352],["T_COMMENT","\/\/ that they replace character entities with characters. Therefore, we need\n",1352],["T_WHITESPACE","    ",1353],["T_COMMENT","\/\/ to decode the value in $element['#value']. For more details see\n",1353],["T_WHITESPACE","    ",1354],["T_COMMENT","\/\/ http:\/\/www.w3.org\/TR\/html401\/types.html#type-cdata.\n",1354],["T_WHITESPACE","    ",1355],["T_IF","if",1355],["T_WHITESPACE"," ",1355],"(",["T_ISSET","isset",1355],"(",["T_VARIABLE","$input",1355],"[",["T_VARIABLE","$element",1355],"[",["T_CONSTANT_ENCAPSED_STRING","'#name'",1355],"]","]",")",["T_WHITESPACE"," ",1355],["T_BOOLEAN_AND","&&",1355],["T_WHITESPACE"," ",1355],["T_VARIABLE","$input",1355],"[",["T_VARIABLE","$element",1355],"[",["T_CONSTANT_ENCAPSED_STRING","'#name'",1355],"]","]",["T_WHITESPACE"," ",1355],["T_IS_EQUAL","==",1355],["T_WHITESPACE"," ",1355],["T_STRING","Html",1355],["T_DOUBLE_COLON","::",1355],["T_STRING","decodeEntities",1355],"(",["T_VARIABLE","$element",1355],"[",["T_CONSTANT_ENCAPSED_STRING","'#value'",1355],"]",")",")",["T_WHITESPACE"," ",1355],"{",["T_WHITESPACE","\n      ",1355],["T_RETURN","return",1356],["T_WHITESPACE"," ",1356],["T_STRING","TRUE",1356],";",["T_WHITESPACE","\n    ",1356],"}",["T_WHITESPACE","\n    ",1357],["T_COMMENT","\/\/ When image buttons are clicked, browsers do NOT pass the form element\n",1358],["T_WHITESPACE","    ",1359],["T_COMMENT","\/\/ value in \\Drupal::request()->Request. Instead they pass an integer\n",1359],["T_WHITESPACE","    ",1360],["T_COMMENT","\/\/ representing the coordinates of the click on the button image. This means\n",1360],["T_WHITESPACE","    ",1361],["T_COMMENT","\/\/ that image buttons MUST have unique $form['#name'] values, but the\n",1361],["T_WHITESPACE","    ",1362],["T_COMMENT","\/\/ details of their \\Drupal::request()->request data should be ignored.\n",1362],["T_WHITESPACE","    ",1363],["T_ELSEIF","elseif",1363],["T_WHITESPACE"," ",1363],"(","!",["T_EMPTY","empty",1363],"(",["T_VARIABLE","$element",1363],"[",["T_CONSTANT_ENCAPSED_STRING","'#has_garbage_value'",1363],"]",")",["T_WHITESPACE"," ",1363],["T_BOOLEAN_AND","&&",1363],["T_WHITESPACE"," ",1363],["T_ISSET","isset",1363],"(",["T_VARIABLE","$element",1363],"[",["T_CONSTANT_ENCAPSED_STRING","'#value'",1363],"]",")",["T_WHITESPACE"," ",1363],["T_BOOLEAN_AND","&&",1363],["T_WHITESPACE"," ",1363],["T_VARIABLE","$element",1363],"[",["T_CONSTANT_ENCAPSED_STRING","'#value'",1363],"]",["T_WHITESPACE"," ",1363],["T_IS_NOT_IDENTICAL","!==",1363],["T_WHITESPACE"," ",1363],["T_CONSTANT_ENCAPSED_STRING","''",1363],")",["T_WHITESPACE"," ",1363],"{",["T_WHITESPACE","\n      ",1363],["T_RETURN","return",1364],["T_WHITESPACE"," ",1364],["T_STRING","TRUE",1364],";",["T_WHITESPACE","\n    ",1364],"}",["T_WHITESPACE","\n    ",1365],["T_RETURN","return",1366],["T_WHITESPACE"," ",1366],["T_STRING","FALSE",1366],";",["T_WHITESPACE","\n  ",1366],"}",["T_WHITESPACE","\n\n  ",1367],["T_DOC_COMMENT","\/**\n   * Wraps file_upload_max_size().\n   *\n   * @return string\n   *   A translated string representation of the size of the file size limit\n   *   based on the PHP upload_max_filesize and post_max_size.\n   *\/",1369],["T_WHITESPACE","\n  ",1375],["T_PROTECTED","protected",1376],["T_WHITESPACE"," ",1376],["T_FUNCTION","function",1376],["T_WHITESPACE"," ",1376],["T_STRING","getFileUploadMaxSize",1376],"(",")",["T_WHITESPACE"," ",1376],"{",["T_WHITESPACE","\n    ",1376],["T_RETURN","return",1377],["T_WHITESPACE"," ",1377],["T_STRING","file_upload_max_size",1377],"(",")",";",["T_WHITESPACE","\n  ",1377],"}",["T_WHITESPACE","\n\n  ",1378],["T_DOC_COMMENT","\/**\n   * Gets the current active user.\n   *\n   * @return \\Drupal\\Core\\Session\\AccountInterface\n   *\/",1380],["T_WHITESPACE","\n  ",1384],["T_PROTECTED","protected",1385],["T_WHITESPACE"," ",1385],["T_FUNCTION","function",1385],["T_WHITESPACE"," ",1385],["T_STRING","currentUser",1385],"(",")",["T_WHITESPACE"," ",1385],"{",["T_WHITESPACE","\n    ",1385],["T_IF","if",1386],["T_WHITESPACE"," ",1386],"(","!",["T_VARIABLE","$this",1386],["T_OBJECT_OPERATOR","->",1386],["T_STRING","currentUser",1386],["T_WHITESPACE"," ",1386],["T_BOOLEAN_AND","&&",1386],["T_WHITESPACE"," ",1386],["T_NS_SEPARATOR","\\",1386],["T_STRING","Drupal",1386],["T_DOUBLE_COLON","::",1386],["T_STRING","hasService",1386],"(",["T_CONSTANT_ENCAPSED_STRING","'current_user'",1386],")",")",["T_WHITESPACE"," ",1386],"{",["T_WHITESPACE","\n      ",1386],["T_VARIABLE","$this",1387],["T_OBJECT_OPERATOR","->",1387],["T_STRING","currentUser",1387],["T_WHITESPACE"," ",1387],"=",["T_WHITESPACE"," ",1387],["T_NS_SEPARATOR","\\",1387],["T_STRING","Drupal",1387],["T_DOUBLE_COLON","::",1387],["T_STRING","currentUser",1387],"(",")",";",["T_WHITESPACE","\n    ",1387],"}",["T_WHITESPACE","\n    ",1388],["T_RETURN","return",1389],["T_WHITESPACE"," ",1389],["T_VARIABLE","$this",1389],["T_OBJECT_OPERATOR","->",1389],["T_STRING","currentUser",1389],";",["T_WHITESPACE","\n  ",1389],"}",["T_WHITESPACE","\n\n",1390],"}",["T_WHITESPACE","\n",1392]]