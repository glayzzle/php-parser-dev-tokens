[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Session",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * A proxied implementation of AccountInterface.\n *\n * The reason why we need an account proxy is that we don't want to have global\n * state directly stored in the container.\n *\n * This proxy object avoids multiple invocations of the authentication manager\n * which can happen if the current user is accessed in constructors. It also\n * allows legacy code to change the current user where the user cannot be\n * directly injected into dependent code.\n *\/",5],["T_WHITESPACE","\n",15],["T_CLASS","class",16],["T_WHITESPACE"," ",16],["T_STRING","AccountProxy",16],["T_WHITESPACE"," ",16],["T_IMPLEMENTS","implements",16],["T_WHITESPACE"," ",16],["T_STRING","AccountProxyInterface",16],["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n\n  ",16],["T_DOC_COMMENT","\/**\n   * The instantiated account.\n   *\n   * @var \\Drupal\\Core\\Session\\AccountInterface\n   *\/",18],["T_WHITESPACE","\n  ",22],["T_PROTECTED","protected",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$account",23],";",["T_WHITESPACE","\n\n  ",23],["T_DOC_COMMENT","\/**\n   * Initial account id.\n   *\n   * @var int\n   *\/",25],["T_WHITESPACE","\n  ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$initialAccountId",30],";",["T_WHITESPACE","\n\n  ",30],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",32],["T_WHITESPACE","\n  ",34],["T_PUBLIC","public",35],["T_WHITESPACE"," ",35],["T_FUNCTION","function",35],["T_WHITESPACE"," ",35],["T_STRING","setAccount",35],"(",["T_STRING","AccountInterface",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$account",35],")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n    ",35],["T_COMMENT","\/\/ If the passed account is already proxied, use the actual account instead\n",36],["T_WHITESPACE","    ",37],["T_COMMENT","\/\/ to prevent loops.\n",37],["T_WHITESPACE","    ",38],["T_IF","if",38],["T_WHITESPACE"," ",38],"(",["T_VARIABLE","$account",38],["T_WHITESPACE"," ",38],["T_INSTANCEOF","instanceof",38],["T_WHITESPACE"," ",38],["T_STATIC","static",38],")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n      ",38],["T_VARIABLE","$account",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_VARIABLE","$account",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","getAccount",39],"(",")",";",["T_WHITESPACE","\n    ",39],"}",["T_WHITESPACE","\n    ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","account",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$account",41],";",["T_WHITESPACE","\n    ",41],["T_STRING","date_default_timezone_set",42],"(",["T_STRING","drupal_get_user_timezone",42],"(",")",")",";",["T_WHITESPACE","\n  ",42],"}",["T_WHITESPACE","\n\n  ",43],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",45],["T_WHITESPACE","\n  ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","getAccount",48],"(",")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n    ",48],["T_IF","if",49],["T_WHITESPACE"," ",49],"(","!",["T_ISSET","isset",49],"(",["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","account",49],")",")",["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n      ",49],["T_IF","if",50],["T_WHITESPACE"," ",50],"(",["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","initialAccountId",50],")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n        ",50],["T_COMMENT","\/\/ After the container is rebuilt, DrupalKernel sets the initial\n",51],["T_WHITESPACE","        ",52],["T_COMMENT","\/\/ account to the id of the logged in user. This is necessary in order\n",52],["T_WHITESPACE","        ",53],["T_COMMENT","\/\/ to refresh the user account reference here.\n",53],["T_WHITESPACE","        ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","setAccount",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","loadUserEntity",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","initialAccountId",54],")",")",";",["T_WHITESPACE","\n      ",54],"}",["T_WHITESPACE","\n      ",55],["T_ELSE","else",56],["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","account",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_NEW","new",57],["T_WHITESPACE"," ",57],["T_STRING","AnonymousUserSession",57],"(",")",";",["T_WHITESPACE","\n      ",57],"}",["T_WHITESPACE","\n    ",58],"}",["T_WHITESPACE","\n\n    ",59],["T_RETURN","return",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","account",61],";",["T_WHITESPACE","\n  ",61],"}",["T_WHITESPACE","\n\n  ",62],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",64],["T_WHITESPACE","\n  ",66],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","id",67],"(",")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n    ",67],["T_RETURN","return",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getAccount",68],"(",")",["T_OBJECT_OPERATOR","->",68],["T_STRING","id",68],"(",")",";",["T_WHITESPACE","\n  ",68],"}",["T_WHITESPACE","\n\n  ",69],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",71],["T_WHITESPACE","\n  ",73],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","getRoles",74],"(",["T_VARIABLE","$exclude_locked_roles",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","FALSE",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n    ",74],["T_RETURN","return",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getAccount",75],"(",")",["T_OBJECT_OPERATOR","->",75],["T_STRING","getRoles",75],"(",["T_VARIABLE","$exclude_locked_roles",75],")",";",["T_WHITESPACE","\n  ",75],"}",["T_WHITESPACE","\n\n  ",76],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",78],["T_WHITESPACE","\n  ",80],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","hasPermission",81],"(",["T_VARIABLE","$permission",81],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n    ",81],["T_RETURN","return",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getAccount",82],"(",")",["T_OBJECT_OPERATOR","->",82],["T_STRING","hasPermission",82],"(",["T_VARIABLE","$permission",82],")",";",["T_WHITESPACE","\n  ",82],"}",["T_WHITESPACE","\n\n  ",83],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",85],["T_WHITESPACE","\n  ",87],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","isAuthenticated",88],"(",")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n    ",88],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getAccount",89],"(",")",["T_OBJECT_OPERATOR","->",89],["T_STRING","isAuthenticated",89],"(",")",";",["T_WHITESPACE","\n  ",89],"}",["T_WHITESPACE","\n\n  ",90],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",92],["T_WHITESPACE","\n  ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","isAnonymous",95],"(",")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n    ",95],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getAccount",96],"(",")",["T_OBJECT_OPERATOR","->",96],["T_STRING","isAnonymous",96],"(",")",";",["T_WHITESPACE","\n  ",96],"}",["T_WHITESPACE","\n\n  ",97],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",99],["T_WHITESPACE","\n  ",101],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","getPreferredLangcode",102],"(",["T_VARIABLE","$fallback_to_default",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","TRUE",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n    ",102],["T_RETURN","return",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getAccount",103],"(",")",["T_OBJECT_OPERATOR","->",103],["T_STRING","getPreferredLangcode",103],"(",["T_VARIABLE","$fallback_to_default",103],")",";",["T_WHITESPACE","\n  ",103],"}",["T_WHITESPACE","\n\n  ",104],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",106],["T_WHITESPACE","\n  ",108],["T_PUBLIC","public",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","getPreferredAdminLangcode",109],"(",["T_VARIABLE","$fallback_to_default",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_STRING","TRUE",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n    ",109],["T_RETURN","return",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getAccount",110],"(",")",["T_OBJECT_OPERATOR","->",110],["T_STRING","getPreferredAdminLangcode",110],"(",["T_VARIABLE","$fallback_to_default",110],")",";",["T_WHITESPACE","\n  ",110],"}",["T_WHITESPACE","\n\n  ",111],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",113],["T_WHITESPACE","\n  ",115],["T_PUBLIC","public",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","getUsername",116],"(",")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n    ",116],["T_RETURN","return",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getAccountName",117],"(",")",";",["T_WHITESPACE","\n  ",117],"}",["T_WHITESPACE","\n\n  ",118],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",120],["T_WHITESPACE","\n  ",122],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","getAccountName",123],"(",")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n    ",123],["T_RETURN","return",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getAccount",124],"(",")",["T_OBJECT_OPERATOR","->",124],["T_STRING","getAccountName",124],"(",")",";",["T_WHITESPACE","\n  ",124],"}",["T_WHITESPACE","\n\n  ",125],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",127],["T_WHITESPACE","\n  ",129],["T_PUBLIC","public",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","getDisplayName",130],"(",")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n    ",130],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getAccount",131],"(",")",["T_OBJECT_OPERATOR","->",131],["T_STRING","getDisplayName",131],"(",")",";",["T_WHITESPACE","\n  ",131],"}",["T_WHITESPACE","\n\n  ",132],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",134],["T_WHITESPACE","\n  ",136],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","getEmail",137],"(",")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n    ",137],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getAccount",138],"(",")",["T_OBJECT_OPERATOR","->",138],["T_STRING","getEmail",138],"(",")",";",["T_WHITESPACE","\n  ",138],"}",["T_WHITESPACE","\n\n  ",139],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",141],["T_WHITESPACE","\n  ",143],["T_PUBLIC","public",144],["T_WHITESPACE"," ",144],["T_FUNCTION","function",144],["T_WHITESPACE"," ",144],["T_STRING","getTimeZone",144],"(",")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n    ",144],["T_RETURN","return",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getAccount",145],"(",")",["T_OBJECT_OPERATOR","->",145],["T_STRING","getTimeZone",145],"(",")",";",["T_WHITESPACE","\n  ",145],"}",["T_WHITESPACE","\n\n  ",146],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",148],["T_WHITESPACE","\n  ",150],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","getLastAccessedTime",151],"(",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n    ",151],["T_RETURN","return",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getAccount",152],"(",")",["T_OBJECT_OPERATOR","->",152],["T_STRING","getLastAccessedTime",152],"(",")",";",["T_WHITESPACE","\n  ",152],"}",["T_WHITESPACE","\n\n  ",153],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",155],["T_WHITESPACE","\n  ",157],["T_PUBLIC","public",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","setInitialAccountId",158],"(",["T_VARIABLE","$account_id",158],")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n    ",158],["T_IF","if",159],["T_WHITESPACE"," ",159],"(",["T_ISSET","isset",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","account",159],")",")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n      ",159],["T_THROW","throw",160],["T_WHITESPACE"," ",160],["T_NEW","new",160],["T_WHITESPACE"," ",160],["T_NS_SEPARATOR","\\",160],["T_STRING","LogicException",160],"(",["T_CONSTANT_ENCAPSED_STRING","'AccountProxyInterface::setInitialAccountId() cannot be called after an account was set on the AccountProxy'",160],")",";",["T_WHITESPACE","\n    ",160],"}",["T_WHITESPACE","\n\n    ",161],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","initialAccountId",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$account_id",163],";",["T_WHITESPACE","\n  ",163],"}",["T_WHITESPACE","\n\n  ",164],["T_DOC_COMMENT","\/**\n   * Load a user entity.\n   *\n   * The entity manager requires additional initialization code and cache\n   * clearing after the list of modules is changed. Therefore it is necessary to\n   * retrieve it as late as possible.\n   *\n   * Because of serialization issues it is currently not possible to inject the\n   * container into the AccountProxy. Thus it is necessary to retrieve the\n   * entity manager statically.\n   *\n   * @see https:\/\/www.drupal.org\/node\/2430447\n   *\n   * @param int $account_id\n   *   The id of an account to load.\n   *\n   * @return \\Drupal\\Core\\Session\\AccountInterface|null\n   *   An account or NULL if none is found.\n   *\/",166],["T_WHITESPACE","\n  ",184],["T_PROTECTED","protected",185],["T_WHITESPACE"," ",185],["T_FUNCTION","function",185],["T_WHITESPACE"," ",185],["T_STRING","loadUserEntity",185],"(",["T_VARIABLE","$account_id",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n    ",185],["T_RETURN","return",186],["T_WHITESPACE"," ",186],["T_NS_SEPARATOR","\\",186],["T_STRING","Drupal",186],["T_DOUBLE_COLON","::",186],["T_STRING","entityManager",186],"(",")",["T_OBJECT_OPERATOR","->",186],["T_STRING","getStorage",186],"(",["T_CONSTANT_ENCAPSED_STRING","'user'",186],")",["T_OBJECT_OPERATOR","->",186],["T_STRING","load",186],"(",["T_VARIABLE","$account_id",186],")",";",["T_WHITESPACE","\n  ",186],"}",["T_WHITESPACE","\n\n",187],"}",["T_WHITESPACE","\n",189]]