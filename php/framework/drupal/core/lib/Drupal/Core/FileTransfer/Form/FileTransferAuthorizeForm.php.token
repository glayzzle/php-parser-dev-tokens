[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","FileTransfer",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Form",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Form",5],["T_NS_SEPARATOR","\\",5],["T_STRING","FormBase",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Form",6],["T_NS_SEPARATOR","\\",6],["T_STRING","FormStateInterface",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Render",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Element",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Symfony",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Component",8],["T_NS_SEPARATOR","\\",8],["T_STRING","DependencyInjection",8],["T_NS_SEPARATOR","\\",8],["T_STRING","ContainerInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Symfony",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Component",9],["T_NS_SEPARATOR","\\",9],["T_STRING","HttpFoundation",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Response",9],";",["T_WHITESPACE","\n\n",9],["T_DOC_COMMENT","\/**\n * Provides the file transfer authorization form.\n *\/",11],["T_WHITESPACE","\n",13],["T_CLASS","class",14],["T_WHITESPACE"," ",14],["T_STRING","FileTransferAuthorizeForm",14],["T_WHITESPACE"," ",14],["T_EXTENDS","extends",14],["T_WHITESPACE"," ",14],["T_STRING","FormBase",14],["T_WHITESPACE"," ",14],"{",["T_WHITESPACE","\n\n  ",14],["T_DOC_COMMENT","\/**\n   * The app root.\n   *\n   * @var string\n   *\/",16],["T_WHITESPACE","\n  ",20],["T_PROTECTED","protected",21],["T_WHITESPACE","  ",21],["T_VARIABLE","$root",21],";",["T_WHITESPACE","\n\n  ",21],["T_DOC_COMMENT","\/**\n   * Constructs a new FileTransferAuthorizeForm object.\n   *\n   * @param string $root\n   *   The app root.\n   *\/",23],["T_WHITESPACE","\n  ",28],["T_PUBLIC","public",29],["T_WHITESPACE"," ",29],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","__construct",29],"(",["T_VARIABLE","$root",29],")",["T_WHITESPACE"," ",29],"{",["T_WHITESPACE","\n    ",29],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","root",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_VARIABLE","$root",30],";",["T_WHITESPACE","\n  ",30],"}",["T_WHITESPACE","\n\n  ",31],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",33],["T_WHITESPACE","\n  ",35],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_STATIC","static",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","create",36],"(",["T_STRING","ContainerInterface",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$container",36],")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n    ",36],["T_RETURN","return",37],["T_WHITESPACE"," ",37],["T_NEW","new",37],["T_WHITESPACE"," ",37],["T_STATIC","static",37],["T_WHITESPACE"," ",37],"(",["T_VARIABLE","$container",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","get",37],"(",["T_CONSTANT_ENCAPSED_STRING","'app.root'",37],")",")",";",["T_WHITESPACE","\n  ",37],"}",["T_WHITESPACE","\n\n  ",38],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",40],["T_WHITESPACE","\n  ",42],["T_PUBLIC","public",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","getFormId",43],"(",")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE","\n    ",43],["T_RETURN","return",44],["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'authorize_filetransfer_form'",44],";",["T_WHITESPACE","\n  ",44],"}",["T_WHITESPACE","\n\n  ",45],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",47],["T_WHITESPACE","\n  ",49],["T_PUBLIC","public",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","buildForm",50],"(",["T_ARRAY","array",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$form",50],",",["T_WHITESPACE"," ",50],["T_STRING","FormStateInterface",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$form_state",50],")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n    ",50],["T_COMMENT","\/\/ Get all the available ways to transfer files.\n",51],["T_WHITESPACE","    ",52],["T_IF","if",52],["T_WHITESPACE"," ",52],"(",["T_EMPTY","empty",52],"(",["T_VARIABLE","$_SESSION",52],"[",["T_CONSTANT_ENCAPSED_STRING","'authorize_filetransfer_info'",52],"]",")",")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n      ",52],["T_STRING","drupal_set_message",53],"(",["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","t",53],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to continue, no available methods of file transfer'",53],")",",",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'error'",53],")",";",["T_WHITESPACE","\n      ",53],["T_RETURN","return",54],["T_WHITESPACE"," ",54],["T_ARRAY","array",54],"(",")",";",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n    ",55],["T_VARIABLE","$available_backends",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$_SESSION",56],"[",["T_CONSTANT_ENCAPSED_STRING","'authorize_filetransfer_info'",56],"]",";",["T_WHITESPACE","\n\n    ",56],["T_IF","if",58],["T_WHITESPACE"," ",58],"(","!",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getRequest",58],"(",")",["T_OBJECT_OPERATOR","->",58],["T_STRING","isSecure",58],"(",")",")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n      ",58],["T_VARIABLE","$form",59],"[",["T_CONSTANT_ENCAPSED_STRING","'information'",59],"]","[",["T_CONSTANT_ENCAPSED_STRING","'https_warning'",59],"]",["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_ARRAY","array",59],"(",["T_WHITESPACE","\n        ",59],["T_CONSTANT_ENCAPSED_STRING","'#prefix'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'<div class=\"messages messages--error\">'",60],",",["T_WHITESPACE","\n        ",60],["T_CONSTANT_ENCAPSED_STRING","'#markup'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","t",61],"(",["T_CONSTANT_ENCAPSED_STRING","'WARNING: You are not using an encrypted connection, so your password will be sent in plain text. <a href=\":https-link\">Learn more<\/a>.'",61],",",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",["T_CONSTANT_ENCAPSED_STRING","':https-link'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.drupal.org\/https-information'",61],")",")",",",["T_WHITESPACE","\n        ",61],["T_CONSTANT_ENCAPSED_STRING","'#suffix'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'<\/div>'",62],",",["T_WHITESPACE","\n      ",62],")",";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_COMMENT","\/\/ Decide on a default backend.\n",66],["T_WHITESPACE","    ",67],["T_VARIABLE","$authorize_filetransfer_default",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$form_state",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getValue",67],"(",["T_ARRAY","array",67],"(",["T_CONSTANT_ENCAPSED_STRING","'connection_settings'",67],",",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'authorize_filetransfer_default'",67],")",")",";",["T_WHITESPACE","\n    ",67],["T_IF","if",68],["T_WHITESPACE"," ",68],"(","!",["T_VARIABLE","$authorize_filetransfer_default",68],")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n      ",68],["T_VARIABLE","$authorize_filetransfer_default",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","key",69],"(",["T_VARIABLE","$available_backends",69],")",";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n\n    ",70],["T_VARIABLE","$form",72],"[",["T_CONSTANT_ENCAPSED_STRING","'information'",72],"]","[",["T_CONSTANT_ENCAPSED_STRING","'main_header'",72],"]",["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_ARRAY","array",72],"(",["T_WHITESPACE","\n      ",72],["T_CONSTANT_ENCAPSED_STRING","'#prefix'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'<h3>'",73],",",["T_WHITESPACE","\n      ",73],["T_CONSTANT_ENCAPSED_STRING","'#markup'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","t",74],"(",["T_CONSTANT_ENCAPSED_STRING","'To continue, provide your server connection details'",74],")",",",["T_WHITESPACE","\n      ",74],["T_CONSTANT_ENCAPSED_STRING","'#suffix'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'<\/h3>'",75],",",["T_WHITESPACE","\n    ",75],")",";",["T_WHITESPACE","\n\n    ",76],["T_VARIABLE","$form",78],"[",["T_CONSTANT_ENCAPSED_STRING","'connection_settings'",78],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#tree'",78],"]",["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_STRING","TRUE",78],";",["T_WHITESPACE","\n    ",78],["T_VARIABLE","$form",79],"[",["T_CONSTANT_ENCAPSED_STRING","'connection_settings'",79],"]","[",["T_CONSTANT_ENCAPSED_STRING","'authorize_filetransfer_default'",79],"]",["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_ARRAY","array",79],"(",["T_WHITESPACE","\n      ",79],["T_CONSTANT_ENCAPSED_STRING","'#type'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'select'",80],",",["T_WHITESPACE","\n      ",80],["T_CONSTANT_ENCAPSED_STRING","'#title'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","t",81],"(",["T_CONSTANT_ENCAPSED_STRING","'Connection method'",81],")",",",["T_WHITESPACE","\n      ",81],["T_CONSTANT_ENCAPSED_STRING","'#default_value'",82],["T_WHITESPACE"," ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$authorize_filetransfer_default",82],",",["T_WHITESPACE","\n      ",82],["T_CONSTANT_ENCAPSED_STRING","'#weight'",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],"-",["T_LNUMBER","10",83],",",["T_WHITESPACE","\n    ",83],")",";",["T_WHITESPACE","\n\n    ",84],["T_COMMENT","\/*\n     * Here we create two submit buttons. For a JS enabled client, they will\n     * only ever see submit_process. However, if a client doesn't have JS\n     * enabled, they will see submit_connection on the first form (when picking\n     * what filetransfer type to use, and submit_process on the second one (which\n     * leads to the actual operation).\n     *\/",86],["T_WHITESPACE","\n    ",92],["T_VARIABLE","$form",93],"[",["T_CONSTANT_ENCAPSED_STRING","'submit_connection'",93],"]",["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_ARRAY","array",93],"(",["T_WHITESPACE","\n      ",93],["T_CONSTANT_ENCAPSED_STRING","'#prefix'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","\"<br style='clear:both'\/>\"",94],",",["T_WHITESPACE","\n      ",94],["T_CONSTANT_ENCAPSED_STRING","'#name'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'enter_connection_settings'",95],",",["T_WHITESPACE","\n      ",95],["T_CONSTANT_ENCAPSED_STRING","'#type'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'submit'",96],",",["T_WHITESPACE","\n      ",96],["T_CONSTANT_ENCAPSED_STRING","'#value'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","t",97],"(",["T_CONSTANT_ENCAPSED_STRING","'Enter connection settings'",97],")",",",["T_WHITESPACE","\n      ",97],["T_CONSTANT_ENCAPSED_STRING","'#weight'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_LNUMBER","100",98],",",["T_WHITESPACE","\n    ",98],")",";",["T_WHITESPACE","\n\n    ",99],["T_VARIABLE","$form",101],"[",["T_CONSTANT_ENCAPSED_STRING","'submit_process'",101],"]",["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_ARRAY","array",101],"(",["T_WHITESPACE","\n      ",101],["T_CONSTANT_ENCAPSED_STRING","'#name'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'process_updates'",102],",",["T_WHITESPACE","\n      ",102],["T_CONSTANT_ENCAPSED_STRING","'#type'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'submit'",103],",",["T_WHITESPACE","\n      ",103],["T_CONSTANT_ENCAPSED_STRING","'#value'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","t",104],"(",["T_CONSTANT_ENCAPSED_STRING","'Continue'",104],")",",",["T_WHITESPACE","\n      ",104],["T_CONSTANT_ENCAPSED_STRING","'#weight'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_LNUMBER","100",105],",",["T_WHITESPACE","\n    ",105],")",";",["T_WHITESPACE","\n\n    ",106],["T_COMMENT","\/\/ Build a container for each connection type.\n",108],["T_WHITESPACE","    ",109],["T_FOREACH","foreach",109],["T_WHITESPACE"," ",109],"(",["T_VARIABLE","$available_backends",109],["T_WHITESPACE"," ",109],["T_AS","as",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$name",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$backend",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n      ",109],["T_VARIABLE","$form",110],"[",["T_CONSTANT_ENCAPSED_STRING","'connection_settings'",110],"]","[",["T_CONSTANT_ENCAPSED_STRING","'authorize_filetransfer_default'",110],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#options'",110],"]","[",["T_VARIABLE","$name",110],"]",["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$backend",110],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",110],"]",";",["T_WHITESPACE","\n      ",110],["T_VARIABLE","$form",111],"[",["T_CONSTANT_ENCAPSED_STRING","'connection_settings'",111],"]","[",["T_VARIABLE","$name",111],"]",["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_ARRAY","array",111],"(",["T_WHITESPACE","\n        ",111],["T_CONSTANT_ENCAPSED_STRING","'#type'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'container'",112],",",["T_WHITESPACE","\n        ",112],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_ARRAY","array",113],"(",["T_CONSTANT_ENCAPSED_STRING","'class'",113],["T_WHITESPACE"," ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_ARRAY","array",113],"(","\"",["T_ENCAPSED_AND_WHITESPACE","filetransfer-",113],["T_VARIABLE","$name",113],"\"",",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'filetransfer'",113],")",")",",",["T_WHITESPACE","\n        ",113],["T_CONSTANT_ENCAPSED_STRING","'#states'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_ARRAY","array",114],"(",["T_WHITESPACE","\n          ",114],["T_CONSTANT_ENCAPSED_STRING","'visible'",115],["T_WHITESPACE"," ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_ARRAY","array",115],"(",["T_WHITESPACE","\n            ",115],["T_CONSTANT_ENCAPSED_STRING","'select[name=\"connection_settings[authorize_filetransfer_default]\"]'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_ARRAY","array",116],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$name",116],")",",",["T_WHITESPACE","\n          ",116],")",",",["T_WHITESPACE","\n        ",117],")",",",["T_WHITESPACE","\n      ",118],")",";",["T_WHITESPACE","\n      ",119],["T_COMMENT","\/\/ We can't use #prefix on the container itself since then the header won't\n",120],["T_WHITESPACE","      ",121],["T_COMMENT","\/\/ be hidden and shown when the containers are being manipulated via JS.\n",121],["T_WHITESPACE","      ",122],["T_VARIABLE","$form",122],"[",["T_CONSTANT_ENCAPSED_STRING","'connection_settings'",122],"]","[",["T_VARIABLE","$name",122],"]","[",["T_CONSTANT_ENCAPSED_STRING","'header'",122],"]",["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_ARRAY","array",122],"(",["T_WHITESPACE","\n        ",122],["T_CONSTANT_ENCAPSED_STRING","'#markup'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'<h4>'",123],["T_WHITESPACE"," ",123],".",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","t",123],"(",["T_CONSTANT_ENCAPSED_STRING","'@backend connection settings'",123],",",["T_WHITESPACE"," ",123],["T_ARRAY","array",123],"(",["T_CONSTANT_ENCAPSED_STRING","'@backend'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$backend",123],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",123],"]",")",")",["T_WHITESPACE"," ",123],".",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'<\/h4>'",123],",",["T_WHITESPACE","\n      ",123],")",";",["T_WHITESPACE","\n\n      ",124],["T_VARIABLE","$form",126],"[",["T_CONSTANT_ENCAPSED_STRING","'connection_settings'",126],"]","[",["T_VARIABLE","$name",126],"]",["T_WHITESPACE"," ",126],["T_PLUS_EQUAL","+=",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","addConnectionSettings",126],"(",["T_VARIABLE","$name",126],")",";",["T_WHITESPACE","\n\n      ",126],["T_COMMENT","\/\/ Start non-JS code.\n",128],["T_WHITESPACE","      ",129],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_VARIABLE","$form_state",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getValue",129],"(",["T_ARRAY","array",129],"(",["T_CONSTANT_ENCAPSED_STRING","'connection_settings'",129],",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'authorize_filetransfer_default'",129],")",")",["T_WHITESPACE"," ",129],["T_IS_EQUAL","==",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$name",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n\n        ",129],["T_COMMENT","\/\/ Change the submit button to the submit_process one.\n",131],["T_WHITESPACE","        ",132],["T_VARIABLE","$form",132],"[",["T_CONSTANT_ENCAPSED_STRING","'submit_process'",132],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",132],"]",["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_ARRAY","array",132],"(",")",";",["T_WHITESPACE","\n        ",132],["T_UNSET","unset",133],"(",["T_VARIABLE","$form",133],"[",["T_CONSTANT_ENCAPSED_STRING","'submit_connection'",133],"]",")",";",["T_WHITESPACE","\n\n        ",133],["T_COMMENT","\/\/ Activate the proper filetransfer settings form.\n",135],["T_WHITESPACE","        ",136],["T_VARIABLE","$form",136],"[",["T_CONSTANT_ENCAPSED_STRING","'connection_settings'",136],"]","[",["T_VARIABLE","$name",136],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",136],"]","[",["T_CONSTANT_ENCAPSED_STRING","'style'",136],"]",["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'display:block'",136],";",["T_WHITESPACE","\n        ",136],["T_COMMENT","\/\/ Disable the select box.\n",137],["T_WHITESPACE","        ",138],["T_VARIABLE","$form",138],"[",["T_CONSTANT_ENCAPSED_STRING","'connection_settings'",138],"]","[",["T_CONSTANT_ENCAPSED_STRING","'authorize_filetransfer_default'",138],"]","[",["T_CONSTANT_ENCAPSED_STRING","'#disabled'",138],"]",["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_STRING","TRUE",138],";",["T_WHITESPACE","\n\n        ",138],["T_COMMENT","\/\/ Create a button for changing the type of connection.\n",140],["T_WHITESPACE","        ",141],["T_VARIABLE","$form",141],"[",["T_CONSTANT_ENCAPSED_STRING","'connection_settings'",141],"]","[",["T_CONSTANT_ENCAPSED_STRING","'change_connection_type'",141],"]",["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_ARRAY","array",141],"(",["T_WHITESPACE","\n          ",141],["T_CONSTANT_ENCAPSED_STRING","'#name'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'change_connection_type'",142],",",["T_WHITESPACE","\n          ",142],["T_CONSTANT_ENCAPSED_STRING","'#type'",143],["T_WHITESPACE"," ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'submit'",143],",",["T_WHITESPACE","\n          ",143],["T_CONSTANT_ENCAPSED_STRING","'#value'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","t",144],"(",["T_CONSTANT_ENCAPSED_STRING","'Change connection type'",144],")",",",["T_WHITESPACE","\n          ",144],["T_CONSTANT_ENCAPSED_STRING","'#weight'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],"-",["T_LNUMBER","5",145],",",["T_WHITESPACE","\n          ",145],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_ARRAY","array",146],"(",["T_CONSTANT_ENCAPSED_STRING","'class'",146],["T_WHITESPACE"," ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_ARRAY","array",146],"(",["T_CONSTANT_ENCAPSED_STRING","'filetransfer-change-connection-type'",146],")",")",",",["T_WHITESPACE","\n        ",146],")",";",["T_WHITESPACE","\n      ",147],"}",["T_WHITESPACE","\n      ",148],["T_COMMENT","\/\/ End non-JS code.\n",149],["T_WHITESPACE","    ",150],"}",["T_WHITESPACE","\n    ",150],["T_RETURN","return",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$form",151],";",["T_WHITESPACE","\n  ",151],"}",["T_WHITESPACE","\n\n  ",152],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",154],["T_WHITESPACE","\n  ",156],["T_PUBLIC","public",157],["T_WHITESPACE"," ",157],["T_FUNCTION","function",157],["T_WHITESPACE"," ",157],["T_STRING","validateForm",157],"(",["T_ARRAY","array",157],["T_WHITESPACE"," ",157],"&",["T_VARIABLE","$form",157],",",["T_WHITESPACE"," ",157],["T_STRING","FormStateInterface",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$form_state",157],")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n    ",157],["T_COMMENT","\/\/ Only validate the form if we have collected all of the user input and are\n",158],["T_WHITESPACE","    ",159],["T_COMMENT","\/\/ ready to proceed with updating or installing.\n",159],["T_WHITESPACE","    ",160],["T_IF","if",160],["T_WHITESPACE"," ",160],"(",["T_VARIABLE","$form_state",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getTriggeringElement",160],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","'#name'",160],"]",["T_WHITESPACE"," ",160],["T_IS_NOT_EQUAL","!=",160],["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'process_updates'",160],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n      ",160],["T_RETURN","return",161],";",["T_WHITESPACE","\n    ",161],"}",["T_WHITESPACE","\n\n    ",162],["T_IF","if",164],["T_WHITESPACE"," ",164],"(",["T_VARIABLE","$form_connection_settings",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$form_state",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getValue",164],"(",["T_CONSTANT_ENCAPSED_STRING","'connection_settings'",164],")",")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n      ",164],["T_VARIABLE","$backend",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$form_connection_settings",165],"[",["T_CONSTANT_ENCAPSED_STRING","'authorize_filetransfer_default'",165],"]",";",["T_WHITESPACE","\n      ",165],["T_VARIABLE","$filetransfer",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getFiletransfer",166],"(",["T_VARIABLE","$backend",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$form_connection_settings",166],"[",["T_VARIABLE","$backend",166],"]",")",";",["T_WHITESPACE","\n      ",166],["T_TRY","try",167],["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n        ",167],["T_IF","if",168],["T_WHITESPACE"," ",168],"(","!",["T_VARIABLE","$filetransfer",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n          ",168],["T_THROW","throw",169],["T_WHITESPACE"," ",169],["T_NEW","new",169],["T_WHITESPACE"," ",169],["T_NS_SEPARATOR","\\",169],["T_STRING","Exception",169],"(",["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","t",169],"(",["T_CONSTANT_ENCAPSED_STRING","'The connection protocol %backend does not exist.'",169],",",["T_WHITESPACE"," ",169],["T_ARRAY","array",169],"(",["T_CONSTANT_ENCAPSED_STRING","'%backend'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$backend",169],")",")",")",";",["T_WHITESPACE","\n        ",169],"}",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$filetransfer",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","connect",171],"(",")",";",["T_WHITESPACE","\n      ",171],"}",["T_WHITESPACE","\n      ",172],["T_CATCH","catch",173],["T_WHITESPACE"," ",173],"(",["T_NS_SEPARATOR","\\",173],["T_STRING","Exception",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$e",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n        ",173],["T_COMMENT","\/\/ The format of this error message is similar to that used on the\n",174],["T_WHITESPACE","        ",175],["T_COMMENT","\/\/ database connection form in the installer.\n",175],["T_WHITESPACE","        ",176],["T_VARIABLE","$form_state",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","setErrorByName",176],"(",["T_CONSTANT_ENCAPSED_STRING","'connection_settings'",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","t",176],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to connect to the server. The server reports the following message: <p class=\"error\">@message<\/p> For more help installing or updating code on your server, see the <a href=\":handbook_url\">handbook<\/a>.'",176],",",["T_WHITESPACE"," ",176],["T_ARRAY","array",176],"(",["T_WHITESPACE","\n          ",176],["T_CONSTANT_ENCAPSED_STRING","'@message'",177],["T_WHITESPACE"," ",177],["T_DOUBLE_ARROW","=>",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$e",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getMessage",177],"(",")",",",["T_WHITESPACE","\n          ",177],["T_CONSTANT_ENCAPSED_STRING","':handbook_url'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.drupal.org\/documentation\/install\/modules-themes'",178],",",["T_WHITESPACE","\n        ",178],")",")",")",";",["T_WHITESPACE","\n      ",179],"}",["T_WHITESPACE","\n    ",180],"}",["T_WHITESPACE","\n  ",181],"}",["T_WHITESPACE","\n\n  ",182],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",184],["T_WHITESPACE","\n  ",186],["T_PUBLIC","public",187],["T_WHITESPACE"," ",187],["T_FUNCTION","function",187],["T_WHITESPACE"," ",187],["T_STRING","submitForm",187],"(",["T_ARRAY","array",187],["T_WHITESPACE"," ",187],"&",["T_VARIABLE","$form",187],",",["T_WHITESPACE"," ",187],["T_STRING","FormStateInterface",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$form_state",187],")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n    ",187],["T_VARIABLE","$form_connection_settings",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$form_state",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","getValue",188],"(",["T_CONSTANT_ENCAPSED_STRING","'connection_settings'",188],")",";",["T_WHITESPACE","\n    ",188],["T_SWITCH","switch",189],["T_WHITESPACE"," ",189],"(",["T_VARIABLE","$form_state",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getTriggeringElement",189],"(",")","[",["T_CONSTANT_ENCAPSED_STRING","'#name'",189],"]",")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n      ",189],["T_CASE","case",190],["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'process_updates'",190],":",["T_WHITESPACE","\n\n        ",190],["T_COMMENT","\/\/ Save the connection settings to the DB.\n",192],["T_WHITESPACE","        ",193],["T_VARIABLE","$filetransfer_backend",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$form_connection_settings",193],"[",["T_CONSTANT_ENCAPSED_STRING","'authorize_filetransfer_default'",193],"]",";",["T_WHITESPACE","\n\n        ",193],["T_COMMENT","\/\/ If the database is available then try to save our settings. We have\n",195],["T_WHITESPACE","        ",196],["T_COMMENT","\/\/ to make sure it is available since this code could potentially (will\n",196],["T_WHITESPACE","        ",197],["T_COMMENT","\/\/ likely) be called during the installation process, before the\n",197],["T_WHITESPACE","        ",198],["T_COMMENT","\/\/ database is set up.\n",198],["T_WHITESPACE","        ",199],["T_TRY","try",199],["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n          ",199],["T_VARIABLE","$filetransfer",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","getFiletransfer",200],"(",["T_VARIABLE","$filetransfer_backend",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$form_connection_settings",200],"[",["T_VARIABLE","$filetransfer_backend",200],"]",")",";",["T_WHITESPACE","\n\n          ",200],["T_COMMENT","\/\/ Now run the operation.\n",202],["T_WHITESPACE","          ",203],["T_VARIABLE","$response",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","runOperation",203],"(",["T_VARIABLE","$filetransfer",203],")",";",["T_WHITESPACE","\n          ",203],["T_IF","if",204],["T_WHITESPACE"," ",204],"(",["T_VARIABLE","$response",204],["T_WHITESPACE"," ",204],["T_INSTANCEOF","instanceof",204],["T_WHITESPACE"," ",204],["T_STRING","Response",204],")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n            ",204],["T_VARIABLE","$form_state",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","setResponse",205],"(",["T_VARIABLE","$response",205],")",";",["T_WHITESPACE","\n          ",205],"}",["T_WHITESPACE","\n        ",206],"}",["T_WHITESPACE","\n        ",207],["T_CATCH","catch",208],["T_WHITESPACE"," ",208],"(",["T_NS_SEPARATOR","\\",208],["T_STRING","Exception",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$e",208],")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n          ",208],["T_COMMENT","\/\/ If there is no database available, we don't care and just skip\n",209],["T_WHITESPACE","          ",210],["T_COMMENT","\/\/ this part entirely.\n",210],["T_WHITESPACE","        ",211],"}",["T_WHITESPACE","\n\n        ",211],["T_BREAK","break",213],";",["T_WHITESPACE","\n\n      ",213],["T_CASE","case",215],["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","'enter_connection_settings'",215],":",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$form_state",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","setRebuild",216],"(",")",";",["T_WHITESPACE","\n        ",216],["T_BREAK","break",217],";",["T_WHITESPACE","\n\n      ",217],["T_CASE","case",219],["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'change_connection_type'",219],":",["T_WHITESPACE","\n        ",219],["T_VARIABLE","$form_state",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","setRebuild",220],"(",")",";",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$form_state",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","unsetValue",221],"(",["T_ARRAY","array",221],"(",["T_CONSTANT_ENCAPSED_STRING","'connection_settings'",221],",",["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'authorize_filetransfer_default'",221],")",")",";",["T_WHITESPACE","\n        ",221],["T_BREAK","break",222],";",["T_WHITESPACE","\n    ",222],"}",["T_WHITESPACE","\n  ",223],"}",["T_WHITESPACE","\n\n  ",224],["T_DOC_COMMENT","\/**\n   * Gets a FileTransfer class for a specific transfer method and settings.\n   *\n   * @param $backend\n   *   The FileTransfer backend to get the class for.\n   * @param $settings\n   *   Array of settings for the FileTransfer.\n   *\n   * @return \\Drupal\\Core\\FileTransfer\\FileTransfer|bool\n   *   An instantiated FileTransfer object for the requested method and settings,\n   *   or FALSE if there was an error finding or instantiating it.\n   *\/",226],["T_WHITESPACE","\n  ",237],["T_PROTECTED","protected",238],["T_WHITESPACE"," ",238],["T_FUNCTION","function",238],["T_WHITESPACE"," ",238],["T_STRING","getFiletransfer",238],"(",["T_VARIABLE","$backend",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$settings",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_ARRAY","array",238],"(",")",")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n    ",238],["T_VARIABLE","$filetransfer",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_STRING","FALSE",239],";",["T_WHITESPACE","\n    ",239],["T_IF","if",240],["T_WHITESPACE"," ",240],"(","!",["T_EMPTY","empty",240],"(",["T_VARIABLE","$_SESSION",240],"[",["T_CONSTANT_ENCAPSED_STRING","'authorize_filetransfer_info'",240],"]","[",["T_VARIABLE","$backend",240],"]",")",")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n      ",240],["T_VARIABLE","$backend_info",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_VARIABLE","$_SESSION",241],"[",["T_CONSTANT_ENCAPSED_STRING","'authorize_filetransfer_info'",241],"]","[",["T_VARIABLE","$backend",241],"]",";",["T_WHITESPACE","\n      ",241],["T_IF","if",242],["T_WHITESPACE"," ",242],"(",["T_STRING","class_exists",242],"(",["T_VARIABLE","$backend_info",242],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",242],"]",")",")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n        ",242],["T_VARIABLE","$filetransfer",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$backend_info",243],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",243],"]",["T_DOUBLE_COLON","::",243],["T_STRING","factory",243],"(",["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","root",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$settings",243],")",";",["T_WHITESPACE","\n      ",243],"}",["T_WHITESPACE","\n    ",244],"}",["T_WHITESPACE","\n    ",245],["T_RETURN","return",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$filetransfer",246],";",["T_WHITESPACE","\n  ",246],"}",["T_WHITESPACE","\n\n  ",247],["T_DOC_COMMENT","\/**\n   * Generates the Form API array for a given connection backend's settings.\n   *\n   * @param string $backend\n   *   The name of the backend (e.g. 'ftp', 'ssh', etc).\n   *\n   * @return array\n   *   Form API array of connection settings for the given backend.\n   *\n   * @see hook_filetransfer_backends()\n   *\/",249],["T_WHITESPACE","\n  ",259],["T_PROTECTED","protected",260],["T_WHITESPACE"," ",260],["T_FUNCTION","function",260],["T_WHITESPACE"," ",260],["T_STRING","addConnectionSettings",260],"(",["T_VARIABLE","$backend",260],")",["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n    ",260],["T_VARIABLE","$defaults",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_ARRAY","array",261],"(",")",";",["T_WHITESPACE","\n    ",261],["T_VARIABLE","$form",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_ARRAY","array",262],"(",")",";",["T_WHITESPACE","\n\n    ",262],["T_COMMENT","\/\/ Create an instance of the file transfer class to get its settings form.\n",264],["T_WHITESPACE","    ",265],["T_VARIABLE","$filetransfer",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","getFiletransfer",265],"(",["T_VARIABLE","$backend",265],")",";",["T_WHITESPACE","\n    ",265],["T_IF","if",266],["T_WHITESPACE"," ",266],"(",["T_VARIABLE","$filetransfer",266],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n      ",266],["T_VARIABLE","$form",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$filetransfer",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","getSettingsForm",267],"(",")",";",["T_WHITESPACE","\n    ",267],"}",["T_WHITESPACE","\n    ",268],["T_COMMENT","\/\/ Fill in the defaults based on the saved settings, if any.\n",269],["T_WHITESPACE","    ",270],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","setConnectionSettingsDefaults",270],"(",["T_VARIABLE","$form",270],",",["T_WHITESPACE"," ",270],["T_STRING","NULL",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$defaults",270],")",";",["T_WHITESPACE","\n    ",270],["T_RETURN","return",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$form",271],";",["T_WHITESPACE","\n  ",271],"}",["T_WHITESPACE","\n\n  ",272],["T_DOC_COMMENT","\/**\n   * Sets the default settings on a file transfer connection form recursively.\n   *\n   * The default settings for the file transfer connection forms are saved in\n   * the database. The settings are stored as a nested array in the case of a\n   * settings form that has details or otherwise uses a nested structure.\n   * Therefore, to properly add defaults, we need to walk through all the\n   * children form elements and process those defaults recursively.\n   *\n   * @param $element\n   *   Reference to the Form API form element we're operating on.\n   * @param $key\n   *   The key for our current form element, if any.\n   * @param array $defaults\n   *   The default settings for the file transfer backend we're operating on.\n   *\/",274],["T_WHITESPACE","\n  ",289],["T_PROTECTED","protected",290],["T_WHITESPACE"," ",290],["T_FUNCTION","function",290],["T_WHITESPACE"," ",290],["T_STRING","setConnectionSettingsDefaults",290],"(","&",["T_VARIABLE","$element",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$key",290],",",["T_WHITESPACE"," ",290],["T_ARRAY","array",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$defaults",290],")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n    ",290],["T_COMMENT","\/\/ If we're operating on a form element which isn't a details, and we have\n",291],["T_WHITESPACE","    ",292],["T_COMMENT","\/\/ a default setting saved, stash it in #default_value.\n",292],["T_WHITESPACE","    ",293],["T_IF","if",293],["T_WHITESPACE"," ",293],"(","!",["T_EMPTY","empty",293],"(",["T_VARIABLE","$key",293],")",["T_WHITESPACE"," ",293],["T_BOOLEAN_AND","&&",293],["T_WHITESPACE"," ",293],["T_ISSET","isset",293],"(",["T_VARIABLE","$defaults",293],"[",["T_VARIABLE","$key",293],"]",")",["T_WHITESPACE"," ",293],["T_BOOLEAN_AND","&&",293],["T_WHITESPACE"," ",293],["T_ISSET","isset",293],"(",["T_VARIABLE","$element",293],"[",["T_CONSTANT_ENCAPSED_STRING","'#type'",293],"]",")",["T_WHITESPACE"," ",293],["T_BOOLEAN_AND","&&",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$element",293],"[",["T_CONSTANT_ENCAPSED_STRING","'#type'",293],"]",["T_WHITESPACE"," ",293],["T_IS_NOT_EQUAL","!=",293],["T_WHITESPACE"," ",293],["T_CONSTANT_ENCAPSED_STRING","'details'",293],")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n      ",293],["T_VARIABLE","$element",294],"[",["T_CONSTANT_ENCAPSED_STRING","'#default_value'",294],"]",["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_VARIABLE","$defaults",294],"[",["T_VARIABLE","$key",294],"]",";",["T_WHITESPACE","\n    ",294],"}",["T_WHITESPACE","\n    ",295],["T_COMMENT","\/\/ Now, we walk through all the child elements, and recursively invoke\n",296],["T_WHITESPACE","    ",297],["T_COMMENT","\/\/ ourselves on each one. Since the $defaults settings array can be nested\n",297],["T_WHITESPACE","    ",298],["T_COMMENT","\/\/ (because of #tree, any values inside details will be nested), if\n",298],["T_WHITESPACE","    ",299],["T_COMMENT","\/\/ there's a subarray of settings for the form key we're currently\n",299],["T_WHITESPACE","    ",300],["T_COMMENT","\/\/ processing, pass in that subarray to the recursive call. Otherwise, just\n",300],["T_WHITESPACE","    ",301],["T_COMMENT","\/\/ pass on the whole $defaults array.\n",301],["T_WHITESPACE","    ",302],["T_FOREACH","foreach",302],["T_WHITESPACE"," ",302],"(",["T_STRING","Element",302],["T_DOUBLE_COLON","::",302],["T_STRING","children",302],"(",["T_VARIABLE","$element",302],")",["T_WHITESPACE"," ",302],["T_AS","as",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$child_key",302],")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n      ",302],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","setConnectionSettingsDefaults",303],"(",["T_VARIABLE","$element",303],"[",["T_VARIABLE","$child_key",303],"]",",",["T_WHITESPACE"," ",303],["T_VARIABLE","$child_key",303],",",["T_WHITESPACE"," ",303],"(","(",["T_ISSET","isset",303],"(",["T_VARIABLE","$defaults",303],"[",["T_VARIABLE","$key",303],"]",")",["T_WHITESPACE"," ",303],["T_BOOLEAN_AND","&&",303],["T_WHITESPACE"," ",303],["T_STRING","is_array",303],"(",["T_VARIABLE","$defaults",303],"[",["T_VARIABLE","$key",303],"]",")",")",["T_WHITESPACE"," ",303],"?",["T_WHITESPACE"," ",303],["T_VARIABLE","$defaults",303],"[",["T_VARIABLE","$key",303],"]",["T_WHITESPACE"," ",303],":",["T_WHITESPACE"," ",303],["T_VARIABLE","$defaults",303],")",")",";",["T_WHITESPACE","\n    ",303],"}",["T_WHITESPACE","\n  ",304],"}",["T_WHITESPACE","\n\n  ",305],["T_DOC_COMMENT","\/**\n   * Runs the operation specified in $_SESSION['authorize_operation'].\n   *\n   * @param $filetransfer\n   *   The FileTransfer object to use for running the operation.\n   *\n   * @return \\Symfony\\Component\\HttpFoundation\\Response|null\n   *   The result of running the operation. If this is an instance of\n   *   \\Symfony\\Component\\HttpFoundation\\Response the calling code should use\n   *   that response for the current page request.\n   *\/",307],["T_WHITESPACE","\n  ",317],["T_PROTECTED","protected",318],["T_WHITESPACE"," ",318],["T_FUNCTION","function",318],["T_WHITESPACE"," ",318],["T_STRING","runOperation",318],"(",["T_VARIABLE","$filetransfer",318],")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n    ",318],["T_VARIABLE","$operation",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_VARIABLE","$_SESSION",319],"[",["T_CONSTANT_ENCAPSED_STRING","'authorize_operation'",319],"]",";",["T_WHITESPACE","\n    ",319],["T_UNSET","unset",320],"(",["T_VARIABLE","$_SESSION",320],"[",["T_CONSTANT_ENCAPSED_STRING","'authorize_operation'",320],"]",")",";",["T_WHITESPACE","\n\n    ",320],["T_REQUIRE_ONCE","require_once",322],["T_WHITESPACE"," ",322],["T_VARIABLE","$operation",322],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",322],"]",";",["T_WHITESPACE","\n    ",322],["T_RETURN","return",323],["T_WHITESPACE"," ",323],["T_STRING","call_user_func_array",323],"(",["T_VARIABLE","$operation",323],"[",["T_CONSTANT_ENCAPSED_STRING","'callback'",323],"]",",",["T_WHITESPACE"," ",323],["T_STRING","array_merge",323],"(",["T_ARRAY","array",323],"(",["T_VARIABLE","$filetransfer",323],")",",",["T_WHITESPACE"," ",323],["T_VARIABLE","$operation",323],"[",["T_CONSTANT_ENCAPSED_STRING","'arguments'",323],"]",")",")",";",["T_WHITESPACE","\n  ",323],"}",["T_WHITESPACE","\n\n",324],"}",["T_WHITESPACE","\n",326]]