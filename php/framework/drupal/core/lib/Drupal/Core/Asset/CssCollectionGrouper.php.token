[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Asset",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Groups CSS assets.\n *\/",5],["T_WHITESPACE","\n",7],["T_CLASS","class",8],["T_WHITESPACE"," ",8],["T_STRING","CssCollectionGrouper",8],["T_WHITESPACE"," ",8],["T_IMPLEMENTS","implements",8],["T_WHITESPACE"," ",8],["T_STRING","AssetCollectionGrouperInterface",8],["T_WHITESPACE"," ",8],"{",["T_WHITESPACE","\n\n  ",8],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\n   * Puts multiple items into the same group if they are groupable and if they\n   * are for the same 'media' and 'browsers'. Items of the 'file' type are\n   * groupable if their 'preprocess' flag is TRUE, and items of the 'external'\n   * type are never groupable.\n   *\n   * Also ensures that the process of grouping items does not change their\n   * relative order. This requirement may result in multiple groups for the same\n   * type, media, and browsers, if needed to accommodate other items in between.\n   *\/",10],["T_WHITESPACE","\n  ",21],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_FUNCTION","function",22],["T_WHITESPACE"," ",22],["T_STRING","group",22],"(",["T_ARRAY","array",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$css_assets",22],")",["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n    ",22],["T_VARIABLE","$groups",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],["T_ARRAY","array",23],"(",")",";",["T_WHITESPACE","\n    ",23],["T_COMMENT","\/\/ If a group can contain multiple items, we track the information that must\n",24],["T_WHITESPACE","    ",25],["T_COMMENT","\/\/ be the same for each item in the group, so that when we iterate the next\n",25],["T_WHITESPACE","    ",26],["T_COMMENT","\/\/ item, we can determine if it can be put into the current group, or if a\n",26],["T_WHITESPACE","    ",27],["T_COMMENT","\/\/ new group needs to be made for it.\n",27],["T_WHITESPACE","    ",28],["T_VARIABLE","$current_group_keys",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_STRING","NULL",28],";",["T_WHITESPACE","\n    ",28],["T_COMMENT","\/\/ When creating a new group, we pre-increment $i, so by initializing it to\n",29],["T_WHITESPACE","    ",30],["T_COMMENT","\/\/ -1, the first group will have index 0.\n",30],["T_WHITESPACE","    ",31],["T_VARIABLE","$i",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],"-",["T_LNUMBER","1",31],";",["T_WHITESPACE","\n    ",31],["T_FOREACH","foreach",32],["T_WHITESPACE"," ",32],"(",["T_VARIABLE","$css_assets",32],["T_WHITESPACE"," ",32],["T_AS","as",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$item",32],")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n      ",32],["T_COMMENT","\/\/ The browsers for which the CSS item needs to be loaded is part of the\n",33],["T_WHITESPACE","      ",34],["T_COMMENT","\/\/ information that determines when a new group is needed, but the order\n",34],["T_WHITESPACE","      ",35],["T_COMMENT","\/\/ of keys in the array doesn't matter, and we don't want a new group if\n",35],["T_WHITESPACE","      ",36],["T_COMMENT","\/\/ all that's different is that order.\n",36],["T_WHITESPACE","      ",37],["T_STRING","ksort",37],"(",["T_VARIABLE","$item",37],"[",["T_CONSTANT_ENCAPSED_STRING","'browsers'",37],"]",")",";",["T_WHITESPACE","\n\n      ",37],["T_COMMENT","\/\/ If the item can be grouped with other items, set $group_keys to an\n",39],["T_WHITESPACE","      ",40],["T_COMMENT","\/\/ array of information that must be the same for all items in its group.\n",40],["T_WHITESPACE","      ",41],["T_COMMENT","\/\/ If the item can't be grouped with other items, set $group_keys to\n",41],["T_WHITESPACE","      ",42],["T_COMMENT","\/\/ FALSE. We put items into a group that can be aggregated together:\n",42],["T_WHITESPACE","      ",43],["T_COMMENT","\/\/ whether they will be aggregated is up to the _drupal_css_aggregate()\n",43],["T_WHITESPACE","      ",44],["T_COMMENT","\/\/ function or an\n",44],["T_WHITESPACE","      ",45],["T_COMMENT","\/\/ override of that function specified in hook_css_alter(), but regardless\n",45],["T_WHITESPACE","      ",46],["T_COMMENT","\/\/ of the details of that function, a group represents items that can be\n",46],["T_WHITESPACE","      ",47],["T_COMMENT","\/\/ aggregated. Since a group may be rendered with a single HTML tag, all\n",47],["T_WHITESPACE","      ",48],["T_COMMENT","\/\/ items in the group must share the same information that would need to\n",48],["T_WHITESPACE","      ",49],["T_COMMENT","\/\/ be part of that HTML tag.\n",49],["T_WHITESPACE","      ",50],["T_SWITCH","switch",50],["T_WHITESPACE"," ",50],"(",["T_VARIABLE","$item",50],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",50],"]",")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n        ",50],["T_CASE","case",51],["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'file'",51],":",["T_WHITESPACE","\n          ",51],["T_COMMENT","\/\/ Group file items if their 'preprocess' flag is TRUE.\n",52],["T_WHITESPACE","          ",53],["T_COMMENT","\/\/ Help ensure maximum reuse of aggregate files by only grouping\n",53],["T_WHITESPACE","          ",54],["T_COMMENT","\/\/ together items that share the same 'group' value.\n",54],["T_WHITESPACE","          ",55],["T_VARIABLE","$group_keys",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$item",55],"[",["T_CONSTANT_ENCAPSED_STRING","'preprocess'",55],"]",["T_WHITESPACE"," ",55],"?",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",["T_VARIABLE","$item",55],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",55],"]",",",["T_WHITESPACE"," ",55],["T_VARIABLE","$item",55],"[",["T_CONSTANT_ENCAPSED_STRING","'group'",55],"]",",",["T_WHITESPACE"," ",55],["T_VARIABLE","$item",55],"[",["T_CONSTANT_ENCAPSED_STRING","'media'",55],"]",",",["T_WHITESPACE"," ",55],["T_VARIABLE","$item",55],"[",["T_CONSTANT_ENCAPSED_STRING","'browsers'",55],"]",")",["T_WHITESPACE"," ",55],":",["T_WHITESPACE"," ",55],["T_STRING","FALSE",55],";",["T_WHITESPACE","\n          ",55],["T_BREAK","break",56],";",["T_WHITESPACE","\n\n        ",56],["T_CASE","case",58],["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'external'",58],":",["T_WHITESPACE","\n          ",58],["T_COMMENT","\/\/ Do not group external items.\n",59],["T_WHITESPACE","          ",60],["T_VARIABLE","$group_keys",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_STRING","FALSE",60],";",["T_WHITESPACE","\n          ",60],["T_BREAK","break",61],";",["T_WHITESPACE","\n      ",61],"}",["T_WHITESPACE","\n\n      ",62],["T_COMMENT","\/\/ If the group keys don't match the most recent group we're working with,\n",64],["T_WHITESPACE","      ",65],["T_COMMENT","\/\/ then a new group must be made.\n",65],["T_WHITESPACE","      ",66],["T_IF","if",66],["T_WHITESPACE"," ",66],"(",["T_VARIABLE","$group_keys",66],["T_WHITESPACE"," ",66],["T_IS_NOT_IDENTICAL","!==",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$current_group_keys",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$i",67],["T_INC","++",67],";",["T_WHITESPACE","\n        ",67],["T_COMMENT","\/\/ Initialize the new group with the same properties as the first item\n",68],["T_WHITESPACE","        ",69],["T_COMMENT","\/\/ being placed into it. The item's 'data', 'weight' and 'basename'\n",69],["T_WHITESPACE","        ",70],["T_COMMENT","\/\/ properties are unique to the item and should not be carried over to\n",70],["T_WHITESPACE","        ",71],["T_COMMENT","\/\/ the group.\n",71],["T_WHITESPACE","        ",72],["T_VARIABLE","$groups",72],"[",["T_VARIABLE","$i",72],"]",["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$item",72],";",["T_WHITESPACE","\n        ",72],["T_UNSET","unset",73],"(",["T_VARIABLE","$groups",73],"[",["T_VARIABLE","$i",73],"]","[",["T_CONSTANT_ENCAPSED_STRING","'data'",73],"]",",",["T_WHITESPACE"," ",73],["T_VARIABLE","$groups",73],"[",["T_VARIABLE","$i",73],"]","[",["T_CONSTANT_ENCAPSED_STRING","'weight'",73],"]",",",["T_WHITESPACE"," ",73],["T_VARIABLE","$groups",73],"[",["T_VARIABLE","$i",73],"]","[",["T_CONSTANT_ENCAPSED_STRING","'basename'",73],"]",")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$groups",74],"[",["T_VARIABLE","$i",74],"]","[",["T_CONSTANT_ENCAPSED_STRING","'items'",74],"]",["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_ARRAY","array",74],"(",")",";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$current_group_keys",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$group_keys",75],["T_WHITESPACE"," ",75],"?",["T_WHITESPACE"," ",75],["T_VARIABLE","$group_keys",75],["T_WHITESPACE"," ",75],":",["T_WHITESPACE"," ",75],["T_STRING","NULL",75],";",["T_WHITESPACE","\n      ",75],"}",["T_WHITESPACE","\n\n      ",76],["T_COMMENT","\/\/ Add the item to the current group.\n",78],["T_WHITESPACE","      ",79],["T_VARIABLE","$groups",79],"[",["T_VARIABLE","$i",79],"]","[",["T_CONSTANT_ENCAPSED_STRING","'items'",79],"]","[","]",["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$item",79],";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_RETURN","return",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$groups",82],";",["T_WHITESPACE","\n  ",82],"}",["T_WHITESPACE","\n\n",83],"}",["T_WHITESPACE","\n",85]]