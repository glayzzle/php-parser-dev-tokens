[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Asset",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Serialization",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Json",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","State",6],["T_NS_SEPARATOR","\\",6],["T_STRING","StateInterface",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Renders JavaScript assets.\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","JsCollectionRenderer",11],["T_WHITESPACE"," ",11],["T_IMPLEMENTS","implements",11],["T_WHITESPACE"," ",11],["T_STRING","AssetCollectionRendererInterface",11],["T_WHITESPACE"," ",11],"{",["T_WHITESPACE","\n\n  ",11],["T_DOC_COMMENT","\/**\n   * The state key\/value store.\n   *\n   * @var \\Drupal\\Core\\State\\StateInterface\n   *\/",13],["T_WHITESPACE","\n  ",17],["T_PROTECTED","protected",18],["T_WHITESPACE"," ",18],["T_VARIABLE","$state",18],";",["T_WHITESPACE","\n\n  ",18],["T_DOC_COMMENT","\/**\n   * Constructs a JsCollectionRenderer.\n   *\n   * @param \\Drupal\\Core\\State\\StateInterface $state\n   *   The state key\/value store.\n   *\/",20],["T_WHITESPACE","\n  ",25],["T_PUBLIC","public",26],["T_WHITESPACE"," ",26],["T_FUNCTION","function",26],["T_WHITESPACE"," ",26],["T_STRING","__construct",26],"(",["T_STRING","StateInterface",26],["T_WHITESPACE"," ",26],["T_VARIABLE","$state",26],")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n    ",26],["T_VARIABLE","$this",27],["T_OBJECT_OPERATOR","->",27],["T_STRING","state",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$state",27],";",["T_WHITESPACE","\n  ",27],"}",["T_WHITESPACE","\n\n  ",28],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\n   * This class evaluates the aggregation enabled\/disabled condition on a group\n   * by group basis by testing whether an aggregate file has been made for the\n   * group rather than by testing the site-wide aggregation setting. This allows\n   * this class to work correctly even if modules have implemented custom\n   * logic for grouping and aggregating files.\n   *\/",30],["T_WHITESPACE","\n  ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","render",39],"(",["T_ARRAY","array",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$js_assets",39],")",["T_WHITESPACE"," ",39],"{",["T_WHITESPACE","\n    ",39],["T_VARIABLE","$elements",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_ARRAY","array",40],"(",")",";",["T_WHITESPACE","\n\n    ",40],["T_COMMENT","\/\/ A dummy query-string is added to filenames, to gain control over\n",42],["T_WHITESPACE","    ",43],["T_COMMENT","\/\/ browser-caching. The string changes on every update or full cache\n",43],["T_WHITESPACE","    ",44],["T_COMMENT","\/\/ flush, forcing browsers to load a new copy of the files, as the\n",44],["T_WHITESPACE","    ",45],["T_COMMENT","\/\/ URL changed. Files that should not be cached get REQUEST_TIME as\n",45],["T_WHITESPACE","    ",46],["T_COMMENT","\/\/ query-string instead, to enforce reload on every page request.\n",46],["T_WHITESPACE","    ",47],["T_VARIABLE","$default_query_string",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","state",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","get",47],"(",["T_CONSTANT_ENCAPSED_STRING","'system.css_js_query_string'",47],")",["T_WHITESPACE"," ",47],"?",":",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'0'",47],";",["T_WHITESPACE","\n\n    ",47],["T_COMMENT","\/\/ Defaults for each SCRIPT element.\n",49],["T_WHITESPACE","    ",50],["T_VARIABLE","$element_defaults",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_ARRAY","array",50],"(",["T_WHITESPACE","\n      ",50],["T_CONSTANT_ENCAPSED_STRING","'#type'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'html_tag'",51],",",["T_WHITESPACE","\n      ",51],["T_CONSTANT_ENCAPSED_STRING","'#tag'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'script'",52],",",["T_WHITESPACE","\n      ",52],["T_CONSTANT_ENCAPSED_STRING","'#value'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","''",53],",",["T_WHITESPACE","\n    ",53],")",";",["T_WHITESPACE","\n\n    ",54],["T_COMMENT","\/\/ Loop through all JS assets.\n",56],["T_WHITESPACE","    ",57],["T_FOREACH","foreach",57],["T_WHITESPACE"," ",57],"(",["T_VARIABLE","$js_assets",57],["T_WHITESPACE"," ",57],["T_AS","as",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$js_asset",57],")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n      ",57],["T_COMMENT","\/\/ Element properties that do not depend on JS asset type.\n",58],["T_WHITESPACE","      ",59],["T_VARIABLE","$element",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$element_defaults",59],";",["T_WHITESPACE","\n      ",59],["T_VARIABLE","$element",60],"[",["T_CONSTANT_ENCAPSED_STRING","'#browsers'",60],"]",["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$js_asset",60],"[",["T_CONSTANT_ENCAPSED_STRING","'browsers'",60],"]",";",["T_WHITESPACE","\n\n      ",60],["T_COMMENT","\/\/ Element properties that depend on item type.\n",62],["T_WHITESPACE","      ",63],["T_SWITCH","switch",63],["T_WHITESPACE"," ",63],"(",["T_VARIABLE","$js_asset",63],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",63],"]",")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n        ",63],["T_CASE","case",64],["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'setting'",64],":",["T_WHITESPACE","\n          ",64],["T_VARIABLE","$element",65],"[",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",65],"]",["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_ARRAY","array",65],"(",["T_WHITESPACE","\n            ",65],["T_COMMENT","\/\/ This type attribute prevents this from being parsed as an\n",66],["T_WHITESPACE","            ",67],["T_COMMENT","\/\/ inline script.\n",67],["T_WHITESPACE","            ",68],["T_CONSTANT_ENCAPSED_STRING","'type'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'application\/json'",68],",",["T_WHITESPACE","\n            ",68],["T_CONSTANT_ENCAPSED_STRING","'data-drupal-selector'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'drupal-settings-json'",69],",",["T_WHITESPACE","\n          ",69],")",";",["T_WHITESPACE","\n          ",70],["T_VARIABLE","$element",71],"[",["T_CONSTANT_ENCAPSED_STRING","'#value'",71],"]",["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","Json",71],["T_DOUBLE_COLON","::",71],["T_STRING","encode",71],"(",["T_VARIABLE","$js_asset",71],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",71],"]",")",";",["T_WHITESPACE","\n          ",71],["T_BREAK","break",72],";",["T_WHITESPACE","\n\n        ",72],["T_CASE","case",74],["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'file'",74],":",["T_WHITESPACE","\n          ",74],["T_VARIABLE","$query_string",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$js_asset",75],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",75],"]",["T_WHITESPACE"," ",75],["T_IS_EQUAL","==",75],["T_WHITESPACE"," ",75],"-",["T_LNUMBER","1",75],["T_WHITESPACE"," ",75],"?",["T_WHITESPACE"," ",75],["T_VARIABLE","$default_query_string",75],["T_WHITESPACE"," ",75],":",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'v='",75],["T_WHITESPACE"," ",75],".",["T_WHITESPACE"," ",75],["T_VARIABLE","$js_asset",75],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",75],"]",";",["T_WHITESPACE","\n          ",75],["T_VARIABLE","$query_string_separator",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],"(",["T_STRING","strpos",76],"(",["T_VARIABLE","$js_asset",76],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",76],"]",",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'?'",76],")",["T_WHITESPACE"," ",76],["T_IS_NOT_IDENTICAL","!==",76],["T_WHITESPACE"," ",76],["T_STRING","FALSE",76],")",["T_WHITESPACE"," ",76],"?",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'&'",76],["T_WHITESPACE"," ",76],":",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'?'",76],";",["T_WHITESPACE","\n          ",76],["T_VARIABLE","$element",77],"[",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",77],"]","[",["T_CONSTANT_ENCAPSED_STRING","'src'",77],"]",["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_STRING","file_url_transform_relative",77],"(",["T_STRING","file_create_url",77],"(",["T_VARIABLE","$js_asset",77],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",77],"]",")",")",";",["T_WHITESPACE","\n          ",77],["T_COMMENT","\/\/ Only add the cache-busting query string if this isn't an aggregate\n",78],["T_WHITESPACE","          ",79],["T_COMMENT","\/\/ file.\n",79],["T_WHITESPACE","          ",80],["T_IF","if",80],["T_WHITESPACE"," ",80],"(","!",["T_ISSET","isset",80],"(",["T_VARIABLE","$js_asset",80],"[",["T_CONSTANT_ENCAPSED_STRING","'preprocessed'",80],"]",")",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$element",81],"[",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",81],"]","[",["T_CONSTANT_ENCAPSED_STRING","'src'",81],"]",["T_WHITESPACE"," ",81],["T_CONCAT_EQUAL",".=",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$query_string_separator",81],["T_WHITESPACE"," ",81],".",["T_WHITESPACE"," ",81],"(",["T_VARIABLE","$js_asset",81],"[",["T_CONSTANT_ENCAPSED_STRING","'cache'",81],"]",["T_WHITESPACE"," ",81],"?",["T_WHITESPACE"," ",81],["T_VARIABLE","$query_string",81],["T_WHITESPACE"," ",81],":",["T_WHITESPACE"," ",81],["T_STRING","REQUEST_TIME",81],")",";",["T_WHITESPACE","\n          ",81],"}",["T_WHITESPACE","\n          ",82],["T_BREAK","break",83],";",["T_WHITESPACE","\n\n        ",83],["T_CASE","case",85],["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'external'",85],":",["T_WHITESPACE","\n          ",85],["T_VARIABLE","$element",86],"[",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",86],"]","[",["T_CONSTANT_ENCAPSED_STRING","'src'",86],"]",["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$js_asset",86],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",86],"]",";",["T_WHITESPACE","\n          ",86],["T_BREAK","break",87],";",["T_WHITESPACE","\n\n        ",87],["T_DEFAULT","default",89],":",["T_WHITESPACE","\n          ",89],["T_THROW","throw",90],["T_WHITESPACE"," ",90],["T_NEW","new",90],["T_WHITESPACE"," ",90],["T_NS_SEPARATOR","\\",90],["T_STRING","Exception",90],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid JS asset type.'",90],")",";",["T_WHITESPACE","\n      ",90],"}",["T_WHITESPACE","\n\n      ",91],["T_COMMENT","\/\/ Attributes may only be set if this script is output independently.\n",93],["T_WHITESPACE","      ",94],["T_IF","if",94],["T_WHITESPACE"," ",94],"(","!",["T_EMPTY","empty",94],"(",["T_VARIABLE","$element",94],"[",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",94],"]","[",["T_CONSTANT_ENCAPSED_STRING","'src'",94],"]",")",["T_WHITESPACE"," ",94],["T_BOOLEAN_AND","&&",94],["T_WHITESPACE"," ",94],"!",["T_EMPTY","empty",94],"(",["T_VARIABLE","$js_asset",94],"[",["T_CONSTANT_ENCAPSED_STRING","'attributes'",94],"]",")",")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$element",95],"[",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",95],"]",["T_WHITESPACE"," ",95],["T_PLUS_EQUAL","+=",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$js_asset",95],"[",["T_CONSTANT_ENCAPSED_STRING","'attributes'",95],"]",";",["T_WHITESPACE","\n      ",95],"}",["T_WHITESPACE","\n\n      ",96],["T_VARIABLE","$elements",98],"[","]",["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$element",98],";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n\n    ",99],["T_RETURN","return",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$elements",101],";",["T_WHITESPACE","\n  ",101],"}",["T_WHITESPACE","\n\n",102],"}",["T_WHITESPACE","\n",104]]