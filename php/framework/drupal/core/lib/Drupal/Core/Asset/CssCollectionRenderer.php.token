[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Asset",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Html",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","State",6],["T_NS_SEPARATOR","\\",6],["T_STRING","StateInterface",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Renders CSS assets.\n *\n * For production websites, LINK tags are preferable to STYLE tags with @import\n * statements, because:\n * - They are the standard tag intended for linking to a resource.\n * - On Firefox 2 and perhaps other browsers, CSS files included with @import\n *   statements don't get saved when saving the complete web page for offline\n *   use: https:\/\/www.drupal.org\/node\/145218.\n * - On IE, if only LINK tags and no @import statements are used, all the CSS\n *   files are downloaded in parallel, resulting in faster page load, but if\n *   @import statements are used and span across multiple STYLE tags, all the\n *   ones from one STYLE tag must be downloaded before downloading begins for\n *   the next STYLE tag. Furthermore, IE7 does not support media declaration on\n *   the @import statement, so multiple STYLE tags must be used when different\n *   files are for different media types. Non-IE browsers always download in\n *   parallel, so this is an IE-specific performance quirk:\n *   http:\/\/www.stevesouders.com\/blog\/2009\/04\/09\/dont-use-import\/.\n *\n * However, IE has an annoying limit of 31 total CSS inclusion tags\n * (https:\/\/www.drupal.org\/node\/228818) and LINK tags are limited to one file\n * per tag, whereas STYLE tags can contain multiple @import statements allowing\n * multiple files to be loaded per tag. When CSS aggregation is disabled, a\n * Drupal site can easily have more than 31 CSS files that need to be loaded, so\n * using LINK tags exclusively would result in a site that would display\n * incorrectly in IE. Depending on different needs, different strategies can be\n * employed to decide when to use LINK tags and when to use STYLE tags.\n *\n * The strategy employed by this class is to use LINK tags for all aggregate\n * files and for all files that cannot be aggregated (e.g., if 'preprocess' is\n * set to FALSE or the type is 'external'), and to use STYLE tags for groups\n * of files that could be aggregated together but aren't (e.g., if the site-wide\n * aggregation setting is disabled). This results in all LINK tags when\n * aggregation is enabled, a guarantee that as many or only slightly more tags\n * are used with aggregation disabled than enabled (so that if the limit were to\n * be crossed with aggregation enabled, the site developer would also notice the\n * problem while aggregation is disabled), and an easy way for a developer to\n * view HTML source while aggregation is disabled and know what files will be\n * aggregated together when aggregation becomes enabled.\n *\n * This class evaluates the aggregation enabled\/disabled condition on a group\n * by group basis by testing whether an aggregate file has been made for the\n * group rather than by testing the site-wide aggregation setting. This allows\n * this class to work correctly even if modules have implemented custom\n * logic for grouping and aggregating files.\n *\/",8],["T_WHITESPACE","\n",53],["T_CLASS","class",54],["T_WHITESPACE"," ",54],["T_STRING","CssCollectionRenderer",54],["T_WHITESPACE"," ",54],["T_IMPLEMENTS","implements",54],["T_WHITESPACE"," ",54],["T_STRING","AssetCollectionRendererInterface",54],["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n\n  ",54],["T_DOC_COMMENT","\/**\n   * The state key\/value store.\n   *\n   * @var \\Drupal\\Core\\State\\StateInterface\n   *\/",56],["T_WHITESPACE","\n  ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$state",61],";",["T_WHITESPACE","\n\n  ",61],["T_DOC_COMMENT","\/**\n   * Constructs a CssCollectionRenderer.\n   *\n   * @param \\Drupal\\Core\\State\\StateInterface $state\n   *   The state key\/value store.\n   *\/",63],["T_WHITESPACE","\n  ",68],["T_PUBLIC","public",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","__construct",69],"(",["T_STRING","StateInterface",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$state",69],")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n    ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","state",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$state",70],";",["T_WHITESPACE","\n  ",70],"}",["T_WHITESPACE","\n\n  ",71],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",73],["T_WHITESPACE","\n  ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","render",76],"(",["T_ARRAY","array",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$css_assets",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n    ",76],["T_VARIABLE","$elements",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_ARRAY","array",77],"(",")",";",["T_WHITESPACE","\n\n    ",77],["T_COMMENT","\/\/ A dummy query-string is added to filenames, to gain control over\n",79],["T_WHITESPACE","    ",80],["T_COMMENT","\/\/ browser-caching. The string changes on every update or full cache\n",80],["T_WHITESPACE","    ",81],["T_COMMENT","\/\/ flush, forcing browsers to load a new copy of the files, as the\n",81],["T_WHITESPACE","    ",82],["T_COMMENT","\/\/ URL changed.\n",82],["T_WHITESPACE","    ",83],["T_VARIABLE","$query_string",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","state",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","get",83],"(",["T_CONSTANT_ENCAPSED_STRING","'system.css_js_query_string'",83],")",["T_WHITESPACE"," ",83],"?",":",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'0'",83],";",["T_WHITESPACE","\n\n    ",83],["T_COMMENT","\/\/ Defaults for LINK and STYLE elements.\n",85],["T_WHITESPACE","    ",86],["T_VARIABLE","$link_element_defaults",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_ARRAY","array",86],"(",["T_WHITESPACE","\n      ",86],["T_CONSTANT_ENCAPSED_STRING","'#type'",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'html_tag'",87],",",["T_WHITESPACE","\n      ",87],["T_CONSTANT_ENCAPSED_STRING","'#tag'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'link'",88],",",["T_WHITESPACE","\n      ",88],["T_CONSTANT_ENCAPSED_STRING","'#attributes'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_ARRAY","array",89],"(",["T_WHITESPACE","\n        ",89],["T_CONSTANT_ENCAPSED_STRING","'rel'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'stylesheet'",90],",",["T_WHITESPACE","\n      ",90],")",",",["T_WHITESPACE","\n    ",91],")",";",["T_WHITESPACE","\n    ",92],["T_VARIABLE","$style_element_defaults",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_ARRAY","array",93],"(",["T_WHITESPACE","\n      ",93],["T_CONSTANT_ENCAPSED_STRING","'#type'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'html_tag'",94],",",["T_WHITESPACE","\n      ",94],["T_CONSTANT_ENCAPSED_STRING","'#tag'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'style'",95],",",["T_WHITESPACE","\n    ",95],")",";",["T_WHITESPACE","\n\n    ",96],["T_COMMENT","\/\/ For filthy IE hack.\n",98],["T_WHITESPACE","    ",99],["T_VARIABLE","$current_ie_group_keys",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_STRING","NULL",99],";",["T_WHITESPACE","\n    ",99],["T_VARIABLE","$get_ie_group_key",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$css_asset",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n      ",100],["T_RETURN","return",101],["T_WHITESPACE"," ",101],["T_ARRAY","array",101],"(",["T_VARIABLE","$css_asset",101],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",101],"]",",",["T_WHITESPACE"," ",101],["T_VARIABLE","$css_asset",101],"[",["T_CONSTANT_ENCAPSED_STRING","'preprocess'",101],"]",",",["T_WHITESPACE"," ",101],["T_VARIABLE","$css_asset",101],"[",["T_CONSTANT_ENCAPSED_STRING","'group'",101],"]",",",["T_WHITESPACE"," ",101],["T_VARIABLE","$css_asset",101],"[",["T_CONSTANT_ENCAPSED_STRING","'media'",101],"]",",",["T_WHITESPACE"," ",101],["T_VARIABLE","$css_asset",101],"[",["T_CONSTANT_ENCAPSED_STRING","'browsers'",101],"]",")",";",["T_WHITESPACE","\n    ",101],"}",";",["T_WHITESPACE","\n\n    ",102],["T_COMMENT","\/\/ Loop through all CSS assets, by key, to allow for the special IE\n",104],["T_WHITESPACE","    ",105],["T_COMMENT","\/\/ workaround.\n",105],["T_WHITESPACE","    ",106],["T_VARIABLE","$css_assets_keys",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","array_keys",106],"(",["T_VARIABLE","$css_assets",106],")",";",["T_WHITESPACE","\n    ",106],["T_FOR","for",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$i",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_LNUMBER","0",107],";",["T_WHITESPACE"," ",107],["T_VARIABLE","$i",107],["T_WHITESPACE"," ",107],"<",["T_WHITESPACE"," ",107],["T_STRING","count",107],"(",["T_VARIABLE","$css_assets_keys",107],")",";",["T_WHITESPACE"," ",107],["T_VARIABLE","$i",107],["T_INC","++",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n      ",107],["T_VARIABLE","$css_asset",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$css_assets",108],"[",["T_VARIABLE","$css_assets_keys",108],"[",["T_VARIABLE","$i",108],"]","]",";",["T_WHITESPACE","\n      ",108],["T_SWITCH","switch",109],["T_WHITESPACE"," ",109],"(",["T_VARIABLE","$css_asset",109],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",109],"]",")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n        ",109],["T_COMMENT","\/\/ For file items, there are three possibilities.\n",110],["T_WHITESPACE","        ",111],["T_COMMENT","\/\/ - There are up to 31 CSS assets on the page (some of which may be\n",111],["T_WHITESPACE","        ",112],["T_COMMENT","\/\/   aggregated). In this case, output a LINK tag for file CSS assets.\n",112],["T_WHITESPACE","        ",113],["T_COMMENT","\/\/ - There are more than 31 CSS assets on the page, yet we must stay\n",113],["T_WHITESPACE","        ",114],["T_COMMENT","\/\/   below IE<10's limit of 31 total CSS inclusion tags, we handle this\n",114],["T_WHITESPACE","        ",115],["T_COMMENT","\/\/   in two ways:\n",115],["T_WHITESPACE","        ",116],["T_COMMENT","\/\/    - file CSS assets that are not eligible for aggregation (their\n",116],["T_WHITESPACE","        ",117],["T_COMMENT","\/\/      'preprocess' flag has been set to FALSE): in this case, output a\n",117],["T_WHITESPACE","        ",118],["T_COMMENT","\/\/      LINK tag.\n",118],["T_WHITESPACE","        ",119],["T_COMMENT","\/\/    - file CSS assets that can be aggregated (and possibly have been):\n",119],["T_WHITESPACE","        ",120],["T_COMMENT","\/\/      in this case, figure out which subsequent file CSS assets share\n",120],["T_WHITESPACE","        ",121],["T_COMMENT","\/\/      the same key properties ('group', 'media' and 'browsers') and\n",121],["T_WHITESPACE","        ",122],["T_COMMENT","\/\/      output this group into as few STYLE tags as possible (a STYLE\n",122],["T_WHITESPACE","        ",123],["T_COMMENT","\/\/      tag may contain only 31 @import statements).\n",123],["T_WHITESPACE","        ",124],["T_CASE","case",124],["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'file'",124],":",["T_WHITESPACE","\n          ",124],["T_COMMENT","\/\/ The dummy query string needs to be added to the URL to control\n",125],["T_WHITESPACE","          ",126],["T_COMMENT","\/\/ browser-caching.\n",126],["T_WHITESPACE","          ",127],["T_VARIABLE","$query_string_separator",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],"(",["T_STRING","strpos",127],"(",["T_VARIABLE","$css_asset",127],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",127],"]",",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'?'",127],")",["T_WHITESPACE"," ",127],["T_IS_NOT_IDENTICAL","!==",127],["T_WHITESPACE"," ",127],["T_STRING","FALSE",127],")",["T_WHITESPACE"," ",127],"?",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'&'",127],["T_WHITESPACE"," ",127],":",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'?'",127],";",["T_WHITESPACE","\n\n          ",127],["T_COMMENT","\/\/ As long as the current page will not run into IE's limit for CSS\n",129],["T_WHITESPACE","          ",130],["T_COMMENT","\/\/ assets: output a LINK tag for a file CSS asset.\n",130],["T_WHITESPACE","          ",131],["T_IF","if",131],["T_WHITESPACE"," ",131],"(",["T_STRING","count",131],"(",["T_VARIABLE","$css_assets",131],")",["T_WHITESPACE"," ",131],["T_IS_SMALLER_OR_EQUAL","<=",131],["T_WHITESPACE"," ",131],["T_LNUMBER","31",131],")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n            ",131],["T_VARIABLE","$element",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$link_element_defaults",132],";",["T_WHITESPACE","\n            ",132],["T_VARIABLE","$element",133],"[",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",133],"]","[",["T_CONSTANT_ENCAPSED_STRING","'href'",133],"]",["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_STRING","file_url_transform_relative",133],"(",["T_STRING","file_create_url",133],"(",["T_VARIABLE","$css_asset",133],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",133],"]",")",")",["T_WHITESPACE"," ",133],".",["T_WHITESPACE"," ",133],["T_VARIABLE","$query_string_separator",133],["T_WHITESPACE"," ",133],".",["T_WHITESPACE"," ",133],["T_VARIABLE","$query_string",133],";",["T_WHITESPACE","\n            ",133],["T_VARIABLE","$element",134],"[",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",134],"]","[",["T_CONSTANT_ENCAPSED_STRING","'media'",134],"]",["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$css_asset",134],"[",["T_CONSTANT_ENCAPSED_STRING","'media'",134],"]",";",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$element",135],"[",["T_CONSTANT_ENCAPSED_STRING","'#browsers'",135],"]",["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$css_asset",135],"[",["T_CONSTANT_ENCAPSED_STRING","'browsers'",135],"]",";",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$elements",136],"[","]",["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$element",136],";",["T_WHITESPACE","\n          ",136],"}",["T_WHITESPACE","\n          ",137],["T_COMMENT","\/\/ The current page will run into IE's limits for CSS assets: work\n",138],["T_WHITESPACE","          ",139],["T_COMMENT","\/\/ around these limits by performing a light form of grouping.\n",139],["T_WHITESPACE","          ",140],["T_COMMENT","\/\/ Once Drupal only needs to support IE10 and later, we can drop this.\n",140],["T_WHITESPACE","          ",141],["T_ELSE","else",141],["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n            ",141],["T_COMMENT","\/\/ The file CSS asset is ineligible for aggregation: output it in a\n",142],["T_WHITESPACE","            ",143],["T_COMMENT","\/\/ LINK tag.\n",143],["T_WHITESPACE","            ",144],["T_IF","if",144],["T_WHITESPACE"," ",144],"(","!",["T_VARIABLE","$css_asset",144],"[",["T_CONSTANT_ENCAPSED_STRING","'preprocess'",144],"]",")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n              ",144],["T_VARIABLE","$element",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$link_element_defaults",145],";",["T_WHITESPACE","\n              ",145],["T_VARIABLE","$element",146],"[",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",146],"]","[",["T_CONSTANT_ENCAPSED_STRING","'href'",146],"]",["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_STRING","file_url_transform_relative",146],"(",["T_STRING","file_create_url",146],"(",["T_VARIABLE","$css_asset",146],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",146],"]",")",")",["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_VARIABLE","$query_string_separator",146],["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_VARIABLE","$query_string",146],";",["T_WHITESPACE","\n              ",146],["T_VARIABLE","$element",147],"[",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",147],"]","[",["T_CONSTANT_ENCAPSED_STRING","'media'",147],"]",["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$css_asset",147],"[",["T_CONSTANT_ENCAPSED_STRING","'media'",147],"]",";",["T_WHITESPACE","\n              ",147],["T_VARIABLE","$element",148],"[",["T_CONSTANT_ENCAPSED_STRING","'#browsers'",148],"]",["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$css_asset",148],"[",["T_CONSTANT_ENCAPSED_STRING","'browsers'",148],"]",";",["T_WHITESPACE","\n              ",148],["T_VARIABLE","$elements",149],"[","]",["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$element",149],";",["T_WHITESPACE","\n            ",149],"}",["T_WHITESPACE","\n            ",150],["T_COMMENT","\/\/ The file CSS asset can be aggregated, but hasn't been: combine\n",151],["T_WHITESPACE","            ",152],["T_COMMENT","\/\/ multiple items into as few STYLE tags as possible.\n",152],["T_WHITESPACE","            ",153],["T_ELSE","else",153],["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n              ",153],["T_VARIABLE","$import",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_ARRAY","array",154],"(",")",";",["T_WHITESPACE","\n              ",154],["T_COMMENT","\/\/ Start with the current CSS asset, iterate over subsequent CSS\n",155],["T_WHITESPACE","              ",156],["T_COMMENT","\/\/ assets and find which ones have the same 'type', 'group',\n",156],["T_WHITESPACE","              ",157],["T_COMMENT","\/\/ 'preprocess', 'media' and 'browsers' properties.\n",157],["T_WHITESPACE","              ",158],["T_VARIABLE","$j",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$i",158],";",["T_WHITESPACE","\n              ",158],["T_VARIABLE","$next_css_asset",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$css_asset",159],";",["T_WHITESPACE","\n              ",159],["T_VARIABLE","$current_ie_group_key",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$get_ie_group_key",160],"(",["T_VARIABLE","$css_asset",160],")",";",["T_WHITESPACE","\n              ",160],["T_DO","do",161],["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n                ",161],["T_COMMENT","\/\/ The dummy query string needs to be added to the URL to\n",162],["T_WHITESPACE","                ",163],["T_COMMENT","\/\/ control browser-caching. IE7 does not support a media type on\n",163],["T_WHITESPACE","                ",164],["T_COMMENT","\/\/ the @import statement, so we instead specify the media for\n",164],["T_WHITESPACE","                ",165],["T_COMMENT","\/\/ the group on the STYLE tag.\n",165],["T_WHITESPACE","                ",166],["T_VARIABLE","$import",166],"[","]",["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'@import url(\"'",166],["T_WHITESPACE"," ",166],".",["T_WHITESPACE"," ",166],["T_STRING","Html",166],["T_DOUBLE_COLON","::",166],["T_STRING","escape",166],"(",["T_STRING","file_url_transform_relative",166],"(",["T_STRING","file_create_url",166],"(",["T_VARIABLE","$next_css_asset",166],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",166],"]",")",")",["T_WHITESPACE"," ",166],".",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'?'",166],["T_WHITESPACE"," ",166],".",["T_WHITESPACE"," ",166],["T_VARIABLE","$query_string",166],")",["T_WHITESPACE"," ",166],".",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'\");'",166],";",["T_WHITESPACE","\n                ",166],["T_COMMENT","\/\/ Move the outer for loop skip the next item, since we\n",167],["T_WHITESPACE","                ",168],["T_COMMENT","\/\/ processed it here.\n",168],["T_WHITESPACE","                ",169],["T_VARIABLE","$i",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$j",169],";",["T_WHITESPACE","\n                ",169],["T_COMMENT","\/\/ Retrieve next CSS asset, unless there is none: then break.\n",170],["T_WHITESPACE","                ",171],["T_IF","if",171],["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$j",171],["T_WHITESPACE"," ",171],"+",["T_WHITESPACE"," ",171],["T_LNUMBER","1",171],["T_WHITESPACE"," ",171],"<",["T_WHITESPACE"," ",171],["T_STRING","count",171],"(",["T_VARIABLE","$css_assets_keys",171],")",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n                  ",171],["T_VARIABLE","$j",172],["T_INC","++",172],";",["T_WHITESPACE","\n                  ",172],["T_VARIABLE","$next_css_asset",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$css_assets",173],"[",["T_VARIABLE","$css_assets_keys",173],"[",["T_VARIABLE","$j",173],"]","]",";",["T_WHITESPACE","\n                ",173],"}",["T_WHITESPACE","\n                ",174],["T_ELSE","else",175],["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n                  ",175],["T_BREAK","break",176],";",["T_WHITESPACE","\n                ",176],"}",["T_WHITESPACE","\n              ",177],"}",["T_WHITESPACE"," ",178],["T_WHILE","while",178],["T_WHITESPACE"," ",178],"(",["T_VARIABLE","$get_ie_group_key",178],"(",["T_VARIABLE","$next_css_asset",178],")",["T_WHITESPACE"," ",178],["T_IS_EQUAL","==",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$current_ie_group_key",178],")",";",["T_WHITESPACE","\n\n              ",178],["T_COMMENT","\/\/ In addition to IE's limit of 31 total CSS inclusion tags, it\n",180],["T_WHITESPACE","              ",181],["T_COMMENT","\/\/ also has a limit of 31 @import statements per STYLE tag.\n",181],["T_WHITESPACE","              ",182],["T_WHILE","while",182],["T_WHITESPACE"," ",182],"(","!",["T_EMPTY","empty",182],"(",["T_VARIABLE","$import",182],")",")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n                ",182],["T_VARIABLE","$import_batch",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_STRING","array_slice",183],"(",["T_VARIABLE","$import",183],",",["T_WHITESPACE"," ",183],["T_LNUMBER","0",183],",",["T_WHITESPACE"," ",183],["T_LNUMBER","31",183],")",";",["T_WHITESPACE","\n                ",183],["T_VARIABLE","$import",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_STRING","array_slice",184],"(",["T_VARIABLE","$import",184],",",["T_WHITESPACE"," ",184],["T_LNUMBER","31",184],")",";",["T_WHITESPACE","\n                ",184],["T_VARIABLE","$element",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$style_element_defaults",185],";",["T_WHITESPACE","\n                ",185],["T_COMMENT","\/\/ This simplifies the JavaScript regex, allowing each line\n",186],["T_WHITESPACE","                ",187],["T_COMMENT","\/\/ (separated by \\n) to be treated as a completely different\n",187],["T_WHITESPACE","                ",188],["T_COMMENT","\/\/ string. This means that we can use ^ and $ on one line at a\n",188],["T_WHITESPACE","                ",189],["T_COMMENT","\/\/ time, and not worry about style tags since they'll never\n",189],["T_WHITESPACE","                ",190],["T_COMMENT","\/\/ match the regex.\n",190],["T_WHITESPACE","                ",191],["T_VARIABLE","$element",191],"[",["T_CONSTANT_ENCAPSED_STRING","'#value'",191],"]",["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",191],["T_WHITESPACE"," ",191],".",["T_WHITESPACE"," ",191],["T_STRING","implode",191],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$import_batch",191],")",["T_WHITESPACE"," ",191],".",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",191],";",["T_WHITESPACE","\n                ",191],["T_VARIABLE","$element",192],"[",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",192],"]","[",["T_CONSTANT_ENCAPSED_STRING","'media'",192],"]",["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$css_asset",192],"[",["T_CONSTANT_ENCAPSED_STRING","'media'",192],"]",";",["T_WHITESPACE","\n                ",192],["T_VARIABLE","$element",193],"[",["T_CONSTANT_ENCAPSED_STRING","'#browsers'",193],"]",["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$css_asset",193],"[",["T_CONSTANT_ENCAPSED_STRING","'browsers'",193],"]",";",["T_WHITESPACE","\n                ",193],["T_VARIABLE","$elements",194],"[","]",["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$element",194],";",["T_WHITESPACE","\n              ",194],"}",["T_WHITESPACE","\n            ",195],"}",["T_WHITESPACE","\n          ",196],"}",["T_WHITESPACE","\n          ",197],["T_BREAK","break",198],";",["T_WHITESPACE","\n\n        ",198],["T_COMMENT","\/\/ Output a LINK tag for an external CSS asset. The asset's 'data'\n",200],["T_WHITESPACE","        ",201],["T_COMMENT","\/\/ property contains the full URL.\n",201],["T_WHITESPACE","        ",202],["T_CASE","case",202],["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'external'",202],":",["T_WHITESPACE","\n          ",202],["T_VARIABLE","$element",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$link_element_defaults",203],";",["T_WHITESPACE","\n          ",203],["T_VARIABLE","$element",204],"[",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",204],"]","[",["T_CONSTANT_ENCAPSED_STRING","'href'",204],"]",["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$css_asset",204],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",204],"]",";",["T_WHITESPACE","\n          ",204],["T_VARIABLE","$element",205],"[",["T_CONSTANT_ENCAPSED_STRING","'#attributes'",205],"]","[",["T_CONSTANT_ENCAPSED_STRING","'media'",205],"]",["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$css_asset",205],"[",["T_CONSTANT_ENCAPSED_STRING","'media'",205],"]",";",["T_WHITESPACE","\n          ",205],["T_VARIABLE","$element",206],"[",["T_CONSTANT_ENCAPSED_STRING","'#browsers'",206],"]",["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$css_asset",206],"[",["T_CONSTANT_ENCAPSED_STRING","'browsers'",206],"]",";",["T_WHITESPACE","\n          ",206],["T_VARIABLE","$elements",207],"[","]",["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$element",207],";",["T_WHITESPACE","\n          ",207],["T_BREAK","break",208],";",["T_WHITESPACE","\n\n        ",208],["T_DEFAULT","default",210],":",["T_WHITESPACE","\n          ",210],["T_THROW","throw",211],["T_WHITESPACE"," ",211],["T_NEW","new",211],["T_WHITESPACE"," ",211],["T_NS_SEPARATOR","\\",211],["T_STRING","Exception",211],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid CSS asset type.'",211],")",";",["T_WHITESPACE","\n      ",211],"}",["T_WHITESPACE","\n    ",212],"}",["T_WHITESPACE","\n\n    ",213],["T_RETURN","return",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$elements",215],";",["T_WHITESPACE","\n  ",215],"}",["T_WHITESPACE","\n\n",216],"}",["T_WHITESPACE","\n",218]]