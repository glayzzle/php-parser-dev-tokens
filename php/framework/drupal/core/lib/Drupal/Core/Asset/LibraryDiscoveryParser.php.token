[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Asset",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Core",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Asset",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Exception",5],["T_NS_SEPARATOR","\\",5],["T_STRING","IncompleteLibraryDefinitionException",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Core",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Asset",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Exception",6],["T_NS_SEPARATOR","\\",6],["T_STRING","InvalidLibrariesOverrideSpecificationException",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Core",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Asset",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Exception",7],["T_NS_SEPARATOR","\\",7],["T_STRING","InvalidLibraryFileException",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Asset",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Exception",8],["T_NS_SEPARATOR","\\",8],["T_STRING","LibraryDefinitionMissingLicenseException",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Extension",9],["T_NS_SEPARATOR","\\",9],["T_STRING","ModuleHandlerInterface",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Serialization",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Yaml",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Theme",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ThemeManagerInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Component",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Serialization",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Exception",12],["T_NS_SEPARATOR","\\",12],["T_STRING","InvalidDataTypeException",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Drupal",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Component",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Utility",13],["T_NS_SEPARATOR","\\",13],["T_STRING","NestedArray",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * Parses library files to get extension data.\n *\/",15],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","LibraryDiscoveryParser",18],["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n\n  ",18],["T_DOC_COMMENT","\/**\n   * The module handler.\n   *\n   * @var \\Drupal\\Core\\Extension\\ModuleHandlerInterface\n   *\/",20],["T_WHITESPACE","\n  ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$moduleHandler",25],";",["T_WHITESPACE","\n\n  ",25],["T_DOC_COMMENT","\/**\n   * The theme manager.\n   *\n   * @var \\Drupal\\Core\\Theme\\ThemeManagerInterface\n   *\/",27],["T_WHITESPACE","\n  ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$themeManager",32],";",["T_WHITESPACE","\n\n  ",32],["T_DOC_COMMENT","\/**\n   * The app root.\n   *\n   * @var string\n   *\/",34],["T_WHITESPACE","\n  ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$root",39],";",["T_WHITESPACE","\n\n  ",39],["T_DOC_COMMENT","\/**\n   * Constructs a new LibraryDiscoveryParser instance.\n   *\n   * @param string $root\n   *   The app root.\n   * @param \\Drupal\\Core\\Extension\\ModuleHandlerInterface $module_handler\n   *   The module handler.\n   * @param \\Drupal\\Core\\Theme\\ThemeManagerInterface $theme_manager\n   *   The theme manager.\n   *\/",41],["T_WHITESPACE","\n  ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","__construct",51],"(",["T_VARIABLE","$root",51],",",["T_WHITESPACE"," ",51],["T_STRING","ModuleHandlerInterface",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$module_handler",51],",",["T_WHITESPACE"," ",51],["T_STRING","ThemeManagerInterface",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$theme_manager",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n    ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","root",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$root",52],";",["T_WHITESPACE","\n    ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","moduleHandler",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$module_handler",53],";",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","themeManager",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$theme_manager",54],";",["T_WHITESPACE","\n  ",54],"}",["T_WHITESPACE","\n\n  ",55],["T_DOC_COMMENT","\/**\n   * Parses and builds up all the libraries information of an extension.\n   *\n   * @param string $extension\n   *   The name of the extension that registered a library.\n   *\n   * @return array\n   *   All library definitions of the passed extension.\n   *\n   * @throws \\Drupal\\Core\\Asset\\Exception\\IncompleteLibraryDefinitionException\n   *   Thrown when a library has no js\/css\/setting.\n   * @throws \\UnexpectedValueException\n   *   Thrown when a js file defines a positive weight.\n   *\/",57],["T_WHITESPACE","\n  ",70],["T_PUBLIC","public",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","buildByExtension",71],"(",["T_VARIABLE","$extension",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n    ",71],["T_VARIABLE","$libraries",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_ARRAY","array",72],"(",")",";",["T_WHITESPACE","\n\n    ",72],["T_IF","if",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$extension",74],["T_WHITESPACE"," ",74],["T_IS_IDENTICAL","===",74],["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'core'",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n      ",74],["T_VARIABLE","$path",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'core'",75],";",["T_WHITESPACE","\n      ",75],["T_VARIABLE","$extension_type",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'core'",76],";",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n    ",77],["T_ELSE","else",78],["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n      ",78],["T_IF","if",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","moduleHandler",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","moduleExists",79],"(",["T_VARIABLE","$extension",79],")",")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$extension_type",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'module'",80],";",["T_WHITESPACE","\n      ",80],"}",["T_WHITESPACE","\n      ",81],["T_ELSE","else",82],["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$extension_type",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'theme'",83],";",["T_WHITESPACE","\n      ",83],"}",["T_WHITESPACE","\n      ",84],["T_VARIABLE","$path",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","drupalGetPath",85],"(",["T_VARIABLE","$extension_type",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$extension",85],")",";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_VARIABLE","$libraries",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","parseLibraryInfo",88],"(",["T_VARIABLE","$extension",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$path",88],")",";",["T_WHITESPACE","\n    ",88],["T_VARIABLE","$libraries",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","applyLibrariesOverride",89],"(",["T_VARIABLE","$libraries",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$extension",89],")",";",["T_WHITESPACE","\n\n    ",89],["T_FOREACH","foreach",91],["T_WHITESPACE"," ",91],"(",["T_VARIABLE","$libraries",91],["T_WHITESPACE"," ",91],["T_AS","as",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$id",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],"&",["T_VARIABLE","$library",91],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n      ",91],["T_IF","if",92],["T_WHITESPACE"," ",92],"(","!",["T_ISSET","isset",92],"(",["T_VARIABLE","$library",92],"[",["T_CONSTANT_ENCAPSED_STRING","'js'",92],"]",")",["T_WHITESPACE"," ",92],["T_BOOLEAN_AND","&&",92],["T_WHITESPACE"," ",92],"!",["T_ISSET","isset",92],"(",["T_VARIABLE","$library",92],"[",["T_CONSTANT_ENCAPSED_STRING","'css'",92],"]",")",["T_WHITESPACE"," ",92],["T_BOOLEAN_AND","&&",92],["T_WHITESPACE"," ",92],"!",["T_ISSET","isset",92],"(",["T_VARIABLE","$library",92],"[",["T_CONSTANT_ENCAPSED_STRING","'drupalSettings'",92],"]",")",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n        ",92],["T_THROW","throw",93],["T_WHITESPACE"," ",93],["T_NEW","new",93],["T_WHITESPACE"," ",93],["T_STRING","IncompleteLibraryDefinitionException",93],"(",["T_STRING","sprintf",93],"(",["T_CONSTANT_ENCAPSED_STRING","\"Incomplete library definition for definition '%s' in extension '%s'\"",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$id",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$extension",93],")",")",";",["T_WHITESPACE","\n      ",93],"}",["T_WHITESPACE","\n      ",94],["T_VARIABLE","$library",95],["T_WHITESPACE"," ",95],["T_PLUS_EQUAL","+=",95],["T_WHITESPACE"," ",95],["T_ARRAY","array",95],"(",["T_CONSTANT_ENCAPSED_STRING","'dependencies'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_ARRAY","array",95],"(",")",",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'js'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_ARRAY","array",95],"(",")",",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'css'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_ARRAY","array",95],"(",")",")",";",["T_WHITESPACE","\n\n      ",95],["T_IF","if",97],["T_WHITESPACE"," ",97],"(",["T_ISSET","isset",97],"(",["T_VARIABLE","$library",97],"[",["T_CONSTANT_ENCAPSED_STRING","'header'",97],"]",")",["T_WHITESPACE"," ",97],["T_BOOLEAN_AND","&&",97],["T_WHITESPACE"," ",97],"!",["T_STRING","is_bool",97],"(",["T_VARIABLE","$library",97],"[",["T_CONSTANT_ENCAPSED_STRING","'header'",97],"]",")",")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n        ",97],["T_THROW","throw",98],["T_WHITESPACE"," ",98],["T_NEW","new",98],["T_WHITESPACE"," ",98],["T_NS_SEPARATOR","\\",98],["T_STRING","LogicException",98],"(",["T_STRING","sprintf",98],"(",["T_CONSTANT_ENCAPSED_STRING","\"The 'header' key in the library definition '%s' in extension '%s' is invalid: it must be a boolean.\"",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$id",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$extension",98],")",")",";",["T_WHITESPACE","\n      ",98],"}",["T_WHITESPACE","\n\n      ",99],["T_IF","if",101],["T_WHITESPACE"," ",101],"(",["T_ISSET","isset",101],"(",["T_VARIABLE","$library",101],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",101],"]",")",")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n        ",101],["T_COMMENT","\/\/ @todo Retrieve version of a non-core extension.\n",102],["T_WHITESPACE","        ",103],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$library",103],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",103],"]",["T_WHITESPACE"," ",103],["T_IS_IDENTICAL","===",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'VERSION'",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n          ",103],["T_VARIABLE","$library",104],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",104],"]",["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_NS_SEPARATOR","\\",104],["T_STRING","Drupal",104],["T_DOUBLE_COLON","::",104],["T_STRING","VERSION",104],";",["T_WHITESPACE","\n        ",104],"}",["T_WHITESPACE","\n        ",105],["T_COMMENT","\/\/ Remove 'v' prefix from external library versions.\n",106],["T_WHITESPACE","        ",107],["T_ELSEIF","elseif",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$library",107],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",107],"]","[",["T_LNUMBER","0",107],"]",["T_WHITESPACE"," ",107],["T_IS_IDENTICAL","===",107],["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'v'",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n          ",107],["T_VARIABLE","$library",108],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",108],"]",["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_STRING","substr",108],"(",["T_VARIABLE","$library",108],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",108],"]",",",["T_WHITESPACE"," ",108],["T_LNUMBER","1",108],")",";",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE","\n      ",109],"}",["T_WHITESPACE","\n\n      ",110],["T_COMMENT","\/\/ If this is a 3rd party library, the license info is required.\n",112],["T_WHITESPACE","      ",113],["T_IF","if",113],["T_WHITESPACE"," ",113],"(",["T_ISSET","isset",113],"(",["T_VARIABLE","$library",113],"[",["T_CONSTANT_ENCAPSED_STRING","'remote'",113],"]",")",["T_WHITESPACE"," ",113],["T_BOOLEAN_AND","&&",113],["T_WHITESPACE"," ",113],"!",["T_ISSET","isset",113],"(",["T_VARIABLE","$library",113],"[",["T_CONSTANT_ENCAPSED_STRING","'license'",113],"]",")",")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n        ",113],["T_THROW","throw",114],["T_WHITESPACE"," ",114],["T_NEW","new",114],["T_WHITESPACE"," ",114],["T_STRING","LibraryDefinitionMissingLicenseException",114],"(",["T_STRING","sprintf",114],"(",["T_CONSTANT_ENCAPSED_STRING","\"Missing license information in library definition for definition '%s' extension '%s': it has a remote, but no license.\"",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$id",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$extension",114],")",")",";",["T_WHITESPACE","\n      ",114],"}",["T_WHITESPACE","\n\n      ",115],["T_COMMENT","\/\/ Assign Drupal's license to libraries that don't have license info.\n",117],["T_WHITESPACE","      ",118],["T_IF","if",118],["T_WHITESPACE"," ",118],"(","!",["T_ISSET","isset",118],"(",["T_VARIABLE","$library",118],"[",["T_CONSTANT_ENCAPSED_STRING","'license'",118],"]",")",")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$library",119],"[",["T_CONSTANT_ENCAPSED_STRING","'license'",119],"]",["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",["T_WHITESPACE","\n          ",119],["T_CONSTANT_ENCAPSED_STRING","'name'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'GNU-GPL-2.0-or-later'",120],",",["T_WHITESPACE","\n          ",120],["T_CONSTANT_ENCAPSED_STRING","'url'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.drupal.org\/licensing\/faq'",121],",",["T_WHITESPACE","\n          ",121],["T_CONSTANT_ENCAPSED_STRING","'gpl-compatible'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_STRING","TRUE",122],",",["T_WHITESPACE","\n        ",122],")",";",["T_WHITESPACE","\n      ",123],"}",["T_WHITESPACE","\n\n      ",124],["T_FOREACH","foreach",126],["T_WHITESPACE"," ",126],"(",["T_ARRAY","array",126],"(",["T_CONSTANT_ENCAPSED_STRING","'js'",126],",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'css'",126],")",["T_WHITESPACE"," ",126],["T_AS","as",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$type",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n        ",126],["T_COMMENT","\/\/ Prepare (flatten) the SMACSS-categorized definitions.\n",127],["T_WHITESPACE","        ",128],["T_COMMENT","\/\/ @todo After Asset(ic) changes, retain the definitions as-is and\n",128],["T_WHITESPACE","        ",129],["T_COMMENT","\/\/   properly resolve dependencies for all (css) libraries per category,\n",129],["T_WHITESPACE","        ",130],["T_COMMENT","\/\/   and only once prior to rendering out an HTML page.\n",130],["T_WHITESPACE","        ",131],["T_IF","if",131],["T_WHITESPACE"," ",131],"(",["T_VARIABLE","$type",131],["T_WHITESPACE"," ",131],["T_IS_EQUAL","==",131],["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'css'",131],["T_WHITESPACE"," ",131],["T_BOOLEAN_AND","&&",131],["T_WHITESPACE"," ",131],"!",["T_EMPTY","empty",131],"(",["T_VARIABLE","$library",131],"[",["T_VARIABLE","$type",131],"]",")",")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n          ",131],["T_FOREACH","foreach",132],["T_WHITESPACE"," ",132],"(",["T_VARIABLE","$library",132],"[",["T_VARIABLE","$type",132],"]",["T_WHITESPACE"," ",132],["T_AS","as",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$category",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$files",132],")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n            ",132],["T_FOREACH","foreach",133],["T_WHITESPACE"," ",133],"(",["T_VARIABLE","$files",133],["T_WHITESPACE"," ",133],["T_AS","as",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$source",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$options",133],")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n              ",133],["T_IF","if",134],["T_WHITESPACE"," ",134],"(","!",["T_ISSET","isset",134],"(",["T_VARIABLE","$options",134],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",134],"]",")",")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n                ",134],["T_VARIABLE","$options",135],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",135],"]",["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_LNUMBER","0",135],";",["T_WHITESPACE","\n              ",135],"}",["T_WHITESPACE","\n              ",136],["T_COMMENT","\/\/ Apply the corresponding weight defined by CSS_* constants.\n",137],["T_WHITESPACE","              ",138],["T_VARIABLE","$options",138],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",138],"]",["T_WHITESPACE"," ",138],["T_PLUS_EQUAL","+=",138],["T_WHITESPACE"," ",138],["T_STRING","constant",138],"(",["T_CONSTANT_ENCAPSED_STRING","'CSS_'",138],["T_WHITESPACE"," ",138],".",["T_WHITESPACE"," ",138],["T_STRING","strtoupper",138],"(",["T_VARIABLE","$category",138],")",")",";",["T_WHITESPACE","\n              ",138],["T_VARIABLE","$library",139],"[",["T_VARIABLE","$type",139],"]","[",["T_VARIABLE","$source",139],"]",["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$options",139],";",["T_WHITESPACE","\n            ",139],"}",["T_WHITESPACE","\n            ",140],["T_UNSET","unset",141],"(",["T_VARIABLE","$library",141],"[",["T_VARIABLE","$type",141],"]","[",["T_VARIABLE","$category",141],"]",")",";",["T_WHITESPACE","\n          ",141],"}",["T_WHITESPACE","\n        ",142],"}",["T_WHITESPACE","\n        ",143],["T_FOREACH","foreach",144],["T_WHITESPACE"," ",144],"(",["T_VARIABLE","$library",144],"[",["T_VARIABLE","$type",144],"]",["T_WHITESPACE"," ",144],["T_AS","as",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$source",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$options",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n          ",144],["T_UNSET","unset",145],"(",["T_VARIABLE","$library",145],"[",["T_VARIABLE","$type",145],"]","[",["T_VARIABLE","$source",145],"]",")",";",["T_WHITESPACE","\n          ",145],["T_COMMENT","\/\/ Allow to omit the options hashmap in YAML declarations.\n",146],["T_WHITESPACE","          ",147],["T_IF","if",147],["T_WHITESPACE"," ",147],"(","!",["T_STRING","is_array",147],"(",["T_VARIABLE","$options",147],")",")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$options",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_ARRAY","array",148],"(",")",";",["T_WHITESPACE","\n          ",148],"}",["T_WHITESPACE","\n          ",149],["T_IF","if",150],["T_WHITESPACE"," ",150],"(",["T_VARIABLE","$type",150],["T_WHITESPACE"," ",150],["T_IS_EQUAL","==",150],["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'js'",150],["T_WHITESPACE"," ",150],["T_BOOLEAN_AND","&&",150],["T_WHITESPACE"," ",150],["T_ISSET","isset",150],"(",["T_VARIABLE","$options",150],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",150],"]",")",["T_WHITESPACE"," ",150],["T_BOOLEAN_AND","&&",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$options",150],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",150],"]",["T_WHITESPACE"," ",150],">",["T_WHITESPACE"," ",150],["T_LNUMBER","0",150],")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n            ",150],["T_THROW","throw",151],["T_WHITESPACE"," ",151],["T_NEW","new",151],["T_WHITESPACE"," ",151],["T_NS_SEPARATOR","\\",151],["T_STRING","UnexpectedValueException",151],"(","\"",["T_ENCAPSED_AND_WHITESPACE","The ",151],["T_VARIABLE","$extension",151],["T_ENCAPSED_AND_WHITESPACE","\/",151],["T_VARIABLE","$id",151],["T_ENCAPSED_AND_WHITESPACE"," library defines a positive weight for '",151],["T_VARIABLE","$source",151],["T_ENCAPSED_AND_WHITESPACE","'. Only negative weights are allowed (but should be avoided). Instead of a positive weight, specify accurate dependencies for this library.",151],"\"",")",";",["T_WHITESPACE","\n          ",151],"}",["T_WHITESPACE","\n          ",152],["T_COMMENT","\/\/ Unconditionally apply default groups for the defined asset files.\n",153],["T_WHITESPACE","          ",154],["T_COMMENT","\/\/ The library system is a dependency management system. Each library\n",154],["T_WHITESPACE","          ",155],["T_COMMENT","\/\/ properly specifies its dependencies instead of relying on a custom\n",155],["T_WHITESPACE","          ",156],["T_COMMENT","\/\/ processing order.\n",156],["T_WHITESPACE","          ",157],["T_IF","if",157],["T_WHITESPACE"," ",157],"(",["T_VARIABLE","$type",157],["T_WHITESPACE"," ",157],["T_IS_EQUAL","==",157],["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'js'",157],")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$options",158],"[",["T_CONSTANT_ENCAPSED_STRING","'group'",158],"]",["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_STRING","JS_LIBRARY",158],";",["T_WHITESPACE","\n          ",158],"}",["T_WHITESPACE","\n          ",159],["T_ELSEIF","elseif",160],["T_WHITESPACE"," ",160],"(",["T_VARIABLE","$type",160],["T_WHITESPACE"," ",160],["T_IS_EQUAL","==",160],["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'css'",160],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$options",161],"[",["T_CONSTANT_ENCAPSED_STRING","'group'",161],"]",["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$extension_type",161],["T_WHITESPACE"," ",161],["T_IS_EQUAL","==",161],["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'theme'",161],["T_WHITESPACE"," ",161],"?",["T_WHITESPACE"," ",161],["T_STRING","CSS_AGGREGATE_THEME",161],["T_WHITESPACE"," ",161],":",["T_WHITESPACE"," ",161],["T_STRING","CSS_AGGREGATE_DEFAULT",161],";",["T_WHITESPACE","\n          ",161],"}",["T_WHITESPACE","\n          ",162],["T_COMMENT","\/\/ By default, all library assets are files.\n",163],["T_WHITESPACE","          ",164],["T_IF","if",164],["T_WHITESPACE"," ",164],"(","!",["T_ISSET","isset",164],"(",["T_VARIABLE","$options",164],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",164],"]",")",")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n            ",164],["T_VARIABLE","$options",165],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",165],"]",["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'file'",165],";",["T_WHITESPACE","\n          ",165],"}",["T_WHITESPACE","\n          ",166],["T_IF","if",167],["T_WHITESPACE"," ",167],"(",["T_VARIABLE","$options",167],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",167],"]",["T_WHITESPACE"," ",167],["T_IS_EQUAL","==",167],["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'external'",167],")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n            ",167],["T_VARIABLE","$options",168],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",168],"]",["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$source",168],";",["T_WHITESPACE","\n          ",168],"}",["T_WHITESPACE","\n          ",169],["T_COMMENT","\/\/ Determine the file asset URI.\n",170],["T_WHITESPACE","          ",171],["T_ELSE","else",171],["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n            ",171],["T_IF","if",172],["T_WHITESPACE"," ",172],"(",["T_VARIABLE","$source",172],"[",["T_LNUMBER","0",172],"]",["T_WHITESPACE"," ",172],["T_IS_IDENTICAL","===",172],["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'\/'",172],")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n              ",172],["T_COMMENT","\/\/ An absolute path maps to DRUPAL_ROOT \/ base_path().\n",173],["T_WHITESPACE","              ",174],["T_IF","if",174],["T_WHITESPACE"," ",174],"(",["T_VARIABLE","$source",174],"[",["T_LNUMBER","1",174],"]",["T_WHITESPACE"," ",174],["T_IS_NOT_IDENTICAL","!==",174],["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'\/'",174],")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n                ",174],["T_VARIABLE","$options",175],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",175],"]",["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_STRING","substr",175],"(",["T_VARIABLE","$source",175],",",["T_WHITESPACE"," ",175],["T_LNUMBER","1",175],")",";",["T_WHITESPACE","\n              ",175],"}",["T_WHITESPACE","\n              ",176],["T_COMMENT","\/\/ A protocol-free URI (e.g., \/\/cdn.com\/example.js) is external.\n",177],["T_WHITESPACE","              ",178],["T_ELSE","else",178],["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n                ",178],["T_VARIABLE","$options",179],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",179],"]",["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'external'",179],";",["T_WHITESPACE","\n                ",179],["T_VARIABLE","$options",180],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",180],"]",["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$source",180],";",["T_WHITESPACE","\n              ",180],"}",["T_WHITESPACE","\n            ",181],"}",["T_WHITESPACE","\n            ",182],["T_COMMENT","\/\/ A stream wrapper URI (e.g., public:\/\/generated_js\/example.js).\n",183],["T_WHITESPACE","            ",184],["T_ELSEIF","elseif",184],["T_WHITESPACE"," ",184],"(",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","fileValidUri",184],"(",["T_VARIABLE","$source",184],")",")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n              ",184],["T_VARIABLE","$options",185],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",185],"]",["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$source",185],";",["T_WHITESPACE","\n            ",185],"}",["T_WHITESPACE","\n            ",186],["T_COMMENT","\/\/ A regular URI (e.g., http:\/\/example.com\/example.js) without\n",187],["T_WHITESPACE","            ",188],["T_COMMENT","\/\/ 'external' explicitly specified, which may happen if, e.g.\n",188],["T_WHITESPACE","            ",189],["T_COMMENT","\/\/ libraries-override is used.\n",189],["T_WHITESPACE","            ",190],["T_ELSEIF","elseif",190],["T_WHITESPACE"," ",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","isValidUri",190],"(",["T_VARIABLE","$source",190],")",")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n              ",190],["T_VARIABLE","$options",191],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",191],"]",["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'external'",191],";",["T_WHITESPACE","\n              ",191],["T_VARIABLE","$options",192],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",192],"]",["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$source",192],";",["T_WHITESPACE","\n            ",192],"}",["T_WHITESPACE","\n            ",193],["T_COMMENT","\/\/ By default, file paths are relative to the registering extension.\n",194],["T_WHITESPACE","            ",195],["T_ELSE","else",195],["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n              ",195],["T_VARIABLE","$options",196],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",196],"]",["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$path",196],["T_WHITESPACE"," ",196],".",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'\/'",196],["T_WHITESPACE"," ",196],".",["T_WHITESPACE"," ",196],["T_VARIABLE","$source",196],";",["T_WHITESPACE","\n            ",196],"}",["T_WHITESPACE","\n          ",197],"}",["T_WHITESPACE","\n\n          ",198],["T_IF","if",200],["T_WHITESPACE"," ",200],"(","!",["T_ISSET","isset",200],"(",["T_VARIABLE","$library",200],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",200],"]",")",")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n            ",200],["T_COMMENT","\/\/ @todo Get the information from the extension.\n",201],["T_WHITESPACE","            ",202],["T_VARIABLE","$options",202],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",202],"]",["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],"-",["T_LNUMBER","1",202],";",["T_WHITESPACE","\n          ",202],"}",["T_WHITESPACE","\n          ",203],["T_ELSE","else",204],["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n            ",204],["T_VARIABLE","$options",205],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",205],"]",["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$library",205],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",205],"]",";",["T_WHITESPACE","\n          ",205],"}",["T_WHITESPACE","\n\n          ",206],["T_COMMENT","\/\/ Set the 'minified' flag on JS file assets, default to FALSE.\n",208],["T_WHITESPACE","          ",209],["T_IF","if",209],["T_WHITESPACE"," ",209],"(",["T_VARIABLE","$type",209],["T_WHITESPACE"," ",209],["T_IS_EQUAL","==",209],["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'js'",209],["T_WHITESPACE"," ",209],["T_BOOLEAN_AND","&&",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$options",209],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",209],"]",["T_WHITESPACE"," ",209],["T_IS_EQUAL","==",209],["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'file'",209],")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n            ",209],["T_VARIABLE","$options",210],"[",["T_CONSTANT_ENCAPSED_STRING","'minified'",210],"]",["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_ISSET","isset",210],"(",["T_VARIABLE","$options",210],"[",["T_CONSTANT_ENCAPSED_STRING","'minified'",210],"]",")",["T_WHITESPACE"," ",210],"?",["T_WHITESPACE"," ",210],["T_VARIABLE","$options",210],"[",["T_CONSTANT_ENCAPSED_STRING","'minified'",210],"]",["T_WHITESPACE"," ",210],":",["T_WHITESPACE"," ",210],["T_STRING","FALSE",210],";",["T_WHITESPACE","\n          ",210],"}",["T_WHITESPACE","\n\n          ",211],["T_VARIABLE","$library",213],"[",["T_VARIABLE","$type",213],"]","[","]",["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$options",213],";",["T_WHITESPACE","\n        ",213],"}",["T_WHITESPACE","\n      ",214],"}",["T_WHITESPACE","\n    ",215],"}",["T_WHITESPACE","\n\n    ",216],["T_RETURN","return",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$libraries",218],";",["T_WHITESPACE","\n  ",218],"}",["T_WHITESPACE","\n\n  ",219],["T_DOC_COMMENT","\/**\n   * Parses a given library file and allows modules and themes to alter it.\n   *\n   * This method sets the parsed information onto the library property.\n   *\n   * Library information is parsed from *.libraries.yml files; see\n   * editor.library.yml for an example. Every library must have at least one js\n   * or css entry. Each entry starts with a machine name and defines the\n   * following elements:\n   * - js: A list of JavaScript files to include. Each file is keyed by the file\n   *   path. An item can have several attributes (like HTML\n   *   attributes). For example:\n   *   @code\n   *   js:\n   *     path\/js\/file.js: { attributes: { defer: true } }\n   *   @endcode\n   *   If the file has no special attributes, just use an empty object:\n   *   @code\n   *   js:\n   *     path\/js\/file.js: {}\n   *   @endcode\n   *   The path of the file is relative to the module or theme directory, unless\n   *   it starts with a \/, in which case it is relative to the Drupal root. If\n   *   the file path starts with \/\/, it will be treated as a protocol-free,\n   *   external resource (e.g., \/\/cdn.com\/library.js). Full URLs\n   *   (e.g., http:\/\/cdn.com\/library.js) as well as URLs that use a valid\n   *   stream wrapper (e.g., public:\/\/path\/to\/file.js) are also supported.\n   * - css: A list of categories for which the library provides CSS files. The\n   *   available categories are:\n   *   - base\n   *   - layout\n   *   - component\n   *   - state\n   *   - theme\n   *   Each category is itself a key for a sub-list of CSS files to include:\n   *   @code\n   *   css:\n   *     component:\n   *       css\/file.css: {}\n   *   @endcode\n   *   Just like with JavaScript files, each CSS file is the key of an object\n   *   that can define specific attributes. The format of the file path is the\n   *   same as for the JavaScript files.\n   * - dependencies: A list of libraries this library depends on.\n   * - version: The library version. The string \"VERSION\" can be used to mean\n   *   the current Drupal core version.\n   * - header: By default, JavaScript files are included in the footer. If the\n   *   script must be included in the header (along with all its dependencies),\n   *   set this to true. Defaults to false.\n   * - minified: If the file is already minified, set this to true to avoid\n   *   minifying it again. Defaults to false.\n   * - remote: If the library is a third-party script, this provides the\n   *   repository URL for reference.\n   * - license: If the remote property is set, the license information is\n   *   required. It has 3 properties:\n   *   - name: The human-readable name of the license.\n   *   - url: The URL of the license file\/information for the version of the\n   *     library used.\n   *   - gpl-compatible: A Boolean for whether this library is GPL compatible.\n   *\n   * See https:\/\/www.drupal.org\/node\/2274843#define-library for more\n   * information.\n   *\n   * @param string $extension\n   *   The name of the extension that registered a library.\n   * @param string $path\n   *   The relative path to the extension.\n   *\n   * @return array\n   *   An array of parsed library data.\n   *\n   * @throws \\Drupal\\Core\\Asset\\Exception\\InvalidLibraryFileException\n   *   Thrown when a parser exception got thrown.\n   *\/",221],["T_WHITESPACE","\n  ",294],["T_PROTECTED","protected",295],["T_WHITESPACE"," ",295],["T_FUNCTION","function",295],["T_WHITESPACE"," ",295],["T_STRING","parseLibraryInfo",295],"(",["T_VARIABLE","$extension",295],",",["T_WHITESPACE"," ",295],["T_VARIABLE","$path",295],")",["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n    ",295],["T_VARIABLE","$libraries",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],"[","]",";",["T_WHITESPACE","\n\n    ",296],["T_VARIABLE","$library_file",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_VARIABLE","$path",298],["T_WHITESPACE"," ",298],".",["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","'\/'",298],["T_WHITESPACE"," ",298],".",["T_WHITESPACE"," ",298],["T_VARIABLE","$extension",298],["T_WHITESPACE"," ",298],".",["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","'.libraries.yml'",298],";",["T_WHITESPACE","\n    ",298],["T_IF","if",299],["T_WHITESPACE"," ",299],"(",["T_STRING","file_exists",299],"(",["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","root",299],["T_WHITESPACE"," ",299],".",["T_WHITESPACE"," ",299],["T_CONSTANT_ENCAPSED_STRING","'\/'",299],["T_WHITESPACE"," ",299],".",["T_WHITESPACE"," ",299],["T_VARIABLE","$library_file",299],")",")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n      ",299],["T_TRY","try",300],["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n        ",300],["T_VARIABLE","$libraries",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_STRING","Yaml",301],["T_DOUBLE_COLON","::",301],["T_STRING","decode",301],"(",["T_STRING","file_get_contents",301],"(",["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","root",301],["T_WHITESPACE"," ",301],".",["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'\/'",301],["T_WHITESPACE"," ",301],".",["T_WHITESPACE"," ",301],["T_VARIABLE","$library_file",301],")",")",";",["T_WHITESPACE","\n      ",301],"}",["T_WHITESPACE","\n      ",302],["T_CATCH","catch",303],["T_WHITESPACE"," ",303],"(",["T_STRING","InvalidDataTypeException",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$e",303],")",["T_WHITESPACE"," ",303],"{",["T_WHITESPACE","\n        ",303],["T_COMMENT","\/\/ Rethrow a more helpful exception to provide context.\n",304],["T_WHITESPACE","        ",305],["T_THROW","throw",305],["T_WHITESPACE"," ",305],["T_NEW","new",305],["T_WHITESPACE"," ",305],["T_STRING","InvalidLibraryFileException",305],"(",["T_STRING","sprintf",305],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid library definition in %s: %s'",305],",",["T_WHITESPACE"," ",305],["T_VARIABLE","$library_file",305],",",["T_WHITESPACE"," ",305],["T_VARIABLE","$e",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","getMessage",305],"(",")",")",",",["T_WHITESPACE"," ",305],["T_LNUMBER","0",305],",",["T_WHITESPACE"," ",305],["T_VARIABLE","$e",305],")",";",["T_WHITESPACE","\n      ",305],"}",["T_WHITESPACE","\n    ",306],"}",["T_WHITESPACE","\n\n    ",307],["T_COMMENT","\/\/ Allow modules to add dynamic library definitions.\n",309],["T_WHITESPACE","    ",310],["T_VARIABLE","$hook",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_CONSTANT_ENCAPSED_STRING","'library_info_build'",310],";",["T_WHITESPACE","\n    ",310],["T_IF","if",311],["T_WHITESPACE"," ",311],"(",["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","moduleHandler",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","implementsHook",311],"(",["T_VARIABLE","$extension",311],",",["T_WHITESPACE"," ",311],["T_VARIABLE","$hook",311],")",")",["T_WHITESPACE"," ",311],"{",["T_WHITESPACE","\n      ",311],["T_VARIABLE","$libraries",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_STRING","NestedArray",312],["T_DOUBLE_COLON","::",312],["T_STRING","mergeDeep",312],"(",["T_VARIABLE","$libraries",312],",",["T_WHITESPACE"," ",312],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","moduleHandler",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","invoke",312],"(",["T_VARIABLE","$extension",312],",",["T_WHITESPACE"," ",312],["T_VARIABLE","$hook",312],")",")",";",["T_WHITESPACE","\n    ",312],"}",["T_WHITESPACE","\n\n    ",313],["T_COMMENT","\/\/ Allow modules to alter the module's registered libraries.\n",315],["T_WHITESPACE","    ",316],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","moduleHandler",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","alter",316],"(",["T_CONSTANT_ENCAPSED_STRING","'library_info'",316],",",["T_WHITESPACE"," ",316],["T_VARIABLE","$libraries",316],",",["T_WHITESPACE"," ",316],["T_VARIABLE","$extension",316],")",";",["T_WHITESPACE","\n    ",316],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","themeManager",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","alter",317],"(",["T_CONSTANT_ENCAPSED_STRING","'library_info'",317],",",["T_WHITESPACE"," ",317],["T_VARIABLE","$libraries",317],",",["T_WHITESPACE"," ",317],["T_VARIABLE","$extension",317],")",";",["T_WHITESPACE","\n\n    ",317],["T_RETURN","return",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$libraries",319],";",["T_WHITESPACE","\n  ",319],"}",["T_WHITESPACE","\n\n  ",320],["T_DOC_COMMENT","\/**\n   * Apply libraries overrides specified for the current active theme.\n   *\n   * @param array $libraries\n   *   The libraries definitions.\n   * @param string $extension\n   *   The extension in which these libraries are defined.\n   *\n   * @return array\n   *   The modified libraries definitions.\n   *\/",322],["T_WHITESPACE","\n  ",332],["T_PROTECTED","protected",333],["T_WHITESPACE"," ",333],["T_FUNCTION","function",333],["T_WHITESPACE"," ",333],["T_STRING","applyLibrariesOverride",333],"(",["T_VARIABLE","$libraries",333],",",["T_WHITESPACE"," ",333],["T_VARIABLE","$extension",333],")",["T_WHITESPACE"," ",333],"{",["T_WHITESPACE","\n    ",333],["T_VARIABLE","$active_theme",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","themeManager",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","getActiveTheme",334],"(",")",";",["T_WHITESPACE","\n    ",334],["T_COMMENT","\/\/ ActiveTheme::getLibrariesOverride() returns libraries-overrides for the\n",335],["T_WHITESPACE","    ",336],["T_COMMENT","\/\/ current theme as well as all its base themes.\n",336],["T_WHITESPACE","    ",337],["T_VARIABLE","$all_libraries_overrides",337],["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_VARIABLE","$active_theme",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","getLibrariesOverride",337],"(",")",";",["T_WHITESPACE","\n    ",337],["T_FOREACH","foreach",338],["T_WHITESPACE"," ",338],"(",["T_VARIABLE","$all_libraries_overrides",338],["T_WHITESPACE"," ",338],["T_AS","as",338],["T_WHITESPACE"," ",338],["T_VARIABLE","$theme_path",338],["T_WHITESPACE"," ",338],["T_DOUBLE_ARROW","=>",338],["T_WHITESPACE"," ",338],["T_VARIABLE","$libraries_overrides",338],")",["T_WHITESPACE"," ",338],"{",["T_WHITESPACE","\n      ",338],["T_FOREACH","foreach",339],["T_WHITESPACE"," ",339],"(",["T_VARIABLE","$libraries",339],["T_WHITESPACE"," ",339],["T_AS","as",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$library_name",339],["T_WHITESPACE"," ",339],["T_DOUBLE_ARROW","=>",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$library",339],")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n        ",339],["T_COMMENT","\/\/ Process libraries overrides.\n",340],["T_WHITESPACE","        ",341],["T_IF","if",341],["T_WHITESPACE"," ",341],"(",["T_ISSET","isset",341],"(",["T_VARIABLE","$libraries_overrides",341],"[","\"",["T_VARIABLE","$extension",341],["T_ENCAPSED_AND_WHITESPACE","\/",341],["T_VARIABLE","$library_name",341],"\"","]",")",")",["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\n          ",341],["T_COMMENT","\/\/ Active theme defines an override for this library.\n",342],["T_WHITESPACE","          ",343],["T_VARIABLE","$override_definition",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_VARIABLE","$libraries_overrides",343],"[","\"",["T_VARIABLE","$extension",343],["T_ENCAPSED_AND_WHITESPACE","\/",343],["T_VARIABLE","$library_name",343],"\"","]",";",["T_WHITESPACE","\n          ",343],["T_IF","if",344],["T_WHITESPACE"," ",344],"(",["T_STRING","is_string",344],"(",["T_VARIABLE","$override_definition",344],")",["T_WHITESPACE"," ",344],["T_BOOLEAN_OR","||",344],["T_WHITESPACE"," ",344],["T_VARIABLE","$override_definition",344],["T_WHITESPACE"," ",344],["T_IS_IDENTICAL","===",344],["T_WHITESPACE"," ",344],["T_STRING","FALSE",344],")",["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n            ",344],["T_COMMENT","\/\/ A string or boolean definition implies an override (or removal)\n",345],["T_WHITESPACE","            ",346],["T_COMMENT","\/\/ for the whole library. Use the override key to specify that this\n",346],["T_WHITESPACE","            ",347],["T_COMMENT","\/\/ library will be overridden when it is called.\n",347],["T_WHITESPACE","            ",348],["T_COMMENT","\/\/ @see \\Drupal\\Core\\Asset\\LibraryDiscovery::getLibraryByName()\n",348],["T_WHITESPACE","            ",349],["T_IF","if",349],["T_WHITESPACE"," ",349],"(",["T_VARIABLE","$override_definition",349],")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n              ",349],["T_VARIABLE","$libraries",350],"[",["T_VARIABLE","$library_name",350],"]","[",["T_CONSTANT_ENCAPSED_STRING","'override'",350],"]",["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_VARIABLE","$override_definition",350],";",["T_WHITESPACE","\n            ",350],"}",["T_WHITESPACE","\n            ",351],["T_ELSE","else",352],["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n              ",352],["T_VARIABLE","$libraries",353],"[",["T_VARIABLE","$library_name",353],"]","[",["T_CONSTANT_ENCAPSED_STRING","'override'",353],"]",["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_STRING","FALSE",353],";",["T_WHITESPACE","\n            ",353],"}",["T_WHITESPACE","\n          ",354],"}",["T_WHITESPACE","\n          ",355],["T_ELSEIF","elseif",356],["T_WHITESPACE"," ",356],"(",["T_STRING","is_array",356],"(",["T_VARIABLE","$override_definition",356],")",")",["T_WHITESPACE"," ",356],"{",["T_WHITESPACE","\n            ",356],["T_COMMENT","\/\/ An array definition implies an override for an asset within this\n",357],["T_WHITESPACE","            ",358],["T_COMMENT","\/\/ library.\n",358],["T_WHITESPACE","            ",359],["T_FOREACH","foreach",359],["T_WHITESPACE"," ",359],"(",["T_VARIABLE","$override_definition",359],["T_WHITESPACE"," ",359],["T_AS","as",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$sub_key",359],["T_WHITESPACE"," ",359],["T_DOUBLE_ARROW","=>",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$value",359],")",["T_WHITESPACE"," ",359],"{",["T_WHITESPACE","\n              ",359],["T_COMMENT","\/\/ Throw an exception if the asset is not properly specified.\n",360],["T_WHITESPACE","              ",361],["T_IF","if",361],["T_WHITESPACE"," ",361],"(","!",["T_STRING","is_array",361],"(",["T_VARIABLE","$value",361],")",")",["T_WHITESPACE"," ",361],"{",["T_WHITESPACE","\n                ",361],["T_THROW","throw",362],["T_WHITESPACE"," ",362],["T_NEW","new",362],["T_WHITESPACE"," ",362],["T_STRING","InvalidLibrariesOverrideSpecificationException",362],"(",["T_STRING","sprintf",362],"(",["T_CONSTANT_ENCAPSED_STRING","'Library asset %s is not correctly specified. It should be in the form \"extension\/library_name\/sub_key\/path\/to\/asset.js\".'",362],",",["T_WHITESPACE"," ",362],"\"",["T_VARIABLE","$extension",362],["T_ENCAPSED_AND_WHITESPACE","\/",362],["T_VARIABLE","$library_name",362],["T_ENCAPSED_AND_WHITESPACE","\/",362],["T_VARIABLE","$sub_key",362],"\"",")",")",";",["T_WHITESPACE","\n              ",362],"}",["T_WHITESPACE","\n              ",363],["T_IF","if",364],["T_WHITESPACE"," ",364],"(",["T_VARIABLE","$sub_key",364],["T_WHITESPACE"," ",364],["T_IS_IDENTICAL","===",364],["T_WHITESPACE"," ",364],["T_CONSTANT_ENCAPSED_STRING","'drupalSettings'",364],")",["T_WHITESPACE"," ",364],"{",["T_WHITESPACE","\n                ",364],["T_COMMENT","\/\/ drupalSettings may not be overridden.\n",365],["T_WHITESPACE","                ",366],["T_THROW","throw",366],["T_WHITESPACE"," ",366],["T_NEW","new",366],["T_WHITESPACE"," ",366],["T_STRING","InvalidLibrariesOverrideSpecificationException",366],"(",["T_STRING","sprintf",366],"(",["T_CONSTANT_ENCAPSED_STRING","'drupalSettings may not be overridden in libraries-override. Trying to override %s. Use hook_library_info_alter() instead.'",366],",",["T_WHITESPACE"," ",366],"\"",["T_VARIABLE","$extension",366],["T_ENCAPSED_AND_WHITESPACE","\/",366],["T_VARIABLE","$library_name",366],["T_ENCAPSED_AND_WHITESPACE","\/",366],["T_VARIABLE","$sub_key",366],"\"",")",")",";",["T_WHITESPACE","\n              ",366],"}",["T_WHITESPACE","\n              ",367],["T_ELSEIF","elseif",368],["T_WHITESPACE"," ",368],"(",["T_VARIABLE","$sub_key",368],["T_WHITESPACE"," ",368],["T_IS_IDENTICAL","===",368],["T_WHITESPACE"," ",368],["T_CONSTANT_ENCAPSED_STRING","'css'",368],")",["T_WHITESPACE"," ",368],"{",["T_WHITESPACE","\n                ",368],["T_COMMENT","\/\/ SMACSS category should be incorporated into the asset name.\n",369],["T_WHITESPACE","                ",370],["T_FOREACH","foreach",370],["T_WHITESPACE"," ",370],"(",["T_VARIABLE","$value",370],["T_WHITESPACE"," ",370],["T_AS","as",370],["T_WHITESPACE"," ",370],["T_VARIABLE","$category",370],["T_WHITESPACE"," ",370],["T_DOUBLE_ARROW","=>",370],["T_WHITESPACE"," ",370],["T_VARIABLE","$overrides",370],")",["T_WHITESPACE"," ",370],"{",["T_WHITESPACE","\n                  ",370],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","setOverrideValue",371],"(",["T_VARIABLE","$libraries",371],"[",["T_VARIABLE","$library_name",371],"]",",",["T_WHITESPACE"," ",371],"[",["T_VARIABLE","$sub_key",371],",",["T_WHITESPACE"," ",371],["T_VARIABLE","$category",371],"]",",",["T_WHITESPACE"," ",371],["T_VARIABLE","$overrides",371],",",["T_WHITESPACE"," ",371],["T_VARIABLE","$theme_path",371],")",";",["T_WHITESPACE","\n                ",371],"}",["T_WHITESPACE","\n              ",372],"}",["T_WHITESPACE","\n              ",373],["T_ELSE","else",374],["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n                ",374],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","setOverrideValue",375],"(",["T_VARIABLE","$libraries",375],"[",["T_VARIABLE","$library_name",375],"]",",",["T_WHITESPACE"," ",375],"[",["T_VARIABLE","$sub_key",375],"]",",",["T_WHITESPACE"," ",375],["T_VARIABLE","$value",375],",",["T_WHITESPACE"," ",375],["T_VARIABLE","$theme_path",375],")",";",["T_WHITESPACE","\n              ",375],"}",["T_WHITESPACE","\n            ",376],"}",["T_WHITESPACE","\n          ",377],"}",["T_WHITESPACE","\n        ",378],"}",["T_WHITESPACE","\n      ",379],"}",["T_WHITESPACE","\n    ",380],"}",["T_WHITESPACE","\n\n    ",381],["T_RETURN","return",383],["T_WHITESPACE"," ",383],["T_VARIABLE","$libraries",383],";",["T_WHITESPACE","\n  ",383],"}",["T_WHITESPACE","\n\n  ",384],["T_DOC_COMMENT","\/**\n   * Wraps drupal_get_path().\n   *\/",386],["T_WHITESPACE","\n  ",388],["T_PROTECTED","protected",389],["T_WHITESPACE"," ",389],["T_FUNCTION","function",389],["T_WHITESPACE"," ",389],["T_STRING","drupalGetPath",389],"(",["T_VARIABLE","$type",389],",",["T_WHITESPACE"," ",389],["T_VARIABLE","$name",389],")",["T_WHITESPACE"," ",389],"{",["T_WHITESPACE","\n    ",389],["T_RETURN","return",390],["T_WHITESPACE"," ",390],["T_STRING","drupal_get_path",390],"(",["T_VARIABLE","$type",390],",",["T_WHITESPACE"," ",390],["T_VARIABLE","$name",390],")",";",["T_WHITESPACE","\n  ",390],"}",["T_WHITESPACE","\n\n  ",391],["T_DOC_COMMENT","\/**\n   * Wraps file_valid_uri().\n   *\/",393],["T_WHITESPACE","\n  ",395],["T_PROTECTED","protected",396],["T_WHITESPACE"," ",396],["T_FUNCTION","function",396],["T_WHITESPACE"," ",396],["T_STRING","fileValidUri",396],"(",["T_VARIABLE","$source",396],")",["T_WHITESPACE"," ",396],"{",["T_WHITESPACE","\n    ",396],["T_RETURN","return",397],["T_WHITESPACE"," ",397],["T_STRING","file_valid_uri",397],"(",["T_VARIABLE","$source",397],")",";",["T_WHITESPACE","\n  ",397],"}",["T_WHITESPACE","\n\n  ",398],["T_DOC_COMMENT","\/**\n   * Determines if the supplied string is a valid URI.\n   *\/",400],["T_WHITESPACE","\n  ",402],["T_PROTECTED","protected",403],["T_WHITESPACE"," ",403],["T_FUNCTION","function",403],["T_WHITESPACE"," ",403],["T_STRING","isValidUri",403],"(",["T_VARIABLE","$string",403],")",["T_WHITESPACE"," ",403],"{",["T_WHITESPACE","\n    ",403],["T_RETURN","return",404],["T_WHITESPACE"," ",404],["T_STRING","count",404],"(",["T_STRING","explode",404],"(",["T_CONSTANT_ENCAPSED_STRING","':\/\/'",404],",",["T_WHITESPACE"," ",404],["T_VARIABLE","$string",404],")",")",["T_WHITESPACE"," ",404],["T_IS_IDENTICAL","===",404],["T_WHITESPACE"," ",404],["T_LNUMBER","2",404],";",["T_WHITESPACE","\n  ",404],"}",["T_WHITESPACE","\n\n  ",405],["T_DOC_COMMENT","\/**\n   * Overrides the specified library asset.\n   *\n   * @param array $library\n   *   The containing library definition.\n   * @param array $sub_key\n   *   An array containing the sub-keys specifying the library asset, e.g.\n   *   @code['js']@endcode or @code['css', 'component']@endcode\n   * @param array $overrides\n   *   Specifies the overrides, this is an array where the key is the asset to\n   *   be overridden while the value is overriding asset.\n   *\/",407],["T_WHITESPACE","\n  ",418],["T_PROTECTED","protected",419],["T_WHITESPACE"," ",419],["T_FUNCTION","function",419],["T_WHITESPACE"," ",419],["T_STRING","setOverrideValue",419],"(",["T_ARRAY","array",419],["T_WHITESPACE"," ",419],"&",["T_VARIABLE","$library",419],",",["T_WHITESPACE"," ",419],["T_ARRAY","array",419],["T_WHITESPACE"," ",419],["T_VARIABLE","$sub_key",419],",",["T_WHITESPACE"," ",419],["T_ARRAY","array",419],["T_WHITESPACE"," ",419],["T_VARIABLE","$overrides",419],",",["T_WHITESPACE"," ",419],["T_VARIABLE","$theme_path",419],")",["T_WHITESPACE"," ",419],"{",["T_WHITESPACE","\n    ",419],["T_FOREACH","foreach",420],["T_WHITESPACE"," ",420],"(",["T_VARIABLE","$overrides",420],["T_WHITESPACE"," ",420],["T_AS","as",420],["T_WHITESPACE"," ",420],["T_VARIABLE","$original",420],["T_WHITESPACE"," ",420],["T_DOUBLE_ARROW","=>",420],["T_WHITESPACE"," ",420],["T_VARIABLE","$replacement",420],")",["T_WHITESPACE"," ",420],"{",["T_WHITESPACE","\n      ",420],["T_COMMENT","\/\/ Get the attributes of the asset to be overridden. If the key does\n",421],["T_WHITESPACE","      ",422],["T_COMMENT","\/\/ not exist, then throw an exception.\n",422],["T_WHITESPACE","      ",423],["T_VARIABLE","$key_exists",423],["T_WHITESPACE"," ",423],"=",["T_WHITESPACE"," ",423],["T_STRING","NULL",423],";",["T_WHITESPACE","\n      ",423],["T_VARIABLE","$parents",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_STRING","array_merge",424],"(",["T_VARIABLE","$sub_key",424],",",["T_WHITESPACE"," ",424],"[",["T_VARIABLE","$original",424],"]",")",";",["T_WHITESPACE","\n      ",424],["T_COMMENT","\/\/ Save the attributes of the library asset to be overridden.\n",425],["T_WHITESPACE","      ",426],["T_VARIABLE","$attributes",426],["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_STRING","NestedArray",426],["T_DOUBLE_COLON","::",426],["T_STRING","getValue",426],"(",["T_VARIABLE","$library",426],",",["T_WHITESPACE"," ",426],["T_VARIABLE","$parents",426],",",["T_WHITESPACE"," ",426],["T_VARIABLE","$key_exists",426],")",";",["T_WHITESPACE","\n      ",426],["T_IF","if",427],["T_WHITESPACE"," ",427],"(",["T_VARIABLE","$key_exists",427],")",["T_WHITESPACE"," ",427],"{",["T_WHITESPACE","\n        ",427],["T_COMMENT","\/\/ Remove asset to be overridden.\n",428],["T_WHITESPACE","        ",429],["T_STRING","NestedArray",429],["T_DOUBLE_COLON","::",429],["T_STRING","unsetValue",429],"(",["T_VARIABLE","$library",429],",",["T_WHITESPACE"," ",429],["T_VARIABLE","$parents",429],")",";",["T_WHITESPACE","\n        ",429],["T_COMMENT","\/\/ No need to replace if FALSE is specified, since that is a removal.\n",430],["T_WHITESPACE","        ",431],["T_IF","if",431],["T_WHITESPACE"," ",431],"(",["T_VARIABLE","$replacement",431],")",["T_WHITESPACE"," ",431],"{",["T_WHITESPACE","\n          ",431],["T_COMMENT","\/\/ Ensure the replacement path is relative to drupal root.\n",432],["T_WHITESPACE","          ",433],["T_VARIABLE","$replacement",433],["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","resolveThemeAssetPath",433],"(",["T_VARIABLE","$theme_path",433],",",["T_WHITESPACE"," ",433],["T_VARIABLE","$replacement",433],")",";",["T_WHITESPACE","\n          ",433],["T_VARIABLE","$new_parents",434],["T_WHITESPACE"," ",434],"=",["T_WHITESPACE"," ",434],["T_STRING","array_merge",434],"(",["T_VARIABLE","$sub_key",434],",",["T_WHITESPACE"," ",434],"[",["T_VARIABLE","$replacement",434],"]",")",";",["T_WHITESPACE","\n          ",434],["T_COMMENT","\/\/ Replace with an override if specified.\n",435],["T_WHITESPACE","          ",436],["T_STRING","NestedArray",436],["T_DOUBLE_COLON","::",436],["T_STRING","setValue",436],"(",["T_VARIABLE","$library",436],",",["T_WHITESPACE"," ",436],["T_VARIABLE","$new_parents",436],",",["T_WHITESPACE"," ",436],["T_VARIABLE","$attributes",436],")",";",["T_WHITESPACE","\n        ",436],"}",["T_WHITESPACE","\n      ",437],"}",["T_WHITESPACE","\n    ",438],"}",["T_WHITESPACE","\n  ",439],"}",["T_WHITESPACE","\n\n  ",440],["T_DOC_COMMENT","\/**\n   * Ensures that a full path is returned for an overriding theme asset.\n   *\n   * @param string $theme_path\n   *   The theme or base theme.\n   * @param string $overriding_asset\n   *   The overriding library asset.\n   *\n   * @return string\n   *   A fully resolved theme asset path relative to the Drupal directory.\n   *\/",442],["T_WHITESPACE","\n  ",452],["T_PROTECTED","protected",453],["T_WHITESPACE"," ",453],["T_FUNCTION","function",453],["T_WHITESPACE"," ",453],["T_STRING","resolveThemeAssetPath",453],"(",["T_VARIABLE","$theme_path",453],",",["T_WHITESPACE"," ",453],["T_VARIABLE","$overriding_asset",453],")",["T_WHITESPACE"," ",453],"{",["T_WHITESPACE","\n    ",453],["T_IF","if",454],["T_WHITESPACE"," ",454],"(",["T_VARIABLE","$overriding_asset",454],"[",["T_LNUMBER","0",454],"]",["T_WHITESPACE"," ",454],["T_IS_NOT_IDENTICAL","!==",454],["T_WHITESPACE"," ",454],["T_CONSTANT_ENCAPSED_STRING","'\/'",454],["T_WHITESPACE"," ",454],["T_BOOLEAN_AND","&&",454],["T_WHITESPACE"," ",454],"!",["T_VARIABLE","$this",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","isValidUri",454],"(",["T_VARIABLE","$overriding_asset",454],")",")",["T_WHITESPACE"," ",454],"{",["T_WHITESPACE","\n      ",454],["T_COMMENT","\/\/ The destination is not an absolute path and it's not a URI (e.g.\n",455],["T_WHITESPACE","      ",456],["T_COMMENT","\/\/ public:\/\/generated_js\/example.js or http:\/\/example.com\/js\/my_js.js), so\n",456],["T_WHITESPACE","      ",457],["T_COMMENT","\/\/ it's relative to the theme.\n",457],["T_WHITESPACE","      ",458],["T_RETURN","return",458],["T_WHITESPACE"," ",458],["T_CONSTANT_ENCAPSED_STRING","'\/'",458],["T_WHITESPACE"," ",458],".",["T_WHITESPACE"," ",458],["T_VARIABLE","$theme_path",458],["T_WHITESPACE"," ",458],".",["T_WHITESPACE"," ",458],["T_CONSTANT_ENCAPSED_STRING","'\/'",458],["T_WHITESPACE"," ",458],".",["T_WHITESPACE"," ",458],["T_VARIABLE","$overriding_asset",458],";",["T_WHITESPACE","\n    ",458],"}",["T_WHITESPACE","\n    ",459],["T_RETURN","return",460],["T_WHITESPACE"," ",460],["T_VARIABLE","$overriding_asset",460],";",["T_WHITESPACE","\n  ",460],"}",["T_WHITESPACE","\n\n",461],"}",["T_WHITESPACE","\n",463]]