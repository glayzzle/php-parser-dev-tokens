[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Asset",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Utility",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Unicode",5],";",["T_WHITESPACE","\n\n",5],["T_DOC_COMMENT","\/**\n * Optimizes a CSS asset.\n *\/",7],["T_WHITESPACE","\n",9],["T_CLASS","class",10],["T_WHITESPACE"," ",10],["T_STRING","CssOptimizer",10],["T_WHITESPACE"," ",10],["T_IMPLEMENTS","implements",10],["T_WHITESPACE"," ",10],["T_STRING","AssetOptimizerInterface",10],["T_WHITESPACE"," ",10],"{",["T_WHITESPACE","\n\n  ",10],["T_DOC_COMMENT","\/**\n   * The base path used by rewriteFileURI().\n   *\n   * @var string\n   *\/",12],["T_WHITESPACE","\n  ",16],["T_PUBLIC","public",17],["T_WHITESPACE"," ",17],["T_VARIABLE","$rewriteFileURIBasePath",17],";",["T_WHITESPACE","\n\n  ",17],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",19],["T_WHITESPACE","\n  ",21],["T_PUBLIC","public",22],["T_WHITESPACE"," ",22],["T_FUNCTION","function",22],["T_WHITESPACE"," ",22],["T_STRING","optimize",22],"(",["T_ARRAY","array",22],["T_WHITESPACE"," ",22],["T_VARIABLE","$css_asset",22],")",["T_WHITESPACE"," ",22],"{",["T_WHITESPACE","\n    ",22],["T_IF","if",23],["T_WHITESPACE"," ",23],"(",["T_VARIABLE","$css_asset",23],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",23],"]",["T_WHITESPACE"," ",23],["T_IS_NOT_EQUAL","!=",23],["T_WHITESPACE"," ",23],["T_CONSTANT_ENCAPSED_STRING","'file'",23],")",["T_WHITESPACE"," ",23],"{",["T_WHITESPACE","\n      ",23],["T_THROW","throw",24],["T_WHITESPACE"," ",24],["T_NEW","new",24],["T_WHITESPACE"," ",24],["T_NS_SEPARATOR","\\",24],["T_STRING","Exception",24],"(",["T_CONSTANT_ENCAPSED_STRING","'Only file CSS assets can be optimized.'",24],")",";",["T_WHITESPACE","\n    ",24],"}",["T_WHITESPACE","\n    ",25],["T_IF","if",26],["T_WHITESPACE"," ",26],"(","!",["T_VARIABLE","$css_asset",26],"[",["T_CONSTANT_ENCAPSED_STRING","'preprocess'",26],"]",")",["T_WHITESPACE"," ",26],"{",["T_WHITESPACE","\n      ",26],["T_THROW","throw",27],["T_WHITESPACE"," ",27],["T_NEW","new",27],["T_WHITESPACE"," ",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Exception",27],"(",["T_CONSTANT_ENCAPSED_STRING","'Only file CSS assets with preprocessing enabled can be optimized.'",27],")",";",["T_WHITESPACE","\n    ",27],"}",["T_WHITESPACE","\n\n    ",28],["T_RETURN","return",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$this",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","processFile",30],"(",["T_VARIABLE","$css_asset",30],")",";",["T_WHITESPACE","\n  ",30],"}",["T_WHITESPACE","\n\n  ",31],["T_DOC_COMMENT","\/**\n   * Processes the contents of a CSS asset for cleanup.\n   *\n   * @param string $contents\n   *   The contents of the CSS asset.\n   *\n   * @return string\n   *   Contents of the CSS asset.\n   *\/",33],["T_WHITESPACE","\n  ",41],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","clean",42],"(",["T_VARIABLE","$contents",42],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n    ",42],["T_COMMENT","\/\/ Remove multiple charset declarations for standards compliance (and fixing\n",43],["T_WHITESPACE","    ",44],["T_COMMENT","\/\/ Safari problems).\n",44],["T_WHITESPACE","    ",45],["T_VARIABLE","$contents",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","preg_replace",45],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^@charset\\s+[\\'\"](\\S*?)\\b[\\'\"];\/i'",45],",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","''",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$contents",45],")",";",["T_WHITESPACE","\n\n    ",45],["T_RETURN","return",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$contents",47],";",["T_WHITESPACE","\n  ",47],"}",["T_WHITESPACE","\n\n  ",48],["T_DOC_COMMENT","\/**\n   * Build aggregate CSS file.\n   *\/",50],["T_WHITESPACE","\n  ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","processFile",53],"(",["T_VARIABLE","$css_asset",53],")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n    ",53],["T_VARIABLE","$contents",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","loadFile",54],"(",["T_VARIABLE","$css_asset",54],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",54],"]",",",["T_WHITESPACE"," ",54],["T_STRING","TRUE",54],")",";",["T_WHITESPACE","\n\n    ",54],["T_VARIABLE","$contents",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","clean",56],"(",["T_VARIABLE","$contents",56],")",";",["T_WHITESPACE","\n\n    ",56],["T_COMMENT","\/\/ Get the parent directory of this file, relative to the Drupal root.\n",58],["T_WHITESPACE","    ",59],["T_VARIABLE","$css_base_path",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","substr",59],"(",["T_VARIABLE","$css_asset",59],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",59],"]",",",["T_WHITESPACE"," ",59],["T_LNUMBER","0",59],",",["T_WHITESPACE"," ",59],["T_STRING","strrpos",59],"(",["T_VARIABLE","$css_asset",59],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",59],"]",",",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'\/'",59],")",")",";",["T_WHITESPACE","\n    ",59],["T_COMMENT","\/\/ Store base path.\n",60],["T_WHITESPACE","    ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","rewriteFileURIBasePath",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$css_base_path",61],["T_WHITESPACE"," ",61],".",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'\/'",61],";",["T_WHITESPACE","\n\n    ",61],["T_COMMENT","\/\/ Anchor all paths in the CSS with its base URL, ignoring external and absolute paths.\n",63],["T_WHITESPACE","    ",64],["T_RETURN","return",64],["T_WHITESPACE"," ",64],["T_STRING","preg_replace_callback",64],"(",["T_CONSTANT_ENCAPSED_STRING","'\/url\\(\\s*[\\'\"]?(?![a-z]+:|\\\/+)([^\\'\")]+)[\\'\"]?\\s*\\)\/i'",64],",",["T_WHITESPACE"," ",64],["T_ARRAY","array",64],"(",["T_VARIABLE","$this",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'rewriteFileURI'",64],")",",",["T_WHITESPACE"," ",64],["T_VARIABLE","$contents",64],")",";",["T_WHITESPACE","\n  ",64],"}",["T_WHITESPACE","\n\n  ",65],["T_DOC_COMMENT","\/**\n   * Loads the stylesheet and resolves all @import commands.\n   *\n   * Loads a stylesheet and replaces @import commands with the contents of the\n   * imported file. Use this instead of file_get_contents when processing\n   * stylesheets.\n   *\n   * The returned contents are compressed removing white space and comments only\n   * when CSS aggregation is enabled. This optimization will not apply for\n   * color.module enabled themes with CSS aggregation turned off.\n   *\n   * Note: the only reason this method is public is so color.module can call it;\n   * it is not on the AssetOptimizerInterface, so future refactorings can make\n   * it protected.\n   *\n   * @param $file\n   *   Name of the stylesheet to be processed.\n   * @param $optimize\n   *   Defines if CSS contents should be compressed or not.\n   * @param $reset_basepath\n   *   Used internally to facilitate recursive resolution of @import commands.\n   *\n   * @return\n   *   Contents of the stylesheet, including any resolved @import commands.\n   *\/",67],["T_WHITESPACE","\n  ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","loadFile",92],"(",["T_VARIABLE","$file",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$optimize",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_STRING","NULL",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$reset_basepath",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_STRING","TRUE",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n    ",92],["T_COMMENT","\/\/ These statics are not cache variables, so we don't use drupal_static().\n",93],["T_WHITESPACE","    ",94],["T_STATIC","static",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$_optimize",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$basepath",94],";",["T_WHITESPACE","\n    ",94],["T_IF","if",95],["T_WHITESPACE"," ",95],"(",["T_VARIABLE","$reset_basepath",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n      ",95],["T_VARIABLE","$basepath",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","''",96],";",["T_WHITESPACE","\n    ",96],"}",["T_WHITESPACE","\n    ",97],["T_COMMENT","\/\/ Store the value of $optimize for preg_replace_callback with nested\n",98],["T_WHITESPACE","    ",99],["T_COMMENT","\/\/ @import loops.\n",99],["T_WHITESPACE","    ",100],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_ISSET","isset",100],"(",["T_VARIABLE","$optimize",100],")",")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n      ",100],["T_VARIABLE","$_optimize",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$optimize",101],";",["T_WHITESPACE","\n    ",101],"}",["T_WHITESPACE","\n\n    ",102],["T_COMMENT","\/\/ Stylesheets are relative one to each other. Start by adding a base path\n",104],["T_WHITESPACE","    ",105],["T_COMMENT","\/\/ prefix provided by the parent stylesheet (if necessary).\n",105],["T_WHITESPACE","    ",106],["T_IF","if",106],["T_WHITESPACE"," ",106],"(",["T_VARIABLE","$basepath",106],["T_WHITESPACE"," ",106],["T_BOOLEAN_AND","&&",106],["T_WHITESPACE"," ",106],"!",["T_STRING","file_uri_scheme",106],"(",["T_VARIABLE","$file",106],")",")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n      ",106],["T_VARIABLE","$file",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$basepath",107],["T_WHITESPACE"," ",107],".",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'\/'",107],["T_WHITESPACE"," ",107],".",["T_WHITESPACE"," ",107],["T_VARIABLE","$file",107],";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n    ",108],["T_COMMENT","\/\/ Store the parent base path to restore it later.\n",109],["T_WHITESPACE","    ",110],["T_VARIABLE","$parent_base_path",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$basepath",110],";",["T_WHITESPACE","\n    ",110],["T_COMMENT","\/\/ Set the current base path to process possible child imports.\n",111],["T_WHITESPACE","    ",112],["T_VARIABLE","$basepath",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","dirname",112],"(",["T_VARIABLE","$file",112],")",";",["T_WHITESPACE","\n\n    ",112],["T_COMMENT","\/\/ Load the CSS stylesheet. We suppress errors because themes may specify\n",114],["T_WHITESPACE","    ",115],["T_COMMENT","\/\/ stylesheets in their .info.yml file that don't exist in the theme's path,\n",115],["T_WHITESPACE","    ",116],["T_COMMENT","\/\/ but are merely there to disable certain module CSS files.\n",116],["T_WHITESPACE","    ",117],["T_VARIABLE","$content",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","''",117],";",["T_WHITESPACE","\n    ",117],["T_IF","if",118],["T_WHITESPACE"," ",118],"(",["T_VARIABLE","$contents",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],"@",["T_STRING","file_get_contents",118],"(",["T_VARIABLE","$file",118],")",")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n      ",118],["T_COMMENT","\/\/ If a BOM is found, convert the file to UTF-8, then use substr() to\n",119],["T_WHITESPACE","      ",120],["T_COMMENT","\/\/ remove the BOM from the result.\n",120],["T_WHITESPACE","      ",121],["T_IF","if",121],["T_WHITESPACE"," ",121],"(",["T_VARIABLE","$encoding",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],"(",["T_STRING","Unicode",121],["T_DOUBLE_COLON","::",121],["T_STRING","encodingFromBOM",121],"(",["T_VARIABLE","$contents",121],")",")",")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$contents",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_STRING","Unicode",122],["T_DOUBLE_COLON","::",122],["T_STRING","substr",122],"(",["T_STRING","Unicode",122],["T_DOUBLE_COLON","::",122],["T_STRING","convertToUtf8",122],"(",["T_VARIABLE","$contents",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$encoding",122],")",",",["T_WHITESPACE"," ",122],["T_LNUMBER","1",122],")",";",["T_WHITESPACE","\n      ",122],"}",["T_WHITESPACE","\n      ",123],["T_COMMENT","\/\/ If no BOM, check for fallback encoding. Per CSS spec the regex is very strict.\n",124],["T_WHITESPACE","      ",125],["T_ELSEIF","elseif",125],["T_WHITESPACE"," ",125],"(",["T_STRING","preg_match",125],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^@charset \"([^\"]+)\";\/'",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$contents",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$matches",125],")",")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n        ",125],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$matches",126],"[",["T_LNUMBER","1",126],"]",["T_WHITESPACE"," ",126],["T_IS_NOT_IDENTICAL","!==",126],["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'utf-8'",126],["T_WHITESPACE"," ",126],["T_BOOLEAN_AND","&&",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$matches",126],"[",["T_LNUMBER","1",126],"]",["T_WHITESPACE"," ",126],["T_IS_NOT_IDENTICAL","!==",126],["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n          ",126],["T_VARIABLE","$contents",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_STRING","substr",127],"(",["T_VARIABLE","$contents",127],",",["T_WHITESPACE"," ",127],["T_STRING","strlen",127],"(",["T_VARIABLE","$matches",127],"[",["T_LNUMBER","0",127],"]",")",")",";",["T_WHITESPACE","\n          ",127],["T_VARIABLE","$contents",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_STRING","Unicode",128],["T_DOUBLE_COLON","::",128],["T_STRING","convertToUtf8",128],"(",["T_VARIABLE","$contents",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$matches",128],"[",["T_LNUMBER","1",128],"]",")",";",["T_WHITESPACE","\n        ",128],"}",["T_WHITESPACE","\n      ",129],"}",["T_WHITESPACE","\n\n      ",130],["T_COMMENT","\/\/ Return the processed stylesheet.\n",132],["T_WHITESPACE","      ",133],["T_VARIABLE","$content",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","processCss",133],"(",["T_VARIABLE","$contents",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$_optimize",133],")",";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n\n    ",134],["T_COMMENT","\/\/ Restore the parent base path as the file and its children are processed.\n",136],["T_WHITESPACE","    ",137],["T_VARIABLE","$basepath",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$parent_base_path",137],";",["T_WHITESPACE","\n    ",137],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$content",138],";",["T_WHITESPACE","\n  ",138],"}",["T_WHITESPACE","\n\n  ",139],["T_DOC_COMMENT","\/**\n   * Loads stylesheets recursively and returns contents with corrected paths.\n   *\n   * This function is used for recursive loading of stylesheets and\n   * returns the stylesheet content with all url() paths corrected.\n   *\n   * @param array $matches\n   *   An array of matches by a preg_replace_callback() call that scans for\n   *   @import-ed CSS files, except for external CSS files.\n   *\n   * @return\n   *   The contents of the CSS file at $matches[1], with corrected paths.\n   *\n   * @see \\Drupal\\Core\\Asset\\AssetOptimizerInterface::loadFile()\n   *\/",141],["T_WHITESPACE","\n  ",155],["T_PROTECTED","protected",156],["T_WHITESPACE"," ",156],["T_FUNCTION","function",156],["T_WHITESPACE"," ",156],["T_STRING","loadNestedFile",156],"(",["T_VARIABLE","$matches",156],")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n    ",156],["T_VARIABLE","$filename",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$matches",157],"[",["T_LNUMBER","1",157],"]",";",["T_WHITESPACE","\n    ",157],["T_COMMENT","\/\/ Load the imported stylesheet and replace @import commands in there as\n",158],["T_WHITESPACE","    ",159],["T_COMMENT","\/\/ well.\n",159],["T_WHITESPACE","    ",160],["T_VARIABLE","$file",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","loadFile",160],"(",["T_VARIABLE","$filename",160],",",["T_WHITESPACE"," ",160],["T_STRING","NULL",160],",",["T_WHITESPACE"," ",160],["T_STRING","FALSE",160],")",";",["T_WHITESPACE","\n\n    ",160],["T_COMMENT","\/\/ Determine the file's directory.\n",162],["T_WHITESPACE","    ",163],["T_VARIABLE","$directory",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_STRING","dirname",163],"(",["T_VARIABLE","$filename",163],")",";",["T_WHITESPACE","\n    ",163],["T_COMMENT","\/\/ If the file is in the current directory, make sure '.' doesn't appear in\n",164],["T_WHITESPACE","    ",165],["T_COMMENT","\/\/ the url() path.\n",165],["T_WHITESPACE","    ",166],["T_VARIABLE","$directory",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$directory",166],["T_WHITESPACE"," ",166],["T_IS_EQUAL","==",166],["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'.'",166],["T_WHITESPACE"," ",166],"?",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","''",166],["T_WHITESPACE"," ",166],":",["T_WHITESPACE"," ",166],["T_VARIABLE","$directory",166],["T_WHITESPACE"," ",166],".",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'\/'",166],";",["T_WHITESPACE","\n\n    ",166],["T_COMMENT","\/\/ Alter all internal url() paths. Leave external paths alone. We don't need\n",168],["T_WHITESPACE","    ",169],["T_COMMENT","\/\/ to normalize absolute paths here because that will be done later.\n",169],["T_WHITESPACE","    ",170],["T_RETURN","return",170],["T_WHITESPACE"," ",170],["T_STRING","preg_replace",170],"(",["T_CONSTANT_ENCAPSED_STRING","'\/url\\(\\s*([\\'\"]?)(?![a-z]+:|\\\/+)([^\\'\")]+)([\\'\"]?)\\s*\\)\/i'",170],",",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'url(\\1'",170],["T_WHITESPACE"," ",170],".",["T_WHITESPACE"," ",170],["T_VARIABLE","$directory",170],["T_WHITESPACE"," ",170],".",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'\\2\\3)'",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$file",170],")",";",["T_WHITESPACE","\n  ",170],"}",["T_WHITESPACE","\n\n  ",171],["T_DOC_COMMENT","\/**\n   * Processes the contents of a stylesheet for aggregation.\n   *\n   * @param $contents\n   *   The contents of the stylesheet.\n   * @param $optimize\n   *   (optional) Boolean whether CSS contents should be minified. Defaults to\n   *   FALSE.\n   *\n   * @return\n   *   Contents of the stylesheet including the imported stylesheets.\n   *\/",173],["T_WHITESPACE","\n  ",184],["T_PROTECTED","protected",185],["T_WHITESPACE"," ",185],["T_FUNCTION","function",185],["T_WHITESPACE"," ",185],["T_STRING","processCss",185],"(",["T_VARIABLE","$contents",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$optimize",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_STRING","FALSE",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n    ",185],["T_COMMENT","\/\/ Remove unwanted CSS code that cause issues.\n",186],["T_WHITESPACE","    ",187],["T_VARIABLE","$contents",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","clean",187],"(",["T_VARIABLE","$contents",187],")",";",["T_WHITESPACE","\n\n    ",187],["T_IF","if",189],["T_WHITESPACE"," ",189],"(",["T_VARIABLE","$optimize",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n      ",189],["T_COMMENT","\/\/ Perform some safe CSS optimizations.\n",190],["T_WHITESPACE","      ",191],["T_COMMENT","\/\/ Regexp to match comment blocks.\n",191],["T_WHITESPACE","      ",192],["T_VARIABLE","$comment",192],["T_WHITESPACE","     ",192],"=",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'\/\\*[^*]*\\*+(?:[^\/*][^*]*\\*+)*\/'",192],";",["T_WHITESPACE","\n      ",192],["T_COMMENT","\/\/ Regexp to match double quoted strings.\n",193],["T_WHITESPACE","      ",194],["T_VARIABLE","$double_quot",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'\"[^\"\\\\\\\\]*(?:\\\\\\\\.[^\"\\\\\\\\]*)*\"'",194],";",["T_WHITESPACE","\n      ",194],["T_COMMENT","\/\/ Regexp to match single quoted strings.\n",195],["T_WHITESPACE","      ",196],["T_VARIABLE","$single_quot",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","\"'[^'\\\\\\\\]*(?:\\\\\\\\.[^'\\\\\\\\]*)*'\"",196],";",["T_WHITESPACE","\n      ",196],["T_COMMENT","\/\/ Strip all comment blocks, but keep double\/single quoted strings.\n",197],["T_WHITESPACE","      ",198],["T_VARIABLE","$contents",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_STRING","preg_replace",198],"(",["T_WHITESPACE","\n        ",198],"\"",["T_ENCAPSED_AND_WHITESPACE","<(",199],["T_VARIABLE","$double_quot",199],["T_ENCAPSED_AND_WHITESPACE","|",199],["T_VARIABLE","$single_quot",199],["T_ENCAPSED_AND_WHITESPACE",")|",199],["T_VARIABLE","$comment",199],["T_ENCAPSED_AND_WHITESPACE",">Ss",199],"\"",",",["T_WHITESPACE","\n        ",199],["T_CONSTANT_ENCAPSED_STRING","\"$1\"",200],",",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$contents",201],["T_WHITESPACE","\n      ",201],")",";",["T_WHITESPACE","\n      ",202],["T_COMMENT","\/\/ Remove certain whitespace.\n",203],["T_WHITESPACE","      ",204],["T_COMMENT","\/\/ There are different conditions for removing leading and trailing\n",204],["T_WHITESPACE","      ",205],["T_COMMENT","\/\/ whitespace.\n",205],["T_WHITESPACE","      ",206],["T_COMMENT","\/\/ @see http:\/\/php.net\/manual\/regexp.reference.subpatterns.php\n",206],["T_WHITESPACE","      ",207],["T_VARIABLE","$contents",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_STRING","preg_replace",207],"(",["T_CONSTANT_ENCAPSED_STRING","'<\n        # Strip leading and trailing whitespace.\n          \\s*([@{};,])\\s*\n        # Strip only leading whitespace from:\n        # - Closing parenthesis: Retain \"@media (bar) and foo\".\n        | \\s+([\\)])\n        # Strip only trailing whitespace from:\n        # - Opening parenthesis: Retain \"@media (bar) and foo\".\n        # - Colon: Retain :pseudo-selectors.\n        | ([\\(:])\\s+\n      >xS'",207],",",["T_WHITESPACE","\n        ",217],["T_COMMENT","\/\/ Only one of the three capturing groups will match, so its reference\n",218],["T_WHITESPACE","        ",219],["T_COMMENT","\/\/ will contain the wanted value and the references for the\n",219],["T_WHITESPACE","        ",220],["T_COMMENT","\/\/ two non-matching groups will be replaced with empty strings.\n",220],["T_WHITESPACE","        ",221],["T_CONSTANT_ENCAPSED_STRING","'$1$2$3'",221],",",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$contents",222],["T_WHITESPACE","\n      ",222],")",";",["T_WHITESPACE","\n      ",223],["T_COMMENT","\/\/ End the file with a new line.\n",224],["T_WHITESPACE","      ",225],["T_VARIABLE","$contents",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_STRING","trim",225],"(",["T_VARIABLE","$contents",225],")",";",["T_WHITESPACE","\n      ",225],["T_VARIABLE","$contents",226],["T_WHITESPACE"," ",226],["T_CONCAT_EQUAL",".=",226],["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",226],";",["T_WHITESPACE","\n    ",226],"}",["T_WHITESPACE","\n\n    ",227],["T_COMMENT","\/\/ Replaces @import commands with the actual stylesheet content.\n",229],["T_WHITESPACE","    ",230],["T_COMMENT","\/\/ This happens recursively but omits external files.\n",230],["T_WHITESPACE","    ",231],["T_VARIABLE","$contents",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_STRING","preg_replace_callback",231],"(",["T_CONSTANT_ENCAPSED_STRING","'\/@import\\s*(?:url\\(\\s*)?[\\'\"]?(?![a-z]+:)(?!\\\/\\\/)([^\\'\"\\()]+)[\\'\"]?\\s*\\)?\\s*;\/'",231],",",["T_WHITESPACE"," ",231],["T_ARRAY","array",231],"(",["T_VARIABLE","$this",231],",",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'loadNestedFile'",231],")",",",["T_WHITESPACE"," ",231],["T_VARIABLE","$contents",231],")",";",["T_WHITESPACE","\n\n    ",231],["T_RETURN","return",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$contents",233],";",["T_WHITESPACE","\n  ",233],"}",["T_WHITESPACE","\n\n  ",234],["T_DOC_COMMENT","\/**\n   * Prefixes all paths within a CSS file for processFile().\n   *\n   * Note: the only reason this method is public is so color.module can call it;\n   * it is not on the AssetOptimizerInterface, so future refactorings can make\n   * it protected.\n   *\n   * @param array $matches\n   *   An array of matches by a preg_replace_callback() call that scans for\n   *   url() references in CSS files, except for external or absolute ones.\n   *\n   * @return string\n   *   The file path.\n   *\/",236],["T_WHITESPACE","\n  ",249],["T_PUBLIC","public",250],["T_WHITESPACE"," ",250],["T_FUNCTION","function",250],["T_WHITESPACE"," ",250],["T_STRING","rewriteFileURI",250],"(",["T_VARIABLE","$matches",250],")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n    ",250],["T_COMMENT","\/\/ Prefix with base and remove '..\/' segments where possible.\n",251],["T_WHITESPACE","    ",252],["T_VARIABLE","$path",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","rewriteFileURIBasePath",252],["T_WHITESPACE"," ",252],".",["T_WHITESPACE"," ",252],["T_VARIABLE","$matches",252],"[",["T_LNUMBER","1",252],"]",";",["T_WHITESPACE","\n    ",252],["T_VARIABLE","$last",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","''",253],";",["T_WHITESPACE","\n    ",253],["T_WHILE","while",254],["T_WHITESPACE"," ",254],"(",["T_VARIABLE","$path",254],["T_WHITESPACE"," ",254],["T_IS_NOT_EQUAL","!=",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$last",254],")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n      ",254],["T_VARIABLE","$last",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$path",255],";",["T_WHITESPACE","\n      ",255],["T_VARIABLE","$path",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_STRING","preg_replace",256],"(",["T_CONSTANT_ENCAPSED_STRING","'`(^|\/)(?!\\.\\.\/)([^\/]+)\/\\.\\.\/`'",256],",",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'$1'",256],",",["T_WHITESPACE"," ",256],["T_VARIABLE","$path",256],")",";",["T_WHITESPACE","\n    ",256],"}",["T_WHITESPACE","\n    ",257],["T_RETURN","return",258],["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","'url('",258],["T_WHITESPACE"," ",258],".",["T_WHITESPACE"," ",258],["T_STRING","file_url_transform_relative",258],"(",["T_STRING","file_create_url",258],"(",["T_VARIABLE","$path",258],")",")",["T_WHITESPACE"," ",258],".",["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","')'",258],";",["T_WHITESPACE","\n  ",258],"}",["T_WHITESPACE","\n\n",259],"}",["T_WHITESPACE","\n",261]]