[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","DependencyInjection",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Compiler",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Symfony",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","DependencyInjection",5],["T_NS_SEPARATOR","\\",5],["T_STRING","ContainerBuilder",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Symfony",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","DependencyInjection",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Compiler",6],["T_NS_SEPARATOR","\\",6],["T_STRING","CompilerPassInterface",6],";",["T_WHITESPACE","\n\n",6],["T_DOC_COMMENT","\/**\n * Registers all event subscribers to the event dispatcher.\n *\/",8],["T_WHITESPACE","\n",10],["T_CLASS","class",11],["T_WHITESPACE"," ",11],["T_STRING","RegisterEventSubscribersPass",11],["T_WHITESPACE"," ",11],["T_IMPLEMENTS","implements",11],["T_WHITESPACE"," ",11],["T_STRING","CompilerPassInterface",11],["T_WHITESPACE"," ",11],"{",["T_WHITESPACE","\n\n  ",11],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",13],["T_WHITESPACE","\n  ",15],["T_PUBLIC","public",16],["T_WHITESPACE"," ",16],["T_FUNCTION","function",16],["T_WHITESPACE"," ",16],["T_STRING","process",16],"(",["T_STRING","ContainerBuilder",16],["T_WHITESPACE"," ",16],["T_VARIABLE","$container",16],")",["T_WHITESPACE"," ",16],"{",["T_WHITESPACE","\n    ",16],["T_IF","if",17],["T_WHITESPACE"," ",17],"(","!",["T_VARIABLE","$container",17],["T_OBJECT_OPERATOR","->",17],["T_STRING","hasDefinition",17],"(",["T_CONSTANT_ENCAPSED_STRING","'event_dispatcher'",17],")",")",["T_WHITESPACE"," ",17],"{",["T_WHITESPACE","\n      ",17],["T_RETURN","return",18],";",["T_WHITESPACE","\n    ",18],"}",["T_WHITESPACE","\n\n    ",19],["T_VARIABLE","$definition",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_VARIABLE","$container",21],["T_OBJECT_OPERATOR","->",21],["T_STRING","getDefinition",21],"(",["T_CONSTANT_ENCAPSED_STRING","'event_dispatcher'",21],")",";",["T_WHITESPACE","\n\n    ",21],["T_VARIABLE","$event_subscriber_info",23],["T_WHITESPACE"," ",23],"=",["T_WHITESPACE"," ",23],"[","]",";",["T_WHITESPACE","\n    ",23],["T_FOREACH","foreach",24],["T_WHITESPACE"," ",24],"(",["T_VARIABLE","$container",24],["T_OBJECT_OPERATOR","->",24],["T_STRING","findTaggedServiceIds",24],"(",["T_CONSTANT_ENCAPSED_STRING","'event_subscriber'",24],")",["T_WHITESPACE"," ",24],["T_AS","as",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$id",24],["T_WHITESPACE"," ",24],["T_DOUBLE_ARROW","=>",24],["T_WHITESPACE"," ",24],["T_VARIABLE","$attributes",24],")",["T_WHITESPACE"," ",24],"{",["T_WHITESPACE","\n\n      ",24],["T_COMMENT","\/\/ We must assume that the class value has been correctly filled, even if\n",26],["T_WHITESPACE","      ",27],["T_COMMENT","\/\/ the service is created by a factory.\n",27],["T_WHITESPACE","      ",28],["T_VARIABLE","$class",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_VARIABLE","$container",28],["T_OBJECT_OPERATOR","->",28],["T_STRING","getDefinition",28],"(",["T_VARIABLE","$id",28],")",["T_OBJECT_OPERATOR","->",28],["T_STRING","getClass",28],"(",")",";",["T_WHITESPACE","\n\n      ",28],["T_VARIABLE","$refClass",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_NEW","new",30],["T_WHITESPACE"," ",30],["T_NS_SEPARATOR","\\",30],["T_STRING","ReflectionClass",30],"(",["T_VARIABLE","$class",30],")",";",["T_WHITESPACE","\n      ",30],["T_VARIABLE","$interface",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'Symfony\\Component\\EventDispatcher\\EventSubscriberInterface'",31],";",["T_WHITESPACE","\n      ",31],["T_IF","if",32],["T_WHITESPACE"," ",32],"(","!",["T_VARIABLE","$refClass",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","implementsInterface",32],"(",["T_VARIABLE","$interface",32],")",")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n        ",32],["T_THROW","throw",33],["T_WHITESPACE"," ",33],["T_NEW","new",33],["T_WHITESPACE"," ",33],["T_NS_SEPARATOR","\\",33],["T_STRING","InvalidArgumentException",33],"(",["T_STRING","sprintf",33],"(",["T_CONSTANT_ENCAPSED_STRING","'Service \"%s\" must implement interface \"%s\".'",33],",",["T_WHITESPACE"," ",33],["T_VARIABLE","$id",33],",",["T_WHITESPACE"," ",33],["T_VARIABLE","$interface",33],")",")",";",["T_WHITESPACE","\n      ",33],"}",["T_WHITESPACE","\n\n      ",34],["T_COMMENT","\/\/ Get all subscribed events.\n",36],["T_WHITESPACE","      ",37],["T_FOREACH","foreach",37],["T_WHITESPACE"," ",37],"(",["T_VARIABLE","$class",37],["T_DOUBLE_COLON","::",37],["T_STRING","getSubscribedEvents",37],"(",")",["T_WHITESPACE"," ",37],["T_AS","as",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$event_name",37],["T_WHITESPACE"," ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$params",37],")",["T_WHITESPACE"," ",37],"{",["T_WHITESPACE","\n        ",37],["T_IF","if",38],["T_WHITESPACE"," ",38],"(",["T_STRING","is_string",38],"(",["T_VARIABLE","$params",38],")",")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n          ",38],["T_VARIABLE","$priority",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_LNUMBER","0",39],";",["T_WHITESPACE","\n          ",39],["T_VARIABLE","$event_subscriber_info",40],"[",["T_VARIABLE","$event_name",40],"]","[",["T_VARIABLE","$priority",40],"]","[","]",["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],"[",["T_CONSTANT_ENCAPSED_STRING","'service'",40],["T_WHITESPACE"," ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],"[",["T_VARIABLE","$id",40],",",["T_WHITESPACE"," ",40],["T_VARIABLE","$params",40],"]","]",";",["T_WHITESPACE","\n        ",40],"}",["T_WHITESPACE","\n        ",41],["T_ELSEIF","elseif",42],["T_WHITESPACE"," ",42],"(",["T_STRING","is_string",42],"(",["T_VARIABLE","$params",42],"[",["T_LNUMBER","0",42],"]",")",")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n          ",42],["T_VARIABLE","$priority",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_ISSET","isset",43],"(",["T_VARIABLE","$params",43],"[",["T_LNUMBER","1",43],"]",")",["T_WHITESPACE"," ",43],"?",["T_WHITESPACE"," ",43],["T_VARIABLE","$params",43],"[",["T_LNUMBER","1",43],"]",["T_WHITESPACE"," ",43],":",["T_WHITESPACE"," ",43],["T_LNUMBER","0",43],";",["T_WHITESPACE","\n          ",43],["T_VARIABLE","$event_subscriber_info",44],"[",["T_VARIABLE","$event_name",44],"]","[",["T_VARIABLE","$priority",44],"]","[","]",["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],"[",["T_CONSTANT_ENCAPSED_STRING","'service'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],"[",["T_VARIABLE","$id",44],",",["T_WHITESPACE"," ",44],["T_VARIABLE","$params",44],"[",["T_LNUMBER","0",44],"]","]","]",";",["T_WHITESPACE","\n        ",44],"}",["T_WHITESPACE","\n        ",45],["T_ELSE","else",46],["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n          ",46],["T_FOREACH","foreach",47],["T_WHITESPACE"," ",47],"(",["T_VARIABLE","$params",47],["T_WHITESPACE"," ",47],["T_AS","as",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$listener",47],")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n            ",47],["T_VARIABLE","$priority",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_ISSET","isset",48],"(",["T_VARIABLE","$listener",48],"[",["T_LNUMBER","1",48],"]",")",["T_WHITESPACE"," ",48],"?",["T_WHITESPACE"," ",48],["T_VARIABLE","$listener",48],"[",["T_LNUMBER","1",48],"]",["T_WHITESPACE"," ",48],":",["T_WHITESPACE"," ",48],["T_LNUMBER","0",48],";",["T_WHITESPACE","\n            ",48],["T_VARIABLE","$event_subscriber_info",49],"[",["T_VARIABLE","$event_name",49],"]","[",["T_VARIABLE","$priority",49],"]","[","]",["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],"[",["T_CONSTANT_ENCAPSED_STRING","'service'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],"[",["T_VARIABLE","$id",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$listener",49],"[",["T_LNUMBER","0",49],"]","]","]",";",["T_WHITESPACE","\n          ",49],"}",["T_WHITESPACE","\n        ",50],"}",["T_WHITESPACE","\n      ",51],"}",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n\n    ",53],["T_FOREACH","foreach",55],["T_WHITESPACE"," ",55],"(",["T_STRING","array_keys",55],"(",["T_VARIABLE","$event_subscriber_info",55],")",["T_WHITESPACE"," ",55],["T_AS","as",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$event_name",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n      ",55],["T_STRING","krsort",56],"(",["T_VARIABLE","$event_subscriber_info",56],"[",["T_VARIABLE","$event_name",56],"]",")",";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n\n    ",57],["T_VARIABLE","$definition",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","addArgument",59],"(",["T_VARIABLE","$event_subscriber_info",59],")",";",["T_WHITESPACE","\n  ",59],"}",["T_WHITESPACE","\n\n",60],"}",["T_WHITESPACE","\n",62]]