[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Queue",3],";",["T_WHITESPACE","\n\n",3],["T_DOC_COMMENT","\/**\n * Defines a batch queue handler used by the Batch API.\n *\n * This implementation:\n * - Ensures FIFO ordering.\n * - Allows an item to be repeatedly claimed until it is actually deleted (no\n *   notion of lease time or 'expire' date), to allow multipass operations.\n *\n * Stale items from failed batches are cleaned from the {queue} table on cron\n * using the 'created' date.\n *\n * @ingroup queue\n *\/",5],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","Batch",18],["T_WHITESPACE"," ",18],["T_EXTENDS","extends",18],["T_WHITESPACE"," ",18],["T_STRING","DatabaseQueue",18],["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n\n  ",18],["T_DOC_COMMENT","\/**\n   * Overrides \\Drupal\\Core\\Queue\\DatabaseQueue::claimItem().\n   *\n   * Unlike \\Drupal\\Core\\Queue\\DatabaseQueue::claimItem(), this method provides\n   * a default lease time of 0 (no expiration) instead of 30. This allows the\n   * item to be claimed repeatedly until it is deleted.\n   *\/",20],["T_WHITESPACE","\n  ",26],["T_PUBLIC","public",27],["T_WHITESPACE"," ",27],["T_FUNCTION","function",27],["T_WHITESPACE"," ",27],["T_STRING","claimItem",27],"(",["T_VARIABLE","$lease_time",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_LNUMBER","0",27],")",["T_WHITESPACE"," ",27],"{",["T_WHITESPACE","\n    ",27],["T_TRY","try",28],["T_WHITESPACE"," ",28],"{",["T_WHITESPACE","\n      ",28],["T_VARIABLE","$item",29],["T_WHITESPACE"," ",29],"=",["T_WHITESPACE"," ",29],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","connection",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","queryRange",29],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT data, item_id FROM {queue} q WHERE name = :name ORDER BY item_id ASC'",29],",",["T_WHITESPACE"," ",29],["T_LNUMBER","0",29],",",["T_WHITESPACE"," ",29],["T_LNUMBER","1",29],",",["T_WHITESPACE"," ",29],["T_ARRAY","array",29],"(",["T_CONSTANT_ENCAPSED_STRING","':name'",29],["T_WHITESPACE"," ",29],["T_DOUBLE_ARROW","=>",29],["T_WHITESPACE"," ",29],["T_VARIABLE","$this",29],["T_OBJECT_OPERATOR","->",29],["T_STRING","name",29],")",")",["T_OBJECT_OPERATOR","->",29],["T_STRING","fetchObject",29],"(",")",";",["T_WHITESPACE","\n      ",29],["T_IF","if",30],["T_WHITESPACE"," ",30],"(",["T_VARIABLE","$item",30],")",["T_WHITESPACE"," ",30],"{",["T_WHITESPACE","\n        ",30],["T_VARIABLE","$item",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","data",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_STRING","unserialize",31],"(",["T_VARIABLE","$item",31],["T_OBJECT_OPERATOR","->",31],["T_STRING","data",31],")",";",["T_WHITESPACE","\n        ",31],["T_RETURN","return",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$item",32],";",["T_WHITESPACE","\n      ",32],"}",["T_WHITESPACE","\n    ",33],"}",["T_WHITESPACE","\n    ",34],["T_CATCH","catch",35],["T_WHITESPACE"," ",35],"(",["T_NS_SEPARATOR","\\",35],["T_STRING","Exception",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$e",35],")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n      ",35],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","catchException",36],"(",["T_VARIABLE","$e",36],")",";",["T_WHITESPACE","\n    ",36],"}",["T_WHITESPACE","\n    ",37],["T_RETURN","return",38],["T_WHITESPACE"," ",38],["T_STRING","FALSE",38],";",["T_WHITESPACE","\n  ",38],"}",["T_WHITESPACE","\n\n  ",39],["T_DOC_COMMENT","\/**\n   * Retrieves all remaining items in the queue.\n   *\n   * This is specific to Batch API and is not part of the\n   * \\Drupal\\Core\\Queue\\QueueInterface.\n   *\n   * @return array\n   *   An array of queue items.\n   *\/",41],["T_WHITESPACE","\n  ",49],["T_PUBLIC","public",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","getAllItems",50],"(",")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n    ",50],["T_VARIABLE","$result",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_ARRAY","array",51],"(",")",";",["T_WHITESPACE","\n    ",51],["T_TRY","try",52],["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n      ",52],["T_VARIABLE","$items",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","connection",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","query",53],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT data FROM {queue} q WHERE name = :name ORDER BY item_id ASC'",53],",",["T_WHITESPACE"," ",53],["T_ARRAY","array",53],"(",["T_CONSTANT_ENCAPSED_STRING","':name'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","name",53],")",")",["T_OBJECT_OPERATOR","->",53],["T_STRING","fetchAll",53],"(",")",";",["T_WHITESPACE","\n      ",53],["T_FOREACH","foreach",54],["T_WHITESPACE"," ",54],"(",["T_VARIABLE","$items",54],["T_WHITESPACE"," ",54],["T_AS","as",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$item",54],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$result",55],"[","]",["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_STRING","unserialize",55],"(",["T_VARIABLE","$item",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","data",55],")",";",["T_WHITESPACE","\n      ",55],"}",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n    ",57],["T_CATCH","catch",58],["T_WHITESPACE"," ",58],"(",["T_NS_SEPARATOR","\\",58],["T_STRING","Exception",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$e",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n      ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","catchException",59],"(",["T_VARIABLE","$e",59],")",";",["T_WHITESPACE","\n    ",59],"}",["T_WHITESPACE","\n    ",60],["T_RETURN","return",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$result",61],";",["T_WHITESPACE","\n  ",61],"}",["T_WHITESPACE","\n\n",62],"}",["T_WHITESPACE","\n",64]]