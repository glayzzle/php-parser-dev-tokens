[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_NAMESPACE","namespace",3],["T_WHITESPACE"," ",3],["T_STRING","Drupal",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Core",3],["T_NS_SEPARATOR","\\",3],["T_STRING","Render",3],";",["T_WHITESPACE","\n\n",3],["T_USE","use",5],["T_WHITESPACE"," ",5],["T_STRING","Drupal",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Component",5],["T_NS_SEPARATOR","\\",5],["T_STRING","Render",5],["T_NS_SEPARATOR","\\",5],["T_STRING","MarkupInterface",5],";",["T_WHITESPACE","\n",5],["T_USE","use",6],["T_WHITESPACE"," ",6],["T_STRING","Drupal",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Component",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Utility",6],["T_NS_SEPARATOR","\\",6],["T_STRING","Html",6],";",["T_WHITESPACE","\n",6],["T_USE","use",7],["T_WHITESPACE"," ",7],["T_STRING","Drupal",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Component",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Utility",7],["T_NS_SEPARATOR","\\",7],["T_STRING","Xss",7],";",["T_WHITESPACE","\n",7],["T_USE","use",8],["T_WHITESPACE"," ",8],["T_STRING","Drupal",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Core",8],["T_NS_SEPARATOR","\\",8],["T_STRING","Access",8],["T_NS_SEPARATOR","\\",8],["T_STRING","AccessResultInterface",8],";",["T_WHITESPACE","\n",8],["T_USE","use",9],["T_WHITESPACE"," ",9],["T_STRING","Drupal",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Core",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Cache",9],["T_NS_SEPARATOR","\\",9],["T_STRING","Cache",9],";",["T_WHITESPACE","\n",9],["T_USE","use",10],["T_WHITESPACE"," ",10],["T_STRING","Drupal",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Core",10],["T_NS_SEPARATOR","\\",10],["T_STRING","Cache",10],["T_NS_SEPARATOR","\\",10],["T_STRING","CacheableMetadata",10],";",["T_WHITESPACE","\n",10],["T_USE","use",11],["T_WHITESPACE"," ",11],["T_STRING","Drupal",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Core",11],["T_NS_SEPARATOR","\\",11],["T_STRING","Controller",11],["T_NS_SEPARATOR","\\",11],["T_STRING","ControllerResolverInterface",11],";",["T_WHITESPACE","\n",11],["T_USE","use",12],["T_WHITESPACE"," ",12],["T_STRING","Drupal",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Core",12],["T_NS_SEPARATOR","\\",12],["T_STRING","Theme",12],["T_NS_SEPARATOR","\\",12],["T_STRING","ThemeManagerInterface",12],";",["T_WHITESPACE","\n",12],["T_USE","use",13],["T_WHITESPACE"," ",13],["T_STRING","Symfony",13],["T_NS_SEPARATOR","\\",13],["T_STRING","Component",13],["T_NS_SEPARATOR","\\",13],["T_STRING","HttpFoundation",13],["T_NS_SEPARATOR","\\",13],["T_STRING","RequestStack",13],";",["T_WHITESPACE","\n\n",13],["T_DOC_COMMENT","\/**\n * Turns a render array into a HTML string.\n *\/",15],["T_WHITESPACE","\n",17],["T_CLASS","class",18],["T_WHITESPACE"," ",18],["T_STRING","Renderer",18],["T_WHITESPACE"," ",18],["T_IMPLEMENTS","implements",18],["T_WHITESPACE"," ",18],["T_STRING","RendererInterface",18],["T_WHITESPACE"," ",18],"{",["T_WHITESPACE","\n\n  ",18],["T_DOC_COMMENT","\/**\n   * The theme manager.\n   *\n   * @var \\Drupal\\Core\\Theme\\ThemeManagerInterface\n   *\/",20],["T_WHITESPACE","\n  ",24],["T_PROTECTED","protected",25],["T_WHITESPACE"," ",25],["T_VARIABLE","$theme",25],";",["T_WHITESPACE","\n\n  ",25],["T_DOC_COMMENT","\/**\n   * The controller resolver.\n   *\n   * @var \\Drupal\\Core\\Controller\\ControllerResolverInterface\n   *\/",27],["T_WHITESPACE","\n  ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$controllerResolver",32],";",["T_WHITESPACE","\n\n  ",32],["T_DOC_COMMENT","\/**\n   * The element info.\n   *\n   * @var \\Drupal\\Core\\Render\\ElementInfoManagerInterface\n   *\/",34],["T_WHITESPACE","\n  ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$elementInfo",39],";",["T_WHITESPACE","\n\n  ",39],["T_DOC_COMMENT","\/**\n   * The placeholder generator.\n   *\n   * @var \\Drupal\\Core\\Render\\PlaceholderGeneratorInterface\n   *\/",41],["T_WHITESPACE","\n  ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$placeholderGenerator",46],";",["T_WHITESPACE","\n\n  ",46],["T_DOC_COMMENT","\/**\n   * The render cache service.\n   *\n   * @var \\Drupal\\Core\\Render\\RenderCacheInterface\n   *\/",48],["T_WHITESPACE","\n  ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$renderCache",53],";",["T_WHITESPACE","\n\n  ",53],["T_DOC_COMMENT","\/**\n   * The renderer configuration array.\n   *\n   * @var array\n   *\/",55],["T_WHITESPACE","\n  ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$rendererConfig",60],";",["T_WHITESPACE","\n\n  ",60],["T_DOC_COMMENT","\/**\n   * Whether we're currently in a ::renderRoot() call.\n   *\n   * @var bool\n   *\/",62],["T_WHITESPACE","\n  ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$isRenderingRoot",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","FALSE",67],";",["T_WHITESPACE","\n\n  ",67],["T_DOC_COMMENT","\/**\n   * The request stack.\n   *\n   * @var \\Symfony\\Component\\HttpFoundation\\RequestStack\n   *\/",69],["T_WHITESPACE","\n  ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$requestStack",74],";",["T_WHITESPACE","\n\n  ",74],["T_DOC_COMMENT","\/**\n   * The render context collection.\n   *\n   * An individual global render context is tied to the current request. We then\n   * need to maintain a different context for each request to correctly handle\n   * rendering in subrequests.\n   *\n   * This must be static as long as some controllers rebuild the container\n   * during a request. This causes multiple renderer instances to co-exist\n   * simultaneously, render state getting lost, and therefore causing pages to\n   * fail to render correctly. As soon as it is guaranteed that during a request\n   * the same container is used, it no longer needs to be static.\n   *\n   * @var \\Drupal\\Core\\Render\\RenderContext[]\n   *\/",76],["T_WHITESPACE","\n  ",90],["T_PROTECTED","protected",91],["T_WHITESPACE"," ",91],["T_STATIC","static",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$contextCollection",91],";",["T_WHITESPACE","\n\n  ",91],["T_DOC_COMMENT","\/**\n   * Constructs a new Renderer.\n   *\n   * @param \\Drupal\\Core\\Controller\\ControllerResolverInterface $controller_resolver\n   *   The controller resolver.\n   * @param \\Drupal\\Core\\Theme\\ThemeManagerInterface $theme\n   *   The theme manager.\n   * @param \\Drupal\\Core\\Render\\ElementInfoManagerInterface $element_info\n   *   The element info.\n   * @param \\Drupal\\Core\\Render\\PlaceholderGeneratorInterface $placeholder_generator\n   *   The placeholder generator.\n   * @param \\Drupal\\Core\\Render\\RenderCacheInterface $render_cache\n   *   The render cache service.\n   * @param \\Symfony\\Component\\HttpFoundation\\RequestStack $request_stack\n   *   The request stack.\n   * @param array $renderer_config\n   *   The renderer configuration array.\n   *\/",93],["T_WHITESPACE","\n  ",110],["T_PUBLIC","public",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","__construct",111],"(",["T_STRING","ControllerResolverInterface",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$controller_resolver",111],",",["T_WHITESPACE"," ",111],["T_STRING","ThemeManagerInterface",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$theme",111],",",["T_WHITESPACE"," ",111],["T_STRING","ElementInfoManagerInterface",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$element_info",111],",",["T_WHITESPACE"," ",111],["T_STRING","PlaceholderGeneratorInterface",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$placeholder_generator",111],",",["T_WHITESPACE"," ",111],["T_STRING","RenderCacheInterface",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$render_cache",111],",",["T_WHITESPACE"," ",111],["T_STRING","RequestStack",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$request_stack",111],",",["T_WHITESPACE"," ",111],["T_ARRAY","array",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$renderer_config",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n    ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","controllerResolver",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$controller_resolver",112],";",["T_WHITESPACE","\n    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","theme",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$theme",113],";",["T_WHITESPACE","\n    ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","elementInfo",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$element_info",114],";",["T_WHITESPACE","\n    ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","placeholderGenerator",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$placeholder_generator",115],";",["T_WHITESPACE","\n    ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","renderCache",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$render_cache",116],";",["T_WHITESPACE","\n    ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","rendererConfig",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$renderer_config",117],";",["T_WHITESPACE","\n    ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","requestStack",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$request_stack",118],";",["T_WHITESPACE","\n\n    ",118],["T_COMMENT","\/\/ Initialize the context collection if needed.\n",120],["T_WHITESPACE","    ",121],["T_IF","if",121],["T_WHITESPACE"," ",121],"(","!",["T_ISSET","isset",121],"(",["T_STATIC","static",121],["T_DOUBLE_COLON","::",121],["T_VARIABLE","$contextCollection",121],")",")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n      ",121],["T_STATIC","static",122],["T_DOUBLE_COLON","::",122],["T_VARIABLE","$contextCollection",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_NEW","new",122],["T_WHITESPACE"," ",122],["T_NS_SEPARATOR","\\",122],["T_STRING","SplObjectStorage",122],"(",")",";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n  ",123],"}",["T_WHITESPACE","\n\n  ",124],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",126],["T_WHITESPACE","\n  ",128],["T_PUBLIC","public",129],["T_WHITESPACE"," ",129],["T_FUNCTION","function",129],["T_WHITESPACE"," ",129],["T_STRING","renderRoot",129],"(","&",["T_VARIABLE","$elements",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n    ",129],["T_COMMENT","\/\/ Disallow calling ::renderRoot() from within another ::renderRoot() call.\n",130],["T_WHITESPACE","    ",131],["T_IF","if",131],["T_WHITESPACE"," ",131],"(",["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","isRenderingRoot",131],")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n      ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","isRenderingRoot",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_STRING","FALSE",132],";",["T_WHITESPACE","\n      ",132],["T_THROW","throw",133],["T_WHITESPACE"," ",133],["T_NEW","new",133],["T_WHITESPACE"," ",133],["T_NS_SEPARATOR","\\",133],["T_STRING","LogicException",133],"(",["T_CONSTANT_ENCAPSED_STRING","'A stray renderRoot() invocation is causing bubbling of attached assets to break.'",133],")",";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n\n    ",134],["T_COMMENT","\/\/ Render in its own render context.\n",136],["T_WHITESPACE","    ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","isRenderingRoot",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_STRING","TRUE",137],";",["T_WHITESPACE","\n    ",137],["T_VARIABLE","$output",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","executeInRenderContext",138],"(",["T_NEW","new",138],["T_WHITESPACE"," ",138],["T_STRING","RenderContext",138],"(",")",",",["T_WHITESPACE"," ",138],["T_FUNCTION","function",138],["T_WHITESPACE"," ",138],"(",")",["T_WHITESPACE"," ",138],["T_USE","use",138],["T_WHITESPACE"," ",138],"(","&",["T_VARIABLE","$elements",138],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n      ",138],["T_RETURN","return",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","render",139],"(",["T_VARIABLE","$elements",139],",",["T_WHITESPACE"," ",139],["T_STRING","TRUE",139],")",";",["T_WHITESPACE","\n    ",139],"}",")",";",["T_WHITESPACE","\n    ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","isRenderingRoot",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_STRING","FALSE",141],";",["T_WHITESPACE","\n\n    ",141],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$output",143],";",["T_WHITESPACE","\n  ",143],"}",["T_WHITESPACE","\n\n  ",144],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",146],["T_WHITESPACE","\n  ",148],["T_PUBLIC","public",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","renderPlain",149],"(","&",["T_VARIABLE","$elements",149],")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n    ",149],["T_RETURN","return",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","executeInRenderContext",150],"(",["T_NEW","new",150],["T_WHITESPACE"," ",150],["T_STRING","RenderContext",150],"(",")",",",["T_WHITESPACE"," ",150],["T_FUNCTION","function",150],["T_WHITESPACE"," ",150],"(",")",["T_WHITESPACE"," ",150],["T_USE","use",150],["T_WHITESPACE"," ",150],"(","&",["T_VARIABLE","$elements",150],")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n      ",150],["T_RETURN","return",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","render",151],"(",["T_VARIABLE","$elements",151],",",["T_WHITESPACE"," ",151],["T_STRING","TRUE",151],")",";",["T_WHITESPACE","\n    ",151],"}",")",";",["T_WHITESPACE","\n  ",152],"}",["T_WHITESPACE","\n\n  ",153],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",155],["T_WHITESPACE","\n  ",157],["T_PUBLIC","public",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","renderPlaceholder",158],"(",["T_VARIABLE","$placeholder",158],",",["T_WHITESPACE"," ",158],["T_ARRAY","array",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$elements",158],")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n    ",158],["T_COMMENT","\/\/ Get the render array for the given placeholder\n",159],["T_WHITESPACE","    ",160],["T_VARIABLE","$placeholder_elements",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$elements",160],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",160],"]","[",["T_CONSTANT_ENCAPSED_STRING","'placeholders'",160],"]","[",["T_VARIABLE","$placeholder",160],"]",";",["T_WHITESPACE","\n\n    ",160],["T_COMMENT","\/\/ Prevent the render array from being auto-placeholdered again.\n",162],["T_WHITESPACE","    ",163],["T_VARIABLE","$placeholder_elements",163],"[",["T_CONSTANT_ENCAPSED_STRING","'#create_placeholder'",163],"]",["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_STRING","FALSE",163],";",["T_WHITESPACE","\n\n    ",163],["T_COMMENT","\/\/ Render the placeholder into markup.\n",165],["T_WHITESPACE","    ",166],["T_VARIABLE","$markup",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","renderPlain",166],"(",["T_VARIABLE","$placeholder_elements",166],")",";",["T_WHITESPACE","\n\n    ",166],["T_COMMENT","\/\/ Replace the placeholder with its rendered markup, and merge its\n",168],["T_WHITESPACE","    ",169],["T_COMMENT","\/\/ bubbleable metadata with the main elements'.\n",169],["T_WHITESPACE","    ",170],["T_VARIABLE","$elements",170],"[",["T_CONSTANT_ENCAPSED_STRING","'#markup'",170],"]",["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_STRING","Markup",170],["T_DOUBLE_COLON","::",170],["T_STRING","create",170],"(",["T_STRING","str_replace",170],"(",["T_VARIABLE","$placeholder",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$markup",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$elements",170],"[",["T_CONSTANT_ENCAPSED_STRING","'#markup'",170],"]",")",")",";",["T_WHITESPACE","\n    ",170],["T_VARIABLE","$elements",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","mergeBubbleableMetadata",171],"(",["T_VARIABLE","$elements",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$placeholder_elements",171],")",";",["T_WHITESPACE","\n\n    ",171],["T_COMMENT","\/\/ Remove the placeholder that we've just rendered.\n",173],["T_WHITESPACE","    ",174],["T_UNSET","unset",174],"(",["T_VARIABLE","$elements",174],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",174],"]","[",["T_CONSTANT_ENCAPSED_STRING","'placeholders'",174],"]","[",["T_VARIABLE","$placeholder",174],"]",")",";",["T_WHITESPACE","\n\n    ",174],["T_RETURN","return",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$elements",176],";",["T_WHITESPACE","\n  ",176],"}",["T_WHITESPACE","\n\n  ",177],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",179],["T_WHITESPACE","\n  ",181],["T_PUBLIC","public",182],["T_WHITESPACE"," ",182],["T_FUNCTION","function",182],["T_WHITESPACE"," ",182],["T_STRING","render",182],"(","&",["T_VARIABLE","$elements",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$is_root_call",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_STRING","FALSE",182],")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n    ",182],["T_COMMENT","\/\/ Since #pre_render, #post_render, #lazy_builder callbacks and theme\n",183],["T_WHITESPACE","    ",184],["T_COMMENT","\/\/ functions or templates may be used for generating a render array's\n",184],["T_WHITESPACE","    ",185],["T_COMMENT","\/\/ content, and we might be rendering the main content for the page, it is\n",185],["T_WHITESPACE","    ",186],["T_COMMENT","\/\/ possible that any of them throw an exception that will cause a different\n",186],["T_WHITESPACE","    ",187],["T_COMMENT","\/\/ page to be rendered (e.g. throwing\n",187],["T_WHITESPACE","    ",188],["T_COMMENT","\/\/ \\Symfony\\Component\\HttpKernel\\Exception\\NotFoundHttpException will cause\n",188],["T_WHITESPACE","    ",189],["T_COMMENT","\/\/ the 404 page to be rendered). That page might also use\n",189],["T_WHITESPACE","    ",190],["T_COMMENT","\/\/ Renderer::renderRoot() but if exceptions aren't caught here, it will be\n",190],["T_WHITESPACE","    ",191],["T_COMMENT","\/\/ impossible to call Renderer::renderRoot() again.\n",191],["T_WHITESPACE","    ",192],["T_COMMENT","\/\/ Hence, catch all exceptions, reset the isRenderingRoot property and\n",192],["T_WHITESPACE","    ",193],["T_COMMENT","\/\/ re-throw exceptions.\n",193],["T_WHITESPACE","    ",194],["T_TRY","try",194],["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n      ",194],["T_RETURN","return",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","doRender",195],"(",["T_VARIABLE","$elements",195],",",["T_WHITESPACE"," ",195],["T_VARIABLE","$is_root_call",195],")",";",["T_WHITESPACE","\n    ",195],"}",["T_WHITESPACE","\n    ",196],["T_CATCH","catch",197],["T_WHITESPACE"," ",197],"(",["T_NS_SEPARATOR","\\",197],["T_STRING","Exception",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$e",197],")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n      ",197],["T_COMMENT","\/\/ Mark the ::rootRender() call finished due to this exception & re-throw.\n",198],["T_WHITESPACE","      ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","isRenderingRoot",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_STRING","FALSE",199],";",["T_WHITESPACE","\n      ",199],["T_THROW","throw",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$e",200],";",["T_WHITESPACE","\n    ",200],"}",["T_WHITESPACE","\n  ",201],"}",["T_WHITESPACE","\n\n  ",202],["T_DOC_COMMENT","\/**\n   * See the docs for ::render().\n   *\/",204],["T_WHITESPACE","\n  ",206],["T_PROTECTED","protected",207],["T_WHITESPACE"," ",207],["T_FUNCTION","function",207],["T_WHITESPACE"," ",207],["T_STRING","doRender",207],"(","&",["T_VARIABLE","$elements",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$is_root_call",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_STRING","FALSE",207],")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n    ",207],["T_IF","if",208],["T_WHITESPACE"," ",208],"(",["T_EMPTY","empty",208],"(",["T_VARIABLE","$elements",208],")",")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n      ",208],["T_RETURN","return",209],["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","''",209],";",["T_WHITESPACE","\n    ",209],"}",["T_WHITESPACE","\n\n    ",210],["T_IF","if",212],["T_WHITESPACE"," ",212],"(","!",["T_ISSET","isset",212],"(",["T_VARIABLE","$elements",212],"[",["T_CONSTANT_ENCAPSED_STRING","'#access'",212],"]",")",["T_WHITESPACE"," ",212],["T_BOOLEAN_AND","&&",212],["T_WHITESPACE"," ",212],["T_ISSET","isset",212],"(",["T_VARIABLE","$elements",212],"[",["T_CONSTANT_ENCAPSED_STRING","'#access_callback'",212],"]",")",")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n      ",212],["T_IF","if",213],["T_WHITESPACE"," ",213],"(",["T_STRING","is_string",213],"(",["T_VARIABLE","$elements",213],"[",["T_CONSTANT_ENCAPSED_STRING","'#access_callback'",213],"]",")",["T_WHITESPACE"," ",213],["T_BOOLEAN_AND","&&",213],["T_WHITESPACE"," ",213],["T_STRING","strpos",213],"(",["T_VARIABLE","$elements",213],"[",["T_CONSTANT_ENCAPSED_STRING","'#access_callback'",213],"]",",",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'::'",213],")",["T_WHITESPACE"," ",213],["T_IS_IDENTICAL","===",213],["T_WHITESPACE"," ",213],["T_STRING","FALSE",213],")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$elements",214],"[",["T_CONSTANT_ENCAPSED_STRING","'#access_callback'",214],"]",["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","controllerResolver",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getControllerFromDefinition",214],"(",["T_VARIABLE","$elements",214],"[",["T_CONSTANT_ENCAPSED_STRING","'#access_callback'",214],"]",")",";",["T_WHITESPACE","\n      ",214],"}",["T_WHITESPACE","\n      ",215],["T_VARIABLE","$elements",216],"[",["T_CONSTANT_ENCAPSED_STRING","'#access'",216],"]",["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_STRING","call_user_func",216],"(",["T_VARIABLE","$elements",216],"[",["T_CONSTANT_ENCAPSED_STRING","'#access_callback'",216],"]",",",["T_WHITESPACE"," ",216],["T_VARIABLE","$elements",216],")",";",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n\n    ",217],["T_COMMENT","\/\/ Early-return nothing if user does not have access.\n",219],["T_WHITESPACE","    ",220],["T_IF","if",220],["T_WHITESPACE"," ",220],"(",["T_ISSET","isset",220],"(",["T_VARIABLE","$elements",220],"[",["T_CONSTANT_ENCAPSED_STRING","'#access'",220],"]",")",")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n      ",220],["T_COMMENT","\/\/ If #access is an AccessResultInterface object, we must apply it's\n",221],["T_WHITESPACE","      ",222],["T_COMMENT","\/\/ cacheability metadata to the render array.\n",222],["T_WHITESPACE","      ",223],["T_IF","if",223],["T_WHITESPACE"," ",223],"(",["T_VARIABLE","$elements",223],"[",["T_CONSTANT_ENCAPSED_STRING","'#access'",223],"]",["T_WHITESPACE"," ",223],["T_INSTANCEOF","instanceof",223],["T_WHITESPACE"," ",223],["T_STRING","AccessResultInterface",223],")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","addCacheableDependency",224],"(",["T_VARIABLE","$elements",224],",",["T_WHITESPACE"," ",224],["T_VARIABLE","$elements",224],"[",["T_CONSTANT_ENCAPSED_STRING","'#access'",224],"]",")",";",["T_WHITESPACE","\n        ",224],["T_IF","if",225],["T_WHITESPACE"," ",225],"(","!",["T_VARIABLE","$elements",225],"[",["T_CONSTANT_ENCAPSED_STRING","'#access'",225],"]",["T_OBJECT_OPERATOR","->",225],["T_STRING","isAllowed",225],"(",")",")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n          ",225],["T_RETURN","return",226],["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","''",226],";",["T_WHITESPACE","\n        ",226],"}",["T_WHITESPACE","\n      ",227],"}",["T_WHITESPACE","\n      ",228],["T_ELSEIF","elseif",229],["T_WHITESPACE"," ",229],"(",["T_VARIABLE","$elements",229],"[",["T_CONSTANT_ENCAPSED_STRING","'#access'",229],"]",["T_WHITESPACE"," ",229],["T_IS_IDENTICAL","===",229],["T_WHITESPACE"," ",229],["T_STRING","FALSE",229],")",["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n        ",229],["T_RETURN","return",230],["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","''",230],";",["T_WHITESPACE","\n      ",230],"}",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n\n    ",232],["T_COMMENT","\/\/ Do not print elements twice.\n",234],["T_WHITESPACE","    ",235],["T_IF","if",235],["T_WHITESPACE"," ",235],"(","!",["T_EMPTY","empty",235],"(",["T_VARIABLE","$elements",235],"[",["T_CONSTANT_ENCAPSED_STRING","'#printed'",235],"]",")",")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n      ",235],["T_RETURN","return",236],["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","''",236],";",["T_WHITESPACE","\n    ",236],"}",["T_WHITESPACE","\n\n    ",237],["T_VARIABLE","$context",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getCurrentRenderContext",239],"(",")",";",["T_WHITESPACE","\n    ",239],["T_IF","if",240],["T_WHITESPACE"," ",240],"(","!",["T_ISSET","isset",240],"(",["T_VARIABLE","$context",240],")",")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n      ",240],["T_THROW","throw",241],["T_WHITESPACE"," ",241],["T_NEW","new",241],["T_WHITESPACE"," ",241],["T_NS_SEPARATOR","\\",241],["T_STRING","LogicException",241],"(",["T_CONSTANT_ENCAPSED_STRING","\"Render context is empty, because render() was called outside of a renderRoot() or renderPlain() call. Use renderPlain()\/renderRoot() or #lazy_builder\/#pre_render instead.\"",241],")",";",["T_WHITESPACE","\n    ",241],"}",["T_WHITESPACE","\n    ",242],["T_VARIABLE","$context",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","push",243],"(",["T_NEW","new",243],["T_WHITESPACE"," ",243],["T_STRING","BubbleableMetadata",243],"(",")",")",";",["T_WHITESPACE","\n\n    ",243],["T_COMMENT","\/\/ Set the bubbleable rendering metadata that has configurable defaults, if:\n",245],["T_WHITESPACE","    ",246],["T_COMMENT","\/\/ - this is the root call, to ensure that the final render array definitely\n",246],["T_WHITESPACE","    ",247],["T_COMMENT","\/\/   has these configurable defaults, even when no subtree is render cached.\n",247],["T_WHITESPACE","    ",248],["T_COMMENT","\/\/ - this is a render cacheable subtree, to ensure that the cached data has\n",248],["T_WHITESPACE","    ",249],["T_COMMENT","\/\/   the configurable defaults (which may affect the ID and invalidation).\n",249],["T_WHITESPACE","    ",250],["T_IF","if",250],["T_WHITESPACE"," ",250],"(",["T_VARIABLE","$is_root_call",250],["T_WHITESPACE"," ",250],["T_BOOLEAN_OR","||",250],["T_WHITESPACE"," ",250],["T_ISSET","isset",250],"(",["T_VARIABLE","$elements",250],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",250],"]","[",["T_CONSTANT_ENCAPSED_STRING","'keys'",250],"]",")",")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n      ",250],["T_VARIABLE","$required_cache_contexts",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","rendererConfig",251],"[",["T_CONSTANT_ENCAPSED_STRING","'required_cache_contexts'",251],"]",";",["T_WHITESPACE","\n      ",251],["T_IF","if",252],["T_WHITESPACE"," ",252],"(",["T_ISSET","isset",252],"(",["T_VARIABLE","$elements",252],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",252],"]","[",["T_CONSTANT_ENCAPSED_STRING","'contexts'",252],"]",")",")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n        ",252],["T_VARIABLE","$elements",253],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",253],"]","[",["T_CONSTANT_ENCAPSED_STRING","'contexts'",253],"]",["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_STRING","Cache",253],["T_DOUBLE_COLON","::",253],["T_STRING","mergeContexts",253],"(",["T_VARIABLE","$elements",253],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",253],"]","[",["T_CONSTANT_ENCAPSED_STRING","'contexts'",253],"]",",",["T_WHITESPACE"," ",253],["T_VARIABLE","$required_cache_contexts",253],")",";",["T_WHITESPACE","\n      ",253],"}",["T_WHITESPACE","\n      ",254],["T_ELSE","else",255],["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n        ",255],["T_VARIABLE","$elements",256],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",256],"]","[",["T_CONSTANT_ENCAPSED_STRING","'contexts'",256],"]",["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$required_cache_contexts",256],";",["T_WHITESPACE","\n      ",256],"}",["T_WHITESPACE","\n    ",257],"}",["T_WHITESPACE","\n\n    ",258],["T_COMMENT","\/\/ Try to fetch the prerendered element from cache, replace any placeholders\n",260],["T_WHITESPACE","    ",261],["T_COMMENT","\/\/ and return the final markup.\n",261],["T_WHITESPACE","    ",262],["T_IF","if",262],["T_WHITESPACE"," ",262],"(",["T_ISSET","isset",262],"(",["T_VARIABLE","$elements",262],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",262],"]","[",["T_CONSTANT_ENCAPSED_STRING","'keys'",262],"]",")",")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n      ",262],["T_VARIABLE","$cached_element",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","renderCache",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","get",263],"(",["T_VARIABLE","$elements",263],")",";",["T_WHITESPACE","\n      ",263],["T_IF","if",264],["T_WHITESPACE"," ",264],"(",["T_VARIABLE","$cached_element",264],["T_WHITESPACE"," ",264],["T_IS_NOT_IDENTICAL","!==",264],["T_WHITESPACE"," ",264],["T_STRING","FALSE",264],")",["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n        ",264],["T_VARIABLE","$elements",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_VARIABLE","$cached_element",265],";",["T_WHITESPACE","\n        ",265],["T_COMMENT","\/\/ Only when we're in a root (non-recursive) Renderer::render() call,\n",266],["T_WHITESPACE","        ",267],["T_COMMENT","\/\/ placeholders must be processed, to prevent breaking the render cache\n",267],["T_WHITESPACE","        ",268],["T_COMMENT","\/\/ in case of nested elements with #cache set.\n",268],["T_WHITESPACE","        ",269],["T_IF","if",269],["T_WHITESPACE"," ",269],"(",["T_VARIABLE","$is_root_call",269],")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n          ",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","replacePlaceholders",270],"(",["T_VARIABLE","$elements",270],")",";",["T_WHITESPACE","\n        ",270],"}",["T_WHITESPACE","\n        ",271],["T_COMMENT","\/\/ Mark the element markup as safe if is it a string.\n",272],["T_WHITESPACE","        ",273],["T_IF","if",273],["T_WHITESPACE"," ",273],"(",["T_STRING","is_string",273],"(",["T_VARIABLE","$elements",273],"[",["T_CONSTANT_ENCAPSED_STRING","'#markup'",273],"]",")",")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n          ",273],["T_VARIABLE","$elements",274],"[",["T_CONSTANT_ENCAPSED_STRING","'#markup'",274],"]",["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_STRING","Markup",274],["T_DOUBLE_COLON","::",274],["T_STRING","create",274],"(",["T_VARIABLE","$elements",274],"[",["T_CONSTANT_ENCAPSED_STRING","'#markup'",274],"]",")",";",["T_WHITESPACE","\n        ",274],"}",["T_WHITESPACE","\n        ",275],["T_COMMENT","\/\/ The render cache item contains all the bubbleable rendering metadata\n",276],["T_WHITESPACE","        ",277],["T_COMMENT","\/\/ for the subtree.\n",277],["T_WHITESPACE","        ",278],["T_VARIABLE","$context",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","update",278],"(",["T_VARIABLE","$elements",278],")",";",["T_WHITESPACE","\n        ",278],["T_COMMENT","\/\/ Render cache hit, so rendering is finished, all necessary info\n",279],["T_WHITESPACE","        ",280],["T_COMMENT","\/\/ collected!\n",280],["T_WHITESPACE","        ",281],["T_VARIABLE","$context",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","bubble",281],"(",")",";",["T_WHITESPACE","\n        ",281],["T_RETURN","return",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$elements",282],"[",["T_CONSTANT_ENCAPSED_STRING","'#markup'",282],"]",";",["T_WHITESPACE","\n      ",282],"}",["T_WHITESPACE","\n    ",283],"}",["T_WHITESPACE","\n    ",284],["T_COMMENT","\/\/ Two-tier caching: track pre-bubbling elements' #cache, #lazy_builder and\n",285],["T_WHITESPACE","    ",286],["T_COMMENT","\/\/ #create_placeholder for later comparison.\n",286],["T_WHITESPACE","    ",287],["T_COMMENT","\/\/ @see \\Drupal\\Core\\Render\\RenderCacheInterface::get()\n",287],["T_WHITESPACE","    ",288],["T_COMMENT","\/\/ @see \\Drupal\\Core\\Render\\RenderCacheInterface::set()\n",288],["T_WHITESPACE","    ",289],["T_VARIABLE","$pre_bubbling_elements",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_STRING","array_intersect_key",289],"(",["T_VARIABLE","$elements",289],",",["T_WHITESPACE"," ",289],"[",["T_WHITESPACE","\n      ",289],["T_CONSTANT_ENCAPSED_STRING","'#cache'",290],["T_WHITESPACE"," ",290],["T_DOUBLE_ARROW","=>",290],["T_WHITESPACE"," ",290],["T_STRING","TRUE",290],",",["T_WHITESPACE","\n      ",290],["T_CONSTANT_ENCAPSED_STRING","'#lazy_builder'",291],["T_WHITESPACE"," ",291],["T_DOUBLE_ARROW","=>",291],["T_WHITESPACE"," ",291],["T_STRING","TRUE",291],",",["T_WHITESPACE","\n      ",291],["T_CONSTANT_ENCAPSED_STRING","'#create_placeholder'",292],["T_WHITESPACE"," ",292],["T_DOUBLE_ARROW","=>",292],["T_WHITESPACE"," ",292],["T_STRING","TRUE",292],",",["T_WHITESPACE","\n    ",292],"]",")",";",["T_WHITESPACE","\n\n    ",293],["T_COMMENT","\/\/ If the default values for this element have not been loaded yet, populate\n",295],["T_WHITESPACE","    ",296],["T_COMMENT","\/\/ them.\n",296],["T_WHITESPACE","    ",297],["T_IF","if",297],["T_WHITESPACE"," ",297],"(",["T_ISSET","isset",297],"(",["T_VARIABLE","$elements",297],"[",["T_CONSTANT_ENCAPSED_STRING","'#type'",297],"]",")",["T_WHITESPACE"," ",297],["T_BOOLEAN_AND","&&",297],["T_WHITESPACE"," ",297],["T_EMPTY","empty",297],"(",["T_VARIABLE","$elements",297],"[",["T_CONSTANT_ENCAPSED_STRING","'#defaults_loaded'",297],"]",")",")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n      ",297],["T_VARIABLE","$elements",298],["T_WHITESPACE"," ",298],["T_PLUS_EQUAL","+=",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","elementInfo",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","getInfo",298],"(",["T_VARIABLE","$elements",298],"[",["T_CONSTANT_ENCAPSED_STRING","'#type'",298],"]",")",";",["T_WHITESPACE","\n    ",298],"}",["T_WHITESPACE","\n\n    ",299],["T_COMMENT","\/\/ First validate the usage of #lazy_builder; both of the next if-statements\n",301],["T_WHITESPACE","    ",302],["T_COMMENT","\/\/ use it if available.\n",302],["T_WHITESPACE","    ",303],["T_IF","if",303],["T_WHITESPACE"," ",303],"(",["T_ISSET","isset",303],"(",["T_VARIABLE","$elements",303],"[",["T_CONSTANT_ENCAPSED_STRING","'#lazy_builder'",303],"]",")",")",["T_WHITESPACE"," ",303],"{",["T_WHITESPACE","\n      ",303],["T_COMMENT","\/\/ @todo Convert to assertions once https:\/\/www.drupal.org\/node\/2408013\n",304],["T_WHITESPACE","      ",305],["T_COMMENT","\/\/   lands.\n",305],["T_WHITESPACE","      ",306],["T_IF","if",306],["T_WHITESPACE"," ",306],"(","!",["T_STRING","is_array",306],"(",["T_VARIABLE","$elements",306],"[",["T_CONSTANT_ENCAPSED_STRING","'#lazy_builder'",306],"]",")",")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n        ",306],["T_THROW","throw",307],["T_WHITESPACE"," ",307],["T_NEW","new",307],["T_WHITESPACE"," ",307],["T_NS_SEPARATOR","\\",307],["T_STRING","DomainException",307],"(",["T_CONSTANT_ENCAPSED_STRING","'The #lazy_builder property must have an array as a value.'",307],")",";",["T_WHITESPACE","\n      ",307],"}",["T_WHITESPACE","\n      ",308],["T_IF","if",309],["T_WHITESPACE"," ",309],"(",["T_STRING","count",309],"(",["T_VARIABLE","$elements",309],"[",["T_CONSTANT_ENCAPSED_STRING","'#lazy_builder'",309],"]",")",["T_WHITESPACE"," ",309],["T_IS_NOT_IDENTICAL","!==",309],["T_WHITESPACE"," ",309],["T_LNUMBER","2",309],")",["T_WHITESPACE"," ",309],"{",["T_WHITESPACE","\n        ",309],["T_THROW","throw",310],["T_WHITESPACE"," ",310],["T_NEW","new",310],["T_WHITESPACE"," ",310],["T_NS_SEPARATOR","\\",310],["T_STRING","DomainException",310],"(",["T_CONSTANT_ENCAPSED_STRING","'The #lazy_builder property must have an array as a value, containing two values: the callback, and the arguments for the callback.'",310],")",";",["T_WHITESPACE","\n      ",310],"}",["T_WHITESPACE","\n      ",311],["T_IF","if",312],["T_WHITESPACE"," ",312],"(",["T_STRING","count",312],"(",["T_VARIABLE","$elements",312],"[",["T_CONSTANT_ENCAPSED_STRING","'#lazy_builder'",312],"]","[",["T_LNUMBER","1",312],"]",")",["T_WHITESPACE"," ",312],["T_IS_NOT_IDENTICAL","!==",312],["T_WHITESPACE"," ",312],["T_STRING","count",312],"(",["T_STRING","array_filter",312],"(",["T_VARIABLE","$elements",312],"[",["T_CONSTANT_ENCAPSED_STRING","'#lazy_builder'",312],"]","[",["T_LNUMBER","1",312],"]",",",["T_WHITESPACE"," ",312],["T_FUNCTION","function",312],"(",["T_VARIABLE","$v",312],")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE"," ",312],["T_RETURN","return",312],["T_WHITESPACE"," ",312],["T_STRING","is_null",312],"(",["T_VARIABLE","$v",312],")",["T_WHITESPACE"," ",312],["T_BOOLEAN_OR","||",312],["T_WHITESPACE"," ",312],["T_STRING","is_scalar",312],"(",["T_VARIABLE","$v",312],")",";",["T_WHITESPACE"," ",312],"}",")",")",")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n        ",312],["T_THROW","throw",313],["T_WHITESPACE"," ",313],["T_NEW","new",313],["T_WHITESPACE"," ",313],["T_NS_SEPARATOR","\\",313],["T_STRING","DomainException",313],"(",["T_CONSTANT_ENCAPSED_STRING","\"A #lazy_builder callback's context may only contain scalar values or NULL.\"",313],")",";",["T_WHITESPACE","\n      ",313],"}",["T_WHITESPACE","\n      ",314],["T_VARIABLE","$children",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_STRING","Element",315],["T_DOUBLE_COLON","::",315],["T_STRING","children",315],"(",["T_VARIABLE","$elements",315],")",";",["T_WHITESPACE","\n      ",315],["T_IF","if",316],["T_WHITESPACE"," ",316],"(",["T_VARIABLE","$children",316],")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n        ",316],["T_THROW","throw",317],["T_WHITESPACE"," ",317],["T_NEW","new",317],["T_WHITESPACE"," ",317],["T_NS_SEPARATOR","\\",317],["T_STRING","DomainException",317],"(",["T_STRING","sprintf",317],"(",["T_CONSTANT_ENCAPSED_STRING","'When a #lazy_builder callback is specified, no children can exist; all children must be generated by the #lazy_builder callback. You specified the following children: %s.'",317],",",["T_WHITESPACE"," ",317],["T_STRING","implode",317],"(",["T_CONSTANT_ENCAPSED_STRING","', '",317],",",["T_WHITESPACE"," ",317],["T_VARIABLE","$children",317],")",")",")",";",["T_WHITESPACE","\n      ",317],"}",["T_WHITESPACE","\n      ",318],["T_VARIABLE","$supported_keys",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],"[",["T_WHITESPACE","\n        ",319],["T_CONSTANT_ENCAPSED_STRING","'#lazy_builder'",320],",",["T_WHITESPACE","\n        ",320],["T_CONSTANT_ENCAPSED_STRING","'#cache'",321],",",["T_WHITESPACE","\n        ",321],["T_CONSTANT_ENCAPSED_STRING","'#create_placeholder'",322],",",["T_WHITESPACE","\n        ",322],["T_COMMENT","\/\/ These keys are not actually supported, but they are added automatically\n",323],["T_WHITESPACE","        ",324],["T_COMMENT","\/\/ by the Renderer, so we don't crash on them; them being missing when\n",324],["T_WHITESPACE","        ",325],["T_COMMENT","\/\/ their #lazy_builder callback is invoked won't surprise the developer.\n",325],["T_WHITESPACE","        ",326],["T_CONSTANT_ENCAPSED_STRING","'#weight'",326],",",["T_WHITESPACE","\n        ",326],["T_CONSTANT_ENCAPSED_STRING","'#printed'",327],["T_WHITESPACE","\n      ",327],"]",";",["T_WHITESPACE","\n      ",328],["T_VARIABLE","$unsupported_keys",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_STRING","array_diff",329],"(",["T_STRING","array_keys",329],"(",["T_VARIABLE","$elements",329],")",",",["T_WHITESPACE"," ",329],["T_VARIABLE","$supported_keys",329],")",";",["T_WHITESPACE","\n      ",329],["T_IF","if",330],["T_WHITESPACE"," ",330],"(",["T_STRING","count",330],"(",["T_VARIABLE","$unsupported_keys",330],")",")",["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n        ",330],["T_THROW","throw",331],["T_WHITESPACE"," ",331],["T_NEW","new",331],["T_WHITESPACE"," ",331],["T_NS_SEPARATOR","\\",331],["T_STRING","DomainException",331],"(",["T_STRING","sprintf",331],"(",["T_CONSTANT_ENCAPSED_STRING","'When a #lazy_builder callback is specified, no properties can exist; all properties must be generated by the #lazy_builder callback. You specified the following properties: %s.'",331],",",["T_WHITESPACE"," ",331],["T_STRING","implode",331],"(",["T_CONSTANT_ENCAPSED_STRING","', '",331],",",["T_WHITESPACE"," ",331],["T_VARIABLE","$unsupported_keys",331],")",")",")",";",["T_WHITESPACE","\n      ",331],"}",["T_WHITESPACE","\n    ",332],"}",["T_WHITESPACE","\n    ",333],["T_COMMENT","\/\/ Determine whether to do auto-placeholdering.\n",334],["T_WHITESPACE","    ",335],["T_IF","if",335],["T_WHITESPACE"," ",335],"(",["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","placeholderGenerator",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","canCreatePlaceholder",335],"(",["T_VARIABLE","$elements",335],")",["T_WHITESPACE"," ",335],["T_BOOLEAN_AND","&&",335],["T_WHITESPACE"," ",335],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","placeholderGenerator",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","shouldAutomaticallyPlaceholder",335],"(",["T_VARIABLE","$elements",335],")",")",["T_WHITESPACE"," ",335],"{",["T_WHITESPACE","\n      ",335],["T_VARIABLE","$elements",336],"[",["T_CONSTANT_ENCAPSED_STRING","'#create_placeholder'",336],"]",["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_STRING","TRUE",336],";",["T_WHITESPACE","\n    ",336],"}",["T_WHITESPACE","\n    ",337],["T_COMMENT","\/\/ If instructed to create a placeholder, and a #lazy_builder callback is\n",338],["T_WHITESPACE","    ",339],["T_COMMENT","\/\/ present (without such a callback, it would be impossible to replace the\n",339],["T_WHITESPACE","    ",340],["T_COMMENT","\/\/ placeholder), replace the current element with a placeholder.\n",340],["T_WHITESPACE","    ",341],["T_COMMENT","\/\/ @todo remove the isMethodSafe() check when\n",341],["T_WHITESPACE","    ",342],["T_COMMENT","\/\/       https:\/\/www.drupal.org\/node\/2367555 lands.\n",342],["T_WHITESPACE","    ",343],["T_IF","if",343],["T_WHITESPACE"," ",343],"(",["T_ISSET","isset",343],"(",["T_VARIABLE","$elements",343],"[",["T_CONSTANT_ENCAPSED_STRING","'#create_placeholder'",343],"]",")",["T_WHITESPACE"," ",343],["T_BOOLEAN_AND","&&",343],["T_WHITESPACE"," ",343],["T_VARIABLE","$elements",343],"[",["T_CONSTANT_ENCAPSED_STRING","'#create_placeholder'",343],"]",["T_WHITESPACE"," ",343],["T_IS_IDENTICAL","===",343],["T_WHITESPACE"," ",343],["T_STRING","TRUE",343],["T_WHITESPACE"," ",343],["T_BOOLEAN_AND","&&",343],["T_WHITESPACE"," ",343],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","requestStack",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","getCurrentRequest",343],"(",")",["T_OBJECT_OPERATOR","->",343],["T_STRING","isMethodSafe",343],"(",")",")",["T_WHITESPACE"," ",343],"{",["T_WHITESPACE","\n      ",343],["T_IF","if",344],["T_WHITESPACE"," ",344],"(","!",["T_ISSET","isset",344],"(",["T_VARIABLE","$elements",344],"[",["T_CONSTANT_ENCAPSED_STRING","'#lazy_builder'",344],"]",")",")",["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n        ",344],["T_THROW","throw",345],["T_WHITESPACE"," ",345],["T_NEW","new",345],["T_WHITESPACE"," ",345],["T_NS_SEPARATOR","\\",345],["T_STRING","LogicException",345],"(",["T_CONSTANT_ENCAPSED_STRING","'When #create_placeholder is set, a #lazy_builder callback must be present as well.'",345],")",";",["T_WHITESPACE","\n      ",345],"}",["T_WHITESPACE","\n      ",346],["T_VARIABLE","$elements",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","placeholderGenerator",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","createPlaceholder",347],"(",["T_VARIABLE","$elements",347],")",";",["T_WHITESPACE","\n    ",347],"}",["T_WHITESPACE","\n    ",348],["T_COMMENT","\/\/ Build the element if it is still empty.\n",349],["T_WHITESPACE","    ",350],["T_IF","if",350],["T_WHITESPACE"," ",350],"(",["T_ISSET","isset",350],"(",["T_VARIABLE","$elements",350],"[",["T_CONSTANT_ENCAPSED_STRING","'#lazy_builder'",350],"]",")",")",["T_WHITESPACE"," ",350],"{",["T_WHITESPACE","\n      ",350],["T_VARIABLE","$callable",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_VARIABLE","$elements",351],"[",["T_CONSTANT_ENCAPSED_STRING","'#lazy_builder'",351],"]","[",["T_LNUMBER","0",351],"]",";",["T_WHITESPACE","\n      ",351],["T_VARIABLE","$args",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_VARIABLE","$elements",352],"[",["T_CONSTANT_ENCAPSED_STRING","'#lazy_builder'",352],"]","[",["T_LNUMBER","1",352],"]",";",["T_WHITESPACE","\n      ",352],["T_IF","if",353],["T_WHITESPACE"," ",353],"(",["T_STRING","is_string",353],"(",["T_VARIABLE","$callable",353],")",["T_WHITESPACE"," ",353],["T_BOOLEAN_AND","&&",353],["T_WHITESPACE"," ",353],["T_STRING","strpos",353],"(",["T_VARIABLE","$callable",353],",",["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","'::'",353],")",["T_WHITESPACE"," ",353],["T_IS_IDENTICAL","===",353],["T_WHITESPACE"," ",353],["T_STRING","FALSE",353],")",["T_WHITESPACE"," ",353],"{",["T_WHITESPACE","\n        ",353],["T_VARIABLE","$callable",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","controllerResolver",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","getControllerFromDefinition",354],"(",["T_VARIABLE","$callable",354],")",";",["T_WHITESPACE","\n      ",354],"}",["T_WHITESPACE","\n      ",355],["T_VARIABLE","$new_elements",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_STRING","call_user_func_array",356],"(",["T_VARIABLE","$callable",356],",",["T_WHITESPACE"," ",356],["T_VARIABLE","$args",356],")",";",["T_WHITESPACE","\n      ",356],["T_COMMENT","\/\/ Retain the original cacheability metadata, plus cache keys.\n",357],["T_WHITESPACE","      ",358],["T_STRING","CacheableMetadata",358],["T_DOUBLE_COLON","::",358],["T_STRING","createFromRenderArray",358],"(",["T_VARIABLE","$elements",358],")",["T_WHITESPACE","\n        ",358],["T_OBJECT_OPERATOR","->",359],["T_STRING","merge",359],"(",["T_STRING","CacheableMetadata",359],["T_DOUBLE_COLON","::",359],["T_STRING","createFromRenderArray",359],"(",["T_VARIABLE","$new_elements",359],")",")",["T_WHITESPACE","\n        ",359],["T_OBJECT_OPERATOR","->",360],["T_STRING","applyTo",360],"(",["T_VARIABLE","$new_elements",360],")",";",["T_WHITESPACE","\n      ",360],["T_IF","if",361],["T_WHITESPACE"," ",361],"(",["T_ISSET","isset",361],"(",["T_VARIABLE","$elements",361],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",361],"]","[",["T_CONSTANT_ENCAPSED_STRING","'keys'",361],"]",")",")",["T_WHITESPACE"," ",361],"{",["T_WHITESPACE","\n        ",361],["T_VARIABLE","$new_elements",362],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",362],"]","[",["T_CONSTANT_ENCAPSED_STRING","'keys'",362],"]",["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_VARIABLE","$elements",362],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",362],"]","[",["T_CONSTANT_ENCAPSED_STRING","'keys'",362],"]",";",["T_WHITESPACE","\n      ",362],"}",["T_WHITESPACE","\n      ",363],["T_VARIABLE","$elements",364],["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_VARIABLE","$new_elements",364],";",["T_WHITESPACE","\n      ",364],["T_VARIABLE","$elements",365],"[",["T_CONSTANT_ENCAPSED_STRING","'#lazy_builder_built'",365],"]",["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],["T_STRING","TRUE",365],";",["T_WHITESPACE","\n    ",365],"}",["T_WHITESPACE","\n\n    ",366],["T_COMMENT","\/\/ Make any final changes to the element before it is rendered. This means\n",368],["T_WHITESPACE","    ",369],["T_COMMENT","\/\/ that the $element or the children can be altered or corrected before the\n",369],["T_WHITESPACE","    ",370],["T_COMMENT","\/\/ element is rendered into the final text.\n",370],["T_WHITESPACE","    ",371],["T_IF","if",371],["T_WHITESPACE"," ",371],"(",["T_ISSET","isset",371],"(",["T_VARIABLE","$elements",371],"[",["T_CONSTANT_ENCAPSED_STRING","'#pre_render'",371],"]",")",")",["T_WHITESPACE"," ",371],"{",["T_WHITESPACE","\n      ",371],["T_FOREACH","foreach",372],["T_WHITESPACE"," ",372],"(",["T_VARIABLE","$elements",372],"[",["T_CONSTANT_ENCAPSED_STRING","'#pre_render'",372],"]",["T_WHITESPACE"," ",372],["T_AS","as",372],["T_WHITESPACE"," ",372],["T_VARIABLE","$callable",372],")",["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n        ",372],["T_IF","if",373],["T_WHITESPACE"," ",373],"(",["T_STRING","is_string",373],"(",["T_VARIABLE","$callable",373],")",["T_WHITESPACE"," ",373],["T_BOOLEAN_AND","&&",373],["T_WHITESPACE"," ",373],["T_STRING","strpos",373],"(",["T_VARIABLE","$callable",373],",",["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","'::'",373],")",["T_WHITESPACE"," ",373],["T_IS_IDENTICAL","===",373],["T_WHITESPACE"," ",373],["T_STRING","FALSE",373],")",["T_WHITESPACE"," ",373],"{",["T_WHITESPACE","\n          ",373],["T_VARIABLE","$callable",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","controllerResolver",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","getControllerFromDefinition",374],"(",["T_VARIABLE","$callable",374],")",";",["T_WHITESPACE","\n        ",374],"}",["T_WHITESPACE","\n        ",375],["T_VARIABLE","$elements",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],["T_STRING","call_user_func",376],"(",["T_VARIABLE","$callable",376],",",["T_WHITESPACE"," ",376],["T_VARIABLE","$elements",376],")",";",["T_WHITESPACE","\n      ",376],"}",["T_WHITESPACE","\n    ",377],"}",["T_WHITESPACE","\n\n    ",378],["T_COMMENT","\/\/ All render elements support #markup and #plain_text.\n",380],["T_WHITESPACE","    ",381],["T_IF","if",381],["T_WHITESPACE"," ",381],"(","!",["T_EMPTY","empty",381],"(",["T_VARIABLE","$elements",381],"[",["T_CONSTANT_ENCAPSED_STRING","'#markup'",381],"]",")",["T_WHITESPACE"," ",381],["T_BOOLEAN_OR","||",381],["T_WHITESPACE"," ",381],"!",["T_EMPTY","empty",381],"(",["T_VARIABLE","$elements",381],"[",["T_CONSTANT_ENCAPSED_STRING","'#plain_text'",381],"]",")",")",["T_WHITESPACE"," ",381],"{",["T_WHITESPACE","\n      ",381],["T_VARIABLE","$elements",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","ensureMarkupIsSafe",382],"(",["T_VARIABLE","$elements",382],")",";",["T_WHITESPACE","\n    ",382],"}",["T_WHITESPACE","\n\n    ",383],["T_COMMENT","\/\/ Defaults for bubbleable rendering metadata.\n",385],["T_WHITESPACE","    ",386],["T_VARIABLE","$elements",386],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",386],"]","[",["T_CONSTANT_ENCAPSED_STRING","'tags'",386],"]",["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_ISSET","isset",386],"(",["T_VARIABLE","$elements",386],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",386],"]","[",["T_CONSTANT_ENCAPSED_STRING","'tags'",386],"]",")",["T_WHITESPACE"," ",386],"?",["T_WHITESPACE"," ",386],["T_VARIABLE","$elements",386],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",386],"]","[",["T_CONSTANT_ENCAPSED_STRING","'tags'",386],"]",["T_WHITESPACE"," ",386],":",["T_WHITESPACE"," ",386],["T_ARRAY","array",386],"(",")",";",["T_WHITESPACE","\n    ",386],["T_VARIABLE","$elements",387],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",387],"]","[",["T_CONSTANT_ENCAPSED_STRING","'max-age'",387],"]",["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_ISSET","isset",387],"(",["T_VARIABLE","$elements",387],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",387],"]","[",["T_CONSTANT_ENCAPSED_STRING","'max-age'",387],"]",")",["T_WHITESPACE"," ",387],"?",["T_WHITESPACE"," ",387],["T_VARIABLE","$elements",387],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",387],"]","[",["T_CONSTANT_ENCAPSED_STRING","'max-age'",387],"]",["T_WHITESPACE"," ",387],":",["T_WHITESPACE"," ",387],["T_STRING","Cache",387],["T_DOUBLE_COLON","::",387],["T_STRING","PERMANENT",387],";",["T_WHITESPACE","\n    ",387],["T_VARIABLE","$elements",388],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",388],"]",["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_ISSET","isset",388],"(",["T_VARIABLE","$elements",388],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",388],"]",")",["T_WHITESPACE"," ",388],"?",["T_WHITESPACE"," ",388],["T_VARIABLE","$elements",388],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",388],"]",["T_WHITESPACE"," ",388],":",["T_WHITESPACE"," ",388],["T_ARRAY","array",388],"(",")",";",["T_WHITESPACE","\n\n    ",388],["T_COMMENT","\/\/ Allow #pre_render to abort rendering.\n",390],["T_WHITESPACE","    ",391],["T_IF","if",391],["T_WHITESPACE"," ",391],"(","!",["T_EMPTY","empty",391],"(",["T_VARIABLE","$elements",391],"[",["T_CONSTANT_ENCAPSED_STRING","'#printed'",391],"]",")",")",["T_WHITESPACE"," ",391],"{",["T_WHITESPACE","\n      ",391],["T_COMMENT","\/\/ The #printed element contains all the bubbleable rendering metadata for\n",392],["T_WHITESPACE","      ",393],["T_COMMENT","\/\/ the subtree.\n",393],["T_WHITESPACE","      ",394],["T_VARIABLE","$context",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","update",394],"(",["T_VARIABLE","$elements",394],")",";",["T_WHITESPACE","\n      ",394],["T_COMMENT","\/\/ #printed, so rendering is finished, all necessary info collected!\n",395],["T_WHITESPACE","      ",396],["T_VARIABLE","$context",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","bubble",396],"(",")",";",["T_WHITESPACE","\n      ",396],["T_RETURN","return",397],["T_WHITESPACE"," ",397],["T_CONSTANT_ENCAPSED_STRING","''",397],";",["T_WHITESPACE","\n    ",397],"}",["T_WHITESPACE","\n\n    ",398],["T_COMMENT","\/\/ Add any JavaScript state information associated with the element.\n",400],["T_WHITESPACE","    ",401],["T_IF","if",401],["T_WHITESPACE"," ",401],"(","!",["T_EMPTY","empty",401],"(",["T_VARIABLE","$elements",401],"[",["T_CONSTANT_ENCAPSED_STRING","'#states'",401],"]",")",")",["T_WHITESPACE"," ",401],"{",["T_WHITESPACE","\n      ",401],["T_STRING","drupal_process_states",402],"(",["T_VARIABLE","$elements",402],")",";",["T_WHITESPACE","\n    ",402],"}",["T_WHITESPACE","\n\n    ",403],["T_COMMENT","\/\/ Get the children of the element, sorted by weight.\n",405],["T_WHITESPACE","    ",406],["T_VARIABLE","$children",406],["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_STRING","Element",406],["T_DOUBLE_COLON","::",406],["T_STRING","children",406],"(",["T_VARIABLE","$elements",406],",",["T_WHITESPACE"," ",406],["T_STRING","TRUE",406],")",";",["T_WHITESPACE","\n\n    ",406],["T_COMMENT","\/\/ Initialize this element's #children, unless a #pre_render callback\n",408],["T_WHITESPACE","    ",409],["T_COMMENT","\/\/ already preset #children.\n",409],["T_WHITESPACE","    ",410],["T_IF","if",410],["T_WHITESPACE"," ",410],"(","!",["T_ISSET","isset",410],"(",["T_VARIABLE","$elements",410],"[",["T_CONSTANT_ENCAPSED_STRING","'#children'",410],"]",")",")",["T_WHITESPACE"," ",410],"{",["T_WHITESPACE","\n      ",410],["T_VARIABLE","$elements",411],"[",["T_CONSTANT_ENCAPSED_STRING","'#children'",411],"]",["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","''",411],";",["T_WHITESPACE","\n    ",411],"}",["T_WHITESPACE","\n\n    ",412],["T_COMMENT","\/\/ Assume that if #theme is set it represents an implemented hook.\n",414],["T_WHITESPACE","    ",415],["T_VARIABLE","$theme_is_implemented",415],["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_ISSET","isset",415],"(",["T_VARIABLE","$elements",415],"[",["T_CONSTANT_ENCAPSED_STRING","'#theme'",415],"]",")",";",["T_WHITESPACE","\n    ",415],["T_COMMENT","\/\/ Check the elements for insecure HTML and pass through sanitization.\n",416],["T_WHITESPACE","    ",417],["T_IF","if",417],["T_WHITESPACE"," ",417],"(",["T_ISSET","isset",417],"(",["T_VARIABLE","$elements",417],")",")",["T_WHITESPACE"," ",417],"{",["T_WHITESPACE","\n      ",417],["T_VARIABLE","$markup_keys",418],["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],["T_ARRAY","array",418],"(",["T_WHITESPACE","\n        ",418],["T_CONSTANT_ENCAPSED_STRING","'#description'",419],",",["T_WHITESPACE","\n        ",419],["T_CONSTANT_ENCAPSED_STRING","'#field_prefix'",420],",",["T_WHITESPACE","\n        ",420],["T_CONSTANT_ENCAPSED_STRING","'#field_suffix'",421],",",["T_WHITESPACE","\n      ",421],")",";",["T_WHITESPACE","\n      ",422],["T_FOREACH","foreach",423],["T_WHITESPACE"," ",423],"(",["T_VARIABLE","$markup_keys",423],["T_WHITESPACE"," ",423],["T_AS","as",423],["T_WHITESPACE"," ",423],["T_VARIABLE","$key",423],")",["T_WHITESPACE"," ",423],"{",["T_WHITESPACE","\n        ",423],["T_IF","if",424],["T_WHITESPACE"," ",424],"(","!",["T_EMPTY","empty",424],"(",["T_VARIABLE","$elements",424],"[",["T_VARIABLE","$key",424],"]",")",["T_WHITESPACE"," ",424],["T_BOOLEAN_AND","&&",424],["T_WHITESPACE"," ",424],["T_STRING","is_scalar",424],"(",["T_VARIABLE","$elements",424],"[",["T_VARIABLE","$key",424],"]",")",")",["T_WHITESPACE"," ",424],"{",["T_WHITESPACE","\n          ",424],["T_VARIABLE","$elements",425],"[",["T_VARIABLE","$key",425],"]",["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","xssFilterAdminIfUnsafe",425],"(",["T_VARIABLE","$elements",425],"[",["T_VARIABLE","$key",425],"]",")",";",["T_WHITESPACE","\n        ",425],"}",["T_WHITESPACE","\n      ",426],"}",["T_WHITESPACE","\n    ",427],"}",["T_WHITESPACE","\n\n    ",428],["T_COMMENT","\/\/ Call the element's #theme function if it is set. Then any children of the\n",430],["T_WHITESPACE","    ",431],["T_COMMENT","\/\/ element have to be rendered there. If the internal #render_children\n",431],["T_WHITESPACE","    ",432],["T_COMMENT","\/\/ property is set, do not call the #theme function to prevent infinite\n",432],["T_WHITESPACE","    ",433],["T_COMMENT","\/\/ recursion.\n",433],["T_WHITESPACE","    ",434],["T_IF","if",434],["T_WHITESPACE"," ",434],"(",["T_VARIABLE","$theme_is_implemented",434],["T_WHITESPACE"," ",434],["T_BOOLEAN_AND","&&",434],["T_WHITESPACE"," ",434],"!",["T_ISSET","isset",434],"(",["T_VARIABLE","$elements",434],"[",["T_CONSTANT_ENCAPSED_STRING","'#render_children'",434],"]",")",")",["T_WHITESPACE"," ",434],"{",["T_WHITESPACE","\n      ",434],["T_VARIABLE","$elements",435],"[",["T_CONSTANT_ENCAPSED_STRING","'#children'",435],"]",["T_WHITESPACE"," ",435],"=",["T_WHITESPACE"," ",435],["T_VARIABLE","$this",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","theme",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","render",435],"(",["T_VARIABLE","$elements",435],"[",["T_CONSTANT_ENCAPSED_STRING","'#theme'",435],"]",",",["T_WHITESPACE"," ",435],["T_VARIABLE","$elements",435],")",";",["T_WHITESPACE","\n\n      ",435],["T_COMMENT","\/\/ If ThemeManagerInterface::render() returns FALSE this means that the\n",437],["T_WHITESPACE","      ",438],["T_COMMENT","\/\/ hook in #theme was not found in the registry and so we need to update\n",438],["T_WHITESPACE","      ",439],["T_COMMENT","\/\/ our flag accordingly. This is common for theme suggestions.\n",439],["T_WHITESPACE","      ",440],["T_VARIABLE","$theme_is_implemented",440],["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],"(",["T_VARIABLE","$elements",440],"[",["T_CONSTANT_ENCAPSED_STRING","'#children'",440],"]",["T_WHITESPACE"," ",440],["T_IS_NOT_IDENTICAL","!==",440],["T_WHITESPACE"," ",440],["T_STRING","FALSE",440],")",";",["T_WHITESPACE","\n    ",440],"}",["T_WHITESPACE","\n\n    ",441],["T_COMMENT","\/\/ If #theme is not implemented or #render_children is set and the element\n",443],["T_WHITESPACE","    ",444],["T_COMMENT","\/\/ has an empty #children attribute, render the children now. This is the\n",444],["T_WHITESPACE","    ",445],["T_COMMENT","\/\/ same process as Renderer::render() but is inlined for speed.\n",445],["T_WHITESPACE","    ",446],["T_IF","if",446],["T_WHITESPACE"," ",446],"(","(","!",["T_VARIABLE","$theme_is_implemented",446],["T_WHITESPACE"," ",446],["T_BOOLEAN_OR","||",446],["T_WHITESPACE"," ",446],["T_ISSET","isset",446],"(",["T_VARIABLE","$elements",446],"[",["T_CONSTANT_ENCAPSED_STRING","'#render_children'",446],"]",")",")",["T_WHITESPACE"," ",446],["T_BOOLEAN_AND","&&",446],["T_WHITESPACE"," ",446],["T_EMPTY","empty",446],"(",["T_VARIABLE","$elements",446],"[",["T_CONSTANT_ENCAPSED_STRING","'#children'",446],"]",")",")",["T_WHITESPACE"," ",446],"{",["T_WHITESPACE","\n      ",446],["T_FOREACH","foreach",447],["T_WHITESPACE"," ",447],"(",["T_VARIABLE","$children",447],["T_WHITESPACE"," ",447],["T_AS","as",447],["T_WHITESPACE"," ",447],["T_VARIABLE","$key",447],")",["T_WHITESPACE"," ",447],"{",["T_WHITESPACE","\n        ",447],["T_VARIABLE","$elements",448],"[",["T_CONSTANT_ENCAPSED_STRING","'#children'",448],"]",["T_WHITESPACE"," ",448],["T_CONCAT_EQUAL",".=",448],["T_WHITESPACE"," ",448],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","doRender",448],"(",["T_VARIABLE","$elements",448],"[",["T_VARIABLE","$key",448],"]",")",";",["T_WHITESPACE","\n      ",448],"}",["T_WHITESPACE","\n      ",449],["T_VARIABLE","$elements",450],"[",["T_CONSTANT_ENCAPSED_STRING","'#children'",450],"]",["T_WHITESPACE"," ",450],"=",["T_WHITESPACE"," ",450],["T_STRING","Markup",450],["T_DOUBLE_COLON","::",450],["T_STRING","create",450],"(",["T_VARIABLE","$elements",450],"[",["T_CONSTANT_ENCAPSED_STRING","'#children'",450],"]",")",";",["T_WHITESPACE","\n    ",450],"}",["T_WHITESPACE","\n\n    ",451],["T_COMMENT","\/\/ If #theme is not implemented and the element has raw #markup as a\n",453],["T_WHITESPACE","    ",454],["T_COMMENT","\/\/ fallback, prepend the content in #markup to #children. In this case\n",454],["T_WHITESPACE","    ",455],["T_COMMENT","\/\/ #children will contain whatever is provided by #pre_render prepended to\n",455],["T_WHITESPACE","    ",456],["T_COMMENT","\/\/ what is rendered recursively above. If #theme is implemented then it is\n",456],["T_WHITESPACE","    ",457],["T_COMMENT","\/\/ the responsibility of that theme implementation to render #markup if\n",457],["T_WHITESPACE","    ",458],["T_COMMENT","\/\/ required. Eventually #theme_wrappers will expect both #markup and\n",458],["T_WHITESPACE","    ",459],["T_COMMENT","\/\/ #children to be a single string as #children.\n",459],["T_WHITESPACE","    ",460],["T_IF","if",460],["T_WHITESPACE"," ",460],"(","!",["T_VARIABLE","$theme_is_implemented",460],["T_WHITESPACE"," ",460],["T_BOOLEAN_AND","&&",460],["T_WHITESPACE"," ",460],["T_ISSET","isset",460],"(",["T_VARIABLE","$elements",460],"[",["T_CONSTANT_ENCAPSED_STRING","'#markup'",460],"]",")",")",["T_WHITESPACE"," ",460],"{",["T_WHITESPACE","\n      ",460],["T_VARIABLE","$elements",461],"[",["T_CONSTANT_ENCAPSED_STRING","'#children'",461],"]",["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_STRING","Markup",461],["T_DOUBLE_COLON","::",461],["T_STRING","create",461],"(",["T_VARIABLE","$elements",461],"[",["T_CONSTANT_ENCAPSED_STRING","'#markup'",461],"]",["T_WHITESPACE"," ",461],".",["T_WHITESPACE"," ",461],["T_VARIABLE","$elements",461],"[",["T_CONSTANT_ENCAPSED_STRING","'#children'",461],"]",")",";",["T_WHITESPACE","\n    ",461],"}",["T_WHITESPACE","\n\n    ",462],["T_COMMENT","\/\/ Let the theme functions in #theme_wrappers add markup around the rendered\n",464],["T_WHITESPACE","    ",465],["T_COMMENT","\/\/ children.\n",465],["T_WHITESPACE","    ",466],["T_COMMENT","\/\/ #states and #attached have to be processed before #theme_wrappers,\n",466],["T_WHITESPACE","    ",467],["T_COMMENT","\/\/ because the #type 'page' render array from drupal_prepare_page() would\n",467],["T_WHITESPACE","    ",468],["T_COMMENT","\/\/ render the $page and wrap it into the html.html.twig template without the\n",468],["T_WHITESPACE","    ",469],["T_COMMENT","\/\/ attached assets otherwise.\n",469],["T_WHITESPACE","    ",470],["T_COMMENT","\/\/ If the internal #render_children property is set, do not call the\n",470],["T_WHITESPACE","    ",471],["T_COMMENT","\/\/ #theme_wrappers function(s) to prevent infinite recursion.\n",471],["T_WHITESPACE","    ",472],["T_IF","if",472],["T_WHITESPACE"," ",472],"(",["T_ISSET","isset",472],"(",["T_VARIABLE","$elements",472],"[",["T_CONSTANT_ENCAPSED_STRING","'#theme_wrappers'",472],"]",")",["T_WHITESPACE"," ",472],["T_BOOLEAN_AND","&&",472],["T_WHITESPACE"," ",472],"!",["T_ISSET","isset",472],"(",["T_VARIABLE","$elements",472],"[",["T_CONSTANT_ENCAPSED_STRING","'#render_children'",472],"]",")",")",["T_WHITESPACE"," ",472],"{",["T_WHITESPACE","\n      ",472],["T_FOREACH","foreach",473],["T_WHITESPACE"," ",473],"(",["T_VARIABLE","$elements",473],"[",["T_CONSTANT_ENCAPSED_STRING","'#theme_wrappers'",473],"]",["T_WHITESPACE"," ",473],["T_AS","as",473],["T_WHITESPACE"," ",473],["T_VARIABLE","$key",473],["T_WHITESPACE"," ",473],["T_DOUBLE_ARROW","=>",473],["T_WHITESPACE"," ",473],["T_VARIABLE","$value",473],")",["T_WHITESPACE"," ",473],"{",["T_WHITESPACE","\n        ",473],["T_COMMENT","\/\/ If the value of a #theme_wrappers item is an array then the theme\n",474],["T_WHITESPACE","        ",475],["T_COMMENT","\/\/ hook is found in the key of the item and the value contains attribute\n",475],["T_WHITESPACE","        ",476],["T_COMMENT","\/\/ overrides. Attribute overrides replace key\/value pairs in $elements\n",476],["T_WHITESPACE","        ",477],["T_COMMENT","\/\/ for only this ThemeManagerInterface::render() call. This allows\n",477],["T_WHITESPACE","        ",478],["T_COMMENT","\/\/ #theme hooks and #theme_wrappers hooks to share variable names\n",478],["T_WHITESPACE","        ",479],["T_COMMENT","\/\/ without conflict or ambiguity.\n",479],["T_WHITESPACE","        ",480],["T_VARIABLE","$wrapper_elements",480],["T_WHITESPACE"," ",480],"=",["T_WHITESPACE"," ",480],["T_VARIABLE","$elements",480],";",["T_WHITESPACE","\n        ",480],["T_IF","if",481],["T_WHITESPACE"," ",481],"(",["T_STRING","is_string",481],"(",["T_VARIABLE","$key",481],")",")",["T_WHITESPACE"," ",481],"{",["T_WHITESPACE","\n          ",481],["T_VARIABLE","$wrapper_hook",482],["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],["T_VARIABLE","$key",482],";",["T_WHITESPACE","\n          ",482],["T_FOREACH","foreach",483],["T_WHITESPACE"," ",483],"(",["T_VARIABLE","$value",483],["T_WHITESPACE"," ",483],["T_AS","as",483],["T_WHITESPACE"," ",483],["T_VARIABLE","$attribute",483],["T_WHITESPACE"," ",483],["T_DOUBLE_ARROW","=>",483],["T_WHITESPACE"," ",483],["T_VARIABLE","$override",483],")",["T_WHITESPACE"," ",483],"{",["T_WHITESPACE","\n            ",483],["T_VARIABLE","$wrapper_elements",484],"[",["T_VARIABLE","$attribute",484],"]",["T_WHITESPACE"," ",484],"=",["T_WHITESPACE"," ",484],["T_VARIABLE","$override",484],";",["T_WHITESPACE","\n          ",484],"}",["T_WHITESPACE","\n        ",485],"}",["T_WHITESPACE","\n        ",486],["T_ELSE","else",487],["T_WHITESPACE"," ",487],"{",["T_WHITESPACE","\n          ",487],["T_VARIABLE","$wrapper_hook",488],["T_WHITESPACE"," ",488],"=",["T_WHITESPACE"," ",488],["T_VARIABLE","$value",488],";",["T_WHITESPACE","\n        ",488],"}",["T_WHITESPACE","\n\n        ",489],["T_VARIABLE","$elements",491],"[",["T_CONSTANT_ENCAPSED_STRING","'#children'",491],"]",["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","theme",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","render",491],"(",["T_VARIABLE","$wrapper_hook",491],",",["T_WHITESPACE"," ",491],["T_VARIABLE","$wrapper_elements",491],")",";",["T_WHITESPACE","\n      ",491],"}",["T_WHITESPACE","\n    ",492],"}",["T_WHITESPACE","\n\n    ",493],["T_COMMENT","\/\/ Filter the outputted content and make any last changes before the content\n",495],["T_WHITESPACE","    ",496],["T_COMMENT","\/\/ is sent to the browser. The changes are made on $content which allows the\n",496],["T_WHITESPACE","    ",497],["T_COMMENT","\/\/ outputted text to be filtered.\n",497],["T_WHITESPACE","    ",498],["T_IF","if",498],["T_WHITESPACE"," ",498],"(",["T_ISSET","isset",498],"(",["T_VARIABLE","$elements",498],"[",["T_CONSTANT_ENCAPSED_STRING","'#post_render'",498],"]",")",")",["T_WHITESPACE"," ",498],"{",["T_WHITESPACE","\n      ",498],["T_FOREACH","foreach",499],["T_WHITESPACE"," ",499],"(",["T_VARIABLE","$elements",499],"[",["T_CONSTANT_ENCAPSED_STRING","'#post_render'",499],"]",["T_WHITESPACE"," ",499],["T_AS","as",499],["T_WHITESPACE"," ",499],["T_VARIABLE","$callable",499],")",["T_WHITESPACE"," ",499],"{",["T_WHITESPACE","\n        ",499],["T_IF","if",500],["T_WHITESPACE"," ",500],"(",["T_STRING","is_string",500],"(",["T_VARIABLE","$callable",500],")",["T_WHITESPACE"," ",500],["T_BOOLEAN_AND","&&",500],["T_WHITESPACE"," ",500],["T_STRING","strpos",500],"(",["T_VARIABLE","$callable",500],",",["T_WHITESPACE"," ",500],["T_CONSTANT_ENCAPSED_STRING","'::'",500],")",["T_WHITESPACE"," ",500],["T_IS_IDENTICAL","===",500],["T_WHITESPACE"," ",500],["T_STRING","FALSE",500],")",["T_WHITESPACE"," ",500],"{",["T_WHITESPACE","\n          ",500],["T_VARIABLE","$callable",501],["T_WHITESPACE"," ",501],"=",["T_WHITESPACE"," ",501],["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","controllerResolver",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","getControllerFromDefinition",501],"(",["T_VARIABLE","$callable",501],")",";",["T_WHITESPACE","\n        ",501],"}",["T_WHITESPACE","\n        ",502],["T_VARIABLE","$elements",503],"[",["T_CONSTANT_ENCAPSED_STRING","'#children'",503],"]",["T_WHITESPACE"," ",503],"=",["T_WHITESPACE"," ",503],["T_STRING","call_user_func",503],"(",["T_VARIABLE","$callable",503],",",["T_WHITESPACE"," ",503],["T_VARIABLE","$elements",503],"[",["T_CONSTANT_ENCAPSED_STRING","'#children'",503],"]",",",["T_WHITESPACE"," ",503],["T_VARIABLE","$elements",503],")",";",["T_WHITESPACE","\n      ",503],"}",["T_WHITESPACE","\n    ",504],"}",["T_WHITESPACE","\n\n    ",505],["T_COMMENT","\/\/ We store the resulting output in $elements['#markup'], to be consistent\n",507],["T_WHITESPACE","    ",508],["T_COMMENT","\/\/ with how render cached output gets stored. This ensures that placeholder\n",508],["T_WHITESPACE","    ",509],["T_COMMENT","\/\/ replacement logic gets the same data to work with, no matter if #cache is\n",509],["T_WHITESPACE","    ",510],["T_COMMENT","\/\/ disabled, #cache is enabled, there is a cache hit or miss.\n",510],["T_WHITESPACE","    ",511],["T_VARIABLE","$prefix",511],["T_WHITESPACE"," ",511],"=",["T_WHITESPACE"," ",511],["T_ISSET","isset",511],"(",["T_VARIABLE","$elements",511],"[",["T_CONSTANT_ENCAPSED_STRING","'#prefix'",511],"]",")",["T_WHITESPACE"," ",511],"?",["T_WHITESPACE"," ",511],["T_VARIABLE","$this",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","xssFilterAdminIfUnsafe",511],"(",["T_VARIABLE","$elements",511],"[",["T_CONSTANT_ENCAPSED_STRING","'#prefix'",511],"]",")",["T_WHITESPACE"," ",511],":",["T_WHITESPACE"," ",511],["T_CONSTANT_ENCAPSED_STRING","''",511],";",["T_WHITESPACE","\n    ",511],["T_VARIABLE","$suffix",512],["T_WHITESPACE"," ",512],"=",["T_WHITESPACE"," ",512],["T_ISSET","isset",512],"(",["T_VARIABLE","$elements",512],"[",["T_CONSTANT_ENCAPSED_STRING","'#suffix'",512],"]",")",["T_WHITESPACE"," ",512],"?",["T_WHITESPACE"," ",512],["T_VARIABLE","$this",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","xssFilterAdminIfUnsafe",512],"(",["T_VARIABLE","$elements",512],"[",["T_CONSTANT_ENCAPSED_STRING","'#suffix'",512],"]",")",["T_WHITESPACE"," ",512],":",["T_WHITESPACE"," ",512],["T_CONSTANT_ENCAPSED_STRING","''",512],";",["T_WHITESPACE","\n\n    ",512],["T_VARIABLE","$elements",514],"[",["T_CONSTANT_ENCAPSED_STRING","'#markup'",514],"]",["T_WHITESPACE"," ",514],"=",["T_WHITESPACE"," ",514],["T_STRING","Markup",514],["T_DOUBLE_COLON","::",514],["T_STRING","create",514],"(",["T_VARIABLE","$prefix",514],["T_WHITESPACE"," ",514],".",["T_WHITESPACE"," ",514],["T_VARIABLE","$elements",514],"[",["T_CONSTANT_ENCAPSED_STRING","'#children'",514],"]",["T_WHITESPACE"," ",514],".",["T_WHITESPACE"," ",514],["T_VARIABLE","$suffix",514],")",";",["T_WHITESPACE","\n\n    ",514],["T_COMMENT","\/\/ We've rendered this element (and its subtree!), now update the context.\n",516],["T_WHITESPACE","    ",517],["T_VARIABLE","$context",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","update",517],"(",["T_VARIABLE","$elements",517],")",";",["T_WHITESPACE","\n\n    ",517],["T_COMMENT","\/\/ Cache the processed element if both $pre_bubbling_elements and $elements\n",519],["T_WHITESPACE","    ",520],["T_COMMENT","\/\/ have the metadata necessary to generate a cache ID.\n",520],["T_WHITESPACE","    ",521],["T_IF","if",521],["T_WHITESPACE"," ",521],"(",["T_ISSET","isset",521],"(",["T_VARIABLE","$pre_bubbling_elements",521],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",521],"]","[",["T_CONSTANT_ENCAPSED_STRING","'keys'",521],"]",")",["T_WHITESPACE"," ",521],["T_BOOLEAN_AND","&&",521],["T_WHITESPACE"," ",521],["T_ISSET","isset",521],"(",["T_VARIABLE","$elements",521],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",521],"]","[",["T_CONSTANT_ENCAPSED_STRING","'keys'",521],"]",")",")",["T_WHITESPACE"," ",521],"{",["T_WHITESPACE","\n      ",521],["T_IF","if",522],["T_WHITESPACE"," ",522],"(",["T_VARIABLE","$pre_bubbling_elements",522],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",522],"]","[",["T_CONSTANT_ENCAPSED_STRING","'keys'",522],"]",["T_WHITESPACE"," ",522],["T_IS_NOT_IDENTICAL","!==",522],["T_WHITESPACE"," ",522],["T_VARIABLE","$elements",522],"[",["T_CONSTANT_ENCAPSED_STRING","'#cache'",522],"]","[",["T_CONSTANT_ENCAPSED_STRING","'keys'",522],"]",")",["T_WHITESPACE"," ",522],"{",["T_WHITESPACE","\n        ",522],["T_THROW","throw",523],["T_WHITESPACE"," ",523],["T_NEW","new",523],["T_WHITESPACE"," ",523],["T_NS_SEPARATOR","\\",523],["T_STRING","LogicException",523],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache keys may not be changed after initial setup. Use the contexts property instead to bubble additional metadata.'",523],")",";",["T_WHITESPACE","\n      ",523],"}",["T_WHITESPACE","\n      ",524],["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","renderCache",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","set",525],"(",["T_VARIABLE","$elements",525],",",["T_WHITESPACE"," ",525],["T_VARIABLE","$pre_bubbling_elements",525],")",";",["T_WHITESPACE","\n      ",525],["T_COMMENT","\/\/ Update the render context; the render cache implementation may update\n",526],["T_WHITESPACE","      ",527],["T_COMMENT","\/\/ the element, and it may have different bubbleable metadata now.\n",527],["T_WHITESPACE","      ",528],["T_COMMENT","\/\/ @see \\Drupal\\Core\\Render\\PlaceholderingRenderCache::set()\n",528],["T_WHITESPACE","      ",529],["T_VARIABLE","$context",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","pop",529],"(",")",";",["T_WHITESPACE","\n      ",529],["T_VARIABLE","$context",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","push",530],"(",["T_NEW","new",530],["T_WHITESPACE"," ",530],["T_STRING","BubbleableMetadata",530],"(",")",")",";",["T_WHITESPACE","\n      ",530],["T_VARIABLE","$context",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","update",531],"(",["T_VARIABLE","$elements",531],")",";",["T_WHITESPACE","\n    ",531],"}",["T_WHITESPACE","\n\n    ",532],["T_COMMENT","\/\/ Only when we're in a root (non-recursive) Renderer::render() call,\n",534],["T_WHITESPACE","    ",535],["T_COMMENT","\/\/ placeholders must be processed, to prevent breaking the render cache in\n",535],["T_WHITESPACE","    ",536],["T_COMMENT","\/\/ case of nested elements with #cache set.\n",536],["T_WHITESPACE","    ",537],["T_COMMENT","\/\/\n",537],["T_WHITESPACE","    ",538],["T_COMMENT","\/\/ By running them here, we ensure that:\n",538],["T_WHITESPACE","    ",539],["T_COMMENT","\/\/ - they run when #cache is disabled,\n",539],["T_WHITESPACE","    ",540],["T_COMMENT","\/\/ - they run when #cache is enabled and there is a cache miss.\n",540],["T_WHITESPACE","    ",541],["T_COMMENT","\/\/ Only the case of a cache hit when #cache is enabled, is not handled here,\n",541],["T_WHITESPACE","    ",542],["T_COMMENT","\/\/ that is handled earlier in Renderer::render().\n",542],["T_WHITESPACE","    ",543],["T_IF","if",543],["T_WHITESPACE"," ",543],"(",["T_VARIABLE","$is_root_call",543],")",["T_WHITESPACE"," ",543],"{",["T_WHITESPACE","\n      ",543],["T_VARIABLE","$this",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","replacePlaceholders",544],"(",["T_VARIABLE","$elements",544],")",";",["T_WHITESPACE","\n      ",544],["T_COMMENT","\/\/ @todo remove as part of https:\/\/www.drupal.org\/node\/2511330.\n",545],["T_WHITESPACE","      ",546],["T_IF","if",546],["T_WHITESPACE"," ",546],"(",["T_VARIABLE","$context",546],["T_OBJECT_OPERATOR","->",546],["T_STRING","count",546],"(",")",["T_WHITESPACE"," ",546],["T_IS_NOT_IDENTICAL","!==",546],["T_WHITESPACE"," ",546],["T_LNUMBER","1",546],")",["T_WHITESPACE"," ",546],"{",["T_WHITESPACE","\n        ",546],["T_THROW","throw",547],["T_WHITESPACE"," ",547],["T_NEW","new",547],["T_WHITESPACE"," ",547],["T_NS_SEPARATOR","\\",547],["T_STRING","LogicException",547],"(",["T_CONSTANT_ENCAPSED_STRING","'A stray drupal_render() invocation with $is_root_call = TRUE is causing bubbling of attached assets to break.'",547],")",";",["T_WHITESPACE","\n      ",547],"}",["T_WHITESPACE","\n    ",548],"}",["T_WHITESPACE","\n\n    ",549],["T_COMMENT","\/\/ Rendering is finished, all necessary info collected!\n",551],["T_WHITESPACE","    ",552],["T_VARIABLE","$context",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","bubble",552],"(",")",";",["T_WHITESPACE","\n\n    ",552],["T_VARIABLE","$elements",554],"[",["T_CONSTANT_ENCAPSED_STRING","'#printed'",554],"]",["T_WHITESPACE"," ",554],"=",["T_WHITESPACE"," ",554],["T_STRING","TRUE",554],";",["T_WHITESPACE","\n    ",554],["T_RETURN","return",555],["T_WHITESPACE"," ",555],["T_VARIABLE","$elements",555],"[",["T_CONSTANT_ENCAPSED_STRING","'#markup'",555],"]",";",["T_WHITESPACE","\n  ",555],"}",["T_WHITESPACE","\n\n  ",556],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",558],["T_WHITESPACE","\n  ",560],["T_PUBLIC","public",561],["T_WHITESPACE"," ",561],["T_FUNCTION","function",561],["T_WHITESPACE"," ",561],["T_STRING","hasRenderContext",561],"(",")",["T_WHITESPACE"," ",561],"{",["T_WHITESPACE","\n    ",561],["T_RETURN","return",562],["T_WHITESPACE"," ",562],["T_BOOL_CAST","(bool)",562],["T_WHITESPACE"," ",562],["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","getCurrentRenderContext",562],"(",")",";",["T_WHITESPACE","\n  ",562],"}",["T_WHITESPACE","\n\n  ",563],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",565],["T_WHITESPACE","\n  ",567],["T_PUBLIC","public",568],["T_WHITESPACE"," ",568],["T_FUNCTION","function",568],["T_WHITESPACE"," ",568],["T_STRING","executeInRenderContext",568],"(",["T_STRING","RenderContext",568],["T_WHITESPACE"," ",568],["T_VARIABLE","$context",568],",",["T_WHITESPACE"," ",568],["T_CALLABLE","callable",568],["T_WHITESPACE"," ",568],["T_VARIABLE","$callable",568],")",["T_WHITESPACE"," ",568],"{",["T_WHITESPACE","\n    ",568],["T_COMMENT","\/\/ Store the current render context.\n",569],["T_WHITESPACE","    ",570],["T_VARIABLE","$previous_context",570],["T_WHITESPACE"," ",570],"=",["T_WHITESPACE"," ",570],["T_VARIABLE","$this",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","getCurrentRenderContext",570],"(",")",";",["T_WHITESPACE","\n\n    ",570],["T_COMMENT","\/\/ Set the provided context and call the callable, it will use that context.\n",572],["T_WHITESPACE","    ",573],["T_VARIABLE","$this",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","setCurrentRenderContext",573],"(",["T_VARIABLE","$context",573],")",";",["T_WHITESPACE","\n    ",573],["T_VARIABLE","$result",574],["T_WHITESPACE"," ",574],"=",["T_WHITESPACE"," ",574],["T_VARIABLE","$callable",574],"(",")",";",["T_WHITESPACE","\n    ",574],["T_COMMENT","\/\/ @todo Convert to an assertion in https:\/\/www.drupal.org\/node\/2408013\n",575],["T_WHITESPACE","    ",576],["T_IF","if",576],["T_WHITESPACE"," ",576],"(",["T_VARIABLE","$context",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","count",576],"(",")",["T_WHITESPACE"," ",576],">",["T_WHITESPACE"," ",576],["T_LNUMBER","1",576],")",["T_WHITESPACE"," ",576],"{",["T_WHITESPACE","\n      ",576],["T_THROW","throw",577],["T_WHITESPACE"," ",577],["T_NEW","new",577],["T_WHITESPACE"," ",577],["T_NS_SEPARATOR","\\",577],["T_STRING","LogicException",577],"(",["T_CONSTANT_ENCAPSED_STRING","'Bubbling failed.'",577],")",";",["T_WHITESPACE","\n    ",577],"}",["T_WHITESPACE","\n\n    ",578],["T_COMMENT","\/\/ Restore the original render context.\n",580],["T_WHITESPACE","    ",581],["T_VARIABLE","$this",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","setCurrentRenderContext",581],"(",["T_VARIABLE","$previous_context",581],")",";",["T_WHITESPACE","\n\n    ",581],["T_RETURN","return",583],["T_WHITESPACE"," ",583],["T_VARIABLE","$result",583],";",["T_WHITESPACE","\n  ",583],"}",["T_WHITESPACE","\n\n  ",584],["T_DOC_COMMENT","\/**\n   * Returns the current render context.\n   *\n   * @return \\Drupal\\Core\\Render\\RenderContext\n   *   The current render context.\n   *\/",586],["T_WHITESPACE","\n  ",591],["T_PROTECTED","protected",592],["T_WHITESPACE"," ",592],["T_FUNCTION","function",592],["T_WHITESPACE"," ",592],["T_STRING","getCurrentRenderContext",592],"(",")",["T_WHITESPACE"," ",592],"{",["T_WHITESPACE","\n    ",592],["T_VARIABLE","$request",593],["T_WHITESPACE"," ",593],"=",["T_WHITESPACE"," ",593],["T_VARIABLE","$this",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","requestStack",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","getCurrentRequest",593],"(",")",";",["T_WHITESPACE","\n    ",593],["T_RETURN","return",594],["T_WHITESPACE"," ",594],["T_ISSET","isset",594],"(",["T_STATIC","static",594],["T_DOUBLE_COLON","::",594],["T_VARIABLE","$contextCollection",594],"[",["T_VARIABLE","$request",594],"]",")",["T_WHITESPACE"," ",594],"?",["T_WHITESPACE"," ",594],["T_STATIC","static",594],["T_DOUBLE_COLON","::",594],["T_VARIABLE","$contextCollection",594],"[",["T_VARIABLE","$request",594],"]",["T_WHITESPACE"," ",594],":",["T_WHITESPACE"," ",594],["T_STRING","NULL",594],";",["T_WHITESPACE","\n  ",594],"}",["T_WHITESPACE","\n\n  ",595],["T_DOC_COMMENT","\/**\n   * Sets the current render context.\n   *\n   * @param \\Drupal\\Core\\Render\\RenderContext|null $context\n   *   The render context. This can be NULL for instance when restoring the\n   *   original render context, which is in fact NULL.\n   *\n   * @return $this\n   *\/",597],["T_WHITESPACE","\n  ",605],["T_PROTECTED","protected",606],["T_WHITESPACE"," ",606],["T_FUNCTION","function",606],["T_WHITESPACE"," ",606],["T_STRING","setCurrentRenderContext",606],"(",["T_STRING","RenderContext",606],["T_WHITESPACE"," ",606],["T_VARIABLE","$context",606],["T_WHITESPACE"," ",606],"=",["T_WHITESPACE"," ",606],["T_STRING","NULL",606],")",["T_WHITESPACE"," ",606],"{",["T_WHITESPACE","\n    ",606],["T_VARIABLE","$request",607],["T_WHITESPACE"," ",607],"=",["T_WHITESPACE"," ",607],["T_VARIABLE","$this",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","requestStack",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","getCurrentRequest",607],"(",")",";",["T_WHITESPACE","\n    ",607],["T_STATIC","static",608],["T_DOUBLE_COLON","::",608],["T_VARIABLE","$contextCollection",608],"[",["T_VARIABLE","$request",608],"]",["T_WHITESPACE"," ",608],"=",["T_WHITESPACE"," ",608],["T_VARIABLE","$context",608],";",["T_WHITESPACE","\n    ",608],["T_RETURN","return",609],["T_WHITESPACE"," ",609],["T_VARIABLE","$this",609],";",["T_WHITESPACE","\n  ",609],"}",["T_WHITESPACE","\n\n  ",610],["T_DOC_COMMENT","\/**\n   * Replaces placeholders.\n   *\n   * Placeholders may have:\n   * - #lazy_builder callback, to build a render array to be rendered into\n   *   markup that can replace the placeholder\n   * - #cache: to cache the result of the placeholder\n   *\n   * Also merges the bubbleable metadata resulting from the rendering of the\n   * contents of the placeholders. Hence $elements will be contain the entirety\n   * of bubbleable metadata.\n   *\n   * @param array &$elements\n   *   The structured array describing the data being rendered. Including the\n   *   bubbleable metadata associated with the markup that replaced the\n   *   placeholders.\n   *\n   * @returns bool\n   *   Whether placeholders were replaced.\n   *\n   * @see \\Drupal\\Core\\Render\\Renderer::renderPlaceholder()\n   *\/",612],["T_WHITESPACE","\n  ",633],["T_PROTECTED","protected",634],["T_WHITESPACE"," ",634],["T_FUNCTION","function",634],["T_WHITESPACE"," ",634],["T_STRING","replacePlaceholders",634],"(",["T_ARRAY","array",634],["T_WHITESPACE"," ",634],"&",["T_VARIABLE","$elements",634],")",["T_WHITESPACE"," ",634],"{",["T_WHITESPACE","\n    ",634],["T_IF","if",635],["T_WHITESPACE"," ",635],"(","!",["T_ISSET","isset",635],"(",["T_VARIABLE","$elements",635],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",635],"]","[",["T_CONSTANT_ENCAPSED_STRING","'placeholders'",635],"]",")",["T_WHITESPACE"," ",635],["T_BOOLEAN_OR","||",635],["T_WHITESPACE"," ",635],["T_EMPTY","empty",635],"(",["T_VARIABLE","$elements",635],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",635],"]","[",["T_CONSTANT_ENCAPSED_STRING","'placeholders'",635],"]",")",")",["T_WHITESPACE"," ",635],"{",["T_WHITESPACE","\n      ",635],["T_RETURN","return",636],["T_WHITESPACE"," ",636],["T_STRING","FALSE",636],";",["T_WHITESPACE","\n    ",636],"}",["T_WHITESPACE","\n\n    ",637],["T_COMMENT","\/\/ The 'status messages' placeholder needs to be special cased, because it\n",639],["T_WHITESPACE","    ",640],["T_COMMENT","\/\/ depends on global state that can be modified when other placeholders are\n",640],["T_WHITESPACE","    ",641],["T_COMMENT","\/\/ being rendered: any code can add messages to render.\n",641],["T_WHITESPACE","    ",642],["T_COMMENT","\/\/ This violates the principle that each lazy builder must be able to render\n",642],["T_WHITESPACE","    ",643],["T_COMMENT","\/\/ itself in isolation, and therefore in any order. However, we cannot\n",643],["T_WHITESPACE","    ",644],["T_COMMENT","\/\/ change the way drupal_set_message() works in the Drupal 8 cycle. So we\n",644],["T_WHITESPACE","    ",645],["T_COMMENT","\/\/ have to accommodate its special needs.\n",645],["T_WHITESPACE","    ",646],["T_COMMENT","\/\/ Allowing placeholders to be rendered in a particular order (in this case:\n",646],["T_WHITESPACE","    ",647],["T_COMMENT","\/\/ last) would violate this isolation principle. Thus a monopoly is granted\n",647],["T_WHITESPACE","    ",648],["T_COMMENT","\/\/ to this one special case, with this hard-coded solution.\n",648],["T_WHITESPACE","    ",649],["T_COMMENT","\/\/ @see \\Drupal\\Core\\Render\\Element\\StatusMessages\n",649],["T_WHITESPACE","    ",650],["T_COMMENT","\/\/ @see https:\/\/www.drupal.org\/node\/2712935#comment-11368923\n",650],["T_WHITESPACE","\n    ",651],["T_COMMENT","\/\/ First render all placeholders except 'status messages' placeholders.\n",652],["T_WHITESPACE","    ",653],["T_VARIABLE","$message_placeholders",653],["T_WHITESPACE"," ",653],"=",["T_WHITESPACE"," ",653],"[","]",";",["T_WHITESPACE","\n    ",653],["T_FOREACH","foreach",654],["T_WHITESPACE"," ",654],"(",["T_VARIABLE","$elements",654],"[",["T_CONSTANT_ENCAPSED_STRING","'#attached'",654],"]","[",["T_CONSTANT_ENCAPSED_STRING","'placeholders'",654],"]",["T_WHITESPACE"," ",654],["T_AS","as",654],["T_WHITESPACE"," ",654],["T_VARIABLE","$placeholder",654],["T_WHITESPACE"," ",654],["T_DOUBLE_ARROW","=>",654],["T_WHITESPACE"," ",654],["T_VARIABLE","$placeholder_element",654],")",["T_WHITESPACE"," ",654],"{",["T_WHITESPACE","\n      ",654],["T_IF","if",655],["T_WHITESPACE"," ",655],"(",["T_ISSET","isset",655],"(",["T_VARIABLE","$placeholder_element",655],"[",["T_CONSTANT_ENCAPSED_STRING","'#lazy_builder'",655],"]",")",["T_WHITESPACE"," ",655],["T_BOOLEAN_AND","&&",655],["T_WHITESPACE"," ",655],["T_VARIABLE","$placeholder_element",655],"[",["T_CONSTANT_ENCAPSED_STRING","'#lazy_builder'",655],"]","[",["T_LNUMBER","0",655],"]",["T_WHITESPACE"," ",655],["T_IS_IDENTICAL","===",655],["T_WHITESPACE"," ",655],["T_CONSTANT_ENCAPSED_STRING","'Drupal\\Core\\Render\\Element\\StatusMessages::renderMessages'",655],")",["T_WHITESPACE"," ",655],"{",["T_WHITESPACE","\n        ",655],["T_VARIABLE","$message_placeholders",656],"[","]",["T_WHITESPACE"," ",656],"=",["T_WHITESPACE"," ",656],["T_VARIABLE","$placeholder",656],";",["T_WHITESPACE","\n      ",656],"}",["T_WHITESPACE","\n      ",657],["T_ELSE","else",658],["T_WHITESPACE"," ",658],"{",["T_WHITESPACE","\n        ",658],["T_VARIABLE","$elements",659],["T_WHITESPACE"," ",659],"=",["T_WHITESPACE"," ",659],["T_VARIABLE","$this",659],["T_OBJECT_OPERATOR","->",659],["T_STRING","renderPlaceholder",659],"(",["T_VARIABLE","$placeholder",659],",",["T_WHITESPACE"," ",659],["T_VARIABLE","$elements",659],")",";",["T_WHITESPACE","\n      ",659],"}",["T_WHITESPACE","\n    ",660],"}",["T_WHITESPACE","\n\n    ",661],["T_COMMENT","\/\/ Then render 'status messages' placeholders.\n",663],["T_WHITESPACE","    ",664],["T_FOREACH","foreach",664],["T_WHITESPACE"," ",664],"(",["T_VARIABLE","$message_placeholders",664],["T_WHITESPACE"," ",664],["T_AS","as",664],["T_WHITESPACE"," ",664],["T_VARIABLE","$message_placeholder",664],")",["T_WHITESPACE"," ",664],"{",["T_WHITESPACE","\n      ",664],["T_VARIABLE","$elements",665],["T_WHITESPACE"," ",665],"=",["T_WHITESPACE"," ",665],["T_VARIABLE","$this",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","renderPlaceholder",665],"(",["T_VARIABLE","$message_placeholder",665],",",["T_WHITESPACE"," ",665],["T_VARIABLE","$elements",665],")",";",["T_WHITESPACE","\n    ",665],"}",["T_WHITESPACE","\n\n    ",666],["T_RETURN","return",668],["T_WHITESPACE"," ",668],["T_STRING","TRUE",668],";",["T_WHITESPACE","\n  ",668],"}",["T_WHITESPACE","\n\n  ",669],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",671],["T_WHITESPACE","\n  ",673],["T_PUBLIC","public",674],["T_WHITESPACE"," ",674],["T_FUNCTION","function",674],["T_WHITESPACE"," ",674],["T_STRING","mergeBubbleableMetadata",674],"(",["T_ARRAY","array",674],["T_WHITESPACE"," ",674],["T_VARIABLE","$a",674],",",["T_WHITESPACE"," ",674],["T_ARRAY","array",674],["T_WHITESPACE"," ",674],["T_VARIABLE","$b",674],")",["T_WHITESPACE"," ",674],"{",["T_WHITESPACE","\n    ",674],["T_VARIABLE","$meta_a",675],["T_WHITESPACE"," ",675],"=",["T_WHITESPACE"," ",675],["T_STRING","BubbleableMetadata",675],["T_DOUBLE_COLON","::",675],["T_STRING","createFromRenderArray",675],"(",["T_VARIABLE","$a",675],")",";",["T_WHITESPACE","\n    ",675],["T_VARIABLE","$meta_b",676],["T_WHITESPACE"," ",676],"=",["T_WHITESPACE"," ",676],["T_STRING","BubbleableMetadata",676],["T_DOUBLE_COLON","::",676],["T_STRING","createFromRenderArray",676],"(",["T_VARIABLE","$b",676],")",";",["T_WHITESPACE","\n    ",676],["T_VARIABLE","$meta_a",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","merge",677],"(",["T_VARIABLE","$meta_b",677],")",["T_OBJECT_OPERATOR","->",677],["T_STRING","applyTo",677],"(",["T_VARIABLE","$a",677],")",";",["T_WHITESPACE","\n    ",677],["T_RETURN","return",678],["T_WHITESPACE"," ",678],["T_VARIABLE","$a",678],";",["T_WHITESPACE","\n  ",678],"}",["T_WHITESPACE","\n\n  ",679],["T_DOC_COMMENT","\/**\n   * {@inheritdoc}\n   *\/",681],["T_WHITESPACE","\n  ",683],["T_PUBLIC","public",684],["T_WHITESPACE"," ",684],["T_FUNCTION","function",684],["T_WHITESPACE"," ",684],["T_STRING","addCacheableDependency",684],"(",["T_ARRAY","array",684],["T_WHITESPACE"," ",684],"&",["T_VARIABLE","$elements",684],",",["T_WHITESPACE"," ",684],["T_VARIABLE","$dependency",684],")",["T_WHITESPACE"," ",684],"{",["T_WHITESPACE","\n    ",684],["T_VARIABLE","$meta_a",685],["T_WHITESPACE"," ",685],"=",["T_WHITESPACE"," ",685],["T_STRING","CacheableMetadata",685],["T_DOUBLE_COLON","::",685],["T_STRING","createFromRenderArray",685],"(",["T_VARIABLE","$elements",685],")",";",["T_WHITESPACE","\n    ",685],["T_VARIABLE","$meta_b",686],["T_WHITESPACE"," ",686],"=",["T_WHITESPACE"," ",686],["T_STRING","CacheableMetadata",686],["T_DOUBLE_COLON","::",686],["T_STRING","createFromObject",686],"(",["T_VARIABLE","$dependency",686],")",";",["T_WHITESPACE","\n    ",686],["T_VARIABLE","$meta_a",687],["T_OBJECT_OPERATOR","->",687],["T_STRING","merge",687],"(",["T_VARIABLE","$meta_b",687],")",["T_OBJECT_OPERATOR","->",687],["T_STRING","applyTo",687],"(",["T_VARIABLE","$elements",687],")",";",["T_WHITESPACE","\n  ",687],"}",["T_WHITESPACE","\n\n  ",688],["T_DOC_COMMENT","\/**\n   * Applies a very permissive XSS\/HTML filter for admin-only use.\n   *\n   * Note: This method only filters if $string is not marked safe already. This\n   * ensures that HTML intended for display is not filtered.\n   *\n   * @param string|\\Drupal\\Core\\Render\\Markup $string\n   *   A string.\n   *\n   * @return \\Drupal\\Core\\Render\\Markup\n   *   The escaped string wrapped in a Markup object. If the string is an\n   *   instance of \\Drupal\\Component\\Render\\MarkupInterface, it won't be escaped\n   *   again.\n   *\/",690],["T_WHITESPACE","\n  ",703],["T_PROTECTED","protected",704],["T_WHITESPACE"," ",704],["T_FUNCTION","function",704],["T_WHITESPACE"," ",704],["T_STRING","xssFilterAdminIfUnsafe",704],"(",["T_VARIABLE","$string",704],")",["T_WHITESPACE"," ",704],"{",["T_WHITESPACE","\n    ",704],["T_IF","if",705],["T_WHITESPACE"," ",705],"(","!","(",["T_VARIABLE","$string",705],["T_WHITESPACE"," ",705],["T_INSTANCEOF","instanceof",705],["T_WHITESPACE"," ",705],["T_STRING","MarkupInterface",705],")",")",["T_WHITESPACE"," ",705],"{",["T_WHITESPACE","\n      ",705],["T_VARIABLE","$string",706],["T_WHITESPACE"," ",706],"=",["T_WHITESPACE"," ",706],["T_STRING","Xss",706],["T_DOUBLE_COLON","::",706],["T_STRING","filterAdmin",706],"(",["T_VARIABLE","$string",706],")",";",["T_WHITESPACE","\n    ",706],"}",["T_WHITESPACE","\n    ",707],["T_RETURN","return",708],["T_WHITESPACE"," ",708],["T_STRING","Markup",708],["T_DOUBLE_COLON","::",708],["T_STRING","create",708],"(",["T_VARIABLE","$string",708],")",";",["T_WHITESPACE","\n  ",708],"}",["T_WHITESPACE","\n\n  ",709],["T_DOC_COMMENT","\/**\n   * Escapes #plain_text or filters #markup as required.\n   *\n   * Drupal uses Twig's auto-escape feature to improve security. This feature\n   * automatically escapes any HTML that is not known to be safe. Due to this\n   * the render system needs to ensure that all markup it generates is marked\n   * safe so that Twig does not do any additional escaping.\n   *\n   * By default all #markup is filtered to protect against XSS using the admin\n   * tag list. Render arrays can alter the list of tags allowed by the filter\n   * using the #allowed_tags property. This value should be an array of tags\n   * that Xss::filter() would accept. Render arrays can escape text instead\n   * of XSS filtering by setting the #plain_text property instead of #markup. If\n   * #plain_text is used #allowed_tags is ignored.\n   *\n   * @param array $elements\n   *   A render array with #markup set.\n   *\n   * @return \\Drupal\\Component\\Render\\MarkupInterface|string\n   *   The escaped markup wrapped in a Markup object. If $elements['#markup']\n   *   is an instance of \\Drupal\\Component\\Render\\MarkupInterface, it won't be\n   *   escaped or filtered again.\n   *\n   * @see \\Drupal\\Component\\Utility\\Html::escape()\n   * @see \\Drupal\\Component\\Utility\\Xss::filter()\n   * @see \\Drupal\\Component\\Utility\\Xss::filterAdmin()\n   *\/",711],["T_WHITESPACE","\n  ",737],["T_PROTECTED","protected",738],["T_WHITESPACE"," ",738],["T_FUNCTION","function",738],["T_WHITESPACE"," ",738],["T_STRING","ensureMarkupIsSafe",738],"(",["T_ARRAY","array",738],["T_WHITESPACE"," ",738],["T_VARIABLE","$elements",738],")",["T_WHITESPACE"," ",738],"{",["T_WHITESPACE","\n    ",738],["T_IF","if",739],["T_WHITESPACE"," ",739],"(",["T_EMPTY","empty",739],"(",["T_VARIABLE","$elements",739],"[",["T_CONSTANT_ENCAPSED_STRING","'#markup'",739],"]",")",["T_WHITESPACE"," ",739],["T_BOOLEAN_AND","&&",739],["T_WHITESPACE"," ",739],["T_EMPTY","empty",739],"(",["T_VARIABLE","$elements",739],"[",["T_CONSTANT_ENCAPSED_STRING","'#plain_text'",739],"]",")",")",["T_WHITESPACE"," ",739],"{",["T_WHITESPACE","\n      ",739],["T_RETURN","return",740],["T_WHITESPACE"," ",740],["T_VARIABLE","$elements",740],";",["T_WHITESPACE","\n    ",740],"}",["T_WHITESPACE","\n\n    ",741],["T_IF","if",743],["T_WHITESPACE"," ",743],"(","!",["T_EMPTY","empty",743],"(",["T_VARIABLE","$elements",743],"[",["T_CONSTANT_ENCAPSED_STRING","'#plain_text'",743],"]",")",")",["T_WHITESPACE"," ",743],"{",["T_WHITESPACE","\n      ",743],["T_VARIABLE","$elements",744],"[",["T_CONSTANT_ENCAPSED_STRING","'#markup'",744],"]",["T_WHITESPACE"," ",744],"=",["T_WHITESPACE"," ",744],["T_STRING","Markup",744],["T_DOUBLE_COLON","::",744],["T_STRING","create",744],"(",["T_STRING","Html",744],["T_DOUBLE_COLON","::",744],["T_STRING","escape",744],"(",["T_VARIABLE","$elements",744],"[",["T_CONSTANT_ENCAPSED_STRING","'#plain_text'",744],"]",")",")",";",["T_WHITESPACE","\n    ",744],"}",["T_WHITESPACE","\n    ",745],["T_ELSEIF","elseif",746],["T_WHITESPACE"," ",746],"(","!","(",["T_VARIABLE","$elements",746],"[",["T_CONSTANT_ENCAPSED_STRING","'#markup'",746],"]",["T_WHITESPACE"," ",746],["T_INSTANCEOF","instanceof",746],["T_WHITESPACE"," ",746],["T_STRING","MarkupInterface",746],")",")",["T_WHITESPACE"," ",746],"{",["T_WHITESPACE","\n      ",746],["T_COMMENT","\/\/ The default behaviour is to XSS filter using the admin tag list.\n",747],["T_WHITESPACE","      ",748],["T_VARIABLE","$tags",748],["T_WHITESPACE"," ",748],"=",["T_WHITESPACE"," ",748],["T_ISSET","isset",748],"(",["T_VARIABLE","$elements",748],"[",["T_CONSTANT_ENCAPSED_STRING","'#allowed_tags'",748],"]",")",["T_WHITESPACE"," ",748],"?",["T_WHITESPACE"," ",748],["T_VARIABLE","$elements",748],"[",["T_CONSTANT_ENCAPSED_STRING","'#allowed_tags'",748],"]",["T_WHITESPACE"," ",748],":",["T_WHITESPACE"," ",748],["T_STRING","Xss",748],["T_DOUBLE_COLON","::",748],["T_STRING","getAdminTagList",748],"(",")",";",["T_WHITESPACE","\n      ",748],["T_VARIABLE","$elements",749],"[",["T_CONSTANT_ENCAPSED_STRING","'#markup'",749],"]",["T_WHITESPACE"," ",749],"=",["T_WHITESPACE"," ",749],["T_STRING","Markup",749],["T_DOUBLE_COLON","::",749],["T_STRING","create",749],"(",["T_STRING","Xss",749],["T_DOUBLE_COLON","::",749],["T_STRING","filter",749],"(",["T_VARIABLE","$elements",749],"[",["T_CONSTANT_ENCAPSED_STRING","'#markup'",749],"]",",",["T_WHITESPACE"," ",749],["T_VARIABLE","$tags",749],")",")",";",["T_WHITESPACE","\n    ",749],"}",["T_WHITESPACE","\n\n    ",750],["T_RETURN","return",752],["T_WHITESPACE"," ",752],["T_VARIABLE","$elements",752],";",["T_WHITESPACE","\n  ",752],"}",["T_WHITESPACE","\n\n",753],"}",["T_WHITESPACE","\n",755]]